---
import CategoryPagination from './_CategoryPagination.astro';
import SubCategory from './_SubCategory.astro';

export const prerender = false;

const { category, subcategory } = Astro.params;

if (!category || !subcategory) {
  return Astro.redirect('/freedevtools/man-pages/');
}


const isNumericPage = /^\d+$/.test(subcategory);
---
<!-- If subcategory is numeric, it's a pagination page eg: /man-pages/user-commands/2/ -->
{isNumericPage ? (
  <CategoryPagination category={category} page={subcategory} />
) : (
  // If subcategory is not numeric, it's a subcategory eg: /man-pages/user-commands/
  <SubCategory category={category} subcategory={subcategory} />
)}
