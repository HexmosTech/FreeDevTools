---
import PaginationView from './_SubCategoryPagination.astro';
import PageView from './_Page.astro';

export const prerender = false;

const { category, subcategory, slug } = Astro.params;

// Ensure all required params are present
if (!category || !subcategory || !slug) {
  return Astro.redirect('/freedevtools/man-pages/');
}

// Check if slug is numeric (pagination)
const isNumericPage = /^\d+$/.test(slug);
---

{isNumericPage ? (
  // If numeric, it's a pagination page eg: /man-pages/linux/commands/2/
  <PaginationView category={category} subcategory={subcategory} page={slug} />
) : (
  // If not numeric, it's a man page eg: /man-pages/linux/commands/ddttrf/
  <PageView category={category} subcategory={subcategory} slug={slug} />
)}
