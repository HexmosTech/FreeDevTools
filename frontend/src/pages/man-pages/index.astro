---
import AdBanner from '@/components/banner/AdBanner.astro';
import CreditsButton from '@/components/buttons/CreditsButton';
import ToolContainer from '@/components/tool/ToolContainer';
import ToolHead from '@/components/tool/ToolHead';
import BaseLayout from '@/layouts/BaseLayout.astro';
import { getManPageCategories, getOverview } from '@/lib/man-pages-utils';

// Get categories from database
const categories = getManPageCategories();

// Get overview stats
const overview = getOverview();

const breadcrumbItems = [
  { label: 'Free DevTools', href: '/freedevtools/' },
  { label: 'Man Pages' },
];
---

<BaseLayout
  name="Man Pages"
  title="Man Pages - Manual Pages Documentation | Free DevTools by Hexmos"
  path="/freedevtools/man-pages/"
  description="Browse and search manual pages (man pages) with detailed documentation for system calls, commands, and configuration files. Interactive man page viewer."
  canonical="https://hexmos.com/freedevtools/man-pages/"
  keywords={['man pages', 'manual', 'documentation', 'system calls', 'commands']}
  ogImage="https://hexmos.com/freedevtools/tool-banners/man-pages-banner.png"
  twitterImage="https://hexmos.com/freedevtools/tool-banners/man-pages-banner.png"
  datePublished="2025-01-30"
  softwareVersion="1.0.0"
  features={[
    'Interactive man page viewer',
    'Search functionality',
    'Categorized documentation',
    'Cross-referenced links',
  ]}
>
  <ToolContainer>
    <div class="mb-16 mt-[74px]">
      <AdBanner />
    </div>
    <ToolHead
      name="Man Pages"
      description="Browse and search manual pages with detailed documentation for system calls, commands, and configuration files."
      breadcrumbItems={breadcrumbItems}
    />

    <!-- Overview Stats -->
    <div class="text-center">
      <div class="grid grid-cols-2 gap-6 mt-8">
        <div class="text-center">
          <div class="text-3xl font-bold text-blue-600">{categories.length >= 1000 ? Math.round(categories.length / 1000) + 'k' : categories.length}</div>
          <div class="text-sm text-gray-600 dark:text-gray-400">Categories</div>
        </div>
        <div class="text-center">
          <div class="text-3xl font-bold text-green-600">
            {(overview?.total_count || 0) >= 1000 ? Math.round((overview?.total_count || 0) / 1000) + 'k' : (overview?.total_count || 0)}
          </div>
          <div class="text-sm text-gray-600 dark:text-gray-400">Man Pages</div>
        </div>
      </div>
    </div>

    <!-- Man Pages Categories Grid -->
    <div class="mt-8">
      <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
        {categories.map((category) => (
          <a
            href={`/freedevtools/man-pages/${category.category}/`}
            class="block bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-lg p-6 hover:shadow-lg transition-shadow"
          >
            <div class="flex items-start justify-between mb-3">
              <h3 class="text-lg font-semibold text-gray-900 dark:text-gray-100 capitalize">
                {category.category.replace('-', ' ')}
              </h3>
              <span class="text-xs font-mono bg-blue-100 dark:bg-blue-900/20 text-blue-800 dark:text-blue-400 px-2 py-1 rounded">
                {category.count >= 1000 ? Math.round(category.count / 1000) + 'k' : category.count} pages
              </span>
            </div>
            <p class="text-sm text-gray-600 dark:text-gray-400 mb-4">
              {category.description}
            </p>
          </a>
        ))}
      </div>
    </div>

    <!-- Credits Section -->
    <div class="mt-10 pt-6 mb-8 border-t border-slate-200 dark:border-slate-700">
      <div class="flex flex-wrap gap-4">
        <CreditsButton href="/freedevtools/man-pages/credits/" />
      </div>
    </div>
  </ToolContainer>
</BaseLayout>