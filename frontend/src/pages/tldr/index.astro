---
import BaseLayout from '../../layouts/BaseLayout.astro';
import { getTldrIndex } from '../../../db/tldrs/tldr-utils';
import Tldr from './_Tldr.astro';

export const prerender = false;

const result = await getTldrIndex(1);

if (!result) { return Astro.redirect('/404'); }
const { currentPage, totalPages, totalPlatforms, currentPagePlatforms,
totalCommands, breadcrumbItems, seoTitle, seoDescription, canonical,
paginatedKeywords, itemsPerPage, } = result; --- <BaseLayout name="TLDR"
path={`/freedevtools/tldr/`} title={seoTitle} description={seoDescription}
canonical={canonical}
showHeader={true}
totalItems={totalPlatforms}
itemsPerPage={itemsPerPage}
currentPage={currentPage}
category="TLDR" partOf="Free DevTools" partOfUrl="https://hexmos.com/freedevtools/"
keywords={paginatedKeywords}
features={
  [
    'Quick Reference',
    'Platform Specific',
    'Practical Examples',
    'No Registration',
  ]
}
>
<Tldr
  platforms={currentPagePlatforms}
  currentPage={currentPage}
  totalPages={totalPages}
  totalPlatforms={totalPlatforms}
  totalCommands={totalCommands}
  breadcrumbItems={breadcrumbItems}
/>
