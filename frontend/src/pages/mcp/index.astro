---
import BaseLayout from '@/layouts/BaseLayout.astro';
import { loadMcpData } from '@/lib/mcp-data-processor.tsx';
import Mcp from './_Mcp';

// Load data from input.json
const { servers, tools, clients, categories, metadata } = await loadMcpData();

// Get counts from processed data
const totalServers = metadata.totalServers;
const totalTools = metadata.totalTools;
const totalClients = metadata.totalClients;
const totalCategories = metadata.totalCategories;
const totalResources = totalServers + totalTools + totalClients;

// SEO Data
const title = `MCP Directory - Browse ${totalServers.toLocaleString()}+ Model Context Protocol Repositories | Free DevTools by Hexmos`;
const description = `Discover ${totalServers.toLocaleString()}+ MCP repositories for AI agents. Browse by category, filter by license, and find the perfect Model Context Protocol resources for your project.`;
const keywords = [
  'mcp directory',
  'model context protocol',
  'mcp servers',
  'mcp tools', 
  'mcp clients',
  'ai agent tools',
  'open source mcp',
  'mcp browser',
  'free mcp resources'
];

// Breadcrumb data
const breadcrumbItems = [
  { label: 'Free DevTools', href: '/freedevtools/' },
  { label: 'MCP Directory' }
];
---

<BaseLayout 
  name="MCP Directory"
  title={title}
  path="/freedevtools/mcp/"
  description={description}
  canonical="https://hexmos.com/freedevtools/mcp/"
  themeColor="#3b82f6"
  keywords={keywords}
  ogImage="https://hexmos.com/freedevtools/tool-banners/mcp-directory-banner.png"
  twitterImage="https://hexmos.com/freedevtools/tool-banners/mcp-directory-banner.png"
  datePublished="2025-01-30"
  softwareVersion="1.0.0"
  features={[
    `Browse ${totalServers.toLocaleString()}+ MCP repositories`,
    `Explore ${totalCategories} categories`,
    'Filter by category and license',
    'Search and sort functionality'
  ]}
>
    <Mcp 
      serversCount={totalServers}
      toolsCount={totalTools}
      clientsCount={totalClients}
      categoriesCount={totalCategories}
      categories={categories}
      breadcrumbItems={breadcrumbItems}
      client:load 
    />
</BaseLayout>
