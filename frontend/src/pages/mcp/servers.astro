---
import Breadcrumb from '@/components/Breadcrumb';
import BaseLayout from '@/layouts/BaseLayout.astro';
import McpServers from './_McpServers';
import categoriesData from './data/categories.json';
import serversData from './data/servers.json';

// Get data from JSON files
const totalServers = serversData.pagination.total;
const totalPages = Math.ceil(serversData.pagination.total / serversData.pagination.perPage);
const initialServers = serversData.servers.slice(0, 20);

// SEO Data
const title = `MCP Servers - Browse ${totalServers.toLocaleString()}+ Model Context Protocol Servers | Free DevTools by Hexmos`;
const description = `Discover ${totalServers.toLocaleString()}+ MCP servers for AI agents. Browse by category, filter by license, and find the perfect Model Context Protocol server for your project. Free, fast, no registration required.`;
const keywords = [
  'mcp servers',
  'model context protocol servers', 
  'ai agent servers',
  'mcp server directory',
  'free mcp servers',
  'open source mcp',
  'ai tools servers',
  'mcp server browser'
];

// Breadcrumb data
const breadcrumbItems = [
  { label: 'Free DevTools', href: '/freedevtools/' },
  { label: 'MCP Directory', href: '/freedevtools/mcp/' },
  { label: 'MCP Servers' }
];
---

<BaseLayout 
  name="MCP Servers"
  title={title}
  path="/freedevtools/mcp/servers/"
  description={description}
  canonical="https://hexmos.com/freedevtools/mcp/servers/"
  themeColor="#3b82f6"
  keywords={keywords}
  ogImage="https://hexmos.com/freedevtools/tool-banners/mcp-servers-banner.png"
  twitterImage="https://hexmos.com/freedevtools/tool-banners/mcp-servers-banner.png"
  datePublished="2025-01-30"
  softwareVersion="1.0.0"
  features={[
    `Browse ${totalServers.toLocaleString()}+ MCP servers`,
    'Filter by category and license',
    'Search and sort functionality',
    'Detailed server information',
    'GitHub integration'
  ]}
>
  <div class="max-w-6xl mx-auto px-2 md:px-6">
    <McpServers 
      breadcrumbItems={breadcrumbItems}
      initialServers={initialServers}
      categories={categoriesData.categories}
      pagination={serversData.pagination}
      filters={serversData.filters}
      totalPages={totalPages}
      client:load 
    />
  </div>
</BaseLayout>
