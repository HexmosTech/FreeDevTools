<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>zpool_influxdb — collect ZFS pool statistics in InfluxDB line protocol format</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/zfsutils-linux">zfsutils-linux_2.3.1-1ubuntu2_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       zpool_influxdb — collect ZFS pool statistics in InfluxDB line protocol format

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>zpool_influxdb</b>           [<b>-e</b>|<b>--execd</b>]           [<b>-n</b>|<b>--no-histogram</b>]          [<b>-s</b>|<b>--sum-histogram-buckets</b>]
                      [<b>-t</b>|<b>--tags</b> <u>key</u>=<u>value</u>[,<u>key</u>=<u>value</u>]…] [<u>pool</u>]

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>zpool_influxdb</b> produces InfluxDB-line-protocol-compatible metrics from zpools.  Like the  <b>zpool</b>  command,
       <b>zpool_influxdb</b>  reads the current pool status and statistics.  Unlike the <b>zpool</b> command which is intended
       for humans, <b>zpool_influxdb</b> formats the output in the InfluxDB line protocol.  The expected use  is  as  a
       plugin to a metrics collector or aggregator, such as Telegraf.

       By  default,  <b>zpool_influxdb</b>  prints  pool  metrics and status in the InfluxDB line protocol format.  All
       pools are printed, similar to the <b>zpool</b> <b>status</b> command.  Providing a pool name restricts  the  output  to
       the named pool.

</pre><h4><b>OPTIONS</b></h4><pre>
       <b>-e</b>, <b>--execd</b>  Run  in  daemon  mode  compatible with Telegraf's <b>execd</b> plugin.  In this mode, the pools are
                    sampled every time a newline appears on the standard input.

       <b>-n</b>, <b>--no-histogram</b>
                    Do not print latency and I/O size histograms.  This can reduce the total amount of data, but
                    one  should  consider  the  value  brought  by  the  insights  that  latency  and  I/O  size
                    distributions  provide.   The  resulting  values  are  suitable  for graphing with Grafana's
                    heatmap plugin.

       <b>-s</b>, <b>--sum-histogram-buckets</b>
                    Accumulates bucket values.  By default, the values are not  accumulated  and  the  raw  data
                    appears  as  shown  by <b>zpool</b> <b>iostat</b>.  This works well for Grafana's heatmap plugin.  Summing
                    the buckets produces output similar to Prometheus histograms.

       <b>-t</b>, <b>--tags</b> <u>key</u>=<u>value</u>[,<u>key</u>=<u>value</u>]…
                    Adds specified tags to the tag set.  No sanity checking is performed.  See the InfluxDB Line
                    Protocol format documentation for details on escaping special characters used in tags.

       <b>-h</b>, <b>--help</b>   Print a usage summary.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <u><a href="../man8/zpool-iostat.8.html">zpool-iostat</a></u>(8),    <u><a href="../man8/zpool-status.8.html">zpool-status</a></u>(8),    <u>InfluxDB</u>:    https://github.com/influxdata/influxdb,    <u>Telegraf</u>:
       https://github.com/influxdata/telegraf, <u>Grafana</u>: https://grafana.com, <u>Prometheus</u>: https://prometheus.io

OpenZFS                                           May 26, 2021                                 <u><a href="../man8/ZPOOL_INFLUXDB.8.html">ZPOOL_INFLUXDB</a></u>(8)
</pre>
 </div>
</div></section>
</div>
</body>
</html>