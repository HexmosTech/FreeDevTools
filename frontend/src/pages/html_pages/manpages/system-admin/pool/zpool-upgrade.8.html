<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>zpool-upgrade — manage version and feature flags of ZFS storage pools</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/zfsutils-linux">zfsutils-linux_2.3.2-1ubuntu3_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       zpool-upgrade — manage version and feature flags of ZFS storage pools

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>zpool</b> <b>upgrade</b>
       <b>zpool</b> <b>upgrade</b> <b>-v</b>
       <b>zpool</b> <b>upgrade</b> [<b>-V</b> <u>version</u>] <b>-a</b>|<u>pool</u>…

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>zpool</b> <b>upgrade</b>
               Displays  pools  which  do  not  have  all supported features enabled and pools formatted using a
               legacy ZFS version number.  These pools can continue to be used, but some  features  may  not  be
               available.   Use  <b>zpool</b>  <b>upgrade</b>  <b>-a</b>  to  enable  all  features  on  all pools (subject to the <b>-o</b>
               <b>compatibility</b> property).

       <b>zpool</b> <b>upgrade</b> <b>-v</b>
               Displays legacy ZFS versions supported by the this version of ZFS.  See <u><a href="../man7/zpool-features.7.html">zpool-features</a></u>(7)  for  a
               description of feature flags features supported by this version of ZFS.

       <b>zpool</b> <b>upgrade</b> [<b>-V</b> <u>version</u>] <b>-a</b>|<u>pool</u>…
               Enables all supported features on the given pool.

               If  the  pool  has specified compatibility feature sets using the <b>-o</b> <b>compatibility</b> property, only
               the features present in all requested compatibility sets will be enabled.  If  this  property  is
               set to <u>legacy</u> then no upgrade will take place.

               Once  this  is done, the pool will no longer be accessible on systems that do not support feature
               flags.  See <u><a href="../man7/zpool-features.7.html">zpool-features</a></u>(7) for details on compatibility  with  systems  that  support  feature
               flags, but do not support all features enabled on the pool.

               <b>-a</b>      Enables all supported features (from specified compatibility sets, if any) on all pools.

               <b>-V</b> <u>version</u>
                       Upgrade  to  the  specified legacy version.  If specified, no features will be enabled on
                       the pool.  This option can only be used to increase the version number  up  to  the  last
                       supported legacy version number.

</pre><h4><b>EXAMPLES</b></h4><pre>
   <b>Example</b> <b>1</b>: Upgrading All ZFS Storage Pools to the Current Version
       The following command upgrades all ZFS Storage pools to the current version of the software:
             # <b>zpool</b> <b>upgrade</b> <b>-a</b>
             This system is currently running ZFS version 2.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <u><a href="../man7/zpool-features.7.html">zpool-features</a></u>(7), <u><a href="../man7/zpoolconcepts.7.html">zpoolconcepts</a></u>(7), <u><a href="../man7/zpoolprops.7.html">zpoolprops</a></u>(7), <u><a href="../man8/zpool-history.8.html">zpool-history</a></u>(8)

OpenZFS                                          March 16, 2022                                 <u><a href="../man8/ZPOOL-UPGRADE.8.html">ZPOOL-UPGRADE</a></u>(8)
</pre>
 </div>
</div></section>
</div>
</body>
</html>