<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>zpool-import — import ZFS storage pools or list available pools</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/zfsutils-linux">zfsutils-linux_2.3.2-1ubuntu3_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       zpool-import — import ZFS storage pools or list available pools

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>zpool</b> <b>import</b> [<b>-D</b>] [<b>-d</b> <u>dir</u>|<u>device</u>]…
       <b>zpool</b>  <b>import</b>  <b>-a</b> [<b>-DflmN</b>] [<b>-F</b> [<b>-nTX</b>]] [<b>--rewind-to-checkpoint</b>] [<b>-c</b> <u>cachefile</u>|<b>-d</b> <u>dir</u>|<u>device</u>] [<b>-o</b> <u>mntopts</u>]
             [<b>-o</b> <u>property</u>=<u>value</u>]… [<b>-R</b> <u>root</u>]
       <b>zpool</b> <b>import</b> [<b>-Dflmt</b>] [<b>-F</b> [<b>-nTX</b>]] [<b>--rewind-to-checkpoint</b>] [<b>-c</b> <u>cachefile</u>|<b>-d</b> <u>dir</u>|<u>device</u>] [<b>-o</b> <u>mntopts</u>]  [<b>-o</b>
             <u>property</u>=<u>value</u>]… [<b>-R</b> <u>root</u>] [<b>-s</b>] <u>pool</u>|<u>id</u> [<u>newpool</u>]

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>zpool</b> <b>import</b> [<b>-D</b>] [<b>-d</b> <u>dir</u>|<u>device</u>]…
               Lists  pools  available  to  import.   If  the  <b>-d</b>  or <b>-c</b> options are not specified, this command
               searches for devices using libblkid on Linux and geom on FreeBSD.  The <b>-d</b> option can be specified
               multiple times, and all directories are searched.  If  the  device  appears  to  be  part  of  an
               exported  pool,  this command displays a summary of the pool with the name of the pool, a numeric
               identifier, as well as the vdev layout and current health of the device for each device or  file.
               Destroyed  pools,  pools  that  were previously destroyed with the <b>zpool</b> <b>destroy</b> command, are not
               listed unless the <b>-D</b> option is specified.

               The numeric identifier is unique, and can be used instead of the pool name when multiple exported
               pools of the same name are available.

               <b>-c</b> <u>cachefile</u>
                       Reads configuration from the given <u>cachefile</u> that was created  with  the  <b>cachefile</b>  pool
                       property.  This <u>cachefile</u> is used instead of searching for devices.

               <b>-d</b> <u>dir</u>|<u>device</u>
                       Uses  <u>device</u>  or  searches  for  devices or files in <u>dir</u>.  The <b>-d</b> option can be specified
                       multiple times.

               <b>-D</b>      Lists destroyed pools only.

       <b>zpool</b> <b>import</b> <b>-a</b> [<b>-DflmN</b>] [<b>-F</b> [<b>-nTX</b>]] [<b>-c</b> <u>cachefile</u>|<b>-d</b> <u>dir</u>|<u>device</u>] [<b>-o</b> <u>mntopts</u>] [<b>-o</b>  <u>property</u>=<u>value</u>]…  [<b>-R</b>
               <u>root</u>] [<b>-s</b>]
               Imports  all  pools  found  in the search directories.  Identical to the previous command, except
               that all pools with a sufficient number of devices  available  are  imported.   Destroyed  pools,
               pools  that were previously destroyed with the <b>zpool</b> <b>destroy</b> command, will not be imported unless
               the <b>-D</b> option is specified.

               <b>-a</b>      Searches for and imports all pools found.

               <b>-c</b> <u>cachefile</u>
                       Reads configuration from the given <u>cachefile</u> that was created  with  the  <b>cachefile</b>  pool
                       property.  This <u>cachefile</u> is used instead of searching for devices.

               <b>-d</b> <u>dir</u>|<u>device</u>
                       Uses  <u>device</u>  or  searches  for  devices or files in <u>dir</u>.  The <b>-d</b> option can be specified
                       multiple times.  This option is incompatible with the <b>-c</b> option.

               <b>-D</b>      Imports destroyed pools only.  The <b>-f</b> option is also required.

               <b>-f</b>      Forces import, even if the pool appears to be potentially active.

               <b>-F</b>      Recovery mode for a non-importable pool.  Attempt to return the  pool  to  an  importable
                       state by discarding the last few transactions.  Not all damaged pools can be recovered by
                       using  this  option.   If  successful,  the  data  from  the  discarded  transactions  is
                       irretrievably lost.  This option  is  ignored  if  the  pool  is  importable  or  already
                       imported.

               <b>-l</b>      Indicates  that  this  command will request encryption keys for all encrypted datasets it
                       attempts to mount as it is bringing the pool online.  Note that if any  datasets  have  a
                       <b>keylocation</b>  of  <b>prompt</b>  this  command  will  block  waiting  for the keys to be entered.
                       Without this flag encrypted datasets will be left unavailable until the keys are loaded.

               <b>-m</b>      Allows a pool to import when there is a missing log device.  Recent transactions  can  be
                       lost because the log device will be discarded.

               <b>-n</b>      Used  with  the <b>-F</b> recovery option.  Determines whether a non-importable pool can be made
                       importable again, but does not actually perform the  pool  recovery.   For  more  details
                       about pool recovery mode, see the <b>-F</b> option, above.

               <b>-N</b>      Import the pool without mounting any file systems.

               <b>-o</b> <u>mntopts</u>
                       Comma-separated list of mount options to use when mounting datasets within the pool.  See
                       <u><a href="../man8/zfs.8.html">zfs</a></u>(8) for a description of dataset properties and mount options.

               <b>-o</b> <u>property</u>=<u>value</u>
                       Sets  the specified property on the imported pool.  See the <u><a href="../man7/zpoolprops.7.html">zpoolprops</a></u>(7) manual page for
                       more information on the available pool properties.

               <b>-R</b> <u>root</u>
                       Sets the <b>cachefile</b> property to <b>none</b> and the <b>altroot</b> property to <u>root</u>.

               <b>--rewind-to-checkpoint</b>
                       Rewinds pool to the checkpointed state.  Once the pool is imported with this  flag  there
                       is  no  way  to  undo  the  rewind.   All  changes  and  data that were written after the
                       checkpoint are lost!  The only exception is when the <b>readonly</b> mounting option is enabled.
                       In this case, the checkpointed state of the pool is opened and an administrator  can  see
                       how the pool would look like if they were to fully rewind.

               <b>-s</b>      Scan  using  the default search path, the libblkid cache will not be consulted.  A custom
                       search path may be specified by setting the <b>ZPOOL_IMPORT_PATH</b> environment variable.

               <b>-X</b>      Used with the <b>-F</b> recovery option.  Determines whether extreme measures to  find  a  valid
                       txg  should  take  place.   This  allows  the pool to be rolled back to a txg which is no
                       longer guaranteed to be consistent.  Pools imported at an inconsistent  txg  may  contain
                       uncorrectable  checksum  errors.   For  more details about pool recovery mode, see the <b>-F</b>
                       option, above.  WARNING: This option can be extremely hazardous to  the  health  of  your
                       pool and should only be used as a last resort.

               <b>-T</b>      Specify  the txg to use for rollback.  Implies <b>-FX</b>.  For more details about pool recovery
                       mode, see the <b>-X</b> option, above.  WARNING: This option can be extremely hazardous  to  the
                       health of your pool and should only be used as a last resort.

       <b>zpool</b>  <b>import</b>  [<b>-Dflmt</b>]  [<b>-F</b>  [<b>-nTX</b>]]  [<b>-c</b> <u>cachefile</u>|<b>-d</b> <u>dir</u>|<u>device</u>] [<b>-o</b> <u>mntopts</u>] [<b>-o</b> <u>property</u>=<u>value</u>]… [<b>-R</b>
               <u>root</u>] [<b>-s</b>] <u>pool</u>|<u>id</u> [<u>newpool</u>]
               Imports a specific pool.  A pool can be identified by its name or  the  numeric  identifier.   If
               <u>newpool</u>  is  specified,  the  pool is imported using the name <u>newpool</u>.  Otherwise, it is imported
               with the same name as its exported name.

               If a device is removed from a system without running <b>zpool</b> <b>export</b> first, the  device  appears  as
               potentially  active.   It cannot be determined if this was a failed export, or whether the device
               is really in use from another host.  To import a pool in this state, the <b>-f</b> option is required.

               <b>-c</b> <u>cachefile</u>
                       Reads configuration from the given <u>cachefile</u> that was created  with  the  <b>cachefile</b>  pool
                       property.  This <u>cachefile</u> is used instead of searching for devices.

               <b>-d</b> <u>dir</u>|<u>device</u>
                       Uses  <u>device</u>  or  searches  for  devices or files in <u>dir</u>.  The <b>-d</b> option can be specified
                       multiple times.  This option is incompatible with the <b>-c</b> option.

               <b>-D</b>      Imports destroyed pool.  The <b>-f</b> option is also required.

               <b>-f</b>      Forces import, even if the pool appears to be potentially active.

               <b>-F</b>      Recovery mode for a non-importable pool.  Attempt to return the  pool  to  an  importable
                       state by discarding the last few transactions.  Not all damaged pools can be recovered by
                       using  this  option.   If  successful,  the  data  from  the  discarded  transactions  is
                       irretrievably lost.  This option  is  ignored  if  the  pool  is  importable  or  already
                       imported.

               <b>-l</b>      Indicates  that  this  command will request encryption keys for all encrypted datasets it
                       attempts to mount as it is bringing the pool online.  Note that if any  datasets  have  a
                       <b>keylocation</b>  of  <b>prompt</b>  this  command  will  block  waiting  for the keys to be entered.
                       Without this flag encrypted datasets will be left unavailable until the keys are loaded.

               <b>-m</b>      Allows a pool to import when there is a missing log device.  Recent transactions  can  be
                       lost because the log device will be discarded.

               <b>-n</b>      Used  with  the <b>-F</b> recovery option.  Determines whether a non-importable pool can be made
                       importable again, but does not actually perform the  pool  recovery.   For  more  details
                       about pool recovery mode, see the <b>-F</b> option, above.

               <b>-o</b> <u>mntopts</u>
                       Comma-separated list of mount options to use when mounting datasets within the pool.  See
                       <u><a href="../man8/zfs.8.html">zfs</a></u>(8) for a description of dataset properties and mount options.

               <b>-o</b> <u>property</u>=<u>value</u>
                       Sets  the specified property on the imported pool.  See the <u><a href="../man7/zpoolprops.7.html">zpoolprops</a></u>(7) manual page for
                       more information on the available pool properties.

               <b>-R</b> <u>root</u>
                       Sets the <b>cachefile</b> property to <b>none</b> and the <b>altroot</b> property to <u>root</u>.

               <b>-s</b>      Scan using the default search path, the libblkid cache will not be consulted.   A  custom
                       search path may be specified by setting the <b>ZPOOL_IMPORT_PATH</b> environment variable.

               <b>-X</b>      Used  with  the  <b>-F</b> recovery option.  Determines whether extreme measures to find a valid
                       txg should take place.  This allows the pool to be rolled back  to  a  txg  which  is  no
                       longer  guaranteed  to  be consistent.  Pools imported at an inconsistent txg may contain
                       uncorrectable checksum errors.  For more details about pool recovery  mode,  see  the  <b>-F</b>
                       option,  above.   WARNING:  This  option can be extremely hazardous to the health of your
                       pool and should only be used as a last resort.

               <b>-T</b>      Specify the txg to use for rollback.  Implies <b>-FX</b>.  For more details about pool  recovery
                       mode,  see  the <b>-X</b> option, above.  <u>WARNING</u>: This option can be extremely hazardous to the
                       health of your pool and should only be used as a last resort.

               <b>-t</b>      Used with <u>newpool</u>.  Specifies that <u>newpool</u> is temporary.  Temporary pool names last until
                       export.  Ensures that the original pool name will  be  used  in  all  label  updates  and
                       therefore  is  retained upon export.  Will also set <b>-o</b> <b>cachefile</b>=<b>none</b> when not explicitly
                       specified.

</pre><h4><b>EXAMPLES</b></h4><pre>
   <b>Example</b> <b>9</b>: Importing a ZFS Storage Pool
       The following command displays available pools, and then imports the pool <u>tank</u> for  use  on  the  system.
       The results from this command are similar to the following:
             # <b>zpool</b> <b>import</b>
               pool: tank
                 id: 15451357997522795478
              state: ONLINE
             action: The pool can be imported using its name or numeric identifier.
             config:

                     tank        ONLINE
                       mirror    ONLINE
                         sda     ONLINE
                         sdb     ONLINE

             # <b>zpool</b> <b>import</b> <u>tank</u>

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <u><a href="../man8/zpool-export.8.html">zpool-export</a></u>(8), <u><a href="../man8/zpool-list.8.html">zpool-list</a></u>(8), <u><a href="../man8/zpool-status.8.html">zpool-status</a></u>(8)

OpenZFS                                          March 16, 2022                                  <u><a href="../man8/ZPOOL-IMPORT.8.html">ZPOOL-IMPORT</a></u>(8)
</pre>
 </div>
</div></section>
</div>
</body>
</html>