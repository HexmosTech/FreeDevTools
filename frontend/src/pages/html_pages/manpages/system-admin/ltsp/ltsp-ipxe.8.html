<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ltsp ipxe - install iPXE binaries and configuration in TFTP</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/ltsp">ltsp_23.02-3_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       <b>ltsp</b> <b>ipxe</b> - install iPXE binaries and configuration in TFTP

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>ltsp</b> [<u>ltsp-options</u>] <b>ipxe</b> [<b>-b</b> <u>binaries</u>]

</pre><h4><b>DESCRIPTION</b></h4><pre>
       Generate  the  ltsp.ipxe  configuration  file  and  install the required iPXE binaries in /srv/tftp/ltsp:
       memtest.0, memtest.efi, snponly.efi and undionly.kpxe.

       An ltsp-binaries package is available in the LTSP PPA that provides them; otherwise,  some  of  them  are
       automatically found in the ipxe/memtest86+ packages.

</pre><h4><b>OPTIONS</b></h4><pre>
       See the <b><a href="../man8/ltsp.8.html">ltsp</a>(8)</b> man page for <u>ltsp-options</u>.

       <b>-b</b>, <b>--binaries</b>[=<u>0|1|""</u>]
              Reinstall the iPXE binaries in TFTP even if they already exist.  Defaults to "", which means "only
              install  the  missing  ones".  Note that the --overwrite flag doesn't affect the binaries, they're
              only controlled by the --binaries flag.

</pre><h4><b>ADVANCED</b> <b>IMAGE</b> <b>SOURCES</b></h4><pre>
       This section is for advanced LTSP sysadmins.  Normally, image sources are simple names like  "x86_64"  or
       full  paths  like  "../path/to/image".   But  the  "img_src" parameters are much more flexible than that;
       specifically, they are series of mount sources:

       img1,mount-options1,,img2,mount-options2,,...

       ...where img1 may be a simple name or full path relative to the current directory,  and  img2+  are  full
       paths relative to the target directory.

       Let's see an advanced example: suppose that your clients came with Windows, and that you copied a live CD
       into  C:\ltsp\ubuntu.iso,  and  you  want your LTSP clients to use that for speed. First, disable Windows
       fast boot and hibernation, so that Linux is able to mount  its  partition.   Then  create  the  following
       "method" in ltsp.ipxe:

       :local_image
       # The "local_image" method boots C:\ltsp\ubuntu.iso
       set cmdline_method root=/dev/sda1 ltsp.image=ltsp/ubuntu.iso,fstype=iso9660,loop,ro,,casper/filesystem.squashfs,squashfs,loop,ro loop.max_part=9
       goto ltsp

       Explanation:

              • The root=/dev/sda1 parameter tells the initramfs to mount /dev/sda1 into /root.

              • Then  the  LTSP  code will look under /root/ltsp/ and mount ubuntu.iso using the loop,ro options
                over <a href="file:/root">/root</a> again.

              • Then the LTSP code will look under /root/casper/ and mount filesystem.squashfs over <a href="file:/root">/root</a> again.
                This casper/filesystem.squashfs path is where the live filesystem exists inside the Ubuntu  live
                CDs.

       So  while  this long line gives a good example on using advanced image sources, the LTSP code is actually
       smart enough to autodetect Ubuntu live CDs and filesystem types, so one could simplify it to:

       :local_image
       # The "local_image" method boots C:\ltsp\${img}.img
       set cmdline_method root=/dev/sda1 ltsp.image=ltsp/${img}.img loop.max_part=9
       goto ltsp

       The ${img} parameter is the name of  the  menu;  it  would  be  "ubuntu"  if  you  copied  ubuntu.iso  in
       /srv/ltsp/images/ubuntu.img and ran <b>ltsp</b> <b>ipxe</b>.

</pre><h4><b>EXAMPLES</b></h4><pre>
       Initial use:

       ltsp ipxe

       Regenerate ltsp.ipxe and reinstall the binaries:

       ltsp ipxe -b

       Copy the binaries from a USB stick before running ltsp ipxe:

       mkdir -p /srv/tftp/ltsp
       cd /media/administrator/usb-stick
       cp {memtest.0,memtest.efi,snponly.efi,undionly.kpxe} /srv/tftp/ltsp
       ltsp ipxe

</pre><h4><b>COPYRIGHT</b></h4><pre>
       Copyright 2019-2022 the LTSP team, see AUTHORS.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man8/ltsp.8.html">ltsp</a></b>(8),  <b><a href="../man5/ltsp.conf.5.html">ltsp.conf</a></b>(5),  <b><a href="../man8/ltsp-dnsmasq.8.html">ltsp-dnsmasq</a></b>(8),  <b><a href="../man8/ltsp-image.8.html">ltsp-image</a></b>(8),  <b><a href="../man8/ltsp-info.8.html">ltsp-info</a></b>(8),  <b><a href="../man8/ltsp-initrd.8.html">ltsp-initrd</a></b>(8), <b><a href="../man8/ltsp-kernel.8.html">ltsp-kernel</a></b>(8),
       <b><a href="../man8/ltsp-nfs.8.html">ltsp-nfs</a></b>(8), <b><a href="../man8/ltsp-remoteapps.8.html">ltsp-remoteapps</a></b>(8)

       Online documentation is available on https://ltsp.org

LTSP 23.02-3                                       2024-09-07                                       <u><a href="../man8/LTSP-IPXE.8.html">LTSP-IPXE</a></u>(8)
</pre>
 </div>
</div></section>
</div>
</body>
</html>