<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ctl_mboxlist - Cyrus IMAP documentation</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/cyrus-common">cyrus-common_3.10.2-1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       ctl_mboxlist - Cyrus IMAP documentation

       Perform operations on the mailbox list database

</pre><h4><b>SYNOPSIS</b></h4><pre>
          <b>ctl_mboxlist</b> [ <b>-C</b> <u>config-file</u> ] <b>-d</b> [ <b>-x</b> ] [<b>-y</b>] [ <b>-p</b> <u>partition</u> ] [ <b>-f</b> <u>filename</u> ]
          <b>ctl_mboxlist</b> [ <b>-C</b> <u>config-file</u> ] <b>-u</b> [ <b>-f</b> <u>filename</u> ] [ <b>-L</b> ]
          <b>ctl_mboxlist</b> [ <b>-C</b> <u>config-file</u> ] <b>-m</b> [ <b>-a</b> ] [ <b>-w</b> ] [ <b>-i</b> ] [ <b>-f</b> <u>filename</u> ]
          <b>ctl_mboxlist</b> [ <b>-C</b> <u>config-file</u> ] <b>-v</b> [ <b>-f</b> <u>filename</u> ]

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>ctl_mboxlist</b> is used to perform various administrative operations on the mailbox list database.

       <b>ctl_mboxlist</b>  reads its configuration options out of the <u><a href="../man5/imapd.conf.5.html">imapd.conf</a>(5)</u> file unless specified otherwise by
       <b>-C</b>.  The <u>configdirectory</u> option in <u><a href="../man5/imapd.conf.5.html">imapd.conf</a>(5)</u> is  used  to  determine  the  default  location  of  the
       mailboxes database.

</pre><h4><b>OPTIONS</b></h4><pre>
       <b>-C</b> <b>config-file</b>
              Use the specified configuration file <u>config-file</u> rather than the default <u><a href="../man5/imapd.conf.5.html">imapd.conf</a>(5)</u>.

       <b>-d,</b> <b>--dump</b>
              Dump the contents of the database to standard output in JSON format.

       <b>-x,</b> <b>--remove-dumped</b>
              When  performing  a  dump,  remove  the mailboxes dumped from the mailbox list (mostly useful when
              specified with <b>-p</b>).

       <b>-y,</b> <b>--include-intermediaries</b>
              When performing a dump, also list intermediary mailboxes which would be hidden from IMAP.

       <b>-p</b> <b>partition,</b> <b>--partition=partition</b>
              When performing a dump, dump only those mailboxes that live on <u>partition</u>.

       <b>-f</b> <b>filename,</b> <b>--filename=filename</b>
              Use the database specified by <u>filename</u> instead of the default (<u>configdirectory/mailboxes.db*</u>).

       <b>-L,</b> <b>--legacy</b>
              When performing an undump, use the legacy dump parser instead of the JSON parser.  This  might  be
              useful for importing a dump produced by an older version of Cyrus.

       <b>-u,</b> <b>--undump</b>
              Load  ("undump") the contents of the database from standard input.  The input MUST be a valid JSON
              file, unless the -L option is also supplied.

              <b>IMPORTANT:</b>
                 USE THIS OPTION WITH CARE.  If you have modified the dump file since it was dumped, or  if  the
                 file  was not produced by <b>-d</b> in the first place, or was produced on a different server, you can
                 easily break your mailboxes.db.  Undump will refuse to  process  a  syntactically-invalid  dump
                 file, but it can't do much to protect you from a valid file containing bad data.

       <b>-m,</b> <b>--sync-mupdate</b>
              For  backend servers in the Cyrus Murder, synchronize the local mailbox list file with the MUPDATE
              server.

       <b>-a,</b> <b>--authoritative</b>
              When used with <b>-m</b>, assume the local mailboxes file is authoritative,  that  is,  only  change  the
              mupdate server, do not delete any local mailboxes.

              <b>IMPORTANT:</b>
                 USE THIS OPTION WITH CARE, as it allows namespace collisions into the murder.

       <b>-w,</b> <b>--warn-only</b>
              When used with <b>-m</b>, print out what would be done but do not perform the operations.

       <b>-i,</b> <b>--interactive</b>
              When used with <b>-m</b>, asks for verification before deleting local mailboxes.

       <b>-v,</b> <b>--verify</b>
              Verify  the consistency of the mailbox list database and the spool partition(s). Mailboxes present
              in the database and not located on a spool partition, and  those  located  on  a  spool  partition
              (directory containing a valid cyrus.header file) and not present in the database will be reported.
              Note that this function is very I/O intensive.

</pre><h4><b>EXAMPLES</b></h4><pre>
          <b>ctl_mboxlist</b> <b>-d</b>
          <b>Dump</b> <b>the</b> <b>mailboxes</b> <b>list</b> <b>to</b> <b>standard</b> <b>output</b> <b>in</b> <b>JSON</b> <b>format</b>

          <b>ctl_mboxlist</b> <b>-u</b> <b>&lt;</b> <u>newmboxlist.dump</u>
          <u>Undump</u>  <u>(restore)</u>  <u>the</u> <u>mailboxes</u> <u>database</u> <u>from</u> <u>newmboxlist.dump,</u> <u>where</u> <u>newmboxlist.dump</u> <u>is</u> <u>a</u> <u>JSON</u> <u>file</u>
          <u>produced</u> <u>by</u> <b>ctl_mboxlist</b> <b>-d</b>

          <b>NOTE:</b>
              <u>Be</u> <u>very</u> <u>careful</u> <u>with</u> <u>this</u> <u>option.</u>

          <b>ctl_mboxlist</b> <b>-m</b>
          <b>Synchronize</b> <b>our</b> <b>mailboxes</b> <b>database</b> <b>with</b> <b>the</b> <b>MUPDATE</b> <b>server.</b>  <b>(One</b> <b>may</b> <b>commonly</b> <b>put</b> <b>a</b> <b>command</b> <b>like</b> <b>this</b>
          <b>into</b> <b>the</b> <b>START</b> <b>section</b> <b>of</b> <u><a href="../man5/cyrus.conf.5.html">cyrus.conf</a>(5)</u> <b>on</b> <b>backend</b> <b>nodes</b> <b>of</b> <b>a</b> <b>Murder</b> <b>cluster</b> <b>to</b> <b>cause</b> <b>the</b>  <b>backend</b>  <b>to</b>
          <b>synchronize</b> <b>its</b> <b>mailbox</b> <b>list</b> <b>with</b> <b>the</b> <b>mupdate</b> <b>master</b> <b>upon</b> <b>startup).</b>

          <b>ctl_mboxlist</b> <b>-m</b> <b>-w</b>
          <b>The</b> <b>same</b> <b>as</b> <b>above,</b> <b>but</b> <b>only</b> <b>show</b> <b>us</b> <b>what</b> <b>would</b> <b>be</b> <b>done,</b> <b>don't</b> <b>actually</b> <b>do</b> <b>it.</b>

          <b>ctl_mboxlist</b> <b>-m</b> <b>-a</b>
          <b>Populate</b> <b>the</b> <b>Mupdate</b> <b>server</b> <b>from</b> <b>our</b> <b>copy</b> <b>of</b> <b>the</b> <b>mailboxes</b> <b>database.</b>

          <b>NOTE:</b>
              <b>Be</b> <b>very</b> <b>careful</b> <b>with</b> <b>this</b> <b>option,</b> <b>as</b> <b>it</b> <b>can</b> <b>create</b> <b>conflicts</b> <b>in</b> <b>the</b> <b>Murder.</b>

          <b>ctl_mboxlist</b> <b>-m</b> <b>-i</b>
          <b>Synchronize</b>  <b>our</b>  <b>mailboxes</b>  <b>database</b>  <b>with</b>  <b>the</b> <b>MUPDATE</b> <b>server</b> <b>interactively,</b> <b>asking</b> <b>for</b> <b>verification</b>
          <b>before</b> <b>deleting</b> <b>any</b> <b>local</b> <b>mailboxes.</b>

</pre><h4><b>FILES</b></h4><pre>
       /etc/imapd.conf, &lt;configdirectory&gt;/mailboxes.db

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <u><a href="../man5/imapd.conf.5.html">imapd.conf</a>(5)</u>, <u><a href="../man8/master.8.html">master</a>(8)</u>

</pre><h4><b>AUTHOR</b></h4><pre>
       The Cyrus Team, Nic Bernstein (Onlight), Jeroen van Meeuwen (Kolab Systems)

</pre><h4><b>COPYRIGHT</b></h4><pre>
       1993â€“2025, The Cyrus Team

3.10.2                                            Jun 27, 2025                                   <u><a href="../man8/CTL_MBOXLIST.8.html">CTL_MBOXLIST</a></u>(8)
</pre>
 </div>
</div></section>
</div>
</body>
</html>