<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ext4slower - Trace slow ext4 file operations, with per-event details.</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/bpfcc-tools">bpfcc-tools_0.31.0+ds-7ubuntu2_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       ext4slower - Trace slow ext4 file operations, with per-event details.

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>ext4slower</b> <b>[-h]</b> <b>[-j]</b> <b>[-p</b> <b>PID]</b> <b>[min_ms]</b>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       This tool traces common ext4 file operations: reads, writes, opens, and syncs. It measures the time spent
       in these operations, and prints details for each that exceeded a threshold.

       WARNING: See the OVERHEAD section.

       By  default,  a  minimum millisecond threshold of 10 is used. If a threshold of 0 is used, all events are
       printed (warning: verbose).

       Since this works by tracing the ext4_file_operations interface functions, it will need updating to  match
       any changes to these functions.

       Since this uses BPF, only the root user can use this tool.

</pre><h4><b>REQUIREMENTS</b></h4><pre>
       CONFIG_BPF and bcc.

</pre><h4><b>OPTIONS</b></h4><pre>
       -p PID Trace this PID only.

       min_ms Minimum I/O latency (duration) to trace, in milliseconds. Default is 10 ms.

</pre><h4><b>EXAMPLES</b></h4><pre>
       Trace synchronous file reads and writes slower than 10 ms:
              # <b>ext4slower</b>

       Trace slower than 1 ms:
              # <b>ext4slower</b> <b>1</b>

       Trace slower than 1 ms, and output just the fields in parsable format (csv):
              # <b>ext4slower</b> <b>-j</b> <b>1</b>

       Trace all file reads and writes (warning: the output will be verbose):
              # <b>ext4slower</b> <b>0</b>

       Trace slower than 1 ms, for PID 181 only:
              # <b>ext4slower</b> <b>-p</b> <b>181</b> <b>1</b>

</pre><h4><b>FIELDS</b></h4><pre>
       TIME(s)
              Time of I/O completion since the first I/O seen, in seconds.

       COMM   Process name.

       PID    Process ID.

       T      Type of operation. R == read, W == write, O == open, S == fsync.

       OFF_KB File offset for the I/O, in Kbytes.

       BYTES  Size of I/O, in bytes.

       <a href="../manms/LAT.ms.html">LAT</a>(ms)
              Latency  (duration)  of I/O, measured from when it was issued by VFS to the filesystem, to when it
              completed. This time is inclusive of block device I/O, file system CPU cycles, file system  locks,
              run  queue  latency,  etc.  It's  a  more accurate measure of the latency suffered by applications
              performing file system I/O, than to measure this down at the block device interface.

       FILENAME
              A cached kernel file name (comes from dentry-&gt;d_name.name).

       ENDTIME_us
              Completion timestamp, microseconds (-j only).

       OFFSET_b
              File offset, bytes (-j only).

       LATENCY_us
              Latency (duration) of the I/O, in microseconds (-j only).

</pre><h4><b>OVERHEAD</b></h4><pre>
       This adds low-overhead instrumentation to these ext4 operations, including reads and writes from the file
       system cache. Such reads and writes can be very frequent (depending on  the  workload;  eg,  1M/sec),  at
       which  point  the  overhead  of  this  tool  (even  if  it prints no "slower" events) can begin to become
       significant. Measure and quantify before use. If this continues to be a problem, consider switching to  a
       tool that prints in-kernel summaries only.

       Note  that  the  overhead  of  this  tool  should  be  less than <a href="../man8/fileslower.8.html">fileslower</a>(8), as this tool targets ext4
       functions only, and not all file read/write paths (which can include socket I/O).

</pre><h4><b>SOURCE</b></h4><pre>
       This is from bcc.

              https://github.com/iovisor/bcc

       Also look in the bcc distribution for a companion _examples.txt file containing  example  usage,  output,
       and commentary for this tool.

</pre><h4><b>OS</b></h4><pre>
       Linux

</pre><h4><b>STABILITY</b></h4><pre>
       Unstable - in development.

</pre><h4><b>AUTHOR</b></h4><pre>
       Brendan Gregg

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <a href="../man8/biosnoop.8.html">biosnoop</a>(8), <a href="../man8/funccount.8.html">funccount</a>(8), <a href="../man8/fileslower.8.html">fileslower</a>(8)

USER COMMANDS                                      2016-02-11                                      <u><a href="../man8/ext4slower.8.html">ext4slower</a></u>(8)
</pre>
 </div>
</div></section>
</div>
</body>
</html>