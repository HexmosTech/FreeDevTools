<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>drr - deficit round robin scheduler</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/iproute2">iproute2_6.14.0-1ubuntu3_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       drr - deficit round robin scheduler

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>tc</b> <b>qdisc</b> <b>...</b> <b>add</b> <b>drr</b> <b>[</b> <b>quantum</b> bytes <b>]</b>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The  Deficit  Round  Robin  Scheduler is a classful queuing discipline as a more flexible replacement for
       Stochastic Fairness Queuing.

       Unlike SFQ, there are no built-in queues -- you need to add classes and then set up filters  to  classify
       packets accordingly.  This can be useful e.g. for using RED qdiscs with different settings for particular
       traffic. There is no default class -- if a packet cannot be classified, it is dropped.

</pre><h4><b>ALGORITHM</b></h4><pre>
       Each class is assigned a deficit counter, initialized to <b>quantum.</b>

       DRR  maintains an (internal) ''active'' list of classes whose qdiscs are non-empty. This list is used for
       dequeuing. A packet is dequeued from the class at the head of the list if the packet size is  smaller  or
       equal  to  the deficit counter. If the counter is too small, it is increased by <b>quantum</b> and the scheduler
       moves on to the next class in the active list.

</pre><h4><b>PARAMETERS</b></h4><pre>
       quantum
              Amount of bytes a flow is allowed to dequeue  before  the  scheduler  moves  to  the  next  class.
              Defaults to the MTU of the interface. The minimum value is 1.

</pre><h4><b>EXAMPLE</b> <b>&amp;</b> <b>USAGE</b></h4><pre>
       To attach to device eth0, using the interface MTU as its quantum:

       # tc qdisc add dev eth0 handle 1 root drr

       Adding two classes:

       # tc class add dev eth0 parent 1: classid 1:1 drr
       # tc class add dev eth0 parent 1: classid 1:2 drr

       You also need to add at least one filter to classify packets.

       # tc filter add dev eth0 protocol .. classid 1:1

       Like SFQ, DRR is only useful when it owns the queue -- it is a pure scheduler and does not delay packets.
       Attaching  non-work-conserving  qdiscs  like  tbf to it does not make sense -- other qdiscs in the active
       list will also become inactive until the dequeue operation succeeds. Embed DRR within another qdisc  like
       HTB or HFSC to ensure it owns the queue.

       You can mimic SFQ behavior by assigning packets to the attached classes using the flow filter:

       <b>tc</b> <b>qdisc</b> <b>add</b> <b>dev</b> <b>..</b> <b>drr</b>

       <b>for</b> <b>i</b> <b>in</b> <b>..</b> <b>1024;do</b>
            <b>tc</b> <b>class</b> <b>add</b> <b>dev</b> <b>..</b> <b>classid</b> <b>$handle:$(print</b> <b>%x</b> <b>$i)</b>
            <b>tc</b> <b>qdisc</b> <b>add</b> <b>dev</b> <b>..</b> <b>fifo</b> <b>limit</b> <b>16</b>
       <b>done</b>

       <b>tc</b>  <b>filter</b>  <b>add</b>  <b>..</b>  <b>protocol</b> <b>ip</b> <b>..</b> <b>$handle</b> <b>flow</b> <b>hash</b> <b>keys</b> <b>src,dst,proto,proto-src,proto-dst</b> <b>divisor</b> <b>1024</b>
       <b>perturb</b> <b>10</b>

</pre><h4><b>SOURCE</b></h4><pre>
       o      M. Shreedhar and George Varghese "Efficient Fair Queuing using Deficit Round Robin", Proc. SIGCOMM
              95.

</pre><h4><b>NOTES</b></h4><pre>
       This implementation does not drop packets from the longest queue on overrun, as limits are handled by the
       individual child qdiscs.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man8/tc.8.html">tc</a></b>(8), <b><a href="../man8/tc-htb.8.html">tc-htb</a></b>(8), <b><a href="../man8/tc-sfq.8.html">tc-sfq</a></b>(8)

</pre><h4><b>AUTHOR</b></h4><pre>
       sched_drr was written by Patrick McHardy.

iproute2                                          January 2010                                             <u><a href="../man8/TC.8.html">TC</a></u>(8)
</pre>
 </div>
</div></section>
</div>
</body>
</html>