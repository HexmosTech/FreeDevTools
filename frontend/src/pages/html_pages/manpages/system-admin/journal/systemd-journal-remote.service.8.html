<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>systemd-journal-remote.service, systemd-journal-remote.socket, systemd-journal-remote - Receive journal</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/systemd-journal-remote">systemd-journal-remote_257.7-1ubuntu3_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       systemd-journal-remote.service, systemd-journal-remote.socket, systemd-journal-remote - Receive journal
       messages over the network

</pre><h4><b>SYNOPSIS</b></h4><pre>
       systemd-journal-remote.service

       systemd-journal-remote.socket

       <b>/usr/lib/systemd/systemd-journal-remote</b> [OPTIONS...] [-o/--output=<u>DIR</u>|<u>FILE</u>] [SOURCES...]

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>systemd-journal-remote</b> is a command to receive serialized journal events and store them to journal files.
       Input streams are in the <b>Journal</b> <b>Export</b> <b>Format</b>[1], i.e. like the output from <b>journalctl</b> <b>--output=export</b>.
       For transport over the network, this serialized stream is usually carried over an HTTPS connection.

       systemd-journal-remote.service is a system service that uses <b>systemd-journal-remote</b> to listen for
       connections.  systemd-journal-remote.socket configures the network address that
       systemd-journal-remote.service listens on. By default, this is port 19532. What connections are accepted
       and how the received data is stored can be configured through the <b><a href="../man5/journal-remote.conf.5.html">journal-remote.conf</a></b>(5) configuration
       file.

</pre><h4><b>SOURCES</b></h4><pre>
       Sources can be either "active" (<b>systemd-journal-remote</b> requests and pulls the data), or "passive"
       (<b>systemd-journal-remote</b> waits for a connection and then receives events pushed by the other side).

       <b>systemd-journal-remote</b> can read more than one event stream at a time. They will be interleaved in the
       output file. In case of "active" connections, each "source" is one stream, and in case of "passive"
       connections, each connection can result in a separate stream. Sockets can be configured in "accept" mode
       (i.e. only one connection), or "listen" mode (i.e. multiple connections, each resulting in a stream).

       When there are no more connections, and no more can be created (there are no listening sockets), then
       <b>systemd-journal-remote</b> will exit.

       Active sources can be specified in the following ways:

       [SOURCES]
           When <b>-</b> is given as a positional argument, events will be read from standard input. Other positional
           arguments will be treated as filenames to open and read from.

           Added in version 239.

       <b>--url=</b><u>ADDRESS</u>
           With the <b>--url=</b><u>ADDRESS</u> option, events will be retrieved using HTTP from <u>ADDRESS</u>. This URL should
           refer to the root of a remote <b><a href="../man8/systemd-journal-gatewayd.8.html">systemd-journal-gatewayd</a></b>(8) instance, e.g. <a href="http://some.host">http://some.host</a>:19531/ or
           https://some.host:19531/.

           Added in version 239.

       <b>--getter='</b><u>PROG</u> <b>[OPTIONS]'</b>
           Program to invoke to retrieve data. The journal event stream must be generated on standard output.

           Examples:

               --getter='curl "-HAccept: application/vnd.fdo.journal" https://some.host:19531/'

               --getter='wget --header="Accept: application/vnd.fdo.journal" -O- https://some.host:19531/'

           Added in version 239.

       Passive sources can be specified in the following ways:

       <b>--listen-raw=</b><u>ADDRESS</u>
           <u>ADDRESS</u> must be an address suitable for <b>ListenStream=</b> (cf.  <b><a href="../man5/systemd.socket.5.html">systemd.socket</a></b>(5)).
           <b>systemd-journal-remote</b> will listen on this socket for connections. Each connection is expected to be
           a stream of journal events.

           Added in version 239.

       <b>--listen-http=</b><u>ADDRESS</u>, <b>--listen-https=</b><u>ADDRESS</u>
           <u>ADDRESS</u> must be either a negative integer, in which case it will be interpreted as the (negated) file
           descriptor number, or an address suitable for <b>ListenStream=</b> (c.f.  <b><a href="../man5/systemd.socket.5.html">systemd.socket</a></b>(5)). In the first
           case, the server listens on port 19532 by default, and the matching file descriptor must be inherited
           through <u>$LISTEN_FDS</u>/<u>$LISTEN_PID</u>. In the second case, an HTTP or HTTPS server will be spawned on this
           port, respectively for <b>--listen-http=</b> and <b>--listen-https=</b>. Currently, only POST requests to /upload
           with "Content-Type: application/vnd.fdo.journal" are supported.

           Added in version 239.

       <u>$LISTEN_FDS</u>
           <b>systemd-journal-remote</b> supports the <u>$LISTEN_FDS</u>/<u>$LISTEN_PID</u> protocol. Open sockets inherited through
           socket activation behave like those opened with <b>--listen-raw=</b> described above, unless they are
           specified as an argument in <b>--listen-http=-</b><u>n</u> or <b>--listen-https=-</b><u>n</u> above. In the latter case, an HTTP
           or HTTPS server will be spawned using this descriptor and connections must be made over the HTTP
           protocol.

           Added in version 239.

       <b>--key=</b>
           Takes a path to a SSL secret key file in PEM format. Defaults to /etc/ssl/private/journal-remote.pem.
           This option can be used with <b>--listen-https=</b>. If the path refers to an <b>AF_UNIX</b> stream socket in the
           file system a connection is made to it and the key read from it.

           Added in version 239.

       <b>--cert=</b>
           Takes a path to a SSL certificate file in PEM format. Defaults to /etc/ssl/certs/journal-remote.pem.
           This option can be used with <b>--listen-https=</b>. If the path refers to an <b>AF_UNIX</b> stream socket in the
           file system a connection is made to it and the certificate read from it.

           Added in version 239.

       <b>--trust=</b>
           Takes a path to a SSL CA certificate file in PEM format, or <b>all</b>. If <b>all</b> is set, then certificate
           checking will be disabled. Defaults to /etc/ssl/ca/trusted.pem. This option can be used with
           <b>--listen-https=</b>. If the path refers to an <b>AF_UNIX</b> stream socket in the file system a connection is
           made to it and the certificate read from it.

           Added in version 239.

       <b>--gnutls-log=</b>
           Takes a comma separated list of gnutls logging categories. This option can be used with
           <b>--listen-http=</b> or <b>--listen-https=</b>.

           Added in version 239.

</pre><h4><b>SINKS</b></h4><pre>
       The location of the output journal can be specified with <b>-o</b> or <b>--output=</b>.

       <b>-o</b> <u>FILE</u>, <b>--output=</b><u>FILE</u>
           Will write to this journal file. The filename must end with .journal. The file will be created if it
           does not exist. If necessary (journal file full, or corrupted), the file will be renamed following
           normal journald rules and a new journal file will be created in its stead.

           Added in version 239.

       <b>-o</b> <u>DIR</u>, <b>--output=</b><u>DIR</u>
           Will create journal files underneath directory <u>DIR</u>. The directory must exist. If necessary (journal
           files over size, or corrupted), journal files will be rotated following normal journald rules. Names
           of files underneath <u>DIR</u> will be generated using the rules described below.

           Added in version 239.

       If <b>--output=</b> is not used, the output directory /var/log/journal/remote/ will be used. In case the output
       file is not specified, journal files will be created underneath the selected directory. Files will be
       called remote-<u>hostname</u>.journal, where the <u>hostname</u> part is the escaped hostname of the source endpoint of
       the connection, or the numerical address if the hostname cannot be determined.

       In the case that "active" sources are given by the positional arguments or <b>--getter=</b> option, the output
       file name must always be given explicitly.

</pre><h4><b>OPTIONS</b></h4><pre>
       The following options are understood:

       <b>--split-mode</b>
           One of <b>none</b> or <b>host</b>. For the first, only one output journal file is used. For the latter, a separate
           output file is used, based on the hostname of the other endpoint of a connection.

           In the case that "active" sources are given by the positional arguments or <b>--getter=</b> option, the
           output file name must always be given explicitly and only <b>none</b> is allowed.

           Added in version 239.

       <b>--compress</b> [<u>BOOL</u>]
           If this is set to "yes" then compress the data in the journal using XZ. The default is "yes".

           Added in version 239.

       <b>--seal</b> [<u>BOOL</u>]
           If this is set to "yes" then periodically sign the data in the journal using Forward Secure Sealing.
           The default is "no".

           Added in version 239.

       <b>-h</b>, <b>--help</b>
           Print a short help text and exit.

       <b>--version</b>
           Print a short version string and exit.

</pre><h4><b>EXAMPLES</b></h4><pre>
       Copy local journal events to a different journal directory:

           journalctl -o export | systemd-journal-remote -o /tmp/dir/foo.journal -

       Retrieve all available events from a remote <b><a href="../man8/systemd-journal-gatewayd.8.html">systemd-journal-gatewayd</a></b>(8) instance and store them in
       /var/log/journal/remote/remote-some.host.journal:

           systemd-journal-remote --url <a href="http://some.host">http://some.host</a>:19531/

       Retrieve current boot events and wait for new events from a remote <b><a href="../man8/systemd-journal-gatewayd.8.html">systemd-journal-gatewayd</a></b>(8) instance,
       and store them in /var/log/journal/remote/remote-some.host.journal:

           systemd-journal-remote --url <a href="http://some.host">http://some.host</a>:19531/entries?boot&amp;follow

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man5/journal-remote.conf.5.html">journal-remote.conf</a></b>(5), <b><a href="../man1/journalctl.1.html">journalctl</a></b>(1), <b><a href="../man8/systemd-journal-gatewayd.service.8.html">systemd-journal-gatewayd.service</a></b>(8), <b><a href="../man8/systemd-journalupload.service.8.html">systemd-journal-</a></b>
       <b><a href="../man8/systemd-journalupload.service.8.html">upload.service</a></b>(8), <b><a href="../man8/systemd-journald.service.8.html">systemd-journald.service</a></b>(8)

</pre><h4><b>NOTES</b></h4><pre>
        1. Journal Export Format
           https://systemd.io/JOURNAL_EXPORT_FORMATS#journal-export-format

systemd 257.7                                                                  <u><a href="../man8/SYSTEMD-JOURNAL-REMOTE.SERVICE.8.html">SYSTEMD-JOURNAL-REMOTE.SERVICE</a></u>(8)
</pre>
 </div>
</div></section>
</div>
</body>
</html>