<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>update-exim4.conf - Generate exim4 configuration files.</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/exim4-config">exim4-config_4.98.2-1ubuntu1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       update-exim4.conf - Generate exim4 configuration files.

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>update-exim4.conf</b> <b>[-v|--verbose]</b> <b>[-h|--help]</b> <b>[--keepcomments]</b> <b>[--removecomments]</b> <b>[-o|--output</b> <b>file]</b>

</pre><h4><b>OPTIONS</b></h4><pre>
       <u>--check</u>
              Generate  temporary  configuration file, check its validity and exit with either success (exitcode
              0) or an error (exitcode 1). On success the temporary file is deleted, otherwise the file is  left
              for further debugging.

       <u>-d|--confdir</u> <u>directory</u>
              Read input from directory instead of /etc/exim4.

       <u>-h|--help</u>
              Show short help message and exit

       <u>--keepcomments</u>
              Do not remove comment lines from the output file.

       <u>-o|--output</u> <u>file</u>
              Write output to file instead of /var/lib/exim4/config.autogenerated.

       <u>--removecomments</u>
              Remove comment lines from the output file. [Default]

       <u>-v|--verbose</u>
              Enable verbose mode

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The  script  <b>update-exim4.conf</b> generates the main configuration files <u>/var/lib/exim4/config.autogenerated</u>
       for <b>Exim</b> <b>v4</b> by merging the data in the template file <u>/etc/exim4/exim4.conf.template</u> or the  ones  in  the
       <u>/etc/exim4/conf.d</u>  directory  tree  respectively and <u>/etc/exim4/update-exim4.conf.conf</u> to the output file
       <u>/var/lib/exim4/config.autogenerated.</u>

       If  dc_use_split_config   in   /etc/exim4/update-exim4.conf.conf   specifies   a   split   configuration,
       <b>update-exim4.conf</b>  processes  the  /etc/exim4/conf.d  subdirectories  in  the  order  main,  acl, router,
       transport, retry, rewrite and auth. Within each directory it takes files in lexical sort  order  by  file
       name. It concatenates all these files and makes the debconf replacement described below.

       If you are not using split configuration <b>update-exim4.conf</b> concatenates /etc/exim4/exim4.conf.localmacros
       (if  this  file  exists)  and  /etc/exim4/exim4.conf.template  (in  this  order)  and  makes  the debconf
       replacement described below.

       In either case, before outputting the result  to  /var/lib/exim4/config.autogenerated,  <b>update-exim4.conf</b>
       generates   a   number   of   exim   configuration   macros   from  the  contents  of  dc_something  from
       /etc/exim4/update-exim4.conf.conf and inserts them into the configuration right after the  definition  of
       the  exim  configuration  macro UPEX4CmacrosUPEX4C (which is only used as placeholder for this case). The
       macro definitions are bracketed with .ifdef clauses to allow the local admin to override the values  with
       earlier  definitions.  <b>update-exim4.conf</b> makes no other changes to the configuration.  This makes it very
       simple to make small changes to the configuration and still have the benefits of debconf.

       On the other hand if you don't want to manage  exim4.conf  with  debconf  install  your  own  handcrafted
       version as /etc/exim4/exim4.conf.  Exim will use this file if it exists and ignore the autogenerated one.
       Additionally  you might want to set <u>dc_eximconfig_configtype=none</u> in /etc/exim4/update-exim4.conf.conf to
       stop debconf from asking you questions about exim4.

       <b>update-exim4.conf</b> exits silently and does nothing if /etc/exim4/exim4.conf exists and -o was not used  to
       direct the output to a different file than /var/lib/exim4/config.autogenerated.

       <b>update-exim4.conf</b> will only use files in the conf.d directory that have a filename which consists only of
       letters,  numbers,  underscores  and  hyphens  ([:alnum:]_-),  similar  to  <b><a href="../man8/run-parts.8.html">run-parts</a>(8).</b>   Additionally,
       <b>update-exim4.conf</b> will use /etc/exim4/conf.d/foo/bar.rul instead of /etc/exim4/conf.d/foo/bar if the .rul
       file exists. This is meant to be helpful for easy interaction with packages extending Exim.

       If the new configuration will be written to /var/lib/exim4/config.autogenerated,  <b>update-exim4.conf</b>  will
       check  the  validity  of  the  freshly  generated  configuration. If the new file is detected as invalid,
       update-exim4.conf leaves the old /var/lib/exim4/config.autogenerated untouched and exits with an error.

       However, there are still possible invalidities that can only be detected at run time. This  most  notably
       applies to errors in expressions that are expanded at run time.

       If  the  new  configuration will be written to some other file, no validity checking occurs and that file
       will always be overwritten.

</pre><h4><b>EXAMPLES</b></h4><pre>
       You  want  to  be  able  to  check  exim's  queue  as  normal   user:   Generate   a   new   file,   e.g.
       /etc/exim4/conf.d/main/40_local_mailq, containing only the line <u>queue_list_requires_admin</u> <u>=</u> <u>false</u>

</pre><h4><b>NOTES</b></h4><pre>
       <b>update-exim4.conf</b>  changes  the  file  permissions  of  the  output  file to the value of the environment
       variable CFILEMODE.  If  CFILEMODE  is  neither  set  in  /etc/exim4/update-exim4.conf.conf  nor  in  the
       environment  it  defaults  to  0644.   Change this to 0640 if you are keeping sensitive information (LDAP
       credentials et. al.) in there.

</pre><h4><b>CONFIGURATION</b> <b>VARIABLES</b></h4><pre>
       All lists given in configuration variables are semicolon-separated. In the past, they used  to  be  colon
       separated.  This  was  changed  to  semicolon  separation to make specification of IPv6 addresses easier.
       Backwards compatibility is preserved, so that old configurations using  colons  as  separators  do  still
       work.  Colons  are  deprecated and might stop working in a later release. If you need to specify a single
       IPv6 address in a field that is defined as a list of host names or IP addresses, please  prefix  "&lt;;"  to
       explicitly  specify the list separator as a semicolon. Otherwise, the code cannot tell an IP address from
       a colon-separated list of strange host names.

       Using lookups like "dsearch;something" in update-exim4.conf.conf has never been  supported  and  does  no
       longer work! If you need this, please convert to directly setting the appropriate macros.

       <b>update-exim4.conf</b> evaluates these patterns in <b>/etc/exim4/update-exim4.conf.conf:</b>

       <u>CFILEMODE</u>
              The octal file mode of the generated file.

       <u>dc_eximconfig_configtype</u>
              The  main  configuration  type.  Sets macro DC_eximconfig_configtype. The macro usually contains a
              shorthand for one of the choices for the “General type of  mail  configuration”  debconf  question
              (See README.Debian).

              <b>dc_eximconfig_configtype</b> <b>&lt;-&gt;</b> <b>debconf</b> <b>configtype</b> <b>mapping:</b>
              “internet”
                     internet site; mail is sent and received directly using SMTP
              “smarthost”
                     mail sent by smarthost; received via SMTP or fetchmail
              “satellite”
                     mail sent by smarthost; no local mail
              “local”
                     local delivery only; not on a network
              “none” no configuration at this time

       <u>dc_hide_mailname</u>
              Boolean  option that controls whether the local mailname in the headers of outgoing mail should be
              hidden. (Only effective for “smarthost” and “satellite”. Sets macro HIDE_MAILNAME.

       <u>dc_mailname_in_oh</u>
              Internal use only Boolean option that is set by the maintainer scripts after adding  the  contents
              of  /etc/mailname  to  the  dc_other_hostnames list. This is a transition helper since it wouldn't
              otherwise be possible to see whether that domain name has been removed from dc_other_hostnames  on
              purpose. This is not used by update-exim4.conf, and no macro is set.

       <u>ue4c_keepcomments</u>
              Boolean  option  that  controls  whether  <b>update-exim4.conf</b>  strips  the  comments from the target
              configuration file (default) or leaves them in. This can be overridden by the command line options
              --keepcomments and --removecomments. The value is not written to an exim macro.

       <u>dc_localdelivery</u>
              name of the default transport for local mail  delivery.  Defaults  to  mail_spool  if  unset,  use
              maildir_home for delivery to <a href="file:~/Maildir/.">~/Maildir/.</a> Sets macro LOCAL_DELIVERY.

       <u>dc_local_interfaces</u>
              List  of IP addresses the Exim daemon should listen on. If this is left empty, Exim listens on all
              interfaces. Sets macro MAIN_LOCAL_INTERFACES only if there is a non-empty value.

       <u>dc_minimaldns</u>
              Boolean option to activate some option  to  minimize  DNS  lookups,  if  set  to  “true”  a  macro
              DC_minimaldns  is  defined.  If  true,  the  macro  DC_minimaldns  is  set  to  1,  and  the macro
              MAIN_HARDCODE_PRIMARY_HOSTNAME is set to  the  appropriately  post-processes  output  of  hostname
              --fqdn.

       <u>dc_other_hostnames</u>
              is  used  to build the local_domains list, together with “localhost”.  This is the list of domains
              for which this machine should consider itself the final destination. The local_domains  list  ends
              up in the macro MAIN_LOCAL_DOMAINS.

       <u>dc_readhost</u>
              For  “smarthost”  and  “satellite”  it  is  possible  to hide the local mailname in the headers of
              outgoing mail and replace it with this value instead, using rewriting. For “satellite” only,  this
              value is also the host to send local mail to. Sets macro DCreadhost.

       <u>dc_relay_domains</u>
              is  a  list  of  domains  for which we accept mail from anywhere on the Internet but which are not
              delivered locally, e.g. because this machine serves  as  secondary  MX  for  these  domains.  Sets
              MAIN_RELAY_TO_DOMAINS.

       <u>dc_relay_nets</u>
              A  list of machines for which we serve as smarthost. Please note that 127.0.0.1 and ::1 are always
              permitted to relay since /usr/lib/sendmail is available anyway  and  relay  control  doesn't  make
              sense here. Sets macro MAIN_RELAY_NETS.

       <u>dc_smarthost</u>
              List  of  hosts to which all outgoing mail is passed to and that takes care of delivering it. Each
              of the hosts is tried, in  the  order  specified  (See  exim  specification,  chapter  20.5).  All
              deliveries  go  out  to  TCP  port  25  unless  a different port is specified after the host name,
              separated from the host name by two colons. Colons in IPv6 addresses need to be doubled. If a port
              number follows, IP addresses may be enclosed in brackets, which might be the only  possibility  to
              specify delivery to an IPv6 address and a different port. Examples:
              <b>host.domain.example</b> deliver to host looked up on DNS, tcp/25
              <b>host.domain.example::587</b> deliver to host looked up on DNS, tcp/587
              <b>192.168.2.4</b> deliver to IPv4 host, tcp/25
              <b>192.168.2.4::587</b> deliver to IPv4 host, tcp/587
              <b>[192.168.2.4]::587</b> deliver to IPv4 host, tcp/587
              <b>2001::0db8::f::4::::2</b> deliver to IPv6 host, tcp/25
              <b>[2001::0db8::f::4::::2]::587</b> deliver to IPv6 host, tcp/587
              This is used as value of the DCsmarthost macro.

       <u>dc_use_split_config</u>
              Boolean   option  that  controls  whether  <b>update-exim4.conf</b>  uses  /etc/exim4/exim4.conf.template
              (“false”) or the multiple files below /etc/exim4/conf.d (“true”) as input. This does not  set  any
              macros.

       <u>The</u> <u>macro</u> <u>MAIN_PACKAGE_VERSION</u> <u>is</u> <u>set</u> <u>to</u> <u>Debian's</u> <u>Version</u> <u>number</u> <u>of</u>
              the package being installed for convenient inclusion in the configuration.

</pre><h4><b>RECOMMENDED</b> <b>USAGE</b></h4><pre>
       If  you  are running exim as daemon (as it is in the default setup of the Debian packages) you should not
       invoke <b>update-exim4.conf</b> directly when exim is running. For SMTP receiving or queue running, exim  forks,
       and  the  new  processes  would use the new configuration file, while the original main exim daemon would
       still use the old configuration file. You should use <u>invoke-rc.d</u> <u>exim4</u> <u>restart</u> instead.

</pre><h4><b>BUGS</b></h4><pre>
       This manual page needs a major re-work. If somebody knows better groff than us and has more experience in
       writing manual pages, any patches would be greatly appreciated.

</pre><h4><b>FILES</b></h4><pre>
       <b>/var/lib/exim4/config.autogenerated</b>
              Exim's main configuration file

       <b>/etc/exim4/exim4.conf</b>
              Optional manually managed Exim main configuration file. Takes precedence over debconf managed  one
              if it exists.

       <b>/etc/exim4/update-exim4.conf.conf</b>
              Configuration file being written by exim4-config maintainer scripts, which may be hand-edited, and
              is read as input by update-exim4.conf.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man8/exim.8.html">exim</a></b>(8),  <b><a href="../man5/exim4-config_files.5.html">exim4-config_files</a></b>(5),  /usr/share/doc/exim4-base/  and  for  general  notes  and details about
       interaction with debconf /usr/share/doc/exim4-base/README.Debian.gz

</pre><h4><b>AUTHOR</b></h4><pre>
       Andreas Metzler &lt;ametzler at debian.org&gt;
       Marc Haber &lt;mh+<a href="mailto:debian-packages@zugschlus.de">debian-packages@zugschlus.de</a>&gt;

EXIM4                                             Jun 25, 2005                              <u><a href="../man8/UPDATE-EXIM4.CONF.8.html">UPDATE-EXIM4.CONF</a></u>(8)
</pre>
 </div>
</div></section>
</div>
</body>
</html>