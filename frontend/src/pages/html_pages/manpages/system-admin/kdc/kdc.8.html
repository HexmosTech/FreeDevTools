<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>kdc — Kerberos 5 server</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/heimdal-kdc">heimdal-kdc_7.8.git20221117.28daf24+dfsg-9ubuntu1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       kdc — Kerberos 5 server

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>kdc</b>  [<b>-c</b> <u>file</u> | <b>--config-file=</b><u>file</u>] [<b>-p</b> | <b>--no-require-preauth</b>] [<b>--max-request=</b><u>size</u>] [<b>-H</b> | <b>--enable-http</b>]
           [<b>-r</b>  <u>string</u>  |  <b>--v4-realm=</b><u>string</u>]  [<b>-P</b>  <u>portspec</u>  |  <b>--ports=</b><u>portspec</u>]  [<b>--detach</b>]   [<b>--disable-des</b>]
           [<b>--addresses=</b><u>list</u> <u>of</u> <u>addresses</u>]

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>kdc</b>  serves requests for tickets.  When it starts, it first checks the flags passed, any options that are
       not specified with a command line flag are taken from a config file, or from a default compiled-in value.

       Options supported:

       <b>-c</b> <u>file</u>, <b>--config-file=</b><u>file</u>
               Specifies the location of the config file, the default is <u>/etc/heimdal-kdc/kdc.conf</u>.  This is the
               only value that can't be specified in the config file.

       <b>-p</b>, <b>--no-require-preauth</b>
               Turn off the requirement for pre-autentication in the initial AS-REQ for all principals.  The use
               of pre-authentication makes it more difficult to do offline password attacks.  You might want  to
               turn  it  off  if  you  have  clients that don't support pre-authentication.  Since the version 4
               protocol doesn't support any pre-authentication, serving version 4 clients is just about the same
               as not requiring pre-athentication.  The default is to require  pre-authentication.   Adding  the
               require-preauth per principal is a more flexible way of handling this.

       <b>--max-request=</b><u>size</u>
               Gives an upper limit on the size of the requests that the kdc is willing to handle.

       <b>-H</b>, <b>--enable-http</b>
               Makes the kdc listen on port 80 and handle requests encapsulated in HTTP.

       <b>-r</b> <u>string</u>, <b>--v4-realm=</b><u>string</u>
               What  realm  this  server  should  act as when dealing with version 4 requests.  The database can
               contain any number of realms, but since the version 4 protocol doesn't contain a  realm  for  the
               server,   it   must   be   explicitly   specified.   The  default  is  whatever  is  returned  by
               <b>krb_get_lrealm</b>().  This option is only available if the KDC has  been  compiled  with  version  4
               support.

       <b>-P</b> <u>portspec</u>, <b>--ports=</b><u>portspec</u>
               Specifies the set of ports the KDC should listen on.  It is given as a white-space separated list
               of services or port numbers.

       <b>--addresses=</b><u>list</u> <u>of</u> <u>addresses</u>
               The  list  of  addresses  to  listen for requests on.  By default, the kdc will listen on all the
               locally configured addresses.  If only a subset is desired, or  the  automatic  detection  fails,
               this option might be used.

       <b>--detach</b>
               detach from pty and run as a daemon.

       <b>--disable-des</b>
               disable all des encryption types, makes the kdc not use them.

       All activities are logged to one or more destinations, see <u><a href="../man5/krb5.conf.5.html">krb5.conf</a></u>(5), and <u><a href="../man3/krb5_openlog.3.html">krb5_openlog</a></u>(3).  The entity
       used for logging is <b>kdc</b>.

</pre><h4><b>CONFIGURATION</b> <b>FILE</b></h4><pre>
       The configuration file has the same syntax as <u><a href="../man5/krb5.conf.5.html">krb5.conf</a></u>(5), but will be read before <u>/etc/krb5.conf</u>, so it
       may  override  settings  found there.  Options specific to the KDC only are found in the “[kdc]” section.
       All the command-line options can preferably be added in the configuration file.  The only  difference  is
       the pre-authentication flag, which has to be specified as:

             <b>require-preauth</b> <b>=</b> <b>no</b>

       (in fact you can specify the option as <b>--require-preauth=no</b>).

       And there are some configuration options which do not have command-line equivalents:

             <b>enable-digest</b> <b>=</b> <u>boolean</u>
                  turn on support for digest processing in the KDC.  The default is FALSE.

             <b>check-ticket-addresses</b> <b>=</b> <u>boolean</u>
                  Check the addresses in the ticket when processing TGS requests.  The default is TRUE.

             <b>allow-null-ticket-addresses</b> <b>=</b> <u>boolean</u>
                  Permit tickets with no addresses.  This option is only relevant when check-ticket-addresses is
                  TRUE.

             <b>allow-anonymous</b> <b>=</b> <u>boolean</u>
                  Permit anonymous tickets with no addresses.

             <b>historical_anon_realm</b> <b>=</b> <u>boolean</u>
                  Enables  pre-7.0  non-RFC-comformant  KDC  behavior.   With this option set to <b>true</b> the client
                  realm in anonymous pkinit AS replies will  be  the  requested  realm,  rather  than  the  RFC-
                  conformant  <b>WELLKNOWN:ANONYMOUS</b> realm.  This can have a security impact on servers that expect
                  to grant access to anonymous-but-authenticated to the KDC users of the realm in question: they
                  would also grant access to unauthenticated anonymous users.  As such, it is not  recommend  to
                  set this option to <b>true.</b>

             <b>max-kdc-datagram-reply-length</b> <b>=</b> <u>number</u>
                  Maximum  packet  size  the  UDP  rely that the KDC will transmit, instead the KDC sends back a
                  reply telling the client to use TCP instead.

             <b>transited-policy</b> <b>=</b> <b>always-check</b> | <b>allow-per-principal</b> | <b>always-honour-request</b>
                  This controls how KDC requests with the <b>disable-transited-check</b> flag are handled.  It  can  be
                  one of:

                        <b>always-check</b>
                             Always check transited encoding, this is the default.

                        <b>allow-per-principal</b>
                             Currently  this  is  identical  to  <b>always-check</b>.   In a future release, it will be
                             possible to mark a principal as able to handle unchecked requests.

                        <b>always-honour-request</b>
                             Always do what the client asked.  In a future release, it will be possible to force
                             a check per principal.

             encode_as_rep_as_tgs_rep = <u>boolean</u>
                  Encode AS-Rep as TGS-Rep to be bug-compatible with old DCE code.  The  Heimdal  clients  allow
                  both.

             kdc_warn_pwexpire = <u>time</u>
                  How  long  before  password/principal  expiration  the  KDC  should  start sending out warning
                  messages.

       The configuration file is only read when the <b>kdc</b> is started.  If changes made to the  configuration  file
       are to take effect, the <b>kdc</b> needs to be restarted.

       An example of a config file:

             [kdc]
                     require-preauth = no
                     v4-realm = FOO.SE

</pre><h4><b>BUGS</b></h4><pre>
       If the machine running the KDC has new addresses added to it, the KDC will have to be restarted to listen
       to  them.   The  reason  it  doesn't  just  listen to wildcarded (like INADDR_ANY) addresses, is that the
       replies has to come from the same address they were sent to, and most OS:es doesn't pass this information
       to the application.  If your normal mode of operation require that you add and remove addresses, the best
       option is probably to listen to a wildcarded TCP socket, and make sure your clients use TCP  to  connect.
       For instance, this will listen to IPv4 TCP port 88 only:

             kdc --addresses=0.0.0.0 --ports="88/tcp"

       There  should  be a way to specify protocol, port, and address triplets, not just addresses and protocol,
       port tuples.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <u><a href="../man1/kinit.1.html">kinit</a></u>(1), <u><a href="../man5/krb5.conf.5.html">krb5.conf</a></u>(5)

HEIMDAL                                          August 24, 2006                                          <u><a href="../man8/KDC.8.html">KDC</a></u>(8)
</pre>
 </div>
</div></section>
</div>
</body>
</html>