<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>nss-resolve, libnss_resolve.so.2 - Hostname resolution via systemd-resolved.service</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libnss-resolve">libnss-resolve_257.7-1ubuntu3_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       nss-resolve, libnss_resolve.so.2 - Hostname resolution via systemd-resolved.service

</pre><h4><b>SYNOPSIS</b></h4><pre>
       libnss_resolve.so.2

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>nss-resolve</b> is a plug-in module for the GNU Name Service Switch (NSS) functionality of the GNU C Library
       (<b>glibc</b>) enabling it to resolve hostnames via the <b><a href="../man8/systemd-resolved.8.html">systemd-resolved</a></b>(8) local network name resolution
       service. It replaces the <b>nss-dns</b> plug-in module that traditionally resolves hostnames via DNS.

       To activate the NSS module, add "resolve [!UNAVAIL=return]" to the line starting with "hosts:" in
       /etc/nsswitch.conf. Specifically, it is recommended to place "resolve" early in <a href="file:/etc/nsswitch.conf">/etc/nsswitch.conf</a>'s
       "hosts:" line. It should be before the "files" entry, since systemd-resolved supports <a href="file:/etc/hosts">/etc/hosts</a>
       internally, but with caching. To the contrary, it should be after "mymachines", to give hostnames given
       to local VMs and containers precedence over names received over DNS. Finally, we recommend placing "dns"
       somewhere after "resolve", to fall back to <b>nss-dns</b> if systemd-resolved.service is not available.

       Note that <b>systemd-resolved</b> will synthesize DNS resource records in a few cases, for example for
       "localhost" and the current local hostname, see <b><a href="../man8/systemd-resolved.8.html">systemd-resolved</a></b>(8) for the full list. This duplicates
       the functionality of <b><a href="../man8/nss-myhostname.8.html">nss-myhostname</a></b>(8), but it is still recommended (see examples below) to keep
       <b>nss-myhostname</b> configured in <a href="file:/etc/nsswitch.conf">/etc/nsswitch.conf</a>, to keep those names resolveable if <b>systemd-resolved</b> is
       not running.

       Please keep in mind that <b>nss-myhostname</b> (and <b>nss-resolve</b>) also resolve in the other direction â€” from
       locally attached IP addresses to hostnames. If you rely on that lookup being provided by DNS, you might
       want to order things differently.

       Communication between <b>nss-resolve</b> and systemd-resolved.service takes place via the
       /run/systemd/resolve/io.systemd.Resolve <b>AF_UNIX</b> socket.

</pre><h4><b>ENVIRONMENT</b> <b>VARIABLES</b></h4><pre>
       <u>$SYSTEMD_NSS_RESOLVE_VALIDATE</u>
           Takes a boolean argument. When false, cryptographic validation of resource records via DNSSEC will be
           disabled. This may be useful for testing, or when system time is known to be unreliable.

           Added in version 250.

       <u>$SYSTEMD_NSS_RESOLVE_SYNTHESIZE</u>
           Takes a boolean argument. When false, synthetic records, e.g. for the local host name, will not be
           returned. See section SYNTHETIC RECORDS in <b><a href="../man8/systemd-resolved.service.8.html">systemd-resolved.service</a></b>(8) for more information. This may
           be useful to query the "public" resource records, independent of the configuration of the local
           machine.

           Added in version 250.

       <u>$SYSTEMD_NSS_RESOLVE_CACHE</u>
           Takes a boolean argument. When false, the cache of previously queried records will not be used by
           <b><a href="../man8/systemd-resolved.8.html">systemd-resolved</a></b>(8).

           Added in version 250.

       <u>$SYSTEMD_NSS_RESOLVE_ZONE</u>
           Takes a boolean argument. When false, answers using locally registered public LLMNR/mDNS resource
           records will not be returned.

           Added in version 250.

       <u>$SYSTEMD_NSS_RESOLVE_TRUST_ANCHOR</u>
           Takes a boolean argument. When false, answers using locally configured trust anchors will not be
           used.

           Added in version 250.

       <u>$SYSTEMD_NSS_RESOLVE_NETWORK</u>
           Takes a boolean argument. When false, answers will be returned without using the network, i.e. either
           from local sources or the cache in <b><a href="../man8/systemd-resolved.8.html">systemd-resolved</a></b>(8).

           Added in version 250.

</pre><h4><b>EXAMPLE</b></h4><pre>
       Here is an example <a href="file:/etc/nsswitch.conf">/etc/nsswitch.conf</a> file that enables <b>nss-resolve</b> correctly:

           passwd:         files systemd
           group:          files [SUCCESS=merge] systemd
           shadow:         files systemd
           gshadow:        files systemd

           hosts:          mymachines <b>resolve</b> <b>[!UNAVAIL=return]</b> files myhostname dns
           networks:       files

           protocols:      db files
           services:       db files
           ethers:         db files
           rpc:            db files

           netgroup:       nis

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man1/systemd.1.html">systemd</a></b>(1), <b><a href="../man8/systemd-resolved.8.html">systemd-resolved</a></b>(8), <b><a href="../man8/nss-systemd.8.html">nss-systemd</a></b>(8), <b><a href="../man8/nss-myhostname.8.html">nss-myhostname</a></b>(8), <b><a href="../man8/nss-mymachines.8.html">nss-mymachines</a></b>(8), <b><a href="../man5/nsswitch.conf.5.html">nsswitch.conf</a></b>(5),
       <b><a href="../man7/systemd.syntax.7.html">systemd.syntax</a></b>(7)

systemd 257.7                                                                                     <u><a href="../man8/NSS-RESOLVE.8.html">NSS-RESOLVE</a></u>(8)
</pre>
 </div>
</div></section>
</div>
</body>
</html>