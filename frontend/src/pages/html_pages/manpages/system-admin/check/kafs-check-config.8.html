<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>kafs-check-config - AFS configuration check tool</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/kafs-client">kafs-client_0.5-5_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       kafs-check-config - AFS configuration check tool

</pre><h4><b>SYNOPSIS</b></h4><pre>
       kafs-check-config [-46PDvv] [-c &lt;conffile&gt;]* [-N &lt;restriction&gt;] [&lt;cellname&gt;]*

</pre><h4><b>DESCRIPTION</b></h4><pre>
       This program is used to check the configuration for the in-kernel AFS filesystem (kAFS).  This
       configuration is used when systemd mounts the filesystem to load up the cell database and create cell
       automounts in the /afs directory.

       The configuration is also used by the kernel name resolver upcall to provide static configuration for
       some cells and to specify overrides and limits on DNS lookups.

       If a list of "cellname" arguments is given, the listed cells will be dumped, including the sources of the
       Volume Location records and address records.

</pre><h4><b>OPTIONS</b></h4><pre>
       <b>-4</b>  Only show IPv4 addresses in the dump.

       <b>-6</b>  Only show IPv6 addresses in the dump.

       <b>-P</b>  Dump the parse tree of the configuration file(s).

       <b>-D</b>  Dump the cell database extracted from the configuration.

       <b>-v</b>  Increase the verbosity of the output.  This may be specified multiple times.

       <b>-c</b> <b>&lt;conffile</b>&gt;
           Specify  a  configuration file to read instead of the system default.  This may be specified multiple
           times and the configuration files are read and applied in order.

       <b>-N</b> <b>&lt;restriction</b>&gt;
           Apply a restriction to the lookup performed for the listed cells (if any  are).   Valid  restrictions
           include:

           vl-srv
               Don't use SRV records to find Volume Location servers.

           vl-afsdb
               Don't use AFSDB records to find Volume Location servers.

           vl-all
               Don't use SRV or AFSDB records to find Volume Location servers.

           vl-host
               Don't look cell name up as hostname to find a Volume Location server.

               vl-dns

               Don't do any lookups to find Volume Location servers.  Use only the static configuration.

</pre><h4><b>ARGUMENT</b></h4><pre>
       &lt;cellname&gt;
           The  AFS  cell  name  to display.  Multiple cells may be specified.  If no cell name is specified the
           default cell specified in "/proc/net/afs/rootcell" is displayed.

</pre><h4><b>EXIT</b> <b>STATUS</b></h4><pre>
       0 - If check okay and any dumping succeeded
       1 - If an error occurs during processing
       2 - If a command line error occurs

</pre><h4><b>EXAMPLES</b></h4><pre>
       To display the configuration for the default cell:

               # kafs-check-config

               === Found cell some-cell.org ===
                 - use-dns=no
                 - show-cell=no
                 - status: no-lookup, from config
                 - VLSERVER shelter-4.some-cell.org [good; nss]
                   - address 10.0.0.48
                 - VLSERVER shelter-5.some-cell.org [good; nss]
                   - address 10.0.0.54

       To display two specific cells:

               # kafs-check-config ir.stanford.edu grand.central.org

               === Found cell ir.stanford.edu ===
                 - show-cell=no
                 - status: good, from SRV
                 - VLSERVER afsdb3.stanford.edu [good; nss]
                   - udp
                   - port 7003, pref 0, weight 0
                   - address 171.64.7.246
                 - VLSERVER afsdb2.stanford.edu [good; nss]
                   - udp
                   - port 7003, pref 0, weight 0
                   - address 171.64.7.234
                 - VLSERVER afsdb1.stanford.edu [good; nss]
                   - udp
                   - port 7003, pref 0, weight 0
                   - address 171.64.7.222

               === Found cell grand.central.org ===
                 - show-cell=no
                 - status: good, from SRV
                 - VLSERVER grand.mit.edu [good; nss]
                   - udp
                   - port 7003, pref 0, weight 0
                   - address 18.9.48.14
                 - VLSERVER grand-old-opry.central.org [good; nss]
                   - udp
                   - port 7003, pref 0, weight 0
                   - address 128.2.13.219

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man7/kafs.7.html">kafs</a></b>(7), <b><a href="../man5/kafs-client.conf.5.html">kafs-client.conf</a></b>(5), <b><a href="../man8/kafs-preload.8.html">kafs-preload</a></b>(8)

</pre><h4><b>COPYRIGHT</b></h4><pre>
       Copyright (C) 2019 Red Hat, Inc. All Rights Reserved.

       Written by David Howells (<a href="mailto:dhowells@redhat.com">dhowells@redhat.com</a>)

       This program is free software; you can redistribute it and/or modify  it  under  the  terms  of  the  GNU
       General  Public License as published by the Free Software Foundation; either version 2 of the License, or
       (at your option) any later version.

0.5-5                                              2024-07-09                               <u><a href="../man8/KAFS-CHECK-CONFIG.8.html">KAFS-CHECK-CONFIG</a></u>(8)
</pre>
 </div>
</div></section>
</div>
</body>
</html>