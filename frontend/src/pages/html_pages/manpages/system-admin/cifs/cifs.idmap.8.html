<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>cifs.idmap - Userspace helper for mapping ids for Common Internet File System (CIFS)</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/cifs-utils">cifs-utils_7.4-1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       cifs.idmap - Userspace helper for mapping ids for Common Internet File System (CIFS)

</pre><h4><b>SYNOPSIS</b></h4><pre>
          cifs.idmap [--help|-h] [--timeout|-t] [--version|-v] {keyid}

</pre><h4><b>DESCRIPTION</b></h4><pre>
       This tool is part of the cifs-utils suite.

       <b>cifs.idmap</b>   is  a  userspace  helper program for the linux CIFS client filesystem. There are a number of
       activities that the kernel cannot easily do itself. This program is a callout  program  that  does  these
       things for the kernel and then returns the result.

       <b>cifs.idmap</b>   is  generally  intended  to be run when the kernel calls <a href="../man8/request-key.8.html">request-key</a>(8) for a particular key
       type. While it can be run directly from the command-line, it is not generally intended  to  be  run  that
       way.

       This  program  is  only  called if a share is mounted with the <b>cifsacl</b> mount option. The kernel will only
       upcall to do this conversion if that mount option is specified.

       <b>cifs.idmap</b>  relies on a plugin to handle the ID mapping. If it can't find the plugin  then  it  will  not
       work properly. The plugin (or a symlink to it) must be at /etc/cifs-utils/idmap-plugin.

       In  the case where <b>cifs.idmap</b> or the plugin are unavailable, file objects in a mounted share are assigned
       uid and gid of the credentials of the process that mounted the share. It is strongly recomemended to  use
       mount  options  of  uid and gid to specify a default uid and gid to map owner SIDs and group SIDs in this
       situation.

</pre><h4><b>OPTIONS</b></h4><pre>
       <b>--help|-h</b>
              Print the usage message and exit.

       <b>--timeout|-t</b>
              Set the expiration timer, in seconds on the key. The default is 600 seconds (10 minutes).  Setting
              this to 0 will cause the key to never expire.

       <b>--version|-v</b>
              Print version number and exit.

</pre><h4><b>CONFIGURATION</b> <b>FOR</b> <b>KEYCTL</b></h4><pre>
       <b>cifs.idmap</b>   is  designed to be called from the kernel via the request-key callout program. This requires
       that request-key be told where and how to call this program.  Currently <b>cifs.idmap</b>  handles  a  key  type
       of:

          cifs.idmap

       This keytype is for mapping a SID to either an uid or a gid.

       To  make  this program useful for CIFS, you will need to set up entry for it in <a href="../man5/request-key.conf.5.html">request-key.conf</a>(5). Here
       is an example of an entry for this key type:

          #OPERATION  TYPE           D C PROGRAM ARG1 ARG2...
          #=========  =============  = = ================================
          create      cifs.idmap     * * /usr/sbin/cifs.idmap %k

       See <a href="../man5/request-key.conf.5.html">request-key.conf</a>(5) for more info on each field.

</pre><h4><b>NOTES</b></h4><pre>
       Support for upcalls to cifs.idmap was initially introduced in the 3.0 kernel.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <a href="../man5/request-key.conf.5.html">request-key.conf</a>(5), <a href="../man8/mount.cifs.8.html">mount.cifs</a>(8)

</pre><h4><b>AUTHOR</b></h4><pre>
       Shirish Pargaonkar wrote the cifs.idmap program.

       The Linux CIFS Mailing list is the preferred place to ask questions regarding these programs.

                                                                                                   <u><a href="../man8/CIFS.IDMAP.8.html">CIFS.IDMAP</a></u>(8)
</pre>
 </div>
</div></section>
</div>
</body>
</html>