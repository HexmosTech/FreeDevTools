<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>invoke-rc.d - executes System-V style init script actions</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/init-system-helpers">init-system-helpers_1.68_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       invoke-rc.d - executes System-V style init script actions

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>invoke-rc.d</b>  [<u>--quiet</u>]  [<u>--force</u>]  [<u>--try-anyway</u>] [<u>--disclose-deny</u>] [<u>--query</u>] [<u>--no-fallback</u>] <u>name</u> <u>action</u>
       [<u>init</u> <u>script</u> <u>parameters...</u>]

       <b>invoke-rc.d</b> [<u>--help</u>]

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>invoke-rc.d</b> is a generic interface to execute  System  V  style  init  script  <b><a href="file:/etc/init.d/">/etc/init.d/</a></b><u>name</u>  actions,
       obeying runlevel constraints as well as any local policies set by the system administrator.

       All access to the init scripts by Debian packages' maintainer scripts should be done through <b>invoke-rc.d</b>.

       This  manpage  documents  only  the  usage and behavior of <b>invoke-rc.d</b>.  For a discussion of the System V
       style init script arrangements please see <b><a href="../man8/init.8.html">init</a></b>(8).  More information on invoke-rc.d can be found  in  the
       section on runlevels and init.d scripts of the <u>Debian</u> <u>Policy</u> <u>Manual</u>.

</pre><h4><b>INIT</b> <b>SCRIPT</b> <b>ACTIONS</b></h4><pre>
       The  standard  actions  are:  <u>start</u>,  <u>stop</u>,  <u>force-stop</u>,  <u>restart</u>, <u>try-restart</u>, <u>reload</u>, <u>force-reload</u>, and
       <u>status</u>.  Other actions are accepted, but they can cause problems to  <b>policy-rc.d</b>  (see  the  <b>INIT</b>  <b>SCRIPT</b>
       <b>POLICY</b> section), so warnings are generated if the policy layer is active.

       Please  note  that  not all init scripts will implement all the actions listed above, and that the policy
       layer may override an action to another action(s), or even deny it.

       Any extra parameters will be passed to the init script(s) being executed.

       If an action must be carried out regardless of any local policies, use the <u>--force</u> switch.

</pre><h4><b>OPTIONS</b></h4><pre>
       <u>--help</u> Display usage help.

       <u>--quiet</u>
              Quiet mode, no error messages are generated.

       <u>--force</u>
              Tries to run the init script regardless of policy and init script subsystem errors.  <b>Use</b>  <b>of</b>  <b>this</b>
              <b>option</b> <b>in</b> <b>Debian</b> <b>maintainer</b> <b>scripts</b> <b>is</b> <b>severely</b> <b>discouraged.</b>

       <u>--try-anyway</u>
              Tries to run the init script if a non-fatal error is detected.

       <u>--disclose-deny</u>
              Return  status code 101 instead of status code 0 if the init script action is denied by the policy
              layer.

       <u>--query</u>
              Returns one of the status codes 100-106. Does not run the init script, and implies <u>--disclose-deny</u>
              and <u>--no-fallback</u>.

       <u>--no-fallback</u>
              Ignores any fallback action requests by the policy layer.  <b>Warning:</b> this is  usually  a  very  bad
              idea for any actions other than start.

       <u>--skip-systemd-native</u>
              Exits  before  doing  anything if a systemd environment is detected and the requested service is a
              native systemd unit.  This is useful for maintainer scripts that want to defer systemd actions  to
              <b><a href="../man1p/deb-systemd-invoke.1p.html">deb-systemd-invoke</a></b>(1p)

</pre><h4><b>STATUS</b> <b>CODES</b></h4><pre>
       Should  an  init  script  be  executed,  <b>invoke-rc.d</b>  always returns the status code returned by the init
       script. Init scripts should not return status codes in the 100+ range (which is reserved in Debian and by
       the LSB). The status codes returned by invoke-rc.d proper are:

       <b>0</b>      <u>Success</u>.  Either the init script was run and returned exit status 0 (note that a  fallback  action
              may  have  been  run  instead  of the one given in the command line), or it was not run because of
              runlevel/local policy constrains and <b>--disclose-deny</b> is not in effect.

       <b>1</b> <b>-</b> <b>99</b> Reserved for init.d script, usually indicates a failure.

       <b>100</b>    <b>Init</b> <b>script</b> <b>ID</b> <b>(</b><u>name</u><b>)</b> <b>unknown.</b>  This means the init script was not registered successfully through
              <b>update-rc.d</b> or that the init script does not exist.

       <b>101</b>    <b>Action</b> <b>not</b> <b>allowed</b>.  The requested action will not be  performed  because  of  runlevel  or  local
              policy constraints.

       <b>102</b>    <b>Subsystem</b>  <b>error</b>.   Init  script (or policy layer) subsystem malfunction. Also, forced init script
              execution due to <u>--try-anyway</u> or <u>--force</u> failed.

       <b>103</b>    <u>Syntax</u> <u>error.</u>

       <b>104</b>    <u>Action</u> <u>allowed</u>.  Init script would be run, but <b>--query</b> is in effect.

       <b>105</b>    <u>Behavior</u> <u>uncertain</u>.  It cannot be determined if action should be carried out or not,  and  <b>--query</b>
              is in effect.

       <b>106</b>    <u>Fallback</u>  <u>action</u> <u>requested</u>.  The policy layer denied the requested action, and supplied an allowed
              fallback action to be used instead.

</pre><h4><b>INIT</b> <b>SCRIPT</b> <b>POLICY</b></h4><pre>
       <b>invoke-rc.d</b> introduces the concept of a policy layer which is used to verify if an init script should  be
       run or not, or if something else should be done instead.  This layer has various uses, the most immediate
       ones  being  avoiding  that  package upgrades start daemons out-of-runlevel, and that a package starts or
       stops daemons while inside a chroot jail.

       The policy layer has the following abilities: deny or approve the execution of an  action;  request  that
       another  action  (called  a  <u>fallback</u>)  is  to be taken, instead of the action requested in invoke-rc.d's
       command line; or request multiple actions to be tried in order, until one of them  succeeds  (a  multiple
       <u>fallback</u>).

       <b>invoke-rc.d</b>  itself  only  pays  attention to the current runlevel; it will block any attempts to start a
       service in a runlevel in which the service is disabled.  Other policies are implemented with the  use  of
       the <b>policy-rc.d</b> helper, and are only available if <b>/usr/sbin/policy-rc.d</b> is installed in the system.

</pre><h4><b>FILES</b></h4><pre>
       <b><a href="file:/etc/init.d/">/etc/init.d/</a>*</b>
              System V init scripts.

       <b>/usr/sbin/policy-rc.d</b>
              Init script policy layer helper (not required).

       <b>/etc/rc?.d/*</b>
              System V runlevel configuration.

</pre><h4><b>NOTES</b></h4><pre>
       <b>invoke-rc.d</b>  special  cases the <u>status</u> action, and returns exit status 4 instead of exit status 0 when it
       is denied.

</pre><h4><b>BUGS</b></h4><pre>
       See  &lt;<a href="http://bugs.debian.org/sysv-rc">http://bugs.debian.org/sysv-rc</a>&gt;  and
        &lt;<a href="http://bugs.debian.org/init-system-helpers">http://bugs.debian.org/init-system-helpers</a>&gt; .

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <u>Debian</u> <u>Policy</u> <u>manual</u>,
       <b>/etc/init.d/skeleton</b>,
       <b><a href="../man8/update-rc.d.8.html">update-rc.d</a></b>(8),
       <b><a href="../man8/init.8.html">init</a></b>(8),
       <b><a href="file:/usr/share/doc/init-system-helpers/README.policy-rc.d.gz">/usr/share/doc/init-system-helpers/README.policy-rc.d.gz</a></b>

</pre><h4><b>AUTHOR</b></h4><pre>
       Henrique de Moraes Holschuh

       License: GNU General Public License v2 or Later (GPLv2+)

</pre><h4><b>COPYRIGHT</b></h4><pre>
       2001 Henrique de Moraes Holschuh

1 March 2001                                                                                      <u><a href="../man8/INVOKE-RC.D.8.html">INVOKE-RC.D</a></u>(8)
</pre>
 </div>
</div></section>
</div>
</body>
</html>