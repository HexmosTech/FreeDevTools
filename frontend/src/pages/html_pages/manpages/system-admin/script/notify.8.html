<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>notify - HylaFAX user notification script</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/hylafax-server">hylafax-server_6.0.7-13_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       notify - <u>HylaFAX</u> user notification script

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>/var/spool/hylafax/bin/notify</b> <u>qfile</u> <u>why</u> <u>jobtime</u> [ <u>nextTry</u> ]

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>bin/notify</b>  is the command script invoked by the facsimile server to notify a user about the status of an
       outbound job.  The default notification script sends the user electronic mail  describing  the  event  or
       action.  The arguments are:

       <b>qfile</b>     the pathname of the job description file.

       <b>why</b>       a string that specifies why the user is being notified; one of:
                 <b>Why</b>                 <b>Notes</b>    <b>Meaning</b>
                 <u>done</u>                ¹        job was completed successfully
                 <u>failed</u>              ¹²       job was not completed
                 <u>rejected</u>            ¹        job was rejected for specified reasons
                 <u>requeued</u>            ²        job was not completed, but was requeued for retry
                 <u>removed</u>             ¹        job was deleted from the queue
                 <u>killed</u>              ¹        job was deleted from the queue
                 <u>timedout</u>            ¹        job could not be sent before kill time expired
                 <u>format_failed</u>       ¹        document conversion failed
                 <u>no_formatter</u>        ¹        the document conversion program was not found
                 <u>poll_rejected</u>       ¹²       a polling request was rejected by the remote side
                 <u>poll_no_document</u>    ¹²       a polling request failed because nothing was available
                 <u>poll_failed</u>         ¹²       a polling request failed for an unknown reason
                 <u>blocked</u>             ³        job is blocked by concurrent jobs
                 ¹ A final job state
                 ² A transcript of the failed communication is returned to the sender.
                 ³  No  emails  are  sent  for  the block state, the job has been neither requeued nor done, but
                 remains waiting in the queue for the ability to be sent.

       <b>jobtime</b>   the total transmission time of a successful job or the connect time of a failed request (passed
                 as a string).

       <b>nextTry</b>   the time (passed as a string) at which the next attempt will be made to complete the job.  This
                 parameter is passed only if <b>why</b> is ``requeued''.

</pre><h4><b>NOTES</b></h4><pre>
       The behavior of <b>notify</b> is  intended  to  be  customizable  via  the  <b>etc/FaxNotify</b>  script,  if  present.
       FaxNotify  is  sourced after the q-file is parsed and all default values are preset.  Useful settings for
       FaxNotify are:

       <u>WHY</u>    is identical to <b>why</b> mentioned above and can be useful in determining under what conditions various
              settings should take effect.  For example,

              if [ "$WHY" != "done" ]; then
                  RETURNFILETYPE=pdf;
              fi

              This would only set <b>RETURNFILETYPE</b> when the job did not complete successfully.

       <u>RETURNFILETYPE</u>
              can be set to ``tif'', ``pdf'', ``ps'', or ``original''.  If set, this causes <b>notify</b> to  return  a
              copy  of  the  submitted documents to the <b>SENDER</b> address along with the notification message.  The
              ``original'' setting uses the format type that was used in the submission.  Multiple values may be
              specified by separating them with whitespace. In that case a separate attachment  is  created  for
              each filetype.

       <u>TEMPLATE</u>
              the  template  subdirectory  to  use  when  sending  e-mails.   HylaFAX  ships  with a base set of
              templates, and some direct translations.  To use the German translated templates, set  TEMPLATE=de
              in FaxNotify.  This is relative to the base template directory.

       <u>NOTIFY_FAXMASTER</u>
              is  used  to  deliver  a  notification  message  to  <b>TOADDR</b> (which defaults to ``FaxMaster'') that
              contains technical information about the job.  This is useful in allowing the administrator to  be
              aware  of  any  problems  before  those problems are reported by the users.  Possible settings are
              ``yes'',  ``always'',  ``no'',  ``never'',  and  ``errors''.   If  ``errors''  is  used  then  the
              notification  message is only sent to FaxMaster when the job experienced an error.  The default is
              ``no''.

       The settings of the user in <b>$notify</b> (read from the <b>sendq</b> job file) controls whether the user will get the
       notification email.  If you want to force notification emails, irregardless of the  users  selection,  or
       force a blocked notification (which is not sent by default), you can set

       notify="always"

       which will force the notify script to send the email.

</pre><h4><b>FILES</b></h4><pre>
       /var/spool/hylafax   spooling area
       /usr/lib/sendmail    for delivering mail

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <u><a href="../man8/faxq.8.html">faxq</a></u>(8), <u><a href="../man5/hylafax-server.5.html">hylafax-server</a></u>(5), <u><a href="../man5/sendq.5.html">sendq</a></u>(5)

                                                   May 8, 1996                                         <u><a href="../man8/NOTIFY.8.html">NOTIFY</a></u>(8)
</pre>
 </div>
</div></section>
</div>
</body>
</html>