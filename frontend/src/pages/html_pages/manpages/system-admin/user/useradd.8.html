<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>useradd - create a new user or update default new user information</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/passwd">passwd_4.17.4-2ubuntu1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       useradd - create a new user or update default new user information

</pre><h4><b>SYNOPSIS</b></h4><pre>

       <b>useradd</b> [<u>options</u>] <u>LOGIN</u>

       <b>useradd</b> -D

       <b>useradd</b> -D [<u>options</u>]

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>useradd</b> is a low level utility for adding users. On Debian, administrators should usually use <b><a href="../man8/adduser.8.html">adduser</a></b>(8)
       instead.

       When invoked without the <b>-D</b> option, the <b>useradd</b> command creates a new user account using the values
       specified on the command line plus the default values from the system. Depending on command line options,
       the <b>useradd</b> command will update system files and may also create the new user's home directory and copy
       initial files.

       By default, a group will also be created for the new user (see <b>-g</b>, <b>-N</b>, <b>-U</b>, and <b>USERGROUPS_ENAB</b>).

</pre><h4><b>OPTIONS</b></h4><pre>
       The options which apply to the <b>useradd</b> command are:

       <b>--badname</b>
           Allow names that do not conform to standards.

       <b>-b</b>, <b>--base-dir</b> <u>BASE_DIR</u>
           The default base directory for the system if <b>-d</b> <u>HOME_DIR</u> is not specified.  <u>BASE_DIR</u> is concatenated
           with the account name to define the home directory.

           If this option is not specified, <b>useradd</b> will use the base directory specified by the <b>HOME</b> variable
           in <a href="file:/etc/default/useradd">/etc/default/useradd</a>, or <a href="file:/home">/home</a> by default.

       <b>-c</b>, <b>--comment</b> <u>COMMENT</u>
           Any text string. It is generally a short description of the account, and is currently used as the
           field for the user's full name.

       <b>-d</b>, <b>--home-dir</b> <u>HOME_DIR</u>
           The new user will be created using <u>HOME_DIR</u> as the value for the user's login directory. The default
           is to append the <u>LOGIN</u> name to <u>BASE_DIR</u> and use that as the login directory name. If the directory
           <u>HOME_DIR</u> does not exist, then it will be created unless the <b>-M</b> option is specified.

       <b>-D</b>, <b>--defaults</b>
           See below, the subsection "Changing the default values".

       <b>-e</b>, <b>--expiredate</b> <u>EXPIRE_DATE</u>
           The date on which the user account will be disabled. The date is specified in the format <u>YYYY-MM-DD</u>.

           If not specified, <b>useradd</b> will use the default expiry date specified by the <b>EXPIRE</b> variable in
           <a href="file:/etc/default/useradd">/etc/default/useradd</a>, or an empty string (no expiry) by default.

       <b>-f</b>, <b>--inactive</b> <u>INACTIVE</u>
           defines the number of days after the password exceeded its maximum age where the user is expected to
           replace this password. The value is stored in the shadow password file. An input of 0 will disable an
           expired password with no delay. An input of -1 will blank the respective field in the shadow password
           file. See <b><a href="../man5/shadow.5.html">shadow</a></b>(5)for more information.

           If not specified, <b>useradd</b> will use the default inactivity period specified by the <b>INACTIVE</b> variable
           in <a href="file:/etc/default/useradd">/etc/default/useradd</a>, or -1 by default.

       <b>-F</b>, <b>--add-subids-for-system</b>
           Update <a href="file:/etc/subuid">/etc/subuid</a> and <a href="file:/etc/subgid">/etc/subgid</a> even when creating a system account with <b>-r</b> option.

       <b>-g</b>, <b>--gid</b> <u>GROUP</u>
           The name or the number of the user's primary group. The group name must exist. A group number must
           refer to an already existing group.

           If not specified, the behavior of <b>useradd</b> will depend on the <b>USERGROUPS_ENAB</b> variable in
           /etc/login.defs. If this variable is set to <u>yes</u> (or <b>-U/--user-group</b> is specified on the command
           line), a group will be created for the user, with the same name as the loginname. If the variable is
           set to <u>no</u> (or <b>-N/--no-user-group</b> is specified on the command line), useradd will set the primary
           group of the new user to the value specified by the <b>GROUP</b> variable in <a href="file:/etc/default/useradd">/etc/default/useradd</a>, or 100 by
           default.

       <b>-G</b>, <b>--groups</b> <u>GROUP1</u>[<u>,GROUP2,...</u>[<u>,GROUPN</u>]]]
           A list of supplementary groups which the user is also a member of. Each group is separated from the
           next by a comma, with no intervening whitespace. The groups are subject to the same restrictions as
           the group given with the <b>-g</b> option. The default is for the user to belong only to the initial group.
           In addition to passing in the -G flag, you can add the option <b>GROUPS</b> to the file <a href="file:/etc/default/useradd">/etc/default/useradd</a>
           which in turn will add all users to those supplementary groups.

       <b>-h</b>, <b>--help</b>
           Display help message and exit.

       <b>-k</b>, <b>--skel</b> <u>SKEL_DIR</u>
           The skeleton directory, which contains files and directories to be copied in the user's home
           directory, when the home directory is created by <b>useradd</b>.

           This option is only valid if the <b>-m</b> (or <b>--create-home</b>) option is specified.

           If this option is not set, the skeleton directory is defined by the <b>SKEL</b> variable in
           <a href="file:/etc/default/useradd">/etc/default/useradd</a> or, by default, /etc/skel.

           Absolute symlinks that link back to the skel directory will have the <a href="file:/etc/skel">/etc/skel</a> prefix replaced with
           the user's home directory.

           If possible, the ACLs and extended attributes are copied.

       <b>-K</b>, <b>--key</b> <u>KEY</u>=<u>VALUE</u>
           Overrides <a href="file:/etc/login.defs">/etc/login.defs</a> defaults (<b>UID_MIN</b>, <b>UID_MAX</b>, <b>UMASK</b>, <b>PASS_MAX_DAYS</b> and others).

           Example: <b>-K</b> <u>PASS_MAX_DAYS</u> =<u>-1</u> can be used when creating an account to turn off password aging.
           Multiple <b>-K</b> options can be specified, e.g.: <b>-K</b> <u>UID_MIN</u> =<u>100</u> <b>-K</b>  <u>UID_MAX</u>=<u>499</u>

       <b>-l</b>, <b>--no-log-init</b>
           Do not add the user to the lastlog and faillog databases.

           By default, the user's entries in the lastlog and faillog databases are reset to avoid reusing the
           entry from a previously deleted user.

           If this option is not specified, <b>useradd</b> will also consult the variable <b>LOG_INIT</b> in the
           <a href="file:/etc/default/useradd">/etc/default/useradd</a> if set to no the user will not be added to the lastlog and faillog databases.

       <b>-m</b>, <b>--create-home</b>
           Create the user's home directory if it does not exist. The files and directories contained in the
           skeleton directory (which can be defined with the <b>-k</b> option) will be copied to the home directory.

           By default, if this option is not specified and <b>CREATE_HOME</b> is not enabled, no home directories are
           created.

           The directory where the user's home directory is created must exist and have proper SELinux context
           and permissions. Otherwise the user's home directory cannot be created or accessed.

       <b>-M</b>, <b>--no-create-home</b>
           Do not create the user's home directory, even if the system wide setting from <a href="file:/etc/login.defs">/etc/login.defs</a>
           (<b>CREATE_HOME</b>) is set to <u>yes</u>.

       <b>-N</b>, <b>--no-user-group</b>
           Do not create a group with the same name as the user, but add the user to the group specified by the
           <b>-g</b> option or by the <b>GROUP</b> variable in /etc/default/useradd.

           The default behavior (if the <b>-g</b>, <b>-N</b>, and <b>-U</b> options are not specified) is defined by the
           <b>USERGROUPS_ENAB</b> variable in /etc/login.defs.

       <b>-o</b>, <b>--non-unique</b>
           allows the creation of an account with an already existing UID.

           This option is only valid in combination with the <b>-u</b> option. As a user identity serves as key to map
           between users on one hand and permissions, file ownerships and other aspects that determine the
           system's behavior on the other hand, more than one login name will access the account of the given
           UID.

       <b>-p</b>, <b>--password</b> <u>PASSWORD</u>
           defines an initial password for the account. PASSWORD is expected to be encrypted, as returned by
           <b>crypt</b> (3). Within a shell script, this option allows to create efficiently batches of users.

           Without this option, the new account will be locked and with no password defined, i.e. a single
           exclamation mark in the respective field of /etc/shadow. This is a state where the user won't be able
           to access the account or to define a password himself.

           <b>Note:</b>Avoid this option on the command line because the password (or encrypted password) will be
           visible by users listing the processes.

           You should make sure the password respects the system's password policy.

       <b>-r</b>, <b>--system</b>
           Create a system account.

           System users will be created with no aging information in <a href="file:/etc/shadow">/etc/shadow</a>, and their numeric identifiers
           are chosen in the <b>SYS_UID_MIN</b>-<b>SYS_UID_MAX</b> range, defined in <a href="file:/etc/login.defs">/etc/login.defs</a>, instead of
           <b>UID_MIN</b>-<b>UID_MAX</b> (and their <b>GID</b> counterparts for the creation of groups).

           Note that <b>useradd</b> will not create a home directory for such a user, regardless of the default setting
           in <a href="file:/etc/login.defs">/etc/login.defs</a> (<b>CREATE_HOME</b>). You have to specify the <b>-m</b> options if you want a home directory for
           a system account to be created.

           Note that this option will not update <a href="file:/etc/subuid">/etc/subuid</a> and /etc/subgid. You have to specify the <b>-F</b> options
           if you want to update the files for a system account to be created.

       <b>-R</b>, <b>--root</b> <u>CHROOT_DIR</u>
           Apply changes in the <u>CHROOT_DIR</u> directory and use the configuration files from the <u>CHROOT_DIR</u>
           directory. Only absolute paths are supported.

       <b>-P</b>, <b>--prefix</b> <u>PREFIX_DIR</u>
           Apply changes to configuration files under the root filesystem found under the directory <u>PREFIX_DIR</u>.
           This option does not chroot and is intended for preparing a cross-compilation target. Some
           limitations: NIS and LDAP users/groups are not verified. PAM authentication is using the host files.
           No SELINUX support.

       <b>-s</b>, <b>--shell</b> <u>SHELL</u>
           sets the path to the user's login shell. Without this option, the system will use the <b>SHELL</b> variable
           specified in <a href="file:/etc/default/useradd">/etc/default/useradd</a>, or, if that is as well not set, the field for the login shell in
           <a href="file:/etc/passwd">/etc/passwd</a> remains empty.

       <b>-u</b>, <b>--uid</b> <u>UID</u>
           The numerical value of the user's ID. This value must be unique, unless the <b>-o</b> option is used. The
           value must be non-negative. The default is to use the smallest ID value greater than or equal to
           <b>UID_MIN</b> and greater than every other user.

           See also the <b>-r</b> option and the <b>UID_MAX</b> description.

       <b>-U</b>, <b>--user-group</b>
           Create a group with the same name as the user, and add the user to this group.

           The default behavior (if the <b>-g</b>, <b>-N</b>, and <b>-U</b> options are not specified) is defined by the
           <b>USERGROUPS_ENAB</b> variable in /etc/login.defs.

       <b>-Z</b>, <b>--selinux-user</b> <u>SEUSER</u>
           defines the SELinux user for the new account. Without this option, SELinux uses the default user.
           Note that the shadow system doesn't store the selinux-user, it uses <b><a href="../man8/semanage.8.html">semanage</a></b>(8) for that.

       <b>--selinux-range</b> <u>SERANGE</u>
           defines the SELinux MLS range for the new account. Without this option, SELinux uses the default
           range. Note that the shadow system doesn't store the selinux-range, it uses <b><a href="../man8/semanage.8.html">semanage</a></b>(8) for that.

           This option is only valid if the <b>-Z</b> (or <b>--selinux-user</b>) option is specified.

   <b>Changing</b> <b>the</b> <b>default</b> <b>values</b>
       When invoked with only the <b>-D</b> option, <b>useradd</b> will display the current default values. When invoked with
       <b>-D</b> plus other options, <b>useradd</b> will update the default values for the specified options. Valid
       default-changing options are:

       <b>-b</b>, <b>--base-dir</b> <u>BASE_DIR</u>
           sets the path prefix for a new user's home directory. The user's name will be affixed to the end of
           <u>BASE_DIR</u> to form the new user's home directory name, if the <b>-d</b> option is not used when creating a new
           account.

           This option sets the <b>HOME</b> variable in /etc/default/useradd.

       <b>-e</b>, <b>--expiredate</b> <u>EXPIRE_DATE</u>
           sets the date on which newly created user accounts are disabled.

           This option sets the <b>EXPIRE</b> variable in /etc/default/useradd.

       <b>-f</b>, <b>--inactive</b> <u>INACTIVE</u>
           defines the number of days after the password exceeded its maximum age where the user is expected to
           replace this password. See <b><a href="../man5/shadow.5.html">shadow</a></b>(5)for more information.

           This option sets the <b>INACTIVE</b> variable in /etc/default/useradd.

       <b>-g</b>, <b>--gid</b> <u>GROUP</u>
           sets the default primary group for newly created users, accepting group names or a numerical group
           ID. The named group must exist, and the GID must have an existing entry.

           This option sets the <b>GROUP</b> variable in /etc/default/useradd.

       <b>-s</b>, <b>--shell</b> <u>SHELL</u>
           defines the default login shell for new users.

           This option sets the <b>SHELL</b> variable in /etc/default/useradd.

</pre><h4><b>NOTES</b></h4><pre>
       The system administrator is responsible for placing the default user files in the <a href="file:/etc/skel/">/etc/skel/</a> directory
       (or any other skeleton directory specified in <a href="file:/etc/default/useradd">/etc/default/useradd</a> or on the command line).

</pre><h4><b>CAVEATS</b></h4><pre>
       You may not add a user to a NIS or LDAP group. This must be performed on the corresponding server.

       Similarly, if the username already exists in an external user database such as NIS or LDAP, <b>useradd</b> will
       deny the user account creation request.

       Usernames may contain only lower and upper case letters, digits, underscores, or dashes. They can end
       with a dollar sign. Dashes are not allowed at the beginning of the username. Fully numeric usernames and
       usernames . or .. are also disallowed. It is not recommended to use usernames beginning with . character
       as their home directories will be hidden in the <b>ls</b> output.

       On Ubuntu, the same constraints as Debian are in place, with the additional constraint that the username
       cannot be fully numeric, including octal and hexadecimal syntax.

       Usernames may only be up to 256 characters long.

</pre><h4><b>CONFIGURATION</b></h4><pre>
       The following configuration variables in <a href="file:/etc/login.defs">/etc/login.defs</a> change the behavior of this tool:

       <b>CREATE_HOME</b> (boolean)
           Indicate if a home directory should be created by default for new users.

           This setting does not apply to system users, and can be overridden on the command line.

       <b>GID_MAX</b> (number), <b>GID_MIN</b> (number)
           Range of group IDs used for the creation of regular groups by <b>useradd</b>, <b>groupadd</b>, or <b>newusers</b>.

           The default value for <b>GID_MIN</b> (resp.  <b>GID_MAX</b>) is 1000 (resp. 60000).

       <b>HOME_MODE</b> (number)
           The mode for new home directories. If not specified, the <b>UMASK</b> is used to create the mode.

           <b>useradd</b> and <b>newusers</b> use this to set the mode of the home directory they create.

       <b>LASTLOG_UID_MAX</b> (number)
           Highest user ID number for which the lastlog entries should be updated. As higher user IDs are
           usually tracked by remote user identity and authentication services there is no need to create a huge
           sparse lastlog file for them.

           No <b>LASTLOG_UID_MAX</b> option present in the configuration means that there is no user ID limit for
           writing lastlog entries.

       <b>MAIL_DIR</b> (string)
           The mail spool directory. This is needed to manipulate the mailbox when its corresponding user
           account is modified or deleted. If not specified, a compile-time default is used. The parameter
           CREATE_MAIL_SPOOL in <a href="file:/etc/default/useradd">/etc/default/useradd</a> determines whether the mail spool should be created.

       <b>MAIL_FILE</b> (string)
           Defines the location of the users mail spool files relatively to their home directory.

       The <b>MAIL_DIR</b> and <b>MAIL_FILE</b> variables are used by <b>useradd</b>, <b>usermod</b>, and <b>userdel</b> to create, move, or delete
       the user's mail spool.

       <b>MAX_MEMBERS_PER_GROUP</b> (number)
           Maximum members per group entry. When the maximum is reached, a new group entry (line) is started in
           <a href="file:/etc/group">/etc/group</a> (with the same name, same password, and same GID).

           The default value is 0, meaning that there are no limits in the number of members in a group.

           This feature (split group) permits to limit the length of lines in the group file. This is useful to
           make sure that lines for NIS groups are not larger than 1024 characters.

           If you need to enforce such limit, you can use 25.

           Note: split groups may not be supported by all tools (even in the Shadow toolsuite). You should not
           use this variable unless you really need it.

       <b>PASS_MAX_DAYS</b> (number)
           The maximum number of days a password may be used. If the password is older than this, a password
           change will be forced. If not specified, -1 will be assumed (which disables the restriction).

       <b>PASS_MIN_DAYS</b> (number)
           The minimum number of days allowed between password changes. Any password changes attempted sooner
           than this will be rejected. If not specified, 0 will be assumed (which disables the restriction).

       <b>PASS_WARN_AGE</b> (number)
           The number of days warning given before a password expires. A zero means warning is given only upon
           the day of expiration, a value of -1 means no warning is given. If not specified, no warning will be
           provided.

       <b>SUB_GID_MIN</b> (number), <b>SUB_GID_MAX</b> (number), <b>SUB_GID_COUNT</b> (number)
           If <a href="file:/etc/subuid">/etc/subuid</a> exists, the commands <b>useradd</b> and <b>newusers</b> (unless the user already have subordinate
           group IDs) allocate <b>SUB_GID_COUNT</b> unused group IDs from the range <b>SUB_GID_MIN</b> to <b>SUB_GID_MAX</b> for each
           new user.

           The default values for <b>SUB_GID_MIN</b>, <b>SUB_GID_MAX</b>, <b>SUB_GID_COUNT</b> are respectively 100000, 600100000 and
           65536.

       <b>SUB_UID_MIN</b> (number), <b>SUB_UID_MAX</b> (number), <b>SUB_UID_COUNT</b> (number)
           If <a href="file:/etc/subuid">/etc/subuid</a> exists, the commands <b>useradd</b> and <b>newusers</b> (unless the user already have subordinate
           user IDs) allocate <b>SUB_UID_COUNT</b> unused user IDs from the range <b>SUB_UID_MIN</b> to <b>SUB_UID_MAX</b> for each
           new user.

           The default values for <b>SUB_UID_MIN</b>, <b>SUB_UID_MAX</b>, <b>SUB_UID_COUNT</b> are respectively 100000, 600100000 and
           65536.

       <b>SYS_GID_MAX</b> (number), <b>SYS_GID_MIN</b> (number)
           Range of group IDs used for the creation of system groups by <b>useradd</b>, <b>groupadd</b>, or <b>newusers</b>.

           The default value for <b>SYS_GID_MIN</b> (resp.  <b>SYS_GID_MAX</b>) is 101 (resp.  <b>GID_MIN</b>-1).

       <b>SYS_UID_MAX</b> (number), <b>SYS_UID_MIN</b> (number)
           Range of user IDs used for the creation of system users by <b>useradd</b> or <b>newusers</b>.

           The default value for <b>SYS_UID_MIN</b> (resp.  <b>SYS_UID_MAX</b>) is 101 (resp.  <b>UID_MIN</b>-1).

       <b>UID_MAX</b> (number), <b>UID_MIN</b> (number)
           Range of user IDs used for the creation of regular users by <b>useradd</b> or <b>newusers</b>.

           The default value for <b>UID_MIN</b> (resp.  <b>UID_MAX</b>) is 1000 (resp. 60000).

       <b>UMASK</b> (number)
           The file mode creation mask is initialized to this value. If not specified, the mask will be
           initialized to 022.

           <b>useradd</b> and <b>newusers</b> use this mask to set the mode of the home directory they create if <b>HOME_MODE</b> is
           not set.

           It is also used by <b>pam_umask</b> as the default umask value.

       <b>USERGROUPS_ENAB</b> (boolean)
           If set to <u>yes</u>, <b>userdel</b> will remove the user's group if it contains no more members, and <b>useradd</b> will
           create by default a group with the name of the user.

</pre><h4><b>FILES</b></h4><pre>
       <a href="file:/etc/passwd">/etc/passwd</a>
           User account information.

       <a href="file:/etc/shadow">/etc/shadow</a>
           Secure user account information.

       <a href="file:/etc/group">/etc/group</a>
           Group account information.

       <a href="file:/etc/gshadow">/etc/gshadow</a>
           Secure group account information.

       <a href="file:/etc/default/useradd">/etc/default/useradd</a>
           Default values for account creation.

       /etc/shadow-maint/useradd-pre.d/*, /etc/shadow-maint/useradd-post.d/*
           Run-part files to execute during user addition. The environment variable <b>ACTION</b> will be populated
           with useradd and <b>SUBJECT</b> with the <b>username</b>.  useradd-pre.d will be executed prior to any user
           addition.  useradd-post.d will execute after user addition. If a script exits non-zero then execution
           will terminate.

       <a href="file:/etc/skel/">/etc/skel/</a>
           Directory containing default files.

       <a href="file:/etc/subgid">/etc/subgid</a>
           Per user subordinate group IDs.

       <a href="file:/etc/subuid">/etc/subuid</a>
           Per user subordinate user IDs.

       <a href="file:/etc/login.defs">/etc/login.defs</a>
           Shadow password suite configuration.

</pre><h4><b>EXIT</b> <b>VALUES</b></h4><pre>
       The <b>useradd</b> command exits with the following values:

       <u>0</u>
           success

       <u>1</u>
           can't update password file

       <u>2</u>
           invalid command syntax

       <u>3</u>
           invalid argument to option

       <u>4</u>
           UID already in use (and no <b>-o</b>)

       <u>6</u>
           specified group doesn't exist

       <u>9</u>
           username or group name already in use

       <u>10</u>
           can't update group file

       <u>12</u>
           can't create home directory

       <u>14</u>
           can't update SELinux user mapping

       <u>19</u>
           invalid user or group name

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man1/chfn.1.html">chfn</a></b>(1), <b><a href="../man1/chsh.1.html">chsh</a></b>(1), <b><a href="../man1/passwd.1.html">passwd</a></b>(1), <b><a href="../man3/crypt.3.html">crypt</a></b>(3), <b><a href="../man8/groupadd.8.html">groupadd</a></b>(8), <b><a href="../man8/groupdel.8.html">groupdel</a></b>(8), <b><a href="../man8/groupmod.8.html">groupmod</a></b>(8), <b><a href="../man5/login.defs.5.html">login.defs</a></b>(5), <b><a href="../man8/newusers.8.html">newusers</a></b>(8),
       <b><a href="../man5/subgid.5.html">subgid</a></b>(5), <b><a href="../man5/subuid.5.html">subuid</a></b>(5), <b><a href="../man8/userdel.8.html">userdel</a></b>(8), <b><a href="../man8/usermod.8.html">usermod</a></b>(8).

shadow-utils 4.17.4                                05/07/2025                                         <u><a href="../man8/USERADD.8.html">USERADD</a></u>(8)
</pre>
 </div>
</div></section>
</div>
</body>
</html>