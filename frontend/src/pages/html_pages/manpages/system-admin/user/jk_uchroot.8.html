<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>jk_uchroot - grant regular users the right to change root into certain directories</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/jailkit">jailkit_2.23-2_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       jk_uchroot - grant regular users the right to change root into certain directories

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>jk_uchroot</b> <b>-j</b> <b>&lt;jail&gt;</b> <b>-x</b> <b>&lt;executable&gt;</b>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       jk_uchroot can be used to give regular users access to the chroot() system call in a safe way. jk_uchroot
       will  only  grant  chroot  into  a  jail  if the configuration file lists this user and jail combination.
       jk_uchroot will furthermore only grant access if the chroot jail is safe. Safe means that it is owned  by
       uid  0  gid  0  and not writable for others, including the system directories such as  <a href="file:/bin">/bin</a>, <a href="file:/lib">/lib</a>, <a href="file:/dev/">/dev/</a>,
       <a href="file:/sbin">/sbin</a>, and /usr.

       jk_uchroot needs certain elevated privileges to make the <b><a href="../man2/chroot.2.html">chroot</a>(2)</b> system call. Therefore  it  is  setuid
       root.  It  will drop its root privileges immediately after making the chroot() system call. Since Jailkit
       2.8 jk_uchroot may also use the CAP_SYS_CHROOT capability on systems that support capabilities, and  then
       the setuid bit can be removed.

       [john]
       allowed_jails = /srv/johnjail, /srv/commonjail
       skip_injail_passwd_check = 1

       [group users]
       allowed_jails = /srv/commonjail
       skip_injail_passwd_check = 1

       In  the above example jk_uchroot is configured not to check if the user exists in the <a href="file:/etc/passwd">/etc/passwd</a> file in
       the jails.

</pre><h4><b>FILES</b></h4><pre>
       <u>/etc/jailkit/jk_uchroot.ini</u>

</pre><h4><b>DIAGNOSTICS</b></h4><pre>
       jk_uchroot logs everything to syslog, please check the  log  files.  Logging  is  sent  to  the  LOG_AUTH
       facility  with  levels LOG_ERR and LOG_CRIT for critical errors, LOG_NOTICE for non-critical errors,  and
       LOG_INFO for normal events. On most systems the command <b>grep</b> <b>jk_</b> <b><a href="file:/var/log/">/var/log/</a>*</b> will give you the information
       you need.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man8/jailkit.8.html">jailkit</a>(8)</b> <b><a href="../man8/jk_check.8.html">jk_check</a>(8)</b> <b><a href="../man8/jk_chrootlaunch.8.html">jk_chrootlaunch</a>(8)</b> <b><a href="../man8/jk_chrootsh.8.html">jk_chrootsh</a>(8)</b> <b><a href="../man8/jk_cp.8.html">jk_cp</a>(8)</b>  <b><a href="../man8/jk_init.8.html">jk_init</a>(8)</b>  <b><a href="../man8/jk_jailuser.8.html">jk_jailuser</a>(8)</b>  <b><a href="../man8/jk_list.8.html">jk_list</a>(8)</b>
       <b><a href="../man8/jk_lsh.8.html">jk_lsh</a>(8)</b> <b><a href="../man8/jk_procmailwrapper.8.html">jk_procmailwrapper</a>(8)</b> <b><a href="../man8/jk_socketd.8.html">jk_socketd</a>(8)</b> <b><a href="../man8/jk_update.8.html">jk_update</a>(8)</b> <b><a href="../man2/chroot.2.html">chroot</a>(2)</b> <b><a href="../man8/syslogd.8.html">syslogd</a>(8)</b>

</pre><h4><b>COPYRIGHT</b></h4><pre>
       Copyright (C) 2003, 2004, 2005, 2006, 2007, 2018 Olivier Sessink

       Copying  and distribution of this file, with or without modification, are permitted in any medium without
       royalty provided the copyright notice and this notice are preserved.

JAILKIT                                            07-02-2010                                      <u><a href="../man8/jk_uchroot.8.html">jk_uchroot</a></u>(8)
</pre>
 </div>
</div></section>
</div>
</body>
</html>