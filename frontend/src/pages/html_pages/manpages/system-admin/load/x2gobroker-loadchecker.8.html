<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>x2gobroker-loadchecker - Load checker service for X2Go Session Broker</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/x2gobroker-loadchecker">x2gobroker-loadchecker_0.0.4.3-4.3_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       x2gobroker-loadchecker - Load checker service for X2Go Session Broker

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>x2gobroker-loadchecker</b> [ <u>options</u> ]

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>x2gobroker-loadchecker</b>  is  a  service  that  collects  system  load  metrics from broker-associated X2Go
       Servers.

       When load-balancing shall be used, the simplest way to detect "server load" is counting  the  numbers  of
       running  and  suspended  sessions.  No extra daemon nor service is required for this. The server with the
       least amount of sessions will be selected for starting the next X2Go session.

       However, simply counting running and suspended sessions per X2Go Server as a representative for the serv‐
       er load can be highly inaccurate. A better approach is checking each X2Go Server's load in regular inter‐
       vals by the <b>x2gobroker-loadchecker</b> daemon (running on the broker host) and querying the  <b>x2gobroker-load‐</b>
       <b>checker</b> daemon before selecting the best server on session startup requests.

       The  <b>x2gobroker-loadchecker</b>  collects  server metrics of all associated X2Go Servers and keeps the latest
       load factors in RAM. Once the broker needs load factors of  a  certain  session  profile  (i.e.,  of  all
       servers  configured  in that session profile), the <b>x2gobroker-loadchecker</b> delivers that info immediately.
       The remembered load factors may not be 100% up-to-date (default: collected within the last five minutes),
       but the response time of the load checker is much faster than a query to all possible X2Go Servers  would
       be.

       The load factor calculation uses this algorithm:

                       ( memAvail[MByte]/1000 ) * numCPUs * typeCPUs[MHz]
         load-factor = --------------------------------------------------
                                  loadavg*100 * numSessions

       The  higher  the  load-factor,  the more likely that a server will be chosen for the next to be allocated
       X2Go session.

       The communication between X2Go Session Broker and the Load Checker Service is handled through a unix  do‐
       main socket file (<u>&lt;RUNDIR&gt;/x2gobroker/x2gobroker-loadchecker.socket</u>).

       This command is normally started through the host's init system.

</pre><h4><b>COMMON</b> <b>OPTIONS</b></h4><pre>
       <b>x2gobroker-loadchecker</b> accepts the following common options:

       <b>-h,</b> <b>--help</b>
              Display a help with all available command line options and exit.

       <b>-D,</b> <b>--daemonize</b>
              Fork this application to background and detach from the running terminal.

       <b>-P,</b> <b>--pidfile</b>
              Custom  PID  file  location  when  daemonizing (default: <u>&lt;RUNDIR&gt;/x2gobroker/x2gobroker-loadcheck‐</u>
              <u>er.pid</u>).

       <b>-L,</b> <b>--logdir</b>
              Directory where stdout/stderr will be redirected after having daemonized (default: <u>/var/log/x2gob‐</u>
              <u>roker/</u>).

       <b>-s</b> <b>&lt;LOADCHECKERSOCKET&gt;,</b> <b>--socket</b> <b>&lt;LOADCHECKERSOCKET&gt;</b>
              File name of the unix domain socket file used for communication between broker  and  load  checker
              service.

       <b>-o</b> <b>&lt;OWNER&gt;,</b> <b>--owner</b> <b>&lt;OWNER&gt;</b>
              User ownership of the <u>&lt;LOADCHECKERSOCKET&gt;</u> file.

       <b>-g</b> <b>&lt;GROUP&gt;,</b> <b>--group</b> <b>&lt;GROUP&gt;</b>
              Group ownership of the <u>&lt;LOADCHECKERSOCKET&gt;</u> file.

       <b>-p</b> <b>&lt;PERMISSIONS&gt;,</b> <b>--permissions</b> <b>&lt;PERMISSIONS&gt;</b>
              Set  these  file  permissions  for  the  <u>&lt;LOADCHECKERSOCKET&gt;</u> file. Use numerical permissions (e.g.
              0640).

</pre><h4><b>FILES</b></h4><pre>
       &lt;RUNDIR&gt;/x2gobroker/x2gobroker-loadchecker.socket

</pre><h4><b>AUTHOR</b></h4><pre>
       This manual has been written for the X2Go project by Mike Gabriel &lt;<a href="mailto:mike.gabriel@das-netzwerkteam.de">mike.gabriel@das-netzwerkteam.de</a>&gt;.

Version 0.0.4.x                                     Apr 2020                           <u><a href="../man8/x2gobroker-loadchecker.8.html">x2gobroker-loadchecker</a></u>(8)
</pre>
 </div>
</div></section>
</div>
</body>
</html>