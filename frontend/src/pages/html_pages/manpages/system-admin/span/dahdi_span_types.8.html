<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>dahdi_span_types - set line modes of DAHDI spans before assignment</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/dahdi">dahdi_3.1.0-2.1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       dahdi_span_types - set line modes of DAHDI spans before assignment

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>dahdi_span_types</b> <b>[</b><u>options</u><b>]</b> <b>&lt;list|dumpconfig|compare|set&gt;</b> <b>[</b><u>devpath</u> <b>...]</b>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The  span  type (the line mode: E1/T1/J1) must be set to a span before DAHDI assigns it a span number, as
       E1 spans use more channels.  <b>dahdi_span_types</b> applies the span type configuration to an un-assigned span.

       Using it only makes sense when the kernel module parameter  <b>dahdi.auto_assign_span</b>  is  unset,  otherwise
       DAHDI automatically assign span numbers during device registration.

       <b>dahdi_span_types</b>  takes  a command and an optional list of devices. If no device is given, the command is
       applied to all devices.

       The device is marked as a path in the SysFS tree.

</pre><h4><b>OPTIONS</b></h4><pre>
       <b>-h|--help</b>
              Output usage message and exit

       <b>-n|--dry-run</b>
              During <b>"set"</b> operation, only show what would be done, without actually changing anything.

       <b>-v|--verbose</b>
              During <b>"set"</b> operation, show the actions that are being performed.

       <b>--line-mode=</b><u>&lt;E1|T1|J1&gt;</u>
              During <b>"dumpconfig"</b> operation, force special generation mode:

              •  First, generates a "wildcard" entry with the fiven <b>line-mode</b>.

              •  Comment out all span entries. Each of  them  may  be  manually  un-commented  to  override  the
                 "wildcard".

</pre><h4><b>SUB-COMMANDS</b></h4><pre>
       <b>set</b>
              Reads  settings  from  <b>span-types.conf</b>  and applies them to the device(s) specified in the command
              line (or all devices, if none specified).

       <b>compare</b>
              Compare the settings on the system to those in the configuration file.  For each line that applies
              to a device on the system, print it if the value to be set and the  active  value  on  the  system
              differ.

              The exit status is 0 if there is no difference and non-zero if a difference was detected.

       <b>list</b>
              List  line  modes  for  all  spans  in the system which may be set with dahdi_span_types (E1/T1/J1
              spans).

       <b>dumpconfig</b>
              List types for the spans in a format fit to be used in <b>span-types.conf</b>. Use  this  to  generate  a
              configuration file after you have (perhaps manually) set all existing spans.

              <b>dahdi_genconf</b> <b>spantypes</b> uses this command internally.

</pre><h4><b>CONFIGURATION</b></h4><pre>
   <b>General</b> <b>structure</b>
       <b>span-types.conf</b> is a file with lines specifying line modes of spans.

       Empty lines or lines beginning with '#' are ignored.

       Each line is in the format of:

       <u>ID</u>        <u>spanspec</u> <u>...</u>

       The  <u>ID</u> field specifies the DAHDI device and the <u>spanspecs</u> define the line modes of its spans. A line may
       have multiple <u>spanspecs</u> in a single line (though dumpconfig generates a configuration with one per line).

   <b>Span</b> <b>Identifier</b>
       A DAHDI device may be specified either by a hardware identifier (a software  readable  serial  number  or
       whatever)  or  the location in which it is installed on the system. The former makes it simpler to change
       connector / slot whereas the latter makes it simpler to replace a unit.

       The value in this field is matched (when the command <b>set</b> is used) to the following values:

        <u>hwid</u>
        <b>@</b><u>location</u>
        <u>devpath</u>

       See above for their descriptions. The value may include shell wildcards: *, ? and [], which are  used  in
       the  match. The values to be matched are first cleaned up: '!' is replaced with '/' and any character not
       in "a-zA-Z0-9/:.-" is replaced by "_".

       Note that while span-types.conf allows an arbitrarily-complex combination of E1,  J1  and  T1  ports,  it
       would  normally  have  just  a  single wildcard line setting the line mode (the first line in the example
       below).

   <b>Span</b> <b>Specification</b>
       Each line should have one or more span specifications: this is the value used to set span type with DAHDI
       in the SysFS interface. A specification has two colon-separated fields:

       <u>rel_span_no:span_type</u>

       for instance, the following are four span specifications specify ports 1 and 2 as E1 and ports 3 and 4 as
       T1: [12]:E1 [34]:T1 .

       <b>rel_span_no</b>
              The relative number of the span in the device. E.g.: port number.  This field  may  contain  shell
              wildcards (*, ? and [])

       <b>span_type</b>
              E1/T1/J1

   <b>Multiple</b> <b>matches</b>
       During  <b>set</b>  operation, the <b>dahdi_span_types</b> applies all matching settings to a span. This is done in the
       order of lines in the configuration files.

       Thus, if there are multiple matches to a span -- the last match will <u>win</u> (all  will  be  applied  to  the
       kernel in order. The last one in the file will be applied last).

       Example:
       *             *:T1      # All spans on all devices will be T1
       usb:X1234567  [34]:E1   # Except spans 3,4 on the device which will be E1

</pre><h4><b>ENVIRONMENT</b></h4><pre>
       <b>DAHDICONFDIR</b>
              The directory in which span-types.conf resides. /etc/dahdi if not overridden from the environment.

       <b>DAHDISPANTYPESCONF</b>
              The  path  to  span-types.conf  resides.  /etc/dahdi/span-types.conf  if  not  overridden from the
              environment.

</pre><h4><b>FILES</b></h4><pre>
       <b>/etc/dahdi/span-types.conf</b>
              The default location for the configuration file.

       <b>/sys/bus/dahdi_devices/devices/</b><u>device</u>
              SysFS node for the device. In this directory reside the following files, among others:

              <b>spantype</b>
                     read/write file. Reading from it returns current configuration for  spans  of  the  device.
                     Span-specifications  can be written to it to change line modes (but only for a span that is
                     not assigned yet).

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <a href="../man8/dahdi_span_assignments.8.html">dahdi_span_assignments</a>(8), <a href="../man8/dahdi_genconf.8.html">dahdi_genconf</a>(8), <a href="../man8/dahdi_cfg.8.html">dahdi_cfg</a>(8)

</pre><h4><b>AUTHOR</b></h4><pre>
       dahdi_span_types was written by Oron Peled.  This manual page was written by Tzafrir Cohen. Permission is
       granted to copy, distribute and/or modify this document  under  the  terms  of  the  GNU  General  Public
       License, Version 2 any  later version published by the Free Software Foundation.

                                                   23 Jan 2014                               <u><a href="../man8/DAHDI_SPAN_TYPES.8.html">DAHDI_SPAN_TYPES</a></u>(8)
</pre>
 </div>
</div></section>
</div>
</body>
</html>