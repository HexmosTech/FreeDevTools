<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>rados - rados object storage utility</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/ceph-common">ceph-common_19.2.1-0ubuntu3_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       rados - rados object storage utility

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>rados</b> [ <u>options</u> ] [ <u>command</u> ]

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>rados</b>  is  a  utility  for  interacting  with  a  Ceph  object  storage cluster (RADOS), part of the Ceph
       distributed storage system.

</pre><h4><b>GLOBAL</b> <b>OPTIONS</b></h4><pre>
       <b>--object-locator</b> <b>object_locator</b>
              Set object_locator for operation.

       <b>-p</b> <b>pool,</b> <b>--pool</b> <b>pool</b>
              Interact with the given pool. Required by most commands.

       <b>--target-pool</b> <b>pool</b>
              Select target pool by name.

       <b>--pgid</b> As an alternative to <b>--pool</b>, <b>--pgid</b> also allow users to specify the PG id  to  which  the  command
              will be directed. With this option, certain commands like <b>ls</b> allow users to limit the scope of the
              command to the given PG.

       <b>-N</b> <b>namespace,</b> <b>--namespace</b> <b>namespace</b>
              Specify the rados namespace to use for the object.

       <b>--all</b>  Use with ls to list objects in all namespaces.  Put in CEPH_ARGS environment variable to make this
              the default.

       <b>--default</b>
              Use with ls to list objects in default namespace.  Takes precedence over --all in case --all is in
              environment.

       <b>-s</b> <b>snap,</b> <b>--snap</b> <b>snap</b>
              Read from the given pool snapshot. Valid for all pool-specific read operations.

       <b>--create</b>
              Create the pool or directory that was specified.

       <b>-i</b> <b>infile</b>
              will  specify  an  input  file  to  be  passed  along as a payload with the command to the monitor
              cluster. This is only used for specific monitor commands.

       <b>-m</b> <b>monaddress[:port]</b>
              Connect to specified monitor (instead of looking through ceph.conf).

       <b>-b</b> <b>block_size</b>
              Set the block size for put/get/append ops and for write benchmarking.

       <b>--striper</b>
              Uses the striping API of rados rather than the default one.  Available for stat, stat2, get,  put,
              append, truncate, rm, ls and all xattr related operation.

       <b>-O</b> <b>object_size,</b> <b>--object-size</b> <b>object_size</b>
              Set the object size for put/get ops and for write benchmarking.

       <b>--max-objects</b>
              Set the max number of objects for write benchmarking.

       <b>--lock-cookie</b> <b>locker-cookie</b>
              Will  set  the  lock  cookie for acquiring advisory lock (lock get command).  If the cookie is not
              empty, this option must be passed to lock break command to find the correct  lock  when  releasing
              lock.

       <b>--target-locator</b>
              Use with cp to specify the locator of the new object.

       <b>--target-nspace</b>
              Use with cp to specify the namespace of the new object.

</pre><h4><b>BENCH</b> <b>OPTIONS</b></h4><pre>
       <b>-t</b> <b>N,</b> <b>--concurrent-ios=N</b>
              Set number of concurrent I/O operations.

       <b>--show-time</b>
              Prefix output with date/time.

       <b>--no-verify</b>
              Do not verify contents of read objects.

       <b>--write-object</b>
              Write contents to the objects.

       <b>--write-omap</b>
              Write contents to the omap.

       <b>--write-xattr</b>
              Write contents to the extended attributes.

</pre><h4><b>LOAD</b> <b>GEN</b> <b>OPTIONS</b></h4><pre>
       <b>--num-objects</b>
              Total number of objects.

       <b>--min-object-size</b>
              Min object size.

       <b>--max-object-size</b>
              Max object size.

       <b>--min-op-len</b>
              Min io size of operations.

       <b>--max-op-len</b>
              Max io size of operations.

       <b>--max-ops</b>
              Max number of operations.

       <b>--max-backlog</b>
              Max backlog size.

       <b>--read-percent</b>
              Percent of operations that are read.

       <b>--target-throughput</b>
              Target throughput (in bytes).

       <b>--run-length</b>
              Total time (in seconds).

       <b>--offset-align</b>
              At what boundary to align random op offsets.

</pre><h4><b>CACHE</b> <b>POOLS</b> <b>OPTIONS</b></h4><pre>
       <b>--with-clones</b>
              Include clones when doing flush or evict.

</pre><h4><b>OMAP</b> <b>OPTIONS</b></h4><pre>
       <b>--omap-key-file</b> <b>file</b>
              Read the omap key from a file.

</pre><h4><b>GENERIC</b> <b>OPTIONS</b></h4><pre>
       <b>-c</b> <b>FILE,</b> <b>--conf</b> <b>FILE</b>
              Read configuration from the given configuration file.

       <b>--id</b> <b>ID</b>
              Set ID portion of my name.

       <b>-n</b> <b>TYPE.ID,</b> <b>--name</b> <b>TYPE.ID</b>
              Set cephx user name.

       <b>--cluster</b> <b>NAME</b>
              Set cluster name (default: ceph).

       <b>--setuser</b> <b>USER</b>
              Set uid to user or uid (and gid to user's gid).

       <b>--setgroup</b> <b>GROUP</b>
              Set gid to group or gid.

       <b>--version</b>
              Show version and quit.

</pre><h4><b>GLOBAL</b> <b>COMMANDS</b></h4><pre>
       <b>lspools</b>
              List object pools

       <b>df</b>     Show  utilization  statistics,  including  disk  usage  (bytes) and object counts, over the entire
              system and broken down by pool.

       <b>list-inconsistent-pg</b> <u>pool</u>
              List inconsistent PGs in given pool.

       <b>list-inconsistent-obj</b> <u>pgid</u>
              List inconsistent objects in given PG.

       <b>list-inconsistent-snapset</b> <u>pgid</u>
              List inconsistent snapsets in given PG.

</pre><h4><b>POOL</b> <b>SPECIFIC</b> <b>COMMANDS</b></h4><pre>
       <b>get</b> <u>name</u> <u>outfile</u>
              Read object name from the cluster and write it to outfile.

       <b>put</b> <u>name</u> <u>infile</u> [--offset offset]
              Write object name with start  offset  (default:0)  to  the  cluster  with  contents  from  infile.
              <b>Warning:</b>  The  put  command creates a single RADOS object, sized just as large as your input file.
              Unless your objects are of reasonable and consistent sizes, that is probably not what you want  --
              consider using RGW/S3, CephFS, or RBD instead.

       <b>append</b> <u>name</u> <u>infile</u>
              Append object name to the cluster with contents from infile.

       <b>rm</b> [--force-full] <u>name</u> ...
              Remove object(s) with name(s). With <b>--force-full</b> will remove when cluster is marked full.

       <b>listwatchers</b> <u>name</u>
              List the watchers of object name.

       <b>ls</b> <u>outfile</u>
              List  objects  in  the  given  pool  and  write  to  outfile.  Instead of <b>--pool</b> if <b>--pgid</b> will be
              specified, <b>ls</b> will only list the objects in the given PG.

       <b>lssnap</b> List snapshots for given pool.

       <b>clonedata</b> <u>srcname</u> <u>dstname</u> --object-locator <u>key</u>
              Clone object byte data from <u>srcname</u> to <u>dstname</u>.  Both objects must be stored with the locator  key
              <u>key</u>  (usually  either  <u>srcname</u>  or  <u>dstname</u>).   Object  attributes and omap keys are not copied or
              cloned.

       <b>mksnap</b> <u>foo</u>
              Create pool snapshot named <u>foo</u>.

       <b>rmsnap</b> <u>foo</u>
              Remove pool snapshot named <u>foo</u>.

       <b>bench</b> <u>seconds</u> <u>mode</u> [ -b <u>objsize</u> ] [ -t <u>threads</u> ]
              Benchmark for <u>seconds</u>. The mode can be <u>write</u>, <u>seq</u>, or <u>rand</u>. <u>seq</u>  and  <u>rand</u>  are  read  benchmarks,
              either  sequential  or random. Before running one of the reading benchmarks, run a write benchmark
              with the <u>--no-cleanup</u> option. The default object size is 4 MB, and the default number of simulated
              threads (parallel writes) is 16. The <u>--run-name</u>  <u>&lt;label&gt;</u>  option  is  useful  for  benchmarking  a
              workload   test   from  multiple  clients.  The  <u>&lt;label&gt;</u>  is  an  arbitrary  object  name.  It  is
              "benchmark_last_metadata" by default, and is used as the underlying object  name  for  "read"  and
              "write"  ops.   Note:  -b <u>objsize</u> option is valid only in <u>write</u> mode.  Note: <u>write</u> and <u>seq</u> must be
              run on the same host otherwise the objects created by <u>write</u> will have names that will fail <u>seq</u>.

       <b>cleanup</b> [ --run-name <u>run_name</u> ] [ --prefix <u>prefix</u> ]
              Clean up a previous benchmark operation.  Note: the default run-name is "benchmark_last_metadata"

       <b>listxattr</b> <u>name</u>
              List all extended attributes of an object.

       <b>getxattr</b> <u>name</u> <u>attr</u>
              Dump the extended attribute value of <u>attr</u> of an object.

       <b>setxattr</b> <u>name</u> <u>attr</u> <u>value</u>
              Set the value of <u>attr</u> in the extended attributes of an object.

       <b>rmxattr</b> <u>name</u> <u>attr</u>
              Remove <u>attr</u> from the extended attributes of an object.

       <b>stat</b> <u>name</u>
              Get stat (ie. mtime, size) of given object

       <b>stat2</b> <u>name</u>
              Get stat (similar to stat, but with high precision time) of given object

       <b>listomapkeys</b> <u>name</u>
              List all the keys stored in the object map of object name.

       <b>listomapvals</b> <u>name</u>
              List all key/value pairs stored in the object map of  object  name.   The  values  are  dumped  in
              hexadecimal.

       <b>getomapval</b> [ --omap-key-file <u>file</u> ] <u>name</u> <u>key</u> [ <u>out-file</u> ]
              Dump  the  hexadecimal  value  of  key in the object map of object name.  If the optional <u>out-file</u>
              argument is not provided, the value will be written to standard output.

       <b>setomapval</b> [ --omap-key-file <u>file</u> ] <u>name</u> <u>key</u> [ <u>value</u> ]
              Set the value of key in the object map of object name. If  the  optional  <u>value</u>  argument  is  not
              provided, the value will be read from standard input.

       <b>rmomapkey</b> [ --omap-key-file <u>file</u> ] <u>name</u> <u>key</u>
              Remove key from the object map of object name.

       <b>getomapheader</b> <u>name</u>
              Dump the hexadecimal value of the object map header of object name.

       <b>setomapheader</b> <u>name</u> <u>value</u>
              Set the value of the object map header of object name.

       <b>export</b> <u>filename</u>
              Serialize pool contents to a file or standard output.n"

       <b>import</b> [--dry-run] [--no-overwrite] &lt; filename | - &gt;
              Load pool contents from a file or standard input

</pre><h4><b>EXAMPLES</b></h4><pre>
       To view cluster utilization:

          rados df

       To get a list object in pool foo sent to stdout:

          rados -p foo ls -

       To get a list of objects in PG 0.6:

          rados --pgid 0.6 ls

       To write an object:

          rados -p foo put myobject blah.txt

       To create a snapshot:

          rados -p foo mksnap mysnap

       To delete the object:

          rados -p foo rm myobject

       To read a previously snapshotted version of an object:

          rados -p foo -s mysnap get myobject blah.txt.old

       To list inconsistent objects in PG 0.6:

          rados list-inconsistent-obj 0.6 --format=json-pretty

</pre><h4><b>AVAILABILITY</b></h4><pre>
       <b>rados</b> is part of Ceph, a massively scalable, open-source, distributed storage system. Please refer to the
       Ceph documentation at <u>https://docs.ceph.com</u> for more information.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <u><a href="../man8/ceph.8.html">ceph</a></u>(8)

</pre><h4><b>COPYRIGHT</b></h4><pre>
       2010-2014,  Inktank  Storage,  Inc.  and  contributors. Licensed under Creative Commons Attribution Share
       Alike 3.0 (CC-BY-SA-3.0)

dev                                               May 22, 2025                                          <u><a href="../man8/RADOS.8.html">RADOS</a></u>(8)
</pre>
 </div>
</div></section>
</div>
</body>
</html>