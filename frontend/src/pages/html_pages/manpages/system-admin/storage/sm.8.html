<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>sm - Command-line interface to the INN storage manager</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/inn2">inn2_2.7.3-1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       sm - Command-line interface to the INN storage manager

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>sm</b> [<b>-cdHiqRrSs</b>] [<u>token</u> ...]

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The INN storage manager is the subsystem that stores and keeps track of all of the articles and what
       storage backend they're in.  All stored articles are assigned a storage API token.  <b>sm</b> is a command-line
       interface to that storage manager, primarily used to retrieve articles by those tokens but also to
       perform other operations on the storage subsystem.

       <u>token</u> is the token of an article (the same thing that's returned by <b>grephistory</b> or stored in the <u>history</u>
       file).  It looks something like:

           @0502000005A4000000010000000000000000@

       Any number of tokens can be given on the command-line for any function other than <b>-s</b>.  If none are, <b>sm</b>
       normally reads tokens from standard input, one per line.  The default operation is to retrieve and write
       to standard output the corresponding article for each token given.

       If <b>-s</b> is given, <b>sm</b> instead stores the article given on standard input (in native format, unless <b>-R</b> is
       given, in which case wire format is expected) using the standard rules of the storage subsystem.  If the
       article is stored successfully, the token of the article is printed to standard output.  Please note that
       this does not make any attempt to write a history entry or any overview data, and is therefore only
       useful under very specific circumstances.

</pre><h4><b>OPTIONS</b></h4><pre>
       <b>-c</b>  Show  a  clear,  decoded  form  of  the storage API token.  Each part of the token is explained, in a
           human-readable  string.   Amongst  other  elements,  this  command  gives  the  path  to  where   the
           corresponding article is supposed to be stored.

       <b>-d</b>, <b>-r</b>
           Rather  than  retrieving the specified article, remove the article.  This will delete the article out
           of the news spool and it will not subsequently be retrievable by any part of INN.  It's equivalent to
           "ctlinnd cancel" except it takes a storage API token instead of a message-ID.

       <b>-H</b>  Retrieve only the headers of the article rather than the entire article.  This option cannot be  used
           with <b>-d</b>, <b>-r</b>, <b>-i</b>, or <b>-S</b>.

       <b>-i</b>  Show  the newsgroup name and article number associated with the token rather than the article itself.
           Note that for crossposted articles, only the first newsgroup and article number to which the  article
           is associated will be returned.

       <b>-q</b>  Suppress all error messages except usage errors.

       <b>-R</b>  Display  the raw article.  This means that line endings won't be converted to native line endings and
           will be left as CRLF sequences; leading periods will still be escaped for sending over NNTP, and  the
           article will end in a CRLF.CRLF sequence.

           When used with <b>-s</b>, read articles in wire format.

       <b>-S</b>  Write  the article to standard output in the format used by <b>rnews</b> spool files.  Multiple articles can
           be written in this format, and the resulting output can be fed  to  <b>rnews</b>  (on  another  system,  for
           example) to inject those articles into INN.  This option cannot be used with <b>-d</b>, <b>-r</b>, <b>-H</b>, <b>-i</b>, or <b>-R</b>.

       <b>-s</b>  Store  the  article given on standard input using the normal storage rules for articles as configured
           in <a href="../man5/storage.conf.5.html">storage.conf</a>(5).  Print the new token  for  the  message  to  standard  output  if  it  is  stored
           successfully.   If  this option is given, no other options except <b>-R</b> and possibly <b>-q</b> should be given.
           When <b>-R</b> is given, any number of articles in wire format are read on standard input and stored.

</pre><h4><b>EXIT</b> <b>STATUS</b></h4><pre>
       If all operations were successful, <b>sm</b> exits with status 0.  If an operation on any of the provided tokens
       fails, <b>sm</b> will exit with status 1, even if the operations on other  tokens  were  successful.   In  other
       words, if twenty tokens are fed to "sm -r" on stdin, 19 articles were successfully removed, but the sixth
       article couldn't be found, <b>sm</b> will still exit with status 1.

       This means that if you need to be sure whether a particular operation succeeded, you should run <b>sm</b> on one
       token at a time.

</pre><h4><b>HISTORY</b></h4><pre>
       Written  by  Katsuhiro  Kondou  &lt;<a href="mailto:kondou@nec.co.jp">kondou@nec.co.jp</a>&gt;  for  InterNetNews.   Rewritten in POD by Russ Allbery
       &lt;<a href="mailto:eagle@eyrie.org">eagle@eyrie.org</a>&gt;.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <a href="../man8/ctlinnd.8.html">ctlinnd</a>(8), <a href="../man1/grephistory.1.html">grephistory</a>(1), <a href="../man5/history.5.html">history</a>(5), <a href="../man1/rnews.1.html">rnews</a>(1), <a href="../man5/storage.conf.5.html">storage.conf</a>(5).

INN 2.7.3                                          2025-05-19                                              <u><a href="../man8/SM.8.html">SM</a></u>(8)
</pre>
 </div>
</div></section>
</div>
</body>
</html>