<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>pure-certd - TLS certificate agent for Pure-FTPd.</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/pure-ftpd-common">pure-ftpd-common_1.0.50-2.2build3_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       pure-certd - TLS certificate agent for Pure-FTPd.

</pre><h4><b>SYNTAX</b></h4><pre>
       pure-certd [<u>-p</u> &lt;<u>/path/to/pidfile</u>&gt;] [<u>-u</u> uid] [<u>-g</u> gid] [<u>-B</u>] &lt;<u>-s</u> /path/to/socket&gt; <u>-r</u> /program/to/run

</pre><h4><b>DESCRIPTION</b></h4><pre>
       pure-certd is a daemon that forks an authentication program, waits for a certificate path as a reply, and
       returns it to an application server.

       pure-certd  listens  to  a  local Unix socket. A new connection to that socket should send pure-authd the
       following structure:

              sni_name:xxx end

       These content is passed to the authentication program, as an environment variable:

              CERTD_SNI_NAME

       The authentication program should take appropriate actions to select a TLS certificate, and reply to  the
       standard output with the following format:

              action:strict cert_file:/path/to/cert.pem key_file:/path/to/cert.pem end

       <b>cert_file:</b>xxx
              Absolute path to the certificate in PEM format.

       <b>key_file:</b>xxx
              This is optional, as a certificate and its key can be concatenated in the same file.

       <b>action:</b>xxx
              If  action  is  "deny", a certificate for that name was not found and access is denied.  If xxx is
              "default", the default certificate will be used.  If xxx is "strict", the certificate  whose  path
              is  indicated in "cert_path" will be used. If absent or invalid, access will be denied.  If xxx is
              "fallback", the certificate whose path is indicated in "cert_path" will  be  used.  If  absent  or
              invalid, the default certificate will be used instead.

       <b>uid:</b>xxx
              The system uid to be assigned to that user. Must be &gt; 0.

       <b>gid:</b>xxx
              The primary system gid. Must be &gt; 0.

       <b>dir:</b>xxx
              The absolute path to the home directory. Can contain <a href="file:/./">/./</a> for a chroot jail.

       <u>Only</u> <u>one</u> <u>authentication</u> <u>program</u> <u>is</u> <u>forked</u> <u>at</u> <u>a</u> <u>time.</u> <u>It</u> <u>must</u> <u>return</u> <u>quickly.</u>

</pre><h4><b>OPTIONS</b></h4><pre>
       <b>-u</b> &lt;<u>uid</u>&gt;
              Have the daemon run with that uid.

       <b>-g</b> &lt;<u>gid</u>&gt;
              Have the daemon run with that gid.

       <b>-B</b>     Fork in background (daemonization).

       <b>-s</b> &lt;<u>/path/to/socket</u>&gt;
              Set the full path to the local Unix socket.

       <b>-r</b> &lt;<u>/path/to/program</u>&gt;
              Set the full path to the authentication program.

       <b>-h</b>     Output help information and exit.

</pre><h4><b>EXAMPLES</b></h4><pre>
       To run this program the standard way type:

       pure-certd -s /var/run/certd.sock -r /usr/bin/my-cert-program &amp;

       pure-ftpd -lextcert:/var/run/certd.sock &amp;

       /usr/bin/my-cert-program can be as simple as:
              #! <a href="file:/bin/sh">/bin/sh</a>

              echo 'action:strict'

              echo 'cert_file:/etc/ssl/private/pure-ftpd/cert.pem'

              echo 'end'

</pre><h4><b>AUTHORS</b></h4><pre>
       Frank DENIS &lt;j at pureftpd dot org&gt;

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man1/ftp.1.html">ftp</a>(1)</b>,  <b><a href="../man8/pure-ftpd.8.html">pure-ftpd</a>(8)</b> <b><a href="../man8/pure-ftpwho.8.html">pure-ftpwho</a>(8)</b> <b><a href="../man8/pure-mrtginfo.8.html">pure-mrtginfo</a>(8)</b> <b><a href="../man8/pure-uploadscript.8.html">pure-uploadscript</a>(8)</b> <b><a href="../man8/pure-statsdecode.8.html">pure-statsdecode</a>(8)</b> <b><a href="../man8/pure-pw.8.html">pure-pw</a>(8)</b>
       <b><a href="../man8/pure-quotacheck.8.html">pure-quotacheck</a>(8)</b> <b><a href="../man8/pure-authd.8.html">pure-authd</a>(8)</b>

Frank Denis                                          1.0.50                                        <u><a href="../man8/pure-certd.8.html">pure-certd</a></u>(8)
</pre>
 </div>
</div></section>
</div>
</body>
</html>