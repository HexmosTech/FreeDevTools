<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>pure-ftpd - simple File Transfer Protocol server</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/pure-ftpd-common">pure-ftpd-common_1.0.50-2.2build3_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       pure-ftpd - simple File Transfer Protocol server

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>pure-ftpd</b>  <b>[-0]</b>  <b>[-1]</b>  <b>[-2</b>  <b>cert_file[,key_file]]</b> <b>[-3</b> <b>certd_socket]</b> <b>[-4]</b> <b>[-6]</b> <b>[-a</b> <b>gid]</b> <b>[-A]</b> <b>[-b]</b> <b>[-B]</b> <b>[-c</b>
       <b>clients]</b> <b>[-C</b> <b>cnx/ip]</b> <b>[-d</b> <b>[-d]]</b> <b>[-D]</b> <b>[-e]</b> <b>[-E]</b> <b>[-f</b> <b>facility]</b> <b>[-F</b> <b>fortunes</b> <b>file]</b>  <b>[-g</b>  <b>pidfile]</b>  <b>[-G]</b>  <b>[-H]</b>
       <b>[-i]</b>  <b>[-I]</b>  <b>[-j]</b>  <b>[-J</b>  <b>ciphers]</b>  <b>[-k</b> <b>percentage]</b> <b>[-K]</b> <b>[-l</b> <b>authentication[:config</b> <b>file]]</b> <b>[-L</b> <b>max</b> <b>files:max</b>
       <b>depth]</b> <b>[-m</b> <b>maxload]</b> <b>[-M]</b> <b>[-n</b> <b>maxfiles:maxsize]</b> <b>[-N]</b> <b>[-o]</b> <b>[-O</b> <b>format:log</b>  <b>file]</b>  <b>[-p</b>  <b>first:last]</b>  <b>[-P</b>  <b>ip</b>
       <b>address</b>  <b>or</b>  <b>host</b>  <b>name]</b>  <b>[-q</b>  <b>upload:download</b>  <b>ratio]</b>  <b>[-Q</b>  <b>upload:download</b>  <b>ratio]</b>  <b>[-r]</b>  <b>[-R]</b> <b>[-s]</b> <b>[-S</b>
       <b>[address,][port]]</b> <b>[-t</b> <b>upload</b> <b>bandwidth:download</b> <b>bandwidth]</b> <b>[-T</b> <b>upload</b> <b>bandwidth:download</b>  <b>bandwidth]</b>  <b>[-u</b>
       <b>uid]</b>  <b>[-U</b>  <b>umask</b>  <b>files:umask</b>  <b>dirs]</b>  <b>[-v</b>  <b>bonjour</b> <b>name]</b> <b>[-V</b> <b>ip</b> <b>address]</b> <b>[-w]</b> <b>[-W]</b> <b>[-x]</b> <b>[-X]</b> <b>[-y</b> <b>max</b> <b>user</b>
       <b>sessions:max</b> <b>anon</b> <b>sessions]</b> <b>[-Y</b> <b>tls</b> <b>behavior]</b> <b>[-z]</b> <b>[-Z]</b>

       Alternative style:
       -0 --notruncate
       -1 --logpid
       -2 --certfile
       -3 --extcert
       -4 --ipv4only
       -6 --ipv6only
       -a --trustedgid
       -A --chrooteveryone
       -b --brokenclientscompatibility
       -B --daemonize
       -c --maxclientsnumber
       -C --maxclientsperip
       -d --verboselog
       -D --displaydotfiles
       -e --anonymousonly
       -E --noanonymous
       -f --syslogfacility
       -F --fortunesfile
       -g --pidfile
       -G --norename
       -h --help
       -H --dontresolve
       -i --anonymouscantupload
       -I --maxidletime
       -j --createhomedir
       -J --tlsciphersuite
       -k --maxdiskusagepct
       -K --keepallfiles
       -l --login
       -L --limitrecursion
       -m --maxload
       -M --anonymouscancreatedirs
       -n --quota
       -N --natmode
       -o --uploadscript
       -O --altlog
       -p --passiveportrange
       -P --forcepassiveip
       -q --anonymousratio
       -Q --userratio
       -r --autorename
       -R --nochmod
       -s --antiwarez
       -S --bind
       -t --anonymousbandwidth
       -T --userbandwidth
       -u --minuid
       -U --umask
       -v --bonjour
       -V --trustedip
       -w --allowuserfxp
       -W --allowanonymousfxp
       -x --prohibitdotfileswrite
       -X --prohibitdotfilesread
       -y --peruserlimits
       -Y --tls
       -z --allowdotfiles
       -Z --customerproof

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>Pure-FTPd</b> is a small, simple server for the old and hairy File Transfer Protocol, designed  to  use  less
       resources than older servers, be smaller and very secure, and to never execute any external program.

       It  support  most-used  features  and  commands of FTP (including many modern extensions), and leaves out
       everything which is deprecated, meaningless, insecure, or correlates with trouble.

       IPv6 is fully supported.

</pre><h4><b>OPTIONS</b></h4><pre>
       <b>-0</b>     When a file is uploaded and there is already a previous version of the file with  the  same  name,
              the  old  file will neither get removed nor truncated.  Upload will take place in a temporary file
              and once the upload is complete, the switch to the new version will be atomic. This option  should
              not be used together with virtual quotas.

       <b>-1</b>     Add the PID to the syslog output. Ignored if <b>-f</b> <b>none</b> is set.

       <b>-2</b> <b>cert_file[,key_file]</b>
              When  using  TLS,  set  the  path  to  the certificate file. The certificate and its key can be be
              bundled into a single file, or the key can be in a distinct file.

       <b>-3</b> <b>path</b>
              Path to the pure-certd UNIX socket.

       <b>-4</b>     Listen only to IPv4 connections.

       <b>-6</b>     Listen only to IPv6 connections.

       <b>-a</b> <b>gid</b> Regular users will be chrooted to their home directories, unless they belong to the specified gid.
              Note that root is always trusted, and that chroot() occurs only for  anonymous  ftp  without  this
              option.

       <b>-A</b>     Chroot() everyone, but root.

       <b>-b</b>     Be  broken.  Turns  on  some  compatibility  hacks  for  shoddy  clients, and for broken Netfilter
              gateways.

       <b>-B</b>     Start the standalone server in background (daemonize).

       <b>-c</b> <b>clients</b>
              Allow a maximum of <u>clients</u> to be connected.  <u>clients</u> must be at least 1, and  if  you  combine  it
              with  <b>-p</b> it will be forced down to half the number of ports specified by <b>-p.</b>  If more than <u>clients</u>
              are connected, new clients are rejected at once, even clients wishing to upload, or to log  in  as
              normal  users.  Therefore,  it  is advisable to use <b>-m</b> as primary overload protection. The default
              value is 50.

       <b>-C</b> <b>max</b> <b>connection</b> <b>per</b> <b>ip</b>
              Limit the number of simultaneous connections coming from the same IP address. This is yet  another
              very effective way to prevent stupid denial of services and bandwidth starvation by a single user.
              It  works  only  when  the server is launched in standalone mode (if you use a super-server, it is
              supposed to do that). If the server is launched with <b>-C</b> <b>2</b> , it doesn't mean that the total  number
              of connection is limited to 2.  But the same client, coming from the same machine (or at least the
              same  IP),  can't  have more than two simultaneous connections. This features needs some memory to
              track IP addresses, but it's recommended to use it.

       <b>-d</b>     turns on debug logging. Every command is logged, except that the argument to PASS  is  changed  to
              "&lt;password&gt;". If you repeat <b>-d</b> , responses too are logged.

       <b>-e</b>     Only allow anonymous users to log in.

       <b>-E</b>     Only allow authenticated login. Anonymous users are prohibited.

       <b>-f</b> <b>facility</b>
              makes ftpd use <u>facility</u> for all <b><a href="../man3/syslog.3.html">syslog</a></b>(3) messages.  <u>facility</u> defaults to <b>ftp</b>.  The facility names
              are  normally listed in <u>/usr/include/sys/syslog.h</u>.  Note that if <b>-f</b> is not the first option on the
              command line, a couple of messages may be logged to local2 before the <b>-f</b> option is parsed.  Use <b>-f</b>
              <b>none</b> to disable logging.

       <b>-F</b> <b>fortunes</b> <b>file</b>
              Display a funny random message in the initial login banner. The random cookies are extracted  from
              a text file, in the standard <b>fortune</b> format. If you installed the <b>fortune</b> package, you should have
              a  directory  (usually <b>/usr/share/fortune</b> ) with binary files ( <b>xxxx.dat</b> ) and text files (without
              the <b>.dat</b> extension).

       <b>-g</b> <b>pidfile</b>
              In standalone mode, write the pid to that file in instead of /var/run/pure-ftpd.pid .

       <b>-G</b>     When this option is enabled, people can no more change the name of already uploaded files, even if
              they own those files or their directory.

       <b>-H</b>     Don't resolve host names ("192.0.34.166" will be logged  instead  of  "www.example.com").  It  can
              significantly  speed  up connections and reduce bandwidth usage on busy servers. Use it especially
              on public FTP sites.

       <b>-i</b>     Disallow upload for anonymous users, whatever directory permissions are. This option is especially
              useful for virtual hosting, to avoid your users create warez sites in their account.

       <b>-I</b> <b>timeout</b>
              Change the maximum idle time. The timeout is in minutes, and defaults to 15.

       <b>-j</b>     If the home directory of a user doesn't exist, automatically create it.  The  newly  created  home
              directory belongs to the user, and permissions are set according to the current directory mask. To
              avoid local attacks, the parent directory should never belong to an untrusted user.

       <b>-J</b> <b>ciphers</b>
              Set the list of ciphers that will be accepted for TLS connections.

       <b>-k</b> <b>percentage</b>
              Disallow  upload  if  the  partition is more than <b>percentage</b> full. Example: -k 95 will ensure that
              your disk will never get filled more than 95% by FTP users.

       <b>-K</b>     Allow users to resume and upload files, but NOT to delete them. Directories can  be  removed,  but
              only if they are empty.

       <b>-l</b> <b>authentication:file</b>
              Enable  a  new  authentication  method.  It  can  be  one  of:  <u>-l</u> <u>unix</u> For standard (<a href="file:/etc/passwd">/etc/passwd</a>)
              authentication.  <u>-l</u> <u>pam</u> For PAM authentication.  <u>-l</u> <u>ldap:LDAP</u> <u>config</u> <u>file</u>  For  LDAP  directories.
              <u>-l</u>  <u>mysql:MySQL</u>  <u>config</u>  <u>file</u>  For  MySQL  databases.   <u>-l</u> <u>pgsql:Postgres</u> <u>config</u> <u>file</u> For Postgres
              databases.  <u>-l</u> <u>puredb:PureDB</u> <u>database</u> <u>file</u> For PureDB databases.  <u>-l</u>  <u>extauth:path</u>  <u>to</u>  <u>pure-authd</u>
              <u>socket</u> For external authentication handlers.
              Different  authentication  methods  can be mixed together. For instance if you run the server with
              <u>-lpuredb:/etc/pure-ftpd/pwd.pdb</u>  <u>-lmysql:/etc/pure-ftpd/my.cf</u>  <u>-lunix</u>  Accounts  will   first   be
              authenticated from a PureDB database. If it fails, a MySQL server will be asked. If the account is
              still  not  found  is the database, standard unix accounts will be scanned. Authentication methods
              are tried in the order you give the -l options, if you do not give -l,  then  the  decision  comes
              from  configure,  if  PAM  is  built  in,  it  is used, if not, then UNIX (<a href="file:/etc/passwd">/etc/passwd</a>) is used by
              default.
              See the <u>README.LDAP</u> and <u>README.MySQL</u> files for info about the  built-in  LDAP  and  SQL  directory
              support.

       <b>-L</b> <b>max</b> <b>files:max</b> <b>depth</b>
              Avoid  denial-of-service  attacks  by  limiting  the  number  of displayed files in a 'ls' and the
              maximum depth of a recursive 'ls'. Defaults are 2000:5 (2000 files displayed for a single 'ls' and
              walk through 5 subdirectories max).

       <b>-m</b> <b>load</b>
              Do not allow anonymous users to download files if the load is above <u>load</u> when the  user  connects.
              Uploads  and file listings are still allowed, as are downloads by real users. The user is not told
              about this until he/she tries to download a file.

       <b>-M</b>     Allow anonymous users to create directories.

       <b>-n</b> <b>maxfiles:maxsize</b>
              Enable <b>virtual</b> <b>quotas</b> When virtual quotas are enabled, .ftpquota files are created, and the number
              of files for a user is restricted to 'maxfiles'. The max total  size  of  his  directory  is  also
              restricted to 'maxsize' Megabytes. Members of the trusted group aren't subject to quotas.

       <b>-N</b>     NAT  mode.  Force  <b>active</b>  mode.  If  your  FTP  server  is  behind a NAT box that doesn't support
              applicative FTP proxying, or if you use port redirection without  a  transparent  FTP  proxy,  use
              this. Well... the previous sentence isn't very clear. Okay: if your network looks like this:
              FTP--NAT.gateway/router--Internet
              and  if  you  want  people  coming from the internet to have access to your FTP server, please try
              without this option first. If Netscape clients can connect without any problem, your  NAT  gateway
              rulez.  If  Netscape  doesn't  display  directory  listings,  your  NAT gateway sucks. Use <b>-N</b> as a
              workaround.

       <b>-o</b>     Enable <u>pure-uploadscript</u>.

       <b>-O</b> <b>format:log</b> <b>file</b>
              Record all file transfers into a specific log file, in an  alternative  format.  Currently,  three
              formats are supported: CLF, Stats, W3C and xferlog.
              If you add
              <b>-O</b> <b>clf:/var/log/pureftpd.log</b>
              to  your  starting  options,  Pure-FTPd  will  log  transfers in <b>/var/log/pureftpd.log</b> in a format
              similar to the Apache web server in default configuration.
              If you add
              <b>-O</b> <b>stats:/var/log/pureftpd.log</b>
              to your starting options, Pure-FTPd will create accurate log files  designed  for  traffic  analys
              software like ftpStats.
              If you add
              <b>-O</b> <b>w3c:/var/log/pureftpd.log</b>
              to your starting options, Pure-FTPd will create W3C-conformant log files.
              For   security   purposes,   the   path   must   be   absolute  (eg.   <b>/var/log/pureftpd.log</b>,  not
              <b>../log/pureftpd.log</b>).

       <b>-p</b> <b>first:last</b>
              Use only ports in the range <u>first</u> to <u>last</u> inclusive for passive-mode downloads.  This  means  that
              clients  will not try to open connections to TCP ports outside the range <u>first</u> <u>-</u> <u>last</u>, which makes
              pure-ftpd more compatible with packet filters. Note that the maximum number of clients  (specified
              with  <b>-c</b>)  is forced down to <u>(last</u> <u>+</u> <u>1</u> <u>-</u> <u>first)/2</u> if it is greater, as the default is. (The syntax
              for the port range is, conveniently, the same as that of <b>iptables).</b>

       <b>-P</b> <b>ip</b> <b>address</b> <b>or</b> <b>host</b> <b>name</b>
              Force the specified IP address in reply to  a  <b>PASV/EPSV</b>  command.  If  the  server  is  behind  a
              masquerading  (NAT) box that doesn't properly handle stateful FTP masquerading, put the ip address
              of that box here. If you have a dynamic IP address, you can use a symbolic host name (probably the
              one of your gateway), that will be resolved every time a new client will connect.

       <b>-q</b> <b>upload:download</b>
              Enable an upload/download ratio for anonymous users (ex: <u>-q</u> <u>1:5</u> means that 1 Mb of goodies have to
              be uploaded to leech 5 Mb).

       <b>-Q</b> <b>upload:download</b>
              Enable ratios for anonymous and non-anonymous users. If the <u>-a</u> option is also used, users from the
              trusted group have no ratio.

       <b>-r</b>     Never overwrite existing files. Uploading a file whose name  already  exists  cause  an  automatic
              rename. Files are called xyz.1, xyz.2, xyz.3, etc.

       <b>-R</b>     Disallow  users  (even non-anonymous ones) usage of the CHMOD command. On hosting services, it may
              prevent newbies from doing mistakes, like setting bad permissions on their  home  directory.  Only
              root can use CHMOD when this switch is enabled.

       <b>-s</b>     Don't  allow  anonymous users to retrieve files owned by "ftp" (generally, files uploaded by other
              anonymous users).

       <b>-S</b> <b>[{ip</b> <b>address|hostname}]</b> <b>[,{port|service</b> <b>name}]</b>
              This option is only effective when the server is launched as a standalone server.  Connections are
              accepted on the specified IP and port. IPv4 and IPv6 are supported.  Numeric  and  fully-qualified
              host  names are accepted. A service name (see <a href="file:/etc/services">/etc/services</a>) can be used instead of a numeric port
              number.

       <b>-t</b> <b>bandwidth</b>
              or  <b>-t</b>  <b>upload</b>  <b>bandwidth:download</b>  <b>bandwidth</b>  Enable  process  priority  lowering  and  bandwidth
              throttling for anonymous users. Delay should be in kilobytes/seconds.

       <b>-T</b> <b>bandwidth</b>
              or  <b>-T</b>  <b>upload</b>  <b>bandwidth:download</b>  <b>bandwidth</b>  Enable  process  priority  lowering  and  bandwidth
              throttling for *ALL* users.  Pure-FTPd  should  have  been  explicitly  compiled  with  throttling
              support  to  have these flags work.  It is possible to have different bandwidth limits for uploads
              and for downloads. '-t' and '-T' can indeed be followed by  two  numbers  delimited  by  a  column
              (':'). The first number is the upload bandwidth and the next one applies only to downloads. One of
              them  can  be  left blank which means infinity.  A single number without any column means that the
              same limit applies to upload and download.

       <b>-u</b> <b>uid</b> Do not allow uids below <u>uid</u> to log in (typically, low-numbered <u>uid</u>s are  used  for  administrative
              accounts).   <b>-u</b>  <b>100</b>  is  sufficient  to  deny access to all administrative accounts on many linux
              boxes, where 99 is the last administrative account. Anonymous FTP is allowed even if  the  uid  of
              the  ftp  user  is  smaller than <u>uid</u>.  <b>-u</b> <b>1</b> denies access only to root accounts. The default is to
              allow FTP access to all accounts.

       <b>-U</b> <b>umask</b> <b>files:umask</b> <b>dirs</b>
              Change the mask for creation of new files and directories. The default are 133 (files are readable
              -but not writable- by other users) and 022 (same thing for directory, with the  execute  bit  on).
              If  new  files  should only be readable by the user, use 177:077. If you want uploaded files to be
              executable, use 022:022 (files will be readable by other people) or 077:077 (files  will  only  be
              readable by their owner).

       <b>-v</b> <b>bonjour</b> <b>name</b>
              Set  the  Bonjour  name of the service (only available on MacOS X when Bonjour support is compiled
              in).

       <b>-V</b> <b>ip</b> <b>address</b>
              Allow non-anonymous FTP access only on this specific local IP address. All other IP addresses  are
              only  anonymous. With that option, you can have routed IPs for public access, and a local IP (like
              10.x.x.x) for administration. You can also have a routable trusted IP protected by firewall rules,
              and only that IP can be used to login as a non-anonymous user.

       <b>-w</b>     Enable support for the FXP protocol, for non-anonymous users only.

       <b>-W</b>     Enable the FXP protocol for everyone.  <u>FXP</u> <u>IS</u> <u>AN</u> <u>UNSECURE</u> <u>PROTOCOL.</u> <u>NEVER</u> <u>ENABLE</u> <u>IT</u>  <u>ON</u>  <u>UNTRUSTED</u>
              <u>NETWORKS.</u>

       <b>-x</b>     In  normal  operation  mode,  authenticated users can read/write files beginning with a dot ('.').
              Anonymous users can't, for security reasons (like changing banners or a forgotten  .rhosts).  When
              '-x'  is  used, authenticated users can download dot-files, but not overwrite/create them, even if
              they own them. That way, you can prevent hosted users from messing .qmail files.

       <b>-X</b>     This flag is identical to the previous one (writing dot-files is  prohibited),  but  in  addition,
              users can't even *read* files and directories beginning with a dot (like "cd .ssh").

       <b>-y</b> <b>per</b> <b>user</b> <b>max</b> <b>sessions:max</b> <b>anonymous</b> <b>sessions</b>
              This  switch  enables per-user concurrency limits. Two values are separated by a column. The first
              one is the max number of concurrent sessions for a single login. The second  one  is  the  maximum
              number of anonoymous sessions.

       <b>-Y</b> <b>tls</b> <b>behavior</b>
              <b>-Y</b> <b>0</b> (default) disables TLS security mechanisms.
              <b>-Y</b> <b>1</b> Accept both normal sessions and TLS ones.
              <b>-Y</b> <b>2</b> refuses connections that aren't using TLS security mechanisms, including anonymous ones.
              <b>-Y</b>  <b>3</b>  refuses  connections  that  aren't using TLS security mechanisms, and refuse cleartext data
              channels as well.
              The server must have been compiled with TLS support and a valid certificate must be  in  place  to
              accept encrypted sessions.

       <b>-z</b>     Allow anonymous users to read files and directories starting with a dot ('.').

       <b>-Z</b>     Add safe guards against common customer mistakes (like chmod 0 on their own files) .

</pre><h4><b>AUTHENTICATION</b></h4><pre>
       Some of the complexities of older servers are left out.

       This  version  of  pure-ftpd  can  use  PAM  for authentication. If you want it to consult any files like
       <a href="file:/etc/shells">/etc/shells</a> or /etc/ftpd/ftpusers  consult  pam  docs.  LDAP  directories  and  SQL  databases  are  also
       supported.

       Anonymous users are authenticated in any of three ways:

       1.  The  user  logs in as "ftp" or "anonymous" and there is an account called "ftp" with an existing home
       directory. This server does not ask anonymous users for an email address or other password.

       2. The user connects to an  IP  address  which  resolves  to  the  name  of  a  directory  in  <u>/etc/pure-</u>
       <u>ftpd/pure-ftpd</u> (or a symlink in that directory to a real directory), and there is an account called "ftp"
       (which does not need to have a valid home directory). See <b>Virtual</b> <b>Servers</b> below.

       <b>Ftpd</b> does a <b><a href="../man2/chroot.2.html">chroot</a></b>(2) to the relevant base directory when an anonymous user logs in.

       Note that <b>ftpd</b> allows remote users to log in as root if the password is known and -u not used.

</pre><h4><b>UNUSUAL</b> <b>FEATURES</b></h4><pre>
       If  a  user's  home  directory  is  <b>/path/to/home/./</b>,  FTP sessions under that UID will be chroot()ed. In
       addition, if a users's home directory is <b>/path/to/home/./directory</b> the  session  will  be  chroot()ed  to
       /path/to/home and the FTP session will start in 'directory'.

       As noted above, this <b>pure-ftpd</b> omits several features that are required by the RFC or might be considered
       useful at first. Here is a list of the most important omissions.

       On-the-fly tar is not supported, for several reasons. I feel that users who want to get many files should
       use  a special FTP client such as "mirror," which also supports incremental fetch. I don't want to either
       add several hundred lines of code to create tar files or execute an external tar. Finally, on-the-fly tar
       distorts log files.

       On-the-fly compression is left out too. Most files on an FTP site are compressed already, and if  a  file
       isn't,  there  presumably  is a reason why. (As for decompression: Don't FTP users waste bandwidth enough
       without help from on-the-fly decompression?)

</pre><h4><b>DIRECTORY</b> <b>ALIASES</b></h4><pre>
       Shortcuts for the "cd" command can be set up if the server has been compiled with  the  --with-diraliases
       feature.

       To enable directory aliases, create a file called <u>/etc/pure-ftpd/pureftpd-dir-aliases</u> and alternate lines
       of alias names and associated directories.

</pre><h4><b>ANONYMOUS</b> <b>FTP</b></h4><pre>
       This  server  leaves  out  some of the commands and features that have been used to subvert anonymous FTP
       servers in the past, but still you have to be a little bit careful in  order  to  support  anonymous  FTP
       without risk to the rest of your files.

       Make  <u>~ftp</u>  and  all  files and directories below this directory owned by some user other than "ftp," and
       only the <u>.../incoming</u> directory/directories writable by "ftp." It is probably best if all directories are
       writable only by a special group such as "ftpadmin" and "ftp" is not a member of this group.

       If you do not trust the local users, put <u>~ftp</u> on a separate partition, so  local  users  can't  hard-link
       unapproved files into the anonymous FTP area.

       Use  of  the  <b>-s</b>  option  is  strongly  suggested.  (Simply  add  "-s"  to  the  end  of the <b>ftpd</b> line in
       <u>/etc/inetd.conf</u> to enable it.)

       Most other FTP servers require that a number of files such as <u>~ftp/bin/ls</u> exist.  This  server  does  not
       require  that  any  files  or  directories  within  <u><a href="file:~/ftp">~/ftp</a></u> whatsoever exist, and I recommend that all such
       unnecessary files are removed (for no real reason).

       It may be worth considering to run the anonymous FTP service as a virtual server, to get automatic logins
       and to firewall off the FTP address/port to which real users can log in.

       If your server is a public FTP site, you may want to allow only 'ftp' and 'anonymous' users  to  log  in.
       Use  the  <b>-e</b> option for this. Real accounts will be ignored and you will get a secure, anonymous-only FTP
       server.

</pre><h4><b>MAGIC</b> <b>FILES</b></h4><pre>
       The files <u>&lt;ftproot&gt;/.banner</u> and <u>.message</u> are magical.

       If there is a file called <u>.banner</u> in the root directory of  the  anonymous  FTP  area,  or  in  the  root
       directory  of a virtual host, and it is shorter than 1024 bytes, it is printed upon login. (If the client
       does not log in explicitly, and an implicit login is triggered by a CWD or CDUP command,  the  banner  is
       not printed. This is regrettable but hard to avoid.)

       If  there  is  a  file  called  <u>.message</u> in any directory and it is shorter than 1024 bytes, that file is
       printed whenever a user enters that directory using CWD or CDUP.

</pre><h4><b>VIRTUAL</b> <b>SERVERS</b></h4><pre>
       You can run several different anonymous FTP servers on one host, by giving the host several IP  addresses
       with different DNS names.

       Here  are  the  steps  needed  to  create  an  extra  server  using  an  IP  alias on linux 2.4.x, called
       "ftp.example.com" on address 10.11.12.13. on the IP alias eth0.

       1. Create an "ftp" account if you do not have one. It it best if the account does not have a  valid  home
       directory  and  shell.  I prefer to make <u>/dev/null</u> the ftp account's home directory and shell.  <b>Ftpd</b> uses
       this account to set the anonymous users' uid.

       2.  Create  a  directory  as  described  in  <b>Anonymous</b>  <b>FTP</b>  and  make  a   symlink   called   <u>/etc/pure-</u>
       <u>ftpd/pure-ftpd/10.11.12.13</u> which points to this directory.

       3. Make sure your kernel has support for IP aliases.

       4. Make sure that the following commands are run at boot:

         /sbin/ifconfig eth0:1 10.11.12.13

       That should be all. If you have problems, here are some things to try.

       First,  symlink  <u>/etc/pure-ftpd/pure-ftpd/127.0.0.1</u>  to  some  directory and say "ftp localhost". If that
       doesn't log you in, the problem is with <b>ftpd.</b>

       If not, "ping -v 10.11.12.13" and/or "ping -v ftp.example.com" from the same host. If this does not work,
       the problem is with the IP alias.

       Next, try "ping -v 10.11.12.13" from a host on the local ethernet,  and  afterwards  "/sbin/arp  -a".  If
       10.11.12.13  is  listed  among the ARP entries with the correct hardware address, the problem is probably
       with the IP alias. If 10.11.12.13 is listed, but has hardware address 0:0:0:0:0:0, then  proxy-ARP  isn't
       working.

       If none of that helps, I'm stumped. Good luck.

       <b>Warning:</b>  If  you  setup  a virtual hosts, normal users will not be able to login via this name, so <b>don't</b>
       create link/directory in <u>/etc/pure-ftpd/pure-ftpd</u> for your regular hostname.

</pre><h4><b>FILES</b></h4><pre>
       <u><a href="file:/etc/passwd">/etc/passwd</a></u> is used via libc (and PAM is this case), to get the uid and home directory of  normal  users,
       the  uid  and home directory of "ftp" for normal anonymous ftp, and just the uid of "ftp" for virtual ftp
       hosts.

       <u><a href="file:/etc/shadow">/etc/shadow</a></u> is used like <u><a href="file:/etc/passwd">/etc/passwd</a></u> if shadow support is enabled.

       <u><a href="file:/etc/group">/etc/group</a></u> is used via libc, to get the group membership of normal users.

       <u><a href="file:/proc/net/tcp">/proc/net/tcp</a></u> is used to count existing FTP connections, if the <b>-c</b> or <b>-p</b> options are used

       <u>/etc/pure-ftpd/pure-ftpd/&lt;ip</u> <u>address&gt;</u> is the base directory for the &lt;ip address&gt; virtual ftp server, or a
       symbolic link to its base directory.  <b>Ftpd</b> does a <b><a href="../man2/chroot.2.html">chroot</a></b>(2) into this directory when a user  logs  in  to
       &lt;ip address&gt;, thus symlinks outside this directory will not work.

       <u>~ftp</u> is the base directory for "normal" anonymous FTP.  <b>Ftpd</b> does a <b><a href="../man2/chroot.2.html">chroot</a></b>(2) into this directory when an
       anonymous user logs in, thus symlinks outside this directory will not work.

</pre><h4><b>LS</b></h4><pre>
       The  behaviour  of LIST and NLST is a tricky issue. Few servers send RFC-compliant responses to LIST, and
       some clients depend on non-compliant responses.

       This server uses <b><a href="../man3/glob.3.html">glob</a></b>(3) to do filename globbing.

       The response to NLST is by default similar to that of <b><a href="../man1/ls.1.html">ls</a></b>(1), and that to LIST is by  default  similar  to
       that of <b>ls</b> <b>-l</b> or <b>ls</b> <b>-lg</b> on most Unix systems, except that the "total" count is meaningless.  Only regular
       files, directories and symlinks are shown. Only important <b>ls</b> options are supported:

       <b>-1</b>     Undoes <b>-l</b> and <b>-C</b>.

       <b>-a</b>     lists even files/directories whose names begin with ".".

       <b>-C</b>     lists files in as many colums as will fit on the screen. Undoes <b>-1</b> and <b>-l</b>.

       <b>-d</b>     lists argument directories' names rather their contents.

       <b>-D</b>     List  files  beginning  with  a dot ('.') even when the client doesn't append the <b>-a</b> option to the
              <b>list</b> command.

       <b>-F</b>     appends '*' to executable regular files, '@' to symlinks and '/' to directories.

       <b>-l</b>     shows various details about the file, including file group. See <b><a href="../man1/ls.1.html">ls</a></b>(1) for details. Undoes  <b>-1</b>  and
              <b>-C</b>.

       <b>-r</b>     reverses the sorting order (modifies <b>-S</b> and <b>-t</b> and the default alphabetical ordering).

       <b>-R</b>     recursively descends into subdirectories of the argument directories.

       <b>-S</b>     Sorts by file size instead of by name. Undoes <b>-t</b>.

       <b>-t</b>     Sorts by file modification time instead of by name. Undoes <b>-S</b>.

</pre><h4><b>PROTOCOL</b></h4><pre>
       Here are the FTP commands supported by this server.
       <b>ABOR</b> <b>ALLO</b> <b>APPE</b> <b>AUTH</b> <b>TLS</b> <b>CCC</b> <b>CDUP</b> <b>CWD</b> <b>DELE</b> <b>EPRT</b> <b>EPSV</b> <b>ESTA</b> <b>ESTP</b> <b>FEAT</b> <b>HELP</b> <b>LIST</b> <b>MDTM</b> <b>MFMT</b> <b>MKD</b> <b>MLSD</b> <b>MLST</b> <b>MODE</b>
       <b>NLST</b>  <b>NOOP</b>  <b>PASS</b>  <b>PASV</b> <b>PBSZ</b> <b>PORT</b> <b>PROT</b> <b>PWD</b> <b>QUIT</b> <b>REST</b> <b>RETR</b> <b>RMD</b> <b>RNFR</b> <b>RNTO</b> <b>SIZE</b> <b>STAT</b> <b>STOR</b> <b>STOU</b> <b>STRU</b> <b>SYST</b> <b>TYPE</b>
       <b>USER</b> <b>XCUP</b> <b>XCWD</b> <b>XDBG</b> <b>XMKD</b> <b>XPWD</b> <b>XRMD</b> <b>OPTS</b> <b>MLST</b> <b>SITE</b> <b>CHMOD</b> <b>SITE</b> <b>HELP</b> <b>SITE</b> <b>IDLE</b> <b>SITE</b> <b>TIME</b> <b>SITE</b> <b>UTIME</b>

</pre><h4><b>BUGS</b></h4><pre>
       Please report bugs to the mailing-list  (see  below).   Pure-FTPd  looks  very  stable  and  is  used  on
       production servers. However it comes with no warranty and it can have nasty bugs or security flaws.

</pre><h4><b>HOME</b> <b>PAGE</b></h4><pre>
       <a href="http://www.pureftpd.org/">http://www.pureftpd.org/</a>

</pre><h4><b>NEW</b> <b>VERSIONS</b></h4><pre>
       See the mailing-list on <b><a href="http://www.pureftpd.org/ml/">http://www.pureftpd.org/ml/</a></b>.

</pre><h4><b>AUTHOR</b> <b>AND</b> <b>LICENSE</b></h4><pre>
       Troll-FTPd  was  written  by  Arnt  Gulbrandsen &lt;<a href="mailto:agulbra@troll.no">agulbra@troll.no</a>&gt; and copyright 1995-2002 Troll Tech AS,
       Waldemar Thranes gate 98B, N-0175 Oslo, Norway, fax +47 22806380.

       Pure-FTPd is (C)opyleft 2001-2021 by Frank DENIS &lt;j at pureftpd dot org&gt;.

       This software is covered by the BSD license.

       Contributors:
        Arnt Gulbrandsen,
        Troll Tech AS,
        Janos Farkas,
        August Fullford,
        Ximenes Zalteca,
        Patrick Michael Kane,
        Arkadiusz Miskiewicz,
        Michael K. Johnson,
        Kelley Lingerfelt,
        Sebastian Andersson,
        Andreas Westin,
        Jason Lunz,
        Mathias Gumz,
        Claudiu Costin,
        Ping,
        Paul Lasarev,
        Jean-Mathieux Schaffhauser,
        Emmanuel Hocdet,
        Sami Koskinen,
        Sami Farin,
        Luis Llorente Campo,
        Peter Pentchev,
        Darren Casey,
        The Regents of the University of California,
        Theo de Raadt (OpenBSD),
        Matthias Andree,
        Isak Lyberth,
        Steve Reid,
        RSA Data Security Inc,
        Trilucid,
        Dmtry Lebkov,
        Johan Huisman,
        Thorsten Kukuk,
        Jan van Veen,
        Roger Constantin Demetrescu,
        Stefano F.,
        Robert Varga,
        Freeman,
        James Metcalf,
        Im Eunjea,
        Philip Gladstone,
        Kenneth Stailey,
        Brad Smith,
        Ulrik Sartipy,
        Cindy Marasco,
        Nicolas Doye,
        Thomas Briggs,
        Stanton Gallegos,
        Florin Andrei,
        Chan Wilson,
        Bjoern Metzdorf,
        Ben Gertzfield,
        Akhilesch Mritunjai,
        Dawid Szymanski,
        Kurt Inge Smadal,
        Alex Dupre,
        Gabriele Vinci,
        Andrey Ulanov,
        Fygul Hether,
        Jeffrey Lim,
        Ying-Chieh Liao,
        Johannes Erdfelt,
        Martin Sarfy,
        Clive Goodhead,
        Aristoteles Pagaltzis,
        Stefan Hornburg,
        Mehmet Cokcevik,
        Brynjar Eide,
        Torgnt Wernersson,
        Banhalmi Csaba,
        Volodin D,
        Oriol Magran,
        Jui-Nan Lin,
        Patrick Gosling,
        Marc Balmer,
        Rajat Upadhyaya / Novell,
        Christian Cier-Zniewski,
        Wilco Baan Hofman,
        Clement Chauplannaz.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man1/ftp.1.html">ftp</a>(1)</b>, <b><a href="../man8/pure-ftpd.8.html">pure-ftpd</a>(8)</b> <b><a href="../man8/pure-ftpwho.8.html">pure-ftpwho</a>(8)</b> <b><a href="../man8/pure-mrtginfo.8.html">pure-mrtginfo</a>(8)</b> <b><a href="../man8/pure-uploadscript.8.html">pure-uploadscript</a>(8)</b> <b><a href="../man8/pure-statsdecode.8.html">pure-statsdecode</a>(8)</b>  <b><a href="../man8/pure-pw.8.html">pure-pw</a>(8)</b>
       <b><a href="../man8/pure-quotacheck.8.html">pure-quotacheck</a>(8)</b> <b><a href="../man8/pure-authd.8.html">pure-authd</a>(8)</b> <b><a href="../man8/pure-certd.8.html">pure-certd</a>(8)</b>

       <b>RFC</b> <b>959</b>, <b>RFC</b> <b>2228</b>, <b>RFC</b> <b>2389</b>, <b>RFC</b> <b>2428</b> and <b>RFC</b> <b>4217</b>.

Frank Denis                                          1.0.50                                         <u><a href="../man8/pure-ftpd.8.html">pure-ftpd</a></u>(8)
</pre>
 </div>
</div></section>
</div>
</body>
</html>