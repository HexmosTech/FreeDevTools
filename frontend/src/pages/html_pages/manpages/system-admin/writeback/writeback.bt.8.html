<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>writeback.bt - Trace file system writeback events with details. Uses bpftrace/eBPF.</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/bpftrace">bpftrace_0.23.2-1ubuntu2_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       writeback.bt - Trace file system writeback events with details. Uses bpftrace/eBPF.

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>writeback.bt</b>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       This  traces  when  file system dirtied pages are flushed to disk by kernel writeback, and prints details
       including when the event occurred, and the duration of the event. This  can  be  useful  for  correlating
       these times with other performance problems, and if there is a match, it would be a clue that the problem
       may  be caused by writeback. How quickly the kernel does writeback can be tuned: see the kernel docs, eg,
       vm.dirty_writeback_centisecs.

       This   uses   the   tracepoint:writeback:writeback_start    and    tracepoint:writeback:writeback_written
       tracepoints.

       Since this uses BPF, only the root user can use this tool.

</pre><h4><b>REQUIREMENTS</b></h4><pre>
       CONFIG_BPF and bpftrace.

</pre><h4><b>EXAMPLES</b></h4><pre>
       Trace all writeback events with timestamps and latency details:
              # <b>writeback.bt</b>

</pre><h4><b>FIELDS</b></h4><pre>
       TIME   Time that the writeback event completed, in %H:%M:%S format.

       DEVICE Device name in major:minor number format.

       PAGES  Pages written during writeback.

       REASON Reason for the writeback event. This may be "background", "vmscan", "sync", "periodic", etc.

       ms     Duration of the writeback event in milliseconds.

</pre><h4><b>OVERHEAD</b></h4><pre>
       Since  writeback events are expected to be infrequent (&lt;10/sec), the overhead of this tool is expected to
       be negligible (near 0%).

</pre><h4><b>SOURCE</b></h4><pre>
       This is from bpftrace.

              https://github.com/bpftrace/bpftrace

       Also look in the bpftrace distribution for a  companion  _examples.txt  file  containing  example  usage,
       output, and commentary for this tool.

</pre><h4><b>OS</b></h4><pre>
       Linux

</pre><h4><b>STABILITY</b></h4><pre>
       Unstable - in development.

</pre><h4><b>AUTHOR</b></h4><pre>
       Brendan Gregg

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <a href="../man8/biosnoop.bt.8.html">biosnoop.bt</a>(8)

USER COMMANDS                                      2018-09-14                                    <u><a href="../man8/writeback.bt.8.html">writeback.bt</a></u>(8)
</pre>
 </div>
</div></section>
</div>
</body>
</html>