<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>transproxy - program to start transproxy mode in Linux kernel</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/hunt">hunt_1.5-10_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       <b>transproxy</b> - program to start transproxy mode in Linux kernel

</pre><h4><b>SYNOPSIS</b></h4><pre>
       Usage: <u>transproxy</u>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <u>transproxy</u>  is  a  program  to  start  transparent  proxy mode in Linux kernel for use with hunt, and the
       program is a POSIX shell script file.

       Make sure you have compiled the kernel with <u>transproxy</u> support (you have to enable IP_FIREWALL option and
       ALWAYS_DEFRAGMENT and IP_TRANSPARENT_PROXY options  when  you  compile  the  kernel)  and  have  iptables
       installed.

       The  script  contains  two  variables that control on which port it listens and to which port the traffic
       will be redirected.

       The default destination port is 7000 and the redirect port is 7044, to change these and other values, see
       below in the USAGE section for more information.

       The DST_PORT is the port to which ordinary clients (source hosts) tries to connect.

       The DST_PORT_PROXY is the port to which the data are redirected and  on  which  listens  <u>transproxy</u>  user
       program that does all the black magic with data stream.

</pre><h4><b>USAGE</b></h4><pre>
       Before using the <u>transproxy</u> program, edit the file script at <a href="file:/usr/sbin/">/usr/sbin/</a><u>transproxy</u>.

       You  need  to set some parameters and we recommend that in Linux kernel you use the program 'iptables' to
       manipulate the 'netfilter' package filter which is supported and documented in Debian, while the programs
       placed by upstream ’ipchains' and 'ipfwadm' are no longer present in Debian since 2006, because ’ipfwadm'
       was the package filter of Linux kernel 2.0 and 'ipchains' was its total replacement in Linux kernel  2.2,
       and  then  'iptables'  over  'netfilter'  came  to  replace  'ipchains'  completely  since kernel 2.4, so
       'ipchains' and ’ipfwadm' don't exist in the current Linux kernel versions and  don't  serve  any  purpose
       anymore.

</pre><h4><b>FILES</b></h4><pre>
       <a href="file:/usr/sbin/">/usr/sbin/</a><u>transproxy</u>

</pre><h4><b>EXAMPLES</b></h4><pre>
       HOW IT WORKS TOGETHER - HUNT/TRANSPROXY/TPSERV

         Here is small example how to use together hunt, transproxy and tpserv.

         1. At the beginning run tpsetup/transproxy program.
            The default destination port is 7000 and redirecting port is 7044.

         2. Run tpserv/tpserv -v (or -vv).

         3. Run hunt and enter arp spoof daemon menu. Do not start the daemon unless
            you modify the tpsetup/transproxy script "i" insert the single arp spoof
            in this order:
                 - IP address (name) of your gateway or IP address (name) of destination
                   host if the host is in the same IP subnet as source host.
                 - as fake mac address enter 'my' or enter your interface MAC address.
                 - enter IP address (name) of source host (client) from which you want
                   to receive data - connections.
                 - optionally enter refresh interval "t" test if the spoof was successful.

         4. from the source host try to run telnet 1.1.1.1 7000 (or telnet
            destination_name 7000) and type some chars. The chars should be echoed back
            by tpserv program.

         You can then play little bit with DST_PORT setting in setup/transproxy script
         and/or -c option of tpserv program or change tpserv to modify data going
         from/to source/destination.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man8/hunt.8.html">hunt</a></b>(8), <b><a href="../man8/tpserv.8.html">tpserv</a></b>(8)

</pre><h4><b>AUTHOR</b></h4><pre>
       <u>transproxy</u> was written by Pavel Krauz &lt;<a href="mailto:kra@gncz.cz">kra@gncz.cz</a>&gt;.

       This  manual  page  was  written  by  Braulio Henrique Marques Souto &lt;<a href="mailto:braulio@disroot.org">braulio@disroot.org</a>&gt; for the Debian
       project (but may be used by others).

transproxy-0.1                                   05 October 2022                                   <u><a href="../man8/transproxy.8.html">transproxy</a></u>(8)
</pre>
 </div>
</div></section>
</div>
</body>
</html>