<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>kexec - directly boot into a new kernel</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/kexec-tools">kexec-tools_2.0.28-0ubuntu3_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       kexec - directly boot into a new kernel

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>/sbin/kexec</b>  <b>[-v</b>  <b>(--version)]</b>  <b>[-f</b>  <b>(--force)]</b>  <b>[-x</b>  <b>(--no-ifdown)]</b>  <b>[-y</b>  <b>(--no-sync)]</b> <b>[-l</b> <b>(--load)]</b> <b>[-p</b>
       <b>(--load-panic)]</b> <b>[-u</b> <b>(--unload)]</b> <b>[-e</b> <b>(--exec)]</b> <b>[-t</b> <b>(--type)]</b> <b>[--mem-min=</b><u>addr</u><b>]</b> <b>[--mem-max=</b><u>addr</u><b>]</b>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>kexec</b> is a system call that enables you to load and boot into another kernel from the  currently  running
       kernel.   <b>kexec</b>  performs  the function of the boot loader from within the kernel. The primary difference
       between a standard system boot and a <b>kexec</b> boot is that the hardware initialization normally performed by
       the BIOS or firmware (depending on architecture) is not performed during  a  <b>kexec</b>  boot.  This  has  the
       effect of reducing the time required for a reboot.

       Make  sure  you have selected <b>CONFIG_KEXEC=y</b> when configuring the kernel. The <b>CONFIG_KEXEC</b> option enables
       the <b>kexec</b> system call.

</pre><h4><b>USAGE</b></h4><pre>
       Using <b>kexec</b> consists of

              (1) loading the kernel to be rebooted to into memory, and
              (2) actually rebooting to the pre-loaded kernel.

       To load a kernel, the syntax is as follows:

              <b>kexec</b> -l <u>kernel-image</u> --append=<u>command-line-options</u> --initrd=<u>initrd-image</u>

       where <u>kernel-image</u> is the kernel file that you intend to reboot to.

       Insert the command-line parameters that must be passed  to  the  new  kernel  into  <u>command-line-options</u>.
       Passing  the  exact  contents of <a href="file:/proc/cmdline">/proc/cmdline</a> into <u>command-line-options</u> is the safest way to ensure that
       correct values are passed to the rebooting kernel.

       The optional <u>initrd-image</u> is the initrd image to be used during boot.

       It's also possible to invoke <b>kexec</b> without an option parameter. In that case, kexec loads  the  specified
       kernel  and  then invokes <b><a href="../man8/shutdown.8.html">shutdown</a></b>(8).  If the shutdown scripts of your Linux distribution support kexec-
       based rebooting, they then call <b>kexec</b> <u>-e</u> just before  actually  rebooting  the  machine.  That  way,  the
       machine does a clean shutdown including all shutdown scripts.

</pre><h4><b>EXAMPLE</b></h4><pre>
       For example, if the kernel image you want to reboot to is <b>/boot/vmlinux</b>, the contents of <a href="file:/proc/cmdline">/proc/cmdline</a> is
       <b>root=/dev/hda1</b>,  and  the path to the initrd is <b>/boot/initrd</b>, then you would use the following command to
       load the kernel:

              <b>kexec</b> -l <b>/boot/vmlinux</b> --append=<b>root=/dev/hda1</b> --initrd=<b>/boot/initrd</b>

       After this kernel is loaded, assuming the user-space supports kexec-based rebooting, it can be booted to,
       with a clean shutdown, using the command:

              <b>reboot</b>

       Alternatively, it can also be booted to, without calling <a href="../man8/shutdown.8.html">shutdown</a>(8), with the command:

              <b>kexec</b> -e

</pre><h4><b>OPTIONS</b></h4><pre>
       <b>-d</b> <b>(--debug)</b>
              Enable debugging messages.

       <b>-S</b> <b>(--status)</b>
              Return 1 if the type (by default crash) is loaded, 0 if not. Can be used in conjuction with -l  or
              -p   to   toggle   the   type.   Note   this   option   supersedes   other  options  and  it  will
              <b>not</b> <b>load</b> <b>or</b> <b>unload</b> <b>the</b> <b>kernel.</b>

       <b>-e</b> <b>(--exec)</b>
              Run the currently loaded kernel. Note that it will reboot into the loaded kernel  without  calling
              <a href="../man8/shutdown.8.html">shutdown</a>(8).

       <b>-f</b> <b>(--force)</b>
              Force an immediate <b>kexec</b> call, do not call <b><a href="../man8/shutdown.8.html">shutdown</a></b>(8) (contrary to the default action without any
              option parameter). This option performs the same actions like executing <u>-l</u> and <u>-e</u> in one call.

       <b>-h</b> <b>(--help)</b>
              Open a help file for <b>kexec</b>.

       <b>--hotplug</b>
              Setup  for kernel modification of the elfcorehdr. This option performs the steps needed to support
              kernel updates to the elfcorehdr in the presence of hot un/plug  and/or  on/offline  events.  This
              option only useful for KEXEC_LOAD syscall.

       <b>-i</b> <b>(--no-checks)</b>
              Fast reboot, no memory integrity checks.

       <b>-l</b> <b>(--load)</b> <u>kernel</u>
              Load the specified <u>kernel</u> into the current kernel.

       <b>-p</b> <b>(--load-panic)</b>
              Load the new kernel for use on panic.

       <b>-t</b> <b>(--type=</b><u>type</u><b>)</b>
              Specify that the new kernel is of this <u>type.</u>

       <b>-s</b> <b>(--kexec-file-syscall)</b>
              Specify that the new KEXEC_FILE_LOAD syscall should be used exclusively.

       <b>-c</b> <b>(--kexec-syscall)</b>
              Specify that the old KEXEC_LOAD syscall should be used exclusively.

       <b>-a</b> <b>(--kexec-syscall-auto)</b>
              Try  the  new  KEXEC_FILE_LOAD  syscall  first and when it is not supported or the kernel does not
              understand the supplied image fall back to the old KEXEC_LOAD interface.

              There is no one single interface that always works, so this is the default.

              KEXEC_FILE_LOAD is required on systems that use locked-down  secure  boot  to  verify  the  kernel
              signature.  KEXEC_LOAD may be also disabled in the kernel configuration.

              KEXEC_LOAD  is  required  for some kernel image formats and on architectures that do not implement
              KEXEC_FILE_LOAD.

       <b>-u</b> <b>(--unload)</b>
              Unload the current <b>kexec</b> target kernel. If a capture kernel is being unloaded then specify -p with
              -u.

       <b>-v</b> <b>(--version)</b>
              Return the version number of the installed utility.

       <b>-x</b> <b>(--no-ifdown)</b>
              Shut down the running kernel, but restore the interface on reload.

       <b>-y</b> <b>(--no-sync)</b>
              Shut down the running kernel, but skip syncing the filesystems.

       <b>--mem-min=</b><u>addr</u>
              Specify the lowest memory address <u>addr</u> to load code into.

       <b>--mem-max=</b><u>addr</u>
              Specify the highest memory address <u>addr</u> to load code into.

       <b>--entry=</b><u>addr</u>
              Specify the jump back address. (0 means it's not jump back or preserve context)

       <b>--load-preserve-context</b>
              Load the new kernel and preserve context of current kernel during kexec.

       <b>--load-jump-back-helper</b>
              Load a helper image to jump back to original kernel.

       <b>--reuseinitrd</b>
              Reuse initrd from first boot.

       <b>--print-ckr-size</b>
              Print crash kernel region size, if available.

</pre><h4><b>SUPPORTED</b> <b>KERNEL</b> <b>FILE</b> <b>TYPES</b> <b>AND</b> <b>OPTIONS</b></h4><pre>
       <b>Beoboot-x86</b>

              <b>--args-elf</b>
                     Pass ELF boot notes.

              <b>--args-linux</b>
                     Pass Linux kernel style options.

              <b>--real-mode</b>
                     Use the kernel's real mode entry point.

       <b>elf-x86</b>

              <b>--append=</b><u>string</u>
                     Append <u>string</u> to the kernel command line.

              <b>--command-line=</b><u>string</u>
                     Set the kernel command line to <u>string</u>.

              <b>--reuse-cmdline</b>
                     Use the command line from the running system. When a panic kernel is loaded, it strips  the
                     <u>crashkernel</u> parameter automatically. The <u>BOOT_IMAGE</u> parameter is also stripped.

              <b>--initrd=</b><u>file</u>
                     Use <u>file</u> as the kernel's initial ramdisk.

              <b>--ramdisk=</b><u>file</u>
                     Use <u>file</u> as the kernel's initial ramdisk.

       <b>bzImage-x86</b>

              <b>--append=</b><u>string</u>
                     Append <u>string</u> to the kernel command line.

              <b>--command-line=</b><u>string</u>
                     Set the kernel command line to <u>string</u>.

              <b>--reuse-cmdline</b>
                     Use  the command line from the running system. When a panic kernel is loaded, it strips the
                     <u>crashkernel</u> parameter automatically. The <u>BOOT_IMAGE</u> parameter is also stripped.

              <b>--initrd=</b><u>file</u>
                     Use <u>file</u> as the kernel's initial ramdisk.

              <b>--ramdisk=</b><u>file</u>
                     Use <u>file</u> as the kernel's initial ramdisk.

              <b>--real-mode</b>
                     Use real-mode entry point.

       <b>multiboot-x86</b>

              <b>--command-line=</b><u>string</u>
                     Set the kernel command line to <u>string</u>.

              <b>--reuse-cmdline</b>
                     Use the command line from the running system. When a panic kernel is loaded, it strips  the
                     <u>crashkernel</u> parameter automatically. The <u>BOOT_IMAGE</u> parameter is also stripped.

              <b>--module=</b><u>mod</u> <u>arg1</u> <u>arg2</u> <u>...</u>
                     Load  module <u>mod</u> with command-line arguments <u>arg1</u> <u>arg2</u> <u>...</u>  This parameter can be specified
                     multiple times.

       <b>multiboot2-x86</b>

              <b>--command-line=</b><u>string</u>
                     Set the kernel command line to <u>string</u>.

              <b>--reuse-cmdline</b>
                     Use the command line from the running system. When a panic kernel is loaded, it strips  the
                     <u>crashkernel</u> parameter automatically. The <u>BOOT_IMAGE</u> parameter is also stripped.

              <b>--module=</b><u>mod</u> <u>arg1</u> <u>arg2</u> <u>...</u>
                     Load  module <u>mod</u> with command-line arguments <u>arg1</u> <u>arg2</u> <u>...</u>  This parameter can be specified
                     multiple times.

       <b>elf-ppc64</b>

              <b>--reuse-cmdline</b>
                     Use the kernel command line from the running system.

              <b>--command-line=</b><u>string</u>
                     Set the kernel command line to <u>string.</u>

              <b>--append=</b><u>string</u>
                     Set the kernel command line to <u>string.</u>

              <b>--ramdisk=</b><u>file</u>
                     Use <u>file</u> as the initial RAM disk.

              <b>--initrd=</b><u>file</u>
                     Use <u>file</u> as the initial RAM disk.

              <b>--devicetreeblob=</b><u>file</u>
                     Specify device tree blob file. Not applicable while using --kexec-file-syscall.

              <b>--dtb=</b><u>file</u>
                     Specify device tree blob file. Not applicable while using --kexec-file-syscall.

</pre><h4><b>ARCHITECTURE</b> <b>OPTIONS</b></h4><pre>
       <b>--console-serial</b>
              Enable the serial console.

       <b>--console-vga</b>
              Enable the VGA console.

       <b>--elf32-core-headers</b>
              Prepare core headers in ELF32 format.

       <b>--elf64-core-headers</b>
              Prepare core headers in ELF64 format.

       <b>--reset-vga</b>
              Attempt to reset a standard VGA device.

       <b>--serial=</b><u>port</u>
              Specify the serial <u>port</u> for debug output.

       <b>--serial-baud=</b><u>baud_rate</u>
              Specify the <u>baud</u> <u>rate</u> of the serial port.

       <b>--dt-no-old-root</b>
              Do not reuse old kernel root=&lt;device&gt; param while creating flatten device tree.

Linux                                              April 2006                                           <u><a href="../man8/kexec.8.html">kexec</a></u>(8)
</pre>
 </div>
</div></section>
</div>
</body>
</html>