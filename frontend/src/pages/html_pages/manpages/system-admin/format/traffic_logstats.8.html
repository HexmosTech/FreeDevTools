<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>traffic_logstats - Traffic Server analyzer</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/trafficserver">trafficserver_9.2.5+ds-1ubuntu2_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       traffic_logstats - Traffic Server analyzer

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>traffic_logstats</b> [options]

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>traffic_logstats</b>  is  a log parsing utility, that is intended to produce metrics for total and per origin
       requests. Currently, this utility only supports parsing and processing the Squid binary log format, or  a
       custom format that is compatible with the initial log fields of the Squid format.

       Output can either be a human readable text file, or a JSON format. Parsing can be done incrementally, and
       <b>traffic_logstats</b>  supports restarting where it left off previously (state is stored in an external file).
       This is useful when collecting metrics periodically into a stats processing system, and also supports the
       case where a log file is rotated.

       The per-URL metrics (<u>-u</u>) requires that you specify a size of the LRU used for keeping the counters.  This
       is to assure that <b>traffic_logstats</b> does not consume an exorbitant amount of memory.

</pre><h4><b>OPTIONS</b></h4><pre>
       <b>-f</b> <b>FILE,</b> <b>--log_file</b> <b>FILE</b>
              Specific logfile to parse

       <b>-o</b> <b>LIST,</b> <b>--origin_list</b> <b>LIST</b>
              Only show stats for listed Origins

       <b>-O</b> <b>FILE,</b> <b>--origin_file</b> <b>FILE</b>
              File listing Origins to show

       <b>-M</b> <b>COUNT,</b> <b>--max_origins</b> <b>COUNT</b>
              Max number of Origins to show

       <b>-u</b> <b>COUNT,</b> <b>--urls</b> <b>COUNT</b>
              Produce JSON stats for URLs, argument is LRU size

       <b>-U</b> <b>COUNT,</b> <b>--show_urls</b> <b>COUNT</b>
              Only show max this number of URLs

       <b>-A,</b> <b>--as_object</b>
              Produce URL stats as a JSON object instead of array

       <b>-C,</b> <b>--concise</b>
              Eliminate metrics that can be inferred from other values

       <b>-i,</b> <b>--incremental</b>
              Incremental log parsing

       <b>-S</b> <b>FILE,</b> <b>--statetag</b> <b>FILE</b>
              Name of the state file to use

       <b>-t,</b> <b>--tail</b>
              Parse the last &lt;sec&gt; seconds of log

       <b>-s,</b> <b>--summary</b>
              Only produce the summary

       <b>-j,</b> <b>--json</b>
              Produce JSON formatted output

       <b>-c,</b> <b>--cgi</b>
              Produce HTTP headers suitable as a CGI

       <b>-m,</b> <b>--min_hits</b>
              Minimum total hits for an Origin

       <b>-a,</b> <b>--max_age</b>
              Max age for log entries to be considered

       <b>-l</b> <b>COUNT,</b> <b>--line_len</b> <b>COUNT</b>
              Output line length

       <b>-T</b> <b>TAGS,</b> <b>--debug_tags</b> <b>TAGS</b>
              Colon-Separated Debug Tags

       <b>-r,</b> <b>--report_per_user</b>
              Report stats per username of the authenticated client <b>caun</b> instead of host, see <u>squid</u> <u>log</u> <u>format</u>

       <b>-n,</b> <b>--no_format_check</b>
              Don't  validate  the  log  format field names according to the <u>squid</u> <u>log</u> <u>format</u>.  This would allow
              squid format fields to be replaced, i.e. the username of the  authenticated  client  <b>caun</b>  with  a
              random  header  value  by  using  <b>cqh</b>,  or to remove the client's host IP address from the log for
              privacy reasons.

       <b>-h,</b> <b>--help</b>
              Print usage information and exit.

       <b>-V,</b> <b>--version</b>
              Print version information and exit.

</pre><h4><b>COPYRIGHT</b></h4><pre>
       2025, <a href="mailto:dev@trafficserver.apache.org">dev@trafficserver.apache.org</a>

9.2                                               May 22, 2025                               <u><a href="../man8/TRAFFIC_LOGSTATS.8.html">TRAFFIC_LOGSTATS</a></u>(8)
</pre>
 </div>
</div></section>
</div>
</body>
</html>