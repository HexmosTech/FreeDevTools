<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>inetd, inetd.conf — internet super-server</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/openbsd-inetd">openbsd-inetd_0.20221205-3build4_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       inetd, inetd.conf — internet super-server

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>inetd</b> [<b>-d</b>] [<b>-E</b>] [<b>-i</b>] [<b>-l</b>] [<b>-q</b> <u>length</u>] [<b>-R</b> <u>rate</u>] [<u>configuration_file</u>]

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>inetd</b>  listens  for  connections  on  certain internet sockets.  When a connection is found on one of its
       sockets, it decides what service the socket corresponds to, and invokes a program to service the request.
       After the program is finished, it continues to listen on the socket (except in some cases which  will  be
       described  below).   Essentially, <b>inetd</b> allows running one daemon to invoke several others, reducing load
       on the system.

       The options are as follows:

       <b>-d</b>      Turns on debugging.

       <b>-E</b>      Prevents <b>inetd</b> from laundering the environment.  Without this option a selection  of  potentially
               harmful environment variables, including <u>PATH</u>, will be removed and not inherited by services.

       <b>-i</b>      Makes the program not daemonize itself.

       <b>-l</b>      Turns  on  libwrap  connection  logging and access control.  Internal services cannot be wrapped.
               When enabled, <u>/usr/sbin/tcpd</u> is silently not executed even  if  present  in  <u>/etc/inetd.conf</u>  and
               instead libwrap is called directly by inetd.

       <b>-q</b> <u>length</u>
               Specify the length of the <u><a href="../man2/listen.2.html">listen</a></u>(2) connections queue; the default is 128.

       <b>-R</b> <u>rate</u>
               Specify  the  maximum number of times a service can be invoked in one minute; the default is 256.
               If a service exceeds this limit, <b>inetd</b> will log the problem and stop servicing requests  for  the
               specific service for ten minutes.  See also the wait/nowait configuration fields below.

       Upon execution, <b>inetd</b> reads its configuration information from a configuration file which, by default, is
       <u>/etc/inetd.conf</u>.   There must be an entry for each field of the configuration file, with entries for each
       field separated by a tab or a space.  Comments are denoted by a “#” at the  beginning  of  a  line.   The
       fields of the configuration file are as follows:

             service name
             socket type
             protocol[,sndbuf=size][,rcvbuf=size]
             wait/nowait[.max]
             user[.group] or user[:group]
             server program
             server program arguments

       To specify a Sun-RPC based service, the entry would contain these fields.

             service name/version
             socket type
             rpc/protocol[,sndbuf=size][,rcvbuf=size]
             wait/nowait[.max]
             user[.group] or user[:group]
             server program
             server program arguments

       For internet services, the first field of the line may also have a host address specifier prefixed to it,
       separated  from  the  service name by a colon.  If this is done, the string before the colon in the first
       field indicates what local address <b>inetd</b> should use when listening  for  that  service.   Multiple  local
       addresses  can  be  specified on the same line, separated by commas.  Numeric IP addresses in dotted-quad
       notation  can  be  used  as  well  as  symbolic  hostnames.   Symbolic  hostnames  are  looked  up  using
       <b>getaddrinfo</b>().   If  a  hostname  has multiple address mappings, inetd creates a socket to listen on each
       address.

       The single character “*” indicates INADDR_ANY, meaning “all local  addresses”.   To  avoid  repeating  an
       address  that  occurs  frequently, a line with a host address specifier and colon, but no further fields,
       causes the host address specifier to be remembered and used for all further lines with no  explicit  host
       specifier (until another such line or the end of the file).  A line
             <b>*:</b>
       is  implicitly provided at the top of the file; thus, traditional configuration files (which have no host
       address specifiers) will be interpreted in the traditional manner, with all services listened for on  all
       local addresses.  If the protocol is “unix”, this value is ignored.

       The  <u>service</u>  <u>name</u>  entry is the name of a valid service in the file <u><a href="file:/etc/services">/etc/services</a></u> or a port number.  For
       “internal” services (discussed below), the service name <u>must</u> be the official name of  the  service  (that
       is,  the  first  entry  in <u><a href="file:/etc/services">/etc/services</a></u>).  When used to specify a Sun-RPC based service, this field is a
       valid RPC service name in the file <u><a href="file:/etc/rpc">/etc/rpc</a></u>.  The part on the right of the “/” is the RPC version number.
       This can simply be a single numeric argument or a range of versions.  A  range  is  bounded  by  the  low
       version  to  the high version - “rusers/1-3”.  For Unix-domain sockets this field specifies the path name
       of the socket.

       The <u>socket</u> <u>type</u> should be one of “stream” or “dgram”, depending on whether the  socket  is  a  stream  or
       datagram socket.

       The  <u>protocol</u>  must be a valid protocol as given in <u><a href="file:/etc/protocols">/etc/protocols</a></u> <u>or</u> “unix”.  Examples might be “tcp” or
       “udp”.  RPC based services are specified with the “rpc/tcp” or “rpc/udp” service type.  “tcp”  and  “udp”
       will  be  recognized  as  “TCP  or  UDP  over  both  IPv4  and IPv6.” If you need to specify IPv4 or IPv6
       explicitly, use something like “tcp4” or “udp6”.  A <u>protocol</u> of “unix” is used to specify a socket in the
       Unix-domain.

       In addition to the protocol, the configuration file may specify the send and receive socket buffer  sizes
       for  the  listening socket.  This is especially useful for TCP as the window scale factor, which is based
       on the receive socket buffer size, is advertised when the connection handshake occurs,  thus  the  socket
       buffer  size  for  the  server  must be set on the listen socket.  By increasing the socket buffer sizes,
       better TCP performance may be realized in some situations.  The socket  buffer  sizes  are  specified  by
       appending their values to the protocol specification as follows:

             tcp,rcvbuf=16384
             tcp,sndbuf=64k
             tcp,rcvbuf=64k,sndbuf=1m

       A  literal  value  may  be  specified,  or  modified  using  ‘k’ to indicate kilobytes or ‘m’ to indicate
       megabytes.

       The <u>wait/nowait</u> entry is used to tell <b>inetd</b> if it should wait  for  the  server  program  to  return,  or
       continue  processing  connections  on the socket.  If a datagram server connects to its peer, freeing the
       socket so <b>inetd</b> can receive further messages on the socket, it is said to be a  “multi-threaded”  server,
       and should use the “nowait” entry.  For datagram servers which process all incoming datagrams on a socket
       and  eventually  time  out,  the  server  is  said to be “single-threaded” and should use a “wait” entry.
       <u><a href="../man8/comsat.8.html">comsat</a></u>(8) (<u><a href="../man1/biff.1.html">biff</a></u>(1)) and <u><a href="../man8/talkd.8.html">talkd</a></u>(8) are both examples of the latter type of datagram server.   The  optional
       “max” suffix (separated from “wait” or “nowait” by a dot) specifies the maximum number of times a service
       can  be  invoked  in one minute; the default is 256.  If a service exceeds this limit, <b>inetd</b> will log the
       problem and stop servicing requests for the specific service for ten minutes.  See  also  the  <b>-R</b>  option
       above.

       Stream  servers  are  usually  marked  as  “nowait”  but if a single server process is to handle multiple
       connections, it may be marked as “wait”.  The master socket will then be passed as fd 0  to  the  server,
       which  will  then need to accept the incoming connection.  The server should eventually time out and exit
       when no more connections are active.  <b>inetd</b> will continue to listen on the master socket for connections,
       so the server should not close it when it exits.

       The <u>user</u> entry should contain the user name of the user as whom the server should run.  This  allows  for
       servers  to  be  given less permission than root.  An optional group name can be specified by appending a
       dot to the user name followed by the group name.  This  allows  for  servers  to  run  with  a  different
       (primary)  group  ID  than specified in the password file.  If a group is specified and user is not root,
       the supplementary groups associated with that user will still be set.

       The <u>server</u> <u>program</u> entry should contain the pathname of the program which is to be executed by <b>inetd</b> when
       a request is found on its socket.  If <b>inetd</b> provides  this  service  internally,  this  entry  should  be
       “internal”.

       The  <u>server</u>  <u>program</u>  <u>arguments</u> should be just as arguments normally are, starting with argv[0], which is
       the name of the program.  If the service is provided internally, the  word  “internal”  should  take  the
       place of this entry.

       <b>inetd</b>  provides  several  “trivial” services internally by use of routines within itself.  These services
       are “echo”, “discard”, “chargen” (character generator),  “daytime”  (human  readable  time),  and  “time”
       (machine  readable  time,  in the form of the number of seconds since midnight, January 1, 1900).  All of
       these services are TCP based.  For details of these  services,  consult  the  appropriate  RFC  from  the
       Network Information Center.

       <b>inetd</b>  rereads  its  configuration file when it receives a hangup signal, SIGHUP.  Services may be added,
       deleted or modified when the configuration file is reread.

   <b>libwrap</b>
       Support  for  TCP  wrappers  is  included  with  <b>inetd</b>  to  provide  built-in  tcpd-like  access  control
       functionality.   An  external  tcpd program is not needed.  You do not need to change the <u>/etc/inetd.conf</u>
       server-program entry to enable this capability.  <b>inetd</b>  uses  <u><a href="file:/etc/hosts.allow">/etc/hosts.allow</a></u>  and  <u><a href="file:/etc/hosts.deny">/etc/hosts.deny</a></u>  for
       access control facility configurations, as described in <u><a href="../man5/hosts_access.5.html">hosts_access</a></u>(5).

   <b>IPv6</b> <b>TCP/UDP</b> <b>behavior</b>
       The  default  is  to  run  two  servers:  one  for  IPv4 and one for IPv6 traffic.  If you have different
       requirements then you may specify one or two separate lines in <u>inetd.conf</u>, for “tcp4” and “tcp6”.

       Under various combinations of IPv4/v6 daemon settings, <b>inetd</b> will behave as follows:
       <b>•</b>   If you have only one server on “tcp4”, IPv4 traffic will be routed to the server.  IPv6 traffic  will
           not be accepted.
       <b>•</b>   If  you  have  two servers on “tcp4” and “tcp6”, IPv4 traffic will be routed to the server on “tcp4”,
           and IPv6 traffic will go to the server on “tcp6”, which is identical to the  default  behaviour  when
           only “tcp” is specified.
       <b>•</b>   If you have only one server on “tcp6”, only IPv6 traffic will be routed to the server.

           The  special  “tcp46”  parameter  can  be  used  for  obsolete  servers which require to receive IPv4
           connections mapped in an IPv6 socket. Its usage is discouraged.

</pre><h4><b>FILES</b></h4><pre>
       <u>/etc/inetd.conf</u>

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <u><a href="../man8/fingerd.8.html">fingerd</a></u>(8), <u><a href="../man8/ftpd.8.html">ftpd</a></u>(8), <u><a href="../man8/identd.8.html">identd</a></u>(8), <u><a href="../man8/talkd.8.html">talkd</a></u>(8)

</pre><h4><b>HISTORY</b></h4><pre>
       The <b>inetd</b> command appeared in 4.3BSD.  Support for Sun-RPC based services is modelled after that provided
       by SunOS 4.1.  IPv6 support was added by the KAME project in 1999.

       Marco d'Itri ported this code from OpenBSD in summer 2002 and added socket  buffers  tuning  and  libwrap
       support from the NetBSD source tree.

</pre><h4><b>BUGS</b></h4><pre>
       On  Linux  systems,  the  daemon  cannot reload its configuration and needs to be restarted when the host
       address for a service is changed between “*” and a specific address.

       Server programs used with “dgram” “udp” “nowait” must read from the network socket, or <b>inetd</b>  will  spawn
       processes until the maximum is reached.

       Host  address  specifiers,  while  they  make  conceptual  sense  for  RPC services, do not work entirely
       correctly.  This is largely because the portmapper interface does not provide a way to register different
       ports for the same service on different local addresses.  Provided you never have more than one entry for
       a given RPC service, everything should work correctly.  (Note that default  host  address  specifiers  do
       apply to RPC lines with no explicit specifier.)

Debian                                          February 10, 2020                                       <u><a href="../man8/INETD.8.html">INETD</a></u>(8)
</pre>
 </div>
</div></section>
</div>
</body>
</html>