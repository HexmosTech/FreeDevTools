<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>iked — Internet Key Exchange version 2 (IKEv2) daemon</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/openiked">openiked_7.4-1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       iked — Internet Key Exchange version 2 (IKEv2) daemon

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>iked</b> [<b>-dnSTtVv</b>] [<b>-D</b> <u>macro</u>=<u>value</u>] [<b>-f</b> <u>file</u>] [<b>-p</b> <u>udpencap_port</u>] [<b>-s</b> <u>socket</u>]

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>iked</b>  is  an  Internet  Key  Exchange  (IKEv2)  daemon  which  performs  mutual  authentication and which
       establishes and maintains IPsec flows and security associations (SAs) between the two peers.

       The IKEv2 protocol  is  defined  in  RFC  7296,  which  combines  and  updates  the  previous  standards:
       ISAKMP/Oakley  (RFC 2408), IKE (RFC 2409), and the Internet DOI (RFC 2407).  <b>iked</b> only supports the IKEv2
       protocol; support for ISAKMP/Oakley and IKEv1 is provided by <u><a href="../man8/isakmpd.8.html">isakmpd</a></u>(8).

       <b>iked</b> supports mutual authentication using RSA or ECDSA public  keys  and  X.509  certificates.   See  the
       “PUBLIC  KEY  AUTHENTICATION”  section  below and PKI AND CERTIFICATE AUTHORITY COMMANDS in <u><a href="../man8/ikectl.8.html">ikectl</a></u>(8) for
       more information about creating and maintaining the public key infrastructure.

       The options are as follows:

       <b>-D</b> <u>macro</u>=<u>value</u>
               Define <u>macro</u> to be set to <u>value</u> on the command line.  Overrides the definition of  <u>macro</u>  in  the
               configuration file.

       <b>-d</b>      Do not daemonize and log to <u>stderr</u>.

       <b>-f</b> <u>file</u>
               Use <u>file</u> as the configuration file, instead of the default <u>/etc/iked.conf</u>.

       <b>-n</b>      Configtest mode.  Only check the configuration file for validity.

       <b>-p</b> <u>udpencap_port</u>
               Specify  the  listen  port  for  encapsulated UDP that the daemon will bind to as well as the UDP
               encapsulation port set in resulting IPsec SAs.   In  order  to  receive  UDP  encapsulated  IPsec
               packets on ports other than 4500, the <u>net.inet.esp.udpencap_port</u> <u><a href="../man2/sysctl.2.html">sysctl</a></u>(2) variable has to be set
               accordingly.  Implies -t.

       <b>-S</b>      Start <b>iked</b> in passive mode.  See the <b>set</b> <b>passive</b> option in <u><a href="../man5/iked.conf.5.html">iked.conf</a></u>(5) for more information.

       <b>-s</b> <u>socket</u>
               Use <u>socket</u> as the control socket, instead of the default <u>/var/run/iked.sock</u>.

       <b>-T</b>      Disable NAT-Traversal and do not propose NAT-Traversal support to the peers.

       <b>-t</b>      Enforce NAT-Traversal and only listen to NAT-Traversal messages.  This option is only recommended
               for testing; the default is to negotiate NAT-Traversal with the peers.

       <b>-V</b>      Show the version and exit.

       <b>-v</b>      Produce more verbose output.

</pre><h4><b>PUBLIC</b> <b>KEY</b> <b>AUTHENTICATION</b></h4><pre>
       It  is  possible to store trusted public keys to make them directly usable by <b>iked</b>, bypassing the need to
       use certificates.  The keys should be saved in PEM format  (see  <u><a href="../man1/openssl.1.html">openssl</a></u>(1))  and  named  and  stored  as
       follows:

          For IPv4 identities:    /etc/iked/pubkeys/ipv4/A.B.C.D
          For IPv6 identities:    /etc/iked/pubkeys/ipv6/abcd:abcd::ab:bc
          For FQDN identities:    /etc/iked/pubkeys/fqdn/foo.bar.org
          For UFQDN identities:   /etc/iked/pubkeys/ufqdn/<a href="mailto:user@foo.bar.org">user@foo.bar.org</a>

       Depending  on  the  <b>srcid</b>  and  <b>dstid</b>  specifications in <u><a href="../man5/iked.conf.5.html">iked.conf</a></u>(5), keys may be named after their IPv4
       address, IPv6 address, fully qualified domain name (FQDN) or user fully qualified domain name (UFQDN).

       For example, <b>iked</b> can authenticate using the pre-generated keys if  the  local  public  key,  by  default
       <u>/etc/iked/local.pub</u>,  is  copied to the remote gateway as <u>/etc/iked/pubkeys/ipv4/local.gateway.ip.address</u>
       and    the    remote    gateway's    public    key    is    copied    to    the    local    gateway    as
       <u>/etc/iked/pubkeys/ipv4/remote.gateway.ip.address</u>.  Of course, new keys may also be generated (the user is
       not  required to use the pre-generated keys).  In this example, <b>srcid</b> and <b>dstid</b> would also have to be set
       to the specified addresses in <u><a href="../man5/iked.conf.5.html">iked.conf</a></u>(5).

</pre><h4><b>FILES</b></h4><pre>
       <u>/etc/iked.conf</u>         The default <b>iked</b> configuration file.
       <u>/etc/iked/ca/</u>          The directory where CA certificates are kept.
       <u>/etc/iked/certs/</u>       The directory where IKE certificates are kept, both the local  certificate(s)  and
                              those of the peers, if a choice to have them kept permanently has been made.
       <u>/etc/iked/crls/</u>        The directory where CRLs are kept.
       <u>/etc/iked/private/</u>     The  directory  where  local  private  keys used for public key authentication are
                              kept.  The file <u>local.key</u> is used to store the local private key.
       <u>/etc/iked/pubkeys/</u>     The directory in which trusted public keys are kept.  The keys must  be  named  in
                              the fashion described above.
       <u>/var/run/iked.sock</u>     The default <b>iked</b> control socket.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <u><a href="../man5/iked.conf.5.html">iked.conf</a></u>(5), <u><a href="../man8/ikectl.8.html">ikectl</a></u>(8), <u><a href="../man8/isakmpd.8.html">isakmpd</a></u>(8)

</pre><h4><b>STANDARDS</b></h4><pre>
       C.  Kaufman,  P.  Hoffman,  Y.  Nir,  P. Eronen, and T. Kivinen, <u>Internet</u> <u>Key</u> <u>Exchange</u> <u>Protocol</u> <u>Version</u> <u>2</u>
       <u>(IKEv2)</u>, RFC 7296, October 2014.

</pre><h4><b>HISTORY</b></h4><pre>
       The <b>iked</b> program first appeared in OpenBSD 4.8.

</pre><h4><b>AUTHORS</b></h4><pre>
       The <b>iked</b> program was written by Reyk Floeter &lt;<u><a href="mailto:reyk@openbsd.org">reyk@openbsd.org</a></u>&gt;.

Debian                                          November 29, 2021                                        <u><a href="../man8/IKED.8.html">IKED</a></u>(8)
</pre>
 </div>
</div></section>
</div>
</body>
</html>