<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>sg_requests - send one or more SCSI REQUEST SENSE commands</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/sg3-utils">sg3-utils_1.48-2ubuntu1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       sg_requests - send one or more SCSI REQUEST SENSE commands

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>sg_requests</b>  [<u>--desc</u>]  [<u>--error</u>]  [<u>--help</u>] [<u>--hex</u>] [<u>--maxlen=LEN</u>] [<u>--num=NUM</u>] [<u>--number=NUM</u>] [<u>--progress</u>]
       [<u>--raw</u>] [<u>--status</u>] [<u>--time</u>] [<u>--timeout=SE</u>] [<u>--verbose</u>] [<u>--version</u>] <u>DEVICE</u>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       Send SCSI REQUEST SENSE command to <u>DEVICE</u> and output the parameter data response which is expected to  be
       in sense data format. Both fixed and descriptor sense data formats are supported.

       Multiple  REQUEST  SENSE  commands  can  be  sent  with the <u>--num=NUM</u> option. This can be used for timing
       purposes or monitoring the progress indication.

</pre><h4><b>OPTIONS</b></h4><pre>
       Arguments to long options are mandatory for short options as well.

       <b>-d</b>, <b>--desc</b>
              sets the DESC bit in the REQUEST SENSE SCSI cdb. The <u>DEVICE</u> should return sense data in descriptor
              (rather than fixed) format. This will only occur if the <u>DEVICE</u> recognizes descriptor format (SPC-3
              and later). If the device is pre SPC-3 then setting a bit in a reserved field may  cause  a  check
              condition status with an illegal request sense key, but will most likely be ignored.

       <b>-e</b>, <b>--error</b>
              when  used  once  it changes the REQUEST SENSE opcode from 0x3 to 0xff which should be rejected by
              the <u>DEVICE</u>. There is a small chance that the device  vendor  has  implemented  a  vendor  specific
              command  at that opcode (0xff).  When used twice the pass-through call to send the SCSI command is
              bypassed.  The idea here is to measure the user space overhead of this package's library to set up
              and process the response of a SCSI command. This option will be typically used with the  <u>--num=NUM</u>
              and <u>--time</u> options where <u>NUM</u> is a large number (e.g. 1000000).

       <b>-h</b>, <b>--help</b>
              output the usage message then exit.

       <b>-H</b>, <b>--hex</b>
              output response in ASCII hexadecimal.

       <b>-m</b>, <b>--maxlen</b>=<u>LEN</u>
              where <u>LEN</u> is the (maximum) response length in bytes. It is placed in the cdb's "allocation length"
              field.  If not given (or <u>LEN</u> is zero) then 252 is used. The maximum value of <u>LEN</u> is 255 (but SPC-4
              recommends 252).

       <b>-n</b>, <b>--num</b>=<u>NUM</u>
              perform <u>NUM</u> SCSI REQUEST SENSE commands, stopping when either <u>NUM</u> is reached or an  error  occurs.
              The default value for <u>NUM</u> is 1 .

       <b>--number</b>=<u>NUM</u>
              same action as <u>--num=NUM</u>. Added for compatibility with sg_turs.

       <b>-p</b>, <b>--progress</b>
              show progress indication (a percentage) if available. If <u>--num=NUM</u> is given, <u>NUM</u> is greater than 1
              and  an  initial  progress  indication  was  detected  then  this  utility waits 30 seconds before
              subsequent checks.  Exits when <u>NUM</u> is reached or there are no more progress indications.   Ignores
              <u>--hex</u>, <u>--raw</u> and <u>--time</u> options. See NOTES section below.

       <b>-r</b>, <b>--raw</b>
              output response in binary (to stdout).

       <b>-s</b>, <b>--status</b>
              if  the  REQUEST  SENSE  command finished without error (as indicated by its SCSI status) then the
              contents of the parameter data are analysed as sense data and the exit status is set  accordingly.
              The default action (i.e. when this option is not given) is to ignore the contents of the parameter
              data  for  the  purposes  of  setting the exit status.  Some types of error set a sense key of "NO
              SENSE" with non-zero information in  the  additional  sense  code  (e.g.  the  FAILURE  PREDICTION
              THRESHOLD  EXCEEDED  group of codes); this results in an exit status value of 10. If the sense key
              is "NO SENSE" and both asc and ascq are zero  then  the  exit  status  is  set  to  0  .  See  the
              <a href="../man8/sg3_utils.8.html">sg3_utils</a>(8) man page for exit status values.

       <b>-t</b>, <b>--time</b>
              time the SCSI REQUEST SENSE command(s) and calculate the average number of operations per second.

       <b>-T</b>, <b>--timeout</b>=<u>SE</u>
              where <u>SE</u> is the command timeout of each TEST UNIT READY command. The unit for <u>SE</u> is seconds and if
              0  is  given,  it  is  mapped to 60 seconds which is the default. An alternate long option form is
              <u>--tmo=SE</u>.

       <b>-v</b>, <b>--verbose</b>
              increase the level of verbosity, (i.e. debug output).  Additionally the response (if received)  is
              output in ASCII-HEX. Use this option multiple times for greater verbosity.

       <b>-V</b>, <b>--version</b>
              print the version string and then exit.

</pre><h4><b>NOTES</b></h4><pre>
       In  SCSI  1  and 2 the REQUEST SENSE command was very important for error and warning processing in SCSI.
       The autosense capability rendered this command almost superfluous.

       However recent SCSI drafts (e.g. SPC-4 rev 14 and SBC-3 rev 14) increase the utility of the REQUEST SENSE
       command. Idle and standby (low) power conditions can be detected with this command.

       The REQUEST SENSE command is not marked as mandatory in SPC-3 (i.e. for all SCSI devices) but  is  marked
       as  mandatory  in  SBC-2  (i.e.  for  disks), SSC-3 (i.e. for tapes) and MMC-4 (i.e. for CD/DVD/HD-DVD/BD
       drives).

       The progress indication is optionally part of the sense data. When a prior command that takes a long time
       to complete (and typically precludes other  media  access  commands)  is  still  underway,  the  progress
       indication can be used to determine how long before the device returns to its normal state.

       The  SCSI FORMAT command for disks used with the IMMED bit set is an example of an operation that takes a
       significant amount of time and precludes other media access during that time. The IMMED bit set instructs
       the FORMAT command to return control to the application client once the format has commenced (see SBC-3).
       Several long duration SCSI commands associated with tape drives also use  the  progress  indication  (see
       SSC-3).

       Early  standards  suggested  that  the  SCSI  TEST  UNIT  READY  command be used for polling the progress
       indication (see the sg_turs utility). Since SPC-3 the standards  suggest  that  the  SCSI  REQUEST  SENSE
       command should be used instead.

       The <u>DEVICE</u> is opened with a read-only flag (e.g. in Unix with the O_RDONLY flag).

</pre><h4><b>EXIT</b> <b>STATUS</b></h4><pre>
       The exit status of sg_requests is 0 when it is successful. Otherwise see the <a href="../man8/sg3_utils.8.html">sg3_utils</a>(8) man page.

</pre><h4><b>AUTHORS</b></h4><pre>
       Written by Douglas Gilbert.

</pre><h4><b>REPORTING</b> <b>BUGS</b></h4><pre>
       Report bugs to &lt;dgilbert at interlog dot com&gt;.

</pre><h4><b>COPYRIGHT</b></h4><pre>
       Copyright Â© 2004-2023 Douglas Gilbert
       This  software  is  distributed  under  a  BSD-2-Clause  license.  There  is  NO  warranty;  not even for
       MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b>sg_turs</b> <b>(sg3_utils)</b>

sg3_utils-1.48                                      May 2023                                      <u><a href="../man8/SG_REQUESTS.8.html">SG_REQUESTS</a></u>(8)
</pre>
 </div>
</div></section>
</div>
</body>
</html>