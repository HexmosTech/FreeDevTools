<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>upscmd - Network UPS Tools device/driver instant commands administration tool</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/nut-client">nut-client_2.8.3-2_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       upscmd - Network UPS Tools device/driver instant commands administration tool

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>upscmd</b> -h

       <b>upscmd</b> -l <u>ups</u>

       <b>upscmd</b> [-u <u>username</u>] [-p <u>password</u>] [-w] [-t &lt;timeout&gt;] <u>ups</u> <u>command</u>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>upscmd</b> allows you to invoke "instant commands" in your UPS hardware. It sends commands via the server
       <b><a href="../man8/upsd.8.html">upsd</a></b>(8) to your driver, which manages the hardware for you. You must use credentials defined in
       <b><a href="../man5/upsd.users.5.html">upsd.users</a></b>(5) file on that data server with appropriate permissions.

       Not all hardware supports this, so check the list with -l to see if anything will work on your equipment.

       On hardware that supports it, you can use this program to start and stop battery tests, invoke a front
       panel test (beep!), turn the load on or off, and more.

</pre><h4><b>OPTIONS</b></h4><pre>
       <b>-l</b> <u>ups</u>
           Show the list of supported instant commands on that UPS. Some hardware may not support any of them.

       <b>-u</b> <u>username</u>
           Set the username for the connection to the server. This is optional, and you will be prompted for
           this when invoking a command if -u is not used.

       <b>-p</b> <u>password</u>
           Set the password to authenticate to the server. This is also optional like -u, and you will be
           prompted for it if necessary.

       <b>-w</b>
           Wait for the completion of command execution by the driver and return its actual result from the
           device. Note that this feature requires that both <b><a href="../man8/upsd.8.html">upsd</a></b>(8) and the driver support TRACKING (NUT
           version 2.8.0 or higher), or it will otherwise fail.

           The command will also block until an actual result is provided from the driver, or the timeout is
           reached (see <b>-t</b>).

       <b>-t</b> <u>seconds</u>
           Set a timeout when using <b>-w</b>. Defaults to 10 seconds.

       <u>ups</u>
           Connect to this UPS. The format is upsname[@hostname[:port]]. The default hostname is "localhost".

</pre><h4><b>COMMON</b> <b>OPTIONS</b></h4><pre>
       <b>-h</b>
           Show the command-line help message.

       <b>-V</b>
           Show NUT version banner. More details may be available if you also export NUT_DEBUG_LEVEL=1 or
           greater verbosity level.

       <b>-W</b> <u>secs</u>
           Set the timeout for initial network connections (by default they are indefinitely non-blocking, or
           until the system interrupts the attempt). Overrides the optional NUT_DEFAULT_CONNECT_TIMEOUT
           environment variable.

</pre><h4><b>UNATTENDED</b> <b>MODE</b></h4><pre>
       If you run this program inside a shell script or similar to invoke a command, you will need to specify
       all of the information on the command line. This means using -u and -p. Otherwise it will put up a prompt
       and your program will hang.

       This is not necessary when displaying the list, as the username and password are not required for
       read-only mode.

       Moreover, if you run this program inside a shell script or similar, you should only consider using output
       from stdout, not stderr.

</pre><h4><b>DANGEROUS</b> <b>COMMANDS</b></h4><pre>
       Some drivers like <b><a href="../man8/apcsmart.8.html">apcsmart</a></b>(8) have built-in paranoia for the dangerous commands like load.off. To make
       them actually turn off the load, you will have to send the command twice within a short window. That is,
       you will have to send it once, then send it again after 3 seconds elapse but before 15 seconds pass.

       This paranoia is entirely defined within the driver. upsd and upscmd have no control over the timing.

</pre><h4><b>DIAGNOSTICS</b></h4><pre>
       <b>upscmd</b> won’t work unless you provide a valid username and password. If you get "access denied" errors,
       make sure that your <b><a href="../man5/upsd.users.5.html">upsd.users</a></b>(5) has an entry for you, and that the username you are using has
       permissions to SET variables.

       <b>upscmd</b> without <u>-w</u> would somewhat confusingly show "OK" meaning just that the data server connection was
       established, and the server did not immediately reject the request due to e.g. unknown instant command
       name. If you care to know the actual results, do use the -w (-t NUM) option(s) to wait for them.

</pre><h4><b>BUGS</b></h4><pre>
       There is currently no way to tell the user when the driver requires confirmation to invoke a command such
       as load.off.

       This is on the list of things to fix in the future, so don’t despair. It involves magic cookies.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man8/upsd.8.html">upsd</a></b>(8), <b><a href="../man8/upsrw.8.html">upsrw</a></b>(8)

   <b>Internet</b> <b>resources:</b>
       The NUT (Network UPS Tools) home page: https://www.networkupstools.org/historic/v2.8.3/

Network UPS Tools 2.8.3                            07/08/2025                                          <u><a href="../man8/UPSCMD.8.html">UPSCMD</a></u>(8)
</pre>
 </div>
</div></section>
</div>
</body>
</html>