<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>sg_turs - send one or more SCSI TEST UNIT READY commands</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/sg3-utils">sg3-utils_1.48-2ubuntu1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       sg_turs - send one or more SCSI TEST UNIT READY commands

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>sg_turs</b> [<u>--ascq=ASC[,ASQ]</u>] [<u>--delay=MS</u>] [<u>--help</u>] [<u>--low</u>] [<u>--num=NUM</u>] [<u>--number=NUM</u>] [<u>--progress</u>] [<u>--time</u>]
       [<u>--timeout=SE</u>] [<u>--verbose</u>] [<u>--version</u>] <u>DEVICE</u>

       <b>sg_turs</b> [<u>-d=MS</u>] [<u>-n=NUM</u>] [<u>-p</u>]  [<u>-t</u>] [<u>-v</u>] [<u>-V</u>] <u>DEVICE</u>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       This utility sends one or more SCSI TEST UNIT READY commands to the <u>DEVICE</u>. This may be useful for timing
       the  per command overhead.  Note that TEST UNIT READY has no associated data, just a 6 byte command (with
       each byte a zero) and a returned SCSI status value.

       This utility supports two command line syntaxes, the preferred one is shown first  in  the  synopsis  and
       explained  in  this  section. A later section on the old command line syntax outlines the second group of
       options.

</pre><h4><b>OPTIONS</b></h4><pre>
       Arguments to long options are mandatory for short options as well.

       <b>-a</b>, <b>--ascq</b>=<u>ASC[,ASQ]</u>
              checks the sense data associated with a sense key of NOT READY. If there is a match on <u>ASC</u> and, if
              given, with <u>ASQ</u> then this utility sets its exit status to 36.  That  is  an  alternate  good  code
              because an exit status of 0 would imply the unit is ready.

       The  reason  this  option  was  added  is  USB  card  readers  (e.g. SD card readers) that often yield an
       additional sense code of 0x3a,0x0 for "no medium present" when there is no SD card in the  reader.  There
       are  variations  of  additional  sense code 0x3a so it is best not to give the <u>ASQ</u> value so any ascq code
       will match.

       <b>-d</b>, <b>--delay</b>=<u>MS</u>
              this option causes a delay of <u>MS</u> milliseconds to occur before each  TEST  UNIT  READY  command  is
              issued.

       <b>-h</b>, <b>--help</b>
              print out the usage message then exit.

       <b>-l</b>, <b>--low</b>
              when  [<u>--progress</u>]  is  not  being  used,  this utility tries to complete the SCSI TEST UNIT READY
              command(s) as  quickly  as  possible.  Usually  it  calls  a  library  function  to  do  each  TUR
              (sg_ll_test_unit_ready). With this option it uses the lower level sg_pt interface (see sg_pt.h) to
              save a little time on each TUR.

       <b>-n</b>, <b>--num</b>=<u>NUM</u>
              performs  TEST  UNIT  READY  <u>NUM</u>  times. If not given defaults to 1.  These suffix multipliers are
              permitted: c C *1; w W *2; b B *512; k K KiB *1,024; KB *1,000; m M MiB *1,048,576; MB *1,000,000;
              g G GiB *1,073,741,824; and GB *1,000,000,000 . Also a suffix of the form  "x&lt;n&gt;"  multiplies  the
              leading  number  by &lt;n&gt;. Alternatively a hex number may be given, prefixed by either '0x' or has a
              trailing 'h'.

       <b>--number</b>=<u>NUM</u>
              same as <u>--num=NUM</u>. Added for compatibility with sg_requests and other utilities in  this  package.
              The  sg_request  utility  has  taken  over  the  role of polling the progress indication which was
              originally assigned to the TEST UNIT READY command. This is a change by T10.

       <b>-O</b>, <b>--old</b>
              Switch to older style options. Please use as first option.

       <b>-p</b>, <b>--progress</b>
              show progress indication (a percentage) if available. If <u>--num=NUM</u> is given, <u>NUM</u> is greater than 1
              and an initial progress indication  was  detected  then  this  utility  waits  30  seconds  before
              subsequent  checks.   If  the  <u>--delay=MS</u>  option  is  given  then it will wait for that number of
              milliseconds instead of 30 seconds.  Exits when <u>NUM</u> is reached  or  there  are  no  more  progress
              indications.  Ignores <u>--time</u> option. See NOTES section below.

       <b>-t</b>, <b>--time</b>
              after  completing the requested number of TEST UNIT READY commands, outputs the total duration and
              the average number of commands executed per second.

       <b>-T</b>, <b>--timeout</b>=<u>SE</u>
              where <u>SE</u> is the command timeout of each TEST UNIT READY command. The unit for <u>SE</u> is seconds and if
              0 is given, it is mapped to 60 seconds which is the default. An  alternate  long  option  form  is
              <u>--tmo=SE</u>.

       <b>-v</b>, <b>--verbose</b>
              increase level or verbosity.

       <b>-V</b>, <b>--version</b>
              print version string then exit.

</pre><h4><b>NOTES</b></h4><pre>
       The progress indication is optionally part of the sense data. When a prior command that takes a long time
       to  complete  (and  typically  precludes  other  media  access  commands) is still underway, the progress
       indication can be used to determine how long before the device returns to its normal state. Around  SPC-3
       T10  changed  the  preferred  command for polling the progress indication from TEST UNIT READY to REQUEST
       SENSE (see the sg_requests utility).

       The SCSI FORMAT command for disks used with the IMMED bit set is an example of an operation that takes  a
       significant amount of time and precludes other media access during that time. The IMMED bit set instructs
       the FORMAT command to return control to the application client once the format has commenced (see SBC-3).
       Several  long  duration  SCSI  commands associated with tape drives also use the progress indication (see
       SSC-3).

       The <u>DEVICE</u> is opened with a read-only flag (e.g. in Unix with the O_RDONLY flag).

       Early standards suggested that the SCSI TEST  UNIT  READY  command  be  used  for  polling  the  progress
       indication. More recent standards seem to suggest the SCSI REQUEST SENSE command should be used instead.

</pre><h4><b>EXIT</b> <b>STATUS</b></h4><pre>
       The  exit status of sg_turs is 0 when it is successful (e.g. in the case of a mechanical disk, it is spun
       up and ready to accept IO commands). For this utility the other exit status values of interest are 2, 12,
       13 and 36. 12 is for the case when the sense key is "not ready" [0x2] and the additional sense code  ends
       with  "Target  port  in  standby  state" [0x4, 0xb]. 13 is for the case when the sense key is "not ready"
       [0x2] and the additional sense code is "Target port in unavailable state" [0x4, 0xc]. The exit status  of
       36  is  associated  with <u>--ascq=ASC[,ASQ]</u> option. All other cases when the sense key is "not ready" [0x2]
       will set the exit status to 2.  For other exit status values see the <a href="../man8/sg3_utils.8.html">sg3_utils</a>(8) man page.

</pre><h4><b>OLDER</b> <b>COMMAND</b> <b>LINE</b> <b>OPTIONS</b></h4><pre>
       The options in this section were the only ones available prior to sg3_utils version  1.23  .  Since  then
       this utility defaults to the newer command line options which can be overridden by using <u>--old</u> (or <u>-O</u>) as
       the  first  option. See the ENVIRONMENT VARIABLES section for another way to force the use of these older
       command line options.

       <b>-d</b>, <b>--delay</b>=<u>MS</u>
              this option causes a delay of <u>MS</u> milliseconds to occur before each  TEST  UNIT  READY  command  is
              issued.

       <b>-n</b>=<u>NUM</u> performs  TEST  UNIT  READY <u>NUM</u> times. If not given defaults to 1.  Equivalent to <u>--num=NUM</u> in the
              main description.

       <b>-N</b>, <b>--new</b>
              Switch to the newer style options.

       <b>-p</b>     show progress indication (a percentage) if  available.   Equivalent  to  <u>--progress</u>  in  the  main
              description.

       <b>-t</b>     after  completing the requested number of TEST UNIT READY commands, outputs the total duration and
              the average number of commands executed per second.  Equivalent to <u>--time</u> in the main description.

       <b>-v</b>     increase level of verbosity.

       <b>-V</b>     print out version string then exit.

</pre><h4><b>ENVIRONMENT</b> <b>VARIABLES</b></h4><pre>
       Since sg3_utils version 1.23 the environment variable SG3_UTILS_OLD_OPTS can be given. When it is present
       this utility will expect the older command line options. So the presence of this environment variable  is
       equivalent to using <u>--old</u> (or <u>-O</u>) as the first command line option.

</pre><h4><b>AUTHORS</b></h4><pre>
       Written by D. Gilbert

</pre><h4><b>COPYRIGHT</b></h4><pre>
       Copyright Â© 2000-2023 Douglas Gilbert
       This  software is distributed under the GPL version 2. There is NO warranty; not even for MERCHANTABILITY
       or FITNESS FOR A PARTICULAR PURPOSE.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b>sg_inq,</b> <b>sg_requests</b> <b>(sg3_utils)</b>

sg3_utils-1.48                                      May 2023                                          <u><a href="../man8/SG_TURS.8.html">SG_TURS</a></u>(8)
</pre>
 </div>
</div></section>
</div>
</body>
</html>