<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>samba_selinux - Security Enhanced Linux Policy for Samba</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/selinux-policy-doc">selinux-policy-doc_2.20250213-10_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       samba_selinux - Security Enhanced Linux Policy for Samba

</pre><h4><b>DESCRIPTION</b></h4><pre>
       Security-Enhanced Linux secures the Samba server via flexible mandatory access control.

</pre><h4><b>FILE_CONTEXTS</b></h4><pre>
       SELinux  requires files to have an extended attribute to define the file type.  Policy governs the access
       daemons have to these files.  If you want to share files other than home directories, those files must be
       labeled samba_share_t.  So if you created a special directory /var/eng,  you  would  need  to  label  the
       directory with the chcon tool.

       chcon -t samba_share_t /var/eng

       To make this change permanent (survive a relabel), use the semanage command to add the change to file
       context configuration:

       semanage fcontext -a -t samba_share_t "/var/eng(<a href="file:/.">/.</a>*)?"

       This command adds the following entry to /etc/selinux/POLICYTYPE/contexts/files/file_contexts.local:

       /var/eng(<a href="file:/.">/.</a>*)? system_u:object_r:samba_share_t:s0

       Run the restorecon command to apply the changes:

       restorecon -R -v /var/eng/

</pre><h4><b>SHARING</b> <b>FILES</b></h4><pre>
       If  you want to share files with multiple domains (Apache, FTP, rsync, Samba), you can set a file context
       of public_content_t and public_content_rw_t.  These context allow any of the above domains  to  read  the
       content.   If  you  want a particular domain to write to the public_content_rw_t domain, you must set the
       appropriate boolean.  allow_DOMAIN_anon_write.  So for samba you would execute:

       setsebool -P allow_smbd_anon_write=1

</pre><h4><b>BOOLEANS</b></h4><pre>
       SELinux policy is customizable based on least access required.  So by default SELinux  policy  turns  off
       SELinux  sharing  of  home  directories  and  the  use  of  Samba  shares from a remote machine as a home
       directory.

       If you are setting up this machine as a Samba server and wish to share the home directories, you need to
       set the samba_enable_home_dirs boolean.

              setsebool -P samba_enable_home_dirs 1

       If you want to use a remote Samba server for the home directories on this machine, you must set the
       use_samba_home_dirs boolean.

              setsebool -P use_samba_home_dirs 1

       system-config-selinux is a GUI tool available to customize SELinux policy settings.

</pre><h4><b>AUTHOR</b></h4><pre>
       This manual page was written by Dan Walsh &lt;<a href="mailto:dwalsh@redhat.com">dwalsh@redhat.com</a>&gt;.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <a href="../man8/selinux.8.html">selinux</a>(8), <a href="../man7/samba.7.html">samba</a>(7), <a href="../man1/chcon.1.html">chcon</a>(1), <a href="../man8/setsebool.8.html">setsebool</a>(8), <a href="../man8/semanage.8.html">semanage</a>(8)

<a href="mailto:dwalsh@redhat.com">dwalsh@redhat.com</a>                                  17 Jan 2005                                  <u><a href="../man8/samba_selinux.8.html">samba_selinux</a></u>(8)
</pre>
 </div>
</div></section>
</div>
</body>
</html>