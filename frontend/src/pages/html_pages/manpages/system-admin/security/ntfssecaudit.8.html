<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ntfssecaudit - NTFS Security Data Auditing</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/ntfs-3g">ntfs-3g_2022.10.3-5_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       ntfssecaudit - NTFS Security Data Auditing

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>ntfssecaudit</b> <b>[</b><u>options</u><b>]</b> <u>args</u>

       Where <u>options</u> is a combination of :
              -a full auditing of security data (Linux only)
              -b backup ACLs
              -e setting extra backed-up parameters (in conjunction with -s)
              -h displaying hexadecimal security descriptors saved in a file
              -r recursing in a directory
              -s setting backed-up ACLs
              -u getting a user mapping proposal
              -v verbose (very verbose if set twice)

       and args define the parameters and the set of files acted upon.

       Typing secaudit with no args will display a summary of available options.

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>ntfssecaudit</b>  displays the ownership and permissions of a set of files on an NTFS file system, and checks
       their consistency. It can be started in terminal mode only (no graphical user interface is available.)

       When a <u>volume</u> is required, it has to be unmounted, and the command has to be issued as <b>root</b>.  The  <u>volume</u>
       can be either a block device (i.e. a disk partition) or an image file.

       When  acting  on  a  directory  or  volume, the command may produce a lot of information. It is therefore
       advisable to redirect the output to a file or pipe it to a text editor for examination.

</pre><h4><b>OPTIONS</b></h4><pre>
       Below are the valid combinations of options and arguments that <b>ntfssecaudit</b> accepts.  All  the  indicated
       arguments are mandatory and must be unique (if wildcards are used, they must resolve to a single name.)

       <b>-h</b> <u>file</u>
              Displays in an human readable form the hexadecimal security descriptors saved in <u>file</u>. This can be
              used to turn a verbose output into a very verbose output.

       <b>-a[rv]</b> <u>volume</u>
              Audits  the  volume : all the global security data on <u>volume</u> are scanned and errors are displayed.
              If option <b>-r</b> is present, all files and directories are also scanned and their relations to  global
              security data are checked. This can produce a lot of data.

              This  option  is  not  effective  on  volumes formatted for old NTFS versions (pre NTFS 3.0). Such
              volumes have no global security data.

              When errors are signalled, it is advisable to repair the volume with an appropriate tool (such  as
              <b>chkdsk</b> on Windows.)

       <b>[-v]</b> <u>volume</u> <u>file</u>
              Displays  the  security  parameters  of <u>file</u> : its interpreted Linux mode (rwx flags in octal) and
              Posix ACL[1], its security key if any, and its security descriptor if verbose output.

       <b>-r[v]</b> <u>volume</u> <u>directory</u>
              displays the security parameters of all files and subdirectories in <u>directory</u> : their  interpreted
              Linux  mode  (rwx  flags in octal) and Posix ACL[1], their security key if any, and their security
              descriptor if verbose output.

       <b>-b[v]</b> <u>volume</u> <u>[directory]</u>
              Recursively extracts to standard output the NTFS ACLs of files in <u>volume</u> and <u>directory</u>.

       <b>-s[ev]</b> <u>volume</u> <u>[backup-file]</u>
              Sets the NTFS ACLS as indicated in <u>backup-file</u> or standard input. The input data  must  have  been
              created on Linux. With option <b>-e</b>, also sets extra parameters (currently Windows attrib).

       <u>volume</u> <u>perms</u> <u>file</u>
              Sets  the  security  parameters  of  file  to perms. Perms is the Linux requested mode (rwx flags,
              expressed in octal form as in chmod) or a Posix ACL[1] (expressed like in setfacl -m). This sets a
              new ACL which is effective for Linux and Windows.

       <b>-r[v]</b> <u>volume</u> <u>perms</u> <u>directory</u>
              Sets the security parameters of all files and subdirectories in <u>directory</u> to <u>perms</u>. Perms  is  the
              Linux  requested  mode  (rwx  flags,  expressed  in  octal  form  as  in <b>chmod</b>), or a Posix ACL[1]
              (expressed like in <b>setfacl</b> <b>-m</b>.) This sets new ACLs which are effective for Linux and Windows.

       <b>[-v]</b> <u>mounted-file</u>
              Displays the security parameters of <u>mounted-file</u> : its interpreted Linux mode (rwx flags in octal)
              and Posix ACL[1], its security key if any, and its security descriptor if verbose output. This  is
              a  special  case  which acts on a mounted file (or directory) and does not require being root. The
              Posix ACL interpretation can only be displayed if the full path to <u>mounted-file</u> from the  root  of
              the global file tree is provided.

       <b>-u[v]</b> <u>mounted-file</u>
              Displays  a  proposed  contents  for a user mapping file, based on the ownership parameters set by
              Windows on <u>mounted-file</u>, assuming this file was created on Windows  by  the  user  who  should  be
              mapped  to  the  current  Linux  user.  The  displayed  information  has  to be copied to the file
              <b>.NTFS-3G/UserMapping</b> where <b>.NTFS-3G</b> is a hidden subdirectory of the  root  of  the  partition  for
              which  the  mapping  is  to  be  defined.  This  will cause the ownership of files created on that
              partition to be the same as the original <u>mounted-file</u>.

</pre><h4><b>NOTE</b></h4><pre>
       [1] provided the POSIX ACL option was selected at compile time. A  Posix  ACL  specification  looks  like
       "<b>[d:]{ugmo}:[id]:[perms],...</b>"  where  id is a numeric user or group id, and perms an octal digit or a set
       from the letters r, w and x.
              Example : "<b>u::7,g::5,o:0,u:510:rwx,g:500:5,d:u:510:7</b>"

</pre><h4><b>EXAMPLES</b></h4><pre>
       Audit the global security data on /dev/sda1

              <b>ntfssecaudit</b> <b>-ar</b> <b>/dev/sda1</b>

       Display the ownership and permissions parameters for files in directory /audio/music on device /dev/sda5,
       excluding sub-directories :

              <b>ntfssecaudit</b> <b>/dev/sda5</b> <b>/audio/music</b>

       Set all files in directory /audio/music on device /dev/sda5 as  writeable  by  owner  and  read-only  for
       everybody :

              <b>ntfssecaudit</b> <b>-r</b> <b>/dev/sda5</b> <b>644</b> <b>/audio/music</b>

</pre><h4><b>EXIT</b> <b>CODES</b></h4><pre>
       <b>ntfssecaudit</b>  exits with a value of 0 when no error was detected, and with a value of 1 when an error was
       detected.

</pre><h4><b>KNOWN</b> <b>ISSUES</b></h4><pre>
       Please see

              https://github.com/tuxera/ntfs-3g/wiki/NTFS-3G-FAQ/

       for common questions and known issues.  If you would find a new one in the latest release of the software
       then please send an email describing  it  in  detail.  You  can  contact  the  development  team  on  the
       <a href="mailto:ntfs-3g-devel@lists.sf.net">ntfs-3g-devel@lists.sf.net</a> address.

</pre><h4><b>AUTHORS</b></h4><pre>
       <b>ntfssecaudit</b> has been developed by Jean-Pierre Andr√©.

</pre><h4><b>THANKS</b></h4><pre>
       Several people made heroic efforts, often over five or more years which resulted the ntfs-3g driver. Most
       importantly  they  are  Anton  Altaparmakov,  Richard  Russon, Szabolcs Szakacsits, Yura Pakhuchiy, Yuval
       Fledel, and the author of the groundbreaking FUSE filesystem development framework, Miklos Szeredi.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man8/ntfsprogs.8.html">ntfsprogs</a></b>(8), <b><a href="../man5/attr.5.html">attr</a></b>(5), <b><a href="../man1/getfattr.1.html">getfattr</a></b>(1)

ntfssecaudit 1.5.0                                February 2010                                  <u><a href="../man8/NTFSSECAUDIT.8.html">NTFSSECAUDIT</a></u>(8)
</pre>
 </div>
</div></section>
</div>
</body>
</html>