<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>mtr-packet - send and receive network probes</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/mtr">mtr_0.95-1.1ubuntu1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       mtr-packet - send and receive network probes

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>mtr-packet</b>  is  a  tool for sending network probes to measure network connectivity and performance.  Many
       network probes can be sent simultaneously by a single  process  instance  of  <b>mtr-packet</b>  and  additional
       probes  can  be generated by an instance of <b>mtr-packet</b> which already has network probes in flight.  It is
       intended to be used by programs which invoke it with Unix pipes attached to its standard input and output
       streams.

       <b>mtr-packet</b> reads command requests from <u>stdin</u>, each separated by a newline character,  and  responds  with
       command  replies  to  <u>stdout</u>,  also  each  separated  by a newline character.  The syntactic structure of
       requests and replies are the same.  The following format is used:

              <u>TOKEN</u> <u>COMMAND</u> [<u>ARGUMENT-NAME</u> <u>ARGUMENT-VALUE</u> ...]

       <u>TOKEN</u> is a unique integer value.  The same value will be used as the <u>TOKEN</u> for  the  response.   This  is
       necessary  for  associating replies with requests, as commands may be completed in a different order than
       they are requested.  The invoker of <b>mtr-packet</b> should always use  the  <u>TOKEN</u>  value  to  determine  which
       command request has completed.

       <u>COMMAND</u>  is  a  string  identifying the command request type.  A common command is <b>send-probe</b>, which will
       transmit one network probe.

       <u>ARGUMENT-NAME</u> strings and <u>ARGUMENT-VALUE</u> strings always come in  pairs.   It  is  a  syntactic  error  to
       provide  an  <u>ARGUMENT-NAME</u> without a corresponding <u>ARGUMENT-VALUE</u>.  Valid <u>ARGUMENT-NAME</u> strings depend on
       the <u>COMMAND</u> being used.

</pre><h4><b>REQUESTS</b></h4><pre>
       <b>send-probe</b>
              Send a network probe to a particular IP  address.   Either  an  <b>ip-4</b>  or  <b>ip-6</b>  argument  must  be
              provided.  A valid <b>send-probe</b> command will reply with <b>reply</b>, <b>no-reply</b>, or <b>ttl-expired</b>.

              The following arguments may be used:

              <b>ip-4</b> <u>IP-ADDRESS</u>

                     The Internet Protocol version 4 address to probe.

              <b>ip-6</b> <u>IP-ADDRESS</u>

                     The Internet Protocol version 6 address to probe.

              <b>protocol</b> <u>PROTOCOL</u>

                     The  protocol  to  use  for  the network probe.  <b>icmp</b>, <b>sctp</b>, <b>tcp</b>, and <b>udp</b> may be used.  The
                     default protocol is <b>icmp.</b>

              <b>port</b> <u>PORT-NUMBER</u>

                     The destination port to use for <b>sctp</b>, <b>tcp</b>, or <b>udp</b> probes.

              <b>local-ip-4</b> <u>IP-ADDRESS</u>

                     The local Internet Protocol version 4 address to use when sending probes.

              <b>local-ip-6</b> <u>IP-ADDRESS</u>

                     The local Internet Protocol version 6 address to use when sending probes.

              <b>local-port</b> <u>PORT-NUMBER</u>

                     For <b>udp</b> probes, the local port number from which to send probes.

              <b>timeout</b> <u>TIMEOUT-SECONDS</u>

                     The number of seconds to wait for a response to the probe before discarding  the  probe  as
                     lost, and generating a <b>no-reply</b> command reply.

              <b>ttl</b> <u>TIME-TO-LIVE</u>

                     The  time-to-live  value  for  the Internet Protocol packet header used in constructing the
                     probe.  This value determines the number of network  hops  through  which  the  probe  will
                     travel before a response is generated by an intermediate network host.

              <b>size</b> <u>PACKET-SIZE</u>

                     The  size  of  the packet used to send the probe, in bytes, including the Internet Protocol
                     header and transport protocol header.

              <b>bit-pattern</b> <u>PATTERN-VALUE</u>

                     The packet payload is filled with bytes of the value specified.  Valid pattern  values  are
                     in the range 0 through 255.

              <b>tos</b> <u>TYPE-OF-SERVICE</u>

                     In the case of IPv4, the "type of service" field in the IP header is set to this value.  In
                     the case of IPv6, the "traffic class" field is set.

              <b>mark</b> <u>ROUTING-MARK</u>

                     The packet mark value to be used by mark-based routing.  (Available only on Linux.)

       <b>check-support</b>
              Check  for  support  for a particular feature in this version of <b>mtr-packet</b> and in this particular
              operating environment.  <b>check-support</b> will reply with <b>feature-supported</b>.  A  <b>feature</b>  argument  is
              required.

              <b>feature</b> <u>FEATURE-NAME</u>

                     The name of a feature requested.

              Some  features  which  can  be checked are <b>send-probe</b>, <b>ip-4</b>, <b>ip-6</b>, <b>icmp</b>, <b>sctp</b>, <b>tcp</b>, <b>udp</b>, and <b>mark</b>.
              The feature <b>version</b> can be checked to retrieve the version of <b>mtr-packet</b>.

</pre><h4><b>REPLIES</b></h4><pre>
       <b>reply</b>  The destination host received the <b>send-probe</b> probe and replied.  Arguments of <b>reply</b> are:

              <b>ip-4</b> <u>IP-ADDRESS</u>

                     The Internet Protocol version 4 address of the host which replied to the probe.

              <b>ip-6</b> <u>IP-ADDRESS</u>

                     The Internet Protocol version 6 address of the host which replied to the probe.

              <b>round-trip-time</b> <u>TIME</u>

                     The time which passed between the transmission of the probe and its response.  The time  is
                     provided as a integral number of microseconds elapsed.

       <b>no-reply</b>
              No response to the probe request was received before the timeout expired.

       <b>ttl-expired</b>
              The  time-to-live  value of the transmitted probe expired before the probe arrived at its intended
              destination.  Arguments of <b>ttl-expired</b> are:

              <b>ip-4</b> <u>IP-ADDRESS</u>

                     The Internet Protocol version 4 address  of  the  host  at  which  the  time-to-live  value
                     expired.

              <b>ip-6</b> <u>IP-ADDRESS</u>

                     The  Internet  Protocol  version  6  address  of  the  host at which the time-to-live value
                     expired.

              <b>round-trip-time</b> <u>TIME</u>

                     The time which passed between the transmission of the probe and its response.  The time  is
                     provided as a integral number of microseconds elapsed.

              <b>mpls</b> <u>MPLS-LABEL-LIST</u>

                     A  list  of  Multiprotocol Label Switching values returned with the probe response.  If the
                     <b>mpls</b> argument is present, one or more MPLS labels will be represented by a comma  separated
                     list  of  values.  The values are provided in groups of four.  The first four values in the
                     list correspond to the first MPLS label, the next four values correspond to the second MPLS
                     label, and so on.  The values are provided in this order: <u>label</u>, <u>traffic-class</u>,  <u>bottom-of-</u>
                     <u>stack</u>, <u>ttl</u>.

       <b>no-route</b>
              There was no route to the host used in a <b>send-probe</b> request.

       <b>network-down</b>
              A probe could not be sent because the network is down.

       <b>probes-exhausted</b>
              A probe could not be sent because there are already too many unresolved probes in flight.

       <b>permission-denied</b>
              The operating system denied permission to send the probe with the specified options.

       <b>invalid-argument</b>
              The command request contained arguments which are invalid.

       <b>feature-support</b>
              A  reply  to  provided  to <b>check-support</b> indicating the availability of a particular feature.  The
              argument provided is:

              <b>support</b> <u>PRESENT</u>

                     In most cases, the <u>PRESENT</u> value will be either <b>ok</b>, indicating the feature is supported, or
                     <b>no</b>, indicating no support for the feature.

                     In the case that <b>version</b> is the  requested  <u>FEATURE-NAME</u>,  the  version  of  <b>mtr-packet</b>  is
                     provided as the <u>PRESENT</u> value.

</pre><h4><b>EXAMPLES</b></h4><pre>
       A controlling program may start <b>mtr-packet</b> as a child process and issue the following command on <u>stdin</u>:

              42 send-probe ip-4 127.0.0.1

       This  will  send  a  network  probe to the loopback interface.  When the probe completes, <b>mtr-packet</b> will
       provide a response on <u>stdout</u> such as the following:

              42 reply ip-4 127.0.0.1 round-trip-time 126

       This indicates that the loopback address replied to the probe, and the round-trip time of the  probe  was
       126 microseconds.

       In  order  to  trace  the route to a remote host, multiple <b>send-probe</b> commands, each with a different <b>ttl</b>
       value, are used.

              11 send-probe ip-4 8.8.8.8 ttl 1
              12 send-probe ip-4 8.8.8.8 ttl 2
              13 send-probe ip-4 8.8.8.8 ttl 3
              ...

       Each intermediate host would respond with a <b>ttl-expired</b> message, and the destination host  would  respond
       with a <b>reply</b>:

              11 ttl-expired ip-4 192.168.254.254 round-trip-time 1634
              12 ttl-expired ip-4 184.19.243.240 round-trip-time 7609
              13 ttl-expired ip-4 172.76.20.169 round-trip-time 8643
              14 ttl-expired ip-4 74.40.1.101 round-trip-time 9755
              15 ttl-expired ip-4 74.40.5.126 round-trip-time 10695
              17 ttl-expired ip-4 108.170.245.97 round-trip-time 14077
              16 ttl-expired ip-4 74.40.26.131 round-trip-time 15253
              18 ttl-expired ip-4 209.85.245.101 round-trip-time 17080
              19 reply ip-4 8.8.8.8 round-trip-time 17039

       Note  that the replies in this example are printed out of order.  (The reply to probe 17 arrives prior to
       the reply to probe 16.)  This is the reason that it is important  to  send  commands  with  unique  token
       values, and to use those token values to match replies with their originating commands.

</pre><h4><b>LANGUAGE</b> <b>BINDINGS</b></h4><pre>
       A Python 3.x package for sending asynchronous network probes using mtr-packet is available.  See https://
       pypi.org/project/mtrpacket/

</pre><h4><b>CONTACT</b> <b>INFORMATION</b></h4><pre>
       For the latest version, see the mtr web page at <a href="http://www.bitwizard.nl/mtr/">http://www.bitwizard.nl/mtr/</a>

       For  patches,  bug  reports,  or feature requests, please open an issue on GitHub at: https://github.com/
       traviscross/mtr.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man8/mtr.8.html">mtr</a></b>(8), <b><a href="../man7/icmp.7.html">icmp</a></b>(7), <b><a href="../man7/tcp.7.html">tcp</a></b>(7), <b><a href="../man7/udp.7.html">udp</a></b>(7), TCP/IP Illustrated (Stevens, ISBN 0201633469).

mtr-packet                                            0.95                                         <u><a href="../man8/MTR-PACKET.8.html">MTR-PACKET</a></u>(8)
</pre>
 </div>
</div></section>
</div>
</body>
</html>