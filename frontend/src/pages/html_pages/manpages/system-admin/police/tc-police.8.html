<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>police - policing action</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/iproute2">iproute2_6.14.0-1ubuntu3_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       police - policing action

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>tc</b>  ...  <b>action</b>  <b>police</b>  <b>[</b>  <b>rate</b>  <u>RATE</u>  <b>burst</b>  <u>BYTES</u>[<b>/</b><u>BYTES</u>] ] [ <b>pkts_rate</b> <u>RATE</u> <b>pkts_burst</b> <u>PACKETS</u>] [ <b>mtu</b>
               <u>BYTES</u>[<b>/</b><u>BYTES</u>] ] [ <b>peakrate</b> <u>RATE</u> ] [ <b>overhead</b> <u>BYTES</u> ] [ <b>linklayer</b> <u>TYPE</u> ] [ <u>CONTROL</u> ]

       <b>tc</b> ... <b>filter</b> ... [ <b>estimator</b> <u>SAMPLE</u> <u>AVERAGE</u> ] <b>action</b> <b>police</b> <b>avrate</b> <u>RATE</u> [ <u>CONTROL</u> ]

       <u>CONTROL</u> := <b>conform-exceed</b> <u>EXCEEDACT</u>[<b>/</b><u>NOTEXCEEDACT</u>

       <u>EXCEEDACT/NOTEXCEEDACT</u> := { <b>pipe</b> | <b>ok</b> | <b>reclassify</b> | <b>drop</b> | <b>continue</b> | <b>goto</b> <b>chain</b> <b>CHAIN_INDEX</b> }

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The <b>police</b> action allows limiting of the byte or packet rate of traffic  matched  by  the  filter  it  is
       attached to.

       There  are  two  different  algorithms available to measure the byte rate: The first one uses an internal
       dual token bucket and is configured  using  the  <b>rate</b>,  <b>burst</b>,  <b>mtu</b>,  <b>peakrate</b>,  <b>overhead</b>  and  <b>linklayer</b>
       parameters. The second one uses an in-kernel sampling mechanism. It can be fine-tuned using the <b>estimator</b>
       filter parameter.

       There  is  one  algorithm  available  to  measure  packet  rate  and it is similar to the first algorithm
       described for byte rate. It is configured using the <b>pkt_rate</b> and <b>pkt_burst</b> parameters.

       At least one of the <b>rate</b> and <b>pkt_rate</b> parameters must be configured.

</pre><h4><b>OPTIONS</b></h4><pre>
       <b>rate</b> <u>RATE</u>
              The maximum byte rate of packets passing this action.  Those  exceeding  it  will  be  treated  as
              defined by the <b>conform-exceed</b> option.

       <b>burst</b> <u>BYTES</u>[<b>/</b><u>BYTES</u>]
              Set  the  maximum  allowed burst in bytes, optionally followed by a slash ('/') sign and cell size
              which must be a power of 2.

       <b>pkt_rate</b> <u>RATE</u>
              The maximum packet rate or packets passing this action. Those exceeding  it  will  be  treated  as
              defined by the <b>conform-exceed</b> option.

       <b>pkt_burst</b> <u>PACKETS</u>
              Set the maximum allowed burst in packets.

       <b>mtu</b> <u>BYTES</u>[<b>/</b><u>BYTES</u>]
              This  is  the  maximum  packet  size handled by the policer (larger ones will be handled like they
              exceeded the  configured  rate).  Setting  this  value  correctly  will  improve  the  scheduler's
              precision.  Value formatting is identical to <b>burst</b> above. Defaults to unlimited.

       <b>peakrate</b> <u>RATE</u>
              Set the maximum bucket depletion rate, exceeding <b>rate</b>.

       <b>avrate</b> <u>RATE</u>
              Make use of an in-kernel bandwidth rate estimator and match the given <u>RATE</u> against it.

       <b>overhead</b> <u>BYTES</u>
              Account for protocol overhead of encapsulating output devices when computing <b>rate</b> and <b>peakrate</b>.

       <b>linklayer</b> <u>TYPE</u>
              Specify  the  link  layer type.  <u>TYPE</u> may be one of <b>ethernet</b> (the default), <b>atm</b> or <b>adsl</b> (which are
              synonyms). It is used to align the precomputed rate tables to ATM  cell  sizes,  for  <b>ethernet</b>  no
              action is taken.

       <b>estimator</b> <u>SAMPLE</u> <u>AVERAGE</u>
              Fine-tune the in-kernel packet rate estimator.  <u>SAMPLE</u> and <u>AVERAGE</u> are time values and control the
              frequency in which samples are taken and over what timespan an average is built.

       <b>conform-exceed</b> <u>EXCEEDACT</u>[<b>/</b><u>NOTEXCEEDACT</u>]
              Define  how  to  handle  packets  which exceed or conform the configured bandwidth limit. Possible
              values are:

              continue
                     Don't do anything, just continue with the next action in line.

              drop   Drop the packet immediately.

              shot   This is a synonym to <b>drop</b>.

              ok     Accept the packet. This is the default for conforming packets.

              pass   This is a synonym to <b>ok</b>.

              reclassify
                     Treat the packet as non-matching to the filter this action is attached to and continue with
                     the next filter in line (if any). This is the default for exceeding packets.

              pipe   Pass the packet to the next action in line.

</pre><h4><b>EXAMPLES</b></h4><pre>
       A typical application of the police action is to enforce  ingress  traffic  rate  by  dropping  exceeding
       packets.  Although  better  done  on the sender's side, especially in scenarios with lack of peer control
       (e.g. with dial-up providers) this is often the best one can do in order to keep latencies low under high
       load. The following establishes input bandwidth policing to 1mbit/s  using  the  <b>ingress</b>  qdisc  and  <b>u32</b>
       filter:

              # tc qdisc add dev eth0 handle ffff: ingress
              # tc filter add dev eth0 parent ffff: u32 \
                   match u32 0 0 \
                   police rate 1mbit burst 100k

       As an action can not live on it's own, there always has to be a filter involved as link between qdisc and
       action. The example above uses <b>u32</b> for that, which is configured to effectively match any packet (passing
       it to the <b>police</b> action thereby).

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man8/tc.8.html">tc</a></b>(8)

iproute2                                           20 Jan 2015                          <u>Policing</u> <u>action</u> <u>in</u> <u><a href="../man8/tc.8.html">tc</a></u>(8)
</pre>
 </div>
</div></section>
</div>
</body>
</html>