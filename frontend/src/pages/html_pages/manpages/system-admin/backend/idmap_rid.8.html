<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>idmap_rid - Samba's idmap_rid Backend for Winbind</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/winbind">winbind_4.22.3+dfsg-4ubuntu1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       idmap_rid - Samba's idmap_rid Backend for Winbind

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The idmap_rid backend provides a way to use an algorithmic mapping scheme to map UIDs/GIDs and SIDs. No
       database is required in this case as the mapping is deterministic.

       Currently, there should to be an explicit idmap configuration for each domain that should use the
       idmap_rid backend, using disjoint ranges.

       NOTE: The idmap_rid backend can NOT be used as the default backend. One usually needs to define a
       writeable default idmap range, using a backend like <u>tdb</u> or <u>ldap</u> that can create unix ids, in order to be
       able to map the BUILTIN sids and other domains, and also in order to be able to create group mappings.
       See the example below.

</pre><h4><b>IDMAP</b> <b>OPTIONS</b></h4><pre>
       range = low - high
           Defines the available matching uid and gid range for which the backend is authoritative. Note that
           the range acts as a filter. If algorithmically determined UID or GID fall outside the range, they are
           ignored and the corresponding map is discarded. It is intended as a way to avoid accidental UID/GID
           overlaps between local and remotely defined IDs.

       base_rid = INTEGER
           Defines the base integer used to build SIDs out of a UID or a GID, and to rebase the UID or GID to be
           obtained from a SID. This means SIDs with a RID less than the base rid are filtered. The default is
           not to restrict the allowed rids at all, i.e. a base_rid value of 0.

           Use of this parameter is deprecated.

</pre><h4><b>THE</b> <b>MAPPING</b> <b>FORMULAS</b></h4><pre>
       The Unix ID for a RID is calculated this way:

                          ID = RID - BASE_RID + LOW_RANGE_ID.

       Correspondingly, the formula for calculating the RID for a given Unix ID is this:

                          RID = ID + BASE_RID - LOW_RANGE_ID.

</pre><h4><b>EXAMPLES</b></h4><pre>
       This example shows how to configure two domains with idmap_rid, the principal domain and a trusted
       domain, leaving the default id mapping scheme at tdb. The example also demonstrates the use of the
       base_rid parameter for the trusted domain.

                [global]
                security = domain
                workgroup = MAIN

                idmap config * : backend        = tdb
                idmap config * : range          = 1000000-1999999

                idmap config MAIN : backend     = rid
                idmap config MAIN : range       = 10000 - 49999

                idmap config TRUSTED : backend  = rid
                idmap config TRUSTED : range    = 50000 - 99999
                idmap config TRUSTED : base_rid = 500000

</pre><h4><b>AUTHOR</b></h4><pre>
       The original Samba software and related utilities were created by Andrew Tridgell. Samba is now developed
       by the Samba Team as an Open Source project similar to the way the Linux kernel is developed.

Samba 4.22.3-Ubuntu-4.22.3+dfs                     07/21/2025                                       <u><a href="../man8/IDMAP_RID.8.html">IDMAP_RID</a></u>(8)
</pre>
 </div>
</div></section>
</div>
</body>
</html>