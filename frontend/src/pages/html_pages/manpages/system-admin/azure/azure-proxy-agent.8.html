<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>azure-proxy-agent - Secure Azure Instance Metadata Service (IMDS) endpoints on guest VMs</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/azure-proxy-agent">azure-proxy-agent_1.0.30-0ubuntu2_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       azure-proxy-agent - Secure Azure Instance Metadata Service (IMDS) endpoints on guest VMs

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>azure-proxy-agent</b> <b>[</b> <b>-c</b> <b>|</b> <b>--config</b> <b>file</b> <b>]</b> <b>[</b> <b>-h</b> <b>|</b> <b>--help</b> <b>]</b>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The  <b>azure-proxy-agent</b>  enhances  the  security  of  the Azure Instance Metadata Service (IMDS) and Azure
       Wireserver endpoints (e.g., <u>169.254.169.254</u>  and  <u>168.63.129.16</u>)  on  Azure  IaaS  virtual  machines.  It
       introduces  strong  authentication and authorization measures to mitigate common attacks such as confused
       deputy (e.g., SSRF) and sandbox escapes targeting metadata services.

       The agent intercepts HTTP requests to these endpoints  using  eBPF,  enabling  verification  of  in-guest
       process  identities.  By  shifting  from a default-open to a default-closed access model, the guest proxy
       agent ensures  that  only  authorized  processes  (as  defined  by  a  trusted  delegate  established  at
       provisioning)  can access sensitive metadata. All requests must include an HMAC-based signature generated
       with  a  long-lived  secret  negotiated  during  setup,  reinforcing  a  secure,   point-to-point   trust
       relationship.

</pre><h4><b>OPTIONS</b></h4><pre>
       <b>-c,</b> <b>--config</b> <b>file</b>
              Specify  an  alternate  configuration  file.  By  default,  the  agent  reads  its  settings  from
              <u>/etc/azure/proxy-agent.json</u>.

       <b>-h,</b> <b>--help</b>
              Display a brief help message and exit.

</pre><h4><b>AUTHOR</b></h4><pre>
       Microsoft Azure

</pre><h4><b>COPYRIGHT</b></h4><pre>
       Â© Microsoft Corporation. Licensed under the MIT License.

Microsoft Azure                                   January 2025                              <u>AZURE</u> <u>PROXY</u> <u><a href="../man8/AGENT.8.html">AGENT</a></u>(8)
</pre>
 </div>
</div></section>
</div>
</body>
</html>