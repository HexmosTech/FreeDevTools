<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>pam_setquota - PAM module to set or modify disk quotas on session start</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libpam-runtime">libpam-runtime_1.7.0-5ubuntu1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       pam_setquota - PAM module to set or modify disk quotas on session start

</pre><h4><b>SYNOPSIS</b></h4><pre>

       <b>pam_setquota.so</b> [fs=<u><a href="file:/home">/home</a></u>] [overwrite=<u>0</u>] [debug=<u>0</u>] [startuid=<u>1000</u>] [enduid=<u>0</u>] [bsoftlimit=<u>19000</u>]
                       [bhardlimit=<u>20000</u>] [isoftlimit=<u>3000</u>] [ihardlimit=<u>4000</u>]

</pre><h4><b>DESCRIPTION</b></h4><pre>
       pam_setquota is a PAM module to set or modify a disk quota at session start

       This makes quotas usable with central user databases, such as MySQL or LDAP.

</pre><h4><b>OPTIONS</b></h4><pre>
       fs=<a href="file:/home">/home</a>
           The device file or mountpoint the policy applies to. Defaults to the filesystem containing the users
           home directory.

       overwrite=0
           Overwrite an existing quota. Note: Enabling this will remove the ability for the admin to manually
           configure different quotas for users for a filesystem with <b><a href="../man8/edquota.8.html">edquota</a></b>(8). (Defaults to 0)

       debug=0
           Enable debugging. A value of 1 outputs the old and new quota on a device. A value of 2 also prints
           out the matched and found filesystems should <b>fs</b> be unset. (Defaults to 0)

       startuid=1000
           Describe the start of the UID range the policy is applied to. (Defaults to UID_MIN from login.defs or
           the uidmin value defined at compile-time if UID_MIN is undefined.)

       enduid=0
           Describe the end of the UID range the policy is applied to. Setting <u>enduid=0</u> results in an open-ended
           UID range (i.e. all uids greater than <b>startuid</b> are included). (Defaults to 0)

       bsoftlimit=19000
           Soft limit for disk quota blocks, as defined by <b><a href="../man2/quotactl.2.html">quotactl</a></b>(2). Note: <b>bsoftlimit</b> and <b>bhardlimit</b> <u>must</u> be
           set at the same time!

       bhardlimit=20000
           Hard limit for disk quota blocks, as defined by <b><a href="../man2/quotactl.2.html">quotactl</a></b>(2). Note: <b>bsoftlimit</b> and <b>bhardlimit</b> <u>must</u> be
           set at the same time!

       isoftlimit=3000
           Soft limit for inodes, as defined by
            <b><a href="../man2/quotactl.2.html">quotactl</a></b>(2). Note: <b>isoftlimit</b> and <b>ihardlimit</b> <u>must</u> be set at the same time!

       ihardlimit=4000
           Hard limit for inodes, as defined by
            <b><a href="../man2/quotactl.2.html">quotactl</a></b>(2). Note: <b>isoftlimit</b> and <b>ihardlimit</b> <u>must</u> be set at the same time!

</pre><h4><b>MODULE</b> <b>TYPES</b> <b>PROVIDED</b></h4><pre>
       Only the <b>session</b> module type is provided.

</pre><h4><b>RETURN</b> <b>VALUES</b></h4><pre>
       PAM_SUCCESS
           The quota was set successfully.

       PAM_IGNORE
           No action was taken because either the UID of the user was outside of the specified range, a quota
           already existed and <b>overwrite=1</b> was not configured or no limits were configured at all.

       PAM_USER_UNKNOWN
           The user was not found.

       PAM_PERM_DENIED
           <a href="file:/proc/mounts">/proc/mounts</a> could not be opened.

           The filesystem or device specified was not found.

           The limits for the user could not be retrieved. See syslog for more information.

           The limits for the user could not be set. See syslog for more information.

           Either <b>isoftlimit</b>/<b>ihardlimit</b> or <b>bsoftlimit</b>/<b>bhardlimit</b> were not set at the same time.

</pre><h4><b>EXAMPLES</b></h4><pre>
       A single invocation of `pam_setquota` applies a specific policy to a UID range. Applying different
       policies to specific UID ranges is done by invoking pam_setquota more than once. The last matching entry
       defines the resulting quota.

                 session  required   pam_setquota.so bsoftlimit=1000 bhardlimit=2000 isoftlimit=1000 ihardlimit=2000 startuid=1000 enduid=0 fs=<a href="file:/home">/home</a>
                 session  required   pam_setquota.so bsoftlimit=19000 bhardlimit=20000 isoftlimit=3000 ihardlimit=4000 startuid=2001 enduid=3000 fs=/dev/sda1
                 session  required   pam_setquota.so bsoftlimit=19000 bhardlimit=20000 isoftlimit=3000 ihardlimit=4000 startuid=3001 enduid=4000 fs=/dev/sda1 overwrite=1

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man5/pam.conf.5.html">pam.conf</a></b>(5), <b><a href="../man5/pam.d.5.html">pam.d</a></b>(5), <b><a href="../man8/pam.8.html">pam</a></b>(8)

</pre><h4><b>AUTHOR</b></h4><pre>
       pam_setquota was originally written by Ruslan Savchenko &lt;<a href="mailto:savrus@mexmat.net">savrus@mexmat.net</a>&gt;.

       Further modifications were made by Shane Tzen &lt;<a href="mailto:shane@ict.usc.edu">shane@ict.usc.edu</a>&gt;, Sven Hartge &lt;<a href="mailto:sven@svenhartge.de">sven@svenhartge.de</a>&gt; and
       Keller Fuchs &lt;<a href="mailto:kellerfuchs@hashbang.sh">kellerfuchs@hashbang.sh</a>&gt;.

Linux-PAM                                          07/03/2025                                    <u><a href="../man8/PAM_SETQUOTA.8.html">PAM_SETQUOTA</a></u>(8)
</pre>
 </div>
</div></section>
</div>
</body>
</html>