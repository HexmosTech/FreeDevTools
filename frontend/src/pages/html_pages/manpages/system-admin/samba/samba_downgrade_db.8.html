<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>samba_downgrade_db - Samba tool for downgrading AD databases</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/jammy/+package/samba">samba_4.15.13+dfsg-0ubuntu1.6_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       samba_downgrade_db - Samba tool for downgrading AD databases

</pre><h4><b>SYNOPSIS</b></h4><pre>

       samba_downgrade_db [-H] [-s]

</pre><h4><b>DESCRIPTION</b></h4><pre>
       This tool is part of the <b><a href="../man8/samba.8.html">samba</a></b>(8) suite.

       The format of the Samba Active Directory (AD) database changed in version 4.8 and 4.11. When downgrading
       a Samba AD Domain Controller (DC) to a release that is older than either of these versions (e.g. 4.11 to
       4.10), the AD database must be manually downgraded <u>before</u> the Samba packages can be safely downgraded.

       This tool downgrades a Samba sam.ldb database from the format used in version 4.15.13-Ubuntu to that of
       version 4.7. The v4.7 database format can safely be read by any version of Samba. If necessary, later
       versions of Samba will repack and reconfigure a v4.7-format database when the samba executable is first
       started.

       Note that all Samba services must be stopped on the DC before running this tool. Once the tool has run,
       do not restart samba or modify the database before the Samba software package has been downgraded.

</pre><h4><b>OPTIONS</b></h4><pre>
       -H [sam.ldb file]
           Link directly to a sam.ldb file instead of using path in system smb.conf

       -s [smb.conf file]
           Link directly to smb.conf file instead of system default (usually in /usr/local/samba/etc/smb.conf)

</pre><h4><b>VERSION</b></h4><pre>
       This man page is complete for version 4.15.13-Ubuntu of the Samba suite.

</pre><h4><b>AUTHOR</b></h4><pre>
       The original Samba software and related utilities were created by Andrew Tridgell. Samba is now developed
       by the Samba Team as an Open Source project similar to the way the Linux kernel is developed.

       The samba_downgrade_db tool was developed by the Samba team at Catalyst IT Ltd.

Samba 4.15.13-Ubuntu                               01/05/2024                              <u><a href="../man8/SAMBA_DOWNGRADE_DB.8.html">SAMBA_DOWNGRADE_DB</a></u>(8)
</pre>
 </div>
</div></section>
</div>
</body>
</html>