<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>sync-accounts-createuser - helper/hook program for sync-accounts</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/chiark-scripts">chiark-scripts_8.0.1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       sync-accounts-createuser - helper/hook program for sync-accounts

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>SYNCUSER_CREATE_</b><u>var</u><b>=</b><u>value</u><b>...</b> <b>sync-accounts-createuser</b>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>sync-accounts-createuser</b> is invoked by <b>sync-accounts</b> when sync-accounts is creating a local account.

       It  must  perform  all of the tasks involved with local account creation except for the actual changes to
       the password, shadow and group databases.

       At the very minimum, it must create the new account's home directory (with appropriate permissions).  The
       supplied sync-accounts-createuser script does exactly that.

       It may also suggest to sync-accounts modifications to the new account's passwd entry.

</pre><h4><b>INVOCATION</b></h4><pre>
       When sync-accounts-createuser is invoked, the passwd and group entries will not yet have been set up,  so
       it may not rely on them.  sync-accounts-createuser will not be supplied with any arguments.  However, the
       following environment variables will be set, giving details about the account to be created:
         <b>SYNCUSER_CREATE_USER</b>
         <b>SYNCUSER_CREATE_UID</b>
         <b>SYNCUSER_CREATE_GID</b>
         <b>SYNCUSER_CREATE_COMMENT</b>
         <b>SYNCUSER_CREATE_HOME</b>
         <b>SYNCUSER_CREATE_SHELL</b>

</pre><h4><b>RESULTS</b></h4><pre>
       sync-accounts-createuser should usually produce no output.

       It can inhibit the creation of the user by outputting a single line not containing a colon; in this case,
       a diagnostic message will be written to sync-accounts's logfile, and the user will be skipped.

       Alternatively,  it may write out an alternative password file entry, in which case sync-accounts will use
       the supplied data for the local passwd file instead of that from the remote host.  The line should be  in
       Sys-V passwd file format (regardless of <b>localformat</b> or <b>remoteformat</b> settings).  The username field should
       be taken from <b>SYNCUSER_CREATE_USER</b>, and the password field should be <b>x</b>.

</pre><h4><b>EXIT</b> <b>STATUS</b></h4><pre>
       <b>0</b>      All went well, or we wrote a line without a colon to say that the account should not be created.

       any other
              There were serious problems and sync-accounts should bomb out immediately.

</pre><h4><b>FILES</b></h4><pre>
       None.

</pre><h4><b>ENVIRONMENT</b></h4><pre>
       See above.

</pre><h4><b>BUGS</b></h4><pre>
       The  supplied  sync-accounts-createuser  does  not check that it was not supplied with any arguments; nor
       does it check that the <b>SYNCUSER_CREATE_*</b> variables are set, or have sensible values.

</pre><h4><b>AUTHOR</b></h4><pre>
       <b>sync-accounts-createuser</b> and this manpage were written by Ian Jackson &lt;<a href="mailto:ian@chiark.greenend.org.uk">ian@chiark.greenend.org.uk</a>&gt;.  They
       are Copyright 1999-2002 Ian Jackson &lt;<a href="mailto:ian@davenant.greenend.org.uk">ian@davenant.greenend.org.uk</a>&gt;.  This manpage forms part of the sync-
       accounts package.

       sync-accounts-createuser and the sync-accounts package are free software; you can redistribute it  and/or
       modify it under the terms of the GNU General Public License as published by the Free Software Foundation;
       either version 3, or (at your option) any later version.

       This  is  distributed  in  the  hope  that  it will be useful, but WITHOUT ANY WARRANTY; without even the
       implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.   See  the  GNU  General  Public
       License for more details.

       You  should  have  received  a  copy  of  the GNU General Public License along with this program; if not,
       consult the Free Software Foundation's website at www.fsf.org, or the GNU Project website at www.gnu.org.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man8/sync-accounts.8.html">sync-accounts</a></b>(8), <b><a href="../man5/sync-accounts.5.html">sync-accounts</a></b>(5), <b><a href="../man5/passwd.5.html">passwd</a></b>(5)

Greenend                                         14th July 2002                      <u><a href="../man8/SYNC-ACCOUNTS-CREATEUSER.8.html">SYNC-ACCOUNTS-CREATEUSER</a></u>(8)
</pre>
 </div>
</div></section>
</div>
</body>
</html>