<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>postal - program to test SMTP mail server throughput.</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/postal">postal_0.76+nmu2_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       postal - program to test SMTP mail server throughput.

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>postal</b>  <u>[-m</u> <u>maximum-message-size]</u> <u>[-M</u> <u>minimum-message-size]</u> <u>[-t</u> <u>threads]</u> <u>[-c</u> <u>messages-per-connection]</u> <u>[-r</u>
       <u>messages-per-minute]</u>  <u>[-s</u>  <u>ssl-percentage]</u>  <u>[-L]</u>  <u>[-l</u>  <u>local-address]</u>  <u>[-a]</u>  <u>[-b</u>  <u>[no]netscape]</u>   <u>[-[z|Z]</u>
       <u>debug-file]</u> <u>[-f</u> <u>sender-file]</u> <u>smtp-server</u> <u>user-list-filename</u>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       This manual page documents briefly the <b>postal</b> program.

       It  is designed to test the performance of SMTP email servers by sending random messages to the specified
       server as fast as possible.

       The <b>smtp-server</b> parameter specifies the IP address or name of the mail server that the mail is to be sent
       to.  Mail sent by <b>Postal</b> will not use MX records, this is to allow testing outbound relays etc.   If  you
       want  to  specify a port other than port 25 then enclose the host address in square brackets and have the
       port address immediately following.  If  you  want  a  DNS  lookup  for  every  connection  (for  testing
       round-robin  DNS)  then  immediately  precede the host address with a '+' character.  To specify multiple
       servers for round-robin use then separate the addresses with commas.  Note that  <b>localhost</b>  is  used  for
       connecting to the same machine.

       The  <b>user-list-filename</b>  is the name of a file which contains a list of user's email addresses.  This can
       be just user-names or fully qualified email addresses.  Whatever you specify will be sent exactly in  the
       SMTP  protocol so make sure you do whatever is appropriate.  If unsure then use fully qualified addresses
       (IE <a href="mailto:user@example.com">user@example.com</a>).

       The <b>sender-file</b> contains a list of users that will be in the From:  field  and  envelope  sender  of  the
       messages.  If it is not specified then the user-list-filename will be used for the sender list.

       The  <b>maximum-message-size</b>  indicates  the  size in Kilobytes that will be the maximum size of the message
       body.  The size of each message body will be a random number between 0 and the maximum size.  Specify "0"
       if you want just headers to test the connection rate.  The default value is 10.

       The <b>threads</b> parameter is the number of threads that should be created to attempt separate connections.  A
       well configured mail server won't accept an unlimited number  of  connections  so  make  sure  you  don't
       specify  a  number  larger  than  the number your mail server is configured to handle.  Also for sensible
       results make sure that you don't use  enough  to  make  your  server  thrash  as  the  results  won't  be
       representative  of  real-world use.  The default value is 1, this default is not suitable for real tests,
       it's just for testing your configuration.  If you specify multiple server addresses for  round-robin  use
       then this number of threads will be created per server, IE 4 servers and <b>-p5</b> will give 20 threads total.

       The  <b>messages-per-connection</b>  parameter  is  for  sending more than one message per SMTP connection.  The
       default value is "1".  A value of -1 means to send an indefinite number of messages on one connection (~4
       billion).  If a value &gt; 1 is specified then the number sent on each connection is a random number between
       1 and the number specified.  For simulating a mail server connected directly to the net use a value of  2
       or  3.   For simulating a mail server connected to a front-end relay use a large number.  For testing for
       bugs in your mail server use the value 0 and leave it running for a week.  ;)  A  value  of  0  means  to
       disconnect without sending any messages.  Good for testing a LocalDirector.

       The <b>max-messages-per-minute</b> parameter is for limiting the throughput of the program.  This is designed to
       be  used  when  you  want  to  test the performance of other programs when the system is under load.  The
       default is effectively 24000 messages per minute.

       The <b>local-address</b> parameter  specifies  which  local  IP  address(es)  are  used  to  make  the  outbound
       connections.   Specified  in the same way as the remote address.  This is good for testing LocalDirectors
       or other devices that perform differently depending on which source IP address was used.

       The -L command specifies that LMTP is to be used instead of SMTP.

       The <b>-a</b> command turns on all logging.  All message data received will be logged.  This will make  it  slow
       and it may not be able to saturate a fast Ethernet link...

       The  <b>-b</b>  switch  allows  you to specify breakage strings.  Currently the only option is for Netscape mail
       server which strips spaces from the start of subject lines.  <b>-b</b> <b>netscape</b> means to avoid leading spaces on
       subject fields to not break Netscape.  <b>-b</b> <b>nonetscape</b> means to always put extra space to test for the  bug
       in  Netscape  and  similar  products.   Some  people say that the RFCs are open to interpretation on this
       issue, I am interested to see whether anyone else interprets it the way that Netscape does.

       The <b>-s</b> switch specifies the percentage of connections which are to use <b>TLS</b> AKA <b>SSL.</b>  Use 0 for no SSL, or
       100 for always SSL, or any number in between.  Default is 0.

       The <b>-z</b> switch allows you to specify a debugging file base.  From this base one file is created  for  each
       thread  (with  a  ':'  and the thread number appended), each file is used to log all IO performed by that
       thread for debugging purposes.

       The <b>-Z</b> switch is the same but creates a separate file for each connection as well with an additional  ':'
       appended followed by the connection number.

</pre><h4><b>NOTES</b></h4><pre>
       When  testing  mail  servers  please  use  domains defined in <a href="http://www.rfc-editor.org/rfc/rfc2606.txt">http://www.rfc-editor.org/rfc/rfc2606.txt</a> -
       example.com, example.net, and example.org
        are all good options.  Please don't use anything related to a valid name, since that will cause pain for
       you and others on the net.

</pre><h4><b>RETURN</b> <b>CODES</b></h4><pre>
       <b>0</b>      No Error

       <b>1</b>      Bad Parameters

       <b>2</b>      System Error, lack of memory or some other resource

</pre><h4><b>AUTHOR</b></h4><pre>
       This  program,  it's  manual  page,  and   the   Debian   package   were   written   by   Russell   Coker
       &lt;<a href="mailto:russell@coker.com.au">russell@coker.com.au</a>&gt;.

</pre><h4><b>AVAILABILITY</b></h4><pre>
       The source is available from <a href="http://doc.coker.com.au/projects/postal/">http://doc.coker.com.au/projects/postal/</a> .

       See <a href="http://etbe.coker.com.au/category/benchmark">http://etbe.coker.com.au/category/benchmark</a> for further information.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man8/bhm.8.html">bhm</a></b>(8),<b><a href="../man8/postal-list.8.html">postal-list</a></b>(8),<b><a href="../man8/rabid.8.html">rabid</a></b>(8)

<a href="mailto:russell@coker.com.au">russell@coker.com.au</a>                                  0.70                                             <u><a href="../man8/postal.8.html">postal</a></u>(8)
</pre>
 </div>
</div></section>
</div>
</body>
</html>