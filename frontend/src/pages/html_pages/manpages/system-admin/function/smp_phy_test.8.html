<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>smp_phy_test - invoke PHY TEST FUNCTION SMP function</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/smp-utils">smp-utils_0.99-1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       smp_phy_test - invoke PHY TEST FUNCTION SMP function

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>smp_phy_test</b>    [<u>--control=CO</u>]    [<u>--dwords=DW</u>]   [<u>--expected=EX</u>]   [<u>--function=FN</u>]    [<u>--help</u>]   [<u>--hex</u>]
       [<u>--interface=PARAMS</u>]  [<u>--linkrate=LR</u>]  [<u>--pattern=PA</u>]   [<u>--phy=ID</u>]   [<u>--raw</u>]   [<u>--sa=SAS_ADDR</u>]   [<u>--sata</u>]
       [<u>--spread=SC</u>] [<u>--verbose</u>] [<u>--version</u>] <u>SMP_DEVICE[,N]</u>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       Sends a SAS Serial Management Protocol (SMP) PHY TEST FUNCTION function request to an SMP target. The SMP
       target  is identified by the <u>SMP_DEVICE</u> and the <u>SAS_ADDR</u>. Depending on the interface, the <u>SAS_ADDR</u> may be
       deduced from the <u>SMP_DEVICE</u>. The mpt interface uses <u>SMP_DEVICE</u> to identify a HBA (an SMP  initiator)  and
       needs the additional <u>,N</u> to differentiate between HBAs if there are multiple present.

       The  PHY  TEST  FUNCTION  function  can  be  used to start and stop test pattern transmission. When a phy
       associated with an SMP target (most likely  an  expander)  starts  test  pattern  transmission  then  the
       attached phy (if there is one) sees a link down.

       SAS  phys  associated  with SSP targets (e.g. a SAS disk) can generate similar test patterns by using the
       SEND DIAGNOSTIC SCSI command with page code 3fh . See the sg_senddiag utility.

</pre><h4><b>OPTIONS</b></h4><pre>
       Mandatory arguments to long options are mandatory for short options as well.

       <b>-c</b>, <b>--control</b>=<u>CO</u>
              set the 'phy test pattern dwords control' field. The argument <u>CO</u> can be from 0 to  255  inclusive,
              the default is 0 (each byte in 'dwords' sent as data byte (Dxx.y) without scrambling). Only active
              when 'pattern' is set to 40h (i.e. "two_dwords").

       <b>-d</b>, <b>--dwords</b>=<u>DW</u>
              set  the  'phy test pattern dwords' field which is 8 bytes long. The argument <u>DW</u> would normally be
              entered in hex with a leading '0x' or a  trailing  'h'  (otherwise  it  would  be  interpreted  as
              decimal).  Due  to  a quirk in the command line parser, the argument value ffffffffffffffffh (i.e.
              all bits sets) needs to be entered as '-1'.

       <b>-E</b>, <b>--expected</b>=<u>EX</u>
              set the 'expected expander change count' field in the SMP request. The value <u>EX</u> is from 0 to 65535
              inclusive with 0 being the default value. When <u>EX</u> is greater than zero then if the  value  doesn't
              match  the  expander  change  count of the SMP target (i.e. the expander) when the request arrives
              then the target ignores the request and sets a function result of "invalid expander change  count"
              in the response.

       <b>-f</b>, <b>--function</b>=<u>FN</u>
              set  the  'phy test function' field in the SMP request. Values between 0 and 255 are accepted with
              the default being 0. The value 0 stops the selected phy performing a phy test function. The  value
              1  starts  the  selected  phy transmitting the test pattern (and anything that the phy receives is
              discarded).

       <b>-h</b>, <b>--help</b>
              output the usage message then exit.

       <b>-H</b>, <b>--hex</b>
              output the response (less the CRC field) in hexadecimal.

       <b>-I</b>, <b>--interface</b>=<u>PARAMS</u>
              interface specific parameters. In this case "interface" refers to the path through  the  operating
              system to the SMP initiator. See the smp_utils man page for more information.

       <b>-l</b>, <b>--linkrate</b>=<u>LR</u>
              transmits  the test pattern at the specified physical link rate: 8 -&gt; 1.5 Gbps, 9 -&gt; 3 Gbps, 10 -&gt;
              6 Gbps, 11 -&gt; 12 Gbps. Default value is 0xa (i.e. 6 Gbps). Prior to version 0.99 the default value
              was 9 (i.e. 3 Gbps).

       <b>-P</b>, <b>--pattern</b>=<u>PA</u>
              specifies the type of test pattern to transmit. SPL-4 (rev 8) values are: 1 -&gt; JTPAT, 2 -&gt; CJTPAT,
              3 -&gt; PRBS9, 4 -&gt; PRBS15, 10h -&gt; TRAIN, 11h -&gt; TRAIN_DONE, 12h -&gt; IDLE, 13h -&gt; SCRAMBLED_0, 40h  -&gt;
              TWO_DWORDS.  The default value is 2 (i.e. CJTPAT).

       <b>-p</b>, <b>--phy</b>=<u>ID</u>
              phy identifier. <u>ID</u> is a value between 0 and 254. Default is 0.

       <b>-r</b>, <b>--raw</b>
              send the response (less the CRC field) to stdout in binary. All error messages are sent to stderr.

       <b>-s</b>, <b>--sa</b>=<u>SAS_ADDR</u>
              specifies the SAS address of the SMP target device. Typically this is an expander. This option may
              not be needed if the <u>SMP_DEVICE</u> has the target's SAS address within it. The <u>SAS_ADDR</u> is in decimal
              but  most SAS addresses are shown in hexadecimal. To give a number in hexadecimal either prefix it
              with '0x' or put a trailing 'h' on it.

       <b>-t</b>, <b>--sata</b>
              set phy test function SATA bit. The default action is to leave that bit clear (zero).

       <b>-S</b>, <b>--spread</b>=<u>SC</u>
              set the phy test function Spread Spectrum Clocking (SSC) field to <u>SC</u>.  Default value is  zero  (no
              spreading). Other defined values are 1 for centre spreading and 2 for down spreading.

       <b>-v</b>, <b>--verbose</b>
              increase the verbosity of the output. Can be used multiple times

       <b>-V</b>, <b>--version</b>
              print the version string and then exit.

</pre><h4><b>CONFORMING</b> <b>TO</b></h4><pre>
       The SMP PHY TEST function was introduced in SAS-1.1 and enhanced in SAS-2 .

</pre><h4><b>AUTHORS</b></h4><pre>
       Written by Douglas Gilbert.

</pre><h4><b>REPORTING</b> <b>BUGS</b></h4><pre>
       Report bugs to &lt;dgilbert at interlog dot com&gt;.

</pre><h4><b>COPYRIGHT</b></h4><pre>
       Copyright Â© 2006-2017 Douglas Gilbert
       This  software is distributed under a FreeBSD license. There is NO warranty; not even for MERCHANTABILITY
       or FITNESS FOR A PARTICULAR PURPOSE.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b>smp_utils,</b> <b>sg_senddiag(sg3_utils)</b>

smp_utils-0.99                                    October 2017                                   <u><a href="../man8/SMP_PHY_TEST.8.html">SMP_PHY_TEST</a></u>(8)
</pre>
 </div>
</div></section>
</div>
</body>
</html>