<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>smp_conf_zone_perm_tbl - invoke CONFIGURE ZONE PERMISSION TABLE function</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/smp-utils">smp-utils_0.99-1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       smp_conf_zone_perm_tbl - invoke CONFIGURE ZONE PERMISSION TABLE function

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>smp_conf_zone_perm_tbl</b>  [<u>--deduce</u>]  [<u>--expected=EX</u>]  [<u>--help</u>]  [<u>--hex</u>]  [<u>--interface=PARAMS</u>] [<u>--numzg=NG</u>]
       <u>--permf=FN</u> [<u>--raw</u>] [<u>--sa=SAS_ADDR</u>] [<u>--save=SAV</u>] [<u>--start=SS</u>] [<u>--verbose</u>] [<u>--version</u>] <u>SMP_DEVICE[,N]</u>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       Sends one or more SAS Serial Management Protocol (SMP) CONFIGURE ZONE PERMISSION TABLE function  requests
       to  an SMP target. The SMP target is identified by the <u>SMP_DEVICE</u> and the <u>--sa=SAS_ADDR</u>. Depending on the
       interface, the <u>SAS_ADDR</u> may be deduced from the <u>SMP_DEVICE</u>. The mpt interface uses <u>SMP_DEVICE</u> to identify
       an HBA (an SMP initiator) and needs the additional <u>,N</u> to differentiate between HBAs if there are multiple
       present.

       The zone permission table has a row for each source zone group and a column  for  each  destination  zone
       group.  Each  element in the table (ZP[s,d]) is a single bit indicating whether the source zone group can
       access the destination zone group (the bit is set: 1) or not (the  bit  is  clear:  0).   There  are  two
       different  table sizes: 128 and 256 zone groups. Descriptors provided to this function request are either
       16 bytes (128 bits) or 32 bytes (256 bits)  long.  Each  descriptor  is  basically  a  row  in  the  zone
       permission table.

       Apart  from  being  row  in  the  zone  permission table each descriptor is transposed and applied to the
       corresponding destination column.  This "maintains symmetry about the ZP[s,s] table axis" in the words of
       the draft. Also descriptors are applied in the order that they appear  in  the  request  (i.e.  ascending
       source zone group numbers).

       The  maximum  number of descriptors that one CONFIGURE ZONE PERMISSION TABLE function request can hold is
       limited to 63 if there are 128 zone groups; and is limited to 31 if there are 256  zone  groups.  A  full
       zone table will contain 128 (or 256) descriptors so to configure a full table requires multiple CONFIGURE
       ZONE PERMISSION TABLE requests.

       The  number  of zone permission configuration descriptors is determined by reading the <u>FN</u> file associated
       with the <u>--permf=FN</u> option.  If there are more descriptors than can fit in one CONFIGURE ZONE  PERMISSION
       TABLE function request then multiple requests are sent. All descriptors found in the <u>FN</u> file will be sent
       unless an earlier function response indicates there has been an error.

</pre><h4><b>OPTIONS</b></h4><pre>
       Mandatory arguments to long options are mandatory for short options as well.

       <b>-d</b>, <b>--deduce</b>
              deduce  number  of zone groups from number of bytes on active <u>FN</u> lines.  With 128 zone groups each
              active line will contain 16 (or less) bytes.  With this option if any active line in  <u>FN</u>  contains
              more  than  16 bytes then 256 zone groups are assumed, otherwise 128 zone groups are assumed. This
              option cannot be given with the <u>--numzg=NG</u> option (as they may contradict one another).

       <b>-E</b>, <b>--expected</b>=<u>EX</u>
              set the 'expected expander change count' field in the SMP request.  The value  <u>EX</u>  is  from  0  to
              65535  inclusive  with  0  being the default value. When <u>EX</u> is greater than zero then if the value
              doesn't match the expander change count of the SMP target (i.e. the  expander)  when  the  request
              arrives then the target ignores the request and sets a function result of "invalid expander change
              count" in the response.

       <b>-f</b>, <b>--start</b>=<u>SS</u>
              starting  (first)  source  zone  group  (default: zone group 0). If multiple function requests are
              sent, this field in subsequent function requests will be adjusted  to  reflect  those  descriptors
              already  sent.  Note  that the <u>SS</u> value may be picked up from <u>FN</u> and if this option and that value
              are not the same, an error is generated.

       <b>-h</b>, <b>--help</b>
              output the usage message then exit.

       <b>-H</b>, <b>--hex</b>
              output the response (less the CRC field) in hexadecimal.

       <b>-I</b>, <b>--interface</b>=<u>PARAMS</u>
              interface specific parameters. In this case "interface" refers to the path through  the  operating
              system to the SMP initiator. See the smp_utils man page for more information.

       <b>-n</b>, <b>--numzg</b>=<u>ZG</u>
              number  of  zone groups. <u>ZG</u> can be 0 (default) or 1. 0 implies 128 zone groups while 1 implies 256
              zone groups. This option cannot be used with the <u>--deduce</u> option.

       <b>-P</b>, <b>--permf</b>=<u>FN</u>
              FN is a file containing zone permission configuration descriptors in ASCII hexadecimal; either  as
              bytes  separated  by  space,  tab,  comma or newline, or as longer strings of hexadecimal bytes in
              which every 2 digits represents a byte. Empty lines and those starting with "#"  are  ignored.   A
              line  with  "--start=&lt;num&gt;"  will  be  taken  as the starting source zone group number (i.e. &lt;num&gt;
              becomes <u>SS</u>) unless it contradicts the command line <u>--start=SS</u>  option.  Otherwise  lines  starting
              with "-" are ignored.

       <b>-r</b>, <b>--raw</b>
              send the response (less the CRC field) to stdout in binary. All error messages are sent to stderr.

       <b>-s</b>, <b>--sa</b>=<u>SAS_ADDR</u>
              specifies  the  SAS  address  of the SMP target device. The mpt interface needs this option and it
              will typically be an expander's SAS address. The <u>SAS_ADDR</u> is in decimal but most SAS addresses are
              shown in hexadecimal.  To give a number in hexadecimal  either  prefix  it  with  '0x'  or  put  a
              trailing 'h' on it.

       <b>-S</b>, <b>--save</b>=<u>SAV</u>
              set  the  'save'  field  in  the SMP request. <u>SAV</u> may take these values: 0 for updating the shadow
              values (default), 1 for updating the saved values, 2 for updating shadow values and  if  available
              the saved values, 3 for updating both saved and shadow values.

       <b>-f</b>, <b>--start</b>=<u>SS</u>
              See entry above, listed in order by its short option letter (i.e.  <u>-f</u>).

       <b>-v</b>, <b>--verbose</b>
              increase the verbosity of the output. Can be used multiple times.

       <b>-V</b>, <b>--version</b>
              print the version string and then exit.

</pre><h4><b>NOTES</b></h4><pre>
       For  simplicity, each active line in the <u>FN</u> file should contain 16 or 32 bytes. 16 bytes if there are 128
       zone groups or 32 bytes if there are 256 zone groups.

       SCSI is big endian. So for 128 zone groups, the first byte placed in the  zone  permission  configuration
       descriptor is ZP[0,127-120]. If the <u>--start=SS</u> option is given then the first byte is ZP[<u>SS</u>,127-120]. For
       256 zone groups, the first bytes are ZP[0,255-248] and ZP[<u>SS</u>,255-248] respectively.

       There  is  an  annex called "Zone permission configuration descriptor examples" in recent SAS-2 and later
       drafts (Annex H in spl2r03.pdf).

       There are some examples of the <u>--permf=FN</u> format in the  examples  directory.  Not  all  SAS-2  expanders
       properly  implement  descriptor  transpose  and only place the descriptor in the row corresponding to the
       source zone group.

</pre><h4><b>CONFORMING</b> <b>TO</b></h4><pre>
       The SMP CONFIGURE ZONE PERMISSION TABLE function was introduced in SAS-2 .

</pre><h4><b>AUTHORS</b></h4><pre>
       Written by Douglas Gilbert.

</pre><h4><b>REPORTING</b> <b>BUGS</b></h4><pre>
       Report bugs to &lt;dgilbert at interlog dot com&gt;.

</pre><h4><b>COPYRIGHT</b></h4><pre>
       Copyright Â© 2011 Douglas Gilbert
       This software is distributed under a FreeBSD license. There is NO warranty; not even for  MERCHANTABILITY
       or FITNESS FOR A PARTICULAR PURPOSE.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b>smp_utils,</b> <b>smp_conf_zone_phy_info,</b> <b>smp_zone_activate(smp_utils)</b>

smp_utils-0.97                                   September 2011                        <u><a href="../man8/SMP_CONF_ZONE_PERM_TBL.8.html">SMP_CONF_ZONE_PERM_TBL</a></u>(8)
</pre>
 </div>
</div></section>
</div>
</body>
</html>