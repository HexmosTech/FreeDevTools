<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>kea-admin - Shell script for managing Kea databases</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/kea-admin">kea-admin_2.6.3-1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       kea-admin - Shell script for managing Kea databases

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>kea-admin</b>   [command]   [backend]  [<b>-h</b>  database_host]  [<b>-P</b>  database_port]  [<b>-u</b>  database_username]  [<b>-p</b>
       [database_password]] [<b>-n</b> database_name] [<b>-d</b> script_directory] [<b>-v</b>] [<b>-x</b> extra_argument [<b>-x</b>  extra_argument
       ...]]  [<b>-4</b> | <b>-6</b>] [<b>-i</b> input_file] [<b>-o</b> output_file] [<b>-y</b>]

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>kea-admin</b>  is  a  shell  script  that  offers  database  maintenance. In particular, it features database
       initialization, database version checking, and database schema upgrading.

</pre><h4><b>ARGUMENTS</b></h4><pre>
       <b>command</b>
              Specifies the command to be issued to the servers. It can be one of the following:

              <b>db-init</b>
                     Initializes a new database schema. This is  useful  during  a  new  Kea  installation.  The
                     database  is  initialized  to  the  latest version supported by the version of the software
                     being installed.

              <b>db-version</b>
                     Reports the database backend version number. This is  not  necessarily  equal  to  the  Kea
                     version number, as each backend has its own versioning scheme.

              <b>db-upgrade</b>
                     Conducts a database schema upgrade. This is useful when upgrading Kea.

              <b>lease-dump</b>
                     Dumps  the  contents  of  the  lease  database  (for MySQL or PostgreSQL backends) to a CSV
                     (comma-separated  values)  text  file.  (Support  for  the  Cassandra  backend   has   been
                     deprecated.)   The  first line of the file contains the column names. This can be used as a
                     way to switch from a database backend to a memfile backend.  It  can  also  be  used  as  a
                     diagnostic  tool,  as  it  provides  a  portable  form  of  the lease data. There are other
                     mandatory arguments that must be used together with this command: either <b>-4</b> or <b>-6</b>  must  be
                     specified, and either <b>-o</b> or <b>--output</b> must be provided.

              <b>lease-upload</b>
                     Uploads  leases  from  a  CSV (comma-separated values) text file to a MySQL or a PostgreSQL
                     lease database. The CSV file needs to be in memfile  format.   There  are  other  mandatory
                     arguments  that must be used together with this command: either <b>-4</b> or <b>-6</b> must be specified,
                     and either <b>-i</b> or <b>--input</b> must be provided.

              <b>stats-recount</b>
                     Recounts lease statistics for a MySQL or PostgreSQL database.

       <b>backend</b>
              Specifies the backend type. Currently allowed backends are: memfile, mysql,  and  pgsql;  cql  has
              been deprecated.

       <b>-h|--host</b> <b>hostname</b>
              Specifies the hostname when connecting to a database.  The default value is <b>localhost</b>.

       <b>-i|--input</b> <b>input_file</b>
              Specifies  the CSV (comma-separated values) text file with the leases to be uploaded; required for
              <b>lease-upload</b>.

       <b>-P|--port</b> <b>port</b>
              Specifies the port when connecting to a database. If not specified, the default  value  chosen  by
              the database client is used.

       <b>-u|--user</b> <b>username</b>
              Specifies the username when connecting to a database.  The default value is <b>keatest</b>.

       <b>-p|--password</b> <b>password</b>
              Specifies the password when connecting to a database.  If only <b>-p</b> or <b>--password</b> is given, the user
              is  prompted  for  a  password.   If  not  specified at all, the <b>KEA_ADMIN_DB_PASSWORD</b> environment
              variable is checked for a value and used if it exists.  Otherwise the default value of <b>keatest</b>  is
              used.

       <b>-n|--name</b> <b>database-name</b>
              Specifies the name of the database to connect to. The default value is <b>keatest</b>.

       <b>-d|--directory</b> <b>script-directory</b>
              Specifies  the  override  scripts  directory.  That  script  is  used  during  upgrades,  database
              initialization, and possibly other operations.  The default value is <b>(prefix)/share/kea/scripts/</b>.

       <b>-o|--output</b> <b>output_file</b>
              Specifies the file to which the lease data will be dumped. Required for <b>lease-dump</b>.

       <b>-v|--version</b>
              Displays the Kea version.

       <b>-V</b>     Displays the extended Kea version.

       <b>-4</b>     Directs <b>kea-admin</b> to lease-dump the DHCPv4 leases. Incompatible with the -6 option.

       <b>-6</b>     Directs <b>kea-admin</b> to lease-dump the DHCPv6 leases. Incompatible with the -4 option.

       <b>-x|--extra</b>
              Specifies an extra argument to pass to the database command tool e.g.  to invoke  <b>mysql</b>  with  the
              <b>--ssl</b>  argument.  This  can  be repeated to pass more than one argument. Quotes are not preserved.
              Avoid commands containing spaces.

       <b>-y|--yes</b>
              Assume yes on overwriting temporary files.

</pre><h4><b>DOCUMENTATION</b></h4><pre>
       Kea comes with an extensive Kea Administrator Reference Manual that covers all aspects of running the Kea
       software - compilation, installation, configuration, configuration examples,  and  much  more.  Kea  also
       features  a Kea Messages Manual, which lists all possible messages Kea can print with a brief description
       for each of them. Both documents are available in various  formats  (.txt,  .html,  .pdf)  with  the  Kea
       distribution. The Kea documentation is available at <u>https://kea.readthedocs.io</u>.

       Kea    source    code    is    documented    in    the    Kea   Developer's   Guide,   available   at   ‚Äê
       <u>https://reports.kea.isc.org/dev_guide/</u>.

       The Kea project website is available at <u>https://kea.isc.org</u>.

</pre><h4><b>MAILING</b> <b>LISTS</b> <b>AND</b> <b>SUPPORT</b></h4><pre>
       There are two public mailing lists available for the Kea project. <b>kea-users</b> (kea-users at  lists.isc.org)
       is  intended  for  Kea  users,  while  <b>kea-dev</b> (kea-dev at lists.isc.org) is intended for Kea developers,
       prospective contributors, and other advanced users. Both lists are  available  at  <u>https://lists.isc.org</u>.
       The community provides best-effort support on both of those lists.

       ISC provides professional support for Kea services. See <u>https://www.isc.org/kea/</u> for details.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man8/kea-dhcp4.8.html">kea-dhcp4</a>(8)</b>, <b><a href="../man8/kea-dhcp6.8.html">kea-dhcp6</a>(8)</b>, <b><a href="../man8/kea-dhcp-ddns.8.html">kea-dhcp-ddns</a>(8)</b>, <b><a href="../man8/kea-ctrl-agent.8.html">kea-ctrl-agent</a>(8)</b>, <b><a href="../man8/keactrl.8.html">keactrl</a>(8)</b>, <b><a href="../man8/perfdhcp.8.html">perfdhcp</a>(8)</b>, <b><a href="../man8/kea-netconf.8.html">kea-netconf</a>(8)</b>,
       Kea Administrator Reference Manual.

</pre><h4><b>AUTHOR</b></h4><pre>
       Internet Systems Consortium

</pre><h4><b>COPYRIGHT</b></h4><pre>
       2019-2024, Internet Systems Consortium

2.6.3                                             Jun 02, 2025                                      <u><a href="../man8/KEA-ADMIN.8.html">KEA-ADMIN</a></u>(8)
</pre>
 </div>
</div></section>
</div>
</body>
</html>