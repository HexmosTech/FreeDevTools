<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ceph-kvstore-tool - ceph kvstore manipulation tool</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/ceph-base">ceph-base_19.2.1-0ubuntu3_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       ceph-kvstore-tool - ceph kvstore manipulation tool

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>ceph-kvstore-tool</b> &lt;rocksdb|bluestore-kv&gt; &lt;store path&gt; <u>command</u> [args...]

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>ceph-kvstore-tool</b>  is  a  kvstore  manipulation  tool. It allows users to manipulate RocksDB's data (like
       OSD's omap) offline.

</pre><h4><b>COMMANDS</b></h4><pre>
       <b>ceph-kvstore-tool</b> utility uses many commands for debugging purpose which are as follows:

       <b>list</b> <b>[prefix]</b>
              Print key of all KV pairs stored with the URL encoded prefix.

       <b>list-crc</b> <b>[prefix]</b>
              Print CRC of all KV pairs stored with the URL encoded prefix.

       <b>dump</b> <b>[prefix]</b>
              Print key and value of all KV pairs stored with the URL encoded prefix.

       <b>exists</b> <b>&lt;prefix&gt;</b> <b>[key]</b>
              Check if there is any KV pair stored with the URL encoded prefix. If key is also specified,  check
              for the key with the prefix instead.

       <b>get</b> <b>&lt;prefix&gt;</b> <b>&lt;key&gt;</b> <b>[out</b> <b>&lt;file&gt;]</b>
              Get  the  value  of  the  KV  pair  stored  with  the URL encoded prefix and key.  If file is also
              specified, write the value to the file.

       <b>crc</b> <b>&lt;prefix&gt;</b> <b>&lt;key&gt;</b>
              Get the CRC of the KV pair stored with the URL encoded prefix and key.

       <b>get-size</b> <b>[&lt;prefix&gt;</b> <b>&lt;key&gt;]</b>
              Get estimated store size or size of value specified by prefix and key.

       <b>set</b> <b>&lt;prefix&gt;</b> <b>&lt;key&gt;</b> <b>[ver</b> <b>&lt;N&gt;|in</b> <b>&lt;file&gt;]</b>
              Set the value of the KV pair stored with the URL encoded prefix  and  key.   The  value  could  be
              <u>version_t</u> or text.

       <b>rm</b> <b>&lt;prefix&gt;</b> <b>&lt;key&gt;</b>
              Remove the KV pair stored with the URL encoded prefix and key.

       <b>rm-prefix</b> <b>&lt;prefix&gt;</b>
              Remove all KV pairs stored with the URL encoded prefix.

       <b>store-copy</b> <b>&lt;path&gt;</b> <b>[num-keys-per-tx]</b>
              Copy  all  KV pairs to another directory specified by <b>path</b>.  [num-keys-per-tx] is the number of KV
              pairs copied for a transaction.

       <b>store-crc</b> <b>&lt;path&gt;</b>
              Store CRC of all KV pairs to a file specified by <b>path</b>.

       <b>compact</b>
              Subcommand <b>compact</b> is used to compact all data of kvstore. It will open the database, and  trigger
              a database's compaction. After compaction, some disk space may be released.

       <b>compact-prefix</b> <b>&lt;prefix&gt;</b>
              Compact all entries specified by the URL encoded prefix.

       <b>compact-range</b> <b>&lt;prefix&gt;</b> <b>&lt;start&gt;</b> <b>&lt;end&gt;</b>
              Compact some entries specified by the URL encoded prefix and range.

       <b>destructive-repair</b>
              Make a (potentially destructive) effort to recover a corrupted database.  Note that in the case of
              rocksdb this may corrupt an otherwise uncorrupted database--use this only as a last resort!

       <b>stats</b>  Prints  statistics  from  underlying  key-value  database.  This is only for informative purposes.
              Format and information content  may  vary  between  releases.  For  RocksDB  information  includes
              compactions stats, performance counters, memory usage and internal RocksDB stats.

       <b>histogram</b>
              Presents key-value sizes distribution statistics from the underlying KV database.

</pre><h4><b>AVAILABILITY</b></h4><pre>
       <b>ceph-kvstore-tool</b>  is part of Ceph, a massively scalable, open-source, distributed storage system. Please
       refer to the Ceph documentation at <u>https://docs.ceph.com</u> for more information.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <u><a href="../man8/ceph.8.html">ceph</a></u>(8)

</pre><h4><b>COPYRIGHT</b></h4><pre>
       2010-2014, Inktank Storage, Inc. and contributors. Licensed  under  Creative  Commons  Attribution  Share
       Alike 3.0 (CC-BY-SA-3.0)

dev                                               May 22, 2025                              <u><a href="../man8/CEPH-KVSTORE-TOOL.8.html">CEPH-KVSTORE-TOOL</a></u>(8)
</pre>
 </div>
</div></section>
</div>
</body>
</html>