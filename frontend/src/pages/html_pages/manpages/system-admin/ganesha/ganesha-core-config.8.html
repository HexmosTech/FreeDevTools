<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ganesha-core-config - NFS Ganesha Core Configuration File</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/nfs-ganesha">nfs-ganesha_6.5-5_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       ganesha-core-config - NFS Ganesha Core Configuration File

</pre><h4><b>SYNOPSIS</b></h4><pre>
       /etc/ganesha/ganesha.conf

</pre><h4><b>DESCRIPTION</b></h4><pre>
       NFS-Ganesha reads the configuration data from: | /etc/ganesha/ganesha.conf

       This file lists NFS related core config options.

   <b>NFS_CORE_PARAM</b> <b>{}</b>
       Core parameters:

       <b>HAProxy_Hosts</b> <b>(host</b> <b>list,</b> <b>empty)</b>
              This  is  the  list  of  hosts  that can serve as HAProxy load balancers/proxies that will use the
              HAProxy protocol to indicate to Ganesha the actual end client IP address. This  parameter  may  be
              repeated to extend the list.

              Host list entries can take on one of the following forms:
                 *           Match  any  host  @name        Netgroup name x.x.x.x/y   IPv4 network address, IPv6
                 addresses are also allowed
                     but the format is too complex to show here

                 <b>wildcarded</b> <b>If</b> <b>the</b> <b>string</b> <b>contains</b> <b>at</b> <b>least</b> <b>one</b> <b>?</b> <b>or</b> <b>*</b>
                        character (and is not simply "*"), the string is used to pattern match host names.  Note
                        that [] may also be used, but the pattern MUST have at least one ? or *

                 <b>hostname</b> <b>Match</b> <b>a</b> <b>single</b> <b>host</b> <b>(match</b> <b>is</b> <b>by</b> <b>IP</b> <b>address,</b> <b>all</b>
                        addresses  returned  by  getaddrinfo  will match, the getaddrinfo call is made at config
                        parsing time)

                 IP address  Match a single host

       <b>NFS_Port</b> <b>(uint16,</b> <b>range</b> <b>0</b> <b>to</b> <b>UINT16_MAX,</b> <b>default</b> <b>2049)</b>
              Port number used by NFS Protocol.

       <b>MNT_Port</b> <b>(uint16,</b> <b>range</b> <b>0</b> <b>to</b> <b>UINT16_MAX,</b> <b>default</b> <b>0)</b>
              Port number used by MNT Protocol.

       <b>NLM_Port</b> <b>(uint16,</b> <b>range</b> <b>0</b> <b>to</b> <b>UINT16_MAX,</b> <b>default</b> <b>0)</b>
              Port number used by NLM Protocol.

       <b>Rquota_Port</b> <b>(uint16,</b> <b>range</b> <b>0</b> <b>to</b> <b>UINT16_MAX,</b> <b>default</b> <b>875)</b>
              Port number used by Rquota Protocol.

       <b>NFS_RDMA_Port</b> <b>(uint16,</b> <b>range</b> <b>0</b> <b>to</b> <b>UINT16_MAX,</b> <b>default</b> <b>20049)</b>
              Port number used by NFS Over RDMA Protocol.

       <b>NFS_RDMA_Protocol_Versions(enum</b> <b>list,</b> <b>default</b> <b>[4.0])</b>

              <b>Possible</b> <b>values:</b>
                     (NONE, 3, v3, NFS3, NFSv3, 4.0, v4.0, NFS4.0, NFSv4.0, 4.1, ALL)

              Supported NFS Version for NFS Over RDMA. By default, NFSv4.0 is enabled.

       <b>Monitoring_Port</b> <b>(uint16,</b> <b>range</b> <b>0</b> <b>to</b> <b>UINT16_MAX,</b> <b>default</b> <b>9587)</b>
              Port number used to export monitoring metrics.

       <b>Enable_Dynamic_Metrics</b> <b>(bool,</b> <b>default</b> <b>true)</b>
              Whether to create metrics labels on the fly based on client-ip, export name,  etc.  Provides  more
              debugging  information,  but  significantly  reduces  performance. Enabled by default for backward
              compatibility.

       <b>Bind_addr(IPv4</b> <b>or</b> <b>IPv6</b> <b>addr,</b> <b>default</b> <b>0.0.0.0)</b>
              The address to which to bind for our listening port.

       <b>NFS_Program(uint32,</b> <b>range</b> <b>1</b> <b>to</b> <b>INT32_MAX,</b> <b>default</b> <b>100003)</b>
              RPC program number for NFS.

       <b>MNT_Program(uint32,</b> <b>range</b> <b>1</b> <b>to</b> <b>INT32_MAX,</b> <b>default</b> <b>100005)</b>
              RPC program number for MNT.

       <b>NLM_Program(uint32,</b> <b>range</b> <b>1</b> <b>to</b> <b>INT32_MAX,</b> <b>default</b> <b>100021)</b>
              RPC program number for NLM.

       <b>Drop_IO_Errors(bool,</b> <b>default</b> <b>false)</b>
              For NFSv3, whether to drop rather than reply to requests yielding I/O errors. It results in client
              retry.

       <b>Drop_Inval_Errors(bool,</b> <b>default</b> <b>false)</b>
              For NFSv3, whether to drop rather than reply to requests yielding invalid argument errors.   False
              by default and settable with Drop_Inval_Errors.

       <b>Drop_Delay_Errors(bool,</b> <b>default</b> <b>false)</b>
              For  NFSv3, whether to drop rather than reply to requests yielding delay errors.  False by default
              and settable with Drop_Delay_Errors.

       <b>Plugins_Dir(path,</b> <b>default</b> <b>"/usr/lib64/ganesha")</b>
              Path to the directory containing server specific modules

       <b>Enable_NFS_Stats(bool,</b> <b>default</b> <b>true)</b>
              Whether to collect performance  statistics.  By  default  the  performance  counting  is  enabled.
              Enable_NFS_Stats can be enabled or disabled dynamically via ganesha_stats.

       <b>Enable_Fast_Stats(bool,</b> <b>default</b> <b>false)</b>
              Whether to use fast stats. If enabled this will skip statistics counters collection for per client
              and per export.

       <b>Enable_FSAL_Stats(bool,</b> <b>default</b> <b>false)</b>
              Whether  to  count  and  collect  FSAL  specific performance statistics.  Enable_FSAL_Stats can be
              enabled or disabled dynamically via ganesha_stats

       <b>Enable_FULLV3_Stats(bool,</b> <b>default</b> <b>false)</b>
              Whether to count and collect "detailed statistics" for NFSv3.  Enable_FULLV3_Stats can be  enabled
              or disabled dynamically via ganesha_stats.

       <b>Enable_FULLV4_Stats(bool,</b> <b>default</b> <b>false)</b>
              Whether  to count and collect "detailed statistics" for NFSv4.  Enable_FULLV4_Stats can be enabled
              or disabled dynamically via ganesha_stats.

       <b>Enable_CLNT_AllOps_Stats(bool,</b> <b>default</b> <b>false)</b>
              Whether to count and  collect  statistics  for  all  NFS  operations  requested  by  NFS  clients.
              Enable_CLNT_AllOps_Stats can be enabled or disabled dynamically via ganesha_stats.

       <b>Short_File_Handle(bool,</b> <b>default</b> <b>false)</b>
              Whether  to use short NFS file handle to accommodate VMware NFS client.  Enable this if you have a
              VMware NFSv3 client. VMware NFSv3 client has a max limit of 56 byte file handles.

       <b>Manage_Gids_Expiration(int64,</b> <b>range</b> <b>0</b> <b>to</b> <b>7*24*60*60,</b> <b>default</b> <b>30*60)</b>
              How long the server will trust information it got by calling getgroups() when "Manage_Gids = TRUE"
              is used in a export entry.

       <b>heartbeat_freq(uint32,</b> <b>range</b> <b>0</b> <b>to</b> <b>5000</b> <b>default</b> <b>1000)</b>
              Frequency of dbus health heartbeat in ms.

       <b>Enable_NLM(bool,</b> <b>default</b> <b>true)</b>
              Whether to support the Network Lock Manager protocol.

       <b>Disable_NLM_SHARE(bool,</b> <b>default</b> <b>false)</b>
              This option allows disabling support for the NLM4PROC_SHARE and  NLM4PROC_UNSHARE  RPC  procedures
              that  implement share reservations for NFSv3 via NLM. With this set to true, these procedures will
              fail.

       <b>Blocked_Lock_Poller_Interval(int64,</b> <b>range</b> <b>0</b> <b>to</b> <b>180,</b> <b>default</b> <b>10)</b>
              Polling interval for blocked lock polling thread

       <b>Protocols(enum</b> <b>list,</b> <b>default</b> <b>[3,4,9P])</b>

              <b>Possible</b> <b>values:</b>
                     3, 4, NFS3, NFS4, V3, V4, NFSv3, NFSv4, 9P

              The protocols that Ganesha will listen for.  This is a hard limit, as this list  determines  which
              sockets are opened.  This list can be restricted per export, but cannot be expanded.

       <b>NSM_Use_Caller_Name(bool,</b> <b>default</b> <b>false)</b>
              Whether to use the supplied name rather than the IP address in NSM operations.

       <b>Clustered(bool,</b> <b>default</b> <b>true)</b>
              Whether this Ganesha is part of a cluster of Ganeshas. Its vendor specific option.

       <b>fsid_device(bool,</b> <b>default</b> <b>false)</b>
              Whether to use device major/minor for fsid.

       <b>resolve_fs_retries(uint32_t,</b> <b>range</b> <b>1</b> <b>to</b> <b>1000,</b> <b>default</b> <b>10)</b>
              How many times to attempt stat while resolving POSIX filesystems for exports.

       <b>resolve_fs_delay(uint32_t,</b> <b>range</b> <b>1</b> <b>to</b> <b>1000,</b> <b>default</b> <b>100)</b>
              How long to delay between stat attempts while resolving POSIX filesystems for exports.

       <b>mount_path_pseudo(bool,</b> <b>default</b> <b>false)</b>
              Whether to use Pseudo (true) or Path (false) for NFS v3 and 9P mounts.

              This  option  defaults to false for backward compatibility, however, for new setups, it's strongly
              recommended to be set true since it then means the same server path for the mount is used for both
              v3 and v4.x.

              Note that as an export related option, it seems very desirable to be able to change this on config
              reload, unfortunately, at the moment it is NOT changeable on config reload. A restart is necessary
              to change this.

       <b>Dbus_Name_Prefix</b>
              DBus name prefix. Required if one wants to run multiple ganesha  instances  on  single  host.  The
              prefix  should  be  different  for  every  ganesha instance. If this is set, the dbus name will be
              &lt;prefix&gt;.org.ganesha.nfsd

       <b>Enable_UDP(enum,</b> <b>values</b> <b>[False,</b> <b>True,</b> <b>Mount],</b> <b>default</b> <b>True)</b>
              Whether to create UDP listeners for Mount, NFS, NLM, RQUOTA, and register  them  with  portmapper.
              Set to false, e.g., to run as non-root. Set to Mount to enable only Mount UDP listener.

       <b>Max_Uid_To_Group_Reqs(uint32,</b> <b>range</b> <b>0</b> <b>to</b> <b>INT32_MAX,</b> <b>default</b> <b>0)</b>
              Maximum number of concurrent uid2grp requests that can be made by ganesha.  In environments with a
              slow  Directory  Service Provider, where users are part of large number of groups, and Manage_Gids
              is set to True, uid2grp queries made by ganesha can fail if a large number of  them  are  made  in
              parallel. This option throttles the number of concurrent uid2grp queries that ganesha makes.

       <b>Enable_V3fh_Validation_For_V4(bool,</b> <b>default</b> <b>false)</b>
              Set true to enforce when v3 file handle used for v4

       <b>Readdir_Res_Size(uint32,</b> <b>range</b> <b>4096</b> <b>to</b> <b>64*1024*1024,</b> <b>default</b> <b>32*1024)</b>
              Response  size  of  readdir  request.  Suggested values are 4096,8192,16384 and 32768. Recommended
              <a href="../man16K/16384.16K.html">16384</a>(16K) if readdir(ls command) operation performed on directory which has more files.

       <b>Readdir_Max_Count(uint32,</b> <b>range</b> <b>32</b> <b>to</b> <b>1024*1024,</b> <b>default</b> <b>1024*1024)</b>
              Maximum number of directory  entries  returned  for  a  readdir  request.   Suggested  values  are
              4096,8192,16384  and  32768.  Recommended <a href="../man16K/16384.16K.html">16384</a>(16K) if readdir(ls command) operation performed on
              directory which has more files.

       <b>Getattrs_In_Complete_Read(bool,</b> <b>default</b> <b>true)</b>
              Whether to call extra getattrs after read, in order to check file size and validate the  EOF  flag
              correctness. Needed for ESXi client compatibility when FSAL's don't set it correctly.

       <b>Enable_malloc_trim(bool,</b> <b>default</b> <b>false)</b>
              Set true to enable dynamic malloc_trim support.

       <b>Malloc_trim_MinThreshold(uint32,</b> <b>range</b> <b>1</b> <b>to</b> <b>INT32_MAX,</b> <b>default</b> <b>15*1024)</b>
              Minimum threshold value to call malloc_trim. The malloc_trim will be called once memory allocation
              exceeds  minimum value. Size in MB's.  Note, this setting has no effect when Enable_malloc_trim is
              set to false.

       <b>enable_rpc_cred_fallback(bool,</b> <b>default</b> <b>false)</b>
              if  Manage_Gids=True and group resolution fails, then use gid data from rpc request.

       <b>Enable_Connection_Manager(bool,</b> <b>default</b> <b>false)</b>
              When enabled, a client (from the same source IP address), is allowed to be connected to  a  single
              Ganesha server at a specific point in time.  See details in connection_manager.h

       <b>Connection_Manager_Timeout_sec(uint32,</b> <b>range</b> <b>0</b> <b>to</b> <b>UINT32_MAX,</b> <b>default</b> <b>2*60)</b>
              Timeout for waiting until client is fully disconnected from other Ganesha servers.

       <b>Unique_Server_Id(uint32,</b> <b>range</b> <b>0</b> <b>to</b> <b>UINT32_MAX,</b> <b>default</b> <b>0)</b>
              Unique  value  to  the  ganesha node, to diffrintiate it for the rest of the node. will be used as
              prefix for the Client id, to make sure it is unique between ganesha nodes and file write verifier.
              if 0 is supplied server boot epoch time in seconds will be used

       <b>Allow_Set_Io_Flusher_Fail(bool,</b> <b>default</b> <b>false)</b>
              In linux, we need to set PR_SET_IO_FLUSHER to avoid a potential  deadlock  when  mounting  ganesha
              locally in a system that nears out memory. This is not possible due to lacking permissions in some
              environments  (specifically  unprivileged  containers).  If  you  are  running  in an unprivileged
              environment and you are sure your use case doesn't  require  setting  PR_SET_IO_FLUSHER,  you  can
              enable this option and Ganesha will not fail on startup if it can't set it.  For more info, see: ‐
              <u>https://git.kernel.org/torvalds/p/8d19f1c8e1937baf74e1962aae9f90fa3aeab463</u>

   <b>Parameters</b> <b>controlling</b> <b>TCP</b> <b>DRC</b> <b>behavior:</b>
       <b>DRC_Disabled(bool,</b> <b>default</b> <b>false)</b>
              Whether to disable the DRC entirely.

       <b>DRC_Recycle_Hiwat(uint32,</b> <b>range</b> <b>1</b> <b>to</b> <b>1000000,</b> <b>default</b> <b>1024)</b>
              High water mark for number of DRCs in recycle queue.

       <b>TCP_Npart(uint32,</b> <b>range</b> <b>1</b> <b>to</b> <b>20,</b> <b>default</b> <b>1)</b>
              Number of partitions in the tree for the TCP DRC.

       <b>DRC_TCP_Size(uint32,</b> <b>range</b> <b>1</b> <b>to</b> <b>32767,</b> <b>default</b> <b>1024)</b>
              Maximum number of requests in a transport's DRC.

       <b>DRC_TCP_Cachesz(uint32,</b> <b>range</b> <b>1</b> <b>to</b> <b>255,</b> <b>default</b> <b>127)</b>
              Number of entries in the <a href="../man1/O.1.html">O</a>(1) front-end cache to a TCP Duplicate Request Cache.

       <b>DRC_TCP_Hiwat(uint32,</b> <b>range</b> <b>1</b> <b>to</b> <b>256,</b> <b>default</b> <b>64)</b>
              High water mark for a TCP connection's DRC at which to start retiring entries if we can.

       <b>DRC_TCP_Recycle_Npart(uint32,</b> <b>range</b> <b>1</b> <b>to</b> <b>20,</b> <b>default</b> <b>7)</b>
              Number  of  partitions  in  the recycle tree that holds per-connection DRCs so they can be used on
              reconnection (or recycled.)

       <b>DRC_TCP_Recycle_Expire_S(uint32,</b> <b>range</b> <b>0</b> <b>to</b> <b>60*60,</b> <b>default</b> <b>600)</b>
              How long to wait (in seconds) before freeing the DRC of a disconnected client.

       <b>DRC_TCP_Checksum(bool,</b> <b>default</b> <b>true)</b>
              Whether to use a checksum to match requests as well as the XID

   <b>Parameters</b> <b>controlling</b> <b>UDP</b> <b>DRC</b> <b>behavior:</b>
       <b>DRC_UDP_Npart(uint32,</b> <b>range</b> <b>1</b> <b>to</b> <b>100,</b> <b>default</b> <b>7)</b>
              Number of partitions in the tree for the UDP DRC.

       <b>DRC_UDP_Size(uint32,</b> <b>range</b> <b>512,</b> <b>to</b> <b>32768,</b> <b>default</b> <b>32768)</b>
              Maximum number of requests in the UDP DRC.

       <b>DRC_UDP_Cachesz(uint32,</b> <b>range</b> <b>1</b> <b>to</b> <b>2047,</b> <b>default</b> <b>599)</b>
              Number of entries in the <a href="../man1/O.1.html">O</a>(1) front-end cache to the UDP Duplicate Request Cache.

       <b>DRC_UDP_Hiwat(uint32,</b> <b>range</b> <b>1</b> <b>to</b> <b>32768,</b> <b>default</b> <b>16384)</b>
              High water mark for the UDP DRC at which to start retiring entries if we can

       <b>DRC_UDP_Checksum(bool,</b> <b>default</b> <b>true)</b>
              Whether to use a checksum to match requests as well as the XID.

   <b>Parameters</b> <b>affecting</b> <b>the</b> <b>relation</b> <b>with</b> <b>TIRPC:</b>
       <b>RPC_Max_Connections(uint32,</b> <b>range</b> <b>1</b> <b>to</b> <b>1000000,</b> <b>default</b> <b>1024)</b>
              Maximum number of connections for TIRPC.

       <b>RPC_Idle_Timeout_S(uint32,</b> <b>range</b> <b>0</b> <b>to</b> <b>60*60,</b> <b>default</b> <b>300)</b>
              Idle timeout (seconds). Default to 300 seconds.

       <b>MaxRPCSendBufferSize(uint32,</b> <b>range</b> <b>1</b> <b>to</b> <b>1048576*9,</b> <b>default</b> <b>1048576)</b>
              Size of RPC send buffer.

       <b>MaxRPCRecvBufferSize(uint32,</b> <b>range</b> <b>1</b> <b>to</b> <b>1048576*9,</b> <b>default</b> <b>1048576)</b>
              Size of RPC receive buffer.

       <b>RPC_Max_RDMA_Connections(uint32,</b> <b>range</b> <b>1</b> <b>to</b> <b>1024,</b> <b>default</b> <b>64)</b>
              Maximum number of RDMA connections for TIRPC. Limiting the number of RDMA  connections  to  64  by
              default to avoid memory exhaustion.

       <b>MaxRPCRdmaCredits(uint32,</b> <b>range</b> <b>1</b> <b>to</b> <b>4096,</b> <b>default</b> <b>64)</b>
              Max  credits  of  RDMA  channel,  representing the max number of outstanding NFS operations on the
              channel.

       <b>RPC_Ioq_ThrdMax(uint32,</b> <b>range</b> <b>1</b> <b>to</b> <b>1024*128</b> <b>default</b> <b>200)</b>
              TIRPC ioq max simultaneous io threads

       <b>RPC_GSS_Npart(uint32,</b> <b>range</b> <b>1</b> <b>to</b> <b>1021,</b> <b>default</b> <b>13)</b>
              Partitions in GSS ctx cache table

       <b>RPC_GSS_Max_Ctx(uint32,</b> <b>range</b> <b>1</b> <b>to</b> <b>1048576,</b> <b>default</b> <b>16384)</b>
              Max GSS contexts in cache. Default 16k

       <b>RPC_GSS_Max_Gc(uint32,</b> <b>range</b> <b>1</b> <b>to</b> <b>1048576,</b> <b>default</b> <b>200)</b>
              Max entries to expire in one idle check

   <b>Parameters</b> <b>for</b> <b>TCP:</b>
       <b>Enable_TCP_keepalive(bool,</b> <b>default</b> <b>true)</b>
              Whether tcp sockets should use SO_KEEPALIVE

       <b>TCP_KEEPCNT(UINT32,</b> <b>range</b> <b>0</b> <b>to</b> <b>255,</b> <b>default</b> <b>0</b> <b>-&gt;</b> <b>use</b> <b>system</b> <b>defaults)</b>
              Maximum number of TCP probes before dropping the connection

       <b>TCP_KEEPIDLE(UINT32,</b> <b>range</b> <b>0</b> <b>to</b> <b>65535,</b> <b>default</b> <b>0</b> <b>-&gt;</b> <b>use</b> <b>system</b> <b>defaults)</b>
              Idle time before TCP starts to send keepalive probes

       <b>TCP_KEEPINTVL(INT32,</b> <b>range</b> <b>0</b> <b>to</b> <b>65535,</b> <b>default</b> <b>0</b> <b>-&gt;</b> <b>use</b> <b>system</b> <b>defaults)</b>
              Time between each keepalive probe

   <b>NFS_IP_NAME</b> <b>{}</b>
       <b>Index_Size(uint32,</b> <b>range</b> <b>1</b> <b>to</b> <b>51,</b> <b>default</b> <b>17)</b>
              Configuration for hash table for NFS Name/IP map.

       <b>Expiration_Time(uint32,</b> <b>range</b> <b>1</b> <b>to</b> <b>60*60*24,</b> <b>default</b> <b>3600)</b>
              Expiration time for ip-name mappings.

   <b>NFS_KRB5</b> <b>{}</b>
       <b>PrincipalName(string,</b> <b>default</b> <b>"nfs")</b>

       <b>KeytabPath(path,</b> <b>default</b> <b>"")</b>
              Kerberos keytab.

       <b>CCacheDir(path,</b> <b>default</b> <b>"/var/run/ganesha")</b>
              The ganesha credential cache.

       <b>Active_krb5(bool,</b> <b>default</b> <b>false)</b>
              Whether to activate Kerberos 5. Defaults to true (if Kerberos support is compiled in)

   <b>DIRECTORY_SERVICES</b> <b>{}</b>
       <b>DomainName(string,</b> <b>default</b> <b>"localdomain")</b>
              Domain to use if we aren't using the nfsidmap.

       <b>Idmapping_Active(bool,</b> <b>default</b> <b>true)</b>
              Whether to enable idmapping

       <b>Idmapped_User_Time_Validity(int64,</b> <b>range</b> <b>-1</b> <b>to</b> <b>INT64_MAX,</b> <b>default</b> <b>-1)</b>
              Cache validity in seconds for idmapped-user entries.  The default value  is  -1,  which  indicates
              fallback to older config -- "NFS_CORE_PARAM.Manage_Gids_Expiration", for backward compatibility.

       <b>Idmapped_Group_Time_Validity(int64,</b> <b>range</b> <b>-1</b> <b>to</b> <b>INT64_MAX,</b> <b>default</b> <b>-1)</b>
              Cache  validity  in  seconds for idmapped-group entries.  The default value is -1, which indicates
              fallback to older config -- "NFS_CORE_PARAM.Manage_Gids_Expiration", for backward compatibility.

       <b>Root_Kerberos_Principal(enum</b> <b>list,</b> <b>values</b> <b>[none,nfs,root,host,all],</b> <b>default</b> <b>[all])</b>
              List of primary users/service name parts of the principal that should be assigned root  privilege.
              Setting  "all"  will  assign  root  privilege to all the options.  Setting "none" in the list will
              override the other options in the list.

       <b>Cache_Users_Max_Count(uint32,</b> <b>range</b> <b>0</b> <b>to</b> <b>INT32_MAX,</b> <b>default</b> <b>INT32_MAX)</b>
              Max number of cached idmapped users

       <b>Cache_Groups_Max_Count(uint32,</b> <b>range</b> <b>0</b> <b>to</b> <b>INT32_MAX,</b> <b>default</b> <b>INT32_MAX)</b>
              Max number of cached idmapped groups

       <b>Cache_User_Groups_Max_Count(uint32,</b> <b>range</b> <b>0</b> <b>to</b> <b>INT32_MAX,</b> <b>default</b> <b>INT32_MAX)</b>
              Max number of cached user-groups entries

       <b>Negative_Cache_Time_Validity(int64,</b> <b>range</b> <b>0</b> <b>to</b> <b>INT64_MAX,</b> <b>default</b> <b>300)</b>
              Cache validity in seconds for negative entries

       <b>Negative_Cache_Users_Max_Count(uint32,</b> <b>range</b> <b>0</b> <b>to</b> <b>INT32_MAX,</b> <b>default</b> <b>50000)</b>
              Max number of negative cache users (the ones that failed idmapping)

       <b>Negative_Cache_Groups_Max_Count(uint32,</b> <b>range</b> <b>0</b> <b>to</b> <b>INT32_MAX,</b> <b>default</b> <b>50000)</b>
              Max number of negative cache groups (the ones that failed idmapping)

       <b>Cache_Reaping_Interval(int64,</b> <b>range</b> <b>0</b> <b>to</b> <b>3650*86400,</b> <b>default</b> <b>0)</b>
              Cache reaping interval in seconds for idmapped cached entites.  Its default value  is  set  to  0,
              which basically means that the cache-reaping is disabled.

       <b>Pwutils_Use_Fully_Qualified_Names(bool,</b> <b>default</b> <b>false)</b>
              Whether to use fully qualified names for idmapping with pw-utils

   <b>NFSv4</b> <b>{}</b>
       <b>Sticky_Grace(bool,</b> <b>default</b> <b>false)</b>
              Whether to disable the sticky grace.

       <b>Graceless(bool,</b> <b>default</b> <b>false)</b>
              Whether to disable the NFSv4 grace period.

       <b>Lease_Lifetime(uint32,</b> <b>range</b> <b>1</b> <b>to</b> <b>120,</b> <b>default</b> <b>60)</b>
              The NFSv4 lease lifetime.

       <b>Grace_Period(uint32,</b> <b>range</b> <b>0</b> <b>to</b> <b>180,</b> <b>default</b> <b>90)</b>
              The NFS grace period.

       <b>DomainName(string,</b> <b>default</b> <b>NULL)</b>
              This config param is deprecated. Use <u>DomainName</u> in <u>DIRECTORY_SERVICES</u> config section.

       <b>IdmapConf(path,</b> <b>default</b> <b>"/etc/idmapd.conf")</b>
              Path to the idmap configuration file.

       <b>UseGetpwnam(bool,</b> <b>default</b> <b>false</b> <b>if</b> <b>using</b> <b>idmap,</b> <b>true</b> <b>otherwise)</b>
              Whether to use local password (PAM, on Linux) rather than nfsidmap.

       <b>Allow_Numeric_Owners(bool,</b> <b>default</b> <b>true)</b>
              Whether to allow bare numeric IDs in NFSv4 owner and group identifiers.

       <b>Only_Numeric_Owners(bool,</b> <b>default</b> <b>false)</b>
              Whether to ONLY use bare numeric IDs in NFSv4 owner and group identifiers.

       <b>Delegations(bool,</b> <b>default</b> <b>false)</b>
              Whether to allow delegations.

       <b>Deleg_Recall_Retry_Delay(uint32_t,</b> <b>range</b> <b>0</b> <b>to</b> <b>10,</b> <b>default</b> <b>1)</b>
              Delay after which server will retry a recall in case of failures

       <b>pnfs_mds(bool,</b> <b>default</b> <b>false)</b>
              Whether  this a pNFS MDS server.  For FSAL Gluster, if this is true, set pnfs_mds in gluster block
              as well.

       <b>pnfs_ds(bool,</b> <b>default</b> <b>false)</b>
              Whether this a pNFS DS server.

       <b>RecoveryBackend(enum,</b> <b>default</b> <b>"fs")</b>
              Use different backend for client info:

              • fs : filesystem

              • fs_ng: filesystem (better resiliency)

              • rados_kv : rados key-value

              • rados_ng : rados key-value (better resiliency)

              • rados_cluster: clustered rados backend (active/active)

       <b>RecoveryRoot(path,</b> <b>default</b> <b>"/var/lib/nfs/ganesha")</b>
              Specify the root recovery directory for fs or fs_ng recovery backends.

       <b>RecoveryDir(path,</b> <b>default</b> <b>"v4recov")</b>
              Specify the recovery directory name for fs or fs_ng recovery backends.

       <b>RecoveryOldDir(path,</b> <b>"v4old")</b>
              Specify the recovery old directory name for fs recovery backend.

       <b>Minor_Versions(enum</b> <b>list,</b> <b>values</b> <b>[0,</b> <b>1,</b> <b>2],</b> <b>default</b> <b>[0,</b> <b>1,</b> <b>2])</b>
              List of supported NFSV4 minor version numbers.

       <b>Slot_Table_Size(uint32,</b> <b>range</b> <b>1</b> <b>to</b> <b>1024,</b> <b>default</b> <b>64)</b>
              Size of the NFSv4.1 slot table

       <b>Enforce_UTF8_Validation(bool,</b> <b>default</b> <b>false)</b>
              Set true to enforce valid UTF-8 for path components and compound tags

       <b>Max_Client_Ids(uint32,</b> <b>range</b> <b>0</b> <b>to</b> <b>UINT32_MAX,</b> <b>default</b> <b>0)</b>
              Specify a max limit on number of NFS4 ClientIDs supported by the server. With filesystem  recovery
              backend,  each  ClientID translates to one directory. With certain workloads, this could result in
              reaching inode limits of the filesystem that /var/lib/nfs/ganesha is part of. The above limit  can
              be used as a guardrail to prevent getting into this situation.

       <b>Server_Scope(string,</b> <b>default</b> <b>"")</b>
              Specify  the  value  which  is  common  for  all  cluster nodes.  For e.g., Name of the cluster or
              cluster-id.

       <b>Server_Owner(string,</b> <b>default</b> <b>"")</b>
              Connections to servers with the same server owner can be shared by the client. This is  advertised
              to the client on EXCHANGE_ID.

       <b>Max_Open_States_Per_Client(uint32,</b> <b>range</b> <b>0</b> <b>to</b> <b>UINT32_MAX,</b> <b>default</b> <b>0)</b>
              Specify the maximum number of files that could be opened by a client. One misbehaving client could
              potentially  open multiple files and exhaust the open FD limit allowed by ganesha's cgroup. Beyond
              this limit, client gets denied if it tries to open too many files. To disable set to ZERO.

       <b>Expired_Client_Threshold(uint32,</b> <b>range</b> <b>0</b> <b>to</b> <b>256,</b> <b>default</b> <b>16)</b>
              Specify the threshold of number of expired clients to be kept in memory post lease period,  unless
              the  number of unresponsive clients go over this limit. Ganesha keeps track of all expired clients
              in LRU fashion and picks the oldest expired client when the number  of  clients  exceeds  the  max
              limit.   This  allows  Ganesha to retain the open &amp; lock state and there by helping certain client
              workloads like MLPerf to run smoothly, even after a network partition.

       <b>Max_Open_Files_For_Expired_Client(uint32,</b> <b>range</b> <b>0</b> <b>to</b> <b>UINT32_MAX,</b> <b>default</b> <b>4000)</b>
              Specify the maximum number of open files that an unresponsive  client  could  have,  beyond  which
              Ganesha  won't  keep  client  intact  in  memory  and  expire  it.   Comes  to  play if the config
              Expired_Client_Threshold is not set to ZERO.

       <b>Max_Alive_Time_For_Expired_Client(uint64,</b> <b>range</b> <b>0</b> <b>to</b> <b>UINT64_MAX,</b> <b>default</b> <b>86400)</b>
              Specify the max amount of time till which to keep the unresponsive client in memory, beyond  which
              Ganesha   would   start   reaping   and   expire   it   off.    Comes   to   play  if  the  config
              Expired_Client_Threshold is not set to ZERO.

   <b>RADOS_KV</b> <b>{}</b>
       <b>ceph_conf(string,</b> <b>no</b> <b>default)</b>
              Connection to ceph cluster, should be file path for ceph configuration.

       <b>userid(path,</b> <b>no</b> <b>default)</b>
              User ID to ceph cluster.

       <b>namespace(string,</b> <b>default</b> <b>NULL)</b>
              RADOS Namespace in which to store objects

       <b>pool(string,</b> <b>default</b> <b>"nfs-ganesha")</b>
              Pool for client info.

       <b>grace_oid(string,</b> <b>default</b> <b>"grace")</b>
              Name of the object containing the rados_cluster grace DB

       <b>nodeid(string,</b> <b>default</b> <b>result</b> <b>of</b> <b>gethostname())</b>
              Unique node identifier within rados_cluster

   <b>RADOS_URLS</b> <b>{}</b>
       <b>ceph_conf(string,</b> <b>no</b> <b>default)</b>
              Connection to ceph cluster, should be file path for ceph configuration.

       <b>userid(path,</b> <b>no</b> <b>default)</b>
              User ID to ceph cluster.

       <b>watch_url(url,</b> <b>no</b> <b>default)</b>
              rados:// URL to watch for notifications of config changes. When a notification  is  received,  the
              server will issue a SIGHUP to itself.

   <b>FSAL_LIST</b> <b>{}</b>
       <b>name(string,</b> <b>no</b> <b>default)</b>
              This  allows listing of the FSALs that will be used. This assures that the config blocks for those
              FSALs will not result in an error if no exports are configured using  that  FSAL.  This  parameter
              takes a list of FSAL names and the parameter may be listed multiple times.

                                                  Apr 18, 2025                            <u><a href="../man8/GANESHA-CORE-CONFIG.8.html">GANESHA-CORE-CONFIG</a></u>(8)
</pre>
 </div>
</div></section>
</div>
</body>
</html>