<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>acpid - Advanced Configuration and Power Interface event daemon</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/acpid">acpid_2.0.34-1ubuntu2_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       acpid - Advanced Configuration and Power Interface event daemon

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>acpid</b> [<u>options</u>]

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>acpid</b>  is  designed  to  notify  user-space  programs of ACPI events.  <b>acpid</b> should be started during the
       system boot, and  will  run  as  a  background  process,  by  default.   It  will  open  an  events  file
       (<u>/proc/acpi/event</u> by default) and attempt to read whole lines which represent ACPI events.  If the events
       file  does  not exist, <b>acpid</b> will attempt to connect to the Linux kernel via the input layer and netlink.
       When an ACPI event is received from one of these sources, <b>acpid</b> will examine a list of rules, and execute
       the rules that match the event. <b>acpid</b> will ignore  all  incoming  ACPI  events  if  a  lock  file  exists
       (<u>/var/lock/acpid</u> by default).

       <u>Rules</u>  are  defined  by  simple  configuration  files.   <b>acpid</b>  will  look  in  a configuration directory
       (<u>/etc/acpi/events</u> by default), and parse all regular files with names that consist entirely of upper  and
       lower  case  letters, digits, underscores, and hyphens (similar to <b><a href="../man8/run-parts.8.html">run-parts</a></b>(8)) that do not begin with a
       period ('.') or end with a tilde (~).  Each file must define two things: an <u>event</u>  and  an  <u>action</u>.   Any
       blank  lines,  or  lines  where  the  first  character is a hash ('#') are ignored.  Extraneous lines are
       flagged as warnings, but are not fatal.  Each line has three tokens: the key, a literal equal  sign,  and
       the  value.   The  key can be up to 63 characters, and is case-insensitive (but whitespace matters).  The
       value can be up to 511 characters, and is case and whitespace sensitive.

       The event value is a regular expression (see <b><a href="../man3/regcomp.3.html">regcomp</a></b>(3)), against which events are matched.

       The action value is a commandline, which will be invoked via <u><a href="file:/bin/sh">/bin/sh</a></u> whenever an event matching the  rule
       in  question  occurs.   The commandline may include shell-special characters, and they will be preserved.
       The only special characters in an action value are "%" escaped.  The string "%e" will be replaced by  the
       literal  text  of  the  event  for  which the action was invoked.  This string may contain spaces, so the
       commandline must take care to quote the "%e" if it wants  a  single  token.   The  string  "%%"  will  be
       replaced by a literal "%".  All other "%" escapes are reserved, and will cause a rule to not load.

       This  feature  allows multiple rules to be defined for the same event (though no ordering is guaranteed),
       as well as one rule to be defined for multiple events.  To force <b>acpid</b> to reload the rule  configuration,
       send it a SIGHUP.

       The  pseudo-action <u>&lt;drop&gt;</u> causes the event to be dropped completely and no further processing undertaken;
       clients connecting via the UNIX domain socket (see below) will not be notified of the event. This may  be
       useful  on  some  machines,  such  as  certain laptops which generate spurious battery events at frequent
       intervals. The name of this pseudo-action may be redefined with a commandline option.

       In addition to rule files, <b>acpid</b> also accepts connections on a UNIX domain socket  (<u>/var/run/acpid.socket</u>
       by  default).   Any  application may connect to this socket.  Once connected, <b>acpid</b> will send the text of
       all ACPI events to the client.  The client has the responsibility of filtering for messages  about  which
       it cares.  <b>acpid</b> will not close the client socket except in the case of a SIGHUP or <b>acpid</b> exiting.

       For  faster  startup, this socket can be passed in as stdin so that <b>acpid</b> need not create the socket.  In
       addition, if a socket is passed in as stdin, <b>acpid</b> will not daemonize.  It will  be  run  in  foreground.
       This behavior is provided to support <b><a href="../man1/systemd.1.html">systemd</a></b>(1).

       <b>acpid</b> will log all of its activities, as well as the stdout and stderr of any actions, to syslog.

       All the default files and directories can be changed with commandline options.

</pre><h4><b>OPTIONS</b></h4><pre>
       <b>-c</b>, <b>--confdir</b> <u>directory</u>
                   This option changes the directory in which <b>acpid</b> looks for rule configuration files.  Default
                   is <u>/etc/acpi/events</u>.

       <b>-C</b>, <b>--clientmax</b> <u>number</u>
                   This  option  changes  the maximum number of non-root socket connections which can be made to
                   the <b>acpid</b> socket.  Default is <u>256</u>.

       <b>-d</b>, <b>--debug</b> This option increases the <b>acpid</b> debug level by one.

       <b>-e</b>, <b>--eventfile</b> <u>filename</u>
                   This  option  changes  the  event  file  from  which  <b>acpid</b>   reads   events.    Default   is
                   <u>/proc/acpi/event</u>.

       <b>-n</b>, <b>--netlink</b>
                   This  option  forces <b>acpid</b> to use the Linux kernel input layer and netlink interface for ACPI
                   events.

       <b>-f</b>, <b>--foreground</b>
                   This option keeps <b>acpid</b> in the foreground by not forking at startup,  and  makes  it  log  to
                   stderr instead of syslog.

       <b>-l</b>, <b>--logevents</b>
                   This option tells <b>acpid</b> to log information about all events and actions.

       <b>-L</b>, <b>--lockfile</b> <u>filename</u>
                   This option changes the lock file used to stop event processing.  Default is <u>/var/lock/acpid</u>.

       <b>-g</b>, <b>--socketgroup</b> <u>groupname</u>
                   This  option  changes  the group ownership of the UNIX domain socket to which <b>acpid</b> publishes
                   events.

       <b>-m</b>, <b>--socketmode</b> <u>mode</u>
                   This option changes the permissions of the  UNIX  domain  socket  to  which  <b>acpid</b>  publishes
                   events.  Default is <u>0666</u>.

       <b>-s</b>, <b>--socketfile</b> <u>filename</u>
                   This  option  changes  the  name  of  the  UNIX  domain socket which <b>acpid</b> opens.  Default is
                   <u>/var/run/acpid.socket</u>.

       <b>-S</b>, <b>--nosocket</b>
                   This option tells <b>acpid</b> not to open a UNIX domain socket.  This overrides the <u>-s</u> option,  and
                   negates all other socket options.

       <b>-p</b>, <b>--pidfile</b> <u>filename</u>
                   This  option  tells  <b>acpid</b>  to use the specified file as its pidfile.  If the file exists, it
                   will be removed and over-written.  Default is <u>/var/run/acpid.pid</u>.

       <b>-r</b>, <b>--dropaction</b> <u>action</u>
                   This option defines the pseudo-action which tells <b>acpid</b> to abort all processing of an  event,
                   including client notifications.  Default is <u>&lt;drop&gt;</u>.

       <b>-t</b>, <b>--tpmutefix</b>
                   This option enables special handling of the mute button for certain ThinkPad models with mute
                   LEDs  that  get out of sync with the mute state when the mute button is held down.  With this
                   option, the mute button will generate the following events in sync with the number of presses
                   (and, by extension, the state of the LED):

                   button/mute MUTE (key pressed) K
                   button/mute MUTE (key released) K

       <b>-v</b>, <b>--version</b>
                   Print version information and exit.

       <b>-h</b>, <b>--help</b>  Show help and exit.

</pre><h4><b>EXAMPLE</b></h4><pre>
       This example will shut down your system if you press the power button.

       Create a file named /etc/acpi/events/power that contains the following:

              event=button/power
              action=/etc/acpi/power.sh "%e"

       Then create a file named /etc/acpi/power.sh that contains the following:

              <a href="file:/sbin/shutdown">/sbin/shutdown</a> -h now "Power button pressed"

       Now, when <b>acpid</b> is running, a press of the power button will cause the rule in /etc/acpi/events/power  to
       trigger the script in /etc/acpi/power.sh.  The script will then shut down the system.

</pre><h4><b>TROUBLESHOOTING</b></h4><pre>
       <b>acpid</b>  is  a  simple  program that runs scripts in response to ACPI events from the kernel.  When there's
       trouble, the problem is rarely with <b>acpid</b> itself.  The following are some  suggestions  for  finding  the
       most common sources of ACPI-related problems.

       When  troubleshooting  <b>acpid</b>,  it is important to be aware that other parts of a system might be handling
       ACPI events.  <b><a href="../man1/systemd.1.html">systemd</a></b>(1) is capable of handling the power  switch  and  various  other  events  that  are
       commonly  handled  by  <b>acpid</b>.   See  the  description of HandlePowerKey in <b><a href="../man5/logind.conf.5.html">logind.conf</a></b>(5) for more.  Some
       window managers also take over <b>acpid</b>'s normal handling of the power button and other events.

       <b><a href="../man8/kacpimon.8.html">kacpimon</a></b>(8) can be used to verify that the expected ACPI events are coming in.   See  the  man  page  for
       <b><a href="../man8/kacpimon.8.html">kacpimon</a></b>(8)  for  the  proper  procedure.   If  the events aren't coming in, you've probably got a kernel
       driver issue.

       If the expected events are coming in, then you'll need to  check  and  see  if  your  window  manager  is
       responsible  for  handling  these  events.   Some are, some aren't.  (E.g. in Ubuntu 14.04 (Unity/GNOME),
       there are settings for the laptop lid in the System Settings &gt; Power &gt; "When the lid is closed"  fields.)
       If  your  window  manager is responsible for handling the problematic event, and you've got it configured
       properly, then you may have a window manager issue.

       Lastly, take a look in <u>/etc/acpi/events</u> (see above).  Is there a configuration  file  in  there  for  the
       event  in  question  (e.g.  /etc/acpi/events/lidbtn  for  laptop  lid open/close events)?  Is it properly
       connected to a script (e.g. /etc/acpi/lid.sh)?  Is that script working?  It's not unusual  for  an  <b>acpid</b>
       script to check and see if there is a window manager running, then do nothing if there is.  This means it
       is up to the window manager to handle this event.

</pre><h4><b>DEPENDENCIES</b></h4><pre>
       <b>acpid</b> should work on any linux kernel released since 2003.

</pre><h4><b>FILES</b></h4><pre>
       <b>/proc/acpi/event</b>
       <b>/dev/input/event*</b>
       <b>/etc/acpi/</b>
       <b>/var/run/acpid.socket</b>
       <b>/var/run/acpid.pid</b>
       <b>/var/lock/acpid</b>

</pre><h4><b>BUGS</b></h4><pre>
       There are no known bugs.  To file bug reports, see <b>PROJECT</b> <b>WEBSITE</b> below.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man3/regcomp.3.html">regcomp</a></b>(3) <b><a href="../man1/sh.1.html">sh</a></b>(1) <b><a href="../man2/socket.2.html">socket</a></b>(2) <b><a href="../man2/connect.2.html">connect</a></b>(2) <b><a href="../man1/init.1.html">init</a></b>(1) <b><a href="../man1/systemd.1.html">systemd</a></b>(1) <b><a href="../man8/acpi_listen.8.html">acpi_listen</a></b>(8) <b><a href="../man8/kacpimon.8.html">kacpimon</a></b>(8)

</pre><h4><b>PROJECT</b> <b>WEBSITE</b></h4><pre>
       <a href="http://sourceforge.net/projects/acpid2/">http://sourceforge.net/projects/acpid2/</a>

</pre><h4><b>AUTHORS</b></h4><pre>
       Ted Felix &lt;<a href="mailto:ted@tedfelix.com">ted@tedfelix.com</a>&gt;
       Tim Hockin &lt;<a href="mailto:thockin@hockin.org">thockin@hockin.org</a>&gt;
       Andrew Henroid

                                                                                                        <u><a href="../man8/acpid.8.html">acpid</a></u>(8)
</pre>
 </div>
</div></section>
</div>
</body>
</html>