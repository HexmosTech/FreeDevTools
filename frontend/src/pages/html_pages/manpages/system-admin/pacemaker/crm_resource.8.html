<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pacemaker - Part of the Pacemaker cluster resource manager</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/pacemaker-cli-utils">pacemaker-cli-utils_3.0.0-2ubuntu1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       Pacemaker - Part of the Pacemaker cluster resource manager

</pre><h4><b>SYNOPSIS</b></h4><pre>
       crm_resource &lt;query&gt;|&lt;command&gt; [options]

</pre><h4><b>DESCRIPTION</b></h4><pre>
       crm_resource - perform tasks related to Pacemaker cluster resources

</pre><h4><b>OPTIONS</b></h4><pre>
   <b>Help</b> <b>Options:</b>
       <b>-h</b>, <b>--help</b>
              Show help options

       <b>--help-all</b>
              Show all help options

       <b>--help-output</b>
              Show output help

       <b>--help-queries</b>
              Show query help

       <b>--help-commands</b>
              Show command help

       <b>--help-locations</b>
              Show location help

       <b>--help-advanced</b>
              Show advanced option help

       <b>--help-additional</b>
              Show additional options

   <b>Output</b> <b>Options:</b>
       <b>--output-as</b>=<u>FORMAT</u>
              Specify output format as one of: text (default), xml

       <b>--output-to</b>=<u>DEST</u>
              Specify file name for output (or "-" for stdout)

   <b>Queries:</b>
       <b>-L</b>, <b>--list</b>
              List all cluster resources with status

       <b>-l</b>, <b>--list-raw</b>
              List IDs of all instantiated resources (individual members rather than groups etc.)

       <b>-O</b>, <b>--list-operations</b>
              List active resource operations, optionally filtered by <b>--resource</b> and/or <b>--node</b>

       <b>-o</b>, <b>--list-all-operations</b>
              List all resource operations, optionally filtered by <b>--resource</b> and/or <b>--node</b>

       <b>--list-options</b>=<u>TYPE</u>
              List  all  available  options  of  the  given type.  Allowed values: primitive (primitive resource
              meta-attributes), fencing (parameters common to all fencing resources)

       <b>--list-standards</b>
              List supported standards

       <b>--list-ocf-providers</b>
              List all available OCF providers

       <b>--list-agents</b>=<u>STD</u>:PROV
              List all agents available for the named standard and/or provider

       <b>--list-ocf-alternatives</b>=<u>AGENT</u>
              List all available providers for the named OCF agent

       <b>--show-metadata</b>=<u>SPEC</u>
              Show the metadata for the named class:provider:agent

       <b>-q</b>, <b>--query-xml</b>
              Show XML configuration of resource (after any template expansion)

       <b>-w</b>, <b>--query-xml-raw</b>
              Show XML configuration of resource (before any template expansion)

       <b>-g</b>, <b>--get-parameter</b>=<u>PARAM</u>
              Display named parameter  for  resource  (use  instance  attribute  unless  <b>--element</b>,  <b>--meta</b>,  or
              <b>--utilization</b> is specified)

       <b>-W</b>, <b>--locate</b>
              Show node(s) currently running resource

       <b>-a</b>, <b>--constraints</b>
              Display  the  location  and colocation constraints that apply to a resource, and if <b>--recursive</b> is
              specified, to the resources directly or indirectly involved in those colocations.   If  the  named
              resource  is  part  of  a  group,  or  a  clone or bundle instance, constraints for the collective
              resource will be shown unless <b>--force</b> is given.

       <b>-A</b>, <b>--stack</b>
              Equivalent to <b>--constraints</b> <b>--recursive</b>

       <b>-Y</b>, <b>--why</b>
              Show why resources are not running, optionally filtered by <b>--resource</b> and/or <b>--node</b>

   <b>Commands:</b>
       <b>--validate</b>=<u>LEVEL</u>
              Validate resource configuration by calling agent's validate-all action. The configuration  may  be
              specified  either  by giving an existing resource name with <b>-r</b>, or by specifying <b>--class</b>, <b>--agent</b>,
              and <b>--provider</b> arguments, along with any number of <b>--option</b> arguments. An optional LEVEL  argument
              can be given to control the level of checking performed.

       <b>-C</b>, <b>--cleanup</b>
              If  resource  has  any  past  failures,  clear  its history and fail count. Optionally filtered by
              <b>--resource</b>, <b>--node</b>, <b>--operation</b> and <b>--interval</b> (otherwise all). <b>--operation</b> and  <b>--interval</b>  apply
              to fail counts, but entire history is always clear, to allow current state to be rechecked. If the
              named  resource  is  part of a group, or one numbered instance of a clone or bundled resource, the
              clean-up applies to the whole collective resource unless <b>--force</b> is given.

       <b>-R</b>, <b>--refresh</b>
              Delete resource's history (including failures) so  its  current  state  is  rechecked.  Optionally
              filtered  by  <b>--resource</b>  and <b>--node</b> (otherwise all). If the named resource is part of a group, or
              one numbered instance of a clone or bundled resource, the refresh applies to the whole  collective
              resource unless <b>--force</b> is given.

       <b>-p</b>, <b>--set-parameter</b>=<u>PARAM</u>
              Set  named  parameter for resource (requires <b>-v</b>). Use instance attribute unless <b>--element</b>, <b>--meta</b>,
              or <b>--utilization</b> is specified.

       <b>-d</b>, <b>--delete-parameter</b>=<u>PARAM</u>
              Delete named  parameter  for  resource.  Use  instance  attribute  unless  <b>--element</b>,  <b>--meta</b>  or,
              <b>--utilization</b> is specified.

   <b>Locations:</b>
       <b>-M</b>, <b>--move</b>
              Create  a  constraint  to move resource. If <b>--node</b> is specified, the constraint will be to move to
              that node, otherwise it will be to ban the current node. Unless <b>--force</b>  is  specified  this  will
              return an error if the resource is already running on the specified node. If <b>--force</b> is specified,
              this  will  always ban the current node.  Optional: <b>--lifetime</b>, <b>--promoted</b>. NOTE: This may prevent
              the resource from running on its previous location until the implicit  constraint  expires  or  is
              removed with <b>--clear</b>.

       <b>-B</b>, <b>--ban</b>
              Create a constraint to keep resource off a node.  Optional: <b>--node</b>, <b>--lifetime</b>, <b>--promoted</b>.  NOTE:
              This  will  prevent  the  resource from running on the affected node until the implicit constraint
              expires or is removed with <b>--clear</b>. If <b>--node</b> is not specified, it defaults to the node  currently
              running the resource for primitives and groups, or the promoted instance of promotable clones with
              promoted-max=1 (all other situations result in an error as there is no sane default).

       <b>-U</b>, <b>--clear</b>
              Remove  all  constraints  created  by  the  <b>--ban</b>  and/or  <b>--move</b>  commands. Requires: <b>--resource</b>.
              Optional: <b>--node</b>, <b>--promoted</b>, <b>--expired</b>. If <b>--node</b> is not specified, all  constraints  created  by
              <b>--ban</b>  and <b>--move</b> will be removed for the named resource. If <b>--node</b> and <b>--force</b> are specified, any
              constraint created by <b>--move</b> will be cleared, even if  it  is  not  for  the  specified  node.  If
              <b>--expired</b> is specified, only those constraints whose lifetimes have expired will be removed.

       <b>-e</b>, <b>--expired</b>
              Modifies the <b>--clear</b> argument to remove constraints with expired lifetimes.

       <b>-u</b>, <b>--lifetime</b>=<u>TIMESPEC</u>
              Lifespan    (as    ISO    8601    duration)   of   created   constraints   (with   <b>-B</b>,   <b>-M</b>)   see
              https://en.wikipedia.org/wiki/ISO_8601#Durations)

       <b>--promoted</b>
              Limit scope of command to promoted role (with <b>-B</b>, <b>-M</b>, <b>-U</b>). For  <b>-B</b>  and  <b>-M</b>,  previously  promoted
              instances may remain active in the unpromoted role.

       <b>--master</b>
              Deprecated: Use <b>--promoted</b> instead

   <b>Advanced:</b>
       <b>-D</b>, <b>--delete</b>
              (Advanced) Delete a resource from the CIB. Required: <b>-t</b>

       <b>-F</b>, <b>--fail</b>
              (Advanced) Tell the cluster this resource has failed

       <b>--restart</b>
              (Advanced) Tell the cluster to restart this resource and anything that depends on it

       <b>--wait</b> (Advanced) Wait until the cluster settles into a stable state

       <b>--digests</b>
              (Advanced)  Show  parameter  hashes  that  Pacemaker  uses  to  detect configuration changes (only
              accurate if there is resource history  on  the  specified  node).  Required:  <b>--resource</b>,  <b>--node</b>.
              Optional:  any  NAME=VALUE  parameters will be used to override the configuration (to see what the
              hash would be with those changes).

       <b>--force-demote</b>
              (Advanced) Bypass the cluster and  demote  a  resource  on  the  local  node.  Unless  <b>--force</b>  is
              specified,  this  will  refuse  to  do so if the cluster believes the resource is a clone instance
              already running on the local node.

       <b>--force-stop</b>
              (Advanced) Bypass the cluster and stop a resource on the local node

       <b>--force-start</b>
              (Advanced) Bypass the cluster and start a resource on the local node. Unless <b>--force</b> is specified,
              this will refuse to do so if the cluster believes the resource is a clone instance already running
              on the local node.

       <b>--force-promote</b>
              (Advanced) Bypass the cluster and promote  a  resource  on  the  local  node.  Unless  <b>--force</b>  is
              specified,  this  will  refuse  to  do so if the cluster believes the resource is a clone instance
              already running on the local node.

       <b>--force-check</b>=<u>LEVEL</u>
              (Advanced) Bypass the cluster and check the state of a resource on the  local  node.  An  optional
              LEVEL argument can be given to control the level of checking performed.

   <b>Additional</b> <b>Options:</b>
       <b>-N</b>, <b>--node</b>=<u>NAME</u>
              Node name

       <b>--recursive</b>
              Follow colocation chains when using <b>--set-parameter</b> or <b>--constraints</b>

       <b>-t</b>, <b>--resource-type</b>=<u>ELEMENT</u>
              Resource XML element (primitive, group, etc.) (with <b>-D</b>)

       <b>-v</b>, <b>--parameter-value</b>=<u>PARAM</u>
              Value to use with <b>-p</b>

       <b>-m</b>, <b>--meta</b>
              Use resource meta-attribute instead of instance attribute (with <b>-p</b>, <b>-g</b>, <b>-d</b>)

       <b>-z</b>, <b>--utilization</b>
              Use resource utilization attribute instead of instance attribute (with <b>-p</b>, <b>-g</b>, <b>-d</b>)

       <b>--element</b>
              Use resource element attribute instead of instance attribute (with <b>-p</b>, <b>-g</b>, <b>-d</b>)

       <b>-n</b>, <b>--operation</b>=<u>OPERATION</u>
              Operation to clear instead of all (with <b>-C</b> <b>-r</b>)

       <b>-I</b>, <b>--interval</b>=<u>N</u>
              Interval of operation to clear (default 0) (with <b>-C</b> <b>-r</b> <b>-n</b>)

       <b>--class</b>=<u>CLASS</u>
              The  standard  the  resource  agent conforms to (for example, ocf).  Use with <b>--agent</b>, <b>--provider</b>,
              <b>--option</b>, and <b>--validate</b>.

       <b>--agent</b>=<u>AGENT</u>
              The agent to use (for example, IPaddr). Use with <b>--class</b>, <b>--provider</b>, <b>--option</b>, and <b>--validate</b>.

       <b>--provider</b>=<u>PROVIDER</u>
              The vendor that supplies the resource agent (for example, heartbeat). Use with  <b>--class</b>,  <b>--agent</b>,
              <b>--option</b>, and <b>--validate</b>.

       <b>--option</b>=<u>PARAM</u>
              Specify a device configuration parameter as NAME=VALUE (may be specified multiple times). Use with
              <b>--validate</b> and without the <b>-r</b> option.

       <b>-s</b>, <b>--set-name</b>=<u>ID</u>
              (Advanced) XML ID of attributes element to use (with <b>-p</b>, <b>-d</b>)

       <b>-i</b>, <b>--nvpair</b>=<u>ID</u>
              (Advanced) XML ID of nvpair element to use (with <b>-p</b>, <b>-d</b>)

       <b>-T</b>, <b>--timeout</b>=<u>N</u>
              (Advanced) Abort if command does not finish in this time (with <b>--restart</b>, <b>--wait</b>, <b>--force-</b>*)

       <b>--all</b>  List all options, including advanced and deprecated (with <b>--list-options</b>)

       <b>-f</b>, <b>--force</b>
              Force the action to be performed. See help for individual commands for additional behavior.

   <b>Application</b> <b>Options:</b>
       -$, <b>--version</b>
              Display software version and exit

       <b>-V</b>, <b>--verbose</b>
              Increase debug output (may be specified multiple times)

       <b>-Q</b>, <b>--quiet</b>
              Be less descriptive in output.

       <b>-r</b>, <b>--resource</b>=<u>ID</u>
              Resource ID

</pre><h4><b>EXAMPLES</b></h4><pre>
       List the available OCF agents:

              # crm_resource --list-agents ocf

       List the available OCF agents from the linux-ha project:

              # crm_resource --list-agents ocf:heartbeat

       Move 'myResource' to a specific node:

              # crm_resource --resource myResource --move --node altNode

       Allow (but not force) 'myResource' to move back to its original location:

              # crm_resource --resource myResource --clear

       Stop 'myResource' (and anything that depends on it):

              # crm_resource --resource myResource --set-parameter target-role--meta --parameter-value Stopped

       Tell  the  cluster not to manage 'myResource' (the cluster will not attempt to start or stop the resource
       under any circumstances; useful when performing maintenance tasks on a resource):

              # crm_resource --resource myResource --set-parameter is-managed--meta --parameter-value false

       Erase the operation history of 'myResource' on 'aNode' (the cluster will 'forget' the  existing  resource
       state,  including  any  errors,  and  attempt  to  recover theresource; useful when a resource had failed
       permanently and has been repaired by an administrator):

              # crm_resource --resource myResource --cleanup --node aNode

</pre><h4><b>AUTHOR</b></h4><pre>
       Written by Andrew Beekhof and the Pacemaker project contributors

Pacemaker 3.0.0                                     June 2025                                       <u><a href="../man8/PACEMAKER.8.html">PACEMAKER</a></u>(8)
</pre>
 </div>
</div></section>
</div>
</body>
</html>