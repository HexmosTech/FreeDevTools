<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pacemaker - Part of the Pacemaker cluster resource manager</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/pacemaker-cli-utils">pacemaker-cli-utils_3.0.0-2ubuntu1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       Pacemaker - Part of the Pacemaker cluster resource manager

</pre><h4><b>SYNOPSIS</b></h4><pre>
       crm_simulate &lt;data source&gt; &lt;operation&gt; [options]

</pre><h4><b>DESCRIPTION</b></h4><pre>
       crm_simulate - simulate a Pacemaker cluster's response to events

</pre><h4><b>OPTIONS</b></h4><pre>
   <b>Help</b> <b>Options:</b>
       <b>-h</b>, <b>--help</b>
              Show help options

       <b>--help-all</b>
              Show all help options

       <b>--help-output</b>
              Show output help

       <b>--help-operations</b>
              Show operations options

       <b>--help-synthetic</b>
              Show synthetic cluster event options

       <b>--help-artifact</b>
              Show artifact options

       <b>--help-source</b>
              Show data source options

   <b>Output</b> <b>Options:</b>
       <b>--output-as</b>=<u>FORMAT</u>
              Specify output format as one of: text (default), xml

       <b>--output-to</b>=<u>DEST</u>
              Specify file name for output (or "-" for stdout)

   <b>Operations:</b>
       <b>-R</b>, <b>--run</b>
              Process the supplied input and show what actions the cluster will take in response

       <b>-S</b>, <b>--simulate</b>
              Like <b>--run</b>, but also simulate taking those actions and show the resulting new status

       <b>-X</b>, <b>--in-place</b>
              Like <b>--simulate</b>, but also store the results back to the input file

       <b>-A</b>, <b>--show-attrs</b>
              Show node attributes

       <b>-c</b>, <b>--show-failcounts</b>
              Show resource fail counts

       <b>-s</b>, <b>--show-scores</b>
              Show allocation scores

       <b>-U</b>, <b>--show-utilization</b>
              Show utilization information

       <b>-P</b>, <b>--profile</b>=<u>DIR</u>
              Process all the XML files in the named directory to create profiling data

       <b>-N</b>, <b>--repeat</b>=<u>N</u>
              With <b>--profile</b>, repeat each test N times and print timings

   <b>Synthetic</b> <b>Cluster</b> <b>Events:</b>
       <b>-u</b>, <b>--node-up</b>=<u>NODE</u>
              Simulate bringing a node online

       <b>-d</b>, <b>--node-down</b>=<u>NODE</u>
              Simulate taking a node offline

       <b>-f</b>, <b>--node-fail</b>=<u>NODE</u>
              Simulate a node failing

       <b>-i</b>, <b>--op-inject</b>=<u>OPSPEC</u>
              Generate  a  failure for the cluster to react to in the simulation.  See `Operation Specification`
              help for more information.

       <b>-F</b>, <b>--op-fail</b>=<u>OPSPEC</u>
              If the specified task occurs during the simulation, have it fail  with  return  code  ${rc}.   The
              transition will normally stop at the failed action.  Save the result with <b>--save-output</b> and re-run
              with <b>--xml-file</b>.  See `Operation Specification` help for more information.

       <b>-t</b>, <b>--set-datetime</b>=<u>DATETIME</u>
              Set date/time (ISO 8601 format, see https://en.wikipedia.org/wiki/ISO_8601)

       <b>-q</b>, <b>--quorum</b>=<u>QUORUM</u>
              Set to '1' (or 'true') to indicate cluster has quorum

       <b>-w</b>, <b>--watchdog</b>=<u>DEVICE</u>
              Set to '1' (or 'true') to indicate cluster has an active watchdog device

       <b>-g</b>, <b>--ticket-grant</b>=<u>TICKET</u>
              Simulate granting a ticket

       <b>-r</b>, <b>--ticket-revoke</b>=<u>TICKET</u>
              Simulate revoking a ticket

       <b>-b</b>, <b>--ticket-standby</b>=<u>TICKET</u>
              Simulate making a ticket standby

       <b>-e</b>, <b>--ticket-activate</b>=<u>TICKET</u>
              Simulate activating a ticket

   <b>Artifact</b> <b>Options:</b>
       <b>-I</b>, <b>--save-input</b>=<u>FILE</u>
              Save the input configuration to the named file

       <b>-O</b>, <b>--save-output</b>=<u>FILE</u>
              Save the output configuration to the named file

       <b>-G</b>, <b>--save-graph</b>=<u>FILE</u>
              Save the transition graph (XML format) to the named file

       <b>-D</b>, <b>--save-dotfile</b>=<u>FILE</u>
              Save the transition graph (DOT format) to the named file

       <b>-a</b>, <b>--all-actions</b>
              Display all possible actions in DOT graph (even if not part of transition)

   <b>Data</b> <b>Source:</b>
       <b>-L</b>, <b>--live-check</b>
              Connect to CIB manager and use the current CIB contents as input

       <b>-x</b>, <b>--xml-file</b>=<u>FILE</u>
              Retrieve XML from the named file

       <b>-p</b>, <b>--xml-pipe</b>
              Retrieve XML from stdin

   <b>Application</b> <b>Options:</b>
       -$, <b>--version</b>
              Display software version and exit

       <b>-V</b>, <b>--verbose</b>
              Increase debug output (may be specified multiple times)

       <b>-Q</b>, <b>--quiet</b>
              Display only essential output

</pre><h4><b>OPERATION</b> <b>SPECIFICATION</b></h4><pre>
       The  OPSPEC in any command line option is of the form ${resource}_${task}_${interval_in_ms}@${node}=${rc}
       (<a href="mailto:memcached_monitor_20000@bart.example.com">memcached_monitor_20000@bart.example.com</a>=7, for example).  ${rc}  is  an  OCF  return  code.   For  more
       information            on            these           return           codes,           refer           to
       https://clusterlabs.org/pacemaker/doc/2.1/Pacemaker_Administration/html/agents.html#ocf-return-codes

</pre><h4><b>EXAMPLES</b></h4><pre>
       Pretend a recurring monitor action found memcached stopped on node fred.example.com and, during recovery,
       that the memcached stop action failed:

              crm_simulate    -LS     --op-inject     memcached:<a href="mailto:0_monitor_20000@bart.example.com">0_monitor_20000@bart.example.com</a>=7     --op-fail
              memcached:<a href="mailto:0_stop_0@fred.example.com">0_stop_0@fred.example.com</a>=1 --save-output /tmp/memcached-test.xml

       Now see what the reaction to the stop failed would be:

              crm_simulate -S --xml-file /tmp/memcached-test.xml

</pre><h4><b>AUTHOR</b></h4><pre>
       Written by Andrew Beekhof and the Pacemaker project contributors

Pacemaker 3.0.0                                     June 2025                                       <u><a href="../man8/PACEMAKER.8.html">PACEMAKER</a></u>(8)
</pre>
 </div>
</div></section>
</div>
</body>
</html>