<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pacemaker - Part of the Pacemaker cluster resource manager</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/pacemaker-cli-utils">pacemaker-cli-utils_3.0.0-2ubuntu1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       Pacemaker - Part of the Pacemaker cluster resource manager

</pre><h4><b>DESCRIPTION</b></h4><pre>
       cibsecret - manage sensitive information in Pacemaker CIB

   <b>Usage:</b>
              cibsecret [&lt;options&gt;] &lt;command&gt; [&lt;parameters&gt;]

</pre><h4><b>OPTIONS</b></h4><pre>
       <b>--help</b> Show this message, then exit

       <b>--version</b>
              Display version information, then exit

       <b>-C</b>     Don't read or write the CIB

   <b>Commands</b> <b>and</b> <b>their</b> <b>parameters:</b>
              set &lt;resource-id&gt; &lt;resource-parameter&gt; &lt;value&gt;

              Set the value of a sensitive resource parameter.

              get &lt;resource-id&gt; &lt;resource-parameter&gt;

              Display the locally stored value of a sensitive resource parameter.

              check &lt;resource-id&gt; &lt;resource-parameter&gt;

              Verify  that the locally stored value of a sensitive resource parameter matches its locally stored
              MD5 hash.

              stash &lt;resource-id&gt; &lt;resource-parameter&gt;

              Make a non-sensitive resource parameter that is already in the CIB sensitive (move its value to  a
              locally stored and protected file).  This may not be used with <b>-C</b>.

              unstash &lt;resource-id&gt; &lt;resource-parameter&gt;

              Make  a sensitive resource parameter that is already in the CIB non-sensitive (move its value from
              the locally stored file to the CIB).  This may not be used with <b>-C</b>.

              delete &lt;resource-id&gt; &lt;resource-parameter&gt;

              Remove a sensitive resource parameter value.

              sync

              Copy all locally stored secrets to all other nodes.

       This command manages  sensitive  resource  parameter  values  that  should  not  be  stored  directly  in
       Pacemaker's  Cluster Information Base (CIB). Such values are handled by storing a special string directly
       in the CIB that tells Pacemaker to look in a separate, protected file for the actual value.

       The secret files are not encrypted, but protected by file system permissions such that only root can read
       or modify them.

       Since the secret files are stored locally, they must be  synchronized  across  all  cluster  nodes.  This
       command  handles  the  synchronization using (in order of preference) pssh, pdsh, or ssh, so one of those
       must be installed. Before synchronizing, this command will ping the cluster nodes to determine which  are
       alive,  using  fping  if  it  is  installed,  otherwise  the  ping  command. Installing fping is strongly
       recommended for better performance.

       Known limitations:

              This command can only be run from full cluster nodes (not Pacemaker Remote nodes).

              Changes are not atomic, so the cluster may use different values while a change is in progress.  To
              avoid  problems, it is recommended to put the cluster in maintenance mode when making changes with
              this command.

              Changes in secret values do not trigger an agent reload or restart of the affected resource, since
              they do not change the CIB. If a response is desired before the next cluster recheck interval, any
              CIB change (such as setting a node attribute) will trigger it.

              If any node is down when changes to secrets are made, or a new node is later added to the cluster,
              it may have different values when it joins the cluster, before "cibsecret sync" is run.  To  avoid
              this,  it  is recommended to run the sync command (from another node) before starting Pacemaker on
              the node.

</pre><h4><b>EXAMPLES</b></h4><pre>
              cibsecret set ipmi_node1 passwd SecreT_PASS

              cibsecret get ipmi_node1 passwd

              cibsecret check ipmi_node1 passwd

              cibsecret stash ipmi_node2 passwd

              cibsecret sync

</pre><h4><b>AUTHOR</b></h4><pre>
       Written by Andrew Beekhof and the Pacemaker project contributors

Pacemaker 3.0.0                                     June 2025                                       <u><a href="../man8/PACEMAKER.8.html">PACEMAKER</a></u>(8)
</pre>
 </div>
</div></section>
</div>
</body>
</html>