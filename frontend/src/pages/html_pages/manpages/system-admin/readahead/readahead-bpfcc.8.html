<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>readahead - Show performance of read-ahead cache</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/bpfcc-tools">bpfcc-tools_0.31.0+ds-7ubuntu2_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       readahead - Show performance of read-ahead cache

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>readahead</b> <b>[-d</b> <b>DURATION]</b>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The  tool shows the performance of read-ahead caching on the system under a given load to investigate any
       caching issues. It shows a count of unused pages in the cache and also prints  a  histogram  showing  how
       long they have remained there.

       This tool traces the <b>__do_page_cache_readahead()</b> kernel function to track entry and exit in the readahead
       mechanism  in  the  kernel  and  then  uses  <b>__page_cache_alloc()</b>  and  <b>mark_page_accessed()</b> functions to
       calculate the age of the page in the cache as well as see how many are left unaccessed.

       Since this uses BPF, only the root user can use this tool.

   <b>NOTE</b> <b>ON</b> <b>KPROBES</b> <b>USAGE</b>
       Since the tool uses Kprobes, depending on your linux kernel's compilation, these functions may be inlined
       and hence not available for Kprobes. To see whether you  have  the  functions  available,  check  <b>vmlinux</b>
       source  and  binary to confirm whether inlining is happening or not. You can also check <b><a href="file:/proc/kallsyms">/proc/kallsyms</a></b> on
       the host and verify if the target functions are present there before using this.

</pre><h4><b>REQUIREMENTS</b></h4><pre>
       CONFIG_BPF, bcc

</pre><h4><b>OPTIONS</b></h4><pre>
       -h Print usage message

       -d DURATION
              Trace the read-ahead caching system for DURATION seconds

</pre><h4><b>EXAMPLES</b></h4><pre>
       Trace for 30 seconds and show  histogram of page age (ms) in read-ahead cache along with unused page
       count:
              # <b>readahead</b> <b>-d</b> <b>30</b>

</pre><h4><b>OVERHEAD</b></h4><pre>
       The kernel functions instrumented by this program could be high-frequency depending on the profile of the
       application (for example sequential IO). We advise the users to measure and monitor the  overhead  before
       leaving this turned on in production environments.

</pre><h4><b>SOURCE</b></h4><pre>
       This  originated  as  a  bpftrace tool from the book "BPF Performance Tools", published by Addison Wesley
       (2019):

              <a href="http://www.brendangregg.com/bpf-performance-tools-book.html">http://www.brendangregg.com/bpf-performance-tools-book.html</a>

       See the book for more documentation on this tool.

       This version is in the BCC repository:

              https://github.com/iovisor/bcc

       Also look in the bcc distribution for a companion _examples.txt file containing  example  usage,  output,
       and commentary for this tool.

</pre><h4><b>OS</b></h4><pre>
       Linux

</pre><h4><b>STABILITY</b></h4><pre>
       Unstable - in development.

</pre><h4><b>AUTHOR</b></h4><pre>
       Suchakra Sharma

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <a href="../man2/readahead.2.html">readahead</a>(2), <a href="../man2/madvise.2.html">madvise</a>(2)

USER COMMANDS                                      2020-08-20                                       <u><a href="../man8/readahead.8.html">readahead</a></u>(8)
</pre>
 </div>
</div></section>
</div>
</body>
</html>