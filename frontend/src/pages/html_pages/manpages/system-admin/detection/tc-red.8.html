<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>red - Random Early Detection</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/iproute2">iproute2_6.14.0-1ubuntu3_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       red - Random Early Detection

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>tc</b> <b>qdisc</b> <b>...</b> <b>red</b> <b>limit</b> bytes <b>[</b> <b>min</b> bytes <b>]</b> <b>[</b> <b>max</b> bytes <b>]</b> <b>avpkt</b> bytes <b>[</b> <b>burst</b> packets <b>]</b> <b>[</b> <b>ecn</b> <b>]</b> <b>[</b> <b>harddrop</b>
       <b>]</b>  <b>[</b>  <b>nodrop</b> <b>]</b> <b>[</b> <b>bandwidth</b> rate <b>]</b> <b>[</b> <b>probability</b> chance <b>]</b> <b>[</b> <b>adaptive</b> <b>]</b> <b>[</b> <b>qevent</b> <b>early_drop</b> <b>block</b> index <b>]</b> <b>[</b>
       <b>qevent</b> <b>mark</b> <b>block</b> index <b>]</b>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       Random Early Detection is a classless qdisc which manages its queue size smartly. Regular  queues  simply
       drop  packets from the tail when they are full, which may not be the optimal behaviour. RED also performs
       tail drop, but does so in a more gradual way.

       Once the queue hits a certain average length, packets enqueued have a configurable chance of being marked
       (which may mean dropped). This chance increases linearly up to a  point  called  the  <b>max</b>  average  queue
       length, although the queue might get bigger.

       This  has  a  host  of  benefits  over  simple taildrop, while not being processor intensive. It prevents
       synchronous retransmits after a burst in traffic, which cause further retransmits, etc.

       The goal is to have a small queue size, which is good  for  interactivity  while  not  disturbing  TCP/IP
       traffic with too many sudden drops after a burst of traffic.

       Depending on if ECN is configured, marking either means dropping or purely marking a packet as overlimit.

</pre><h4><b>ALGORITHM</b></h4><pre>
       The  average  queue  size  is  used  for determining the marking probability. This is calculated using an
       Exponential Weighted Moving Average, which can be more or less sensitive to bursts.

       When the average queue size is below <b>min</b> bytes, no packet will ever be marked. When it exceeds  <b>min,</b>  the
       probability  of  doing so climbs linearly up to <b>probability,</b> until the average queue size hits <b>max</b> bytes.
       Because <b>probability</b> is normally not set to 100%, the queue size might conceivably rise above  <b>max</b>  bytes,
       so the <b>limit</b> parameter is provided to set a hard maximum for the size of the queue.

</pre><h4><b>PARAMETERS</b></h4><pre>
       min    Average queue size at which marking becomes a possibility. Defaults to <b>max</b> /3

       max    At  this  average  queue size, the marking probability is maximal. Should be at least twice <b>min</b> to
              prevent synchronous retransmits, higher for low <b>min.</b>  Default to <b>limit</b> /4

       probability
              Maximum probability for marking, specified as a floating point number from 0.0 to  1.0.  Suggested
              values are 0.01 or 0.02 (1 or 2%, respectively). Default : 0.02

       limit  Hard  limit  on the real (not average) queue size in bytes. Further packets are dropped. Should be
              set higher than max+burst. It is advised to set this a few times higher than <b>max.</b>

       burst  Used for determining how fast the average queue size is influenced by the real queue size.  Larger
              values  make  the  calculation  more  sluggish,  allowing  longer bursts of traffic before marking
              starts. Real life experiments support the following guideline: (min+min+max)/(3*avpkt).

       avpkt  Specified in bytes. Used with burst  to  determine  the  time  constant  for  average  queue  size
              calculations. 1000 is a good value.

       bandwidth
              This  rate  is  used for calculating the average queue size after some idle time. Should be set to
              the bandwidth of your interface. Does not mean that RED will shape for you!  Optional.  Default  :
              10Mbit

       ecn    As  mentioned before, RED can either 'mark' or 'drop'. Explicit Congestion Notification allows RED
              to notify remote hosts that their rate exceeds the amount of bandwidth available. Non-ECN  capable
              hosts  can  only  be  notified by dropping a packet. If this parameter is specified, packets which
              indicate that their hosts honor ECN will only be marked and not dropped,  unless  the  queue  size
              hits <b>limit</b> bytes. Recommended.

       harddrop
              If  average  flow  queue  size  is  above  <b>max</b>  bytes, this parameter forces a drop instead of ecn
              marking.

       nodrop With this parameter, traffic that should be marked, but is not ECN-capable, is  enqueued.  Without
              the parameter it is early-dropped.

       adaptive
              (Added     in     linux-3.3)     Sets     RED     in     adaptive    mode    as    described    in
              <a href="http://icir.org/floyd/papers/adaptiveRed.pdf">http://icir.org/floyd/papers/adaptiveRed.pdf</a>
              Goal of Adaptive RED is to make 'probability' dynamic value between 1% and 50% to reach the target average queue :
              <b>(max</b> <b>-</b> <b>min)</b> <b>/</b> <b>2</b>

</pre><h4><b>QEVENTS</b></h4><pre>
       See tc (8) for some general notes about qevents. The RED qdisc supports the following qevents:

       early_drop
              The associated block is executed when packets are early-dropped. This includes non-ECT packets  in
              ECN mode.

       mark   The associated block is executed when packets are marked in ECN mode.

</pre><h4><b>EXAMPLE</b></h4><pre>
       # tc qdisc add dev eth0 parent 1:1 handle 10: red
        limit 400000 min 30000 max 90000 avpkt 1000
        burst 55 ecn adaptive bandwidth 10Mbit

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man8/tc.8.html">tc</a></b>(8), <b><a href="../man8/tc-choke.8.html">tc-choke</a></b>(8)

</pre><h4><b>SOURCES</b></h4><pre>
       o      Floyd,   S.,  and  Jacobson,  V.,  Random  Early  Detection  gateways  for  Congestion  Avoidance.
              <a href="http://www.aciri.org/floyd/papers/red/red.html">http://www.aciri.org/floyd/papers/red/red.html</a>

       o      Some changes to the algorithm by Alexey N. Kuznetsov.

       o      Adaptive RED  : <a href="http://icir.org/floyd/papers/adaptiveRed.pdf">http://icir.org/floyd/papers/adaptiveRed.pdf</a>

</pre><h4><b>AUTHORS</b></h4><pre>
       Alexey N. Kuznetsov, &lt;<a href="mailto:kuznet@ms2.inr.ac.ru">kuznet@ms2.inr.ac.ru</a>&gt;,  Alexey Makarenko &lt;<a href="mailto:makar@phoenix.kharkov.ua">makar@phoenix.kharkov.ua</a>&gt;, J  Hadi  Salim
       &lt;<a href="mailto:hadi@nortelnetworks.com">hadi@nortelnetworks.com</a>&gt;, Eric Dumazet &lt;<a href="mailto:eric.dumazet@gmail.com">eric.dumazet@gmail.com</a>&gt;.  This manpage maintained by bert hubert
       &lt;<a href="mailto:ahu@ds9a.nl">ahu@ds9a.nl</a>&gt;

iproute2                                        13 December 2001                                          <u><a href="../man8/RED.8.html">RED</a></u>(8)
</pre>
 </div>
</div></section>
</div>
</body>
</html>