<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>grid-mapfile-add-entry - Add an entry to a gridmap file</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/globus-gss-assist-progs">globus-gss-assist-progs_12.7-3build1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       grid-mapfile-add-entry - Add an entry to a gridmap file

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>grid-mapfile-add-entry</b> [ -h | -help | -usage | -version | -versions ]

       <b>grid-mapfile-add-entry</b> -dn <u>DISTINGUISHED-NAME</u> -ln <u>LOCAL-NAME</u>... [-d | -dryrun] [ -f <u>MAPFILE</u> | -mapfile
       <u>MAPFILE</u> ] [-force] [ -n ] [ -c ]

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The <b>grid-mapfile-add-entry</b> program adds a new mapping from an X.509 distinguished name to a local POSIX
       user name to a gridmap file. Gridmap files are used as a simple authorization method for services such as
       GRAM5 or GridFTP.

       The <b>grid-mapfile-add-entry</b> program verifies that the <u>LOCAL-NAME</u> is a valid user name on the system on
       which it was run, and that the mapping between <u>DISTINGUISHED-NAME</u> and <u>LOCAL-NAME</u> does not already exist
       in the gridmap file.

       By default, <b>grid-mapfile-add-entry</b> will modify the gridmap file named by the GRIDMAP environment variable
       if present, or the file /etc/grid-security/grid-mapfile if not. This can be changed by the use of the
       <u>-mapfile</u> or <u>-f</u> command-line options.

       If the gridmap file does not exist, <b>grid-mapfile-add-entry</b> will create it. If it already exists,
       <b>grid-mapfile-add-entry</b> will save the current contents of the file to a new file with the string .old
       appended to the file name.

       The full set of command-line options to <b>grid-mapfile-add-entry</b> are:

       <b>-help,</b> <b>-usage</b>
           Display the command-line options to <b>grid-mapfile-add-entry</b>.

       <b>-version,</b> <b>-versions</b>
           Display the version number of the <b>grid-mapfile-add-entry</b> command. The second form includes more
           details.

       <b>-dn</b> <u>DISTINGUISHED-NAME</u>
           The X.509 distinguished name to add a mapping for. The name should be in OpenSSL’s oneline format.

       <b>-ln</b> <u>LOCAL-NAME</u><b>...</b>
           The POSIX user name to map the distinguished name to. This name must be a valid username. Add
           multiple <u>LOCAL-NAME</u> strings after the <u>-ln</u> command-line option. If any of the local names are invalid,
           no changes will be made to the gridmap file (but see force option below).

       <b>-d,</b> <b>-dryrun</b>
           Verify local names and display diagnostics about what would be added to the gridmap file, but don’t
           actually modify the file.

       <b>-mapfile</b> <u>MAPFILE</u><b>,</b> <b>-f</b> <u>MAPFILE</u>
           Modify the gridmap file named by <u>MAPFILE</u> instead of the default.

       <b>-force</b>
           Make modifications even if user does not exist (needed for B2STAGE).

       <b>-n</b>
           Don’t copy the original file to <u>MAPFILE</u>.old.

       <b>-c</b>
           Don’t check for changes to the gridmap during program execution.

</pre><h4><b>EXAMPLES</b></h4><pre>
       Add a mapping between the current user’s certificate to the current user id to a gridmap file in
       $HOME/.gridmap:

           % grid-mapfile-add-entry -f $HOME/.gridmap -dn "`grid-cert-info -subject`" -ln "`id -un`"
           Modifying /home/juser/.gridmap ...
           /home/juser/.gridmap does not exist... Attempting to create /home/juser/.gridmap
           New entry:
           "/DC=org/DC=example/DC=grid/CN=Joe User" juser
           (1) entry added

       Add a mapping between the a distinguished name and multiple local names:

           % grid-mapfile-add-entry -dn "/DC=org/DC=example/DC=grid/CN=Joe User" juser" local1 local2
           Modifying /home/juser/.gridmap ...
           /home/juser/.gridmap does not exist... Attempting to create /home/juser/.gridmap
           New entry:
           "/DC=org/DC=example/DC=grid/CN=Joe User" local1,local2
           (1) entry added

</pre><h4><b>ENVIRONMENT</b></h4><pre>
       The following environment variables affect the execution of <b>grid-mapfile-add-entry</b>:

       GRIDMAP
           Path to the default gridmap to modify

</pre><h4><b>FILES</b></h4><pre>
       The following files affect the execution of <b>grid-mapfile-add-entry</b>:

       /etc/grid-security/grid-mapfile
           Path to the default gridmap to modify if GRIDMAP environment variable is not set.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <a href="../man8/grid-mapfile-check-consistency.8.html">grid-mapfile-check-consistency</a>(8), <a href="../man8/grid-mapfile-delete-entry.8.html">grid-mapfile-delete-entry</a>(8)

</pre><h4><b>AUTHOR</b></h4><pre>
       Copyright © 1999-2016 University of Chicago

Grid Community Toolkit 6                           08/21/2020                               <u><a href="../man8/GRID-MAPFILE-ADD-.8.html">GRID-MAPFILE-ADD-</a></u>(8)
</pre>
 </div>
</div></section>
</div>
</body>
</html>