<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>backup_deletedump - Deletes one or more dump records from the Backup Database</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/openafs-client">openafs-client_1.8.13.2-1ubuntu1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       backup_deletedump - Deletes one or more dump records from the Backup Database

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>backup</b> <b>deletedump</b> [<b>-dumpid</b> &lt;<u>dump</u> <u>id</u>&gt;+]
           [<b>-from</b> &lt;<u>date</u> <u>time</u>&gt;+]
           [<b>-to</b> &lt;<u>date</u> <u>time</u>&gt;+]
           [<b>-portoffset</b> &lt;<u>TC</u> <u>port</u> <u>offset</u>&gt;]
           [<b>-groupid</b> &lt;<u>group</u> <u>ID</u>&gt;]
           [<b>-dbonly</b>] [<b>-force</b>] [<b>-dryrun</b> | <b>-n</b>] [<b>-localauth</b>]
           [<b>-cell</b> &lt;<u>cell</u> <u>name</u>&gt;]
           [<b>-help</b>]

       <b>backup</b> <b>dele</b> [<b>-d</b> &lt;<u>dump</u> <u>id</u>&gt;+]
           [<b>-fr</b> &lt;<u>date</u> <u>time</u>&gt;+]
           [-t &lt;<u>date</u> <u>time</u>&gt;+]
           [<b>-p</b> &lt;<u>TC</u> <u>port</u> <u>offset</u>&gt;]
           [<b>-g</b> &lt;<u>group</u> <u>ID</u>&gt;]
           [<b>-db</b>] [<b>-fo</b>] [<b>-l</b>]
           [<b>-dryrun</b> | <b>-n</b>]
           [<b>-c</b> &lt;<u>cell</u> <u>name</u>&gt;]
           [<b>-h</b>]

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The <b>backup</b> <b>deletedump</b> command deletes one or more dump records from the Backup Database. Either use the
       <b>-dumpid</b> argument to specify the dump ID number of one or more dumps, or use the <b>-from</b> and <b>-to</b> arguments
       to delete the records for all regular dumps created during the time period bracketed by the specified
       values.

       Use this command to remove dump records that are incorrect (possibly because a dump operation was
       interrupted or failed), or that correspond to dumps that are expired or otherwise no longer needed.

</pre><h4><b>CAUTIONS</b></h4><pre>
       The only way to remove the dump record for an appended dump is to remove the record for its initial dump,
       and doing so removes the records for all of the initial dump's associated appended dumps.

       The only way to remove the record for a Backup Database dump (created with the <b>backup</b> <b>savedb</b> command) is
       to specify its dump ID number with the <b>-dumpid</b> argument. Using the <b>-from</b> and <b>-to</b> arguments never removes
       database dump records.

       Removing records of a dump makes it impossible to restore data from the corresponding tapes or from any
       dump that refers to the deleted dump as its parent, directly or indirectly. That is, restore operations
       must begin with the full dump and continue with each incremental dump in order. If the records for a
       specific dump are removed, it is not possible to restore data from later incremental dumps unless the
       deleted records are restored by running the <b>backup</b> <b>scantape</b> command with the <b>-dbadd</b> flag.

       If a dump set contains any dumps that were created outside the time range specified by the <b>-from</b> and <b>-to</b>
       arguments, the command does not delete any of the records associated with the dump set, even if some of
       them represent dumps created during the time range.

</pre><h4><b>OPTIONS</b></h4><pre>
       <b>-dumpid</b> &lt;<u>dump</u> <u>id</u>&gt;+
           Specifies  the  dump ID of each dump record to delete. The corresponding dumps must be initial dumps;
           it is not possible to delete appended dump records directly, but only by deleting the record of their
           associated initial dump. Using this argument is the only way to delete  records  of  Backup  Database
           dumps (created with the <b>backup</b> <b>savedb</b> command).

           Provide either this argument or the <b>-to</b> (and optionally <b>-from</b>) argument.

       <b>-from</b> &lt;<u>date</u> <u>time</u>&gt;+
           Specifies  the  beginning  of  a range of dates; the record for any dump created during the indicated
           period of time is deleted.

           Omit this argument to indicate the default of midnight (00:00 hours) on 1  January  1970  (UNIX  time
           zero),  or  provide a date value in the format <u>mm/dd/yyyy</u> [<u>hh:MM</u>]. The month (<u>mm</u>), day (<u>dd</u>), and year
           (<u>yyyy</u>) are required. The hour and minutes (<u>hh:MM</u>) are optional, but if provided must  be  in  24-hour
           format  (for  example,  the  value  "14:36"  represents  2:36 p.m.). If omitted, the time defaults to
           midnight (00:00 hours).

           The <b>-to</b> argument must be provided along with this one.

       <b>-to</b> &lt;<u>date</u> <u>time</u>&gt;+
           Specifies the end of a range of dates; the record of any dump created during  the  range  is  deleted
           from the Backup Database.

           Provide  either  the  value  "NOW" to indicate the current date and time, or a date value in the same
           format as for the <b>-from</b> argument. Valid values for the year (<u>yyyy</u>) range from 1970  to  2037;  higher
           values  are  not  valid  because  the  latest possible date in the standard UNIX representation is in
           February 2038. The command interpreter automatically reduces any later date to the maximum value.

           If the time portion (<u>hh:MM</u>) is omitted, it defaults to 59 seconds after  midnight  (00:00:59  hours).
           Similarly,  the  <b>backup</b> command interpreter automatically adds 59 seconds to any time value provided.
           In both cases, adding 59 seconds compensates for how the Backup Database and <b>backup</b> <b>dumpinfo</b>  command
           represent dump creation times in hours and minutes only. For example, the Database records a creation
           timestamp of "20:55" for any dump operation that begins between 20:55:00 and 20:55:59.  Automatically
           adding 59 seconds to a time thus includes the records for all dumps created during that minute.

           Provide  either  this  argument,  or  the  <b>-dumpid</b>  argument.  This argument is required if the <b>-from</b>
           argument is provided.

           <b>Caution:</b> Specifying the value "NOW" for this argument when the <b>-from</b> argument is omitted deletes  all
           dump  records  from  the  Backup  Database  (except for Backup Database dump records created with the
           <b>backup</b> <b>savedb</b> command).

       <b>-groupid</b> &lt;<u>group</u> <u>id</u>&gt;
           Delete all dumps associated with the given group ID. If <b>-from</b> and <b>-to</b> are also given,  then  we  only
           delete dumps that are both a part of this group ID, and fall within the time range specified by <b>-from</b>
           and <b>-to</b>.

       <b>-dbonly</b>
           If  this option is specified, only delete the dump from the budb; do not contact the Tape Coordinator
           at all.

       <b>-force</b>
           By default, we attempt to delete the specified dumps from the Tape Coordinator  before  deleting  the
           dumps  from  the  budb. If the Tape Coordinator operation fails, then we do not delete the dumps from
           the budb. If the <b>-force</b> option is given, we will delete the specified dumps from the  budb,  even  if
           deleting the dumps on the Tape Coordinator fails.

       <b>-portoffset</b> &lt;<u>TC</u> <u>port</u> <u>offset</u>&gt;
           Specifies the port offset number of the Tape Coordinator to contact for this operation.

       <b>-dryrun</b> | <b>-n</b>
           Prints  out  information  about  what actions would be taken to run this command, but do not actually
           perform those actions.

       <b>-localauth</b>
           Constructs a server ticket using a key from the local <u>/etc/openafs/server/KeyFile</u>  file.  The  <b>backup</b>
           command  interpreter  presents  it  to  the  Backup Server, Volume Server and VL Server during mutual
           authentication. Do not combine this flag with the <b>-cell</b> argument. For more details, see <b><a href="../man8/backup.8.html">backup</a></b>(8).

       <b>-cell</b> &lt;<u>cell</u> <u>name</u>&gt;
           Names the cell in which to run the command. Do not combine this argument with  the  <b>-localauth</b>  flag.
           For more details, see <b><a href="../man8/backup.8.html">backup</a></b>(8).

       <b>-help</b>
           Prints the online help for this command. All other valid options are ignored.

</pre><h4><b>OUTPUT</b></h4><pre>
       At  the  conclusion  of  processing,  the  output  lists  the dump IDs of all dump records deleted in the
       following format:

          The following dumps were deleted:
               dump ID 1
               dump ID 2
               etc.

</pre><h4><b>EXAMPLES</b></h4><pre>
       The following command deletes the dump record  with  dump  ID  653777462,  and  for  any  appended  dumps
       associated with it:

          % backup deletedump -dumpid 653777462
          The following dumps were deleted:
               653777462

       The  following  command  deletes  the  Backup  Database record of all dumps created between midnight on 1
       January 1997 and 23:59:59 hours on 31 December 1997:

          % backup deletedump -from 01/01/1997 -to 12/31/1997
          The following dumps were deleted:
               598324045
               598346873
                  ...
                  ...
               653777523
               653779648

</pre><h4><b>PRIVILEGE</b> <b>REQUIRED</b></h4><pre>
       The issuer must be listed in the <u>/etc/openafs/server/UserList</u> file on  every  machine  where  the  Backup
       Server  is  running,  or  must  be  logged  onto  a  server  machine as the local superuser "root" if the
       <b>-localauth</b> flag is included.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man8/backup.8.html">backup</a></b>(8), <b><a href="../man8/backup_dumpinfo.8.html">backup_dumpinfo</a></b>(8), <b><a href="../man8/backup_scantape.8.html">backup_scantape</a></b>(8)

</pre><h4><b>COPYRIGHT</b></h4><pre>
       IBM Corporation 2000. &lt;<a href="http://www.ibm.com/">http://www.ibm.com/</a>&gt; All Rights Reserved.

       This documentation is covered by the IBM Public License Version 1.0.  It was converted from HTML  to  POD
       by  software  written  by  Chas  Williams  and Russ Allbery, based on work by Alf Wachsmann and Elizabeth
       Cassell.

OpenAFS                                            2025-03-21                               <u><a href="../man8/BACKUP_DELETEDUMP.8.html">BACKUP_DELETEDUMP</a></u>(8)
</pre>
 </div>
</div></section>
</div>
</body>
</html>