<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>dirmngr - GnuPG's network access daemon</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/dirmngr">dirmngr_2.4.8-2ubuntu1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       <b>dirmngr</b> - GnuPG's network access daemon

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>dirmngr</b> [<u>options</u>] <u>command</u> [<u>args</u>]

</pre><h4><b>DESCRIPTION</b></h4><pre>
       Since  version  2.1  of  GnuPG, <b>dirmngr</b> takes care of accessing the OpenPGP keyservers.  As with previous
       versions it is also used as a server for managing and downloading certificate revocation lists (CRLs) for
       X.509 certificates, downloading X.509 certificates, and providing access to OCSP providers.   Dirmngr  is
       invoked internally by <b>gpg</b>, <b>gpgsm</b>, or via the <b>gpg-connect-agent</b> tool.

</pre><h4><b>COMMANDS</b></h4><pre>
       Commands are not distinguished from options except for the fact that only one command is allowed.

       <b>--version</b>
              Print  the  program  version  and  licensing  information.   Note  that you cannot abbreviate this
              command.

       <b>--help,</b> <b>-h</b>
              Print a usage message summarizing the most useful command-line  options.   Note  that  you  cannot
              abbreviate this command.

       <b>--dump-options</b>
              Print a list of all available options and commands.  Note that you cannot abbreviate this command.

       <b>--server</b>
              Run in server mode and wait for commands on the <b>stdin</b>.  The default mode is to create a socket and
              listen for commands there.  This is only used for testing.

       <b>--daemon</b>
              Run  in  background  daemon  mode and listen for commands on a socket.  This is the way <b>dirmngr</b> is
              started on demand by the other GnuPG components.  To force starting <b>dirmngr</b> it is in general  best
              to use <b>gpgconf</b> <b>--launch</b> <b>dirmngr</b>.

       <b>--supervised</b>
              Run  in  the  foreground,  sending  logs to stderr, and listening on file descriptor 3, which must
              already be bound to a listening socket.  This option is deprecated and not supported on Windows.

       <b>--list-crls</b>
              List the contents of the CRL cache on <b>stdout</b>. This is probably only useful for debugging purposes.

       <b>--load-crl</b> <u>file</u>
              This command requires a filename as additional argument, and it will make Dirmngr  try  to  import
              the  CRL in <u>file</u> into it's cache.  Note, that this is only possible if Dirmngr is able to retrieve
              the CA's certificate directly by  its  own  means.   In  general  it  is  better  to  use  <b>gpgsm</b>'s
              <b>--call-dirmngr</b> <b>loadcrl</b> <b>filename</b> command so that <b>gpgsm</b> can help dirmngr.

       <b>--fetch-crl</b> <u>url</u>
              This  command requires an URL as additional argument, and it will make dirmngr try to retrieve and
              import the CRL from that <u>url</u> into it's cache.  This is mainly useful for debugging purposes.   The
              <b>dirmngr-client</b> provides the same feature for a running dirmngr.

       <b>--shutdown</b>
              This commands shuts down an running instance of Dirmngr.  This command has currently no effect.

       <b>--flush</b>
              This  command removes all CRLs from Dirmngr's cache.  Client requests will thus trigger reading of
              fresh CRLs.

</pre><h4><b>OPTIONS</b></h4><pre>
       Note that all long options with the exception of <b>--options</b>  and  <b>--homedir</b>  may  also  be  given  in  the
       configuration file after stripping off the two leading dashes.

       <b>--options</b> <u>file</u>
              Reads  configuration  from  <u>file</u>  instead  of  from  the default per-user configuration file.  The
              default configuration file is named ‘<u>dirmngr.conf</u>’ and expected in the home directory.

       <b>--homedir</b> <u>dir</u>
              Set the name of the home directory to <u>dir</u>.  This option is only effective when used on the command
              line.  The default is the directory named ‘<u>.gnupg</u>’ directly below the home directory of  the  user
              unless the environment variable <b>GNUPGHOME</b> has been set in which case its value will be used.  Many
              kinds of data are stored within this directory.

       <b>-v</b>

       <b>--verbose</b>
              Outputs  additional  information  while running.  You can increase the verbosity by giving several
              verbose commands to <b>dirmngr</b>, such as <b>-vv</b>.

       <b>--log-file</b> <u>file</u>
              Append all logging output to <u>file</u>.  This is very helpful in seeing what the agent  actually  does.
              Use ‘<u>socket://</u>’ to log to socket.

       <b>--compatibility-flags</b> <u>flags</u>
              Set  compatibility  flags to work around certain problems or to emulate bugs.  The <u>flags</u> are given
              as a comma separated list of flag names and are OR-ed together.  The special  flag  "none"  clears
              the  list  and  allows one to start over with an empty list.  To get a list of available flags the
              sole word "help" can be used.

       <b>--faked-system-time</b> <u>epoch</u>
              This option is only useful for testing; it sets the system time back or forth to  <u>epoch</u>  which  is
              the number of seconds elapsed since the year 1970.  Alternatively <u>epoch</u> may be given as a full ISO
              time string (e.g. "20070924T154812").

       <b>--debug-level</b> <u>level</u>
              Select the debug level for investigating problems.  <u>level</u> may be a numeric value or by a keyword:

              <b>none</b>   No debugging at all.  A value of less than 1 may be used instead of the keyword.

              <b>basic</b>  Some basic debug messages.  A value between 1 and 2 may be used instead of the keyword.

              <b>advanced</b>
                     More verbose debug messages.  A value between 3 and 5 may be used instead of the keyword.

              <b>expert</b> Even more detailed messages.  A value between 6 and 8 may be used instead of the keyword.

              <b>guru</b>   All  of  the  debug messages you can get. A value greater than 8 may be used instead of the
                     keyword.  The creation of hash tracing files is only enabled if the keyword is used.

       How these messages are mapped to the actual debugging flags is not specified and may  change  with  newer
       releases of this program. They are however carefully selected to best aid in debugging.

       <b>--debug</b> <u>flags</u>
              Set  debug  flags.   All  flags are or-ed and <u>flags</u> may be given in C syntax (e.g. 0x0042) or as a
              comma separated list of flag names.  To get a list of all supported flags the single  word  "help"
              can  be  used.   This  option is only useful for debugging and the behavior may change at any time
              without notice.

       <b>--debug-all</b>
              Same as <b>--debug=0xffffffff</b>

       <b>--tls-debug</b> <u>level</u>
              Enable debugging of the TLS layer at <u>level</u>.  The details of the debug level depend on the used TLS
              library and are not set in stone.

       <b>--debug-wait</b> <u>n</u>
              When running in server mode, wait <u>n</u> seconds before entering the actual processing loop  and  print
              the pid.  This gives time to attach a debugger.

       <b>--disable-check-own-socket</b>
              On  some  platforms  <b>dirmngr</b> is able to detect the removal of its socket file and shutdown itself.
              This option disable this self-test for debugging purposes.

       <b>-s</b>
       <b>--sh</b>
       <b>-c</b>
       <b>--csh</b>  Format the info output in daemon mode for use with the standard Bourne  shell  respective  the  C-
              shell.  The  default is to guess it based on the environment variable <b>SHELL</b> which is in almost all
              cases sufficient.

       <b>--force</b>
              Enabling this option forces loading of expired CRLs; this is only useful for debugging.

       <b>--use-tor</b>
       <b>--no-use-tor</b>
              The option <b>--use-tor</b> switches Dirmngr and thus GnuPG into ``Tor mode'' to route all network access
              via Tor (an anonymity network).  Certain other features are disabled in this mode.  The effect  of
              <b>--use-tor</b>  cannot  be  overridden  by  any other command or even by reloading dirmngr.  The use of
              <b>--no-use-tor</b> disables the use of Tor.  The default is to use Tor if it is available on startup  or
              after  reloading  dirmngr.   The test on the availability of Tor is done by trying to connect to a
              SOCKS proxy at either port 9050 or 9150; if another type of proxy is listening  on  one  of  these
              ports, you should use <b>--no-use-tor</b>.

       <b>--standard-resolver</b>
              This  option  forces  the use of the system's standard DNS resolver code.  This is mainly used for
              debugging.  Note that on Windows a standard resolver is not used and all DNS  access  will  return
              the  error  ``Not Implemented'' if this option is used.  Using this together with enabled Tor mode
              returns the error ``Not Enabled''.

       <b>--recursive-resolver</b>
              When possible use a recursive resolver instead of a stub resolver.

       <b>--resolver-timeout</b> <u>n</u>
              Set the timeout for the DNS resolver to N seconds.  The default are 30 seconds.

       <b>--connect-timeout</b> <u>n</u>

       <b>--connect-quick-timeout</b> <u>n</u>
              Set the timeout for HTTP and generic TCP connection attempts to N seconds.  The value set with the
              quick variant is used when the --quick option has been given  to  certain  Assuan  commands.   The
              quick  value is capped at the value of the regular connect timeout.  The default values are 15 and
              2 seconds.  Note that the timeout values are for each connection attempt; the connection code will
              attempt to connect all addresses listed for a server.

       <b>--listen-backlog</b> <u>n</u>
              Set the size of the queue for pending connections.  The default is 64.

       <b>--allow-version-check</b>
              Allow Dirmngr to connect to  <b>https://versions.gnupg.org</b>  to  get  the  list  of  current  software
              versions.   On debian-packaged versions, this option does nothing since software updates should be
              handled by the distribution.  See the option <b>--query-swdb</b> of the command <b>gpgconf</b> for more details.
              Note, that regardless of this option a version check can always be triggered using this command:

                gpg-connect-agent --dirmngr 'loadswdb --force' /bye

       <b>--keyserver</b> <u>name</u>
              Use <u>name</u> as your keyserver.  This is the server that <b>gpg</b> communicates with to receive  keys,  send
              keys, and search for keys.  The format of the <u>name</u> is a URI: `scheme:[//]keyservername[:port]' The
              scheme  is  the type of keyserver: "hkp" for the HTTP (or compatible) keyservers or "ldap" for the
              LDAP keyservers. Note that your particular installation of GnuPG may have  other  keyserver  types
              available  as  well.  Keyserver  schemes  are case-insensitive. After the keyserver name, optional
              keyserver configuration options may be provided.  These are the same as the <b>--keyserver-options</b> of
              <b>gpg</b>, but apply only to this particular keyserver.

              Some keyservers synchronize with each other, so there is not always a need to send  keys  to  more
              than  one  server. Some keyservers use round robin DNS to give a different keyserver each time you
              use it.

              If exactly two keyservers are configured and only one is a Tor hidden  service  (.onion),  Dirmngr
              selects  the keyserver to use depending on whether Tor is locally running or not.  The check for a
              running Tor is done for each new connection.

              If  no  keyserver  is  explicitly  configured,  dirmngr  will  use   the   built-in   default   of
              <b>hkps://keys.openpgp.org</b>.  To avoid the use of a default keyserver the value <b>none</b> can be used.

              Note   that   the   above   default   is   a   Debian-specific  choice.   Upstream  GnuPG  prefers
              <b>https://keyserver.ubuntu.com</b>.  See <a href="file:/usr/share/doc/gpgconf/NEWS.Debian.gz">/usr/share/doc/gpgconf/NEWS.Debian.gz</a> for more details.

              Windows users with a keyserver running on their Active Directory may use the short  form  <b>ldap:///</b>
              for <u>name</u> to access this directory.

              For  accessing  anonymous  LDAP  keyservers <u>name</u> is in general just a <b>ldaps://ldap.example.com</b>.  A
              BaseDN parameter should never be  specified.   If  authentication  is  required  things  are  more
              complicated and two methods are available:

              The  modern  method  (since version 2.2.28) is to use the very same syntax as used with the option
              <b>--ldapserver</b>.  Please see over there for details; here is an example:

                keyserver ldap:ldap.example.com::uid=USERNAME,ou=GnuPG Users,
                dc=example,dc=com:PASSWORD::starttls

              The other method is to use a full URL for <u>name</u>; for example:

                keyserver ldaps://ldap.example.com/????bindname=uid=USERNAME
                %2Cou=GnuPG%20Users%2Cdc=example%2Cdc=com,password=PASSWORD

              Put this all on one line without any spaces and keep the '%2C'
              as given.  Replace USERNAME, PASSWORD, and the 'dc' parts
              according to the instructions received from your LDAP
              administrator.  Note that only simple authentication
              (i.e. cleartext passwords) is supported and thus using ldaps is
              strongly suggested (since 2.2.28 "ldaps" defaults to port 389
              and uses STARTTLS).  On Windows authentication via AD can be
              requested by adding <b>gpgNtds=1</b> after the fourth question
              mark instead of the bindname and password parameter.

       <b>--nameserver</b> <u>ipaddr</u>
              In ``Tor mode'' Dirmngr uses a public resolver via Tor to  resolve  DNS  names.   If  the  default
              public  resolver,  which  is  <b>8.8.8.8</b>,  shall  not be used a different one can be given using this
              option.  Note that a numerical IP address must be given (IPv6 or IPv4) and that no error  checking
              is done for <u>ipaddr</u>.

       <b>--disable-ipv4</b>

       <b>--disable-ipv6</b>
              Disable the use of all IPv4 or IPv6 addresses.

       <b>--disable-ldap</b>
              Entirely disables the use of LDAP.

       <b>--disable-http</b>
              Disable  the  use of HTTP to fetch CRLs.  This also disables OCSP requests as a side-effect.  HTTP
              access to keyservers and to other files will still work.  This is a  legacy  option  from  a  time
              before  CRL  distribution  points  became  common;  it  is  better  to  use  the  explicit  option
              <b>--ignore-http-dp</b> if the goal is to avoid fetching CRLs via HTTP.

       <b>--ignore-http-dp</b>
              When looking for the location of a CRL, the to be tested certificate usually  contains  so  called
              CRL  Distribution  Point  (DP)  entries  which are URLs describing the way to access the CRL.  The
              first found DP entry is used.  With this option all entries using the HTTP scheme are ignored when
              looking for a suitable DP.

       <b>--ignore-ldap-dp</b>
              This is similar to <b>--ignore-http-dp</b> but ignores entries using the LDAP scheme.  Both  options  may
              be combined resulting in ignoring DPs entirely.

       <b>--ignore-ocsp-service-url</b>
              Ignore  all OCSP URLs contained in the certificate.  The effect is to force the use of the default
              responder.

       <b>--honor-http-proxy</b>
              If the environment variable ‘<u>http_proxy</u>’ has been set, use its value to access HTTP  servers.   If
              on  Windows  the  option  is  used but the environment variable is not set, the proxy settings are
              taken from the system.

       <b>--http-proxy</b> <u>host</u><b>[:</b><u>port</u><b>]</b>
              Use <u>host</u> and <u>port</u> to access HTTP servers.  The  use  of  this  option  overrides  the  environment
              variable ‘<u>http_proxy</u>’ regardless whether <b>--honor-http-proxy</b> has been set.

       <b>--ldap-proxy</b> <u>host</u><b>[:</b><u>port</u><b>]</b>
              Use  <u>host</u>  and <u>port</u> to connect to LDAP servers.  If <u>port</u> is omitted, port 389 (standard LDAP port)
              is used.  This overrides any specified host and port part in a LDAP URL and will also be  used  if
              host and port have been omitted from the URL.

       <b>--only-ldap-proxy</b>
              Never  use  anything  else  but the LDAP "proxy" as configured with <b>--ldap-proxy</b>.  Usually <b>dirmngr</b>
              tries to use other configured LDAP server if the connection using the "proxy" failed.

       <b>--ldapserverlist-file</b> <u>file</u>
              Read the list of LDAP servers to consult for CRLs and X.509 certificates from file instead of  the
              default per-user ldap server list file. The default value for <u>file</u> is ‘<u>dirmngr_ldapservers.conf</u>’.

              This server list file contains one LDAP server per line in the format

              <b>hostname:port:username:password:base_dn:flags</b>

              Lines starting with a  ‘#’ are comments.

              Note that as usual all strings entered are expected to be UTF-8 encoded.  Obviously this will lead
              to  problems  if  the password has originally been encoded as Latin-1.  There is no other solution
              here than to put such a password in the binary encoding into the file (i.e.  non-ascii  characters
              won't  show  up readable). ([The <b>gpgconf</b> tool might be helpful for frontends as it enables editing
              this configuration file using percent-escaped strings.])

       <b>--ldapserver</b> <u>spec</u>
              This is an alternative way to specify LDAP servers for CRL and X.509  certificate  retrieval.   If
              this  option  is  used  the servers configured in ‘<u>dirmngr_ldapservers.conf</u>’ (or the file given by
              <b>--ldapserverlist-file</b>) are cleared.  Note that ‘<u>dirmngr_ldapservers.conf</u>’ is not read again  by  a
              reload signal. However, <b>--ldapserver</b> options are read again.

              <u>spec</u> is either a proper LDAP URL or a colon delimited list of the form

              <b>hostname:port:username:password:base_dn:flags:</b>

              with  an optional prefix of <b>ldap:</b> (but without the two slashes which would turn this into a proper
              LDAP URL).  <b>flags</b> is a list of one or more comma delimited keywords:

              <b>plain</b>  The default: Do not use a TLS secured connection at all; the default port is 389.

              <b>starttls</b>
                     Use STARTTLS to secure the connection; the default port is 389.

              <b>ldaptls</b>
                     Tunnel LDAP through a TLS connection; the default port is 636.

              <b>ntds</b>   On Windows authenticate the LDAP connection using the Active  Directory  with  the  current
                     user.

              <b>areconly</b>
                     On Windows use only the A or AAAA record when resolving the LDAP server name.

       Note  that  in  an URL style specification the scheme <b>ldaps://</b> refers to STARTTLS and _not_ to LDAP-over-
       TLS.

       <b>--ldaptimeout</b> <u>secs</u>
              Specify the number of seconds to wait for an LDAP query before timing out.   The  default  are  15
              seconds.  0 will never timeout.

       <b>--add-servers</b>
              This  option  makes dirmngr add any servers it discovers when validating certificates against CRLs
              to the internal list of servers to consult for certificates  and  CRLs.   This  option  should  in
              general not be used.

              This  option  might  be  useful  when trying to validate a certificate that has a CRL distribution
              point that points to a server that is not already listed  in  the  ldapserverlist.   Dirmngr  will
              always  go  to  this server and try to download the CRL, but chances are high that the certificate
              used to sign the CRL is located on the same server. So if dirmngr doesn't add that new  server  to
              list, it will often not be able to verify the signature of the CRL unless the <b>--add-servers</b> option
              is used.

              Caveat  emptor: Using this option may enable denial-of-service attacks and leak search requests to
              unknown third parties.  This is because arbitrary servers are added to the internal list  of  LDAP
              servers  which  in  turn is used for all unspecific LDAP queries as well as a fallback for queries
              which did not return a result.

       <b>--allow-ocsp</b>
              This option enables OCSP support if requested by the client.

              OCSP requests are rejected by default because they may  violate  the  privacy  of  the  user;  for
              example it is possible to track the time when a user is reading a mail.

       <b>--ocsp-responder</b> <u>url</u>
              Use  <u>url</u>  as  the  default OCSP Responder if the certificate does not contain information about an
              assigned responder.  Note, that <b>--ocsp-signer</b> must also be set to a valid certificate.

       <b>--ocsp-signer</b> <u>fpr</u><b>|</b><u>file</u>
              Use the certificate with the fingerprint <u>fpr</u> to check the responses of the default OCSP Responder.
              Alternatively a filename can be given in which case the response is expected to be signed  by  one
              of  the certificates described in that file.  Any argument which contains a slash, dot or tilde is
              considered a filename.  Usual filename expansion takes place: A tilde at the start followed  by  a
              slash  is replaced by the content of ‘<u>HOME</u>’, no slash at start describes a relative filename which
              will be searched at the home directory.  To make sure that  the  <u>file</u>  is  searched  in  the  home
              directory, either prepend the name with "./" or use a name which contains a dot.

              If  a  response  has been signed by a certificate described by these fingerprints no further check
              upon the validity of this certificate is done.

              The format of the <u>FILE</u> is a list of SHA-1 fingerprint, one per line with optional  colons  between
              the bytes.  Empty lines and lines prefix with a hash mark are ignored.

       <b>--ocsp-max-clock-skew</b> <u>n</u>
              The number of seconds a skew between the OCSP responder and them local clock is accepted.  Default
              is 600 (10 minutes).

       <b>--ocsp-max-period</b> <u>n</u>
              Seconds  a  response  is at maximum considered valid after the time given in the thisUpdate field.
              Default is 7776000 (90 days).

       <b>--ocsp-current-period</b> <u>n</u>
              The number of seconds an OCSP response is considered valid after the time given in the NEXT_UPDATE
              datum.  Default is 10800 (3 hours).

       <b>--max-replies</b> <u>n</u>
              Do not return more that <u>n</u> items in one query.  The default is 10.

       <b>--ignore-cert-extension</b> <u>oid</u>
              Add <u>oid</u> to the list of ignored certificate extensions.  The  <u>oid</u>  is  expected  to  be  in  dotted
              decimal  form,  like  <b>2.5.29.3</b>.   This  option  may  be  used  more  than  once.  Critical flagged
              certificate extensions matching one of the OIDs in the list are treated as if  they  are  actually
              handled and thus the certificate won't be rejected due to an unknown critical extension.  Use this
              option with care because extensions are usually flagged as critical for a reason.

       <b>--ignore-crl-extension</b> <u>oid</u>
              Add  <u>oid</u> to the list of ignored CRL extensions.  The <u>oid</u> is expected to be in dotted decimal form.
              Critical flagged CRL extensions matching one of the OIDs in the list are treated as  if  they  are
              actually  handled and thus the certificate won't be rejected due to an unknown critical extension.
              Use this option with care because extensions are usually flagged as critical for a reason.

       <b>--ignore-cert</b> <u>fpr</u><b>|</b><u>file</u>
              Entirely ignore certificates with the fingerprint <u>fpr</u>.  As an alternative  to  the  fingerprint  a
              filename  can  be  given  in  which case all certificates described in that file are ignored.  Any
              argument which contains a slash, dot or tilde is considered a filename.  Usual filename  expansion
              takes  place:  A  tilde  at the start followed by a slash is replaced by the content of ‘<u>HOME</u>’, no
              slash at start describes a relative filename which will be searched at  the  home  directory.   To
              make  sure  that  the <u>file</u> is searched in the home directory, either prepend the name with "./" or
              use a name which contains a dot.  The format of such a file is a list of  SHA-1  fingerprint,  one
              per  line with optional colons between the bytes.  Empty lines and lines prefixed with a hash mark
              are ignored.

              This option is useful as a quick workaround to exclude certain certificates from the system store.

       <b>--hkp-cacert</b> <u>file</u>
              Use the root certificates in <u>file</u>  for  verification  of  the  TLS  certificates  used  with  <b>hkps</b>
              (keyserver  access over TLS).  If the file is in PEM format a suffix of <b>.pem</b> is expected for <u>file</u>.
              This option may be given multiple times  to  add  more  root  certificates.   Tilde  expansion  is
              supported.

              If no <b>hkp-cacert</b> directive is present, dirmngr will use the system CAs.

</pre><h4><b>EXAMPLES</b></h4><pre>
       Here is an example on how to show dirmngr's internal table of OpenPGP keyserver addresses.  The output is
       intended for debugging purposes and not part of a defined API.

           gpg-connect-agent --dirmngr 'keyserver --hosttable' /bye

       To inhibit the use of a particular host you have noticed in one of the keyserver pools, you may use

          gpg-connect-agent --dirmngr 'keyserver --dead pgpkeys.bnd.de' /bye

       The description of the <b>keyserver</b> command can be printed using

          gpg-connect-agent --dirmngr 'help keyserver' /bye

</pre><h4><b>FILES</b></h4><pre>
       Dirmngr makes use of several directories when running in daemon mode: There are a few configuration files
       to  control  the  operation  of  dirmngr.  By default they may all be found in the current home directory
       (see: [option --homedir]).

       <b>dirmngr.conf</b>
              This is the standard configuration file read by <b>dirmngr</b> on startup.  It may contain any valid long
              option; the leading two dashes may not be entered and the option may  not  be  abbreviated.   This
              file  is  also  read  after  a  <b>SIGHUP</b> however not all options will actually have an effect.  This
              default name may be changed on the command line (see: [option --options]).  You should backup this
              file.

       <b>/etc/gnupg/trusted-certs</b>
              This directory should be filled with certificates of Root CAs you are  trusting  in  checking  the
              CRLs and signing OCSP Responses.

              Usually  these  are the same certificates you use with the applications making use of dirmngr.  It
              is expected that each of these certificate files contain exactly one DER encoded certificate in  a
              file with the suffix ‘<u>.crt</u>’ or ‘<u>.der</u>’.  <b>dirmngr</b> reads those certificates on startup and when given
              a  SIGHUP.   Certificates  which are not readable or do not make up a proper X.509 certificate are
              ignored; see the log file for details.

              Applications using dirmngr (e.g. gpgsm) can request these certificates to complete a  trust  chain
              in the same way as with the extra-certs directory (see below).

              Note  that  for  OCSP responses the certificate specified using the option <b>--ocsp-signer</b> is always
              considered valid to sign OCSP requests.

       <b>/etc/gnupg/extra-certs</b>
              This directory may contain extra certificates which are  preloaded  into  the  internal  cache  on
              startup.  Applications  using  dirmngr  (e.g. gpgsm) can request cached certificates to complete a
              trust chain.  This is convenient in cases you  have  a  couple  intermediate  CA  certificates  or
              certificates usually used to sign OCSP responses.  These certificates are first tried before going
              out  to  the  net to look for them.  These certificates must also be DER encoded and suffixed with
              ‘<u>.crt</u>’ or ‘<u>.der</u>’.

       <b><a href="file:~/.gnupg/crls.d">~/.gnupg/crls.d</a></b>
              This directory is used to store cached CRLs.  The ‘<u>crls.d</u>’ part will be created by dirmngr  if  it
              does not exists but you need to make sure that the upper directory exists.

       Several options control the use of trusted certificates for TLS and CRLs.  Here is an Overview on the use
       and origin of those Root CA certificates:

       <b>System</b>

              These System root certificates are used by:  FIXME

              The  origin  of  the  system  provided  certificates  depends  on  the  platform.   On Windows all
              certificates from the Windows System Stores <b>ROOT</b> and <b>CA</b> are used.

              On other platforms  the  certificates  are  read  from  the  first  file  found  form  this  list:
              ‘<u>/etc/ssl/ca-bundle.pem</u>’,      ‘<u><a href="file:/etc/ssl/certs/ca-certificates.crt">/etc/ssl/certs/ca-certificates.crt</a></u>’,      ‘<u>/etc/pki/tls/cert.pem</u>’,
              ‘<u>/usr/local/share/certs/ca-root-nss.crt</u>’, ‘<u>/etc/ssl/cert.pem</u>’.

       <b>GnuPG</b>

              The GnuPG specific certificates stored in the directory ‘<u>/etc/gnupg/trusted-certs</u>’ are  only  used
              to validate CRLs.

       <b>OpenPGP</b> <b>keyserver</b>

              For  accessing  the  OpenPGP  keyservers  the  only  certificates  used  are  those  set  with the
              configuration option <b>hkp-cacert</b>.

       <b>OpenPGP</b> <b>keyserver</b> <b>pool</b>

              This     is     usually      only      one      certificate      read      from      the      file
              ‘<u>/usr/share/gnupg/gnupg/sks-keyservers.netCA.pem</u>’.   If  this  certificate  exists  it  is used to
              access the special keyservers <b>hkps.pool.sks-keyservers.net</b> (or ‘<u>hkps://keys.gnupg.net</u>’).

       Please note that <b>gpgsm</b> accepts Root CA certificates for its own purposes only if they are listed  in  its
       file ‘<u>trustlist.txt</u>’.  <b>dirmngr</b> does not make use of this list - except FIXME.

</pre><h4><b>NOTES</b></h4><pre>
       To  be  able  to  see  diagnostics  it  is  often  useful  to  put  at least the following lines into the
       configuration file ‘<u><a href="file:~/gnupg/dirmngr.conf">~/gnupg/dirmngr.conf</a></u>’:

         log-file <a href="file:~/dirmngr.log">~/dirmngr.log</a>
         verbose

       You may want to check the log file to see whether all desired root CA certificates are correctly loaded.

       To be able to perform OCSP requests you probably want to add the line:

         allow-ocsp

       To make sure that new options are read or that after the installation of a new GnuPG versions  the  right
       dirmngr  version  is  running,  you  should kill an existing dirmngr so that a new instance is started as
       needed by the other components:

         gpgconf --kill dirmngr

       Direct interfaction with the dirmngr is possible by using the command

         gpg-connect-agent --dirmngr

       Enter <b>HELP</b> at the prompt to see a list of commands and enter <b>HELP</b> followed by a command name to get  help
       on that command.

</pre><h4><b>SIGNALS</b></h4><pre>
       A  running  <b>dirmngr</b>  may  be  controlled  by signals, i.e. using the <b>kill</b> command to send a signal to the
       process.

       Here is a list of supported signals:

       <b>SIGHUP</b> This signal flushes all internally cached CRLs as well  as  any  cached  certificates.   Then  the
              certificate  cache  is  reinitialized  as  on startup.  Options are re-read from the configuration
              file.  Instead of sending this signal it is better to use
         gpgconf --reload dirmngr

       <b>SIGTERM</b>
              Shuts down the process but waits until all current requests are fulfilled.   If  the  process  has
              received  3  of  these signals and requests are still pending, a shutdown is forced.  You may also
              use
         gpgconf --kill dirmngr
       instead of this signal

       <b>SIGINT</b> Shuts down the process immediately.

       <b>SIGUSR1</b>
              This prints some caching statistics to the log file.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man1/gpgsm.1.html">gpgsm</a></b>(1), <b><a href="../man1/dirmngr-client.1.html">dirmngr-client</a></b>(1)

       The full documentation for this tool is maintained as a Texinfo manual.  If GnuPG and  the  info  program
       are properly installed at your site, the command

         info gnupg

       should give you access to the complete manual including a menu structure and an index.

GnuPG 2.4.8                                        2025-02-19                                         <u><a href="../man8/DIRMNGR.8.html">DIRMNGR</a></u>(8)
</pre>
 </div>
</div></section>
</div>
</body>
</html>