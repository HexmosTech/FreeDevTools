<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>mkfs.gfs2 - create a gfs2 filesystem</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/gfs2-utils">gfs2-utils_3.6.1-1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       mkfs.gfs2 - create a gfs2 filesystem

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>mkfs.gfs2</b> [<u>options</u>] <u>device</u> <u>[block-count]</u>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       mkfs.gfs2 is used to create a gfs2 file system.

</pre><h4><b>OPTIONS</b></h4><pre>
       The  default  values  of  the  following options have been chosen for best results.  In most cases, there
       should be no need to choose different values. The exceptions to this are the number of journals (<b>-j</b>)  and
       the lock table (<b>-t</b>), as these options will be specific to your cluster.

       <b>-b</b> <u>bytes</u>
              Set the filesystem block size to <u>bytes</u> which must be a power of two. The minimum block size is 512
              and  the  block  size cannot exceed the machine's memory page size, which on most architectures is
              4096 bytes.  The default block size is 4096 bytes.

       <b>-c</b> <u>megabytes</u>
              Initial size of each journal's quota change file. The default is 1MB.

       <b>-D</b>     Enable debugging output.

       <b>-h</b>     Print out a help message describing the available options, then exit.

       <b>-J</b> <u>megabytes</u>
              The size of each journal. The minimum size is 8 megabytes and the maximum is 1024. If this is  not
              specified, a value based on a sensible proportion of the file system will be chosen.

       <b>-j</b> <u>journals</u>
              The number of journals for mkfs.gfs2 to create.  At least one journal is required for each machine
              that  will  mount  the filesystem concurrently.  If this option is not specified, only one journal
              will be created. This number may be used as an indicator of the number of nodes in the cluster  in
              order  to  optimize  the layout of the filesystem. As such, it is best to set this option with the
              maximum number of mounters in mind than to add more journals later.

       <b>-K</b>     Do not attempt to discard the block device contents. Issuing discards to the  device  allows  some
              solid  state  devices and sparse or thin-provisioned storage devices to optimise free space. Other
              devices may emulate this behaviour by zeroing the device contents, which can be a slow process.

       <b>-O</b>     Override. This  option  prevents  mkfs.gfs2  from  asking  for  confirmation  before  writing  the
              filesystem.

       <b>-o</b>     Specify extended options. Multiple options can be separated by commas. Valid extended options are:

                 <b>help</b>   Display an extended options help summary, then exit.

                 <b>sunit=</b><u>bytes</u>
                        This  is  used  to  specify the stripe unit for a RAID device or striped logical volume.
                        This option ensures that resource groups will be stripe unit aligned and  overrides  the
                        stripe  unit  value obtained by probing the device. This value must be a multiple of the
                        file system block size and must be specified with the <u>swidth</u> option.

                 <b>swidth=</b><u>bytes</u>
                        This is used to specify the stripe width for a RAID device or  striped  logical  volume.
                        This option ensures that resource groups will be stripe aligned and overrides the stripe
                        width  value  obtained by probing the device. This value must be a multiple of the <u>sunit</u>
                        option and must also be specified with it.

                 <b>align=</b><u>[0|1]</u>
                        Disable or enable the alignment of resource groups. The default behaviour  is  to  align
                        resource  groups  to  the  stripe width and stripe unit values obtained from probing the
                        device or specified with the <u>swidth</u> and <u>sunit</u> extended options.

                 <b>format=</b><u>&lt;number&gt;</u>
                        Set the filesystem format version. Testing only.

       <b>-p</b> <u>protocol</u>
              Specify the locking protocol to use when no locking protocol is specified  at  mount  time.  Valid
              locking protocols are:

                 <b>lock_dlm</b>
                        This   is  the  default.  It  enables  DLM-based  locking  for  use  in  shared  storage
                        configurations.

                 <b>lock_nolock</b>
                        This enables single-node locking

       <b>-q</b>     Quiet mode. Do not print anything.

       <b>-r</b> <u>megabytes</u>
              mkfs.gfs2 will try to make resource groups approximately this large.  The minimum  resource  group
              size is 32 MB and the maximum is 2048 MB.  A large resource group size may increase performance on
              very large file systems.  If not specified, mkfs.gfs2 will choose the resource group size based on
              the size and alignment characteristics of the target device.

       <b>-t</b> <u>clustername:lockspace</u>
              The  "lock  table"  pair used to uniquely identify this filesystem in a cluster.  The cluster name
              segment (maximum 32 characters) must match the name given to your cluster  in  its  configuration;
              only  members  of  this  cluster  are  permitted  to  use this file system.  The lockspace segment
              (maximum 30 characters) is a unique file system name used to distinguish this  gfs2  file  system.
              Valid  <u>clustername</u>s  and  <u>lockspace</u>s  may  only  contain  alphanumeric characters, hyphens (-) and
              underscores (_).

       <b>-U</b> <u>UUID</u>
              Specify the filesystem UUID. The argument must  be  string  of  hexadecimal  digits  separated  by
              hyphens,  of  the  form  "1b4e28ba-2fa1-11d2-883f-b9a761bde3fb".  If  this  option is omitted, the
              filesystem's UUID is randomly generated. Note that no attempt is  made  to  prevent  UUID  clashes
              between filesystems.

       <b>-V</b>     Print program version information, then exit.

       <u>block-count</u>
              Use  <u>block-count</u>  as  the size of the filesystem instead of using the whole device. <u>block-count</u> is
              specified as a number of filesystem blocks.

</pre><h4><b>EXAMPLE</b></h4><pre>
              # mkfs.gfs2 -t mycluster:mygfs2 -p lock_dlm -j 2 /dev/vg0/lv_gfs2

              This will create a gfs2 filesystem on the block device /dev/vg0/lv_gfs2.  It
              will belong to a cluster named "mycluster" and use the "mygfs2" lock space.  It
              will use DLM for locking and create journals for a two-node cluster.

              # mkfs.gfs2 -t mycluster:mygfs2 -p lock_nolock -j 3 /dev/vg0/lv_gfs2

              This will create a filesystem on the block device /dev/vg0/lv_gfs2.  It
              will belong to a cluster named "mycluster" and use the "mygfs2" lockspace, but
              it will have no cluster locking by default as lock_nolock is used.  It will
              have journals for a three-node cluster.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man5/gfs2.5.html">gfs2</a></b>(5), <b><a href="../man8/gfs2_jadd.8.html">gfs2_jadd</a></b>(8), <b><a href="../man8/gfs2_grow.8.html">gfs2_grow</a></b>(8)

                                                                                                    <u><a href="../man8/mkfs.gfs2.8.html">mkfs.gfs2</a></u>(8)
</pre>
 </div>
</div></section>
</div>
</body>
</html>