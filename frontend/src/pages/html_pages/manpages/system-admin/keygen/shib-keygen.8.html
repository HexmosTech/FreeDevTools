<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>shib-keygen - Generate a key pair for a Shibboleth SP</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/shibboleth-sp-utils">shibboleth-sp-utils_3.5.0+dfsg-2_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       shib-keygen - Generate a key pair for a Shibboleth SP

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>shib-keygen</b> [<b>-bf</b>] [<b>-e</b> <u>entity-id</u>] [<b>-g</b> <u>group</u>] [<b>-n</b> <u>prefix</u>]
           [<b>-h</b> <u>hostname</u>] [<b>-o</b> <u>output-dir</u>] [<b>-u</b> <u>user</u>] [<b>-y</b> <u>years</u>]

</pre><h4><b>DESCRIPTION</b></h4><pre>
       Generate a self-signed X.509 certificate for a Shibboleth SP.  By default, the certificate will be for
       the local fully-qualified (as returned by "hostname --fqdn") hostname.  An entity ID can be specified
       with the <b>-e</b> flag.  The <b>openssl</b> command-line client is used to generate the key pair.  By default, the
       public certificate will be created in <u>/etc/shibboleth/sp-cert.pem</u> and the private key in
       <u>/etc/shibboleth/sp-key.pem</u>.

</pre><h4><b>OPTIONS</b></h4><pre>
       <b>-b</b>  Batch  mode:  exit  successfully  without doing anything if <u>sp-key.pem</u> or <u>sp-cert.pem</u> already exists,
           unless <b>-f</b> was also specified.   Suppress  standard  error  output  from  <b>openssl</b>  when  creating  the
           certificate.

       <b>-e</b> <u>entity-id</u>
           Add <u>entity-id</u> (which should be a URI) as an alternative name for the certificate.

       <b>-f</b>  Remove <u>sp-cert.pem</u> and <u>sp-key.pem</u> before generating a new certificate.  Without this option, if those
           files already exist, <b>shib-keygen</b> prints an error and exits rather than overwriting them.

       <b>-g</b> <u>group</u>
           After  generating  the key and certificate, change the group ownership of the key file to this group.
           By default, the group used is "_shibd".

       <b>-h</b> <u>hostname</u>
           Specify the fully-qualified domain name for which to generate a certificate.  If  this  option  isn't
           given, the hostname defaults to the result of "hostname --fqdn".

       <b>-o</b> <u>output-dir</u>
           Store   <u>sp-cert.pem</u>   and  <u>sp-key.pem</u>  in  the  directory  <u>output-dir</u>  rather  than  the  default  of
           <u>/etc/shibboleth</u>.

       <b>-n</b> <u>prefix</u>
           Use <u>prefix</u> instead of <u>sp</u> in the name of the generated certificate and private key file.

       <b>-u</b> <u>user</u>
           After generating the key and certificate, change the ownership of the key file to this user.  This is
           used to allow the key to be read by a non-root user so that <b>shibd</b> can be run as a non-root user.   By
           default, the key is owned by "_shibd".

       <b>-y</b> <u>years</u>
           The  number  of  years for which the certificate should be valid.  The default expiration time is ten
           years into the future.

</pre><h4><b>FILES</b></h4><pre>
       <u>/etc/shibboleth/sp-cert.cnf</u>
           The OpenSSL configuration file used for generating the self-signed certificate.   This  configuration
           file is generated when the script is run and deleted afterwards.

       <u>/etc/shibboelth/sp-cert.pem</u>
           The default location of the public certificate created by this script.

       <u>/etc/shibboleth/sp-key.pem</u>
           The default location of the private key for the certificate created by this script.

       These three files are stored in the directory given with <b>-o</b> instead, if that option is given.

</pre><h4><b>AUTHOR</b></h4><pre>
       This manual page was written by Russ Allbery for Debian GNU/Linux.

</pre><h4><b>COPYRIGHT</b></h4><pre>
       Copyright  2008,  2011  Russ  Allbery.   This  manual page is hereby placed into the public domain by its
       author.

3.5.0                                              2025-01-12                                   <u><a href="../man8/SHIB-KEYGEN.8.8.html">SHIB-KEYGEN.8</a></u>(8)
</pre>
 </div>
</div></section>
</div>
</body>
</html>