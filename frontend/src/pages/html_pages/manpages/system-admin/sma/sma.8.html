<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>sma — Sendmail Log Analyser</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/sma">sma_1.4-3.1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       sma — Sendmail Log Analyser

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>sma</b> [<b>OPTIONS</b>] [<u>file</u> <u>...</u>]

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The  <b>sma</b>  utility  analyses  sendmail log entries and produces a summary of mail activity.  <b>sma</b> reads the
       input from <u>file</u> or from standard input and writes the report to standard output or file.

       <b>sma</b> can be configured using command line options or configuration file, or both.   Command  line  options
       always override the configuration file.

       The available command line options are as follows:

       <b>-A</b>      Downcase all addresses.  This is so that <a href="mailto:foo@bar.com">foo@bar.com</a> is equivilant to <a href="mailto:FOO@BAR.Com">FOO@BAR.Com</a> and <a href="mailto:Foo@Bar.com">Foo@Bar.com</a>
               and  they all get counted the same in the counts.  Usually one is interested in the user, not the
               format of the address and since email addresses are case insensitive to MTAs,  one  may  want  to
               make them case insensitive in <b>sma</b>

       <b>-a</b>      Format the report as ASCII.

       <b>-b</b> <u>color</u>
               Set the background color of the HTML report as <u>color.</u>

       <b>-C</b> <u>string</u>
               Set report header as <u>string.</u>

       <b>-D</b> <u>date1,date2</u>
               Process  log  entry  only  if  the  date is between <u>date1</u> and <u>date2.</u> The format of the date is as
               follows: [[[[[[<u>cc</u>]<u>yy</u>]<u>mm</u>]<u>dd</u>]<u>HH</u>]<u>MM</u>[<u>.SS</u>]] where

                     <u>yy</u>      Year in abbreviated form (for years 1969-2068).  The format  <u>ccyymmddHHMM</u>  is  also
                             permitted, for non-ambiguous years.
                     <u>mm</u>      Numeric month, a number from 1 to 12.
                     <u>dd</u>      Day, a number from 1 to 31.
                     <u>HH</u>      Hour, a number from 0 to 23.
                     <u>MM</u>      Minute, a number from 0 to 59.
                     <u>SS</u>      Second, a number from 0 to 61 (59 plus a maximum of two leap seconds).

               Everything  but  the  minute  is optional. The dates must be separated using a colon, without any
               whitespace characters. If either of the dates is missing, current date is used.

       <b>-c</b>      Print the copyright notice and exit.

       <b>-d</b>      Process only the domain portion of email address.

       <b>-f</b> <u>file</u>
               Read the configuration  from  <u>file</u>  instead  of  the  default  configuration  file.  The  default
               configuration file is defined in conf.h.

       <b>-F</b>      Do not use default configuration file even if it exists.

       <b>-H</b> <u>name</u>
               Use <u>name</u> as hostname.

       <b>-L</b> <u>string</u>
               Process only lines with syslog tag <u>string</u>

       <b>-h</b>      Print help message and exit.

       <b>-i</b>      Include the ASCII report as HTML comment (requires -w or -O html).

       <b>-n</b>      Do not report the time distribution.

       <b>-o</b> <u>file</u>
               Print the report as <u>file.</u> If not given, print to stdout.

       <b>-O</b> <u>format</u>
               Format the report as <u>format.</u> Possible values for <u>format</u> are ascii, html and clog.

       <b>-p</b>      Print current configuration to stdout.

       <b>-s</b>      Sort by transfers. Default is by number of messages.

       <b>-t</b> <u>value</u>
               Adjust the internal hash table size. Possible values for <u>value</u> are normal, big and huge.

       <b>-q</b>      Do not print any warning messages.

       <b>-l</b> <u>num</u>  Number of the top senders and recipients in the report. Default is 10.

       <b>-r</b> <u>num</u>  Number of the top relay senders and recipients in the report.  Default is 5.

       <b>-v</b>      Print some debugging information for each parsed line.

       <b>-w</b>      Format the report as HTML.

</pre><h4><b>KEYWORDS</b></h4><pre>
       <b>sma</b> configuration file consists of keyword-value pairs.  Available configuration file keywords and values
       are listed below.

       <b>BgColor</b> <u>RGB</u>
               Set HTML report background color as <u>RGB.</u> Command line option: <b>-b</b>

       <b>BounceAddress</b> <u>string</u>
               Set error message bounce address as <u>string.</u>

       <b>CaseSensitive</b> <u>value</u>
               Set  filter  case  sensitivity.  Possible  values are <u>yes</u> or <u>no.</u> This options requires <b>USE_REGEXP</b>
               compile time definition.

       <b>DowncaseAddresses</b> <u>value</u>
               Set whether or not to make all addresses lower case, to make  counts  for  users  more  accurate.
               Possible values are <u>yes</u> or <u>no.</u>

       <b>ClogFormat</b> <u>string</u>
               Formatting string for Custom Log format.  <u>format</u> consists of ordinary characters and various two-
               character sequencies which are replaced with built-in variables as follows:

               <b>%U</b>      time in UNIX time format

               <b>%D</b>      time in form "Wed Jun 30 21:49:08 1993"

               <b>%y</b>      year, four digits

               <b>%m</b>      month, in digits

               <b>%M</b>      month, three letter English

               <b>%n</b>      minute

               <b>%s</b>      second

               <b>%d</b>      day

               <b>%h</b>      hour

               <b>%H</b>      hostname

               <b>%z</b>      size in bytes

               <b>%f</b>      envelope sender

               <b>%t</b>      envelope recipient

               <b>%F</b>      relay sender

               <b>%T</b>      relay recipient

               <b>%S</b>      status (1 = sent, 0 = error)

               <b>%i</b>      message id

               <b>%%</b>      %-character

               <b>\n</b>      newline

               <b>\t</b>      tab stop

               <b>\\</b>      single backslash

       <b>ClogSentOnly</b> <u>value</u>
               If <u>value</u> is set as <u>yes</u> , print only sent messages (status = 1).

       <b>Comment</b> <u>string</u>
               Set report header as <u>string.</u> Command line option: <b>-C</b>

       <b>Debug</b> <u>value</u>
               If <u>value</u> is set as <u>yes</u> , print debugging information to stderr.  Command line option: <b>-v</b>

       <b>EndTime</b> <u>date</u>
               Process log entry only if the date is before <u>date.</u> The format of the <u>date</u> is <b>YYYY/MM/DD-HH:MM:SS.</b>
               Command line option: <b>-D</b>

       <b>EnvelopePairs</b> <u>number</u>
               Set the number of the top envelope pairs as <u>number.</u>

       <b>EnvelopeRecipientFilter</b> <u>string</u>
               Set  envelope  recipient  filter  as  <u>string.</u>  If <b>sma</b> is compiled with <b>USE_REGEXP</b> , <u>string</u> can be
               regular expression of syntax defined in <a href="../man7/re_format.7.html">re_format</a>(7). Otherwise the standard C  library  function
               strstr() is used. If the first character of <u>string</u> is '!', filter is reversed.

       <b>EnvelopeRecipients</b> <u>number</u>
               Set the number of the top envelope recipients as <u>number.</u> Command line option: <b>-l</b>

       <b>EnvelopeSenderFilter</b> <u>string</u>
               Set envelope sender filter as <u>string.</u> See also <b>EnvelopeRecipientFilter</b> keyword.

       <b>EnvelopeSenders</b> <u>number</u>
               Set the number of the top envelope senders as <u>number.</u> Command line option: <b>-l</b>

       <b>FooterText</b> <u>string</u>
               Set report footer as <u>string.</u>

       <b>Format</b> <u>string</u>
               Set the output format as <u>string.</u> Possible values are <u>ascii</u> , <u>html</u> and <u>clog.</u> Command line options:
               <b>-a</b> , <b>-w</b> and <b>-O</b>

       <b>HashTables</b> <u>string</u>
               Adjust  the  internal  hash  table  size.  Possible  values are <u>normal</u> , <u>big</u> and <u>huge.</u> It is also
               possible to specify a custom hash table size by defining two values and separating  them  with  a
               comma ','.  Command line option: <b>-t</b>

       <b>HeaderText</b> <u>string</u>
               Set report header as <u>string.</u>

       <b>HostName</b> <u>string</u>
               Set  the  hostname as <u>string.</u> Normally, HostName is taken from log files, or, in case of Sendmail
               for NT, from the compile time define HOSTNAME.  Command line option: <b>-H</b>

       <b>IncludeAscii</b> <u>value</u>
               Include the ASCII report as HTML comment. Possible values are <u>yes</u> or <u>no.</u> Command line option: <b>-i</b>

       <b>OutFile</b> <u>file</u>
               Print the report as <u>file.</u> Command line option: <b>-o</b>

       <b>PictureALT</b> <u>string</u>
               If <b>PictureURL</b> is defined, set ALT text inside the IMG HTML-tag as <u>string.</u>

       <b>PictureLink</b> <u>string</u>
               If <b>PictureURL</b> is defined, make the picture as link pointing to <u>string.</u>

       <b>PictureParameters</b> <u>string</u>
               If <b>PictureURL</b> is defined, set additional IMG parameters as <u>string.</u>

       <b>PictureURL</b> <u>URL</u>
               Include a picture with source URL as <u>URL</u> in HTML report. The picture  appears  in  a  upper  left
               corner of the page. See also <b>PictureParameters</b> , <b>PictureALT</b> and <b>PictureLink</b> keywords.

       <b>PrintGeneralInfo</b> <u>value</u>
               Print the General Information section in report. Possible values are <u>yes</u> or <u>no.</u>

       <b>PrintStatus</b> <u>number</u>
               Set the number of the top status messages as <u>number.</u>

       <b>PrintRule</b> <u>number</u>
               Set the number of the top ruleset rejections as <u>number.</u>

       <b>PrintTime</b> <u>value</u>
               Print  the  Time  Distribution  section  in  report.  Possible values are <u>yes</u> or <u>no.</u> Command line
               option: <b>-n</b>

       <b>RelayPairs</b> <u>number</u>
               Set the number of the top relay address pairs as <u>number.</u>

       <b>RelayRecipientFilter</b> <u>string</u>
               Set relay recipient filter as <u>string.</u> See also <b>EnvelopeRecipientFilter</b> keyword.

       <b>RelayRecipients</b> <u>number</u>
               Set the number of the top relay recipients as <u>number.</u> Command line option: <b>-r</b>

       <b>RelaySenderFilter</b> <u>string</u>
               Set relay sender filter as <u>string.</u> See also <b>EnvelopeRecipientFilter</b> keyword.

       <b>RelaySenders</b> <u>number</u>
               Set the number of the top relay senders as <u>number.</u> Command line option: <b>-r</b>

       <b>ShowUsers</b> <u>value</u>
               If <u>value</u> is set as <u>no</u> , process only the domain portion  of  the  email  address.   Command  line
               option: <b>-d</b>

       <b>Silent</b> <u>value</u>
               If <u>value</u> is set as <u>yes</u> , do not print error messages.  Command line option: <b>-q</b>

       <b>Sorting</b> <u>value</u>
               Set the sort order as <u>value.</u> Possible values are <u>number</u> or <u>transfer.</u> Command line option: <b>-s</b>

       <b>SyslogTag</b> <u>string</u>
               Process only lines with syslog tag <u>string.</u> Command line option: <b>-L</b>

       <b>StartTime</b> <u>date</u>
               Process  log entry only if the date is after <u>date.</u> The format of the <u>date</u> is <b>YYYY/MM/DD-HH:MM:SS.</b>
               Command line option: <b>-D</b>

       <b>TbColor</b> <u>RGB</u>
               Set HTML report table corner color as <u>RGB.</u>

</pre><h4><b>FILES</b></h4><pre>
       <b>sma</b> can as an option use a configuration file. It's default location can be configured  using  a  compile
       time define <b>DEFAULT_CONF</b> in file conf.h. By default, it is defined as <b>./sma.conf</b>

</pre><h4><b>AUTHOR</b></h4><pre>
       Jarkko Turkulainen &lt;<a href="mailto:jt@klake.org">jt@klake.org</a>&gt;

</pre><h4><b>BUGS</b></h4><pre>
       <b>sma</b> takes the year from runtime year.  It knows nothing about the new year transitions in log files.

       The documentation contains a lot of bad english.

Debian                                          October 28, 2001                                          <u><a href="../man8/SMA.8.html">SMA</a></u>(8)
</pre>
 </div>
</div></section>
</div>
</body>
</html>