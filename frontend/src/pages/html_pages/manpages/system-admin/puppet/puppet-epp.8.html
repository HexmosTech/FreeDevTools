<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>puppet-epp - Interact directly with the EPP template parser/renderer.</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/puppet-agent">puppet-agent_8.10.0-2ubuntu1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       <b>puppet-epp</b> - Interact directly with the EPP template parser/renderer.

</pre><h4><b>SYNOPSIS</b></h4><pre>
       puppet epp <u>action</u>

</pre><h4><b>OPTIONS</b></h4><pre>
       Note  that  any setting that's valid in the configuration file is also a valid long argument, although it
       may or may not be relevant to the present action. For example, <b>server</b> and <b>run_mode</b> are valid settings, so
       you can specify <b>--server</b> <b>&lt;servername&gt;</b>, or <b>--run_mode</b> <b>&lt;runmode&gt;</b> as an argument.

       See the configuration file documentation at <u>https://puppet.com/docs/puppet/latest/configuration.html</u>  for
       the  full  list  of  acceptable  parameters.  A  commented  list of all configuration options can also be
       generated by running puppet with <b>--genconfig</b>.

       --render-as FORMAT
              The format in which to render output. The most common formats are  <b>json</b>,  <b>s</b>  (string),  <b>yaml</b>,  and
              <b>console</b>, but other options such as <b>dot</b> are sometimes available.

       --verbose
              Whether to log verbosely.

       --debug
              Whether to log debug information.

</pre><h4><b>ACTIONS</b></h4><pre>
       •   <b>dump</b> - Outputs a dump of the internal template parse tree for debugging: <b>SYNOPSIS</b>

           puppet epp dump [--e <u>source</u>] [--[no-]validate] [--format <u>old,</u> <u>pn,</u> <u>or</u> <u>json</u>] [--pretty] [--[no-]header]
           [--format <u>old\|pn\|json</u>] [--pretty] { -e <u>source</u> | [<u>templates</u> ...] }

           <b>DESCRIPTION</b>

           The  dump  action  parses  and  validates the EPP syntax and dumps the resulting AST model in a human
           readable (but not necessarily an easy to understand) format.

           The output format can be controlled using the --format <u>old|pn|json</u> where:

       •   'old' is the default, but now deprecated format which is not API.

       •   'pn' is the Puppet Extended S-Expression Notation.

       •   'json' outputs the same graph as 'pn' but with JSON syntax.

       The output will be "pretty printed" when the option --pretty is given  together  with  --format  'pn'  or
       'json'. This option has no effect on the 'old' format.

       The  command  accepts  one or more templates (.epp) files, or an -e followed by the template source text.
       The given templates can be paths to template files, or references to templates in modules when  given  on
       the  form  <u>modulename</u>/<u>template-name</u>.epp.  If  no  arguments  are  given,  the stdin is read (unless it is
       attached to a terminal)

       If multiple templates are given, they are separated with a header indicating the name  of  the  template.
       This  can be suppressed with the option --no-header. The option --[no-]header has no effect when a single
       template is dumped.

       When debugging the epp parser itself, it  may  be  useful  to  suppress  the  validation  step  with  the
       <b>--no-validate</b> option to observe what the parser produced from the given source.

       This command ignores the --render-as setting/option.

       <b>OPTIONS</b> <u>--e</u> <u>&lt;source</u>&gt; - Dump one epp source expression given on the command line.

       <u>--format</u>  <u>&lt;old,</u> <u>pn,</u> <u>or</u> <u>json</u>&gt; - Get result in 'old' (deprecated format), 'pn' (new format), or 'json' (new
       format in JSON).

       <u>--[no-]header</u> - Whether or not to show a file name header between files.

       <u>--pretty</u> - Pretty print output. Only applicable together with --format pn or json

       <u>--[no-]validate</u> - Whether or not to validate the parsed result, if no-validate  only  syntax  errors  are
       reported.

       <b>RETURNS</b>

       A dump of the resulting AST model unless there are syntax or validation errors.

       •   <b>render</b> - Renders an epp template as text: <b>SYNOPSIS</b>

           puppet   epp   render   [--node   <u>node_name</u>]   [--e  <u>source</u>]  [--values  <u>values_hash</u>]  [--values_file
           <u>pp_or_yaml_file</u>] [--facts <u>facts_file</u>] [--[no-]header] -e <u>source</u> | [<u>templates</u> ...]

           <b>DESCRIPTION</b>

           This action renders one or more EPP templates.

           The command accepts one or more templates (.epp files), given the same way as templates are given  to
           the    puppet    <b>epp</b>   function   (a   full   path,   or   a   relative   reference   on   the   form
           '<u>modulename</u>/<u>template-name</u>.epp'), or as a relative path.args In case the given  path  matches  both  a
           modulename/template and a file, the template from the module is used.

           An  inline_epp  equivalent can also be performed by giving the template after an -e, or by piping the
           EPP source text to the command.

           Values to the template can be defined using the Puppet Language on the command line with <b>--values</b>  or
           in  a  .pp  or .yaml file referenced with <b>--values_file</b>. If specifying both the result is merged with
           --values having higher precedence.

           The --values option allows a Puppet Language sequence of expressions to be  defined  on  the  command
           line the same way as it may be given in a .pp file referenced with <b>--values_file</b>. It may set variable
           values  (that  become  available  in the template), and must produce either <b>undef</b> or a <b>Hash</b> of values
           (the hash may be empty). Producing <b>undef</b> simulates that the template is called without  an  arguments
           hash  and  thus  only  references  variables  in its outer scope. When a hash is given, a template is
           limited to seeing only the global scope. It is thus possible to simulate the different types of calls
           to the <b>epp</b> and <b>inline_epp</b> functions, with or without a given hash. Note that if variables are  given,
           they  are  always  available in this simulation - to test that the template only references variables
           given as arguments, produce a hash in --values or the --values_file, do  not  specify  any  variables
           that are not global, and turn on --strict_variables setting.

           If  multiple templates are given, the same set of values are given to each template. If both --values
           and --value_file are used, the --values are merged on top of those given in the file.

           When multiple templates are rendered, a separating header is output between the templates showing the
           name of the template before the output. The header output can be turned off  with  <b>--no-header</b>.  This
           also concatenates the template results without any added newline separators.

           Facts from the node where the command is being run are used by default.args Facts can be obtained for
           other nodes if they have called in, and reported their facts by using the <b>--node</b> <b>&lt;nodename&gt;</b> flag.

           Overriding  node  facts  as  well  as  additional  facts  can  be  given in a .yaml or .json file and
           referencing it with the --facts option. (Values can be obtained in yaml format directly from  <b>facter</b>,
           or from puppet for a given node). Note that it is not possible to simulate the reserved variable name
           <b>$facts</b> in any other way.

           Note  that  it is not possible to set variables using the Puppet Language that have the same names as
           facts as this result in an error; "attempt to redefine a variable" since facts are set first.

           Exits with 0 if there were no validation errors. On errors, no rendered output is produced  for  that
           template file.

           When  designing  EPP  templates,  it  is strongly recommended to define all template arguments in the
           template, and to give them in a hash when calling  <b>epp</b>  or  <b>inline_epp</b>  and  to  use  as  few  global
           variables  as  possible, preferably only the $facts hash. This makes templates more free standing and
           are easier to reuse, and to test.

           <b>OPTIONS</b> <u>--e</u> <u>&lt;source</u>&gt; - Render one inline epp template given on the command line.

           <u>--facts</u> <u>&lt;facts_file</u>&gt; - A .yaml or .json file containing a hash of facts made available in $facts  and
           $trusted

           <u>--[no-]header</u> - Whether or not to show a file name header between rendered results.

           <u>--node</u>  <u>&lt;node_name</u>&gt;  -  The  name of the node for which facts are obtained. Defaults to facts for the
           local node.

           <u>--values</u> <u>&lt;values_hash</u>&gt; - A Hash in Puppet DSL form given as arguments to the template being rendered.

           <u>--values_file</u> <u>&lt;pp_or_yaml_file</u>&gt; - A .pp or .yaml file that is processed to produce a hash  of  values
           for the template.

           <b>RETURNS</b>

           A rendered result of one or more given templates.

       •   <b>validate</b> - Validate the syntax of one or more EPP templates.: <b>SYNOPSIS</b>

           puppet epp validate [--[no-]continue_on_error] [<u>template</u>] [<u>template</u> ...]

           <b>DESCRIPTION</b>

           This action validates EPP syntax without producing any output.

           When  validating,  multiple  issues  per  file  are  reported  up  to  the settings of max_error, and
           max_warnings. The processing stops after having reported issues for the first encountered  file  with
           errors unless the option --continue_on_error is given.

           Files  can  be given using the <b>modulename/template.epp</b> style to lookup the template from a module, or
           be given as a reference to a file. If the reference to a file can be resolved against a template in a
           module, the module version wins - in this case use an absolute path to reference the template file if
           the module version is not wanted.

           Exits with 0 if there were no validation errors.

           <b>OPTIONS</b> <u>--[no-]continue_on_error</u> - Whether or not  to  continue  after  errors  are  reported  for  a
           template.

           <b>RETURNS</b>

           Nothing, or encountered syntax errors.

</pre><h4><b>EXAMPLES</b></h4><pre>
       <b>render</b>

       Render the template in module 'mymodule' called 'mytemplate.epp', and give it two arguments <b>a</b> and <b>b</b>:

           $ puppet epp render mymodule/mytemplate.epp --values '{a =&gt; 10, b =&gt; 20}'

       Render a template using an absolute path:

           $ puppet epp render /tmp/testing/mytemplate.epp --values '{a =&gt; 10, b =&gt; 20}'

       Render a template with data from a .pp file:

           $ puppet epp render /tmp/testing/mytemplate.epp --values_file mydata.pp

       Render a template with data from a .pp file and override one value on the command line:

           $ puppet epp render /tmp/testing/mytemplate.epp --values_file mydata.pp --values '{a=&gt;10}'

       Render from STDIN:

           $ cat template.epp \| puppet epp render --values '{a =&gt; 10, b =&gt; 20}'

       Set variables in a .pp file and render a template that uses variable references:

           # data.pp file
           $greeted = 'a global var'
           undef

           $ puppet epp render -e 'hello &lt;%= $greeted %&gt;' --values_file data.pp

       Render a template that outputs a fact:

           $ facter --yaml &gt; data.yaml
           $ puppet epp render -e '&lt;% $facts[osfamily] %&gt;' --facts data.yaml

       <b>validate</b>

       Validate the template 'template.epp' in module 'mymodule':

           $ puppet epp validate mymodule/template.epp

       Validate two arbitrary template files:

           $ puppet epp validate mymodule/template1.epp yourmodule/something.epp

       Validate a template somewhere in the file system:

             $ puppet epp validate /tmp/testing/template1.epp

       Validate a template against a file relative to the current directory:

            $ puppet epp validate template1.epp
            $ puppet epp validate ./template1.epp

       Validate from STDIN:

           $ cat template.epp \| puppet epp validate

       Continue on error to see errors for all templates:

           $ puppet epp validate mymodule/template1.epp mymodule/template2.epp --continue_on_error

</pre><h4><b>COPYRIGHT</b> <b>AND</b> <b>LICENSE</b></h4><pre>
       Copyright 2014 by Puppet Inc. Apache 2 license; see COPYING

Puppet, Inc.                                      November 2024                                    <u><a href="../man8/PUPPET-EPP.8.html">PUPPET-EPP</a></u>(8)
</pre>
 </div>
</div></section>
</div>
</body>
</html>