<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>puppet-ca - Local Puppet Certificate Authority management.</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/jammy/+package/puppet">puppet_5.5.22-4ubuntu0.2_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       <b>puppet-ca</b> - Local Puppet Certificate Authority management.

</pre><h4><b>SYNOPSIS</b></h4><pre>
       puppet ca <u>action</u>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       This provides local management of the Puppet Certificate Authority.

       You can use this subcommand to sign outstanding certificate requests, list and manage local certificates,
       and inspect the state of the CA.

</pre><h4><b>OPTIONS</b></h4><pre>
       Note  that  any setting that's valid in the configuration file is also a valid long argument, although it
       may or may not be relevant to the present action. For example, <b>server</b> and <b>run_mode</b> are valid settings, so
       you can specify <b>--server</b> <b>&lt;servername&gt;</b>, or <b>--run_mode</b> <b>&lt;runmode&gt;</b> as an argument.

       See the configuration file documentation at <u>https://puppet.com/docs/puppet/latest/configuration.html</u>  for
       the  full  list  of  acceptable  parameters.  A  commented  list of all configuration options can also be
       generated by running puppet with <b>--genconfig</b>.

       --render-as FORMAT
              The format in which to render output. The most common formats are  <b>json</b>,  <b>s</b>  (string),  <b>yaml</b>,  and
              <b>console</b>, but other options such as <b>dot</b> are sometimes available.

       --verbose
              Whether to log verbosely.

       --debug
              Whether to log debug information.

</pre><h4><b>ACTIONS</b></h4><pre>
       ○   <b>destroy</b> - Destroy named certificate or pending certificate request.: <b>SYNOPSIS</b>

           puppet ca destroy

           <b>DESCRIPTION</b>

           Destroy named certificate or pending certificate request.

       ○   <b>fingerprint</b>  -  Print  the  DIGEST  (defaults  to  the  signing  algorithm)  fingerprint  of a host's
           certificate.: <b>SYNOPSIS</b>

           puppet ca fingerprint [--digest ALGORITHM]

           <b>DESCRIPTION</b>

           Print the DIGEST (defaults to the signing algorithm) fingerprint of a host's certificate.

           <b>OPTIONS</b> <u>--digest</u> <u>ALGORITHM</u> - The hash algorithm to use when displaying the fingerprint

       ○   <b>generate</b> - Generate a certificate for a named client.: <b>SYNOPSIS</b>

           puppet ca generate [--dns-alt-names NAMES]

           <b>DESCRIPTION</b>

           Generate a certificate for a named client.

           <b>OPTIONS</b> <u>--dns-alt-names</u> <u>NAMES</u> - A comma-separated list of alternate  DNS  names  for  Puppet  Server.
           These  are  extra  hostnames  (in  addition  to  its <b>certname</b>) that the server is allowed to use when
           serving agents. Puppet checks this setting when automatically requesting  a  certificate  for  Puppet
           agent  or  Puppet Server, and when manually generating a certificate with <b>puppet</b> <b>cert</b> <b>generate</b>. These
           can be either IP or DNS, and the type should be specified and followed with a colon.  Untyped  inputs
           will default to DNS.

           In  order  to  handle  agent  requests at a given hostname (like "puppet.example.com"), Puppet Server
           needs a certificate that proves it's allowed to use that name; if a server shows a  certificate  that
           doesn't include its hostname, Puppet agents will refuse to trust it. If you use a single hostname for
           Puppet traffic but load-balance it to multiple Puppet Servers, each of those servers needs to include
           the official hostname in its list of extra names.

           <b>Note:</b>  The  list of alternate names is locked in when the server's certificate is signed. If you need
           to change the list later, you can't just change this setting; you also need to:

       ○   On the server: Stop Puppet Server.

       ○   On the CA server: Revoke and clean the server's old certificate. (<b>puppet</b>  <b>cert</b>  <b>clean</b>  <b>&lt;NAME&gt;</b>)  (Note
           <b>puppet</b> <b>cert</b> <b>clean</b> is deprecated and will be replaced with <b>puppetserver</b> <b>ca</b> <b>clean</b> in Puppet 6.)

       ○   On  the server: Delete the old certificate (and any old certificate signing requests) from the ssldir
           <u>https://puppet.com/docs/puppet/latest/dirs_ssldir.html</u>.

       ○   On the server: Run <b>puppet</b> <b>agent</b> <b>-t</b> <b>--ca_server</b> <b>&lt;CA</b> <b>HOSTNAME&gt;</b> to request a new certificate

       ○   On the CA server: Sign the certificate request, explicitly allowing alternate names (<b>puppet</b> <b>cert</b> <b>sign</b>
           <b>--allow-dns-alt-names</b> <b>&lt;NAME&gt;</b>). (Note <b>puppet</b> <b>cert</b>  <b>sign</b>  is  deprecated  and  will  be  replaced  with
           <b>puppetserver</b> <b>ca</b> <b>sign</b> in Puppet 6.)

       ○   On the server: Run <b>puppet</b> <b>agent</b> <b>-t</b> <b>--ca_server</b> <b>&lt;CA</b> <b>HOSTNAME&gt;</b> to retrieve the cert.

       ○   On the server: Start Puppet Server again.

       To  see  all the alternate names your servers are using, log into your CA server and run <b>puppet</b> <b>cert</b> <b>list</b>
       <b>-a</b>, then check the output for <b>(alt</b> <b>names:</b> <b>...)</b>. Most agent nodes should NOT  have  alternate  names;  the
       only certs that should have them are Puppet Server nodes that you want other agents to trust.

       ○   <b>list</b> - List certificates and/or certificate requests.: <b>SYNOPSIS</b>

           puppet ca list [--[no-]all] [--[no-]pending] [--[no-]signed] [--digest ALGORITHM] [--subject PATTERN]

           <b>DESCRIPTION</b>

           This  will  list the current certificates and certificate signing requests in the Puppet CA. You will
           also get the fingerprint, and any certificate verification failure reported.

           <b>OPTIONS</b> <u>--[no-]all</u> - Include all certificates and requests.

           <u>--digest</u> <u>ALGORITHM</u> - The hash algorithm to use when displaying the fingerprint

           <u>--[no-]pending</u> - Include pending certificate signing requests.

           <u>--[no-]signed</u> - Include signed certificates.

           <u>--subject</u> <u>PATTERN</u> - Only include certificates or requests where subject matches PATTERN.

           PATTERN is interpreted as a regular expression, allowing complex filtering of the content.

       ○   <b>print</b> - Print the full-text version of a host's certificate.: <b>SYNOPSIS</b>

           puppet ca print

           <b>DESCRIPTION</b>

           Print the full-text version of a host's certificate.

       ○   <b>revoke</b> - Add certificate to certificate revocation list.: <b>SYNOPSIS</b>

           puppet ca revoke

           <b>DESCRIPTION</b>

           Add certificate to certificate revocation list.

       ○   <b>sign</b> - Sign an outstanding certificate request.: <b>SYNOPSIS</b>

           puppet ca sign [--[no-]allow-dns-alt-names]

           <b>DESCRIPTION</b>

           Sign an outstanding certificate request.

           <b>OPTIONS</b> <u>--[no-]allow-dns-alt-names</u> - Whether or not to  accept  DNS  alt  names  in  the  certificate
           request

       ○   <b>verify</b> - Verify the named certificate against the local CA certificate.: <b>SYNOPSIS</b>

           puppet ca verify

           <b>DESCRIPTION</b>

           Verify the named certificate against the local CA certificate.

</pre><h4><b>COPYRIGHT</b> <b>AND</b> <b>LICENSE</b></h4><pre>
       Copyright 2011 by Puppet Inc. Apache 2 license; see COPYING

Puppet, Inc.                                        May 2022                                        <u><a href="../man8/PUPPET-CA.8.html">PUPPET-CA</a></u>(8)
</pre>
 </div>
</div></section>
</div>
</body>
</html>