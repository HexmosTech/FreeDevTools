<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>swtpm_bios - BIOS simulation tool for swtpm</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/swtpm-tools">swtpm-tools_0.7.3-0ubuntu8_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       swtpm_bios - BIOS simulation tool for swtpm

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>swtpm_bios</b> <b>[OPTIONS]</b>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>swtpm_bios</b> is a tool that can send the commands to the TPM (<u>swtpm</u> program) that typically are used by the
       BIOS to initialize the TPM.  The user can choose among several command line options to choose the state
       the TPM should be set to.

       This command requires the environment variable <u>TCSD_USE_TCP_DEVICE</u> to be set for communication via TCP.
       Otherwise it will use the device set in the environment variable <u>TPM_DEVICE</u> or fall back to use <u>/dev/tpm0</u>
       to send the commands to. In TCP mode, the environment variable <u>TCSD_TCP_DEVICE_HOSTNAME</u> is used to
       indicate the host to send the commands to. By default <u>localhost</u> is assumed. The default TCP port is 6545
       unless the environment variable <u>TCSD_TCP_DEVICE_PORT</u> indicates another port.

       In case of success 0 will be returned. In case a TPM error was encountered the return code will be 128.
       In case of communcation failure 255 is returned. In case the TPM needs to be reset to become activated,
       129 will be returned.

       This command will send the following sequence of commands to the TPM.

       <b>TPM_Startup(chosen</b> <b>mode)</b> -- startup TPM
       <b><a href="../man0x20/TSC_PhysicalPresence.0x20.html">TSC_PhysicalPresence</a>(0x20)</b> -- PhysicalPresenceCMDEnable
       <b><a href="../man0x08/TSC_PhysicalPresence.0x08.html">TSC_PhysicalPresence</a>(0x08)</b> -- turn on physical presence
       <b>TPM_GetCapability</b> -- get permanent flags
       <b>TPM_PhysicalEnable</b> -- enable the TPM
       <b><a href="../man0x0/TPM_PhysicalSetDeactivated.0x0.html">TPM_PhysicalSetDeactivated</a>(0x0)</b> -- activate TPM
       <b>TPM_ContinueSelfTest</b> -- continue self test
       <b><a href="../man0x20/TSC_PhysicalPresence.0x20.html">TSC_PhysicalPresence</a>(0x20)</b> -- PhysicalPresenceCMDEnable
       <b><a href="../man0x14/TSC_PhysicalPresence.0x14.html">TSC_PhysicalPresence</a>(0x14)</b> -- turn off physical presence &amp; lock it

       The following options are supported:

       <b>--tpm-device</b> <b>&lt;device&gt;</b>
           Use  the  given  device  rather  than  the  default  /dev/tpm0.  This option overrides the TPM_DEVICE
           environment variable.

       <b>--tcp</b> <b>&lt;server&gt;:&lt;port&gt;</b>
           Connect to the given server and port; if no server is given, 127.0.0.1 is used; if port is not given,
           the default port 6545 is used.

       <b>--unix</b> <b>&lt;path&gt;</b>
           Connect to the given UnixIO path.

       <b>-tpm2</b>
           The device is a TPM 2.

       <b>-c</b>  Send TPM_Startup(ST_CLEAR) (default). This instructs the TPM to start with clear state.

       <b>-s</b>  Send TPM_Startup(ST_STATE). This instructs the TPM to start by restoring previously saved state.

       <b>-d</b>  Send TPM_Startup(ST_DEACTIVATED). This instructs the TPM to start in deactivated  mode.  This  option
           has no effect on a TPM 2.

       <b>-n</b>  Don't send a TPM_Startup command.

       <b>-o</b>  Only send the startup command and nothing else.

       <b>-ea</b> Make sure that the TPM is activated; if the TPM requires a reset, the program will exist and return a
           return code of 129.

       <b>-cs</b> Send a TPM_ContinueSelfTest command to a TPM 1.2 and a TPM2_IncrementalSelfTest command to a TPM 2.

       <b>-u</b>  Give  up  physical  presence  on a TPM 1.2. In case of a TPM 2 set the platform hierarchy to a random
           password.

       <b>-v</b>  Display version and exit.

       <b>-h</b>  Display the help screen and exit.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
</pre><h4><b>REPORTING</b> <b>BUGS</b></h4><pre>
       Report bugs to Stefan Berger &lt;<a href="mailto:stefanb@linux.vnet.ibm.com">stefanb@linux.vnet.ibm.com</a>&gt;

swtpm                                              2024-11-08                                      <u><a href="../man8/swtpm_bios.8.html">swtpm_bios</a></u>(8)
</pre>
 </div>
</div></section>
</div>
</body>
</html>