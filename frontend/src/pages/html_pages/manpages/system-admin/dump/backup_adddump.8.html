<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>backup_adddump - Defines a dump level in the dump hierarchy</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/openafs-client">openafs-client_1.8.13.2-1ubuntu1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       backup_adddump - Defines a dump level in the dump hierarchy

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>backup</b> <b>adddump</b> <b>-dump</b> &lt;<u>dump</u> <u>level</u> <u>name</u>&gt;+
           [<b>-expires</b> &lt;<u>expiration</u> <u>date</u>&gt;+]
           [<b>-localauth</b>] [<b>-cell</b> &lt;<u>cell</u> <u>name</u>&gt;] [<b>-help</b>]

       <b>backup</b> <b>addd</b> <b>-d</b> &lt;<u>dump</u> <u>level</u> <u>name</u>&gt;+
           [<b>-e</b> &lt;<u>expiration</u> <u>date</u>&gt;+]
           [<b>-l</b>] [<b>-c</b> &lt;<u>cell</u> <u>name</u>&gt;] [<b>-h</b>]

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The <b>backup</b> <b>adddump</b> command creates one or more dump levels in the dump hierarchy stored in the Backup
       Database, and optionally assigns an expiration date to each one. All of the dump levels in the Backup
       Database collectively constitute the dump hierarchy.

       Use the <b>-expires</b> argument to associate an expiration date with each dump level. When the Backup System
       subsequently creates a dump at the dump level, it uses the specified value to derive the dump's
       expiration date, which it records on the label of the tape (or backup data file). The Backup System
       refuses to overwrite a tape until after the latest expiration date of any dump that the tape contains,
       unless the <b>backup</b> <b>labeltape</b> command is used to relabel the tape. If a dump level does not have an
       expiration date, the Backup System treats dumps created at the level as expired as soon as it creates
       them.

       (Note that the Backup System does not automatically remove a dump's record from the Backup Database when
       the dump reaches its expiration date, but only if the tape that contains the dump is recycled or
       relabeled. To remove expired and other obsolete dump records, use the <b>backup</b> <b>deletedump</b> command.)

       Define either an absolute or relative expiration date:

       •   An absolute expiration date defines the month/day/year (and, optionally, hour and minutes) at which a
           dump  expires.  If the expiration date predates the dump creation time, the Backup System immediately
           treats the dump as expired.

       •   A relative date defines the number of years, months, or days (or a combination of  the  three)  after
           the  dump's  creation  that  it  expires. When the Backup System creates a dump at the dump level, it
           calculates an actual expiration date by adding the relative date  to  the  start  time  of  the  dump
           operation.

</pre><h4><b>OPTIONS</b></h4><pre>
       <b>-dump</b> &lt;<u>dump</u> <u>level</u> <u>name</u>&gt;+
           Names  each  dump level to add to the dump hierarchy. Precede full dump level names with a slash (for
           example, "/full"). Indicate an incremental dump level by preceding it with an  ordered  list  of  the
           dump  levels  directly  above  it  in  the  hierarchy  (its  parent  dump levels); use the slash as a
           separator. The parent dump levels must already exist.  For  example,  the  dump  levels  "/full"  and
           "/full/incremental1"  must exist when the incremental dump level "/full/incremental1/incremental2" is
           created.

           Dump level names can have any number of levels, but cannot exceed 256 characters in length, including
           the slashes. The maximum length for any single level (the text between slashes) is 28 characters, not
           including the preceding slash.

           All alphanumeric characters are allowed in dump level names. Do not use the  period  ("."),  however,
           because it is the separator between the volume set name and dump level name in the dump name assigned
           automatically  by  the <b>backup</b> <b>dump</b> command. It is best not to include other metacharacters either; if
           using them, enclose them in double quotes (" ") when  issuing  the  <b>backup</b>  <b>adddump</b>  command  outside
           interactive mode.

       <b>-expires</b> &lt;<u>expiration</u> <u>date</u>&gt;+
           Defines the absolute or relative expiration date to associate with each dump level named by the <b>-dump</b>
           argument. Absolute expiration dates have the following format:

              [at] {NEVER | &lt;mm&gt;/&lt;dd&gt;/&lt;yyyy&gt; [&lt;hh&gt;:&lt;MM&gt;] }

           where  the  optional  word  at  is  followed either by the string "NEVER", which indicates that dumps
           created at the dump level never expire, or by a date value with a required portion (&lt;mm&gt;  for  month,
           &lt;dd&gt; for day, and &lt;yyyy&gt; for year) and an optional portion (&lt;hh&gt; for hours and &lt;MM&gt; for minutes).

           Omit  the  <u>hh:MM</u>  portion to use the default of midnight (00:00 hours), or provide a value in 24-hour
           format (for example, "20:30" is 8:30 p.m.).  Valid values for the  year  range  from  1970  to  2037;
           higher  values  are not valid because the latest possible date in the standard UNIX representation is
           in February 2038. The command interpreter automatically reduces later dates to the maximum value.

           Relative expiration dates have the following format:

              [in] [&lt;years&gt;y] [&lt;months&gt;m] [&lt;days&gt;d]

           where the optional word in is followed by at least one of a number of years (maximum  9999)  followed
           by  the  letter  "y", a number of months (maximum 12) followed by the letter "m", or a number of days
           (maximum 31) followed by the letter "d". If providing more than one of the three, list  them  in  the
           indicated  order.  If  the  date  that  results from adding the relative expiration value to a dump's
           creation time is later than the latest possible date in the  UNIX  time  representation,  the  Backup
           System automatically reduces it to that date.

       <b>-localauth</b>
           Constructs  a  server  ticket using a key from the local <u>/etc/openafs/server/KeyFile</u> file. The <b>backup</b>
           command interpreter presents it to the Backup Server, Volume  Server  and  VL  Server  during  mutual
           authentication. Do not combine this flag with the <b>-cell</b> argument. For more details, see <b><a href="../man8/backup.8.html">backup</a></b>(8).

       <b>-cell</b> &lt;<u>cell</u> <u>name</u>&gt;
           Names  the  cell  in which to run the command. Do not combine this argument with the <b>-localauth</b> flag.
           For more details, see <b><a href="../man8/backup.8.html">backup</a></b>(8).

       <b>-help</b>
           Prints the online help for this command. All other valid options are ignored.

</pre><h4><b>EXAMPLES</b></h4><pre>
       The following command defines a full dump called "/1999" with a relative expiration date of one year:

          % backup adddump -dump /1999 -expires in 1y

       The following command defines an incremental dump called "/sunday1/monday"1 with  a  relative  expiration
       date of 13 days:

          % backup adddump -dump /sunday1/monday1 -expires in 13d

       The  following  command  defines two dump incremental dump levels, "/Monthly/Week1" and "/Monthly/Week2".
       Their parent, the full dump level "/Monthly", must already exist. The expiration date for both levels  is
       12:00 a.m. on 1 January 2000.

          % backup adddump -dump /Monthly/Week1 /Monthly/Week2 -expires at 01/01/2000

</pre><h4><b>PRIVILEGE</b> <b>REQUIRED</b></h4><pre>
       The  issuer  must  be  listed  in the <u>/etc/openafs/server/UserList</u> file on every machine where the Backup
       Server is running, or must be logged onto  a  server  machine  as  the  local  superuser  "root"  if  the
       <b>-localauth</b> flag is included.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man8/backup.8.html">backup</a></b>(8), <b><a href="../man8/backup_deldump.8.html">backup_deldump</a></b>(8), <b><a href="../man8/backup_deletedump.8.html">backup_deletedump</a></b>(8), <b><a href="../man8/backup_listdumps.8.html">backup_listdumps</a></b>(8), <b><a href="../man8/backup_setexp.8.html">backup_setexp</a></b>(8)

</pre><h4><b>COPYRIGHT</b></h4><pre>
       IBM Corporation 2000. &lt;<a href="http://www.ibm.com/">http://www.ibm.com/</a>&gt; All Rights Reserved.

       This  documentation  is covered by the IBM Public License Version 1.0.  It was converted from HTML to POD
       by software written by Chas Williams and Russ Allbery, based on  work  by  Alf  Wachsmann  and  Elizabeth
       Cassell.

OpenAFS                                            2025-03-21                                  <u><a href="../man8/BACKUP_ADDDUMP.8.html">BACKUP_ADDDUMP</a></u>(8)
</pre>
 </div>
</div></section>
</div>
</body>
</html>