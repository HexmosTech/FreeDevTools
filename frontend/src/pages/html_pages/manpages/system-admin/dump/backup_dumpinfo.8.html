<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>backup_dumpinfo - Displays a dump record from the Backup Database</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/openafs-client">openafs-client_1.8.13.2-1ubuntu1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       backup_dumpinfo - Displays a dump record from the Backup Database

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>backup</b> <b>dumpinfo</b> [<b>-ndumps</b> &lt;<u>number</u> <u>of</u> <u>dumps</u>&gt;]
           [<b>-id</b> &lt;<u>dump</u> <u>id</u>&gt;] [<b>-verbose</b>] [<b>-localauth</b>]
           [<b>-cell</b> &lt;<u>cell</u> <u>name</u>&gt;] [<b>-help</b>]

       <b>backup</b> <b>dumpi</b> [<b>-n</b> &lt;<u>no.</u> <u>of</u> <u>dumps</u>&gt;] [-i &lt;<u>dump</u> <u>id</u>&gt;] [<b>-v</b>]
           [<b>-l</b>] [<b>-c</b> &lt;<u>cell</u> <u>name</u>&gt;] [<b>-h</b>]

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The <b>backup</b> <b>dumpinfo</b> command formats and displays the Backup Database record for the specified dumps. To
       specify how many of the most recent dumps to display, starting with the newest one and going back in
       time, use the <b>-ndumps</b> argument. To display more detailed information about a single dump, use the <b>-id</b>
       argument. To display the records for the 10 most recent dumps, omit both the <b>-ndumps</b> and <b>-id</b> arguments.

       The <b>-verbose</b> flag produces very detailed information that is useful mostly for debugging purposes. It can
       be combined only with the <b>-id</b> argument.

</pre><h4><b>OPTIONS</b></h4><pre>
       <b>-ndumps</b> &lt;<u>number</u> <u>of</u> <u>dumps</u>&gt;
           Displays the Backup Database record for each of the specified number of dumps that were most recently
           performed.  If  the database contains fewer dumps than are requested, the output includes the records
           for all existing dumps. Do not combine this argument with the  <b>-id</b>  or  <b>-verbose</b>  options;  omit  all
           options to display the records for the last 10 dumps.

       <b>-id</b> &lt;<u>dump</u> <u>id</u>&gt;
           Specifies  the  dump  ID  number  of  a  single dump for which to display the Backup Database record.
           Precede the <u>dump</u> <u>id</u> value with the <b>-id</b> switch; otherwise, the command interpreter  interprets  it  as
           the  value  of  the  <b>-ndumps</b> argument. Combine this argument with the <b>-verbose</b> flag, but not with the
           <b>-ndumps</b> argument; omit all options to display the records for the last 10 dumps.

       <b>-verbose</b>
           Provides more detailed information about the dump specified with the  <b>-id</b>  argument,  which  must  be
           provided along with it. Do not combine this flag with the <b>-ndumps</b> argument.

       <b>-localauth</b>
           Constructs  a  server  ticket using a key from the local <u>/etc/openafs/server/KeyFile</u> file. The <b>backup</b>
           command interpreter presents it to the Backup Server, Volume  Server  and  VL  Server  during  mutual
           authentication. Do not combine this flag with the <b>-cell</b> argument. For more details, see <b><a href="../man8/backup.8.html">backup</a></b>(8).

       <b>-cell</b> &lt;<u>cell</u> <u>name</u>&gt;
           Names  the  cell  in which to run the command. Do not combine this argument with the <b>-localauth</b> flag.
           For more details, see <b><a href="../man8/backup.8.html">backup</a></b>(8).

       <b>-help</b>
           Prints the online help for this command. All other valid options are ignored.

</pre><h4><b>OUTPUT</b></h4><pre>
       If the <b>-ndumps</b> argument is provided, the output presents the following information in table form, with  a
       separate line for each dump:

       dumpid
           The dump ID number.

       parentid
           The dump ID number of the dump's parent dump. A value of 0 (zero) identifies a full dump.

       lv  The  depth  in  the  dump  hierarchy  of  the dump level used to create the dump. A value of 0 (zero)
           identifies a full dump, in which case the value in the "parentid" field is also 0. A value  of  1  or
           greater indicates an incremental dump made at the corresponding level in the dump hierarchy.

       created
           The date and time at which the Backup System started the dump operation that created the dump.

       nt  The  number  of  tapes that contain the data in the dump. A value of 0 (zero) indicates that the dump
           operation was terminated or failed. Use the <b>backup</b> <b>deletedump</b> command to remove such entries.

       nvols
           The number of volumes from which the dump includes data. If a  volume  spans  tapes,  it  is  counted
           twice.  A  value of 0 (zero) indicates that the dump operation was terminated or failed; the value in
           the "nt" field is also 0 in this case.

       dump name
           The dump name in the form

              &lt;volume_set_name&gt;.&lt;dump_level_name&gt; (&lt;initial_dump_ID&gt;)

           where &lt;volume_set_name&gt; is the name of the volume set, and &lt;dump_level_name&gt; is the last  element  in
           the dump level pathname at which the volume set was dumped.

           The &lt;initial_dump_ID&gt;, if displayed, is the dump ID of the initial dump in the dump set to which this
           dump  belongs.  If  there is no value in parentheses, the dump is the initial dump in a dump set that
           has no appended dumps.

       If the <b>-id</b> argument is provided alone, the first line of output begins with the string "Dump" and reports
       information for the entire dump in the following fields:

       id  The dump ID number.

       level
           The depth in the dump hierarchy of the dump level used to create  the  dump.  A  value  of  0  (zero)
           identifies  a  full  dump.  A  value  of 1 (one) or greater indicates an incremental dump made at the
           specified level in the dump hierarchy.

       volumes
           The number of volumes for which the dump includes data.

       created
           The date and time at which the dump operation began.

       If an XBSA server was the backup medium for the dump (rather than a tape device or backup data file), the
       following line appears next:

          Backup Service: &lt;XBSA_program&gt;: Server: &lt;hostname&gt;

       where &lt;XBSA_program&gt; is the name of the XBSA-compliant program and &lt;hostname&gt; is the name of the  machine
       on which the program runs.

       Next  the  output  includes  an  entry for each tape that houses volume data from the dump. Following the
       string "Tape", the first two lines of each entry report information about  that  tape  in  the  following
       fields:

       name
           The  tape's  permanent  name if it has one, or its AFS tape name otherwise, and its tape ID number in
           parentheses.

       nVolumes
           The number of volumes for which this tape includes dump data.

       created
           The date and time at which the Tape Coordinator began writing data to this tape.

       Following another blank line, the tape-specific information concludes with a table that includes  a  line
       for each volume dump on the tape. The information appears in columns with the following headings:

       Pos The  relative position of each volume in this tape or file. On a tape, the counter begins at position
           2 (the tape label occupies position 1), and increments by one for  each  volume.  For  volumes  in  a
           backup data file, the position numbers start with 1 and do not usually increment only by one, because
           each is the ordinal of the 16 KB offset in the file at which the volume's data begins. The difference
           between  the  position numbers therefore indicates how many 16 KB blocks each volume's data occupies.
           For example, if the second volume is at position 5 and the third volume in the list is at position 9,
           that means that the dump of the second volume occupies 64 KB (four 16-KB  blocks)  of  space  in  the
           file.

       Clone time
           For  a  backup or read-only volume, the time at which it was cloned from its read/write source. For a
           Read/Write volume, it is the same as the dump creation date reported on the first line of the output.

       Nbytes
           The number of bytes of data in the dump of the volume.

       Volume
           The volume name, complete with ".backup" or ".readonly" extension if appropriate.

       If both the <b>-id</b> and <b>-verbose</b> options are provided, the output is divided into several sections:

       â€¢   The first section, headed by the underlined string "Dump",  includes  information  about  the  entire
           dump. The fields labeled "id", "level", "created", and "nVolumes" report the same values (though in a
           different  order)  as appear on the first line of output when the <b>-id</b> argument is provided by itself.
           Other fields of potential interest to the backup operator are:

           Group id
               The dump's <u>group</u> <u>ID</u> <u>number</u>, which is recorded  in  the  dump's  Backup  Database  record  if  the
               "GROUPID"  instruction  appears  in  the Tape Coordinator's <u>/var/lib/openafs/backup/CFG_tcid</u> file
               when the dump is created.

           maxTapes
               The number of tapes that contain the dump set to which this dump belongs.

           Start Tape Seq
               The ordinal of the tape on which this dump begins in the set of tapes that contain the dump set.

       â€¢   For each tape that contains data from this dump, there follows a section  headed  by  the  underlined
           string "Tape". The fields labeled "name", "written", and "nVolumes" report the same values (though in
           a  different  order)  as  appear  on  the  second  and third lines of output when the <b>-id</b> argument is
           provided by itself. Other fields of potential interest to the backup operator are:

           expires
               The date and time when this tape can be recycled, because all dumps it contains have expired.

           nMBytes Data and nBytes Data
               Summed together, these fields represent the total amount of dumped data actually from volumes (as
               opposed to labels, filemarks, and other markers).

           KBytes Tape Used
               The number of kilobytes of tape (or disk space, for a backup data file) used to  store  the  dump
               data.  It  is generally larger than the sum of the values in the "nMBytes Data" and "nBytes Data"
               fields, because it includes the space required for the label, file marks and other  markers,  and
               because the Backup System writes data at 16 KB offsets, even if the data in a given block doesn't
               fill the entire 16 KB.

       â€¢   For  each  volume  on a given tape, there follows a section headed by the underlined string "Volume".
           The fields labeled "name", "position", "clone", and "nBytes" report the  same  values  (though  in  a
           different  order) as appear in the table that lists the volumes in each tape when the <b>-id</b> argument is
           provided by itself. Other fields of potential interest to the backup operator are:

           id  The volume ID.

           tape
               The name of the tape containing this volume data.

</pre><h4><b>EXAMPLES</b></h4><pre>
       The following example displays information about the last five dumps:

          % backup dumpinfo -ndumps 5
             dumpid   parentid lv created          nt nvols dump name
          924424000          0 0  04/18/1999 04:26  1    22 usr.sun (924424000)
          924685000  924424000 1  04/21/1999 04:56  1    62 usr.wed (924424000)
          924773000  924424000 1  04/22/1999 05:23  1    46 usr.thu (924424000)
          924860000  924424000 1  04/23/1999 05:33  1    58 usr.fri (924424000)
          925033000          0 0  04/25/1999 05:36  2    73 sys.week

       The following example displays a more detailed record for a single dump.

          % backup dumpinfo -id 922097346
          Dump: id 922097346, level 0, volumes 1, created Mon Mar 22 05:09:06 1999
          Tape: name monday.user.backup (922097346)
          nVolumes 1, created 03/22/1999 05:09
           Pos       Clone time   Nbytes Volume
             1 03/22/1999 04:43 27787914 user.pat.backup

       The following example displays even more detailed information about the dump displayed  in  the  previous
       example  (dump  ID  922097346).  This example includes only one exemplar of each type of section ("Dump",
       "Tape", and "Volume"):

          % backup dumpinfo -id 922097346 -verbose
          Dump
          ----
          id = 922097346
          Initial id = 0
          Appended id = 922099568
          parent = 0
          level = 0
          flags = 0x0
          volumeSet = user
          dump path = /monday1
          name = user.monday1
          created = Mon Mar 22 05:09:06 1999
          nVolumes = 1
          id  = 0
          tapeServer =
          format= user.monday1.%d
          maxTapes = 1
          Start Tape Seq = 1
          name = pat
          instance =
          cell =
          Tape
          ----
          tape name = monday.user.backup
          AFS tape name = user.monday1.1
          flags = 0x20
          written = Mon Mar 22 05:09:06 1999
          expires = NEVER
          kBytes Tape Used = 121
          nMBytes Data = 0
          nBytes  Data = 19092
          nFiles = 0
          nVolumes = 1
          seq = 1
          tapeid = 0
          useCount = 1
          dump = 922097346
          Volume
          ------
          name = user.pat.backup
          flags = 0x18
          id = 536871640
          server =
          partition = 0
          nFrags = 1
          position = 2
          clone = Mon Mar 22 04:43:06 1999
          startByte = 0
          nBytes = 19092
          seq = 0
          dump = 922097346
          tape = user.monday1.1

</pre><h4><b>PRIVILEGE</b> <b>REQUIRED</b></h4><pre>
       The issuer must be listed in the <u>/etc/openafs/server/UserList</u> file on  every  machine  where  the  Backup
       Server  is  running,  or  must  be  logged  onto  a  server  machine as the local superuser "root" if the
       <b>-localauth</b> flag is included.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man5/butc.5.html">butc</a></b>(5), <b><a href="../man8/backup.8.html">backup</a></b>(8), <b><a href="../man8/backup_deletedump.8.html">backup_deletedump</a></b>(8)

</pre><h4><b>COPYRIGHT</b></h4><pre>
       IBM Corporation 2000. &lt;<a href="http://www.ibm.com/">http://www.ibm.com/</a>&gt; All Rights Reserved.

       This documentation is covered by the IBM Public License Version 1.0.  It was converted from HTML  to  POD
       by  software  written  by  Chas  Williams  and Russ Allbery, based on work by Alf Wachsmann and Elizabeth
       Cassell.

OpenAFS                                            2025-03-21                                 <u><a href="../man8/BACKUP_DUMPINFO.8.html">BACKUP_DUMPINFO</a></u>(8)
</pre>
 </div>
</div></section>
</div>
</body>
</html>