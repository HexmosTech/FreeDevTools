<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>domain - nnrpd domain resolver</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/inn2">inn2_2.7.3-1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       domain - nnrpd domain resolver

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>domain</b> <u>domain-name</u>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       This program can be used in <u>readers.conf</u> to grant access based on the subdomain part of the remote
       hostname.  In particular, it only returns success if the remote hostname ends in <u>domain-name</u>.  (A leading
       dot on <u>domain-name</u> is optional; even without it, the argument must match on dot-separated boundaries).
       The "username" returned is whatever initial part of the remote hostname remains after <u>domain-name</u> is
       removed.  It is an error if there is no initial part (that is, if the remote hostname is <u>exactly</u> the
       specified <u>domain-name</u>).

</pre><h4><b>EXAMPLE</b></h4><pre>
       The following <a href="../man5/readers.conf.5.html">readers.conf</a>(5) fragment grants access to hosts with internal domain names:

           auth internal {
               res: "domain .internal"
               default-domain: "example.com"
           }

           access internal {
               users: "*@example.com"
               newsgroups: example.*
           }

       Access is granted to the example.* groups for all connections from hosts that resolve to hostnames ending
       in ".internal"; a connection from "foo.internal" would match access groups as "<a href="mailto:foo@example.com">foo@example.com</a>" identity.

</pre><h4><b>BUGS</b></h4><pre>
       It seems the code does not confirm that the matching part is actually at the end of the remote hostname
       (e.g., "domain: example.com" would match the remote host "foo.example.com.org" by ignoring the trailing
       ".org" part).

       Does this resolver actually provide any useful functionality not available by using wildcards in the
       <a href="../man5/readers.conf.5.html">readers.conf</a>(5) <u>hosts</u> parameter?  If so, the example above should reflect this functionality.

</pre><h4><b>HISTORY</b></h4><pre>
       This documentation was written by Jeffrey M. Vinocur &lt;<a href="mailto:jeff@litech.org">jeff@litech.org</a>&gt;.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <a href="../man8/nnrpd.8.html">nnrpd</a>(8), <a href="../man5/readers.conf.5.html">readers.conf</a>(5)

INN 2.7.3                                          2025-05-19                                          <u><a href="../man8/DOMAIN.8.html">DOMAIN</a></u>(8)
</pre>
 </div>
</div></section>
</div>
</body>
</html>