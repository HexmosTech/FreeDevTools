<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>XDP-trafficgen - an XDP-based traffic generator</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/xdp-tools">xdp-tools_1.5.1-1ubuntu2_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       XDP-trafficgen - an XDP-based traffic generator

</pre><h4><b>SYNOPSIS</b></h4><pre>
       XDP-trafficgen is a packet generator utilising the XDP kernel subsystem to generate packets transmit them
       through  a  network  interface. Packets are dynamically generated and transmitted in the kernel, allowing
       for high performance (millions of packets per second per core).

       XDP-trafficgen supports generating UDP traffic with fixed or dynamic  destination  ports,  and  also  has
       basic support for generating dummy TCP traffic on a single flow.

   <b>Running</b> <b>xdp-traffigen</b>
       The syntax for running xdp-trafficgen is:

              Usage: xdp-trafficgen COMMAND [options]

              COMMAND can be one of:
                     udp         - run in UDP mode
                     tcp         - run in TCP mode

       Each  command,  and  its  options  are  explained  below. Or use <u>xdp-trafficgen</u> <u>COMMAND</u> <u>--help</u> to see the
       options for each command.

</pre><h4><b>The</b> <b>UDP</b> <b>command</b></h4><pre>
       The UDP command generates UDP traffic to a given destination IP and either a fixed destination port, or a
       range of port numbers. Only IPv6 traffic is supported, and the generated packets will have their  IP  hop
       limit set to 1, so they can't be routed.

       The syntax for the <u>udp</u> command is:

       <u>xdp-trafficgen</u> <u>udp</u> <u>[options]</u> <u>&lt;ifname&gt;</u>

       Where  <u>&lt;ifname&gt;</u>  is  the name of the destination interface that packets will be transmitted on. Note that
       the network driver of this network interface must support being the target  of  XDP  redirects  (it  must
       implement the <u>ndo_xdp_xmit</u> driver operation).

       The supported options are:

   <b>-m,</b> <b>--dst-mac</b> <b>&lt;mac</b> <b>addr&gt;</b>
       Set the destination MAC address of generated packets. The default is to generate packets with an all-zero
       destination MAC.

   <b>-M,</b> <b>--src-mac</b> <b>&lt;mac</b> <b>addr&gt;</b>
       Set  the  source  MAC  address  of  the  generated  packets. The default is to use the MAC address of the
       interface packets are transmitted on.

   <b>-a,</b> <b>--dst-addr</b> <b>&lt;addr&gt;</b>
       Destination IP address of generated packets. The default is the link-local <u>fe80::2</u> address.

   <b>-A,</b> <b>--src-addr</b> <b>&lt;addr&gt;</b>
       Source IP address of generated packets. The default is the link-local <u>fe80::1</u> address.

   <b>-p,</b> <b>--dst-port</b> <b>&lt;port&gt;</b>
       Destination UDP port of generated packets, or the first port in the range  if  running  with  <u>--dyn-ports</u>
       set. Defaults to 1.

   <b>-P,</b> <b>--src-port</b> <b>&lt;port&gt;</b>
       Source UDP port of generated packets. Defaults to 1.

   <b>-d,</b> <b>--dyn-ports</b> <b>&lt;num</b> <b>ports&gt;</b>
       Enable  dynamic  port mode where the destination port is varied over a range of <u>&lt;num</u> <u>ports&gt;</u> starting from
       the <u>--dst-port</u>.

   <b>-n,</b> <b>--num-packets</b> <b>&lt;port&gt;</b>
       Number of packets to send before exiting. If not supplied, <u>xdp-trafficgen</u> will keep sending packets until
       interrupted.

   <b>-s,</b> <b>--pkt-size</b> <b>&lt;bytes&gt;</b>
       Size of each UDP packet being sent, including the Ethernet header. The minimum size, which  is  also  the
       default, is 64 bytes.

   <b>-t,</b> <b>--threads</b> <b>&lt;threads&gt;</b>
       Number  of  simultaneous  threads  to transmit from. Each thread will be pinned to a separate CPU core if
       possible. Defaults to 1.

   <b>-I,</b> <b>--interval</b> <b>&lt;s&gt;</b>
       Output transmission statistics with this interval (in seconds).

   <b>-v,</b> <b>--verbose</b>
       Enable verbose logging (-vv: more verbose).

   <b>--version</b>
       Display version information and exit.

   <b>-h,</b> <b>--help</b>
       Display a summary of the available options

</pre><h4><b>The</b> <b>TCP</b> <b>command</b></h4><pre>
       The TCP command generates dummy TCP traffic in a single TCP flow. This  relies  on  first  installing  an
       ingress  XDP  program  on  the  interface  used to transmit on.  Then, a regular TCP socket connection is
       established from userspace, and once the handshake is completed, the XDP program will take over and start
       generating traffic on that flow tuple. The ingress XDP  program  will  intercept  ACK  packets  from  the
       receiver, and keep track of the receive window.

       The traffic generator has no congestion control, and only very basic retransmit tracking: in essence, any
       duplicate  ACKs  from  the  receiver  will cause the sender to reset its send sequence number to the last
       ACKed value and restart from there. The same thing happens if no progress on the window  is  made  within
       two  seconds.  This means that the traffic generator can generate a large amount of dummy traffic, but if
       there's packet loss a lot of this can be retransmissions.

       The syntax for the <u>tcp</u> command is:

       <u>xdp-trafficgen</u> <u>tcp</u> <u>[options]</u> <u>-i</u> <u>&lt;ifname&gt;</u> <u>&lt;hostname&gt;</u>

       Where <u>&lt;ifname&gt;</u> is the name of  the  destination  interface  that  packets  will  be  transmitted  on  and
       <u>&lt;hostname&gt;</u>  is  the  peer  hostname  or  IP address to connect to (only IPv6 is supported). Note that the
       network driver of this network interface must  support  being  the  target  of  XDP  redirects  (it  must
       implement the <u>ndo_xdp_xmit</u> driver operation).

       The supported options are:

   <b>-p,</b> <b>--dst-port</b> <b>&lt;port&gt;</b>
       Connect to destination &lt;port&gt;. Default 10000.

   <b>-m,</b> <b>--mode</b> <b>&lt;mode&gt;</b>
       Load ingress XDP program in &lt;mode&gt;; default native (valid values: native,skb,hw)

   <b>-n,</b> <b>--num-packets</b> <b>&lt;port&gt;</b>
       Number of packets to send before exiting. If not supplied, <u>xdp-trafficgen</u> will keep sending packets until
       interrupted.

   <b>-I,</b> <b>--interval</b> <b>&lt;s&gt;</b>
       Output transmission statistics with this interval (in seconds).

   <b>-v,</b> <b>--verbose</b>
       Enable verbose logging (-vv: more verbose).

   <b>--version</b>
       Display version information and exit.

   <b>-h,</b> <b>--help</b>
       Display a summary of the available options

</pre><h4><b>BUGS</b></h4><pre>
       Please report any bugs on Github: <u>https://github.com/xdp-project/xdp-tools/issues</u>

</pre><h4><b>AUTHOR</b></h4><pre>
       xdp-trafficgen and this man page were written by Toke Høiland-Jørgensen.

V1.5.1                                          JANUARY  9, 2025                               <u><a href="../man8/xdp-trafficgen.8.html">xdp-trafficgen</a></u>(8)
</pre>
 </div>
</div></section>
</div>
</body>
</html>