<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>dmsetup — low level logical volume management</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/dmsetup">dmsetup_1.02.205-2ubuntu1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       dmsetup — low level logical volume management

</pre><h4><b>SYNOPSIS</b></h4><pre>

       <b>dmsetup</b> <b>clear</b> <u>device_name</u>
       <b>dmsetup</b> <b>create</b> <u>device_name</u> [<b>-n</b>|<b>--notable</b>|<b>--table</b> <u>table</u>|<u>table_file</u>] [<b>--readahead</b> [<b>+</b>]<u>sectors</u>|<b>auto</b>|<b>none</b>]
                [<b>-u</b>|<b>--uuid</b> <u>uuid</u>] [<b>--addnodeoncreate</b>|<b>--addnodeonresume</b>]
       <b>dmsetup</b> <b>create</b> <b>--concise</b> [<u>concise_device_specification</u>]
       <b>dmsetup</b> <b>deps</b> [<b>-o</b> <u>options</u>] [<u>device_name</u>...]
       <b>dmsetup</b> <b>help</b> [<b>-c</b>|<b>-C</b>|<b>--columns</b>]
       <b>dmsetup</b> <b>info</b> [<u>device_name</u>...]
       <b>dmsetup</b> <b>info</b> <b>-c</b>|<b>-C</b>|<b>--columns</b> [<b>--count</b> <u>count</u>] [<b>--interval</b> <u>seconds</u>] [<b>--noheadings</b>|<b>--headings</b>] [<b>-o</b> <u>fields</u>]
                [<b>-O</b>|<b>--sort</b> <u>sort_fields</u>] [<b>--nameprefixes</b>] [<b>--separator</b> <u>separator</u>] [<u>device_name</u>]
       <b>dmsetup</b> <b>load</b> <u>device_name</u> [<b>--table</b> <u>table</u>|<u>table_file</u>]
       <b>dmsetup</b> <b>ls</b> [<b>--target</b> <u>target_type</u>] [<b>-o</b> <u>options</u>] [<b>--exec</b> <u>command</u>] [<b>--tree</b>]
       <b>dmsetup</b> <b>mangle</b> [<u>device_name</u>...]
       <b>dmsetup</b> <b>measure</b> [<u>device_name</u>...]
       <b>dmsetup</b> <b>message</b> <u>device_name</u> <u>sector</u> <u>message</u>
       <b>dmsetup</b> <b>mknodes</b> [<u>device_name</u>...]
       <b>dmsetup</b> <b>reload</b> <u>device_name</u> [<b>--table</b> <u>table</u>|<u>table_file</u>]
       <b>dmsetup</b> <b>remove</b> [<b>-f</b>|<b>--force</b>] [<b>--retry</b>] [<b>--deferred</b>] <u>device_name</u>...
       <b>dmsetup</b> <b>remove_all</b> [<b>-f</b>|<b>--force</b>] [<b>--deferred</b>]
       <b>dmsetup</b> <b>rename</b> <u>device_name</u> <u>new_name</u>
       <b>dmsetup</b> <b>rename</b> <u>device_name</u> <b>--setuuid</b> <u>uuid</u>
       <b>dmsetup</b> <b>resume</b> <u>device_name</u>...  [<b>--addnodeoncreate</b>|<b>--addnodeonresume</b>] [<b>--noflush</b>] [<b>--nolockfs</b>]
                [<b>--readahead</b> [<b>+</b>]<u>sectors</u>|<b>auto</b>|<b>none</b>]
       <b>dmsetup</b> <b>setgeometry</b> <u>device_name</u> <u>cyl</u> <u>head</u> <u>sect</u> <u>start</u>
       <b>dmsetup</b> <b>splitname</b> <u>device_name</u> [<u>subsystem</u>]
       <b>dmsetup</b> <b>stats</b> <u>command</u> [<u>options</u>]
       <b>dmsetup</b> <b>status</b> [<b>--target</b> <u>target_type</u>] [<b>--noflush</b>] [<u>device_name</u>...]
       <b>dmsetup</b> <b>suspend</b> [<b>--nolockfs</b>] [<b>--noflush</b>] <u>device_name</u>...
       <b>dmsetup</b> <b>table</b> [<b>--concise</b>] [<b>--target</b> <u>target_type</u>] [<b>--showkeys</b>] [<u>device_name</u>...]
       <b>dmsetup</b> <b>targets</b>
       <b>dmsetup</b> <b>udevcomplete</b> <u>cookie</u>
       <b>dmsetup</b> <b>udevcomplete_all</b> [<u>age_in_minutes</u>]
       <b>dmsetup</b> <b>udevcookie</b>
       <b>dmsetup</b> <b>udevcreatecookie</b>
       <b>dmsetup</b> <b>udevflags</b> <u>cookie</u>
       <b>dmsetup</b> <b>udevreleasecookie</b> [<u>cookie</u>]
       <b>dmsetup</b> <b>version</b>
       <b>dmsetup</b> <b>wait</b> [<b>--noflush</b>] <u>device_name</u> [<u>event_nr</u>]
       <b>dmsetup</b> <b>wipe_table</b> <u>device_name</u>...  [<b>-f</b>|<b>--force</b>] [<b>--noflush</b>] [<b>--nolockfs</b>]

       <b>devmap_name</b> <u>major</u> <u>minor</u>
       <b>devmap_name</b> <u>major:minor</u>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       dmsetup  manages logical devices that use the device-mapper driver.  Devices are created by loading a ta‐
       ble that specifies a target for each sector (512 bytes) in the logical device.

       The first argument to dmsetup is a command.  The second argument is the logical device name or uuid.

       Invoking the dmsetup tool as <b>devmap_name</b> (which is not normally distributed and  is  supported  only  for
       historical reasons) is equivalent to <b>dmsetup</b> <b>info</b> <b>-c</b> <b>--noheadings</b> <b>-j</b> <u>major</u> <b>-m</b> <u>minor</u><b>.</b>

</pre><h4><b>OPTIONS</b></h4><pre>
       <b>--addnodeoncreate</b>
              Ensure <u><a href="file:/dev/mapper">/dev/mapper</a></u> node exists after <b>dmsetup</b> <b>create</b>.

       <b>--addnodeonresume</b>
              Ensure <u><a href="file:/dev/mapper">/dev/mapper</a></u> node exists after <b>dmsetup</b> <b>resume</b> (default with udev).

       <b>--checks</b>
              Perform  additional checks on the operations requested and report potential problems.  Useful when
              debugging scripts.  In some cases these checks may slow down operations noticeably.

       <b>-c</b>|<b>-C</b>|<b>--columns</b>
              Display output in columns rather than as Field: Value lines.

       <b>--count</b> <u>count</u>
              Specify the number of times to repeat a report. Set this to zero continue until interrupted.   The
              default interval is one second.

       <b>-f</b>|<b>--force</b>
              Try harder to complete operation.

       <b>-h</b>|<b>--help</b>
              Outputs  a summary of the commands available, optionally including the list of report fields (syn‐
              onym with <b>help</b> command).

       <b>--inactive</b>
              When returning any table information from the kernel report on the inactive table instead  of  the
              live table.  Requires kernel driver version 4.16.0 or above.

       <b>--interval</b> <u>seconds</u>
              Specify the interval in seconds between successive iterations for repeating reports. If <b>--interval</b>
              is  specified  but <b>--count</b> is not, reports will continue to repeat until interrupted.  The default
              interval is one second.

       <b>--manglename</b> <b>auto</b>|<b>hex</b>|<b>none</b>
              Mangle any character not on a whitelist using mangling_mode when processing  device-mapper  device
              names  and  UUIDs. The names and UUIDs are mangled on input and unmangled on output where the man‐
              gling mode is one of: <b>auto</b> (only do the mangling if not mangled yet, do nothing  if  already  man‐
              gled, error on mixed), <b>hex</b> (always do the mangling) and <b>none</b> (no mangling).  Default mode is <b>auto</b>.
              Character  whitelist: 0–9, A–Z, a–z, #+-.:=@_. This whitelist is also supported by udev. Any char‐
              acter not on a whitelist is replaced with its hex value (two digits)  prefixed  by  \x.   Mangling
              mode could be also set through <b>DM_DEFAULT_NAME_MANGLING_MODE</b> environment variable.

       <b>-j</b>|<b>--major</b> <u>major</u>
              Specify the major number.

       <b>-m</b>|<b>--minor</b> <u>minor</u>
              Specify the minor number.

       <b>-n</b>|<b>--notable</b>
              When creating a device, don't load any table.

       <b>--nameprefixes</b>
              Add  a "DM_" prefix plus the field name to the output.  Useful with <b>--noheadings</b> to produce a list
              of field=value pairs that can be used to  set  environment  variables  (for  example,  in  <b><a href="../man7/udev.7.html">udev</a></b>(7)
              rules).

       <b>--noheadings</b>
              Suppress the headings line when using columnar output.

       <b>--headings</b> <b>none</b>|<b>abbrev</b>|<b>full</b>|<b>0</b>|<b>1</b>|<b>2</b>
              Type  of  headings  line to use for columnar output.  <b>none</b> or <b>0</b>: No headings.  <b>abbrev</b> or <b>1</b>: Column
              name abbreviations.  <b>full</b> or <b>2</b>: Full column names.

       <b>--noflush</b>
              Do not flush outstanding I/O when suspending a device, or do not commit  thin-pool  metadata  when
              obtaining thin-pool status.

       <b>--nolockfs</b>
              Do not attempt to synchronize filesystem eg, when suspending a device.

       <b>--noopencount</b>
              Tell the kernel not to supply the open reference count for the device.

       <b>--noudevrules</b>
              Do not allow udev to manage nodes for devices in device-mapper directory.

       <b>--noudevsync</b>
              Do not synchronize with udev when creating, renaming or removing devices.

       <b>-o</b>|<b>--options</b> <u>options</u>
              Specify which fields to display.

       <b>--readahead</b> [<b>+</b>]<u>sectors</u>|<b>auto</b>|<b>none</b>
              Specify read ahead size in units of sectors.  The default value is <b>auto</b> which allows the kernel to
              choose  a  suitable value automatically.  The <b>+</b> prefix lets you specify a minimum value which will
              not be used if it is smaller than the value chosen by the kernel.  The value <b>none</b> is equivalent to
              specifying zero.

       <b>-r</b>|<b>--readonly</b>
              Set the table being loaded read-only.

       <b>-S</b>|<b>--select</b> <u>selection</u>
              Process only items that match <u>selection</u> criteria.  If the  command  is  producing  report  output,
              adding  the  "selected"  column (<b>-o</b> <b>selected</b>) displays all rows and shows 1 if the row matches the
              <u>selection</u> and 0 otherwise. The selection criteria are defined by specifying column names and their
              valid values while making use of supported comparison operators. As a quick help and to  see  full
              list  of  column names that can be used in selection and the set of supported selection operators,
              check the output of <b>dmsetup</b> <b>info</b> <b>-c</b> <b>-S</b> <b>help</b> command.

       <b>--table</b> <u>table</u>
              Specify a one-line table directly on the command line.  See below for more information on the  ta‐
              ble format.

       <b>--udevcookie</b> <u>cookie</u>
              Use cookie for udev synchronization.  Note: Same cookie should be used for same type of operations
              i.e.  creation  of multiple different devices. It's not advised to combine different operations on
              the single device.

       <b>-u</b>|<b>--uuid</b> <u>uuid</u>
              Specify the <u>uuid</u>.

       <b>-y</b>|<b>--yes</b>
              Answer yes to all prompts automatically.

       <b>-v</b>|<b>--verbose</b> [<b>-v</b>|<b>--verbose</b>]
              Produce additional output.

       <b>--verifyudev</b>
              If udev synchronization is enabled, verify that udev operations get performed correctly and try to
              fix up the device nodes afterwards if not.

       <b>--version</b>
              Display the library and kernel driver version.

</pre><h4><b>COMMANDS</b></h4><pre>

       <b>clear</b> <u>device_name</u>
              Destroys the table in the inactive table slot for device_name.

       <b>create</b> <u>device_name</u> [<b>-n</b>|<b>--notable</b>|<b>--table</b> <u>table</u>|<u>table_file</u>] [<b>--readahead</b> [<b>+</b>]<u>sectors</u>|<b>auto</b>|<b>none</b>] [<b>-u</b>|<b>--uuid</b>
              <u>uuid</u>] [<b>--addnodeoncreate</b>|<b>--addnodeonresume</b>]
              Creates a device with the given name.  If <u>table</u> or <u>table_file</u> is supplied, the table is loaded and
              made live.  Otherwise a table is read from standard input unless <b>--notable</b> is used.  The  optional
              <u>uuid</u> can be used in place of device_name in subsequent dmsetup commands.  If successful the device
              will  appear  in table and for live device the node <u>/dev/mapper/device_name</u> is created.  See below
              for more information on the table format.

       <b>create</b> <b>--concise</b> [<u>concise_device_specification</u>]
              Creates one or more devices from a concise device specification.  Each device is  specified  by  a
              comma-separated  list:  name,  uuid,  minor number, flags, comma-separated table lines.  Flags de‐
              faults to read-write (rw) or may be read-only (ro).  Uuid, minor number and flags are optional  so
              those  fields  may  be  empty.  A semi-colon separates specifications of different devices.  Use a
              backslash to escape the following character, for example a comma or semi-colon in a name or table.
              See also CONCISE FORMAT below.

       <b>deps</b> [<b>-o</b> <u>options</u>] [<u>device_name</u>...]
              Outputs a list of devices referenced by the live table for the specified device. Device  names  on
              output  can  be  customised  by  following <u>options</u>: <b>devno</b> (major and minor pair, used by default),
              <b>blkdevname</b> (block device name), <b>devname</b> (map name for device-mapper devices, equal  to  blkdevname
              otherwise).

       <b>help</b> [<b>-c</b>|<b>-C</b>|<b>--columns</b>]
              Outputs a summary of the commands available, optionally including the list of report fields.

       <b>info</b> [<u>device_name</u>...]
              Outputs some brief information about the device in the form:
                     State: SUSPENDED|ACTIVE, READ-ONLY
                     Tables present: LIVE and/or INACTIVE
                     Open reference count
                     Last event sequence number (used by <b>wait</b>)
                     Major and minor device number
                     Number of targets in the live table
                     UUID

       <b>info</b> <b>-c</b>|<b>-C</b>|<b>--columns</b> [<b>--count</b> <u>count</u>] [<b>--interval</b> <u>seconds</u>] [<b>--noheadings</b>|<b>--headings</b>] [<b>-o</b> <u>fields</u>]
              [<b>-O</b>|<b>--sort</b> <u>sort_fields</u>] [<b>--nameprefixes</b>] [<b>--separator</b> <u>separator</u>] [<u>device_name</u>]
              Output  you  can  customise.  Fields are comma-separated and chosen from the following list: <b>name</b>,
              <b>major</b>, <b>minor</b>, <b>attr</b>, <b>open</b>, <b>segments</b>, <b>events</b>, <b>uuid</b>.  Attributes are: (<b>L</b>)ive, (<b>I</b>)nactive,  (<b>s</b>)uspend‐
              ed,  (<b>r</b>)ead-only,  read-(<b>w</b>)rite.   Precede the list with '<b>+</b>' to append to the default selection of
              columns instead of replacing it.  Precede any sort field with '<b>-</b>' for a reverse sort on that  col‐
              umn.

       <b>ls</b> [<b>--target</b> <u>target_type</u>] [<b>-o</b> <u>options</u>] [<b>--exec</b> <u>command</u>] [<b>--tree</b>]
              List  device  names.   Optionally only list devices that have at least one target of the specified
              type.  Optionally execute a command for each device.  The device name is appended to the  supplied
              command.   Device  names  on output can be customised by following options: <b>devno</b> (major and minor
              pair, used by default), <b>blkdevname</b> (block device name), <b>devname</b> (map name  for  device-mapper  de‐
              vices,  equal  to  blkdevname otherwise).  <b>--tree</b> displays dependencies between devices as a tree.
              It accepts a comma-separate list of <u>options</u>.  Some specify the information displayed against  each
              node:  <b>device</b>/<b>nodevice</b>;  <b>blkdevname</b>;  <b>active</b>, <b>open</b>, <b>rw</b>, <b>uuid</b>.  Others specify how the tree is dis‐
              played: <b>ascii</b>, <b>utf</b>, <b>vt100</b>; <b>compact</b>, <b>inverted</b>, <b>notrunc</b>.

       <b>load</b>|<b>reload</b> <u>device_name</u> [<b>--table</b> <u>table</u>|<u>table_file</u>]
              Loads <u>table</u> or <u>table_file</u> into the inactive table slot for device_name.  If neither  is  supplied,
              reads a table from standard input.

       <b>mangle</b> [<u>device_name</u>...]
              Ensure  existing device-mapper <u>device_name</u> and UUID is in the correct mangled form containing only
              whitelisted characters (supported by udev) and do a rename if necessary.  Any character not on the
              whitelist will be mangled based on the <b>--manglename</b> setting. Automatic rename works only  for  de‐
              vice  names and not for device UUIDs because the kernel does not allow changing the UUID of active
              devices. Any incorrect UUIDs are reported only and they must be manually corrected by deactivating
              the device first and then reactivating it with proper mangling mode used (see also  <b>--manglename</b>).

       <b>measure</b> [<u>device_name</u>...]
              Show the data that <u>device_name</u> would report to the IMA subsystem if a measurement was triggered at
              the current time.  This is for debugging and does not actually trigger a measurement.

       <b>message</b> <u>device_name</u> <u>sector</u> <u>message</u>
              Send message to target. If sector not needed use 0.

       <b>mknodes</b> [<u>device_name</u>...]
              Ensure  that  the  node in <u><a href="file:/dev/mapper">/dev/mapper</a></u> for <u>device_name</u> is correct.  If no device_name is supplied,
              ensure that all nodes in <u><a href="file:/dev/mapper">/dev/mapper</a></u> correspond to mapped devices currently loaded by the  device-
              mapper kernel driver, adding, changing or removing nodes as necessary.

       <b>remove</b> [<b>-f</b>|<b>--force</b>] [<b>--retry</b>] [<b>--deferred</b>] <u>device_name</u>...
              Removes  a  device.  It will no longer be visible to dmsetup.  Open devices cannot be removed, but
              adding <b>--force</b> will replace the table with one that fails all I/O.   <b>--deferred</b>  will  enable  de‐
              ferred  removal of open devices - the device will be removed when the last user closes it. The de‐
              ferred removal feature is supported since version 4.27.0 of the device-mapper driver available  in
              upstream kernel version 3.13.  (Use <b>dmsetup</b> <b>version</b> to check this.)  If an attempt to remove a de‐
              vice  fails,  perhaps  because a process run from a quick udev rule temporarily opened the device,
              the <b>--retry</b> option will cause the operation to be retried for a few seconds  before  failing.   Do
              NOT combine <b>--force</b> and <b>--udevcookie</b>, as udev may start to process udev rules in the middle of er‐
              ror target replacement and result in nondeterministic result.

       <b>remove_all</b> [<b>-f</b>|<b>--force</b>] [<b>--deferred</b>]
              Attempts  to  remove  all device definitions i.e. reset the driver.  This also runs <b>mknodes</b> after‐
              wards.  Use with care!  Open devices cannot be removed, but adding <b>--force</b> will replace the  table
              with one that fails all I/O.  <b>--deferred</b> will enable deferred removal of open devices - the device
              will  be  removed  when  the last user closes it.  The deferred removal feature is supported since
              version 4.27.0 of the device-mapper driver available in upstream kernel version 3.13.

       <b>rename</b> <u>device_name</u> <u>new_name</u>
              Renames a device.

       <b>rename</b> <u>device_name</u> <b>--setuuid</b> <u>uuid</u>
              Sets the uuid of a device that was created without a uuid.  After a uuid has been set it cannot be
              changed.

       <b>resume</b> <u>device_name</u>...  [<b>--addnodeoncreate</b>|<b>--addnodeonresume</b>] [<b>--noflush</b>] [<b>--nolockfs</b>] [<b>--readahead</b>
              [<b>+</b>]<u>sectors</u>|<b>auto</b>|<b>none</b>]
              Un-suspends a device.  If an inactive table has been loaded, it becomes live.  Postponed I/O  then
              gets re-queued for processing.

       <b>setgeometry</b> <u>device_name</u> <u>cyl</u> <u>head</u> <u>sect</u> <u>start</u>
              Sets the device geometry to C/H/S.

       <b>splitname</b> <u>device_name</u> [<u>subsystem</u>]
              Splits given <u>device</u> <u>name</u> into <u>subsystem</u> constituents.  The default subsystem is LVM.  LVM current‐
              ly  generates  device names by concatenating the names of the Volume Group, Logical Volume and any
              internal Layer with a hyphen as separator.  Any hyphens within the names  are  doubled  to  escape
              them.  The precise encoding might change without notice in any future release, so we recommend you
              always decode using the current version of this command.

       <b>stats</b> <u>command</u> [<u>options</u>]
              Manages IO statistics regions for devices.  See <b><a href="../man8/dmstats.8.html">dmstats</a></b>(8) for more details.

       <b>status</b> [<b>--target</b> <u>target_type</u>] [<b>--noflush</b>] [<u>device_name</u>...]
              Outputs  status information for each of the device's targets.  With <b>--target</b>, only information re‐
              lating to the specified target type any is displayed.  With <b>--noflush</b>, the thin target (from  ver‐
              sion 1.3.0) doesn't commit any outstanding changes to disk before reporting its statistics.

       <b>suspend</b> [<b>--nolockfs</b>] [<b>--noflush</b>] <u>device_name</u>...
              Suspends  a  device.  Any I/O that has already been mapped by the device but has not yet completed
              will be flushed.  Any further I/O to that device will be postponed for as long as  the  device  is
              suspended.  If there's a filesystem on the device which supports the operation, an attempt will be
              made  to sync it first unless <b>--nolockfs</b> is specified.  Some targets such as recent (October 2006)
              versions of multipath may support the <b>--noflush</b> option.  This lets outstanding I/O  that  has  not
              yet reached the device to remain unflushed.

       <b>table</b> [<b>--concise</b>] [<b>--target</b> <u>target_type</u>] [<b>--showkeys</b>] [<u>device_name</u>...]
              Outputs  the  current table for the device in a format that can be fed back in using the create or
              load commands.  With <b>--target</b>, only information relating to the  specified  target  type  is  dis‐
              played.   Real  encryption keys are suppressed in the table output for crypt and integrity targets
              unless the <b>--showkeys</b> parameter is supplied. Kernel key references prefixed with <b>:</b> are not affect‐
              ed by the parameter and get displayed always (crypt target only).  With <b>--concise</b>, the  output  is
              presented  concisely  on a single line.  Commas then separate the name, uuid, minor device number,
              flags ('ro' or 'rw') and the table (if present). Semi-colons separate devices. Backslashes  escape
              any commas, semi-colons or backslashes.  See CONCISE FORMAT below.

       <b>targets</b>
              Displays the names and versions of the currently-loaded targets.

       <b>udevcomplete</b> <u>cookie</u>
              Wake any processes that are waiting for udev to complete processing the specified cookie.

       <b>udevcomplete_all</b> [<u>age_in_minutes</u>]
              Remove  all  cookies  older than the specified number of minutes.  Any process waiting on a cookie
              will be resumed immediately.

       <b>udevcookie</b>
              List all existing cookies. Cookies are system-wide semaphores with keys prefixed by two predefined
              bytes (0x0D4D).

       <b>udevcreatecookie</b>
              Creates a new cookie to synchronize actions with udev processing.  The output is a  cookie  value.
              Normally  we  don't need to create cookies since dmsetup creates and destroys them for each action
              automatically. However, we can generate one explicitly to group several actions together  and  use
              only  one  cookie instead. We can define a cookie to use for each relevant command by using <b>--ude‐</b>
              <b>vcookie</b> option.  Alternatively, we can export this value  into  the  environment  of  the  dmsetup
              process  as <b>DM_UDEV_COOKIE</b> variable and it will be used automatically with all subsequent commands
              until it is unset.  Invoking this command will create  system-wide  semaphore  that  needs  to  be
              cleaned up explicitly by calling udevreleasecookie command.

       <b>udevflags</b> <u>cookie</u>
              Parses  given <u>cookie</u> value and extracts any udev control flags encoded.  The output is in environ‐
              ment key format that is suitable for use in udev rules. If the flag has its symbolic name assigned
              then the output is DM_UDEV_FLAG_&lt;flag_name&gt; = '1', DM_UDEV_FLAG&lt;flag_position&gt;  =  '1'  otherwise.
              Subsystem  udev  flags  don't  have  symbolic names assigned and these ones are always reported as
              DM_SUBSYSTEM_UDEV_FLAG&lt;flag_position&gt; = '1'. There are 16 udev flags altogether.

       <b>udevreleasecookie</b> [<u>cookie</u>]
              Waits for all pending udev processing bound to given cookie value and clean up the cookie with un‐
              derlying semaphore. If the cookie is not given directly, the command will try to use a  value  de‐
              fined by <b>DM_UDEV_COOKIE</b> environment variable.

       <b>version</b>
              Outputs version information.

       <b>wait</b> [<b>--noflush</b>] <u>device_name</u> [<u>event_nr</u>]
              Sleeps  until  the event counter for device_name exceeds event_nr.  Use <b>-v</b> to see the event number
              returned.  To wait until the next event is triggered, use <b>info</b> to  find  the  last  event  number.
              With  <b>--noflush</b>,  the  thin  target (from version 1.3.0) doesn't commit any outstanding changes to
              disk before reporting its statistics.

       <b>wipe_table</b> <u>device_name</u>...  [<b>-f</b>|<b>--force</b>] [<b>--noflush</b>] [<b>--nolockfs</b>]
              Wait for any I/O in-flight through the device to complete, then replace the table with a new table
              that fails any new I/O sent to the device.  If successful, this should release  any  devices  held
              open by the device's table(s).

</pre><h4><b>TABLE</b> <b>FORMAT</b></h4><pre>
       Each line of the table specifies a single target and is of the form:

       <u>logical_start_sector</u> <u>num_sectors</u> <b>target_type</b> <u>target_args</u>

       Simple target types and target args include:

       <b>linear</b> <u>destination_device</u> <u>start_sector</u>
              The traditional linear mapping.

       <b>striped</b> <u>num_stripes</u> <u>chunk_size</u> [<u>destination</u> <u>start_sector</u>]...
              Creates a striped area.
              e.g. striped 2 32 /dev/hda1 0 /dev/hdb1 0 will map the first chunk (16 KiB) as follows:

                     LV chunk 1 → hda1, chunk 1
                     LV chunk 2 → hdb1, chunk 1
                     LV chunk 3 → hda1, chunk 2
                     LV chunk 4 → hdb1, chunk 2
                     etc.

       <b>error</b>  Errors  any  I/O that goes to this area.  Useful for testing or for creating devices with holes in
              them.

       <b>zero</b>   Returns blocks of zeroes on reads.  Any data written is discarded silently.  This is  a  block-de‐
              vice equivalent of the <u>/dev/zero</u> character-device data sink described in <b><a href="../man4/null.4.html">null</a></b>(4).

       More complex targets include:

       <b>cache</b>  Improves  performance  of a block device (eg, a spindle) by dynamically migrating some of its data
              to a faster smaller device (eg, an SSD).

       <b>crypt</b>  Transparent encryption of block devices using the kernel crypto API.

       <b>delay</b>  Delays reads and/or writes to different devices.  Useful for testing.

       <b>flakey</b> Creates a similar mapping to the linear target but  exhibits  unreliable  behaviour  periodically.
              Useful for simulating failing devices when testing.

       <b>mirror</b> Mirrors data across two or more devices.

       <b>multipath</b>
              Mediates access through multiple paths to the same device.

       <b>raid</b>   Offers an interface to the kernel's software raid driver, md.

       <b>snapshot</b>
              Supports snapshots of devices.

       <b>thin</b>, <b>thin-pool</b>
              Supports thin provisioning of devices and also provides a better snapshot support.

       To  find  out  more  about  the various targets and their table formats and status lines, please read the
       files in the Documentation/device-mapper directory in the kernel source tree.  (Your  distribution  might
       include a copy of this information in the documentation directory for the device-mapper package.)

</pre><h4><b>EXAMPLES</b></h4><pre>
       # A table to join two disks together
       0 1028160 linear /dev/hda 0
       1028160 3903762 linear /dev/hdb 0

       # A table to stripe across the two disks,
       # and add the spare space from
       # hdb to the back of the volume
       0 2056320 striped 2 32 /dev/hda 0 /dev/hdb 0
       2056320 2875602 linear /dev/hdb 1028160

</pre><h4><b>CONCISE</b> <b>FORMAT</b></h4><pre>
       A concise representation of one of more devices.

       – A comma separates the fields of each device.
       – A semi-colon separates devices.

       The representation of a device takes the form:
              &lt;name&gt;,&lt;uuid&gt;,&lt;minor&gt;,&lt;flags&gt;,&lt;table&gt;[,&lt;table&gt;+][;&lt;name&gt;,&lt;uuid&gt;,&lt;minor&gt;,&lt;flags&gt;,&lt;table&gt;
              [,&lt;table&gt;+]]

       The fields are:

       <b>name</b>   The name of the device.

       <b>uuid</b>   The UUID of the device (or empty).

       <b>minor</b>  The minor number of the device.  If empty, the kernel assigns a suitable minor number.

       <b>flags</b>  Supported flags are:
              <b>ro</b> Sets the table being loaded for the device read-only
              <b>rw</b> Sets the table being loaded for the device read-write (default)

       <b>table</b>  One line of the table. See TABLE FORMAT above.

</pre><h4><b>EXAMPLES</b></h4><pre>
       # A simple linear read-only device
       test-linear-small,,,ro,0 2097152 linear /dev/loop0 0,2097152 2097152 linear /dev/loop1 0
       # Two linear devices
       test-linear-small,,,,0 2097152 linear /dev/loop0 0;test-linear-large,,,,0 2097152 linear /dev/loop1 0,
       2097152 2097152 linear /dev/loop2 0

</pre><h4><b>ENVIRONMENT</b> <b>VARIABLES</b></h4><pre>
       <b>DM_DEV_DIR</b>
              The device directory name.  Defaults to "<u><a href="file:/dev">/dev</a></u>" and must be an absolute path.

       <b>DM_UDEV_COOKIE</b>
              A  cookie to use for all relevant commands to synchronize with udev processing.  It is an alterna‐
              tive to using <b>--udevcookie</b> option.

       <b>DM_DEFAULT_NAME_MANGLING_MODE</b>
              A default mangling mode. Defaults to "<b>auto</b>" and it is an alternative to using <b>--manglename</b> option.

</pre><h4><b>AUTHORS</b></h4><pre>
       Original version: Joe Thornber &lt;<a href="mailto:thornber@redhat.com">thornber@redhat.com</a>&gt;

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man8/dmstats.8.html">dmstats</a></b>(8), <b><a href="../man7/udev.7.html">udev</a></b>(7), <b><a href="../man8/udevadm.8.html">udevadm</a></b>(8)

       LVM2 resource page: https://www.sourceware.org/lvm2
       Device-mapper resource page: https://www.sourceware.org/dm

Linux                                              Apr 06 2006                                        <u><a href="../man8/DMSETUP.8.html">DMSETUP</a></u>(8)
</pre>
 </div>
</div></section>
</div>
</body>
</html>