<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>pimd — PIM-SM/SSM v2 dynamic multicast routing daemon</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/pimd">pimd_2.3.2-4_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       pimd — PIM-SM/SSM v2 dynamic multicast routing daemon

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>pimd</b> [<b>-fhlNqr</b>] [<b>-c</b> <u>FILE</u>] [<b>-d</b> <u>[SYS[,SYS,...]</u>] [<b>-s</b> <u>LEVEL</u>]

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>pimd</b>  is  a  lightweight,  stand-alone  PIM-SM/SSM  v2  multicast routing daemon available under the free
       3-clause BSD license.  This is the restored original from University of  Southern  California,  by  Ahmed
       Helmy, Rusty Eddy and Pavlin Ivanov Radoslavov.

       Protocol Independent Multicast - Sparse Mode (PIM-SM):
       <b>•</b>  maintains the traditional IP multicast service model of receiver-initiated membership;
       <b>•</b>  uses  explicit  joins  that  propagate  hop-by-hop from members' directly connected routers toward the
          distribution tree.
       <b>•</b>  builds a shared multicast distribution tree centered at a  Rendezvous  Point  (RP),  and  then  builds
          source-specific trees for those sources whose data traffic warrants it.
       <b>•</b>  is not dependent on a specific unicast routing protocol; and
       <b>•</b>  uses soft-state mechanisms to adapt to underlying network conditions and group dynamics.

       The  robustness,  flexibility,  and  scaling properties of this architecture make it well suited to large
       heterogeneous internetworks.

       <b>pimd</b> originally only implemented RFC2362, but since v2.3.0 is supporting more and more of RFC4601.

</pre><h4><b>OPTIONS</b></h4><pre>
       This program follows the usual UNIX command line syntax, with  long  options  starting  with  two  dashes
       (`-').  The options are as follows:

       <b>-h,</b> <b>--help</b>
               Print a help message and exit.

       <b>-c,</b> <b>--config=FILE</b>
               Specify  an  alternative  configuration  file,  default  <u>/etc/pimd.conf</u>.  If <b>pimd</b> cannot find its
               configuration file it  will  start  up  with  fallback  defaults,  which  include  enabling  both
               <b>bsr-candidate</b> and <b>rp-candidate</b>.

       <b>-d,</b> <b>--debug[=SYS[,SYS...]</b>
               By  default,  <b>pimd</b>  daemonizes  itself by detaching from the invoking terminal and forking to the
               background.  However, if <b>-d,</b>  <b>--debug</b>  or  <b>-f,</b>  <b>--foreground</b>  is  specified,  <b>pimd</b>  runs  in  the
               foreground  of the starting terminal.  If <b>-d</b> is given without any argument <b>pimd</b> defaults to debug
               all subystems.

               Available subsystems are:

                     <b>packet</b>      Debug inbound/outbout packets
                     <b>prunes</b>      Pruning operations, or pruned routes
                     <b>routes</b>      Routing messages
                     <b>rtdetail</b>    Detailed routing information
                     <b>peers</b>       Neighbor gossip
                     <b>cache</b>       Debug routing cache
                     <b>timeout</b>     Debug timeouts
                     <b>interface</b>   Show interface (VIF) debug messages
                     <b>groups</b>      Debug group memberships
                     <b>mtrace</b>      Multicast traceroute information
                     <b>igmp</b>        Debug IGMP messages
                     <b>icmp</b>        Debug ICMP messages
                     <b>rsrr</b>        Debug RSRR messages
                     <b>pim</b>         All PIM messages
                     <b>pim_routes</b>  PIM routing messages
                     <b>pim_bsr</b>     PIM bootstrap router messages
                     <b>pim_detail</b>  Detailed PIM debug
                     <b>pim_hello</b>   Debug hello messages to/from neighbors

       <b>-f,</b> <b>--foreground</b>
               Run in the foreground, do not detach from calling terminal and do not fork to background.  Useful
               not only when debugging (above) but also when running under a process monitor  like  daemontools,
               runit, finit, or systemd.

       <b>-l,</b> <b>--reload-config</b>
               Tell  a  running  pimd  to reload its configuration.  This is done by sending a SIGHUP to the PID
               listed in <u>/var/run/pimd.pid</u>.  Depending on the capabilities of your user, you may need to be root
               to do this.

       <b>-N,</b> <b>--disable-vifs</b>
               This prevents <b>pimd</b> from being activated on all interfaces by default.   When  this  command  line
               option is given, use `phyint IFNAME enable` to selectively activate PIM services on an interface.

       <b>-q,</b> <b>--quit-daemon</b>
               Tell  a  running  <b>pimd</b>  to  quit.  Similar to <b>-l,</b> <b>--reload-config</b> but this command sends SIGTERM.
               Depending on the capabilities of your user, you may need to be root to do this.

       <b>-r,</b> <b>--show-routes</b>
               Show state of VIFs and multicast routing tables. This is command sends SIGUSR1 to a running <b>pimd</b>,
               similar to <b>-l</b> <b>--reload-config.</b> Depending on the capabilities of your user, you  may  need  to  be
               root to do this.

       <b>-v,</b> <b>--version</b>
               Show <b>pimd</b> version

       <b>-s,</b> <b>--loglevel=LEVEL</b>
               Set log level to one of the following, default <b>notice</b>:

                     <b>none</b>     Disable all logging
                     <b>error</b>    Error conditions
                     <b>warning</b>  Warning conditions
                     <b>notice</b>   Normal but significant condition (Default)
                     <b>info</b>     Informational
                     <b>debug</b>    Debug-level messages

</pre><h4><b>CONFIGURATION</b></h4><pre>
       The  configuration  is  kept  in  the  file  <u>/etc/pimd.conf</u>.   The  file  format is relatively free-form:
       whitespace (including newlines) is not significant.  However, the order of some statements are important,
       see more below.

       All &lt;masklen&gt; arguments to an IPv4 address, group or network can also be given in the  alternative  /CIDR
       format.  E.g., &lt;group&gt;/&lt;masklen&gt;.

       Here are the different configuration settings:

             <b>default-route-distance</b> <u>&lt;1-255&gt;</u>

             <b>default-route-metric</b> <u>&lt;1-1024&gt;</u>

             <b>igmp-query-interval</b> <u>&lt;1-65535&gt;</u>

             <b>igmp-querier-timeout</b> <u>&lt;8-65535&gt;</u>

             <b>hello-interval</b> <u>&lt;30-18724&gt;</u>

             <b>phyint</b> <b>&lt;address</b> | <b>ifname&gt;</b>
                   [<b>disable</b> | <b>enable</b>] [<b>igmpv2</b> | <b>igmpv3</b>]
                   [<b>dr-priority</b> <u>&lt;1-4294967294&gt;</u>]
                   [<b>ttl-threshold</b> <u>&lt;1-255&gt;</u>] [<b>distance</b> <u>&lt;1-255&gt;</u>] [<b>metric</b> <u>&lt;1-1024&gt;</u>]
                   [<b>altnet</b> <u>&lt;network&gt;</u> [<b>/&lt;masklen&gt;</b> | <b>masklen</b> <b>&lt;masklen&gt;</b>]]
                   [<b>scoped</b> <u>&lt;network&gt;</u> [<b>/&lt;masklen&gt;</b> | <b>masklen</b> <b>&lt;masklen&gt;</b>]]

             <b>bsr-candidate</b> [<u>address</u> | <u>ifname</u>] [<b>priority</b> <u>&lt;number&gt;</u>]

             <b>rp-candidate</b> [<u>address</u> | <u>ifname</u>] [<b>priority</b> <u>&lt;0-255&gt;</u>] [<b>time</b> <u>&lt;10-16384&gt;</u>]
                   <b>group-prefix</b> <u>&lt;group&gt;[/&lt;masklen&gt;</u> | <b>masklen</b> <u>&lt;masklen&gt;]</u>
                    ...
                   <b>group-prefix</b> <b>...</b>

             <b>rp-address</b> <u>&lt;address&gt;</u> <u>[&lt;group-addr&gt;[/&lt;masklen&gt;</u> | <u>masklen</u> <u>&lt;masklen]</u>

             <b>spt-threshold</b> [<b>rate</b> <u>&lt;KBPS&gt;</u> | <b>packets</b> <u>&lt;NUM&gt;</u> | <b>infinity</b>] [<b>interval</b> <u>&lt;SEC&gt;</u>]

       By  default,  <b>pimd</b> will be activated on all multicast capable interfaces.  The <b>phyint</b> setting and the <b>-N,</b>
       <b>--disable-vifs</b> command line option control this behaviour.  More on the  <b>phyint</b>  interface  configuration
       setting below.

       The  <b>default-route-distance</b>  option  has  nothing  to  do with the system default route, it is rather the
       default value for the unicast routing protocol's administrative distance.   It  is  used  in  PIM  Assert
       elections to determine upstream routers.  Currently <b>pimd</b> cannot obtain the admin distance and metric from
       the unicast routing protocols, so a default routing protocol distance (the RFC confusingly refers to this
       as  <u>metric</u>  <u>prefererence</u>) may be configured.  In a PIM Assert election, the router advertising the lowest
       assert preference will be selected as the forwarder and upstream router for the LAN.  Setting 101  should
       be sufficiently high so that asserts from Cisco or GateD routers are preferred over poor-little pimd.

       It is reccommended that distances be set such that metrics are never consulted.  However, default routing
       metrics  may  also be set using the <b>default-route-metric</b> option.  (Again, this has nothing to do with the
       system default route.)  This item sets the cost for sending data through this router.  You want only PIM-
       SM data to go to this daemon; so once again, a high value is recommended  to  prevent  accidental  usage.
       The  preferred  default value is 1024.  Both defaults can be overridden per phyint, so learned routes, or
       PIM Asserts use the phyint's values.

       Please also note that PIM Assert elections are not the same as the DR election.  The PIM Assert  election
       determines the active multicast forwarder, whereas the DR election determines the active PIM router.

       Two  settings  for  IGMP  behavior  are available: <b>igmp-query-interval</b> and <b>igmp-querier-timeout</b> which are
       similar, but very different.  The former controls the  interval  between  IGMP  querys  when  elected  as
       querier, the latter controls the timeout for the elected querier -- before <b>pimd</b> decides to take over.  In
       IGMP the lowest numerical address in a LAN becomes the elected querier.  Obviously these settings must be
       handled  with  care.   The RFC recommends that the querier timeout is set to a robustness value times the
       query interval, plus have the query response time.  The pimd robustness value  for  IGMP  is  3  and  the
       default  query  response  time  is 10 sec.  Since pimd v2.3.0 the default query interval is 12 sec, which
       makes the querier timeut default to 41 sec, but this is rounded off to  42  to  honor  the  late  Douglas
       Adams.

       The  PIM Hello message interval can be tuned by changing the <b>hello-interval</b> setting.  Changing this value
       also affects the hold-time value included in Hello messages.  The hold-time value  is  3.5  times  hello-
       interval.   The  default value for the Hello interval is 30 sec.  Anything less than 30 sec is considered
       an "aggressive" setting and is unsupported.

       The <b>phyint</b>  option  refers  to  a  physical  interface  and  must  come  after  <b>default-route-metric</b>  and
       <b>default-route-distance</b>.   Select  the  interface  either by its IP <u>address</u> or interface name <u>ifname</u> (e.g.
       eth0).  If you just want to activate this interface with default values, you don't need to  put  anything
       else on the line.  However, there are some additional settings:
             <b>•</b>  <b>disable</b>:  Do  not  send PIM-SM traffic through this interface nor listen for PIM-SM traffic from
                this interface.  Default: enable.  <b>enable</b>: Selectively enable which interfaces  to  send  PIM-SM
                traffic through.  Useful with the <b>-N</b> command line option.
             <b>•</b>  <b>igmpv2</b>: Force interface to use IGMPv2, or
             <b>•</b>  <b>igmpv3</b>: Use IGMPv3, this is the default since v2.3.0.
             <b>•</b>  <b>dr-priority</b>  <u>&lt;1-4294967294&gt;</u>:  When  there  are  multiple  PIM  routers on the same LAN the DR is
                usually elected based on the highest numerical IP address.  This setting can be used to  control
                the  DR  Priority  option  in PIM Hellow messages, which by default otherwise is 1.  When the DR
                Priority option is advertised by <u>all</u> PIM routers on the same LAN  the  highest  priority  router
                wins  the  DR  election, regardless of its IP.  If any router does <u>not</u> advertise the DR Priority
                option, or the same priority is advertised by more than one router, the protocol falls  back  to
                using the IP address.
             <b>•</b>  <b>ttl-threshold</b>  <u>&lt;1-255&gt;</u>:  The  TTL  threshold  for  multicast  frames  to  be forwarded from this
                interface.  Default: 1
             <b>•</b>  <b>distance</b> <u>&lt;1-255&gt;</u>: Use this to override the <b>default-route-distance</b> (101) on this  <b>phyint</b>  in  PIM
                Assert elections.
             <b>•</b>  <b>metric</b>   <u>&lt;1-1024&gt;</u>:   The   cost   of   sending   data   through  this  interface.   Defaults  to
                <b>default-route-metric</b> (1024) if not assigned.
             <b>•</b>  <b>altnet</b> <u>&lt;network/len&gt;</u>: Alternative host(s)/network(s) to accept  as  locally  attached  multicast
                sources  on  a  given  interface.  If a phyint is attached to multiple IP subnets, describe each
                additional subnet with the altnet keyword.
             <b>•</b>  <b>scoped</b> <u>&lt;network/len&gt;</u>: Optional scoping  of  multicast  groups.  This  allows  interfaces  to  be
                configured as an administrative boundary for the specified group(s). Multicast streams belonging
                to the scoped groups will not be forwarded.

       Add  one  <b>phyint</b> line per interface on this router.  If you don't do this, <b>pimd</b> will either be completely
       silent (if you provide the <b>-N</b> command line option), or simply assume that you  want  it  to  utilize  all
       interfaces using default settings.

       Both  the  <b>bsr-candidate</b> (CBSR) and <b>rp-candidate</b> (CRP) settings are enabled in the default configuration.
       Disabling them, by commenting them out in the config file, for all PIM capable routers  is  a  bad  idea.
       When  troubleshooting, ensure at least one bootstrap router (BSR) and at least one rendez-vous point (RP)
       in PIM-SM, is available.  Both settings share the following  options,  with  priority  being  interpreted
       differently:

             <b>•</b>  <b>address</b>  |  <b>ifname</b>:  Optional local IPv4 address, or interface name to acquire address from.  If
                both address and ifname is left out, <b>pimd</b> will default to the highest active IP address.
             <b>•</b>  <b>priority</b> <u>&lt;0-255&gt;</u>: How important this router is compared to others.  For CRP, the lower the value
                the more important the router is considered.  For BSR it is of  course  the  exact  opposite:  a
                higher  value  is  preferred.   If the priority is left out <b>pimd</b> and Cisco IOS defaults to 0 for
                both, but the standard says 192 for RP.
             <b>•</b>  <b>time</b> <u>&lt;10-16383&gt;</u>: The number of seconds to wait between advertising this CRP.  The default  value
                is 30 seconds.  Use a lower value for faster convergence.

             The  <b>group-prefix</b>  sub-setting  to  <b>rp-candidate</b>  is  the set of multicast groups that the CRP will
             advertise to other routers, if it wins an election:
                   <b>•</b>  <b>group</b>: A specific multicast group or network range this router will handle.
                   <b>•</b>  <b>masklen</b>: Optional number of groups, in prefix length format.  Remember  that  a  multicast
                      address is a Class D and has a netmask of 240.0.0.0, which means its length is 4.

             Multiple lines of <b>group-prefix</b> may be given, but max number of records supported in pimd is 255.

       The <b>rp-address</b> setting is for static rendezvous point (RP) configurations.  It defines the RP for a given
       group,  or  range  or groups.  The argument can be either a unicast address or a multicast group, with an
       optional group address and netmask.  Default group and netmask is 224.0.0.0/16.  <b>Note:</b>  all  static  RP's
       are announced with priority 1.

       The   <b>spt-threshold</b>   setting  replaces  two  older  configuration  settings,  <b>switch_data_threshold</b>  and
       <b>switch_register_threshold</b>.  It controls the switch-over from the shared tree to the shortest-path  source
       tree.   The  default  is  to  do  the switch-over after the first packet, but only after 100 seconds.  If
       <u>infinity</u> is specified the shortest path switch-over is disabled.

</pre><h4><b>SIGNALS</b></h4><pre>
       <b>pimd</b> responds to the following signals:

       HUP   Restarts <b>pimd</b>.  The configuration file is reread every time this signal is evoked.
       TERM  Terminates execution gracefully (i.e. by sending good-bye messages to all neighboring routers).
       INT   The same as TERM.
       USR1  Dumps the internal state of VIFs and multicast routing tables to <u>/var/run/pimd/pimd.dump</u>.  See also
             the <b>-r,</b> <b>--show-routes</b> option above.

       For convenience in sending signals, <b>pimd</b> writes its process ID to <u>/var/run/pimd.pid</u> upon startup.

</pre><h4><b>FILES</b></h4><pre>
       <u>/etc/pimd.conf</u>
       <u>/var/run/pimd/pimd.dump</u>
       <u>/var/run/pimd.pid</u>

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <u><a href="../man8/mrouted.8.html">mrouted</a></u>(8), <u><a href="../man8/smcroute.8.html">smcroute</a></u>(8), <u>/usr/share/doc/pimd/</u>

       PIM-SM is described in, the now obsolete RFC2362, and the current RFC4601, with additions in RFC5059  and
       RFC5796.

       The  pages  at USC, <a href="http://netweb.usc.edu/pim/">http://netweb.usc.edu/pim/</a>, are unfortunately no longer available.  The wiki pages at
       <a href="http://github.com/troglobit/pimd/">http://github.com/troglobit/pimd/</a>, the new GitHub project, are an attempt  to  gather  as  much  info  as
       possible.

</pre><h4><b>AUTHORS</b></h4><pre>
       <b>pimd</b>  was  written  by  Ahmed  Helmy, George Edmond "Rusty" Eddy, and Pavlin Ivanov Radoslavov.  PIM-SSM,
       including full IGMPv3 support, added by Markus Veranen.  With contributions by many others.

       This manual page was initially written by Antonín Král for the Debian GNU/Linux system, and then  updated
       by Joachim Nilsson for the GitHub pimd project.

Debian                                             Mar 3, 2016                                           <u><a href="../man8/PIMD.8.html">PIMD</a></u>(8)
</pre>
 </div>
</div></section>
</div>
</body>
</html>