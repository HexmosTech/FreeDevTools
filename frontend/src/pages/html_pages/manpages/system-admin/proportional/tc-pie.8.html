<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PIE - Proportional Integral controller-Enhanced AQM algorithm</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/iproute2">iproute2_6.14.0-1ubuntu3_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       PIE - Proportional Integral controller-Enhanced AQM algorithm

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>tc</b>  <b>qdisc</b>  <b>...</b>  <b>pie</b> [ <b>limit</b> PACKETS ] [ <b>target</b> TIME ] [ <b>tupdate</b> TIME ] [ <b>alpha</b> int ] [ <b>beta</b> int ] [ <b>ecn</b> |
       <b>noecn</b> ] [ <b>bytemode</b> | <b>nobytemode</b> ] [ <b>dq_rate_estimator</b> | <b>no_dq_rate_estimator</b> ]

</pre><h4><b>DESCRIPTION</b></h4><pre>
       Proportional Integral controller-Enhanced (PIE) is a control theoretic active queue management scheme. It
       is based on the proportional integral controller but aims to control delay. The main design goals are
        o Low latency control
        o High link utilization
        o Simple implementation
        o Guaranteed stability and fast responsiveness

</pre><h4><b>ALGORITHM</b></h4><pre>
       PIE is designed to control delay effectively. First, an average dequeue rate is estimated  based  on  the
       standing  queue. The rate is used to calculate the current delay. Then, on a periodic basis, the delay is
       used to calculate the dropping probability. Finally, on arrival, a packet is dropped (or marked) based on
       this probability.

       PIE makes adjustments to the probability based on the trend of the delay i.e.  whether it is going up  or
       down.The delay converges quickly to the target value specified.

       alpha  and  beta  are  statically chosen parameters chosen to control the drop probability growth and are
       determined through control theoretic approaches. alpha determines how the deviation between  the  current
       and  target  latency  changes  probability.  beta  exerts additional adjustments depending on the latency
       trend.

       The drop probability is used to mark packets in ecn mode. However, as in  RED,  beyond  10%  packets  are
       dropped based on this probability. The bytemode is used to drop packets proportional to the packet size.

       Additional details can be found in the paper cited below.

</pre><h4><b>PARAMETERS</b></h4><pre>
   <b>limit</b>
       limit  on  the queue size in packets. Incoming packets are dropped when this limit is reached. Default is
       1000 packets.

   <b>target</b>
       is the expected queue delay. The default target delay is 15ms.

   <b>tupdate</b>
       is the frequency at which the system drop probability is calculated. The default is 15ms.

   <b>alpha</b>
   <b>beta</b>
       alpha and beta are parameters chosen to control the drop  probability.  These  should  be  in  the  range
       between 0 and 32.

   <b>ecn</b> <b>|</b> <b>noecn</b>
       is  used  to  mark  packets instead of dropping.  <b>ecn</b> to turn on ecn mode, <b>noecn</b> to turn off ecn mode. By
       default, <b>ecn</b> is turned off.

   <b>bytemode</b> <b>|</b> <b>nobytemode</b>
       is used to scale drop probability proportional to packet size.  <b>bytemode</b> to turn on bytemode,  <b>nobytemode</b>
       to turn off bytemode. By default, <b>bytemode</b> is turned off.

   <b>dq_rate_estimator</b> <b>|</b> <b>no_dq_rate_estimator</b>
       is  used  to  calculate  delay  using  Little's  law.   <b>dq_rate_estimator</b>  to  turn on dq_rate_estimator,
       <b>no_dq_rate_estimator</b> to turn off no_dq_rate_estimator. By default, <b>dq_rate_estimator</b> is turned off.

</pre><h4><b>EXAMPLES</b></h4><pre>
        # tc qdisc add dev eth0 root pie
        # tc -s qdisc show
          qdisc pie 8036: dev eth0 root refcnt 2 limit 1000p target 15.0ms tupdate 16.0ms alpha 2 beta 20
           Sent 31216108 bytes 20800 pkt (dropped 80, overlimits 0 requeues 0)
           backlog 16654b 11p requeues 0
            prob 0.006161 delay 15666us
            pkts_in 20811 overlimit 0 dropped 80 maxq 50 ecn_mark 0

        # tc qdisc add dev eth0 root pie dq_rate_estimator
        # tc -s qdisc show
          qdisc pie 8036: dev eth0 root refcnt 2 limit 1000p target 15.0ms tupdate 16.0ms alpha 2 beta 20
           Sent 63947420 bytes 42414 pkt (dropped 41, overlimits 0 requeues 0)
           backlog 271006b 179p requeues 0
            prob 0.000092 delay 22200us avg_dq_rate 12145996
            pkts_in 41 overlimit 343 dropped 0 maxq 50 ecn_mark 0

        # tc qdisc add dev eth0 root pie limit 100 target 20ms tupdate 30ms ecn
        # tc -s qdisc show
          qdisc pie 8036: dev eth0 root refcnt 2 limit 100p target 20.0ms tupdate 32.0ms alpha 2 beta 20 ecn
           Sent 6591724 bytes 4442 pkt (dropped 27, overlimits 0 requeues 0)
           backlog 18168b 12p requeues 0
            prob 0.008845 delay 11348us
            pkts_in 4454 overlimit 0 dropped 27 maxq 65 ecn_mark 0

        # tc qdisc add dev eth0 root pie limit 100 target 50ms tupdate 30ms bytemode
        # tc -s qdisc show
          qdisc pie 8036: dev eth0 root refcnt 2 limit 100p  target  50.0ms  tupdate  32.0ms  alpha  2  beta  20
       bytemode
           Sent 1616274 bytes 1137 pkt (dropped 0, overlimits 0 requeues 0)
           backlog 13626b 9p requeues 0
            prob 0.000000 delay 0us
            pkts_in 1146 overlimit 0 dropped 0 maxq 23 ecn_mark 0

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man8/tc.8.html">tc</a></b>(8), <b><a href="../man8/tc-codel.8.html">tc-codel</a></b>(8) <b><a href="../man8/tc-red.8.html">tc-red</a></b>(8)

</pre><h4><b>SOURCES</b></h4><pre>
        o RFC 8033: https://tools.ietf.org/html/rfc8033

</pre><h4><b>AUTHORS</b></h4><pre>
       PIE  was  implemented  by Vijay Subramanian and Mythili Prabhu, also the authors of this man page. Please
       report bugs and corrections to the Linux networking development mailing list at &lt;<a href="mailto:netdev@vger.kernel.org">netdev@vger.kernel.org</a>&gt;.

iproute2                                         16 January 2014                                          <u><a href="../man8/PIE.8.html">PIE</a></u>(8)
</pre>
 </div>
</div></section>
</div>
</body>
</html>