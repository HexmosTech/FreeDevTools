<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>rotatelogs - Piped logging program to rotate Apache logs</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/apache2-utils">apache2-utils_2.4.64-1ubuntu2_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       rotatelogs - Piped logging program to rotate Apache logs

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>rotatelogs</b>  [  -<b>l</b> ] [ -<b>L</b> <u>linkname</u> ] [ -<b>p</b> <u>program</u> ] [ -<b>f</b> ] [ -<b>D</b> ] [ -<b>t</b> ] [ -<b>v</b> ] [ -<b>e</b> ] [ -<b>c</b> ] [ -<b>n</b> <u>number-</u>
       <u>of-files</u> ] <u>logfile</u> <u>rotationtime</u>|<u>filesize</u>(B|K|M|G) [ <u>offset</u> ]

</pre><h4><b>SUMMARY</b></h4><pre>
       <b>rotatelogs</b> is a simple program for use in conjunction with Apache's piped logfile  feature.  It  supports
       rotation based on a time interval or maximum size of the log.

</pre><h4><b>OPTIONS</b></h4><pre>
       <b>-l</b>     Causes  the  use  of  local  time  rather than GMT as the base for the interval or for <b><a href="../man3/strftime.3.html">strftime</a>(3)</b>
              formatting with size-based rotation.

       <b>-L</b> <u>linkname</u>

       <b>-p</b> <u>program</u>
              If given, <b>rotatelogs</b> will execute the specified program every time a new log file is  opened.  The
              filename  of  the  newly  opened file is passed as the first argument to the program. If executing
              after a rotation, the old log file is passed as the second argument. <b>rotatelogs</b> does not wait  for
              the  specified  program to terminate before continuing to operate, and will not log any error code
              returned on termination. The spawned program uses the same stdin, stdout, and stderr as rotatelogs
              itself, and also inherits the environment.

       <b>-f</b>     Causes the logfile to be opened immediately, as soon as <b>rotatelogs</b> starts, instead of waiting  for
              the  first  logfile entry to be read (for non-busy sites, there may be a substantial delay between
              when the server is started and when the first request is  handled,  meaning  that  the  associated
              logfile does not "exist" until then, which causes problems from some automated logging tools)

       <b>-D</b>     Creates  the  parent  directories  of  the path that the log file will be placed in if they do not
              already exist. This allows <b><a href="../man3/strftime.3.html">strftime</a>(3)</b> formatting to  be  used  in  the  path  and  not  just  the
              filename.

       <b>-t</b>     Causes  the  logfile to be truncated instead of rotated. This is useful when a log is processed in
              real time by a command like tail, and there is no need for archived data. No suffix will be  added
              to the filename, however format strings containing '%' characters will be respected.

       <b>-T</b>     Causes  all  but  the  initial logfile to be truncated when opened. This is useful when the format
              string contains something that will loop around, such as the day of the month. Available in 2.4.56
              and later.

       <b>-v</b>     Produce verbose output on STDERR. The output contains the result of the configuration parsing, and
              all file open and close actions.

       <b>-e</b>     Echo logs through to stdout. Useful when logs need to be further  processed  in  real  time  by  a
              further tool in the chain.

       <b>-c</b>     Create log file for each interval, even if empty.

       <b>-n</b> <u>number-of-files</u>
              Use  a  circular list of filenames without timestamps. This option overwrites log files at startup
              and during rotation. With -n 3, the series of log files opened would  be  "logfile",  "logfile.1",
              "logfile.2",  then  overwriting  "logfile". When this program first opens "logfile", the file will
              only be truncated if <b>-t</b> is also  provided.  Every  subsequent  rotation  will  always  begin  with
              truncation of the target file. For size based rotation without <b>-t</b> and existing log files in place,
              this  option  may  result  in  unintuitive  behavior  such  as  initial  log entries being sent to
              "logfile.1", and entries in "logfile.1" not being preserved even if later "logfile.n" have not yet
              been used. Available in 2.4.5 and later.

       <u>logfile</u>

       <u>rotationtime</u>
              The time between log file rotations in seconds. The rotation  occurs  at  the  beginning  of  this
              interval. For example, if the rotation time is 3600, the log file will be rotated at the beginning
              of  every  hour;  if  the  rotation  time  is  86400,  the log file will be rotated every night at
              midnight. (If no data is logged during an interval, no file will be created.)

       <u>filesize</u>(B|K|M|G)
              The maximum file size in followed by exactly one of the letters <b>B</b> (Bytes), <b>K</b> (KBytes), <b>M</b>  (MBytes)
              or  <b>G</b>  (GBytes).  .PP  When  time  and  size are specified, the size must be given after the time.
              Rotation will occur whenever either time or size limits are reached.

       <u>offset</u> The number of minutes offset from UTC. If omitted, zero is assumed and UTC is used.  For  example,
              to  use  local  time  in the zone UTC -5 hours, specify a value of <b>-300</b> for this argument. In most
              cases, <b>-l</b> should be used instead of specifying an offset.

</pre><h4><b>EXAMPLES</b></h4><pre>
            CustomLog "|bin/rotatelogs /var/log/logfile 86400" common

       This creates the files /var/log/logfile.nnnn where nnnn is the system time at  which  the  log  nominally
       starts  (this  time  will  always be a multiple of the rotation time, so you can synchronize cron scripts
       with it). At the end of each rotation time (here after 24 hours) a new log is started.

            CustomLog "|bin/rotatelogs -l /var/log/logfile.%Y.%m.%d 86400" common

       This creates the files /var/log/logfile.yyyy.mm.dd where yyyy is the year, mm is the month, and dd is the
       day of the month. Logging will switch to a new file every day at midnight, local time.

            CustomLog "|bin/rotatelogs /var/log/logfile 5M" common

       This configuration will rotate the logfile whenever it reaches a size of 5 megabytes.

            ErrorLog "|bin/rotatelogs /var/log/errorlog.%Y-%m-%d-%H_%M_%S 5M"

       This configuration will rotate the error logfile whenever it reaches a  size  of  5  megabytes,  and  the
       suffix to the logfile name will be created of the form <b>errorlog.YYYY-mm-dd-HH_MM_SS</b>.

            CustomLog "|bin/rotatelogs -t /var/log/logfile 86400" common

       This  creates the file <b>/var/log/logfile</b>, truncating the file at startup and then truncating the file once
       per day. It is expected in this scenario that a separate process (such as tail) would process the file in
       real time.

            CustomLog "|bin/rotatelogs -T /var/log/logfile.%d 86400" common

       If the server is started (or restarted) on the first of the month, this appends  to  <b>/var/log/logfile.01</b>.
       When  a log entry is written on the second of the month, <b>/var/log/logfile.02</b> is truncated and new entries
       will be added to the top. This example keeps approximately  1  months  worth  of  logs  without  external
       maintenance.

</pre><h4><b>PORTABILITY</b></h4><pre>
       The following logfile format string substitutions should be supported by all <b><a href="../man3/strftime.3.html">strftime</a>(3)</b> implementations,
       see the <b><a href="../man3/strftime.3.html">strftime</a>(3)</b> man page for library-specific extensions.

       • <b>%A</b> - full weekday name (localized)

       • <b>%a</b> - 3-character weekday name (localized)

       • <b>%B</b> - full month name (localized)

       • <b>%b</b> - 3-character month name (localized)

       • <b>%c</b> - date and time (localized)

       • <b>%d</b> - 2-digit day of month

       • <b>%H</b> - 2-digit hour (24 hour clock)

       • <b>%I</b> - 2-digit hour (12 hour clock)

       • <b>%j</b> - 3-digit day of year

       • <b>%M</b> - 2-digit minute

       • <b>%m</b> - 2-digit month

       • <b>%p</b> - am/pm of 12 hour clock (localized)

       • <b>%S</b> - 2-digit second

       • <b>%U</b> - 2-digit week of year (Sunday first day of week)

       • <b>%W</b> - 2-digit week of year (Monday first day of week)

       • <b>%w</b> - 1-digit weekday (Sunday first day of week)

       • <b>%X</b> - time (localized)

       • <b>%x</b> - date (localized)

       • <b>%Y</b> - 4-digit year

       • <b>%y</b> - 2-digit year

       • <b>%Z</b> - time zone name

       • <b>%%</b> - literal `%'

Apache HTTP Server                                 2023-03-05                                      <u><a href="../man8/ROTATELOGS.8.html">ROTATELOGS</a></u>(8)
</pre>
 </div>
</div></section>
</div>
</body>
</html>