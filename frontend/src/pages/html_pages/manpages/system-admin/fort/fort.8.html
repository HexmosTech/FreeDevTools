<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>fort - RPKI validator and RTR server</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/fort-validator">fort-validator_1.6.6-1build1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       fort - RPKI validator and RTR server

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>fort</b> [--mode=server] [<u>OPTIONS</u>]

       <b>fort</b> --mode=standalone [<u>OPTIONS</u>]

       <b>fort</b> --init-tals --tal=<u>PATH</u>

       <b>fort</b> [-h|--help|--V|--version|--usage]

</pre><h4><b>DESCRIPTION</b></h4><pre>
       Fort  is an RPKI "Relying Party" (RP), an artifact that validates Route Origin Attestations (ROAs) by way
       of a Public Key Infrastructure (PKI). ROAs are employed by routers, to verify BGP routing attestations.

       Its main input is one or more Trust Anchor Locator (TAL) files (<u>--tal</u>), which point  to  the  RPKI  Trust
       Anchors  (ie.  root certificates).  Fort downloads all the resources governed by the trust anchors into a
       local cache (<u>--local-repository</u>), and proceeds to validate their entirety. The output of  the  validation
       is  a set of VRPs (Validated ROA Payloads), which are served to routers (<u>--mode=server</u>, <u>--server.address</u>,
       <u>--server.port</u>) through the RTR protocol (RFC 6810).

</pre><h4><b>OPTIONS</b></h4><pre>
       <b>-h,</b> <b>--help</b>
           Print long usage message and exit.

       <b>--usage</b>
           Print short usage message and exit.

       <b>-V,</b> <b>--version</b>
           Print program version and exit.

       <b>--init-tals</b>
           Download the currently known core TALs into the existent local directory <u>--tal</u>, then exit.

           The "currently known core TALs" are

           https://rpki.afrinic.net/tal/afrinic.tal
           https://tal.apnic.net/apnic.tal
           https://www.arin.net/resources/manage/rpki/arin.tal
           https://www.lacnic.net/innovaportal/file/4983/1/lacnic.tal
           https://tal.rpki.ripe.net/ripe-ncc.tal

       <b>--init-as0-tals</b>
           Download the currently known AS0 TALs into the existent local directory <u>--tal</u>, then exit.

           The "currently known AS0 TALs" are

           https://tal.apnic.net/apnic-as0.tal
           https://www.lacnic.net/innovaportal/file/4983/1/lacnic-as0.tal

       <b>-f</b>, <b>--configuration-file=</b><u>FILE</u>
           Path to a JSON file from where additional configuration will be read.

           The configuration options are mostly the same as the ones presented in this manual. Each property  is
           mapped as a member of the main JSON object, the members that contain a dot '.' must be set as objects
           (eg.  "--server.port=8323" will be set as "{ "server": { "port": "8323" } }".

           An example configuration file can be seen in this manual at the <b>EXAMPLES</b> section.

           Some configuration options can't be set at the JSON configuration file: <b>--version</b>, <b>--help</b>, <b>--version</b>,
           and <b>--configuration-file</b>.

           Other configuration options can be configured exclusively at the JSON configuration file:

           <b>rsync.program</b>
               Name of the program needed to invoke an rsync file transfer. The default value is "rsync".

           <b>rsync.arguments-recursive</b>
               Arguments  needed by <b>rsync.program</b> to perform a recursive rsync. The arguments are specified as a
               JSON  string  array;  its  default  value   is:   [   "-rtz",   "--delete",   "--omit-dir-times",
               "--contimeout=20",    "--max-size=20MB",   "--timeout=15",   "--include=*/",   "--include=*.cer",
               "--include=*.crl",  "--include=*.gbr",   "--include=*.mft",   "--include=*.roa",   "--exclude=*",
               "$REMOTE", "$LOCAL" ]

               FORT  will  replace  "$REMOTE"  with  the  remote URL it needs to download, and "$LOCAL" with the
               target local directory where the file is supposed to be dropped.

               See <u><a href="../man1/rsync.1.html">rsync</a>(1)</u> for a description of each argument.

           <b>incidences</b>
               A listing of actions to be  performed  by  validation  upon  encountering  certain  common  error
               conditions.  This  configuration  is a means to modify FORTs validator behavior upon encountering
               profile violations that, from experience, are often overlooked.

               The incidences are configured inside the member "incidences" as a JSON  array  of  objects,  each
               with two members "name" and "action", eg:

               "incidences": [
                 {
                   "name": "incid-hashalg-has-params",
                   "action": "warn"
                 }, {
                   "name": "incid-obj-not-der-encoded",
                   "action": "error"
                 }
               ]

               An incidence contains a <b>name</b> and an <b>action</b>. The <b>name</b> is merely an identifier defined by FORT that
               states  a particular error condition, and the <b>action</b> is an enumeration that states the outcome of
               a violation of the corresponding incidence.

               The <b>action</b> can have one of three values:
                   <u>error</u>: Print error message in error log level, fail validation of the offending  object  (and
                   all of its children).
                   <u>warn</u>: Print error message in warning log level, continue validation as if nothing happened.
                   <u>ignore</u>: Do not print error message, continue validation as if nothing happened.

               Currently these are the registered incidences, each with a distinct <b>action</b> configured by default.
                   <u>incid-hashalg-has-params</u>  (Signed  Object's  hash  algorithm  has NULL object as parameters).
                   [Default action: <b>ignore</b>]
                   <u>incid-obj-not-der-encoded</u> (Object isn't DER encoded). [Default action: <b>ignore</b>]
                   <u>incid-file-at-mft-not-found</u> (File listed at manifest doesn't exist).  [Default action: <b>error</b>]
                   <u>incid-file-at-mft-hash-not-match</u> (File hash listed at manifest doesn't match the actual  file
                   hash). [Default action: <b>error</b>]
                   <u>incid-mft-stale</u> (Manifest is stale).  [Default action: <b>error</b>]
                   <u>incid-crl-stale</u> (CRL is stale).  [Default action: <b>error</b>]

               More information about incidences can be consulted at FORT's web docs.

       <b>-t</b>, <b>--tal=(</b><u>FILE</u>|<u>DIRECTORY</u>)
           Path to a .tal, or a directory containing .tal files. Fort will validate the trees pointed by them.

           The TAL ("Trust Anchor Locator") is a text file that lists a few URLs which can be used to access the
           "Trust Anchor" (the root of a particular RPKI tree) and its public key. (See RFC 8630.)

       <b>-r</b>, <b>--local-repository=</b><u>DIRECTORY</u>
           Path to a directory where the local cache of the repository will be stored and/or read.

           FORT  accesses  RPKI  repositories  either  with <u>rsync</u> or <u>RRDP</u> (see RFC 8182). During each validation
           cycle, and depending on the preferred access methods defined by the CAs, Fort can do two things:
               - Literally invoke an rsync command (see <b>rsync.program</b> and <b>rsync.arguments-recursive</b>), which will
               download the files into <b>--local-repository</b>.
               - Fetch the RRDP Update Notification file (which implies an HTTP request)  and  fetch  the  files
               from  there on (can be obtained from a Snapshot file or Delta files). The files will be downloaed
               into <b>--local-repository</b>.

           Fort's entire validation process operates on the resulting copy of the files (doesn't matter  if  the
           files where fetched by rsync of https).

           Because  rsync uses delta encoding, youâ€™re advised to keep this cache around. It significantly speeds
           up subsequent validation cycles.

           By default, the path is <u>/var/lib/fort</u>.

       <b>--daemon</b>
           If this flag is activated, Fort will run as a daemon.  The  process  is  detached  from  the  calling
           terminal and sent to the background.

           All  the  enabled  logs  will  be  sent  to  syslog,  so  the  configured  values of <b>--log.output</b> and
           <b>--validation-log.output</b> will be ignored.

       <b>--work-offline</b>
           If this flag is activated, Fort will disable all outgoing requests (currently done  with:  <u>rsync</u>  and
           <u>https</u>  (RRDP protocol uses HTTPS to fetch data)). All repository files (certificates, ROAs, etc.) are
           expected to exist at configured <b>--local-repository</b>.

           Otherwise, Fort will perform outgoing requests whenever this is needed. If a specific protocol  needs
           to be deactivated, use <b>--rsync.enabled</b> or <b>--http.enabled</b>.

       <b>--maximum-certificate-depth=</b><u>UNSIGNED_INTEGER</u>
           Maximum  allowable  certificate  chain length. Meant to protect FORT from iterating infinitely due to
           certificate chain loops.

           By default, it has a value of <u>32</u>. The minimum allowed value is 5.

           (Required to prevent loops and "other degenerate forms of the logical RPKI hierarchy." (RFC 6481))

       <b>--slurm=(</b><u>FILE</u>|<u>DIRECTORY</u>)
           Path to the SLURM FILE or SLURMs DIRECTORY.

           The SLURM definition is from RFC 8416. SLURM stands for "Simplified Local  Internet  Number  Resource
           Management  with  the  RPKI", basically is a document that can override (either as a filter or adding
           assertions) the global  RPKI  repository  data  fetched  by  FORT;  potentially  useful  for  network
           operators.

           In  case  a  DIRECTORY is set, the files with extension '<u>.slurm</u>' will be the ones considered as SLURM
           files and FORT will use them.

           The configured SLURM path (either <u>FILE</u> or <u>DIRECTORY</u>) will be read each time a  new  validation  cycle
           begins. If there's a syntax or content error, the last valid version of the SLURM will be applied (if
           there's  one)  and  a  message will be logged to indicate this action. Note that all this will happen
           only if <u>--mode=server</u> and <u>--slurm</u> is configured.

           A basic example of a SLURM file can be seen in this manual at the <b>EXAMPLES</b> section (it's  almost  the
           same as the one in RFC 8416).

           See more about SLURM configuration at FORT's web docs.

       <b>--mode=(</b><u>server</u>|<u>standalone</u>|<u>print</u>)
           Operation mode.

           <u>server</u> (Default)
               Perform  validation  cycles  in  perpetuity.  (See  <b>--server.interval.validation</b>).   Also,  serve
               resulting VRPs through RTR. (See <b>--server.*</b>.)

           <u>standalone</u>
               Perform single validation cycle, then exit.

           <u>print</u>
               Print a Certificate, CRL or Signed Object (ROA, Manifest or Ghostbusters) in standard output.

       <b>--server.address=</b><u>NODE(S)</u>
           List of hostnames or numeric host addresses the RTR server will be bound to. Must resolve to (or  be)
           bindable IP addresses. IPv4 and IPv6 are supported.

           The  address  list  must  be  comma-separated,  and  each  address  must  have  the following format:
           <b>&lt;address&gt;[#&lt;port&gt;]</b>. The port defaults to <u>--server.port</u>.

           Here are some examples:
           - <u>--server.address="localhost"</u>: Bind to localhost, port <u>--server.port</u>.
           - <u>--server.address="localhost,</u> <u>::1#8324"</u>: Same as above, and also bind to <u>[::1]:8324</u>.
           - <u>--server.address="localhost#8323,</u> <u>::1#8324"</u>: Bind to <u>localhost</u> on port  8323,  and  to  <u>[::1]:8324</u>.
           (<u>--server.port</u> is ignored.)

           Use  wildcards  to bind to all available addresses. Note that, for historical reasons, Linux is a bit
           strange:

           BSDs:

           - <u>0.0.0.0</u> : Bind to all available IPv4 addresses
           - <u>::</u> : Bind to all available IPv6 addresses
           - <u>0.0.0.0,</u> <u>::</u> : Bind to all available IPv4 and IPv6 addresses

           Linux:

           - <u>0.0.0.0</u> : Bind to all available IPv4 addresses
           - <u>::</u> : Bind to all available IPv4 and IPv6 addresses
           - <u>0.0.0.0,</u> <u>::</u> : Error

       <b>--server.port=</b><u>SERVICE</u>
           TCP port or service the server address(es) will be bound to  by  default  if  no  port  is  set  (see
           <u>--server.address</u>).

           This is a string because a service alias can be used as a valid value. The alias are commonly located
           at <u><a href="file:/etc/services">/etc/services</a></u>. See also <b><a href="../man3/getaddrinfo.3.html">getaddrinfo</a>(3)</b> and <b><a href="../man5/services.5.html">services</a>(5)</b>.

           The default port (323) is privileged. To improve security, either change or jail it.

           The  default  <u>fort-validator.service</u>  configuration sets the <u>CAP_NET_BIND_SERVICE</u> capability to allow
           the unprivileged daemon to bind port 323 anyway.

       <b>--server.backlog=</b><u>UNSIGNED_INTEGER</u>
           RTR serverâ€™s listen queue length. Itâ€™s the second argument of the function <u>listen</u> (see  more  at  man
           <b><a href="../man2/listen.2.html">listen</a>(2)</b>).  This  provides  a hint to the implementation which the implementation shall use to limit
           the number of outstanding connections in the socketâ€™s listen queue.

           By default, it has a value of <u>SOMAXCONN</u>.

       <b>--server.interval.validation=</b><u>UNSIGNED_INTEGER</u>
           Number of seconds that FORT will sleep between validation cycles. The  timer  starts  counting  every
           time  a  validation  is finished, not every time it begins.  Therefore, the actual validation loop is
           longer than this number.

           By default, it has a value of <u>3600</u>.

       <b>--server.interval.refresh=</b><u>UNSIGNED_INTEGER</u>
           Number of seconds that a router should wait before the next attempt  to  poll  FORT  using  either  a
           Serial  Query  PDU or Reset Query PDU. Countdown for this timer starts upon receipt of an End Of Data
           PDU (this should be administered by the client).

           This value is utilized only on RTR version 1 sessions (more information at RFC 8210 section 6).

           By default, it has a value of <u>3600</u>. Minimum allowed value: <u>1</u>, maximum allowed value <u>86400</u>.

       <b>--server.interval.retry=</b><u>UNSIGNED_INTEGER</u>
           Number of seconds that a router should wait before retrying a failed Serial Query PDU or Reset  Query
           PDU.  Countdown  for  this  timer starts upon failure of the query and restarts after each subsequent
           failure until a query succeeds (this should be administered by the client).

           This value is utilized only on RTR version 1 sessions (more information at RFC 8210 section 6).

           By default, it has a value of <u>600</u>. Minimum allowed value: <u>1</u>, maximum allowed value <u>7200</u>.

       <b>--server.interval.expire=</b><u>UNSIGNED_INTEGER</u>
           Number of seconds that a router can retain the current version of data  while  unable  to  perform  a
           successful subsequent query. Countdown for this timer starts upon receipt of an End Of Data PDU (this
           should be administered by the client).

           This value is utilized only on RTR version 1 sessions (more information at RFC 8210 section 6).

           By default, it has a value of <u>7200</u>. Minimum allowed value: <u>600</u>, maximum allowed value <u>172800</u>. It must
           be larger than <u>server.interval.refresh</u> and <u>server.interval.retry</u>.

       <b>--server.deltas.lifetime=</b><u>UNSIGNED_INTEGER</u>
           When  routers  first  connect  to  Fort, they request a snapshot of the validation results. (ROAs and
           Router Keys.) Because they need to keep their validated objects updated, and  snapshots  tend  to  be
           relatively  large amounts of information, they request deltas afterwards over configurable intervals.
           ("Deltas" being the differences between snapshots.)

           During each validation cycle, Fort generates a new snapshot, as well as the deltas  needed  to  build
           the  new snapshot from the previous one. These are all stored in RAM. <u>--server.deltas.lifetime</u> is the
           number of iterations a set of deltas will be  kept  before  being  deallocated.  (Recall  that  every
           iteration lasts <u>--server.interval.validation</u> seconds, plus however long the validation takes.)

           If  a  router  lags  behind,  to the point Fort has already deleted the deltas it needs to update the
           routerâ€™s snapshot, Fort will have to fall back to fetch the entire latest snapshot instead.

       <b>--log.enabled=</b><u>true</u>|<u>false</u>
           Enables the operation logs.

           By default, it has a value of <u>true</u> (these logs are enabled).

           Read more about logs at FORT validator's web docs, module 'Logging'.

       <b>--log.level=(</b><u>error</u>|<u>warning</u>|<u>info</u>|<u>debug</u>)
           Defines which operation log messages will be logged according to its priority, e.g. a value  of  <u>info</u>
           will log messages of equal or higher level (<u>info</u>, <u>warning</u>, and <u>error</u>).

           The priority levels, from higher to lowest, are:
               - <u>error</u>
               - <u>warning</u>
               - <u>info</u>
               - <u>debug</u>

           By default, it has a value of <u>warning</u>.

           Read more about logs at FORT validator's web docs, module 'Logging'.

       <b>--log.output=(</b><u>syslog</u>|<u>console</u>)
           Desired output where the operation logs will be printed.

           The value <u>console</u> will log messages at standard output and standard error; <u>syslog</u> will log to syslog.

           Depending  on  the  OS,  distinct  implementations  of syslog could be installed (syslog, rsyslog, or
           syslog-ng are the most common ones). Syslog usage and configuration is out of this man scope.

           By default, it has a value of <u>console</u>.

           Read more about logs at FORT validator's web docs, module 'Logging'.

       <b>-c</b>, <b>--log.color-output=</b><u>true</u>|<u>false</u>
           If enabled, the operation logs output will contain ANSI color codes. Meant for human consumption.

           Meaningful only if <u>--log.output</u> value is <u>console</u>.

           By default, it has a value of <u>false</u> (it's disabled).

           Read more about logs at FORT validator's web docs, module 'Logging'.

       <b>--log.file-name-format=(</b><u>global-url</u> | <u>local-path</u> | <u>file-name</u>)
           Decides which version of file names should  be  printed  during  most  debug/error  messages  at  the
           operation logs.

           Suppose  a  certificate was downloaded from `rsync://rpki.example.com/foo/bar/baz.cer` into the local
           cache `repository/`:

           <u>global-url</u>
               Will print the certificate's name as `rsync://rpki.example.com/foo/bar/baz.cer`.

           <u>local-path</u>
               Will print the certificate's name as `repository/rpki.example.com/foo/bar/baz.cer`.

           <u>file-name</u>
               Will print the certificate's name as `baz.cer`.

           By default, it has a value of <u>global-url</u>.

           Read more about logs at FORT validator's web docs, module 'Logging'.

       <b>--log.facility=(</b><u>auth</u> | <u>authpriv</u> | <u>cron</u> | <u>daemon</u> | <u>ftp</u> | <u>lpr</u> | <u>mail</u> | <u>news</u> | <u>user</u> | <u>uucp</u> | from <u>local0</u>  to
       <u>local7</u>)
           Syslog facility utilized for operation logs (meaningful only if <u>--log.output</u> is <u>syslog</u>).

           By default, it has a value of <u>daemon</u>.

           Read more about logs at FORT validator's web docs, module 'Logging'.

       <b>--log.tag=</b><u>STRING</u>
           Text tag that will be added to the operation log messages (it will appear inside square brackets).

           By default, it has a NULL value.

           Read more about logs at FORT validator's web docs, module 'Logging'.

       <b>--validation-log.enabled=</b><u>true</u>|<u>false</u>
           Enables the validation logs.

           By default, it has a value of <u>false</u> (these logs are disabled).

           Read more about logs at FORT validator's web docs, module 'Logging'.

       <b>--validation-log.level=(</b><u>error</u>|<u>warning</u>|<u>info</u>|<u>debug</u>)
           Defines  which validation log messages will be logged according to its priority, e.g. a value of <u>info</u>
           will log messages of equal or higher level (<u>info</u>, <u>warning</u>, and <u>error</u>).

           The priority levels, from higher to lowest, are:
               - <u>error</u>
               - <u>warning</u>
               - <u>info</u>
               - <u>debug</u>

           By default, it has a value of <u>warning</u>.

           Read more about logs at FORT validator's web docs, module 'Logging'.

       <b>--validation-log.output=(</b><u>syslog</u>|<u>console</u>)
           Desired output where the validation logs will be printed.

           The value <u>console</u> will log messages at standard output and standard error; <u>syslog</u> will log to syslog.

           Depending on the OS, distinct implementations of syslog  could  be  installed  (syslog,  rsyslog,  or
           syslog-ng are the most common ones). Syslog usage and configuration is out of this man scope.

           By default, it has a value of <u>console</u>.

           Read more about logs at FORT validator's web docs, module 'Logging'.

       <b>-c</b>, <b>--validation-log.color-output=</b><u>true</u>|<u>false</u>
           If enabled, the validation logs output will contain ANSI color codes. Meant for human consumption.

           Meaningful only if <u>--validation-log.output</u> value is <u>console</u>.

           By default, it has a value of <u>false</u> (it's disabled).

           Read more about logs at FORT validator's web docs, module 'Logging'.

       <b>--validation-log.file-name-format=(</b><u>global-url</u> | <u>local-path</u> | <u>file-name</u>)
           Decides  which  version  of  file  names  should  be  printed during most debug/error messages at the
           validation logs.

           Suppose a certificate was downloaded from `rsync://rpki.example.com/foo/bar/baz.cer` into  the  local
           cache `repository/`:

           <u>global-url</u>
               Will print the certificate's name as `rsync://rpki.example.com/foo/bar/baz.cer`.

           <u>local-path</u>
               Will print the certificate's name as `repository/rpki.example.com/foo/bar/baz.cer`.

           <u>file-name</u>
               Will print the certificate's name as `baz.cer`.

           By default, it has a value of <u>global-url</u>.

           Read more about logs at FORT validator's web docs, module 'Logging'.

       <b>--validation-log.facility=(</b><u>auth</u> | <u>authpriv</u> | <u>cron</u> | <u>daemon</u> | <u>ftp</u> | <u>lpr</u> | <u>mail</u> | <u>news</u> | <u>user</u> | <u>uucp</u> | from
       <u>local0</u> to <u>local7</u>)
           Syslog facility utilized for validation logs (meaningful only if <u>--validation-log.output</u> is <u>syslog</u>).

           By default, it has a value of <u>daemon</u>.

           Read more about logs at FORT validator's web docs, module 'Logging'.

       <b>--validation-log.tag=</b><u>STRING</u>
           Text tag that will be added to the validation log messages (it will appear inside square brackets).

           By default, it has the value <u>Validation</u>.

           Read more about logs at FORT validator's web docs, module 'Logging'.

       <b>--http.enabled=</b><u>true</u>|<u>false</u>
           Enables outgoing HTTP requests.

           If  disabled  (eg.  <b>--http.enabled=false</b>), FORT validator won't request HTTP URIs, and will expect to
           find all the corresponding repository files at <b>--local-repository</b>.

       <b>--http.priority=</b><u>UNSIGNED_INTEGER</u>
           Assign priority to use HTTP to fetch repository files. A higher value means a higher priority.

           This argument works along with <b>--rsync.priority</b>, since the higher value of  the  two  arguments  will
           result  in  the  first  protocol to utilize when fetching repositories files. Of course, this depends
           also on certificates information or the TAL URIs, since currently HTTP  URIs  are  optional  and  not
           every RIR repository makes use of them.

           Whenever  a  certificate or a TAL has both RSYNC and HTTP URIs, the following criteria is followed to
           prioritize which one to use first:
               - <u>--rsync.priority</u> <b>equals</b> <u>--http.priority</u>: use the order specified at the certificate or the  TAL
               to fetch the corresponding URI.
               -  <u>--rsync.priority</u>  <b>greater</b> <b>than</b> <u>--http.priority</u>: use RSYNC repository/TAL URI first; if there's
               an error fetching data, fallback to fetch HTTP repository/TAL URI.
               - <u>--rsync.priority</u> <b>less</b> <b>than</b> <u>--http.priority</u>: use HTTP repository/TAL URI first;  if  there's  an
               error fetching data, fallback to use RSYNC repository/TAL URI.

           By default, the value is <u>60</u>, so HTTP requests are preferred over rsync requests.

       <b>--http.retry.count=</b><u>UNSIGNED_INTEGER</u>
           Maximum number of retries whenever there's an error requesting an HTTP URI.

           A value of <u>0</u> means no retries.

           Whenever  is  necessary  to request an HTTP URI, the validator will try the request at least once. If
           there was an error requesting the URI, the validator will retry at most <u>--http.retry.count</u>  times  to
           fetch the file, waiting <u>--http.retry.interval</u> seconds between each retry.

           By default, the value is <u>4</u>.

       <b>--http.retry.interval=</b><u>UNSIGNED_INTEGER</u>
           Period (in seconds) to wait between retries after an error ocurred requestin HTTP URIs.

           By default, the value is <u>5</u>.

       <b>--http.user-agent=</b><u>STRING</u>
           User-Agent to use at HTTP requests.

           The  value  specified  (either  by the argument or the default value) is utilized in libcurlâ€™s option
           <u>CURLOPT_USERAGENT</u>.

           By default, the value is <u>fort/&lt;current-version&gt;</u>.

       <b>--http.connect-timeout=</b><u>UNSIGNED_INTEGER</u>
           Timeout (in seconds) for the connect phase.

           Whenever an HTTP connection will try to  be  established,  the  validator  will  wait  a  maximum  of
           <b>http.connect-timeout</b>  seconds  for  the  peer to respond to the connection request; if the timeout is
           reached, the connection attempt will be ceased.

           The value specified (either by the argument or the default value) is  utilized  in  libcurlâ€™s  option
           <u>CURLOPT_CONNECTTIMEOUT</u>.

           By default, it has a value of <u>30</u>. The minimum allowed value is <u>1</u>.

       <b>--http.transfer-timeout=</b><u>UNSIGNED_INTEGER</u>
           Maximum time in seconds (once the connection is established) that the request can last.

           Once the connection is established with the server, the request will last a maximum of <b>http.transfer-</b>
           <b>timeout</b> seconds. A value of <u>0</u> means unlimited time (default value).

           The  value  specified  (either  by the argument or the default value) is utilized in libcurlâ€™s option
           <u>CURLOPT_TIMEOUT</u>.

           By default, it has a value of <u>900</u>.

       <b>--low-speed-limit=</b><u>UNSIGNED_INTEGER</u>
           The value Fort employs as CURLOPT_LOW_SPEED_LIMIT during every HTTP transfer.

           "Abort connection if slower than LIMIT bytes/sec during TIME seconds."

           (See --low-speed-time.)

           Default: <u>100000</u> (100 KB/s)

       <b>--low-speed-time=</b><u>UNSIGNED_INTEGER</u>
           The value Fort employs as CURLOPT_LOW_SPEED_TIME during every HTTP transfer.

           "Abort connection if slower than LIMIT bytes/sec during TIME seconds."

           (See --low-speed-limit.)

           Default: <u>10</u>

       <b>--http.max-file-size=</b><u>UNSIGNED_INTEGER</u>
           Maximum amount of bytes files are allowed to length during HTTP transfers.

           Default: <u>2000000000</u> (2 GB)

       <b>--http.ca-path=</b><u>DIRECTORY</u>
           Local path where the CAâ€™s utilized to verify the peers are located.

           Useful when the CA from the peer isnâ€™t located at the default OS certificate  bundle.  If  specified,
           the peer certificate will be verified using the CAs at the path. The directory MUST be prepared using
           the <u>rehash</u> utility from the SSL library:
               - OpenSSL command (with help): <b>$</b> <b>openssl</b> <b>rehash</b> <b>-h</b>
               - LibreSSL command (with help): <b>$</b> <b>openssl</b> <b>certhash</b> <b>-h</b>

           The value specified is utilized in libcurlâ€™s option <u>CURLOPT_CAPATH</u>.

           By default, the path has a NULL value.

       <b>--rsync.enabled=</b><u>true</u>|<u>false</u>
           Enables RSYNC requests.

           If  disabled  (eg.  <b>--rsync.enabled=false</b>),  FORT  validator won't download files nor directories via
           RSYNC, and will expect to find all repository files at <b>--local-repository</b>.

       <b>--rsync.priority=</b><u>UNSIGNED_INTEGER</u>
           Assign priority to use RSYNC to fetch repository files. A higher value means a higher priority.

           This argument works along with <b>--http.priority</b>, since the higher value  of  the  two  arguments  will
           result  in  the  first  protocol to utilize when fetching repositories files. Of course, this depends
           also on certificates information or the TAL URIs, since currently HTTP  URIs  are  optional  and  not
           every RIR repository makes use of them.

           Whenever a certificate has both RSYNC and HTTP URIs, the following criteria is followed to prioritize
           which one to use first:
               -  <u>--rsync.priority</u> <b>equals</b> <u>--http.priority</u>: use the order specified at the certificate or the TAL
               to fetch the corresponding URI.
               - <u>--rsync.priority</u> <b>greater</b> <b>than</b> <u>--http.priority</u>: use RSYNC repository/TAL URI first;  if  there's
               an error fetching data, fallback to use fetch HTTP repository/TAL URI.
               -  <u>--rsync.priority</u>  <b>less</b>  <b>than</b> <u>--http.priority</u>: use HTTP repository/TAL URI first; if there's an
               error fetching data, fallback to use RSYNC repository/TAL URI.

           By default, the value is <u>50</u>, so HTTP requests are preferred over rsync requests.

       <b>--rsync.retry.count=</b><u>UNSIGNED_INTEGER</u>
           Maximum number of retries whenever there's an error executing RSYNC.

           A value of <u>0</u> means no retries.

           Whenever is necessary to execute an RSYNC, the validator will try the execution  at  least  once.  If
           there  was  an  error  executing  the  RSYNC, the validator will retry it at most <u>--rsync.retry.count</u>
           times, waiting <u>--rsync.retry.interval</u> seconds between each retry.

           By default, the value is <u>4</u>.

       <b>--rsync.retry.interval=</b><u>UNSIGNED_INTEGER</u>
           Period (in seconds) to wait between retries after an RSYNC error ocurred.

           By default, the value is <u>5</u>.

       <b>--rsync.transfer-timeout=</b><u>UNSIGNED_INTEGER</u>
           Maximum time in seconds that the rsync process can last.

           Once  the  connection  is  established  with  the  server,  the  request  will  last  a  maximum   of
           <b>rsync.transfer-timeout</b> seconds. A value of <u>0</u> means unlimited time (default value).

           By default, it has a value of <u>900</u>.

       <b>--output.roa=</b><u>FILE</u>
           File where the ROAs will be printed in the configured format (see <u>--output.format</u>).

           When  the  <u>FILE</u> is specified, its content will be overwritten by the resulting ROAs of the validation
           (if FILE doesn't exists, it'll be created).

           When <u>--output.format=csv</u> (which is the default value), then each line of the result is printed in the
           following order: AS, Prefix, Max prefix length; the first line contains those column descriptors.

           When <u>--output.format=json</u>, then each element is printed inside an object array of "roas"; ie:
           {
             "roas": [
               {
                 "asn": "AS64496",
                 "prefix": "198.51.100.0/24",
                 "maxLength": 24
               },
               {
                 "asn": "AS64496",
                 "prefix": "2001:DB8::/32",
                 "maxLength": 48
               }
             ]
           }

           In order to print the ROAs at console, use a hyphen as the <u>FILE</u> value, eg.  <b>--output.roa=-</b>

           By default, it has no value set.

       <b>--output.bgpsec=</b><u>FILE</u>
           File where the BGPsec Router Keys will be printed in the configured format (see <u>--output.format</u>).

           Since most of the data is binary (Subject Key Identifier and Subject Public Key Info), such  data  is
           base64url encoded without trailing pads.

           When  the  <u>FILE</u>  is  specified,  its  content will be overwritten by the resulting Router Keys of the
           validation (if FILE doesn't exists, it'll be created).

           When <u>--output.format=csv</u> (which is the default value), then each line of the result is printed in the
           following order: AS, Subject Key Identifier, Subject Public Key Info; the first line  contains  those
           column descriptors.

           When <u>--output.format=json</u>, then each element is printed inside an object array of "router-keys"; ie:
           {
             "router-keys": [
               {
                 "asn": "AS64496",
                 "ski": "&lt;Base64 Encoded SKI&gt;",
                 "spki": "&lt;Base64 Encoded SPKI&gt;"
               },
               {
                 "asn": "AS64496",
                 "ski": "&lt;Base64 Encoded SKI&gt;",
                 "spki": "&lt;Base64 Encoded SPKI&gt;"
               }
             ]
           }

           In order to print the Router Keys at console, use a hyphen as the <u>FILE</u> value, eg.  <b>--output.bgpsec=-</b>

           By default, it has no value set.

       <b>--output.format=</b><u>csv</u>|<u>json</u>
           Output format for <u>--output.roa</u> and <u>--output.bgpsec</u>.

           By default, it has a value of <u>csv</u>.

       <b>--thread-pool.server.max=</b><u>UNSIGNED_INTEGER</u>
           Number  of  threads  the RTR server will reserve for RTR client (router) request handling. The server
           will be able to handle <u>--thread-pool.server.max</u> requests at most, at once. Additional  requests  will
           queue.

           Minimum: <u>1</u>
           Maximum: <u>UINT_MAX</u>
           Default: <u>20</u>

       <b>--asn1-decode-max-stack=</b><u>UNSIGNED_INTEGER</u>
           ASN1  decoder max allowed stack size in bytes, utilized to avoid a stack overflow when a large nested
           ASN1 object is parsed.

           By default, it has a value of <u>4096</u> (4 kB).

</pre><h4><b>EXAMPLES</b></h4><pre>
       <b>fort</b> <b>--init-tals</b> <b>--tal=/tmp/tal</b>
           Download the 5 RIR TALs into the /tmp/tal directory.

       <b>fort</b> <b>-t</b> <b>/etc/tals</b> <b>-r</b> <b>/var/lib/fort</b> <b>--server.port=9323</b>
           Run FORT with all the default values, using a custom TALs directory, a custom repository directory as
           well, and binding the RTR server to port 9323.

       <b>fort</b> <b>-t</b> <b>/etc/tals</b> <b>-r</b> <b>/var/lib/fort</b> <b>--mode=standalone</b> <b>--output.roa=-</b>
           Run FORT as standalone and output ROAs CSV to the console.

       <b>fort</b> <b>-t</b> <b>/etc/tals</b> <b>-r</b> <b>/var/lib/fort</b> <b>\</b>
            <b>--mode=standalone</b> <b>\</b>
            <b>--slurm=/etc/fort/slurm/</b>
           Run FORT as standalone and using a SLURM file.

       <b>fort</b> <b>--configuration-file=conf.json</b>
           Run FORT using the JSON configuration file <u>conf.json</u>.

       <b>fort</b> <b>-t</b> <b>/etc/tals</b> <b>-r</b> <b>/var/lib/fort</b> <b>\</b>
            <b>--server.address=::1</b> <b>--server.port=9323</b> <b>\</b>
            <b>--server.interval.validation=1800</b> <b>\</b>
            <b>--output.roa=/var/lib/fort/roas.csv</b>
           Run FORT with RTR server listening on IPv6 address <u>::1</u>, port 9323, validating every 30  minutes,  and
           printing the ROAs CSV in a file.

       <b>Complete</b> <b>configuration</b> <b>file</b>
           This is an example of a valid JSON configuration file with all its members set to a specific value:
           {
             "tal": "/etc/tals/",
             "local-repository": "/var/lib/fort/",
             "maximum-certificate-depth": 32,
             "slurm": "/etc/fort/slurm/",
             "mode": "server",
             "work-offline": false,
             "daemon": false,

             "server": {
               "address": [
                 "192.0.2.1",
                 "2001:db8::1"
               ],
               "port": "8323",
               "backlog": 4096,
               "interval": {
                 "validation": 3600,
                 "refresh": 3600,
                 "retry": 600,
                 "expire": 7200
               },
               "deltas": {
                 "lifetime": 2
               }
             },

             "rsync": {
               "enabled": true,
               "priority": 50,
               "retry": {
                 "count": 1,
                 "interval": 4
               },
               "transfer-timeout": 900,
               "program": "rsync",
               "arguments-recursive": [
                 "-rtz",
                 "--delete",
                 "--omit-dir-times",
                 "--contimeout=20",
                 "--max-size=20MB",
                 "--timeout=15",
                 "--include=*/",
                 "--include=*.cer",
                 "--include=*.crl",
                 "--include=*.gbr",
                 "--include=*.mft",
                 "--include=*.roa",
                 "--exclude=*",
                 "$REMOTE",
                 "$LOCAL"
               ]
             },

             "http": {
               "enabled": true,
               "priority": 60,
               "retry": {
                 "count": 1,
                 "interval": 4
               },
               "user-agent": "fort/1.6.4",
               "max-redirs": 10,
               "connect-timeout": 30,
               "transfer-timeout": 900,
               "low-speed-limit": 100000,
               "low-speed-time": 10,
               "max-file-size": 2000000000,
               "ca-path": "<a href="file:/etc/ssl/certs">/etc/ssl/certs</a>"
             },

             "log": {
               "enabled": true,
               "output": "console",
               "level": "warning",
               "tag": "Op",
               "facility": "daemon",
               "file-name-format": "global-url",
               "color-output": false
             },

             "validation-log": {
               "enabled": false,
               "output": "console",
               "level": "warning",
               "tag": "Validation",
               "facility": "daemon",
               "file-name-format": "global-url",
               "color-output": false
             },

             "incidences": [
               {
                 "name": "incid-hashalg-has-params",
                 "action": "ignore"
               }, {
                 "name": "incid-obj-not-der-encoded",
                 "action": "ignore"
               }, {
                 "name": "incid-file-at-mft-not-found",
                 "action": "error"
               }, {
                 "name": "incid-file-at-mft-hash-not-match",
                 "action": "error"
               }, {
                 "name": "incid-mft-stale",
                 "action": "error"
               }, {
                 "name": "incid-crl-stale",
                 "action": "error"
               }
             ],

             "output": {
               "roa": "/var/lib/fort/roas.csv",
               "bgpsec": "/var/lib/fort/bgpsec.csv",
               "format": "csv"
             },

             "asn1-decode-max-stack": 4096,

             "thread-pool": {
               "server": {
                 "max": 20
               }
             }
           }

       <b>Dummy</b> <b>SLURM</b> <b>file</b>
           This  is  an  example  of a SLURM file with some prefix filters and assertions, as well as some dummy
           Router Keys (BGPsec) info:

           {
             "slurmVersion": 1,
             "validationOutputFilters": {
               "prefixFilters": [
                 {
                   "prefix": "192.0.2.0/24",
                   "comment": "All VRPs encompassed by prefix"
                 },
                 {
                   "asn": 64496,
                   "comment": "All VRPs matching ASN"
                 },
                 {
                   "prefix": "198.51.100.0/24",
                   "asn": 64497,
                   "comment": "All VRPs encompassed by prefix, matching ASN"
                 }
               ],
               "bgpsecFilters": [
                 {
                   "asn": 64496,
                   "comment": "All keys for ASN"
                 },
                 {
                   "SKI": "Q8KMeBsCto1PJ6EuhowleIGNL7A",
                   "comment": "Key matching Router SKI"
                 },
                 {
                   "asn": 64497,
                   "SKI": "g5RQYCnkMpDqEbt9WazTeB19nZs",
                   "comment": "Key for ASN 64497 matching Router SKI"
                 }
               ]
             },
             "locallyAddedAssertions": {
               "prefixAssertions": [
                 {
                   "asn": 64496,
                   "prefix": "198.51.100.0/24",
                   "comment": "My other important route"
                 },
                 {
                   "asn": 64496,
                   "prefix": "2001:DB8::/32",
                   "maxPrefixLength": 48,
                   "comment": "My other important de-aggregated routes"
                 }
               ],
               "bgpsecAssertions": [
                 {
                   "asn": 64496,
                   "SKI": "Dulqji-sUM5sX5M-3mqngKaFDjE",
                   "routerPublicKey": "MFkwEwYHKoZIzj0CAQYIKoZIzj0DAQcDQgAE-rkSLXlPpL_m-L7CfCfKrv1FHrM55FsIc8fMlnjHE6Y5nTuCn3UgWfCV6sYuGUZzPZ0Ey6AvezmfcELUB87eBA"
                 }
               ]
             }
           }

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       https://nicmx.github.io/FORT-validator/

v1.6.6                                             2025-02-05                                            <u><a href="../man8/fort.8.html">fort</a></u>(8)
</pre>
 </div>
</div></section>
</div>
</body>
</html>