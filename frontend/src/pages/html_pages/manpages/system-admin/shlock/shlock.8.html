<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>shlock - Create lock files for use in shell scripts</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/inn2">inn2_2.7.3-1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       shlock - Create lock files for use in shell scripts

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>shlock</b> [<b>-b</b>|<b>-c</b>|<b>-u</b>] <b>-f</b> <u>name</u> <b>-p</b> <u>pid</u>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>shlock</b> tries to create a lock file named <u>name</u> and write the process ID <u>pid</u> into it.  If the file already
       exists, <b>shlock</b> will read the process ID from the file and test to see whether the process is currently
       running.  If the process exists, then the file will not be created.  <u>shlock</u> exits with a zero status if
       it could create the lock file, or non-zero if the file refers to a currently active process.

       A Perl wrapper around <b>shlock</b> can be used via the "INN::Utils::Shlock" module.

</pre><h4><b>OPTIONS</b></h4><pre>
       <b>-b</b>  Process  IDs  are  normally  read  and  written  in ASCII.  If the <b>-b</b> flag is used, then they will be
           written as a binary int.

       <b>-c</b>  If the <b>-c</b> flag is used, then <b>shlock</b> will not create a lock file, but will instead use the file to see
           if the lock is held by another program.  If the lock is valid, the program will exit with a  non-zero
           status;  if  the lock is not valid (i.e. invoking <b>shlock</b> without the flag would have succeeded), then
           the program will exit with a zero status.

       <b>-f</b> <u>name</u>
           <u>name</u> is the name of the lock file <b>shlock</b> attempts to create.  If the file  already  exists,  it  will
           read  the  process  ID  from  the  file  and exit with a non-zero status if this process is currently
           active.

       <b>-p</b> <u>pid</u>
           <u>pid</u> is the process ID to write into the file <u>name</u>.

       <b>-u</b>  For compatibility with other systems, the <b>-u</b> flag is accepted as a synonym for <b>-b</b> since binary  locks
           are used by many UUCP packages.

</pre><h4><b>EXAMPLES</b></h4><pre>
       The following example shows how <b>shlock</b> would be used within a shell script:

           LOCK=&lt;pathrun in inn.conf&gt;/LOCK.send
           trap 'rm -f ${LOCK} ; exit 1' 1 2 3 15
           if shlock -p $$ -f ${LOCK} ; then
               # Do appropriate work.
           else
               echo "Locked by `cat ${LOCK}`"
           fi

</pre><h4><b>HISTORY</b></h4><pre>
       Written  by Rich $alz &lt;<a href="mailto:rsalz@uunet.uu.net">rsalz@uunet.uu.net</a>&gt; for InterNetNews after a description of HDB UUCP locking given
       by Peter Honeyman, and improved by Berend Reitsma to solve a race condition.  Converted to POD by  Julien
       Elie.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       INN::Utils::<a href="../man3pm/Shlock.3pm.html">Shlock</a>(3pm).

INN 2.7.3                                          2025-05-19                                          <u><a href="../man8/SHLOCK.8.html">SHLOCK</a></u>(8)
</pre>
 </div>
</div></section>
</div>
</body>
</html>