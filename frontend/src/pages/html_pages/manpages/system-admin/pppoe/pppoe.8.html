<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>pppoe - user-space PPPoE client.</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/pppoe">pppoe_4.0-1ubuntu1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       pppoe - user-space PPPoE client.

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>pppd</b> <b>pty</b> <b>'pppoe</b> [<u>pppoe_options</u>]<b>'</b> [<u>pppd_options</u>]

       <b>pppoe</b> <b>-A</b> [<u>pppoe_options</u>]

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>pppoe</b>  is  a user-space client for PPPoE (Point-to-Point Protocol over Ethernet) for Linux and other UNIX
       systems.  <b>pppoe</b> works in concert with the <b>pppd</b> PPP daemon to provide a PPP connection over  Ethernet,  as
       is used by many DSL service providers.

</pre><h4><b>OPTIONS</b></h4><pre>
       <b>-I</b> <u>interface</u>
              The <b>-I</b> option specifies the Ethernet interface to use.  Under Linux, it is typically <u>eth0</u> or <u>eth1</u>.
              The  interface  should  be "up" before you start <b>pppoe</b>, but should <u>not</u> be configured to have an IP
              address.

       <b>-T</b> <u>timeout</u>
              The <b>-T</b> option causes <b>pppoe</b> to exit if no session traffic  is  detected  for  <u>timeout</u>  seconds.   I
              recommend that you use this option as an extra safety measure, but if you do, you should make sure
              that  PPP generates enough traffic so the timeout will normally not be triggered.  The best way to
              do this is to use the <u>lcp-echo-interval</u> option to <b>pppd</b>.  You should set the PPPoE  timeout  to  be
              about four times the LCP echo interval.

       <b>-D</b> <u>file_name</u>
              The  <b>-D</b>  option causes every packet to be dumped to the specified <u>file_name</u>.  This is intended for
              debugging only; it produces huge amounts of output and greatly reduces performance.

       <b>-V</b>     The <b>-V</b> option causes <b>pppoe</b> to print its version number and exit.

       <b>-A</b>     The <b>-A</b> option causes <b>pppoe</b> to send a PADI packet and then print the names of access  concentrators
              in  each  PADO packet it receives.  Do not use this option in conjunction with <b>pppd</b>; the <b>-A</b> option
              is meant to be used interactively to give interesting information about the access concentrator.

       <b>-S</b> <u>service_name</u>
              Specifies the desired service name.  <b>pppoe</b> will only initiate sessions with  access  concentrators
              which  can provide the specified service.  In most cases, you should <u>not</u> specify this option.  Use
              it only if you know that there are multiple access concentrators or know that you need a  specific
              service name.

       <b>-C</b> <u>ac_name</u>
              Specifies  the  desired  access  concentrator  name.   <b>pppoe</b>  will only initiate sessions with the
              specified access concentrator.  In most cases, you should <u>not</u> specify this option.  Use it only if
              you know that there are multiple access  concentrators.   If  both  the  <b>-S</b>  and  <b>-C</b>  options  are
              specified, they must <u>both</u> match for <b>pppoe</b> to initiate a session.

       <b>-U</b>     Causes  <b>pppoe</b> to use the Host-Uniq tag in its discovery packets.  This lets you run multiple <b>pppoe</b>
              daemons without having their discovery packets interfere with one another.  You must  supply  this
              option  to  <u>all</u>  <b>pppoe</b> daemons if you intend to run multiple daemons simultaneously.  The specific
              Host-Uniq value used is the hexadecimal representation of the <b>pppoe</b> process's PID.

       <b>-W</b> <b>value</b>
              Causes <b>pppoe</b> to use the Host-Uniq tag in its discovery packets, and furthermore to set  the  value
              of Host-Uniq to <u>value</u>.  Use with caution.  Note that <b>-W</b> and <b>-U</b> are mutually-incompatible.

       <b>-s</b>     Causes  <b>pppoe</b> to use <u>synchronous</u> PPP encapsulation.  If you use this option, then you <u>must</u> use the
              <b>sync</b> option with <b>pppd</b>.  You are encouraged to use this option if  it  works,  because  it  greatly
              reduces  the  CPU overhead of <b>pppoe</b>.  However, it MAY be unreliable on slow machines -- there is a
              race condition between pppd writing data and pppoe reading  it.   For  this  reason,  the  default
              setting  is  asynchronous.   If you encounter bugs or crashes with Synchronous PPP, turn it off --
              don't e-mail me for support!

       <b>-m</b> <u>MSS</u> Causes <b>pppoe</b> to <u>clamp</u> the TCP maximum segment size at  the  specified  value.   Because  of  PPPoE
              overhead,  the  maximum  segment size for PPPoE is smaller than for normal Ethernet encapsulation.
              This could cause problems for machines on a LAN behind a gateway using PPPoE.  If you have  a  LAN
              behind  a  gateway,  and  the  gateway  connects  to  the  Internet  using PPPoE, you are strongly
              recommended to use a <b>-m</b> <b>1412</b> option.  This avoids having to set the MTU on all the  hosts  on  the
              LAN.

       <b>-H</b> <u>MAC</u> Causes  <b>pppoe</b> to use the indicated Ethernet MAC address as the source address for sending packets.
              <u>MAC</u> must be specified in the <u>AA</u>:<u>BB</u>:<u>CC</u>:<u>DD</u>:<u>EE</u>:<u>FF</u> syntax.  If this option is  specified,  <b>pppoe</b>  puts
              the interface into promiscuous mode.

       <b>-p</b> <u>file</u>
              Causes  <b>pppoe</b>  to write its process-ID to the specified file.  This can be used to locate and kill
              <b>pppoe</b> processes.

       <b>-e</b> <u>sess:mac</u>
              Causes <b>pppoe</b> to skip the discovery phase and move directly to the session phase.  The  session  is
              given  by  <u>sess</u> and the MAC address of the peer by <u>mac</u>.  This mode is <u>not</u> meant for normal use; it
              is designed only for <b><a href="../man8/pppoe-server.8.html">pppoe-server</a></b>(8).

       <b>-n</b>     Causes <b>pppoe</b> not to open a discovery socket.  This mode  is  <u>not</u>  meant  for  normal  use;  it  is
              designed only for <b><a href="../man8/pppoe-server.8.html">pppoe-server</a></b>(8).

       <b>-k</b>     Causes  <b>pppoe</b>  to  terminate an existing session by sending a PADT frame, and then exit.  You must
              use the <b>-e</b> option in conjunction with this option to specify the session to  kill.   This  may  be
              useful for killing sessions when a buggy peer does not realize the session has ended.

       <b>-d</b>     Causes  <b>pppoe</b>  to  perform discovery and then exit, after printing session information to standard
              output.  The session information is printed in exactly the format expected by the <b>-e</b> option.  This
              option lets you initiate a PPPoE discovery, perform some other work, and then start the actual PPP
              session.  <u>Be</u> <u>careful</u>; if you use this option in a loop, you can create many  sessions,  which  may
              annoy your peer.

       <b>-f</b> <b>disc:sess</b>
              The <b>-f</b> option sets the Ethernet frame types for PPPoE discovery and session frames.  The types are
              specified as hexadecimal numbers separated by a colon.  Standard PPPoE uses frame types 8863:8864.
              <u>You</u>  <u>should</u>  <u>not</u> <u>use</u> <u>this</u> <u>option</u> unless you are absolutely sure the peer you are dealing with uses
              non-standard frame types.  If your ISP uses non-standard frame types, complain!

       <b>-h</b>     The <b>-h</b> option causes <b>pppoe</b> to print usage information and exit.

</pre><h4><b>PPPOE</b> <b>BACKGROUND</b></h4><pre>
       PPPoE (Point-to-Point Protocol over Ethernet) is described in RFC 2516 and is a protocol which allows the
       session abstraction to be maintained over bridged Ethernet networks.

       PPPoE works by encapsulating PPP frames in Ethernet frames.  The protocol has two distinct  stages:   The
       <u>discovery</u> and the <u>session</u> stage.

       In  the  discovery stage, the host broadcasts a special PADI (PPPoE Active Discovery Initiation) frame to
       discover any <u>access</u> <u>concentrators</u>.  The access concentrators (typically, only  one  access  concentrator)
       reply  with  PADO (PPPoE Active Discovery Offer) packets, announcing their presence and the services they
       offer.  The host picks one of the access concentrators and  transmits  a  PADR  (PPPoE  Active  Discovery
       Request)  packet,  asking  for  a  session.   The  access  concentrator replies with a PADS (PPPoE Active
       Discovery Session-Confirmation) packet.  The protocol then moves to the session stage.

       In the session stage, the host and access concentrator exchange PPP frames embedded in  Ethernet  frames.
       The  normal  Ethernet  MTU  is  1500  bytes,  but  the  PPPoE overhead plus two bytes of overhead for the
       encapsulated PPP frame mean that the MTU of the PPP interface is at most 1492  bytes.   This  causes  <u>all</u>
       <u>kinds</u>  <u>of</u> <u>problems</u> if you are using a Linux machine as a firewall and interfaces behind the firewall have
       an MTU greater than 1492.  In fact, to be safe, I recommend  setting  the  MTU  of  machines  behind  the
       firewall to 1412, to allow for worst-case TCP and IP options in their respective headers.

       Normally,  PPP  uses  the  Link  Control  Protocol  (LCP)  to  shut  down a PPP link.  However, the PPPoE
       specification allows the link to be shut down with a special  PADT  (PPPoE  Active  Discovery  Terminate)
       packet.   This  client  recognizes  this  packet  and  will correctly terminate if a terminate request is
       received for the PPP session.

</pre><h4><b>DESIGN</b> <b>GOALS</b></h4><pre>
       My design goals for this PPPoE client were as follows, in descending order of importance:

       <b>o</b>      It must work.

       <b>o</b>      It must be a user-space program and not a kernel patch.

       <b>o</b>      The code must be easy to read and maintain.

       <b>o</b>      It must be fully compliant with RFC 2516, the proposed PPPoE standard.

       <b>o</b>      It must never hang up forever -- if the connection is  broken,  it  must  detect  this  and  exit,
              allowing a wrapper script to restart the connection.

       <b>o</b>      It must be fairly efficient.

       I  believe I have achieved all of these goals, but (of course) am open to suggestions, patches and ideas.
       See my home page, https://dianne.skoll.ca/projects/rp-pppoe/, for contact information.

</pre><h4><b>NOTES</b></h4><pre>
       For best results, you must give <b>pppd</b> an mtu option of 1492.  I have observed problems  with  excessively-
       large  frames  unless  I  set this option.  Also, if <b>pppoe</b> is running on a firewall machine, all machines
       behind the firewall should have MTU's of 1412.

       If you have problems, check your system logs.  <b>pppoe</b> logs interesting things to syslog.  You may have  to
       turn on logging of <u>debug</u>-level messages for complete diagnosis.

</pre><h4><b>AUTHORS</b></h4><pre>
       <b>pppoe</b>  was  written  by  Dianne Skoll &lt;<a href="mailto:dianne@skoll.ca">dianne@skoll.ca</a>&gt;, with much inspiration from an earlier version by
       Luke Stras.

       The <b>pppoe</b> home page is <u>https://dianne.skoll.ca/projects/rp-pppoe/</u>.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <a href="../man8/pppd.8.html">pppd</a>(8), <a href="../man8/pppoe-sniff.8.html">pppoe-sniff</a>(8), <a href="../man8/pppoe-server.8.html">pppoe-server</a>(8), <a href="../man8/pppoe-relay.8.html">pppoe-relay</a>(8)

4th Berkeley Distribution                        5 October 2015                                         <u><a href="../man8/PPPOE.8.html">PPPOE</a></u>(8)
</pre>
 </div>
</div></section>
</div>
</body>
</html>