<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>update-smart-drivedb - update smartmontools drive database</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/smartmontools">smartmontools_7.4-3_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       update-smart-drivedb - update smartmontools drive database

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>update-smart-drivedb</b> [<u>OPTIONS</u>] [<u>DESTFILE</u>]

</pre><h4><b>DESCRIPTION</b></h4><pre>
       [This man page is generated for the Linux version of smartmontools.  It does not contain info specific to
       other platforms.]

       <b>update-smart-drivedb</b>     updates     <b>/var/lib/smartmontools/drivedb/drivedb.h</b>     or     <u>DESTFILE</u>    from
       branches/RELEASE_7_3_DRIVEDB of smartmontools SVN repository.

       The tools used for downloading are either <b><a href="../man1/curl.1.html">curl</a></b>(1), <b><a href="../man1/wget.1.html">wget</a></b>(1), <b><a href="../man1/lynx.1.html">lynx</a></b>(1), or <b><a href="../man1/svn.1.html">svn</a></b>(1).

       The downloaded file is verified with OpenPGP/GPG key ID 721042C5.  The public key block  is  included  in
       the script.

       The  old  file  is  kept  if  the  downloaded  file  is identical (ignoring the differences in Id string)
       otherwise it is moved to <b>drivedb.h.old</b>.

       [NEW EXPERIMENTAL UPDATE-SMART-DRIVEDB 7.3 FEATURE] The old file is also  kept  if  the  downloaded  file
       reports an older version on the same branch.  This could be overridden with the '--force' option.  If the
       branch version differs, the file is always updated.

</pre><h4><b>OPTIONS</b></h4><pre>
       <b>-s</b> <b>SMARTCTL,</b> <b>--smartctl</b> <b>SMARTCTL</b>
              Use  the <b><a href="../man8/smartctl.8.html">smartctl</a></b>(8) executable at path SMARTCTL for drive database syntax check.  The form '-s -'
              disables the syntax check.  The default is <b>/usr/sbin/smartctl</b>.

       <b>-t</b> <b>[DIR/]TOOL,</b> <b>--tool</b> <b>[DIR/]TOOL</b>
              Use TOOL for download.  TOOL is one of: <u>curl</u> <u>wget</u> <u>lynx</u> <u>svn</u>.  The default is the first one found in
              PATH.
              [NEW EXPERIMENTAL UPDATE-SMART-DRIVEDB 7.3 FEATURE] A DIR could also be specified.  The plain TOOL
              name must then begin with any of the above names.

       <b>-u</b> <b>LOCATION,</b> <b>--url-of</b> <b>LOCATION</b>
              Use URL of LOCATION for download.  LOCATION is one of:
              <u>github</u> (GitHub mirror of SVN repository),
              <u>sf</u> (Sourceforge code browser),
              <u>svn</u> (SVN repository),
              <u>svni</u> (SVN repository via HTTP instead of HTTPS),
              <u>trac</u> (Trac code browser).
              The default is <u>svn</u>.

       <b>--url</b> <b>URL</b>
              [NEW EXPERIMENTAL UPDATE-SMART-DRIVEDB 7.3  FEATURE]  Download  from  URL.   A  valid  OpenPGP/GPG
              signature with '.raw.asc' extension must also exist unless '--no-verify' is also specified.

       <b>--file</b> <b>FILE</b>
              [NEW  EXPERIMENTAL  UPDATE-SMART-DRIVEDB  7.3  FEATURE] Copy from local FILE.  A valid OpenPGP/GPG
              signature 'FILE.raw.asc' must also exist unless '--no-verify' is also specified.

       <b>--install</b>
              [NEW EXPERIMENTAL UPDATE-SMART-DRIVEDB 7.3 FEATURE] Copy from originally installed drive  database
              file.  This is the same as:
              '--no-verify --file /usr/share/smartmontools/drivedb.h'

       <b>--trunk</b>
              Download from SVN trunk.  This requires '--no-verify' because the trunk versions are not signed.

       <b>--branch</b> <b>X.Y</b>
              Download  from  branches/RELEASE_<b>X</b>_<b>Y</b>_DRIVEDB.   This  also  selects  the OpenPGP/GPG key for older
              branches (5.40 to 6.6: Key ID DFD22559).

       <b>--cacert</b> <b>FILE</b>
              Use CA certificates from FILE to verify the peer.

       <b>--capath</b> <b>DIR</b>
              Use CA certificate files from DIR to verify the peer.

       <b>--insecure</b>
              Don't abort download if certificate verification fails.  This option is also required  if  a  HTTP
              URL is selected with '-u' option.

       <b>--no-verify</b>
              Don't verify signature with GnuPG.

       <b>--force</b>
              [NEW EXPERIMENTAL UPDATE-SMART-DRIVEDB 7.3 FEATURE] Allow downgrades.  By default, the database is
              not replaced with an older version of the same branch.

       <b>--export-key</b>
              Print the OpenPGP/GPG public key block.

       <b>--dryrun</b>
              Print download commands only.

       <b>-q,</b> <b>--quiet</b>
              [NEW EXPERIMENTAL UPDATE-SMART-DRIVEDB 7.3 FEATURE] Suppress info messages.

       <b>-v,</b> <b>--verbose</b>
              Verbose output.

       <b>-h,</b> <b>--help</b>
              Print help text.

</pre><h4><b>EXAMPLES</b></h4><pre>
       Regular update:
       # update-smart-drivedb
       /var/lib/smartmontools/drivedb/drivedb.h 7.2/5225 updated to 7.2/5237

       Revert to previous version:
       # update-smart-drivedb --force \
         --file /var/lib/smartmontools/drivedb/drivedb.h.old
       /var/lib/smartmontools/drivedb/drivedb.h 7.2/5237 downgraded to 7.2/5225

       Download the database from SVN trunk to current directory:
       $ update-smart-drivedb --trunk --no-verify -s - -u trac drivedb-trunk.h
       drivedb-trunk.h 7.3/5254 newly installed (NOT VERIFIED)

</pre><h4><b>EXIT</b> <b>STATUS</b></h4><pre>
       The exit status is 0 if the database has been successfully updated or is already up to date.  If an error
       occurs the exit status is 1.

</pre><h4><b>FILES</b></h4><pre>
       <b>/usr/sbin/update-smart-drivedb</b>
              full path of this script.

       <b>/usr/sbin/smartctl</b>
              used to check syntax of new drive database.

       <b>/usr/share/smartmontools/drivedb.h</b>
              originally installed drive database.

       <b>/var/lib/smartmontools/drivedb/drivedb.h</b>
              current drive database.

       <b>/var/lib/smartmontools/drivedb/drivedb.h.raw</b>
              current drive database with unexpanded SVN Id string.

       <b>/var/lib/smartmontools/drivedb/drivedb.h.raw.asc</b>
              signature file.

       <b>/var/lib/smartmontools/drivedb/drivedb.h.*old*</b>
              previous files.

       <b>/var/lib/smartmontools/drivedb/drivedb.h.*error*</b>
              new files if rejected due to errors.

       <b>/var/lib/smartmontools/drivedb/drivedb.h.lastcheck</b>
              empty file created if downloaded file was identical.

</pre><h4><b>AUTHORS</b></h4><pre>
       <b>Christian</b> <b>Franke</b>.
       This manual page was originally written by <b>Hannes</b> <b>von</b> <b>Haugwitz</b> <b>&lt;<a href="mailto:hannes@vonhaugwitz.com">hannes@vonhaugwitz.com</a>&gt;</b>.

</pre><h4><b>REPORTING</b> <b>BUGS</b></h4><pre>
       To submit a bug report, create a ticket in smartmontools wiki:
       &lt;<b>https://www.smartmontools.org/</b>&gt;.
       Alternatively send the info to the smartmontools support mailing list:
       &lt;<b>https://listi.jpberlin.de/mailman/listinfo/smartmontools-support&gt;.</b>

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man8/smartctl.8.html">smartctl</a></b>(8), <b><a href="../man8/smartd.8.html">smartd</a></b>(8).

</pre><h4><b>PACKAGE</b> <b>VERSION</b></h4><pre>
       smartmontools-7.4 2023-08-01 r5530
       $Id: update-smart-drivedb.8.in 5521 2023-07-24 16:44:49Z chrfranke $

smartmontools-7.4                                  2023-08-01                            <u><a href="../man8/UPDATE-SMART-DRIVEDB.8.html">UPDATE-SMART-DRIVEDB</a></u>(8)
</pre>
 </div>
</div></section>
</div>
</body>
</html>