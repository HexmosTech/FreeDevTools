<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>fsarchiver - filesystem archiver</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/fsarchiver">fsarchiver_0.8.8-1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       fsarchiver - filesystem archiver

</pre><h4><b>DESCRIPTION</b></h4><pre>
       fsarchiver  is a system tool that allows you to save the contents of a filesystem to a compressed archive
       file. The filesystem contents can be restored on a device which has  a  different  size  and  it  can  be
       restored  on  a  different  filesystem.  Unlike  tar/dar,  fsarchiver also creates the filesystem when it
       extracts the data to devices. Everything is checksummed in the archive in order to protect the  data.  If
       the archive is corrupt, you just lose the current file, not the whole archive.

</pre><h4><b>LINKS</b></h4><pre>
   <b>Official</b> <b>project</b> <b>homepage:</b>
       <a href="http://www.fsarchiver.org">http://www.fsarchiver.org</a>

   <b>Quick</b> <b>Start</b> <b>guide:</b>
       <a href="http://www.fsarchiver.org/quickstart/">http://www.fsarchiver.org/quickstart/</a>

   <b>Git</b> <b>repository:</b>
       https://github.com/fdupoux/fsarchiver

   <b>Report</b> <b>a</b> <b>bug:</b>
       https://github.com/fdupoux/fsarchiver/issues

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>fsarchiver</b> <b>[</b> <u>options</u> <b>]</b> <b>savefs</b> <u>archive</u> <u>device</u> <b>...</b>

       <b>fsarchiver</b>               <b>[</b>               <u>options</u>               <b>]</b>              <b>restfs</b>              <u>archive</u>
       <b>id=</b><u>n</u><b>,dest=</b><u>device</u><b>[,mkfs=</b><u>fstype</u><b>,mkfsopt=</b><u>options</u><b>,label=</b><u>newlabel</u><b>,uuid=</b><u>newuuid</u><b>]</b> <b>...</b>

       <b>fsarchiver</b> <b>[</b> <u>options</u> <b>]</b> <b>savedir</b> <u>archive</u> <u>directory</u> <b>...</b>

       <b>fsarchiver</b> <b>[</b> <u>options</u> <b>]</b> <b>restdir</b> <u>archive</u> <u>destination</u>

       <b>fsarchiver</b> <b>[</b> <u>options</u> <b>]</b> <b>archinfo</b> <u>archive</u>

       <b>fsarchiver</b> <b>[</b> <u>options</u> <b>]</b> <b>probe</b> <b>[detailed]</b>

</pre><h4><b>COMMANDS</b></h4><pre>
       <b>savefs</b> Save <u>device</u> filesystem to <u>archive</u>.

       <b>restfs</b> Restore filesystems from <u>archive</u>.  This overwrites the existing data on <u>device</u>.  Zero-based  index
              <u>n</u>  indicates  the  part  of  the archive to restore.  Optionally, a filesystem may be converted to
              <u>fstype</u> and extra mkfs <u>options</u> specified.  <u>newlabel</u> and  <u>newuuid</u>  override  values  stored  in  the
              archive.

       <b>savedir</b>
              Save <u>directories</u> to <u>archive</u> (similar to a compressed tarball).

       <b>restdir</b>
              Restore data from <u>archive</u> which is not based on a filesystem to <u>destination</u>.

       <b>archinfo</b>
              Show information about an existing <u>archive</u> file and its contents.

       <b>probe</b>  Show list of filesystems detected on the disks.

</pre><h4><b>OPTIONS</b></h4><pre>
       <b>-h,</b> <b>--help</b>
              Show help and information about how to use fsarchiver with examples.

       <b>-V,</b> <b>--version</b>
              Show program version and exit.

       <b>-v,</b> <b>--verbose</b>
              Verbose  mode  (can  be used several times to increase the level of details).  The details will be
              printed to the console.

       <b>-o,</b> <b>--overwrite</b>
              Overwrite the archive if it already exists instead of failing.

       <b>-d,</b> <b>--debug</b>
              Debug mode (can be used several times to increase the level of  details).   The  details  will  be
              written in /var/log/fsarchiver.log.

       <b>-x,</b> <b>--experimental</b>
              Allow to save filesystems which support is considered experimental in fsarchiver.

       <b>-A,</b> <b>--allow-rw-mounted</b>
              Allow  to  save  a  filesystem which is mounted in read-write (live backup). By default fsarchiver
              fails with an error if the device is mounted in read-write mode which allows modifications  to  be
              done  on  the  filesystem  during  the  backup.  Modifications can drive to inconsistencies in the
              backup. Using LVM snapshots is  the  recommended  way  to  make  backups  since  it  will  provide
              consistency,  but  it  is only available for filesystems which are on LVM logical volumes. Deleted
              files during the backup process are ignored when this option is used.

       <b>-a,</b> <b>--allow-no-acl-xattr</b>
              Allow to save a filesystem when ACLs and extended attributes are not supported (or  are  disabled)
              by  the  kernel.  By  default fsarchiver fails with an error if it cannot access ACLs and extended
              attributes, since they would not be saved. If  you  do  not  need  ACLs  and  extended  attributes
              preserved then it is safe to use this option.

       <b>-e</b> <b>pattern,</b> <b>--exclude=pattern</b>
              Exclude  files  and  directories  that  match  specified  pattern.  The  pattern can contain shell
              wildcards such as * and ? or may be either a simple file/dir name or an  absolute  file/dir  path.
              You  must  use quotes around the pattern each time you use wildcards, else it would be interpreted
              by the shell. The wildcards must be interpreted by fsarchiver. See examples below for more details
              about this option.

       <b>-L</b> <b>label,</b> <b>--label=label</b>
              Set the label of the archive: it is just a comment about its contents. It can be used to  remember
              a particular thing about the archive or the state of the filesystem for instance.

       <b>-z</b> <b>level,</b> <b>--compress=level</b>
              Legacy  compression  levels  are  between  0 (very fast) and 9 (very good). The memory requirement
              increases a lot with the  best  compression  levels,  and  it  is  multiplied  by  the  number  of
              compression  threads  (option  -j).  Level  9  is  considered  as an extreme compression level and
              requires  an  huge  amount  of  memory  to  run.  For  more  details  please   read   this   page:
              <a href="http://www.fsarchiver.org/compression/">http://www.fsarchiver.org/compression/</a>

       <b>-Z</b> <b>level,</b> <b>--zstd=level</b>
              Zstd  compression  levels  are  between  1  (very fast) and 22 (very good). The memory requirement
              increases a lot with the  best  compression  levels,  and  it  is  multiplied  by  the  number  of
              compression  threads (option -j). Levels above 20 are considered as extreme compression levels and
              requires  an  huge  amount  of  memory  to  run.  For  more  details  please   read   this   page:
              <a href="http://www.fsarchiver.org/compression/">http://www.fsarchiver.org/compression/</a>

       <b>-s</b> <b>mbsize,</b> <b>--split=mbsize</b>
              Split the archive into several files of mbsize megabytes each.

       <b>-j</b> <b>count,</b> <b>--jobs=count</b>
              Create more than one (de)compression thread. Useful on multi-core CPUs. By default fsarchiver will
              only  use  one  (de)compression thread (-j 1) and then only one logical processor will be used for
              the task. You should use this option if you have a multi-core CPU or more than one physical CPU on
              your computer. The typical way to use it is to specify the number of logical processors  available
              so  that  all  the processing power is used to (de)compress the archive very quickly. You may also
              want to use all logical processors but  one  so  that  your  system  stays  responsive  for  other
              applications.

       <b>-c</b> <b>password,</b> <b>--cryptpass=password</b>
              Encrypt/decrypt  data  in  archive.  Password length: 6 to 64 characters. You can either provide a
              real password or a dash (-c -). Use the dash if you do not want to provide  the  password  in  the
              command line. It will be prompted in the terminal instead.

</pre><h4><b>EXAMPLES</b></h4><pre>
   <b>save</b> <b>only</b> <b>one</b> <b>filesystem</b> <b>(/dev/sda1)</b> <b>to</b> <b>an</b> <b>archive:</b>
       fsarchiver savefs /data/myarchive1.fsa /dev/sda1

   <b>save</b> <b>two</b> <b>filesystems</b> <b>(/dev/sda1</b> <b>and</b> <b>/dev/sdb1)</b> <b>to</b> <b>an</b> <b>archive:</b>
       fsarchiver savefs /data/myarchive2.fsa /dev/sda1 /dev/sdb1

   <b>restore</b> <b>the</b> <b>first</b> <b>filesystem</b> <b>from</b> <b>an</b> <b>archive</b> <b>(first</b> <b>=</b> <b>number</b> <b>0):</b>
       fsarchiver restfs /data/myarchive2.fsa id=0,dest=/dev/sda1

   <b>restore</b> <b>the</b> <b>second</b> <b>filesystem</b> <b>from</b> <b>an</b> <b>archive</b> <b>(second</b> <b>=</b> <b>number</b> <b>1):</b>
       fsarchiver restfs /data/myarchive2.fsa id=1,dest=/dev/sdb1

   <b>restore</b> <b>two</b> <b>filesystems</b> <b>from</b> <b>an</b> <b>archive</b> <b>(number</b> <b>0</b> <b>and</b> <b>1):</b>
       fsarchiver restfs /data/arch2.fsa id=0,dest=/dev/sda1 id=1,dest=/dev/sdb1

   <b>restore</b> <b>a</b> <b>filesystem</b> <b>from</b> <b>an</b> <b>archive</b> <b>and</b> <b>convert</b> <b>it</b> <b>to</b> <b>reiserfs:</b>
       fsarchiver restfs /data/myarchive1.fsa id=0,dest=/dev/sda1,mkfs=reiserfs

   <b>restore</b> <b>a</b> <b>filesystem</b> <b>from</b> <b>an</b> <b>archive</b> <b>and</b> <b>specify</b> <b>extra</b> <b>mkfs</b> <b>options:</b>
       fsarchiver restfs /data/myarchive1.fsa id=0,dest=/dev/sda1,mkfs=ext4,mkfsopt="-I 256"

   <b>restore</b> <b>a</b> <b>filesystem</b> <b>from</b> <b>an</b> <b>archive</b> <b>and</b> <b>specify</b> <b>a</b> <b>new</b> <b>filesystem</b> <b>label:</b>
       fsarchiver restfs /data/myarchive1.fsa id=0,dest=/dev/sda1,label=root

   <b>restore</b> <b>a</b> <b>filesystem</b> <b>from</b> <b>an</b> <b>archive</b> <b>and</b> <b>specify</b> <b>a</b> <b>new</b> <b>filesystem</b> <b>UUID:</b>
       fsarchiver restfs /data/myarchive1.fsa id=0,dest=/dev/sda1,uuid=5f6e5f4f-dc2a-4dbd-a6ea-9ca997cde75e

   <b>save</b> <b>the</b> <b>contents</b> <b>of</b> <b>/usr/src/linux</b> <b>to</b> <b>an</b> <b>archive</b> <b>(similar</b> <b>to</b> <b>tar):</b>
       fsarchiver savedir /data/linux-sources.fsa /usr/src/linux

   <b>save</b> <b>a</b> <b>filesystem</b> <b>(/dev/sda1)</b> <b>to</b> <b>an</b> <b>archive</b> <b>split</b> <b>into</b> <b>volumes</b> <b>of</b> <b>680MB:</b>
       fsarchiver savefs -s 680 /data/myarchive1.fsa /dev/sda1

   <b>save</b> <b>a</b> <b>filesystem</b> <b>and</b> <b>exclude</b> <b>all</b> <b>files/dirs</b> <b>called</b> <b>'pagefile.*':</b>
       fsarchiver savefs /data/myarchive.fsa /dev/sda1 --exclude='pagefile.*'

   <b>generic</b> <b>exclude</b> <b>for</b> <b>'share'</b> <b>such</b> <b>as</b> <b>'<a href="file:/usr/share">/usr/share</a>'</b> <b>and</b> <b>'<a href="file:/usr/local/share">/usr/local/share</a>':</b>
       fsarchiver savefs /data/myarchive.fsa --exclude=share

   <b>absolute</b> <b>exclude</b> <b>valid</b> <b>for</b> <b>'<a href="file:/usr/share">/usr/share</a>'</b> <b>but</b> <b>not</b> <b>for</b> <b>'<a href="file:/usr/local/share">/usr/local/share</a>':</b>
       fsarchiver savefs /data/myarchive.fsa --exclude=<a href="file:/usr/share">/usr/share</a>

   <b>save</b> <b>a</b> <b>filesystem</b> <b>(/dev/sda1)</b> <b>to</b> <b>an</b> <b>encrypted</b> <b>archive:</b>
       fsarchiver savefs -c mypassword /data/myarchive1.fsa /dev/sda1

   <b>same</b> <b>as</b> <b>before</b> <b>but</b> <b>prompt</b> <b>for</b> <b>password</b> <b>in</b> <b>the</b> <b>terminal:</b>
       fsarchiver savefs -c - /data/myarchive1.fsa /dev/sda1

   <b>extract</b> <b>an</b> <b>archive</b> <b>made</b> <b>of</b> <b>simple</b> <b>files</b> <b>to</b> <b>/tmp/extract:</b>
       fsarchiver restdir /data/linux-sources.fsa /tmp/extract

   <b>show</b> <b>information</b> <b>about</b> <b>an</b> <b>archive</b> <b>and</b> <b>its</b> <b>filesystems:</b>
       fsarchiver archinfo /data/myarchive2.fsa

</pre><h4><b>WARNING</b></h4><pre>
       <b>fsarchiver</b> is considered stable for Linux filesystems such as EXT4 and XFS but unstable for NTFS.

</pre><h4><b>AUTHOR</b></h4><pre>
       fsarchiver  was  written  by  Francois  Dupoux. It is released under the GPL2 (GNU General Public License
       version 2). This manpage was written by Ilya Barygin and Francois Dupoux.

                                                30 December 2009                                   <u><a href="../man8/FSARCHIVER.8.html">FSARCHIVER</a></u>(8)
</pre>
 </div>
</div></section>
</div>
</body>
</html>