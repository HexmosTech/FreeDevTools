<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>dhcpcd-run-hooks — DHCP client configuration script</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/dhcpcd-base">dhcpcd-base_10.1.0-12_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       dhcpcd-run-hooks — DHCP client configuration script

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>dhcpcd-run-hooks</b>  is  used  by  <u><a href="../man8/dhcpcd.8.html">dhcpcd</a></u>(8)  to  run any system and user defined hook scripts.  System hook
       scripts are found in <u><a href="file:/usr/lib/dhcpcd/dhcpcd-hooks">/usr/lib/dhcpcd/dhcpcd-hooks</a></u> and the user defined hooks are  <u>/etc/dhcpcd.enter-hook</u>.
       and  <u>/etc/dhcpcd.exit-hook</u>.   The  default install supplies hook scripts for configuring <u><a href="file:/etc/resolv.conf">/etc/resolv.conf</a></u>
       and the hostname.  Your distribution may have included other hook scripts to say configure ntp or ypbind.
       A test hook is also supplied that simply echos the dhcp variables to the console from DISCOVER message.

       The hooks scripts are loaded into the current shell rather than executed  in  their  own  process.   This
       allows  each  hook  script,  such as <u>/etc/dhcpcd.enter-hook</u> to customise environment variables or provide
       alternative functions to hooks further down the chain.  As such, using the shell builtins <b>exit</b>,  <b>exec</b>  or
       similar will cause <b>dhcpcd-run-hooks</b> to exit at that point.

       Each  time  <b>dhcpcd-run-hooks</b>  is  invoked,  $interface  is set to the interface that <b>dhcpcd</b> is run on and
       $reason is set to the reason why <b>dhcpcd-run-hooks</b> was invoked.  DHCP information to be configured is held
       in variables starting with the word new_ and old DHCP information to be  removed  is  held  in  variables
       starting  with  the word old_.  <b>dhcpcd</b> can display the full list of variables it knows about by using the
       <b>-V</b>, <b>--variables</b> argument.

       Here's a list of reasons why <b>dhcpcd-run-hooks</b> could be invoked:

       PREINIT           dhcpcd is starting up and any pre-initialisation required should be performed now.

       CARRIER           dhcpcd has detected the carrier is up.  This is generally just a  notification  and  no
                         action need be taken.

       NOCARRIER         dhcpcd  lost  the  carrier.   The  cable  may have been unplugged or association to the
                         wireless point lost.

       NOCARRIER_ROAMING
                         dhcpcd lost the carrier but the interface configuration is persisted.  The  OS  has  to
                         support wireless roaming or IP Persistence for this to happen.

       INFORM | INFORM6  dhcpcd  informed  a  DHCP  server  about  its  address and obtained other configuration
                         details.

       BOUND | BOUND6    dhcpcd obtained a new lease from a DHCP server.

       RENEW | RENEW6    dhcpcd renewed its lease.

       REBIND | REBIND6  dhcpcd has rebound to a new DHCP server.

       REBOOT | REBOOT6  dhcpcd successfully requested a lease from a DHCP server.

       DELEGATED6        dhcpcd assigned a delegated prefix to the interface.

       IPV4LL            dhcpcd obtained an IPV4LL address, or one was removed.

       STATIC            dhcpcd has been configured with a static configuration which has not been obtained from
                         a DHCP server.

       3RDPARTY          dhcpcd is monitoring the interface for a 3rd party to give it an IP address.

       TIMEOUT           dhcpcd failed to contact any DHCP servers but was able to use an old lease.

       EXPIRE | EXPIRE6  dhcpcd's lease or state expired and it failed to obtain a new one.

       NAK               dhcpcd received a NAK from the DHCP server.  This should be treated as EXPIRE.

       RECONFIGURE       dhcpcd has been instructed to reconfigure an interface.

       ROUTERADVERT      dhcpcd has received an IPv6 Router Advertisement, or one has expired.

       STOP | STOP6      dhcpcd stopped running on the interface.

       STOPPED           dhcpcd has stopped entirely.

       DEPARTED          The interface has been removed.

       FAIL              dhcpcd failed to operate on the interface.  This normally happens when dhcpcd does  not
                         support  the  raw  interface,  which means it cannot work as a DHCP or ZeroConf client.
                         Static configuration and DHCP INFORM is still allowed.

       TEST              dhcpcd received an OFFER from a DHCP server but will not configure the interface.  This
                         is primarily used to test the variables are filled correctly for the script to  process
                         them.

</pre><h4><b>ENVIRONMENT</b></h4><pre>
       <b>dhcpcd</b>  will clear the environment variables aside from $PATH.  The following variables will then be set,
       along with any protocol supplied ones.

       $interface                   the name of the interface.

       $protocol                    the protocol that triggered the event.

       $reason                      as described above.

       $pid                         the pid of <b>dhcpcd</b>.

       $ifcarrier                   the link status of $interface: unknown, up or down.

       $ifmetric                    $interface preference, lower is better.

       $ifwireless                  1 if $interface is wireless, otherwise 0.

       $ifflags                     $interface flags.

       $ifmtu                       $interface MTU.

       $ifssid                      the SSID the interface is connected to.

       $interface_order             A list of interfaces, in order of preference.

       $if_up                       true if the interface is up, otherwise false.  This is more than IFF_UP  and
                                    may not be equal.

       $if_down                     true  if  the  interface is down, otherwise false.  This is more than IFF_UP
                                    and may not be equal.

       $af_waiting                  Address family waiting for, as defined in <u><a href="../man5/dhcpcd.conf.5.html">dhcpcd.conf</a></u>(5).

       $profile                     the name of the profile selected from <u><a href="../man5/dhcpcd.conf.5.html">dhcpcd.conf</a></u>(5).

       $new_delegated_dhcp6_prefix  space-separated list of delegated prefixes.

</pre><h4><b>FILES</b></h4><pre>
       When   <b>dhcpcd-run-hooks</b>   runs,   it    loads    <u>/etc/dhcpcd.enter-hook</u>,    any    scripts    found    in
       <u><a href="file:/usr/lib/dhcpcd/dhcpcd-hooks">/usr/lib/dhcpcd/dhcpcd-hooks</a></u> in lexical order, then finally <u>/etc/dhcpcd.exit-hook</u>.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <u><a href="../man8/dhcpcd.8.html">dhcpcd</a></u>(8)

</pre><h4><b>AUTHORS</b></h4><pre>
       Roy Marples &lt;<u><a href="mailto:roy@marples.name">roy@marples.name</a></u>&gt;

</pre><h4><b>BUGS</b></h4><pre>
       Please report them to https://roy.marples.name/projects/dhcpcd

</pre><h4><b>SECURITY</b> <b>CONSIDERATIONS</b></h4><pre>
       <b>dhcpcd</b>  will  validate the content of each option against its encoding.  For string, ascii, raw or binhex
       encoding it's up to the user to validate it for the intended purpose.

       When used in a shell script, each variable must be quoted correctly.

Debian                                           August 31, 2022                             <u><a href="../man8/DHCPCD-RUN-HOOKS.8.html">DHCPCD-RUN-HOOKS</a></u>(8)
</pre>
 </div>
</div></section>
</div>
</body>
</html>