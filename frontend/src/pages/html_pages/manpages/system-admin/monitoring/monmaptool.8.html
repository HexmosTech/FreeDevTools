<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>monmaptool - ceph monitor cluster map manipulation tool</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/ceph-base">ceph-base_19.2.1-0ubuntu3_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       monmaptool - ceph monitor cluster map manipulation tool

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>monmaptool</b> &lt;action&gt; [options] <u>mapfilename</u>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>monmaptool</b>  is  a  utility  to  create,  view,  and modify a monitor cluster map for the Ceph distributed
       storage system. The monitor map specifies the only fixed addresses in the Ceph distributed  system.   All
       other daemons bind to arbitrary addresses and register themselves with the monitors.

       When  creating  a map with --create, a new monitor map with a new, random UUID will be created. It should
       be followed by one or more monitor addresses.

       The default Ceph monitor port for messenger protocol v1 is 6789, and 3300 for protocol v2.

       Multiple actions can be performed per invocation.

</pre><h4><b>OPTIONS</b></h4><pre>
       <b>--print</b>
              print a plaintext dump of the map, after any modifications are made.

       <b>--feature-list</b> <b>[plain|parseable]</b>
              list the enabled features as well as the available ones.

              By default, a human readable output is produced.

       <b>--create</b>
              create a new monitor map with a new UUID (and with it, a new, empty Ceph cluster).

       <b>--clobber</b>
              allow monmaptool to create a new mapfilename in place of an existing map.

              Only useful when <u>--create</u> is used.

       <b>--generate</b>
              generate a new monmap based  on  the  values  on  the  command  line  or  specified  in  the  ceph
              configuration.  This is, in order of preference,

                 1. <b>--monmap</b> <b>filename</b> to specify a monmap to load

                 2. <b>--mon-host</b> <b>'host1,ip2'</b> to specify a list of hosts or ip addresses

                 3. <b>[mon.foo]</b>  sections containing <b>mon</b> <b>addr</b> settings in the config. Note that this method is not
                    recommended and support will be removed in a future release.

       <b>--filter-initial-members</b>
              filter the initial monmap by applying the <b>mon</b> <b>initial</b> <b>members</b> setting.  Monitors  not  present  in
              that  list  will  be  removed, and initial members not present in the map will be added with dummy
              addresses.

       <b>--add</b> <b>name</b> <b>ip[:port]</b>
              add a monitor with the specified ip:port to the map.

              If the <u>nautilus</u> feature is set, and the port is not, the monitor will be added for both  messenger
              protocols.

       <b>--addv</b> <b>name</b> <b>[protocol:ip:port[,...]]</b>
              add a monitor with the specified version:ip:port to the map.

       <b>--rm</b> <b>name</b>
              remove the monitor with the specified name from the map.

       <b>--fsid</b> <b>uuid</b>
              set the fsid to the given uuid.  If not specified with <u>--create</u>, a random fsid will be generated.

       <b>--feature-set</b> <b>value</b> <b>[--optional|--persistent]</b>
              enable a feature.

       <b>--feature-unset</b> <b>value</b> <b>[--optional|--persistent]</b>
              disable a feature.

       <b>--enable-all-features</b>
              enable all supported features.

       <b>--set-min-mon-release</b> <b>release</b>
              set the min_mon_release.

</pre><h4><b>EXAMPLE</b></h4><pre>
       To create a new map with three monitors (for a fresh Ceph cluster):

          monmaptool --create --add nodeA 192.168.0.10 --add nodeB 192.168.0.11 \
            --add nodeC 192.168.0.12 --enable-all-features --clobber monmap

       To display the contents of the map:

          monmaptool --print monmap

       To replace one monitor:

          monmaptool --rm nodeA monmap
          monmaptool --add nodeA 192.168.0.9 monmap

</pre><h4><b>AVAILABILITY</b></h4><pre>
       <b>monmaptool</b>  is  part of Ceph, a massively scalable, open-source, distributed storage system. Please refer
       to the Ceph documentation at <u>https://docs.ceph.com</u> for more information.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <u><a href="../man8/ceph.8.html">ceph</a></u>(8), <u><a href="../man8/crushtool.8.html">crushtool</a></u>(8),

</pre><h4><b>COPYRIGHT</b></h4><pre>
       2010-2014, Inktank Storage, Inc. and contributors. Licensed  under  Creative  Commons  Attribution  Share
       Alike 3.0 (CC-BY-SA-3.0)

dev                                               May 22, 2025                                     <u><a href="../man8/MONMAPTOOL.8.html">MONMAPTOOL</a></u>(8)
</pre>
 </div>
</div></section>
</div>
</body>
</html>