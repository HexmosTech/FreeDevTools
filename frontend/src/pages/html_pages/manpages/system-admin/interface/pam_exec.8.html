<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>pam_exec - PAM module which calls an external command</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libpam-runtime">libpam-runtime_1.7.0-5ubuntu1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       pam_exec - PAM module which calls an external command

</pre><h4><b>SYNOPSIS</b></h4><pre>

       <b>pam_exec.so</b> [debug] [expose_authtok] [seteuid] [quiet] [quiet_log] [stdout] [log=<u>file</u>] [type=<u>type</u>]
                   <u>command</u> [<u>...</u>]

</pre><h4><b>DESCRIPTION</b></h4><pre>
       pam_exec is a PAM module that can be used to run an external command.

       The child's environment is set to the current PAM environment list, as returned by <b><a href="../man3/pam_getenvlist.3.html">pam_getenvlist</a></b>(3) In
       addition, the following PAM items are exported as environment variables: <u>PAM_RHOST</u>, <u>PAM_RUSER</u>,
       <u>PAM_SERVICE</u>, <u>PAM_TTY</u>, <u>PAM_USER</u> and <u>PAM_TYPE</u>, which contains one of the module types: <b>account</b>, <b>auth</b>,
       <b>password</b>, <b>open_session</b> and <b>close_session</b>.

       Commands called by pam_exec need to be aware of that the user can have control over the environment.

</pre><h4><b>OPTIONS</b></h4><pre>
       debug
           Print debug information.

       expose_authtok
           During authentication and password change the calling command can read the password from <b><a href="../man3/stdin.3.html">stdin</a></b>(3).
           Only first <u>PAM_MAX_RESP_SIZE</u> bytes of a password are provided to the command.

       log=file
           The output of the command is appended to file

       type=type
           Only run the command if the module type matches the given type.

       stdout
           Per default the output of the executed command is written to /dev/null. With this option, the stdout
           output of the executed command is redirected to the calling application. It's in the responsibility
           of this application what happens with the output. The <b>log</b> option is ignored.

       quiet
           Per default pam_exec.so will echo the exit status of the external command if it fails. Specifying
           this option will suppress the message.

       quiet_log
           Per default pam_exec.so will log the exit status of the external command if it fails. Specifying this
           option will suppress the log message.

       seteuid
           Per default pam_exec.so will execute the external command with the real user ID of the calling
           process. Specifying this option means the command is run with the effective user ID.

</pre><h4><b>MODULE</b> <b>TYPES</b> <b>PROVIDED</b></h4><pre>
       All module types (<b>auth</b>, <b>account</b>, <b>password</b> and <b>session</b>) are provided.

</pre><h4><b>RETURN</b> <b>VALUES</b></h4><pre>
       PAM_SUCCESS
           The external command was run successfully.

       PAM_BUF_ERR
           Memory buffer error.

       PAM_CONV_ERR
           The conversation method supplied by the application failed to obtain the username.

       PAM_INCOMPLETE
           The conversation method supplied by the application returned PAM_CONV_AGAIN.

       PAM_SERVICE_ERR
           No argument or a wrong number of arguments were given.

       PAM_SYSTEM_ERR
           A system error occurred or the command to execute failed.

       PAM_IGNORE
           <b>pam_setcred</b> was called, which does not execute the command. Or, the value given for the type=
           parameter did not match the module type.

</pre><h4><b>EXAMPLES</b></h4><pre>
       Add the following line to <a href="file:/etc/pam.d/passwd">/etc/pam.d/passwd</a> to rebuild the NIS database after each local password change:

                   password optional pam_exec.so seteuid /usr/bin/make -C /var/yp

       This will execute the command

           make -C /var/yp

       with effective user ID.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man5/pam.conf.5.html">pam.conf</a></b>(5), <b><a href="../man5/pam.d.5.html">pam.d</a></b>(5), <b><a href="../man7/pam.7.html">pam</a></b>(7)

</pre><h4><b>AUTHOR</b></h4><pre>
       pam_exec was written by Thorsten Kukuk &lt;<a href="mailto:kukuk@thkukuk.de">kukuk@thkukuk.de</a>&gt; and Josh Triplett &lt;<a href="mailto:josh@joshtriplett.org">josh@joshtriplett.org</a>&gt;.

Linux-PAM                                          07/03/2025                                        <u><a href="../man8/PAM_EXEC.8.html">PAM_EXEC</a></u>(8)
</pre>
 </div>
</div></section>
</div>
</body>
</html>