<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>iftop - display bandwidth usage on an interface by host</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/iftop">iftop_1.0~pre4-9build2_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       iftop - display bandwidth usage on an interface by host

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>iftop</b> <b>-h</b> | [<b>-nNpblBP</b>] [<b>-i</b> <u>interface</u>] [<b>-f</b> <u>filter</u> <u>code</u>] [<b>-F</b> <u>net</u>/<u>mask</u>] [<b>-G</b> <u>net6</u>/<u>mask6</u>]

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>iftop</b>  listens to network traffic on a named <u>interface</u>, or on the first interface it can find which looks
       like an external interface if none is specified, and displays a table of current bandwidth usage by pairs
       of hosts.  <b>iftop</b> must be run with sufficient permissions to monitor all network traffic on the <u>interface</u>;
       see <b><a href="../man3/pcap.3.html">pcap</a></b>(3) for more information, but on most systems this means that it must be run as root.

       By default, <b>iftop</b> will look up the hostnames associated with addresses it  finds  in  packets.  This  can
       cause  substantial  traffic  of  itself,  and may result in a confusing display. You may wish to suppress
       display of DNS traffic by using filter code such as <b>not</b> <b>port</b> <b>domain</b>, or switch it off entirely, by  using
       the <b>-n</b> option or by pressing <b>r</b> when the program is running.

       By  default, <b>iftop</b> counts all IP packets that pass through the filter, and the direction of the packet is
       determined according to the direction the packet is moving across the interface.  Using the <b>-F</b> option  it
       is  possible  to  get  <b>iftop</b> to show packets entering and leaving a given network.  For example, <b>iftop</b> <b>-F</b>
       <b>10.0.0.0/255.0.0.0</b> will analyse packets flowing in and out of the 10.* network.

       Some other filter ideas:

       <b>not</b> <b>ether</b> <b>host</b> <b>ff:ff:ff:ff:ff:ff</b>
              Ignore ethernet broadcast packets.

       <b>port</b> <b>http</b> <b>and</b> <b>not</b> <b>host</b> <u>webcache.example.com</u>
              Count web traffic only, unless it is being directed through a local web cache.

       <b>icmp</b>   How much bandwidth are users wasting trying to figure out why the network is slow?

</pre><h4><b>OPTIONS</b></h4><pre>
       <b>-h</b>     Print a summary of usage.

       <b>-n</b>     Don't do hostname lookups.

       <b>-N</b>     Do not resolve port number to service names

       <b>-p</b>     Run in promiscuous mode, so that traffic which  does  not  pass  directly  through  the  specified
              interface is also counted.

       <b>-P</b>     Turn on port display.

       <b>-l</b>     Display and count datagrams addressed to or from link-local IPv6 addresses.  The default is not to
              display that address category.

       <b>-b</b>     Don't display bar graphs of traffic.

       <b>-m</b> <u>limit</u>
              Set the upper limit for the bandwidth scale.  Specified as a number with a 'K', 'M' or 'G' suffix.

       <b>-B</b>     Display bandwidth rates in bytes/sec rather than bits/sec.

       <b>-i</b> <u>interface</u>
              Listen to packets on <u>interface</u>.

       <b>-f</b> <u>filter</u> <u>code</u>
              Use <u>filter</u> <u>code</u> to select the packets to count. Only IP packets are ever counted, so the specified
              code is evaluated as <b>(</b><u>filter</u> <u>code</u><b>)</b> <b>and</b> <b>ip</b>.

       <b>-F</b> <u>net</u>/<u>mask</u>
              Specifies  an  IPv4  network  for traffic analysis.  If specified, iftop will only include packets
              flowing in to or out of the given network, and packet direction  is  determined  relative  to  the
              network  boundary,  rather  than to the interface.  You may specify <u>mask</u> as a dotted quad, such as
              /255.255.255.0, or as a single number specifying the number of bits set in the  netmask,  such  as
              /24.

       <b>-G</b> <u>net6</u>/<u>mask6</u>
              Specifies an IPv6 network for traffic analysis. The value of <u>mask6</u> can be given as a prefix length
              or as a numerical address string for more compound bitmasking.

       <b>-c</b> <u>config</u> <u>file</u>
              Specifies  an  alternate  config  file.  If not specified, iftop will use <b><a href="file:~/.iftoprc">~/.iftoprc</a></b> if it exists.
              See below for a description of config files

       <b>-t</b> <u>text</u> <u>output</u> <u>mode</u>
              Use text interface without ncurses and print the output to STDOUT.

</pre><h4><b>DISPLAY</b></h4><pre>
       When running, <b>iftop</b> uses the whole screen to display network usage. At  the  top  of  the  display  is  a
       logarithmic scale for the bar graph which gives a visual indication of traffic.

       The  main  part  of  the  display lists, for each pair of hosts, the rate at which data has been sent and
       received over the preceding 2, 10 and 40 second intervals. The direction of data  flow  is  indicated  by
       arrows, &lt;= and =&gt;. For instance,

       foo.example.com  =&gt;  bar.example.com      1Kb  500b   100b
                        &lt;=                       2Mb    2Mb    2Mb

       shows,  on  the  first line, traffic from <b>foo.example.com</b> to <b>bar.example.com</b>; in the preceding 2 seconds,
       this averaged 1Kbit/s, around half that amount over the preceding 10s, and a fifth of that over the whole
       of the last 40s. During each of those intervals, the data sent in the other direction was about  2Mbit/s.
       On  the  actual  display, part of each line is inverted to give a visual indication of the 10s average of
       traffic.  You might expect to see something like this where host <b>foo</b> is making repeated HTTP requests  to
       <b>bar</b>, which is sending data back which saturates a 2Mbit/s link.

       By  default, the pairs of hosts responsible for the most traffic (10 second average) are displayed at the
       top of the list.

       At the bottom of the display, various totals are shown, including peak traffic over the last  40s,  total
       traffic transferred (after filtering), and total transfer rates averaged over 2s, 10s and 40s.

</pre><h4><b>SOURCE</b> <b>/</b> <b>DEST</b> <b>AGGREGATION</b></h4><pre>
       By  pressing <b>s</b> or <b>d</b> while <b>iftop</b> is running, all traffic for each source or destination will be aggregated
       together.  This is most useful when <b>iftop</b> is run in promiscuous mode, or is run on a gateway machine.

</pre><h4><b>PORT</b> <b>DISPLAY</b></h4><pre>
       <b>S</b> or <b>D</b> toggle the display of source and destination  ports  respectively.  <b>p</b>  will  toggle  port  display
       on/off.

</pre><h4><b>DISPLAY</b> <b>TYPE</b></h4><pre>
       <b>t</b>  cycles through the four line display modes; the default 2-line display, with sent and received traffic
       on separate lines, and 3 1-line displays, with sent, received, or total traffic shown.

</pre><h4><b>DISPLAY</b> <b>ORDER</b></h4><pre>
       By default, the display is ordered according to the 10s average (2nd column).  By pressing <b>1</b>, <b>2</b> or  <b>3</b>  it
       is  possible  to  sort  by the 1st, 2nd or 3rd column.   By pressing <b>&lt;</b> or <b>&gt;</b> the display will be sorted by
       source or destination hostname respectively.

</pre><h4><b>DISPLAY</b> <b>FILTERING</b></h4><pre>
       <b>l</b> allows you to enter a POSIX extended regular expression that will be used to filter hostnames shown  in
       the  display.   This is a good way to quickly limit what is shown on the display.  Note that this happens
       at a much later stage than filter code, and does not affect what is actually captured.   Display  filters
       DO NOT affect the totals at the bottom of the screen.

</pre><h4><b>PAUSE</b> <b>DISPLAY</b> <b>/</b> <b>FREEZE</b> <b>ORDER</b></h4><pre>
       <b>P</b> will pause the current display.

       <b>o</b> will freeze the current screen order.  This has the side effect that traffic between hosts not shown on
       the screen at the time will not be shown at all, although it will be included in the totals at the bottom
       of the screen.

</pre><h4><b>SCROLL</b> <b>DISPLAY</b></h4><pre>
       <b>j</b>  and  <b>k</b> will scroll the display of hosts.  This feature is most useful when the display order is frozen
       (see above).

</pre><h4><b>FILTER</b> <b>CODE</b></h4><pre>
       <b>f</b> allows you to edit the filter code whilst iftop running.  This can lead to some unexpected behaviour.

</pre><h4><b>CONFIG</b> <b>FILE</b></h4><pre>
       iftop can read its configuration from a config file.  If the <b>-c</b>  option  is  not  specified,  iftop  will
       attempt to read its configuration from <b><a href="file:~/.iftoprc">~/.iftoprc</a></b>, if it exists.  Any command line options specified will
       override settings in the config file.

       The  config  file consists of one configuration directive per line.  Each directive is a name value pair,
       for example:

       interface: eth0

       sets the network interface.  The following config directives are supported:

       <b>interface:</b> <u>if</u>
              Sets the network interface to <u>if</u>.

       <b>dns-resolution:</b> <u>(yes|no)</u>
              Controls reverse lookup of IP addresses.

       <b>port-resolution:</b> <u>(yes|no)</u>
              Controls conversion of port numbers to service names.

       <b>filter-code:</b> <u>bpf</u>
              Sets the filter code to <u>bpf</u>.

       <b>show-bars:</b> <u>(yes|no)</u>
              Controls display of bar graphs.

       <b>promiscuous:</b> <u>(yes|no)</u>
              Puts the interface into promiscuous mode.

       <b>port-display:</b> <u>(off|source-only|destination-only|on)</u>
              Controls display of port numbers.

       <b>link-local:</b> <u>(yes|no)</u>
              Determines displaying of link-local IPv6 addresses.

       <b>hide-source:</b> <u>(yes|no)</u>
              Hides source host names.

       <b>hide-destination:</b> <u>(yes|no)</u>
              Hides destination host names.

       <b>use-bytes:</b> <u>(yes|no)</u>
              Use bytes for bandwidth display, rather than bits.

       <b>sort:</b> <u>(2s|10s|40s|source|destination)</u>
              Sets which column is used to sort the display.

       <b>line-display:</b> <u>(two-line|one-line-both|one-line-sent|one-line-received)</u>
              Controls the appearance of each item in the display.

       <b>show-totals:</b> <u>(yes|no)</u>
              Shows cumulative total for each item.

       <b>log-scale:</b> <u>(yes|no)</u>
              Use a logarithmic scale for bar graphs.

       <b>max-bandwidth:</b> <u>bw</u>
              Fixes the maximum for the bar graph scale to <u>bw</u>, e.g. "10M". Note that the value has to always  be
              in bits, regardless if the option to display in bytes has been chosen.

       <b>net-filter:</b> <u>net/mask</u>
              Defines an IP network boundary for determining packet direction.

       <b>net-filter6:</b> <u>net6/mask6</u>
              Defines an IPv6 network boundary for determining packet direction.

       <b>screen-filter:</b> <u>regexp</u>
              Sets a regular expression to filter screen output.

</pre><h4><b>QUIRKS</b> <b>(aka</b> <b>they're</b> <b>features,</b> <b>not</b> <b>bugs)</b></h4><pre>
       There  are  some circumstances in which iftop may not do what you expect.  In most cases what it is doing
       is logical, and we believe it is correct behaviour, although I'm happy to  hear  reasoned  arguments  for
       alternative behaviour.

       <b>Totals</b> <b>don't</b> <b>add</b> <b>up</b>

       There  are  several reasons why the totals may not appear to add up.  The most obvious is having a screen
       filter in effect, or screen ordering frozen.  In this case some captured information is not  being  shown
       to you, but is included in the totals.

       A  more  subtle  explanation comes about when running in promiscuous mode without specifying a <b>-F</b> option.
       In this case there is no easy way to assign the direction of traffic between two third parties.  For  the
       purposes  of the main display this is done in an arbitrary fashion (by ordering of IP addresses), but for
       the sake of totals all traffic between other hosts is accounted as incoming, because that's  what  it  is
       from  the  point  of  view  of  your interface.  The <b>-F</b> option allows you to specify an arbitrary network
       boundary, and to show traffic flowing across it.

       <b>Peak</b> <b>totals</b> <b>don't</b> <b>add</b> <b>up</b>

       Again, this is a feature.  The peak sent and peak received didn't necessarily happen at  the  same  time.
       The peak total is the maximum of sent plus received in each captured time division.

       <b>Changing</b> <b>the</b> <b>filter</b> <b>code</b> <b>doesn't</b> <b>seem</b> <b>to</b> <b>work</b>

       Give  it  time.  Changing the filter code affects what is captured from the time that you entered it, but
       most of what is on the display is based on some fraction of the last  40s  window  of  capturing.   After
       changing  the filter there may be entries on the display that are disallowed by the current filter for up
       to 40s.  DISPLAY FILTERING has immediate effect and does not affect what is captured.

</pre><h4><b>FILES</b></h4><pre>
       <b><a href="file:~/.iftoprc">~/.iftoprc</a></b>
              Configuration file for iftop.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man8/tcpdump.8.html">tcpdump</a></b>(8), <b><a href="../man3/pcap.3.html">pcap</a></b>(3), <b><a href="../man1/driftnet.1.html">driftnet</a></b>(1).

</pre><h4><b>AUTHOR</b></h4><pre>
       Paul Warren &lt;<a href="mailto:pdw@ex-parrot.com">pdw@ex-parrot.com</a>&gt;

</pre><h4><b>VERSION</b></h4><pre>
       $Id: iftop.8,v 1.31 2014/01/05 17:22:39 pdw Exp $

</pre><h4><b>COPYING</b></h4><pre>
       This program is free software; you can redistribute it and/or modify  it  under  the  terms  of  the  GNU
       General  Public License as published by the Free Software Foundation; either version 2 of the License, or
       (at your option) any later version.

       This program is distributed in the hope that it will be useful, but WITHOUT ANY  WARRANTY;  without  even
       the  implied  warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public
       License for more details.

       You should have received a copy of the GNU General Public License along with this program; if not,  write
       to the Free Software Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA.

                                                                                                        <u><a href="../man8/IFTOP.8.html">IFTOP</a></u>(8)
</pre>
 </div>
</div></section>
</div>
</body>
</html>