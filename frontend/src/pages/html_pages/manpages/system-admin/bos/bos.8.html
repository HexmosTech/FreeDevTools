<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>bos - Introduction to the bos command suite</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/openafs-client">openafs-client_1.8.13.2-1ubuntu1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       bos - Introduction to the bos command suite

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The commands in the <b>bos</b> command suite are the administrative interface to the Basic OverSeer (BOS)
       Server, which runs on every file server machine to monitor the other server processes on it. If a process
       fails, the BOS Server can restart it automatically, taking into account interdependencies between it and
       other processes. The BOS Server frees system administrators from constantly monitoring the status of
       server machines and processes.

       There are several categories of commands in the <b>bos</b> command suite:

       •   Commands  to  administer  server  process  binary files: <b>bos</b> <b>getdate</b>, <b>bos</b> <b>install</b>, <b>bos</b> <b>prune</b>, and <b>bos</b>
           <b>uninstall</b>.

       •   Commands to maintain system configuration files: <b>bos</b> <b>addhost</b>, <b>bos</b> <b>addkey</b>, <b>bos</b> <b>adduser</b>, <b>bos</b> <b>listhosts</b>,
           <b>bos</b> <b>listkeys</b>, <b>bos</b> <b>listusers</b>, <b>bos</b> <b>removehost</b>, <b>bos</b> <b>removekey</b>, <b>bos</b> <b>removeuser</b>, and <b>bos</b> <b>setcellname</b>.

       •   Commands to start and stop processes: <b>bos</b> <b>create</b>, <b>bos</b> <b>delete</b>, <b>bos</b> <b>restart</b>, <b>bos</b> <b>shutdown</b>,  <b>bos</b>  <b>start</b>,
           <b>bos</b> <b>startup</b>, and <b>bos</b> <b>stop</b>.

       •   Commands  to set and verify server process and server machine status: <b>bos</b> <b>getlog</b>, <b>bos</b> <b>getrestart</b>, <b>bos</b>
           <b>getrestricted</b>, <b>bos</b> <b>setauth</b>, <b>bos</b> <b>setrestart</b>, <b>bos</b> <b>setrestricted</b> and <b>bos</b> <b>status</b>.

       •   A command to restore file system consistency: <b>bos</b> <b>salvage</b>.

       •   Commands to obtain help: <b>bos</b> <b>apropos</b> and <b>bos</b> <b>help</b>.

       •   A command to display the OpenAFS command suite version: <b>bos</b> <b>version</b>.

       The BOS Server and the <b>bos</b> commands use and maintain the following configuration and log files:

       •   The <u>/etc/openafs/server/CellServDB</u> file lists  the  local  cell's  database  server  machines.  These
           machines  run the Authentication, Backup, Protection and Volume Location (VL) Server processes, which
           maintain databases of administrative information. The database server processes consult the  file  to
           learn  about  their  peers,  whereas  the  other server processes consult it to learn where to access
           database information as needed. To administer the <u>CellServDB</u> file, use the  following  commands:  <b>bos</b>
           <b>addhost</b>, <b>bos</b> <b>listhosts</b>, <b>bos</b> <b>removehost</b>, and <b>bos</b> <b>setcellname</b>.

       •   The  <u>/etc/openafs/server/KeyFile</u>  file lists the server encryption keys that the server processes use
           to decrypt tickets presented by client processes and one another. To administer the <u>KeyFile</u> file, use
           the following commands: <b>bos</b> <b>addkey</b>, <b>bos</b> <b>listkeys</b>, and <b>bos</b> <b>removekey</b>.

       •   The <u>/etc/openafs/server/KeyFileExt</u> file lists additional  server  encryption  keys  that  the  server
           processes  can  use  to decrypt tickets presented by client processes and one another. These keys are
           strong encryption keys used by the rxkad-k5 extension; use <b><a href="../man8/asetkey.8.html">asetkey</a></b>(8) to manage the <u>KeyFileExt</u>.

       •   The <u>/etc/openafs/server/ThisCell</u> file defines the cell to which the server machine  belongs  for  the
           purposes of server-to-server communication.  Administer it with the <b>bos</b> <b>setcellname</b> command. There is
           also  a <u>/etc/openafs/ThisCell</u> file that defines the machine's cell membership with respect to the AFS
           command suites and Cache Manager access to AFS data.

       •   The <u>/etc/openafs/server/UserList</u> file lists the user name of each administrator authorized  to  issue
           privileged  <b>bos</b>  and  <b>vos</b>  commands. To administer the <u>UserList</u> file, use the following commands: <b>bos</b>
           <b>adduser</b>, <b>bos</b> <b>listusers</b>, and <b>bos</b> <b>removeuser</b>.

       •   The <u>/etc/openafs/BosConfig</u> file defines which AFS server processes run on  the  server  machine,  and
           whether  the  BOS Server restarts them automatically if they fail. It also defines when all processes
           restart automatically (by default once per week), when the BOS Server restarts  processes  that  have
           new binary files (by default once per day), and whether the BOS Server will start in restricted mode.
           To administer the <u>BosConfig</u> file, use the following commands: <b>bos</b> <b>create</b>, <b>bos</b> <b>delete</b>, <b>bos</b> <b>getrestart</b>,
           <b>bos</b> <b>getrestricted</b>, <b>bos</b> <b>setrestart</b>, <b>bos</b> <b>setrestricted</b>, <b>bos</b> <b>start</b>, and <b>bos</b> <b>stop</b>.

       •   The  <u>/usr/afs/log/BosLog</u>  file  records  important  operations  the  BOS  Server  performs  and error
           conditions it encounters.

       For more details, see the reference page for each file.

</pre><h4><b>OPTIONS</b></h4><pre>
       The following arguments and flags are available on many commands in the <b>bos</b> suite. The reference page for
       each command also lists them, but they are described here in greater detail.

       <b>-cell</b> &lt;<u>cell</u> <u>name</u>&gt;
           Names the cell in which to run the command. It is acceptable to  abbreviate  the  cell  name  to  the
           shortest form that distinguishes it from the other entries in the <u>/etc/openafs/CellServDB</u> file on the
           local  machine.  If the <b>-cell</b> argument is omitted, the command interpreter determines the name of the
           local cell by reading the following in order:

           •   The value of the AFSCELL environment variable.

           •   The local <u>/etc/openafs/ThisCell</u> file.

           •   The local <u>/etc/openafs/server/ThisCell</u> file.

           Do not combine the <b>-cell</b> and <b>-localauth</b> options. A command on which the <b>-localauth</b> flag  is  included
           always  runs in the local cell (as defined in the server machine's local <u>/etc/openafs/server/ThisCell</u>
           file), whereas a command on which the <b>-cell</b> argument is included runs in the specified foreign cell.

       <b>-help</b>
           Prints a command's online help message on the standard output stream. Do not combine this  flag  with
           any  of  the  command's other options; when it is provided, the command interpreter ignores all other
           options, and only prints the help message.

       <b>-localauth</b>
           Constructs a server ticket using the server encryption key with the highest key version number in the
           local <u>/etc/openafs/server/KeyFile</u> or <u>/etc/openafs/server/KeyFileExt</u> file. The <b>bos</b> command interpreter
           presents the ticket, which never expires, to the BOS Server during mutual authentication.

           Use this flag only when issuing a command on a server machine; client machines do not usually have  a
           <u>/etc/openafs/server/KeyFile</u>  or  <u>/etc/openafs/server/KeyFileExt</u>  file.   The issuer of a command that
           includes this flag must be logged on to the server machine as the local superuser "root". The flag is
           useful for commands invoked by an unattended application program, such as a process controlled by the
           UNIX <b>cron</b> utility or by a cron entry in the machine's <u>/etc/openafs/BosConfig</u> file. It is also  useful
           if an administrator is unable to authenticate to AFS but is logged in as the local superuser "root".

           Do  not  combine the <b>-cell</b> and <b>-localauth</b> options. A command on which the <b>-localauth</b> flag is included
           always runs in the local cell (as defined in the server machine's local  <u>/etc/openafs/server/ThisCell</u>
           file),  whereas a command on which the <b>-cell</b> argument is included runs in the specified foreign cell.
           Also, do not combine the <b>-localauth</b> and <b>-noauth</b> flags.

       <b>-noauth</b>
           Establishes an unauthenticated connection to the BOS Server, in  which  the  BOS  Server  treats  the
           issuer  as  the  unprivileged  user  "anonymous".  It  is  useful only when authorization checking is
           disabled on the server machine (during the installation of a file server  machine  or  when  the  <b>bos</b>
           <b>setauth</b>  command  has been used during other unusual circumstances). In normal circumstances, the BOS
           Server allows only privileged users to  issue  commands  that  change  the  status  of  a  server  or
           configuration  file,  and  refuses to perform such an action even if the <b>-noauth</b> flag is provided. Do
           not combine the <b>-noauth</b> and <b>-localauth</b> flags.

       <b>-server</b> &lt;<u>machine</u> <u>name</u>&gt;
           Indicates the AFS server machine on which to run the command.  Identify the machine by its IP address
           in dotted decimal format, its fully-qualified host name (for example, "fs1.example.com"),  or  by  an
           abbreviated  form  of  its  host name that distinguishes it from other machines. Successful use of an
           abbreviated form depends on the availability of a name service (such as the Domain Name Service or  a
           local host table) at the time the command is issued.

           For  the  commands that alter the administrative files shared by all server machines in the cell (the
           <b>bos</b> <b>addhost</b>, <b>bos</b> <b>addkey</b>, <b>bos</b> <b>adduser</b>, <b>bos</b> <b>removehost</b>, <b>bos</b> <b>removekey</b>, and  <b>bos</b>  <b>removeuser</b>  commands),
           the  appropriate  machine depends on whether the cell uses the United States or international version
           of AFS:

           •   If the cell  (as  recommended)  uses  the  Update  Server  to  distribute  the  contents  of  the
               <u>/etc/openafs/server</u>  directory, provide the name of the system control machine. After issuing the
               command, allow up to five minutes for the Update Server to distribute the  changed  file  to  the
               other AFS server machines in the cell. If the specified machine is not the system control machine
               but  is  running  an  <b>upclient</b> process that refers to the system control machine, then the change
               will be overwritten when the process next brings over the relevant file from the  system  control
               machine.

           •   Otherwise,  repeatedly  issue  the command, naming each of the cell's server machines in turn. To
               avoid possible inconsistency problems, finish issuing the commands within a fairly short time.

</pre><h4><b>PRIVILEGE</b> <b>REQUIRED</b></h4><pre>
       To issue any bos command that changes a configuration file or alters process status, the issuer  must  be
       listed  in  the  <u>/etc/openafs/server/UserList</u>  file  on the server machine named by the <b>-server</b> argument.
       Alternatively, if the <b>-localauth</b> flag is included the issuer must be logged on  as  the  local  superuser
       "root".

       To issue a bos command that only displays information (other than the <b>bos</b> <b>listkeys</b> command), no privilege
       is required.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man5/BosConfig.5.html">BosConfig</a></b>(5),   <b><a href="../man5/CellServDB.5.html">CellServDB</a></b>(5),   <b><a href="../man5/KeyFile.5.html">KeyFile</a></b>(5),  <b><a href="../man5/KeyFileExt.5.html">KeyFileExt</a></b>(5),  <b><a href="../man5/ThisCell.5.html">ThisCell</a></b>(5),  <b><a href="../man5/UserList.5.html">UserList</a></b>(5),  <b><a href="../man8/bos_addhost.8.html">bos_addhost</a></b>(8),
       <b><a href="../man8/bos_addkey.8.html">bos_addkey</a></b>(8), <b><a href="../man8/bos_adduser.8.html">bos_adduser</a></b>(8), <b><a href="../man8/bos_apropos.8.html">bos_apropos</a></b>(8), <b><a href="../man8/bos_create.8.html">bos_create</a></b>(8), <b><a href="../man8/bos_delete.8.html">bos_delete</a></b>(8), <b><a href="../man8/bos_exec.8.html">bos_exec</a></b>(8), <b><a href="../man8/bos_getdate.8.html">bos_getdate</a></b>(8),
       <b><a href="../man8/bos_getlog.8.html">bos_getlog</a></b>(8), <b><a href="../man8/bos_getrestart.8.html">bos_getrestart</a></b>(8), <b><a href="../man8/bos_getrestricted.8.html">bos_getrestricted</a></b>(8),  <b><a href="../man8/bos_help.8.html">bos_help</a></b>(8),  <b><a href="../man8/bos_install.8.html">bos_install</a></b>(8),  <b><a href="../man8/bos_listhosts.8.html">bos_listhosts</a></b>(8),
       <b><a href="../man8/bos_listkeys.8.html">bos_listkeys</a></b>(8),  <b><a href="../man8/bos_listusers.8.html">bos_listusers</a></b>(8), <b><a href="../man8/bos_prune.8.html">bos_prune</a></b>(8), <b><a href="../man8/bos_removehost.8.html">bos_removehost</a></b>(8), <b><a href="../man8/bos_removekey.8.html">bos_removekey</a></b>(8), <b><a href="../man8/bos_removeuser.8.html">bos_removeuser</a></b>(8),
       <b><a href="../man8/bos_restart.8.html">bos_restart</a></b>(8),     <b><a href="../man8/bos_salvage.8.html">bos_salvage</a></b>(8),      <b><a href="../man8/bos_setauth.8.html">bos_setauth</a></b>(8),      <b><a href="../man8/bos_setcellname.8.html">bos_setcellname</a></b>(8),      <b><a href="../man8/bos_setrestart.8.html">bos_setrestart</a></b>(8),
       <b><a href="../man8/bos_setrestricted.8.html">bos_setrestricted</a></b>(8),   <b><a href="../man8/bos_shutdown.8.html">bos_shutdown</a></b>(8),   <b><a href="../man8/bos_start.8.html">bos_start</a></b>(8),   <b><a href="../man8/bos_startup.8.html">bos_startup</a></b>(8),   <b><a href="../man8/bos_status.8.html">bos_status</a></b>(8),  <b><a href="../man8/bos_stop.8.html">bos_stop</a></b>(8),
       <b><a href="../man8/bos_uninstall.8.html">bos_uninstall</a></b>(8)

</pre><h4><b>COPYRIGHT</b></h4><pre>
       IBM Corporation 2000. &lt;<a href="http://www.ibm.com/">http://www.ibm.com/</a>&gt; All Rights Reserved.

       This documentation is covered by the IBM Public License Version 1.0.  It was converted from HTML  to  POD
       by  software  written  by  Chas  Williams  and Russ Allbery, based on work by Alf Wachsmann and Elizabeth
       Cassell.

OpenAFS                                            2025-03-21                                             <u><a href="../man8/BOS.8.html">BOS</a></u>(8)
</pre>
 </div>
</div></section>
</div>
</body>
</html>