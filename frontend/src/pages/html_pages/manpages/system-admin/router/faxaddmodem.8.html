<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>faxaddmodem - configure a modem for use with HylaFAX</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/hylafax-server">hylafax-server_6.0.7-13_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       faxaddmodem - configure a modem for use with <u>HylaFAX</u>

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>/usr/sbin/faxaddmodem</b> [ <b>-s</b> <u>speed</u> ] [ <b>-f</b> ] [ <u>tty</u> ]

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <u>faxaddmodem</u>  is  an  interactive shell script that does the necessary setup work to configure a modem for
       use by the <u>HylaFAX</u> software.  To enable use of the configured modem one must either use  the  <u><a href="../man8/faxmodem.8.html">faxmodem</a></u>(8)
       program or configure the <u><a href="../man8/init.8.html">init</a></u>(8) program to startup a <u><a href="../man8/faxgetty.8.html">faxgetty</a></u>(8) process for the newly configured modem.
       In either case the <u><a href="../man8/faxq.8.html">faxq</a></u>(8) program must also be running if outbound services are to be provided.

       If the serial port name is not specified on the command line <u>faxaddmodem</u> will prompt for it.

       The configuration work done by <u>faxaddmodem</u> falls into two main areas: creating the necessary files to run
       a  facsimile  server process, and defining the contents of the configuration database file.  The <u>hylafax-</u>
       <u>config</u> <u>(5)</u> manual page has an in-depth description of the contents of the configuration file  and  should
       be consulted when installing a modem.

       Many  aspects  of  configuring  a  modem  are operating system-specific; <u>faxaddmodem</u> uses a collection of
       support routines and parameters that are generated by the <u><a href="../man8/faxsetup.8.html">faxsetup</a></u>(8) program.  If <u>faxsetup</u> has not  been
       run on a machine prior to running then <u>faxaddmodem</u> will abort.

       <u>faxaddmodem</u>  can be used to install a new modem or re-configure an existing modem.  In the latter case it
       will propagate all the server-related configuration parameters from the existing  configuration  file  to
       the  new  configuration  file.   These  parameter  include items such as the phone number, area code, and
       tracing control  parameters.   Modem-related  configuration  parameters  are,  however,  not  propagated.
       Instead  <u>faxaddmodem</u> deduces the type of modem attached to the specified serial port and then sets up the
       configuration parameters using a set of <u>prototype</u> configuration files that have  been  tested  with  like
       modems.   If  a  modem is to be installed for which there is no existing prototype file, <u>faxaddmodem</u> will
       work from a comprehensive template  of  parameters  that  can  be  edited  either  during  or  after  the
       installation process.

       <u>faxaddmodem</u>  deduces  the type of modem attached to the serial port by sending commands to the modem at a
       fixed speed.  By default, this speed is  deduced  by  sending  commands  to  the  modem  at  successively
       decreasing speeds until a valid response is received.  Alternatively, a fixed speed can be specified from
       the command line with the <b>-s</b> option.

       Because <u>faxaddmodem</u> needs to read and write the modem that is to be installed it will not proceed with an
       installation  if  the  modem is locked for use by another process.  If the modem is not locked and the <b>-f</b>
       option is used, then the system's <u><a href="../man1/fuser.1.html">fuser</a></u>(1) command will be invoked to ensure that faxaddmodem is the only
       process using the modem.

       Finally, note that an installation can be safely aborted at  any  time  by  hitting  the  interrupt  key.
       <u>faxaddmodem</u> delays making installation-related changes until after everything has been setup.

</pre><h4><b>OPTIONS</b></h4><pre>
       <b>-s</b> <u>speed</u>  Communicate  with  the  modem at a fixed <u>speed</u>; this may be any value recognized by the <u><a href="../man1/stty.1.html">stty</a></u>(1)
                 command.

       <b>-f</b>        Use the <u><a href="../man1/fuser.1.html">fuser</a></u>(1) command for exclusive access to the device.

</pre><h4><b>PROTOTYPE</b> <b>CONFIGURATION</b> <b>FILES</b></h4><pre>
       <u>faxaddmodem</u> uses prototype configuration files that have been created for known modems.  These  prototype
       files are kept in the <b>config</b> subdirectory and, by convention, have names that identify a brand or type of
       modem  and  the  DTE-DCE  flow control scheme the prototype files configures.  The <u><a href="../man8/faxaddmodem.8.html">faxaddmodem</a></u>(8) program
       that is used to configure a modem for use with <u>HylaFAX</u>  selects  a  prototype  configuration  file  using
       information retrieved from the modem and comments embedded in the prototype files.  For Class 1 and Class
       1.0  modems  the  product  ID  code  returned  by  the command ``ATI0'' and the response from the command
       ``ATI3'' are used to select a prototype configuration file, while for Class 2 modems the manufacturer and
       model as  returned  by  ``AT+FMFR?''  and  ``AT+FMDL?'',  respectively,  are  used  (or  ``AT+FMI?''  and
       ``AT+FMM?'' for Class 2.0 and Class 2.1 modems).

       A Class 1 prototype configuration file is identified for use by <u>faxaddmodem</u> by searching for a comment of
       the form:
       # CONFIG:CLASS1:144:.*:RTSCTS: Manufacturer='AT&amp;T' Model=Dataport
       In this example ``144'' is the product ID code for an AT&amp;T DataPort modem, ``.*'' is a regular expression
       matched against the result string returned by the ``ATI3'' command, and ``RTSCTS'' indicates the modem is
       configured  to use hardware flow control during fax operation.  The remainder of the line is evaluated by
       the <u><a href="../man1/sh.1.html">sh</a></u>(1) and used to specify the modem's manufacturer and model  (since  Class  1  modems  do  not  have
       standard commands to query this information).

       Class  2,  2.0, and 2.1 prototype configuration files match the string ``<u>manufacturer</u>-<u>model</u>-<u>flowcontrol</u>''
       against a <u><a href="../man1/sh.1.html">sh</a></u>(1) glob pattern specified in the configuration file, where <u>manufacturer</u> and  <u>model</u>  are  the
       strings  returned by querying the modem and <u>flowcontrol</u> is either ``RTSCTS'' for hardware flow control or
       ``XONXOFF'' for software flow control.  For example:
       # CONFIG: CLASS2: ZyXEL*-RTSCTS
       # CONFIG: CLASS2.0: USRobotics*-XONXOFF
       are configuration comments that appear in the prototype file for a ZyXEL 1496E with Class 2 support,  and
       for a US Robotics Courier modem with Class 2.0 firmware.

       The  <u>faxaddmodem</u>  program  merges server-specific configuration parameters into a prototype configuration
       according to comments placed in the prototype  file.   All  lines  between  ``BEGIN-SERVER''  and  ``END-
       SERVER''  comments are placed with the appropriate server configuration parameters.  Note that this means
       modem-related configuration parameters must be placed outside this area of the file.

</pre><h4><b>FILES</b></h4><pre>
       /var/spool/hylafax/etc/setup.cache    master configuration parameters
       /var/spool/hylafax/etc/setup.modem    modem-related configuration support
       /var/spool/hylafax/config             prototype configuration files
       /usr/sbin/ondelay                     program to open device without waiting for carrier
       /usr/sbin/lockname                    SVR4 UUCP lockfile name generator

       Consult <u><a href="../man5/hylafax-server.5.html">hylafax-server</a></u>(5) for a complete discussion of the structure and content of the spooling area.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <u><a href="../man5/hylafax-server.5.html">hylafax-server</a></u>(5),  <u><a href="../man5/hylafax-config.5.html">hylafax-config</a></u>(5),  <u><a href="../man8/faxsetup.8.html">faxsetup</a></u>(8),  <u><a href="../man8/faxq.8.html">faxq</a></u>(8),  <u><a href="../man8/faxgetty.8.html">faxgetty</a></u>(8),  <u><a href="../man8/faxmodem.8.html">faxmodem</a></u>(8),  <u><a href="../man8/faxconfig.8.html">faxconfig</a></u>(8),
       <u><a href="../man8/faxsend.8.html">faxsend</a></u>(8)

                                                  May 12, 1996                                    <u><a href="../man8/FAXADDMODEM.8.html">FAXADDMODEM</a></u>(8)
</pre>
 </div>
</div></section>
</div>
</body>
</html>