<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>pam_keyinit - Kernel session keyring initialiser module</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libpam-runtime">libpam-runtime_1.7.0-5ubuntu1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       pam_keyinit - Kernel session keyring initialiser module

</pre><h4><b>SYNOPSIS</b></h4><pre>

       <b>pam_keyinit.so</b> [debug] [force] [revoke]

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The pam_keyinit PAM module ensures that the invoking process has a session keyring other than the user
       default session keyring.

       The module checks to see if the process's session keyring is the <b><a href="../man7/user-session-keyring.7.html">user-session-keyring</a></b>(7), and, if it is,
       creates a new <b><a href="../man7/session-keyring.7.html">session-keyring</a></b>(7) with which to replace it. If a new session keyring is created, it will
       install a link to the <b><a href="../man7/user-keyring.7.html">user-keyring</a></b>(7) in the session keyring so that keys common to the user will be
       automatically accessible through it. The session keyring of the invoking process will thenceforth be
       inherited by all its children unless they override it.

       In order to allow other PAM modules to attach tokens to the keyring, this module provides both an <u>auth</u>
       (limited to <b><a href="../man3/pam_setcred.3.html">pam_setcred</a></b>(3) and a <u>session</u> component. The session keyring is created in the module called.
       Moreover this module should be included as early as possible in a PAM configuration.

       This module is intended primarily for use by login processes. Be aware that after the session keyring has
       been replaced, the old session keyring and the keys it contains will no longer be accessible.

       This module should not, generally, be invoked by programs like <b>su</b>, since it is usually desirable for the
       key set to percolate through to the alternate context. The keys have their own permissions system to
       manage this.

       The keyutils package is used to manipulate keys more directly. This can be obtained from:

       <b>Keyutils</b>[1]

</pre><h4><b>OPTIONS</b></h4><pre>
       debug
           Log debug information with <b><a href="../man3/syslog.3.html">syslog</a></b>(3).

       force
           Causes the session keyring of the invoking process to be replaced unconditionally.

       revoke
           Causes the session keyring of the invoking process to be revoked when the invoking process exits if
           the session keyring was created for this process in the first place.

</pre><h4><b>MODULE</b> <b>TYPES</b> <b>PROVIDED</b></h4><pre>
       Only the <b>session</b> module type is provided.

</pre><h4><b>RETURN</b> <b>VALUES</b></h4><pre>
       PAM_SUCCESS
           This module will usually return this value

       PAM_AUTH_ERR
           Authentication failure.

       PAM_BUF_ERR
           Memory buffer error.

       PAM_IGNORE
           The return value should be ignored by PAM dispatch.

       PAM_SERVICE_ERR
           Cannot determine the user name.

       PAM_SESSION_ERR
           This module will return this value if its arguments are invalid or if a system error such as ENOMEM
           occurs.

       PAM_USER_UNKNOWN
           User not known.

</pre><h4><b>EXAMPLES</b></h4><pre>
       Add this line to your login entries to start each login session with its own session keyring:

           session  required  pam_keyinit.so

       This will prevent keys from one session leaking into another session for the same user.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man5/pam.conf.5.html">pam.conf</a></b>(5), <b><a href="../man5/pam.d.5.html">pam.d</a></b>(5), <b><a href="../man7/pam.7.html">pam</a></b>(7), <b><a href="../man1/keyctl.1.html">keyctl</a></b>(1)

</pre><h4><b>AUTHOR</b></h4><pre>
       pam_keyinit was written by David Howells, &lt;<a href="mailto:dhowells@redhat.com">dhowells@redhat.com</a>&gt;.

</pre><h4><b>NOTES</b></h4><pre>
        1. Keyutils
           <a href="http://people.redhat.com/~dhowells/keyutils/">http://people.redhat.com/~dhowells/keyutils/</a>

Linux-PAM                                          07/03/2025                                     <u><a href="../man8/PAM_KEYINIT.8.html">PAM_KEYINIT</a></u>(8)
</pre>
 </div>
</div></section>
</div>
</body>
</html>