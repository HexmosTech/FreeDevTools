<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>zfs-zone, zfs-unzone — attach and detach ZFS filesystems to user namespaces</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/zfsutils-linux">zfsutils-linux_2.3.2-1ubuntu3_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       zfs-zone, zfs-unzone — attach and detach ZFS filesystems to user namespaces

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>zfs</b> <b>zone</b> <u>nsfile</u> <u>filesystem</u>
       <b>zfs</b> <b>unzone</b> <u>nsfile</u> <u>filesystem</u>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>zfs</b> <b>zone</b> <u>nsfile</u> <u>filesystem</u>
         Attach  the  specified  <u>filesystem</u>  to  the user namespace identified by <u>nsfile</u>.  From now on this file
         system tree can be managed from within a user namespace if the <b>zoned</b> property has been set.

         You cannot attach a zoned dataset's children to another user namespace.  You can also  not  attach  the
         root  file system of the user namespace or any dataset which needs to be mounted before the zfs service
         is run inside the user namespace, as it would be attached  unmounted  until  it  is  mounted  from  the
         service inside the user namespace.

         To  allow  management of the dataset from within a user namespace, the <b>zoned</b> property has to be set and
         the user namespaces needs access to the <u>/dev/zfs</u> device.  The <b>quota</b> property  cannot  be  changed  from
         within a user namespace.

         After  a  dataset  is  attached  to a user namespace and the <b>zoned</b> property is set, a zoned file system
         cannot be mounted outside the user namespace, since the user namespace administrator might have set the
         mount point to an unacceptable value.

       <b>zfs</b> <b>unzone</b> <u>nsfile</u> <u>filesystem</u>
         Detach the specified <u>filesystem</u> from the user namespace identified by <u>nsfile</u>.

</pre><h4><b>EXAMPLES</b></h4><pre>
   <b>Example</b> <b>1</b>: Delegating a Dataset to a User Namespace
       The following example delegates the <u>tank/users</u> dataset to a user namespace identified by  user  namespace
       file <u>/proc/1234/ns/user</u>.
             <b>#</b> <b>zfs</b> <b>zone</b> <u>/proc/1234/ns/user</u> <u>tank/users</u>

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <u><a href="../man7/zfsprops.7.html">zfsprops</a></u>(7)

OpenZFS                                           June 3, 2022                                       <u><a href="../man8/ZFS-ZONE.8.html">ZFS-ZONE</a></u>(8)
</pre>
 </div>
</div></section>
</div>
</body>
</html>