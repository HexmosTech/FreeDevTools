<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>pmqtest  -  Start  pairs  of  threads  and  measure  the latency of interprocess communication with POSIX</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/rt-tests">rt-tests_2.6-1.1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       <b>pmqtest</b>  -  Start  pairs  of  threads  and  measure  the latency of interprocess communication with POSIX
       messages queues

</pre><h4><b>SYNTAX</b></h4><pre>
       pmqtest [-a|-a PROC] [-b USEC] [-d DIST] [-D TIME] [-f TO] [-h] [-i INTV] [--json  FILENAME]  [-l  LOOPS]
       [-p PRIO] [-q] [-S] [-t|-t NUM]

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The  program  <b>pmqtest</b> starts pairs of threads that are synchronized via mq_send/mw_receive() and measures
       the latency between sending and receiving the message.

</pre><h4><b>OPTIONS</b></h4><pre>
       <b>-a,</b> <b>--affinity[=PROC]</b>
              Run on processor number PROC. If PROC is not specified, run on current processor.

       <b>-b,</b> <b>--breaktrace=USEC</b>
              Send break trace command when latency &gt; USEC. This is a debugging option to  control  the  latency
              tracer in the realtime preemption patch.  It is useful to track down unexpected large latencies of
              a system.

       <b>-d,</b> <b>--distance=DIST</b>
              Set  the  distance of thread intervals in microseconds (default is 500 us). When pmqtest is called
              with the -t option and more than one thread is created, then this distance value is added  to  the
              interval of the threads: Interval(thread N) = Interval(thread N-1) + DIST

       <b>-D,</b> <b>--duration=TIME</b>
              Specify a length for the test run.
              Append 'm', 'h', or 'd' to specify minutes, hours or days.

       <b>-h,</b> <b>--help</b>
              Print help message

       <b>-f,</b> <b>--forcetimeout=TO</b>
              Set  an  artificial  delay  of the send function to force timeout of the receiver, requires the -T
              option

       <b>-i,</b> <b>--interval=INTV</b>
              Set the base interval of the thread(s) in  microseconds  (default  is  1000  us).  This  sets  the
              interval of the first thread. See also -d.

       <b>--json=FILENAME</b>
              Write final results into FILENAME, JSON formatted.

       <b>-l,</b> <b>--loops=LOOPS</b>
              Set  the  number  of  loops. The default is 0 (endless). This option is useful for automated tests
              with a given number of test cycles. pmqtest is stopped once the number of timer intervals has been
              reached.

       <b>-p,</b> <b>--prio=PRIO</b>
              Set the priority of the process.

       <b>-q,</b> <b>--quiet</b>
              Print a summary only on exit. Useful for automated tests, where only the summary output  needs  to
              be captured.

       <b>-S,</b> <b>--smp</b>
              Test  mode  for  symmetric  multi-processing,  implies -a and -t and uses the same priority on all
              threads.

       <b>-t,</b> <b>--threads[=NUM]</b>
              Set the number of test threads (default is 1, if this option is not given). If NUM  is  specified,
              create NUM test threads. If NUM is not specified, NUM is set to the number of available CPUs.

       <b>-T,</b> <b>--timeout=TO</b>
              Use mq_timedreceive() instead of mq_receive() and specify timeout TO in seconds.

</pre><h4><b>EXAMPLES</b></h4><pre>
       The following example was running on an 8-way processor:

       # pmqtest -Sp99 -i100 -d0
       #0: ID10047, P99, CPU0, I100; #1: ID10048, P99, CPU0, Cycles 153695
       #2: ID10049, P99, CPU1, I100; #3: ID10050, P99, CPU1, Cycles 154211
       #4: ID10051, P99, CPU2, I100; #5: ID10052, P99, CPU2, Cycles 156823
       #6: ID10053, P99, CPU3, I100; #7: ID10054, P99, CPU3, Cycles 158202
       #8: ID10055, P99, CPU4, I100; #9: ID10056, P99, CPU4, Cycles 153399
       #10: ID10057, P99, CPU5, I100; #11: ID10058, P99, CPU5, Cycles 153992
       #12: ID10059, P99, CPU6, I100; #13: ID10060, P99, CPU6, Cycles 156576
       #14: ID10061, P99, CPU7, I100; #15: ID10062, P99, CPU7, Cycles 157957
       #1 -&gt; #0, Min    1, Cur    8, Avg    5, Max   18
       #3 -&gt; #2, Min    1, Cur    4, Avg    5, Max   18
       #5 -&gt; #4, Min    1, Cur    5, Avg    5, Max   19
       #7 -&gt; #6, Min    1, Cur    4, Avg    4, Max   17
       #9 -&gt; #8, Min    1, Cur    9, Avg    5, Max   18
       #11 -&gt; #10, Min    1, Cur    8, Avg    5, Max   18
       #13 -&gt; #12, Min    1, Cur    4, Avg    5, Max   29
       #15 -&gt; #14, Min    1, Cur    8, Avg    4, Max   17

</pre><h4><b>AUTHORS</b></h4><pre>
       Carsten Emde &lt;<a href="mailto:C.Emde@osadl.org">C.Emde@osadl.org</a>&gt;

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <a href="../man3p/mq_send.3p.html">mq_send</a>(3p), <a href="../man3p/mq_receive.3p.html">mq_receive</a>(3p)

                                                       0.1                                            <u><a href="../man8/pmqtest.8.html">pmqtest</a></u>(8)
</pre>
 </div>
</div></section>
</div>
</body>
</html>