<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ipband - IP bandwidth watchdog</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/ipband">ipband_0.8.1-5.1build2_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       ipband - IP bandwidth watchdog

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>ipband</b> -aAbcCdfFhJlLmMowPrtTv <u>INTERFACE</u>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>ipband</b>  is a pcap based IP traffic monitor.  It tallies per-subnet traffic and bandwidth usage and starts
       detailed logging if specified threshold for the specific subnet is exceeded. If traffic has been high for
       a certain period of time, the report for that subnet is generated which can be  appended  to  a  file  or
       e-mailed.  When bandwidth usage drops below the threshold, detailed logging for the subnet is stopped and
       memory is freed.

       This utility could be handy in a limited bandwidth WAN environment (frame relay, ISDN etc.  circuits)  to
       pinpoint offending traffic source if certain links become saturated to the point where legitimate packets
       start getting dropped.

       It  also  can  be used to monitor internet connection when specifying the range of local ip addresses (to
       avoid firing reports about non-local networks).

       Bandwidth is defined as total size in kBytes of the layer 2 frames with IP packets passing the  specified
       interface during the averaging period divided by the number of seconds in that period.

</pre><h4><b>COMMAND</b> <b>LINE</b> <b>OPTIONS</b></h4><pre>
       <b>interface</b>
              Network interface to read data from.

       <b>-a</b> <u>secs</u>
              Averaging  period  in seconds. How often total traffic and bandwidth should be calculated. Default
              is 60 secs.

       <b>-A</b>     Include threshold exceeded accumulated time and percentage in the report. This option  works  only
              with  preloaded  subnets  ("subnet"  directive)  because  otherwise  subnet  data  is deleted when
              bandwidth usage drops below threshold to clear memory and reduce processing time.

       <b>-b</b> <u>kBps</u>
              Bandwidth threshold in kBytes per sec. Default is 7 kBps i.e. 56 kbps.

       <b>-c</b> <u>filename</u>
              Use <u>filename</u> as configuration file. Default is /etc/ipband.conf.  Specifying  different  bandwidth
              threshold per subnet is only available through the configuration file. See <b>subnet</b> directive in the
              CONFIGURATION FILE section below.

       <b>-C</b>     Ignore configuration file.

       <b>-d</b> <u>level</u>
              Debug  level.  0  -  no  debugging;  1 - summary; 2 - subnet statistics; 3 - all packets captured.
              Default is 0.

       <b>-f</b> <u>filterstr</u>
              Use <u>filterstr</u> as pcap filter. See manual page for tcpdump. Also see EXAMPLES section below.

       <b>-F</b>     Fork and run in background. Default is run in foreground.

       <b>-h</b>     Print help and exit.

       <b>-J</b> <u>number</u>
              Packet length adjustment in bytes. This option can be used  when  layer  2  frame  sizes  for  the
              interface  ipband  is  listening  on  and  the  interface  we  are measuring the bandwidth for are
              different. For example, if you are concerned about bandwidth  usage  on  a  router's  frame  relay
              interface  with 6 bytes overhead (frame header + RFC1490 encapsulation) while ipband is running on
              an ethernet interface with 14 bytes MAC frame, then you could use value -8 for this option to  get
              more  accurate bandwidth calculation. The <u>number</u> can be a positive or a negative integer. Negative
              values should not exceed leyer 2 frame size for the ipband's interface (i.e. we can't use  -15  in
              the above example). The default is 0.

       <b>-l</b> <u>filename</u>
              If  -M  (or  <b>mailto</b>  directive  in  config  file)  option is set, specifies name of the file to be
              appended to the end of e-mail reports.

       <b>-L</b> <u>ip-range[:ip-range[:ip-range[..]]]</u>
              This option specifies which network numbers should be considered local when  collecting  data  and
              generating  reports (actually non-local networks are not logged at all). It can be used instead of
              config file's multiple "subnet" directives  (unlike  that  directive,  there  would  be  a  single
              bandwidth  threshold  specified  by  -b  option).  This option can be used for monitoring internet
              connections when you don't want to get reports on someone else's networks.

              There can be many ip-ranges separate by colons.  No spaces  may  appear  in  the  argument.   Each
              ip-range  can  be either a single ip address such as 192.168.1.1 which indicates a range of one, a
              partial ip address such as 192.168.1.0 which indicates a range from 192.168.1.0 to  192.168.1.255,
              a  low  and high ip address separated by a hyphen (-), and a single ip address, a slash (/) and an
              integer between 0 and 32 (a "net address") which indicates a network. If you run ipband  with  the
              debug  option  (-d)  the  program  will print the entire list of ip ranges, so you can check their
              values.

              Here is a list of arguments to -L along with the corresponding range.

                 COMMAND: <b>ipband</b> <b>eth0</b> <b>-l</b> <b>137.99.11</b>
                 RANGE:   137.99.11.0-137.99.11.255

                 COMMAND: <b>ipband</b> <b>eth0</b> <b>-L</b> <b>137.99.11:127.0.5/23</b>
                 RANGE:   137.99.11.0-137.99.11.255,127.0.4.0-127.0.5.255

                 COMMAND: <b>ipband</b> <b>eth0</b> <b>-L</b> <b>127.1.5.17-127.1.7.131</b>
                 RANGE:   127.1.5.17-127.1.7.131

       <b>-m</b> <u>maskbits</u>
              Set  number  of  subnet  mask  bits  (1-32)  for  subnet  traffic  aggregation.  Default   is   24
              (255.255.255.0).

       <b>-M</b> <u>email</u> <u>address(es)</u>
              Send  detailed subnet report to specified e-mail address(es). Multiple addresses must be separated
              by comma.

       <b>-o</b> <u>filename</u>
              Filename to output detailed subnet report. Default is ipband.txt in current directory.

       <b>-w</b> <u>filename</u>
              HTML report output file. Default is ipband.html in current directory. The styles.css file  can  be
              used in the same directory to customize its look and feel.

       <b>-P</b>     Do not use promiscuous mode on the network interface we are listening on.

       <b>-r</b> <u>secs</u>
              Reporting  period  -  number  of  seconds  bandwidth threshold may be exceeded before it should be
              reported. Default is 300 seconds.

       <b>-t</b> <u>number</u>
              Limit subnet report to a given number  of  per-host  connections  with  highest  byte  count  (top
              connections). Default is no limit.

       <b>-T</b> <u>string</u>
              MTA  command  string  for  mailing  reports. Default is "/usr/sbin/sendmail -t -oi". The string is
              tokenized and passed directly to exec(), so that shell's metacharacters are not interpreted.

       <b>-v</b>     Print version and exit.

</pre><h4><b>CONFIGURATION</b> <b>FILE</b></h4><pre>
       In addition to command line options you can use a configuration file.  When <b>ipband</b> starts it first  looks
       for /etc/ipband.conf.  You can also give the '-c' (see OPTIONS above) to specify a configuration file.

       The options in the config file are specified by keyword/value pairs. Lines starting with # are ignored.

       Below is a list of config file options:

       <b>interface</b> <u>interface</u>
              Interface to read packets from.

       <b>promisc</b> <u>{yes/no}</u>
              Like  -P  option,  specifies  whether  or  not  to  use  promiscious mode on the listening network
              interface. Promiscuous mode is the default.

       <b>debug</b> <u>{0-3}</u>
              Like -d option, specifies debug level.

       <b>fork</b> <u>{yes/no}</u>
              Like -F option, specifies whether or not to run in background. Default is no.

       <b>filter</b> <u>filterstr</u>
              Like -f option, specifies pcap filter.

       <b>outfile</b> <u>filename</u>
              Like -o option, specifies report file name. efault is ipband.txt in current directory.

       <b>htmlfile</b> <u>filename</u>
              Like -w option, HTML report  output  file.  Default  is  ipband.html  in  current  directory.  The
              styles.css file can be used in the same directory to customize its look and feel.

       <b>htmltitle</b> <u>title</u>
              HTML title of the report output file.

       <b>bandwidth</b> <u>kBps</u>
              Like -b option, bandwidth threshold in kBytes per second. Default is 7.0 kBps.

       <b>average</b> <u>secs</u>
              Like  -a  option,  tells  <b>ipband</b>  nomber  of  seconds  to average per-subnet traffic and calculate
              bandwidth usage. Default is 60 seconds.

       <b>lenadj</b> <u>number</u>
              Like -J option, specifies packet length adjustment in bytes.

       <b>report</b> <u>secs</u>
              Like -r option, number of seconds specified threshold(s) may be exceeded before  report  is  fired
              off. Default is 300 secs.

       <b>top</b> <u>number</u>
              Like  -t  option, limits subnet report to a given number of per-host connections with highest byte
              count (top connections). Default is 0 - no limit.

       <b>accumulate</b> <u>{yes/no}</u>
              Like -A option, whether or not to include threshold exceeded accumulated time  and  percentage  in
              the report. Default is no.

       <b>mailto</b> <u>email</u> <u>address(es)</u>
              Like  -M  option,  e-mail address(es) detailed subnet report should be sent to. Multiple addresses
              must be separated by comma.

       <b>mailfoot</b> <u>filename</u>
              Like -l option, name of the file to be appended to the end of e-mail reports.

       <b>mtastring</b> <u>string</u>
              Like -T option, specifies MTA command string for mailing reports. Default  is  "/usr/sbin/sendmail
              -t -oi".

       <b>maskbits</b> <u>{1-32}</u>
              Like  -m option, sets the number of network mask bits. Default is 24 (corresponding to subnet mask
              255.255.255.0).

       <b>localrange</b> <u>ip_range</u>
              Like -L option, determines which range(s) of ip addresses are considered local.

       <b>subnet</b> <u>subnet-ip</u> <b>bandwidth</b> <u>kBps</u>
              Specifies which subnets <b>ipband</b> should work with and sets individual bandwidth thresholds for  them
              -  one  subnet  option  per  line  (subnet  mask  is  set by <u>maskbits</u> option). This option is only
              available through a configuration file. Setting it limits data collection  and  reporting  to  the
              specified subnets.

</pre><h4><b>EXAMPLES</b></h4><pre>
       <b>ipband</b> <b>eth0</b> <b>-f</b> <b>net</b> <b>10.10.0.0/16</b> <b>-m</b> <b>24</b> <b>-a</b> <b>300</b> <b>-r</b> <b>900</b>

              Will  capture  packets  from/to  ip addresses matching 10.10.0.0/255.255.0.0, tally traffic by the
              third octet,calculate bandwidth utilization every 5 minutes and report per host traffic  every  15
              minutes.

       <b>ipband</b> <b>-c</b> <b>ipband.conf</b>

              Read configuration from file ipband.conf.

</pre><h4><b>BUGS</b></h4><pre>
       Report mailing blocks until pipe to sendmail returns.

       Report any bugs to <a href="mailto:anevynni@russelmetals.com">anevynni@russelmetals.com</a>.
              Thanks.

</pre><h4><b>AUTHOR</b></h4><pre>
       Andrew Nevynniy <u><a href="mailto:anevynni@russelmetals.com">anevynni@russelmetals.com</a></u>

       ipband is based on ipaudit-0.95 by J Rifkin <u><a href="mailto:jon.rifkin@uconn.edu">jon.rifkin@uconn.edu</a></u> (<a href="http://www.sp.uconn.edu/~jrifkin">http://www.sp.uconn.edu/~jrifkin</a>).

</pre><h4><b>VERSION</b></h4><pre>
       0.8.1 Jun 13, 2008

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man1/tcpdump.1.html">tcpdump</a></b>(1) <b><a href="../man3/pcap.3.html">pcap</a></b>(3)

Andrew Nevynniy                                   Jun 13, 2008                                         <u><a href="../man8/ipband.8.html">ipband</a></u>(8)
</pre>
 </div>
</div></section>
</div>
</body>
</html>