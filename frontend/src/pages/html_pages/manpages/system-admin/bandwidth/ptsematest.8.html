<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ptsematest - Start two threads and measure the latency of interprocess communication with POSIX mutex.</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/rt-tests">rt-tests_2.6-1.1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       <b>ptsematest</b> - Start two threads and measure the latency of interprocess communication with POSIX mutex.

</pre><h4><b>SYNOPSIS</b></h4><pre>
       ptsematest  [-a|--affinity  [PROC]]  [-b|--breaktrace  USEC]  [-d|--distance  DIST]  [-D|--duration TIME]
       [-h|--help] [-i|--interval INTV] [--json  FILENAME]  [-l|--loops  LOOPS]  [-p|--prio  PRIO]  [-q|--quiet]
       [-S|--smp] [-t|--threads [NUM]]

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The      program      <b>ptsematest</b>     starts     two     threads     that     are     synchronized     via
       pthread_mutex_unlock()/pthread_mutex_lock() and measures the latency between releasing  and  getting  the
       lock.

</pre><h4><b>OPTIONS</b></h4><pre>
       <b>-a,</b> <b>--affinity[=PROC]</b>
              Run on processor number PROC. If PROC is not specified, run on current processor.

       <b>-b,</b> <b>--breaktrace=USEC</b>
              Send  break  trace  command when latency &gt; USEC. This is a debugging option to control the latency
              tracer in the realtime preemption patch.  It is useful to track down unexpected large latencies of
              a system.

       <b>-d,</b> <b>--distance=DIST</b>
              Set the distance of thread intervals in microseconds (default is  500  us).  When   cyclictest  is
              called  with  the -t option and more than one thread is created, then this distance value is added
              to the interval of the threads: Interval(thread N) = Interval(thread N-1) + DIST

       <b>-D,</b> <b>--duration=TIME</b>
              Specify a length for the test run.
              Append 'm', 'h', or 'd' to specify minutes, hours or days.

       <b>-h,</b> <b>--help</b>
              Print help message.

       <b>-i,</b> <b>--interval=INTV</b>
              Set the base interval of the thread(s) in  microseconds  (default  is  1000  us).  This  sets  the
              interval of the first thread. See also -d.

       <b>--json=FILENAME</b>
              Write final results into FILENAME, JSON formatted.

       <b>-l,</b> <b>--loops=LOOPS</b>
              Set  the  number  of  loops. The default is 0 (endless). This option is useful for automated tests
              with a given number of test cycles. ptsematest is stopped once the number of timer  intervals  has
              been reached.

       <b>-p,</b> <b>--prio=PRIO</b>
              Set the priority of the process.

       <b>-q,</b> <b>--quiet</b>
              Print  a  summary only on exit. Useful for automated tests, where only the summary output needs to
              be captured.

       <b>-S,</b> <b>--smp</b>
              SMP testing: options -a -t and same priority

       <b>-t,</b> <b>--threads[=NUM]</b>
              Set the number of test threads (default is 1, if this option is not given). If NUM  is  specified,
              create NUM test threads. If NUM is not specified, NUM is set to the number of available CPUs.

</pre><h4><b>EXAMPLES</b></h4><pre>
       The following example was running on a 4-way processor:

       # ptsematest -a -t -p99 -i100 -d25 -l1000000
       #0: ID8672, P99, CPU0, I100; #1: ID8673, P99, CPU0, Cycles 1000000
       #2: ID8674, P98, CPU1, I125; #3: ID8675, P98, CPU1, Cycles 811035
       #4: ID8676, P97, CPU2, I150; #5: ID8677, P97, CPU2, Cycles 668130
       #6: ID8678, P96, CPU3, I175; #7: ID8679, P96, CPU3, Cycles 589423
       #1 -&gt; #0, Min    1, Cur    1, Avg    2, Max   11
       #3 -&gt; #2, Min    1, Cur    2, Avg    2, Max   13
       #5 -&gt; #4, Min    1, Cur    4, Avg    3, Max   12
       #7 -&gt; #6, Min    1, Cur    4, Avg    2, Max   12

</pre><h4><b>AUTHORS</b></h4><pre>
       Carsten Emde &lt;<a href="mailto:C.Emde@osadl.org">C.Emde@osadl.org</a>&gt;

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <a href="../man3p/pthread_mutex_lock.3p.html">pthread_mutex_lock</a>(3p), <a href="../man3p/pthread_mutex_unlock.3p.html">pthread_mutex_unlock</a>(3p)

                                                       0.1                                         <u><a href="../man8/ptsematest.8.html">ptsematest</a></u>(8)
</pre>
 </div>
</div></section>
</div>
</body>
</html>