<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>gethostlatency.bt - Show latency for getaddrinfo/gethostbyname[2] calls. Uses bpftrace/eBPF.</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/bpftrace">bpftrace_0.23.2-1ubuntu1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       gethostlatency.bt - Show latency for getaddrinfo/gethostbyname[2] calls. Uses bpftrace/eBPF.

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>gethostlatency.bt</b>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       This traces and prints when getaddrinfo(), gethostbyname(), and gethostbyname2() are called, system wide,
       and  shows  the responsible PID and command name, latency of the call (duration) in milliseconds, and the
       host string.

       This tool can be useful for identifying DNS latency, by identifying which remote host name  lookups  were
       slow, and by how much.

       This  tool  currently  uses  dynamic  tracing  of  user-level  functions  and  registers,  and  may  need
       modifications to match your software and processor architecture.

       Since this uses BPF, only the root user can use this tool.

</pre><h4><b>REQUIREMENTS</b></h4><pre>
       CONFIG_BPF and bcc.

</pre><h4><b>EXAMPLES</b></h4><pre>
       Trace host lookups (getaddrinfo/gethostbyname[2]) system wide:
              # <b>gethostlatency.bt</b>

</pre><h4><b>FIELDS</b></h4><pre>
       TIME   Time of the command (HH:MM:SS).

       PID    Process ID of the client performing the call.

       COMM   Process (command) name of the client performing the call.

       LATms  Latency of the call, in milliseconds.

       HOST   Host name string: the target of the lookup.

</pre><h4><b>OVERHEAD</b></h4><pre>
       The rate of lookups should be relatively low, so the overhead is not expected to be a problem.

</pre><h4><b>SOURCE</b></h4><pre>
       This is from bpftrace.

              https://github.com/bpftrace/bpftrace

       Also look in the bpftrace distribution for a  companion  _examples.txt  file  containing  example  usage,
       output, and commentary for this tool.

       This is a bpftrace version of the bcc tool of the same name. The bcc tool provides command line options.

              https://github.com/iovisor/bcc

</pre><h4><b>OS</b></h4><pre>
       Linux

</pre><h4><b>STABILITY</b></h4><pre>
       Unstable - in development.

</pre><h4><b>AUTHOR</b></h4><pre>
       Brendan Gregg

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <a href="../man8/tcpdump.8.html">tcpdump</a>(8)

USER COMMANDS                                      2018-09-08                               <u><a href="../man8/gethostlatency.bt.8.html">gethostlatency.bt</a></u>(8)
</pre>
 </div>
</div></section>
</div>
</body>
</html>