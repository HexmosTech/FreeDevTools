<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>tb_polgen - manage tboot verified launch policy</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/tboot">tboot_1.10.5-5ubuntu1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       tb_polgen - manage tboot verified launch policy

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>tb_polgen</b> <u>COMMAND</u> [<u>OPTION</u>]

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>tb_polgen</b> is used to manage tboot verified launch policy.

</pre><h4><b>COMMANDS</b></h4><pre>
       <b>--create</b>
              Create an empty tboot verified launch policy file.

              <b>--type</b> <u>nonfatal</u> | <u>continue</u> | <u>halt</u>
                     Nonfatal  means  ignoring  all  non-fatal  errors  and  continuing. Continue means ignoring
                     verification errors and halting otherwise. Halt means halting on any errors.

              [<b>--ctrl</b> <u>policy-control-value</u>]
                     The default value 1 is to extend policy into PCR 17.

              [<b>--alg</b> <u>sha1</u> | <u>sha256</u> | <u>sha384</u> | <u>sha512</u>]
                     Policy hashing algorithm.

              <u>policy-file</u>

       <b>--add</b>  Add a module hash entry into a policy file.

              <b>--num</b> <u>module-number</u> | <u>any</u>
                     The module-number is the 0-based module number  corresponding  to  modules  loaded  by  the
                     bootloader.

              <b>--pcr</b> <u>TPM-PCR-number</u> | <u>none</u>
                     The TPM-PCR-number is the PCR to extend the module's measurement into.

              <b>--hash</b> <u>any</u> | <u>image</u>

              [<b>--cmdline</b> <u>command-line</u>]
                     The  command  line  is  from  grub.conf,  and  it  should not include the module name (e.g.
                     "/xen.gz").

              [<b>--image</b> <u>image-file-name</u>]

              <u>policy-file</u>

       <b>--del</b>  Delete a module hash entry from a policy file.

              <b>--num</b> <u>module-number</u> | <u>any</u>
                     The module-number is the 0-based module number  corresponding  to  modules  loaded  by  the
                     bootloader.

              [<b>--pos</b> <u>hash-number</u>]
                     The  hash-number  is  the  0-based  index  of  the  hash, within the list of hashes for the
                     specified module.

              <u>policy-file</u>

       <b>--unwrap</b>
              Extract the tboot verified launch policy from a TXT LCP element file.

              <b>--elt</b> <u>elt-file</u>

              <u>policy-file</u>

       <b>--show</b> <u>policy-file</u>
              Show the policy information in a policy file.

       <b>--help</b> Print out the help message.

       <b>--verbose</b>
              Enable verbose output; can be specified with any command.

</pre><h4><b>EXAMPLES</b></h4><pre>
       <b>tb_polgen</b> <b>--create</b> <b>--type</b> <u>nonfatal</u> <u>vl.pol</u>

       <b>tb_polgen</b> <b>--add</b> <b>--num</b> <u>0</u> <b>--pcr</b> <u>none</u> <b>--hash</b> <u>image</u> <b>--cmdline</b> <u>"cmdline"</u> <b>--image</b> <u>/boot/xen.gz</u> <u>vl.pol</u>

       <b>tb_polgen</b> <b>--add</b> <b>--num</b> <u>1</u> <b>--pcr</b> <u>19</u> <b>--hash</b>  <u>image</u>  <b>--cmdline</b>  <u>"cmdline"</u>  <b>--image</b>  <u>/boot/vmlinuz-2.6.18.8-xen</u>
       <u>vl.pol</u>

       <b>tb_polgen</b> <b>--add</b> <b>--num</b> <u>2</u> <b>--pcr</b> <u>19</u> <b>--hash</b> <u>image</u> <b>--cmdline</b> <u>""</u> <b>--image</b> <u>/boot/initrd-2.6.18.8-xen.img</u> <u>vl.pol</u>

       <b>tb_polgen</b> <b>--del</b> <b>--num</b> <u>1</u> <u>vl.pol</u>

       <b>tb_polgen</b> <b>--show</b> <b>--verbose</b> <u>vl.pol</u>

   <b>Note1:</b>
       It  is  not  necessary  to  specify  a  PCR  for module 0, since this module's measurement will always be
       extended to PCR 18.  If a PCR is specified, then the measurement will be extended to that PCR in addition
       to PCR 18.

   <b>Note2:</b>
       --unwrap is not implemented correctly. There should be a defined UUID for this and that should be checked
       before copying the data. There should be a wrap or similar command to generates an  element  file  for  a
       policy.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man8/lcp_crtpol.8.html">lcp_crtpol</a></b>(8), <b><a href="../man8/lcp_crtpol2.8.html">lcp_crtpol2</a></b>(8), <b><a href="../man8/lcp_crtpolelt.8.html">lcp_crtpolelt</a></b>(8).

tboot                                              2011-12-31                                       <u><a href="../man8/TB_POLGEN.8.html">TB_POLGEN</a></u>(8)
</pre>
 </div>
</div></section>
</div>
</body>
</html>