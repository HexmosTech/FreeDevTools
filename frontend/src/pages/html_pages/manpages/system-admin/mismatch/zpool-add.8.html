<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>zpool-add — add vdevs to ZFS storage pool</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/zfsutils-linux">zfsutils-linux_2.3.2-1ubuntu3_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       zpool-add — add vdevs to ZFS storage pool

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>zpool</b>    <b>add</b>   [<b>-fgLnP</b>]   [<b>--allow-in-use</b>   <b>--allow-replication-mismatch</b>   <b>--allow-ashift-mismatch</b>]   [<b>-o</b>
             <u>property</u>=<u>value</u>] <u>pool</u> <u>vdev</u>…

</pre><h4><b>DESCRIPTION</b></h4><pre>
       Adds the specified virtual devices to the given pool.  The <u>vdev</u> specification is described in the <u>Virtual</u>
       <u>Devices</u> section of <u><a href="../man7/zpoolconcepts.7.html">zpoolconcepts</a></u>(7).  The behavior of the <b>-f</b> option, and the device checks performed  are
       described in the <b>zpool</b> <b>create</b> subcommand.

       <b>-f</b>      Forces  use  of  <u>vdev</u>s,  even if they appear in use, have conflicting ashift values, or specify a
               conflicting replication level.  Not all devices can be overridden in this manner.

       <b>-g</b>      Display <u>vdev</u>, GUIDs instead of the normal device names.  These GUIDs can  be  used  in  place  of
               device names for the zpool detach/offline/remove/replace commands.

       <b>-L</b>      Display  real  paths  for  <u>vdev</u>s  resolving  all symbolic links.  This can be used to look up the
               current block device name regardless of the <u><a href="file:/dev/disk">/dev/disk</a></u> path used to open it.

       <b>-n</b>      Displays the configuration that would be used without actually adding the <u>vdev</u>s.  The actual pool
               creation can still fail due to insufficient privileges or device sharing.

       <b>-P</b>      Display real paths for <u>vdev</u>s instead of only the last component of the path.  This can be used in
               conjunction with the <b>-L</b> flag.

       <b>-o</b> <u>property</u>=<u>value</u>
               Sets the given pool properties.  See the <u><a href="../man7/zpoolprops.7.html">zpoolprops</a></u>(7) manual page for a list of valid properties
               that can be set.  The only property supported at the moment is <b>ashift</b>.

       <b>--allow-ashift-mismatch</b>
               Disable the ashift validation which allows mismatched ashift values in  the  pool.   Adding  top-
               level  <u>vdev</u>s  with  different  sector  sizes  will prohibit future device removal operations, see
               <u><a href="../man8/zpool-remove.8.html">zpool-remove</a></u>(8).

       <b>--allow-in-use</b>
               Allow vdevs to be added even if they might be in use in another pool.

       <b>--allow-replication-mismatch</b>
               Allow vdevs with conflicting replication levels to be added to the pool.

</pre><h4><b>EXAMPLES</b></h4><pre>
   <b>Example</b> <b>1</b>: Adding a Mirror to a ZFS Storage Pool
       The following command adds two mirrored disks to the pool <u>tank</u>, assuming the pool is already made  up  of
       two-way mirrors.  The additional space is immediately available to any datasets within the pool.
             <b>#</b> <b>zpool</b> <b>add</b> <u>tank</u> <b>mirror</b> <u>sda</u> <u>sdb</u>

   <b>Example</b> <b>2</b>: Adding Cache Devices to a ZFS Pool
       The following command adds two disks for use as cache devices to a ZFS storage pool:
             <b>#</b> <b>zpool</b> <b>add</b> <u>pool</u> <b>cache</b> <u>sdc</u> <u>sdd</u>

       Once  added,  the  cache  devices gradually fill with content from main memory.  Depending on the size of
       your cache devices, it could take over an hour for them to fill.  Capacity and  reads  can  be  monitored
       using the <b>iostat</b> subcommand as follows:
             <b>#</b> <b>zpool</b> <b>iostat</b> <b>-v</b> <u>pool</u> <u>5</u>

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <u><a href="../man8/zpool-attach.8.html">zpool-attach</a></u>(8), <u><a href="../man8/zpool-import.8.html">zpool-import</a></u>(8), <u><a href="../man8/zpool-initialize.8.html">zpool-initialize</a></u>(8), <u><a href="../man8/zpool-online.8.html">zpool-online</a></u>(8), <u><a href="../man8/zpool-remove.8.html">zpool-remove</a></u>(8)

OpenZFS                                           March 8, 2024                                     <u><a href="../man8/ZPOOL-ADD.8.html">ZPOOL-ADD</a></u>(8)
</pre>
 </div>
</div></section>
</div>
</body>
</html>