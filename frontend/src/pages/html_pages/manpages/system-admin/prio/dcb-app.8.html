<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>dcb-app - show / manipulate application priority table of the DCB (Data Center Bridging) subsystem</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/iproute2">iproute2_6.14.0-1ubuntu3_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       dcb-app - show / manipulate application priority table of the DCB (Data Center Bridging) subsystem

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>dcb</b> [ <u>OPTIONS</u> ] <b>app</b> { <u>COMMAND</u> | <u>help</u> }

       <b>dcb</b> <b>app</b>  <b>{</b>  <b>show</b>  <b>|</b>  <b>flush</b>  <b>}</b>  <b>dev</b> DEV [ <b>default-prio</b> ] [ <b>ethtype-prio</b> ] [ <b>stream-port-prio</b> ] [ <b>dgram-</b>
               <b>port-prio</b> ] [ <b>port-prio</b> ] [ <b>dscp-prio</b> ] [ <b>pcp-prio</b> ]

       <b>dcb</b> <b>app</b>  <b>{</b>  <b>add</b>  <b>|</b>  <b>del</b>  <b>|</b>  <b>replace</b>  <b>}</b>  <b>dev</b> DEV [ <b>default-prio</b> <u>PRIO-LIST</u> ] [ <b>ethtype-prio</b> <u>ET-MAP</u> ] [
               <b>stream-port-prio</b> <u>PORT-MAP</u> ] [ <b>dgram-port-prio</b> <u>PORT-MAP</u> ] [ <b>port-prio</b> <u>PORT-MAP</u> ] [ <b>dscp-prio</b> <u>DSCP-</u>
               <u>MAP</u> ] [ <b>pcp-prio</b> <u>PCP-MAP</u> ]

       <u>PRIO-LIST</u> := [ <u>PRIO-LIST</u> ] <u>PRIO</u>

       <u>ET-MAP</u> := [ <u>ET-MAP</u> ] <u>ET-MAPPING</u>

       <u>ET-MAPPING</u> := <u>ET</u><b>:</b><u>PRIO</u>

       <u>PORT-MAP</u> := [ <u>PORT-MAP</u> ] <u>PORT-MAPPING</u>

       <u>PORT-MAPPING</u> := <u>PORT</u><b>:</b><u>PRIO</u>

       <u>DSCP-MAP</u> := [ <u>DSCP-MAP</u> ] <u>DSCP-MAPPING</u>

       <u>DSCP-MAPPING</u> := { <u>DSCP</u> | <b>all</b> }<b>:</b><u>PRIO</u>

       <u>PCP-MAP</u> := [ <u>PCP-MAP</u> ] <u>PCP-MAPPING</u>

       <u>PCP-MAPPING</u> := <u>PCP</u><b>:</b><u>PRIO</u>

       <u>ET</u> := { <b>0x600</b> .. <b>0xffff</b> }

       <u>PORT</u> := { <b>1</b> .. <b>65535</b> }

       <u>DSCP</u> := { <b>0</b> .. <b>63</b> }

       <u>PCP</u> := { <b>0(nd/de)</b> .. <b>7(nd/de)</b> }

       <u>PRIO</u> := { <b>0</b> .. <b>7</b> }

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>dcb</b> <b>app</b> is used to configure APP table, or application priority table in the DCB (Data Center Bridging)
       subsystem. The APP table is used to assign priority to traffic based on value in one of several headers:
       EtherType, L4 destination port, or DSCP. It also allows configuration of port-default priority that is
       chosen if no other prioritization rule applies.

       DCB APP entries are 3-tuples of selector, protocol ID, and priority. Selector is an enumeration that
       picks one of the prioritization namespaces. Currently it mostly corresponds to configurable parameters
       described below. Protocol ID is a value in the selector namespace. E.g. for EtherType selector, protocol
       IDs are the individual EtherTypes, for DSCP they are individual code points. The priority is the priority
       that should be assigned to traffic that matches the selector and protocol ID.

       The APP table is a set of DCB APP entries. The only requirement is that duplicate entries are not added.
       Notably, it is valid to have conflicting priority assignment for the same selector and protocol ID. For
       example, the set of two APP entries (DSCP, 10, 1) and (DSCP, 10, 2), where packets with DSCP of 10 should
       get priority of both 1 and 2, form a well-defined APP table. The <b>dcb</b> <b>app</b> tool allows low-level management
       of the app table by adding and deleting individual APP 3-tuples through <b>add</b> and <b>del</b> commands. On the
       other hand, the command <b>replace</b> does what one would typically want in this situation--first adds the new
       configuration, and then removes the obsolete one, so that only one prioritization is in effect for a
       given selector and protocol ID.

</pre><h4><b>COMMANDS</b></h4><pre>
       <b>show</b>   Display  all entries with a given selector. When no selector is given, shows all APP table entries
              categorized per selector.

       <b>flush</b>  Remove all entries with a given selector. When  no  selector  is  given,  removes  all  APP  table
              entries.

       <b>add</b>
       <b>del</b>    Add and, respectively, remove individual APP 3-tuples to and from the DCB APP table.

       <b>replace</b>
              Take  the  list  of  entries mentioned as parameter, and add those that are not present in the APP
              table yet. Then remove those entries, whose selector  and  protocol  ID  have  been  mentioned  as
              parameter,  but  not  with the exact same priority. This has the effect of, for the given selector
              and protocol ID, causing that the table only  contains  the  priority  (or  priorities)  given  as
              parameter.

</pre><h4><b>PARAMETERS</b></h4><pre>
       The following table shows parameters in a way that they would be used with <b>add</b>, <b>del</b> and <b>replace</b> commands.
       For <b>show</b> and <b>flush</b>, the parameter name is to be used as a simple keyword without further arguments.

       <b>default-prio</b> <u>PRIO-LIST</u>
              The  priority  to be used for traffic the priority of which is otherwise unspecified. The argument
              is a list of individual priorities. Note  that  <b>default-prio</b>  rules  are  configured  as  triplets
              (<b>EtherType</b>, <b>0</b>, <u>PRIO</u>).  <b>dcb</b> <b>app</b> translates these rules to the symbolic name <b>default-prio</b> and back.

       <b>ethtype-prio</b> <u>ET-MAP</u>
              <u>ET-MAP</u>  uses the array parameter syntax, see <b><a href="../man8/dcb.8.html">dcb</a></b>(8) for details. Keys are EtherType values. Values
              are priorities to be assigned to traffic with the matching EtherType.

       <b>stream-port-prio</b> <u>PORT-MAP</u>
       <b>dgram-port-prio</b> <u>PORT-MAP</u>
       <b>port-prio</b> <u>PORT-MAP</u>
              <u>PORT-MAP</u> uses the array parameter syntax, see <b><a href="../man8/dcb.8.html">dcb</a></b>(8) for details. Keys  are  L4  destination  port
              numbers  that  match  on,  respectively, TCP and SCTP traffic, UDP and DCCP traffic, and either of
              those. Values are priorities that should be assigned to matching traffic.

       <b>dscp-prio</b> <u>DSCP-MAP</u>
              <u>DSCP-MAP</u> uses the array parameter syntax, see <b><a href="../man8/dcb.8.html">dcb</a></b>(8) for details. Keys are DSCP points, values are
              priorities assigned to traffic with matching DSCP. DSCP points can be written either  directly  as
              numeric  values,  or using symbolic names specified in <b><a href="file:/etc/iproute2/rt_dsfield">/etc/iproute2/rt_dsfield</a></b> (however note that
              the file specifies full 8-bit dsfield values, whereas <b>dcb</b> <b>app</b> will only use the higher six  bits).
              <b>dcb</b>  <b>app</b>  <b>show</b>  will  similarly format DSCP values as symbolic names if possible. The command line
              option <b>-N</b> turns the show translation off.

       <b>pcp-prio</b> <u>PCP-MAP</u>
              <u>PCP-MAP</u> uses the array parameter syntax, see <b><a href="../man8/dcb.8.html">dcb</a></b>(8) for details.  Keys  are  PCP/DEI.  Values  are
              priorities  assigned to traffic with matching PCP/DEI. PCP/DEI values are written as a combination
              of numeric- and symbolic values, to accommodate for both. PCP always in numerical form e.g 0 ..  7
              and  DEI in symbolic form e.g 'de' (drop-eligible), indicating that the DEI bit is 1 or 'nd' (not-
              drop-eligible), indicating that the DEI bit is 0.  In combination 2de:1 translates to a mapping of
              PCP=2 and DEI=1 to priority 1.

</pre><h4><b>EXAMPLE</b> <b>&amp;</b> <b>USAGE</b></h4><pre>
       Prioritize traffic with DSCP 0 to priority 0, 24 to 3 and 48 to 6:

       # dcb app add dev eth0 dscp-prio 0:0 24:3 48:6

       Add another rule to configure DSCP 24 to priority 2 and show the result:

       # dcb app add dev eth0 dscp-prio 24:2
       # dcb app show dev eth0 dscp-prio
       dscp-prio 0:0 CS3:2 CS3:3 CS6:6
       # dcb -N app show dev eth0 dscp-prio
       dscp-prio 0:0 24:2 24:3 48:6

       Reconfigure the table so that the only rule for DSCP 24 is for assignment of priority 4:

       # dcb app replace dev eth0 dscp-prio 24:4
       # dcb app -N show dev eth0 dscp-prio
       dscp-prio 0:0 24:4 48:6

       Flush all DSCP rules:

       # dcb app flush dev eth0 dscp-prio
       # dcb app show dev eth0 dscp-prio
       (nothing)

       Add a rule to map traffic with PCP 1 and DEI 0 to priority 1 and PCP 2 and DEI 1 to priority 2:

       # dcb app add dev eth0 pcp-prio 1nd:1 2de:2
       # dcb app show dev eth0 pcp-prio
       pcp-prio 1nd:1 2de:2

</pre><h4><b>EXIT</b> <b>STATUS</b></h4><pre>
       Exit status is 0 if command was successful or a positive integer upon failure.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man8/dcb.8.html">dcb</a></b>(8)

</pre><h4><b>REPORTING</b> <b>BUGS</b></h4><pre>
       Report any bugs to the Network Developers mailing list <b>&lt;<a href="mailto:netdev@vger.kernel.org">netdev@vger.kernel.org</a>&gt;</b> where the development and
       maintenance is primarily done.  You do not have to be subscribed to the list to send a message there.

</pre><h4><b>AUTHOR</b></h4><pre>
       Petr Machata &lt;<a href="mailto:me@pmachata.org">me@pmachata.org</a>&gt;

iproute2                                         6 December 2020                                      <u><a href="../man8/DCB-APP.8.html">DCB-APP</a></u>(8)
</pre>
 </div>
</div></section>
</div>
</body>
</html>