<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>finit — Fast init for Linux systems</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/finit">finit_4.12-1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       finit — Fast init for Linux systems

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>/sbin/finit</b>     [--]    [debug]    [finit.cond=foo[,bar[,baz]]]    [finit.config=/path/to/alt/finit.conf]
                   [finit.debug]              [finit.fstab=/etc/fstab.alt]               [finit.status=&lt;on,off&gt;]
                   [finit.status_style=&lt;classic,modern&gt;] [loglevel=&lt;0-7&gt;] [panic=SEC] [quiet] [rescue | recover]
                   [single | S]
       <b><a href="file:/sbin/telinit">/sbin/telinit</a></b> [<b>-hv</b>] [q | Q | 0-9]

</pre><h4><b>DESCRIPTION</b></h4><pre>
       Fast  init  for  Linux  systems.   Reverse  engineered  from the EeePC fastinit, 10+ years ago by Claudio
       Matsuoka, "gaps filled with frog DNA ...".  Focus is on small and embedded  systems,  although  Finit  is
       fully usable on server and desktop systems as well.

       Features include:
       <b>•</b>  Runlevels, defined per service
       <b>•</b>  One-shot tasks, services (daemons), or SysV init start/stop scripts
       <b>•</b>  Runparts and <u>/etc/rc.local</u> support
       <b>•</b>  Process supervision similar to <u><a href="../man8/systemd.8.html">systemd</a></u>(8)
       <b>•</b>  Sourcing environment files
       <b>•</b>  Conditions for network/process/custom dependencies
       <b>•</b>  Process readiness notification for synchronizing system startup as well as reconfiguration at runtime.
          Natively PID files are used, but systemd <b>sd_notify()</b> and s6 notification is also supported.
       <b>•</b>  Limited support for <u><a href="../man5/tmpfiles.d.5.html">tmpfiles.d</a></u>(5), no aging, attributes, or subvolumes
       <b>•</b>  Pre/Post script actions
       <b>•</b>  Tooling to enable/disable services
       <b>•</b>  Built-in getty
       <b>•</b>  Built-in watchdog, with support for hand-over to <u>watchdogd</u>: https://troglobit.com/watchdogd.html
       <b>•</b>  Built-in support for Debian/BusyBox <u>/etc/network/interfaces</u>
       <b>•</b>  Cgroups v2, both configuration and monitoring in `initctl top`
       <b>•</b>  Plugin support for customization
       <b>•</b>  Proper rescue mode with bundled `sulogin` for protected maintenance shell

</pre><h4><b>BOOTPARAM</b></h4><pre>
       <b>finit</b>  support  the  following  command  line  parameters  to  alter the behavior at boot.  Notice the <b>--</b>
       separator needed to tell the kernel which paramters should be given to PID 1.  For  more  information  on
       this, and available kernel command line options, see <u><a href="../man7/bootparam.7.html">bootparam</a></u>(7).

             <b>debug</b>
                  Enable  kernel debug.  Debug messages are printed to the console until Finit starts up, unless
                  <b>loglevel=7</b> (below) is used.

             <b>finit.cond=foo[,bar[,baz]]</b>
                  set <b>&lt;boot/foo&gt;</b> condition, optionally multiple conditions can be set  using  the  same  option,
                  separated  with a comma.  Alternatively, multiple <b>foo.cond=arg</b> can be given.  Each will result
                  in a <b>&lt;boot/arg&gt;</b> condition being set to control the rest of the system bootstrap.

                  Very useful for selecting different boot modes, e.g. manufacturing test, firmware upgrade,  or
                  rescue mode.

                  <b>Note:</b> <b>&lt;boot/...&gt;</b> conditions cannot be cleared with <b>initctl</b>!

             <b>finit.config=/path/to/alternative/finit.conf</b>
                  override the compile-time bootstrap config file, default:

                  Useful  when  starting up in various rescue mode, factory, or production test setups.  Use the
                  top-level configuration file directive <b>rcsd</b> <u>/path/to/finit.d</u> to  override  the  default  rcS.d
                  directory.

             <b>finit.debug</b>
                  Enable  Finit  debug  messages  on  system console and log.  Sometimes useful when doing board
                  bringup.  Before the system log  daemon  has  started,  Finit  use  the  kernel  ring  buffer,
                  <u>/dev/kmsg</u>.

             <b>finit.fstab=/path/to/fstab.alt</b>
                  Tell  <b>finit</b> to use an alternate <b>fstab</b> to mount the file system from.  Remember, this file must
                  be on the <b>root=...</b> file system provided to Finit from the kernel.  If this  file  is  missing,
                  <b>finit</b>  falls  back  to  its  built-in  default,  which  can be changed at build time using the
                  <b>--with-fstab=/path/to/footab</b> configure option.  It is even possible to completely disable  the
                  built-in using <b>--without-fstab</b>, meaning <b>finit</b> <b>must</b> be started with the <b>finit.fstab</b> option.

                  Should  <b>finit</b>  discover  that  there  is  no  fstab file available, including the fallback, it
                  triggers the same failure mode as when <b>fsck</b> fails, starting <u><a href="../man8/sulogin.8.html">sulogin</a></u>(8), if that  is  availble.
                  When <b>sulogin</b> is missing, or when the user exits from <b>sulogin</b>, the system is rebooted.

                  Default fstab, unless changed at build-time: <u><a href="file:/etc/fstab">/etc/fstab</a></u>

             <b>finit.status=&lt;on,off&gt;</b>
                  Control  finit  boot  progress,  including  banner.  This used to be called <b>finit.show_status</b>,
                  which still works but is deprecated.

             <b>finit.status_style=&lt;classic,modern&gt;</b>
                  Set Finit boot progress style, when enabled.

             <b>loglevel=&lt;0-7&gt;</b>
                  set the kernel's log level, which is more granular than <b>debug</b>.  Also, when  <b>loglevel=7</b>,  Finit
                  will <u>not</u> <u>disable</u> kernel logs to the console.  This is very useful when debugging the kernel at
                  system bring-up.  Since <b>loglevel=7</b> is the same as <b>debug</b> this means you have to use <b>quiet</b> for a
                  quiet boot, until sysklogd takes over logging of kernel events.

             <b>panic=SEC</b>
                  By  default the kernel does not reboot after a kernel panic.  This setting will cause a kernel
                  reboot after <u>SEC</u> seconds.

             <b>quiet</b>
                  Suppress kernel logging to console, except for warnings and errors.  Also,  see  <b>loglevel</b>  and
                  <b>quiet</b> above.

             <b>rescue</b> | <b>recover</b>
                  Start  rescue/maintenance mode.  If your system comes with the bundled <b>sulogin</b> program (Finit,
                  or from util-linux/Busybox), you will be given a root login to a maintenance shell.   However,
                  if  <b>sulogin</b>  is  missing,  the  file <u>/lib/finit/rescue.conf</u> is read and the system booted in a
                  limited fallback mode.  See <u><a href="../man5/finit.conf.5.html">finit.conf</a></u>(5) for more information.

             <b>single</b> | <b>S</b>
                  Single user mode, runlevel 1, in Finit.  Useful to debug problems with the  regular  runlevel.
                  All  services  and TTYs in <b>[1]</b> will be started, e.g., a <b>tty</b> <b>[1]</b> <b>@console</b> <b>nologin</b> configuration
                  presents you with a root console without login.

                  <b>Note:</b> by definition, single user mode does not have networking enabled.  This is also true for
                  runlevel 1.

</pre><h4><b>BOOTING</b></h4><pre>
       Before laucnhing services, the system needs to be bootstrapped.  This involves mounting  all  filesystems
       (not  already  mounted  by an initramfs) in <u><a href="file:/etc/fstab">/etc/fstab</a></u>, or any alternate <u>fstab</u> file provided on the Finit
       command line using <b>finit.fstab</b>, ensuring that necessary filesystems like: <u><a href="file:/dev">/dev</a></u>, <u><a href="file:/proc">/proc</a></u>, <u><a href="file:/sys">/sys</a></u>, and <u><a href="file:/run">/run</a></u> are
       available and can provide the system with the services required.

       With that out of the way, a set of plugins take over:

             <b>bootmisc.so</b>  Cleans up stale files from previous boots and default directories are created in tmpfs
                          filesystems

             <b>modprobe.so</b>  Probes kernel modules required by the system

             <b>procps.so</b>    Set kernel variables from <u><a href="file:/etc/sysctl.conf">/etc/sysctl.conf</a></u> et al

       When the plugins are done, finit reads <u>/etc/finit.conf</u> and all other enabled services in  <u>/etc/finit.d/*</u>.
       First  all  services, run/tasks in runlevel S (bootStrap) are started, When all run/tasks have completed,
       Finit changes to the configured runlevel (default 2), Processes are started in  parallel,  in  dependency
       order according to their conditions.

       When  all  services  and run/tasks have been started, the console progress is disabled and all configured
       getty services are started.

</pre><h4><b>CONDITIONS</b></h4><pre>
       The condition subysystem in Finit was initially created to track PID files of daemons.  If service/task B
       requires service A to have started, Finit waits for the PID file  of  service  A  to  be  created/updated
       before  it  starts service B.  Conversely, if service A is stopped and its PID file removed, service B is
       also stopped.

       The following condition families are available today:

             <b>net</b>      Linux netlink events, e.g. net/route/default, net/eth0/up, and net/et0/running

             <b>pid</b>      PID files based on the service declaration <b>name:id</b>, gives the condition pid/name:id

             <b>service</b>  Tracks run/task/service state stansitions, including readiness.   E.g.,  <b>service/foo/ready</b>
                      can be used as a condition for service <b>bar</b>, provided <b>foo</b> properly signals its readiness to
                      Finit.

             <b>sys</b>      System conditions, e.g. sys/key/ctrlaltdel and sys/pwr/fail

             <b>usr</b>      User conditions, assert and deassert using <b>initctl</b> <b>cond</b> <b>[set|clr]</b> <b>foo</b>

</pre><h4><b>SIGNALS</b></h4><pre>
       PID  1 is the only process that by default blocks all signals.  Finit allows for the following signals to
       control operation, but recommends instead using the <u><a href="../man8/initctl.8.html">initctl</a></u>(8) tool.

       HUP   Tell <b>finit</b> to reload its configuration file(s), same as <b>initctl</b> <b>reload</b>

       USR1  Restart API (<b>initctl</b>) socket.

       USR2  Tell <b>finit</b> to perform a system shutdown, same as <b>initctl</b> <b>poweroff</b>

       TERM  Like SIGUSR2 but performs a reboot, same as <b>initctl</b> <b>reboot</b>

       INT   Sent from kernel when Ctrl-Alt-Del is pressed (on the console), this asserts the sys/key/ctrlaltdel
             condition, which can be used to start tasks or services

       PWR   Sent from a a power daemon on changes to UPS status, Finit asserts the sys/pwr/fail condition

</pre><h4><b>FILES</b></h4><pre>
       <u>/etc/finit.conf</u>                Main configuration file
       <u>/etc/finit.d/*.conf</u>            Static service definitions
       <u>/etc/finit.d/available/*.conf</u>  Available services
       <u>/etc/finit.d/enabled/*.conf</u>    Symlinks from available
       <u>/run/finit/</u>                    Runtime files, including the condition subsystem

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <u><a href="../man5/finit.conf.5.html">finit.conf</a></u>(5) <u><a href="../man8/initctl.8.html">initctl</a></u>(8) <u><a href="../man5/tmpfiles.d.5.html">tmpfiles.d</a></u>(5)

</pre><h4><b>AUTHORS</b></h4><pre>
       <b>finit</b> was conceived and reverse engineered by  Claudio  Matsuoka.   Since  v1.0,  maintained  by  Joachim
       Wiberg, with contributions by many others.

Linux                                             Apr 22, 2023                                          <u><a href="../man8/FINIT.8.html">FINIT</a></u>(8)
</pre>
 </div>
</div></section>
</div>
</body>
</html>