<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>xtables-nft — iptables using nftables kernel api</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/iptables">iptables_1.8.11-2ubuntu1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       xtables-nft — iptables using nftables kernel api

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>xtables-nft</b>  are  versions  of  iptables  that  use the nftables API.  This is a set of tools to help the
       system administrator migrate the ruleset from <b><a href="../man8/iptables.8.html">iptables</a>(8)</b>, <b><a href="../man8/ip6tables.8.html">ip6tables</a>(8)</b>, <b><a href="../man8/arptables.8.html">arptables</a>(8)</b>, and <b><a href="../man8/ebtables.8.html">ebtables</a>(8)</b> to
       <b><a href="../man8/nftables.8.html">nftables</a>(8)</b>.

       The <b>xtables-nft</b> set is composed of several commands:

       • iptables-nft

       • iptables-nft-save

       • iptables-nft-restore

       • ip6tables-nft

       • ip6tables-nft-save

       • ip6tables-nft-restore

       • arptables-nft

       • ebtables-nft

         These tools use the libxtables framework extensions and hook to the nf_tables  kernel  subsystem  using
         the <b>nft_compat</b> module.

</pre><h4><b>USAGE</b></h4><pre>
       The  xtables-nft  tools allow you to manage the nf_tables backend using the native syntax of <b><a href="../man8/iptables.8.html">iptables</a>(8)</b>,
       <b><a href="../man8/ip6tables.8.html">ip6tables</a>(8)</b>, <b><a href="../man8/arptables.8.html">arptables</a>(8)</b>, and <b><a href="../man8/ebtables.8.html">ebtables</a>(8)</b>.

       You should use the xtables-nft tools exactly the same way as you would  use  the  corresponding  original
       tools.

       Adding  a  rule  will result in that rule being added to the nf_tables kernel subsystem instead.  Listing
       the ruleset will use the nf_tables backend as well.

       When these tools were designed, the main idea was to replace each legacy binary with  a  symlink  to  the
       xtables-nft program, for example:

            <a href="file:/sbin/iptables">/sbin/iptables</a> -&gt; /usr/sbin/iptables-nft-multi
            <a href="file:/sbin/ip6tables">/sbin/ip6tables</a> -&gt; /usr/sbin/ip6tables-nft-multi
            <a href="file:/sbin/arptables">/sbin/arptables</a> -&gt; /usr/sbin/arptables-nft-multi
            <a href="file:/sbin/ebtables">/sbin/ebtables</a> -&gt; /usr/sbin/ebtables-nft-multi

       The  iptables  version  string will indicate whether the legacy API (get/setsockopt) or the new nf_tables
       api is used:
            iptables -V
            iptables v1.7 (nf_tables)

</pre><h4><b>DIFFERENCES</b> <b>TO</b> <b>LEGACY</b> <b>IPTABLES</b></h4><pre>
       Because the xtables-nft tools use the nf_tables kernel API,  rule  additions  and  deletions  are  always
       atomic.   Unlike  iptables-legacy, iptables-nft -A ..  will NOT need to retrieve the current ruleset from
       the kernel, change it, and re-load the altered ruleset.  Instead, iptables-nft will tell  the  kernel  to
       add one rule.  For this reason, the iptables-legacy --wait option is a no-op in iptables-nft.

       Use of the xtables-nft tools allow monitoring ruleset changes using the <b><a href="../man8/xtables-monitor.8.html">xtables-monitor</a>(8)</b> command.

       When  using  -j  TRACE  to  debug  packet  traversal  to  the  ruleset,  note  that  you will need to use
       <b><a href="../man8/xtables-monitor.8.html">xtables-monitor</a>(8)</b> in --trace mode to obtain monitoring trace events.

</pre><h4><b>EXAMPLES</b></h4><pre>
       One basic example is creating the skeleton ruleset in nf_tables from the xtables-nft tools,  in  a  fresh
       machine:

            root@machine:~# iptables-nft -L
            [...]
            root@machine:~# ip6tables-nft -L
            [...]
            root@machine:~# arptables-nft -L
            [...]
            root@machine:~# ebtables-nft -L
            [...]
            root@machine:~# nft list ruleset
            table ip filter {
                 chain INPUT {
                      type filter hook input priority 0; policy accept;
                 }

                 chain FORWARD {
                      type filter hook forward priority 0; policy accept;
                 }

                 chain OUTPUT {
                      type filter hook output priority 0; policy accept;
                 }
            }
            table ip6 filter {
                 chain INPUT {
                      type filter hook input priority 0; policy accept;
                 }

                 chain FORWARD {
                      type filter hook forward priority 0; policy accept;
                 }

                 chain OUTPUT {
                      type filter hook output priority 0; policy accept;
                 }
            }
            table bridge filter {
                 chain INPUT {
                      type filter hook input priority -200; policy accept;
                 }

                 chain FORWARD {
                      type filter hook forward priority -200; policy accept;
                 }

                 chain OUTPUT {
                      type filter hook output priority -200; policy accept;
                 }
            }
            table arp filter {
                 chain INPUT {
                      type filter hook input priority 0; policy accept;
                 }

                 chain FORWARD {
                      type filter hook forward priority 0; policy accept;
                 }

                 chain OUTPUT {
                      type filter hook output priority 0; policy accept;
                 }
            }

       (please  note  that  in  fresh  machines, listing the ruleset for the first time results in all tables an
       chain being created).

       To migrate your complete filter ruleset, in the case of <b><a href="../man8/iptables.8.html">iptables</a>(8)</b>, you would use:

            root@machine:~# iptables-legacy-save &gt; myruleset # reads from x_tables
            root@machine:~# iptables-nft-restore myruleset   # writes to nf_tables
       or
            root@machine:~# iptables-legacy-save | iptables-translate-restore | less

       to see how rules would look like in the nft <b><a href="../man8/nft.8.html">nft</a>(8)</b> syntax.

</pre><h4><b>LIMITATIONS</b></h4><pre>
       You should use <b>Linux</b> <b>kernel</b> <b>&gt;=</b> <b>4.17</b>.

       The CLUSTERIP target is not supported.

       To get up-to-date information about this, please head to <b><a href="http://wiki.nftables.org/">http://wiki.nftables.org/</a></b>.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man8/nft.8.html">nft</a>(8)</b>, <b><a href="../man8/xtables-translate.8.html">xtables-translate</a>(8)</b>, <b><a href="../man8/xtables-monitor.8.html">xtables-monitor</a>(8)</b>

</pre><h4><b>AUTHORS</b></h4><pre>
       The nftables framework is written by the Netfilter project (https://www.netfilter.org).

       This manual page was written by Arturo Borrero Gonzalez &lt;<a href="mailto:arturo@debian.org">arturo@debian.org</a>&gt; for the Debian  project,  but
       may be used by others.

       This documentation is free/libre under the terms of the GPLv2+.

                                                    June 2018                                     <u><a href="../man8/XTABLES-NFT.8.html">XTABLES-NFT</a></u>(8)
</pre>
 </div>
</div></section>
</div>
</body>
</html>