<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>update-service - add/remove a service to/from system-wide service supervision</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/runit">runit_2.2.0-3ubuntu1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       update-service - add/remove a service to/from system-wide service supervision

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>update-service</b> --add|--remove <u>service-directory</u> [<u>service-name</u><b>]</b>

       <b>update-service</b> defaults| defaults-disabled <u>service-directory</u> [<u>service-name</u><b>]</b>

       <b>update-service</b> --list|--check [<u>service-name</u><b>]</b>

       <b>update-service</b> --auto|--noauto <u>service-directory</u>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <u>service-directory</u> must be a directory to be used by <b><a href="../man8/runsv.8.html">runsv</a></b>(8), <u>service-name</u> must not start with a dot, and
       must not contain a slash.

       <b>update-service</b>  adds  or  removes  the  <u>service-directory</u> to the system-wide service supervision provided
       through runit 's <b><a href="../man8/runsvdir.8.html">runsvdir</a></b>(8), lists all  registered  system-wide  services,  or  checks  for  a  specific
       <u>service-name</u> whether it is registered.

       When  adding  a  service,  and the <u>service-directory</u> resides in <a href="file:/etc/">/etc/</a>, <b>update-service</b> makes sure that the
       ./supervise/ subdirectories in  the  <u>service-directory</u>,  and  the  optional  <u>service-directory</u>/log/,  are
       symbolic links pointing into /var/lib/supervise/, unless they already are symbolic links.

</pre><h4><b>OPTIONS</b></h4><pre>
       <b>--add</b> <b>|</b> <b>-a</b> <b>|</b> <b>enable</b>
              Add the service directory <u>service-directory</u> to the system-wide service supervision, under the name
              <u>service-name</u>.   If <u>service-name</u> is not specified, <b>update-service</b> will use the basename of <u>service-</u>
              <u>directory</u>.  You can use the <b><a href="../man8/sv.8.html">sv</a></b>(8) program to control the newly added service, or query its status,
              e.g.:

              # sv status <u>service-name</u>

       <b>--remove</b> <b>|</b> <b>-r</b> <b>|</b> <b>disable</b>
              Remove the service directory <u>service-directory</u>, which has been added under the name  <u>service-name</u>,
              from  the  system-wide service supervision.  If <u>service-name</u> is not specified, <b>update-service</b> will
              use the basename of <u>service-directory</u>.  When removing the <u>service-directory</u>, the <u>exit</u>  command  is
              sent  to  the  corresponding  <b><a href="../man8/runsv.8.html">runsv</a></b>(8)  process,  telling  it  to  take  the service down and exit
              afterwards.  You can use the <b><a href="../man8/sv.8.html">sv</a></b>(8) program to control the removed service, or  query  its  status,
              e.g.:

              # sv status <u>service-directory</u>

              When  the  service directory <u>service-directory</u> is removed, the service <u>service-name</u> will be marked
              as disabled by creating a <u>.service-name</u> symlink. This will  prevent  tools  like  <b><a href="../man1/dh_runit.1.html">dh_runit</a></b>(1)  and
              runit-helper  from  auto-enabling  <u>service-name</u>  at  install  or upgrade of the package that ships
              <u>service-directory</u>.  The <u>.service-name</u> symlink will be removed as the  <u>service-directory</u>  is  added
              again  to  the system-wide service supervision or when the package that ships <u>service-directory</u> is
              purged.

       <b>defaults</b> <b>|</b> <b>defaults-disabled</b>
              Respectively the same as enable | disable, but the command checks and make sure  to  not  override
              any  local  settings.  These commands are policy compliant and are supposed to be run only in dpkg
              maintaner scripts. The local admin should use enable | disable instead.

       <b>--list</b> <b>|</b> <b>-l</b>
              If <u>service-name</u> is specified, <b>update-service</b> checks whether <u>service-name</u> is registered as  system-
              wide  service,  prints  a  message  and  exits non-zero if not, or prints the <u>service-name</u> and the
              directory it points to and exits zero if yes.  If <u>service-name</u> is not  specified,  it  prints  the
              names of all system-widely registered services, one per line.

       <b>--check</b> <b>|</b> <b>-c</b>
              The same as --list, but <b>update-service</b> doesn't print anything to standard out or standard error.

       <b>--auto</b> <b>|</b> <b>-u</b>
              Remove  the  down  file,  if  any,  from  the  directory <u>service-directory</u>.  This way, the service
              represented by the <u>service-directory</u> will be started and monitored as soon as a runsv  process  is
              started  for  that  directory;  the  requested  status  of  the service will be 'up'.  This is the
              default.  If <u>service-name</u> is given, will be  ignored  as  <b>--auto</b>  directly  act  on  the  <u>service-</u>
              <u>directory</u> and thus only takes <u>service-directory</u> as argument.

       <b>--noauto</b> <b>|</b> <b>-n</b>
              Touch  a  down  file  into  the  <u>service-directory</u>.   This way the service represented by <u>service-</u>
              <u>directory</u> will not be automatically started when a runsv process is started  for  that  directory.
              The  requested  status  of  the  service will be 'down'.  A service set to <b>--noauto</b> does not start
              automatically at boot or when a <b><a href="../man8/runsvchdir.8.html">runsvchdir</a></b>(8) takes place, but can  still  be  started  using  the
              <b><a href="../man8/sv.8.html">sv</a></b>(8) program, e.g.:

              # sv up <u>service-name</u>

              If  <u>service-name</u>  is  given, will be ignored as <b>--noauto</b> directly act on the <u>service-directory</u> and
              thus only takes <u>service-directory</u> as argument.

</pre><h4><b>ENVIRONMENT</b></h4><pre>
       <b>SVDIR</b>  The environment variable $SVDIR overrides the default services directory <u>/etc/service/</u>.

</pre><h4><b>FILES</b></h4><pre>
       /etc/service/

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <a href="../man8/sv.8.html">sv</a>(8), <a href="../man8/runsv.8.html">runsv</a>(8), <a href="../man8/runsvdir.8.html">runsvdir</a>(8)

       <a href="http://smarden.org/runit/">http://smarden.org/runit/</a>

</pre><h4><b>AUTHOR</b></h4><pre>
       Gerrit Pape &lt;<a href="mailto:pape@smarden.org">pape@smarden.org</a>&gt;

                                                                                               <u><a href="../man8/update-service.8.html">update-service</a></u>(8)
</pre>
 </div>
</div></section>
</div>
</body>
</html>