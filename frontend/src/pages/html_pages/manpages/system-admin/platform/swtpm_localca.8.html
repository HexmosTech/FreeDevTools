<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>swtpm_localca  - Local CA to create EK and platform certs for swtpm</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/swtpm-tools">swtpm-tools_0.7.3-0ubuntu8_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       swtpm_localca  - Local CA to create EK and platform certs for swtpm

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>swtpm_localca</b> <b>[OPTIONS]</b>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>swtpm_localca</b> is a tool to create TPM Endorsement Key (EK) and platform certificates on the host. It uses
       the <u>swtpm_cert</u> program to create the certificates.

       The program will typically be invoked by the <u>swtpm_setup</u> program that uses the <u>/etc/swtpm_setup.conf</u>
       configuration file where a variable needs to be set that points to this program.  It implements command
       line options that the <u>swtpm_setup</u> program uses to provide the necessary parameters to it.

       <b>swtpm_localca</b> will automatically try to create the signing key and certificate if the configuration
       points to a missing signing key.  Since this certificate must be signed by a CA, a root certificate
       authority will also be created and will sign this certificate. The root CA's private key and certificate
       will be located in the same directory as the signing key and have the names
       swtpm-localca-rootca-privkey.pem and swtpm-localca-rootca-cert.pem respectively. The environment variable
       SWTPM_ROOTCA_PASSWORD can be set for the password of the root CA's private key.

       The following options are supported:

       <b>--type</b> <b>type</b>
           This  parameter  indicates  the  type  of certificate to create. The type parameter may be one of the
           following: <u>ek</u>, or <u>platform</u>

       <b>--dir</b> <b>dir</b>
           This parameter indicates the  directory  into  which  the  certificate  is  to  be  stored.   The  EK
           certificate is stored in this directory under the name ek.cert and the platform certificate under the
           name platform.cert.

       <b>--ek</b> <b>ek</b>
           This parameter indicates the modulus of the public key of the endorsement key (EK). The public key is
           provided as a sequence of ASCII hex digits.

           In  case  ECC  (elliptic  curve  crypography)  keys are used, the parameter must have the format --ek
           x=&lt;hex digits&gt;,y=&lt;hex digits&gt;,id=&lt;curve id&gt;. The id=&lt;curve id&gt; part is optional  and  only  necessary
           for ECC curves other than secp256r1.

       <b>--vmid</b> <b>ID</b>
           This parameter indicates the ID of the VM for which to create the certificate.

       <b>--logfile</b> <b>&lt;logfile</b>&gt;
           The log file to log output to; by default logging goes to stdout and stderr on the console.

       <b>--configfile</b> <b>&lt;configuration</b> <b>file</b>&gt;
           The  configuration  file  to  use. If omitted, the default configuration file <u>/etc/swtpm-localca.conf</u>
           will be used.

       <b>--optsfile</b> <b>&lt;options</b> <b>file</b>&gt;
           The options file to use. If omitted, the default  options  file  <u>/etc/swtpm-localca.options</u>  will  be
           used.

       <b>--tpm-spec-family</b>, <b>--tpm-spec-revision</b>, <b>--tpm-spec-level</b>
           TPM  specification  parameters  that  describe  the  specification  that  was  followed  for  the TPM
           implementation. The parameters will be passed to swtpm_cert for the creation of the EK certificate.

       <b>--tpm2</b>
           Create TPM 2 compliant certificates.

       <b>--allow-signing</b>
           Create an EK that can also be used for signing. Without this option, the EK can only be used for  key
           encipherment. This option requires --tpm2.

       <b>--decryption</b>
           If --allow-signing is passed and the EK should also be useable for key encipherment, this option must
           be passed. Otherwise key encipherment is the default. This option requires --tpm2.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b>swtpm-localca.conf</b>, <b>swtpm-localca.options</b>, <b>swtpm_setup</b>, <b>swtpm_setup.conf</b>

</pre><h4><b>REPORTING</b> <b>BUGS</b></h4><pre>
       Report bugs to Stefan Berger &lt;<a href="mailto:stefanb@linux.vnet.ibm.com">stefanb@linux.vnet.ibm.com</a>&gt;

swtpm                                              2024-11-08                                   <u><a href="../man8/swtpm_localca.8.html">swtpm_localca</a></u>(8)
</pre>
 </div>
</div></section>
</div>
</body>
</html>