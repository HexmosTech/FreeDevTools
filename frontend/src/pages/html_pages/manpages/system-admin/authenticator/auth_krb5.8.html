<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>auth_krb5 - nnrpd Kerberos v5 authenticator</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/inn2">inn2_2.7.3-1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       auth_krb5 - nnrpd Kerberos v5 authenticator

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>auth_krb5</b> [<b>-i</b> <u>instance</u>]

</pre><h4><b>DESCRIPTION</b></h4><pre>
       This program does authentication for <b>nnrpd</b> against a Kerberos v5 KDC.  This is NOT real Kerberos
       authentication using service tickets; instead, a username and password is used to attempt to obtain a
       Kerberos v5 TGT to confirm that they are valid.  As such, this authenticator assumes that <b>nnrpd</b> has been
       given the user's username and password, and therefore is not as secure as real Kerberos authentication.
       It generally should only be used with NNTP over TLS to protect the password from sniffing.

       Normally, you do not want to use this authenticator.  Instead, use <b>ckpasswd</b> with PAM support and
       configure the <b>nnrpd</b> PAM stack to use a Kerberos PAM module.  A full Kerberos PAM module is more
       sophisticated about how it validates passwords and has a much broader array of options than this
       authenticator.

</pre><h4><b>OPTIONS</b></h4><pre>
       <b>-i</b> <u>instance</u>
           If  this  option is given, <u>instance</u> will be used as the instance of the principal received from <b>nnrpd</b>
           and authentication will be done against that principal instead  of  the  base  principal.   In  other
           words,  a principal like "user", when passed to <b>auth_krb5</b> invoked with "-i nntp", will be transformed
           into "user/nntp" before attempting Kerberos authentication.

           Since giving one's password to <b>nnrpd</b> is not as secure as normal Kerberos authentication, this  option
           supports  a  configuration where all users are given a separate instance just for news authentication
           with its own password, so their regular account password isn't exposed via NNTP.

</pre><h4><b>EXAMPLE</b></h4><pre>
       The following <a href="../man5/readers.conf.5.html">readers.conf</a>(5) fragment  tells  nnrpd  to  authenticate  users  by  attempting  to  obtain
       Kerberos v5 TGTs for them, appending an instance of "nntp" to usernames before doing so:

           auth kerberos {
               auth: "auth_krb5 -i nntp"
           }

           access kerberos {
               users: "*/nntp"
               newsgroups: example.*
           }

       Access is granted to the example.* groups for all users who successfully authenticate.

</pre><h4><b>BUGS</b></h4><pre>
       Currently,  any  username  containing realm information (containing "@") is rejected.  This is to prevent
       someone from passing in a username corresponding to a principal in another realm that they have access to
       and gaining access to the news server via it.  However, this is also something that people may wish to do
       under some circumstances, so there should be a better way of handling it (such as,  perhaps,  a  list  of
       acceptable realms or a <b>-r</b> flag specifying the realm in which to attempt authentication).

       It's  not  clear  the right thing to do when the username passed in contains a "/" and <b>-i</b> was also given.
       Right now, <b>auth_krb5</b> will create a malformed Kerberos principal with multiple instances  and  attempt  to
       authenticate against it, which will fail but perhaps not with the best error message.

</pre><h4><b>HISTORY</b></h4><pre>
       Originally   written  by  Christopher  P. Lindsey.   This  documentation  was  written  by  Russ  Allbery
       &lt;<a href="mailto:eagle@eyrie.org">eagle@eyrie.org</a>&gt; based on Christopher's original <u>README</u> file.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <a href="../man8/ckpasswd.8.html">ckpasswd</a>(8), <a href="../man8/nnrpd.8.html">nnrpd</a>(8), <a href="../man5/readers.conf.5.html">readers.conf</a>(5).

INN 2.7.3                                          2025-05-19                                       <u><a href="../man8/AUTH_KRB5.8.html">AUTH_KRB5</a></u>(8)
</pre>
 </div>
</div></section>
</div>
</body>
</html>