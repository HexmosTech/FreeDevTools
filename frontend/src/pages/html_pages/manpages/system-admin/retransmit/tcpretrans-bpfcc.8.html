<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>tcpretrans - Trace or count TCP retransmits and TLPs. Uses Linux eBPF/bcc.</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/bpfcc-tools">bpfcc-tools_0.31.0+ds-7ubuntu2_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       tcpretrans - Trace or count TCP retransmits and TLPs. Uses Linux eBPF/bcc.

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>tcpretrans</b> <b>[-h]</b> <b>[-s]</b> <b>[-l]</b> <b>[-c]</b> <b>[-4</b> <b>|</b> <b>-6]</b>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       This  traces  TCP  retransmits,  showing  address, port, and TCP state information, and sometimes the PID
       (although usually not, since retransmits are usually sent by the kernel on timeouts).  To  keep  overhead
       very low, only the TCP retransmit functions are traced. This does not trace every packet (like <a href="../man8/tcpdump.8.html">tcpdump</a>(8)
       or  a  packet  sniffer).  Optionally,  it  can  count  retransmits over a user signalled interval to spot
       potentially dropping network paths the flows are traversing.

       This uses dynamic tracing of the kernel tcp_retransmit_skb()  and  tcp_send_loss_probe()  functions,  and
       will need to be updated to match kernel changes to these functions.

       Since this uses BPF, only the root user can use this tool.

</pre><h4><b>REQUIREMENTS</b></h4><pre>
       CONFIG_BPF and bcc.

</pre><h4><b>OPTIONS</b></h4><pre>
       -h     Print usage message.

       -s     Display TCP sequence numbers.

       -l     Include tail loss probe attempts (in some cases the kernel may not complete the TLP send).

       -c     Count occurring retransmits per flow.

       -4     Trace IPv4 family only.

       -6     Trace IPv6 family only.

</pre><h4><b>EXAMPLES</b></h4><pre>
       Trace TCP retransmits:
              # <b>tcpretrans</b>

       Trace TCP retransmits and TLP attempts:
              # <b>tcpretrans</b> <b>-l</b>

       Trace IPv4 family only:
              # <b>tcpretrans</b> <b>-4</b>

       Trace IPv6 family only:
              # <b>tcpretrans</b> <b>-6</b>

</pre><h4><b>FIELDS</b></h4><pre>
       TIME   Time of the retransmit.

       PID    Process  ID  that was on-CPU. This is less useful than it might sound, as it may usually be 0, for
              the kernel, for timer-based retransmits.

       IP     IP address family (4 or 6).

       LADDR  Local IP address.

       LPORT  Local port.

       T&gt;     Type of event: R&gt; == retransmit, L&gt; == tail loss probe.

       RADDR  Remote IP address.

       RPORT  Remote port.

       STATE  TCP session state.

       SEQ    TCP sequence.

       RETRANSMITS
              Accumulated occurred retransmits since start.

</pre><h4><b>OVERHEAD</b></h4><pre>
       Should be negligible: TCP retransmit events should be low (&lt;1000/s), and the low overhead this tool  adds
       to each event should make the cost negligible.

</pre><h4><b>SOURCE</b></h4><pre>
       This is from bcc.

              https://github.com/iovisor/bcc

       Also  look  in  the bcc distribution for a companion _examples.txt file containing example usage, output,
       and commentary for this tool.

</pre><h4><b>OS</b></h4><pre>
       Linux

</pre><h4><b>STABILITY</b></h4><pre>
       Unstable - in development.

</pre><h4><b>AUTHOR</b></h4><pre>
       Brendan Gregg

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <a href="../man8/tcpconnect.8.html">tcpconnect</a>(8), <a href="../man8/tcpaccept.8.html">tcpaccept</a>(8)

USER COMMANDS                                      2016-02-14                                      <u><a href="../man8/tcpretrans.8.html">tcpretrans</a></u>(8)
</pre>
 </div>
</div></section>
</div>
</body>
</html>