<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>amfetchdump - extract backup images from multiple Amanda tapes.</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/amanda-common">amanda-common_3.5.4-2_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       amfetchdump - extract backup images from multiple Amanda tapes.

</pre><h4><b>SYNOPSIS</b></h4><pre>

       <b>amfetchdump</b> [-c | -C | -l] [-p | -n] [-a] [-O <u>directory</u>] [-d <u>device</u>] [-h | --header-file <u>filename</u> |
                   --header-fd <u>fd</u>] [--release-tapes | --reserve-tapes] [--decompress | --no-decompress |
                   --server-decompress | --client-decompress]
                   [{--extract | --extract-client=<u>HOSTNAME</u>} --target <u>target</u> [--data-path <u>amanda|directtcp</u>] [--run-client-scripts] [--prev-level <u>level</u>] [--next-level <u>level</u>] [--application-property <u>NAME=VALUE</u>]* [--include-file <u>file</u>]* [--include-list <u>filename</u>]* [--include-list-glob <u>filename</u>]* [--exclude-file <u>file</u>]* [--exclude-list <u>filename</u>]* [--exclude-list-glob <u>filename</u>]*]
                   [--init] [--restore] [--decrypt | --no-decrypt | --server-decrypt | --client-decrypt]
                   [--exact_match] [<b>-o</b> <u>configoption</u>...] <u>config</u> <u>hostname</u>
                   [<u>disk</u> [ <u>date</u> [ <u>level</u> [ <u>hostname</u> [...] ] ] ]]

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>Amfetchdump</b> pulls one or more matching dumps from tape or from the holding disk, handling the reassembly
       of multi-tape split dump files as well as any tape autochanger operations. The dump are by default
       decompressed and decrypted.

       It will automatically use the Amanda catalog to locate available dumps on tape, in the same way that the
       <b>find</b> feature of <b><a href="../man8/amadmin.8.html">amadmin</a></b>(8) lists available dumps.

       The <u>hostname</u>, <u>diskname</u>, <u>datestamp</u>, and <u>level</u> dump specifications are further described in <b><a href="../man7/amandamatch.7.html">amanda-</a></b>
       <b><a href="../man7/amandamatch.7.html">match</a></b>(7). Note that at minimum a <u>hostname</u> must be specified.

       Unless <b>-p</b> is used, backup images are extracted to files in the current directory named:

       <u>hostname.diskname.datestamp.dumplevel</u>

       If a changer error occurs, or the <b>-d</b> option is given, then amfetchdump prompts for each required volume.

</pre><h4><b>OPTIONS</b></h4><pre>
       <b>-p</b>
           Pipe exactly one complete dump file to <u>stdout</u>, instead of writing the file to disk. This will restore
           only the first matching dumpfile (where "first" is determined by the dump log search facility).

       <b>-h</b>
           Output the amanda header as a 32K block to same output as the image.

       <b>--header-fd</b> <u>fd</u>
           Output the amanda header to the numbered file descriptor.

       <b>--header-file</b> <u>filename</u>
           Output the amanda header to the filename.

       <b>-d</b> <u>device_or_changer</u>
           Restore from this device or changer instead of the default, prompting for each volume.

       <b>-O</b> <u>directory</u>
           Output restored files to this directory, instead of to the current working directory.

       <b>-c</b>
           Compress output, fastest method available.

       <b>-C</b>
           Compress output, smallest file size method available.

       <b>--decompress</b>
           Always do the decompression, this is the default.

       <b>--no-decompress</b>
           Never do the decompression.

       <b>--server-decompress</b>
           Do the decompression only if the compression was done on the server.

       <b>--client-decompress</b>
           Do the decompression only if the compression was done on the client.

       <b>--decrypt</b>
           Always do the decryption, this is the default.

       <b>--no-decrypt</b>
           Never do the decryption.

       <b>--server-decrypt</b>
           Do the decryption only if the encryption was done on the server.

       <b>--client-decrypt</b>
           Do the decryption only if the encryption was done on the client.

       <b>--init</b>
           Prepare for a restore, some device require it for faster restore.

       <b>--no-restore</b>
           Do not start the restore, useful with --init.

       <b>--exact-match</b>
           The host and disk are parsed as exact values

       <b>--extract</b>
           Extract the backup on the server in the <u>target</u> path.

       <b>--directory</b> <u>directory</u>
           Deprecated, use --target

       <b>--target</b> <u>target</u>
           Where to extract the backup with the <b>--extract</b> option.

           Warning: All files in that path can be removed.

       <b>--data-path</b> amanda|directtcp
           The data path to use with <b>--extract</b>, the default is to use the fatest data path.

       <b>--run-client-scripts</b>
           Run the client script if it is set.

       <b>--prev-level</b> <u>level</u>
           The previous level that was restored for this dle. If not set, run the pre-recover script. If set,
           run the inter-level-recover script.

       <b>--next-level</b> <u>level</u>
           The next level we will restore for this dle. If not set, run the post-recover script.

       <b>--application-property</b> <u>NAME=VALUE</u>
           Application property to send to the application with <b>--extract.</b>

       <b>--include-file</b> <u>file</u>
           The name of a file to restore.

       <b>--include-list</b> <u>filename</u>
           The name of a file containing file to restore.

       <b>--include-list-glob</b> <u>filename</u>
           The name of a file containing file to restore using --include-list-glob of the application.

       <b>--exclude-file</b> <u>file</u>
           The name of a file to exclude from the restore list.

       <b>--exclude-list</b> <u>filename</u>
           The name of a file containing file to exclude from the restore list.

       <b>--exclude-list-glob</b> <u>filename</u>
           The name of a file containing file to exclude from the restore list using --exclude-list-glob of the
           application.

       <b>--release-tapes</b>
           Release the tapes already reserved for the restore.

       <b>--reserve-tapes</b>
           Reserve the tapes needed for the restore.

       <b>-l</b>
           Leave dumps in the compressed/uncompressed and encrypted/unencrypted state in which they were found
           on tape. It is a synonym for <b>--no-decompression</b> and <b>--no-decryption</b>

       <b>-a</b>
           Assume that all tapes are already available, via tape changer or otherwise, instead of prompting the
           operator to ensure that all tapes are loaded.

       <b>-n</b>
           Do not reassemble split dump files at all, just restore each piece as an individual file.

       <b>-o</b> <u>configoption</u>
           See the "<b>CONFIGURATION</b> <b>OVERRIDE</b>" section in <b><a href="../man8/amanda.8.html">amanda</a></b>(8).

</pre><h4><b>EXAMPLES</b></h4><pre>
       All the examples here assume your configuration is called <u>SetA</u>.

       Here's a simple case, restoring all known dumps of the host vanya to the current working directory.
       $ amfetchdump SetA vanya

       A more likely scenario involves restoring a particular dump from a particular date. We'll pipe this one
       to <b>GNU-tar</b> as well, to automatically extract the dump.
       $ amfetchdump -p SetA vanya <a href="file:/home">/home</a> 20051020 | gtar -xvpf -

</pre><h4><b>CAVEATS</b></h4><pre>
       <b>Amfetchdump</b> is dependent on accessing your server's config, tape changer, and (normally) dump logs. As
       such, it's not necessarily the most useful tool when those have all been wiped out and you desperately
       need to pull things from your tape. Pains have been taken to make it as capable as possible, but for
       seriously minimialist restores, look to <b><a href="../man8/amrestore.8.html">amrestore</a></b>(8) or <b><a href="../man8/dd.8.html">dd</a></b>(8) instead.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man8/amanda.8.html">amanda</a></b>(8), <b><a href="../man7/amanda-match.7.html">amanda-match</a></b>(7), <b><a href="../man8/amadmin.8.html">amadmin</a></b>(8), <b><a href="../man8/amrestore.8.html">amrestore</a></b>(8)

       The Amanda Wiki: : <a href="http://wiki.zmanda.com/">http://wiki.zmanda.com/</a>

</pre><h4><b>AUTHORS</b></h4><pre>
       <b>John</b> <b>Stange</b> &lt;<a href="mailto:building@nap.edu">building@nap.edu</a>&gt;
           National Academies Press

       <b>Ian</b> <b>Turner</b> &lt;<a href="mailto:ian@zmanda.com">ian@zmanda.com</a>&gt;
           Zmanda, Inc. (<a href="http://www.zmanda.com">http://www.zmanda.com</a>)

Amanda 3.5.4                                       01/25/2025                                     <u><a href="../man8/AMFETCHDUMP.8.html">AMFETCHDUMP</a></u>(8)
</pre>
 </div>
</div></section>
</div>
</body>
</html>