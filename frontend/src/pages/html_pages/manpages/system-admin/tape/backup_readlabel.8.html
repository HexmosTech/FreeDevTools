<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>backup_readlabel - Reads and displays a tape's label</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/openafs-client">openafs-client_1.8.13.2-1ubuntu1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       backup_readlabel - Reads and displays a tape's label

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>backup</b> <b>readlabel</b> [<b>-portoffset</b> &lt;<u>TC</u> <u>port</u> <u>offset</u>&gt;]
           [<b>-localauth</b>] [<b>-cell</b> &lt;<u>cell</u> <u>name</u>&gt;] [<b>-help</b>]

       <b>backup</b> <b>rea</b> [<b>-p</b> &lt;<u>TC</u> <u>port</u> <u>offset</u>&gt;]
           [<b>-l</b>] [<b>-c</b> &lt;<u>cell</u> <u>name</u>&gt;] [<b>-h</b>]

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The <b>backup</b> <b>readlabel</b> command displays information from the magnetic tape label of a tape. The information
       includes the tape's name (either a <u>permanent</u> <u>name</u>, or an <u>AFS</u> <u>tape</u> <u>name</u> that reflects the tape's contents
       in a prescribed format) and its capacity.

       If the "FILE YES" instruction appears in the <u>/var/lib/openafs/backup/CFG_device_name</u> file associated with
       the specified port offset, then the <b>backup</b> <b>readlabel</b> command reads the label information from the first
       16 KB block in the backup data file listed for that port offset in the Tape Coordinator's
       <u>/var/lib/openafs/backup/tapeconfig</u> file, rather than from the beginning of a tape.

       The Tape Coordinator's default response to this command is to access the tape by invoking the "MOUNT"
       instruction in the local <u>/var/lib/openafs/backup/CFG_device_name</u> file, or by prompting the backup
       operator to insert the tape if there is no "MOUNT" instruction. However, if the "AUTOQUERY NO"
       instruction appears in the <u>CFG_device_name</u> file, or if the issuer of the <b>butc</b> command included the
       <b>-noautoquery</b> flag, the Tape Coordinator instead expects the tape to be in the device already.  If it is
       not, the Tape Coordinator invokes the "MOUNT" instruction or prompts the operator.

</pre><h4><b>OPTIONS</b></h4><pre>
       <b>-portoffset</b> &lt;<u>TC</u> <u>port</u> <u>offset</u>&gt;
           Specifies the port offset number of the Tape Coordinator handling the tapes for this operation.

       <b>-localauth</b>
           Constructs  a  server  ticket using a key from the local <u>/etc/openafs/server/KeyFile</u> file. The <b>backup</b>
           command interpreter presents it to the Backup Server, Volume  Server  and  VL  Server  during  mutual
           authentication. Do not combine this flag with the <b>-cell</b> argument. For more details, see <b><a href="../man8/backup.8.html">backup</a></b>(8).

       <b>-cell</b> &lt;<u>cell</u> <u>name</u>&gt;
           Names  the  cell  in which to run the command. Do not combine this argument with the <b>-localauth</b> flag.
           For more details, see <b><a href="../man8/backup.8.html">backup</a></b>(8).

       <b>-help</b>
           Prints the online help for this command. All other valid options are ignored.

</pre><h4><b>OUTPUT</b></h4><pre>
       Output from this command appears in both the shell window where the command is issued, and  in  the  Tape
       Coordinator window.

       If the tape is unlabeled or if the specified tape device is empty, the output reads

          Failed to read tape label.

       Otherwise, the output in the shell window has the following format:

          Tape read was labelled: &lt;tape name&gt; (&lt;dump id&gt;)
               size: &lt;size&gt; Kbytes

       where  &lt;tape  name&gt;  is the permanent name if the tape has one, or the AFS tape name otherwise. The &lt;dump
       ID&gt; is dump ID of the initial dump on the tape, and &lt;size&gt; is  the  recorded  capacity  of  the  tape  in
       kilobytes.

       The  output  in  the Tape Coordinator windows is bounded by an underlined "Tape label" header at the top,
       and the following string at the bottom:

          -- End of tape label --

       In between are lines reporting the following information:

       tape name
           The permanent name assigned by using the -pname argument of the <b>backup</b> <b>labeltape</b> command.  This  name
           remains  on the tape until that argument is used again, no matter how many times the tape is recycled
           or otherwise relabeled. If the tape does not have a permanent name, the  value  "&lt;NULL&gt;"  appears  in
           this field.

       AFS tape name
           A  tape  name  in one of the following prescribed formats. The Backup System automatically writes the
           appropriate AFS tape name to the label as part of a <b>backup</b> <b>dump</b> or <b>backup</b> <b>savedb</b>  operation,  or  the
           operator can assign it with the <b>-name</b> argument to the <b>backup</b> <b>labeltape</b> command.

           •   <u>volume_set_name</u><b>.</b><u>dump_level_name</u>.<u>tape_index</u>, if the tape contains volume data. The <u>volume_set_name</u>
               is  the  name  of the volume set that was dumped to create the initial dump in the dump set of to
               which this tape belongs; <u>dump_level_name</u> is the last pathname element of the dump level at  which
               the  initial dump was backed up; and <u>tape_index</u> is the numerical position of the tape in the dump
               set.

           •   "Ubik.db.dump."<u>tape_index</u> if the tape contains a dump of the Backup Database,  created  with  the
               <b>backup</b> <b>savedb</b> command. The <u>tape_index</u> is the ordinal of the tape in the dump set.

           •   "&lt;NULL&gt;"  if  the  tape has no AFS tape name. This is normally the case if the <b>-name</b> argument was
               not included the last time the <b>backup</b> <b>labeltape</b> command was used on this tape, and  no  data  has
               been written to it since.

       creationTime
           The  date  and time at which the Backup System started performing the dump operation that created the
           initial dump.

       cell
           The cell in which the dump set was created. This is the cell whose Backup Database contains a  record
           of the dump set.

       size
           The  tape's  capacity  (in kilobytes) as recorded on the label, rather than the amount of data on the
           tape. The value is assigned by the <b>-size</b> argument to the <b>backup</b> <b>labeltape</b> command or derived from the
           <u>/var/lib/openafs/backup/tapeconfig</u> file on the Tape Coordinator machine, not from  a  measurement  of
           the tape.

       dump path
           The dump level of the initial dump in the dump set.

       dump id
           The dump ID number of the initial dump in the dump set, as recorded in the Backup Database.

       useCount
           The number of times a dump has been written to the tape, or it has been relabeled.

       The message "ReadLabel: Finished" indicates the completion of the output.

</pre><h4><b>EXAMPLES</b></h4><pre>
       The  following  example shows the output for the tape with permanent name "oct.guest.dump" and capacity 2
       MB, expressed in kilobyte units (2097152 equals 2 times 10242).

          % backup readlabel -portoffset 6
          Tape read was labelled: oct.guest.dump (907215000)
               size: 2097152 Kbytes

       The output in the Tape Coordinator window reads:

          Tape label
          ----------
          tape name = oct.guest.dump
          AFS tape name = guests.monthly.3
          creationTime = Thu Oct 1 00:10:00 1998
          cell = example.com
          size = 2097152 Kbytes
          dump path = /monthly
          dump id = 907215000
          useCount = 5
          ---- End of tape label ----

       The following example is for a tape that does not have a permanent tape.

          % backup readlabel -portoffset 6
          Tape read was labelled: guests.monthly.2 (909899900)
               size: 2097152 Kbytes

       The output in the Tape Coordinator window reads:

          Tape label
          ----------
          tape name = &lt;NULL&gt;
          AFS tape name = guests.monthly.2
          creationTime = Sun Nov 1 00:58:20 1998
          cell = example.com
          size = 2097152 Kbytes
          dump path = /monthly
          dump id = 909899900
          useCount = 1
          ---- End of tape label ----

</pre><h4><b>PRIVILEGE</b> <b>REQUIRED</b></h4><pre>
       The issuer must be listed in the <u>/etc/openafs/server/UserList</u> file on  every  machine  where  the  Backup
       Server  is  running,  or  must  be  logged  onto  a  server  machine as the local superuser "root" if the
       <b>-localauth</b> flag is included.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man5/butc.5.html">butc</a></b>(5), <b><a href="../man8/backup.8.html">backup</a></b>(8), <b><a href="../man8/backup_labeltape.8.html">backup_labeltape</a></b>(8), <b><a href="../man8/butc.8.html">butc</a></b>(8)

</pre><h4><b>COPYRIGHT</b></h4><pre>
       IBM Corporation 2000. &lt;<a href="http://www.ibm.com/">http://www.ibm.com/</a>&gt; All Rights Reserved.

       This documentation is covered by the IBM Public License Version 1.0.  It was converted from HTML  to  POD
       by  software  written  by  Chas  Williams  and Russ Allbery, based on work by Alf Wachsmann and Elizabeth
       Cassell.

OpenAFS                                            2025-03-21                                <u><a href="../man8/BACKUP_READLABEL.8.html">BACKUP_READLABEL</a></u>(8)
</pre>
 </div>
</div></section>
</div>
</body>
</html>