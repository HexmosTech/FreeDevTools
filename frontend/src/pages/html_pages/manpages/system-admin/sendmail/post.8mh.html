<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>post - deliver an nmh message</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/nmh">nmh_1.8-3_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       post - deliver an nmh message

</pre><h4><b>SYNOPSIS</b></h4><pre>

       <b>/usr/lib/mh/post</b> [<b>-help</b>] [<b>-version</b>] [<b>-alias</b> <u>aliasfile</u>] [<b>-filter</b> <u>filterfile</u>] [<b>-nofilter</b>] [<b>-format</b> |
            <b>-noformat</b>] [<b>-mime</b> | <b>-nomime</b>] [<b>-msgid</b> | <b>-nomsgid</b>] [<b>-messageid</b> <u>localname</u> | <u>random</u>] [<b>-verbose</b> |
            <b>-noverbose</b>] [<b>-watch</b> | <b>-nowatch</b>] [<b>-width</b> <u>columns</u>] [<b>-mts</b> <u>smtp</u> | <u>sendmail/smtp</u> | <u>sendmail/pipe</u>]
            [<b>-sendmail</b> <u>program</u>] [<b>-server</b> <u>servername</u>] [<b>-port</b> <u>portname/number</u>] [<b>-sasl</b>] [<b>-nosasl</b>] [<b>-saslmech</b>
            <u>mechanism</u>] [<b>-user</b> <u>username</u>] [<b>-tls</b>] [<b>-initialtls</b>] [<b>-notls</b>] [<b>-snoop</b>] <u>file</u>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>post</b>  is the default program called by <b>send</b> to deliver the message in <u>file</u> to local and remote users.  In
       fact, most of the features attributed to <b>send</b> in its manual page are performed by <b>post</b>, with <b>send</b>  acting
       as  a relatively simple preprocessor.  Thus, it is <b>post</b> which parses the various header fields, appends a
       “Date:” line, and interacts with the mail transport system.  <b>post</b> will not normally be called directly by
       the user, but can be replaced by the user with a <u>postproc</u> profile component that will have  <u>file</u>  as  its
       final argument.  See <u><a href="../man5/mh-profile.5.html">mh-profile</a></u>(5) for more information on postproc.

       <b>post</b>  searches  the “To:”, “cc:”, “Bcc:”, “Fcc:”, and “Resent-xxx:” header lines of the specified message
       for destination addresses, checks these addresses for validity, and formats them  so  as  to  conform  to
       ARPAnet  Internet  Message  Format  protocol, unless the <b>-noformat</b> flag is set.  This will normally cause
       “@<u>local-site</u>” to be appended to each local destination address, as well as any  local  return  addresses.
       The  <b>-width</b>  <u>columns</u>  switch  can  be used to indicate the preferred length of the header components that
       contain addresses.

       If a “Bcc:” field is encountered, its addresses will be used for delivery, and the “Bcc:” field  will  be
       removed  from  the  message sent to sighted recipients. The blind recipients will receive an entirely new
       message with a minimal set of headers. The body of this new message will contain a copy  of  the  message
       sent  to  the  sighted  recipients,  either  marked  up  with  the  indicator text "Blind-Carbon-Copy" or
       encapsulated as a MIME digest.

       If <b>-filter</b> <u>filterfile</u> is specified, then this copy is filtered (re-formatted) by <b>mhl</b> prior to being  sent
       to  the  blind  recipients.  Alternately, if the <b>-mime</b> switch is given, then <b>post</b> will use the MIME rules
       for encapsulation.

       If a “Dcc:” field is encountered and the <b>sendmail/pipe</b> mail transport method is not in use, its addresses
       will be used for delivery, and the “Dcc:” field will be removed from the message.  The  blind  recipients
       will  receive  exactly  the  same  message  as the sighted recipients. *WARNING* Recipients listed in the
       “Dcc:” field receive no explicit indication that they have received a “blind copy”.  This can cause blind
       recipients to inadvertently reply to all of the sighted recipients of  the  original  message,  revealing
       that  they received a blind copy.  On the other hand, since a normal reply to a message sent via a “Bcc:”
       field will generate a reply only to the sender of the original message, it takes  extra  effort  in  most
       mailers  to reply to the included message, and so would usually only be done deliberately, rather than by
       accident.

       <b>post</b> rejects any message that contains a “Dcc:” field if the <b>sendmail/pipe</b> mail transport method is used.

       The <b>-alias</b> <u>aliasfile</u> switch can be used to specify a file that post should read aliases from.  More  than
       one  file  can be specified, with each being preceded by <b>-alias</b>.  In any event, the primary alias file is
       read first.

       The <b>-msgid</b> switch indicates that a “Message-ID:” or “Resent-Message-ID:” field should  be  added  to  the
       header.

       The  <b>-messageid</b>  switch  selects  the  style  used  for  the part appearing after the @ in “Message-ID:”,
       “Resent-Message-ID:”, and “Content-ID:” header fields.  The two acceptable options are  <b>localname</b>  (which
       is the default), and <b>random</b>.  With <b>localname</b>, the local hostname is used.  With <b>random</b>, a random sequence
       of  characters  is used instead.  Note that the <b>-msgid</b> switch must be enabled for this switch to have any
       effect.

       The <b>-verbose</b> switch indicates that the user should  be  informed  of  each  step  of  the  posting/filing
       process.

       The  <b>-watch</b>  switch  indicates  that  the user would like to watch the transport system's handling of the
       message (e.g., local and “fast” delivery).

       Under normal circumstances, <b>post</b> uses the “From:” line in the  message  draft  as  the  identity  of  the
       originating  mailbox.   A  “From:”  line  is  required  in  all  message  drafts.  By default the message
       composition utilities such as <b>comp</b>, <b>repl</b> and <b>mhmail</b> will  automatically  place  a  “From:”  line  in  the
       message  draft.   There are two ways to override this behavior, however.  Note that they apply equally to
       “Resent-From:” lines in messages sent with <b>dist</b>.

       The first way is to supply a “Sender:” line.  The value of this field will be  used  as  the  originating
       mailbox  identity  when  submitting  the message to the mail transport system.  If multiple addresses are
       given in the “From:” line, a “Sender:” line is <b>required</b>.  If an “Envelope-From:” line  is  supplied  when
       multiple addresses are given in the “From:” line, a “Sender:” header will be generated using the value of
       the “Envelope-From:” line, <b>if</b> the “Envelope-From:” line is not blank.

       The  second  way  is  to  supply  a  “Envelope-From:”  line.  The value of this field will be used as the
       originating mailbox identity when submitting the  message  to  the  mail  transport  system.   This  will
       override  both  the  value of the “From:” line and a “Sender:” line (if one is supplied).  The “Envelope-
       From:” line is allowed to have a blank value; if the value is blank, then the mail transport system  will
       be instructed to not send any bounces in response to the message.  Not all mail transport systems support
       this feature.

       The  mail  transport  system  default is defined in <u>/etc/nmh/mts.conf</u> but can be overridden here with the
       <b>-mts</b> switch.

       If nmh is using <b>sendmail/pipe</b> or <b>sendmail/smtp</b> as its mail transport system, the <b>-sendmail</b> switch can  be
       used to override the default <b>sendmail</b> program.

       If  nmh  is  using  the SMTP MTA, the <b>-server</b> and <b>-port</b> switches can be used to override the default mail
       server and port.  The default server is set with <u>servers</u> in <u>/etc/nmh/mts.conf</u>, and the  default  port  is
       <u>submission</u>, 587.

       If  <b>nmh</b>  has  been compiled with SASL support, the <b>-sasl</b> and <b>-nosasl</b> switches will enable and disable the
       use of SASL authentication with the SMTP MTA.  Depending on the SASL mechanism used, this may require  an
       additional  password  prompt  from  the  user  (but the <u>netrc</u> file can be used to store this password, as
       described in <u><a href="../man5/mh-profile.5.html">mh-profile</a></u>(5).  The <b>-saslmech</b> switch can be used to select a particular SASL mechanism,  and
       the  <b>-user</b>  switch  can  be  used  to  select  an authorization userid to provide to SASL, other than the
       default.  The credentials profile entry in <u><a href="../man5/mh-profile.5.html">mh-profile</a></u>(5) describes the ways  to  supply  a  username  and
       password.

       If  SASL  authentication  is  successful,  nmh  will  attempt  to  negotiate a security layer for session
       encryption.  Encrypted data is labelled with `(sasl-encrypted)' and `(sasl-decrypted)' when  viewing  the
       SMTP  transaction with the <b>-snoop</b> switch.  Base64-encoded data is wrapped with `b64&lt;&gt;'.  (Beware that the
       SMTP transaction may contain authentication information either in plaintext or easily decoded base64.)

       If <b>nmh</b> has been compiled with TLS support, the <b>-tls</b> and <b>-initialtls</b> switches will require the negotiation
       of TLS when connecting to the SMTP MTA.  The <b>-tls</b> switch will negotiate TLS as part of  the  normal  SMTP
       protocol using the STARTTLS command.  The <b>-initialtls</b> will negotiate TLS immediately after the connection
       has  taken  place, before any SMTP commands are sent or received.  Encrypted data is labelled with `(tls-
       encrypted)'  and  `(tls-decrypted)'  when  viewing  the  SMTP  transaction  with   the   <b>-snoop</b>   switch.
       Base64-encoded   data   is  wrapped  with  `b64&lt;&gt;'.   (Beware  that  the  SMTP  transaction  may  contain
       authentication information either in plaintext or easily decoded base64.)  The <b>-notls</b> switch will disable
       all attempts to negotiate TLS.

       If port 465 is specified and none of the TLS switches were enabled, <b>-initialtls</b> will be  implied  if  TLS
       support  was compiled in.  Though port 465 for SMTPS (SMTP over SSL) was deregistered by IANA in 1998, it
       is still used for that service.

       <b>post</b> filters out header lines with names beginning with “Nmh-” (case insensitive) from the message draft.
       Those lines are reserved for internal <b>nmh</b> use.

</pre><h4><b>FILES</b></h4><pre>
       /etc/nmh/mts.conf          nmh mts configuration file
       /etc/nmh/MailAliases       global nmh alias file
       /usr/bin/mh/refile         Program to process Fcc:s
       /usr/lib/mh/mhl            Program to process Bcc:s

</pre><h4><b>PROFILE</b> <b>COMPONENTS</b></h4><pre>
       <b>post</b> does <u>not</u> consult the user's <u>.mh_profile</u>

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <u><a href="../man1/mhmail.1.html">mhmail</a></u>(1), <u><a href="../man1/send.1.html">send</a></u>(1), <u><a href="../man5/mh-mail.5.html">mh-mail</a></u>(5), <u><a href="../man5/mh-alias.5.html">mh-alias</a></u>(5), <u><a href="../man5/mh-profile.5.html">mh-profile</a></u>(5), <u><a href="../man5/mh-tailor.5.html">mh-tailor</a></u>(5)

       <u>Standard</u> <u>for</u> <u>the</u> <u>Format</u> <u>of</u> <u>ARPA</u> <u>Internet</u> <u>Text</u> <u>Messages</u> (RFC 822)

</pre><h4><b>DEFAULTS</b></h4><pre>
       `<b>-alias</b>' defaults to /etc/nmh/MailAliases
       `<b>-format</b>'
       `<b>-nomime</b>'
       `<b>-nomsgid</b>'
       `<b>-messageid</b> <b>localname</b>'
       `<b>-noverbose</b>'
       `<b>-nowatch</b>'
       `<b>-width</b> <b>72</b>'
       `<b>-nofilter</b>'

</pre><h4><b>CONTEXT</b></h4><pre>
       None

</pre><h4><b>BUGS</b></h4><pre>
       “Reply-To:” fields are allowed to have groups in them according to the RFC 822  specification,  but  <b>post</b>
       won't let you use them.

nmh-1.8                                            2016-10-17                                          <u><a href="../man8mh/POST.8mh.html">POST</a></u>(8mh)
</pre>
 </div>
</div></section>
</div>
</body>
</html>