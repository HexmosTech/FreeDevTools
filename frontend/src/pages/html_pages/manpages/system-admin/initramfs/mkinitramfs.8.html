<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>mkinitramfs - low-level tool for generating an initramfs image</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/initramfs-tools-core">initramfs-tools-core_0.149ubuntu2_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       mkinitramfs - low-level tool for generating an initramfs image

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>mkinitramfs</b> [<u>option</u>]...  <b>-o</b> <u>outfile</u> [<u>version</u>]
       <b>mkinitramfs</b> <b>--version</b>
       <b>mkinitramfs</b> <b>-h</b>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The  <b>mkinitramfs</b>  script  generates  an initramfs image.  The initramfs is a compressed cpio archive. The
       archive can be used on a different box of the same arch with the corresponding Linux kernel.  <b>mkinitramfs</b>
       is meant for advanced usage. On your local box  <b>update-initramfs</b>  calls  <b>mkinitramfs</b>  with  the  relevant
       parameters.  <b>update-initramfs</b> keeps sha1sum of generated initramfs. It takes care to generate backups and
       eventually runs the bootloader.

       At  boot  time,  the  kernel  unpacks that archive into RAM disk, mounts and uses it as initial root file
       system. All finding of the root device happens in this early userspace.

</pre><h4><b>OPTIONS</b></h4><pre>
       <b>-c</b>  <u>compress</u>
              Override the <b>COMPRESS</b> setting in <u>initramfs.conf</u>.

       <b>-d</b>  <u>confdir</u>
              Set an alternate configuration directory.

       <b>-k</b>     Keep the temporary directory used to make the image.

       <b>-l</b>  <u>compresslevel</u>
              Override the <b>COMPRESSLEVEL</b> setting in <u>initramfs.conf</u>.

       <b>-m</b>  <u>modules</u>
              Override the <b>MODULES</b> setting in <u>initramfs.conf</u>.

       <b>-o</b>  <u>outfile</u>
              Write the image to <u>outfile</u>.

       <b>-r</b>  <u>root</u>
              Override the <b>ROOT</b> setting in <u>initramfs.conf</u>.

       <b>-v</b>     Set the verbose mode output.

       <u>version</u>
              Set the kernel version of the initramfs image (defaults to the running kernel).

       <b>--version</b>
              Display version information and exit.

       <b>-h</b>, <b>--help</b>
              Display usage information and exit.

</pre><h4><b>ENVIRONMENT</b></h4><pre>
       <b>mkinitramfs</b> honours the <b>TMPDIR</b> environment  variable.  If  set,  it  uses  subdirectories  in  the  given
       directory  to  create  its temporary working directories. Else it uses <u><a href="file:/var/tmp">/var/tmp</a></u> as default value for that
       purpose. The given directory should be on a filesystem which allows the execution of files stored  there,
       i.e.  should not be mounted with the <b>noexec</b> mount option.

       If <b>SOURCE_DATE_EPOCH</b> is set, <b>mkinitramfs</b> attempts to generate a reproducible initramfs image.

</pre><h4><b>FILES</b></h4><pre>
       <u><a href="file:/etc/initramfs-tools/initramfs.conf">/etc/initramfs-tools/initramfs.conf</a></u>
              The  default  configuration  file  for  the script. See <b><a href="../man5/initramfs.conf.5.html">initramfs.conf</a></b>(5) for a description of the
              available configuration parameter.

       <u><a href="file:/etc/initramfs-tools/modules">/etc/initramfs-tools/modules</a></u>
              Specified modules will be put in the generated image and loaded when the system boots. The  format
              - one per line - is identical to that of <u><a href="file:/etc/modules">/etc/modules</a>,</u> which is described in <b><a href="../man5/modules.5.html">modules</a></b>(5).

       <u><a href="file:/etc/initramfs-tools/conf.d">/etc/initramfs-tools/conf.d</a></u>
              The  conf.d directory allows one to hardcode bootargs at initramfs build time via config snippets.
              This allows one to set ROOT or RESUME.  This is especially useful for bootloaders,  which  do  not
              pass an root bootarg.

       <u>/etc/initramfs-tools/DSDT.aml</u>
              If  this file exists, it will be appended to the initramfs in a way that causes it to be loaded by
              ACPI.

</pre><h4><b>EXAMPLES</b></h4><pre>
       Create an initramfs for current running kernel:

       <b>mkinitramfs</b> <b>-o</b> <b><a href="file:~/tmp/initramfs-">~/tmp/initramfs-</a>$(uname</b> <b>-r)</b>

       Create an initramfs for specific kernel and keep builddirs:

       <b>mkinitramfs</b> <b>-k</b> <b>-o</b> <b><a href="file:~/tmp/initramfs-2.6.21-686">~/tmp/initramfs-2.6.21-686</a></b> <b>2.6.21-686</b>

       Debug initramfs creation (check out written logfile)

       <b>sh</b> <b>-x</b> <b>mkinitramfs</b> <b>-o</b> <b><a href="file:~/tmp/initramfs-">~/tmp/initramfs-</a>$(uname</b> <b>-r)</b> <b>2&gt;</b> <b><a href="file:~/tmp/log">~/tmp/log</a></b>

</pre><h4><b>AUTHOR</b></h4><pre>
       The   initramfs-tools   are   written   by   Maximilian    Attems    &lt;<a href="mailto:maks@debian.org">maks@debian.org</a>&gt;,    Jeff    Bailey
       &lt;<a href="mailto:jbailey@raspberryginger.com">jbailey@raspberryginger.com</a>&gt; and numerous others.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <u><a href="../man5/initramfs.conf.5.html">initramfs.conf</a></u>(5), <u><a href="../man7/initramfs-tools.7.html">initramfs-tools</a></u>(7), <u><a href="../man8/update-initramfs.8.html">update-initramfs</a></u>(8), <u><a href="../man8/lsinitramfs.8.html">lsinitramfs</a></u>(8), <u><a href="../man8/unmkinitramfs.8.html">unmkinitramfs</a></u>(8).

initramfs-tools                                    2018/07/18                                     <u><a href="../man8/MKINITRAMFS.8.html">MKINITRAMFS</a></u>(8)
</pre>
 </div>
</div></section>
</div>
</body>
</html>