<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>iptables-translate — translation tool to migrate from iptables to nftables</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/iptables">iptables_1.8.11-2ubuntu1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       iptables-translate — translation tool to migrate from iptables to nftables

       ip6tables-translate — translation tool to migrate from ip6tables to nftables

       ebtables-translate — translation tool to migrate from ebtables to nftables

       arptables-translate — translation tool to migrate from arptables to nftables

</pre><h4><b>DESCRIPTION</b></h4><pre>
       There  is  a  set  of  tools to help the system administrator translate a given ruleset from <b><a href="../man8/iptables.8.html">iptables</a>(8)</b>,
       <b><a href="../man8/ip6tables.8.html">ip6tables</a>(8)</b>, <b><a href="../man8/ebtables.8.html">ebtables</a>(8)</b> and <b><a href="../man8/arptables.8.html">arptables</a>(8)</b> to <b><a href="../man8/nftables.8.html">nftables</a>(8)</b>.

       The available commands are:

       • iptables-translate

       • iptables-restore-translate

       • ip6tables-translate

       • ip6tables-restore-translate

       • ebtables-translate

       • arptables-translate

</pre><h4><b>USAGE</b></h4><pre>
       They take as input the original <b><a href="../man8/iptables.8.html">iptables</a>(8)</b>/<b><a href="../man8/ip6tables.8.html">ip6tables</a>(8)</b>/<b><a href="../man8/ebtables.8.html">ebtables</a>(8)</b>/<b><a href="../man8/arptables.8.html">arptables</a>(8)</b> syntax and  output  the
       native <b><a href="../man8/nftables.8.html">nftables</a>(8)</b> syntax.

       The <b>iptables-restore-translate</b> tool reads a ruleset in the syntax produced by <b><a href="../man8/iptables-save.8.html">iptables-save</a>(8)</b>. Likewise,
       the  <b>ip6tables-restore-translate</b>  tool reads one produced by <b><a href="../man8/ip6tables-save.8.html">ip6tables-save</a>(8)</b>.  No ruleset modifications
       occur, these tools are text converters only.

       The <b>iptables-translate</b> reads a command line as if it was entered to <b><a href="../man8/iptables.8.html">iptables</a>(8)</b>, and  <b>ip6tables-translate</b>
       reads a command like as if it was entered to <b><a href="../man8/ip6tables.8.html">ip6tables</a>(8)</b>.

</pre><h4><b>EXAMPLES</b></h4><pre>
       Basic operation examples.

       Single command translation:

       root@machine:~# iptables-translate -A INPUT -p tcp --dport 22 -m conntrack --ctstate NEW -j ACCEPT
       nft add rule ip filter INPUT tcp dport 22 ct state new counter accept

       root@machine:~# ip6tables-translate -A FORWARD -i eth0 -o eth3 -p udp -m multiport --dports 111,222 -j ACCEPT
       nft add rule ip6 filter FORWARD iifname eth0 oifname eth3 meta l4proto udp udp dport { 111,222} counter accept

       Whole ruleset translation:

       root@machine:~# iptables-save &gt; save.txt
       root@machine:~# cat save.txt
       # Generated by iptables-save v1.6.0 on Sat Dec 24 14:26:40 2016
       *filter
       :INPUT ACCEPT [5166:1752111]
       :FORWARD ACCEPT [0:0]
       :OUTPUT ACCEPT [5058:628693]
       -A FORWARD -p tcp -m tcp --dport 22 -m conntrack --ctstate NEW -j ACCEPT
       COMMIT
       # Completed on Sat Dec 24 14:26:40 2016

       root@machine:~# iptables-restore-translate -f save.txt
       # Translated by iptables-restore-translate v1.6.0 on Sat Dec 24 14:26:59 2016
       add table ip filter
       add chain ip filter INPUT { type filter hook input priority 0; }
       add chain ip filter FORWARD { type filter hook forward priority 0; }
       add chain ip filter OUTPUT { type filter hook output priority 0; }
       add rule ip filter FORWARD tcp dport 22 ct state new counter accept

       root@machine:~# iptables-restore-translate -f save.txt &gt; ruleset.nft
       root@machine:~# nft -f ruleset.nft
       root@machine:~# nft list ruleset
       table ip filter {
            chain INPUT {
                 type filter hook input priority 0; policy accept;
            }

            chain FORWARD {
                 type filter hook forward priority 0; policy accept;
                 tcp dport ssh ct state new counter packets 0 bytes 0 accept
            }

            chain OUTPUT {
                 type filter hook output priority 0; policy accept;
            }
       }

</pre><h4><b>LIMITATIONS</b></h4><pre>
       Some  (few)  extensions  may be not supported (or fully-supported) for whatever reason (for example, they
       were considered obsolete, or we didn't have the time to work on them).

       There is no translation available for <b><a href="../man8/arptables.8.html">arptables</a>(8)</b>.

       To get up-to-date information about this, please head to <b>https://wiki.nftables.org/</b>.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man8/nft.8.html">nft</a>(8)</b>, <b><a href="../man8/iptables.8.html">iptables</a>(8)</b>

</pre><h4><b>AUTHORS</b></h4><pre>
       The nftables framework is written by the Netfilter project (https://www.netfilter.org).

       This manual page was written by Arturo Borrero Gonzalez &lt;<a href="mailto:arturo@netfilter.org">arturo@netfilter.org</a>&gt;.

       This documentation is free/libre under the terms of the GPLv2+.

                                                  May 14, 2019                             <u><a href="../man8/IPTABLES-TRANSLATE.8.html">IPTABLES-TRANSLATE</a></u>(8)
</pre>
 </div>
</div></section>
</div>
</body>
</html>