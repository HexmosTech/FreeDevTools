<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>dcb-ets  -  show  /  manipulate  ETS  (Enhanced  Transmission Selection) settings of the DCB (Data Center</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/iproute2">iproute2_6.14.0-1ubuntu1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       dcb-ets  -  show  /  manipulate  ETS  (Enhanced  Transmission Selection) settings of the DCB (Data Center
       Bridging) subsystem

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>dcb</b> [ <u>OPTIONS</u> ] <b>ets</b> { <u>COMMAND</u> | <u>help</u> }

       <b>dcb</b> <b>ets</b> <b>show</b> <b>dev</b> DEV [ <b>willing</b> ] [ <b>ets-cap</b> ] [ <b>cbs</b> ] [ <b>tc-tsa</b> ] [ <b>reco-tc-tsa</b> ] [ <b>pg-bw</b> ] [ <b>tc-bw</b> ] [
               <b>reco-tc-bw</b> ] [ <b>prio-tc</b> ] [ <b>reco-prio-tc</b> ]

       <b>dcb</b> <b>ets</b> <b>set</b> <b>dev</b> DEV [ <b>willing</b> { <b>on</b> | <b>off</b> } ] [ { <b>tc-tsa</b> | <b>reco-tc-tsa</b> } <u>TSA-MAP</u> ] [ { <b>pg-bw</b> | <b>tc-bw</b> |
               <b>reco-tc-bw</b> } <u>BW-MAP</u> ] [ { <b>prio-tc</b> | <b>reco-prio-tc</b> } <u>PRIO-MAP</u> ]

       <u>TSA-MAP</u> := [ <u>TSA-MAP</u> ] <u>TSA-MAPPING</u>

       <u>TSA-MAPPING</u> := { <u>TC</u> | <b>all</b> }<b>:</b>{ <b>strict</b> | <b>cbs</b> | <b>ets</b> | <b>vendor</b> }

       <u>BW-MAP</u> := [ <u>BW-MAP</u> ] <u>BW-MAPPING</u>

       <u>BW-MAPPING</u> := { <u>TC</u> | <b>all</b> }<b>:</b><u>INTEGER</u>

       <u>PRIO-MAP</u> := [ <u>PRIO-MAP</u> ] <u>PRIO-MAPPING</u>

       <u>PRIO-MAPPING</u> := { <u>PRIO</u> | <b>all</b> }<b>:</b><u>TC</u>

       <u>TC</u> := { <b>0</b> .. <b>7</b> }

       <u>PRIO</u> := { <b>0</b> .. <b>7</b> }

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>dcb</b> <b>ets</b> is used to configure Enhanced Transmission Selection attributes through Linux DCB (Data Center
       Bridging) interface. ETS permits configuration of mapping of priorities to traffic classes, traffic
       selection algorithm to use per traffic class, bandwidth allocation, etc.

       Two DCB TLVs are related to the ETS feature: a configuration and recommendation values. Recommendation
       values are named with a prefix <b>reco-,</b> while the configuration ones have plain names.

</pre><h4><b>PARAMETERS</b></h4><pre>
       For read-write parameters, the following describes only the write direction, i.e. as used with the <b>set</b>
       command. For the <b>show</b> command, the parameter name is to be used as a simple keyword without further
       arguments. This instructs the tool to show the value of a given parameter. When no parameters are given,
       the tool shows the complete ETS configuration.

       <b>ets-cap</b>
              A read-only property that shows the number of supported ETS traffic classes.

       <b>cbs</b>    A read-only property that is enabled if the driver and the hardware support the  CBS  Transmission
              Selection Algorithm.

       <b>willing</b> { <b>on</b> | <b>off</b> }
              Whether local host should accept configuration from peer TLVs.

       <b>prio-tc</b> <u>PRIO-MAP</u>
       <b>reco-prio-tc</b> <u>PRIO-MAP</u>
              <u>PRIO-MAP</u>  uses the array parameter syntax, see <b><a href="../man8/dcb.8.html">dcb</a></b>(8) for details. Keys are priorities, values are
              traffic classes. For each priority sets a TC where traffic with that priority is directed to.

       <b>tc-tsa</b> <u>TSA-MAP</u>
       <b>reco-tc-tsa</b> <u>TSA-MAP</u>
              <u>TSA-MAP</u> uses the array parameter syntax,  see  <b><a href="../man8/dcb.8.html">dcb</a></b>(8)  for  details.  Keys  are  TCs,  values  are
              Transmission  Selection  Algorithm  (TSA)  keywords described below. For each TC sets an algorithm
              used for deciding how traffic queued up at this TC is scheduled for transmission.  Supported  TSAs
              are:

              <b>strict</b>  -  for  strict priority, where traffic in higher-numbered TCs always takes precedence over
              traffic in lower-numbered TCs.
              <b>ets</b> - for Enhanced Traffic Selection, where available bandwidth  is  distributed  among  the  ETS-
              enabled TCs according to the weights set by <b>tc-bw</b> and <b>reco-tc-bw</b>, respectively.
              <b>cbs</b>  -  for Credit Based Shaper, where traffic is scheduled in a strict manner up to the limit set
              by a shaper.
              <b>vendor</b> - for vendor-specific traffic selection algorithm.

       <b>tc-bw</b> <u>BW-MAP</u>
       <b>reco-tc-bw</b> <u>BW-MAP</u>
              <u>BW-MAP</u> uses the array parameter syntax, see <b><a href="../man8/dcb.8.html">dcb</a></b>(8) for details. Keys are TCs, values are  integers
              representing  percent  of  available  bandwidth  given to the traffic class in question. The value
              should be 0 for TCs whose TSA is not <b>ets</b>, and the sum of all values shall be 100. As an  exception
              to the standard wording, a configuration with no <b>ets</b> TCs is permitted to sum up to 0 instead.

       <b>pg-bw</b> <u>BW-MAP</u>
              The  precise  meaning  of  <b>pg-bw</b> is not standardized, but the assumption seems to be that the same
              scheduling process as on the transmit side is applicable on receive side as well,  and  configures
              receive bandwidth allocation for <b>ets</b> ingress traffic classes (priority groups).

</pre><h4><b>EXAMPLE</b> <b>&amp;</b> <b>USAGE</b></h4><pre>
       Configure ETS priomap in a one-to-one fashion:

       # dcb ets set dev eth0 prio-tc 0:0 1:1 2:2 3:3 4:4 5:5 6:6 7:7

       Set TSA and transmit bandwidth configuration:

       # dcb ets set dev eth0 tc-tsa all:strict 0:ets 1:ets 2:ets \
                              tc-bw all:0 0:33 1:33 2:34

       Show what was set:

       # dcb ets show dev eth0 prio-tc tc-tsa tc-bw
       prio-tc 0:0 1:1 2:2 3:3 4:4 5:5 6:6 7:7
       tc-tsa 0:ets 1:ets 2:ets 3:strict 4:strict 5:strict 6:strict 7:strict
       tc-bw 0:33 1:33 2:34 3:0 4:0 5:0 6:0 7:0

</pre><h4><b>EXIT</b> <b>STATUS</b></h4><pre>
       Exit status is 0 if command was successful or a positive integer upon failure.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man8/dcb.8.html">dcb</a></b>(8)

</pre><h4><b>REPORTING</b> <b>BUGS</b></h4><pre>
       Report any bugs to the Network Developers mailing list <b>&lt;<a href="mailto:netdev@vger.kernel.org">netdev@vger.kernel.org</a>&gt;</b> where the development and
       maintenance is primarily done.  You do not have to be subscribed to the list to send a message there.

</pre><h4><b>AUTHOR</b></h4><pre>
       Petr Machata &lt;<a href="mailto:me@pmachata.org">me@pmachata.org</a>&gt;

iproute2                                         19 October 2020                                      <u><a href="../man8/DCB-ETS.8.html">DCB-ETS</a></u>(8)
</pre>
 </div>
</div></section>
</div>
</body>
</html>