<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>sg_read_attr - send SCSI READ ATTRIBUTE command</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/sg3-utils">sg3-utils_1.48-2ubuntu1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       sg_read_attr - send SCSI READ ATTRIBUTE command

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>sg_read_attr</b>  [<u>--cache</u>]  [<u>--enumerate</u>]  [<u>--ea=EA</u>]  [<u>--filter=FL</u>] [<u>--first=FAI</u>] [<u>--help</u>] [<u>--hex</u>] [<u>--in=FN</u>]
       [<u>--lvn=LVN</u>] [<u>--maxlen=LEN</u>] [<u>--pn=PN</u>] [<u>--quiet</u>] [<u>--raw</u>]  [<u>--readonly</u>]  [<u>--sa=SA</u>]  [<u>--verbose</u>]  [<u>--version</u>]
       <u>DEVICE</u>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       Sends  a SCSI READ ATTRIBUTE command to <u>DEVICE</u> and outputs the data returned. This command was introduced
       in SPC-3 revision 1 and thus is applicable to all SCSI devices. In practice it is used  mainly  for  tape
       systems. This utility is based on the SPC-5 draft standard, revision 17 (spc5r17.pdf).

</pre><h4><b>OPTIONS</b></h4><pre>
       Arguments to long options are mandatory for short options as well.

       <b>-c</b>, <b>--cache</b>
              sets  the  CACHE  bit in the READ ATTRIBUTE cdb. This instructs the device server to return cached
              attributes. By default that bit is cleared which instructs the device server not to return  cached
              attributes.

       <b>-e</b>, <b>--enumerate</b>
              enumerates  all  known  attributes  and service actions. Attributes include an identifier, length,
              format and a name as defined by T10. If <u>DEVICE</u> is given then it is ignored.

       <b>-E</b>, <b>--ea</b>=<u>EA</u>
              where <u>EA</u> is an element address which is placed in the READ ATTRIBUTE cdb. This field is only found
              in SMC-2 and SMC-3 drafts for medium changers usually associated with tape libraries.  By  default
              this field is set to zero.

       <b>-f</b>, <b>--filter</b>=<u>FL</u>
              where  <u>FL</u>  is  an  attribute  identifier in the range 0 to 65535 or -1.  Attribute identifiers are
              typically given in hexadecimal in which case the hex number should be prefixed by "0x"  or  has  a
              trailing  "h".  "-1" is the default value and means 'match all'; for all other values of <u>FL</u> on the
              matching attribute is output.

       <b>-F</b>, <b>--first</b>=<u>FAI</u>
              where <u>FAI</u> is the "first attribute identifier" field in the cdb. It seems as though the  intent  of
              this  field  is  that  only  attributes  whose  identifiers  are  equal to or greater than <u>FAI</u> are
              returned. The default value of <u>FAI</u> is zero. Attributes are returned in ascending identifier order.

       <b>-h</b>, <b>--help</b>
              output the usage message then exit.

       <b>-H</b>, <b>--hex</b>
              output the response in hexadecimal to stdout. When used once the whole response is output in ASCII
              hexadecimal with a leading address (starting at 0) on each line. When used  twice  each  attribute
              descriptor  in  the  response  is  output  separately  in  hexadecimal. When used thrice the whole
              response is output in hexadecimal with no leading address (on each line).
              Output generated by '-HHH' (or <u>--hex</u> used three times) can be redirected to a file. That file will
              be in suitable format for <u>--in=FN</u> to use in a later invocation.

       <b>-i</b>, <b>--in</b>=<u>FN</u>
              <u>FN</u> is treated as a file name (or '-'  for  stdin)  which  contains  ASCII  hexadecimal  or  binary
              representing  the  response  to  a  READ  ATTRIBUTE  command  with service action 0x0 (i.e (fetch)
              attribute values). When this option is given then <u>DEVICE</u> (if also given) is ignored.
              By default <u>FN</u> is assumed to contain ASCII hexadecimal arranged as bytes  which  a  space,  tab  or
              comma  delimited.  All  characters from (and including) "#" to the end of line are ignored. If the
              <u>--raw</u> option is also given then <u>FN</u> is assumed to contain binary data. When  the  <u>--raw</u>  option  is
              given  then after processing the input the internal raw variable is reset to 0 so it has no effect
              on the output.
              Since the READ ATTRIBUTE response does not contain the service action number that it is a response
              to, then the <u>--sa=SA</u> should be given (if not service action 0 (attribute values) is assumed.

       <b>-l</b>, <b>--lvn</b>=<u>LVN</u>
              where <u>LVN</u> is placed in the "logical volume number" field of the cdb.  The default  value  is  zero
              which is required to be the logical volume number if the device only has one volume.

       <b>-m</b>, <b>--maxlen</b>=<u>LEN</u>
              where <u>LEN</u> is the (maximum) response length in bytes. It is placed in the cdb's "allocation length"
              field.  If  not  given  (or  <u>LEN</u>  is  zero) then 8192 is used. The maximum allowed value of <u>LEN</u> is
              1048576.

       <b>-p</b>, <b>--pn</b>=<u>PN</u>
              where <u>PN</u> is placed in the "partition number" field  of  the  cdb.  If  the  <u>DEVICE</u>  only  has  one
              partition then its partition number must be zero. The default value of <u>PN</u> is zero.

       <b>-q</b>, <b>--quiet</b>
              this  option  reduces  the  amount  of  information  output. For example when used once (<u>SA</u>=0), it
              suppresses the header line announcing the output of attributes; when used twice it suppresses  the
              name of each attribute, leaving only the associated attribute values (or strings).

       <b>-r</b>, <b>--raw</b>
              output the SCSI response (i.e. the data-out buffer) in binary (to stdout).

       <b>-R</b>, <b>--readonly</b>
              open  the  <u>DEVICE</u>  read-only  (e.g.  in  Unix  with the O_RDONLY flag).  The default is to open it
              read-write.

       <b>-s</b>, <b>--sa</b>=<u>SA</u>
              where <u>SA</u> is placed on the "service action" field of the cdb. Values of 0 to 63 are accepted with a
              default of 0. spc5r08.pdf defines five service actions:  0  for  attributes  values  ;  1  for  an
              attribute  list (names, not values), 2 for the logical volume list; 3 for the partition list; 4 is
              restricted for SMC-3; and 5 for the supported attribute list.
              Alternatively an acronym can be given for <u>SA</u>. The acronym should be  one  of  "av",  "al",  "lvl",
              "pn",  "smc"  or  "sa"  for service actions 0 to 5 respectively. The acronyms can also be given in
              upper case.

       <b>-v</b>, <b>--verbose</b>
              increase the level of verbosity, (i.e. debug output).

       <b>-V</b>, <b>--version</b>
              print the version string and then exit.

</pre><h4><b>NOTES</b></h4><pre>
       Only tape systems seem to implement the SCSI READ ATTRIBUTE command. The vast majority of its  definition
       is in the SPC standard so other device types could use it.

       Much  of the information provided by READ ATTRIBUTE can also be found in pages returned by LOG SENSE (see
       the sg_logs utility) and in the VPD pages returned by the INQUIRY command.

</pre><h4><b>EXAMPLES</b></h4><pre>
       To list the attributes of a tape drive whose <u>DEVICE</u> is /dev/sg1 , the following could be used:

         # sg_read_attr -s al /dev/sg1
         Attribute list:
           Remaining capacity in partition [MiB]
           Maximum capacity in partition [MiB]
           TapeAlert flags
           Load count
           MAM space remaining [B]
           Assigning organization
           Format density code
           ...

       To check the number of partitions:

         # sg_read_attr -s pl /dev/sg1
         Partition number list:
           First partition number: 0
           Number of partitions available: 2

       And to see the attribute values (which is the default service action):

         # sg_read_attr /dev/sg1
         Attribute values:
           Remaining capacity in partition [MiB]: 1386103
           Maximum capacity in partition [MiB]: 1386103
           TapeAlert flags: 0
           ....

       To redirect the attribute values response to a file for later decoding:

         # sg_read_attr -HHH /dev/sg1 &gt; av.hex

       And later the response held in the av.hex file could be decoded with:

         # sg_read_attr -s av --in=av.hex
         Attribute values:
           Remaining capacity in partition [MiB]: 1386103
           Maximum capacity in partition [MiB]: 1386103
           TapeAlert flags: 0
           ....

</pre><h4><b>EXIT</b> <b>STATUS</b></h4><pre>
       The exit status of sg_read_attr is 0 when it is successful. Otherwise see the <a href="../man8/sg3_utils.8.html">sg3_utils</a>(8) man page.

</pre><h4><b>AUTHORS</b></h4><pre>
       Written by Douglas Gilbert.

</pre><h4><b>REPORTING</b> <b>BUGS</b></h4><pre>
       Report bugs to &lt;dgilbert at interlog dot com&gt;.

</pre><h4><b>COPYRIGHT</b></h4><pre>
       Copyright Â© 2016-2020 Douglas Gilbert
       This software is  distributed  under  a  BSD-2-Clause  license.  There  is  NO  warranty;  not  even  for
       MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b>sg_vpd,sg_logs(sg3_utils)</b>

sg3_utils-1.46                                    December 2020                                  <u><a href="../man8/SG_READ_ATTR.8.html">SG_READ_ATTR</a></u>(8)
</pre>
 </div>
</div></section>
</div>
</body>
</html>