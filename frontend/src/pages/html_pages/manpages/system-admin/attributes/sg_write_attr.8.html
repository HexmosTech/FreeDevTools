<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>sg_write_attr - send SCSI WRITE ATTRIBUTE command</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/sg3-utils">sg3-utils_1.48-2ubuntu1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       sg_write_attr - send SCSI WRITE ATTRIBUTE command

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>sg_write_attr</b>  [<u>--enumerate</u>]  [<u>--element=EA</u>]  [<u>--help</u>]  [<u>--hex</u>]  [<u>--in=FN</u>]  [<u>--lvn=LVN</u>] [<u>--pn=PN</u>] [<u>--raw</u>]
       [<u>--wtc</u>] [<u>--verbose</u>] [<u>--version</u>] <u>DEVICE</u> [<u>attribute=value</u> [<u>attribute:value</u>...]]

</pre><h4><b>DESCRIPTION</b></h4><pre>
       Sends a SCSI WRITE ATTRIBUTE command to <u>DEVICE</u> among with attribute-value pairs specified in command line
       arguments or read from the input file.  This command was introduced in  SPC-3  revision  1  and  thus  is
       applicable  to all SCSI devices. In practice it is used mainly for tape systems. This utility is based on
       the SPC-5 draft standard, revision 17 (spc5r17.pdf).

</pre><h4><b>OPTIONS</b></h4><pre>
       Arguments to long options are mandatory for short options as well.

       <b>-e</b>, <b>--enumerate</b>
              enumerates all known attributes. Attributes include an identifier, length, format and  a  name  as
              defined  by  T10,  with  supplementary  acronym  which  may  be  used  instead of identifier. Some
              attributes may also include predefined set of values.  If  <u>DEVICE</u>  or  <u>attribute=value</u>  pairs  are
              given then they are ignored.

       <b>-E</b>, <b>--element</b>=<u>EA</u>
              where  <u>EA</u>  is  an  element  address which is placed in the WRITE ATTRIBUTE cdb. This field is only
              found in SMC-2 and SMC-3 drafts for medium changers usually associated  with  tape  libraries.  By
              default this field is set to zero.

       <b>-h</b>, <b>--help</b>
              output the usage message then exit.

       <b>-H</b>, <b>--hex</b>
              used  together  with  the  input  file  (<b>-i</b>, <b>--in</b>=<u>FN</u>) to indicate input contents is in hexadecimal
              format with no leading address (on each line),  similar  to  one  produced  by  <b>sg_read_attr</b>  <b>-HHH</b>
              output.

       <b>-i</b>, <b>--in</b>=<u>FN</u>
              <u>FN</u> is treated as a file name (or '-' for stdin) which contains attribute-value pairs one per line,
              ASCII  hexadecimal  or  binary  representing the payload of the WRITE ATTRIBUTE command. When this
              option is given then <u>attribute=value</u> pairs (if also given) are ignored.
              By default <u>FN</u> is assumed to contain a list of attribute-value pairs, one per  line.   Empty  lines
              and  lines  starting  from "#" are ignored.  If the <u>--hex</u> is given, <u>FN</u> is assumed to contain ASCII
              hexadecimal arranged as bytes which a space, tab or comma  delimited.  All  characters  from  (and
              including)  "#"  to  the  end of line are ignored. If the <u>--raw</u> option given then <u>FN</u> is assumed to
              contain binary data. When both <u>--hex</u> and <u>--raw</u> options are given, latter takes precedence.

       <b>-l</b>, <b>--lvn</b>=<u>LVN</u>
              where <u>LVN</u> is placed in the "logical volume number" field of the cdb.  The default  value  is  zero
              which is required to be the logical volume number if the device only has one volume.

       <b>-p</b>, <b>--pn</b>=<u>PN</u>
              where  <u>PN</u>  is  placed  in  the  "partition  number"  field  of the cdb. If the <u>DEVICE</u> only has one
              partition then its partition number must be zero. The default value of <u>PN</u> is zero.

       <b>-r</b>, <b>--raw</b>
              used together with the input file (<b>-i</b>, <b>--in</b>=<u>FN</u>) to indicate input format is binary, similar to one
              produced by <b>sg_read_attr</b> <b>--raw</b> output.

       <b>-c</b>, <b>--wtc</b>
              sets the WRITE THROUGH CACHE bit in the WRITE ATTRIBUTE cdb.  This instructs the device server  to
              return successful status only when the attributes have been synchronized with the medium auxiliary
              memory.  By default the WTC bit is not set.

       <b>-v</b>, <b>--verbose</b>
              increase the level of verbosity, (i.e. debug output).

       <b>-V</b>, <b>--version</b>
              print the version string and then exit.

   <b>Attribute-value</b> <b>pair</b> <b>format</b>
       An  attribute-value pair comprised of the attribute identifier and attribute value, delimited by an equal
       sign <b>'='</b> or a colon <b>':'</b>.  Attribute identifier can be specified as a number in decimal,  octal  (prefixed
       by  '0')  or  hexadecimal (prefixed by '0x') representation, or with an acronym if the attribute provides
       one.  Delimiter sign determines value representation: an equal sign denotes values in string or numerical
       format, or acronym, while a colon sign denotes a hex sequence comprised  of  bytes  in  hexadecimal  form
       separated by a space or comma.
       String  values  can  be  used  with  attributes  in  ASCII or text format, while numbers and acronyms are
       suitable for binary attributes.  Available acronyms can be listed by the  <b>--enumerate</b>  options.  Acronyms
       are case-insensitive.
       For  the fixed-length binary attributes, value length must match attribute length exactly. Maximum binary
       attribute value in numerical representation is restricted by the unsigned long long type size on a  given
       platform (8 bytes typically), while hexadecimal sequence can be of arbitrary length.
       Values of ASCII format attributes are left aligned padded with spaces to attribute length.
       Empty value (a delimiter followed by nothing) is used to delete a given attribute in device server.
       Attribute-value pairs in command line arguments containing spaces should be quoted or escaped.

</pre><h4><b>NOTES</b></h4><pre>
       Only tape systems seem to implement the SCSI WRITE ATTRIBUTE command. The vast majority of its definition
       is in the SPC standard so other device types could use it.
       Total  buffer  length  for  the attribute list in the SCSI WRITE ATTRIBUTE command payload is 1 MiB (1024
       KiB).

</pre><h4><b>EXAMPLES</b></h4><pre>
       Set a tape barcode ASCII attribute specified by acronym and a string value:

       <b>#</b> <b>sg_write_attr</b> <b>/dev/sg1</b> <b>BarCode=BARCODE01</b>

       Set a tape barcode ASCII attribute specified by hexadecimal identifier and a string value:

       <b>#</b> <b>sg_write_attr</b> <b>/dev/sg1</b> <b>0x806=BARCODE01</b>

       Set a user label text attribute with string value containing spaces in quoted command line argument:

       <b>#</b> <b>sg_write_attr</b> <b>/dev/sg1</b> <b>"UserLabel=User</b> <b>label</b> <b>1"</b>

       Set a user label text attribute with hex sequence value:

       <b>#</b> <b>sg_write_attr</b> <b>/dev/sg1</b> <b>UserLabel:42,41,52,43,4F,44,45,30,32</b>
       or
       <b>#</b> <b>sg_write_attr</b> <b>/dev/sg1</b> <b>"0x803:42</b> <b>41</b> <b>52</b> <b>43</b> <b>4F</b> <b>44</b> <b>45</b> <b>30</b> <b>32"</b>

       Set a locale identifier attribute with values specified by acronyms or numbers:

       <b>#</b> <b>sg_write_attr</b> <b>/dev/sg1</b> <b>LocaleId=ascii</b>
       <b>#</b> <b>sg_write_attr</b> <b>/dev/sg1</b> <b>LocaleId=utf-8</b>
       <b>#</b> <b>sg_write_attr</b> <b>/dev/sg1</b> <b>LocaleId=0x80</b>
       <b>#</b> <b>sg_write_attr</b> <b>/dev/sg1</b> <b>LocaleId:81</b>
       <b>#</b> <b>sg_write_attr</b> <b>/dev/sg1</b> <b>0x805=iso-8859-9</b>

       Set multiple attributes specified in command line arguments:

       <b>#</b> <b>sg_write_attr</b> <b>/dev/sg1</b> <b>BarCode=BARCODE01</b> <b>"UserLabel=My</b> <b>User</b> <b>Label"</b> <b>LocaleId=iso-8859-1</b>

       Set variable-length binary attribute with values in numerical or hex sequence formats:

       <b>#</b> <b>sg_write_attr</b> <b>/dev/sg1</b> <b>VCI=1</b>
       <b>#</b> <b>sg_write_attr</b> <b>/dev/sg1</b> <b>VCI=65535</b>
       <b>#</b> <b>sg_write_attr</b> <b>/dev/sg1</b> <b>VCI=0x012345</b>
       <b>#</b> <b>sg_write_attr</b> <b>/dev/sg1</b> <b>VCI=0x0123456789abcdef</b>
       <b>#</b> <b>sg_write_attr</b> <b>/dev/sg1</b> <b>VCI:01,23,45,67,89,ab,cd,ef,20,21,22,23,24,25,26,27,28,29,2a,2b,2c,2d,2e,2f</b>

       Set fixed-length binary attribute using value in hex sequence format:

       <b>#</b> <b>sg_write_attr</b> <b>/dev/sg1</b> <b>"MediumGUID:63</b> <b>38</b> <b>66</b> <b>36</b> <b>62</b> <b>39</b> <b>32</b> <b>32</b> <b>2d</b> <b>37</b> <b>38</b> <b>38</b> <b>39</b> <b>2d</b> <b>31</b> <b>31</b> <b>65</b> <b>64</b> <b>2d</b> <b>38</b> <b>65</b> <b>35</b> <b>31</b>
       <b>2d</b> <b>66</b> <b>37</b> <b>36</b> <b>65</b> <b>62</b> <b>32</b> <b>63</b> <b>39</b> <b>38</b> <b>38</b> <b>64</b> <b>31"</b>

       Delete an attribute using empty value:

       <b>#</b> <b>sg_write_attr</b> <b>/dev/sg1</b> <b>BarCode=</b>
       or
       <b>#</b> <b>sg_write_attr</b> <b>/dev/sg1</b> <b>BarCode:</b>

       Delete multiple attributes:

       <b>#</b> <b>sg_write_attr</b> <b>/dev/sg1</b> <b>UserLabel=</b> <b>BarCode=</b> <b>0x805=</b>

       Set attributes specified in the text input file:

       <b>#</b> <b>sg_write_attr</b> <b>--in=attrs.txt</b> <b>/dev/sg1</b>
       Contents of the "attrs.txt" file:
       <u>AppVersion=1.02.15</u>
       <u>UserLabel=User</u> <u>Label</u> <u>1</u>
       <u>LastWritten=251120221637</u>
       <u>Barcode=BARCODE02</u>
       <u>OwningHost=backup_server</u>
       <u>MediaPoolName=First</u> <u>Media</u> <u>Pool</u>
       <u>PartUserLabel=PART01</u>
       <u>LUatPart=1</u>
       <u>AppFmtVersion=MTF0125</u>
       <u>VCI=0x0123456789abcdef</u>
       <u>MediumGUID:62</u> <u>64</u> <u>61</u> <u>36</u> <u>62</u> <u>30</u> <u>35</u> <u>34</u> <u>2d</u> <u>37</u> <u>38</u> <u>38</u> <u>39</u> <u>2d</u> <u>31</u> <u>31</u> <u>65</u> <u>64</u> <u>2d</u> <u>39</u> <u>65</u> <u>64</u> <u>30</u> <u>2d</u> <u>62</u> <u>37</u> <u>31</u> <u>30</u> <u>63</u>  <u>32</u>  <u>62</u>
       <u>63</u> <u>30</u> <u>34</u> <u>30</u> <u>39</u>

       Set attribute list specified in the hexadecimal format input file:

       <b>#</b> <b>sg_write_attr</b> <b>--in=attrs_hex.txt</b> <b>--hex</b> <b>/dev/sg1</b>
       Contents of the "attrs_hex.txt" file:
       <u>00</u> <u>00</u> <u>00</u> <u>25</u> <u>08</u> <u>06</u> <u>01</u> <u>00</u>  <u>20</u> <u>42</u> <u>41</u> <u>52</u> <u>43</u> <u>4f</u> <u>44</u> <u>45</u>
       <u>2d</u> <u>30</u> <u>32</u> <u>20</u> <u>20</u> <u>20</u> <u>20</u> <u>20</u>  <u>20</u> <u>20</u> <u>20</u> <u>20</u> <u>20</u> <u>20</u> <u>20</u> <u>20</u>
       <u>20</u> <u>20</u> <u>20</u> <u>20</u> <u>20</u> <u>20</u> <u>20</u> <u>20</u>  <u>20</u>

       Set attribute list specified in the raw binary input file:

       <b>#</b> <b>sg_write_attr</b> <b>--in=attrs_raw.bin</b> <b>--raw</b> <b>/dev/sg1</b>
       Contents of the "attrs_raw.bin" file:
       <u>$</u> <u>od</u> <u>-A</u> <u>x</u> <u>-t</u> <u>x1z</u> <u>-v</u> <u>attrs_raw.bin</u>
       <u>000000</u> <u>00</u> <u>00</u> <u>00</u> <u>25</u> <u>08</u> <u>06</u> <u>01</u> <u>00</u> <u>20</u> <u>42</u> <u>41</u> <u>52</u> <u>43</u> <u>4f</u> <u>44</u> <u>45</u>  <u>&gt;...%....</u> <u>BARCODE&lt;</u>
       <u>000010</u> <u>2d</u> <u>30</u> <u>32</u> <u>20</u> <u>20</u> <u>20</u> <u>20</u> <u>20</u> <u>20</u> <u>20</u> <u>20</u> <u>20</u> <u>20</u> <u>20</u> <u>20</u> <u>20</u>  <u>&gt;-02</u>             <u>&lt;</u>
       <u>000020</u> <u>20</u> <u>20</u> <u>20</u> <u>20</u> <u>20</u> <u>20</u> <u>20</u> <u>20</u> <u>20</u>                       <u>&gt;</u>         <u>&lt;</u>
       <u>000029</u>

</pre><h4><b>EXIT</b> <b>STATUS</b></h4><pre>
       The exit status of sg_write_attr is 0 when it is successful. Otherwise see the <a href="../man8/sg3_utils.8.html">sg3_utils</a>(8) man page.

</pre><h4><b>AUTHORS</b></h4><pre>
       Written by Douglas Gilbert and Boris Fox.

</pre><h4><b>REPORTING</b> <b>BUGS</b></h4><pre>
       Report bugs to &lt;dgilbert at interlog dot com&gt;.

</pre><h4><b>COPYRIGHT</b></h4><pre>
       Copyright Â© 2016-2020 Douglas Gilbert, 2022-2023 Boris Fox
       This  software is distributed under a FreeBSD license. There is NO warranty; not even for MERCHANTABILITY
       or FITNESS FOR A PARTICULAR PURPOSE.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b>sg_read_attrs(sg3_utils)</b>

sg3_utils-1.48                                    January 2023                                  <u><a href="../man8/SG_WRITE_ATTR.8.html">SG_WRITE_ATTR</a></u>(8)
</pre>
 </div>
</div></section>
</div>
</body>
</html>