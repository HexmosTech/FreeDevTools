<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>mount.ceph - mount a Ceph file system</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/ceph-common">ceph-common_19.2.1-0ubuntu3_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       mount.ceph - mount a Ceph file system

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>mount.ceph</b> <u>name*@*fsid</u>.*fs_name*=/[<u>subdir</u>] <u>dir</u> [-o <u>options</u> ]

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>mount.ceph</b>  is  a helper for mounting the Ceph file system on a Linux host.  It serves to resolve monitor
       hostname(s) into IP addresses and read authentication keys from disk; the Linux kernel  client  component
       does most of the real work. To mount a Ceph file system use:

          mount.ceph <a href="mailto:name@07fe3187-00d9-42a3-814b-72a4d5e7d5be.fs_name">name@07fe3187-00d9-42a3-814b-72a4d5e7d5be.fs_name</a>=/ /mnt/mycephfs -o mon_addr=1.2.3.4

       where  "name" is the RADOS client name (referred to hereafter as "RADOS user", and meaning any individual
       or system actor such as an application).

       Mount helper can fill in the cluster FSID by reading the ceph configuration  file.   Its  recommended  to
       call the mount helper via <a href="../man8/mount.8.html">mount</a>(8) as per:

          mount -t ceph name@.fs_name=/ /mnt/mycephfs -o mon_addr=1.2.3.4

       Note that the dot <b>.</b> still needs to be a part of the device string in this case.

       The  first  argument  is  the  device  part  of  the  mount  command.  It  includes  the  RADOS  user for
       authentication, the file system name and a path within CephFS that will be mounted at the mount point.

       Monitor addresses can be passed using <b>mon_addr</b> mount option. Multiple monitor addresses can be passed  by
       separating  addresses with a slash (<u>/</u>). Only one monitor is needed to mount successfully; the client will
       learn about all monitors from any responsive monitor. However, it is a good idea to specify more than one
       in case  the  one  happens  to  be  down  at  the  time  of  mount.  Monitor  addresses  takes  the  form
       ip_address[:port]. If the port is not specified, the Ceph default of 6789 is assumed.

       If monitor addresses are not specified, then <b>mount.ceph</b> will attempt to determine monitor addresses using
       local  configuration  files  and/or DNS SRV records. In similar way, if authentication is enabled on Ceph
       cluster (which is done using CephX) and options <b>secret</b> and <b>secretfile</b> are not specified in  the  command,
       the  mount  helper  will spawn a child process that will use the standard Ceph library routines to find a
       keyring and fetch the secret from it (including the monitor address and FSID if those not specified).

       A sub-directory of the file system can be mounted by specifying the (absolute) path to the  sub-directory
       right after "=" in the device part of the mount command.

       Mount  helper application conventions dictate that the first two options are device to be mounted and the
       mount point for that device. Options must be passed only after these fixed arguments.

</pre><h4><b>OPTIONS</b></h4><pre>
   <b>Basic</b>
       <b>conf</b>   Path to a ceph.conf file. This is used to initialize the Ceph context for autodiscovery of monitor
              addresses and auth secrets. The default is to use the standard search path for ceph.conf files.

       <b>mount_timeout</b>
              int (seconds), Default: 60

       <b>ms_mode=&lt;legacy|crc|secure|prefer-crc|prefer-secure&gt;</b>
              Set the connection mode that the client uses for transport. The available modes are:

              • <b>legacy</b>: use messenger v1 protocol to talk to the cluster

              • <b>crc</b>: use messenger v2, without on-the-wire encryption

              • <b>secure</b>: use messenger v2, with on-the-wire encryption

              • <b>prefer-crc</b>: crc mode, if denied agree to secure mode

              • <b>prefer-secure</b>: secure mode, if denied agree to crc mode

       <b>mon_addr</b>
              Monitor address of the cluster in the form of ip_address[:port]

       <b>fsid</b>   Cluster FSID. This can be found using <u>ceph</u> <u>fsid</u> command.

       <b>secret</b> secret key for use with CephX. This option is insecure  because  it  exposes  the  secret  on  the
              command line. To avoid this, use the secretfile option.

       <b>secretfile</b>
              path to file containing the secret key to use with CephX

       <b>recover_session=&lt;no|clean&gt;</b>
              Set  auto  reconnect  mode in the case where the client is blocklisted. The available modes are <b>no</b>
              and <b>clean</b>. The default is <b>no</b>.

              • <b>no</b>: never attempt to reconnect when client detects that it  has  been  blocklisted.  Blocklisted
                clients will not attempt to reconnect and their operations will fail too.

              • <b>clean</b>:  client  reconnects  to  the  Ceph cluster automatically when it detects that it has been
                blocklisted. During reconnect, client drops dirty data/metadata,  invalidates  page  caches  and
                writable  file handles.  After reconnect, file locks become stale because the MDS loses track of
                them. If an inode contains any stale file locks, read/write on the inode is  not  allowed  until
                applications release all stale file locks.

       <b>command</b>
              <u>fs=&lt;fs-name&gt;</u> Specify the non-default file system to be mounted, when using the old syntax.

       <b>command</b>
              <u>mds_namespace=&lt;fs-name&gt;</u> A synonym of "fs=" (Deprecated).

   <b>Advanced</b>
       <b>cap_release_safety</b>
              int, Default: calculated

       <b>caps_wanted_delay_max</b>
              int, cap release delay, Default: 60

       <b>caps_wanted_delay_min</b>
              int, cap release delay, Default: 5

       <b>dirstat</b>
              funky <u>cat</u> <u>dirname</u> for stats, Default: off

       <b>nodirstat</b>
              no funky <u>cat</u> <u>dirname</u> for stats

       <b>ip</b>     my ip

       <b>noasyncreaddir</b>
              no dcache readdir

       <b>nocrc</b>  no data crc on writes

       <b>noshare</b>
              create  a  new  client  instance, instead of sharing an existing instance of a client mounting the
              same cluster

       <b>osdkeepalive</b>
              int, Default: 5

       <b>osd_idle_ttl</b>
              int (seconds), Default: 60

       <b>rasize</b> int (bytes), max readahead. Default: 8388608 (8192*1024)

       <b>rbytes</b> Report the recursive size of the directory contents for st_size on directories.  Default: off

       <b>norbytes</b>
              Do not report the recursive size of the directory contents for st_size on directories.

       <b>readdir_max_bytes</b>
              int, Default: 524288 (512*1024)

       <b>readdir_max_entries</b>
              int, Default: 1024

       <b>rsize</b>  int (bytes), max read size. Default: 16777216 (16*1024*1024)

       <b>snapdirname</b>
              string, set the name of the hidden snapdir. Default: .snap

       <b>write_congestion_kb</b>
              int (kb), max writeback in flight. scale with available memory. Default: calculated from available
              memory

       <b>wsize</b>  int (bytes), max write size. Default: 16777216 (16*1024*1024) (writeback uses smaller of wsize and
              stripe unit)

       <b>wsync</b>  Execute all namespace operations synchronously. This ensures that  the  namespace  operation  will
              only complete after receiving a reply from the MDS. This is the default.

       <b>nowsync</b>
              Allow  the  client  to  do  namespace  operations  asynchronously.  When this option is enabled, a
              namespace operation may complete before the MDS replies, if it has sufficient capabilities  to  do
              so.

       <b>crush_location=x</b>
              Specify  the  location  of  the  client in terms of CRUSH hierarchy (since 5.8).  This is a set of
              key-value pairs separated from each other by '|', with keys separated from values  by  ':'.   Note
              that  '|'  may  need to be quoted or escaped to avoid it being interpreted as a pipe by the shell.
              The key is the bucket type name (e.g. rack, datacenter or region with default  bucket  types)  and
              the  value is the bucket name. For example, to indicate that the client is local to rack "myrack",
              data center "mydc" and region "myregion":

                 crush_location=rack:myrack|datacenter:mydc|region:myregion

              Each key-value pair stands on its own: "myrack" doesn't need to reside in "mydc",  which  in  turn
              doesn't need to reside in "myregion".  The location is not a path to the root of the hierarchy but
              rather  a set of nodes that are matched independently.  "Multipath" locations are supported, so it
              is possible to indicate locality for multiple parallel hierarchies:

                 crush_location=rack:myrack1|rack:myrack2|datacenter:mydc

       <b>read_from_replica=&lt;no|balance|localize&gt;</b>

              • <b>no</b>: Disable replica reads, always pick the primary OSD (since 5.8, default).

              • <b>balance</b>: When a replicated pool receives a read request, pick a random OSD from the PG's  acting
                set to serve it (since 5.8).

                This  mode  is safe for general use only since Octopus (i.e. after "ceph osd require-osd-release
                octopus"). Otherwise it should be limited to read-only workloads such as snapshots.

              • <b>localize</b>: When a replicated pool receives a read request, pick the most local OSD  to  serve  it
                (since  5.8).  The  locality  metric is calculated against the location of the client given with
                crush_location; a match with the lowest-valued bucket type wins.   For  example,  an  OSD  in  a
                matching  rack  is closer than an OSD in a matching data center, which in turn is closer than an
                OSD in a matching region.

                This mode is safe for general use only since Octopus (i.e. after "ceph  osd  require-osd-release
                octopus").  Otherwise it should be limited to read-only workloads such as snapshots.

</pre><h4><b>EXAMPLES</b></h4><pre>
       Mount the full file system:

          mount -t ceph fs_user@.mycephfs2=/ /mnt/mycephfs

       Mount only part of the namespace/file system:

          mount.ceph fs_user@.mycephfs2=/some/directory/in/cephfs /mnt/mycephfs

       Pass the monitor host's IP address, optionally:

          mount.ceph fs_user@.mycephfs2=/ /mnt/mycephfs -o mon_addr=192.168.0.1

       Pass the port along with IP address if it's running on a non-standard port:

          mount.ceph fs_user@.mycephfs2=/ /mnt/mycephfs -o mon_addr=192.168.0.1:7000

       If there are multiple monitors, pass each address separated by a <u>/</u>:

          mount.ceph fs_user@.mycephfs2=/ /mnt/mycephfs -o mon_addr=192.168.0.1/192.168.0.2/192.168.0.3

       Pass secret key for CephX user optionally:

          mount.ceph fs_user@.mycephfs2=/ /mnt/mycephfs -o secret=AQATSKdNGBnwLhAAnNDKnH65FmVKpXZJVasUeQ==

       Pass file containing secret key to avoid leaving secret key in shell's command history:

          mount.ceph fs_user@.mycephfs2=/ /mnt/mycephfs -o secretfile=/etc/ceph/fs_username.secret

       If authentication is disabled on Ceph cluster, omit the credential related option:

          mount.ceph fs_user@.mycephfs2=/ /mnt/mycephfs

       To mount using the old syntax:

          mount -t ceph 192.168.0.1:/ /mnt/mycephfs

</pre><h4><b>AVAILABILITY</b></h4><pre>
       <b>mount.ceph</b>  is  part of Ceph, a massively scalable, open-source, distributed storage system. Please refer
       to the Ceph documentation at <u>https://docs.ceph.com</u> for more information.

</pre><h4><b>FEATURE</b> <b>AVAILABILITY</b></h4><pre>
       The <b>recover_session=</b> option was added to mainline Linux kernels in v5.4.  <b>wsync</b> and <b>nowsync</b> were added in
       v5.7.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <u><a href="../man8/ceph-fuse.8.html">ceph-fuse</a></u>(8), <u><a href="../man8/ceph.8.html">ceph</a></u>(8)

</pre><h4><b>COPYRIGHT</b></h4><pre>
       2010-2014, Inktank Storage, Inc. and contributors. Licensed  under  Creative  Commons  Attribution  Share
       Alike 3.0 (CC-BY-SA-3.0)

dev                                               May 22, 2025                                     <u><a href="../man8/MOUNT.CEPH.8.html">MOUNT.CEPH</a></u>(8)
</pre>
 </div>
</div></section>
</div>
</body>
</html>