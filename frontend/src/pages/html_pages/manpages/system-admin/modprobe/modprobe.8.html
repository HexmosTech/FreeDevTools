<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>modprobe - Add and remove modules from the Linux Kernel</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/kmod">kmod_34.2-2ubuntu1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       modprobe - Add and remove modules from the Linux Kernel

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>modprobe</b> [<b>-v</b>] [<b>-V</b>] [<b>-C</b> <u>config-file</u>] [<b>-n</b>] [<b>-i</b>] [<b>-q</b>] [<b>-b</b>] [<u>modulename</u>]
                [<u>module</u> <u>parameters</u>...]

       <b>modprobe</b> [<b>-r</b>] [<b>-v</b>] [<b>-n</b>] [<b>-i</b>] [<u>modulename</u>...]

       <b>modprobe</b> [<b>-c</b>]

       <b>modprobe</b> [<b>--dump-modversions</b>] [<u>filename</u>]

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>modprobe</b>  intelligently  adds or removes a module from the Linux kernel: note that for convenience, there
       is no difference between _ and - in module names (automatic underscore conversion is performed). <b>modprobe</b>
       looks in the module directory <a href="file:/usr/lib/">/usr/lib/</a>`uname -r` for all the modules and other  files,  except  for  the
       optional  configuration files (see <b><a href="../man5/modprobe.d.5.html">modprobe.d</a></b>(5)). <b>modprobe</b> will also use module options specified on the
       kernel  command  line  in   the   form   of   &lt;module&gt;.&lt;option&gt;   and   blacklists   in   the   form   of
       modprobe.blacklist=&lt;module&gt;.

       Note  that  unlike  in  2.4  series  Linux kernels (which are not supported by this tool) this version of
       <b>modprobe</b> does not do anything to the module itself: the  work  of  resolving  symbols  and  understanding
       parameters is done inside the kernel. So module failure is sometimes accompanied by a kernel message: see
       <b><a href="../man8/dmesg.8.html">dmesg</a></b>(8).

       <b>modprobe</b>  expects  an  up-to-date  modules.dep.bin  file as generated by the corresponding <b>depmod</b> utility
       shipped along with <b>modprobe</b> (see <b><a href="../man8/depmod.8.html">depmod</a></b>(8)). This file lists what other modules  each  module  needs  (if
       any), and <b>modprobe</b> uses this to add or remove these dependencies automatically.

       If  any  arguments  are  given  after  the  <u>modulename</u>, they are passed to the kernel (in addition to any
       options listed in the configuration file).

       When loading modules, <u>modulename</u> can also be a path to the module. If  the  path  is  relative,  it  must
       explicitly  start  with "./". Note that this may fail when using a path to a module with dependencies not
       matching the installed <b>depmod</b> database.

</pre><h4><b>OPTIONS</b></h4><pre>
       <b>-a</b>, <b>--all</b>
           Insert all module names on the command line.

       <b>-b</b>, <b>--use-blacklist</b>
           This option causes <b>modprobe</b> to apply the <b>blacklist</b> commands in the configuration files  (if  any)  to
           module names as well. It is usually used by <b><a href="../man7/udev.7.html">udev</a></b>(7).

       <b>-C</b> <u>directory</u>, <b>--config</b>=<u>directory</u>
           This option overrides the default configuration directory. See <b><a href="../man5/modprobe.d.5.html">modprobe.d</a></b>(5).

           This  option  is  passed  through  <b>install</b>  or  <b>remove</b>  commands  to  other  <b>modprobe</b> commands in the
           MODPROBE_OPTIONS environment variable.

       <b>-c</b>, <b>--showconfig</b>
           Dump out the effective configuration from the config directory and exit.

       <b>--dump-modversions</b>
           Print out a list of module versioning information required by a module. This option is commonly  used
           by distributions in order to package up a Linux kernel module using module versioning deps.

       <b>-d</b>, <b>--dirname</b>
           Root directory for modules, / by default.

       <b>--first-time</b>
           Normally,  <b>modprobe</b> will succeed (and do nothing) if told to insert a module which is already present
           or to remove a module  which  isn't  present.  This  is  ideal  for  simple  scripts;  however,  more
           complicated  scripts  often  want  to  know  whether <b>modprobe</b> really did something: this option makes
           <b>modprobe</b> fail in the case that it actually didn't do anything.

       <b>--force-vermagic</b>
           Every module contains a small string  containing  important  information,  such  as  the  kernel  and
           compiler  versions.  If  a  module  fails  to  load and the kernel complains that the "version magic"
           doesn't match, you can use this option to  remove  it.  Naturally,  this  check  is  there  for  your
           protection, so using this option is dangerous unless you know what you're doing.

           This  applies to any modules inserted: both the module (or alias) on the command line and any modules
           on which it depends.

       <b>--force-modversion</b>
           When modules are compiled with CONFIG_MODVERSIONS set, a section  detailing  the  versions  of  every
           interfaced  used  by (or supplied by) the module is created. If a module fails to load and the kernel
           complains that the module disagrees about a version of some interface, you can use <b>--force-modversion</b>
           to remove the version information altogether. Naturally, this check is there for your protection,  so
           using this option is dangerous unless you know what you're doing.

           This  applies to any modules inserted: both the module (or alias) on the command line and any modules
           on which it depends.

       <b>-f</b>, <b>--force</b>
           Try to strip any versioning information from the module which might otherwise stop it  from  loading:
           this  is  the same as using both <b>--force-vermagic</b> and <b>--force-modversion</b>. Naturally, these checks are
           there for your protection, so using this option is dangerous unless you know what you are doing.

           This applies to any modules inserted: both the module (or alias) on the command line and any  modules
           on which it depends.

       <b>-i</b>, <b>--ignore-install</b>, <b>--ignore-remove</b>
           This  option causes <b>modprobe</b> to ignore <b>install</b> and <b>remove</b> commands in the configuration file (if any)
           for the module specified on the command line (any dependent modules are still subject to commands set
           for them in the configuration file). Both <b>install</b> and <b>remove</b> commands will currently be ignored  when
           this  option  is  used  regardless of whether the request was more specifically made with only one or
           other (and not both) of <b>--ignore-install</b> or <b>--ignore-remove</b>. See <b><a href="../man5/modprobe.d.5.html">modprobe.d</a></b>(5).

       <b>-n</b>, <b>--dry-run</b>, <b>--show</b>
           This option does everything but actually insert or delete the modules (or run the install  or  remove
           commands).  Combined with <b>-v</b>, it is useful for debugging problems. For historical reasons both <b>--dry-</b>
           <b>run</b> and <b>--show</b> actually mean the same thing and are interchangeable.

       <b>-q</b>, <b>--quiet</b>
           With this flag, <b>modprobe</b> won't print an error message if you try to remove  or  insert  a  module  it
           can't  find (and isn't an alias or <b>install</b>/<b>remove</b> command). However, it will still return with a non-
           zero exit status. The kernel uses this to opportunistically probe for modules which might exist using
           request_module.

       <b>-R</b>, <b>--resolve-alias</b>
           Print all module names matching an alias. This can be useful for debugging module alias problems.

       <b>-r</b>, <b>--remove</b>
           This option causes <b>modprobe</b> to remove rather than insert a module. If the modules it depends  on  are
           also  unused,  <b>modprobe</b>  will  try  to remove them too. Unlike insertion, more than one module can be
           specified on the command line (it does not make sense to  specify  module  parameters  when  removing
           modules).

           There  is  usually  no reason to remove modules, but some buggy modules require it. Your distribution
           kernel may not have been built to support removal of modules at all.

       <b>-w</b> <u>TIMEOUT_MSEC</u>, <b>--wait</b>=<u>TIMEOUT_MSEC</u>
           This option causes <b>modprobe</b> <b>-r</b> to continue trying to remove a module if it fails due  to  the  module
           being  busy,  i.e.  its  refcount is not 0 at the time the call is made. Modprobe tries to remove the
           module with an incremental sleep time between each tentative  up  until  the  maximum  wait  time  in
           milliseconds passed in this option.

       <b>-S</b> <u>version</u>, <b>--set-version</b>=<u>version</u>
           Set  the  kernel  version, rather than using <b><a href="../man2/uname.2.html">uname</a></b>(2) to decide on the kernel version (which dictates
           where to find the modules).

       <b>--show-depends</b>
           List the dependencies of a module (or alias), including the module itself. This produces a  (possibly
           empty)  set  of  module filenames, one per line, each starting with "insmod" and is typically used by
           distributions to determine which modules to include when generating initrd/initramfs images.  <b>Install</b>
           commands  which  apply  are shown prefixed by "install". It does not run any of the install commands.
           Note that <b><a href="../man8/modinfo.8.html">modinfo</a></b>(8) can be used to extract dependencies of a module  from  the  module  itself,  but
           knows nothing of aliases or install commands.

       <b>-s</b>, <b>--syslog</b>
           This  option  causes  any error messages to go through the syslog mechanism (as LOG_DAEMON with level
           LOG_NOTICE) rather than to standard  error.  This  is  also  automatically  enabled  when  stderr  is
           unavailable.

           This  option  is  passed  through  <b>install</b>  or  <b>remove</b>  commands  to  other  <b>modprobe</b> commands in the
           MODPROBE_OPTIONS environment variable.

       <b>-V</b>, <b>--version</b>
           Show version of program and exit.

       <b>-v</b>, <b>--verbose</b>
           Print messages about what the program is doing. Usually <b>modprobe</b> only prints  messages  if  something
           goes wrong.

           This  option  is  passed  through  <b>install</b>  or  <b>remove</b>  commands  to  other  <b>modprobe</b> commands in the
           MODPROBE_OPTIONS environment variable.

</pre><h4><b>ENVIRONMENT</b></h4><pre>
       The MODPROBE_OPTIONS environment variable can also be used to pass command line  arguments  to  <b>modprobe</b>.
       The  format  is  intentionally  left  undocumented,  since  the  use  by third-party tools and scripts is
       discouraged.

       The environment variable originates with the implementation of the install rules.

</pre><h4><b>COPYRIGHT</b></h4><pre>
       This manual page originally Copyright 2002, Rusty Russell, IBM Corporation.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man5/modprobe.d.5.html">modprobe.d</a></b>(5), <b><a href="../man8/insmod.8.html">insmod</a></b>(8), <b><a href="../man8/rmmod.8.html">rmmod</a></b>(8), <b><a href="../man8/lsmod.8.html">lsmod</a></b>(8), <b><a href="../man8/modinfo.8.html">modinfo</a></b>(8), <b><a href="../man8/depmod.8.html">depmod</a></b>(8)

</pre><h4><b>BUGS</b></h4><pre>
       Please direct any bug reports to kmod's  issue  tracker  at  https://github.com/kmod-project/kmod/issues/
       alongside with version used, steps to reproduce the problem and the expected outcome.

</pre><h4><b>AUTHORS</b></h4><pre>
       Numerous  contributions have come from the linux-modules mailing list &lt;<a href="mailto:linux-modules@vger.kernel.org">linux-modules@vger.kernel.org</a>&gt; and
       Github. If you have a clone of kmod.git itself, the output of <b><a href="../man1/git-shortlog.1.html">git-shortlog</a></b>(1) and <b><a href="../man1/git-blame.1.html">git-blame</a></b>(1)  can  show
       you the authors for specific parts of the project.

       <b>Lucas</b> <b>De</b> <b>Marchi</b> &lt;<a href="mailto:lucas.de.marchi@gmail.com">lucas.de.marchi@gmail.com</a>&gt; is the current maintainer of the project.

kmod                                               2025-06-11                                        <u><a href="../man8/MODPROBE.8.html">MODPROBE</a></u>(8)
</pre>
 </div>
</div></section>
</div>
</body>
</html>