<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ntopng - display top network users</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/ntopng">ntopng_5.2.1+dfsg1-2ubuntu1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       ntopng - display top network users

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>ntopng</b> [<b>filename</b>]

       or

       <b>ntopng</b>  [<b>-i</b> <u>&lt;interface|pcap&gt;</u>] [<b>-d</b> <u>&lt;data_directory&gt;</u>] [<b>-t</b> <u>&lt;install_directory&gt;</u>] [<b>-n</b> <u>&lt;mode&gt;</u>] [<b>-e</b>] [<b>-1</b> <u>&lt;path&gt;</u>]
       [<b>-2</b> <u>&lt;path&gt;</u>] [<b>-3</b> <u>&lt;path&gt;</u>] [<b>-w</b> <u>&lt;[:]http_port&gt;</u>] [<b>-W</b> <u>&lt;[:]https_port&gt;</u>] [<b>-m</b>  <u>&lt;local_subnets&gt;</u>]  [<b>-u</b>|<b>--no-promisc</b>]
       [<b>-p</b>  <u>&lt;protocols&gt;</u>]  [<b>-P</b>]  [<b>-q</b>]  [<b>-r</b>  <u>&lt;redis_host[:port][@db-id]&gt;</u>] [<b>-g</b> <u>&lt;cpu_core_ids&gt;</u>] [<b>-s</b>] [<b>-U</b> <u>&lt;sys_user&gt;</u>]
       [<b>-l</b>&lt;mode&gt;<b>]</b>  [<b>-X</b>  <u>&lt;max</u>num<u>flows&gt;</u>]  [<b>-B</b>  <u>&lt;filter&gt;</u>]  [<b>-k</b>  <u>&lt;key&gt;</u>]  [<b>-A</b>  <u>&lt;mode&gt;</u>]   [<b>-x</b>   <u>&lt;max_num_hosts&gt;</u>]   [<b>-F</b>
       <u>&lt;mode&gt;</u>&lt;dump-flows&gt;<u>]</u> [<b>-D</b> <u>&lt;dump-hosts&gt;</u>] [<b>-I</b> <u>&lt;export-flows&gt;</u>] [<b>-O</b> <u>&lt;communities-list&gt;</u>] [<b>-E</b> <u>&lt;sticky-hosts&gt;</u>] [<b>-t</b>
       <u>&lt;dir&gt;</u>]    [<b>-T</b>    <u>&lt;enable-taps&gt;</u>]   [<b>-H</b>]   [<b>--hw-timestamp-mode</b>   <u>&lt;mode&gt;</u>]   [<b>-N</b>   <u>&lt;name&gt;</u>]   [<b>-Z</b>   <u>&lt;prefix&gt;</u>]
       [<b>--shutdown-when-done</b>]  [<b>--zmq-encrypt-pwd</b>  <u>&lt;apssword&gt;</u>]  [<b>--capture-direction</b>]   [<b>--online-license-check</b>]
       [<b>--print-ndpi-protocols</b>] [<b>-v</b> <u>&lt;level&gt;</u>] [<b>-V</b>] [<b>-h</b>]

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>ntopng</b>  shows the current network usage. It displays a list of hosts that are currently using the network
       and reports information concerning the (IP and non-IP) traffic  generated  and  received  by  each  host.
       <b>ntopng</b> may operate as a front-end collector or as a stand-alone collector/display program.  A web browser
       is needed to access the information captured by the <b>ntopng</b> program.

       <b>ntopng</b> is a hybrid layer 2 / layer 3 network monitor, by default it uses the layer 2 Media Access Control
       (MAC)  addresses  AND the layer 3 tcp/ip addresses.  <b>ntopng</b> is capable of associating the two, so that ip
       and non-ip traffic (e.g. arp, rarp) are combined for a complete picture of network activity.

</pre><h4><b>OPTIONS</b></h4><pre>
       <b>filename</b>
        The text of <b>filename</b> is copied — ignoring line breaks and comment lines (anything following a #) —  into
        the  command  line.   <b>ntopng</b> behaves as if all of the text had simply been typed directly on the command
        line.  For example, if the command line is "ntopng s.conf" and file s.conf contains just the line  '-s',
        then  the  effective  command  line is "ntopng -s".  In case you use a configuration file, the following
        options on the command line will be ignored. Example "ntopng /etc/ntopng/ntopng.conf -v" the  -v  option
        is ignored.

        The configuration file is similar to the command line, with the exception that an equal sign '=' must be
        used between key and value. Example: -i=p1p2 or --interface=p1p2 For options with no value (e.g. -v) the
        equal is also necessary. Example: "-v=" must be used.

        Remember,  most  <b>ntopng</b>  options  are  "sticky",  that  is they just set an internal flag. Invoking them
        multiple times doesn't change the <b>ntopng's</b>  behavior.  However,  options  that  set  a  value,  such  as
        --trace-level, will use the LAST value given: -w 8000 -w 8080 will run as -w 8080.

       <b>-n|--dns-mode</b> <b>&lt;mode&gt;</b>
        Sets the DNS address resolution mode:
        0 — Decode DNS responses and resolve only local (-m) numeric IPs
        1 — Decode DNS responses and resolve all numeric IPs
        2 — Decode DNS responses and don't resolve numeric IPs
        3 — Don't decode DNS responses and don't resolve numeric IPs

       <b>-i|--interface</b> <b>&lt;interface|pcap&gt;</b>
        Specifies  the  network  interface or collector endpoint to be used by <b>ntopng</b> for network monitoring. On
        Unix you can specify both the interface name (e.g. lo) or the numeric interface id as  shown  by  ntopng
        -h. On Windows you must use the interface number instead. Note that you can specify -i multiple times in
        order to instruct <b>ntopng</b> to create multiple interfaces. If you want to pipe data from stdin use - (dash)
        as device name. Example "cat <a href="file:~/traffic.pcap">~/traffic.pcap</a> | ./ntopng -i -".

        The  -i option can also be used to specify a unified view of more interfaces, given they are provided in
        a comma-separated list and with the "view:" prefix (e.g. -i view:eth0,eth1). This is just a logical view
        of multiple physical interfaces.

        If a collector endpoint is specified, <b>ntopng</b> open a ZeroMQ connection to the  specified  endpoint  as  a
        subscriber  whose format is  &lt;ZMQ endpoint&gt;. In this case ntopng acts as a client that subscribes to the
        remote endpoint and fetches flows. If you want the remote probe to send flows to ntopng (as in NetFlow),
        (you need to add a 'c' at the collector  endpoint  in  ntopng.  Example:  tcp://127.0.0.1:5556c  (ntopng
        expects  to receive flows on 127.0.0.1:5556) and tcp://127.0.0.1:5556 (ntopng connects to 127.0.0.1:5556
        to receive flows).  Note that you can specify multiple endpoint, commas  separated  list,  in  order  to
        instruct <b>ntopng</b> to aggregate it in a single interface. (e.g -i tcp://127.0.0.1:5556,ipc://flows.ipc)

        If  you want you can pass a path of a pcap file (e.g. -i dummy.pcap) or a path of a list file contains a
        path of a pcap file for each line (e.g. -i pcap.list) and ntopng will read packets  from  the  specified
        pcap file/s.

        <b>nProbe</b>  can  be  instructed  to act as a publisher delivering flows to a ZeroMQ endpoint using the --ZMQ
        &lt;endpoint&gt; parameter.

        Finally using -i dummy it is possible to create a dummy interface  that  generates  a  large  number  of
        flows/hosts  in order to saturate ntopng resources. This way ntopng can be tested for performance issues
        as well proper handling of low-memory situations.

       <b>-d|--data-dir</b> <b>&lt;path&gt;</b>
        Specifies the data directory (it must be writable). Default directory is /var/lib/ntopng

       <b>-t|--install-dir</b> <b>&lt;path&gt;</b>
        Specifies the installation directory. Default directory is retrieved from common install paths.

       <b>-G|--pid-path</b> <b>&lt;path&gt;</b>
        Specifies the path where the PID (process ID) is saved. Default is /var/run/ntopng.pid

       <b>-k|--traffic-filtering</b> <b>&lt;key&gt;</b>
        Set the key used  to  access  httpbl  services  (default:  disabled).   Please  read  README.httpbl  and
        README.flashstart for more info.

       <b>-e|--daemon</b>
        This  parameter  causes  ntop  to  become  a  daemon,  i.e.  a task which runs in the background without
        connection to a specific terminal. To use ntop other than as a casual monitoring tool, you probably will
        want to use this option.

       <b>-1|--httpdocs-dir</b> <b>&lt;path&gt;</b>
        Directory where HTTP documents are placed. Default: httpdocs.

       <b>-2|--scripts-dir</b> <b>&lt;path&gt;</b>
        Directory where lua scripts reside. Default: scripts.

       <b>-3|--callbacks-dir</b> <b>&lt;path&gt;</b>
        Directory where callback scripts reside. Default: scripts/callbacks.

       <b>-w|--http-port</b> <b>&lt;[:]http_port[,&lt;alt_http_port&gt;]&gt;</b>
        Sets the HTTP port of the embedded web server. If set to 0, the http server will  be  disabled.  If  you
        prepend  a : before the port (i.e. -w :80) ntopng will listen to the loopback address. You can specify a
        second HTTP port so that ntopng can isten on both ports. Example -w 80,3000 will start  ntopng  on  both
        port 80 adn 3000. Note that for enabling the captive portal (not available on the community edition) you
        need  to start ntopng on port 80.  NOTE: omitting the -w option won't disable http: ntopng will fallback
        to the default http port.

       <b>-W|--https-port</b> <b>&lt;[:]https_port&gt;</b>
        Sets the HTTPS port of the embedded web server. If not set, it will be set to the value of -w plus  one.
        If you prepend a : before the port (i.e. -w :80) ntopng will listen to the loopback address.

       <b>-m|--local-networks</b> <b>&lt;local_nets&gt;</b>
        <b>ntopng</b> determines the ip addresses and netmasks for each active interface. Any traffic on those networks
        is  considered local. This parameter allows the user to define additional networks and subnetworks whose
        traffic is also considered local in <b>ntopng</b> reports. All  other  hosts  are  considered  remote.  If  not
        specified the default is set to 192.168.1.0/24.

        Commas  separate  multiple  network  values.   Both  netmask  and  CIDR notation may be used, even mixed
        together, for instance "131.114.21.0/24,10.0.0.0/255.0.0.0".

       <b>-u|--no-promisc</b>
        Disable promiscuous mode when capturing from network interfaces (by default promiscuous mode is used).

       <b>-p|--ndpi-protocols</b> <b>&lt;file&gt;.protos</b>
        This   parameter   is    used    to    specify    a    nDPI    protocol    file.     The    format    is
        &lt;tcp|udp&gt;:&lt;port&gt;,&lt;tcp|udp&gt;:&lt;port&gt;,.....@&lt;proto&gt; where &lt;port&gt; is a port number and &lt;proto&gt; is a name of a
        protocol  supported  by  nDPI protocol, or host:"&lt;string&gt;"@&lt;proto&gt; where string is part of an host name.
        As example see https://svn.ntop.org/svn/ntop/trunk/nDPI/example/protos.txt

       <b>-P|--disable-host-persistency</b>
        Disable host persistency in the Redis cache.

       <b>-q|--disable-autologout</b>
        Disable web interface logout for inactivity.

       <b>-l|--disable-login</b>
        Disable user login. Mode can be set to 0 (disable login only for localhost) or 1 (disable login only for
        all hosts). This is useful for debug purposes, local host access unrestricted, or if  you  want  to  let
        everyone  access the web gui.  NOTE: this option lets anyone accessing the web interface (from localhost
        or from all hosts depending on the parameter) be administrator of the web interface.

       <b>-r|--redis</b> <b>&lt;redis_host[:port][@db</b>
        Specifies the redis database host, port, and a database id. On unix &lt;redis_host&gt; can be the redis socket
        file to connect to. If a socket connection is made, &lt;port&gt; is ignored.  In case you plan to run multiple
        redis-based applications on the same redis  server,  you  need  to  use  a  different  database  id  per
        application. For more information about redis, please refer to <a href="http://redis.io/">http://redis.io/</a>.

       <b>-g|--core-affinity</b> <b>&lt;cpu_core_id1[,cpu_core_id2,...]&gt;</b>
        Bind  the  capture/processing  threads to specific CPU cores, indicated in a comma-separated list. Cores
        are assigned to interface processing loops in the order interfaces are  mapped  to  IDs.   NOTE:  ntopng
        automatically sets affinity of capture/processing threads to different CPU cores.

       <b>-U|--user</b> <b>&lt;user&gt;</b>
        Run ntopng with the specified system user instead of 'nobody'.

       <b>-s|--dont-change-user</b>
        Do not change user (debug only).

       <b>-B|--packet-filter</b> <b>&lt;filter&gt;</b>
        Specifies  the  packet filter for the specified interface. For pcap/PF_RING interfaces the filter has to
        be specified in BPF format (Berkeley Packet Filter).

       <b>-X|--max-num-flows</b> <b>&lt;num&gt;</b>
        Specify the maximum number of active flows that ntopng will handle. If more flows are detected they will
        be discarded.

       <b>-x|--max-num-hosts</b> <b>&lt;num&gt;</b>
        Specify the maximum number of active hosts that ntopng will handle. If more hosts are detected they will
        be discarded.

       <b>-F|--dump-flows</b> <b>&lt;mode&gt;</b>
        If ntopng is compiled with sqlite support, flows can dumped persistently on disk using this option.  The
        mode can be set to es - Dump on ntopng.es queue in Elasticsearch format that be insert on a ES database.
        In   this   case   the   format   is  "es;&lt;idx  type&gt;;&lt;idx  name&gt;;&lt;es  URL&gt;;&lt;http  auth&gt;".  Example:  -F
        "es;ntopng;ntopng-%Y.%m.%d;<a href="http://localhost">http://localhost</a>:9200/_bulk;user:pwd". The &lt;idx name&gt; accepts the  strftime()
        format.   mysql  -  Dump  flows  in  MySQL  tables.  In  this  case  the  format  is  "&lt;host[@port]|unix
        socket&gt;:&lt;dbname&gt;:&lt;table&gt;:&lt;user&gt;:&lt;pw&gt;". Example -F "mysql;localhost;ntopng;flows-%Y.%m.%d;root;".

       <b>-D|--dump-hosts</b> <b>&lt;mode&gt;</b>
        If ntopng is compiled with sqlite support, hosts contacts can dumped persistently  on  disk  using  this
        option.   Databases are created daily under &lt;data directory&gt;/&lt;interface&gt;/contacts. This options supports
        three dump modes: local (dumps only local hosts), remote (dumps  only  remote  hosts),  all  (dumps  all
        hosts). If not specified, no hosts are dumped to disk.

       <b>-I|--export-flows</b> <b>&lt;endpoint&gt;</b>
        Export  the  expired  flows  on  the  specified endpoint. For instance supposing to start ntopng on host
        1.2.3.4 as ntopng -I "tcp://*:3456", it exports flows  on  this  endpoint  so  that  you  can  create  a
        hierarchy   of   ntopng's.   You  can  achieve  that  by  starting  a  collector  ntopng  as  ntopng  -i
        tcp://1.2.3.4:3456

       <b>-O|--communities-list</b> <b>&lt;filename&gt;</b>
        Parse the specified file and retrieve a list of  communities,  that  are  a  logical  representation  of
        clusters  of  hosts  that  fall  under the same administrative domain. The file must be in the following
        format:
            communityX@id1=net1,net2,net3
            communityY@id2=net4,net5,net6
            ...

       <b>-E|--dump-aggregations</b> <b>&lt;mode&gt;</b>
        If ntopng is compiled with sqlite support, hosts contacts can dumped persistently  on  disk  using  this
        option.   Databases are created daily under &lt;data directory&gt;/&lt;interface&gt;/contacts. This options supports
        three dump modes: local  (dumps  only  aggregations  contacted  by  local  hosts),  remote  (dumps  only
        aggregations  contacted  by  remote hosts), all (dumps all aggregations). If not specified, no hosts are
        dumped to disk.

       <b>-S|--sticky-hosts</b> <b>&lt;mode&gt;</b>
        ntopng periodically purges idle hosts. With this option you can modify this behaviour by telling  ntopng
        not  to purge the hosts specified by -S. This parameter requires an argument that can be "all" (Keep all
        hosts in memory), "local" (Keep only local hosts), "remote" (Keep  only  remote  hosts),  "none"  (Flush
        hosts when idle).

       <b>--hw-timestamp-mode</b> <b>&lt;mode&gt;</b>
        Enable hw timestamping/stripping. Supported TS modes are:
        ixia — Timestamped packets by ixiacom.com hardware devices.

       <b>-t|--install-dir</b> <b>&lt;dir&gt;</b>
        Force  ntopng  to use the HTML/lua files installed on the specified directory. This option should not be
        used unless under testing or development, as packaging systems should  place  the  files  at  the  right
        place.

       <b>-T|--enable-taps</b> <b>&lt;mode&gt;</b>
        Enable  tap  interfaces to dump packets on. If not specified, traffic can be dumped only on disk but not
        sent live to apps.

       <b>-N|--instance-name</b> <b>&lt;name&gt;</b>
        Assign &lt;name&gt; to this ntopng instance. Such information is used to uniquely identify the data source and
        thus its responsibility of the ntopng user to make sure that the name is unique across  all  the  ntopng
        instances. If this option is not set, we assume as instance name the hostname where this ntopng instance
        is running.

       <b>-Z|--http-prefix</b> <b>&lt;prefix&gt;</b>
        HTTP  prefix to be prepended to URLs. This is useful when using ntopng behind a proxy.  E.g. if you want
        to make the ntopng web interface accessible through a proxy at a certain IP address  with  the  /ntopng/
        base URL and you have the following lines in your proxy's configuration:
            ProxyPass /ntopng/ <a href="http://192.168.0.3">http://192.168.0.3</a>:3000/ntopng/
            ProxyPassReverse /ntopng/ <a href="http://192.168.0.3">http://192.168.0.3</a>:3000/ntopng/
        You must use ntopng with -Z "/ntopng"
        Do not use trailing shashes in the HTTP prefix.

       <b>--shutdown-when-done</b>
        Terminate ntopng when the input pcap file is over (debug only).

       <b>--zmq-encrypt-pwd</b>
        This  is  the  password  used  by the symmetric encryption on the probe side. Note that in case you have
        multiple ZMQ endpoints, the same password is used for all of them.

       <b>--capture-direction</b>
        Specify the packet capture direction for packet capture interfaces  (no  ZMQ).   Supported  values  are:
        0=RX+TX (default), 1=RX only, 2=TX only

       <b>--online-license-check</b>
        In  case  the  license  does  not match (e.g. you are running ntopng on a VM/container) you can use this
        option to check your license instead of using the local license file. Using this  option  we  make  sure
        that  changes  in  your  system do not interfere with license check (thing that we cannot guarantee with
        file-based licenses).

       <b>--print-ndpi-protocols</b>
        Print the list of nDPI protocols supported by the ntopng instance

       <b>-v|--verbose</b>
        Verbose tracing: level 2 is normal, level 6 is debugging.

       <b>-V|--version</b>
        Print <b>ntopng</b> version and quit.

       <b>-h|--help</b>
        Help

</pre><h4><b>WEB</b> <b>VIEWS</b></h4><pre>
       While <b>ntopng</b> is running, multiple users can access the traffic  information  using  their  web  browsers.
       <b>ntopng</b> makes use of JavaScript and LESS CSS.

       We  do not expect problems with any current web browser, but our ability to test with less common ones is
       very limited.  Testing has included Safari, Chrome, Firefox and  Internet  Explorer,  with  very  limited
       testing on other current common browsers such as Opera.

</pre><h4><b>NOTES</b></h4><pre>
       <b>ntopng</b>  requires  a number of external tools and libraries to operate.  Certain other tools are optional,
       but add to the program's capabilities.

       Required libraries include:

       <b>libpcap</b> from <a href="http://www.tcpdump.org/">http://www.tcpdump.org/</a>, version 1.0 or newer.

       The  Windows  version  makes  use  of  <b>WinPcap</b>  (libpcap  for  Windows)  which  may  be  downloaded  from
       <a href="http://winpcap.polito.it/install/default.htm">http://winpcap.polito.it/install/default.htm</a>.

       <b>ntopng</b> requires a POSIX threads library.

       The  <b>rrdtool</b>  library creates 'Round-Robin databases' which are used to store historical data in a format
       that permits long duration retention without  growing  larger  over  time.   The  rrdtool  home  page  is
       <a href="http://people.ee.ethz.ch/~oetiker/webtools/rrdtool/">http://people.ee.ethz.ch/~oetiker/webtools/rrdtool/</a>

       The <b>LuaJIT</b> library is a Just-In-Time Compiler for Lua used to execute GUI and periodic scripts.

       The <b>mongoose</b> library is used to implement the HTTP server part of ntopng.

       <b>zeromq</b> is a socket library supporting the publish/subscribe pattern used to collect flows from <b>nProbe</b>

       <b>ntopng</b>  includes  LuaJIT,  mongoose,  rrdtool  and zeromq in the third-party/ directory.  Users of <b>ntopng</b>
       should not need to specifically install such libraries.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man1/top.1.html">top</a></b>(1), <b><a href="../man8/tcpdump.8.html">tcpdump</a></b>(8), <b><a href="../man3/pcap.3.html">pcap</a></b>(3).

</pre><h4><b>USER</b> <b>SUPPORT</b></h4><pre>
       Please send bug reports to https://github.com/ntop/ntopng/issues. The ntopng &lt;<a href="mailto:ntop@ntop.org">ntop@ntop.org</a>&gt; mailing list
       is used for discussing ntopng usage issues. In order to post messages on the lists a (free)  subscription
       is  required  to  limit/avoid  spam. Please do NOT contact the authors directly unless this is a personal
       question.

       Commercial support is available upon request. Please see the ntop site for further info.

       Please send code patches via the github pull requests mechanism.

</pre><h4><b>LICENCE</b></h4><pre>
       ntopng is distributed under the GNU GPLv3 licence (<a href="http://www.gnu.org/">http://www.gnu.org/</a>).

                                              Dev 2015 (ntopng 2.2)                                    <u><a href="../man8/NTOPNG.8.html">NTOPNG</a></u>(8)
</pre>
 </div>
</div></section>
</div>
</body>
</html>