<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>aoeping - simple communication with AoE device</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/aoetools">aoetools_36-6_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       aoeping - simple communication with AoE device

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>aoeping</b> <b>[options]</b> <b>{shelf}</b> <b>{slot}</b> <b>{netif}</b>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The  <u><a href="../man8/aoeping.8.html">aoeping</a></u>(8)  program  performs  simple  one or two-round-trip communication with an ATA over Ethernet
       (AoE) device.  It creates and receives AoE packets directly, using raw network sockets.

       Running <u><a href="../man8/aoeping.8.html">aoeping</a></u>(8) without command line arguments will result in a short usage summary being displayed.

       The <u><a href="../man8/aoeping.8.html">aoeping</a></u>(8) program will wait forever if it doesn't receive an expected response.  The  caller  should
       use a time out to catch this situation.

   <b>Arguments</b>
       <b>shelf</b>  This should be the shelf address (major AoE address) of the AoE device to communicate with.

       <b>slot</b>   This should be the slot address (minor AoE address) of the AoE device to communicate with.

       <b>netif</b>  The name of the ethernet network interface to use for AoE communications, e.g., eth1.

   <b>Options</b>
       <b>-i</b>     Issue  an  ATA  "identify  device" command after receiving the AoE device's Config Query response.
              The "ident" response will be printed on standard output as a hexadecimal dump.

       <b>-I</b>     Issue an ATA "identify device" command after receiving the AoE  device's  Config  Query  response.
              The "ident" response will be pretty-printed on standard output as selected human-readable fields.

       <b>-v</b>     Turn  on  more  copious output, including a hexadecimal dump of the Config Query response from the
              AoE device (see AoE spec at URL below).

       <b>-s</b>     This option takes an argument.  The argument is a decimal integer that  specifies  the  number  of
              seconds  that  <u><a href="../man8/aoeping.8.html">aoeping</a></u>(8)  will  wait for a response before timing out and exiting with a non-zero
              status.

       <b>-S</b>     This option takes an argument.  The argument is the name of a SMART command to send to  the  disk.
              The  SMART  commands  in the list below are supported.  If the command requires data transfer, one
              sector (512 bytes) of data is always the amount transferred.  If the  command  takes  a  parameter
              (for  the Low LBA register), then the name of the SMART command is immediately followed by a colon
              and then a number, the value of the parameter, e.g., "-S read_log:1".

                read_data
                offline_immediate
                read_log
                write_log
                enable
                disable
                return_status

              For <b>write_log</b>, <u><a href="../man8/aoeping.8.html">aoeping</a></u>(8) reads from standard input the one sector of data to be  written  to  the
              specified log.

              If  the  AoE device does not support SMART commands or if the command is aborted, an error message
              is printed to standard error and <u><a href="../man8/aoeping.8.html">aoeping</a></u>(8) exits with  a  non-zero  status.   A  command  may  be
              aborted if SMART is disabled on the device.

              The <u><a href="../man8/aoeping.8.html">aoeping</a></u>(8) command just sends and receives SMART commands, without interpreting them.  See the
              ATA specification for more information on using SMART.

       <b>-t</b>     (This  is  an  advanced feature.)  This option has an argument.  The argument is a decimal integer
              that is used as the initial tag, with the highest bit set, as the first tag in ATA commands.  Tags
              for subsequent ATA commands will be incremented by one.

       <b>-h</b>     Show a usage summary.

</pre><h4><b>EXAMPLE</b></h4><pre>
       In this example, the root user uses <u><a href="../man8/aoeping.8.html">aoeping</a></u>(8) to check for the presence of aoe device e10.9  on  network
       interface eth0.

              bash# aoeping -v 10 9 eth0 | head
              tag: 80000000
              eth: eth0
              shelf: 10
              slot: 9
              config query response:
              00 0d 87 aa c9 00 00 10 04 00 11 1f 88 a2 18 00
              00 0a 09 01 00 00 00 00 00 03 30 08 00 10 00 04
              66 6f 6f 0a 00 ff ff ff ff ff ff ff ff ff ff ff
              ff ff ff ff ff ff ff ff ff ff ff ff ff ff ff ff
              ff ff ff ff ff ff ff ff ff ff ff ff ff ff ff ff

       The  next  example  shows  root  making  sure the disk on the e10.9 is still responsive by issuing an ATA
       device identify command with a 20-second timeout.

              bash# aoeping -i -s 20 \
                10 9 eth0 &gt; /dev/null \
                &amp;&amp; echo ok
              ok

       The next example uses SMART to determine whether the disk on e10.9  thinks  it  has  exceeded  its  error
       threshold.   The  ATA spec says that the LBA Mid register will be 0x4f when the disk has not exceeded its
       error threshold.

              bash# aoeping -S return_status \
                10 9 eth0 | grep 'LBA Mid: 0x4f' \
                &gt; /dev/null \
                &amp;&amp; echo ok
              ok

       Note that in a script, it would be prudent to specify and handle a timeout.  Also, a  good  script  would
       make sure the <b>Status</b> register does not have the error bit (bit zero) or the device fault bit (bit 5) set.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <u><a href="../man8/aoe-discover.8.html">aoe-discover</a></u>(8), <u><a href="../man8/aoe-interfaces.8.html">aoe-interfaces</a></u>(8), <u><a href="../man8/aoe-mkdevs.8.html">aoe-mkdevs</a></u>(8), <u><a href="../man8/aoe-mkshelf.8.html">aoe-mkshelf</a></u>(8), <u><a href="../man8/aoe-stat.8.html">aoe-stat</a></u>(8),

       <u>AoE</u> <u>(ATA</u> <u>over</u> <u>Ethernet)</u>: <a href="http://support.coraid.com/documents/AoEr10.txt">http://support.coraid.com/documents/AoEr10.txt</a>,

       <u>ATA</u> <u>specification</u>

</pre><h4><b>AUTHOR</b></h4><pre>
       Ed L. Cashin (<a href="mailto:ecashin@coraid.com">ecashin@coraid.com</a>)

                                                                                                      <u><a href="../man8/aoeping.8.html">aoeping</a></u>(8)
</pre>
 </div>
</div></section>
</div>
</body>
</html>