<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>aoe-mkdevs - create special device files for aoe driver</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/aoetools">aoetools_36-6_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       aoe-mkdevs - create special device files for aoe driver

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>aoe-mkdevs</b> <b>{device-dir}</b>
       <b>env</b> <b>n_partitions=1</b> <b>aoe-mkdevs</b> <b>{device-dir}</b>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The  <u>aoe-mkdevs</u>  command  is  deprecated in favor of udev.  Systems with udev do not need to use the <u>aoe-</u>
       <u>mkdevs</u> or <u>aoe-mkshelf</u> commands, because udev will create device nodes as needed.

       Systems without udev use <u>aoe-mkdevs</u> to create the character special files necessary to  control  the  aoe
       driver.  The <u>aoe-mkdevs</u> command uses <u>aoe-mkshelf</u> to also create block special files.

       The aoe drivers after version 49 support dynamic minor device numbers so that a greater number of devices
       can  be  supported.   The <u>aoe-mkdevs</u> command is incompatible with dynamic device numbers.  If your system
       lacks udev, and you are using an aoe driver version 50 or above, use the aoe_dyndevs=0 module  option  to
       force the aoe driver to use static device numbers.

       If  you are not using dynamic device numbers, and you built your aoe driver to support only one partition
       per device (whole-disk partitions), then the device files must match, and you should use the <u>n_partitions</u>
       environment variable described below.

   <b>Arguments</b>
       <b>device-dir</b>
              This should be the name of the directory where the special device files will be created.

</pre><h4><b>ENVIRONMENT</b> <b>VARIABLES</b></h4><pre>
       If the <u>n_partitions</u> variable is set in the environment, it will override the default number of partitions
       per aoe disk, namely 16.

</pre><h4><b>EXAMPLE</b></h4><pre>
       In this example, the root user on a host named <u>nai</u> creates special files for using the aoe disks in shelf
       7.  After remembering that the driver doesn't have partition support,  this  sysadmin  gets  rid  of  the
       mismatching device nodes and calls <u>aoe-mkdevs</u> again with <u>n_partitions</u> set to 1.

              nai:~# rm -rf /dev/etherd
              nai:~# aoe-mkdevs /dev/etherd
              nai:~# ls /dev/etherd | wc -l
              1603
              nai:~# rm -rf /dev/etherd
              nai:~# n_partitions=1 aoe-mkdevs /dev/etherd
              nai:~# ls /dev/etherd | wc -l
              103

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <u><a href="../man8/aoe-discover.8.html">aoe-discover</a></u>(8), <u><a href="../man8/aoe-interfaces.8.html">aoe-interfaces</a></u>(8), <u><a href="../man8/aoe-mkshelf.8.html">aoe-mkshelf</a></u>(8), <u><a href="../man8/aoe-stat.8.html">aoe-stat</a></u>(8), <u><a href="../man8/aoetools.8.html">aoetools</a></u>(8), <u><a href="../man7/udev.7.html">udev</a></u>(7).

</pre><h4><b>AUTHOR</b></h4><pre>
       Ed L. Cashin (<a href="mailto:ecashin@coraid.com">ecashin@coraid.com</a>)

                                                                                                   <u><a href="../man8/aoe-mkdevs.8.html">aoe-mkdevs</a></u>(8)
</pre>
 </div>
</div></section>
</div>
</body>
</html>