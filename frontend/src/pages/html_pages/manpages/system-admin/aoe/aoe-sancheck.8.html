<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>aoe-sancheck - verify storage network capabilities</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/aoetools">aoetools_36-6_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       aoe-sancheck - verify storage network capabilities

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>aoe-sancheck</b> <b>[-v]</b>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The  <u>aoe-sancheck</u>  command collects information about the local interfaces and probes the network for ATA
       over Ethernet devices, validating the paths for each device. It does not use the aoe  kernel  module  but
       rather  the bpf interface to evaluate the network.  As such, the aoe module does not need to be loaded to
       perform the test.

       The output of the command is divided into two sections: information about the local  interfaces  followed
       by  a list of detected AoE devices.  The first section displays the local interfaces, if the interface is
       up or down, its configured MTU, and the PCI ID for the interface.

       The second section lists detected AoE devices, one per line, with the following information:

       <b>Device</b> The device name of the form <u>eX.Y</u> where <u>X</u> is the AoE device shelf address, and <u>Y</u> is the AoE  device
              slot address.

       <b>Macs</b>   The number of mac addresses detected for this device.

       <b>Payload</b>
              The  number  of  bytes of data the device can handle in a single AoE request. This number does not
              represent the total frame size as it does not include bytes from ethernet or AoE headers.

       <b>Local</b> <b>Interfaces</b>
              The list of local interfaces from which the device is visible.

   <b>Options</b>
       <b>-v</b>     Prints out additional raw information.

</pre><h4><b>DIAGNOSIS</b></h4><pre>
       For each device, <u>aoe-sancheck</u> may print out additional lines of suggestions or warnings.   The  following
       checks are made:

       <b>The</b> <b>MTU</b> <b>of</b> <b>the</b> <b>local</b> <b>interfaces</b> <b>is</b> <b>set</b> <b>high</b> <b>enough</b> <b>to</b> <b>handle</b> <b>the</b> <b>AoE</b> <b>device's</b> <b>reported</b> <b>payload.</b>
              Depending  on  the  host  NIC's  capabilities  and  storage  network  switch's  capabilities, best
              performance may or may not be with local interface MTU set higher than a device's payload size.

       <b>The</b> <b>number</b> <b>of</b> <b>local</b> <b>interfaces</b> <b>matches</b> <b>the</b> <b>number</b> <b>of</b> <b>interfaces</b> <b>on</b> <b>the</b> <b>device.</b>
              Best performance comes from having a host  and  device  with  comparable  bandwidth.  <u>Aoe-sancheck</u>
              simply  counts  the  number  of  interfaces  involved  and  does  not figure link bandwidth in its
              comparison.

       <b>All</b> <b>local</b> <b>interfaces</b> <b>for</b> <b>an</b> <b>AoE</b> <b>device</b> <b>have</b> <b>the</b> <b>same</b> <b>MTU.</b>
              If one interface for a device has a smaller MTU than the others,  the  AoE  driver  must  use  the
              smaller payload size for all interfaces.

       <b>Each</b> <b>path</b> <b>to</b> <b>the</b> <b>device</b> <b>is</b> <b>capable</b> <b>of</b> <b>the</b> <b>configured</b> <b>payload</b> <b>size.</b>
              This  check  detects  the situation where a local interface is configured for jumbo frames and the
              AoE device is capable of jumbo frames, but some aspect of the  network  is  incapable  of  passing
              frames  that  size, for example, a misconfigured switch.  <u>Aoe-sancheck</u> reports the maximum payload
              size the path is capable of if less than the configured payload size.

</pre><h4><b>BUGS</b></h4><pre>
       The program may sometimes display inconsistent results between runs showing that a path is capable  of  a
       smaller  frame  size than it actually is.  If you see this behavior, please email one of the authors with
       your verbose output.

       The program probes only the first 32 ethernet interfaces found in the system.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <u><a href="../man8/aoeping.8.html">aoeping</a></u>(8), <u><a href="../man8/aoetools.8.html">aoetools</a></u>(8)

</pre><h4><b>AUTHORS</b></h4><pre>
       Justin Sanders (<a href="mailto:justin@coraid.com">justin@coraid.com</a>), Sam Hopkins (<a href="mailto:sah@coraid.com">sah@coraid.com</a>)

                                                                                                 <u><a href="../man8/aoe-sancheck.8.html">aoe-sancheck</a></u>(8)
</pre>
 </div>
</div></section>
</div>
</body>
</html>