<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>libvirt-guests - suspend/resume running libvirt guests</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/libvirt-daemon-common">libvirt-daemon-common_11.0.0-2ubuntu6.2_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       libvirt-guests - suspend/resume running libvirt guests

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>libvirt-guests</b> <u>COMMAND</u>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>libvirt-guests</b>  is a service that can be used to coordinate guest and host lifecycle actions. By default,
       <b>libvirt-guests</b> will suspend running  guests  when  the  host  shuts  down,  and  restore  them  to  their
       pre-shutdown state when the host reboots.

       <b>libvirt-guests</b>  is  typically  under  control of systemd. When <b>libvirt-guests.service</b> is enabled, systemd
       will call <b>libvirt-guests</b> with the <b>start</b> <u>COMMAND</u> when  the  host  boots.  Conversely,  systemd  will  call
       <b>libvirt-guests</b> with the <b>stop</b> <u>COMMAND</u> when the host shuts down.

       <b>libvirt-guests</b> can be used directly. In addition to the <b>start</b> and <b>stop</b> <u>COMMAND</u>s, it also supports <b>status</b>,
       <b>restart</b>, <b>condrestart</b>, <b>try-restart</b>, <b>reload</b>, <b>force-reload</b>, <b>gueststatus</b>, and <b>shutdown</b> <u>COMMAND</u>s.

</pre><h4><b>FILES</b></h4><pre>
       <b>libvirt-guests</b>  defines  several  variables  to  control  service  behavior.   The default value of these
       variables can be overridden in:

       • <b>/etc/default/libvirt-guests</b>

       The following variables are supported:

       • URIS=default

         URIs  to  check  for  running  guests.  Example:  <b>URIS='default</b>   <b>xen:///system</b>   <b>xen+tcp://host/system</b>
         <b>lxc:///system'</b>

       • ON_BOOT=ignore

         Action taken on host boot

         • start

           All guests which were running on shutdown are started on boot regardless of their autostart settings

         • ignore

           <b>libvirt-guests</b>  won't  start  any  guest  on  boot, however, guests marked as autostart will still be
           automatically started by libvirtd

       • START_DELAY=0

         Number of seconds to wait between each guest start. Set to 0 to allow parallel startup.

       • ON_SHUTDOWN=shutdown

         Action taken on host shutdown

         • suspend

           All running guests are suspended using virsh managedsave

         • shutdown

           All running guests are asked to shutdown. Please be careful with this settings since there is no  way
           to  distinguish  between  a  guest which is stuck or ignores shutdown requests and a guest which just
           needs a long time to shutdown. When setting ON_SHUTDOWN=shutdown, you must also set  SHUTDOWN_TIMEOUT
           to a value suitable for your guests.

       • PARALLEL_SHUTDOWN=0

         Number  of guests will be shutdown concurrently, taking effect when "ON_SHUTDOWN" is set to "shutdown".
         If Set to 0, guests will be shutdown one after another. Number of guests on shutdown at any  time  will
         not exceed number set in this variable.

       • SHUTDOWN_TIMEOUT=300

         Number of seconds we're willing to wait for a guest to shut down. If parallel shutdown is enabled, this
         timeout applies as a timeout for shutting down all guests on a single URI defined in the variable URIS.
         If  this  is  0, then there is no time out (use with caution, as guests might not respond to a shutdown
         request). The default value is 300 seconds (5 minutes).

       • BYPASS_CACHE=0

         If non-zero, try to bypass the file system cache when saving and restoring guests, even though this may
         give slower operation for some file systems.

       • SYNC_TIME=0

         If non-zero, try to sync guest time on domain resume. Be aware, that this  requires  guest  agent  with
         support for time synchronization running in the guest. By default, this functionality is turned off.

       • PERSISTENT_ONLY=default

         Defines what type of guest virtual machine ON_SHUTDOWN action is applied to

         • default

           This  implements the already existing default behavior.  If ON_SHUTDOWN action is shutdown, transient
           and persistent guest virtual machines are asked to shutdown.  If ON_SHUTDOWN action is suspend,  only
           persistent guest virtual machines are asked to suspend.

         • true

           ON_SHUTDOWN  action  is  executed only on persistent guest virtual machines.  Transient guest virtual
           machines are not affected.

         • false

           ON_SHUTDOWN action is executed on persistent and transient guest virtual machines.

</pre><h4><b>BUGS</b></h4><pre>
       Please report all bugs you discover.  This should be done via either:

       1. the mailing list

           &lt;https://libvirt.org/contact.html&gt;

       2. the bug tracker

           &lt;https://libvirt.org/bugs.html&gt;

       Alternatively, you may report bugs to your software distributor / vendor.

</pre><h4><b>AUTHORS</b></h4><pre>
       Please refer to the AUTHORS file distributed with libvirt.

</pre><h4><b>LICENSE</b></h4><pre>
       <b>libvirt-guests</b> is distributed under the terms of the GNU LGPL v2.1+.  This  is  free  software;  see  the
       source  for  copying  conditions.  There  is  NO  warranty; not even for MERCHANTABILITY or FITNESS FOR A
       PARTICULAR PURPOSE

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <a href="../man8/libvirtd.8.html">libvirtd</a>(8),  &lt;https://libvirt.org/&gt;

                                                                                               <u><a href="../man8/LIBVIRT-GUESTS.8.html">LIBVIRT-GUESTS</a></u>(8)
</pre>
 </div>
</div></section>
</div>
</body>
</html>