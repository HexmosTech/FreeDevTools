<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>chmem - configure memory</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/util-linux">util-linux_2.41-4ubuntu3_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       chmem - configure memory

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>chmem</b> [<b>-h]</b> <b>[</b>-V*] [<b>-v</b>] [<b>-e</b>|<b>-d</b>] [<u>SIZE</u>|<u>RANGE</u> <b>-b</b> <u>BLOCKRANGE</u>] [<b>-z</b> <u>ZONE</u>]

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The chmem command sets a particular size or range of memory online or offline.

       •   Specify <u>SIZE</u> as &lt;size&gt;[m|M|g|G]. With m or M, &lt;size&gt; specifies the memory size in MiB (1024 x 1024
           bytes). With g or G, &lt;size&gt; specifies the memory size in GiB (1024 x 1024 x 1024 bytes). The default
           unit is MiB.

       •   Specify <u>RANGE</u> in the form 0x&lt;start&gt;-0x&lt;end&gt; as shown in the output of the <b><a href="../man1/lsmem.1.html">lsmem</a></b>(1) command. &lt;start&gt;
           is the hexadecimal address of the first byte and &lt;end&gt; is the hexadecimal address of the last byte in
           the memory range.

       •   Specify <u>BLOCKRANGE</u> in the form &lt;first&gt;-&lt;last&gt; or &lt;block&gt; as shown in the output of the <b><a href="../man1/lsmem.1.html">lsmem</a></b>(1)
           command. &lt;first&gt; is the number of the first memory block and &lt;last&gt; is the number of the last memory
           block in the memory range. Alternatively a single block can be specified. <u>BLOCKRANGE</u> requires the
           <b>--blocks</b> option.

       •   Specify <u>ZONE</u> as the name of a memory zone, as shown in the output of the <b>lsmem</b> <b>-o</b> <b>+ZONES</b> command. The
           output shows one or more valid memory zones for each memory range. If multiple zones are shown, then
           the memory range currently belongs to the first zone. By default, <b>chmem</b> will set memory online to the
           zone Movable, if this is among the valid zones. This default can be changed by specifying the <b>--zone</b>
           option with another valid zone. For memory ballooning, it is recommended to select the zone Movable
           for memory online and offline, if possible. Memory in this zone is much more likely to be able to be
           offlined again, but it cannot be used for arbitrary kernel allocations, only for migratable pages
           (e.g., anonymous and page cache pages). Use the <b>--help</b> option to see all available zones.

       <u>SIZE</u> and <u>RANGE</u> must be aligned to the Linux memory block size, as shown in the output of the <b><a href="../man1/lsmem.1.html">lsmem</a></b>(1)
       command.

       Setting memory online can fail for various reasons. On virtualized systems it can fail if the hypervisor
       does not have enough memory left, for example because memory was overcommitted. Setting memory offline
       can fail if Linux cannot free the memory. If only part of the requested memory can be set online or
       offline, a message tells you how much memory was set online or offline instead of the requested amount.

       When setting memory online <b>chmem</b> starts with the lowest memory block numbers. When setting memory offline
       <b>chmem</b> starts with the highest memory block numbers.

</pre><h4><b>OPTIONS</b></h4><pre>
       <b>-b</b>, <b>--blocks</b>
           Use a <u>BLOCKRANGE</u> parameter instead of <u>RANGE</u> or <u>SIZE</u> for the <b>--enable</b> and <b>--disable</b> options.

       <b>-d</b>, <b>--disable</b>
           Set the specified <u>RANGE</u>, <u>SIZE</u>, or <u>BLOCKRANGE</u> of memory offline.

       <b>-e</b>, <b>--enable</b>
           Set the specified <u>RANGE</u>, <u>SIZE</u>, or <u>BLOCKRANGE</u> of memory online.

       <b>-z</b>, <b>--zone</b>
           Select the memory <u>ZONE</u> where to set the specified <u>RANGE</u>, <u>SIZE</u>, or <u>BLOCKRANGE</u> of memory online or
           offline. By default, memory will be set online to the zone Movable, if possible.

       <b>-v</b>, <b>--verbose</b>
           Verbose mode. Causes <b>chmem</b> to print debugging messages about its progress.

       <b>-h</b>, <b>--help</b>
           Display help text and exit.

       <b>-V</b>, <b>--version</b>
           Display version and exit.

</pre><h4><b>EXIT</b> <b>STATUS</b></h4><pre>
       <b>chmem</b> has the following exit status values:

       <b>0</b>
           success

       <b>1</b>
           failure

       <b>64</b>
           partial success

</pre><h4><b>EXAMPLE</b></h4><pre>
       <b>chmem</b> <b>--enable</b> <b>1024</b>
           This command requests 1024 MiB of memory to be set online.

       <b>chmem</b> <b>-e</b> <b>2g</b>
           This command requests 2 GiB of memory to be set online.

       <b>chmem</b> <b>--disable</b> <b>0x00000000e4000000-0x00000000f3ffffff</b>
           This command requests the memory range starting with 0x00000000e4000000 and ending with
           0x00000000f3ffffff to be set offline.

       <b>chmem</b> <b>-b</b> <b>-d</b> <b>10</b>
           This command requests the memory block number 10 to be set offline.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man1/lsmem.1.html">lsmem</a></b>(1)

</pre><h4><b>REPORTING</b> <b>BUGS</b></h4><pre>
       For bug reports, use the issue tracker &lt;https://github.com/util-linux/util-linux/issues&gt;.

</pre><h4><b>AVAILABILITY</b></h4><pre>
       The <b>chmem</b> command is part of the util-linux package which can be downloaded from Linux Kernel Archive
       &lt;https://www.kernel.org/pub/linux/utils/util-linux/&gt;.

util-linux 2.41                                    2025-02-26                                           <u><a href="../man8/CHMEM.8.html">CHMEM</a></u>(8)
</pre>
 </div>
</div></section>
</div>
</body>
</html>