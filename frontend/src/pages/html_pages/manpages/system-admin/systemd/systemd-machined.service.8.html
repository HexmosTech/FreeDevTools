<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>systemd-machined.service, systemd-machined - Virtual machine and container registration manager</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/systemd-container">systemd-container_257.7-1ubuntu3_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       systemd-machined.service, systemd-machined - Virtual machine and container registration manager

</pre><h4><b>SYNOPSIS</b></h4><pre>
       systemd-machined.service

       /usr/lib/systemd/systemd-machined

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>systemd-machined</b> is a system service that keeps track of locally running virtual machines and containers.

       <b>systemd-machined</b> is useful for registering and keeping track of both OS containers (containers that share
       the host kernel but run a full init system of their own and behave in most regards like a full virtual
       operating system rather than just one virtualized app) and full virtual machines (virtualized hardware
       running normal operating systems and possibly different kernels).

       <b>systemd-machined</b> should <u>not</u> be used for registering/keeping track of application sandbox containers. A
       <u>machine</u> in the context of <b>systemd-machined</b> is supposed to be an abstract term covering both OS containers
       and full virtual machines, but not application sandboxes.

       Machines registered with machined are exposed in various ways in the system. For example:

       •   Tools like <b><a href="../man1/ps.1.html">ps</a></b>(1) will show to which machine a specific process belongs in a column of its own, and so
           will <b>gnome-system-monitor</b>[1] or <b><a href="../man1/systemd-cgls.1.html">systemd-cgls</a></b>(1).

       •   systemd's various tools (<b><a href="../man1/systemctl.1.html">systemctl</a></b>(1), <b><a href="../man1/journalctl.1.html">journalctl</a></b>(1), <b><a href="../man1/loginctl.1.html">loginctl</a></b>(1), <b><a href="../man1/hostnamectl.1.html">hostnamectl</a></b>(1), <b><a href="../man1/timedatectl.1.html">timedatectl</a></b>(1),
           <b><a href="../man1/localectl.1.html">localectl</a></b>(1), <b><a href="../man1/machinectl.1.html">machinectl</a></b>(1), ...) support the <b>-M</b> switch to operate on local containers instead of the
           host system.

       •   <b>systemctl</b> <b>list-machines</b> will show the system state of all local containers, connecting to the
           container's init system for that.

       •   systemctl's <b>--recursive</b> switch has the effect of not only showing the locally running services, but
           recursively showing the services of all registered containers.

       •   The <b>machinectl</b> command provides access to a number of useful operations on registered containers,
           such as introspecting them, rebooting, shutting them down, and getting a login prompt on them.

       •   The <b><a href="../man3/sd-bus.3.html">sd-bus</a></b>(3) library exposes the <b><a href="../man3/sd_bus_open_system_machine.3.html">sd_bus_open_system_machine</a></b>(3) call to connect to the system bus of
           any registered container.

       •   The <b><a href="../man8/nss-mymachines.8.html">nss-mymachines</a></b>(8) module makes sure all registered containers can be resolved via normal glibc
           <b><a href="../man3/gethostbyname.3.html">gethostbyname</a></b>(3) or <b><a href="../man3/getaddrinfo.3.html">getaddrinfo</a></b>(3) calls.

       See <b><a href="../man1/systemd-nspawn.1.html">systemd-nspawn</a></b>(1) for some examples on how to run containers with OS tools.

       If you are interested in writing a VM or container manager that makes use of machined, please have look
       at <b>Writing</b> <b>Virtual</b> <b>Machine</b> <b>or</b> <b>Container</b> <b>Managers</b>[2]. Also see the <b>New</b> <b>Control</b> <b>Group</b> <b>Interfaces</b>[3].

       The daemon provides both a C library interface (which is shared with <b><a href="../man8/systemd-logind.service.8.html">systemd-logind.service</a></b>(8)) as well
       as a D-Bus interface and a Varlink interface. The library interface may be used to introspect and watch
       the state of virtual machines/containers. The bus interface provides the same but in addition may also be
       used to register or terminate machines. The Varlink interface may be used to register machines with
       optional extensions, e.g. with an SSH key / address; it can be queried with <b>varlinkctl</b> <b>introspect</b>
       <b>/run/systemd/machine/io.systemd.Machine</b> <b>io.systemd.Machine</b>. For more information please consult <b><a href="../man3/sdlogin.3.html">sd-</a></b>
       <b><a href="../man3/sdlogin.3.html">login</a></b>(3) and <b><a href="../man5/org.freedesktop.machine1.5.html">org.freedesktop.machine1</a></b>(5) and <b><a href="../man5/org.freedesktop.LogControl1.5.html">org.freedesktop.LogControl1</a></b>(5).

       A small companion daemon <b><a href="../man8/systemd-importd.service.8.html">systemd-importd.service</a></b>(8) is also available, which implements importing,
       exporting, and downloading of container and VM images.

       For each container registered with systemd-machined.service that employs user namespacing, users/groups
       are synthesized for the used UIDs/GIDs. These are made available to the system using the <b>User/Group</b>
       <b>Record</b> <b>Lookup</b> <b>API</b> <b>via</b> <b>Varlink</b>[4], and thus may be resolved with <b><a href="../man1/userdbctl.1.html">userdbctl</a></b>(1) or the usual glibc NSS
       calls.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man1/systemd.1.html">systemd</a></b>(1), <b><a href="../man1/machinectl.1.html">machinectl</a></b>(1), <b><a href="../man1/systemd-nspawn.1.html">systemd-nspawn</a></b>(1), <b><a href="../man8/nss-mymachines.8.html">nss-mymachines</a></b>(8), <b><a href="../man7/systemd.special.7.html">systemd.special</a></b>(7),
       <b><a href="../man5/org.freedesktop.machine1.5.html">org.freedesktop.machine1</a></b>(5), <b><a href="../man1/ssh.1.html">ssh</a></b>(1)

</pre><h4><b>NOTES</b></h4><pre>
        1. gnome-system-monitor
           https://help.gnome.org/users/gnome-system-monitor/

        2. Writing Virtual Machine or Container Managers
           https://systemd.io/WRITING_VM_AND_CONTAINER_MANAGERS

        3. New Control Group Interfaces
           https://systemd.io/CONTROL_GROUP_INTERFACE

        4. User/Group Record Lookup API via Varlink
           https://systemd.io/USER_GROUP_API

systemd 257.7                                                                        <u><a href="../man8/SYSTEMD-MACHINED.SERVICE.8.html">SYSTEMD-MACHINED.SERVICE</a></u>(8)
</pre>
 </div>
</div></section>
</div>
</body>
</html>