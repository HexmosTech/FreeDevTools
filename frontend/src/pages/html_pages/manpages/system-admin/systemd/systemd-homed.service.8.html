<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>systemd-homed.service, systemd-homed - Home Area/User Account Manager</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/systemd-homed">systemd-homed_257.7-1ubuntu1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       systemd-homed.service, systemd-homed - Home Area/User Account Manager

</pre><h4><b>SYNOPSIS</b></h4><pre>
       systemd-homed.service

       /usr/lib/systemd/systemd-homed

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>systemd-homed</b> is a system service that may be used to create, remove, change or inspect home areas
       (directories and network mounts and real or loopback block devices with a filesystem, optionally
       encrypted).

       Most of <b>systemd-homed</b>'s functionality is accessible through the <b><a href="../man1/homectl.1.html">homectl</a></b>(1) command.

       See the <b>Home</b> <b>Directories</b>[1] documentation for details about the format and design of home areas managed
       by systemd-homed.service.

       Each home directory managed by systemd-homed.service synthesizes a local user and group. These are made
       available to the system using the <b>User/Group</b> <b>Record</b> <b>Lookup</b> <b>API</b> <b>via</b> <b>Varlink</b>[2], and thus may be browsed
       with <b><a href="../man1/userdbctl.1.html">userdbctl</a></b>(1).

       systemd-homed.service also manages blob directories for each home directory it manages. See <b>User</b> <b>Record</b>
       <b>Blob</b> <b>Directories</b>[3] for more details.

</pre><h4><b>KEY</b> <b>MANAGEMENT</b></h4><pre>
       User records are cryptographically signed with a public/private key pair (the signature is part of the
       JSON record itself). For a user to be permitted to log in locally the public key matching the signature
       of their user record must be installed. For a user record to be modified locally the private key matching
       the signature must be installed locally, too. The keys are stored in the /var/lib/systemd/home/
       directory:

       /var/lib/systemd/home/local.private
           The private key of the public/private key pair used for local records. Currently, only a single such
           key may be installed.

           Added in version 246.

       /var/lib/systemd/home/local.public
           The public key of the public/private key pair used for local records. Currently, only a single such
           key may be installed.

           Added in version 246.

       /var/lib/systemd/home/*.public
           Additional public keys. Any users whose user records are signed with any of these keys are permitted
           to log in locally. An arbitrary number of keys may be installed this way.

           Added in version 246.

       All key files listed above are in PEM format.

       In order to migrate a home directory from a host "foobar" to another host "quux" it is hence sufficient
       to copy /var/lib/systemd/home/local.public from the host "foobar" to "quux", maybe calling the file on
       the destination /var/lib/systemd/home/foobar.public, reflecting the origin of the key. If the user record
       should be modifiable on "quux" the pair /var/lib/systemd/home/local.public and
       /var/lib/systemd/home/local.private need to be copied from "foobar" to "quux", and placed under the
       identical paths there, as currently only a single private key is supported per host. Note of course that
       the latter means that user records generated/signed before the key pair is copied in, lose their
       validity.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man1/systemd.1.html">systemd</a></b>(1), <b><a href="../man5/homed.conf.5.html">homed.conf</a></b>(5), <b><a href="../man1/homectl.1.html">homectl</a></b>(1), <b><a href="../man8/pam_systemd_home.8.html">pam_systemd_home</a></b>(8), <b><a href="../man1/userdbctl.1.html">userdbctl</a></b>(1), <b><a href="../man5/org.freedesktop.home1.5.html">org.freedesktop.home1</a></b>(5)

</pre><h4><b>NOTES</b></h4><pre>
        1. Home Directories
           https://systemd.io/HOME_DIRECTORY

        2. User/Group Record Lookup API via Varlink
           https://systemd.io/USER_GROUP_API

        3. User Record Blob Directories
           https://systemd.io/USER_RECORD_BLOB_DIRS

systemd 257.7                                                                           <u><a href="../man8/SYSTEMD-HOMED.SERVICE.8.html">SYSTEMD-HOMED.SERVICE</a></u>(8)
</pre>
 </div>
</div></section>
</div>
</body>
</html>