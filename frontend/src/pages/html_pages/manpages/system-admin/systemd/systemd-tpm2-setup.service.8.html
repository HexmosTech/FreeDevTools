<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>systemd-tpm2-setup.service, systemd-tpm2-setup-early.service, systemd-tpm2-setup - Set up the TPM2</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/systemd">systemd_257.7-1ubuntu1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       systemd-tpm2-setup.service, systemd-tpm2-setup-early.service, systemd-tpm2-setup - Set up the TPM2
       Storage Root Key (SRK) at boot

</pre><h4><b>SYNOPSIS</b></h4><pre>
       systemd-tpm2-setup.service

       <a href="file:/usr/lib/systemd/systemd-tpm2-setup">/usr/lib/systemd/systemd-tpm2-setup</a>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       systemd-tpm2-setup.service and systemd-tpm2-setup-early.service are services that generate the Storage
       Root Key (SRK) if it has not been generated yet, and stores it in the TPM.

       The services will store the public key of the SRK key pair in a PEM file in
       /run/systemd/tpm2-srk-public-key.pem and /var/lib/systemd/tpm2-srk-public-key.pem. They will also store
       it in TPM2B_PUBLIC format in /run/systemd/tpm2-srk-public-key.tpm2_public and
       /var/lib/systemd/tpm2-srk-public-key.tpm2b_public.

       systemd-tpm2-setup-early.service runs very early at boot (possibly in the initrd), and writes the SRK
       public key to /run/systemd/tpm2-srk-public-key.*  (as <a href="file:/var/">/var/</a> is generally not accessible this early yet),
       while systemd-tpm2-setup.service runs during a later boot phase and saves the public key to
       /var/lib/systemd/tpm2-srk-public-key.*.

</pre><h4><b>FILES</b></h4><pre>
       /run/systemd/tpm2-srk-public-key.pem, /run/systemd/tpm2-srk-public-key.tpm2b_public
           The SRK public key in PEM and TPM2B_PUBLIC format, written during early boot.

           Added in version 255.

       /var/lib/systemd/tpm2-srk-public-key.pem, /var/lib/systemd/tpm2-srk-public-key.tpm2_public
           The SRK public key in PEM and TPM2B_PUBLIC format, written during later boot (once <a href="file:/var/">/var/</a> is
           available).

           Added in version 255.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man1/systemd.1.html">systemd</a></b>(1)

systemd 257.7                                                                      <u><a href="../man8/SYSTEMD-TPM2-SETUP.SERVICE.8.html">SYSTEMD-TPM2-SETUP.SERVICE</a></u>(8)
</pre>
 </div>
</div></section>
</div>
</body>
</html>