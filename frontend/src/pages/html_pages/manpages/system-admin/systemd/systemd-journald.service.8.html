<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>systemd-journald.service, systemd-journald.socket, systemd-journald-dev-log.socket, systemd-journald-</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/systemd">systemd_257.7-1ubuntu1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       systemd-journald.service, systemd-journald.socket, systemd-journald-dev-log.socket, systemd-journald-
       audit.socket, systemd-journald@.service, systemd-journald@.socket, systemd-journald-varlink@.socket,
       systemd-journald - Journal service

</pre><h4><b>SYNOPSIS</b></h4><pre>
           systemd-journald.service
           systemd-journald.socket
           systemd-journald-dev-log.socket
           systemd-journald-audit.socket
           systemd-journald@.service
           systemd-journald@.socket
           systemd-journald-varlink@.socket
           <a href="file:/usr/lib/systemd/systemd-journald">/usr/lib/systemd/systemd-journald</a>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       systemd-journald is a system service that collects and stores logging data. It creates and maintains
       structured, indexed journals based on logging information that is received from a variety of sources:

       •   Kernel log messages, via kmsg

       •   Simple system log messages, via the libc <b><a href="../man3/syslog.3.html">syslog</a></b>(3) call

       •   Structured system log messages via the native Journal API, see <b><a href="../man3/sd_journal_print.3.html">sd_journal_print</a></b>(3) and <b>Native</b> <b>Journal</b>
           <b>Protocol</b>[1]

       •   Standard output and standard error of service units. For further details see below.

       •   Audit records, originating from the kernel audit subsystem

       The daemon will implicitly collect numerous metadata fields for each log messages in a secure and
       unfakeable way. See <b><a href="../man7/systemd.journal-fields.7.html">systemd.journal-fields</a></b>(7) for more information about the collected metadata.

       Log data collected by the journal is primarily text-based but can also include binary data where
       necessary. Individual fields making up a log record stored in the journal may be up to 2⁶⁴-1 bytes in
       size.

       The journal service stores log data either persistently below <a href="file:/var/log/journal">/var/log/journal</a> or in a volatile way below
       <a href="file:/run/log/journal/">/run/log/journal/</a> (in the latter case, it is lost at reboot). By default, log data is stored persistently
       if <a href="file:/var/log/journal/">/var/log/journal/</a> exists during boot, with an implicit fallback to volatile storage otherwise. Use
       <u>Storage=</u> in <b><a href="../man5/journald.conf.5.html">journald.conf</a></b>(5) to configure where log data is placed, independently of the existence of
       <a href="file:/var/log/journal/.">/var/log/journal/.</a>

       Note that journald will initially use volatile storage, until a call to <b>journalctl</b> <b>--flush</b> (or sending
       <b>SIGUSR1</b> to journald) will cause it to switch to persistent logging (under the conditions mentioned
       above). This is done automatically on boot via "systemd-journal-flush.service".

       On systems where <a href="file:/var/log/journal/">/var/log/journal/</a> does not exist yet but where persistent logging is desired (and the
       default journald.conf is used), it is sufficient to create the directory, and ensure it has the correct
       access modes and ownership:

           mkdir -p <a href="file:/var/log/journal">/var/log/journal</a>
           systemd-tmpfiles --create --prefix <a href="file:/var/log/journal">/var/log/journal</a>

       See <b><a href="../man5/journald.conf.5.html">journald.conf</a></b>(5) for information about the configuration of this service.

</pre><h4><b>STREAM</b> <b>LOGGING</b></h4><pre>
       The systemd service manager invokes all service processes with standard output and standard error
       connected to the journal by default. This behaviour may be altered via the <u>StandardOutput=</u>/<u>StandardError=</u>
       unit file settings, see <b><a href="../man5/systemd.exec.5.html">systemd.exec</a></b>(5) for details. The journal converts the log byte stream received
       this way into individual log records, splitting the stream at newline ("\n", ASCII <b>10</b>) and <b>NUL</b> bytes.

       If systemd-journald.service is stopped, the stream connections associated with all services are
       terminated. Further writes to those streams by the service will result in <b>EPIPE</b> errors. In order to react
       gracefully in this case, it is recommended that programs logging to standard output/error ignore such
       errors. If the <b>SIGPIPE</b> UNIX signal handler is not blocked or turned off, such write attempts will also
       result in such process signals being generated, see <b><a href="../man7/signal.7.html">signal</a></b>(7). To mitigate this issue, systemd service
       manager explicitly turns off the <b>SIGPIPE</b> signal for all invoked processes by default (this may be changed
       for each unit individually via the <u>IgnoreSIGPIPE=</u> option, see <b><a href="../man5/systemd.exec.5.html">systemd.exec</a></b>(5) for details). After the
       standard output/standard error streams have been terminated they may not be recovered until the services
       they are associated with are restarted. Note that during normal operation, systemd-journald.service
       stores copies of the file descriptors for those streams in the service manager. If
       systemd-journald.service is restarted using <b>systemctl</b> <b>restart</b> or equivalent operation instead of a pair
       of separate <b>systemctl</b> <b>stop</b> and <b>systemctl</b> <b>start</b> commands (or equivalent operations), these stream
       connections are not terminated and survive the restart. It is thus safe to restart
       systemd-journald.service, but stopping it is not recommended.

       Note that the log record metadata for records transferred via such standard output/error streams reflect
       the metadata of the peer the stream was originally created for. If the stream connection is passed on to
       other processes (such as further child processes forked off the main service process), the log records
       will not reflect their metadata, but will continue to describe the original process. This is different
       from the other logging transports listed above, which are inherently record based and where the metadata
       is always associated with the individual record.

       In addition to the implicit standard output/error logging of services, stream logging is also available
       via the <b><a href="../man1/systemd-cat.1.html">systemd-cat</a></b>(1) command line tool.

       Currently, the number of parallel log streams systemd-journald will accept is limited to 4096. When this
       limit is reached further log streams may be established but will receive <b>EPIPE</b> right from the beginning.

</pre><h4><b>JOURNAL</b> <b>NAMESPACES</b></h4><pre>
       Journal 'namespaces' are both a mechanism for logically isolating the log stream of projects consisting
       of one or more services from the rest of the system and a mechanism for improving performance. Multiple
       journal namespaces may exist simultaneously, each defining its own, independent log stream managed by its
       own instance of <b>systemd-journald</b>. Namespaces are independent of each other, both in the data store and in
       the IPC interface. By default, only a single "default namespace exists, managed by
       systemd-journald.service (and its associated socket units). Additional namespaces are created by starting
       an instance of the systemd-journald@.service service template. The instance name is the namespace
       identifier, which is a short string used for referencing the journal namespace. Service units may be
       assigned to a specific journal namespace through the <u>LogNamespace=</u> unit file setting, see <b><a href="../man5/systemd.exec.5.html">systemd.exec</a></b>(5)
       for details. The <b>--namespace=</b> switch of <b><a href="../man1/journalctl.1.html">journalctl</a></b>(1) may be used to view the log stream of a specific
       namespace. If the switch is not used the log stream of the default namespace is shown, i.e. log data from
       other namespaces is not visible.

       Services associated with a specific log namespace may log via <b><a href="../man3/syslog.3.html">syslog</a></b>(3), the native logging protocol of
       the journal and via stdout/stderr; the logging from all three transports is associated with the
       namespace.

       By default, only the default namespace will collect kernel and audit log messages.

       The <b>systemd-journald</b> instance of the default namespace is configured through <a href="file:/etc/systemd/journald.conf">/etc/systemd/journald.conf</a>
       (see below), while the other instances are configured through /etc/systemd/journald@<u>NAMESPACE</u>.conf. The
       journal log data for the default namespace is placed in <a href="file:/var/log/journal/">/var/log/journal/</a><u>MACHINE_ID</u> (see below) while the
       data for the other namespaces is located in <a href="file:/var/log/journal/">/var/log/journal/</a><u>MACHINE_ID</u>.<u>NAMESPACE</u>.

</pre><h4><b>SIGNALS</b></h4><pre>
       SIGUSR1
           Request that journal data from <a href="file:/run/">/run/</a> is flushed to <a href="file:/var/">/var/</a> in order to make it persistent (if this is
           enabled). This must be used after <a href="file:/var/">/var/</a> is mounted, as otherwise log data from <a href="file:/run/">/run/</a> is never flushed
           to <a href="file:/var/">/var/</a> regardless of the configuration. Use the <b>journalctl</b> <b>--flush</b> command to request flushing of
           the journal files, and wait for the operation to complete. See <b><a href="../man1/journalctl.1.html">journalctl</a></b>(1) for details.

           Added in version 186.

       SIGUSR2
           Request immediate rotation of the journal files. Use the <b>journalctl</b> <b>--rotate</b> command to request
           journal file rotation, and wait for the operation to complete.

           Added in version 186.

       SIGRTMIN+1
           Request that all unwritten log data is written to disk. Use the <b>journalctl</b> <b>--sync</b> command to trigger
           journal synchronization, and wait for the operation to complete.

           Added in version 228.

</pre><h4><b>CREDENTIALS</b></h4><pre>
       <b>systemd-journald</b> supports the service credentials logic as implemented by
       <u>ImportCredential=</u>/<u>LoadCredential=</u>/<u>SetCredential=</u> (see <b><a href="../man5/systemd.exec.5.html">systemd.exec</a></b>(5) for details). The following
       credentials are used when passed in:

       <u>journal.forward_to_socket</u>
           May contain a socket address to which logs should be forwarded. See <u>ForwardToSocket=</u> in
           <b><a href="../man5/journald.conf.5.html">journald.conf</a></b>(5).

           Added in version 256.

       <u>journal.storage</u>
           May be used to specify where journal files should be stored. See <u>Storage=</u> in <b><a href="../man5/journald.conf.5.html">journald.conf</a></b>(5).

           Added in version 256.

</pre><h4><b>KERNEL</b> <b>COMMAND</b> <b>LINE</b></h4><pre>
       A few configuration parameters from journald.conf may be overridden on the kernel command line:

       <u>systemd.journald.forward_to_syslog=</u>, <u>systemd.journald.forward_to_kmsg=</u>,
       <u>systemd.journald.forward_to_console=</u>, <u>systemd.journald.forward_to_wall=</u>
           Enables/disables forwarding of collected log messages to syslog, the kernel log buffer, the system
           console or wall.

           See <b><a href="../man5/journald.conf.5.html">journald.conf</a></b>(5) for information about these settings.

           Added in version 186.

       <u>systemd.journald.max_level_store=</u>, <u>systemd.journald.max_level_syslog=</u>, <u>systemd.journald.max_level_kmsg=</u>,
       <u>systemd.journald.max_level_console=</u>, <u>systemd.journald.max_level_wall=</u>, <u>systemd.journald.max_level_socket=</u>
           Controls the maximum log level of messages that are stored in the journal, forwarded to <b><a href="../man3/syslog.3.html">syslog</a></b>(3),
           kmsg, the console, <b><a href="../man1/wall.1.html">wall</a></b>(1), or a socket. This kernel command line options override the settings of
           the same names in the <b><a href="../man5/journald.conf.5.html">journald.conf</a></b>(5) file.

           Added in version 232.

       Note that these kernel command line options are only honoured by the default namespace, see above.

</pre><h4><b>ACCESS</b> <b>CONTROL</b></h4><pre>
       Journal files are, by default, owned and readable by the "systemd-journal" system group but are not
       writable. Adding a user to this group thus enables them to read the journal files.

       By default, each user, with a UID outside the range of system users, dynamic service users, and the
       nobody user, will get their own set of journal files in <a href="file:/var/log/journal/.">/var/log/journal/.</a> See <b>Users,</b> <b>Groups,</b> <b>UIDs</b> <b>and</b>
       <b>GIDs</b> <b>on</b> <b>systemd</b> <b>systems</b>[2] for more details about UID ranges. These journal files will not be owned by
       the user, however, in order to avoid that the user can write to them directly. Instead, file system ACLs
       are used to ensure the user gets read access only.

       Additional users and groups may be granted access to journal files via file system access control lists
       (ACL). Distributions and administrators may choose to grant read access to all members of the "wheel" and
       "adm" system groups with a command such as the following:

           # setfacl -Rnm g:wheel:rx,d:g:wheel:rx,g:adm:rx,d:g:adm:rx <a href="file:/var/log/journal/">/var/log/journal/</a>

       Note that this command will update the ACLs both for existing journal files and for future journal files
       created in the <a href="file:/var/log/journal/">/var/log/journal/</a> directory.

</pre><h4><b>FILES</b></h4><pre>
       <a href="file:/etc/systemd/journald.conf">/etc/systemd/journald.conf</a>
           Configure <b>systemd-journald</b> behavior. See <b><a href="../man5/journald.conf.5.html">journald.conf</a></b>(5).

           Added in version 206.

       <a href="file:/run/log/journal/">/run/log/journal/</a><u>machine-id</u>/*.journal, <a href="file:/run/log/journal/">/run/log/journal/</a><u>machine-id</u>/*.journal~,
       <a href="file:/var/log/journal/">/var/log/journal/</a><u>machine-id</u>/*.journal, <a href="file:/var/log/journal/">/var/log/journal/</a><u>machine-id</u>/*.journal~
           <b>systemd-journald</b> writes entries to files in <a href="file:/run/log/journal/">/run/log/journal/</a><u>machine-id</u>/ or
           <a href="file:/var/log/journal/">/var/log/journal/</a><u>machine-id</u>/ with the ".journal" suffix. If the daemon is stopped uncleanly, or if
           the files are found to be corrupted, they are renamed using the ".journal~" suffix, and
           <b>systemd-journald</b> starts writing to a new file.  <a href="file:/run/">/run/</a> is used when <a href="file:/var/log/journal">/var/log/journal</a> is not available,
           or when <b>Storage=volatile</b> is set in the <b><a href="../man5/journald.conf.5.html">journald.conf</a></b>(5) configuration file.

           When systemd-journald ceases writing to a journal file, it will be renamed to
           "<u>original-name</u>@<u>suffix.journal</u>" (or "<u>original-name</u>@<u>suffix.journal~</u>"). Such files are "archived" and
           will not be written to any more.

           In general, it is safe to read or copy any journal file (active or archived).  <b><a href="../man1/journalctl.1.html">journalctl</a></b>(1) and the
           functions in the <b><a href="../man3/sd-journal.3.html">sd-journal</a></b>(3) library should be able to read all entries that have been fully
           written.

           systemd-journald will automatically remove the oldest archived journal files to limit disk use. See
           <u>SystemMaxUse=</u> and related settings in <b><a href="../man5/journald.conf.5.html">journald.conf</a></b>(5).

           Added in version 206.

       /dev/kmsg, /dev/log, /run/systemd/journal/dev-log, /run/systemd/journal/socket,
       /run/systemd/journal/stdout
           Sockets and other file node paths that <b>systemd-journald</b> will listen on and are visible in the file
           system. In addition to these, <b>systemd-journald</b> can listen for audit events using <b><a href="../man7/netlink.7.html">netlink</a></b>(7),
           depending on whether "systemd-journald-audit.socket" is enabled or not.

           Added in version 228.

       If journal namespacing is used these paths are slightly altered to include a namespace identifier, see
       above.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man1/systemd.1.html">systemd</a></b>(1), <b><a href="../man1/journalctl.1.html">journalctl</a></b>(1), <b><a href="../man5/journald.conf.5.html">journald.conf</a></b>(5), <b><a href="../man7/systemd.journal-fields.7.html">systemd.journal-fields</a></b>(7), <b><a href="../man3/sd-journal.3.html">sd-journal</a></b>(3), <b><a href="../man8/systemdcoredump.8.html">systemd-</a></b>
       <b><a href="../man8/systemdcoredump.8.html">coredump</a></b>(8), <b><a href="../man1/setfacl.1.html">setfacl</a></b>(1), <b><a href="../man3/sd_journal_print.3.html">sd_journal_print</a></b>(3), <b>pydoc</b> <b>systemd.journal</b>

</pre><h4><b>NOTES</b></h4><pre>
        1. Native Journal Protocol
           https://systemd.io/JOURNAL_NATIVE_PROTOCOL

        2. Users, Groups, UIDs and GIDs on systemd systems
           https://systemd.io/UIDS-GIDS

systemd 257.7                                                                        <u><a href="../man8/SYSTEMD-JOURNALD.SERVICE.8.html">SYSTEMD-JOURNALD.SERVICE</a></u>(8)
</pre>
 </div>
</div></section>
</div>
</body>
</html>