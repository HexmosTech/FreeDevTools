<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>faxrcvd - HylaFAX notification script for received facsimile</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/hylafax-server">hylafax-server_6.0.7-13_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       faxrcvd - <u>HylaFAX</u> notification script for received facsimile

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>/var/spool/hylafax/bin/faxrcvd</b> <u>qfile</u> <u>devid</u> <u>commid</u> <u>error-msg</u> [ <u>callid-1</u> [ <u>callid-2</u> [ <u>...</u>  [ <u>callid-n</u> ] ] ]
       ]

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>bin/faxrcvd</b>  is the command script invoked by the facsimile server whenever a facsimile is received.  The
       default script sends electronic mail to the <u>FaxMaster</u> user describing the content of  the  facsimile  and
       other useful information such as the time spent receiving the document.  The arguments are:

       <b>qfile</b>     the pathname of the received TIFF file relative to the root of the spooling hierarchy.

       <b>devid</b>     the modem device on which the facsimile was received.

       <b>commid</b>    the communication identifier for the inbound call.

       <b>error-msg</b> an error message that is non-null if an error was encountered during the receive operation.

       <b>callid</b>    the value of various identification indicators from the call

</pre><h4><b>NOTES</b></h4><pre>
       This  script  can  route  facsimile directly to the intended recipient.  To do this create a shell script
       <b>etc/FaxDispatch</b> in the spooling area that sets <u>SENDTO</u> to the receiver's  electronic  mail  address.   For
       example,

       case "$SENDER" in
       *1*510*526*1212*) SENDTO=sam;;          # Sam's test rig in Berkeley
       *1*415*390*1212*) SENDTO=raster@asd;;   # 7L Xerox room, used for scanning
       *5107811212)      SENDTO=peebles@mti;;  # stuff from home
       esac
       case "$DEVICE" in
       ttyS1)            SENDTO=john;;         # all faxes received on ttyS1
       ttyLT0)           SENDTO=mary@home;;    # all faxes received on ttyLT0
       esac
       case "$CIDNUMBER" in
       435*)        SENDTO=lee; FILETYPE=pdf;; # all faxes from area code 435
       5059627777)  SENDTO=amy; FILETYPE=tif;; # Amy wants faxes in TIFF
       esac
       case "$SUBADDR" in
       53)          SENDTO=FaxMaster;;         # without double-notification
       roger)       SENDTO=roger;;             # possible text subaddressing
       esac

       Note  that  you  must  match  any  embedded  white  space.   The facsimile will be sent as a MIME-encoded
       PostScript document as default.

       <u>CALLIDn</u>
              is equivalent to the nth call identification parameter

       <u>CIDNAME</u>
              is equivalent to <b>CALLID2</b> above.

       <u>CIDNUMBER</u>
              is equivalent to <b>CALLID1</b> above.

       <u>DEVICE</u> is equivalent to <b>device</b> above.

       <u>FILETYPE</u>
              controls the filetype of the image attachment.  Current filetype options are ``ps'', ``tif'',  and
              ``pdf''.   Multiple  values  may  be  specified by separating them with whitespace. In that case a
              separate attachment is created for each filetype.

       <u>FROMADDR</u>
              controls the sender of the received fax notification.  It is given as an e-mail address.

       <u>MSG</u>    is equivalent to <b>error-msg</b> above.

       <u>NOTIFY_FAXMASTER</u>
              (an underscore ``_'' character is between NOTIFY and  FAXMASTER)  indicates  whether  or  not  the
              HylaFAX  administrator  should  be  notified regarding incoming facsimile.  Default is ``always''.
              Also available are ``never'', which means to never send any received facsimile  notification,  and
              ``errors'', which means to send notification only if there were reception errors.

       <u>SENDER</u> is the received TSI of the fax sender.

       <u>SENDTO</u> controls  the  recipient  of the received fax notification.  It is given as an e-mail address, and
              it's value will be passed directly to the MTA for delivery as well  as  being  inserted  into  the
              email.   If  you  want  to  send  to  multiple  receipients  in separate messages set the variable
              SENDTO1...SENDTOn in addition to  SENDTO.   faxrcvd  will  process  additional  SENDTOn  variables
              starting  at  1,  and stopping at the first empty SENDTOn variable it finds.  The templates should
              continue to reference $SENDTO, and faxrcvd will make sure it gets set correctly as the template is
              processed for each one.

       <u>SUBADDR</u>
              the received subaddress value, communicated by the sender for post-reception routing purposes

       <u>TEMPLATE</u>
              the template subdirectory to use  when  sending  e-mails.   HylaFAX  ships  with  a  base  set  of
              templates,  and some direct translations.  To use the German translated templates, set TEMPLATE=de
              in FaxDispatch.  This is relative to the base template directory.

       Other shell variables are available.  Consult the faxrcvd script directly.

</pre><h4><b>FILES</b></h4><pre>
       /var/spool/hylafax                  spooling area
       /usr/sbin/faxinfo                   for printing information about the facsimile
       /usr/bin/fax2ps                     for converting TIFF to PostScript
       /usr/lib/sendmail                   for delivering mail
       /var/spool/hylafax/etc/templates/   base directory for outgoing e-mail templates

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <u><a href="../man8/faxd.8.html">faxd</a></u>(8), <u><a href="../man5/hylafax-server.5.html">hylafax-server</a></u>(5), <u><a href="../man5/recvq.5.html">recvq</a></u>(5)

                                                  May 28, 2001                                        <u><a href="../man8/FAXRCVD.8.html">FAXRCVD</a></u>(8)
</pre>
 </div>
</div></section>
</div>
</body>
</html>