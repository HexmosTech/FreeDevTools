<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>pi_stress - a stress test for POSIX Priority Inheritance mutexes</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/rt-tests">rt-tests_2.6-1.1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       pi_stress - a stress test for POSIX Priority Inheritance mutexes

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>pi_stress</b>   [<b>-d|--debug]</b>   [<b>-D|--duration</b>   [<b>-g|--groups</b>   <u>N</u>]  [<b>-i|--inversions</b>  <u>INV</u>]  [<b>--json</b>  <u>FILENAME</u>]
       [<b>-m|--mlockall</b>] [<b>-p|--prompt</b>] [<b>-q|--quiet</b>] [<b>-r|--rr</b>] [<b>-s|--sched</b> <u>OPTS</u>] [<b>-u|--uniprocessor</b>] [<b>-v|--verbose</b>]
       [<b>-V|--version</b>]

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>pi_stress</b> is a program used to stress the <u>priority-inheritance</u> code paths for POSIX mutexes, in both  the
       Linux kernel and the C library. It runs as a realtime-priority task and launches <u>inversion</u> <u>machine</u> thread
       groups.  Each  inversion  group  causes  a  <u>priority</u>  <u>inversion</u>  condition that will deadlock if <u>priority</u>
       <u>inheritance</u> doesn't work.

</pre><h4><b>OPTIONS</b></h4><pre>
       -d|--debug
              Run in debug mode; lots of extra prints

       -D TIME, --duration=TIME
              Specify a length for the test run.
              Append 'm', 'h', or 'd' to specify minutes, hours or days.

       -g N|--groups=N
              The number of inversion groups to run. Defaults to 10.

       -h|--help
              Display a short help message and options.

       -i N|--inversions=N
              <u>N</u> number of inversion conditions. This is the total number of inversions for all inversion groups.
              Default is -1 for infinite.

       --json=FILENAME
              Write final results into <u>FILENAME</u> , JSON formatted.

       -m|--mlockall
              Call mlockall to lock current and future memory allocations and prevent being paged out

       -p|--prompt
              Prompt before actually starting the stress test

       -q|--quiet
              Suppress running output

       -r|--rr
              Run inversion group threads as SCHED_RR (round-robin). The default is to run the inversion threads
              as SCHED_FIFO.

       -s OPTS|--sched OPTS
              scheduling options per thread type:
              id=[high|med|low],
              policy=[fifo,rr],priority=N,
              policy=deadline,runtime=N,deadline=N,period=N

       -u|--uniprocessor
              Run all threads on one processor. The default is  to  run  all  inversion  group  threads  on  one
              processor  and  the  admin  threads  (reporting  thread,  keyboard  reader,  etc.)  on a different
              processor.

       -v|--verbose
              Run with verbose messages

       -V|--version
              Print version number

</pre><h4><b>CAVEATS</b></h4><pre>
       The pi_stress test threads run as SCHED_FIFO or SCHED_RR  threads,  which  means  that  they  can  starve
       critical system threads. It is advisable to change the scheduling policy of critical system threads to be
       SCHED_FIFO  prior  to running pi_stress and use a priority of 10 or higher, to prevent those threads from
       being starved by the stress test.

</pre><h4><b>BUGS</b></h4><pre>
       No documented bugs.

</pre><h4><b>AUTHOR</b></h4><pre>
       Clark Williams &lt;<a href="mailto:williams@redhat.com">williams@redhat.com</a>&gt;

                                                  Nov 27, 2006                                      <u><a href="../man8/pi_stress.8.html">pi_stress</a></u>(8)
</pre>
 </div>
</div></section>
</div>
</body>
</html>