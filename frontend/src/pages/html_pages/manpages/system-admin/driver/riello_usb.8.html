<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>riello_usb - Driver for Riello UPS Protocol UPS equipment via USB</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/nut-server">nut-server_2.8.3-2_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       riello_usb - Driver for Riello UPS Protocol UPS equipment via USB

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>riello_usb</b> -h

       <b>riello_usb</b> -a <u>UPS_NAME</u> [<u>OPTIONS</u>]

           <b>Note</b>

           This man page only documents the hardware-specific features of the riello_usb driver. For information
           about the core driver, see <b><a href="../man8/nutupsdrv.8.html">nutupsdrv</a></b>(8).

</pre><h4><b>SUPPORTED</b> <b>HARDWARE</b></h4><pre>
       riello_usb supports all recent Riello UPS with USB.

       Older Riello UPS products are not supported.

</pre><h4><b>EXTRA</b> <b>ARGUMENTS</b></h4><pre>
       <b>port</b> <b>=</b> <u>string</u>
           Some <u>value</u> must be set, typically <b>auto</b>.

               <b>Note</b>
               This could be a device filesystem path like /dev/usb/hiddev0 but current use of libusb API
               precludes knowing and matching by such identifiers. They may also be inherently unreliable
               (dependent on re-plugging and enumeration order). At this time the actual <u>value</u> is ignored, but
               syntactically some <u>port</u> configuration must still be there.

       It is possible to control multiple UPS units simultaneously by running several instances of this driver,
       provided they can be uniquely distinguished by setting some combination of the <b>vendor</b>, <b>product</b>, <b>vendorid</b>,
       <b>productid</b>, <b>serial</b>, <b>bus</b> and/or <b>device</b> options detailed below. For devices or operating systems that do not
       provide sufficient information, the <b>allow_duplicates</b> option can be of use (limited and risky!)

       <b>vendorid</b> <b>=</b> <u>regex</u>, <b>productid</b> <b>=</b> <u>regex</u>, <b>vendor</b> <b>=</b> <u>regex</u>, <b>product</b> <b>=</b> <u>regex</u>, <b>serial</b> <b>=</b> <u>regex</u>
           Select a specific UPS, in case there is more than one connected via USB. Each option specifies an
           extended regular expression (see <b><a href="../man7/regex.7.html">regex</a></b>(7) for more information on regular expressions), which must
           match the UPS’s entire respective vendor/product/serial string values (minus any surrounding
           whitespace), or the whole 4-digit hexadecimal code for vendorid and productid.

           Try <b><a href="../man8/lsusb.8.html">lsusb</a></b>(8) or running this NUT driver with -DD command-line argument for finding out the strings to
           match.

           Examples:

           •   -x vendor="Foo.Corporation.*"

           •   -x vendorid="051d*" (APC)

           •   -x product=".*(Smart|Back)-?UPS.*"

       <b>bus</b> <b>=</b> <u>regex</u>
           Select a UPS on a specific USB bus or group of buses. The argument is a regular expression that must
           match the bus name where the UPS is connected (e.g.  bus="002" or bus="00[2-3]") as seen on Linux in
           <a href="file:/sys/bus/usb/devices">/sys/bus/usb/devices</a> or <b><a href="../man8/lsusb.8.html">lsusb</a></b>(8); including leading zeroes.

       <b>device</b> <b>=</b> <u>regex</u>
           Select a UPS on a specific USB device or group of devices. The argument is a regular expression that
           must match the device name where the UPS is connected (e.g.  device="001" or device="00[1-2]") as
           seen on Linux in <a href="file:/sys/bus/usb/devices">/sys/bus/usb/devices</a> or <b><a href="../man8/lsusb.8.html">lsusb</a></b>(8); including leading zeroes.

               <b>Note</b>
               device numbers are not guaranteed by the OS to be stable across re-boots or device re-plugging.

       <b>busport</b> <b>=</b> <u>regex</u>
           If supported by the hardware, OS and libusb on the particular deployment, this option should allow to
           specify physical port numbers on an USB hub, rather than logical device enumeration values, and in
           turn — this should be less volatile across reboots or re-plugging. The value may be seen in the USB
           topology output of lsusb -tv on systems with that tool, for example.

               <b>Note</b>
               this option is not practically supported by some NUT builds (it should be ignored with a warning
               then), and not by all systems that NUT can run on.

       <b>allow_duplicates</b>
           If you have several UPS devices which may not be uniquely identified by the options above (e.g. only
           <u>VID:PID</u> can be discovered there), this flag allows each driver instance where it is set to take the
           first match if available, or proceed to try another.

           Normally the driver initialization would abort at this point claiming "Resource busy" or similar
           error, assuming that the otherwise properly matched device is unique — and some other process already
           handles it.

               <b>Warning</b>
               This feature is inherently non-deterministic! The association of driver instance name to actual
               device may vary between runs!

               If you only care to know that <b>at</b> <b>least</b> one of your no-name UPSes is online, this option can help.

               If you must really know <b>which</b> one, it will not!

       <b>usb_set_altinterface</b> <b>=</b> <u>bAlternateSetting</u>
           Force redundant call to usb_set_altinterface(), especially if needed for devices serving multiple USB
           roles where the UPS is not represented by the interface number 0 (default).

       <b>usb_config_index</b>, <b>usb_hid_rep_index</b>, <b>usb_hid_desc_index</b>, <b>usb_hid_ep_in</b>, <b>usb_hid_ep_out</b>
           Force use of specific interface, endpoint, descriptor index etc. numbers, rather than defaulting to <u>0</u>
           (rarely other values in certain drivers for some devices known to use non-zero numbers). Specified as
           a hexadecimal number.

           As a rule of thumb for usb_hid_desc_index discovery, you can see larger wDescriptorLength values
           (roughly 600+ bytes) in reports of lsusb or similar tools.

       <b>LIBUSB_DEBUG</b> <b>=</b> <u>INTEGER</u>
           Run-time troubleshooting of USB-capable NUT drivers can involve not only raising the common NUT debug
           verbosity (e.g. using the DEBUG_MIN setting in <b><a href="../man5/ups.conf.5.html">ups.conf</a></b>(5) or protocol commands to change the
           driver.debug value), but may also benefit from LibUSB specific debugging.

           For the latter, you can set the LIBUSB_DEBUG driver option; alternatively you can classically export
           the environment variable LIBUSB_DEBUG before starting a NUT driver program (may be set and "exported"
           in driver init script or service method, perhaps via <b><a href="../man5/nut.conf.5.html">nut.conf</a></b>(5)), to a numeric value such as 4 ("All
           messages are emitted").

           For more details, including the currently supported values for your version of the library, see e.g.:

           •   https://libusb.sourceforge.io/api-1.0/

           •   https://libusb.sourceforge.io/api-1.0/group__libusb__lib.html

       You may need to tweak some settings, depending on the make and model of your UPS (see <b><a href="../man5/ups.conf.5.html">ups.conf</a></b>(5)):

       <b>localcalculation</b>
           When enabled, driver will calculate values of battery.runtime and battery.charge "locally" in the
           driver. This is for some Riello models (iPlug and iDialog series) which provide incorrect values in
           hardware readings, or none at all. This "local calculation" is done according to nominal battery
           capacity, nominal battery voltage, actual battery charge, maximum and actual UPS load.

           You may want to also configure <u>default.battery.voltage.low</u> and <u>default.battery.voltage.high</u> in case
           the built-in default range (from 10.7V to 12.9V) does not match your hardware, or give a shot to
           <u>default.battery.voltage.nominal</u> (e.g.  <u>24</u>) if your device does not serve that either.

               <b>Note</b>
               Lead (PbAc) battery charge graph is not linear, so guesstimated charge value may not be perfectly
               accurate. However it should be good enough to determine battery actual status and roughly
               estimate the time it can still power the system.

               <b>Warning</b>
               This keyword may be deprecated in future releases of the driver, in favor of runtimecal and other
               settings which it requires (as seen in <b><a href="../man8/nutdrv_qx.8.html">nutdrv_qx</a></b>(8), <b><a href="../man8/blazer_ser.8.html">blazer_ser</a></b>(8) and <b><a href="../man8/blazer_usb.8.html">blazer_usb</a></b>(8) drivers).

</pre><h4><b>AUTHOR</b></h4><pre>
       Massimo Zampieri

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
   <b>Related</b> <b>drivers</b>
       <b><a href="../man8/riello_ser.8.html">riello_ser</a></b>(8)

   <b>The</b> <b>core</b> <b>driver</b>
       <b><a href="../man8/nutupsdrv.8.html">nutupsdrv</a></b>(8)

   <b>Internet</b> <b>resources</b>
       The NUT (Network UPS Tools) home page: https://www.networkupstools.org/historic/v2.8.3/

Network UPS Tools 2.8.3                            07/08/2025                                      <u><a href="../man8/RIELLO_USB.8.html">RIELLO_USB</a></u>(8)
</pre>
 </div>
</div></section>
</div>
</body>
</html>