<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>fence_ipmilan - Fence agent for IPMI</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/fence-agents-ipmilan">fence-agents-ipmilan_4.16.0-3ubuntu1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       fence_ipmilan - Fence agent for IPMI

       fence_ilo3 - Fence agent for HP iLO3 (symlink)

       fence_ilo4 - Fence agent for HP iLO4 (symlink)

       fence_ilo5 - Fence agent for HP iLO5 (symlink)

       fence_ipmilanplus - Fence agent for IPMIv2 lanplus (symlink)

       fence_imm - Fence agent for IBM Integrated Management Module (symlink)

       fence_idrac - Fence agent for Dell iDRAC (symlink)

</pre><h4><b>DESCRIPTION</b></h4><pre>
       fence_ilo3  is a Power Fencing agent which can be used with machines controlled by IPMI. This agent calls
       support software ipmitool (<a href="http://ipmitool.sf.net/">http://ipmitool.sf.net/</a>).

       WARNING! This fence agent might report success before the node is powered off. You should  use  -m/method
       onoff if your fence device works correctly with that option.

       The  fence  agent  accepts  options  on  the  command line as well as from stdin. Fenced sends parameters
       through stdin when it execs the agent. The agent can be run by itself with command line options.  This is
       useful for testing and for turning outlets on or off from scripts.

       Vendor URL:

</pre><h4><b>PARAMETERS</b></h4><pre>

       <b>-o,</b> <b>--action=[action]</b>
              Fencing action (Default Value: reboot)

       <b>-A,</b> <b>--auth=[auth]</b>
              IPMI Lan Auth type. (md5|password|none)

       <b>-C,</b> <b>--cipher=[cipher]</b>
              Ciphersuite to use (same as ipmitool -C parameter)

       <b>--hexadecimal-kg=[key]</b>
              Hexadecimal-encoded Kg key for IPMIv2 authentication

       <b>-a,</b> <b>--ip=[ip]</b>
              IP address or hostname of fencing device

       <b>-u,</b> <b>--ipport=[port]</b>
              TCP/UDP port to use for connection with device (Default Value: 623)

       <b>-P,</b> <b>--lanplus</b>
              Use Lanplus to improve security of connection (Default Value: 1)

       <b>-m,</b> <b>--method=[method]</b>
              Method to fence (onoff|cycle) (Default Value: onoff)

       <b>-p,</b> <b>--password=[password]</b>
              Login password or passphrase

       <b>-S,</b> <b>--password-script=[script]</b>
              Script to run to retrieve password

       <b>-n,</b> <b>--plug=[ip]</b>
              IP address or hostname of fencing device (together with --port-as-ip)

       <b>-L,</b> <b>--privlvl=[level]</b>
              Privilege  level   on   IPMI   device   (callback|user|operator|administrator)   (Default   Value:
              administrator)

       <b>--target=[targetaddress]</b>
              Bridge IPMI requests to the remote target address

       <b>-l,</b> <b>--username=[name]</b>
              Login name

       <b>-q,</b> <b>--quiet</b>
              Disable logging to stderr. Does not affect --verbose or --debug-file or logging to syslog.

       <b>-v,</b> <b>--verbose</b>
              Verbose  mode.  Multiple  -v  flags  can  be  stacked on the command line (e.g., -vvv) to increase
              verbosity.

       <b>--verbose-level</b>
              Level of debugging detail in output. Defaults to the number of --verbose flags  specified  on  the
              command  line,  or  to  1  if verbose=1 in a stonith device configuration (i.e., on stdin).

       <b>-D,</b> <b>--debug-file=[debugfile]</b>
              Write debug information to given file

       <b>-V,</b> <b>--version</b>
              Display version information and exit

       <b>-h,</b> <b>--help</b>
              Display help and exit

       <b>--plug-separator=[char]</b>
              Separator for plug parameter when specifying more than 1 plug (Default Value: ,)

       <b>--delay=[seconds]</b>
              Wait X seconds before fencing is started (Default Value: 0)

       <b>--disable-timeout=[true/false]</b>
              Disable timeout (true/false) (default: true when run from Pacemaker 2.0+)

       <b>--ipmitool-path=[path]</b>
              Path to ipmitool binary (Default Value: /usr/bin/ipmitool)

       <b>--login-timeout=[seconds]</b>
              Wait X seconds for cmd prompt after login (Default Value: 5)

       <b>--port-as-ip</b>
              Make "port/plug" to be an alias to IP address

       <b>--power-timeout=[seconds]</b>
              Test X seconds for status change after ON/OFF (Default Value: 20)

       <b>--power-wait=[seconds]</b>
              Wait X seconds after issuing ON/OFF (Default Value: 4)

       <b>--shell-timeout=[seconds]</b>
              Wait X seconds for cmd prompt after issuing command (Default Value: 3)

       <b>--stonith-status-sleep=[seconds]</b>
              Sleep X seconds between status calls during a STONITH action (Default Value: 1)

       <b>--ipmitool-timeout=[timeout]</b>
              Timeout (sec) for IPMI operation (Default Value: 2)

       <b>--retry-on=[attempts]</b>
              Count of attempts to retry power on (Default Value: 1)

       <b>--use-sudo</b>
              Use sudo (without password) when calling 3rd party software

       <b>--sudo-path=[path]</b>
              Path to sudo binary (Default Value: <a href="file:///usr/lib/w3m/cgi-bin/w3mman2html.cgi?sudo">/usr/bin/sudo</a>)

</pre><h4><b>ACTIONS</b></h4><pre>

       <b>on</b>     Power on machine.

       <b>off</b>    Power off machine.

       <b>reboot</b> Reboot machine.

       <b>status</b> This returns the status of the plug/virtual machine.

       <b>monitor</b>
              Check the health of fence device

       <b>metadata</b>
              Display the XML metadata describing this resource.

       <b>manpage</b>
               The operational behavior of this is not known.

       <b>validate-all</b>
              Validate if all required parameters are entered.

       <b>diag</b>   Pulse a diagnostic interrupt to the processor(s).

</pre><h4><b>STDIN</b> <b>PARAMETERS</b></h4><pre>

       <b>action</b> Fencing action (Default Value: reboot)

       <b>auth</b>   IPMI Lan Auth type. (md5|password|none)

       <b>cipher</b> Ciphersuite to use (same as ipmitool -C parameter)

       <b>hexadecimal_kg</b>
              Hexadecimal-encoded Kg key for IPMIv2 authentication

       <b>ip</b>     IP address or hostname of fencing device Obsoletes: ipaddr

       <b>ipport</b> TCP/UDP port to use for connection with device (Default Value: 623)

       <b>lanplus</b>
              Use Lanplus to improve security of connection (Default Value: 1)

       <b>method</b> Method to fence (onoff|cycle) (Default Value: onoff)

       <b>password</b>
              Login password or passphrase Obsoletes: passwd

       <b>password_script</b>
              Script to run to retrieve password Obsoletes: passwd_script

       <b>plug</b>   IP address or hostname of fencing device (together with --port-as-ip) Obsoletes: port

       <b>privlvl</b>
              Privilege  level   on   IPMI   device   (callback|user|operator|administrator)   (Default   Value:
              administrator)

       <b>target</b> Bridge IPMI requests to the remote target address

       <b>username</b>
              Login name Obsoletes: login

       <b>quiet</b>  Disable logging to stderr. Does not affect --verbose or --debug-file or logging to syslog.

       <b>verbose</b>
              Verbose  mode.  Multiple  -v  flags  can  be  stacked on the command line (e.g., -vvv) to increase
              verbosity.

       <b>verbose_level</b>
              Level of debugging detail in output. Defaults to the number of --verbose flags  specified  on  the
              command  line,  or  to  1  if verbose=1 in a stonith device configuration (i.e., on stdin).

       <b>debug_file</b>
              Write debug information to given file Obsoletes: debug

       <b>version</b>
              Display version information and exit

       <b>help</b>   Display help and exit

       <b>plug_separator</b>
              Separator for plug parameter when specifying more than 1 plug (Default Value: ,)

       <b>delay</b>  Wait X seconds before fencing is started (Default Value: 0)

       <b>disable_timeout</b>
              Disable timeout (true/false) (default: true when run from Pacemaker 2.0+)

       <b>ipmitool_path</b>
              Path to ipmitool binary (Default Value: /usr/bin/ipmitool)

       <b>login_timeout</b>
              Wait X seconds for cmd prompt after login (Default Value: 5)

       <b>port_as_ip</b>
              Make "port/plug" to be an alias to IP address

       <b>power_timeout</b>
              Test X seconds for status change after ON/OFF (Default Value: 20)

       <b>power_wait</b>
              Wait X seconds after issuing ON/OFF (Default Value: 4)

       <b>shell_timeout</b>
              Wait X seconds for cmd prompt after issuing command (Default Value: 3)

       <b>stonith_status_sleep</b>
              Sleep X seconds between status calls during a STONITH action (Default Value: 1)

       <b>ipmitool_timeout</b>
              Timeout (sec) for IPMI operation (Default Value: 2)

       <b>retry_on</b>
              Count of attempts to retry power on (Default Value: 1)

       <b>use_sudo</b>
              Use sudo (without password) when calling 3rd party software Obsoletes: sudo

       <b>sudo_path</b>
              Path to sudo binary (Default Value: <a href="file:///usr/lib/w3m/cgi-bin/w3mman2html.cgi?sudo">/usr/bin/sudo</a>)

fence_ipmilan (Fence Agent)                        2009-10-20                                     <u><a href="../man8/FENCE_AGENT.8.html">FENCE_AGENT</a></u>(8)
</pre>
 </div>
</div></section>
</div>
</body>
</html>