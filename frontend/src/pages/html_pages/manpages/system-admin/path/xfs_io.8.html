<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>xfs_io - debug the I/O path of an XFS filesystem</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/xfsprogs">xfsprogs_6.13.0-2ubuntu1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       xfs_io - debug the I/O path of an XFS filesystem

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>xfs_io</b> [ <b>-adfimrRstxT</b> ] [ <b>-c</b> <u>cmd</u> ] ... [ <b>-C</b> <u>cmd</u> ] ... [ <b>-p</b> <u>prog</u> ] <u>[</u> <u>file</u> <u>]</u>
       <b>xfs_io</b> <b>-V</b>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>xfs_io</b>  is  a  debugging tool like <b><a href="../man8/xfs_db.8.html">xfs_db</a></b>(8), but is aimed at examining the regular file I/O paths rather
       than the raw XFS volume itself.  These code paths include not only the obvious read/write/mmap interfaces
       for manipulating files, but also cover all of the XFS extensions (such as space preallocation, additional
       inode flags, etc).

</pre><h4><b>OPTIONS</b></h4><pre>
       <b>xfs_io</b> commands may be run interactively (the default) or as arguments on the command line.   Interactive
       mode  always  runs  commands  on  the current open file, whilst commands run from the command line may be
       repeated on all open files rather than just the current open file.  In general, open file iteration  will
       occur  for  commands  that  operate  on  file  content  or  state.  In contrast, commands that operate on
       filesystem or system-wide state will only be run on the current file regardless of  how  many  files  are
       currently  open.   Multiple  arguments  may be given on the command line and they are run in the sequence
       given. The program exits one all commands have been run.

       <b>-c</b> <u>cmd</u>    Run the specified command  on  all  currently  open  files.   To  maintain  compatibility  with
                 historical  usage,  commands  that  can not be run on all open files will still be run but only
                 execute once on the current open  file.   Multiple  <b>-c</b>  arguments  may  be  given  and  may  be
                 interleaved on the command line in any order with <b>-C</b> commands.

       <b>-C</b> <u>cmd</u>    Run  the  specified  command only on the current open file.  Multiple <b>-C</b> arguments may be given
                 and may be interleaved on the command line in any order with <b>-c</b> commands.

       <b>-p</b> <u>prog</u>   Set the program name for prompts and some error messages, the default value is <b>xfs_io</b>.

       <b>-f</b>        Create <u>file</u> if it does not already exist.

       <b>-r</b>        Open <u>file</u> read-only, initially. This is required if <u>file</u> is immutable or append-only.

       <b>-i</b>        Start an idle thread. The purpose of this idle thread is to  test  io  from  a  multi  threaded
                 process.  With  single  threaded process, the file table is not shared and file structs are not
                 reference counted.  Spawning an idle thread can help detecting file struct reference leaks.

       <b>-x</b>        Expert mode. Dangerous commands are only available in this mode.  These commands also  tend  to
                 require additional privileges.

       <b>-V</b>        Prints the version number and exits.

       The other <b><a href="../man2/open.2.html">open</a></b>(2) options described below are also available from the command line.

</pre><h4><b>CONCEPTS</b></h4><pre>
       <b>xfs_io</b>  maintains  a  number  of  open  files  and memory mappings.  Files can be initially opened on the
       command line (optionally), and additional files can also be opened later.

       <b>xfs_io</b> commands can be broken up into three groups.  Some commands are aimed at doing regular file I/O  -
       read, write, sync, space preallocation, etc.

       The  second  set of commands exist for manipulating memory mapped regions of a file - mapping, accessing,
       storing, unmapping, flushing, etc.

       The remaining commands are for the navigation and display of data structures relating to the open  files,
       mappings, and the filesystems where they reside.

       Many commands have extensive online help. Use the <b>help</b> command for more details on any command.

</pre><h4><b>FILE</b> <b>I/O</b> <b>COMMANDS</b></h4><pre>
       <b>file</b> <b>[</b> <u>N</u> <b>]</b>
              Display a list of all open files and (optionally) switch to an alternate current open file.

       <b>open</b> <b>[[</b> <b>-acdfrstRTPL</b> <b>]</b> <u>path</u> <b>]</b>
              Closes  the  current  file,  and  opens the file specified by <u>path</u> instead. Without any arguments,
              displays statistics about the current file - see the <b>stat</b> command.
                 <b>-a</b>  opens append-only (O_APPEND).
                 <b>-d</b>  opens for direct I/O (O_DIRECT).
                 <b>-f</b>  creates the file if it doesn't already exist (O_CREAT).
                 <b>-r</b>  opens read-only (O_RDONLY).
                 <b>-s</b>  opens for synchronous I/O (O_SYNC).
                 <b>-t</b>  truncates on open (O_TRUNC).
                 <b>-n</b>  opens in non-blocking mode if possible (O_NONBLOCK).
                 <b>-T</b>  create a temporary file not linked into the filesystem namespace (O_TMPFILE).  The pathname
                     passed must refer to a directory which is treated as virtual parent for the  newly  created
                     invisible file.  Can not be used together with the <b>-r</b> option.
                 <b>-R</b>  marks  the  file  as  a  realtime XFS file after opening it, if it is not already marked as
                     such.
                 <b>-P</b>  opens the path as a  referent  only  (O_PATH).   This  is  incompatible  with  other  flags
                     specifying other O_xxx flags apart from <b>-L</b>.
                 <b>-L</b>  doesn't  follow  symlinks  (O_NOFOLLOW).   This is incompatible with other flags specifying
                     other O_xxx flags apart from <b>-P</b>.

       <b>o</b>      See the <b>open</b> command.

       <b>close</b>  Closes the current open file, marking the next open file as current (if one exists).

       <b>c</b>      See the <b>close</b> command.

       <b>chmod</b> <b>-r</b> <b>|</b> <b>-w</b>
              Change the mode of the currently open file. The <b>-r</b> option will set the file permissions  to  read-
              only  (0444), whilst the <b>-w</b> option will set the file permissions to read-write (0644). This allows
              xfs_io to set up mismatches between the file permissions and the open file  descriptor  read/write
              mode to exercise permission checks inside various syscalls.

       <b>pread</b> <b>[</b> <b>-b</b> <u>bsize</u> <b>]</b> <b>[</b> <b>-qv</b> <b>]</b> <b>[</b> <b>-FBR</b> <b>[</b> <b>-Z</b> <u>seed</u> <b>]</b> <b>]</b> <b>[</b> <b>-V</b> <u>vectors</u> <b>]</b> <u>offset</u> <u>length</u>
              Reads a range of bytes in a specified blocksize from the given <u>offset</u>.
                 <b>-b</b>  can be used to set the blocksize into which the <b><a href="../man2/read.2.html">read</a></b>(2) requests will be split. The default
                     blocksize is 4096 bytes.
                 <b>-q</b>  quiet mode, do not write anything to standard output.
                 <b>-v</b>  dump  the contents of the buffer after reading, by default only the count of bytes actually
                     read is dumped.
                 <b>-F</b>  read the buffers in a forward sequential direction.
                 <b>-B</b>  read the buffers in a reverse sequential direction.
                 <b>-R</b>  read the buffers in the give range in a random order.
                 <b>-Z</b> <b>seed</b>
                     specify the random number seed used for random reads.
                 <b>-V</b> <b>vectors</b>
                     Use the vectored IO read syscall <b><a href="../man2/preadv.2.html">preadv</a></b>(2) with a number of blocksize  length  iovecs.  The
                     number of iovecs is set by the <u>vectors</u> parameter.

       <b>r</b>      See the <b>pread</b> command.

       <b>pwrite</b> <b>[</b> <b>-i</b> <u>file</u> <b>]</b> <b>[</b> <b>-qAdDwNOW</b> <b>]</b> <b>[</b> <b>-s</b> <u>skip</u> <b>]</b> <b>[</b> <b>-b</b> <u>size</u> <b>]</b> <b>[</b> <b>-S</b> <u>seed</u> <b>]</b> <b>[</b> <b>-FBR</b> <b>[</b> <b>-Z</b> <u>zeed</u> <b>]</b> <b>]</b> <b>[</b> <b>-V</b> <u>vectors</u> <b>]</b>
       <u>offset</u> <u>length</u>
              Writes  a range of bytes in a specified blocksize from the given <u>offset</u>.  The bytes written can be
              either a set pattern or read in from another file before writing.
                 <b>-i</b>  allows an input <u>file</u> to be specified as the source of the data to be written.
                 <b>-q</b>  quiet mode, do not write anything to standard output.
                 <b>-d</b>  causes direct I/O, rather than the usual buffered I/O, to be used when  reading  the  input
                     file.
                 <b>-w</b>  call <b><a href="../man2/fdatasync.2.html">fdatasync</a></b>(2) once all writes are complete (included in timing results)
                 <b>-N</b>  Perform the <b><a href="../man2/pwritev2.2.html">pwritev2</a></b>(2) call with <u>RWF_NOWAIT</u>.
                 <b>-D</b>  Perform the <b><a href="../man2/pwritev2.2.html">pwritev2</a></b>(2) call with <u>RWF_DSYNC</u>.
                 <b>-A</b>  Perform the <b><a href="../man2/pwritev2.2.html">pwritev2</a></b>(2) call with <u>RWF_ATOMIC</u>.
                 <b>-O</b>  perform pwrite once and return the (maybe partial) bytes written.
                 <b>-W</b>  call <b><a href="../man2/fsync.2.html">fsync</a></b>(2) once all writes are complete (included in timing results)
                 <b>-s</b>  specifies  the  number of bytes to <u>skip</u> from the start of the input file before starting to
                     read.
                 <b>-b</b>  used to set the blocksize into which the <b><a href="../man2/write.2.html">write</a></b>(2)  requests  will  be  split.  The  default
                     blocksize is 4096 bytes.
                 <b>-S</b>  used  to set the (repeated) fill pattern which is used when the data to write is not coming
                     from a file.  The default buffer fill pattern value is 0xcdcdcdcd.
                 <b>-F</b>  write the buffers in a forward sequential direction.
                 <b>-B</b>  write the buffers in a reverse sequential direction.
                 <b>-R</b>  write the buffers in the give range in a random order.
                 <b>-Z</b> <b>seed</b>
                     specify the random number seed used for random write
                 <b>-V</b> <b>vectors</b>
                     Use the vectored IO write syscall <b><a href="../man2/pwritev.2.html">pwritev</a></b>(2) with a number of blocksize length iovecs.  The
                     number of iovecs is set by the <u>vectors</u> parameter.

       <b>w</b>      See the <b>pwrite</b> command.

       <b>bmap</b> <b>[</b> <b>-adelpv</b> <b>]</b> <b>[</b> <b>-n</b> <u>nx</u> <b>]</b>
              Prints  the  block  mapping  for  the  current open file. Refer to the <b><a href="../man8/xfs_bmap.8.html">xfs_bmap</a></b>(8) manual page for
              complete documentation.

       <b>fiemap</b> <b>[</b> <b>-alv</b> <b>]</b> <b>[</b> <b>-n</b> <u>nx</u> <b>]</b> <b>[</b> <u>offset</u> <b>[</b> <u>len</u> <b>]]</b>
              Prints the block mapping for the current open file using the  fiemap  ioctl.   Options  behave  as
              described in the <b><a href="../man8/xfs_bmap.8.html">xfs_bmap</a></b>(8) manual page.

              Optionally,  this  command  also supports passing the start offset from where to begin the mapping
              and the length of that region.  The kernel will return any full extents which intersect  with  the
              requested range, and the <b>fiemap</b> command will print them in their entirety.  If the requested range
              starts or ends in a hole, <b>fiemap</b> will print the hole, truncated to the requested range.

       <b>extsize</b> <b>[</b> <b>-R</b> <b>|</b> <b>-D</b> <b>]</b> <b>[</b> <u>value</u> <b>]</b>
              Display  and/or modify the preferred extent size used when allocating space for the currently open
              file. If the <b>-R</b> option is specified, a recursive descent is performed for  all  directory  entries
              below the currently open file (<b>-D</b> can be used to restrict the output to directories only).  If the
              target  file  is  a directory, then the inherited extent size is set for that directory (new files
              created in that directory inherit that extent size).  The <u>value</u> should be specified in  bytes,  or
              using  one  of  the  usual units suffixes (k, m, g, b, etc). The extent size is always reported in
              units of bytes.

       <b>cowextsize</b> <b>[</b> <b>-R</b> <b>|</b> <b>-D</b> <b>]</b> <b>[</b> <u>value</u> <b>]</b>
              Display and/or modify the preferred copy-on-write extent size used when allocating space  for  the
              currently  open  file.  If  the  <b>-R</b>  option is specified, a recursive descent is performed for all
              directory entries below the currently open file  (<b>-D</b>  can  be  used  to  restrict  the  output  to
              directories  only).   If the target file is a directory, then the inherited CoW extent size is set
              for that directory (new files created in that directory inherit that CoW extent size).  The  <u>value</u>
              should  be  specified  in  bytes,  or using one of the usual units suffixes (k, m, g, b, etc). The
              extent size is always reported in units of bytes.

       <b>allocsp</b> <u>size</u> <b>0</b>
              Sets the size  of  the  file  to  <u>size</u>  and  zeroes  any  additional  space  allocated  using  the
              XFS_IOC_ALLOCSP/XFS_IOC_FREESP  system  call  described in the <b><a href="../man3/xfsctl.3.html">xfsctl</a></b>(3) manual page.  <b>allocsp</b> and
              <b>freesp</b> do exactly the same thing.

              These commands are no longer supported as of Linux 5.17.

       <b>freesp</b> <u>size</u> <b>0</b>
              See the <b>allocsp</b> command.

       <b>fadvise</b> <b>[</b> <b>-r</b> <b>|</b> <b>-s</b> <b>|</b> <b>[[</b> <b>-d</b> <b>|</b> <b>-n</b> <b>|</b> <b>-w</b> <b>]</b> <u>offset</u> <u>length</u> <b>]]</b>
              On platforms which support it, allows hints be given to the  system  regarding  the  expected  I/O
              patterns  on  the file.  The range arguments are required by some advise commands ([*] below), and
              the others must have no range arguments.  With  no  arguments,  the  POSIX_FADV_NORMAL  advice  is
              implied (default readahead).
                 <b>-d</b>  the data will not be accessed again in the near future (POSIX_FADV_DONTNEED[*]).
                 <b>-n</b>  data will be accessed once and not be reused (POSIX_FADV_NOREUSE[*]).
                 <b>-r</b>  expect access to data in random order (POSIX_FADV_RANDOM), which sets readahead to zero.
                 <b>-s</b>  expect  access  to  data  in  sequential  order  (POSIX_FADV_SEQUENTIAL), which doubles the
                     default readahead on the file.
                 <b>-w</b>  advises the specified data will be needed again (POSIX_FADV_WILLNEED[*]) which  forces  the
                     maximum readahead.

       <b>fdatasync</b>
              Calls <b><a href="../man2/fdatasync.2.html">fdatasync</a></b>(2) to flush the file's in-core data to disk.

       <b>fsync</b>  Calls <b><a href="../man2/fsync.2.html">fsync</a></b>(2) to flush all in-core file state to disk.

       <b>s</b>      See the <b>fsync</b> command.

       <b>sync_range</b> <b>[</b> <b>-a</b> <b>|</b> <b>-b</b> <b>|</b> <b>-w</b> <b>]</b> <b>offset</b> <b>length</b>
              On  platforms  which  support  it,  allows control of syncing a range of the file to disk. With no
              options, SYNC_FILE_RANGE_WRITE is implied on the range supplied.
                 <b>-a</b>  wait for IO in the given range to finish after writing (SYNC_FILE_RANGE_WAIT_AFTER).
                 <b>-b</b>  wait for IO in the given range to finish before writing (SYNC_FILE_RANGE_WAIT_BEFORE).
                 <b>-w</b>  start writeback of dirty data in the given range (SYNC_FILE_RANGE_WRITE).

       <b>sync</b>   Calls <b><a href="../man2/sync.2.html">sync</a></b>(2) to flush all filesystems' in-core data to disk.

       <b>syncfs</b> Calls <b><a href="../man2/syncfs.2.html">syncfs</a></b>(2) to flush this filesystem's in-core data to disk.

       <b>resvsp</b> <u>offset</u> <u>length</u>
              Allocates reserved, unwritten space for part of  a  file  using  the  XFS_IOC_RESVSP  system  call
              described in the <b><a href="../man3/xfsctl.3.html">xfsctl</a></b>(3) manual page.

       <b>unresvsp</b> <u>offset</u> <u>length</u>
              Frees  reserved  space  for part of a file using the XFS_IOC_UNRESVSP system call described in the
              <b><a href="../man3/xfsctl.3.html">xfsctl</a></b>(3) manual page.

       <b>falloc</b> <b>[</b> <b>-k</b> <b>]</b> <u>offset</u> <u>length</u>
              Allocates reserved, unwritten space for part of a file using the fallocate routine as described in
              the <b><a href="../man2/fallocate.2.html">fallocate</a></b>(2) manual page.
                 <b>-k</b>  will set the FALLOC_FL_KEEP_SIZE flag as described in <b><a href="../man2/fallocate.2.html">fallocate</a></b>(2).

       <b>fcollapse</b> <u>offset</u> <u>length</u>
              Call fallocate with FALLOC_FL_COLLAPSE_RANGE flag as described in the <b><a href="../man2/fallocate.2.html">fallocate</a></b>(2) manual page  to
              de-allocates  blocks  and eliminates the hole created in this process by shifting data blocks into
              the hole.

       <b>finsert</b> <u>offset</u> <u>length</u>
              Call fallocate with FALLOC_FL_INSERT_RANGE flag as described in the <b><a href="../man2/fallocate.2.html">fallocate</a></b>(2)  manual  page  to
              create the hole by shifting data blocks.

       <b>fpunch</b> <u>offset</u> <u>length</u>
              Punches  (de-allocates) blocks in the file by calling fallocate with the FALLOC_FL_PUNCH_HOLE flag
              as described in the <b><a href="../man2/fallocate.2.html">fallocate</a></b>(2) manual page.

       <b>funshare</b> <u>offset</u> <u>length</u>
              Call fallocate with FALLOC_FL_UNSHARE_RANGE flag as described in the <b><a href="../man2/fallocate.2.html">fallocate</a></b>(2) manual  page  to
              unshare all shared blocks within the range.

       <b>fzero</b> <b>[</b> <b>-k</b> <b>]</b> <u>offset</u> <u>length</u>
              Call  fallocate  with  FALLOC_FL_ZERO_RANGE  flag  as described in the <b><a href="../man2/fallocate.2.html">fallocate</a></b>(2) manual page to
              allocate and zero blocks within the range.  With the <b>-k</b> option, use the  FALLOC_FL_KEEP_SIZE  flag
              as well.

       <b>zero</b> <u>offset</u> <u>length</u>
              Call xfsctl with <b>XFS_IOC_ZERO_RANGE</b> as described in the <b><a href="../man3/xfsctl.3.html">xfsctl</a></b>(3) manual page to allocate and zero
              blocks within the range.

       <b>truncate</b> <u>offset</u>
              Truncates the current file at the given offset using <b><a href="../man2/ftruncate.2.html">ftruncate</a></b>(2).

       <b>sendfile</b> <b>[</b> <b>-q</b> <b>]</b> <b>-i</b> <u>srcfile</u> <b>|</b> <b>-f</b> <u>N</u> <b>[</b> <u>offset</u> <u>length</u> <b>]</b>
              On  platforms  which  support it, allows a direct in-kernel copy between two file descriptors. The
              current open file is the target, the source must be specified as another open file (<b>-f</b>) or by path
              (<b>-i</b>).
                 <b>-q</b> quiet mode, do not write anything to standard output.

       <b>readdir</b> <b>[</b> <b>-v</b> <b>]</b> <b>[</b> <b>-o</b> <u>offset</u> <b>]</b> <b>[</b> <b>-l</b> <u>length</u> <b>]</b>
              Read a range of directory entries from a given offset of a directory.
                 <b>-v</b>  verbose mode - dump dirent content as defined in <b><a href="../man3/readdir.3.html">readdir</a></b>(3)
                 <b>-o</b>  specify starting <u>offset</u>
                 <b>-l</b>  specify total <u>length</u> to read (in bytes)

       <b>seek</b>  <b>-a</b> <b>|</b> <b>-d</b> <b>|</b> <b>-h</b> <b>[</b> <b>-r</b> <b>]</b> <b>[</b> <b>-s</b> <b>]</b> <b>offset</b>
              On platforms that support the <b><a href="../man2/lseek.2.html">lseek</a></b>(2) <b>SEEK_DATA</b> and <b>SEEK_HOLE</b> options, display the offsets of the
              specified segments.
                 <b>-a</b>  Display both <b>data</b> and <b>hole</b> segments starting at the specified <b>offset.</b>
                 <b>-d</b>  Display the <b>data</b> segment starting at the specified <b>offset.</b>
                 <b>-h</b>  Display the <b>hole</b> segment starting at the specified <b>offset.</b>
                 <b>-r</b>  Recursively display all the specified segments starting at the specified <b>offset.</b>
                 <b>-s</b>  Display the starting <a href="../man2/lseek.2.html">lseek</a>(2) offset. This offset will be a calculated value when both data
                     and holes are displayed together or performing a recusively display.

       <b>reflink</b>  <b>[</b> <b>-C</b> <b>]</b> <b>[</b> <b>-q</b> <b>]</b> <b>src_file</b> <b>[src_offset</b> <b>dst_offset</b> <b>length]</b>
              On filesystems that support the <b>FICLONERANGE</b> or <b>BTRFS_IOC_CLONE_RANGE</b> ioctls, map <u>length</u> bytes  at
              offset  <u>dst_offset</u>  in  the  open  file  to  the  same  physical  blocks that are mapped at offset
              <u>src_offset</u> in the file <u>src_file</u> , replacing any contents that may already have been there.   If  a
              program  writes  into  a  reflinked  block  range of either file, the dirty blocks will be cloned,
              written to, and remapped ("copy on write")  in  the  affected  file,  leaving  the  other  file(s)
              unchanged.   If  src_offset,  dst_offset, and length are omitted, all contents of src_file will be
              reflinked into the open file.
                 <b>-C</b>  Print timing statistics in a condensed format.
                 <b>-q</b>  Do not print timing statistics at all.

       <b>dedupe</b>  <b>[</b> <b>-C</b> <b>]</b> <b>[</b> <b>-q</b> <b>]</b> <b>src_file</b> <b>src_offset</b> <b>dst_offset</b> <b>length</b>
              On filesystems that support the <b>FIDEDUPERANGE</b> or  <b>BTRFS_IOC_FILE_EXTENT_SAME</b>  ioctls,  map  <u>length</u>
              bytes  at offset <u>dst_offset</u> in the open file to the same physical blocks that are mapped at offset
              <u>src_offset</u> in the file <u>src_file</u> , but only if the contents of both ranges are identical.  This  is
              known  as  block-based  deduplication.  If a program writes into a reflinked block range of either
              file, the dirty blocks will be cloned, written to, and remapped ("copy on write") in the  affected
              file, leaving the other file(s) unchanged.
                 <b>-C</b>  Print timing statistics in a condensed format.
                 <b>-q</b>  Do not print timing statistics at all.

       <b>copy_range</b> <b>[</b> <b>-s</b> <u>src_offset</u> <b>]</b> <b>[</b> <b>-d</b> <u>dst_offset</u> <b>]</b> <b>[</b> <b>-l</b> <u>length</u> <b>]</b> <b>src_file</b> <b>|</b> <b>-f</b> <u>N</u>
              On  filesystems  that support the <b><a href="../man2/copy_file_range.2.html">copy_file_range</a></b>(2) system call, copies data from the source file
              into the current open file.  The source must be specified either by path (<b>src_file</b>) or as  another
              open  file  (<b>-f</b>).  If <u>length</u> is not specified, this command copies data from <u>src_offset</u> to the end
              of <b>src_file</b> into the dst_file at <u>dst_offset</u>.
                 <b>-s</b>  Copy data from <u>src_file</u> beginning from <u>src_offset</u>.
                 <b>-d</b>  Copy data into the open file beginning at <u>dst_offset</u>.
                 <b>-l</b>  Copy up to <u>length</u> bytes of data.

       <b>swapext</b> <u>donor_file</u>
              Swaps extent forks between files. The current open file is the target. The donor file is specified
              by path. Note that file data is not copied (file content moves with the fork(s)).

       <b>exchangerange</b> <b>[OPTIONS]</b><u>donor_file</u>
              Exchanges contents between files.  The current open  file  is  the  target.   The  donor  file  is
              specified  by  path.   Note  that  file  data is not copied (file content moves with the fork(s)).
              Options include:
                 <b>-C</b>  Print timing information in a condensed format.
                 <b>-c</b>  Exchange contents only if file2 has not changed.
                 <b>-d</b> <u>dest_offset</u>
                     Swap extents with open file beginning at <u>dest_offset</u>.
                 <b>-f</b>  Flush changed file data and file metadata to disk.
                 <b>-l</b> <u>length</u>
                     Swap up to <u>length</u> bytes of data.
                 <b>-n</b>  Perform all the parameter validation checks but don't change anything.
                 <b>-s</b> <u>src_offset</u>
                     Swap extents with donor file beginning at <u>src_offset</u>.
                 <b>-t</b>  Print timing information.
                 <b>-w</b>  Only exchange written ranges in the supplied file.

       <b>set_encpolicy</b> <b>[</b> <b>-c</b> <u>mode</u> <b>]</b> <b>[</b> <b>-n</b> <u>mode</u> <b>]</b> <b>[</b> <b>-f</b> <u>flags</u> <b>]</b> <b>[</b> <b>-s</b> <u>log2_dusize</u> <b>]</b> <b>[</b> <b>-v</b> <u>version</u> <b>]</b> <b>[</b> <u>keyspec</u> <b>]</b>
              On filesystems that support encryption, assign an encryption policy to the current file.   <u>keyspec</u>
              is  a  hex  string which specifies the encryption key to use.  For v1 encryption policies, <u>keyspec</u>
              must be a 16-character hex string (8 bytes).  For v2 policies, <u>keyspec</u> must be a 32-character  hex
              string (16 bytes).  If unspecified, an all-zeroes value is used.
                 <b>-c</b> <u>mode</u>
                     contents encryption mode (e.g. AES-256-XTS)
                 <b>-n</b> <u>mode</u>
                     filenames encryption mode (e.g. AES-256-CTS)
                 <b>-f</b> <u>flags</u>
                     policy flags (numeric)
                 <b>-s</b> <u>log2_dusize</u>
                     log2 of data unit size.  Not supported by v1 policies.
                 <b>-v</b> <u>version</u>
                     policy  version.  Defaults to 1 or 2 depending on the length of <u>keyspec</u>; or to 1 if <u>keyspec</u>
                     is unspecified.

       <b>get_encpolicy</b> <b>[</b> <b>-1</b> <b>]</b> <b>[</b> <b>-t</b> <b>]</b>
              On filesystems that support encryption, display the encryption policy of the current file.
                 <b>-1</b>  Use only the old ioctl to get the encryption policy.  This only works if the file has a  v1
                     encryption policy.
                 <b>-t</b>  Test  whether  v2 encryption policies are supported.  Prints "supported", "unsupported", or
                     an error message.

       <b>add_enckey</b> <b>[</b> <b>-d</b> <u>descriptor</u> <b>]</b> <b>[</b> <b>-k</b> <u>key_id</u> <b>]</b>
              On filesystems that support encryption, add an encryption key to  the  filesystem  containing  the
              currently  open  file.   By  default, the raw key in binary (typically 64 bytes long) is read from
              standard input.
                 <b>-d</b> <u>descriptor</u>
                     key descriptor, as a 16-character hex  string  (8  bytes).   If  given,  the  key  will  be
                     available  for  use by v1 encryption policies that use this descriptor.  Otherwise, the key
                     is added as a v2 policy key, and on success the resulting "key identifier" will be printed.
                 <b>-k</b> <u>key_id</u>
                     ID of kernel keyring key of type "fscrypt-provisioning".  If given, the  raw  key  will  be
                     taken from here rather than from standard input.

       <b>rm_enckey</b> <b>[</b> <b>-a</b> <b>]</b> <u>keyspec</u>
              On  filesystems  that  support encryption, remove an encryption key from the filesystem containing
              the currently open file.  <u>keyspec</u> is a hex string specifying the key to remove, as a  16-character
              "key descriptor" or a 32-character "key identifier".
                 <b>-a</b>  Remove  the  key  for  all  users  who have added it, not just the current user.  This is a
                     privileged operation.

       <b>enckey_status</b> <u>keyspec</u>
              On filesystems that support encryption, display the status of an encryption key.  <u>keyspec</u> is a hex
              string specifying the key for which to display the status, as a 16-character "key descriptor" or a
              32-character "key identifier".

       <b>lsattr</b> [ <b>-R</b> | <b>-D</b> | <b>-a</b> | <b>-v</b> ]
              List extended inode flags on the currently open file. If the <b>-R</b> option is specified,  a  recursive
              descent  is  performed  for all directory entries below the currently open file (<b>-D</b> can be used to
              restrict the output to directories only).  This is a depth  first  descent,  it  does  not  follow
              symlinks and it also does not cross mount points.

              The  current inode flag letters are documented below.  Please refer to the <b><a href="../man2/ioctl_xfs_fsgetxattr.2.html">ioctl_xfs_fsgetxattr</a></b>(2)
              documentation for more details about what they mean.

              <b>r</b>    realtime file (XFS_XFLAG_REALTIME)

              <b>p</b>    prealloc (XFS_XFLAG_PREALLOC)

              <b>i</b>    immutable (XFS_XFLAG_IMMUTABLE)

              <b>a</b>    append only (XFS_XFLAG_APPEND)

              <b>s</b>    synchronous file writes (XFS_XFLAG_SYNC)

              <b>A</b>    noatime (XFS_XFLAG_NOATIME)

              <b>d</b>    nodump (XFS_XFLAG_NODUMP)

              <b>t</b>    inherit realtime flag (XFS_XFLAG_RTINHERIT)"

              <b>P</b>    inherit project id (XFS_XFLAG_PROJINHERIT)

              <b>n</b>    no symlink creation (XFS_XFLAG_NOSYMLINKS)

              <b>e</b>    extent size hint (XFS_XFLAG_EXTSIZE)

              <b>E</b>    inherit extent size hint (XFS_XFLAG_EXTSZINHERIT)

              <b>f</b>    nodefrag (XFS_XFLAG_NODEFRAG)

              <b>S</b>    filestream allocator (XFS_XFLAG_FILESTREAM)

              <b>x</b>    direct access persistent memory (XFS_XFLAG_DAX)

              <b>C</b>    copy on write extent hint (XFS_XFLAG_COWEXTSIZE)

              <b>X</b>    has extended attributes (XFS_XFLAG_HASATTR)

       <b>chattr</b> [ <b>-R</b> | <b>-D</b> ] [ <b>+</b>/<b>-riasAdtPneEfSxC</b> ]
              Change extended inode flags on the currently open file. The  <b>-R</b>  and  <b>-D</b>  options  have  the  same
              meaning as above.

              See the <b>lsattr</b> command above for the list of inode flag letters.

       <b>flink</b> <u>path</u>
              Link the currently open file descriptor into the filesystem namespace.
       <b>stat</b> [ <b>-v</b>|<b>-r</b> ]
              Selected  statistics from <b><a href="../man2/stat.2.html">stat</a></b>(2) and the XFS_IOC_GETXATTR system call on the current file. If the
              <b>-v</b> option is specified, the atime (last access), mtime (last  modify),  and  ctime  (last  change)
              timestamps are also displayed.  The <b>-r</b> option dumps raw fields from the stat structure.
       <b>statx</b> <b>[</b> <b>-v|-r</b> <b>][</b> <b>-m</b> <u>basic</u> <b>|</b> <b>-m</b> <u>all</u> <b>|</b> <b>-m</b> <u>&lt;mask&gt;</u> <b>][</b> <b>-FD</b> <b>]</b>
              Selected statistics from <b><a href="../man2/stat.2.html">stat</a></b>(2) and the XFS_IOC_GETXATTR system call on the current file.
                 <b>-v</b>  Show timestamps.
                 <b>-r</b>  Dump raw statx structure values.
                 <b>-m</b> <b>basic</b>
                     Set the field mask for the statx call to STATX_BASIC_STATS.
                 <b>-m</b> <b>all</b>
                     Set the the field mask for the statx call to STATX_ALL (default).
                 <b>-m</b> <b>&lt;mask&gt;</b>
                     Specify a numeric field mask for the statx call.
                 <b>-F</b>  Force the attributes to be synced with the server.
                 <b>-D</b>  Don't sync attributes with the server.

       <b>chproj</b> [ <b>-R</b>|<b>-D</b> ]
              Modifies  the  project identifier associated with the current path. The <b>-R</b> option will recursively
              descend if the current path is a directory. The <b>-D</b> option  will  also  recursively  descend,  only
              setting  modifying  projects  on  subdirectories.   See  the  <b><a href="../man8/xfs_quota.8.html">xfs_quota</a></b>(8)  manual  page  for more
              information about project identifiers.

       <b>lsproj</b> [ <b>-R</b>|<b>-D</b> ]
              Displays the project identifier associated with the current path. The <b>-R</b> and <b>-D</b> options behave  as
              described above, in <b>chproj.</b>

       <b>parent</b> [ <b>-fpz</b> ] [ <b>-b</b> bufsize ] [ <b>-i</b> ino ] [ <b>-n</b> name ] [ <b>ino</b> <b>gen</b> ]
              By  default  this  command  prints  out  the  parent  inode  numbers, inode generation numbers and
              basenames of all the hardlinks which point to the inode of the current file.

              If the optional <b>ino</b> and <b>gen</b> parameters are provided, they will be used to create a file handle  on
              the  same  filesystem as the open file.  The parents of the file represented by the handle will be
              reported instead of the open file.

                 <b>-b</b>  Use a buffer of this size to receive parent pointer records from the kernel.
                 <b>-i</b>  Only show parent pointer records containing this inode number.
                 <b>-n</b>  Only show parent pointer records containing this directory entry name.
                 <b>-p</b>  the output is similar to the default output except pathnames  up  to  the  mount-point  are
                     printed out instead of the component name.
                 <b>-s</b>  Print records in short format: ino/gen/namelen/name
                 <b>-z</b>  Print only the first path from the root.

       <b>utimes</b> <u>atime_sec</u> <u>atime_nsec</u> <u>mtime_sec</u> <u>mtime_nsec</u>
              The  utimes  command  changes  the  atime  and mtime of the current file.  sec uses UNIX timestamp
              notation and is the seconds elapsed since 1970-01-01 00:00:00 UTC.  nsec is the nanoseconds  since
              the  sec.  This  value  needs  to  be in the range 0-999999999 with UTIME_NOW and UTIME_OMIT being
              exceptions.  Each (sec, nsec) pair constitutes a single timestamp value.

       <b>startupdate</b> <b>[</b> <u>-e</u><b>]</b>
              Create a temporary clone of a file in which to stage file updates.  The <b>-e</b> option creates an empty
              staging file.

       <b>cancelupdate</b>
              Abandon changes from a update staging file.

       <b>commitupdate</b> <b>[</b><u>OPTIONS</u><b>]</b>
              Commit changes from a update staging file to the real file.
                 <b>-C</b>  Print timing information in a condensed format.
                 <b>-h</b>  Only swap ranges in the update staging file that were actually written.
                 <b>-k</b>  Do not change file size.
                 <b>-n</b>  Check parameters without changing anything.
                 <b>-q</b>  Do not print timing information at all.

</pre><h4><b>MEMORY</b> <b>MAPPED</b> <b>I/O</b> <b>COMMANDS</b></h4><pre>
       <b>mmap</b> <b>[</b> <u>N</u> <b>|</b> <b>[[</b> <b>-rwxS</b> <b>]</b> <b>[-s</b> <u>size</u> <b>]</b> <u>offset</u> <u>length</u> <b>]]</b>
              With no arguments, <b>mmap</b> shows the current mappings. Specifying a single numeric  argument  <u>N</u>  sets
              the  current  mapping.  If two arguments are specified (a range specified by <u>offset</u> and <u>length</u>), a
              new mapping is created spanning the range, and the protection mode can be given as  a  combination
              of  PROT_READ  (<b>-r</b>),  PROT_WRITE  (<b>-w</b>),  and PROT_EXEC (<b>-x</b>).  The mapping will be created with the
              MAP_SHARED flag by default, or with the Linux specific (MAP_SYNC | MAP_SHARED_VALIDATE)  flags  if
              <b>-S</b>  is  given.   <b>-s</b>  <u>size</u>  is  used  to do a mmap(size) &amp;&amp; munmap(size) operation at first, try to
              reserve some extendible free memory space, if <u>size</u> is bigger than <u>length</u>  parameter.  But  there's
              not guarantee that the memory after <u>length</u> ( up to <u>size</u> ) will stay free.  <b>e.g.</b>  "mmap -rw -s 8192
              1024"  will  mmap  0 ~ 1024 bytes memory, but try to reserve 1024 ~ 8192 free space(no guarantee).
              This free space will helpful for "mremap 8192" without MREMAP_MAYMOVE flag.

       <b>mm</b>     See the <b>mmap</b> command.

       <b>mremap</b> <b>[</b> <b>-f</b> <b>&lt;new_address&gt;</b> <b>]</b> <b>[</b> <b>-m</b> <b>]</b> <u>new_length</u>
              Changes the current mapping size to <u>new_length</u>.  Whether the mapping may be moved is controlled by
              the flags passed; MREMAP_FIXED (<b>-f</b>), or MREMAP_MAYMOVE (<b>-m</b>).  <u>new_length</u> specifies a  page-aligned
              address to which the mapping must be moved. It can be set to 139946004389888, 4096k or 1g etc.

       <b>mrm</b>    See the <b>mremap</b> command.

       <b>munmap</b> Unmaps the current memory mapping.

       <b>mu</b>     See the <b>munmap</b> command.

       <b>mread</b> <b>[</b> <b>-f</b> <b>|</b> <b>-v</b> <b>]</b> <b>[</b> <b>-r</b> <b>]</b> <b>[</b> <u>offset</u> <u>length</u> <b>]</b>
              Accesses  a  segment  of  the current memory mapping, optionally dumping it to the standard output
              stream (with <b>-v</b> or <b>-f</b> option) for inspection. The accesses are  performed  sequentially  from  the
              start <u>offset</u> by default, but can also be done from the end backwards through the mapping if the <b>-r</b>
              option  in specified.  The two verbose modes differ only in the relative offsets they display, the
              <b>-f</b> option is relative to file start, whereas <b>-v</b>  shows  offsets  relative  to  the  start  of  the
              mapping.

       <b>mr</b>     See the <b>mread</b> command.

       <b>mwrite</b> <b>[</b> <b>-r</b> <b>]</b> <b>[</b> <b>-S</b> <u>seed</u> <b>]</b> <b>[</b> <u>offset</u> <u>length</u> <b>]</b>
              Stores a byte into memory for a range within a mapping.  The default stored value is 'X', repeated
              to  fill  the range specified, but this can be changed using the <b>-S</b> option.  The memory stores are
              performed sequentially from the start offset by default,  but  can  also  be  done  from  the  end
              backwards through the mapping if the <b>-r</b> option in specified.

       <b>mw</b>     See the <b>mwrite</b> command.

       <b>msync</b> <b>[</b> <b>-i</b> <b>]</b> <b>[</b> <b>-a</b> <b>|</b> <b>-s</b> <b>]</b> <b>[</b> <u>offset</u> <u>length</u> <b>]</b>
              Writes  all  modified  copies  of  pages  over  the specified range (or entire mapping if no range
              specified) to their  backing  storage  locations.   Also,  optionally  invalidates  (<b>-i</b>)  so  that
              subsequent  references to the pages will be obtained from their backing storage locations (instead
              of cached copies).  The flush can be done synchronously (<b>-s)</b> or asynchronously (<b>-a</b>).

       <b>ms</b>     See the <b>msync</b> command.

       <b>madvise</b> <b>[</b> <b>-d</b> <b>|</b> <b>-r</b> <b>|</b> <b>-s</b> <b>|</b> <b>-w</b> <b>]</b> <b>[</b> <u>offset</u> <u>length</u> <b>]</b>
              Modifies page cache behavior when operating on the  current  mapping.   The  range  arguments  are
              required  by some advise commands ([*] below).  With no arguments, the POSIX_MADV_NORMAL advice is
              implied (default readahead).
                 <b>-d</b>  the pages will not be needed (POSIX_MADV_DONTNEED[*]).
                 <b>-r</b>  expect random page references (POSIX_MADV_RANDOM), which sets readahead to zero.
                 <b>-s</b>  expect sequential  page  references  (POSIX_MADV_SEQUENTIAL),  which  doubles  the  default
                     readahead on the file.
                 <b>-w</b>  advises  the specified pages will be needed again (POSIX_MADV_WILLNEED[*]) which forces the
                     maximum readahead.

       <b>mincore</b>
              Dumps a list of pages or ranges of pages that are  currently  in  core,  for  the  current  memory
              mapping.

</pre><h4><b>FILESYSTEM</b> <b>COMMANDS</b></h4><pre>
       <b>aginfo</b> <b>[</b> <b>-a</b> <u>agno</u> <b>]</b>
              Show information about or update the state of allocation groups.
                 <b>-a</b>     Act only on a specific allocation group.

       <b>bulkstat</b> <b>[</b> <b>-a</b> <u>agno</u> <b>]</b> <b>[</b> <b>-d</b> <b>]</b> <b>[</b> <b>-e</b> <u>endino</u> <b>]</b> <b>[</b> <b>-m</b> <b>]</b> <b>[</b> <b>-n</b> <u>batchsize</u> <b>]</b> <b>[</b> <b>-q</b> <b>]</b> <b>[</b> <b>-s</b> <u>startino</u> <b>]</b> <b>[</b> <b>-v</b> <u>version"</u><b>]</b>
              Display  raw  stat  information  about  a  bunch  of  inodes in an XFS filesystem.  Options are as
              follows:
                 <b>-a</b> <u>agno</u>
                        Display only results from the given allocation group.  If  not  specified,  all  results
                        returned will be displayed.
                 <b>-d</b>     Print debugging information about call results.
                 <b>-e</b> <u>endino</u>
                        Stop  displaying  records  when this inode number is reached.  Defaults to stopping when
                        the system call stops returning results.
                 <b>-m</b>     Include metadata directories in the output.
                 <b>-n</b> <u>batchsize</u>
                        Retrieve at most this many records per call.  Defaults to 4,096.
                 <b>-q</b>     Run quietly.  Does not parse or output retrieved bulkstat information.
                 <b>-s</b> <u>startino</u>
                        Display inode allocation records starting with this inode.  Defaults to the first  inode
                        in  the  filesystem.   If  the given inode is not allocated, results will begin with the
                        next allocated inode in the filesystem.
                 <b>-v</b> <u>version</u>
                        Use a particular version of the kernel interface.  Currently supported  versions  are  1
                        and 5.

       <b>bulkstat_single</b> <b>[</b> <b>-d</b> <b>]</b> <b>[</b> <b>-m</b> <b>]</b> <b>[</b> <b>-v</b> <u>version</u> <b>]</b> <b>[</b> <u>inum...</u> <b>|</b> <u>special...</u> <b>]</b>
              Display  raw  stat  information  about individual inodes in an XFS filesystem.  The <b>-d</b>, <b>-m</b>, and <b>-v</b>
              options are the same as the <b>bulkstat</b> command.  Arguments must be  inode  numbers  or  any  of  the
              special values:
                 <b>root</b>   Display information about the root directory inode.

       <b>freeze</b> Suspend  all  write  I/O requests to the filesystem of the current file.  Only available in expert
              mode and requires privileges.

       <b>thaw</b>   Undo the effects of a filesystem freeze operation.  Only available in  expert  mode  and  requires
              privileges.

       <b>inject</b> <b>[</b> <u>tag</u> <b>]</b>
              Inject  errors  into  a filesystem to observe filesystem behavior at specific points under adverse
              conditions. Without the <u>tag</u> argument, displays the list of error tags available.   Only  available
              in expert mode and requires privileges.

       <b>rginfo</b> <b>[</b> <b>-r</b> <u>rgno</u> <b>]</b>
              Show information about or update the state of realtime allocation groups.
                 <b>-r</b>     Act only on a specific realtime group.

       <b>resblks</b> <b>[</b> <u>blocks</u> <b>]</b>
              Get   and/or   set   count   of  reserved  filesystem  blocks  using  the  XFS_IOC_GET_RESBLKS  or
              XFS_IOC_SET_RESBLKS system calls.  Note --  this  can  be  useful  for  exercising  out  of  space
              behavior.  Only available in expert mode and requires privileges.

       <b>shutdown</b> [ <b>-f</b> ]
              Force the filesystem to shut down, preventing any further IO.  XFS and other filesystems implement
              this functionality, although implementation details may differ slightly.  Only available in expert
              mode and requires privileges.

              By  default,  the  filesystem  will  not  attempt  to  flush completed transactions to disk before
              shutting down the filesystem.  This simulates a disk failure or crash.
                 <b>-f</b>  Force the filesystem to flush all completed transactions  to  disk  before  shutting  down,
                     matching XFS behavior when critical corruption is encountered.

       <b>statfs</b> <b>[</b> <b>-c</b> <b>]</b> <b>[</b> <b>-g</b> <b>]</b> <b>[</b> <b>-s</b> <b>]</b>
              Report selected statistics on the filesystem where the current file resides.  The default behavior
              is to enable all three reporting options:
                 <b>-c</b>     Display <b>XFS_IOC_FSCOUNTERS</b> summary counter data.
                 <b>-g</b>     Display <b>XFS_IOC_FSGEOMETRY</b> filesystem geometry data.
                 <b>-s</b>     Display <b><a href="../man2/statfs.2.html">statfs</a></b>(2) data.
       <b>inode</b>  <b>[</b> <b>[</b> <b>-n</b> <b>]</b> <u>number</u> <b>]</b> <b>[</b> <b>-v</b> <b>]</b>
              The inode command queries physical information about an inode. With no arguments, it will return 1
              or 0, indicating whether or not any inode numbers greater than 32 bits are currently in use in the
              filesystem.   If  given  an  inode  <u>number</u>  as an argument, the command will return the same inode
              <u>number</u> if it is in use, or 0 if not. With <b>-n</b> <u>number</u> , the next used inode number after this <u>number</u>
              will be returned, or zero if the supplied inode number is the highest one  in  use.  With  <b>-v</b>  the
              command  will  also  report  the number of bits (32 or 64) used by the inode <u>number</u> printed in the
              result; if no inode <u>number</u> was specified on the command line, the maximum possible inode number in
              the system will be printed along with its size.

       <b>inumbers</b> <b>[</b> <b>-a</b> <u>agno</u> <b>]</b> <b>[</b> <b>-d</b> <b>]</b> <b>[</b> <b>-e</b> <u>endino</u> <b>]</b> <b>[</b> <b>-n</b> <u>batchsize</u> <b>]</b> <b>[</b> <b>-s</b> <u>startino</u> <b>]</b> <b>[</b> <b>-v</b> <u>version</u> <b>]</b>
              Prints allocation information about groups of inodes in an XFS filesystem.  Callers can  use  this
              information to figure out which inodes are allocated.  Options are as follows:
                 <b>-a</b> <u>agno</u>
                        Display  only  results  from  the given allocation group.  If not specified, all results
                        returned will be displayed.
                 <b>-d</b>     Print debugging information about call results.
                 <b>-e</b> <u>endino</u>
                        Stop displaying records when this inode number is reached.  Defaults  to  stopping  when
                        the system call stops returning results.
                 <b>-n</b> <u>batchsize</u>
                        Retrieve at most this many records per call.  Defaults to 4,096.
                 <b>-s</b> <u>startino</u>
                        Display  inode allocation records starting with this inode.  Defaults to the first inode
                        in the filesystem.  If the given inode is not allocated, results  will  begin  with  the
                        next allocated inode in the filesystem.
                 <b>-v</b> <u>version</u>
                        Use  a  particular  version of the kernel interface.  Currently supported versions are 1
                        and 5.

       <b>scrub</b> <u>type</u> <b>[</b> <u>agnumber</u> <b>|</b> <u>rgnumber</u> <b>|</b> <u>ino</u> <u>gen</u> <b>|</b> <u>metapath</u> <b>[</b> <u>rgnumber</u> <b>]</b> <b>]</b>
              Scrub internal XFS filesystem metadata.  The <b>type</b> parameter specifies which type  of  metadata  to
              scrub.   For  AG  metadata,  one  AG  number  must be specified.  For realtime group metadata, one
              rtgroup number must be specified.  For file metadata, the scrub is applied to the open file unless
              the inode number and generation number are specified.  For metapath, the name of a file or  a  raw
              number  must  be  specified.  If the metapath file is a per-rtgroup file, the group number must be
              specified.

       <b>scrubv</b> <b>[</b> <b>-b</b> <b>NN</b> <b>]</b> <b>[</b> <b>-d</b> <b>]</b> <b>[</b> <b>-m</b> <b>oflags</b> <b>]</b> <b>[</b> <b>-r</b> <b>]</b> <b>[</b> <b>-v</b> <b>NN</b> <b>]</b> <b>[</b> <b>-w</b> <b>ms</b> <b>]</b> <u>group</u> <b>[</b> <u>agnumber</u> <b>|</b> <u>ino</u> <u>gen</u> <b>]</b>
              Scrub a bunch of internal XFS filesystem metadata.  The <b>group</b> parameter specifies which  group  of
              metadata to scrub.  Valid groups are <u>ag</u>, <u>agheader</u>, <u>inode</u>, <u>iscan</u>, <u>fs</u>, <u>probe</u>, <u>rtgroup</u>, or <u>summary</u>.

              For  <b>ag</b>  and <b>agheader</b> metadata, one AG number must be specified.  For <b>inode</b> metadata, the scrub is
              applied to the open file unless the inode number and generation number are specified.  For <b>rtgroup</b>
              metadata, one rt group number must be specified.

                 <b>-b</b> <u>NN</u>  Inject scrub barriers into the vector stream at  the  given  interval.   Barriers  abort
                        vector processing if any previous scrub function found corruption.
                 <b>-d</b>     Enables debug mode.
                 <b>-m</b>     Fail scrub barriers if any of these scrub output flags are seen.
                 <b>-r</b>     Repair metadata if corruptions are found.  This option requires expert mode.
                 <b>-v</b> <u>NN</u>  Force a particular API version.  <b>single</b> selects XFS_SCRUB_METADATA (one-by-one).  <b>vector</b>
                        selects  XFS_SCRUBV_METADATA (vectored).  If no option is specified, vector mode will be
                        used, with a fallback to single mode if the kernel doesn't  recognize  the  vector  mode
                        ioctl.
                 <b>-w</b> <u>us</u>  Wait the given number of microseconds between each scrub function.

       <b>repair</b> <u>type</u> <b>[</b> <u>agnumber</u> <b>|</b> <u>ino</u> <u>gen</u> <b>]</b>
              Repair  internal  XFS filesystem metadata.  The <b>type</b> parameter specifies which type of metadata to
              repair.  For AG metadata, one AG number must be specified.   For  file  metadata,  the  repair  is
              applied  to  the  open  file  unless the inode number and generation number are specified.  The <b>-R</b>
              option can be specified to force rebuilding of a metadata structure.

       <b>label</b> <b>[</b> <b>-c</b> <b>|</b> <b>-s</b> <u>label</u> <b>]</b>
              On filesystems that support online label manipulation, get, set, or clear  the  filesystem  label.
              With no options, print the current filesystem label.  The <b>-c</b> option clears the filesystem label by
              setting  it  to  the null string.  The <b>-s</b> <u>label</u> option sets the filesystem label to <u>label</u>.  If the
              label is longer than the filesystem  will  accept,  <b>xfs_io</b>  will  print  an  error  message.   XFS
              filesystem labels can be at most 12 characters long.

       <b>fsmap</b> <b>[</b> <b>-d</b> <b>|</b> <b>-l</b> <b>|</b> <b>-r</b> <b>]</b> <b>[</b> <b>-m</b> <b>|</b> <b>-v</b> <b>]</b> <b>[</b> <b>-n</b> <u>nx</u> <b>]</b> <b>[</b> <u>start</u> <b>]</b> <b>[</b> <u>end</u> <b>]</b>
              Prints  the mapping of disk blocks used by the filesystem hosting the current file.  The map lists
              each extent used by files, allocation group metadata,  journalling  logs,  and  static  filesystem
              metadata,  as  well as any regions that are unused.  Each line of the listings takes the following
              form:

              <u>extent</u>: <u>major</u>:<u>minor</u> [<u>startblock</u>..<u>endblock</u>]: <u>owner</u> <u>startoffset</u>..<u>endoffset</u> <u>length</u>

              Static filesystem metadata, allocation group metadata, btrees, journalling logs,  and  free  space
              are  marked  by  replacing  the  <u>startoffset</u>..<u>endoffset</u>  with the appropriate marker.  All blocks,
              offsets, and lengths are specified in units of 512-byte blocks, no matter  what  the  filesystem's
              block  size  is.   The  optional  <u>start</u> and <u>end</u> arguments can be used to constrain the output to a
              particular range of disk blocks.  If these two options are specified, exactly one of <b>-d</b>, <b>-l</b>, or <b>-r</b>
              must also be set.
                 <b>-d</b>     Display  only  extents  from  the  data  device.   This  option  only  applies  for  XFS
                        filesystems.
                 <b>-l</b>     Display  only  extents  from  the  external log device.  This option only applies to XFS
                        filesystems.
                 <b>-r</b>     Display only extents from  the  realtime  device.   This  option  only  applies  to  XFS
                        filesystems.
                 <b>-m</b>     Display  results in a machine readable format (CSV).  This option is not compatible with
                        the <b>-v</b> flag.  The columns of the output are: extent number, device major, device  minor,
                        physical  start, physical end, owner, offset start, offset end, length.  The start, end,
                        and length numbers are provided in units of 512b.  The owner field is a  special  string
                        that takes the form:

                           <u>inode_%lld_data</u>
                               for inode data.
                           <u>inode_%lld_data_bmbt</u>
                               for inode data extent maps.
                           <u>inode_%lld_attr</u>
                               for inode extended attribute data.
                           <u>inode_%lld_attr_bmbt</u>
                               for inode extended attribute extent maps.
                           <u>special_%u:%u</u>
                               for other filesystem metadata.

                 <b>-n</b> <u>num_extents</u>
                        If  this  option  is  given,  <b>fsmap</b>  obtains  the  extent  list of the file in groups of
                        <u>num_extents</u> extents.  In the absence of <b>-n</b>, <b>fsmap</b> queries  the  system  for  extents  in
                        groups of 131,072 records.

                 <b>-v</b>     Shows  verbose  information.   When  this  flag  is  specified,  additional  AG specific
                        information is appended to each line in the following form:

                             <u>agno</u> (<u>startagblock</u>..<u>endagblock</u>) <u>nblocks</u> <u>flags</u>

                        A second <b>-v</b> option will print out the <u>flags</u> legend.  This option is not compatible  with
                        the <b>-m</b> flag.

       <b>fsuuid</b> Print the mounted filesystem UUID.

       <b>sysfspath</b>
              Print the sysfs or debugfs path for the mounted filesystem.

              The <b>-d</b> option selects debugfs instead of sysfs.

       <b>getfsprops</b> <u>name</u> <b>[</b> <u>names</u><b>...</b> <b>]</b>
              Retrieve the values of the given filesystem properties.

       <b>listfsprops</b> <b>[</b> <u>-v</u> <b>]</b>
              List  all  filesystem  properties  that  have  been  stored  in the filesystem.  If the <b>-v</b> flag is
              specified, prints the values of the properties.

       <b>setfsprops</b> <u>name</u><b>=</b><u>value</u> <b>[</b> <u>name</u><b>=</b><u>value</u><b>...</b> <b>]</b>
              Set the given filesystem properties to the specified values.

       <b>removefsprops</b> <u>name</u> <b>[</b> <u>names</u><b>...</b> <b>]</b>
              Remove the given filesystem properties.

</pre><h4><b>OTHER</b> <b>COMMANDS</b></h4><pre>
       <b>help</b> <b>[</b> command <b>]</b>
              Display a brief description of one or all commands.

       <b>print</b>  Display a list of all open files and memory mapped regions.  The current file and current  mapping
              are distinguishable from any others.

       <b>p</b>      See the <b>print</b> command.

       <b>quit</b>   Exit <b>xfs_io</b>.

       <b>q</b>      See the <b>quit</b> command.

       <b>log_writes</b> <b>-d</b> <u>device</u> <b>-m</b> <u>mark</u>
              Create  a  mark  named  <u>mark</u> in the dm-log-writes log specified by <u>device.</u>  This is intended to be
              equivalent to the shell command:

              <b>dmsetup</b> <b>message</b> <u>device</u> <b>0</b> <b>mark</b> <u>mark</u>

       <b>lw</b>     See the <b>log_writes</b> command.

       <b>crc32cselftest</b>
              Test the internal crc32c implementation to make sure that it computes results correctly.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man8/mkfs.xfs.8.html">mkfs.xfs</a></b>(8), <b><a href="../man3/xfsctl.3.html">xfsctl</a></b>(3), <b><a href="../man8/xfs_bmap.8.html">xfs_bmap</a></b>(8), <b><a href="../man8/xfs_db.8.html">xfs_db</a></b>(8), <b><a href="../man5/xfs.5.html">xfs</a></b>(5),  <b><a href="../man2/fdatasync.2.html">fdatasync</a></b>(2),  <b><a href="../man2/fstat.2.html">fstat</a></b>(2),  <b><a href="../man2/fstatfs.2.html">fstatfs</a></b>(2),  <b><a href="../man2/fsync.2.html">fsync</a></b>(2),
       <b><a href="../man2/ftruncate.2.html">ftruncate</a></b>(2), <b><a href="../man3/futimens.3.html">futimens</a></b>(3), <b><a href="../man2/mmap.2.html">mmap</a></b>(2), <b><a href="../man2/msync.2.html">msync</a></b>(2), <b><a href="../man2/open.2.html">open</a></b>(2), <b><a href="../man2/pread.2.html">pread</a></b>(2), <b><a href="../man2/pwrite.2.html">pwrite</a></b>(2), <b><a href="../man3/readdir.3.html">readdir</a></b>(3), <b><a href="../man8/dmsetup.8.html">dmsetup</a></b>(8).

                                                                                                       <u><a href="../man8/xfs_io.8.html">xfs_io</a></u>(8)
</pre>
 </div>
</div></section>
</div>
</body>
</html>