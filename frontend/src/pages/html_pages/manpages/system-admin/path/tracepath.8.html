<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>tracepath - traces path to a network host discovering MTU along this path</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/iputils-tracepath">iputils-tracepath_20240905-3ubuntu2_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       tracepath - traces path to a network host discovering MTU along this path

</pre><h4><b>SYNOPSIS</b></h4><pre>

       <b>tracepath</b> [<b>-4</b>] [<b>-6</b>] [<b>-n</b>] [<b>-b</b>] [<b>-l</b> <u>pktlen</u>] [<b>-m</b> <u>max_hops</u>] [<b>-p</b> <u>port</u>] [<b>-V</b>] {destination}

</pre><h4><b>DESCRIPTION</b></h4><pre>
       It traces the network path to <u>destination</u> discovering MTU along this path. It uses UDP port <u>port</u> or some
       random port. It is similar to <b>traceroute</b>. However, it does not require superuser privileges and has no
       fancy options.

       <b>tracepath</b> <b>-6</b> is a good replacement for <b>traceroute6</b> and classic example of application of Linux error
       queues. The situation with IPv4 is worse, because commercial IP routers do not return enough information
       in ICMP error messages. Probably, it will change, when they are updated. For now it uses Van Jacobson's
       trick, sweeping a range of UDP ports to maintain trace history.

</pre><h4><b>OPTIONS</b></h4><pre>
       <b>-4</b>
           Use IPv4 only.

       <b>-6</b>
           Use IPv6 only.

       <b>-n</b>
           Print primarily IP addresses numerically.

       <b>-b</b>
           Print both: Host names and IP addresses.

       <b>-l</b>
           Sets the initial packet length to <u>pktlen</u> instead of 65535 for <b>IPv4</b> or 128000 for <b>IPv6</b>.

       <b>-m</b>
           Set maximum hops (or maximum TTLs) to <u>max_hops</u> instead of 30.

       <b>-p</b>
           Sets the initial destination port to use.

       <b>-V</b>
           Print version and exit.

</pre><h4><b>OUTPUT</b></h4><pre>
           root@mops:~ # tracepath -6 3ffe:2400:0:109::2
            1?: [LOCALHOST]                              pmtu 1500
            1:  dust.inr.ac.ru                   0.411ms
            2:  dust.inr.ac.ru        asymm  1   0.390ms pmtu 1480
            2:  3ffe:2400:0:109::2               463.514ms reached
                Resume: pmtu 1480 hops 2 back 2

       The first column shows the TTL of the probe, followed by colon. Usually the value of TTL is obtained from
       the reply from the network, but sometimes it does not contain the necessary information and we have to
       guess it. In this case the number is followed by ?.

       The second column shows the network hop which replied to the probe. It is either the address of the
       router or the word [LOCALHOST], if the probe was not sent to the network.

       The rest of the line shows miscellaneous information about the path to the corresponding network hop. It
       contains the value of RTT, and additionally it can show Path MTU when it changes. If the path is
       asymmetric or the probe finishes before it reaches the prescribed hop, the number of hops in return
       direction is shown next to the keyword "asymm". This information is not reliable, e.g. the third line
       shows asymmetry of 1. This is because the first probe with TTL of 2 was rejected at the first hop due to
       Path MTU Discovery.

       The last line summarizes information about all the paths to the destination. It shows detected Path MTU,
       amount of hops to the destination and our guess about the number of hops from the destination to us,
       which can be different when the path is asymmetric.

</pre><h4><b>HANDLING</b> <b>ERRORS</b></h4><pre>
       In case of errors <b>tracepath</b> prints short error code.
       ┌─────────────┬──────────────┬──────────────────────────────┐
       │ <b>Output</b>      │ <b>Code</b>         │ <b>Meaning</b>                      │
       ├─────────────┼──────────────┼──────────────────────────────┤
       │ <b>!A</b>          │ <b>EACCES</b>       │ <b>Communication</b>                │
       │             │              │ <b>administratively</b> <b>prohibited</b>  │
       ├─────────────┼──────────────┼──────────────────────────────┤
       │ <b>!H</b>          │ <b>EHOSTUNREACH</b> │ <b>Destination</b> <b>host</b> <b>unreachable</b> │
       ├─────────────┼──────────────┼──────────────────────────────┤
       │ <b>!N</b>          │ <b>ENETUNREACH</b>  │ <b>Destination</b> <b>network</b>          │
       │             │              │ <b>unreachable</b>                  │
       ├─────────────┼──────────────┼──────────────────────────────┤
       │ <b>!P</b>          │ <b>EPROTO</b>       │ <b>Destination</b> <b>protocol</b>         │
       │             │              │ <b>unreachable</b>                  │
       ├─────────────┼──────────────┼──────────────────────────────┤
       │ <b>pmtu</b> <b>N</b>      │ <b>EMSGSIZE</b>     │ <b>Message</b> <b>too</b> <b>long</b>             │
       ├─────────────┼──────────────┼──────────────────────────────┤
       │ <b>reached</b>     │ <b>ECONNREFUSED</b> │ <b>Connection</b> <b>refused</b>           │
       ├─────────────┼──────────────┼──────────────────────────────┤
       │             │ <b>ETIMEDOUT</b>    │ <b>Connection</b> <b>timed</b> <b>out</b>         │
       ├─────────────┼──────────────┼──────────────────────────────┤
       │ <b>NET</b> <b>ERROR</b> <b>N</b> │              │ <b>Any</b> <b>other</b> <b>error</b>              │
       └─────────────┴──────────────┴──────────────────────────────┘

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man8/traceroute.8.html">traceroute</a></b>(8), <b><a href="../man8/traceroute6.8.html">traceroute6</a></b>(8), <b><a href="../man8/ping.8.html">ping</a></b>(8).

</pre><h4><b>AUTHOR</b></h4><pre>
       <b>tracepath</b> was written by Alexey Kuznetsov &lt;<a href="mailto:kuznet@ms2.inr.ac.ru">kuznet@ms2.inr.ac.ru</a>&gt;.

</pre><h4><b>SECURITY</b></h4><pre>
       No security issues.

       This lapidary deserves to be elaborated.  <b>tracepath</b> is not a privileged program, unlike <b>traceroute</b>, <b>ping</b>
       and other beasts of their kind.  <b>tracepath</b> may be executed by everyone who has enough access to the
       network to send UDP datagrams to the desired destination using the given port.

</pre><h4><b>AVAILABILITY</b></h4><pre>
       <b>tracepath</b> is part of <u>iputils</u> package.

iputils 20240905                                                                                    <u><a href="../man8/TRACEPATH.8.html">TRACEPATH</a></u>(8)
</pre>
 </div>
</div></section>
</div>
</body>
</html>