<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>bgpd — Border Gateway Protocol (BGP) routing daemon</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/openbgpd">openbgpd_8.8-1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       bgpd — Border Gateway Protocol (BGP) routing daemon

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>bgpd</b> [<b>-cdnvV</b>] [<b>-D</b> <u>macro</u>=<u>value</u>] [<b>-f</b> <u>file</u>]

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>bgpd</b>  is  a  Border  Gateway  Protocol  (BGP)  daemon which manages the network routing tables.  Its main
       purpose is to exchange information concerning "network reachability" with other BGP systems.   <b>bgpd</b>  uses
       the Border Gateway Protocol, Version 4, as described in RFC 4271.

       BGP  is  an  exterior  gateway  protocol  using  a  multiple step decision process to find the best path.
       Advanced filtering can be used to influence the route decision  for  traffic  engineering.   The  session
       engine  of <b>bgpd</b> is responsible for maintaining the TCP session with each neighbor.  Updates are passed to
       the Route Decision Engine (RDE) where the paths are filtered and used to compute  a  Routing  Information
       Base (RIB).  The parent process is responsible for keeping the RIB in sync with the kernel routing table.

       The  route  decision  process selects the best path by evaluating all paths to the same destination.  The
       decision process continues to the next step  if  paths  have  equal  attributes.   Paths  that  are  less
       preferred are taken out of consideration until there is only one path left.

           1.  All paths with errors or loops are not eligible.

           2.  Paths  with  an  unreachable  nexthop  are not eligible.  After this step all remaining paths are
               valid.

           3.  The path with the highest <u>LOCAL_PREF</u> is selected.

           4.  The path with the shortest <u>AS</u> <u>path</u> attribute is selected.

           5.  The <u>ORIGIN</u> attribute is compared.  The order is IGP before EGP before incomplete origins.

           6.  The path with the lowest <u>MULTI_EXIT_DISC</u> metric  is  selected.   Normally,  this  value  is  only
               considered  when  choosing between multiple routes sent by the same neighbouring AS.  However, if
               “<b>rde</b> <b>med</b> <b>compare</b> <b>always</b>” is set in the configuration, the metric is compared for routes  sent  by
               any AS.

           7.  Comparison  of the BGP session type.  Paths learned over an external (EBGP) session are preferred
               over those learned via an internal (IBGP) session.

           8.  The path with the highest local <u>weight</u> is selected.

           9.  If “<b>rde</b> <b>route-age</b> <b>evaluate</b>” is set then the oldest path is selected.

           10. The path coming from the neighbor with the lowest <u>BGP</u> <u>ID</u> wins.  If the <u>ORIGINATOR_ID</u> attribute is
               present, that value will be used in the comparison instead.

           11. The path with the shortest <u>CLUSTER_LIST</u> attribute is selected.  If  it  is  not  present  then  a
               length of 0 is used in the comparison.

           12.  The  path  coming  from  the peer with the lowest IP address is selected.  IPv4 sessions will be
               preferred over IPv6 ones.

       Attributes set by filters can be used to tip the decision process to prefer particular paths over others.
       This can be achieved by changing the <u>localpref</u>,  <u>med</u>,  or  <u>weight</u>  attributes.   AS  path  prepending  or
       changing the <u>med</u> or <u>origin</u> attribute can be used to influence the routing behaviour on remote systems.

       To have <b>bgpd</b> enabled at boot time, use “rcctl enable bgpd”, which sets

             <b>bgpd_flags=""</b>

       in <u><a href="../man8/rc.conf.local.8.html">rc.conf.local</a></u>(8).

       When <b>bgpd</b> starts up, it reads settings from a configuration file, typically <u><a href="../man5/bgpd.conf.5.html">bgpd.conf</a></u>(5).  A running <b>bgpd</b>
       process can be controlled using the <u><a href="../man8/bgpctl.8.html">bgpctl</a></u>(8) utility.

       The options are as follows:

       <b>-c</b>          Force  <b>bgpd</b>  to  do  <u><a href="../man4/carp.4.html">carp</a></u>(4)  demotion  at  startup  when  the  <u>demote</u> functionality is used.
                   Normally, <b>bgpd</b> will only do demotion at startup when the demotion counter for  the  group  in
                   question  is  already  greater  than 0.  <b>bgpd</b> will start handling demotion after all sessions
                   with demotion configured for the given group have been successfully established.   At  system
                   startup,  <u><a href="../man8/rc.8.html">rc</a></u>(8)  has  the  demotion  counter for the group <u>carp</u> increased until after <b>bgpd</b> is
                   started, so this option should <u>not</u> be used in <u><a href="../man8/rc.conf.8.html">rc.conf</a></u>(8).

       <b>-D</b> <u>macro</u>=<u>value</u>
                   Define <u>macro</u> to be set to <u>value</u> on the command line.  Overrides the definition  of  <u>macro</u>  in
                   the configuration file.

       <b>-d</b>          Do  not  daemonize.   If this option is specified, <b>bgpd</b> will run in the foreground and log to
                   <u>stderr</u>.

       <b>-f</b> <u>file</u>     Use <u>file</u> as the configuration file, instead of the default <u>/etc/bgpd.conf</u>.

       <b>-n</b>          Configtest mode.  Only check the configuration file for validity.

       <b>-v</b>          Produce more verbose output.

       <b>-V</b>          Show the version and exit.

</pre><h4><b>FILES</b></h4><pre>
       <u>/etc/bgpd.conf</u>                     Default <b>bgpd</b> configuration file.
       <u>/run/openbgpd/bgpd.sock.&lt;rdomain&gt;</u>  Default <b>bgpd</b> control socket, where <u>&lt;rdomain&gt;</u> is the routing domain  in
                                          which <b>bgpd</b> has been started.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <u><a href="../man5/bgpd.conf.5.html">bgpd.conf</a></u>(5), <u><a href="../man8/bgpctl.8.html">bgpctl</a></u>(8), <u><a href="../man8/bgplg.8.html">bgplg</a></u>(8), <u><a href="../man8/bgplgsh.8.html">bgplgsh</a></u>(8)

</pre><h4><b>STANDARDS</b></h4><pre>
       <u>BGP</u> <u>Communities</u> <u>Attribute</u>, RFC 1997, August 1996.

       <u>Protection</u> <u>of</u> <u>BGP</u> <u>Sessions</u> <u>via</u> <u>the</u> <u>TCP</u> <u>MD5</u> <u>Signature</u> <u>Option</u>, RFC 2385, August 1998.

       <u>Use</u> <u>of</u> <u>BGP-4</u> <u>Multiprotocol</u> <u>Extensions</u> <u>for</u> <u>IPv6</u> <u>Inter-Domain</u> <u>Routing</u>, RFC 2545, March 1999.

       <u>Route</u> <u>Refresh</u> <u>Capability</u> <u>for</u> <u>BGP-4</u>, RFC 2918, September 2000.

       <u>NOPEER</u> <u>Community</u> <u>for</u> <u>Border</u> <u>Gateway</u> <u>Protocol</u> <u>(BGP)</u> <u>Route</u> <u>Scope</u> <u>Control</u>, RFC 3765, April 2004.

       <u>A</u> <u>Border</u> <u>Gateway</u> <u>Protocol</u> <u>4</u> <u>(BGP-4)</u>, RFC 4271, January 2006.

       <u>BGP</u> <u>Extended</u> <u>Communities</u> <u>Attribute</u>, RFC 4360, February 2006.

       <u>BGP/MPLS</u> <u>IP</u> <u>Virtual</u> <u>Private</u> <u>Networks</u> <u>(VPNs)</u>, RFC 4364, February 2006.

       <u>BGP</u> <u>Route</u> <u>Reflection:</u> <u>An</u> <u>Alternative</u> <u>to</u> <u>Full</u> <u>Mesh</u> <u>Internal</u> <u>BGP</u> <u>(IBGP)</u>, RFC 4456, April 2006.

       <u>Subcodes</u> <u>for</u> <u>BGP</u> <u>Cease</u> <u>Notification</u> <u>Message</u>, RFC 4486, April 2006.

       <u>Graceful</u> <u>Restart</u> <u>Mechanism</u> <u>for</u> <u>BGP</u>, RFC 4724, January 2007.

       <u>Multiprotocol</u> <u>Extensions</u> <u>for</u> <u>BGP-4</u>, RFC 4760, January 2007.

       <u>The</u> <u>Generalized</u> <u>TTL</u> <u>Security</u> <u>Mechanism</u> <u>(GTSM)</u>, RFC 5082, October 2007.

       <u>Capabilities</u> <u>Advertisement</u> <u>with</u> <u>BGP-4</u>, RFC 5492, February 2009.

       <u>4-Octet</u> <u>AS</u> <u>Specific</u> <u>BGP</u> <u>Extended</u> <u>Community</u>, RFC 5668, October 2009.

       <u>Autonomous-System-Wide</u> <u>Unique</u> <u>BGP</u> <u>Identifier</u> <u>for</u> <u>BGP-4</u>, RFC 6286, June 2011.

       <u>Subcodes</u> <u>for</u> <u>BGP</u> <u>Finite</u> <u>State</u> <u>Machine</u> <u>Error</u>, RFC 6608, May 2012.

       <u>BGP</u> <u>Support</u> <u>for</u> <u>Four-Octet</u> <u>Autonomous</u> <u>System</u> <u>(AS)</u> <u>Number</u> <u>Space</u>, RFC 6793, Dec 2012.

       <u>Revised</u> <u>Error</u> <u>Handling</u> <u>for</u> <u>BGP</u> <u>UPDATE</u> <u>Messages</u>, RFC 7606, August 2015.

       <u>Multi-Threaded</u> <u>Routing</u> <u>Toolkit</u> <u>(MRT)</u> <u>Routing</u> <u>Information</u> <u>Export</u> <u>Format</u>, RFC 6396, October 2011.

       <u>Subcodes</u> <u>for</u> <u>BGP</u> <u>Finite</u> <u>State</u> <u>Machine</u> <u>Error</u>, RFC 6608, May 2012.

       <u>Enhanced</u> <u>Route</u> <u>Refresh</u> <u>Capability</u> <u>for</u> <u>BGP-4</u>, RFC 7313, July 2014.

       <u>Codification</u> <u>of</u> <u>AS</u> <u>0</u> <u>Processing</u>, RFC 7607, August 2015.

       <u>Advertisement</u> <u>of</u> <u>Multiple</u> <u>Paths</u> <u>in</u> <u>BGP</u>, RFC 7911, July 2016.

       <u>Internet</u> <u>Exchange</u> <u>BGP</u> <u>Route</u> <u>Server</u>, RFC 7947, September 2016.

       <u>Multi-Threaded</u>  <u>Routing</u>  <u>Toolkit</u>  <u>(MRT)</u>  <u>Routing</u>  <u>Information</u>  <u>Export</u>  <u>Format</u>  <u>with</u>  <u>BGP</u>  <u>Additional</u> <u>Path</u>
       <u>Extensions</u>, RFC 8050, May 2017.

       <u>BGP</u> <u>Large</u> <u>Communities</u> <u>Attribute</u>, RFC 8092, February 2017.

       <u>BGP</u> <u>Prefix</u> <u>Origin</u> <u>Validation</u> <u>State</u> <u>Extended</u> <u>Community</u>, RFC 8097, March 2017.

       <u>BGP</u> <u>Administrative</u> <u>Shutdown</u> <u>Communication</u>, RFC 8203, July 2017.

       <u>The</u> <u>Resource</u> <u>Public</u> <u>Key</u> <u>Infrastructure</u> <u>(RPKI)</u> <u>to</u> <u>Router</u> <u>Protocol,</u> <u>Version</u> <u>1</u>, RFC 8210, September 2017.

       <u>Default</u> <u>External</u> <u>BGP</u> <u>(EBGP)</u> <u>Route</u> <u>Propagation</u> <u>Behavior</u> <u>without</u> <u>Policies</u>, RFC 8212, July 2017.

       <u>Graceful</u> <u>BGP</u> <u>Session</u> <u>Shutdown</u>, RFC 8326, March 2018.

       <u>Notification</u> <u>Message</u> <u>Support</u> <u>for</u> <u>BGP</u> <u>Graceful</u> <u>Restart</u>, RFC 8538, March 2019.

       <u>Extended</u> <u>Message</u> <u>Support</u> <u>for</u> <u>BGP</u>, RFC 8654, October 2019.

       <u>Advertising</u> <u>IPv4</u> <u>Network</u> <u>Layer</u> <u>Reachability</u> <u>Information</u> <u>(NLRI)</u> <u>with</u> <u>an</u> <u>IPv6</u> <u>Next</u> <u>Hop</u>, RFC 8950,  November
       2020.

       <u>Dissemination</u> <u>of</u> <u>Flow</u> <u>Specification</u> <u>Rules</u>, RFC 8955, December 2020.

       <u>Dissemination</u> <u>of</u> <u>Flow</u> <u>Specification</u> <u>Rules</u> <u>for</u> <u>IPv6</u>, RFC 8956, December 2020.

       <u>Extended</u> <u>Optional</u> <u>Parameters</u> <u>Length</u> <u>for</u> <u>BGP</u> <u>OPEN</u> <u>Message</u>, RFC 9072, July 2021.

       <u>Route</u> <u>Leak</u> <u>Prevention</u> <u>and</u> <u>Detection</u> <u>Using</u> <u>Roles</u> <u>in</u> <u>UPDATE</u> <u>and</u> <u>OPEN</u> <u>Messages</u>, RFC 9234, May 2022.

       <u>Border</u> <u>Gateway</u> <u>Protocol</u> <u>4</u> <u>(BGP-4)</u> <u>Send</u> <u>Hold</u> <u>Timer</u>, RFC 9687, November 2024.

       <u>BGP</u>  <u>AS_PATH</u>  <u>Verification</u>  <u>Based</u> <u>on</u> <u>Resource</u> <u>Public</u> <u>Key</u> <u>Infrastructure</u> <u>(RPKI)</u> <u>Autonomous</u> <u>System</u> <u>Provider</u>
       <u>Authorization</u> <u>(ASPA)</u> <u>Objects</u>, draft-ietf-sidrops-aspa-verification, October 2022.

</pre><h4><b>HISTORY</b></h4><pre>
       The <b>bgpd</b> program first appeared in OpenBSD 3.5.

Debian                                          January 17, 2025                                         <u><a href="../man8/BGPD.8.html">BGPD</a></u>(8)
</pre>
 </div>
</div></section>
</div>
</body>
</html>