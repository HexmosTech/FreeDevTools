<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>swtpm_cert - Tool to create EK and platform certs for swtpm (1.2 & 2.0)</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/swtpm-tools">swtpm-tools_0.7.3-0ubuntu8_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       swtpm_cert - Tool to create EK and platform certs for swtpm (1.2 &amp; 2.0)

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>swtpm_cert</b> <b>[OPTIONS]</b>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>swtpm_cert</b> is a local CA tool for creating X.509v3 certificates for the TPM's Endorsement Key. The reason
       for this specific tool is that it works  without access to the Endorsement Key's private key. Typically
       tools require either a self-signed certificate request or access to the private key to issue a
       certificate.  This tool works with only the public key part.

       The following options are supported:

       <b>--type</b> <b>{ek|platform}</b>
           The type of certificate to create; by default an EK certificate is created.

       <b>--pubkey</b> <b>&lt;filename</b>&gt;
           The public key (EK) in PEM format.

       <b>--modulus</b> <b>&lt;hex</b> <b>digits</b>&gt;
           The  modulus  of  the  public  key as a string of hex digits. This option can be used in place of the
           --pubkey option.

       <b>--ecc-x</b> <b>&lt;hex</b> <b>digits</b>&gt;
           The elliptic curve parameter x as string of hex digits.

       <b>--ecc-y</b> <b>&lt;hex</b> <b>digits</b>&gt;
           The elliptic curve parameter y as string of hex digits.

       <b>--ecc-curveid</b> <b>&lt;curve</b> <b>id</b>&gt;
           The elliptic curve's id. secp256r1, secp384r1, and secp521r1 are supported.  If this  option  is  not
           given, secp256r1 is assumed.

       <b>--exponent</b> <b>&lt;exponent</b>&gt;
           The exponent of the public key. By default 0x10001 is assumed.

       <b>--signkey</b> <b>&lt;filename</b>&gt;
           The key used for signing the certificate. The file must be in PEM format.

       <b>--signkey-password</b> <b>&lt;password</b>&gt;
           Optional password for the signing key.

       <b>--signkey-pwd</b> <b>&lt;pwd</b>&gt;
           This  is  an  alternative  option  for  passing  the  signing key password. The following formats are
           supported for <u>pwd</u>:

             - &lt;password&gt;                   : direct password
             - pass:&lt;password&gt;              : direct password
             - file:&lt;filename&gt;              : password in file
             - fd:&lt;file descriptor&gt;         : read password from file descriptor
             - env:&lt;environment variable&gt;   : read password from env. variable

           All passwords read from files and file descriptors must be a maximum of 255 bytes (plus one byte  for
           terminating NUL byte).

       <b>--parentkey-password</b> <b>&lt;password</b>&gt;
           Optional  password for a parent key. In case a TPM key is used for signing this would be the password
           for the TPM's storage root key (SRK).

       <b>--parentkey-pwd</b> <b>&lt;pwd</b>&gt;
           This is an alternative option for passing the parentkey  password.  See  the  description  above  for
           supported <u>pwd</u> formats.

       <b>--issuercert</b> <b>&lt;filename</b>&gt;
           The X.509 certificate of this signer that takes on the role of a local CA.

       <b>--out-cert</b> <b>&lt;filename</b>&gt;
           The name of the file to write the X.509v3 certificate into. The output will be in PEM format.

       <b>--serial</b> <b>&lt;serial</b> <b>number</b>&gt;
           Optional 32bit serial number for the certificate.

       <b>--days</b> <b>&lt;number</b>&gt;
           The number of days the certificate is valid; by default it is valid for 365 days.

       <b>--pem</b>
           Write the resulting certificate in PEM format; DER format is the default.

       <b>--tpm-manufacturer</b> <b>&lt;name</b>&gt;
           The name of the TPM manufacturer.

       <b>--tpm-model</b> <b>&lt;model</b>&gt;
           The TPM model (part number).

       <b>--tpm-version</b> <b>&lt;version</b>&gt;
           The TPM's firmware version.

       <b>--platform-manufacturer</b> <b>&lt;name</b>&gt;
           The name of the platform manufacturer.

       <b>--platform-model</b> <b>&lt;model</b>&gt;
           The platform model.

       <b>--platform-version</b> <b>&lt;version</b>&gt;
           The platform's version.

       <b>--subject</b> <b>&lt;subject</b>&gt;
           Subject    to    for    example    provide   the   location   of   the   TPM   in   the   format   of
           C=&lt;country&gt;,ST=&lt;state&gt;,L=&lt;location&gt;.  Note that the location must no contain any spaces.

       <b>--tpm2</b>
           Issue TPM 2 compliant certificates.

       <b>--allow-signing</b>
           Create an EK that can also be used for signing. Without this option, the EK can only be used for  key
           encipherment. This option requires --tpm2.

       <b>--decryption</b>
           If --allow-signing is passed and the EK should also be useable for key encipherment, this option must
           be passed. Otherwise key encipherment is the default. This option requires --tpm2.

       <b>--print-capabilities</b> (since v0.3)
           Print  capabilities  that  were  added  to  swtpm_cert after version 0.2.  The output may contain the
           following:

               {
                 "type": "swtpm_cert",
                 "features": [
                   "cmdarg-signkey-pwd",
                   "cmdarg-parentkey-pwd"
                 ],
                 "version": "0.7.0"
               }

           The version field is available since 0.7.

           The maining of the feature verbs is as follows:

           <b>cmdarg-signkey-pwd</b>
               The <u>--signkey-pwd</u> option is supported.

           <b>cmdarg-parentkey-pwd</b>
               The <u>--parentkey-pwd</u> option is supported.

       <b>--help,</b> <b>-h</b>
           Display the help screen

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
</pre><h4><b>REPORTING</b> <b>BUGS</b></h4><pre>
       Report bugs to Stefan Berger &lt;<a href="mailto:stefanb@linux.vnet.ibm.com">stefanb@linux.vnet.ibm.com</a>&gt;

swtpm                                              2024-11-08                                      <u><a href="../man8/swtpm_cert.8.html">swtpm_cert</a></u>(8)
</pre>
 </div>
</div></section>
</div>
</body>
</html>