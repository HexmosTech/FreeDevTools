<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>sginfo - access mode page information for a SCSI (or ATAPI) device</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/sg3-utils">sg3-utils_1.48-2ubuntu1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       sginfo - access mode page information for a SCSI (or ATAPI) device

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>sginfo</b> [<u>OPTIONS</u>] [<u>DEVICE</u>] [<u>REPLACEMENT_PARAMETERS</u>]

</pre><h4><b>DESCRIPTION</b></h4><pre>
       sginfo  is  a  port  of  the Linux <b>scsiinfo</b> program by Eric Youngdale. It uses SCSI generic (sg) devices;
       however in some cases the high level device name (i.e. sd, sr, st, osst, or hd) can  also  be  used.  The
       primary  role of this program is to access mode page information. If permitted, mode page information can
       be altered. In addition information from the INQUIRY and READ DEFECTS commands are also available.

       This utility is in legacy mode, only obvious bugs will be fixed. Options like <u>-l</u> (to  list  devices)  are
       broken  in  recent  versions  of  Linux  (e.g.  2.6  series and later); the <a href="../man8/lsscsi.8.html">lsscsi</a>(8) utility can be used
       instead. Also mode pages are not being updated as https://www.t10.org adds and modifies mode page fields.
       Those interested in SCSI mode pages may find  the  <b>sdparm</b>  utility  more  up  to  date  and  easier  use,
       especially for changing parameters.

       Four  sets  of  values  are  maintained  by  a  SCSI device for each mode page: current (active), default
       (manufacturer's supplied values), saved (values that are retained if the SCSI device  is  powered  down),
       and  changeable  (mask  indicating  those  values  that  can be changed).  By default when a mode page is
       displayed the current values are shown. This can be overridden by "-M" (defaults), "-S" (saved)  or  "-m"
       (modifiable (i.e. changeable)).

       Many  mode pages are decoded: for disks (see SBC-2), for CD/DVDs (see MMC-2/3/4/5), for tapes (see SSC-2)
       and for enclosures (see SES-2).  Some mode pages common to all SCSI peripheral device types  are  defined
       in  SPC-4  (primary  commands).  A  decoded  mode  page  has  its field names in the first column and the
       corresponding value in the second column.  A "hex" mode page (and subpage) has its byte position  in  the
       first  column  (in hex and starting at 0x2) and the corresponding hex value in the second column. Decoded
       pages can be viewed with the '-t' option or with a specific option (e.g. 'c' for the caching mode  page).
       Naturally  decoded  pages  must be supplied by the <u>DEVICE</u> and recognised by this program. If supported by
       the device, decoded pages may be modified. All mode pages (and subpages) that the device supports can  be
       viewed in hex (and potentially modified) via the "-u" option

       If  no  options  are  given  that will cause mode page(s) or INQUIRY data to be printed out, then a brief
       INQUIRY response is output. This includes the vendor, product and revision level of the device.

</pre><h4><b>OPTIONS</b></h4><pre>
       <b>-6</b>     Perform 6 byte MODE SENSE and MODE SELECT commands; by default the 10 byte variants are used.

       <b>-a</b>     Display some INQUIRY data and the unit serial number followed by all mode pages  reported  by  the
              device.  It  is  similar  to  the '-t 0x3f' option. If the mode page is known then it is output in
              decoded form otherwise it is output in hexadecimal.

       <b>-A</b>     Display some INQUIRY data and the unit serial number followed by  all  mode  pages  and  all  mode
              subpages  reported by the device.  It is similar to the '-t 0x3f,0xff' option. If a mode (sub)page
              is known then it is output in decoded form otherwise it is output in hexadecimal.

       <b>-c</b>     Access information in the Caching mode page.

       <b>-C</b>     Access information in the Control mode Page.

       <b>-d</b>     Display defect lists (default format: index).

       <b>-D</b>     Access information in the Disconnect-Reconnect mode page.

       <b>-e</b>     Access information in the Error Recovery mode page.

       <b>-E</b>     Access information in the Control Extension mode page.

       <b>-f</b>     Access information in the Format Device mode page.

       <b>-F</b><u>arg</u>  Format of the defect lists:
                              -Flogical  - logical block addresses (32 bit)
                              -Flba64    - logical block addresses (64 bit)
                              -Fphysical - physical blocks
                              -Findex    - defect bytes from index
                              -Fhead     - sort by head
              Used in conjunction with "-d" or "-G". If a format is not given "index" is assumed.

       <b>-g</b>     Access information in the Rigid Disk Drive Geometry mode page.

       <b>-G</b>     Display grown defect list (default format: index).

       <b>-i</b>     Display the response to a standard INQUIRY command.

       <b>-I</b>     Access the Informational Exceptions mode page.

       <b>-l</b>     Deprecated. Only use in old versions of Linux (e.g. 2.4 and earlier). Please use <a href="../man8/lsscsi.8.html">lsscsi</a>(8) in  the
              Linux 2.6 series and later. List known SCSI devices on the system.

       <b>-n</b>     Access information in the Notch and Partition mode page.

       <b>-N</b>     Negate  (i.e.  stop)  mode page changes being placed in the "saved" page (by default changes go to
              the current and the saved page).  Only active when used together with '-R'.

       <b>-P</b>     Access information in the Power Condition mode page.

       <b>-r</b>     Display all raw (or primary) SCSI device  names  visible  in  the  <a href="file:/dev">/dev</a>  directory.  Examples  are
              /dev/sda,  /dev/st1  and  /dev/scd2.  Does  not  list  sg  device  names so devices such as a SCSI
              enclosure which only have an sg device name are not listed.

       <b>-s</b>     Display information in the unit serial number page which is a INQUIRY command variant.

       <b>-t</b> <u>PN</u>[,<u>SPN</u>]
              Display information from mode page number <u>PN</u> (and optionally  sub  page  number  <u>SPN</u>)  in  decoded
              format  (if known, otherwise in hex form).  <u>PN</u> is a mode page number in a decimal number from 0 to
              63 inclusive.  <u>SPN</u> is the mode subpage number and is assumed to be 0  if  not  given.   <u>SPN</u>  is  a
              decimal  number  from  1  to 255 inclusive. A page number of 63 returns all pages supported by the
              device in ascending order except for page 0 which, if present, is last. Page 0 is vendor  specific
              and not necessarily in mode page format. Alternatively hex values can be given for both <u>PN</u> and <u>SPN</u>
              (both prefixed by '0x').

       <b>-T</b>     Trace  commands  to  obtain  more verbose output (for debugging). When used once SCSI commands are
              shown (in hex) and any errors from these SCSI commands are spelt out (i.e.  with a decoded and raw
              sense buffer). When used twice, the additional data sent with mode select and  the  response  from
              mode sense are shown (in hex).

       <b>-u</b> <u>PN</u>[,<u>SPN</u>]
              Display  information  from mode page number <u>PN</u> (and optionally <u>SPN</u>) in hex form. <u>PN</u> is a mode page
              number in a decimal number from 0 to 63 inclusive. <u>SPN</u> is the mode subpage number and  is  assumed
              to be 0 if not given. <u>SPN</u> is a decimal number from 1 to 255 inclusive. A page number of 63 returns
              all pages supported by the device in ascending order except for page 0 which, if present, is last.
              Page 0 is vendor specific and not necessarily in mode page format. Alternatively hex values can be
              given for both <u>PN</u> and <u>SPN</u> (both prefixed by '0x'). For example 63 and 0x3f are equivalent.

       <b>-v</b>     Display  version  string then exit. [N.B. This option increases verbosity for most other utilities
              in this package as outlined in 'man 8 sg3_utils'.  This odd usage is  for  backward  compatibility
              with the scsiinfo utility.]

       <b>-V</b>     Access  information  in  the Verify Error Recovery mode page. [N.B. This option prints the version
              string then exits in most other utilities in this package as outlined in 'man 8  sg3_utils'.  This
              odd usage is for backward compatibility with the scsiinfo utility.]

       <b>-z</b>     do  a  single fetch for mode pages (over-estimating the expected length of the returned response).
              The default action is to do a double fetch, the first fetch is to find the  response  length  that
              could  be  returned. Devices that closely adhere to SCSI standards should not require this option,
              some real world devices do require it.

</pre><h4><b>ADVANCED</b> <b>OPTIONS</b></h4><pre>
       Only one of the following three options can be specified.  None of these three implies the current values
       are returned.

       <b>-m</b>     Display modifiable fields instead of current values

       <b>-M</b>     Display manufacturer's defaults instead of current values

       <b>-S</b>     Display saved defaults instead of current values

       The following are advanced options, not generally suited for most users:

       <b>-X</b>     Display output values in a list. Make them suitable for editing and being given back to  the  '-R'
              (replace command).

       <b>-R</b>     Replace parameters - best used with -X (expert use only)

</pre><h4><b>CHANGING</b> <b>MODE</b> <b>PAGE</b> <b>PARAMETERS</b></h4><pre>
       Firstly  you  should know what you are doing before changing existing parameters. Taking the control page
       as an example, first list it out normally (e.g. "sginfo -C /dev/sda") and decide which parameter is to be
       changed (note its position relative to the other lines output). Then execute the same sginfo command with
       the "-X" option added; this will output the parameter values  in  a  single  row  in  the  same  relative
       positions  as the previous command. Now execute "sginfo -CXR /dev/sda ..." with the "..." replaced by the
       single row of values output by the previous command, with the  relevant  parameter  changed.  Here  is  a
       simplified example:

          $ sginfo -C /dev/sda
          Control mode page (0xa)
          -----------------------
          TST                        0
          D_SENSE                    0
          GLTSD                      1
          RLEC                       0

       [Actually  the Control page has more parameters that shown above.] Next output those parameters in single
       line form:

          $ sginfo -CX /dev/sda
          0 0 1 0

       Let us assume that the GLTSD bit is to be cleared. The command that will clear it is:

          $ sginfo -CXR /dev/sda 0 0 0 0

       The same number of parameters output by the "-CX" command needs to be placed at the  end  of  the  "-CXR"
       command line (after the device name).  Now check that the change took effect:

          $ sginfo -C /dev/sda
          Control mode page (0xa)
          -----------------------
          TST                        0
          D_SENSE                    0
          GLTSD                      0
          RLEC                       0

       When  a mode page is "replaced" the default action is to change both the current page and the saved page.
       [For some reason versions of sginfo and scsiinfo prior to 2.0 did not change the "saved" page.] To change
       only the current mode page but not the corresponding saved page use the "-N" option.

</pre><h4><b>GENERATING</b> <b>SCRIPT</b> <b>FILES</b> <b>AND</b> <b>HEX</b> <b>PAGES</b></h4><pre>
       The "-aX" or "-AX" option generates output suitable for a script file.  Mode pages  are  output  in  list
       format (after the INQUIRY and serial number) one page per line. To facilitate running the output as (part
       of)  a script file to assert chosen mode page values, each line is prefixed by "sginfo -t <u>PN</u>[,<u>SPN</u>] -XR ".
       When such a script file is run, it will have the effect of re-asserting the mode page values to what they
       were when the "-aX" generated the output.

       All mode pages (and subpages) supported by the device can be accessed via the -t and -u options.  To  see
       all  mode  pages  supported  by  the  device use "-u 63". [To see all mode pages and all subpages use "-u
       63,255".] To list the control mode page in hex (mode page index in the first column and the corresponding
       byte value in the second column) use "-u 0xa". Mode pages (subpage code == 0) start at index  position  2
       while  subpages start at index position 4.  If the "-Xu ..." option is used then a list a hex values each
       value prefixed by "@" is output. Mode (sub)page values can then be modified with the "-RXu ..." option.

</pre><h4><b>RESTRICTIONS</b></h4><pre>
       The SCSI MODE SENSE command yields block descriptors as well as a  mode  page(s).  This  utility  ignores
       block  descriptors  and  does  not  display them. The "disable block descriptor" switch (DBD) in the MODE
       SENSE command is not set since some devices yield errors when it is set. When mode page values are  being
       changed  (the  "-R" option), the same block descriptor obtained by reading the mode page (i.e. via a MODE
       SENSE command) is sent back when the mode page is written (i.e. via a MODE SELECT command).

</pre><h4><b>REFERENCES</b></h4><pre>
       SCSI (draft) standards can be found at https://www.t10.org . The relevant documents are SPC-4 (mode pages
       common to all device types), SBC-2 (direct access devices [e.g. disks]), MMC-4 (CDs and DVDs)  and  SSC-2
       (tapes).

</pre><h4><b>AUTHORS</b></h4><pre>
       Written by Eric Youngdale, Michael Weller, Douglas Gilbert, Kurt Garloff, Thomas Steudten

</pre><h4><b>HISTORY</b></h4><pre>
       scsiinfo  version  1.0  was  released by Eric Youngdale on 1st November 1993.  The most recent version of
       scsiinfo is version 1.7 with the last patches by Michael Weller. sginfo is derived from scsiinfo and uses
       the sg interface to get around the 4 KB buffer limit in scsiinfo that cramped the display of defect lists
       especially. sginfo was  written  by  Douglas  Gilbert  with  patches  from  Kurt  Garloff.  This  manpage
       corresponds with version 2.25 of sginfo.

       This  software is distributed under the GPL version 2. There is NO warranty; not even for MERCHANTABILITY
       or FITNESS FOR A PARTICULAR PURPOSE.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b>lsscsi(lsscsi),</b> <b>scsiinfo(internet);</b> <b>sg_modes,</b> <b>sg_inq,</b> <b>sg_vpd</b> <b>(sg3_utils),</b> <b>sdparm(sdparm)</b>

sg3_utils-1.38                                    January 2014                                         <u><a href="../man8/SGINFO.8.html">SGINFO</a></u>(8)
</pre>
 </div>
</div></section>
</div>
</body>
</html>