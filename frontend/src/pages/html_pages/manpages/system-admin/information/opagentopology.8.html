<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>opagentopology</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/opa-fastfabric">opa-fastfabric_10.10.3.0.11-1ubuntu3_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       opagentopology

       Provides  a  simple  sample  of  how  to  generate  the topology XML file used for topology verification.
       Customers who wish to integrate topology XML file generation into their cluster design process can create
       their own script to take information available in other formats and tools and produce  the  topology  XML
       file  directly.  The  alternative  is  to  use opaxlattopology and have tools generate the input files it
       expects.

       This tool uses CSV input files opatopology_links.txt,  opatopology_FIs.txt,  and  opatopology_SWs.txt  to
       generate  LinkSummary,  Node FIs, and Node SWs information, respectively. These files are samples of what
       might be produced as part of translating a user custom file format into temporary intermediate CSV files.

       LinkSummary information includes Link,  Cable,  and  Port  information.  Note  that  opagentopology  (not
       opaxmlgenerate)  generates the XML version string as well as the &lt;Topology&gt; and &lt;LinkSummary&gt; lines. Also
       note that the indent level is at the default value of zero (0). The portions  of  the  script  that  call
       opaxmlgenerate follow:

       opaxmlgenerate -X /usr/share/opa/samples/opatopology_1.txt -d ;
       -h Link -g Rate -g Rate_Int -g MTU -g LinkDetails -h Cable
       -g CableLength -g CableLabel -g CableDetails -e Cable -h Port
       -g NodeGUID -g PortNum -g NodeDesc -g PortGUID

       -g NodeType -g NodeType_Int -g PortDetails -e Port -h Port -g NodeGUID -g PortNum

       -g NodeDesc -g PortGUID -g NodeType -g NodeType_Int -g PortDetails -e Port
       -e Link

       opaxmlgenerate -X /usr/share/opa/samples/opatopology_2.txt -d ;

       -h Node -g NodeGUID -g NodeDesc -g NodeDetails -g HostName -g NodeType

       -g NodeType_Int -g NumPorts -e Node

</pre><h4><b>Syntax</b></h4><pre>
       /usr/share/opa/samples/opagentopology [--help]

       <b>NOTE:</b> You must use the full path to access this command.

</pre><h4><b>Options</b></h4><pre>
       No option

                 Produces sample output. See <u>Example</u>

       --help

                 Produces full help text.

</pre><h4><b>opatopology_links.txt</b></h4><pre>
       This  file  can  be  found in /usr/share/opa/samples/. For brevity, this sample shows only two links. The
       second link shows an example of omitting some information. In the second line, the MTU, LinkDetails,  and
       other  fields  are  not present, which is indicated by an empty value for the field (no entry between the
       semicolon delimiters).

       <b>NOTE:</b> The following example exceeds the available width of the page. For readability,  a  blank  line  is
       shown  between  lines  to  make  it clear where the line ends. In an actual link file, no blank lines are
       used.

       25g;2048;0;IO Server Link;11m;S4567;cable
       model 456;0x0002c9020020e004;1;bender HFI-1;0x0002c9020020e004;FI;
       Some info about port;0x0011750007000df6;7;Switch 1234 Leaf 4;;SW;

       25g;;0;;;;;0x0002c9020025a678;1;mindy2 HFI-1;;FI;;
       0x0011750007000e6d;4;Switch 2345 Leaf 5;;SW;

</pre><h4><b>opatopology_FIs.txt</b></h4><pre>
       This file can be found in /usr/share/opa/samples/. For brevity, this sample shows only two nodes.

       0x0002c9020020e004;bender HFI-1;More details about node

       0x0002c9020025a678;mindy2 HFI-1;Node details

</pre><h4><b>opatopology_SWs.txt</b></h4><pre>
       This file can be found in /usr/share/opa/samples/. For brevity, this sample shows only two nodes.

       0x0011750007000df6;Switch 1234 Leaf 4; 0x0011750007000e6d;Switch
       2345 Leaf 5;

</pre><h4><b>opatopology_SMs.txt</b></h4><pre>
       This file can be found in /usr/share/opa/samples/. For brevity, this sample shows only one node.

       0x0002c9020025a678;1;mindy2 HFI-1;0x0011750007000e6d;FI;details
       about SM

</pre><h4><b>Example</b></h4><pre>
       When run against the supplied topology input files, /usr/share/opa/samples/opagentopology
       produces:

       &lt;?xml version="1.0" encoding="utf-8" ?&gt;

       &lt;Topology&gt;

       &lt;LinkSummary&gt;

       &lt;Link&gt;

       &lt;Rate&gt;25g&lt;/Rate&gt;

       &lt;MTU&gt;2048&lt;/MTU&gt;

       &lt;Internal&gt;0&lt;/Internal&gt;

       &lt;LinkDetails&gt;IO Server Link&lt;/LinkDetails&gt;

       &lt;Cable&gt;

       &lt;CableLength&gt;11m&lt;/CableLength&gt;

       &lt;CableLabel&gt;S4567&lt;/CableLabel&gt;

       &lt;CableDetails&gt;cable model 456&lt;/CableDetails&gt;

       &lt;/Cable&gt;

       &lt;Port&gt;

       &lt;NodeGUID&gt;0x0002c9020020e004&lt;/NodeGUID&gt;

       &lt;PortNum&gt;1&lt;/PortNum&gt;

       &lt;NodeDesc&gt;bender HFI-1&lt;/NodeDesc&gt;

       &lt;PortGUID&gt;0x0002c9020020e004&lt;/PortGUID&gt;

       &lt;NodeType&gt;FI&lt;/NodeType&gt;

       &lt;PortDetails&gt;Some info about port&lt;/PortDetails&gt;

       &lt;/Port&gt;

       &lt;Port&gt;

       &lt;NodeGUID&gt;0x0011750007000df6&lt;/NodeGUID&gt;

       &lt;PortNum&gt;7&lt;/PortNum&gt;

       &lt;NodeDesc&gt;Switch 1234 Leaf 4&lt;/NodeDesc&gt;

       &lt;NodeType&gt;SW&lt;/NodeType&gt;

       &lt;/Port&gt;

       &lt;/Link&gt;

       &lt;Link&gt;

       &lt;Rate&gt;25g&lt;/Rate&gt;

       &lt;Internal&gt;0&lt;/Internal&gt;

       &lt;Cable&gt;

       &lt;/Cable&gt;

       &lt;Port&gt;

       &lt;NodeGUID&gt;0x0002c9020025a678&lt;/NodeGUID&gt;

       &lt;PortNum&gt;1&lt;/PortNum&gt;

       &lt;NodeDesc&gt;mindy2 HFI-1&lt;/NodeDesc&gt;

       &lt;NodeType&gt;FI&lt;/NodeType&gt;

       &lt;/Port&gt;

       &lt;Port&gt;

       &lt;NodeGUID&gt;0x0011750007000e6d&lt;/NodeGUID&gt;

       &lt;PortNum&gt;4&lt;/PortNum&gt;

       &lt;NodeDesc&gt;Switch 2345 Leaf 5&lt;/NodeDesc&gt;

       &lt;NodeType&gt;SW&lt;/NodeType&gt;

       &lt;/Port&gt;

       &lt;/Link&gt;

       &lt;/LinkSummary&gt;

       &lt;Nodes&gt;

       &lt;FIs&gt;

       &lt;Node&gt;

       &lt;NodeGUID&gt;0x0002c9020020e004&lt;/NodeGUID&gt;

       &lt;NodeDesc&gt;bender HFI-1&lt;/NodeDesc&gt;

       &lt;NodeDetails&gt;More details about node&lt;/NodeDetails&gt;

       &lt;/Node&gt;

       &lt;Node&gt;

       &lt;NodeGUID&gt;0x0002c9020025a678&lt;/NodeGUID&gt;

       &lt;NodeDesc&gt;mindy2 HFI-1&lt;/NodeDesc&gt;

       &lt;NodeDetails&gt;Node details&lt;/NodeDetails&gt;

       &lt;/Node&gt;

       &lt;/FIs&gt;

       &lt;Switches&gt;

       &lt;Node&gt;

       &lt;NodeGUID&gt;0x0011750007000df6&lt;/NodeGUID&gt;

       &lt;NodeDesc&gt;Switch 1234 Leaf 4&lt;/NodeDesc&gt;

       &lt;/Node&gt;

       &lt;Node&gt;

       &lt;NodeGUID&gt;0x0011750007000e6d&lt;/NodeGUID&gt;

       &lt;NodeDesc&gt;Switch 2345 Leaf 5&lt;/NodeDesc&gt;

       &lt;/Node&gt;

       &lt;/Switches&gt;

       &lt;SMs&gt;

       &lt;SM&gt;

       &lt;NodeGUID&gt;0x0002c9020025a678&lt;/NodeGUID&gt;

       &lt;PortNum&gt;1&lt;/PortNum&gt;

       &lt;NodeDesc&gt;mindy2 HFI-1&lt;/NodeDesc&gt;

       &lt;PortGUID&gt;0x0011750007000e6d&lt;/PortGUID&gt;

       &lt;NodeType&gt;FI&lt;/NodeType&gt;

       &lt;SMDetails&gt;details about SM&lt;/SMDetails&gt;

       &lt;/SM&gt;

       &lt;/SMs&gt;

       &lt;/Nodes&gt;

       &lt;/Topology&gt;

Copyright(C) 2015-2019                          Intel Corporation                              <u><a href="../man8/opagentopology.8.html">opagentopology</a></u>(8)
</pre>
 </div>
</div></section>
</div>
</body>
</html>