<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>mrb - manage incremental snapshots with rsync/make.</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/mrb">mrb_0.3+nmu3_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       mrb - manage incremental snapshots with rsync/make.

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>mrb</b> <u>command</u>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>mrb</b>  is  a  simple  aid  to  creating  efficient  incremental snapshots of a set, or sets, of directories
       whenever that may be required.  It may be used as part of a  regular  automated  backup  regime,  or  for
       manually checkpointing changes at convenient points in time.

</pre><h4><b>COMMANDS</b></h4><pre>
       The following commands are recognised (where '<u>MODULE</u>' is the name of one of your snapshot definitions):

       <b>new-</b><u>MODULE</u>
              Create a skeleton definition for a new snapshot '<u>MODULE</u>'.

       <b>dest-</b><u>MODULE</u>
              Create the destination dir for '<u>MODULE</u>'.  This directory must exist to create a snapshot.

       <b>snap-</b><u>MODULE</u>
              Create a snapshot of '<u>MODULE</u>'.

       <b>sync</b>   Create  snapshots  of  all  defined modules.  If run as root this may be configured to include the
              modules of other users too (see MRB_SYNC_USERS in <a href="file:~/.mrb/defaults">~/.mrb/defaults</a>).

       <b>help</b>   Show mrb's own help text.

</pre><h4><b>CONFIGURATION</b> <b>FILES</b></h4><pre>
   <b>Per-user</b> <b>configuration</b>
       The following files may be used to specify global and local configuration options.

       <u>/etc/default/mrb</u>
              system default configuration.

       <u><a href="file:~/.mrb/defaults">~/.mrb/defaults</a></u>
              per-user configuration.

   <b>Per-user</b> <b>options</b>
       The following options control behaviour for all of a user's modules.

       <b>MRB_SNAPSHOT_LOG</b>
              An optional file path where transfer details will be recorded.  If unset these details will not be
              logged.

       <b>MRB_SYNC_USERS</b>
              A space separated list of users whose modules should be included in a <b>sync</b>.  This is  mostly  only
              useful  for  root, as mrb will assume the identity of each user before creating snapshots of their
              modules.  If unset, only the invoking user's modules will be sync'ed.

       <b>MRB_CONFDIR</b>
              An space separated list of the directories to search for module definition  (*.mrc)  files.   They
              will  be  searched  in  the order given, with new modules added by default to the last one listed.
              There should be few reasons to change the default value.

   <b>Per-module</b> <b>configuration</b>
       The default <b>MRB_CONFDIR</b> value will search for module definitions in:

       <u>/etc/mrb/*.mrc</u>

       <u><a href="file:~/.mrb/">~/.mrb/</a>*.mrc</u>
              Those created by <b>new-</b><u>MODULE</u> will be placed in this latter location by default.

   <b>Per-module</b> <b>options</b>
       In each case <u>module</u> below is the name of the particular module that the value set should apply to.  These
       options should be defined in a file named <u>module</u>.<b>mrc</b>.

       <b>module_SRC</b>
              A space separated list of the files and (top level) directories to include in  the  snapshots  for
              this module.  These may be remote urls.

       <b>module_DEST</b>
              The (local) directory root where snapshots of <u>module</u> should be stored.

       <b>module_INCLUDE</b>
              An optional list of <b><a href="../man1/rsync.1.html">rsync</a></b>(1) include patterns.

       <b>module_EXCLUDE</b>
              An optional list of <b><a href="../man1/rsync.1.html">rsync</a></b>(1) exclude patterns.

       <b>module_FILTER</b>
              An optional list of <b><a href="../man1/rsync.1.html">rsync</a></b>(1) filter patterns.

       <b>module_FILTER_FILE</b>
              An optional filename for <b><a href="../man1/rsync.1.html">rsync</a></b>(1) dir-merge filtering support.

       <b>module_RSYNC_OPTIONS</b>
              Optional additional <b><a href="../man1/rsync.1.html">rsync</a></b>(1) options to pass verbatim when it is invoked.

       <b>module_PRECOMMAND</b>
              An  optional  shell  command to invoke just prior to creating a new snapshot.  If the command does
              not return a successful exit status, then the snapshot creation will be aborted before it  begins.
              It may be used to mount removable media or similar.

       <b>module_POSTCOMMAND</b>
              An  optional  shell  command  to  execute after making the snapshot.  It will not be called if the
              snaphot creation failed at an earlier stage, and its return status may halt a sync operation if it
              fails with more modules still to process.  It may be used, for example, to unmount removable media
              again.

       <b>module_USER</b>
              An optional user name to check that mrb is running as before performing a snapshot.  This  can  be
              used  to  ensure  you have the correct permisson to access the files being mirrored before you get
              too far.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man1/rsync.1.html">rsync</a></b>(1), <b><a href="../man1/make.1.html">make</a></b>(1).

</pre><h4><b>AUTHOR</b></h4><pre>
       mrb was written by Ron &lt;<a href="mailto:ron@debian.org">ron@debian.org</a>&gt;.

                                                  May  9, 2006                                            <u><a href="../man8/MRB.8.html">MRB</a></u>(8)
</pre>
 </div>
</div></section>
</div>
</body>
</html>