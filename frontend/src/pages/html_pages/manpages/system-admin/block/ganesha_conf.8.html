<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ganesha_conf - Ganesha configuration editor</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/python3-nfs-ganesha">python3-nfs-ganesha_6.5-5_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       ganesha_conf - Ganesha configuration editor

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>ganesha_conf</b> <b>set</b> <u>&lt;block-description&gt;</u> <b>[--key1</b> <b>value1</b> <b>[--key2</b> <b>value2]...]</b>
       <b>ganesha_conf</b> <b>del</b> <u>&lt;block-description&gt;</u> <b>[--key1</b> <b>[--key2</b> <b>]...]</b>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The <b>set</b> command adds or changes the given key value parameters in the block. It also creates the block if
       the  block  corresponding  to  the  given  <u>block</u> <u>description</u> (see section <b>BLOCK</b> <b>DESCRIPTION</b> below) is not
       present in the configuration.

       The <b>del</b> command deletes  given  keys  from  the  ganesha  configuration  block  described  by  the  block
       description. It will delete the block itself if no keys are provided.

</pre><h4><b>BLOCK</b> <b>DESCRIPTION:</b></h4><pre>
       <u>Block</u>  <u>description</u> is a list of block names and possibly some key value parameters that uniquely identify
       a ganesha configuration block.

       NFS Ganesha configuration file contains a list of blocks. Each block starts with a block <b>name</b> followed by
       a <b>left</b> <b>brace,</b> then a list of <b>key</b> <b>=</b> <b>value;</b> entries. The block may optionally have  <b>sub</b>  <b>blocks</b>  (note  the
       recursive definition!).  Finally, the block ends with a <b>right</b> <b>brace.</b>  (Note that <b>key</b> <b>=</b> <b>value;</b> entries can
       come  after  a sub block as well, but we don't allow this with ganesha_conf editor! All key value entries
       should come before any sub blocks.)

       An example of a ganesha configuration block:

           nfs_core_param {
               Nb_Worker = 256;
               Clustered = TRUE;
               NFS_Protocols = 3,4;
           }

       Since there should be only one <b>nfs_core_param</b> block, we just need the  name  of  the  block  to  uniquely
       identify it. So "nfs_core_param" would be its block description!

       An example of a ganesha configuration block with a couple sub blocks:

           log {
               default_log_level = EVENT;
               format {
                   date_format = ISO-8601;
                   time_format = ISO-8601;
                   thread_name = TRUE;
               }
               components {
                   all = EVENT;
               }
           }

       Ganesha  configuration  should have only one <b>log</b> block as well, so "log" would identify the log block. To
       identify <b>format</b> sub block inside the <b>log</b> block, "log format" would be the block description for the above
       <b>format</b> sub block. Similarly "log components" would be the block description for the above <b>components</b>  sub
       block.

       An  <b>export</b>  block is special in that there can be many export blocks, one for each export. A <b>client</b> block
       is also special. There can be many <b>client</b> blocks and they are always sub  blocks  inside  <b>export</b>  blocks.
       <u>export_id</u>  key value uniquely identifies an <b>export</b> block.  <u>clients</u> key value uniquely identifies a <b>client</b>
       block inside a given <b>export</b> block.

       Here are couple <b>export</b> blocks with couple <b>client</b> blocks in them:

           export {
               export_id = 1;
               path = /fs1/export1;
               pseudo = /fs1/export1;
               manage_gids = true;
               client {
                   clients = 192.168.122.31;
                   access_type = RW;
               }
               client {
                   clients = *;
                   access_type = RO;
               }
           }

           export {
               export_id = 2;
               path = /fs1/export2;
               pseudo = /fs1/export2;
               manage_gids = true;
               client {
                   clients = 192.168.122.31;
                   access_type = RW;
               }
               client {
                   clients = 192.168.122.32;
                   access_type = RO;
               }
           }

       To identify the correct <b>export</b> block, we need to supply its <u>export_id.</u>  For example "export export_id  2"
       identifies  the  second  <b>export</b>  block above.  <b>export</b> blocks can be uniquely identified by <u>pseudo</u> or <u>path</u>
       keys in some environments. One could specify "export path /fs1/export2" to  identify  the  second  <b>export</b>
       block  as  well.   Similarly,  a  <b>client</b> block needs additional <u>clients</u> key value to identify the correct
       <b>client</b> block. For example, "export export_id 2 client clients 192.168.122.31" identifies the first <b>client</b>
       block in the second <b>export</b> block above!

</pre><h4><b>EXAMPLES:</b></h4><pre>
       1. To change number of ganesha worker threads:

       ganesha_conf set nfs_core_param --nb_worker 256

       2. To change the date and time format of ganesha log messages:

       ganesha_conf set log format --date_format ISO-8601 --time_format ISO-8601

       3. Create an export and allow client with IP address 192.168.122.31 to be able to do read write  and  all
       other clients to do read only:

       ganesha_conf set export path /fs1/export2 --export_id 2 --pseudo /fs1/export2 --manage_gids true
       ganesha_conf set export path /fs1/export2 client clients 192.168.122.31 --access_type RW
       ganesha_conf set export path /fs1/export2 client clients 192.168.122.32 --access_type RO

</pre><h4><b>NOTES:</b></h4><pre>
       <b>ganesha_conf</b>  by  default  uses  /etc/ganesha/ganesha.conf  file  as  the  configuration  file.  If  your
       environment uses a different file (or set of  files),  you  can  use  <b>CONFFILE</b>  environment  variable  to
       override   the   default   configuration  file.   For  example,  "CONFFILE=/etc/ganesha/ganesha.main.conf
       ganesha_conf set  nfs_core_param  --nb_worker  256"  will  use  /etc/ganesha/ganesha.main.conf  file  for
       changing the worker threads.

       <b>ganesha_conf</b> can't handle comments within a block at this point.

       Neither block descriptions nor key value parameters are verified to be valid ganesha configuration blocks
       or parameter values currently.

                                                   21 Mar 2017                                   <u><a href="../man8/ganesha_conf.8.html">ganesha_conf</a></u>(8)
</pre>
 </div>
</div></section>
</div>
</body>
</html>