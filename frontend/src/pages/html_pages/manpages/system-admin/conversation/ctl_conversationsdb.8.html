<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ctl_conversationsdb - Cyrus IMAP documentation</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/cyrus-common">cyrus-common_3.10.2-1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       ctl_conversationsdb - Cyrus IMAP documentation

       Perform operations on the conversations databases

</pre><h4><b>SYNOPSIS</b></h4><pre>
          <b>ctl_conversationsdb</b> [ -C <u>config-file</u> ] <b>-d</b> <u>userid</u> &gt; text
          <b>ctl_conversationsdb</b> [ -C <u>config-file</u> ] <b>-u</b> <u>userid</u> &lt; text
          <b>ctl_conversationsdb</b> [ -C <u>config-file</u> ] [ <b>-v</b> ] [ <b>-z</b> | <b>-b</b> | <b>-R</b> ] <u>userid</u>
          <b>ctl_conversationsdb</b> [ -C <u>config-file</u> ] [ <b>-v</b> ] [ <b>-z</b> | <b>-b</b> | <b>-R</b> ] <b>-r</b>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>ctl_conversationsdb</b>  is used to perform various administrative operations on a conversations database and
       associated information in <u>cyrus.index</u> files.

       <b>ctl_conversationsdb</b> reads its configuration options  out  of  the  <u><a href="../man5/imapd.conf.5.html">imapd.conf</a>(5)</u>  file  unless  specified
       otherwise by <b>-C</b>.

       The  <u>configdirectory</u>  option  in  <u><a href="../man5/imapd.conf.5.html">imapd.conf</a>(5)</u>  is  used  to  determine  the  default  location  of  the
       conversations database.

       In the first synopsis, the <b>-d</b> option dumps the contents of a conversations database to standard output in
       an ASCII format.  In the second synopsis, the resulting <u>file</u> is fed back  in,  using  the  <b>-u</b>  option  to
       "undump" from standard input.  This pair of commands is useful for disaster recovery, or for changing the
       backend used to store the conversations database.

       The  third synopsis is used to reconstruct conversations information in various ways for a specific user,
       and the fourth to reconstruct conversations information for all users.  See <b>OPTIONS</b> below for details.

       This command was introduced in version 3.0.

</pre><h4><b>OPTIONS</b></h4><pre>
       <b>-C</b> <b>config-file</b>
              Use the specified configuration file <u>config-file</u> rather than the default <u><a href="../man5/imapd.conf.5.html">imapd.conf</a>(5)</u>.

       <b>-d,</b> <b>--dump</b>
              Dump the conversations database which corresponds to the user <u>userid</u>  to  standard  output  in  an
              ASCII format.  The resulting file can be used to recreate a database using the <b>-u</b> option.

       <b>-u,</b> <b>--undump</b>
              "Undumps"  the  conversations  database  corresponding  to  the user <u>userid</u>, i.e. replaces all the
              entries with data from ASCII records parsed from standard input.  The output from  the  <b>-d</b>  option
              can be used as input.

       <b>-v,</b> <b>--verbose</b>
              Be more verbose when running.

       <b>-r,</b> <b>--recursive</b>
              Be  recursive;  apply  the main operation to every user.  Warning: do not combine with <b>-u</b>, it will
              not do what you expect.

       <b>-z,</b> <b>--clear</b>
              Remove all conversation information from the conversations database for user <u>userid</u>, and from  all
              the  user's mailboxes.  The information can all be recalculated (eventually) from message headers,
              using the <b>-b</b> option.

       <b>-Z,</b> <b>--clearcids</b> <b>cid,...</b>
              Remove all conversation information from the conversations database for user <u>userid</u>, and from  all
              the  user's  mailboxes  for conversations matching the comma separated list of cids in hex format.
              Can be specified more than once.

              The information can all be recalculated (eventually) from message headers, using the <b>-b</b> option.

       <b>-b,</b> <b>--rebuild</b>
              Rebuild all conversation information in the conversations database for user <u>userid</u>, and in all the
              user's mailboxes, from the header information in messages.  Does not affect messages which already
              have conversation information.

              This is a bulk mode version of what happens to each message when it arrives, and can  be  used  to
              add  missing  conversation  information  for past messages, e.g. after using <b>-z</b> or after upgrading
              Cyrus from older versions.  Note: this operation uses information from  <u>cyrus.cache</u>  files  so  it
              does not need to read every single message file.

       <b>-R,</b> <b>--update-counts</b>
              Recalculate  counts of messages stored in existing conversations in the conversations database for
              user <u>userid</u>.  This is a limited subset of <b>-b</b>; in particular it does not  create  conversations  or
              assign messages to conversations.

       <b>-S,</b> <b>--split</b>
              If given with <b>-b</b>, allows splitting of conversations during the rewrite.   Only do this if changing
              the maximum conversation size and you need to split those existing conversations.

</pre><h4><b>EXAMPLES</b></h4><pre>
       [NB: Examples needed]

</pre><h4><b>HISTORY</b></h4><pre>
       This command was introduced in version 3.0.

</pre><h4><b>FILES</b></h4><pre>
       /etc/imapd.conf, &lt;configurationdir&gt;/conversations.db

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <u><a href="../man5/imapd.conf.5.html">imapd.conf</a>(5)</u>, <u><a href="../man8/master.8.html">master</a>(8)</u>

</pre><h4><b>AUTHOR</b></h4><pre>
       The Cyrus Team, Nic Bernstein (Onlight)

</pre><h4><b>COPYRIGHT</b></h4><pre>
       1993â€“2025, The Cyrus Team

3.10.2                                            Jun 27, 2025                            <u><a href="../man8/CTL_CONVERSATIONSDB.8.html">CTL_CONVERSATIONSDB</a></u>(8)
</pre>
 </div>
</div></section>
</div>
</body>
</html>