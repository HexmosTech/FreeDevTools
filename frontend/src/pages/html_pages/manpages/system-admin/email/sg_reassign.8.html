<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>sg_reassign - send SCSI REASSIGN BLOCKS command</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/sg3-utils">sg3-utils_1.48-2ubuntu1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       sg_reassign - send SCSI REASSIGN BLOCKS command

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>sg_reassign</b>  [<u>--address=A,A...</u>]  [<u>--dummy</u>]  [<u>--eight=0|1</u>]  [<u>--grown</u>]  [<u>--help</u>]  [<u>--hex</u>]  [<u>--longlist=0|1</u>]
       [<u>--primary</u>] [<u>--verbose</u>] [<u>--version</u>] <u>DEVICE</u>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       Send a SCSI REASSIGN BLOCKS command to <u>DEVICE</u>. Alternatively this utility can find the number of  element
       in  a "grown" or "primary" defect list with a SCSI READ DEFECT DATA (10) command. These SCSI commands are
       defined in SBC-2 for direct access devices (e.g. a disk). Reassign  blocks  is  designed  to  change  the
       physical  location  of  a logical block that is known or suspected to be defective to another area on the
       media. Disks are typically formatted with blocks held in reserve for this situation.

       If neither the <u>--grown</u> nor <u>--primary</u> option is supplied then one or more addresses need to be  given.  If
       the  address  (or  all of the addresses) fit into 4 bytes and '--eight=1' is not given then the parameter
       block passed to <u>DEVICE</u> is made up of 4 byte logical block addresses. If any of the  addresses  need  more
       than  4  bytes  to  represent  (i.e. &gt;= 2**32) or '--eight=1' is given then the parameter block passed to
       <u>DEVICE</u> is made up of 8 byte logical block addresses.

</pre><h4><b>OPTIONS</b></h4><pre>
       Arguments to long options are mandatory  for  short  options  as  well.   The  options  are  arranged  in
       alphabetical order based on the long option name.

       <b>-a</b>, <b>--address</b>=<u>A,A...</u>
              where  <u>A,A...</u> is a string of comma separated numbers. Each number is interpreted as decimal unless
              prefixed by '0x' or '0X' (or it has a trailing 'h' or 'H'). If multiple  logical  block  addresses
              are  given they must be separated by a comma or a (single) space. A string that contains any space
              separators needs to be quoted. At least one address must be given.

       <b>-a</b>, <b>--address</b>=-
              reads one or more logical block addresses from stdin. These may be comma, space, tab  or  linefeed
              (newline)  separated.  If  a  line  contains  "#"  then  the remaining characters on that line are
              ignored. Otherwise each non separator sequence of characters should resolve to  a  decimal  number
              unless prefixed by '0x' or '0X' (or has a trailing 'h'). At least one address must be given. Lines
              should not be longer than 1023 bytes.

       <b>-d</b>, <b>--dummy</b>
              prepare for but do not execute the SCSI REASSIGN BLOCKS command. Since the REASSIGN BLOCKS command
              is  essentially  irreversible,  paranoid  users  may  wish to check the invocation of this utility
              before reassigning defective blocks on a disk. Useful with '-vv' for those who wish  to  view  the
              parameter block that will accompany the command.

       <b>-e</b>, <b>--eight</b>=0 | 1
              when  value  is  1 then it sets the 'LONGLBA' flag in the command indicating that the addresses in
              the associated parameter block are 8 byte  quantities.   When  value  is  0  then  it  clears  the
              'LONGLBA'  flag in the command indicating that the addresses in the associated parameter block are
              4 byte quantities.  If this option is not given then 4 byte quantities are assumed unless  one  of
              the address is too large.

       <b>-g</b>, <b>--grown</b>
              use  the  SCSI  READ  DEFECT  DATA  (10) command to determine the number of elements in the "grown
              defect list". When this option is given there is no reassignment of blocks (i.e. this  utility  is
              passive).  When  this  option  is  given  then  the  <u>--address=</u>  option  is not permitted. See the
              discussion below concerning the relationship between reassigned blocks and the grown defect  list.
              This list is sometimes referred to as the GLIST.

       <b>-h</b>, <b>--help</b>
              output the usage message then exit.

       <b>-H</b>, <b>--hex</b>
              print response in hex (for <b>-g</b>, <b>--grown</b>, <b>-p</b> or <b>--primary</b>).

       <b>-l</b>, <b>--longlist</b>=0 | 1
              sets  the  REASSIGN BLOCKS cdb field of the same name to the given value.  Only 1000 addresses are
              permitted so there should be no need to specify a value of 1. The short list variant restricts the
              parameter block length to 2 ** 16 bytes (i.e.  about  16000  4  byte  addresses  or  8000  8  byte
              addresses). Added for completeness.

       <b>-p</b>, <b>--primary</b>
              use  the  SCSI  READ  DEFECT DATA (10) command to determine the number of elements in the "primary
              defect list" which is established during the manufacturing process.  When  this  option  is  given
              there  is no reassignment of blocks (i.e. this utility is passive). When this option is given then
              the <u>--address=</u> option is not permitted. This list is sometimes referred to as the PLIST.

       <b>-v</b>, <b>--verbose</b>
              increase the level of verbosity, (i.e. debug output).

       <b>-V</b>, <b>--version</b>
              print the version string and then exit.

</pre><h4><b>NOTES</b></h4><pre>
       Note that if the ARRE field (for reads) and/or the AWRE field (for writes) are set  in  the  "Read  Write
       Error  Recovery"  mode page then recoverable read and/or write errors cause automatic reassignment of the
       defective block. The PER bit in the same mode page controls  whether  a  RECOVERED  ERROR  sense  key  is
       reported  on  not  (PER=1  implies  do report). Irrespective of the ARRE, AWRE or PER field settings, the
       error counter log pages reflect any errors (recovered or otherwise). Whenever a block  is  reassigned,  a
       new  entry  is  added  in  the  "grown"  defect  list.  Apart  from  doing  selftests (see sg_senddiag or
       smartmontools) regularly, monitoring the grown defect list of a  disk  is  a  reasonable  metric  of  its
       health. If the grown list starts growing quickly that is an ominous sign. The best grown defect lists are
       empty  ones.  The  number of elements in the grown defect list can be viewed with the <u>--grown</u> option. The
       contents of the grown defect list can be viewed with the 'sginfo -G' utility.

       If an unrecoverable error is detected at a logical block  address  then  REASSIGN  BLOCKS  is  needed  to
       reassign  the  block.  Also  if the ARRE and/or AWRE fields are clear and a recoverable error is detected
       then the logical block in question may be reassigned with this utility (otherwise the error  counter  log
       pages will continually be incremented for each recovered access).

       The  number of blocks held in reserve for the purposes of REASSIGN BLOCKS is vendor specific and may well
       be limited to the zone within the media where the original (defective) block lay.  When  this  number  is
       exhausted  subsequent  invocations  of  this  utility  may result in a sense key of hardware error and an
       additional sense of 'No defect spare location available'. The next step would be to reformat the disk (or
       get a replacement).

       The SBC-2 draft standard (revision 16) notes that when multiple addresses are given to the SCSI  REASSIGN
       BLOCKS  command  and there is some failure at one of the later addresses then all addresses prior to that
       have already be reassigned. Care should be taken in such a case. Re-executing the command with  the  same
       addresses will cause the earlier addresses to be reassigned again. At some stage the disk will run out of
       reserved  locations.  So unless a large number of addresses are involved it may be safer to reassign them
       one address at a time.

</pre><h4><b>EXIT</b> <b>STATUS</b></h4><pre>
       The exit status of sg_reassign is 0 when it is successful. Otherwise see the <a href="../man8/sg3_utils.8.html">sg3_utils</a>(8) man page.

</pre><h4><b>AUTHORS</b></h4><pre>
       Written by Douglas Gilbert.

</pre><h4><b>REPORTING</b> <b>BUGS</b></h4><pre>
       Report bugs to &lt;dgilbert at interlog dot com&gt;.

</pre><h4><b>COPYRIGHT</b></h4><pre>
       Copyright Â© 2005-2019 Douglas Gilbert
       This software is  distributed  under  a  BSD-2-Clause  license.  There  is  NO  warranty;  not  even  for
       MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b>sg_format,sginfo,sg_senddiag(all</b> <b>in</b> <b>sg3_utils),</b> <b>sdparm(sdparm),</b> <b>smartmontools(internet,</b> <b>sourceforge)</b>

sg3_utils-1.45                                    October 2019                                    <u><a href="../man8/SG_REASSIGN.8.html">SG_REASSIGN</a></u>(8)
</pre>
 </div>
</div></section>
</div>
</body>
</html>