<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>nut-scanner - Tool to scan communication buses for NUT devices</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/nut-server">nut-server_2.8.3-2_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       nut-scanner - Tool to scan communication buses for NUT devices

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>nut-scanner</b> -h

       <b>nut-scanner</b> [<u>OPTIONS</u>]

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>nut-scanner</b> scans available communication buses and displays any NUT-compatible devices it has found.

       <b>nut-scanner</b> can also display the detected devices in various formats, including ups.conf, and ensures
       that the generated devices name are unique across buses.

</pre><h4><b>INSTALLATION</b></h4><pre>
       <b>nut-scanner</b> is only built if libltdl (part of libtool development suite) is available.

       Available scanning options (USB, SNMP, IPMI, ...) will vary according to the available compile-time and
       run-time dependencies. For example, if Net-SNMP is installed, thus providing libsnmp libraries (*.so or
       *.dll) and header files during compilation, and at least the library files on the monitoring system, then
       SNMP discovery will be available.

</pre><h4><b>OPTIONS</b></h4><pre>
       <b>-h</b>
           Display the help text.

</pre><h4><b>DISPLAY</b> <b>OPTIONS</b></h4><pre>
       <b>-Q</b> | <b>--disp_nut_conf_with_sanity_check</b>
           Display result in the ups.conf format with sanity-check warnings (if any) as comments (default).

       <b>-N</b> | <b>--disp_nut_conf</b>
           Display result in the ups.conf format.

       <b>-P</b> | <b>--disp_parsable</b>
           Display result in a parsable format.

</pre><h4><b>BUS</b> <b>OPTIONS</b></h4><pre>
       <b>-C</b> | <b>--complete_scan</b>
           Scan all available communication buses (default behavior)

       <b>-U</b> | <b>--usb_scan</b>
           List all NUT-compatible USB devices currently plugged in.

           This option can be specified several times, for more hardware link-specific details; these can be
           counter-productive in case of USB enumeration changes over time:
           ┌──────────────┬─────────────────────────────────────────────────────────────────────┐
           │ <b>Option</b> <b>count</b> │ <b>Practical</b> <b>meaning</b>                                                   │
           ├──────────────┼─────────────────────────────────────────────────────────────────────┤
           │ -U           │                do not report any `bus`/`device`/`busport` details   │
           ├──────────────┼─────────────────────────────────────────────────────────────────────┤
           │ -UU          │                report `bus` and `busport`, if available             │
           ├──────────────┼─────────────────────────────────────────────────────────────────────┤
           │ -UUU         │                report `bus`/`device`/`busport` details              │
           ├──────────────┼─────────────────────────────────────────────────────────────────────┤
           │ -UUUU        │                report `bus`/`device`/`busport` details,             │
           │              │                           and `bcdDevice` (limited use and benefit) │
           └──────────────┴─────────────────────────────────────────────────────────────────────┘

               <b>Note</b>
               For reliability, it is preferable to match just by vendor and product identification, and a
               serial number if available and unique.

       <b>-S</b> | <b>--snmp_scan</b>
           Scan SNMP devices. Requires at least a <u>start</u> <u>IP</u>, and optionally, an <u>end</u> <u>IP</u>. See specific SNMP OPTIONS
           for community and security settings.

       <b>-M</b> | <b>--xml_scan</b>
           Scan XML/HTTP devices. Can broadcast a network message on the current network interface(s) to
           retrieve XML/HTTP capable devices. No IP required in this mode. If IP address ranges are specified,
           they would be scanned instead of a broadcast.

       <b>-O</b> | <b>--oldnut_scan</b>
           Scan NUT devices (i.e.  upsd daemon) on IP ranging from <u>start</u> <u>IP</u> to <u>end</u> <u>IP</u>.

       <b>-n</b> | <b>--nut_simulation_scan</b>
           Scan NUT simulated devices (.dev files in the built-in "sysconfig" location).

               <b>Warning</b>
               The NUT_CONFPATH environment variable override is not currently supported.

       <b>-A</b> | <b>--avahi_scan</b>
           Scan NUT servers using Avahi request on the current network interface(s). No IP address options are
           required or used.

       <b>-I</b> | <b>--ipmi_scan</b>
           Scan NUT compatible power supplies available via IPMI on the current host, or over the network if IP
           address ranges are specified.

       <b>-E</b> | <b>--eaton_serial</b> <u>serial</u> <u>ports</u>
           Scan Eaton devices (XCP and SHUT) available via serial bus on the current host. This option must be
           requested explicitly, even for a complete scan.  <u>serial</u> <u>ports</u> can be expressed in various forms:

           •   <u>auto</u> to scan all serial ports.

           •   a single character indicating a port number (<u>0</u> (zero) for /dev/ttyS0 and /dev/ttyUSB0 on Linux, <u>1</u>
               for COM1 on Windows, <u>a</u> for /dev/ttya on Solaris...)

           •   a range of N characters, hyphen separated, describing the range of ports using X-Y syntax, where
               <u>X</u> and <u>Y</u> are characters referring to the port number.

           •   a single port name.

           •   a list of ports name, comma separated, like /dev/ttyS1,/dev/ttyS4.

</pre><h4><b>NETWORK</b> <b>OPTIONS</b></h4><pre>
           <b>Note</b>

           The networked buses (such as SNMP, NetXML, IPMI and "Old NUT") allow to specify several IP (IPv4 or
           IPv6) address ranges, down to individual single IP addresses.

           Normally a new range is specified by a set of one -s and one -e options following each other (in any
           order on the command line).

           Lone or consecutive -s or -e options present on the command line would translate to single-IP
           queries.

           Also, a -m option squashed between two -s and -e options would be a new range, turning those two into
           single-IP queries. This feature does not by itself recombine "neighboring" addresses into one range,
           nor even check for duplicate or overlapping specifications.

           A single-address range may be a host name which would be resolved into one IP address by the system
           resolver. A CIDR using a host name and netmask length would be resolved into an IP address and
           subjected to the mask application, to query hosts "near" the named one.

       Also note that some buses require IP address(es) to scan, and others have a different behavior when
       exactly no addresses are specified (it is not currently possible to mix the two behaviors in one
       invocation of the nut-scanner tool).

       Finally note that currently even if multi-threaded support is available, each range specification is a
       separate fan-out of queries constrained by the timeout. Requests to scan many single IP addresses will
       take a while to complete, much longer than if they were a single range. This will be hopefully fixed in
       later releases.

           <b>Note</b>

           Colon-separated IPv6 addresses must be passed in square brackets.

       <b>-t</b> | <b>--timeout</b> <u>timeout</u>
           Set the network timeout in seconds. Default timeout is 5 seconds.

       <b>-s</b> | <b>--start_ip</b> <u>start</u> <u>IP</u>
           Set the first IP (IPv4 or IPv6) when a range of IP is required (SNMP, old_nut) or optional
           (XML/HTTP).

       <b>-e</b> | <b>--end_ip</b> <u>end</u> <u>IP</u>
           Set the last IP (IPv4 or IPv6) when a range of IP is required (SNMP, old_nut) or optional (XML/HTTP).
           If this parameter is omitted, only the <u>start</u> <u>IP</u> is scanned. If <u>end</u> <u>IP</u> is less than <u>start</u> <u>IP</u>, both
           parameters are internally permuted.

       <b>-m</b> | <b>--mask_cidr</b> <u>IP</u> <u>address/mask</u>
           Set a range of IP addresses by using CIDR notation.

           A special form -m auto allows nut-scanner to detect local IP address(es) and scan corresponding
           subnet(s) on supported platforms, and -m auto4 or -m auto6 limits the selected addresses to IPv4 and
           IPv6 respectively. Only the first "auto*" request would be honoured, others ignored with a warning.

           An /ADDRLEN suffix can be added to the option, to filter out discovered subnets with too many bits
           available for the host address part (avoiding millions of scans in the extreme cases). For example,
           if your IPv4 LAN’s network range is 10.2.3.0/24, its address part is (32-24)=8. Note that while this
           is applied to IPv6 networks also, their typical /64 subnets are not likely to have a
           NUT/SNMP/NetXML/... server <b>that</b> close nearby (in addressing terms), for a tight filter to find them.
           Default is 8.

</pre><h4><b>NUT</b> <b>DEVICE</b> <b>OPTION</b></h4><pre>
       <b>-p</b> | <b>--port</b> <u>port</u> <u>number</u>
           Set the port number of scanned NUT devices (default 3493).

</pre><h4><b>SNMP</b> <b>V1</b> <b>OPTION</b></h4><pre>
       <b>-c</b> | <b>--community</b> <u>community</u>
           Set SNMP v1 community name (default = public).

</pre><h4><b>SNMP</b> <b>V3</b> <b>OPTIONS</b></h4><pre>
       <b>-l</b> | <b>--secLevel</b> <u>security</u> <u>level</u>
           Set the <u>security</u> <u>level</u> used for SNMPv3 messages. Allowed values are: noAuthNoPriv, authNoPriv and
           authPriv. This parameter is mandatory if you use non-trivial authentication.

       <b>-u</b> | <b>--secName</b> <u>security</u> <u>name</u>
           Set the <u>security</u> <u>name</u> used for authenticated SNMPv3 messages. This parameter is mandatory if you set
           <u>security</u> <u>level</u>.

       <b>-w</b> | <b>--authProtocol</b> <u>authentication</u> <u>protocol</u>
           Set the <u>authentication</u> <u>protocol</u> used for authenticated SNMPv3 messages. Allowed values are MD5, SHA,
           SHA256, SHA384 or SHA512 (depending on Net-SNMP library capabilities; check help of the nut-scanner
           binary program for the run-time supported list). Default value is MD5.

       <b>-W</b> | <b>--authPassword</b> <u>authentication</u> <u>pass</u> <u>phrase</u>
           Set the <u>authentication</u> <u>pass</u> <u>phrase</u> used for authenticated SNMPv3 messages. This parameter is
           mandatory if you set <u>security</u> <u>level</u> to authNoPriv or authPriv.

       <b>-x</b> | <b>--privProtocol</b> <u>privacy</u> <u>protocol</u>
           Set the <u>privacy</u> <u>protocol</u> used for encrypted SNMPv3 messages. Allowed values are DES, AES, AES192 or
           AES256 (depending on Net-SNMP library capabilities; check help of the nut-scanner binary program for
           the run-time supported list). Default value is DES.

       <b>-X</b> | <b>--privPassword</b> <u>privacy</u> <u>pass</u> <u>phrase</u>
           Set the <u>privacy</u> <u>pass</u> <u>phrase</u> used for encrypted SNMPv3 messages. This parameter is mandatory if you
           set <u>security</u> <u>level</u> to authPriv.

</pre><h4><b>IPMI</b> <b>OPTIONS</b></h4><pre>
       <b>-b</b> | <b>--username</b> <u>username</u>
           Set the username used for authenticating IPMI over LAN connections (mandatory for IPMI over LAN. No
           default).

       <b>-B</b> | <b>--password</b> <u>password</u>
           Specify the password to use when authenticating with the remote host (mandatory for IPMI over LAN. No
           default).

       <b>-d</b> | <b>--authType</b> <u>authentication</u> <u>type</u>
           Specify the IPMI 1.5 authentication type to use (NONE, STRAIGHT_PASSWORD_KEY, MD2, and MD5) with the
           remote host (default=MD5). This forces connection through the <u>lan</u> IPMI interface , thus in IPMI 1.5
           mode.

       <b>-L</b> | <b>--cipher_suite_id</b> <u>cipher</u> <u>suite</u> <u>identifier</u>
           Specify the IPMI 2.0 cipher suite ID to use. The Cipher Suite ID identifies a set of authentication,
           integrity, and confidentiality algorithms to use for IPMI 2.0 communication.

           The authentication algorithm identifies the algorithm to use for session setup, the integrity
           algorithm identifies the algorithm to use for session packet signatures, and the confidentiality
           algorithm identifies the algorithm to use for payload encryption (default=3).

           The following cipher suite ids are currently supported (Authentication; Integrity; Confidentiality):

           •   <b>0</b>: None; None; None

           •   <b>1</b>: HMAC-SHA1; None; None

           •   <b>2</b>: HMAC-SHA1; HMAC-SHA1-96; None

           •   <b>3</b>: HMAC-SHA1; HMAC-SHA1-96; AES-CBC-128

           •   <b>6</b>: HMAC-MD5; None; None

           •   <b>7</b>: HMAC-MD5; HMAC-MD5-128; None

           •   <b>8</b>: HMAC-MD5; HMAC-MD5-128; AES-CBC-128

           •   <b>11</b>: HMAC-MD5; MD5-128; None

           •   <b>12</b>: HMAC-MD5; MD5-128; AES-CBC-128

           •   <b>15</b>: HMAC-SHA256; None; None

           •   <b>16</b>: HMAC-SHA256; HMAC_SHA256_128; None

           •   <b>17</b>: HMAC-SHA256; HMAC_SHA256_128; AES-CBC-128

</pre><h4><b>MISCELLANEOUS</b> <b>OPTIONS</b></h4><pre>
       <b>-V</b> | <b>--version</b>
           Display NUT version.

       <b>-a</b> | <b>--available</b>
           Display available buses that can be scanned, depending on how the nut-scanner binary program has been
           compiled. (e.g. OLDNUT, USB, SNMP, XML, AVAHI, IPMI).

       <b>-q</b> | <b>--quiet</b>
           Display only scan result. No information on currently scanned bus is displayed.

       <b>-D</b> | <b>--nut_debug_level</b>
           Raise the debugging level. Use this multiple times to see more details.

           <b>Note</b>

           The level of debugging needed depends both on nut-scanner and the problem you’re trying to diagnose.
           Therefore, first explain the problem you have with nut-scanner to a developer/maintainer, before
           sending them debugging output. More often than not, if you just pick a level, the output may be
           either too limited or too verbose to be of any use.

</pre><h4><b>EXAMPLES</b></h4><pre>
       To scan USB devices only:

           :; nut-scanner -U

           [nutdev-usb1]
                   driver = "snmp-ups"
                   port = "192.168.0.42"

       To scan SNMP v1 device with <u>public</u> (default) community on address range <u>192.168.0.0</u> <u>to</u> <u>192.168.0.255</u>:

           :; nut-scanner -S -s 192.168.0.0 -e 192.168.0.255

           [nutdev-snmp1]
                   driver = "snmp-ups"
                   port = "192.168.0.42"

       The same using CIDR notation:

           :; nut-scanner -S -m 192.168.0.0/24

           [nutdev-snmp1]
                   driver = "snmp-ups"
                   port = "192.168.0.42"

       To scan NUT servers with a timeout of <u>10</u> seconds on IP range <u>192.168.0.0</u> <u>to</u> <u>192.168.0.127</u> using CIDR
       notation:

           :; nut-scanner -O -t 10 -m 192.168.0.0/25

           [nutdev-nut1]
                   driver = "dummy-ups"
                   port = "<a href="mailto:dummy-test@192.168.1.28">dummy-test@192.168.1.28</a>"

       To scan for power supplies, through IPMI (1.5 mode) over the network, on address range <u>192.168.0.0</u> <u>to</u>
       <u>192.168.0.255</u> using CIDR notation:

           :; nut-scanner -I -m 192.168.0.0/24 -b username -B password

       To scan for Eaton serial devices on ports <u>0</u> and <u>1</u> (/dev/ttyS0, /dev/ttyUSB0, /dev/ttyS1 and /dev/ttyUSB1
       on Linux):

           :; nut-scanner --eaton_serial 0-1

       To scan for Eaton serial devices on ports <u>1</u> and <u>2</u> (COM1 and COM2 on Windows):

           :; nut-scanner --eaton_serial 1-2

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man5/ups.conf.5.html">ups.conf</a></b>(5)

   <b>Internet</b> <b>resources:</b>
       The NUT (Network UPS Tools) home page: https://www.networkupstools.org/historic/v2.8.3/

Network UPS Tools 2.8.3                            07/08/2025                                     <u><a href="../man8/NUT-SCANNER.8.html">NUT-SCANNER</a></u>(8)
</pre>
 </div>
</div></section>
</div>
</body>
</html>