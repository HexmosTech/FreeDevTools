<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>pam_motd - Display the motd file</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libpam-runtime">libpam-runtime_1.7.0-5ubuntu1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       pam_motd - Display the motd file

</pre><h4><b>SYNOPSIS</b></h4><pre>

       <b>pam_motd.so</b> [motd=<u>/path/filename</u>] [motd_dir=<u>/path/dirname.d</u>]

</pre><h4><b>DESCRIPTION</b></h4><pre>
       pam_motd is a PAM module that can be used to display arbitrary motd (message of the day) files after a
       successful login. By default, pam_motd shows files in the following locations:

           /etc/motd
           /run/motd
           /usr/lib/motd
           /etc/motd.d/
           <a href="file:/run/motd.d/">/run/motd.d/</a>
           /usr/lib/motd.d/

       Each message size is limited to 64KB.

       If /etc/motd does not exist, then /run/motd is shown. If /run/motd does not exist, then /usr/lib/motd is
       shown.

       Similar overriding behavior applies to the directories. Files in /etc/motd.d/ override files with the
       same name in <a href="file:/run/motd.d/">/run/motd.d/</a> and /usr/lib/motd.d/. Files in <a href="file:/run/motd.d/">/run/motd.d/</a> override files with the same name
       in /usr/lib/motd.d/.

       Files in the directories listed above are displayed in lexicographic order by name. Moreover, the files
       are filtered by reading them with the credentials of the target user authenticating on the system.

       To silence a message, a symbolic link with target /dev/null may be placed in /etc/motd.d with the same
       filename as the message to be silenced. Example: Creating a symbolic link as follows silences
       /usr/lib/motd.d/my_motd.

       <b>ln</b> <b>-s</b> <b>/dev/null</b> <b>/etc/motd.d/my_motd</b>

       The <b>MOTD_SHOWN=pam</b> environment variable is set after showing the motd files, even when all of them were
       silenced using symbolic links.

</pre><h4><b>OPTIONS</b></h4><pre>
       motd=/path/filename
           The /path/filename file is displayed as message of the day. Multiple paths to try can be specified as
           a colon-separated list. By default this option is set to /etc/motd:/run/motd:/usr/lib/motd.

       motd_dir=/path/dirname.d
           The /path/dirname.d directory is scanned and each file contained inside of it is displayed. Multiple
           directories to scan can be specified as a colon-separated list. By default this option is set to
           /etc/motd.d:<a href="file:/run/motd.d">/run/motd.d</a>:/usr/lib/motd.d.

       <b>noupdate</b>
           Don't run the scripts in <a href="file:/etc/update-motd.d">/etc/update-motd.d</a> to refresh the motd file.

       When no options are given, the default behavior applies for both options. Specifying either option (or
       both) will disable the default behavior for both options.

</pre><h4><b>MODULE</b> <b>TYPES</b> <b>PROVIDED</b></h4><pre>
       Only the <b>session</b> module type is provided.

</pre><h4><b>RETURN</b> <b>VALUES</b></h4><pre>
       PAM_ABORT
           Not all relevant data or options could be obtained.

       PAM_BUF_ERR
           Memory buffer error.

       PAM_IGNORE
           This is the default return value of this module.

</pre><h4><b>EXAMPLES</b></h4><pre>
       The suggested usage for <a href="file:/etc/pam.d/login">/etc/pam.d/login</a> is:

           session  optional  pam_motd.so

       To use a motd file from a different location:

           session  optional  pam_motd.so motd=/elsewhere/motd

       To use a motd file from elsewhere, along with a corresponding .d directory:

           session  optional  pam_motd.so motd=/elsewhere/motd motd_dir=/elsewhere/motd.d

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man5/motd.5.html">motd</a></b>(5), <b><a href="../man5/pam.conf.5.html">pam.conf</a></b>(5), <b><a href="../man5/pam.d.5.html">pam.d</a></b>(5), <b><a href="../man7/pam.7.html">pam</a></b>(7), <b><a href="../man5/update-motd.5.html">update-motd</a></b>(5)

</pre><h4><b>AUTHOR</b></h4><pre>
       pam_motd was written by Ben Collins &lt;<a href="mailto:bcollins@debian.org">bcollins@debian.org</a>&gt;.

       The <b>motd_dir=</b> option was added by Allison Karlitskaya &lt;<a href="mailto:allison.karlitskaya@redhat.com">allison.karlitskaya@redhat.com</a>&gt;.

Linux-PAM                                          07/03/2025                                        <u><a href="../man8/PAM_MOTD.8.html">PAM_MOTD</a></u>(8)
</pre>
 </div>
</div></section>
</div>
</body>
</html>