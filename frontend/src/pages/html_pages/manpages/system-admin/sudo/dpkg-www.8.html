<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>dpkg-www, dpkg-www-installer - WWW Debian package browser</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/dpkg-www">dpkg-www_2.65_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       dpkg-www, dpkg-www-installer - WWW Debian package browser

</pre><h4><b>SYNOPSIS</b></h4><pre>
       https://&lt;hostname&gt;/cgi-bin/dpkg

</pre><h4><b>DESCRIPTION</b></h4><pre>
       A typical Debian system can have hundreds installed packages and thousands available for installation.
       Information about installed and available packages can usually be obtained with the <b><a href="../man1/dpkg.1.html">dpkg</a></b>(1) command, but
       navigating through the package dependencies and the documentation files can be a very frustrating and
       time-consuming task.

       With the <b>dpkg-www</b> CGI you can instead browse Debian packages info with a web browser, following package
       dependencies and locating documentation (man pages, Info files, READMEs, and so on) with few mouse
       clicks. If you have superuser privileges you can even install, upgrade or remove packages from your web
       browser.  The output provided by <b>dpkg-www</b> is basically that of <b><a href="../man1/dpkg.1.html">dpkg</a></b>(1) with the addition of HREF's for
       packages dependencies and documentation files.

       The CGI program can take an optional query argument which can be given in the URL or entered in the query
       field of the HTML form. This can be:

       <u>empty</u>
           List concisely all installed packages.

       <b>*</b> (asterisk)
           List concisely all installed and available packages.

       <u>list</u> <u>of</u> <u>packages</u>
           List concisely the requested packages.

       <u>wildcard</u> <u>expession</u>
           List  concisely  all  packages whose name matches the expression, for example '*image*' will find all
           packages which contain the string 'image'.

       <u>package</u>
           List verbosely a package and, if the package is installed, all its files.   If  the  package  is  not
           installed and the web installation is enabled you can install it by clicking on the 'Install' button.
           If  the package is installed you can remove it or upgrade to a new version, if available, by clicking
           on the respective buttons.

       <u>absolute</u> <u>pathname</u>
           List all the packages owners of a file. This can be used for example to find which package  installed
           a program.

       <b>/</b><u>regexp</u>
           List  all the packages owners of a file. The regexp form can be used to find which packages own a non
           installed file.

       <u>field</u><b>=</b><u>value</u>
           List all the packages with control field matching value. If the field name is omitted  the  value  is
           searched  in any control field. The default search is a case-insensitive fixed substring match but it
           can be changed with the <b>GREP_DCTRL_OPTS</b> option in the config file.  This feature works  only  if  the
           <b><a href="../man1/grep-dctrl.1.html">grep-dctrl</a></b>(1) package is installed.

       <b>?</b> (question mark)
           Show a concise help about the CGI usage.

       <u>space</u> (a single space)
           Print only the input form, for use from window-manager menus.

   <b>Configuration</b>
       <b>dpkg-www</b>  can  be  configured by the local system administrator via the optional <u>/etc/dpkg-www.conf</u> file.
       This file is a simple Bourne shell (<u><a href="file:/bin/sh">/bin/sh</a></u>) script that defines some  or  all  the  following  variables
       (defaults are used if the file doesn't exist, or doesn't define the variable):

       <b>CHECK_BUTTONS</b>
           If  this option is enabled <b>dpkw-www</b> will add a small 'install' check-button for each package shown in
           the package list. Default is 0 (disabled) because the resulting interface is not very nice.  The  use
           of this option is therefore not recommended.

       <b>INSTALL_BUTTON</b>
           If  this  option  is set the 'Install' or 'Upgrade' and 'Remove' buttons will be added to the verbose
           info of a package. By clicking on these button you will start the installation of removal the package
           as described in the section <b>Web</b> <b>Installation</b>.  Since this option can potentially  introduce  security
           holes  it  is  disabled  (0)  by  default. Use at your own risk.  If the variable is set to "top" the
           button will be located before the file list, default is the bottom of the page.

       <b>SHOW_LOCAL_FILES</b>
           If this variable is set, <b>dpkg-www</b> will use file:/ style URL's to access html files --  bypassing  the
           CGI  script. This is faster on slow machines. Default is not defined, which means use local files for
           connection from localhost and https:// URL's for remote connections.

       <b>CHECK_PACKAGE_VERSION</b>
           If this variable is set, <b>dpkg-www</b> will check if a newer version of an installed package is available.
           On slow machines you may want to set this option to false since it can  considerably  slow  down  the
           execution.

       <b>LIST_UNAVAILABLE</b>
           This option enables listing also unavailable packages in the packages list.  Disabled by default.

       <b>LIST_DOCUMENTATION</b>
           This  option  enables  the  display of references to documents registered with <b><a href="../man8/install-docs.8.html">install-docs</a></b>(8) to the
           detailed package info, providing a quick path to relevant package documentation.  Unfortunately  this
           feature  is  not totally reliable because currently there is no way to find documents registered by a
           package with <b><a href="../man8/install-docs.8.html">install-docs</a></b>(8) and the search is done with an ugly hack. Hopefully things  will  change
           in woody. This option is enabled (1) by default.

       <b>FORCE_SSH_PASSWD</b>
           This  option  forces ssh passwd prompt for package installation on a remote host even if an ssh agent
           holds the private key.

       <b>GREP_DCTRL_OPTS</b>
           These options are passed to <b><a href="../man1/grep-dctrl.1.html">grep-dctrl</a></b>(1) when doing a query by field.  Default  is  "-i"  for  case-
           insensitive fixed substring match. See <b><a href="../man1/grep-dctrl.1.html">grep-dctrl</a></b>(1) for more info.

       <b>DPKG</b>
           Command  providing  the  <b><a href="../man1/dpkg.1.html">dpkg</a></b>(1)  query  functionalities. This can be <b><a href="../man1/dpkg.1.html">dpkg</a></b>(1) or <b><a href="../man1/dlocate.1.html">dlocate</a></b>(1), or <b>auto</b>.
           Default is <b>auto</b>, meaning that the CGI will use <b><a href="../man1/dlocate.1.html">dlocate</a></b>(1) if installed, otherwise revert  to  <b><a href="../man1/dpkg.1.html">dpkg</a></b>(1)
           which  should always be available on a Debian system. By specifying this option you can force the use
           of one of the two program.

       <b>MAN</b> Man page to HTML translation command. Can be <b><a href="../man7/dwww.7.html">dwww</a></b>(7), <b>man2html</b> or <b>auto</b>.   Default  is  <b>auto</b>,  meaning
           that  the CGI will use <b>man2thml</b> if installed, otherwise revert to <b><a href="../man7/dwww.7.html">dwww</a></b>(7).  By specifying this option
           you can force the use of one of the two program.

       <b>DEBIAN_CONTENTS</b>
           Optional list of one or more <u>Contents-xxx.gz</u> files mapping each file available in the  Debian  system
           to the package from which it originates. If available these files are used to find the owner packages
           of  non  installed files. This can be useful for quickly finding the package to install when a needed
           command is missing.

       <b>BGCOLOR</b>
           Background color of the HTML body.

       <b>DEBUG</b>
           Internal option used only for debugging. Disabled by default since it is useless for normal users.

       <b>DWWW_PATH</b>
           Path on web server to <b><a href="../man7/dwww.7.html">dwww</a></b>(7) cgi-bin.

       <b>INFO2WWW_PATH</b>
           Path on web server to <b><a href="../man1/info2www.1.html">info2www</a></b>(1) cgi-bin.

       The following is an example <u>/etc/dpkg-www.conf</u> file:

         # Enable install check-buttons in package list.
         CHECK_BUTTONS=0

         # Enable install, upgrade and remove buttons in package info.
         INSTALL_BUTTON=1

         # List registered package documentation.
         LIST_DOCUMENTATION=1

         # Options passed to grep-dctrl in queryPackagesByField()
         GREP_DCTRL_OPTS="-i"

         # Show local files directly. Automatically set.
         SHOW_LOCAL_FILES=auto

         # Force ssh passwd prompt even if an ssh agent holds
         # the private key.
         FORCE_SSH_PASSWD=true

         # List of Contents-xxx.gz files, if available.
         DEBIAN_CONTENTS="
           /debian/dists/bookworm/main/Contents-amd64.gz
           /debian/dists/bookworm-updates/main/Contents-amd64.gz
           /debian-security/dists/bookworm-security/main/Contents-amd64.gz"

         # Dpkg command (dpkg|dlocate|auto). Automatically detected.
         # DPKG=auto

         # Manpage conversion command (dwww|man2html|auto). Automatically detected.
         # MAN=auto

         # HTML background color.
         # BGCOLOR="#c0c0c0"

         # Enable CGI debugging. Not really useful.
         # DEBUG=1

   <b>CGI</b> <b>access</b>
       The information provided by <b>dpkg-www</b> and the ability to install or  remove  packages  also  remotely  can
       potentially give useful information to crackers and open security holes. For these reasons access to this
       CGI  program  should  be  allowed  only  from  localhost and trusted hosts or domains. Unfortunately this
       configuration is dependent on the particular installed web server.  The <b>dpkg-www</b> package  configures  the
       <b>apache</b>  server,  if  installed, to allow access only from localhost. Other web servers must be configured
       manually by the system administrator to restrict access to trusted hosts. If you administer  many  Debian
       system  on a local network you may want to enable access to the CGI from your network and browse packages
       on any host from any other machine.

   <b>Web</b> <b>installation</b>
       If this option is enabled in the <u>/etc/dpkg-www.conf</u> file, the 'Install', 'Upgrade' and  'Remove'  buttons
       are  added  to the info page of installed or uninstalled packages.  By clicking on this button the system
       administrator, or more precisely any user who has the ability to become system administrator  (since  you
       don't  want  to  run  a  web  browser  as root!), will be able to install or remove a package on the fly,
       provided he has properly configured his browser for web installation.

       For security reasons the installation is done entirely from the browser side, so that you don't  need  to
       gain  root  privileges from the CGI program which is run on the server. The only thing done on the server
       is to generate an installation request which is downloaded to the browser for  the  execution,  which  is
       started  under  control  of  the  user and with his privileges.  The real installation is done by a small
       helper   script   run   from    the    user's    browser    when    a    document    with    content-type
       'application/dpkg-www-installer' is received from the web server. The helper script opens an XTerm on the
       user's  display  and  runs a script which becomes superuser, after asking the root password, and execs an
       <b><a href="../man8/apt-get.8.html">apt-get</a></b>(8) command to install the requested packages.

       The web browser must have been configured to  handle  the  above  content-type  by  running  the  command
       "<b>/usr/sbin/dpkg-www-installer</b>  <b>-x</b>  <b>-f</b> <b>'%s'</b>", which must obviously be installed also on the client side if
       installing remotely.  If the <b>dpkg-www</b> package is not installed on the browser client you can simply  copy
       the script <u>/usr/sbin/dpkg-www-installer</u> and hope it works...

       You  can  configure  your <b>Firefox</b> browser from the General -&gt; Application menu of the Preferences window.
       You  must  add  a  new   item   with   MIME   type   "<b>application/dpkg-www-installer</b>"   and   application
       "<b>/usr/sbin/dpkg-www-installer</b>  <b>-x</b>  <b>-f</b>  <b>'%s'</b>".  This should add the following line to your Firefox mailcap
       file:

        application/dpkg-www-installer;/usr/sbin/dpkg-www-installer -x -f '%s'

       The <b>dpkg-www</b> web installation has been successfully tested only with <b>Firefox</b>.  With other web browsers it
       is untested and it may not work correctly.

       In order to be able to install the packages the user must known the root password  asked  for  '<b>su</b>  <b>root</b>'
       when  installing  on  the  local  server,  or  have  the  ability  to ssh as root to the remote host when
       installing from a remote client.

       From the security point of view, executing a web installation is functionally  equivalent  to  opening  a
       shell in an XTerm, becoming superuser after having supplied the proper password and running <b><a href="../man8/apt-get.8.html">apt-get</a></b>(8) as
       root  to  install  or  remove  the  required  packages.   Starting this from the web could be potentially
       vulnerable to man-in-the-middle (MITM) attacks, but since it requires a password on the client  it  seems
       quite safe.  If you are really paranoid connect to a secure server from an SSL-enabled browser.

       The <b>dpkg-www</b> web installation is not intended to replace the normal use of <b><a href="../man8/apt-get.8.html">apt-get</a></b>(8) from the shell.  It
       is  provided  only  as a shortcut to allow the installation of a package after having located it with the
       browser without needing to open a root shell and run <b><a href="../man8/apt-get.8.html">apt-get</a></b>(8) manually.  For normal package maintenance
       and system upgrade the use of <b><a href="../man8/apt-get.8.html">apt-get</a></b>(8) from the shell is recommended.

</pre><h4><b>ENVIRONMENT</b></h4><pre>
       <b>DPKG_WWW_HOST</b>
           The hostname to use.

</pre><h4><b>FILES</b></h4><pre>
       <u>/etc/dpkg-www.conf</u>
           Configuration file for <b>dpkg-www</b>.  It is not necessary for this file  to  exist,  there  are  sensible
           defaults for everything.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man1/dpkg.1.html">dpkg</a></b>(1), <b><a href="../man1/dwww.1.html">dwww</a></b>(1), <b><a href="../man7/dwww.7.html">dwww</a></b>(7), <b><a href="../man1/dlocate.1.html">dlocate</a></b>(1), <b><a href="../man8/man2html.8.html">man2html</a></b>(8), <b><a href="../man1/grep-dctrl.1.html">grep-dctrl</a></b>(1).

2.65                                               2023-08-24                                        <u><a href="../man8/dpkg-www.8.html">dpkg-www</a></u>(8)
</pre>
 </div>
</div></section>
</div>
</body>
</html>