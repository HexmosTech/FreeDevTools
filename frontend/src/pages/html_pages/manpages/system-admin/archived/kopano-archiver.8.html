<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>kopano-archiver - Manages kopano archives and performs the archive operation.</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/jammy/+package/kopano-archiver">kopano-archiver_8.7.0-7.1ubuntu10.1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       kopano-archiver - Manages kopano archives and performs the archive operation.

</pre><h4><b>SYNOPSIS</b></h4><pre>

       <b>kopano-archiver</b> [<u>OPTION</u>...]

</pre><h4><b>DESCRIPTION</b></h4><pre>
       This tool is used to attach or detach archives to a users store. An archive is defined as a special
       non-active store or a folder inside such a store.

       On top of managing archives, this tool is used to perform the actual archive operation. Using the <u>-u</u>
       option, the archiver can be instructed to archive a single store or all stores.

</pre><h4><b>ACTIONS</b></h4><pre>
       kopano-archiver needs an action command with the appropriate options. Valid actions are:

       <b>-l</b>, <b>--list</b>
           List archives for the specified user. The <u>-u</u> option is required.

       <b>-L</b>, <b>--list-archiveusers</b>
           List users that have an archive attached.

       <b>-A</b>, <b>--archive</b>
           Perform an archive run. If a <u>-u</u> option is provided, only the store of one user will be archived.
           Otherwise all stores are archived. Optionally the <u>--local-only</u> option can be set to only archive
           stores that exist on the server to which kopano-archiver is connected (usually the local server).

       <b>-C</b>, <b>--cleanup</b>
           Perform an archive cleanup run. If a <u>-u</u> option is provided, only the archives of one user will be
           cleaned. Otherwise all stores are cleaned. Optionally the <u>--local-only</u> option can be set to only
           cleanup archives of users that have their primary store on the server to which kopano-archiver is
           connected (usually the local server).

       <b>-a</b> <u>archive</u>, <b>--attach-to</b> <u>archive</u>
           Attach an archive to the store of the user specified with the <u>-u</u> option. If no additional options are
           specified, a folder will be created in the archive store, which will act as the root of the archive
           for the user. The foldername will be set to the username of the user. This behavior can be changed by
           providing the <u>--archive-folder</u> or <u>--no-folder</u> option.

       <b>-d</b> <u>archive</u>, <b>--detach-from</b> <u>archive</u>
           Detach an archive from the store of the user specified with the <u>-u</u> option. kopano-archiver will
           automatically determine which folder to detach. However if a user has two archives in one archive
           store, kopano-archiver won't be able to tell which one needs to be detached. In this case the folder
           needs to be specified with the <u>--archive-folder</u> option.

       <b>-D</b> <u>archiveno</u>, <b>--detach</b> <u>archiveno</u>
           Detach an archive from the store of the user specified with the <u>-u</u> option. The archive to detach is
           indicated by archiveno and can be obtained by running <b>kopano-archiver</b> <b>-u</b> <u>username</u> <b>-l</b>

       <b>--auto-attach</b>
           When no user is specified with -u, all users will have their archives attached or detached based on
           the LDAP/ADS settings. If a user is specified only that user's store will be processed. This option
           can be combined with <u>-A</u> to force an auto-attach run regardless of the <u>enable_auto_attach</u>
           configuration option.

       <b>--dump-config</b>
           Displays the values of <b>archiver.cfg</b> configuration parameters and the implied defaults.

</pre><h4><b>OPTIONS</b></h4><pre>
       The options used by actions are as follows:

       <b>-u</b> <u>username</u>
           Use this parameter to specify a user on which store to perform the provided action.

       <b>--local-only</b>
           If this option is passed when an archive run is started, only stores that exist on the server to
           which kopano-archiver is connected will be archived.

       <b>--archive-folder</b> <u>foldername</u>
           Use this option to force kopano-archiver to create the archive folder with a different name than the
           username of the user for whom to attach an archive.

       <b>--archive-server</b> <u>serverpath</u>
           Use this option to specify the path to the archive server. This is useful when using the archiver in
           a non-multiserver setup.

       <b>--no-folder</b>
           Use this option to force kopano-archiver to create the root of the archive in the root of the archive
           store (IPM subtree). This way only one user store can be attached to an archive.

       <b>-w</b>
           By default kopano-archiver makes an archive read-only for the user. By passing this option, the user
           will get read/write permissions in the attached archive.

           This will override the <u>auto_attach_writable</u> configuration options when auto attaching archives.

       <b>--writable</b> <u>yes|no</u>
           Explicitly enable or disable write permissions when (auto) attaching archives.

           This will override the <u>auto_attach_writable</u> configuration options when auto attaching archives.

       <b>-c</b> <u>file</u>
           Select an alternate config file to be used by kopano-archiver.

           Default: <u>/etc/kopano/archiver.cfg</u>

</pre><h4><b>EXAMPLES</b></h4><pre>
       For attaching an archive:

       <b>kopano-archiver</b> <b>-u</b> <u>username</u> <b>--attach-to</b> <u>archive</u>

       For attaching an archive with a custom archive name:

       <b>kopano-archiver</b> <b>-u</b> <u>username</u> <b>--attach-to</b> <u>archive</u> <b>--archive-name</b> <u>archivename</u>

       For attaching an archive without an archive folder:

       <b>kopano-archiver</b> <b>-u</b> <u>username</u> <b>--attach-to</b> <u>archive</u> <b>--no-folder</b>

       For detaching an archive:

       <b>kopano-archiver</b> <b>-u</b> <u>username</u> <b>--detach-from</b> <u>archive</u>

       For starting an archive run:

       <b>kopano-archiver</b> <b>-A</b>

       For starting an archive run for one user:

       <b>kopano-archiver</b> <b>-u</b> <u>username</u> <b>-A</b>

       For starting a cleanup run:

       <b>kopano-archiver</b> <b>-C</b>

       For starting a cleanup run for one user:

       <b>kopano-archiver</b> <b>-u</b> <u>username</u> <b>-C</b>

</pre><h4><b>AUTHOR</b></h4><pre>
       Written by Kopano.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man8/kopano-server.8.html">kopano-server</a></b>(8), <b><a href="../man5/kopano-archiver.cfg.5.html">kopano-archiver.cfg</a></b>(5)

Kopano 8                                          November 2016                               <u><a href="../man8/KOPANO-ARCHIVER.8.html">KOPANO-ARCHIVER</a></u>(8)
</pre>
 </div>
</div></section>
</div>
</body>
</html>