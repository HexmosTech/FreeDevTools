<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>gfdump.postgresql - dump/restore Gfarm metadata</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/gfmd">gfmd_2.7.20+dfsg-1.2_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       gfdump.postgresql - dump/restore Gfarm metadata

</pre><h4><b>SYNOPSIS</b></h4><pre>

       <b>gfdump.postgresql</b> -d [<u>options</u>]

       <b>gfdump.postgresql</b> -r [<u>options</u>]

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>gfdump.postgresql</b> dumps/restores metadata of Gfarm, managed by PostgreSQL running as a backend database.
       You need to execute this command on the host that the backend database of PostgreSQL is running. The
       command reads gfmd.conf, the configuration file of <b>gfmd</b> to get access information about the backend
       database. If <b>gfmd</b> is configured in the non-private mode, the root privilege is required to read the file.

       When <b>gfdump.postgresql</b> is executed with <b>-d</b> option, it dumps the database to the file db.out at the
       current directory.

       When it is executed with <b>-r</b> option, it restores the database from the dump file, db.out at the current
       directory. More specifically, it does the followings.

        1. Stop <b>gfmd</b> if running.

        2. Remove the current database.

        3. Create a database again.

        4. Restore a database from the dump file.

        5. Delete the current journal file of <b>gfmd</b>, if exists.

        6. Start <b>gfmd</b> again.

</pre><h4><b>OPTIONS</b></h4><pre>
       <b>--prefix</b> <u>path</u>
           If this option is given, <b>gfdump.postgresql</b> reads PREFIX/etc/gfmd.conf as the configuration file of
           <b>gfmd</b>. By default, it reads %%SYSCONFDIR%%/etc/gfmd.conf.

       <b>-P</b> <u>prefix</u>
           Specify an installation prefix of the backend database (e.g. <a href="file:/usr/local">/usr/local</a>). When <b>gfdump.postgresql</b>
           executes a PostgreSQL command such as <b>pg_dump</b>, it assumes the command is installed under the given
           prefix. If this option is omitted, <b>gfdump.postgresql</b> searches directories listed in the environment
           variable <b>PATH</b> for the commands.

       <b>-l</b>
           Specify a path to the directory where the backend database puts files to store metadata of Gfarm.

           If the backend database is PostgreSQL, the directory is commonly called PGDATA directory. The default
           is PREFIX/var/gfarm-pgsql where PREFIX is a prefix given by <b>--prefix</b> option.

       <b>-f</b> <u>file</u>
           Specify the name of dump file. The default is db.out at the current directory.

       <b>--help</b>
           Show usage, then exit.

       <b>-t</b>
           Show values of configurable parameters in human readable format, then exit immediately.

       <b>-d</b>
           Dump mode.

       <b>-n</b>
           Do not start/stop <b>gfmd</b>.

       <b>-r</b>
           Restore mode.

</pre><h4><b>FILES</b></h4><pre>
       %%SYSCONFDIR%%/gfmd.conf
           configuration file for <b>gfmd</b>

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man1/pg_dump.1.html">pg_dump</a></b>(1), <b><a href="../man1/dropdb.1.html">dropdb</a></b>(1), <b><a href="../man1/createdb.1.html">createdb</a></b>(1), <b><a href="../man1/psql.1.html">psql</a></b>(1), <b><a href="../man8/gfmd.8.html">gfmd</a></b>(8)

Gfarm                                              30 Jan 2015                              <u><a href="../man8/GFDUMP.POSTGRESQL.8.html">GFDUMP.POSTGRESQL</a></u>(8)
</pre>
 </div>
</div></section>
</div>
</body>
</html>