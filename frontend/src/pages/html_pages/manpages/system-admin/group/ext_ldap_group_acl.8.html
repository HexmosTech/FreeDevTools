<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ext_ldap_group_acl - Squid LDAP external acl group helper</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/squid">squid_6.13-1ubuntu2_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       ext_ldap_group_acl - Squid LDAP external acl group helper

       Version 2.18

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>ext_ldap_group_acl</b> <b>-b</b> base-DN <b>-f</b> filter <b>[</b> options <b>]</b> <b>[</b> server <b>[</b> <b>':'</b> port <b>]</b> <b>|</b> URI <b>]</b> <b>...</b>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>ext_ldap_group_acl</b>  allows Squid to connect to a LDAP directory to authorize users via LDAP groups.  LDAP
       options are specified as parameters on the command line, while the username(s) and group(s) to be checked
       against the LDAP directory are specified on subsequent lines of input to the helper,  one  username/group
       pair per line separated by a space.

       As  expected  by the <b>external_acl_type</b> construct of Squid, after specifying a username and group followed
       by a new line, this helper will produce either <b>OK</b> or <b>ERR</b> on the following line to show if the user  is  a
       member of the specified group.

       The  program operates by searching with a search filter based on the users user name and requested group,
       and if a match is found it is determined that the user belongs to the group.

</pre><h4><b>OPTIONS</b></h4><pre>
       <b>-a</b> <u>never|always|search|find</u>
                   When to dereference aliases. Defaults to 'never'

                   <b>never</b> dereference aliases (default), <b>always</b> dereference aliases, only during a <b>search</b> or only
                   to <b>find</b> the base object

       <b>-b</b> <u>basedn</u>   <b>REQUIRED.</b>  Specifies the base DN under which the groups are located.

       <b>-B</b> <u>basedn</u>   Specifies the base DN under which the users are located (if different)

       <b>-c</b> <u>connect_timeout</u>
                   Specify timeout used when connecting to LDAP servers (requires Netscape LDAP API libraries)

       <b>-d</b>          Debug mode where each step taken will get reported in detail.  Useful for understanding  what
                   goes wrong if the result is not what was expected.

       <b>-D</b> <u>binddn</u> <b>-w</b> <u>password</u>
                   The DN and password to bind as while performing searches. Required if the LDAP directory does
                   not allow anonymous searches.

                   As  the  password  needs  to be printed in plain text in your Squid configuration and will be
                   sent on the command line to the helper it is strongly  recommended  to  use  a  account  with
                   minimal  associated privileges.  This to limit the damage in case someone could get hold of a
                   copy of your Squid configuration file or extracts the password used from a process listing.

       <b>-D</b> <u>binddn</u> <b>-W</b> <u>secretfile</u>
                   The DN and the name of a file containing the password to bind as while performing searches.

                   Less insecure version of the former parameter pair with two advantages: The password does not
                   occur in the process listing, and the password is not being compromised if someone  gets  the
                   squid configuration file without getting the secretfile.

       <b>-E</b> <u>certpath</u> Enable LDAP over SSL (requires Netscape LDAP API libraries)

       <b>-f</b> <u>filter</u>   LDAP  search filter used to search the LDAP directory for any matching group memberships.  In
                   the filter <b>%u</b> will be replaced by the user name (or DN if the <b>-F</b> or <b>-u</b> options are used)  and
                   <b>%g</b> by the requested group name.

       <b>-F</b> <u>filter</u>   LDAP  search  filter used to search the LDAP directory for any matching users.  In the filter
                   <b>%s</b> will be replaced by the user name. If <b>%</b> is to be included literally in the filter then use
                   <b>%%</b>

       <b>-g</b>          Specifies that the first query argument sent to the helper by Squid is  a  extension  to  the
                   basedn and will be temporarily added in front of the global basedn for this query.

       <b>-h</b> <u>ldapserver</u>
                   Specify the LDAP server to connect to

       <b>-H</b> <u>ldapuri</u>  Specify the LDAP server to connect to by a LDAP URI (requires OpenLDAP libraries)

       <b>-K</b>          Strip Kerberos Realm component from user names (@ separated)

       <b>-p</b> <u>ldapport</u> Specify  an  alternate  TCP port where the LDAP server is listening if other than the default
                   LDAP port 389.

       <b>-P</b>          Use a persistent LDAP connection. Normally the LDAP connection is only open while verifying a
                   users group membership to preserve resources at the LDAP server. This option causes the  LDAP
                   connection  to  be  kept  open,  allowing  it  to  be  reused  for  further user validations.
                   Recommended for larger installations.

       <b>-R</b>          Do not follow referrals

       <b>-s</b> <u>base|one|sub</u>
                   search scope. Defaults to <b>sub</b>

                   <b>base</b> object only,

                   <b>one</b> level below the base object or

                   <b>sub</b>tree below the base object

       <b>-S</b>          Strip NT domain name component from user names (/ or \ separated)

       <b>-t</b> <u>search_timeout</u>
                   Specify time limit on LDAP search operations

       <b>-u</b> <u>attr</u>     LDAP attribute used to construct the user DN from the user name and base dn  without  needing
                   to search for the user.  A maximum of 16 occurrences of <b>%s</b> are supported.

       <b>-v</b> <u>2|3</u>      LDAP protocol version. Defaults to <b>3</b> if not specified.

       <b>-Z</b>          Use TLS encryption

</pre><h4><b>CONFIGURATION</b></h4><pre>
       This helper is intended to be used as an <b>external_acl_type</b> helper in <b>squid.conf</b> <b>.</b>
              <b>external_acl_type</b> <b>ldap_group</b> <b>%LOGIN</b> <b>/path/to/ext_ldap_group_acl</b> <b>...</b>
              <b>acl</b> <b>group1</b> <b>external</b> <b>ldap_group</b> <b>Group1</b>
              <b>acl</b> <b>group2</b> <b>external</b> <b>ldap_group</b> <b>Group2</b>

       <b>NOTE:</b>  When  constructing  search  filters it is recommended to first test the filter using <b>ldapsearch</b> to
       verify that the filter matches what you expect before you attempt to use <b>ext_ldap_group_acl</b>

</pre><h4><b>AUTHOR</b></h4><pre>
       This program  was  written  by  <u>Flavio</u>  <u>Pescuma</u>  <u>&lt;<a href="mailto:flavio@marasystems.com">flavio@marasystems.com</a>&gt;</u>  <u>Henrik</u>  <u>Nordstrom</u>  <u>&lt;hno@squid-</u>
       <u>cache.org&gt;</u>

       Based on prior work in <b>squid_ldap_auth</b> by <u>Glen</u> <u>Newton</u> <u>&lt;<a href="mailto:glen.newton@nrc.ca">glen.newton@nrc.ca</a>&gt;</u>

       This manual was written by <u>Henrik</u> <u>Nordstrom</u> <u>&lt;<a href="mailto:hno@marasystems.com">hno@marasystems.com</a>&gt;</u>

</pre><h4><b>COPYRIGHT</b></h4><pre>
        * Copyright (C) 1996-2024 The Squid Software Foundation and contributors
        *
        * Squid software is distributed under GPLv2+ license and includes
        * contributions from numerous individuals and organizations.
        * Please see the COPYING and CONTRIBUTORS files for details.

       This program and documentation is copyright to the authors named above.

       Distributed under the GNU General Public License (GNU GPL) version 2 or later (GPLv2+).

</pre><h4><b>QUESTIONS</b></h4><pre>
       Questions  on  the  usage  of  this  program  can  be  sent  to  the  <u>Squid</u>  <u>Users</u>  <u>mailing</u>  <u>list</u> &lt;squid-
       <a href="mailto:users@lists.squid-cache.org">users@lists.squid-cache.org</a>&gt;

       Or contact your favorite LDAP list/friend if the question is more related to LDAP than Squid.

</pre><h4><b>REPORTING</b> <b>BUGS</b></h4><pre>
       Bug reports need to be  made  in  English.   See  https://wiki.squid-cache.org/SquidFaq/BugReporting  for
       details of what you need to include with your bug report.

       Report bugs or bug fixes using https://bugs.squid-cache.org/

       Report serious security bugs to <u>Squid</u> <u>Bugs</u> <u>&lt;<a href="mailto:squid-bugs@lists.squid-cache.org">squid-bugs@lists.squid-cache.org</a>&gt;</u>

       Report ideas for new improvements to the <u>Squid</u> <u>Developers</u> <u>mailing</u> <u>list</u> &lt;<a href="mailto:squid-dev@lists.squid-cache.org">squid-dev@lists.squid-cache.org</a>&gt;

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man8/squid.8.html">squid</a></b>(8), <b><a href="../man8/basic_ldap_auth.8.html">basic_ldap_auth</a></b>(8), <b><a href="../man1/ldapsearch.1.html">ldapsearch</a></b>(1), <b><a href="../man7/GPL.7.html">GPL</a></b>(7),
       Your favorite LDAP documentation
       <b>RFC2254</b> - The String Representation of LDAP Search Filters,
       The Squid FAQ wiki https://wiki.squid-cache.org/SquidFaq
       The Squid Configuration Manual <a href="http://www.squid-cache.org/Doc/config/">http://www.squid-cache.org/Doc/config/</a>

                                                 30 January 2005                           <u><a href="../man8/ext_ldap_group_acl.8.html">ext_ldap_group_acl</a></u>(8)
</pre>
 </div>
</div></section>
</div>
</body>
</html>