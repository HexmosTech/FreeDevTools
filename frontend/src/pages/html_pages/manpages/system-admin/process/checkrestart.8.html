<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>checkrestart - list processes that need to be restarted after an upgrade</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/debian-goodies">debian-goodies_0.88.2ubuntu1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       checkrestart - list processes that need to be restarted after an upgrade

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>checkrestart</b> [ <u>OPTIONS</u> ]

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>checkrestart</b> finds processes that are using files that have been deleted.

       This  is  particularly  important  after  security  upgrades  because many debian packages do not restart
       processes after an upgrade: files that were used by processes started before the upgrade will  remain  in
       memory until the process is restarted: the processes is likely to be vulnerable until it is restarted.

       Consequently,  checkrestart is sometimes used as an audit tool to find services that need to be restarted
       after security upgrades. Administrators should not, however, rely on its output alone (see <b>BUGS</b> below).

       checkrestart needs to run as root in order to obtain a complete list of deleted files that are in use. If
       run as a non-root user the output will be incomplete: programs started by other users are  likely  to  be
       omitted.

       checkrestart will also warn you if other packages have indicated that a reboot is required.

</pre><h4><b>OUTPUT</b></h4><pre>
       checkrestart will output:

       • Whether  any  packages  have  indicated that the system needs rebooting, and if so, which packages have
         done so. This relies on the  packages  adding  themselves  to  <b><a href="file:/run/reboot-required.pkgs">/run/reboot-required.pkgs</a></b>  and  creating
         <b><a href="file:/run/reboot-required">/run/reboot-required</a></b>.

       • The number of processes that need restarting.

       • Which processes are using deleted files. Processes are grouped by the systemd unit that started them or
         the  debian  package that provided them. The <b>--exclude</b> option can be used to exclude processes from the
         results.

       • If the <b>-f</b> option was given then the deleted files used  by  each  process  will  also  be  listed.  The
         <b>--exclude</b> option can be used to ignore the use of individual files.

       • Which  commands  to  run  to  restart  packages.  These  will  be  commands to restart systemd units or
         initscripts. If the system has departed from the Debian default and is not  running  systemd  with  the
         <b><a href="../man7/cgroups.7.html">cgroups</a></b>(7)  feature  then  the  commands should be considered 'suggestions' only: it is not possible to
         reliably determine which initscript started any given process (the <b>--exclude</b>  option  can  be  used  to
         control  such  suggestions). Where commands are potentially disruptive (e.g., restarting <b>systemd-logind</b>
         may result in users being immediately logged out) they can be  marked  with  a  `<b>CAUTION</b>'  note  -  the
         <b>--exclude</b> option can control which commands this applies to.

       If  the  <b>-m</b> option is given then the output is tab-separated and machine-readable (see the description of
       that option below). If the <b>-t</b> option is given then the output is restricted to one line.

</pre><h4><b>OPTIONS</b></h4><pre>
       <b>-h</b>, <b>--help</b>
              Show the program help and exit.

       <b>-f</b>, <b>--show-files</b>
              List the deleted files and which program is using them. The list excludes anything excluded by the
              <b>--exclude</b>) option. Without this only the name of the program using the deleted files is reported.

       <b>-v</b>, <b>--verbose</b>
              Generate detailed output. This turns on the <b>-f</b> option and also indicates why any  exclusions  were
              made.

       <b>-d</b>, <b>--debug</b>
              Include  debugging  details in output. This is intended for investigating bugs and turns on the <b>-v</b>
              option.

       <b>-t</b>, <b>--terse</b>
              Generate just one line of output: this is suitable for monitoring tools such as Nagios  (see  <b>EXIT</b>
              <b>STATUS</b>).

       <b>-m</b>, <b>--machine</b>
              Generate machine readable output. Each line is a tab-separated list.

              First the output shows what needs to be restarted in the form:
              `<u>TYPE</u>  <u>source</u>  <u>pid</u>  <u>program</u>  <u>exe</u>  <b>[</b><u>cmdline</u><b>]</b> <u>deleted</u> <u>type</u>'

              Here  the <u>exe</u> is what is actually running. For scripts this will be the interpreter, but if it can
              be determined, the name of the script will be  reported  as  the  <u>programme</u>  and  the  <u>cmdline</u>  as
              reported  by  <b><a href="file:/proc/">/proc/</a></b><u>pid</u><b>/cmdline</b>  will  be shown.  This can be manipulated by the programme itself,
              unlike the <u>exe</u> which is from <b><a href="file:/proc/">/proc/</a></b><u>pid</u><b>/exe</b>.  <u>type</u> will be <b>Program</b> or <b>Script</b>. The <u>deleted</u> field  is
              usually  blank  but will be <b>Deleted</b> if the <u>exe</u> itself is deleted (this does not work for scripts).
              The <u>source</u> indicates which systemd unit or Debian package is responsible for the <u>programme</u>.

              The <u>TYPE</u> is one of:

              <b>SYSTEMD</b>,
                     if the <u>program</u> was started by the systemd unit named in <u>source</u>.  Restarting that unit  will
                     restart  the  program.   These  lines  will  only  be produced if systemd is being used and
                     version 2 of the <b><a href="../man7/cgroups.7.html">cgroups</a></b>(7) feature is in use (this is the default in Debian).

                     For example,
                     `<b>SYSTEMD</b> <b>foo.service</b> <b>614</b> <b>/usr/bin/foo</b> <b><a href="file:///usr/lib/w3m/cgi-bin/w3mman2html.cgi?python3">/usr/bin/python3</a></b>  <b>['python'</b> <b>'foo']</b>  <b>Script</b>'
                     means that restarting the <b>foo.service</b> unit will restart the python script <b>foo</b> with pid 614.

              <b>PACKAGE_SYSTEMD</b>,
                     if <u>program</u> is part of the package named in <u>source</u> and the  package  also  ships  a  systemd
                     unit:  restarting that unit may restart the programe, but this is only a suggestion - it is
                     not guaranteed that it will work. You can control which units are suggested  using  the  <b>-x</b>
                     option.  These lines will only be produced if <b><a href="../man1/systemd.1.html">systemd</a></b>(1) is in use without version 2 of the
                     <b><a href="../man7/cgroups.7.html">cgroups</a></b>(7) feature.

                     For example, `<b>PACKAGE_SYSTEMD</b> <b>gdm3</b> <b>206</b> <b>/usr/libexec/gdm-session-worker</b> <b>...</b>'  means that the
                     <b>gdm3</b> package provides <b>gdm-session-worker</b> and some unit in that  package  that  may  restart
                     that programme.

              <b>SERVICE</b>,
                     if  <u>program</u>  is  part of a package named in <u>source</u> that ships an initscript. Restarting the
                     initscript may therefore restart the program, but this is not known for sure (there  is  no
                     way to tell which initscipt started a program). You will only see these lines if you do not
                     run  systemd.  These  lines  are  produced if you run systemd without cgroups version 2: if
                     systemd is in use you will then get <b>PACKAGE_SYSTEMD</b> in preference  to  <b>SERVICE</b>  lines  when
                     packages  provide  both  units  and initscripts. If systemd is not in use you will only get
                     <b>SERVICE</b> lines.

              <b>OTHER</b>, if <u>program</u> is in none of the above categories. These programs, whether or not they are from
                     packages, still need restarting but the user will need to do so by hand. These lines can be
                     produced whether systemd is in use or not. A <u>program</u> not in any package is treated as if it
                     was in a package named `<b>Unpackaged:</b> <u>program</u>', the part after the colon being the name,  not
                     the path, of the <u>program</u>. (If <b>-p</b> is in use then unpackaged programs are excluded).

                     For example, `<b>OTHER</b> <b>emacs-gtk</b> <b>206706</b> <b>/usr/bin/emacs-gtk</b>...' could be emitted if <b><a href="../man1/emacs.1.html">emacs</a></b>(1) is
                     using deleted files.

              The next set of lines show the commands that will restart <u>program</u>s in the <b>SYSTEMD</b> lines, and which
              may restart <u>program</u>s in the <b>PACKAGE_SYSTEMD</b> or <b>SERVICE</b> lines. These look like:

                     <b>SYSTEMD_COMMAND</b> <b>systemctl</b> <b>restart</b> <u>unit</u>
                            produced by any <b>SYSTEMD</b> lines

                     <b>SYSTEMD_COMMAND</b> <b>systemctl</b> <b>restart</b> <u>unit</u> <b>#</b> <b>suggested</b> <b>-</b> <b>from</b> <b>package</b> <u>package</u>
                            produced  by any <b>PACKAGE_SYSTEMD</b> lines: the comment shows which package contains the
                            suggested unit. If a package provides multiple units they  will  all  be  listed  on
                            separate lines. You can use the '<b>--dont-suggest-unit</b>' option to remove these lines.

                     <b>SERVICE_COMMAND</b> <b>service</b> <b>restart</b> <u>initscript</u> <b>#</b> <b>suggested</b> <b>-</b> <b>from</b> <b>package</b> <u>package</u>
                            which  relate  to  <b>SERVICE</b>  lines:  the  comment  shows  which  package contains the
                            suggested initscript. If a package provides multiple initscripts they  will  all  be
                            listed  on  separate  lines.  You  can use the `<b>--dont-suggest-initscript</b>' option to
                            remove these lines.

                     <b>#</b> <b>CAUTION:</b> <b>...</b>
                            Lines prefixed by a this comment are potentially disruptive: The command  does  need
                            to  be  run,  but  doing  to  may cause issues (such as terminating your whole gnome
                            session): see the `<b>--dangerous-unit</b>' and `<b>--dangerous-initscript</b>' options.

              If the <b>-f</b> option is also present the output will include a line for each deleted files, these  are
              tab-separated lines that look like: `<b>file</b> <u>path</u> <u>pid</u> <u>exe</u> <b>[</b><u>cmdline</u><b>]</b> <u>deleted</u> <u>type</u>' showing the path to
              the file and then details of the process using it (fields are explained above).

              If  the <b>-v</b> option is also present there will include lines explaining anything excluded. These are
              also tab separated and are similar to the fields used above.

       <b>-x</b>, <b>--exclude</b> [<u>TYPE</u><b>:</b>]<u>REGEXP</u>
              Exclude all things of the given <u>TYPE</u> that match <u>REGEXP</u>.  This option can be used multiple times to
              make  multiple  exclusions,  and  anything  added  is  combined  with  entries  from  the  various
              configuration files (see the <b>CONFIGURATION</b> <b>FILES</b> section below) and from any files loaded with <b>-b</b>.
              You may need to insert single quotes around the whole argument if it contains characters such as <b>$</b>
              that  your  shell treats specially.  (e.g., `<b>checkrestart</b> <b>-x</b> <b>'file:(\.sh$|foo)</b>') The word <u>TYPE</u> can
              be one of the following:

                     <b>package</b>, which excludes programs from the debian package whose name matches <u>REGEXP</u>.
                            For example, to exclude <b>/usr/bin/sshd</b> you can use:  `<b>-x</b>  <b>package:^openssh-server\$</b>'.
                            Programs  not  from  any  package  are treated as if they were provided by a package
                            called `<b>Unpackaged:</b> <u>program</u>', so you can ignore them in the  same  way  as  packaged
                            programs (for example,`<b>-x</b> <b>package:^Unpackaged:\sfoo</b>' will ignore a locally installed
                            <b>/opt/foo</b>).

                     <b>unit</b>, which excudes all programs started by the systemd unit whose name matches <u>REGEXP</u>.
                            For   example,   under   systemd,   you   can   exclude   <b>/usr/sbin/exim4</b>  using  <b>-x</b>
                            <b>unit:^exim4\.service$</b> . This  will  work  even  if  the  package  only  provided  an
                            initscript (systemd will generate a virtual unit using <b><a href="../man1/systemd-sysv-generator.1.html">systemd-sysv-generator</a></b>(1)).

                            This  option  requires that version 2 of the cgroups feature is in use (which is the
                            default in Debian). It has no effect if <b><a href="../man1/systemd.1.html">systemd</a></b>(1) is not being used.

                     <b>program</b>, which excludes all programs whose path matches <u>REGEXP</u>.
                            For example, use `<b>-x</b> <b>program:^<a href="file:/usr/local/bin/">/usr/local/bin/</a></b>' to exclude a whole directory.

                     <b>pid</b>,   which excludes the process with a process id (pid) matching <u>REGEXP</u>.  For example, <b>-x</b>
                            <b>pid:^1\$</b> excludes the init. Note that <u>REGEXP</u> is still a regular expression so use of
                            <b>^</b> and <b>$</b> are recommended to avoid excluding too much.

                     <b>file</b>, which excludes processes using deleted files that match <u>REGEXP</u>.
                            For example, `<b>-x</b> <b>file:libz\.so\..+</b>' will exclude everything using (any  version  of)
                            the libz library.  If no <u>TYPE</u> is specified then it is the same as using <b>file</b>.

                     <b>dangerous-unit</b>
                            which  does  not  exclude  anything  from being reported as using deleted files, but
                            instead marks any commands involving that unit  with  a  <b>CAUTION</b>  warning.  This  is
                            intended  to  be used when restarting a unit is potentially disruptive. For example,
                            restarting gdm3.service will terminate the entire gnome session. It still  needs  to
                            be  done  to  ensure gnome stops using deleted files, but the user will want to pick
                            their moment.

                     <b>dangerous-initscript</b>
                            which does not exclude anything from being reported  as  using  deleted  files,  but
                            instead marks any commands involving that initscript with a <b>CAUTION</b> warning. This is
                            intended  to  be  used  when restarting an initscript is potentially disruptive. For
                            example, restarting gdm3 will terminate the entire gnome session. It still needs  to
                            be  done  to  ensure gnome stops using deleted files, but the user will want to pick
                            their moment.

                     <b>suggested-unit</b>,
                            which does not exclude anything from being reported  as  using  deleted  files,  but
                            instead  stops  <b>checkrestart</b>  from suggesting that a systemd service matching <u>REGEXP</u>
                            can restart any programme. This is only relevant to systems running systemd and  not
                            using  cgroups  version 2. On such systems, if a process is found to be started by a
                            unit then that unit will always be suggested as the way to restart the process.  But
                            when  a  process  is  not  started  by  a service, <b>checkrestart</b> looks in the package
                            providing the unit and suggests all units as possible ways to restart  the  process.
                            For  example,  /usr/libexec/gdm-session-worker  from  the gdm3 package is started by
                            gnome but does not appear in  the  cgroup  created  by  the  gdm3.service.  However,
                            gdm3.service  will  still  be suggested as a way to restart this process. Setting <b>-x</b>
                            <b>done-suggest:^gdm3.service\$</b> will prevent that suggestion being made.

                     <b>suggested-initscript</b>,
                            which does not exclude anything from being reported  as  using  deleted  files,  but
                            instead  stops  <b>checkrestart</b>  from suggesting that an initscript matching <u>REGEXP</u> can
                            restart a programme. If systemd is not being used, or a process was not found  in  a
                            systemd  cgroup,  then  <b>checkrestart</b> suggests that all initscripts from the relevant
                            package can restart the process unless their  path  matches  a  <b>suggested-initscript</b>
                            <u>REGEXP</u>.   For  example,  the  default settings include <b>-x</b> <b>'initscript:\.sh$'</b> so that
                            <b>/etc/init.d/hwclock.sh</b> will never be (incorrectly) suggested as  a  way  to  restart
                            <b><a href="file:/sbin/getty">/sbin/getty</a></b> even though both are from the <b>util-linux</b> package.

                            This  is  mostly  useful  for  non-systemd  systems  since  on  systemd, the cgroups
                            mechanism will be used to find exactly which unit started each process.

       <b>-i</b> <u>REGEXP</u>, <b>--exclude-package</b> <u>REGEXP</u>
              Is the same as <b>-x</b> <b>package:</b><u>REGEXP</u>

       <b>--exclude-unit</b> <u>REGEXP</u>
              Is the same as <b>-x</b> <b>unit:</b><u>REGEXP</u>

       <b>--exclude-program</b> <u>REGEXP</u>
              Is the same as <b>-x</b> <b>program:</b><u>REGEXP</u>

       <b>-e</b> <u>PID</u>, <b>--exclude-pid</b> <u>REGEXP</u>
              Is the same as <b>-x</b> <b>pid:</b><u>REGEXP</u>

       <b>--exclude-file</b> <u>REGEXP</u>
              Is the same as <b>-x</b> <b>file:</b><u>REGEXP</u>

       <b>--dont-suggest-unit</b> <u>REGEXP</u>
              Is the same as <b>-x</b> <b>suggested:</b><u>REGEXP</u>

       <b>--dangerous-unit</b> <u>REGEXP</u>
              Is the same as <b>-x</b> <b>dangerous-unit:</b><u>REGEXP</u>

       <b>--dangerous-initscript</b> <u>REGEXP</u>
              Is the same as <b>-x</b> <b>dangerous-initscript:</b><u>REGEXP</u>

       <b>--dont-suggest-initscript</b> <u>REGEXP</u>
              Is the same as <b>-x</b> <b>initscript:</b><u>REGEXP</u>

       <b>-a</b>, <b>--all</b>
              Prevents the <b>exclude.conf</b> and <b>local-exclude.conf</b> files from being read and removes the  effect  of
              all  <b>--exclude*</b>  and  <b>-b</b>  arguments given earlier on the command line.  This means nothing will be
              excluded. This can then be followed by further uses of those arguments to rebuild the  'exclusion'
              settings exactly how you want them.  It does not reset anything added through the <b>--dont-suggest-*</b>
              or  <b>--dangerous-*</b>  options,  or  prevent the <b>suggestions.conf</b> or <b>local-suggestions.conf</b> files from
              being read (see the <b>CONFIGURATION</b> <b>FILES</b> section below).

       <b>-p</b>, <b>--package</b>
              Only report things that belong to a package. This applies to files,  programmes,  initscripts  and
              units:  anything  not  from  Debian  packages  is  ignored.  (If you want to exclude an individual
              package, see the <b>-x</b> option.)

       <b>-n</b>, <b>--no-lsof</b>
              Do not use <b><a href="../man8/lsof.8.html">lsof</a></b>(8) to find deleted files. lsof may be slow if there are a  large  number  of  open
              files, and this option will cause <b>checkrestart</b> to use an alternative mechanism for finding deleted
              files.  If <b><a href="../man8/lsof.8.html">lsof</a></b>(8) is not installed the alternative mechanism with be used automatically.

       <b>-b</b> <u>FILE</u>, <b>--blocklistfile</b> <u>FILE</u>
              Any deleted files matching patterns (Python regular expressions) in <u>file</u> will be ignored. Lines in
              <u>file</u> that are blank or start with '#' are skipped. This option can be used multiple times.

</pre><h4><b>CONFIGURATION</b> <b>FILES</b></h4><pre>
       If   they   exist,   the   files   <b>/etc/checkrestart/local-exclude.conf</b>,  <b>/etc/checkrestart/exclude.conf</b>,
       <b>/etc/checkrestart/local-suggestions.conf</b>,  and  <b>/etc/checkrestart/suggestions.conf</b>  files  are  read   to
       provide  defaults  for  the <b>-x</b> option. Blank lines and lines starting with a <b>#</b> are ignored, and any other
       line is passed to the <b>-x</b> option.

       The idea is that Debian provides  defaults  for  <b>--exclude-*</b>  in  <b>exclude.conf</b>,  defaults  for  (for  and
       <b>--dont-suggest-*</b> and <b>--dangerous-*</b> in <b>suggestions.conf</b>, and you can add your own via the two <b>local-*.conf</b>
       files.

       However  you can actually put anything understood by <b>-x</b> into either file: The only difference is that the
       <b>-a</b>  option  prevents  the  two  <b>exclude.conf</b>  files  from  being  read,  but  does  not  affect  the  two
       <b>suggestions.conf</b> files at all.

       The  <b>-b</b>  option  also  allows  you  to  add another file with the same syntax, and again this can contain
       anything understood by <b>-x</b>.

</pre><h4><b>EXIT</b> <b>STATUS</b></h4><pre>
       The program will exit with error status 1 when there are deleted open files, 0 when there are none (after
       filtering out anything excluded through the <b>--exclude</b> options), and 3 if rheee are errors. This  provides
       compatibility with automated monitoring tools such as Nagios (for which you may wish to use the <b>-t</b> option
       to get a single line of output).

</pre><h4><b>EXAMPLES</b></h4><pre>
       Running as a normal user
         <b>$</b> <b>checkrestart</b>
         WARNING: This program should be run as root: information will be incomplete
         1 non-ignored program(s) or unit(s) need restarting (see <a href="../man8/checkrestart.8.html">checkrestart</a>(8))

         The following are using deleted files but there is no suggested way to restart them:
         emacs-gtk:
                 Program /usr/bin/emacs-gtk (PID: 655075, CMDLINE: 'emacs -nw')

       Running as root:
         <b>#</b> <b>checkrestart</b>
         3 non-ignored program(s) or unit(s) need restarting (see <a href="../man8/checkrestart.8.html">checkrestart</a>(8))

         The following systemd units started programmes that are using deleted files:
         cron.service:
           Program <a href="file:///usr/lib/w3m/cgi-bin/w3mman2html.cgi?cron">/usr/sbin/cron</a> (PID: 626, CMDLINE: '<a href="file:///usr/lib/w3m/cgi-bin/w3mman2html.cgi?cron">/usr/sbin/cron</a> -f')
         dbus.service:
           Program  <a href="file:///usr/lib/w3m/cgi-bin/w3mman2html.cgi?dbus-daemon">/usr/bin/dbus-daemon</a>  (PID:  627, CMDLINE: '<a href="file:///usr/lib/w3m/cgi-bin/w3mman2html.cgi?dbus-daemon">/usr/bin/dbus-daemon</a> --system --address=systemd:
       --nofork --nopidfile --systemd-activation --syslog-only')

         The following are using deleted files but there is no suggested way to restart them:
         emacs-gtk:
           Program /usr/bin/emacs-gtk (PID: 655075, CMDLINE: 'emacs -nw')

         Systemd commands:
         systemctl restart cron.service
         # CAUTION: systemctl restart dbus.service

       Excluding things from the results, and listing files with <b>-f</b>

         <b>#</b> <b>checkrestart</b> <b>-x</b> <b>'unit:^dbus.service$'</b> <b>\</b>
                        <b>-x</b> <b>'program:^<a href="file:/usr/bin/">/usr/bin/</a>(emacs|vim)'</b> <b>\</b>
                        <b>--dangerous-unit</b> <b>'^(ana)?cron.service$'</b> <b>\</b>
                        <b>--show-files</b>
         1 non-ignored program(s) or unit(s) need restarting (see <a href="../man8/checkrestart.8.html">checkrestart</a>(8))

         The following systemd units started programmes that are using deleted files:
         cron.service:
           Program <a href="file:///usr/lib/w3m/cgi-bin/w3mman2html.cgi?cron">/usr/sbin/cron</a> (PID: 626, CMDLINE: '<a href="file:///usr/lib/w3m/cgi-bin/w3mman2html.cgi?cron">/usr/sbin/cron</a> -f')
             /lib/x86_64-linux-gnu/ld-2.31.so

         Systemd commands:
         # CAUTION: systemctl restart cron.service

</pre><h4><b>BUGS</b></h4><pre>
       <b>checkrestart</b> will not detect if a script was itself deleted.

       <b>checkrestart</b> will be generate false positives if non-deleted files  or  programs  have  names  ending  in
       `<b>(deleted)</b>'.

       <b>checkrestart</b>  may  report  the  wrong  name,  if  a  program is actually a script. Common scripts will be
       detected.

       <b>checkrestart</b> will believe whatever a process writes into  <b>/proc/pid/cmdline</b>,  so  may  report  the  wrong
       program name. (See <b><a href="../man5/proc.5.html">proc</a></b>(5)).

       <b>checkrestart</b>  can  only report that processes using deleted files, and assumes that these always indicate
       that a restart is needed: it cannot tell whether deleted files are expected or  whether  they  should  be
       flagged (other than what you tell it via the various <b>-x</b> options).

       If  you  find  a  bug,  please provide the following information when submitting a bug report against the
       <b>checkrestart</b> package (using <b><a href="../man1/reportbug.1.html">reportbug</a></b>(1)):

       • The output from <b>checkrestart</b> <b>--debug</b> (include any other options that trigger the bug)

       • The output from running the following command as root: <b>lsof</b> <b>|</b> <b>grep</b> <b>-E</b> <b>'delete|DEL|path</b> <b>inode'</b>

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man8/needrestart.8.html">needrestart</a></b>(8)
              is a similar tool to <b>checkrestart</b>.  It runs when new versions of debian  packages  are  installed,
              whereas  <b>checkrestart</b>  can  run at any time.  The two can be used together, and may give different
              results - although if <b>needrestart</b> finds something that <b>checkrestart</b> does not then that is a bug in
              <b>checkrestart:</b> please report such instances using <b><a href="../man1/reportbug.1.html">reportbug</a></b>(1).

              <b>needrestart</b> is also intended to do the  restarting  automatically,  whereas  <b>checkrestart</b>  is  for
              reporting and will leave taking action to the humans.

       <b><a href="../man8/lsof.8.html">lsof</a></b>(8),
              is a generic tool for investigating which files are in use.  <b>checkrestart</b> uses this (unless the <b>-n</b>
              option is given)

       <b><a href="../man1/pmap.1.html">pmap</a></b>(1),
              is another tool for inspecting which files are loaded. The <b>-n</b> option uses this.

       <b><a href="../man5/proc.5.html">proc</a></b>(5),
              is a pseudo filesystem that contains information about running processes.

       <b><a href="../man7/cgroups.7.html">cgroups</a></b>(7),
              explains  the  control  groups  mechanism  used  by <b><a href="../man1/systemd.1.html">systemd</a></b>(1) to keep related processes together.
              <b>checkrestart</b> assumes version 2 is in use if systemd is running.

       <b><a href="../man1/systemctl.1.html">systemctl</a></b>(1),
              is the generic tool to restart services under <b><a href="../man1/systemd.1.html">systemd</a></b>(1).

       <b><a href="../man1/service.1.html">service</a></b>(1)
              is the generic tool to restart services if <b>systemd</b> is not in use.

</pre><h4><b>AUTHOR</b></h4><pre>
       <b>checkrestart</b> was written by Matt Zimmerman for the Debian GNU/Linux distribution. It was  later  improved
       by  Javier  Fernandez-Sanguino  with contributions from many different users and developers of the Debian
       GNU/Linux distribution.

</pre><h4><b>COPYRIGHT</b> <b>AND</b> <b>LICENSE</b></h4><pre>
       Copyright (C) 2001 Matt Zimmerman &lt;<a href="mailto:mdz@debian.org">mdz@debian.org</a>&gt;
       Copyright (C) 2007-2020 Javier Fernandez-Sanguino &lt;<a href="mailto:jfs@debian.org">jfs@debian.org</a>&gt;
       Copyright (C) 2013-2020 Axel Beckert
       Copyright (C) 2022 Richard Lewis

       This program is free software; you can redistribute it and/or modify  it  under  the  terms  of  the  GNU
       General  Public  License  as  published  by  the  Free Software Foundation; either version 2, or (at your
       option) any later version.

       On Debian systems, a copy of the GNU General Public License version 2 can be found in  /usr/share/common-
       licenses/GPL-2.

debian-goodies                                  December 19 2006                                 <u><a href="../man8/checkrestart.8.html">checkrestart</a></u>(8)
</pre>
 </div>
</div></section>
</div>
</body>
</html>