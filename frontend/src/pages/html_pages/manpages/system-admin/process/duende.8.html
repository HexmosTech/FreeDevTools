<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>duende - run a child process as a daemon</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/jammy/+package/duende">duende_2.0.13-1.4+deb11u1build0.22.04.1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       duende - run a child process as a daemon

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>duende</b> makes a given child process a daemon. The standard output and standard error of the child process
       is logged via syslog() with a priority of LOG_ALERT.

</pre><h4><b>USAGE</b></h4><pre>
       <b>duende</b> [<b>options</b>] child_process [ arguments passed onto child ]

</pre><h4><b>DETAILS</b></h4><pre>
       When <b>duende</b> is invoked, it spawns two processes. In addition to spawning the daemonized child process,
       <b>duende</b> also spawns a process which reads and logs the standard output of the daemonized process. The
       parent process stays alive so as to monitor the daemonized process.

       <b>duende</b> requires a blank directory named /etc/maradns/logger to run.

       Should the parent duende process a HUP signal, <b>duende</b> will restart the child process. Should the
       daemonized or logging process received an untrapped HUP signal or exit with an exit code of 8, <b>duende</b>
       will restart the process. Should the daemonized or logging process exit for any other reason, <b>duende</b> will
       send the logger process a TERM signal and exit.  Should the duende parent process receive a TERM or INT
       signal, <b>duende</b> sends all of its children TERM signals, then exits.

       The duende process must be started as the superuser; this is because Duende's intended child processes
       (maradns and zoneserver) need to bind to privileged ports, and because duende uses a setuid() call to
       change the user ID of the logging process to the user with ID 66.

</pre><h4><b>OPTIONS</b></h4><pre>
       Most of the above behaviour can be configured by command line arguments.

       <b>-c</b><u>|</u><b>--chroot</b> <u>directory</u>
           The  log  helper  process  will  change  its  directory  and root to this location.  This defaults to
           <b>/etc/maradns/logger</b> <b>.</b>

       <b>-i</b><u>|</u><b>--ident</b> <u>string</u>
           The log helper process will use this string to identify the process when sending messages to  syslog.
           This defaults to <b>log-help</b> <b>.</b>

       <b>-p</b><u>|</u><b>--pid</b> <u>filename</u>
           If this argument is present, the duende parent process will store its pid in this file.

       <b>-u</b><u>|</u><b>--uid</b> <u>integer</u>
           The log helper process will drop its user id to this. This value defaults to 66.

       <b>-g</b><u>|</u><b>--gid</b> <u>integer</u>
           The log helper process will drop its group id to this. This value defaults to 66.

       <b>-r</b><u>|</u><b>--restart_on</b> <u>integer</u>
           The  log  helper  process  will  restart  the  child process if it exists with this status code. This
           defaults to 8.

</pre><h4><b>LOGGING</b></h4><pre>
       <b>duende</b> uses the syslog() facility to log the standard output of the program that it invokes. The name  of
       the program (in other words, the "ident" given to openlog()) defaults to <b>log-helper</b> but can be overridden
       with  the  --ident  argument.   All  messages  created  by  the child process are sent to syslog() with a
       priority of LOG_ALERT and a "facility" of LOG_DAEMON (daemon.info in  /etc/syslog.conf).   Should  duende
       itself encounter an error, it will send messages to syslog() with a priority of LOG_ALERT.

       Also,  the  directory  /etc/maradns/logger,  while used by duende, is not used to store any log messages.
       That is unless, for some reason, one configures syslog to store messages there.

</pre><h4><b>EXAMPLES</b></h4><pre>
       Using duende to start maradns, where the mararc file is /etc/mararc.2

       <b>duende</b> <b>maradns</b> -f <u>/etc/mararc.2</u>

       Using duende to start zoneserver, where the mararc file is /etc/mararc.4

       <b>duende</b> <b>zoneserver</b> -f <u>/etc/mararc.4</u>

</pre><h4><b>BUGS</b></h4><pre>
       <b>Duende</b> assumes that all of its children are well-behaved, eating their  vegetables,  going  to  bed  when
       told, and terminating when receiving a TERM signal.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man8/maradns.8.html">maradns</a>(8)</b>, <b><a href="../man3/syslog.3.html">syslog</a>(3)</b>

       <a href="http://www.maradns.org">http://www.maradns.org</a>

</pre><h4><b>LEGAL</b> <b>DISCLAIMER</b></h4><pre>
       THIS  SOFTWARE IS PROVIDED BY THE AUTHORS ''AS IS'' AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT
       NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY  AND  FITNESS  FOR  A  PARTICULAR  PURPOSE  ARE
       DISCLAIMED. IN NO EVENT SHALL THE AUTHORS OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
       SPECIAL,  EXEMPLARY,  OR  CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE
       GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER  CAUSED  AND  ON  ANY
       THEORY  OF  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
       ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.

</pre><h4><b>AUTHOR</b></h4><pre>
       Duende and this man page are written by Sam Trenholme. D Richard  Felker  III  provided  some  invaluable
       assistance with the piping code which <b>duende</b> uses.

January 2003                                         duende                                            <u><a href="../man8/DUENDE.8.html">DUENDE</a></u>(8)
</pre>
 </div>
</div></section>
</div>
</body>
</html>