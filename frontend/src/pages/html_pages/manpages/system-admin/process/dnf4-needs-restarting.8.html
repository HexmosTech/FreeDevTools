<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>dnf4-needs-restarting - DNF needs_restarting Plugin</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/dnf-plugins-core">dnf-plugins-core_4.10.1-4_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       dnf4-needs-restarting - DNF needs_restarting Plugin

       Check for running processes that should be restarted.

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>dnf</b> <b>needs-restarting</b> <b>[-u]</b> <b>[-r]</b> <b>[-s]</b>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <u>needs-restarting</u>  looks  through running processes and tries to detect those that use files from packages
       that have been updated after the given process started. Such processes are reported by this tool.

       Note that in most cases a process should survive update of its binary and libraries it is  using  without
       requiring  to  be  restarted  for  proper  operation. There are however specific cases when this does not
       apply. Separately, processes often need to be restarted to reflect security updates.

       <b>NOTE:</b>
          Needs-restarting will try to guess the boot time using three different methods:

          <b>UnitsLoadStartTimestamp</b>
                 D-Bus property on <b>/org/freedesktop/systemd1</b>.  Works unless  the  system  was  not  booted  with
                 systemd, such as in (most) containers.

          <b>st_mtime</b> <b>of</b> <b><a href="file:/proc/1">/proc/1</a></b>
                 Reflects  the  time  the  first  process was run after booting.  This works for all known cases
                 except machines without a RTC—they awake at the start of the epoch.

          <b><a href="file:/proc/uptime">/proc/uptime</a></b>
                 Seconds field of <b><a href="file:/proc/uptime">/proc/uptime</a></b> subtracted from the current time.  Works for machines without RTC
                 if the current time is reasonably correct.  Does not  work  on  containers  which  share  their
                 kernel with the host—there, the host kernel uptime is returned.

       <b>WARNING:</b>
          Some  systems  are  configured  to read the RTC time in the local time zone. This mode cannot be fully
          supported. It  will  create  various  problems  with  time  zone  changes  and  daylight  saving  time
          adjustments. The RTC time is never updated, it relies on external facilities to maintain it. <b>If</b> <b>at</b> <b>all</b>
          <b>possible,</b>  <b>use</b>  <b>RTC</b>  <b>in</b>  <b>UTC</b>  <b>by</b>  <b>calling</b>  <b>timedatectl</b>  <b>set-local-rtc</b> <b>0</b>.  See <b>man</b> <b>timedatectl</b> for more
          information.

</pre><h4><b>OPTIONS</b></h4><pre>
       All general DNF options are accepted, see <u>Options</u> in <b><a href="../man8/dnf.8.html">dnf</a>(8)</b> for details.

       <b>-u,</b> <b>--useronly</b>
              Only consider processes belonging to the running user.

       <b>-r,</b> <b>--reboothint</b>
              Only report whether a reboot is required (exit code 1) or not (exit code 0).

       <b>-s,</b> <b>--services</b>
              Only list the affected systemd services.

       <b>--exclude-services</b>
              Don’t list stale processes that correspond to a systemd service.

</pre><h4><b>CONFIGURATION</b></h4><pre>
       <b>/etc/dnf/plugins/needs-restarting.d/</b>

       <b>/etc/dnf/plugins/needs-restarting.d/pkgname.conf</b>

       Packages can be added to <b>needs-restarting</b> via conf files in config directory. Config files need  to  have
       <b>.conf</b> extension or will be ignored.

       More  than  one  package is allowed in each file (one package per line) although it is advised to use one
       file for each package.

       Example:

          echo "dwm" &gt; /etc/dnf/plugins/needs-restarting.d/dwm.conf

</pre><h4><b>AUTHOR</b></h4><pre>
       See AUTHORS in your Core DNF Plugins distribution

</pre><h4><b>COPYRIGHT</b></h4><pre>
       2014, Red Hat, Licensed under GPLv2+

4.10.1                                            Jun 20, 2025                          <u><a href="../man8/DNF4-NEEDS-RESTARTING.8.html">DNF4-NEEDS-RESTARTING</a></u>(8)
</pre>
 </div>
</div></section>
</div>
</body>
</html>