<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>oomkill.bt - Trace OOM killer. Uses bpftrace/eBPF.</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/bpftrace">bpftrace_0.23.2-1ubuntu1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       oomkill.bt - Trace OOM killer. Uses bpftrace/eBPF.

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>oomkill.bt</b>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       This traces the kernel out-of-memory killer, and prints basic details, including the system load averages
       at  the  time  of  the  OOM  kill.  This can provide more context on the system state at the time: was it
       getting busier or steady, based on the load averages? This tool may  also  be  useful  to  customize  for
       investigations;  for  example, by adding other task_struct details at the time of OOM, or by adding other
       commands to run at the shell.

       Since this uses BPF, only the root user can use this tool.

</pre><h4><b>REQUIREMENTS</b></h4><pre>
       CONFIG_BPF and bpftrace.

</pre><h4><b>EXAMPLES</b></h4><pre>
       Trace OOM kill events:
              # <b>oomkill.bt</b>

</pre><h4><b>FIELDS</b></h4><pre>
       Triggered by ...
              The process ID and process name of the task that was running when another task was OOM killed.

       OOM kill of ...
              The process ID and name of the target process that was OOM killed.

       loadavg
              Contents of /proc/loadavg. The first three numbers are 1, 5, and 15 minute  load  averages  (where
              the  average  is  an  exponentially  damped  moving  sum,  and  those numbers are constants in the
              equation); then there is the number of running tasks, a slash, and the total number of tasks;  and
              then the last number is the last PID to be created.

</pre><h4><b>OVERHEAD</b></h4><pre>
       Negligible.

</pre><h4><b>SOURCE</b></h4><pre>
       This is from bpftrace.

              https://github.com/bpftrace/bpftrace

       Also  look  in  the  bpftrace  distribution  for a companion _examples.txt file containing example usage,
       output, and commentary for this tool.

       This is a bpftrace version of the bcc tool of the same name. The bcc tool may provide  more  options  and
       customizations.

              https://github.com/iovisor/bcc

</pre><h4><b>OS</b></h4><pre>
       Linux

</pre><h4><b>STABILITY</b></h4><pre>
       Unstable - in development.

</pre><h4><b>AUTHOR</b></h4><pre>
       Brendan Gregg

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <a href="../man1/dmesg.1.html">dmesg</a>(1)

USER COMMANDS                                      2018-09-07                                      <u><a href="../man8/oomkill.bt.8.html">oomkill.bt</a></u>(8)
</pre>
 </div>
</div></section>
</div>
</body>
</html>