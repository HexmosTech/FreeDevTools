<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>pam_userdb - PAM module to authenticate against a db database</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libpam-runtime">libpam-runtime_1.7.0-5ubuntu1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       pam_userdb - PAM module to authenticate against a db database

</pre><h4><b>SYNOPSIS</b></h4><pre>

       <b>pam_userdb.so</b> db=<u>/path/database</u> [debug] [crypt=[crypt|none]] [icase] [dump] [try_first_pass]
                     [use_first_pass] [unknown_ok] [key_only]

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The pam_userdb module is used to verify a username/password pair against values stored in a Berkeley DB
       database. The database is indexed by the username, and the data fields corresponding to the username keys
       are the passwords.

</pre><h4><b>OPTIONS</b></h4><pre>
       crypt=[crypt|none]
           Indicates whether encrypted or plaintext passwords are stored in the database. If it is <b>crypt</b>,
           passwords should be stored in the database in <b><a href="../man3/crypt.3.html">crypt</a></b>(3) form. If <b>none</b> is selected, passwords should be
           stored in the database as plaintext.

       db=/path/database
           Use the /path/database database for performing lookup. There is no default; the module will return
           <b>PAM_IGNORE</b> if no database is provided. Note that the path to the database file should be specified
           without the .db suffix.

       debug
           Print debug information. Note that password hashes, both from db and computed, will be printed to
           syslog.

       dump
           Dump all the entries in the database to the log. Don't do this by default!

       icase
           Make the password verification to be case insensitive (ie when working with registration numbers and
           such). Only works with plaintext password storage.

       try_first_pass
           Use the authentication token previously obtained by another module that did the conversation with the
           application. If this token can not be obtained then the module will try to converse. This option can
           be used for stacking different modules that need to deal with the authentication tokens.

       use_first_pass
           Use the authentication token previously obtained by another module that did the conversation with the
           application. If this token can not be obtained then the module will fail. This option can be used for
           stacking different modules that need to deal with the authentication tokens.

       unknown_ok
           Do not return error when checking for a user that is not in the database. This can be used to stack
           more than one pam_userdb module that will check a username/password pair in more than a database.

       key_only
           The username and password are concatenated together in the database hash as 'username-password' with
           a random value. if the concatenation of the username and password with a dash in the middle returns
           any result, the user is valid. this is useful in cases where the username may not be unique but the
           username and password pair are.

</pre><h4><b>MODULE</b> <b>TYPES</b> <b>PROVIDED</b></h4><pre>
       The <b>auth</b> and <b>account</b> module types are provided.

</pre><h4><b>RETURN</b> <b>VALUES</b></h4><pre>
       PAM_AUTH_ERR
           Authentication failure.

       PAM_AUTHTOK_RECOVERY_ERR
           Authentication information cannot be recovered.

       PAM_BUF_ERR
           Memory buffer error.

       PAM_CONV_ERR
           Conversation failure.

       PAM_SERVICE_ERR
           Error in service module.

       PAM_SUCCESS
           Success.

       PAM_USER_UNKNOWN
           User not known to the underlying authentication module.

</pre><h4><b>EXAMPLES</b></h4><pre>
           auth  sufficient pam_userdb.so icase db=/etc/dbtest

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man3/crypt.3.html">crypt</a></b>(3), <b><a href="../man5/pam.conf.5.html">pam.conf</a></b>(5), <b><a href="../man5/pam.d.5.html">pam.d</a></b>(5), <b><a href="../man7/pam.7.html">pam</a></b>(7)

</pre><h4><b>AUTHOR</b></h4><pre>
       pam_userdb was written by Cristian Gafton &gt;<a href="mailto:gafton@redhat.com">gafton@redhat.com</a>&lt;.

Linux-PAM                                          07/03/2025                                      <u><a href="../man8/PAM_USERDB.8.html">PAM_USERDB</a></u>(8)
</pre>
 </div>
</div></section>
</div>
</body>
</html>