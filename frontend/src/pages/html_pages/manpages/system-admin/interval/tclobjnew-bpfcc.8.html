<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>uobjnew,  cobjnew,  javaobjnew,  rubyobjnew,  tclobjnew  -  Summarize  object  allocations  in high-level</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/bpfcc-tools">bpfcc-tools_0.31.0+ds-7ubuntu2_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       uobjnew,  cobjnew,  javaobjnew,  rubyobjnew,  tclobjnew  -  Summarize  object  allocations  in high-level
       languages.

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>cobjnew</b> <b>[-h]</b> <b>[-C</b> <b>TOP_COUNT]</b> <b>[-S</b> <b>TOP_SIZE]</b> <b>[-v]</b> <b>pid</b> <b>[interval]</b>
       <b>javaobjnew</b> <b>[-h]</b> <b>[-C</b> <b>TOP_COUNT]</b> <b>[-S</b> <b>TOP_SIZE]</b> <b>[-v]</b> <b>pid</b> <b>[interval]</b>
       <b>rubyobjnew</b> <b>[-h]</b> <b>[-C</b> <b>TOP_COUNT]</b> <b>[-S</b> <b>TOP_SIZE]</b> <b>[-v]</b> <b>pid</b> <b>[interval]</b>
       <b>tclobjnew</b> <b>[-h]</b> <b>[-C</b> <b>TOP_COUNT]</b> <b>[-S</b> <b>TOP_SIZE]</b> <b>[-v]</b> <b>pid</b> <b>[interval]</b>
       <b>uobjnew</b> <b>[-h]</b> <b>[-C</b> <b>TOP_COUNT]</b> <b>[-S</b> <b>TOP_SIZE]</b> <b>[-v]</b> <b>[-l</b> <b>{c,java,ruby,tcl}]</b> <b>pid</b> <b>[interval]</b>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       uobjnew traces object allocations in high-level languages (including "malloc") and  prints  summaries  of
       the most frequently allocated types by number of objects or number of bytes.

       This tool relies on USDT probes embedded in many high-level languages, such as C, Java, Ruby, and Tcl. It
       requires a runtime instrumented with these probes, which in some cases requires building from source with
       a  USDT-specific  flag,  such as "--enable-dtrace" or "--with-dtrace". For Java, the Java process must be
       started with the "-XX:+ExtendedDTraceProbes" flag.

       Since this uses BPF, only the root user can use this tool.

</pre><h4><b>REQUIREMENTS</b></h4><pre>
       CONFIG_BPF and bcc.

</pre><h4><b>OPTIONS</b></h4><pre>
       -C TOP_COUNT
              Print the top object types sorted by number of instances.

       -S TOP_SIZE
              Print the top object types sorted by size.

       -v     Print the resulting BPF program, for debugging purposes.

       {c,java,ruby,tcl}
              The language to trace.

       pid    The process id to trace.

       interval
              Wait this many seconds and then print the summary and exit. By default, wait for Ctrl+C to exit.

</pre><h4><b>EXAMPLES</b></h4><pre>
       Trace object allocations in a Ruby process:
              # <b>uobjnew</b> <b>ruby</b> <b>148</b>

       Trace object allocations from "malloc" and print the top 10 by total size:
              # <b>uobjnew</b> <b>-S</b> <b>10</b> <b>c</b> <b>1788</b>

</pre><h4><b>FIELDS</b></h4><pre>
       TYPE   The object type being allocated. For C (malloc), this is the block size.

       ALLOCS The number of objects allocated.

       BYTES  The number of bytes allocated.

</pre><h4><b>OVERHEAD</b></h4><pre>
       Object allocation events are quite frequent, and therefore the overhead from running  this  tool  can  be
       considerable.  Use  with  caution  and  make  sure  to  test  before  using  in a production environment.
       Nonetheless, even thousands of allocations per second will likely  produce  a  reasonable  overhead  when
       investigating a problem.

</pre><h4><b>SOURCE</b></h4><pre>
       This is from bcc.

              https://github.com/iovisor/bcc

       Also look in the bcc distribution for a companion _example.txt file containing example usage, output, and
       commentary for this tool.

</pre><h4><b>OS</b></h4><pre>
       Linux

</pre><h4><b>STABILITY</b></h4><pre>
       Unstable - in development.

</pre><h4><b>AUTHOR</b></h4><pre>
       Sasha Goldshtein

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <a href="../man8/ustat.8.html">ustat</a>(8), <a href="../man8/ugc.8.html">ugc</a>(8), <a href="../man8/memleak.8.html">memleak</a>(8)

USER COMMANDS                                      2018-10-09                                         <u><a href="../man8/uobjnew.8.html">uobjnew</a></u>(8)
</pre>
 </div>
</div></section>
</div>
</body>
</html>