<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>lpc - line printer control program</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/lprng">lprng_3.8.B-9_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       lpc - line printer control program

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>lpc</b>  [  <b>-A</b> ] [ <b>-a</b> ] [ <b>-D</b><u>debugopts</u> ] [ <b>-P</b><u>printer</u> ] [ <b>-S</b><u>server</u> ] [ <b>-U</b><u>username</u> ] [ <b>-V</b> ] [ command [ argument
       ... ] ]

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <u>Lpc</u> is used by the system administrator to control the operation of the line printer  system.   For  each
       line  printer  configured  in  <u>/etc/printcap</u>  or  the  printcaps  specified  in  the  configuration  file
       <u>/etc/lprng/lpd.conf</u> (see <a href="../man5/lpd.conf.5.html">lpd.conf</a>(5)), <u>lpc</u> may be used to:

       •  disable or enable a single or all printer,

       •  disable or enable a single printer's or all printer's spooling queue,

       •  move jobs to the top a queue

       •  find the status of printers, and their associated spooling queues and printer daemons,

       •  start and stop printer servers for a queue with multiple print servers,

       •  hold and release a specific job in a printer queue,

       •  redirect printing to another printer,

       •  restart a printer job after having solved printer problems and let it print from the beginning,

       •  reprint a job

       Without any arguments, <u>lpc</u> will prompt for commands from the standard input.  If arguments are  supplied,
       <u>lpc</u>  interprets the first argument as a command and the remaining arguments as parameters to the command.
       Permission to use spool queue control commands is determined by the printer permissions file (See FILES).

</pre><h4><b>OPERATION</b></h4><pre>
       The operation of each spool queue is controlled by a <u>spoolcontrol</u> file which has a set of keyword options
       and values.  (Other print spoolers have used permissions  bits  of  directories  and  files  for  similar
       purposes).   In  addition,  each  job  in  the  spool  queue  can have a <u>holdfile</u> which contains detailed
       information on how the spooler is to treat the particular job.  The server will update these  files  with
       status  and  other  information as the job is processed.  The <u>lpc</u> command operates by sending requests to
       the <u>lpd</u> server process to update the information in these files and to signal server processes  that  the
       information has been updated.

</pre><h4><b>OPTIONS</b></h4><pre>
       <b>-A</b>   Use authentication specified by the value of the AUTH environment variable.

       <b>-a</b>   Alias for -Pall.

       <b>-P</b><u>printer</u>
            Printer  spool queue to operate on.  if no name is given, the -P option, the printer selected by the
            value of the PRINTER environment variable, or the first entry in the printcap  file  will  be  used.
            When  all  printers  are selected, the LPC command will first attempt to find the printcap entry for
            printer ``all''; the <u>all</u> printcap field value will be a list of printers to control.  If there is no
            printcap entry, then the request is directly forwarded to the default LPD  host,  which  will  do  a
            lookup  for  all  of  the  available printers.  By specifying ``all@host'', the user can control all
            printers on a given host.

       <b>-S</b><u>server</u>
            Send commands to this server, rather than the one specified by the  <b>-P</b><u>printer</u>"  or  printcap  entry.
            This  allows  you  to  use  a  default  printcap entry for authentication information or other setup
            information, but direct queries to a specific server.

       <b>-V</b>   Print program version information

       <b>-U</b><u>username</u>
            Set the user name for the request.  This option is available only to user root  or  to  the  userids
            listed in the <u>allow_user_setting</u> configuration option.

       <b>-D</b><u>debugopts</u>
            Debugging  is  controlled  using  the  <b>-D</b>  option.  This accepts a comma-separated list of debugging
            settings. These settings take one of two forms: <b>facility=value</b> <b>,</b> or <b>value</b> to set an overall  default
            value.  The form -D= will display a list of debugging options.

</pre><h4><b>COMMANDS</b></h4><pre>
       The  following  is  the  alphabetical  list  of  recognized  commands.  The jobcontrol or holdfile fields
       effective are listed as part of the command.

       ?
              Help.  Also, any unrecognized input produces a help listing.

       active [pr@[host]]
              makes a connection to the LPD server for the  specified  printer.   Closes  the  connection  after
              making it.  This is useful for checking to see if a non-LPRng server is active.

       abort { all | printer* }
              Kill the active job and disables unspooling.  The active job will not be deleted from the queue.
              Action: kills server process, updates spool control file <u>printing_disabled</u> field.

       class {all | printer } (off | classlist | X=globmatch)
              Controls  the  class  of  jobs  currently  being  printed.   The  <u>off</u>  option  removes  any  class
              restrictions.  The classlist option is a list of classes; for example A,B,C would release  classes
              A,  B,  and  C  for  printing.  The X=globmatch form performs a match against a control file entry
              starting with the indicated capital letter.  For example,  J=*form1* would allow  jobs  which  had
              the string form1 in their job title to be printed.

       defaultq
              Lists the default queue for the LPC program.

       defaults
              Lists default values for the configuration information.

       debug j all | printer } [string | off ]
              Set  the  debugging string for the specified printer.  This is a diagnostic aid and should be used
              with caution; refer to the reference manual for  details  of  the  debugging  string  format.   In
              general, you can use:
              <u>INTEGER</u> - the integer number sets the general debugging level
              keyword=value
              - sets a debugging variable to a specified value
              keyword - sets a debugging flag
              Action: updates spool control file <u>debug</u> field.

       disable { all | printer }
              Disable spooling to the specified spool queues.  See <u>enable.</u>
              Action: updates spool control file <u>printing_disabled</u> field.

       down {all | printer }
              Disable both queuing and printing for all printers or the selected printer.  See <u>up.</u>
              Action: updates spool control file <u>printing_disabled</u> and <u>spooling_disabled</u> fields.

       enable { all | printer }
              Enable spooling for all printers or the selected printer.
              Action: updates spool control file <u>spooling_disabled</u> field.

       exit or quit
              terminate LPC program

       help
              Print a short help message.

       hold printer { jobid }
              Holds  the  specified  printer  job  (or  jobs) in the queue.  The job will not be printed even if
              spooling and printing is enabled. It must be released  with  the  release  command.   The  holdall
              command or :ah: printcap flag can enable automatic holding of spooled jobs.
              Action:  updates  job  holdfile <u>hold</u> field with time that job was held.  A 0 value release job for
              printing.

       holdall { all | printer ... }
              Turn on automatic job holding of new jobs.  New jobs will  be  marked  as  held,  and  held  until
              released  with  the  release  command.   This  will  be  done until holdall is turned off with the
              noholdall command.  The :ah: printcap flag can enable automatic holding as well.
              Action: updates spool control file <u>holdall</u> field.

       kill { all | printer ... }
              Do an abort command followed by a start command.  This is a quick way to kill off  a  server  that
              has  problems.   Note  that  due  to race conditions and delays, that the start command may not be
              effective this action should be monitored to ensure that the job restarts.

       client { all | printer ... }
              Show the LPRng client configuration and printcap information  on  the  local  host.   This  is  an
              extremely useful diagnostic tool.

       lpd [printer@[host]]
              determines  if LPD daemon process on the print server is running, and gets the PID.  This is handy
              to determine if the LPD daemon was killed or aborted due to abnormal conditions.

       lpq printer [options]
              Run <u>lpq</u> from inside the <u>lpc</u> program.

       lprm printer jobid [jobid]*
              Run <u>lprm</u> from inside the <u>lpc</u> program.  Not all options are supported  -  this  form  requires  the
              printer name and jobid to be specified explicitly.

       move printer jobid  destinationPrinter
              Send the specified jobs to the destination printer and remove them from the printer queue.
              Action: updates the job holdfile <u>move</u> field with the destination and starts a server process to do
              the job transfer.

       msg printer message text
              Update the status message for the printer.  An empty message will remove the status message.

       noholdall { all | printer* }
              Turn off automatic job holding.  See holdall command.

       quit or exit
              terminate LPC program

       redirect [printer [destinationPrinter | off ]]
              redirect the jobs in the printer queue to another printer or turn redirection off.
              Action: updates spool control file <u>redirect</u> field.

       redo [printer [jobid]]
              Reprint the selected job.

       release [printer [jobid]]
              Releases the selected job for printing.

       reread [ printer [@host] ]
              Sends  a  request  to  the  LPD  server  for  the printer to reread the configuration and printcap
              information.  This is equivalent to using kill -HUP serverpid, but can  be  done  for  servers  on
              remote hosts.

       server { all | printer }
              Shows the printcap entries for the printer or all printers as the LPD server would use them.

       start { all | printer }
              Start  the  printer.   This  is useful when some abnormal condition causes the server to terminate
              unexpectedly leaving jobs in the queue.  <u>Lpq</u> will report that there is no daemon present when this
              condition occurs.

       status { all | printer }
              Display the status of daemons and queues on the local machine.

       stop { all | printer }
              Disable any further unspooling after the current job completes.

       topq printer [ jobid ]
              Place the selected jobs at the top of the printer queue.

       up {all | printer ...}
              Enables queuing and printing for the specified or all printers.  Privileged.

</pre><h4><b>JOBIDS</b></h4><pre>
       The LPQ command displays a job identifier for each job, which can be used in LPC commands to  identify  a
       specific  job.   In  the  commands  descriptions above, the jobid can be a user name, a job number, a job
       identifier, or a glob pattern.  The glob pattern is matched against the job identifier.  In command which
       have an optional jobid, if none is specified then the first printable job in the queue is acted on.

</pre><h4><b>FILES</b></h4><pre>
       The files used by LPRng are set by values in  the  printer  configuration  file.   The  following  are  a
       commonly used set of default values.
       /etc/lprng/lpd.conf                          LPRng configuration file
       ${HOME}/.printcap                            user printer description file
       /etc/printcap                                printer description file
       /etc/lprng/lpd.perms                         permissions
       /var/run/lprng/lpd                           lock file for queue control
       /var/spool/lpd                               spool directories
       /var/spool/lpd/QUEUE/control                 queue control
       /var/spool/lpd/QUEUE/log                     trace or debug log file
       /var/spool/lpd/QUEUE/acct                    accounting file
       /var/spool/lpd/QUEUE/status                  status file

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <a href="../man5/lpd.conf.5.html">lpd.conf</a>(5),   <a href="../man8/lpd.8.html">lpd</a>(8),   <a href="../man8/checkpc.8.html">checkpc</a>(8),   <a href="../man1/lpr.1.html">lpr</a>(1),   <a href="../man1/lpq.1.html">lpq</a>(1),   <a href="../man1/lprm.1.html">lprm</a>(1),   <a href="../man5/printcap.5.html">printcap</a>(5),  <a href="../man5/lpd.perms.5.html">lpd.perms</a>(5),  <a href="../man1/pr.1.html">pr</a>(1),
       <a href="../man1/lprng_certs.1.html">lprng_certs</a>(1), <a href="../man1/lprng_index_certs.1.html">lprng_index_certs</a>(1).

</pre><h4><b>DIAGNOSTICS</b></h4><pre>
       Most of the diagnostics are self explanatory.
       If you are puzzled over the exact cause of failure,
       set the debugging level on (-D5) and run again.
       The debugging information will
       help you to pinpoint the exact cause of failure.

</pre><h4><b>HISTORY</b></h4><pre>
       LPRng is a enhanced printer spooler system with functionality similar to the Berkeley LPR software.   The
       LPRng mailing list is <a href="mailto:lprng@lprng.com">lprng@lprng.com</a>; subscribe by sending mail to <a href="mailto:lprng-request@lprng.com">lprng-request@lprng.com</a> with the word
       subscribe in the body.  The software is available from <a href="ftp://ftp.lprng.com/pub/LPRng">ftp://ftp.lprng.com/pub/LPRng</a>.

</pre><h4><b>AUTHOR</b></h4><pre>
       Patrick Powell &lt;<a href="mailto:papowell@lprng.com">papowell@lprng.com</a>&gt;.

LPRng                                              LPRng-3.9.0                                            <u><a href="../man8/LPC.8.html">LPC</a></u>(8)
</pre>
 </div>
</div></section>
</div>
</body>
</html>