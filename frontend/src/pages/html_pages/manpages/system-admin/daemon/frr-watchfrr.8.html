<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>frr-watchfrr - a program to monitor the status of FRRouting daemons</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/frr">frr_10.3-3ubuntu2_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       frr-watchfrr - a program to monitor the status of FRRouting daemons

</pre><h4><b>SYNOPSIS</b></h4><pre>
       watchfrr [-h] [-v]

       watchfrr [option...] &lt;daemon&gt;...

</pre><h4><b>DESCRIPTION</b></h4><pre>
       watchfrr is a watchdog program that monitors the status of supplied frr daemons and tries to restart them
       in case they become unresponsive or shut down.

       To determine whether a daemon is running, it tries to connect to the daemon's VTY UNIX stream socket, and
       send  echo  commands  to  ensure  the  daemon responds. When the daemon crashes, EOF is received from the
       socket, so that watchfrr can react immediately.

       In order to avoid restarting the daemons in quick succession, you can supply the -m and -M options to set
       the minimum and maximum delay between the restart commands. The minimum  restart  delay  is  recalculated
       each  time a restart is attempted.  If the time since the last restart attempt exceeds twice the value of
       -M, the restart delay is set to the value of -m, otherwise the interval is doubled  (but  capped  at  the
       value of -M).

</pre><h4><b>OPTIONS</b></h4><pre>
       <b>--dry</b>  Run  watchfrr  in  "dry-run"  mode,  only  monitoring the specified daemons but not performing any
              start/stop/restart actions.

       <b>-d,</b> <b>--daemon</b>
              Run in daemon mode. When supplied, error messages are sent to Syslog instead  of  standard  output
              (stdout).

       <b>-S</b> <b>&lt;directory&gt;,</b> <b>--statedir</b> <b>&lt;directory&gt;</b>
              Set the VTY socket directory (the default value is "/var/run/frr").

       <b>-N</b> <b>&lt;name&gt;,</b> <b>--pathspace</b> <b>&lt;name&gt;</b>
              Insert  the  given  name  into  paths used by the FRR daemons.  This is appended to the VTY socket
              directory and passed to the daemons which also add it to their paths in /etc.

       <b>--netns[=&lt;name&gt;]</b>
              (Linux only.)  Switch network namespaces when starting watchfrr.  The name defaults to  the  value
              passed  with  -N (which it should be used in conjunction with.)  If the name is not specified, the
              option has no effect.

              If the network namespace does not exist, it is created  in  a  manner  compatible  with  iproute2.
              Network namespaces are not removed by FRR, this must be done with "ip netns delete".

       <b>-l</b> <b>&lt;level&gt;,</b> <b>--loglevel</b> <b>&lt;level&gt;</b>
              Set  the  logging level (the default value is "6"). The value should range from 0 (LOG_EMERG) to 7
              (LOG_DEBUG), but higher number can be supplied if extra debugging messages are required.

       <b>--min-restart-interval</b> <b>&lt;number&gt;</b>
              Set the minimum number of seconds to wait between invocations of the daemon restart commands  (the
              default value is "60").

       <b>--max-restart-interval</b> <b>&lt;number&gt;</b>
              Set  the maximum number of seconds to wait between invocations of the daemon restart commands (the
              default value is "600").

       <b>-i</b> <b>&lt;number&gt;,</b> <b>--interval</b> <b>&lt;number&gt;</b>
              Set the status polling interval in seconds (the default value is "5").

       <b>-t</b> <b>&lt;number&gt;,</b> <b>--timeout</b> <b>&lt;number&gt;</b>
              Set the unresponsiveness timeout in seconds (the default value is "10").

       <b>-T</b> <b>&lt;number&gt;,</b> <b>--restart-timeout</b> <b>&lt;number&gt;</b>
              Set the restart (kill) timeout in seconds (the default value is "20"). If any background jobs  are
              still running after this period has elapsed, they will be killed.

       <b>-p</b> <b>&lt;filename&gt;,</b> <b>--pid-file</b> <b>&lt;filename&gt;</b>
              Set the process identifier filename (the default value is "/var/run/frr/watchfrr.pid").

       <b>-b</b> <b>&lt;string&gt;,</b> <b>--blank-string</b> <b>&lt;string&gt;</b>
              When  the  supplied  string is found in any of the command line option arguments (i.e., -r, -s, or
              -k), replace it with a space.

              This is an ugly hack to circumvent problems with passing the  command  line  arguments  containing
              embedded spaces.

       <b>-v,</b> <b>--version</b>
              Display the version information and exit.

       <b>-h,</b> <b>--help</b>
              Display the usage information and exit.

       The  following  3  options  specify  scripts  that  watchfrr  uses to perform start/stop/restart actions.
       Reasonable default values are built into watchfrr, so the use  of  these  options  should  no  longer  be
       necessary:

       <b>-s</b> <b>command,</b> <b>--start-command</b> <b>command</b>
              Supply a Bourne shell command to start a single daemon. The command string should contain the '%s'
              placeholder to be substituted with the daemon name.

       <b>-k</b> <b>command,</b> <b>--kill-command</b> <b>command</b>
              Supply  a Bourne shell command to stop a single daemon. The command string should contain the '%s'
              placeholder to be substituted with the daemon name.

       <b>-r</b> <b>command,</b> <b>--restart</b> <b>command</b>
              Supply a Bourne shell command to restart a single daemon. The command string  should  contain  the
              '%s' placeholder to be substituted with the daemon name.

</pre><h4><b>PREVIOUS</b> <b>OPTIONS</b></h4><pre>
       Prior versions of watchfrr supported some additional options that no longer exist::

          -a, -A, -e, -R, -z

       The  <b>-a</b>, <b>-A</b> and <b>-R</b> options were used to select alternate monitoring modes that offered different patterns
       of restarting daemons. The "correct" mode (phased restart) is now the default. The -e and -z options used
       to disable some monitoring aspects, watchfrr now always has all monitoring features enabled.

       Removing these options should result in correct operation, if it does not please file a bug report.

</pre><h4><b>FILES</b></h4><pre>
       <b>/usr/lib/frr/watchfrr</b>
              The default location of the watchfrr binary.

       <b>/etc/frr/watchfrr.conf</b>
              The default location of the watchfrr config file.

       <b>$(PWD)/watchfrr.log</b>
              If the watchfrr process is configured to output logs to a file, then you will find  this  file  in
              the directory where you started watchfrr.

</pre><h4><b>WARNING</b></h4><pre>
       This  man  page  is intended to be a quick reference for command line options. The definitive document is
       the info file frr latest or the documentation available on the project website at <u>https://frrouting.org/</u>.

</pre><h4><b>DIAGNOSTICS</b></h4><pre>
       The daemon may log to standard output, to a VTY, to a log file, or through syslog to the system logs. FRR
       supports many debugging options, see the Info file, web docs or source for details.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <a href="../man8/frr-zebra.8.html">frr-zebra</a>(8),   <a href="../man1/vtysh.1.html">vtysh</a>(1),   <a href="../man8/frr-ripd.8.html">frr-ripd</a>(8),   <a href="../man8/frr-ripngd.8.html">frr-ripngd</a>(8),   <a href="../man8/frr-ospfd.8.html">frr-ospfd</a>(8),   <a href="../man8/frr-ospf6d.8.html">frr-ospf6d</a>(8),   <a href="../man8/frr-bgpd.8.html">frr-bgpd</a>(8),
       <a href="../man8/frr-isisd.8.html">frr-isisd</a>(8),   <a href="../man8/frr-babeld.8.html">frr-babeld</a>(8),   <a href="../man8/frr-nhrpd.8.html">frr-nhrpd</a>(8),   <a href="../man8/frr-pimd.8.html">frr-pimd</a>(8),  <a href="../man8/frr-pbrd.8.html">frr-pbrd</a>(8),  <a href="../man8/frr-ldpd.8.html">frr-ldpd</a>(8),  <a href="../man8/frr-eigrpd.8.html">frr-eigrpd</a>(8),
       <a href="../man8/frr-staticd.8.html">frr-staticd</a>(8), <a href="../man8/frr-fabricd.8.html">frr-fabricd</a>(8), <a href="../man8/frr-vrrpd.8.html">frr-vrrpd</a>(8), <a href="../man8/mtracebis.8.html">mtracebis</a>(8) <u>https://frrouting.org/</u>

</pre><h4><b>BUGS</b></h4><pre>
       FRR  eats  bugs  for  breakfast.  If   you   have   food   for   the   maintainers,   please   email   &lt;‚Äê
       <u><a href="mailto:dev@lists.frrouting.org">dev@lists.frrouting.org</a></u>&gt;.

</pre><h4><b>COPYRIGHT</b></h4><pre>
       2017, FRR

latest                                            Jun 13, 2025                                   <u><a href="../man8/FRR-WATCHFRR.8.html">FRR-WATCHFRR</a></u>(8)
</pre>
 </div>
</div></section>
</div>
</body>
</html>