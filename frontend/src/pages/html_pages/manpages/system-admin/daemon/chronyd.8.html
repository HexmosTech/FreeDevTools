<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>chronyd - chrony daemon</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/chrony">chrony_4.7-1ubuntu1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       chronyd - chrony daemon

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>chronyd</b> [<u>OPTION</u>]... [<u>DIRECTIVE</u>]...

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>chronyd</b> is a daemon for synchronisation of the system clock. It can synchronise the clock with NTP
       servers, reference clocks (e.g. a GPS receiver), and manual input using wristwatch and keyboard via
       <b>chronyc</b>. It can also operate as an NTPv4 (RFC 5905) server and peer to provide a time service to other
       computers in the network.

       If no configuration directives are specified on the command line, <b>chronyd</b> will read them from a
       configuration file. The compiled-in default location of the file is <u>/etc/chrony/chrony.conf</u>.

       Informational messages, warnings, and errors will be logged to syslog.

</pre><h4><b>OPTIONS</b></h4><pre>
       <b>-4</b>
           With this option hostnames will be resolved only to IPv4 addresses and only IPv4 sockets will be
           created.

       <b>-6</b>
           With this option hostnames will be resolved only to IPv6 addresses and only IPv6 sockets will be
           created.

       <b>-f</b> <u>file</u>
           This option can be used to specify an alternate location for the configuration file. The compiled-in
           default value is <u>/etc/chrony/chrony.conf</u>.

       <b>-n</b>
           When run in this mode, the program will not detach itself from the terminal.

       <b>-d</b>
           When run in this mode, the program will not detach itself from the terminal, and all messages will be
           written to the terminal instead of syslog. If <b>chronyd</b> was compiled with enabled support for
           debugging, this option can be used twice to enable debug messages.

       <b>-l</b> <u>file</u>
           This option enables writing of log messages to a file instead of syslog or the terminal.

       <b>-L</b> <u>level</u>
           This option specifies the minimum severity level of messages to be written to the log file, syslog,
           or terminal. The following levels can be specified: -1 (debug, if compiled with enabled support for
           debugging), 0 (informational), 1 (warning), 2 (non-fatal error), and 3 (fatal error). The default
           value is 0.

       <b>-p</b>
           When run in this mode, <b>chronyd</b> will print the configuration and exit. It will not detach from the
           terminal. This option can be used to verify the syntax of the configuration and get the whole
           configuration, even if it is split into multiple files and read by the <b>include</b> or <b>confdir</b> directive.

       <b>-q</b>
           When run in this mode, <b>chronyd</b> will set the system clock once and exit. It will not detach from the
           terminal.

       <b>-Q</b>
           This option is similar to the <b>-q</b> option, except it only prints the offset without making any
           corrections of the clock and disables server ports to allow <b>chronyd</b> to be started without root
           privileges, assuming the configuration does not have any directives which would require them (e.g.
           <b>refclock</b>, <b>hwtimestamp</b>, <b>rtcfile</b>, etc).

       <b>-r</b>
           This option will try to reload and then delete files containing sample histories for each of the
           servers and reference clocks being used. The files are expected to be in the directory specified by
           the <b>dumpdir</b> directive in the configuration file. This option is useful if you want to stop and
           restart <b>chronyd</b> briefly for any reason, e.g. to install a new version. However, it should be used
           only on systems where the kernel can maintain clock compensation whilst not under <b>chronyd</b>'s control
           (i.e. Linux, FreeBSD, NetBSD, illumos, and macOS 10.13 or later).

       <b>-R</b>
           When this option is used, the <b>initstepslew</b> directive and the <b>makestep</b> directive used with a positive
           limit will be ignored. This option is useful when restarting <b>chronyd</b> and can be used in conjunction
           with the <b>-r</b> option.

       <b>-s</b>
           This option will set the system clock from the computerâ€™s real-time clock (RTC) or to the last
           modification time of the file specified by the <b>driftfile</b> directive. Real-time clocks are supported
           only on Linux.

           If used in conjunction with the <b>-r</b> flag, <b>chronyd</b> will attempt to preserve the old samples after
           setting the system clock from the RTC. This can be used to allow <b>chronyd</b> to perform long term
           averaging of the gain or loss rate across system reboots, and is useful for systems with intermittent
           access to network that are shut down when not in use. For this to work well, it relies on <b>chronyd</b>
           having been able to determine accurate statistics for the difference between the RTC and system clock
           last time the computer was on.

           If the last modification time of the drift file is later than both the current time and the RTC time,
           the system time will be set to it to restore the time when <b>chronyd</b> was previously stopped. This is
           useful on computers that have no RTC or the RTC is broken (e.g. it has no battery).

       <b>-t</b> <u>timeout</u>
           This option sets a timeout (in seconds) after which <b>chronyd</b> will exit. If the clock is not
           synchronised, it will exit with a non-zero status. This is useful with the <b>-q</b> or <b>-Q</b> option to shorten
           the maximum time waiting for measurements, or with the <b>-r</b> option to limit the time when <b>chronyd</b> is
           running, but still allow it to adjust the frequency of the system clock.

       <b>-u</b> <u>user</u>
           This option sets the name of the system user to which <b>chronyd</b> will switch after start in order to
           drop root privileges. It overrides the <b>user</b> directive. The compiled-in default value is <b>_</b><u>chrony</u>.

           On Linux, <b>chronyd</b> needs to be compiled with support for the <b>libcap</b> library. On macOS, FreeBSD,
           NetBSD, and illumos <b>chronyd</b> forks into two processes. The child process retains root privileges, but
           can only perform a very limited range of privileged system calls on behalf of the parent.

       <b>-U</b>
           This option disables a check for root privileges to allow <b>chronyd</b> to be started under a non-root
           user, assuming the process will have all capabilities (e.g. provided by the service manager) and
           access to all files, directories, and devices, needed to operate correctly in the specified
           configuration. Note that different capabilities might be needed with different configurations and
           different Linux kernel versions. Starting <b>chronyd</b> under a non-root user is not recommended when the
           configuration is not known, or at least limited to specific directives.

       <b>-F</b> <u>level</u>
           This option configures system call filters loaded by <b>chronyd</b> processes if it was compiled with
           support for the Linux secure computing (seccomp) facility. Three levels are defined: 0, 1, 2. The
           filters are disabled at level 0. At levels 1 and 2, <b>chronyd</b> will be killed if it makes a system call
           which is blocked by the filters. The level can be specified as a negative number to trigger the
           SIGSYS signal instead of SIGKILL, which can be useful for debugging. The default value is 0.

           At level 1, the filters allow only selected system calls that are normally expected to be made by
           <b>chronyd</b>. Other system calls are blocked. This level is recommended only if it is known to work on the
           version of the system where <b>chrony</b> is installed. The filters need to allow also system calls made by
           libraries that <b>chronyd</b> is using (e.g. libc), but different versions or implementations of the
           libraries might make different system calls. If the filters are missing a system call, <b>chronyd</b> could
           be killed even in normal operation.

           At level 2, the filters block only a small number of specific system calls (e.g. fork and exec). This
           approach should avoid false positives, but the protection of the system against a compromised <b>chronyd</b>
           process is much more limited.

           The filters cannot be enabled with the <b>mailonchange</b> directive.

       <b>-P</b> <u>priority</u>
           On Linux, FreeBSD, NetBSD, and illumos this option will select the SCHED_FIFO real-time scheduler at
           the specified priority (which must be between 0 and 100). On macOS, this option must have either a
           value of 0 to disable the thread time constraint policy or 1 for the policy to be enabled. Other
           systems do not support this option. The default value is 0.

       <b>-m</b>
           This option will lock <b>chronyd</b> into RAM so that it will never be paged out. This mode is only
           supported on Linux, FreeBSD, NetBSD, and illumos.

       <b>-x</b>
           This option disables the control of the system clock. <b>chronyd</b> will not try to make any adjustments of
           the clock. It will assume the clock is free running and still track its offset and frequency relative
           to the estimated true time. This option allows <b>chronyd</b> to be started without the capability to adjust
           or set the system clock (e.g. in some containers) to operate as an NTP server.

       <b>-v</b>, <b>--version</b>
           With this option <b>chronyd</b> will print version number to the terminal and exit.

       <b>-h</b>, <b>--help</b>
           With this option <b>chronyd</b> will print a help message to the terminal and exit.

</pre><h4><b>ENVIRONMENT</b> <b>VARIABLES</b></h4><pre>
       <b>LISTEN_FDS</b>
           On Linux systems, the systemd service manager may pass file descriptors for pre-initialised sockets
           to <b>chronyd</b>. The service manager allocates and binds the file descriptors, and passes a copy to each
           spawned instance of the service. This allows for zero-downtime service restarts as the sockets buffer
           client requests until the service is able to handle them. The service manager sets the LISTEN_FDS
           environment variable to the number of passed file descriptors.

       <b>NOTIFY_SOCKET</b>
           The systemd service manager sets this variable for services of the <b>notify</b> type. <b>chronyd</b> sends a
           message to this socket when it it is fully initialised and ready to accept commands (e.g. from
           <b>chronyc</b>), with the clock already set if using the <b>-s</b> option or <b>initstepslew</b> directive. It is an
           alternative to the <b>forking</b> service type, which does not need the PID file. <b>chronyd</b> needs to be
           started with the <b>-n</b> or <b>-d</b> option to not fork.

</pre><h4><b>FILES</b></h4><pre>
       <u>/etc/chrony/chrony.conf</u>

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man1/chronyc.1.html">chronyc</a>(1)</b>, <b><a href="../man5/chrony.conf.5.html">chrony.conf</a>(5)</b>

</pre><h4><b>BUGS</b></h4><pre>
       For instructions on how to report bugs, please visit https://chrony-project.org/.

</pre><h4><b>AUTHORS</b></h4><pre>
       chrony was written by Richard Curnow, Miroslav Lichvar, and others.

chrony 4.7                                         2025-06-11                                         <u><a href="../man8/CHRONYD.8.html">CHRONYD</a></u>(8)
</pre>
 </div>
</div></section>
</div>
</body>
</html>