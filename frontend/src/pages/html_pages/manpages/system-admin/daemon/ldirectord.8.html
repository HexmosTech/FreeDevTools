<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ldirectord - Linux Director Daemon</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/ldirectord">ldirectord_4.16.0-3ubuntu1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       ldirectord - Linux Director Daemon

       Daemon to monitor remote services and control Linux Virtual Server

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>ldirectord</b> [<b>-d|--debug</b>] [--] [<u>configfile</u>] <b>start</b> | <b>stop</b> | <b>restart</b> | <b>try-restart</b> | <b>reload</b> | <b>force-reload</b> |
       <b>status</b>

       <b>ldirectord</b> [<b>-h|-?|--help|-v|--version</b>]

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>ldirectord</b> is a daemon to monitor and administer real servers in a cluster of load balanced virtual
       servers. <b>ldirectord</b> typically is started from heartbeat but can also be run from the command line. On
       startup <b>ldirectord</b> reads the file <b>/etc/ha.d/conf/</b><u>configuration</u>.  After parsing the file, entries for
       virtual servers are created on the LVS.  Now at regular intervals the specified real servers are
       monitored and if they are considered alive, added to a list for each virtual server. If a real server
       fails, it is removed from that list. Only one instance of <b>ldirectord</b> can be started for each
       configuration, but more instances of <b>ldirectord</b> may be started for different configurations. This helps
       to group clusters of services.  Normally one would put an entry inside <b>/etc/ha.d/haresources</b>

       <u>nodename</u> <u>virtual-ip-address</u> <u>ldirectord::configuration</u>

       to start ldirectord from heartbeat.

</pre><h4><b>OPTIONS</b></h4><pre>
       <u>configuration</u>: This is the name for the configuration as specified in the file
       <b>/etc/ha.d/conf/</b><u>configuration</u>

       <b>-d|--debug</b> Don't start as daemon and log verbosely.

       <b>-h|--help</b> Print user manual and exit.

       <b>-v|--version</b> Print version and exit.

       <b>start</b> the daemon for the specified configuration.

       <b>stop</b> the daemon for the specified configuration. This is the same as sending a TERM signal to the running
       daemon.

       <b>restart</b> the daemon for the specified configuration. The same as stopping and starting.

       <b>reload</b> the configuration file. This is only useful for modifications inside a virtual server entry. It
       will have no effect on adding or removing a virtual server block. This is the same as sending a HUP
       signal to the running daemon.

       <b>status</b> of the running daemon for the specified configuration.

</pre><h4><b>SYNTAX</b></h4><pre>
   <b>Description</b> <b>of</b> <b>how</b> <b>to</b> <b>write</b> <b>configuration</b> <b>files</b>
       <b>virtual</b> <b>=</b> <u>(ip_address|hostname:portnumber|servicename)|firewall-mark</u>

       Defines a virtual service by IP-address (or hostname) and port (or servicename) or firewall-mark.  A
       firewall-mark is an integer greater than zero. The configuration of marking packets is controlled using
       the "-m" option to <b><a href="../man8/ipchains.8.html">ipchains</a></b>(8).  All real services and flags for a virtual service must follow this line
       immediately and be indented.

       <b>checktimeout</b> <b>=</b> <u>n</u>

       Timeout in seconds for connect, external, external-perl and ping checks. If the timeout is exceeded then
       the real server is declared dead.

       If defined in a virtual server section then the global value is overridden.

       If undefined then the value of negotiatetimeout is used.  negotiatetimeout is also a global value that
       may be overridden by a per-virtual setting.

       If both checktimeout and negotiatetimeout are unset, the default is used.

       Default: 5 seconds

       <b>negotiatetimeout</b> <b>=</b> <u>n</u>

       Timeout in seconds for negotiate checks.

       If defined in a virtual server section then the global value is overridden.

       If undefined then the value of checktimeout is used.  checktimeout is also a global value that may be
       overridden by a per-virtual setting.

       If both negotiatetimeout and checktimeout are unset, the default is used.

       Default: 30 seconds

       <b>checkinterval</b> <b>=</b> <u>n</u>

       Defines the number of second between server checks.

       When fork=no this option defines the amount of time ldirectord sleeps between running all of the
       realserver checks in all virtual service pools.

       When fork=yes this option defines the amount of time each forked child sleeps per virtual service pool
       after running all realserver checks for that pool.

       If set in the virtual server section then the global value is overridden, but ONLY if using forking mode
       (<b>fork</b> <b>=</b> <u>yes</u>).

       Default: 10 seconds

       <b>checkcount</b> <b>=</b> <u>n</u>

       This option is deprecated and slated for removal in a future version.  Please see the 'failurecount'
       option.

       The number of times a check will be attempted before it is considered to have failed. Only works with
       ping checks. Note that the checktimeout/negotiatetimeout is additive, so if a connect check is used,
       checkcount is 3 and checktimeout is 2 seconds, then a total of 6 seconds worth of timeout will occur
       before the check fails.

       If defined in a virtual server section then the global value is overridden.

       Default: 1

       <b>failurecount</b> <b>=</b> <u>n</u>

       The number of consecutive times a failure will have to be reported by a check before the realserver is
       considered to have failed.  A value of 1 will have the realserver considered failed on the first failure.
       A successful check will reset the failure counter to 0.

       If defined in a virtual server section then the global value is overridden.

       Default: 1

       <b>autoreload</b> <b>=</b> <b>yes</b> | <b>no</b>

       Defines if &lt;ldirectord&gt; should continuously check the configuration file for modification. If this is set
       to 'yes' and the configuration file changed on disk and its modification time (mtime) is newer than the
       previous version, the configuration is automatically reloaded.

       Default: no

       <b>callback</b> <b>=</b> <b>"</b><u>/path/to/callback</u><b>"</b>

       If this directive is defined, <b>ldirectord</b> automatically calls the executable <u>/path/to/callback</u> after the
       configuration file has changed on disk. This is useful to update the configuration file through <b>scp</b> on
       the other heartbeated host. The first argument to the callback is the name of the configuration.

       This directive might also be used to restart <b>ldirectord</b> automatically after the configuration file
       changed on disk. However, if <b>autoreload</b> is set to yes, the configuration is reloaded anyway.

       <b>fallback</b> <b>=</b> <u>ip_address|hostname[:portnumber|sercvicename]</u> [<b>gate</b> | <b>masq</b> | <b>ipip</b>]

       the server onto which a webservice is redirected if all real servers are down. Typically this would be
       127.0.0.1 with an emergency page.

       If defined in a virtual server section then the global value is overridden.

       <b>fallbackcommand</b> <b>=</b> <b>"</b><u>path</u> <u>to</u> <u>script</u><b>"</b>

       If this directive is defined, the supplied script is executed whenever all real servers for a virtual
       service are down or when the first real server comes up again. In the first case, it is called with
       "start" as its first argument, in the latter with "stop".  Additional parameters are vserver with vport
       (vserver:vport) as second param and protocol (tcp/udp) as third param to identify the virtual service
       within the fallback script.

       If defined in a virtual server section then the global value is overridden.

       <b>logfile</b> <b>=</b> <b>"</b><u>/path/to/logfile</u><b>"</b>|syslog_facility

       An alternative logfile might be specified with this directive. If the logfile does not have a leading
       '/', it is assumed to be a <b><a href="../man3/syslog.3.html">syslog</a></b>(3) facility name.

       Default: log directly to the file <u>/var/log/ldirectord.log</u>.

       <b>emailalert</b> <b>=</b> <b>"</b><u>emailaddress</u>[, <u>emailaddress</u>]...<b>"</b>

       A valid email address for sending alerts about the changed connection status to any real server defined
       in the virtual service.  This option requires perl module MailTools to be installed.  Automatically tries
       to send email using any of the built-in methods. See perldoc Mail::Mailer for more info on methods.

       Multiple addresses may be supplied, comma delimited.

       If defined in a virtual server section then the global value is overridden.

       <b>emailalertfrom</b> <b>=</b> <u>emailaddress</u>

       A valid email address to use as the from address of the email alerts.  You can use a plain email address
       or any RFC-compliant string for the From header in the body of an email message (such as: "ldirectord
       Alerts" &lt;<a href="mailto:alerts@example.com">alerts@example.com</a>&gt;) Do not quote this string unless you want the quotes passed in as part of
       the From header.

       Default: unset, take system generated default (probably root@hostname)

       <b>emailalertfreq</b> <b>=</b> <u>n</u>

       Delay in seconds between repeating email alerts while any given real server in the virtual service
       remains inaccessible.  A setting of zero seconds will inhibit the repeating alerts. The email timing
       accuracy of this setting is dependent on the number of seconds defined in the checkinterval configuration
       option.

       If defined in a virtual server section then the global value is overridden.

       Default: 0

       <b>emailalertstatus</b> <b>=</b> <b>all</b> | <b>none</b> | <b>starting</b> | <b>running</b> | <b>stopping</b> | <b>reloading</b>,...

       Comma delimited list of server states in which email alerts should be sent.  <b>all</b> is a short-hand for
       "<b>starting</b>,<b>running</b>,<b>stopping</b>,<b>reloading</b>".  If <b>none</b> is specified, no other option may be specified, otherwise
       options are ored with each other.

       If defined in a virtual server section then the global value is overridden.

       Default: all

       <b>smtp</b> <b>=</b> <u>ip_address|hostname</u><b>"</b>

       A valid SMTP server address to use for sending email via SMTP.

       If defined in a virtual server section then the global value is overridden.

       <b>execute</b> <b>=</b> <b>"</b><u>configuration</u><b>"</b>

       Use this directive to start an instance of ldirectord for the named <u>configuration</u>.

       <b>supervised</b> <b>=</b> <b>yes</b> | <b>no</b>

       If <u>yes</u>, then ldirectord does not go into background mode.  All log-messages are redirected to stdout
       instead of a logfile.  This is useful to run <b>ldirectord</b> supervised from daemontools.  See
       <a href="http://untroubled.org/rpms/daemontools/">http://untroubled.org/rpms/daemontools/</a> or <a href="http://cr.yp.to/daemontools.html">http://cr.yp.to/daemontools.html</a> for details.

       Default: <u>no</u>

       <b>fork</b> <b>=</b> <b>yes</b> | <b>no</b>

       If <u>yes</u>, then ldirectord will spawn a child process for every virtual server, and run checks against the
       real servers from them.  This will increase response times to changes in real server status in
       configurations with many virtual servers.  This may also use less memory then running many separate
       instances of ldirectord.  Child processes will be automatically restarted if they die.

       Default: <u>no</u>

       <b>quiescent</b> <b>=</b> <b>yes</b> | <b>no</b>

       If <u>yes</u>, then when real or failback servers are determined to be down, they are not actually removed from
       the kernel's LVS table. Rather, their weight is set to zero which means that no new connections will be
       accepted.

       This has the side effect, that if the real server has persistent connections, new connections from any
       existing clients will continue to be routed to the real server, until the persistent timeout can expire.
       See ipvsadm for more information on persistent connections.

       This side-effect can be avoided by running the following:

       echo 1 &gt; /proc/sys/net/ipv4/vs/expire_quiescent_template

       If the proc file isn't present this probably means that the kernel doesn't have LVS support, LVS support
       isn't loaded, or the kernel is too old to have the proc file. Running ipvsadm as root should load LVS
       into the kernel if it is possible.

       If <u>no</u>, then the real or failback servers will be removed from the kernel's LVS table. The default is <u>yes</u>.

       If defined in a virtual server section then the global value is overridden.

       Default: <u>yes</u>

       <b>readdquiescent</b> <b>=</b> <b>yes</b> | <b>no</b>

       If <u>yes</u>, then when real or failback servers are determined to be down, they are readded to the kernel's
       LVS table with weight 0 if they do not exist in the table. Setting the value to no, allows manually
       removing the realserver to manually disable all persistent connections.

       <b>cleanstop</b> <b>=</b> <b>yes</b> | <b>no</b>

       If <u>yes</u>, then when ldirectord exits it will remove all of the virtual server pools that it is managing
       from the kernel's LVS table.

       If <u>no</u>, then the virtual server pools it is managing and any real or failback servers listed in them at
       the time ldirectord exits will be left as-is.  If you want to be able to stop ldirectord without having
       traffic to your realservers interrupted you will want to set this to <u>no</u>.

       If defined in a virtual server section then the global value is overridden.

       Default: <u>yes</u>

       <b>maintenancedir</b> <b>=</b> <u>directoryname</u>

       If this option is set ldirectord will look for a special file in the specified directory and, if found,
       force the status of the real server identified by the file to down, skipping the normal health check.
       This would be useful if you wish to force servers down for maintenance without having to modify the
       actual ldirectord configuration file.

       For example, given a realserver with IP 172.16.1.2, service on port 4444, and a resolvable reverse DNS
       entry pointing to "realserver2.example.com" ldirectord will check for the existence of the following
       files:

       172.16.1.2:4444
       172.16.1.2
       realserver2.example.com:4444
       realserver2.example.com
       realserver2:4444
       realserver2

       If  any  one  of  those files is found then ldirectord will immediately force the status of the server to
       down as if the check had failed.

       Note: Since it checks for the IP/hostname without the port this means you can decide to place  an  entire
       realserver  into  maintenance  across  a large number of virtual service pools with a single file (if you
       were going to reboot the server, for instance) or include the port  number  and  put  just  a  particular
       service into maintenance.

       This option is not valid in a virtual server section.

       Default: disabled

   <b>Section</b> <b>virtual</b>
       The following commands must follow a <b>virtual</b> entry and must be indented with a minimum of 4 spaces or one
       tab.

       <b>real</b>  <b>=</b>  <u>ip_address|hostname[-&gt;ip_address|hostname][:portnumber|servicename</u>]  <b>gate</b> | <b>masq</b> | <b>ipip</b> [<u>weight</u>]
       [<b>"</b><u>request</u><b>",</b> <b>"</b><u>receive</u><b>"</b>] [ "&lt;l:l-threshold&gt;" ] [ "&lt;u:u-threshold&gt;" ]

       Defines a real service by IP-address (or hostname) and port (or servicename). If the port is omitted then
       a 0 will be used, this is intended primarily for fwmark services where  the  port  for  real  servers  is
       ignored.  Optionally  a  range of IPv4 addresses (or two hostnames) may be given, in which case each IPv4
       address in the range will be treated as a real server using the given port. The second  argument  defines
       the forwarding method, must be <b>gate</b>, <b>ipip</b> or <b>masq</b>.  The third argument is optional and defines the weight
       for  that  real  server.  If  omitted  then  a  weight of 1 will be used. The next two arguments are also
       optional. They define a request-receive pair to be used to check if a server is alive.  They override the
       request-receive pair in the virtual server section. These two strings must  be  quoted.  If  the  request
       string  starts  with  <u>http://...</u>  the IP-address and port of the real server is overridden, otherwise the
       IP-address and port of the real server is used.  The last two optionals arguments  set  lower  and  upper
       connection thresholds for real servers using -y and -x ipvsadm argument.

     <b>For</b> <b>TCP</b> <b>and</b> <b>UDP</b> <b>(non</b> <b>fwmark)</b> <b>virtual</b> <b>services,</b> <b>unless</b> <b>the</b> <b>forwarding</b> <b>method</b> <b>is</b> <b>masq</b> <b>and</b> <b>the</b> <b>IP</b> <b>address</b> <b>of</b> <b>a</b>
       <b>real</b> <b>server</b> <b>is</b> <b>non-local</b> <b>(not</b> <b>present</b> <b>on</b> <b>a</b> <b>interface</b> <b>on</b> <b>the</b> <b>host</b> <b>running</b> <b>ldirectord)</b> <b>then</b> <b>the</b> <b>port</b> <b>of</b> <b>the</b>
       <b>real</b> <b>server</b> <b>will</b> <b>be</b> <b>set</b> <b>to</b> <b>that</b> <b>of</b> <b>its</b> <b>virtual</b> <b>service.</b> <b>That</b> <b>is,</b> <b>port-mapping</b> <b>is</b> <b>only</b> <b>available</b> <b>to</b> <b>if</b> <b>the</b>
       <b>real</b> <b>server</b> <b>is</b> <b>another</b> <b>machine</b> <b>and</b> <b>the</b> <b>forwarding</b> <b>method</b> <b>is</b> <b>masq.</b>  <b>This</b>  <b>is</b>  <b>due</b>  <b>to</b>  <b>the</b>  <b>way</b>  <b>that</b>  <b>the</b>
       <b>underlying</b> <b>LVS</b> <b>code</b> <b>in</b> <b>the</b> <b>kernel</b> <b>functions.</b>
     <b>More</b>  <b>than</b>  <b>one</b>  <b>of</b>  <b>these</b>  <b>entries</b>  <b>may</b>  <b>be</b> <b>inside</b> <b>a</b> <b>virtual</b> <b>section.</b>  <b>The</b> <b>checktimeout,</b> <b>negotiatetimeout,</b>
       <b>checkcount,</b> <b>fallback,</b> <b>emailalert,</b> <b>emailalertfreq</b> <b>and</b> <b>quiescent</b>  <b>options</b>  <b>listed</b>  <b>above</b>  <b>may</b>  <b>also</b>  <b>appear</b>
       <b>inside</b> <b>a</b> <b>virtual</b> <b>section,</b> <b>in</b> <b>which</b> <b>case</b> <b>the</b> <b>global</b> <b>setting</b> <b>is</b> <b>overridden.</b>
       <b>checktype</b> <b>=</b> <b>connect</b> | <b>external</b> | <b>external-perl</b> | <b>negotiate</b> | <b>off</b> | <b>on</b> | <b>ping</b> | <b>checktimeout</b><u>N</u>

       Type  of  check to perform. Negotiate sends a request and matches a receive string. Connect only attempts
       to make a TCP/IP connection, thus the request and receive strings may be  omitted.   If  checktype  is  a
       number then negotiate and connect is combined so that after each N connect attempts one negotiate attempt
       is  performed.  This  is  useful  to  check  often  if  a  service answers and in much longer intervals a
       negotiating check is done. Ping means that ICMP ping will be  used  to  test  the  availability  of  real
       servers.   Ping is also used as the connect check for UDP services. Off means no checking will take place
       and no real or fallback servers will be activated.  On means no checking will take place and real servers
       will always be activated. Default is <u>negotiate</u>.

       <b>service</b> <b>=</b> <b>dns</b> | <b>ftp</b> | <b>http</b> | <b>https</b> | <b>http_proxy</b> | <b>imap</b> | <b>imaps</b> | <b>ldap</b> | <b>ldaps</b> | <b>mysql</b> |  <b>nntp</b>  |  <b>none</b>  |
       <b>oracle</b> | <b>pgsql</b> | <b>pop</b> | <b>pops</b> | <b>radius</b> | <b>simpletcp</b> | <b>sip</b> | <b>smtp</b> | <b>submission</b>

       The  type  of  service to monitor when using checktype=negotiate. None denotes a service that will not be
       monitored.

       simpletcp sends the <b>request</b> string to the server and tests it against the <b>receive</b> regexp. The other types
       of checks connect to the server using the specified protocol. Please see the <b>request</b> and <b>receive</b> sections
       for protocol specific information.

       Default:

       •   Virtual server port is 21: ftp

       •   Virtual server port is 25: smtp

       •   Virtual server port is 53: dns

       •   Virtual server port is 80: http

       •   Virtual server port is 110: pop

       •   Virtual server port is 119: nntp

       •   Virtual server port is 143: imap

       •   Virtual server port is 389: ldap

       •   Virtual server port is 443: https

       •   Virtual server port is 587: submission

       •   Virtual server port is 636 ldaps

       •   Virtual server port is 993: imaps

       •   Virtual server port is 995: pops

       •   Virtual server port is 1521: oracle

       •   Virtual server port is 1812: radius

       •   Virtual server port is 3128: http_proxy

       •   Virtual server port is 3306: mysql

       •   Virtual server port is 5432: pgsql

       •   Virtual server port is 5060: sip

       •   Otherwise: none

       <b>checkcommand</b> <b>=</b> <b>"</b><u>path</u> <u>to</u> <u>script</u><b>"</b>

       This setting is used if checktype is external or external-perl and is the command to be run to check  the
       status of a real server. It should exit with status 0 if everything is ok, or non-zero otherwise.

       Four parameters are passed to the script:

       •   virtual server ip/firewall mark

       •   virtual server port

       •   real server ip

       •   real server port

       If  the  checktype  is  external-perl then the command is assumed to be a Perl script and it is evaluated
       into an anonymous subroutine which is called at check time, avoiding a fork-exec.  The argument signature
       and exit code conventions are identical to checktype  external.   That  is,  an  external-perl  checktype
       should also work as an external checktype.

       Default: <a href="file:/bin/true">/bin/true</a>

       <b>checkport</b> <b>=</b> <u>n</u>

       Number of port to monitor. Sometimes check port differs from service port.

       Default: port specified for each real server

       <b>request</b> <b>=</b> <b>"</b><u>uri</u> <u>to</u> <u>requested</u> <u>object</u><b>"</b>

       This  object will be requested each checkinterval seconds on each real server.  The string must be inside
       quotes. Note that this string may be overridden by an optional per real-server based request-string.

       For an HTTP/HTTPS check, this should be a relative URI, while it has to be absolute for the  'http_proxy'
       check  type.  In  the  latter  case,  this  URI will be requested through the proxy backend that is being
       checked.

       For a DNS check this should the name of an A record, or the address of a PTR record to look up.

       For a MySQL, Oracle or PostgeSQL check, this should be an SQL SELECT query.  The  data  returned  is  not
       checked, only that the answer is one or more rows.  This is a required setting.

       For  a simpletcp check, this string is sent verbatim except any occurrences of \n are replaced with a new
       line character.

       <b>receive</b> <b>=</b> <b>"</b><u>regexp</u> <u>to</u> <u>compare</u><b>"</b>

       If the requested result contains this <u>regexp</u> <u>to</u> <u>compare</u>, the real server is declared  alive.  The  regexp
       must  be  inside  quotes. Keep in mind that regexps are not plain strings and that you need to escape the
       special characters if they should as literals. Note that this regexp may be overridden by an optional per
       real-server based receive regexp.

       For a DNS check this should be any one the A record's addresses or any one of the PTR record's names.  In
       case of dynamic DNS answers (different answers on the same question) a regex to match multiple  addresses
       or PTR record names could also defined.

       For a MySQL check, the receive setting is not used.

       <b>httpmethod</b> <b>=</b> <b>GET</b> | <b>HEAD</b>

       Sets  the  HTTP  method which should be used to fetch the URI specified in the request-string. GET is the
       method used by default if the parameter is not set. If HEAD is used, the receive-string should be unset.

       Default: GET

       <b>virtualhost</b> <b>=</b> <b>"</b><u>hostname</u><b>"</b>

       Used when using a negotiate check with HTTP or HTTPS. Sets the host header used in the HTTP request.   In
       the  case  of HTTPS this generally needs to match the common name of the SSL certificate. If not set then
       the host header will be derived from the request url for the real server if present.  As  a  last  resort
       the IP address of the real server will be used.

       <b>login</b> <b>=</b> <b>"</b><u>username</u><b>"</b>

       For FTP, IMAP, LDAP, MySQL, Oracle, POP and PostgreSQL, the username used to log in.

       For RADIUS the username is used for the attribute User-Name.

       For SIP, the username is used as both the to and from address for an OPTIONS query.

       Default:

       •   FTP: Anonymous

       •   MySQL Oracle, and PostgreSQL: Must be specified in the configuration

       •   SIP: ldirectord\@&lt;hostname&gt;, hostname is derived as per the passwd      option below.

       •   Otherwise: empty string, which denotes that      case authentication will not be attempted.

       <b>passwd</b> <b>=</b> <b>"</b><u>password</u><b>"</b>

       Password to use to login to FTP, IMAP, LDAP, MySQL, Oracle, POP, PostgreSQL and SIP servers.

       For RADIUS the passwd is used for the attribute User-Password.

       Default:

       •   FTP:  ldirectord\@&lt;hostname&gt;,       where  hostname is the environment variable HOSTNAME evaluated at
                run time, or sourced from uname if unset.

       •   Otherwise: empty string.       In the  case  of  LDAP,  MySQL,  Oracle,  and  PostgreSQL  this  means
                that authentication will not be performed.

       <b>database</b> <b>=</b> <b>"</b><u>databasename</u><b>"</b>

       Database  to  use  for  MySQL, Oracle and PostgreSQL servers, this is the database that the query (set by
       <b>receive</b> above) will be performed against.  This is a required setting.

       <b>secret</b> <b>=</b> <b>"</b><u>radiussecret</u><b>"</b>

       Secret to use for RADIUS servers, this is the secret used to perform an Access-Request with the  username
       (set by <b>login</b> above) and passwd (set by <b>passwd</b> above).

       Default: empty string

       <b>scheduler</b> <b>=</b> <u>scheduler_name</u>

       Scheduler to be used by LVS for loadbalancing.  For an information on the available sehedulers please see
       the <b><a href="../man8/ipvsadm.8.html">ipvsadm</a></b>(8) man page.

       Default: "wrr"

       <b>persistent</b> <b>=</b> <u>n</u>

       Number of seconds for persistent client connections.

       <b>netmask</b> <b>=</b> <u>w.x.y.z</u> | <u>prefixlen</u>

       Netmask to be used for granularity of persistent client connections.  IPv4 netmask should be specified in
       dotted quad notation.  IPv6 netmask should be specified as a prefix length between 1 and 128.

       <b>protocol</b> <b>=</b> <b>tcp</b> | <b>udp</b> | <b>fwm</b>

       Protocol  to be used. If the virtual is specified as an IP address and port then it must be one of tcp or
       udp. If a firewall mark then the protocol must be fwm.

       Default:

       •   Virtual is an IP address and port, and the port is not 53: tcp

       •   Virtual is an IP address and port, and the port is 53: udp

       •   Virtual is a firewall mark: fwm

       <b>monitorfile</b> <b>=</b> <b>"</b><u>/path/to/monitorfile</u><b>"</b>

       File to continuously log the real service checks  to  for  this  virtual  service.  This  is  useful  for
       monitoring when and why real services were down or for statistics.

       The log format is: [timestamp|pid|real_service_id|status|message]

       Default: no separate logging of service checks.

       <b>ops</b> <b>=</b> <b>yes</b> | <b>no</b>

       Specify that a virtual service uses one-packet scheduling. This option can be used only for UDP services.
       If this option is specified, all connections are created only to schedule one packet. Option is useful to
       schedule UDP packets from same client port to different real servers.

       <b>servicename</b> <b>=</b> <u>short</u> <u>name</u>

       A  name  for  this  service.  This  is  for the sole purpose of making it easier to know which service is
       affected when e-mail notifications are sent out.  It will be included in the e-mail subject and body.

       <b>comment</b> <b>=</b> <u>comment</u>

       Notes about this service to be included in e-mail notifications (for example, purpose of the  service  or
       relevant administrator to contact).

</pre><h4><b>IPv6</b></h4><pre>
       Directives  for  IPv6  are  virtual6,  real6,  fallback6.   IPv6 addresses specified for virtual6, real6,
       fallback6 and a file of maintenance directory should be enclosed by brackets ([2001:db8::abcd]:80).

       Following checktype and service are supported.

       <b>checktype:</b> <b>connect</b> | <b>external</b> | <b>external-perl</b> | <b>negotiate</b> | <b>off</b> | <b>on</b> | <b>checktimeout</b><u>N</u>

       <b>service:</b> <b>dns</b> | <b>http</b> | <b>https</b> | <b>nntp</b> | <b>none</b> | <b>simpletcp</b> | <b>sip</b>

       Note: When using a service type with http or https, you need to install perl module perl-Net-INET6Glue.

</pre><h4><b>FILES</b></h4><pre>
       <b>/etc/ha.d/ldirectord.cf</b>

       <b>/var/log/ldirectord.log</b>

       <b>/var/run/ldirectord.</b><u>configuration</u><b>.pid</b>

       <b><a href="file:/etc/services">/etc/services</a></b>

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       ipvsadm, heartbeat

       Ldirectord Web Page: <a href="http://www.vergenet.net/linux/ldirectord/">http://www.vergenet.net/linux/ldirectord/</a>

</pre><h4><b>AUTHORS</b></h4><pre>
       Horms &lt;<a href="mailto:horms@verge.net.au">horms@verge.net.au</a>&gt;

       Jacob Rief &lt;<a href="mailto:jacob.rief@tiscover.com">jacob.rief@tiscover.com</a>&gt;

perl v5.40.1                                       2025-06-25                                      <u><a href="../man8/LDIRECTORD.8.html">LDIRECTORD</a></u>(8)
</pre>
 </div>
</div></section>
</div>
</body>
</html>