<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>start-stop-daemon - start and stop system daemon programs</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/dpkg">dpkg_1.22.21ubuntu1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       start-stop-daemon - start and stop system daemon programs

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>start-stop-daemon</b> [<u>option</u>...] <u>command</u>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>start-stop-daemon</b> is used to control the creation and termination of system-level processes.  Using one
       of the matching options, <b>start-stop-daemon</b> can be configured to find existing instances of a running
       process.

       <b>Note</b>: Unless <b>--pid</b> or <b>--pidfile</b> are specified, <b>start-stop-daemon</b> behaves similar to <b><a href="../man1/killall.1.html">killall</a></b>(1).  <b>start-</b>
       <b>stop-daemon</b> will scan the process table looking for any processes which match the process name, parent
       pid, uid, and/or gid (if specified).  Any matching process will prevent <b>--start</b> from starting the daemon.
       All matching processes will be sent the TERM signal (or the one specified via <b>--signal</b> or <b>--retry</b>) if
       <b>--stop</b> is specified.  For daemons which have long-lived children which need to live through a <b>--stop</b>, you
       must specify a pidfile.

</pre><h4><b>COMMANDS</b></h4><pre>
       <b>-S</b>, <b>--start</b> [<b>--</b>] <u>arguments</u>
           Check  for  the  existence  of a specified process.  If such a process exists, <b>start-stop-daemon</b> does
           nothing, and exits with error status 1 (0 if <b>--oknodo</b> is specified).  If  such  a  process  does  not
           exist,  it  starts  an instance, using either the executable specified by <b>--exec</b> or, if specified, by
           <b>--startas</b>.  Any arguments given after <b>--</b> on the command line are passed  unmodified  to  the  program
           being started.

       <b>-K</b>, <b>--stop</b>
           Checks  for  the existence of a specified process.  If such a process exists, <b>start-stop-daemon</b> sends
           it the signal specified by <b>--signal</b>, and exits with error status 0.   If  such  a  process  does  not
           exist,  <b>start-stop-daemon</b>  exits  with  error  status  1 (0 if <b>--oknodo</b> is specified).  If <b>--retry</b> is
           specified, then <b>start-stop-daemon</b> will check that the process(es) have terminated.

       <b>-T</b>, <b>--status</b>
           Check for the existence of a specified process, and returns an exit status code, according to the LSB
           Init Script Actions (since version 1.16.1).

       <b>-H</b>, <b>--help</b>
           Show usage information and exit.

       <b>-V</b>, <b>--version</b>
           Show the program version and exit.

</pre><h4><b>OPTIONS</b></h4><pre>
   <b>Matching</b> <b>options</b>
       <b>--pid</b> <u>pid</u>
           Check for a process with the specified <u>pid</u> (since version 1.17.6).  The <u>pid</u> must be a number  greater
           than 0.

       <b>--ppid</b> <u>ppid</u>
           Check  for  a  process with the specified parent pid <u>ppid</u> (since version 1.17.7).  The <u>ppid</u> must be a
           number greater than 0.

       <b>-p</b>, <b>--pidfile</b> <u>pidfile</u>
           Check whether a process has created the file <u>pidfile</u>.

           <b>Note</b>: Using this matching option alone might cause unintended processes to be acted on,  if  the  old
           process terminated without being able to remove the <u>pidfile</u>.

           <b>Warning</b>:  Using  this match option with a world-writable pidfile or using it alone with a daemon that
           writes the pidfile as an unprivileged (non-root) user will be refused with an  error  (since  version
           1.19.3)  as  this  is a security risk, because either any user can write to it, or if the daemon gets
           compromised, the contents of the pidfile cannot be trusted, and then a privileged runner (such as  an
           init  script  executed as root) would end up acting on any system process.  Using <u>/dev/null</u> is exempt
           from these checks.

       <b>-x</b>, <b>--exec</b> <u>executable</u>
           Check for processes that are instances of this <u>executable</u>.  The  <u>executable</u>  argument  should  be  an
           absolute pathname.

           <b>Note</b>:  This  might not work as intended with interpreted scripts, as the executable will point to the
           interpreter.  Take into account processes running from inside a chroot will also be matched, so other
           match restrictions might be needed.

       <b>-n</b>, <b>--name</b> <u>process-name</u>
           Check for processes with the name <u>process-name</u>.  The <u>process-name</u> is usually  the  process  filename,
           but it could have been changed by the process itself.

           <b>Note</b>: On most systems this information is retrieved from the process comm name from the kernel, which
           tends to have a relatively short length limit (assuming more than 15 characters is non-portable).

       <b>-u</b>, <b>--user</b> <u>username</u>|<u>uid</u>
           Check for processes owned by the user specified by <u>username</u> or <u>uid</u>.

           <b>Note</b>: Using this matching option alone will cause all processes matching the user to be acted on.

   <b>Generic</b> <b>options</b>
       <b>-g</b>, <b>--group</b> <u>group</u>|<u>gid</u>
           Change to <u>group</u> or <u>gid</u> when starting the process.

       <b>-s</b>, <b>--signal</b> <u>signal</u>
           With <b>--stop</b>, specifies the signal to send to processes being stopped (default TERM).

       <b>-R</b>, <b>--retry</b> <u>timeout</u>|<u>schedule</u>
           With <b>--stop</b>, specifies that <b>start-stop-daemon</b> is to check whether the process(es) do finish.  It will
           check repeatedly whether any matching processes are running, until none are.  If the processes do not
           exit it will then take further action as determined by the schedule.

           If  <u>timeout</u>  is specified instead of <u>schedule</u>, then the schedule <u>signal</u><b>/</b><u>timeout</u><b>/KILL/</b><u>timeout</u> is used,
           where <u>signal</u> is the signal specified with <b>--signal</b>.

           <u>schedule</u> is a list of at least two items separated by slashes (<b>/</b>); each item may be <b>-</b><u>signal-number</u> or
           [<b>-</b>]<u>signal-name</u>, which means to send that signal, or <u>timeout</u>, which means to wait  that  many  seconds
           for  processes  to  exit,  or  <b>forever</b>,  which  means  to  repeat the rest of the schedule forever if
           necessary.

           If the end of the schedule is reached and <b>forever</b> is not specified, then <b>start-stop-daemon</b> exits with
           error status 2.  If a schedule is specified, then any signal specified with <b>--signal</b> is ignored.

       <b>-a</b>, <b>--startas</b> <u>pathname</u>
           With <b>--start</b>, start the process specified by <u>pathname</u>.  If not specified, defaults  to  the  argument
           given to <b>--exec</b>.

       <b>-t</b>, <b>--test</b>
           Print actions that would be taken and set appropriate return value, but take no action.

       <b>-o</b>, <b>--oknodo</b>
           Return exit status 0 instead of 1 if no actions are (would be) taken.

       <b>-q</b>, <b>--quiet</b>
           Do not print informational messages; only display error messages.

       <b>-c</b>, <b>--chuid</b> <u>username</u>|<u>uid</u>[<b>:</b><u>group</u>|<u>gid</u>]
           Change to this username/uid before starting the process.  You can also specify a group by appending a
           <b>:</b>,  then  the  group or gid in the same way as you would for the <b><a href="../man1/chown.1.html">chown</a></b>(1) command (<u>user</u><b>:</b><u>group</u>).  If a
           user is specified without a group, the primary GID for that user is used.  When using this option you
           must realize that the primary and supplemental groups are set as well, even if the <b>--group</b> option  is
           not  specified.  The <b>--group</b> option is only for groups that the user isn't normally a member of (like
           adding per process group membership for generic users like <b>nobody</b>).

       <b>-r</b>, <b>--chroot</b> <u>root</u>
           Change directory and chroot to <u>root</u> before starting the process.  Please note  that  the  pidfile  is
           also written after the chroot.

       <b>-d</b>, <b>--chdir</b> <u>path</u>
           Change  directory  to  <u>path</u>  before  starting  the  process.   This  is  done after the chroot if the
           <b>-r</b>|<b>--chroot</b> option is set.  When not specified, <b>start-stop-daemon</b> will change directory to  the  root
           directory before starting the process.

       <b>-b</b>, <b>--background</b>
           Typically  used  with  programs  that  don't detach on their own.  This option will force <b>start-stop-</b>
           <b>daemon</b> to fork before starting the process, and force it into the background.

           <b>Warning</b>: <b>start-stop-daemon</b> cannot check the exit status if the  process  fails  to  execute  for  <b>any</b>
           reason.   This  is a last resort, and is only meant for programs that either make no sense forking on
           their own, or where it's not feasible to add the code for them to do this themselves.

       <b>--notify-await</b>
           Wait for the background process to send a  readiness  notification  before  considering  the  service
           started  (since  version  1.19.3).   This  implements  parts  of  the  systemd readiness protocol, as
           specified in the <b><a href="../man3/sd_notify.3.html">sd_notify</a></b>(3) manual page.  The following variables are supported:

           <b>READY=1</b>
               The program is ready to give service, so we can exit safely.

           <b>EXTEND_TIMEOUT_USEC=</b><u>number</u>
               The program requests to extend the timeout by <u>number</u> microseconds.  This will reset  the  current
               timeout to the specified value.

           <b>ERRNO=</b><u>number</u>
               The  program  is  exiting  with an error.  Do the same and print the user-friendly string for the
               <b>errno</b> value.

       <b>--notify-timeout</b> <u>timeout</u>
           Set a timeout for the <b>--notify-await</b> option (since version 1.19.3).  When  the  timeout  is  reached,
           <b>start-stop-daemon</b>  will  exit with an error code, and no readiness notification will be awaited.  The
           default is <b>60</b> seconds.

       <b>-C</b>, <b>--no-close</b>
           Do not close any file descriptor when forcing the daemon into the background (since version  1.16.5).
           Used  for  debugging  purposes  to see the process output, or to redirect file descriptors to log the
           process output.  Only relevant when using <b>--background</b>.

       <b>-O</b>, <b>--output</b> <u>pathname</u>
           Redirect <b>stdout</b> and <b>stderr</b> to <u>pathname</u> when forcing the daemon into  the  background  (since  version
           1.20.6).  Only relevant when using <b>--background</b>.

       <b>-N</b>, <b>--nicelevel</b> <u>int</u>
           This alters the priority of the process before starting it.

       <b>-P</b>, <b>--procsched</b> <u>policy</u><b>:</b><u>priority</u>
           This  alters  the  process  scheduler  policy  and  priority of the process before starting it (since
           version 1.15.0).  The priority can be optionally specified by appending a <b>:</b> followed  by  the  value.
           The default <u>priority</u> is 0.  The currently supported policy values are <b>other</b>, <b>fifo</b> and <b>rr</b>.

           This option might do nothing on some systems, where POSIX process scheduling is not supported.

       <b>-I</b>, <b>--iosched</b> <u>class</u><b>:</b><u>priority</u>
           This  alters  the  IO  scheduler  class and priority of the process before starting it (since version
           1.15.0).  The priority can be optionally specified by appending a  <b>:</b>  followed  by  the  value.   The
           default <u>priority</u> is 4, unless <u>class</u> is <b>idle</b>, then <u>priority</u> will always be 7.  The currently supported
           values for <u>class</u> are <b>idle</b>, <b>best-effort</b> and <b>real-time</b>.

           This option might do nothing on some systems, where Linux IO scheduling is not supported.

       <b>-k</b>, <b>--umask</b> <u>mask</u>
           This sets the umask of the process before starting it (since version 1.13.22).

       <b>-m</b>, <b>--make-pidfile</b>
           Used  when  starting  a  program that does not create its own pid file.  This option will make <b>start-</b>
           <b>stop-daemon</b> create the file referenced with <b>--pidfile</b> and place the pid into it just before executing
           the process.  Note, the file will only be removed when stopping the program  if  <b>--remove-pidfile</b>  is
           used.

           <b>Note</b>:  This  feature  may  not work in all cases.  Most notably when the program being executed forks
           from its main process.   Because  of  this,  it  is  usually  only  useful  when  combined  with  the
           <b>--background</b> option.

       <b>--remove-pidfile</b>
           Used  when  stopping  a  program that does not remove its own pid file (since version 1.17.19).  This
           option will make <b>start-stop-daemon</b> remove the file referenced with <b>--pidfile</b>  after  terminating  the
           process.

       <b>-v</b>, <b>--verbose</b>
           Print verbose informational messages.

</pre><h4><b>EXIT</b> <b>STATUS</b></h4><pre>
       <b>0</b>   The  requested  action was performed.  If <b>--oknodo</b> was specified, it's also possible that nothing had
           to be done.  This can happen when <b>--start</b> was specified and a matching process was  already  running,
           or when <b>--stop</b> was specified and there were no matching processes.

       <b>1</b>   If <b>--oknodo</b> was not specified and nothing was done.

       <b>2</b>   If  <b>--stop</b> and <b>--retry</b> were specified, but the end of the schedule was reached and the processes were
           still running.

       <b>3</b>   Any other error.

       When using the <b>--status</b> command, the following status codes are returned:

       <b>0</b>   Program is running.

       <b>1</b>   Program is not running and the pid file exists.

       <b>3</b>   Program is not running.

       <b>4</b>   Unable to determine program status.

</pre><h4><b>EXAMPLE</b></h4><pre>
       Start the <b>food</b> daemon, unless one is already running (a process named food, running as  user  food,  with
       pid in food.pid):

        start-stop-daemon --start --oknodo --user food --name food \
          --pidfile /run/food.pid --startas /usr/sbin/food \
          --chuid food -- --daemon

       Send <b>SIGTERM</b> to <b>food</b> and wait up to 5 seconds for it to stop:

        start-stop-daemon --stop --oknodo --user food --name food \
          --pidfile /run/food.pid --retry 5

       Demonstration of a custom schedule for stopping <b>food</b>:

        start-stop-daemon --stop --oknodo --user food --name food \
          --pidfile /run/food.pid --retry=TERM/30/KILL/5

1.22.21                                            2025-07-14                               <u><a href="../man8/start-stop-daemon.8.html">start-stop-daemon</a></u>(8)
</pre>
 </div>
</div></section>
</div>
</body>
</html>