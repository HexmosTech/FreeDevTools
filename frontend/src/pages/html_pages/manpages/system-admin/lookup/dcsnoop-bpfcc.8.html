<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>dcsnoop - Trace directory entry cache (dcache) lookups. Uses Linux eBPF/bcc.</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/bpfcc-tools">bpfcc-tools_0.31.0+ds-7ubuntu2_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       dcsnoop - Trace directory entry cache (dcache) lookups. Uses Linux eBPF/bcc.

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>dcsnoop</b> <b>[-h]</b> <b>[-a]</b>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       By  default,  this  traces  every failed dcache lookup (cache miss), and shows the process performing the
       lookup and the filename requested. A -a option can be used to show all lookups, not just failed ones.

       The output of this tool can be verbose, and is intended for further investigations of dcache  performance
       beyond <a href="../man8/dcstat.8.html">dcstat</a>(8), which prints per-second summaries.

       This  uses  kernel  dynamic  tracing  of the d_lookup() function, and will need and will need updating to
       match any changes to this function.

       Since this uses BPF, only the root user can use this tool.

</pre><h4><b>REQUIREMENTS</b></h4><pre>
       CONFIG_BPF and bcc.

</pre><h4><b>OPTIONS</b></h4><pre>
       -h     Print usage message.

       -a     Trace references, not just failed lookups.

</pre><h4><b>EXAMPLES</b></h4><pre>
       Trace failed dcache lookups:
              # <b>dcsnoop</b>

       Trace all dcache lookups:
              # <b>dcsnoop</b> <b>-a</b>

</pre><h4><b>FIELDS</b></h4><pre>
       TIME(s)
              Time of lookup, in seconds.

       PID    Process ID.

       COMM   Process name.

       T      Type: R == reference (only visible with -a), M == miss. A miss will print two lines, one  for  the
              reference, and one for the miss.

       FILE   The  file  name  component  that  was  being looked up. This contains trailing pathname components
              (after '/'), which will be the subject of subsequent lookups.

</pre><h4><b>OVERHEAD</b></h4><pre>
       File name lookups can be frequent (depending on the workload), and this  tool  prints  a  line  for  each
       failed lookup, and with -a, each reference as well. The output may be verbose, and the incurred overhead,
       while optimized to some extent, may still be from noticeable to significant. This is only really intended
       for deeper investigations beyond <a href="../man8/dcstat.8.html">dcstat</a>(8), when absolutely necessary.  Measure and quantify the overhead
       in a test environment before use.

</pre><h4><b>SOURCE</b></h4><pre>
       This is from bcc.

              https://github.com/iovisor/bcc

       Also  look  in  the bcc distribution for a companion _examples.txt file containing example usage, output,
       and commentary for this tool.

</pre><h4><b>OS</b></h4><pre>
       Linux

</pre><h4><b>STABILITY</b></h4><pre>
       Unstable - in development.

</pre><h4><b>AUTHOR</b></h4><pre>
       Brendan Gregg

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <a href="../man1/dcstat.1.html">dcstat</a>(1)

USER COMMANDS                                      2016-02-10                                         <u><a href="../man8/dcsnoop.8.html">dcsnoop</a></u>(8)
</pre>
 </div>
</div></section>
</div>
</body>
</html>