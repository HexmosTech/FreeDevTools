<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>nat - stateless native address translation action</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/iproute2">iproute2_6.14.0-1ubuntu3_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       nat - stateless native address translation action

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>tc</b> ... <b>action</b> <b>nat</b> <u>DIRECTION</u> <u>OLD</u> <u>NEW</u>

       <u>DIRECTION</u> := { <b>ingress</b> | <b>egress</b> }

       <u>OLD</u> := <u>IPV4_ADDR_SPEC</u>

       <u>NEW</u> := <u>IPV4_ADDR_SPEC</u>

       <u>IPV4_ADDR_SPEC</u> := { <b>default</b> | <b>any</b> | <b>all</b> | <u>in_addr</u>[<b>/</b>{<u>prefix</u>|<u>netmask</u>}]

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The  <b>nat</b>  action  allows  one to perform NAT without the overhead of conntrack, which is desirable if the
       number of flows or addresses to perform NAT on is large. This action is best used in combination with the
       <b>u32</b> filter to allow for efficient lookups of a large number of stateless NAT rules in constant time.

</pre><h4><b>OPTIONS</b></h4><pre>
       <b>ingress</b>
              Translate destination addresses, i.e. perform DNAT.

       <b>egress</b> Translate source addresses, i.e. perform SNAT.

       <u>OLD</u>    Specifies addresses which should be translated.

       <u>NEW</u>    Specifies addresses which <u>OLD</u> should be translated into.

</pre><h4><b>NOTES</b></h4><pre>
       The accepted address format in <u>OLD</u> and <u>NEW</u> is quite flexible.  It  may  either  consist  of  one  of  the
       keywords  <b>default</b>,  <b>any</b>  or  <b>all</b>, representing the all-zero IP address or a combination of IP address and
       netmask or prefix length separated by a slash (<b>/</b>) sign. In any case, the mask (or prefix length) value of
       <u>OLD</u> is used for <u>NEW</u> as well so that a one-to-one mapping of addresses is assured.

       Address translation is done using a combination of binary operations.  First,  the  original  (source  or
       destination)  address is matched against the value of <u>OLD</u>.  If the original address fits, the new address
       is created by taking the leading bits from <u>NEW</u> (defined by the netmask of <u>OLD</u>) and taking  the  remaining
       bits from the original address.

       There is rudimental support for upper layer protocols, namely TCP, UDP and ICMP.  While for the first two
       only  checksum  recalculation  is  performed,  the  action also takes care of embedded IP headers in ICMP
       packets by translating the respective address therein, too.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man8/tc.8.html">tc</a></b>(8)

iproute2                                           12 Jan 2015                               <u>NAT</u> <u>action</u> <u>in</u> <u><a href="../man8/tc.8.html">tc</a></u>(8)
</pre>
 </div>
</div></section>
</div>
</body>
</html>