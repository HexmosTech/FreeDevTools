<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>fence_gce - Fence agent for GCE (Google Cloud Engine)</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/fence-agents-gce">fence-agents-gce_4.16.0-3ubuntu1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       fence_gce - Fence agent for GCE (Google Cloud Engine)

</pre><h4><b>DESCRIPTION</b></h4><pre>
       fence_gce  is a Power Fencing agent for GCE (Google Cloud Engine). It uses the googleapiclient library to
       connect to GCE.  googleapiclient can be configured with Google SDK  CLI  or  by  executing  'gcloud  auth
       application-default               login'.                For               instructions              see:
       https://cloud.google.com/compute/docs/tutorials/python-guide

       The fence agent accepts options on the command line as  well  as  from  stdin.  Fenced  sends  parameters
       through stdin when it execs the agent. The agent can be run by itself with command line options.  This is
       useful for testing and for turning outlets on or off from scripts.

       Vendor URL: <a href="http://cloud.google.com">http://cloud.google.com</a>

</pre><h4><b>PARAMETERS</b></h4><pre>

       <b>-o,</b> <b>--action=[action]</b>
              Fencing action (Default Value: reboot)

       <b>-m,</b> <b>--method=[method]</b>
              Method to fence (onoff|cycle) (Default Value: cycle)

       <b>-n,</b> <b>--plug=[id]</b>
              Physical  plug  number  on  device,  UUID  or  identification  of machine This parameter is always
              required.

       <b>--zone=[name]</b>
              Zone.

       <b>--project=[name]</b>
              Project ID.

       <b>--stackdriver-logging</b>
              Stackdriver-logging support.

       <b>--baremetalsolution</b>
              If enabled this is a bare metal offering from google.

       <b>--apitimeout=[seconds]</b>
              Timeout in seconds to use for API calls, default is 60. (Default Value: 60)

       <b>--retries=[retries]</b>
              Number of retries on failure for API calls, default is 3. (Default Value: 3)

       <b>--retrysleep=[seconds]</b>
              Time to sleep in seconds between API retries, default is 5. (Default Value: 5)

       <b>--serviceaccount=[filename]</b>
              Service Account to use for authentication to the google cloud APIs.

       <b>--plugzonemap=[plugzonemap]</b>
              Comma separated zone map when fencing multiple plugs.

       <b>--proxyhost=[proxy_host]</b>
              If a proxy is used for internet access, the proxy host should be specified.

       <b>--proxyport=[proxy_port]</b>
              If a proxy is used for internet access, the proxy port should be specified.

       <b>--earlyexit</b>
              If an existing reset operation is detected, the fence  agent  will  return  before  the  operation
              completes with a 0 return code.

       <b>--warntimeout=[warn_timeout]</b>
              If  the  operation  is  not  completed  within  the timeout, the cluster operations are allowed to
              continue.

       <b>--errortimeout=[error_timeout]</b>
              If the operation is not completed within  the  timeout,  cluster  is  notified  of  the  operation
              failure.

       <b>--runonwarn=[run_on_warn]</b>
              If a timeout would occur while running the agent, then the supplied command is run.

       <b>--runonfail=[run_on_fail]</b>
              If a failure would occur while running the agent, then the supplied command is run.

       <b>-q,</b> <b>--quiet</b>
              Disable logging to stderr. Does not affect --verbose or --debug-file or logging to syslog.

       <b>-v,</b> <b>--verbose</b>
              Verbose  mode.  Multiple  -v  flags  can  be  stacked on the command line (e.g., -vvv) to increase
              verbosity.

       <b>--verbose-level</b>
              Level of debugging detail in output. Defaults to the number of --verbose flags  specified  on  the
              command  line,  or  to  1  if verbose=1 in a stonith device configuration (i.e., on stdin).

       <b>-D,</b> <b>--debug-file=[debugfile]</b>
              Write debug information to given file

       <b>-V,</b> <b>--version</b>
              Display version information and exit

       <b>-h,</b> <b>--help</b>
              Display help and exit

       <b>--plug-separator=[char]</b>
              Separator for plug parameter when specifying more than 1 plug (Default Value: ,)

       <b>-C,</b> <b>--separator=[char]</b>
              Separator for CSV created by 'list' operation (Default Value: ,)

       <b>--delay=[seconds]</b>
              Wait X seconds before fencing is started (Default Value: 0)

       <b>--disable-timeout=[true/false]</b>
              Disable timeout (true/false) (default: true when run from Pacemaker 2.0+)

       <b>--login-timeout=[seconds]</b>
              Wait X seconds for cmd prompt after login (Default Value: 5)

       <b>--power-timeout=[seconds]</b>
              Test X seconds for status change after ON/OFF (Default Value: 60)

       <b>--power-wait=[seconds]</b>
              Wait X seconds after issuing ON/OFF (Default Value: 0)

       <b>--shell-timeout=[seconds]</b>
              Wait X seconds for cmd prompt after issuing command (Default Value: 3)

       <b>--stonith-status-sleep=[seconds]</b>
              Sleep X seconds between status calls during a STONITH action (Default Value: 1)

       <b>--retry-on=[attempts]</b>
              Count of attempts to retry power on (Default Value: 1)

</pre><h4><b>ACTIONS</b></h4><pre>

       <b>on</b>     Power on machine.

       <b>off</b>    Power off machine.

       <b>reboot</b> Reboot machine.

       <b>status</b> This returns the status of the plug/virtual machine.

       <b>list</b>   List available plugs with aliases/virtual machines if there is support for more then  one  device.
              Returns N/A otherwise.

       <b>list-status</b>
              List  available  plugs  with  aliases/virtual machines and their power state if it can be obtained
              without additional commands.

       <b>monitor</b>
              Check the health of fence device

       <b>metadata</b>
              Display the XML metadata describing this resource.

       <b>manpage</b>
               The operational behavior of this is not known.

       <b>validate-all</b>
              Validate if all required parameters are entered.

</pre><h4><b>STDIN</b> <b>PARAMETERS</b></h4><pre>

       <b>action</b> Fencing action (Default Value: reboot)

       <b>method</b> Method to fence (onoff|cycle) (Default Value: cycle)

       <b>plug</b>   Physical plug number on device, UUID  or  identification  of  machine  This  parameter  is  always
              required. Obsoletes: port

       <b>zone</b>   Zone.

       <b>project</b>
              Project ID.

       <b>stackdriver_logging</b>
              Stackdriver-logging support. Obsoletes: stackdriver-logging

       <b>baremetalsolution</b>
              If enabled this is a bare metal offering from google.

       <b>apitimeout</b>
              Timeout in seconds to use for API calls, default is 60. (Default Value: 60)

       <b>retries</b>
              Number of retries on failure for API calls, default is 3. (Default Value: 3)

       <b>retrysleep</b>
              Time to sleep in seconds between API retries, default is 5. (Default Value: 5)

       <b>serviceaccount</b>
              Service Account to use for authentication to the google cloud APIs.

       <b>plugzonemap</b>
              Comma separated zone map when fencing multiple plugs.

       <b>proxyhost</b>
              If a proxy is used for internet access, the proxy host should be specified.

       <b>proxyport</b>
              If a proxy is used for internet access, the proxy port should be specified.

       <b>earlyexit</b>
              If  an  existing  reset  operation  is  detected, the fence agent will return before the operation
              completes with a 0 return code.

       <b>warntimeout</b>
              If the operation is not completed within the  timeout,  the  cluster  operations  are  allowed  to
              continue.

       <b>errortimeout</b>
              If  the  operation  is  not  completed  within  the  timeout, cluster is notified of the operation
              failure.

       <b>runonwarn</b>
              If a timeout would occur while running the agent, then the supplied command is run.

       <b>runonfail</b>
              If a failure would occur while running the agent, then the supplied command is run.

       <b>quiet</b>  Disable logging to stderr. Does not affect --verbose or --debug-file or logging to syslog.

       <b>verbose</b>
              Verbose mode. Multiple -v flags can be stacked on  the  command  line  (e.g.,  -vvv)  to  increase
              verbosity.

       <b>verbose_level</b>
              Level  of  debugging  detail in output. Defaults to the number of --verbose flags specified on the
              command line, or to 1 if verbose=1 in a stonith device  configuration  (i.e.,  on  stdin).

       <b>debug_file</b>
              Write debug information to given file Obsoletes: debug

       <b>version</b>
              Display version information and exit

       <b>help</b>   Display help and exit

       <b>plug_separator</b>
              Separator for plug parameter when specifying more than 1 plug (Default Value: ,)

       <b>separator</b>
              Separator for CSV created by 'list' operation (Default Value: ,)

       <b>delay</b>  Wait X seconds before fencing is started (Default Value: 0)

       <b>disable_timeout</b>
              Disable timeout (true/false) (default: true when run from Pacemaker 2.0+)

       <b>login_timeout</b>
              Wait X seconds for cmd prompt after login (Default Value: 5)

       <b>power_timeout</b>
              Test X seconds for status change after ON/OFF (Default Value: 60)

       <b>power_wait</b>
              Wait X seconds after issuing ON/OFF (Default Value: 0)

       <b>shell_timeout</b>
              Wait X seconds for cmd prompt after issuing command (Default Value: 3)

       <b>stonith_status_sleep</b>
              Sleep X seconds between status calls during a STONITH action (Default Value: 1)

       <b>retry_on</b>
              Count of attempts to retry power on (Default Value: 1)

fence_gce (Fence Agent)                            2009-10-20                                     <u><a href="../man8/FENCE_AGENT.8.html">FENCE_AGENT</a></u>(8)
</pre>
 </div>
</div></section>
</div>
</body>
</html>