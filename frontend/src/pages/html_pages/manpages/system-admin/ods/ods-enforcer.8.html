<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ods-enforcer - OpenDNSSEC enforcer Engine client</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/opendnssec-enforcer-sqlite3">opendnssec-enforcer-sqlite3_2.1.13-1.2ubuntu3_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       <b>ods-enforcer</b> - OpenDNSSEC enforcer Engine client

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>ods-enforcer</b> help | start | stop | reload | running
       <b>ods-enforcer</b> queue | flush | signconf | enforce | verbosity &lt;number&gt;
       <b>ods-enforcer</b> <b>update</b> conf | repositorylist | all
       <b>ods-enforcer</b> <b>policy</b> list | export | import | purge | resalt
       <b>ods-enforcer</b> <b>zone</b> list | add | delete | set-policy
       <b>ods-enforcer</b> <b>zonelist</b> export | import
       <b>ods-enforcer</b> <b>key</b> list | export | import | ds-submit | ds-seen | ds-retract | ds-gone | generate | purge |
       rollover
       <b>ods-enforcer</b> <b>backup</b> list | prepare | commit | rollback
       <b>ods-enforcer</b> <b>rollover</b> list
       <b>ods-enforcer</b> <b>repository</b> list
       <b>ods-enforcer</b> help [COMMAND]

</pre><h4><b>DESCRIPTION</b></h4><pre>
       ods-enforcer  is  part  of the OpenDNSSEC software. With this tool, you can send commands to the enforcer
       engine daemon.  ods-enforcer manages the operation of the KASP Enforcer, which is the part of  OpenDNSSEC
       that triggers key generation and signing operations on domains based on policies with user-defined timing
       and  security  requirements.  Among  the functions of ods-enforcer are key management, import to the zone
       list and manually rolling keys to recover from  exceptional  situations  like  key  loss.  The  following
       sections discuss the subcommands.

       For more information, go to <b><a href="http://www.opendnssec.org">http://www.opendnssec.org</a></b> and visit the Documentation page.

</pre><h4><b>GENERIC</b> <b>OPTIONS</b></h4><pre>
       <b>help</b>   Show a brief list of commands.

       <b>start</b>  Start the engine and the process.

       <b>stop</b>   Stop the engine and terminate the process.

       <b>reload</b> Reload the engine.

       <b>running</b>
              Return acknowledgment that the engine is running.

       <b>verbosity</b>
              Set verbosity to the given number.

</pre><h4><b>SCHEDULING</b> <b>OPTIONS</b></h4><pre>
       <b>queue</b>  queue  shows  all scheduled tasks with their time of the earliest executions, as well as all tasks
              currently being processed.

       <b>flush</b>  Execute all scheduled tasks immediately.

       <b>enforce</b>
              Force the enforcer to run once for every zone.

</pre><h4><b>SIGNCONF</b> <b>AND</b> <b>UPDATE</b> <b>SUBCOMMANDS</b></h4><pre>
       <b>signconf</b>
              Force write of signer configuration files for all zones.

       <b>update</b> <b>conf</b>
              Update the configuration from conf.xml and reload the enforcer.

       <b>update</b> <b>repository</b> <b>list</b>
              List repositories.

       <b>update</b> <b>all</b>
              Perform policy import, zonelist import, and update repository list.

</pre><h4><b>POLICY</b> <b>ADMINISTRATION</b> <b>SUBCOMMNADS</b></h4><pre>
       <b>policy</b> <b>list</b>
              List all policies in the database.

       <b>policy</b> <b>export</b> <b>(--policy</b> <b>&lt;policy&gt;</b> <b>|</b> <b>--all)</b>
              Export a specified policy or all of them from the database.

       <b>policy</b> <b>import</b>
              Import policies from kasp.xml into the enforcer database.

       <b>policy</b> <b>purge</b>
              This command will remove any policies from the database which have no associated zones.  Use  with
              caution.

       <b>policy</b> <b>resalt</b>
              Generate new NSEC3 salts for policies that have salts older than the resalt duration.

</pre><h4><b>ZONE</b> <b>MANAGEMENT</b> <b>SUBCOMMANDS</b></h4><pre>
       <b>zone</b> <b>list</b>
              List all zones currently in the database.

       <b>zone</b> <b>add</b> <b>--zone</b> <b>&lt;zone&gt;</b> <b>[--policy</b> <b>&lt;policy&gt;]</b> <b>[--signerconf</b> <b>&lt;path&gt;]</b> <b>[--in-type</b> <b>&lt;type&gt;]</b> <b>[--input</b> <b>&lt;path&gt;]</b>
       <b>[--out-type</b> <b>&lt;type&gt;]</b> <b>[--output</b> <b>&lt;path&gt;]</b> <b>[--xml]</b> <b>[--suspend]</b>
              Add a new zone to the enforcer database.

       <b>zone</b> <b>delete</b> <b>(--zone</b> <b>&lt;zone&gt;</b> <b>|</b> <b>--all</b> <b>[--xml])</b>
              Delete a zone or all of zones from the enforcer database.

       <b>zone</b> <b>set-policy</b> <b>--zone</b> <b>&lt;zone&gt;</b> <b>--policy</b> <b>&lt;policy&gt;</b> <b>[--xml]</b>
              Change the policy for a zone in the enforcer database.

       <b>zonelist</b> <b>export</b>
              Export list of zones from the database to the zonelist.xml file.

       <b>zonelist</b> <b>import</b> <b>[--remove-missing-zones]</b> <b>[--file</b> <b>&lt;absolute</b> <b>path&gt;]</b>
              Import zones from zonelist.xml into the enforcer database.

</pre><h4><b>KEY</b> <b>MANAGEMENT</b> <b>SUBCOMMANDS</b></h4><pre>
       <b>key</b> <b>list</b> <b>[--verbose]</b> <b>[--debug]</b> <b>[--full]</b> <b>[--parsable]</b> <b>[--zone]</b> <b>[--keystate]</b> <b>[--all]</b>
              List information about keys in all zones, or in a particular zone from the database.

       <b>key</b> <b>export</b> <b>(--zone</b> <b>&lt;zone&gt;</b> <b>|</b> <b>--all)</b> <b>[--keystate</b> <b>&lt;state&gt;]</b> <b>[--keytype</b> <b>&lt;type&gt;]</b> <b>[--ds]</b>
              Export DNSKEY(s) for a given zone/all from the database.

       <b>key</b> <b>import</b> <b>--cka_id</b> <b>&lt;CKA_ID&gt;</b> <b>--repository</b> <b>&lt;repository&gt;</b> <b>--zone</b> <b>&lt;zone&gt;</b> <b>--bits</b> <b>&lt;size&gt;</b> <b>--algorithm</b>
       <b>&lt;algorithm&gt;</b> <b>--keystate</b> <b>&lt;state&gt;</b> <b>--keytype</b> <b>&lt;type&gt;</b> <b>--inception_time</b> <b>&lt;time&gt;</b>
              Add a key which was created outside of the OpenDNSSEC code into the enforcer database.

       <b>key</b> <b>ds-submit</b> <b>--zone</b> <b>&lt;zone&gt;</b> <b>(--keytag</b> <b>&lt;keytag&gt;</b> <b>|</b> <b>--cka_id</b> <b>&lt;CKA_ID&gt;)</b>
              Issue a ds-submit to the enforcer for a KSK.

       <b>key</b> <b>ds-seen</b> <b>--zone</b> <b>&lt;zone&gt;</b> <b>(--keytag</b> <b>&lt;keytag&gt;</b> <b>|</b> <b>--cka_id</b> <b>&lt;CKA_ID&gt;)</b>
              Issue a ds-seen to the enforcer for a KSK.

       <b>key</b> <b>ds-seen</b> <b>--all</b>
              Issue  a  ds-seen  for  all  ready (for ds-seen) KSKs. This command indicates to OpenDNSSEC that a
              submitted DS record has appeared in the parent zone, and thereby trigger the completion of  a  KSK
              rollover.

       <b>key</b> <b>ds-retract</b> <b>--zone</b> <b>&lt;zone&gt;</b> <b>(--keytag</b> <b>&lt;keytag&gt;</b> <b>|</b> <b>--cka_id</b> <b>&lt;CKA_ID&gt;)</b>
              Issue a ds-retract to the enforcer for a KSK.

       <b>key</b> <b>ds-gone</b> <b>--zone</b> <b>&lt;zone&gt;</b> <b>(--keytag</b> <b>&lt;keytag&gt;</b> <b>|</b> <b>--cka_id</b> <b>&lt;CKA_ID&gt;)</b>
              Issue a ds-gone to the enforcer for a KSK.

       <b>key</b> <b>generate</b> <b>--duration</b> <b>&lt;duration&gt;</b> <b>(--policy</b> <b>&lt;policy&gt;</b> <b>|</b> <b>--all)</b>
              Pre-generate  keys for all or a given policy, the duration to pre-generate for can be specified or
              otherwise its taken from the conf.xml.

       <b>key</b> <b>purge</b> <b>(--policy</b> <b>&lt;policy&gt;</b> <b>|</b> <b>--zone</b> <b>&lt;zone&gt;</b> <b>|</b> <b>--delete)</b>
              This command will remove keys from the database and HSM that are dead.  If the  --delete  (or  -d)
              flag  is given, the keys are also purged from the HSM.  Keys are always purged from the HSM if the
              &lt;Purge&gt;

       <b>key</b> <b>rollover</b> <b>(--zone</b> <b>&lt;zone&gt;</b> <b>|</b> <b>--policy</b> <b>&lt;policy&gt;)</b> <b>[--keytype</b> <b>&lt;keytype&gt;</b> <b>|</b> <b>--all]</b>
              Start a key rollover of the desired type *now* or all of them. The process is the same as for  the
              scheduled  automated  rollovers  however  it  does not wait for the keys lifetime to expire before
              rolling. The next rollover is due after the newest key aged passed its lifetime.

       <b>rollover</b> <b>list</b> <b>[--zone</b> <b>&lt;zone&gt;]</b>
              List the expected dates and times of upcoming rollovers. This can  be  used  to  get  an  idea  of
              upcoming works.

</pre><h4><b>REPOSITORY</b> <b>AND</b> <b>BACKUP</b> <b>SUBCOMMANDS</b></h4><pre>
       <b>backup</b> <b>list</b> <b>--repository</b> <b>&lt;repository&gt;</b>
              Enumerate backup status of keys.

       <b>backup</b> <b>prepare</b> <b>--repository</b> <b>&lt;repository&gt;</b>
              Flag the keys found in all configured HSMs as to be backed up.

       <b>backup</b> <b>commit</b> <b>--repository</b> <b>&lt;repository&gt;</b>
              Mark flagged keys found in all configured HSMs as backed up.

       <b>backup</b> <b>rollback</b> <b>--repository</b> <b>&lt;repository&gt;</b>

       <b>repository</b> <b>list</b>
              List repositories.

</pre><h4><b>FILES</b></h4><pre>
       <b>/etc/opendnssec/conf.xml</b>
              The main configuration file for OpenDNSSEC.

       <b>/etc/opendnssec/zonelist.xml</b>
              The list of zones as defined in conf.xml. This list is used during 'zonelist import'.

       <b>/etc/opendnssec/kasp.xml</b>
              The configuration of policies that define timing and security, as defined in conf.xml.

       <b>/var/lib/opendnssec/unsigned/</b>
              The location that is usually configured in conf.xml which contains unsigned zones.

       <b>/var/lib/opendnssec/signed/</b>
              The location that is usually configured in conf.xml which contains signed zones.

</pre><h4><b>DIAGNOSTICS</b></h4><pre>
       will log all the problems via stderr.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <a href="../man8/ods-control.8.html">ods-control</a>(8),   <a href="../man8/ods-enforcerd.8.html">ods-enforcerd</a>(8),   <a href="../man8/ods-signerd.8.html">ods-signerd</a>(8),   <a href="../man8/ods-signer.8.html">ods-signer</a>(8),   <a href="../man5/ods-kasp.5.html">ods-kasp</a>(5),   <a href="../man1/ods-kaspcheck.1.html">ods-kaspcheck</a>(1),
       <a href="../man5/ods-timing.5.html">ods-timing</a>(5), <a href="../man1/ods-hsmspeed.1.html">ods-hsmspeed</a>(1), <a href="../man1/ods-hsmutil.1.html">ods-hsmutil</a>(1), <a href="../man7/opendnssec.7.html">opendnssec</a>(7), <b><a href="http://www.opendnssec.org/">http://www.opendnssec.org/</a></b>

</pre><h4><b>AUTHORS</b></h4><pre>
       <b>ods-enforcer</b> was written by NLnet Labs as part of the OpenDNSSEC project.

OpenDNSSEC                                         April 2016                                    <u><a href="../man8/ods-enforcer.8.html">ods-enforcer</a></u>(8)
</pre>
 </div>
</div></section>
</div>
</body>
</html>