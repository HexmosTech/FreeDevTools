<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>pam_env - PAM module to set/unset environment variables</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libpam-runtime">libpam-runtime_1.7.0-5ubuntu1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       pam_env - PAM module to set/unset environment variables

</pre><h4><b>SYNOPSIS</b></h4><pre>

       <b>pam_env.so</b> [debug] [conffile=<u>conf-file</u>] [envfile=<u>env-file</u>] [readenv=<u>0|1</u>] [user_envfile=<u>env-file</u>]
                  [user_readenv=<u>0|1</u>]

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The pam_env PAM module allows the (un)setting of environment variables. Supported is the use of
       previously set environment variables as well as <u>PAM_ITEM</u>s such as <u>PAM_RHOST</u>.

       By default rules for (un)setting of variables are taken from the config file /etc/security/pam_env.conf.
       An alternate file can be specified with the <u>conffile</u> option.

       Second a file (<a href="file:/etc/environment">/etc/environment</a> by default) with simple <u>KEY=VAL</u> pairs on separate lines will be read.
       With the <u>envfile</u> option an alternate file can be specified. And with the <u>readenv</u> option this can be
       completely disabled.

       Third it will read a user configuration file ($HOME/.pam_environment by default). The default file can be
       changed with the <u>user_envfile</u> option and it can be turned on and off with the <u>user_readenv</u> option.

       Since setting of PAM environment variables can have side effects to other modules, this module should be
       the last one on the stack.

       This module is only executed if the main application calls <b><a href="../man3/pam_setcred.3.html">pam_setcred</a></b>(3) or <b><a href="../man3/pam_open_session.3.html">pam_open_session</a></b>(3). The
       module does nothing and returns <u>PAM_IGNORE</u> if called by <b><a href="../man3/pam_authenticate.3.html">pam_authenticate</a></b>(3).

</pre><h4><b>OPTIONS</b></h4><pre>
       conffile=/path/to/pam_env.conf
           Indicate an alternative pam_env.conf style configuration file to override the default. This can be
           useful when different services need different environments.

       debug
           A lot of debug information is printed with <b><a href="../man3/syslog.3.html">syslog</a></b>(3).

       envfile=/path/to/environment
           Indicate an alternative environment file to override the default. The syntax are simple <u>KEY=VAL</u> pairs
           on separate lines. The <u>export</u> instruction can be specified for bash compatibility, but will be
           ignored. This can be useful when different services need different environments.

       readenv=0|1
           Turns on or off the reading of the file specified by envfile (0 is off, 1 is on). By default this
           option is on.

       user_envfile=filename
           Indicate an alternative .pam_environment file to override the default. The syntax is the same as for
           <u><a href="file:/etc/security/pam_env.conf">/etc/security/pam_env.conf</a></u>. The filename is relative to the user home directory. This can be useful
           when different services need different environments.

       user_readenv=0|1
           Turns on or off the reading of the user specific environment file. 0 is off, 1 is on. By default this
           option is off as user supplied environment variables in the PAM environment could affect behavior of
           subsequent modules in the stack without the consent of the system administrator.

           Due to problematic security this functionality is deprecated since the 1.5.0 version and will be
           removed completely at some point in the future.

</pre><h4><b>MODULE</b> <b>TYPES</b> <b>PROVIDED</b></h4><pre>
       The <b>auth</b> and <b>session</b> module types are provided.

</pre><h4><b>RETURN</b> <b>VALUES</b></h4><pre>
       PAM_ABORT
           Not all relevant data or options could be gotten.

       PAM_BUF_ERR
           Memory buffer error.

       PAM_IGNORE
           No pam_env.conf and environment file was found or the module got called by <b><a href="../man3/pam_authenticate.3.html">pam_authenticate</a></b>(3).

       PAM_SUCCESS
           Environment variables were set.

</pre><h4><b>FILES</b></h4><pre>
       <a href="file:/etc/security/pam_env.conf">/etc/security/pam_env.conf</a>
           Default configuration file

       <a href="file:/etc/environment">/etc/environment</a>
           Default environment file

       $HOME/.pam_environment
           User specific environment file

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man5/pam_env.conf.5.html">pam_env.conf</a></b>(5), <b><a href="../man5/pam.d.5.html">pam.d</a></b>(5), <b><a href="../man7/pam.7.html">pam</a></b>(7), <b><a href="../man7/environ.7.html">environ</a></b>(7).

</pre><h4><b>AUTHOR</b></h4><pre>
       pam_env was written by Dave Kinchlea &lt;<a href="mailto:kinch@kinch.ark.com">kinch@kinch.ark.com</a>&gt;.

Linux-PAM                                          07/03/2025                                         <u><a href="../man8/PAM_ENV.8.html">PAM_ENV</a></u>(8)
</pre>
 </div>
</div></section>
</div>
</body>
</html>