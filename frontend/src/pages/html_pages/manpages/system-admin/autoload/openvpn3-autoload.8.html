<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>openvpn3-autoload - OpenVPN 3 Linux - Automated configuration profile loader</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/openvpn3-client">openvpn3-client_24.1+dfsg-1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       openvpn3-autoload - OpenVPN 3 Linux - Automated configuration profile loader

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>openvpn3-autoload</b> [ OPTIONS ]
       <b>openvpn3-autoload</b> <b>-h</b> | <b>--help</b>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>NOTE!</b>  This feature is deprecated in favour of the <b>openvpn3-session@.service</b> systemd unit.

              Please see <u><a href="../man1/openvpn3-systemd.1.html">openvpn3-systemd</a></u>(1) for more details.

       The  <b>openvpn3-autoload</b>  utility  is  used  to  automatically  load and optionally start VPN configuration
       profiles from a specific directory.  As the OpenVPN 3 Linux client provides fine grained control on  both
       configuration  profiles  and  VPN  sessions which are managed outside the main configuration profile, the
       configuration profiles must be accompanied by a <u>.autoload</u> definition with local site-specific settings.

       The <b>openvpn3-autoload</b> utility is provided with a <b>openvpn3-autoload.service</b> <u>systemd</u> unit file which can be
       enabled and will load configuration profiles located in <u>/etc/openvpn3/autoload</u>.

</pre><h4><b>OPTIONS</b></h4><pre>
       <b>-h</b>, <b>--help</b>
              Prints usage information and exits.

       <b>--directory</b> <u>DIR</u>
              Required.  Directory to look for configuration profiles

       <b>--ignore-autostart</b>
              Optional.  Do not automatically start any VPN sessions which have been configured to start  during
              loading.

</pre><h4><b>BACKGROUND</b></h4><pre>
       Traditionally  in  the  OpenVPN  2.x, configuration profiles can contains a lot of options which are both
       site/host independent and site/host specific.  This creates a challenge when  distributing  configuration
       profiles,  as  a  profile  working for one device in one particular network might not work on a different
       device or network.

       OpenVPN 3 provides a way how to split out the site/host dependent options from the main VPN configuration
       profile being provided by the VPN provider.  In the OpenVPN 3  Linux  client,  these  site/host  specific
       settings  are  managed  via  <u>openvpn3</u>  <u>config-manage</u>  for  configuration  profiles already imported.  The
       <u>.autoload</u> configuration files is used to automate setting up these various  options  without  any  direct
       user interaction.

</pre><h4><b>FILE</b> <b>FORMAT</b></h4><pre>
       The  file  format  is based on JSON formatting and will carry the <b>.autoload</b> extension instead of <b>.ovpn</b> or
       <b>.conf</b>.  The <b>.autoload</b> file must be located in the same directory as the  main  configuration  file.   The
       base part of filename must be identical with the <b>.ovpn</b>/<b>.conf</b> file.  Example: If the configuration profile
       is named <b>vpn-client.conf</b>, the <b>.autoload</b> file must be named <b>vpn-client.autoload</b>.

   <b>Main</b> <b>section</b>
       The basic layout of an <b>.autoload</b> file is like this:

          {
             "autostart": BOOLEAN,
              "name": "string value",
              "acl": {
                  ...
              },
              "crypto": {
                  ...
              },
              "remote": {
                  ...
              },
              "tunnel": {
                  ...
              },
              "user-auth": {
                  ...
              }
          }

   <b>Attribute:</b> <b>autostart</b>
       The  <b>autostart</b>  boolean declares if the configuration profile should be started once it has been imported
       into the OpenVPN 3 Configuration Manager.  (Default: <b>false</b>)

   <b>Attribute:</b> <b>name</b>
       By default, all automatically imported configuration profiles will use  the  complete  profile  filename,
       including  the <b>.conf</b> or <b>.ovpn</b> file extension.  If this attribute is set, this string will be used for the
       profile name instead of the filename on the filesystem.   Beware  that  the  configuration  manager  will
       accept duplicate profile names.

   <b>Section:</b> <b>acl</b>
       The  <b>acl</b>  section declares several Access Control Level parameters of the imported configuration profile.
       Valid settings are:

          "acl": {
              "public": BOOLEAN,
              "locked-down": BOOLEAN,
              "set-owner": UID
          }

   <b>Attribute</b> <b>acl:public</b>
       The <b>public</b> element declares if this configuration profile is available for all users  on  the  system  or
       not.  (Default: <b>false</b>)

   <b>Attribute:</b> <b>acl:locked-down</b>
       By  setting  the  <b>locked-down</b>  element to <b>true</b>, users granted access can only start new tunnels with this
       profile but cannot look look at the information stored in the configuration profile. (Default: <b>false</b>)

   <b>Attribute:</b> <b>acl:set-owner</b>
       By default all processed configuration profiles will be owned by the  user  who  runs  <b>openvpn3-autoload</b>.
       The  root  user on the system can re-assign the ownership of configuration profiles it imports, like when
       running this utility during the system boot.  By providing the <b>set-owner</b> element with the UID of the user
       who should own this configuration profile, the ownership will be transferred.  This  is  a  feature  only
       available by root.

   <b>Section:</b> <b>crypto</b>
       The  <b>crypto</b> section enables fine-tuning some of the configuration parameters related to the crypto layers
       of a VPN session.

          "crypto": {
              "tls-params": {
                  ...
              }
          }

   <b>Sub-Section:</b> <b>crypto:tls-params</b>
       The <b>tls-params</b> sub-section further controls the TLS protocol parameters.

          "tls-params": {
              "cert-profile": [ "legacy" | "preferred" | "suiteb" ],
              "min-version": [ "disabled" | "default" | "tls_1_0" | "tls_1_1" | "tls_1_2" | "tls_1_3" ]
          }

   <b>Attribute:</b> <b>crypto:tls-params:cert-profile</b>
       The <b>cert-profile</b> declares the security level of the TLS channel.  Valid values are:

       <b>legacy</b> Allows minimum 1024 bits RSA keys with certificates signed with SHA1.

       <b>preferred</b>
              Allows minimum 2048 bits RSA keys with certificates signed with SHA256 or higher.

       <b>suiteb</b> This follows the NSA Suite-B specification.

   <b>Attribute:</b> <b>crypto:tls-params:min-version</b>
       The <b>min-version</b> defines the minimum TLS version being accepted by the client.  Valid values are:

       <b>disabled</b>
              No minimum version is defined nor required

       <b>default</b>
              Uses the default minimum version the SSL library defines

       <b>tls_1_0</b>
              Requires at least TLSv1.0

       <b>tls_1_1</b>
              Requires at least TLSv1.1

       <b>tls_1_2</b>
              Requires at least TLSv1.2

       <b>tls_1_3</b>
              Requires at least TLSv1.3

   <b>Section:</b> <b>remote</b>
       Settings in this section is related to the  connection  to  the  remote  server.   It  does  not  support
       different  settings  per  remote  server  but  is  shared for all the remote servers enlisted in the main
       configuration file.

          "remote": {
                  "proto-override": [ "udp" | "tcp" ],
                  "port-override": PORT_NUM,
                  "timeout": SECONDS,
                  "compression": [ "no" | "yes" | "asym" ],
                  "proxy": {
                      ...
                  }
          }

   <b>Attribute:</b> <b>remote:protocol-override</b>
       This forces the VPN client to connect using the given protocol.  Valid values are <b>tcp</b> or <b>udp</b>.

   <b>Attribute</b> <b>remote:port-override</b>
       Port number to use instead of the port number defined in the VPN configuration profile.  It  must  be  an
       integer between <b>0</b> and <b>65535</b>.

   <b>Attribute:</b> <b>remote:timeout</b>
       An  unsigned  integer  defining  how long to wait before trying the next remote entry enlisted in the VPN
       configuration profile.

   <b>Attribute:</b> <b>remote:compression</b>
       Controls how compression settings for the data channel.  Valid values are:

       <b>no</b>     Compression is disabled

       <b>yes</b>    Compression is enabled in both directions

       <b>asym</b>   Compression is only enabled for traffic sent from the remote side to the local side.

   <b>Sub-section:</b> <b>remote:proxy</b>
       This sub-section configures the client to start the connection via an HTTP proxy server.

          "proxy": {
                  "host": "proxy-server-name",
                  "port": "proxy-port",
                  "username": "proxy-username",
                  "password": "proxy-password",
                  "allow-plain-text": BOOLEAN
          }

   <b>Attribute:</b> <b>remote:proxy:host</b>
       String containing the hostname of the HTTP proxy

   <b>Attribute:</b> <b>remote:proxy:port</b>
       Unsigned integer defining the port to use when connecting to the proxy server

   <b>Attribute:</b> <b>remote:proxy:username</b>
       If the proxy server requires user authentication, this need to contain a string with the  proxy  username
       to use.

   <b>Attribute:</b> <b>remote:proxy:password</b>
       If the proxy server requires user authentication, this need to contain a string with the password to use.

   <b>Attribute:</b> <b>remote:proxy:allow-plain-text</b>
       Boolean  flag  enabling  or  disabling  the  OpenVPN  3  client  to transport the proxy username/password
       unencrypted.  Default: <b>false</b>

   <b>Section:</b> <b>tunnel</b>
       The tunnel section defines settings related to the tunnel interface.  On some  platforms  this  interacts
       directly  with  a tun/tap interface while other platforms may pass these settings via VPN API provided by
       the platform.

          "tunnel": {
                  "ipv6": [ "yes" | "no" | "default" ],
                  "persist": BOOLEAN,
                  "dns-fallback": [ "google" ],
                  "dns-setup-disabled": BOOLEAN
              }

   <b>Attribute:</b> <b>tunnel:ipv6</b>
       Enable or disable the IPv6 capability on the tunnel interface.  This can be a string which  must  contain
       one of these values:

       <b>yes</b>    IPv6 capability is enabled and will be configured if the server sends IPv6 configuration details

       <b>no</b>     IPv6  capability is disabled and will not be configured, regardless of what the server provides of
              IPv6 configuration details

       <b>default</b>
              Make use of IPv6 if the platform supports it

   <b>Attribute:</b> <b>tunnel:persist</b>
       Boolean flag which enables the persistent tunnel interface behaviour.  This is  related  to  whether  the
       tunnel  interface  will  be  torn  down  and  re-established during re-connections or restarts of the VPN
       tunnel.  If set to <b>true</b>, the tunnel interface is preserved during such events.

   <b>Attribute:</b> <b>tunnel:dns-fallback</b>
       This makes the VPN client configure an additional fallback DNS server on the system.  Valid strings are:

       <b>google</b> Configures the system to use <b>8.8.8.8</b> and <b>8.8.4.4</b> as fallback DNS servers

   <b>Attribute:</b> <b>dns-scope</b>
       Defines the DNS query scope.  This is currently only  supported  when  enabling  the  <u><a href="../man8/systemd-resolved.8.html">systemd-resolved</a></u>(8)
       resolver support in <u><a href="../man8/openvpn3-service-netcfg.8.html">openvpn3-service-netcfg</a></u>(8).  Supported values are:

       <b>global:</b> <b>(default)</b>
              The VPN service provided DNS server(s) will be used for all types of DNS queries.

       <b>tunnel:</b>
              The VPN service provided DNS server(s) will only be used for queries for DNS domains pushed by the
              VPN service.

              <b>NOTE</b>   The   DNS  domains  pushed  by  the  VPN  service  may  be  queried  by  DNS  servers  with
                     <u><a href="../man8/systemd-resolved.8.html">systemd-resolved</a></u>(8) service if their respective interfaces are configured to do global  DNS
                     queries.   But other non-listed DNS domains will not be sent to this VPN service provider's
                     DNS server.

   <b>Attribute:</b> <b>dns-setup-disabled</b>
       Controls whether DNS configurations in the VPN configuration profile or DNS settings sent from the server
       will be applied on the system or not.  (Default: <b>false</b>)

   <b>Section:</b> <b>user-auth</b>
       This section is only important if the server uses user  authentication  methods  other  than  certificate
       based  authentication  and  this section is only used if the <b>autostart</b> attribute is set to <b>true</b>.  This is
       used to automate the client connection as much as possible.

          "user-auth": {
              "autologin": BOOLEAN,
              "username": "string value",
              "password": "string value",
              "pk_passphrase": "string value",
              "dynamic_challenge": "string value"
          }

   <b>Attribute:</b> <b>user-auth:autologin</b>
       If set to <b>true</b>, the  client  will  not  ask  for  username/password  as  it  is  expected  that  the  VPN
       configuration  profile  carries the needed settings providing the identity towards the server.  (Default:
       <b>false</b>)

   <b>Attribute:</b> <b>user-auth:username</b>
       String containing the username to authenticate as.

   <b>Attribute:</b> <b>user-auth:password</b>
       String containing the password used for the authentication.

   <b>Attribute:</b> <b>user-auth:pk_passphrase</b>
       String containing the private key passphrase, which is needed if the private key in the VPN configuration
       profile is encrypted.

   <b>Attribute:</b> <b>user-auth:dynamic_challenge</b>
       The server might ask the client for a dynamic challenge.  If the expected response is static, the  static
       response  can  be put here.  If the server expects an OTP token code or similarly dynamic changing input,
       the VPN configuration profile is not suitable for <b>autostart</b>.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man1/openvpn3.1.html">openvpn3</a></b>(1) <b><a href="../man1/openvpn3-config-manage.1.html">openvpn3-config-manage</a></b>(1) <b><a href="../man1/openvpn3-config-manage.1.html">openvpn3-config-manage</a></b>(1) <b><a href="../man1/openvpn3-systemd.1.html">openvpn3-systemd</a></b>(1)

                                                                                            <u><a href="../man8/OPENVPN3-AUTOLOAD.8.html">OPENVPN3-AUTOLOAD</a></u>(8)
</pre>
 </div>
</div></section>
</div>
</body>
</html>