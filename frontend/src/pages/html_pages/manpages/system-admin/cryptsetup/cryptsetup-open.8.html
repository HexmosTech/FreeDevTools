<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>cryptsetup-open, cryptsetup-create, cryptsetup-plainOpen, cryptsetup-luksOpen, cryptsetup-loopaesOpen,</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/cryptsetup-bin">cryptsetup-bin_2.8.0-1ubuntu1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       cryptsetup-open, cryptsetup-create, cryptsetup-plainOpen, cryptsetup-luksOpen, cryptsetup-loopaesOpen,
       cryptsetup-tcryptOpen, cryptsetup-bitlkOpen, cryptsetup-fvault2Open - open an encrypted device and create
       a mapping with a specified name

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>cryptsetup</b> <u>open</u> <b>--type</b> <b>&lt;device_type&gt;</b> <b>[&lt;options&gt;]</b> <b>&lt;device&gt;</b> <b>&lt;name&gt;</b>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       Opens (creates a mapping with) &lt;name&gt; backed by device &lt;device&gt;.

       Device type can be <u>plain</u>, <u>luks</u> (default), <u>luks1</u>, <u>luks2</u>, <u>loopaes</u> or <u>tcrypt</u>.

       For backward compatibility there are <b>open</b> command aliases:

       <b>create</b> (argument-order &lt;name&gt; &lt;device&gt;): open --type plain
       <b>plainOpen</b>: open --type plain
       <b>luksOpen</b>: open --type luks
       <b>loopaesOpen</b>: open --type loopaes
       <b>tcryptOpen</b>: open --type tcrypt
       <b>bitlkOpen</b>: open --type bitlk

       <b>&lt;options&gt;</b> are type specific and are described below for individual device types. For <b>create</b>, the order of
       the &lt;name&gt; and &lt;device&gt; options is inverted for historical reasons, all other aliases use the standard
       <b>&lt;device&gt;</b> <b>&lt;name&gt;</b> order.

   <b>PLAIN</b>
       <b>open</b> <b>--type</b> <b>plain</b> <b>&lt;device&gt;</b> <b>&lt;name&gt;</b> --cipher &lt;spec&gt; --key-size &lt;bits&gt; --hash &lt;alg&gt;
       plainOpen &lt;device&gt; &lt;name&gt; (<b>old</b> <b>syntax</b>)
       create &lt;name&gt; &lt;device&gt; (<b>OBSOLETE</b> <b>syntax</b>)

       Opens (creates a mapping with) &lt;name&gt; backed by device &lt;device&gt;.

       <b>WARNING:</b> You should always specify options <b>--cipher</b>, <b>--key-size</b> and (if no keyfile or keyring is used)
       then also <b>--hash</b> to avoid incompatibility as default values can be different in older cryptsetup
       versions.

       The plain format also allows retrieving a volume key from a kernel keyring specified by
       <b>--volume-key-keyring</b>. Key in kernel keyring must be configured before issuing cryptsetup commands, as
       cryptsetup does not upload any keys to the keyring in plain mode. For subsequent commands (like resize),
       the user must ensure that the key in the keyring is unchanged. Otherwise, reloading the key can cause
       data corruption after an unexpected key change.

       <b>&lt;options&gt;</b> can be [--hash, --cipher, --sector-size, --key-file, --keyfile-size, --keyfile-offset,
       --key-size, --offset, --skip, --device-size, --size, --readonly, --shared, --allow-discards, --refresh,
       --timeout, --verify-passphrase, --iv-large-sectors, --volume-key-keyring].

       <b>EXAMPLES:</b>

       To map the encrypted device /dev/sda10 to the decrypted device /dev/mapper/e1, you can use

       <b>cryptsetup</b> <b>open</b> <b>--type</b> <b>plain</b> <b>--cipher</b> <b>aes-cbc-essiv:sha256</b> <b>--key-size</b> <b>256</b> <b>--hash</b> <b>sha256</b> <b>/dev/sda10</b> <b>e1</b>

       The decrypted device can then be used as a normal block device to mount a filesystem.

       To map a device with a volume key in the preconfigured trusted or encrypted keyring, you need to specify
       keyring with the key and remove hash specification, for example, to use <b>%trusted:mykey</b>:

       <b>cryptsetup</b> <b>open</b> <b>--type</b> <b>plain</b> <b>/dev/sda10</b> <b>e1</b> <b>--volume-key-keyring=%trusted:mykey</b> <b>--cipher</b> <b>aes-xts-plain64</b>
       <b>--key-size</b> <b>256</b>

       Note that the key size must match the preconfigured key in the keyring.

   <b>LUKS</b>
       <b>open</b> <b>&lt;device&gt;</b> <b>&lt;name&gt;</b>
       open --type &lt;luks1|luks2&gt; &lt;device&gt; &lt;name&gt; (<b>explicit</b> <b>version</b> <b>request</b>)
       luksOpen &lt;device&gt; &lt;name&gt; (<b>old</b> <b>syntax</b>)

       Opens the LUKS device &lt;device&gt; and sets up a mapping &lt;name&gt; after successful verification of the supplied
       passphrase.

       First, the passphrase is searched in LUKS2 tokens unprotected by PIN. If such token does not exist (or
       fails to unlock keyslot) and also the passphrase is not supplied via --key-file, the command prompts for
       passphrase interactively.

       If there is valid LUKS2 token but it requires PIN to unlock assigned keyslot, it is not used unless one
       of following options is added: --token-only, --token-type where type matches desired PIN protected token
       or --token-id with id matching PIN protected token.

       <b>&lt;options&gt;</b> can be [--key-file, --keyfile-offset, --keyfile-size, --readonly, --test-passphrase,
       --allow-discards, --header, --key-slot, --volume-key-file, --token-id, --token-only, --token-type,
       --disable-external-tokens, --disable-keyring, --disable-locks, --type, --refresh,
       --serialize-memory-hard-pbkdf, --unbound, --tries, --timeout, --verify-passphrase, --persistent,
       --volume-key-keyring, --link-vk-to-keyring, --external-tokens-path].

   <b>loopAES</b>
       <b>open</b> <b>--type</b> <b>loopaes</b> <b>&lt;device&gt;</b> <b>&lt;name&gt;</b> <b>--key-file</b> <b>&lt;keyfile&gt;</b>
       loopaesOpen &lt;device&gt; &lt;name&gt; --key-file &lt;keyfile&gt; (<b>old</b> <b>syntax</b>)

       Opens the loop-AES &lt;device&gt; and sets up a mapping &lt;name&gt;.

       If the key file is encrypted with GnuPG, then you have to use --key-file=- and decrypt it before use,
       e.g., like this:
       gpg --decrypt &lt;keyfile&gt; | cryptsetup loopaesOpen --key-file=- &lt;device&gt; &lt;name&gt;

       <b>WARNING:</b> The loop-AES extension cannot use the direct input of the key file on the real terminal because
       the keys are separated by end-of-line and only part of the multi-key file would be read.
       If you need it in script, just use the pipe redirection:
       echo $keyfile | cryptsetup loopaesOpen --key-file=- &lt;device&gt; &lt;name&gt;

       Use <b>--keyfile-size</b> to specify the proper key length if needed.

       Use <b>--offset</b> to specify device offset. Note that the units need to be specified in number of 512 byte
       sectors.

       Use <b>--skip</b> to specify the IV offset. If the original device used an offset and but did not use it in IV
       sector calculations, you have to explicitly use <b>--skip</b> <b>0</b> in addition to the offset parameter.

       Use <b>--hash</b> to override the default hash function for passphrase hashing (otherwise it is detected
       according to key size).

       <b>&lt;options&gt;</b> can be [--cipher, --key-file, --keyfile-size, --keyfile-offset, --key-size, --offset, --skip,
       --hash, --readonly, --allow-discards, --refresh].

   <b>TrueCrypt</b> <b>and</b> <b>VeraCrypt</b>
       <b>open</b> <b>--type</b> <b>tcrypt</b> <b>&lt;device&gt;</b> <b>&lt;name&gt;</b>
       tcryptOpen &lt;device&gt; &lt;name&gt; (<b>old</b> <b>syntax</b>)

       Opens the TCRYPT (TrueCrypt and VeraCrypt compatible) &lt;device&gt; and sets up a mapping &lt;name&gt;.

       <b>&lt;options&gt;</b> can be [--key-file, --tcrypt-hidden, --tcrypt-system, --tcrypt-backup, --readonly,
       --test-passphrase, --allow-discards, --veracrypt (ignored), --disable-veracrypt, --veracrypt-pim,
       --veracrypt-query-pim, --header, --cipher, --hash, --tries, --timeout, --verify-passphrase].

       The keyfile parameter allows a combination of file content with the passphrase and can be repeated. Note
       that using keyfiles is compatible with TCRYPT and is different from LUKS keyfile logic.

       If <b>--cipher</b> or <b>--hash</b> options are used, only cipher chains or PBKDF2 variants with the specified hash
       algorithms are checked. This could speed up unlocking the device (but also it reveals some information
       about the container).

       If you use <b>--header</b> in combination with hidden or system options, the header file must contain specific
       headers on the same positions as the original encrypted container.

       <b>WARNING:</b> Option <b>--allow-discards</b> cannot be combined with option <b>--tcrypt-hidden</b>. For normal mapping, it
       can cause the <b>destruction</b> <b>of</b> <b>hidden</b> <b>volume</b> (hidden volume appears as unused space for outer volume so
       this space can be discarded).

   <b>BitLocker</b>
       <b>open</b> <b>--type</b> <b>bitlk</b> <b>&lt;device&gt;</b> <b>&lt;name&gt;</b>
       bitlkOpen &lt;device&gt; &lt;name&gt; (<b>old</b> <b>syntax</b>)

       Opens the BITLK (a BitLocker compatible) &lt;device&gt; and sets up a mapping &lt;name&gt;.

       <b>&lt;options&gt;</b> can be [--key-file, --keyfile-offset, --keyfile-size, --key-size, --readonly,
       --test-passphrase, --allow-discards --volume-key-file, --tries, --timeout, --verify-passphrase].

       Note that <b>--test-passphrase</b> doesnâ€™t work with <b>--volume-key-file</b> because we cannot check whether the
       provided volume key is correct for this device or not. When using <b>--volume-key-file</b> the device will be
       opened even if the provided key is not correct.

   <b>FileVault2</b>
       <b>open</b> <b>--type</b> <b>fvault2</b> <b>&lt;device&gt;</b> <b>&lt;name&gt;</b>
       fvault2Open &lt;device&gt; &lt;name&gt; (<b>old</b> <b>syntax</b>)

       Opens the FVAULT2 (a FileVault2 compatible) &lt;device&gt; and sets up a mapping &lt;name&gt;.

       <b>&lt;options&gt;</b> can be [--key-file, --keyfile-offset, --keyfile-size, --key-size, --readonly,
       --test-passphrase, --allow-discards --volume-key-file, --tries, --timeout, --verify-passphrase].

</pre><h4><b>OPTIONS</b></h4><pre>
       <b>--allow-discards</b>
           Allow the use of discard (TRIM) requests for the device. This is also not supported for LUKS2 devices
           with data integrity protection.

           <b>WARNING:</b> This command can have a negative security impact because it can make filesystem-level
           operations visible on the physical device. For example, information leaking filesystem type, used
           space, etc. may be extractable from the physical device if the discarded blocks can be located later.
           If in doubt, do not use it.

           A kernel version of 3.1 or later is needed. For earlier kernels, this option is ignored.

       <b>--batch-mode,</b> <b>-q</b>
           Suppresses all confirmation questions. Use with care!

           If the --verify-passphrase option is not specified, this option also switches off the passphrase
           verification.

       <b>--cipher,</b> <b>-c</b> <u>&lt;cipher-spec&gt;</u>
           Set the cipher specification string for <u>plain</u> device type.

           For <u>tcrypt</u> device type it restricts checked cipher chains when looking for header.

           <u>cryptsetup</u> <u>--help</u> shows the compiled-in defaults.

           If a hash is part of the cipher specification, then it is used as part of the IV generation. For
           example, ESSIV needs a hash function, while "plain64" does not and hence none is specified.

           For XTS mode you can optionally set a key size of 512 bits with the -s option. Key size for XTS mode
           is twice that for other modes for the same security level.

       <b>--debug</b> <b>or</b> <b>--debug-json</b>
           Run in debug mode with full diagnostic logs. Debug output lines are always prefixed by <b>#</b>.

           If --debug-json is used, additional LUKS2 JSON data structures are printed.

       <b>--device-size</b> <u>size[units]</u>
           Instead of real device size, use specified value. Usable only with <u>plain</u> device type.

           If no unit suffix is specified, the size is in bytes.

           Unit suffix can be S for 512 byte sectors, K/M/G/T (or KiB,MiB,GiB,TiB) for units with 1024 base or
           KB/MB/GB/TB for 1000 base (SI scale).

       <b>--disable-external-tokens</b>
           Disable loading of plugins for external LUKS2 tokens.

       <b>--disable-keyring</b>
           Do not load volume key in kernel keyring and store it directly in the dm-crypt target instead. This
           option is supported only for the LUKS2 type.

       <b>--disable-locks</b>
           Disable lock protection for metadata on disk. This option is valid only for LUKS2 and ignored for
           other formats.

           <b>WARNING:</b> Do not use this option unless you run cryptsetup in a restricted environment where locking
           is impossible to perform (where <a href="file:/run">/run</a> directory cannot be used).

       <b>--disable-veracrypt</b>
           This option can be used to disable VeraCrypt compatible mode (only TrueCrypt devices are recognized).
           Only for TCRYPT extension. See <u>TCRYPT</u> section in <b><a href="../man8/cryptsetup.8.html">cryptsetup</a></b>(8) for more info.

       <b>--external-tokens-path</b> <u>absolute_path</u>
           Override system directory path where cryptsetup searches for external token handlers (or token
           plugins). It must be absolute path (starting with '/' character).

       <b>--hash,</b> <b>-h</b> <u>&lt;hash-spec&gt;</u>
           Specifies the passphrase hash. Applies to <u>plain</u> and <u>loopaes</u> device types only.

           For <u>tcrypt</u> device type, it restricts checked PBKDF2 variants when looking for header.

       <b>--header</b> <b>&lt;device</b> <b>or</b> <b>file</b> <b>storing</b> <b>the</b> <b>LUKS</b> <b>header&gt;</b>
           Specify detached (separated) metadata device or file where the header is stored.

           <b>WARNING:</b> There is no check whether the ciphertext device specified actually belongs to the header
           given. In fact, you can specify an arbitrary device as the ciphertext device with the --header
           option. Use with care.

       <b>--help,</b> <b>-?</b>
           Show help text and default parameters.

       <b>--iv-large-sectors</b>
           Count Initialization Vector (IV) in larger sector size (if set) instead of 512 bytes sectors. This
           option can be used only with <u>plain</u> device type.

           <b>NOTE:</b> This option does not have any performance or security impact, use it only for accessing
           incompatible existing disk images from other systems that require this option.

       <b>--key-description</b> <b>&lt;text&gt;</b>
           Set key description in keyring that will be used for passphrase retrieval.

       <b>--key-file,</b> <b>-d</b> <u>name</u>
           Read the passphrase from file.

           If the name given is "-", then the passphrase will be read from stdin. In this case, reading will not
           stop at newline characters.

           <b>NOTE:</b> With <u>plain</u> device type, the passphrase obtained via --key-file option is passed directly in
           dm-crypt. Unlike the interactive mode (stdin) where digest (--hash option) of the passphrase is
           passed in dm-crypt instead.

           See section <u>NOTES</u> <u>ON</u> <u>PASSPHRASE</u> <u>PROCESSING</u> in <b><a href="../man8/cryptsetup.8.html">cryptsetup</a></b>(8) for more information.

       <b>--keyfile-offset</b> <u>value</u>
           Skip <u>value</u> bytes at the beginning of the key file.

       <b>--keyfile-size,</b> <b>-l</b> <u>value</u>
           Read a maximum of <u>value</u> bytes from the key file. The default is to read the whole file up to the
           compiled-in maximum that can be queried with --help. Supplying more data than the compiled-in maximum
           aborts the operation.

           This option is useful to cut trailing newlines, for example. If --keyfile-offset is also given, the
           size count starts after the offset.

       <b>--key-size,</b> <b>-s</b> <u>bits</u>
           Sets key size in <u>bits</u>. The argument has to be a multiple of 8. The possible key-sizes are limited by
           the cipher and mode used.

           See <a href="file:/proc/crypto">/proc/crypto</a> for more information. Note that key-size in <a href="file:/proc/crypto">/proc/crypto</a> is stated in bytes.

           This option can be used for <u>plain</u> and <u>luks</u> devices. For LUKS2 devices in reencryption you may use the
           parameter twice to specify both old and new volume key sizes. Each --key-size option corresponds to
           the respective --volume-key-file parameter (also allowed to be used up to two times).

       <b>--key-slot,</b> <b>-S</b> <b>&lt;0-N&gt;</b>
           This option selects a specific key-slot to compare the passphrase against. If the given passphrase
           would only match a different key-slot, the operation fails.

           The maximum number of key slots depends on the LUKS version. LUKS1 can have up to 8 key slots. LUKS2
           can have up to 32 key slots based on key slot area size and key size, but a valid key slot ID can
           always be between 0 and 31 for LUKS2.

       <b>--link-vk-to-keyring</b> <u>&lt;keyring_description&gt;::&lt;key_description&gt;</u>
           Link volume key in a keyring with specified key name. The volume key is linked only if requested
           action is successfully finished (with --test-passphrase the verified volume key is linked in a
           keyring without taking further action).

           <u>&lt;keyring_description&gt;</u> string has to contain existing kernel keyring description. The keyring name may
           be optionally prefixed with "%:" or "%keyring:" type descriptions. Or, the keyring may also be
           specified directly by numeric key id. Also special keyring notations starting with "@" may be used to
           select existing predefined kernel keyrings.

           The string "::" is delimiter used to separate keyring description and key description.

           <u>&lt;key_description&gt;</u> part describes key type and key name of volume key linked in the keyring described
           in <u>&lt;keyring_description&gt;</u>. The type may be specified by adding "%&lt;type_name&gt;:" prefix in front of key
           name. If type is missing default <u>user</u> type is applied. If the key of same name and same type already
           exists (already linked in the keyring) it will get replaced in the process.

           See also <b>KEY</b> <b>IDENTIFIERS</b> section of <b><a href="../man1/keyctl.1.html">keyctl</a></b>(1).

       <b>--offset,</b> <b>-o</b> <b>&lt;number</b> <b>of</b> <b>512</b> <b>byte</b> <b>sectors&gt;</b>
           Start offset in the backend device in 512-byte sectors. This option is only relevant with plain or
           loopaes device types.

       <b>--perf-high_priority</b>
           Set dm-crypt workqueues and the writer thread to high priority. This i mproves throughput and latency
           of dm-crypt while degrading general responsiveness of the system.

           <b>NOTE:</b> This option is available only for low-level dm-crypt performance tuning, use only if you need a
           change to default dm-crypt behaviour. Needs kernel 6.10 or later.

       <b>--perf-no_read_workqueue,</b> <b>--perf-no_write_workqueue</b>
           Bypass dm-crypt internal workqueue and process read or write requests synchronously.

           <b>NOTE:</b> These options are available only for low-level dm-crypt performance tuning, use only if you
           need a change to default dm-crypt behaviour. Needs kernel 5.9 or later.

       <b>--perf-same_cpu_crypt</b>
           Perform encryption using the same cpu that IO was submitted on. The default is to use an unbound
           workqueue so that encryption work is automatically balanced between available CPUs.

           <b>NOTE:</b> This option is available only for low-level dm-crypt performance tuning, use only if you need a
           change to default dm-crypt behaviour. Needs kernel 4.0 or later.

       <b>--perf-submit_from_crypt_cpus</b>
           Disable offloading writes to a separate thread after encryption. There are some situations where
           offloading write bios from the encryption threads to a single thread degrades performance
           significantly. The default is to offload write bios to the same thread.

           <b>NOTE:</b> This option is available only for low-level dm-crypt performance tuning, use only if you need a
           change to default dm-crypt behaviour. Needs kernel 4.0 or later.

       <b>--persistent</b>
           If used with LUKS2 devices and activation commands like <u>open</u> or <u>refresh</u>, the specified activation
           flags are persistently written into metadata and used next time automatically even for normal
           activation. (No need to use cryptab or other system configuration files.)

           If you need to remove a persistent flag, use <u>--persistent</u> without the flag you want to remove (e.g.
           to disable persistently stored discard flag, use <u>--persistent</u> without <u>--allow-discards</u>).

           Only <u>--allow-discards</u>, <u>--perf-same_cpu_crypt</u>, <u>--perf-submit_from_crypt_cpus</u>,
           <u>--perf-no_read_workqueue</u>, <u>--perf-no_write_workqueue</u> and <u>--integrity-no-journal</u> can be stored
           persistently.

       <b>--readonly,</b> <b>-r</b>
           set up a read-only mapping.

       <b>--refresh</b>
           Refreshes an active device with new set of parameters. See <b><a href="../man8/cryptsetup-refresh.8.html">cryptsetup-refresh</a></b>(8) for more details.

       <b>--sector-size</b> <u>bytes</u>
           Set encryption sector size for use with <u>plain</u> device type. It must be power of two and in range 512 -
           4096 bytes. The default mode is 512 bytes.

           Note that if sector size is higher than underlying device hardware sector, using this option can
           increase risk on incomplete sector writes during a power fail.

           Increasing sector size from 512 bytes to 4096 bytes can provide better performance on most of the
           modern storage devices and also with some hw encryption accelerators.

       <b>--serialize-memory-hard-pbkdf</b>
           Use a global lock to serialize unlocking of keyslots using memory-hard PBKDF.

           <b>NOTE:</b> This is (ugly) workaround for a specific situation when multiple devices are activated in
           parallel and system instead of reporting out of memory starts unconditionally stop processes using
           out-of-memory killer.

           <b>DO</b> <b>NOT</b> <b>USE</b> this switch until you are implementing boot environment with parallel devices activation!

       <b>--shared</b>
           Creates an additional mapping for one common ciphertext device. Arbitrary mappings are supported.
           This option is only relevant for the <u>plain</u> device type. Use --offset, --size and --skip to specify
           the mapped area.

       <b>--size,</b> <b>-b</b> <b>&lt;number</b> <b>of</b> <b>512</b> <b>byte</b> <b>sectors&gt;</b>
           Set the size of the device in sectors of 512 bytes. Usable only with <u>plain</u> device type.

       <b>--skip,</b> <b>-p</b> <b>&lt;number</b> <b>of</b> <b>512</b> <b>byte</b> <b>sectors&gt;</b>
           Start offset used in IV calculation in 512-byte sectors (how many sectors of the encrypted data to
           skip at the beginning). This option is only relevant with plain or loopaes device types.

           Hence, if --offset <u>n</u>, and --skip <u>s</u>, sector <u>n</u> (the first sector of the encrypted device) will get a
           sector number of <u>s</u> for the IV calculation.

       <b>--tcrypt-backup</b>, <b>--tcrypt-hidden</b>, <b>--tcrypt-system</b>
           Specify which TrueCrypt on-disk header will be used to open the device. See <u>TCRYPT</u> section in
           <b><a href="../man8/cryptsetup.8.html">cryptsetup</a></b>(8) for more info.

           Using a system-encrypted device with the <b>--tcrypt-system</b> option requires specific settings to work as
           expected.

           TrueCrypt/VeraCrypt supports full system encryption (only a partition table is not encrypted) or
           system partition encryption (only a system partition is encrypted). The metadata header then contains
           the offset and size of the encrypted area. Cryptsetup needs to know the specific partition offset to
           calculate encryption parameters. To properly map a partition, you must specify a real partition
           device so cryptsetup can calculate this offset.

           While you can use a full device as a parameter (/dev/sdb), always prefer to specify the partition you
           want to map (/dev/sdb1) as only system partition mode can be detected this way.

           For mapping images (stored in a file), you can use the additional <b>--header</b> option with the real
           partition device. If the <b>--header</b> is used (and it is different from the data image), cryptsetup
           expects that the data image contains a snapshot of the data partition only.

           If <b>--header</b> is not used (or points to the same image), cryptsetup expects that the image contains a
           full disk (including the partition table). This can map a full encrypted area not directly mountable
           as a filesystem. Please prefer creating a loop device with partitions (<b>losetup</b> <b>-P</b>, see <b><a href="../man8/losetup.8.html">losetup</a>(8)</b> man
           page) and use a real partition (/dev/loopXp1) as the device parameter.

       <b>--test-passphrase</b>
           Do not activate the device, just verify passphrase. The device mapping name is not mandatory if this
           option is used.

       <b>--timeout,</b> <b>-t</b> <b>&lt;number</b> <b>of</b> <b>seconds&gt;</b>
           The number of seconds to wait before timeout on passphrase input via terminal. It is relevant every
           time a passphrase is asked. It has no effect if used in conjunction with --key-file.

           This option is useful when the system should not stall if the user does not input a passphrase, e.g.
           during boot. The default is a value of 0 seconds, which means to wait forever.

       <b>--token-id</b>
           Specify what token to use and allow token PIN prompt to take precedence over interactive keyslot
           passphrase prompt. If omitted, all available tokens (not protected by PIN) will be checked before
           proceeding further with passphrase prompt.

       <b>--token-only</b>
           Do not proceed further with action if token based keyslot unlock failed. Without the option, action
           asks for passphrase to proceed further.

           It allows LUKS2 tokens protected by PIN to take precedence over interactive keyslot passphrase
           prompt.

       <b>--token-type</b> <u>type</u>
           Restrict tokens eligible for operation to specific token <u>type</u>. Mostly useful when no --token-id is
           specified.

           It allows LUKS2 <u>type</u> tokens protected by PIN to take precedence over interactive keyslot passphrase
           prompt.

       <b>--tries,</b> <b>-T</b>
           How often the input of the passphrase shall be retried. The default is 3 tries.

       <b>--type</b> <b>&lt;device-type&gt;</b>
           Specifies required device type, for more info read <u>BASIC</u> <u>ACTIONS</u> section in <b><a href="../man8/cryptsetup.8.html">cryptsetup</a></b>(8).

       <b>--unbound</b>
           Allowed only together with --test-passphrase parameter, it allows one to test passphrase for unbound
           LUKS2 keyslot. Otherwise, unbound keyslot passphrase can be tested only when specific keyslot is
           selected via --key-slot parameter.

       <b>--usage</b>
           Show short option help.

       <b>--veracrypt</b>
           This option is ignored as VeraCrypt compatible mode is supported by default.

       <b>--veracrypt-pim</b>, <b>--veracrypt-query-pim</b>
           Use a custom Personal Iteration Multiplier (PIM) for VeraCrypt device. See <u>TCRYPT</u> section in
           <b><a href="../man8/cryptsetup.8.html">cryptsetup</a></b>(8) for more info.

       <b>--verify-passphrase,</b> <b>-y</b>
           When interactively asking for a passphrase, ask for it twice and complain if both inputs do not
           match. Advised when creating a <u>plain</u> type mapping for the first time. Ignored on input from file or
           stdin.

       <b>--version,</b> <b>-V</b>
           Show the program version.

       <b>--volume-key-file,</b> <b>--master-key-file</b> <b>(OBSOLETE</b> <b>alias)</b>
           Use a volume key stored in a file. This allows one to open <u>luks</u> and <u>bitlk</u> device types without giving
           a passphrase.
           For devices in reencryption the option may be used twice to specify both old and new volume keys.
           When using the option twice make sure you pair each --volume-key-file option with respective
           --key-size parameter as well.

       <b>--volume-key-keyring</b> <u>&lt;key</u> <u>description&gt;</u>
           Use a volume key stored in a keyring. This allows one to open <u>luks</u> and <u>plain</u> device types without
           giving a passphrase.

           For LUKS, the key and associated type has to be readable from userspace so that volume key digest may
           be verified in before activation. For devices in reencryption the option may be used twice to specify
           both old and new volume keys.

           For PLAIN type, the user must ensure that the key in the keyring is unchanged since activation.
           Otherwise, reloading the key can cause data corruption after an unexpected key change.

           The <u>&lt;key</u> <u>description&gt;</u> uses keyctl-compatible syntax. This can either be a numeric key ID or a string
           name in the format <u>%&lt;key</u> <u>type&gt;:&lt;key</u> <u>name&gt;</u>. See also <b>KEY</b> <b>IDENTIFIERS</b> section of <b><a href="../man1/keyctl.1.html">keyctl</a></b>(1). When no
           <u>%&lt;key</u> <u>type&gt;:</u> prefix is specified we assume the key type is <u>user</u> (default type).

</pre><h4><b>REPORTING</b> <b>BUGS</b></h4><pre>
       Report bugs at <b>cryptsetup</b> <b>mailing</b> <b>list</b> &lt;<a href="mailto:cryptsetup@lists.linux.dev">cryptsetup@lists.linux.dev</a>&gt; or in <b>Issues</b> <b>project</b> <b>section</b>
       &lt;https://gitlab.com/cryptsetup/cryptsetup/-/issues/new&gt;.

       Please attach output of the failed command with --debug option added.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b>Cryptsetup</b> <b>FAQ</b> &lt;https://gitlab.com/cryptsetup/cryptsetup/wikis/FrequentlyAskedQuestions&gt;

       <b><a href="../man8/cryptsetup.8.html">cryptsetup</a></b>(8), <b><a href="../man8/integritysetup.8.html">integritysetup</a></b>(8) and <b><a href="../man8/veritysetup.8.html">veritysetup</a></b>(8)

</pre><h4><b>CRYPTSETUP</b></h4><pre>
       Part of <b>cryptsetup</b> <b>project</b> &lt;https://gitlab.com/cryptsetup/cryptsetup/&gt;.

cryptsetup 2.8.0                                   2025-07-25                                 <u><a href="../man8/CRYPTSETUP-OPEN.8.html">CRYPTSETUP-OPEN</a></u>(8)
</pre>
 </div>
</div></section>
</div>
</body>
</html>