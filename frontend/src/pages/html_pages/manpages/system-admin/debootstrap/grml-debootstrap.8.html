<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>grml-debootstrap - wrapper around mmdebstrap for installing plain Debian</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/grml-debootstrap">grml-debootstrap_0.121_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       grml-debootstrap - wrapper around mmdebstrap for installing plain Debian

</pre><h4><b>SYNOPSIS</b></h4><pre>
       grml-debootstrap [ <u>options</u> ]

       [IMAGE][1] [Screenshot]

</pre><h4><b>INTRODUCTION</b></h4><pre>
       grml-debootstrap is a wrapper suite around mmdebstrap (and debootstrap) for installing a plain Debian
       system very fast and easy.

       All you have to do is adjust a few variables in the configuration file /etc/debootstrap/config or specify
       some command line options and invoke grml-debootstrap. If invoked without any configuration modifications
       or command line options a dialog based front end will be available to control some basic configuration
       options.

       A plain and base Debian system will be installed on the given device, directory or virtual image file
       then. Customization of this process is possible as well.

           <b>Caution</b>

           The Grml team does not take responsibility for loss of any data!

</pre><h4><b>OPTIONS</b> <b>AND</b> <b>ENVIRONMENT</b> <b>VARIABLES</b></h4><pre>
       <b>--arch</b> <u>architecture</u>
           Set target architecture you want to install. Defaults to the architecture you are currently running.
           Example: "<u>--arch</u> <u>amd64</u>"

       <b>--backportrepos</b>
           Enable Debian’s Backports repository via the /etc/apt/sources.list.d/backports.list configuration
           file. This provides the option to install Debian packages from Debian’s backports repository.

       <b>--bootappend</b> <u>appendline-for-the-kernel</u>
           Specify appendline for the kernel. E.g. "<u>pci=nomsi</u>"

       <b>-c</b>, <b>--config</b> <u>file</u>
           Use specified configuration file, defaults to /etc/debootstrap/config.

       <b>--chroot-scripts</b> <u>directory</u>
           Execute chroot scripts from specified directory. This allows customisation of the chroot setup, the
           executable script(s) present in the given directory are executed at the end of the chroot procedure.
           Default directory: /etc/debootstrap/chroot-scripts/

       <b>--contrib</b>
           Enable the <u>contrib</u> repository in COMPONENTS. By default only the <u>main</u> repository is enabled.

       <b>-d</b>, <b>--confdir</b> <u>path</u>
           Place of configuration files for debootstrap, defaults to /etc/debootstrap.

       <b>--debconf</b> <u>file</u>
           Use specified file for preseeding Debian packages instead of using the default
           &lt;confdir&gt;/debconf-selections.

       <b>--debopt</b> <u>params</u>
           Extra parameters passed to the debootstrap command.

       <b>--debug</b>
           Execute in very verbose way. Useful for debugging possible problems with grml-debootstrap or identify
           what’s actually executed.

       <b>--defaultinterfaces</b>
           Install a default /etc/network/interfaces file (enabling DHCP for all local Ethernet, WLAN and WWAN
           interfaces using predictable network interface names and using eth0 as traditional interface name for
           backward compatibility) instead of taking over config from host system. This option is automatically
           enabled when using --vm or --vmfile.

       <b>--efi</b> <u>device</u>
           Partition where EFI boot manager should be installed to. If the specified device doesn’t use a FAT
           filesystem yet grml-debootstrap automatically creates the filesystem. If a FAT filesystem is already
           present the filesystem creation is skipped. Please ensure that it’s a valid FAT32 filesystem and the
           partition has the <u>boot</u> and <u>esp</u> flags enabled. This option requires EFI support on the running system
           and the option is NOT supported for Virtual Machine deployments.

       <b>--filesystem</b> <u>filesystem</u>
           Filesystem that should be created when installing to a partition. If unset defaults to ext4. Valid
           values are all filesystems that can be created through mkfs.<u>filesystem</u>.

       <b>--force</b>
           Skip user acknowledgement and do not prompt for user input.

       <b>--grmlrepos</b>
           Enable Grml.org’s Debian repository (<b><a href="http://deb.grml.org/">http://deb.grml.org/</a></b>) via the /etc/apt/sources.list.d/grml.list
           configuration file. This provides the option to install Debian packages from Grml’s repository.

       <b>--grub</b> <u>device</u>
           Device where grub should be installed to. Note that only the MBR (master boot record) can be used
           (/dev/sda, /dev/sdb,...). Partitions (like /dev/sda1, /dev/sdb2,...) are NOT supported because grub2
           doesn’t support installation into the PBR (partition boot record) anymore. Usage example: <u>--grub</u>
           <u>/dev/sda</u>. Note: just do not set this option to avoid installation of grub.

       <b>--help</b>, <b>-h</b>
           Show summary of options and exit.

       <b>--hostname</b> <u>hostname</u>
           Use specified hostname instead of the default (being $HOSTNAME or if unset <u>grml</u>).

       <b>--keep_src_list</b>
           Do not overwrite user provided /etc/apt/sources.list.

       <b>-m</b>, <b>--mirror</b> <u>URL</u>
           Specify mirror which should be used for apt-get/aptitude. Corresponding with configuration variable
           MIRROR.

       <b>--nodebootstrap</b>
           Skip debootstrap, only do configuration to the target.

       <b>--nointerfaces</b>
           Do not copy /etc/network/interfaces from host system to the target.

       <b>--nokernel</b>
           Skip installation of default kernel images. This option might be interesting for you if you want a
           Debian system which doesn’t need to provide regular boot, e.g. a system which provides ISOs for
           booting via GRUB using grml-rescueboot.

       <b>--non-free</b>
           Enable the <u>non-free</u> repository in COMPONENTS. For bookworm and newer Debian releases also the
           <u>non-free-firmware</u> repository gets enabled. By default only the <u>main</u> repository is enabled.

       <b>--nopackages</b>
           Skip installation of packages defined in /etc/debootstrap/packages.

       <b>--nopassword</b>
           Do not prompt for the root password. Note: Use the <u>--password</u> option if you want to set the root
           password during an automatic installation but don’t want to use the interactive dialog.

       <b>-p</b>, <b>--mntpoint</b> <u>/mntpoint</u>
           Specify mount point that should be used for mounting the target system. Corresponding with
           configuration variable MNTPOINT. Note: this option has no effect if option -t is given and represents
           a directory.

       <b>--packages</b> <u>file</u>
           Use specified file as list for packages that should be installed instead of the default package list
           file &lt;confdir&gt;/packages.

       <b>--password</b> <u>password</u>
           Use specified password as password for user root. Use with caution, as your command line might be
           visible in the process list and the shell history. It’s meant for automatic installation only.

       <b>--post-scripts</b> <u>directory</u>
           Execute scripts from specified directory after executing the chroot script. This allows customisation
           of the system after the chroot has been set up. The environment variable $MNTPOINT is available
           inside the scripts for direct access of the chroot. Default directory: /etc/debootstrap/post-scripts/

       <b>--pre-scripts</b> <u>directory</u>
           Execute scripts from specified directory before executing the chroot script. This allows
           customisation of the system before the chroot has been set up. The environment variable $MNTPOINT is
           available inside the scripts for direct access of the chroot. Default directory:
           /etc/debootstrap/pre-scripts/

       <b>-r</b>, <b>--release</b> <u>releasename</u>
           Specify release of new Debian system. Supported releases names: buster, bullseye, bookworm, trixie
           and sid. Corresponding with configuration variable RELEASE. Default release: trixie

       <b>--remove-configs</b>
           Delete grml-debootstrap configuration files (/etc/debootstrap/*) from installed system. Useful for
           reproducible builds or if you don’t want to leak information.

       <b>--sshcopyauth</b>
           Use locally available <u>$HOME/.ssh/authorized_keys</u> to authorise root login on the target system. This
           installs <u>$HOME/.ssh/authorized_keys</u> as <u>/root/.ssh/authorized_keys</u> on the target system. If a
           different file than <u>$HOME/.ssh/authorized_keys</u> should be used, the environment variable
           <u>AUTHORIZED_KEYS_SOURCE</u> can be used.

       <b>--sshcopyid</b>
           Use locally available public keys to authorise root login on the target system. Similar to
           <a href="../man1/ssh-copy-id.1.html">ssh-copy-id</a>(1) (without the -i option) it checks if ssh-add -L provides any output, and if so those
           keys are appended to <u>/root/.ssh/authorized_keys</u> (creating the file and directory (with mode 0700)).

       <b>-t</b>, <b>--target</b> <u>target</u>
           Target partition (/dev/...) or directory (anything else without <a href="file:/dev">/dev</a> at the beginning).

       <b>-v</b>, <b>--verbose</b>
           Increase verbosity.

       <b>--vm</b>
           Set up a Virtual Machine on an existing block device, which will be partitioned. This allows
           deployment of a Virtual Machine. The options needs to be combined with the --target option. This
           option automatically enables the --defaultinterfaces option. Usage example: --vm --target
           /dev/mapper/your-vm-disk

       <b>--vmfile</b>
           Set up a Virtual Machine using a regular file instead of installing to a partition/block device or
           directory. This allows deployment of a Virtual Machine. The options needs to be combined with the
           --target option (<u>qemu-img</u> <u>create</u> <u>-f</u> <u>raw</u> <u>...</u>  is executed on the specified target). This option
           automatically enables the --defaultinterfaces option. Usage example: --vmfile --target
           /mnt/sda1/qemu.img

       <b>--vmsize</b> <u>size</u>
           Use specified size for size of Virtual Machine disk file. If not specified it defaults to 2G (being
           2GB). Syntax as supported by qemu-img (see manpage <a href="../man1/qemu-img.1.html">qemu-img</a>(1) for details. Usage example: --vmsize
           3G

       <b>--vmefi</b>
           Create an EFI boot partition for the VM.

       <b>-V</b>, <b>--version</b>
           Show version of program and exit.

           <b>Warning</b>

           the command line parsing of grml-debootstrap usually does not validate the provided arguments for the
           command line options. Please be careful and check docs and /etc/debootstrap/config for further
           information.

</pre><h4><b>NETWORKING</b></h4><pre>
       By default (that is, if none of the options <b>--nointerfaces</b>, <b>--defaultinterfaces</b>, <b>--vmfile</b> or <b>--vm</b> are
       given) /etc/network/interfaces will be copied from the host to the target system.

</pre><h4><b>USAGE</b> <b>EXAMPLES</b></h4><pre>
           grml-debootstrap --target /dev/sda1 --grub /dev/sda

       Install default Debian release (trixie) on /dev/sda1 and install bootmanager GRUB in MBR (master boot
       record) of /dev/sda.

           grml-debootstrap --release buster --target /dev/sda1 --grub /dev/sda --hostname debian01 --password changeme

       Install Debian release buster on /dev/sda1 and install bootmanager GRUB in MBR (master boot record) of
       /dev/sda. Set hostname to <u>debian01</u> and password for user root to <u>changeme</u>.

           grml-debootstrap --target /dev/sda6 --grub /dev/sda --release sid

       Install Debian unstable/sid on /dev/sda6 and install bootmanager GRUB in MBR (master boot record) of
       /dev/sda.

           grml-debootstrap --target /dev/sda1 --grub /dev/sda

       Install default Debian release (trixie) on /dev/sda1 and install bootmanager GRUB in MBR (master boot
       record) of /dev/sda. Use mmdebstrap instead of default debootstrap tool for bootstrapping.

           grml-debootstrap --target /dev/mapper/vg0-rootfs --grub /dev/sda

       Install default Debian release (trixie) on LVM device /dev/mapper/vg0-rootfs and install bootmanager GRUB
       in MBR (master boot record) of /dev/sda.

           grml-debootstrap --efi /dev/sda1 --target /dev/sda2 --grub /dev/sda

       Install default Debian release (trixie) on /dev/sda2 and install bootmanager GRUB in MBR (master boot
       record) of /dev/sda. Use /dev/sda1 as EFI partition (requires EFI support in booted system).

           mount /dev/sda1 /data/chroot
           grml-debootstrap --target /data/chroot

       Install default Debian release (trixie) in directory /data/chroot (without any bootloader).

           grml-debootstrap --target /dev/sda3 --grub /dev/sda  --mirror <a href="ftp://ftp.tugraz.at/mirror/debian">ftp://ftp.tugraz.at/mirror/debian</a>

       Install default Debian release (trixie) on /dev/sda3 and install bootmanager GRUB in MBR (master boot
       record) of /dev/sda. Use specified mirror instead of the default (<b><a href="http://deb.debian.org/debian">http://deb.debian.org/debian</a></b>) one.

           mount /dev/sda1 /mnt/sda1
           grml-debootstrap --vmfile --vmsize 3G --target /mnt/sda1/qemu.img

       Install default debian release (trixie) in a Virtual Machine file with 3GB disk size (including GRUB as
       bootmanager in MBR of the virtual disk file).

</pre><h4><b>FILES</b></h4><pre>
           /etc/debootstrap/config

       Main configuration file. Adjust it according to your needs if you want to execute grml-debootstrap in the
       non-interactive mode without any special command line arguments.

           /etc/debootstrap/chroot-script

       The script executed within the new Debian system as soon as the main system has been installed via
       [c]debootstrap.

           /etc/debootstrap/locale.gen

       Defines the default locales used for generating locales via locale-gen.

           /etc/debootstrap/packages

       Defines the software packages which should be installed in the new Debian system by default.

           /etc/debootstrap/extrapackages/

       Debian Packages dropped in this directory will be installed into the new Debian system by default
       (Control variable: EXTRAPACKAGES)

</pre><h4><b>CUSTOMIZATION</b></h4><pre>
       You can control execution of grml-debootstrap via adjusting /etc/debootstrap/config for some main stuff
       or via setting some selected variables via command line. The packages which should be installed in the
       new Debian system can be defined via the file /etc/debootstrap/packages. If you want to put existing
       files to the new Debian system you can place them into the (by default non-existing) directories boot,
       etc, share, usr and var in /etc/debootstrap/. Every existing directory will be copied to the new Debian
       system then. If you want to install additional packages that are not available via the Grml or Debian
       mirror drop them into /etc/debootstrap/extrapackages and make sure that EXTRAPACKAGES is set to "yes".

</pre><h4><b>SUPPORTED</b> <b>RELEASES</b></h4><pre>
       <b>Table</b> <b>1.</b> <b>Current</b> <b>status</b>
       ┌──────────┬──────────┐
       │ <b>Release</b>  │ <b>Status</b>   │
       ├──────────┼──────────┤
       │          │          │
       │ buster   │ works[1] │
       ├──────────┼──────────┤
       │          │          │
       │ bullseye │ works    │
       ├──────────┼──────────┤
       │          │          │
       │ bookworm │ works    │
       ├──────────┼──────────┤
       │          │          │
       │ trixie   │ works    │
       ├──────────┼──────────┤
       │          │          │
       │ sid      │ works[2] │
       └──────────┴──────────┘

           <b>buster</b> <b>release</b>

           [1] Please notice that releases like buster are unsupported releases within Debian nowadays.
           grml-debootstrap can handle the releases but you really should not use them anymore unless you really
           know what you are doing. Even older versions are also entirely unsupported by grml-debootstrap.

           Choose the current Debian stable version instead. See <b>https://wiki.debian.org/DebianReleases</b> for the
           list of supported releases.

           Notice that you need to specify a specific mirror providing old releases, the default
           (<b><a href="http://deb.debian.org/debian">http://deb.debian.org/debian</a></b>) doesn’t provide them any longer. Set the mirror to e.g.
           <b><a href="http://archive.debian.org/debian/">http://archive.debian.org/debian/</a></b> if you don’t have your own Debian mirror.

           Older releases might also fail to install when running on top of recent kernel versions, throwing
           segfaults during debootstrap. This can be identified by the following messages inside kernel log
           (check with <u>dmesg</u>):

               dpkg[...] vsyscall attempted with vsyscall=none ip:[...]
               dpkg[...]: segfault at [...]

           To work around this issue boot your system with the kernel boot option <u>vsyscall=emulate</u>.

           <b>unstable</b> <b>and</b> <b>testing</b> <b>releases</b>

           [2] Please notice that Debian/testing and Debian/unstable (sid) might not be always installable due
           to their nature. What <u>might</u> work instead is deploying a stable release and upgrade it after
           installation finished.

</pre><h4><b>BUGS</b></h4><pre>
       Please report bugs towards <b>https://github.com/grml/grml-debootstrap/issues</b>

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <a href="../man8/debootstrap.8.html">debootstrap</a>(8), <a href="../man1/mmdebstrap.1.html">mmdebstrap</a>(1).

</pre><h4><b>AUTHOR</b></h4><pre>
       Michael Prokop &lt;<b><a href="mailto:mika@grml.org">mika@grml.org</a></b>[2]&gt;

</pre><h4><b>NOTES</b></h4><pre>
        1. https://grml.org/grml-debootstrap/images/screenshot.png

        2. <a href="mailto:mika@grml.org">mika@grml.org</a>
           <a href="mailto:mika@grml.org">mailto:mika@grml.org</a>

                                                   05/14/2025                                <u><a href="../man8/GRML-DEBOOTSTRAP.8.html">GRML-DEBOOTSTRAP</a></u>(8)
</pre>
 </div>
</div></section>
</div>
</body>
</html>