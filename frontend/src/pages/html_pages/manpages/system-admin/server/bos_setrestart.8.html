<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>bos_setrestart - Sets when the BOS Server restarts processes</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/openafs-client">openafs-client_1.8.13.2-1ubuntu1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       bos_setrestart - Sets when the BOS Server restarts processes

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>bos</b> <b>setrestart</b> <b>-server</b> &lt;<u>machine</u> <u>name</u>&gt;
           <b>-time</b> &lt;<u>time</u> <u>to</u> <u>restart</u> <u>server</u>&gt; [<b>-general</b>] [<b>-newbinary</b>]
           [<b>-cell</b> &lt;<u>cell</u> <u>name</u>&gt;] [<b>-noauth</b>] [<b>-localauth</b>] [<b>-help</b>]

       <b>bos</b> <b>setr</b> <b>-s</b> &lt;<u>machine</u> <u>name</u>&gt; <b>-t</b> &lt;<u>time</u> <u>to</u> <u>restart</u> <u>server</u>&gt;
           [<b>-g</b>] [<b>-ne</b>] [<b>-c</b> &lt;<u>cell</u> <u>name</u>&gt;] [<b>-no</b>] [<b>-l</b>] [<b>-h</b>]

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The <b>bos</b> <b>setrestart</b> command records in the <u>/etc/openafs/BosConfig</u> file the times at which the BOS Server
       running on the server machine named by the <b>-server</b> argument performs two types of restarts:

       •   A <u>general</u> <u>restart</u>. The BOS Server will restart itself, and then any AFS process marked with the "Run"
           status  flag  in the <u>BosConfig</u> file (equivalent in effect to issuing the <b>bos</b> <b>restart</b> command with the
           <b>-bosserver</b> flag) at this time each week. By default, in a new bos installation, general restarts  are
           disabled.

       •   A  <u>binary</u> <u>restart</u>. By default, once per day the BOS Server restarts any currently running process for
           which the timestamp on the binary file in the <u>/usr/lib/openafs</u> directory is later than the  time  the
           process last started or restarted. The default is 5:00 a.m. each day.

</pre><h4><b>CAUTIONS</b></h4><pre>
       Restarting  a  process  makes  it  unavailable  for  a period of time. The <b>fs</b> process has potentially the
       longest outage, depending on how many volumes the file server machine houses (the File Server and  Volume
       Server  reattach  each  volume  when  they  restart).  The default settings are designed to coincide with
       periods of low usage, so that the restarts disturb the smallest possible number of users.

       If the setting specified with the <b>-time</b> argument is within one hour of the current time, the  BOS  Server
       does  not  restart any processes until the next applicable opportunity (the next day for binary restarts,
       or the next week for general restarts).

       The command changes only one type of restart setting at a time; issue the command twice  to  change  both
       settings.

</pre><h4><b>OPTIONS</b></h4><pre>
       <b>-server</b> &lt;<u>machine</u> <u>name</u>&gt;
           Indicates  the server machine on which to set a new restart time.  Identify the machine by IP address
           or its host name (either fully-qualified or abbreviated unambiguously). For details, see <b><a href="../man8/bos.8.html">bos</a></b>(8).

       <b>-time</b> &lt;<u>time</u> <u>to</u> <u>restart</u> <u>server</u>&gt;
           Specifies the restart time. By convention the general restart is defined as weekly (specifies both  a
           day  and  a time), and the binary restart is defined as daily (specifies only a time). However, it is
           acceptable to define a daily general restart or weekly binary restart.

           There are four acceptable values for either type of restart setting:

           •   The string "never", which directs the BOS Server never to perform the indicated type of restart.

           •   The string "now", which directs the BOS Server to  perform  the  restart  immediately  and  never
               again.

           •   A  time  of  day (the conventional type of value for the binary restart time). Separate the hours
               and minutes with a colon (<u>hh:MM</u>), an use either 24-hour format, or a  value  in  the  range  from
               "1:00" through "12:59" with the addition of "am" or "pm". For example, both "14:30" and "2:30 pm"
               indicate  2:30 in the afternoon. Surround this parameter with double quotes ("") if it contains a
               space.

           •   A day of the week and time of day, separated by a space and surrounded with double  quotes  ("").
               This  is  the conventional type of value for the general restart. For the day, provide either the
               whole name or the first three letters, all in lowercase letters ("sunday" or "sun", "thursday" or
               "thu", and so on).  For the time, use the same format as when specifying the time alone.

           If desired, precede a time or day and time definition with the string "every" or "at". These words do
           not change the meaning, but possibly make  the  output  of  the  <b>bos</b>  <b>getrestart</b>  command  easier  to
           understand.

       <b>-general</b>
           Sets the general restart time.

       <b>-newbinary</b>
           Sets the binary restart time.

       <b>-cell</b> &lt;<u>cell</u> <u>name</u>&gt;
           Names  the  cell  in which to run the command. Do not combine this argument with the <b>-localauth</b> flag.
           For more details, see <b><a href="../man8/bos.8.html">bos</a></b>(8).

       <b>-noauth</b>
           Assigns the unprivileged identity "anonymous" to the issuer.  Do  not  combine  this  flag  with  the
           <b>-localauth</b> flag. For more details, see <b><a href="../man8/bos.8.html">bos</a></b>(8).

       <b>-localauth</b>
           Constructs   a   server   ticket   using   a   key  from  the  local  <u>/etc/openafs/server/KeyFile</u>  or
           <u>/etc/openafs/server/KeyFileExt</u> file.  The <b>bos</b> command interpreter presents  the  ticket  to  the  BOS
           Server  during mutual authentication. Do not combine this flag with the <b>-cell</b> or <b>-noauth</b> options. For
           more details, see <b><a href="../man8/bos.8.html">bos</a></b>(8).

       <b>-help</b>
           Prints the online help for this command. All other valid options are ignored.

</pre><h4><b>EXAMPLES</b></h4><pre>
       The following command sets the general restart time on the machine "fs4.example.com" to Saturday at  3:30
       am.

          % bos setrestart -server fs4.example.com -time "sat 3:30" -general

       The following command sets the binary restart time on the machine "fs6.example.com" to 11:45 pm.

          % bos setrestart -server fs6.example.com -time 23:45 -newbinary

</pre><h4><b>PRIVILEGE</b> <b>REQUIRED</b></h4><pre>
       The  issuer  must  be listed in the <u>/etc/openafs/server/UserList</u> file on the machine named by the <b>-server</b>
       argument, or must be logged onto a server machine as the local superuser "root" if the <b>-localauth</b> flag is
       included.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man5/BosConfig.5.html">BosConfig</a></b>(5), <b><a href="../man5/KeyFile.5.html">KeyFile</a></b>(5), <b><a href="../man5/KeyFileExt.5.html">KeyFileExt</a></b>(5), <b><a href="../man5/UserList.5.html">UserList</a></b>(5), <b><a href="../man8/bos.8.html">bos</a></b>(8), <b><a href="../man8/bos_getrestart.8.html">bos_getrestart</a></b>(8), <b><a href="../man8/bos_restart.8.html">bos_restart</a></b>(8)

</pre><h4><b>COPYRIGHT</b></h4><pre>
       IBM Corporation 2000. &lt;<a href="http://www.ibm.com/">http://www.ibm.com/</a>&gt; All Rights Reserved.

       This documentation is covered by the IBM Public License Version 1.0.  It was converted from HTML  to  POD
       by  software  written  by  Chas  Williams  and Russ Allbery, based on work by Alf Wachsmann and Elizabeth
       Cassell.

OpenAFS                                            2025-03-21                                  <u><a href="../man8/BOS_SETRESTART.8.html">BOS_SETRESTART</a></u>(8)
</pre>
 </div>
</div></section>
</div>
</body>
</html>