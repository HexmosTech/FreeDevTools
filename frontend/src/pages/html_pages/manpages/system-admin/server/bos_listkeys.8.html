<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>bos_listkeys - Displays the server encryption keys from the KeyFile file</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/openafs-client">openafs-client_1.8.13.2-1ubuntu1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       bos_listkeys - Displays the server encryption keys from the KeyFile file

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>bos</b> <b>listkeys</b> <b>-server</b> &lt;<u>machine</u> <u>name</u>&gt; [<b>-showkey</b>]
           [<b>-cell</b> &lt;<u>cell</u> <u>name</u>&gt;] [<b>-noauth</b>] [<b>-localauth</b>] [<b>-help</b>]

       <b>bos</b> <b>listk</b> <b>-se</b> &lt;<u>machine</u> <u>name</u>&gt; [<b>-sh</b>] [<b>-c</b> &lt;<u>cell</u> <u>name</u>&gt;]
           [<b>-n</b>] [<b>-l</b>] [<b>-h</b>]

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The <b>bos</b> <b>listkeys</b> command formats and displays the list of server encryption keys from the
       <u>/etc/openafs/server/KeyFile</u> file on the server machine named by the <b>-server</b> argument.  It is equivalent
       to <b>asetkey</b> <b>list</b>, but can be run remotely.

       To edit the list of keys, use the <b>asetkey</b> command; see <b><a href="../man8/asetkey.8.html">asetkey</a></b>(8) for more information.  You can also
       remove keys remotely using the <b>bos</b> <b>removekey</b> command.  If you are using the Authentication Server
       (<b>kaserver</b>) rather than a Kerberos v5 KDC, use the <b>bos</b> <b>addkey</b> command instead of <b>asetkey</b> to add a new key.

</pre><h4><b>CAUTIONS</b></h4><pre>
       Displaying actual keys on the standard output stream (by including the <b>-showkey</b> flag) is a security
       exposure. Displaying a checksum is sufficient for most purposes.

       This command will only list keys in the <u>KeyFile</u>; it cannot display keys from a <u>KeyFileExt</u>.  A server
       running a modern, secure installation using only keys for the rxkad-k5 extension will yield no keys in
       the output of this command.

</pre><h4><b>OPTIONS</b></h4><pre>
       <b>-server</b> &lt;<u>machine</u> <u>name</u>&gt;
           Indicates  the  server  machine  from  which  to display the KeyFile file. Identify the machine by IP
           address or its host name (either fully-qualified or  abbreviated  unambiguously).  For  details,  see
           <b><a href="../man8/bos.8.html">bos</a></b>(8).

           For  consistent  performance  in  the  cell,  the  output  must  be the same on every server machine.
           <b><a href="../man8/asetkey.8.html">asetkey</a></b>(8) explains how to keep the machines synchronized.

       <b>-showkey</b>
           Displays the octal digits that constitute each key.  Anyone who has access to  the  resulting  output
           will have complete access to the AFS cell and will be able to impersonate the AFS cell to any client,
           so be very careful when using this option.

       <b>-cell</b> &lt;<u>cell</u> <u>name</u>&gt;
           Names  the  cell  in which to run the command. Do not combine this argument with the <b>-localauth</b> flag.
           For more details, see <b><a href="../man8/bos.8.html">bos</a></b>(8).

       <b>-noauth</b>
           Assigns the unprivileged identity "anonymous" to the issuer.  Do  not  combine  this  flag  with  the
           <b>-localauth</b> flag. For more details, see <b><a href="../man8/bos.8.html">bos</a></b>(8).

       <b>-localauth</b>
           Constructs   a   server   ticket   using   a   key  from  the  local  <u>/etc/openafs/server/KeyFile</u>  or
           <u>/etc/openafs/server/KeyFileExt</u> file.  The <b>bos</b> command interpreter presents  the  ticket  to  the  BOS
           Server  during mutual authentication. Do not combine this flag with the <b>-cell</b> or <b>-noauth</b> options. For
           more details, see <b><a href="../man8/bos.8.html">bos</a></b>(8).

       <b>-help</b>
           Prints the online help for this command. All other valid options are ignored.

</pre><h4><b>OUTPUT</b></h4><pre>
       The output includes one line for each server encryption key listed in the <u>KeyFile</u> file, identified by its
       key version number.

       If the <b>-showkey</b> flag is included, the output displays the actual  string  of  eight  octal  numbers  that
       constitute the key. Each octal number is a backslash and three decimal digits.

       If  the  <b>-showkey</b>  flag is not included, the output represents each key as a checksum, which is a decimal
       number derived by encrypting a constant with the key.

       Following the list of keys or checksums, the string "Keys last changed" indicates when  a  key  was  last
       added to the <u>KeyFile</u> file. The words "All done" indicate the end of the output.

       For  mutual authentication to work properly, the output from the command "kas examine afs" must match the
       key or checksum with the same key version number in the output from this command.

</pre><h4><b>EXAMPLES</b></h4><pre>
       The following example shows the checksums for the  keys  stored  in  the  <u>KeyFile</u>  file  on  the  machine
       "fs3.example.com".

          % bos listkeys fs3.example.com
          key 1 has cksum 972037177
          key 3 has cksum 2825175022
          key 4 has cksum 260617746
          key 6 has cksum 4178774593
          Keys last changed on Mon Apr 12 11:24:46 1999.
          All done.

       The following example shows the actual keys from the <u>KeyFile</u> file on the machine "fs6.example.com".

          % bos listkeys fs6.example.com -showkey
          key 0 is '\040\205\211\241\345\002\023\211'
          key 1 is '\343\315\307\227\255\320\135\244'
          key 2 is '\310\310\255\253\326\236\261\211'
          Keys last changed on Wed Mar 31 11:24:46 1999.
          All done.

</pre><h4><b>PRIVILEGE</b> <b>REQUIRED</b></h4><pre>
       The  issuer  must  be listed in the <u>/etc/openafs/server/UserList</u> file on the machine named by the <b>-server</b>
       argument, or must be logged onto a server machine as the local superuser "root" if the <b>-localauth</b> flag is
       included.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man5/KeyFile.5.html">KeyFile</a></b>(5), <b><a href="../man5/KeyFileExt.5.html">KeyFileExt</a></b>(5),  <b><a href="../man5/UserList.5.html">UserList</a></b>(5),  <b><a href="../man8/asetkey.8.html">asetkey</a></b>(8),  <b><a href="../man8/bos_addkey.8.html">bos_addkey</a></b>(8),  <b><a href="../man8/bos_removekey.8.html">bos_removekey</a></b>(8),  <b><a href="../man8/bos_setauth.8.html">bos_setauth</a></b>(8),
       <b><a href="../man8/kas_examine.8.html">kas_examine</a></b>(8)

</pre><h4><b>COPYRIGHT</b></h4><pre>
       IBM Corporation 2000. &lt;<a href="http://www.ibm.com/">http://www.ibm.com/</a>&gt; All Rights Reserved.

       This  documentation  is covered by the IBM Public License Version 1.0.  It was converted from HTML to POD
       by software written by Chas Williams and Russ Allbery, based on  work  by  Alf  Wachsmann  and  Elizabeth
       Cassell.

OpenAFS                                            2025-03-21                                    <u><a href="../man8/BOS_LISTKEYS.8.html">BOS_LISTKEYS</a></u>(8)
</pre>
 </div>
</div></section>
</div>
</body>
</html>