<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>supfilesrv, supscan - sup server processes</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/sup">sup_20100519-7_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       supfilesrv, supscan - sup server processes

</pre><h4><b>SYNOPSIS</b></h4><pre>
       supfilesrv [ <u>-4</u> ] [ <u>-6</u> ] [ <u>-d</u> ] [ <u>-l</u> ] [ <u>-q</u> ] [ <u>-N</u> ] [ <u>-P</u> ] [ <u>-C</u> <u>MaxChildren</u> ]
       supscan [ <u>-v</u> ] [ <u>-s</u> ] [ <u>collection</u> ] [ <u>basedir</u> ]

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <u>Supfilesrv</u>  is  the  server  processes  used to interact with <u>sup</u> client processes via the IP/TCP network
       protocol.  This server normally is expected to be running on server machines at all times.  Each  machine
       with  files  of  interest  to  users  on  other  machines  is expected to be a file server and should run
       <u>supfilesrv.</u>

       A file server machine will service requests for both "private" and "system" file collections.  No special
       action is necessary to support private collections,  as  the  client  user  is  expected  to  supply  all
       necessary  information.   For  system  collections,  if  the base directory is not the default (see FILES
       below), an entry must be put into the directory list file; this entry is a single  text  line  containing
       the name of the collection, one or more spaces, and the name of the base directory for that collection.

       Each  collection  should have an entry in the host list file; this entry is a single text line containing
       the name of the collection, one or more spaces, and the name of the host machine acting  as  file  server
       for that collection.

       Details of setting up a file collection for the file server are described in the manual entry for <u><a href="../man1/sup.1.html">sup</a>(1).</u>

       <u>Supfilesrv</u>  generally  runs  as  a  network  server  process  that  listens for connections, and for each
       connection (double-)forks a process to handle the interaction with the  client.   However,  with  the  -d
       flag,  no  forking will take place: the server will listen for a network connection, handle it, and exit.
       This is useful for debugging the servers in "live" mode rather than as daemons.

       For debugging purposes, the -P "debugging ports" flag can be used.  It will cause  the  selection  of  an
       alternate,  non-privileged set of TCP ports instead of the usual ports, which are reserved for the active
       server processes.  The -N "network debugging" flag can be used to produce voluminous messages  describing
       the network communication progress and status. The more -N switches that you use the more output you get.
       Use  3 (separated by spaces: -N -N -N) to get a complete record of all network messages. Log messages are
       printed by <u>syslog</u> on <u>daemon.log</u> <u>.</u>  To suppress log messages, the -q "quiet" flag can be used.

       <u>supfilesrv</u> uses libwrap style access  control  (the  <a href="file:/etc/hosts.allow">/etc/hosts.allow</a>  and  <a href="file:/etc/hosts.deny">/etc/hosts.deny</a>  files)  with
       service  name  "supfilesrv". The -l "log" flag turn on loggin of accepted connections (denied connections
       are always logged).

       Normally the <u>supfilesrv</u> will only respond to 3 requests simultaneously, forking a child process for  each
       client.  If  it  gets  additional requests it will respond with the error FSSETUPBUSY. The -C MaxChildren
       switch can be used to increase (or decrease) this number.

       <u>supfilesrv</u> listens to IPv4 listening socket by default.  With  the  -6  flag,  it  will  listen  to  IPv6
       listening socket.  For dual stack support you will want to run two instances of <u>supfilesrv.</u>

</pre><h4><b>SUPSCAN</b></h4><pre>
       It  is  possible  to  pre-compile  a  list  of  the files in a collection to make <u>supfilesrv</u> service that
       collection much faster.  This can be done by running <u>supscan</u> on the desired collection on the  repository
       machine.   This produces a list of all the files in the collection at the time of the <u>supscan;</u> subsequent
       upgrades will be based on this list of files rather than actually scanning the disk at the  time  of  the
       upgrade.   Of  course,  the  upgrade  will  consequently bring the client machine up to the status of the
       repository machine as of the time of the <u>supscan</u> rather than as of the time of  the  upgrade;  hence,  if
       <u>supscan</u>  is used, it should be run periodically on the collection.  This facility is useful for extremely
       large file collections that are upgraded many times per day, such as the CMU UNIX system  software.   The
       "verbose"  flag <u>-v</u> will cause <u>supscan</u> to produce output messages as it scans the files in the collection.
       The "system" flag <u>-s</u> will cause <u>supscan</u> to scan all system collections residing on the current host.  The
       <u>basedir</u> parameter must be specified if the collection is a private collection whose base directory is not
       the default.

</pre><h4><b>FILES</b></h4><pre>
       <a href="file:/usr">/usr</a>   default base directory for a collection

       /etc/supfiles/coll.dir
              base directory list for system collections

       /etc/supfiles/coll.host
              host name list for system collections

       &lt;base-directory&gt;/sup/&lt;collection&gt;/*
              files used by file server (see <u><a href="../man1/sup.1.html">sup</a>(1))</u>

       &lt;base-directory&gt;/sup/&lt;collection&gt;/list
              list file used by <u>supscan</u> to create file list

       &lt;base-directory&gt;/sup/&lt;collection&gt;/scan
              file list created by <u>supscan</u> from list file

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <a href="../man1/sup.1.html">sup</a>(1) <a href="../man5/hosts_access.5.html">hosts_access</a>(5) <a href="../man5/hosts_options.5.html">hosts_options</a>(5)
       <u>The</u> <u>SUP</u> <u>Software</u> <u>Upgrade</u> <u>Protocol,</u> S.  A.  Shafer, CMU Computer Science Dept., 1985.

</pre><h4><b>DIAGNOSTICS</b></h4><pre>
       The file server places log messages on the standard and diagnostic output files.  The  process  name  and
       process id number generally accompany each message for diagnostic purposes.

</pre><h4><b>HISTORY</b></h4><pre>
       31-July-92 Mary Thompson (mrt) at Carnegie Mellon University
              Removed  references  to  supnameserver  which  has  not existed for a long time. Update a few file
              names. Added -C switch.

       21-May-87  Glenn Marcy (gm0w) at Carnegie-Mellon University
              Updated documentation for 4.3; changed /usr/cmu to /usr/cs.

       15-Jan-86  Glenn Marcy (gm0w) at Carnegie-Mellon University
              Updated documentation; -s switch to supscan.

       23-May-85  Steven Shafer (sas) at Carnegie-Mellon University
              Supscan created and documented; also -N flag.

       04-Apr-85  Steven Shafer (sas) at Carnegie-Mellon University
              Created.

                                                     1/16/86                                       <u><a href="../man8/SUPSERVERS.8.html">SUPSERVERS</a></u>(8)
</pre>
 </div>
</div></section>
</div>
</body>
</html>