<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>openldap_to_ds</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/389-ds-base">389-ds-base_3.1.2+dfsg1-1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       openldap_to_ds

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>openldap_to_ds</b>   [-h]  [-v]  [--confirm]  [--ignore-overlay  [IGNORE_OVERLAY  ...]]  [--ignore-schema-oid
       [IGNORE_SCHEMA_OID ...]] [--ignore-attribute [IGNORE_ATTRIBUTE ...]] [-D BINDDN]  [-w  BINDPW]  [-W]  [-y
       PWDFILE] [-Z] instance slapd_config [slapd_ldif ...]

</pre><h4><b>DESCRIPTION</b></h4><pre>
       Migrate from OpenLDAP to 389 Directory Server.

       This  command  automates the process of converting an OpenLDAP server to a 389 Directory Server instance.
       This is a "best effort" as OpenLDAP and 389 Directory Server are not identical, so  some  features  still
       may  require  hand migration, or can not be migrated at all. This tool intends to migrate the majority of
       major content such as database data, index configuration, schema and some overlays (plugins).

       Content we can migrate:

       * Schema * Database content (from ldif backup)  *  Database  indexes  *  MemberOf  Overlay  (memberof)  *
       Referential Integrity Overlay (refint) * Attribute Unique Overlay (unique)

       Some  content that can *not* be migrated include some overlays (plugins), access controls and replication
       configuration. Examples of plugins that can not be migrated:

       * Access/Audit logging (built into 389-ds by default) * Chaining (Requires manual migration, may  not  be
       equivalent)  * Constraints (No equivalent plugin) * Dynamic Directory Services (Requires manual migration
       to Class of Service Plugin) * Dynamic Groups/Lists (Requires manual migration to Roles  Plugin)  *  Proxy
       Cache  (No  equivalent  plugin, 389-ds supports read-only replicas) * Password Policy (Built into 389-ds,
       requires manual migration) * Rewrite/Remap (No  equivalent  plugin)  *  Sync  Provider  (Requires  manual
       migration to Replication OR Content Sync Plugin) * Value Sorting (No equivalent plugin)

       This  must  be run on the server running the 389 Directory Instance as it requires filesystem access. You
       must run this tool as either root or dirsrv users.

       The following is required from your openldap instance:

         * slapd.d configuration directory in ldif/dynamic format
         * (optional) ldif file backup of the database from slapcat

       These can be created on the OpenLDAP host and copied to the 389 Directory  Server  host.  No  destructive
       actions are applied to the OpenLDAP instance.

       If  you  are  already using the ldif/dynamic format from /etc/openldap/slapd.d, you should take a copy of
       this to use in the migration.

           cp -a /etc/openldap/slapd.d /root/slapd.d

       If you are using the slapd.conf configuration file, you can convert this  to  the  dynamic  configuration
       without affecting your running instance with:

           slaptest -f /etc/openldap/slapd.conf -F /root/slapd.d

       To  optionally  allow  your  database content to be migrated you may create an ldif backup of the content
       that 389 Directory Server can import. You must run this for each backend (suffix) of your  instance  with
       the command:

           # If using slapd.conf config format
           slapcat -f /etc/openldap/slapd.conf -b SUFFIX -l /root/suffix.ldif
           # If using slapd.d config format
           slapcat -F /etc/openldap/slapd.d -b SUFFIX -l /root/suffix.ldif

       You  must  already  have  a  389  Directory  Server you want to import into. You can create this with the
       `dscreate` tool. Data and configuration in this instance WILL be  modified  or  removed  (ie  potentially
       destructive actions).

       It  is  strongly  advised  you test this tool on a non-production system first to be sure the process and
       changes are understood.

       This only needs to be run on the first-instance in a 389 Directory Server topology.  All  other  replicas
       should be configured from this instance post migration.

       <b>instance</b>
              The name of the 389-ds instance to have openldap data migrated into

       <b>slapd_config</b>
              The path to the openldap slapd.d configuration that will be migrated

       <b>slapd_ldif</b>
              The path to exported database ldifs to be imported.

</pre><h4><b>OPTIONS</b></h4><pre>
       <b>-v</b>, <b>--verbose</b>
              Display verbose operation tracing during command execution

       <b>--confirm</b>
              Confirm  that  you  want  to  apply  these migration actions to the 389-ds instance. By default no
              actions are taken.

       <b>--ignore-overlay</b> <u>[IGNORE_OVERLAY</u> <u>...]</u>
              Ignore the following openldap overlays from having  their  configuration  migrated  to  equivalent
              389-ds plugins. Valid options are memberof, refint, unique.

       <b>--ignore-schema-oid</b> <u>[IGNORE_SCHEMA_OID</u> <u>...]</u>
              Ignore  the  following openldap schema attribute or class OIDS from being migrated to 389-ds. This
              *may* create inconsistent schema which could cause the migration to fail. Use with caution.

       <b>--ignore-attribute</b> <u>[IGNORE_ATTRIBUTE</u> <u>...]</u>
              Ignore the following attributes from entries that are loaded from the ldif. For example,  you  may
              not want to import userPassword hashes.

       <b>-D</b> <u>BINDDN</u>, <b>--binddn</b> <u>BINDDN</u>
              The 389 Directory Server account to bind as for executing migration operations

       <b>-w</b> <u>BINDPW</u>, <b>--bindpw</b> <u>BINDPW</u>
              Password for binddn

       <b>-W</b>, <b>--prompt</b>
              Prompt for password for the bind DN

       <b>-y</b> <u>PWDFILE</u>, <b>--pwdfile</b> <u>PWDFILE</u>
              Specifies a file containing the password for the binddn

       <b>-Z</b>, <b>--starttls</b>
              Connect to 389 Directory Server with StartTLS

</pre><h4><b>AUTHOR</b></h4><pre>
       Red Hat, Inc., and William Brown &lt;<a href="mailto:389-devel@lists.fedoraproject.org">389-devel@lists.fedoraproject.org</a>&gt;

</pre><h4><b>DISTRIBUTION</b></h4><pre>
       The        latest        version        of        lib389        may        be       downloaded       from
       <a href="http://www.port389.org/docs/389ds/FAQ/upstream-test-framework.html">http://www.port389.org/docs/389ds/FAQ/upstream-test-framework.html</a>

lib389 3.1.2                                       2025-04-10                                  <u><a href="../man1/OPENLDAP_TO_DS.1.html">OPENLDAP_TO_DS</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>