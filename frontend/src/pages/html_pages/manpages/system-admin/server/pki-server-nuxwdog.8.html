<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>pki-server-nuxwdog - Command-line interface for enabling PKI server instances to start using nuxwdog.</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/jammy/+package/pki-server">pki-server_11.0.0-1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       pki-server-nuxwdog - Command-line interface for enabling PKI server instances to start using <b>nuxwdog</b>.

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>pki-server</b> [<u>CLI-options</u>] <b>nuxwdog</b>
       <b>pki-server</b> [<u>CLI-options</u>] <b>nuxwdog-enable</b>
       <b>pki-server</b> [<u>CLI-options</u>] <b>nuxwdog-disable</b>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       When   a   PKI   server   instance   starts,   it   reads   a   plain   text   configuration  file  (i.e.
       <a href="file:/etc/pki/">/etc/pki/</a><u>instance_name</u>/password.conf) to obtain passwords needed to initialize the  server.   This  could
       include  passwords  needed  to  access  server  keys  in  hardware  or software cryptographic modules, or
       passwords to establish database connections.

       While this file is protected by file and SELinux permissions, it is even more secure to remove this  file
       entirely,  and  have the server prompt for these passwords on startup.  This means of course that it will
       not be possible to start the PKI server instance unattended, including on server reboots.

       <b>nuxwdog</b> is a mechanism to start PKI server without storing passwords in file  (i.e.  password.conf);  but
       prompt  the  administrator  for  the  relevant passwords.  These passwords will be cached securely in the
       kernel keyring.  If the CS instance crashes unexpectedly, <b>systemd</b> will attempt to  restart  the  instance
       using the cached passwords.

       PKI  server  instances need to be reconfigured to use <b>nuxwdog</b> to start.  Not only are changes required in
       instance configuration files, but instances need to use a different systemd  unit  file  to  start.   See
       details in the <b>Operations</b> section.

       <b>pki-server</b>  <b>nuxwdog</b>  commands  provide  a mechanism to reconfigure instances to either start or not start
       with <b>nuxwdog</b>.

       <b>pki-server</b> [<u>CLI-options</u>] <b>nuxwdog</b>
           This command is to list available <b>nuxwdog</b> commands.

       <b>pki-server</b> [<u>CLI-options</u>] <b>nuxwdog-enable</b>
           This command is to reconfigure ALL local PKI server instances to start using <b>nuxwdog</b>.
           To reconfigure a particular PKI server instance only, use <b>pki-server</b> <b>instance-nuxwdog-enable</b>.

       <b>pki-server</b> [<u>CLI-options</u>] <b>nuxwdog-disable</b>
           This command is to reconfigure ALL local PKI server instances to start without using <b>nuxwdog</b>.
           To reconfigure a particular PKI server instance only, use <b>pki-server</b> <b>instance-nuxwdog-disable</b>.
           Once this operation is complete, instances will need to read a  <b>password.conf</b> file in order to  start
       up.

</pre><h4><b>OPTIONS</b></h4><pre>
       The CLI options are described in <b><a href="../man8/pki-server.8.html">pki-server</a>(8)</b>.

</pre><h4><b>OPERATIONS</b></h4><pre>
       Configuring a PKI server instance to start using <b>nuxwdog</b> requires changes to instance configuration files
       such as <b>server.xml</b>.  These changes are performed by <b>pki-server</b>.

       Once a subsystem has been converted to using <b>nuxwdog</b>, the <b>password.conf</b> file is no longer needed.  It can
       be  removed  from  the filesystem.  Be sure, of course, to note all passwords contained therein - some of
       which may be randomly generated during the install.

       <b>Note:</b> If a subsystem stores any of its system certificates  in  a  cryptographic  token  other  than  the
       internal NSS database, it will have entries in <b>password.conf</b> that look like <b>hardware-TOKEN_NAME=password</b>.
       In this case, an additional parameter must be added to CS.cfg.

              cms.tokenList=TOKEN_NAME

       When this parameter is added, nuxwdog will prompt the password for <b>hardware-TOKEN_NAME</b> in addition to the
       other passwords.

       An instance that is started by <b>nuxwdog</b> is started by a different systemd unit file (<b>pki-tomcatd-nuxwdog</b>).
       Therefore, to start/stop/restart an instance using the following:

              $ systemctl &lt;start/stop/restart&gt; pki-tomcatd-nuxwdog@&lt;instance_id&gt;.service

       If  the  PKI server instance is converted back to not using <b>nuxwdog</b> to start, then the usual systemd unit
       scripts can be invoked:

              $ systemctl &lt;start/stop/restart&gt; pki-tomcatd@&lt;instance_id&gt;.service

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man8/pki-server.8.html">pki-server</a>(8)</b>
           PKI server management commands

</pre><h4><b>AUTHORS</b></h4><pre>
       Ade Lee lt;<a href="mailto:alee@redhat.comgt">alee@redhat.comgt</a>; and Dinesh Prasanth M K lt;<a href="mailto:dmoluguw@redhat.comgt">dmoluguw@redhat.comgt</a>;

</pre><h4><b>COPYRIGHT</b></h4><pre>
       Copyright (c) 2018 Red Hat, Inc.  This is licensed under  the  GNU  General  Public  License,  version  2
       (GPLv2).  A copy of this license is available at <a href="http://www.gnu.org/licenses/old-licenses/gpl-2.0.txt">http://www.gnu.org/licenses/old-licenses/gpl-2.0.txt</a>.

PKI                                             December 20, 2018                          <u><a href="../man8/pki-server-nuxwdog.8.html">pki-server-nuxwdog</a></u>(8)
</pre>
 </div>
</div></section>
</div>
</body>
</html>