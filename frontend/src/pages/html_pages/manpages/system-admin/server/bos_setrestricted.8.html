<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>bos_setrestricted - place a server in restricted mode</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/openafs-client">openafs-client_1.8.13.2-1ubuntu1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       bos_setrestricted - place a server in restricted mode

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>bos</b> <b>setrestricted</b> <b>-server</b> &lt;<u>machine</u> <u>name</u>&gt; <b>-mode</b> (0 | 1)
           [<b>-cell</b> &lt;<u>cell</u> <u>name</u>&gt;] [<b>-noauth</b>] [<b>-localauth</b>] [<b>-help</b>]

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The <b>bos</b> <b>setrestricted</b> command places the server in restricted mode. This mode increases the security of
       the bos server by removing access to a number of bos commands that are only used whilst configuring a
       system.

       When a server is in restricted mode, access to <b>bos_exec</b>, <b>bos</b> <b>uninstall</b>, <b>bos</b> <b>install</b>, <b>bos</b> <b>create</b>, <b>bos</b>
       <b>delete</b>, <b>bos</b> <b>prune</b> is denied, and the use of <b>bos</b> <b>getlog</b> is limited.

</pre><h4><b>CAUTIONS</b></h4><pre>
       Once a server has been placed in restricted mode, it may not be opened up again using a remote command.
       That is, <b>bos</b> <b>setrestricted</b> has no method of placing the server in unrestricted mode. Once a server is
       restricted, it can only be opened up again by sending it a SIGFPE, which must be done as root on the
       local machine.

</pre><h4><b>OPTIONS</b></h4><pre>
       <b>-server</b> &lt;<u>machine</u> <u>name</u>&gt;
           Indicates the server machine to restrict.

       <b>-mode</b> &lt;<u>mode</u>&gt;
           Indicates  whether to turn restricted mode off or on. Pass a 1 to turn restricted mode on, and pass a
           0 to turn restricted mode off. The latter will  only  work  if  the  server  is  already  running  in
           unrestricted  mode,  and  thus  won't  do  anything  immediately,  but  can  be  used  to  change the
           corresponding entry in <b><a href="../man5/BosConfig.5.html">BosConfig</a></b>(5).

       <b>-cell</b> &lt;<u>cell</u> <u>name</u>&gt;
           Names the cell in which to run the command. Do not combine this argument with  the  <b>-localauth</b>  flag.
           For more details, see <b><a href="../man8/bos.8.html">bos</a></b>(8).

       <b>-noauth</b>
           Assigns  the  unprivileged  identity  "anonymous"  to  the  issuer. Do not combine this flag with the
           <b>-localauth</b> flag. For more details, see <b><a href="../man8/bos.8.html">bos</a></b>(8).

       <b>-localauth</b>
           Constructs a server ticket using a key from  the  local  <u>/etc/openafs/server/KeyFile</u>  file.  The  <b>bos</b>
           command  interpreter  presents  the  ticket  to  the  BOS Server during mutual authentication. Do not
           combine this flag with the <b>-cell</b> or <b>-noauth</b> options. For more details, see <b><a href="../man8/bos.8.html">bos</a></b>(8).

       <b>-help</b>
           Prints the online help for this command. All other valid options are ignored.

</pre><h4><b>PRIVILEGE</b> <b>REQUIRED</b></h4><pre>
       The issuer must be listed in the <u>/etc/openafs/server/UserList</u> file on the machine named  by  the  <b>-server</b>
       argument, or must be logged in as the local superuser "root" if the <b>-localauth</b> flag is included.

       As noted above, this command cannot be run against servers which are already in restricted mode.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man5/BosConfig.5.html">BosConfig</a></b>(5), <b><a href="../man8/bos.8.html">bos</a></b>(8), <b><a href="../man8/bos_getrestricted.8.html">bos_getrestricted</a></b>(8)

</pre><h4><b>COPYRIGHT</b></h4><pre>
       Copyright 2009 Simon Wilkinson &lt;<a href="mailto:simon@sxw.org.uk">simon@sxw.org.uk</a>&gt;

       This  documentation  is  covered by the BSD License as written in the doc/LICENSE file. This man page was
       written by Simon Wilkinson for OpenAFS.

OpenAFS                                            2025-03-21                               <u><a href="../man8/BOS_SETRESTRICTED.8.html">BOS_SETRESTRICTED</a></u>(8)
</pre>
 </div>
</div></section>
</div>
</body>
</html>