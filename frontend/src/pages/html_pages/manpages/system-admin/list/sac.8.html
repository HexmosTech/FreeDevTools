<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>sac - system accounting.</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/jammy/+package/sac">sac_1.9b5-3build1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       sac - system accounting.

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>sac</b>  [<b>-acdfFhilmoprtU</b>]  [<b>-w</b>  [<u>wtmp-list</u>|<b>-</b>]] [<b>-b</b> <u>H</u>[<u>:M</u>[<u>:S</u>]]] [<b>-s</b> <u>start</u>] [<b>-e</b> <u>end</u>] [<b>-X</b>[<b>3</b>|<b>4</b>]] [[<b>-u</b>] <u>user-list</u>]
       [<b>-x</b>  [<u>user-list</u>]]  [<b>-T</b>  [<u>tty-list</u>]]  [<b>-H</b>  [<u>host-list</u>]]  [<b>-I</b>   <u>H</u>[<u>:M</u>[<u>:S</u>]]]   [<b>-M</b>   <u>hour-range</u>[,...]]    [<b>-R</b>
       [<u>portmaster</u>/<u>pattern-list</u>]]   [<b>--seconds</b>]   [<b>--hms</b>]   [<b>--hm</b>]  [<b>--hours</b>]  [<b>--round</b>]  [<b>--longdate</b>]  [<b>--help</b>]
       [<b>--version</b>]

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <u>Sac</u> is a system administration utility, based on the original BSD <u>ac</u> program, to read the  wtmp  log  and
       produce more human readable system usage information than provided by <u>last</u>. Several features not found in
       the BSD version of this program have been added.

       <u>Sac</u> produces five different types of output:  Total usage in number of login hours since wtmp was created
       (default),  login  usage  per  day (<u>-d</u>), total usage per user (<u>-p</u>), usage per tty line (<u>-t</u>), simultaneous
       usage (<u>-U</u>) and raw usage (<u>-r</u>), which prints everything sac  knows  about  your  accounting  file(s).  The
       output  of  these  six  are modified by supplying either the average (<u>-a</u>) option, the hourly profile (<u>-h</u>)
       option, the login listing (<u>-l</u>) option, and/or the clipping (<u>-c</u>) option.

       The <u>-s</u> and <u>-e</u> options are used to select the starting date and ending date, respectively, to  report  on.
       The  format  for  the  date  is  one of: <b>+</b><u>days</u> (days since the beginning of the wtmp file) or <b>-</b><u>days</u> (days
       before the end of the wtmp file) or in standard date format: <u>MM/DD/YY</u>.

       The <u>-M</u> option is used to select only specific hours in a day to perform accounting on instead of all  the
       hours  in the day.  The <u>hour-range</u> format is: (0-23)[-(0-23)[,<u>hour-range</u>[,...]]].  The hour given applies
       to the whole hour, so a range of "5-6" is a time range from 5am to 6:59:59am.  This  option  is  probably
       only useful to those ISP providers that want to charge a different rate for specific time periods.

       Selecting  the  average  option for total usage, gives an average number of login hours per day since the
       creation of the wtmp file.  For the daily option it prints the total # of logins  for  the  day  and  the
       average login time per login.  For the per person display it displays the total number of logins the user
       has  made  and  the  average amount of time spent on each login.  For the TTY option, it prints the total
       number of logins on that TTY and the average amount of time for each login.

       Selecting the hourly profile option for total usage gives a visual display of  the  percentage  of  login
       time  spent  per  hour  for all the logins on the system.  For the daily option it prints the same visual
       display for each day.  For the per person display it displays the hourly breakdown of login time the user
       spends on the system (this can be pretty interesting).  For the TTY option it breaks  down  hourly  usage
       for each TTY.

       Selecting the login listing option shows the logins and total time for each individual login for the time
       period  requested  on  each  day,  tty line or person depending on the profile requested.  Such output is
       ready-made for use as a ISP billing back-end.

       Selecting the <u>-c</u> option performs clipping on the amount of login time being used.  Multiple logins during
       the same time period will only count once.  As a side effect (possibly a bug) clipping  will  affect  the
       output  of the average option, reporting only the number of logins that uniquely apply to the total login
       time. Logins that fall totally within the time span of other logins will be totally clipped  out,  as  if
       they did not occur.

       If  the  optional  user-list  is  given  <u>sac</u>  will only consider accounting information from those users,
       discarding the rest.  The <u>-u</u> option can be used to precede the optional user-list.  This option is useful
       to terminate the <u>-x</u>, <u>-T</u> and <u>-H</u> options.

       The <u>-x</u> option, has the reverse effect of the <u>-u</u> option, in that it  excludes  the  users  specified  from
       accounting.  This is useful for removing users that are on a lot, which skew average usage results.

       The <u>-T</u> option performs accounting for only the optionally specified tty lines listed.  This is useful for
       determining  modem  usage,  and  who's been using them the most.  The tty line may be given as a wildcard
       pattern, using `*', `?', `[...]' and `[^...]' to easily select a given set of tty lines (such as ttyC* to
       produce accounting on cyclades tty lines).  Wildcard patterns should escaped or quoted  to  avoid  having
       the shell process them.

       The  <u>-H</u> option performs accounting for only the optionally specified hosts listed.  Since a host-name can
       only be up to 16 characters long in the wtmp file, only the first 16 characters of a given host-name will
       be considered for purposes of matches.  If a host-name given on the command line  does  not  contain  any
       dots  (<b>.</b>)  or ends with a dot, it is taken to be a substring and will match if the first part of the wtmp
       host-name matches the substring.  Like with tty lines, the hostname may be given  as  a  wildcard,  using
       `*', `?', `[...]' and `[^...]' to easily select a large number of hosts at once (such as *.indstate.*).

       If  an  option  word  used  in  a <u>-u</u>, <u>-x</u>, <u>-T</u> or <u>-H</u> list begins with an '@' (at) sign, it denotes that the
       option word specifies a file which contains a list of usernames, ttys or hostnames to be applied  to  the
       specific option.  The "include file" may contain comments which are denoted by a '#' (pound) character at
       the  beginning of a line, ala shell scripts.  If a word in an include file begins with an '@' as well, it
       denotes another file is to be included.

       The <u>-f</u> option makes sac perform accounting on both normal logins and ftp logins. The <u>-F</u> option makes  sac
       perform  accounting on ftp logins, normal logins are not considered.  Sac is only guaranteed to work with
       wu-ftpd (wu-archive FTP daemon) style of utmp entry for ftp logins, denoted by a line of "ftp#####" where
       "#####" is the process ID of the ftp process.

       The time format for sac defaults to fractions of hours.  Thus 1.5 hours is 1 hour and  30  minutes.   The
       output  time  format  may  be  changed  using  the  command  line options <u>--seconds</u> (seconds only), <u>--hms</u>
       (hour:minute:second format), <u>--hm</u> (hour:minute format), <u>--hours</u> (hours only format),  and  <u>--round</u>  which
       rounds the time to the nearest minute or hour instead of always rounding down.

</pre><h4><b>OPTIONS</b></h4><pre>
       <u>Sac</u> understands the following command line switches:

       <b>--help</b> Outputs a verbose usage listing.

       <b>--verbose</b>
              Prints  alerts  when sac encounters errors or other strange phenomenon. In the case of a null wtmp
              entry (sometimes caused by crackers covering their tracks) sac  will  print  an  approximate  time
              stamp with the alert.

       <b>--version</b>
              Outputs the version of sac.

       <b>-w</b> [<u>wtmp-list</u>|<b>-</b>]
              Select a different input file(s) instead of the default (<u><a href="file:/var/log/wtmp">/var/log/wtmp</a></u>).  The accounting file type
              is determined by the options used before -w is reached.

       <b>-d</b>     List login time per day instead of the default total time.

       <b>-p</b>     List login time per user instead of the default total time.

       <b>-t</b>     List login time per tty line instead of the default total time.

       <b>-U</b>     List  simultaneous  usage  levels.   Lists amount of time at each usage level (number of ttys used
              simultaneously) and the number of accountable hours (time * usage level) at each usage level.

       <b>-r</b>     Print almost everything that sac knows about your wtmp file. Time is displayed  in  seconds.   The
              Hourmask  is a 24 bit field representing which hours accounting was performed on (zero for no mask
              used). The format is fairly obvious.  Useful for use as a back-end to some accounting  package  or
              for graphing usage. Quite verbose.

       <b>-a</b>     Print average information.

       <b>-h</b>     Print hourly profile information.

       <b>-l</b>     Print login listing information.

       <b>-c</b>     Perform login "clipping".  Multiple logins during the same time period will only count once.

       <b>-I</b> <u>H</u>[<u>:M</u>[<u>:S</u>]]
              Ignore  specific amount of login time for each user before performing accounting.  Only works with
              -p option.

       <b>--seconds</b>
              Display time in seconds.

       <b>--hms</b>  Display time in Hours:Minutes:Seconds format.

       <b>--hm</b>   Display time in Hours:Minutes format.  Seconds are rounded off.

       <b>--hours</b>
              Display time in hours only format. Minutes and seconds are rounded off.

       <b>--round</b>
              Round time displayed with "--hm" to the nearest minute, or to the nearest hour with "--hours".

       <b>--longdate</b>
              Displays dates in long notation (weekday, month, day and four digit year).

       <b>-o</b>     Read the wtmp file as if it were an old style BSD wtmp file (old utmp format which  does  not  use
              ut_type field).  Programs such as tacacs maintain a wtmp file which does not use all the fields.

       <b>-S</b>     Attempts  to seek into wtmp to the day specified by the -s option (-s MM/DD/YY). Not guaranteed to
              work.  If the seek fails it will attempt to rewind input to the beginning and  continue  normally.
              Useful for seeing last days usage from a large wtmp file.

       <b>-X</b>[<b>3</b>]  Read  a wtmp file maintained by xtacacs, terminal server access control software, versions 3.4 and
              3.5.

       <b>-X4</b>    Read a wtmp file maintained by xtacacs version 4.0.

       <b>-i</b>     Include hostname information when trying to determine logins and  logouts.   This  is  useful  for
              accurately  parsing  tacacs  accounting  logs which merge accounting for multiple terminal servers
              into the same log.

       <b>-R</b> <u>portmaster</u>/<u>pattern-list</u>
              Read and process the detail files maintained by the Radius access control  software  for  terminal
              servers.   Sac  will process each detail file in /usr/adm/radacct/&lt;portmaster-name&gt;/detail each in
              turn until all the detail files have been processed.  If no portmaster name  is  given,  a  detail
              file  must  be specified with the `<b>-w</b>' option. If a wildcard pattern is given, sac will attempt to
              find all portmaster directories that match the pattern located in the radacct directory. A  detail
              file may be specified with the `<b>-w</b>' option in addition to the `<b>-R</b>' option.

       <b>-D</b>     When  processing  radius  logs,  this  option  specifies that sac should use the @hostname part of
              user@hostname for the hostname field instead of portmasters hostname.   Useful  for  -H  filtering
              when using radius logs.

       <b>-P</b>     Perform  packet  and  octet  accounting when reading from a detail file that logs packet and octet
              information (i.e. Ascend terminal servers).

       <b>-b</b> <u>hours</u>[<u>:minutes</u>[<u>:seconds</u>]]
              Consider only those utmp entries that fall within the  last  few  hours/minutes/seconds  from  the
              current time, disregarding the rest.  This option is useful for determining if someone has been on
              in the last few hours.

       <b>-s</b> <u>start</u>
              Selects the starting date of the report.

       <b>-e</b> <u>end</u> Selects the ending date of the report.

       <b>-M</b> <u>hour-range</u>[,...]]
              Select  only specific hours in a day to perform accounting on instead of all the hours in the day.
              The <u>hour-range</u> format is: (0-23)[-(0-23)[,<u>hour-range</u>[,...]]].  The hour given applies to the whole
              hour, so a range of "5-6" is a time range from 5am to 6:59:59am.

       <b>-f</b>     Perform ftp login accounting in addition to normal shell accounting.

       <b>-F</b>     Perform ftp login accounting only.

       <b>-m</b>     Show minimum and maximum number of concurrent logins over the total time span or per day/per  user
              when used with the -d/-p option.

       <b>-u</b> <u>user-list</u>
              Selects only those users to perform accounting on.

       <b>-x</b> <u>user-list</u>
              Selects those users to not perform accounting on.

       <b>-T</b> <u>tty-list</u>
              Selects those ttys to perform accounting on.  Each tty specifier may be a wildcard.

       <b>-H</b> <u>host-list</u>
              Selects those hosts to perform accounting on.  Each host specifier may be a wildcard.

</pre><h4><b>FILES</b></h4><pre>
       <a href="file:/var/log/wtmp">/var/log/wtmp</a>                  login database
       /usr/adm/radacct/.../detail    Radius accounting logs

</pre><h4><b>AUTHOR</b></h4><pre>
       Steve Baker (<a href="mailto:ice@mama.indstate.edu">ice@mama.indstate.edu</a>)

</pre><h4><b>BUGS</b></h4><pre>
       The  documentation  for  wtmp  is  lacking.  It's  not  clear  at  all  what  all gets put in wtmp or the
       significance of any of it.

       The -o and -X options handle what is a login and a logout differently than normally (because there is  no
       ut_type field), making sac incorrectly identify <u>xterm</u> log-outs as a login (<u>xterm</u> does not write a "login"
       entry,  only  a  "logout"  entry  that  looks  just like a login in all respects save the contents of the
       ut_type field).  It should also be noted that <u>last</u> incorrectly handles xterm log-outs as well.

       The -f or -F options should not be used with -o -X[3|4] or -R options, as sac  will  default  back  to  a
       normal utmp format, or ignore the -f or -F directives depending on where they occur on the command line.

       Using  the  -S option will cause sac to skip over accounting information which may well apply to the days
       you are inspecting.  The only sure way to get all the accounting information is to start at the beginning
       or at least a day before the start you are interested in.

       The -m option does not accurately report true min/max usage when inspecting  more  than  one  logfile  if
       those logfiles overlap the same time range.

       The  -U option may report incorrect amounts of time when compared to the -t option. As yet I have no idea
       why.

       Sac (probably) only handles changes in time logged in the wtmp file made by <u>netdate</u>. <u>Rdate</u> does  not  log
       time changes.

       Clipping  can  affect the output of the average option, as described above.  Radius accounting uses Acct-
       Session-Time to determine usage when a stop record has no  start  record.   Clipping  will  not  function
       correctly when there are missing start records.

       The  ut_addr  field  doesn't seem to be consistently used by all programs, so it cannot be used for exact
       host-name filtering.  Even if it were, it would be too much work for this lazy programmer anyway.

       Radius detail logs suck.  There is not one standard radius detail file format.  Sac is not guaranteed  to
       work with your detail file.  If you suspect sacs' output is not correct, please contact the author at the
       e-mail address above.

       Null usernames in radius detail logs are represented as "UNKNOWN" by sac, which may be a valid username.

       Too much accounting results in big brother... citizen.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man1/ac.1.html">ac</a></b>(1), <b><a href="../man1/last.1.html">last</a></b>(1), <b><a href="../man1/rawtmp.1.html">rawtmp</a></b>(1), <b><a href="../man5/wtmp.5.html">wtmp</a></b>(5), <b><a href="../man8L/netdate.8L.html">netdate</a></b>(8L)

UNIX Manual                                                                                               <u><a href="../man8/SAC.8.html">SAC</a></u>(8)
</pre>
 </div>
</div></section>
</div>
</body>
</html>