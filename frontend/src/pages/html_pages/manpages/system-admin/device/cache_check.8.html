<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>cache_check - validates cache metadata on a device or file.</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/thin-provisioning-tools">thin-provisioning-tools_1.1.0-4ubuntu1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       <b>cache_check</b> - validates cache metadata on a device or file.

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>cache_check</b> [<u>options</u>] {device|file}

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>cache_check</b> checks cache metadata created by the device-mapper cache target on a device or file.

       This tool cannot be run on live metadata.

</pre><h4><b>OPTIONS</b></h4><pre>
       <b>-h,</b> <b>--help</b>
              Print help and exit.

       <b>-V,</b> <b>--version</b>
              Output version information and exit.

       <b>-q,</b> <b>--quiet</b>
              Suppress output messages, return only exit code.

       <b>--super-block-only</b>
              Only check the superblock.

       <b>--skip-hints</b>
              Skip checking of the policy hint values metadata.

       <b>--skip-discards</b>
              Skip checking of the discard bits in the metadata.

       <b>--clear-needs-check-flag</b>
              Clears the 'needs_check' flag in the superblock.

           The kernel may set a flag to force the pool to be checked before it's next
           activated.  Set this switch to clear the flag if the check is successful.
           If the metadata check failed, the flag is not cleared and a cache_repair run
           is needed to fix any issues. After cache_repair succeeded, you may run
           cache_check again.

</pre><h4><b>EXAMPLE</b></h4><pre>
       Analyses and repairs cache metadata on logical volume /dev/vg/metadata:

           $ cache_check /dev/vg/metadata

       The device may not be actively used by the target when running.

</pre><h4><b>DIAGNOSTICS</b></h4><pre>
       <b>cache_check</b> returns an exit code of 0 for success or 1 for error.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man8/cache_dump.8.html">cache_dump</a></b>(8), <b><a href="../man8/cache_repair.8.html">cache_repair</a></b>(8), <b><a href="../man8/cache_restore.8.html">cache_restore</a></b>(8)

</pre><h4><b>AUTHOR</b></h4><pre>
       Joe Thornber &lt;<a href="mailto:ejt@redhat.com">ejt@redhat.com</a>&gt;, Heinz Mauelshagen &lt;<a href="mailto:HeinzM@RedHat.com">HeinzM@RedHat.com</a>&gt;

System Manager's Manual                        Device Mapper Tools                                <u><a href="../man8/cache_check.8.html">cache_check</a></u>(8)
</pre>
 </div>
</div></section>
</div>
</body>
</html>