<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>zbd - manage zoned block devices</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/zbd-utils">zbd-utils_2.0.4-1.1build1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       zbd - manage zoned block devices

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>zbd</b> <u>command</u> [options] <u>device</u>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>zbd</b>  is  used  to  manipulate  zones  of  a zoned block device. Zoned block devies are block devices that
       support the SCSI Zoned Block Commands (ZBC), ATA Zoned-device ATA Commands (ZAC) or NVMe Zoned  NameSpace
       commands (ZNS).  The zones to operate on can be specified using the offset and length options.

       The <u>device</u> argument must be the pathname of the target zoned block device.

</pre><h4><b>COMMANDS</b></h4><pre>
       By  default,  all  commands  will  operate from the zone at device offset 0 and operate on all zones. The
       common options <b>-ofst</b> and <b>-len</b> can be used to modify the operation range of commands.

   <b>report</b>
       The command <b>zbd</b> <b>report</b> is used to obtain and display the device zone information.

       By default, the command will report all zones from the start of the device up to the  last  zone  of  the
       device.  Options  may  be  used  to  modify  this behavior, changing the starting zone or the size of the
       report.

       <b>Report</b> <b>output</b>
       Zone      Zone number
       type      Type of the zone
       ofst      Zone start offset in Bytes
       len       Zone length in Bytes
       cap       Zone usable capacity in Bytes
       wp        Zone write pointer position in Bytes
       cond      Zone condition
       non_seq   Non-sequential write resources active
       reset     Reset write pointer recommended

       <b>Zone</b> <b>types</b>
       cnv   Conventional
       swr   Sequential write required
       swp   Sequential write preferred
       ???   Unknown (should not be reported)

       <b>Zone</b> <b>conditions</b>
       nw   Not write pointer
       em   Empty
       fu   Full
       oe   Explicitly opened
       oi   Implicitly opened
       cl   Closed
       ol   Offline
       ro   Read only
       ??   Reserved conditions (should not be reported)

   <b>reset</b>
       The command <b>zbd</b> <b>reset</b> is used to reset the write pointer of one or more zones.

   <b>open</b>
       The command <b>zbd</b> <b>open</b> is used to explicitly open one or more zones.

   <b>close</b>
       The command <b>zbd</b> <b>close</b> is used to close one or more zones.

   <b>finish</b>
       The command <b>zbd</b> <b>finish</b> is used to finish (transition to full) one or more zones.

   <b>dump</b>
       Save the zone information and zone data of a zoned device to files. The files are by default saved in the
       current working directory. A different output path can be specified using the option <b>-d</b>. The  file  names
       are  prefixed  by  default  using  the device base name. The device zone information is saved in the file
       <u>&lt;devname&gt;_zone_info.dump</u> and the device zone data is saved in the file <u>&lt;devname&gt;_zone_data.dump</u>. The file
       name prefix can be changed using the option <b>-f</b>.

       The <b>dump</b> command will save the data of all conventional zones and the  written  data  of  all  sequential
       zones  in  the  operation  range.  The  options <b>-ofst</b> and <b>-len</b> can be used to limit in size the operation
       range.

       The zone information file always saves zone information for all zones of the device,  regardless  of  the
       specified  operation  range. This file can be specified in place of a device name with the <b>report</b> command
       to inspect its content.

   <b>restore</b>
       Set a zoned block device zone status and zone data according to the zone information and zoned data saved
       in files generated using the <b>dump</b> command. The resulting state of the target device will be identical  to
       that  of  the  device  used to generate the dump files. The <b>restore</b> command will only operate on the zone
       range that was used with the <b>dump</b> command. The target zoned block device  must  be  compatible  with  the
       zoned  block  device  used as the source for the dump operation. That is, the target device must have the
       same capacity and zone configuration (zone type, zone size and zone capacity) as the source device.

       The path and name prefix of the dump files to use for restoring a device can be changed using the options
       <b>-d</b> and <b>-f</b>.

</pre><h4><b>OPTIONS</b></h4><pre>
       Options applicable to all commands are as follows.

       <b>-v</b>     Verbose mode (for debug).

       <b>-i</b>     Display device information before executing the command.

       <b>-ofst</b> <u>offset</u>
              Start offset in Bytes of the first zone to operate on.

       <b>-len</b> <u>length</u>
              Length in Bytes of the range of zones to operate on.

       <b>-h</b>, <b>--help</b>
              Display help text and exit.

       Options applicable only to the <b>zbd</b> <b>report</b> command are as follows.

       <b>-csv</b>   Output zone information using the comma-separated (csv) format.

       <b>-n</b>     Display the number of zones that are to be reported.

       <b>-c</b>     Display the total capacity of all reported zones. When used with the  <b>-n</b>  and  <b>-csv</b>  options,  the
              number of zones is output first.

       <b>-ro</b> <u>filter</u>
              Sepcify reporting option to filter the zone report. <u>filter</u> can be one of the following.
              em   Empty zones
              oi   Implicitly opened zones
              oe   Explicitly opened zones
              cl   Closed zones
              fu   Full zones
              ro   Read only zones
              ol   Offline zones
              nw   Conventional zones
              ns   Non_seq write resource zones
              rw   Reset write pointer recommended zones

</pre><h4><b>AUTHOR</b></h4><pre>
       Damien Le Moal &lt;<a href="mailto:damien.lemoal@wdc.com">damien.lemoal@wdc.com</a>&gt;

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man8/blkzone.8.html">blkzone</a></b>(8)

</pre><h4><b>AVAILABILITY</b></h4><pre>
       The zbd command is part of the libzbd library available from https://github.com/westerndigitalcorporation
       /libzbd.

                                                                                                          <u><a href="../man8/ZBD.8.html">ZBD</a></u>(8)
</pre>
 </div>
</div></section>
</div>
</body>
</html>