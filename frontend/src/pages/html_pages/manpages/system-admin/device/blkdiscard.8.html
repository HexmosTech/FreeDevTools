<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>blkdiscard - discard sectors on a device</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/util-linux">util-linux_2.41-4ubuntu3_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       blkdiscard - discard sectors on a device

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>blkdiscard</b> [options] [<b>-o</b> <u>offset</u>] [<b>-l</b> <u>length</u>] <u>device</u>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>blkdiscard</b> is used to discard device sectors. This is useful for solid-state drives (SSDs) and
       thinly-provisioned storage. Unlike <b><a href="../man8/fstrim.8.html">fstrim</a></b>(8), this command is used directly on the block device.

       By default, <b>blkdiscard</b> will discard all blocks on the device. Options may be used to modify this behavior
       based on range or size, as explained below.

       The <u>device</u> argument is the pathname of the block device.

       <b>WARNING:</b> <b>All</b> <b>data</b> <b>in</b> <b>the</b> <b>discarded</b> <b>region</b> <b>on</b> <b>the</b> <b>device</b> <b>will</b> <b>be</b> <b>lost!</b>

       Since util-linux v2.41, <b>fdisk</b> has the ability to discard sectors on both partitions and unpartitioned
       areas using the 'T' command. Additionally, <b>sfdisk</b> has the option --discard-free to discard unpartitioned
       areas.

</pre><h4><b>OPTIONS</b></h4><pre>
       The <u>offset</u> and <u>length</u> arguments may be followed by the multiplicative suffixes KiB (=1024), MiB
       (=1024*1024), and so on for GiB, TiB, PiB, EiB, ZiB and YiB (the "iB" is optional, e.g., "K" has the same
       meaning as "KiB") or the suffixes KB (=1000), MB (=1000*1000), and so on for GB, TB, PB, EB, ZB and YB.

       <b>-f</b>, <b>--force</b>
           Disable all checking. Since v2.36 the block device is open in exclusive mode (<b>O_EXCL</b>) by default to
           avoid collision with mounted filesystem or another kernel subsystem. The <b>--force</b> option disables the
           exclusive access mode.

       <b>-o</b>, <b>--offset</b> <u>offset</u>
           Byte offset into the device from which to start discarding. The provided value must be aligned to the
           device sector size. The default value is zero.

       <b>-l</b>, <b>--length</b> <u>length</u>
           The number of bytes to discard (counting from the starting point). The provided value must be aligned
           to the device sector size. If the specified value extends past the end of the device, <b>blkdiscard</b> will
           stop at the device size boundary. The default value extends to the end of the device.

       <b>-p</b>, <b>--step</b> <u>length</u>
           The number of bytes to discard within one iteration. The default is to discard all by one ioctl call.

       <b>-q</b>, <b>--quiet</b>
           Suppress warning messages.

       <b>-s</b>, <b>--secure</b>
           Perform a secure discard. A secure discard is the same as a regular discard except that all copies of
           the discarded blocks that were possibly created by garbage collection must also be erased. This
           requires support from the device.

       <b>-z</b>, <b>--zeroout</b>
           Zero-fill rather than discard.

       <b>-v</b>, <b>--verbose</b>
           Display the aligned values of <u>offset</u> and <u>length</u>. If the <b>--step</b> option is specified, it prints the
           discard progress every second.

       <b>-h</b>, <b>--help</b>
           Display help text and exit.

       <b>-V</b>, <b>--version</b>
           Display version and exit.

</pre><h4><b>EXIT</b> <b>STATUS</b></h4><pre>
       <b>blkdiscard</b> has the following exit status values:

       <b>0</b>
           success

       <b>1</b>
           failure; incorrect invocation, permissions or any other generic error

       <b>2</b>
           failure; since v2.39, the device does not support discard operation

</pre><h4><b>AUTHORS</b></h4><pre>
       Lukas Czerner &lt;<a href="mailto:lczerner@redhat.com">lczerner@redhat.com</a>&gt;, Karel Zak &lt;<a href="mailto:kzak@redhat.com">kzak@redhat.com</a>&gt;

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man8/fstrim.8.html">fstrim</a></b>(8)

</pre><h4><b>REPORTING</b> <b>BUGS</b></h4><pre>
       For bug reports, use the issue tracker &lt;https://github.com/util-linux/util-linux/issues&gt;.

</pre><h4><b>AVAILABILITY</b></h4><pre>
       The <b>blkdiscard</b> command is part of the util-linux package which can be downloaded from Linux Kernel
       Archive &lt;https://www.kernel.org/pub/linux/utils/util-linux/&gt;.

util-linux 2.41                                    2025-07-02                                      <u><a href="../man8/BLKDISCARD.8.html">BLKDISCARD</a></u>(8)
</pre>
 </div>
</div></section>
</div>
</body>
</html>