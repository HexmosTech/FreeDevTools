<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>badblocks - search a device for bad blocks</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/e2fsprogs">e2fsprogs_1.47.2-3ubuntu1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       badblocks - search a device for bad blocks

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>badblocks</b>  [  <b>-svwnfBX</b>  ]  [  <b>-b</b>  <u>block_size</u>  ]  [  <b>-c</b>  <u>blocks_at_once</u>  ]  [  <b>-d</b> <u>read_delay_factor</u> ] [ <b>-e</b>
       <u>max_bad_blocks</u> ] [ <b>-i</b> <u>input_file</u> ] [ <b>-o</b> <u>output_file</u> ] [ <b>-p</b> <u>num_passes</u> ] [  <b>-t</b>  <u>test_pattern</u>  ]  <u>device</u>  [
       <u>last_block</u> ] [ <u>first_block</u> ]

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>badblocks</b> is used to search for bad blocks on a device (usually a disk partition).  <u>device</u> is the special
       file  corresponding  to the device (e.g <u>/dev/hdc1</u>).  <u>last_block</u> is the last block to be checked; if it is
       not specified, the last block on the device is used as a default.  <u>first_block</u> is an  optional  parameter
       specifying the starting block number for the test, which allows the testing to start in the middle of the
       disk.  If it is not specified the first block on the disk is used as a default.

       <b>Important</b>  <b>note:</b>  If  the  output of <b>badblocks</b> is going to be fed to the <b>e2fsck</b> or <b>mke2fs</b> programs, it is
       important that the block size is properly specified, since the block numbers which are generated are very
       dependent on the block size in use by the file system.  For this reason, it is strongly recommended  that
       users <b>not</b> run <b>badblocks</b> directly, but rather use the <b>-c</b> option of the <b>e2fsck</b> and <b>mke2fs</b> programs.

</pre><h4><b>OPTIONS</b></h4><pre>
       <b>-b</b> <u>block_size</u>
              Specify the size of blocks in bytes.  The default is 1024.

       <b>-c</b> <u>number</u> <u>of</u> <u>blocks</u>
              is the number of blocks which are tested at a time.  The default is 64.

       <b>-d</b> <u>read</u> <u>delay</u> <u>factor</u>
              This parameter, if passed and non-zero, will cause bad blocks to sleep between reads if there were
              no  errors  encountered in the read operation; the delay will be calculated as a percentage of the
              time it took for the read operation to be performed. In other words, a value  of  100  will  cause
              each  read  to  be  delayed  by the amount the previous read took, and a value of 200 by twice the
              amount.

       <b>-e</b> <u>max</u> <u>bad</u> <u>block</u> <u>count</u>
              Specify a maximum number of bad blocks before aborting the test.  The default is  0,  meaning  the
              test will continue until the end of the test range is reached.

       <b>-f</b>     Normally,  badblocks will refuse to do a read/write or a non-destructive test on a device which is
              mounted, since either can cause the system to potentially crash and/or damage the file system even
              if it is mounted read-only.  This can be overridden using the <b>-f</b> flag, but should almost never  be
              used --- if you think you're smarter than the <b>badblocks</b> program, you almost certainly aren't.  The
              only  time  when  this  option might be safe to use is if the <a href="file:/etc/mtab">/etc/mtab</a> file is incorrect, and the
              device really isn't mounted.

       <b>-i</b> <u>input_file</u>
              Read a list of already existing known bad blocks.  <b>Badblocks</b> will skip testing these blocks  since
              they  are  known  to  be  bad.   If <u>input_file</u> is specified as "-", the list will be read from the
              standard input.  Blocks listed in this list will be omitted  from  the  list  of  <u>new</u>  bad  blocks
              produced  on  the standard output or in the output file.  The <b>-b</b> option of <b><a href="../man8/dumpe2fs.8.html">dumpe2fs</a></b>(8) can be used
              to retrieve the list of blocks currently marked bad on  an  existing  file  system,  in  a  format
              suitable for use with this option.

       <b>-n</b>     Use  non-destructive  read-write  mode.  By default only a non-destructive read-only test is done.
              This option must not be combined with the <b>-w</b> option, as they are mutually exclusive.

       <b>-o</b> <u>output_file</u>
              Write the list of bad blocks to the specified file.  Without this option, <b>badblocks</b>  displays  the
              list  on  its  standard  output.   The format of this file is suitable for use by the <b>-l</b> option in
              <b><a href="../man8/e2fsck.8.html">e2fsck</a></b>(8) or <b><a href="../man8/mke2fs.8.html">mke2fs</a></b>(8).

       <b>-p</b> <u>num_passes</u>
              Repeat scanning the disk until there are no new blocks discovered in num_passes consecutive  scans
              of the disk.  Default is 0, meaning <b>badblocks</b> will exit after the first pass.

       <b>-s</b>     Show  the progress of the scan by writing out rough percentage completion of the current badblocks
              pass over the disk.  Note that badblocks may do multiple test passes over the disk, in  particular
              if the <b>-p</b> or <b>-w</b> option is requested by the user.

       <b>-t</b> <u>test_pattern</u>
              Specify a test pattern to be read (and written) to disk blocks.   The <u>test_pattern</u> may either be a
              numeric  value between 0 and ULONG_MAX-1 inclusive, or the word "random", which specifies that the
              block should be filled with a random bit pattern.  For read/write (<b>-w</b>)  and  non-destructive  (<b>-n</b>)
              modes,  one  or  more  test  patterns  may  be specified by specifying the <b>-t</b> option for each test
              pattern desired.  For read-only mode only a single pattern may be specified  and  it  may  not  be
              "random".  Read-only testing with a pattern assumes that the specified pattern has previously been
              written  to  the  disk  -  if  not,  large  numbers of blocks will fail verification.  If multiple
              patterns are specified then all blocks will be tested with one pattern before  proceeding  to  the
              next pattern.

       <b>-v</b>     Verbose mode.  Will write the number of read errors, write errors and data- corruptions to stderr.

       <b>-w</b>     Use  write-mode  test.  With  this option, <b>badblocks</b> scans for bad blocks by writing some patterns
              (0xaa, 0x55, 0xff, 0x00) on every block of the device,  reading  every  block  and  comparing  the
              contents.  This option may not be combined with the <b>-n</b> option, as they are mutually exclusive.

       <b>-B</b>     Use buffered I/O and do not use Direct I/O, even if it is available.

       <b>-X</b>     Internal  flag  only to be used by <b><a href="../man8/e2fsck.8.html">e2fsck</a></b>(8) and <b><a href="../man8/mke2fs.8.html">mke2fs</a></b>(8).  It bypasses the exclusive mode in-use
              device safety check.

</pre><h4><b>WARNING</b></h4><pre>
       Never use the <b>-w</b> option on a device containing an existing file system.  This option erases data!  If you
       want to do write-mode testing on an existing file system, use the <b>-n</b> option instead.  It is  slower,  but
       it will preserve your data.

       The  <b>-e</b>  option  will cause badblocks to output a possibly incomplete list of bad blocks. Therefore it is
       recommended to use it only when one wants to know if there are any bad blocks at all on the  device,  and
       not when the list of bad blocks is wanted.

</pre><h4><b>AUTHOR</b></h4><pre>
       <b>badblocks</b>  was  written  by  Remy  Card  &lt;<a href="mailto:Remy.Card@linux.org">Remy.Card@linux.org</a>&gt;.   Current  maintainer  is  Theodore  Ts'o
       &lt;<a href="mailto:tytso@alum.mit.edu">tytso@alum.mit.edu</a>&gt;.     Non-destructive    read/write    test    implemented    by    David     Beattie
       &lt;<a href="mailto:dbeattie@softhome.net">dbeattie@softhome.net</a>&gt;.

</pre><h4><b>AVAILABILITY</b></h4><pre>
       <b>badblocks</b> is part of the e2fsprogs package and is available from <a href="http://e2fsprogs.sourceforge.net">http://e2fsprogs.sourceforge.net</a>.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man8/e2fsck.8.html">e2fsck</a></b>(8), <b><a href="../man8/mke2fs.8.html">mke2fs</a></b>(8)

E2fsprogs version 1.47.2                          January 2025                                      <u><a href="../man8/BADBLOCKS.8.html">BADBLOCKS</a></u>(8)
</pre>
 </div>
</div></section>
</div>
</body>
</html>