<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>aoe-mkshelf - create special device files for one shelf address</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/aoetools">aoetools_36-6_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       aoe-mkshelf - create special device files for one shelf address

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>aoe-mkshelf</b> <b>{device-dir}</b> <b>{shelf-address}</b>
       <b>env</b> <b>n_partitions=1</b> <b>aoe-mkshelf</b> <b>{device-dir}</b> <b>{shelf-address}</b>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The  <u>aoe-mkshelf</u>  command  is not needed on systems that have udev installed and is incompatible with aoe
       drivers that have the <u>aoe_dyndevs</u> module parameter set to 1.

       Systems lacking udev and having an aoe driver that uses static minor device numbers can  use  <u>aoe-mkshelf</u>
       to create the block special files necessary to access the AoE devices with the given shelf address.

       All  aoe  drivers prior to <u>aoe6-50</u> use static minor device numbers.  Versions 50 and up use dynamic minor
       device numbers when the module parameter aoe_dyndevs=1 is set.

       If you are using static minor device numbers and your aoe driver supports only one partition  per  device
       (whole-disk  partitions),  then  the  device  files  must  match,  and  you  should  use the <u>n_partitions</u>
       environment variable described below.

   <b>Arguments</b>
       <b>device-dir</b>
              This should be the name of the directory where the block device files will be created.

       <b>shelf-address</b>
              This is the AoE major address, or shelf address, for which to create device nodes.   For  example,
              specifying a shelf address of 1 means that the e1.* device nodes will be created in <b>device-dir</b>.

</pre><h4><b>ENVIRONMENT</b> <b>VARIABLES</b></h4><pre>
       If the <u>n_partitions</u> variable is set in the environment, it will override the default number of partitions
       per aoe disk, namely 16.

</pre><h4><b>EXAMPLE</b></h4><pre>
       In this example, the root user on a host named <u>nai</u> creates special files for using the aoe disks in shelf
       7.  Then he remembers that the driver doesn't have partition support, so the command is called again with
       <u>n_partitions</u> set to 1.

              nai:~# aoe-mkshelf /dev/etherd 7
              nai:~# ls /dev/etherd/e7.* | wc -l
              160
              nai:~# rm /dev/etherd/e7.*
              nai:~# n_partitions=1 aoe-mkshelf /dev/etherd 7
              nai:~# ls /dev/etherd/e7.* | wc -l
              10
              nai:~#

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <u><a href="../man8/aoe-discover.8.html">aoe-discover</a></u>(8), <u><a href="../man8/aoe-interfaces.8.html">aoe-interfaces</a></u>(8), <u><a href="../man8/aoe-mkdevs.8.html">aoe-mkdevs</a></u>(8), <u><a href="../man8/aoe-stat.8.html">aoe-stat</a></u>(8), <u><a href="../man8/aoetools.8.html">aoetools</a></u>(8), <u><a href="../man7/udev.7.html">udev</a></u>(7).

</pre><h4><b>AUTHOR</b></h4><pre>
       Ed L. Cashin (<a href="mailto:ecashin@coraid.com">ecashin@coraid.com</a>)

                                                                                                  <u><a href="../man8/aoe-mkshelf.8.html">aoe-mkshelf</a></u>(8)
</pre>
 </div>
</div></section>
</div>
</body>
</html>