<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>zpool-replace — replace one device with another in ZFS storage pool</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/zfsutils-linux">zfsutils-linux_2.3.2-1ubuntu3_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       zpool-replace — replace one device with another in ZFS storage pool

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>zpool</b> <b>replace</b> [<b>-fsw</b>] [<b>-o</b> <u>property</u>=<u>value</u>] <u>pool</u> <u>device</u> [<u>new-device</u>]

</pre><h4><b>DESCRIPTION</b></h4><pre>
       Replaces <u>device</u> with <u>new-device</u>.  This is equivalent to attaching <u>new-device</u>, waiting for it to resilver,
       and then detaching <u>device</u>.  Any in progress scrub will be canceled.

       The  size  of <u>new-device</u> must be greater than or equal to the minimum size of all the devices in a mirror
       or raidz configuration.

       <u>new-device</u> is required if the pool is not redundant.  If <u>new-device</u> is  not  specified,  it  defaults  to
       <u>device</u>.   This  form  of  replacement is useful after an existing disk has failed and has been physically
       replaced.  In this case, the new disk may have the same <u><a href="file:/dev">/dev</a></u> path as the old device, even  though  it  is
       actually a different disk.  ZFS recognizes this.

       <b>-f</b>      Forces  use of <u>new-device</u>, even if it appears to be in use.  Not all devices can be overridden in
               this manner.

       <b>-o</b> <u>property</u>=<u>value</u>
               Sets the given pool properties.  See the <u><a href="../man7/zpoolprops.7.html">zpoolprops</a></u>(7) manual page for a list of valid properties
               that can be set.  The only property supported at the moment is <b>ashift</b>.

       <b>-s</b>      The <u>new-device</u> is reconstructed sequentially  to  restore  redundancy  as  quickly  as  possible.
               Checksums  are  not  verified  during  sequential  reconstruction  so a scrub is started when the
               resilver completes.  Sequential reconstruction is not supported for raidz configurations.

       <b>-w</b>      Waits until the replacement has completed before returning.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <u><a href="../man8/zpool-detach.8.html">zpool-detach</a></u>(8), <u><a href="../man8/zpool-initialize.8.html">zpool-initialize</a></u>(8), <u><a href="../man8/zpool-online.8.html">zpool-online</a></u>(8), <u><a href="../man8/zpool-resilver.8.html">zpool-resilver</a></u>(8)

OpenZFS                                           May 29, 2021                                  <u><a href="../man8/ZPOOL-REPLACE.8.html">ZPOOL-REPLACE</a></u>(8)
</pre>
 </div>
</div></section>
</div>
</body>
</html>