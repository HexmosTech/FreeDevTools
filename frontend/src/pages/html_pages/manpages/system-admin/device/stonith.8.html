<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>stonith - extensible interface for remotely powering down a node in the cluster</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/cluster-glue">cluster-glue_1.0.12-24ubuntu3_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       stonith - extensible interface for remotely powering down a node in the cluster

</pre><h4><b>SYNOPSIS</b></h4><pre>

       <b>stonith</b> <b>-h</b>

       <b>stonith</b> [<b>-s</b>] [<b>-h</b>] <b>-L</b>

       <b>stonith</b> [<b>-s</b>] [<b>-h</b>] <b>-t</b> <u>stonith-device-type</u> <b>-n</b>

       <b>stonith</b> [<b>-s</b>] [<b>-h</b>] <b>-t</b> <u>stonith-device-type</u> {<u>name</u>=<u>value</u>...  | <b>-p</b> <u>stonith-device-parameters</u> | <b>-E</b> |
               <b>-F</b> <u>stonith-device-parameters-file</u>} [<b>-c</b> <u>count</u>] [<b>-l</b>] [<b>-S</b>]

       <b>stonith</b> [<b>-s</b>] [<b>-h</b>] <b>-t</b> <u>stonith-device-type</u> {<u>name</u>=<u>value</u>...  | <b>-p</b> <u>stonith-device-parameters</u> | <b>-E</b> |
               <b>-F</b> <u>stonith-device-parameters-file</u>} [<b>-c</b> <u>count</u>] [<b>-T</b> {reset | on | off}] [<u>nodename</u>]

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The STONITH module provides an extensible interface for remotely powering down a node in the cluster
       (STONITH = Shoot The Other Node In The Head). The idea is quite simple: when the software running on one
       machine wants to make sure another machine in the cluster is not using a resource, pull the plug on the
       other machine. It's simple and reliable, albeit admittedly brutal.

</pre><h4><b>OPTIONS</b></h4><pre>
       The following options are supported:

       <b>-c</b> <u>count</u>
           Perform any actions identified by the <b>-l</b>, <b>-S</b> and <b>-T</b> options <u>count</u> times.

       <b>-F</b> <u>stonith-device-parameters-file</u>
           Path of file specifying parameters for a stonith device. To determine the syntax of the parameters
           file for a given device type run:

               # <b>stonith</b> <b>-t</b> <b>stonith-device-type</b> <b>-n</b>

           All of the listed parameters need to appear in order on a single line in the parameters file and be
           delimited by whitespace.

       <b>-E</b>
           Read the configuration from the environment. The environment variable names are the same as the
           parameter names.

       <b>-h</b>
           Display detailed information about a stonith device including description, configuration information,
           parameters and any other related information. When specified without a stonith-device-type, detailed
           information on all stonith devices is displayed.

           If you don't yet own a stonith device and want to know more about the ones we support, this
           information is likely to be helpful.

       <b>-L</b>
           List the valid stonith device types, suitable for passing as an argument to the <b>-t</b> option.

       <b>-l</b>
           List the hosts controlled by the stonith device.

       <b>-n</b>
           Output the parameter names of the stonith device.

       <u>name</u>=<u>value</u>
           Parameter, in the form of a name/value pair, to pass directly to the stonith device. To determine the
           syntax of the parameters for a given device type run:

               # <b>stonith</b> <b>-t</b> <b>stonith-device-type</b> <b>-n</b>

           All of the listed parameter names need to be passed with their corresponding values.

       <b>-p</b> <u>stonith-device-parameters</u>
           Parameters to pass directly to the stonith device. To determine the syntax of the parameters for a
           given device type run:

               # <b>stonith</b> <b>-t</b> <b>stonith-device-type</b> <b>-n</b>

           All of the listed parameter names need to appear in order and be delimited by whitespace.

       <b>-S</b>
           Show the status of the stonith device.

       <b>-s</b>
           Silent operation. Suppress logging of error messages to standard error.

       <b>-T</b> <u>action</u>
           The stonith action to perform on the node identified by nodename. Chosen from reset, on, and off.

               <b>Note</b>
               If a nodename is specified without the <b>-T</b> option, the stonith action defaults to reset.

       <b>-t</b> <u>stonith-device-type</u>
           The type of the stonith device to be used to effect stonith. A list of supported devices for an
           installation may be obtained using the <b>-L</b> option.

       <b>-v</b>
           Ignored.

</pre><h4><b>EXAMPLES</b></h4><pre>
       To determine which stonith devices are available on your installation, use the <b>-L</b> option:

           # <b>stonith</b> <b>-L</b>

       All of the supported devices will be displayed one per line. Choose one from this list that is best for
       your environment - let's use wti_nps for the rest of this example. To get detailed information about this
       device, use the <b>-h</b> option:

           # <b>stonith</b> <b>-t</b> <b>wti_nps</b> <b>-h</b>

       Included in the output is the list of valid parameter names for wti_nps. To get <u>just</u> the list of valid
       parameter names, use the <b>-n</b> option instead:

           # <b>stonith</b> <b>-t</b> <b>wti_nps</b> <b>-n</b>

       All of the required parameter names will be displayed one per line. For wti_nps the output is:

           ipaddr
           password

       There are three ways to pass these parameters to the device. The first (and preferred) way is by passing
       name/value pairs on the <b>stonith</b> command line:

           # <b>stonith</b> <b>-t</b> <b>wti_nps</b> <b>ipaddr=my-dev-ip</b> <b>password=my-dev-pw</b> <b>...</b>

       The second way, which is maintained only for backward compatibility with legacy clusters, is passing the
       values <u>in</u> <u>order</u> on the <b>stonith</b> command line with the <b>-p</b> option:

           # <b>stonith</b> <b>-t</b> <b>wti_nps</b> <b>-p</b> <b>"my-dev-ip</b> <b>my-dev-pw"</b> <b>...</b>

       The third way, which is also maintained only for backward compatibility with legacy clusters, is placing
       the values <u>in</u> <u>order</u> on a single line in a config file:

           my-dev-ip my-dev-pw

       ... and passing the name of the file on the stonith command line with the <b>-F</b> option:

           # <b>stonith</b> <b>-t</b> <b>wti_nps</b> <b>-F</b> <b><a href="file:~/my-wtinps-config">~/my-wtinps-config</a></b> <b>...</b>

       To make sure you have the configuration set up correctly and that the device is available for stonith
       operations, use the <b>-S</b> option:

           # <b>stonith</b> <b>-t</b> <b>wti_nps</b> <b>ipaddr=my-dev-ip</b> <b>password=my-dev-pw</b> <b>-S</b>

       If all is well at this point, you should see something similar to:

           stonith: wti_nps device OK.

       If you don't, some debugging may be necessary to determine if the config info is correct, the device is
       powered on, etc. The <b>-d</b> option can come in handy here - you can add it to any <b>stonith</b> command to cause it
       to generate debug output.

       To get the list of hosts controlled by the device, use the <b>-l</b> option:

           # <b>stonith</b> <b>-t</b> <b>wti_nps</b> <b>ipaddr=my-dev-ip</b> <b>password=my-dev-pw</b> <b>-l</b>

       All of the hosts controlled by the device will be displayed one per line. For wti_nps the output could
       be:

           node1
               node2
               node3

       To power off one of these hosts, use the <b>-T</b> option:

           # <b>stonith</b> <b>-t</b> <b>wti_nps</b> <b>ipaddr=my-dev-ip</b> <b>password=my-dev-pw</b> <b>-T</b> <b>off</b> <u>node</u>

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man8/heartbeat.8.html">heartbeat</a></b>(8), <b><a href="../man8/meatclient.8.html">meatclient</a></b>(8)

</pre><h4><b>AUTHORS</b></h4><pre>
       <b>Alan</b> <b>Robertson</b> &lt;<a href="mailto:alanr@unix.sh">alanr@unix.sh</a>&gt;
           stonith

       <b>Simon</b> <b>Horman</b> &lt;<a href="mailto:horms@vergenet.net">horms@vergenet.net</a>&gt;
           man page

       <b>Florian</b> <b>Haas</b> &lt;<a href="mailto:florian.haas@linbit.com">florian.haas@linbit.com</a>&gt;
           man page

cluster-glue 1.0.12                             December 7, 2009                                      <u><a href="../man8/STONITH.8.html">STONITH</a></u>(8)
</pre>
 </div>
</div></section>
</div>
</body>
</html>