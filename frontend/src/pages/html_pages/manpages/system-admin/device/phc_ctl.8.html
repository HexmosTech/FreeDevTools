<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>phc_ctl - directly control PHC device clock</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/linuxptp">linuxptp_4.2-1ubuntu2_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       phc_ctl - directly control PHC device clock

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>phc_ctl</b> [ options ] &lt;device&gt; [ commands ]

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>phc_ctl</b> is a program which can be used to directly control a PHC clock device.  Typically, it is used for
       debugging  purposes,  and  has  little  use for general control of the device. For general control of PHC
       clock devices, <b>phc2sys</b> <b>(8)</b> should be preferred.

       &lt;device&gt; may be either CLOCK_REALTIME, any /dev/ptpX  device,  or  any  ethernet  device  which  supports
       ethtool's get_ts_info ioctl.

</pre><h4><b>OPTIONS</b></h4><pre>
       <b>-l</b> <u>print-level</u>
              Set the maximum syslog level of messages which should be printed or sent to the system logger. The
              default is 6 (LOG_INFO).

       <b>-q</b>     Do not send messages to syslog. By default messages will be sent.

       <b>-Q</b>     Do not print messages to standard output. By default messages will be printed.

       <b>-h</b>     Display a help message.

       <b>-v</b>     Prints the software version and exits.

</pre><h4><b>COMMANDS</b></h4><pre>
       <b>phc_ctl</b>  is  controlled  by  passing  commands  which  take either an optional or required parameter. The
       commands (outlined below) will control aspects of the PHC clock device. These commands may be useful  for
       inspecting  or  debugging the PHC driver, but may have adverse side effects on running instances of <b>ptp4l</b>
       <b>(8)</b> or <b>phc2sys</b> <b>(8)</b>

       <b>set</b> <u>seconds</u>
              Set the PHC clock time to the value specified in seconds. Defaults to reading CLOCK_REALTIME if no
              value is provided.

       <b>get</b>    Get the current time of the PHC clock device.

       <b>adj</b> <u>seconds</u>
              Adjust the PHC clock by an amount of seconds provided. This argument is required.

       <b>freq</b> <u>ppb</u>
              Adjust the frequency of the PHC clock by the specified  parts  per  billion.  If  no  argument  is
              provided, it will attempt to read the current frequency and report it.

       <b>phase</b> <u>seconds</u>
              Pass an amount in seconds to the PHC clock's phase control keyword. This argument is required.

       <b>cmp</b>    Compare the PHC clock device to CLOCK_REALTIME, using the best method available.

       <b>caps</b>   Display the device capabilities. This is the default command if no commands are provided.

       <b>wait</b> <u>seconds</u>
              Sleep  the  process  for  the  specified  period  of time, waking up and resuming afterwards. This
              command may be useful for sanity checking whether the PHC clock is running as expected.

              The arguments specified in seconds are read as double precision floating point  values,  and  will
              scale  to  nanoseconds.  This  means  providing  a value of 5.5 means 5 and one half seconds. This
              allows specifying fairly precise values for time.

</pre><h4><b>EXAMPLES</b></h4><pre>
       Read the current clock time from the device
              phc_ctl /dev/ptp0 get

       Set the PHC clock time to CLOCK_REALTIME
              phc_ctl /dev/ptp0 set

       Set PHC clock time to 0 (seconds since Epoch)
              phc_ctl /dev/ptp0 set 0.0

       Quickly sanity check frequency slewing by setting slewing frequency by positive 10%, resetting  clock  to
       0.0  time,  waiting  for  10  seconds,  and  then reading time. The time read back should be (roughly) 11
       seconds, since the clock was slewed 10% faster.
              phc_ctl /dev/ptp0 freq 100000000 set 0.0 wait 10.0 get

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man8/ptp4l.8.html">ptp4l</a></b>(8) <b><a href="../man8/phc2sys.8.html">phc2sys</a></b>(8)

linuxptp                                            June 2014                                         <u><a href="../man8/PHC_CTL.8.html">PHC_CTL</a></u>(8)
</pre>
 </div>
</div></section>
</div>
</body>
</html>