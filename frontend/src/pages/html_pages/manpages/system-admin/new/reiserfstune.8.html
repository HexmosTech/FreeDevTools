<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>reiserfstune - The tunning tool for the ReiserFS filesystem.</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/reiserfsprogs">reiserfsprogs_3.6.27-9_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       reiserfstune - The tunning tool for the ReiserFS filesystem.

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>reiserfstune</b>  [  <b>-f</b>  ]  [  <b>-h</b>  |  <b>--help</b>  ]  [  <b>-j</b> | <b>--journal-device</b> <u>FILE</u> ] [ <b>--no-journal-available</b> ] [
       <b>--journal-new-device</b> <u>FILE</u> ] [ <b>--make-journal-standard</b> ] [ <b>-s</b> | <b>--journal-new-size</b> <u>N</u> ] [ <b>-o</b>  |  <b>--journal-</b>
       <b>new-offset</b>  <u>N</u> ] [ <b>-t</b> | <b>--max-transaction-size</b> <u>N</u> ] [ <b>-b</b> | <b>--add-badblocks</b> <u>file</u> ] [ <b>-B</b> | <b>--badblocks</b> <u>file</u> ]
       [ <b>-u</b> | <b>--uuid</b> <u>UUID</u> ] [ <b>-l</b> | <b>--label</b> <u>LABEL</u> ] [ <b>-c</b> | <b>--check-interval</b> <u>interval-in-days</u> ]  [  <b>-C</b>  |  <b>--time-</b>
       <b>last-checked</b> <u>timestamp</u> ] [ <b>-m</b> | <b>--max-mnt-count</b> <u>count</u> ] [ <b>-M</b> | <b>--mnt-count</b> <u>count</u> ] <u>device</u>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>reiserfstune</b>  is used for tuning the ReiserFS. It can change two journal parameters (the journal size and
       the maximum transaction size), and it can move the journal's location to a new  specified  block  device.
       (The  old  ReiserFS's  journal  may  be  kept  unused,  or  discarded at the user's option.) Besides that
       <b>reiserfstune</b> can store the bad block list to the ReiserFS and set UUID and LABEL.  Note: At the  time  of
       writing  the relocated journal was implemented for a special release of ReiserFS, and was not expected to
       be put into the mainstream kernel until approximately Linux 2.5.  This means that if you have  the  stock
       kernel  you  must  apply  a  special  patch. Without this patch the kernel will refuse to mount the newly
       modified file system.  We will charge $25 to explain this to you if you ask us why it doesn't work.

       Perhaps the most interesting application of this code is to put the journal on a solid state disk.

       <u>device</u> is the special file corresponding to the newly specified block device (e.g /dev/hdXX for IDE  disk
              partition or /dev/sdXX for the SCSI disk partition).

</pre><h4><b>OPTIONS</b></h4><pre>
       <b>-h</b> | <b>--help</b>
              Print usage information and exit.

       <b>-j</b> | <b>--journal-device</b> <u>FILE</u>
              <u>FILE</u>  is  the file name of the block device the file system has the current journal (the one prior
              to running reiserfstune) on. This option is required when the journal is  already  on  a  separate
              device  from the main data device (although it can be avoided with <b>--no-journal-available</b>). If you
              don't specify journal device by this option, reiserfstune suppose that journal is on main device.

       <b>--no-journal-available</b>
              allows <b>reiserfstune</b> to continue when the current journal's block device is  no  longer  available.
              This might happen if a disk goes bad and you remove it (and run fsck).

       <b>--journal-new-device</b> <u>FILE</u>
              <u>FILE</u>  is the file name of the block device which will contain the new journal for the file system.
              If  you  don't  specify  this,   reiserfstune   supposes   that   journal   device   remains   the
              same.

        <b>-s</b> | <b>--journal-new-size</b> <u>N</u>
              <u>N</u> is the size parameter for the new journal. When journal is to be on a separate device - its size
              defaults  to  number  of  blocks  that device has. When journal is to be on the same device as the
              filesytem - its size defaults to amount of blocks allocated for  journal  by  <u>mkreiserfs</u>  when  it
              created the filesystem. Minimum is 513 for both cases.

        <b>-o</b> | <b>--journal-new-offset</b> <u>N</u>
              <u>N</u>  is  an  offset  in  blocks  where  journal will starts from when journal is to be on a separate
              device. Default is 0. Has no effect when journal is to be on the same device  as  the  filesystem.
              Most  users  have  no  need  to  use this feature.  It can be used when you want the journals from
              multiple filesystems to reside on the same device, and you don't want to or cannot partition  that
              device.

        <b>-t</b> | <b>--maximal-transaction-size</b> <u>N</u>
              <u>N</u>  is  the  maximum transaction size parameter for the new journal. The default, and max possible,
              value is 1024 blocks. It  should  be  less  than  half  the  size  of  the  journal.  If  specifed
              incorrectly, it will be adjusted.

        <b>-b</b> | <b>--add-badblocks</b> <u>file</u>
              <u>File</u>  is the file name of the file that contains the list of blocks to be marked as bad on the fs.
              The list is added to the fs list of bad blocks.

        <b>-B</b> | <b>--badblocks</b> <u>file</u>
              <u>File</u> is the file name of the file that contains the list of blocks to be marked as bad on the  fs.
              The bad block list on the fs is cleared before the list specified in the <u>File</u> is added to the fs.

       <b>-f</b> | <b>--force</b>
              Normally  <b>reiserfstune</b>  will  refuse  to change a journal of a file system that was created before
              this journal relocation code. This is because if you  change  the  journal,  you  cannot  go  back
              (without  special  option <b>--make-journal-standard</b>) to an old kernel that lacks this feature and be
              able to use your filesytem.  This option forces it to do that. Specified more than once it  allows
              to avoid asking for confirmation.

       <b>--make-journal-standard</b>
              As  it was mentioned above, if your file system has non-standard journal, it can not be mounted on
              the kernel without journal relocation code. The thing can be changed, the only condition  is  that
              there is reserved area on main device of the standard journal size 8193 blocks  (it will be so for
              instance  if  you  convert  standard  journal  to non-standard). Just specify this option when you
              relocate journal back, or without relocation if you already have it on main device.

       <b>-u</b> | <b>--uuid</b> <u>UUID</u>
              Set  the  universally   unique   identifier  (  <b>UUID</b>  )  of  the  filesystem  to  <u>UUID</u>  (see  also
              <b><a href="../man8/uuidgen.8.html">uuidgen</a>(8)</b>).  The   format  of  the  UUID  is  a series  of  hex  digits  separated  by  hypthens,
              like  this: "c1b9d5a2-f162-11cf-9ece-0020afc76f16".

       <b>-l</b> | <b>--label</b> <u>LABEL</u>
              Set  the  volume  label  of  the filesystem. <u>LABEL</u> can be at most 16 characters  long;  if  it  is
              longer than 16 characters, reiserfstune will truncate it.

       <b>-c</b> | <b>--check-interval</b> <u>interval-in-days</u>
              Adjust  the  maximal  time  between  two filesystem checks.  A value of "disable" will disable the
              time-dependent checking. A value of "default" will restore the compile-time default.

              It is strongly recommended that either <b>-m</b> (mount-count dependent) or <b>-c</b> (time-dependent)  checking
              be  enabled  to  force periodic full <b><a href="../man8/fsck.reiserfs.8.html">fsck.reiserfs</a>(8)</b> checking of the filesystem. Failure to do so
              may lead to filesystem corruption (due to  bad  disks,  cables,  memory,  or  kernel  bugs)  going
              unnoticed, ultimately resulting in data loss or corruption.

       <b>-C</b> | <b>--time-last-checked</b> <u>timestamp</u>
              Set  the  time  the filesystem was last checked using fsck.reiserfs. This can be useful in scripts
              which use a Logical Volume Manager to make a consistent snapshot of a filesystem, and  then  check
              the  filesystem  during  off hours to make sure it hasn't been corrupted due to hardware problems,
              etc. If the filesystem was clean, then this option can be used to set the last checked time on the
              original filesystem. The format of time-last-checked is the international  date  format,  with  an
              optional  time  specifier,  i.e.  YYYYMMDD[HH[MM[SS]]]. The keyword <b>now</b> is also accepted, in which
              case the last checked time will be set to the current time.

       <b>-m</b> | <b>--max-mnt-count</b> <u>max-mount-count</u>
              Adjust the number of mounts after which the filesystem  will  be checked by <b><a href="../man8/fsck.reiserfs.8.html">fsck.reiserfs</a>(8).</b>   If
              max-mount-count is "disable", the number of times the filesystem is mounted will be disregarded by
              <b><a href="../man8/fsck.reiserfs.8.html">fsck.reiserfs</a>(8)</b> and the kernel. A value of "default" will restore the compile-time default.

              Staggering   the   mount-counts   at  which  filesystems  are  forcibly  checked  will  avoid  all
              filesystems being  checked  at  one  time when using journaled filesystems.

              You  should  strongly  consider  the  consequences  of disabling  mount-count-dependent   checking
              entirely.    Bad   disk   drives, cables,  memory,  and kernel bugs could all corrupt a filesystem
              without marking the filesystem dirty or in  error.    If   you   are  using   journaling  on  your
              filesystem,  your  filesystem  will  never be marked dirty, so it will not normally be checked.  A
              filesys‐ tem error detected by the kernel will still force an fsck on the next reboot, but it  may
              already be too late to prevent data loss at that point.

              This  option  requires  a kernel which supports incrementing the count on each mount. This feature
              has not been incorporated into kernel versions older than 2.6.25.

              See also the <b>-c</b> option for time-dependent checking.

       <b>-M</b> | <b>--mnt-count</b> <u>count</u>
              Set the number of times the filesystem has been mounted.  If set to a greater value than the  max-
              mount-counts   parameter  set  by the <b>-m</b> option, <b><a href="../man8/fsck.reiserfs.8.html">fsck.reiserfs</a>(8)</b> will check the filesystem at the
              next reboot.

</pre><h4><b>POSSIBLE</b> <b>SCENARIOS</b> <b>OF</b> <b>USING</b> <b>REISERFSTUNE:</b></h4><pre>
       1. You have ReiserFS on /dev/hda1, and you wish to have  it  working  with  its  journal  on  the  device
       /dev/journal

              boot kernel patched with special "relocatable journal support" patch
              reiserfstune /dev/hda1 --journal-new-device /dev/journal -f
              mount /dev/hda1 and use.
              You would like to change max transaction size to 512 blocks
              reiserfstune -t 512 /dev/hda1
              You would like to use your file system on another kernel that doesn't
              contain relocatable journal support.
              umount /dev/hda1
              reiserfstune /dev/hda1 -j /dev/journal --journal-new-device /dev/hda1 --make-journal-standard
              mount /dev/hda1 and use.

       2. You would like to have ReiserFS on /dev/hda1 and to be able to
       switch between different journals including journal located on the
       device containing the filesystem.

              boot kernel patched with special "relocatable journal support" patch
              mkreiserfs /dev/hda1
              you got solid state disk (perhaps /dev/sda, they typically look like scsi disks)
              reiserfstune --journal-new-device /dev/sda1 -f /dev/hda1
              Your scsi device dies, it is three in the morning, you have an extra IDE device
              lying around
              reiserfsck --no-journal-available /dev/hda1
              or
              reiserfsck --rebuild-tree --no-journal-available /dev/hda1
              reiserfstune --no-journal-available --journal-new-device /dev/hda1 /dev/hda1
              using /dev/hda1 under patched kernel

</pre><h4><b>AUTHOR</b></h4><pre>
       This  version of <b>reiserfstune</b> has been written by Vladimir Demidov &lt;<a href="mailto:vova@namesys.com">vova@namesys.com</a>&gt; and Edward Shishkin
       &lt;<a href="mailto:edward@namesys.com">edward@namesys.com</a>&gt;.

</pre><h4><b>BUGS</b></h4><pre>
       Please report  bugs  to  the  ReiserFS  developers  &lt;<a href="mailto:reiserfs-devel@vger.kerne.org">reiserfs-devel@vger.kerne.org</a>&gt;,  providing  as  much
       information as possible--your hardware, kernel, patches, settings, all printed messages; check the syslog
       file for any related information.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man8/reiserfsck.8.html">reiserfsck</a></b>(8), <b><a href="../man8/debugreiserfs.8.html">debugreiserfs</a></b>(8), <b><a href="../man8/mkreiserfs.8.html">mkreiserfs</a></b>(8)

Reiserfsprogs-3.6.27                              January 2009                                   <u><a href="../man8/REISERFSTUNE.8.html">REISERFSTUNE</a></u>(8)
</pre>
 </div>
</div></section>
</div>
</body>
</html>