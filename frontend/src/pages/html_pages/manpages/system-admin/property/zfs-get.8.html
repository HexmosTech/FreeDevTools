<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>zfs-set — set properties on ZFS datasets</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/zfsutils-linux">zfsutils-linux_2.3.2-1ubuntu3_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       zfs-set — set properties on ZFS datasets

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>zfs</b> <b>set</b> [<b>-u</b>] <u>property</u>=<u>value</u> [<u>property</u>=<u>value</u>]… <u>filesystem</u>|<u>volume</u>|<u>snapshot</u>…
       <b>zfs</b> <b>get</b> [<b>-r</b>|<b>-d</b> <u>depth</u>] [<b>-Hp</b>] [<b>-j</b> [<u>--json-int</u>]] [<b>-o</b> <u>field</u>[,<u>field</u>]…] [<b>-s</b> <u>source</u>[,<u>source</u>]…] [<b>-t</b> <u>type</u>[,<u>type</u>]…]
           <b>all</b>|<u>property</u>[,<u>property</u>]… [<u>filesystem</u>|<u>volume</u>|<u>snapshot</u>|<u>bookmark</u>]…
       <b>zfs</b> <b>inherit</b> [<b>-rS</b>] <u>property</u> <u>filesystem</u>|<u>volume</u>|<u>snapshot</u>…

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>zfs</b> <b>set</b> [<b>-u</b>] <u>property</u>=<u>value</u> [<u>property</u>=<u>value</u>]… <u>filesystem</u>|<u>volume</u>|<u>snapshot</u>…
         Only some properties can be edited.  See <u><a href="../man7/zfsprops.7.html">zfsprops</a></u>(7) for more information on what properties can be set
         and  acceptable  values.   Numeric values can be specified as exact values, or in a human-readable form
         with a suffix of <b>B</b>, <b>K</b>, <b>M</b>, <b>G</b>, <b>T</b>, <b>P</b>,  <b>E</b>,  <b>Z</b>  (for  bytes,  kilobytes,  megabytes,  gigabytes,  terabytes,
         petabytes,  exabytes, or zettabytes, respectively).  User properties can be set on snapshots.  For more
         information, see the <u>User</u> <u>Properties</u> section of <u><a href="../man7/zfsprops.7.html">zfsprops</a></u>(7).

         <b>-u</b>  Update mountpoint, sharenfs, sharesmb property but do not mount or share the dataset.

       <b>zfs</b> <b>get</b> [<b>-r</b>|<b>-d</b> <u>depth</u>] [<b>-Hp</b>] [<b>-j</b> [<u>--json-int</u>]] [<b>-o</b> <u>field</u>[,<u>field</u>]…] [<b>-s</b> <u>source</u>[,<u>source</u>]…] [<b>-t</b> <u>type</u>[,<u>type</u>]…]
         <b>all</b>|<u>property</u>[,<u>property</u>]… [<u>filesystem</u>|<u>volume</u>|<u>snapshot</u>|<u>bookmark</u>]…
         Displays properties for the given datasets.  If no datasets are specified, then  the  command  displays
         properties for all datasets on the system.  For each property, the following columns are displayed:
             <b>name</b>      Dataset name
             <b>property</b>  Property name
             <b>value</b>     Property value
             <b>source</b>    Property source <b>local</b>, <b>default</b>, <b>inherited</b>, <b>temporary</b>, <b>received</b>, or <b>-</b> (none).

         All  columns  are  displayed  by  default,  though this can be controlled by using the <b>-o</b> option.  This
         command takes a comma-separated list of properties as described in the “Native  Properties”  and  “User
         Properties” sections of <u><a href="../man7/zfsprops.7.html">zfsprops</a></u>(7).

         The value <b>all</b> can be used to display all properties that apply to the given dataset's type (<b>filesystem</b>,
         <b>volume</b>, <b>snapshot</b>, or <b>bookmark</b>).

         <b>-j</b>, <b>--json</b> [<u>--json-int</u>]
                    Display  the output in JSON format.  Specify <b>--json-int</b> to display numbers in integer format
                    instead of strings for JSON output.

         <b>-H</b>         Display output in a form more easily parsed by scripts.  Any headers are omitted, and fields
                    are explicitly separated by a single tab instead of an arbitrary amount of space.

         <b>-d</b> <u>depth</u>   Recursively display any children of the dataset, limiting the recursion to <u>depth</u>.   A  depth
                    of <b>1</b> will display only the dataset and its direct children.

         <b>-o</b> <u>field</u>   A comma-separated list of columns to display, defaults to <b>name</b>,<b>property</b>,<b>value</b>,<b>source</b>.

         <b>-p</b>         Display numbers in parsable (exact) values.

         <b>-r</b>         Recursively display properties for any children.

         <b>-s</b> <u>source</u>  A  comma-separated  list of sources to display.  Those properties coming from a source other
                    than those in this list are ignored.  Each source must  be  one  of  the  following:  <b>local</b>,
                    <b>default</b>, <b>inherited</b>, <b>temporary</b>, <b>received</b>, or <b>none</b>.  The default value is all sources.

         <b>-t</b> <u>type</u>    A  comma-separated  list  of  types  to  display, where <u>type</u> is one of <b>filesystem</b>, <b>snapshot</b>,
                    <b>volume</b>, <b>bookmark</b>, or <b>all</b>.  <b>fs</b>, <b>snap</b>, or <b>vol</b> can be used as aliases for <b>filesystem</b>, <b>snapshot</b>,
                    or <b>volume</b>.

       <b>zfs</b> <b>inherit</b> [<b>-rS</b>] <u>property</u> <u>filesystem</u>|<u>volume</u>|<u>snapshot</u>…
         Clears the specified property, causing it to be inherited from an ancestor, restored to default  if  no
         ancestor has the property set, or with the <b>-S</b> option reverted to the received value if one exists.  See
         <u><a href="../man7/zfsprops.7.html">zfsprops</a></u>(7) for a listing of default values, and details on which properties can be inherited.

         <b>-r</b>  Recursively inherit the given property for all children.

         <b>-S</b>  Revert  the  property  to  the  received  value,  if  one  exists;  otherwise,  for non-inheritable
             properties, to the default; otherwise, operate as if the <b>-S</b> option was not specified.

</pre><h4><b>EXAMPLES</b></h4><pre>
   <b>Example</b> <b>1</b>: Creating a ZFS File System Hierarchy
       The following commands create a file system named <u>pool/home</u> and a file system named  <u>pool/home/bob</u>.   The
       mount  point  <u>/export/home</u> is set for the parent file system, and is automatically inherited by the child
       file system.
             <b>#</b> <b>zfs</b> <b>create</b> <u>pool/home</u>
             <b>#</b> <b>zfs</b> <b>set</b> <b>mountpoint</b>=<u>/export/home</u> <u>pool/home</u>
             <b>#</b> <b>zfs</b> <b>create</b> <u>pool/home/bob</u>

   <b>Example</b> <b>2</b>: Disabling and Enabling File System Compression
       The following command disables the <b>compression</b> property for all file systems under <u>pool/home</u>.   The  next
       command explicitly enables <b>compression</b> for <u>pool/home/anne</u>.
             <b>#</b> <b>zfs</b> <b>set</b> <b>compression</b>=<b>off</b> <u>pool/home</u>
             <b>#</b> <b>zfs</b> <b>set</b> <b>compression</b>=<b>on</b> <u>pool/home/anne</u>

   <b>Example</b> <b>3</b>: Setting a Quota on a ZFS File System
       The following command sets a quota of 50 Gbytes for <u>pool/home/bob</u>:
             <b>#</b> <b>zfs</b> <b>set</b> <b>quota</b>=<u>50G</u> <u>pool/home/bob</u>

   <b>Example</b> <b>4</b>: Listing ZFS Properties
       The following command lists all properties for <u>pool/home/bob</u>:
             # <b>zfs</b> <b>get</b> <b>all</b> <u>pool/home/bob</u>
             NAME           PROPERTY              VALUE                  SOURCE
             pool/home/bob  type                  filesystem             -
             pool/home/bob  creation              Tue Jul 21 15:53 2009  -
             pool/home/bob  used                  21K                    -
             pool/home/bob  available             20.0G                  -
             pool/home/bob  referenced            21K                    -
             pool/home/bob  compressratio         1.00x                  -
             pool/home/bob  mounted               yes                    -
             pool/home/bob  quota                 20G                    local
             pool/home/bob  reservation           none                   default
             pool/home/bob  recordsize            128K                   default
             pool/home/bob  mountpoint            /pool/home/bob         default
             pool/home/bob  sharenfs              off                    default
             pool/home/bob  checksum              on                     default
             pool/home/bob  compression           on                     local
             pool/home/bob  atime                 on                     default
             pool/home/bob  devices               on                     default
             pool/home/bob  exec                  on                     default
             pool/home/bob  setuid                on                     default
             pool/home/bob  readonly              off                    default
             pool/home/bob  zoned                 off                    default
             pool/home/bob  snapdir               hidden                 default
             pool/home/bob  acltype               off                    default
             pool/home/bob  aclmode               discard                default
             pool/home/bob  aclinherit            restricted             default
             pool/home/bob  canmount              on                     default
             pool/home/bob  xattr                 on                     default
             pool/home/bob  copies                1                      default
             pool/home/bob  version               4                      -
             pool/home/bob  utf8only              off                    -
             pool/home/bob  normalization         none                   -
             pool/home/bob  casesensitivity       sensitive              -
             pool/home/bob  vscan                 off                    default
             pool/home/bob  nbmand                off                    default
             pool/home/bob  sharesmb              off                    default
             pool/home/bob  refquota              none                   default
             pool/home/bob  refreservation        none                   default
             pool/home/bob  primarycache          all                    default
             pool/home/bob  secondarycache        all                    default
             pool/home/bob  usedbysnapshots       0                      -
             pool/home/bob  usedbydataset         21K                    -
             pool/home/bob  usedbychildren        0                      -
             pool/home/bob  usedbyrefreservation  0                      -

       The following command gets a single property value:
             # <b>zfs</b> <b>get</b> <b>-H</b> <b>-o</b> <b>value</b> <b>compression</b> <u>pool/home/bob</u>
             on

       The following command gets a single property value recursively in JSON format:
             # <b>zfs</b> <b>get</b> <b>-j</b> <b>-r</b> <b>mountpoint</b> <u>pool/home</u> | <b>jq</b>
             {
               "output_version": {
                 "command": "zfs get",
                 "vers_major": 0,
                 "vers_minor": 1
               },
               "datasets": {
                 "pool/home": {
                   "name": "pool/home",
                   "type": "FILESYSTEM",
                   "pool": "pool",
                   "createtxg": "10",
                   "properties": {
                     "mountpoint": {
                       "value": "/pool/home",
                       "source": {
                         "type": "DEFAULT",
                         "data": "-"
                       }
                     }
                   }
                 },
                 "pool/home/bob": {
                   "name": "pool/home/bob",
                   "type": "FILESYSTEM",
                   "pool": "pool",
                   "createtxg": "1176",
                   "properties": {
                     "mountpoint": {
                       "value": "/pool/home/bob",
                       "source": {
                         "type": "DEFAULT",
                         "data": "-"
                       }
                     }
                   }
                 }
               }
             }

       The following command lists all properties with local settings for <u>pool/home/bob</u>:
             # <b>zfs</b> <b>get</b> <b>-r</b> <b>-s</b> <b>local</b> <b>-o</b> <b>name</b>,<b>property</b>,<b>value</b> <b>all</b> <u>pool/home/bob</u>
             NAME           PROPERTY              VALUE
             pool/home/bob  quota                 20G
             pool/home/bob  compression           on

   <b>Example</b> <b>5</b>: Inheriting ZFS Properties
       The following command causes <u>pool/home/bob</u> and <u>pool/home/anne</u> to inherit the <b>checksum</b> property from their
       parent.
             <b>#</b> <b>zfs</b> <b>inherit</b> <b>checksum</b> <u>pool/home/bob</u> <u>pool/home/anne</u>

   <b>Example</b> <b>6</b>: Setting User Properties
       The following example sets the user-defined <u>com.example</u>:<u>department</u> property for a dataset:
             <b>#</b> <b>zfs</b> <b>set</b> <u>com.example</u>:<u>department</u>=<u>12345</u> <u>tank/accounting</u>

   <b>Example</b> <b>7</b>: Setting sharenfs Property Options on a ZFS File System
       The following commands show how to set <b>sharenfs</b> property options to enable read-write access for a set of
       IP addresses and to enable root access for system "neo" on the <u>tank/home</u> file system:
             <b>#</b> <b>zfs</b> <b>set</b> <b>sharenfs</b>='<u>rw</u>=@123.123.0.0/16:[::1],root=<u>neo</u>' tank/home

       If you are using DNS for host name resolution, specify the fully-qualified hostname.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <u><a href="../man7/zfsprops.7.html">zfsprops</a></u>(7), <u><a href="../man8/zfs-list.8.html">zfs-list</a></u>(8)

OpenZFS                                          April 20, 2024                                       <u><a href="../man8/ZFS-SET.8.html">ZFS-SET</a></u>(8)
</pre>
 </div>
</div></section>
</div>
</body>
</html>