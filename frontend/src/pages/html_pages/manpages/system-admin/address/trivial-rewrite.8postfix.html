<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>trivial-rewrite - Postfix address rewriting and resolving daemon</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/jammy/+package/postfix">postfix_3.6.4-1ubuntu1.3_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       trivial-rewrite - Postfix address rewriting and resolving daemon

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>trivial-rewrite</b> [generic Postfix daemon options]

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The <b><a href="../man8/trivial-rewrite.8.html">trivial-rewrite</a></b>(8) daemon processes three types of client service requests:

       <b>rewrite</b> <u>context</u> <u>address</u>
              Rewrite an address to standard form, according to the address rewriting context:

              <b>local</b>  Append  the  domain names specified with <b>$myorigin</b> or <b>$mydomain</b> to incomplete addresses; do
                     <b>swap_bangpath</b> and <b>allow_percent_hack</b> processing as described below, and strip source routed
                     addresses (<u>@site,@site:user@domain</u>) to <u>user@domain</u> form.

              <b>remote</b> Append  the  domain  name  specified  with  <b>$remote_header_rewrite_domain</b>   to   incomplete
                     addresses.  Otherwise  the  result  is  identical  to  that  of the <b>local</b> address rewriting
                     context. This prevents Postfix from appending the local domain to spam from poorly  written
                     remote clients.

       <b>resolve</b> <u>sender</u> <u>address</u>
              Resolve  the  address  to  a  (<u>transport</u>, <u>nexthop</u>, <u>recipient</u>, <u>flags</u>) quadruple. The meaning of the
              results is as follows:

              <u>transport</u>
                     The delivery agent to use. This is the first field of an entry in the <b>master.cf</b> file.

              <u>nexthop</u>
                     The host to send to and optional delivery method information.

              <u>recipient</u>
                     The envelope recipient address that is passed on to <u>nexthop</u>.

              <u>flags</u>  The address class, whether the address requires relaying, whether the address has problems,
                     and whether the request failed.

       <b>verify</b> <u>sender</u> <u>address</u>
              Resolve the address for address verification purposes.

</pre><h4><b>SERVER</b> <b>PROCESS</b> <b>MANAGEMENT</b></h4><pre>
       The <b><a href="../man8/trivial-rewrite.8.html">trivial-rewrite</a></b>(8) servers run under control by the Postfix master server.  Each  server  can  handle
       multiple simultaneous connections.  When all servers are busy while a client connects, the master creates
       a  new  server  process,  provided  that  the trivial-rewrite server process limit is not exceeded.  Each
       trivial-rewrite server terminates after serving at least <b>$max_use</b> clients of after <b>$max_idle</b>  seconds  of
       idle time.

</pre><h4><b>STANDARDS</b></h4><pre>
       None. The command does not interact with the outside world.

</pre><h4><b>SECURITY</b></h4><pre>
       The <b><a href="../man8/trivial-rewrite.8.html">trivial-rewrite</a></b>(8) daemon is not security sensitive.  By default, this daemon does not talk to remote
       or local users.  It can run at a fixed low privilege in a chrooted environment.

</pre><h4><b>DIAGNOSTICS</b></h4><pre>
       Problems and transactions are logged to <b><a href="../man8/syslogd.8.html">syslogd</a></b>(8) or <b><a href="../man8/postlogd.8.html">postlogd</a></b>(8).

</pre><h4><b>CONFIGURATION</b> <b>PARAMETERS</b></h4><pre>
       On  busy mail systems a long time may pass before a <b>main.cf</b> change affecting <b><a href="../man8/trivial-rewrite.8.html">trivial-rewrite</a></b>(8) is picked
       up. Use the command "<b>postfix</b> <b>reload</b>" to speed up a change.

       The text below provides only a parameter summary. See <b><a href="../man5/postconf.5.html">postconf</a></b>(5) for more details including examples.

</pre><h4><b>COMPATIBILITY</b> <b>CONTROLS</b></h4><pre>
       <b>resolve_dequoted_address</b> <b>(yes)</b>
              Resolve a recipient address safely instead of correctly, by looking inside quotes.

       Available with Postfix version 2.1 and later:

       <b>resolve_null_domain</b> <b>(no)</b>
              Resolve an address that ends in the "@" null domain as  if  the  local  hostname  were  specified,
              instead of rejecting the address as invalid.

       Available with Postfix version 2.3 and later:

       <b>resolve_numeric_domain</b> <b>(no)</b>
              Resolve "user@ipaddress" as "user@[ipaddress]", instead of rejecting the address as invalid.

       Available with Postfix version 2.5 and later:

       <b>allow_min_user</b> <b>(no)</b>
              Allow a sender or recipient address to have `-' as the first character.

</pre><h4><b>ADDRESS</b> <b>REWRITING</b> <b>CONTROLS</b></h4><pre>
       <b>myorigin</b> <b>($myhostname)</b>
              The  domain  name  that  locally-posted mail appears to come from, and that locally posted mail is
              delivered to.

       <b>allow_percent_hack</b> <b>(yes)</b>
              Enable the rewriting of the form "user%domain" to "user@domain".

       <b>append_at_myorigin</b> <b>(yes)</b>
              With locally submitted mail, append the string  "@$myorigin"  to  mail  addresses  without  domain
              information.

       <b>append_dot_mydomain</b> <b>(Postfix</b> <b>&gt;=</b> <b>3.0:</b> <b>no,</b> <b>Postfix</b> <b>&lt;</b> <b>3.0:</b> <b>yes)</b>
              With  locally  submitted  mail, append the string ".$mydomain" to addresses that have no ".domain"
              information.

       <b>recipient_delimiter</b> <b>(empty)</b>
              The set of characters that can separate a user name from its extension (example: user+foo),  or  a
              .forward file name from its extension (example: .forward+foo).

       <b>swap_bangpath</b> <b>(yes)</b>
              Enable the rewriting of "site!user" into "user@site".

       Available in Postfix 2.2 and later:

       <b>remote_header_rewrite_domain</b> <b>(empty)</b>
              Don't  rewrite message headers from remote clients at all when this parameter is empty; otherwise,
              rewrite message headers and append the specified domain name to incomplete addresses.

</pre><h4><b>ROUTING</b> <b>CONTROLS</b></h4><pre>
       The following is applicable to Postfix version 2.0 and later.  Earlier versions do not have support  for:
       virtual_transport, relay_transport, virtual_alias_domains, virtual_mailbox_domains or proxy_interfaces.

       <b>local_transport</b> <b>(local:$myhostname)</b>
              The  default mail delivery transport and next-hop destination for final delivery to domains listed
              with  mydestination,  and  for   [ipaddress]   destinations   that   match   $inet_interfaces   or
              $proxy_interfaces.

       <b>virtual_transport</b> <b>(virtual)</b>
              The  default mail delivery transport and next-hop destination for final delivery to domains listed
              with $virtual_mailbox_domains.

       <b>relay_transport</b> <b>(relay)</b>
              The default mail delivery transport and next-hop destination for remote delivery to domains listed
              with $relay_domains.

       <b>default_transport</b> <b>(smtp)</b>
              The default mail delivery transport and next-hop destination for destinations that  do  not  match
              $mydestination,         $inet_interfaces,        $proxy_interfaces,        $virtual_alias_domains,
              $virtual_mailbox_domains, or $relay_domains.

       <b>parent_domain_matches_subdomains</b> <b>(see</b> <b>'postconf</b> <b>-d'</b> <b>output)</b>
              A list of Postfix features where the pattern "example.com" also matches subdomains of example.com,
              instead of requiring an explicit ".example.com" pattern.

       <b>relayhost</b> <b>(empty)</b>
              The  next-hop  destination(s)  for  non-local  mail;  overrides  non-local  domains  in  recipient
              addresses.

       <b>transport_maps</b> <b>(empty)</b>
              Optional  lookup  tables  with  mappings  from  recipient  address to (message delivery transport,
              next-hop destination).

       Available in Postfix version 2.3 and later:

       <b>sender_dependent_relayhost_maps</b> <b>(empty)</b>
              A sender-dependent override for the global relayhost parameter setting.

       Available in Postfix version 2.5 and later:

       <b>empty_address_relayhost_maps_lookup_key</b> <b>(&lt;&gt;)</b>
              The sender_dependent_relayhost_maps search string that will be used instead  of  the  null  sender
              address.

       Available in Postfix version 2.7 and later:

       <b>empty_address_default_transport_maps_lookup_key</b> <b>(&lt;&gt;)</b>
              The  sender_dependent_default_transport_maps  search  string that will be used instead of the null
              sender address.

       <b>sender_dependent_default_transport_maps</b> <b>(empty)</b>
              A sender-dependent override for the global default_transport parameter setting.

</pre><h4><b>ADDRESS</b> <b>VERIFICATION</b> <b>CONTROLS</b></h4><pre>
       Postfix version 2.1 introduces sender and recipient address verification.  This feature is implemented by
       sending probe email messages that are not actually delivered.  By default,  address  verification  probes
       use  the  same  route  as  regular  mail.  To  override  specific  aspects of message routing for address
       verification probes, specify one or more of the following:

       <b>address_verify_local_transport</b> <b>($local_transport)</b>
              Overrides the local_transport parameter setting for address verification probes.

       <b>address_verify_virtual_transport</b> <b>($virtual_transport)</b>
              Overrides the virtual_transport parameter setting for address verification probes.

       <b>address_verify_relay_transport</b> <b>($relay_transport)</b>
              Overrides the relay_transport parameter setting for address verification probes.

       <b>address_verify_default_transport</b> <b>($default_transport)</b>
              Overrides the default_transport parameter setting for address verification probes.

       <b>address_verify_relayhost</b> <b>($relayhost)</b>
              Overrides the relayhost parameter setting for address verification probes.

       <b>address_verify_transport_maps</b> <b>($transport_maps)</b>
              Overrides the transport_maps parameter setting for address verification probes.

       Available in Postfix version 2.3 and later:

       <b>address_verify_sender_dependent_relayhost_maps</b> <b>($sender_dependent_relayhost_maps)</b>
              Overrides the sender_dependent_relayhost_maps parameter setting for address verification probes.

       Available in Postfix version 2.7 and later:

       <b>address_verify_sender_dependent_default_transport_maps</b> <b>($sender_dependent_default_transport_maps)</b>
              Overrides the sender_dependent_default_transport_maps parameter setting for  address  verification
              probes.

</pre><h4><b>MISCELLANEOUS</b> <b>CONTROLS</b></h4><pre>
       <b>config_directory</b> <b>(see</b> <b>'postconf</b> <b>-d'</b> <b>output)</b>
              The default location of the Postfix main.cf and master.cf configuration files.

       <b>daemon_timeout</b> <b>(18000s)</b>
              How  much  time a Postfix daemon process may take to handle a request before it is terminated by a
              built-in watchdog timer.

       <b>empty_address_recipient</b> <b>(MAILER-DAEMON)</b>
              The recipient of mail addressed to the null address.

       <b>ipc_timeout</b> <b>(3600s)</b>
              The time limit for sending or receiving information over an internal communication channel.

       <b>max_idle</b> <b>(100s)</b>
              The maximum amount of time that an idle Postfix daemon process waits for  an  incoming  connection
              before terminating voluntarily.

       <b>max_use</b> <b>(100)</b>
              The  maximal  number  of  incoming  connections  that a Postfix daemon process will service before
              terminating voluntarily.

       <b>relocated_maps</b> <b>(empty)</b>
              Optional lookup tables with new contact information for users or domains that no longer exist.

       <b>process_id</b> <b>(read-only)</b>
              The process ID of a Postfix command or daemon process.

       <b>process_name</b> <b>(read-only)</b>
              The process name of a Postfix command or daemon process.

       <b>queue_directory</b> <b>(see</b> <b>'postconf</b> <b>-d'</b> <b>output)</b>
              The location of the Postfix top-level queue directory.

       <b>show_user_unknown_table_name</b> <b>(yes)</b>
              Display the name of the recipient table in the "User unknown" responses.

       <b>syslog_facility</b> <b>(mail)</b>
              The syslog facility of Postfix logging.

       <b>syslog_name</b> <b>(see</b> <b>'postconf</b> <b>-d'</b> <b>output)</b>
              A prefix that is prepended to the process name in syslog records, so that,  for  example,  "smtpd"
              becomes "prefix/smtpd".

       Available in Postfix version 2.0 and later:

       <b>helpful_warnings</b> <b>(yes)</b>
              Log warnings about problematic configuration settings, and provide helpful suggestions.

       Available in Postfix 3.3 and later:

       <b>service_name</b> <b>(read-only)</b>
              The master.cf service name of a Postfix daemon process.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <a href="../man5/postconf.5.html">postconf</a>(5), configuration parameters
       <a href="../man5/transport.5.html">transport</a>(5), transport table format
       <a href="../man5/relocated.5.html">relocated</a>(5), format of the "user has moved" table
       <a href="../man8/master.8.html">master</a>(8), process manager
       <a href="../man8/postlogd.8.html">postlogd</a>(8), Postfix logging
       <a href="../man8/syslogd.8.html">syslogd</a>(8), system logging

</pre><h4><b>README</b> <b>FILES</b></h4><pre>
       Use "<b>postconf</b> <b>readme_directory</b>" or "<b>postconf</b> <b>html_directory</b>" to locate this information.
       ADDRESS_CLASS_README, Postfix address classes howto
       ADDRESS_VERIFICATION_README, Postfix address verification

</pre><h4><b>LICENSE</b></h4><pre>
       The Secure Mailer license must be distributed with this software.

</pre><h4><b>AUTHOR(S)</b></h4><pre>
       Wietse Venema
       IBM T.J. Watson Research
       P.O. Box 704
       Yorktown Heights, NY 10598, USA

       Wietse Venema
       Google, Inc.
       111 8th Avenue
       New York, NY 10011, USA

                                                                                       <u><a href="../man8postfix/TRIVIAL-REWRITE.8postfix.html">TRIVIAL-REWRITE</a></u>(8postfix)
</pre>
 </div>
</div></section>
</div>
</body>
</html>