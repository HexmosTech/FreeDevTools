<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>rpki-client — RPKI validator to support BGP routing security</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/rpki-client">rpki-client_9.5-1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       rpki-client — RPKI validator to support BGP routing security

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>rpki-client</b>  [<b>-0ABcjmnoRVvx</b>]  [<b>-b</b>  <u>sourceaddr</u>]  [<b>-d</b>  <u>cachedir</u>]  [<b>-e</b>  <u>rsync_prog</u>]  [<b>-H</b> <u>fqdn</u>] [<b>-S</b> <u>skiplist</u>]
                   [<b>-s</b> <u>timeout</u>] [<b>-t</b> <u>tal</u>] [<u>outputdir</u>]
       <b>rpki-client</b> [<b>-Vv</b>] [<b>-d</b> <u>cachedir</u>] [<b>-j</b>] [<b>-t</b> <u>tal</u>] <b>-f</b> <u>file</u> <u>...</u>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The <b>rpki-client</b> utility queries the <u>Resource</u> <u>Public</u> <u>Key</u> <u>Infrastructure</u> (RPKI) repository  system  with  a
       built-in HTTPS client and <u><a href="../man1/rsync.1.html">rsync</a></u>(1) to fetch all X.509 certificates, manifests, and revocation lists under
       a  given  <u>Trust</u>  <u>Anchor</u>.   <b>rpki-client</b>  subsequently  validates  each  <u>Signed</u>  <u>Object</u> by constructing and
       verifying a certification path for  the  certificate  associated  with  the  Object  (including  checking
       relevant  CRLs).   <b>rpki-client</b>  produces  lists  of the <u>Validated</u> <u>ROA</u> <u>Payloads</u> (VRPs), <u>BGPsec</u> <u>Router</u> <u>Keys</u>
       (BRKs), and <u>Validated</u> <u>ASPA</u> <u>Payloads</u> (VAPs) in various formats.

       The options are as follows:

       <b>-0</b>      Include hazardous AS0 TALs in the output files.  AS0  TALs  are  not  recommended  for  automatic
               filtering of BGP routes.  The default is not to include them.

       <b>-A</b>      Exclude the ASPA-set from the output files that support it (BIRD, JSON, and OpenBGPD).

       <b>-B</b>      Create  output in the file <u>bird</u> in the output directory suitable for BIRD internet routing daemon
               version 2.16 and up.  For compatibility with earlier versions, use  <b>-A</b>.   The  validated  payload
               table names are <u>ROAS4</u>, <u>ROAS6</u>, and <u>ASPAS</u>.

       <b>-b</b> <u>sourceaddr</u>
               Tell the HTTP and rsync clients to use <u>sourceaddr</u> as the source address for connections, which is
               useful on machines with multiple interfaces.

       <b>-c</b>      Create output in the file <u>csv</u> in the output directory as comma-separated values of the <u>Autonomous</u>
               <u>System</u>,  the  prefix  in slash notation, the maximum prefix length, an abbreviation for the <u>Trust</u>
               <u>Anchor</u> the entry is derived from, and the moment the VRP will expire derived from  the  chain  of
               X.509 certificates and CRLs in seconds since the Epoch, UTC.

       <b>-d</b> <u>cachedir</u>
               The   directory   where   <b>rpki-client</b>  will  store  the  cached  repository  data.   Defaults  to
               <u>/var/lib/rpki-client/cache</u>.

       <b>-e</b> <u>rsync_prog</u>
               Use <u>rsync_prog</u> instead of <u><a href="../man1/rsync.1.html">rsync</a></u>(1) to fetch repositories.  It must accept the <b>-rt</b>  and  <b>--address</b>
               flags and connect with rsync-protocol locations.

       <b>-f</b> <u>file</u> <u>...</u>
               Decode  the  <u>TAL</u>  or validate the <u>Signed</u> <u>Object</u> in <u>file</u> against the RPKI cache stored in <u>cachedir</u>
               and print human-readable information  about  the  object.   If  <u>file</u>  is  an  rsync://  URI,  the
               corresponding file from the cache will be used.  This option implies <b>-n</b>, and can be combined with
               <b>-j</b> to emit a stream of <u>Concatenated</u> <u>JSON</u>.

       <b>-H</b> <u>fqdn</u>
               Create  a  shortlist  and  add  <u>fqdn</u>  to the shortlist.  <b>rpki-client</b> only connects to shortlisted
               hosts.  The shortlist filter is enforced during processing  of  the  <u>Subject</u>  <u>Information</u>  <u>Access</u>
               (SIA) extension in CA certificates, thus applies to both RSYNC and RRDP connections.  This option
               can be used multiple times.

       <b>-j</b>      Create  output in the file <u>json</u> in the output directory as JSON object.  See <b>-c</b> for a description
               of the fields.

       <b>-m</b>      Create output in the file <u>metrics</u> in the output directory in OpenMetrics format.

       <b>-n</b>      Offline mode.  Validate the contents of <u>cachedir</u> and write to <u>outputdir</u> without synchronizing via
               RRDP or RSYNC.

       <b>-o</b>      Create output in the file <u>openbgpd</u> in the output directory as <u><a href="../man8/bgpd.8.html">bgpd</a></u>(8) compatible input.   If  the
               <b>-B</b>, <b>-c</b>, and <b>-j</b> options are not specified this is the default.

       <b>-P</b> <u>posix-seconds</u>
               Specify the time for the evaluation in <u>posix-seconds</u> seconds from the unix epoch.  This overrides
               the default of using the current system time.

       <b>-R</b>      Disable RRDP, synchronize only via RSYNC.

       <b>-S</b> <u>skiplist</u>
               Do  not  connect  to  hosts  listed  in  the  <u>skiplist</u> file.  Entries in the <u>skiplist</u> are newline
               separated <u>Fully</u> <u>Qualified</u> <u>Domain</u> <u>Names</u> (FQDNs).  A ‘#’ indicates  the  beginning  of  a  comment;
               characters  up  to  the  end of the line are not interpreted.  The skip filter is enforced during
               processing of the <u>Subject</u> <u>Information</u> <u>Access</u> (SIA) extension in CA certificates, thus applies  to
               both RSYNC and RRDP connections.  By default load entries from <u>/etc/tals/skiplist</u>.

       <b>-s</b> <u>timeout</u>
               Terminate  after  <u>timeout</u>  seconds  of  runtime,  because  normal  practice will restart from the
               <u><a href="../man5/systemd.timer.5.html">systemd.timer</a></u>(5) unit <u>rpki.timer</u>.  Disable by specifying 0.   Defaults  to  1  hour.   Individual
               RSYNC/RRDP  repositories  are timed out after one fourth of <u>timeout</u>.  All network synchronisation
               tasks are aborted after seven eights of <u>timeout</u>.

       <b>-t</b> <u>tal</u>  Specify a <u>Trust</u> <u>Anchor</u> <u>Location</u> (TAL) file to be used.  This option can be used multiple times to
               load multiple TALs.  By default <b>rpki-client</b> will load all TAL files in <u>/etc/tals</u>.  TAL are  small
               files containing a public key and URL endpoint address.

       <b>-V</b>      Show the version and exit.

       <b>-v</b>      Increase  verbosity.   Specify  once  for synchronisation status, twice to print the name of each
               file as it's processed.  If <b>-f</b> is given,  specify  once  to  print  more  information  about  the
               encapsulated X.509 certificate, twice to print the certificate in PEM format.

       <b>-x</b>      Enable processing of experimental file formats.  This option is implied by <b>-f</b>.

       <u>outputdir</u>
               The directory where <b>rpki-client</b> will write the output files.  Defaults to <u>/var/lib/rpki-client</u>.

       By  default  <b>rpki-client</b>  outputs validated payloads in <b>-joBcm</b> (JSON, OpenBGPD, BIRD, CSV and OpenMetric)
       formats.

       <b>rpki-client</b> by default is run every 15 minutes by the <u><a href="../man5/systemd.timer.5.html">systemd.timer</a></u>(5) unit <u>rpki.timer</u>.

</pre><h4><b>TRUST</b> <b>ANCHOR</b> <b>CONSTRAINTS</b></h4><pre>
       <b>rpki-client</b> can impose locally configured <u>constraints</u> on cryptographic products subordinate to  publicly-
       trusted <u>Trust</u> <u>Anchors</u>.

       Constraining  a  Trust Anchor's effective signing authority to a limited set of <u>Internet</u> <u>Number</u> <u>Resources</u>
       allows Relying Parties to take advantage of the potential benefits  of  assuming  trust,  while  deriving
       trust within a bounded scope.

       Each  <u>.constraints</u>  file  imposes constraints on the Trust Anchor reachable via the same-named <u>.tal</u> file.
       One entry per line.  Entries can be IP prefixes, IP address ranges,  AS  identifiers,  or  AS  identifier
       ranges.   Ranges  are a minimum and maximum separated by a hyphen (‘-’).  Comments can be put anywhere in
       the file using a hash mark (‘#’), and extend to the end of  the  current  line.   <u>deny</u>  entries  may  not
       overlap with other <u>deny</u> entries.  <u>allow</u> entries may not overlap with other <u>allow</u> entries.

       A  given  EE  certificate's  resources  may  not overlap with any <u>deny</u> entry, and must be fully contained
       within the <u>allow</u> entries.

</pre><h4><b>ENVIRONMENT</b></h4><pre>
       <b>rpki-client</b> utilizes the following environment variables:

       http_proxy  URL of HTTP proxy to use.

</pre><h4><b>FILES</b></h4><pre>
       <u>/etc/tals/*.tal</u>                default TAL files used unless <b>-t</b> <u>tal</u> is specified.  The TAL files  of  the
                                      five Regional Internet Registries are included.
       <u>/etc/tals/*.constraints</u>        files   containing  registry-specific  constraints  to  restrict  what  IP
                                      addresses and AS identifiers may or may  not  appear  in  EE  certificates
                                      subordinate to the same-named Trust Anchor.
       <u>/etc/tals/skiplist</u>             default skiplist file, unless <b>-S</b> <u>skiplist</u> is specified.
       <u>/var/lib/rpki-client/cache</u>     cached repository data.
       <u>/var/lib/rpki-client/openbgpd</u>  default roa-set output file.

</pre><h4><b>EXIT</b> <b>STATUS</b></h4><pre>
       The <b>rpki-client</b> utility exits 0 on success, and &gt;0 if an error occurs.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <u><a href="../man1/rsync.1.html">rsync</a></u>(1), <u><a href="../man5/bgpd.conf.5.html">bgpd.conf</a></u>(5)

</pre><h4><b>STANDARDS</b></h4><pre>
       <u>X.509</u> <u>Extensions</u> <u>for</u> <u>IP</u> <u>Addresses</u> <u>and</u> <u>AS</u> <u>Identifiers</u>, RFC 3779.

       <u>Internet</u> <u>X.509</u> <u>Public</u> <u>Key</u> <u>Infrastructure</u> <u>Certificate</u> <u>and</u> <u>CRL</u> <u>Profile</u>, RFC 5280.

       <u>Cryptographic</u> <u>Message</u> <u>Syntax</u> <u>(CMS)</u>, RFC 5652.

       <u>The</u> <u>rsync</u> <u>URI</u> <u>Scheme</u>, RFC 5781.

       <u>An</u> <u>Infrastructure</u> <u>to</u> <u>Support</u> <u>Secure</u> <u>Internet</u> <u>Routing</u>, RFC 6480.

       <u>A</u> <u>Profile</u> <u>for</u> <u>Resource</u> <u>Certificate</u> <u>Repository</u> <u>Structure</u>, RFC 6481.

       <u>A</u> <u>Profile</u> <u>for</u> <u>X.509</u> <u>PKIX</u> <u>Resource</u> <u>Certificates</u>, RFC 6487.

       <u>Signed</u> <u>Object</u> <u>Template</u> <u>for</u> <u>the</u> <u>RPKI</u>, RFC 6488.

       <u>The</u> <u>RPKI</u> <u>Ghostbusters</u> <u>Record</u>, RFC 6493.

       <u>Policy</u> <u>Qualifiers</u> <u>in</u> <u>RPKI</u> <u>Certificates</u>, RFC 7318.

       <u>The</u> <u>Profile</u> <u>for</u> <u>Algorithms</u> <u>and</u> <u>Key</u> <u>Sizes</u> <u>for</u> <u>Use</u> <u>in</u> <u>the</u> <u>RPKI</u>, RFC 7935.

       <u>The</u> <u>RPKI</u> <u>Repository</u> <u>Delta</u> <u>Protocol</u> <u>(RRDP)</u>, RFC 8182.

       <u>A</u>  <u>Profile</u>  <u>for</u> <u>BGPsec</u> <u>Router</u> <u>Certificates,</u> <u>Certificate</u> <u>Revocation</u> <u>Lists,</u> <u>and</u> <u>Certification</u> <u>Requests</u>, RFC
       8209.

       <u>RPKI</u> <u>Trust</u> <u>Anchor</u> <u>Locator</u>, RFC 8630.

       <u>Manifests</u> <u>for</u> <u>the</u> <u>RPKI</u>, RFC 9286.

       <u>A</u> <u>Profile</u> <u>for</u> <u>RPKI</u> <u>Signed</u> <u>Checklists</u> <u>(RSCs)</u>, RFC 9323.

       <u>A</u> <u>Profile</u> <u>for</u> <u>Route</u> <u>Origin</u> <u>Authorizations</u> <u>(ROAs)</u>, RFC 9582.

       <u>On</u> <u>the</u> <u>use</u> <u>of</u> <u>the</u> <u>CMS</u> <u>Signing-Time</u> <u>Attribute</u> <u>in</u> <u>RPKI</u> <u>Signed</u> <u>Objects</u>, RFC 9589.

       <u>Finding</u> <u>and</u> <u>Using</u> <u>Geofeed</u> <u>Data</u>, RFC 9632.

       <u>Same-Origin</u> <u>Policy</u> <u>for</u> <u>the</u> <u>RRDP</u>, RFC 9674.

       <u>A</u> <u>Profile</u> <u>for</u> <u>RPKI</u> <u>Trust</u> <u>Anchor</u> <u>Keys</u>, RFC 9691.

       <u>Detecting</u> <u>RRDP</u> <u>Session</u> <u>Desynchronization</u>, RFC 9697.

       <u>A</u>       <u>Profile</u>       <u>for</u>       <u>Autonomous</u>       <u>System</u>       <u>Provider</u>       <u>Authorization</u>        <u>(ASPA)</u>,
       https://datatracker.ietf.org/doc/html/draft-ietf-sidrops-aspa-profile, Jun, 2023.

       <u>Constraining</u>  <u>RPKI</u> <u>Trust</u> <u>Anchors</u>, https://datatracker.ietf.org/doc/html/draft-snijders-constraining-rpki-
       trust-anchors, September, 2023.

       <u>A</u> <u>profile</u> <u>for</u> <u>Signed</u> <u>Prefix</u> <u>Lists</u> <u>for</u> <u>Use</u> <u>in</u> <u>the</u> <u>RPKI</u>,  https://datatracker.ietf.org/doc/html/draft-ietf-
       sidrops-rpki-prefixlist-02, Jan, 2024.

       <u>Relying</u>  <u>Party</u>  <u>Handling</u> <u>of</u> <u>RPKI</u> <u>CRL</u> <u>Number</u> <u>Extensions</u>, https://datatracker.ietf.org/doc/html/draft-ietf-
       sidrops-rpki-crl-numbers, May, 2024.

       <u>RPKI</u> <u>Manifest</u> <u>Number</u> <u>Handling</u>, https://datatracker.ietf.org/doc/html/draft-ietf-sidrops-manifest-numbers,
       June, 2024.

       <u>Tiebreaking</u>   <u>RPKI</u>   <u>Trust</u>   <u>Anchors</u>,   https://datatracker.ietf.org/doc/html/draft-ietf-sidrops-rpki-ta-
       tiebreaker, June, 2024.

</pre><h4><b>HISTORY</b></h4><pre>
       <b>rpki-client</b> first appeared in OpenBSD 6.7.

</pre><h4><b>AUTHORS</b></h4><pre>
       Kristaps  Dzonsons &lt;<u><a href="mailto:kristaps@bsd.lv">kristaps@bsd.lv</a></u>&gt;, Claudio Jeker &lt;<u><a href="mailto:claudio@openbsd.org">claudio@openbsd.org</a></u>&gt;, Theo Buehler &lt;<u><a href="mailto:tb@openbsd.org">tb@openbsd.org</a></u>&gt;,
       and Job Snijders &lt;<u><a href="mailto:job@openbsd.org">job@openbsd.org</a></u>&gt;.

Debian                                          January 17, 2025                                  <u><a href="../man8/RPKI-CLIENT.8.html">RPKI-CLIENT</a></u>(8)
</pre>
 </div>
</div></section>
</div>
</body>
</html>