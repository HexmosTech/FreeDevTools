<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>sync_client - Cyrus IMAP documentation</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/cyrus-replication">cyrus-replication_3.10.2-1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       sync_client - Cyrus IMAP documentation

       Client side of the synchronization (replication) engine

</pre><h4><b>SYNOPSIS</b></h4><pre>
          <b>sync_client</b> [ <b>-v</b> ] [ <b>-l</b> ] [ <b>-L</b> ] [ <b>-z</b> ] [ <b>-C</b> <u>config-file</u> ] [ <b>-S</b> <u>server-name</u> ]
              [ <b>-f</b> <u>input-file</u> ] [ <b>-F</b> <u>shutdown_file</u> ] [ <b>-w</b> <u>wait_interval</u> ]
              [ <b>-t</b> <u>timeout</u> ] [ <b>-d</b> <u>delay</u> ] [ <b>-r</b> ] [ <b>-n</b> <u>channel</u> ] [ <b>-u</b> ] [ <b>-m</b> ]
              [ <b>-p</b> <u>partition</u> ] [ <b>-A</b> ] [ <b>-N</b> ] [ <b>-s</b> ] [ <b>-O</b> ] <u>objects</u>...

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>sync_client</b>  is  the  client  side  of the replication system.  It runs on the client (master) system and
       connects to the target (replica)  system  and  generates  an  appropriate  sequence  of  transactions  to
       synchronize the replica system with the master system.

       <b>sync_client</b>  reads  its configuration options out of the <u><a href="../man5/imapd.conf.5.html">imapd.conf</a>(5)</u> file unless specified otherwise by
       <b>-C</b>.

</pre><h4><b>OPTIONS</b></h4><pre>
       <b>-C</b> <b>config-file</b>
              Use the specified configuration file <u>config-file</u> rather than the default <u><a href="../man5/imapd.conf.5.html">imapd.conf</a>(5)</u>.

       <b>-A,</b> <b>--all-users</b>
              All users mode.  Sync every user on the server to the replica (doesn't do  non-user  mailboxes  at
              all... this could be considered a bug and maybe it should do those mailboxes independently)

       <b>-d</b> <b>delay,</b> <b>--delay=delay</b>
              Minimum  delay between replication runs in rolling replication mode.  Larger values provide better
              efficiency as transactions can be merged. Smaller values mean that the replica system is  more  up
              to date and that you don't end up with large blocks of replication transactions as a single group.
              Default: 3 seconds.

       <b>-f</b> <b>input-file,</b> <b>--input-file=input-file</b>
              In mailbox or user replication mode: provides list of users or mailboxes to replicate.  In rolling
              replication  mode, specifies an alternate log file (<b>sync_client</b> will exit after processing the log
              file).

       <b>-F</b> <b>shutdown-file,</b> <b>--shutdown-file=shutdown-file</b>
              Rolling replication checks for this file at the end of each replication cycle and shuts down if it
              is present. Used to request a nice clean shutdown at the  first  convenient  point.  The  file  is
              removed on shutdown. Overrides <b>sync_shutdown_file</b> option in <u><a href="../man5/imapd.conf.5.html">imapd.conf</a>(5)</u>.

       <b>-l,</b> <b>--verbose-logging</b>
              Verbose logging mode.

       <b>-L,</b> <b>--local-only</b>
              Perform only local mailbox operations (do not do mupdate operations).  This feature was introduced
              in version 3.0.

       <b>-m,</b> <b>--mailboxes</b>
              Mailbox mode.  Remaining arguments are list of mailboxes which should be replicated.

       <b>-n</b> <b>channel,</b> <b>--channel=channel</b>
              Use  the  named  channel  for  rolling  replication  mode.   If multiple channels are specified in
              <b>sync_log_channels</b> then use one of them.  This option is probably best combined with <b>-S</b> to  connect
              to a different server with each channel.

       <b>-N,</b> <b>--skip-locked</b>
              Use non-blocking sync_lock (combination of IP address and username) to skip over any users who are
              currently syncing.

       <b>-o,</b> <b>--connect-once</b>
              Only attempt to connect to the backend server once.

              Without  this  option,  <b>sync_client</b>  will  retry  failed  connections  indefinitely, waiting up to
              <b>sync_reconnect_maxwait</b> (default: 20m) between attempts.

       <b>-O,</b> <b>--no-copyback</b>
              No copyback mode. Replication will stop if the replica reports a CRC error, rather  than  doing  a
              full  mailbox  sync.  Useful  if  moving users to a new server, where you don't want any errors to
              cause the source servers to change the account.

       <b>-p</b> <b>partition,</b> <b>--dest-partition=partition</b>
              In mailbox or user replication mode: provides the name of the partition on the  replica  to  which
              the mailboxes/users should be replicated.

       <b>-r,</b> <b>--rolling</b>
              Rolling  (repeat)  replication mode. Pick up a list of actions recorded by the <u><a href="../man8/lmtpd.8.html">lmtpd</a>(8)</u>, <u><a href="../man8/imapd.8.html">imapd</a>(8)</u>,
              <u><a href="../man8/pop3d.8.html">pop3d</a>(8)</u>  and  <u><a href="../man8/nntpd.8.html">nntpd</a>(8)</u>  daemons  from  the  file  specified  in   <b>sync_log_file</b>.   Repeat   until
              <b>sync_shutdown_file</b> appears.  Alternative log and shutdown files can be specified with <b>-f</b> and <b>-F</b>.

              In this invocation, sync_client will background itself to run as a daemon.

       <b>-R,</b> <b>--foreground-rolling</b>
              As for <b>-r</b>, but without backgrounding.

       <b>-1,</b> <b>--rolling-once</b>
              As for <b>-R</b>, but only process a single log file before exiting.

       <b>-s,</b> <b>--sieve-mode</b>
              Sieve  mode.   Remaining  arguments  are  list  of  users  whose Sieve files should be replicated.
              Principally used for debugging purposes: not exposed to <u><a href="../man8/sync_client.8.html">sync_client</a>(8)</u>.

       <b>-S</b> <b>servername,</b> <b>--server=servername</b>
              Tells <b>sync_client</b> with which server to communicate.  Overrides the <b>sync_host</b> configuration option.

       <b>-t</b> <b>timeout,</b> <b>--timeout=timeout</b>
              Timeout for single replication run in rolling replication.  <b>sync_client</b> will negotiate  a  restart
              after this many seconds.  Default: 600 seconds

       <b>-u,</b> <b>--userids</b>
              User mode.  Remaining arguments are list of users who should be replicated.

       <b>-v,</b> <b>--verbose</b>
              Verbose mode.  Use twice (<b>-v</b> <b>-v</b>) to log all protocol traffic to stderr.

       <b>-w</b> <b>interval,</b> <b>--delayed-startup=interval</b>
              Wait  this long before starting. This option is typically used so that we can attach a debugger to
              one end of the replication system or the other.

       <b>-z,</b> <b>--require-compression</b>
              Require compression.  The replication protocol will always try to enable  deflate  compression  if
              both ends support it.  Set this flag when you want to abort if compression is not available.

       <b>-a,</b> <b>--stage-to-archive</b>
              Request  the  stage-to-archive feature. If the remote end has the <b>archive_enabled</b> option set, then
              it will stage incoming replication on the archive partition instead of the spool partition. If the
              remote end does not support it, replication will proceed as though  <b>-a</b>  was  not  provided.   This
              option  is useful when standing up a new replica of an existing server, as most of the stored mail
              is likely older than the archive threshold and so is destined for the archive partition anyway. By
              staging on that partition, Cyrus can avoid a cross-partition copy for every message.

</pre><h4><b>EXAMPLES</b></h4><pre>
       On a replication master, the following would be added to the START section of <u><a href="../man5/cyrus.conf.5.html">cyrus.conf</a>(5)</u>:

              syncclient              cmd="/usr/lib/cyrus/bin/sync_client -r"

       [NB: More examples needed]

</pre><h4><b>HISTORY</b></h4><pre>
       The <b>-L</b> feature, local updates only, was added in version 3.0.

</pre><h4><b>FILES</b></h4><pre>
       /etc/imapd.conf

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <u><a href="../man8/sync_server.8.html">sync_server</a>(8)</u>, <u><a href="../man5/cyrus.conf.5.html">cyrus.conf</a>(5)</u>, <u><a href="../man5/imapd.conf.5.html">imapd.conf</a>(5)</u>, <u><a href="../man8/master.8.html">master</a>(8)</u>

</pre><h4><b>AUTHOR</b></h4><pre>
       The Cyrus Team, David Carter (<a href="mailto:dpc22@cam.ac.uk">dpc22@cam.ac.uk</a>), Ken Murchison (<a href="mailto:ken@oceana.com">ken@oceana.com</a>), Nic Bernstein (Onlight)

</pre><h4><b>COPYRIGHT</b></h4><pre>
       1993â€“2025, The Cyrus Team

3.10.2                                            Jun 27, 2025                                    <u><a href="../man8/SYNC_CLIENT.8.html">SYNC_CLIENT</a></u>(8)
</pre>
 </div>
</div></section>
</div>
</body>
</html>