<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>iodine, iodined - tunnel IPv4 over DNS</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/iodine">iodine_0.7.0-11_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       iodine, iodined - tunnel IPv4 over DNS

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>iodine</b> <b>[-v]</b>

       <b>iodine</b> <b>[-h]</b>

       <b>iodine</b>  <b>[-4]</b>  <b>[-6]</b>  <b>[-f]</b>  <b>[-r]</b>  <b>[-u</b> <u>user</u> <b>]</b> <b>[-P</b> <u>password</u> <b>]</b> <b>[-m</b> <u>fragsize</u> <b>]</b> <b>[-t</b> <u>chrootdir</u> <b>]</b> <b>[-d</b> <u>device</u> <b>]</b> <b>[-R</b>
       <u>rdomain</u> <b>]</b> <b>[-m</b> <u>fragsize</u> <b>]</b> <b>[-M</b> <u>namelen</u> <b>]</b> <b>[-z</b> <u>context</u> <b>]</b> <b>[-F</b> <u>pidfile</u> <b>]</b> <b>[-T</b> <u>dnstype</u> <b>]</b> <b>[-O</b> <u>downenc</u> <b>]</b> <b>[-L</b> <u>0|1</u>  <b>]</b>
       <b>[-I</b> <u>interval</u> <b>]</b> <b>[</b> <u>nameserver</u> <b>]</b> <u>topdomain</u>

       <b>iodined</b> <b>[-v]</b>

       <b>iodined</b> <b>[-h]</b>

       <b>iodined</b>  <b>[-c]</b> <b>[-s]</b> <b>[-f]</b> <b>[-D]</b> <b>[-u</b> <u>user</u> <b>]</b> <b>[-t</b> <u>chrootdir</u> <b>]</b> <b>[-d</b> <u>device</u> <b>]</b> <b>[-m</b> <u>mtu</u> <b>]</b> <b>[-l</b> <u>listen_ip</u> <b>]</b> <b>[-p</b> <u>port</u> <b>]</b>
       <b>[-n</b> ( <b>auto</b> | <u>external_ip</u> ) <b>]</b> <b>[-b</b> <u>dnsport</u> <b>]</b> <b>[-P</b> <u>password</u> <b>]</b> <b>[-z</b> <u>context</u> <b>]</b> <b>[-F</b> <u>pidfile</u> <b>]</b> <b>[-i</b> <u>max_idle_time</u> <b>]</b>
       <u>tunnel_ip</u> <b>[</b> <u>/netmask</u> <b>]</b> <u>topdomain</u>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>iodine</b> lets you tunnel IPv4 data through a DNS server. This can be useful in  situations  where  Internet
       access is firewalled, but DNS queries are allowed. It needs a TUN/TAP device to operate. The bandwidth is
       asymmetrical,  with  a  measured  maximum of 680 kbit/s upstream and 2.3 Mbit/s downstream in a wired LAN
       test network.  Realistic sustained throughput on a Wifi network using a carrier-grade DNS cache has  been
       measured  at  some  50 kbit/s upstream and over 200 kbit/s downstream.  <b>iodine</b> is the client application,
       <b>iodined</b> is the server.

       Note: server and client are required to speak the exact same protocol. In most cases, this means  running
       the  same  iodine  version.  Unfortunately,  implementing  backward and forward protocol compatibility is
       usually not feasible.

</pre><h4><b>OPTIONS</b></h4><pre>
   <b>Common</b> <b>Options:</b>
       <b>-v</b>     Print version info and exit.

       <b>-h</b>     Print usage info and exit.

       <b>-f</b>     Keep running in foreground.

       <b>-u</b> <b>user</b>
              Drop privileges and run as user 'user' after setting up tunnel.

       <b>-t</b> <b>chrootdir</b>
              Chroot to 'chrootdir' after setting up tunnel.

       <b>-d</b> <b>device</b>
              Use the TUN device 'device' instead of the normal one, which is dnsX on Linux and otherwise tunX.

       <b>-P</b> <b>password</b>
              Use 'password' to authenticate. If not used, <b>stdin</b> will be  used  as  input.  Only  the  first  32
              characters will be used.

       <b>-z</b> <b>context</b>
              Apply SELinux 'context' after initialization.

       <b>-F</b> <b>pidfile</b>
              Create 'pidfile' and write process id in it.

   <b>Client</b> <b>Options:</b>
       <b>-4</b>     Force IPv4 DNS queries

       <b>-6</b>     Force IPv6 DNS queries

       <b>-r</b>     Skip  raw UDP mode. If not used, iodine will try getting the public IP address of the iodined host
              and test if it is reachable directly. If it is, traffic will be sent to the server instead of  the
              DNS relay.

       <b>-R</b> <b>rdomain</b>
              Use OpenBSD routing domain 'rdomain' for the DNS connection.

       <b>-m</b> <b>fragsize</b>
              Force  maximum  downstream  fragment size. Not setting this will cause the client to automatically
              probe the maximum accepted downstream fragment size.

       <b>-M</b> <b>namelen</b>
              Maximum length of upstream hostnames, default 255.  Usable range ca. 100 to 255.  Use this  option
              to  scale  back  upstream bandwidth in favor of downstream bandwidth.  Also useful for DNS servers
              that perform unreliably when using full-length hostnames, noticeable when fragment size  autoprobe
              returns very different results each time.

       <b>-T</b> <b>dnstype</b>
              DNS  request  type  override.  By default, autodetection will probe for working DNS request types,
              and will select the request type that is expected to provide the most bandwidth.  However, it  may
              turn  out that a DNS relay imposes limits that skew the picture, which may lead to an "unexpected"
              DNS request type providing more bandwidth.   In  that  case,  use  this  option  to  override  the
              autodetection.   In  (expected)  decreasing  bandwidth order, the supported DNS request types are:
              <u>NULL</u>, <u>PRIVATE</u>, <u>TXT</u>, <u>SRV</u>, <u>MX</u>, <u>CNAME</u> and <u>A</u> (returning CNAME).  Note that  <u>SRV</u>,  <u>MX</u>  and  <u>A</u>  may/will
              cause  additional  lookups  by  "smart" caching nameservers to get an actual IP address, which may
              either slow down or fail completely. The <u>PRIVATE</u> type uses  value  65399  (in  the  'private  use'
              range) and requires servers implementing RFC 3597.

       <b>-O</b> <b>downenc</b>
              Force downstream encoding type for all query type responses except NULL.  Default is autodetected,
              but  may  not  spot  all  problems  for the more advanced codecs.  Use this option to override the
              autodetection.  <u>Base32</u> is the lowest-grade codec  and  should  always  work;  this  is  used  when
              autodetection  fails.   <u>Base64</u>  provides  more  bandwidth,  but  may  not work on all nameservers.
              <u>Base64u</u> is equal to Base64 except in using underscore ('_') instead of plus sign  ('+'),  possibly
              working  where  <u>Base64</u>  does  not.   <u>Base128</u>  uses  high  byte  values (mostly accented letters in
              iso8859-1), which might work with some nameservers.  For TXT queries,  <u>Raw</u>  will  provide  maximum
              performance,  but  this  will  only work if the nameserver path is fully 8-bit-clean for responses
              that are assumed to be "legible text".

       <b>-L</b> <b>0|1</b> Lazy-mode switch.  -L1 (default): Use lazy mode for improved performance and decreased latency.  A
              very small minority of DNS relays appears to be unable to handle the lazy  mode  traffic  pattern,
              resulting in no or very little data coming through.  The iodine client will detect this and try to
              switch  back  to  legacy mode, but this may not always work.  In these situations use -L0 to force
              running in legacy mode (implies -I1).

       <b>-I</b> <b>interval</b>
              Maximum interval between requests (pings) so that intermediate DNS  servers  will  not  time  out.
              Default  is  4  in  lazy  mode,  which will work fine in most cases. When too many SERVFAIL errors
              occur, iodine will automatically reduce this to 1.  To get absolute minimum DNS traffic,  increase
              well above 4, but not so high that SERVFAIL errors start to occur.  There are some DNS relays with
              very small timeouts, notably dnsadvantage.com (ultradns), that will give SERVFAIL errors even with
              -I1;  data  will  still  get trough, and these errors can be ignored.  Maximum useful value is 59,
              since iodined will close a client's connection after 60 seconds of inactivity.

   <b>Server</b> <b>Options:</b>
       <b>-c</b>     Disable checking the client IP address on all incoming requests.  By default, requests originating
              from non-matching IP addresses will be rejected, however this will cause  problems  when  requests
              are routed via a cluster of DNS servers.

       <b>-s</b>     Don't try to configure IP address or MTU.  This should only be used if you have already configured
              the device that will be used.

       <b>-D</b>     Increase  debug  level.  Level  1 prints info about each RX/TX packet.  Implies the <b>-f</b> option.  On
              level 2 (-DD) or higher, DNS queries will be  printed  literally.   When  using  Base128  upstream
              encoding, this is best viewed as ISO Latin-1 text instead of (illegal) UTF-8.  This is easily done
              with : "LC_ALL=C luit iodined -DD ..."  (see <a href="../man1/luit.1.html">luit</a>(1)).

       <b>-m</b> <b>mtu</b> Set  'mtu'  as  mtu  size  for  the tun device.  This will be sent to the client on login, and the
              client will use the same mtu for its tun device.  Default 1130.  Note that the DNS traffic will be
              automatically fragmented when needed.

       <b>-l</b> <b>listen_ip</b>
              Make the server listen only on 'listen_ip' for incoming requests.  By default,  incoming  requests
              are accepted from all interfaces.

       <b>-p</b> <b>port</b>
              Make  the  server  listen  on  'port'  instead of 53 for traffic.  If 'listen_ip' does not include
              localhost, this 'port' can be the same as 'dnsport'.  <b>Note:</b> You must make sure  the  dns  requests
              are forwarded to this port yourself.

       <b>-n</b> <b>auto|external_ip</b>
              The  IP address to return in NS responses. Default is to return the address used as destination in
              the query.  If external_ip is 'auto', iodined will use externalip.net web service to retrieve  the
              external IP of the host and use that for NS responses.

       <b>-b</b> <b>dnsport</b>
              If this port is specified, all incoming requests not inside the tunnel domain will be forwarded to
              this  port  on localhost, to be handled by a real dns.  If 'listen_ip' does not include localhost,
              this 'dnsport' can be the same as 'port'.  <b>Note:</b> The forwarding is not fully transparent, and  not
              advised for use in production environments.

       <b>-i</b> <b>max_idle_time</b>
              Make  the  server  stop itself after max_idle_time seconds if no traffic have been received.  This
              should be combined with systemd or upstart on demand activation for being effective.

   <b>Client</b> <b>Arguments:</b>
       <b>nameserver</b>
              The nameserver to use to relay the dns traffic. This can be any relaying nameserver or the  server
              running  iodined  if  reachable. This field can be given as an IPv4/IPv6 address or as a hostname.
              This  argument  is  optional,  and  if  not  specified  a  nameserver  will  be  read   from   the
              <u><a href="file:/etc/resolv.conf">/etc/resolv.conf</a></u> file.

       <b>topdomain</b>
              The  dns  traffic  will  be  sent  as queries for subdomains under ´topdomain'. This is normally a
              subdomain to a domain you own. Use a short domain name to get better throughput. If <b>nameserver</b>  is
              the  iodined  server,  then  the topdomain can be chosen freely. This argument must be the same on
              both the client and the server.

   <b>Server</b> <b>Arguments:</b>
       <b>tunnel_ip[/netmask]</b>
              This is the server's ip address on the tun interface. The client will be given the next ip  number
              in  the  range. It is recommended to use the 10.0.0.0 or 172.16.0.0 ranges. The default netmask is
              /27, can be overridden by specifying it here. Using a smaller network will  limit  the  number  of
              concurrent users.

       <b>topdomain</b>
              The  dns  traffic  is  expected  to  arrive  as  queries for subdomains under 'topdomain'. This is
              normally a subdomain to a domain you own. Use a short domain name to get better  throughput.  This
              argument  must  be  the  same  on  both  the client and the server. Queries for domains other than
              'topdomain' will be forwarded when the -b option is given, otherwise they will be dropped.

</pre><h4><b>EXAMPLES</b></h4><pre>
       See the README file for both a quick test scenario, and a detailed description of real-world deployment.

</pre><h4><b>SECURITY</b></h4><pre>
       Login is a relatively secure challenge-response MD5 hash, with  the  password  never  passing  the  wire.
       However,  all  other  data  is  <b>NOT</b>  encrypted  in any way. The DNS traffic is also vulnerable to replay,
       injection and man-in-the-middle attacks, especially when iodined is used with the -c option. Use  of  ssh
       or vpn tunneling is strongly recommended.  On both server and client, use <u>iptables</u>, <u>pf</u> or other firewalls
       to block all traffic coming in from the tun interfaces, except to the used ssh or vpn ports.

</pre><h4><b>ENVIRONMENT</b></h4><pre>
   <b>IODINE_PASS</b>
       If  the  environment  variable  <b>IODINE_PASS</b>  is  set,  iodine will use the value it is set to as password
       instead of asking for one. The <b>-P</b> option still has precedence.

   <b>IODINED_PASS</b>
       If the environment variable <b>IODINED_PASS</b> is set, iodined will use the value it  is  set  to  as  password
       instead of asking for one. The <b>-P</b> option still has precedence.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       The README file in the source distribution contains some more elaborate information.

</pre><h4><b>BUGS</b></h4><pre>
       File bugs at <a href="http://dev.kryo.se/iodine/">http://dev.kryo.se/iodine/</a>

</pre><h4><b>AUTHORS</b></h4><pre>
       Erik Ekman &lt;<a href="mailto:yarrick@kryo.se">yarrick@kryo.se</a>&gt; and Bjorn Andersson &lt;<a href="mailto:flex@kryo.se">flex@kryo.se</a>&gt;. Major contributions by Anne Bezemer.

User Manuals                                        JUN 2014                                           <u><a href="../man8/IODINE.8.html">IODINE</a></u>(8)
</pre>
 </div>
</div></section>
</div>
</body>
</html>