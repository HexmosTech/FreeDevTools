<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>makedbz - Rebuild dbz files</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/inn2">inn2_2.7.3-1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       makedbz - Rebuild dbz files

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>makedbz</b> [<b>-io</b>] [<b>-f</b> <u>filename</u>] [<b>-s</b> <u>size</u>]

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>makedbz</b> rebuilds <u>dbz</u> database (also known as the <u>history</u> file).  The default name of the text file is
       <u>pathdb</u>/history; to specify a different name, use the <b>-f</b> flag.

</pre><h4><b>OPTIONS</b></h4><pre>
       <b>-f</b> <u>filename</u>
           If  the  <b>-f</b>  flag  is  used,  then the database files are named "<u>filename</u>.dir", "<u>filename</u>.index", and
           "<u>filename</u>.hash".  If the <b>-f</b> flag is not used, then a temporary link to the name "history.n"  is  made
           and the database files are written as "history.n.index" , "history.n.hash" and "history.n.dir".

       <b>-i</b>  To  ignore  the  old  database  when  determining the size of the new one to create, use the <b>-i</b> flag.
           Using the <b>-o</b> or <b>-s</b> flags implies the <b>-i</b> flag.

           When the old database is ignored, and a size is not specified with <b>-s</b>, <b>makedbz</b> will count the  number
           of  lines  of the current text <u>history</u> file, add 10% to that count (for the next articles to arrive),
           and another 50% (or 100% if the slower tagged hash format is used) to determine the size of  the  new
           database to create.  The aim is to optimize the performances of the database, keeping it filled below
           2/3 of its size (or 1/2 with the tagged hash format).

           If no text <u>history</u> file exists, the new one will have the default creation size (see <b>-s</b>).

       <b>-o</b>  If the <b>-o</b> flag is used, then the temporary link to "history.n" (or the name specified by the <b>-f</b> flag)
           is not made and any existing <u>history</u> files are overwritten.  If the old database exists, <b>makedbz</b> will
           use it to determine the size of the new database (see <b>-i</b>).

       <b>-s</b> <u>size</u>
           <b>makedbz</b> will also ignore any old database if the <b>-s</b> flag is used to specify the approximate number of
           entries  in  the  new database.  Accurately specifying the size is an optimization that will create a
           more efficient database.  The news server will still accept more articles, but will be slower.   Size
           is  measured in key-value pairs (i.e. lines).  (The size should be the estimated eventual size of the
           file, typically the size of the old file.)

           The effective size used will be larger, to optimize the  performances  of  the  database.   For  more
           information, see <b>-i</b> and the discussion of <b>dbzfresh</b> and <b>dbzsize</b> in <a href="../man3/libinn_dbz.3.html">libinn_dbz</a>(3).

           The  default is 6,666,666 when creating a new <u>history</u> database.  (If the slower tagged hash format is
           used, the default is 500,000.)

</pre><h4><b>HISTORY</b></h4><pre>
       Written by Katsuhiro Kondou &lt;<a href="mailto:kondou@nec.co.jp">kondou@nec.co.jp</a>&gt; for InterNetNews.  Converted to POD by Julien Elie.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <a href="../man5/history.5.html">history</a>(5), <a href="../man3/libinn_dbz.3.html">libinn_dbz</a>(3).

INN 2.7.3                                          2025-05-19                                         <u><a href="../man8/MAKEDBZ.8.html">MAKEDBZ</a></u>(8)
</pre>
 </div>
</div></section>
</div>
</body>
</html>