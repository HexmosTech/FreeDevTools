<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>debugfs.ocfs2 - OCFS2 file system debugger.</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/ocfs2-tools">ocfs2-tools_1.8.8-3build1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       debugfs.ocfs2 - OCFS2 file system debugger.

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>debugfs.ocfs2</b> [<b>-f</b> <u>cmdfile</u>] [<b>-R</b> <u>command</u>] [<b>-s</b> <u>backup</u>] [<b>-nwV?</b>] [<u>device</u>]

       <b>debugfs.ocfs2</b> <b>-l</b> [<u>tracebit</u> ... [<b>allow</b>|<b>off</b>|<b>deny</b>]] ...

       <b>debugfs.ocfs2</b> <b>-d,</b> <b>--decode</b> <u>lockname</u>

       <b>debugfs.ocfs2</b> <b>-e,</b> <b>--encode</b> <u>lock_type</u> <u>block_num</u> <u>[generation</u> <u>|</u> <u>parent]</u>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The  <b>debugfs.ocfs2</b>  program  is  an  interactive  file system debugger useful in displaying on-disk <b>OCFS2</b>
       filesystem structures on the specified <u>device</u>.

</pre><h4><b>OPTIONS</b></h4><pre>
       <b>-d,</b> <b>--decode</b> <u>lockname</u>
              Display the information encoded in the <u>lockname</u>.

       <b>-e,</b> <b>--encode</b> <u>lock_type</u> <u>block_num</u> <u>[generation</u> <u>|</u> <u>parent]</u>
              Display the lockname obtained by encoding the arguments provided.

       <b>-f,</b> <b>--file</b> <u>cmdfile</u>
              Executes the debugfs commands in <u>cmdfile</u>.

       <b>-i,</b> <b>--image</b>
              Specifies device is an o2image file created by <u>o2image</u> tool.

       <b>-l</b> [<u>tracebit</u> ... [<b>allow</b>|<b>off</b>|<b>deny</b>]] ...
              Control <b>OCFS2</b> filesystem tracing by enabling and disabling trace bits.  Do <u>debugfs.ocfs2</u> <u>-l</u> to get
              the list of all trace bits.

       <b>-n,</b> <b>--noprompt</b>
              Hide prompt.

       <b>-R,</b> <b>--request</b> <u>command</u>
              Executes a single debugfs command.

       <b>-s,</b> <b>--superblock</b> <u>backup-number</u>
              <u>mkfs.ocfs2</u> makes up to 6 backup copies of the superblock at offsets 1G, 4G, 16G, 64G, 256G and  1T
              depending  on  the  size of the volume. Use this option to specify the backup, 1 thru 6, to use to
              open the volume.

       <b>-w,</b> <b>--write</b>
              Opens the filesystem in <u>RW</u> mode. By default the filesystem is opened in <u>RO</u> mode.

       <b>-V,</b> <b>--version</b>
              Display version and exit.

       <b>-?,</b> <b>--help</b>
              Displays help and exit.

</pre><h4><b>SPECIFYING</b> <b>FILES</b></h4><pre>
       Many <b>debugfs.ocfs2</b> commands take a <u>filespec</u> as an argument to specify an inode (as opposed to a pathname)
       in the filesystem which is currently opened by <b>debugfs.ocfs2</b>. The <u>filespec</u> argument may be  specified  in
       two  forms.  The  first form is an inode number or lockname surrounded by angle brackets, e.g., &lt;32&gt;. The
       second form is a pathname; if the pathname is prefixed by a forward slash ('/'), then it  is  interpreted
       relative  to  the  root of the filesystem which is currently opened by <b>debugfs.ocfs2</b>. If not, the path is
       interpreted relative to the current working directory  as  maintained  by  <b>debugfs.ocfs2</b>,  which  can  be
       modified  using  the command <u>cd</u>. If the pathname is prefixed by a double forward slash ('//'), then it is
       interpreted relative to the root of the system directory of the filesystem opened by <b>debugfs.ocfs2</b>.

</pre><h4><b>LOCKNAMES</b></h4><pre>
       Locknames are specially formatted strings used by the file system to uniquely  identify  objects  in  the
       filesystem.  Most  locknames used by <u>OCFS2</u> are generated using the inode number and its generation number
       and can be decoded using the <u>decode</u> command or used directly in place of  an  inode  number  in  commands
       requiring  a  <u>filespec</u>.  Like  inode  numbers,  locknames  need  to  be enclosed in angle brackets, e.g.,
       &lt;M000000000000000040c40c044069cf&gt;. Use the <u>encode</u> command to  generate  all  possible  locknames  for  an
       object.

</pre><h4><b>COMMANDS</b></h4><pre>
       This is a list of the commands which debugfs.ocfs2 supports.

       <u>bmap</u> <u>filespec</u> <u>logical_block</u>
              Display  the  physical block number corresponding to the logical block number <u>logical_block</u> in the
              inode <u>filespec</u>.

       <u>cat</u> <u>filespec</u>
              Dump the contents of inode <u>filespec</u> to stdout.

       <u>cd</u> <u>filespec</u>
              Change the current working directory to <u>filespec</u>.

       <u>chroot</u> <u>filespec</u>
              Change the root directory to be the directory <u>filespec</u>.

       <u>close</u>  Close the currently opened filesystem.

       <u>controld</u> <u>dump</u>
              Display information obtained from ocfs2_controld.

       <u>curdev</u> Show the currently open device.

       <u>decode</u> <u>&lt;lockname&gt;</u>
              Display the inode number encoded in the <u>lockname</u>.

       <u>dirblocks</u> <u>&lt;filespec&gt;</u>
              Display the directory blocks associated with the given <u>filespec</u>.

       <u>dlm_locks</u> <u>[-f</u> <u>&lt;file&gt;]</u> <u>[-l]</u> <u>[&lt;lockname(s)&gt;]...</u>
              Display the status of all lock resources in the <u>o2dlm</u> domain that the file system is a member  of.
              This  command  expects  the  debugfs  filesystem  to  be  mounted  as  <u>mount</u>  <u>-t</u>  <u>debugfs</u>  <u>debugfs</u>
              <u><a href="file:/sys/kernel/debug">/sys/kernel/debug</a></u>. Use <u>lockname(s)</u> to limit the output to the given lock resources, <u>-l</u> to  include
              contents   of   the   lock   value   block   and   <u>-f</u>   <u>&lt;file&gt;</u>   to   specify   a  saved  copy  of
              /sys/kernel/debug/o2dlm/&lt;DOMAIN&gt;/locking_state.

       <u>dump</u> <u>[-p]</u> <u>filespec</u> <u>outfile</u>
              Dump the contents of the inode <u>filespec</u> to the output file <u>outfile</u>. If the <u>-p</u> is  given,  set  the
              owner, group, timestamps and permissions information on <u>outfile</u> to match those of <u>filespec</u>.

       <u>dx_dump</u> <u>filespec</u>
              Display the indexed directory information for the given directory.

       <u>dx_leaf</u> <u>&lt;block#&gt;</u>
              Display the contents of the given indexed directory leaf block.

       <u>dx_root</u> <u>&lt;block#&gt;</u>
              Display the contents of the given indexed directory root block.

       <u>dx_space</u> <u>filespec</u>
              Display the directory free space list.

       <u>encode</u> <u>filespec</u>
              Display the lockname for the <u>filespec</u>.

       <u>extent</u> <u>&lt;block#&gt;</u>
              Display the contents of the extent structure at <u>block#</u>.

       <u>findpath</u> <u>[&lt;lockname&gt;|&lt;inode#&gt;]</u>
              Display  the pathname for the inode specified by <u>lockname</u> or <u>inode#</u>. This command does not display
              all the hard-linked paths for the inode.

       <u>frag</u> <u>filespec</u>
              Display the inode's number of extents to clusters ratio.

       <u>fs_locks</u> <u>[-f</u> <u>&lt;file&gt;]</u> <u>[-l]</u> <u>[-B]</u> <u>[&lt;lockname(s)&gt;]...</u>
              Display the status of all locks known by  the  file  system.  This  command  expects  the  debugfs
              filesystem  to be mounted as <u>mount</u> <u>-t</u> <u>debugfs</u> <u>debugfs</u> <u><a href="file:/sys/kernel/debug">/sys/kernel/debug</a></u>.  Use <u>lockname(s)</u> to limit
              the output to the given lock resources, <u>-B</u> to limit the output to  only  the  busy  locks,  <u>-l</u>  to
              include   contents   of  the  lock  value  block  and  <u>-f</u>  <u>&lt;file&gt;</u>  to  specify  a  saved  copy  of
              /sys/kernel/debug/ocfs2/&lt;UUID&gt;/locking_state.

       <u>group</u> <u>&lt;block#&gt;</u>
              Display the contents of the group descriptor at <u>block#</u>.

       <u>grpextents</u> <u>&lt;block#&gt;</u>
              Display free extents in the chain group.

       <u>hb</u>     Display the contents of the heartbeat system file.

       <u>help,</u> <u>?</u>
              Print the list of commands understood by <b>debugfs.ocfs2</b>.

       <u>icheck</u> <u>block#</u> <u>...</u>
              Display the inodes that use the one or more blocks specified on the command line.  If the inode is
              a regular file, also display the corresponding logical block offset.

       <u>lcd</u> <u>directory</u>
              Change the current working directory of the <b>debugfs.ocfs2</b> process to the <u>directory</u> on  the  native
              filesystem.

       <u>locate</u> <u>[&lt;lockname&gt;|&lt;inode#&gt;]</u> <u>...</u>
              Display all pathnames for the inode(s) specified by <u>lockname</u>s or <u>inode#</u>s.

       <u>logdump</u> <u>[-T]</u> <u>slot#</u>
              Display the contents of the journal for slot <u>slot#</u>. Use <u>-T</u> to limit the output to just the summary
              of the inodes in the journal.

       <u>ls</u> <u>[-l]</u> <u>filespec</u>
              Print the listing  of the files in the directory <u>filespec</u>. The <u>-l</u> flag will list files in the long
              format.

       <u>net_stats</u> <u>[-f</u> <u>&lt;file&gt;]</u> <u>[interval</u> <u>[count]]</u>
              Display  the  net  statistics.  This  command  expects  the  debugfs  filesystem  to be mounted at
              <u><a href="file:/sys/kernel/debug">/sys/kernel/debug</a></u>. The <u>interval</u> is in seconds. Use the <u>-f</u> parameter to specify  a  saved  copy  of
              /sys/kernel/debug/o2net/stats.

       <u>ncheck</u> <u>[&lt;lockname&gt;|&lt;inode#&gt;]</u> <u>...</u>
              See <u>locate</u>.

       <u>open</u> <u>device</u>
              Open the filesystem on <u>device</u>.

       <u>quit,</u> <u>q</u>
              Quit <b>debugfs.ocfs2</b>.

       <u>rdump</u> <u>[-v]</u> <u>filespec</u> <u>outdir</u>
              Recursively  dump directory <u>filespec</u> and all its contents (including regular files, symbolic links
              and other directories) into the <u>outdir</u> which  should  be  an  existing  directory  on  the  native
              filesystem.

       <u>refcount</u> <u>[-e]</u> <u>filespec</u>
              Display the refcount block, and optionally its tree, of the specified inode.

       <u>slotmap</u>
              Display the contents of the <u>slotmap</u> system file.

       <u>stat</u> <u>[-t|-T]</u> <u>filespec</u>
              Display  the contents of the inode structure for the <u>filespec</u>.  The <u>-t</u> ("traverse") option selects
              traversal of the inode's metadata.  The extent tree, chain list, or other extra metadata  will  be
              dumped.   This  is the default.  The <u>-T</u> option turns off traversal to reduce the I/O required when
              basic inode information is needed.

       <u>stat_sysdir</u>
              Display the contents of all objects in the system directory.

       <u>stats</u> <u>[-h]</u> <u>[-s</u> <u>backup-number]</u>
              Display the contents of the superblock. Use <u>-s</u> to display a specific backup superblock. Use <u>-h</u>  to
              hide the inode.

       <u>xattr</u> <u>[-v]</u> <u>&lt;filespec&gt;</u>
              Display extended attributes associated with the given <u>filespec</u>.

</pre><h4><b>ACKNOWLEDGEMENT</b></h4><pre>
       This tool has been modelled after <b>debugfs</b>, a debugging tool for ext2.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man8/fsck.ocfs2.8.html">fsck.ocfs2</a>(8)</b>  <b><a href="../man8/fsck.ocfs2.checks.8.html">fsck.ocfs2.checks</a>(8)</b> <b><a href="../man8/mkfs.ocfs2.8.html">mkfs.ocfs2</a>(8)</b> <b><a href="../man8/mount.ocfs2.8.html">mount.ocfs2</a>(8)</b> <b><a href="../man8/mounted.ocfs2.8.html">mounted.ocfs2</a>(8)</b> <b><a href="../man8/o2cluster.8.html">o2cluster</a>(8)</b> <b><a href="../man8/o2image.8.html">o2image</a>(8)</b>
       <b><a href="../man1/o2info.1.html">o2info</a>(1)</b> <b><a href="../man7/ocfs2.7.html">ocfs2</a>(7)</b> <b><a href="../man8/tunefs.ocfs2.8.html">tunefs.ocfs2</a>(8)</b>

</pre><h4><b>AUTHOR</b></h4><pre>
       Oracle Corporation

</pre><h4><b>COPYRIGHT</b></h4><pre>
       Copyright © 2004, 2012 Oracle. All rights reserved.

Version 1.8.8                                     January 2012                                  <u><a href="../man8/debugfs.ocfs2.8.html">debugfs.ocfs2</a></u>(8)
</pre>
 </div>
</div></section>
</div>
</body>
</html>