<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>brctl - ethernet bridge administration</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/bridge-utils">bridge-utils_1.7.1-4ubuntu1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       brctl - ethernet bridge administration

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>brctl</b> <b>[command]</b>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>brctl</b> is used to set up, maintain, and inspect the ethernet bridge configuration in the Linux kernel.

       An ethernet bridge is a device commonly used to connect different networks of ethernets together, so that
       these ethernets will appear as one ethernet to the participants.

       Each  of  the  ethernets  being  connected  corresponds  to  one  physical interface in the bridge. These
       individual ethernets are bundled into one bigger ('logical') ethernet, this bigger  ethernet  corresponds
       to the bridge network interface.

</pre><h4><b>INSTANCES</b></h4><pre>
       The  command  <b>brctl</b>  <b>addbr</b>  <b>&lt;name&gt;</b>  creates  a new instance of the ethernet bridge. The network interface
       corresponding to the bridge will be called &lt;name&gt;.

       The command <b>brctl</b> <b>delbr</b> <b>&lt;name&gt;</b> deletes the instance &lt;name&gt; of the ethernet bridge. The network  interface
       corresponding to the bridge must be down before it can be deleted!

       The command <b>brctl</b> <b>show</b> shows all current instances of the ethernet bridge.

</pre><h4><b>PORTS</b></h4><pre>
       Each bridge has a number of ports attached to it. Network traffic coming in on any of these ports will be
       forwarded  to  the  other ports transparently, so that the bridge is invisible to the rest of the network
       (i.e. it will not show up in <u><a href="../man8/traceroute.8.html">traceroute</a>(8)</u> ).

       The command <b>brctl</b> <b>addif</b> <b>&lt;brname&gt;</b> <b>&lt;ifname&gt;</b> will make the interface &lt;ifname&gt; a port of the bridge &lt;brname&gt;.
       This means that all frames received on &lt;ifname&gt; will be processed as if destined for  the  bridge.  Also,
       when sending frames on &lt;brname&gt;, &lt;ifname&gt; will be considered as a potential output interface.

       The command <b>brctl</b> <b>delif</b> <b>&lt;brname&gt;</b> <b>&lt;ifname&gt;</b> will detach the interface &lt;ifname&gt; from the bridge &lt;brname&gt;.

       The command <b>brctl</b> <b>show</b> <b>&lt;brname&gt;</b> will show some information on the bridge and its attached ports.

</pre><h4><b>AGEING</b></h4><pre>
       The  bridge keeps track of ethernet addresses seen on each port. When it needs to forward a frame, and it
       happens to know on which port the destination ethernet address (specified in the frame)  is  located,  it
       can  'cheat'  by  forwarding  the  frame  to  that  port  only, thus saving a lot of redundant copies and
       transmits.

       However, the ethernet address location data is not static data. Machines can move to other ports, network
       cards can be replaced (which changes the machine's ethernet address), etc.

       <b>brctl</b> <b>showmacs</b> <b>&lt;brname&gt;</b> shows a list of learned MAC addresses for this bridge.

       <b>brctl</b> <b>setageing</b> <b>&lt;brname&gt;</b> <b>&lt;time&gt;</b> sets the ethernet (MAC) address ageing time,  in  seconds.  After  &lt;time&gt;
       seconds  of not having seen a frame coming from a certain address, the bridge will time out (delete) that
       address from the Forwarding DataBase (fdb).

       <b>brctl</b> <b>setgcint</b> <b>&lt;brname&gt;</b> <b>&lt;time&gt;</b> sets the garbage collection interval for the  bridge  &lt;brname&gt;  to  &lt;time&gt;
       seconds. This means that the bridge will check the forwarding database for timed out entries every &lt;time&gt;
       seconds.

</pre><h4><b>SPANNING</b> <b>TREE</b> <b>PROTOCOL</b></h4><pre>
       Multiple  ethernet  bridges  can work together to create even larger networks of ethernets using the IEEE
       802.1d spanning tree protocol. This protocol is used for finding the shortest path between two ethernets,
       and for eliminating loops from the topology. As this protocol is a standard, Linux bridges will interwork
       properly with other third party bridge products. Bridges communicate  with  each  other  by  sending  and
       receiving  BPDUs  (Bridge  Protocol Data Units). These BPDUs can be recognized by an ethernet destination
       address of 01:80:c2:00:00:00.

       The spanning tree protocol can also be turned off (for those situations where it just doesn't make sense,
       for example when this Linux box is the only bridge on the LAN, or when you know that there are  no  loops
       in the topology.)

       <u><a href="../man8/brctl.8.html">brctl</a>(8)</u>  can  be  used  for configuring certain spanning tree protocol parameters. For an explanation of
       these parameters, see the IEEE 802.1d specification (or send me an email). The default values  should  be
       just  fine.  If  you  don't  know what these parameters mean, you probably won't feel the desire to tweak
       them.

       <b>brctl</b> <b>stp</b> <b>&lt;bridge&gt;</b> <b>&lt;state&gt;</b> controls this bridge instance's participation in the spanning  tree  protocol.
       If &lt;state&gt; is "on" or "yes" the STP will be turned on, otherwise it will be turned off.  When turned off,
       the  bridge  will not send or receive BPDUs, and will thus not participate in the spanning tree protocol.
       If your bridge isn't the only bridge on the LAN, or if there are loops in the LAN's topology, DO NOT turn
       this option off. If you turn this option off, please know what you are doing.

       <b>brctl</b> <b>setbridgeprio</b> <b>&lt;bridge&gt;</b> <b>&lt;priority&gt;</b> sets the bridge's priority to &lt;priority&gt;. The priority  value  is
       an  unsigned  16-bit quantity (a number between 0 and 65535), and has no dimension. Lower priority values
       are 'better'. The bridge with the lowest priority will be elected 'root bridge'.

       <b>brctl</b> <b>setfd</b> <b>&lt;bridge&gt;</b> <b>&lt;time&gt;</b> sets the bridge's 'bridge forward delay' to &lt;time&gt; seconds.

       <b>brctl</b> <b>sethello</b> <b>&lt;bridge&gt;</b> <b>&lt;time&gt;</b> sets the bridge's 'bridge hello time' to &lt;time&gt; seconds.

       <b>brctl</b> <b>setmaxage</b> <b>&lt;bridge&gt;</b> <b>&lt;time&gt;</b> sets the bridge's 'maximum message age' to &lt;time&gt; seconds.

       <b>brctl</b> <b>setpathcost</b> <b>&lt;bridge&gt;</b> <b>&lt;port&gt;</b> <b>&lt;cost&gt;</b> sets the port cost of the port  &lt;port&gt;  to  &lt;cost&gt;.  This  is  a
       dimensionless metric (from 1 to 65535, default is 100).

       <b>brctl</b>  <b>setportprio</b> <b>&lt;bridge&gt;</b> <b>&lt;port&gt;</b> <b>&lt;priority&gt;</b> sets the port &lt;port&gt;'s priority to &lt;priority&gt;. The priority
       value is a number from 0 (min) to 63 (max), default is 32, and has no dimension. This metric is  used  in
       the designated port and root port selection algorithms.

</pre><h4><b>NOTES</b></h4><pre>
       <b><a href="../man8/brctl.8.html">brctl</a>(8)</b>  is  obsolete.  Some  features  such  as  STP guard, hairpin mode, fast leave and root block are
       intentionally not implemented in this command.  Instead use <b>bridge</b> command from <b>iproute2</b>  package  for  a
       more full set of features.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man8/iptables.8.html">iptables</a>(8)</b>

</pre><h4><b>AUTHOR</b></h4><pre>
       Lennert Buytenhek &lt;<a href="mailto:buytenh@gnu.org">buytenh@gnu.org</a>&gt; Stephen Hemminger &lt;<a href="mailto:stephen@networkplumber.org">stephen@networkplumber.org</a>&gt;

                                                November 7, 2001                                        <u><a href="../man8/BRCTL.8.html">BRCTL</a></u>(8)
</pre>
 </div>
</div></section>
</div>
</body>
</html>