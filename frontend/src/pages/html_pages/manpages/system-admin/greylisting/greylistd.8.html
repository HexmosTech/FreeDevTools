<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>greylistd - simple greylisting system for mail transport agents</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/greylistd">greylistd_0.9.0.4_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       greylistd - simple greylisting system for mail transport agents

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>greylistd</b>

</pre><h4><b>DESCRIPTION</b></h4><pre>
   <b>Greylisting</b>
       This  daemon  provides  a  simple  greylisting  implementation for use with Exim and other mail transport
       agents (MTAs).  For a more elaborate introduction to greylisting, please refer to Evan Harris' whitepaper
       at:      <a href="http://projects.puremagic.com/greylisting/">http://projects.puremagic.com/greylisting/</a>

       Greylisting is a simple but highly effective means to weed out messages  that  are  being  delivered  via
       spamware/ratware  tools.  The idea is to establish whether a prior relationship exists between the sender
       and the receiver of a message.  Most of the time it does, and the delivery proceeds normally.

       On the other hand, if no prior relationship exists, the delivery is temporarily  rejected,  using  a  451
       SMTP  response.  Legitimate MTAs will treat this response accordingly, and retry the delivery in a while.
       In contrast, ratware will usually fail to retry the delivery in a normal fashion.

       As a result, greylisting is currently more than 90% effective  in  blocking  incoming  junk  mail,  while
       nearly all legitimate mail goes through.

       Three  pieces  of information (herafter called a <u>triplet</u>) from the delivery attempt are cached for future
       reference:

         - The address of the host attempting the delivery
         - The envelope sender address (MAIL FROM:)
         - The envelope recipient address (RCPT TO:)

       If a delivery attempt was temporarily rejected, then after an initial timeout (60  minutes  by  default),
       but  before a retry expiration time (8 hours by default), new delivery attempts with the same <u>triplet</u> are
       accepted, and the <u>triplet</u> is added to a whitelist.  This allows for  delivery  retries,  presumably  from
       legitimate MTAs, and ensures that future mail from the same contact is not subject to greylisting.

       If  a whitelisted <u>triplet</u> has not been seen for an extended duration (by default 60 days), it is expired.
       This prevents unlimited growth of the list.

       The downside to greylisting is that legitimate mail from people who have never sent you mail in the  past
       (or, at least, within the last 60 days) are subject to a one-hour delay.

       The  upside  is that the current generation of ratware tools will not be able to deliver spam or virii to
       you.  Even if, as a result of lots of sites incorporating the  greylisting  concept,  ratware  tools  are
       modified such that temporarily rejected deliveries are retried, you stand an increased chance of blocking
       such  mail.   That  is  because  within  the mandatory 1-hour initial delay, chances are that the sending
       host's  IP  address  has  been  listed  in  one  or  more  DNS  block  lists  (such  as   bl.spamcop.net,
       cbl.abuseat.org, etc..), and can be rejected by your MTA by consulting these lists directly, or via anti-
       spam software like SpamAssassin.

   <b>greylistd</b>
       <b>greylistd</b>  is  meant  to  be  installed  on  a server that accepts incoming mail.  The MTA on this server
       connects to the greylistd daemon over a UNIX domain socket  (by  default  <u>/var/run/greylistd/socket</u>),  or
       alternatively  via  the  command <b><a href="../man1/greylist.1.html">greylist</a></b>(1), and submits a string (<u>triplet</u>) that identifies a particular
       host/sender/recipient relationship.  <b>greylistd</b> responds "white", "grey"  or  "black",  depending  on  the
       current  listing status of the provided <u>triplet</u>.  Alternatively, if either of the "--white", "--grey", or
       "--black" options precede the data, <b>greylistd</b> responds "true" or "false", indicating whether the  triplet
       is currently in the corresponding state.

</pre><h4><b>EXAMPLES</b></h4><pre>
   <b>Exim</b> <b>4</b>
       A  sample  greylistd  statement  for  Exim  4 is provided with this package, and can normally be found in
       "/usr/share/doc/greylistd/examples/exim4-acl-example.txt".

   <b>Others</b>
       What others?  :-)

       A prerequisite to greylisting in general is the  ability  to  perform  custom  filtering  throughout  the
       various  stages  in  the  SMTP transaction, most notably after the <b>RCPT</b> <b>TO:</b> SMTP command.  In particular,
       <b><a href="../man8/greylistd.8.html">greylistd</a></b>(8) can be invoked either over a UNIX domain socket or via the supplied <b><a href="../man1/greylist.1.html">greylist</a></b>(1) utility.

       Although <b><a href="../man8/greylistd.8.html">greylistd</a></b>(8) is written mainly with Exim in mind, it should be possible to use it with  any  MTA
       that:

         -    Allows  arbitrary  strings to be passed on via a UNIX domain socket (<b>/var/run/greylistd/socket</b>) or
              supplied to external programs (<b><a href="../man1/greylist.1.html">greylist</a></b>(1)).

         -    Can defer the incoming delivery, based on the response.

       Some MTAs either have limited or no support for such external  filters  in  the  SMTP  transaction  (e.g.
       Sendmail), or define a very custom interface for such filters (e.g. Postifx "Policy Servers").

       That  said,  solutions  exist  for these other MTAs as well.  For Postfix, check into "postgrey", and for
       Sendmail there is "relaydelay".  For other MTAs, check the links  on  Evan  Harris'  greylisting  project
       page:

           <a href="http://projects.puremagic.com/greylisting/links.html">http://projects.puremagic.com/greylisting/links.html</a>

</pre><h4><b>FILES</b></h4><pre>
   <b>/etc/greylistd/config</b>
       Configuration settings.  Currently, this file consists of three sections:

       [timeout]
           Lists  various  timeouts  used  to  determine  how long to keep a new <u>triplet</u> greylisted, and when to
           expire previosly known <u>triplet</u>s.

       [socket]
           Specifies path and permissions of the UNIX domain socket on which <b>greylistd</b> will listen.

       [data]
           Specifies the paths to the data files, containing the data items and statistics, as well as an <u>update</u>
           <u>interval</u> specifying how often data will be written to these files.

   <b>/var/lib/greylistd/states</b>
       (default path, can be modified in the configuration file)

       Runtime data.  Theare are four sections: <b>[white]</b>, <b>[grey]</b>, <b>[black]</b>  and  <b>[statistics]</b>.   The  first  three
       sections consist of lines of the form:

           <u>hash</u> = <u>lastseen</u> <u>firstseen</u> <u>count</u>

       where:

         - <u>hash</u> is a 32-bit value representing a given <u>triplet</u>,

         - <u>lastseen</u> is a 32-bit value representing the timestamp of last delivery attempt for this triplet,

         - <u>firstseen</u>  is  a  32-bit  value  representing  the timestamp of first known delivery attempt for this
           triplet,

         - <u>count</u> is a 32-bit value representing the number of delivery attempts that have  been  made  for  this
           triplet in this time period.

       The  <b>[statistics]</b>  section contains a counter for each of the three lists, indicating how many items that
       has ever made its way into these lists by way of the <b>update</b> protocol.

   <b>/var/lib/greylistd/triplets</b>
       (default path, can be modified in the configuration file)

       Unhashed data - i.e. the original triplets passed to  greylistd.   Internally,  <b><a href="../man8/greylistd.8.html">greylistd</a></b>(8)  hashes  the
       provided data into a single 32-bit value for efficiency.  Prior to version 0.6, the original data was not
       retained; as of version 0.6, data is optionally saved into this file.

       Data items are saved in the form:
           <u>hash</u> = <u>data</u> ...

   <b>/var/run/greylistd/socket</b>
       (default path, can be modified in the configuration file)

       The  UNIX  domain socket providing the main interface to "greylistd".  The MTA can either connect to this
       socket directly, or use the supplied "greylist" utility to do so.

</pre><h4><b>BUGS</b></h4><pre>
       Because <u>triplet</u>s and timestamps are hashed into simple 32-bit values, there is a very  slim  chance  that
       deliveries that should have been greylisted are allowed through.  More so for very busy sites.

       Commands  are  actually  executed  in  the  daemon,  not  the "greylist" client.  If the user who invokes
       "greylist" interactively has a different time zone than the daemon process, time and date representations
       in the output will reflect those of the daemon.

</pre><h4><b>AUTHOR</b></h4><pre>
       This python script and manual page is written by Tor Slettnes, originally for Debian GNU/Linux.

</pre><h4><b>COPYRIGHT</b></h4><pre>
       Copyright Â© 2004-2005 Tor Slettnes.

       This program is free software; you can redistribute it and/or modify  it  under  the  terms  of  the  GNU
       General  Public License as published by the Free Software Foundation; either version 2 of the License, or
       (at your option) any later version.

       This program is distributed in the hope that it will be useful, but WITHOUT ANY  WARRANTY;  without  even
       the  implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public
       License for more details.

       On a Debian GNU/Linux system, the full text of the GPL is  available  in  /usr/share/common-licenses/GPL.
       It is also available at:

           <a href="http://www.gnu.org/licenses/gpl.html">http://www.gnu.org/licenses/gpl.html</a>

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <a href="http://projects.puremagic.com/greylisting/">http://projects.puremagic.com/greylisting/</a>
              Evan Harris' greylisting whitepaper

       <b><a href="../man1/greylist.1.html">greylist</a></b>(1)
              Command-line interface to the greylist daemon.

       <b><a href="../man8/greylistd-setup-exim4.8.html">greylistd-setup-exim4</a></b>(8)
              Utility to add/remove support for greylistd in Exim 4 configuration files.

Tor Slettnes                                           0.8                                          <u><a href="../man8/greylistd.8.html">greylistd</a></u>(8)
</pre>
 </div>
</div></section>
</div>
</body>
</html>