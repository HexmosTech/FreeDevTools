<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>nslint - perform consistency checks on dns files</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/nslint">nslint_3.2-6_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       nslint - perform consistency checks on dns files

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>nslint</b> [ <b>-d</b> ] [ <b>-c</b> <u>named.conf</u> ] [ <b>-C</b> <u>nslint.conf</u> ]
       <b>nslint</b> [ <b>-d</b> ] [ <b>-b</b> <u>named.boot</u> ] [ <b>-B</b> <u>nslint.boot</u> ]

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>Nslint</b>  reads  the  nameserver configuration files and performs a number of consistency checks on the dns
       records. If any problems are discovered, error messages are displayed on <u>stderr</u> and <b>nslint</b> exits  with  a
       non-zero status.

       Here is a partial list of errors <b>nslint</b> detects:

              Records that are malformed.

              Names that contain dots but are missing a trailing dot.

              <b>PTR</b> records with names that are missing a trailing dot.

              Names that contain illegal characters (rfc1034).

              <b>A</b> records without matching <b>PTR</b> records

              <b>PTR</b> records without matching <b>A</b> records

              Names with more than one address on the same subnet.

              Addresses in use by more than one name.

              Names with <b>CNAME</b> and other records (rfc1033).

              Unknown service and/or protocol keywords in <b>WKS</b> records.

              Missing semicolons and quotes.

</pre><h4><b>OPTIONS</b></h4><pre>
       <b>-b</b>     Specify an alternate <u>named.boot</u> file. The default is <u>/etc/named.boot</u>.

       <b>-c</b>     Specify an alternate <u>named.conf</u> file. The default is <u>/etc/named.conf</u>.

       <b>-B</b>     Specify  an  alternate  <u>nslint.boot</u>  file.  The  default is <u>nslint.boot</u> in the last <b>directory</b> line
              processed in <u>named.boot</u> (or the current working directory).  This file is processed like a  second
              <u>named.boot</u>.   The  most  common  use is to tell <b>nslint</b> about <b>A</b> records that match <b>PTR</b> records that
              point outside the domains listed in <u>named.boot</u>.

       <b>-C</b>     Specify an alternate <u>nslint.conf</u> file. The default is  <u>nslint.conf</u>  in  the  last  <b>directory</b>  line
              processed  in <u>named.conf</u> (or the current working directory).  This file is processed like a second
              <u>named.conf</u>.

       <b>-d</b>     Raise the debugging level. Debugging information is displayed on <u>stdout</u>.

       <b>Nslint</b> knows how to read BIND 8 and 9's <u>named.conf</u> configuration file and also  older  BIND's  <u>named.boot</u>
       file.  If  both  files  exist,  <b>nslint</b>  will  prefer  <u>named.conf</u> (on the theory that you forgot to delete
       <u>named.boot</u> when you upgraded BIND).

</pre><h4><b>ADVANCED</b> <b>CONFIGURATION</b></h4><pre>
       There are some cases where it is  necessary  to  use  the  advanced  configuration  features  of  <b>nslint</b>.
       Advanced  configuration  is  done  with  the  <u>nslint.conf</u> file. (You can also use <u>nslint.boot</u> which has a
       syntax similar to <u>named.boot</u> but is not described here.)

       The most common is when a site has a demilitarized zone (DMZ).  The problem here is that the DMZ  network
       will have <b>PTR</b> records for hosts outside its domain. For example lets say we have <u>128.0.rev</u> with:

              1.1     604800  in      ptr     gateway.lbl.gov.
              2.1     604800  in      ptr     gateway.es.net.

       Obviously  we  will  define  an <b>A</b> record for <u>gateway.lbl.gov</u> pointing to <u>128.0.1.1</u> but we will get errors
       because there is no <b>A</b> record defined for <u>gateway.es.net</u>.  The solution is to create  a  <u>nslint.conf</u>  file
       (in the same directory as the other dns files) with:

              zone "es.net" {
                     type master;
                     file "nslint.es.net";
              };

       And then create the file <u>nslint.es.net</u> with:

              gateway 1       in      a       128.0.1.2

       Another  problem  occurs when there is a <b>CNAME</b> that points to a host outside the local domains. Let's say
       we have <u>info.lbl.gov</u> pointing to <u>larry.es.net</u>:

              info    604800  in      cname   larry.es.net.

       In this case we would need:

              zone "es.net" {
                     type master;
                     file "nslint.es.net";
              };

       in <u>nslint.boot</u> and:

              larry   1       in      txt     "place holder"

       <u>nslint.es.net</u>.

       One last problem when a pseudo host is setup to allow two more more actual hosts provide a service.  For,
       let's say that <u>lbl.gov</u> contains:

              server  604800  in      a       128.0.6.6
              server  604800  in      a       128.0.6.94
              ;
              tom     604800  in      a       128.0.6.6
              tom     604800  in      mx 0    lbl.gov.
              ;
              jerry   604800  in      a       128.0.6.94
              jerry   604800  in      mx 0    lbl.gov.

       In  this  case  <b>nslint</b>  would complain about missing <b>PTR</b> records and ip addresses in use by more than one
       host.  To suppress these warnings, add you would the lines:

              zone "lbl.gov" {
                     type master;
                     file "nslint.lbl.gov";
              };

              zone "0.128.in-addr.arpa" {
                     type master;
                     file "nslint.128.0.rev";
              };

       to <u>nslint.conf</u> and create <u>nslint.lbl.gov</u> with:

              server  1       in      allowdupa       128.0.6.6
              server  1       in      allowdupa       128.0.6.94

       and create <u>nslint.128.0.rev</u> with:

              6.6     604800  in      ptr     server.lbl.gov.
              94.6    604800  in      ptr     server.lbl.gov.

       In this example, the <b>allowdupa</b> keyword tells <b>nslint</b> that it's ok  for  <u>128.0.6.6</u>  and  <u>128.0.6.94</u>  to  be
       shared by <u>server.lbl.gov</u>, <u>tom.lbl.gov</u>, and <u>jerry.lbl.gov</u>.

       Another  <b>nslint</b> feature helps detect hosts that have mistakenly had two ip addresses assigned on the same
       subnet. This can happen when two different people request an ip address for the  same  hostname  or  when
       someone forgets an address has been assigned and requests a new number.

       To detect such <b>A</b> records, add a <b>nslint</b> section to your <u>nslint.conf</u> containing something similar to:

              nslint {
                     network "128.0.6/22";
              };

       or:

              nslint {
                     network "128.0.6 255.255.252.0";
              };

       These  two  examples  are  are equivalent ways of saying the same thing; that subnet <u>128.0.6</u> has a 22 bit
       wide subnet mask.

       Using information from the above <b>network</b> statement, <b>nslint</b> would would flag the following  <b>A</b>  records  as
       being in error:

              server  1       in      a       128.0.6.48
              server  1       in      a       128.0.7.16

       Note that if you specify any <b>network</b> lines in your <u>nslint.conf</u> file, <b>nslint</b> requires you to include lines
       for all networks; otherwise you might forget to add <b>network</b> lines for new networks.

       Sometimes  you  have  a  zone  that <b>nslint</b> just can't deal with. A good example is a dynamic dns zone. To
       handle this, you can add the following to <u>nslint.com</u><b>:</b>

              nslint {
                     ignorezone "dhcp.lbl.gov";
              };

       This will suppress "name referenced without other records" warnings.

</pre><h4><b>FILES</b></h4><pre>
       /etc/named.conf - default named configuration file
       /etc/named.boot - old style named configuration file
       nslint.conf - default nslint configuration file
       nslint.boot - old style nslint configuration file

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <u><a href="../man8/named.8.html">named</a></u>(8), rfc1033, rfc1034

</pre><h4><b>AUTHOR</b></h4><pre>
       Craig Leres of the Lawrence Berkeley National Laboratory, University of California, Berkeley, CA.

       The current version is available via anonymous ftp:

              <u><a href="ftp://ftp.ee.lbl.gov/nslint.tar.gz">ftp://ftp.ee.lbl.gov/nslint.tar.gz</a></u>

</pre><h4><b>BUGS</b></h4><pre>
       Please send bug reports to <a href="mailto:nslint@ee.lbl.gov">nslint@ee.lbl.gov</a>.

       Not everyone is guaranteed to agree with all the checks done.

4th Berkeley Distribution                          2 May 2002                                          <u><a href="../man8/nslint.8.html">nslint</a></u>(8)
</pre>
 </div>
</div></section>
</div>
</body>
</html>