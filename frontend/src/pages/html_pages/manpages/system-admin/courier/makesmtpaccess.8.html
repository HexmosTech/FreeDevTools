<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>makesmtpaccess - Build ESMTP server access file</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/courier-mta">courier-mta_1.4.1-2build1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       makesmtpaccess - Build ESMTP server access file

</pre><h4><b>SYNOPSIS</b></h4><pre>

       <b>makesmtpaccess</b>

       <b>makesmtpaccess-msa</b>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>makesmtpaccess</b> rebuilds the contents of the /etc/courier/smtpaccess.dat database from the contents of the
       files in the /etc/courier/smtpaccess directory. When the <b>esmtpd</b> script starts <b>couriertcpd</b>, the script
       specifies /etc/courier/smtpaccess.dat file to control access to the Courier mail server's ESMTP daemon.
       The <b>makesmtpaccess</b> script must be run before any changes in the /etc/courier/smtpaccess directory take
       effect.

       The <b><a href="../man8/couriertcpd.8.html">couriertcpd</a></b>(8)[1] manual page describes the general format of access files.

       The default Courier mail server configuration uses the same access file, /etc/courier/smtpaccess.dat for
       both the regular ESMTP server, and the message submission server on port 587 (<b>RFC</b> <b>2476</b>[2]). It is
       possible to use different access files. To do so, create a different access file, edit
       /etc/courier/esmtpd-msa, and set <b>ACCESSFILE</b> to the filename of the access file directory (the directory
       containing the plain text files, not the .dat file). Then, use <b>makesmtpaccess-msa</b> instead of
       <b>makesmtpaccess</b> to build the .dat file.

   <b>The</b> <b>smtpaccess</b> <b>configuration</b> <b>file</b>
       The <b><a href="../man8/couriertcpd.8.html">couriertcpd</a></b>(8)[1] manual page describes the generic format of the access file. The access file
       specifies what should be done with connections from defined IP address ranges. The basic choices are to
       accept or reject the connection. Also, the generic format of the access file allows arbitrary environment
       variables to be set based on the connection's remote IP address.

       The Courier mail server's ESMTPD server understands the following environment variables, which may be set
       in the access file:

       BLOCK
           If this variable is set to a non-empty value, all mail will be rejected for this connection. The
           contents of the environment variable will be used as the error message. This is not the same as the
           <b>couriertcpd</b> access file setting that immediately drops the connection. The incoming connection is
           accepted, but every message will be rejected.

       FAXRELAYCLIENT
           Allow the client to send faxes via the <b><a href="../man8/courierfax.8.html">courierfax</a></b>(8)[3] module.

               <b>Note</b>
               When ESMTP authentication is enabled, a successful authentication automatically sets
               <b>FAXRELAYCLIENT</b>.

       RELAYCLIENT
           Allow the client to relay mail.

               <b>Note</b>
               When ESMTP authentication is enabled, a successful authentication automatically sets <b>RELAYCLIENT</b>.

       The following options are typically set globally in the esmtpd configuration file, but may be overriden
       in the smtpaccess configuration file:

       BOFHCHECKDNS
           Do not check the return address's domain in DNS if this environment variable is set to 0. The default
           value of <b>BOFHCHECKDNS</b> is 1.

               <b>Note</b>
               Turning off the DNS check disables a number of options in the bofh configuration file. See
               <b><a href="../man8/courier.8.html">courier</a></b>(8)[4] for more information.

       BOFHCHECKHELO
           Set this variable to 1 to check the <u>hostname</u> argument to the ESMTP HELO/EHLO command, as follows:

           •   A <u>hostname</u> that's actually an IP address, and is the same as the connecting ESMTP client's IP
               address, is valid.

           •   Otherwise <u>hostname</u> should be a valid DNS name with MX and/or A records, with at least one record
               matching the connecting ESMTP client's IP address.

           •   An ESMTP client with relaying privileges (either due to <b>RELAYCLIENT</b> explicitly set, or if it
               succesfully authenticates) may use anything for an EHLO/HELO. The EHLO/HELO argument coming from
               an authenticated/relaying client is not checked.

       BOFHNOEXPN
           Disable the EXPN command if this environment variable is set to 1.

       BOFHNOVRFY
           Disable the VRFY command if this environment variable is set to 1.

       Other useful environment variables are listed in the <b><a href="../man8/submit.8.html">submit</a></b>(8)[5] manual page.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man8/esmtpd.8.html">esmtpd</a></b>(8)[6], <b><a href="../man8/couriertcpd.8.html">couriertcpd</a></b>(8)[1], <b><a href="../man8/submit.8.html">submit</a></b>(8)[5].

</pre><h4><b>AUTHOR</b></h4><pre>
       <b>Sam</b> <b>Varshavchik</b>
           Author

</pre><h4><b>NOTES</b></h4><pre>
        1. <b><a href="../man8/couriertcpd.8.html">couriertcpd</a></b>(8)
           <a href="http://www.courier-mta.org/couriertcpd.html">http://www.courier-mta.org/couriertcpd.html</a>

        2. RFC 2476
           <a href="http://www.rfc-editor.org/rfc/rfc2476.txt">http://www.rfc-editor.org/rfc/rfc2476.txt</a>

        3. <b><a href="../man8/courierfax.8.html">courierfax</a></b>(8)
           <a href="http://www.courier-mta.org/courierfax.html">http://www.courier-mta.org/courierfax.html</a>

        4. <b><a href="../man8/courier.8.html">courier</a></b>(8)
           <a href="http://www.courier-mta.org/courier.html">http://www.courier-mta.org/courier.html</a>

        5. <b><a href="../man8/submit.8.html">submit</a></b>(8)
           <a href="http://www.courier-mta.org/submit.html">http://www.courier-mta.org/submit.html</a>

        6. <b><a href="../man8/esmtpd.8.html">esmtpd</a></b>(8)
           <a href="http://www.courier-mta.org/esmtpd.html">http://www.courier-mta.org/esmtpd.html</a>

Courier Mail Server                                01/22/2022                            <u>MAKESMTPACCESS,</u> <u><a href="../man8/MAKE.8.html">MAKE</a></u>(8)
</pre>
 </div>
</div></section>
</div>
</body>
</html>