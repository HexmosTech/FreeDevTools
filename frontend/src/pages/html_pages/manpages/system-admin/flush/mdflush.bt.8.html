<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>mdflush.bt - Trace md flush events. Uses bpftrace/eBPF.</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/bpftrace">bpftrace_0.23.2-1ubuntu2_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       mdflush.bt - Trace md flush events. Uses bpftrace/eBPF.

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>mdflush.bt</b>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       This  tool traces flush events by md, the Linux multiple device driver (software RAID). The timestamp and
       md device for the flush are printed.  Knowing when these flushes happen can  be  useful  for  correlation
       with unexplained spikes in disk latency.

       This  works by tracing the kernel md_flush_request() function using kernel dynamic tracing, and will need
       updating to match any changes to this function.

       Note that the flushes themselves are likely to originate from higher in the I/O stack, such as  from  the
       file systems.

       Since this uses BPF, only the root user can use this tool.

</pre><h4><b>REQUIREMENTS</b></h4><pre>
       CONFIG_BPF and bpftrace.

</pre><h4><b>EXAMPLES</b></h4><pre>
       Trace md flush events:
              # <b>mdflush.bt</b>

</pre><h4><b>FIELDS</b></h4><pre>
       TIME   Time of the flush event (HH:MM:SS).

       PID    The process ID that was on-CPU when the event was issued. This may identify the cause of the flush
              (eg, the "sync" command), but will often identify a kernel worker thread that was managing I/O.

       COMM   The command name for the PID.

       DEVICE The md device name.

</pre><h4><b>OVERHEAD</b></h4><pre>
       Expected to be negligible.

</pre><h4><b>SOURCE</b></h4><pre>
       This is from bpftrace.

              https://github.com/bpftrace/bpftrace

       Also  look  in  the  bpftrace  distribution  for a companion _examples.txt file containing example usage,
       output, and commentary for this tool.

       This is a bpftrace version of the bcc tool of the same name. The bcc tool may provide  more  options  and
       customizations.

              https://github.com/iovisor/bcc

</pre><h4><b>OS</b></h4><pre>
       Linux

</pre><h4><b>STABILITY</b></h4><pre>
       Unstable - in development.

</pre><h4><b>AUTHOR</b></h4><pre>
       Brendan Gregg

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <a href="../man8/biosnoop.bt.8.html">biosnoop.bt</a>(8)

USER COMMANDS                                      2018-09-07                                      <u><a href="../man8/mdflush.bt.8.html">mdflush.bt</a></u>(8)
</pre>
 </div>
</div></section>
</div>
</body>
</html>