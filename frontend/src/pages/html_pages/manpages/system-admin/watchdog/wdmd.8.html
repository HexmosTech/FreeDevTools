<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>wdmd - watchdog multiplexing daemon</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/sanlock">sanlock_3.9.5-1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       wdmd - watchdog multiplexing daemon

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>wdmd</b> [OPTIONS]

</pre><h4><b>DESCRIPTION</b></h4><pre>
       This  daemon  opens  /dev/watchdog  and  allows  multiple  independent sources to detmermine whether each
       KEEPALIVE is done.  Every test interval (default 10 seconds), the daemon tests each source.  If any  test
       fails, the KEEPALIVE is not done.  In the default configuration, the watchdog timer will reset the system
       if  no  KEEPALIVE  is  done  for 60 seconds ("fire timeout").  This means that if a single test fails 5-6
       times in row, the watchdog will fire and reset the system.  With multiple test  sources,  fewer  separate
       failures back to back can also cause a reset, e.g.

       T seconds, P pass, F fail
       T00: test1 P, test2 P, test3 P: KEEPALIVE done
       T10: test1 F, test2 F, test3 P: KEEPALIVE skipped
       T20: test1 F, test2 P, test3 P: KEEPALIVE skipped
       T30: test1 P, test2 F, test3 P: KEEPALIVE skipped
       T40: test1 P, test2 P, test3 F: KEEPALIVE skipped
       T50: test1 F, test2 F, test3 P: KEEPALIVE skipped
       T60: test1 P, test2 F, test3 P: KEEPALIVE skipped
       T60: watchdog fires, system resets

       (Depending  on  timings,  the system may be reset sometime shortly before T60, and the tests at T60 would
       not be run.)

       A crucial aspect to the design and function of wdmd is that if any single source does not pass  the  test
       for  the  length  of  the  fire  timeout, the watchdog is guaranteed to fire, regardless of whether other
       sources on the system have passed or failed.  A spurious reset due to the combined  effects  of  multiple
       failing tests as shown above, is an accepted side effect.

       The wdmd init script will load the softdog module if no other watchdog module has been loaded.

       wdmd  cannot  be  used  on  the  system  with  any  other  program that needs to open /dev/watchdog, e.g.
       <a href="../man8/watchdog.8.html">watchdog</a>(8).

   <b>Test</b> <b>Source:</b> <b>clients</b>
       Using libwdmd, programs connect to wdmd via a unix socket, and send regular messages to wdmd to update an
       expiry time for their connection.  Every test interval,  wdmd  will  check  if  the  expiry  time  for  a
       connection has been reached.  If so, the test for that client fails.

   <b>Test</b> <b>Source:</b> <b>scripts</b>
       wdmd  will  run  scripts  from a designated directory every test interval.  If a script exits with 0, the
       test is considered a success, otherwise a failure.  If a script does not exit by  the  end  of  the  test
       interval, it is considered a failure.

</pre><h4><b>OPTIONS</b></h4><pre>
       <b>--version,</b> <b>-V</b>
                Print version.

       <b>--help,</b> <b>-h</b>
                Print usage.

       <b>--dump,</b> <b>-d</b>
                Print debug information from the daemon.

       <b>--probe,</b> <b>-p</b>
                Print path of functional watchdog device.  Exit code 0 indicates a
                functional device was found.  Exit code 1 indicates a functional device
                was not found.

       <b>-D</b>
                Enable debugging to stderr and don't fork.

       <b>-H</b> <u>0|1</u>
                Enable (1) or disable (0) high priority features such as realtime
                scheduling priority and mlockall.

       <b>-G</b> <u>name</u>
                Group ownership for the socket.

       <b>-S</b> <u>0|1</u>
                Enable (1) or disable (0) script tests.

       <b>-s</b> <u>path</u>
                Path to scripts dir.

       <b>-k</b> <u>num</u>
                Kill unfinished scripts after num seconds.

       <b>-w</b> <u>path</u>
                The path to the watchdog device to try first.

       <b>--trytimeout,</b> <b>-t</b> <u>seconds</u>
                Set the timeout for the watchdog device.  Use this to check for supported
                timeout values.

       <b>--forcefire,</b> <b>-F</b>
                Force the watchdog to fire and reset the machine.  Use with -t.

                                                   2011-08-01                                            <u><a href="../man8/WDMD.8.html">WDMD</a></u>(8)
</pre>
 </div>
</div></section>
</div>
</body>
</html>