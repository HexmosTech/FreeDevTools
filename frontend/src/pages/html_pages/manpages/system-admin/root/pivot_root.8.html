<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>pivot_root - change the root filesystem</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/util-linux">util-linux_2.41-4ubuntu3_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       pivot_root - change the root filesystem

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>pivot_root</b> <u>new_root</u> <u>put_old</u>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>pivot_root</b> moves the root file system of the current process to the directory <u>put_old</u> and makes <u>new_root</u>
       the new root file system. Since <b><a href="../man8/pivot_root.8.html">pivot_root</a></b>(8) simply calls <b><a href="../man2/pivot_root.2.html">pivot_root</a></b>(2), we refer to the man page of the
       latter for further details.

       Note that, depending on the implementation of <b>pivot_root</b>, root and current working directory of the
       caller may or may not change. The following is a sequence for invoking <b>pivot_root</b> that works in either
       case, assuming that <b>pivot_root</b> and <b>chroot</b> are in the current <b>PATH</b>:

           cd new_root
           pivot_root . put_old
           exec chroot . command

       Note that <b>chroot</b> must be available under the old root and under the new root, because <b>pivot_root</b> may or
       may not have implicitly changed the root directory of the shell.

       Note that <b>exec</b> <b>chroot</b> changes the running executable, which is necessary if the old root directory should
       be unmounted afterwards. Also note that standard input, output, and error may still point to a device on
       the old root file system, keeping it busy. They can easily be changed when invoking <b>chroot</b> (see below;
       note the absence of leading slashes to make it work whether <b>pivot_root</b> has changed the shellâ€™s root or
       not).

</pre><h4><b>OPTIONS</b></h4><pre>
       <b>-h</b>, <b>--help</b>
           Display help text and exit.

       <b>-V</b>, <b>--version</b>
           Display version and exit.

</pre><h4><b>EXAMPLE</b></h4><pre>
       Change the root file system to <u>/dev/hda1</u> from an interactive shell:

           mount /dev/hda1 /new-root
           cd /new-root
           pivot_root . old-root
           exec chroot . sh &lt;dev/console &gt;dev/console 2&gt;&amp;1
           umount /old-root

       Mount the new root file system over NFS from 10.0.0.1:/my_root and run <b>init</b>:

           ifconfig lo 127.0.0.1 up   # for portmap
           # configure Ethernet or such
           portmap   # for lockd (implicitly started by mount)
           mount -o ro 10.0.0.1:/my_root <a href="file:/mnt">/mnt</a>
           killall portmap   # portmap keeps old root busy
           cd <a href="file:/mnt">/mnt</a>
           pivot_root . old_root
           exec chroot . sh -c 'umount /old_root; exec <a href="file:/sbin/init">/sbin/init</a>' \
             &lt;dev/console &gt;dev/console 2&gt;&amp;1

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man1/chroot.1.html">chroot</a></b>(1), <b><a href="../man2/pivot_root.2.html">pivot_root</a></b>(2), <b><a href="../man8/mount.8.html">mount</a></b>(8), <b><a href="../man8/switch_root.8.html">switch_root</a></b>(8), <b><a href="../man8/umount.8.html">umount</a></b>(8)

</pre><h4><b>REPORTING</b> <b>BUGS</b></h4><pre>
       For bug reports, use the issue tracker &lt;https://github.com/util-linux/util-linux/issues&gt;.

</pre><h4><b>AVAILABILITY</b></h4><pre>
       The <b>pivot_root</b> command is part of the util-linux package which can be downloaded from Linux Kernel
       Archive &lt;https://www.kernel.org/pub/linux/utils/util-linux/&gt;.

util-linux 2.41                                    2025-02-26                                      <u><a href="../man8/PIVOT_ROOT.8.html">PIVOT_ROOT</a></u>(8)
</pre>
 </div>
</div></section>
</div>
</body>
</html>