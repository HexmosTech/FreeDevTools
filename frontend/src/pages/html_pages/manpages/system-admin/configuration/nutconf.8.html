<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>nutconf - NUT configuration tool</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/nut-client">nut-client_2.8.3-2_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       nutconf - NUT configuration tool

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>nutconf</b> --help

       <b>nutconf</b> [<u>OPTIONS</u>]

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>nutconf</b> tool is used to create and manipulate NUT configuration files. It also supports device scanning
       (to suggest configuration of devices).

</pre><h4><b>INSTALLATION</b></h4><pre>
       The scanning feature depends on the very same compile time and run time dependencies as the <b>nut-scanner</b>.

</pre><h4><b>OPTIONS</b></h4><pre>
       <b>-h</b> | <b>-help</b> | <b>--help</b>
           Display the help text.

       <b>-v</b> | <b>--verbose</b>
           Increase output verbosity (may be used multiple times).

       <b>--is-configured</b>
           Checks whether NUT was configured, before.

       <b>--system</b>
           System configuration directory shall be used.

       <b>--local</b> <u>directory</u>
           Sets alternative configuration directory.

       <b>--get-mode</b>
           Prints current NUT configuration mode

       <b>--set-mode</b> <u>mode</u>
           Sets NUT configuration mode.

           Known modes are:

           •   standalone

           •   netserver

           •   netclient

           •   controlled

           •   manual

           •   none

</pre><h4><b>CONFIGURATION</b> <b>ENTRY</b> <b>SET/ADD</b> <b>OPTIONS</b></h4><pre>
       These options mostly have 2 forms: <u>--set-...</u> or <u>--add-...</u>.

       The difference is that the set options discard previous settings while the add options keep them.

       Note that such options may be specified multiple times for one run (to enable setting multiple entries at
       once).

       <b>--set-monitor</b> | <b>--add-monitor</b> <u>&lt;arguments&gt;</u>
           Sets/adds a NUT monitor.

           •   Arguments:

                   '&lt;ups_ID&gt;' '&lt;host&gt;[:&lt;port&gt;]' '&lt;power_value&gt;' '&lt;user&gt;' '&lt;passwd&gt;' '(\"master\"|\"slave\")'

       <b>--set-listen</b> | <b>--add-listen</b> <u>&lt;address&gt;</u> <u>[&lt;port&gt;]</u>
           Sets/adds <b><a href="../man8/upsd.8.html">upsd</a></b>(8) daemon listen address.

       <b>--set-device</b> | <b>--add-device</b> <u>&lt;arguments&gt;</u>
           Sets/adds a device (typically a UPS).

           •   Arguments:

                   '&lt;ups_ID&gt;' '&lt;driver&gt;' '&lt;port&gt;' '[&lt;attribute&gt;=&lt;value&gt;]*'

               The attribute/value pairs follow device configuration syntax. Devices may have very different
               configuration attributes depending on the driver. Exhaustive description of them is beyond this
               man page and may be found in NUT documentation.

       <b>--set-notifyflags</b> | <b>--add-notifyflags</b> <u>&lt;type&gt;</u> <u>&lt;flag&gt;+</u>
           Sets/adds notification flags for the notification type.

           •   Notification types are:

               •   <u>ONLINE</u> (mains is present)

               •   <u>ONBATT</u> (mains is gone)

               •   <u>LOWBATT</u> (remaining battery capacity is low)

               •   <u>FSD</u> (shutdown was forced)

               •   <u>COMMOK</u> (communication with device established)

               •   <u>COMMBAD</u> (lost communication with device)

               •   <u>SHUTDOWN</u> (system is going down, now)

               •   <u>REPLBATT</u> (UPS battery needs replacing)

               •   <u>NOCOMM</u> (device is unavailable)

               •   <u>NOPARENT</u> (upsmon parent process died, shutdown is impossible)

               •   <u>CAL</u> (calibration in progress)

               •   <u>NOTCAL</u> (calibration finished)

               •   <u>OFF</u> (UPS is administratively OFF or asleep, should wake up on command)

               •   <u>NOTOFF</u> (UPS is no longer administratively OFF or asleep)

               •   <u>BYPASS</u> (on bypass = powered, not protecting)

               •   <u>NOTBYPASS</u> (no longer on bypass)

               •   <u>ALARM</u> (UPS is in an alarm state (has active alarms))

               •   <u>NOTALARM</u> (UPS is no longer in an alarm state (no active alarms))

               •   <u>OVER</u> (overloaded)

               •   <u>NOTOVER</u> (no longer overloaded)

               •   <u>TRIM</u> (trimming incoming voltage)

               •   <u>NOTTRIM</u> (no longer trimming incoming voltage)

               •   <u>BOOST</u> (boosting incoming voltage)

               •   <u>NOTBOOST</u> (no longer boosting incoming voltage)

               •   <u>OTHER</u> (UPS has at least one unclassified status token)

               •   <u>NOTOTHER</u> (UPS has no unclassified status tokens anymore)

               •   <u>SUSPEND_STARTING</u> (OS is entering sleep/suspend/hibernate mode)

               •   <u>SUSPEND_FINISHED</u> (OS just finished sleep/suspend/hibernate mode)

           •   Notification flags:

               •   <u>SYSLOG</u> (use syslogd to log the notification)

               •   <u>WALL</u> (push a message to users' terminals)

               •   <u>EXEC</u> (execute a command)

               •   <u>IGNORE</u> (don’t act)

       <b>--set-notifymsg</b> <u>&lt;type&gt;</u> <u>&lt;message&gt;</u>
           Sets message for the specified notification type.

       <b>--set-shutdowncmd</b> <u>&lt;command&gt;</u>
           Sets command used to shut the system down.

       <b>--set-user</b> | <b>--add-user</b> <u>&lt;arguments&gt;</u>
           Sets/adds NUT user.

           •   Arguments:

               •   <u>&lt;username&gt;</u> (specifies user name). For <u>upsmon</u> user, it has a special form of
                   upsmon=(primary|master|secondary|slave) which specifies the monitoring mode.

               •   <u>password=&lt;passwd&gt;</u> sets password for the user

               •   <u>actions=&lt;actions&gt;</u> sets actions (<u>SET</u>, <u>FSD</u> are supported)

               •   <u>instcmds=&lt;command&gt;</u> sets instant commands allowed for the user (may be used multiple times)

</pre><h4><b>SCANNING</b> <b>OPTIONS</b></h4><pre>
       Availability of each scanning option depends on availability of various 3rd-party libraries both at
       compile time and run time.

       Run the tool with the <b>--help</b> option to check which of the <b>--scan-...</b> options are actually supported.

       All timeouts are in microseconds.

       <b>--scan-snmp</b> <u>&lt;start</u> <u>IP&gt;</u> <u>&lt;stop</u> <u>IP&gt;</u> <u>[&lt;attribute&gt;=&lt;value&gt;]*</u>
           Scans for SNMP devices on IP addresses from the specified range.

           •   Known attributes are:

               •   <u>timeout</u> device scan timeout

               •   <u>community</u> SNMP community (default: <b>public</b>)

               •   <u>sec-level</u> security level (SNMPv3); one of <b>noAuthNoPriv</b> <b>authNoPriv</b>, <b>authPriv</b>

               •   <u>sec-name</u> security name (SNMPv3); mandatory companion of <b>sec-level</b>

               •   <u>auth-password</u> authentication password (SNMPv3); mandatory for <b>authNoPriv</b> and <b>authPriv</b>

               •   <u>priv-password</u> privacy password (SNMPv3); mandatory for <b>authPriv</b>

               •   <u>auth-protocol</u> authentication protocol (SNMPv3): <b>MD5</b> or <b>SHA</b>, <b>MD5</b> is the default

               •   <u>priv-protocol</u> priv. protocol (SNMPv3): <b>DES</b> or <b>AES</b>, <b>DES</b> is the default

               •   <u>peer-name</u> peer name

       <b>--scan-usb</b>
           Scans the USB bus for known devices

       <b>--scan-xml-http</b> <u>[&lt;timeout&gt;]</u>
           Scans for XML/HTTP devices on the network.

       <b>--scan-nut</b> <u>&lt;start</u> <u>IP&gt;</u> <u>&lt;stop</u> <u>IP&gt;</u> <u>&lt;port&gt;</u> <u>[&lt;timeout&gt;]</u>
           Scans for NUT (pseudo-)devices on the network.

       <b>--scan-avahi</b> <u>[&lt;timeout&gt;]</u>
           Scans for Avahi devices.

       <b>--scan-ipmi</b> <u>&lt;start</u> <u>IP&gt;</u> <u>&lt;stop</u> <u>IP&gt;</u> <u>[&lt;attribute&gt;=&lt;value&gt;]</u>*
           Scans for IPMI devices on IP addresses from the specified range.

           •   Known attributes are:

               •   <u>username</u> username (mandatory for IPMI/LAN)

               •   <u>password</u> user password (mandatory for IPMI/LAN)

               •   <u>auth-type</u> authentication type (see below)

               •   <u>cipher-suite-id</u> cipher suite ID (see below)

               •   <u>K-g-BMC-key</u> optional second key (???)

               •   <u>priv-level</u> priv. level

               •   <u>workaround-flags</u>

               •   <u>version</u> (1.5 or 2.0)

           •   Authentication types:

               Specifies the IPMI 1.5 authentication type to use (NONE, STRAIGHT_PASSWORD_KEY, MD2, and MD5)
               with the remote host (default=MD5). This forces connection through the <u>lan</u> IPMI interface, thus
               in IPMI 1.5 mode.

               •   <u>none</u> (authentication is disabled)

               •   <u>MD2</u>

               •   <u>MD5</u> (default)

               •   <u>plain-password</u> (no ciphering used for password sending)

               •   <u>OEM</u>

               •   <u>RMCPplus</u>

           •   Cipher suite IDs:

               Specifies the IPMI 2.0 cipher suite ID to use.

               The Cipher Suite ID identifies a set of authentication, integrity, and confidentiality algorithms
               to use for IPMI 2.0 communication.

               The authentication algorithm identifies the algorithm to use for session setup, the integrity
               algorithm identifies the algorithm to use for session packet signatures, and the confidentiality
               algorithm identifies the algorithm to use for payload encryption (default=3).

               The following cipher suite IDs are currently supported:
               ┌──────┬────────────────┬─────────────────┬─────────────────┐
               │ <b>Code</b> │ <b>Authentication</b> │ <b>Integrity</b>       │ <b>Confidentiality</b> │
               ├──────┼────────────────┼─────────────────┼─────────────────┤
               │ <u>0</u>    │ None           │ None            │ None            │
               ├──────┼────────────────┼─────────────────┼─────────────────┤
               │ <u>1</u>    │ HMAC-SHA1      │ None            │ None            │
               ├──────┼────────────────┼─────────────────┼─────────────────┤
               │ <u>2</u>    │ HMAC-SHA1      │ HMAC-SHA1-96    │ None            │
               ├──────┼────────────────┼─────────────────┼─────────────────┤
               │ <u>3</u>    │ HMAC-SHA1      │ HMAC-SHA1-96    │ AES-CBC-128     │
               ├──────┼────────────────┼─────────────────┼─────────────────┤
               │ <u>6</u>    │ HMAC-MD5       │ None            │ None            │
               ├──────┼────────────────┼─────────────────┼─────────────────┤
               │ <u>7</u>    │ HMAC-MD5       │ HMAC-MD5-128    │ None            │
               ├──────┼────────────────┼─────────────────┼─────────────────┤
               │ <u>8</u>    │ HMAC-MD5       │ HMAC-MD5-128    │ AES-CBC-128     │
               ├──────┼────────────────┼─────────────────┼─────────────────┤
               │ <u>11</u>   │ HMAC-MD5       │ MD5-128         │ None            │
               ├──────┼────────────────┼─────────────────┼─────────────────┤
               │ <u>12</u>   │ HMAC-MD5       │ MD5-128         │ AES-CBC-128     │
               ├──────┼────────────────┼─────────────────┼─────────────────┤
               │ <u>15</u>   │ HMAC-SHA256    │ None            │ None            │
               ├──────┼────────────────┼─────────────────┼─────────────────┤
               │ <u>16</u>   │ HMAC-SHA256    │ HMAC_SHA256_128 │ None            │
               ├──────┼────────────────┼─────────────────┼─────────────────┤
               │ <u>17</u>   │ HMAC-SHA256    │ HMAC_SHA256_128 │ AES-CBC-128     │
               └──────┴────────────────┴─────────────────┴─────────────────┘

       <b>--scan-serial</b> <u>&lt;port&gt;</u>*
           Scans for serial devices (of supported types) on the specified serial port(s).

</pre><h4><b>EXAMPLES</b></h4><pre>
       To set alternative directory for configuration files:

           :; nutconf --local <a href="file:~/test/nut/etc">~/test/nut/etc</a>

       To add another user (keeping the existing ones):

           :; nutconf --add-user bart password=qwerty

       To scan USB devices and serial devices (on the first two ports):

           :; nutconf --scan-usb --scan-serial /dev/ttyS1 /dev/ttyS2

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man5/ups.conf.5.html">ups.conf</a></b>(5) <b><a href="../man8/nut-scanner.8.html">nut-scanner</a></b>(8)

</pre><h4><b>INTERNET</b> <b>RESOURCES</b></h4><pre>
       The NUT (Network UPS Tools) home page: <a href="http://www.networkupstools.org/">http://www.networkupstools.org/</a>

Network UPS Tools 2.8.3                            07/08/2025                                         <u><a href="../man8/NUTCONF.8.html">NUTCONF</a></u>(8)
</pre>
 </div>
</div></section>
</div>
</body>
</html>