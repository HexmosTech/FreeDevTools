<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>samba-tool - Main Samba administration tool.</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/python3-samba">python3-samba_4.22.3+dfsg-4ubuntu1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       samba-tool - Main Samba administration tool.

</pre><h4><b>SYNOPSIS</b></h4><pre>

       samba-tool [-h] [-W myworkgroup] [-U user] [-d debuglevel] [--v]

</pre><h4><b>DESCRIPTION</b></h4><pre>
       This tool is part of the <b><a href="../man7/samba.7.html">samba</a></b>(7) suite.

</pre><h4><b>OPTIONS</b></h4><pre>
       -h|--help
           Show this help message and exit

       -r|--realm=REALM
           Set the realm for the domain.

           Note that specifying this parameter here will override the <b>realm</b> parameter in the /etc/samba/smb.conf
           file.

       --simple-bind-dn=DN
           DN to use for a simple bind.

       --password
           Specify the password on the commandline.

           Be cautious about including passwords in scripts or passing user-supplied values onto the command
           line. For security it is better to let the Samba client tool ask for the password if needed, or
           obtain the password once with kinit.

           If --password is not specified, the tool will check the <b>PASSWD</b> environment variable, followed by
           <b>PASSWD_FD</b> which is expected to contain an open file descriptor (FD) number.

           Finally it will check <b>PASSWD_FILE</b> (containing a file path to be opened). The file should only contain
           the password. Make certain that the permissions on the file restrict access from unwanted users!

           While Samba will attempt to scrub the password from the process title (as seen in ps), this is after
           startup and so is subject to a race.

       -U|--user=[DOMAIN\]USERNAME[%PASSWORD]
           Sets the SMB username or username and password.

           If %PASSWORD is not specified, the user will be prompted. The client will first check the <b>USER</b>
           environment variable (which is also permitted to also contain the password separated by a %), then
           the <b>LOGNAME</b> variable (which is not permitted to contain a password) and if either exists, the value
           is used. If these environmental variables are not found, the username found in a Kerberos Credentials
           cache may be used.

           A third option is to use a credentials file which contains the plaintext of the username and
           password. This option is mainly provided for scripts where the admin does not wish to pass the
           credentials on the command line or via environment variables. If this method is used, make certain
           that the permissions on the file restrict access from unwanted users. See the <u>-A</u> for more details.

           Be cautious about including passwords in scripts or passing user-supplied values onto the command
           line. For security it is better to let the Samba client tool ask for the password if needed, or
           obtain the password once with kinit.

           While Samba will attempt to scrub the password from the process title (as seen in ps), this is after
           startup and so is subject to a race.

       -W|--workgroup=WORKGROUP
           Set the SMB domain of the username. This overrides the default domain which is the domain defined in
           smb.conf. If the domain specified is the same as the servers NetBIOS name, it causes the client to
           log on using the servers local SAM (as opposed to the Domain SAM).

           Note that specifying this parameter here will override the <b>workgroup</b> parameter in the
           /etc/samba/smb.conf file.

       -N|--no-pass
           If specified, this parameter suppresses the normal password prompt from the client to the user. This
           is useful when accessing a service that does not require a password.

           Unless a password is specified on the command line or this parameter is specified, the client will
           request a password.

           If a password is specified on the command line and this option is also defined the password on the
           command line will be silently ignored and no password will be used.

       --use-kerberos=desired|required|off
           This parameter determines whether Samba client tools will try to authenticate using Kerberos. For
           Kerberos authentication you need to use dns names instead of IP addresses when connecting to a
           service.

           Note that specifying this parameter here will override the <b>client</b> <b>use</b> <b>kerberos</b> parameter in the
           /etc/samba/smb.conf file.

       --use-krb5-ccache=CCACHE
           Specifies the credential cache location for Kerberos authentication.

           This will set --use-kerberos=required too.

       -A|--authentication-file=filename
           This option allows you to specify a file from which to read the username and password used in the
           connection. The format of the file is:

                                   username = &lt;value&gt;
                                   password = &lt;value&gt;
                                   domain   = &lt;value&gt;

           Make certain that the permissions on the file restrict access from unwanted users!

       --ipaddress=IPADDRESS
           IP address of the server

       --color=always|never|auto
           Indicate whether samba-tool should use ANSI colour codes in its output. If 'auto' (the default),
           samba-tool will use colour when its output is directed toward a terminal, unless the NO_COLOR
           environment variable is set and non-empty.

           The values 'yes' and 'force' are accepted as synonyms for 'always'; 'no' and 'none' for 'never'; and
           'tty' and 'if-tty' for 'auto'.

           Note that asking for colour doesn't mean samba-tool will necessarily be very colourful. Many commands
           are very monochrome, particularly when successful.

       -d|--debuglevel=level
           <u>level</u> is an integer from 0 to 10. The default value if this parameter is not specified is 1 for
           client applications.

           The higher this value, the more detail will be logged to the log files about the activities of the
           server. At level 0, only critical errors and serious warnings will be logged. Level 1 is a reasonable
           level for day-to-day running - it generates a small amount of information about operations carried
           out.

           Levels above 1 will generate considerable amounts of log data, and should only be used when
           investigating a problem. Levels above 3 are designed for use only by developers and generate HUGE
           amounts of log data, most of which is extremely cryptic.

           Note that specifying this parameter here will override the <b>log</b> <b>level</b> parameter in the
           /etc/samba/smb.conf file.

       --debug-stdout
           This will redirect debug output to STDOUT. By default all clients are logging to STDERR.

</pre><h4><b>COMMANDS</b></h4><pre>
   <b>computer</b>
       Manage computer accounts.

   <b>computer</b> <b>add</b> <b>computername</b> <b>[options]</b>
       Add a new computer to the Active Directory Domain.

       The new computer name specified on the command is the sAMAccountName, with or without the trailing dollar
       sign.

       --computerou=COMPUTEROU
           DN of alternative location (with or without domainDN counterpart) to default CN=Computers in which
           new computer object will be created. E.g. 'OU=OUname'.

       --description=DESCRIPTION
           The new computer's description.

       --ip-address=IP_ADDRESS_LIST
           IPv4 address for the computer's A record, or IPv6 address for AAAA record, can be provided multiple
           times.

       --service-principal-name=SERVICE_PRINCIPAL_NAME_LIST
           Computer's Service Principal Name, can be provided multiple times.

       --prepare-oldjoin
           Prepare enabled machine account for oldjoin mechanism.

   <b>computer</b> <b>create</b> <b>computername</b> <b>[options]</b>
       Add a new computer. This is a synonym for the samba-tool computer add command and is available for
       compatibility reasons only. Please use samba-tool computer add instead.

   <b>computer</b> <b>delete</b> <b>computername</b> <b>[options]</b>
       Delete an existing computer account.

       The computer name specified on the command is the sAMAccountName, with or without the trailing dollar
       sign.

   <b>computer</b> <b>edit</b> <b>computername</b>
       Edit a computer AD object.

       The computer name specified on the command is the sAMAccountName, with or without the trailing dollar
       sign.

       --editor=EDITOR
           Specifies the editor to use instead of the system default, or 'vi' if no system default is set.

   <b>computer</b> <b>list</b>
       List all computers.

   <b>computer</b> <b>move</b> <b>computername</b> <b>new_parent_dn</b> <b>[options]</b>
       This command moves a computer account into the specified organizational unit or container.

       The computername specified on the command is the sAMAccountName, with or without the trailing dollar
       sign.

       The name of the organizational unit or container can be specified as a full DN or without the domainDN
       component.

   <b>computer</b> <b>show</b> <b>computername</b> <b>[options]</b>
       Display a computer AD object.

       The computer name specified on the command is the sAMAccountName, with or without the trailing dollar
       sign.

       --attributes=USER_ATTRS
           Comma separated list of attributes, which will be printed.

   <b>contact</b>
       Manage contacts.

   <b>contact</b> <b>add</b> <b>[contactname]</b> <b>[options]</b>
       Add a new contact to the Active Directory Domain.

       The name of the new contact can be specified by the first argument 'contactname' or the --given-name,
       --initial and --surname arguments. If no 'contactname' is given, contact's name will be made up of the
       given arguments by combining the given-name, initials and surname. Each argument is optional. A dot ('.')
       will be appended to the initials automatically.

       --ou=OU
           DN of alternative location (with or without domainDN counterpart) in which the new contact will be
           created. E.g. 'OU=OUname'. Default is the domain base.

       --description=DESCRIPTION
           The new contact's description.

       --surname=SURNAME
           Contact's surname.

       --given-name=GIVEN_NAME
           Contact's given name.

       --initials=INITIALS
           Contact's initials.

       --display-name=DISPLAY_NAME
           Contact's display name.

       --job-title=JOB_TITLE
           Contact's job title.

       --department=DEPARTMENT
           Contact's department.

       --company=COMPANY
           Contact's company.

       --mail-address=MAIL_ADDRESS
           Contact's email address.

       --internet-address=INTERNET_ADDRESS
           Contact's home page.

       --telephone-number=TELEPHONE_NUMBER
           Contact's phone number.

       --mobile-number=MOBILE_NUMBER
           Contact's mobile phone number.

       --physical-delivery-office=PHYSICAL_DELIVERY_OFFICE
           Contact's office location.

   <b>contact</b> <b>create</b> <b>[contactname]</b> <b>[options]</b>
       Add a new contact. This is a synonym for the samba-tool contact add command and is available for
       compatibility reasons only. Please use samba-tool contact add instead.

   <b>contact</b> <b>delete</b> <b>contactname</b> <b>[options]</b>
       Delete an existing contact.

       The contactname specified on the command is the common name or the distinguished name of the contact
       object. The distinguished name of the contact can be specified with or without the domainDN component.

   <b>contact</b> <b>edit</b> <b>contactname</b>
       Modify a contact AD object.

       The contactname specified on the command is the common name or the distinguished name of the contact
       object. The distinguished name of the contact can be specified with or without the domainDN component.

       --editor=EDITOR
           Specifies the editor to use instead of the system default, or 'vi' if no system default is set.

   <b>contact</b> <b>list</b> <b>[options]</b>
       List all contacts.

       --full-dn
           Display contact's full DN instead of the name.

   <b>contact</b> <b>move</b> <b>contactname</b> <b>new_parent_dn</b> <b>[options]</b>
       This command moves a contact into the specified organizational unit or container.

       The contactname specified on the command is the common name or the distinguished name of the contact
       object. The distinguished name of the contact can be specified with or without the domainDN component.

   <b>contact</b> <b>show</b> <b>contactname</b> <b>[options]</b>
       Display a contact AD object.

       The contactname specified on the command is the common name or the distinguished name of the contact
       object. The distinguished name of the contact can be specified with or without the domainDN component.

       --attributes=CONTACT_ATTRS
           Comma separated list of attributes, which will be printed.

   <b>contact</b> <b>rename</b> <b>contactname</b> <b>[options]</b>
       Rename a contact and related attributes.

       This command allows to set the contact's name related attributes. The contact's CN will be renamed
       automatically. The contact's new CN will be made up by combining the given-name, initials and surname. A
       dot ('.') will be appended to the initials automatically, if required. Use the --force-new-cn option to
       specify the new CN manually and --reset-cn to reset this change.

       Use an empty attribute value to remove the specified attribute.

       The contact name specified on the command is the CN.

       --surname=SURNAME
           New surname.

       --given-name=GIVEN_NAME
           New given name.

       --initials=INITIALS
           New initials.

       --force-new-cn=NEW_CN
           Specify a new CN (RDN) instead of using a combination of the given name, initials and surname.

       --reset-cn
           Set the CN to the default combination of given name, initials and surname.

       --display-name=DISPLAY_NAME
           New display name.

       --mail-address=MAIL_ADDRESS
           New email address.

   <b>dbcheck</b>
       Check the local AD database for errors.

   <b>delegation</b>
       Manage Delegations.

   <b>delegation</b> <b>add-service</b> <b>accountname</b> <b>principal</b> <b>[options]</b>
       Add a service principal as msDS-AllowedToDelegateTo.

   <b>delegation</b> <b>del-service</b> <b>accountname</b> <b>principal</b> <b>[options]</b>
       Delete a service principal as msDS-AllowedToDelegateTo.

   <b>delegation</b> <b>for-any-protocol</b> <b>accountname</b> <b>[(on|off)]</b> <b>[options]</b>
       Set/unset UF_TRUSTED_TO_AUTHENTICATE_FOR_DELEGATION (S4U2Proxy) for an account.

   <b>delegation</b> <b>for-any-service</b> <b>accountname</b> <b>[(on|off)]</b> <b>[options]</b>
       Set/unset UF_TRUSTED_FOR_DELEGATION for an account.

   <b>delegation</b> <b>show</b> <b>accountname</b> <b>[options]</b>
       Show the delegation setting of an account.

   <b>dns</b>
       Manage Domain Name Service (DNS).

   <b>dns</b> <b>add</b> <b>server</b> <b>zone</b> <b>name</b> <b>A|AAAA|PTR|CNAME|NS|MX|SRV|TXT</b> <b>data</b>
       Add a DNS record.

   <b>dns</b> <b>delete</b> <b>server</b> <b>zone</b> <b>name</b> <b>A|AAAA|PTR|CNAME|NS|MX|SRV|TXT</b> <b>data</b>
       Delete a DNS record.

   <b>dns</b> <b>query</b> <b>server</b> <b>zone</b> <b>name</b> <b>A|AAAA|PTR|CNAME|NS|MX|SRV|TXT|ALL</b> <b>[options]</b> <b>data</b>
       Query a name.

   <b>dns</b> <b>roothints</b> <b>server</b> <b>[name]</b> <b>[options]</b>
       Query root hints.

   <b>dns</b> <b>serverinfo</b> <b>server</b> <b>[options]</b>
       Query server information.

   <b>dns</b> <b>update</b> <b>server</b> <b>zone</b> <b>name</b> <b>A|AAAA|PTR|CNAME|NS|MX|SRV|TXT</b> <b>olddata</b> <b>newdata</b>
       Update a DNS record.

   <b>dns</b> <b>zonecreate</b> <b>server</b> <b>zone</b> <b>[options]</b>
       Create a zone.

   <b>dns</b> <b>zonedelete</b> <b>server</b> <b>zone</b> <b>[options]</b>
       Delete a zone.

   <b>dns</b> <b>zoneinfo</b> <b>server</b> <b>zone</b> <b>[options]</b>
       Query zone information.

   <b>dns</b> <b>zonelist</b> <b>server</b> <b>[options]</b>
       List zones.

   <b>domain</b>
       Manage Domain.

   <b>domain</b> <b>backup</b>
       Create or restore a backup of the domain.

   <b>domain</b> <b>backup</b> <b>offline</b>
       Backup (with proper locking) local domain directories into a tar file.

   <b>domain</b> <b>backup</b> <b>online</b>
       Copy a running DC's current DB into a backup tar file.

   <b>domain</b> <b>backup</b> <b>rename</b>
       Copy a running DC's DB to backup file, renaming the domain in the process.

   <b>domain</b> <b>backup</b> <b>restore</b>
       Restore the domain's DB from a backup-file.

   <b>domain</b> <b>auth</b> <b>policy</b>
       Manage authentication policies.

   <b>domain</b> <b>auth</b> <b>policy</b> <b>list</b>
       List authentication policies on the domain.

       -H, --URL
           LDB URL for database or target server.

       --json
           View authentication policies as JSON instead of a list.

   <b>domain</b> <b>auth</b> <b>policy</b> <b>view</b>
       View an authentication policy on the domain.

       -H, --URL
           LDB URL for database or target server.

       --name
           Name of the authentication policy to view (required).

   <b>domain</b> <b>auth</b> <b>policy</b> <b>create</b>
       Create authentication policies on the domain.

       -H, --URL
           LDB URL for database or target server.

       --name
           Name of the authentication policy (required).

       --description
           Optional description for the authentication policy.

       --protect
           Protect authentication policy from accidental deletion.

           Cannot be used together with --unprotect.

       --unprotect
           Unprotect authentication policy from accidental deletion.

           Cannot be used together with --protect.

       --audit
           Only audit authentication policy.

           Cannot be used together with --enforce.

       --enforce
           Enforce authentication policy.

           Cannot be used together with --audit.

       --strong-ntlm-policy
           Strong NTLM Policy (Disabled, Optional, Required).

       --user-tgt-lifetime-mins
           Ticket-Granting-Ticket lifetime for user accounts.

       --user-allow-ntlm-auth
           Allow <b>NTLM</b> and
            <b>Interactive</b> <b>NETLOGON</b> <b>SamLogon</b> authentication despite the fact that <b>allowed-to-authenticate-from</b> is
           in use, which would otherwise restrict the user to selected devices.

       --user-allowed-to-authenticate-from
           Conditions a device must meet for users covered by this policy to be allowed to authenticate. While
           this is a restriction on the device, any conditional ACE rules are expressed as if the device was a
           user.

           Must be a valid SDDL string without reference to Device keywords.

           Example: O:SYG:SYD:(XA;OICI;CR;;;WD;(Member_of {SID(AU)}))

       --user-allowed-to-authenticate-to=SDDL
           This policy, applying to a user account that is offering a service, eg a web server with a user
           account, restricts which accounts may access it.

           Must be a valid SDDL string. The SDDL can reference both bare (user) and Device conditions.

           SDDL Example: <b>O:SYG:SYD:(XA;OICI;CR;;;WD;(Member_of</b> <b>{SID(AO)}))</b>

       --service-tgt-lifetime-mins
           Ticket-Granting-Ticket lifetime for service accounts.

       --service-allow-ntlm-auth
           Allow NTLM network authentication when service is restricted to selected devices.

       --service-allowed-to-authenticate-from
           Conditions a device must meet for service accounts covered by this policy to be allowed to
           authenticate. While this is a restriction on the device, any conditional ACE rules are expressed as
           if the device was a user.

           Must be a valid SDDL string without reference to Device keywords.

           SDDL Example: <b>O:SYG:SYD:(XA;OICI;CR;;;WD;(Member_of</b> <b>{SID(AU)}))</b>

       --service-allowed-to-authenticate-to=SDDL
           This policy, applying to a service account (eg a Managed Service Account, Group Managed Service
           Account), restricts which accounts may access it.

           Must be a valid SDDL string. The SDDL can reference both bare (user) and Device conditions.

           SDDL Example: <b>O:SYG:SYD:(XA;OICI;CR;;;WD;(Member_of</b> <b>{SID(AO)}))</b>

       --computer-tgt-lifetime-mins
           Ticket-Granting-Ticket lifetime for computer accounts.

       --computer-allowed-to-authenticate-to=SDDL
           This policy, applying to a computer account (eg a server or workstation), restricts which accounts
           may access it.

           Must be a valid SDDL string. The SDDL can reference both bare (user) and Device conditions.

           SDDL Example: O:SYG:SYD:(XA;OICI;CR;;;WD;(Member_of {SID(AO)}))

   <b>domain</b> <b>auth</b> <b>policy</b> <b>modify</b>
       Modify authentication policies on the domain. The same options apply as for <b>domain</b> <b>auth</b> <b>policy</b> <b>create</b>.

   <b>domain</b> <b>auth</b> <b>policy</b> <b>delete</b>
       Delete authentication policies on the domain.

       -H, --URL
           LDB URL for database or target server.

       --name
           Name of authentication policy to delete (required).

       --force
           Force authentication policy delete even if it is protected.

   <b>domain</b> <b>auth</b> <b>policy</b> <b>user-allowed-to-authenticate-from</b> <b>set</b>
       Set the user-allowed-to-authenticate-from property by scenario.

       -H, --URL
           LDB URL for database or target server.

       --name
           Name of authentication policy.

       --by-group=GROUP
           User is allowed to authenticate, if the device they authenticate from is assigned and granted
           membership of a given <b>GROUP</b>.

       --silo=SILO
           User is allowed to authenticate, if the device they authenticate from is assigned and granted
           membership of a given <b>SILO</b>.

   <b>domain</b> <b>auth</b> <b>policy</b> <b>user-allowed-to-authenticate-to</b> <b>set</b>
       Set the user-allowed-to-authenticate-to property by scenario.

       -H, --URL
           LDB URL for database or target server.

       --name
           Name of authentication policy.

       --group=GROUP
           The user account, offering a network service, covered by this policy, will only be allowed access
           from other accounts that are members of the given <b>GROUP</b>.

       --silo=SILO
           The user account, offering a network service, covered by this policy, will only be allowed access
           from other accounts that are assigned to, granted membership of (and meet any authentication
           conditions of) the given <b>SILO</b>.

   <b>domain</b> <b>auth</b> <b>policy</b> <b>service-allowed-to-authenticate-from</b> <b>set</b>
       Set the service-allowed-to-authenticate-from property by scenario.

       -H, --URL
           LDB URL for database or target server.

       --name
           Name of authentication policy.

       --group=GROUP
           The service account (eg a Managed Service Account, Group Managed Service Account) is allowed to
           authenticate, if the device it authenticates from is a member of the given <b>GROUP</b>.

       --silo=SILO
           The service account (eg a Managed Service Account, Group Managed Service Account) is allowed to
           authenticate, if the device it authenticates from is assigned and granted membership of a given <b>SILO</b>.

   <b>domain</b> <b>auth</b> <b>policy</b> <b>service-allowed-to-authenticate-to</b> <b>set</b>
       Set the service-allowed-to-authenticate-to property by scenario.

       -H, --URL
           LDB URL for database or target server.

       --name
           Name of authentication policy.

       --group=GROUP
           The service account (eg a Managed Service Account, Group Managed Service Account), will only be
           allowed access by other accounts that are members of the given <b>GROUP</b>.

       --silo=SILO
           The service account (eg a Managed Service Account, Group Managed Service Account), will only be
           allowed access by other accounts that are assigned to, granted membership of (and meet any
           authentication conditions of) the given <b>SILO</b>.

   <b>domain</b> <b>auth</b> <b>policy</b> <b>computer-allowed-to-authenticate-to</b> <b>set</b>
       Set the computer-allowed-to-authenticate-to property by scenario.

       -H, --URL
           LDB URL for database or target server.

       --name
           Name of authentication policy.

       --group=GROUP
           The computer account (eg a server or workstation), will only be allowed access by other accounts that
           are members of the given <b>GROUP</b>.

       --silo=SILO
           The computer account (eg a server or workstation), will only be allowed access by other accounts that
           are assigned to, granted membership of (and meet any authentication conditions of) the given <b>SILO</b>.

   <b>domain</b> <b>auth</b> <b>silo</b>
       Manage authentication silos.

   <b>domain</b> <b>auth</b> <b>silo</b> <b>list</b>
       List authentication silos on the domain.

       -H, --URL
           LDB URL for database or target server.

       --json
           View authentication silos as JSON instead of a list.

   <b>domain</b> <b>auth</b> <b>silo</b> <b>view</b>
       View an authentication silo on the domain.

       -H, --URL
           LDB URL for database or target server.

       --name
           Name of the authentication silo to view (required).

   <b>domain</b> <b>auth</b> <b>silo</b> <b>create</b>
       Create authentication silos on the domain.

       -H, --URL
           LDB URL for database or target server.

       --name
           Name of the authentication silo (required).

       --description
           Optional description for the authentication silo.

       --user-authentication-policy
           User account authentication policy.

       --service-authentication-policy
           Managed service account authentication policy.

       --computer-authentication-policy
           Computer authentication policy.

       --protect
           Protect authentication silo from accidental deletion.

           Cannot be used together with --unprotect.

       --unprotect
           Unprotect authentication silo from accidental deletion.

           Cannot be used together with --protect.

       --audit
           Only audit silo policies.

           Cannot be used together with --enforce.

       --enforce
           Enforce silo policies.

           Cannot be used together with --audit.

   <b>domain</b> <b>auth</b> <b>silo</b> <b>modify</b>
       Modify authentication silos on the domain.

       -H, --URL
           LDB URL for database or target server.

       --name
           Name of the authentication silo (required).

       --description
           Optional description for the authentication silo.

       --user-authentication-policy
           User account authentication policy.

       --service-authentication-policy
           Managed service account authentication policy.

       --computer-authentication-policy
           Computer authentication policy.

       --protect
           Protect authentication silo from accidental deletion.

           Cannot be used together with --unprotect.

       --unprotect
           Unprotect authentication silo from accidental deletion.

           Cannot be used together with --protect.

       --audit
           Only audit silo policies.

           Cannot be used together with --enforce.

       --enforce
           Enforce silo policies.

           Cannot be used together with --audit.

   <b>domain</b> <b>auth</b> <b>silo</b> <b>delete</b>
       Delete authentication silos on the domain.

       -H, --URL
           LDB URL for database or target server.

       --name
           Name of authentication silo to delete (required).

       --force
           Force authentication silo delete even if it is protected.

   <b>domain</b> <b>auth</b> <b>silo</b> <b>member</b> <b>grant</b>
       Grant a member access to an authentication silo.

       -H, --URL
           LDB URL for database or target server.

       --name
           Name of authentication silo (required).

       --member
           Member to grant access to the silo (DN or account name).

   <b>domain</b> <b>auth</b> <b>silo</b> <b>member</b> <b>list</b>
       List members in an authentication silo.

       -H, --URL
           LDB URL for database or target server.

       --name
           Name of authentication silo (required).

       --json
           View members as JSON instead of a list.

   <b>domain</b> <b>auth</b> <b>silo</b> <b>member</b> <b>revoke</b>
       Revoke a member from an authentication silo.

       -H, --URL
           LDB URL for database or target server.

       --name
           Name of authentication silo (required).

       --member
           Member to revoke from the silo (DN or account name).

   <b>domain</b> <b>claim</b> <b>claim-type</b> <b>list</b>
       List claim types on the domain.

       -H, --URL
           LDB URL for database or target server.

       --json
           View claim types as JSON instead of a list.

   <b>domain</b> <b>claim</b> <b>claim-type</b> <b>view</b>
       View a single claim type on the domain.

       -H, --URL
           LDB URL for database or target server.

       --name
           Display name of claim type to view (required).

   <b>domain</b> <b>claim</b> <b>claim-type</b> <b>create</b>
       Create claim types on the domain.

       -H, --URL
           LDB URL for database or target server.

       --attribute
           Attribute of claim type to create (required).

       --class
           Object classes to set claim type to.

           Example: --class=user --class=computer

       --name
           Optional display name or use attribute name.

       --description
           Optional description or use from attribute.

       --enable
           Enable claim type.

           Cannot be used together with --disable.

       --disable
           Disable claim type.

           Cannot be used together with --enable.

       --protect
           Protect claim type from accidental deletion.

           Cannot be used together with --unprotect.

       --unprotect
           Unprotect claim type from accidental deletion.

           Cannot be used together with --protect.

   <b>domain</b> <b>claim</b> <b>claim-type</b> <b>modify</b>
       Modify claim types on the domain.

       -H, --URL
           LDB URL for database or target server.

       --name
           Display name of claim type to modify (required).

       --class
           Object classes to set claim type to.

           Example: --class=user --class=computer

       --description
           Set the claim type description.

       --enable
           Enable claim type.

           Cannot be used together with --disable.

       --disable
           Disable claim type.

           Cannot be used together with --enable.

       --protect
           Protect claim type from accidental deletion.

           Cannot be used together with --unprotect.

       --unprotect
           Unprotect claim type from accidental deletion.

           Cannot be used together with --protect.

   <b>domain</b> <b>claim</b> <b>claim-type</b> <b>delete</b>
       Delete claim types on the domain.

       -H, --URL
           LDB URL for database or target server.

       --name
           Display name of claim type to delete (required).

       --force
           Force claim type delete even if it is protected.

   <b>domain</b> <b>claim</b> <b>value-type</b> <b>list</b>
       List claim value types on the domain.

       -H, --URL
           LDB URL for database or target server.

       --json
           View claim value types as JSON instead of a list.

   <b>domain</b> <b>claim</b> <b>value-type</b> <b>view</b>
       View a single claim value type on the domain.

       -H, --URL
           LDB URL for database or target server.

       --name
           Display name of claim value type to view (required).

   <b>service-account</b>
       Service account management.

   <b>service-account</b> <b>list</b>
       List service accounts on the domain.

       -H, --URL
           LDB URL for database or target server.

       --json
           View service accounts as JSON instead of a list.

   <b>service-account</b> <b>view</b>
       View a single service account on the domain.

       -H, --URL
           LDB URL for database or target server.

       --name
           Account name of service account to view (required).

   <b>service-account</b> <b>create</b>
       Create a new service account on the domain.

       -H, --URL
           LDB URL for database or target server.

       --name
           Account name of service account (required).

       --dns-host-name
           DNS hostname of this service account (required).

       --group-msa-membership
           Optional Group MSA Membership SDDL.

       --managed-password-interval
           Managed password refresh interval in days.

   <b>service-account</b> <b>modify</b>
       Modify an existing service account on the domain.

       -H, --URL
           LDB URL for database or target server.

       --name
           Account name of service account (required).

       --dns-host-name
           Update DNS hostname of this service account.

       --group-msa-membership
           Update Group MSA Membership SDDL.

   <b>service-account</b> <b>delete</b>
       Delete a service accounts on the domain.

       -H, --URL
           LDB URL for database or target server.

       --name
           Account name of service account to delete.

   <b>service-account</b> <b>group-msa-membership</b>
       Service account Group MSA Membership management.

   <b>service-account</b> <b>group-msa-membership</b> <b>show</b>
       Display Group MSA Membership for a service account.

       -H, --URL
           LDB URL for database or target server.

       --name
           Account name of service account (required).

       --json
           Return as JSON instead of a list.

   <b>service-account</b> <b>group-msa-membership</b> <b>add</b>
       Add a principal to Group MSA Membership for a service account.

       -H, --URL
           LDB URL for database or target server.

       --name
           Account name of service account (required).

       --principal
           Name, DN or SID of principal to add.

   <b>service-account</b> <b>group-msa-membership</b> <b>remove</b>
       Remove a principal from Group MSA Membership for a service account.

       -H, --URL
           LDB URL for database or target server.

       --name
           Account name of service account (required).

       --principal
           Name, DN or SID of principal to remove.

   <b>domain</b> <b>classicupgrade</b> <b>[options]</b> <b>classic_smb_conf</b>
       Upgrade from Samba classic (NT4-like) database to Samba AD DC database.

   <b>domain</b> <b>dcpromo</b> <b>dnsdomain</b> <b>[DC|RODC]</b> <b>[options]</b>
       Promote an existing domain member or NT4 PDC to an AD DC.

   <b>domain</b> <b>demote</b>
       Demote ourselves from the role of domain controller.

   <b>domain</b> <b>exportkeytab</b> <b>keytab</b> <b>[options]</b>
       Dumps Kerberos keys of the domain into a keytab.

   <b>domain</b> <b>info</b> <b>ip_address</b> <b>[options]</b>
       Print basic info about a domain and the specified DC.

   <b>domain</b> <b>join</b> <b>dnsdomain</b> <b>[DC|RODC|MEMBER|SUBDOMAIN]</b> <b>[options]</b>
       Join a domain as either member or backup domain controller.

   <b>domain</b> <b>level</b> <b>show|raise</b> <b>options</b> <b>[options]</b>
       Show/raise domain and forest function levels.

   <b>domain</b> <b>passwordsettings</b> <b>show|set</b> <b>options</b> <b>[options]</b>
       Show/set password settings.

   <b>domain</b> <b>passwordsettings</b> <b>pso</b>
       Manage fine-grained Password Settings Objects (PSOs).

   <b>domain</b> <b>passwordsettings</b> <b>pso</b> <b>apply</b> <b>pso-name</b> <b>user-or-group-name</b> <b>[options]</b>
       Applies a PSO's password policy to a user or group.

   <b>domain</b> <b>passwordsettings</b> <b>pso</b> <b>create</b> <b>pso-name</b> <b>precedence</b> <b>[options]</b>
       Creates a new Password Settings Object (PSO).

   <b>domain</b> <b>passwordsettings</b> <b>pso</b> <b>delete</b> <b>pso-name</b> <b>[options]</b>
       Deletes a Password Settings Object (PSO).

   <b>domain</b> <b>passwordsettings</b> <b>pso</b> <b>list</b> <b>[options]</b>
       Lists all Password Settings Objects (PSOs).

   <b>domain</b> <b>passwordsettings</b> <b>pso</b> <b>set</b> <b>pso-name</b> <b>[options]</b>
       Modifies a Password Settings Object (PSO).

   <b>domain</b> <b>passwordsettings</b> <b>pso</b> <b>show</b> <b>user-name</b> <b>[options]</b>
       Displays a Password Settings Object (PSO).

   <b>domain</b> <b>passwordsettings</b> <b>pso</b> <b>show-user</b> <b>pso-name</b> <b>[options]</b>
       Displays the Password Settings that apply to a user.

   <b>domain</b> <b>passwordsettings</b> <b>pso</b> <b>unapply</b> <b>pso-name</b> <b>user-or-group-name</b> <b>[options]</b>
       Updates a PSO to no longer apply to a user or group.

   <b>domain</b> <b>provision</b>
       Promote an existing domain member or NT4 PDC to an AD DC.

   <b>domain</b> <b>trust</b>
       Domain and forest trust management.

   <b>domain</b> <b>trust</b> <b>create</b> <b>DOMAIN</b> <b>options</b> <b>[options]</b>
       Create a domain or forest trust.

   <b>domain</b> <b>trust</b> <b>modify</b> <b>DOMAIN</b> <b>options</b> <b>[options]</b>
       Modify a domain or forest trust.

   <b>domain</b> <b>trust</b> <b>delete</b> <b>DOMAIN</b> <b>options</b> <b>[options]</b>
       Delete a domain trust.

   <b>domain</b> <b>trust</b> <b>list</b> <b>options</b> <b>[options]</b>
       List domain trusts.

   <b>domain</b> <b>trust</b> <b>namespaces</b> <b>[DOMAIN]</b> <b>options</b> <b>[options]</b>
       Manage forest trust namespaces.

   <b>domain</b> <b>trust</b> <b>show</b> <b>DOMAIN</b> <b>options</b> <b>[options]</b>
       Show trusted domain details.

   <b>domain</b> <b>trust</b> <b>validate</b> <b>DOMAIN</b> <b>options</b> <b>[options]</b>
       Validate a domain trust.

   <b>drs</b>
       Manage Directory Replication Services (DRS).

   <b>drs</b> <b>bind</b>
       Show DRS capabilities of a server.

   <b>drs</b> <b>kcc</b>
       Trigger knowledge consistency center run.

   <b>drs</b> <b>options</b>
       Query or change <u>options</u> for NTDS Settings object of a domain controller.

   <b>drs</b> <b>replicate</b> <b>destination_DC</b> <b>source_DC</b> <b>NC</b> <b>[options]</b>
       Replicate a naming context between two DCs.

   <b>drs</b> <b>showrepl</b>
       Show replication status. The [--json] option results in JSON output, and with the [--summary] option
       produces very little output when the replication status seems healthy.

   <b>dsacl</b>
       Administer DS ACLs

   <b>dsacl</b> <b>delete</b>
       Delete an access list entry on a directory object.

   <b>dsacl</b> <b>get</b>
       Print access list on a directory object.

   <b>dsacl</b> <b>set</b>
       Modify access list on a directory object.

   <b>forest</b>
       Manage Forest configuration.

   <b>forest</b> <b>directory_service</b>
       Manage directory_service behaviour for the forest.

   <b>forest</b> <b>directory_service</b> <b>dsheuristics</b> <b>VALUE</b>
       Modify dsheuristics directory_service configuration for the forest.

   <b>forest</b> <b>directory_service</b> <b>show</b>
       Show current directory_service configuration for the forest.

   <b>fsmo</b>
       Manage Flexible Single Master Operations (FSMO).

   <b>fsmo</b> <b>seize</b> <b>[options]</b>
       Seize the role.

   <b>fsmo</b> <b>show</b>
       Show the roles.

   <b>fsmo</b> <b>transfer</b> <b>[options]</b>
       Transfer the role.

   <b>gpo</b>
       Manage Group Policy Objects (GPO).

   <b>gpo</b> <b>create</b> <b>displayname</b> <b>[options]</b>
       Create an empty GPO.

   <b>gpo</b> <b>del</b> <b>gpo</b> <b>[options]</b>
       Delete GPO.

   <b>gpo</b> <b>dellink</b> <b>container_dn</b> <b>gpo</b> <b>[options]</b>
       Delete GPO link from a container.

   <b>gpo</b> <b>fetch</b> <b>gpo</b> <b>[options]</b>
       Download a GPO.

   <b>gpo</b> <b>getinheritance</b> <b>container_dn</b> <b>[options]</b>
       Get inheritance flag for a container.

   <b>gpo</b> <b>getlink</b> <b>container_dn</b> <b>[options]</b>
       List GPO Links for a container.

   <b>gpo</b> <b>list</b> <b>username</b> <b>[options]</b>
       List GPOs for an account.

   <b>gpo</b> <b>listall</b>
       List all GPOs.

   <b>gpo</b> <b>listcontainers</b> <b>gpo</b> <b>[options]</b>
       List all linked containers for a GPO.

   <b>gpo</b> <b>setinheritance</b> <b>container_dn</b> <b>block|inherit</b> <b>[options]</b>
       Set inheritance flag on a container.

   <b>gpo</b> <b>setlink</b> <b>container_dn</b> <b>gpo</b> <b>[options]</b>
       Add or Update a GPO link to a container.

   <b>gpo</b> <b>show</b> <b>gpo</b> <b>[options]</b>
       Show information for a GPO.

   <b>gpo</b> <b>manage</b> <b>symlink</b> <b>list</b>
       List VGP Symbolic Link Group Policy from the sysvol

   <b>gpo</b> <b>manage</b> <b>symlink</b> <b>add</b>
       Adds a VGP Symbolic Link Group Policy to the sysvol

   <b>gpo</b> <b>manage</b> <b>symlink</b> <b>remove</b>
       Removes a VGP Symbolic Link Group Policy from the sysvol

   <b>gpo</b> <b>manage</b> <b>files</b> <b>list</b>
       List VGP Files Group Policy from the sysvol

   <b>gpo</b> <b>manage</b> <b>files</b> <b>add</b>
       Add VGP Files Group Policy to the sysvol

   <b>gpo</b> <b>manage</b> <b>files</b> <b>remove</b>
       Remove VGP Files Group Policy from the sysvol

   <b>gpo</b> <b>manage</b> <b>openssh</b> <b>list</b>
       List VGP OpenSSH Group Policy from the sysvol

   <b>gpo</b> <b>manage</b> <b>openssh</b> <b>set</b>
       Sets a VGP OpenSSH Group Policy to the sysvol

   <b>gpo</b> <b>manage</b> <b>sudoers</b> <b>add</b>
       Adds a Samba Sudoers Group Policy to the sysvol.

   <b>gpo</b> <b>manage</b> <b>sudoers</b> <b>list</b>
       List Samba Sudoers Group Policy from the sysvol.

   <b>gpo</b> <b>manage</b> <b>sudoers</b> <b>remove</b>
       Removes a Samba Sudoers Group Policy from the sysvol.

   <b>gpo</b> <b>manage</b> <b>scripts</b> <b>startup</b> <b>list</b>
       List VGP Startup Script Group Policy from the sysvol

   <b>gpo</b> <b>manage</b> <b>scripts</b> <b>startup</b> <b>add</b>
       Adds VGP Startup Script Group Policy to the sysvol

   <b>gpo</b> <b>manage</b> <b>scripts</b> <b>startup</b> <b>remove</b>
       Removes VGP Startup Script Group Policy from the sysvol

   <b>gpo</b> <b>manage</b> <b>motd</b> <b>list</b>
       List VGP MOTD Group Policy from the sysvol.

   <b>gpo</b> <b>manage</b> <b>motd</b> <b>set</b>
       Sets a VGP MOTD Group Policy to the sysvol

   <b>gpo</b> <b>manage</b> <b>issue</b> <b>list</b>
       List VGP Issue Group Policy from the sysvol.

   <b>gpo</b> <b>manage</b> <b>issue</b> <b>set</b>
       Sets a VGP Issue Group Policy to the sysvol

   <b>gpo</b> <b>manage</b> <b>access</b> <b>add</b>
       Adds a VGP Host Access Group Policy to the sysvol

   <b>gpo</b> <b>manage</b> <b>access</b> <b>list</b>
       List VGP Host Access Group Policy from the sysvol

   <b>gpo</b> <b>manage</b> <b>access</b> <b>remove</b>
       Remove a VGP Host Access Group Policy from the sysvol

   <b>group</b>
       Manage groups.

   <b>group</b> <b>add</b> <b>groupname</b> <b>[options]</b>
       Create a new AD group.

   <b>group</b> <b>create</b> <b>groupname</b> <b>[options]</b>
       Add a new AD group. This is a synonym for the samba-tool group add command and is available for
       compatibility reasons only. Please use samba-tool group add instead.

   <b>group</b> <b>addmembers</b> <b>groupname</b> <b>members</b> <b>[options]</b>
       Add members to an AD group.

   <b>group</b> <b>delete</b> <b>groupname</b> <b>[options]</b>
       Delete an AD group.

   <b>group</b> <b>edit</b> <b>groupname</b>
       Edit a group AD object.

       --editor=EDITOR
           Specifies the editor to use instead of the system default, or 'vi' if no system default is set.

   <b>group</b> <b>list</b>
       List all groups.

   <b>group</b> <b>listmembers</b> <b>groupname</b> <b>[options]</b>
       List all members of the specified AD group.

       By default the sAMAccountNames are listed. If no sAMAccountName is available, the CN will be used
       instead.

       --full-dn
           List the distinguished names instead of the sAMAccountNames.

       --hide-expired
           Do not list expired group members.

       --hide-disabled
           Do not list disabled group members.

   <b>group</b> <b>move</b> <b>groupname</b> <b>new_parent_dn</b> <b>[options]</b>
       This command moves a group into the specified organizational unit or container.

       The groupname specified on the command is the sAMAccountName.

       The name of the organizational unit or container can be specified as a full DN or without the domainDN
       component.

   <b>group</b> <b>removemembers</b> <b>groupname</b> <b>members</b> <b>[options]</b>
       Remove members from the specified AD group.

   <b>group</b> <b>show</b> <b>groupname</b> <b>[options]</b>
       Show group object and it's attributes.

   <b>group</b> <b>stats</b> <b>[options]</b>
       Show statistics for overall groups and group memberships.

   <b>group</b> <b>rename</b> <b>groupname</b> <b>[options]</b>
       Rename a group and related attributes.

       This command allows to set the group's name related attributes. The group's CN will be renamed
       automatically. The group's CN will be the sAMAccountName. Use the --force-new-cn option to specify the
       new CN manually and the --reset-cn to reset this change.

       Use an empty attribute value to remove the specified attribute.

       The groupname specified on the command is the sAMAccountName.

       --force-new-cn=NEW_CN
           Specify a new CN (RDN) instead of using the sAMAccountName.

       --reset-cn
           Set the CN to the sAMAccountName.

       --mail-address=MAIL_ADDRESS
           New mail address

       --samaccountname=SAMACCOUNTNAME
           New account name (sAMAccountName/logon name)

   <b>ldapcmp</b> <u><b>URL1</b></u> <u><b>URL2</b></u> <u><b>domain|configuration|schema|dnsdomain|dnsforest</b></u> [options]
       Compare two LDAP databases.

   <b>ntacl</b>
       Manage NT ACLs.

   <b>ntacl</b> <b>changedomsid</b> <b>original-domain-SID</b> <b>new-domain-SID</b> <b>file</b> <b>[options]</b>
       Change the domain SID for ACLs. Can be used to change all entries in acl_xattr when the machine's SID has
       accidentally changed or the data set has been copied to another machine either via backup/restore or
       rsync.

       --use-ntvfs
           Set the ACLs directly to the TDB or xattr. The POSIX permissions will NOT be changed, only the NT ACL
           will be stored.

       --service=SERVICE
           Specify the name of the smb.conf service to use. This option is required in combination with the
           --use-s3fs option.

       --use-s3fs
           Set the ACLs for use with the default s3fs file server via the VFS layer. This option requires a
           smb.conf service, specified by the --service=SERVICE option.

       --xattr-backend=[native|tdb]
           Specify the xattr backend type (native fs or tdb).

       --eadb-file=EADB_FILE
           Name of the tdb file where attributes are stored.

       --recursive
           Set the ACLs for directories and their contents recursively.

       --follow-symlinks
           Follow symlinks when --recursive is specified.

       --verbose
           Verbosely list files and ACLs which are being processed.

   <b>ntacl</b> <b>get</b> <b>file</b> <b>[options]</b>
       Get ACLs on a file.

   <b>ntacl</b> <b>set</b> <b>acl</b> <b>file</b> <b>[options]</b>
       Set ACLs on a file.

   <b>ntacl</b> <b>sysvolcheck</b>
       Check sysvol ACLs match defaults (including correct ACLs on GPOs).

   <b>ntacl</b> <b>sysvolreset</b>
       Reset sysvol ACLs to defaults (including correct ACLs on GPOs).

   <b>ou</b>
       Manage organizational units (OUs).

   <b>ou</b> <b>add</b> <b>ou_dn</b> <b>[options]</b>
       Add a new organizational unit.

       The name of the organizational unit can be specified as a full DN or without the domainDN component.

       --description=DESCRIPTION
           Specify OU's description.

   <b>ou</b> <b>create</b> <b>ou_dn</b> <b>[options]</b>
       Add a new organizational unit. This is a synonym for the samba-tool ou add command and is available for
       compatibility reasons only. Please use samba-tool ou add instead.

   <b>ou</b> <b>delete</b> <b>ou_dn</b> <b>[options]</b>
       Delete an organizational unit.

       The name of the organizational unit can be specified as a full DN or without the domainDN component.

       --force-subtree-delete
           Delete organizational unit and all children recursively.

   <b>ou</b> <b>list</b> <b>[options]</b>
       List all organizational units.

       --full-dn
           Display DNs including the base DN.

   <b>ou</b> <b>listobjects</b> <b>ou_dn</b> <b>[options]</b>
       List all objects in an organizational unit.

       The name of the organizational unit can be specified as a full DN or without the domainDN component.

       --full-dn
           Display DNs including the base DN.

       -r|--recursive
           List objects recursively.

   <b>ou</b> <b>move</b> <b>old_ou_dn</b> <b>new_parent_dn</b> <b>[options]</b>
       Move an organizational unit.

       The name of the organizational units can be specified as a full DN or without the domainDN component.

   <b>ou</b> <b>rename</b> <b>old_ou_dn</b> <b>new_ou_dn</b> <b>[options]</b>
       Rename an organizational unit.

       The name of the organizational units can be specified as a full DN or without the domainDN component.

   <b>rodc</b>
       Manage Read-Only Domain Controller (RODC).

   <b>rodc</b> <b>preload</b> <b>SID|DN|accountname</b> <b>[options]</b>
       Preload one account for an RODC.

   <b>schema</b>
       Manage and query schema.

   <b>schema</b> <b>attribute</b> <b>modify</b> <b>attribute</b> <b>[options]</b>
       Modify the behaviour of an attribute in schema.

   <b>schema</b> <b>attribute</b> <b>show</b> <b>attribute</b> <b>[options]</b>
       Display an attribute schema definition.

   <b>schema</b> <b>attribute</b> <b>show_oc</b> <b>attribute</b> <b>[options]</b>
       Show objectclasses that MAY or MUST contain this attribute.

   <b>schema</b> <b>objectclass</b> <b>show</b> <b>objectclass</b> <b>[options]</b>
       Display an objectclass schema definition.

   <b>shell</b>
       Opens an interactive Samba Python shell.

   <b>shell</b> <b>[options]</b>
       Opens an interactive Python shell for Samba ldb connection.

       -H, --URL
           LDB URL for database or target server.

   <b>sites</b>
       Manage sites.

   <b>sites</b> <b>list</b> <b>[options]</b>
       List sites.

       --json
           Output as JSON instead of a list

   <b>sites</b> <b>view</b> <b>site</b> <b>[options]</b>
       View site details.

   <b>sites</b> <b>create</b> <b>site</b> <b>[options]</b>
       Create a new site.

   <b>sites</b> <b>remove</b> <b>site</b> <b>[options]</b>
       Delete an existing site.

   <b>sites</b> <b>subnet</b> <b>list</b> <b>site</b> <b>[options]</b>
       List subnets for a site.

       --json
           Output as JSON instead of a list

   <b>sites</b> <b>subnet</b> <b>view</b> <b>subnet</b> <b>[options]</b>
       View subnet details.

   <b>sites</b> <b>subnet</b> <b>create</b> <b>subnet</b> <b>site-of-subnet</b> <b>[options]</b>
       Create a new subnet.

   <b>sites</b> <b>subnet</b> <b>remove</b> <b>subnet</b> <b>[options]</b>
       Delete an existing subnet.

   <b>sites</b> <b>subnet</b> <b>set-site</b> <b>subnet</b> <b>site-of-subnet</b> <b>[options]</b>
       Assign a subnet to a site.

   <b>spn</b>
       Manage Service Principal Names (SPN).

   <b>spn</b> <b>add</b> <b>name</b> <b>user</b> <b>[options]</b>
       Create a new SPN.

   <b>spn</b> <b>delete</b> <b>name</b> <b>[user]</b> <b>[options]</b>
       Delete an existing SPN.

   <b>spn</b> <b>list</b> <b>user</b> <b>[options]</b>
       List SPNs of a given user.

   <b>testparm</b>
       Check the syntax of the configuration file.

   <b>time</b>
       Retrieve the time on a server.

   <b>user</b>
       Manage users.

   <b>user</b> <b>add</b> <b>username</b> <b>[password]</b>
       Add a new user to the Active Directory Domain.

   <b>user</b> <b>create</b> <b>username</b> <b>[password]</b>
       Add a new user. This is a synonym for the samba-tool user add command and is available for compatibility
       reasons only. Please use samba-tool user add instead.

   <b>user</b> <b>delete</b> <b>username</b> <b>[options]</b>
       Delete an existing user account.

   <b>user</b> <b>disable</b> <b>username</b>
       Disable a user account.

       --remove-supplemental-groups
           Remove user from all groups, but keep the primary group.

   <b>user</b> <b>edit</b> <b>username</b>
       Edit a user account AD object.

       --editor=EDITOR
           Specifies the editor to use instead of the system default, or 'vi' if no system default is set.

   <b>user</b> <b>enable</b> <b>username</b>
       Enable a user account.

   <b>user</b> <b>list</b>
       List all users.

       By default the user's sAMAccountNames are listed.

       --full-dn
           List user's distinguished names instead of the sAMAccountNames.

       -b BASE_DN|--base-dn=BASE_DN
           Specify base DN to use. Only users under the specified base DN will be listed.

       --hide-expired
           Do not list expired user accounts.

       --hide-disabled
           Do not list disabled user accounts.

       --locked-only
           Only list locked user accounts.

   <b>user</b> <b>setprimarygroup</b> <b>username</b> <b>primarygroupname</b>
       Set the primary group a user account.

   <b>user</b> <b>getgroups</b> <b>username</b>
       Get the direct group memberships of a user account.

   <b>user</b> <b>show</b> <b>username</b> <b>[options]</b>
       Display a user AD object.

       --attributes=USER_ATTRS
           Comma separated list of attributes, which will be printed.

   <b>user</b> <b>move</b> <b>username</b> <b>new_parent_dn</b> <b>[options]</b>
       This command moves a user account into the specified organizational unit or container.

       The username specified on the command is the sAMAccountName.

       The name of the organizational unit or container can be specified as a full DN or without the domainDN
       component.

   <b>user</b> <b>password</b> <b>[options]</b>
       Change password for a user account (the one provided in authentication).

   <b>user</b> <b>rename</b> <b>username</b> <b>[options]</b>
       Rename a user and related attributes.

       This command allows to set the user's name related attributes. The user's CN will be renamed
       automatically. The user's new CN will be made up by combining the given-name, initials and surname. A dot
       ('.') will be appended to the initials automatically, if required. Use the --force-new-cn option to
       specify the new CN manually and --reset-cn to reset this change.

       Use an empty attribute value to remove the specified attribute.

       The username specified on the command is the sAMAccountName.

       --surname=SURNAME
           New surname

       --given-name=GIVEN_NAME
           New given name

       --initials=INITIALS
           New initials

       --force-new-cn=NEW_CN
           Specify a new CN (RDN) instead of using a combination of the given name, initials and surname.

       --reset-cn
           Set the CN to the default combination of given name, initials and surname.

       --display-name=DISPLAY_NAME
           New display name

       --mail-address=MAIL_ADDRESS
           New email address

       --samaccountname=SAMACCOUNTNAME
           New account name (sAMAccountName/logon name)

       --upn=UPN
           New user principal name

   <b>user</b> <b>setexpiry</b> <b>username</b> <b>[options]</b>
       Set the expiration of a user account.

   <b>user</b> <b>setpassword</b> <b>username</b> <b>[options]</b>
       Sets or resets the password of a user account.

   <b>user</b> <b>unlock</b> <b>username</b> <b>[options]</b>
       This command unlocks a user account in the Active Directory domain.

   <b>user</b> <b>getpassword</b> <b>username</b> <b>[options]</b>
       Gets the password of a user account.

   <b>user</b> <b>get-kerberos-ticket</b> <b>username</b> <b>[options]</b>
       Gets a Kerberos Ticket Granting Ticket as the account.

   <b>user</b> <b>syncpasswords</b> <b>--cache-ldb-initialize</b> <b>[options]</b>
       Syncs the passwords of all user accounts, using an optional script.

       Note that this command should run on a single domain controller only (typically the PDC-emulator).

   <b>user</b> <b>auth</b> <b>policy</b> <b>assign</b> <b>username</b> <b>[options]</b>
       Set assigned authentication policy for user.

       --policy
           Name of authentication policy to assign or leave empty to remove.

   <b>user</b> <b>auth</b> <b>policy</b> <b>remove</b> <b>username</b>
       Remove assigned authentication policy from user.

   <b>user</b> <b>auth</b> <b>policy</b> <b>view</b> <b>username</b>
       View the assigned authentication policy for user.

   <b>user</b> <b>auth</b> <b>silo</b> <b>assign</b> <b>username</b> <b>[options]</b>
       Set assigned authentication silo for user.

       --silo
           Name of authentication silo to assign or leave empty to remove.

   <b>user</b> <b>auth</b> <b>silo</b> <b>remove</b> <b>username</b>
       Remove assigned authentication silo from user.

   <b>user</b> <b>auth</b> <b>silo</b> <b>view</b> <b>username</b>
       View the assigned authentication silo for user.

   <b>vampire</b> <b>[options]</b> <u><b>domain</b></u>
       Join and synchronise a remote AD domain to the local server. Please note that samba-tool vampire is
       deprecated, please use samba-tool domain join instead.

   <b>visualize</b> <b>[options]</b> <u><b>subcommand</b></u>
       Produce graphical representations of Samba network state. To work out what is happening in a replication
       graph, it is sometimes helpful to use visualisations.

       There are two subcommands, two graphical modes, and (roughly) two modes of operation with respect to the
       location of authority.

   <b>MODES</b> <b>OF</b> <b>OPERATION</b>
       samba-tool visualize ntdsconn
           Looks at NTDS connections.

       samba-tool visualize reps
           Looks at repsTo and repsFrom objects.

       samba-tool visualize uptodateness
           Looks at replication lag as shown by the uptodateness vectors.

   <b>GRAPHICAL</b> <b>MODES</b>
       --distance
           Distances between DCs are shown in a matrix in the terminal.

       --dot
           Generate Graphviz dot output (for ntdsconn and reps modes). When viewed using dot or xdot, this shows
           the network as a graph with DCs as vertices and connections edges. Certain types of degenerate edges
           are shown in different colours or line-styles.

       --xdot
           Generate Graphviz dot output as with [--dot] and attempt to view it immediately using /usr/bin/xdot.

       -r
           Normally, samba-tool talks to one database; with the [-r] option attempts are made to contact all the
           DCs known to the first database. This is necessary for samba-tool visualize uptodateness and for
           samba-tool visualize reps because the repsFrom/To objects are not replicated, and it can reveal
           replication issues in other modes.

   <b>help</b>
       Gives usage information.

</pre><h4><b>VERSION</b></h4><pre>
       This man page is complete for version 4.22.3-Ubuntu-4.22.3+dfsg-4ubuntu1 of the Samba suite.

</pre><h4><b>AUTHOR</b></h4><pre>
       The original Samba software and related utilities were created by Andrew Tridgell. Samba is now developed
       by the Samba Team as an Open Source project similar to the way the Linux kernel is developed.

Samba 4.22.3-Ubuntu-4.22.3+dfs                     07/21/2025                                      <u><a href="../man8/SAMBA-TOOL.8.html">SAMBA-TOOL</a></u>(8)
</pre>
 </div>
</div></section>
</div>
</body>
</html>