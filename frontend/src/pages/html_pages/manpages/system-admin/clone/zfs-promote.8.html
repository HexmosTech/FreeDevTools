<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>zfs-promote — promote clone dataset to no longer depend on origin snapshot</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/zfsutils-linux">zfsutils-linux_2.3.2-1ubuntu3_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       zfs-promote — promote clone dataset to no longer depend on origin snapshot

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>zfs</b> <b>promote</b> <u>clone</u>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The  <b>zfs</b>  <b>promote</b>  command makes it possible to destroy the dataset that the clone was created from.  The
       clone parent-child dependency relationship is reversed, so that the origin dataset becomes a clone of the
       specified dataset.

       The snapshot that was cloned, and any snapshots previous to this snapshot, are now owned by the  promoted
       clone.   The  space they use moves from the origin dataset to the promoted clone, so enough space must be
       available to accommodate these snapshots.  No new space is consumed by  this  operation,  but  the  space
       accounting is adjusted.  The promoted clone must not have any conflicting snapshot names of its own.  The
       <b>zfs</b> <b>rename</b> subcommand can be used to rename any conflicting snapshots.

</pre><h4><b>EXAMPLES</b></h4><pre>
   <b>Example</b> <b>1</b>: Promoting a ZFS Clone
       The following commands illustrate how to test out changes to a file system, and then replace the original
       file system with the changed one, using clones, clone promotion, and renaming:
             # <b>zfs</b> <b>create</b> <u>pool/project/production</u>
               populate /pool/project/production with data
             # <b>zfs</b> <b>snapshot</b> <u>pool/project/production</u>@<u>today</u>
             # <b>zfs</b> <b>clone</b> <u>pool/project/production@today</u> <u>pool/project/beta</u>
               make changes to /pool/project/beta and test them
             # <b>zfs</b> <b>promote</b> <u>pool/project/beta</u>
             # <b>zfs</b> <b>rename</b> <u>pool/project/production</u> <u>pool/project/legacy</u>
             # <b>zfs</b> <b>rename</b> <u>pool/project/beta</u> <u>pool/project/production</u>
               once the legacy version is no longer needed, it can be destroyed
             # <b>zfs</b> <b>destroy</b> <u>pool/project/legacy</u>

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <u><a href="../man8/zfs-clone.8.html">zfs-clone</a></u>(8), <u><a href="../man8/zfs-rename.8.html">zfs-rename</a></u>(8)

OpenZFS                                          March 16, 2022                                   <u><a href="../man8/ZFS-PROMOTE.8.html">ZFS-PROMOTE</a></u>(8)
</pre>
 </div>
</div></section>
</div>
</body>
</html>