<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>pxe-kexec - Read PXE configuration file and kexec entries</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/jammy/+package/pxe-kexec">pxe-kexec_0.2.4-3build3_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       pxe-kexec - Read PXE configuration file and kexec entries

</pre><h4><b>SYNOPSIS</b></h4><pre>
       pxe-kexec [options] [<u>tftp_server</u>]

</pre><h4><b>DESCRIPTION</b></h4><pre>
   <b>Overview</b>
       <b>pxe-kexec</b> is a tool that fetches PXE configuration from a TFTP server, reads that PXE configuration file,
       prompts the user for an boot entry, downloads the specified kernel and initrd and finally tries to boot
       the kernel.

       The normal process to boot with <b><a href="../man8/kexec.8.html">kexec</a></b>(8) is that pxe-kexec loads the kernel and invokes <b><a href="../man8/reboot.8.html">reboot</a></b>(8). The
       shutdown script of the Linux distribution then executes "kexec -e" at the very end. That is not
       implemented everywhere.  Therefore, pxe-kexec has a whitelist of Linux distributions that support reboot
       with kexec. If the distribution is not on that whitelist, the program quits with a warning. To bypass
       that warning, please use the "--igore-whitelist" parameter. You can also use the "--force" parameter to
       execute "kexec -e" to immediately boot the selected kernel, without invoking <b><a href="../man8/shutdown.8.html">shutdown</a></b>(8)/<b><a href="../man8/reboot.8.html">reboot</a></b>(8).

       pxe-kexec meant to be used in an environment where pre-defined PXE configurations exist but the user
       wants to use <b><a href="../man8/kexec.8.html">kexec</a></b>(8) instead of rebooting.

       Normally, the <u>tftp_server</u> must be specified as first argument. If there's no TFTP server specified, pxe-
       kexec looks in the DHCP info file for the DHCP server and uses this one as TFTP server. This only works
       when the TFTP server is running on the same machine as the DHCP server.

       <b>==&gt;</b> <b>Please</b> <b>also</b> <b>read</b> <b>the</b> <b>section</b> <b>called</b> <b>"Update</b> <b>Info"</b> <b>&lt;==</b>

   <b>Whitelist</b>
       As mentioned previously, a whitelist of Linux distributions that support kexec-based rebooting is
       maintained. Currently following distributions are on the whitelist:

       •      openSUSE, starting with version 11.0

       •      Ubuntu, starting with version 9.04

       •      Red Hat Enterprise Linux and CentOS, starting with version 5.3

       •      Fedora Linux, starting with version 11

       •      ARCH Linux

       Don't  hesitate  to send the author an email to add the distribution to the whitelist. Please include the
       output of "pxe-kexec --print-distribution" in that mail.

</pre><h4><b>OPTIONS</b></h4><pre>
       Following options can be specified:

       <b>-h</b> | <b>--help</b>
              Prints a short help.

       <b>-v</b> | <b>--version</b>
              Prints the version number to standard output.

       <b>-f</b> | <b>--force</b>
              Immediately load the kernel without invoking <b><a href="../man8/reboot.8.html">reboot</a></b>(8). This does not  execute  shutdown  scripts,
              i.e. does not terminate daemons, network connections etc.

       <b>-L</b> | <b>--load-only</b>
              When  that  option  is specified, the new kernel is only loaded. No reboot is triggered and "kexec
              -e" is also not executed.

       <b>-w</b> | <b>--ignore-whitelist</b>
              Don't check if the detected Linux distribution is on the  whitelist  of  distributions  that  have
              <b><a href="../man8/kexec.8.html">kexec</a></b>(8) in their shutdown script. Please don't use that parameter without letting the author know
              which distribution you use and how to detect that distribution. Then the distribution can be added
              to the whitelist and other users profit from that experience.

       <b>-l</b> <u>label</u> | <b>--label</b> <u>label</u>
              Specifies  the  label  that  should be booted. Use that option if you already know which <u>label</u> you
              want to boot. This option implies "--quiet".

       <b>-i</b> | <b>--interface</b> <u>netif</u>
              Uses <u>netif</u> instead of the first (non-loopback and up) interface that is found. Example: "eth5".

       <b>-n</b> | <b>--noconfirm</b>
              Don't ask the user for confirmation before booting an entry. Use that option with care!

       <b>-Y</b> | <b>--dry-run</b>
              Don't execute call to kexec and don't switch  the  virtual  console  before  running  "kexec  -e".
              Instead,  print  the  information which program would be executed with which arguments to standard
              error.

       <b>-q</b> | <b>--quiet</b>
              Don't display the PXE messages that are added in the PXE configuration with the <u>say</u> keyword.  Also
              don't display messages which PXE configuration files the downloader tries to fetch.

       <b>-p</b> | <b>--print-distribution</b>
              Only prints the detected Linux distribution and exits. For example:

                  Type        : Ubuntu
                  Name        : Ubuntu
                  Release     : 9.04
                  Codename    : jaunty
                  Description : Ubuntu 9.04

              This  option  is  very  useful if your distribution is not on the whitelist of Linux distributions
              that support <b><a href="../man8/kexec.8.html">kexec</a></b>(8) in the reboot scripts and you want to create a bugreport.

              This command does not require root privileges.

       <b>-D</b> | <b>--debug</b>
              Enable debugging output. That's good for finding (and fixing!) bugs.

       <b>-d</b> | <b>--nodelete</b>
              Keep downloaded files.

       <b>-F</b> | <b>--ftp</b>
              Always use FTP instead of TFTP. Useful for servers that share TFTP root and  FTP  root.  (Passive)
              FTP has the advantage that it passes firewalls better than TFTP.

</pre><h4><b>UPDATE</b> <b>INFO</b></h4><pre>
   <b>Updating</b> <b>from</b> <b>0.1.x</b> <b>to</b> <b>0.2</b>
       Compared to version 0.1.x, the syntax has changed:

       •      The default label must now be set with the <b>-l</b> <u>label</u> option instead of the 2nd argument. Example:

                % pxe-kexec mydhcp.mydomain.com SLES10-install-auto

              is now

                % pxe-kexec -l SLES10-install-auto mydhcp.mydomain.com

       •      pxe-kexec  now  uses  the  reboot  mechanism  by default: The kernel is loaded, then the reboot is
              triggered and the reboot script of the Linux distribution finally boots the kernel. This  has  the
              advantage of a clear shutdown.

              The  program  keeps  a  database  of  Linux  distributions that support kexec-based reboot. If the
              currently active distribution is not on the whitelist, an error is printed. (That whitelist can be
              ignored with "--ignore-whitelist".)

       •      To use the previous behaviour, i.e. just execute "kexec -e" in pxe-kexec at the end, you can still
              use the "--force" parameter. Example:

                % pxe-kexec mydhcp.mydomain.com

              is now

                % pxe-kexec --force mydhcp.mydomain.com

       •      If you want to have the old "dry-run" behaviour back, which in fact only missed  the  last  "kexec
              -e" step, you can use the option "--load-only".  Example:

                % pxe-kexec --dry-run mydhcp.mydomain.com

              is now

               % pxe-kexec --load-only mydhcp.mydomain.com

</pre><h4><b>EXAMPLES</b></h4><pre>
       <b>pxe-kexec</b> <u><b>mydhcp.mydomain.com</b></u>
              Try  to  fetch  the PXE configuration from <u>mydhcp.mydomain.com</u>, display the <u>say</u> messages from that
              configuration, prompt for an entry, letting the user confirm that  entry  and  finally  load  that
              entry via <b><a href="../man8/kexec.8.html">kexec</a></b>(8) and reboot via <b><a href="../man8/reboot.8.html">reboot</a></b>(8).

              This  only  works  if you distribution supports kexec-based rebooting, i.e.  it is in the internal
              whitelist.

       <b>pxe-kexec</b> <b>-n</b> <u><b>mydhcp.mydomain.com</b></u>
              Same as the previous example, but omit the final confirmation step.

       <b>pxe-kexec</b> <b>-l</b> <u><b>SLES10-install-auto</b></u> <u><b>mydhcp.mydomain.com</b></u>
              Same as the first example, but don't prompt the user for the label to  boot.   Directly  boot  the
              <u>SLES10-install-auto</u> label, but letting the user confirm that he really wants to boot this!

       <b>pxe-kexec</b> <b>-n</b> <b>-l</b> <u><b>SLES10-install-auto</b></u> <u><b>mydhcp.mydomain.com</b></u>
              Same as the previous example, but without confirmation.

       <b>pxe-kexec</b> <b>-f</b> <u><b>mydhcp.mydomain.com</b></u>
              Same as the first example, but execute "kexec -e" at the end instead of invoking <b><a href="../man8/reboot.8.html">reboot</a></b>(8).

       <b>pxe-kexec</b> <b>-l</b> <u><b>mydhcp.mydomain.com</b></u>
              Same as the first example, but don't trigger a reboot. Instead, the kernel is just loaded. If your
              distribution  supports  kexec-based  rebooting,  the kernel will be loaded on next reboot. You can
              also run "kexec -e" manually at any time.

</pre><h4><b>AUTHOR</b></h4><pre>
       The <b>pxe-kexec</b> program and documentation has been written by Bernhard Walle &lt;<a href="mailto:bernhard@bwalle.de">bernhard@bwalle.de</a>&gt;.

</pre><h4><b>BUGS</b></h4><pre>
       This  program  has  no  bugs.  If  you  find  a  feature  that  should  be  removed,  please  report   to
       &lt;<a href="mailto:bernhard@bwalle.de">bernhard@bwalle.de</a>&gt; if you don't want to create an account.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man8/kexec.8.html">kexec</a></b>(8)

0.2.4                                              2020-03-23                                       <u><a href="../man8/PXE-KEXEC.8.html">PXE-KEXEC</a></u>(8)
</pre>
 </div>
</div></section>
</div>
</body>
</html>