<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>sss_cache - perform cache cleanup</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/sssd-tools">sssd-tools_2.10.1-2ubuntu4_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       sss_cache - perform cache cleanup

</pre><h4><b>SYNOPSIS</b></h4><pre>

       <b>sss_cache</b> [<u>options</u>]

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>sss_cache</b> invalidates records in SSSD cache. Invalidated records are forced to be reloaded from server as
       soon as related SSSD backend is online. Options that invalidate a single object only accept a single
       provided argument.

</pre><h4><b>OPTIONS</b></h4><pre>
       <b>-E</b>,<b>--everything</b>
           Invalidate all cached entries.

       <b>-u</b>,<b>--user</b> <u>login</u>
           Invalidate specific user.

       <b>-U</b>,<b>--users</b>
           Invalidate all user records. This option overrides invalidation of specific user if it was also set.

       <b>-g</b>,<b>--group</b> <u>group</u>
           Invalidate specific group.

       <b>-G</b>,<b>--groups</b>
           Invalidate all group records. This option overrides invalidation of specific group if it was also
           set.

       <b>-n</b>,<b>--netgroup</b> <u>netgroup</u>
           Invalidate specific netgroup.

       <b>-N</b>,<b>--netgroups</b>
           Invalidate all netgroup records. This option overrides invalidation of specific netgroup if it was
           also set.

       <b>-s</b>,<b>--service</b> <u>service</u>
           Invalidate specific service.

       <b>-S</b>,<b>--services</b>
           Invalidate all service records. This option overrides invalidation of specific service if it was also
           set.

       <b>-a</b>,<b>--autofs-map</b> <u>autofs-map</u>
           Invalidate specific autofs maps.

       <b>-A</b>,<b>--autofs-maps</b>
           Invalidate all autofs maps. This option overrides invalidation of specific map if it was also set.

       <b>-h</b>,<b>--ssh-host</b> <u>hostname</u>
           Invalidate SSH public keys of a specific host.

       <b>-H</b>,<b>--ssh-hosts</b>
           Invalidate SSH public keys of all hosts. This option overrides invalidation of SSH public keys of
           specific host if it was also set.

       <b>-r</b>,<b>--sudo-rule</b> <u>rule</u>
           Invalidate particular sudo rule.

       <b>-R</b>,<b>--sudo-rules</b>
           Invalidate all cached sudo rules. This option overrides invalidation of specific sudo rule if it was
           also set.

       <b>-d</b>,<b>--domain</b> <u>domain</u>
           Restrict invalidation process only to a particular domain.

       <b>-?</b>,<b>--help</b>
           Display help message and exit.

</pre><h4><b>EFFECTS</b> <b>ON</b> <b>THE</b> <b>FAST</b> <b>MEMORY</b> <b>CACHE</b></h4><pre>
       <b>sss_cache</b> also invalidates the memory cache. Since the memory cache is a file which is mapped into the
       memory of each process which called SSSD to resolve users or groups the file cannot be truncated. A
       special flag is set in the header of the file to indicate that the content is invalid and then the file
       is unlinked by SSSD's NSS responder and a new cache file is created. Whenever a process is now doing a
       new lookup for a user or a group it will see the flag, close the old memory cache file and map the new
       one into its memory. When all processes which had opened the old memory cache file have closed it while
       looking up a user or a group the kernel can release the occupied disk space and the old memory cache file
       is finally removed completely.

       A special case is long running processes which are doing user or group lookups only at startup, e.g. to
       determine the name of the user the process is running as. For those lookups the memory cache file is
       mapped into the memory of the process. But since there will be no further lookups this process would
       never detect if the memory cache file was invalidated and hence it will be kept in memory and will occupy
       disk space until the process stops. As a result calling <b>sss_cache</b> might increase the disk usage because
       old memory cache files cannot be removed from the disk because they are still mapped by long running
       processes.

       A possible work-around for long running processes which are looking up users and groups only at startup
       or very rarely is to run them with the environment variable SSS_NSS_USE_MEMCACHE set to "NO" so that they
       won't use the memory cache at all and not map the memory cache file into the memory. In general a better
       solution is to tune the cache timeout parameters so that they meet the local expectations and calling
       <b>sss_cache</b> is not needed.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man8/sssd.8.html">sssd</a></b>(8), <b><a href="../man5/sssd.conf.5.html">sssd.conf</a></b>(5), <b><a href="../man5/sssd-ldap.5.html">sssd-ldap</a></b>(5), <b><a href="../man5/sssd-ldap-attributes.5.html">sssd-ldap-attributes</a></b>(5), <b><a href="../man5/sssd-krb5.5.html">sssd-krb5</a></b>(5), <b><a href="../man5/sssd-simple.5.html">sssd-simple</a></b>(5), <b><a href="../man5/sssd-ipa.5.html">sssd-ipa</a></b>(5),
       <b><a href="../man5/sssd-ad.5.html">sssd-ad</a></b>(5), <b><a href="../man5/sssd-files.5.html">sssd-files</a></b>(5), <b><a href="../man5/sssd-sudo.5.html">sssd-sudo</a></b>(5), <b><a href="../man5/sssd-session-recording.5.html">sssd-session-recording</a></b>(5), <b><a href="../man8/sss_cache.8.html">sss_cache</a></b>(8), <b><a href="../man8/sss_debuglevel.8.html">sss_debuglevel</a></b>(8),
       <b><a href="../man8/sss_obfuscate.8.html">sss_obfuscate</a></b>(8), <b><a href="../man8/sss_seed.8.html">sss_seed</a></b>(8), <b><a href="../man8/sssd_krb5_locator_plugin.8.html">sssd_krb5_locator_plugin</a></b>(8), <b><a href="../man1/sss_ssh_authorizedkeys.1.html">sss_ssh_authorizedkeys</a></b>(1),
       <b><a href="../man1/sss_ssh_knownhosts.1.html">sss_ssh_knownhosts</a></b>(1), <b><a href="../man5/sssd-ifp.5.html">sssd-ifp</a></b>(5), <b><a href="../man8/pam_sss.8.html">pam_sss</a></b>(8).  <b><a href="../man5/sss_rpcidmapd.5.html">sss_rpcidmapd</a></b>(5) <b><a href="../man5/sssd-systemtap.5.html">sssd-systemtap</a></b>(5)

</pre><h4><b>AUTHORS</b></h4><pre>
       <b>The</b> <b>SSSD</b> <b>upstream</b> <b>-</b> <b>https://github.com/SSSD/sssd/</b>

SSSD                                               03/24/2025                                       <u><a href="../man8/SSS_CACHE.8.html">SSS_CACHE</a></u>(8)
</pre>
 </div>
</div></section>
</div>
</body>
</html>