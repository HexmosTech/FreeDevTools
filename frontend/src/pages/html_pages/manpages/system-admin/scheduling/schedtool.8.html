<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>schedtool - query and set CPU scheduling parameters</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/schedtool">schedtool_1.3.0-5_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       <b>schedtool</b> - query and set CPU scheduling parameters

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>schedtool</b>
              [<b>-0</b>|<b>-N</b>] [<b>-1</b>|<b>-F</b>] [<b>-2</b>|<b>-R</b>] [<b>-3</b>|<b>-B</b>] [<b>-4</b>|<b>-I</b>] [<b>-5</b>|<b>-D</b>]
              [<b>-M</b> <u>policy</u>]
              [<b>-a</b> <u>affinity</u>]
              [<b>-p</b> <u>prio</u>]
              [<b>-n</b> <u>nice_level</u>]
              [<b>-e</b> <u>command</u> <u>[arg</u> <u>...]</u>]
              [<b>-r</b>]
              [<b>-v</b>]
              [<b>-h</b>]
              [LIST OF <u>PIDs</u>]

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>schedtool</b>  can  set  all  CPU  scheduling parameters Linux is capable of or display information for given
       processes.

       Long-running, non-interactive  tasks  may  benefit  from  SCHED_BATCH  as  timeslices  are  longer,  less
       system-time is wasted by computing the next runnable process and the caches stay stable.

       Audio/video  or  other near-realtime applications may run with less skipping if set to SCHED_RR.  Use the
       static priority-switch <b>-p</b> to designate inter-process-hierarchies.

       <b>schedtool</b> now supports setting the CPU-affinity introduced in linux 2.5.8.

</pre><h4><b>OPTIONS</b></h4><pre>
       <b>-N</b> <b>or</b> <b>-0</b>
              set all <u>PIDs</u> to SCHED_NORMAL/OTHER

       <b>-F</b> <b>or</b> <b>-1</b>
              to SCHED_FIFO   root-credentials required

       <b>-R</b> <b>or</b> <b>-2</b>
              to SCHED_RR     root-credentials required

       <b>-B</b> <b>or</b> <b>-3</b>
              to SCHED_BATCH

       <b>-I</b> <b>or</b> <b>-4</b>
              to SCHED_ISO

       <b>-D</b> <b>or</b> <b>-5</b>
              to SCHED_IDLEPRIO

       <b>-M</b> <u>policy</u>
              for manual/raw mode; policy is the number of the scheduling policy  (see  above  for  0-4).   This
              option is mostly for kernel guys that want to test their new implementations.

       <b>-p</b> <u>prio</u>
              specify static priority <b>required</b> for SCHED_FIFO and SCHED_RR. Usually ranged from 1-99.

       <b>-a</b> <u>affinity</u>
              set the PID's <u>affinity</u> to this bitmask (hexadecimal); alternatively, a list mode is supported.

       <b>-n</b> <u>nice_level</u>
              set the PID's nice level; see <b><a href="../man2/nice.2.html">nice</a>(2),</b> <b><a href="../man1/nice.1.html">nice</a>(1)</b>.

       <b>-e</b> <u>command</u> <u>[arg</u> <u>...]</u>
              execute  <u>command</u>  with  given  scheduling  parameters  (overwrites schedtool's process image). See
              EXAMPLES.

       <b>-r</b>     display min and max priority for each policy.

       <b>-v</b>     be verbose.

       <b>-h</b>     help

</pre><h4><b>EXAMPLES</b></h4><pre>
       To query the $SHELL's policies:

           #&gt; schedtool $$

       To query some <u>PIDs</u>, namely 1 2 and 3:

           #&gt; schedtool 1 2 3

       To <b>execute</b> mplayer in <b>SCHED_RR</b> with priority 20. The  priority  arg  is  needed  for  both  SCHED_RR  and
       SCHED_FIFO.

           #&gt; schedtool -R -p 20 -e mplayer -quiet some_file.avi

       To set current shell to <b>SCHED_BATCH</b>, which all programs the shell starts will inherit:

           #&gt; schedtool -3 $$

       To set all processes with the name 'cpu_hog' to SCHED_BATCH:

           #&gt; schedtool -3 `pidof cpu_hog`

       To set a process' <u>affinity</u> to only the first CPU (CPU0):

           #&gt; schedtool -a 0x1 &lt;PID&gt;

       Using the list mode and affinty of CPU0 and CPU3:

           #&gt; schedtool -a 0,3 &lt;PID&gt;

       A combination of an <u>affinity</u> and a <u>policy</u>-argument is - of course - always possible.

          #&gt; schedtool -B -a 0x1 &lt;PID&gt;

</pre><h4><b>AFFINITY</b> <b>MASK</b></h4><pre>
       The  <u>affinity</u>-argument  determines  on  which  CPUs  a process is allowed to run. It consists of a simple
       bitmask represented in hexadecimal.  CPU0 is denoted by the least-significant bit,  CPU1  by  the  second
       least-significant and so on, thus giving:

           <b>0x1</b> -&gt; only run on CPU0

           <b>0x2</b> -&gt; only run on CPU1

           <b>0x4</b> -&gt; only run on CPU2

           <b>0x8</b> -&gt; only run on CPU3 ... and so on.

       Multi-target CPUs may be specified using bitwise OR of the values:

           <b>0x7</b> -&gt; run on CPUs 0, 1, 2 but <b>NOT</b> on 4

           <b>0x3</b> -&gt; run only on CPUs 0 and 1

       The default is to run a process on all CPUs, giving a mask of

           <b>0xf</b> for all 4 CPUs

           <b>0xff</b> for all 8 CPUs

</pre><h4><b>AFFINITY</b> <b>MASK</b> <b>-</b> <b>LIST</b> <b>MODE</b></h4><pre>
       Alternatively  a  list  mode is supported where you can specify the CPUs delimited by ",".  The following
       runs &lt;PID&gt; on CPU0 and CPU1 (equivalent to <b>0x3</b>):

          #&gt; schedtool -a <b>0,1</b> &lt;PID&gt;

</pre><h4><b>POLICY</b> <b>OVERVIEW</b></h4><pre>
       <b>SCHED_NORMAL</b> <b>/</b> <b>SCHED_OTHER</b> This is the default policy and for the average program with some  interaction.
       Does preemption of other processes.

       <b>SCHED_FIFO</b>  First-In,  First Out Scheduler, used only for real-time constraints.  Processes in this class
       are usually not preempted by others, they need to free themselves from the CPU via sched_yield()  and  as
       such you need special designed applications. <b>Use</b> <b>with</b> <b>extreme</b> <b>care.</b>  <b>ROOT-credentials</b> <b>required.</b>

       <b>SCHED_RR</b>  Round-Robin  Scheduler,  also used for real-time constraints. CPU-time is assigned in an round-
       robin fashion with a much smaller timeslice than with  SCHED_NORMAL  and  processes  in  this  group  are
       favoured  over  SCHED_NORMAL.  Usable  for  audio/video applications near peak rate of the system.  <b>ROOT-</b>
       <b>credentials</b> <b>required.</b>

       <b>SCHED_BATCH</b> [ since 2.6.16  in  mainline  ]  SCHED_BATCH  was  designed  for  non-interactive,  CPU-bound
       applications.  It uses longer timeslices (to better exploit the cache), but can be interrupted anytime by
       other  processes  in  other  classes  to  guaratee interaction of the system. Processes in this class are
       selected last but may result in a considerable speed-up (up to 300%). No interactive boosting is done.

       <b>SCHED_ISO</b> [ patch needed ] SCHED_ISO was designed to give users a SCHED_RR-similar class.  To  quote  Con
       Kolivas:  "This  is a non-expiring scheduler policy designed to guarantee a timeslice within a reasonable
       latency while preventing starvation.  Good for gaming, video at the limits  of  hardware,  video  capture
       etc."

       <b>SCHED_IDLEPRIO</b>  [ patch needed ] SCHED_IDLEPRIO is similar to SCHED_BATCH, but was explicitly designed to
       consume only the time the CPU is idle. No interactive boosting is done.  If you used SCHED_BATCH  in  the
       -ck kernels this is what you want since 2.6.16

</pre><h4><b>HINTS</b></h4><pre>
       PID 0 means "current process", in our case, schedtool. May occur when using the -e switch.

       Be careful with SCHED_FIFO! You may lock out other processes from the CPU, including your shell.

       For SCHED_BATCH you <u>certainly</u> need the a recent 2.6 kernel.

       A  short  overview is given in SCHED_DESIGN and the <b>README</b> contains thorough discussion. The <b>INSTALL</b> file
       also lists all prerequisites and where you can get patches.

       Affinity 0x0 should never be used.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man2/sched_setscheduler.2.html">sched_setscheduler</a></b>(2), <b><a href="../man2/sched_setaffinity.2.html">sched_setaffinity</a></b>(2), <b><a href="../man2/nice.2.html">nice</a></b>(2), <b><a href="../man1/nice.1.html">nice</a></b>(1), <b><a href="../man3/renice.3.html">renice</a></b>(3).

</pre><h4><b>BUGS</b></h4><pre>
       You need some knowledge about the kernel and scheduling. The author is a grumpy little elitist.

</pre><h4><b>AUTHOR</b></h4><pre>
       Freek

       Please contact me via freshmeat.net's "contact author"-feature (<a href="http://freshmeat.net/projects/schedtool">http://freshmeat.net/projects/schedtool</a>).

                                                 1 November 2006                                    <u><a href="../man8/SCHEDTOOL.8.html">SCHEDTOOL</a></u>(8)
</pre>
 </div>
</div></section>
</div>
</body>
</html>