<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>buserver - Initializes the Backup Server</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/openafs-dbserver">openafs-dbserver_1.8.13.2-1ubuntu1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       buserver - Initializes the Backup Server

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>buserver</b> [<b>-database</b> &lt;<u>database</u> <u>directory</u>&gt;]
           [<b>-auditlog</b> &lt;<u>log</u> <u>path</u>&gt;]
           [<b>-audit-interface</b> (file | sysvmq)]
           [<b>-cellservdb</b> &lt;<u>cell</u> <u>configuration</u> <u>directory</u>&gt;] [<b>-resetdb</b>]
           [<b>-noauth</b>] [<b>-smallht</b>]
           [<b>-servers</b> &lt;<u>list</u> <u>of</u> <u>ubik</u> <u>database</u> <u>servers</u>&gt;+]
           [<b>-rxbind</b>]
           [<b>-p</b> &lt;<u>number</u> <u>of</u> <u>threads</u>&gt;] [<b>-ubikbuffers</b> &lt;<u>#</u> <u>of</u> <u>buffers</u>&gt;]
           [<b>-help</b>]

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The <b>buserver</b> command initializes the Backup Server, which runs on database server machines and maintains
       the Backup Database. In the conventional configuration, the binary file is located in the
       <u>/usr/lib/openafs</u> directory on a file server machine.

       The <b>buserver</b> command is not normally issued at the command shell prompt, but rather placed into a
       database server machine's <u>/etc/openafs/BosConfig</u> file with the <b>bos</b> <b>create</b> command. If it is ever issued
       at the command shell prompt, the issuer must be logged onto a file server machine as the local superuser
       "root".

       As it initializes, the Backup Server process creates the two files that constitute the Backup Database,
       <u>bdb.DB0</u> and <u>bdb.DBSYS1</u>, in the <u>/var/lib/openafs/db</u> directory if they do not already exist. The Backup
       Database houses information about volume sets and entries, the dump hierarchy, Tape Coordinators, and
       previously performed dump sets. Use the commands in the <b>backup</b> suite to administer the database.

       The Backup Server records a trace of its activity in the <u>/var/log/openafs/BackupLog</u> file. Use the <b>bos</b>
       <b>getlog</b> command to display the contents of the file.

       This command does not use the syntax conventions of the AFS command suites. Provide the command name and
       all option names in full.

</pre><h4><b>CAUTIONS</b></h4><pre>
       The <b>buserver</b> process reserves port 7021 for its use. Unexpected behavior can occur if another process
       tries to reserve this port while the <b>buserver</b> process is running.

</pre><h4><b>OPTIONS</b></h4><pre>
       <b>-database</b> &lt;<u>database</u> <u>directory</u>&gt;
           Specifies  the  pathname  of  an alternate directory for the Backup Database files, ending in a final
           slash ("/"). If this argument is not provided, the default is the <u>/var/lib/openafs/db</u> directory.

       <b>-auditlog</b> &lt;<u>log</u> <u>path</u>&gt;
           Turns on audit logging, and sets the path for the audit log.  The audit log records information about
           RPC calls, including the name of the RPC call, the host that submitted the  call,  the  authenticated
           entity (user) that issued the call, the parameters for the call, and if the call succeeded or failed.

       <b>-audit-interface</b> (file | sysvmq)
           Specifies  what  audit  interface to use. Defaults to "file". See <b><a href="../man8/fileserver.8.html">fileserver</a></b>(8) for an explanation of
           each interface.

       <b>-cellservdb</b> &lt;<u>cell</u> <u>configuration</u> <u>directory</u>&gt;
           Specifies the pathname of the directory from which the Backup Server reads in an alternate version of
           the <u>CellServDB</u> file. This argument is mandatory for correct functioning when  the  Backup  Server  is
           running  on  a  subset  of the cell's database server machines that is not a majority of the machines
           listed in the standard <u>/etc/openafs/server/CellServDB</u> file (which the Backup Server consults if  this
           argument is not provided). It is not appropriate in any other circumstances.

       <b>-resetdb</b>
           Removes  all  of  the  information in the Backup Database files in the <u>/var/lib/openafs/db</u> directory,
           leaving zero-length versions of them.  The backup operator must recreate the configuration entries in
           the database (for volume sets, the dump hierarchy and so on) before performing backup operations.

       <b>-noauth</b>
           Turns off all authorization checks, and allows all connecting users to act  as  administrators,  even
           unauthenticated  users.  The  use  of  this option is inherently insecure, and should only be used in
           controlled environments for experimental or debug purposes. See <b><a href="../man5/NoAuth.5.html">NoAuth</a></b>(5).

       <b>-smallht</b>
           Directs the Backup Server to use smaller internal hash tables for the Backup Database, which  reduces
           memory requirements but can make data access take longer.

       <b>-servers</b> &lt;<u>list</u> <u>of</u> <u>ubik</u> <u>database</u> <u>servers</u>&gt;+
           Specifies  the  database  server  machines  on which to start the Backup Server. Use this argument if
           running the Backup Server on a subset of the database server machines that is not a majority  of  the
           machines listed in the <u>/etc/openafs/server/CellServDB</u> file.

       <b>-rxbind</b>
           Bind  the  Rx  socket to the primary interface only.  (If not specified, the Rx socket will listen on
           all interfaces.)

       <b>-p</b> &lt;<u>number</u> <u>of</u> <u>threads</u>&gt;
           Sets the number of server lightweight processes (LWPs  or  pthreads)  to  run.   Provide  a  positive
           integer from the range 3 to 16. The default value is 3.

       <b>-ubikbuffers</b> &lt;<u>#</u> <u>of</u> <u>buffers</u>&gt;
           Sets  the  number of internal buffers used for maintaining the ubik database.  The default is 400. If
           the buserver runs out of free buffers, errors can occur while trying to modify ubik data. It  is  not
           recommended to change this setting.

       <b>-help</b>
           Prints the online help for this command. All other valid options are ignored.

</pre><h4><b>EXAMPLES</b></h4><pre>
       The  following  example  <b>bos</b>  <b>create</b>  command  creates  a  "buserver"  process on the file server machine
       "fs3.example.com". It appears here on two lines only for legibility.

          % bos create -server fs3.example.com -instance buserver \
                       -type simple -cmd /usr/lib/openafs/buserver

</pre><h4><b>PRIVILEGE</b> <b>REQUIRED</b></h4><pre>
       The issuer must be logged in as the superuser "root" on a file server machine to issue the command  at  a
       command  shell  prompt.  It  is  conventional  instead to create and start the process by issuing the <b>bos</b>
       <b>create</b> command.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man5/BackupLog.5.html">BackupLog</a></b>(5), <b><a href="../man5/BosConfig.5.html">BosConfig</a></b>(5), <b><a href="../man5/CellServDB.5.html">CellServDB</a></b>(5), <b><a href="../man5/bdb.DB0.5.html">bdb.DB0</a></b>(5), <b><a href="../man8/backup.8.html">backup</a></b>(8), <b><a href="../man8/bos_create.8.html">bos_create</a></b>(8), <b><a href="../man8/bos_getlog.8.html">bos_getlog</a></b>(8)

</pre><h4><b>COPYRIGHT</b></h4><pre>
       IBM Corporation 2000. &lt;<a href="http://www.ibm.com/">http://www.ibm.com/</a>&gt; All Rights Reserved.

       This documentation is covered by the IBM Public License Version 1.0.  It was converted from HTML  to  POD
       by  software  written  by  Chas  Williams  and Russ Allbery, based on work by Alf Wachsmann and Elizabeth
       Cassell.

OpenAFS                                            2025-03-21                                        <u><a href="../man8/BUSERVER.8.html">BUSERVER</a></u>(8)
</pre>
 </div>
</div></section>
</div>
</body>
</html>