<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>bbackupquery - Box Backup store query and file retrieval</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/boxbackup-client">boxbackup-client_0.13~~git20231028.g3dd5194+ds-4_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       bbackupquery - Box Backup store query and file retrieval

</pre><h4><b>SYNOPSIS</b></h4><pre>

       <b>bbackupquery</b> [-q] [-c configfile] [command ...]

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>bbackupquery</b> is the main way of interacting with the backup store from a Box Backup client machine. It
       supports both interactive and batch modes of operation.

       It can be used to reviewing the status of a client machine's backup store, getting status from the store
       server. The main use is to retrieve files and directories when needed.

       <b>bbackupquery</b> supports interactive and batch modes of operation. Interactive mode allows for interaction
       with the server much like an interactive FTP client.

       Batch mode is invoked by putting commands into the invocation of <b>bbackupquery</b>. Example:

           bbackupquery "list home-dirs" quit

       Note that commands that contain spaces are enclosed in double quotes. If the <b>quit</b> command is omitted,
       after the preceding commands are completed, <b>bbackupquery</b> will enter interactive mode.

</pre><h4><b>OPTIONS</b></h4><pre>
       <b>-q</b>
           Quiet. Suppresses status output while running.

       <b>-c</b> <b>configfile</b>
           Use configfile instead of the default bbackupd.conf file. Can be a relative or full path.

</pre><h4><b>COMMANDS</b></h4><pre>
       The commands that can be used in bbackupquery are listed below.

       <b>help</b>
           Displays the basic help message, which gives information about the commands available in
           <b>bbackupquery</b>. Use the form <b>help</b> <b>command</b> to get help on a specific command.

       <b>quit</b>
           End the session with the store server, and quit bbackupquery.

       <b>cd</b> [options] <u>directory-name</u>
           Change directory. Options:

           <b>-d</b>
               consider deleted directories for traversal

           <b>-o</b>
               consider old versions of directories for traversal. This option should never be useful in a
               correctly formed store.

       <b>lcd</b> <u>local-directory-name</u>
           Change directory on the client machine. To list the contents of the local directory, type <b>sh</b> <b>ls</b> (on
           Unix-like machines).

       <b>list</b> [options] [directory-name]
           The list (or its synonym <b>ls</b>) command lists the content of the current, or specified, directory. The
           options are as follows:

           <b>-r</b>
               recursively list all files

           <b>-d</b>
               list deleted files and directories

           <b>-o</b>
               list old versions of files and directories

           <b>-I</b>
               don't display object IDs

           <b>-F</b>
               don't display flags

           <b>-t</b>
               show file modification time (and attr mod time, if the object has attributes).

           <b>-s</b>
               show file size in blocks used on server. Note that this is only a very approximate indication of
               local file size.

       <b>ls</b> [options] [directory-name]
           Synonym for <b>list</b>.

       <b>pwd</b>
           Print current directory, always relative to the backup store root.

       <b>sh</b> <u>shell-command</u>
           Everything after the sh is passed to a shell and run. All output from the command is displayed in the
           client.

           Example: to list the contents of the current directory on the client machine type <b>sh</b> <b>ls</b>.

       <b>compare</b> <b>-a</b>

       <b>compare</b> <b>-l</b> <u>location-name</u>

       <b>compare</b> <u>store-dir-name</u> <u>local-dir-name</u>
           Compare the current data in the store with the data on the disc. Please note that all the data will
           be downloaded from the store, so this can be a very lengthy process depending on the size of the
           store, and the size of the part you are comparing.

           Options:

           <b>-a</b>
               compare all locations.

           <b>-l</b>
               compare one backup location as specified in the configuration file. This compares one of the top
               level store directories.

           <b>-c</b>
               set return code. The return code is set to the following values, if quit is the next command. So,
               if another command is run after the compare, the return code will not refer to the compare. This
               option is very useful for automating compares. Return code values:

               •   <b>1</b> -- no differences were found

               •   <b>2</b> -- differences were found

               •   <b>3</b> -- an error occured

       <b>get</b> <u>object-filename</u> [local-filename]

       <b>get</b> <b>-i</b> <u>object-id</u> <u>local-filename</u>
           Gets a file from the store. Object is specified as the filename within the current directory. Local
           filename is optional. Ignores old and deleted files when searching the directory for the file to
           retrieve.

           To get an old or deleted file, use the <b>-i</b> option and select the object as a hex object ID (first
           column in listing). The local filename must be specified.

       <b>getobject</b> <u>object-id</u> <u>local-filename</u>
           Gets the object specified by the object id (in hex) and stores the raw contents in the local file
           specified. Note: This is only useful for debugging as it does not decode files from the stored
           format, which is encrypted and compressed.

       <b>restore</b> [-d] <u>directory-name</u> <u>local-directory-name</u>

       <b>restore</b> <b>-r</b>
           Restores a directory to the local disc. The local directory specified must not exist (unless a
           previous restore is being restarted). The root cannot be restored -- restore locations individually.

           Options:

           <b>-d</b>
               restore a deleted directory

           <b>-r</b>
               resume an interrupted restore

           If a restore operation is interrupted for any reason, it can be restarted using the <b>-r</b> switch.
           Restore progress information is saved in a file at regular intervals during the restore operation to
           allow restarts.

       <b>usage</b> [-m]
           Show space used on the server for this account. Display fields:

           •   Used: Total amount of space used on the server

           •   Old files: Space used by old files

           •   Deleted files: Space used by deleted files

           •   Directories: Space used by the directory structure

               When Used exceeds the soft limit, the server will start to remove old and deleted files until the
               usage  drops below the soft limit. After a while, you should expect to see the usage stay at just
               below the soft limit. You only need more space if the space used by old and deleted files is near
               zero.

               The <b>-m</b> option displays output in machine-readable form.

</pre><h4><b>BUGS</b></h4><pre>
       If you find a bug in Box Backup and you want to let us know about it, join the <u>mailing</u> <u>list</u>[1]  and  send
       us a description of the problem there.

       To report a bug, give us at least the following information:

       •   The version of Box Backup you are running

       •   The platform you are running on (hardware and OS), for both client and server.

       •   If possible attach your config files (bbstored.conf, bbackupd.conf) to the bug report.

       •   Also attach any log file output that helps shed light on the problem you are seeing.

       •   And  last  but  certainly  not  least,  a  description  of  what you are seeing, in as much detail as
           possible.

</pre><h4><b>AUTHORS</b></h4><pre>
       Ben Summers

       Per Thomsen

       James O'Gorman

</pre><h4><b>NOTES</b></h4><pre>
        1. mailing list
           <a href="http://lists.warhead.org.uk/mailman/listinfo/boxbackup">http://lists.warhead.org.uk/mailman/listinfo/boxbackup</a>

Box Backup 0.11                                    06/06/2024                                    <u><a href="../man8/BBACKUPQUERY.8.html">BBACKUPQUERY</a></u>(8)
</pre>
 </div>
</div></section>
</div>
</body>
</html>