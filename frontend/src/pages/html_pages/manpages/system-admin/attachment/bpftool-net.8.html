<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>bpftool-net - tool for inspection of networking related bpf prog attachments</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/bpftool">bpftool_7.6.0+6.16.0-13.13_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       bpftool-net - tool for inspection of networking related bpf prog attachments

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>bpftool</b> [<u>OPTIONS</u>] <b>net</b> <u>COMMAND</u>

       <u>OPTIONS</u> := { { <b>-j</b> | <b>--json</b> } [{ <b>-p</b> | <b>--pretty</b> }] | { <b>-d</b> | <b>--debug</b> } }

       <u>COMMANDS</u> := { <b>show</b> | <b>list</b> | <b>attach</b> | <b>detach</b> | <b>help</b> }

</pre><h4><b>NET</b> <b>COMMANDS</b></h4><pre>
       <b>bpftool</b> <b>net</b> { <b>show</b> | <b>list</b> } [ <b>dev</b> <u>NAME</u> ]
       <b>bpftool</b> <b>net</b> <b>attach</b> <u>ATTACH_TYPE</u> <u>PROG</u> <b>dev</b> <u>NAME</u> [ <b>overwrite</b> ]
       <b>bpftool</b> <b>net</b> <b>detach</b> <u>ATTACH_TYPE</u> <b>dev</b> <u>NAME</u>
       <b>bpftool</b> <b>net</b> <b>help</b>

       <u>PROG</u> := { <b>id</b> <u>PROG_ID</u> | <b>pinned</b> <u>FILE</u> | <b>tag</b> <u>PROG_TAG</u> | <b>name</b> <u>PROG_NAME</u> }
       <u>ATTACH_TYPE</u> := { <b>xdp</b> | <b>xdpgeneric</b> | <b>xdpdrv</b> | <b>xdpoffload</b> | <b>tcx_ingress</b> | <b>tcx_egress</b> }

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>bpftool</b> <b>net</b> <b>{</b> <b>show</b> <b>|</b> <b>list</b> <b>}</b> <b>[</b> <b>dev</b> <u>NAME</u> <b>]</b>
              List bpf program attachments in the kernel networking subsystem.

              Currently,  device  driver  xdp  attachments,  tcx,  netkit  and  old-style  tc  classifier/action
              attachments, flow_dissector as well as netfilter attachments are implemented,  i.e.,  for  program
              types         <b>BPF_PROG_TYPE_XDP</b>,         <b>BPF_PROG_TYPE_SCHED_CLS</b>,         <b>BPF_PROG_TYPE_SCHED_ACT</b>,
              <b>BPF_PROG_TYPE_FLOW_DISSECTOR</b>, <b>BPF_PROG_TYPE_NETFILTER</b>.

              For   programs   attached   to    a    particular    cgroup,    e.g.,    <b>BPF_PROG_TYPE_CGROUP_SKB</b>,
              <b>BPF_PROG_TYPE_CGROUP_SOCK</b>,  <b>BPF_PROG_TYPE_SOCK_OPS</b>  and  <b>BPF_PROG_TYPE_CGROUP_SOCK_ADDR</b>, users can
              use <b>bpftool</b> <b>cgroup</b> to dump cgroup attachments. For sk_{filter, skb, msg, reuseport}  and  lwt/seg6
              bpf programs, users should consult other tools, e.g., iproute2.

              The  current output will start with all xdp program attachments, followed by all tcx, netkit, then
              tc class/qdisc bpf program attachments, then flow_dissector and finally netfilter  programs.  Both
              xdp  programs  and  tcx/netkit/tc  programs  are  ordered based on ifindex number. If multiple bpf
              programs attached to the same networking device through <b>tc</b>,  the  order  will  be  first  all  bpf
              programs  attached  to  tcx, netkit, then tc classes, then all bpf programs attached to non clsact
              qdiscs, and finally all bpf programs attached to root and clsact qdisc.

       <b>bpftool</b> <b>net</b> <b>attach</b> <u>ATTACH_TYPE</u> <u>PROG</u> <b>dev</b> <u>NAME</u> <b>[</b> <b>overwrite</b> <b>]</b>
              Attach bpf program <u>PROG</u> to network interface <u>NAME</u> with type specified by  <u>ATTACH_TYPE</u>.  Previously
              attached  bpf  program  can be replaced by the command used with <b>overwrite</b> option. Currently, only
              XDP-related modes are supported for <u>ATTACH_TYPE</u>.

              <u>ATTACH_TYPE</u> can be of: <b>xdp</b> - try native XDP and fallback to generic XDP if  NIC  driver  does  not
              support  it; <b>xdpgeneric</b> - Generic XDP. runs at generic XDP hook when packet already enters receive
              path as skb; <b>xdpdrv</b> - Native XDP. runs earliest point  in  driver's  receive  path;  <b>xdpoffload</b>  -
              Offload  XDP.  runs  directly  on NIC on each packet reception; <b>tcx_ingress</b> - Ingress TCX. runs on
              ingress net traffic; <b>tcx_egress</b> - Egress TCX. runs on egress net traffic;

       <b>bpftool</b> <b>net</b> <b>detach</b> <u>ATTACH_TYPE</u> <b>dev</b> <u>NAME</u>
              Detach bpf program attached to network interface <u>NAME</u>  with  type  specified  by  <u>ATTACH_TYPE</u>.  To
              detach bpf program, same <u>ATTACH_TYPE</u> previously used for attach must be specified. Currently, only
              XDP-related modes are supported for <u>ATTACH_TYPE</u>.

       <b>bpftool</b> <b>net</b> <b>help</b>
              Print short help message.

</pre><h4><b>OPTIONS</b></h4><pre>
       <b>-h</b>, <b>--help</b>
              Print short help message (similar to <b>bpftool</b> <b>help</b>).

       <b>-V</b>, <b>--version</b>
              Print  bpftool's  version number (similar to <b>bpftool</b> <b>version</b>), the number of the libbpf version in
              use, and optional features that were included when bpftool was compiled. Optional features include
              linking against LLVM or libbfd to provide the disassembler for JIT-ted programs (<b>bpftool</b> <b>prog</b> <b>dump</b>
              <b>jited</b>) and usage of BPF skeletons (some  features  like  <b>bpftool</b>  <b>prog</b>  <b>profile</b>  or  showing  pids
              associated to BPF objects may rely on it).

       <b>-j</b>, <b>--json</b>
              Generate JSON output. For commands that cannot produce JSON, this option has no effect.

       <b>-p</b>, <b>--pretty</b>
              Generate human-readable JSON output. Implies <b>-j</b>.

       <b>-d</b>, <b>--debug</b>
              Print  all logs available, even debug-level information. This includes logs from libbpf as well as
              from the verifier, when attempting to load programs.

</pre><h4><b>EXAMPLES</b></h4><pre>
       <b>#</b> <b>bpftool</b> <b>net</b>

          xdp:
          <a href="../man2/eth0.2.html">eth0</a>(2) driver id 198

          tc:
          <a href="../man2/eth0.2.html">eth0</a>(2) htb name prefix_matcher.o:[cls_prefix_matcher_htb] id 111727 act []
          <a href="../man2/eth0.2.html">eth0</a>(2) clsact/ingress fbflow_icmp id 130246 act []
          <a href="../man2/eth0.2.html">eth0</a>(2) clsact/egress prefix_matcher.o:[cls_prefix_matcher_clsact] id 111726
          <a href="../man2/eth0.2.html">eth0</a>(2) clsact/egress cls_fg_dscp id 108619 act []
          <a href="../man2/eth0.2.html">eth0</a>(2) clsact/egress fbflow_egress id 130245

       <b>#</b> <b>bpftool</b> <b>-jp</b> <b>net</b>

          [{
                  "xdp": [{
                          "devname": "eth0",
                          "ifindex": 2,
                          "mode": "driver",
                          "id": 198
                      }
                  ],
                  "tc": [{
                          "devname": "eth0",
                          "ifindex": 2,
                          "kind": "htb",
                          "name": "prefix_matcher.o:[cls_prefix_matcher_htb]",
                          "id": 111727,
                          "act": []
                      },{
                          "devname": "eth0",
                          "ifindex": 2,
                          "kind": "clsact/ingress",
                          "name": "fbflow_icmp",
                          "id": 130246,
                          "act": []
                      },{
                          "devname": "eth0",
                          "ifindex": 2,
                          "kind": "clsact/egress",
                          "name": "prefix_matcher.o:[cls_prefix_matcher_clsact]",
                          "id": 111726,
                      },{
                          "devname": "eth0",
                          "ifindex": 2,
                          "kind": "clsact/egress",
                          "name": "cls_fg_dscp",
                          "id": 108619,
                          "act": []
                      },{
                          "devname": "eth0",
                          "ifindex": 2,
                          "kind": "clsact/egress",
                          "name": "fbflow_egress",
                          "id": 130245,
                      }
                  ]
              }
          ]

       <b>#</b> <b>bpftool</b> <b>net</b> <b>attach</b> <b>xdpdrv</b> <b>id</b> <b>16</b> <b>dev</b> <b>enp6s0np0</b>
       <b>#</b> <b>bpftool</b> <b>net</b>

          xdp:
          <a href="../man4/enp6s0np0.4.html">enp6s0np0</a>(4) driver id 16

       <b>#</b> <b>bpftool</b> <b>net</b> <b>attach</b> <b>xdpdrv</b> <b>id</b> <b>16</b> <b>dev</b> <b>enp6s0np0</b>
       <b>#</b> <b>bpftool</b> <b>net</b> <b>attach</b> <b>xdpdrv</b> <b>id</b> <b>20</b> <b>dev</b> <b>enp6s0np0</b> <b>overwrite</b>
       <b>#</b> <b>bpftool</b> <b>net</b>

          xdp:
          <a href="../man4/enp6s0np0.4.html">enp6s0np0</a>(4) driver id 20

       <b>#</b> <b>bpftool</b> <b>net</b> <b>attach</b> <b>xdpdrv</b> <b>id</b> <b>16</b> <b>dev</b> <b>enp6s0np0</b>
       <b>#</b> <b>bpftool</b> <b>net</b> <b>detach</b> <b>xdpdrv</b> <b>dev</b> <b>enp6s0np0</b>
       <b>#</b> <b>bpftool</b> <b>net</b>

          xdp:

       <b>#</b> <b>bpftool</b> <b>net</b> <b>attach</b> <b>tcx_ingress</b> <b>name</b> <b>tc_prog</b> <b>dev</b> <b>lo</b>
       <b>#</b> <b>bpftool</b> <b>net</b>

          tc:
          <a href="../man1/lo.1.html">lo</a>(1) tcx/ingress tc_prog prog_id 29

       <b>#</b> <b>bpftool</b> <b>net</b> <b>attach</b> <b>tcx_ingress</b> <b>name</b> <b>tc_prog</b> <b>dev</b> <b>lo</b>
       <b>#</b> <b>bpftool</b> <b>net</b> <b>detach</b> <b>tcx_ingress</b> <b>dev</b> <b>lo</b>
       <b>#</b> <b>bpftool</b> <b>net</b>

          tc:

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man2/bpf.2.html">bpf</a></b>(2),    <b><a href="../man7/bpf-helpers.7.html">bpf-helpers</a></b>(7),    <b><a href="../man8/bpftool.8.html">bpftool</a></b>(8),    <b><a href="../man8/bpftool-btf.8.html">bpftool-btf</a></b>(8),    <b><a href="../man8/bpftool-cgroup.8.html">bpftool-cgroup</a></b>(8),    <b><a href="../man8/bpftool-feature.8.html">bpftool-feature</a></b>(8),
       <b><a href="../man8/bpftool-gen.8.html">bpftool-gen</a></b>(8),   <b><a href="../man8/bpftool-iter.8.html">bpftool-iter</a></b>(8),  <b><a href="../man8/bpftool-link.8.html">bpftool-link</a></b>(8),  <b><a href="../man8/bpftool-map.8.html">bpftool-map</a></b>(8),  <b><a href="../man8/bpftool-perf.8.html">bpftool-perf</a></b>(8),  <b><a href="../man8/bpftool-prog.8.html">bpftool-prog</a></b>(8),
       <b><a href="../man8/bpftool-struct_ops.8.html">bpftool-struct_ops</a></b>(8)

                                                                                                  <u><a href="../man8/BPFTOOL-NET.8.html">BPFTOOL-NET</a></u>(8)
</pre>
 </div>
</div></section>
</div>
</body>
</html>