<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>sg_stpg - send SCSI SET TARGET PORT GROUPS command</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/sg3-utils">sg3-utils_1.48-2ubuntu1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       sg_stpg - send SCSI SET TARGET PORT GROUPS command

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>sg_stpg</b>  [<u>--active</u>]  [<u>--help</u>]  [<u>--hex</u>]  [<u>--offline</u>]  [<u>--optimized</u>]  [<u>--raw</u>]  [<u>--standby</u>] [<u>--state=S,S...</u>]
       [<u>--tp=P,P...</u>] [<u>--unavailable</u>] [<u>--verbose</u>] [<u>--version</u>] <u>DEVICE</u>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       Send a SCSI SET TARGET PORT GROUPS command to <u>DEVICE</u>. This  utility  has  different  modes  depending  on
       whether the <u>--tp=</u> option is given.

       If  <u>--tp=</u> is given then the SET TARGET PORT GROUPS command parameter block is built with a descriptor for
       each element in the list given to <u>--tp=</u>. The corresponding asymmetric access state value is either  taken
       from  the  <u>--state=</u>  list  or,  if  that  is  not  given,  from  one  of the explicit state options (e.g.
       <u>--unavailable</u>), used repeatedly if required.

       If <u>--tp=</u> is not given then a sequence of SCSI commands are sent to the  <u>DEVICE</u>  leading  up  to  the  SET
       TARGET  PORT GROUPS command. First an INQUIRY is sent to fetch the device identification VPD page to find
       the (primary) target port group associated with <u>DEVICE</u>. Then a  REPORT  TARGET  PORT  GROUPS  command  is
       issued  to find the current state and whether a transition to the requested state is supported. If so the
       SET TARGET PORT GROUPS command is sent.

       Target port group access is described in SPC-4 found at www.t10.org in sections 5.8 and 5.16 (in rev  36e
       dated 2012/8/24). The SET TARGET PORT GROUPS command is also described in section 6.45 of that document.

</pre><h4><b>OPTIONS</b></h4><pre>
       Arguments  to  long  options  are  mandatory  for  short  options  as  well.  The options are arranged in
       alphabetical order based on the long option name.

       <b>-a</b>, <b>--active</b>
              set active/non-optimized state.

       <b>-h</b>, <b>--help</b>
              output the usage message then exit.

       <b>-H</b>, <b>--hex</b>
              output response to the REPORT TARGET PORT GROUPS command in hex then exit.

       <b>-O</b>, <b>-l</b>, <b>--offline</b>
              set offline state. This is the appropriate state to set a target port to  prior  to  removing  the
              device.   Note that a relative target port identifier should be given with this state (rather than
              a target port group identifier that all other states take).

       <b>-o</b>, <b>--optimized</b>
              set  active/optimized  state.  If  no  other  state  options  or  <u>--tp=</u>  option  are  given   then
              active/optimized is the default state.

       <b>-r</b>, <b>--raw</b>
              output response to the REPORT TARGET PORT GROUPS command in binary to stdout then exit.

       <b>-s</b>, <b>--standby</b>
              set  standby state. Port group shall accept those commands listed for "unavailable" state plus LOG
              SELECT/SENSE, MODE SELECT/SENSE, RECEIVE DIAGNOSTIC RESULTS, SEND DIAGNOSTIC,  PERSISTENT  RESERVE
              IN/OUT commands.

       <b>-S</b>, <b>--state</b>=<u>S,S...</u>
              specifies  a  comma  separated  list  (one  element  of  more)  of  states.  Either a number or an
              abbreviation can be given. A number is assumed to be a decimal number unless  it  is  prefixed  by
              "0x"  or has a trailing "h" in which case a hexadecimal value is assumed. Only the values 0, 1, 2,
              3 or 14 are accepted. The accepted abbreviations are "an", "ao", "o", "s" or "u"; which  represent
              active/<a href="../man1/non-optimized.1.html">non-optimized</a>(1),    active/<a href="../man0/optimized.0.html">optimized</a>(0),   <a href="../man14/offline.14.html">offline</a>(14),   <a href="../man2/standby.2.html">standby</a>(2)   or   <a href="../man3/unavailable.3.html">unavailable</a>(3)
              respectively.

       <b>-t</b>, <b>--tp</b>=<u>P,P...</u>
              specifies a comma separated list (one element of more). Each elements  is  either  a  target  port
              group  identifier (when the corresponding state is other than "offline") or a relative target port
              identifier (when the corresponding state is "offline"). Each element is assumed to  be  a  decimal
              number  unless  it  is prefixed by "0x" or has a trailing "h" in which case a hexadecimal value is
              assumed.

       <b>-u</b>, <b>--unavailable</b>
              set unavailable state. Port group shall only accept INQUIRY, REPORT LUNS, REPORT/SET  TARGET  PORT
              GROUPS, REQUEST SENSE and READ/WRITE BUFFER commands.

       <b>-v</b>, <b>--verbose</b>
              increase the level of verbosity, (i.e. debug output).

       <b>-V</b>, <b>--version</b>
              print the version string and then exit.

</pre><h4><b>NOTES</b></h4><pre>
       The  SET  TARGET  PORT  GROUPS  command should be supported whenever the TPGS value in a standard INQUIRY
       response is 2 or 3. [View with sg_inq utility.]

       Notice that the offline state is termed as a "secondary target port asymmetric access state" and takes  a
       relative  target port identifier (i.e.  acts on a single target port). All the other states are termed as
       "primary target port asymmetric access states" and each takes a target port group identifier  (i.e.  acts
       on one or more target ports).

       When <u>--tp=</u> is given then the same number of elements should be given to the <u>--state=</u> option. If more than
       one list element is given to <u>--tp=</u> and an equal number of elements is _not_ given to the <u>--state=</u> option,
       then if only one state is specified then it is repeated.

</pre><h4><b>EXIT</b> <b>STATUS</b></h4><pre>
       The exit status of sg_stpg is 0 when it is successful. Otherwise see the <a href="../man8/sg3_utils.8.html">sg3_utils</a>(8) man page.

</pre><h4><b>AUTHORS</b></h4><pre>
       Written by Douglas Gilbert.

</pre><h4><b>REPORTING</b> <b>BUGS</b></h4><pre>
       Report bugs to &lt;dgilbert at interlog dot com&gt;.

</pre><h4><b>COPYRIGHT</b></h4><pre>
       Copyright Â© 2007-2014 Hannes Reinecke, Christophe Varoqui and D Gilbert
       This  software  is  distributed  under  a  BSD-2-Clause  license.  There  is  NO  warranty;  not even for
       MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b>sg_inq,</b> <b>sg_rtpg</b> <b>(sg3_utils)</b>

sg3_utils-1.38                                    January 2014                                        <u><a href="../man8/SG_STPG.8.html">SG_STPG</a></u>(8)
</pre>
 </div>
</div></section>
</div>
</body>
</html>