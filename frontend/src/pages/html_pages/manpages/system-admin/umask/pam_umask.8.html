<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>pam_umask - PAM module to set the file mode creation mask</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libpam-runtime">libpam-runtime_1.7.0-5ubuntu1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       pam_umask - PAM module to set the file mode creation mask

</pre><h4><b>SYNOPSIS</b></h4><pre>

       <b>pam_umask.so</b> [debug] [silent] [usergroups] [nousergroups] [umask=<u>mask</u>]

</pre><h4><b>DESCRIPTION</b></h4><pre>
       pam_umask is a PAM module to set the file mode creation mask of the current environment. The umask
       affects the default permissions assigned to newly created files.

       The PAM module tries to get the umask value from the following places in the following order:

       •   umask= entry in the user's GECOS field (see below for details)

       •   umask= argument

       •   UMASK entry from <a href="file:/etc/login.defs">/etc/login.defs</a> (influenced by USERGROUPS_ENAB in <a href="file:/etc/login.defs">/etc/login.defs</a>)

       •   UMASK= entry from /etc/default/login

       The GECOS field is split on comma ',' characters. Entries must be set in its 'other' (sub-)field (the 5th
       field within the GECOS field), which could be done, for example, using <b>chfn</b> <b>--other</b>. In addition to the
       umask= entry, the module also recognizes the pri= entry, which sets the nice priority value for the
       session, and the ulimit= entry, which sets the maximum size of files the processes in the session can
       create.

</pre><h4><b>OPTIONS</b></h4><pre>
       debug
           Print debug information.

       silent
           Don't print informative messages.

       usergroups
           If the user is not root and the username is the same as primary group name, the umask group bits are
           set to be the same as owner bits (examples: 022 -&gt; 002, 077 -&gt; 007). Note that using this option
           explicitly is discouraged. pam_umask enables this functionality by default if <a href="file:/etc/login.defs">/etc/login.defs</a> enables
           USERGROUPS_ENAB, and the umask is not set explicitly in other places than <a href="file:/etc/login.defs">/etc/login.defs</a> (this is
           compatible with login's behaviour without PAM).

       nousergroups
           This is the direct opposite of the usergroups option described above, which can be useful in case
           pam_umask has been compiled with usergroups enabled by default and you want to disable it at runtime.

       umask=mask
           Sets the calling process's file mode creation mask (umask) to <b>mask</b> &amp; 0777. The value is interpreted
           as Octal.

</pre><h4><b>MODULE</b> <b>TYPES</b> <b>PROVIDED</b></h4><pre>
       Only the <b>session</b> type is provided.

</pre><h4><b>RETURN</b> <b>VALUES</b></h4><pre>
       PAM_SUCCESS
           The new umask was set successfully.

       PAM_BUF_ERR
           Memory buffer error.

       PAM_CONV_ERR
           The conversation method supplied by the application failed to obtain the username.

       PAM_INCOMPLETE
           The conversation method supplied by the application returned PAM_CONV_AGAIN.

       PAM_SERVICE_ERR
           No username was given.

       PAM_USER_UNKNOWN
           User not known.

</pre><h4><b>EXAMPLES</b></h4><pre>
       Add the following line to <a href="file:/etc/pam.d/login">/etc/pam.d/login</a> to set the user specific umask at login:

                   session optional pam_umask.so umask=0022

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man5/pam.conf.5.html">pam.conf</a></b>(5), <b><a href="../man5/pam.d.5.html">pam.d</a></b>(5), <b><a href="../man7/pam.7.html">pam</a></b>(7)

</pre><h4><b>AUTHOR</b></h4><pre>
       pam_umask was written by Thorsten Kukuk &lt;<a href="mailto:kukuk@thkukuk.de">kukuk@thkukuk.de</a>&gt;.

Linux-PAM                                          07/03/2025                                       <u><a href="../man8/PAM_UMASK.8.html">PAM_UMASK</a></u>(8)
</pre>
 </div>
</div></section>
</div>
</body>
</html>