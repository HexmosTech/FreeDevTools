<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>fsck.gfs2 - offline GFS and GFS2 file system checker</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/gfs2-utils">gfs2-utils_3.6.1-1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       fsck.gfs2 - offline GFS and GFS2 file system checker

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>fsck.gfs2</b> [<u>options</u>] <u>device</u>

</pre><h4><b>WARNING</b></h4><pre>
       All  computers  <u>must</u> have the filesystem unmounted before running fsck.gfs2.  Failure to unmount from all
       nodes in a cluster will likely result in filesystem corruption.

</pre><h4><b>DESCRIPTION</b></h4><pre>
       fsck.gfs2 will check that the GFS or GFS2 file system on a device is structurally valid.  It  should  not
       be  run  on  a mounted file system.  If file system corruption is detected, it will attempt to repair the
       file system.  There is a limit to what fsck.gfs2  can  do.   If  important  file  system  structures  are
       destroyed, such that the checker cannot determine what the repairs should be, reparations could fail.

       Other file system checkers will not check the file system if it is "clean" (i.e. unmounted since the last
       use).  With gfs2, storage may be shared among several nodes in a cluster, and therefore problems may have
       been  introduced  on a different computer.  Therefore, fsck.gfs2 will always check the file system unless
       the -p (preen) option is used, in which case it follows special rules (see below).

       fsck.gfs2 will log a message to the system log on start and exit to aid debugging and administration.

</pre><h4><b>OPTIONS</b></h4><pre>
       <b>-a</b>     Same as the <b>-p</b> (preen) option.

       <b>-f</b>     Force checking even if the file system seems clean.

       <b>-h</b>     Help.

              This prints out the proper command line usage syntax.

       <b>-q</b>     Quiet.

       <b>-n</b>     No to all questions. By specifying this option, fsck.gfs2 will only show the changes that would be
              made, but not make any changes to the filesystem.

              This option may not be used with the <b>-y</b> or <b>-p</b>/<b>-a</b> options.

       <b>-p</b>     Automatically repair ("preen") the file system if it is dirty and safe to do so, otherwise exit.

              If the file system has locking protocol <u>lock_nolock</u>, it is considered a non-shared storage  device
              and  it  is  considered safe.  If the locking protocol is lock_dlm and <b>-a</b> or <b>-p</b> was specified, the
              check is considered unsafe as it cannot be determined whether the device is mounted by other nodes
              in the cluster.  In this case a warning is given if any damage or dirty journals  are  found.  The
              file  system  should  then  be unmounted from all nodes in the cluster and fsck.gfs2 should be run
              manually without the <b>-a</b> or <b>-p</b> options.

              This option may not be used with the <b>-n</b> or <b>-y</b> options.

       <b>-V</b>     Print out the program version information.

       <b>-v</b>     Verbose operation.

              Print more information while running.

       <b>-y</b>     Yes to all questions. By specifying this option, fsck.gfs2 will not prompt before making changes.

              This option may not be used with the <b>-n</b> or <b>-p</b>/<b>-a</b> options.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man5/gfs2.5.html">gfs2</a></b>(5), <b><a href="../man8/gfs2_jadd.8.html">gfs2_jadd</a></b>(8), <b><a href="../man8/gfs2_grow.8.html">gfs2_grow</a></b>(8)

                                                                                                    <u><a href="../man8/fsck.gfs2.8.html">fsck.gfs2</a></u>(8)
</pre>
 </div>
</div></section>
</div>
</body>
</html>