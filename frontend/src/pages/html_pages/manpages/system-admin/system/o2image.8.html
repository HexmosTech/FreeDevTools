<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>o2image - Copy or restore OCFS2 file system meta-data</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/ocfs2-tools">ocfs2-tools_1.8.8-3build1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       o2image - Copy or restore <u>OCFS2</u> file system meta-data

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>o2image</b> [<b>-r</b>] [<b>-I</b>] <u>device</u> <u>image-file</u>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>o2image</b>  copies  the  <u>OCFS2</u> file system meta-data from the device to the specified image-file. This image
       file contains the file system skeleton that includes the inodes, directory names and file names. It  does
       <b>not</b> include any file data.

       This  image  file  can be useful to debug certain problems that are not reproducible otherwise.  Like on-
       disk corruptions. It could also be used to analyse the file system layout in an aging file system with an
       eye towards improving performance.

       As the image-file contains a copy of all the meta-data blocks, it can be a large file.  By default, it is
       created in a packed format, in which all meta-data blocks are written back-to-back. With the  <b>-r</b>  option,
       the  user could choose to have the file in the raw (or sparse) format, in which the blocks are written to
       the same offset as they are on the device.

       <u>debugfs.ocfs2</u> understands both formats.

       <b>o2image</b> also has the option, <u>-I</u>, to restore the meta-data from the  image  file  onto  the  device.  This
       option will rarely be useful to end-users and has been written specifically for developers and testers.

</pre><h4><b>OPTIONS</b></h4><pre>
       <b>-r</b>     Copies  the meta-data to the image-file in the raw format. Use this option only if the destination
              file system supports sparse files. If unsure, do not use this option and let the tool  create  the
              image-file in the packed format.

       <b>-I</b>     Restores  meta-data  from  the  image-file onto the device. <b>CAUTION:</b> <b>This</b> <b>option</b> <b>could</b> <b>corrupt</b> <b>the</b>
              <b>file</b> <b>system.</b>

       <b>-i</b>     Interactive mode - before writing out the image file print it's size and ask whether  to  proceed.
              This  setting  only  applies  when  '-I'  is  not specified. It can be useful when the file system
              holding the image is low on disk space and the user might need to free up space  once  the  target
              image size is calculated.

</pre><h4><b>EXAMPLES</b></h4><pre>
       Copies metadata blocks from /dev/sda1 device to sda1.out file.

       # o2image /dev/sda1 sda1.out

       <b>Copies</b>  <b>meta-data</b> <b>blocks</b> <b>from</b> <b>sda1.out</b> <b>onto</b> <b>the</b> <b>/dev/sda1</b> <b>device.</b> <b>As</b> <b>this</b> <b>command</b> <b>over-writes</b> <b>an</b> <b>existing</b>
       <b>volume,</b> <b>please</b> <b>use</b> <b>with</b> <b>CAUTION</b>.

       # o2image -I /dev/sda1 sda1.out

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man8/debugfs.ocfs2.8.html">debugfs.ocfs2</a>(8)</b>  <b><a href="../man8/fsck.ocfs2.8.html">fsck.ocfs2</a>(8)</b>  <b><a href="../man8/fsck.ocfs2.checks.8.html">fsck.ocfs2.checks</a>(8)</b>   <b><a href="../man8/mkfs.ocfs2.8.html">mkfs.ocfs2</a>(8)</b>   <b><a href="../man8/mount.ocfs2.8.html">mount.ocfs2</a>(8)</b>   <b><a href="../man8/mounted.ocfs2.8.html">mounted.ocfs2</a>(8)</b>
       <b><a href="../man8/o2cluster.8.html">o2cluster</a>(8)</b> <b><a href="../man1/o2info.1.html">o2info</a>(1)</b> <b><a href="../man8/tunefs.ocfs2.8.html">tunefs.ocfs2</a>(8)</b>

</pre><h4><b>AUTHORS</b></h4><pre>
       Oracle Corporation

</pre><h4><b>COPYRIGHT</b></h4><pre>
       Copyright Â© 2007, 2012 Oracle. All rights reserved.

Version 1.8.8                                     January 2012                                        <u><a href="../man8/o2image.8.html">o2image</a></u>(8)
</pre>
 </div>
</div></section>
</div>
</body>
</html>