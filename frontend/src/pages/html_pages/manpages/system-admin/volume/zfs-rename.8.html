<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>zfs-rename — rename ZFS dataset</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/zfsutils-linux">zfsutils-linux_2.3.1-1ubuntu2_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       zfs-rename — rename ZFS dataset

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>zfs</b> <b>rename</b> [<b>-f</b>] <u>filesystem</u>|<u>volume</u>|<u>snapshot</u> <u>filesystem</u>|<u>volume</u>|<u>snapshot</u>
       <b>zfs</b> <b>rename</b> <b>-p</b> [<b>-f</b>] <u>filesystem</u>|<u>volume</u> <u>filesystem</u>|<u>volume</u>
       <b>zfs</b> <b>rename</b> <b>-u</b> [<b>-f</b>] <u>filesystem</u> <u>filesystem</u>
       <b>zfs</b> <b>rename</b> <b>-r</b> <u>snapshot</u> <u>snapshot</u>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>zfs</b> <b>rename</b> [<b>-f</b>] <u>filesystem</u>|<u>volume</u>|<u>snapshot</u> <u>filesystem</u>|<u>volume</u>|<u>snapshot</u>

       <b>zfs</b> <b>rename</b> <b>-p</b> [<b>-f</b>] <u>filesystem</u>|<u>volume</u> <u>filesystem</u>|<u>volume</u>

       <b>zfs</b> <b>rename</b> <b>-u</b> [<b>-f</b>] <u>filesystem</u> <u>filesystem</u>
         Renames  the  given  dataset.   The  new  target can be located anywhere in the ZFS hierarchy, with the
         exception of snapshots.  Snapshots can only be renamed within the parent file system or  volume.   When
         renaming  a  snapshot,  the parent file system of the snapshot does not need to be specified as part of
         the second argument.  Renamed file systems can inherit  new  mount  points,  in  which  case  they  are
         unmounted and remounted at the new mount point.

         <b>-f</b>  Force  unmount  any file systems that need to be unmounted in the process.  This flag has no effect
             if used together with the <b>-u</b> flag.

         <b>-p</b>  Creates all the nonexistent parent datasets.  Datasets created in  this  manner  are  automatically
             mounted according to the <b>mountpoint</b> property inherited from their parent.

         <b>-u</b>  Do not remount file systems during rename.  If a file system's <b>mountpoint</b> property is set to <b>legacy</b>
             or <b>none</b>, the file system is not unmounted even if this option is not given.

       <b>zfs</b> <b>rename</b> <b>-r</b> <u>snapshot</u> <u>snapshot</u>
         Recursively  rename  the snapshots of all descendent datasets.  Snapshots are the only dataset that can
         be renamed recursively.

</pre><h4><b>EXAMPLES</b></h4><pre>
   <b>Example</b> <b>1</b>: Promoting a ZFS Clone
       The following commands illustrate how to test out changes to a file system, and then replace the original
       file system with the changed one, using clones, clone promotion, and renaming:
             # <b>zfs</b> <b>create</b> <u>pool/project/production</u>
               populate /pool/project/production with data
             # <b>zfs</b> <b>snapshot</b> <u>pool/project/production</u>@<u>today</u>
             # <b>zfs</b> <b>clone</b> <u>pool/project/production@today</u> <u>pool/project/beta</u>
               make changes to /pool/project/beta and test them
             # <b>zfs</b> <b>promote</b> <u>pool/project/beta</u>
             # <b>zfs</b> <b>rename</b> <u>pool/project/production</u> <u>pool/project/legacy</u>
             # <b>zfs</b> <b>rename</b> <u>pool/project/beta</u> <u>pool/project/production</u>
               once the legacy version is no longer needed, it can be destroyed
             # <b>zfs</b> <b>destroy</b> <u>pool/project/legacy</u>

   <b>Example</b> <b>2</b>: Performing a Rolling Snapshot
       The following example shows how to maintain a history of snapshots with a consistent naming  scheme.   To
       keep a week's worth of snapshots, the user destroys the oldest snapshot, renames the remaining snapshots,
       and then creates a new snapshot, as follows:
             # <b>zfs</b> <b>destroy</b> <b>-r</b> <u>pool/users@7daysago</u>
             # <b>zfs</b> <b>rename</b> <b>-r</b> <u>pool/users@6daysago</u> @<u>7daysago</u>
             # <b>zfs</b> <b>rename</b> <b>-r</b> <u>pool/users@5daysago</u> @<u>6daysago</u>
             # <b>zfs</b> <b>rename</b> <b>-r</b> <u>pool/users@4daysago</u> @<u>5daysago</u>
             # <b>zfs</b> <b>rename</b> <b>-r</b> <u>pool/users@3daysago</u> @<u>4daysago</u>
             # <b>zfs</b> <b>rename</b> <b>-r</b> <u>pool/users@2daysago</u> @<u>3daysago</u>
             # <b>zfs</b> <b>rename</b> <b>-r</b> <u>pool/users@yesterday</u> @<u>2daysago</u>
             # <b>zfs</b> <b>rename</b> <b>-r</b> <u>pool/users@today</u> @<u>yesterday</u>
             # <b>zfs</b> <b>snapshot</b> <b>-r</b> <u>pool/users</u>@<u>today</u>

OpenZFS                                          March 16, 2022                                    <u><a href="../man8/ZFS-RENAME.8.html">ZFS-RENAME</a></u>(8)
</pre>
 </div>
</div></section>
</div>
</body>
</html>