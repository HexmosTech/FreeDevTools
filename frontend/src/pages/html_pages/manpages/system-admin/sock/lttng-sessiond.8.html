<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>lttng-sessiond - LTTng session daemon</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/lttng-tools">lttng-tools_2.13.15-2ubuntu1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       lttng-sessiond - LTTng session daemon

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>lttng-sessiond</b> [<b>--background</b> | <b>--daemonize</b>] [<b>--sig-parent</b>]
                      [<b>--config</b>=<u>PATH</u>] [<b>--group</b>=<u>GROUP</u>] [<b>--load</b>=<u>PATH</u>]
                      [<b>--agent-tcp-port</b>=<u>PORT</u>]
                      [<b>--apps-sock</b>=<u>PATH</u>] [<b>--client-sock</b>=<u>PATH</u>]
                      [<b>--no-kernel</b> | [<b>--kmod-probes</b>=<u>PROBE</u>[,<u>PROBE</u>]...]
                                     [<b>--extra-kmod-probes</b>=<u>PROBE</u>[,<u>PROBE</u>]...]
                                     [<b>--kconsumerd-err-sock</b>=<u>PATH</u>]
                                     [<b>--kconsumerd-cmd-sock</b>=<u>PATH</u>]]
                      [<b>--ustconsumerd32-err-sock</b>=<u>PATH</u>]
                      [<b>--ustconsumerd64-err-sock</b>=<u>PATH</u>]
                      [<b>--ustconsumerd32-cmd-sock</b>=<u>PATH</u>]
                      [<b>--ustconsumerd64-cmd-sock</b>=<u>PATH</u>]
                      [<b>--consumerd32-path</b>=<u>PATH</u>] [<b>--consumerd32-libdir</b>=<u>PATH</u>]
                      [<b>--consumerd64-path</b>=<u>PATH</u>] [<b>--consumerd64-libdir</b>=<u>PATH</u>]
                      [<b>--event-notifier-error-buffer-size-kernel</b>=<u>SLOTS</u>]
                      [<b>--event-notifier-error-buffer-size-userspace</b>=<u>SLOTS</u>]
                      [<b>--quiet</b> | [<b>--verbose</b>]... [<b>--verbose-consumer</b>]]

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The <u>Linux</u> <u>Trace</u> <u>Toolkit:</u> <u>next</u> <u>generation</u> &lt;https://lttng.org/&gt; is an open-source software package used for
       correlated tracing of the Linux kernel, user applications, and user libraries.

       LTTng consists of Linux kernel modules (for Linux kernel tracing) and dynamically loaded libraries (for
       user application and library tracing).

       An LTTng session daemon, <b>lttng-sessiond</b>, is a program which:

       •   Manages recording sessions (see <b><a href="../man7/lttng-concepts.7.html">lttng-concepts</a></b>(7) to learn more about recording sessions).

       •   Controls the various components (like tracers and consumer daemons) of LTTng.

       •   Sends asynchronous notifications to user applications.

       A session daemon receives commands from the <b><a href="../man1/lttng.1.html">lttng</a></b>(1) command-line tool, as well as from any user
       application linked with the LTTng control library (<b>liblttng-ctl</b>).

       Each Unix user may have its own independent running session daemon. However, the <b><a href="../man1/lttng.1.html">lttng</a></b>(1) tool must
       connect to the session daemon of the <b>root</b> user (the root session daemon) to control Linux kernel tracing.

       When you start <b>lttng-sessiond</b> as the <b>root</b> Unix user, a non-root Unix user can connect to it if it’s part
       of the Unix tracing group. By default, the name of the tracing group is <b>tracing</b>. Override the tracing
       group name with the <b>--group</b> option.

       See the “Session daemon connection” section of <b><a href="../man1/lttng.1.html">lttng</a></b>(1) to learn how a user application connects to a
       session daemon.

       A session daemon manages trace data consumer daemons, spawning them when necessary. You do NOT need to
       manage the consumer daemons yourself.

       By default, <b>lttng-sessiond</b> doesn’t start as a daemon. Make it a daemon with the <b>--daemonize</b> or
       <b>--background</b> option. With those options, <b>lttng-sessiond</b> ensures the daemon is ready to receive client
       commands before it exits.

       <b>Note</b>

           The LTTng project recommends that you start the session daemon at boot time for stable and long-term
           tracing.

       <b>Note</b>

           For an unprivileged Unix user running <b>lttng-sessiond</b>, the maximum number of file descriptors per
           process is usually 1024. This limits the number of traceable applications, since, for each
           instrumented application, there are two file descriptors per CPU as well as one socket for
           bidirectional communication.

           For the <b>root</b> user, the limit is usually 65,535.

   <b>Daemon</b> <b>configuration</b>
       When you run <b>lttng-sessiond</b>, it configures itself from, in this order:

        1. The INI configuration file <b>/etc/lttng/lttng.conf</b>, if any.

        2. The INI configuration file <b>$LTTNG_HOME/.lttng/lttng.conf</b>, if any.

           <b>$LTTNG_HOME</b> defaults to <b>$HOME</b>.

        3. With the <b>--config</b>=<u>PATH</u> option: the INI configuration file <u>PATH</u>.

        4. The command-line options.

       Each step can override a previous configuration property.

       In INI configuration files, the session daemon only reads the properties under the <b>sessiond</b> INI section.
       Each INI property is:

       Key
           The long name of a command-line option to set (see the “OPTIONS” section below).

       Value

           The selected command-line option accepts an argument
               Option argument (string).

           The selected command-line option is a switch

               <b>true</b>, <b>yes</b>, <b>on</b>
                   Enable the option.

               <b>false</b>, <b>no</b>, <b>off</b>
                   Disable the option.

       INI configuration file example:

           [sessiond]
           daemonize=yes
           extra-kmod-probes=my-driver,other-module

   <b>Recording</b> <b>session</b> <b>configuration</b> <b>loading</b>
       When the session daemon starts, it loads recording session configurations from:

       Without the <b>--load</b> option
           In this order:

            1. All the files in <b>$LTTNG_HOME/.lttng/sessions/auto</b>.

               <b>$LTTNG_HOME</b> defaults to <b>$HOME</b>.

            2. All the files in <b>/etc/lttng/sessions/auto</b>.

           <b>lttng-sessiond</b> only loads recording session configuration files from the directories above if its UID
           and their UID are the same.

       With the <b>--load</b>=<u>PATH</u> option

           <u>PATH</u> is a directory
               All the files in <u>PATH</u>.

           <u>PATH</u> is a file
               The file <u>PATH</u>.

</pre><h4><b>OPTIONS</b></h4><pre>
   <b>General</b> <b>daemon</b> <b>configuration</b>
       <b>-b</b>, <b>--background</b>
           Start as a Unix daemon, but keep file descriptors (console) open.

           With this option, <b>lttng-sessiond</b> ensures the daemon is ready to receive client commands before it
           exits.

           Use the <b>--daemonize</b> option instead to close the file descriptors.

       <b>-f</b> <u>PATH</u>, <b>--config</b>=<u>PATH</u>
           Configure the daemon using the INI configuration file <u>PATH</u> in addition to the default configuration
           files and the command-line options.

           See the “Daemon configuration” section above.

       <b>-d</b>, <b>--daemonize</b>
           Start as a Unix daemon and close file descriptors (console).

           With this option, <b>lttng-sessiond</b> ensures the daemon is ready to receive client commands before it
           exits.

           Use the <b>--background</b> option instead to keep the file descriptors open.

       <b>-g</b> <u>GROUP</u>, <b>--group</b>=<u>GROUP</u>
           Set the Unix tracing group to <u>GROUP</u> instead of <b>tracing</b>.

           This option is only meaningful when the <b>root</b> Unix user starts <b>lttng-sessiond</b>.

           Members of the Unix tracing group may connect to the root session daemon and, therefore, control
           LTTng kernel tracing.

       <b>-l</b> <u>PATH</u>, <b>--load</b>=<u>PATH</u>
           Load recording session configurations from <u>PATH</u>, either a directory or a file, instead of loading
           them from the default search directories.

           See the “Recording session configuration loading” section above.

       <b>-S</b>, <b>--sig-parent</b>
           Send the <b>USR1</b> signal to the parent process to notify readiness.

           You can also use the <b>--daemonize</b> or <b>--background</b> option, in which case <b>lttng-sessiond</b> ensures the
           daemon is ready to receive client commands before it exits.

   <b>Linux</b> <b>kernel</b> <b>tracing</b>
       At most one of:

       <b>--extra-kmod-probes</b>=<u>PROBE</u>[,<u>PROBE</u>]...
           For each <u>PROBE</u> argument, load the LTTng kernel probe module named <b>lttng-probe-</b><u>PROBE</u><b>.ko</b>, in addition
           to loading the default LTTng kernel probe modules.

           See also the <b>LTTNG_EXTRA_KMOD_PROBES</b> environment variable.

       <b>--kmod-probes</b>=<u>PROBE</u>[,<u>PROBE</u>]...
           Only load, for each <u>PROBE</u> argument, the LTTng kernel probe module named <b>lttng-probe-</b><u>PROBE</u><b>.ko</b>, instead
           of loading the default LTTng kernel probe modules.

           See also the <b>LTTNG_KMOD_PROBES</b> environment variable.

       <b>--no-kernel</b>
           Disable Linux kernel tracing.

   <b>Paths</b> <b>and</b> <b>ports</b>
       <b>--agent-tcp-port</b>=<u>PORT</u>
           Listen on TCP port <u>PORT</u> for agent application registration instead of a port within the range
           [5345, 5354]).

       <b>-a</b> <u>PATH</u>, <b>--apps-sock</b>=<u>PATH</u>
           Set the application Unix socket path to <u>PATH</u>.

       <b>-c</b> <u>PATH</u>, <b>--client-sock</b>=<u>PATH</u>
           Set the client Unix socket path to <u>PATH</u>.

       <b>--consumerd32-libdir</b>=<u>PATH</u>
           Set the 32-bit consumer daemon library directory to <u>PATH</u>.

           See also the <b>LTTNG_CONSUMERD32_LIBDIR</b> environment variable.

       <b>--consumerd32-path</b>=<u>PATH</u>
           Set the 32-bit consumer daemon binary path to <u>PATH</u>.

           See also the <b>LTTNG_CONSUMERD32_BIN</b> environment variable.

       <b>--consumerd64-libdir</b>=<u>PATH</u>
           Set the 64-bit consumer daemon library directory to <u>PATH</u>.

           See also the <b>LTTNG_CONSUMERD64_LIBDIR</b> environment variable.

       <b>--consumerd64-path</b>=<u>PATH</u>
           Set the 64-bit consumer daemon binary path to <u>PATH</u>.

           See also the <b>LTTNG_CONSUMERD32_BIN</b> environment variable.

       <b>--kconsumerd-cmd-sock</b>=<u>PATH</u>
           Set the command Unix socket path of the Linux kernel consumer daemon to <u>PATH</u>.

       <b>--kconsumerd-err-sock</b>=<u>PATH</u>
           Set the error Unix socket path of the Linux kernel consumer daemon to <u>PATH</u>.

       <b>--ustconsumerd32-cmd-sock</b>=<u>PATH</u>
           Set the Unix socket path of the 32-bit consumer daemon command to <u>PATH</u>.

       <b>--ustconsumerd64-cmd-sock</b>=<u>PATH</u>
           Set the Unix socket path of the 64-bit consumer daemon command to <u>PATH</u>.

       <b>--ustconsumerd32-err-sock</b>=<u>PATH</u>
           Set the Unix socket path of the 32-bit consumer daemon error to <u>PATH</u>.

       <b>--ustconsumerd64-err-sock</b>=<u>PATH</u>
           Set the Unix socket path of the 64-bit consumer daemon error to <u>PATH</u>.

   <b>Buffer</b> <b>size</b> <b>of</b> <b>event</b> <b>notifier</b> <b>error</b> <b>counters</b>
       <b>--event-notifier-error-buffer-size-kernel</b>=<u>SLOTS</u>
           Set the size of the kernel event notifier error counter buffers to <u>SLOTS</u> slots.

       <b>--event-notifier-error-buffer-size-userspace</b>=<u>SLOTS</u>
           Set the size of the user space event notifier error counter buffers to <u>SLOTS</u> slots.

       As of LTTng 2.13.15, a <u>slot</u> is a 32-bit counter, but this may change in the future.

   <b>Verbosity</b>
       <b>-q</b>, <b>--quiet</b>
           Suppress all messages, including warnings and errors.

           You may NOT use this option with the <b>--verbose</b> and <b>--verbose-consumer</b> options.

       <b>-v</b>, <b>--verbose</b>
           Increase verbosity.

           Specify this option up to three times to get more levels of verbosity.

           You may NOT use this option with the <b>--quiet</b> option.

       <b>--verbose-consumer</b>
           Increase the verbosity of the consumer daemons which this session daemon spawns.

           You may NOT use this option with the <b>--quiet</b> option.

   <b>Program</b> <b>information</b>
       <b>-h</b>, <b>--help</b>
           Show help.

           This option attempts to launch <b><a href="file:///usr/lib/w3m/cgi-bin/w3mman2html.cgi?man">/usr/bin/man</a></b> to view this manual page. Override the manual pager path
           with the <b>LTTNG_MAN_BIN_PATH</b> environment variable.

       <b>--list-options</b>
           List available command options and quit.

       <b>-V</b>, <b>--version</b>
           Show version and quit.

</pre><h4><b>EXIT</b> <b>STATUS</b></h4><pre>
       <b>0</b>
           Success

       <b>1</b>
           Error

       <b>3</b>
           Fatal error

</pre><h4><b>ENVIRONMENT</b></h4><pre>
       <b>LTTNG_ABORT_ON_ERROR</b>
           Set to <b>1</b> to abort the process after the first error is encountered.

       <b>LTTNG_APP_SOCKET_TIMEOUT</b>
           Timeout (in seconds) of the application socket when sending/receiving commands.

           After this period of time, <b>lttng-sessiond</b> unregisters the application.

           Set to <b>0</b> or <b>-1</b> to set an infinite timeout.

           Default: <b>5</b>.

       <b>LTTNG_CONSUMERD32_BIN</b>
           32-bit consumer daemon binary path.

           The <b>--consumerd32-path</b> option overrides this environment variable.

       <b>LTTNG_CONSUMERD32_LIBDIR</b>
           32-bit consumer daemon library directory path.

           The <b>--consumerd32-libdir</b> option overrides this environment variable.

       <b>LTTNG_CONSUMERD64_BIN</b>
           64-bit consumer daemon binary path.

           The <b>--consumerd64-path</b> option overrides this environment variable.

       <b>LTTNG_CONSUMERD64_LIBDIR</b>
           64-bit consumer daemon library directory path.

           The <b>--consumerd64-libdir</b> option overrides this environment variable.

       <b>LTTNG_DEBUG_NOCLONE</b>
           Set to <b>1</b> to disable the use of <b><a href="../man2/clone.2.html">clone</a></b>(2)/<b><a href="../man2/fork.2.html">fork</a></b>(2).

           Setting this environment variable is considered insecure, but it’s required to allow debuggers to
           work with <b>lttng-sessiond</b> on some operating systems.

       <b>LTTNG_EXTRA_KMOD_PROBES</b>
           Extra LTTng kernel probe modules to load.

           See the <b>--extra-kmod-probes</b> option which overrides this environment variable.

       <b>LTTNG_KMOD_PROBES</b>
           Exclusive LTTng kernel probe modules to load.

           See the <b>--kmod-probes</b> option which overrides this environment variable.

       <b>LTTNG_NETWORK_SOCKET_TIMEOUT</b>
           Socket connection, receive, and send timeout (milliseconds).

           Set to <b>0</b> or <b>-1</b> to use the timeout of the operating system (default).

       <b>LTTNG_SESSION_CONFIG_XSD_PATH</b>
           Recording session configuration XML schema definition (XSD) path.

</pre><h4><b>FILES</b></h4><pre>
       <b>$LTTNG_HOME/.lttng</b>
           Unix user’s LTTng runtime and configuration directory.

       <b>$LTTNG_HOME/lttng-traces</b>
           Default output directory of LTTng traces in local and snapshot modes.

           Override this path with the <b>--output</b> option of the <b><a href="../man1/lttng-create.1.html">lttng-create</a></b>(1) command.

       <b>$LTTNG_HOME/.lttng/sessions/auto</b>
           Directory from which <b>lttng-sessiond</b> loads Unix user recording session configurations when starting.

           See the “Recording session configuration loading” section above to learn more.

       <b>/etc/lttng/sessions/auto</b>
           Directory from which <b>lttng-sessiond</b> loads system-wide recording session configurations when starting.

           See the “Recording session configuration loading” section above to learn more.

       <b>$LTTNG_HOME/.lttng/lttng.conf</b>
           Unix user’s LTTng daemon INI configuration file.

           See the “Daemon configuration” section above to learn more.

       <b>/etc/lttng/lttng.conf</b>
           System-wide LTTng daemon INI configuration file.

           See the “Daemon configuration” section above to learn more.

       <b>Note</b>

           <b>$LTTNG_HOME</b> defaults to <b>$HOME</b>.

</pre><h4><b>RESOURCES</b></h4><pre>
       •   LTTng project website &lt;https://lttng.org&gt;

       •   LTTng documentation &lt;https://lttng.org/docs&gt;

       •   LTTng bug tracker &lt;https://bugs.lttng.org&gt;

       •   Git repositories &lt;https://git.lttng.org&gt;

       •   GitHub organization &lt;https://github.com/lttng&gt;

       •   Continuous integration &lt;https://ci.lttng.org/&gt;

       •   Mailing list &lt;https://lists.lttng.org/&gt; for support and development: <b><a href="mailto:lttng-dev@lists.lttng.org">lttng-dev@lists.lttng.org</a></b>

       •   IRC channel &lt;irc://irc.oftc.net/lttng&gt;: <b>#lttng</b> on <b>irc.oftc.net</b>

</pre><h4><b>COPYRIGHT</b></h4><pre>
       This program is part of the LTTng-tools project.

       LTTng-tools is distributed under the GNU General Public License version 2
       &lt;<a href="http://www.gnu.org/licenses/old-licenses/gpl-2.0.en.html">http://www.gnu.org/licenses/old-licenses/gpl-2.0.en.html</a>&gt;. See the <b>LICENSE</b>
       &lt;https://github.com/lttng/lttng-tools/blob/master/LICENSE&gt; file for details.

</pre><h4><b>THANKS</b></h4><pre>
       Special thanks to Michel Dagenais and the DORSAL laboratory &lt;<a href="http://www.dorsal.polymtl.ca/">http://www.dorsal.polymtl.ca/</a>&gt; at École
       Polytechnique de Montréal for the LTTng journey.

       Also thanks to the Ericsson teams working on tracing which helped us greatly with detailed bug reports
       and unusual test cases.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man1/lttng.1.html">lttng</a></b>(1), <b><a href="../man7/lttng-concepts.7.html">lttng-concepts</a></b>(7)

LTTng 2.13.15                                     14 June 2021                                 <u><a href="../man8/LTTNG-SESSIOND.8.html">LTTNG-SESSIOND</a></u>(8)
</pre>
 </div>
</div></section>
</div>
</body>
</html>