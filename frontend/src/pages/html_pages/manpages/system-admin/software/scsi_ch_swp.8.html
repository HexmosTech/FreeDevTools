<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>scsi_ch_swp - change SCSI Software WRITE Protect and block device settings</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/sdparm">sdparm_1.12-2_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       scsi_ch_swp - change SCSI Software WRITE Protect and block device settings

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>scsi_ch_swp</b> [<u>--help</u>] [<u>--set</u> <u>0|1</u>] [<u>--verbose</u>] [<u>--wr</u>] <u>BLK_DEVICE</u>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       This  bash  shell  script  attempts  to  read  or change the Software Write Protect (SWP) bit in the SCSI
       Control mode page using the sdparm utility.  If that change is  successful  then  it  uses  the  blockdev
       utility to change <u>BLK_DEVICE</u>'s read-write or read-only setting in sympathy. This script is only available
       in Linux since the blockdev utility is Linux specific.

       If changing the SWP bit is supported, setting the SWP bit makes <u>BLK_DEVICE</u> read-only at the device (disk)
       itself.  Clearing  the SWP bit makes <u>BLK_DEVICE</u> read-write which is usually the default setting at device
       (disk) power up.

       If no options are given then the current state of the SWP bit is printed out (using sdparm) together with
       blockdev's RO bit. If they are both 1 then <u>BLK_DEVICE</u> is in read-only mode;  if  they  are  both  0  then
       <u>BLK_DEVICE</u> is in read-write mode.

</pre><h4><b>OPTIONS</b></h4><pre>
       Arguments to long options are mandatory for short options as well.

       <b>-h</b>, <b>--help</b>
              print out the usage message then exit.

       <b>-s</b>, <b>--set</b> <u>0|1</u>
              when  0  is  given  then the SWP bit in the Control mode page is cleared (i.e.  set that bit to 0)
              using sdparm; and blockdev is used to set <u>BLK_DEVICE</u> to read-write mode. When 1 is given then  the
              SWP  bit  in  the Control mode page is set using sdparm; and blockdev is used to set <u>BLK_DEVICE</u> to
              read-only mode. The default (i.e. when this option is not given) is to read the state of  the  SWP
              bit and <u>BLK_DEVICE</u>'s read-only mode and print those values out.

       <b>-v</b>, <b>--verbose</b>
              increase level or verbosity.

       <b>-w</b>, <b>--wr</b>
              when  the  <u>BLK_DEVICE</u> is in read-only mode, Linux will not typically allow <u>BLK_DEVICE</u> to be opened
              read-write by sdparm, so the default action of this script is to use the sdparm <u>--readonly</u>  option
              when  <u>--set</u>  <u>0</u>  has  been  invoked. It is possible that <u>BLK_DEVICE</u> could be a generic device (e.g.
              /dev/sg3) which has a different interpretation of the read-only open flag and may fail.  For  such
              rare cases the <u>--wr</u> option makes sdparm open <u>BLK_DEVICE</u> read-write when <u>--set</u> <u>0</u> is invoked.

</pre><h4><b>EXIT</b> <b>STATUS</b></h4><pre>
       The  exit  status  of  this  script  is 0 when it is successful. Otherwise the exit status is that of the
       sdparm or the blockdev utility, whichever is called last. See the <a href="../man8/sdparm.8.html">sdparm</a>(8) man page.

</pre><h4><b>AUTHORS</b></h4><pre>
       Written by D. Gilbert

</pre><h4><b>COPYRIGHT</b></h4><pre>
       Copyright Â© 2013 Douglas Gilbert
       This software is distributed under a FreeBSD license. There is NO warranty; not even for  MERCHANTABILITY
       or FITNESS FOR A PARTICULAR PURPOSE.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b>sdparm(sdparm),</b> <b><a href="../man8/blockdev.8.html">blockdev</a>(8)</b>

sdparm-1.08                                         May 2013                                      <u><a href="../man8/SCSI_CH_SWP.8.html">SCSI_CH_SWP</a></u>(8)
</pre>
 </div>
</div></section>
</div>
</body>
</html>