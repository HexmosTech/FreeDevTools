<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>systemd-cryptsetup-generator - Unit generator for /etc/crypttab</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/systemd-cryptsetup">systemd-cryptsetup_257.7-1ubuntu1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       systemd-cryptsetup-generator - Unit generator for <a href="file:/etc/crypttab">/etc/crypttab</a>

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <a href="file:/usr/lib/systemd/system-generators/systemd-cryptsetup-generator">/usr/lib/systemd/system-generators/systemd-cryptsetup-generator</a>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       systemd-cryptsetup-generator is a generator that translates <a href="file:/etc/crypttab">/etc/crypttab</a> into native systemd units early
       at boot and when configuration of the system manager is reloaded. This will create <b>systemd-</b>
       <b>cryptsetup@.<a href="../man8/service.8.html">service</a></b>(8) units as necessary.

       systemd-cryptsetup-generator implements <b><a href="../man7/systemd.generator.7.html">systemd.generator</a></b>(7).

</pre><h4><b>KERNEL</b> <b>COMMAND</b> <b>LINE</b></h4><pre>
       systemd-cryptsetup-generator understands the following kernel command line parameters:

       <u>luks=</u>, <u>rd.luks=</u>
           Takes a boolean argument. Defaults to "yes". If "no", disables the generator entirely.  <u>rd.luks=</u> is
           honored only in the initrd while <u>luks=</u> is honored by both the main system and in the initrd.

           Added in version 186.

       <u>luks.crypttab=</u>, <u>rd.luks.crypttab=</u>
           Takes a boolean argument. Defaults to "yes". If "no", causes the generator to ignore any devices
           configured in <a href="file:/etc/crypttab">/etc/crypttab</a> (<u>luks.uuid=</u> will still work however).  <u>rd.luks.crypttab=</u> is honored only
           in initrd while <u>luks.crypttab=</u> is honored by both the main system and in the initrd.

           Added in version 186.

       <u>luks.uuid=</u>, <u>rd.luks.uuid=</u>
           Takes a LUKS superblock UUID as argument. This will activate the specified device as part of the boot
           process as if it was listed in /etc/crypttab. This option may be specified more than once in order to
           set up multiple devices.  <u>rd.luks.uuid=</u> is honored only in the initrd, while <u>luks.uuid=</u> is honored by
           both the main system and in the initrd.

           If <a href="file:/etc/crypttab">/etc/crypttab</a> contains entries with the same UUID, then the name, keyfile and options specified
           there will be used. Otherwise, the device will have the name "luks-UUID".

           If <a href="file:/etc/crypttab">/etc/crypttab</a> exists, only those UUIDs specified on the kernel command line will be activated in
           the initrd or the real root.

           Added in version 186.

       <u>luks.name=</u>, <u>rd.luks.name=</u>
           Takes a LUKS super block UUID followed by an "=" and a name. This implies <u>rd.luks.uuid=</u> or <u>luks.uuid=</u>
           and will additionally make the LUKS device given by the UUID appear under the provided name.

           This parameter is the analogue of the first <b><a href="../man5/crypttab.5.html">crypttab</a></b>(5) field <u>volume-name</u>.

           <u>rd.luks.name=</u> is honored only in the initrd, while <u>luks.name=</u> is honored by both the main system and
           in the initrd.

           Added in version 218.

       <u>luks.data=</u>, <u>rd.luks.data=</u>
           Takes a LUKS super block UUID followed by a "=" and a block device specification for device hosting
           encrypted data.

           For those entries specified with <u>rd.luks.uuid=</u> or <u>luks.uuid=</u>, the data device will be set to the one
           specified by <u>rd.luks.data=</u> or <u>luks.data=</u> of the corresponding UUID.

           LUKS data device parameter is useful for specifying encrypted data devices with detached headers
           specified in <u>luks.options</u> entry containing "header=" argument. For example,
           <u>rd.luks.uuid=</u>b40f1abf-2a53-400a-889a-2eccc27eaa40
           <u>rd.luks.options=</u>b40f1abf-2a53-400a-889a-2eccc27eaa40=header=/path/to/luks.hdr
           <u>rd.luks.data=</u>b40f1abf-2a53-400a-889a-2eccc27eaa40=/dev/sdx. Hence, in this case, we will attempt to
           unlock LUKS device assembled from data device "/dev/sdx" and LUKS header (metadata) put in
           "/path/to/luks.hdr" file. This syntax is for now only supported on a per-device basis, i.e. you have
           to specify LUKS device UUID.

           This parameter is the analogue of the second <b><a href="../man5/crypttab.5.html">crypttab</a></b>(5) field <u>encrypted-device</u>.

           <u>rd.luks.data=</u> is honored only in the initrd, while <u>luks.data=</u> is honored by both the main system and
           in the initrd.

           Added in version 247.

       <u>luks.key=</u>, <u>rd.luks.key=</u>
           Takes a password file name as argument or a LUKS super block UUID followed by a "=" and a password
           file name.

           For those entries specified with <u>rd.luks.uuid=</u> or <u>luks.uuid=</u>, the password file will be set to the
           one specified by <u>rd.luks.key=</u> or <u>luks.key=</u> of the corresponding UUID, or the password file that was
           specified without a UUID.

           It is also possible to specify an external device which should be mounted before we attempt to unlock
           the LUKS device. systemd-cryptsetup will use password file stored on that device. Device containing
           password file is specified by appending colon and a device identifier to the password file path. For
           example, <u>rd.luks.uuid=</u>b40f1abf-2a53-400a-889a-2eccc27eaa40
           <u>rd.luks.key=</u>b40f1abf-2a53-400a-889a-2eccc27eaa40=/keyfile:LABEL=keydev. Hence, in this case, we will
           attempt to mount file system residing on the block device with label "keydev". This syntax is for now
           only supported on a per-device basis, i.e. you have to specify LUKS device UUID.

           This parameter is the analogue of the third <b><a href="../man5/crypttab.5.html">crypttab</a></b>(5) field <u>key-file</u>.

           <u>rd.luks.key=</u> is honored only in the initrd, while <u>luks.key=</u> is honored by both the main system and in
           the initrd.

           Added in version 202.

       <u>luks.options=</u>, <u>rd.luks.options=</u>
           Takes a LUKS super block UUID followed by an "=" and a string of options separated by commas as
           argument. This will override the options for the given UUID.

           If only a list of options, without a UUID, is specified, they apply to any UUIDs not specified
           elsewhere, and without an entry in /etc/crypttab.

           This parameter is the analogue of the fourth <b><a href="../man5/crypttab.5.html">crypttab</a></b>(5) field <u>options</u>.

           It is possible to specify an external device which should be mounted before we attempt to unlock the
           LUKS device. systemd-cryptsetup will assemble LUKS device by combining data device specified in
           <u>luks.data</u> with detached LUKS header found in "header=" argument. For example,
           <u>rd.luks.uuid=</u>b40f1abf-2a53-400a-889a-2eccc27eaa40
           <u>rd.luks.options=</u>b40f1abf-2a53-400a-889a-2eccc27eaa40=header=/luks.hdr:LABEL=hdrdev
           <u>rd.luks.data=</u>b40f1abf-2a53-400a-889a-2eccc27eaa40=/dev/sdx. Hence, in this case, we will attempt to
           mount file system residing on the block device with label "hdrdev", and look for "luks.hdr" on that
           file system. Said header will be used to unlock (decrypt) encrypted data stored on /dev/sdx. This
           syntax is for now only supported on a per-device basis, i.e. you have to specify LUKS device UUID.

           <u>rd.luks.options=</u> is honored only by initial RAM disk (initrd) while <u>luks.options=</u> is honored by both
           the main system and in the initrd.

           Added in version 208.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man1/systemd.1.html">systemd</a></b>(1), <b><a href="../man5/crypttab.5.html">crypttab</a></b>(5), <b>systemd-cryptsetup@.<a href="../man8/service.8.html">service</a></b>(8), <b><a href="../man1/systemd-cryptenroll.1.html">systemd-cryptenroll</a></b>(1), <b><a href="../man8/cryptsetup.8.html">cryptsetup</a></b>(8), <b><a href="../man8/systemdfstab-generator.8.html">systemd-</a></b>
       <b><a href="../man8/systemdfstab-generator.8.html">fstab-generator</a></b>(8)

systemd 257.7                                                                    <u><a href="../man8/SYSTEMD-CRYPTSETUP-GENERATOR.8.html">SYSTEMD-CRYPTSETUP-GENERATOR</a></u>(8)
</pre>
 </div>
</div></section>
</div>
</body>
</html>