<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>systemd-fstab-generator - Unit generator for /etc/fstab</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/systemd">systemd_257.7-1ubuntu1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       systemd-fstab-generator - Unit generator for <a href="file:/etc/fstab">/etc/fstab</a>

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <a href="file:/usr/lib/systemd/system-generators/systemd-fstab-generator">/usr/lib/systemd/system-generators/systemd-fstab-generator</a>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       systemd-fstab-generator is a generator that translates <a href="file:/etc/fstab">/etc/fstab</a> (see <b><a href="../man5/fstab.5.html">fstab</a></b>(5) for details) into native
       systemd units early at boot and when configuration of the system manager is reloaded. This will
       instantiate mount and swap units as necessary.

       The <u>passno</u> field is treated like a simple boolean, and the ordering information is discarded. However, if
       the root file system is checked, it is checked before all the other file systems.

       See <b><a href="../man5/systemd.mount.5.html">systemd.mount</a></b>(5) and <b><a href="../man5/systemd.swap.5.html">systemd.swap</a></b>(5) for more information about special <a href="file:/etc/fstab">/etc/fstab</a> mount options this
       generator understands.

       One special topic is handling of symbolic links. Historical init implementations supported symlinks in
       /etc/fstab. Because mount units will refuse mounts where the target is a symbolic link, this generator
       will resolve any symlinks as far as possible when processing <a href="file:/etc/fstab">/etc/fstab</a> in order to enhance backwards
       compatibility. If a symlink target does not exist at the time that this generator runs, it is assumed
       that the symlink target is the final target of the mount.

       systemd-fstab-generator implements <b><a href="../man7/systemd.generator.7.html">systemd.generator</a></b>(7).

</pre><h4><b>KERNEL</b> <b>COMMAND</b> <b>LINE</b></h4><pre>
       systemd-fstab-generator understands the following kernel command line parameters:

       <u>fstab=</u>, <u>rd.fstab=</u>
           Takes a boolean argument. Defaults to "yes". If "no", causes the generator to ignore any mounts or
           swap devices configured in /etc/fstab.  <u>rd.fstab=</u> is honored only in the initrd, while <u>fstab=</u> is
           honored by both the main system and the initrd.

           Added in version 186.

       <u>root=</u>
           Configures the operating system's root filesystem to mount when running in the initrd. This accepts a
           device node path (usually /dev/disk/by-uuid/...  or /dev/disk/by-label/...  or similar), or the
           special values "gpt-auto", "fstab", and "tmpfs".

           Use "gpt-auto" to explicitly request automatic root file system discovery via <b><a href="../man8/systemd-gpt-autogenerator.8.html">systemd-gpt-auto-</a></b>
           <b><a href="../man8/systemd-gpt-autogenerator.8.html">generator</a></b>(8).

           Use "fstab" to explicitly request automatic root file system discovery via the initrd <a href="file:/etc/fstab">/etc/fstab</a>
           rather than via kernel command line.

           Use "tmpfs" in order to mount a <b><a href="../man5/tmpfs.5.html">tmpfs</a></b>(5) file system as root file system of the OS. This is useful in
           combination with <u>mount.usr=</u> (see below) in order to combine a volatile root file system with a
           separate, immutable <a href="file:/usr/">/usr/</a> file system. Also see <u>systemd.volatile=</u> below.

           Added in version 217.

       <u>rootfstype=</u>
           Takes the root filesystem type that will be passed to the mount command.  <u>rootfstype=</u> is honored by
           the initrd.

           Added in version 217.

       <u>rootflags=</u>
           Takes the root filesystem mount options to use.  <u>rootflags=</u> is honored by the initrd.

           Note that unlike most kernel command line options this setting does not override settings made in
           configuration files (specifically: the mount option string in <a href="file:/etc/fstab">/etc/fstab</a>). See <b><a href="../man8/systemd-remountfs.service.8.html">systemd-remount-</a></b>
           <b><a href="../man8/systemd-remountfs.service.8.html">fs.service</a></b>(8).

           Added in version 217.

       <u>mount.usr=</u>
           Takes the <a href="file:/usr/">/usr/</a> filesystem to be mounted by the initrd. If <u>mount.usrfstype=</u> or <u>mount.usrflags=</u> is
           set, then <u>mount.usr=</u> will default to the value set in <u>root=</u>.

           Otherwise, this parameter defaults to the <a href="file:/usr/">/usr/</a> entry found in <a href="file:/etc/fstab">/etc/fstab</a> on the root filesystem.

           <u>mount.usr=</u> is honored by the initrd.

           Added in version 217.

       <u>mount.usrfstype=</u>
           Takes the <a href="file:/usr/">/usr/</a> filesystem type that will be passed to the mount command. If <u>mount.usr=</u> or
           <u>mount.usrflags=</u> is set, then <u>mount.usrfstype=</u> will default to the value set in <u>rootfstype=</u>.

           Otherwise, this value will be read from the <a href="file:/usr/">/usr/</a> entry in <a href="file:/etc/fstab">/etc/fstab</a> on the root filesystem.

           <u>mount.usrfstype=</u> is honored by the initrd.

           Added in version 217.

       <u>mount.usrflags=</u>
           Takes the <a href="file:/usr/">/usr/</a> filesystem mount options to use. If <u>mount.usr=</u> or <u>mount.usrfstype=</u> is set, then
           <u>mount.usrflags=</u> will default to the value set in <u>rootflags=</u>.

           Otherwise, this value will be read from the <a href="file:/usr/">/usr/</a> entry in <a href="file:/etc/fstab">/etc/fstab</a> on the root filesystem.

           <u>mount.usrflags=</u> is honored by the initrd.

           Added in version 217.

       <u>roothash=</u>, <u>usrhash=</u>
           These options are primarily read by <b><a href="../man8/systemd-veritysetup-generator.8.html">systemd-veritysetup-generator</a></b>(8). When set this indicates that
           the root file system (or <a href="file:/usr/">/usr/</a>) shall be mounted from Verity volumes with the specified hashes. If
           these kernel command line options are set the root (or <a href="file:/usr/">/usr/</a>) file system is thus mounted from a
           device mapper volume /dev/mapper/root (or /dev/mapper/usr).

           Added in version 251.

       <u>systemd.volatile=</u>
           Controls whether the system shall boot up in volatile mode. Takes a boolean argument or the special
           value <b>state</b>.

           If false (the default), this generator makes no changes to the mount tree and the system is booted up
           in normal mode.

           If true the generator ensures <b><a href="../man8/systemd-volatile-root.service.8.html">systemd-volatile-root.service</a></b>(8) is run in the initrd. This service
           changes the mount table before transitioning to the host system, so that a volatile memory file
           system ("tmpfs") is used as root directory, with only <a href="file:/usr/">/usr/</a> mounted into it from the configured root
           file system, in read-only mode. This way the system operates in fully stateless mode, with all
           configuration and state reset at boot and lost at shutdown, as <a href="file:/etc/">/etc/</a> and <a href="file:/var/">/var/</a> will be served from
           the (initially unpopulated) volatile memory file system.

           If set to <b>state</b> the generator will leave the root directory mount point unaltered, however will mount
           a "tmpfs" file system to <a href="file:/var/.">/var/.</a> In this mode the normal system configuration (i.e. the contents of
           "<a href="file:/etc/">/etc/</a>") is in effect (and may be modified during system runtime), however the system state (i.e. the
           contents of "<a href="file:/var/">/var/</a>") is reset at boot and lost at shutdown.

           If this setting is set to "overlay" the root file system is set up as "overlayfs" mount combining the
           read-only root directory with a writable "tmpfs", so that no modifications are made to disk, but the
           file system may be modified nonetheless with all changes being lost at reboot.

           Note that in none of these modes the root directory, <a href="file:/etc/">/etc/</a>, <a href="file:/var/">/var/</a> or any other resources stored in
           the root file system are physically removed. It's thus safe to boot a system that is normally
           operated in non-volatile mode temporarily into volatile mode, without losing data.

           Note that with the exception of "overlay" mode, enabling this setting will only work correctly on
           operating systems that can boot up with only <a href="file:/usr/">/usr/</a> mounted, and are able to automatically populate
           <a href="file:/etc/">/etc/</a>, and also <a href="file:/var/">/var/</a> in case of "systemd.volatile=yes".

           Also see <u>root=tmpfs</u> above, for a method to combine a "tmpfs" file system with a regular <a href="file:/usr/">/usr/</a> file
           system (as configured via <u>mount.usr=</u>). The main distinction between <u>systemd.volatile=yes</u>, and
           <u>root=tmpfs</u> in combination <u>mount.usr=</u> is that the former operates on top of a regular root file system
           and temporarily obstructs the files and directories above its <a href="file:/usr/">/usr/</a> subdirectory, while the latter
           does not hide any files, but simply mounts a unpopulated tmpfs as root file system and combines it
           with a user picked <a href="file:/usr/">/usr/</a> file system.

           Added in version 233.

       <u>systemd.swap=</u>
           Takes a boolean argument or enables the option if specified without an argument. If disabled, causes
           the generator to ignore any swap devices configured in /etc/fstab. Defaults to enabled.

           Added in version 246.

       <u>systemd.mount-extra=WHAT:WHERE[:FSTYPE[:OPTIONS]]</u>, <u>rd.systemd.mount-extra=WHAT:WHERE[:FSTYPE[:OPTIONS]]</u>
           Specifies the mount unit. Takes at least two and at most four fields separated with a colon (":").
           Each field is handled as the corresponding fstab field. This option can be specified multiple times.
           <u>rd.systemd.mount-extra=</u> is honored only in the initrd, while <u>systemd.mount-extra=</u> is honored by both
           the main system and the initrd. In the initrd, the mount point (and also source path if the mount is
           bind mount) specified in <u>systemd.mount-extra=</u> is prefixed with /sysroot/.

           Example:

               systemd.mount-extra=/dev/sda1:/mount-point:ext4:rw,noatime

           Added in version 254.

       <u>systemd.swap-extra=WHAT[:OPTIONS]</u>, <u>rd.systemd.swap-extra=WHAT[:OPTIONS]</u>
           Specifies the swap unit. Takes the block device to be used as a swap device, and optionally takes
           mount options followed by a colon (":"). This option can be specified multiple times.
           <u>rd.systemd.swap-extra=</u> is honored only in the initrd, while <u>systemd.swap-extra=</u> is honored by both
           the main system and the initrd.

           Example:

               systemd.swap-extra=/dev/sda2:x-systemd.makefs

           Added in version 254.

</pre><h4><b>SYSTEM</b> <b>CREDENTIALS</b></h4><pre>
       <u>fstab.extra</u>
           This credential may contain addition mounts to establish, in the same format as <b><a href="../man5/fstab.5.html">fstab</a></b>(5), with one
           mount per line. It is read in addition to /etc/fstab.

           Added in version 254.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man1/systemd.1.html">systemd</a></b>(1), <b><a href="../man5/fstab.5.html">fstab</a></b>(5), <b><a href="../man5/systemd.mount.5.html">systemd.mount</a></b>(5), <b><a href="../man5/systemd.swap.5.html">systemd.swap</a></b>(5), <b><a href="../man8/systemd-cryptsetup-generator.8.html">systemd-cryptsetup-generator</a></b>(8), <b><a href="../man8/systemd-gptauto-generator.8.html">systemd-gpt-</a></b>
       <b><a href="../man8/systemd-gptauto-generator.8.html">auto-generator</a></b>(8), <b><a href="../man7/kernel-command-line.7.html">kernel-command-line</a></b>(7), <b>Known</b> <b>Environment</b> <b>Variables</b>[1]

</pre><h4><b>NOTES</b></h4><pre>
        1. Known Environment Variables
           https://systemd.io/ENVIRONMENT/

systemd 257.7                                                                         <u><a href="../man8/SYSTEMD-FSTAB-GENERATOR.8.html">SYSTEMD-FSTAB-GENERATOR</a></u>(8)
</pre>
 </div>
</div></section>
</div>
</body>
</html>