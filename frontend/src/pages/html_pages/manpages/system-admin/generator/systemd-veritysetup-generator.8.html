<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>systemd-veritysetup-generator - Unit generator for verity protected block devices</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/systemd-cryptsetup">systemd-cryptsetup_257.7-1ubuntu1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       systemd-veritysetup-generator - Unit generator for verity protected block devices

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <a href="file:/usr/lib/systemd/system-generators/systemd-veritysetup-generator">/usr/lib/systemd/system-generators/systemd-veritysetup-generator</a>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>systemd-veritysetup-generator</b> is a generator that translates kernel command line options configuring
       verity protected block devices into native systemd units early at boot and when configuration of the
       system manager is reloaded. This will create <b>systemd-veritysetup@.<a href="../man8/service.8.html">service</a></b>(8) units as necessary.

       Currently, only two verity devices may be set up with this generator, backing the root and <a href="file:/usr">/usr</a> file
       systems of the OS.

       <b>systemd-veritysetup-generator</b> implements <b><a href="../man7/systemd.generator.7.html">systemd.generator</a></b>(7).

</pre><h4><b>KERNEL</b> <b>COMMAND</b> <b>LINE</b></h4><pre>
       <b>systemd-veritysetup-generator</b> understands the following kernel command line parameters:

       <u>systemd.verity=</u>, <u>rd.systemd.verity=</u>
           Takes a boolean argument. Defaults to "yes". If "no", disables the generator entirely.
           <u>rd.systemd.verity=</u> is honored only in the initrd while <u>systemd.verity=</u> is honored by both the main
           system and in the initrd.

           Added in version 233.

       <u>veritytab=</u>, <u>rd.veritytab=</u>
           Takes a boolean argument. Defaults to "yes". If "no", causes the generator to ignore any devices
           configured in /etc/veritytab.  <u>rd.veritytab=</u> is honored only in the initrd while <u>veritytab=</u> is
           honored by both the main system and in the initrd.

           Added in version 248.

       <u>roothash=</u>
           Takes a root hash value for the root file system. Expects a hash value formatted in hexadecimal
           characters of the appropriate length (i.e. most likely 256 bit/64 characters, or longer). If not
           specified via <u>systemd.verity_root_data=</u> and <u>systemd.verity_root_hash=</u>, the hash and data devices to
           use are automatically derived from the specified hash value. Specifically, the data partition device
           is looked for under a GPT partition UUID derived from the first 128-bit of the root hash, the hash
           partition device is looked for under a GPT partition UUID derived from the last 128-bit of the root
           hash. Hence it is usually sufficient to specify the root hash to boot from a verity protected root
           file system, as device paths are automatically determined from it â€” as long as the partition table is
           properly set up.

           Added in version 233.

       <u>systemd.verity_root_data=</u>, <u>systemd.verity_root_hash=</u>
           These two settings take block device paths as arguments and may be used to explicitly configure the
           data partition and hash partition to use for setting up the verity protection for the root file
           system. If not specified, these paths are automatically derived from the <u>roothash=</u> argument (see
           above).

           Added in version 233.

       <u>systemd.verity_root_options=</u>
           Takes a comma-separated list of dm-verity options. Expects the following options <b>superblock=</b><u>BOOLEAN</u>,
           <b>format=</b><u>NUMBER</u>, <b>data-block-size=</b><u>BYTES</u>, <b>hash-block-size=</b><u>BYTES</u>, <b>data-blocks=</b><u>BLOCKS</u>, <b>hash-offset=</b><u>BYTES</u>,
           <b>salt=</b><u>HEX</u>, <b>uuid=</b><u>UUID</u>, <b>ignore-corruption</b>, <b>restart-on-corruption</b>, <b>ignore-zero-blocks</b>,
           <b>check-at-most-once</b>, <b>panic-on-corruption</b>, <b>hash=</b><u>HASH</u>, <b>fec-device=</b><u>PATH</u>, <b>fec-offset=</b><u>BYTES</u>, <b>fec-roots=</b><u>NUM</u>
           and <b>root-hash-signature=</b><u>PATH</u><b>|base64:</b><u>HEX</u>. See <b><a href="../man8/veritysetup.8.html">veritysetup</a></b>(8) for more details.

           Added in version 248.

       <u>usrhash=</u>, <u>systemd.verity_usr_data=</u>, <u>systemd.verity_usr_hash=</u>, <u>systemd.verity_usr_options=</u>
           Equivalent to their counterparts for the root file system as described above, but apply to the <a href="file:/usr/">/usr/</a>
           file system instead.

           Added in version 250.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man1/systemd.1.html">systemd</a></b>(1), <b>systemd-veritysetup@.<a href="../man8/service.8.html">service</a></b>(8), <b><a href="../man8/veritysetup.8.html">veritysetup</a></b>(8), <b><a href="../man8/systemd-fstab-generator.8.html">systemd-fstab-generator</a></b>(8)

systemd 257.7                                                                   <u><a href="../man8/SYSTEMD-VERITYSETUP-GENERATOR.8.html">SYSTEMD-VERITYSETUP-GENERATOR</a></u>(8)
</pre>
 </div>
</div></section>
</div>
</body>
</html>