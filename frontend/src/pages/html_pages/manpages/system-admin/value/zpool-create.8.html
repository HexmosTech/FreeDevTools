<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>zpool-create — create ZFS storage pool</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/zfsutils-linux">zfsutils-linux_2.3.2-1ubuntu3_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       zpool-create — create ZFS storage pool

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>zpool</b>    <b>create</b>    [<b>-dfn</b>]    [<b>-m</b>    <u>mountpoint</u>]    [<b>-o</b>    <u>property</u>=<u>value</u>]…   [<b>-o</b>   <b>feature@</b><u>feature</u>=<u>value</u>]
             [<b>-o</b> <u>compatibility</u>=<b>off</b>|<b>legacy</b>|<u>file</u>[,<u>file</u>]…] [<b>-O</b> <u>file-system-property</u>=<u>value</u>]… [<b>-R</b>  <u>root</u>]  [<b>-t</b>  <u>tname</u>]
             <u>pool</u> <u>vdev</u>…

</pre><h4><b>DESCRIPTION</b></h4><pre>
       Creates  a  new storage pool containing the virtual devices specified on the command line.  The pool name
       must begin with a letter, and can only contain alphanumeric characters as well as the  underscore  ("<b>_</b>"),
       dash  ("<b>-</b>"),  colon ("<b>:</b>"), space (" "), and period ("<b>.</b>").  The pool names <b>mirror</b>, <b>raidz</b>, <b>draid</b>, <b>spare</b> and
       <b>log</b> are reserved, as are names beginning with <b>mirror</b>, <b>raidz</b>, <b>draid</b>, and <b>spare</b>.  The <u>vdev</u> specification is
       described in the “Virtual Devices” section of <u><a href="../man7/zpoolconcepts.7.html">zpoolconcepts</a></u>(7).

       The command attempts to verify that each device specified is accessible  and  not  currently  in  use  by
       another  subsystem.  However this check is not robust enough to detect simultaneous attempts to use a new
       device in different pools, even if <b>multihost</b>= <b>enabled</b>.  The administrator must ensure  that  simultaneous
       invocations  of  any  combination  of  <b>zpool</b> <b>replace</b>, <b>zpool</b> <b>create</b>, <b>zpool</b> <b>add</b>, or <b>zpool</b> <b>labelclear</b> do not
       refer to the same device.  Using the same device in two pools will result in pool corruption.

       There are some uses, such as being currently mounted, or specified as the  dedicated  dump  device,  that
       prevents a device from ever being used by ZFS.  Other uses, such as having a preexisting UFS file system,
       can be overridden with <b>-f</b>.

       The  command also checks that the replication strategy for the pool is consistent.  An attempt to combine
       redundant and non-redundant storage in a single pool, or to mix disks and  files,  results  in  an  error
       unless  <b>-f</b>  is  specified.  The use of differently-sized devices within a single raidz or mirror group is
       also flagged as an error unless <b>-f</b> is specified.

       Unless the <b>-R</b> option is specified, the default mount point is <u>/pool</u>.  The mount point must not  exist  or
       must  be  empty, or else the root dataset will not be able to be be mounted.  This can be overridden with
       the <b>-m</b> option.

       By default all supported features are enabled on the new pool.  The <b>-d</b> option and  the  <b>-o</b>  <u>compatibility</u>
       property  (e.g  <b>-o</b> <b>compatibility</b>=<u>2020</u>) can be used to restrict the features that are enabled, so that the
       pool can be imported on other releases of ZFS.

       <b>-d</b>        Do not enable any features on the new pool.  Individual features  can  be  enabled  by  setting
                 their  corresponding  properties  to  <b>enabled</b> with <b>-o</b>.  See <u><a href="../man7/zpool-features.7.html">zpool-features</a></u>(7) for details about
                 feature properties.

       <b>-f</b>        Forces use of <u>vdev</u>s, even if they appear in use or specify  a  conflicting  replication  level.
                 Not all devices can be overridden in this manner.

       <b>-m</b> <u>mountpoint</u>
                 Sets the mount point for the root dataset.  The default mount point is <u>/pool</u> or <u>altroot/pool</u> if
                 <b>altroot</b>  is  specified.   The  mount point must be an absolute path, <b>legacy</b>, or <b>none</b>.  For more
                 information on dataset mount points, see <u><a href="../man7/zfsprops.7.html">zfsprops</a></u>(7).

       <b>-n</b>        Displays the configuration that would be used without actually creating the pool.   The  actual
                 pool creation can still fail due to insufficient privileges or device sharing.

       <b>-o</b> <u>property</u>=<u>value</u>
                 Sets  the  given pool properties.  See <u><a href="../man7/zpoolprops.7.html">zpoolprops</a></u>(7) for a list of valid properties that can be
                 set.

       <b>-o</b> <u>compatibility</u>=<b>off</b>|<b>legacy</b>|<u>file</u>[,<u>file</u>]…
                 Specifies compatibility  feature  sets.   See  <u><a href="../man7/zpool-features.7.html">zpool-features</a></u>(7)  for  more  information  about
                 compatibility feature sets.

       <b>-o</b> <b>feature@</b><u>feature</u>=<u>value</u>
                 Sets  the  given  pool feature.  See the <u><a href="../man7/zpool-features.7.html">zpool-features</a></u>(7) section for a list of valid features
                 that can be set.  Value can be either disabled or enabled.

       <b>-O</b> <u>file-system-property</u>=<u>value</u>
                 Sets the given file system properties in the root file system of the pool.  See <u><a href="../man7/zfsprops.7.html">zfsprops</a></u>(7) for
                 a list of valid properties that can be set.

       <b>-R</b> <u>root</u>   Equivalent to <b>-o</b> <b>cachefile</b>=<b>none</b> <b>-o</b> <b>altroot</b>=<u>root</u>

       <b>-t</b> <u>tname</u>  Sets the in-core pool name to <u>tname</u> while the on-disk name will be the name specified as  <u>pool</u>.
                 This  will  set the default of the <b>cachefile</b> property to <b>none</b>.  This is intended to handle name
                 space collisions when creating pools for other systems, such as virtual  machines  or  physical
                 machines whose pools live on network block devices.

</pre><h4><b>EXAMPLES</b></h4><pre>
   <b>Example</b> <b>1</b>: Creating a RAID-Z Storage Pool
       The following command creates a pool with a single raidz root vdev that consists of six disks:
             <b>#</b> <b>zpool</b> <b>create</b> <u>tank</u> <b>raidz</b> <u>sda</u> <u>sdb</u> <u>sdc</u> <u>sdd</u> <u>sde</u> <u>sdf</u>

   <b>Example</b> <b>2</b>: Creating a Mirrored Storage Pool
       The following command creates a pool with two mirrors, where each mirror contains two disks:
             <b>#</b> <b>zpool</b> <b>create</b> <u>tank</u> <b>mirror</b> <u>sda</u> <u>sdb</u> <b>mirror</b> <u>sdc</u> <u>sdd</u>

   <b>Example</b> <b>3</b>: Creating a ZFS Storage Pool by Using Partitions
       The following command creates a non-redundant pool using two disk partitions:
             <b>#</b> <b>zpool</b> <b>create</b> <u>tank</u> <u>sda1</u> <u>sdb2</u>

   <b>Example</b> <b>4</b>: Creating a ZFS Storage Pool by Using Files
       The  following  command creates a non-redundant pool using files.  While not recommended, a pool based on
       files can be useful for experimental purposes.
             <b>#</b> <b>zpool</b> <b>create</b> <u>tank</u> <u>/path/to/file/a</u> <u>/path/to/file/b</u>

   <b>Example</b> <b>5</b>: Managing Hot Spares
       The following command creates a new pool with an available hot spare:
             <b>#</b> <b>zpool</b> <b>create</b> <u>tank</u> <b>mirror</b> <u>sda</u> <u>sdb</u> <b>spare</b> <u>sdc</u>

   <b>Example</b> <b>6</b>: Creating a ZFS Pool with Mirrored Separate Intent Logs
       The following command creates a ZFS storage pool consisting of two,  two-way  mirrors  and  mirrored  log
       devices:
             <b>#</b> <b>zpool</b> <b>create</b> <u>pool</u> <b>mirror</b> <u>sda</u> <u>sdb</u> <b>mirror</b> <u>sdc</u> <u>sdd</u> <b>log</b> <b>mirror</b> <u>sde</u> <u>sdf</u>

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <u><a href="../man8/zpool-destroy.8.html">zpool-destroy</a></u>(8), <u><a href="../man8/zpool-export.8.html">zpool-export</a></u>(8), <u><a href="../man8/zpool-import.8.html">zpool-import</a></u>(8)

OpenZFS                                          March 16, 2022                                  <u><a href="../man8/ZPOOL-CREATE.8.html">ZPOOL-CREATE</a></u>(8)
</pre>
 </div>
</div></section>
</div>
</body>
</html>