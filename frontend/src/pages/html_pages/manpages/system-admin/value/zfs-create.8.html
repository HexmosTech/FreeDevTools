<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>zfs-create — create ZFS dataset</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/zfsutils-linux">zfsutils-linux_2.3.2-1ubuntu3_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       zfs-create — create ZFS dataset

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>zfs</b> <b>create</b> [<b>-Pnpuv</b>] [<b>-o</b> <u>property</u>=<u>value</u>]… <u>filesystem</u>
       <b>zfs</b> <b>create</b> [<b>-ps</b>] [<b>-b</b> <u>blocksize</u>] [<b>-o</b> <u>property</u>=<u>value</u>]… <b>-V</b> <u>size</u> <u>volume</u>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>zfs</b> <b>create</b> [<b>-Pnpuv</b>] [<b>-o</b> <u>property</u>=<u>value</u>]… <u>filesystem</u>
         Creates  a  new  ZFS file system.  The file system is automatically mounted according to the <b>mountpoint</b>
         property inherited from the parent, unless the <b>-u</b> option is used.

         <b>-o</b> <u>property</u>=<u>value</u>
             Sets the specified property as if the command <b>zfs</b> <b>set</b> <u>property</u>=<u>value</u> was invoked at the  same  time
             the  dataset was created.  Any editable ZFS property can also be set at creation time.  Multiple <b>-o</b>
             options can be specified.  An error results if the  same  property  is  specified  in  multiple  <b>-o</b>
             options.

         <b>-p</b>  Creates  all  the  non-existing parent datasets.  Datasets created in this manner are automatically
             mounted according to the <b>mountpoint</b> property inherited from their parent.  Any  property  specified
             on  the  command line using the <b>-o</b> option is ignored.  If the target filesystem already exists, the
             operation completes successfully.

         <b>-n</b>  Do a dry-run ("No-op") creation.  No datasets will be created.  This is useful in conjunction  with
             the <b>-v</b> or <b>-P</b> flags to validate properties that are passed via <b>-o</b> options and those implied by other
             options.   The  actual  dataset creation can still fail due to insufficient privileges or available
             capacity.

         <b>-P</b>  Print machine-parsable verbose information about the created dataset.  Each line of output contains
             a key and one or two values, all separated by tabs.  The  <b>create_ancestors</b>  and  <b>create</b>  keys  have
             <u>filesystem</u>  as  their  only value.  The <b>create_ancestors</b> key only appears if the <b>-p</b> option is used.
             The <b>property</b> key has two values, a property name that  property's  value.   The  <b>property</b>  key  may
             appear  zero  or more times, once for each property that will be set local to <u>filesystem</u> due to the
             use of the <b>-o</b> option.

         <b>-u</b>  Do not mount the newly created file system.

         <b>-v</b>  Print verbose information about the created dataset.

       <b>zfs</b> <b>create</b> [<b>-ps</b>] [<b>-b</b> <u>blocksize</u>] [<b>-o</b> <u>property</u>=<u>value</u>]… <b>-V</b> <u>size</u> <u>volume</u>
         Creates a volume of the given size.  The volume is exported as a block device in <u>/dev/zvol/path</u>,  where
         <u>path</u>  is the name of the volume in the ZFS namespace.  The size represents the logical size as exported
         by the device.  By default, a reservation of equal size is created.

         <u>size</u> is automatically rounded up to the nearest multiple of the <b>blocksize</b>.

         <b>-b</b> <u>blocksize</u>
             Equivalent to <b>-o</b> <b>volblocksize</b>=<u>blocksize</u>.  If this  option  is  specified  in  conjunction  with  <b>-o</b>
             <b>volblocksize</b>, the resulting behavior is undefined.

         <b>-o</b> <u>property</u>=<u>value</u>
             Sets  the  specified property as if the <b>zfs</b> <b>set</b> <u>property</u>=<u>value</u> command was invoked at the same time
             the dataset was created.  Any editable ZFS property can also be set at creation time.  Multiple  <b>-o</b>
             options  can  be  specified.   An  error  results  if the same property is specified in multiple <b>-o</b>
             options.

         <b>-p</b>  Creates all the non-existing parent datasets.  Datasets created in this  manner  are  automatically
             mounted  according  to the <b>mountpoint</b> property inherited from their parent.  Any property specified
             on the command line using the <b>-o</b> option is ignored.  If the target filesystem already  exists,  the
             operation completes successfully.

         <b>-s</b>  Creates  a  sparse  volume  with  no  reservation.  See <b>volsize</b> in the <u>Native</u> <u>Properties</u> section of
             <u><a href="../man7/zfsprops.7.html">zfsprops</a></u>(7) for more information about sparse volumes.

         <b>-n</b>  Do a dry-run ("No-op") creation.  No datasets will be created.  This is useful in conjunction  with
             the <b>-v</b> or <b>-P</b> flags to validate properties that are passed via <b>-o</b> options and those implied by other
             options.   The  actual  dataset creation can still fail due to insufficient privileges or available
             capacity.

         <b>-P</b>  Print machine-parsable verbose information about the created dataset.  Each line of output contains
             a key and one or two values, all separated by tabs.  The  <b>create_ancestors</b>  and  <b>create</b>  keys  have
             <u>volume</u>  as  their only value.  The <b>create_ancestors</b> key only appears if the <b>-p</b> option is used.  The
             <b>property</b> key has two values, a property name that property's value.  The <b>property</b>  key  may  appear
             zero  or  more times, once for each property that will be set local to <u>volume</u> due to the use of the
             <b>-b</b> or <b>-o</b> options, as well as <b>refreservation</b> if the volume is not sparse.

         <b>-v</b>  Print verbose information about the created dataset.

   <b>ZFS</b> <b>for</b> <b>Swap</b>
       Swapping to a ZFS volume is prone to deadlock and not recommended.  See OpenZFS FAQ.

       Swapping to a file on a ZFS filesystem is not supported.

</pre><h4><b>EXAMPLES</b></h4><pre>
   <b>Example</b> <b>1</b>: Creating a ZFS File System Hierarchy
       The following commands create a file system named <u>pool/home</u> and a file system named  <u>pool/home/bob</u>.   The
       mount  point  <u>/export/home</u> is set for the parent file system, and is automatically inherited by the child
       file system.
             <b>#</b> <b>zfs</b> <b>create</b> <u>pool/home</u>
             <b>#</b> <b>zfs</b> <b>set</b> <b>mountpoint</b>=<u>/export/home</u> <u>pool/home</u>
             <b>#</b> <b>zfs</b> <b>create</b> <u>pool/home/bob</u>

   <b>Example</b> <b>2</b>: Promoting a ZFS Clone
       The following commands illustrate how to test out changes to a file system, and then replace the original
       file system with the changed one, using clones, clone promotion, and renaming:
             # <b>zfs</b> <b>create</b> <u>pool/project/production</u>
               populate /pool/project/production with data
             # <b>zfs</b> <b>snapshot</b> <u>pool/project/production</u>@<u>today</u>
             # <b>zfs</b> <b>clone</b> <u>pool/project/production@today</u> <u>pool/project/beta</u>
               make changes to /pool/project/beta and test them
             # <b>zfs</b> <b>promote</b> <u>pool/project/beta</u>
             # <b>zfs</b> <b>rename</b> <u>pool/project/production</u> <u>pool/project/legacy</u>
             # <b>zfs</b> <b>rename</b> <u>pool/project/beta</u> <u>pool/project/production</u>
               once the legacy version is no longer needed, it can be destroyed
             # <b>zfs</b> <b>destroy</b> <u>pool/project/legacy</u>

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <u><a href="../man8/zfs-destroy.8.html">zfs-destroy</a></u>(8), <u><a href="../man8/zfs-list.8.html">zfs-list</a></u>(8), <u><a href="../man8/zpool-create.8.html">zpool-create</a></u>(8)

OpenZFS                                          March 16, 2022                                    <u><a href="../man8/ZFS-CREATE.8.html">ZFS-CREATE</a></u>(8)
</pre>
 </div>
</div></section>
</div>
</body>
</html>