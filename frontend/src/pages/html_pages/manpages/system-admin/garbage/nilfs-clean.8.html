<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>nilfs-clean - run garbage collector on NILFS file system</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/nilfs-tools">nilfs-tools_2.2.11-2_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       nilfs-clean - run garbage collector on NILFS file system

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>nilfs-clean</b> [<u>options</u>] [<u>device</u>]

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The  <b>nilfs-clean</b>  program  communicates  with <b><a href="../man8/nilfs_cleanerd.8.html">nilfs_cleanerd</a></b>(8) program and controls execution of garbage
       collection (GC) on NILFS2 file systems.  It can be used to manually run  garbage  collection  of  a  file
       system mounted on <u>device</u> to increase the free space.

       If a GC command is specified by one of the following options (i.e. ´-c´,´-s´,´-r´, and ´-l´ options), the
       command  is sent to and performed on the <b><a href="../man8/nilfs_cleanerd.8.html">nilfs_cleanerd</a></b>(8) program.  If no commands are specified, <b>nilfs-</b>
       <b>clean</b> just triggers a one-pass cleaning.

       When <u>device</u> is omitted, <b>nilfs-clean</b> selects an active NILFS2 file system in the system.

       This command is valid only for mounted NILFS2 file systems, and will fail if the  <u>device</u>  has  no  active
       mounts.

</pre><h4><b>OPTIONS</b></h4><pre>
       <b>-b</b>, <b>--break</b>, <b>--stop</b>
              Stop garbage collection.

       <b>-c</b>, <b>--reload</b>[=<u>conffile</u>]
              Request reloading config file to cleaner process.  If an optional configuration file is given, the
              file  is  read by <b><a href="../man8/nilfs_cleanerd.8.html">nilfs_cleanerd</a></b>(8) program and cleaner configuration is reset to the information.
              If no argument is given, a configuration file selected by <b><a href="../man8/nilfs_cleanerd.8.html">nilfs_cleanerd</a></b>(8) will be reloaded.

       <b>-l</b>, <b>--status</b>
              Display cleaner status.

       <b>-h</b>, <b>--help</b>
              Display help message and exit.

       <b>-m</b>, <b>--min-reclaimable-blocks=</b><u>COUNT[%]</u>
              Specify the minimum number of reclaimable blocks in a segment before it can  be  cleaned.  If  the
              argument  is  followed  by  a  percent  sign, it represents the ratio of blocks in a segment. This
              argument will only have an effect if the use_set_suinfo flag is set in the configuration file.

       <b>-p</b>, <b>--protection-period=</b><u>interval</u>
              Set protection period for a cleaner run.  The <u>interval</u> parameter is an integer value and specifies
              the minimum time that deleted or overrode data will be preserved  in  the  file  system.   Smaller
              values  will  increase  free space made by garbage collection.  Optionally, the <u>interval</u> parameter
              may be suffixed by one of the following units designators: ´s´, ´m´, ´h´, ´d´,´w´,´M´, or ´Y´, for
              seconds, minutes, hours, days, weeks, months, or years, respectively.

       <b>-q</b>, <b>--quit</b>
              Shutdown cleaner daemon.

       <b>-r</b>, <b>--resume</b>
              Resume garbage collection.

       <b>-s</b>, <b>--suspend</b>
              Suspend garbage collection.  Note that if users manually  suspend  garbage  collection  with  this
              option, it will not restart automatically until user resumes the garbage collection.

       <b>-S</b>, <b>--speed=</b><u>COUNT[/SECONDS]</u>
              Set garbage collection speed for a cleaner run.

       <b>-v</b>, <b>--verbose</b>
              Verbose mode.

       <b>-V</b>, <b>--version</b>
              Display version and exit.

</pre><h4><b>AUTHOR</b></h4><pre>
       Ryusuke Konishi &lt;<a href="mailto:konishi.ryusuke@gmail.com">konishi.ryusuke@gmail.com</a>&gt;

</pre><h4><b>AVAILABILITY</b></h4><pre>
       <b>nilfs-clean</b> is part of the nilfs-utils package and is available from https://nilfs.sourceforge.io.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man8/nilfs.8.html">nilfs</a></b>(8), <b><a href="../man8/nilfs_cleanerd.8.html">nilfs_cleanerd</a></b>(8).

nilfs-utils version 2.2                             Apr 2014                                      <u><a href="../man8/NILFS-CLEAN.8.html">NILFS-CLEAN</a></u>(8)
</pre>
 </div>
</div></section>
</div>
</body>
</html>