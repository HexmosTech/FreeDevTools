<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>opahostsmanalysis</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/opa-fastfabric">opa-fastfabric_10.10.3.0.11-1ubuntu3_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       opahostsmanalysis

       <b>(All)</b>  Performs  analysis  against  the  local  server  only. It is assumed that both the host SM and the
       FastFabric are installed on the same system.

       The host SM analysis tool checks the following:

       •      Host SM software version

       •      Host SM configuration file (simple text compare using FF_DIFF_CMD)

       •      Host SM health (for example, is it running?)

</pre><h4><b>Syntax</b></h4><pre>
       opahostsmanalysis [-b|-e] [-s] [-d  <u>dir</u>]

</pre><h4><b>Options</b></h4><pre>
       --help

                 Produces full help text.

       -b

                 Specifies the baseline mode. Default is the compare/check mode.

       -e

                 Evaluates health only. Default is the compare/check mode.

       -s

                 Saves history of failures (errors/differences).

       -d <u>dir</u>

                 Specifies the top-level directory for saving baseline and history of failed checks. Default  is
                 /var/usr/lib/opa/analysis

</pre><h4><b>Example</b></h4><pre>
       opahostsmanalysis

</pre><h4><b>Environment</b> <b>Variables</b></h4><pre>
       The following environment variables are also used by this command:

       <b>FF_ANALYSIS_DIR</b>

                 Top-level directory for baselines and failed health checks.

       <b>FF_CURTIME</b>

                 Timestamp to use on the directory created in FF_DIFF_CMD.

       <b>FF_DIFF_CMD</b>

                 Linux* command to use to compare baseline to latest snapshot.

</pre><h4><b>Details</b></h4><pre>
       All files generated by opahostsmanalysis start with hostsm in the file name.

       The  opahostsmanalysis tool generates files such as the following within FF_ANALYSIS_DIR. The actual file
       names reflect the individual chassis commands that have been configured using the  <b>FF_CHASSIS_HEALTH</b>  and
       <b>FF_CHASSIS_CMDS</b> parameters:

       <b>Health</b> <b>Check</b>

       •      latest/hostsm.smstatus - Output of the sm_query smShowStatus command.

       <b>Baseline</b>

       •      baseline/hostsm.smver - Host SM version.

       •      baseline/hostsm.smconfig - Copy of opafm.xml.

       During a baseline run, the files are also created in FF_ANALYSIS_DIR/latest.

       <b>Full</b> <b>Analysis</b>

       •      latest/hostsm.smstatus - Output of the sm_query smShowStatus command.

       •      latest/hostsm.smver  - Host SM version. latest/hostsm.smver.diff - diff of the baseline and latest
              host SM version.

       •      latest/hostsm.smconfig - Copy of opafm.xml.

       •      latest/hostsm.smconfig.diff - diff of the baseline and the latest opafm.xml.

       The .diff files are only created if differences are detected.

       If the -s option is used and failures are detected, files related to the  checks  that  failed  are  also
       copied to a time-stamped directory name under FF_ANALYSIS_DIR.

</pre><h4><b>Host</b> <b>SM</b> <b>Items</b> <b>Checked</b> <b>Against</b> <b>the</b> <b>Baseline</b></h4><pre>
       •      SM configuration file.

       •      Version of the SM rpm installed on the system.

</pre><h4><b>Host</b> <b>SM</b> <b>Items</b> <b>Also</b> <b>Checked</b> <b>During</b> <b>Health</b> <b>Check</b></h4><pre>
       •      The SM is in the running state.

Copyright(C) 2015-2019                          Intel Corporation                           <u><a href="../man8/opahostsmanalysis.8.html">opahostsmanalysis</a></u>(8)
</pre>
 </div>
</div></section>
</div>
</body>
</html>