<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>xfs_admin - change parameters of an XFS filesystem</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/xfsprogs">xfsprogs_6.13.0-2ubuntu1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       xfs_admin - change parameters of an XFS filesystem

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>xfs_admin</b>  [ <b>-eflpu</b> ] [ <b>-O</b> <u>featurelist</u> ] [ <b>-c</b> <b>0</b>|<b>1</b> ] [ <b>-L</b> <u>label</u> ] [ <b>-U</b> <u>uuid</u> ] [ <b>-r</b> <u>rtdev</u> ] <u>device</u> [ <u>logdev</u>
       ]
       <b>xfs_admin</b> <b>-V</b>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>xfs_admin</b> uses the <b><a href="../man8/xfs_db.8.html">xfs_db</a></b>(8) command to modify various parameters of a filesystem.

       Devices that are mounted cannot be modified.  Administrators must unmount filesystems before <b>xfs_admin</b> or
       <b><a href="../man8/xfs_db.8.html">xfs_db</a></b>(8) can convert parameters.  A number of parameters of a mounted filesystem  can  be  examined  and
       modified using the <b><a href="../man8/xfs_growfs.8.html">xfs_growfs</a></b>(8) command.

       The  optional  <b>logdev</b>  parameter  specifies  the  device special file where the filesystem's external log
       resides.  This is required only for filesystems that use an external log.  See the  <b>mkfs.xfs</b>  <b>-l</b>  option,
       and refer to <b><a href="../man5/xfs.5.html">xfs</a></b>(5) for a detailed description of the XFS log.

</pre><h4><b>OPTIONS</b></h4><pre>
       <b>-e</b>     Enables  unwritten  extent  support  on  a filesystem that does not already have this enabled (for
              legacy filesystems, it can't be disabled anymore at mkfs time).

              This option only applies to the deprecated V4 format.

       <b>-f</b>     Specifies that the filesystem image to be processed is stored in a regular file at <u>device</u> (see the
              <b>mkfs.xfs</b> <b>-d</b> <u>file</u> option).

       <b>-j</b>     Enables version 2 log format (journal format supporting larger log buffers).

              This option only applies to the deprecated V4 format.

       <b>-l</b>     Print the current filesystem label.

       <b>-p</b>     Enable 32bit project identifier support (PROJID32BIT feature).

              This option only applies to the deprecated V4 format.

       <b>-u</b>     Print the current filesystem UUID (Universally Unique IDentifier).

       <b>-c</b> <b>0</b>|<b>1</b> Enable (1) or disable (0) lazy-counters in the filesystem.

              Lazy-counters may not be disabled on Version 5 superblock filesystems (i.e.  those  with  metadata
              CRCs enabled).

              In other words, this option only applies to the deprecated V4 format.

              This operation may take quite a bit of time on large filesystems as the entire filesystem needs to
              be scanned when this option is changed.

              With  lazy-counters enabled, the superblock is not modified or logged on every change of the free-
              space and inode counters. Instead, enough information is kept in other parts of the filesystem  to
              be  able to maintain the counter values without needing to keep them in the superblock. This gives
              significant improvements in performance on some configurations and metadata intensive workloads.

       <b>-L</b> <u>label</u>
              Set the filesystem label to <u>label</u>.  XFS filesystem labels can be at most 12  characters  long;  if
              <u>label</u>  is  longer than 12 characters, <b>xfs_admin</b> will truncate it and print a warning message.  The
              filesystem label can be cleared using the special "<b>--</b>" value for <u>label</u>.

       <b>-O</b> <u>feature1</u><b>=</b><u>status</u><b>,</b><u>feature2</u><b>=</b><u>status...</u>
              Add or remove features on an existing V5 filesystem.  The features should be specified as a comma-
              separated list.  <u>status</u> should be either 0 to disable the feature or  1  to  enable  the  feature.
              Note, however, that most features cannot be disabled.

              <b>NOTE:</b>  Administrators  must ensure the filesystem is clean by running <b>xfs_repair</b> <b>-n</b> to inspect the
              filesystem before performing the upgrade.  If  corruption  is  found,  recovery  procedures  (e.g.
              reformat  followed  by  restoration  from  backup;  or  running <b>xfs_repair</b> without the <b>-n</b>) must be
              followed to clean the filesystem.

              Supported features are as follows:

              <b>inobtcount</b>
                  Keep a count the number of blocks in each inode btree in the AGI.  This reduces mount time  by
                  speeding  up  metadata  space  reservation  calculations.  The filesystem cannot be downgraded
                  after this feature is enabled.  Once enabled, the filesystem will not  be  writable  by  older
                  kernels.  This feature was added to Linux 5.10.

              <b>bigtime</b>
                  Upgrade  a filesystem to support larger timestamps up to the year 2486.  The filesystem cannot
                  be downgraded after this feature is  enabled.   Once  enabled,  the  filesystem  will  not  be
                  mountable by older kernels.  This feature was added to Linux 5.10.

              <b>nrext64</b>
                  Upgrade  a filesystem to support large per-inode extent counters. The maximum data fork extent
                  count will be 2^48 - 1, while the maximum attribute fork extent count will be 2^32  -  1.  The
                  filesystem  cannot  be  downgraded after this feature is enabled. Once enabled, the filesystem
                  will not be mountable by older kernels.  This feature was added to Linux 5.19.

              <b>exchange</b>
                  Upgrade   a   filesystem   to   support   atomic   file   content   exchanges   through    the
                  XFS_IOC_EXCHANGE_RANGE   ioctl,  and  to  support  online  repairs  of  directories,  extended
                  attributes, symbolic links, and realtime  free  space  metadata.   The  filesystem  cannot  be
                  downgraded  after this feature is enabled.  Once enabled, the filesystem will not be mountable
                  by older kernels.

       <b>-U</b> <u>uuid</u>
              Set   the   UUID   of   the   filesystem   to   <u>uuid</u>.    A   sample   UUID   looks   like    this:
              "c1b9d5a2-f162-11cf-9ece-0020afc76f16".   The  <u>uuid</u> may also be <b>nil</b>, which will set the filesystem
              UUID to the null UUID.  The <u>uuid</u> may also be <b>generate</b>, which will generate  a  new  UUID  for  the
              filesystem.   Note  that  on CRC-enabled filesystems, this will set an incompatible flag such that
              older kernels will not be able to mount the filesystem.  To remove  this  incompatible  flag,  use
              <b>restore</b>, which will restore the original UUID and remove the incompatible feature flag as needed.

       <b>-r</b> <u>rtdev</u>
              Specifies the device special file where the filesystem's realtime section resides.  Only for those
              filesystems which use a realtime section.

       <b>-V</b>     Prints the version number and exits.

       The  <b><a href="../man8/mount.8.html">mount</a></b>(8)  manual  entry describes how to mount a filesystem using its label or UUID, rather than its
       block special device name.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man8/mkfs.xfs.8.html">mkfs.xfs</a></b>(8), <b><a href="../man8/mount.8.html">mount</a></b>(8), <b><a href="../man8/xfs_db.8.html">xfs_db</a></b>(8), <b><a href="../man8/xfs_growfs.8.html">xfs_growfs</a></b>(8), <b><a href="../man8/xfs_repair.8.html">xfs_repair</a></b>(8), <b><a href="../man5/xfs.5.html">xfs</a></b>(5).

                                                                                                    <u><a href="../man8/xfs_admin.8.html">xfs_admin</a></u>(8)
</pre>
 </div>
</div></section>
</div>
</body>
</html>