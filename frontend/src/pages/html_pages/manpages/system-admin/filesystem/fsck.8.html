<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>fsck - check and repair a Linux filesystem</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/util-linux">util-linux_2.41-4ubuntu3_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       fsck - check and repair a Linux filesystem

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>fsck</b> [<b>-lsAVRTMNP</b>] [<b>-r</b> [<u>fd</u>]] [<b>-C</b> [<u>fd</u>]] [<b>-t</b> <u>fstype</u>] [<u>filesystem</u>...] [<b>--</b>] [<u>fs-specific-options</u>]

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>fsck</b> is used to check and optionally repair one or more Linux filesystems. <u>filesystem</u> can be a device
       name (e.g., <u>/dev/hdc1</u>, <u>/dev/sdb2</u>), a mount point (e.g., <u>/</u>, <u><a href="file:/usr">/usr</a></u>, <u><a href="file:/home">/home</a></u>), or a filesystem label or UUID
       specifier (e.g., UUID=8868abf6-88c5-4a83-98b8-bfc24057f7bd or LABEL=root). Normally, the <b>fsck</b> program
       will try to handle filesystems on different physical disk drives in parallel to reduce the total amount
       of time needed to check all of them.

       If no filesystems are specified on the command line, and the <b>-A</b> option is not specified, <b>fsck</b> will
       default to checking filesystems in <u><a href="file:/etc/fstab">/etc/fstab</a></u> serially. This is equivalent to the <b>-As</b> options.

       The exit status returned by <b>fsck</b> is the sum of the following conditions:

       <b>0</b>
           No errors

       <b>1</b>
           Filesystem errors corrected

       <b>2</b>
           System should be rebooted

       <b>4</b>
           Filesystem errors left uncorrected

       <b>8</b>
           Operational error

       <b>16</b>
           Usage or syntax error

       <b>32</b>
           Checking canceled by user request

       <b>128</b>
           Shared-library error

       The exit status returned when multiple filesystems are checked is the bit-wise OR of the exit statuses
       for each filesystem that is checked.

       In actuality, <b>fsck</b> is simply a front-end for the various filesystem checkers (<b>fsck</b>.<u>fstype</u>) available
       under Linux. The filesystem-specific checker is searched for in the <b>PATH</b> environment variable. If the
       <b>PATH</b> is undefined then fallback to <u><a href="file:/sbin">/sbin</a></u>.

       Please see the filesystem-specific checker manual pages for further details.

</pre><h4><b>OPTIONS</b></h4><pre>
       <b>-l</b>
           Create an exclusive <b><a href="../man2/flock.2.html">flock</a></b>(2) lock file (<u><a href="file:/run/fsck/">/run/fsck/</a>&lt;diskname&gt;.lock</u>) for whole-disk device. This option
           can be used with one device only (this means that <b>-A</b> and <b>-l</b> are mutually exclusive). This option is
           recommended when more <b>fsck</b> instances are executed in the same time. The option is ignored when used
           for multiple devices or for non-rotating disks. <b>fsck</b> does not lock underlying devices when executed
           to check stacked devices (e.g. MD or DM) - this feature is not implemented yet.

       <b>-r</b> [<u>fd</u>]
           Report certain statistics for each fsck when it completes. These statistics include the exit status,
           the maximum run set size (in kilobytes), the elapsed all-clock time and the user and system CPU time
           used by the fsck run. For example:

           <b>/dev/sda1:</b> <b>status</b> <b>0,</b> <b>rss</b> <b>92828,</b> <b>real</b> <b>4.002804,</b> <b>user</b> <b>2.677592,</b> <b>sys</b> <b>0.86186</b>

           GUI front-ends may specify a file descriptor <u>fd</u>, in which case the progress bar information will be
           sent to that file descriptor in a machine parsable format. For example:

           <b>/dev/sda1</b> <b>0</b> <b>92828</b> <b>4.002804</b> <b>2.677592</b> <b>0.86186</b>

       <b>-s</b>
           Serialize <b>fsck</b> operations. This is a good idea if you are checking multiple filesystems and the
           checkers are in an interactive mode. (Note: <b><a href="../man8/e2fsck.8.html">e2fsck</a></b>(8) runs in an interactive mode by default. To make
           <b><a href="../man8/e2fsck.8.html">e2fsck</a></b>(8) run in a non-interactive mode, you must either specify the <b>-p</b> or <b>-a</b> option, if you wish for
           errors to be corrected automatically, or the <b>-n</b> option if you do not.)

       <b>-t</b> <u>fslist</u>
           Specifies the type(s) of filesystem to be checked. When the <b>-A</b> flag is specified, only filesystems
           that match <u>fslist</u> are checked. The <u>fslist</u> parameter is a comma-separated list of filesystems and
           options specifiers. All of the filesystems in this comma-separated list may be prefixed by a negation
           operator '<b>no</b>' or '<b>!</b>', which requests that only those filesystems not listed in <u>fslist</u> will be
           checked. If none of the filesystems in <u>fslist</u> is prefixed by a negation operator, then only those
           listed filesystems will be checked.

           Options specifiers may be included in the comma-separated <u>fslist</u>. They must have the format
           <b>opts=</b><u>fs-option</u>. If an options specifier is present, then only filesystems which contain <u>fs-option</u> in
           their mount options field of <u><a href="file:/etc/fstab">/etc/fstab</a></u> will be checked. If the options specifier is prefixed by a
           negation operator, then only those filesystems that do not have <u>fs-option</u> in their mount options
           field of <u><a href="file:/etc/fstab">/etc/fstab</a></u> will be checked.

           For example, if <b>opts=ro</b> appears in <u>fslist</u>, then only filesystems listed in <u><a href="file:/etc/fstab">/etc/fstab</a></u> with the <b>ro</b>
           option will be checked.

           For compatibility with Mandrake distributions whose boot scripts depend upon an unauthorized UI
           change to the <b>fsck</b> program, if a filesystem type of <b>loop</b> is found in <u>fslist</u>, it is treated as if
           <b>opts=loop</b> were specified as an argument to the <b>-t</b> option.

           Normally, the filesystem type is deduced by searching for <u>filesys</u> in the <u><a href="file:/etc/fstab">/etc/fstab</a></u> file and using
           the corresponding entry. If the type cannot be deduced, and there is only a single filesystem given
           as an argument to the <b>-t</b> option, <b>fsck</b> will use the specified filesystem type. If this type is not
           available, then the default filesystem type (currently ext2) is used.

       <b>-A</b>
           Walk through the <u><a href="file:/etc/fstab">/etc/fstab</a></u> file and try to check all filesystems in one run. This option is
           typically used from the <u>/etc/rc</u> system initialization file, instead of multiple commands for checking
           a single filesystem.

           The root filesystem will be checked first unless the <b>-P</b> option is specified (see below). After that,
           filesystems will be checked in the order specified by the <u>fs_passno</u> (the sixth) field in the
           <u><a href="file:/etc/fstab">/etc/fstab</a></u> file. Filesystems with a <u>fs_passno</u> value of 0 are skipped and are not checked at all.
           Filesystems with a <u>fs_passno</u> value of greater than zero will be checked in order, with filesystems
           with the lowest <u>fs_passno</u> number being checked first. If there are multiple filesystems with the same
           pass number, <b>fsck</b> will attempt to check them in parallel, although it will avoid running multiple
           filesystem checks on the same physical disk.

           <b>fsck</b> does not check stacked devices (RAIDs, dm-crypt, ...) in parallel with any other device. See
           below for <b>FSCK_FORCE_ALL_PARALLEL</b> setting. The <u><a href="file:/sys">/sys</a></u> filesystem is used to determine dependencies
           between devices.

           Hence, a very common configuration in <u><a href="file:/etc/fstab">/etc/fstab</a></u> files is to set the root filesystem to have a
           <u>fs_passno</u> value of 1 and to set all other filesystems to have a <u>fs_passno</u> value of 2. This will allow
           <b>fsck</b> to automatically run filesystem checkers in parallel if it is advantageous to do so. System
           administrators might choose not to use this configuration if they need to avoid multiple filesystem
           checks running in parallel for some reason - for example, if the machine in question is short on
           memory so that excessive paging is a concern.

           <b>fsck</b> normally does not check whether the device actually exists before calling a filesystem specific
           checker. Therefore non-existing devices may cause the system to enter filesystem repair mode during
           boot if the filesystem specific checker returns a fatal error. The <u><a href="file:/etc/fstab">/etc/fstab</a></u> mount option <b>nofail</b> may
           be used to have <b>fsck</b> skip non-existing devices. <b>fsck</b> also skips non-existing devices that have the
           special filesystem type <b>auto</b>.

       <b>-C</b> [<u>fd</u>]
           Display completion/progress bars for those filesystem checkers (currently only for ext[234]) which
           support them. <b>fsck</b> will manage the filesystem checkers so that only one of them will display a
           progress bar at a time. GUI front-ends may specify a file descriptor <u>fd</u>, in which case the progress
           bar information will be sent to that file descriptor.

       <b>-M</b>
           Do not check mounted filesystems and return an exit status of 0 for mounted filesystems.

       <b>-N</b>
           Don’t execute, just show what would be done.

       <b>-P</b>
           When the <b>-A</b> flag is set, check the root filesystem in parallel with the other filesystems. This is
           not the safest thing in the world to do, since if the root filesystem is in doubt things like the
           <b><a href="../man8/e2fsck.8.html">e2fsck</a></b>(8) executable might be corrupted! This option is mainly provided for those sysadmins who don’t
           want to repartition the root filesystem to be small and compact (which is really the right solution).

       <b>-R</b>
           When checking all filesystems with the <b>-A</b> flag, skip the root filesystem. (This is useful in case the
           root filesystem has already been mounted read-write.)

       <b>-T</b>
           Don’t show the title on startup.

       <b>-V</b>
           Produce verbose output, including all filesystem-specific commands that are executed.

       <b>-?</b>, <b>--help</b>
           Display help text and exit.

       <b>--version</b>
           Display version information and exit.

</pre><h4><b>FILESYSTEM</b> <b>SPECIFIC</b> <b>OPTIONS</b></h4><pre>
       <b>Options</b> <b>which</b> <b>are</b> <b>not</b> <b>understood</b> <b>by</b> <b>fsck</b> <b>are</b> <b>passed</b> <b>to</b> <b>the</b> <b>filesystem-specific</b> <b>checker!</b>

       These options <b>must</b> not take arguments, as there is no way for <b>fsck</b> to be able to properly guess which
       options take arguments and which don’t.

       Options and arguments which follow the <b>--</b> are treated as filesystem-specific options to be passed to the
       filesystem-specific checker.

       Please note that <b>fsck</b> is not designed to pass arbitrarily complicated options to filesystem-specific
       checkers. If you’re doing something complicated, please just execute the filesystem-specific checker
       directly. If you pass <b>fsck</b> some horribly complicated options and arguments, and it doesn’t do what you
       expect, <b>don’t</b> <b>bother</b> <b>reporting</b> <b>it</b> <b>as</b> <b>a</b> <b>bug.</b> You’re almost certainly doing something that you shouldn’t be
       doing with <b>fsck</b>. Options to different filesystem-specific fsck’s are not standardized.

</pre><h4><b>ENVIRONMENT</b></h4><pre>
       The <b>fsck</b> program’s behavior is affected by the following environment variables:

       <b>FSCK_FORCE_ALL_PARALLEL</b>
           If this environment variable is set, <b>fsck</b> will attempt to check all of the specified filesystems in
           parallel, regardless of whether the filesystems appear to be on the same device. (This is useful for
           RAID systems or high-end storage systems such as those sold by companies such as IBM or EMC.) Note
           that the <u>fs_passno</u> value is still used.

       <b>FSCK_MAX_INST</b>
           This environment variable will limit the maximum number of filesystem checkers that can be running at
           one time. This allows configurations which have a large number of disks to avoid <b>fsck</b> starting too
           many filesystem checkers at once, which might overload CPU and memory resources available on the
           system. If this value is zero, then an unlimited number of processes can be spawned. This is
           currently the default, but future versions of <b>fsck</b> may attempt to automatically determine how many
           filesystem checks can be run based on gathering accounting data from the operating system.

       <b>PATH</b>
           The <b>PATH</b> environment variable is used to find filesystem checkers.

       <b>FSTAB_FILE</b>
           This environment variable allows the system administrator to override the standard location of the
           <u><a href="file:/etc/fstab">/etc/fstab</a></u> file. It is also useful for developers who are testing <b>fsck</b>.

       <b>LIBBLKID_DEBUG=all</b>
           enables libblkid debug output.

       <b>LIBMOUNT_DEBUG=all</b>
           enables libmount debug output.

</pre><h4><b>FILES</b></h4><pre>
       <u><a href="file:/etc/fstab">/etc/fstab</a></u>

</pre><h4><b>NOTES</b></h4><pre>
       During boot, <b>systemd</b> does not invoke <b>fsck</b> <b>-A</b>. Instead, it schedules the activation of mounts
       individually, taking into account dependencies on backing devices, networking, and other factors.
       Consequently, <b>fsck</b> is called individually for each device.

</pre><h4><b>AUTHORS</b></h4><pre>
       Theodore Ts’o &lt;<a href="mailto:tytso@mit.edu">tytso@mit.edu</a>&gt;, Karel Zak &lt;<a href="mailto:kzak@redhat.com">kzak@redhat.com</a>&gt;

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man5/fstab.5.html">fstab</a></b>(5), <b><a href="../man8/mkfs.8.html">mkfs</a></b>(8), <b><a href="../man8/fsck.ext2.8.html">fsck.ext2</a></b>(8) or <b><a href="../man8/fsck.ext3.8.html">fsck.ext3</a></b>(8) or <b><a href="../man8/e2fsck.8.html">e2fsck</a></b>(8), <b><a href="../man8/fsck.cramfs.8.html">fsck.cramfs</a></b>(8), <b><a href="../man8/fsck.jfs.8.html">fsck.jfs</a></b>(8), <b><a href="../man8/fsck.nfs.8.html">fsck.nfs</a></b>(8),
       <b><a href="../man8/fsck.minix.8.html">fsck.minix</a></b>(8), <b><a href="../man8/fsck.msdos.8.html">fsck.msdos</a></b>(8), <b><a href="../man8/fsck.vfat.8.html">fsck.vfat</a></b>(8), <b><a href="../man8/fsck.xfs.8.html">fsck.xfs</a></b>(8), <b><a href="../man8/reiserfsck.8.html">reiserfsck</a></b>(8)

</pre><h4><b>REPORTING</b> <b>BUGS</b></h4><pre>
       For bug reports, use the issue tracker &lt;https://github.com/util-linux/util-linux/issues&gt;.

</pre><h4><b>AVAILABILITY</b></h4><pre>
       The <b>fsck</b> command is part of the util-linux package which can be downloaded from Linux Kernel Archive
       &lt;https://www.kernel.org/pub/linux/utils/util-linux/&gt;.

util-linux 2.41                                    2025-02-26                                            <u><a href="../man8/FSCK.8.html">FSCK</a></u>(8)
</pre>
 </div>
</div></section>
</div>
</body>
</html>