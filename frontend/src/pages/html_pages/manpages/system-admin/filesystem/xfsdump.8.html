<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>xfsdump - XFS filesystem incremental dump utility</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/xfsdump">xfsdump_3.2.0-2_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       xfsdump - XFS filesystem incremental dump utility

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>xfsdump</b> -h
       <b>xfsdump</b> [ options ] -f <u>dest</u> [ -f <u>dest</u> ... ] <u>filesystem</u>
       <b>xfsdump</b> [ options ] - <u>filesystem</u>
       <b>xfsdump</b> -I [ subopt=value ... ]

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <u>xfsdump</u>  backs  up  files and their attributes in a filesystem.  The files are dumped to storage media, a
       regular file, or standard output.  Options allow the operator to have all files dumped, just  files  that
       have changed since a previous dump, or just files contained in a list of pathnames.

       The <u><a href="../man8/xfsrestore.8.html">xfsrestore</a></u>(8) utility re-populates a filesystem with the contents of the dump.

       Each  invocation  of  <u>xfsdump</u>  dumps just one filesystem.  That invocation is termed a dump session.  The
       dump session splits the filesystem into one or more dump streams, one per destination.  The split is done
       in filesystem inode number (ino) order, at boundaries selected to  equalize  the  size  of  each  stream.
       Furthermore,  the  breakpoints  between  streams  may  be  in  the  middle of very large files (at extent
       boundaries) if necessary to achieve reasonable stream size  equalization.   Each  dump  stream  can  span
       several  media  objects,  and  a single media object can contain several dump streams.  The typical media
       object is a tape cartridge.  The media object records the dump stream as one  or  more  media  files.   A
       media  file  is  a  self-contained partial dump, intended to minimize the impact of media dropouts on the
       entire dump stream at the expense of increasing the time required to complete the dump. By  default  only
       one  media  file  is written unless a media file size is specified using the <b>-d</b> option. Other techniques,
       such as making a second copy of the dump image, provide  more  protection  against  media  failures  than
       multiple media files will.

       <u>xfsdump</u>  maintains  an  online  dump inventory in <u>/var/lib/xfsdump/inventory</u>.  The <b>-I</b> option displays the
       inventory contents hierarchically.  The levels of the hierarchy are: filesystem,  dump  session,  stream,
       and media file.

       The options to <u>xfsdump</u> are:

       <b>-a</b>   Specifies  that files for which the Data Migration Facility (DMF) has complete offline copies (dual-
            state files) be treated as if they were offline (OFL).  This means that the file data  will  not  be
            dumped by xfsdump, resulting in a smaller dump file.  If the file is later restored the file data is
            still  accessible  through  DMF.  If both '-a option' and '-z option' are specified, the '-a option'
            takes precedence (see '-z option' below).

       <b>-b</b> <u>blocksize</u>
            Specifies the blocksize, in bytes, to be used for the dump.  The same blocksize must be specified to
            restore the tape.  If the <b>-m</b> option is not used, then <b>-b</b> does not need to be specified.  Instead,  a
            default blocksize of 1Mb will be used.

       <b>-c</b> <u>progname</u>
            Use  the  specified program to alert the operator when a media change is required. The alert program
            is typically a script to send a mail or flash a window to draw the operator's attention.

       <b>-d</b> <u>filesize</u>
            Specifies the size, in megabytes, of dump media files.  If not specified, xfsdump will dump data  to
            tape  using  a  single  media  file  per media object.  The specified media file size may need to be
            adjusted if, for example, xfsdump cannot fit a media file onto a single tape.

       <b>-e</b>   Allow files to be excluded from the dump.  This will cause xfsdump to skip files which have the  "no
            dump"  file attribute set. See the "Excluding individual files" section below for details on setting
            this file attribute.

       <b>-f</b> <u>dest</u> [ <b>-f</b> <u>dest</u> ... ]
            Specifies a dump destination.  A dump destination can be the pathname of a device (such  as  a  tape
            drive),  a  regular  file  or  a remote tape drive (see <u><a href="../man8/rmt.8.html">rmt</a></u>(8)).  This option must be omitted if the
            standard output option (a lone <b>-</b> preceding the source filesystem specification) is specified.

       <b>-l</b> <u>level</u>
            Specifies a dump level of 0 to 9.  The dump level determines the base dump to  which  this  dump  is
            relative.   The  base  dump is the most recent dump at a lesser level.  A level 0 dump is absolute -
            all files are dumped.  A dump level where 1 &lt;= <u>level</u> &lt;= 9 is referred to  as  an  incremental  dump.
            Only  files that have been changed since the base dump are dumped.  Subtree dumps (see the <b>-s</b> option
            below) cannot be used as the base for incremental dumps.

       <b>-m</b>   Use the minimal tape protocol for non-scsi tape destinations or remote tape destinations  which  are
            not  scsi  Linux  tape drives nor IRIX tape drives.  This option cannot be used without specifying a
            blocksize to be used (see <b>-b</b> option above).

       <b>-o</b>   Overwrite the tape. With this option, <u>xfsdump</u> does not read the tape first to  check  the  contents.
            This option may be used if <u>xfsdump</u> is unable to determine the block size of a tape .

       <b>-p</b> <u>interval</u>
            Causes progress reports to be printed at the specified interval.  <u>interval</u> is given in seconds.  The
            progress  report  indicates  how many files have been dumped, the total number of files to dump, the
            percentage of data dumped, and the elapsed time.

       <b>-q</b>   Destination tape drive is a QIC tape.  QIC tapes only use a 512 byte blocksize,  for  which  <u>xfsdump</u>
            must make special allowances.

       <b>-s</b> <u>pathname</u> [ <b>-s</b> <u>pathname</u> ... ]
            Restricts  the  dump  to  files contained in the specified pathnames (subtrees).  A <u>pathname</u> must be
            relative to the mount point of the filesystem.  For example, if a filesystem is mounted at <u>/d2</u>,  the
            <u>pathname</u>  argument  for  the  directory  <u>/d2/users</u>  is  ``users''.   A  <u>pathname</u>  can be a file or a
            directory; if it is a directory, the entire hierarchy of files and  subdirectories  rooted  at  that
            directory  is  dumped.   Subtree  dumps cannot be used as the base for incremental dumps (see the <b>-l</b>
            option above).

       <b>-t</b> <u>file</u>
            Sets the dump time to the modification time of <u>file</u> rather than using  the  current  time.   <u>xfsdump</u>
            uses  the  dump  time  to determine what files need to be backed up during an incremental dump. This
            option should be used when dumping snapshots so that the dump time matches the time the snapshot was
            taken. Otherwise files modified after a snapshot is taken may be skipped  in  the  next  incremental
            dump.

       <b>-v</b> <u>verbosity</u>
       <b>-v</b> <u>subsys</u>=<u>verbosity</u>[,<u>subsys</u>=<u>verbosity</u>,...]
            Specifies  the  level  of  detail  used  for  messages  displayed during the course of the dump. The
            <u>verbosity</u> argument can be passed as either a string or  an  integer.  If  passed  as  a  string  the
            following  values  may  be  used: <b>silent</b>, <b>verbose</b>, <b>trace</b>, <b>debug</b>, or <b>nitty</b>.  If passed as an integer,
            values from 0-5 may be used. The values 0-4 correspond to the strings already listed.  The  value  5
            can be used to produce even more verbose debug output.

            The  first form of this option activates message logging across all dump subsystems. The second form
            allows the message logging level to be controlled on a per-subsystem basis. The  two  forms  can  be
            combined (see the example below). The argument <u>subsys</u> can take one of the following values: <b>general</b>,
            <b>proc</b>, <b>drive</b>, <b>media</b>, <b>inventory</b>, <b>inomap</b> and <b>excluded_files</b>.

            For example, to dump the root filesystem with tracing activated for all subsystems:

                 <b>#</b> <b>xfsdump</b> <b>-v</b> <b>trace</b> <b>-f</b> <b>/dev/tape</b> <b>/</b>

            To enable debug-level tracing for drive and media operations:

                 <b>#</b> <b>xfsdump</b> <b>-v</b> <b>drive=debug,media=debug</b> <b>-f</b> <b>/dev/tape</b> <b>/</b>

            To enable tracing for all subsystems, and debug level tracing for drive operations only:

                 <b>#</b> <b>xfsdump</b> <b>-v</b> <b>trace,drive=debug</b> <b>-f</b> <b>/dev/tape</b> <b>/</b>

            To list files that will be excluded from the dump:

                 <b>#</b> <b>xfsdump</b> <b>-e</b> <b>-v</b> <b>excluded_files=debug</b> <b>-f</b> <b>/dev/tape</b> <b>/</b>

       <b>-z</b> <u>size</u>
            Specifies  the  maximum  size,  in  kilobytes, of files to be included in the dump.  Files over this
            size, will be excluded from the dump, except for DMF dual-state files when '-a option' is  specified
            (see '-a option' above).  When specified, '-a option' takes precedence over '-z option'. The size is
            an  estimate  based  on the number of disk blocks actually used by the file, and so does not include
            holes.  In other words, size refers to the amount of space the file  would  take  in  the  resulting
            dump.   On  an interactive restore, the skipped file is visible with xfsrestore's 'ls' and while you
            can use the 'add' and 'extract' commands, nothing will be restored.

       <b>-A</b>   Do not dump extended file attributes.  When dumping a filesystem managed within  a  DMF  environment
            this  option  should  not  be  used.  DMF  stores  file  migration status within extended attributes
            associated with each file. If these attributes are not preserved when the  filesystem  is  restored,
            files  that  had  been  in  migrated state will not be recallable by DMF. Note that dumps containing
            extended file attributes cannot be restored with older versions of <u><a href="../man8/xfsrestore.8.html">xfsrestore</a></u>(8).

       <b>-B</b> <u>session_id</u>
            Specifies the ID of the dump session upon which this dump session is to be based.  If this option is
            specified, the <b>-l</b> (level) and <b>-R</b> (resume) options are not allowed.  Instead, <b>xfsdump</b>  determines  if
            the  current  dump  session  should  be incremental and/or resumed, by looking at the base session's
            level and interrupted attributes.  If the base session was interrupted, the current dump session  is
            a  resumption of that base at the same level.  Otherwise, the current dump session is an incremental
            dump with a level one greater than that of the base session.  This  option  allows  incremental  and
            resumed dumps to be based on any previous dump, rather than just the most recent.

       <b>-D</b>   Controls  which  directories  are  backed  up  during  an  incremental  dump.  By  default unchanged
            directories are dumped if files or directories beneath them have changed. This results  in  a  self-
            contained  dump  --  if  a  base  dump is lost, or you know the file(s) you wish to restore is in an
            incremental dump, you can restore just that dump without loading the base  dump(s)  first.  However,
            this method requires a potentially expensive traversal through the filesystem.

            When  <b>-D</b>  is  specified,  unchanged  directories are not dumped.  This results in a faster dump, but
            files will end up in the <u><a href="../man8/xfsrestore.8.html">xfsrestore</a></u>(8) <u>orphanage</u> directory unless the base dump(s) is loaded first.

       <b>-E</b>   Pre-erase media.  If this option is specified, media is  erased  prior  to  use.   The  operator  is
            prompted for confirmation, unless the <b>-F</b> option is also specified.

       <b>-F</b>   Don't  prompt  the  operator.   When  <u>xfsdump</u> encounters a media object containing non-xfsdump data,
            <u>xfsdump</u> normally asks the operator for permission to overwrite.  With this option the  overwrite  is
            performed, no questions asked.  When <u>xfsdump</u> encounters end-of-media during a dump, <u>xfsdump</u> normally
            asks  the  operator  if another media object will be provided.  With this option the dump is instead
            interrupted.

       <b>-I</b>   Displays the <u>xfsdump</u> inventory (no dump is performed).  <u>xfsdump</u> records  each  dump  session  in  an
            online  inventory  in <u>/var/lib/xfsdump/inventory</u>.  <u>xfsdump</u> uses this inventory to determine the base
            for incremental dumps.  It is also useful for manually identifying a dump session  to  be  restored.
            Suboptions to filter the inventory display are described later.

       <b>-J</b>   Inhibits  the normal update of the inventory.  This is useful when the media being dumped to will be
            discarded or overwritten.

       <b>-K</b>   Generate a format 2 dump instead of the current format. This is useful if the dump will be  restored
            on  a system with an older <u>xfsrestore</u> which does not understand the current dump format. Use of this
            option is otherwise not recommended.

       <b>-L</b> <u>session_label</u>
            Specifies a label for the dump session.  It can be any arbitrary string up to 255 characters long.

       <b>-M</b> <u>label</u> [ <b>-M</b> <u>label</u> ... ]
            Specifies a label for  the  first  media  object  (for  example,  tape  cartridge)  written  on  the
            corresponding  destination  during the session.  It can be any arbitrary string up to 255 characters
            long.  Multiple media object labels can be specified, one for each destination.

       <b>-O</b> <u>options_file</u>
            Insert the options contained in <u>options_file</u> into the beginning of the command  line.   The  options
            are  specified  just  as  they  would  appear  if typed into the command line.  In addition, newline
            characters (\n) can be used as whitespace.  The options are placed before all options actually given
            on the command line, just after the command name.  Only one <b>-O</b> option can be used.  Recursive use is
            ignored.  The source filesystem cannot be specified in <u>options_file</u>.

       <b>-R</b>   Resumes a previously interrupted dump session.  If the most recent dump at  this  dump's  level  (<b>-l</b>
            option)  was  interrupted,  this dump contains only files not in the interrupted dump and consistent
            with the incremental level.  However, files  contained  in  the  interrupted  dump  that  have  been
            subsequently modified are re-dumped.

       <b>-T</b>   Inhibits  interactive  dialogue  timeouts.  When the <b>-F</b> option is not specified, <u>xfsdump</u> prompts the
            operator for labels and media changes.  Each dialogue normally times out if no response is supplied.
            This option prevents the timeout.

       <b>-Y</b> <u>length</u>
            Specify I/O buffer ring length.  <u>xfsdump</u> uses a ring of output buffers to achieve maximum throughput
            when dumping to tape drives.  The default ring length is 3.  However, this is not currently  enabled
            on Linux yet, making this option benign.

       <b>-</b>    A  lone <b>-</b> causes the dump stream to be sent to the standard output, where it can be piped to another
            utility such as <u><a href="../man8/xfsrestore.8.html">xfsrestore</a></u>(8) or redirected to a file.  This option  cannot  be  used  with  the  <b>-f</b>
            option.  The <b>-</b> must follow all other options and precede the filesystem specification.

       The  filesystem,  <u>filesystem</u>,  can  be specified either as a mount point or as a special device file (for
       example, <u>/dev/dsk/dks0d1s0</u>).  The filesystem must be mounted to be dumped.

</pre><h4><b>NOTES</b></h4><pre>
   <b>Dump</b> <b>Interruption</b>
       A dump can be interrupted at any time and later resumed.  To interrupt, type control-C  (or  the  current
       terminal  interrupt  character).  The operator is prompted to select one of several operations, including
       dump interruption.  After the operator selects dump interruption, the dump continues until  a  convenient
       break  point  is  encountered  (typically the end of the current file).  Very large files are broken into
       smaller subfiles, so the wait for the end of the current file is brief.

   <b>Dump</b> <b>Resumption</b>
       A previously interrupted dump can be resumed by specifying the <b>-R</b> option.  If the most recent dump at the
       specified level was interrupted, the new dump does not include files already  dumped,  unless  they  have
       changed since the interrupted dump.

   <b>Media</b> <b>Management</b>
       A  single media object can contain many dump streams.  Conversely, a single dump stream can span multiple
       media objects.  If a dump stream is sent to a media object already containing one or more dumps,  <u>xfsdump</u>
       appends  the  new dump stream after the last dump stream.  Media files are never overwritten.  If end-of-
       media is encountered during the course of a dump, the operator is prompted to insert a new  media  object
       into  the  drive.   The  dump  stream continuation is appended after the last media file on the new media
       object.

   <b>Inventory</b>
       Each dump session  updates  an  inventory  database  in  <u>/var/lib/xfsdump/inventory</u>.   <u>xfsdump</u>  uses  the
       inventory to determine the base of incremental and resumed dumps.

       This  database  can  be  displayed  by  invoking  <u>xfsdump</u>  with  the  <b>-I</b> option.  The display uses tabbed
       indentation to present the inventory hierarchically.  The first level is filesystem.  The second level is
       session.  The third level is media stream (currently only one stream is  supported).   The  fourth  level
       lists the media files sequentially composing the stream.

       The following suboptions are available to filter the display.

       <b>-I</b> <b>depth=</b><u>n</u>
            (where  <u>n</u>  is  1,  2,  or  3)  limits  the  hierarchical depth of the display. When <u>n</u> is 1, only the
            filesystem information from the inventory is displayed. When <u>n</u> is 2,  only  filesystem  and  session
            information  are  displayed.  When  <u>n</u>  is  3,  only  filesystem,  session and stream information are
            displayed.

       <b>-I</b> <b>level=</b><u>n</u>
            (where <u>n</u> is the dump level) limits the display to dumps of that particular dump level.

       The display may be restricted to media files contained in a specific media object.

       <b>-I</b> <b>mobjid=</b><u>value</u>
            (where <u>value</u> is a media ID) specifies the media object by its media ID.

       <b>-I</b> <b>mobjlabel=</b><u>value</u>
            (where <u>value</u> is a media label) specifies the media object by its media label.

       Similarly, the display can be restricted to a specific filesystem.

       <b>-I</b> <b>mnt=</b><u>mount_point</u>
            (that is, [hostname:]pathname), identifies the filesystem by mountpoint.  Specifying the hostname is
            optional, but may be useful in a clustered environment where more than one host can  be  responsible
            for dumping a filesystem.

       <b>-I</b> <b>fsid=</b><u>filesystem_id</u>
            identifies the filesystem by filesystem ID.

       <b>-I</b> <b>dev=</b><u>device_pathname</u>
            (that  is,  [hostname:]device_pathname) identifies the filesystem by device. As with the <b>mnt</b> filter,
            specifying the hostname is optional.

       More than one of these suboptions, separated by commas, may be specified at the same time  to  limit  the
       display  of  the inventory to those dumps of interest.  However, at most four suboptions can be specified
       at once: one to constrain the display hierarchy depth, one to constrain the dump level, one to  constrain
       the media object, and one to constrain the filesystem.

       For  example,  <b>-I</b>  <b>depth=1,mobjlabel="tape</b>  <b>1",mnt=host1:/test_mnt</b>  would  display  only  the  filesystem
       information (depth=1) for those filesystems that were mounted on <u>host1:/test_mnt</u> at the time of the dump,
       and only those filesystems dumped to the media object labeled "tape 1".

       Dump records may be removed (pruned) from the inventory using the <u>xfsinvutil</u> program.

       An additional media file is placed at the end  of  each  dump  stream.   This  media  file  contains  the
       inventory  information  for  the  current  dump session.  Its contents may be merged back into the online
       inventory database at a later time using <u><a href="../man1M/xfsrestore.1M.html">xfsrestore</a></u>(1M).

       The inventory files stored in <u>/var/lib/xfsdump</u> are not included in the dump, even if  that  directory  is
       contained  within  the  filesystem being dumped.  Including the inventory in the dump may lead to loss or
       corruption of data, should an older version be restored overwriting the current version.  To  backup  the
       <u>xfsdump</u>  inventory,  the contents of <u>/var/lib/xfsdump</u> should be copied to another location which may then
       be safely dumped.  Upon restoration, those files may be copied back  into  <u>/var/lib/xfsdump</u>,  overwriting
       whatever  files  may  be  there, or <u><a href="../man1M/xfsinvutil.1M.html">xfsinvutil</a></u>(1M) may be used to selectively merge parts of the restored
       inventory back  into  the  current  inventory.   Prior  to  version  1.1.8,  <u>xfsdump</u>  would  include  the
       <u>/var/lib/xfsdump</u>  directory  in  the  dump.   Care  should be taken not to overwrite the <u>/var/lib/xfsdump</u>
       directory when restoring an old dump, by either restoring  the  filesystem  to  another  location  or  by
       copying the current contents of <u>/var/lib/xfsdump</u> to a safe place prior to running <u><a href="../man1M/xfsrestore.1M.html">xfsrestore</a></u>(1M).

   <b>Labels</b>
       The  operator  can  specify  a label to identify the dump session and a label to identify a media object.
       The session label is placed in every media file produced in the course of the dump, and  is  recorded  in
       the inventory.

       The  media  label is used to identify media objects, and is independent of the session label.  Each media
       file on the media object contains a copy of the media label.   An  error  is  returned  if  the  operator
       specifies  a  media  label  that  does not match the media label on a media object containing valid media
       files.  Media labels are recorded in the inventory.

   <b>UUIDs</b>
       UUIDs (Universally Unique Identifiers) are used in three places: to identify the filesystem being  dumped
       (using  the  filesystem UUID, see <u><a href="../man5/xfs.5.html">xfs</a></u>(5) for more details), to identify the dump session, and to identify
       each media object.  The inventory display (<b>-I</b>) includes all of these.

   <b>Dump</b> <b>Level</b> <b>Usage</b>
       The dump level mechanism provides a structured form of incremental dumps.  A dump of level <u>level</u> includes
       only files that have changed since the most recent dump at a level less than  <u>level</u>.   For  example,  the
       operator  can  establish  a  dump schedule that involves a full dump every Friday and a daily incremental
       dump containing only files that have changed since the previous dump.  In this case Friday's  dump  would
       be at level 0, Saturday's at level 1, Sunday's at level 2, and so on, up to the Thursday dump at level 6.

       The  above schedule results in a very tedious restore procedure to fully reconstruct the Thursday version
       of the filesystem; <u>xfsrestore</u> would need to be fed all 7 dumps in sequence.  A compromise schedule is  to
       use level 1 on Saturday, Monday, and Wednesday, and level 2 on Sunday, Tuesday, and Thursday.  The Monday
       and Wednesday dumps would take longer, but the worst case restore requires the accumulation of just three
       dumps, one each at level 0, level 1, and level 2.

   <b>Quotas</b>
       If the filesystem being dumped contains user quotas, <u>xfsdump</u> will use <u><a href="../man8/xfs_quota.8.html">xfs_quota</a></u>(8) to store the quotas in
       a  file called <u>xfsdump_quotas</u> in the root of the filesystem to be dumped. This file will then be included
       in the dump.  Upon restoration, <u>xfs_quota</u> <u>(8)</u> can be used to reactivate the quotas  for  the  filesystem.
       Note,  however,  that the <u>xfsdump_quotas</u> file will probably require modification to change the filesystem
       or UIDs if the filesystem has been restored to a different partition or system. Group and project  quotas
       will   be   handled   in   a   similar  fashion  and  saved  in  files  called  <u>xfsdump_quotas_group</u>  and
       <u>xfsdump_quotas_proj</u> <u>,</u> respectively.

   <b>Excluding</b> <b>individual</b> <b>files</b>
       It may be desirable to exclude particular files or directories from the dump.  The <b>-s</b> option can be  used
       to  limit  the  dump  to  a  specified  directory,  and the <b>-z</b> option can be used to exclude files over a
       particular size.  Additionally, when <u>xfsdump</u> is run with the <b>-e</b> option, files that are  tagged  with  the
       "no dump" file attribute will not be included in the dump.  The <u><a href="../man1/chattr.1.html">chattr</a></u>(1) command can be used to set this
       attribute on individual files or entire subtrees.

       To tag an individual file for exclusion from the dump:

            <b>$</b> <b>chattr</b> <b>+d</b> <b>file</b>

       To tag all files in a subtree for exclusion from the dump:

            <b>$</b> <b>chattr</b> <b>-R</b> <b>+d</b> <b>directory</b>

       Note  that any new files or directories created in a directory which has the "no dump" attribute set will
       automatically inherit this attribute.  Also note that <u>xfsdump</u> does not  check  directories  for  the  "no
       dump" attribute.

       Care  should  be  taken  to note which files have been tagged.  Under normal operation, <u>xfsdump</u> will only
       report the number of files it will skip.  The <b>-v</b> <b>excluded_files=debug</b> option, however, will cause <u>xfsdump</u>
       to list the inode numbers of the individual files affected.

</pre><h4><b>EXAMPLES</b></h4><pre>
       To perform a level 0, single stream dump of  the  root  filesystem  to  a  locally  mounted  tape  drive,
       prompting for session and media labels when required:

            <b>#</b> <b>xfsdump</b> <b>-f</b> <b>/dev/tape</b> <b>/</b>

       To specify session and media labels explicitly:

            <b>#</b> <b>xfsdump</b> <b>-L</b> <b>session_1</b> <b>-M</b> <b>tape_0</b> <b>-f</b> <b>/dev/tape</b> <b>/</b>

       To perform a dump to a remote tape using the minimal rmt protocol and a set blocksize of 64k:

            <b>#</b> <b>xfsdump</b> <b>-m</b> <b>-b</b> <b>65536</b> <b>-f</b> <b>otherhost:/dev/tape</b> <b>/</b>

       To perform a level 0, multi-stream dump to two locally mounted tape drives:

            <b>#</b> <b>xfsdump</b> <b>-L</b> <b>session_2</b> <b>-f</b> <b>/dev/rmt/tps4d6v</b> <b>-M</b> <b>tape_1</b> <b>\</b>
                      <b>-f</b> <b>/dev/rmt/tps5d6v</b> <b>-M</b> <b>tape_2</b> <b>/</b>

       To perform a level 1 dump relative to the last level 0 dump recorded in the inventory:

            <b>#</b> <b>xfsdump</b> <b>-l</b> <b>1</b> <b>-f</b> <b>/dev/tape</b> <b>/</b>

       To copy the contents of a filesystem to another directory (see <u><a href="../man8/xfsrestore.8.html">xfsrestore</a></u>(8)):

            <b>#</b> <b>xfsdump</b> <b>-J</b> <b>-</b> <b>/</b> <b>|</b> <b>xfsrestore</b> <b>-J</b> <b>-</b> <b>/new</b>

</pre><h4><b>FILES</b></h4><pre>
       /var/lib/xfsdump/inventory
                                dump inventory database

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <a href="../man1/attr.1.html">attr</a>(1), <a href="../man8/rmt.8.html">rmt</a>(8), <a href="../man8/xfsrestore.8.html">xfsrestore</a>(8), <a href="../man8/xfsinvutil.8.html">xfsinvutil</a>(8), <a href="../man8/xfs_quota.8.html">xfs_quota</a>(8), <a href="../man2/attr_get.2.html">attr_get</a>(2).

</pre><h4><b>DIAGNOSTICS</b></h4><pre>
       The  exit  code  is  0 on normal completion, non-zero if an error occurs or the dump is terminated by the
       operator.

       For all verbosity levels greater than 0 (<b>silent</b>) the final line of the output shows the  exit  status  of
       the dump. It is of the form:

            <b>xfsdump:</b> <b>Dump</b> <b>Status:</b> <u>code</u>

       Where  <u>code</u> takes one of the following values: <b>SUCCESS</b> (normal completion), <b>INTERRUPT</b> (interrupted), <b>QUIT</b>
       (media no longer usable), <b>INCOMPLETE</b> (dump incomplete),  <b>FAULT</b>  (software  error),  and  <b>ERROR</b>  (resource
       error).   Every  attempt  will  be  made  to  keep  both the syntax and the semantics of this log message
       unchanged in future versions of xfsdump.  However, it may be necessary to refine or  expand  the  set  of
       exit codes, or their interpretation at some point in the future.

       The  message  ``xfsdump:  WARNING:  unable  to  open  directory: ino N: Invalid argument'' can occur with
       filesystems which are actively being modified while <u>xfsdump</u>  is  running.   This  can  happen  to  either
       directory  or  regular  file  inodes  -  affected files will not end up in the dump, files below affected
       directories will be placed in the <u>orphanage</u> directory by <u>xfsrestore</u>.

</pre><h4><b>BUGS</b></h4><pre>
       <u>xfsdump</u> does not dump unmounted filesystems.

       The dump frequency field of <u><a href="file:/etc/fstab">/etc/fstab</a></u> is not supported.

       <u>xfsdump</u> uses the alert program only when a media change is required.

       <u>xfsdump</u> requires root privilege (except for inventory display).

       <u>xfsdump</u> can only dump XFS filesystems.

       The media format used by <u>xfsdump</u> can only be understood by <u>xfsrestore</u>.

       <u>xfsdump</u> does not know how to manage CD-ROM or other removable disk drives.

       <u>xfsdump</u> can become confused when doing incremental or resumed dumps if on the same machine you  dump  two
       XFS  filesystems and both filesystems have the same filesystem identifier (UUID).  Since <u>xfsdump</u> uses the
       filesystem identifier to identify filesystems, <u>xfsdump</u> maintains one combined set of dump inventories for
       both filesystems instead of two sets of dump inventories.  This scenario can happen only if  <u>dd</u>  or  some
       other  block-by-block  copy  program  was  used to make a copy of an XFS filesystem.  See <u><a href="../man8/xfs_copy.8.html">xfs_copy</a></u>(8) and
       <u><a href="../man5/xfs.5.html">xfs</a></u>(5) for more details.

                                                                                                      <u><a href="../man8/xfsdump.8.html">xfsdump</a></u>(8)
</pre>
 </div>
</div></section>
</div>
</body>
</html>