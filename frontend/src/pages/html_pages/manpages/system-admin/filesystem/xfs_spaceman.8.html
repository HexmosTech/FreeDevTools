<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>xfs_spaceman - show free space information about an XFS filesystem</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/xfsprogs">xfsprogs_6.13.0-2ubuntu1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       xfs_spaceman - show free space information about an XFS filesystem

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>xfs_spaceman</b> [ <b>-c</b> <u>cmd</u> ] <u>file</u>
       <b>xfs_spaceman</b> <b>-V</b>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>xfs_spaceman</b> reports and controls free space usage in an XFS filesystem.

</pre><h4><b>OPTIONS</b></h4><pre>
       <b>-c</b> <u>cmd</u>    <b>xfs_spaceman</b>  commands  may  be  run interactively (the default) or as arguments on the command
                 line. Multiple <b>-c</b> arguments may be given. The commands are run in the sequence given, then  the
                 program exits.

</pre><h4><b>COMMANDS</b></h4><pre>
       <b>freesp</b> <b>[</b> <b>-dgrs</b> <b>]</b> <b>[-a</b> <b>agno]...</b> <b>[</b> <b>-b</b> <b>|</b> <b>-e</b> <b>bsize</b> <b>|</b> <b>-h</b> <b>bsize</b> <b>|</b> <b>-m</b> <b>factor</b> <b>]</b>
              With  no  arguments,  <b>freesp</b>  shows  a histogram of all free space extents in the filesystem.  The
              command takes the following options:

                 <b>-a</b> <b>agno</b>
                     Collect free space information from this allocation group.  This option  can  be  specified
                     multiple times to collect from multiple groups.

                 <b>-b</b>  This  argument establishes that the histogram bin sizes are successive powers of two.  This
                     is the default, and is mutually exclusive with the <b>-e</b>, <b>-h</b>, and <b>-m</b> options.

                 <b>-d</b>  Print debugging information such as the raw free space extent information.

                 <b>-g</b>  Print the free space block and extent counts for each AG.

                 <b>-e</b> <b>bsize</b>
                     Set all histogram bin sizes to a specific value.  This option is  mutually  exclusive  with
                     the <b>-b</b>, <b>-h</b>, and <b>-m</b> options.

                 <b>-h</b> <b>bsize</b>
                     Create  a histogram bin with a lower bound of this value.  The upper bound of this bin will
                     be one less than the lower bound of the next highest histogram bin.   This  option  can  be
                     given  multiple  times  to  control the exact bin sizes.  This option is mutually exclusive
                     with the <b>-b</b>, <b>-e</b>, and <b>-m</b> options.

                 <b>-m</b> <b>factor</b>
                     Create each histogram bin with a size that is this many times the size of the  prvious  bin
                     created.  This option is mutually exclusive with the <b>-b</b>, <b>-e</b>, and <b>-h</b> options.

                 <b>-r</b>  Query the realtime device for free space information.

                 <b>-s</b>  Display a summary of the free space information found.

       <b>info</b>   Displays  selected  geometry  information  about  the filesystem.  The opened file must be a mount
              point of a XFS filesystem.  The output will have the same  format  that  <b><a href="../man8/xfs_info.8.html">xfs_info</a></b>(8)  prints  when
              querying a filesystem.

       <b>health</b> <b>[</b> <b>-a</b> <b>agno]</b> <b>[</b> <b>-c</b> <b>]</b> <b>[</b> <b>-f</b> <b>]</b> <b>[</b> <b>-i</b> <b>inum</b> <b>]</b> <b>[</b> <b>-n</b> <b>]</b> <b>[</b> <b>-q</b> <b>]</b> <b>[</b> <b>-r</b> <b>rgno</b> <b>]</b> <b>[</b> <b>paths</b> <b>]</b>
              Reports the health of the given group of filesystem metadata.
                 <b>-a</b> <b>agno</b>
                     Report on the health of the given allocation group.
                 <b>-c</b>  Scan  all  inodes in the filesystem and report each file's health status.  If the <b>-a</b> option
                     is given, scan only the inodes in that AG.
                 <b>-f</b>  Report on the health of metadata that affect the entire filesystem.
                 <b>-i</b> <b>inum</b>
                     Report on the health of a specific inode.
                 <b>-n</b>  When reporting on the health of a file, try to report the  full  file  path,  if  possible.
                     This option is disabled by default to minimize runtime.
                 <b>-q</b>  Report only unhealthy metadata.
                 <b>-r</b>  Report on the health of the given realtime group.
                 <b>paths</b>
                     Report on the health of the files at the given path.

       <b>help</b> <b>[</b> command <b>]</b>
              Display a brief description of one or all commands.

       <b>prealloc</b> <b>[</b> <b>-u</b> <b>id</b> <b>]</b> <b>[</b> <b>-g</b> <b>id</b> <b>]</b> <b>[</b> <b>-p</b> <b>id</b> <b>]</b> <b>[</b> <b>-m</b> <b>minlen</b> <b>]</b> <b>[</b> <b>-s</b> <b>]</b>
              Removes  speculative  preallocation.   If no <b>-u</b>, <b>-g</b>, or <b>-p</b> options are given, this command acts on
              all files.  The command takes the following options:

                 <b>-u</b> <b>uid</b>
                     Clear all speculative preallocations for files with this user id.  This option can be given
                     in combination with the <b>-g</b>  <b>and</b>  <b>-p</b> options.

                 <b>-g</b> <b>gid</b>
                     Clear all speculative preallocations for files with this group  id.   This  option  can  be
                     given in combination with the <b>-u</b>  <b>and</b>  <b>-p</b> options.

                 <b>-p</b> <b>pid</b>
                     Clear  all  speculative  preallocations for files with this project id.  This option can be
                     given in combination with the <b>-u</b>  <b>and</b>  <b>-g</b> options.

                 <b>-m</b> <b>minlen</b>
                     Ignore all files smaller than this size.  Units can be supplied for this argument.

                 <b>-s</b>  Wait for removal to complete.

       <b>print</b>  Display a list of all open files.

       <b>quit</b>   Exit <b>xfs_spaceman</b>.

       <b>trim</b> <b>(</b> <b>-a</b> <b>agno</b> <b>|</b> <b>-f</b> <b>|</b> <u>offset</u> <u>length</u> <b>)</b> <b>[</b> <b>-m</b> <b>minlen</b> <b>]</b>
              Instructs the underlying storage device to release all storage that may be backing free  space  in
              the  filesystem.   The  command  takes the following options: (One of <b>-a</b>, <b>-f</b>, or the <u>offset</u>/<u>length</u>
              pair are required.)

                 <b>-a</b> <b>agno</b>
                     Trim free space extents in the given allocation group.  This option is  mutually  exclusive
                     with the <b>-f</b> option and the <u>offset</u>/<u>length</u> options.

                 <b>-f</b>  Trim  all  free  space  in  the  filesystem.  This option is mutually exclusive with the <b>-a</b>
                     option and the <u>offset</u>/<u>length</u> options.

                 <u>option</u>, <u>length</u>
                     Trim all free space within the physical range defined by the <u>offset</u> and  <u>length</u>  from  this
                     filesystem.   Units  can be appended to these arguments.  This option is mutually exclusive
                     with the <b>-a</b> and <b>-f</b> options.

                 <b>-m</b> <b>minlen</b>
                     Do not trim free space extents shorter than this length.  Units can  be  appended  to  this
                     argument.

                                                                                                 <u><a href="../man8/xfs_spaceman.8.html">xfs_spaceman</a></u>(8)
</pre>
 </div>
</div></section>
</div>
</body>
</html>