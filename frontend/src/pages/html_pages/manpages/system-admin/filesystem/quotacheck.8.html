<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>quotacheck - scan a filesystem for disk usage, create, check and repair quota files</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/quota">quota_4.09-1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       quotacheck - scan a filesystem for disk usage, create, check and repair quota files

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>quotacheck</b> [ <b>-gubcfinvdMmR</b> ] [ <b>-F</b> <u>quota-format</u> ] <b>-a</b> | <u>filesystem</u>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>quotacheck</b>  examines  each  filesystem,  builds  a  table  of current disk usage, and compares this table
       against that recorded in the disk quota file for the filesystem (this step is omitted  if  option  <b>-c</b>  is
       specified).  If  any inconsistencies are detected, both the quota file and the current system copy of the
       incorrect quotas are updated (the latter only occurs if an active filesystem  is  checked  which  is  not
       advised).  By default, only user quotas are checked.  <b>quotacheck</b> expects each filesystem to be checked to
       have quota files named <u>[a]quota.user</u> and <u>[a]quota.group</u> located at the root of the associated filesystem.
       If a file is not present, <b>quotacheck</b> will create it.

       If  the  quota  file  is corrupted, <b>quotacheck</b> tries to save as much data as possible.  Rescuing data may
       need user intervention. With no additional options <b>quotacheck</b> will simply exit in such a situation.  When
       in  interactive mode (option <b>-i</b>) , the user is asked for advice. Advice can also be provided from command
       line (see option <b>-n</b>) , which is useful when <b>quotacheck</b> is run automatically (ie. from script) and failure
       is unacceptable.

       <b>quotacheck</b> should be run each time the system boots and  mounts  non-valid  filesystems.   This  is  most
       likely to happen after a system crash.

       It  is  strongly  recommended  to  run  <b>quotacheck</b>  with quotas turned off for the filesystem. Otherwise,
       possible damage or loss to data in the quota files can result.  It is also unwise to run <b>quotacheck</b> on  a
       live filesystem as actual usage may change during the scan.  To prevent this, <b>quotacheck</b> tries to remount
       the  filesystem  read-only  before  starting the scan.  After the scan is done it remounts the filesystem
       read-write. You can disable this with option <b>-m</b>.  You can also make  <b>quotacheck</b>  ignore  the  failure  to
       remount the filesystem read-only with option <b>-M</b>.

</pre><h4><b>OPTIONS</b></h4><pre>
       <b>-b,</b> <b>--backup</b>
              Forces <b>quotacheck</b> to make backups of the quota file before writing the new data.

       <b>-v,</b> <b>--verbose</b>
              <b>quotacheck</b>  reports its operation as it progresses.  Normally it operates silently.  If the option
              is specified twice, also the current directory is printed (note that printing can  slow  down  the
              scan measurably).

       <b>-d,</b> <b>--debug</b>
              Enable  debugging mode.  It will result in a lot of information which can be used in debugging the
              program. The output is very verbose and the scan will be slow.

       <b>-u,</b> <b>--user</b>
              Only user quotas listed in <u><a href="file:/etc/mtab">/etc/mtab</a></u> or on the filesystems specified are to be checked.   This  is
              the default action.

       <b>-g,</b> <b>--group</b>
              Only group quotas listed in <u><a href="file:/etc/mtab">/etc/mtab</a></u> or on the filesystems specified are to be checked.

       <b>-c,</b> <b>--create-files</b>
              Don't  read  existing  quota  files. Just perform a new scan and save it to disk.  <b>quotacheck</b> also
              skips scanning of old quota files when they are not found.

       <b>-f,</b> <b>--force</b>
              Forces checking and writing of new quota files on filesystems with quotas  enabled.  This  is  not
              recommended as the created quota files may be out of sync.

       <b>-M,</b> <b>--try-remount</b>
              This  flag  forces checking of filesystem in read-write mode if a remount fails. Do this only when
              you are sure no process will write to a filesystem while scanning.

       <b>-m,</b> <b>--no-remount</b>
              Don't try to remount filesystem read-only. See comment with option <b>-M</b>.

       <b>-i,</b> <b>--interactive</b>
              Interactive mode. By default <b>quotacheck</b> exits when it finds an error. In interactive mode user  is
              asked for input instead.  See option <b>-n</b>.

       <b>-n,</b> <b>--use-first-dquot</b>
              If  the  quota  files  become corrupted, it is possible for duplicate entries for a single user or
              group ID to exist.  Normally in this case, <b>quotacheck</b> exits or asks  user  for  input.  When  this
              option is set, the first entry found is always used (this option works in interactive mode too).

       <b>-F,</b> <b>--format=</b><u>format-name</u>
              Check  and  fix quota files of specified format (ie. don't perform format auto-detection). This is
              recommended as detection might not work well on corrupted quota files.  Possible format names are:
              <b>vfsold</b> Original quota format with 16-bit UIDs / GIDs, <b>vfsv0</b> Quota format with 32-bit UIDs /  GIDs,
              64-bit space usage, 32-bit inode usage and limits, <b>vfsv1</b> Quota format with 64-bit quota limits and
              usage, <b>rpc</b> (quota over NFS), <b>xfs</b> (quota on XFS filesystem)

       <b>-a,</b> <b>--all</b>
              Check all mounted non-NFS filesystems in <b><a href="file:/etc/mtab">/etc/mtab</a></b>

       <b>-R,</b> <b>--exclude-root</b>
              When  used together with the <b>-a</b> option, all filesystems except for the root filesystem are checked
              for quotas.

</pre><h4><b>NOTE</b></h4><pre>
       <b>quotacheck</b> should only be run by super-user. Non-privileged users are presumably not allowed to read  all
       the directories on the given filesystem.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man1/quota.1.html">quota</a></b>(1),  <b><a href="../man2/quotactl.2.html">quotactl</a></b>(2),  <b><a href="../man5/fstab.5.html">fstab</a></b>(5),  <b><a href="../man8/quotaon.8.html">quotaon</a></b>(8),  <b><a href="../man8/repquota.8.html">repquota</a></b>(8),  <b><a href="../man8/convertquota.8.html">convertquota</a></b>(8),  <b><a href="../man8/setquota.8.html">setquota</a></b>(8), <b><a href="../man8/edquota.8.html">edquota</a></b>(8),
       <b><a href="../man8/fsck.8.html">fsck</a></b>(8), <b><a href="../man8/efsck.8.html">efsck</a></b>(8), <b><a href="../man8/e2fsck.8.html">e2fsck</a></b>(8), <b><a href="../man8/xfsck.8.html">xfsck</a></b>(8)

</pre><h4><b>FILES</b></h4><pre>
       <b>aquota.user</b> <b>or</b> <b>aquota.group</b>
                      located at filesystem root with quotas (version 2 quota, non-XFS filesystems)
       <b>quota.user</b> <b>or</b> <b>quota.group</b>
                      located at filesystem root with quotas (version 1 quota, non-XFS filesystems)
       <b><a href="file:/etc/mtab">/etc/mtab</a></b>      names and locations of mounted filesystems
</pre><h4><b>AUTHOR</b></h4><pre>
       Jan Kara &lt;<a href="mailto:jack@suse.cz">jack@suse.cz</a>&gt;
       Based on old <b>quotacheck</b> by:
       Edvard Tuinder &lt;<a href="mailto:ed@elm.net">ed@elm.net</a>&gt;
       Marco van Wieringen &lt;<a href="mailto:mvw@planets.elm.net">mvw@planets.elm.net</a>&gt;

                                                 Fri Jul 20 2001                                   <u><a href="../man8/quotacheck.8.html">quotacheck</a></u>(8)
</pre>
 </div>
</div></section>
</div>
</body>
</html>