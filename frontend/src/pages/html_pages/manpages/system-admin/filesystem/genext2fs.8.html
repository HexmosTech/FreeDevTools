<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>genext2fs - ext2 filesystem generator for embedded systems</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/genext2fs">genext2fs_1.5.0-3build2_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       genext2fs - ext2 filesystem generator for embedded systems

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>genext2fs</b> [ options ] [ output-image ]

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>genext2fs</b>  generates an ext2 filesystem as a normal (non-root) user. It does not require you to mount the
       image file to copy files on it, nor does it require that you become the superuser to make device nodes.

       The filesystem is created either from scratch, or from an already existing one if  specified  by  the  <b>-x</b>
       option. Then each <b>-d</b> and <b>-D</b> option successively adds a "layer" to the image.

       The filesystem image is created in the file <u>output-image</u>. If not specified, it is sent to stdout.

       By  default, the maximum number of inodes in the filesystem is the minimum number required to accommodate
       the initial contents.  In this way, a minimal  filesystem  (typically  read-only)  can  be  created  with
       minimal  free  inodes.   If  required,  free  inodes  can  be added by passing the relevant options.  The
       filesystem image size in blocks can be minimised by trial and error.

</pre><h4><b>OPTIONS</b></h4><pre>
       <b>-x,</b> <b>--starting-image</b> <b>image</b>
              Use this image as a starting point.

       <b>-d,</b> <b>--root</b> <b>directory[:path]</b>
              Add the given directory and contents at a particular path (by default the root).

       <b>-D,</b> <b>--devtable</b> <b>spec-file[:path]</b>
              Use <b>spec-file</b> to specify inodes to be added, at the given path (by default  the  root),  including
              files,  directories and special files like devices.  If the specified files are already present in
              the image, their ownership and permission modes will be adjusted accordingly (this can only  occur
              when  the  -D option appears after the options that create the specified files).  Furthermore, you
              can use a single table entry to create many devices with a range of minor  numbers  (see  examples
              below).  All specified inodes receive the mtime of <b>spec-file</b> itself.

       <b>-a,</b> <b>--tarball</b> <b>file[:path]</b>
              Add the given archive (tarball) contents at a particular path (by default the root).  Note: if not
              compiled  with  `libarchive`,  genext2fs  will  use  a  builtin tarball parser with very primitive
              capabilities (e.g. no sparse file support, generally no support other  than  for  modern  GNU  tar
              without fancy options).

       <b>-b,</b> <b>--size-in-blocks</b> <b>blocks</b>
              Size of the image in blocks.

       <b>-B,</b> <b>--block-size</b> <b>bytes</b>
              Size of a filesystem block in bytes.

       <b>-N,</b> <b>--number-of-inodes</b> <b>inodes</b>
              Maximum number of inodes.

       <b>-L,</b> <b>--volume-label</b> <b>name</b>
              Set the volume label for the filesystem.

       <b>-i,</b> <b>--bytes-per-inode</b> <b>ratio</b>
              Used to calculate the maximum number of inodes from the available blocks.

       <b>-m,</b> <b>--reserved-percentage</b> <b>N</b>
              Number of reserved blocks as a percentage of size. Reserving 0 blocks will prevent creation of the
              "lost+found" directory.

       <b>-o,</b> <b>--creator-os</b> <b>name</b>
              Value for creator OS field in superblock.

       <b>-g,</b> <b>--block-map</b> <b>path</b>
              Generate a block map file for this path.

       <b>-e,</b> <b>--fill-value</b> <b>value</b>
              Fill unallocated blocks with value.

       <b>-z,</b> <b>--allow-holes</b>
              Make files with holes.

       <b>-f,</b> <b>--faketime</b>
              Use  a  timestamp  of  0  for  inode  and  filesystem creation, instead of the present. Useful for
              testing. See also SOURCE_DATE_EPOCH.

       <b>-q,</b> <b>--squash</b>
              Squash permissions and owners (same as -P -U).

       <b>-U,</b> <b>--squash-uids</b>
              Squash ownership of inodes added using the -d option, making them all owned by root:root.

       <b>-P,</b> <b>--squash-perms</b>
              Squash permissions of inodes added using the -d option. Analogous to "umask 077".

       <b>-v,</b> <b>--verbose</b>
              Print resulting filesystem structure.

       <b>-V,</b> <b>--version</b>
              Print genext2fs version.

       <b>-h,</b> <b>--help</b>
              Display help.

</pre><h4><b>ENVIRONMENT</b></h4><pre>
       <b>SOURCE_DATE_EPOCH</b>
              Standardized date for reproducible builds,  see  https://reproducible-builds.org/docs/source-date-
              epoch/ for more information.

</pre><h4><b>EXAMPLES</b></h4><pre>
       <b>genext2fs</b> <b>-b</b> <b>1440</b> <b>-d</b> <b>src</b> <b>/dev/fd0</b>

       All  files  in the <u>src</u> directory will be written to <b>/dev/fd0</b> as a new ext2 filesystem image. You can then
       mount the floppy as usual.

       <b>genext2fs</b> <b>-b</b> <b>1024</b> <b>-d</b> <b>src</b> <b>-D</b> <b>device_table.txt</b> <b>flashdisk.img</b>

       This example builds a filesystem from all the files in <u>src,</u> then device nodes are created  based  on  the
       contents of the file <u>device_table.txt.</u>  Entries in the device table take the form of:

       &lt;name&gt; &lt;type&gt; &lt;mode&gt; &lt;uid&gt; &lt;gid&gt; &lt;major&gt; &lt;minor&gt; &lt;start&gt; &lt;inc&gt; &lt;count&gt;

       where name is the file name and type can be one of:
              f    A regular file
              d    Directory
              c    Character special device file
              b    Block special device file
              p    Fifo (named pipe)
              l    Symbolic link
       uid is the user id for the target file, gid is the group id for the target file.  The rest of the entries
       (major, minor, etc) apply only to device special files.

       An example device file follows:

              # name    type mode uid gid major minor start inc count

              <a href="file:/dev">/dev</a>      d    755  0    0    -    -    -    -    -
              /dev/mem  c    640  0    0    1    1    0    0    -
              /dev/tty  c    666  0    0    5    0    0    0    -
              /dev/tty  c    666  0    0    4    0    0    1    6
              /dev/loop b    640  0    0    7    0    0    1    2
              /dev/hda  b    640  0    0    3    0    0    0    -
              /dev/hda  b    640  0    0    3    1    1    1    16
              /dev/log  s    666  0    0    -    -    -    -    -

       This  device  table  creates the <a href="file:/dev">/dev</a> directory, a character device node /dev/mem (major 1, minor 1), and
       also creates /dev/tty, /dev/tty[0-5], /dev/loop[0-1], /dev/hda,  /dev/hda1  to  /dev/hda15  and  /dev/log
       socket.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man8/mkfs.8.html">mkfs</a>(8),</b> <b><a href="../man8/genromfs.8.html">genromfs</a>(8),</b> <b><a href="../man8/mkisofs.8.html">mkisofs</a>(8),</b> <b><a href="../man1/mkfs.jffs2.1.html">mkfs.jffs2</a>(1)</b>

</pre><h4><b>AUTHOR</b></h4><pre>
       This  manual  page was written by David Kimdon &lt;<a href="mailto:dwhedon@debian.org">dwhedon@debian.org</a>&gt;, for the Debian GNU/Linux system (but
       may be used by others).  Examples provided by Erik Andersen &lt;<a href="mailto:andersen@codepoet.org">andersen@codepoet.org</a>&gt;.

                                                 August 19, 2006                                    <u><a href="../man8/GENEXT2FS.8.html">GENEXT2FS</a></u>(8)
</pre>
 </div>
</div></section>
</div>
</body>
</html>