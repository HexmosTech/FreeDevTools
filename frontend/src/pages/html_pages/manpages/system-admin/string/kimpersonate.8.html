<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>kimpersonate — impersonate a user when there exist a keyfile or KeyFile</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/heimdal-clients">heimdal-clients_7.8.git20221117.28daf24+dfsg-9ubuntu1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       kimpersonate — impersonate a user when there exist a keyfile or KeyFile

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>kimpersonate</b>  [<b>-s</b>  <u>string</u>  | <b>--ccache=</b><u>string</u>] [<b>-s</b> <u>string</u> | <b>--server=</b><u>string</u>] [<b>-c</b> <u>string</u> | <b>--client=</b><u>string</u>]
                    [<b>-k</b>  <u>string</u>  |  <b>--keytab=</b><u>string</u>]  [<b>-5</b>  |  <b>--krb5</b>]   [<b>-A</b>   |   <b>--add</b>]   [<b>-R</b>   |   <b>--referral</b>]
                    [<b>-e</b>    <u>integer</u>    |    <b>--expire-time=</b><u>integer</u>]    [<b>-a</b>   <u>string</u>   |   <b>--client-address=</b><u>string</u>]
                    [<b>-t</b>         <u>string</u>         |         <b>--enc-type=</b><u>string</u>]          [<b>--session-enc-type=</b><u>string</u>]
                    [<b>-f</b> <u>string</u> | <b>--ticket-flags=</b><u>string</u>] [<b>--verbose</b>] [<b>--version</b>] [<b>--help</b>]

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The  <b>kimpersonate</b>  program  creates a "fake" ticket using the service-key of the service and stores it in
       the given (or default) ccache.  This is useful for testing.  The service key can be read from a  Kerberos
       5 keytab or AFS KeyFile.  Supported options:

       <b>--ccache=</b><u>string</u>
               ccache into which to store the ticket

       <b>-s</b> <u>string</u>, <b>--server=</b><u>string</u>
               name of server principal

       <b>-c</b> <u>string</u>, <b>--client=</b><u>string</u>
               name of client principal

       <b>-k</b> <u>string</u>, <b>--keytab=</b><u>string</u>
               name of keytab file

       <b>-5</b>, <b>--krb5</b>
               create a Kerberos 5 ticket

       <b>-A</b>, <b>--add</b>
               don't re-initialize the ccache, instead add the ticket to an existing ccache.

       <b>-R</b>, <b>--referral</b>
               simulate  a  referrals-based  KDC client by storing two entries, one with the empty realm for the
               service principal name.

       <b>-e</b> <u>integer</u>, <b>--expire-time=</b><u>integer</u>
               lifetime of ticket in seconds

       <b>-a</b> <u>string</u>, <b>--client-address=</b><u>string</u>
               address of client

       <b>-t</b> <u>string</u>, <b>--enc-type=</b><u>string</u>
               encryption type (defaults to "aes256-cts-hmac-sha1-96")

       <b>--session-enc-type=</b><u>string</u>
               session encryption type (defaults to enc-type or "des-cbc-crc" for afs service tickets)

       <b>-f</b> <u>string</u>, <b>--ticket-flags=</b><u>string</u>
               ticket flags for krb5 ticket

       <b>--verbose</b>
               Verbose output

       <b>--version</b>
               Print version

       <b>--help</b>

</pre><h4><b>FILES</b></h4><pre>
       Uses <u>/etc/krb5.keytab,</u> and <u>/usr/afs/etc/KeyFile</u> when  available  and  the  <b>-k</b>  option  is  used  with  an
       appropriate prefix.

</pre><h4><b>EXAMPLES</b></h4><pre>
       <b>kimpersonate</b>   can   be   used   in  <b>samba</b>  root  preexec  option  or  for  debugging.   <b>kimpersonate</b>  -s
       host/<a href="mailto:hummel.e.kth.se@E.KTH.SE">hummel.e.kth.se@E.KTH.SE</a> -c <a href="mailto:lha@E.KTH.SE">lha@E.KTH.SE</a> -5 will create a Kerberos 5 ticket for <a href="mailto:lha@E.KTH.SE">lha@E.KTH.SE</a> for the
       host hummel.e.kth.se if there exists a keytab entry for it in <u>/etc/krb5.keytab</u>.

       In combination with the <b>ktutil</b> command, this is useful for testing.  For example,

       <b>ktutil</b> -k tkt add -p host/foo.test@TEST -V2 -e aes256-cts-hmac-sha1-96 -r

       <b>kimpersonate</b> --cache=tcc -s host/foo.test@TEST -c jdoe@TEST -k tkt --referral

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <u><a href="../man1/kinit.1.html">kinit</a></u>(1), <u><a href="../man1/klist.1.html">klist</a></u>(1)

</pre><h4><b>AUTHORS</b></h4><pre>
       Love Hornquist Astrand &lt;<a href="mailto:lha@kth.se">lha@kth.se</a>&gt;

Debian                                         September 18, 2006                                <u><a href="../man8/KIMPERSONATE.8.html">KIMPERSONATE</a></u>(8)
</pre>
 </div>
</div></section>
</div>
</body>
</html>