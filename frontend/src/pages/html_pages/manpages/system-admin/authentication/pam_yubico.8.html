<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>pam_yubico - Module for YubiKey authentication</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libpam-yubico">libpam-yubico_2.27-1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       pam_yubico - Module for YubiKey authentication

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>pam_yubico</b> [...]

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The module is for authentication of YubiKeys, either with online validation of OTP, or offline validation
       with HMAC-SHA1 challenge-response.

</pre><h4><b>OPTIONS</b></h4><pre>
       <b>debug</b>
           Turns on debugging.

       <b>debug_file</b>=<u>file</u>
           File name to write debug to, the file must exist and be a regular file. Defaults to stdout.

       <b>mode=</b>[<u>client</u>|<u>challenge-response</u>]
           Mode of operation, client for OTP validation and challenge-response for challenge-response
           validation. Defaults to client.

       <b>authfile</b>=<u>file</u>
           Location of the file that holds the mappings of YubiKey token IDs to user names. The format is
           username:first_public_id:second_public_id:... Default location of the file is
           $HOME/.yubico/authorized_yubikeys.

       <b>id</b>=<u>id</u>
           Your API client identity for the validation server.

       <b>key</b>=<u>key</u>
           Your client key in base64 format. The client key is also known as API key, and provides integrity in
           the communication between the client (you) and the validation server. If you want to get one for use
           with the default YubiCloud service, please go to: https://upgrade.yubico.com/getapikey/

       <b>alwaysok</b>
           Succeed with all authentication attempts (<b>dangerous</b>, presentation mode).

       <b>try_first_pass</b>
           Before prompting the user for their password, the module first tries the previous stacked module´s
           password in case that satisfies this module as well.

       <b>use_first_pass</b>
           Forces the module to use a previous stacked modules password and will never prompt the user - if no
           password is available or the password is not appropriate, the user will be denied access.

       <b>always_prompt</b>
           If set, don’t attempt to do a lookup to determine if the user has a YubiKey configured but instead
           prompt for one no matter what. This is useful in the case where ldap_bind_as_user is enabled but this
           module is being used to read the user’s password (in a YubiKey+OTP auth scenario).

       <b>nullok</b>
           Don’t fail when there are no tokens declared for the user in the authorization mapping files or in
           LDAP. This can be used to make YubiKey authentication optional unless the user has associated tokens.

       <b>ldap_starttls</b>
           If set, issue a STARTTLS command to the LDAP connection before attempting to bind to it. This is a
           common setup for servers that only listen on port 389 but still require TLS.

       <b>ldap_bind_as_user</b>
           Use the user logging in to bind to ldap. This will use the password provided by the user via PAM. If
           this is set, ldapdn and uid_attr must also be set. Enabling this will cause ldap_bind_user and
           ldap_bind_password to be ignored.

       <b>urllist</b>=<u>list</u>
           List of URL templates to be used. This is set by calling ykclient_set_url_bases. The list should be
           in the format: https://api1.example.com/wsapi/2.0/verify;https://api2.example.com/wsapi/2.0/verify

       <b>url</b>=<u>url</u>
           This option should not be used, please use the urllist option instead. Set the URL template to use,
           this is set by calling ykclient_set_url_template. The URL should be set in the format
           https://api.example.com/wsapi/2.0/verify?id=%d&amp;otp=%s

       <b>capath</b>=<u>path</u>
           The path where X509 certificates are stored. This is required if <u>https</u> or <u>ldaps</u> are used in <u>url</u> and
           <u>ldap_uri</u>, respectively.

       <b>cainfo</b>=<u>file</u>
           Option to allow for usage of a CA bundle instead of path.

       <b>proxy</b>=<u>proxy</u>
           The proxy to connect to the validation server. Valid schemes are http://, https://, socks4://,
           socks4a://, socks5:// or socks5h:/<a href="file:/.">/.</a> Socks5h asks the proxy to do the DNS resolving. If no scheme or
           port is specified HTTP proxy port 1080 will be used. Example: socks5h://user:<a href="mailto:pass@10.10.0.1">pass@10.10.0.1</a>:1080

       <b>verbose_otp</b>
           Show the One-Time Password when it is entered, i.e. to enable terminal echo of entered characters.
           You are advised to not use this, if you are using two factor authentication because that will display
           your password on the screen. This requires the service using the PAM module to display custom fields.
           This option can not be used with OpenSSH.

       <b>ldap_uri</b>=<u>uri</u>
           The LDAP server URI (e.g. ldap://localhost).

       <b>ldap_server</b>=<u>server</u>
           The LDAP server host (default LDAP port is used).  <b>Deprecated.</b> <b>Use</b> <u>ldap_uri</u> <b>instead.</b>

       <b>ldapdn</b>=<u>dn</u>
           The distinguished name (DN) where the users are stored (eg: ou=users,dc=domain,dc=com). If
           <u>ldap_filter</u> is used this is the base from which the subtree search will be performed.

       <b>ldap_clientcertfile</b>=<u>clientcertfile</u>
           The path to a client cert file to use when talking to the LDAP server. Note this requires
           <u>ldap_clientkeyfile</u> to be set as well.

       <b>ldap_clientkeyfile</b>=<u>clientkeyfile</u>
           The path to a key to be used with the client cert when talking to the LDAP server. Note this requires
           <u>ldap_clientcertfile</u> to be set as well.

       <b>user_attr</b>=<u>attr</u>
           The LDAP attribute used to store user names (eg:cn).

       <b>yubi_attr</b>=<u>attr</u>
           The LDAP attribute used to store the YubiKey ID.

       <b>yubi_attr_prefix</b>=<u>prefix</u>
           The prefix of the LDAP attribute’s value, in case of a generic attribute, used to store several types
           of IDs.

       <b>token_id_length</b>=<u>length</u>
           Length of ID prefixing the OTP (this is 12 if using the YubiCloud).

       <b>ldap_bind_user</b>=<u>user</u>
           The user to attempt a LDAP bind as.

       <b>ldap_bind_password</b>=<u>password</u>
           The password to use on LDAP bind.

       <b>ldap_filter</b>=<u>filter</u>
           A LDAP filter to use for attempting to find the correct object in LDAP. In this string %u will be
           replaced with the username.

       <b>ldap_cacertfile</b>=<u>cacertfile</u>
           CA certitificate file for the LDAP connection.

       <b>chalresp_path</b>=<u>path</u>
           Path of a system-wide directory where challenge-response files can be found for users. Default
           location is $HOME/.yubico/.

       <b>mysql_server</b>=<u>mysqlserver</u>
           Hostname/Adress of mysql server. Example 10.0.0.1

       <b>mysql_port</b>=<u>mysqlport</u>
           Network port of mysql server.

       <b>mysql_user</b>=<u>mysqluser</u>
           User for accessing to the database. Strongly recommended to use a specific user with read only
           access.

       <b>mysql_password</b>=<u>mysqlpassword</u>
           Mysql password associated to the user.

       <b>mysql_database</b>=<u>mysqldatabase</u>
           the name of the database. Example : otp

</pre><h4><b>EXAMPLES</b></h4><pre>
           auth sufficient pam_yubico.so id=16 debug

           auth required pam_yubico.so mode=challenge-response

           auth required pam_yubico.so id=16 ldap_uri=ldaps://ldap.example.com ldap_filter=(uid=%u) yubi_attr=yubiKeyId

</pre><h4><b>FILES</b></h4><pre>
       <b>$HOME/.yubico/authorized_yubikeys</b>
           If <b>authfile</b> is not set, this file is used for the mapping between YubiKey public ID and in <u>client</u>
           mode.

       <b>$HOME/.yubico/challenge</b>, <b>$HOME/.yubico/challenge-</b><u>serial_number</u>
           If <b>chalresp_path</b> is not set, these files are used to hold next challenge and expected response for
           the user in <u>challenge-response</u> mode. If <b>chalresp_path</b> is set the filename will be <u>username</u> instead of
           <u>challenge</u>.

</pre><h4><b>BUGS</b></h4><pre>
       Report yubico-pam bugs in the issue tracker: https://github.com/Yubico/yubico-pam/issues

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man1/ykpamcfg.1.html">ykpamcfg</a></b>(1), <b><a href="../man7/pam.7.html">pam</a></b>(7)

       The yubico-pam home page: https://developers.yubico.com/yubico-pam/

       YubiKeys can be obtained from Yubico: <a href="http://www.yubico.com/">http://www.yubico.com/</a>

yubico-pam                                        Version 2.27                                     <u><a href="../man8/PAM_YUBICO.8.html">PAM_YUBICO</a></u>(8)
</pre>
 </div>
</div></section>
</div>
</body>
</html>