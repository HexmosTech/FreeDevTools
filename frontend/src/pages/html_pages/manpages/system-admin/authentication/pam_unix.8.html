<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>pam_unix - Module for traditional password authentication</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libpam-runtime">libpam-runtime_1.7.0-5ubuntu1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       pam_unix - Module for traditional password authentication

</pre><h4><b>SYNOPSIS</b></h4><pre>

       <b>pam_unix.so</b> [...]

</pre><h4><b>DESCRIPTION</b></h4><pre>
       This is the standard Unix authentication module. It uses standard calls from the system's libraries to
       retrieve and set account information as well as authentication. Usually this is obtained from the
       <a href="file:/etc/passwd">/etc/passwd</a> and the <a href="file:/etc/shadow">/etc/shadow</a> file as well if shadow is enabled.

       The account component performs the task of establishing the status of the user's account and password
       based on the following <u>shadow</u> elements: expire, last_change, max_change, min_change, warn_change. In the
       case of the latter, it may offer advice to the user on changing their password or, through the
       <b>PAM_AUTHTOKEN_REQD</b> return, delay giving service to the user until they have established a new password.
       The entries listed above are documented in the <b><a href="../man5/shadow.5.html">shadow</a></b>(5) manual page. Should the user's record not
       contain one or more of these entries, the corresponding <u>shadow</u> check is not performed.

       The authentication component performs the task of checking the users credentials (password). The default
       action of this module is to not permit the user access to a service if their official password is blank.

       A helper binary, <b><a href="../man8/unix_chkpwd.8.html">unix_chkpwd</a></b>(8), is provided to check the user's password when it is stored in a read
       protected database. This binary is very simple and will only check the password of the user invoking it.
       It is called transparently on behalf of the user by the authenticating component of this module. In this
       way it is possible for applications like <b><a href="../man1/xlock.1.html">xlock</a></b>(1) to work without being setuid-root. The module, by
       default, will temporarily turn off SIGCHLD handling for the duration of execution of the helper binary.
       This is generally the right thing to do, as many applications are not prepared to handle this signal from
       a child they didn't know was <b>fork()</b>d. The <b>noreap</b> module argument can be used to suppress this temporary
       shielding and may be needed for use with certain applications.

       The maximum length of a password supported by the pam_unix module via the helper binary is
       <u>PAM_MAX_RESP_SIZE</u> - currently 512 bytes. The rest of the password provided by the conversation function
       to the module will be ignored.

       The password component of this module performs the task of updating the user's password. The default
       encryption hash is taken from the <b>ENCRYPT_METHOD</b> variable from <u><a href="file:/etc/login.defs">/etc/login.defs</a></u>

       The session component of this module logs when a user logins or leave the system.

       Remaining arguments, supported by others functions of this module, are silently ignored. Other arguments
       are logged as errors through <b><a href="../man3/syslog.3.html">syslog</a></b>(3).

</pre><h4><b>OPTIONS</b></h4><pre>
       debug
           Turns on debugging via <b><a href="../man3/syslog.3.html">syslog</a></b>(3).

       audit
           A little more extreme than debug.

       quiet
           Turns off informational messages namely messages about session open and close via <b><a href="../man3/syslog.3.html">syslog</a></b>(3).

       nullok
           The default action of this module is to not permit the user access to a service if their official
           password is blank. The <b>nullok</b> argument overrides this default.

       nullresetok
           Allow users to authenticate with blank password if password reset is enforced even if <b>nullok</b> is not
           set. If password reset is not required and <b>nullok</b> is not set the authentication with blank password
           will be denied.

       try_first_pass
           Before prompting the user for their password, the module first tries the previous stacked module's
           password in case that satisfies this module as well.

       use_first_pass
           The argument <b>use_first_pass</b> forces the module to use a previous stacked modules password and will
           never prompt the user - if no password is available or the password is not appropriate, the user will
           be denied access.

       nodelay
           This argument can be used to discourage the authentication component from requesting a delay should
           the authentication as a whole fail. The default action is for the module to request a
           delay-on-failure of the order of two seconds.

       use_authtok
           When password changing enforce the module to set the new password to the one provided by a previously
           stacked <b>password</b> module (this is used in the example of the stacking of the <b>pam_passwdqc</b> module
           documented below).

       authtok_type=type
           This argument can be used to modify the password prompt when changing passwords to include the type
           of the password. Empty by default.

       nis
           NIS RPC is used for setting new passwords.

       remember=n
           The last <u>n</u> passwords for each user are saved in <a href="file:/etc/security/opasswd">/etc/security/opasswd</a> in order to force password
           change history and keep the user from alternating between the same password too frequently. The MD5
           password hash algorithm is used for storing the old passwords. Instead of this option the
           <b>pam_pwhistory</b> module should be used.

       shadow
           Try to maintain a shadow based system.

       md5
           When a user changes their password next, encrypt it with the MD5 algorithm.

       bigcrypt
           When a user changes their password next, encrypt it with the DEC C2 algorithm.

       sha256
           When a user changes their password next, encrypt it with the SHA256 algorithm. The SHA256 algorithm
           must be supported by the <b><a href="../man3/crypt.3.html">crypt</a></b>(3) function.

       sha512
           When a user changes their password next, encrypt it with the SHA512 algorithm. The SHA512 algorithm
           must be supported by the <b><a href="../man3/crypt.3.html">crypt</a></b>(3) function.

       blowfish
           When a user changes their password next, encrypt it with the blowfish algorithm. The blowfish
           algorithm must be supported by the <b><a href="../man3/crypt.3.html">crypt</a></b>(3) function.

       gost_yescrypt
           When a user changes their password next, encrypt it with the gost-yescrypt algorithm. The
           gost-yescrypt algorithm must be supported by the <b><a href="../man3/crypt.3.html">crypt</a></b>(3) function.

       yescrypt
           When a user changes their password next, encrypt it with the yescrypt algorithm. The yescrypt
           algorithm must be supported by the <b><a href="../man3/crypt.3.html">crypt</a></b>(3) function.

       rounds=n
           Set the optional number of rounds of the SHA256, SHA512, blowfish, gost-yescrypt, and yescrypt
           password hashing algorithms to <u>n</u>.

       broken_shadow
           Ignore errors reading shadow information for users in the account management module.

       minlen=n
           Set a minimum password length of <u>n</u> characters. The max. for DES crypt based passwords is 8
           characters.

       <b>obscure</b>
           Enable some extra checks on password strength. These checks are based on the "obscure" checks in the
           original shadow package. The behavior is similar to the pam_cracklib module, but for
           non-dictionary-based checks. The following checks are implemented:

           <b>Palindrome</b>
               Verifies that the new password is not a palindrome of (i.e., the reverse of) the previous one.

           <b>Case</b> <b>Change</b> <b>Only</b>
               Verifies that the new password isn't the same as the old one with a change of case.

           <b>Similar</b>
               Verifies that the new password isn't too much like the previous one.

           <b>Simple</b>
               Is the new password too simple? This is based on the length of the password and the number of
               different types of characters (alpha, numeric, etc.) used.

           <b>Rotated</b>
               Is the new password a rotated version of the old password? (E.g., "billy" and "illyb")

       no_pass_expiry
           When set ignore password expiration as defined by the <u>shadow</u> entry of the user. The option has an
           effect only in case <u>pam_unix</u> was not used for the authentication or it returned authentication
           failure meaning that other authentication source or method succeeded. The example can be public key
           authentication in <u>sshd</u>. The module will return <b>PAM_SUCCESS</b> instead of eventual <b>PAM_NEW_AUTHTOK_REQD</b>
           or <b>PAM_AUTHTOK_EXPIRED</b>.

       Invalid arguments are logged with <b><a href="../man3/syslog.3.html">syslog</a></b>(3).

</pre><h4><b>MODULE</b> <b>TYPES</b> <b>PROVIDED</b></h4><pre>
       All module types (<b>account</b>, <b>auth</b>, <b>password</b> and <b>session</b>) are provided.

</pre><h4><b>RETURN</b> <b>VALUES</b></h4><pre>
       PAM_IGNORE
           Ignore this module.

</pre><h4><b>EXAMPLES</b></h4><pre>
       An example usage for <a href="file:/etc/pam.d/login">/etc/pam.d/login</a> would be:

           # Authenticate the user
           auth       required   pam_unix.so
           # Ensure user's account and password are still active
           account    required   pam_unix.so
           # Change the user's password, but at first check the strength
           # with <a href="../man8/pam_passwdqc.8.html">pam_passwdqc</a>(8)
           password   required   pam_passwdqc.so config=/etc/passwdqc.conf
           password   required   pam_unix.so use_authtok nullok yescrypt
           session    required   pam_unix.so

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man5/login.defs.5.html">login.defs</a></b>(5), <b><a href="../man5/pam.conf.5.html">pam.conf</a></b>(5), <b><a href="../man5/pam.d.5.html">pam.d</a></b>(5), <b><a href="../man7/pam.7.html">pam</a></b>(7)

</pre><h4><b>AUTHOR</b></h4><pre>
       pam_unix was written by various people.

Linux-PAM                                          07/03/2025                                        <u><a href="../man8/PAM_UNIX.8.html">PAM_UNIX</a></u>(8)
</pre>
 </div>
</div></section>
</div>
</body>
</html>