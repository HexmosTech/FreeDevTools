<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>isochron-rcv - Start an isochron test in the role of a receiver</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/isochron">isochron_0.9-0.2_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       isochron-rcv - Start an isochron test in the role of a receiver

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>isochron</b> rcv [<u>OPTIONS</u>]

</pre><h4><b>DESCRIPTION</b></h4><pre>
       This  command  starts  a  long-running process that listens for connections from an isochron sender, logs
       timestamps for the received test packets, and sends the logged data back.

</pre><h4><b>OPTIONS</b></h4><pre>
       -h, --help
              prints the short help message and exits

       -i, --interface &lt;IFNAME&gt;
              specify the network interface on which packets will be received

       -d, --dmac &lt;MACADDRESS&gt;
              specify the destination MAC address used by the application for recognizing test packets.  Can  be
              either unicast or multicast.  Necessary only for the L2 transport (plain Ethernet).  Optional, the
              interface’s unicast MAC address is used by default.

       -e, --etype &lt;NUMBER&gt;
              specify  the  EtherType  used  by  the  application for recognizing test packets sent using the L2
              transport.  Optional, defaults to 0xdead.

       -P, --stats-port &lt;NUMBER&gt;
              specify the TCP port on which the receiver program is listening for  incoming  connections.   This
              socket is used for management and statistics.  Optional, defaults to port 5000.

       -s, --frame-size &lt;NUMBER&gt;
              specify  the size of test frames.  The size is counted from the first octet of the destination MAC
              address until the last octet of data before the FCS.

       -S, --stats-address &lt;NUMBER&gt;
              specify the IP address on which the receiver program is listening for incoming connections.   This
              socket  is  used  for management and statistics.  Supports binding to a given network device using
              the address%device syntax (example: --stats-address ::%vrf0).  Optional, defaults to  ::,  with  a
              fallback to 0.0.0.0 if IPv6 is not available.

       -q, --quiet
              this  option  suppresses  error  messages  regarding  invalid test packets.  Optional, defaults to
              false.

       -f, --sched-fifo
              when set, the program requests the kernel to change its scheduling policy to  SCHED_FIFO  for  the
              duration of the test.

       -r, --sched-rr
              when  set,  the  program  requests  the kernel to change its scheduling policy to SCHED_RR for the
              duration of the test.

       -H, --sched-priority &lt;NUMBER&gt;
              when either --sched-fifo or --sched-rr is used, the program requests  the  kernel  to  change  its
              scheduling priority for the duration of the test.

       -O, --utc-tai-offset &lt;NUMBER&gt;
              the  program uses the CLOCK_TAI time base for its timers and for all reported timestamps, and this
              option specifies the correction in seconds to apply to software timestamps, which are taken by the
              kernel in the CLOCK_REALTIME (UTC) time base.  If this  option  is  present,  isochron  will  also
              change  the  kernel’s  CLOCK_TAI  offset  to  the  specified value, to ensure that its timers fire
              correctly.  If the option is absent, isochron queries the kernel’s CLOCK_TAI offset  and  attempts
              to  use  that.   If  isochron  can also query the UTC offset from ptp4l’s TIME_PROPERTIES_DATA_SET
              using management messages, it does that and compares that offset to the kernel’s UTC offset.   The
              UTC offset reported by ptp4l has the highest priority, and if the application detects that this is
              different  from  the  kernel’s CLOCK_TAI offset, it changes the kernel offset to the value queried
              from ptp4l.

       -2, --l2
              this option specifies that the plain Ethernet transport should  be  used  for  the  test  packets.
              Optional, defaults to true unless the sender overrides this via the management socket.

       -4, --l4
              this  option specifies that the UDP transport should be used for test packets.  Optional, defaults
              to false unless the sender overrides this via the management socket.

       -U, --unix-domain-socket &lt;PATH&gt;
              isochron queries ptp4l’s state by creating and sending PTP management messages over a  local  UNIX
              domain  socket.   This  option  specifies  the  path  of this socket in the filesystem.  Optional,
              defaults to /var/run/ptp4l.

       -N, --domain-number &lt;NUMBER&gt;
              this option provides the domainNumber value to be used when constructing PTP  management  messages
              sent  to  the  ptp4l  process.  It must coincide with the domainNumber used by ptp4l, otherwise it
              will not respond to management messages.  Optional, defaults to 0.

       -t, --transport-specific &lt;NUMBER&gt;
              this option provides the transportSpecific value to  be  used  when  constructing  PTP  management
              messages  sent  to  the ptp4l process.  It must coincide with the transportSpecific used by ptp4l,
              otherwise it will not respond to management messages.  Optional, defaults to  0.   Note  that  PTP
              variants such as IEEE 802.1AS/gPTP require this value to be set to a different value such as 1.

       -R, --num-readings &lt;NUMBER&gt;
              isochron  monitors  the synchronization quality between the NIC’s PTP Hardware Clock (PHC) and the
              system time by successively reading the system time, the PHC  time  and  the  system  time  again,
              several  times  in  a  row, and picking the group of 3 time readouts that took the least amount of
              time overall.  This option specifies how many readouts should  be  performed  before  picking  the
              fastest one.  Optional, defaults to 5.

</pre><h4><b>EXAMPLES</b></h4><pre>
       To start an isochron receiver with PTP synchronization:

              ip link set eth0 up &amp;&amp; ip addr add 192.168.100.2/24 dev eth0
              ptp4l -i eth0 -2 -P --step_threshold 0.00002 &amp;
              phc2sys -a -rr --step_threshold 0.00002 &amp;
              isochron rcv \
                  --interface eth0 \
                  --quiet \
                  --sched-rr \
                  --sched-priority 98

</pre><h4><b>AUTHOR</b></h4><pre>
       isochron was written by Vladimir Oltean <a href="mailto:vladimir.oltean@nxp.com">vladimir.oltean@nxp.com</a>

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <a href="../man8/isochron.8.html">isochron</a>(8) <a href="../man8/isochron-send.8.html">isochron-send</a>(8) <a href="../man1/isochron-report.1.html">isochron-report</a>(1)

</pre><h4><b>COMMENTS</b></h4><pre>
       This man page was written using pandoc by the same author.

                                                                                                 <u><a href="../man8/isochron-rcv.8.html">isochron-rcv</a></u>(8)
</pre>
 </div>
</div></section>
</div>
</body>
</html>