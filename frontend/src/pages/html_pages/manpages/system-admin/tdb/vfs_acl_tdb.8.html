<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>vfs_acl_tdb - Save NTFS-ACLs in a tdb file</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/samba">samba_4.22.3+dfsg-4ubuntu1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       vfs_acl_tdb - Save NTFS-ACLs in a tdb file

</pre><h4><b>SYNOPSIS</b></h4><pre>

       vfs objects = acl_tdb

</pre><h4><b>DESCRIPTION</b></h4><pre>
       This VFS module is part of the <b><a href="../man7/samba.7.html">samba</a></b>(7) suite.

       The vfs_acl_tdb VFS module stores NTFS Access Control Lists (ACLs) in a tdb file. This enables the full
       mapping of Windows ACLs on Samba servers.

       The ACL settings are stored in $LOCKDIR/file_ntacls.tdb.

       This module forces the following parameters:

              •   inherit acls = true

              •   dos filemode = true

              •   force unknown acl user = true

       This module is stackable.

</pre><h4><b>OPTIONS</b></h4><pre>
       acl_tdb:ignore system acls = [yes|no]
           When set to <u>yes</u>, a best effort mapping from/to the POSIX ACL layer will <u>not</u> be done by this module.
           The default is <u>no</u>, which means that Samba keeps setting and evaluating both the system ACLs and the
           NT ACLs. This is better if you need your system ACLs be set for local or NFS file access, too. If you
           only access the data via Samba you might set this to yes to achieve better NT ACL compatibility.

           If <u>acl_tdb:ignore</u> <u>system</u> <u>acls</u> is set to <u>yes</u>, the following additional settings will be enforced:

                  •   create mask = 0666

                  •   directory mask = 0777

                  •   map archive = no

                  •   map hidden = no

                  •   map readonly = no

                  •   map system = no

                  •   store dos attributes = yes

       acl_tdb:default acl style = [posix|windows|everyone]
           This parameter determines the type of ACL that is synthesized in case a file or directory lacks an
           <u>security.NTACL</u> xattr.

           When set to <u>posix</u>, an ACL will be synthesized based on the POSIX mode permissions for user, group and
           others, with an additional ACE for <u>NT</u> <u>Authority\SYSTEM</u> will full rights.

           When set to <u>windows</u>, an ACL is synthesized the same way Windows does it, only including permissions
           for the owner and <u>NT</u> <u>Authority\SYSTEM</u>.

           When set to <u>everyone</u>, an ACL is synthesized giving full permissions to everyone (S-1-1-0).

           The default for this option is <u>posix</u>.

</pre><h4><b>AUTHOR</b></h4><pre>
       The original Samba software and related utilities were created by Andrew Tridgell. Samba is now developed
       by the Samba Team as an Open Source project similar to the way the Linux kernel is developed.

Samba 4.22.3-Ubuntu-4.22.3+dfs                     07/21/2025                                     <u><a href="../man8/VFS_ACL_TDB.8.html">VFS_ACL_TDB</a></u>(8)
</pre>
 </div>
</div></section>
</div>
</body>
</html>