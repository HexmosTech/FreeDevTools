<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>install-keymap — expand a given keymap and install it as boot-time keymap</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/console-common">console-common_0.7.91_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       install-keymap — expand a given keymap and install it as boot-time keymap

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>install-keymap</b> [<u>keymap-name</u> | NONE | KERNEL]

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>install-keymap</b>  usually  takes a <u>keymap-name</u> as argument.  The file is passed to <b>loadkeys</b> for loading, so
       that valid values for this argument are the same than that  of  arguments  to  <b>loadkeys</b>.   <b>install-keymap</b>
       expands include-like statements in that file, and puts the result in <b>/etc/console/boottime.kmap.gz</b>, which
       will be loaded into the kernel at boot-time.

       One  may  also  specify  <b>KERNEL</b> instead of a keymap name, causing <b>/etc/console/boottime.kmap.gz</b>     to be
       removed, making sure that no custom keymap will replace the kernel's builtin keymap at next reboot.

       An argument of <b>NONE</b> tells the command to do nothing.  It can be used by caller scripts to avoid  handling
       this special case and needlessly duplicate code.

       The  purpose of this processing is to solve an annoying problem, of 2 apparently conflicting issues.  The
       first one is an important goal of keymap management in Debian, namely ensuring that whenever the user  or
       admin  is expected to use the keyboard, the keymap selected as boot-time keymap is in use; this means the
       keymap has to be loaded before a shell is ever proposed, which means very early in the  booting  process,
       and especially before all local filesystems are mounted (<b>/etc/rcS.d/S10checkroot.sh</b> can spawn <b>sulogin</b>).

       The  second  issue  is  that  for  flexibility  we  allow  that  <b><a href="file:/usr">/usr</a></b> or <b><a href="file:/usr/share">/usr/share</a></b> may live on their own
       partition(s), and thus <b>/usr/share/keymaps</b>, where keymap files live, may not be available for  reading  at
       the time we need a keymap file.  And no, we won't put 1Mb of keymaps in the root partition just for this.

       And  the  problem  is,  most  keymap  files  are not self-contained, so it does not help to just copy the
       selected file into the root partition.  The best known solution so far is to expand the  keymap  file  so
       that it becomes self-contained, and put it in the root partition.  That's what this tool does.

</pre><h4><b>FILES</b></h4><pre>
       <b>/etc/console/boottime.kmap.gz</b>

       Where the boot-time keymap is stored

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       loadkeys (8).

</pre><h4><b>AUTHOR</b></h4><pre>
       This  program  and  manual  page  were  written by Yann Dirson <a href="mailto:dirson@debian.org">dirson@debian.org</a> for the <b>Debian</b> <b>GNU/Linux</b>
       system, but as it should not include any Debian-specific code, it may be used by others.

                                                                                               <u><a href="../man8/INSTALL-KEYMAP.8.html">INSTALL-KEYMAP</a></u>(8)
</pre>
 </div>
</div></section>
</div>
</body>
</html>