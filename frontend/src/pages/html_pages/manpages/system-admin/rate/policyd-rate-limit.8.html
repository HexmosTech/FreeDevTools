<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>policyd-rate-limit - rate limiter SMTP policy daemon</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/policyd-rate-limit">policyd-rate-limit_1.2.0-1.1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       policyd-rate-limit - rate limiter SMTP policy daemon

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>policyd-rate-limit</b> [<b>-h</b>] [<b>--clean</b>] [<b>--get-config</b> <u>configname</u>] [<b>--file</b> <u>configpath</u>]

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b><a href="../man8/policyd-rate-limit.8.html">policyd-rate-limit</a></b>(8) is a SMTP policy daemon written in <b><a href="../man1/python3.1.html">python3</a></b>(1) for <b><a href="../man1/postfix.1.html">postfix</a></b>(1).  It keep track of the
       number  of  mails  sent  by  sasl  usernames and/or ip addresses over time sliding window. A configurable
       action (see <b><a href="../man5/access.5.html">access</a></b>(5)) is done then a user and/or ip address exceeds one or more configurable limits.

</pre><h4><b>SETUP</b></h4><pre>
       For example, for postfix 3.0 and later, you can set in postfix <b>/etc/postfix/main.cf</b> configuration file:

          smtpd_data_restrictions =
            ...,
            check_policy_service { unix:ratelimit/policy, default_action=DUNNO },
            ...

       Postfix will ask policyd-rate-limit what to do on mail reception (success or fail action) and will accept
       mail if policyd-rate-limit become unavailable.

       On previous postfix versions, you must use:

          smtpd_data_restrictions =
            ...,
            check_policy_service unix:ratelimit/policy,
            ...

</pre><h4><b>OPTIONS</b></h4><pre>
          <b>-h,</b> <b>--help</b>
                 show this help message and exit

          <b>--clean</b>
                 clean old records from the database

          <b>--get-config</b> <u>configname</u>
                 return the value of the <u>configname</u> configuration parameter. You can get a value in a dictionary
                 by using a dotted notation. For instance, for getting the key KEY in the dictionary  DICT,  you
                 should  use  DICT.KEY  for  <u>configname</u>. You can call the configuration parameter <u>config_file</u> to
                 known which configuration file is used.

          <b>-f,</b> <b>--file</b>
                 path to a policyd-rate-limit configuration file

</pre><h4><b>LOGGING</b></h4><pre>
       Logging is output to stderr and redirected to <b><a href="../man3/syslog.3.html">syslog</a></b>(3) by systemd.  Logs are produced only if the  <b>debug</b>
       configuration parameter is set to True.

</pre><h4><b>CONFIGURATION</b></h4><pre>
       If  the  option  <b>--file</b>  is  not  specified, <b><a href="../man8/policyd-rate-limit.8.html">policyd-rate-limit</a></b>(8) try to read its configuration from the
       following path and choose the first existing file:

          <a href="file:~/.config/policyd-rate-limit.conf">~/.config/policyd-rate-limit.conf</a>
          <a href="file:~/.config/policyd-rate-limit.yaml">~/.config/policyd-rate-limit.yaml</a>
          /etc/policyd-rate-limit.conf
          /etc/policyd-rate-limit.yaml

       The .conf are the old configuration format. It was a python module and should not be used.  The .yaml are
       the new configuration format using the YAML syntax. See <a href="../man3pm/YAML.3pm.html">YAML</a>(3pm) for an overview  of  the  format.   See
       <b><a href="../man5/policyd-rate-limit.yaml.5.html">policyd-rate-limit.yaml</a></b>(5) for possible settings.

</pre><h4><b>EXIT</b> <b>VALUES</b></h4><pre>
          <b>0</b>   Normal exit.

          <b>1</b>   Only return then the option <b>--get-config</b> is used. Configuration parameter not found.

          <b>2</b>   User or group set in the configuration file do not exists.

          <b>3</b>   Another instance is already running

          <b>4</b>   The configuration parameter SOCKET is malformed

          <b>5</b>   Configuration file not found

          <b>6</b>   Some error was raised during runtime

          <b>8</b>   Error during cleaning

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man5/policyd-rate-limit.yaml.5.html">policyd-rate-limit.yaml</a></b>(5): policyd-rate-limit configuration file
       <b><a href="../man5/master.5.html">master</a></b>(5), Postfix master.cf file syntax
       <b><a href="../man5/access.5.html">access</a></b>(5), Postfix SMTP access control table

</pre><h4><b>AUTHOR</b></h4><pre>
       Valentin Samir &lt;<a href="mailto:valentin.samir@crans.org">valentin.samir@crans.org</a>&gt;

</pre><h4><b>COPYRIGHT</b></h4><pre>
       GPL-3

3.8                                                2016-08-04                              <u><a href="../man8/policyd-rate-limit.8.html">policyd-rate-limit</a></u>(8)
</pre>
 </div>
</div></section>
</div>
</body>
</html>