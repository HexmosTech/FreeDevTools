<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>scanspool - Perform a sanity scan over all articles in news spool</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/inn2">inn2_2.7.3-1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       scanspool - Perform a sanity scan over all articles in news spool

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>scanspool</b> [<b>-cnrv</b>] [<b>-a</b> <u>active-file</u>] [<b>-s</b> <u>spool-dir</u>]

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>scanspool</b> is a Perl script for use with a <u>tradspool</u> article spool.  It will scan the <u>active</u> file as well
       as all articles in the spool and report on the errors it encounters.  As this may take a while, using the
       <b>-v</b> switch is recommended to see how far the program has progressed.

       <b>scanspool</b> will skip any file named other than just all-digits when treating the contents of the news
       spool.

       First, <b>scanspool</b> scans the <u>active</u> file, noting problems such as:

       •   malformed lines;

       •   duplicate entries;

       •   newsgroups aliased to a non-existent newsgroup;

       •   newsgroups aliased to a newsgroup that is also aliased.

       Then it will examine all articles under your news spool directory, complaining about articles that:

       •   have a basename that starts with a leading 0;

       •   have a basename that is out of range according to the low and high water marks of the <u>active</u> file;

       •   do not contain a Newsgroups header field;

       •   are in a directory for which there is no newsgroup in the <u>active</u> file;

       •   are in a newsgroup to which they do not belong.

       <b>scanspool</b>  will also complain about directories with an all-digit component, in case the parent directory
       is a newsgroup with a high water mark below that all-digit component, as the  name  of  such  directories
       will conflict with a future article file with the same name.

       <b>scanspool</b>  understands aliased newsgroups.  Thus, if an article is posted to foo.old.name that is aliased
       to foo.bar, it will be expected to be found under foo.bar and not foo.old.name.

       <b>scanspool</b> assumes that the path of a valid newsgroup's directory from the root of the spool tree will not
       contain any "." character.  Thus, directories such as <u>out.going</u>, <u>tmp.dir</u>, <u>in.coming</u> and <u>news.archive</u> will
       not be searched.  This program also assumes that article basenames contain only  decimal  digits.   Last,
       files under the top level directory <u>lost+found</u> are not scanned.

</pre><h4><b>OPTIONS</b></h4><pre>
       <b>-a</b> <u>active-file</u>
           The <u>active</u> file to use; <u>pathdb</u>/active is the default.

       <b>-c</b>  Only check article filenames.  <b>scanspool</b> will therefore not actually scan the Newsgroups header field
           of the articles.

       <b>-n</b>  Don't throttle <b>innd</b> while scanning.

       <b>-r</b>  Remove  articles  reported to have a problem.  To see the list of articles in question, run <b>scanspool</b>
           without this flag first.

           Be warned that using this flag may result in inaccessible articles if articles  are  removed  whereas
           they  are  perfectly  valid  articles.  Have a look at them to ensure they can be safely removed, and
           then use this flag.

       <b>-s</b> <u>spool-dir</u>
           The root of the spool tree; <u>patharticles</u> is the default.

       <b>-v</b>  Setting this flag enables a verbose mode.  <b>scanspool</b> will then print  which  newsgroup  is  currently
           worked  upon.  It will list all the articles found in non-<u>active</u> directories (that is to say articles
           sorted into groups no longer present in the <u>active</u> file), rather than just printing the group once.

</pre><h4><b>DIAGNOSTICS</b></h4><pre>
       The output of <b>scanspool</b> will start with one of the following forms:

       "FATAL:" (to stderr)
           Fatal or internal error.

       "WARNING:" (to stderr)
           <u>active</u> or article format problem, newsgroup alias problem, <a href="../man1/find.1.html">find</a>(1) error, article open error.

       "path/123:" (to stdout)
           Issues such as:

           •   basename starts with 0;

           •   article number out of range;

           •   article in the wrong directory;

           •   article in a directory not related to an <u>active</u> non-aliased newsgroup.

       "\t ..." (to stdout)
           Verbose messages start with a tab.

</pre><h4><b>HISTORY</b></h4><pre>
       <b>scanspool</b> was written by Landon Curt Noll (chongo was here /\../\).

       This manual page was written by Florian Schlichting, largely based on comments in the script.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <a href="../man5/active.5.html">active</a>(5).

INN 2.7.3                                          2025-05-19                                       <u><a href="../man8/SCANSPOOL.8.html">SCANSPOOL</a></u>(8)
</pre>
 </div>
</div></section>
</div>
</body>
</html>