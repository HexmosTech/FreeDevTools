<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>zfs-auto-snapshot - take regular ZFS snapshots</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/zfs-auto-snapshot">zfs-auto-snapshot_1.2.4-2_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       zfs-auto-snapshot - take regular ZFS snapshots

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>zfs-auto-snapshot</b> [<u>options</u>] [<u>-l</u> <u>label</u>] <u>&lt;'//'</u> <u>|</u> <u>name</u> [<u>name</u>...]<u>&gt;</u>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>zfs-auto-snapshot</b>  automatically  creates, rotates, and destroys snapshots for all your ZFS datasets, and
       is compatible with both zfsonlinux and zfs-fuse.

</pre><h4><b>OPTIONS</b></h4><pre>
       <b>--default-exclude</b>
              By default <b>zfs-auto-snapshot</b> will snapshot all datasets  except  for  those  in  which  the  user-
              property  <b>com.sun:auto-snapshot</b>  is  set to <b>false</b>.  This option reverses the behavior and requires
              <b>com.sun:auto-snapshot</b> to be set to <b>true</b>.

       <b>-d</b>, <b>--debug</b>
              Print debugging messages.

       <b>-e</b>, <b>--event</b>=<u>EVENT</u>
              Set the com.sun:auto-snapshot-desc property to EVENT.

       <b>--fast</b> Use a faster zfs list invocation.

       <b>-n</b>, <b>--dry-run</b>
              Print actions without actually doing anything.

       <b>-s</b>, <b>--skip-scrub</b>
              Do not snapshot filesystems in scrubbing pools.

       <b>-h</b>, <b>--help</b>
              Print the usage message.

       <b>-k</b>, <b>--keep</b>=<u>NUM</u>
              Keep NUM recent snapshots and destroy older snapshots.

       <b>-l</b>, <b>--label</b>=<u>LAB</u>
              LAB is usually 'hourly', 'daily', or 'monthly'.

       <b>-p</b>, <b>--prefix</b>=<u>PRE</u>
              PRE is 'zfs-auto-snap' by default.

       <b>-q</b>, <b>--quiet</b>
              Suppress warnings and notices at the console.

       <b>--send-full</b>=<u>F</u>
              Send zfs full backup. Unimplemented.

       <b>--send-incr</b>=<u>F</u>
              Send zfs incremental backup. Unimplemented.

       <b>--sep</b>=<u>CHAR</u>
              Use CHAR to separate date stamps in snapshot names.

       <b>-g</b>, <b>--syslog</b>
              Write messages into the system log.

       <b>-r</b>, <b>--recursive</b>
              Snapshot named filesystem and all descendants.

       <b>-v</b>, <b>--verbose</b>
              Print info messages.

       <b>--pre-snapshot</b>=<u>COMMAND</u>
              Command to run before each dataset is snapshotted.  It is passed the dataset and snapshot name. If
              it returns non-zero, snapshotting this dataset is aborted.

       <b>--post-snapshot</b>=<u>COMMAND</u>
              Command to run after each dataset is snapshotted.  It is passed the dataset and snapshot name.

       <b>--destroy-only</b>
              Do not create new snapshots, but do destroy older snapshots. Has no effect unless used with <b>-k</b>.

              A non-obvious use may be constructon of cron jobs or scripts  that  run  pre-snapshot  command(s),
              then  run  zfs-auto-snapshot (without <b>-k</b>) to quickly snapshot all datasets, then run post-snapshot
              command(s) and clean up with zfs-auto-snapshot <b>--destroy-only</b>.

       name   Filesystem and volume names, or '//' for all ZFS datasets.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man8/zfs.8.html">zfs</a></b>(8)

zfs-auto-snapshot.sh                              June 16, 2013                             <u><a href="../man8/ZFS-AUTO-SNAPSHOT.8.html">ZFS-AUTO-SNAPSHOT</a></u>(8)
</pre>
 </div>
</div></section>
</div>
</body>
</html>