<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>btrfs-send - generate a stream of changes between two subvolume snapshots</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/btrfs-progs">btrfs-progs_6.14-1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       btrfs-send - generate a stream of changes between two subvolume snapshots

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>btrfs</b> <b>send</b> [-ve] [-p &lt;parent&gt;] [-c &lt;clone-src&gt;] [-f &lt;outfile&gt;] &lt;subvol&gt; [&lt;subvol&gt;...]

</pre><h4><b>DESCRIPTION</b></h4><pre>
       This  command  will  generate  a  stream  of  instructions  that  describe  changes between two subvolume
       snapshots. The stream can be consumed by the <b>btrfs</b> <b>receive</b> command to replicate the sent  snapshot  on  a
       different filesystem.  The command operates in two modes: full and incremental.

       All  snapshots  involved in one send command must be read-only, and this status cannot be changed as long
       as there's a running send operation that uses the snapshot. Read-only  mount  of  the  subvolume  is  not
       sufficient,  there's  no  way  to  guarantee  that  there  won't  be any other writable mount of the same
       subvolume that would potentially write while send would be running.

       In the full mode, the entire snapshot data and metadata will end up in the stream.

       In the incremental mode (options <u>-p</u> and <u>-c</u>), previously sent snapshots that are  available  on  both  the
       sending  and  receiving  side  can  be  used  to  reduce the amount of information that has to be sent to
       reconstruct the sent snapshot on a different filesystem.

       The <u>-p</u> <u>&lt;parent&gt;</u> option can be omitted when <u>-c</u> <u>&lt;clone-src&gt;</u> options are given, in  which  case  <b>btrfs</b>  <b>send</b>
       will determine a suitable parent from among the clone sources.

       You  must  not  specify  clone  sources unless you guarantee that these snapshots are exactly in the same
       state on both sides--both for the sender and the receiver. For implications of changed read-write  status
       of a received snapshot please see section <u>SUBVOLUME</u> <u>FLAGS</u> in <u><a href="../man8/btrfs-subvolume.8.html">btrfs-subvolume</a>(8)</u>.

       <b>Options</b>

       <b>-e</b>     if  sending  multiple  subvolumes  at  once, use the new format and omit the <u>end</u> <u>cmd</u> marker in the
              stream separating the subvolumes

       <b>-p</b> <u>&lt;parent&gt;</u>
              send an incremental stream from <u>parent</u> to <u>subvol</u>

       <b>-c</b> <u>&lt;clone-src&gt;</u>
              use this snapshot as a clone source for an incremental send (multiple allowed)

       <b>-f</b> <u>&lt;outfile&gt;</u>
              output is normally written to standard output so it can be, for example, piped to  btrfs  receive.
              Use this option to write it to a file instead.

       <b>--no-data</b>
              send in <u>NO_FILE_DATA</u> mode

              The output stream does not contain any file data and thus cannot be used to transfer changes. This
              mode is faster and is useful to show the differences in metadata.

       <b>--proto</b> <u>&lt;N&gt;</u>
              use send protocol version N

              The  default  is  1, which was the original protocol version. Version 2 encodes file data slightly
              more  efficiently;  it  is   also   required   for   sending   compressed   data   directly   (see
              <u>--compressed-data</u>).  Version  2  requires at least btrfs-progs 6.0 on both the sender and receiver
              and at least Linux 6.0 on the sender. Passing 0 means to use the highest version supported by  the
              running kernel.

       <b>--compressed-data</b>
              send data that is compressed on the filesystem directly without decompressing it

              If the receiver supports the <u>BTRFS_IOC_ENCODED_WRITE</u> ioctl (added in Linux 6.0), it can also write
              it  directly without decompressing it.  Otherwise, the receiver will fall back to decompressing it
              and writing it normally.

              This requires protocol version 2 or higher.  If  <u>--proto</u>  was  not  used,  then  <u>--compressed-data</u>
              implies <u>--proto</u> <u>2</u>.

       <b>-q|--quiet</b>
              (deprecated) alias for global <u>-q</u> option

       <b>-v|--verbose</b>
              (deprecated) alias for global <u>-v</u> option

       <b>Global</b> <b>options</b>

       <b>-q|--quiet</b>
              suppress all messages except errors

       <b>-v|--verbose</b>
              increase output verbosity, print generated commands in a readable form

</pre><h4><b>EXIT</b> <b>STATUS</b></h4><pre>
       <b>btrfs</b> <b>send</b> returns a zero exit status if it succeeds. Non zero is returned in case of failure.

</pre><h4><b>AVAILABILITY</b></h4><pre>
       <b>btrfs</b> is part of btrfs-progs.  Please refer to the documentation at <u>https://btrfs.readthedocs.io</u>.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <u><a href="../man8/btrfs-receive.8.html">btrfs-receive</a>(8)</u>, <u><a href="../man8/btrfs-subvolume.8.html">btrfs-subvolume</a>(8)</u>, <u><a href="../man8/mkfs.btrfs.8.html">mkfs.btrfs</a>(8)</u>

6.14                                              Apr 17, 2025                                     <u><a href="../man8/BTRFS-SEND.8.html">BTRFS-SEND</a></u>(8)
</pre>
 </div>
</div></section>
</div>
</body>
</html>