<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>zfs-snapshot — create snapshots of ZFS datasets</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/zfsutils-linux">zfsutils-linux_2.3.2-1ubuntu3_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       zfs-snapshot — create snapshots of ZFS datasets

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>zfs</b> <b>snapshot</b> [<b>-r</b>] [<b>-o</b> <u>property</u>=<u>value</u>]… <u>dataset</u>@<u>snapname</u>…

</pre><h4><b>DESCRIPTION</b></h4><pre>
       Creates a snapshot of a dataset or multiple snapshots of different datasets.

       Snapshots  are  created atomically.  That is, a snapshot is a consistent image of a dataset at a specific
       point in time; it includes all modifications to the dataset made by system calls that  have  successfully
       completed  before  that point in time.  Recursive snapshots created through the <b>-r</b> option are all created
       at the same time.

       <b>zfs</b> <b>snap</b> can be used as an alias for <b>zfs</b> <b>snapshot</b>.

       See the “Snapshots” section of <u><a href="../man7/zfsconcepts.7.html">zfsconcepts</a></u>(7) for details.

       <b>-o</b> <u>property</u>=<u>value</u>
           Set the specified property; see <b>zfs</b> <b>create</b> for details.

       <b>-r</b>  Recursively create snapshots of all descendent datasets

</pre><h4><b>EXAMPLES</b></h4><pre>
   <b>Example</b> <b>1</b>: Creating a ZFS Snapshot
       The following command creates a snapshot named <u>yesterday</u>.  This snapshot is  mounted  on  demand  in  the
       <u>.zfs/snapshot</u> directory at the root of the <u>pool/home/bob</u> file system.
             <b>#</b> <b>zfs</b> <b>snapshot</b> <u>pool/home/bob</u>@<u>yesterday</u>

   <b>Example</b> <b>2</b>: Creating and Destroying Multiple Snapshots
       The  following  command  creates  snapshots  named  <u>yesterday</u> of <u>pool/home</u> and all of its descendent file
       systems.  Each snapshot is mounted on demand in the <u>.zfs/snapshot</u> directory  at  the  root  of  its  file
       system.  The second command destroys the newly created snapshots.
             <b>#</b> <b>zfs</b> <b>snapshot</b> <b>-r</b> <u>pool/home</u>@<u>yesterday</u>
             <b>#</b> <b>zfs</b> <b>destroy</b> <b>-r</b> <u>pool/home</u>@<u>yesterday</u>

   <b>Example</b> <b>3</b>: Promoting a ZFS Clone
       The following commands illustrate how to test out changes to a file system, and then replace the original
       file system with the changed one, using clones, clone promotion, and renaming:
             # <b>zfs</b> <b>create</b> <u>pool/project/production</u>
               populate /pool/project/production with data
             # <b>zfs</b> <b>snapshot</b> <u>pool/project/production</u>@<u>today</u>
             # <b>zfs</b> <b>clone</b> <u>pool/project/production@today</u> <u>pool/project/beta</u>
               make changes to /pool/project/beta and test them
             # <b>zfs</b> <b>promote</b> <u>pool/project/beta</u>
             # <b>zfs</b> <b>rename</b> <u>pool/project/production</u> <u>pool/project/legacy</u>
             # <b>zfs</b> <b>rename</b> <u>pool/project/beta</u> <u>pool/project/production</u>
               once the legacy version is no longer needed, it can be destroyed
             # <b>zfs</b> <b>destroy</b> <u>pool/project/legacy</u>

   <b>Example</b> <b>4</b>: Performing a Rolling Snapshot
       The  following  example shows how to maintain a history of snapshots with a consistent naming scheme.  To
       keep a week's worth of snapshots, the user destroys the oldest snapshot, renames the remaining snapshots,
       and then creates a new snapshot, as follows:
             # <b>zfs</b> <b>destroy</b> <b>-r</b> <u>pool/users@7daysago</u>
             # <b>zfs</b> <b>rename</b> <b>-r</b> <u>pool/users@6daysago</u> @<u>7daysago</u>
             # <b>zfs</b> <b>rename</b> <b>-r</b> <u>pool/users@5daysago</u> @<u>6daysago</u>
             # <b>zfs</b> <b>rename</b> <b>-r</b> <u>pool/users@4daysago</u> @<u>5daysago</u>
             # <b>zfs</b> <b>rename</b> <b>-r</b> <u>pool/users@3daysago</u> @<u>4daysago</u>
             # <b>zfs</b> <b>rename</b> <b>-r</b> <u>pool/users@2daysago</u> @<u>3daysago</u>
             # <b>zfs</b> <b>rename</b> <b>-r</b> <u>pool/users@yesterday</u> @<u>2daysago</u>
             # <b>zfs</b> <b>rename</b> <b>-r</b> <u>pool/users@today</u> @<u>yesterday</u>
             # <b>zfs</b> <b>snapshot</b> <b>-r</b> <u>pool/users</u>@<u>today</u>

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <u><a href="../man8/zfs-bookmark.8.html">zfs-bookmark</a></u>(8), <u><a href="../man8/zfs-clone.8.html">zfs-clone</a></u>(8), <u><a href="../man8/zfs-destroy.8.html">zfs-destroy</a></u>(8), <u><a href="../man8/zfs-diff.8.html">zfs-diff</a></u>(8), <u><a href="../man8/zfs-hold.8.html">zfs-hold</a></u>(8), <u><a href="../man8/zfs-rename.8.html">zfs-rename</a></u>(8),  <u><a href="../man8/zfs-rollback.8.html">zfs-rollback</a></u>(8),
       <u><a href="../man8/zfs-send.8.html">zfs-send</a></u>(8)

OpenZFS                                          March 16, 2022                                  <u><a href="../man8/ZFS-SNAPSHOT.8.html">ZFS-SNAPSHOT</a></u>(8)
</pre>
 </div>
</div></section>
</div>
</body>
</html>