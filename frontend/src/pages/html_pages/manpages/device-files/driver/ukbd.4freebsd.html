<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ukbd — USB keyboard driver</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/freebsd-manpages">freebsd-manpages_12.2-2_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       ukbd — USB keyboard driver

</pre><h4><b>SYNOPSIS</b></h4><pre>
       To compile this driver into the kernel, place the following line in your kernel configuration file:

             <b>device</b> <b>ukbd</b>

       Alternatively, to load the driver as a module at boot time, place the following line in <u><a href="../man5/loader.conf.5.html">loader.conf</a></u>(5):

             ukbd_load="YES"

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The <b>ukbd</b> driver provides support for keyboards that attach to the USB port.  <u><a href="../man4/usb.4.html">usb</a></u>(4) and one of <u><a href="../man4/uhci.4.html">uhci</a></u>(4) or
       <u><a href="../man4/ohci.4.html">ohci</a></u>(4) must be configured in the kernel as well.

</pre><h4><b>CONFIGURATION</b></h4><pre>
       By  default,  the  keyboard  subsystem  does  not  create  the  appropriate  devices  yet.  Make sure you
       reconfigure your kernel with the following option in the kernel config file:

             <b>options</b> <b>KBD_INSTALL_CDEV</b>

       If both an AT keyboard USB keyboards are used at the same time, the AT keyboard will appear  as  <u>kbd0</u>  in
       <u><a href="file:/dev">/dev</a></u>.   The  USB keyboards will be <u>kbd1</u>, <u>kbd2</u>, etc.  You can see some information about the keyboard with
       the following command:

             <b>kbdcontrol</b> <b>-i</b> <b>&lt;</b> <b>/dev/kbd1</b>

       or load a keymap with

             <b>kbdcontrol</b> <b>-l</b> <b>keymaps/pt.iso</b> <b>&lt;</b> <b>/dev/kbd1</b>

       See <u><a href="../man1/kbdcontrol.1.html">kbdcontrol</a></u>(1) for more possible options.

       You can swap console keyboards by using the command

             <b>kbdcontrol</b> <b>-k</b> <b>/dev/kbd1</b>

       From this point on, the first USB keyboard will be the keyboard to be used by the console.

       If you want to use a USB keyboard as your default and not use an AT keyboard at all,  you  will  have  to
       remove  the  <b>device</b>  <b>atkbd</b> line from the kernel configuration file.  Because of the device initialization
       order, the USB keyboard will be detected <u>after</u> the console driver initializes  itself  and  you  have  to
       explicitly  tell the console driver to use the existence of the USB keyboard.  This can be done in one of
       the following two ways.

       Run the following command as a part of system initialization:

             <b>kbdcontrol</b> <b>-k</b> <b>/dev/kbd0</b> <b>&lt;</b> <b>/dev/ttyv0</b> <b>&gt;</b> <b>/dev/null</b>

       (Note that as the USB keyboard is the only keyboard, it is accessed as <u>/dev/kbd0</u>) or otherwise  tell  the
       console driver to periodically look for a keyboard by setting a flag in the kernel configuration file:

             <b>device</b> <b>sc0</b> <b>at</b> <b>isa?</b> <b>flags</b> <b>0x100</b>

       With  the  above  flag,  the  console  driver will try to detect any keyboard in the system if it did not
       detect one while it was initialized at boot time.

</pre><h4><b>DRIVER</b> <b>CONFIGURATION</b></h4><pre>
             <b>options</b> <b>KBD_INSTALL_CDEV</b>

       Make the keyboards available through a character device in <u><a href="file:/dev">/dev</a></u>.

             <b>options</b> <b>UKBD_DFLT_KEYMAP</b>
             <b>makeoptions</b> <b>UKBD_DFLT_KEYMAP=fr.iso</b>

       The above lines will put the French ISO keymap in the  ukbd  driver.   You  can  specify  any  keymap  in
       <u>/usr/share/syscons/keymaps</u>  or  <u>/usr/share/vt/keymaps</u>  (depending  on the console driver being used) with
       this option.

             <b>options</b> <b>KBD_DISABLE_KEYMAP_LOADING</b>

       Do not allow the user to change the keymap.  Note that these options also affect the AT keyboard  driver,
       <u><a href="../man4/atkbd.4.html">atkbd</a></u>(4).

</pre><h4><b>SYSCTL</b> <b>VARIABLES</b></h4><pre>
       The following variables are available as both <u><a href="../man8/sysctl.8.html">sysctl</a></u>(8) variables and <u><a href="../man8/loader.8.html">loader</a></u>(8) tunables:

       <u>hw.usb.ukbd.debug</u>
               Debug  output  level,  where  0  is  debugging  disabled and larger values increase debug message
               verbosity.  Default is 0.

</pre><h4><b>FILES</b></h4><pre>
       <u>/dev/kbd*</u>  blocking device nodes

</pre><h4><b>EXAMPLES</b></h4><pre>
             <b>device</b> <b>ukbd</b>

       Add the <b>ukbd</b> driver to the kernel.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <u><a href="../man1/kbdcontrol.1.html">kbdcontrol</a></u>(1), <u><a href="../man4/ohci.4.html">ohci</a></u>(4), <u><a href="../man4/syscons.4.html">syscons</a></u>(4), <u><a href="../man4/uhci.4.html">uhci</a></u>(4), <u><a href="../man4/usb.4.html">usb</a></u>(4), <u><a href="../man4/vt.4.html">vt</a></u>(4), <u><a href="../man8/config.8.html">config</a></u>(8)

</pre><h4><b>AUTHORS</b></h4><pre>
       The <b>ukbd</b>  driver  was  written  by  Lennart  Augustsson  &lt;<u><a href="mailto:augustss@cs.chalmers.se">augustss@cs.chalmers.se</a></u>&gt;  for  NetBSD  and  was
       substantially rewritten for FreeBSD by Kazutaka YOKOTA &lt;<u><a href="mailto:yokota@zodiac.mech.utsunomiya-u.ac.jp">yokota@zodiac.mech.utsunomiya-u.ac.jp</a></u>&gt;.

       This  manual  page  was  written  by  Nick  Hibma &lt;<u><a href="mailto:n_hibma@FreeBSD.org">n_hibma@FreeBSD.org</a></u>&gt; with a large amount of input from
       Kazutaka YOKOTA &lt;<u><a href="mailto:yokota@zodiac.mech.utsunomiya-u.ac.jp">yokota@zodiac.mech.utsunomiya-u.ac.jp</a></u>&gt;.

Debian                                           April 24, 2018                                          <u><a href="../man4/UKBD.4.html">UKBD</a></u>(4)
</pre>
 </div>
</div></section>
</div>
</body>
</html>