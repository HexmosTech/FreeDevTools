<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>gpioiic — GPIO I2C bit-banging device driver</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/freebsd-manpages">freebsd-manpages_12.2-2_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       gpioiic — GPIO I2C bit-banging device driver

</pre><h4><b>SYNOPSIS</b></h4><pre>
       To compile this driver into the kernel, place the following lines in your kernel configuration file:

             <b>device</b> <b>gpio</b>
             <b>device</b> <b>gpioiic</b>
             <b>device</b> <b>iicbb</b>
             <b>device</b> <b>iicbus</b>

       Alternatively, to load the driver as a module at boot time, place the following line in <u><a href="../man5/loader.conf.5.html">loader.conf</a></u>(5):

             gpioiic_load="YES"

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The <b>gpioiic</b> driver provides an IIC bit-banging interface using two GPIO pins for the SCL and SDA lines on
       the bus.

       <b>gpioiic</b>  simulates  an  open  collector kind of output when managing the pins on the bus, even on systems
       which don't directly support configuring gpio pins in that mode.   The  pins  are  never  driven  to  the
       logical value of '1'.  They are driven to '0' or switched to input mode (Hi-Z/tri-state), and an external
       pullup resistor pulls the line to the 1 state unless some other device on the bus is driving it to 0.

</pre><h4><b>HINTS</b> <b>CONFIGURATION</b></h4><pre>
       On a <u><a href="../man5/device.hints.5.html">device.hints</a></u>(5) based system, such as MIPS, these values are configurable for <b>gpioiic</b>:

       <u>hint.gpioiic.%d.at</u>     The <b>gpiobus</b> you are attaching to.  Normally just gpiobus0 on systems with a single
                              bank of gpio pins.

       <u>hint.gpioiic.%d.pins</u>   This  is  a  bitmask of the pins on the <b>gpiobus</b> that are to be used for SCLOCK and
                              SDATA from the GPIO IIC bit-banging bus.  To  configure  pin  0  and  7,  use  the
                              bitmask  of  0b10000001  and  convert it to a hexadecimal value of 0x0081.  Please
                              note that this mask should only ever have two bits set (any  other  bits  -  i.e.,
                              pins  -  will  be  ignored).  Because <b>gpioiic</b> must be a child of the gpiobus, both
                              gpio pins must be part of that bus.

       <u>hint.gpioiic.%d.scl</u>    Indicates which bit in the <u>hint.gpioiic.%d.pins</u>  should  be  used  as  the  SCLOCK
                              source.  Optional, defaults to 0.

       <u>hint.gpioiic.%d.sda</u>    Indicates  which  bit  in  the  <u>hint.gpioiic.%d.pins</u>  should  be used as the SDATA
                              source.  Optional, defaults to 1.

</pre><h4><b>FDT</b> <b>CONFIGURATION</b></h4><pre>
       On an <u><a href="../man4/FDT.4.html">FDT</a></u>(4) based system, such as ARM, the DTS node  for  <b>gpioiic</b>  conforms  to  the  standard  bindings
       document  i2c/i2c-gpio.yaml.   The  device  node  typically  appears at the root of the device tree.  The
       following is an example of a <b>gpioiic</b> node with one slave device on the IIC bus:

       / {
               gpioiic0 {
                       compatible = "i2c-gpio";
                       pinctrl-names = "default";
                       pinctrl-0 = &lt;&amp;pinctrl_gpioiic0&gt;;
                       scl-gpios = &lt;&amp;gpio1  5 GPIO_ACTIVE_HIGH&gt;;
                       sda-gpios = &lt;&amp;gpio7 11 GPIO_ACTIVE_HIGH&gt;;
                       status = "okay";

                       /* One slave device on the i2c bus. */
                       rtc@51 {
                               compatible="nxp,pcf2127";
                               reg = &lt;0x51&gt;;
                               status = "okay";
                       };
               };
       };

       Where:

       <u>compatible</u>  Should be set to "i2c-gpio".  The deprecated string "gpioiic" is also accepted for  backwards
                   compatibility.

       <u>scl-gpios</u> <u>sda-gpios</u>
                   These  properties  indicate which GPIO pins should be used for clock and data on the GPIO IIC
                   bit-banging bus.  There is no  requirement  that  the  two  pins  belong  to  the  same  gpio
                   controller.

       <u>pinctrl-names</u> <u>pinctrl-0</u>
                   These  properties  may be required to configure the chosen pins as gpio pins, unless the pins
                   default to that state on your system.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <u><a href="../man4/fdt.4.html">fdt</a></u>(4), <u><a href="../man4/gpio.4.html">gpio</a></u>(4), <u><a href="../man4/iic.4.html">iic</a></u>(4), <u><a href="../man4/iicbb.4.html">iicbb</a></u>(4), <u><a href="../man4/iicbus.4.html">iicbus</a></u>(4)

</pre><h4><b>HISTORY</b></h4><pre>
       The <b>gpioiic</b> manual page first appeared in FreeBSD 10.1.

</pre><h4><b>AUTHORS</b></h4><pre>
       This manual page was written by Luiz Otavio O Souza.

Debian                                          December 1, 2019                                      <u><a href="../man4/GPIOIIC.4.html">GPIOIIC</a></u>(4)
</pre>
 </div>
</div></section>
</div>
</body>
</html>