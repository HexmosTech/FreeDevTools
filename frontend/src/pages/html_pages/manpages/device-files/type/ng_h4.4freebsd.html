<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ng_h4 — Netgraph node type that is also an H4 line discipline</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/freebsd-manpages">freebsd-manpages_12.2-2_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       ng_h4 — Netgraph node type that is also an H4 line discipline

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>#include</b> <b>&lt;sys/types.h&gt;</b>
       <b>#include</b> <b>&lt;netgraph/bluetooth/include/ng_h4.h&gt;</b>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The  <b>h4</b>  node  type  is  both  a persistent Netgraph node type and a H4 line discipline.  It implements a
       Bluetooth HCI UART transport layer as per chapter H4 of the Bluetooth Specification  Book  v1.1.   A  new
       node  is  created  when  the  corresponding  line  discipline, H4DISC, is registered on a tty device (see
       <u><a href="../man4/tty.4.html">tty</a></u>(4)).

       The node has a single hook called hook.  Incoming bytes received on the tty device are re-assembled  into
       HCI  frames (according to the length).  Full HCI frames are sent out on the hook.  HCI frames received on
       hook are transmitted out on the tty  device.   No  modification  to  the  data  is  performed  in  either
       direction.   While  the  line  discipline is installed on a tty, the normal read and write operations are
       unavailable, returning EIO.

       Information about the node is available via the  netgraph  <u><a href="../man2/ioctl.2.html">ioctl</a></u>(2)  command  NGIOCGINFO.   This  command
       returns a <u>struct</u> <u>nodeinfo</u> similar to the NGM_NODEINFO <u><a href="../man4/netgraph.4.html">netgraph</a></u>(4) control message.

</pre><h4><b>HOOKS</b></h4><pre>
       This node type supports the following hooks:

       <u>hook</u>  single HCI frame contained in single <u>mbuf</u> structure.

</pre><h4><b>CONTROL</b> <b>MESSAGES</b></h4><pre>
       This node type supports the generic control messages, plus the following:

       NGM_H4_NODE_RESET
            Reset the node.

       NGM_H4_NODE_GET_STATE
            Returns current receiving state for the node.

       NGM_H4_NODE_GET_DEBUG
            Returns an integer containing the current debug level for the node.

       NGM_H4_NODE_SET_DEBUG
            This command takes an integer argument and sets current debug level for the node.

       NGM_H4_NODE_GET_QLEN
            Returns current length of outgoing queue for the node.

       NGM_H4_NODE_SET_QLEN
            This command takes an integer argument and sets maximum length of outgoing queue for the node.

       NGM_H4_NODE_GET_STAT
            Returns  various  statistic information for the node, such as: number of bytes (frames) sent, number
            of bytes (frames) received and number of input (output) errors.

       NGM_H4_NODE_RESET_STAT
            Reset all statistic counters to zero.

</pre><h4><b>SHUTDOWN</b></h4><pre>
       This node shuts down when the corresponding device is closed (or the line discipline  is  uninstalled  on
       the device).

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <u><a href="../man2/ioctl.2.html">ioctl</a></u>(2), <u><a href="../man4/netgraph.4.html">netgraph</a></u>(4), <u><a href="../man4/tty.4.html">tty</a></u>(4), <u><a href="../man8/ngctl.8.html">ngctl</a></u>(8)

</pre><h4><b>HISTORY</b></h4><pre>
       The <b>h4</b> node type was implemented in FreeBSD 5.0.

</pre><h4><b>AUTHORS</b></h4><pre>
       Maksim Yevmenkin &lt;<u><a href="mailto:m_evmenkin@yahoo.com">m_evmenkin@yahoo.com</a></u>&gt;

</pre><h4><b>BUGS</b></h4><pre>
       This node still uses <u><a href="../man9/spltty.9.html">spltty</a></u>(9) to lock tty layer.  This is wrong.

Debian                                            June 14, 2002                                         <u><a href="../man4/NG_H4.4.html">NG_H4</a></u>(4)
</pre>
 </div>
</div></section>
</div>
</body>
</html>