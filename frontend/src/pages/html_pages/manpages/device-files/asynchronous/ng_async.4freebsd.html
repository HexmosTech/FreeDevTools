<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ng_async — asynchronous framing netgraph node type</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/freebsd-manpages">freebsd-manpages_12.2-2_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       ng_async — asynchronous framing netgraph node type

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>#include</b> <b>&lt;sys/types.h&gt;</b>
       <b>#include</b> <b>&lt;netgraph/ng_async.h&gt;</b>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The  <b>async</b>  node  type performs conversion between synchronous frames and asynchronous frames, as defined
       for the PPP protocol in RFC 1662.  Asynchronous framing uses flag bytes and octet-stuffing to simulate  a
       frame oriented connection over an octet-oriented asynchronous serial line.

       The  node  transmits  and receives asynchronous data on the async hook.  Mbuf boundaries of incoming data
       are ignored.  Once a complete packet has been received, it is decoded and stripped of all framing  bytes,
       and transmitted out the sync hook as a single frame.

       Synchronous  frames  are  transmitted  and  received on the sync hook.  Packets received on this hook are
       encoded as asynchronous frames and sent out on async.  Received packets should start with the address and
       control fields, or the PPP protocol field if address and  control  field  compression  is  employed,  and
       contain  no checksum field.  If the first four bytes are 0xff 0x03 0xc0 0x21 (an LCP protocol frame) then
       complete control character escaping is enabled for that frame (in PPP, LCP packets are always  sent  with
       no address and control field compression and all control characters escaped).

       This  node  supports  “flag sharing” for packets transmitted on async.  This is an optimization where the
       trailing flag byte of one frame is shared with the opening flag byte of the next.  Flag  sharing  between
       frames is disabled after one second of transmit idle time.

</pre><h4><b>HOOKS</b></h4><pre>
       This node type supports the following hooks:

       <u>async</u>  Asynchronous  connection.   Typically  this  hook  would  be  connected to a <u><a href="../man4/ng_tty.4.html">ng_tty</a></u>(4) node, which
              handles transmission of serial data over a tty device.

       <u>sync</u>   Synchronous connection.  This hook sends and receives synchronous frames.  For PPP,  these  frames
              should  contain address, control, and protocol fields, but no checksum field.  Typically this hook
              would be connected to an individual link hook of a <u><a href="../man4/ng_ppp.4.html">ng_ppp</a></u>(4) type node.

</pre><h4><b>CONTROL</b> <b>MESSAGES</b></h4><pre>
       This node type supports the generic control messages, plus the following:

       NGM_ASYNC_CMD_SET_CONFIG (<b>setconfig</b>)
            Sets the node configuration, which is described by a struct ng_async_cfg:

                struct ng_async_cfg {
                        u_char    enabled;  /* Turn encoding on/off */
                        uint16_t  amru;     /* Max receive async frame length */
                        uint16_t  smru;     /* Max receive sync frame length */
                        uint32_t  accm;     /* ACCM encoding */
                };
            The enabled field enables or disables all  encoding/decoding  functions  (default  disabled).   When
            disabled,  the  node  operates  in  simple  “pass  through”  mode.  The amru and smru fields are the
            asynchronous and synchronous MRU (maximum receive unit) values, respectively.  These both default to
            1600; note that the async MRU applies to the incoming frame length after asynchronous decoding.  The
            accm field is the asynchronous character control map, which controls the escaping of characters 0x00
            thorough 0x1f (default 0xffffffff).

       NGM_ASYNC_CMD_GET_CONFIG (<b>getconfig</b>)
            This command returns the current configuration structure.

       NGM_ASYNC_CMD_GET_STATS (<b>getstats</b>)
            This command returns a struct ng_async_stat containing node statistics for packet, octet, and  error
            counts.

       NGM_ASYNC_CMD_CLR_STATS (<b>clrstats</b>)
            Clears the node statistics.

</pre><h4><b>SHUTDOWN</b></h4><pre>
       This  node  shuts  down  upon  receipt  of  a  NGM_SHUTDOWN  control message, or when all hooks have been
       disconnected.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <u><a href="../man4/netgraph.4.html">netgraph</a></u>(4), <u><a href="../man4/ng_ppp.4.html">ng_ppp</a></u>(4), <u><a href="../man4/ng_tty.4.html">ng_tty</a></u>(4), <u><a href="../man8/ngctl.8.html">ngctl</a></u>(8)

       W. Simpson, <u>PPP</u> <u>in</u> <u>HDLC-link</u> <u>Framing</u>, RFC 1662.

       W. Simpson, <u>The</u> <u>Point-to-Point</u> <u>Protocol</u> <u>(PPP)</u>, RFC 1661.

</pre><h4><b>HISTORY</b></h4><pre>
       The <b>ng_async</b> node type was implemented in FreeBSD 4.0.

</pre><h4><b>AUTHORS</b></h4><pre>
       Archie Cobbs &lt;<u><a href="mailto:archie@FreeBSD.org">archie@FreeBSD.org</a></u>&gt;

Debian                                          November 13, 2012                                    <u><a href="../man4/NG_ASYNC.4.html">NG_ASYNC</a></u>(4)
</pre>
 </div>
</div></section>
</div>
</body>
</html>