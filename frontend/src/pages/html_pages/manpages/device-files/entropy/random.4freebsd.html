<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>random — the entropy device</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/freebsd-manpages">freebsd-manpages_12.2-2_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       random — the entropy device

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>device</b> <b>random</b>
       <b>options</b> <b>RANDOM_LOADABLE</b>
       <b>options</b> <b>RANDOM_ENABLE_UMA</b>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The <b>random</b> device returns an endless supply of random bytes when read.  It also accepts and reads data as
       any ordinary file.

       The  generator  will  start  in  an <u>unseeded</u> state, and will block reads until it is seeded for the first
       time.  This may cause trouble at system boot when keys and the like are generated from  <b>random</b>  so  steps
       should be taken to ensure a seeding as soon as possible.

       It  is  also possible to read random bytes by using the KERN_ARND sysctl.  On the command line this could
       be done by

             <b>sysctl</b> <b>-x</b> <b>-B</b> <b>16</b> <b>kern.arandom</b>

       This sysctl will not return random bytes unless the <b>random</b> device is seeded.

       This initial seeding of random number generators is a  bootstrapping  problem  that  needs  very  careful
       attention.   In  some  cases,  it  may  be  difficult  to  find enough randomness to seed a random number
       generator until a system is fully operational, but the system requires random  numbers  to  become  fully
       operational.   It is (or more accurately should be) critically important that the <b>random</b> device is seeded
       before the first time it is used.  In the case where a dummy or "blocking-only" device is used, it is the
       responsibility of the system architect to ensure that no blocking reads hold up critical processes.

       To see the current settings of the software <b>random</b> device, use the command line:

             <b>sysctl</b> <b>kern.random</b>

       which results in something like:

             kern.random.fortuna.minpoolsize: 64
             kern.random.harvest.mask_symbolic: [HIGH_PERFORMANCE], ... ,CACHED
             kern.random.harvest.mask_bin: 00111111111
             kern.random.harvest.mask: 511
             kern.random.random_sources: 'Intel Secure Key RNG'

       Other than
             <b>kern.random.fortuna.minpoolsize</b>
       and
             <b>kern.random.harvest.mask</b>
       all settings are read-only.

       The <u>kern.random.fortuna.minpoolsize</u> sysctl is used to set the seed threshold.  A smaller number  gives  a
       faster seed, but a less secure one.  In practice, values between 64 and 256 are acceptable.

       The  <u>kern.random.harvest.mask</u>  bitmask  is used to select the possible entropy sources.  A 0 (zero) value
       means the corresponding source is not considered as an entropy source.  Set the bit to  1  (one)  if  you
       wish  to use that source.  The <u>kern.random.harvest.mask_bin</u> and <u>kern.random.harvest.mask_symbolic</u> sysctls
       can be used to confirm that the choices are correct.  Note that disabled items in  the  latter  item  are
       listed in square brackets.  See <u><a href="../man9/random_harvest.9.html">random_harvest</a></u>(9) for more on the harvesting of entropy.

       When  <b>options</b>  <b>RANDOM_LOADABLE</b> is used, the <u>/dev/random</u> device is not created until an "algorithm module"
       is loaded.  The only module built by default is <u>random_fortuna</u>.  The <u>random_yarrow</u> module was removed  in
       FreeBSD  12.   Note that this loadable module is slightly less efficient than its compiled-in equivalent.
       This is because some functions must be locked against load and unload events, and also must  be  indirect
       calls to allow for removal.

       When  <b>options</b>  <b>RANDOM_ENABLE_UMA</b>  is  used,  the  <u>/dev/random</u>  device  will  obtain entropy from the zone
       allocator.  This is potentially very high rate, and if so will be of questionable use.  If  this  is  the
       case,  use  of  this  option  is  not recommended.  Determining this is not trivial, so experimenting and
       measurement using tools such as <u><a href="../man1/dtrace.1.html">dtrace</a></u>(1) will be required.

</pre><h4><b>RANDOMNESS</b></h4><pre>
       The use of randomness in the field of computing  is  a  rather  subtle  issue  because  randomness  means
       different things to different people.  Consider generating a password randomly, simulating a coin tossing
       experiment  or  choosing  a  random  back-off period when a server does not respond.  Each of these tasks
       requires random numbers, but the random numbers in each case have different requirements.

       Generation of passwords, session keys and the like requires cryptographic  randomness.   A  cryptographic
       random  number  generator  should  be designed so that its output is difficult to guess, even if a lot of
       auxiliary information is known (such as when it was seeded, subsequent or previous output,  and  so  on).
       On  FreeBSD,  seeding  for cryptographic random number generators is provided by the <b>random</b> device, which
       provides real randomness.  The <u><a href="../man3/arc4random.3.html">arc4random</a></u>(3) library call provides  a  pseudo-random  sequence  which  is
       generally  reckoned  to  be  suitable  for  simple  cryptographic use.  The OpenSSL library also provides
       functions for managing randomness via functions such as <u><a href="../man3/RAND_bytes.3.html">RAND_bytes</a></u>(3) and <u><a href="../man3/RAND_add.3.html">RAND_add</a></u>(3).  Note that OpenSSL
       uses the <b>random</b> device for seeding automatically.

       Randomness for simulation is required in  engineering  or  scientific  software  and  games.   The  first
       requirement of these applications is that the random numbers produced conform to some well-known, usually
       uniform,  distribution.   The  sequence  of  numbers  should  also  appear  numerically  uncorrelated, as
       simulation often assumes independence of its random inputs.  Often  it  is  desirable  to  reproduce  the
       results  of  a  simulation exactly, so that if the generator is seeded in the same way, it should produce
       the same results.  A peripheral concern for simulation is the speed of a random number generator.

       Another issue in simulation is the size of the state associated with the random number generator, and how
       frequently it repeats itself.  For example, a program which shuffles a pack  of  cards  should  have  52!
       possible outputs, which requires the random number generator to have 52! starting states.  This means the
       seed  should  have  at  least  log_2(52!)  ~  226  bits  of  state if the program is to stand a chance of
       outputting all possible sequences, and the program needs some unbiased  way  of  generating  these  bits.
       Again,  the  <b>random</b>  device  could  be  used for seeding here, but in practice, smaller seeds are usually
       considered acceptable.

       FreeBSD provides two families of functions which are considered suitable for simulation.   The  <u><a href="../man3/random.3.html">random</a></u>(3)
       family  of  functions  provides  a  random  integer  between  0  to (2**31)−1.  The functions <u><a href="../man3/srandom.3.html">srandom</a></u>(3),
       <u><a href="../man3/initstate.3.html">initstate</a></u>(3) and <u><a href="../man3/setstate.3.html">setstate</a></u>(3) are provided for deterministically setting the state of  the  generator  and
       the  function  <u><a href="../man3/srandomdev.3.html">srandomdev</a></u>(3)  is  provided  for  setting the state via the <b>random</b> device.  The <u><a href="../man3/drand48.3.html">drand48</a></u>(3)
       family of functions are also provided, which provide random floating point numbers in various ranges.

       Randomness that is used for collision avoidance (for example, in certain network protocols) has  slightly
       different semantics again.  It is usually expected that the numbers will be uniform, as this produces the
       lowest  chances  of  collision.   Here  again,  the  seeding of the generator is very important, as it is
       required that  different  instances  of  the  generator  produce  independent  sequences.   However,  the
       guessability or reproducibility of the sequence is unimportant, unlike the previous cases.

       FreeBSD  does also provide the traditional <u><a href="../man3/rand.3.html">rand</a></u>(3) library call, for compatibility purposes.  However, it
       is known to be poor for simulation and absolutely unsuitable for cryptographic purposes, so  its  use  is
       discouraged.

</pre><h4><b>FILES</b></h4><pre>
       <u>/dev/random</u>

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <u><a href="../man3/arc4random.3.html">arc4random</a></u>(3), <u><a href="../man3/drand48.3.html">drand48</a></u>(3), <u><a href="../man3/rand.3.html">rand</a></u>(3), <u><a href="../man3/RAND_add.3.html">RAND_add</a></u>(3), <u><a href="../man3/RAND_bytes.3.html">RAND_bytes</a></u>(3), <u><a href="../man3/random.3.html">random</a></u>(3), <u><a href="../man8/sysctl.8.html">sysctl</a></u>(8), <u><a href="../man9/random.9.html">random</a></u>(9)

       Ferguson, Schneier, and Kohno, <u>Cryptography</u> <u>Engineering</u>, <u>Wiley</u>, ISBN 978-0-470-47424-2.

</pre><h4><b>HISTORY</b></h4><pre>
       A   <b>random</b>  device  appeared  in  FreeBSD  2.2.   The  current  software  implementation,  introduced  in
       FreeBSD 10.0, is by Mark R V Murray, and is an implementation of the <u>Fortuna</u> algorithm by Ferguson <u>et</u> <u>al</u>.
       It replaces the previous <u>Yarrow</u> implementation, introduced in FreeBSD 5.0.  The Yarrow  algorithm  is  no
       longer supported by its authors, and is therefore no longer available.

Debian                                           August 26, 2018                                       <u><a href="../man4/RANDOM.4.html">RANDOM</a></u>(4)
</pre>
 </div>
</div></section>
</div>
</body>
</html>