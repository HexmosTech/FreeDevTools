<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>acpi_battery — ACPI battery management subsystem</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/freebsd-manpages">freebsd-manpages_12.2-2_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       acpi_battery — ACPI battery management subsystem

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>device</b> <b>acpi</b>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The <b>acpi_battery</b> is a driver for battery management features of the ACPI module.

       An  ACPI-compatible  battery device supports either a Control Method Battery interface or a Smart Battery
       subsystem interface.  The former is accessed by the AML (ACPI Machine Language) code control methods, and
       the latter is controlled directly through the ACPI  EC  (Embedded  Controller)  typically  via  an  SMBus
       interface.

       This  driver  supports  the  <u><a href="../man8/sysctl.8.html">sysctl</a></u>(8)  and <u><a href="../man2/ioctl.2.html">ioctl</a></u>(2) interfaces as well as the <u><a href="../man8/devd.8.html">devd</a></u>(8) event notification
       interface.

</pre><h4><b>IOCTLS</b></h4><pre>
       Every ioctl for the <b>acpi_battery</b> driver takes a single integer value for the battery unit  number  as  an
       argument,   and   returns   a   specific   structure   for   each   request.    A   special  unit  number
       ACPI_BATTERY_ALL_UNITS specifies all of the attached units and reports accumulated information.

       ACPIIO_BATT_GET_UNITS <u>int</u>
               Returns the number of battery units in the system.  The unit number argument will be ignored.

       ACPIIO_BATT_GET_BATTINFO <u>struct</u> <u>acpi_battinfo</u>
               Returns the following:

               <u>cap</u>     Battery capacity in percent,

               <u>min</u>     Remaining battery life in minutes,

               <u>state</u>   Current status of the battery encoded in the following:

                       ACPI_BATT_STAT_DISCHARG (0x0001)
                               Battery is discharging,

                       ACPI_BATT_STAT_CHARGING (0x0002)
                               Battery is being charged, or

                       ACPI_BATT_STAT_CRITICAL (0x0004)
                               Remaining battery life is critically low.

                       Note   that   the   status   bits   of   each   battery   will   be   consolidated   when
                       ACPI_BATTERY_ALL_UNITS is specified.

               <u>rate</u>    Current battery discharging rate in mW.  <b>-1</b> means not discharging right now.

       ACPIIO_BATT_GET_BIX <u>struct</u> <u>acpi_bix</u>
               Returns  battery  information  given  by the ACPI <b>_BIX</b> (Battery Information) object, which is the
               static portion of the Control Method Battery  information.   In  the  case  of  a  Smart  Battery
               attached  to SMBus or a Control Method Battery with a <b>_BIF</b> object, this ioctl will build a <u>struct</u>
               <u>acpi_bix</u> structure based on the obtained information and return it.

               <u>rev</u>     Revision number of the object.  There are the following well-known values:

                       ACPI_BIX_REV_0 (0x0000)
                               A <b>_BIX</b> object in ACPI 4.0.

                       ACPI_BIX_REV_1 (0x0001)
                               A <b>_BIX</b> object in ACPI 6.0.

                       ACPI_BIX_REV_BIF (0xffff)
                               A <b>_BIX</b> object built from the <b>_BIF</b> object found on the system.

                       Note that this field should be checked by using  <b>ACPI_BIX_REV_MIN_CHECK</b>(<u>var</u>,  <u>rev</u>)  macro
                       when checking the minimum revision number.

               <u>units</u>   Indicates the units used by the battery to report its capacity and charge rate encoded in
                       the following:

                       ACPI_BIX_UNITS_MW (0x00000000)
                               in mW (power)

                       ACPI_BIX_UNITS_MA (0x00000001)
                               in mA (current)

                       Note  that  capacity  is  expressed  in  mWh  or  mAh, and rate is expressed in mW or mA,
                       respectively.

               <u>dcap</u>    The Battery's design capacity, which is the nominal capacity of a new battery.   This  is
                       expressed as power or current depending on the value of <u>units</u>.

               <u>lfcap</u>   Predicted  battery  capacity  when  fully  charged.   Typically  this will decrease every
                       charging cycle.

               btech   Battery technology:

                       0x00000000 Primary cell (non-rechargable)

                       0x00000001 Secondary cell (rechargable)

               <u>dvol</u>    Design voltage in mV, which is the nominal voltage of a new battery.

               <u>wcap</u>    Design capacity of warning.  When a discharging battery  device  reaches  this  capacity,
                       notification is sent to the system.

               <u>lcap</u>    Design capacity of low.

               <u>cycles</u>  (rev  0  or  newer)  The  number of cycles the battery has experienced.  A cycle means an
                       amount of discharge occurred which  was  approximately  equal  to  the  value  of  Design
                       Capacity.

               <u>accuracy</u>
                       (rev  0  or  newer)  The accuracy of the battery capacity measurement, in thousandth of a
                       percent.

               <u>stmax</u>   (rev 0 or newer) The Maximum Sampling Time of the battery in milliseconds.  This  is  the
                       maximum  duration  between  two  consecutive  measurements  of  the  battery's capacities
                       specified in <b>_BST</b>.  If two succeeding readings of <b>_BST</b> beyond this  duration  occur,  two
                       different results can be returned.

               <u>stmin</u>   (rev 0 or newer) The Minimum Sampling Time of the battery in milliseconds.

               <u>aimax</u>   (rev  0  or  newer) The Maximum Average Interval of the battery in milliseconds.  This is
                       the length of time within which the battery averages the capacity measurements  specified
                       in  <b>_BST</b>.   The  Sampling  Time  specifies the frequency of measurements, and the Average
                       Interval specifies the width of the time window of every measurement.

               <u>aimin</u>   (rev 0 or newer) The Minimum Average Interval of the battery in milliseconds.

               <u>gra1</u>    Battery capacity granularity between <u>low</u> and <u>warning</u>.  This  is  expressed  as  power  or
                       current depending on the value of <u>units</u>.

               <u>gra2</u>    Battery  capacity  granularity  between  <u>warning</u> and <u>full</u>.  This is expressed as power or
                       current depending on the value of <u>units</u>.

               <u>model</u>   Model number of the battery as a string.

               <u>serial</u>  Serial number of the battery as a string.

               <u>type</u>    Type identifier of the battery as a string.

               <u>oeminfo</u>
                       OEM-specific information of the battery as a string.

               <u>scap</u>    (rev 1 or newer) Battery swapping capability encoded in the following:

                       ACPI_BIX_SCAP_NO (0x00000000)
                               Non-swappable

                       ACPI_BIX_SCAP_COLD (0x00000001)
                               Cold-swappable

                       ACPI_BIX_SCAP_HOT (0x00000010)
                               Hot-swappable

       ACPIIO_BATT_GET_BIF <u>struct</u> <u>acpi_bif</u>
               (deprecated) Returns battery information given by the ACPI  <b>_BIF</b>  (Battery  Information)  object,
               which  was  deprecated  in  ACPI  4.0  specification.   The  data structure is a subset of <u>struct</u>
               <u>acpi_bix</u>.

               Note that this ioctl will built a <u>struct</u> <u>acpi_bif</u> structure based  on  the  obtained  information
               even if this object is not available and a <b>_BIX</b> object is found.

       ACPIIO_BATT_GET_BST <u>struct</u> <u>acpi_bst</u>
               Returns  battery information given by the ACPI <b>_BST</b> (Battery Status) object, which is the present
               battery status.  In the case of a Smart Battery attached to SMBus, this ioctl will build a <u>struct</u>
               <u>acpi_bst</u> structure based on the obtained information and return it.

               <u>state</u>   Battery state.  The value is encoded in the same way as <u>state</u> of <u>struct</u> <u>acpi_battinfo</u>.

               <u>rate</u>    Battery present rate of charging or discharging.  The unit of the value depends  on  <u>unit</u>
                       of <u>struct</u> <u>acpi_bif</u>.

               <u>cap</u>     Battery remaining capacity.  The unit of this value depends on <u>unit</u> of <u>struct</u> <u>acpi_bif</u>.

               <u>volt</u>    Battery present voltage.

</pre><h4><b>SYSCTL</b> <b>VARIABLES</b></h4><pre>
       The following <u><a href="../man8/sysctl.8.html">sysctl</a></u>(8) variables export battery status.  Note that they are accumulated status of all of
       the connected batteries:

       <u>hw.acpi.battery.info_expire</u>
               Information  cache  expiration time in seconds.  The battery information obtained by <b>_BIX</b> or <b>_BIF</b>
               object will be stored and reused for successive read access to  this  MIB  within  the  specified
               period.

       <u>hw.acpi.battery.units</u>
               Number of battery units in the system.

       <u>hw.acpi.battery.state</u>
               Current battery charging status.  This is same as <u>state</u> of <u>struct</u> <u>acpi_battinfo</u>.

       <u>hw.acpi.battery.rate</u>
               Current battery discharging rate in mW.

       <u>hw.acpi.battery.time</u>
               Remaining battery life in minutes.  If the battery is not discharging, the value shows <b>-1</b>.

       <u>hw.acpi.battery.life</u>
               Battery capacity in percent.

</pre><h4><b>EVENT</b> <b>NOTIFICATIONS</b></h4><pre>
       Battery-related   event  notifications  are  sent  to  the  userland  via  the  <u><a href="../man8/devd.8.html">devd</a></u>(8)  interface.   See
       <u>/etc/devd.conf</u> and <u><a href="../man5/devd.conf.5.html">devd.conf</a></u>(5) for more details.  Note that notifications  are  supported  only  by  the
       Control Method Battery.

       The <b>acpi_battery</b> driver sends events with the following attributes:

       system     <b>ACPI</b>
       subsystem  <b>CMBAT</b>
       type       The fully qualified battery object path as in the ASL.
       notify     An integer designating the event:

                  <b>0x80</b>    Battery status was changed.
                  <b>0x81</b>    Battery information was changed.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <u><a href="../man4/acpi.4.html">acpi</a></u>(4), <u><a href="../man8/acpiconf.8.html">acpiconf</a></u>(8)

</pre><h4><b>AUTHORS</b></h4><pre>
       Nate  Lawson  &lt;<u><a href="mailto:njl@FreeBSD.org">njl@FreeBSD.org</a></u>&gt;,  Munehiro  Matsuda,  Takanori  Watanabe  &lt;<u><a href="mailto:takawata@FreeBSD.org">takawata@FreeBSD.org</a></u>&gt;, Mitsuru
       IWASAKI  &lt;<u><a href="mailto:iwasaki@FreeBSD.org">iwasaki@FreeBSD.org</a></u>&gt;,   Hans   Petter   Selasky   &lt;<u><a href="mailto:hselasky@FreeBSD.org">hselasky@FreeBSD.org</a></u>&gt;,   and   Hiroki   Sato
       &lt;<u><a href="mailto:hrs@FreeBSD.org">hrs@FreeBSD.org</a></u>&gt;.

       This   manual   page   was   written   by   Takanori  Watanabe  &lt;<u><a href="mailto:takawata@FreeBSD.org">takawata@FreeBSD.org</a></u>&gt;  and  Hiroki  Sato
       &lt;<u><a href="mailto:hrs@FreeBSD.org">hrs@FreeBSD.org</a></u>&gt;.

Debian                                          February 16, 2020                                <u><a href="../man4/ACPI_BATTERY.4.html">ACPI_BATTERY</a></u>(4)
</pre>
 </div>
</div></section>
</div>
</body>
</html>