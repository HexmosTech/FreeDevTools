<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>intro — introduction to devices and device drivers</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/freebsd-manpages">freebsd-manpages_12.2-2_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       intro — introduction to devices and device drivers

</pre><h4><b>DESCRIPTION</b></h4><pre>
       This section contains information related to devices, device drivers and miscellaneous hardware.

   <b>The</b> <b>device</b> <b>abstraction</b>
       Device is a term used mostly for hardware-related stuff that belongs to the system, like disks, printers,
       or  a  graphics display with its keyboard.  There are also so-called <u>pseudo-devices</u> where a device driver
       emulates the behaviour of a device in software without any particular  underlying  hardware.   A  typical
       example  for  the latter class is <u>/dev/mem</u>, a mechanism whereby the physical memory can be accessed using
       file access semantics.

       The device abstraction generally provides a common set of system  calls,  which  are  dispatched  to  the
       corresponding  device  driver  by  the upper layers of the kernel.  The set of system calls available for
       devices is chosen from <u><a href="../man2/open.2.html">open</a></u>(2), <u><a href="../man2/close.2.html">close</a></u>(2), <u><a href="../man2/read.2.html">read</a></u>(2), <u><a href="../man2/write.2.html">write</a></u>(2), <u><a href="../man2/ioctl.2.html">ioctl</a></u>(2), <u><a href="../man2/select.2.html">select</a></u>(2), and <u><a href="../man2/mmap.2.html">mmap</a></u>(2).   Not  all
       drivers implement all system calls; for example, calling <u><a href="../man2/mmap.2.html">mmap</a></u>(2) on a keyboard device is not likely to be
       useful.

       Aspects  of  the device abstraction have changed significantly in FreeBSD over the past two decades.  The
       section “Historical Notes” describes some of the more important differences.

   <b>Accessing</b> <b>Devices</b>
       Most of the devices in FreeBSD are accessed through <u>device</u> <u>nodes</u>, sometimes also  called  <u>special</u>  <u>files</u>.
       They  are  located  within  instances  of the <u><a href="../man5/devfs.5.html">devfs</a></u>(5) filesystem, which is conventionally mounted on the
       directory <u><a href="file:/dev">/dev</a></u> in the file system hierarchy (see also <u><a href="../man7/hier.7.html">hier</a></u>(7)).

       The <u><a href="../man5/devfs.5.html">devfs</a></u>(5) filesystem creates or removes device nodes automatically according to the physical  hardware
       recognized  as  present  at  any given time.  For pseudo-devices, device nodes may be created and removed
       dynamically as required, depending on the nature of the device.

       Access restrictions to device nodes are usually subject to the regular file  permissions  of  the  device
       node  entry, instead of being enforced directly by the drivers in the kernel.  But since device nodes are
       not stored persistently between reboots, those file permissions are set at boot time from rules specified
       in <u><a href="../man5/devfs.conf.5.html">devfs.conf</a></u>(5), or dynamically according to rules defined in <u><a href="../man5/devfs.rules.5.html">devfs.rules</a></u>(5) or set using  the  <u><a href="../man8/devfs.8.html">devfs</a></u>(8)
       command.   In  the  latter  case,  different  rules may be used to make different sets of devices visible
       within different instances of the <u><a href="../man5/devfs.5.html">devfs</a></u>(5) filesystem, which may be used, for example, to prevent  jailed
       subsystems  from  accessing unsafe devices.  Manual changes to device node permissions may still be made,
       but will not persist.

   <b>Drivers</b> <b>without</b> <b>device</b> <b>nodes</b>
       Drivers for network devices do not use device nodes in order to be accessed.  Their selection is based on
       other decisions inside the kernel, and instead of calling <u><a href="../man2/open.2.html">open</a></u>(2), use of a network device  is  generally
       introduced by using the system call <u><a href="../man2/socket.2.html">socket</a></u>(2).

   <b>Configuring</b> <b>a</b> <b>driver</b> <b>into</b> <b>the</b> <b>kernel</b>
       For  each  kernel,  there  is  a  configuration  file that is used as a base to select the facilities and
       drivers for that kernel, and to tune several options.  See <u><a href="../man8/config.8.html">config</a></u>(8) for a detailed  description  of  the
       files  involved.  The individual manual pages in this section provide a sample line for the configuration
       file   in   their   synopsis   portions.    See    also    the    files    <u>/usr/src/sys/conf/NOTES</u>    and
       <u>/usr/src/sys/${ARCH}/conf/NOTES</u>.

       Drivers  need  not  be  statically compiled into the kernel; they may also be loaded as modules, in which
       case any device nodes they provide will appear only after the module  is  loaded  (and  has  attached  to
       suitable hardware, if applicable).

   <b>Historical</b> <b>Notes</b>
       Prior  to  FreeBSD 6.0, device nodes could be created in the traditional way as persistent entries in the
       file system.  While such entries can still be created, they no longer function to access devices.

       Prior to FreeBSD 5.0, devices for disk and tape drives existed  in  two  variants,  known  as  <u>block</u>  and
       <u>character</u>  devices, or to use better terms, buffered and unbuffered (raw) devices.  The traditional names
       are reflected by the letters “<b>b</b>” and “<b>c</b>” as the file type identification in the output of “<b>ls</b>  <b>-l</b>”.   Raw
       devices were traditionally named with a prefix of “<b>r</b>”, for example <u>/dev/rda0</u> would denote the raw version
       of  the  disk  whose  buffered device was <u>/dev/da0</u>.  <u>This</u> <u>is</u> <u>no</u> <u>longer</u> <u>the</u> <u>case</u>; all disk devices are now
       “raw” in the traditional sense, even though they are not given “<b>r</b>” prefixes, and  “buffered”  devices  no
       longer exist at all.

       Buffered  devices  were  accessed through a buffer cache maintained by the operating system; historically
       this was the system's primary disk cache, but in FreeBSD this was rendered obsolete by  the  introduction
       of  unified  virtual  memory management.  Buffered devices could be read or written at any byte position,
       with the buffer mechanism handling the reading and writing of disk blocks.  In contrast, raw disk devices
       can be read or written only at positions and lengths that are multiples of the  underlying  device  block
       size,  and <u><a href="../man2/write.2.html">write</a></u>(2) calls are <u>synchronous</u>, not returning to the caller until the data has been handed off
       to the device.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <u><a href="../man2/close.2.html">close</a></u>(2), <u><a href="../man2/ioctl.2.html">ioctl</a></u>(2),  <u><a href="../man2/mmap.2.html">mmap</a></u>(2),  <u><a href="../man2/open.2.html">open</a></u>(2),  <u><a href="../man2/read.2.html">read</a></u>(2),  <u><a href="../man2/select.2.html">select</a></u>(2),  <u><a href="../man2/socket.2.html">socket</a></u>(2),  <u><a href="../man2/write.2.html">write</a></u>(2),  <u><a href="../man5/devfs.5.html">devfs</a></u>(5),  <u><a href="../man7/hier.7.html">hier</a></u>(7),
       <u><a href="../man8/config.8.html">config</a></u>(8)

</pre><h4><b>HISTORY</b></h4><pre>
       This manual page first appeared in FreeBSD 2.1.

</pre><h4><b>AUTHORS</b></h4><pre>
       This  man  page  has  been rewritten by Andrew Gierth from an earlier version written by Jörg Wunsch with
       initial input by David E. O'Brien.

Debian                                            April 3, 2019                                         <u><a href="../man4/INTRO.4.html">INTRO</a></u>(4)
</pre>
 </div>
</div></section>
</div>
</body>
</html>