<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ng_tty — netgraph node type that is also a TTY hook</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/freebsd-manpages">freebsd-manpages_12.2-2_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       ng_tty — netgraph node type that is also a TTY hook

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>#include</b> <b>&lt;sys/types.h&gt;</b>
       <b>#include</b> <b>&lt;sys/ttycom.h&gt;</b>
       <b>#include</b> <b>&lt;netgraph/ng_tty.h&gt;</b>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The <b>tty</b> node type is both a netgraph node type and a TTY hook.

       The  node  has a single hook called hook.  Incoming bytes received on the tty device are sent out on this
       hook, and frames received on hook are transmitted out on the tty device.  No modification to the data  is
       performed  in  either  direction.   While  the  hook  is  installed  on  a tty, the normal read and write
       operations are unavailable, returning EIO.

       Incoming data is delivered directly to ng_tty via the tty bypass hook as a  buffer  pointer  and  length,
       this is converted to a mbuf and passed to the peer.

       The  node  supports  an optional “hot character”.  If the driver can not deliver data directly to the tty
       bypass hook then each character is input one  at  a  time.   If  set  to  non-zero  and  bypass  mode  is
       unavailable,  incoming  data  from  the  tty  device is queued until this character is seen.  This avoids
       sending lots of mbufs containing a small number of bytes, but introduces  potentially  infinite  latency.
       The  default hot character is 0x7e, consistent with hook being connected to a <u><a href="../man4/ng_async.4.html">ng_async</a></u>(4) type node.  The
       hot character has no effect on the transmission of data.

</pre><h4><b>HOOKS</b></h4><pre>
       This node type supports the following hooks:

       <u>hook</u>  <u><a href="../man4/tty.4.html">tty</a></u>(4) serial data contained in mbuf structures, with arbitrary inter-frame boundaries.

</pre><h4><b>CONTROL</b> <b>MESSAGES</b></h4><pre>
       This node type supports the generic control messages, plus the following:

       NGM_TTY_SET_HOTCHAR
            This command takes an integer argument and sets the hot character from the  lower  8  bits.   A  hot
            character of zero disables queueing, so that all received data is forwarded immediately.

       NGM_TTY_GET_HOTCHAR
            Returns an integer containing the current hot character in the lower eight bits.

       NGM_TTY_SET_TTY
            This command takes integer process ID and file descriptor of open tty and registers the tty hooks.

</pre><h4><b>SHUTDOWN</b></h4><pre>
       This node shuts down when the corresponding device is closed.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <u><a href="../man2/ioctl.2.html">ioctl</a></u>(2), <u><a href="../man4/netgraph.4.html">netgraph</a></u>(4), <u><a href="../man4/ng_async.4.html">ng_async</a></u>(4), <u><a href="../man4/tty.4.html">tty</a></u>(4), <u><a href="../man8/ngctl.8.html">ngctl</a></u>(8)

</pre><h4><b>HISTORY</b></h4><pre>
       The <b>ng_tty</b> node type was implemented in FreeBSD 4.0.

</pre><h4><b>AUTHORS</b></h4><pre>
       Archie Cobbs &lt;<u><a href="mailto:archie@FreeBSD.org">archie@FreeBSD.org</a></u>&gt;
       Andrew Thompson &lt;<u><a href="mailto:thompsa@FreeBSD.org">thompsa@FreeBSD.org</a></u>&gt;

</pre><h4><b>BUGS</b></h4><pre>
       The  serial  driver code also has a notion of a “hot character”.  Unfortunately, this value is statically
       defined in terms of the line discipline and cannot be changed.  Therefore, if a hot character other  than
       0x7e  (the  default)  is  set  for the <b>ng_tty</b> node, the node has no way to convey this information to the
       serial driver, and sub-optimal performance may result.

Debian                                          December 25, 2008                                      <u><a href="../man4/NG_TTY.4.html">NG_TTY</a></u>(4)
</pre>
 </div>
</div></section>
</div>
</body>
</html>