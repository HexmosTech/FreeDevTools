<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>usb_quirk — USB quirks module</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/freebsd-manpages">freebsd-manpages_12.2-2_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       usb_quirk — USB quirks module

</pre><h4><b>SYNOPSIS</b></h4><pre>
       To compile this module into the kernel, place the following line in your kernel configuration file:

             <b>device</b> <b>usb</b>

       Alternatively, to load the module at boot time, place the following line in <u><a href="../man5/loader.conf.5.html">loader.conf</a></u>(5):

             usb_quirk_load="YES"

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The  <b>usb_quirk</b>  module  provides  support for dynamically adding and removing quirks for USB devices with
       <u><a href="../man8/usbconfig.8.html">usbconfig</a></u>(8).

</pre><h4><b>General</b> <b>quirks:</b></h4><pre>
       UQ_AUDIO_SWAP_LR
               swap left and right channels

       UQ_AU_INP_ASYNC
               input is async despite claim of adaptive

       UQ_AU_NO_FRAC
               do not adjust for fractional samples

       UQ_AU_NO_XU
               audio device has broken extension unit

       UQ_AU_VENDOR_CLASS
               audio device uses vendor class to identify itself

       UQ_AU_SET_SPDIF_CM6206
               audio device needs special programming to enable S/PDIF audio output

       UQ_BAD_ADC
               bad audio spec version number

       UQ_BAD_AUDIO
               device claims audio class, but is not

       UQ_BROKEN_BIDIR
               printer has broken bidir mode

       UQ_BUS_POWERED
               device is bus powered, despite claim

       UQ_HID_IGNORE
               device should be ignored by hid class

       UQ_KBD_IGNORE
               device should be ignored by kbd class

       UQ_KBD_BOOTPROTO
               device should set the boot protocol

       UQ_UMS_IGNORE
               device should be ignored by ums class

       UQ_MS_BAD_CLASS
               does not identify properly

       UQ_MS_LEADING_BYTE
               mouse sends an unknown leading byte

       UQ_MS_REVZ
               mouse has Z-axis reversed

       UQ_NO_STRINGS
               string descriptors are broken

       UQ_POWER_CLAIM
               hub lies about power status

       UQ_SPUR_BUT_UP
               spurious mouse button up events

       UQ_SWAP_UNICODE
               has some Unicode strings swapped

       UQ_CFG_INDEX_1
               select configuration index 1 by default

       UQ_CFG_INDEX_2
               select configuration index 2 by default

       UQ_CFG_INDEX_3
               select configuration index 3 by default

       UQ_CFG_INDEX_4
               select configuration index 4 by default

       UQ_CFG_INDEX_0
               select configuration index 0 by default

       UQ_ASSUME_CM_OVER_DATA
               assume cm over data feature

       UQ_WMT_IGNORE
               device should be ignored by wmt driver

</pre><h4><b>USB</b> <b>Mass</b> <b>Storage</b> <b>quirks:</b></h4><pre>
       UQ_MSC_NO_TEST_UNIT_READY
               send start/stop instead of TUR

       UQ_MSC_NO_RS_CLEAR_UA
               does not reset Unit Att.

       UQ_MSC_NO_START_STOP
               does not support start/stop

       UQ_MSC_NO_GETMAXLUN
               does not support get max LUN

       UQ_MSC_NO_INQUIRY
               fake generic inq response

       UQ_MSC_NO_INQUIRY_EVPD
               does not support inq EVPD

       UQ_MSC_NO_SYNC_CACHE
               does not support sync cache

       UQ_MSC_SHUTTLE_INIT
               requires Shuttle init sequence

       UQ_MSC_ALT_IFACE_1
               switch to alternate interface 1

       UQ_MSC_FLOPPY_SPEED
               does floppy speeds (20kb/s)

       UQ_MSC_IGNORE_RESIDUE
               gets residue wrong

       UQ_MSC_WRONG_CSWSIG
               uses wrong CSW signature

       UQ_MSC_RBC_PAD_TO_12
               pad RBC requests to 12 bytes

       UQ_MSC_READ_CAP_OFFBY1
               reports sector count, not max sec.

       UQ_MSC_FORCE_SHORT_INQ
               does not support full inq.

       UQ_MSC_FORCE_WIRE_BBB
               force BBB wire protocol

       UQ_MSC_FORCE_WIRE_CBI
               force CBI wire protocol

       UQ_MSC_FORCE_WIRE_CBI_I
               force CBI with int. wire protocol

       UQ_MSC_FORCE_PROTO_SCSI
               force SCSI command protocol

       UQ_MSC_FORCE_PROTO_ATAPI
               force ATAPI command protocol

       UQ_MSC_FORCE_PROTO_UFI
               force UFI command protocol

       UQ_MSC_FORCE_PROTO_RBC
               force RBC command protocol

</pre><h4><b>3G</b> <b>Datacard</b> <b>(u3g)</b> <b>quirks:</b></h4><pre>
       UQ_MSC_EJECT_HUAWEI
               ejects after Huawei USB command

       UQ_MSC_EJECT_SIERRA
               ejects after Sierra USB command

       UQ_MSC_EJECT_SCSIEJECT
               ejects after SCSI eject command 0x1b0000000200

       UQ_MSC_EJECT_REZERO
               ejects after SCSI rezero command 0x010000000000

       UQ_MSC_EJECT_ZTESTOR
               ejects after ZTE SCSI command 0x850101011801010101010000

       UQ_MSC_EJECT_CMOTECH
               ejects after C-motech SCSI command 0xff52444556434847

       UQ_MSC_EJECT_WAIT
               wait for the device to eject

       UQ_MSC_EJECT_SAEL_M460
               ejects after Sael USB commands

       UQ_MSC_EJECT_HUAWEISCSI
               ejects after Huawei SCSI command 0x11060000000000000000000000000000

       UQ_MSC_EJECT_TCT
               ejects after TCT SCSI command 0x06f504025270

       UQ_MSC_DYMO_EJECT
               ejects after HID command 0x1b5a01

       See <u>/sys/dev/usb/quirk/usb_quirk.h</u> or run "usbconfig dump_quirk_names" for the complete list of supported
       quirks.

</pre><h4><b>LOADER</b> <b>TUNABLE</b></h4><pre>
       The following tunable can be set at the  <u><a href="../man8/loader.8.html">loader</a></u>(8)  prompt  before  booting  the  kernel,  or  stored  in
       <u><a href="../man5/loader.conf.5.html">loader.conf</a></u>(5).

       <u>hw.usb.quirk.%d</u>
               The value is a string whose format is:

                     "VendorId ProductId LowRevision HighRevision UQ_QUIRK,..."

               Installs the quirks <b>UQ_QUIRK,...</b> for all USB devices matching <b>VendorId</b> and <b>ProductId</b> which have a
               hardware revision between and including <b>LowRevision</b> and <b>HighRevision</b>.

               <b>VendorId</b>, <b>ProductId</b>, <b>LowRevision</b> and <b>HighRevision</b> are all 16 bits numbers which can be decimal or
               hexadecimal based.

               A maximum of 100 variables <b>hw.usb.quirk.0,</b> <b>.1,</b> <b>...,</b> <b>.99</b> can be defined.

               If  a  matching  entry  is found in the kernel's internal quirks table, it is replaced by the new
               definition.

               Else a new entry is created given that the quirk table is not full.

               The kernel iterates over the <b>hw.usb.quirk.N</b> variables starting at <b>N</b> <b>=</b> <b>0</b> and stops at <b>N</b>  <b>=</b>  <b>99</b>  or
               the first non-existing one.

</pre><h4><b>EXAMPLES</b></h4><pre>
       After attaching a <b>u3g</b> device which appears as a USB device on <u>ugen0.3</u>:

             usbconfig -d ugen0.3 add_quirk UQ_MSC_EJECT_WAIT

       Enable a Holtec/Keep Out F85 gaming keyboard on <u>ugen1.4</u>:

             usbconfig -d ugen1.4 add_quirk UQ_KBD_BOOTPROTO

       To install a quirk at boot time, place one or several lines like the following in <u><a href="../man5/loader.conf.5.html">loader.conf</a></u>(5):

             hw.usb.quirk.0="0x04d9 0xfa50 0 0xffff UQ_KBD_IGNORE"

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <u><a href="../man8/usbconfig.8.html">usbconfig</a></u>(8)

</pre><h4><b>HISTORY</b></h4><pre>
       The   <b>usb_quirk</b>   module   appeared   in   FreeBSD   8.0,   and   was  written  by  Hans  Petter  Selasky
       &lt;<u><a href="mailto:hselasky@FreeBSD.org">hselasky@FreeBSD.org</a></u>&gt;.  This manual page was written by Nick Hibma &lt;<u><a href="mailto:n_hibma@FreeBSD.org">n_hibma@FreeBSD.org</a></u>&gt;.

Debian                                           August 19, 2017                                    <u><a href="../man4/USB_QUIRK.4.html">USB_QUIRK</a></u>(4)
</pre>
 </div>
</div></section>
</div>
</body>
</html>