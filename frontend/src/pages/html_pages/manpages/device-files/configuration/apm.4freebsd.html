<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>apm — APM BIOS interface</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/freebsd-manpages">freebsd-manpages_12.2-2_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       apm — APM BIOS interface

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>device</b> <b>apm</b>

</pre><h4><b>DEPRECATION</b> <b>NOTICE</b></h4><pre>
       This driver is scheduled for removal prior to the release of FreeBSD 13.0.

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>apm</b> is an interface to the Intel / Microsoft APM (Advanced Power Management) BIOS on laptop PCs.

       <b>apm</b> provides the following power management functions.

             1.   When the system wakes up from suspended mode, <b>apm</b> adjusts the system clock to RTC.

             2.   When the system wakes up from suspended mode, <b>apm</b> passes a message to <u><a href="../man8/syslogd.8.html">syslogd</a></u>(8) comprising of
                  system wakeup time and elapsed time during suspended mode.

             3.   <b>apm</b>  slows  CPU  clock  when  there  are no system activities (runnable processes, interrupts,
                  etc.).  This function is available only on systems whose APM supports CPU idling.

             4.   <b>apm</b> exports an application interface as a character device.  Applications can control APM,  or
                  retrieve  APM  status  information  via this interface.  <b>apm</b> exports the following interfaces.
                  These symbols are defined in &lt;<u>machine/apm_bios.h</u>&gt;.

                        <b>APMIO_SUSPEND</b>
                              Suspend system.

                        <b>APMIO_GET</b>
                              Get power management information.

                        <b>APMIO_ENABLE</b>

                        <b>APMIO_DISABLE</b>
                              Enable / Disable power management.

                        <b>APMIO_HALTCPU</b>

                        <b>APMIO_NOTHALTCPU</b>
                              Control execution of HLT in the kernel context switch routine.

                        <b>APMIO_GETPWSTATUS</b>
                              Get per battery information.

                              Some APM implementations execute the HLT (Halt  CPU  until  an  interrupt  occurs)
                              instruction  in  the “<u>Idle</u> <u>CPU</u>” call, while others do not.  Thus enabling this may
                              result in redundant HLT executions because “<u>Idle</u> <u>CPU</u>” is called  from  the  kernel
                              context  switch routine that inherently executes HLT.  This may reduce peak system
                              performance.

                              Also the system hangs up if HLT instruction is  disabled  in  the  kernel  context
                              switch  routine, and if the APM implementation of the machine does not execute HLT
                              in “<u>Idle</u> <u>CPU</u>”.  On some implementations that do not support  CPU  clock  slowdown,
                              APM  might  not  execute  HLT.   <b>apm</b>  disables  <b>APMIO_NOTHALTCPU</b> operation on such
                              machines.

                              The current version of <b>apm</b> does not call “<u>Idle</u> <u>CPU</u>” from the kernel context switch
                              routine if clock slowdown is not supported, and it  executes  HLT  instruction  by
                              default.  Therefore, there is no need to use these two operations in most cases.

                  These interfaces are used by <u><a href="../man8/apm.8.html">apm</a></u>(8).

             5.   <b>apm</b> polls APM events and handles the following events.

                  <b>Name</b>                 <b>Action</b>           <b>Description</b>
                  PMEV_STANDBYREQ      suspend system   standby request
                  PMEV_SUSPENDREQ      suspend system   suspend request
                  PMEV_USERSUSPENDREQ  suspend system   user suspend request
                  PMEV_CRITSUSPEND     suspend system   critical suspend request
                  PMEV_NORMRESUME      resume system    normal resume
                  PMEV_CRITRESUME      resume system    critical resume
                  PMEV_STANDBYRESUME   resume system    standby resume
                  PMEV_BATTERYLOW      notify message   battery low
                  PMEV_UPDATETIME      adjust clock     update time

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <u><a href="../man8/apm.8.html">apm</a></u>(8), <u><a href="../man8/zzz.8.html">zzz</a></u>(8)

</pre><h4><b>AUTHORS</b></h4><pre>
       Tatsumi Hosokawa &lt;<u><a href="mailto:hosokawa@jp.FreeBSD.org">hosokawa@jp.FreeBSD.org</a></u>&gt;

</pre><h4><b>BUGS</b></h4><pre>
       WARNING!   Many,  if not most, of the implementations of APM-bios in laptops today are buggy.  You may be
       putting your LCD-display and batteries at a risk by using this interface.  (The  reason  this  is  not  a
       problem  for  MS-Windows  is  that they use the real-mode interface.)  If you see any weird behavior from
       your system with this code in use, unplug the power and batteries ASAP, if not immediately,  and  disable
       this code.

       We  are  very  interested in getting this code working, so please send your observations of any anomalous
       behavior to us.

       When <b>apm</b> is active, calling the BIOS setup routine by using hot-keys,  may  cause  serious  trouble  when
       resuming the system.  BIOS setup programs should be called during bootstrap, or from DOS.

       Some  APM implementations cannot handle events such as pushing the power button or closing the cover.  On
       such implementations, the system <u>must</u> be suspended <u>only</u> by using <u><a href="../man8/apm.8.html">apm</a></u>(8) or <u><a href="../man8/zzz.8.html">zzz</a></u>(8).

       Disk spin-down, LCD backlight control, and power on  demand  have  not  been  supported  on  the  current
       version.

Debian                                          November 1, 1994                                          <u><a href="../man4/APM.4.html">APM</a></u>(4)
</pre>
 </div>
</div></section>
</div>
</body>
</html>