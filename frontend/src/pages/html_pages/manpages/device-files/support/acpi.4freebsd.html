<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>acpi — Advanced Configuration and Power Management support</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/freebsd-manpages">freebsd-manpages_12.2-2_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       acpi — Advanced Configuration and Power Management support

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>device</b> <b>acpi</b>

       <b>options</b> <b>ACPI_DEBUG</b>
       <b>options</b> <b>DDB</b>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The  <b>acpi</b>  driver  provides  support  for the Intel/Microsoft/Compaq/Toshiba ACPI standard.  This support
       includes platform hardware discovery (superseding the PnP and PCI BIOS),  as  well  as  power  management
       (superseding  APM)  and  other  features.   ACPI  core  support  is  provided  by  the  ACPI CA reference
       implementation from Intel.

       Note that the <b>acpi</b> driver is automatically loaded by the <u><a href="../man8/loader.8.html">loader</a></u>(8), and should only be compiled into  the
       kernel on platforms where ACPI is mandatory.

</pre><h4><b>SYSCTL</b> <b>VARIABLES</b></h4><pre>
       The  <b>acpi</b>  driver  is  intended  to  provide  power management without user intervention.  If the default
       settings are not optimal, the following sysctls can be used to modify or  monitor  <b>acpi</b>  behavior.   Note
       that some variables will be available only if the given hardware supports them (such as <u>hw.acpi.acline</u>).

       <u>debug.acpi.enable_debug_objects</u>
               Enable dumping Debug objects without <b>options</b> <b>ACPI_DEBUG</b>.  Default is 0, ignore Debug objects.

       <u>dev.cpu.N.cx_usage</u>
               Debugging  information  listing  the percent of total usage for each sleep state.  The values are
               reset when <u>dev.cpu.N.cx_lowest</u> is modified.

       <u>dev.cpu.N.cx_lowest</u>
               Lowest Cx state to use for idling the CPU.  A scheduling algorithm will select states between  <b>C1</b>
               and this setting as system load dictates.  To enable ACPI CPU idling control, <u>machdep.idle</u> should
               be set to <b>acpi</b> if it is listed in <u>machdep.idle_available</u>.

       <u>hw.acpi.cpu.cx_supported</u>
               List of supported CPU idle states and their transition latency in microseconds.  Each state has a
               type  (e.g.,  <b>C2</b>).  <b>C1</b> is equivalent to the ia32 <b>HLT</b> instruction, <b>C2</b> provides a deeper sleep with
               the same semantics, and <b>C3</b> provides the deepest sleep but additionally requires bus mastering  to
               be  disabled.   States greater than <b>C3</b> provide even more power savings with the same semantics as
               the <b>C3</b> state.  Deeper sleeps provide more power savings but increased transition latency when  an
               interrupt occurs.

       <u>dev.cpu.N.cx_method</u>
               List of supported CPU idle states and their transition methods, as directed by the firmware.

       <u>hw.acpi.acline</u>
               AC line state (1 means online, 0 means on battery power).

       <u>hw.acpi.disable_on_reboot</u>
               Disable  ACPI  during  the reboot process.  Most systems reboot fine with ACPI still enabled, but
               some require exiting to legacy mode first.  Default is 0, leave ACPI enabled.

       <u>hw.acpi.handle_reboot</u>
               Use the ACPI Reset Register capability to reboot the system.  Some newer systems require  use  of
               this register, while some only work with legacy rebooting support.

       <u>hw.acpi.lid_switch_state</u>
               Suspend  state (<b>S1</b>–<b>S5</b>) to enter when the lid switch (i.e., a notebook screen) is closed.  Default
               is “<b>NONE</b>” (do nothing).

       <u>hw.acpi.power_button_state</u>
               Suspend state (<b>S1</b>–<b>S5</b>) to enter when the power  button  is  pressed.   Default  is  <b>S5</b>  (power-off
               nicely).

       <u>hw.acpi.reset_video</u>
               Reset  the  video  adapter  from  real mode during the resume path.  Some systems need this help,
               others have display problems if it is enabled.  Default is 0 (disabled).

       <u>hw.acpi.s4bios</u>
               Indicate whether the system supports <b>S4BIOS</b>.  This  means  that  the  BIOS  can  handle  all  the
               functions  of  suspending the system to disk.  Otherwise, the OS is responsible for suspending to
               disk (<b>S4OS</b>).  Most current systems do not support <b>S4BIOS</b>.

       <u>hw.acpi.sleep_button_state</u>
               Suspend state (<b>S1</b>–<b>S5</b>) to enter when the sleep button is  pressed.   This  is  usually  a  special
               function button on the keyboard.  Default is <b>S3</b> (suspend-to-RAM).

       <u>hw.acpi.sleep_delay</u>
               Wait  this  number  of  seconds between preparing the system to suspend and actually entering the
               suspend state.  Default is 1 second.

       <u>hw.acpi.supported_sleep_state</u>
               Suspend states (<b>S1</b>–<b>S5</b>) supported by the BIOS.

               <b>S1</b>      Quick suspend to RAM.  The CPU enters a lower power state, but most peripherals are  left
                       running.

               <b>S2</b>      Lower  power  state  than  <b>S1</b>, but with the same basic characteristics.  Not supported by
                       many systems.

               <b>S3</b>      Suspend to RAM.  Most devices are powered off, and the system stops  running  except  for
                       memory refresh.

               <b>S4</b>      Suspend  to  disk.   All  devices  are  powered  off, and the system stops running.  When
                       resuming, the system starts as if from a cold power on.  Not  yet  supported  by  FreeBSD
                       unless <b>S4BIOS</b> is available.

               <b>S5</b>      System shuts down cleanly and powers off.

       <u>hw.acpi.verbose</u>
               Enable verbose printing from the various ACPI subsystems.

</pre><h4><b>LOADER</b> <b>TUNABLES</b></h4><pre>
       Tunables  can  be  set  at the <u><a href="../man8/loader.8.html">loader</a></u>(8) prompt before booting the kernel or stored in <u>/boot/loader.conf</u>.
       Many of these tunables also have a matching <u><a href="../man8/sysctl.8.html">sysctl</a></u>(8) entry for access after boot.

       <u>acpi_dsdt_load</u>
               Enables loading of a custom ACPI DSDT.

       <u>acpi_dsdt_name</u>
               Name of the DSDT table to load, if loading is enabled.

       <u>debug.acpi.cpu_unordered</u>
               Do not use the MADT to match ACPI Processor objects to CPUs.  This is needed  on  a  few  systems
               with a buggy BIOS that does not use consistent processor IDs.  Default is 0 (disabled).

       <u>debug.acpi.disabled</u>
               Selectively disables portions of ACPI for debugging purposes.

       <u>debug.acpi.interpreter_slack</u>
               Enable less strict ACPI implementations.  Default is 1, ignore common BIOS mistakes.

       <u>debug.acpi.max_threads</u>
               Specify  the  number  of task threads that are started on boot.  Limiting this to 1 may help work
               around various BIOSes that cannot handle parallel requests.  The default value is 3.

       <u>debug.acpi.quirks</u>
               Override any automatic quirks completely.

       <u>debug.acpi.resume_beep</u>
               Beep the PC speaker on resume.  This can help diagnose suspend/resume  problems.   Default  is  0
               (disabled).

       <u>hint.acpi.0.disabled</u>
               Set  this  to  1  to  disable  all  of  ACPI.   If ACPI has been disabled on your system due to a
               blacklist entry for your BIOS, you can set this to 0 to re-enable ACPI for testing.

       <u>hw.acpi.ec.poll_timeout</u>
               Delay in milliseconds to wait for the EC to respond.  Try increasing this number if you  get  the
               error "<b>AE_NO_HARDWARE_RESPONSE</b>".

       <u>hw.acpi.host_mem_start</u>
               Override the assumed memory starting address for PCI host bridges.

       <u>hw.acpi.install_interface</u>, <u>hw.acpi.remove_interface</u>
               Install  or  remove  OS  interface(s) to control return value of ‘_OSI’ query method.  When an OS
               interface is specified in <u>hw.acpi.install_interface</u>, <b>_OSI</b> query for the interface returns  it  is
               <u>supported</u>.  Conversely, when an OS interface is specified in <u>hw.acpi.remove_interface</u>, <b>_OSI</b> query
               returns  it is <u>not</u> <u>supported</u>.  Multiple interfaces can be specified in a comma-separated list and
               any leading white spaces will be ignored.  For example, "<b>FreeBSD,</b> <b>Linux</b>" is a valid list  of  two
               interfaces "<b>FreeBSD</b>" and "<b>Linux</b>".

       <u>hw.acpi.reset_video</u>
               Enables  calling the VESA reset BIOS vector on the resume path.  This can fix some graphics cards
               that have problems such as LCD white-out after resume.  Default is 0 (disabled).

       <u>hw.acpi.serialize_methods</u>
               Allow override of whether methods execute in parallel or not.  Enable this for  serial  behavior,
               which  fixes  "<b>AE_ALREADY_EXISTS</b>"  errors  for  AML  that  really  cannot  handle parallel method
               execution.  It is off by default since this breaks recursive methods and some IBMs use such code.

       <u>hw.acpi.verbose</u>
               Turn on verbose debugging information about what ACPI is doing.

       <u>hw.pci.link.%s.%d.irq</u>
               Override the interrupt to use for this link and index.  This capability should be used carefully,
               and only if a device is not working with <b>acpi</b> enabled.  "%s" is  the  name  of  the  link  (e.g.,
               LNKA).   "%d"  is  the  resource index when the link supports multiple IRQs.  Most PCI links only
               have one IRQ resource, so the below form should be used.

       <u>hw.pci.link.%s.irq</u>
               Override the interrupt to use.  This capability should be used carefully, and only if a device is
               not working with <b>acpi</b> enabled.  "%s" is the name of the link (e.g., LNKA).

</pre><h4><b>DISABLING</b> <b>ACPI</b></h4><pre>
       Since ACPI support on different platforms varies greatly, there are many  debugging  and  tuning  options
       available.

       For  machines  known  not to work with <b>acpi</b> enabled, there is a BIOS blacklist.  Currently, the blacklist
       only controls whether <b>acpi</b> should be disabled or not.  In the future, it will have  more  granularity  to
       control features (the infrastructure for that is already there).

       To  enable  <b>acpi</b>  (for  debugging  purposes,  etc.) on machines that are on the blacklist, set the kernel
       environment variable <u>hint.acpi.0.disabled</u> to 0.  Before trying this, consider updating  your  BIOS  to  a
       more recent version that may be compatible with ACPI.

       To disable the <b>acpi</b> driver completely, set the kernel environment variable <u>hint.acpi.0.disabled</u> to 1.

       Some  i386  machines totally fail to operate with some or all of ACPI disabled.  Other i386 machines fail
       with ACPI enabled.  Disabling all or part of ACPI on  non-i386  platforms  (i.e.,  platforms  where  ACPI
       support is mandatory) may result in a non-functional system.

       The  <b>acpi</b>  driver  comprises a set of drivers, which may be selectively disabled in case of problems.  To
       disable a sub-driver, list it in the kernel environment variable <u>debug.acpi.disabled</u>.   Multiple  entries
       can be listed, separated by a space.

       ACPI sub-devices and features that can be disabled:

       <b>all</b>          Disable all ACPI features and devices.

       <b>acad</b>         (<u>device</u>) Supports AC adapter.

       <b>bus</b>          (<u>feature</u>)  Probes and attaches subdevices.  Disabling will avoid scanning the ACPI namespace
                    entirely.

       <b>children</b>     (<u>feature</u>) Attaches standard ACPI sub-drivers and devices enumerated in the  ACPI  namespace.
                    Disabling  this has a similar effect to disabling “<b>bus</b>”, except that the ACPI namespace will
                    still be scanned.

       <b>button</b>       (<u>device</u>) Supports ACPI button devices (typically power and sleep buttons).

       <b>cmbat</b>        (<u>device</u>) Control-method batteries device.

       <b>cpu</b>          (<u>device</u>) Supports CPU power-saving and speed-setting functions.

       <b>ec</b>           (<u>device</u>) Supports the ACPI Embedded Controller interface, used to communicate with  embedded
                    platform controllers.

       <b>isa</b>          (<u>device</u>) Supports an ISA bus bridge defined in the ACPI namespace, typically as a child of a
                    PCI bus.

       <b>lid</b>          (<u>device</u>) Supports an ACPI laptop lid switch, which typically puts a system to sleep.

       <b>mwait</b>        (<u>feature</u>)  Do  not  ask firmware for available x86-vendor specific methods to enter <b>Cx</b> sleep
                    states.  Only query and use the generic I/O-based entrance method.  The knob is provided  to
                    work around inconsistencies in the tables filled by firmware.

       <b>quirks</b>       (<u>feature</u>) Do not honor quirks.  Quirks automatically disable ACPI functionality based on the
                    XSDT table's OEM vendor name and revision date.

       <b>pci</b>          (<u>device</u>) Supports Host to PCI bridges.

       <b>pci_link</b>     (<u>feature</u>) Performs PCI interrupt routing.

       <b>sysresource</b>  (<u>device</u>) Pseudo-devices containing resources which ACPI claims.

       <b>thermal</b>      (<u>device</u>) Supports system cooling and heat management.

       <b>timer</b>        (<u>device</u>) Implements a timecounter using the ACPI fixed-frequency timer.

       <b>video</b>        (<u>device</u>) Supports <u><a href="../man4/acpi_video.4.html">acpi_video</a></u>(4) which may conflict with <u><a href="../man4/agp.4.html">agp</a></u>(4) device.

       It is also possible to avoid portions of the ACPI namespace which may be causing problems, by listing the
       full  path  of  the root of the region to be avoided in the kernel environment variable <u>debug.acpi.avoid</u>.
       The object and all of its children will be ignored during the bus/children scan of  the  namespace.   The
       ACPI CA code will still know about the avoided region.

</pre><h4><b>DEBUGGING</b> <b>OUTPUT</b></h4><pre>
       To enable debugging output, <b>acpi</b> must be compiled with <b>options</b> <b>ACPI_DEBUG</b>.  Debugging output is separated
       between  layers  and  levels,  where  a  layer  is  a  component  of the ACPI subsystem, and a level is a
       particular kind of debugging output.

       Both layers and levels are specified as a whitespace-separated list of  tokens,  with  layers  listed  in
       <u>debug.acpi.layer</u> and levels in <u>debug.acpi.level</u>.

       The  first  set  of layers is for ACPI-CA components, and the second is for FreeBSD drivers.  The ACPI-CA
       layer descriptions include the prefix for the files they refer to.  The supported layers are:

       <b>ACPI_UTILITIES</b>        Utility ("ut") functions
       <b>ACPI_HARDWARE</b>         Hardware access ("hw")
       <b>ACPI_EVENTS</b>           Event and GPE ("ev")
       <b>ACPI_TABLES</b>           Table access ("tb")
       <b>ACPI_NAMESPACE</b>        Namespace evaluation ("ns")
       <b>ACPI_PARSER</b>           AML parser ("ps")
       <b>ACPI_DISPATCHER</b>       Internal representation of interpreter state ("ds")
       <b>ACPI_EXECUTER</b>         Execute AML methods ("ex")
       <b>ACPI_RESOURCES</b>        Resource parsing ("rs")
       <b>ACPI_CA_DEBUGGER</b>      Debugger implementation ("db", "dm")
       <b>ACPI_OS_SERVICES</b>      Usermode support routines ("os")
       <b>ACPI_CA_DISASSEMBLER</b>  Disassembler implementation (unused)
       <b>ACPI_ALL_COMPONENTS</b>   All the above ACPI-CA components
       <b>ACPI_AC_ADAPTER</b>       AC adapter driver
       <b>ACPI_BATTERY</b>          Control-method battery driver
       <b>ACPI_BUS</b>              ACPI, ISA, and PCI bus drivers
       <b>ACPI_BUTTON</b>           Power and sleep button driver
       <b>ACPI_EC</b>               Embedded controller driver
       <b>ACPI_FAN</b>              Fan driver
       <b>ACPI_OEM</b>              Platform-specific driver for hotkeys, LED, etc.
       <b>ACPI_POWER</b>            Power resource driver
       <b>ACPI_PROCESSOR</b>        CPU driver
       <b>ACPI_THERMAL</b>          Thermal zone driver
       <b>ACPI_TIMER</b>            Timer driver
       <b>ACPI_ALL_DRIVERS</b>      All the above FreeBSD ACPI drivers

       The supported levels are:

       <b>ACPI_LV_INIT</b>             Initialization progress
       <b>ACPI_LV_DEBUG_OBJECT</b>     Stores to objects
       <b>ACPI_LV_INFO</b>             General information and progress
       <b>ACPI_LV_REPAIR</b>           Repair a common problem with predefined methods
       <b>ACPI_LV_ALL_EXCEPTIONS</b>   All the previous levels
       <b>ACPI_LV_PARSE</b>
       <b>ACPI_LV_DISPATCH</b>
       <b>ACPI_LV_EXEC</b>
       <b>ACPI_LV_NAMES</b>
       <b>ACPI_LV_OPREGION</b>
       <b>ACPI_LV_BFIELD</b>
       <b>ACPI_LV_TABLES</b>
       <b>ACPI_LV_VALUES</b>
       <b>ACPI_LV_OBJECTS</b>
       <b>ACPI_LV_RESOURCES</b>
       <b>ACPI_LV_USER_REQUESTS</b>
       <b>ACPI_LV_PACKAGE</b>
       <b>ACPI_LV_VERBOSITY1</b>       All the previous levels
       <b>ACPI_LV_ALLOCATIONS</b>
       <b>ACPI_LV_FUNCTIONS</b>
       <b>ACPI_LV_OPTIMIZATIONS</b>
       <b>ACPI_LV_VERBOSITY2</b>       All the previous levels
       <b>ACPI_LV_ALL</b>              Synonym for "<b>ACPI_LV_VERBOSITY2</b>"
       <b>ACPI_LV_MUTEX</b>
       <b>ACPI_LV_THREADS</b>
       <b>ACPI_LV_IO</b>
       <b>ACPI_LV_INTERRUPTS</b>
       <b>ACPI_LV_VERBOSITY3</b>       All the previous levels
       <b>ACPI_LV_AML_DISASSEMBLE</b>
       <b>ACPI_LV_VERBOSE_INFO</b>
       <b>ACPI_LV_FULL_TABLES</b>
       <b>ACPI_LV_EVENTS</b>
       <b>ACPI_LV_VERBOSE</b>          All levels after "<b>ACPI_LV_VERBOSITY3</b>"
       <b>ACPI_LV_INIT_NAMES</b>
       <b>ACPI_LV_LOAD</b>

       Selection of the appropriate layer and level values is important to avoid massive  amounts  of  debugging
       output.   For  example,  the  following  configuration  is  a good way to gather initial information.  It
       enables debug output for both ACPI-CA and the <b>acpi</b>  driver,  printing  basic  information  about  errors,
       warnings, and progress.

             debug.acpi.layer="ACPI_ALL_COMPONENTS ACPI_ALL_DRIVERS"
             debug.acpi.level="ACPI_LV_ALL_EXCEPTIONS"

       Debugging  output  by  the ACPI CA subsystem is prefixed with the module name in lowercase, followed by a
       source line number.  Output from the FreeBSD-local code follows the same format, but the module  name  is
       uppercased.

</pre><h4><b>OVERRIDING</b> <b>YOUR</b> <b>BIOS</b> <b>BYTECODE</b></h4><pre>
       ACPI  interprets bytecode named AML (ACPI Machine Language) provided by the BIOS vendor as a memory image
       at boot time.  Sometimes, the AML code contains a bug that does not appear when parsed by  the  Microsoft
       implementation.   FreeBSD  provides  a  way to override it with your own AML code to work around or debug
       such problems.  Note that all AML in your DSDT and any SSDT tables is overridden.

       In order to load your AML code, you must edit <u>/boot/loader.conf</u> and include the following lines.

             acpi_dsdt_load="YES"
             acpi_dsdt_name="/boot/acpi_dsdt.aml" # You may change this name.

       In order to prepare your AML code, you will need the <u><a href="../man8/acpidump.8.html">acpidump</a></u>(8) and  <u><a href="../man8/iasl.8.html">iasl</a></u>(8)  utilities  and  some  ACPI
       knowledge.

</pre><h4><b>COMPATIBILITY</b></h4><pre>
       ACPI is only found and supported on i386/ia32 and amd64.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <u><a href="../man1/kenv.1.html">kenv</a></u>(1), <u><a href="../man4/acpi_thermal.4.html">acpi_thermal</a></u>(4), <u><a href="../man5/device.hints.5.html">device.hints</a></u>(5), <u><a href="../man5/loader.conf.5.html">loader.conf</a></u>(5), <u><a href="../man8/acpiconf.8.html">acpiconf</a></u>(8), <u><a href="../man8/acpidump.8.html">acpidump</a></u>(8), <u><a href="../man8/config.8.html">config</a></u>(8), <u><a href="../man8/iasl.8.html">iasl</a></u>(8)

       Compaq  Computer  Corporation,  Intel  Corporation, Microsoft Corporation, Phoenix Technologies Ltd., and
       Toshiba Corporation, <u>Advanced</u> <u>Configuration</u> <u>and</u> <u>Power</u> <u>Interface</u> <u>Specification</u>, <a href="http://acpi.info/spec.htm">http://acpi.info/spec.htm</a>,
       August 25, 2003.

</pre><h4><b>AUTHORS</b></h4><pre>
       The ACPI CA subsystem is developed and maintained by Intel Architecture Labs.

       The following people made notable contributions to the ACPI subsystem in FreeBSD: Michael Smith, Takanori
       Watanabe &lt;<u><a href="mailto:takawata@jp.FreeBSD.org">takawata@jp.FreeBSD.org</a></u>&gt;, Mitsuru  IWASAKI  &lt;<u><a href="mailto:iwasaki@jp.FreeBSD.org">iwasaki@jp.FreeBSD.org</a></u>&gt;,  Munehiro  Matsuda,  Nate
       Lawson, the ACPI-jp mailing list at ⟨<u><a href="mailto:acpi-jp@jp.FreeBSD.org">acpi-jp@jp.FreeBSD.org</a></u>⟩, and many other contributors.

       This manual page was written by Michael Smith &lt;<u><a href="mailto:msmith@FreeBSD.org">msmith@FreeBSD.org</a></u>&gt;.

</pre><h4><b>BUGS</b></h4><pre>
       Many  BIOS versions have serious bugs that may cause system instability, break suspend/resume, or prevent
       devices from operating properly due to IRQ routing problems.  Upgrade your BIOS  to  the  latest  version
       available from the vendor before deciding it is a problem with <b>acpi</b>.

Debian                                             May 9, 2015                                           <u><a href="../man4/ACPI.4.html">ACPI</a></u>(4)
</pre>
 </div>
</div></section>
</div>
</body>
</html>