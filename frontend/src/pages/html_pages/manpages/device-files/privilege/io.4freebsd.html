<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>io — I/O privilege file</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/freebsd-manpages">freebsd-manpages_12.2-2_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       io — I/O privilege file

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>device</b> <b>io</b>

       <b>#include</b> <b>&lt;sys/types.h&gt;</b>
       <b>#include</b> <b>&lt;sys/ioctl.h&gt;</b>
       <b>#include</b> <b>&lt;dev/io/iodev.h&gt;</b>
       <b>#include</b> <b>&lt;machine/iodev.h&gt;</b>

       struct iodev_pio_req {
               u_int access;
               u_int port;
               u_int width;
               u_int val;
       };

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The  special  file  <u>/dev/io</u>  is  a  controlled security hole that allows a process to gain I/O privileges
       (which are normally reserved for kernel-internal code).  This can be useful in order  to  write  userland
       programs that handle some hardware directly.

       The  usual  operations on the device are to open it via the <u><a href="../man2/open.2.html">open</a></u>(2) interface and to send I/O requests to
       the file descriptor using the <u><a href="../man2/ioctl.2.html">ioctl</a></u>(2) syscall.

       The <u><a href="../man2/ioctl.2.html">ioctl</a></u>(2) requests available for <u>/dev/io</u> are mostly platform dependent, but there  are  also  some  in
       common  between  all of them.  The IODEV_PIO is used by all the architectures in order to request that an
       I/O operation be performed.  It takes a 'struct iodev_pio_req' argument that must be previously setup.

       The <u>access</u> member specifies the type of operation requested.  It may be:

       IODEV_PIO_READ   The operation is an "in" type.  A value will be read from the specified port  (retrieved
                        from the <u>port</u> member) and the result will be stored in the <u>val</u> member.

       IODEV_PIO_WRITE  The  operation  is a "out" type.  The value will be fetched from the <u>val</u> member and will
                        be written out to the specified port (defined as the <u>port</u> member).

       Finally, the <u>width</u> member specifies the size of the operand to be read/written, expressed in bytes.

       In addition to any file access permissions on <u>/dev/io</u>, the kernel enforces that only the  super-user  may
       open this device.

</pre><h4><b>LEGACY</b></h4><pre>
       The  <u>/dev/io</u>  interface used to be very i386 specific and worked differently.  The initial implementation
       simply raised the <u>IOPL</u> of the current thread when <u><a href="../man2/open.2.html">open</a></u>(2) was called on the device.   This  behaviour  is
       retained in the current implementation as legacy support for both i386 and amd64 architectures.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <u><a href="../man2/close.2.html">close</a></u>(2), <u><a href="../man2/i386_get_ioperm.2.html">i386_get_ioperm</a></u>(2), <u><a href="../man2/i386_set_ioperm.2.html">i386_set_ioperm</a></u>(2), <u><a href="../man2/ioctl.2.html">ioctl</a></u>(2), <u><a href="../man2/open.2.html">open</a></u>(2), <u><a href="../man4/mem.4.html">mem</a></u>(4)

</pre><h4><b>HISTORY</b></h4><pre>
       The <b>io</b> file appeared in FreeBSD 1.0.

Debian                                            June 1, 2010                                             <u><a href="../man4/IO.4.html">IO</a></u>(4)
</pre>
 </div>
</div></section>
</div>
</body>
</html>