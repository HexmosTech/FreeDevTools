<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>cd — SCSI CD-ROM driver</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/freebsd-manpages">freebsd-manpages_12.2-2_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       cd — SCSI CD-ROM driver

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>device</b> <b>cd</b>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The <b>cd</b> driver provides support for a SCSI CD-ROM (Compact Disc-Read Only Memory) drive.  In an attempt to
       look  like  a  regular disk, the <b>cd</b> driver synthesizes a partition table, with one partition covering the
       entire CD-ROM.  It is possible to modify this partition table using <u><a href="../man8/disklabel.8.html">disklabel</a></u>(8), but it will  only  last
       until  the  CD-ROM  is unmounted.  In general the interfaces are similar to those described by <u><a href="../man4/ada.4.html">ada</a></u>(4) and
       <u><a href="../man4/da.4.html">da</a></u>(4).

       As the SCSI adapter is probed during boot, the SCSI bus is scanned for devices.  Any devices found  which
       answer  as  CDROM  (type  5) or WORM (type 4) type devices will be `attached' to the <b>cd</b> driver.  Prior to
       FreeBSD 2.1, the first device found will be attached as <b>cd0</b> the next, <b>cd1</b>, etc.  Beginning in FreeBSD 2.1
       it is possible to specify what cd unit a device should come on line as; refer to <u><a href="../man4/scsi.4.html">scsi</a></u>(4) for  details  on
       kernel configuration.

       The  system  utility  <u><a href="../man8/disklabel.8.html">disklabel</a></u>(8)  may  be used to read the synthesized disk label structure, which will
       contain correct figures for the size of the CD-ROM should that information be required.

</pre><h4><b>KERNEL</b> <b>CONFIGURATION</b></h4><pre>
       Any number of CD-ROM devices may be attached to the system regardless  of  system  configuration  as  all
       resources are dynamically allocated.

</pre><h4><b>IOCTLS</b></h4><pre>
       The  following  <u><a href="../man2/ioctl.2.html">ioctl</a></u>(2)  calls  which  apply  to  SCSI  CD-ROM  drives  are  defined in the header files
       &lt;<u>sys/cdio.h</u>&gt; and &lt;<u>sys/disklabel.h</u>&gt;.

       CDIOCPLAYTRACKS      (<b>struct</b> <b>ioc_play_track</b>) Start audio playback given a track address and length.   The
                            structure is defined as follows:

                                  struct ioc_play_track
                                  {
                                          u_char  start_track;
                                          u_char  start_index;
                                          u_char  end_track;
                                          u_char  end_index;
                                  };

       CDIOCPLAYBLOCKS      (<b>struct</b> <b>ioc_play_blocks</b>) Start audio playback given a block address and length.  The
                            structure is defined as follows:

                                  struct ioc_play_blocks
                                  {
                                          int     blk;
                                          int     len;
                                  };

       CDIOCPLAYMSF         (<b>struct</b>  <b>ioc_play_msf</b>) Start audio playback given a `minutes-seconds-frames' address
                            and length.  The structure is defined as follows:

                                  struct ioc_play_msf
                                  {
                                          u_char  start_m;
                                          u_char  start_s;
                                          u_char  start_f;
                                          u_char  end_m;
                                          u_char  end_s;
                                          u_char  end_f;
                                  };

       CDIOCREADSUBCHANNEL  (<b>struct</b> <b>ioc_read_subchannel</b>) Read information from the subchannel  at  the  location
                            specified by this structure:

                                  struct ioc_read_subchannel {
                                          u_char address_format;
                                  #define CD_LBA_FORMAT   1
                                  #define CD_MSF_FORMAT   2
                                          u_char data_format;
                                  #define CD_SUBQ_DATA            0
                                  #define CD_CURRENT_POSITION     1
                                  #define CD_MEDIA_CATALOG        2
                                  #define CD_TRACK_INFO           3
                                          u_char track;
                                          int     data_len;
                                          struct  cd_sub_channel_info *data;
                                  };

       CDIOREADTOCHEADER    (<b>struct</b>  <b>ioc_toc_header</b>)  Return summary information about the table of contents for
                            the mounted CD-ROM.  The information is returned into the following structure:

                                  struct ioc_toc_header {
                                          u_short len;
                                          u_char  starting_track;
                                          u_char  ending_track;
                                  };

       CDIOREADTOCENTRYS    (<b>struct</b> <b>ioc_read_toc_entry</b>) Return information from the table  of  contents  entries
                            mentioned.   (Yes,  this  command  name  is  misspelled.)  The argument structure is
                            defined as follows:

                                  struct ioc_read_toc_entry {
                                          u_char  address_format;
                                          u_char  starting_track;
                                          u_short data_len;
                                          struct  cd_toc_entry *data;
                                  };
                            The requested data is written into an area of size <b>data_len</b> and pointed to by <b>data</b>.

       CDIOCSETPATCH        (<b>struct</b> <b>ioc_patch</b>) Attach various audio channels to various  output  channels.   The
                            argument structure is defined thusly:

                                  struct ioc_patch {
                                          u_char  patch[4];
                                          /* one for each channel */
                                  };

       CDIOCGETVOL

       CDIOCSETVOL          (<b>struct</b>  <b>ioc_vol</b>)  Get  (set)  information  about  the volume settings of the output
                            channels.  The argument structure is as follows:

                                  struct  ioc_vol
                                  {
                                          u_char  vol[4];
                                          /* one for each channel */
                                  };

       CDIOCSETMONO         Patch all output channels to all source channels.

       CDIOCSETSTEREO       Patch left source channel to the left output channel and the right source channel to
                            the right output channel.

       CDIOCSETMUTE         Mute output without changing the volume settings.

       CDIOCSETLEFT

       CDIOCSETRIGHT        Attach both output channels to the left (right) source channel.

       CDIOCSETDEBUG

       CDIOCCLRDEBUG        Turn on (off) debugging for the appropriate device.

       CDIOCPAUSE

       CDIOCRESUME          Pause (resume) audio play, without resetting the location of the read-head.

       CDIOCRESET           Reset the drive.

       CDIOCSTART

       CDIOCSTOP            Tell the drive to spin-up (-down) the CD-ROM.

       CDIOCALLOW

       CDIOCPREVENT         Tell the drive to allow (prevent) manual ejection  of  the  CD-ROM  disc.   Not  all
                            drives support this feature.

       CDIOCEJECT           Eject the CD-ROM.

       CDIOCCLOSE           Tell  the  drive  to close its door and load the media.  Not all drives support this
                            feature.

</pre><h4><b>NOTES</b></h4><pre>
       When a CD-ROM is changed in a drive controlled by the <b>cd</b> driver, then the act of changing the media  will
       invalidate the disklabel and information held within the kernel.  To stop corruption, all accesses to the
       device  will  be  discarded until there are no more open file descriptors referencing the device.  During
       this period, all new open attempts will be rejected.  When no more open file  descriptors  reference  the
       device, the first next open will load a new set of parameters (including disklabel) for the drive.

       The  audio  code  in  the  <b>cd</b>  driver  only  support  SCSI-2  standard  audio  commands.   As many CD-ROM
       manufacturers have not followed the standard, there are many CD-ROM drives for which audio will not work.
       Some work is planned to support some of the more common `broken' CD-ROM drives; however, this is not  yet
       under way.

</pre><h4><b>SYSCTL</b> <b>VARIABLES</b></h4><pre>
       The following variables are available as both <u><a href="../man8/sysctl.8.html">sysctl</a></u>(8) variables and <u><a href="../man8/loader.8.html">loader</a></u>(8) tunables:

       kern.cam.cd.retry_count

           This  variable determines how many times the <b>cd</b> driver will retry a READ or WRITE command.  This does
           not affect the number of retries used during probe time or for the  <b>cd</b>  driver  dump  routine.   This
           value currently defaults to 4.

       kern.cam.cd.%d.minimum_cmd_size

           The  <b>cd</b> driver attempts to automatically determine whether the drive it is talking to supports 6 byte
           or 10 byte MODE SENSE/MODE SELECT operations.  Many SCSI drives only support  6  byte  commands,  and
           ATAPI  drives  only  support 10 byte commands.  The <b>cd</b> driver first attempts to determine whether the
           protocol in use typically supports 6 byte commands by issuing a CAM Path Inquiry CCB.  It  will  then
           default  to 6 byte or 10 byte commands as appropriate.  After that, the <b>cd</b> driver defaults to using 6
           byte commands (assuming the protocol the drive speaks claims to support 6 byte commands),  until  one
           fails  with a SCSI ILLEGAL REQUEST error.  Then it tries the 10 byte version of the command to see if
           that works instead.  Users can change the default via per-drive sysctl variables and loader tunables.
           Where “%d” is the unit number of the drive in question.  Valid minimum command sizes are  6  and  10.
           Any value above 6 will be rounded to 10, and any value below 6 will be rounded to 6.

</pre><h4><b>FILES</b></h4><pre>
       <u>/dev/cd[0-9][a-h]</u>  raw mode CD-ROM devices

</pre><h4><b>DIAGNOSTICS</b></h4><pre>
       None.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <u><a href="../man4/cam.4.html">cam</a></u>(4), <u><a href="../man4/da.4.html">da</a></u>(4), <u><a href="../man8/disklabel.8.html">disklabel</a></u>(8), <u><a href="../man9/cd.9.html">cd</a></u>(9)

</pre><h4><b>HISTORY</b></h4><pre>
       This <b>cd</b> driver is based upon the <b>cd</b> driver written by Julian Elischer, which appeared in 386BSD 0.1.  The
       CAM version of the <b>cd</b> driver was written by Kenneth Merry and first appeared in FreeBSD 3.0.

</pre><h4><b>BUGS</b></h4><pre>
       The  names  of  the structures used for the third argument to <b>ioctl</b>() were poorly chosen, and a number of
       spelling errors have survived in the names of the <b>ioctl</b>() commands.

Debian                                            April 9, 2014                                            <u><a href="../man4/CD.4.html">CD</a></u>(4)
</pre>
 </div>
</div></section>
</div>
</body>
</html>