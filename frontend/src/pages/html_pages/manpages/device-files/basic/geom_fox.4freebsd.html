<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>geom_fox — GEOM based basic disk multipathing</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/freebsd-manpages">freebsd-manpages_12.2-2_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       geom_fox — GEOM based basic disk multipathing

</pre><h4><b>SYNOPSIS</b></h4><pre>
       To compile this driver into the kernel, place the following line in your kernel configuration file:

             <b>options</b> <b>GEOM_FOX</b>

       Alternatively, to load the driver as a module at boot time, place the following line in <u><a href="../man5/loader.conf.5.html">loader.conf</a></u>(5):

             geom_fox_load="YES"

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>This</b> <b>driver</b> <b>is</b> <b>obsolete.</b>  <b>Users</b> <b>are</b> <b>advised</b> <b>to</b> <b>use</b> <u>gmultipath</u>(<b>8</b>) <b>instead.</b>  <b>This</b> <b>driver</b> <b>will</b> <b>be</b> <b>removed</b> <b>in</b>
       <b>FreeBSD</b> <b>12.</b>

       The  intent  of  the  <b>geom_fox</b> framework is to provide basic multipathing support to access direct access
       devices.  Basic in  the  above  sentence  should  be  read  as:  <b>geom_fox</b>  only  provides  path  failover
       functionality,  not  load  balancing  over the available paths etc.  Using suitable hardware like SCSI or
       FibreChannel disks it is possible to have multiple (typically  2)  host  bus  adapters  access  the  same
       physical disk drive.

       Without  a  multipathing driver the FreeBSD kernel would probe the disks multiple times, resulting in the
       creation of multiple <u><a href="file:/dev">/dev</a></u> entries for the same underlying physical device.  A unique label written in the
       GEOM label area allows <b>geom_fox</b> to detect multiple paths.  Using this information  it  creates  a  unique
       <u>da#.fox</u> device.

       The  <b>geom_fox</b>  device  is subsequently used by the FreeBSD kernel to access the disks.  Multiple physical
       access paths ensure that even in case of a path failure the FreeBSD kernel can  continue  to  access  the
       data.

       The <b>geom_fox</b> driver will disallow write operations to the underlying devices once the fox device has been
       opened for writing.

</pre><h4><b>EXAMPLES</b></h4><pre>
       <b>•</b>   <b>geom_fox</b> needs a label on the disk as follows in order to work properly:

           "0123456789abcdef0123456789abcdef"
           "GEOM::FOX       &lt;--unique--id--&gt;"

           For the unique ID 16 bytes are available.  The “<b>GEOM::FOX</b>” is the magic to mark a <b>geom_fox</b> device.

           The actual labelling is accomplished by

           echo "GEOM::FOX       someid" | dd of=/dev/da2 conv=sync

           For  FibreChannel  devices  it  is  suggested  to  use the Node World Wide Name (Node WWN) as this is
           guaranteed by the FibreChannel standard to be  worldwide  unique.   The  use  of  the  Port  WWN  not
           recommended as each port of a given device has a different WWN, thereby confusing things.

           The Node WWN can be obtained from a verbose boot as in for example

           isp1: Target 1 (Loop 0x1) Port ID 0xe8 (role Target) Arrived
            Port WWN 0x21000004cfc8aca2
            Node WWN 0x20000004cfc8aca2

           This Node WWN would then be used like so:

           echo "GEOM::FOX       20000004cfc8aca2" | dd of=/dev/da2 conv=sync

           For  non-FibreChannel  devices you could for example use the serial number of the device.  Regardless
           of what you use, make sure the label is unique.

           Once the labelling has been performed and assuming the <b>geom_fox</b> module  is  loaded  the  kernel  will
           inform you that it has found a new <b>geom_fox</b> device with a message similar to

           Creating new fox (da2)
           fox da2.fox lock 0xfffffc0000fdba20

       <b>•</b>   To check which physical devices match a given <b>geom_fox</b> device:

                 # geom fox list
                 Geom name: da2.fox
                 Providers:
                 1. Name: da2.fox
                    Mediasize: 73407865344 (68G)
                    Sectorsize: 512
                    Mode: r0w0e0
                 Consumers:
                 1. Name: da2
                    Mediasize: 73407865856 (68G)
                    Sectorsize: 512
                    Mode: r0w0e0
                 2. Name: da6
                    Mediasize: 73407865856 (68G)
                    Sectorsize: 512
                    Mode: r0w0e0

       <b>•</b>   To check the status of the <b>geom_fox</b> components:

           # geom fox status
              Name  Status  Components
           da2.fox     N/A  da2
                            da6

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <u><a href="../man4/GEOM.4.html">GEOM</a></u>(4), <u><a href="../man8/geom.8.html">geom</a></u>(8), <u><a href="../man8/gmultipath.8.html">gmultipath</a></u>(8)

</pre><h4><b>AUTHORS</b></h4><pre>
       The  <b>geom_fox</b> driver was written by Poul-Henning Kamp &lt;<u><a href="mailto:phk@FreeBSD.org">phk@FreeBSD.org</a></u>&gt;.  This manual page was written by
       Wilko Bulte &lt;<u><a href="mailto:wilko@FreeBSD.org">wilko@FreeBSD.org</a></u>&gt;.

</pre><h4><b>CAVEATS</b></h4><pre>
       The <b>geom_fox</b> driver depends on the underlying hardware drivers to do the right thing in case  of  a  path
       failure.   If  for  example  a  hardware  driver  continues to retry forever, <b>geom_fox</b> is not able to re-
       initiate the I/O to an alternative physical path.

       You have to be very sure to provide a unique label for each of the <b>geom_fox</b> devices.   Safety  belts  are
       not  provided.   For  FibreChannel  devices it is suggested to use the Port WWN of the device.  The World
       Wide Name is guaranteed to be worldwide unique per the FibreChannel standard.

</pre><h4><b>BUGS</b></h4><pre>
       The <b>geom_fox</b> framework has only seen light testing.  There definitely might be dragons here.

       The name <b>geom_fox</b> is completely obscure.  Just remember that any sly fox  has  multiple  exits  from  its
       hole.

       The examples provided are too FibreChannel-centric.

Debian                                         September 12, 2015                                    <u><a href="../man4/GEOM_FOX.4.html">GEOM_FOX</a></u>(4)
</pre>
 </div>
</div></section>
</div>
</body>
</html>