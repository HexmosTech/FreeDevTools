<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>filter - filter incoming messages before adding to mailbox</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/filter">filter_2.6.3+ds1-5_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       filter - filter incoming messages before adding to mailbox

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>filter</b> [-q] [-v] [-l] [-o output] [-f rules-file] [-m mailbox]
       <b>filter</b> [-n] [-f rules-file]
       <b>filter</b> [-r] [-o output] [-f rules-file]
       <b>filter</b> [-c] [-s] [-o output] [-f rules-file]
       <b>filter</b> [-c] [-S] [-o output] [-f rules-file]

</pre><h4><b>DESCRIPTION</b></h4><pre>
       In  brief,  <u>filter</u>  is  designed  to  sort incoming mail based on user preferences for various recognized
       headers.  It logs a summary of messages filtered to a logfile.  See the USAGE section for full details.

</pre><h4><b>OPTIONS</b></h4><pre>
       The flags the <u>filter</u> program understands are;

       <b>-c</b>        Clear logs.  If this flag is used, the log files will be  removed  after  being  summarized  by
                 either "-s" or "-S" (see below).

       <b>-f</b> <u>rules-file</u>
                 Get rules from specified file instead of default $HOME/.filter/filter-rules

       <b>-l</b>        Log actions only.  Do not log information about mailed messages.

       <b>-n</b>        Not  really.  Output what would happen if given message from standard input, but don't actually
                 do anything with it.

       <b>-o</b> <u>file</u>   Redirect stdout messages to the specified file or device.  Logging of  filter  actions  is  not
                 affected.   (This  is  added  to  more  gracefully  deal with changes in the file system (since
                 sendmail is quite picky about modes of files being redirected into.))

       <b>-m</b> <u>mailbox</u>
                 Override the compiled in definition of your primary 'mailbox'.  This is disabled if  filter  is
                 setgid.

       <b>-q</b>        Quiet.  Do not log filtering actions.

       <b>-r</b>        Rules.  List the rules currently being used.

       <b>-s</b>        Summarize.  List a summary of the message filtering log.

       <b>-S</b>        This is the same as `-s' but includes message-by-message information additionally.

       <b>-v</b>        Verbose.   Give  output on standard out for each message filtered.  May be useful to set output
                 to ``/dev/console'' or other logging device.  (see <b>-o</b>).

</pre><h4><b>USAGE</b></h4><pre>
       <u>Filter</u> uses a set of selection rules to process incoming mail messages. These rules are normally read  in
       from  $HOME/.filter/filter-rules.  As  soon  as  a rule matches something about the message, that rule is
       used, and no further action is taken.  The general format for a rule is;

               <b>if</b>  <b>(</b><u>expression</u><b>)</b>  <b>then</b>  <u>action</u>

       where <u>expression</u> is:

               <u>expression</u>  ::=  { <b>not</b> }  <u>condition</u>  { and <u>expression</u> }

               <u>condition</u>  ::=  <u>field</u>  <u>=</u>  <u>stringvalue</u>
                          ::=  <u>field</u>  <u>!=</u> <u>stringvalue</u>
                          ::=  <b>lines</b>  <u>relop</u>  <u>numvalue</u>
       or                 ::=  <b>always</b>

       These further break down as:

               <u>field</u>  ::=  <b>from</b>  |  <b>subject</b>  |  <b>alphasubject</b>  |  <b>to</b>  |  <b>lines</b> | <b>sender</b>

               <u>relop</u>  ::=  <b>=</b>  |  <b>!=</b>  |  <b>&lt;</b>  |  <b>&gt;</b>  |  <b>&lt;=</b>  |  <b>&gt;=</b>

               <u>stringvalue</u>  ::=  <u>any</u>  <u>quoted</u>  <u>string</u>

               <u>numvalue</u>  ::=  <u>any</u>  <u>integer</u>  <u>value</u>

       Note: <b>alphasubject</b> is a transformed version of the subject line, where only alpha  chars  are  preserved,
       and  they  are  forced  to lower case. It is then simpler to use a regular expression match across a wide
       variety of similar subjects.

       <b>from</b> matches any and all of the following headers:
         "From " From: Reply-To: Sender:

       <u>Action</u> can be any of:

           <b>delete</b>              (ignore this message; throw it away)
           <b>save</b>  <u>foldername</u>    (put in 'foldername' for later)
           <b>savecopy</b> <u>foldername</u> (save a copy AND put in my inbox)
           <b>execute</b>  <u>command</u>    (pipe message to 'command')
           <b>executec</b> <u>command</u>    (copy to inbox, AND pipe to 'command')
           <b>forward</b>  <u>address</u>    (forward this message)
           <b>forwardc</b> <u>address</u>    (forward this message, AND copy to inbox)
           <b>resend</b>   <u>address</u>    (resend to new addr without change)
           <b>leave</b>               (just put it in my inbox)
           <b>bounce</b>              (say there's no such user)

       An example of a rules file would be:

           # I'll read this stuff later when I feel like it
           if (from = "<a href="mailto:list@interest.org">list@interest.org</a>") then save "<a href="file:~/Mail/mailinglist">~/Mail/mailinglist</a>"
           # This mailing list actually has an x-mailing-list header
           if (mailinglist = "<a href="mailto:smartlist@other.com">smartlist@other.com</a>") then save "<a href="file:~/Mail/otherlist">~/Mail/otherlist</a>"
           # auto-archive this project's email, AND put in my current mailbox
           if (subject = "strange project") then savecopy "<a href="file:~/Mail/proj-archive">~/Mail/proj-archive</a>"
           # If "make money" appears ANYWHERE in subject, upper/lowercase,
           # delete the lousy spam
           if ( subject = "make money" ) then delete
           # This person no longer shares this virtual mailbox with me.
           # Resend visibly as a "forwarded" message.
           if (to = "partner") then forward "<a href="mailto:partner@new.address.com">partner@new.address.com</a>"
           # If email for an old address comes to me, resend to new one.
           # Note that the "envelope" will show my address, but the
           # normal headers will not
           if ( to = "old_address" ) then resend <a href="mailto:new@address.here">new@address.here</a>"
           # Special virtual headerline derived from normal subject line
           # catches "multiple!!!wor+ds**here"
           if ( alphasubject = "multiplewordshere" ) then delete
           # If email for a special address comes to me, resend through
           # a non-standard "special" mailer
           if ( to = "special_address" ) then exec "/usr/lib/mailer special@addr"
           #
           # The rules file doesn't really need parentheses. Or even the 'if'.
           # They are just traditional.
           subject = "silly" then bounce

       Note that all filenames must be double-quoted

       For further information about the rules language, please see <u>The</u> <u>Elm</u> <u>Filter</u> <u>Guide</u>.

</pre><h4><b>MAINTAINER</b></h4><pre>
       Philip Brown

</pre><h4><b>FILES</b></h4><pre>
       $HOME/.filter/filter-rules Default rules file
       $HOME/.filter/filterlog    A log of what has been done
       $HOME/.filter/filtersum    A summary of what has been done
       $MAIL                   IF you set this var, defines your
                               default mailbox
       <a href="file:/etc/passwd">/etc/passwd</a>             Used to get users home directory

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <u>The</u> <u>Elm</u> <u>Filter</u> <u>Guide</u> (distributed with the source code)
       <a href="../man1/mail.1.html">mail</a>(1), <a href="../man1/mailx.1.html">mailx</a>(1), sendmail(1,8)

</pre><h4><b>COMMENTS</b></h4><pre>
       Could be smarter about pattern matching. Message body checks might be nice too.

       Please note that this was historically bundled with the elm mail reader, but now can be found at
       <a href="http://www.bolthole.com/filter/">http://www.bolthole.com/filter/</a>

</pre><h4><b>BUG</b> <b>REPORTS</b> <b>TO</b></h4><pre>
       <a href="mailto:filter@bolthole.com">filter@bolthole.com</a>

</pre><h4><b>COPYRIGHTS</b></h4><pre>
       Copyright 1988-1992 by The USENET Community Trust
       Derived from Elm 2.0,  Copyright 1986, 1987 by Dave Taylor

USENET Comm. Trust                                19 April 2004                                        <u><a href="../man1/FILTER.1.html">FILTER</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>