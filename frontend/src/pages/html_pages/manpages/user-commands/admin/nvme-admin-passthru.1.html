<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>nvme-admin-passthru - Submit an arbitrary admin command, return results</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/nvme-cli">nvme-cli_2.11-2_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       nvme-admin-passthru - Submit an arbitrary admin command, return results

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <u>nvme-admin-passthru</u> &lt;device&gt; [--opcode=&lt;opcode&gt; | -O &lt;opcode&gt;]
                               [--flags=&lt;flags&gt; | -f &lt;flags&gt;] [-rsvd=&lt;rsvd&gt; | -R &lt;rsvd&gt;]
                               [--namespace-id=&lt;nsid&gt; | -n &lt;nsid&gt;] [--cdw2=&lt;cdw2&gt; | -2 &lt;cdw2&gt;]
                               [--cdw3=&lt;cdw3&gt; | -3 &lt;cdw3&gt;] [--cdw10=&lt;cdw10&gt; | -4 &lt;cdw10&gt;]
                               [--cdw11=&lt;cdw11&gt; | -5 &lt;cdw11&gt;] [--cdw12=&lt;cdw12&gt; | -6 &lt;cdw12&gt;]
                               [--cdw13=&lt;cdw13&gt; | -7 &lt;cdw13&gt;] [--cdw14=&lt;cdw14&gt; | -8 &lt;cdw14&gt;]
                               [--cdw15=&lt;cdw15&gt; | -9 &lt;cdw15&gt;]
                               [--data-len=&lt;data-len&gt; | -l &lt;data-len&gt;]
                               [--metadata-len=&lt;len&gt; | -m &lt;len&gt;]
                               [--input-file=&lt;file&gt; | -i &lt;file&gt;]
                               [--read | -r] [--write | -w]
                               [--timeout=&lt;timeout&gt; | -t &lt;timeout&gt;]
                               [--show-command | -s]
                               [--dry-run | -d]
                               [--raw-binary | -b]
                               [--prefill=&lt;prefill&gt; | -p &lt;prefill&gt;]
                               [--latency | -T]
                               [--output-format=&lt;fmt&gt; | -o &lt;fmt&gt;] [--verbose | -v]

</pre><h4><b>DESCRIPTION</b></h4><pre>
       Submits an arbitrary NVMe admin command and returns the applicable results. This may be the simply the
       commands result and status, or may also include a buffer if the command returns one. This command does no
       interpretation of the opcodes or options.

       The &lt;device&gt; parameter is mandatory and may be either the NVMe character device (ex: /dev/nvme0), or a
       namespace block device (ex: /dev/nvme0n1).

       On success, the returned structure (if applicable) may be returned in one of several ways depending on
       the option flags; the structure may printed by the program as a hex dump, or may be returned as a raw
       buffer printed to stdout for another program to parse.

</pre><h4><b>OPTIONS</b></h4><pre>
       -O &lt;opcode&gt;, --opcode=&lt;opcode&gt;
           The NVMe opcode to send to the device in the command

       -f &lt;flags&gt;, --flags=&lt;flags&gt;
           The NVMe command flags to send to the device in the command

       -R &lt;rsvd&gt;, --rsvd=&lt;rsvd&gt;
           The value for the reserved field in the command.

       -n &lt;nsid&gt;, --namespace-id=&lt;nsid&gt;
           The value for the ns-id in the command.

       -[2-9] &lt;cdw&gt;, --cdw[2-3,10-15]=&lt;cdw&gt;
           Specifies the command dword value for that specified entry in the command

       -r, --read, -w, --write
           Used for the data-direction for the command and required for commands sending/receiving data. Don’t
           use both read and write at the same time.

       -i &lt;file&gt;, --input-file=&lt;file&gt;
           If the command is a data-out (write) command, use this file to fill the buffer sent to the device. If
           no file is given, assumed to use STDIN.

       -l &lt;data-len&gt;, --data-len=&lt;data-len&gt;
           The data length for the buffer used for this command.

       -m &lt;data-len&gt;, --metadata-len=&lt;data-len&gt;
           The metadata length for the buffer used for this command.

       -s, --show-cmd
           Print out the command to be sent.

       -d, --dry-run
           Do not actually send the command. If want to use --dry-run option, --show-cmd option <u>must</u> be set.
           Otherwise --dry-run option will be <u>ignored</u>.

       -b, --raw-binary
           Print the raw returned buffer to stdout if the command returns a structure.

       -p, --prefill
           Prefill the buffer with a predetermined byte value. Defaults to 0. This may be useful if the data you
           are writing is shorter than the required buffer, and you need to pad it with a known value. It may
           also be useful if you need to confirm if a device is overwriting a buffer for a data-in command.

       -T, --latency
           Print out the latency the IOCTL took (in us).

       -o &lt;fmt&gt;, --output-format=&lt;fmt&gt;
           Set the reporting format to <u>normal</u>, <u>json</u> or <u>binary</u>. Only one output format can be used at a time.

       -v, --verbose
           Increase the information detail in the output.

       -t &lt;timeout&gt;, --timeout=&lt;timeout&gt;
           Override default timeout value. In milliseconds.

</pre><h4><b>EXAMPLES</b></h4><pre>
       •   The following will run the admin command with opcode=6 and cdw10=1, which corresponds to an identify
           controller command. This example requires the data-len param be 4096, which is the size of the
           returned structure. The -r option is used because it is a data-in command

               # nvme admin-passthru /dev/nvme0 --opcode=06 --data-len=4096 --cdw10=1 -r

       •   Or if you want to save that structure to a file:

               # nvme admin-passthru /dev/nvme0 --opcode=06 --data-len=4096 --cdw10=1 -r -b &gt; id_ns.raw

</pre><h4><b>NVME</b></h4><pre>
       Part of the nvme-user suite

NVMe                                               02/16/2025                              <u><a href="../man1/NVME-ADMIN-PASSTHR.1.html">NVME-ADMIN-PASSTHR</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>