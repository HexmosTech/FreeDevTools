<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>pmfind - find PCP services on the network</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/pcp">pcp_6.3.3-1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       <b>pmfind</b> - find PCP services on the network

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>pmfind</b> [<b>-CqrSV?</b>]  [<b>-m</b> <u>mechanism</u>] [<b>-s</b> <u>service</u>] [<b>-t</b> <u>timeout</u>]

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>pmfind</b>  searches  for instances of the specified PCP service being advertised on the network and prints a
       list  of  URLs  corresponding  to  the  services  discovered.   It  can  be  used  in  conjunction   with
       <b><a href="../man1/pmfind_check.1.html">pmfind_check</a></b>(1) to automate the monitoring of remote PCP collector systems.

</pre><h4><b>OPTIONS</b></h4><pre>
       The available command line options are:

       <b>-C</b>, <b>--containers</b>
            Performs containers discovery as well, for each discovered <b><a href="../man1/pmcd.1.html">pmcd</a></b>(1) service.

       <b>-m</b> <u>mechanism</u>, <b>--mechanism</b>=<u>mechanism</u>
            This  option  sets the <u>mechanism</u> that <b>pmfind</b> uses when performing service discovery.  By default, or
            if the keyword <u>all</u> is specified, every available mechanism will  be  used  (iteratively).   See  the
            ``MECHANISMS'' section for a description of each available discovery mechanism.

       <b>-q</b>, <b>--quiet</b>
            This option suppresses all output on the standard output stream.

       <b>-r</b>, <b>--resolve</b>
            Requests  that  DNS  name resolution be attempted for the addresses of any discovered services.  The
            default is to display the network addresses of any discovered services.

       <b>-s</b> <u>service</u>, <b>--service</b>=<u>service</u>
            By default <b>pmfind</b> will search for all supported PCP services, however  a  specific  PCP  <u>service</u>  to
            discover can be specified using the <b>-s</b> option.  Supported services are <b><a href="../man1/pmcd.1.html">pmcd</a></b>(1), and <b><a href="../man1/pmproxy.1.html">pmproxy</a></b>(1).

       <b>-S</b>, <b>--sources</b>
            Reports  source  identifiers  for each discovered <b><a href="../man1/pmcd.1.html">pmcd</a></b>(1) service.  These identifiers are unique for
            each host, and are formed using the (non-optional) context labels available for every PCP collector.
            Because the discovery process will often identify multiple paths to an  individual  collector  host,
            this option is an important part of the process of using <b>pmfind</b> in conjunction with <b><a href="../man1/pmfind_check.1.html">pmfind_check</a></b>(1),
            to ensure only one <b><a href="../man1/pmie.1.html">pmie</a></b>(1) and/or <b><a href="../man1/pmlogger.1.html">pmlogger</a></b>(1) process is started for each discovered collector host.
            The  source  identifiers  reported  by <b>pmfind</b> are the same as the source identifiers reported by the
            <b><a href="../man1/pminfo.1.html">pminfo</a></b>(1) and <b><a href="../man1/pmseries.1.html">pmseries</a></b>(1) commands.

       <b>-t</b> <u>seconds</u>, <b>--timeout</b>=<u>seconds</u>
            Sets the maximum amount of time in <u>seconds</u> that <b>pmfind</b> will take  before  interrupting  the  service
            discovery.   The  <u>time</u> argument is a floating point number representing the number of seconds before
            timing out.  The default is to take as much time as is needed to complete the process.

       <b>-V</b>, <b>--version</b>
            Display version number and exit.

       <b>-?</b>, <b>--help</b>
            Display usage message and exit.

</pre><h4><b>MECHANISMS</b></h4><pre>
       Supported mechanisms for service discovery are:

       <b>avahi</b>  Searches for services which are broadcasting using mDNS via <b><a href="../man8/avahi-daemon.8.html">avahi-daemon</a></b>(8).  An  optional  suffix
              <b>",timeout=N"</b>  may  be  added  to  limit  the  amount of time waiting for the avahi-daemon.  <b>N</b> is a
              floating point number specifying the number of seconds to wait.  The default is 0.5 seconds.  This
              timeout may also be specified by setting the environment variable <b>AVAHI_DISCOVERY_TIMEOUT</b>  to  the
              desired  number  of  seconds.   If both are specified, then the value specified in the environment
              variable takes precedence.

       <b>probe=&lt;net-address&gt;/&lt;mask-bits&gt;</b>
              Actively probes the given subnet for the requested PCP service(s).  <b>&lt;net-address&gt;</b> is  an  Inet  or
              IPv6  network  address  and  <b>&lt;mask-bits&gt;</b>  is  the  number  of bits used to define the subnet.  For
              example, 192.168.1.0/24 defines an 8 bit subnet consisting of the  addresses  192.168.1.0  through
              192.168.1.255.   An  optional  suffix  <b>",maxThreads=N"</b> may be added to limit the number of threads
              used while probing.  The default is the value of FD_SETSIZE  (which  is  typically  1024)  or  the
              number  of  addresses  in  the  subnet, whichever is less.  An optional suffix <b>",timeout=N"</b> may be
              added to limit the amount of time spent waiting for each connection  attempt.   N  is  a  floating
              point  number  specifying  the  number  of  seconds  to  wait.   The  default  is 0.02 seconds (20
              milliseconds).

       <b>shell</b>  Probes the list of addresses provided by scripts for requested PCP service(s).  Several  optional,
              comma-separated  parameters  can  also be provided.  The <b>"path=DIR"</b> option specifies the directory
              where commands like <b><a href="../man1/pcp-kube-pods.1.html">pcp-kube-pods</a></b>(1) are located (defaults  to  <u>$PCP_BINADM_DIR/discover/</u>).   This
              setting  can  be further restricted to an individual command using the <b>command=CMD</b> option, but the
              default is to use all available commands from the <b>path</b>.   The  <b>"maxThreads=N"</b>  option  limits  the
              number  of threads used while probing.  The default is the value of FD_SETSIZE (which is typically
              1024) or the number of addresses returned by the scripts,  whichever  is  less.   The  <b>"timeout=N"</b>
              option may be added to limit the amount of time spent waiting for each connection attempt.  N is a
              floating  point  number specifying the number of seconds to wait.  The default is 0.02 seconds (20
              milliseconds).

</pre><h4><b>SIGNALS</b></h4><pre>
       <b>pmfind</b> will interrupt the service discovery process when  one  of  the  following  signals  is  received:
       SIGHUP, SIGPIPE, SIGINT, SIGTERM, SIGXFSZ, SIGXCPU.  <b>pmfind</b> will report any results which were discovered
       up to point of the interruption.

</pre><h4><b>DIAGNOSTICS</b></h4><pre>
       The  value of the exit status from the command is zero when services were successfully located, one if no
       services were found, and two if an error occurred.

       In the event of an error a message will be generated on standard error  that  is  intended  to  be  self-
       explanatory.

</pre><h4><b>FILES</b></h4><pre>
       <u>$PCP_BINADM_DIR/discover</u>
            default path to address discovery scripts

</pre><h4><b>PCP</b> <b>ENVIRONMENT</b></h4><pre>
       Environment  variables with the prefix <b>PCP_</b> are used to parameterize the file and directory names used by
       PCP.  On each installation, the file <u>/etc/pcp.conf</u> contains the local values for  these  variables.   The
       <b>$PCP_CONF</b> variable may be used to specify an alternative configuration file, as described in <b><a href="../man5/pcp.conf.5.html">pcp.conf</a></b>(5).

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man1/PCPIntro.1.html">PCPIntro</a></b>(1),  <b><a href="../man1/pmcd.1.html">pmcd</a></b>(1),  <b><a href="../man1/pmfind_check.1.html">pmfind_check</a></b>(1),  <b><a href="../man1/pmie.1.html">pmie</a></b>(1),  <b><a href="../man1/pminfo.1.html">pminfo</a></b>(1), <b><a href="../man1/pmlogger.1.html">pmlogger</a></b>(1), <b><a href="../man1/pmproxy.1.html">pmproxy</a></b>(1), <b><a href="../man1/pmseries.1.html">pmseries</a></b>(1), <b><a href="../man1/pcpkube-pods.1.html">pcp-</a></b>
       <b><a href="../man1/pcpkube-pods.1.html">kube-pods</a></b>(1), <b><a href="../man3/PMAPI.3.html">PMAPI</a></b>(3), <b><a href="../man3/PMWEBAPI.3.html">PMWEBAPI</a></b>(3), <b><a href="../man3/pmDiscoverServices.3.html">pmDiscoverServices</a></b>(3), <b><a href="../man5/pcp.conf.5.html">pcp.conf</a></b>(5) and <b><a href="../man5/pcp.env.5.html">pcp.env</a></b>(5).

Performance Co-Pilot                                   PCP                                             <u><a href="../man1/PMFIND.1.html">PMFIND</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>