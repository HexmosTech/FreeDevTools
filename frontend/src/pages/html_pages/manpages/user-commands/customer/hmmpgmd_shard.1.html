<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>hmmpgmd_shard - sharded daemon for database search web services</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/hmmer">hmmer_3.4+dfsg-2_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       hmmpgmd_shard - sharded daemon for database search web services

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>hmmpgmd_shard</b> [<u>options</u>]

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The  <b>hmmpgmd_shard</b>  program  provides  a sharded version of the <b>hmmpgmd</b> program that we use internally to
       implement high-performance HMMER services that can be accessed via the internet.   See  the  <b>hmmpgmd</b>  man
       page  for  a  discussion  of  how  the base <b>hmmpgmd</b> program is used.  This man page discusses differences
       between <b>hmmpgmd_shard</b> and <b>hmmpgmd.</b>  The base <b>hmmpgmd</b> program loads the entirety of its database file into
       RAM on every worker node, in spite of the fact that each worker node searches a predictable  fraction  of
       the database(s) contained in that file when performing searches.  This wastes RAM, particularly when many
       worker nodes are used to accelerate searches of large databases.

       <b>Hmmpgmd_shard</b>  addresses  this by dividing protein sequence database files into shards.  Each worker node
       loads only 1/Nth of the database file, where N is the number of worker nodes attached to the master.  HMM
       database files are not sharded, meaning that every worker node will load the entire  database  file  into
       RAM.  Current HMM databases are much smaller than current protein sequence databases, and easily fit into
       the RAM of modern servers even without sharding.

       <b>Hmmpgmd_shard</b>  is  used  in  the  same  manner as <b>hmmpgmd</b> , except that it takes one additional argument:
       <b>--num_shards</b> <u>&lt;n&gt;</u> , which specifies the number of shards that protein databases will be divided into,  and
       defaults to 1 if unspecified.  This argument is only valid for the master node of a <b>hmmpgmd</b> system (i.e.,
       when  <b>--master</b>  is  passed  to the <b>hmmpgmd</b> program), and must be equal to the number of worker nodes that
       will connect to the master node.  <b>Hmmpgmd_shard</b> will signal an error if more than <b>num_shards</b> worker nodes
       attempt to connect to the master node or if a search is started when fewer than  <b>num_shards</b>  workers  are
       connected to the master.

</pre><h4><b>OPTIONS</b></h4><pre>
       <b>-h</b>     Help; print a brief reminder of command line usage and all available options.

       <b>--master</b>
              Run as the master server.

       <b>--worker</b> <u>&lt;s&gt;</u>
              Run as a worker, connecting to the master server that is running on IP address <u>&lt;s&gt;</u>.

       <b>--cport</b> <u>&lt;n&gt;</u>
              Port to use for communication between clients and the master server.  The default is 51371.

       <b>--wport</b> <u>&lt;n&gt;</u>
              Port to use for communication between workers and the master server.  The default is 51372.

       <b>--ccncts</b> <u>&lt;n&gt;</u>
              Maximum number of client connections to accept. The default is 16.

       <b>--wcncts</b> <u>&lt;n&gt;</u>
              Maximum number of worker connections to accept. The default is 32.

       <b>--pid</b> <u>&lt;f&gt;</u>
              Name of file into which the process id will be written.

       <b>--seqdb</b> <u>&lt;f&gt;</u>
              Name of the file (in <b>hmmpgmd</b> format) containing protein sequences.  The contents of this file will
              be cached for searches.

       <b>--hmmdb</b> <u>&lt;f&gt;</u>
              Name of the file containing protein HMMs. The contents of this file will be cached for searches.

       <b>--cpu</b> <u>&lt;n&gt;</u>
              Number of parallel threads to use (for <b>--worker</b> ).

       <b>--num_shards</b> <u>&lt;n&gt;</u>
              Number  of  shards to divide cached sequence database(s) into.  HMM databases are not sharded, due
              to their small size.  This option is only valid when the <b>--master</b> option is present, and  defaults
              to 1 if not specified.  <b>Hmmpgmd_shard</b> requires that the number of shards be equal to the number of
              worker  nodes,  and  will  give  errors  if more than <b>num_shards</b> workers attempt to connect to the
              master node or if a search is started with fewer than <b>num_shards</b> workers connected to the master.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       See <b><a href="../man1/hmmmpgmd.1.html">hmmmpgmd</a></b>(1) for a description of the base hmmpgmd command and how the daemon should be used.

       <b><a href="../man1/hmmer.1.html">hmmer</a></b>(1) for a master man page with a list of all the individual man pages  for  programs  in  the  HMMER
       package.

       For complete documentation, see the user guide that came with your HMMER distribution (Userguide.pdf); or
       see the HMMER web page (<a href="http://hmmer.org/">http://hmmer.org/</a>).

</pre><h4><b>COPYRIGHT</b></h4><pre>
       Copyright (C) 2023 Howard Hughes Medical Institute.
       Freely distributed under the BSD open source license.

       For additional information on copyright and licensing, see the file called COPYRIGHT in your HMMER source
       distribution, or see the HMMER web page (<a href="http://hmmer.org/">http://hmmer.org/</a>).

</pre><h4><b>AUTHOR</b></h4><pre>
       <a href="http://eddylab.org">http://eddylab.org</a>

HMMER 3.4                                           Aug 2023                                    <u><a href="../man1/hmmpgmd_shard.1.html">hmmpgmd_shard</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>