<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>refile - file message in nmh folders</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/nmh">nmh_1.8-3_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       refile - file message in nmh folders

</pre><h4><b>SYNOPSIS</b></h4><pre>

       <b>refile</b> [<b>-help</b>] [<b>-version</b>] [<u>msgs</u>] [<b>-draft</b>] [<b>-link</b> | <b>-nolink</b>] [<b>-preserve</b> | <b>-nopreserve</b>] [<b>-retainsequences</b> |
            <b>-noretainsequences</b>] [<b>-unlink</b> | <b>-nounlink</b>] [<b>-src</b> <u>+folder</u>] [<b>-file</b> <u>file</u>] [<b>-rmmproc</b> <u>program</u>]
            [<b>-normmproc</b>] <u>+folder1</u> ...

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>refile</b>  moves (see <u><a href="../man1/mv.1.html">mv</a></u>(1)) or links (see <u><a href="../man1/ln.1.html">ln</a></u>(1)) messages from a source folder into one or more destination
       folders.

       If you think of a message as a sheet of paper, this operation is not unlike filing the sheet of paper (or
       copies) in file cabinet folders.  When a message is filed, it is linked into the destination folder(s) if
       possible, and is copied otherwise.  As long as the destination folders are all on the same  file  system,
       multiple  filing  causes  little  storage  overhead.   This facility provides a good way to cross-file or
       multiple-index messages.  For example, if a message is received from Jones about the  ARPA  Map  Project,
       the command

            refile cur +jones +Map

       would allow the message to be found in either of the two folders `jones' or `Map'.

       You  may  specify the source folder using <b>-src</b> <u>+folder</u>.  If this is not given, the current folder is used
       by default.  If no message is specified, then `cur' is used by default.

       The option <b>-file</b> <u>file</u> directs <b>refile</b> to use the specified file as the source message to be filed,  rather
       than  a  message  from a folder.  Note that the file should be a validly formatted message, just like any
       other <b>nmh</b> message.  It should <u>not</u> be in mail drop format (to convert a file in  mail  drop  format  to  a
       folder of <b>nmh</b> messages, see <u><a href="../man1/inc.1.html">inc</a></u>(1)).

       If  a  destination  folder  doesn't exist, <b>refile</b> will ask if you want to create it.  A negative response
       will abort the file operation.  If the standard input for <b>refile</b> is <u>not</u> a tty, then <b>refile</b> will  not  ask
       any questions and will proceed as if the user answered “yes” to all questions.

       The  option  <b>-link</b>  preserves the source folder copy of the message (i.e., it does an <u><a href="../man1/ln.1.html">ln</a></u>(1) rather than a
       <u><a href="../man1/mv.1.html">mv</a></u>(1)), whereas, <b>-nolink</b> (the default) deletes the filed messages from the source folder.

       Normally when a message is refiled, for each destination folder it is assigned the number  which  is  one
       above  the current highest message number in that folder.  Use of the <b>-preserve</b> switch will override this
       message renaming, and try to preserve the number of the message.  If a conflict for a  particular  folder
       occurs  when  using the <b>-preserve</b> switch, then <b>refile</b> will use the next available message number which is
       above the message number you wish to preserve.

       As message sequences are folder-specific, moving the message from the source folder removes it  from  all
       its  sequences  in  that  folder.   <b>-retainsequences</b>  adds  it to those same sequences in the destination
       folder, creating any that don't exist.  This adding does not apply for the “cur” sequence.

       If <b>-link</b> is not specified (or <b>-nolink</b> is specified), the filed messages will be removed from  the  source
       folder.  The default is to remove these messages by renaming them with a site-dependent prefix (usually a
       comma).   Such  files  will  then need to be removed in some manner after a certain amount of time.  Many
       sites arrange for <b>cron</b> to remove these files once a day, so check with your system administrator.

       Alternately, if you wish for <b>refile</b> to really remove the  files  representing  these  messages  from  the
       source  folder,  you can use the <b>-unlink</b> switch (not to be confused with the <b>-link</b> switch).  But messages
       removed by this method cannot be later recovered.

       If you prefer a more sophisticated method of `removing' the messages from  the  source  folder,  you  can
       define the <b>rmmproc</b> profile component.  For example, you can add a profile component such as

            rmmproc:    /home/coleman/bin/rmm_msgs

       then <b>refile</b> will instead call the named program or script to handle the message files.

       The  user  may  specify <b>-rmmproc</b> <u>program</u> on the command line to override this profile specification.  The
       <b>-normmproc</b> option forces the message files to be deleted by  renaming  or  unlinking  them  as  described
       above.

       The <b>-draft</b> switch tells <b>refile</b> to file the &lt;mh-dir&gt;/draft.

</pre><h4><b>FILES</b></h4><pre>
       $HOME/.mh_profile          The user profile

</pre><h4><b>PROFILE</b> <b>COMPONENTS</b></h4><pre>
       Path:                To determine the user's nmh directory
       Current-Folder:      To find the default current folder
       Folder-Protect:      To set mode when creating a new folder
       rmmproc:             Program to delete the message

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <u><a href="../man1/folder.1.html">folder</a></u>(1), <u><a href="../man5/mh-sequence.5.html">mh-sequence</a></u>(5), <u><a href="../man1/rmf.1.html">rmf</a></u>(1), <u><a href="../man1/rmm.1.html">rmm</a></u>(1)

</pre><h4><b>DEFAULTS</b></h4><pre>
       `<b>-src</b> <b>+folder</b>' defaults to the current folder
       `<b>msgs</b>' defaults to cur
       `<b>-nolink</b>'
       `<b>-nounlink</b>'
       `<b>-nopreserve</b>'
       `<b>-noretainsequences</b>'

</pre><h4><b>CONTEXT</b></h4><pre>
       If  <b>-src</b>  <u>+folder</u>  is given, it will become the current folder.  If neither <b>-link</b> nor `all' is specified,
       the current message in the source folder will be set  to  the  last  message  specified;  otherwise,  the
       current message won't be changed.

       If  the  “Previous-Sequence”  profile  entry is set, in addition to defining the named sequences from the
       source folder, <b>refile</b> will also define those sequences for the destination folders.   See  <u><a href="../man5/mh-sequence.5.html">mh-sequence</a></u>(5)
       for information concerning the previous sequence.

</pre><h4><b>BUGS</b></h4><pre>
       Since  <b>refile</b>  and  <b>rmm</b>  use  your <u>rmmproc</u> to delete the message, the <u>rmmproc</u> must <u>not</u> call <b>refile</b> or <b>rmm</b>
       without specifying <b>-normmproc</b>, or you will create an infinite loop.

nmh-1.8                                            2013-03-19                                        <u><a href="../man1mh/REFILE.1mh.html">REFILE</a></u>(1mh)
</pre>
 </div>
</div></section>
</div>
</body>
</html>