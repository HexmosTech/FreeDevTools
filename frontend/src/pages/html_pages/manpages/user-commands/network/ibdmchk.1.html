<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>IBDM - Network Checker and Attributes Analyzer</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/ibutils">ibutils_1.5.7+0.2.gbd7e502-3build1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       IBDM - Network Checker and Attributes Analyzer

</pre><h4><b>SYNOPSYS</b></h4><pre>
       ibdmchk has two operation modes: design and verification.

       DESIGN:

       ibdmchk [-v][-h][-u][-r &lt;roots file&gt;] -t &lt;topology file&gt; -n &lt;SM Node&gt;
         -p &lt;SM Port&gt; [-e] [-l &lt;lmc&gt;]

       VERIFICATION:

       ibdmchk [-v][-h][-r &lt;roots file&gt;] [-s &lt;subnet file&gt;] [-f &lt;fdb file&gt;]
         [-m &lt;mcfdbs file&gt; [-l &lt;lmc&gt;] [-u] [-M] [-a]
         [-c &lt;path sl file&gt;] [-d &lt;sl2vl tables file&gt;]

</pre><h4><b>DESIGN</b> <b>MODE</b> <b>DESCRIPTION</b></h4><pre>
       The Design mode is intended to be used before the cluster is built. It provides basic checks of the
       specified network as described by a topology file. After simulating the SM LID assignment and routing
       algorithms it provides reports of the (H)CA to (H)CA paths depth histogram and credit deadlock potential
       in the resulting routing scheme.

</pre><h4><b>ARGUMENTS:</b></h4><pre>
       -t|--topo &lt;topo file&gt;
           The <b>topology</b> <b>file</b> specifying the network. See man <b>ibdm-topology-file</b>

       -n|--node &lt;SM Node&gt;
           The name of the Subnet Manager node (syntax: &lt;Topo-File-System&gt;/U1)

       -p|--port &lt;SM Port&gt;
           The port number by which the SM nodes is attached to the fabric.

</pre><h4><b>OPTIONS</b></h4><pre>
       -v|--verbose
           Verbsoe mode

       -h|--help
           Provides this help message

       -l|--lmc &lt;lmc&gt;
           LMC value &gt; 0 means assigning 2^lmc lids to each port.

       -e|--enh
           Use  enhanced  routing  algorithm when LMC &gt; 0 and report the resulting paths correlation (using same
           system/node) histogram

       -r|--roots &lt;roots file&gt; A file with all the roots node names (one on each line).

</pre><h4><b>VERIFICATION</b> <b>MODE</b> <b>DESCRIPTION</b></h4><pre>
       After the cluster is built and OpenSM is run (using flag -D 0x43) it reports the subnet  and  FDB  tables
       into the files osm-subnet.lst, osm.fdbs and osm.fdbs in <a href="file:/var/log/">/var/log/</a> (or subnet.lst, osm.fdbs and osm.mcfdbs
       into  /var/cache/ibutils  in  older  OpenSM  versions). ibdiagnet is also producing the same files in its
       output directory.  Based on these files the utility checks all CA to CA  connectivity.  Further  analysis
       for credit deadlock potential is performed and reported.  In case of an LMC &gt; 0 it reports histograms for
       how many systems and nodes are common between the different paths for the same port pairs.

</pre><h4><b>ARGUMENTS</b></h4><pre>
       -l|--lmc &lt;lmc&gt;
           The LMC value used while running OpenSM. Mandatory if not the default 0.

</pre><h4><b>OPTIONS</b></h4><pre>
       -v|--verbose
           Verbsoe mode

       -h|--help
           Provides this help message

       -s|--subnet &lt;file&gt;
           OpenSM subnet.lst file (default is /var/log/osm-subnet.lst or /var/cache/ibutils/subnet.lst)

       -f|--fdb &lt;file&gt;
           OpenSM   dump  of  Ucast  LFDB.  Use  -D  0x41  to  generate  it  (default  is  /var/log/osm.fdbs  or
           /var/cache/ibutils/osm.fdbs).

       -m|--mcfdb &lt;file&gt;
           OpenSM dump of Multicast LFDB. Use  -D  0x41  to  generate  it  (default  is  /var/log/osm.mcfdbs  or
           /var/cache/ibutils/osm.mcfdbs).

       -c|--psl &lt;file&gt;
           Source  Guid to DLID -&gt; Path SL mapping.  Each line holds: src_node_guid dlid sl.  Used by the credit
           loop check to accuartly model SL/VL based routing.

       -d|--slvl &lt;file&gt;
           SL2VL mapping of all switces.  Each line holds: swguid iport oport 0x(sl0)(sl1) 0x(sl2)(sl3)...  Used
           by the credit loop check to accuartly model SL/VL based routing.

       -r|--roots &lt;roots file&gt;
           A file holding all root nodes guids (one per line).

       -u|--updn
           Use Up/Down based credit loop check algorithm instead of the generic one.

       -M|--MFT
           Include multicast routing in credit loops analysis.

       -a|--all
           Verify not only CA-CA paths but also SW-SW, CA-SW and SW-CA.  Both check for  FDB  path  connectivity
           and also for credit loops.

</pre><h4><b>AUTHOR</b></h4><pre>
       Eitan Zahavi, Mellanox Technologies LTD, <a href="mailto:eitan@mellanox.co.il">eitan@mellanox.co.il</a>

IBDM 1.0                                           2024-04-22                                         <u><a href="../man1/IBDMCHK.1.html">IBDMCHK</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>