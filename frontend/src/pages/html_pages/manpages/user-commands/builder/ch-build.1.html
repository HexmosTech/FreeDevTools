<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ch-build - Build an image and place it in the builder's back-end storage</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/jammy/+package/charliecloud-builders">charliecloud-builders_0.26-1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       ch-build - Build an image and place it in the builder's back-end storage

</pre><h4><b>SYNOPSIS</b></h4><pre>
          $ ch-build [-b BUILDER] [--builder-info] -t TAG [ARGS ...] CONTEXT

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>WARNING:</b>
          This  script is deprecated in favor of using the desired builder directly; we have added some tips for
          Docker to the FAQ. It will be removed in the next release.

       Build an image named <b>TAG</b> described by a Dockerfile. Place the result into the builder’s back-end storage.

       Using this script is <u>not</u> required for a working Charliecloud image. You can also use any builder that can
       produce a Linux filesystem tree directly, whether or not it is in the list below.  However,  this  script
       hides  the  vagaries  of  making  the  supported  builders  work smoothly with Charliecloud and adds some
       conveniences (e.g., pass HTTP proxy environment variables to the build environment if the builder doesn’t
       do this by default).

       Supported builders, unprivileged:

          • <b>ch-image</b>: Our internal builder.

       Supported builders, privileged:

          • <b>docker</b>: Docker.

       Experimental builders (i.e., the code is there but not tested much):

          • <b>buildah</b>: Buildah in “rootless” mode with no setuid helpers, using <b>ch-run</b> (via  <b>ch-run-oci</b>)  for  <b>RUN</b>
            instructions. This mode is fully unprivileged.

          • <b>buildah-runc</b>:  Buildah  in  “rootless”  mode  with  setuid  helpers,  using the default <b>runc</b> for <b>RUN</b>
            instructions.

          • <b>buildah-setuid</b>: Buildah in “rootless” mode with setuid helpers, using <b>ch-run</b>  (via  <b>ch-run-oci</b>)  for
            <b>RUN</b> instructions.

       Specifying the builder, in descending order of priority:

          <b>-b,</b> <b>--builder</b> <b>BUILDER</b>
                 Command line option.

          <b>$CH_BUILDER</b>
                 Environment variable

          <b>Default</b>
                 <b>docker</b> if Docker is installed; otherwise, <b>ch-image</b>.

       Other arguments:

          <b>--builder-info</b>
                 Print the builder to be used and its version, then exit.

          <b>-f,</b> <b>--file</b> <b>DOCKERFILE</b>
                 Dockerfile to use (default: <b>$CONTEXT/Dockerfile</b>)

          <b>-t</b> <b>TAG</b> Name (tag) of Docker image to build.

          <b>--help</b> Print help and exit.

          <b>--version</b>
                 Print version and exit.

       Additional arguments are accepted and passed unchanged to the underlying builder.

</pre><h4><b>BUGS</b></h4><pre>
       The  tag  suffix  <b>:latest</b>  is  somewhat misleading, as by default neither <b>ch-build</b> nor bare builders will
       notice if the base <b>FROM</b> image has been updated. Use <b>--pull</b> to make sure you have the latest base image.

</pre><h4><b>EXAMPLES</b></h4><pre>
       Create an image tagged <b>foo</b> and specified by the file <b>Dockerfile</b> located in  the  context  directory.  Use
       <b>/bar</b> as the Docker context directory. Use the default builder.

          $ ch-build -t foo /bar

       Equivalent to above:

          $ ch-build -t foo --file=/bar/Dockerfile /bar

       Instead, use <b>/bar/Dockerfile.baz</b>:

          $ ch-build -t foo --file=/bar/Dockerfile.baz /bar

       Equivalent to the first example, but use <b>ch-image</b> even if Docker is installed:

          $ ch-build -b ch-image -t foo /bar

       Equivalent to above:

          $ export CH_BUILDER=ch-image
          $ ch-build -t foo /bar

</pre><h4><b>REPORTING</b> <b>BUGS</b></h4><pre>
       If  Charliecloud  was  obtained  from  your  Linux  distribution,  use  your distribution’s bug reporting
       procedures.

       Otherwise, report bugs to: <u>https://github.com/hpc/charliecloud/issues</u>

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <a href="../man7/charliecloud.7.html">charliecloud</a>(7)

       Full documentation at: &lt;<u>https://hpc.github.io/charliecloud</u>&gt;

</pre><h4><b>COPYRIGHT</b></h4><pre>
       2014–2021, Triad National Security, LLC

0.26                                          2022-01-30 10:06 UTC                                   <u><a href="../man1/CH-BUILD.1.html">CH-BUILD</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>