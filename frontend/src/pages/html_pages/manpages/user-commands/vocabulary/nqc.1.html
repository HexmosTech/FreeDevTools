<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>nqc - A simple C-like language for Lego's RCX programmable brick</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/nqc">nqc_3.1.r6-12_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       nqc - A simple C-like language for Lego's RCX programmable brick

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>nqc</b> [ <u>options</u> ] [ <u>actions</u> ] [ <b>-</b> | <u>filename</u> ] [ <u>actions</u> ]

</pre><h4><b>DESCRIPTION</b></h4><pre>
       NQC  stands for Not Quite C, and is a simple language for programming the LEGO RCX.  The preprocessor and
       control structures of NQC are very similar to C.  NQC is not a general purpose language -- there are many
       restrictions that stem from limitations of the standard RCX firmware.

       This man page does not attempt to describe the NQC programming  language  or  the  RCX  API,  merely  the
       options  of the nqc command-line program.  References to more complete documentation are given at the end
       of this man page.

       nqc is normally used to process a single source file given as <u>filename</u>.  You can also read from stdin  by
       using  <b>-</b>  instead.   If  the  filename ends in <u>.rcx</u>, it is assumed to be a RCX image file from a previous
       compile, and will be used as is (for downloading or listing).

</pre><h4><b>OPTIONS</b></h4><pre>
       <b>-1</b>     use NQC 1.x compatibility mode.  The RCX API changed significantly with version  2.0.   This  flag
              makes the compiler grok old code.

       <b>-T</b><u>target</u>
              generate  code  and  use communications methods for "smart bricks" other than the RCX.  Currently,
              can be either <b>CM</b> or <b>Scout</b>.

       <b>-d</b>     download program to the RCX.  When this option is given, code is sent  directly  over  the  serial
              port to the brick and no output file is generated by default.

       <b>-n</b>     prevent the standard <u>nqc.h</u> file from being automatically included.

       <b>-D</b><u>sym</u>[=<u>value</u>]
              define macro <u>sym</u> as <u>value</u>.

       <b>-E</b>[<u>filename</u>]
              write compiler errors to <u>filename</u> (or to stdout, if no name specified) instead of to stderr.

       <b>-I</b><u>path</u> search  <u>path</u>  for  include  files.   Multiple  directories  should  be separated as normal for the
              platform (under Linux / Unix, that'd be "").  Can also be set  with  the  NQC_INCLUDE  environment
              variable.

       <b>-L</b>[<u>filename</u>]
              generate  a  human-readable  bytecode  listing  to <u>filename</u> (or to stdout) instead of generating a
              binary file.

       <b>-O</b><u>outfile</u>
              output code to <u>outfile</u>.  This option causes a file to be written even if <b>-d</b> or <b>-L</b> is  also  given.
              If  no filename is specified, the output file will have the same basename as the input file but an
              extension of <u>.rcx</u> instead of <u>.nqc</u>.

       <b>-S</b><u>portname</u>
              use serial port <u>portname</u>.  Under Linux, <u>/dev/rcx</u> is the  default.   (This  will  differ  on  other
              platforms.)  The port can also be specified via the RCX_PORT environment variable, but the command
              line option takes precedence.

       <b>-U</b><u>sym</u>  undefine macro <u>sym</u>.

</pre><h4><b>ACTIONS</b></h4><pre>
       Actions  look  similar  to  options,  but  they have some subtle differences.  In general, options set up
       things (such as a serial port) for later use, while actions  cause  something  to  happen.   Actions  are
       executed  in  the  order that they appear on the command line.  In addition, actions appearing before the
       source file happen before compilation, while actions after the source file happen after compilation.  For
       historical reasons, downloading the compiled file (<b>-d</b>) works as an option and not an action.

       <b>-run</b>   run the current program.  This causes the program selected on the RCX to execute.

       <b>-pgm</b> <u>number</u>
              select program number.  This changes the program slot on the RCX.

       <b>-datalog</b>
              get the datalog from the RCX and print it to stdout.

       <b>-datalog-full</b>
              same as <b>-datalog</b> but with more verbose output.

       <b>-near</b>  set the IR port to short-range mode.

       <b>-far</b>   set the IR port to long-range mode.

       <b>-watch</b> <u>time</u>
              set the RCX's clock to the specified time.  If you use <b>now</b>, then the host's current time is used.

       <b>-firmware</b> <u>filename</u>
              downloads the firmware to the RCX.  You'll need the official Lego RCX firmware from the CD-ROM  --
              the  current  (and  so far only) file is called <u>firm0309.lgo</u>.  This will probably be necessary the
              first time you use your RCX, and whenever it's been without batteries for more than a few minutes.

       <b>-firmfast</b> <u>filename</u>
              same as <b>-firmware</b>, but at quad speed.  Requires the tower to be in near mode (see <b>-near</b>).   If you
              have trouble getting the fast download to work, please revert to the older (and slower) method.

       <b>-sleep</b> <u>timeout</u>
              set RCX auto-shutoff timeout, in minutes.

       <b>-msg</b> <u>number</u>
              send IR message to RCX. The brick will respond to this just  as  it  would  a  communication  from
              another RCX.

       <b>-raw</b> <u>data</u>
              send  an arbitrary packet to the RCX and print the reply (if any) to stdout.  The data should be a
              hexadecimal string, with no spaces, zero-padded so  that  it  is  an  even  number  of  characters
              (although  it may be an odd number of bytes). For example, to read the contents of variable 1, you
              could use <b>-raw</b> <b>120001</b>. The bytecodes for raw messages can be found on web sites that document  the
              RCX protocol.

       <b>-remote</b> <u>value</u> <u>repeat</u>
              send a repeating remote command to the RCX.

       <b>-clear</b> erase all programs and datalog from the RCX.

</pre><h4><b>ENVIRONMENT</b> <b>VARIABLES</b></h4><pre>
       RCX_PORT
              sets the default serial port.  See the <b>-S</b> option.

       NQC_OPTIONS
              specifies extra options to be inserted into the command line.  For example, setting NQC_OPTIONS to
              <b>-TScout</b> would cause nqc to target the Scout by default.

       NQC_INCLUDE
              specifies additional paths to search for include files.  See also the <b>-I</b> option.

</pre><h4><b>EXAMPLES</b></h4><pre>
       To  compile  <u>foo.nqc</u>,  download  the  bytecode to program slot three, and make the RCX start executing it
       immediately:

           nqc -d -pgm 3 foo.nqc -run

       To just compile <u>bar.nqc</u>, resulting in <u>bar.rcx</u>:

           nqc bar.nqc

       To download <u>bar.rcx</u> to the RCX:

           nqc -d bar.rcx

       To set the IR tower to short-range mode and download the firmware at high speed:

           nqc -near -firmfast firm0309.lgo

       To compile <u>/usr/share/doc/nqc/examples/test.nqc</u> and print the resulting bytecode listing to the screen in
       human-readable format:

           nqc -L /usr/share/doc/nqc/examples/test.nqc

       (This should result in the following output under nqc 2.1.0:

           *** Task 0 = main
           000 pwr        ABC, 7                13 07 02 07
           004 dir        ABC, Fwd              e1 87
           006 InType     0, Switch             32 00 01
           009 InMode     0, Boolean            42 00 20
           012 out        A, On                 21 81
           014 chkl       1 != <a href="../man0/Input.0.html">Input</a>(0), 14     95 82 09 01 00 00 fa ff
           022 plays      0                     51 00
           024 out        A, Off                21 41

       )

</pre><h4><b>FILES</b></h4><pre>
       Older versions of nqc required a separate <u>rcx.nqh</u> or <u>rcx2.nqh</u> file.  This  is  now  integrated  into  the
       binary  and  no  longer  necessary,  but  for  reference, <u>rcx2.nqh</u> is included with the package.  (If you
       installed the RPM, try <u>/usr/share/doc/nqc-2.1.0/rcx2.nqh</u>).

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <u><a href="http://www.enteract.com/~dbaum/nqc/">http://www.enteract.com/~dbaum/nqc/</a></u>
              The main Not Quite C web site.  You'll definitely want to look here.  Notably, you'll find the <u>NQC</u>
              <u>Programmer's</u> <u>Guide</u>, which covers the NQC language itself.

       <u><a href="http://www.crynwr.com/lego-robotics/">http://www.crynwr.com/lego-robotics/</a></u>
              A great site for alternative RCX / Mindstorms development.

       <u><a href="http://graphics.stanford.edu/~kekoa/rcx/">http://graphics.stanford.edu/~kekoa/rcx/</a></u>
              Details on the internals of the RCX and the RCX protocol.

       <u><a href="http://www.lugnet.com/robotics/rcx/nqc/">http://www.lugnet.com/robotics/rcx/nqc/</a></u>
              Discussion group for NQC.  Also available via NNTP at <u>lugnet.com</u>.

       <u><a href="http://nqc.mattdm.org/">http://nqc.mattdm.org/</a></u>
              Linux binaries and RPM-format packages for NQC, including source RPMs.  Also has an RPM containing
              the NQC language documentation from Dave's site,  in  case  you'd  prefer  to  have  it  installed
              locally.

</pre><h4><b>BUGS</b></h4><pre>
       None known.  But be aware that Scout support is still preliminary and may change significantly.

</pre><h4><b>COPYRIGHT</b></h4><pre>
       nqc  is  Copyright  (C)  1998-2000 David Baum and released under the terms of the Mozilla Public License.
       See the documentation included with the program for more details.

</pre><h4><b>AUTHOR</b></h4><pre>
       The Not Quite C programming language and the nqc program were written and are maintained  by  Dave  Baum.
       Various  contributions  have been made by other people -- a full list of these can be found on Dave's web
       site.

       This man page was written  by  Matthew  Miller  (<a href="mailto:mattdm@mattdm.org">mattdm@mattdm.org</a>),  with  extremely  large  amounts  of
       borrowing from other NQC documentation.

                                           Version 2.1 r1: 19 Feb 2000                                    <u><a href="../man1/nqc.1.html">nqc</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>