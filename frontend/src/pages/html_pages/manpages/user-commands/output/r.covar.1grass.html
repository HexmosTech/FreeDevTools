<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>r.covar  - Outputs a covariance/correlation matrix for user-specified raster map layer(s).</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/grass-doc">grass-doc_8.4.1-1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       <b>r.covar</b>  - Outputs a covariance/correlation matrix for user-specified raster map layer(s).

</pre><h4><b>KEYWORDS</b></h4><pre>
       raster, statistics

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>r.covar</b>
       <b>r.covar</b> <b>--help</b>
       <b>r.covar</b> [-<b>r</b>] <b>map</b>=<u>name</u>[,<u>name</u>,...]  [--<b>help</b>]  [--<b>verbose</b>]  [--<b>quiet</b>]  [--<b>ui</b>]

   <b>Flags:</b>
       <b>-r</b>
           Print correlation matrix

       <b>--help</b>
           Print usage summary

       <b>--verbose</b>
           Verbose module output

       <b>--quiet</b>
           Quiet module output

       <b>--ui</b>
           Force launching GUI dialog

   <b>Parameters:</b>
       <b>map</b>=<u>name[,name</u>,...] <b>[required]</b>
           Name of raster map(s)

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <u>r.covar</u>  outputs  a covariance/correlation matrix for user-specified raster map layer(s).  The output can
       be printed, or saved by redirecting output into a file.

       The output is an N x N symmetric covariance (correlation) matrix, where N is the  number  of  raster  map
       layers specified on the command line.

</pre><h4><b>NOTES</b></h4><pre>
       This  module  can  be  used  as  the first step of a principle components transformation.  The covariance
       matrix would be input into a system which determines eigen values and eigen vectors.  An  NxN  covariance
       matrix would result in N real eigen values and N eigen vectors (each composed of N real numbers).

       The  module  <u>m.eigensystem</u>  in GRASS GIS Addons can be installed and used to generate the eigenvalues and
       vectors.

</pre><h4><b>EXAMPLE</b></h4><pre>
       For example,
       g.region raster=layer.1 -p
       r.covar -r map=layer.1,layer.2,layer.3
       would produce a 3x3 matrix (values are example only):
            1.000000  0.914922  0.889581
            0.914922  1.000000  0.939452
            0.889581  0.939452  1.000000
       In the above example, the eigen values and corresponding eigen vectors for the covariance matrix are:
       component   eigen value               eigen vector
           1       1159.745202   &lt;0.691002  0.720528  0.480511&gt;
           2          5.970541   &lt;0.711939 -0.635820 -0.070394&gt;
           3        146.503197   &lt;0.226584  0.347470 -0.846873&gt;
       The component corresponding to each vector can be produced using <u>r.mapcalc</u> as follows:
       r.mapcalc "pc.1 = 0.691002*layer.1 + 0.720528*layer.2 + 0.480511*layer.3"
       r.mapcalc "pc.2 = 0.711939*layer.1 - 0.635820*layer.2 - 0.070394*layer.3"
       r.mapcalc "pc.3 = 0.226584*layer.1 + 0.347470*layer.2 - 0.846873*layer.3"
       Note that based on the relative sizes of the eigen values, <u>pc.1</u> will contain about 88% of the variance in
       the data set, <u>pc.2</u> will contain about 1% of the variance in the data set, and <u>pc.3</u> will contain about 11%
       of the variance in the data set.  Also, note that the range of values produced in <u>pc.1</u>,  <u>pc.2</u>,  and  <u>pc.3</u>
       will  not  (in  general)  be the same as those for <u>layer.1</u>, <u>layer.2</u>, and <u>layer.3</u>.  It may be necessary to
       rescale <u>pc.1</u>, <u>pc.2</u> and <u>pc.3</u> to the desired range (e.g. 0-255).  This can be done with <u>r.rescale</u>.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
        <u>i.pca,</u> <u>m.eigensystem</u> <u>(Addon),</u> <u>r.mapcalc,</u> <u>r.rescale</u>

</pre><h4><b>AUTHOR</b></h4><pre>
       Michael Shapiro, U.S. Army Construction Engineering Research Laboratory

</pre><h4><b>SOURCE</b> <b>CODE</b></h4><pre>
       Available at: r.covar source code (history)

       Accessed: Friday Apr 04 01:19:04 2025

       Main index | Raster index | Topics index | Keywords index | Graphical index | Full index

       Â© 2003-2025 GRASS Development Team, GRASS GIS 8.4.1 Reference Manual

GRASS 8.4.1                                                                                      <u><a href="../man1grass/r.covar.1grass.html">r.covar</a></u>(1grass)
</pre>
 </div>
</div></section>
</div>
</body>
</html>