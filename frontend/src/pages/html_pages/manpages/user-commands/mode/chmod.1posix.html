<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>This  manual  page  is part of the POSIX Programmer's Manual.  The Linux implementation of this interface</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/manpages-posix">manpages-posix_2017a-2_all</a> <br><br><pre>
</pre><h4><b>PROLOG</b></h4><pre>
       This  manual  page  is part of the POSIX Programmer's Manual.  The Linux implementation of this interface
       may differ (consult the corresponding Linux manual page for details of Linux behavior), or the  interface
       may not be implemented on Linux.

</pre><h4><b>NAME</b></h4><pre>
       chmod — change the file modes

</pre><h4><b>SYNOPSIS</b></h4><pre>
       chmod <b>[</b>-R<b>]</b> <u>mode</u> <u>file</u>...

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The <u>chmod</u> utility shall change any or all of the file mode bits of the file named by each <u>file</u> operand in
       the way specified by the <u>mode</u> operand.

       It  is  implementation-defined whether and how the <u>chmod</u> utility affects any alternate or additional file
       access control mechanism (see the Base Definitions volume  of  POSIX.1‐2017,  <u>Section</u>  <u>4.5</u>,  <u>File</u>  <u>Access</u>
       <u>Permissions</u>) being used for the specified file.

       Only  a  process  whose  effective user ID matches the user ID of the file, or a process with appropriate
       privileges, shall be permitted to change the file mode bits of a file.

       Upon successfully changing the file mode bits of a file, the <u>chmod</u> utility shall mark for update the last
       file status change timestamp of the file.

</pre><h4><b>OPTIONS</b></h4><pre>
       The <u>chmod</u> utility shall conform to the Base Definitions volume of  POSIX.1‐2017,  <u>Section</u>  <u>12.2</u>,  <u>Utility</u>
       <u>Syntax</u> <u>Guidelines</u>.

       The following option shall be supported:

       <b>-R</b>        Recursively  change  file  mode bits. For each <u>file</u> operand that names a directory, <u>chmod</u> shall
                 change the file mode bits of the directory and all files in the file hierarchy below it.

</pre><h4><b>OPERANDS</b></h4><pre>
       The following operands shall be supported:

       <u>mode</u>      Represents the change to be made to the file mode bits of each file named by one  of  the  <u>file</u>
                 operands; see the EXTENDED DESCRIPTION section.

       <u>file</u>      A pathname of a file whose file mode bits shall be modified.

</pre><h4><b>STDIN</b></h4><pre>
       Not used.

</pre><h4><b>INPUT</b> <b>FILES</b></h4><pre>
       None.

</pre><h4><b>ENVIRONMENT</b> <b>VARIABLES</b></h4><pre>
       The following environment variables shall affect the execution of <u>chmod</u>:

       <u>LANG</u>      Provide a default value for the internationalization variables that are unset or null. (See the
                 Base  Definitions  volume  of POSIX.1‐2017, <u>Section</u> <u>8.2</u>, <u>Internationalization</u> <u>Variables</u> for the
                 precedence  of  internationalization  variables  used  to  determine  the  values   of   locale
                 categories.)

       <u>LC_ALL</u>    If  set  to a non-empty string value, override the values of all the other internationalization
                 variables.

       <u>LC_CTYPE</u>  Determine the locale for the interpretation of sequences of bytes of text  data  as  characters
                 (for example, single-byte as opposed to multi-byte characters in arguments).

       <u>LC_MESSAGES</u>
                 Determine  the  locale  that  should  be  used  to affect the format and contents of diagnostic
                 messages written to standard error.

       <u>NLSPATH</u>   Determine the location of message catalogs for the processing of <u>LC_MESSAGES</u>.

</pre><h4><b>ASYNCHRONOUS</b> <b>EVENTS</b></h4><pre>
       Default.

</pre><h4><b>STDOUT</b></h4><pre>
       Not used.

</pre><h4><b>STDERR</b></h4><pre>
       The standard error shall be used only for diagnostic messages.

</pre><h4><b>OUTPUT</b> <b>FILES</b></h4><pre>
       None.

</pre><h4><b>EXTENDED</b> <b>DESCRIPTION</b></h4><pre>
       The <u>mode</u> operand shall be either  a  <u>symbolic_mode</u>  expression  or  a  non-negative  octal  integer.  The
       <u>symbolic_mode</u> form is described by the grammar later in this section.

       Each  <b>clause</b>  shall specify an operation to be performed on the current file mode bits of each <u>file</u>.  The
       operations shall be performed on each <u>file</u> in the order in which the <b>clause</b>s are specified.

       The <b>who</b> symbols <b>u</b>, <b>g</b>, and <b>o</b> shall specify the <u>user</u>, <u>group</u>,  and  <u>other</u>  parts  of  the  file  mode  bits,
       respectively. A <b>who</b> consisting of the symbol <b>a</b> shall be equivalent to <b>ugo</b>.

       The  <b>perm</b>  symbols  <b>r</b>, <b>w</b>, and <b>x</b> represent the <u>read</u>, <u>write</u>, and <u>execute</u>/<u>search</u> portions of file mode bits,
       respectively. The <b>perm</b> symbol <b>s</b> shall  represent  the  <u>set-user-ID-on-execution</u>  (when  <b>who</b>  contains  or
       implies <b>u</b>) and <u>set-group-ID-on-execution</u> (when <b>who</b> contains or implies <b>g</b>) bits.

       The  <b>perm</b>  symbol  <b>X</b>  shall  represent  the execute/search portion of the file mode bits if the file is a
       directory or if the current (unmodified) file mode bits have at least one of the execute  bits  (S_IXUSR,
       S_IXGRP, or S_IXOTH) set. It shall be ignored if the file is not a directory and none of the execute bits
       are set in the current file mode bits.

       The <b>permcopy</b> symbols <b>u</b>, <b>g</b>, and <b>o</b> shall represent the current permissions associated with the user, group,
       and  other  parts  of the file mode bits, respectively. For the remainder of this section, <b>perm</b> refers to
       the non-terminals <b>perm</b> and <b>permcopy</b> in the grammar.

       If multiple <b>actionlist</b>s are grouped with a single <b>wholist</b>  in  the  grammar,  each  <b>actionlist</b>  shall  be
       applied  in  the  order  specified  with  that  <b>wholist</b>.   The  <u>op</u>  symbols shall represent the operation
       performed, as follows:

       +     If <b>perm</b> is not specified, the <b>'+'</b> operation shall not change the file mode bits.

             If <b>who</b> is not specified, the file mode bits represented by <b>perm</b> for the  owner,  group,  and  other
             permissions,  except  for  those  with  corresponding  bits  in  the file mode creation mask of the
             invoking process, shall be set.

             Otherwise, the file mode bits represented by the specified <b>who</b> and <b>perm</b> values shall be set.

       -     If <b>perm</b> is not specified, the <b>'-'</b> operation shall not change the file mode bits.

             If <b>who</b> is not specified, the file mode bits represented by <b>perm</b> for the  owner,  group,  and  other
             permissions,  except  for  those  with  corresponding  bits  in  the file mode creation mask of the
             invoking process, shall be cleared.

             Otherwise, the file mode bits represented by the specified <b>who</b> and <b>perm</b> values shall be cleared.

       =     Clear the file mode bits specified by the <b>who</b> value, or, if no <b>who</b> value is specified, all  of  the
             file mode bits specified in this volume of POSIX.1‐2017.

             If  <b>perm</b>  is  not specified, the <b>'='</b> operation shall make no further modifications to the file mode
             bits.

             If <b>who</b> is not specified, the file mode bits represented by <b>perm</b> for the  owner,  group,  and  other
             permissions,  except  for  those  with  corresponding  bits  in  the file mode creation mask of the
             invoking process, shall be set.

             Otherwise, the file mode bits represented by the specified <b>who</b> and <b>perm</b> values shall be set.

       When using the symbolic mode form on a regular file, it is implementation-defined whether or not:

        *  Requests to set the set-user-ID-on-execution or set-group-ID-on-execution bit when all  execute  bits
           are currently clear and none are being set are ignored.

        *  Requests  to  clear  all  execute  bits  also clear the set-user-ID-on-execution and set-group-ID-on-
           execution bits.

        *  Requests to clear the set-user-ID-on-execution or set-group-ID-on-execution  bits  when  all  execute
           bits  are currently clear are ignored. However, if the command <u>ls</u> <b>-l</b> <u>file</u> writes an <u>s</u> in the position
           indicating that the set-user-ID-on-execution or set-group-ID-on-execution is set, the commands  <u>chmod</u>
           <b>u-s</b> <u>file</u> or <u>chmod</u> <b>g-s</b> <u>file</u>, respectively, shall not be ignored.

       When  using  the  symbolic  mode  form  on  other file types, it is implementation-defined whether or not
       requests to set or clear the set-user-ID-on-execution or set-group-ID-on-execution bits are honored.

       If the <b>who</b> symbol <b>o</b> is used in conjunction with the <b>perm</b>  symbol  <b>s</b>  with  no  other  <b>who</b>  symbols  being
       specified,  the  set-user-ID-on-execution  and  set-group-ID-on-execution  bits shall not be modified. It
       shall not be an error to specify the <b>who</b> symbol <b>o</b> in conjunction with the <b>perm</b> symbol <b>s</b>.

       The <b>perm</b> symbol <b>t</b> shall specify the S_ISVTX bit. When used with a file of type directory, it can be  used
       with  the  <b>who</b> symbol <b>a</b>, or with no <b>who</b> symbol. It shall not be an error to specify a <b>who</b> symbol of <b>u</b>, <b>g</b>,
       or <b>o</b> in conjunction with the <b>perm</b> symbol <b>t</b>, but the meaning of these  combinations  is  unspecified.  The
       effect when using the <b>perm</b> symbol <b>t</b> with any file type other than directory is unspecified.

       For an octal integer <u>mode</u> operand, the file mode bits shall be set absolutely.

       For  each bit set in the octal number, the corresponding file permission bit shown in the following table
       shall be set; all other file permission bits shall be cleared. For regular files, for each bit set in the
       octal number corresponding to the set-user-ID-on-execution or the set-group-ID-on-execution,  bits  shown
       in the following table shall be set; if these bits are not set in the octal number, they are cleared. For
       other  file  types, it is implementation-defined whether or not requests to set or clear the set-user-ID-
       on-execution or set-group-ID-on-execution bits are honored.
                    ┌──────────────────┬──────────────────┬──────────────────┬──────────────────┐
                    │ <b>Octal</b>   <b>Mode</b> <b>Bit</b> │ <b>Octal</b>   <b>Mode</b> <b>Bit</b> │ <b>Octal</b>   <b>Mode</b> <b>Bit</b> │ <b>Octal</b>   <b>Mode</b> <b>Bit</b> │
                    ├──────────────────┼──────────────────┼──────────────────┼──────────────────┤
                    │ <b>4000</b>    S_ISUID  │ <b>0400</b>    S_IRUSR  │ <b>0040</b>    S_IRGRP  │ <b>0004</b>    S_IROTH  │
                    ├──────────────────┼──────────────────┼──────────────────┼──────────────────┤
                    │ <b>2000</b>    S_ISGID  │ <b>0200</b>    S_IWUSR  │ <b>0020</b>    S_IWGRP  │ <b>0002</b>    S_IWOTH  │
                    ├──────────────────┼──────────────────┼──────────────────┼──────────────────┤
                    │ <b>1000</b>    S_ISVTX  │ <b>0100</b>    S_IXUSR  │ <b>0010</b>    S_IXGRP  │ <b>0001</b>    S_IXOTH  │
                    └──────────────────┴──────────────────┴──────────────────┴──────────────────┘

       When bits are set in the octal number other than those  listed  in  the  table  above,  the  behavior  is
       unspecified.

   <b>Grammar</b> <b>for</b> <b>chmod</b>
       The  grammar  and  lexical conventions in this section describe the syntax for the <u>symbolic_mode</u> operand.
       The general conventions for this style of grammar are described in <u>Section</u> <u>1.3</u>, <u>Grammar</u>  <u>Conventions</u>.   A
       valid  <u>symbolic_mode</u>  can  be  represented  as the non-terminal symbol <u>symbolic_mode</u> in the grammar. This
       formal syntax shall take precedence over the preceding text syntax description.

       The lexical processing is based entirely on single characters.  Implementations need  not  allow  &lt;blank&gt;
       characters within the single argument being processed.

           %start    symbolic_mode
           %%

           symbolic_mode    : clause
                            | symbolic_mode ',' clause
                            ;

           clause           : actionlist
                            | wholist actionlist
                            ;

           wholist          : who
                            | wholist who
                            ;

           who              : 'u' | 'g' | 'o' | 'a'
                            ;

           actionlist       : action
                            | actionlist action
                            ;

           action           : op
                            | op permlist
                            | op permcopy
                            ;

           permcopy         : 'u' | 'g' | 'o'
                            ;

           op               : '+' | '-' | '='
                            ;

           permlist         : perm
                            | perm permlist
                            ;

           perm             : 'r' | 'w' | 'x' | 'X' | 's' | 't'
                            ;

</pre><h4><b>EXIT</b> <b>STATUS</b></h4><pre>
       The following exit values shall be returned:

        0    The utility executed successfully and all requested changes were made.

       &gt;0    An error occurred.

</pre><h4><b>CONSEQUENCES</b> <b>OF</b> <b>ERRORS</b></h4><pre>
       Default.

       <u>The</u> <u>following</u> <u>sections</u> <u>are</u> <u>informative.</u>

</pre><h4><b>APPLICATION</b> <b>USAGE</b></h4><pre>
       Some  implementations  of  the  <u>chmod</u>  utility  change  the  mode  of a directory before the files in the
       directory when performing a recursive (<b>-R</b> option) change; others change  the  directory  mode  after  the
       files in the directory. If an application tries to remove read or search permission for a file hierarchy,
       the  removal  attempt  fails  if  the  directory is changed first; on the other hand, trying to re-enable
       permissions to a restricted hierarchy fails if directories are changed last. Users should not try to make
       a hierarchy inaccessible to themselves.

       Some implementations of <u>chmod</u> never used the <u>umask</u> of the process when changing modes; systems conformant
       with this volume of POSIX.1‐2017 do so when <b>who</b> is not specified. Note the difference between:

           chmod a-w file

       which removes all write permissions, and:

           chmod -- -w file

       which removes write permissions that would be allowed if <b>file</b> was created with the same <u>umask</u>.

       Conforming applications should never assume that they know how the set-user-ID and set-group-ID  bits  on
       directories are interpreted.

</pre><h4><b>EXAMPLES</b></h4><pre>
                                      ┌───────┬────────────────────────────────┐
                                      │ <b>Mode</b>  │            <b>Results</b>             │
                                      ├───────┼────────────────────────────────┤
                                      │ <u>a</u>+=   │ Equivalent to <u>a</u>+,<u>a</u>=; clears    │
                                      │       │ all file mode bits.            │
                                      │ <u>go</u>+-w │ Equivalent to <u>go</u>+,<u>go</u>-<u>w</u>; clears │
                                      │       │ group and other write bits.    │
                                      │ <u>g</u>=<u>o</u>-<u>w</u> │ Equivalent to <u>g</u>=<u>o</u>,<u>g</u>-<u>w</u>; sets    │
                                      │       │ group bit to match other bits  │
                                      │       │ and then clears group write    │
                                      │       │ bit.                           │
                                      │ <u>g</u>-<u>r</u>+<u>w</u> │ Equivalent to <u>g</u>-<u>r</u>,<u>g</u>+<u>w</u>; clears  │
                                      │       │ group read bit and sets group  │
                                      │       │ write bit.                     │
                                      │ <u>uo</u>=<u>g</u>  │ Sets owner bits to match group │
                                      │       │ bits and sets other bits to    │
                                      │       │ match group bits.              │
                                      └───────┴────────────────────────────────┘

</pre><h4><b>RATIONALE</b></h4><pre>
       The  functionality  of  <u>chmod</u>  is  described  substantially through references to concepts defined in the
       System Interfaces volume of POSIX.1‐2017. In this way, there is less duplication of effort  required  for
       describing  the  interactions  of  permissions. However, the behavior of this utility is not described in
       terms  of  the  <u>chmod</u>()  function  from  the  System  Interfaces  volume  of  POSIX.1‐2017  because  that
       specification  requires certain side-effects upon alternate file access control mechanisms that might not
       be appropriate, depending on the implementation.

       Implementations that support mandatory file and record  locking  as  specified  by  the  1984  /usr/group
       standard  historically  used  the  combination  of  set-group-ID  bit  set and group execute bit clear to
       indicate mandatory locking. This condition is usually set or cleared with the symbolic mode <b>perm</b> symbol <b>l</b>
       instead of the <b>perm</b> symbols <b>s</b> and <b>x</b> so that the mandatory locking mode is not  changed  without  explicit
       indication  that that was what the user intended. Therefore, the details on how the implementation treats
       these conditions must be defined in the documentation. This  volume  of  POSIX.1‐2017  does  not  require
       mandatory  locking  (nor  does  the  System  Interfaces  volume of POSIX.1‐2017), but does allow it as an
       extension. However, this volume of POSIX.1‐2017 does  require  that  the  <u>ls</u>  and  <u>chmod</u>  utilities  work
       consistently  in this area. If <u>ls</u> <b>-l</b> <u>file</u> indicates that the set-group-ID bit is set, <u>chmod</u> <b>g-s</b> <u>file</u> must
       clear it (assuming appropriate privileges exist to change modes).

       The System V and BSD versions use different exit status codes. Some implementations used the exit  status
       as  a  count of the number of errors that occurred; this practice is unworkable since it can overflow the
       range of valid exit status values. This problem is avoided here by specifying  only  0  and  &gt;0  as  exit
       values.

       The System Interfaces volume of POSIX.1‐2017 indicates that implementation-defined restrictions may cause
       the  S_ISUID  and  S_ISGID  bits  to  be ignored. This volume of POSIX.1‐2017 allows the <u>chmod</u> utility to
       choose to modify these bits before calling <u>chmod</u>() (or some function providing  equivalent  capabilities)
       for  non-regular files. Among other things, this allows implementations that use the set-user-ID and set-
       group-ID bits on directories to enable extended features to handle these  extensions  in  an  intelligent
       manner.

       The  <b>X</b>  <b>perm</b> symbol was adopted from BSD-based systems because it provides commonly desired functionality
       when doing recursive (<b>-R</b> option) modifications.  Similar  functionality  is  not  provided  by  the  <u>find</u>
       utility.  Historical  BSD  versions of <u>chmod</u>, however, only supported <b>X</b> with <u>op</u>+; it has been extended in
       this volume of POSIX.1‐2017 because it is also useful with <u>op</u>=.  (It has also been  added  for  <u>op</u>-  even
       though it duplicates <b>x</b>, in this case, because it is intuitive and easier to explain.)

       The  grammar  was  extended with the <u>permcopy</u> non-terminal to allow historical-practice forms of symbolic
       modes like <b>o</b>=<b>u</b> <b>-g</b> (that is, set the ``other'' permissions to  the  permissions  of  ``owner''  minus  the
       permissions of ``group'').

</pre><h4><b>FUTURE</b> <b>DIRECTIONS</b></h4><pre>
       None.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <u>ls</u>, <u>umask</u>

       The Base Definitions volume of POSIX.1‐2017, <u>Section</u> <u>4.5</u>, <u>File</u> <u>Access</u> <u>Permissions</u>, <u>Chapter</u> <u>8</u>, <u>Environment</u>
       <u>Variables</u>, <u>Section</u> <u>12.2</u>, <u>Utility</u> <u>Syntax</u> <u>Guidelines</u>

       The System Interfaces volume of POSIX.1‐2017, <u>chmod</u>()

</pre><h4><b>COPYRIGHT</b></h4><pre>
       Portions of this text are reprinted and reproduced in electronic form from IEEE Std 1003.1-2017, Standard
       for  Information  Technology  --  Portable  Operating  System  Interface  (POSIX),  The  Open  Group Base
       Specifications Issue 7, 2018 Edition, Copyright (C) 2018 by the Institute of Electrical  and  Electronics
       Engineers, Inc and The Open Group.  In the event of any discrepancy between this version and the original
       IEEE  and The Open Group Standard, the original IEEE and The Open Group Standard is the referee document.
       The original Standard can be obtained online at <a href="http://www.opengroup.org/unix/online.html">http://www.opengroup.org/unix/online.html</a> .

       Any typographical or formatting errors that appear in this page are most likely to have  been  introduced
       during   the   conversion  of  the  source  files  to  man  page  format.  To  report  such  errors,  see
       https://www.kernel.org/doc/man-pages/reporting_bugs.html .

IEEE/The Open Group                                   2017                                         <u><a href="../man1POSIX/CHMOD.1POSIX.html">CHMOD</a></u>(1POSIX)
</pre>
 </div>
</div></section>
</div>
</body>
</html>