<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>gbp-buildpackage - Build Debian source and binary packages from a Git repository</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/git-buildpackage">git-buildpackage_0.9.37_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       gbp-buildpackage - Build Debian source and binary packages from a Git repository

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>gbp</b> <b>buildpackage</b> [<b>--git-[no-]ignore-new</b>] [<b>--git-tag</b>] [<b>--git-verbose</b>] [<b>--git-color=</b>[auto|on|off]]
                        [<b>--git-color-scheme</b>= <u>COLOR_SCHEME</u>] [<b>--git-notify=</b>[auto|on|off]] [<b>--git-upstream-branch=</b>
                        <u>TREEISH</u>] [<b>--git-debian-branch=</b> <u>BRANCH_NAME</u>] [<b>--git-ignore-branch</b>]
                        [<b>--git-[no-]submodules</b>] [<b>--git-builder=</b> <u>BUILD_CMD</u>] [<b>--git-cleaner=</b> <u>CLEAN_CMD</u>]
                        [<b>--git-[no-]overlay</b>] [<b>--git-[no-]pbuilder</b>] [<b>--git-[no-]qemubuilder</b>] [<b>--git-dist=</b> <u>DIST</u>]
                        [<b>--git-arch=</b> <u>ARCH</u>] [<b>--git-[no-]pbuilder-autoconf</b>] [<b>--git-pbuilder-options</b>=
                        <u>PBUILDER_OPTIONS</u>] [<b>--git-[no-]sign-tags</b>] [<b>--git-keyid=</b> <u>GPG-KEYID</u>] [<b>--git-preexport=</b>
                        <u>COMMAND</u>] [<b>--git-postexport=</b> <u>COMMAND</u>] [<b>--git-prebuild=</b> <u>COMMAND</u>] [<b>--git-postbuild=</b>
                        <u>COMMAND</u>] [<b>--git-posttag=</b> <u>COMMAND</u>] [<b>--git-[no-]hooks</b>] [<b>--git-debian-tag=</b> <u>tag-format</u>]
                        [<b>--git-debian-tag-msg=</b> <u>tag-msg-format</u>] [<b>--git-upstream-tag=</b> <u>tag-format</u>]
                        [<b>--git-force-create</b>] [<b>--git-no-create-orig</b>] [<b>--git-upstream-signatures=</b>[auto|on|off]]
                        [<b>--git-upstream-tree=</b> <u>[BRANCH|SLOPPY|TAG|TREEISH]</u>] [<b>--git-tarball-dir=</b> <u>DIRECTORY</u>]
                        [<b>--git-compression=</b> <u>TYPE</u>] [<b>--git-compression-level=</b> <u>LEVEL</u>] [<b>--git-component=</b>
                        <u>component</u>]... [<b>--git-export-dir=</b> <u>DIRECTORY</u>] [<b>--git-export=</b> <u>TREEISH</u>]
                        [<b>--git-[no-]pristine-tar</b>] [<b>--git-[no-]pristine-tar-commit</b>] [<b>--git-[no-]-purge</b>]
                        [<b>--git-tag-only</b>] [<b>--git-retag</b>] [<b>OPTION_PASSED_TO_BUILD_CMD</b>]...

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>gbp</b> <b>buildpackage</b>  is  used to build Debian source and .deb packages from a Git repository. For a complete
       description of concepts, git repository layout and  recommended  workflows,  see  the  online  manual  at
       https://gbp.sigxcpu.org/manual/

       <b>gbp</b> <b>buildpackage</b> will, in order:

       • Verify that it is being executed from the proper location.

       • Verify that the repository doesn't contain any uncommitted source changes.

       • Verify that it is being executed from the correct branch.

       • (Optionally) run a clean command specified with <b>--git-cleaner</b>.

       • (Optionally) export the source tree to a separate build area.

       • Build an orig tarball if it doesn't exist. Optionally using pristine-tar.

       • (Optionally) call a pre build hook.

       • Call <a href="../man1/debuild.1.html">debuild</a>(1) or Cowbuilder (via <b>--git-pbuilder</b>) or the application specified via <b>--git-builder</b> pass‐
         ing along all arguments given to <b>gbp</b> <b>buildpackage</b> on the command line that don't start with --git-.

       • (Optionally) tag the current commit after a successful build.

       • (Optionally) call a post build hook - e.g. to run <b>lintian</b>.

       • (Optionally)  call a post tag hook - e.g. to push the results to a remote repository after creating the
         tag.

</pre><h4><b>OPTIONS</b></h4><pre>
       All options are prefixed with <b>git-</b> to distinguish options for <b>gbp</b> <b>buildpackage</b> from options passed to the
       <u>BUILD_CMD</u>:

   <b>UPSTREAM</b> <b>TARBALL</b> <b>CREATION</b> <b>OPTIONS</b>
       When <b>gbp</b> <b>buildpackage</b> doesn't find a suitable upstream tarball it will create one either using  pristine-
       tar or <b>git</b> <b>archive</b>. These options determine how the tarball is created:

       <b>--git-pristine-tar</b>
              Use pristine-tar when generating the upstream tarball if it doesn't exist. If this mode is enabled
              the <b>--git-upstream-tag</b>, <b>--git-upstream-tree</b> options have no effect when creating tarballs.

       <b>--git-upstream-tag=</b><u>TAG-FORMAT</u>
              Use this tag format when looking for tags of upstream versions to build the upstream tarballs. De‐
              fault  is <u>upstream/%(version)s</u>. This must be set correctly if you don't want to pass any other op‐
              tions. The default matches what <b>gbp</b> <b>import-orig</b> uses to create tags.

       <b>--git-upstream-tree=</b><u>[BRANCH|SLOPPY|TAG|TREEISH]</u>
              How to find the upstream sources used to generate the tarball.  <u>TAG</u> (the default) looks at  a  tag
              corresponding  to  the version in the changelog. <u>BRANCH</u> looks at the upstream branch given via the
              <b>--git-upstream-branch</b> option. The <u>SLOPPY</u> option looks at the debian branch given via the <b>--git-de‐</b>
              <b>bian-branch</b> and drops the <u>debian/</u> dir.

              Other values are interpreted as treeishs.

              This doesn't have any effect if <b>--git-pristine-tar</b> is being used.

       <b>--git-upstream-branch</b>=<u>BRANCH_NAME</u>
              Branch to build the orig tarball from if <b>--git-upstream-tree</b> is set  to  <u>BRANCH</u>.  Default  is  <u>up‐</u>
              <u>stream</u>.

       <b>--git-tarball-dir=</b><u>DIRECTORY</u>
              Search  for  upstream  tarballs in <u>DIRECTORY</u> instead of generating them. If a tarball is not found
              here it will be generated nevertheless.  <u>DIRECTORY</u> can contain a version format substitution  pat‐
              tern, eg: <u>foo-%(version)s</u>.

       <b>--git-component=</b><u>COMPONENT</u>
              When  generating  tarballs  create  an  additional  upstream tarball of directory <u>COMPONENT</u> in the
              source tree. Using additional upstream tarballs is a feature of the 3.0 (quilt) source format. See
              the <b>dpkg-source</b> manpage for details. Note that the <u>--git-pristine-tar-commit</u> option  is  currently
              incompatible with this option.

              This is considered an experimental feature and might change incompatibly.

       <b>--git-pristine-tar-commit</b>
              Commit  the  pristine-tar  delta to the pristine-tar branch if a new tarball was generated and the
              pristine-tar data isn't already there.

       <b>--git-force-create</b>
              Force creation of an upstream tarball (overwriting a pre-existing one if present).

       <b>--git-no-create-orig</b>
              Don't try to create any upstream tarballs or to create  symlinks  to  existing  tarballs  in  <b>tar‐</b>
              <b>ball-dir</b>.

       <b>--git-upstream-signatures=</b>[auto|on|off]
              Whether to export the upstream tarball with signatures.

       <b>--git-[no-]submodules</b>
              Include Git submodules in the orig tarball if present.

       <b>--git-compression=</b><u>TYPE</u>
              Specifies  the  upstream  tarball  compression type. This will be used to locate and build the up‐
              stream tarball if necessary. The default is <u>auto</u> which derives the compression type from the pris‐
              tine-tar branch if available and falls back to gzip otherwise. Other options are <u>gzip</u>, <u>bzip2</u>, <u>lzma</u>
              and <u>xz</u>.

       <b>--git-compression-level=</b><u>LEVEL</u>
              Specifies the upstream tarball compression level if an upstream tarball needs to be built.

   <b>PACKAGE</b> <b>BUILD</b> <b>OPTIONS</b>
       <b>gbp</b> <b>buildpackage</b> can invoke different types of builders to produce the source and binary packages.  These
       options determine which builder is invoked and how.

       <b>--git-builder=</b><u>BUILD_CMD</u>
              Use  <u>BUILD_CMD</u>  instead  of  <b>debuild</b>  <b>-i</b>  <b>-I</b>.  If  you  want to use Cowbuilder or Pbuilder see the
              <b>--git-pbuilder</b>.

       <b>--git-cleaner=</b><u>CLEAN_CMD</u>
              Use <u>CLEAN_CMD</u> to clean the source tree before the build. The default is <b><a href="file:/bin/true">/bin/true</a></b> (no cleaning).

       <b>--git-pbuilder</b>
              Build the package using <b>git-pbuilder</b> (which uses <b>cowbuilder</b> by default). Note that this overwrites
              any <b>--git-builder</b> and <b>--git-cleaner</b> options.

       <b>--git-qemubuilder</b>
              Build package using <b>git-pbuilder</b> with <b>qemubuilder</b>. Note that this overwrites any <b>--git-builder</b> and
              <b>--git-cleaner</b> options.

       <b>--git-dist=</b><u>DIST</u>
              Build for distribution <u>DIST</u> when using <b>git-pbuilder</b> (either via <b>--git-pbuilder</b>,  <b>--git-qemubuilder</b>
              or  the  corresponding  configuration file options). If unset build for the unstable distribution.
              The special value DEP14 will set the distribution to build for  from  the  branch  name.  I.e.  if
              you're  starting  the build from a branch named <u>debian/wheezy-backports</u> the distribution is set to
              <u>wheezy-backports</u> or if the branch is named <u>debian/12-bookworm</u> the distribution is set to  <u>bookworm</u>
              (the numeric prefix is stripped). If the branch is named <u>downstream/sid</u> the distribution is set to
              <u>downstream_sid</u>.

       <b>--git-arch=</b><u>ARCH</u>
              Build  for architecture <u>ARCH</u> when using <b>git-pbuilder</b> (either via <b>--git-pbuilder</b>, <b>--git-qemubuilder</b>
              or the corresponding configuration file options). If unset  no  architecture  is  passed  to  <b>git-</b>
              <b>pbuilder</b>.

       <b>--git-pbuilder-autoconf</b>
              Whether  to  try  to autoconfigure <b>git-pbuilder</b> or to rely on the settings in .pbuilderrc. See the
              <b>git-pbuilder</b>  manpage  for  details.  Only  takes  effect  when  using  <b>git-pbuilder</b>  (either  via
              <b>--git-pbuilder</b>, <b>--git-qemubuilder</b> or the corresponding configuration file options).

       <b>--git-pbuilder-options</b>
              Options  to  pass to pbuilder when building via <b>git-pbuilder</b> (either via <b>--git-pbuilder</b>, <b>--git-qe‐</b>
              <b>mubuilder</b>  or  the  corresponding  configuration  file  options).  It  does  so   by   using   the
              <b>GIT_PBUILDER_OPTIONS</b> environment variable to pass options to <b>git-pbuilder</b>.

              As an example, to tell pbuilder to use an alternate .pbuilderrc file, you may run <b>gbp</b> <b>buildpackage</b>
              with <b>--git-pbuilder-options=</b><u>"--configfile</u> <u>/tmp/my/pbuilderrc"</u>. See <b><a href="../man8/pbuilder.8.html">pbuilder</a></b>(8) for more options to
              pass through here.

              If unset the <b>GIT_PBUILDER_OPTIONS</b> environment variable will be left untouched.

       <b>--git-notify=</b>[auto|on|off]
              Whether to send a desktop notification after the build. This needs python3-notify2 installed.

   <b>HOOK</b> <b>OPTIONS</b>
       Hooks  allow you to run arbitrary commands at different stages of the build. These options configure what
       will be run:

       <b>--git-preexport=</b><u>COMMAND</u>
              Execute <u>COMMAND</u> before exporting the source tree. Valid only if --git-export-dir has  been  speci‐
              fied.

              Exported  environment variables are: <b>GBP_GIT_DIR</b> (the repository the package is being built from),
              <b>GBP_BUILD_DIR</b> (the build dir).

       <b>--git-postexport=</b><u>COMMAND</u>
              Execute <u>COMMAND</u> after exporting the source tree. Valid only if --git-export-dir  has  been  speci‐
              fied. The working directory of this hook is the toplevel directory of the exported source tree.

              Exported  environment variables are: <b>GBP_GIT_DIR</b> (the repository the package is being built from),
              <b>GBP_TMP_DIR</b> (the temporary directory where the sources have been initially exported).

       <b>--git-prebuild=</b><u>COMMAND</u>
              Execute <u>COMMAND</u> from the build directory before calling debuild or the application  specified  via
              <b>--git-builder</b>.

              Exported  environment variables are: <b>GBP_GIT_DIR</b> (the repository the package is being built from),
              <b>GBP_BUILD_DIR</b> (the build dir).

       <b>--git-postbuild=</b><u>COMMAND</u>
              Execute <u>COMMAND</u> after successful build. The working directory of this hook is  the  directory  the
              package was built in.

              Exported  environment  variables  are:  <b>GBP_CHANGES_FILE</b> (the name of the generated changes file),
              <b>GBP_BUILD_DIR</b> (the build dir).

       <b>--git-posttag=</b><u>COMMAND</u>
              Execute <u>COMMAND</u> after tagging a new version. The working directory of this hook  is  the  toplevel
              directory of the Git repository.

              Exported  environment  variables  are:  <b>GBP_TAG</b>  (the  name of the generated tag), <b>GBP_BRANCH</b> (the
              branch the package was built from) and <b>GBP_SHA1</b> (the sha1 of the commit the tag was created at).

       <b>--git-[no-]hooks</b>
              Enable running all (cleaner, preexport, postexport, prebuild, postbuild, and posttag) hooks. Note:
              the <b>--git-builder</b> command is not affected by this option.

   <b>TAGGING</b> <b>OPTIONS</b>
       <b>--git-tag</b>
              Add a git tag after a successful build. It tags the  currently  checked  out  commit  except  when
              you're on a patch-queue branch. In that case the corresponding debian branch is tagged.

              This is a command line only option that cannot be specified via <u>gbp.conf</u>.

       <b>--git-[no-]sign-tags</b>
              GPG sign all created tags.

       <b>--git-keyid=</b><u>GPG-KEYID</u>
              Use this keyid for gpg signing tags.

       <b>--git-debian-tag=</b><u>TAG-FORMAT</u>
              Use this tag format when tagging Debian versions, default is <u>debian/%(version)s</u>.

       <b>--git-debian-tag-msg=</b><u>tag-msg-format</u>
              Use this tag message format when signing Debian versions, default is <u>%(pkg)s</u> <u>Debian</u> <u>release</u> <u>%(ver‐</u>
              <u>sion)s</u>

       <b>--git-retag</b>
              Don't  fail  tag  operations if a tag with the same version already exists. This is a command line
              only option that cannot be specified via <u>gbp.conf</u>.

       <b>--git-tag-only</b>
              Don't build, only tag and run post-tag hooks. This is a command line only option  that  cannot  be
              specified via <u>gbp.conf</u>.

   <b>BUILD</b> <b>AREA</b> <b>OPTIONS</b>
       <b>gbp</b> <b>buildpackage</b>  can  export the source tree to a different build-area before performing the build. This
       options specify if and how this is done:

       <b>--git-export-dir=</b><u>DIRECTORY</u>
              Export the current branch head (or the treeish object given via <b>--git-export</b> to  <u>DIRECTORY</u>  before
              building. If unset the source will not be exported before starting the build.

       <b>--git-export=</b><u>TREEISH</u>
              Instead  of exporting the current branch head, export the treeish object <u>TREEISH</u>. The special name
              <u>INDEX</u> exports the current index whereas the special name <u>WC</u> exports the current  working  copy  as
              is.

              Note that using <u>WC</u> enables the <b>--git-ignore-branch</b> and <b>--git-ignore-new</b> options as well since when
              exporting the working copy there's no point in enforcing any branch or modification checks.

       <b>--git[-no]-purge</b>
              Purge  (remove) temporary build area after build. This is the default but it can be turned off for
              e.g. debugging purposes.

       <b>--git-[no-]overlay</b>
              Extract upstream tarball from <b>tarball-dir</b> when using the <b>export-dir</b> option (in analogy  to  merge‐
              WithUpstream  in  svn-bp). Also remove debian/ if contained in the upstream tarball in case of 2.0
              and 3.0 source formats.

              This option allows one to keep only the debian/ dir in the version control system.

   <b>SAFETY</b> <b>OPTIONS</b>
       In order to make sure what you build is what you upload <b>gbp</b> <b>buildpackage</b> performs several safety  checks.
       These options allow one to configure and disable them:

       <b>--git-debian-branch</b>=<u>BRANCH_NAME</u>
              If  you're not on this branch when invoking <b>gbp</b> <b>buildpackage</b> it will fail. Default is <u>master</u>. This
              is done to make sure you don't accidentally release from a topic branch. Not being on this  branch
              will be ignored when using <b>--git-ignore-new</b>.

       <b>--git-ignore-branch</b>
              Don't check if the current branch matches <u>DEBIAN-BRANCH</u>.

       <b>--git-[no-]ignore-new</b>
              Don't  abort  if  there  are  uncommitted changes in the source tree or the current branch doesn't
              match the <u>DEBIAN-BRANCH</u>.

   <b>COLOR</b> <b>AND</b> <b>VERBOSITY</b> <b>OPTIONS</b>
       <b>--git-verbose</b>
              Verbose execution. Useful for debugging and bug reports.

       <b>--git-color=</b>[auto|on|off]
              Whether to use colored output.

       <b>--git-color-scheme</b>=<u>COLOR_SCHEME</u>
              Colors to use in output (when color is enabled). The  format  for  COLOR_SCHEME  is  '&lt;debug&gt;:&lt;in‐
              fo&gt;:&lt;warning&gt;:&lt;error&gt;'.  Numerical values and color names are accepted, empty fields imply the de‐
              fault  color.  For  example --git-color-scheme='cyan:34::' would show debug messages in cyan, info
              messages in blue and other messages in default (i.e. warning and error messages in red).

</pre><h4><b>EXAMPLES</b></h4><pre>
       Build a package without passing any arguments, simply using package specific options from <u>debian/gbp.conf</u>
       and user scpecific options from <u><a href="file:~/.gbp.conf">~/.gbp.conf</a></u> (if any). By default will run <b>debuild</b> in current directory:

             gbp buildpackage

       Build a source-only package that can be signed and uploaded to Debian:

             gbp buildpackage -S -d

       Build a Debian package using <b>git-pbuilder</b> which in turn invokes <b>cowbuilder</b>. Instruct cowbuilder to  build
       within a Wheezy chroot for i386.

             <b>gbp</b> <b>buildpackage</b> --git-pbuilder --git-arch=i386 --git-dist=wheezy

       Note that the above needs a <b>cowbuilder</b> chroot already. This can be created using:

             DIST=wheezy ARCH=i386 <b>git-pbuilder</b> create

       To export the source tree without performing any build you can use:

             gbp buildpackage --git-export-dir=/where/to/export --git-builder=<a href="file:/bin/true">/bin/true</a> --git-no-pbuilder --git-no-hooks --git-no-purge

</pre><h4><b>CONFIGURATION</b> <b>FILES</b></h4><pre>
       Several  <u>gbp.conf</u>  files  are  parsed  to  set  defaults  for  the  above command-line arguments. See the
       <b><a href="../man5/gbp.conf.5.html">gbp.conf</a></b>(5) manpage for details.

       All options in the config  files  must  be  specified  without  the  'git-'  prefix.  So  e.g.  <b>--git-de‐</b>
       <b>bian-branch</b>=<u>debian/latest</u> becomes in <u>gbp.conf</u>:

             [buildpackage]
             debian-branch = debian/latest

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man1/gbp-import-dsc.1.html">gbp-import-dsc</a></b>(1),  <b><a href="../man1/gbp-import-dscs.1.html">gbp-import-dscs</a></b>(1),  <b><a href="../man1/gbp-import-orig.1.html">gbp-import-orig</a></b>(1),  <b><a href="../man1/gbp-dch.1.html">gbp-dch</a></b>(1), <b><a href="../man1/git-pbuilder.1.html">git-pbuilder</a></b>(1), <b><a href="../man8/cowbuilder.8.html">cowbuilder</a></b>(8),
       <b><a href="../man1/dpkg-source.1.html">dpkg-source</a></b>(1), <b><a href="../man1/git-submodule.1.html">git-submodule</a></b>(1), <b><a href="../man5/gbp.conf.5.html">gbp.conf</a></b>(5), <b><a href="../man1/debuild.1.html">debuild</a></b>(1), <b><a href="../man1/git.1.html">git</a></b>(1), <b><a href="../man1/pristine-tar.1.html">pristine-tar</a></b>(1), The Git-Buildpackage
       Manual ⟨file:///usr/share/doc/git-buildpackage/manual-html/index.html⟩

</pre><h4><b>AUTHOR</b></h4><pre>
       Guido Günther &lt;<a href="mailto:agx@sigxcpu.org">agx@sigxcpu.org</a>&gt;

                                                 9 January 2025                              <u><a href="../man1/gbp-buildpackage.1.html">gbp-buildpackage</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>