<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>pmdacisco - Cisco router performance metrics domain agent (PMDA)</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/pcp">pcp_6.3.3-1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       <b>pmdacisco</b> - Cisco router performance metrics domain agent (PMDA)

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>$PCP_PMDAS_DIR/cisco/pmdacisco</b>  [<b>-d</b>  <u>domain</u>]  [<b>-l</b>  <u>logfile</u>]  [<b>-U</b> <u>username</u>] [<b>-P</b> <u>password</u>] [<b>-r</b> <u>refresh</u>] [<b>-s</b>
       <u>prompt</u>] [<b>-M</b> <u>username</u>] [<b>-x</b> <u>port</u>] <u>host:interface-spec</u> [...]
       <b>$PCP_PMDAS_DIR/cisco/parse</b> [options] <u>host:interface-spec</u> [...]
       <b>$PCP_PMDAS_DIR/cisco/probe</b> [<b>-P</b> <u>password</u>] [<b>-s</b> <u>prompt</u>] [<b>-U</b> <u>username</u>] [<b>-x</b> <u>port</u>] <u>host</u>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>pmdacisco</b> is a Performance Metrics Domain Agent (PMDA) which extracts performance  metrics  from  one  or
       more Cisco routers.

       A brief description of the <b>pmdacisco</b> command line options follows:

       <b>-d</b>   It  is  absolutely  crucial  that the performance metrics <u>domain</u> number specified here is unique and
            consistent.  That is, <u>domain</u> should be different for every PMDA on the one host, and the same <u>domain</u>
            number should be used for the same PMDA on all hosts.

       <b>-l</b>   Location of the log file.  By default, a  log  file  named  <u>cisco.log</u>  is  written  in  the  current
            directory  of <b><a href="../man1/pmcd.1.html">pmcd</a></b>(1) when <b>pmdacisco</b> is started, i.e.  <u>$PCP_LOG_DIR/pmcd</u>.  If the log file cannot be
            created or is not writable, output is written to the standard error instead.

       <b>-P</b>   By default, it is assumed that no user-level password is required to access the Cisco's telnet port.
            If user-level passwords have been enabled on the Ciscos, then those passwords must be  specified  to
            <b>pmdacisco</b>.   If  specified  with  the  <b>-P</b>  option,  <u>password</u>  will be used as the default user-level
            password for all Ciscos.  See also the INTERFACE IDENTIFICATION section below.

       <b>-r</b>   <b>pmdacisco</b> will refresh the current values for all  performance  metrics  by  contacting  each  Cisco
            router once every <u>refresh</u> seconds.  The default <u>refresh</u> is 120 seconds.

       <b>-s</b>   The  Cisco  command  prompt  ends with the string <u>prompt</u>.  The default value is ``&gt;''.  The only way
            <b>pmdacisco</b> can synchronize the sending of commands and the parsing of output is by recognizing <u>prompt</u>
            as a unique string that comes at the end of all output, i.e. as the command prompt when waiting  for
            the next command.

       <b>-U</b>   By  default, it is assumed that no username login is required to access the Cisco's telnet port.  If
            username login has been enabled on the Ciscos, then the corresponding usernames must be specified to
            <b>pmdacisco</b>.  If specified with the <b>-U</b> option, <u>username</u> will be used as the default username login for
            all Ciscos.  See also the INTERFACE IDENTIFICATION section below.

       <b>-M</b>   User account under which to run the agent.  The default is the unprivileged "pcp" account in current
            versions of PCP, but in older versions the superuser account ("root") was used by default.

       <b>-x</b>   Connect to the Cisco via TCP port number <u>port</u> rather than the default 23 for a telnet connection.

       For each interface, once the telnet connection is established, <b>pmdacisco</b> is  willing  to  wait  up  to  5
       seconds  for  the Cisco to provide a new snapshot of the requested information.  If this does not happen,
       the telnet connection is broken and no values are returned.  This prevents <b>pmdacisco</b> tying up the Cisco's
       telnet ports waiting indefinitely when the response from the router is not what is expected, e.g. if  the
       format  of  the ``show int'' output changes, or the command is in error because an interface is no longer
       configured on the router.

</pre><h4><b>INTERFACE</b> <b>IDENTIFICATION</b></h4><pre>
       As each Cisco router can support multiple network interfaces and/or multiple communications protocols, it
       is necessary to tell <b>pmdacisco</b> which interfaces are to be monitored.

       The <u>host:interface-spec</u> arguments on the command line define a particular interface on a particular Cisco
       router.  <u>host</u> should be a hostname or a ``dot-notation'' IP address that identifies the telnet port of  a
       particular Cisco router.  There are several components of the <u>interface-spec</u> as follows.

       protocol
              One  of  the  abbreviations  <b>a</b>,  <b>B</b>,  <b>E</b>,  <b>e</b>,  <b>f</b>,  <b>G</b>,  <b>h</b>,  <b>s</b> or <b>Vl</b> respectively for ATM, BRI (ISDN),
              FastEthernet, Ethernet, FDDI, GigabitEthernet, HSSI, serial or Vlan.

       interface
              Depending on the model of the Cisco, this will either be  an  integer,  e.g.  <b>s0</b>,  or  an  integer
              followed  by  a  slash  (``/'')  followed  by a subinterface identification in one of a variety of
              syntactic forms, e.g. <b>e1/0</b>, <b>G0/0/1</b> or <b>s4/2.1</b>.

              To discover the valid interfaces on  a  particular  Cisco,  connect  to  the  telnet  port  (using
              <b><a href="../man1/telnet.1.html">telnet</a></b>(1))  and  enter the command "show int" and look for the interface identifiers following the
              keywords ``Ethernet'', ``Fddi'', ``Serial'', etc.

              Alternatively run the <b>probe</b> command.

       username
              If there is a username login, and it is different to  the  default  (see  <b>-U</b>  above),  it  may  be
              optionally specified here by appending ``@'' and the username to the end of <u>interface-spec</u>.

       password
              If  there  is  a user-level password, and it is different to the default (see <b>-P</b> above), it may be
              optionally specified here by appending a question mark (``?'') and the  password  to  the  end  of
              <u>interface-spec</u>.

       prompt If  the  Cisco  command  prompt  is  different to the default (see <b>-s</b> above), it may be optionally
              specified here by appending an exclamation mark (``!'') and the prompt to the  end  of  <u>interface-</u>
              <u>spec</u>.

       The following are examples of valid <u>interface-spec</u> arguments.
                 my-router:e1/2
                 123.456.789.0:s0
                 wancisco:f2/3?trust_me
                 somecisco:G1/0!myprompt
                 cisco34.foo.bar.com:e2?way2cool
                 mycisco:s2/2.1@mylogin
                 yourcisco:E0/0@yourlogin?yourpassword
                 mycisco:E0/0@mylogin?mypassword!myprompt

</pre><h4><b>HELPER</b> <b>UTILITIES</b></h4><pre>
       The  <b>probe</b>  command  may  be  used  to discover the names of all interfaces for a particular Cisco router
       identified by <u>host</u>.  The <b>-P</b> argument is the same as for <b>pmdacisco</b>.

       The <b>parse</b> command takes exactly the same arguments as <b>pmdacisco</b>, but executes outside the control of  any
       <b><a href="../man1/pmcd.1.html">pmcd</a></b>(1) and so may be used to diagnose problems with handling a particular Cisco router and/or one of its
       interfaces.

       Additional  diagnostic  verbosity  may  be  produced  using the <b>-D</b> <b>appl0,appl1,appl2</b> command line option.
       <b>appl0</b> logs connect and disconnect events, login  progress,  high-level  flow  of  control  and  extracted
       statistics.   <b>appl1</b>  traces  all commands sent to the Cisco device.  <b>appl2</b> logs tokenising and parsing of
       the output from the Cisco device.  Diagnostics are generated on standard error as each sample is  fetched
       and parsed.

</pre><h4><b>INSTALLATION</b></h4><pre>
       If you want access to the names, help text and values for the Cisco performance metrics, do the following
       as root:

            # cd $PCP_PMDAS_DIR/cisco
            # ./Install

       If you want to undo the installation, do the following as root:

            # cd $PCP_PMDAS_DIR/cisco
            # ./Remove

       <b>pmdacisco</b>  is  launched by <b><a href="../man1/pmcd.1.html">pmcd</a></b>(1) and should never be executed directly.  The Install and Remove scripts
       notify <b><a href="../man1/pmcd.1.html">pmcd</a></b>(1) when the agent is installed or removed.

</pre><h4><b>FILES</b></h4><pre>
       <b>$PCP_PMCDCONF_PATH</b>
                 command line options used to launch <b>pmdacisco</b>
       <b>$PCP_PMDAS_DIR/cisco/help</b>
                 default help text file for the Cisco metrics
       <b>$PCP_PMDAS_DIR/cisco/Install</b>
                 installation script for the <b>pmdacisco</b> agent
       <b>$PCP_PMDAS_DIR/cisco/Remove</b>
                 undo installation script for the <b>pmdacisco</b> agent
       <b>$PCP_LOG_DIR/pmcd/cisco.log</b>
                 default log file for error messages and other information from <b>pmdacisco</b>

</pre><h4><b>PCP</b> <b>ENVIRONMENT</b></h4><pre>
       Environment variables with the prefix <b>PCP_</b> are used to parameterize the file and directory names used  by
       PCP.   On  each  installation, the file <u>/etc/pcp.conf</u> contains the local values for these variables.  The
       <b>$PCP_CONF</b> variable may be used to specify an alternative configuration file, as described in <b><a href="../man5/pcp.conf.5.html">pcp.conf</a></b>(5).

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man1/pmcd.1.html">pmcd</a></b>(1), <b><a href="../man5/pcp.conf.5.html">pcp.conf</a></b>(5) and <b><a href="../man5/pcp.env.5.html">pcp.env</a></b>(5).

Performance Co-Pilot                                   PCP                                          <u><a href="../man1/PMDACISCO.1.html">PMDACISCO</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>