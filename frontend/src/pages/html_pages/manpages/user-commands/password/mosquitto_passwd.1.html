<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>mosquitto_passwd - manage password files for mosquitto</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/mosquitto">mosquitto_2.0.21-1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       mosquitto_passwd - manage password files for mosquitto

</pre><h4><b>SYNOPSIS</b></h4><pre>

       <b>mosquitto_passwd</b> [<b>-H</b> <u>hash</u>] [<b>-c</b> | <b>-D</b>] <u>passwordfile</u> <u>username</u>

       <b>mosquitto_passwd</b> [<b>-H</b> <u>hash</u>] <b>-b</b> <u>passwordfile</u> <u>username</u> <u>password</u>

       <b>mosquitto_passwd</b> <b>-U</b> <u>passwordfile</u>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>mosquitto_passwd</b> is a tool for managing password files for the mosquitto MQTT broker.

       Usernames must not contain ":". Passwords are stored in a similar format to <b><a href="../man3/crypt.3.html">crypt</a></b>(3).

</pre><h4><b>OPTIONS</b></h4><pre>
       <b>-b</b>
           Run in batch mode. This allows the password to be provided at the command line which can be
           convenient but should be used with care because the password will be visible on the command line and
           in command history.

       <b>-c</b>
           Create a new password file. If the file already exists, it will be overwritten.

       <b>-D</b>
           Delete the specified user from the password file.

       <b>-H</b>
           Choose the hash to use. Can be one of <u>sha512-pbkdf2</u> or <u>sha512</u>. Defaults to <u>sha512-pbkdf2</u>. The <u>sha512</u>
           option is provided for creating password files for use with Mosquitto 1.6 and earlier.

       <b>-U</b>
           This option can be used to upgrade/convert a password file with plain text passwords into one using
           hashed passwords. It will modify the specified file. It does not detect whether passwords are already
           hashed, so using it on a password file that already contains hashed passwords will generate new
           hashes based on the old hashes and render the password file unusable.

       <b>passwordfile</b>
           The password file to modify.

       <b>username</b>
           The username to add/update/delete.

       <b>password</b>
           The password to use when in batch mode.

</pre><h4><b>EXIT</b> <b>STATUS</b></h4><pre>
       mosquitto_sub returns zero on success, or non-zero on error. If the connection is refused by the broker
       at the MQTT level, then the exit code is the CONNACK reason code. If another error occurs, the exit code
       is a libmosquitto return value.

       MQTT v3.1.1 CONNACK codes:

       •   <b>0</b> Success

       •   <b>1</b> Connection refused: Bad protocol version

       •   <b>2</b> Connection refused: Identifier rejected

       •   <b>3</b> Connection refused: Server unavailable

       •   <b>4</b> Connection refused: Bad username/password

       •   <b>5</b> Connection refused: Not authorized

       MQTT v5 CONNACK codes:

       •   <b>0</b> Success

       •   <b>128</b> Unspecified error

       •   <b>129</b> Malformed packet

       •   <b>130</b> Protocol error

       •   <b>131</b> Implementation specific error

       •   <b>132</b> Unsupported protocol version

       •   <b>133</b> Client ID not valid

       •   <b>134</b> Bad username or password

       •   <b>135</b> Not authorized

       •   <b>136</b> Server unavailable

       •   <b>137</b> Server busy

       •   <b>138</b> Banned

       •   <b>139</b> Server shutting down

       •   <b>140</b> Bad authentication method

       •   <b>141</b> Keep alive timeout

       •   <b>142</b> Session taken over

       •   <b>143</b> Topic filter invalid

       •   <b>144</b> Topic name invalid

       •   <b>147</b> Receive maximum exceeded

       •   <b>148</b> Topic alias invalid

       •   <b>149</b> Packet too large

       •   <b>148</b> Message rate too high

       •   <b>151</b> Quota exceeded

       •   <b>152</b> Administrative action

       •   <b>153</b> Payload format invalid

       •   <b>154</b> Retain not supported

       •   <b>155</b> QoS not supported

       •   <b>156</b> Use another server

       •   <b>157</b> Server moved

       •   <b>158</b> Shared subscriptions not supported

       •   <b>159</b> Connection rate exceeded

       •   <b>160</b> Maximum connect time

       •   <b>161</b> Subscription IDs not supported

       •   <b>162</b> Wildcard subscriptions not supported

</pre><h4><b>EXAMPLES</b></h4><pre>
       Add a user to a new password file:

       •   mosquitto_passwd -c /etc/mosquitto/passwd ral

       Delete a user from a password file

       •   mosquitto_passwd -D /etc/mosquitto/passwd ral

</pre><h4><b>BUGS</b></h4><pre>
       <b>mosquitto</b> bug information can be found at <b>https://github.com/eclipse/mosquitto/issues</b>

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man8/mosquitto.8.html">mosquitto</a></b>(8), <b><a href="../man5/mosquitto.conf.5.html">mosquitto.conf</a></b>(5), <b><a href="../man7/mqtt.7.html">mqtt</a></b>(7)

</pre><h4><b>AUTHOR</b></h4><pre>
       Roger Light &lt;<a href="mailto:roger@atchoo.org">roger@atchoo.org</a>&gt;

Mosquitto Project                                  03/21/2025                                <u><a href="../man1/MOSQUITTO_PASSWD.1.html">MOSQUITTO_PASSWD</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>