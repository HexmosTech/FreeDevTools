<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>roc-send - send real-time audio</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/roc-toolkit-tools">roc-toolkit-tools_0.4.0+dfsg-4ubuntu1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       roc-send - send real-time audio

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>roc-send</b> <u>OPTIONS</u>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       Read audio stream from an audio device or file and send it to remote receiver.

   <b>Options</b>
       <b>-h</b>, <b>--help</b>
              Print help and exit

       <b>-V</b>, <b>--version</b>
              Print version and exit

       <b>-v</b>, <b>--verbose</b>
              Increase verbosity level (may be used multiple times)

       <b>-L</b>, <b>--list-supported</b>
              list supported schemes and formats

       <b>-i</b>,<u>--input</u><b>=IO_URI</b>
              Input file or device URI

       <b>--input-format=</b><u>FILE_FORMAT</u>
              Force input file format

       <b>-s</b>,<u>--source</u><b>=ENDPOINT_URI</b>
              Remote source endpoint

       <b>-r</b>,<u>--repair</u><b>=ENDPOINT_URI</b>
              Remote repair endpoint

       <b>-c</b>,<u>--control</u><b>=ENDPOINT_URI</b>
              Remote control endpoint

       <b>--reuseaddr</b>
              enable SO_REUSEADDR when binding sockets

       <b>--target-latency=</b><u>STRING</u>
              Target latency, TIME units

       <b>--io-latency=</b><u>STRING</u>
              Recording target latency, TIME units

       <b>--latency-tolerance=</b><u>STRING</u>
              Maximum deviation from target latency, TIME units

       <b>--nbsrc=</b><u>INT</u>
              Number of source packets in FEC block

       <b>--nbrpr=</b><u>INT</u>
              Number of repair packets in FEC block

       <b>--packet-len=</b><u>STRING</u>
              Outgoing packet length, TIME units

       <b>--frame-len=</b><u>TIME</u>
              Duration of the internal frames, TIME units

       <b>--max-packet-size=</b><u>SIZE</u>
              Maximum packet size, in SIZE units

       <b>--max-frame-size=</b><u>SIZE</u>
              Maximum internal frame size, in SIZE units

       <b>--rate=</b><u>INT</u>
              Override input sample rate, Hz

       <b>--latency-backend=</b><u>ENUM</u>
              Which latency to use in latency tuner (possible values="niq" default=`niq')

       <b>--latency-profile=</b><u>ENUM</u>
              Latency tuning profile  (possible values="responsive", "gradual", "intact" default=`intact')

       <b>--resampler-backend=</b><u>ENUM</u>
              Resampler backend  (possible values="default", "builtin", "speex", "speexdec" default=`default')

       <b>--resampler-profile=</b><u>ENUM</u>
              Resampler profile  (possible values="low", "medium", "high" default=`medium')

       <b>--interleaving</b>
              Enable packet interleaving  (default=off)

       <b>--profiling</b>
              Enable self profiling  (default=off)

       <b>--color=</b><u>ENUM</u>
              Set   colored   logging   mode  for  stderr  output  (possible  values="auto",  "always",  "never"
              default=`auto')

   <b>Endpoint</b> <b>URI</b>
       <b>--source</b>, <b>--repair</b>, and <b>--control</b> options define network endpoints to which to send the traffic.

       <u>ENDPOINT_URI</u> should have the following form:

       <b>protocol://host[:port][/path][?query]</b>

       Examples:

       • <b>rtsp://localhost:123/path?query</b>

       • <b>rtp+rs8m://localhost:123</b>

       • <b>rtp://127.0.0.1:123</b>

       • <b>rtp://[::1]:123</b>

       • <b>rtcp://10.9.8.3:123</b>

       The list of supported protocols can be retrieved using <b>--list-supported</b> option.

       The host field should be either FQDN (domain name), or IPv4 address, or IPv6 address in square brackets.

       The port field can be omitted if the protocol defines standard port. Otherwise, it is mandatory.

       The path and query fields are allowed only for protocols that support them, e.g. for RTSP.

       If FEC is enabled, a pair of a source and repair endpoints should be provided. The two  endpoints  should
       use  compatible  protocols, e.g. <b>rtp+rs8m://</b> for source endpoint, and <b>rs8m://</b> for repair endpoint. If FEC
       is disabled, a single source endpoint should be provided.

       Supported source and repair protocols:

       • source <b>rtp://</b>, repair none (bare RTP without FEC)

       • source <b>rtp+rs8m://</b>, repair <b>rs8m://</b> (RTP with Reed-Solomon FEC)

       • source <b>rtp+ldpc://</b>, repair <b>ldpc://</b> (RTP with LDPC-Staircase FEC)

       In addition, it is recommended to provide control endpoint. It is used to exchange non-media  information
       used  to  identify  session, carry feedback, etc. If no control endpoint is provided, session operates in
       reduced fallback mode, which may be less robust and may not support all features.

       Supported control protocols:

       • <b>rtcp://</b>

   <b>IO</b> <b>URI</b>
       <b>--input</b> option requires a device or file URI in one of the following forms:

       • <b>DEVICE_TYPE://DEVICE_NAME</b> -- audio device

       • <b>DEVICE_TYPE://default</b> -- default audio device for given device type

       • <b>file:///ABS/PATH</b> -- absolute file path

       • <b>file://localhost/ABS/PATH</b> -- absolute file path (alternative form; only "localhost" host is supported)

       • <b>file:/ABS/PATH</b> -- absolute file path (alternative form)

       • <b>file:REL/PATH</b> -- relative file path

       • <b>file://-</b> -- stdin

       • <b>file:-</b> -- stdin (alternative form)

       Examples:

       • <b>pulse://default</b>

       • <b>pulse://alsa_input.pci-0000_00_1f.3.analog-stereo</b>

       • <b>alsa://hw:1,0</b>

       • <b>file:///home/user/test.wav</b>

       • <b>file://localhost/home/user/test.wav</b>

       • <b>file:/home/user/test.wav</b>

       • <b>file:./test.wav</b>

       • <b>file:-</b>

       The list of supported schemes and file formats can be retrieved using <b>--list-supported</b> option.

       If the <b>--input</b> is omitted, the default driver and device are selected.

       The <b>--input-format</b> option can be used to force the input file format. If it is omitted, the  file  format
       is auto-detected. This option is always required when the input is stdin.

       The  path  component  of  the  provided URI is <u>percent-decoded</u>. For convenience, unencoded characters are
       allowed as well, except that <b>%</b> should be always encoded as <b>%25</b>.

       For example, the file named <b>/foo/bar%/[baz]</b>  may  be  specified  using  either  of  the  following  URIs:
       <b>file:///foo%2Fbar%25%2F%5Bbaz%5D</b> and <b>file:///foo/bar%25/[baz]</b>.

   <b>Multiple</b> <b>slots</b>
       Multiple sets of endpoints can be specified to send media to multiple addresses.

       Such  endpoint  sets  are  called  slots.  All  slots should have the same set of endpoint types (source,
       repair, etc) and should use the same protocols for them.

   <b>SO_REUSEADDR</b>
       If <b>--reuseaddr</b> option is provided, <b>SO_REUSEADDR</b> socket option will be enabled for all sockets.

       For TCP, it allows immediately reusing recently closed socket in TIME_WAIT state, which may be useful you
       want to be able to restart server quickly.

       For UDP, it allows multiple processes to bind to the same address, which may be useful  if  you're  using
       systemd socket activation.

       Regardless of the option, <b>SO_REUSEADDR</b> is always disabled when binding to ephemeral port.

   <b>Time</b> <b>units</b>
       <u>TIME</u> <b>should</b> <b>have</b> <b>one</b> <b>of</b> <b>the</b> <b>following</b> <b>forms:</b>
              123ns; 1.23us; 1.23ms; 1.23s; 1.23m; 1.23h;

   <b>Size</b> <b>units</b>
       <u>SIZE</u> <b>should</b> <b>have</b> <b>one</b> <b>of</b> <b>the</b> <b>following</b> <b>forms:</b>
              123; 1.23K; 1.23M; 1.23G;

</pre><h4><b>EXAMPLES</b></h4><pre>
   <b>Endpoint</b> <b>examples</b>
       Send file to receiver with one bare RTP endpoint:

          $ roc-send -vv -i file:./input.wav -s rtp://192.168.0.3:10001

       Send file to receiver with IPv4 source, repair, and control endpoints:

          $ roc-send -vv -i file:./input.wav -s rtp+rs8m://192.168.0.3:10001 \
              -r rs8m://192.168.0.3:10002 -c rtcp://192.168.0.3:10003

       Send file to receiver with IPv6 source, repair, and control endpoints:

          $ roc-send -vv -i file:./input.wav -s rtp+rs8m://[2001:db8::]:10001 \
              -r rs8m://[2001:db8::]:10002 -r rtcp://[2001:db8::]:10003

       Send file to two receivers, each with three endpoints:

          $ roc-send -vv \
              -i file:./input.wav \
              -s rtp+rs8m://192.168.0.3:10001 -r rs8m://192.168.0.3:10002 \
                  -c rtcp://192.168.0.3:10003 \
              -s rtp+rs8m://198.214.0.7:10001 -r rs8m://198.214.0.7:10002 \
                  -c rtcp://198.214.0.7:10003

   <b>I/O</b> <b>examples</b>
       Capture sound from the default device (omit <b>-i</b>):

          $ roc-send -vv -s rtp://192.168.0.3:10001

       Capture sound from the default ALSA device:

          $ roc-send -vv -s rtp://192.168.0.3:10001 -i alsa://default

       Capture sound from a specific PulseAudio device:

          $ roc-send -vv -s rtp://192.168.0.3:10001 -i pulse://alsa_input.pci-0000_00_1f.3.analog-stereo

       Send WAV file (guess format by extension):

          $ roc-send -vv -s rtp://192.168.0.3:10001 -i file:./input.wav

       Send WAV file (specify format manually):

          $ roc-send -vv -s rtp://192.168.0.3:10001 -i file:./input.file --input-format wav

       Send WAV from stdin:

          $ roc-send -vv -s rtp://192.168.0.3:10001 -i file:- --input-format wav &lt;./input.wav

       Send WAV file (specify absolute path):

          $ roc-send -vv -s rtp://192.168.0.3:10001 -i file:///home/user/input.wav

   <b>Tuning</b> <b>examples</b>
       Force a specific rate on the input device:

          $ roc-send -vv -s rtp://192.168.0.3:10001 --rate=44100

       Select the LDPC-Staircase FEC scheme and a larger block size:

          $ roc-send -vv -i file:./input.wav -s rtp+ldpc://192.168.0.3:10001 \
              -r ldpc://192.168.0.3:10002 -c ldpc://192.168.0.3:10003 \
              --nbsrc=1000 --nbrpr=500

       Select smaller packet length:

          $ roc-send -vv -i file:./input.wav -s rtp+ldpc://192.168.0.3:10001 \
              --packet-len 2500us

       Select lower I/O latency and frame length:

          $ roc-send -vv -s rtp://192.168.0.3:10001 \
              --io-latency=20ms --frame-len 4ms

       Manually specify resampling parameters:

          $ roc-send -vv -s rtp://192.168.0.3:10001 \
              --resampler-backend=speex --resampler-profile=high

       Perform latency tuning on sender instead of receiver:

          $ roc-recv -vv -o pulse://default -s rtp+rs8m://0.0.0.0:10001 \
              -r rs8m://0.0.0.0:10002 -c rtcp://0.0.0.0:10003 \
              --latency-profile=intact --target-latency=200ms

          $ roc-send -vv -i file:./input.wav -s rtp+rs8m://192.168.0.3:10001 \
              -r rs8m://192.168.0.3:10002 -c rtcp://192.168.0.3:10003 \
              --latency-profile=gradual --target-latency=200ms

</pre><h4><b>ENVIRONMENT</b> <b>VARIABLES</b></h4><pre>
       The following environment variables are supported:

       <b>NO_COLOR</b>
              By default, terminal coloring is automatically detected. This environment variable can be set to a
              non-empty string to disable terminal coloring. It has lower precedence than <b>--color</b> option.

       <b>FORCE_COLOR</b>
              By default, terminal coloring is automatically detected. This environment variable can be set to a
              positive  integer  to  enable/force  terminal  coloring.  It  has  lower precedence than  <b>NO_COLOR</b>
              variable and <b>--color</b> option.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man1/roc-recv.1.html">roc-recv</a>(1)</b>, and the Roc web site at <u>https://roc-streaming.org/</u>

</pre><h4><b>BUGS</b></h4><pre>
       Please report any bugs found via GitHub (<u>https://github.com/roc-streaming/roc-toolkit/</u>).

</pre><h4><b>AUTHORS</b></h4><pre>
       See   authors   page   on   the   website   for   a   list   of   maintainers   and    contributors    (‐
       <u>https://roc-streaming.org/toolkit/docs/about_project/authors.html</u>).

</pre><h4><b>COPYRIGHT</b></h4><pre>
       2024, Roc Streaming authors

Roc Toolkit 0.4                                       2024                                           <u><a href="../man1/ROC-SEND.1.html">ROC-SEND</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>