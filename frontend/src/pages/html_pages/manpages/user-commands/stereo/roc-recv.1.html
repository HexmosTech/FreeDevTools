<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>roc-recv - receive real-time audio</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/roc-toolkit-tools">roc-toolkit-tools_0.4.0+dfsg-4ubuntu1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       roc-recv - receive real-time audio

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>roc-recv</b> <u>OPTIONS</u>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       Receive audio streams from remote senders and write them to an audio device or file.

   <b>Options</b>
       <b>-h</b>, <b>--help</b>
              Print help and exit

       <b>-V</b>, <b>--version</b>
              Print version and exit

       <b>-v</b>, <b>--verbose</b>
              Increase verbosity level (may be used multiple times)

       <b>-L</b>, <b>--list-supported</b>
              list supported schemes and formats

       <b>-o</b>,<u>--output</u><b>=IO_URI</b>
              Output file or device URI

       <b>--output-format=</b><u>FILE_FORMAT</u>
              Force output file format

       <b>--backup=</b><u>IO_URI</u>
              Backup file or device URI (if set, used when there are no sessions)

       <b>--backup-format=</b><u>FILE_FORMAT</u>
              Force backup file format

       <b>-s</b>,<u>--source</u><b>=ENDPOINT_URI</b>
              Local source endpoint

       <b>-r</b>,<u>--repair</u><b>=ENDPOINT_URI</b>
              Local repair endpoint

       <b>-c</b>,<u>--control</u><b>=ENDPOINT_URI</b>
              Local control endpoint

       <b>--miface=</b><u>MIFACE</u>
              IPv4 or IPv6 address of the network interface on which to join the multicast group

       <b>--reuseaddr</b>
              enable SO_REUSEADDR when binding sockets

       <b>--target-latency=</b><u>STRING</u>
              Target latency, TIME units

       <b>--io-latency=</b><u>STRING</u>
              Playback target latency, TIME units

       <b>--latency-tolerance=</b><u>STRING</u>
              Maximum deviation from target latency, TIME units

       <b>--no-play-timeout=</b><u>STRING</u>
              No playback timeout, TIME units

       <b>--choppy-play-timeout=</b><u>STRING</u>
              Choppy playback timeout, TIME units

       <b>--frame-len=</b><u>TIME</u>
              Duration of the internal frames, TIME units

       <b>--max-packet-size=</b><u>SIZE</u>
              Maximum packet size, in SIZE units

       <b>--max-frame-size=</b><u>SIZE</u>
              Maximum internal frame size, in SIZE units

       <b>--rate=</b><u>INT</u>
              Override output sample rate, Hz

       <b>--latency-backend=</b><u>ENUM</u>
              Which latency to use in latency tuner (possible values="niq" default=`niq')

       <b>--latency-profile=</b><u>ENUM</u>
              Latency   tuning   profile    (possible   values="default",   "responsive",   "gradual",  "intact"
              default=`default')

       <b>--resampler-backend=</b><u>ENUM</u>
              Resampler backend  (possible values="default", "builtin", "speex", "speexdec" default=`default')

       <b>--resampler-profile=</b><u>ENUM</u>
              Resampler profile  (possible values="low", "medium", "high" default=`medium')

       <b>-1</b>, <b>--oneshot</b>
              Exit when last connected client disconnects (default=off)

       <b>--profiling</b>
              Enable self-profiling  (default=off)

       <b>--beep</b> Enable beeping on packet loss  (default=off)

       <b>--color=</b><u>ENUM</u>
              Set  colored  logging  mode  for  stderr  output  (possible   values="auto",   "always",   "never"
              default=`auto')

   <b>Endpoint</b> <b>URI</b>
       <b>--source</b>, <b>--repair</b>, and <b>--control</b> options define network endpoints on which to receive the traffic.

       <u>ENDPOINT_URI</u> should have the following form:

       <b>protocol://host[:port][/path][?query]</b>

       Examples:

       • <b>rtsp://localhost:123/path?query</b>

       • <b>rtp+rs8m://localhost:123</b>

       • <b>rtp://0.0.0.0:123</b>

       • <b>rtp://[::1]:123</b>

       • <b>rtcp://0.0.0.0:123</b>

       The list of supported protocols can be retrieved using <b>--list-supported</b> option.

       The  host field should be either FQDN (domain name), or IPv4 address, or IPv6 address in square brackets.
       It may be <b>0.0.0.0</b> (for IPv4) or <b>[::]</b> (for IPv6) to bind endpoint to all network interfaces.

       The port field can be omitted if the protocol defines standard port. Otherwise, it is mandatory.  It  may
       be set to zero to bind endpoint to a radomly chosen ephemeral port.

       The path and query fields are allowed only for protocols that support them, e.g. for RTSP.

       If  FEC  is  enabled  on  sender,  a  pair  of  a source and repair endpoints should be provided. The two
       endpoints should use compatible protocols, e.g. <b>rtp+rs8m://</b> for source endpoint, and <b>rs8m://</b>  for  repair
       endpoint. If FEC is disabled, a single source endpoint should be provided.

       Supported source and repair protocols:

       • source <b>rtp://</b>, repair none (bare RTP without FEC)

       • source <b>rtp+rs8m://</b>, repair <b>rs8m://</b> (RTP with Reed-Solomon FEC)

       • source <b>rtp+ldpc://</b>, repair <b>ldpc://</b> (RTP with LDPC-Staircase FEC)

       In  addition, it is recommended to provide control endpoint. It is used to exchange non-media information
       used to identify session, carry feedback, etc. If no control endpoint is provided,  session  operates  in
       reduced fallback mode, which may be less robust and may not support all features.

       Supported control protocols:

       • <b>rtcp://</b>

   <b>IO</b> <b>URI</b>
       <b>--output</b> and <b>--backup</b> options require a device or file URI in one of the following forms:

       • <b>DEVICE_TYPE://DEVICE_NAME</b> -- audio device

       • <b>DEVICE_TYPE://default</b> -- default audio device for given device type

       • <b>file:///ABS/PATH</b> -- absolute file path

       • <b>file://localhost/ABS/PATH</b> -- absolute file path (alternative form; only "localhost" host is supported)

       • <b>file:/ABS/PATH</b> -- absolute file path (alternative form)

       • <b>file:REL/PATH</b> -- relative file path

       • <b>file://-</b> -- stdout

       • <b>file:-</b> -- stdout (alternative form)

       Examples:

       • <b>pulse://default</b>

       • <b>pulse://alsa_output.pci-0000_00_1f.3.analog-stereo</b>

       • <b>alsa://hw:1,0</b>

       • <b>file:///home/user/test.wav</b>

       • <b>file://localhost/home/user/test.wav</b>

       • <b>file:/home/user/test.wav</b>

       • <b>file:./test.wav</b>

       • <b>file:-</b>

       The list of supported schemes and file formats can be retrieved using <b>--list-supported</b> option.

       If  the  <b>--output</b> is omitted, the default driver and device are selected.  If the <b>--backup</b> is omitted, no
       backup source is used.

       The <b>--output-format</b> and <b>--backup-format</b> options can be used to force the output or backup file format. If
       the option is omitted, the file format is auto-detected. The option is always required when the output or
       backup is stdout or stdin.

       The path component of the provided URI is <u>percent-decoded</u>.  For  convenience,  unencoded  characters  are
       allowed as well, except that <b>%</b> should be always encoded as <b>%25</b>.

       For  example,  the  file  named  <b>/foo/bar%/[baz]</b>  may  be  specified  using either of the following URIs:
       <b>file:///foo%2Fbar%25%2F%5Bbaz%5D</b> and <b>file:///foo/bar%25/[baz]</b>.

   <b>Multicast</b> <b>interface</b>
       If <b>--miface</b> option is present, it defines an IP address of the network interface on  which  to  join  the
       multicast group. If not present, no multicast group should be joined.

       It's  not possible to receive multicast traffic without joining a multicast group. The user should either
       provide multicast interface, or join the group manually using foreign tools.

       <u>MIFACE</u> should be an IP address of the network interface on which to join the multicast group. It  may  be
       <b>0.0.0.0</b> (for IPv4) or <b>::</b> (for IPv6) to join the multicast group on all available interfaces.

   <b>Multiple</b> <b>slots</b>
       Multiple sets of endpoints can be specified to retrieve media from multiple addresses.

       Such  endpoint  sets  are  called  slots.  All  slots should have the same set of endpoint types (source,
       repair, etc) and should use the same protocols for them. All slots should also have their  own  multicast
       interface option, if it's used.

   <b>SO_REUSEADDR</b>
       If <b>--reuseaddr</b> option is provided, <b>SO_REUSEADDR</b> socket option will be enabled for all sockets (by default
       it's enabled only for multicast sockets).

       For TCP, it allows immediately reusing recently closed socket in TIME_WAIT state, which may be useful you
       want to be able to restart server quickly.

       For  UDP,  it  allows multiple processes to bind to the same address, which may be useful if you're using
       systemd socket activation.

       Regardless of the option, <b>SO_REUSEADDR</b> is always disabled when binding to ephemeral port.

   <b>Backup</b> <b>audio</b>
       If <b>--backup</b> option is given, it defines input audio device or file which will be played when there are no
       connected sessions. If it's not given, silence is played instead.

       Backup file is restarted from the beginning each time when the last session disconnect. The  playback  of
       of the backup file is automatically looped.

   <b>Time</b> <b>units</b>
       <u>TIME</u> <b>should</b> <b>have</b> <b>one</b> <b>of</b> <b>the</b> <b>following</b> <b>forms:</b>
              123ns; 1.23us; 1.23ms; 1.23s; 1.23m; 1.23h;

   <b>Size</b> <b>units</b>
       <u>SIZE</u> <b>should</b> <b>have</b> <b>one</b> <b>of</b> <b>the</b> <b>following</b> <b>forms:</b>
              123; 1.23K; 1.23M; 1.23G;

</pre><h4><b>EXAMPLES</b></h4><pre>
   <b>Endpoint</b> <b>examples</b>
       Bind one bare RTP endpoint on all IPv4 interfaces:

          $ roc-recv -vv -s rtp://0.0.0.0:10001

       Bind source, repair, and control endpoints to all IPv4 interfaces (but not IPv6):

          $ roc-recv -vv -s rtp+rs8m://0.0.0.0:10001 -r rs8m://0.0.0.0:10002 \
              -c rtcp://0.0.0.0:10003

       Bind source, repair, and control endpoints to all IPv6 interfaces (but not IPv4):

          $ roc-recv -vv -s rtp+rs8m://[::]:10001 -r rs8m://[::]:10002 -c rtcp://[::]:10003

       Bind source, repair, and control endpoints to a particular network interface:

          $ roc-recv -vv -s rtp+rs8m://192.168.0.3:10001 -r rs8m://192.168.0.3:10002 \
              -c rtcp://192.168.0.3:10003

       Bind  endpoints  to  a particular multicast address and join to a multicast group on a particular network
       interface:

          $ roc-recv -vv -s rtp+rs8m://225.1.2.3:10001 -r rs8m://225.1.2.3:10002 \
              -c rtcp://225.1.2.3:10003 \
              --miface 192.168.0.3

       Bind two sets of source, repair, and control endpoints (six endpoints in total):

          $ roc-recv -vv \
              -s rtp+rs8m://192.168.0.3:10001 -r rs8m://192.168.0.3:10002 \
                  -c rtcp://192.168.0.3:10003 \
              -s rtp+rs8m://198.214.0.7:10001 -r rs8m://198.214.0.7:10002 \
                  -c rtcp://198.214.0.7:10003

   <b>I/O</b> <b>examples</b>
       Output to the default device (omit <b>-o</b>):

          $ roc-recv -vv -s rtp://0.0.0.0:10001

       Output to the default ALSA device:

          $ roc-recv -vv -s rtp://0.0.0.0:10001 -o alsa://default

       Output to a specific PulseAudio device:

          $ roc-recv -vv -s rtp://0.0.0.0:10001 -o pulse://alsa_input.pci-0000_00_1f.3.analog-stereo

       Output to a file in WAV format (guess format by extension):

          $ roc-recv -vv -s rtp://0.0.0.0:10001 -o file:./output.wav

       Output to a file in WAV format (specify format manually):

          $ roc-recv -vv -s rtp://0.0.0.0:10001 -o file:./output.file --output-format wav

       Output to stdout in WAV format:

          $ roc-recv -vv -s rtp://0.0.0.0:10001 -o file:- --output-format wav &gt;./output.wav

       Output to a file in WAV format (absolute path):

          $ roc-recv -vv -s rtp://0.0.0.0:10001 -o file:///home/user/output.wav

       Specify backup file:

          $ roc-recv -vv -s rtp://0.0.0.0:10001 --backup file:./backup.wav

   <b>Tuning</b> <b>examples</b>
       Force a specific rate on the output device:

          $ roc-recv -vv -s rtp://0.0.0.0:10001 --rate=44100

       Select the LDPC-Staircase FEC scheme:

          $ roc-recv -vv -s rtp+ldpc://0.0.0.0:10001 -r ldpc://0.0.0.0:10002 \
              -c rtcp://0.0.0.0:10003

       Select lower session latency:

          $ roc-recv -vv -s rtp://0.0.0.0:10001 --target-latency=50ms

       Select lower I/O latency and frame length:

          $ roc-recv -vv -s rtp://0.0.0.0:10001 \
              --io-latency=20ms --frame-len 4ms

       Manually specify thresholds and timeouts:

          $ roc-recv -vv -s rtp://0.0.0.0:10001 \
              --target-latency=50ms --min-latency=40ms --max-latency 60ms \
              --no-play-timeout=200ms --choppy-play-timeout=500ms

       Manually specify resampling parameters:

          $ roc-recv -vv -s rtp://0.0.0.0:10001 \
              --resampler-backend=speex --resampler-profile=high

       Manually specify latency tuning parameters:

          $ roc-recv -vv -s rtp://0.0.0.0:10001 \
              --latency-backend=niq --latency-profile=gradual

</pre><h4><b>ENVIRONMENT</b> <b>VARIABLES</b></h4><pre>
       The following environment variables are supported:

       <b>NO_COLOR</b>
              By default, terminal coloring is automatically detected. This environment variable can be set to a
              non-empty string to disable terminal coloring. It has lower precedence than <b>--color</b> option.

       <b>FORCE_COLOR</b>
              By default, terminal coloring is automatically detected. This environment variable can be set to a
              positive integer to enable/force  terminal  coloring.  It  has  lower  precedence  than   <b>NO_COLOR</b>
              variable and <b>--color</b> option.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man1/roc-send.1.html">roc-send</a>(1)</b>, and the Roc web site at <u>https://roc-streaming.org/</u>

</pre><h4><b>BUGS</b></h4><pre>
       Please report any bugs found via GitHub (<u>https://github.com/roc-streaming/roc-toolkit/</u>).

</pre><h4><b>AUTHORS</b></h4><pre>
       See    authors    page   on   the   website   for   a   list   of   maintainers   and   contributors   (‐
       <u>https://roc-streaming.org/toolkit/docs/about_project/authors.html</u>).

</pre><h4><b>COPYRIGHT</b></h4><pre>
       2024, Roc Streaming authors

Roc Toolkit 0.4                                       2024                                           <u><a href="../man1/ROC-RECV.1.html">ROC-RECV</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>