<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>calibredb - calibredb</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/calibre">calibre_7.26.0+ds-4build1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       calibredb - calibredb

          calibredb command [options] [arguments]

       <b>calibredb</b>  is the command line interface to the calibre database. It has several sub-commands, documented
       below.

       <b>calibredb</b> can be used to manipulate either a calibre database specified by  path  or  a  calibre  Content
       server  running  either on the local machine or over the internet. You can start a calibre Content server
       using either the <b>calibre-server</b> program or in the main calibre  program  click  Connect/share   →   Start
       Content server. Since <b>calibredb</b> can make changes to your calibre libraries, you must setup authentication
       on the server first. There are two ways to do that:

          • If  you  plan  to  connect  only  to  a  server running on the same computer, you can simply use the
            <b>--enable-local-write</b> option of the Content  server,  to  allow  any  program,  including  calibredb,
            running on the local computer to make changes to your calibre data. When running the server from the
            main calibre program, this option is in Preferences → Sharing over the net → Advanced.

          • If  you  want  to enable access over the internet, then you should setup user accounts on the server
            and use the <u>--username</u> and <u>--password</u> options to <b>calibredb</b> to give it access.  You  can  setup  user
            authentication  for  <b>calibre-server</b>  by  using  the <b>--enable-auth</b> option and using <b>--manage-users</b> to
            create the user accounts.  If you are  running  the  server  from  the  main  calibre  program,  use
            Preferences → Sharing over the net → Require username/password.

       To  connect to a running Content server, pass the URL of the server to the <u>--with-library</u> option, see the
       documentation of that option for details and examples.

       • <u>Global</u> <u>Options</u>

       • <u>list</u>

       • <u>add</u>

         • <u>Adding</u> <u>From</u> <u>Folders</u>

       • <u>remove</u>

       • <u>add_format</u>

       • <u>remove_format</u>

       • <u>show_metadata</u>

       • <u>set_metadata</u>

       • <u>export</u>

       • <u>catalog</u>

         • <u>Epub</u> <u>Options</u>

       • <u>saved_searches</u>

       • <u>add_custom_column</u>

       • <u>custom_columns</u>

       • <u>remove_custom_column</u>

       • <u>set_custom</u>

       • <u>restore_database</u>

       • <u>check_library</u>

       • <u>list_categories</u>

       • <u>backup_metadata</u>

       • <u>clone</u>

       • <u>embed_metadata</u>

       • <u>search</u>

       • <u>fts_index</u>

       • <u>fts_search</u>

</pre><h4><b>GLOBAL</b> <b>OPTIONS</b></h4><pre>
       <b>--help,</b> <b>-h</b>
              show this help message and exit

       <b>--library-path,</b> <b>--with-library</b>
              Path to the calibre library. Default is to use the path stored  in  the  settings.  You  can  also
              connect  to a calibre Content server to perform actions on remote libraries. To do so use a URL of
              the  form:   <u><a href="http://hostname">http://hostname</a>:port/#library_id</u>   for   example,   <u><a href="http://localhost">http://localhost</a>:8080/#mylibrary</u>.
              library_id  is the library id of the library you want to connect to on the Content server. You can
              use the special library_id value of - to get a list of library ids available on  the  server.  For
              details     on     how     to     setup     access     via     a    Content    server,    see    ‐
              <u>https://manual.calibre-ebook.com/generated/en/calibredb.html</u>.

       <b>--password</b>
              Password for connecting to a calibre Content server. To read the password from standard input, use
              the special value: &lt;stdin&gt;. To read the password from a file,  use:  &lt;f:/path/to/file&gt;  (i.e.  &lt;f:
              followed  by  the  full  path  to  the file and a trailing &gt;). The angle brackets in the above are
              required, remember to escape them or use quotes for your shell.

       <b>--timeout</b>
              The timeout, in seconds, when connecting to a calibre library over the network. The default is two
              minutes.

       <b>--username</b>
              Username for connecting to a calibre Content server

       <b>--version</b>
              show program<b>'</b>s version number and exit

</pre><h4><b>LIST</b></h4><pre>
          calibredb list [options]

       List the books available in the calibre database.

       Whenever you pass arguments to calibredb that have spaces in them, enclose  the  arguments  in  quotation
       marks. For example: "/some path/with spaces"

       <b>--ascending</b>
              Sort results in ascending order

       <b>--fields,</b> <b>-f</b>
              The  fields  to  display  when  listing books in the database. Should be a comma separated list of
              fields. Available fields: author_sort,  authors,  comments,  cover,  formats,  identifiers,  isbn,
              languages,  last_modified, pubdate, publisher, rating, series, series_index, size, tags, template,
              timestamp, title, uuid Default: title,authors. The special field <b>"</b>all<b>"</b> can be used to  select  all
              fields.  In addition to the builtin fields above, custom fields are also available as *field_name,
              for example, for a custom field #rating, use the name: *rating

       <b>--for-machine</b>
              Generate output in JSON format, which is more suitable for machine parsing. Causes the line  width
              and separator options to be ignored.

       <b>--limit</b>
              The maximum number of results to display. Default: all

       <b>--line-width,</b> <b>-w</b>
              The maximum width of a single line in the output. Defaults to detecting screen size.

       <b>--prefix</b>
              The prefix for all file paths. Default is the absolute path to the library folder.

       <b>--search,</b> <b>-s</b>
              Filter  the results by the search query. For the format of the search query, please see the search
              related documentation in the User Manual. Default is to do no filtering.

       <b>--separator</b>
              The string used to separate fields. Default is a space.

       <b>--sort-by</b>
              The field by which to sort the results. You can specify multiple fields by  separating  them  with
              commas.  Available  fields:  author_sort,  authors,  comments,  cover, formats, identifiers, isbn,
              languages, last_modified, pubdate, publisher, rating, series, series_index, size, tags,  template,
              timestamp, title, uuid Default: id

       <b>--template</b>
              The  template  to  run  if  <b>"</b>template<b>"</b> is in the field list. Note that templates are ignored while
              connecting to a calibre server. Default: None

       <b>--template_file,</b> <b>-t</b>
              Path to a file containing the template to run if <b>"</b>template<b>"</b> is in the field list. Default: None

       <b>--template_heading</b>
              Heading for the template  column.  Default:  template.  This  option  is  ignored  if  the  option
              <u>--for-machine</u> is set

</pre><h4><b>ADD</b></h4><pre>
          calibredb add [options] file1 file2 file3 ...

       Add  the  specified  files as books to the database. You can also specify folders, see the folder related
       options below.

       Whenever you pass arguments to calibredb that have spaces in them, enclose  the  arguments  in  quotation
       marks. For example: "/some path/with spaces"

       <b>--authors,</b> <b>-a</b>
              Set the authors of the added book(s)

       <b>--automerge,</b> <b>-m</b>
              If  books  with  similar  titles  and  authors  are  found,  merge  the  incoming  formats (files)
              automatically into existing book  records.  A  value  of  <b>"</b>ignore<b>"</b>  means  duplicate  formats  are
              discarded.  A value of <b>"</b>overwrite<b>"</b> means duplicate formats in the library are overwritten with the
              newly added files. A value of <b>"</b>new_record<b>"</b> means duplicate formats are  placed  into  a  new  book
              record.

       <b>--cover,</b> <b>-c</b>
              Path to the cover to use for the added book

       <b>--duplicates,</b> <b>-d</b>
              Add  books  to  database  even  if they already exist. Comparison is done based on book titles and
              authors. Note that the <u>--automerge</u> option takes precedence.

       <b>--empty,</b> <b>-e</b>
              Add an empty book (a book with no formats)

       <b>--identifier,</b> <b>-I</b>
              Set the identifiers for this book, e.g. -I asin:XXX -I isbn:YYY

       <b>--isbn,</b> <b>-i</b>
              Set the ISBN of the added book(s)

       <b>--languages,</b> <b>-l</b>
              A comma separated list of languages (best to use ISO639 language codes, though some language names
              may also be recognized)

       <b>--series,</b> <b>-s</b>
              Set the series of the added book(s)

       <b>--series-index,</b> <b>-S</b>
              Set the series number of the added book(s)

       <b>--tags,</b> <b>-T</b>
              Set the tags of the added book(s)

       <b>--title,</b> <b>-t</b>
              Set the title of the added book(s)

   <b>Adding</b> <b>From</b> <b>Folders</b>
       Options to control the adding of books from folders. By default only files that have extensions of  known
       e-book file types are added.

       <b>--add</b>  A  filename  (glob)  pattern,  files matching this pattern will be added when scanning folders for
              files, even if they are not of a known e-book file type.  Can  be  specified  multiple  times  for
              multiple patterns.

       <b>--ignore</b>
              A  filename  (glob) pattern, files matching this pattern will be ignored when scanning folders for
              files. Can be specified multiple times for multiple patterns. For example: *.pdf will  ignore  all
              PDF files

       <b>--one-book-per-directory,</b> <b>-1</b>
              Assume  that  each  folder  has  only a single logical book and that all files in it are different
              e-book formats of that book

       <b>--recurse,</b> <b>-r</b>
              Process folders recursively

</pre><h4><b>REMOVE</b></h4><pre>
          calibredb remove ids

       Remove the books identified by ids from the database. ids should be a comma separated list of id  numbers
       (you  can get id numbers by using the search command). For example, 23,34,57-85 (when specifying a range,
       the last number in the range is not included).

       Whenever you pass arguments to calibredb that have spaces in them, enclose  the  arguments  in  quotation
       marks. For example: "/some path/with spaces"

       <b>--permanent</b>
              Do not use the Recycle Bin

</pre><h4><b>ADD_FORMAT</b></h4><pre>
          calibredb add_format [options] id ebook_file

       Add  the e-book in ebook_file to the available formats for the logical book identified by id. You can get
       id by using the search command. If the format already exists, it is replaced, unless the do  not  replace
       option is specified.

       Whenever  you  pass  arguments  to calibredb that have spaces in them, enclose the arguments in quotation
       marks. For example: "/some path/with spaces"

       <b>--as-extra-data-file</b>
              Add the file as an extra data file to the book, not an ebook format

       <b>--dont-replace</b>
              Do not replace the format if it already exists

</pre><h4><b>REMOVE_FORMAT</b></h4><pre>
          calibredb remove_format [options] id fmt

       Remove the format fmt from the logical book identified by id. You can get id by using the search command.
       fmt should be a file extension like LRF or TXT or EPUB. If the logical book does not have fmt  available,
       do nothing.

       Whenever  you  pass  arguments  to calibredb that have spaces in them, enclose the arguments in quotation
       marks. For example: "/some path/with spaces"

</pre><h4><b>SHOW_METADATA</b></h4><pre>
          calibredb show_metadata [options] id

       Show the metadata stored in the calibre database for the book identified by id.  id is an id number  from
       the search command.

       Whenever  you  pass  arguments  to calibredb that have spaces in them, enclose the arguments in quotation
       marks. For example: "/some path/with spaces"

       <b>--as-opf</b>
              Print metadata in OPF form (XML)

</pre><h4><b>SET_METADATA</b></h4><pre>
          calibredb set_metadata [options] book_id [/path/to/metadata.opf]

       Set the metadata stored in the calibre database for the book identified by  book_id  from  the  OPF  file
       metadata.opf.  book_id  is a book id number from the search command. You can get a quick feel for the OPF
       format by using the --as-opf switch to the show_metadata command.  You  can  also  set  the  metadata  of
       individual  fields with the --field option. If you use the --field option, there is no need to specify an
       OPF file.

       Whenever you pass arguments to calibredb that have spaces in them, enclose  the  arguments  in  quotation
       marks. For example: "/some path/with spaces"

       <b>--field,</b> <b>-f</b>
              The   field  to  set.  Format  is  field_name:value,  for  example:  <u>--field</u>  tags:tag1,tag2.  Use
              <u>--list-fields</u> to get a list of all field names. You can specify this option multiple times to  set
              multiple  fields. Note: For languages you must use the ISO639 language codes (e.g. en for English,
              fr for French and so on). For identifiers, the syntax is <u>--field</u>  identifiers:isbn:XXXX,doi:YYYYY.
              For boolean (yes/no) fields use true and false or yes and no.

       <b>--list-fields,</b> <b>-l</b>
              List the metadata field names that can be used with the <u>--field</u> option

</pre><h4><b>EXPORT</b></h4><pre>
          calibredb export [options] ids

       Export the books specified by ids (a comma separated list) to the filesystem.  The <b>export</b> operation saves
       all  formats  of  the book, its cover and metadata (in an OPF file). Any extra data files associated with
       the book are also saved.  You can get id numbers from the search command.

       Whenever you pass arguments to calibredb that have spaces in them, enclose  the  arguments  in  quotation
       marks. For example: "/some path/with spaces"

       <b>--all</b>  Export all books in database, ignoring the list of ids.

       <b>--dont-asciiize</b>
              Have  calibre convert all non English characters into English equivalents for the file names. This
              is useful if saving to a legacy filesystem without full support for Unicode filenames.  Specifying
              this switch will turn this behavior off.

       <b>--dont-save-cover</b>
              Normally,  calibre  will  save  the  cover  in a separate file along with the actual e-book files.
              Specifying this switch will turn this behavior off.

       <b>--dont-save-extra-files</b>
              Save any data files associated with the book when saving the book Specifying this switch will turn
              this behavior off.

       <b>--dont-update-metadata</b>
              Normally, calibre will update the metadata in the saved files from what is in the calibre library.
              Makes saving to disk slower. Specifying this switch will turn this behavior off.

       <b>--dont-write-opf</b>
              Normally, calibre will write the metadata into a separate OPF file along with  the  actual  e-book
              files. Specifying this switch will turn this behavior off.

       <b>--formats</b>
              Comma separated list of formats to save for each book. By default all available formats are saved.

       <b>--progress</b>
              Report progress

       <b>--replace-whitespace</b>
              Replace whitespace with underscores.

       <b>--single-dir</b>
              Export all books into a single folder

       <b>--template</b>
              The  template  to  control  the  filename  and  folder  structure  of  the saved files. Default is
              <b>"</b>{author_sort}/{title}/{title} - {authors}<b>"</b> which will save books into a per-author subfolder with
              filenames containing title and author. Available controls are: {author_sort,  authors,  id,  isbn,
              languages,  last_modified,  pubdate,  publisher,  rating,  series,  series_index, tags, timestamp,
              title}

       <b>--timefmt</b>
              The format in which to display dates. %d - day, %b - month, %m - month number, %Y - year.  Default
              is: %b, %Y

       <b>--to-dir</b>
              Export books to the specified folder. Default is .

       <b>--to-lowercase</b>
              Convert paths to lowercase.

</pre><h4><b>CATALOG</b></h4><pre>
          calibredb catalog /path/to/destination.(csv|epub|mobi|xml...) [options]

       Export  a  <b>catalog</b> in format specified by path/to/destination extension.  Options control how entries are
       displayed in the generated <b>catalog</b> output.  Note that different <b>catalog</b> formats support different sets of
       options. To see the different options, specify the name of the output file and then the --help option.

       Whenever you pass arguments to calibredb that have spaces in them, enclose  the  arguments  in  quotation
       marks. For example: "/some path/with spaces"

       <b>--ids,</b> <b>-i</b>
              Comma-separated list of database IDs to catalog. If declared, <u>--search</u> is ignored. Default: all

       <b>--search,</b> <b>-s</b>
              Filter  the  results  by  the  search  query.  For  the format of the search query, please see the
              search-related documentation in the User Manual. Default: no filtering

       <b>--verbose,</b> <b>-v</b>
              Show detailed output information. Useful for debugging

   <b>Epub</b> <b>Options</b>
       <b>--catalog-title</b>
              Title of generated catalog used as title in metadata. Default: <b>'</b>My Books<b>'</b> Applies to: AZW3,  EPUB,
              MOBI output formats

       <b>--cross-reference-authors</b>
              Create  cross-references  in  Authors  section  for  books with multiple authors. Default: <b>'</b>False<b>'</b>
              Applies to: AZW3, EPUB, MOBI output formats

       <b>--debug-pipeline</b>
              Save the output from different stages of the conversion pipeline to the specified  folder.  Useful
              if  you  are  unsure  at which stage of the conversion process a bug is occurring. Default: <b>'</b>None<b>'</b>
              Applies to: AZW3, EPUB, MOBI output formats

       <b>--exclude-genre</b>
              Regex describing tags to exclude as genres. Default:  <b>'</b>[.+]|^+$<b>'</b>  excludes  bracketed  tags,  e.g.
              <b>'</b>[Project  Gutenberg]<b>'</b>,  and  <b>'</b>+<b>'</b>,  the  default  tag for read books. Applies to: AZW3, EPUB, MOBI
              output formats

       <b>--exclusion-rules</b>
              Specifies the rules used to exclude books from the generated catalog. The model for  an  exclusion
              rule  is either (<b>'</b>&lt;rule name&gt;<b>'</b>,<b>'</b>Tags<b>'</b>,<b>'</b>&lt;comma-separated list of tags&gt;<b>'</b>) or (<b>'</b>&lt;rule name&gt;<b>'</b>,<b>'</b>&lt;custom
              column&gt;<b>'</b>,<b>'</b>&lt;pattern&gt;<b>'</b>). For example: ((<b>'</b>Archived books<b>'</b>,<b>'</b>#status<b>'</b>,<b>'</b>Archived<b>'</b>),) will exclude a book
              with a value of <b>'</b>Archived<b>'</b> in the custom column <b>'</b>status<b>'</b>. When multiple  rules  are  defined,  all
              rules  will  be applied. Default:  <b>"</b>((<b>'</b>Catalogs<b>'</b>,<b>'</b>Tags<b>'</b>,<b>'</b>Catalog<b>'</b>),)<b>"</b> Applies to: AZW3, EPUB, MOBI
              output formats

       <b>--generate-authors</b>
              Include <b>'</b>Authors<b>'</b> section in catalog. Default: <b>'</b>False<b>'</b> Applies to: AZW3, EPUB, MOBI output formats

       <b>--generate-descriptions</b>
              Include <b>'</b>Descriptions<b>'</b> section in catalog. Default: <b>'</b>False<b>'</b> Applies to: AZW3,  EPUB,  MOBI  output
              formats

       <b>--generate-genres</b>
              Include <b>'</b>Genres<b>'</b> section in catalog. Default: <b>'</b>False<b>'</b> Applies to: AZW3, EPUB, MOBI output formats

       <b>--generate-recently-added</b>
              Include  <b>'</b>Recently Added<b>'</b> section in catalog. Default: <b>'</b>False<b>'</b> Applies to: AZW3, EPUB, MOBI output
              formats

       <b>--generate-series</b>
              Include <b>'</b>Series<b>'</b> section in catalog. Default: <b>'</b>False<b>'</b> Applies to: AZW3, EPUB, MOBI output formats

       <b>--generate-titles</b>
              Include <b>'</b>Titles<b>'</b> section in catalog. Default: <b>'</b>False<b>'</b> Applies to: AZW3, EPUB, MOBI output formats

       <b>--genre-source-field</b>
              Source field for <b>'</b>Genres<b>'</b> section. Default: <b>'</b>Tags<b>'</b> Applies to: AZW3, EPUB, MOBI output formats

       <b>--header-note-source-field</b>
              Custom field containing note text to insert in Description header. Default: <b>''</b> Applies  to:  AZW3,
              EPUB, MOBI output formats

       <b>--merge-comments-rule</b>
              #&lt;custom  field&gt;:[before|after]:[True|False]  specifying:   &lt;custom field&gt; Custom field containing
              notes to merge  with  comments   [before|after]  Placement  of  notes  with  respect  to  comments
              [True|False]  - A horizontal rule is inserted between notes and comments Default: <b>'</b>::<b>'</b> Applies to:
              AZW3, EPUB, MOBI output formats

       <b>--output-profile</b>
              Specifies the output profile. In some cases, an output profile is required to optimize the catalog
              for the device. For example, <b>'</b>kindle<b>'</b> or <b>'</b>kindle_dx<b>'</b> creates a structured Table of  Contents  with
              Sections and Articles. Default: <b>'</b>None<b>'</b> Applies to: AZW3, EPUB, MOBI output formats

       <b>--prefix-rules</b>
              Specifies  the  rules  used  to  include  prefixes indicating read books, wishlist items and other
              user-specified  prefixes.   The   model   for   a   prefix   rule   is   (<b>'</b>&lt;rule   name&gt;<b>'</b>,<b>'</b>&lt;source
              field&gt;<b>'</b>,<b>'</b>&lt;pattern&gt;<b>'</b>,<b>'</b>&lt;prefix&gt;<b>'</b>).  When multiple rules are defined, the first matching rule will be
              used. Default: <b>"</b>((<b>'</b>Read books<b>'</b>,<b>'</b>tags<b>'</b>,<b>'</b>+<b>'</b>,<b>'</b>✓<b>'</b>),(<b>'</b>Wishlist  item<b>'</b>,<b>'</b>tags<b>'</b>,<b>'</b>Wishlist<b>'</b>,<b>'</b>×<b>'</b>))<b>"</b>  Applies
              to: AZW3, EPUB, MOBI output formats

       <b>--preset</b>
              Use  a  named  preset  created  with  the GUI catalog builder. A preset specifies all settings for
              building a catalog. Default: <b>'</b>None<b>'</b> Applies to: AZW3, EPUB, MOBI output formats

       <b>--thumb-width</b>
              Size hint (in inches) for book covers in catalog. Range: 1.0 -  2.0  Default:  <b>'</b>1.0<b>'</b>  Applies  to:
              AZW3, EPUB, MOBI output formats

       <b>--use-existing-cover</b>
              Replace  existing cover when generating the catalog. Default: <b>'</b>False<b>'</b> Applies to: AZW3, EPUB, MOBI
              output formats

</pre><h4><b>SAVED_SEARCHES</b></h4><pre>
          calibredb saved_searches [options] (list|add|remove)

       Manage the saved searches stored in this database.  If you try to add a query with a  name  that  already
       exists, it will be replaced.

       Syntax for adding:

       calibredb <b>saved_searches</b> add search_name search_expression

       Syntax for removing:

       calibredb <b>saved_searches</b> remove search_name

       Whenever  you  pass  arguments  to calibredb that have spaces in them, enclose the arguments in quotation
       marks. For example: "/some path/with spaces"

</pre><h4><b>ADD_CUSTOM_COLUMN</b></h4><pre>
          calibredb add_custom_column [options] label name datatype

       Create a custom column. label is the machine friendly name of the column. Should not  contain  spaces  or
       colons.  name  is  the human friendly name of the column.  datatype is one of: bool, comments, composite,
       datetime, enumeration, float, int, rating, series, text

       Whenever you pass arguments to calibredb that have spaces in them, enclose  the  arguments  in  quotation
       marks. For example: "/some path/with spaces"

       <b>--display</b>
              A  dictionary  of  options to customize how the data in this column will be interpreted. This is a
              JSON  string. For enumeration columns, use <u>--display</u><b>"</b>{\ <b>"</b>enum_values\ <b>"</b>:[\ <b>"</b>val1\ <b>"</b>, \ <b>"</b>val2\ <b>"</b>]}<b>"</b>
              There are many options that can go into the display  variable.The  options  by  column  type  are:
              composite:   composite_template,   composite_sort,   make_category,contains_html,  use_decorations
              datetime:  date_format  enumeration:  enum_values,  enum_colors,   use_decorations   int,   float:
              number_format  text:  is_names,  use_decorations   The  best  way to find legal combinations is to
              create a custom column of the appropriate type in the GUI then look at the backup OPF for  a  book
              (ensure that a new OPF has been created since the column was added). You will see the JSON for the
              <b>"</b>display<b>"</b> for the new column in the OPF.

       <b>--is-multiple</b>
              This  column stores tag like data (i.e. multiple comma separated values). Only applies if datatype
              is text.

</pre><h4><b>CUSTOM_COLUMNS</b></h4><pre>
          calibredb custom_columns [options]

       List available custom columns. Shows column labels and ids.

       Whenever you pass arguments to calibredb that have spaces in them, enclose  the  arguments  in  quotation
       marks. For example: "/some path/with spaces"

       <b>--details,</b> <b>-d</b>
              Show details for each column.

</pre><h4><b>REMOVE_CUSTOM_COLUMN</b></h4><pre>
          calibredb remove_custom_column [options] label

       Remove  the  custom  column  identified  by  label. You can see available columns with the custom_columns
       command.

       Whenever you pass arguments to calibredb that have spaces in them, enclose  the  arguments  in  quotation
       marks. For example: "/some path/with spaces"

       <b>--force,</b> <b>-f</b>
              Do not ask for confirmation

</pre><h4><b>SET_CUSTOM</b></h4><pre>
          calibredb set_custom [options] column id value

       Set  the  value  of  a  custom column for the book identified by id.  You can get a list of ids using the
       search command.  You can get a list of custom column names using the custom_columns command.

       Whenever you pass arguments to calibredb that have spaces in them, enclose  the  arguments  in  quotation
       marks. For example: "/some path/with spaces"

       <b>--append,</b> <b>-a</b>
              If the column stores multiple values, append the specified values to the existing ones, instead of
              replacing them.

</pre><h4><b>RESTORE_DATABASE</b></h4><pre>
          calibredb restore_database [options]

       Restore  this  database from the metadata stored in OPF files in each folder of the calibre library. This
       is useful if your metadata.db file has been corrupted.

       WARNING: This command completely regenerates your database.  You  will  lose  all  saved  searches,  user
       categories,  plugboards,  stored per-book conversion settings, and custom recipes. Restored metadata will
       only be as accurate as what is found in the OPF files.

       Whenever you pass arguments to calibredb that have spaces in them, enclose  the  arguments  in  quotation
       marks. For example: "/some path/with spaces"

       <b>--really-do-it,</b> <b>-r</b>
              Really do the recovery. The command will not run unless this option is specified.

</pre><h4><b>CHECK_LIBRARY</b></h4><pre>
          calibredb check_library [options]

       Perform  some  checks on the filesystem representing a library. Reports are invalid_titles, extra_titles,
       invalid_authors,   extra_authors,   missing_formats,    extra_formats,    extra_files,    missing_covers,
       extra_covers, failed_folders

       Whenever  you  pass  arguments  to calibredb that have spaces in them, enclose the arguments in quotation
       marks. For example: "/some path/with spaces"

       <b>--csv,</b> <b>-c</b>
              Output in CSV

       <b>--ignore_extensions,</b> <b>-e</b>
              Comma-separated list of extensions to ignore. Default: all

       <b>--ignore_names,</b> <b>-n</b>
              Comma-separated list of names to ignore. Default: all

       <b>--report,</b> <b>-r</b>
              Comma-separated list of reports. Default: all

       <b>--vacuum-fts-db</b>
              Vacuum the full text search database. This can be very slow and memory intensive, depending on the
              size of the database.

</pre><h4><b>LIST_CATEGORIES</b></h4><pre>
          calibredb list_categories [options]

       Produce a report of the category information in the database. The information is the equivalent  of  what
       is shown in the Tag browser.

       Whenever  you  pass  arguments  to calibredb that have spaces in them, enclose the arguments in quotation
       marks. For example: "/some path/with spaces"

       <b>--categories,</b> <b>-r</b>
              Comma-separated list of category lookup names. Default: all

       <b>--csv,</b> <b>-c</b>
              Output in CSV

       <b>--dialect</b>
              The type of CSV file to produce. Choices: excel, excel-tab, unix

       <b>--item_count,</b> <b>-i</b>
              Output only the number of items in a category instead of the counts per item within the category

       <b>--width,</b> <b>-w</b>
              The maximum width of a single line in the output. Defaults to detecting screen size.

</pre><h4><b>BACKUP_METADATA</b></h4><pre>
          calibredb backup_metadata [options]

       Backup the metadata stored in the database into individual OPF files in each books folder. This  normally
       happens  automatically,  but  you  can run this command to force re-generation of the OPF files, with the
       --all option.

       Note that there is normally no need to do this, as the OPF files are backed up automatically, every  time
       metadata is changed.

       Whenever  you  pass  arguments  to calibredb that have spaces in them, enclose the arguments in quotation
       marks. For example: "/some path/with spaces"

       <b>--all</b>  Normally, this command only operates on books that have out of date OPF files. This  option  makes
              it operate on all books.

</pre><h4><b>CLONE</b></h4><pre>
          calibredb clone path/to/new/library

       Create  a  <b>clone</b>  of  the current library. This creates a new, empty library that has all the same custom
       columns, Virtual libraries and other settings as the current library.

       The cloned library will contain no books. If you want to create a full duplicate,  including  all  books,
       then simply use your filesystem tools to copy the library folder.

       Whenever  you  pass  arguments  to calibredb that have spaces in them, enclose the arguments in quotation
       marks. For example: "/some path/with spaces"

</pre><h4><b>EMBED_METADATA</b></h4><pre>
          calibredb embed_metadata [options] book_id

       Update the metadata in the actual book files stored in the calibre  library  from  the  metadata  in  the
       calibre  database.  Normally, metadata is updated only when exporting files from calibre, this command is
       useful if you want the files to be updated in place. Note that different file formats  support  different
       amounts of metadata. You can use the special value 'all' for book_id to update metadata in all books. You
       can  also  specify  many  book  ids  separated by spaces and id ranges separated by hyphens. For example:
       calibredb <b>embed_metadata</b> 1 2 10-15 23

       Whenever you pass arguments to calibredb that have spaces in them, enclose  the  arguments  in  quotation
       marks. For example: "/some path/with spaces"

       <b>--only-formats,</b> <b>-f</b>
              Only  update  metadata  in  files  of the specified format. Specify it multiple times for multiple
              formats. By default, all formats are updated.

</pre><h4><b>SEARCH</b></h4><pre>
          calibredb search [options] search expression

       Search the library for the specified <b>search</b> term, returning a comma separated list of book  ids  matching
       the  <b>search</b> expression. The output format is useful to feed into other commands that accept a list of ids
       as input.

       The <b>search</b> expression can be anything  from  calibre's  powerful  <b>search</b>  query  language,  for  example:
       calibredb <b>search</b> author:asimov 'title:"i robot"'

       Whenever  you  pass  arguments  to calibredb that have spaces in them, enclose the arguments in quotation
       marks. For example: "/some path/with spaces"

       <b>--limit,</b> <b>-l</b>
              The maximum number of results to return. Default is all results.

</pre><h4><b>FTS_INDEX</b></h4><pre>
          calibredb fts_index [options] enable/disable/status/reindex

       Control the Full text search indexing process.

       <b>enable</b> Turns on FTS indexing for this library

       <b>disable</b>
              Turns off FTS indexing for this library

       <b>status</b> Shows the current indexing status

       <b>reindex</b>
              Can be used to re-index either particular books or the  entire  library.  To  re-index  particular
              books  specify  the book ids as additional arguments after the reindex command. If no book ids are
              specified the entire library is re-indexed.

       Whenever you pass arguments to calibredb that have spaces in them, enclose  the  arguments  in  quotation
       marks. For example: "/some path/with spaces"

       <b>--indexing-speed</b>
              The  speed of indexing. Use fast for fast indexing using all your computers resources and slow for
              less resource intensive indexing. Note that the speed is reset to slow after every invocation.

       <b>--wait-for-completion</b>
              Wait till all books are indexed, showing indexing progress periodically

</pre><h4><b>FTS_SEARCH</b></h4><pre>
          calibredb fts_search [options] search expression

       Do a full text search on the entire library or a subset of it.

       Whenever you pass arguments to calibredb that have spaces in them, enclose  the  arguments  in  quotation
       marks. For example: "/some path/with spaces"

       <b>--do-not-match-on-related-words</b>
              Only match on exact words not related words. So correction will not match correcting.

       <b>--include-snippets</b>
              Include snippets of the text surrounding each match. Note that this makes searching much slower.

       <b>--indexing-threshold</b>
              How  much of the library must be indexed before searching is allowed, as a percentage. Defaults to
              90

       <b>--match-end-marker</b>
              The marker used to indicate the end of a matched word inside a snippet

       <b>--match-start-marker</b>
              The marker used to indicate the start of a matched word inside a snippet

       <b>--output-format</b>
              The format to output the search results in. Either <b>"</b>text<b>"</b>  for  plain  text  or  <b>"</b>json<b>"</b>  for  JSON
              output.

       <b>--restrict-to</b>
              Restrict  the  searched  books, either using a search expression or ids. For example: ids:1,2,3 to
              restrict by ids or search:tag:foo to restrict to books having the tag foo.

</pre><h4><b>AUTHOR</b></h4><pre>
       Kovid Goyal

</pre><h4><b>COPYRIGHT</b></h4><pre>
       Kovid Goyal

7.26.0                                          February 14, 2025                                   <u><a href="../man1/CALIBREDB.1.html">CALIBREDB</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>