<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>This  manual  page  is part of the POSIX Programmer's Manual.  The Linux implementation of this interface</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/manpages-posix">manpages-posix_2017a-2_all</a> <br><br><pre>
</pre><h4><b>PROLOG</b></h4><pre>
       This  manual  page  is part of the POSIX Programmer's Manual.  The Linux implementation of this interface
       may differ (consult the corresponding Linux manual page for details of Linux behavior), or the  interface
       may not be implemented on Linux.

</pre><h4><b>NAME</b></h4><pre>
       join — relational database operator

</pre><h4><b>SYNOPSIS</b></h4><pre>
       join <b>[</b>-a <u>file_number</u>|-v <u>file_number</u><b>]</b> <b>[</b>-e <u>string</u><b>]</b> <b>[</b>-o <u>list</u><b>]</b> <b>[</b>-t <u>char</u><b>]</b>
           <b>[</b>-1 <u>field</u><b>]</b> <b>[</b>-2 <u>field</u><b>]</b> <u>file1</u> <u>file2</u>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The  <u>join</u> utility shall perform an equality join on the files <u>file1</u> and <u>file2</u>.  The joined files shall be
       written to the standard output.

       The join field is a field in each file on which the files are compared. The <u>join</u> utility shall write  one
       line  in the output for each pair of lines in <u>file1</u> and <u>file2</u> that have join fields that collate equally.
       The output line by default shall consist of the join field, then the remaining fields  from  <u>file1</u>,  then
       the  remaining  fields from <u>file2</u>.  This format can be changed by using the <b>-o</b> option (see below). The <b>-a</b>
       option can be used to add unmatched lines to the output. The  <b>-v</b>  option  can  be  used  to  output  only
       unmatched lines.

       The  files  <u>file1</u>  and <u>file2</u> shall be ordered in the collating sequence of <u>sort</u> <b>-b</b> on the fields on which
       they shall be joined, by default the first in each line. All selected output shall be written in the same
       collating sequence.

       The default input field separators shall be &lt;blank&gt; characters. In this case, multiple  separators  shall
       count as one field separator, and leading separators shall be ignored. The default output field separator
       shall be a &lt;space&gt;.

       The field separator and collating sequence can be changed by using the <b>-t</b> option (see below).

       If the same key appears more than once in either file, all combinations of the set of remaining fields in
       <u>file1</u> and the set of remaining fields in <u>file2</u> are output in the order of the lines encountered.

       If the input files are not in the appropriate collating sequence, the results are unspecified.

</pre><h4><b>OPTIONS</b></h4><pre>
       The  <u>join</u>  utility  shall  conform  to the Base Definitions volume of POSIX.1‐2017, <u>Section</u> <u>12.2</u>, <u>Utility</u>
       <u>Syntax</u> <u>Guidelines</u>.

       The following options shall be supported:

       <b>-a</b> <u>file_number</u>
                 Produce a line for each unpairable line in file <u>file_number</u>, where <u>file_number</u> is 1  or  2,  in
                 addition  to  the default output. If both <b>-a</b>1 and <b>-a</b>2 are specified, all unpairable lines shall
                 be output.

       <b>-e</b> <u>string</u> Replace empty output fields in the list selected by <b>-o</b> with the string <u>string</u>.

       <b>-o</b> <u>list</u>   Construct the output line to comprise the fields specified in <u>list</u>, each element of which shall
                 have one of the following two forms:

                  1. <u>file_number.field</u>, where <u>file_number</u> is a file number and <u>field</u> is a decimal integer  field
                     number

                  2. 0 (zero), representing the join field

                 The  elements  of  <u>list</u> shall be either &lt;comma&gt;-separated or &lt;blank&gt;-separated, as specified in
                 Guideline 8 of the Base Definitions  volume  of  POSIX.1‐2017,  <u>Section</u>  <u>12.2</u>,  <u>Utility</u>  <u>Syntax</u>
                 <u>Guidelines</u>.   The  fields  specified  by  <u>list</u>  shall be written for all selected output lines.
                 Fields selected by <u>list</u> that do not appear in the  input  shall  be  treated  as  empty  output
                 fields.  (See  the  <b>-e</b>  option.)  Only  specifically  requested  fields  shall  be written. The
                 application shall ensure that <u>list</u> is a single command line argument.

       <b>-t</b> <u>char</u>   Use character <u>char</u> as a separator, for both input and output. Every appearance  of  <u>char</u>  in  a
                 line  shall  be significant. When this option is specified, the collating sequence shall be the
                 same as <u>sort</u> without the <b>-b</b> option.

       <b>-v</b> <u>file_number</u>
                 Instead of the default output, produce a line only for each  unpairable  line  in  <u>file_number</u>,
                 where  <u>file_number</u>  is 1 or 2. If both <b>-v</b>1 and <b>-v</b>2 are specified, all unpairable lines shall be
                 output.

       <b>-1</b> <u>field</u>  Join on the <u>field</u>th field of file 1. Fields are decimal integers starting with 1.

       <b>-2</b> <u>field</u>  Join on the <u>field</u>th field of file 2. Fields are decimal integers starting with 1.

</pre><h4><b>OPERANDS</b></h4><pre>
       The following operands shall be supported:

       <u>file1</u>, <u>file2</u>
                 A pathname of a file to be joined. If either of  the  <u>file1</u>  or  <u>file2</u>  operands  is  <b>'-'</b>,  the
                 standard input shall be used in its place.

</pre><h4><b>STDIN</b></h4><pre>
       The standard input shall be used only if the <u>file1</u> or <u>file2</u> operand is <b>'-'</b>.  See the INPUT FILES section.

</pre><h4><b>INPUT</b> <b>FILES</b></h4><pre>
       The input files shall be text files.

</pre><h4><b>ENVIRONMENT</b> <b>VARIABLES</b></h4><pre>
       The following environment variables shall affect the execution of <u>join</u>:

       <u>LANG</u>      Provide a default value for the internationalization variables that are unset or null. (See the
                 Base  Definitions  volume  of POSIX.1‐2017, <u>Section</u> <u>8.2</u>, <u>Internationalization</u> <u>Variables</u> for the
                 precedence  of  internationalization  variables  used  to  determine  the  values   of   locale
                 categories.)

       <u>LC_ALL</u>    If  set  to a non-empty string value, override the values of all the other internationalization
                 variables.

       <u>LC_COLLATE</u>
                 Determine the locale of the collating sequence <u>join</u> expects to have been used  when  the  input
                 files were sorted.

       <u>LC_CTYPE</u>  Determine  the  locale  for the interpretation of sequences of bytes of text data as characters
                 (for example, single-byte as opposed to multi-byte characters in arguments and input files).

       <u>LC_MESSAGES</u>
                 Determine the locale that should be used to  affect  the  format  and  contents  of  diagnostic
                 messages written to standard error.

       <u>NLSPATH</u>   Determine the location of message catalogs for the processing of <u>LC_MESSAGES</u>.

</pre><h4><b>ASYNCHRONOUS</b> <b>EVENTS</b></h4><pre>
       Default.

</pre><h4><b>STDOUT</b></h4><pre>
       The <u>join</u> utility output shall be a concatenation of selected character fields.  When the <b>-o</b> option is not
       specified, the output shall be:

           "%s%s%s\n", &lt;<u>join</u> <u>field</u>&gt;, &lt;<u>other</u> <u>file1</u> <u>fields</u>&gt;,
               &lt;<u>other</u> <u>file2</u> <u>fields</u>&gt;

       If the join field is not the first field in a file, the &lt;<u>other</u> <u>file</u> <u>fields</u>&gt; for that file shall be:

           &lt;<u>fields</u> <u>preceding</u> <u>join</u> <u>field</u>&gt;, &lt;<u>fields</u> <u>following</u> <u>join</u> <u>field</u>&gt;

       When the <b>-o</b> option is specified, the output format shall be:

           "%s\n", &lt;<u>concatenation</u> <u>of</u> <u>fields</u>&gt;

       where the concatenation of fields is described by the <b>-o</b> option, above.

       For  either  format, each field (except the last) shall be written with its trailing separator character.
       If the separator is the default (&lt;blank&gt; characters), a single &lt;space&gt; shall be written after each  field
       (except the last).

</pre><h4><b>STDERR</b></h4><pre>
       The standard error shall be used only for diagnostic messages.

</pre><h4><b>OUTPUT</b> <b>FILES</b></h4><pre>
       None.

</pre><h4><b>EXTENDED</b> <b>DESCRIPTION</b></h4><pre>
       None.

</pre><h4><b>EXIT</b> <b>STATUS</b></h4><pre>
       The following exit values shall be returned:

        0    All input files were output successfully.

       &gt;0    An error occurred.

</pre><h4><b>CONSEQUENCES</b> <b>OF</b> <b>ERRORS</b></h4><pre>
       Default.

       <u>The</u> <u>following</u> <u>sections</u> <u>are</u> <u>informative.</u>

</pre><h4><b>APPLICATION</b> <b>USAGE</b></h4><pre>
       Pathnames  consisting  of  numeric  digits  or of the form <u>string.string</u> should not be specified directly
       following the <b>-o</b> list.

       If the collating sequence of the current locale does not have a total ordering of all characters (see the
       Base Definitions volume of POSIX.1‐2017, <u>Section</u> <u>7.3.2</u>, <u>LC_COLLATE</u>),  <u>join</u>  treats  fields  that  collate
       equally  but  are  not identical as being the same. If this behavior is not desired, it can be avoided by
       forcing the use of the POSIX locale (although this means re-sorting the input files into the POSIX locale
       collating sequence.)

       When using <u>join</u> to process pathnames, it is recommended that LC_ALL, or at least LC_CTYPE and LC_COLLATE,
       are set to POSIX or C in the environment, since pathnames can contain byte sequences  that  do  not  form
       valid  characters  in some locales, in which case the utility's behavior would be undefined. In the POSIX
       locale each byte is a valid single-byte character, and therefore this problem is avoided.

</pre><h4><b>EXAMPLES</b></h4><pre>
       The <b>-o</b> 0 field essentially selects the union of the join fields. For example, given file <b>phone</b>:

           !Name           Phone Number
           Don             +1 123-456-7890
           Hal             +1 234-567-8901
           Yasushi         +2 345-678-9012

       and file <b>fax</b>:

           !Name           Fax Number
           Don             +1 123-456-7899
           Keith           +1 456-789-0122
           Yasushi         +2 345-678-9011

       (where the large expanses of white space are meant to each represent a single &lt;tab&gt;), the command:

           join -t "&lt;tab&gt;" -a 1 -a 2 -e '(unknown)' -o 0,1.2,2.2 phone fax

       (where <u>&lt;tab&gt;</u> is a literal &lt;tab&gt; character) would produce:

           !Name           Phone Number            Fax Number
           Don             +1 123-456-7890         +1 123-456-7899
           Hal             +1 234-567-8901         (unknown)
           Keith           (unknown)               +1 456-789-0122
           Yasushi         +2 345-678-9012         +2 345-678-9011

       Multiple instances of the same key will produce combinatorial results.  The following:

           fa:
               a x
               a y
               a z
           fb:
               a p

       will produce:

           a x p
           a y p
           a z p

       And the following:

           fa:
               a b c
               a d e
           fb:
               a w x
               a y z
               a o p

       will produce:

           a b c w x
           a b c y z
           a b c o p
           a d e w x
           a d e y z
           a d e o p

</pre><h4><b>RATIONALE</b></h4><pre>
       The <b>-e</b> option is only effective when used with <b>-o</b> because, unless specific fields  are  identified  using
       <b>-o</b>,  <u>join</u>  is  not  aware  of  what  fields  might be empty. The exception to this is the join field, but
       identifying an empty join field with the <b>-e</b> string is not historical  practice  and  some  scripts  might
       break if this were changed.

       The  0  field  in the <b>-o</b> list was adopted from the Tenth Edition version of <u>join</u> to satisfy international
       objections that the <u>join</u> in the base documents for IEEE Std 1003.2‐1992 did not support the ``full join''
       or ``outer join'' described in relational database literature.  Although it has been possible to  include
       a  join  field  in  the  output  (by  default,  or by field number using <b>-o</b>), the join field could not be
       included for an unpaired line selected by <b>-a</b>.  The <b>-o</b> 0 field essentially selects the union of  the  join
       fields.

       This  sort  of  outer  join  was  not  possible with the <u>join</u> commands in the base documents for IEEE Std
       1003.2‐1992. The <b>-o</b> 0 field was chosen because it is an upwards-compatible change  for  applications.  An
       alternative  was  considered:  have  the join field represent the union of the fields in the files (where
       they are identical for matched lines, and one or both are null for unmatched lines). This was not adopted
       because it would break some historical applications.

       The ability to specify <u>file2</u> as <b>-</b> is not historical practice; it was added for completeness.

       The <b>-v</b> option is not historical practice, but was considered necessary because it permitted  the  writing
       of  <u>only</u>  those lines that do not match on the join field, as opposed to the <b>-a</b> option, which prints both
       lines that do and do not match. This additional facility is parallel with the <b>-v</b> option of <u>grep</u>.

       Some historical implementations have been encountered where a blank line in one of the  input  files  was
       considered  to  be the end of the file; the description in this volume of POSIX.1‐2017 does not cite this
       as an allowable case.

       Earlier versions of this standard allowed <b>-j</b>, <b>-j1</b>, <b>-j2</b> options, and a form of the <b>-o</b> option that  allowed
       the  <u>list</u>  option-argument  to be multiple arguments. These forms are no longer specified by POSIX.1‐2008
       but may be present in some implementations.

</pre><h4><b>FUTURE</b> <b>DIRECTIONS</b></h4><pre>
       None.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <u>awk</u>, <u>comm</u>, <u>sort</u>, <u>uniq</u>

       The Base Definitions volume of POSIX.1‐2017, <u>Section</u> <u>7.3.2</u>, <u>LC_COLLATE</u>, <u>Chapter</u> <u>8</u>, <u>Environment</u> <u>Variables</u>,
       <u>Section</u> <u>12.2</u>, <u>Utility</u> <u>Syntax</u> <u>Guidelines</u>

</pre><h4><b>COPYRIGHT</b></h4><pre>
       Portions of this text are reprinted and reproduced in electronic form from IEEE Std 1003.1-2017, Standard
       for Information  Technology  --  Portable  Operating  System  Interface  (POSIX),  The  Open  Group  Base
       Specifications  Issue  7, 2018 Edition, Copyright (C) 2018 by the Institute of Electrical and Electronics
       Engineers, Inc and The Open Group.  In the event of any discrepancy between this version and the original
       IEEE and The Open Group Standard, the original IEEE and The Open Group Standard is the referee  document.
       The original Standard can be obtained online at <a href="http://www.opengroup.org/unix/online.html">http://www.opengroup.org/unix/online.html</a> .

       Any  typographical  or formatting errors that appear in this page are most likely to have been introduced
       during  the  conversion  of  the  source  files  to  man  page  format.  To  report  such   errors,   see
       https://www.kernel.org/doc/man-pages/reporting_bugs.html .

IEEE/The Open Group                                   2017                                          <u><a href="../man1POSIX/JOIN.1POSIX.html">JOIN</a></u>(1POSIX)
</pre>
 </div>
</div></section>
</div>
</body>
</html>