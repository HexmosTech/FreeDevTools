<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>nmbug - manage notmuch bugs with git</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/notmuch-git">notmuch-git_0.38.3-5ubuntu1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       nmbug - manage notmuch bugs with git

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>notmuch</b> <b>git</b> [-h] [-N] [-C <u>repo</u>] [-p <u>prefix</u>] [-v] [-l <u>log</u> <u>level</u>] <u>subcommand</u>

       <b>nmbug</b> [-h] [-C <u>repo</u>] [-p <u>prefix</u>] [-v] [-l <u>log</u> <u>level</u>] <u>subcommand</u>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       Manage notmuch tags with Git.

   <b>OPTIONS</b>
       Supported options for <u>notmuch</u> <u>git</u> include

       <b>-h,</b> <b>--help</b>
              show help message and exit

       <b>-N,</b> <b>--nmbug</b>
              Set defaults for <u>--tag-prefix</u> and <u>--git-dir</u> suitable for the <u>notmuch</u> bug tracker

       <b>-C</b> <b>&lt;repo&gt;,</b> <b>--git-dir</b> <b>&lt;repo&gt;</b>
              Operate on git repository <u>repo</u>. See <u>REPOSITORY</u> <u>LOCATION</u> for defaults.

       <b>-p</b> <b>&lt;prefix&gt;,</b> <b>--tag-prefix</b> <b>&lt;prefix&gt;</b>
              Operate only on tags with prefix <u>prefix</u>. See <u>PREFIX</u> <u>VALUE</u> for defaults.

       <b>-v,</b> <b>--version</b>
              show notmuch-git's version number and exit

       <b>-l</b> <b>&lt;level&gt;,</b> <b>--log-level</b> <b>&lt;level&gt;</b>
              Log verbosity, one of: <u>critical</u>, <u>error</u>, <u>warning</u>, <u>info</u>, <u>debug</u>. Defaults to <u>warning</u>.

   <b>SUBCOMMANDS</b>
       For help on a particular subcommand, run: 'notmuch-git ... &lt;command&gt; --help'.

       <b>archive</b> <b>[tree-ish]</b> <b>[arg</b> <b>...]</b>

       Dump a tar archive of a committed tag set using 'git archive'. See <u>REPOSITORY</u> <u>CONTENTS</u> for details of the
       archive contents.

          <b>tree-ish</b>

          The tree or commit to produce an archive for. Defaults to 'HEAD'.

          <b>arg</b>

          If  present, any optional arguments are passed through to <u><a href="../man1/git-archive.1.html">git-archive</a>(1).</u> <u>Arguments</u> <u>to</u> <u>git-archive</u> <u>are</u>
          <u>reordered</u> <u>so</u> <u>that</u> <u>tree-ish</u> <u>comes</u> <u>last.</u>

       <b>checkout</b> <b>[-f|--force]</b>

       Update the notmuch database from Git.

       This is mainly useful to discard your changes in notmuch relative to Git.

          <b>[-f|--force]</b>

          Override checks that prevent modifying tags for large fractions of messages in the database. See  also
          <u>git.safe_fraction</u>.

       <b>clone</b> <b>&lt;repository&gt;</b>

       Create a local <u>notmuch</u> <u>git</u> repository from a remote source.

       This  wraps  'git  clone',  adding  some  options  to  avoid  creating  a  working  tree while preserving
       remote-tracking branches and upstreams.

          <b>repository</b>

          The (possibly remote) repository to clone  from.  See  the  URLS  section  of  <u><a href="../man1/git-clone.1.html">git-clone</a>(1)</u>  <u>for</u>  <u>more</u>
          <u>information</u> <u>on</u> <u>specifying</u> <u>repositories.</u>

       <b>commit</b> <b>[-f|--force]</b> <b>[message]</b>

       Commit prefix-matching tags from the notmuch database to Git.

          <b>message</b>

          Optional text for the commit message.

          <b>-f|--force</b>

          Override  checks that prevent modifying tags for large fractions of messages in the database. See also
          <u>git.safe_fraction</u>.

       <b>fetch</b> <b>[remote]</b>

       Fetch changes from the remote repository.

          <b>remote</b>

          Override the default configured in <u>branch.&lt;name&gt;.remote</u> to fetch from a particular  remote  repository
          (e.g. <u>origin</u>).

       <b>help</b>

       Show brief help for an <u>notmuch</u> <u>git</u> command.

       <b>init</b> <b>[--format-version=N]</b>

       Create an empty <u>notmuch</u> <u>git</u> repository.

       This wraps 'git init' with a few extra steps to support subsequent status and commit commands.

          <b>--format-version=N</b>

          Create a repo in format version N. By default <u>notmuch-git</u> uses the highest supported version, which is
          the best choice for most use-cases.

       <b>log</b> <b>[arg</b> <b>...]</b>

       A wrapper for 'git log'.

          <b>arg</b>

          Additional arguments are passed through to 'git log'.

       After running <u>notmuch</u> <u>git</u> <u>fetch</u>, you can inspect the changes with

          $ notmuch git log HEAD..@{upstream}

       <b>merge</b> <b>[reference]</b>

       Merge changes from 'reference' into HEAD and load the result into notmuch.

          <b>reference</b>

          Reference, usually other branch heads, to merge into our branch. Defaults to <u>@{upstream}</u>.

       <b>pull</b> <b>[repository]</b> <b>[refspec</b> <b>...]</b>

       Pull (merge) remote repository changes to notmuch.

       <b>pull</b>  is  equivalent  to  <b>fetch</b> followed by <b>merge</b>.  We use the Git-configured repository for your current
       branch (<u>branch.&lt;name&gt;.repository</u>, likely <u>origin</u>, and <u>branch.&lt;name&gt;.merge</u>, likely <u>master</u> or <u>main</u>).

          <b>repository</b>

          The "remote" repository that is the source of the pull. This parameter can be either a  URL  (see  the
          section GIT URLS in <u><a href="../man1/git-pull.1.html">git-pull</a>(1))</u> <u>or</u> <u>the</u> <u>name</u> <u>of</u> <u>a</u> <u>remote</u> <u>(see</u> <u>the</u> <u>section</u> <u>REMOTES</u> <u>in</u> <u><a href="../man1/git-pull.1.html">git-pull</a>(1)).</u>

          <b>refspec</b>

          Refspec  (usually a branch name) to fetch and merge. See the <u>refspec</u> entry in the OPTIONS section of <b>‐</b>
          <u><a href="../man1/git-pull.1.html">git-pull</a>(1)</u> <u>for</u> <u>other</u> <u>possibilities.</u>

       <b>push</b> <b>[repository]</b> <b>[refspec]</b>

       Push the local <u>notmuch</u> <u>git</u> Git state to a remote repository.

          <b>repository</b>

          The "remote" repository that is the destination of the push. This parameter can be either a  URL  (see
          the section GIT URLS in <u><a href="../man1/git-push.1.html">git-push</a>(1))</u> <u>or</u> <u>the</u> <u>name</u> <u>of</u> <u>a</u> <u>remote</u> <u>(see</u> <u>the</u> <u>section</u> <u>REMOTES</u> <u>in</u> <u><a href="../man1/git-push.1.html">git-push</a>(1)).</u>

          <b>refspec</b>

          Refspec  (usually  a branch name) to push. See the <u>refspec</u> entry in the OPTIONS section of <u><a href="../man1/git-push.1.html">git-push</a>(1)</u>
          <u>for</u> <u>other</u> <u>possibilities.</u>

       <b>status</b>

       Show pending updates in notmuch or git repo.

       Prints lines of the form
       ng Message-Id tag

       where n is a single character representing notmuch database status

          <b>A</b>

          Tag is present in notmuch database, but not committed to nmbug (equivalently, tag has been deleted  in
          nmbug repo, e.g. by a pull, but not restored to notmuch database).

          <b>D</b>

          Tag is present in nmbug repo, but not restored to notmuch database (equivalently, tag has been deleted
          in notmuch).

          <b>U</b>

          Message is unknown (missing from local notmuch database).

       The  second  character  <u>g</u>  (if  present)  represents  a  difference  between local and upstream branches.
       Typically <u>notmuch</u> <u>git</u> <u>fetch</u> needs to be run to update this.

          <b>a</b>

          Tag is present in upstream, but not in the local Git branch.

          <b>d</b>

          Tag is present in local Git branch, but not upstream.

</pre><h4><b>REPOSITORY</b> <b>CONTENTS</b></h4><pre>
       The tags are stored in the git repo (and exported) as a  set  of  empty  files.  These  empty  files  are
       contained within a directory named after the message-id.

       In   what  follows  <u>encode()</u>  represents  a  POSIX  filesystem  safe  encoding.  The  encoding  preserves
       alphanumerics, and the characters <u>+-_@=.,:</u>.  All other octets are replaced with <u>%</u> followed by a two digit
       hex number.

       Currently <u>notmuch-git</u> can read any format version, but can only create (via <u>init</u>) <u>version</u> <u>1</u> repositories.

   <b>Version</b> <b>0</b>
       This is the legacy format created by the <u>nmbug</u> tool prior to release 0.37.  For a message with Message-Id
       <u>id</u>, for each tag <u>tag</u>, there is an empty file with path
          tags/ <u>encode</u> (<u>id</u>) / <u>encode</u> (<u>tag</u>)

   <b>Version</b> <b>1</b>
       In format version 1 and later, the format version is contained in a top level file called FORMAT.

       For a message with Message-Id <u>id</u>, for each tag <u>tag</u>, there is an empty file with path
          tags/ <u>hash1</u> (<u>id</u>) / <u>hash2</u> (<u>id</u>) <u>encode</u> (<u>id</u>) / <u>encode</u> (<u>tag</u>)

       The hash functions each represent one byte of the <u>blake2b</u> hex digest.

       Compared to <u>version</u> <u>0</u>, this reduces the number of subdirectories within each directory.

</pre><h4><b>REPOSITORY</b> <b>LOCATION</b></h4><pre>
       <u>notmuch-git</u> uses the first of the following with a non-empty value to locate the git repository.

       • Option <u>--git-dir</u>.

       • Environment variable <u>NOTMUCH_GIT_DIR</u>.

       • Configuration item <u>git.path</u>

       • If    invoked    as    <u>nmbug</u>    or    with    the    <u>--nmbug</u>    option,     <b>$HOME/.nmbug</b>;     otherwise
         <b>$XDG_DATA_HOME/notmuch/$NOTMUCH_PROFILE/git</b>.

</pre><h4><b>PREFIX</b> <b>VALUE</b></h4><pre>
       <u>notmuch-git</u> uses the first of the following with a non-null value to define the tag prefix.

       • Option <u>--tag-prefix</u>.

       • Environment variable <u>NOTMUCH_GIT_PREFIX</u>.

       • Configuration item <u>git.tag_prefix</u>.

       • If invoked as <u>nmbug</u> or with the <u>--nmbug</u> option, <b>notmuch::</b>, otherwise the empty string.

</pre><h4><b>ENVIRONMENT</b></h4><pre>
       Variable <u>NOTMUCH_PROFILE</u> influences <u>REPOSITORY</u> <u>LOCATION</u>.  If it is unset, 'default' is assumed.

       <b>NOTMUCH_GIT_DIR</b>
              Default location of git repository. Overridden by <u>--git-dir</u>.

       <b>NOTMUCH_GIT_PREFIX</b>
              Default tag prefix (filter). Overridden by <u>--tag-prefix</u>.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <u>notmuch</u>, <u>notmuch-dump</u>, <u>notmuch-restore</u>, <u>notmuch-tag</u>

</pre><h4><b>AUTHOR</b></h4><pre>
       Carl Worth and many others

</pre><h4><b>COPYRIGHT</b></h4><pre>
       2009-2024, Carl Worth and many others

0.38.3                                            Mar 11, 2025                                          <u><a href="../man1/NMBUG.1.html">NMBUG</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>