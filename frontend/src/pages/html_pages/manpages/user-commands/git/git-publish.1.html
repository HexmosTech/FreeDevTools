<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>git-publish - Prepare and store patch revisions as git tags</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/git-publish">git-publish_1.8.1-1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       git-publish - Prepare and store patch revisions as git tags

</pre><h4><b>SYNOPSIS</b></h4><pre>
         git-publish [options] -- [common format-patch options]

</pre><h4><b>DESCRIPTION</b></h4><pre>
       git-publish prepares patches and stores them as git tags for future reference.  It works with individual
       patches as well as patch series.  Revision numbering is handled automatically.

       No constraints are placed on git workflow, both vanilla git commands and custom workflow scripts are
       compatible with git-publish.

       Email sending and pull requests are fully integrated so that publishing patches can be done in a single
       command.

       Hook scripts are invoked during patch preparation so that custom checks or test runs can be automated.

</pre><h4><b>OPTIONS</b></h4><pre>
       <b>--version</b>
           Show program's version number and exit.

       <b>-h</b>
       <b>--help</b>
           Show help message and exit.

       <b>--annotate</b>
           Review and edit each patch email.

       <b>-b</b> <b>BASE</b>
       <b>--base=BASE</b>
           Branch which this is based off (defaults to master).

       <b>--cc=CC</b>
           Specify a Cc: email recipient.

       <b>--cc-cmd=CC_CMD</b>
           Specify  a  command  add whose output to add the Cc: email recipient list.  See <b><a href="../man1/git-send-email.1.html">git-send-email</a></b>(1) for
           details.

       <b>--no-check-url</b>
           Do not check whether the pull request URL is publicly accessible.

       <b>--check-url</b>
           Check whether the pull request URL is publicly accessible.  This is the default.

       <b>--edit</b>
           Edit message but do not tag a new version.  Use this  to  draft  the  cover  letter  before  actually
           tagging a new version.

       <b>--no-inspect-emails</b>
           Do not prompt for confirmation before sending emails.

       <b>--inspect-emails</b>
           Show confirmation before sending emails.

       <b>-n</b> <b>NUMBER</b>
       <b>--number=NUMBER</b>
           Explicitly specify the version number (auto-generated by default).

       <b>--no-message</b>
       <b>--no-cover-letter</b>
           Do not add a message.

       <b>-m</b>
       <b>--message</b>
       <b>--cover-letter</b>
           Add a message.

       <b>--no-binary</b>
           Do not output contents of changes in binary files, instead display a notice that those files changed.
           Patches  generated  using  this option cannot be applied properly, but they are still useful for code
           review.

       <b>-p</b> <b>PROFILE_NAME</b>
       <b>--profile=PROFILE_NAME</b>
           Select default settings from the given profile.

       <b>--pull-request</b>
           Tag and send as a pull request.

       <b>--sign-pull</b>
           Sign tag when sending pull request.

       <b>--no-sign-pull</b>
           Do not sign tag when sending pull request.

       <b>-k</b> <b>KEYID</b>
       <b>--keyid=KEYID</b>
           Use the given GPG key to sign tag when sending pull request

       <b>--blurb-template</b>
           Use a pre-defined blurb message for the series HEAD.

       <b>--subject-prefix=PREFIX</b>
           Set the email Subject: header prefix.

       <b>--clear-subject-prefix</b>
           Clear the per-branch subject prefix.  The subject prefix persists between versions by  default.   Use
           this option to reset it.

       <b>--setup</b>
           Add git alias in <a href="file:~/.gitconfig">~/.gitconfig</a> so that the "git publish" git sub-command works.

       <b>-t</b> <b>TOPIC</b>
       <b>--topic=TOPIC</b>
           Set the topic name (defaults to current branch name).

       <b>--to=TO</b>
           Specify a primary email recipient.

       <b>-s</b>
       <b>--signoff</b>
           Add Signed-off-by: &lt;self&gt; to commits when emailing.

       <b>--notes</b>
           Append the notes for the commit after the three-dash line.  See <b><a href="../man1/git-notes.1.html">git-notes</a></b>(1) for details.

       <b>--suppress-cc=SUPPRESS_CC</b>
           Override auto-cc when sending email.  See <b><a href="../man1/git-send-email.1.html">git-send-email</a></b>(1) for details.

       <b>-v</b>
       <b>--verbose</b>
           Show executed git commands (useful for troubleshooting).

       <b>--forget-cc</b>
           Forget all previous Cc: email addresses.

       <b>--override-to</b>
           Ignore any profile or saved To: email addresses.

       <b>--override-cc</b>
           Ignore any profile or saved Cc: email addresses.

       <b>-R</b> <b>IN_REPLY_TO</b>
       <b>--in-reply-to=IN_REPLY_TO</b>
           Specify the In-Reply-To: of the cover letter (or the single patch).

</pre><h4><b>DISCUSSION</b></h4><pre>
   <b>Setup</b>
       Run git-publish in setup mode to configure the git alias:

         $ git-publish --setup

       You can now use 'git publish' like a built-in git command.

   <b>Quickstart</b>
       Create a "topic branch" on which to do your work (implement a new feature or fix a bug):

         $ git checkout -b add-funny-jokes
         ...
         $ git commit
         ...
         $ git commit

       Send a patch series via email:

         $ git publish --to <a href="mailto:patches@example.org">patches@example.org</a> --cc <a href="mailto:maintainer@example.org">maintainer@example.org</a>

       Address code review comments and send a new revision:

         $ git rebase -i master
         ...
         $ git publish --to <a href="mailto:patches@example.org">patches@example.org</a> --cc <a href="mailto:maintainer@example.org">maintainer@example.org</a>

       Refer back to older revisions:

         $ git show add-funny-jokes-v1

       This concludes the basic workflow for sending patch series.

   <b>Storing</b> <b>patch</b> <b>revisions</b>
       To store the first revision of a patch series:

         $ git checkout my-feature
         $ git publish

       This creates the my-feature-v1 git tag.  Running git-publish again at a later point will create tags with
       incrementing version numbers:

         my-feature-v1
         my-feature-v2
         my-feature-v3
         ...

       To  refer  back  to a previous version, simply check out that git tag.  This way a record is kept of each
       patch revision that has been published.

       <u>Overriding</u> <u>the</u> <u>version</u> <u>number</u>

       The version number can be set manually.  This is handy when starting out  with  git-publish  on  branches
       that were previously manually versioned:

         $ git checkout my-existing-feature
         $ git publish --number 7

       This creates the my-existing-feature-v7 tag.

       <u>Overriding</u> <u>the</u> <u>branch</u> <u>name</u>

       By  default git-publish refuses to create a revision for the 'master' branch.  Usually one works with so-
       called topic branches, one branch for each feature under development.   Using  the  'master'  branch  may
       indicate that one has forgotten to switch onto the intended topic branch.  It is possible to override the
       topic name and even publish on 'master':

         $ git checkout branch-a
         $ git publish --topic branch-b

       This creates branch-b-v1 instead of branch-a-v1 and can be used to skip the check for 'master'.

   <b>Tag</b> <b>messages</b>
       Tag  messages have a summary (or subject line) and a description (or blurb).  When send email integration
       is used the summary is put into the cover letter Subject: line while the  description  is  put  into  the
       body.

       When  prompting  for  tag messages on v2, v3, or other incremental revisions, the previous revision's tag
       message is used as the starting point.  This is handy for updating the existing description and keeping a
       changelog of the difference between revisions.

       The <b><a href="../man1/git-config.1.html">git-config</a></b>(1) format.coverLetter value is honored.  The default 'auto' value adds a cover  letter  if
       there is more than 1 patch.  The cover letter can also be forced with 'true' or 'false'.

       To insist on creating a tag message:

         $ git publish --message

       To refrain from creating a tag message:

         $ git publish --no-message

       For  convenience  these  options  are also available as --cover-letter and --no-cover-letter just like in
       <b><a href="../man1/git-format-patch.1.html">git-format-patch</a></b>(1).

       <u>Editing</u> <u>tag</u> <u>messages</u> <u>without</u> <u>publishing</u>

       Sometimes it is useful to edit the tag message  before  publishing.   This  can  be  used  to  note  down
       changelog entries as you prepare the next version of a patch series.

       To edit the tag message without publishing:

         $ git publish --edit

       This  does  not  tag  a  new version.  Instead a -staging tag will be created and the tag message will be
       picked up when you publish next time.  For  example,  if  you  on  branch  my-feature  and  have  already
       published  v1  and  v2, editing the tag message will create the tag my-feature-staging.  When you publish
       next time the my-feature-v3 tag will be created and use the tag message you staged earlier.

   <b>Setting</b> <b>the</b> <b>base</b> <b>branch</b>
       git-publish detects whether the branch contains a single commit or multiple commits by comparing  against
       a base branch ('master' by default).  You can specify the base branch like this:

         $ git publish --base my-parent

       Most of the time 'master' works fine.

       It  is  also  possible  to  persist  which base branch to use.  This is useful if you find yourself often
       specifying a base branch manually.  It can be done globally for all branches in a reposity or just for  a
       specific branch:

         $ git config git-publish.base origin/master # for all branches
         $ git config branch.foo.gitpublishbase origin/master # for one branch

   <b>Send</b> <b>email</b> <b>integration</b>
       git-publish  can  call  <b><a href="../man1/git-send-email.1.html">git-send-email</a></b>(1) after creating a git tag.  If there is a tag message it will be
       used as the cover letter.  Email can be sent like this:

         $ git publish --to <a href="mailto:patches@example.org">patches@example.org</a> \
                       --cc <a href="mailto:alex@example.org">alex@example.org</a> --cc <a href="mailto:bob@example.org">bob@example.org</a>

       After the git tag has been created as usual, commits on top of the base branch  are  sent  as  the  patch
       series.  The base branch defaults to 'master' and can be set manually with --base.

       The  <b><a href="../man1/git-send-email.1.html">git-send-email</a></b>(1)  aliasesfile  feature  works  since the email addresses are passed through without
       interpretation by git-publish.

       Patch emails can be manually edited before being sent, these changes only affect outgoing emails and  are
       not stored permanently:

         $ git publish --to <a href="mailto:patches@example.org">patches@example.org</a> --annotate

       git-publish can background itself so patch emails can be inspected from the shell:

         $ git publish --to <a href="mailto:patches@example.org">patches@example.org</a> --inspect-emails

       Signed-off-by: &lt;self&gt; lines can be applied to patch emails, only outgoing emails are affected and not the
       local git commits:

         $ git publish --to <a href="mailto:patches@example.org">patches@example.org</a> --signoff

       Sending [RFC] series instead of regular [PATCH] series can be done by customizing the Subject: line:

         $ git publish --to <a href="mailto:patches@example.org">patches@example.org</a> --subject-prefix RFC

       Using  this  way,  specified  "--subject-prefix" will be stored as per-branch subject prefix, and will be
       used for the next git-publish as well.

       One can override the stored per-branch subject prefix by providing the --subject-prefix parameter  again,
       or to clear it permanently, we can use:

         $ git publish --clear-subject-prefix

       git-publish remembers the list of addresses CC'd on previous revisions of a patchset by default. To clear
       that internal list:

         $ git publish --to <a href="mailto:patches@example.org">patches@example.org</a> --forget-cc --cc <a href="mailto:new@example.org">new@example.org</a>

       In the above example, <a href="mailto:new@example.org">new@example.org</a> will be saved to the internal list for next time.

       CC  addresses accumulate and cascade. Following the previous example, if we want to send a new version to
       both <a href="mailto:new@example.org">new@example.org</a> and <a href="mailto:old@example.org">old@example.org</a>:

         $ git-publish --cc <a href="mailto:old@example.org">old@example.org</a>

       To temporarily ignore any CCs in the profile or saved list, and send only to the addresses  specified  on
       the CLI:

         $ git-publish --override-cc --cc <a href="mailto:onetime@example.org">onetime@example.org</a> --to <a href="mailto:patches@example.org">patches@example.org</a>

       CCs specified alongside --override-cc are not remembered for future revisions.

         $ git publish --to <a href="mailto:patches@example.org">patches@example.org</a> --notes

       To include git-notes into a patch.

       One can attach notes to a commit with `git notes add &lt;object&gt;`. For having the notes "following" a commit
       on  rebase operation, you can use `git config notes.rewriteRef refs/notes/commits`. For more information,
       give a look at <b><a href="../man1/git-notes.1.html">git-notes</a></b>(1).

   <b>Creating</b> <b>profiles</b> <b>for</b> <b>frequently</b> <b>used</b> <b>projects</b>
       Instead of providing command-line options each time a patch series  is  published,  the  options  can  be
       stored in <b><a href="../man1/git-config.1.html">git-config</a></b>(1) files:

         $ cat &gt;&gt;.git/config
         [gitpublishprofile "example"]
         prefix = PATCH for-example
         to = <a href="mailto:patches@example.org">patches@example.org</a>
         cc = <a href="mailto:maintainer1@example.org">maintainer1@example.org</a>
         cc = <a href="mailto:maintainer2@example.org">maintainer2@example.org</a>
         ^D
         $ git checkout first-feature
         $ git publish --profile example
         $ git checkout second-feature
         $ git publish --profile example

       The "example" profile is equivalent to the following command-line:

         $ git publish --subject-prefix 'PATCH for-example' --to <a href="mailto:patches@example.org">patches@example.org</a> --cc <a href="mailto:maintainer1@example.org">maintainer1@example.org</a> --cc <a href="mailto:maintainer2@example.org">maintainer2@example.org</a>

       If command-line options are given together with a profile, then the command-line options take precedence.

       The following profile options are available:

         [gitpublishprofile "example"]
         base = v2.1.0                        # same as --base
         remote = origin                      # used if branch.&lt;branch-name&gt;.remote not set
         prefix = PATCH                       # same as --patch
         to = <a href="mailto:patches@example.org">patches@example.org</a>             # same as --to
         cc = <a href="mailto:maintainer@example.org">maintainer@example.org</a>          # same as --cc
         suppresscc = all                     # same as --suppress-cc
         message = true                       # same as --message
         signoff = true                       # same as --signoff
         inspect-emails = true                # same as --inspect-emails
         notes = true                         # same as --notes
         blurb-template = A blurb template    # same as --blurb-template

       The  special  "default"  profile  name  is  active  when no --profile command-line option was given.  The
       default profile does not set any options but can be extended in <b><a href="../man1/git-config.1.html">git-config</a></b>(1) files:

         $ cat &gt;&gt;.git/config
         [gitpublishprofile "default"]
         suppresscc = all            # do not auto-cc people

       If a file named .gitpublish exists in the repository top-level directory, it is automatically searched in
       addition to the <b><a href="../man1/git-config.1.html">git-config</a></b>(1) .git/config and <a href="file:~/.gitconfig">~/.gitconfig</a> files.  Since  the  .gitpublish  file  can  be
       committed  into  git,  this  can  be  used  to  provide a default profile for branches that you expect to
       repeatedly use as a base for new work.

   <b>Sending</b> <b>pull</b> <b>requests</b>
       git-publish can send signed pull requests.  Signed tags are pushed to a remote git repository  that  must
       be readable by the person who will merge the pull request.

       Ensure that the branch has a default remote repository saved:

         $ git config branch.foo.remote my-public-repo

       The  remote  must be accessible to the person receiving the pull request.  Normally the remote URI should
       be git:// or https:/<a href="file:/.">/.</a>  If the remote is configured for ssh:// then  <b><a href="../man1/git-config.1.html">git-config</a></b>(1)  can  be  supplemented
       with a public url and private pushurl.  This ensures that pull requests always use the public URI:

         [remote "&lt;name&gt;"]
         url = https://myhost.com/repo.git
         pushurl = <a href="mailto:me@myhost.com">me@myhost.com</a>:repo.git

       Send a pull request:

         $ git publish --pull-request --to <a href="mailto:patches@example.org">patches@example.org</a> --annotate

</pre><h4><b>CONFIGURATION</b></h4><pre>
       There are three possible levels of configuration with the following order of precedence:

       1. Per-branch options only apply to a specific branch.
       2. Per-profile options apply when the profile is enabled with <b>--profile</b>.
       3. Global options apply in all cases.

       The following configuration options are available:

       <b>branch.BRANCHNAME.gitpublishbase</b>
       <b>gitpublishprofile.PROFILENAME.base</b>
       <b>git-publish.base</b>
           Same as the <b>--base</b> option.

       <b>branch.BRANCHNAME.gitpublishto</b>
       <b>gitpublishprofile.PROFILENAME.to</b>
           Same as the <b>--to</b> option.

       <b>branch.BRANCHNAME.gitpublishcc</b>
       <b>gitpublishprofile.PROFILENAME.cc</b>
           Same as the <b>--cc</b> option.

       <b>branch.BRANCHNAME.gitpublishcccmd</b>
       <b>gitpublishprofile.PROFILENAME.gitpublishcccmd</b>
           Same as the <b>--cc-cmd</b> option.

       <b>gitpublishprofile.PROFILENAME.remote</b>
           The remote where the pull request tag will be pushed.

       <b>gitpublishprofile.PROFILENAME.message</b>
           Same as the <b>--message</b> option.

       <b>branch.BRANCHNAME.gitpublishprefix</b>
       <b>gitpublishprofile.PROFILENAME.prefix</b>
           Same as the <b>--subject-prefix</b> option.

       <b>gitpublishprofile.PROFILENAME.suppresscc</b>
           Same as the <b>--suppress-cc</b> option.

       <b>gitpublishprofile.PROFILENAME.signoff</b>
           Same as the <b>--signoff</b> option.

       <b>gitpublishprofile.PROFILENAME.inspect-emails</b>
           Same as the <b>--inspect-emails</b> option.

       <b>gitpublishprofile.PROFILENAME.notes</b>
           Same as the <b>--notes</b> option.

       <b>gitpublishprofile.PROFILENAME.checkUrl</b>
       <b>git-publish.checkUrl</b>
           Same as the <b>--no-check-url</b> and <b>--check-url</b> options.

       <b>gitpublishprofile.PROFILENAME.signPull</b>
       <b>git-publish.signPull</b>
           Same as the <b>--no-sign-pull</b> and <b>--sign-pull</b> options.

       <b>git-publish.signingkey</b>
           Same as the <b>--keyid</b> option.

</pre><h4><b>HOOKS</b></h4><pre>
       git-publish  supports  the  <b><a href="../man5/githooks.5.html">githooks</a></b>(5) mechanism for running user scripts at important points during the
       workflow.  The script can influence the outcome of the operation,  for  example,  by  rejecting  a  patch
       series that is about to be sent out.

       Available hooks include:

       <b>pre-publish-send-email</b>
           Invoked  before  <b><a href="../man1/git-send-email.1.html">git-send-email</a></b>(1).   Takes the path to the patches directory as an argument.  If the
           exit code is non-zero, the series will not be sent.

       <b>pre-publish-tag</b>
           Invoked before creating the -staging tag on current branch.  Takes one argument which refers  to  the
           base commit or branch.  If the exit code is non-zero, git-publish will abort.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man1/git-format-patch.1.html">git-format-patch</a></b>(1), <b><a href="../man1/git-send-email.1.html">git-send-email</a></b>(1), <b><a href="../man1/git-config.1.html">git-config</a></b>(1), <b><a href="../man1/git-notes.1.html">git-notes</a></b>(1), <b><a href="../man5/githooks.5.html">githooks</a></b>(5)

</pre><h4><b>AUTHOR</b></h4><pre>
       Stefan Hajnoczi &lt;<a href="mailto:stefanha@gmail.com">mailto:stefanha@gmail.com</a>&gt;

</pre><h4><b>COPYRIGHT</b></h4><pre>
       Copyright (C) 2011-2018 Stefan Hajnoczi

perl v5.34.0                                       2022-05-15                                     <u><a href="../man1/GIT-PUBLISH.1.html">GIT-PUBLISH</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>