<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>gbp-dch - Generate the debian/changelog from Git commit history</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/git-buildpackage">git-buildpackage_0.9.37_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       gbp-dch - Generate the debian/changelog from Git commit history

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>gbp</b> <b>dch</b> [<b>--version</b>] [<b>--help</b>] [<b>--verbose</b>] [<b>--color=</b>[auto|on|off]] [<b>--color-scheme=</b> <u>COLOR_SCHEME</u>]
               [<b>--debian-branch=</b> <u>branch_name</u>] [<b>--debian-tag=</b> <u>tag-format</u>] [<b>--upstream-branch=</b> <u>branch_name</u>]
               [<b>--upstream-tag=</b> <u>tag-format</u>] [<b>--ignore-branch</b>] [<b>-s</b> <u>commit-ish</u> | <b>--since=</b> <u>commit-ish</u>] [[<b>-S</b> |
               <b>--snapshot</b>] | [<b>-R</b> | <b>--release</b>]] [<b>-N</b> <u>version</u> | <b>--new-version=</b> <u>version</u>] [<b>--bpo</b> | <b>--nmu</b> | <b>--qa</b> |
               <b>--security</b> | <b>--team</b> | <b>--local=</b> <u>suffix</u>] [<b>--distribution=</b> <u>name</u>] [<b>--force-distribution</b>] [<b>-U</b> <u>level</u> |
               <b>--urgency=</b> <u>level</u>] [<b>--[no-]full</b>] [<b>--[no-]meta</b>] [<b>--meta-closes=bug-close-tags</b>]
               [<b>--meta-closes-bugnum=bug-number-format</b>] [<b>--snapshot-number=</b> <u>expression</u>] [<b>--id-length=</b> <u>number</u>]
               [<b>--git-log=</b> <u>git-log-options</u>] [<b>--[no-]git-author</b>] [<b>--[no-]multimaint</b>] [<b>--[no-]multimaint-merge</b>]
               [<b>--spawn-editor=[always|never|snapshot|release]</b>] [<b>--commit-msg=</b> <u>msg-format</u>] [<b>-c</b> | <b>--commit</b>]
               [<b>--customizations=</b> <u>customization-file</u>] [<b>--postedit=</b> <u>COMMAND</u>] [<b>--dch-opt=</b> <u>dch-options</u>]...
               [<b>--verbose</b>] <u>path1</u> <u>path2</u>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>gbp</b> <b>dch</b> reads git commit messages and generates the Debian changelog from it. It starts at a given commit
       specified  by the <b>--since</b> option up to the current <u>HEAD</u>. For each commit found it adds the commit message
       to the changelog. If <b>--since</b> is not given the commit to start from is determined by the  following  rules
       (first one matches):

       1.  The start commit is read from the snapshot banner (see below for details)

       2.  If the topmost version of the <u>debian/changelog</u> is already tagged. Use the commit the tag points to as
           start commit.

       3.  The last commit that modified <u>debian/changelog</u> is used as start commit.

       This is called automatic mode.

       If  the distribution of the topmost section in <u>debian/changelog</u> is <u>UNRELEASED</u>, the changelog entries will
       be inserted into this section. Otherwise a new section will be created.

       If one ore more paths are given as arguments <b>gbp</b> <b>dch</b> will only include changes in  <u>debian/changelog</u>  that
       affect  these  paths. E.g. using <u>debian/</u> is a good choice if upstream uses Git and you don't want the up‐
       stream history to end up in <u>debian/changelog</u>.

       To restrict the selected changes even further you can use use the <b>--git-log</b> option  which  is  passed  on
       verbatim to <b>git</b> <b>log</b>. E.g. by using <b>--git-log=</b><u>"--author=Foo</u> <u>Bar"</u>.

       The  above  relies  on  the  <b>--debian-branch</b>  option pointing to the current branch and <b>--upstream-branch</b>
       pointing to the corresponding upstream branch in order to find the right merge points of these  branches.
       Furthermore <b>gbp</b> <b>dch</b> must be able to identify git tags from upstream and Debian version numbers. If you're
       not  using  the  defaults  check the <b>--upstream-tag</b> and <b>--debian-tag</b> options and make sure they match the
       tags created by e.g. <b>gbp</b> <b>import-orig</b> (when using tarballs) or upstream's tagging pattern (when using  up‐
       stream's git directly).

       If not changelog exists yet it is created and the version number is derived from the last upstream tag if
       found.

</pre><h4><b>OPTIONS</b></h4><pre>
       <b>--version</b>
              Print version of the program, i.e. version of the git-buildpackage suite

       <b>-v</b>, <b>--verbose</b>
              Verbose execution

       <b>-h</b>, <b>--help</b>
              Print help and exit

       <b>--color=</b>[auto|on|off]
              Whether to use colored output.

       <b>--color-scheme=</b><u>COLOR_SCHEME</u>
              Colors  to  use  in  output  (when color is enabled). The format for COLOR_SCHEME is '&lt;debug&gt;:&lt;in‐
              fo&gt;:&lt;warning&gt;:&lt;error&gt;'.  Numerical values and color names are accepted, empty fields imply the de‐
              fault color. For example, <b>--git-color-scheme=</b>'cyan:34::' would show debug messages in  cyan,  info
              messages in blue and other messages in default (i.e. warning and error messages in red).

       <b>--debian-branch</b>=<u>branch_name</u>
              The branch in the Git repository the Debian package is being developed on, default is <u>master</u>.

       <b>--upstream-branch</b>=<u>branch_name</u>
              Branch to determine the upstream version from.  Default is <u>upstream</u>.

       <b>--git-upstream-tag=</b><u>TAG-FORMAT</u>
              Use this tag format when looking for tags of upstream versions, default is <u>upstream/%(version)s</u>.

       <b>--ignore-branch</b>
              Don't check if the current branch matches <u>debian-branch</u>.

       <b>--debian-tag=</b><u>tag-format</u>
              Tag format used, when tagging debian versions, default is <u>debian/%(version)s</u>

       <b>--since=</b><u>commit-ish</u>
              Start reading commit messages at <u>commit-ish</u>.  This option can't be set via <u>gbp.conf</u>.

       <b>--auto</b>, <b>-a</b>
              This option is ignored for compatibility with older versions. It used to trigger automatic mode.

       <b>--[no-]meta</b>
              Parse meta tags like <b>Closes:</b>, <b>Thanks:</b> and <b>Gbp-Dch:</b>. See META TAGS below.

       <b>--meta-closes=</b><u>bug-close-tags</u>
              What  meta tags to look for to generate bug-closing changelog entries.  The default is 'Closes|LP'
              to support Debian and Launchpad.

       <b>--meta-closes-bugnum=</b><u>bug-number-format</u>
              What regular expression should be used to parse out the bug number.  The  default  is  '(?:bug|is‐
              sue)?\#?\s?\d+'. Note: the regex should suppress all portions of the bug number that are not want‐
              ed using "(?:)", see Python regex manual for details.

              Example: <b>--meta-closes-bugnum=</b>"(?:bug)?\s*ex-\d+" would match all of the following:

                               Possible Txt  Match?    Result
                               ------------  ------    ------
                               bug EX-12345    Y       EX-12345
                               ex-01273        Y       ex-01273
                               bug ex-1ab      Y       ex-1
                               EX--12345       N

       <b>--[no-]full</b>
              Include the full commit message in the changelog output.

       <b>--snapshot</b>, <b>-S</b>
              Create a snapshot release entry. It uses a snapshot release number which is smaller than the final
              release  number and adds a warning banner to the changelog entry. The version number is being auto
              incremented with every new snapshot release.

              The snapshot banner is also used by <b>gbp</b> <b>dch</b> to determine which entries are already in the changel‐
              og. This prevents duplicated entries in <u>debian/changelog</u> when you did  not  commit  the  changelog
              yet.

       <b>--snapshot-number=</b><u>expression</u>
              Python expression that gets eval()ed to the new snapshot number.

       <b>--release</b>, <b>-R</b>
              Remove any snapshot release banners and version suffixes (if any), set the current distribution to
              <u>unstable</u>,  and  open the changelog for final tweaking. This option can't be set via <u>gbp.conf</u>. It's
              usually used to finalize the changelog before making a release.

       <b>--new-version=</b><u>version</u>, <b>-N</b> <u>version</u>
              Add a new changelog section with version <u>newversion</u>. Together with <b>--snapshot</b>, the snapshot number
              will be appended to <u>newversion</u>.  This option can't be set via <u>gbp.conf</u>.

       <b>--team</b> Create a Team upload changelog entry.  This option can't be set via <u>gbp.conf</u>.

       <b>--bpo</b>  Increment the Debian release number for an upload to backports, and add a backport upload changel‐
              og comment.  This option can't be set via <u>gbp.conf</u>.

       <b>--nmu</b>  Increment the Debian release number for a non-maintainer upload.  This option  can't  be  set  via
              <u>gbp.conf</u>.

       <b>--qa</b>   Increment  the  Debian  release  number for a Debian QA Team upload, and add a QA upload changelog
              comment.  This option can't be set via <u>gbp.conf</u>.

       <b>--security</b>
              Increment the Debian release number for a Debian Security Team non-maintainer upload,  and  add  a
              "Security Team upload" changelog comment.  This option can't be set via <u>gbp.conf</u>.

       <b>--local=</b><u>suffix</u>, <b>-l</b> <u>suffix</u>
              Increment  the  Debian  release  number for a local build using the specified suffix.  This option
              can't be set via <u>gbp.conf</u>.

       <b>--distribution=</b><u>name</u>
              Set the distribution field to <u>name</u>.  This option can't be set via <u>gbp.conf</u>.

       <b>--force-distribution</b>
              Force the distribution specified with <b>--distribution</b> to be used, even if it doesn't match the list
              of known distributions.  This option can't be set via <u>gbp.conf</u>.

       <b>--urgency=</b><u>level</u>
              Set the urgency field to <u>level</u>.

       <b>--git-log=</b><u>git-log-options</u>
              Options passed on verbatim to <a href="../man1/git-log.1.html">git-log</a>(1).

       <b>--id-length=</b><u>N</u>
              Include <u>N</u> digits of the commit id in the changelog entry. Default is to not include any commit ids
              at all.

       <b>--ignore-regex=</b><u>regex</u>
              Ignore commit lines matching <u>regex</u> when generating the changelog.

       <b>--git-author</b>
              Use user.name and user.email from <a href="../man1/git-config.1.html">git-config</a>(1) for changelog trailer.

       <b>--[no-]multimaint-merge</b>
              Merge commits by maintainer.

       <b>--spawn-editor=</b><u>[always|never|snapshot|release]</u>
              Whether to spawn an editor: always, never, when doing snapshots or when doing a release.

       <b>--commit-msg=</b><u>msg-format</u>
              Use this format string for the commit message when committing the generated changelog  file  (when
              <b>--commit</b> is given).  Default is <u>Update</u> <u>changelog</u> <u>for</u> <u>%(version)s</u> <u>release</u>

       <b>--commit</b>
              Commit the generated changelog.

       <b>--customizations=</b><u>customization-file</u>
              Load Python code from <u>customization-file</u>.  At the moment, the only useful thing the code can do is
              define a custom format_changelog_entry() function.

       <b>--postedit=</b><u>COMMAND</u>
              Run<u>COMMAND</u>  after  changes  to the changelog file have been finalized, That is, after dch has been
              run and possible text editor has been exited, but, before changes are (possibly) committed to git.

       <b>--dch-opt=</b><u>dch-option</u>
              Pass option to dch verbatim. Note that <b>gbp</b> <b>dch</b> invokes dch multiple times and the option is passed
              to all invocations so not all dch options make sense here. Options may also conflict with  options
              picked by <b>gbp</b> <b>dch</b>.

</pre><h4><b>SNAPSHOT</b> <b>MODE</b></h4><pre>
       Snapshot mode can be used for quick test and install cycles without having to worry about version numbers
       or changelog entries.

       When  using  <b>--snapshot</b>  or <b>-S</b>, <b>gbp</b> <b>dch</b> uses a pseudo header in the Debian changelog to remember the last
       git commit it added a changelog entry for. It also  sets  a  version  number  ending  in  <u>~&lt;snaspshotnum‐</u>
       <u>ber&gt;.gbp&lt;commitid&gt;</u>.  It automatically increments the snapshot number on subsequent invocations of <b>gbp</b> <b>dch</b>
       <b>-S</b>  so  that  later  snapshots automatically have a higher version number. To leave snapshot mode, invoke
       <b>gbp</b> <b>dch</b> with the <b>--release</b> option. This removes the pseudo header and unmangles the version number so the
       released version has a higher version number than the snapshots.

</pre><h4><b>META</b> <b>TAGS</b></h4><pre>
       Additional to the above options, the formatting of the commit message in <u>debian/changelog</u> can be modified
       by special tags (called Meta Tags) given in the git commit message. Meta Tag processing can be  activated
       via  the <b>--meta</b> option. The tags must start at the first column of a commit message but can appear on any
       line.  They are of the form <b>Tagname</b>: <u>value</u>. Valid Meta Tags are:

       <b>Gbp-Dch</b>: <u>action</u>
              Supported actions are: <u>Ignore</u> which will ignore  this  commit  when  generating  <u>debian/changelog</u>,
              <u>Short</u>  which  will only use the description (the first line) of the commit message when generating
              the changelog entry (useful when <b>--full</b> is given), and <u>Full</u> which will use the full commit message
              when generating the changelog entry (useful when <b>--full</b> is not given).

              In addition to <b>Gbp-Dch</b>, the deprecated <b>Git-Dch</b> is still supported.

       <b>Thanks</b>: <u>msg</u>
              Add a thanks message after the commit message.

       <b>Closes</b>: <u>bugnumber</u>
              Indicate in the <u>debian/changelog</u> that the bug was closed by this commit. See the <b>--meta-closes</b>  on
              how to extend this for other bugtrackers.

       The following git commit message:

             Document meta tags

             so one doesn't have to consult the manual

             Gbp-Dch: Short
             Closes: #636088
             Thanks: Raphaël Hertzog for the suggestion

       Results in this <u>debian/changelog</u> entry:

             * Document meta tags.
               Thanks to Raphaël Hertzog for the suggestion (Closes: #636088)

</pre><h4><b>EXAMPLES</b></h4><pre>
       Update  the latest <u>debian/changelog</u> so package is ready for release, and commit the change. A editor will
       be spawned so the entry can be reviewed and manually refined easily.

              gbp dch --release --commit

       Right after running <b>git</b> <b>import-orig</b> <b>--uscan</b>, create a new <u>debian/changelog</u> entry for UNRELEASED, and  in‐
       clude  only  commits  that modified something in the <u>debian/</u> subdirectory so all upstream commits are ig‐
       nored:

             gbp dch --distribution=UNRELEASED \
             --commit --commit-msg="Update changelog after new upstream version import" \
             -- debian

</pre><h4><b>CONFIGURATION</b> <b>FILES</b></h4><pre>
       Several <u>gbp.conf</u> files are parsed  to  set  defaults  for  the  above  command-line  arguments.  See  the
       <b><a href="../man5/gbp.conf.5.html">gbp.conf</a></b>(5) manpage for details.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man1/gbp-buildpackage.1.html">gbp-buildpackage</a></b>(1),  <b><a href="../man1/gbp-import-dsc.1.html">gbp-import-dsc</a></b>(1), <b><a href="../man1/gbp-import-dscs.1.html">gbp-import-dscs</a></b>(1), <b><a href="../man1/gbp-import-orig.1.html">gbp-import-orig</a></b>(1), <b><a href="../man5/gbp.conf.5.html">gbp.conf</a></b>(5), <b><a href="../man1/debuild.1.html">debuild</a></b>(1),
       <b><a href="../man1/git.1.html">git</a></b>(1), <b><a href="../man1/pristine-tar.1.html">pristine-tar</a></b>(1), The Git-Buildpackage Manual ⟨file:///usr/share/doc/git-buildpackage/manual-html/
       index.html⟩ Cl2vcs ⟨https://honk.sigxcpu.org/cl2vcs⟩ ,

</pre><h4><b>AUTHOR</b></h4><pre>
       Guido Günther &lt;<a href="mailto:agx@sigxcpu.org">agx@sigxcpu.org</a>&gt;

                                                 9 January 2025                                       <u><a href="../man1/gbp-dch.1.html">gbp-dch</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>