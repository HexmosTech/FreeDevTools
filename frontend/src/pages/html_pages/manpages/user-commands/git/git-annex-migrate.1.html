<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>git-annex-migrate - switch data to different backend</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/git-annex">git-annex_10.20241202-2_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       git-annex-migrate - switch data to different backend

</pre><h4><b>SYNOPSIS</b></h4><pre>
       git annex migrate <b>[path</b> <b>...]</b>

       git annex migrate --update

</pre><h4><b>DESCRIPTION</b></h4><pre>
       Changes  the  specified  annexed  files  to  use the default key-value backend (or the one specified with
       <b>--backend</b>). Only files whose content is currently present are migrated.

       Note that the content is also still stored using the old keys after migration. When possible, hard  links
       are used to avoid that taking up extra disk space. Use <b>git</b> <b>annex</b> <b>unused</b> to find and remove the old keys.

       Normally,  nothing  will be done to specified files that are already using the new backend. However, if a
       backend changes the information it uses to construct a key, this can also be used to migrate files to use
       the new key format.

</pre><h4><b>OPTIONS</b></h4><pre>
       <b>--update</b>

              This updates the  local  repository  for  migrations  that  were  performed  elsewhere.  Only  new
              migrations since the last time this was run will be performed.

              This does not modify the working tree, but only hard links (or in some cases copies) annex objects
              to their new keys.

              <b>git-annex</b> <b>pull</b> and <b>git-annex</b> <b>sync</b> <b>--content</b> automatically do this, unless the <b>annex.syncmigrations</b>
              config is set to false.

              Note  that  older  versions  of  git-annex  did  not record migrations in a way that this can use.
              Migrations performed with those older versions had to  be  manually  run  in  each  clone  of  the
              repository.

       <b>--apply</b>
              This  applies  all  recorded migrations to the local repository. It is the non-incremental form of
              <b>--update</b>.

              One situation where this can be useful is when git-annex migrate --update has been run, but  since
              then  un-migrated  objects  have  entered  the repository. Using this option ensures that any such
              objects get migrated.

              Note that older versions of git-annex did not record migrations  in  a  way  that  this  can  use.
              Migrations  performed  with  those  older  versions  had  to  be manually run in each clone of the
              repository.

       <b>--backend</b>
              Specify the new key-value backend to use for migrated data.

       <b>--force</b>
              Force migration of keys that are already using the new backend.

       file matching options
              The <a href="../man1/git-annex-matching-options.1.html">git-annex-matching-options</a>(1) can be used to specify files to migrate.

       Also the <a href="../man1/git-annex-common-options.1.html">git-annex-common-options</a>(1) can be used.

       <b>--remove-size</b>
              Keys often include the size of their content, which is generally a useful  thing.  In  fact,  this
              command  defaults to adding missing size information to keys in most migrations. With this option,
              the size information is removed instead.

              One use of this option is to convert URL keys that were added by <b>git-annex</b> <b>addurl</b> <b>--fast</b>  to  ones
              that would have been added if that command was run with the <b>--relaxed</b> option. Eg:

               git-annex migrate --remove-size --backend=URL somefile

              To add back the size to an URL key, use this:

              git-annex migrate --backend=URL somefile

       <b>--json</b> Enable  JSON  output.  This  is intended to be parsed by programs that use git-annex. Each line of
              output is a JSON object.

       <b>--json-error-messages</b>
              Messages that would normally be output to standard error are included in the JSON instead.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <a href="../man1/git-annex.1.html">git-annex</a>(1)

       <a href="../man1/git-annex-upgrade.1.html">git-annex-upgrade</a>(1)

       <a href="../man1/git-annex-backend.1.html">git-annex-backend</a>(1)

</pre><h4><b>AUTHOR</b></h4><pre>
       Joey Hess &lt;<a href="mailto:id@joeyh.name">id@joeyh.name</a>&gt;

                                                                                            <u><a href="../man1/git-annex-migrate.1.html">git-annex-migrate</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>