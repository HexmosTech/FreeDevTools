<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>abidb - check binary against abixml corpus and/or submit new data</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/abigail-tools">abigail-tools_2.6-2_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       abidb - check binary against abixml corpus and/or submit new data

       <b>abidb</b>  manages  a git repository of abixml files describing shared libraries, and checks binaries against
       them.  <b>elfutils</b> and <b>libabigail</b> programs are used to query and process the  binaries.   <b>abidb</b>  works  well
       with <b>debuginfod</b> to fetch needed DWARF content automatically.

</pre><h4><b>INVOCATION</b></h4><pre>
          abidb [OPTIONS] [--submit PATH1 PATH2 ...] [--check PATH1 PATH2 ...]

</pre><h4><b>COMMON</b> <b>OPTIONS</b></h4><pre>
          • <b>--abicompat</b> <b>PATH</b>

            Specify  the  path  to the <b>abicompat</b> program to use.  By default, in the absence of this option, the
            <b>abicompat</b> program found in directories listed in the $PATH environment is used.

          • <b>--abidw</b> <b>PATH</b>

            Specify the path to the <b>abidw</b> program to use.  By default, in the absence of this option, the  <b>abidw</b>
            program found in directories listed in the $PATH environment is used.

          • <b>--distrobranch</b> <b>BRANCH</b>

            Specify  the  git  branch  for  the  abixml  files  in  the  git repo.  The default is a string like
            DISTRO/VERSION/ARCHITECTURE, computed from the running environment.

          • <b>--git</b> <b>REPO</b>

            Specify the preexisting git working tree for abidb to submit to or check against.   The  default  is
            the current working directory.  It may be used concurrently by multiple “check” operations, but only
            one “submit” operation.

          • <b>--help</b> <b>|</b> <b>-h</b>

            Display a short help about the command and exit.

          • <b>--loglevel</b> <b>LOGLEVEL</b>

            Specify  the  diagnostic  level  for  messages  to  stderr.   One of <b>debug</b>, <b>info</b>, <b>warning</b>, <b>error</b>, or
            <b>critical</b>; case-insensitive.  The default is <b>info</b>.

          • <b>--timeout</b> <b>SECONDS</b>

            Specify a maximum limit to the execution time (in seconds)  allowed  for  the  <b>abidw</b>  and  <b>abicompat</b>
            programs that are executed.  By default, no limit is set for the execution time of these programs.

</pre><h4><b>SUBMIT</b> <b>OPTIONS</b></h4><pre>
          • <b>--archive</b> <b>|</b> <b>-Z</b> <b>.EXT[=CMD]</b>

            Designate PATH names with a <b>.EXT</b> suffix to be treated as archives.  If <b>CMD</b> is present, pipe the PATH
            through  the  given  shell  command, otherwise pass as if through <b>cat</b>.  The resulting stream is then
            opened by <b>libarchive</b>, to enumerate the contents of a wide variety of possible archive  file  format.
            Process each file in the archive individually into abixml.

            For  example,  <b>-Z</b>  <b>.zip</b>  will process each file in a zip file, and <b>-Z</b> <b>.deb='dpkg-deb</b> <b>--fsys-tarfile'</b>
            will process each payload file in a Debian archive.

          • <b>--filter</b> <b>REGEX</b>

            Limit files selected for abixml extraction to those that match the given  regular  expression.   The
            default is <b>/lib.*\.so</b>, as a heuristic to identify shared libraries.

          • <b>--submit</b> <b>PATH1</b> <b>PATH2</b> <b>...</b>

            Using <b>abidw</b>, extract abixml for each of the listed files, generally shared libraries, subject to the
            filename  filter  and  the  archive  decoding  options.   Save the output of each <b>abidw</b> run into the
            selected distrobranch of the selected git repo.  If <b>--submit</b> and <b>--check</b> are both given,  do  submit
            operations first.

          • <b>--sysroot</b> <b>PREFIX</b> Specify the a prefix path that is to be removed from submitted file names.

</pre><h4><b>CHECK</b> <b>OPTIONS</b></h4><pre>
          • <b>--check</b> <b>PATH1</b> <b>PATH2</b> <b>...</b>

            Using  <b>abidiff</b>, compare each of the listed file, generally executables, against abixml documents for
            selected versions for  all  shared  libraries  needed  by  the  executable.   These  are  listed  by
            enumerating the dynamic segment tags <b>DT_NEEDED</b> of the executable.

          • <b>--ld-library-path</b> <b>DIR1:DIR2:DIR3...</b>

            Select the search paths for abixml documents used to locate any particular <b>SONAME</b> .  The first given
            directory  wins.   However,  all  versions  of  the  same  <b>SONAME</b> in that directory are selected for
            comparison.  The default is unspecified, which means to search for all matching  <b>SONAME</b>  entries  in
            the distrobranch, regardless of specific directory.

</pre><h4><b>EXIT</b> <b>CODE</b></h4><pre>
       In case of successful submission and/or checking of all paths, the exit code is 0.

       In  case  of  error,  the exit code of <b>abidb</b> is nonzero, and a brief listing of the binaries unable to be
       submitted and/or checked is printed.

</pre><h4><b>GIT</b> <b>REPOSITORY</b> <b>SCHEMA</b></h4><pre>
       <b>abidb</b> stores abixml documents in a git repo with the following naming schema within the distrobranch:

       1. The directory path leading to the shared library file

       2. The SONAME of the shared library file, as a subdirectory name

       3. A file named BUILDID.xml, where <b>BUILDID</b> is the hexadecimal ELF build-id note of the shared library.

       For example:
          ┌───────────────────────────┬───────────────────────────────────────────────────────────────────┐
          │ shared library file name  │ abixml path in git                                                │
          ├───────────────────────────┼───────────────────────────────────────────────────────────────────┤
          │ /usr/lib64/libc.so.6.2.32 │ /usr/lib64/libc.so.6/788cdd41a15985bf8e0a48d213a46e07d58822df.xml │
          │ /usr/lib64/libc.so.6.2.33 │ /usr/lib64/libc.so.6/e2ca832f1c2112aea9d7b9bc639e97e873a6b516.xml │
          │ /lib/ld-linux.so.2        │ /lib/ld-linux.so.2/b65f3c15b129f33f44f504da1719926aec03c07d.xml   │
          └───────────────────────────┴───────────────────────────────────────────────────────────────────┘

       The intent of including the buildid in the name is so that as a distro is updated with multiple  versions
       of a given shared library, they can be represented nearby but non-conflicting.  The <b>SONAME</b> is used in the
       second-last  name component, inspired the behavior of <b>ld.so</b> and <b>ldconfig</b>, which rely on symbolic links to
       map references from the <b>SONAME</b> to an actual file.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
          • ELF: <u><a href="http://en.wikipedia.org/wiki/Executable_and_Linkable_Format">http://en.wikipedia.org/wiki/Executable_and_Linkable_Format</a></u>

          • DWARF: <u>https://www.dwarfstd.org</u>

          • Debuginfod: <u>https://sourceware.org/elfutils/Debuginfod.html</u>

          • Git: <u>https://git-scm.com/</u>

          • Libarchive: <u>https://www.libarchive.org/</u>

</pre><h4><b>AUTHOR</b></h4><pre>
       Frank Ch. Eigler

</pre><h4><b>COPYRIGHT</b></h4><pre>
       2014-2024, Red Hat, Inc.

                                                  Nov 13, 2024                                          <u><a href="../man1/ABIDB.1.html">ABIDB</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>