<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>kopano-oof — Control a user/store's Out Of Office settings</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/jammy/+package/kopano-utils">kopano-utils_8.7.0-7.1ubuntu10.1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       kopano-oof — Control a user/store's Out Of Office settings

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>kopano-oof</b>  [<b>-Px</b>]  [<b>-h</b>  <u>uri</u>]  [<b>-m</b>  {<b>0</b>|<b>1</b>}] [<b>-n</b> <u>msgfile</u>] [<b>-s</b> <u>sslkeyfile</u>] [<b>-t</b> <u>subject</u>] [<b>-u</b> <u>username</u>] [<b>--from</b>
       <u>iso8601</u>] [<b>--until</b> <u>iso8601</u>]

</pre><h4><b>Description</b></h4><pre>
       This program can be used to change and/or display a user's Out Of Office ("OOF") settings. These settings
       control whether <a href="../man8/kopano-dagent.8.html">kopano-dagent</a>(8) will, within a  certain  timeframe,  send  an  automated  reply  to  all
       incoming  messages.   <a href="../man8/kopano-spooler.8.html">kopano-spooler</a>(8)  can also use the OOF settings to apply special handling, such as
       forwarding a message to an alternate account if the original recipient has OOF active. The storage server
       must be running for <b>kopano-oof</b> to function.

       After potentially updating OOF  settings  with  <b>-m</b>,  <b>--from</b>  etc.,  kopano-oof  will  always  output  the
       current/new state of OOF settings in JSON format.

</pre><h4><b>Options</b></h4><pre>
       <b>-h</b> <u>uri</u> Connect to the given storage server. By default, the local standard Kopano instance is contacted.

       <b>-m</b>, <b>--mode</b> {<b>0</b>|<b>1</b>}
              Clears  or  sets  the  Out  Of  Office  flag  of the user store. 0 disables it, 1 enables it. When
              enabled, daemons like <a href="../man8/kopano-dagent.8.html">kopano-dagent</a>(8) and <a href="../man8/kopano-spooler.8.html">kopano-spooler</a>(8)  will,  when  processing  a  message,
              evaluate the OOF time constraints (independetly set with further options).

       <b>-n</b>, <b>--message</b> <u>file</u>
              Update  the  message  body  for  Out Of Office messages to the contents of the specified file. The
              encoding of the file is expected to be in the current environment's charset (LC_CTYPE variable).

       <b>-s</b>, <b>--sslkey-file</b> <u>file</u>
              Read the specified certificate file and use it during connecting to the storage server.

       <b>-t</b>, <b>--subject</b> <u>text</u>
              Update the subject line for Out Of Office messages to the given text.  The encoding of the text is
              expected to be in the environment's charset.

       <b>-P</b>     Interactively prompt for the SSL keyfile password. If neither <b>-P</b> nor <b>-p</b> are specified,  kopano-oof
              will look for a password in the OOF_SSL_PASSWORD environment variable.

       <b>-p</b> <u>password</u>
              This   option   is   provided  for  compatibility  with  <a href="../man1/kopano-set-oof.1.html">kopano-set-oof</a>(1).  You  should  use  the
              <b>OOF_SSL_PASSWORD</b> environment variable instead  to  pass  the  SSL  certificate  password,  because
              passwords may be visisble in the output of <a href="../man1/ps.1.html">ps</a>(1).

       <b>-u</b>, <b>--user</b> <u>username</u>
              Edit the Out Of Office settings for the user's default store.

       <b>-x</b>     Prompt  for the user account password. If this option is not specified, kopano-oof will look for a
              password in the <b>OOF_PASSWORD</b> environment variable. If no password was specified in  any  way  (<b>-x</b>,
              <b>-p</b>,  environment  variables),  kopano-oof  will  log  in with the "SYSTEM" account, which requires
              appropriate privileges. Confer with the "local_admin_users" directive in <a href="../man5/kopano-server.cfg.5.html">kopano-server.cfg</a>(5).

       <b>--dump-json</b>
              This option is ignored for compatibility with <a href="../man1/kopano-set-oof.1.html">kopano-set-oof</a>(1). JSON data is always emitted, both
              when the settings have changed and when they are unmodified.

       <b>--from</b> <u>YYYY-mm-dd</u> <u>HH:MM</u>
              Limit the Out Of Office mechanism such that it is not active if the time of processing  a  message
              is  before  the  specified  timepoint.  The  format  to  use  as  argument is to be in the form of
              "2015-04-01  23:50"  (ISO-8601-like).  The  timepoint  is  interpreted  to  be  in   the   current
              environment's timezone (TZ variable).

       <b>--to</b> <u>YYYY-mm-dd</u> <u>HH:MM</u>
              Limit  the  Out Of Office mechanism such that it is not active if the time of processing a message
              is after this timepoint. The format is the same as for <b>--from</b>. Alternatively,  the  special  value
              "<b>infinite</b>" may be used to denote that OOF is open-ended.

</pre><h4><b>JSON</b> <b>output</b></h4><pre>
       {
               "active" : false,
               "from" : "2019-01-01 00:00:00",
               "set" : true,
               "subject" : "outtahere",
               "until" : "infinite"
       }

       <b>set</b>  represents  whether  the  Out Of Office feature has been enabled at all.  <b>from</b> and <b>until</b> specify the
       time range in which OOF will be considered active (if and only if it is enabled) by dagent, spooler,  and
       so  on.   The special value "infinite" expresses that it is open-ended. The <b>active</b> flag indicates whether
       OOF is active right now given these conditions.  <b>subject</b> and <b>message</b> contain the OOF message subject  and
       body data.

</pre><h4><b>Usage</b> <b>examples</b></h4><pre>
       Non-SSL login with password, and enabling OOF over a certain period, sourcing the body text from a file:

           OOF_PASSWORD=xfoo kopano-oof -u foo -m 1 -t "Outta here for a while" --from
           "2017-12-23 00:00" --until "2018-01-02 00:00" --message long_explanation.txt

       Pseudo-disablement of one's mailbox:

           kopano-oof -u foo -m 1 -t "Dunno when I return" --from "2019-01-01 00:00"
           --until infinite

       Enable  out of office message of mailbox user1 with subject "test" and body from file /tmp/oof-message in
       a multi-server-environment:

           OOF_SSL_PASSWORD=password kopano-oof -u user1 -m 1 -t test --message
           /tmp/oof-message --host https://localhost:237/ --sslkey-file
           /etc/kopano/ssl/client.pem

Kopano 8                                           2018-01-11                                      <u><a href="../man1/kopano-oof.1.html">kopano-oof</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>