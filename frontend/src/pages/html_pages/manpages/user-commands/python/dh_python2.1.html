<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>dh_python2 - calculates Python dependencies, adds maintainer scripts to byte compile files, etc.</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/jammy/+package/dh-python">dh-python_5.20220403_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       dh_python2 - calculates Python dependencies, adds maintainer scripts to byte compile files, etc.

</pre><h4><b>SYNOPSIS</b></h4><pre>
          dh_python2 -p PACKAGE [-V [X.Y][-][A.B]] DIR_OR_FILE [-X REGEXPR]

</pre><h4><b>DESCRIPTION</b></h4><pre>
   <b>QUICK</b> <b>GUIDE</b> <b>FOR</b> <b>MAINTAINERS</b>
          • if necessary, describe supported Python versions via X-Python-Version field in debian/control,

          • build depend on dh-python

          • build-depend on python or python-all or python-all-dev (&gt;= 2.6.6-3~),

          • build  module/application  using  its  standard  build  system, remember to build extensions for all
            supported Python versions (loop over <b>pyversions</b> <b>-vr</b>),

          • install files to the <u>standard</u> locations, add <u>--install-layout=deb</u> to setup.py's install  command  if
            your package is using distutils,

          • add <u>python2</u> to dh's --with option, or:

          • <u>include</u>  <u>/usr/share/cdbs/1/class/python-distutils.mk</u> in debian/rules and depend on <u>cdbs</u> <u>(&gt;=</u> <u>0.4.90)</u>,
            or:

          • call <b>dh_python2</b> in the <u>binary-*</u> target,

          • add <u>${python:Depends}</u> to Depends

   <b>NOTES</b>
       In order to support more than  one  Python  version  in  the  same  binary  package,  dh_python2  (unlike
       dh_pycentral  and dh_pysupport) creates symlinks to all supported Python versions at build time. It means
       binNMU (or sourceful upload in case of architecture independent packages) is  required  once  a  list  of
       supported Python version is changed. It's faster and more robust than its competitors, though.

   <b>dependencies</b>
       dh_python2  tries  to translate Python dependencies from the <u>requires.txt</u> file to Debian dependencies. In
       many cases, this works without any additional configuration because  dh_python2  comes  with  a  build-in
       mapping  of  Python  module  names  to  Debian  packages that is periodically regenerated from the Debian
       archive. By default, the version information in  the  Python  dependencies  is  discarded.  If  you  want
       dh_python2 to generate more strict dependencies (e.g. to avoid ABI problems), or if the automatic mapping
       does  not  work  correctly for your package, you have to provide dh_python2 with additional rules for the
       translation of Python module to Debian package dependencies.

       For a package <u>python-foo</u> that depends on a package <u>python-bar</u>, there are two files that may provide  such
       rules:

       1. If  the  <u>python-foo</u>  source  package  ships  with a <u>debian/pydist-overrides</u> file, this file is used by
          dh_python during the build of <u>python-foo</u>.

       2. If the <u>python-bar</u> source package ships with a <u>debian/python-bar.pydist</u> file (and uses dh_python), this
          file will be included in the binary package as  <u>/usr/share/dh-python/dist/cpython2/python-bar</u>.  During
          the build of <u>python-foo</u>, dh_python will then find and use the file.

       Both  files  have the same format described in <u>/usr/share/doc/dh-python/README.PyDist</u>. If all you want is
       to generate versioned dependencies (and assuming that the <u>python-bar</u> package provides  the  <u>pybar</u>  Python
       module),  in most cases it will be sufficient to put the line <b>pybar</b> <b>python-bar;</b> <b>PEP386</b> into either of the
       above files.

   <b>namespace</b> <b>feature</b>
       dh_python2  parses  Egg's  namespace_packages.txt  files  (in  addition  to  --namespace   command   line
       argument(s))  and  drops  empty  __init__.py files from binary package. pycompile will regenerate them at
       install time and pyclean will remove them at uninstall time (if  they're  no  longer  used  in  installed
       packages).  It's  still  a  good  idea to provide __init__.py file in one of binary packages (even if all
       other packages use this feature).

   <b>private</b> <b>dirs</b>
       <u>/usr/share/foo</u>, <u>/usr/share/games/foo</u>, <u>/usr/lib/foo</u> and <u>/usr/lib/games/foo</u> private directories are scanned
       for Python files by default (where <u>foo</u> is binary package name). If your package  ships  Python  files  in
       some  other  directory,  add another dh_python2 call in debian/rules with directory name as an argument -
       you can use different set of options in this call. If  you  need  to  change  options  (f.e.  a  list  of
       supported  Python  versions)  for  a private directory that is checked by default, invoke dh_python2 with
       --skip-private option and add another call with a path to this directory and new options.

   <b>debug</b> <b>packages</b>
       In binary packages which name ends  with  <u>-dbg</u>,  all  files  in  <u>/usr/lib/python2.X/{site,dist}-packages/</u>
       directory  that  have  extensions  different  than <u>so</u> or <u>h</u> are removed by default.  Use --no-dbg-cleaning
       option to disable this feature.

   <b>pyinstall</b> <b>files</b>
       Files  listed  in  debian/pkg.pyinstall  file  will  be  installed   as   public   modules   (i.e.   into
       .../dist-packages/  directory)  for all requested Python versions (dh_install doesn't know about python's
       site- vs. dist-packages issue).

       Syntax: <b>path/to/file</b> <b>[NAMESPACE]</b> <b>[VERSION_RANGE]</b>

       debian directory is automatically removed from the path, so you can place your files in debian/ directory
       and install them from this location (if you want to install them in "debian" namespace, set NAMESPACE  to
       debian).  If  NAMESPACE  is  set,  all  listed  files  will  be installed in .../dist-packages/NAMESPACE/
       directory.

       <b>Examples:</b>

              • <b>foo.py</b> installs .../dist-packages/foo.py for all supported Python versions

              • <b>foo/bar.py</b> <b>2.6-</b> installs .../dist-packages/foo/bar.py for versions &gt;= 2.6

              • <b>foo/bar.py</b> <b>spam</b> installs .../dist-packages/spam/bar.py

              • <b>debian/*.py</b> <b>spam.egg</b> <b>2.5</b> installs .../python2.5/site-packages/spam/egg/*.py files

   <b>pyremove</b> <b>files</b>
       If you want to remove some public modules (i.e. files in .../dist-packages/ directory) installed by build
       system (from all supported Python versions or only  from  a  subset  of  these  versions),  add  them  to
       debian/pkg.pyremove file.

       <b>Examples:</b>

              • <b>*.pth</b> removes .pth files from .../dist-packages/

              • <b>bar/baz.py</b> <b>2.5</b> removes .../python2.5/site-packages/bar/baz.py

   <b>overriding</b> <b>supported</b> <b>/</b> <b>default</b> <b>Python</b> <b>versions</b>
       If  you  want  to override system's list of supported Python versions or the default one (f.e. to build a
       package that includes symlinks for  older  version  of  Python  or  compile  .py  files  only  for  given
       interpreter version), you can do that via <u>DEBPYTHON_SUPPORTED</u> and/or <u>DEBPYTHON_DEFAULT</u> env. variables.

       Example: <b>2.5,2.7</b> limits the list of supported Python versions to Python 2.5 and Python 2.7.

</pre><h4><b>OPTIONS</b></h4><pre>
       <b>--version</b>
              show program's version number and exit

       <b>-h</b>, <b>--help</b>
              show help message and exit

       <b>--no-guessing-versions</b>
              disable guessing other supported Python versions

       <b>--no-guessing-deps</b>
              disable guessing dependencies

       <b>--no-dbg-cleaning</b>
              do not remove any files from debug packages

       --no-ext-rename do not add magic tags nor multiarch tuples to extension file names

       <b>--no-shebang-rewrite</b>
              do not rewrite shebangs

       <b>--skip-private</b>
              don't check private directories

       <b>-v</b>, <b>--verbose</b>
              turn verbose mode on

       <b>-i</b>, <b>--indep</b>
              act on architecture independent packages

       <b>-a</b>, <b>--arch</b>
              act on architecture dependent packages

       <b>-q</b>, <b>--quiet</b>
              be quiet

       <b>-p</b> <u>PACKAGE</u>, <b>--package=</b><u>PACKAGE</u>
              act on the package named PACKAGE

       <b>-N</b> <u>NO_PACKAGE</u>, <b>--no-package=</b><u>NO_PACKAGE</u>
              do not act on the specified package

       <b>-V</b> <u>VRANGE</u>
              specify list of supported Python versions. See <a href="../man1/pycompile.1.html">pycompile</a>(1) for examples

       <b>-X</b> <u>REGEXPR</u>, <b>--exclude=</b><u>REGEXPR</u>
              exclude  items that match given REGEXPR. You may use this option multiple times to build up a list
              of things to exclude.

       <b>--compile-all</b>
              compile all files from given private directory in postinst/rtupdate not just the ones provided  by
              the package (i.e. do not pass the --package parameter to pycompile/pyclean)

       <b>--accept-upstream-versions</b>
              accept upstream versions while translating Python dependencies into Debian ones

       <b>--depends=</b><u>DEPENDS</u>
              translate  given  requirements  into Debian dependencies and add them to ${python:Depends}. Use it
              for missing items in requires.txt

       <b>--depends-section=</b><u>SECTION</u>
              translate requirements from given sections of requres.txt file into Debian  dependencies  and  add
              them to ${python:Depends}.

       <b>--recommends=</b><u>RECOMMENDS</u>
              translate given requirements into Debian dependencies and add them to ${python:Recommends}

       <b>--recommends-section=</b><u>SECTION</u>
              translate  requirements  from  given sections of requres.txt file into Debian dependencies and add
              them to ${python:Recommends}.

       <b>--suggests=</b><u>SUGGESTS</u>
              translate given requirements into Debian dependencies and add them to ${python:Suggests}

       <b>--suggests-section=</b><u>SECTION</u>
              translate requirements from given sections of requres.txt file into Debian  dependencies  and  add
              them to ${python:Suggests}.

       <b>--requires=</b><u>FILENAME</u>
              translate   requirements   from   given   file(s)   into  Debian  dependencies  and  add  them  to
              ${python:Depends}

       <b>--namespace=</b><u>NAME</u>
              use this option (multiple time if necessary) if namespace_packages.txt is not complete

       <b>--ignore-namespace</b>
              ignore Egg's namespace declaration and --namespace option. This option will disable removing  (and
              recreating at install time) empty __init__.py files. Removing namespace_packages.txt from egg-info
              directory has the same effect.

       <b>--clean-pycentral</b>
              generate maintainer script that will remove byte code generated by python-central helper

       <b>--shebang=</b><u>COMMAND</u>
              use given command as shebang in scripts

       <b>--ignore-shebangs</b>
              do not translate shebangs into Debian dependencies

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       • /usr/share/doc/python/python-policy.txt.gz

       • /usr/share/doc/dh-python/README.PyDist

       • <a href="../man1/pybuild.1.html">pybuild</a>(1)

       • <a href="../man1/pycompile.1.html">pycompile</a>(1), <a href="../man1/pyclean.1.html">pyclean</a>(1)

       • <a href="../man1/dh_python3.1.html">dh_python3</a>(1), <a href="../man1/py3compile.1.html">py3compile</a>(1), <a href="../man1/py3clean.1.html">py3clean</a>(1)

       • Wiki page about converting package to dh_python2: <u><a href="http://wiki.debian.org/Python/TransitionToDHPython2">http://wiki.debian.org/Python/TransitionToDHPython2</a></u>

       • <u><a href="http://deb.li/dhp2">http://deb.li/dhp2</a></u> - most recent version of this document

</pre><h4><b>AUTHOR</b></h4><pre>
       Piotr Ożarowski, 2012-2013

                                                                                                   <u><a href="../man1/DH_PYTHON2.1.html">DH_PYTHON2</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>