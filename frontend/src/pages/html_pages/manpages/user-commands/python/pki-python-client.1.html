<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>pki-python-client - Dogtag Python Client API</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/jammy/+package/pki-base">pki-base_11.0.0-1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       pki-python-client - Dogtag Python Client API

       Dogtag  is  an  enterprise  software system designed to manage enterprise Public Key Infrastructure (PKI)
       deployments.  These pages document the Python client API that can be used to interact with Dogtag's  REST
       API to request and issue certificates, store secrets in the KRA etc.

</pre><h4><b>PKI</b> <b>PACKAGE</b></h4><pre>
   <u><b>pki</b></u> <b>Package</b>
       This module contains top-level classes and functions used by the Dogtag project.

       <b>class</b> <b>pki.Attribute(name,</b> <b>value)</b>
              Bases: <b>object</b>

              Class representing a key/value pair.

              This object is the basis of the representation of a ResourceMessage.

       <b>class</b> <b>pki.AttributeList</b>
              Bases: <b>object</b>

              Class representing a list of attributes.

              This class is needed because of a JavaMapper used in the REST API.

       <b>exception</b> <b>pki.BadRequestException(message,</b> <b>exception=None,</b> <b>code=None,</b> <b>class_name=None)</b>
              Bases: <u>pki.PKIException</u>

              Bad Request Exception: return code = 400

       <b>exception</b> <b>pki.CertNotFoundException(message,</b> <b>exception=None,</b> <b>code=None,</b> <b>class_name=None)</b>
              Bases: <u>pki.ResourceNotFoundException</u>

              Cert Not Found Exception: return code = 404

       <b>exception</b> <b>pki.ConflictingOperationException(message,</b> <b>exception=None,</b> <b>code=None,</b> <b>class_name=None)</b>
              Bases: <u>pki.PKIException</u>

              Conflicting Operation Exception: return code = 409

       <b>class</b> <b>pki.FIPS</b>
              Bases: <b>object</b>

              <b>static</b> <b>is_enabled()</b>

       <b>exception</b> <b>pki.ForbiddenException(message,</b> <b>exception=None,</b> <b>code=None,</b> <b>class_name=None)</b>
              Bases: <u>pki.PKIException</u>

              Forbidden Exception: return code = 403

       <b>exception</b> <b>pki.GroupNotFoundException(message,</b> <b>exception=None,</b> <b>code=None,</b> <b>class_name=None)</b>
              Bases: <u>pki.ResourceNotFoundException</u>

              Group Not Found Exception: return code = 404

       <b>exception</b> <b>pki.HTTPGoneException(message,</b> <b>exception=None,</b> <b>code=None,</b> <b>class_name=None)</b>
              Bases: <u>pki.PKIException</u>

              Gone Exception: return code = 410

       <b>exception</b> <b>pki.KeyNotFoundException(message,</b> <b>exception=None,</b> <b>code=None,</b> <b>class_name=None)</b>
              Bases: <u>pki.ResourceNotFoundException</u>

              Key Not Found Exception: return code 404

       <b>class</b> <b>pki.Link</b>
              Bases: <b>object</b>

              Stores the information of the  resteasy's Link object sent by the server for a resource.

              <b>classmethod</b> <b>from_json(attr_list)</b>
                     Generate Link from JSON

                     <b>Parameters</b>
                            <b>attr_list</b> (<u>str</u>) -- JSON representation of Link

                     <b>Returns</b>
                            pki.Link

       <b>exception</b> <b>pki.PKIException(message,</b> <b>exception=None,</b> <b>code=None,</b> <b>class_name=None)</b>
              Bases: <b>Exception</b>, <u>pki.ResourceMessage</u>

              Base exception class for REST Interface

              <b>classmethod</b> <b>from_json(json_value)</b>
                     Construct PKIException from JSON.  :param json_value: JSON representation of the exception.
                     :type json_value: str :return: pki.PKIException

       <b>exception</b> <b>pki.ProfileNotFoundException(message,</b> <b>exception=None,</b> <b>code=None,</b> <b>class_name=None)</b>
              Bases: <u>pki.ResourceNotFoundException</u>

              Profile Not Found Exception: return code = 404

       <b>class</b> <b>pki.PropertyFile(filename,</b> <b>delimiter='=')</b>
              Bases: <b>object</b>

              Class  to  manage property files  The contents of the property file are maintained internally as a
              list of properties.

              Properties are strings of  the  format  &lt;name&gt;  &lt;delimiter&gt;  &lt;value&gt;  where  '='  is  the  default
              delimiter.

              <b>get(name)</b>
                     Get the value of the specified property.

                     <b>Parameters</b>
                            <b>name</b> (<u>str</u>) -- name of property to be fetched.

                     <b>Returns</b>
                            str -- value of property

              <b>index(name)</b>
                     Find the index (position) of a property in a property file.

                     <b>Parameters</b>
                            <b>name</b> (<u>str</u>) -- name of property

                     <b>Returns</b>
                            int -- index of property.

              <b>insert_line(index,</b> <b>line)</b>
                     Insert  property  into  the  list  of properties maintained by this object at the specified
                     location (index).

                     <b>Parameters</b>

                            • <b>index</b> (<u>int</u>) -- point at which to insert value.

                            • <b>line</b> (<u>str</u>) -- value to be inserted.

                     <b>Returns</b>
                            None

              <b>read()</b> Read from property file into the list of properties maintained by this object.

                     <b>Returns</b>
                            None

              <b>remove(name)</b>
                     Remove property from list of properties maintained by this object.

                     <b>Parameters</b>
                            <b>name</b> (<u>str</u>) -- name of property to be removed.

                     <b>Returns</b>
                            None

              <b>remove_line(index)</b>
                     Remove property at specified index from the properties list.

                     <b>Parameters</b>
                            <b>index</b> (<u>int</u>) -- location of property to be removed.

                     <b>Returns</b>
                            None

              <b>set(name,</b> <b>value,</b> <b>index=None)</b>
                     Set value of specified property.

                     <b>Parameters</b>

                            • <b>name</b> (<u>str</u>) -- name of property to set.

                            • <b>value</b> (<u>str</u>) -- value to set

                            • <b>index</b> (<u>int</u>) -- (optional) position of property

                     <b>Returns</b>
                            None

              <b>show()</b> Print the contents of the list of properties maintained by this object to STDOUT.

                     <b>Returns</b>
                            None

              <b>write()</b>
                     Write the list of properties maintained by this object to the property file.

                     <b>Returns</b>
                            None

       <b>exception</b> <b>pki.RequestNotFoundException(message,</b> <b>exception=None,</b> <b>code=None,</b> <b>class_name=None)</b>
              Bases: <u>pki.ResourceNotFoundException</u>

              Request Not Found Exception: return code = 404

       <b>class</b> <b>pki.ResourceMessage(class_name)</b>
              Bases: <b>object</b>

              This class is the basis for the various types of key  requests.   It  is  essentially  a  list  of
              attributes.

              <b>add_attribute(name,</b> <b>value)</b>
                     Add an attribute to the list.

                     <b>Parameters</b>

                            • <b>name</b> (<u>str</u>) -- name of attribute to add

                            • <b>value</b> (<u>str</u>) -- value to add

                     <b>Returns</b>
                            None

              <b>get_attribute_value(name)</b>
                     Get the value of a given attribute.

                     <b>Parameters</b>
                            <b>name</b> (<u>str</u>) -- name of attribute to retrieve

                     <b>Returns</b>
                            str -- value of parameter

       <b>exception</b> <b>pki.ResourceNotFoundException(message,</b> <b>exception=None,</b> <b>code=None,</b> <b>class_name=None)</b>
              Bases: <u>pki.PKIException</u>

              Not Found Exception: return code = 404

       <b>exception</b> <b>pki.UnauthorizedException(message,</b> <b>exception=None,</b> <b>code=None,</b> <b>class_name=None)</b>
              Bases: <u>pki.PKIException</u>

              Unauthorized Exception: return code = 401

       <b>exception</b> <b>pki.UserNotFoundException(message,</b> <b>exception=None,</b> <b>code=None,</b> <b>class_name=None)</b>
              Bases: <u>pki.ResourceNotFoundException</u>

              User Not Found Exception: return code = 404

       <b>pki.convert_x509_name_to_dn(name)</b>
              Convert X.509 Name into NSS-style DN string.

              See   also:   -   <u>https://cryptography.io/en/latest/x509/reference.html#cryptography.x509.Name</u>   -
              <u>https://cryptography.io/en/latest/x509/reference.html#cryptography.x509.RelativeDistinguishedName</u>
              -     <u>https://cryptography.io/en/latest/x509/reference.html#cryptography.x509.NameAttribute</u>      -
              <u>https://cryptography.io/en/latest/x509/reference.html#cryptography.x509.ObjectIdentifier</u>

              <b>Parameters</b>
                     <b>name</b> (<u>cryptography.x509.Name</u>) -- X.509 Name

              <b>Returns</b>
                     str -- DN string.

       <b>pki.generate_password(charset='0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ!#*+,-./:;^_|~',</b>
       <b>length=12)</b>
              This function generates FIPS-compliant password.

              See            sftk_newPinCheck()            in            the           following           file:
              <u>https://dxr.mozilla.org/nss/source/nss/lib/softoken/fipstokn.c</u>

              The minimum password length is FIPS_MIN_PIN Unicode characters.

              <b>The</b> <b>password</b> <b>must</b> <b>contain</b> <b>at</b> <b>least</b> <b>3</b> <b>character</b> <b>classes:</b>

                     • digits (string.digits)

                     • ASCII lowercase letters (string.ascii_lowercase)

                     • ASCII uppercase letters (string.ascii_uppercase)

                     • ASCII non-alphanumeric characters (PUNCTUATIONS)

                     • non-ASCII characters

              If an ASCII uppercase letter is the first character of the password, the uppercase letter  is  not
              counted toward its character class.

              If  a  digit  is the last character of the password, the digit is not counted toward its character
              class.

              The       FIPS_MIN_PIN        is        defined        in        the        following        file:
              <u>https://dxr.mozilla.org/nss/source/nss/lib/softoken/pkcs11i.h</u>

              #define FIPS_MIN_PIN 7

       <b>pki.get_info(name)</b>

       <b>pki.handle_exceptions()</b>
              Decorator handling exceptions from REST methods.

       <b>pki.implementation_version()</b>
              Return implementation version.

              <b>Returns</b>
                     str -- implementation version

       <b>pki.specification_version()</b>
              Return specification version.

              <b>Returns</b>
                     str -- specification version

   <b>account</b> <b>Module</b>
       <b>class</b> <b>pki.account.AccountClient(connection,</b> <b>subsystem=None)</b>
              Bases: <b>object</b>

              Class used to associate an authentication session variable with a connection.

              <b>To</b> <b>use</b> <b>this</b> <b>class:</b>

                     • set the authentication credentials with the connection,

                     • create an AccountClient and then call login().

                     • further  operations  in this session will use the same authentication credentials without
                       re-authentication.

                     • call logout() to invalidate the session.

              <b>login()</b>
                     Login to account REST  interface.   If  login  is  successful,  an  authentication  session
                     variable is associated with the connection.

                     <b>Returns</b>
                            None

              <b>logout()</b>
                     Logs  out  of  the  session.   Authentication  session  variables  are  invalidated for the
                     connection

                     <b>Returns</b>
                            None

   <b>cert</b> <b>Module</b>
       <b>class</b> <b>pki.cert.CertClient(connection)</b>
              Bases: <b>object</b>

              Class encapsulating and mirroring the functionality  in  the  CertResource  Java  interface  class
              defining the REST API for Certificate resources.

              <b>approve_request(request_id,</b> <b>cert_review_response=None)</b>
                     Approves  a  certificate  enrollment  request.   If  cert_review_response is None, a review
                     request operation is performed to fetch the CertReviewResponse object.  Requires  as  agent
                     level authentication.

              <b>assign_request(request_id,</b> <b>cert_review_response)</b>
                     Assigns  a  certificate  enrollment  request.   If  cert_review_response  is None, a review
                     request operation is performed to fetch the CertReviewResponse object.  Requires  as  agent
                     level authentication.

              <b>cancel_request(request_id,</b> <b>cert_review_response=None)</b>
                     Cancels  a  certificate  enrollment  request.   If  cert_review_response  is None, a review
                     request operation is performed to fetch the CertReviewResponse object.  Requires  as  agent
                     level authentication.

              <b>create_enrollment_request(profile_id,</b> <b>inputs)</b>
                     Fetches  the  enrollment  request  object  for  the  given  profile  and sets values to its
                     attributes  using  the  values  provided   in   the   inputs   dictionary.    Returns   the
                     CertEnrollmentRequest object, which can be submitted to enroll a certificate.

              <b>enroll_cert(profile_id,</b> <b>inputs,</b> <b>authority=None)</b>
                     A  convenience  method  for  enrolling  a  certificate  for a given profile id.  The inputs
                     parameter should be a dictionary with values for the profile attributes for  an  enrollment
                     request.

                     Calling  this method with valid arguments, creates an enrollment request, submits it to the
                     server, approves the certificate requests generated for the enrollment and returns  a  list
                     of CertData objects for all the certificates generated as part of this enrollment.

                     Note:  This  method  supports  only certificate enrollment where only one agent approval is
                     sufficient.

                     Requires an agent level authentication.  Returns a list of CertEnrollmentResult objects.

              <b>get_cert(cert_serial_number)</b>
                     Return a CertData object for a particular certificate.

              <b>get_enrollment_template(profile_id)</b>
                     Fetch the enrollment template for the given profile id.  For the first time, the request is
                     sent to the server.  The retrieved CertEnrollmentRequest object is then cached locally  for
                     future requests.  Returns a CerEnrollmentRequest object.

              <b>get_request(request_id)</b>
                     Get   information  of  a  certificate  request  with  the  given  request  ID.   Returns  a
                     CertRequestInfo object.

              <b>hold_cert(cert_serial_number,</b> <b>comments=None,</b> <b>authority=None)</b>
                     Places  a  certificate   on-hold.    Calls   the   revoke_cert   method   with   reason   -
                     CertRevokeRequest.REASON_CERTIFICATE_HOLD.   Returns a CertRequestInfo object.  This method
                     requires an agent's authentication cert in the connection object.

              <b>list_certs(max_results=None,</b> <b>max_time=None,</b> <b>start=None,</b> <b>size=None,</b> <b>**cert_search_params)</b>
                     Return a CertDataInfoCollection object with a information about all the  certificates  that
                     satisfy the search criteria.  If cert_search_request=None, returns all the certificates.

              <b>list_enrollment_templates(start=None,</b> <b>size=None)</b>
                     Gets  the  list  of  profile  templates supported by the CA.  The values for start and size
                     arguments  determine  the  starting  point  and  the  length  of  the  list.    Returns   a
                     ProfileDataInfoCollection object.

              <b>list_requests(request_status=None,</b> <b>request_type=None,</b> <b>from_request_id=None,</b> <b>size=None,</b>
              <b>max_results=None,</b> <b>max_time=None)</b>
                     Query   for   a   list   of   certificates   using   the   arguments   passed.   Returns  a
                     CertRequestInfoCollection object.

              <b>reject_request(request_id,</b> <b>cert_review_response=None)</b>
                     Rejects a certificate enrollment  request.   If  cert_review_response  is  None,  a  review
                     request  operation  is performed to fetch the CertReviewResponse object.  Requires as agent
                     level authentication.

              <b>review_cert(cert_serial_number)</b>
                     Reviews a certificate. Returns a CertData object with a nonce.   This  method  requires  an
                     agent's authentication cert in the connection object.

              <b>review_request(request_id)</b>
                     Reviews  a  certificate  enrollment  request.   Returns  a  CertReviewResponse object which
                     contains the nonce from the server needed to perform an action on the request.

              <b>revoke_ca_cert(cert_serial_number,</b> <b>revocation_reason=None,</b> <b>invalidity_date=None,</b> <b>comments=None,</b>
              <b>nonce=None,</b> <b>authority=None)</b>
                     Revokes a CA certificate.  Returns a CertRequestInfo  object  with  information  about  the
                     request.  This method requires an agent's authentication cert in the connection object.

              <b>revoke_cert(cert_serial_number,</b> <b>revocation_reason=None,</b> <b>invalidity_date=None,</b> <b>comments=None,</b>
              <b>nonce=None,</b> <b>authority=None)</b>
                     Revokes  a  certificate.   Returns  a  CertRequestInfo  object  with  information about the
                     request.  This method requires an agent's authentication cert in the connection object.

              <b>submit_enrollment_request(enrollment_request,</b> <b>authority=None)</b>
                     Submits    the    CertEnrollmentRequest    object    to    the    server.     Returns     a
                     CertRequestInfoCollection  object  with information about the certificate requests enrolled
                     at the CA.

              <b>unassign_request(request_id,</b> <b>cert_review_response)</b>
                     Un-assigns a certificate enrollment request.  If cert_review_response  is  None,  a  review
                     request  operation  is performed to fetch the CertReviewResponse object.  Requires as agent
                     level authentication.

              <b>unrevoke_cert(cert_serial_number,</b> <b>authority=None)</b>
                     Un-revokes a revoked certificate.  Returns a CertRequestInfo object.  This method  requires
                     an agent's authentication cert in the connection object.

              <b>update_request(request_id,</b> <b>cert_review_response)</b>
                     Updates  a  certificate  enrollment  request.   If  cert_review_response  is None, a review
                     request operation is performed to fetch the CertReviewResponse object.  Requires  as  agent
                     level authentication.

              <b>validate_request(request_id,</b> <b>cert_review_response)</b>
                     Validates  a  certificate  enrollment  request.   If cert_review_response is None, a review
                     request operation is performed to fetch the CertReviewResponse object.  Requires  as  agent
                     level authentication.

       <b>class</b> <b>pki.cert.CertData</b>
              Bases: <b>object</b>

              Class containing certificate data as returned from getCert()

              <b>classmethod</b> <b>from_json(attr_list)</b>
                     Return CertData object from JSON dict

              <b>json_attribute_names</b> <b>=</b> <b>{'Encoded':</b> <b>'encoded',</b> <b>'IssuerDN':</b> <b>'issuer_dn',</b> <b>'Link':</b> <b>'link',</b> <b>'Nonce':</b>
              <b>'nonce',</b> <b>'NotAfter':</b> <b>'not_after',</b> <b>'NotBefore':</b> <b>'not_before',</b> <b>'PKCS7CertChain':</b> <b>'pkcs7_cert_chain',</b>
              <b>'PrettyPrint':</b> <b>'pretty_repr',</b> <b>'Status':</b> <b>'status',</b> <b>'SubjectDN':</b> <b>'subject_dn',</b> <b>'id':</b>
              <b>'serial_number'}</b>

       <b>class</b> <b>pki.cert.CertDataInfo</b>
              Bases: <b>object</b>

              Class  containing  information  contained  in  a CertRecord on the CA.  This data is returned when
              searching/listing certificate records.

              <b>classmethod</b> <b>from_json(attr_list)</b>
                     Return CertDataInfo object from JSON dict

              <b>json_attribute_names</b> <b>=</b> <b>{'IssuedBy':</b> <b>'issued_by',</b> <b>'IssuedOn':</b> <b>'issued_on',</b> <b>'KeyAlgorithmOID':</b>
              <b>'key_algorithm_oid',</b> <b>'KeyLength':</b> <b>'key_length',</b> <b>'Link':</b> <b>'link',</b> <b>'NotValidAfter':</b>
              <b>'not_valid_after',</b> <b>'NotValidBefore':</b> <b>'not_valid_before',</b> <b>'Status':</b> <b>'status',</b> <b>'SubjectDN':</b>
              <b>'subject_dn',</b> <b>'Type':</b> <b>'type',</b> <b>'Version':</b> <b>'version',</b> <b>'id':</b> <b>'serial_number'}</b>

       <b>class</b> <b>pki.cert.CertDataInfoCollection</b>
              Bases: <b>object</b>

              Class containing list of CertDataInfo objects and their respective link  objects.   This  data  is
              returned when searching/listing certificate records in the CA.

              <b>classmethod</b> <b>from_json(json_value)</b>
                     Populate object from JSON input

       <b>class</b> <b>pki.cert.CertEnrollmentRequest(profile_id=None,</b> <b>renewal=False,</b> <b>serial_number=None,</b>
       <b>remote_host=None,</b> <b>remote_address=None,</b> <b>inputs=None,</b> <b>outputs=None)</b>
              Bases: <b>object</b>

              <b>This</b> <b>class</b> <b>encapsulates</b> <b>the</b> <b>parameters</b> <b>required</b> <b>for</b> <b>a</b> <b>certificate</b>
                     enrollment request.

              <b>add_input(profile_input)</b>

              <b>add_output(profile_output)</b>

              <b>classmethod</b> <b>from_json(attr_list)</b>

              <b>get_input(profile_input_name)</b>

              <b>get_output(profile_output_name)</b>

              <b>json_attribute_names</b> <b>=</b> <b>{'Input':</b> <b>'inputs',</b> <b>'Output':</b> <b>'outputs',</b> <b>'ProfileID':</b> <b>'profile_id',</b>
              <b>'RemoteAddress':</b> <b>'remote_address',</b> <b>'RemoteHost':</b> <b>'remote_host',</b> <b>'Renewal':</b> <b>'renewal',</b>
              <b>'SerialNumber':</b> <b>'serial_number'}</b>

              <b>remove_input(profile_input_name)</b>

              <b>remove_output(profile_output_name)</b>

       <b>class</b> <b>pki.cert.CertEnrollmentResult(request,</b> <b>cert)</b>
              Bases: <b>object</b>

              Class containing results of an enrollment request.

              This structure contains information about the cert request generated and any certificates issued.

       <b>class</b> <b>pki.cert.CertRequestInfo</b>
              Bases: <b>object</b>

              An object of this class stores represents a certificate request.

              <b>classmethod</b> <b>from_json(attr_list)</b>

              <b>json_attribute_names</b> <b>=</b> <b>{'certId':</b> <b>'cert_id',</b> <b>'certRequestType':</b> <b>'cert_request_type',</b> <b>'certURL':</b>
              <b>'cert_url',</b> <b>'errorMessage':</b> <b>'error_message',</b> <b>'operationResult':</b> <b>'operation_result',</b>
              <b>'requestStatus':</b> <b>'request_status',</b> <b>'requestType':</b> <b>'request_type',</b> <b>'requestURL':</b> <b>'request_url'}</b>

       <b>class</b> <b>pki.cert.CertRequestInfoCollection</b>
              Bases: <b>object</b>

              Class  containing list of CertRequestInfo objects.  This data is returned when listing certificate
              request records in the CA.

              <b>classmethod</b> <b>from_json(json_value)</b>
                     Populate object from JSON input

       <b>class</b> <b>pki.cert.CertRequestStatus</b>
              Bases: <b>object</b>

              Class containing valid cert statuses.

              <b>CANCELED</b> <b>=</b> <b>'canceled'</b>

              <b>COMPLETE</b> <b>=</b> <b>'complete'</b>

              <b>PENDING</b> <b>=</b> <b>'pending'</b>

              <b>REJECTED</b> <b>=</b> <b>'rejected'</b>

       <b>class</b> <b>pki.cert.CertReviewResponse(profile_id=None,</b> <b>renewal=False,</b> <b>serial_number=None,</b> <b>remote_host=None,</b>
       <b>remote_address=None,</b> <b>inputs=None,</b> <b>outputs=None,</b> <b>nonce=None,</b> <b>request_id=None,</b> <b>request_type=None,</b>
       <b>request_status=None,</b> <b>request_owner=None,</b> <b>request_creation_time=None,</b> <b>request_modification_time=None,</b>
       <b>request_notes=None,</b> <b>profile_approval_by=None,</b> <b>profile_set_id=None,</b> <b>profile_is_visible=None,</b>
       <b>profile_name=None,</b> <b>profile_description=None,</b> <b>profile_remote_host=None,</b> <b>profile_remote_address=None,</b>
       <b>policy_sets=None)</b>
              Bases: <u>pki.cert.CertEnrollmentRequest</u>

              An object of this class represent the response  from  the  server  when  reviewing  a  certificate
              enrollment request.  It contains a nonce required to perform action on the request.

              <b>classmethod</b> <b>from_json(attr_list)</b>

              <b>json_attribute_names</b> <b>=</b> <b>{'Input':</b> <b>'inputs',</b> <b>'Output':</b> <b>'outputs',</b> <b>'ProfileID':</b> <b>'profile_id',</b>
              <b>'ProfilePolicySet':</b> <b>'policy_sets',</b> <b>'RemoteAddress':</b> <b>'remote_address',</b> <b>'RemoteHost':</b> <b>'remote_host',</b>
              <b>'Renewal':</b> <b>'renewal',</b> <b>'SerialNumber':</b> <b>'serial_number',</b> <b>'profileApprovedBy':</b> <b>'profile_approved_by',</b>
              <b>'profileDescription':</b> <b>'profile_description',</b> <b>'profileIsVisible':</b> <b>'profile_is_visible',</b>
              <b>'profileName':</b> <b>'profile_name',</b> <b>'profileRemoteAddr':</b> <b>'profile_remote_address',</b> <b>'profileRemoteHost':</b>
              <b>'profile_remote_host',</b> <b>'profileSetId':</b> <b>'profile_set_id',</b> <b>'requestCreationTime':</b>
              <b>'request_creation_time',</b> <b>'requestId':</b> <b>'request_id',</b> <b>'requestModificationTime':</b>
              <b>'request_modification_time',</b> <b>'requestNotes':</b> <b>'request_notes',</b> <b>'requestOwner':</b> <b>'request_owner',</b>
              <b>'requestStatus':</b> <b>'request_status',</b> <b>'requestType':</b> <b>'request_type'}</b>

       <b>class</b> <b>pki.cert.CertRevokeRequest(nonce,</b> <b>reason=None,</b> <b>invalidity_date=None,</b> <b>comments=None)</b>
              Bases: <b>object</b>

              An object of this class encapsulates all the parameters required for revoking a certificate.

              <b>Valid</b> <b>values</b> <b>for</b> <b>reasons</b> <b>for</b> <b>revoking</b> <b>a</b> <b>request</b> <b>are:</b>
                     'Unspecified',   'Key_Compromise',  'CA_Compromise',  'Affiliation_Changed',  'Superseded',
                     'Cessation_of_Operation',  'Certificate_Hold',  'Remove_from_CRL',   'Privilege_Withdrawn',
                     'AA_Compromise'

              <b>reasons</b> <b>=</b> <b>['Unspecified',</b> <b>'Key_Compromise',</b> <b>'CA_Compromise',</b> <b>'Affiliation_Changed',</b> <b>'Superseded',</b>
              <b>'Cessation_of_Operation',</b> <b>'Certificate_Hold',</b> <b>'Remove_from_CRL',</b> <b>'Privilege_Withdrawn',</b>
              <b>'AA_Compromise']</b>

       <b>class</b> <b>pki.cert.CertSearchRequest(**cert_search_params)</b>
              Bases: <b>object</b>

              An object of this class is used to store the search parameters and send them to server.

              <b>search_params</b> <b>=</b> <b>{'cert_type_secure_email':</b> <b>'certTypeSecureEmail',</b> <b>'cert_type_ssl_client':</b>
              <b>'certTypeSSLClient',</b> <b>'cert_type_ssl_server':</b> <b>'certTypeSSLServer',</b> <b>'cert_type_sub_email_ca':</b>
              <b>'certTypeSubEmailCA',</b> <b>'cert_type_sub_ssl_ca':</b> <b>'certTypeSubSSLCA',</b> <b>'common_name':</b> <b>'commonName',</b>
              <b>'country':</b> <b>'country',</b> <b>'email':</b> <b>'eMail',</b> <b>'issued_by':</b> <b>'issuedBy',</b> <b>'issued_on_from':</b> <b>'issuedOnFrom',</b>
              <b>'issued_on_to':</b> <b>'issuedOnTo',</b> <b>'locality':</b> <b>'locality',</b> <b>'match_exactly':</b> <b>'matchExactly',</b> <b>'org':</b>
              <b>'org',</b> <b>'org_unit':</b> <b>'orgUnit',</b> <b>'revocation_reason':</b> <b>'revocationReason',</b> <b>'revoked_by':</b> <b>'revokedBy',</b>
              <b>'revoked_on_from':</b> <b>'revokedOnFrom',</b> <b>'revoked_on_to':</b> <b>'revokedOnTo',</b> <b>'serial_from':</b> <b>'serialFrom',</b>
              <b>'serial_to':</b> <b>'serialTo',</b> <b>'state':</b> <b>'state',</b> <b>'status':</b> <b>'status',</b> <b>'user_id':</b> <b>'userID',</b>
              <b>'valid_not_after_from':</b> <b>'validNotAfterFrom',</b> <b>'valid_not_after_to':</b> <b>'validNotAfterTo',</b>
              <b>'valid_not_before_from':</b> <b>'validNotBeforeFrom',</b> <b>'valid_not_before_to':</b> <b>'validNotBeforeTo',</b>
              <b>'validity_count':</b> <b>'validityCount',</b> <b>'validity_operation':</b> <b>'validityOperation',</b> <b>'validity_unit':</b>
              <b>'validityUnit'}</b>

       <b>pki.cert.main()</b>

   <b>client</b> <b>Module</b>
       <b>class</b> <b>pki.client.PKIConnection(protocol='http',</b> <b>hostname='localhost',</b> <b>port='8080',</b> <b>subsystem=None,</b>
       <b>accept='application/json',</b> <b>trust_env=None,</b> <b>verify=True,</b> <b>cert_paths=None)</b>
              Bases: <b>object</b>

              Class to encapsulate the connection between the client and a Dogtag subsystem.

              <b>authenticate(username=None,</b> <b>password=None)</b>
                     Set  the  parameters  used  for  authentication  if  username/password is to be used.  Both
                     username and password must not be None.  Note that this method only  sets  the  parameters.
                     Actual authentication occurs when the connection is attempted,

                     <b>Parameters</b>

                            • <b>username</b> -- username to authenticate connection

                            • <b>password</b> -- password to authenticate connection

                     <b>Returns</b>
                            None

              <b>delete(path,</b> <b>headers=None,</b> <b>use_root_uri=False)</b>
                     Uses python-requests to issue a DEL request to the server.

                     <b>Parameters</b>

                            • <b>path</b> (<u>str</u>) -- path URI for the DEL request

                            • <b>headers</b> (<u>dict</u>) -- headers for the DEL request

                            • <b>use_root_uri</b> (<u>boolean</u>) -- use root URI instead of subsystem URI as base

                     <b>Returns</b>
                            request.response -- response from the server

                     <b>Raises</b> Exception  from  python-requests  in  case the DEL was not successful, or returns an
                            error code.

              <b>get(path,</b> <b>headers=None,</b> <b>params=None,</b> <b>payload=None,</b> <b>use_root_uri=False,</b> <b>timeout=None)</b>
                     Uses python-requests to issue a GET request to the server.

                     <b>Parameters</b>

                            • <b>path</b> (<u>str</u>) -- path URI for the GET request

                            • <b>headers</b> (<u>dict</u>) -- headers for the GET request

                            • <b>params</b> (<u>dict</u> <u>or</u> <u>bytes</u>) -- Query parameters for the GET request

                            • <b>payload</b> (<u>dict,</u> <u>bytes,</u> <u>file-like</u> <u>object</u>) -- data to be sent  in  the  body  of  the
                              request

                            • <b>use_root_uri</b> (<u>boolean</u>) -- use root URI instead of subsystem URI as base

                     <b>Returns</b>
                            request.response -- response from the server

                     <b>Raises</b> Exception  from  python-requests  in  case the GET was not successful, or returns an
                            error code.

              <b>post(path,</b> <b>payload,</b> <b>headers=None,</b> <b>params=None,</b> <b>use_root_uri=False)</b>
                     Uses python-requests to issue a POST request to the server.

                     <b>Parameters</b>

                            • <b>path</b> (<u>str</u>) -- path URI for the POST request

                            • <b>payload</b> (<u>dict,</u> <u>bytes,</u> <u>file-like</u> <u>object</u>) -- data to be sent  in  the  body  of  the
                              request

                            • <b>headers</b> (<u>dict</u>) -- headers for the POST request

                            • <b>params</b> (<u>dict</u> <u>or</u> <u>bytes</u>) -- Query parameters for the POST request

                            • <b>use_root_uri</b> (<u>boolean</u>) -- use root URI instead of subsystem URI as base

                     <b>Returns</b>
                            request.response -- response from the server

                     <b>Raises</b> Exception  from  python-requests  in case the POST was not successful, or returns an
                            error code.

              <b>put(path,</b> <b>payload,</b> <b>headers=None,</b> <b>use_root_uri=False)</b>
                     Uses python-requests to issue a PUT request to the server.

                     <b>Parameters</b>

                            • <b>path</b> (<u>str</u>) -- path URI for the PUT request

                            • <b>payload</b> (<u>dict,</u> <u>bytes,</u> <u>file-like</u> <u>object</u>) -- data to be sent  in  the  body  of  the
                              request

                            • <b>headers</b> (<u>dict</u>) -- headers for the PUT request

                            • <b>use_root_uri</b> (<u>boolean</u>) -- use root URI instead of subsystem URI as base

                     <b>Returns</b>
                            request.response -- response from the server

                     <b>Raises</b> Exception  from  python-requests  in  case the PUT was not successful, or returns an
                            error code.

              <b>set_authentication_cert(pem_cert_path,</b> <b>pem_key_path=None)</b>
                     Set the path to the PEM file containing the certificate and  private  key  for  the  client
                     certificate  to  be  used  for  authentication  to  the  server,  when  client  certificate
                     authentication is required. The private key may optionally be stored in a different path.

                     <b>Parameters</b>

                            • <b>pem_cert_path</b> (<u>str</u>) -- path to the PEM file

                            • <b>pem_key_path</b> (<u>str</u>) -- path to the PEM-formatted private key file

                     <b>Returns</b>
                            None

                     <b>Raises</b> Exception if path is empty or None.

       <b>class</b> <b>pki.client.SSLContextAdapter(pool_connections=10,</b> <b>pool_maxsize=10,</b> <b>max_retries=0,</b> <b>pool_block=False,</b>
       <b>verify=True,</b> <b>cert_paths=None)</b>
              Bases: <b>requests.adapters.HTTPAdapter</b>

              Custom SSLContext Adapter for requests

              <b>init_poolmanager(connections,</b> <b>maxsize,</b> <b>block=False,</b> <b>**pool_kwargs)</b>
                     Initializes a urllib3 PoolManager.

                     This method should not be called  from  user  code,  and  is  only  exposed  for  use  when
                     subclassing the <b>HTTPAdapter</b>.

                     <b>Parameters</b>

                            • <b>connections</b> -- The number of urllib3 connection pools to cache.

                            • <b>maxsize</b> -- The maximum number of connections to save in the pool.

                            • <b>block</b> -- Block when no free connections are available.

                            • <b>pool_kwargs</b> -- Extra keyword arguments used to initialize the Pool Manager.

       <b>pki.client.catch_insecure_warning(func)</b>
              Temporary silence InsecureRequestWarning

              PKIConnection is not able to verify HTTPS connections yet. This decorator catches the warning.

              <b>See</b>    <u>https://fedorahosted.org/pki/ticket/1253</u>

       <b>pki.client.main()</b>
              Test code for the PKIConnection class.  :return: None

   <b>crypto</b> <b>Module</b>
       Module containing crypto classes.

       <b>class</b> <b>pki.crypto.CryptoProvider</b>
              Bases: <b>object</b>

              Abstract class containing methods to do cryptographic operations.

              <b>abstract</b> <b>asymmetric_wrap(data,</b> <b>wrapping_cert,</b> <b>mechanism=None)</b>
                     encrypt a symmetric key with the public key of a transport cert.

                     The mechanism is the type of symmetric key, which defaults to a 56 bit DES3 key.

              <b>abstract</b> <b><a href="../manmechanism/generate_nonce_iv.mechanism.html">generate_nonce_iv</a>(mechanism)</b>
                     Create a random initialization vector

              <b>abstract</b> <b>generate_session_key()</b>
                     Generate  a session key to be used for wrapping data to the DRM This must return a 3DES 168
                     bit key

              <b>abstract</b> <b>generate_symmetric_key(mechanism=None,</b> <b>size=0)</b>
                     Generate and return a symmetric key

              <b>abstract</b> <b>get_cert(cert_nick)</b>
                     Get the certificate for the specified cert_nick.

              <b>abstract</b> <b>get_supported_algorithm_keyset()</b>
                     returns highest supported algorithm keyset

              <b>abstract</b> <b>initialize()</b>
                     Initialization code

              <b>abstract</b> <b>key_unwrap(mechanism,</b> <b>data,</b> <b>wrapping_key,</b> <b>nonce_iv)</b>
                     Unwrap data that has been key wrapped using AES KeyWrap

              <b>abstract</b> <b>set_algorithm_keyset(level)</b>
                     sets required keyset

              <b>abstract</b> <b>symmetric_unwrap(data,</b> <b>wrapping_key,</b> <b>mechanism=None,</b> <b>nonce_iv=None)</b>
                     decrypt data originally encrypted with symmetric key (wrapping key)

                     We expect the data and nonce_iv values to be base64 encoded.  The mechanism is the type  of
                     key used to do the wrapping.  It defaults to a 56 bit DES3 key.

              <b>abstract</b> <b>symmetric_wrap(data,</b> <b>wrapping_key,</b> <b>mechanism=None,</b> <b>nonce_iv=None)</b>
                     encrypt data using a symmetric key (wrapping key)

       <b>class</b> <b>pki.crypto.CryptographyCryptoProvider(transport_cert_nick,</b> <b>transport_cert,</b>
       <b>backend=&lt;cryptography.hazmat.backends.openssl.backend.Backend</b> <b>object&gt;)</b>
              Bases: <u>pki.crypto.CryptoProvider</u>

              Class  that  defines  python-cryptography  implementation  of CryptoProvider.  Requires a PEM file
              containing the agent cert to be initialized.

              Note that all inputs and outputs are unencoded.

              <b>asymmetric_wrap(data,</b> <b>wrapping_cert,</b> <b>mechanism=None)</b>
                     :param data             Data to be wrapped :param wrapping_cert    Public key to wrap  data
                     :param mechanism        algorithm of symmetric key to be wrapped

                     Wrap (encrypt) data using the supplied asymmetric key

              <b>generate_nonce_iv(mechanism='AES')</b>
                     Create a random initialization vector

              <b>generate_session_key()</b>
                     Returns a session key to be used when wrapping secrets for the DRM.

              <b>generate_symmetric_key(mechanism=None,</b> <b>size=0)</b>
                     Returns a symmetric key.

              <b>get_cert(cert_nick)</b>
                     :param cert_nick  Nickname for the certificate to be returned.

              <b>get_supported_algorithm_keyset()</b>
                     returns highest supported algorithm keyset

              <b>initialize()</b>
                     Any operations here that need to be performed before crypto operations.

              <b>key_unwrap(mechanism,</b> <b>data,</b> <b>wrapping_key,</b> <b>nonce_iv)</b>
                     :param  mechanism         key  wrapping  mechanism  :param  data:            data to unwrap
                     :param wrapping_key:    AES key used  to  wrap  data  :param  nonce_iv          Nonce  data
                     :return:                unwrapped data

                     Unwrap the encrypted data which has been wrapped using a KeyWrap mechanism.

              <b>set_algorithm_keyset(level)</b>
                     sets required keyset

              <b>symmetric_unwrap(data,</b> <b>wrapping_key,</b> <b>mechanism=None,</b> <b>nonce_iv=None)</b>
                     :param  data            Data to be unwrapped :param wrapping_key    Symmetric key to unwrap
                     data :param mechanism       Mechanism to use when unwrapping :param nonce_iv        iv data

                     Unwrap (decrypt) data using the supplied symmetric key

              <b>symmetric_wrap(data,</b> <b>wrapping_key,</b> <b>mechanism=None,</b> <b>nonce_iv=None)</b>
                     :param data            Data to be wrapped :param wrapping_key    Symmetric key to wrap data
                     :param mechanism       Mechanism to use for wrapping key :param nonce_iv         Nonce  for
                     initialization vector

                     Wrap (encrypt) data using the supplied symmetric key

   <b>encoder</b> <b>Module</b>
       <b>pki.encoder.CustomTypeDecoder(dct)</b>

       <b>class</b> <b>pki.encoder.CustomTypeEncoder(*,</b> <b>skipkeys=False,</b> <b>ensure_ascii=True,</b> <b>check_circular=True,</b>
       <b>allow_nan=True,</b> <b>sort_keys=False,</b> <b>indent=None,</b> <b>separators=None,</b> <b>default=None)</b>
              Bases: <b>json.encoder.JSONEncoder</b>

              A custom JSONEncoder class that knows how to encode core custom objects.

              Custom  objects  are  encoded  as  JSON object literals (ie, dicts) with one key, 'TypeName' where
              'TypeName' is the actual name of the type to which the object belongs.  That single  key  maps  to
              another object literal which is just the __dict__ of the object encoded.

              Reason  for  ignoring  the error: E0202 - An attribute affected in json.encoder line 157 hide this
              method reported by pylint:

              The error is in json.encoder.JSONEncoder class.  There is a default method  (which  is  overridden
              here)  and  also  a class attribute self.default initialized in the init method of the class.  The
              intention of such usage being that a custom default method object  can  be  passed  to  init  when
              creating  an  instance of JSONEncoder, which is then assigned to class's default method. (which is
              valid) But pylint raises an issue due to the usage of same name for a method and an  attribute  in
              which  case the attribute definition hides the method.  The reason and example for the issue: (top
              rated comment)
                 <u><a href="http://stackoverflow.com/questions/12949064/python-what-happens">http://stackoverflow.com/questions/12949064/python-what-happens</a></u>-
                 when-instance-variable-name-is-same-as-method-name

              <b>static</b> <b>attr_name_conversion(attr_dict,</b> <b>object_class)</b>

              <b>default(o)</b>
                     Implement this method in a subclass such that it returns a serializable object  for  <b>o</b>,  or
                     calls the base implementation (to raise a <b>TypeError</b>).

                     For example, to support arbitrary iterators, you could implement default like this:

                        def default(self, o):
                            try:
                                iterable = iter(o)
                            except TypeError:
                                pass
                            else:
                                return list(iterable)
                            # Let the base class default method raise the TypeError
                            return JSONEncoder.default(self, o)

       <b>pki.encoder.decode_cert(data)</b>
              base64 decode X.509 certificate

              <b>Parameters</b>
                     <b>data</b> (<u>str,</u> <u>bytes</u>) -- data as bytes or ASCII text

              <b>Return</b> <b>type</b>
                     bytes

       <b>pki.encoder.encode_cert(data)</b>
              base64 encode X.509 certificate

              Python 3's base64.b64encode() doesn't support ASCII text.

              <b>Parameters</b>
                     <b>data</b> (<u>str,</u> <u>bytes</u>) -- data as bytes or ASCII text

              <b>Return</b> <b>type</b>
                     bytes

   <b>key</b> <b>Module</b>
       Module containing the Python client classes for the KeyClient and KeyRequestClient REST API on a DRM

       <b>class</b> <b>pki.key.AsymKeyGenerationRequest(client_key_id=None,</b> <b>key_size=None,</b> <b>key_algorithm=None,</b>
       <b>key_usages=None,</b> <b>trans_wrapped_session_key=None,</b> <b>realm=None)</b>
              Bases: <u>pki.ResourceMessage</u>

              Class  representing  the data sent to the DRM when generating and archiving asymmetric keys in the
              DRM.

              <b>DECRYPT_USAGE</b> <b>=</b> <b>'decrypt'</b>

              <b>DERIVE_USAGE</b> <b>=</b> <b>'derive'</b>

              <b>ENCRYPT_USAGE</b> <b>=</b> <b>'encrypt'</b>

              <b>SIGN_RECOVER_USAGE</b> <b>=</b> <b>'sign_recover'</b>

              <b>SIGN_USAGE</b> <b>=</b> <b>'sign'</b>

              <b>UNWRAP_USAGE</b> <b>=</b> <b>'unwrap'</b>

              <b>VERIFY_RECOVER_USAGE</b> <b>=</b> <b>'verify_recover'</b>

              <b>VERIFY_USAGE</b> <b>=</b> <b>'verify'</b>

              <b>WRAP_USAGE</b> <b>=</b> <b>'wrap'</b>

       <b>class</b> <b>pki.key.Key(key_data)</b>
              Bases: <b>object</b>

              An instance of this class stores the decoded encrypted secret present in the KeyData object passed
              in the constructor.  All the key retrieval requests return this object.

       <b>class</b> <b>pki.key.KeyArchivalRequest(client_key_id=None,</b> <b>data_type=None,</b> <b>wrapped_private_data=None,</b>
       <b>trans_wrapped_session_key=None,</b> <b>pki_archive_options=None,</b> <b>algorithm_oid=None,</b> <b>symkey_params=None,</b>
       <b>key_algorithm=None,</b> <b>key_size=None,</b> <b>realm=None)</b>
              Bases: <u>pki.ResourceMessage</u>

              Class representing the object sent to the DRM when archiving a secret.

       <b>class</b> <b>pki.key.KeyClient(connection,</b> <b>crypto,</b> <b>transport_cert_nick=None,</b> <b>info_client=None)</b>
              Bases: <b>object</b>

              Class that encapsulates and mirrors the functions in the KeyResource and  KeyRequestResource  Java
              classes in the DRM REST API.

              <b>AES_ALGORITHM</b> <b>=</b> <b>'AES'</b>

              <b>ASYMMETRIC_KEY_TYPE</b> <b>=</b> <b>'asymmetricKey'</b>

              <b>DES3_ALGORITHM</b> <b>=</b> <b>'DES3'</b>

              <b>DESEDE_ALGORITHM</b> <b>=</b> <b>'DESede'</b>

              <b>DES_ALGORITHM</b> <b>=</b> <b>'DES'</b>

              <b>DSA_ALGORITHM</b> <b>=</b> <b>'DSA'</b>

              <b>KEY_STATUS_ACTIVE</b> <b>=</b> <b>'active'</b>

              <b>KEY_STATUS_INACTIVE</b> <b>=</b> <b>'inactive'</b>

              <b>PASS_PHRASE_TYPE</b> <b>=</b> <b>'passPhrase'</b>

              <b>RC2_ALGORITHM</b> <b>=</b> <b>'RC2'</b>

              <b>RC4_ALGORITHM</b> <b>=</b> <b>'RC4'</b>

              <b>RSA_ALGORITHM</b> <b>=</b> <b>'RSA'</b>

              <b>SYMMETRIC_KEY_TYPE</b> <b>=</b> <b>'symmetricKey'</b>

              <b>approve_request(request_id)</b>
                     Approve a secret recovery request

              <b>archive_encrypted_data(client_key_id,</b> <b>data_type,</b> <b>encrypted_data,</b> <b>wrapped_session_key,</b>
              <b>algorithm_oid=None,</b> <b>nonce_iv=None,</b> <b>key_algorithm=None,</b> <b>key_size=None,</b> <b>realm=None)</b>
                     Archive a secret (symmetric key or passphrase) on the DRM.

                     Refer   to   archive_key()   comments   for  a  description  of  client_key_id,  data_type,
                     key_algorithm and key_size.

                     <b>The</b> <b>following</b> <b>parameters</b> <b>are</b> <b>also</b> <b>required:</b>

                            • encrypted_data - which is the data encrypted  by  a  session  key  (168  bit  3DES
                              symmetric key)

                            • wrapped_session_key  -  the  above  session  key  wrapped  by  the  DRM  transport
                              certificate public key.

                            • the algorithm_oid string for the symmetric key wrap

                            • the nonce_iv for the symmetric key wrap

                     This function is useful if the caller wants to do their own wrapping of the secret,  or  if
                     the secret was generated on a separate client machine and the wrapping was done there.

                     The  function  returns  a KeyRequestResponse object containing a KeyRequestInfo object with
                     details about the archival request and key archived.

              <b>archive_key(client_key_id,</b> <b>data_type,</b> <b>private_data,</b> <b>key_algorithm=None,</b> <b>key_size=None,</b> <b>realm=None)</b>
                     Archive a secret (symmetric key or passphrase) on the DRM.

                     Requires a user-supplied client ID.  There can be only one  active  key  with  a  specified
                     client ID.  If a record for a duplicate active key exists, a BadRequestException is thrown.

                     <b>data_type</b> <b>can</b> <b>be</b> <b>one</b> <b>of</b> <b>the</b> <b>following:</b>
                            KeyClient.SYMMETRIC_KEY_TYPE,                         KeyClient.ASYMMETRIC_KEY_TYPE,
                            KeyClient.PASS_PHRASE_TYPE

                     key_algorithm and key_size are applicable to symmetric keys only.  If a  symmetric  key  is
                     being archived, these parameters are required.

                     private_data is the raw secret to be archived.  It will be wrapped and sent to the DRM.

                     The  function  returns  a KeyRequestResponse object containing a KeyRequestInfo object with
                     details about the archival request and key archived.

              <b>archive_pki_options(client_key_id,</b> <b>data_type,</b> <b>pki_archive_options,</b> <b>key_algorithm=None,</b>
              <b>key_size=None,</b> <b>realm=None)</b>
                     Archive a secret (symmetric key or passphrase) on the DRM.

                     Refer  to  archive_key()  comments  for  a   description   of   client_key_id,   data_type,
                     key_algorithm and key_size.

                     pki_archive_options is the data to be archived wrapped in a PKIArchiveOptions structure,

                     The  function  returns  a KeyRequestResponse object containing a KeyRequestInfo object with
                     details about the archival request and key archived.

              <b>cancel_request(request_id)</b>
                     Cancel a secret recovery request

              <b>generate_asymmetric_key(client_key_id,</b> <b>algorithm=None,</b> <b>key_size=None,</b> <b>usages=None,</b>
              <b>trans_wrapped_session_key=None,</b> <b>realm=None)</b>
                     Generate and archive asymmetric keys in the DRM.  Supports algorithms RSA and  DSA.   Valid
                     key  size for RSA = 256 + (16 * n), where n: 0-496 Valid key size for DSA = 512, 768, 1024.
                     p,q,g params are not supported.

                     Return a KeyRequestResponse which contains a KeyRequestInfo object that describes  the  URL
                     for the request and generated keys.

              <b>generate_symmetric_key(client_key_id,</b> <b>algorithm=None,</b> <b>size=None,</b> <b>usages=None,</b>
              <b>trans_wrapped_session_key=None,</b> <b>realm=None)</b>
                     Generate and archive a symmetric key on the DRM.

                     Return  a  KeyRequestResponse which contains a KeyRequestInfo object that describes the URL
                     for the request and generated key.

              <b>get_active_key_info(client_key_id)</b>
                     Get the info in the KeyRecord for the active secret in the DRM.

              <b>get_client_keyset()</b>

              <b>get_key_info(key_id)</b>
                     Get the info in the KeyRecord for a specific secret in the DRM.

              <b>get_request_info(request_id)</b>
                     Return a KeyRequestInfo object for a specific request.

              <b>get_server_keyset()</b>

              <b>list_keys(client_key_id=None,</b> <b>status=None,</b> <b>max_results=None,</b> <b>max_time=None,</b> <b>start=None,</b> <b>size=None,</b>
              <b>realm=None)</b>
                     List/Search archived secrets in the DRM.

                     See KRAClient.list_keys for the  valid  values  of  status.   Returns  a  KeyInfoCollection
                     object.

              <b>list_requests(request_state=None,</b> <b>request_type=None,</b> <b>client_key_id=None,</b> <b>start=None,</b>
              <b>page_size=None,</b> <b>max_results=None,</b> <b>max_time=None,</b> <b>realm=None)</b>
                     List/Search key requests in the DRM.

                     See  KRAClient.list_requests  for  the  valid  values  of  request_state  and request_type.
                     Returns a KeyRequestInfoCollection object.

              <b>modify_key_status(key_id,</b> <b>status)</b>
                     Modify the status of a key

              <b>process_returned_key(key,</b> <b>session_key)</b>
                     Decrypt the returned key and place in key.data

                     The data will either by encrypted using an encryption algorithm - in which  case,  the  key
                     data  will  contain an encryption algorithm OID, or it will be key wrapped - in which case,
                     the key data will contain a key wrap mechanism name.

                     Only one of these should be present.  If we are talking to an older  server,  and  none  is
                     present, we will assume encryption.

              <b>recover_key(key_id,</b> <b>request_id=None,</b> <b>session_wrapped_passphrase=None,</b>
              <b>trans_wrapped_session_key=None,</b> <b>b64certificate=None,</b> <b>nonce_data=None)</b>
                     Create a request to recover a secret.

                     To  retrieve  a  symmetric  key  or  passphrase, the only parameter that is required is the
                     keyId.  It is possible (but not required)  to  pass  in  the  session  keys/passphrase  and
                     nonceData for the retrieval at this time.  Those parameters are documented in the docstring
                     for retrieve_key below.

                     To  retrieve  an  asymmetric  key,  the  keyId  and  the the base-64 encoded certificate is
                     required.

              <b>reject_request(request_id)</b>
                     Reject a secret recovery request.

              <b>retrieve_key(key_id=None,</b> <b>trans_wrapped_session_key=None,</b> <b>request_id=None)</b>
                     Retrieve a secret (passphrase or symmetric key) from the DRM.

                     This method will retrieve a key from the KRA given the key_id or request_id (one  of  which
                     must  be  specified).   The  data is returned as a KeyData object (which is recast to a Key
                     object).

                     If request_id is specified, then the value of key_id is ignored.  Exceptions will be thrown
                     if the caller is not the originator of the request, or the request is not approved.

                     If key_id is specified instead, the following behavior applies:

                     • If the key can be retrieved synchronously - ie. only one agent's  approval  is  required,
                       then the KeyData will include the secret.

                     • If  the  key cannot be retrieved synchronously - ie. if more than one approval is needed,
                       then the KeyData object will include the request ID  for  a  recovery  request  that  was
                       created on the server.  When that request is approved, callers can retrieve the key using
                       retrieve_key() and setting the request_id.

                     To  ensure  data  security in transit, the data will be returned encrypted by a session key
                     (168 bit 3DES symmetric key) - which is first wrapped (encrypted) by the public key of  the
                     DRM    transport   certificate   before   being   sent   to   the   DRM.    The   parameter
                     trans_wrapped_session_key refers to this wrapped session key.

                     If  the  trans_wrapped_session_key  is  not  provided  by  caller,  the  method  will  call
                     CryptoProvider  methods to generate and wrap the session key.  The function will return the
                     KeyData object with a private_data attribute which stores the unwrapped key information.

                     If the trans_wrapped_session_key is provided by the caller, the method will simply pass the
                     data to the KRA, and will return the secret wrapped in the session key.   The  secret  will
                     still  need  to  be  unwrapped by the caller.  The function will return the KeyData object,
                     where the KeyData structure includes the wrapped secret and some nonce data to be used as a
                     salt when unwrapping.

              <b>retrieve_key_by_passphrase(key_id=None,</b> <b>request_id=None,</b> <b>passphrase=None,</b>
              <b>trans_wrapped_session_key=None,</b> <b>session_wrapped_passphrase=None,</b> <b>nonce_data=None)</b>
                     Retrieve a secret (passphrase or symmetric key) from the DRM using a passphrase.

                     This function generates a key recovery request,  approves  it,  and  retrieves  the  secret
                     referred  to  by  key_id.  This assumes that only one approval is required to authorize the
                     recovery.

                     The secret is secured in transit by  wrapping  the  secret  with  a  passphrase  using  PBE
                     encryption.

                     There are two ways of using this function:

                     1. A passphrase is provided by the caller.

                        In  this case, CryptoProvider methods will be called to create the data to securely send
                        the passphrase to the DRM.  Basically, three pieces of data will be sent:

                        • the passphrase wrapped by a 168 bit 3DES symmetric key (the  session  key).   This  is
                          referred to as the parameter session_wrapped_passphrase.

                        • the session key wrapped with the public key in the DRM transport certificate.  This is
                          referred to as the trans_wrapped_session_key.

                        • ivps nonce data, referred to as nonce_data

                        The function will return the tuple (KeyData, unwrapped_secret)

                     2. The   caller  provides  the  trans_wrapped_session_key,  session_wrapped_passphrase  and
                        nonce_data.

                        In this case, the data will simply be passed to the DRM.  The function will  return  the
                        secret  encrypted by the passphrase using PBE Encryption.  The secret will still need to
                        be decrypted by the caller.

                        The function will return the tuple (KeyData, None)

              <b>retrieve_key_by_pkcs12(key_id,</b> <b>certificate,</b> <b>passphrase)</b>
                     Retrieve an asymmetric private key and return it as PKCS12 data.

                     This function generates a key recovery request,  approves  it,  and  retrieves  the  secret
                     referred to by key_id in a PKCS12 file.  This assumes that only one approval is required to
                     authorize the recovery.

                     This  function  requires  the  following  parameters:  -  key_id  :  the  ID  of  the key -
                     certificate: the certificate associated with the private key - passphrase: A passphrase for
                     the pkcs12 file.

                     The function returns a KeyData object.

              <b>retrieve_key_data(data)</b>
                     Retrieve a secret from the DRM.

                     @param: data - a KeyRecoveryRequest containing the keyId of the secret being retrieved, the
                     request_id of the approved recovery request and a  wrapping  mechanism.   More  details  at
                     KRAClient.retrieve_key.

                     Returns a KeyData object containing the wrapped secret.

              <b>set_crypto_algorithms()</b>

              <b>set_transport_cert(transport_cert_nick)</b>
                     Set the transport certificate for crypto operations

              <b>submit_request(request)</b>
                     Submit an archival, recovery or key generation request to the DRM.

                     @param request - is either a KeyArchivalRequest, KeyRecoverRequest, SymKeyGenerationRequest
                     or AsymKeyGenerationRequest.

                     returns a KeyRequestResponse object.

       <b>class</b> <b>pki.key.KeyData</b>
              Bases: <b>object</b>

              This  is  the object that contains the encoded wrapped secret when that secret is retrieved. It is
              used by the DRM to send information of the key in the key retrieval requests.

              <b>classmethod</b> <b>from_json(attr_list)</b>
                     Return a KeyData object from a JSON dict

              <b>json_attribute_names</b> <b>=</b> <b>{'encryptAlgorithmOID':</b> <b>'encrypt_algorithm_oid',</b> <b>'nonceData':</b> <b>'nonce_data',</b>
              <b>'publicKey':</b> <b>'public_key',</b> <b>'requestID':</b> <b>'request_id',</b> <b>'wrapAlgorithm':</b> <b>'wrap_algorithm',</b>
              <b>'wrappedPrivateData':</b> <b>'wrapped_private_data'}</b>

       <b>class</b> <b>pki.key.KeyInfo</b>
              Bases: <b>object</b>

              This is the object that contains information stored in the database record for an archived secret.
              It does not contain the secret itself.

              <b>classmethod</b> <b>from_json(attr_list)</b>
                     Return KeyInfo from JSON dict

              <b>get_key_id()</b>
                     Return the key ID as parsed from key URL

              <b>json_attribute_names</b> <b>=</b> <b>{'clientKeyID':</b> <b>'client_key_id',</b> <b>'keyURL':</b> <b>'key_url',</b> <b>'ownerName':</b>
              <b>'owner_name',</b> <b>'publicKey':</b> <b>'public_key'}</b>

       <b>class</b> <b>pki.key.KeyInfoCollection</b>
              Bases: <b>object</b>

              This class represents data returned when searching the DRM archived secrets.  Essentially,  its  a
              list of KeyInfo objects.

              <b>classmethod</b> <b>from_json(json_value)</b>
                     Return a KeyInfoCollection object from its JSON representation

       <b>class</b> <b>pki.key.KeyRecoveryRequest(key_id=None,</b> <b>request_id=None,</b> <b>trans_wrapped_session_key=None,</b>
       <b>session_wrapped_passphrase=None,</b> <b>nonce_data=None,</b> <b>certificate=None,</b> <b>passphrase=None,</b>
       <b>payload_wrapping_name=None,</b> <b>payload_encryption_oid=None)</b>
              Bases: <u>pki.ResourceMessage</u>

              Class  representing  the data sent to the DRM when either creating a request for the recovery of a
              secret, or, once the request is approved, retrieving the secret.

       <b>class</b> <b>pki.key.KeyRequestInfo</b>
              Bases: <b>object</b>

              This class represents data about key requests (archival, recovery, key  generation  etc.)  in  the
              DRM.

              <b>classmethod</b> <b>from_json(attr_list)</b>
                     Return a KeyRequestInfo object from a JSON dict.

              <b>get_key_id()</b>
                     Return the ID of the secret referred to by this request.

              <b>get_request_id()</b>
                     Return the request ID by parsing the request URL.

              <b>json_attribute_names</b> <b>=</b> <b>{'keyURL':</b> <b>'key_url',</b> <b>'requestStatus':</b> <b>'request_status',</b> <b>'requestType':</b>
              <b>'request_type',</b> <b>'requestURL':</b> <b>'request_url'}</b>

       <b>class</b> <b>pki.key.KeyRequestInfoCollection</b>
              Bases: <b>object</b>

              This  class represents the data returned when searching the key requests in the DRM.  Essentially,
              its a list of KeyRequestInfo objects.

              <b>classmethod</b> <b>from_json(json_value)</b>
                     Return a KeyRequestInfoCollection object from its JSON representation.

       <b>class</b> <b>pki.key.KeyRequestResponse</b>
              Bases: <b>object</b>

              This class is returned when an archival, recovery  or  key  generation  request  is  created.   It
              includes  a  KeyRequestInfo  object  with  information  about  the  created request, and a KeyData
              structure which contains the wrapped secret (if that operation is supported).

              <b>classmethod</b> <b>from_json(json_value)</b>
                     Return a KeyRequestResponse object from its JSON representation.

              <b>get_key_id()</b>
                     Return the id for the key archived, recovered or generated

              <b>get_request_id()</b>
                     Return the id for the created request

       <b>class</b> <b>pki.key.RequestId(req_id)</b>
              Bases: <b>object</b>

              Class representing a Request ID

       <b>class</b> <b>pki.key.SymKeyGenerationRequest(client_key_id=None,</b> <b>key_size=None,</b> <b>key_algorithm=None,</b>
       <b>key_usages=None,</b> <b>trans_wrapped_session_key=None,</b> <b>realm=None)</b>
              Bases: <u>pki.ResourceMessage</u>

              Class representing the data sent to the DRM when generating and archiving a symmetric key  in  the
              DRM.

              <b>DECRYPT_USAGE</b> <b>=</b> <b>'decrypt'</b>

              <b>ENCRYPT_USAGE</b> <b>=</b> <b>'encrypt'</b>

              <b>SIGN_USAGE</b> <b>=</b> <b>'sign'</b>

              <b>UNWRAP_USAGE</b> <b>=</b> <b>'unwrap'</b>

              <b>VERIFY_USAGE</b> <b>=</b> <b>'verify'</b>

              <b>WRAP_USAGE</b> <b>=</b> <b>'wrap'</b>

       <b>pki.key.main()</b>
              Some unit tests - basically printing different types of requests

   <b>kra</b> <b>Module</b>
       Module  containing KRAClient class.  This class should be used by Python clients to interact with the DRM
       to expose the functionality of the KeyClient and KeyRequestResource REST APIs.

       <b>class</b> <b>pki.kra.KRAClient(connection,</b> <b>crypto,</b> <b>transport_cert_nick=None)</b>
              Bases: <b>object</b>

              Client class that models interactions with a KRA using the Key and KeyRequest REST APIs.

   <b>profile</b> <b>Module</b>
       <b>class</b> <b>pki.profile.Descriptor(syntax=None,</b> <b>constraint=None,</b> <b>description=None,</b> <b>default_value=None)</b>
              Bases: <b>object</b>

              This class represents the description of a ProfileAttribute.  It stores information  such  as  the
              syntax, constraint and default value of a profile attribute.

              <b>classmethod</b> <b>from_json(attr_list)</b>

              <b>json_attribute_names</b> <b>=</b> <b>{'Constraint':</b> <b>'constraint',</b> <b>'DefaultValue':</b> <b>'default_value',</b>
              <b>'Description':</b> <b>'description',</b> <b>'Syntax':</b> <b>'syntax'}</b>

       <b>class</b> <b>pki.profile.PolicyConstraint(name=None,</b> <b>description=None,</b> <b>class_id=None,</b>
       <b>policy_constraint_values=None)</b>
              Bases: <b>object</b>

              An  object  of  this  class  contains  the  policy constraints applied to a ProfileInput used by a
              certificate enrollment request.

              <b>add_constraint_value(policy_constraint_value)</b>
                     Add a PolicyConstraintValue to the policy_constraint_values list.

              <b>classmethod</b> <b>from_json(attr_list)</b>

              <b>get_constraint_value(policy_constraint_value_name)</b>
                     Returns a PolicyConstraintValue object with the given name.  None, if there is no match.

              <b>json_attribute_names</b> <b>=</b> <b>{'classId':</b> <b>'class_id',</b> <b>'constraint':</b> <b>'policy_constraint_values',</b> <b>'id':</b>
              <b>'name'}</b>

              <b>remove_constraint_value(policy_constraint_value_name)</b>
                     Removes a PolicyConstraintValue with the given name form the policy_constraint_values list.

       <b>class</b> <b>pki.profile.PolicyConstraintValue(name=None,</b> <b>value=None,</b> <b>descriptor=None)</b>
              Bases: <b>object</b>

              Represents a PolicyConstraintValue

              <b>classmethod</b> <b>from_json(attr_list)</b>

              <b>property</b> <b>name</b>

       <b>class</b> <b>pki.profile.PolicyDefault(name=None,</b> <b>class_id=None,</b> <b>description=None,</b> <b>policy_attributes=None,</b>
       <b>policy_params=None)</b>
              Bases: <b>object</b>

              An object of this class contains information of the default usage of a specific ProfileInput.

              <b>add_attribute(policy_attribute)</b>
                     Add a policy attribute to the attribute list.  @param policy_attribute - A ProfileAttribute
                     object

              <b>add_parameter(policy_parameter)</b>
                     Add  a  profile  parameter  to  the  parameters  list.    @param   policy_parameter   -   A
                     ProfileParameter object.

              <b>classmethod</b> <b>from_json(attr_list)</b>

              <b>get_attribute(policy_attribute_name)</b>
                     Fetch the policy attribute with the given name from the attributes list.

              <b>get_parameter(profile_parameter_name)</b>
                     Fetch a profile parameter with the given name from the parameters list.

              <b>json_attribute_names</b> <b>=</b> <b>{'classId':</b> <b>'class_id',</b> <b>'id':</b> <b>'name',</b> <b>'params':</b> <b>'policy_params',</b>
              <b>'policyAttribute':</b> <b>'policy_attributes'}</b>

              <b>remove_attribute(policy_attribute_name)</b>
                     Remove a policy attribute with the given name from the attributes list.

              <b>remove_parameter(profile_parameter_name)</b>
                     Remove a profile parameter with the given name from the parameters list.

       <b>class</b> <b>pki.profile.PolicySet(name=None,</b> <b>policy_list=None)</b>
              Bases: <b>object</b>

              An  object  of  this  class  contains  a  name value pair of the policy name and the ProfilePolicy
              object.

              <b>add_policy(profile_policy)</b>
                     Add a ProfilePolicy object to the policy_list

              <b>classmethod</b> <b>from_json(attr_list)</b>

              <b>get_policy(policy_id)</b>
                     Returns a ProfilePolicy object with the given profile id.

              <b>json_attribute_names</b> <b>=</b> <b>{'id':</b> <b>'name',</b> <b>'value':</b> <b>'policy_list'}</b>

              <b>remove_policy(policy_id)</b>
                     Removes a ProfilePolicy with the given ID from the PolicySet.

       <b>class</b> <b>pki.profile.PolicySetList(policy_sets=None)</b>
              Bases: <b>object</b>

              An object of this class stores a list of ProfileSet objects.

              <b>add_policy_set(policy_set)</b>
                     Add a PolicySet object to the policy_sets list.

              <b>classmethod</b> <b>from_json(attr_list)</b>

              <b>get_policy_set(policy_set_name)</b>
                     Fetch the PolicySet object for the given name.  Returns None, if not found.

              <b>property</b> <b>policy_sets</b>

              <b>remove_policy_set(policy_set_name)</b>
                     Remove a PolicySet object with the given name from the policy_sets list.

       <b>class</b> <b>pki.profile.Profile(profile_id=None,</b> <b>class_id=None,</b> <b>name=None,</b> <b>description=None,</b> <b>enabled=None,</b>
       <b>visible=None,</b> <b>enabled_by=None,</b> <b>authenticator_id=None,</b> <b>authorization_acl=None,</b> <b>renewal=None,</b>
       <b>xml_output=None,</b> <b>inputs=None,</b> <b>outputs=None,</b> <b>policy_set_list=None,</b> <b>link=None)</b>
              Bases: <b>object</b>

              This class represents an enrollment profile.

              <b>add_input(profile_input)</b>
                     Add a ProfileInput object to the inputs list of the Profile.

              <b>add_output(profile_output)</b>
                     Add a ProfileOutput object to the outputs list of the Profile.

              <b>add_policy_set(policy_set)</b>
                     Add a PolicySet object to the policy_sets list of the Profile.

              <b>classmethod</b> <b>from_json(attr_list)</b>

              <b>get_input(profile_input_id)</b>
                     Fetches a ProfileInput with the given ProfileInput  id.   Returns  None,  if  there  is  no
                     matching input.

              <b>get_output(profile_output_id)</b>
                     Fetches  a  ProfileOutput  with  the  given ProfileOutput id.  Returns None, if there is no
                     matching output.

              <b>get_policy_set(policy_set_name)</b>
                     Fetches a ProfileInput with the given ProfileInput  id.   Returns  None,  if  there  is  no
                     matching input.

              <b>static</b> <b>get_profile_data_from_file(path_to_file)</b>
                     Reads  the  file for the serialized Profile object.  Currently supports only data format in
                     json.

              <b>json_attribute_names</b> <b>=</b> <b>{'Input':</b> <b>'inputs',</b> <b>'Output':</b> <b>'outputs',</b> <b>'PolicySets':</b> <b>'policy_set_list',</b>
              <b>'authenticatorId':</b> <b>'authenticator_id',</b> <b>'authzAcl':</b> <b>'authorization_acl',</b> <b>'classId':</b> <b>'class_id',</b>
              <b>'enabledBy':</b> <b>'enabled_by',</b> <b>'id':</b> <b>'profile_id',</b> <b>'xmlOutput':</b> <b>'xml_output'}</b>

              <b>remove_input(profile_input_id)</b>
                     Remove a ProfileInput from the inputs list of the Profile.

              <b>remove_output(profile_output_id)</b>
                     Remove a ProfileOutput from the outputs list of the Profile.

              <b>remove_policy_set(policy_set_name)</b>
                     Remove a PolicySet from the policy_sets list of the Profile.

       <b>class</b> <b>pki.profile.ProfileAttribute(name=None,</b> <b>value=None,</b> <b>descriptor=None)</b>
              Bases: <b>object</b>

              Represents a profile attribute of a ProfileInput.

              <b>classmethod</b> <b>from_json(attr_list)</b>

              <b>json_attribute_names</b> <b>=</b> <b>{'Descriptor':</b> <b>'descriptor',</b> <b>'Value':</b> <b>'value'}</b>

       <b>class</b> <b>pki.profile.ProfileClient(connection)</b>
              Bases: <b>object</b>

              This class consists of methods for accessing the ProfileResource.

              <b>create_profile(profile_data)</b>
                     Create a new profile for the given Profile object.

              <b>create_profile_from_file(path_to_file)</b>
                     Reads the file for the serialized Profile object.  Performs the profile  create  operation.
                     Currently supports only data format in json.

              <b>delete_profile(profile_id)</b>
                     Delete a profile with the given Profile Id.

              <b>disable_profile(profile_id)</b>
                     Disables a profile.

              <b>enable_profile(profile_id)</b>
                     Enables a profile.

              <b>get_profile(profile_id)</b>
                     Fetches  information  for  the  profile  for  the  given profile id.  Returns a ProfileData
                     object.

              <b>list_profiles(start=None,</b> <b>size=None)</b>
                     Fetches the list of profiles.  The start and size  arguments  provide  pagination  support.
                     Returns a ProfileDataInfoCollection object.

              <b>modify_profile(profile_data)</b>
                     Modify an existing profile with the given Profile object.

              <b>modify_profile_from_file(path_to_file)</b>
                     Reads  the  file for the serialized Profile object.  Performs the profile modify operation.
                     Currently supports only data format in json.

       <b>class</b> <b>pki.profile.ProfileDataInfo</b>
              Bases: <b>object</b>

              Stores information about a profile

              <b>classmethod</b> <b>from_json(attr_list)</b>

              <b>json_attribute_names</b> <b>=</b> <b>{'profileDescription':</b> <b>'profile_description',</b> <b>'profileId':</b> <b>'profile_id',</b>
              <b>'profileName':</b> <b>'profile_name',</b> <b>'profileURL':</b> <b>'profile_url'}</b>

       <b>class</b> <b>pki.profile.ProfileDataInfoCollection</b>
              Bases: <b>object</b>

              Represents a collection of ProfileDataInfo objects.  Also encapsulates the links for the  list  of
              the objects stored.

              <b>classmethod</b> <b>from_json(attr_list)</b>

       <b>class</b> <b>pki.profile.ProfileInput(profile_input_id=None,</b> <b>class_id=None,</b> <b>name=None,</b> <b>text=None,</b>
       <b>attributes=None,</b> <b>config_attributes=None)</b>
              Bases: <b>object</b>

              This  class  encapsulates  all  the  attributes  of a profile to generate a specific property of a
              certificate.  Ex. Subject name, Requestor Information etc.

              <b>add_attribute(profile_attribute)</b>
                     Add a ProfileAttribute object to the attributes list.

              <b>add_config_attribute(profile_attribute)</b>
                     Add a ProfileAttribute object to the config_attributes list.

              <b>classmethod</b> <b>from_json(attr_list)</b>

              <b>get_attribute(profile_attribute_name)</b>
                     Returns a ProfileAttribute object for the given name.  None, if no match.

              <b>get_config_attribute(config_attribute_name)</b>
                     Returns a ProfileAttribute object with the given name.  None, if there is no match  in  the
                     config_attributes list.

              <b>json_attribute_names</b> <b>=</b> <b>{'Attribute':</b> <b>'attributes',</b> <b>'ClassID':</b> <b>'class_id',</b> <b>'ConfigAttribute':</b>
              <b>'config_attributes',</b> <b>'Name':</b> <b>'name',</b> <b>'Text':</b> <b>'text',</b> <b>'id':</b> <b>'profile_input_id'}</b>

              <b>remove_attribute(profile_attribute_name)</b>
                     Remove a ProfileAttribute object with the given name from the attributes list.

              <b>remove_config_attribute(config_attribute_name)</b>
                     Remove a ProfileAttribute object with the given name from the config_attributes list.

       <b>class</b> <b>pki.profile.ProfileOutput(profile_output_id=None,</b> <b>name=None,</b> <b>text=None,</b> <b>class_id=None,</b>
       <b>attributes=None)</b>
              Bases: <b>object</b>

              This class defines the output of a certificate enrollment request using a profile.

              <b>add_attribute(profile_attribute)</b>
                     Add a ProfileAttribute object to the attributes list.

              <b>classmethod</b> <b>from_json(attr_list)</b>

              <b>get_attribute(profile_attribute_name)</b>
                     Returns a ProfileAttribute object for the given name.  None, if no match.

              <b>json_attribute_names</b> <b>=</b> <b>{'classId':</b> <b>'class_id',</b> <b>'id':</b> <b>'profile_output_id'}</b>

              <b>remove_attribute(profile_attribute_name)</b>
                     Remove a ProfileAttribute object with the given name from the attributes list.

       <b>class</b> <b>pki.profile.ProfileParameter(name=None,</b> <b>value=None)</b>
              Bases: <b>object</b>

              <b>classmethod</b> <b>from_json(attr_list)</b>

       <b>class</b> <b>pki.profile.ProfilePolicy(policy_id=None,</b> <b>policy_default=None,</b> <b>policy_constraint=None)</b>
              Bases: <b>object</b>

              This class represents the policy a profile adheres to.  An object of this class stores the default
              values  for  profile  and  the  constraints present on the values of the attributes of the profile
              submitted for an enrollment request.

              <b>classmethod</b> <b>from_json(attr_list)</b>

              <b>json_attribute_names</b> <b>=</b> <b>{'constraint':</b> <b>'policy_constraint',</b> <b>'def':</b> <b>'policy_default',</b> <b>'id':</b>
              <b>'policy_id'}</b>

       <b>class</b> <b>pki.profile.ProfilePolicySet</b>
              Bases: <b>object</b>

              Stores a list of ProfilePolicy objects.

              <b>classmethod</b> <b>from_json(attr_list)</b>

       <b>pki.profile.main()</b>

   <b>system</b> <b>Module</b>
       <b>class</b> <b>pki.system.AdminSetupRequest</b>
              Bases: <b>object</b>

       <b>class</b> <b>pki.system.AdminSetupResponse</b>
              Bases: <b>object</b>

       <b>class</b> <b>pki.system.CertificateSetupRequest</b>
              Bases: <b>object</b>

       <b>class</b> <b>pki.system.CertificateSetupResponse</b>
              Bases: <b>object</b>

       <b>class</b> <b>pki.system.DomainInfo</b>
              Bases: <b>object</b>

              Class  representing   the   entire   security   domain.    This   is   essentially   a   list   of
              SecurityDomainSubsystem components.

              <b>classmethod</b> <b>from_json(json_value)</b>
                     Create a DomainInfo object from JSON.

                     <b>Parameters</b>
                            <b>json_value</b> (<u>str</u>) -- JSON representation of a security domain.

                     <b>Returns</b>
                            DomainInfo

              <b>property</b> <b>systems</b>

       <b>class</b> <b>pki.system.InstallToken</b>
              Bases: <b>object</b>

              <b>classmethod</b> <b>from_json(json_value)</b>

       <b>class</b> <b>pki.system.SecurityDomainClient(connection)</b>
              Bases: <b>object</b>

              Client  used to get the security domain from a security domain CA.  The connection details for the
              security domain CA are specified in a PKIConnection object used to construct this client.

              <b>get_domain_info()</b>
                     Contact the security domain CA specified in the connection object used  to  construct  this
                     client and get the security domain using the REST API.

                     <b>Returns</b>
                            pki.system.DomainInfo

              <b>get_install_token(hostname,</b> <b>subsystem)</b>

                     <b>Returns</b>
                            pki.system.InstallToken

              <b>get_old_domain_info()</b>
                     Contact  the  security  domain CA specified in the connection object used to construct this
                     client and get the security domain using the old servlet-based interface.  This  method  is
                     useful when contacting old servers which do not provide the REST API.

                     <b>Returns</b>
                            pki.system.DomainInfo

              <b>get_security_domain_info()</b>

       <b>class</b> <b>pki.system.SecurityDomainHost</b>
              Bases: <b>object</b>

              Class representing a security domain host.

              <b>classmethod</b> <b>from_json(json_value)</b>
                     Constructs a SecurityDomainHost object from JSON.

                     <b>Parameters</b>
                            <b>json_value</b> (<u>str</u>) -- JSON string representing a security domain host.

                     <b>Returns</b>
                            SecurityDomainHost

       <b>class</b> <b>pki.system.SecurityDomainSubsystem</b>
              Bases: <b>object</b>

              Class  representing a security domain subsystem.  This is essentially a list of SecurityDomainHost
              objects of a particular subsystem type (ca, kra, tps, tks, ocsp).

              <b>classmethod</b> <b>from_json(json_value)</b>
                     Constructs a SecurityDomainSubsystem from a JSON representation.

                     <b>Parameters</b>
                            <b>json_value</b> (<u>str</u>) -- JSON representation of the Security Domain Subsystem

                     <b>Returns</b>
                            SecurityDomainSubsystem

              <b>get_host(hostname,</b> <b>secure_port)</b>

       <b>class</b> <b>pki.system.SystemCertData</b>
              Bases: <b>object</b>

              Class used to represent the data for a system certificate, which is used in the data  passed  into
              and returned from the Java installation servlet during the execution of pkispawn.

              This class is the python equivalent of the Java class: com.netscape.certsrv.system.SystemCertData

       <b>class</b> <b>pki.system.SystemConfigClient(connection,</b> <b>subsystem=None)</b>
              Bases: <b>object</b>

              Client used to interact with the Java configuration servlet to configure a Dogtag subsystem during
              the execution of pkispawn.

              The connection details for the system being configured are passed in the PKIConnection object used
              when constructing this object.

              <b>loadCert(request)</b>
                     Load existing certificate.

                     <b>Parameters</b>
                            <b>request</b> (<u>CertificateSetupRequest</u>) -- Certificate setup request

              <b>setupAdmin(request)</b>
                     Set up admin.

                     <b>Parameters</b>
                            <b>request</b> (<u>AdminSetupRequest</u>) -- Admin setup request

                     <b>Returns</b>
                            AdminSetupResponse

              <b>setupCert(request)</b>
                     Set up certificate.

                     <b>Parameters</b>
                            <b>request</b> (<u>CertificateSetupRequest</u>) -- Certificate setup request

                     <b>Returns</b>
                            SystemCertData

       <b>class</b> <b>pki.system.SystemStatusClient(connection,</b> <b>subsystem=None)</b>
              Bases: <b>object</b>

              Client used to check the status of a Dogtag subsystem.

              <b>get_status(timeout=None)</b>
                     Checks  the  status  of  the subsystem by calling the getStatus() servlet.  This is used to
                     determine if the server is up and ready to receive and process requests.

                     <b>Returns</b>
                            str - getStatus response

   <b>systemcert</b> <b>Module</b>
       Module containing the Python client classes for the SystemCert REST API

       <b>class</b> <b>pki.systemcert.SystemCertClient(connection,</b> <b>subsystem=None)</b>
              Bases: <b>object</b>

              Class encapsulating and mirroring the functionality in the SystemCertResource Java interface class
              defining the REST API for system certificate resources.

              <b>get_transport_cert()</b>
                     Return transport certificate.

                     <b>Returns</b>
                            pki.cert.CertData -- transport certificate data

   <b>upgrade</b> <b>Module</b>
       <b>class</b> <b>pki.upgrade.PKIUpgradeScriptlet</b>
              Bases: <b>object</b>

              <b>backup(path)</b>

              <b>get_backup_dir()</b>

              <b>upgrade_system()</b>

       <b>class</b> <b>pki.upgrade.PKIUpgradeTracker(name,</b> <b>filename,</b> <b>delimiter='=',</b> <b>version_key='PKI_VERSION',</b>
       <b>index_key='PKI_UPGRADE_INDEX')</b>
              Bases: <b>object</b>

              <b>get_index()</b>

              <b>get_version()</b>

              <b>remove()</b>

              <b>remove_index()</b>

              <b>remove_version()</b>

              <b>set(version)</b>

              <b>set_index(index)</b>

              <b>set_version(version)</b>

              <b>show()</b>

       <b>class</b> <b>pki.upgrade.PKIUpgrader(upgrade_dir='/usr/share/pki/upgrade')</b>
              Bases: <b>object</b>

              <b>all_versions()</b>

              <b>backup(scriptlet,</b> <b>path)</b>

              <b>copydirs(source,</b> <b>dest,</b> <b>force=False)</b>

              <b>copyfile(source,</b> <b>dest,</b> <b>force=False)</b>

              <b>get_current_version()</b>

              <b>get_target_version()</b>

              <b>get_tracker()</b>

              <b>init_scriptlet(scriptlet)</b>

              <b>is_complete()</b>

              <b>makedirs(path,</b> <b>exist_ok=False)</b>

              <b>record(scriptlet,</b> <b>path)</b>

              <b>remove_tracker()</b>

              <b>reset_tracker()</b>

              <b>revert()</b>

              <b>revert_scriptlet(scriptlet)</b>

              <b>revert_version(version)</b>

              <b>run_scriptlet(scriptlet)</b>

              <b>scriptlets(version)</b>

              <b>set_tracker(version)</b>

              <b>show_tracker()</b>

              <b>status()</b>

              <b>touch(path)</b>

              <b>update_tracker(scriptlet)</b>

              <b>upgrade()</b>

              <b>upgrade_version(version)</b>

              <b>validate()</b>

              <b>version_dir(version)</b>

              <b>versions()</b>

   <b>util</b> <b>Module</b>
       Module containing utility functions and classes for the Dogtag python code

       <b>class</b> <b>pki.util.Version(obj)</b>
              Bases: <b>object</b>

       <b>pki.util.chmod(path,</b> <b>mode)</b>
              Change permissions of a file, link, or folder recursively.

       <b>pki.util.chown(path,</b> <b>uid,</b> <b>gid)</b>
              Change ownership of a file, link, or folder recursively.

       <b>pki.util.copy(source,</b> <b>dest,</b> <b>uid=-</b> <b>1,</b> <b>gid=-</b> <b>1,</b> <b>dir_mode=None,</b> <b>file_mode=None,</b> <b>force=False)</b>
              Copy a file or a folder and its contents.

       <b>pki.util.copydirs(source,</b> <b>dest,</b> <b>uid=-</b> <b>1,</b> <b>gid=-</b> <b>1,</b> <b>mode=None,</b> <b>force=False)</b>
              Copy a folder and its parents (without the contents) while preserving their attributes.

       <b>pki.util.copyfile(source,</b> <b>dest,</b> <b>slots=None,</b> <b>params=None,</b> <b>uid=None,</b> <b>gid=None,</b> <b>mode=None,</b> <b>force=False)</b>
              Copy a file or link while preserving its attributes.

       <b>pki.util.copytree(src,</b> <b>dst,</b> <b>symlinks=False,</b> <b>ignore=None)</b>
              Recursively copy a directory tree using copy2().

              <b>PATCH:</b> <b>This</b> <b>code</b> <b>was</b> <b>copied</b> <b>from</b> <b>'shutil.py'</b> <b>and</b> <b>patched</b> <b>to</b>
                     allow 'The destination directory to already exist.'

              If exception(s) occur, an Error is raised with a list of reasons.

              If the optional symlinks flag is true, symbolic links in the source tree result in symbolic  links
              in  the  destination  tree; if it is false, the contents of the files pointed to by symbolic links
              are copied.

              The optional ignore argument is a callable. If given, it is called with the <u>src</u>  parameter,  which
              is  the  directory  being  visited  by copytree(), and <u>names</u> which is the list of <u>src</u> contents, as
              returned by os.listdir():
                 callable(src, names) -&gt; ignored_names

              Since copytree() is called recursively, the callable will be called once for each  directory  that
              is copied. It returns a list of names relative to the <u>src</u> directory that should not be copied.

              Consider this example code rather than the ultimate tool.

       <b>pki.util.customize_file(input_file,</b> <b>output_file,</b> <b>params)</b>
              Customize a file with specified parameters.

       <b>pki.util.load_properties(filename,</b> <b>properties)</b>

       <b>pki.util.makedirs(path,</b> <b>mode=511,</b> <b>exist_ok=False,</b> <b>uid=-</b> <b>1,</b> <b>gid=-</b> <b>1,</b> <b>force=False)</b>

       <b>pki.util.read_environment_files(env_file_list=None)</b>

       <b>pki.util.read_text(message,</b> <b>options=None,</b> <b>default=None,</b> <b>delimiter=':',</b> <b>case_sensitive=True,</b>
       <b>password=False,</b> <b>required=False)</b>
              Get  an  input from the user. This is used, for example, in pkispawn and pkidestroy to obtain user
              input.

              <b>Parameters</b>

                     • <b>message</b> (<u>str</u>) -- prompt to display to the user

                     • <b>options</b> (<u>list</u>) -- list of possible inputs by the user.

                     • <b>default</b> (<u>str</u>) -- default value of parameter being prompted.

                     • <b>delimiter</b> (<u>str</u>) -- delimiter to be used at the end of the prompt.

                     • <b>case_sensitive</b> (<u>boolean</u> <u>--</u> <u>True/False</u>) -- Allow input to be case sensitive.

                     • <b>password</b> (<u>boolean</u> <u>--</u> <u>True/False</u>) -- Input is a password. Don't show the value.

                     • <b>required</b> (<u>boolean</u> <u>--</u> <u>True/False</u>) -- Input must be non-empty.

              <b>Returns</b>
                     str -- value obtained from user input.

       <b>pki.util.remove(path,</b> <b>force=False)</b>

       <b>pki.util.replace_params(line,</b> <b>params=None)</b>
              Replace all occurrences of [param] in the line with the value of the parameter.

       <b>pki.util.rmtree(path,</b> <b>force=False)</b>

       <b>pki.util.set_property(properties,</b> <b>name,</b> <b>value)</b>

       <b>pki.util.store_properties(filename,</b> <b>properties)</b>

       <b>pki.util.symlink(source,</b> <b>dest,</b> <b>uid=-</b> <b>1,</b> <b>gid=-</b> <b>1,</b> <b>force=False)</b>

       <b>pki.util.unlink(link,</b> <b>force=False)</b>

       • genindex

       • modindex

       • search

</pre><h4><b>AUTHOR</b></h4><pre>
       Dogtag PKI Project Team

</pre><h4><b>COPYRIGHT</b></h4><pre>
       2021, Dogtag PKI Team

@APPLICATION_VERSION@                             Oct 19, 2021                              <u><a href="../man1/PKI-PYTHON-CLIENT.1.html">PKI-PYTHON-CLIENT</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>