<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>zctl - zephyr control program</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/zephyr-clients">zephyr-clients_3.1.2-1.1build1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       zctl - zephyr control program

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>zctl</b> [ <u>options</u> ]

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <u>Zctl</u>  is a general purpose control program for the <u><a href="../man1/Zephyr.1.html">Zephyr</a>(1)</u> Notification Service.  It allows the user to
       subscribe to specific notice types, to save the subscriptions in a file (default $HOME/.zephyr.subs),  to
       change  his  location  information,  and  to  send  control  messages to the HostManager, <u><a href="../man8/zhm.8.html">zhm</a>(8),</u> and the
       WindowGram client, <u><a href="../man1/zwgc.1.html">zwgc</a>(1).</u>

       The commands may be typed on the command line, or may be entered interactively by just  typing  <u>zctl</u>  and
       then typing commands to the prompt.
       <b>NOTE:</b>  For all commands accepting an optional <u>recipient</u> argument, the <u>recipient</u> defaults to your Kerberos
       principal.  You may also subscribe to recipient ``<u>*</u>''.  If  you  specify  a  recipient,  it  is  silently
       converted to ``<u>*</u>''.
       The commands are as follows:

       <b>add</b> <u>class</u> <u>instance</u> [ <u>recipient</u> ]
                      Subscribe to <u>class,</u> <u>instance,</u> <u>recipient</u>, and add this triplet to the subscriptions file.

       <b>add_unsubscription</b> <u>class</u> <u>instance</u> [ <u>recipient</u> ]
                      Unsubscribe  to <u>class,</u> <u>instance,</u> <u>recipient</u>, and add this triplet to the subscriptions file
                      as an un-subscription.  For an explanation of un-subscriptions, see below.

       <b>cancel</b>         Cancel all subscriptions.

       <b>defaults</b>       Retrieve the default subscription list from the Zephyr server.

       <b>delete</b> <u>class</u> <u>instance</u> [ <u>recipient</u> ]
                      Unsubscribe to <u>class,</u> <u>instance,</u> <u>recipient</u>, and remove this triplet from the  subscriptions
                      file.

       <b>delete_unsubscription</b> <u>class</u> <u>instance</u> [ <u>recipient</u> ]
                      Unsubscribe  to <u>class,</u> <u>instance,</u> <u>recipient</u>, and remove this triplet from the subscriptions
                      file as an un-subscription.

       <b>file</b> [ <u>file</u> ]  Set default subscriptions file to <u>file</u>.  If <u>file</u> isn't specified, show  what  the  current
                      subscriptions file is.

       <b>flush_locs</b> [ <u>user</u> ]
                      Tell  the  Zephyr  servers to flush all location information associated with <u>user</u>, or with
                      the user running the command if none is given.  This should only be  used  to  remove  any
                      incorrect  data  that  may have been left after a system crash.  Note that only Operations
                      staff may flush location information associated with another user.

       <b>flush_subs</b> [ <u>recipient</u> ]
                      Tell the Zephyr servers to flush all of <u>recipient</u>'s subscriptions, This differs  from  the
                      cancel command in that it affects subscriptions for all of <u>recipient</u>'s clients.  Note that
                      only Operations staff may flush the subscriptions of another user.

       <b>hide</b>           Hide  your location as maintained by the Zephyr server.  This does not affect the value of
                      the exposure variable (see below, under <b>set).</b>

       <b>hm_flush</b>       Tell the HostManager, <u><a href="../man8/zhm.8.html">zhm</a>(8),</u> to ask the server to flush all  state  associated  with  the
                      current host.

       <b>list</b> [ <u>file</u> ]  List  contents  of current subscriptions file or <u>file.</u>  Any macros in the file (see below)
                      are displayed verbatim and not expanded.

       <b>list_requests</b>  List all available commands.  May be abbreviated by '?'.

       <b>load</b> [ <u>file</u> ]  Subscribe to all subscription triplets and unsubscribe to all un-subscription triplets  in
                      current subscriptions file or <u>file</u>.

       <b>new_server</b>     Tell the HostManager, <u><a href="../man8/zhm.8.html">zhm</a>(8),</u> to find a new Zephyr server.

       <b>quit</b>           Exit from <u>zctl.</u>

       <b>retrieve</b>       Retrieve  all  current  subscriptions from the Zephyr server.  These include subscriptions
                      that might have been made by other programs, such as <u><a href="../man1/znol.1.html">znol</a>(1).</u>

       <b>save</b> [ <u>file</u> ]  Save  all  current  subscriptions  (as  returned  by  the  Zephyr  server)  into   current
                      subscriptions file or <u>file</u>.  The file will be replaced.

       <b>set</b> <u>var</u> [ <u>value</u> ]
                      Set  the  value  of  Zephyr  variable <u>var</u> to <u>value</u>, or null if no <u>value</u> is specified.  The
                      variable <b>exposure</b> has special significance, and can  only  be  set  to  the  values  none,
                      opstaff,  realm-visible,  realm-announced,  net-visible,  and net-announced.  Setting this
                      variable immediately updates the information in the  Zephyr  servers  (see  below  for  an
                      explanation  of  the  exposure  levels).   In  addition,  setting  this  variable  to none
                      automatically performs the equivalent of a <b>wg_shutdown</b> command, and setting it to  one  of
                      the other values automatically performs the equivalent of a <b>wg_startup</b> command.
                      The variable <b>resolved_addresses</b> determines whether zwgc will, for an IP address indicating
                      the origin of a message, attempt to look up the hostname corresponding to that IP address.
                      The  value  none  indicates that hostnames will never be found, and that the zwgc fromhost
                      variable will thus always contain an IP address (in dotted-decimal form).  The  value  all
                      indicates  that  there  will always be an attempt to look up a hostname. Note that in this
                      case, if you have any subscriptions with  recipient  ``<u>*</u>'',  these  subscriptions  may  be
                      revealed  to other Zephyr users who operate their own DNS name servers. Any other value is
                      interpreted as a regular expression; hostname lookup attempts will occur only  if  the  IP
                      address matches this regular expression.
                      Any variable settings you make will be stored in <u>$HOME/.zephyr.vars</u>

       <b>show</b> <u>var</u> [ <u>var</u>  ... ]
                      Show  the  value  of  the specified Zephyr variables.  If a variable is not defined in the
                      user's own variables file, the system variables file (<u>/etc/zephyr/zephyr.vars</u>) is searched
                      for a default value.

       <b>subscribe</b> <u>class</u> <u>instance</u> [ <u>recipient</u> ]
                      Subscribe to <u>class,</u> <u>instance,</u> <u>recipient</u>, but don't add this triplet to  the  subscriptions
                      file.

       <b>unhide</b>         Make  your  location as maintained by the Zephyr server visible.  This does not affect the
                      value of the exposure variable.

       <b>unload</b> [ <u>file</u> ]
                      Unsubscribe to all subscription triplets in  current  subscriptions  file  or  <u>file</u>.   Un-
                      subscriptions in the file are ignored.

       <b>unset</b> <u>var</u> [ <u>var</u>  ... ]
                      Delete the definitions of the specified Zephyr variables.

       <b>unsubscribe</b> <u>class</u> <u>instance</u> [ <u>recipient</u> ]
                      Unsubscribe  to  <u>class,</u>  <u>instance,</u>  <u>recipient</u>,  but  don't  remove  this  triplet from the
                      subscriptions file.

       <b>wg_exit</b>        Tell the WindowGram client, <u><a href="../man1/zwgc.1.html">zwgc</a>(1),</u> to exit.

       <b>wg_read</b>        Tell the WindowGram client, <u><a href="../man1/zwgc.1.html">zwgc</a>(1),</u> to reread its description file.

       <b>wg_shutdown</b>    Tell the WindowGram client to shutdown; this causes it  to  ignore  all  notices  until  a
                      wg_startup command is issued.

       <b>wg_startup</b>     Tell  the  WindowGram  client to start accepting notices again; useful after a wg_shutdown
                      command has been issued.

</pre><h4><b>MACROS</b> <b>and</b> <b>SUBSCRIPTION</b> <b>FILES</b></h4><pre>
       There are three macros, <u>%host%,</u> <u>%canon%,</u> and <u>%me%.</u> <u>%host%</u> is converted to the current  hostname,  <u>%canon%</u>
       is  converted  to  the  official  hostname as returned by <u><a href="../man3/gethostbyname.3.html">gethostbyname</a>(3),</u> and <u>%me%</u> is converted to your
       Kerberos principal.  These macros can be used in your <u>$HOME/.zephyr.subs</u> file or as arguments to commands
       to specify the <u>class</u> or <u>instance</u> fields.  A sample <u>$HOME/.zephyr.subs</u> file might contain the following:

            message,urgent,%me%
            syslog,%host%,*
            mail,pop,%me%

       <u>Zctl</u> reads the environment variable <b>WGFILE</b>, to find the name  of  the  file  where  the  windowgram  port
       resides.  If <b>WGFILE</b> is not set, the file name defaults to /tmp/wg.<u>uid</u>, where <u>uid</u> is the user's UNIX uid.

</pre><h4><b>UN-SUBSCRIPTIONS</b></h4><pre>
       The  zephyr  server,  <u><a href="../man8/zephyrd.8.html">zephyrd</a>(8),</u>  maintains  default  subscriptions which are automatically added to all
       users' subscriptions at the time of their first subscription during a login  session.   If  you  wish  to
       automatically  remove  some  of  these  default subscriptions, you use <b>un-subscriptions.</b>  When you <b>load</b> a
       subscription file containing un-subscriptions, the un-subscriptions are automatically sent to the  server
       as if you had used the <b>unsubscribe</b> command.

</pre><h4><b>EXPOSURE</b> <b>LEVELS</b></h4><pre>
       The  different  exposure  levels  affect  the  operation  of zephyr and its interaction with the user, as
       follows:

       <u>none</u>      This completely disables Zephyr for the user. The user is not registered with Zephyr.  No  user
                 location information is retained by Zephyr.  No login or logout announcements will be sent.  No
                 subscriptions will be entered for the user, and no notices will be displayed by <u><a href="../man1/zwgc.1.html">zwgc</a>(1).</u>

       <u>opstaff</u>   The  user  is  registered  with  Zephyr.   No  login  or logout announcements will be sent, and
                 location information will only be visible to Operations staff.  Default subscriptions  and  any
                 additional personal subscriptions will be entered for the user.

       <u>realm-visible</u>
                 The  user  is registered with Zephyr.  User location information is retained by Zephyr and made
                 available only to users within the user's Kerberos realm.  No  login  or  logout  announcements
                 will  be  sent.  This is the system default.  Default subscriptions and any additional personal
                 subscriptions will be entered for the user.

       <u>realm-announced</u>
                 The user is registered with Zephyr.  User location information is retained by Zephyr  and  made
                 available  only  to  users  authenticated  within  the user's Kerberos realm.  Login and logout
                 announcements will be sent, but only to  users  within  the  user's  Kerberos  realm  who  have
                 explicitly requested such via subscriptions.  Default subscriptions and any additional personal
                 subscriptions will be entered for the user.

       <u>net-visible</u>
                 The  user  is registered with Zephyr.  User location information is retained by Zephyr and made
                 available to any authenticated user who requests such. Login and logout announcements  will  be
                 sent  only  to  users  within  the user's Kerberos realm who have explicitly requested such via
                 subscriptions.  Default subscriptions and any additional personal subscriptions will be entered
                 for the user.

       <u>net-announced</u>
                 The user is registered with Zephyr. User location information is retained by  Zephyr  and  made
                 available  to any authenticated user who requests such.  Login and logout announcements will be
                 sent to any user has  requested  such.   Default  subscriptions  and  any  additional  personal
                 subscriptions will be entered for the user.

</pre><h4><b>EXAMPLES</b></h4><pre>
       <b>zctl</b>                     Runs <u>zctl</u> in interactive mode.

       <b>zctl</b> <b>load</b>                Load subscriptions and un-subscriptions from <u>$HOME/.zephyr.subs</u> file.

       <b>zctl</b> <b>sub</b> <b>message</b> <b>personal</b>
                                Subscribe to personal messages, but don't add this to the subscriptions file.

       <b>zctl</b> <b>save</b>                Save all current subscriptions to the default subscriptions file.

       <b>zctl</b> <b>set</b> <b>exposure</b> <b>none</b>   Set your exposure level to `none', effectively turning off Zephyr.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <a href="../man1/zephyr.1.html">zephyr</a>(1), <a href="../man1/zwgc.1.html">zwgc</a>(1), <a href="../man8/zhm.8.html">zhm</a>(8), <a href="../man8/zephyrd.8.html">zephyrd</a>(8) <a href="../man3/gethostbyname.3.html">gethostbyname</a>(3)
       Project Athena Technical Plan Section E.4.1, `Zephyr Notification Service'

</pre><h4><b>FILES</b></h4><pre>
       /tmp/wg.*
       $HOME/.zephyr.subs
       $ZEPHYR_VARS or $HOME/.zephyr.vars
       /etc/zephyr/zephyr.vars

</pre><h4><b>AUTHOR</b></h4><pre>
       Robert S. French (MIT-Project Athena)

</pre><h4><b>RESTRICTIONS</b></h4><pre>
       Copyright (c) 1987,1988 by the Massachusetts Institute of Technology.  All Rights Reserved.
       <u><a href="../man1/zephyr.1.html">zephyr</a>(1)</u> specifies the terms and conditions for redistribution.

MIT Project Athena                                July 1, 1988                                           <u><a href="../man1/ZCTL.1.html">ZCTL</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>