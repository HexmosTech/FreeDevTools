<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>bmf - efficient Bayesian mail filter</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/bmf">bmf_0.9.4-13build2_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       bmf - efficient Bayesian mail filter

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>bmf</b> [-t] [-n] [-s] [-N] [-S] [-f fmt] [-d db] [-i file] [-k n] [-m type] [-p]
           [-v] [-V] [-h]

</pre><h4><b>DESCRIPTION</b></h4><pre>
       bmf  is  a Bayesian mail filter. In its normal mode of operation, it takes an email message or other text
       on standard input, does a statistical check against lists of "good" and "spam" words, registers  the  new
       data,  and returns a status code indicating whether or not the message is spam. BMF is written with fast,
       zero-copy algorithms, coded directly in C, and tuned for speed. It aims to be faster, smaller,  and  more
       versatile than similar applications.

       bmf  supports both mbox and maildir mail storage formats. It will automatically process multiple messages
       within an mbox file separately.

</pre><h4><b>OPTIONS</b></h4><pre>
       Without command-line options, bmf processes the input, registers it  as  either  "good"  or  "spam",  and
       returns  the  appropriate  error  code.  The  wordlist directory and nonexistent wordfiles are created if
       absent.

       <b>-t</b> Test to see if the input is spam. The word lists are not  updated.  A  report  is  written  to  stdout
       showing the final score and the tokens with the highest deviation form a mean of 0.5.

       <b>-n</b> Register the input as non-spam.

       <b>-s</b> Register the input as spam.

       <b>-N</b> Register the input as non-spam and undo a prior registration as spam.

       <b>-S</b> Register the input as spam and undo a prior registration as non-spam.

       <b>-f</b>  <b>fmt</b>  Specify database format. Valid formats are text, db, and mysql. Text is always valid. The others
       may not be available if the corresponding option was not enabled at compile time. The default  is  db  if
       available, else text.

       <b>-d</b>  <b>db</b>  Specify  database  or  directory for loading and saving word lists. The default is <u><a href="file:~/.bmf">~/.bmf</a></u> in text
       mode.

       <b>-i</b> <b>file</b> Use file for input instead of stdin.

       <b>-k</b> <b>n</b> Specify the number of extrema (keepers) to use in the Bayes calculation. The default is 15.

       <b>-m</b> <b>fmt</b> Specify mail storage format. Valid formats are mbox and maildir. The default is  to  automatically
       detect the mail storage format. This option is deprecated.

       <b>-p</b> Copy the input to the output (passthrough) and insert spam headers in the style of SpamAssassin. An X-
       Spam-Status  header  is always inserted with processing details. The contents of this header always begin
       with either "Yes" or "No". If the input is judged to be spam,  the  header  "X-Spam-Flag:  YES"  is  also
       inserted.

       <b>-v</b> Be more verbose. This option is not well supported yet.

       <b>-V</b> Display version information.

       <b>-h</b> Display usage information.

</pre><h4><b>THEORY</b> <b>OF</b> <b>OPERATION</b></h4><pre>
       bmf  treats its input as a bag of tokens. Each token is checked against "good" and "bad" wordlists, which
       maintain counts of the numbers of times it has occurred in non-spam and spam  mails.  These  numbers  are
       used  to  compute  the probability that a mail in which the token occurs is spam. After probabilities for
       all input tokens have been computed, a fixed number of  the  probabilities  that  deviate  furthest  from
       average are combined using Bayes's theorem on conditional probabilities.

       While  this  method sounds crude compared to the more usual pattern-matching approach, it turns out to be
       extremely effective.  Paul  Graham's  paper  A  Plan  For  Spam:  <u><a href="http://www.paulgraham.com/spam.html">http://www.paulgraham.com/spam.html</a></u>  is
       recommended reading.

       bmf  improves  on  Paul's  proposal  by  doing  smarter lexical analysis. In particular, hostnames and IP
       addresses are not discarded, and certain types of MTA information are discarded (such as message ids  and
       dates).

       MIME and other attachments are not decoded. Experience from watching the token streams suggests that spam
       with  enclosures  invariably  gives  itself  away  through  cues  in the headers and non-enclosure parts.
       Nonetheless, I would like to add the ability to decode quoted-printable and perhaps base64 encodings  for
       textual attachments.

</pre><h4><b>INTEGRATION</b> <b>WITH</b> <b>OTHER</b> <b>TOOLS</b></h4><pre>
       Please see the /usr/share/doc/bmf/README.gz for samples and suggestions.

</pre><h4><b>RETURN</b> <b>VALUES</b></h4><pre>
       In passthrough mode: zero for success, nonzero for failure.

       In non-passthrough mode: 0 for spam; 1 for non-spam; 2 for I/O or other errors.

</pre><h4><b>FILES</b></h4><pre>
       <u><a href="file:~/.bmf/goodlist.txt">~/.bmf/goodlist.txt</a></u>
              List of good tokens for text mode.

       <u><a href="file:~/.bmf/spamlist.txt">~/.bmf/spamlist.txt</a></u>
              List of bad tokens for text mode.

       <u><a href="file:~/.bmf/goodlist.db">~/.bmf/goodlist.db</a></u>
              List of good tokens for libdb mode.

       <u><a href="file:~/.bmf/spamlist.db">~/.bmf/spamlist.db</a></u>
              List of bad tokens for libdb mode.

</pre><h4><b>BUGS</b></h4><pre>
       Only  one  copy  of <b><a href="../man1/bmf.1.html">bmf</a>(1)</b> instance can access the database (see options -d and -f). In Procmail recipes,
       ensure sequential access with a lock file:

               :0 fw: bmf.lock
               | bmf -p

       The lexer does not recognize multiline headers.

       The lexer does not recognize MIME attachments.

       Content-Transfer-Encoding is not decoded.

</pre><h4><b>AUTHOR</b></h4><pre>
       Tom Marshall &lt;<a href="mailto:tommy@tig-grr.com">tommy@tig-grr.com</a>&gt;.

       The Bayes algorithm is from bogofilter by Eric S. Raymond &lt;<a href="mailto:esr@thyrsus.com">esr@thyrsus.com</a>&gt;. bogofilter can be  found  at
       the bogofilter project page: <u><a href="http://bogofilter.sourceforge.net/">http://bogofilter.sourceforge.net/</a></u>.

                                                                                                          <u><a href="../man1/BMF.1.html">BMF</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>