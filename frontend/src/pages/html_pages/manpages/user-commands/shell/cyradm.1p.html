<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>cyradm - Cyrus administration shell, alter ego of Cyrus::IMAP::Shell</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/cyrus-admin">cyrus-admin_3.10.1-2_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       cyradm - Cyrus administration shell, alter ego of Cyrus::IMAP::Shell

</pre><h4><b>SYNOPSIS</b></h4><pre>
         $ cyradm [--user user] [--[no]rc] [--systemrc file] [--userrc file] \
         &gt; [--port n] [--auth mechanism] [--tlskey keyfile] [--notls] \
         &gt; [--cafile cacertfile] [--cadir cacertdir] \
         &gt; [--server] server

       but possibly

         $ perl -MCyrus::IMAP::Shell -e 'run("myscript")'

       or even (not recommended)

         use Cyrus::IMAP::Admin::Shell;

         run('myscriptname');

</pre><h4><b>DESCRIPTION</b></h4><pre>
       This module implements <b>cyradm</b> in Perl.  It is a shell around Cyrus::IMAP::Admin.  Commands are provided
       in both Tcl-compatible forms and GNU-style long option forms.

</pre><h4><b>COMMANDS</b></h4><pre>
       "authenticate" ["--minssf" <u>N</u>] ["--maxssf" <u>N</u>] ["--mechanisms" <u>list</u>] ["--service" <u>name</u>] ["--tlskey"
       <u>keyfile</u>] ["--notls"] ["--cafile" <u>cacertfile</u>] ["--capath" <u>cacertdir</u>] [<u>user</u>]
       "auth" ["--minssf" <u>N</u>] ["--maxssf" <u>N</u>] ["--mechanisms" <u>list</u>] ["--service" <u>name</u>] ["--tlskey" <u>keyfile</u>]
       ["--notls"] ["--cafile" <u>cacertfile</u>] ["--capath" <u>cacertdir</u>] [<u>user</u>]
       "login" ["--minssf" <u>N</u>] ["--maxssf" <u>N</u>] ["--mechanisms" <u>list</u>] ["--service" <u>name</u>] ["--tlskey" <u>keyfile</u>]
       ["--notls"] ["--cafile" <u>cacertfile</u>] ["--capath" <u>cacertdir</u>] [<u>user</u>]
           Authenticate  to  server.   You  must already be connected to a server and Cyrus imapd will refuse to
           allow you to re-authenticate once you have authenticated once.

       "chdir" <u>directory</u>
       "cd" <u>directory</u>
           Change directory.  A "pwd" builtin is not provided, but the default command  action  will  run  "pwd"
           from a shell if invoked.

       "createmailbox" ["--partition" <u>partition</u>] ["--specialuse" <u>specialuse</u>] <u>mailbox</u>
       "create" ["--partition" <u>partition</u>] ["--specialuse" <u>specialuse</u>] <u>mailbox</u>
       "create" ["--specialuse" <u>specialuse</u>] <u>mailbox</u> <u>partition</u>
       "cm" ["--partition" <u>partition</u>] ["--specialuse" <u>specialuse</u>] <u>mailbox</u>
       "cm" ["--specialuse" <u>specialuse</u>] <u>mailbox</u> <u>partition</u>
           Create a mailbox on the default or a specified partition.  Both old-style and getopt-style usages are
           accepted (combining them will produce an error).  Optionally assign a special use to the mailbox.

       "deleteaclmailbox" <u>mailbox</u> <u>id</u> [...]
       "deleteacl" <u>mailbox</u> <u>id</u> [...]
       "dam" <u>mailbox</u> <u>id</u> [...]
           Remove ACLs from the specified mailbox.

       "deletemailbox" <u>mailbox</u>
       "delete" <u>mailbox</u>
       "dm" <u>mailbox</u>
           Delete the specified mailbox.

           Administrators  do  not  have  implicit delete rights on mailboxes.  Use the <b>setaclmailbox</b> command to
           grant the "x" permission to your principal if you need to delete a mailbox you do not own.

       "disconnect"
       "disc"
           Disconnect from the current server.  The prompt will revert to "cyradm&gt;".

       "exit" [<u>number</u>]
       "quit" [<u>number</u>]
           Exit <b>cyradm</b>, optionally with a specific exit status; the exit status of the last command will be used
           if one is not specified.

       help [command]
       ? [command]
           Show help for "command" or all commands.

       "getmetadata" [<u>mailbox</u>]
       "getmd" [<u>mailbox</u>]
           Display mailbox/server metadata

       "info" [<u>mailbox</u>]
           Display the mailbox/server annotations.

       "listaclmailbox" <u>mailbox</u>
       "listacl" <u>mailbox</u>
       "lam" <u>mailbox</u>
           List ACLs on the specified mailbox.

       "listmailbox" ["--subscribed"] ["--specialuse"] [<u>pattern</u> [<u>reference</u>]]
       "list" ["--subscribed"] ["--specialuse"] [<u>pattern</u> [<u>reference</u>]]
       "lm" ["--subscribed"] ["--specialuse"] [<u>pattern</u> [<u>reference</u>]]
           List all, or all subscribed or special-use, mailboxes matching the specified  pattern.   The  pattern
           may  have  embedded  wildcards  '*'  or  '%',  which  match anything or anything except the separator
           character, respectively.

           Mailboxes returned will be relative to the specified reference if one is specified.   This  allows  a
           mailbox list to be limited to a particular hierarchy.

           In  some  cases  when the '%' wildcard is used to end a pattern, it may match an entry which is not a
           mailbox but which contains other mailboxes.  In  this  case,  the  entry  will  be  parenthesized  to
           indicate that it is a root for other mailboxes, as opposed to a mailbox itself.

       "listquota" <u>root</u>
       "lq" <u>root</u>
           List  quotas  on  specified  root.   If the specified mailbox path does not have a quota assigned, an
           error will be raised; see <u>listquotaroot</u> for a way to find the quota root for a mailbox.

       "listquotaroot" <u>mailbox</u>
       "lqm" <u>mailbox</u>
       "lqr" <u>mailbox?</u>
           show quota roots and quotas for mailbox

       "mboxconfig" ["--private"] <u>mailbox</u> <u>attribute</u> <u>value</u>
       "mboxcfg" ["--private"] <u>mailbox</u> <u>attribute</u> <u>value</u>
           Set mailbox metadata, optionally set the private instead of the shared version  of  the  metadata.  A
           value of "none" will remove the attribute.

           The currently supported attributes are:

           "comment"
               Sets a comment or description associated with the mailbox.

           "expire"
               Sets the number of days after which messages will be expired from the mailbox.

           "news2mail"
               Sets an email address to which messages injected into the server via NNTP will be sent.

           "pop3showafter"
               Sets a time (in RFC3501 format, for example "6-Jan-2011 11:45:32 +1100") which specifies a cutoff
               date  such that POP3 fetching of the folder does not see messages whose internaldate is before or
               equal to the date.

           "sharedseen"
               Enables the use of a shared \Seen flag on messages rather than a per-user \Seen  flag.   The  's'
               right in the mailbox ACL still controls whether a user can set the shared \Seen flag.

           "sieve"
               Indicates  the  name of the global sieve script that should be run when a message is delivered to
               the shared mailbox (not used for personal mailboxes).

           "squat"
               Indicates that the mailbox should have a squat index created for it.

           "/explicit/annotation"
               Sets the annotation <u>/explicit/annotation</u> on <u>mailbox</u> to <u>value</u>.

       "renamemailbox" ["--partition" <u>partition</u>] <u>oldname</u> <u>newname</u>
       "rename" ["--partition" <u>partition</u>] <u>oldname</u> <u>newname</u>
       "renm" ["--partition" <u>partition</u>] <u>oldname</u> <u>newname</u>
       "renamemailbox" <u>oldname</u> <u>newname</u> [<u>partition</u>]
       "rename" <u>oldname</u> <u>newname</u> [<u>partition</u>]
       "renm" <u>oldname</u> <u>newname</u> [<u>partition</u>]
           Rename the specified mailbox, optionally moving it to a  different  partition.   Both  old-style  and
           getopt-style usages are accepted; combining them will produce an error.

       server [--noauthenticate] [server]
       connect [--noauthenticate] [server]
       servername [--noauthenticate] [server]
           With  no  arguments,  show  the  current  server.  With an argument, connect to that server.  It will
           prompt for automatic login unless the "--noauthenticate" option is specified.  (This may  change;  in
           particular,  either  automatic  authentication  will be removed or all "authenticate" options will be
           added.)

           When connected to a server,  the  <b>cyradm</b>  prompt  changes  from  "cyradm&gt;"  to  "servername&gt;",  where
           <u>servername</u> is the fully qualified domain name of the connected server.

       "setaclmailbox" <u>mailbox</u> <u>id</u> <u>rights</u> [<u>id</u> <u>rights</u> ...]
       "setacl" <u>mailbox</u> <u>id</u> <u>rights</u> [<u>id</u> <u>rights</u> ...]
       "sam" <u>mailbox</u> <u>id</u> <u>rights</u> [<u>id</u> <u>rights</u> ...]
           Set  ACLs  on  a  mailbox.   The ACL may be one of the special strings "none", "read" ("lrs"), "post"
           ("lrsp"), "append" ("lrsip"), "write" ("lrswipkxten"), "delete" ("lrxten"), or "all" ("lrswipkxten"),
           or any combinations of the ACL codes:

           l   Lookup (mailbox is visible to LIST/LSUB, SUBSCRIBE mailbox)

           r   Read (SELECT/EXAMINE the mailbox, perform STATUS)

           s   Seen (set/clear \SEEN flag via STORE, also set \SEEN flag during
                   APPEND/COPY/FETCH BODY[...])

           w   Write flags other than \SEEN and \DELETED

           i   Insert (APPEND, COPY destination)

           p   Post (send mail to mailbox)

           k   Create mailbox (CREATE new sub-mailboxes, parent for new mailbox in RENAME)

           x   Delete mailbox (DELETE mailbox, old mailbox name in RENAME)

           t   Delete messages (set/clear \DELETED flag via STORE, also set \DELETED
                   flag during APPEND/COPY)

           e   Perform EXPUNGE and expunge as part of CLOSE

           a   Administer (SETACL/DELETEACL/GETACL/LISTRIGHTS)

           n   Add, delete or modify annotations

       "setinfo" <u>attribute</u> <u>value</u>
           Set server metadata.  A  value  of  "none"  will  remove  the  attribute.   The  currently  supported
           attributes are:

           "motd"
               Sets a "message of the day".  The message gets displayed as an ALERT after authentication.

           "comment"
               Sets a comment or description associated with the server.

           "admin"
               Sets the administrator email address for the server.

           "shutdown"
               Sets  a  shutdown message.  The message gets displayed as an ALERT and all users are disconnected
               from the server (subsequent logins are disallowed).

           "expire"
               Sets the number of days after which messages will be expired from the server  (unless  overridden
               by a mailbox annotation).

           "squat"
               Indicates that all mailboxes should have a squat indexes created for them (unless overridden by a
               mailbox annotation).

       "setmetadata" [--private] mailbox [<u>annotation</u>] <u>value</u>
       "setmd" [--private] mailbox [<u>annotation</u>] <u>value</u>
           Set       metadata       on       mailbox,       where       &lt;annotation&gt;       is       one       of
           [comment|expire|news2mail|pop3showafter|sharedseen|sieve|specialuse| squat|/&lt;explicit annotation&gt;].

           Note that flags with a leading backslash must be escaped with an additional backslash.  For example:

             setmetadata --private Spam specialuse "\\Junk"

           Note, too, that "private" annotations are  private  to  the  user  currently  authenticated  as,  not
           necessarily the owner of the mailbox.  To set annotations for another user you must authorize as that
           user.

           In  addition to the use of optional flag <b>--private</b>, one may use a more explicit syntax, prefixing the
           annotation with '/shared/' or '/private/' as in this example:

             setmetadata Spam /private/specialuse "\\Junk"

       "setquota" <u>root</u> <u>resource</u> <u>value</u> [<u>resource</u> <u>value</u> ...]
       "sq" <u>root</u> <u>resource</u> <u>value</u> [<u>resource</u> <u>value</u> ...]
           Set a quota on the specified root, which may or may not be an  actual  mailbox.   The  only  <u>resource</u>
           understood  by  <b>Cyrus</b> is "STORAGE".  The <u>value</u> may be the special string "none" which will remove the
           quota.

       "version"
       "ver"
           Display the version info of the current server.

       "xfermailbox" ["--partition" <u>partition</u>] <u>mailbox</u> <u>server</u>
       "xfer" ["--partition" <u>partition</u>] <u>mailbox</u> <u>server</u>
       "xfermailbox" <u>mailbox</u> <u>server</u> [<u>partition</u>]
       "xfer" <u>mailbox</u> <u>server</u> [<u>partition</u>]
           Transfer (relocate) the specified mailbox to a different server.   Both  old-style  and  getopt-style
           usages are accepted; combining them will produce an error.

</pre><h4><b>NOTES</b></h4><pre>
       GNU-style long options must be given in their entirety; Tcl-style options may be abbreviated.

       Tcl-style options are provided as a compatibility feature.  They will probably go away in the future.

       Multiple commands can be given on a line, separated by ';' characters.

       All commands set an exit status, which at present is not useful.

       Unknown commands are passed to a subshell for execution.

       The  Tcl  version  of <b>cyradm</b> is used for scripting as well as interactively.  While this is possible to a
       limited extent by use of the "run" method, scripting would normally be  done  with  "Cyrus::IMAP::Admin",
       which is far more flexible than either interactive "cyradm" or the Tcl scripting mechanism for Cyrus.

       <b>cyradm</b>  understands  <b><a href="file:/bin/sh">/bin/sh</a></b>-style  redirection:   any  command  can  have  its  standard or error output
       redirected, with all <b>sh</b>-style redirections (except "&lt;&gt;") supported.  It  does  not  currently  understand
       pipes or backgrounding.

       If the "Term::Readline::Perl" or "Term::Readline::GNU" modules are available, <b>cyradm</b> will use it.

       An  alias  facility  is  implemented  internally,  but  no access is currently provided to it.  This will
       change, if only to allow some of the predefined aliases to be removed if they conflict with useful  shell
       commands.

</pre><h4><b>AUTHOR</b></h4><pre>
       Brandon S. Allbery, <a href="mailto:allbery@ece.cmu.edu">allbery@ece.cmu.edu</a>

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       Cyrus::IMAP::Admin Term::ReadLine <b><a href="../man1/sh.1.html">sh</a></b>(1), <b><a href="../man1/perl.1.html">perl</a></b>(1), <b><a href="../man8/imapd.8.html">imapd</a></b>(8).

perl v5.40.1                                       2025-03-23                                         <u><a href="../man1p/CYRADM.1p.html">CYRADM</a></u>(1p)
</pre>
 </div>
</div></section>
</div>
</body>
</html>