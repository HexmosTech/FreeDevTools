<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>pg_waldump - display a human-readable rendering of the write-ahead log of a PostgreSQL database cluster</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/postgresql-17">postgresql-17_17.5-0ubuntu0.25.04.1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       pg_waldump - display a human-readable rendering of the write-ahead log of a PostgreSQL database cluster

</pre><h4><b>SYNOPSIS</b></h4><pre>

       <b>pg_waldump</b> [<b>option</b>...] [<b>startseg</b> [<b>endseg</b>]]

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>pg_waldump</b> displays the write-ahead log (WAL) and is mainly useful for debugging or educational purposes.

       This utility can only be run by the user who installed the server, because it requires read-only access
       to the data directory.

</pre><h4><b>OPTIONS</b></h4><pre>
       The following command-line options control the location and format of the output:

       <u>startseg</u>
           Start reading at the specified WAL segment file. This implicitly determines the path in which files
           will be searched for, and the timeline to use.

       <u>endseg</u>
           Stop after reading the specified WAL segment file.

       <b>-b</b>
       <b>--bkp-details</b>
           Output detailed information about backup blocks.

       <b>-B</b> <u>block</u>
       <b>--block=</b><u>block</u>
           Only display records that modify the given block. The relation must also be provided with <b>--relation</b>
           or <b>-R</b>.

       <b>-e</b> <u>end</u>
       <b>--end=</b><u>end</u>
           Stop reading at the specified WAL location, instead of reading to the end of the log stream.

       <b>-f</b>
       <b>--follow</b>
           After reaching the end of valid WAL, keep polling once per second for new WAL to appear.

       <b>-F</b> <u>fork</u>
       <b>--fork=</b><u>fork</u>
           Only display records that modify blocks in the given fork. The valid values are main for the main
           fork, fsm for the free space map, vm for the visibility map, and init for the init fork.

       <b>-n</b> <u>limit</u>
       <b>--limit=</b><u>limit</u>
           Display the specified number of records, then stop.

       <b>-p</b> <u>path</u>
       <b>--path=</b><u>path</u>
           Specifies a directory to search for WAL segment files or a directory with a pg_wal subdirectory that
           contains such files. The default is to search in the current directory, the pg_wal subdirectory of
           the current directory, and the pg_wal subdirectory of <b>PGDATA</b>.

       <b>-q</b>
       <b>--quiet</b>
           Do not print any output, except for errors. This option can be useful when you want to know whether a
           range of WAL records can be successfully parsed but don't care about the record contents.

       <b>-r</b> <u>rmgr</u>
       <b>--rmgr=</b><u>rmgr</u>
           Only display records generated by the specified resource manager. You can specify the option multiple
           times to select multiple resource managers. If list is passed as name, print a list of valid resource
           manager names, and exit.

           Extensions may define custom resource managers, but pg_waldump does not load the extension module and
           therefore does not recognize custom resource managers by name. Instead, you can specify the custom
           resource managers as custom### where <u>###</u> is the three-digit resource manager ID. Names of this form
           will always be considered valid.

       <b>-R</b> <u>tblspc</u><b>/</b><u>db</u><b>/</b><u>rel</u>
       <b>--relation=</b><u>tblspc</u><b>/</b><u>db</u><b>/</b><u>rel</u>
           Only display records that modify blocks in the given relation. The relation is specified with
           tablespace OID, database OID, and relfilenode separated by slashes, for example 1234/12345/12345.
           This is the same format used for relations in the program's output.

       <b>-s</b> <u>start</u>
       <b>--start=</b><u>start</u>
           WAL location at which to start reading. The default is to start reading the first valid WAL record
           found in the earliest file found.

       <b>-t</b> <u>timeline</u>
       <b>--timeline=</b><u>timeline</u>
           Timeline from which to read WAL records. The default is to use the value in <u>startseg</u>, if that is
           specified; otherwise, the default is 1. The value can be specified in decimal or hexadecimal, for
           example 17 or 0x11.

       <b>-V</b>
       <b>--version</b>
           Print the pg_waldump version and exit.

       <b>-w</b>
       <b>--fullpage</b>
           Only display records that include full page images.

       <b>-x</b> <u>xid</u>
       <b>--xid=</b><u>xid</u>
           Only display records marked with the given transaction ID.

       <b>-z</b>
       <b>--stats[=record]</b>
           Display summary statistics (number and size of records and full-page images) instead of individual
           records. Optionally generate statistics per-record instead of per-rmgr.

           If pg_waldump is terminated by signal SIGINT (Control+C), the summary of the statistics computed is
           displayed up to the termination point. This operation is not supported on Windows.

       <b>--save-fullpage=</b><u>save_path</u>
           Save full page images found in the WAL records to the <u>save_path</u> directory. The images saved are
           subject to the same filtering and limiting criteria as the records displayed.

           The full page images are saved with the following file name format:
           <u>TIMELINE</u>-<u>LSN</u>.<u>RELTABLESPACE</u>.<u>DATOID</u>.<u>RELNODE</u>.<u>BLKNO</u>_<u>FORK</u> The file names are composed of the following
           parts:
           ┌───────────────┬──────────────────────────────────────┐
           │ <b>Component</b>     │ <b>Description</b>                          │
           ├───────────────┼──────────────────────────────────────┤
           │ TIMELINE      │ The timeline of the WAL segment file │
           │               │ where the record                     │
           │               │              is located formatted as │
           │               │ one 8-character hexadecimal number   │
           │               │              %08X                    │
           ├───────────────┼──────────────────────────────────────┤
           │ LSN           │ The LSN of the record with this      │
           │               │ image,                               │
           │               │              formatted as two        │
           │               │ 8-character hexadecimal numbers      │
           │               │              %08X-%08X               │
           ├───────────────┼──────────────────────────────────────┤
           │ RELTABLESPACE │ tablespace OID of the block          │
           ├───────────────┼──────────────────────────────────────┤
           │ DATOID        │ database OID of the block            │
           ├───────────────┼──────────────────────────────────────┤
           │ RELNODE       │ filenode of the block                │
           ├───────────────┼──────────────────────────────────────┤
           │ BLKNO         │ block number of the block            │
           ├───────────────┼──────────────────────────────────────┤
           │ FORK          │ The name of the fork the full page   │
           │               │ image came from, such as             │
           │               │              main, fsm,              │
           │               │              vm, or init.            │
           └───────────────┴──────────────────────────────────────┘

       <b>-?</b>
       <b>--help</b>
           Show help about pg_waldump command line arguments, and exit.

</pre><h4><b>ENVIRONMENT</b></h4><pre>
       <b>PGDATA</b>
           Data directory; see also the <b>-p</b> option.

       <b>PG_COLOR</b>
           Specifies whether to use color in diagnostic messages. Possible values are always, auto and never.

</pre><h4><b>NOTES</b></h4><pre>
       Can give wrong results when the server is running.

       Only the specified timeline is displayed (or the default, if none is specified). Records in other
       timelines are ignored.

       pg_waldump cannot read WAL files with suffix .partial. If those files need to be read, .partial suffix
       needs to be removed from the file name.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       Section 28.6

PostgreSQL 17.5                                       2025                                         <u><a href="../man1/PG_WALDUMP.1.html">PG_WALDUMP</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>