<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>daemonize - run a program as a Unix daemon</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/daemonize">daemonize_1.7.8-4_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       daemonize - run a program as a Unix daemon

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>daemonize</b>  [-a]  [-c  <u>directory</u>]  [-e  <u>stderr</u>] [-o <u>stdout</u>] [-p <u>pidfile</u>] [-l <u>lockfile</u>] [-u <u>user</u>] [-v] <u>path</u>
       <u>[arg]</u> <u>...</u>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>daemonize</b> runs a command as a Unix daemon.  As defined in W. Richard Stevens'  1990  book,  <u>Unix</u>  <u>Network</u>
       <u>Programming</u>  (Addison-Wesley,  1990),  a  daemon  is  “a process that executes `in the background' (i.e.,
       without an associated terminal or login shell) either waiting for some event  to  occur,  or  waiting  to
       perform some specified task on a periodic basis.” Upon startup, a typical daemon program will:

       o Close all open file descriptors (especially standard input, standard output and standard error)

       o Change  its  working  directory  to  the  root  filesystem,  to  ensure  that it doesn't tie up another
         filesystem and prevent it from being unmounted

       o Reset its <u>umask</u> value

       o Run in the background (i.e., <u>fork</u>)

       o Disassociate from its process group (usually a shell), to insulate itself from signals  (such  as  HUP)
         sent to the process group

       o Ignore all terminal I/O signals

       o Disassociate from the control terminal (and take steps not to reacquire one)

       o Handle any SIGCLD signals

       Most  programs  that  are  designed  to  be  run  as daemons do that work for themselves. However, you'll
       occasionally run across one that does not.  When you must run a daemon program  that  does  not  properly
       make itself into a true Unix daemon, you can use <b>daemonize</b> to force it to run as a true daemon.

</pre><h4><b>OPTIONS</b></h4><pre>
       -a     Append  to  the output files, rather than overwriting them (which is the default). Only applicable
              if <u>-e</u> and/or <u>-o</u> are specified.

       -c <u>directory</u>
              Specifies the directory to which to change before running  the  program.   Defaults  to  "/".  The
              choice  for  this  option  is important. The file system containing the daemon's working directory
              cannot be unmounted while the daemon is running. That's why most daemons  are  careful  to  use  a
              working directory on the root file system.

       -e <u>stderr</u>
              Redirect standard error to the specified file, instead of "/dev/null".

              <b>Warning:</b> Be careful where you redirect the output! The file system containing the open file cannot
              be  unmounted as long as the file is open. For best results, make sure that this output file is on
              the same file system as the daemon's working directory. (See the <u>-c</u> option.)

       -E <u>name=value</u>
              Add an environment variable to the environment the daemon will see. The parameter must be  of  the
              form <u>name=value.</u>  This parameter may be specified multiple times.

       -o <u>stdout</u>
              Redirect standard output to the specified file, instead of "/dev/null".

              <b>Warning:</b> Be careful where you redirect the output! The file system containing the open file cannot
              be  unmounted as long as the file is open. For best results, make sure that this output file is on
              the same file system as the daemon's working directory. (See the <u>-c</u> option.)

       -p <u>pidfile</u>
              Causes <b>daemonize</b> to write the numeric process ID (PID) of the  running  daemon  to  the  specified
              file. This option is useful when the program being daemonized doesn't create its own PID file.

       -l <u>lockfile</u>
              Single-instance  checking. Causes <b>daemonize</b> to ensure that no more than one instance of the daemon
              is running by placing an exclusive lock on given lockfile. If another process already has  a  lock
              on the lockfile, <u>daemonize</u> exits.

       It  <u>is</u>  possible  to  use  the <u>pidfile</u> as the lock file (e.g., "-p /var/run/foo -l /var/run/foo"), though
       typical daemons use separate files.

       NOTE: If the executed program decides to close all file descriptors, the single-instance locking will not
       work, since the lock depends on an open file descriptor. (The operating system kernel  removes  the  lock
       once  the  process  holding  the  lock closes the file or exits.)  Normal processes that do not daemonize
       themselves do not usually close all file descriptors.

       -u <u>user</u>
              Run the program as the specified user. This option only works  if  <b>daemonize</b>  is  invoked  by  the
              superuser.   Note:  For  obvious reasons, it's very dangerous to install <b>daemonize</b> as a <u>setuid-to-</u>
              <u>root</u> executable. For that reason, <b>daemonize</b> will refuse to run if it  detects  that  it  has  been
              installed that way.

       -v     Cause  <b>daemonize</b>  to  write  verbose  messages  to  standard  error, telling what it's doing as it
              daemonizes the program.

</pre><h4><b>NOTES</b></h4><pre>
       If the host operating system provides the <b><a href="../man3/daemon.3.html">daemon</a></b>(3) library routine, <b>daemonize</b> will  use  it.  Otherwise,
       <b>daemonize</b>  uses  its  own  version  of  <b><a href="../man3/daemon.3.html">daemon</a></b>(3).  This choice is made at compile time. (BSD 4.4-derived
       operating systems tend to provide their own <b><a href="../man3/daemon.3.html">daemon</a></b>(3) routine.)

       FreeBSD 5.0 introduced a <b><a href="../man1/daemon.1.html">daemon</a></b>(1) command that is similar to, but less functional, than <b>daemonize</b>.

</pre><h4><b>LICENSE</b></h4><pre>
       This program released under a BSD-style license. For more details, consult the LICENSE file  accompanying
       the source distribution, or visit "<a href="http://software.clapper.org/daemonize/LICENSE">http://software.clapper.org/daemonize/LICENSE</a>".

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man3/daemon.3.html">daemon</a></b>(3), <b><a href="../man2/setsid.2.html">setsid</a></b>(2), <b><a href="../man2/flock.2.html">flock</a>(2)</b>

       <b>daemonize</b> Home Page: <a href="http://software.clapper.org/daemonize/">http://software.clapper.org/daemonize/</a>

</pre><h4><b>AUTHOR</b></h4><pre>
       Brian M. Clapper, <u>bmc</u> <u>&lt;at&gt;</u> <u>clapper</u> <u>&lt;dot&gt;</u> <u>org</u>

</pre><h4><b>CONTRIBUTORS</b></h4><pre>
       Support for the <u>-e</u> and <u>-o</u> options is based on a patch submitted by Tim Starling <u>(tstarling</u> <u>&lt;at&gt;</u> <u>wikimedia</u>
       <u>&lt;dot&gt;</u> <u>org).</u>

       Support for the <u>-l</u> option is based on a patch submitted by Yakov Lerner <u>(iler.ml</u> <u>&lt;at&gt;</u> <u>gmail</u> <u>&lt;dot&gt;</u> <u>com).</u>

Unix                                               August 2006                                      <u><a href="../man1/daemonize.1.html">daemonize</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>