<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>condor_token_request - HTCondor Manual</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/condor">condor_23.6.2+dfsg-2build1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       condor_token_request - HTCondor Manual

       interactively request a token from a remote daemon for the IDTOKENS authentication method

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>condor_token_request</b>  [<b>-identity</b>  <u>user@domain</u>]  [<b>-authz</b>  <u>authz</u>  ...]  [<b>-lifetime</b> <u>value</u>] [<b>-pool</b> <u>pool_name</u>]
       [<b>-name</b> hostname] [<b>-type</b> <u>type</u>] [<b>-token</b> <u>filename</u>]

       <b>condor_token_request</b> [<b>-help</b> ]

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <u>condor_token_request</u> will request an authentication token from a remote daemon. Token  requests  must  be
       approved  by  the  daemon's administrator using <u>condor_token_request_approve</u>.  Unlike <u>condor_token_fetch</u>,
       the user doesn't need an existing identity with the remote daemon  when  using  <u>condor_token_request</u>  (an
       anonymous method, such as <b>SSL</b> without a client certificate will suffice).

       If the request is successfully enqueued, the request ID will be printed to <b>stderr</b>; the administrator will
       need  to  know  the  ID  to  approve  the  request.   <u>condor_token_request</u> will wait until the request is
       approved, timing out after an hour.

       The token request mechanism provides a powerful way to bootstrap authentication in a HTCondor  pool  -  a
       remote  user  can request an identity, verify the authenticity of the request out-of-band with the remote
       daemon's administrator, and then securely recieve their authentication token.

       By default, <u>condor_token_request</u> will query the local <u>condor_collector</u>; by specifying  a  combination  of
       <b>-pool</b>,  <b>-name</b>,  or <b>-type</b>, the tool can request tokens in other pools, on other hosts, or different daemon
       types.

       If successful, the resulting token will be sent to <b>stdout</b>; by  specifying  the  <b>-token</b>  option,  it  will
       instead be written to the user's token directory.

</pre><h4><b>OPTIONS</b></h4><pre>
          <b>-authz</b> <u>authz</u>
                 Adds  a restriction to the token so it is only valid to be used for a given authorization level
                 (such as <b>READ</b>, <b>WRITE</b>, <b>DAEMON</b>, <b>ADVERTISE_STARTD</b>).  If multiple authorizations are  needed,  then
                 <b>-authz</b>  must  be  specified  multiple  times.   If  <b>-authz</b>  is  not specified, no authorization
                 restrictions are added and authorization will be solely based on the  token's  identity.   <b>NOTE</b>
                 that  <b>-authz</b>  cannot be used to give an identity additional permissions at the remote host.  If
                 the server's admin only permits the user <b>READ</b> authorization, then specifying <b>-authz</b> <b>WRITE</b> in  a
                 token will not allow the user to perform writes.

          <b>-debug</b> Causes  debugging  information  to  be  sent to <b>stderr</b>, based on the value of the configuration
                 variable <u>TOOL_DEBUG</u>.

          <b>-help</b>  Display brief usage information and exit.

          <b>-identity</b> <u>user@domain</u>
                 Request a specific  identity  from  the  daemon;  a  client  using  the  resulting  token  will
                 authenticate as this identity with a remote server.  If not specified, the token will be issued
                 for the <b>condor</b> identity.

          <b>-lifetime</b> <u>value</u>
                 Specify the lifetime, in seconds, for the token to be valid (the token validity will start when
                 the token is signed).  After the lifetime expires, the token cannot be used for authentication.
                 If not specified, the token will contain no lifetime restrictions.

          <b>-name</b> <u>hostname</u>
                 Request  a  token  from  the  daemon  named  <u>hostname</u>  in  the  pool.   If  not  specified, the
                 locally-running daemons will be used.

          <b>-pool</b> <u>pool_name</u>
                 Request a token from a daemon in a non-default pool <u>pool_name</u>.

          <b>-token</b> <u>filename</u>
                 Specifies a filename, relative  to  the  directory  in  the  <u>SEC_TOKEN_DIRECTORY</u>  configuration
                 variable  (defaulting  to  <b><a href="file:~/.condor/tokens.d">~/.condor/tokens.d</a></b>),  where  the  resulting token is stored.  If not
                 specified, the token will be sent to <b>stdout</b>.

          <b>-type</b> <u>type</u>
                 Request a token from a specific daemon type <u>type</u>.  If not given, a <u>condor_collector</u> is used.

</pre><h4><b>EXAMPLES</b></h4><pre>
       To obtain a token with a lifetime of 10 minutes from the  default  <u>condor_collector</u>  (the  token  is  not
       returned until the daemon's administrator takes action):

          $ condor_token_request -lifetime 600
          Token request enqueued.  Ask an administrator to please approve request 6108900.
          eyJhbGciOiJIUzI1NiIsImtpZCI6IlBPT0wifQ.eyJpYX...ii7lAfCA

       To request a token from <b>bird.cs.wisc.edu</b> which is limited to <b>READ</b> and <b>WRITE</b>:

          $ condor_token_request -name bird.cs.wisc.edu \
                                 -identity <a href="mailto:bucky@cs.wisc.edu">bucky@cs.wisc.edu</a>
                                 -authz READ -authz WRITE
          Token request enqueued.  Ask an administrator to please approve request 2578154
          eyJhbGciOiJIUzI1NiIsImtpZCI6IlBPT0wifQ.eyJpYX...lJTj54

       To  create  a  token  from  the  collector  in  the  <b>htcondor.cs.wisc.edu</b>  pool  and  then  to save it to
       <b><a href="file:~/.condor/tokens.d/friend">~/.condor/tokens.d/friend</a></b>:

          $ condor_token_request -pool htcondor.cs.wisc.edu \
                               -identity <a href="mailto:friend@cs.wisc.edu">friend@cs.wisc.edu</a> \
                               -lifetime 600 -token friend
          Token request enqueued.  Ask an administrator to please approve request 2720841.

</pre><h4><b>EXIT</b> <b>STATUS</b></h4><pre>
       <u>condor_token_request</u> will exit with a non-zero status value if it fails to request or recieve the  token.
       Otherwise, it will exit 0.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man1/condor_token_create.1.html">condor_token_create</a>(1)</b>,              <b><a href="../man1/condor_token_fetch.1.html">condor_token_fetch</a>(1)</b>,              <b><a href="../man1/condor_token_request_approve.1.html">condor_token_request_approve</a>(1)</b>,
       <b><a href="../man1/condor_token_request_auto_approve.1.html">condor_token_request_auto_approve</a>(1)</b>, <b><a href="../man1/condor_token_list.1.html">condor_token_list</a>(1)</b>

</pre><h4><b>AUTHOR</b></h4><pre>
       Center for High Throughput Computing, University of Wisconsin-Madison

</pre><h4><b>AUTHOR</b></h4><pre>
       HTCondor Team

</pre><h4><b>COPYRIGHT</b></h4><pre>
       1990-2024, Center for High Throughput Computing, Computer Sciences Department, University  of  Wisconsin-
       Madison, Madison, WI, US. Licensed under the Apache License, Version 2.0.

                                                  Jan 04, 2025                           <u><a href="../man1/CONDOR_TOKEN_REQUEST.1.html">CONDOR_TOKEN_REQUEST</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>