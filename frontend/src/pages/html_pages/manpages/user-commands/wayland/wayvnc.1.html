<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>wayvnc - A VNC server for wlroots based Wayland compositors.</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/wayvnc">wayvnc_0.9.1-1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       wayvnc - A VNC server for wlroots based Wayland compositors.

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>wayvnc</b> [options] [address [port]]

</pre><h4><b>OPTIONS</b></h4><pre>
       <b>-C,</b> <b>--config=&lt;path&gt;</b>
           Select a config file.

       <b>-d,</b> <b>--disable-input</b>
           Disable  all  remote  input.  This  allows using wayvnc without compositor support of virtual mouse /
           keyboard protocols.

       <b>-D,</b> <b>--detached</b>
           Start detached from a compositor. Run <b>wayvncctl</b> <b>attach</b> to attach to a compositor.

       <b>-f,</b> <b>--max-fps=&lt;fps&gt;</b>
           Set the rate limit (default 30).

       <b>-g,</b> <b>--gpu</b>
           Enable features that require GPU.

       <b>-h,</b> <b>--help</b>
           Get help.

       <b>-k,</b> <b>--keyboard=&lt;layout&gt;[-variant]</b>
           Select keyboard layout. The variant can be appended if needed.

       <b>-L,</b> <b>--log-level</b>
           Set log level. The levels are: error, warning, info, debug, trace and quiet.

       <b>-o,</b> <b>--output=&lt;name&gt;</b>
           Select output to capture.

       <b>-p,</b> <b>--show-performance</b>
           Show performance counters.

       <b>-r,</b> <b>--render-cursor</b>
           Enable overlay cursor rendering.

       <b>-R,</b> <b>--disable-resizing</b>
           Disable automatic desktop resizing.

       <b>-s,</b> <b>--seat=&lt;name&gt;</b>
           Select seat by name.

       <b>-t,</b> <b>--transient-seat</b>
           Create a transient seat for each client session.

       <b>-S,</b> <b>--socket=&lt;path&gt;</b>
           Set wayvnc control socket path. Default: $XDG_RUNTIME_DIR/wayvncctl or /tmp/wayvncctl-$UID

       <b>-u,</b> <b>--unix-socket</b>
           Create a UNIX domain socket instead of TCP, treating the address as a path.

       <b>-v,</b> <b>--verbose</b>
           Be more verbose. Same as setting `--log-level=info`.

       <b>-V,</b> <b>--version</b>
           Show version info.

       <b>-w,</b> <b>--websocket</b>
           Create a websocket.

       <b>-x,</b> <b>--external-listener-fd</b>
           Have the VNC server listen on an already bound socket. The address argument becomes a file descriptor
           which should be inherited from wayvnc's parent process.

</pre><h4><b>DESCRIPTION</b></h4><pre>
       This is a VNC server for wlroots based Wayland compositors. It attaches to  a  running  Wayland  session,
       creates  virtual input devices and exposes a single display via the RFB protocol. The Wayland session may
       be a headless one, so it is also possible to run wayvnc without a physical display attached.

   <b>MULTIPLE</b> <b>OUTPUTS</b>
       If the Wayland session consists of multiple outputs, only one will be captured. By default this  will  be
       the  first one, but can be specified by the <u>-o</u> command line argument. The argument accepts the short name
       such as <u>eDP-1</u> or <u>DP-4</u>. Running wayvnc in verbose mode (<u>-v</u>) will display  the  names  of  all  outputs  on
       startup, or you can query them at runtime via the <b>wayvncctl</b> <b>output-list</b> command.

       You can also change which output is being captured on the fly via the <b>wayvncctl</b> <b>output-set</b> command.

</pre><h4><b>CONFIGURATION</b></h4><pre>
       wayvnc searches for a config file in the location
           ~/$XDG_CONFIG_HOME/wayvnc/config
       or if $XDG_CONFIG_HOME is not set
           <a href="file:~/.config/wayvnc/config">~/.config/wayvnc/config</a>

   <b>SYNTAX</b>
       The  configuration  file  is  composed of key-value pairs separated with an <b>equal</b> sign. Whitespace around
       either the key or the value is insignificant and is not considered to be part of the key or the value.

   <b>KEYWORDS</b>
       <b>address</b>
           The address to which the server shall bind, e.g. 0.0.0.0 or localhost.

       <b>certificate_file</b>
           The path to the certificate file for encryption. Only applicable when <b>enable_auth</b>=true.

       <b>enable_auth</b>
           Enable  authentication  and  encryption.  Setting  this  value  to   <b>true</b>   requires   also   setting
           <b>certificate_file</b>, <b>private_key_file</b>, <b>username</b> and <b>password</b>.

       <b>password</b>
           Choose a password for authentication.

       <b>port</b>
           The port to which the server shall bind. Default is 5900.

       <b>private_key_file_file</b>
           The path to the private key file for TLS encryption. Only applicable when <b>enable_auth</b>=true.

       <b>relax_encryption</b>
           Don't require encryption after the user has been authenticated. This enables some security types such
           as Apple Diffie-Hellman.

       <b>rsa_private_key_file</b>
           The path to the private key file for RSA-AES encryption. Only applicable when <b>enable_auth</b>=true.

       <b>username</b>
           Choose a username for authentication.

       <b>use_relative_paths</b>
           Make file paths relative to the location of the config file.

       <b>xkb_layout</b>
           The keyboard layout to use for key code lookup.

           Default: <u>XKB_DEFAULT_LAYOUT</u> or system default.

       <b>xkb_model</b>
           The keyboard model by which to interpret keycodes and LEDs.

           Default: "pc105"

       <b>xkb_options</b>
           A  comma  separated  list of options, through which the user specifies non-layout related preferences
           such as which key is the Compose key.

           Default: <u>XKB_DEFAULT_OPTIONS</u> or system default.

       <b>xkb_rules</b>
           The rules file describes how to interpret the values  of  the  model,  layout,  variant  and  options
           fields.

           Default: <u>XKB_DEFAULT_RULES</u> or system default.

       <b>xkb_variant</b>
           The keyboard variant to use for keycode lookup.

           Default: <u>XKB_DEFAULT_VARIANT</u> or system default.

   <b>EXAMPLE</b>
           use_relative_paths=true
           address=0.0.0.0
           enable_auth=true
           username=luser
           password=p455w0rd
           rsa_private_key_file=rsa_key.pem
           private_key_file=tls_key.pem
           certificate_file=tls_cert.pem

</pre><h4><b>WAYVNCCTL</b> <b>CONTROL</b> <b>SOCKET</b></h4><pre>
       To   facilitate   runtime   interaction   and   control,   wayvnc   opens   a   unix   domain  socket  at
       <b>$XDG_RUNTIME_DIR</b>/wayvncctl (or a fallback of /tmp/wayvncctl-<b>$UID</b>). A  client  can  connect  and  exchange
       json-formatted IPC messages to query and control the running wayvnc instance.

   <b>IPC</b> <b>COMMANDS</b>
       <u>HELP</u>

       The <b>help</b> command, when issued without any parameters, lists the names of all available commands.

       If  an  optional  <b>command</b>  parameter refers to one of those commands by name, the response data will be a
       detailed description of that command and its parameters.

       <u>EVENT-RECEIVE</u>

       The <b>event-receive</b> command registers for asynchronous server events. See  the  <u>EVENTS</u>  section  below  for
       details  on  the event message format, and the <u>IPC</u> <u>EVENTS</u> section below for a description of all possible
       server events.

       Event registration registers for all available server events and is  scoped  to  the  current  connection
       only. If a client disconnects and reconnects, it must re-register for events.

       <u>CLIENT-LIST</u>

       The <b>client-list</b> command retrieves a list of all VNC clients currently connected to wayvnc.

       <u>CLIENT-DISCONNECT</u>

       The <b>client-disconnect</b> command disconnects a single VNC client.

       Parameters:

       <b>id</b>
           Required:  The  ID of the client to disconnect.  This ID can be found from the <u>GET-CLIENTS</u> command or
           receipt of a <u>CLIENT-CONNECTED</u> event.

       <u>OUTPUT-LIST</u>

       The <b>output-list</b> command retrieves a list of all outputs known to wayvnc and whether or not  each  one  is
       currently being captured.

       <u>OUTPUT-CYCLE</u>

       For multi-output wayland displays, the <b>output-cycle</b> command switches which output is actively captured by
       wayvnc.  Running this once will switch to the next available output. If no more outputs are available, it
       cycles back to the first again.

       <u>OUTPUT-SET</u>

       For multi-output wayland displays, the <b>output-set</b> command switches which output is actively  captured  by
       wayvnc by name.

       <b>output-name=name</b>
           Required: The name of the output to capture next.

       <u>VERSION</u>

       The  <b>version</b>  command  queries  the running wayvnc instance for its version information. Much like the <u>-V</u>
       option, the response data will contain the version numbers of wayvnc, as well  as  the  versions  of  the
       neatvnc and aml components.

       <u>WAYVNC-EXIT</u>

       The <b>wayvnc-exit</b> command disconnects all clients and shuts down wayvnc.

   <b>IPC</b> <b>EVENTS</b>
       <u>CAPTURE_CHANGED</u>

       The <b>capture-changed</b> event is sent when the currently captured output changes.

       Parameters:

       <b>output=...</b>
           The name of the output now being captured.

       <u>CLIENT-CONNECTED</u>

       The <b>client-connected</b> event is sent when a new VNC client connects to wayvnc.

       Parameters:

       <b>id=...</b>
           A unique identifier for this client.

       <b>connection_count=...</b>
           The total number of connected VNC clients including this one.

       <b>address=...</b>
           The IP address of this client. May be null.

       <b>username=...</b>
           The username used to authenticate this client. May be null.

       <u>CLIENT-DISCONNECTED</u>

       The <b>client-disconnected</b> event is sent when a VNC cliwnt disconnects from wayvnc.

       Parameters:

       <b>id=...</b>
           A unique identifier for this client.

       <b>connection_count=...</b>
           The total number of connected VNC clients not including this one.

       <b>address=...</b>
           The IP address of this client. May be null.

       <b>username=...</b>
           The username used to authenticate this client. May be null.

   <b>IPC</b> <b>MESSAGE</b> <b>FORMAT</b>
       The <b><a href="../man1/wayvncctl.1.html">wayvncctl</a>(1)</b> command line utility will construct properly-formatted json ipc messages, but any client
       will  work. The client initiates the connection and sends one or more request objects, each of which will
       receive a corresponding response object.

       <b>Note</b> This message format is unstable and may change substantially over the next few releases.

       <u>REQUEST</u>

       The general form of a json-ipc request message is:

           {
                "method": "command-name",
                "id": 123,
                "params": {
                     "key1": "value1",
                     "key2": "value2",
                }
           }

       The <b>method</b> is the name of the command to be executed. Use the <b>help</b> method to query a list  of  all  valid
       method names.

       The  <b>id</b>  field  is optional and may be any valid json number or string. If provided, the response to this
       request will contain the identical id value, which the client may use to coordinate multiple requests and
       responses.

       The <b>params</b> object supplies optional parameters on a per-method basis, and may be omitted if empty.

       <u>RESPONSE</u>

           {
                "id": 123,
                "code": 0,
                "data": {
                     ...
                }
           }

       If the request had an id, the response will have an identical value for <b>id</b>.

       The numerical <b>code</b> provides an indication of how the request was handled. A value of <b>0</b>  always  signifies
       success. Any other value means failure, and varies depending on the method in question.

       The <b>data</b> object contains method-specific return data. This may be structured data in response to a query,
       a  simple  error  string in the case of a failed request, or it may be omitted entirely if the error code
       alone is sufficient.

       <u>EVENTS</u>

       Events are aaynchronous messages sent from a server to all registered  clients.  The  message  format  is
       identical to a <u>REQUEST</u>, but without an "id" field, and a client must not send a response.

       Example event message:

           {
                "method": "event-name",
                "params": {
                     "key1": "value1",
                     "key2": "value2",
                }
           }

       In  order  to receive any events, a client must first register to receive them by sending a <u>event-receive</u>
       request IPC. Once the success response has  been  sent  by  the  server,  the  client  must  expect  that
       asynchronous  event  messages  may  be  sent  by  the  server at any time, even between a request and the
       associated response.

</pre><h4><b>ENVIRONMENT</b></h4><pre>
       The following environment variables have an effect on wayvnc:

       <u>WAYLAND_DISPLAY</u>
           Specifies the name of the Wayland display that the compositor to which wayvnc shall bind  is  running
           on.

       <u>XDG_CONFIG_HOME</u>
           Specifies the location of configuration files.

       <u>XDG_RUNTIME_DIR</u>
           Specifies the default location for the wayvncctl control socket.

</pre><h4><b>FAQ</b></h4><pre>
       <b>Wayvnc</b> <b>complains</b> <b>that</b> <b>a</b> <b>protocol</b> <b>is</b> <b>not</b> <b>supported</b>

           The error might look like this:
               wl_registry@2: error 0: invalid version for global zxdg_output_manager_v1 (4): have 2, wanted 3
               ERROR: ../src/main.c: 388: Screencopy protocol not supported by compositor. Exiting. Refer to FAQ section in man page.
               ERROR: ../src/main.c: 1024: Failed to initialise wayland

           This  means  that your wayland compositor does not implement the screencopy protocol and wayvnc won't
           work with it. Screencopy is implemented by wlroots based compositors such as Sway and Wayfire.

       <b>How</b> <b>can</b> <b>I</b> <b>run</b> <b>wayvnc</b> <b>in</b> <b>headless</b> <b>mode/over</b> <b>an</b> <b>SSH</b> <b>session?</b>

           Set the environment variables <u>WLR_BACKENDS</u>=headless and <u>WLR_LIBINPUT_NO_DEVICES</u>=1 before starting the
           compositor, then run wayvnc as normal.

       <b>How</b> <b>can</b> <b>I</b> <b>pass</b> <b>my</b> <b>mod-key</b> <b>from</b> <b>Sway</b> <b>to</b> <b>the</b> <b>remote</b> <b>desktop</b> <b>session?</b>

           Create an almost empty mode in your sway config. Example:
               mode passthrough {
                    bindsym $mod+Pause mode default
               }
               bindsym $mod+Pause mode passthrough
           This makes it so that when you press $mod+Pause, all keybindings, except the one to switch back,  are
           disabled.

       <b>Not</b> <b>all</b> <b>symbols</b> <b>show</b> <b>up</b> <b>when</b> <b>I'm</b> <b>typing.</b> <b>What</b> <b>can</b> <b>I</b> <b>do</b> <b>to</b> <b>fix</b> <b>this?</b>

           Try  setting  the  keyboard layout in wayvnc to the one that most closely matches the keyboard layout
           that you're using on the client side. An exact layout isn't needed, just one that has all the symbols
           that you use.

       <b>How</b> <b>do</b> <b>I</b> <b>enable</b> <b>the</b> <b>Compose</b> <b>key?</b>

           Set "xkb_options=compose:menu" in the config file. Any key that is  not  otherwise  used  will  work.
           There just needs to be some key for wayvnc to match against.

</pre><h4><b>AUTHORS</b></h4><pre>
       Maintained    by   Andri   Yngvason   &lt;<a href="mailto:andri@yngvason.is">andri@yngvason.is</a>&gt;.   Up-to-date   sources   can   be   found   at
       https://github.com/any1/wayvnc and bugs reports or patches can be submitted to GitHub's issue tracker.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man1/wayvncctl.1.html">wayvncctl</a>(1)</b>

                                                   2025-02-12                                          <u><a href="../man1/wayvnc.1.html">wayvnc</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>