<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>gdal_calc - Command line raster calculator with numpy syntax.</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/gdal-bin">gdal-bin_3.10.2+dfsg-1build3_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       gdal_calc - Command line raster calculator with numpy syntax.

</pre><h4><b>SYNOPSIS</b></h4><pre>
          gdal_calc [--help] [--help-general]
                       --calc=expression --outfile=&lt;out_filename&gt; [-A &lt;filename&gt;]
                       [--A_band=&lt;n&gt;] [-B...-Z &lt;filename&gt;] [&lt;other_options&gt;]

       DESCRIPTION

       Command line raster calculator with numpy syntax. Use any basic arithmetic supported by numpy arrays such
       as  <b>+</b>,  <b>-</b>,  <b>*</b>,  and  <b>/</b>  along  with  logical operators such as <b>&gt;</b>.  Note that all files must have the same
       dimensions  (unless  extent  option  is  used),  but  no  projection  checking   is   performed   (unless
       projectionCheck option is used).

       <b>NOTE:</b>
          gdal_calc is a Python utility, and is only available if GDAL Python bindings are available.

       <b>--help</b> Show this help message and exit

       <b>--help-general</b>
              Gives a brief usage message for the generic GDAL commandline options and exit.

       <b>--calc=&lt;expression&gt;</b>
              Calculation  in  numpy  syntax  using  <b>+</b>,  <b>-</b>,  <b>/</b>,  <b>*</b>, or any numpy array functions (i.e. <b>log10()</b>).
              Multiple <b>--calc</b> options can be listed to produce a multiband file (GDAL &gt;= 3.2).

       <b>-A</b> <b>&lt;filename&gt;</b>
              Input gdal raster file, you can use any letter (a-z, A-Z).  (lower case supported since GDAL 3.3)

              A letter may be repeated, or several values (separated by space) can be provided  (GDAL  &gt;=  3.3).
              Since  GDAL  3.5,  wildcard  exceptions  (using ?, *) are supported for all shells/platforms.  The
              effect will be to create a 3-dim numpy array.  In such a case, the calculation  formula  must  use
              this  input  as  a  3-dim  array  and  must  return  a 2D array (see examples below).  In case the
              calculation does not return a 2D array an error would be generated.

       <b>--A_band=&lt;n&gt;</b>
              Number of raster band for file A (default 1).

       <b>--outfile=&lt;filename&gt;</b>
              Output file to generate or fill.

       <b>--NoDataValue=&lt;value&gt;</b>
              Output NoDataValue (default datatype specific value).  To indicate not setting a  NoDataValue  use
              --NoDataValue=none (GDAL &gt;= 3.3)

              <b>NOTE:</b>
                 Using  the  Python API: <b>None</b> value will indicate default datatype specific value.  <b>'none'</b> value
                 will indicate not setting a NoDataValue.

       <b>--hideNoData</b>
              New in version 3.3.

              Ignores  the  input  bands  NoDataValue.   By  default,  the  input  bands  NoDataValue  are   not
              participating  in  the  calculation.   By  setting  this  setting  -  no special treatment will be
              performed on the input NoDataValue. and they will be participating in the calculation as any other
              value.  The output will not have a set NoDataValue, unless you  explicitly  specified  a  specific
              value by setting --NoDataValue=&lt;value&gt;.

       <b>--type=&lt;datatype&gt;</b>
              Output datatype, must be one of [<b>Byte</b>, <b>Int8</b>, <b>UInt16</b>, <b>Int16</b>, <b>UInt32</b>, <b>Int32</b>, <b>UInt64</b>, <b>Int64</b>, <b>Float64</b>,
              <b>Float32</b>, <b>CInt16</b>, <b>CInt32</b>, <b>CFloat64</b>, <b>CFloat32</b>].

              <b>NOTE:</b>
                 Despite  the  datatype  set  using  <b>--type</b>, when doing intermediate arithmetic operations using
                 operands of the same type, the operation result will honor the original datatype. This may lead
                 into unexpected results in the final result.

              <b>NOTE:</b>
                 UInt64, Int64, CInt16, CInt32, CFloat32, CFloat64 have been added in GDAL 3.5.3 Int8  has  been
                 added in GDAL 3.7

       <b>--format=&lt;gdal_format&gt;</b>
              GDAL format for output file.

       <b>--color-table=&lt;filename&gt;</b>
              Allows  specifying  a  filename  of  a  color  table  (or a ColorTable object) (with Palette Index
              interpretation) to be used for the output raster.  Supported formats: txt (i.e. like gdaldem,  but
              color names are not supported), qlr, qml (i.e. exported from QGIS)

       <b>--extent=&lt;option&gt;</b>
              New in version 3.3.

              This  option  determines  how  to  handle rasters with different extents.  This option is mutually
              exclusive with the <u>projwin</u> option, which is used for providing a custom extent.

              For all the options below the pixel size (resolution) and SRS (Spatial Reference  System)  of  all
              the input rasters must be the same.

              <b>ignore</b> (default) - only the dimensions of the rasters are compared. if the dimensions do not agree
              the operation will fail.

              <b>fail</b>  -  the dimensions and the extent (bounds) of the rasters must agree, otherwise the operation
              will fail.

              <b>union</b> - the extent (bounds) of the output will be the minimal  rectangle  that  contains  all  the
              input extents.

              <b>intersect</b>  -  the extent (bounds) of the output will be the maximal rectangle that is contained in
              all the input extents.

       <b>--projwin</b> <b>&lt;ulx&gt;</b> <b>&lt;uly&gt;</b> <b>&lt;lrx&gt;</b> <b>&lt;lry&gt;</b>
              New in version 3.3.

              This option provides a custom extent for the output, it is  mutually  exclusive  with  the  <u>extent</u>
              option.

       <b>--projectionCheck</b>
              New in version 3.3.

              By  default,  no projection checking will be performed.  By setting this option, if the projection
              is not the same for all bands then the operation will fail.

       <b>--creation-option=&lt;option&gt;</b>
              Passes a creation option to the output format driver.  Multiple options may be listed. See  format
              specific documentation for legal creation options for each format.

       <b>--co=&lt;option&gt;</b>
              The same as <u>creation-option</u>.

       <b>--allBands=[a-z,</b> <b>A-Z]</b>
              Process all bands of given raster (a-z, A-Z). Requires a single calc for all bands.

       <b>--overwrite</b>
              Overwrite  output  file  if it already exists. Overwriting must be understood here as deleting and
              recreating the file from scratch. Note that if this option is <u>not</u> specified and  the  output  file
              already exists, it will be updated in place.

       <b>--debug</b>
              Print debugging information.

       <b>--quiet</b>
              Suppress progress messages.

</pre><h4><b>PYTHON</b> <b>OPTIONS</b></h4><pre>
       New in version 3.3.

       The  following  options  are available by using function the python interface of gdal_calc.  They are not
       available using the command prompt.

       <b>user_namespace</b>
              A dictionary of custom functions or other names to be available for use in the Calc expression.

       <b>return_ds</b>
              If enabled, the output dataset would be returned from the function and not closed.

       <b>color_table</b>
              Allows specifying a ColorTable object (with Palette Index  interpretation)  to  be  used  for  the
              output raster.

</pre><h4><b>EXAMPLES</b></h4><pre>
       Add two files together:

          gdal_calc -A input1.tif -B input2.tif --outfile=result.tif --calc="A+B"

       Average of two layers:

          gdal_calc -A input1.tif -B input2.tif --outfile=result.tif --calc="(A+B)/2"

       <b>NOTE:</b>
          In the previous example, beware that if A and B inputs are of the same datatype, for example integers,
          you may need to force the conversion of one of the operands before the division operation.

              gdal_calc -A input.tif -B input2.tif --outfile=result.tif --calc="(A.astype(numpy.float64) + B) / 2"

       Add three files together (two options with the same result):

          gdal_calc -A input1.tif -B input2.tif -C input3.tif --outfile=result.tif --calc="A+B+C"

          gdal_calc -A input1.tif -A input2.tif -A input3.tif --outfile=result.tif --calc="numpy.sum(A,axis=0)".

       Average of three layers (two options with the same result):

          gdal_calc -A input1.tif -B input2.tif -C input3.tif --outfile=result.tif --calc="(A+B+C)/3"

          gdal_calc -A input1.tif input2.tif input3.tif --outfile=result.tif --calc="numpy.average(a,axis=0)".

       Maximum of three layers  (two options with the same result):

          gdal_calc -A input1.tif -B input2.tif -C input3.tif --outfile=result.tif --calc="numpy.max((A,B,C),axis=0)"

          gdal_calc -A input1.tif input2.tif input3.tif --outfile=result.tif --calc="numpy.max(A,axis=0)"

       Set values of zero and below to null:

          gdal_calc -A input.tif --outfile=result.tif --calc="A*(A&gt;0)" --NoDataValue=0

       Using logical operator to keep a range of values from input:

          gdal_calc -A input.tif --outfile=result.tif --calc="A*logical_and(A&gt;100,A&lt;150)"

       Work with multiple bands:

          gdal_calc -A input.tif --A_band=1 -B input.tif --B_band=2 \
            --outfile=result.tif --calc="(A+B)/2" --calc="B*logical_and(A&gt;100,A&lt;150)"

</pre><h4><b>AUTHOR</b></h4><pre>
       Chris  Yesson  &lt;chris  dot yesson at ioz dot ac dot uk&gt;, Etienne Tourigny &lt;etourigny dot dev at gmail dot
       com&gt;

</pre><h4><b>COPYRIGHT</b></h4><pre>
       1998-2025

                                                  Feb 11, 2025                                      <u><a href="../man1/GDAL_CALC.1.html">GDAL_CALC</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>