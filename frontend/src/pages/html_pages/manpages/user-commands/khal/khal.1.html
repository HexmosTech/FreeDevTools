<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>khal - khal Documentation</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/khal">khal_0.11.3-5_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       khal - khal Documentation

       Khal is a calendar program for the terminal for viewing, adding and editing events and calendars. Khal is
       build on the iCalendar and vdir (allowing the use of <b><a href="../man1/vdirsyncer.1.html">vdirsyncer</a>(1)</b> for CalDAV compatibility) standards.

</pre><h4><b>USAGE</b></h4><pre>
       Khal  offers  a  set  of  commands,  most  importantly  <b>list</b>, <b>calendar</b>, <b>interactive</b>, <b>new</b>, <b>printcalendars</b>,
       <b>printformats</b>, and <b>search</b>. See below for a description of what every command does. <b>khal</b> does currently not
       support any default command, i.e.,  run  a  command,  even  though  none  has  been  specified.  This  is
       intentional.

   <b>Options</b>
       <b>khal</b> (without any commands) has some options to print some information about <b>khal</b>:

       <b>--version</b>
              Prints khal's version number and exits

       <b>-h,</b> <b>--help</b>
              Prints a summary of khal's options and commands and then exits

       Several options are common to almost all of <b>khal</b>'s commands (exceptions are described below):

       <b>-v,</b> <b>--verbosity</b> <b>LVL</b>
              Configure  verbosity  (e.g.  print debugging information), <u>LVL</u> needs to be one of CRITICAL, ERROR,
              WARNING, INFO, or DEBUG.

       <b>-l,</b> <b>--logfile</b> <b>LOFILE</b>
              Use logfile <u>LOGFILE</u> for logging, default is logging to stdout.

       <b>-c</b> <b>CONFIGFILE</b>
              Use an alternate configuration file.

       <b>-a</b> <b>CALENDAR</b>
              Specify a calendar to use (which must be configured  in  the  configuration  file),  can  be  used
              several times. Calendars not specified will be disregarded for this run.

       <b>-d</b> <b>CALENDAR</b>
              Specify a calendar which will be disregarded for this run, can be used several times.

       <b>--color/--no-color</b>
              <b>khal</b>  will  detect  if standard output is not a tty, e.g., you redirect khal's output into a file,
              and if so remove all highlighting/coloring from its output. Use  <b>--color</b>  if  you  want  to  force
              highlighting/coloring and <b>--no-color</b> if you want coloring always removed.

       <b>--format</b> <b>FORMAT</b>
              For  all  of khal's commands that print events, the formatting of that event can be specified with
              this option.  <b>FORMAT</b> is a template string, in which identifiers delimited  by  curly  braces  (<u>{}</u>)
              will  be  expanded  to  an  event's properties.  <b>FORMAT</b> supports all formatting options offered by
              python's <u>str.format()</u> &lt;<b>https://docs.python.org/3/library/string.html#formatstrings</b>&gt; (as it is used
              internally).  The available template options are:

              <b>title</b>  The title of the event.

              <b>description</b>
                     The description of the event.

              <b>description-separator</b>
                     A separator: " :: " that appears when there is a description.

              <b>uid</b>    The UID of the event.

              <b>start</b>  The start datetime in datetimeformat.

              <b>start-long</b>
                     The start datetime in longdatetimeformat.

              <b>start-date</b>
                     The start date in dateformat.

              <b>start-date-long</b>
                     The start date in longdateformat.

              <b>start-time</b>
                     The start time in timeformat.

              <b>end</b>    The end datetime in datetimeformat.

              <b>end-long</b>
                     The end datetime in longdatetimeformat.

              <b>end-date</b>
                     The end date in dateformat.

              <b>end-date-long</b>
                     The end date in longdateformat.

              <b>end-time</b>
                     The end time in timeformat.

              <b>repeat-symbol</b>
                     A repeating symbol (loop arrow) if the event is repeating.

              <b>alarm-symbol</b>
                     An alarm symbol (alarm clock) if the event has at least one alarm.

              <b>location</b>
                     The event location.

              <b>calendar</b>
                     The calendar name.

              <b>calendar-color</b>
                     Changes the output color to the calendar's color.

              <b>start-style</b>
                     The start time in timeformat OR an appropriate symbol.

              <b>to-style</b>
                     A hyphen "-" or nothing such that it appropriately fits between start-style and end-style.

              <b>end-style</b>
                     The end time in timeformat OR an appropriate symbol.

              <b>start-end-time-style</b>
                     A concatenation of start-style, to-style, and end-style OR an appropriate symbol.

              <b>end-necessary</b>
                     For an allday event this is an empty  string  unless  the  end  date  and  start  date  are
                     different.  For  a  non-allday  event  this will show the time or the datetime if the event
                     start and end date are different.

              <b>end-necessary-long</b>
                     Same as end-necessary but uses datelong and datetimelong.

              <b>status</b> The status of the event (if this event has one), something like <u>CONFIRMED</u> or <u>CANCELLED</u>.

              <b>cancelled</b>
                     The string <u>CANCELLED</u> (plus one  blank)  if  the  event's  status  is  cancelled,  otherwise
                     nothing.

              <b>organizer</b>
                     The  organizer  of  the event. If the format has CN then it returns "CN (email)" if CN does
                     not   exist   it   returns   just   the   email    string.    Example:    ORGANIZER;CN=Name
                     Surname:<a href="mailto:name@mail.com">mailto:name@mail.com</a>  returns  Name  Surname  (<a href="mailto:name@mail.com">name@mail.com</a>)  and  if it has no CN
                     attribute     it     returns     the      last      element      after      the      colon:
                     ORGANIZER;SENT-BY="<a href="mailto:toemail@mail.com">mailto:toemail@mail.com</a>":<a href="mailto:name@mail.com">mailto:name@mail.com</a> returns <a href="mailto:name@mail.com">name@mail.com</a>

              <b>url</b>    The URL embedded in the event, otherwise nothing.

              By  default,  all-day events have no times. To see a start and end time anyway simply add <u>-full</u> to
              the end of any template with start/end, for instance <u>start-time</u> becomes <u>start-time-full</u>  and  will
              always show start and end times (instead of being empty for all-day events).

              In  addition,  there  are colors: <u>black</u>, <u>red</u>, <u>green</u>, <u>yellow</u>, <u>blue</u>, <u>magenta</u>, <u>cyan</u>, <u>white</u> (and their
              bold versions: <u>red-bold</u>, etc.). There is also <u>reset</u>, which clears the styling, and <u>bold</u>, which  is
              the normal bold.

              A  few control codes are exposed.  You can access newline (<u>nl</u>), 'tab', and 'bell'.  Control codes,
              such as <u>nl</u>, are best used with <u>--list</u> mode.

              Below is an example command which prints the title and description of all events today.

                 khal list --format "{title} {description}"

       <b>--day-format</b> <b>DAYFORMAT</b>
              works similar to <u>--format</u>, but for day headings. It only has a few options (in addition to all the
              color options):

              <b>date</b>   The date in dateformat.

              <b>date-long</b>
                     The date in longdateformat.

              <b>name</b>   The date's name (<u>Monday</u>, <u>Tuesday</u>,â€¦) or <u>today</u> or <u>tomorrow</u>.

              If the <u>--day-format</u> is passed an empty string then it will not print the day headers (for an empty
              line pass in a whitespace character).

   <b>dates</b>
       Almost everywhere khal accepts dates, khal should recognize relative date names like <u>today</u>, <u>tomorrow</u>  and
       the  names  of  the  days  of  the  week  (also  in  three  letters abbreviated form). Week day names get
       interpreted as the date of the next occurrence of a day with that name. The name of the current day  gets
       interpreted as that date <u>next</u> week (i.e. seven days from now).

       If  a short datetime format is used (no year is given), khal will interpret the date to be in the future.
       The inferred it might be in the next year if the given date has already passed in the current year.

   <b>Commands</b>
   <b>list</b>
       shows all events scheduled for a given date (or datetime) range, with custom formatting:

          khal list [-a CALENDAR ... | -d CALENDAR ...] [--format FORMAT]
          [--day-format DAYFORMAT] [--once] [--notstarted] [START [END | DELTA] ]

       START and END can both be given as dates, datetimes or times (it is assumed today is meant in the case of
       only a given time) in the formats configured in the configuration file.  If END is not given, midnight of
       the start date is assumed. Today is used for START if it is not explicitly given.  If DELTA, a (date)time
       range in the format <u>I{m,h,d}</u>, where <u>I</u> is an integer and <u>m</u> means minutes, <u>h</u> means hours, and <u>d</u> means days,
       is given, END is assumed to be START + DELTA.  A value of <u>eod</u> is also accepted as DELTA and means the end
       of day of the start date. In addition, the DELTA <u>week</u> may be used to specify that  the  daterange  should
       actually be the week containing the START.

       The  <u>--once</u>  option  only  allows  events  to  appear  once  even  if they are on multiple days. With the
       <u>--notstarted</u> option only events are shown that start after <u>START</u>.

   <b>at</b>
       shows all events scheduled for a given datetime. <b>khal</b> <b>at</b> should be supplied with a date and time, a  time
       (the  date  is then assumed to be today) or the string <u>now</u>. <b>at</b> defaults to <u>now</u>. The <b>at</b> command works just
       like the <b>list</b> command, except it has an implicit end time of zero minutes after the start.

          khal at [-a CALENDAR ... | -d CALENDAR ...] [--format FORMAT]
          [--notstarted] [[START DATE] TIME | now]

   <b>calendar</b>
       shows a calendar (similar to <b><a href="../man1/cal.1.html">cal</a>(1)</b>) and list. <b>khal</b> <b>calendar</b> should understand the following syntax:

          khal calendar [-a CALENDAR ... | -d CALENDAR ...] [START DATETIME]
          [END DATETIME]

       Date selection works exactly as for <b>khal</b> <b>list</b>. The displayed calendar contains three consecutive  months,
       where  the  first  month  is  the  month  containing  the  first  given date. If today is included, it is
       highlighted.  Have a look at <b>khal</b> <b>list</b> for a description of the options.

   <b>configure</b>
       will help users creating an initial configuration file. <b>configure</b> will refuse to run if there already  is
       a configuration file.

   <b>import</b>
       lets the user import <b>.ics</b> files with the following syntax:

          khal import [-a CALENDAR] [--batch] [--random-uid|-r] ICSFILE

       If  an  event with the same UID is already present in the (implicitly) selected calendar <b>khal</b> <b>import</b> will
       ask before updating (i.e. overwriting) that old event with the imported one,  unless  --batch  is  given,
       than  it  will  always  update. If this behaviour is not desired, use the <u>--random-uid</u> flag to generate a
       new, random UID.  If no calendar is specified (and not <u>--batch</u>), you will be asked to choose a  calendar.
       You  can either enter the number printed behind each calendar's name or any unique prefix of a calendar's
       name.

   <b>interactive</b>
       invokes the interactive version of khal, can also be invoked by calling <b>ikhal</b>. While ikhal  can  be  used
       entirely with the keyboard, some elements respond if clicked on with a mouse (mostly by being selected).

       When the calendar on the left is in focus, you can

          â€¢ move  through  the  calendar  (default  keybindings  are  the arrow keys, <b>space</b> and <b>backspace</b>, those
            keybindings are configurable in the config file)

          â€¢ focus on the right column by pressing <b>tab</b> or <b>enter</b>

          â€¢ re-focus on the current date, default keybinding <b>t</b> as in today

          â€¢ marking a date range, default keybinding <b>v</b>, as in visual, think visual mode  in  Vim,  pressing  <b>esc</b>
            escapes this visual mode

          â€¢ if  in visual mode, you can select the other end of the currently marked range, default keybinding <b>o</b>
            as in other (again as in Vim)

          â€¢ create a new event on the currently focused day (or date range if  a  range  is  selected),  default
            keybinding <b>n</b> as in new

          â€¢ search for events, default keybinding <b>/</b>, a pop-up will ask for your search term

       When an event list is in focus, you can

          â€¢ view  an event's details with pressing <b>enter</b> (or <b>tab</b>) and edit it with pressing <b>enter</b> (or <b>tab</b>) again
            (if <b>[default]</b> <b>event_view_always_visible</b> is set to True, the event in focus will always be  shown  in
            detail)

          â€¢ toggle  an  event's  deletion  status, default keybinding <b>d</b> as in delete, events marked for deletion
            will appear with a <b>D</b> in front and will be deleted when khal exits.

          â€¢ duplicate the selected event, default keybinding <b>p</b> as in duplicate (d was already taken)

          â€¢ export the selected event, default keybinding <b>e</b>

       In the event editor, you can

       â€¢ jump to the next (previous) selectable element with pressing <b>tab</b> (<b>shift+tab</b>)

       â€¢ quick save, default keybinding <b>meta+enter</b> (<b>meta</b> will probably be <b>alt</b>)

       â€¢ use some common editing short cuts in most text fields  (<b>ctrl+w</b>  deletes  word  before  cursor,  <b>ctrl+u</b>
         (<b>ctrl+k</b>) deletes till the beginning (end) of the line, <b>ctrl+a</b> (<b>ctrl+e</b>) will jump to the beginning (end)
         of the line

       â€¢ in the date and time fields you can increment and decrement the number under the cursor with <b>ctrl+a</b> and
         <b>ctrl+x</b> (time in 15 minute steps)

       â€¢ in the date fields you can access a miniature calendar by pressing <u>enter</u>

       â€¢ activate  actions by pressing <b>enter</b> on text enclosed by angled brackets, e.g.  &lt; Save &gt; (sometimes this
         might open a pop up)

       Pressing <b>esc</b> will cancel the current action and/or take you back to the previously shown pane (i.e.  what
       you see when you open ikhal), if you are at the start pane, ikhal will quit on pressing <b>esc</b> again.

   <b>new</b>
       allows for adding new events. <b>khal</b> <b>new</b> should understand the following syntax:

          khal new [-a CALENDAR] [OPTIONS] [START [END | DELTA] [TIMEZONE] SUMMARY
          [:: DESCRIPTION]]

       where start- and enddatetime are either datetimes, times, or keywords and times in the formats defined in
       the  config  file.  If no calendar is given via <u>-a</u>, the default calendar is used. <b>new</b> does not support <u>-d</u>
       and also <u>-a</u> may only be used once.

       <b>new</b> accepts these combinations for start and endtimes (specifying the end is always optional):

          â€¢ <u>datetime</u> <u>[datetime|time]</u> <u>[timezone]</u>

          â€¢ <u>time</u> <u>[time]</u> <u>[timezone]</u>

          â€¢ <u>date</u> <u>[date]</u>

       where the formats for datetime and time are as follows:

          â€¢ <u>datetime</u> <u>=</u> <u>(longdatetimeformat|datetimeformat|keyword-date</u> <u>timeformat)</u>

          â€¢ <u>time</u> <u>=</u> <u>timeformat</u>

          â€¢ <u>date</u> <u>=</u> <u>(longdateformat|dateformat)</u>

       and <u>timezone</u>, which describes the timezone the events start and end time are in, should be a valid  Olson
       DB  identifier  (like  <u>Europe/Berlin</u> or <u>America/New_York</u>. If no timezone is given, the <u>defaulttimezone</u> as
       configured in the configuration file is used instead.

       The exact format of longdatetimeformat, datetimeformat, timeformat, longdateformat and dateformat can  be
       configured  in the configuration file.  Valid keywords for dates are <u>today</u>, <u>tomorrow</u>, the English name of
       all seven weekdays and their three letter abbreviations (their next occurrence is used).

       If no end is given, the default length of one hour or one day (for all-day events) is  used.  If  only  a
       start  time is given the new event is assumed to be starting today. If only a time is given for the event
       to end on, the event ends on the same day it starts on, unless that would make the event  end  before  it
       has started, then the next day is used as end date

       If a 24:00 time is configured (timeformat = %H:%M) an end time of <u>24:00</u> is accepted as the end of a given
       date.

       If  the <b>summary</b> contains the string <u>::</u>, everything after <u>::</u> is taken as the <b>description</b> of the new event,
       i.e., the "body" of the event (and <u>::</u> will be removed).

       Passing the option  <b>--interactive</b>  (<u>-i</u>  &lt;<b>/usr/share/doc/python3-doc/html/using/cmdline.html#cmdoption-i</b>&gt;)
       makes all arguments optional and interactively prompts for required fields, then the event may be edited,
       the same way as in the <u>edit</u> command.

   <b>Options</b>
       â€¢ <b>-l,</b> <b>--location=LOCATION</b> specify where this event will be held.

       â€¢ <b>-g,</b>  <b>--categories=CATEGORIES</b>  specify  which categories this event belongs to.  Comma separated list of
         categories. Beware: some servers (e.g. SOGo) do not support multiple categories.

       â€¢ <b>-r,</b> <b>--repeat=RRULE</b> specify if and how this event should be  recurring.   Valid  values  for  <u>RRULE</u>  are
         <u>daily</u>, <u>weekly</u>, <u>monthly</u> and <u>yearly</u>

       â€¢ <b>-u,</b> <b>--until=UNTIL</b> specify until when a recurring event should run

       â€¢ <b>--url</b> specify the URL element of the event

       â€¢ <b>--alarms</b>  <b>DURATION,...</b>  will  add alarm times as DELTAs comma separated for this event, <u>DURATION</u> should
         look like <u>1day</u> <u>10minutes</u> or <u>1d3H10m</u>, negative <u>DURATIONs</u> will set alarm after the start of the event.

   <b>Examples</b>
       These may need to be adapted for your configuration and/or locale (START and END need to match the format
       configured). See <b>printformats</b>.

          khal new 18:00 Awesome Event

       adds a new event starting today at 18:00 with summary 'awesome event' (lasting for the  default  time  of
       one hour) to the default calendar

          khal new tomorrow 16:30 Coffee Break

       adds a new event tomorrow at 16:30

          khal new 25.10. 18:00 24:00 Another Event :: with Alice and Bob

       adds a new event on 25th of October lasting from 18:00 to 24:00 with an additional description

          khal new -a work 26.07. Great Event -g meeting -r weekly

       adds a new all day event on 26th of July to the calendar <u>work</u> in the <u>meeting</u> category, which recurs every
       week.

   <b>edit</b>
       an interactive command for editing and deleting events using a search string

          khal edit [--show-past] event_search_string

       the  command  will loop through all events that match the search string, prompting the user to delete, or
       change attributes.

   <b>printcalendars</b>
       prints a list of all configured calendars.

   <b>printformats</b>
       prints a fixed date (<u>2013-12-21</u> <u>21:45</u>) in all configured date(time) formats.  This is  supposed  to  help
       check if those formats are configured as intended.

   <b>search</b>
       search  for  events  matching  a search string and print them.  Currently, search will print one line for
       every different event in a recurrence set, that is one line for the master event, and one line for  every
       different overwritten event.  No advanced search features are currently supported.

       The command

          khal search party

       prints all events matching <u>party</u>.

</pre><h4><b>CONFIGURATION</b></h4><pre>
       <b>khal</b>  reads configuration files in the <u>ini</u> syntax, meaning it understands keys separated from values by a
       <b>=</b>, while  section  and  subsection  names  are  enclosed  by  single  or  double  square  brackets  (like
       <b>[sectionname]</b> and <b>[[subsectionname]]</b>). Any line beginning with a <b>#</b> will be treated as a comment.

   <b>Help</b> <b>with</b> <b>initial</b> <b>configuration</b>
       If you do not have a configuration file yet, running <b>khal</b> <b>configure</b> will launch a small, interactive tool
       that should help you with initial configuration of <b>khal</b>.

   <b>Location</b> <b>of</b> <b>configuration</b> <b>file</b>
       <b>khal</b>  is  looking for configuration files in the following places and order: <b>$XDG_CONFIG_HOME/khal/config</b>
       (on most systems this  is  <b><a href="file:~/.config/khal/config">~/.config/khal/config</a></b>),  <b><a href="file:~/.khal/khal.conf">~/.khal/khal.conf</a></b>  (deprecated)  and  a  file  called
       <b>khal.conf</b>  in the current directory (deprecated).  Alternatively you can specify which configuration file
       to use with <b>-c</b> <b>path/to/config</b> at runtime.

   <b>The</b> <b>[calendars]</b> <b>section</b>
       The <u>[calendars]</u> section is mandatory and must contain at least one  subsection.   Every  subsection  must
       have  a  unique  name (enclosed by two square brackets).  Each subsection needs exactly one <u>path</u> setting,
       everything else is optional.  Here is a small example:

          [calendars]

            [[home]]
              path = <a href="file:~/.calendars/home/">~/.calendars/home/</a>
              color = dark green
              priority = 20

            [[work]]
              path = <a href="file:~/.calendars/work/">~/.calendars/work/</a>
              readonly = True

       <b>color</b>  khal will use this color for coloring this  calendar's  event.   The  following  color  names  are
              supported: <u>black</u>, <u>white</u>, <u>brown</u>, <u>yellow</u>, <u>dark</u> <u>gray</u>, <u>dark</u> <u>green</u>, <u>dark</u> <u>blue</u>, <u>light</u> <u>gray</u>, <u>light</u> <u>green</u>,
              <u>light</u> <u>blue</u>, <u>dark</u> <u>magenta</u>, <u>dark</u> <u>cyan</u>, <u>dark</u> <u>red</u>, <u>light</u> <u>magenta</u>, <u>light</u> <u>cyan</u>, <u>light</u> <u>red</u>.  Depending on
              your  terminal  emulator's  settings,  they might look different than what their name implies.  In
              addition to the 16 named colors an index from the 256-color palette or a 24-bit color code can  be
              used,  if  your  terminal supports this.  The 256-color palette index is simply a number between 0
              and 255.  The 24-bit color must be given as #RRGGBB, where RR, GG, BB is the hexadecimal value  of
              the  red, green and blue component, respectively.  When using a 24-bit color, make sure to enclose
              the color value in ' or "!  If <u>color</u> is set to <u>auto</u> (the default), khal looks for a color value in
              a <u>color</u> file in this calendar's vdir. If the <u>color</u> file does not  exist,  the  default_color  (see
              below)  is  used.  If  color is set to '', the default_color is always used. Note that you can use
              <u>vdirsyncer</u> <u>metasync</u> to synchronize colors with your caldav server.

                 <b>type</b>   color

                 <b>default</b>
                        auto

       <b>path</b>   The path to an existing directory where this calendar is  saved  as  a  <u>vdir</u>.   The  directory  is
              searched  for events or birthdays (see <b>type</b>). The path also accepts glob expansion via <u>*</u> or <u>?</u> when
              type is set to discover.  <u>**</u> means arbitrary depths of directories.  This allows for paths such as
              <u><a href="file:~/accounts/">~/accounts/</a>*/calendars/*</u>, where the calendars directory contains vdir  directories.  In  addition,
              <u><a href="file:~/calendars/">~/calendars/</a>*</u>  and  <u><a href="file:~/calendars/default">~/calendars/default</a></u>  are  valid  paths  if  there exists a vdir in the <u>default</u>
              directory. (The previous behavior of recursively searching  directories  has  been  replaced  with
              globbing).

                 <b>type</b>   string

                 <b>default</b>
                        None

       <b>priority</b>
              When  coloring days, the color will be determined based on the calendar with the highest priority.
              If the priorities are equal, then the "multiple" color will be used.

                 <b>type</b>   integer

                 <b>default</b>
                        10

       <b>readonly</b>
              setting this to <u>True</u>, will keep khal from making any changes to this calendar

                 <b>type</b>   boolean

                 <b>default</b>
                        False

       <b>type</b>   Setting the type of this collection (default <b>calendar</b>).

              If set to <b>calendar</b> (the default), this collection will be used as a standard  calendar,  that  is,
              only  files  with the <b>.ics</b> extension will be considered, all other files are ignored (except for a
              possible <u>color</u> file).

              If set to <b>birthdays</b> khal will expect a VCARD collection and extract birthdays from  those  VCARDS,
              that  is  only  files  with  <b>.vcf</b>  extension  will be considered, all other files will be ignored.
              <b>birthdays</b> also implies <b>readonly=True</b>.

              If set to <b>discover</b>, khal will use <u>globbing</u>  &lt;<b>https://en.wikipedia.org/wiki/Glob_(programming)</b>&gt;  to
              expand  this  calendar's  <u>path</u>  to  (possibly) several paths and use those as individual calendars
              (this cannot be used with <u>birthday</u> collections`). See <u>Exemplary</u> <u>discover</u> <u>usage</u> for an example.

              If an individual calendar vdir has a <u>color</u> file, the calendar's color  will  be  set  to  the  one
              specified in the <u>color</u> file, otherwise the color from the <u>calendars</u> subsection will be used.

                 <b>type</b>   option, allowed values are <u>calendar</u>, <u>birthdays</u> and <u>discover</u>

                 <b>default</b>
                        calendar

   <b>The</b> <b>[default]</b> <b>section</b>
       Some default values and behaviors are set here.

       <b>default_calendar</b>
              The  calendar to use if none is specified for some operation (e.g. if adding a new event). If this
              is not set, such operations require an explicit value.

                 <b>type</b>   string

                 <b>default</b>
                        None

       <b>default_dayevent_duration</b>
              Define the default duration for an event ('khal new' only)

                 <b>type</b>   timedelta

                 <b>default</b>
                        1h

       <b>default_event_duration</b>
              Define the defaut duration for a day-long event ('khal new' only)

                 <b>type</b>   timedelta

                 <b>default</b>
                        1d

       <b>highlight_event_days</b>
              If true, khal will highlight days with events. Options for highlighting  are  in  [highlight_days]
              section.

                 <b>type</b>   boolean

                 <b>default</b>
                        False

       <b>print_new</b>
              After  adding  a  new event, what should be printed to standard out? The whole event in text form,
              the path to where the event is now saved or nothing?

                 <b>type</b>   option, allowed values are <u>event</u>, <u>path</u> and <u>False</u>

                 <b>default</b>
                        False

       <b>show_all_days</b>
              By default, khal displays only dates with events in <u>list</u> or <u>calendar</u> view.  Setting this  to  <u>True</u>
              will show all days, even when there is no event scheduled on that day.

                 <b>type</b>   boolean

                 <b>default</b>
                        False

       <b>timedelta</b>
              Controls for how many days into the future we show events (for example, in <u>khal</u> <u>list</u>) by default.

                 <b>type</b>   timedelta

                 <b>default</b>
                        2d

   <b>The</b> <b>[highlight_days]</b> <b>section</b>
       When  highlight_event_days  is  enabled,  this section specifies how the highlighting/coloring of days is
       handled.

       <b>color</b>  What color to use when highlighting -- explicit color or use calendar color when set to ''

                 <b>type</b>   color

                 <b>default</b>

       <b>default_color</b>
              Default color for calendars without color -- when set to '' it actually disables highlighting  for
              events that should use the default color.

                 <b>type</b>   color

                 <b>default</b>

       <b>method</b> Highlighting method to use -- foreground or background

                 <b>type</b>   option, allowed values are <u>foreground</u>, <u>fg</u>, <u>background</u> and <u>bg</u>

                 <b>default</b>
                        fg

       <b>multiple</b>
              How  to  color days with events from multiple calendars -- either explicit color or use calendars'
              colors when set to ''

                 <b>type</b>   color

                 <b>default</b>

       <b>multiple_on_overflow</b>
              When <u>multiple</u> is set to a specific color, setting this to <u>True</u> will cause khal to use  that  color
              only  for  days with events from 3 or more calendars (hence preserving the two-color-highlight for
              days where all calendar colors can be displayed)

                 <b>type</b>   boolean

                 <b>default</b>
                        False

   <b>The</b> <b>[keybindings]</b> <b>section</b>
       Keybindings for <b>ikhal</b> are set here. You can bind  more  than  one  key  (combination)  to  a  command  by
       supplying  a  comma-separated  list  of keys.  For binding key combinations concatenate them keys (with a
       space in between), e.g. <b>ctrl</b> <b>n</b>.

       <b>delete</b> delete the currently selected event

                 <b>type</b>   list

                 <b>default</b>
                        d

       <b>down</b>   move the cursor down (in the calendar browser)

                 <b>type</b>   list

                 <b>default</b>
                        down, j

       <b>duplicate</b>
              duplicate the currently selected event

                 <b>type</b>   list

                 <b>default</b>
                        p

       <b>export</b> export event as a .ics file

                 <b>type</b>   list

                 <b>default</b>
                        e

       <b>external_edit</b>
              edit the currently selected events' raw .ics file with $EDITOR Only use this, if you know what you
              are doing, the icalendar library we use doesn't do a lot of  validation,  it  silently  disregards
              most invalid data.

                 <b>type</b>   list

                 <b>default</b>
                        meta E

       <b>left</b>   move the cursor left (in the calendar browser)

                 <b>type</b>   list

                 <b>default</b>
                        left, h, backspace

       <b>log</b>    show logged messages

                 <b>type</b>   list

                 <b>default</b>
                        L

       <b>mark</b>   go into highlight (visual) mode to choose a date range

                 <b>type</b>   list

                 <b>default</b>
                        v

       <b>new</b>    create a new event on the selected date

                 <b>type</b>   list

                 <b>default</b>
                        n

       <b>other</b>  in highlight mode go to the other end of the highlighted date range

                 <b>type</b>   list

                 <b>default</b>
                        o

       <b>quit</b>   quit

                 <b>type</b>   list

                 <b>default</b>
                        q, Q

       <b>right</b>  move the cursor right (in the calendar browser)

                 <b>type</b>   list

                 <b>default</b>
                        right, l, space

       <b>save</b>   save the currently edited event and leave the event editor

                 <b>type</b>   list

                 <b>default</b>
                        meta enter

       <b>search</b> open a text field to start a search for events

                 <b>type</b>   list

                 <b>default</b>
                        /

       <b>today</b>  focus the calendar browser on today

                 <b>type</b>   list

                 <b>default</b>
                        t

       <b>up</b>     move the cursor up (in the calendar browser)

                 <b>type</b>   list

                 <b>default</b>
                        up, k

       <b>view</b>   show details or edit (if details are already shown) the currently selected event

                 <b>type</b>   list

                 <b>default</b>
                        enter

   <b>The</b> <b>[locale]</b> <b>section</b>
       It is mandatory to set (long)date-, time-, and datetimeformat options, all others options in the <b>[locale]</b>
       section are optional and have (sensible) defaults.

       <b>dateformat</b>
              khal will display and understand all dates in this format, see <u>timeformat</u> for the format

                 <b>type</b>   string

                 <b>default</b>
                        %x

       <b>datetimeformat</b>
              khal will display and understand all datetimes in this format, see <u>timeformat</u> for the format.

                 <b>type</b>   string

                 <b>default</b>
                        %c

       <b>default_timezone</b>
              this  timezone  will be used for new events (when no timezone is specified) and when khal does not
              understand the timezone specified in the icalendar file.  If no timezone is set, the timezone your
              computer is set to will be used.

                 <b>type</b>   timezone

                 <b>default</b>
                        None

       <b>firstweekday</b>
              the first day of the week, where Monday is 0 and Sunday is 6

                 <b>type</b>   integer, allowed values are between 0 and 6

                 <b>default</b>
                        0

       <b>local_timezone</b>
              khal will show all times in this timezone If no timezone is set, the timezone your computer is set
              to will be used.

                 <b>type</b>   timezone

                 <b>default</b>
                        None

       <b>longdateformat</b>
              khal will display and understand all dates in this format, it should contain a year (e.g. <u>%Y</u>)  see
              <u>timeformat</u> for the format.

                 <b>type</b>   string

                 <b>default</b>
                        %x

       <b>longdatetimeformat</b>
              khal  will display and understand all datetimes in this format, it should contain a year (e.g. <u>%Y</u>)
              see <u>timeformat</u> for the format.

                 <b>type</b>   string

                 <b>default</b>
                        %c

       <b>timeformat</b>
              khal will display and understand all times in this format.

              The    formatting    string    is    interpreted    as    defined     by     Python's     <u>strftime</u>
              &lt;<b>https://docs.python.org/3/library/time.html#time.strftime</b>&gt;,   which  is  similar  to  the  format
              specified in <b>man</b> <b>strftime</b>.

              In the configuration file it may be necessary to enclose the format in quotation marks to force it
              to be loaded as a string.

                 <b>type</b>   string

                 <b>default</b>
                        %X

       <b>unicode_symbols</b>
              by default khal uses some unicode symbols (as  in  'non-ascii')  as  indicators  for  things  like
              repeating  events,  if  your font, encoding etc. does not support those symbols, set this to <u>False</u>
              (this will enable ascii based replacements).

                 <b>type</b>   boolean

                 <b>default</b>
                        True

       <b>weeknumbers</b>
              Enable weeknumbers in <u>calendar</u> and <u>interactive</u> (ikhal) mode by specifying whether they  should  be
              displayed  on  the  'left'  or  'right'.  These are iso weeknumbers, so will only work properly if
              <u>firstweekday</u> is set to 0

                 <b>type</b>   weeknumbers

                 <b>default</b>
                        off

   <b>The</b> <b>[sqlite]</b> <b>section</b>
       <b>path</b>   khal  stores  its  internal  caching  database  here,   by   default   this   will   be   in   the
              <u>$XDG_DATA_HOME/khal/khal.db</u> (this will most likely be <u><a href="file:~/.local/share/khal/khal.db">~/.local/share/khal/khal.db</a></u>).

                 <b>type</b>   string

                 <b>default</b>
                        None

   <b>The</b> <b>[view]</b> <b>section</b>
       The  view  section  contains  configuration options that effect the visual appearance when using khal and
       ikhal.

       <b>agenda_day_format</b>
              Specifies how each <u>day</u> <u>header</u> is formatted.

                 <b>type</b>   string

                 <b>default</b>
                        {bold}{name}, {date-long}{reset}

       <b>agenda_event_format</b>
              Default formatting for events used when the user asks for all events in a given time  range,  used
              for <b>list</b>, <b>calendar</b> and in <b>interactive</b> (ikhal). Please note, that any color styling will be ignored
              in  <u>ikhal</u>,  where  events  will  always be shown in the color of the calendar they belong to.  The
              syntax is the same as for <u>--format</u>.

                 <b>type</b>   string

                 <b>default</b>
                        {calendar-color}{cancelled}{start-end-time-style}
                        {title}{repeat-symbol}{alarm-symbol}{description-separator}{description}{reset}

       <b>blank_line_before_day</b>
              Add a blank line before the name of the day (khal only)

                 <b>type</b>   boolean

                 <b>default</b>
                        False

       <b>bold_for_light_color</b>
              Whether to use bold text for light colors or not. Non-bold  light  colors  may  not  work  on  all
              terminals but allow using light background colors.

                 <b>type</b>   boolean

                 <b>default</b>
                        True

       <b>dynamic_days</b>
              Defines  the  behaviour of ikhal's right column. If <u>True</u>, the right column will show events for as
              many days as fit, moving the cursor through the list will also select the appropriate day  in  the
              calendar  column  on the left. If <u>False</u>, only a fixed ([default] timedelta) amount of days' events
              will be shown, moving through events will not change the focus in the left column.

                 <b>type</b>   boolean

                 <b>default</b>
                        True

       <b>event_format</b>
              Default formatting for events used when the start- and end-date are  not  clear  through  context,
              e.g. for <b>search</b>, used almost everywhere but <b>list</b> and <b>calendar</b>. It is therefore probably a sensible
              choice to include the start- and end-date.  The syntax is the same as for <u>--format</u>.

                 <b>type</b>   string

                 <b>default</b>
                        {calendar-color}{cancelled}{start}-{end}
                        {title}{repeat-symbol}{alarm-symbol}{description-separator}{description}{reset}

       <b>event_view_always_visible</b>
              Set to true to always show the event view window when looking at the event list

                 <b>type</b>   boolean

                 <b>default</b>
                        False

       <b>event_view_weighting</b>
              weighting that is applied to the event view window

                 <b>type</b>   integer

                 <b>default</b>
                        1

       <b>frame</b>  Whether  to show a visible frame (with <u>box</u> <u>drawing</u> characters) around some (groups of) elements or
              not. There  are  currently  several  different  frame  options  available,  that  should  visually
              differentiate  whether  an  element  is  in focus or not. Some of them will probably be removed in
              future releases of khal, so please try them out and give feedback on which style you  prefer  (the
              color of all variants can be defined in the color themes).

                 <b>type</b>   option, allowed values are <u>False</u>, <u>width</u>, <u>color</u> and <u>top</u>

                 <b>default</b>
                        False

       <b>min_calendar_display</b>
              Minimum number of months displayed by calendar command default is 3 months

                 <b>type</b>   integer

                 <b>default</b>
                        3

       <b>monthdisplay</b>
              Display  month  name on row when the week contains the first day of the month ('firstday') or when
              the first day of the week is in the month ('firstfullweek')

                 <b>type</b>   monthdisplay

                 <b>default</b>
                        firstday

       <b>theme</b>  Choose a color theme for khal.

              This is very much work in progress. Help is really welcome!  The  two  currently  available  color
              schemes  (<u>dark</u>  and  <u>light</u>) are defined in <u>khal/ui/colors.py</u>, you can either help improve those or
              create a new one (see  below).  As  ikhal  uses  urwid,  have  a  look  at  <u>urwid's</u>  <u>documentation</u>
              &lt;<b><a href="http://urwid.org/manual/displayattributes.html">http://urwid.org/manual/displayattributes.html</a></b>&gt;  for  how  to  set  colors and/or at the existing
              schemes. If you cannot change the color of an element (or have any other problems) please open  an
              issue on <u>github</u>.

              If  you  want  to create your own color scheme, copy the structure of the existing ones, give it a
              new and unique name and also add it  as  an  option  in  <u>khal/settings/khal.spec</u>  in  the  section
              <u>[default]</u> of the property <u>theme</u>.

                 <b>type</b>   option, allowed values are <u>dark</u> and <u>light</u>

                 <b>default</b>
                        dark

       A minimal sample configuration could look like this:

   <b>Example</b>
          [calendars]
          [[home]]
          path = <a href="file:~/.calendars/home/">~/.calendars/home/</a>

          [[work]]
          path = <a href="file:~/.calendars/work/">~/.calendars/work/</a>

          [locale]
          local_timezone= Europe/Berlin
          default_timezone= Europe/Berlin
          timeformat= %H:%M
          dateformat= %d.%m.
          longdateformat= %d.%m.%Y
          datetimeformat= %d.%m. %H:%M
          longdatetimeformat= %d.%m.%Y %H:%M

   <b>Exemplary</b> <b>discover</b> <b>usage</b>
       If you have the following directory layout:

          <a href="file:~/calendars">~/calendars</a>
          â”œ- work/
          â”œ- home/
          â””â”€ family/

       where  <u>work</u>,  <u>home</u>  and <u>family</u> are all different vdirs, each containing one calendar, a matching calendar
       section could look like this:

          [[calendars]]
          path = <a href="file:~/calendars/">~/calendars/</a>*
          type = discover
          color = dark green

   <b>Syncing</b>
       To   get   <b>khal</b>    working    with    CalDAV    you    will    first    need    to    setup    <u>vdirsyncer</u>
       &lt;<b>https://github.com/pimutils/vdirsyncer</b>&gt;.  After each start <b>khal</b> will automatically check if anything has
       changed  and  automatically  update  its  caching  db  (this  may  take some time after the initial sync,
       especially for large calendar collections).  Therefore, you might  want  to  execute  <b>khal</b>  automatically
       after syncing with <b>vdirsyncer</b> (e.g. via <b>cron</b>).

</pre><h4><b>STANDARDS</b></h4><pre>
       <u>khal</u>     tries     to     follow     standards     and     RFCs     (most     importantly     <u>RFC</u>    <u>5545</u>
       &lt;<b>https://datatracker.ietf.org/doc/html/rfc5545.html</b>&gt; <u>iCalendar</u>) wherever possible. Known intentional  and
       unintentional deviations are listed below.

   <b>RDATE;VALUE=PERIOD</b>
       <u>RDATE</u>     s     with     <u>PERIOD</u>     values     are     currently     not    supported,    as    <u>icalendar</u>
       &lt;<b>https://github.com/collective/icalendar</b>&gt; does not support it yet. Please submit any real world  examples
       of  events  with <u>RDATE;VALUE=PERIOD</u> you might encounter (khal will print warnings if you have any in your
       calendars).

   <b>RANGE=THISANDPRIOR</b>
       Recurrent events with the <u>RANGE=THISANDPRIOR</u> are and will not be [1] supported by khal,  as  applications
       supporting  the  latest  <u>standard</u>  &lt;<b><a href="http://tools.ietf.org/html/rfc5546">http://tools.ietf.org/html/rfc5546</a></b>&gt;  MUST NOT create those. khal will
       print a warning if it encounters an event containing <u>RANGE=THISANDPRIOR</u>.

       [1]  unless a lot of users request this feature

   <b>Events</b> <b>with</b> <b>neither</b> <b>END</b> <b>nor</b> <b>DURATION</b>
       While the RFC states:

          A calendar entry with a "DTSTART" property but no "DTEND"
          property does not take up any time. It is intended to represent
          an event that is associated with a given calendar date and time
          of day, such as an anniversary. Since the event does not take up
          any time, it MUST NOT be used to record busy time no matter what
          the value for the "TRANSP" property.

       khal transforms those events into all-day events lasting for one day (the start date). As  long  a  those
       events  do  not  get  edited,  these changes will not be written to the vdir (and with that to the CalDAV
       server). Any timezone information that was associated with the start date gets discarded.

       <b>NOTE:</b>
          While the main rationale for this behaviour was laziness on part of khal's main author, other calendar
          software shows the same behaviour (e.g. Google Calendar and Evolution).

   <b>Timezones</b>
       Getting localized time right, seems to be the most difficult part about calendaring (and  messing  it  up
       ends  in missing the one important meeting of the week). So I'll briefly describe here, how khal tries to
       handle timezone information, which information it can handle and which it can't.

       In general, there are two different type of events.  <u>Localized</u>  <u>events</u>  (with  <u>localized</u>  start  and  end
       datetimes) which have timezone information attached to their start and end datetimes, and <u>floating</u> events
       (with  <u>floating</u>  start  and  end datetimes), which have no timezone information attached (all-day events,
       events that last for complete days are floating as well). Localized events are  always  observed  at  the
       same  <u>UTC</u>  &lt;<b>https://en.wikipedia.org/wiki/Coordinated_Universal_Time</b>&gt;  (no  matter  what  time  zone  the
       observer is in), but different local times. On the other hand, floating events are always observed at the
       same local time, which might be different in UTC.

       In khal all localized datetimes are saved to the local database as UTC.  Datetimes that are already  UTC,
       e.g.  <b>19980119T070000Z</b>,  are  saved  as  such, others are converted to UTC (but don't worry, the timezone
       information does not get lost). Floating  events  get  saved  in  floating  time,  independently  of  the
       localized events.

       If you want to look up which events take place at a specified datetime, khal always expects that you want
       to know what events take place at that <u>local</u> datetime. Therefore, the (local) datetime you asked for gets
       converted  to  UTC,  the appropriate <u>localized</u> events get selected and presented with their start and end
       datetimes <u>converted</u> to <u>your</u> <u>local</u> <u>datetime</u>. For floating events no conversion is necessary.

       Khal (i.e. <u>icalendar</u> &lt;<b>https://github.com/collective/icalendar</b>&gt;) can understand all  timezone  identifiers
       as  used  in the <u>Olson</u> <u>DB</u> &lt;<b>https://en.wikipedia.org/wiki/Tz_database</b>&gt; and custom timezone definitions, if
       those VTIMEZONE components are placed before the VEVENTS that make use of them (as most calendar programs
       seem to do). In case an unknown (or unsupported) timezone is found, khal will assume you want that  event
       to be placed in the <u>default</u> <u>timezone</u> (which can be configured in the configuration file as well).

       khal expects you <u>always</u> want <u>all</u> start and end datetimes displayed in <u>local</u> <u>time</u> (which can be set in the
       configuration file as well, otherwise your computer's timezone is used).

</pre><h4><b>FAQ</b></h4><pre>
       Frequently asked questions:

       â€¢

         <b>Installation</b> <b>stops</b> <b>with</b> <b>an</b> <b>error:</b> <b>source/str_util.c:25:20:</b> <b>fatal</b> <b>error:</b> <b>Python.h:</b> <b>No</b> <b>such</b> <b>file</b> <b>or</b>
         <b>directory</b>
                You  do not have the Python development headers installed, on Debian based Distributions you can
                install them via <u>aptitude</u> <u>install</u> <u>python-dev</u>.

       â€¢

         <b>unknown</b> <b>key</b> <b>"default_command"</b>
                This key was deprecated by f8d9135.   See  <u>https://github.com/pimutils/khal/issues/648</u>  for  the
                rationale behind this removal.

</pre><h4><b>LICENSE</b></h4><pre>
       khal is released under the Expat/MIT License:

          Copyright (c) 2013-2022 khal contributors

          Permission is hereby granted, free of charge, to any person obtaining a copy of
          this software and associated documentation files (the "Software"), to deal in
          the Software without restriction, including without limitation the rights to
          use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of
          the Software, and to permit persons to whom the Software is furnished to do so,
          subject to the following conditions:

          The above copyright notice and this permission notice shall be included in all
          copies or substantial portions of the Software.

          THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
          IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS
          FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR
          COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER
          IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN
          CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.

</pre><h4><b>AUTHOR</b></h4><pre>
       Christan Geier et al.

</pre><h4><b>COPYRIGHT</b></h4><pre>
       Copyright (c) 2013-2022 khal contributors

0.11.3                                            Feb 23, 2025                                           <u><a href="../man1/KHAL.1.html">KHAL</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>