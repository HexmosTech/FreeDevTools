<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ecryptfs-setup-private - setup an eCryptfs private directory.</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/ecryptfs-utils">ecryptfs-utils_111-7ubuntu1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       ecryptfs-setup-private - setup an eCryptfs private directory.

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>ecryptfs-setup-private</b>   <b>[-f|--force]</b>   <b>[-w|--wrapping]</b>   <b>[-b|--bootstrap]</b>  <b>[-n|--no-fnek]</b>  <b>[--nopwcheck]</b>
       <b>[-u|--username</b> <b>USER]</b> <b>[-l|--loginpass</b> <b>LOGINPASS]</b> <b>[-m|--mountpass</b> <b>MOUNTPASS]</b>

</pre><h4><b>OPTIONS</b></h4><pre>
       Options available for the <b>ecryptfs-setup-private</b> command:

       <b>-f,</b> <b>--force</b>
              Force overwriting of an existing setup

       <b>-w,</b> <b>--wrapping</b>
              Use an independent wrapping passphrase, different from the login passphrase

       <b>-u,</b> <b>--username</b> <b>USER</b>
              User to setup, default is current user if omitted

       <b>-l,</b> <b>--loginpass</b> <b>LOGINPASS</b>
              System passphrase for USER, used to wrap MOUNTPASS, will interactively prompt if omitted

       <b>-m,</b> <b>--mountpass</b> <b>MOUNTPASS</b>
              Passphrase for mounting the ecryptfs directory, default is 16 bytes from /dev/random if omitted

       <b>-b,</b> <b>--bootstrap</b>
              Bootstrap a new user's entire home directory

       <b>--undo</b> Display instructions on how to undo an encrypted private setup

       <b>-n,</b> <b>--no-fnek</b>
              Do not encrypt filenames; otherwise, filenames will be encrypted on systems which support filename
              encryption

       <b>--nopwcheck</b>
              Do not check the validity of the specified login password (useful for LDAP user accounts)

       <b>--noautomount</b>
              Setup this user such that the encrypted private directory is not automatically mounted on login

       <b>--noautoumount</b>
              Setup this user such that the encrypted private directory is not automatically unmounted at logout

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>ecryptfs-setup-private</b> is a program that sets up a private cryptographic mountpoint for a non-root user.

       Be sure to properly escape your parameters according to your shell's special character nuances, and  also
       surround the parameters by double quotes, if necessary. Any of the parameters may be:

         1) exported as environment variables
         2) specified on the command line
         3) left empty and interactively prompted

       <b>The</b>  <b>user</b>  <b>SHOULD</b>  <b>ABSOLUTELY</b>  <b>RECORD</b>  <b>THE</b>  <b>MOUNT</b>  <b>PASSPHRASE</b> <b>AND</b> <b>STORE</b> <b>IN</b> <b>A</b> <b>SAFE</b> <b>LOCATION.</b>  <b>If</b> <b>the</b> <b>mount</b>
       <b>passphase</b> <b>file</b> <b>is</b> <b>lost,</b> <b>or</b> <b>the</b> <b>mount</b> <b>passphrase</b> <b>is</b> <b>forgotten,</b> <b>THERE</b> <b>IS</b> <b>NO</b> <b>WAY</b> <b>TO</b>  <b>RECOVER</b>  <b>THE</b>  <b>ENCRYPTED</b>
       <b>DATA.</b>

       Using the values of USER, MOUNTPASS, and LOGINPASS, <b>ecryptfs-setup-private</b> will:
         - Create <a href="file:~/.Private">~/.Private</a> (permission 700)
         - Create <a href="file:~/Private">~/Private</a> (permission 500)
         - Backup any existing wrapped passphrases
         - Use LOGINPASS to wrap and encrypt MOUNTPASS
         - Write to <a href="file:~/.ecryptfs/wrapped-passphrase">~/.ecryptfs/wrapped-passphrase</a>
         - Add the passphrase to the current keyring
         - Write the passphrase signature to <a href="file:~/.ecryptfs/Private.sig">~/.ecryptfs/Private.sig</a>
         - Test the cryptographic mount with a few reads and writes

       The system administrator can add the pam_ecryptfs.so module to the PAM stack which will automatically use
       the login passphrase to unwrap the mount passphrase, add the passphrase to the user's kernel keyring, and
       automatically perform the mount. See <b><a href="../man8/pam_ecryptfs.8.html">pam_ecryptfs</a></b>(8).

</pre><h4><b>FILES</b></h4><pre>
       <u><a href="file:~/.ecryptfs/auto-mount">~/.ecryptfs/auto-mount</a></u>

       <u><a href="file:~/.Private">~/.Private</a></u> - underlying directory containing encrypted data

       <u><a href="file:~/Private">~/Private</a></u> - mountpoint containing decrypted data (when mounted)

       <u><a href="file:~/.ecryptfs/Private.sig">~/.ecryptfs/Private.sig</a></u> - file containing signature of mountpoint passphrase

       <u><a href="file:~/.ecryptfs/Private.mnt">~/.ecryptfs/Private.mnt</a></u> - file containing path of the private directory mountpoint

       <u><a href="file:~/.ecryptfs/wrapped-passphrase">~/.ecryptfs/wrapped-passphrase</a></u> - file containing the mount passphrase, wrapped with the login passphrase

       <u><a href="file:~/.ecryptfs/wrapping-independent">~/.ecryptfs/wrapping-independent</a></u>  - this file exists if the wrapping passphrase is independent from login
       passphrase

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man1/ecryptfs-rewrap-passphrase.1.html">ecryptfs-rewrap-passphrase</a></b>(1), <b><a href="../man1/mount.ecryptfs_private.1.html">mount.ecryptfs_private</a></b>(1), <b><a href="../man8/pam_ecryptfs.8.html">pam_ecryptfs</a></b>(8), <b><a href="../man1/umount.ecryptfs_private.1.html">umount.ecryptfs_private</a></b>(1)

       <u>/usr/share/doc/ecryptfs-utils/ecryptfs-faq.html</u>

       <u><a href="http://ecryptfs.org/">http://ecryptfs.org/</a></u>

</pre><h4><b>AUTHOR</b></h4><pre>
       This manpage and the <b>ecryptfs-setup-private</b> utility was written by Dustin Kirkland  &lt;<a href="mailto:kirkland@ubuntu.com">kirkland@ubuntu.com</a>&gt;
       for  Ubuntu systems (but may be used by others).  Permission is granted to copy, distribute and/or modify
       this document under the terms of the GNU General Public License, Version 2 or any later version published
       by the Free Software Foundation.

       On Debian and Ubuntu systems, the complete text of the  GNU  General  Public  License  can  be  found  in
       /usr/share/common-licenses/GPL.

ecryptfs-utils                                     2008-11-17                          <u><a href="../man1/ecryptfs-setup-private.1.html">ecryptfs-setup-private</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>