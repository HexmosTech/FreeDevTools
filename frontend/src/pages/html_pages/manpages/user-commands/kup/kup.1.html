<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>kup - kernel.org upload utility</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/kup-client">kup-client_0.3.6-4_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       kup - kernel.org upload utility

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>kup</b> [<u>global</u> <u>options</u>] <u>command</u> [<b>--</b> <u>command...</u>]

</pre><h4><b>DESCRIPTION</b></h4><pre>
       This  utility  is used to upload files to <u>kernel.org</u> and other systems using the same upload system (<b>kup-</b>
       <b>server</b>).  Each upload is required to have  a  PGP  signature,  and  the  server  will  generate  multiple
       compressed formats if the content uploaded is intended to be compressed.

       Additionally,  if  the user has content from a <b><a href="../man1/git.1.html">git</a></b>(1) tree already on server, it is possible to reproduce
       the content server-side, thereby reducing bandwidth needs.  The user still has to  generate  the  content
       locally and sign it.

</pre><h4><b>GLOBAL</b> <b>OPTIONS</b></h4><pre>
       <b>-b</b>, <b>--batch</b>
              Instead  of  connecting  to  a  remote  host, output the protocol content to standard output.  The
              output from an arbitrary number of <b>kup</b> invocations can be concatenated into a single batchfile and
              then sent to the server as a single session, e.g.:

                     cat batchfile | ssh -a -x -k -T [user@]host

       <b>-e</b>, <b>--rsh,</b> <b>--ssh</b> <u>command</u>
              Override the default command used to connect to the server.  The default is set by the environment
              variable <b>KUP_RSH</b> or if that is not set, <u>ssh</u> <u>-a</u> <u>-x</u> <u>-k</u> <u>-T</u>.

       <b>-H</b>, <b>--host</b> <u>[user@]host</u>
              Override the default user and host to which to connect.  The default is  set  by  the  environment
              variable <b>KUP_HOST</b> or if that is not set, <u>kup.kernel.org</u>.

       <b>-c</b>, <b>--subcmd</b> <u>subcommand</u>
              After  establishing  the  ssh  connection, issue a subcommand in case the remote server is used in
              conjunction with an AuthZ tool like gitolite. Can also be set using the env variable <b>KUP_SUBCMD</b> or
              if not set, no subcommand will be used (default kup-server behavior).

</pre><h4><b>COMMANDS</b></h4><pre>
       A series of commands can be specified on a single command line, separated by a double dash argument (<b>--</b>).

       In all cases, PGP signatures are detached signature files corresponding to the <u>uncompressed</u> content.   If
       a <u>remote_path</u> ends in <u>.gz</u> then <b>gzip</b>, <b>bzip2</b> and <b>xz</b> compressed files are generated on the server; otherwise
       the content is stored uncompressed.

       <b>put</b> <u>local_file</u> <u>signature_file</u> <u>remote_path</u>
              Upload  the  file  <u>local_file</u> signed with <u>signature_file</u>.  <u>local_file</u> can be compressed with <b>gzip</b>,
              <b>bzip2</b> or <b>xz</b>; this may reduce upload time.  The content will be stored compressed  or  uncompressed
              depending solely on the extension of <u>remote_path</u>.

       <b>put</b> <b>--tar</b> [<b>--prefix</b>=] <u>remote_tree</u> <u>ref</u> <u>signature_file</u> <u>remote_path</u>
              Generate  a tar archive file from ref <u>ref</u> of git tree <u>remote_tree</u> (using <b>git</b> <b>archive</b> <b>--format=tar</b>)
              with signature <u>signature_file</u> generated locally, and place it in <u>remote_path</u>.

              <b>git</b> <b>archive</b> has been found to be relatively stable, so this command is relatively  robust  to  git
              version changes. The <b>--prefix</b> is passed to <b>git</b> <b>archive</b> verbatim.

       <b>put</b> <b>--diff</b> <u>remote_tree</u> <u>ref1</u> <u>ref2</u> <u>signature_file</u> <u>remote_path</u>
              Generate  a patch file between refs <u>ref1</u> and <u>ref2</u> of git tree <u>remote_tree</u> (using <b>git</b> <b>diff-tree</b> <b>-p</b>)
              with signature <u>signature_file</u> generated locally, and place it in <u>remote_path</u>.

              The output of <b>git</b> <b>diff-tree</b> has been found to vary between <b>git</b> versions, so successful use of this
              command may require the same version of <b>git</b> locally as on the server in order to produce  a  valid
              signature.

       <b>mkdir</b> <u>remote_path</u>
              Create a new directory on the server.

       <b>mv|move</b> <u>old_path</u> <u>new_path</u>
              Move  the file or directory <u>old_path</u> to <u>new_path</u>.  For a file, the <u>.sign</u> files are also moved, and
              for compressed files, all the compression formats are moved together.

       <b>ln|link</b> <u>old_path</u> <u>new_path</u>
              Hard link the file or directory <u>old_path</u> to <u>new_path</u>.  For  a  file,  the  <u>.sign</u>  files  are  also
              linked, and for compressed files, all the compression formats are linked together.

       <b>rm|del|delete</b> <u>old_path</u>
              Delete  the  file  or  directory  <u>old_path</u>.  For a file, the <u>.sign</u> files are also deleted, and for
              compressed files, all the compression formats are deleted together.

       <b>ls|dir</b> <u>path...</u>
              Lists back the contents of one or more directories on the server.

</pre><h4><b>PATHNAME</b> <b>HANDLING</b></h4><pre>
       Remote (server) pathnames all need to be absolute paths, starting with a slash (/).  The  sole  exception
       is  <u>new_path</u>  for  the  <b>mv</b>  and <b>link</b> commands, which if it is not absolute is taken to be relative to the
       <u>old_path</u> minus the final component.  Similarly, if <u>new_path</u> ends in a slash then the final  component  of
       <u>old_path</u> will be appended.

       For  the  put  command, except when <b>--tar</b> or <b>--diff</b> is specified, if the <u>remote_path</u> ends in a slash then
       the final (filename) component of <u>local_file</u> will be appended to the final pathname.

</pre><h4><b>CONFIG</b> <b>FILE</b></h4><pre>
       Kup checks the presence of $HOME/.kuprc and can load the <b>host</b> and <b>rsh</b> parameters from  the  config  file.
       The environment variables <b>KUP_HOST</b> and <b>KUP_RSH</b> will override the values set in this config file.

       SAMPLE $HOME/.kuprc:

              host = <a href="mailto:user@kup.kernel.org">user@kup.kernel.org</a>
              rsh  = <a href="file:///usr/lib/w3m/cgi-bin/w3mman2html.cgi?ssh">/usr/bin/ssh</a> -a -x -k -T

</pre><h4><b>EXAMPLES</b></h4><pre>
       Generate a tarball locally, sign it, compress it, and upload it into /pub/foolib on the server:

              git archive --format=tar --prefix=foolib-1.0/ -o foolib-1.0.tar v1.0
              gpg --detach-sign --armor foolib-1.0.tar
              bzip2 -9 foolib-1.0.tar
              kup put foolib-1.0.tar.bz2 foolib-1.0.tar.asc /pub/foolib/foolib-1.0.tar.bz2

       Generate a tarball locally, sign it, then tell kup-server to generate an identical tarball on the server,
       verify the signature, and put the compressed results in /pub/foolib:

              git archive --format=tar --prefix=foolib-1.0/ -o foolib-1.0.tar v1.0
              gpg --detach-sign --armor foolib-1.0.tar
              kup put --tar --prefix=foolib-1.0/ /repos/foolib.git v1.0 foolib-1.0.tar.asc /pub/foolib/foolib-1.0.tar.gz

</pre><h4><b>AUTHOR</b></h4><pre>
       Written by H. Peter Anvin &lt;<a href="mailto:hpa@zytor.com">hpa@zytor.com</a>&gt;.

</pre><h4><b>COPYRIGHT</b></h4><pre>
       Copyright Â© 2011 Intel Corporation

       This  program  is  free  software;  you  can  redistribute it and/or modify it under the terms of the GNU
       General Public License as published by the Free Software  Foundation,  Inc.;  either  version  2  of  the
       License,  or (at your option) any later version; incorporated herein by reference.  There is NO warranty;
       not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man1/git.1.html">git</a></b>(1), <b><a href="../man1/ssh.1.html">ssh</a></b>(1), <b><a href="../man1/gzip.1.html">gzip</a></b>(1), <b><a href="../man1/bzip2.1.html">bzip2</a></b>(1), <b><a href="../man1/xz.1.html">xz</a></b>(1).

kernel.org upload utility                             2011                                                <u><a href="../man1/KUP.1.html">KUP</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>