<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>makedepf90 - creates Makefile dependency list for Fortran source files.</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/makedepf90">makedepf90_3.0.1-1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       makedepf90 - creates Makefile dependency list for Fortran source files.

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>makedepf90</b>  [<b>-h</b>]  [<b>-V</b>]  [<b>-W</b>|<b>-Wmissing</b>] [<b>-Wconfused</b>] [<b>-m</b> <u>fmt</u>] [<b>-u</b> <u>modulename</u>] [<b>-d</b> <u>file</u>] [<b>-r</b> <u>rule</u>] [<b>-R</b> <u>file</u>
       <u>rule</u>] [<b>-fixed</b>|<b>-free</b>]  [<b>-o</b>  <u>name-of-executable</u>]  [<b>-coco</b>]  [<b>-D</b>  <u>NAME</u>]  [<b>-b</b>|<b>-B</b>  <u>path</u>]  [<b>-I</b>  <u>PATH1:PATH2:...</u>]
       [<b>-nosrc</b>] <u>sourcefile(s)</u>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <u>makedepf90</u> is a program for automatic creation of dependency lists and compilation rules for Makefiles.

       The original idea was to provide the same functionality for Fortran as

              gcc -MM *.c

       does  for  C.   Nowadays  makedepf90 actually supersedes this functionality, making me wonder if I should
       extend makedepf90 to support C and C++ too ;-).

       <u>makedepf90</u> supports  both  <b>modules</b>,  <b>include</b>:s,  <b><a href="../man1/cpp.1.html">cpp</a></b>(1)  <b>#include</b>:s,  <b><a href="../man1/f90ppr.1.html">f90ppr</a></b>(1)  <b>$include</b>:s  and  <b><a href="../man1/coco.1.html">coco</a></b>(1)
       <b>??includes</b> and set-files.

       <u>makedepf90</u>  reads Fortran source files given on the command line, and writes a dependency list to stdout;
       for every file it writes a line with the following format:

              <u>targets</u> : <u>prerequisites</u>

       <u>Targets</u> are the files that will be the result of compiling the file with the <b>-c</b> option, and <u>prerequisites</u>
       are files that are needed to compile the  file.   In  addition,  <u>makedepf90</u>  can  optionally  create  the
       dependency line and make-rule needed to link the final executable.

   <b>Fortran</b> <b>dependencies</b>
       The files needed to compile a file, i.e the <u>prerequisites</u> of the file are:

       <b>—</b>      The source file itself

       <b>—</b>      Files  with  interface information about USEd modules, created by the compiler while compiling the
              modules (often named <u>modulename</u>.mod or something similar, hereafter called <u>mod-files</u>).

       <b>—</b>      Include-files (including files included and mod-files of modules USEd from these include-files).

       <b>—</b>      <b>Coco</b> set-files, if <b><a href="../man1/coco.1.html">coco</a></b>(1) is being used and set-files exist.

       Since different compilers use different naming  conventions  for  the  mod-files,  listing  them  in  the
       dependency  list  results  in  non-portable makefiles.  Therefore it's common practise to list the object
       file (<u>filename</u>.o) corresponding to the sourcefile containing the  USEd  modules  instead.   This  is  the
       default  behaviour  of  <u>makedepf90</u>.   To change this, use the <b>-m</b> option (e.g <b>-m</b> <b>"%m.mod"</b> if your compiler
       names the mod files <u>modulename</u>.mod)

       Include files not found in the working directory will not be listed in the dependency list, assuming they
       are part of a (seldom changing) library not part of the program.  Neither will mod-files of modules whose
       definitions aren't found be listed by the same reason.

</pre><h4><b>OPTIONS</b></h4><pre>
       These options may be given anywhere, in any order, on the command line.  Space between an option and  its
       argument is optional.  Options may not be grouped (<b>-hW</b> is not the same thing as <b>-h</b> <b>-W</b>).

       <b>-h</b> or <b>--help</b>
              Print a short help message to stdout and quit.

       <b>-V</b> or <b>--version</b>
              Print version and copyright information to stdout and quit

       <b>-W</b> or <b>-Wmissing</b>
              Print warnings about missing modules and include files

       <b>-Wconfused</b>
              Print  warnings  when  confused  (either because of bugs in makedepf90 itself, or because of wierd
              things in your source files).  If makedepf90 misses some dependencies, or do other  wierd  things,
              this option might give some idea on whats going on.

       <b>-m</b> <u>fmt</u> Tell  <u>makedepf90</u>  that mod-files will have names of the format <u>fmt</u>.  <u>fmt</u> may contain the modifiers
              <b>%f</b> for <u>filename</u> (without file name .suffix), <b>%m</b> for <u>modulename</u> (in lowercase), <b>%M</b>  for  <u>MODULENAME</u>
              (in uppercase) and <b>%%</b> for '%'.  Default is "%f.o".

       <b>-u</b> <u>modulename</u>
              Ignore all modules named <u>modulename</u>.

       <b>-d</b> <u>file</u>
              Make all targets dependent on <u>file</u>.

       <b>-r</b> <u>rule</u>
              Add  <u>rule</u>  (indented  by  a  tab)  to  all dependency lines except lines given rule(s) with the <b>-R</b>
              option.

              <u>rule</u> may contains the following modifiers: <b>%f</b> for the name of the source file (without suffix) the
              dependency line is created for, and <b>%%</b> for '%'.

       <b>-R</b> <u>'pattern'</u> <u>'rule'</u>
              Compile files matching the shell pattern <u>pattern</u> using the rule <u>rule</u>.  In <u>pattern</u>,  the  following
              wildcards can be used: <b>*</b> = any number of any characters, <b>?</b> = any character and <b>[abc]</b> = any of <b>a</b>, <b>b</b>
              or  <b>c</b>.   Note that the patter-matching is to be performed by <u>makedepf90</u>, not the shell.  Therefore
              <u>pattern</u> should be enclosed in quotes (<b>"</b> or <b>'</b>).  For <u>rule</u> applies the same rules as for <b>-r</b> above.

              Note that there is a subtle difference between "<b>-r</b> <u>rule</u>" and "<b>-R</b> '*' <u>rule</u>".  In  the  former  case
              <u>rule</u>  will  be  applied  only to lines not given any rule using <b>-R</b>, while in the latter case, <u>rule</u>
              will be applied to <u>all</u> lines.

       <b>-fixed</b> / <b>-free</b>
              Treat the files as fixed/free source format.  If both options  are  given,  the  latter  is  used.
              Default:  Files  with  suffixes  <b>.f,</b>  <b>.F,</b> <b>.for,</b> <b>.FOR</b> or <b>.ftn</b> are treated as fixed format and <b>.f90,</b>
              <b>.F90,</b> <b>.f95</b> or <b>.F95</b> are treated as free format.

       <b>-o</b> <u>name</u>
              This option will cause <u>makedepf90</u> to define the Makefile macro <b>FOBJ</b>=<u>objectfiles</u>, and a  dependency
              line + rule for the final linking process to create the executable <u>name</u>.  To set the linking rule,
              use the option <b>-l</b>.

       <b>-l</b> <u>rule</u>
              Use <u>rule</u> when linking the executable.  The default is
              <b>$(FC)</b> <b>-o</b> <b>$@</b> <b>$(FFLAGS)</b> <b>$(LDFLAGS)</b> <b>$(FOBJ)</b> <b>$(LIBS)</b>.
              This option has no effect unless <b>-o</b> is used.

       <b>-coco</b>  Look  for  <b><a href="../man1/coco.1.html">coco</a></b>(1)  set-files (<b>coco</b> ??include:s are supported automatically).  This option implies
              <b>-free</b>.

       <b>-D</b> <u>NAME</u>
              Define the pre-processor symbol <u>NAME</u>.

       <b>-b</b> <u>path</u>
              Dependency tree and link rule will assume objects are placed in <u>path</u>.  This is useful if the build
              places object files in a different directory than the source files.

       <b>-B</b> <u>path</u>
              Dependency tree and link rule will assume objects are placed in  <u>path</u>  using  the  same  directory
              structure  as  the  source  files.  This is useful if the build places object files in a different
              directory than the source files and the source directory structure is needed to avoid object  name
              collisions.

       <b>-I</b> <u>list-of-paths</u>
              Look  for  source/include  files  in the <u>list-of-paths</u>, if not found in current working directory.
              Here, <u>list-of-paths</u> is a colon separated list of path names.

       <b>-nosrc</b> Don't list the source file among the prerequisites.

</pre><h4><b>EXAMPLES</b></h4><pre>
   <b>Basic</b> <b>Usage</b>
       Here's an example of basic <u>makedepf90</u> usage together with <b><a href="../man1/make.1.html">make</a></b>(1).  Create a file named <b>Makefile</b> with the
       following contents:

       ----------------------

        # FC = the compiler to use
        FC=f90

        # Compiler options
        FFLAGS=-O

        # List libraries used by the program here
        LIBS=

        # Suffix-rules:  Begin by throwing away all old suffix-
        # rules, and then create new ones for compiling
        # *.f90-files.
        .SUFFIXES:
        .SUFFIXES: .f90 .o

        .f90.o:
            $(FC) -c $(FFLAGS) $&lt;

        # Include the dependency-list created by makedepf90 below
        include .depend

        # target 'clean' for deleting object- *.mod- and other
        # unwanted files
        clean:
            rm -f *.o *.mod core

        # Create a dependency list using makedepf90.  All files
        # that needs to be compiled to build the program,
        # i.e all source files except include files, should
        # be given on the command line to makedepf90.
        #
        # The argument to the '-o' option will be the name of the
        # resulting program when running 'make', in this case
        # 'foobar'
        depend .depend:
            makedepf90 -o foobar *.f90 &gt; .depend

       -----------------------

       (Note that all the indented lines should be indented with tabs, not spaces)

       With this makefile, the command <b>make</b> should perform all the commands  needed  to  compile  and  link  the
       program <u>foobar</u> out of all *.f90 files in the working directory.

       The  dependency  list <u>.depend</u> will be (re)created if <u>.depend</u> doesn't exist, or if the command <b>make</b> <b>depend</b>
       is run.  This should be done every time changes has been made to the program that affect the dependencies
       of the files (e.g if new source files has been added to the project).

   <b>Example</b> <b>With</b> <b>Coco</b>
       If you are using a pre-processor, things might get more complicated.  If you  are  lucky,  your  compiler
       supports  your  pre-processor and runs it on your code automatically, but if it doesn't, you have to give
       the commands to run the pre-processor yourself.  Below is an example of an Makefile for <b><a href="../man1/coco.1.html">coco</a></b>(1)-users.

       -----------------------
        FC=f90
        FFLAGS=-O
        PREPROCESSOR=coco

        .SUFFIXES:
        .SUFFIXES: .f .f90 .o

        # Files ending in .f90 are compiled directly ...
        .f90.o:
               $(FC) -c $(FFLAGS) $&lt;

        # ... while those ending in .f are preprocessed first.
        .f.o:
               $(PREPROCESSOR) $*; $(FC) -c $(FFLAGS) $*.f90

        include .depend

        clean:
            rm -f *.o *.mod core

        depend .depend:
               makedepf90 -coco -o foobar *.f90 *.f &gt; .depend

       -----------------------

       <b>NOTE:</b> Some implementations of <b><a href="../man1/make.1.html">make</a></b>(1) will not execute any commands — not even <b>make</b>  <b>depend</b>  —  with  the
       Makefiles above unless there exists a file named <u>.depend</u>. To overcome this problem, either run <u>makedepf90</u>
       manually, or begin by creating an empty <u>.depend</u> file with the command <b>touch</b> <b>.depend</b>.

</pre><h4><b>DIAGNOSTICS</b></h4><pre>
       Most  error  and  warning  messages  are  self  explanatory,  but  some  of  them might need some further
       explanations:

       <b>WARNING:</b> <b>recursion</b> <b>limit</b> <b>reached</b> <b>in</b> <b>file</b> <u>filename</u>
              When recursively parsing include files, makedepf90 has  reached  the  recursion  limit.   Possible
              reasons  are:  either  you  have  some  <u>really</u>  complicated  systems of include files, or you have
              recursive includes (e.g an include file that includes itself).  In the latter case; fix  it,  your
              Fortran compiler will not like it either.

</pre><h4><b>BUGS</b> <b>AND</b> <b>LIMITATIONS</b></h4><pre>
       Makedepf90's  support for pre processor conditionals and macro expension (#if:s, #define:s etc) is rather
       weak, but should work well enough for most cases.

       The include file search algorithm is broken.  I may fix it some day.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man1/make.1.html">make</a></b>(1), <b><a href="../man1/f90.1.html">f90</a></b>(1), <b><a href="../man1/cpp.1.html">cpp</a></b>(1), <b><a href="../man1/fpp.1.html">fpp</a></b>(1), <b><a href="../man1/f90ppr.1.html">f90ppr</a></b>(1), <b><a href="../man1/coco.1.html">coco</a></b>(1)

       The makedepf90 web site is found at
       <a href="http://www.iki.fi/erik.edelmann/makedepf90">http://www.iki.fi/erik.edelmann/makedepf90</a>

</pre><h4><b>COPYING</b></h4><pre>
       This program is free software; you can redistribute it and/or modify  it  under  the  terms  of  the  GNU
       General Public License version 2 as published by the Free Software Foundation.

       This  program  is  distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even
       the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General  Public
       License for more details.

       You  should have received a copy of the GNU General Public License along with this program; if not, write
       to the Free Software Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA

</pre><h4><b>AUTHOR</b></h4><pre>
       Erik Edelmann &lt;<a href="mailto:Erik.Edelmann@iki.fi">Erik.Edelmann@iki.fi</a>&gt;

                                         Tue, 17 Nov 2015 23:21:02 -0500                           <u><a href="../man1/makedepf90.1.html">makedepf90</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>