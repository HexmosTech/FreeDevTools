<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>dh_sameversiondep - generate versioned dependency based on the versioned dependencies of the reference</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/pkg-kde-tools">pkg-kde-tools_0.18.12ubuntu3_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       dh_sameversiondep - generate versioned dependency based on the versioned dependencies of the reference
       package.

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>dh_sameversiondep</b> [<u>debhelper</u> <u>options</u>]

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>dh_sameversiondep</b> is a helper tool which is able to generate a dependency that is versioned the same way
       as a dependency (coming from the same source) of another reference package.  <b>dh_sameversiondep</b> scans
       debian/control for the specially formatted substvar (see "sameVersionDep substvar SPECIFICATION" section
       below), determines its value and writes it to <u>debian/package.substvars</u> file.

       The most common use case for <b>dh_sameversiondep</b> tool is to keep your <u>liba-dev</u> package dependency on the
       external <u>libb-dev</u> package as tight as your <u>liba</u> package depends on the respective external <u>libb</u> package
       (see "EXAMPLE" section for more information about this use case).

       <b>dh_sameversiondep</b> works as follows:

       •   Searches  for  the  <b>sameVersionDep</b>  substvar  in the Depends, Recommends, Suggests, Enhances and Pre-
           Depends fields of the requested packages. When one is found, it is parsed and the <u>dependency</u>  <u>package</u>
           name, <u>reference</u> <u>package</u> name and <u>dependency</u> <u>type</u> (either Depends or Recommends etc.) are determined.

       •   All  dependencies  of  the requested <u>type</u> are collected for the <u>dependency</u> <u>package</u> based on the <u>dpkg-</u>
           <u>query</u> <u>--status</u> output. If a multi-arch aware dpkg is detected, this query  is  architecture-qualified
           as needed.

       •   All  dependencies  of  the  requested  <u>type</u>  are  collected  for  the  <u>reference</u>  <u>package</u> either from
           <u>debian/control</u> (substvars are expanded) or from <u>dpkg-query</u> <u>--status</u> output if  the  package  was  not
           found in <u>debian/control</u>.

       •   Both collections are intersected leaving only common packages in both collections.

       •   Common  package  list is filtered by leaving only those which come from the same source as <u>dependency</u>
           <u>package</u>.

       •   Whatever packages are left (most likely only one), their names are replaced with  <u>dependency</u>  <u>package</u>
           name  preserving  all versioning information. This result is written to <u>debian/package.substvars</u> file
           as a value of the <b>sameVersionDep</b> substvar being processed.

       <b>dh_sameversiondep</b> is very strict about errors. If either <u>dependency</u>  <u>package</u>  or  the  <u>reference</u>  <u>package</u>
       cannot be found or the resulting dependency set is empty, it will fail with an error.

       <b>dh_sameversiondep</b>  MUST  be run before dh_gencontrol. However, it is recommended to run <b>dh_sameversiondep</b>
       after dh_shlibdeps.

</pre><h4><b>sameVersionDep</b> <b>substvar</b> <b>SPECIFICATION</b></h4><pre>
       <b>sameVersionDep</b> substvar can appear in either Depends, Recommends, Suggests, Enhances or Pre-Depends field
       of any binary package. The field, which the substvar appears in, becomes the default <u>dependency</u> <u>type</u>  for
       that substvar.  <b>sameVersionDep</b> should be formatted as follows (everything is case sensitive):

       ${<b>sameVersionDep</b>:<u>dependency</u>[[:<u>reference</u>]-<u>dependency</u> <u>type</u>]}

       <u>dependency</u> (mandatory)
           The name of the package which you want to add as a dependency.

       <u>reference</u> (optional)
           The  name  of  the  package  which  dependencies  are  to be intersected with the dependencies of the
           <u>dependency</u> package. Defaults to the first package in debian/control if omitted.

       <u>dependency</u> <u>type</u> (optional)
           Can be either Depends, Recommends, Suggests, Enhances or Pre-Depends. Defaults to  the  name  of  the
           field  which  the  substvar  was  found  in.  Specifies  which  type of dependencies to consider when
           analyzing <u>dependency</u> package and <u>reference</u> package.

</pre><h4><b>EXAMPLE</b></h4><pre>
       Assume we have the following in <u>debian/control</u>:

           Package: liba
           Depends: libc (&gt;= 0.1), depa, depb, depc

           Package: libb
           Depends: libd (&gt;= 0.2), depd, depe, depf

           Package: libab-dev
           Depends: ${sameVersionDep:libc-dev}, ${sameVersionDep:libd-dev:libb}

       Assuming that libc and libc-dev (both from the same source), as well as libd and libd-dev (both from  the
       same  source)  are  installed,  the  value of "sameVersionDep:libc-dev" will be <u>libc-dev</u> <u>(&gt;=</u> <u>0.1)</u> and the
       value of "sameVersionDep:libd-dev:libb" will be <u>libd-dev</u> <u>(&gt;=</u> <u>0.2)</u>.

       "sameVersionDep:libc-dev"  could  also   be   written   as   "sameVersionDep:libc-dev:liba-Depends"   and
       "sameVersionDep:libd-dev:libb"  as "sameVersionDep:libd-dev:libb-Depends" but it is not necessary because
       defaults are sufficient.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man7/debhelper.7.html">debhelper</a></b>(7)

</pre><h4><b>AUTHOR</b></h4><pre>
       Modestas Vainius &lt;<a href="mailto:modax@debian.org">modax@debian.org</a>&gt;

perl v5.40.1                                       2025-03-08                               <u><a href="../man1/DH_SAMEVERSIONDEP.1.html">DH_SAMEVERSIONDEP</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>