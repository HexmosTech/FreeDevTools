<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>pmdaib - Infiniband performance metrics domain agent (PMDA)</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/pcp-pmda-infiniband">pcp-pmda-infiniband_6.3.3-1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       <b>pmdaib</b> - Infiniband performance metrics domain agent (PMDA)

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>$PCP_PMDAS_DIR/infiniband/pmdaib</b> [<b>-c</b> <u>configFile</u>] [<b>-D</b> <u>debug</u>] [<b>-d</b> <u>domain</u>] [<b>-l</b> <u>logfile</u>] [<b>-w</b>]

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>pmdaib</b>  is  a  Performance  Metrics Domain Agent (PMDA) which exports information and performance metrics
       about local Infiniband HCAs and local or remote Infiniband GUIDs.

       A brief description of the <b>pmdaib</b> command line options follows:

       <b>-c</b>   Location of the config file.  By default, the config file is named <b>$PCP_PMDAS_DIR/infiniband/config.</b>
            See <b>CONFIG</b> <b>FILE</b> for more information.

       <b>-D</b>   A debug values, as specified by <b>pmdbg</b> <b>(1)</b>

       <b>-d</b>   Specify an alternate performance metrics <u>domain</u> number.  Almost never necessary.

       <b>-l</b>   Location of the log file.  By default, a log file named <u>ib.log</u> is written to <b>$PCP_LOG_DIR/pmcd</b>.   If
            the log file cannot be created or is not writable, output is written to the standard error instead.

       <b>-w</b>   Write  out  the  default config file to <b>$PCP_PMDAS_DIR/infiniband</b> and exit immediately.  The written
            config file will contain the local HCA ports.   It  will  not  overwrite  an  existing  file.   This
            argument  should  only  be  used  to  create  the  template  config  file and should never appear in
            <u>pmcd.conf.</u>  See <b>CONFIG</b> <b>FILE</b> for more information on the file format and on monitoring remote GUIDs.

</pre><h4><b>CONFIG</b> <b>FILE</b></h4><pre>
       By default, the PMDA will operate without using a config file.  In this mode of operation the  local  HCA
       ports  will be monitored.  Note that if a new HCA is added to the machine that instance domain naming may
       change because it will always be based on the kernel's naming.

       In cases where this is not acceptable, or in  the  case  where  monitoring  remote  Infiniband  ports  is
       required,  a  config file must be created.  A "template" file can be created by running the <b>pmdaib</b> daemon
       with the <b>-w</b> argument.  This will create a config file with the local ports and GUIDs.

       If the config file is <u>executable</u> then it will be run and the output will be used as the config file.

       The config file is composed of line-based records.   Blank  lines  and  everything  after  the  <u>hash</u>  <u>(#)</u>
       character are ignored.  Each line has 6 fields:

       [<b>instName</b>] [<b>portGUID</b>] [<b>portNum</b>] via [<b>localPortName</b>]:[<b>localPortNum</b>]

       The  first  field is used to give a static instance name to the Infiniband port that has a specific GUID.
       All of the other fields must be properly specified in order to monitor a particular port.

       For example, to monitor port 1 of the local HCA called 'mthca0' a possible config file line would be:

       myPort1 0xdeadbeef01234567 1 via mthca0:1

       Remote ports can be easily monitored by specifying the GUID of the  HCA  or  switch  and  specifying  the
       remote  port  number.   The <b>localPortName</b>:<b>localPortNum</b> tuple specifies which local HCA and port to use as
       the "first hop" in contacting the remote GUID.  E.g., to monitor port 13 of  a  remote  switch  which  is
       connected to the fabric on the first port of the second HCA:

       switch13 0xfeeffeefabcdabcd 13 via mthca1:1

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man1/PCPIntro.1.html">PCPIntro</a></b>(1), <b><a href="../man1/pmcd.1.html">pmcd</a></b>(1), <b><a href="../man3/PMAPI.3.html">PMAPI</a></b>(3) and <b><a href="../man8/ibnetdiscover.8.html">ibnetdiscover</a></b>(8).

Performance Co-Pilot                                   PCP                                             <u><a href="../man1/PMDAIB.1.html">PMDAIB</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>