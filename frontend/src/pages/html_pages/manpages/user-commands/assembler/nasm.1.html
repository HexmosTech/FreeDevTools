<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>nasm - the Netwide Assembler, a portable 80x86 assembler</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/nasm">nasm_2.16.03-1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       nasm - the Netwide Assembler, a portable 80x86 assembler

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>nasm</b> [<b>-@</b> response file] [<b>-f</b> format] [<b>-o</b> outfile] [<b>-l</b> listfile] [<u>options</u>...] filename

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The <b>nasm</b> command assembles the file <u>filename</u> and directs output to the file <u>outfile</u> if specified. If
       <u>outfile</u> is not specified, <b>nasm</b> will derive a default output file name from the name of its input file,
       usually by appending ‘.o’ or ‘.obj’, or by removing all extensions for a raw binary file. Failing that,
       the output file name will be ‘nasm.out’.

</pre><h4><b>OPTIONS</b></h4><pre>
       <b>-@</b> <u>filename</u>
           Causes <b>nasm</b> to process options from filename as if they were included on the command line.

       <b>-a</b>
           Causes <b>nasm</b> to assemble the given input file without first applying the macro preprocessor.

       <b>-D</b>|<b>-d</b> <u>macro[=value]</u>
           Pre-defines a single-line macro.

       <b>-E</b>|<b>-e</b>
           Causes <b>nasm</b> to preprocess the given input file, and write the output to <u>stdout</u> (or the specified
           output file name), and not actually assemble anything.

       <b>-f</b> <u>format</u>
           Specifies the output file format. To see a list of valid output formats, use the <b>-hf</b> option.

       <b>-F</b> <u>format</u>
           Specifies the debug information format. To see a list of valid output formats, use the <b>-y</b> option (for
           example <b>-felf</b> <b>-y</b>).

       <b>-g</b>
           Causes <b>nasm</b> to generate debug information.

       <b>-g</b><u>format</u>
           Equivalent to <b>-g</b> <b>-F</b> <u>format</u>.

       <b>-h</b>
           Causes <b>nasm</b> to exit immediately, after giving a summary of its invocation options.

       <b>-hf</b>
           Same as <b>-h</b> , but also lists all valid output formats.

       <b>-I</b>|<b>-i</b> <u>directory</u>
           Adds a directory to the search path for include files. The directory specification must include the
           trailing slash, as it will be directly prepended to the name of the include file.

       <b>-l</b> <u>listfile</u>
           Causes an assembly listing to be directed to the given file, in which the original source is
           displayed on the right hand side (plus the source for included files and the expansions of multi-line
           macros) and the generated code is shown in hex on the left.

       <b>-M</b>
           Causes <b>nasm</b> to output Makefile-style dependencies to stdout; normal output is suppressed.

       <b>-MG</b> <u>file</u>
           Same as <b>-M</b> but assumes that missing Makefile dependencies are generated and added to dependency list
           without a prefix.

       <b>-MF</b> <u>file</u>
           Output Makefile-style dependencies to the specified file.

       <b>-MD</b> <u>file</u>
           Same as a combination of <b>-M</b> and <b>-MF</b> options.

       <b>-MT</b> <u>file</u>
           Override the default name of the dependency target dependency target name. This is normally the same
           as the output filename, specified by the <b>-o</b> option.

       <b>-MQ</b> <u>file</u>
           The same as <b>-MT</b> except it tries to quote characters that have special meaning in Makefile syntax.
           This is not foolproof, as not all characters with special meaning are quotable in Make.

       <b>-MP</b>
           Emit phony target.

       <b>-O</b> <u>number</u>
           Optimize branch offsets.

           •   <b>-O0</b>: No optimization

           •   <b>-O1</b>: Minimal optimization

           •   <b>-Ox</b>: Multipass optimization (default)

       <b>-o</b> <u>outfile</u>
           Specifies a precise name for the output file, overriding <b>nasm</b>'s default means of determining it.

       <b>-P</b>|<b>-p</b> <u>file</u>
           Specifies a file to be pre-included, before the main source file starts to be processed.

       <b>-s</b>
           Causes <b>nasm</b> to send its error messages and/or help text to stdout instead of stderr.

       <b>-t</b>
           Causes <b>nasm</b> to assemble in SciTech TASM compatible mode.

       <b>-U</b>|<b>-u</b> <u>macro</u>
           Undefines a single-line macro.

       <b>-v</b>
           Causes <b>nasm</b> to exit immediately, after displaying its version number.

       *-W[no-]foo'
           Causes <b>nasm</b> to enable or disable certain classes of warning messages, in gcc-like style, for example
           <b>-Wlabel-orphan</b> or <b>-Wno-orphan-labels</b>.

       <b>-w</b><u>[+-]foo</u>
           Causes <b>nasm</b> to enable or disable certain classes of warning messages, for example <b>-w+label-orphan</b> or
           <b>-w-macro-params</b>.

       <b>-X</b> <u>format</u>
           Specifies error reporting format (gnu or vc).

       <b>-y</b>
           Causes <b>nasm</b> to list supported debug formats.

       <b>-Z</b> <u>filename</u>
           Causes <b>nasm</b> to redirect error messages to <u>filename</u>. This option exists to support operating systems
           on which stderr is not easily redirected.

       --prefix, --postfix
           Prepend or append (respectively) the given argument to all global or extern variables.

</pre><h4><b>SYNTAX</b></h4><pre>
       This man page does not fully describe the syntax of <b>nasm</b>'s assembly language, but does give a summary of
       the differences from other assemblers.

       <u>Registers</u> have no leading ‘%’ sign, unlike <b>gas</b>, and floating-point stack registers are referred to as
       <u>st0</u>, <u>st1</u>, and so on.

       <u>Floating-point</u> <u>instructions</u> may use either the single-operand form or the double. A <u>TO</u> keyword is
       provided; thus, one could either write

           fadd st0,st1
           fadd st1,st0

       or one could use the alternative single-operand forms

           fadd st1
           fadd to st1

       <u>Uninitialised</u> <u>storage</u> is reserved using the <u>RESB</u>, <u>RESW</u>, <u>RESD</u>, <u>RESQ</u>, <u>REST</u> and <u>RESO</u> pseudo-opcodes, each
       taking one parameter which gives the number of bytes, words, doublewords, quadwords or ten-byte words to
       reserve.

       <u>Repetition</u> of data items is not done by the <u>DUP</u> keyword as seen in DOS assemblers, but by the use of the
       <u>TIMES</u> prefix, like this:

           message: times 3 db 'abc'
                    times 64-$+message db 0

       which defines the string abcabcabc, followed by the right number of zero bytes to make the total length
       up to 64 bytes.

       <u>Symbol</u> <u>references</u> are always understood to be immediate (i.e. the address of the symbol), unless square
       brackets are used, in which case the contents of the memory location are used. Thus:

           mov ax,wordvar

       loads AX with the address of the variable wordvar, whereas

           mov ax,[wordvar]
           mov ax,[wordvar+1]
           mov ax,[es:wordvar+bx]

       all refer to the <u>contents</u> of memory locations. The syntaxes

           mov ax,es:wordvar[bx]
           es mov ax,wordvar[1]

       are not legal at all, although the use of a segment register name as an instruction prefix is valid, and
       can be used with instructions such as <u>LODSB</u> which can’t be overridden any other way.

       <u>Constants</u> may be expressed numerically in most formats: a trailing H, Q or B denotes hex, octal or binary
       respectively, and a leading ‘0x’ or ‘$’ denotes hex as well. Leading zeros are not treated specially at
       all. Character constants may be enclosed in single or double quotes; there is no escape character. The
       ordering is little-endian (reversed), so that the character constant <u>'abcd</u>' denotes 0x64636261 and not
       0x61626364.

       Local labels begin with a period, and their ‘locality’ is granted by the assembler prepending the name of
       the previous non-local symbol. Thus declaring a label ‘.loop’ after a label ‘label’ has actually defined
       a symbol called ‘label.loop’.

</pre><h4><b>DIRECTIVES</b></h4><pre>
       <u>SECTION</u> <u>name</u> or <u>SEGMENT</u> <u>name</u> causes <b>nasm</b> to direct all following code to the named section. Section names
       vary with output file format, although most formats support the names <u>.text</u>, <u>.data</u> and <u>.bss</u>. (The
       exception is the <u>obj</u> format, in which all segments are user-definable.)

       <u>ABSOLUTE</u> <u>address</u> causes <b>nasm</b> to position its notional assembly point at an absolute address: so no code
       or data may be generated, but you can use <u>RESB</u>, <u>RESW</u> and <u>RESD</u> to move the assembly point further on, and
       you can define labels. So this directive may be used to define data structures. When you have finished
       doing absolute assembly, you must issue another <u>SECTION</u> directive to return to normal assembly.

       <u>BITS</u> <u>16</u>, <u>BITS</u> <u>32</u> or <u>BITS</u> <u>64</u> switches the default processor mode for which <b>nasm</b> is generating code: it is
       equivalent to <u>USE16</u> or <u>USE32</u> in DOS assemblers.

       <u>EXTERN</u> <u>symbol</u> and <u>GLOBAL</u> <u>symbol</u> import and export symbol definitions, respectively, from and to other
       modules. Note that the <u>GLOBAL</u> directive must appear before the definition of the symbol it refers to.

       <u>STRUC</u> <u>strucname</u> and <u>ENDSTRUC</u>, when used to bracket a number of <u>RESB</u>, <u>RESW</u> or similar instructions, define
       a data structure. In addition to defining the offsets of the structure members, the construct also
       defines a symbol for the size of the structure, which is simply the structure name with <u>size</u> tacked on to
       the end.

</pre><h4><b>FORMAT-SPECIFIC</b> <b>DIRECTIVES</b></h4><pre>
       <u>ORG</u> <u>address</u> is used by the <u>bin</u> flat-form binary output format, and specifies the address at which the
       output code will eventually be loaded.

       <u>GROUP</u> <u>grpname</u> <u>seg1</u> <u>seg2</u>... is used by the obj (Microsoft 16-bit) output format, and defines segment
       groups. This format also uses <u>UPPERCASE</u>, which directs that all segment, group and symbol names output to
       the object file should be in uppercase. Note that the actual assembly is still case sensitive.

       <u>LIBRARY</u> <u>libname</u> is used by the <u>rdf</u> output format, and causes a dependency record to be written to the
       output file which indicates that the program requires a certain library in order to run.

</pre><h4><b>MACRO</b> <b>PREPROCESSOR</b></h4><pre>
       Single-line macros are defined using the <u>%define</u> or <u>%idefine</u> commands, in a similar fashion to the C
       preprocessor. They can be overloaded with respect to number of parameters, although defining a macro with
       no parameters prevents the definition of any macro with the same name taking parameters, and vice versa.
       <u>%define</u> defines macros whose names match case-sensitively, whereas <u>%idefine</u> defines case-insensitive
       macros.

       Multi-line macros are defined using <u>%macro</u> and <u>%imacro</u> (the distinction is the same as that between
       <u>%define</u> and <u>%idefine</u>), whose syntax is as follows

           %macro name minprm[-maxprm][+][.nolist] [defaults]
                   &lt;some lines of macro expansion text&gt;
           %endmacro

       Again, these macros may be overloaded. The trailing plus sign indicates that any parameters after the
       last one get subsumed, with their separating commas, into the last parameter. The <u>defaults</u> part can be
       used to specify defaults for unspecified macro parameters after <u>minparam</u>. <u>%endm</u> is a valid synonym for
       <u>%endmacro</u>.

       To refer to the macro parameters within a macro expansion, you use <u>%1</u>, <u>%2</u> and so on. You can also enforce
       that a macro parameter should contain a condition code by using <u>%+1</u>, and you can invert the condition
       code by using <u>%-1</u>. You can also define a label specific to a macro invocation by prefixing it with a
       double ‘%’ sign.

       Files can be included using the <u>%include</u> directive, which works like C.

       The preprocessor has a ‘context stack’, which may be used by one macro to store information that a later
       one will retrieve. You can push a context on the stack using <u>%push</u>, remove one using <u>%pop</u>, and change the
       name of the top context (without disturbing any associated definitions) using <u>%repl</u>. Labels and <u>%define</u>
       macros specific to the top context may be defined by prefixing their names with %$, and things specific
       to the next context down with %$$, and so on.

       Conditional assembly is done by means of <u>%ifdef</u>, <u>%ifndef</u>, <u>%else</u> and <u>%endif</u> as in C. (Except that <u>%ifdef</u>
       can accept several putative macro names, and will evaluate TRUE if any of them is defined.) In addition,
       the directives <u>%ifctx</u> and <u>%ifnctx</u> can be used to condition on the name of the top context on the context
       stack. The obvious set of ‘else-if’ directives, <u>%elifdef</u>, <u>%elifndef</u>, <u>%elifctx</u> and <u>%elifnctx</u> are also
       supported.

</pre><h4><b>BUGS</b></h4><pre>
       Please report bugs through the bug tracker function at <b><a href="http://nasm.us">http://nasm.us</a></b>.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man1/as.1.html">as</a></b>(1), <b><a href="../man1/ld.1.html">ld</a></b>(1).

NASM                                               04/17/2024                                            <u><a href="../man1/NASM.1.html">NASM</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>