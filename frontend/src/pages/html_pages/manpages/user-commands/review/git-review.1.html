<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>git-review — Submit changes to Gerrit for review</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/git-review">git-review_2.4.0-1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       git-review — Submit changes to Gerrit for review

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>git-review</b> [<b>-r</b> <u>remote</u>] [<b>-uv</b>] <b>-d</b> <u>change</u> [<u>branch</u>]
       <b>git-review</b> [<b>-r</b> <u>remote</u>] [<b>-uv</b>] <b>-x</b> <u>change</u> [<u>branch</u>]
       <b>git-review</b> [<b>-r</b> <u>remote</u>] [<b>-uv</b>] <b>-N</b> <u>change</u> [<u>branch</u>]
       <b>git-review</b> [<b>-r</b> <u>remote</u>] [<b>-uv</b>] <b>-X</b> <u>change</u> [<u>branch</u>]
       <b>git-review</b> [<b>-r</b> <u>remote</u>] [<b>-uv</b>] <b>-m</b> <u>change-ps-range</u> [<u>branch</u>]
       <b>git-review</b> [<b>-r</b> <u>remote</u>] [<b>-fnuv</b>] <b>-s</b> [<u>branch</u>]
       <b>git-review</b> [<b>-fnuvDRT</b>] [<b>-r</b> <u>remote</u>] [<b>-t</b> <u>topic</u>] [<b>--reviewers</b> <u>reviewer</u> <u>...</u>] [<b>--notify</b> <u>type</u>] [<u>branch</u>]
       <b>git-review</b> <b>-l</b>
       <b>git-review</b> <b>--version</b>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>git-review</b> automates and streamlines some of the tasks involved with submitting local changes to a Gerrit
       server  for review. It is designed to make it easier to comprehend Gerrit, especially for users that have
       recently switched to Git from another version control system.

       <u>change</u> can be <u>changeNumber</u> as obtained using <b>--list</b> option, or it can be <u>changeNumber,patchsetNumber</u>  for
       fetching   exact   patchset   from   the   change.    In   that  case  local  branch  name  will  have  a
       -patch[patchsetNumber] suffix.

       The following options are available:

       <b>-d</b> <u>change</u>, <b>--download=</b><u>change</u>
               Download <u>change</u> from Gerrit into a local branch. The branch will be named after the patch  author
               and  the name of a topic.  If the local branch already exists, it will attempt to update with the
               latest patchset for this change.

       <b>-x</b> <u>change</u>, <b>--cherrypick=</b><u>change</u>
               Apply <u>change</u> from Gerrit and commit into the current local branch ("cherry pick").  No additional
               branch is created.

               This makes it possible to review a change without creating a local branch for it.  On  the  other
               hand,  be  aware:  if  you  are  not  careful, this can easily result in additional patchsets for
               dependent changes. Also, if the current branch is different enough, the change may not  apply  at
               all or produce merge conflicts that need to be resolved by hand.

       <b>-N</b> <u>change</u>, <b>--cherrypickonly=</b><u>change</u>
               Apply  <u>change</u>  from  Gerrit  into the current working directory, add it to the staging area ("git
               index"), but do not commit it.

               This makes it possible to review a change without creating a local commit for it. Useful  if  you
               want to merge several commits into one that will be submitted for review.

               If  the  current  branch  is  different  enough, the change may not apply at all or produce merge
               conflicts that need to be resolved by hand.

       <b>-X</b> <u>change</u>, <b>--cherrypickindicate=</b><u>change</u>
               Apply <u>change</u> from Gerrit and commit into the current local  branch  ("cherry  pick"),  indicating
               which commit this change was cherry-picked from.

               This  makes  it  possible  to  re-review a change for a different branch without creating a local
               branch for it.

               If the current branch is different enough, the change may not  apply  at  all  or  produce  merge
               conflicts that need to be resolved by hand.

       <b>-i</b>, <b>--new-changeid</b>
               Force the git-review to generate a new Change-Id, even if one already exists in the changelog.

       <b>-m</b> <u>change-ps-range</u>, <b>--compare=</b><u>change-ps-range</u>
               Download  the  specified   patchsets  for  <u>change</u>  from Gerrit, rebase both on master and display
               differences (git-diff).

               <u>change-ps-range</u> can be specified as <u>changeNumber,oldPatchSetNumber</u>[<u>-newPatchSetNumber</u>]

               <u>oldPatchSetNumber</u> is mandatory, and if <u>newPatchSetNumber</u> is not specified,  the  latest  patchset
               will be used.

               This  makes  it  possible  to  easily  compare  what  has changed from last time you reviewed the
               proposed change.

               If the master branch is different enough, the  rebase  can  produce  merge  conflicts.   If  that
               happens  rebasing  will be aborted and diff displayed for not-rebased branches.  You can also use
               <u>--no-rebase</u> (<u>-R</u>) to always skip the test rebase or <u>--keep-rebase</u>  (<u>-K</u>)  to  keep  the  incomplete
               state rather than having it automatically aborted.

       <b>-f</b>, <b>--finish</b>
               Close down the local branch and switch back to the target branch on successful submission.

       <b>-F</b>, <b>--force-rebase</b>
               Force  a  rebase before doing anything else, even if not otherwise needed. Unlike the normal test
               rebase, this rebase will be kept. Use if you know you want to push a commit automatically rebased
               onto the current state of the target branch. This is discouraged if amending an existing  change,
               since  it  creates  unnecessary  additional  differences  from the previous revision and so makes
               things harder for reviewers of your changes.

       <b>-n</b>, <b>--dry-run</b>
               Don't actually perform any commands that have direct effects. Print them instead.

       <b>-r</b> <u>remote</u>, <b>--remote=</b><u>remote</u>
               Git remote to use for Gerrit.

       <b>--remote-hook</b>
               When installing the commit-msg hook, fetch it from the remote  rather  than  using  the  built-in
               version.

       <b>-s</b>, <b>--setup</b>
               Just run the repo setup commands but don't submit anything.

       <b>-t</b> <u>topic</u>, <b>--topic=</b><u>topic</u>
               Sets  the target topic for this change on the Gerrit server.  If not specified, a bug number from
               the commit summary will be used. Alternatively, the local branch name will be used  if  different
               from remote branch.

       <b>-T</b>, <b>--no-topic</b>
               Submit review without topic.

       <b>--hashtags=</b><u>taglist</u>
               Comma-separated list of hashtag strings for this change, no spaces allowed.

       <b>--message=</b><u>message</u>
               Optional quoted message to include with the patchset.

       <b>-p</b>, <b>--private</b>
               Send patch as a private patch ready for review. Gerrit versions &gt;= 2.15

       <b>-P</b>, <b>--remove-private</b>
               Send patch which already in private state to normal patch. Gerrit versions &gt;= 2.15

       <b>-w</b>, <b>--wip</b>, <b>--work-in-progress</b>
               Send patch as work in progress for Gerrit versions &gt;= 2.15

       <b>-W</b>, <b>--ready</b>
               Send patch that is already work in progress as ready for review. Gerrit versions &gt;= 2.15

       <b>--reviewers</b> <u>reviewer</u> <u>...</u>
               Subscribe  one  or more reviewers to the uploaded patchsets.  Reviewers should be identifiable by
               Gerrit (usually use their Gerrit username or email address).

       <b>--notify</b> <u>type</u>
               Control to whom email notifications are sent.  Possible values are NONE, OWNER,  OWNER_REVIEWERS,
               ALL (the last one is the default).

       <b>-u</b>, <b>--update</b>
               Skip cached local copies and force updates from network resources.

       <b>-l</b>, <b>--list</b>
               List the available reviews on the Gerrit server for this project.

       <b>-y</b>, <b>--yes</b>
               Indicate that you do, in fact, understand if you are submitting more than one patch.

       <b>-v</b>, <b>--verbose</b>
               Turns on more verbose output.

       <b>-R</b>, <b>--no-rebase</b>
               Don't  test  for  possible  merge  conflicts  with the target branch before pushing.  If the test
               rebase detects no merge conflicts then the rebase is undone and your previous state is pushed. If
               merge conflicts are detected git-review exits with the rebase in progress allowing you to address
               it manually. By default git-review will never push the results of a rebase without your  explicit
               involvement.

               Use the this option to skip the merge conflict test, allowing you to push merge conflicts.

               Also can be used for <b>--compare</b> to skip automatic rebase of fetched reviews.

       <b>-K</b>, <b>--keep-rebase</b>
               If  the test rebase before pushing fails, keep the incomplete rebase state in the worktree rather
               than automatically aborting it to clean up.

       <b>--no-thin</b>
               Disable thin pushes when pushing to Gerrit. This  should  only  be  used  if  you  are  currently
               experiencing  unpack  failures  due to missing trees. It should not be required in typical day to
               day use.

       <b>--color</b> <u>always|never|auto</u>
               Enable or disable a color output. Default is "auto".

       <b>--no-color</b>
               Same thing as --color=never.

       <b>--no-custom-script</b>
               Do not run scripts, installed as hooks/{action}-review, where action is one of "pre" or "post".

       <b>--track</b>
               Choose the branch to submit the change against (and, if rebasing, to  rebase  against)  from  the
               branch being tracked (if a branch is being tracked), and set the tracking branch when downloading
               a  change  to  point  to  the  remote  and branch against which patches should be submitted.  See
               gitreview.track configuration.

       <b>--no-track</b>
               Ignore any branch being tracked by the current branch, overriding gitreview.track.   This  option
               is implied by providing a specific branch name on the command line.

       <b>--use-pushurl</b>
               Use the pushurl option for the origin remote rather than conventional separate Gerrit remotes.

       <b>--license</b>
               Print the license text and exit.

       <b>--version</b>
               Print the version number and exit.

       <b>--help</b>  Print the short help message and exit.

</pre><h4><b>CONFIGURATION</b></h4><pre>
       This utility can be configured by adding entries to Git configuration.

       The following configuration keys are supported:

       gitreview.username
               Default  username  used  to access the repository. If not specified in the Git configuration, Git
               remote or <u>.gitreview</u> file, the user will be prompted to specify the username.

               Example entry in the <u>.gitconfig</u> file:

                     [gitreview]
                     username=<u>mygerrituser</u>

       gitreview.scheme
               This setting determines the default scheme (ssh/http/https) of gerrit remote

       gitreview.host
               This setting determines the default hostname of gerrit remote

       gitreview.port
               This setting determines the default port of gerrit remote

       gitreview.project
               This setting determines the default name of gerrit git repo

       gitreview.remote
               This setting determines the default name to use for gerrit remote

       gitreview.branch
               This setting determines the default branch

       gitreview.notopic
               Set to true to never submit with a default topic

       gitreview.track
               Determines whether to prefer the currently-tracked branch (if any) and the branch  against  which
               the  changeset was submitted to Gerrit (if there is exactly one such branch) to the defaultremote
               and defaultbranch for submitting and rebasing against.  If the local topic branch is  tracking  a
               remote  branch,  the remote and branch that the local topic branch is tracking should be used for
               submit and rebase operations, rather than the defaultremote and defaultbranch.

               When downloading a patch, creates the local branch to track the appropriate remote and branch  in
               order to choose that branch by default when submitting modifications to that changeset.

               A value of 'true' or 'false' should be specified.

               true    Do  prefer  the  currently-tracked  branch  (if any) - equivalent to setting <b>--track</b> when
                       submitting changes.

               false   Ignore tracking branches - equivalent to setting <b>--no-track</b> (the default) or providing an
                       explicit branch name when submitting changes. This is the default value unless overridden
                       by <u>.gitreview</u> file, and is implied by providing a specific branch  name  on  the  command
                       line.

       gitreview.usepushurl
               This setting determines whether to use a separate Git remote for the Gerrit connection, or to set
               'pushurl' on the remote 'origin'.

               A value of 'true' or 'false' should be specified.

               false   Do not use 'pushurl' and instead use a separate remote.

               true    Use 'pushurl' for interacting with Gerrit.

       gitreview.rebase
               This  setting  determines  whether  changes  submitted will be rebased to the newest state of the
               branch.

               A value of 'true' or 'false' should be specified.

               false   Do not rebase changes on submit - equivalent to setting <b>-R</b> when submitting changes.

               true    Do rebase changes on submit. This is the default value unless  overridden  by  <u>.gitreview</u>
                       file.

               This setting takes precedence over repository-specific configuration in the <u>.gitreview</u> file.

       gitreview.branchauthor
               This  setting  changes  the  look of the author part when naming the local branch of a downloaded
               change.  Value must be one of "name", "email", or "username". Default is  "name".  See  also  the
               <b>--download</b> option.

       color.review
               Whether  to  use  ANSI  escape  sequences  to  add color to the output displayed by this command.
               Default value is determined by color.ui.

               auto or true
                       If you want output to use color when written to the terminal (default with Git 1.8.4  and
                       newer).

               always  If you want all output to use color

               never or false
                       If you wish not to use color for any output. (default with Git older than 1.8.4)

       <b>git-review</b>  will  query  git  credential  system for Gerrit user/password when authentication failed over
       http(s). Unlike git, <b>git-review</b> does not persist  Gerrit  user/password  in  git  credential  system  for
       security purposes and git credential system configuration stays under user responsibility.

</pre><h4><b>FILES</b></h4><pre>
       To  use  <b>git-review</b>  with  your  project,  it  is  recommended  that you create a file at the root of the
       repository named <u>.gitreview</u> and place information about your Gerrit installation in it.   The  format  is
       similar to the Windows .ini file format:

             [gerrit]
             host=<u>hostname</u>
             port=<u>TCP</u> <u>port</u> <u>number</u> <u>of</u> <u>gerrit</u>
             project=<u>project</u> <u>name</u>
             defaultbranch=<u>branch</u> <u>to</u> <u>work</u> <u>on</u>

       It  is  also  possible  to  specify  optional  default  name  for  the Git remote using the <b>defaultremote</b>
       configuration parameter.

       Setting <b>defaultrebase</b> to zero will make <b>git-review</b> not to rebase changes  by  default  (same  as  the  <b>-R</b>
       command line option)

             [gerrit]
             scheme=ssh
             host=review.example.com
             port=29418
             project=department/project.git
             defaultbranch=master
             defaultremote=review
             defaultrebase=0
             track=0

       When the same option is provided through FILES and CONFIGURATION, the CONFIGURATION value wins.

</pre><h4><b>DIAGNOSTICS</b></h4><pre>
       Normally,  exit  status  is 0 if executed successfully.  Exit status 1 indicates general error, sometimes
       more specific error codes are available:

       2    Gerrit <u>commit-msg</u> hook could not be successfully installed.

       3    Could not parse malformed argument value or user input.

       32   Cannot fetch list of open changesets from Gerrit.

       33   Cannot parse list of open changesets received from Gerrit.

       34   Cannot query information about changesets.

       35   Cannot fetch information about the changeset to be downloaded.

       36   Changeset not found.

       37   Particular patchset cannot be fetched from the remote git repository.

       38   Specified patchset number not found in the changeset.

       39   Invalid patchsets for comparison.

       40   Connection to Gerrit was closed.

       64   Cannot checkout downloaded patchset into the new branch.

       65   Cannot checkout downloaded patchset into existing branch.

       66   Cannot hard reset working directory and git index after download.

       67   Cannot switch to some other branch when trying to finish the current branch.

       68   Cannot delete current branch.

       69   Requested patchset cannot be fully applied to the current branch.  This exit status will be returned
            when there are merge conflicts with the current branch.  Possible  reasons  include  an  attempt  to
            apply  patchset  from  the  different branch or code.  This exit status will also be returned if the
            patchset is already applied to the current branch.

       70   Cannot determine top level Git directory or .git subdirectory path.

       101  Unauthorized (401) http request done by git-review.

       104  Not Found (404) http request done by git-review.

       Exit status larger than 31 indicates problem with communication with Gerrit  or  remote  Git  repository,
       exit status larger than 63 means there was a problem with a local repository or a working copy.

       Exit status larger than or equal to 128 means internal error in running the "git" command.

</pre><h4><b>EXAMPLES</b></h4><pre>
       To fetch a remote change number 3004:

             $ git-review -d 3004
             Downloading refs/changes/04/3004/1 from gerrit into
             review/someone/topic_name
             Switched to branch 'review/someone/topic_name
             $ git branch
               master
             * review/author/topic_name

       Gerrit  looks  up  both  name  of  the author and the topic name from Gerrit to name a local branch. This
       facilitates easier identification of changes.

       To fetch a remote patchset number 5 from change number 3004:

             $ git-review -d 3004,5
             Downloading refs/changes/04/3004/5 from gerrit into
             review/someone/topic_name-patch5
             Switched to branch 'review/someone/topic_name-patch5
             $ git branch
               master
             * review/author/topic_name-patch5

       To send a change for review and delete local branch afterwards:

             $ git-review -f
             remote: Resolving deltas:   0% (0/8)
             To ssh://<a href="mailto:username@review.example.com">username@review.example.com</a>/department/project.git
              * [new branch]      HEAD -&gt; refs/for/master/topic_name
             Switched to branch 'master'
             Deleted branch 'review/someone/topic_name'
             $ git branch
             * master

       An example <u>.gitreview</u> configuration file for a project <u>department/project</u>  hosted  on  <b>review.example.com</b>
       port <b>29418</b> in the branch <b>master</b> :

             [gerrit]
             host=review.example.com
             port=29418
             project=department/project.git
             defaultbranch=master

</pre><h4><b>BUGS</b></h4><pre>
       Bug reports can be submitted to https://storyboard.openstack.org/#!/project/opendev/git-review

</pre><h4><b>AUTHORS</b></h4><pre>
       <b>git-review</b> is maintained by OpenDev Contributors

       This manpage has been enhanced by:
       Antoine Musso &lt;<a href="mailto:hashar@free.fr">hashar@free.fr</a>&gt;
       Jeremy Stanley &lt;<a href="mailto:fungi@yuggoth.org">fungi@yuggoth.org</a>&gt;
       Marcin Cieslak &lt;<a href="mailto:saper@saper.info">saper@saper.info</a>&gt;
       Pavel Sedlák &lt;<a href="mailto:psedlak@redhat.com">psedlak@redhat.com</a>&gt;

                                                   2021-02-09                                      <u><a href="../man1/GIT-REVIEW.1.html">GIT-REVIEW</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>