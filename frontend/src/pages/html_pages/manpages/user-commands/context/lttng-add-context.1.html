<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>lttng-add-context - Add context fields to be recorded by LTTng</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/lttng-tools">lttng-tools_2.13.14-2_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       lttng-add-context - Add context fields to be recorded by LTTng

</pre><h4><b>SYNOPSIS</b></h4><pre>
       Add context fields to be recorded to the event records of one or more channels:

       <b>lttng</b> [<u>GENERAL</u> <u>OPTIONS</u>] <b>add-context</b>
             (<b>--kernel</b> | <b>--userspace</b> | <b>--jul</b> | <b>--log4j</b>)
             [<b>--session</b>=<u>SESSION</u>] [<b>--channel</b>=<u>CHANNEL</u>]
             <b>--type</b>=<u>TYPE</u> [<b>--type</b>=<u>TYPE</u>]...

       List the available context field types:

       <b>lttng</b> [<u>GENERAL</u> <u>OPTIONS</u>] <b>add-context</b> <b>--list</b>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The <b>lttng</b> <b>add-context</b> command can:

       Without the <b>--list</b> option
           Add one or more context fields to be recorded by LTTng to the event records of:

           With the <b>--session</b>=<u>SESSION</u> option
               The recording session named <u>SESSION</u>.

           Without the <b>--session</b> option
               The current recording session (see <b><a href="../man7/lttng-concepts.7.html">lttng-concepts</a></b>(7) to learn more about the current recording
               session).

           With the <b>--channel</b>=<u>CHANNEL</u>
               The channel named <u>CHANNEL</u>.

           Without the <b>--channel</b> option
               <b>All</b> the channels of the selected recording session.

       With the <b>--list</b> option
           List the available context field types.

       See <b><a href="../man7/lttng-concepts.7.html">lttng-concepts</a></b>(7) to learn more about recording sessions and channels.

       Repeat the <b>--type</b>=<u>TYPE</u> option to add more than one context field to be recorded. <u>TYPE</u> is one of:

       •   A statically-known, or built-in context field named.

       •   A perf counter name:

           Per-CPU
               Prefix: <b>perf:cpu:</b>

               Only available with the <b>--kernel</b> option.

           Per-thread
               Prefix: <b>perf:thread:</b>

               Only available with the <b>--userspace</b>, <b>--jul</b>, or <b>--log4j</b> option.

           Add Performance Monitoring Unit (PMU) counter context fields by raw ID with the <b>perf:cpu:raw:r</b><u>N</u><b>:</b><u>NAME</u>
           (<b>--kernel</b> option) or <b>perf:thread:raw:r</b><u>N</u><b>:</b><u>NAME</u> (<b>--userspace</b>, <b>--jul</b>, or <b>--log4j</b> option) types, with:

           <u>N</u>
               A hexadecimal event descriptor which follows the <b><a href="../man1/perf-record.1.html">perf-record</a></b>(1) format: a concatenation of the
               event number and umask value which the manufacturer of the processor provides.

               The possible values for this part are processor-specific.

           <u>NAME</u>
               Custom name to identify the counter.

       •   An LTTng application-specific context field name:

               $app.<u>PROVIDER</u>:<u>TYPE</u>
           + <u>PROVIDER</u>:: Provider name.

           <u>TYPE</u>
               Context type name.

           Only available with the <b>--jul</b> and <b>--log4j</b> options.

       <b>Important</b>

           Make sure to <b>single-quote</b> <u>TYPE</u> when you run the <b>add-context</b> command from a shell, as <b>$</b> is a special
           character for variable substitution in most shells.

       <b>Note</b>

           As of LTTng 2.13.14, you may NOT add context fields to be recorded to the event records of a given
           channel once its recording session has been started (see <b><a href="../man1/lttng-start.1.html">lttng-start</a></b>(1)) at least once.

       See the “EXAMPLES” section below for usage examples.

</pre><h4><b>OPTIONS</b></h4><pre>
       See <b><a href="../man1/lttng.1.html">lttng</a></b>(1) for <u>GENERAL</u> <u>OPTIONS</u>.

   <b>Tracing</b> <b>domain</b>
       One of:

       <b>-j</b>, <b>--jul</b>
           Add context fields to be recorded to the event records of one or more channels of the
           <b>java.util.logging</b> (JUL) tracing domain.

       <b>-k</b>, <b>--kernel</b>
           Add context fields to be recorded to the event records of one or more channels of the Linux kernel
           tracing domain.

       <b>-l</b>, <b>--log4j</b>
           Add context fields to be recorded to the event records of one or more channels of the Apache log4j
           tracing domain.

       <b>-u</b>, <b>--userspace</b>
           Add context fields to be recorded to the event records of one or more channels of the user space
           tracing domain.

   <b>Recording</b> <b>target</b>
       <b>-c</b> <u>CHANNEL</u>, <b>--channel</b>=<u>CHANNEL</u>
           Add context fields to be recorded to the event records of a channel named <u>CHANNEL</u> instead of all the
           channels of the selected recording session.

       <b>-s</b> <u>SESSION</u>, <b>--session</b>=<u>SESSION</u>
           Add context fields to be recorded to the event records of one or more channels of the recording
           session named <u>SESSION</u> instead of the current recording session.

   <b>Context</b> <b>field</b> <b>type</b>
       <b>--list</b>
           List the available context field types.

           You may NOT use this option with the <b>--channel</b>, <b>--session</b>, or <b>--type</b> options.

       <b>-t</b> <u>TYPE</u>, <b>--type</b>=<u>TYPE</u>
           Add a context field having the type <u>TYPE</u> to be recorded.

           Repeat this option to add more than one context field.

   <b>Program</b> <b>information</b>
       <b>-h</b>, <b>--help</b>
           Show help.

           This option attempts to launch <b><a href="file:///usr/lib/w3m/cgi-bin/w3mman2html.cgi?man">/usr/bin/man</a></b> to view this manual page. Override the manual pager path
           with the <b>LTTNG_MAN_BIN_PATH</b> environment variable.

       <b>--list-options</b>
           List available command options and quit.

</pre><h4><b>EXIT</b> <b>STATUS</b></h4><pre>
       <b>0</b>
           Success

       <b>1</b>
           Command error

       <b>2</b>
           Undefined command

       <b>3</b>
           Fatal error

       <b>4</b>
           Command warning (something went wrong during the command)

</pre><h4><b>ENVIRONMENT</b></h4><pre>
       <b>LTTNG_ABORT_ON_ERROR</b>
           Set to <b>1</b> to abort the process after the first error is encountered.

       <b>LTTNG_HOME</b>
           Path to the LTTng home directory.

           Defaults to <b>$HOME</b>.

           Useful when the Unix user running the commands has a non-writable home directory.

       <b>LTTNG_MAN_BIN_PATH</b>
           Absolute path to the manual pager to use to read the LTTng command-line help (with <b><a href="../man1/lttng-help.1.html">lttng-help</a></b>(1) or
           with the <b>--help</b> option) instead of <b><a href="file:///usr/lib/w3m/cgi-bin/w3mman2html.cgi?man">/usr/bin/man</a></b>.

       <b>LTTNG_SESSION_CONFIG_XSD_PATH</b>
           Path to the directory containing the <b>session.xsd</b> recording session configuration XML schema.

       <b>LTTNG_SESSIOND_PATH</b>
           Absolute path to the LTTng session daemon binary (see <b><a href="../man8/lttng-sessiond.8.html">lttng-sessiond</a></b>(8)) to spawn from the <b><a href="../man1/lttngcreate.1.html">lttng-</a></b>
           <b><a href="../man1/lttngcreate.1.html">create</a></b>(1) command.

           The <b>--sessiond-path</b> general option overrides this environment variable.

</pre><h4><b>FILES</b></h4><pre>
       <b>$LTTNG_HOME/.lttngrc</b>
           Unix user’s LTTng runtime configuration.

           This is where LTTng stores the name of the Unix user’s current recording session between executions
           of <b><a href="../man1/lttng.1.html">lttng</a></b>(1).  <b><a href="../man1/lttng-create.1.html">lttng-create</a></b>(1) and <b><a href="../man1/lttng-set-session.1.html">lttng-set-session</a></b>(1) set the current recording session.

       <b>$LTTNG_HOME/lttng-traces</b>
           Default output directory of LTTng traces in local and snapshot modes.

           Override this path with the <b>--output</b> option of the <b><a href="../man1/lttng-create.1.html">lttng-create</a></b>(1) command.

       <b>$LTTNG_HOME/.lttng</b>
           Unix user’s LTTng runtime and configuration directory.

       <b>$LTTNG_HOME/.lttng/sessions</b>
           Default directory containing the Unix user’s saved recording session configurations (see <b><a href="../man1/lttngsave.1.html">lttng-</a></b>
           <b><a href="../man1/lttngsave.1.html">save</a></b>(1) and <b><a href="../man1/lttng-load.1.html">lttng-load</a></b>(1)).

       <b>/etc/lttng/sessions</b>
           Directory containing the system-wide saved recording session configurations (see <b><a href="../man1/lttng-save.1.html">lttng-save</a></b>(1) and
           <b><a href="../man1/lttng-load.1.html">lttng-load</a></b>(1)).

       <b>Note</b>

           <b>$LTTNG_HOME</b> defaults to the value of the <b>HOME</b> environment variable.

</pre><h4><b>EXAMPLES</b></h4><pre>
       <b>Example</b> <b>1.</b> <b>List</b> <b>the</b> <b>available</b> <b>context</b> <b>field</b> <b>types.</b>

           See the <b>--list</b> option.

               $ lttng add-context --list

       <b>Example</b> <b>2.</b> <b>Add</b> <b>a</b> <b>single</b> <b>statically-known</b> <b>context</b> <b>field</b> <b>to</b> <b>be</b> <b>recorded</b> <b>to</b> <b>all</b> <b>the</b> <b>Linux</b> <b>kernel</b> <b>channels</b> <b>of</b>
       <b>the</b> <b>current</b> <b>recording</b> <b>session.</b>

               $ lttng add-context --kernel --type=pid

       <b>Example</b> <b>3.</b> <b>Add</b> <b>three</b> <b>statically-known</b> <b>context</b> <b>fields</b> <b>to</b> <b>be</b> <b>recorded</b> <b>to</b> <b>a</b> <b>specific</b> <b>user</b> <b>space</b> <b>channel</b> <b>of</b> <b>a</b>
       <b>specific</b> <b>recording</b> <b>session.</b>

           See the <b>--session</b> and <b>--channel</b> options.

               $ lttng add-context --userspace --session=my-session \
                                   --channel=my-channel \
                                   --type=vpid --type=procname --type=ip

       <b>Example</b> <b>4.</b> <b>Add</b> <b>a</b> <b>perf</b> <b>counter</b> <b>context</b> <b>field</b> <b>to</b> <b>be</b> <b>recorded</b> <b>to</b> <b>a</b> <b>specific</b> <b>Linux</b> <b>kernel</b> <b>channel</b> <b>of</b> <b>the</b>
       <b>current</b> <b>recording</b> <b>session.</b>

           See the <b>--channel</b> option.

               $ lttng add-context --kernel --channel=my-channel \
                                   --type=perf:cpu:cache-misses

       <b>Example</b> <b>5.</b> <b>Add</b> <b>an</b> <b>LTTng</b> <b>application-specific</b> <b>context</b> <b>field</b> <b>to</b> <b>be</b> <b>recorded</b> <b>to</b> <b>all</b> <b>the</b> <b>JUL</b> <b>channels</b> <b>of</b> <b>the</b>
       <b>current</b> <b>recording</b> <b>session.</b>

               $ lttng add-context --jul --type='$app.my_server:user_cnt'

</pre><h4><b>RESOURCES</b></h4><pre>
       •   LTTng project website &lt;https://lttng.org&gt;

       •   LTTng documentation &lt;https://lttng.org/docs&gt;

       •   LTTng bug tracker &lt;https://bugs.lttng.org&gt;

       •   Git repositories &lt;https://git.lttng.org&gt;

       •   GitHub organization &lt;https://github.com/lttng&gt;

       •   Continuous integration &lt;https://ci.lttng.org/&gt;

       •   Mailing list &lt;https://lists.lttng.org/&gt; for support and development: <b><a href="mailto:lttng-dev@lists.lttng.org">lttng-dev@lists.lttng.org</a></b>

       •   IRC channel &lt;irc://irc.oftc.net/lttng&gt;: <b>#lttng</b> on <b>irc.oftc.net</b>

</pre><h4><b>COPYRIGHT</b></h4><pre>
       This program is part of the LTTng-tools project.

       LTTng-tools is distributed under the GNU General Public License version 2
       &lt;<a href="http://www.gnu.org/licenses/old-licenses/gpl-2.0.en.html">http://www.gnu.org/licenses/old-licenses/gpl-2.0.en.html</a>&gt;. See the <b>LICENSE</b>
       &lt;https://github.com/lttng/lttng-tools/blob/master/LICENSE&gt; file for details.

</pre><h4><b>THANKS</b></h4><pre>
       Special thanks to Michel Dagenais and the DORSAL laboratory &lt;<a href="http://www.dorsal.polymtl.ca/">http://www.dorsal.polymtl.ca/</a>&gt; at École
       Polytechnique de Montréal for the LTTng journey.

       Also thanks to the Ericsson teams working on tracing which helped us greatly with detailed bug reports
       and unusual test cases.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man1/lttng.1.html">lttng</a></b>(1), <b><a href="../man1/lttng-enable-channel.1.html">lttng-enable-channel</a></b>(1), <b><a href="../man7/lttng-concepts.7.html">lttng-concepts</a></b>(7)

LTTng 2.13.14                                     14 June 2021                              <u><a href="../man1/LTTNG-ADD-CONTEXT.1.html">LTTNG-ADD-CONTEXT</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>