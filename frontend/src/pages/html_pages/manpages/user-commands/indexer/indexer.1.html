<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>indexer - Sphinxsearch fulltext index generator</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/sphinxsearch">sphinxsearch_2.2.11-8build4_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       indexer - Sphinxsearch fulltext index generator

</pre><h4><b>SYNOPSIS</b></h4><pre>

       <b>indexer</b> [--config <u>CONFIGFILE</u>] [--rotate] [--noprogress | --quiet] [--all | <u>INDEX</u> | <u>...</u>]

       <b>indexer</b> --buildstops <u>OUTPUTFILE</u> <u>COUNT</u> [--config <u>CONFIGFILE</u>] [--noprogress | --quiet] [--all | <u>INDEX</u> |
               <u>...</u>]

       <b>indexer</b> --merge <u>MAIN_INDEX</u> <u>DELTA_INDEX</u> [--config <u>CONFIGFILE</u>] [--rotate] [--noprogress | --quiet]

</pre><h4><b>DESCRIPTION</b></h4><pre>
       Sphinx is a collection of programs that aim to provide high quality fulltext search.

       <b>indexer</b> is the first of the two principle tools as part of Sphinx. Invoked from either the command line
       directly, or as part of a larger script, <b>indexer</b> is solely responsible for gathering the data that will
       be searchable.

       The calling syntax for indexer is as follows:

           $ indexer [OPTIONS] [indexname1 [indexname2 [...]]]

       Essentially you would list the different possible indexes (that you would later make available to search)
       in sphinx.conf, so when calling <b>indexer</b>, as a minimum you need to be telling it what index (or indexes)
       you want to index.

       If sphinx.conf contained details on 2 indexes, <u>mybigindex</u> and <u>mysmallindex</u>, you could do the following:

           $ indexer mybigindex
           $ indexer mysmallindex mybigindex

       As part of the configuration file, sphinx.conf, you specify one or more indexes for your data. You might
       call <b>indexer</b> to reindex one of them, ad-hoc, or you can tell it to process all indexes - you are not
       limited to calling just one, or all at once, you can always pick some combination of the available
       indexes.

</pre><h4><b>OPTIONS</b></h4><pre>
       The majority of the options for <b>indexer</b> are given in the configuration file, however there are some
       options you might need to specify on the command line as well, as they can affect how the indexing
       operation is performed. These options are:

       <b>--all</b>
           Tells <b>indexer</b> to update every index listed in sphinx.conf, instead of listing individual indexes.
           This would be useful in small configurations, or cron-type or maintenance jobs where the entire index
           set will get rebuilt each day, or week, or whatever period is best.

           Example usage:

               $ indexer --config /home/myuser/sphinx.conf --all

       <b>--buildstops</b> <u>outfile.txt</u> <u>NUM</u>
           Reviews the index source, as if it were indexing the data, and produces a list of the terms that are
           being indexed. In other words, it produces a list of all the searchable terms that are becoming part
           of the index. Note; it does not update the index in question, it simply processes the data 'as if' it
           were indexing, including running queries defined with <u>sql_query_pre</u> or <u>sql_query_post</u>.
           outputfile.txt will contain the list of words, one per line, sorted by frequency with most frequent
           first, and <u>NUM</u> specifies the maximum number of words that will be listed; if sufficiently large to
           encompass every word in the index, only that many words will be returned. Such a dictionary list
           could be used for client application features around "Did you mean..." functionality, usually in
           conjunction with <b>--buildfreqs</b>, below.

           Example:

               $ indexer myindex --buildstops word_freq.txt 1000

           This would produce a document in the current directory, word_freq.txt with the 1,000 most common
           words in 'myindex', ordered by most common first. Note that the file will pertain to the last index
           indexed when specified with multiple indexes or <b>--all</b> (i.e. the last one listed in the configuration
           file)

       <b>--buildfreqs</b>
           Used in pair with <b>--buildstops</b> (and is ignored if <b>--buildstops</b> is not specified). As <b>--buildstops</b>
           provides the list of words used within the index, <b>--buildfreqs</b> adds the quantity present in the
           index, which would be useful in establishing whether certain words should be considered stopwords if
           they are too prevalent. It will also help with developing "Did you mean..." features where you can
           how much more common a given word compared to another, similar one.

           Example:

               $ indexer myindex --buildstops word_freq.txt 1000 --buildfreqs

           This would produce the word_freq.txt as above, however after each word would be the number of times
           it occurred in the index in question.

       <b>--config</b> <u>CONFIGRILE</u>, <b>-c</b> <u>CONFIGFILE</u>
           Use the given file as configuration. Normally, it will look for sphinx.conf in the installation
           directory (e.g./usr/local/sphinx/etc/sphinx.conf if installed into /usr/local/sphinx), followed by
           the current directory you are in when calling indexer from the shell. This is most of use in shared
           environments where the binary files are installed somewhere like /usr/local/sphinx/ but you want to
           provide users with the ability to make their own custom Sphinx set-ups, or if you want to run
           multiple instances on a single server. In cases like those you could allow them to create their own
           sphinx.conf files and pass them to <b>indexer</b> with this option.

           For example:

               $ indexer --config /home/myuser/sphinx.conf myindex

       <b>--dump-rows</b> <u>FILE</u>
           Dumps rows fetched by SQL source(s) into the specified file, in a MySQL compatible syntax. Resulting
           dumps are the exact representation of data as received by indexer and help to repeat indexing-time
           issues.

       <b>--merge</b> <u>DST-INDEX</u> <u>SRC-INDEX</u>
           Physically merge together two indexes. For example if you have a main+delta scheme, where the main
           index rarely changes, but the delta index is rebuilt frequently, and <b>--merge</b> would be used to combine
           the two. The operation moves from right to left - the contents of <u>SRC-INDEX</u> get examined and
           physically combined with the contents of <u>DST-INDEX</u> and the result is left in <u>DST-INDEX</u>. In
           pseudo-code, it might be expressed as: <u>DST-INDEX</u> += <u>SRC-INDEX</u>

           An example:

               $ indexer --merge main delta --rotate

           In the above example, where the main is the master, rarely modified index, and delta is the less
           frequently modified one, you might use the above to call <b>indexer</b> to combine the contents of the delta
           into the main index and rotate the indexes.

       <b>--merge-dst-range</b> <u>ATTR</u> <u>MIN</u> <u>MAX</u>
           Run the filter range given upon merging. Specifically, as the merge is applied to the destination
           index (as part of <b>--merge</b>, and is ignored if <b>--merge</b> is not specified), <b>indexer</b> will also filter the
           documents ending up in the destination index, and only documents will pass through the filter given
           will end up in the final index. This could be used for example, in an index where there is a
           'deleted' attribute, where 0 means 'not deleted'. Such an index could be merged with:

               $ indexer --merge main delta --merge-dst-range deleted 0 0

           Any documents marked as deleted (value 1) would be removed from the newly-merged destination index.
           It can be added several times to the command line, to add successive filters to the merge, all of
           which must be met in order for a document to become part of the final index.

       <b>--merge-killlists</b>, <b>--merge-klists</b>
           Used in pair with <b>--merge</b>. Usually when merging <b>indexer</b> uses kill-list of source index (i.e., the one
           which is merged into) as the filter to wipe out the matching docs from the destination index. At the
           same time the kill-list of the destination itself isn't touched at all. When using <b>--merge-killlists</b>,
           (or it shorter form <b>--merge-klists</b>) the <b>indexer</b> will not filter the dst-index docs with src-index
           killlist, but it will merge their kill-lists together, so the final result index will have the
           kill-list containing the merged source kill-lists.

       <b>--noprogress</b>
           Don't display progress details as they occur; instead, the final status details (such as documents
           indexed, speed of indexing and so on are only reported at completion of indexing. In instances where
           the script is not being run on a console (or 'tty'), this will be on by default.

           Example usage:

               $ indexer --rotate --all --noprogress

       <b>--print-queries</b>
           Prints out SQL queries that indexer sends to the database, along with SQL connection and
           disconnection events. That is useful to diagnose and fix problems with SQL sources.

       <b>--quiet</b>
           Tells <b>indexer</b> not to output anything, unless there is an error. Again, most used for cron-type, or
           other script jobs where the output is irrelevant or unnecessary, except in the event of some kind of
           error.

           Example usage:

               $ indexer --rotate --all --quiet

       <b>--rotate</b>
           Used for rotating indexes. Unless you have the situation where you can take the search function
           offline without troubling users, you will almost certainly need to keep search running whilst
           indexing new documents.  <b>--rotate</b> creates a second index, parallel to the first (in the same place,
           simply including .new in the filenames). Once complete, <b>indexer</b> notifies <b>searchd</b> via sending the
           <u>SIGHUP</u> signal, and <b>searchd</b> will attempt to rename the indexes (renaming the existing ones to include
           .old and renaming the .new to replace them), and then start serving from the newer files. Depending
           on the setting of <b>seamless_rotate</b>, there may be a slight delay in being able to search the newer
           indexes.

           Example usage:

               $ indexer --rotate --all

       <b>--sighup-each</b>
           is useful when you are rebuilding many big indexes, and want each one rotated into <b>searchd</b> as soon as
           possible. With <b>--sighup-each</b>, <b>indexer</b> will send a <u>SIGHUP</u> signal to <b>searchd</b> after succesfully
           completing the work on each index. (The default behavior is to send a single <u>SIGHUP</u> after all the
           indexes were built.)

       <b>--verbose</b>
           Guarantees that every row that caused problems indexing (duplicate, zero, or missing document ID; or
           file field IO issues; etc) will be reported. By default, this option is off, and problem summaries
           may be reported instead.

</pre><h4><b>AUTHOR</b></h4><pre>
       Andrey Aksenoff (<a href="mailto:shodan@sphinxsearch.com">shodan@sphinxsearch.com</a>). This manual page is written by Alexey Vinogradov
       (<a href="mailto:klirichek@sphinxsearch.com">klirichek@sphinxsearch.com</a>), using the one written by Christian Hofstaedtler ch+<a href="mailto:debian-packages@zeha.at">debian-packages@zeha.at</a>
       for the <b>Debian</b> system (but may be used by others). Permission is granted to copy, distribute and/or
       modify this document under the terms of the GNU General Public License, Version 2 any later version
       published by the Free Software Foundation.

       On Debian systems, the complete text of the GNU General Public License can be found in
       /usr/share/common-licenses/GPL.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man1/searchd.1.html">searchd</a></b>(1), <b><a href="../man1/search.1.html">search</a></b>(1), <b><a href="../man1/indextool.1.html">indextool</a></b>(1), <b><a href="../man1/spelldump.1.html">spelldump</a></b>(1)

       Sphinx and it's programs are documented fully by the <u>Sphinx</u> <u>reference</u> <u>manual</u> available in
       /usr/share/doc/sphinxsearch.

2.2.11-release                                     07/19/2016                                         <u><a href="../man1/INDEXER.1.html">INDEXER</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>