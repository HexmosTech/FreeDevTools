<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>supervisor - Supervisor Documentation</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/supervisor">supervisor_4.2.5-3_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       supervisor - Supervisor Documentation

       Supervisor  is  a client/server system that allows its users to monitor and control a number of processes
       on UNIX-like operating systems.

       It shares some of the same goals of programs like launchd, daemontools, and runit. Unlike some  of  these
       programs, it is not meant to be run as a substitute for <b>init</b> as "process id 1". Instead it is meant to be
       used  to  control  processes  related  to  a  project or a customer, and is meant to start like any other
       program at boot time.

</pre><h4><b>NARRATIVE</b> <b>DOCUMENTATION</b></h4><pre>
   <b>Introduction</b>
   <b>Overview</b>
       Supervisor is a client/server system that allows its users to control a number of processes on  UNIX-like
       operating systems.  It was inspired by the following:

       Convenience
          It  is  often  inconvenient  to  need  to  write <b>rc.d</b> scripts for every single process instance.  <b>rc.d</b>
          scripts are a great lowest-common-denominator form of process initialization/autostart/management, but
          they can be painful to write and maintain.  Additionally, <b>rc.d</b> scripts cannot automatically restart  a
          crashed  process  and many programs do not restart themselves properly on a crash.  Supervisord starts
          processes as its subprocesses, and can be configured to automatically restart them on a crash.  It can
          also automatically be configured to start processes on its own invocation.

       Accuracy
          It's often difficult to get accurate up/down  status  on  processes  on  UNIX.   Pidfiles  often  lie.
          Supervisord  starts  processes  as  subprocesses,  so  it  always knows the true up/down status of its
          children and can be queried conveniently for this data.

       Delegation
          Users who need to control process state often  need  only  to  do  that.   They  don't  want  or  need
          full-blown  shell access to the machine on which the processes are running.  Processes which listen on
          "low" TCP ports often need to be started and restarted as the root user  (a  UNIX  misfeature).   It's
          usually  the case that it's perfectly fine to allow "normal" people to stop or restart such a process,
          but providing them with shell access is often impractical, and providing them with root access or sudo
          access is often impossible.  It's also (rightly) difficult to explain to them why this problem exists.
          If supervisord is started as root, it is possible to allow "normal" users to  control  such  processes
          without  needing  to  explain  the  intricacies  of  the problem to them.  Supervisorctl allows a very
          limited form of access to the machine, essentially allowing users to see process  status  and  control
          supervisord-controlled  subprocesses by emitting "stop", "start", and "restart" commands from a simple
          shell or web UI.

       Process Groups
          Processes often need to be started and stopped in groups, sometimes even in a "priority order".   It's
          often  difficult  to  explain to people how to do this.  Supervisor allows you to assign priorities to
          processes, and allows user to emit commands  via  the  supervisorctl  client  like  "start  all",  and
          "restart  all",  which  starts them in the preassigned priority order.  Additionally, processes can be
          grouped into "process groups" and a set of logically related processes can be stopped and started as a
          unit.

   <b>Features</b>
       Simple
          Supervisor is configured through a simple INI-style config file that’s easy to learn. It provides many
          per-process options that make your life easier like restarting  failed  processes  and  automatic  log
          rotation.

       Centralized
          Supervisor  provides  you  with one place to start, stop, and monitor your processes. Processes can be
          controlled individually or in groups. You can configure  Supervisor  to  provide  a  local  or  remote
          command line and web interface.

       Efficient
          Supervisor  starts  its  subprocesses  via  fork/exec  and subprocesses don’t daemonize. The operating
          system signals Supervisor immediately when a process terminates, unlike some solutions  that  rely  on
          troublesome PID files and periodic polling to restart failed processes.

       Extensible
          Supervisor  has  a simple event notification protocol that programs written in any language can use to
          monitor it, and an XML-RPC interface for control. It is also built with extension points that  can  be
          leveraged by Python developers.

       Compatible
          Supervisor works on just about everything except for Windows. It is tested and supported on Linux, Mac
          OS  X,  Solaris,  and  FreeBSD. It is written entirely in Python, so installation does not require a C
          compiler.

       Proven
          While Supervisor is very actively developed today, it is not new software. Supervisor has been  around
          for years and is already in use on many servers.

   <b>Supervisor</b> <b>Components</b>
       <b>supervisord</b>
          The server piece of supervisor is named <b>supervisord</b>.  It is responsible for starting child programs at
          its  own invocation, responding to commands from clients, restarting crashed or exited subprocesseses,
          logging its subprocess <b>stdout</b> and <b>stderr</b> output, and generating and handling "events" corresponding to
          points in subprocess lifetimes.

          The server process uses a configuration file.  This is  typically  located  in  <b>/etc/supervisord.conf</b>.
          This  configuration  file  is  a  "Windows-INI"  style config file.  It is important to keep this file
          secure via proper filesystem permissions because it may contain unencrypted usernames and passwords.

       <b>supervisorctl</b>
          The command-line client piece of the supervisor is named  <b>supervisorctl</b>.   It  provides  a  shell-like
          interface  to  the  features  provided  by  <b>supervisord</b>.   From  <b>supervisorctl</b>,  a user can connect to
          different <b>supervisord</b> processes, get  status  on  the  subprocesses  controlled  by,  stop  and  start
          subprocesses of, and get lists of running processes of a <b>supervisord</b>.

          The  command-line  client talks to the server across a UNIX domain socket or an internet (TCP) socket.
          The server can assert that the user of a client should present authentication  credentials  before  it
          allows  him to perform commands.  The client process typically uses the same configuration file as the
          server but any configuration file with a <b>[supervisorctl]</b> section in it will work.

       Web Server
          A (sparse) web user interface with functionality comparable to <b>supervisorctl</b> may  be  accessed  via  a
          browser   if  you  start  <b>supervisord</b>  against  an  internet  socket.   Visit  the  server  URL  (e.g.
          <b><a href="http://localhost">http://localhost</a>:9001/</b>) to view and control process status through the web interface after  activating
          the configuration file's <b>[inet_http_server]</b> section.

       XML-RPC Interface
          The  same  HTTP  server  which  serves  the  web UI serves up an XML-RPC interface that can be used to
          interrogate and control supervisor and the programs it runs.  See xml_rpc.

   <b>Platform</b> <b>Requirements</b>
       Supervisor has been tested and is known to run on Linux (Ubuntu 9.10), Mac  OS  X  (10.4/10.5/10.6),  and
       Solaris (10 for Intel) and FreeBSD 6.1.  It will likely work fine on most UNIX systems.

       Supervisor will <u>not</u> run at all under any version of Windows.

       Supervisor is known to work with Python 2.4 or later but will not work under any version of Python 3.

   <b>Running</b> <b>Supervisor</b>
       This  section  makes  reference  to a <b>BINDIR</b> when explaining how to run the <b>supervisord</b> and <b>supervisorctl</b>
       commands.  This is the "bindir" directory that your Python installation has been  configured  with.   For
       example,  for  an  installation  of  Python  installed via <b>./configure</b> <b>--prefix=/usr/local/py;</b> <b>make;</b> <b>make</b>
       <b>install</b>, <b>BINDIR</b> would be <b>/usr/local/py/bin</b>. Python interpreters on different platforms  use  a  different
       <b>BINDIR</b>.  Look at the output of <b>setup.py</b> <b>install</b> if you can't figure out where yours is.

   <b>Adding</b> <b>a</b> <b>Program</b>
       Before  <b>supervisord</b>  will  do anything useful for you, you'll need to add at least one <b>program</b> section to
       its configuration.  The <b>program</b> section will define a program that is run and managed when you invoke the
       <b>supervisord</b> command.  To add a program, you'll need to edit the <b>supervisord.conf</b> file.

       One of the simplest possible programs to run is the UNIX <b>cat</b> program.  A <b>program</b> section  that  will  run
       <b>cat</b> when the <b>supervisord</b> process starts up is shown below.

          [program:foo]
          command=<a href="file:/bin/cat">/bin/cat</a>

       This  stanza may be cut and pasted into the <b>supervisord.conf</b> file.  This is the simplest possible program
       configuration, because it  only  names  a  command.   Program  configuration  sections  have  many  other
       configuration options which aren't shown here.  See programx_section for more information.

   <b>Running</b> <b>supervisord</b>
       To  start  <b>supervisord</b>,  run <b>$BINDIR/supervisord</b>.  The resulting process will daemonize itself and detach
       from the terminal.  It keeps an operations log at <b>$CWD/supervisor.log</b> by default.

       You may start the <b>supervisord</b> executable in the foreground by passing the <b>-n</b> flag on  its  command  line.
       This is useful to debug startup problems.

       <b>WARNING:</b>
          When  <b>supervisord</b>  starts up, it will search for its configuration file in default locations <u>including</u>
          <u>the</u> <u>current</u> <u>working</u> <u>directory</u>.  If you are security-conscious you will probably want to specify a "-c"
          argument after the <b>supervisord</b> command specifying an absolute path to a configuration file  to  ensure
          that  someone  doesn't trick you into running supervisor from within a directory that contains a rogue
          <b>supervisord.conf</b> file.  A warning is emitted when supervisor  is  started  as  root  without  this  <b>-c</b>
          argument.

       To  change the set of programs controlled by <b>supervisord</b>, edit the <b>supervisord.conf</b> file and <b>kill</b> <b>-HUP</b> or
       otherwise restart the <b>supervisord</b> process.  This file has several example program definitions.

       The <b>supervisord</b> command accepts a number of command-line options.  Each of  these  command  line  options
       overrides any equivalent value in the configuration file.

   <b>supervisord</b> <b>Command-Line</b> <b>Options</b>
       <b>-c</b> <u>FILE</u><b>,</b> <b>--configuration=</b><u>FILE</u>
              The path to a <b>supervisord</b> configuration file.

       <b>-n</b>, <b>--nodaemon</b>
              Run <b>supervisord</b> in the foreground.

       <b>-h</b>, <b>--help</b>
              Show <b>supervisord</b> command help.

       <b>-u</b> <u>USER</u><b>,</b> <b>--user=</b><u>USER</u>
              UNIX username or numeric user id.  If <b>supervisord</b> is started as the root user, setuid to this user
              as soon as possible during startup.

       <b>-m</b> <u>OCTAL</u><b>,</b> <b>--umask=</b><u>OCTAL</u>
              Octal number (e.g. 022) representing the umask that should be used by <b>supervisord</b> after it starts.

       <b>-d</b> <u>PATH</u><b>,</b> <b>--directory=</b><u>PATH</u>
              When supervisord is run as a daemon, cd to this directory before daemonizing.

       <b>-l</b> <u>FILE</u><b>,</b> <b>--logfile=</b><u>FILE</u>
              Filename path to use as the supervisord activity log.

       <b>-y</b> <u>BYTES</u><b>,</b> <b>--logfile_maxbytes=</b><u>BYTES</u>
              Max  size  of  the  supervisord  activity  log  file  before  a  rotation  occurs.   The  value is
              suffix-multiplied, e.g "1" is one byte, "1MB" is 1 megabyte, "1GB" is 1 gigabyte.

       <b>-y</b> <u>NUM</u><b>,</b> <b>--logfile_backups=</b><u>NUM</u>
              Number of backup copies of the supervisord activity log to keep around.  Each logfile will  be  of
              size <b>logfile_maxbytes</b>.

       <b>-e</b> <u>LEVEL</u><b>,</b> <b>--loglevel=</b><u>LEVEL</u>
              The  logging  level at which supervisor should write to the activity log.  Valid levels are <b>trace</b>,
              <b>debug</b>, <b>info</b>, <b>warn</b>, <b>error</b>, and <b>critical</b>.

       <b>-j</b> <u>FILE</u><b>,</b> <b>--pidfile=</b><u>FILE</u>
              The filename to which supervisord should write its pid file.

       <b>-i</b> <u>STRING</u><b>,</b> <b>--identifier=</b><u>STRING</u>
              Arbitrary string identifier exposed by various client UIs for this instance of supervisor.

       <b>-q</b> <u>PATH</u><b>,</b> <b>--childlogdir=</b><u>PATH</u>
              A path to a directory (it must already exist) where supervisor will write  its  <b>AUTO</b>  -mode  child
              process logs.

       <b>-k</b>, <b>--nocleanup</b>
              Prevent <b>supervisord</b> from performing cleanup (removal of old <b>AUTO</b> process log files) at startup.

       <b>-a</b> <u>NUM</u><b>,</b> <b>--minfds=</b><u>NUM</u>
              The minimum number of file descriptors that must be available to the supervisord process before it
              will start successfully.

       <b>-t</b>, <b>--strip_ansi</b>
              Strip ANSI escape sequences from all child log process.

       <b>-v</b>, <b>--version</b>
              Print the supervisord version number out to stdout and exit.

       <b>--profile_options=</b><u>LIST</u>
              Comma-separated  options  list  for  profiling.   Causes  <b>supervisord</b> to run under a profiler, and
              output results based on the options, which is a comma-separated list of the following: <b>cumulative</b>,
              <b>calls</b>, <b>callers</b>.  E.g. <b>cumulative,callers</b>.

       <b>--minprocs=</b><u>NUM</u>
              The minimum number of OS process slots that must be available to the supervisord process before it
              will start successfully.

   <b>supervisorctl</b> <b>Command-Line</b> <b>Options</b>
       <b>-c</b>, <b>--configuration</b>
              Configuration file path (default /etc/supervisord.conf)

       <b>-h</b>, <b>--help</b>
              Print usage message and exit

       <b>-i</b>, <b>--interactive</b>
              Start an interactive shell after executing commands

       <b>-s</b>,<u>--serverurl</u> <b>URL</b>
              URL on which supervisord server is listening (default "<u><a href="http://localhost">http://localhost</a>:9001</u>").

       <b>-u</b>, <b>--username</b>
              Username to use for authentication with server

       <b>-p</b>, <b>--password</b>
              Password to use for authentication with server

       <b>-r</b>, <b>--history-file</b>
              Keep a readline history (if readline is available)

       <u>action</u> <u>[arguments]</u>

       Actions are commands like "tail" or "stop".  If -i is specified or no action is specified on the  command
       line,  a  "shell" interpreting actions typed interactively is started.  Use the action "help" to find out
       about available actions.

   <b>Running</b> <b>supervisorctl</b>
       To start <b>supervisorctl</b>, run <b>$BINDIR/supervisorctl</b>.  A shell will be presented  that  will  allow  you  to
       control  the  processes  that  are  currently  managed  by <b>supervisord</b>.  Type "help" at the prompt to get
       information about the supported commands.

       The <b>supervisorctl</b> executable may be invoked with "one time" commands when invoked with arguments  from  a
       command line.  An example: <b>supervisorctl</b> <b>stop</b> <b>all</b>.  If arguments are present on the command-line, it will
       prevent  the  interactive  shell  from  being  invoked.   Instead,  the  command  will  be  executed  and
       <b>supervisorctl</b> will exit.

       If <b>supervisorctl</b> is invoked in interactive mode against a <b>supervisord</b> that requires  authentication,  you
       will be asked for authentication credentials.

   <b>Signals</b>
       The <b>supervisord</b> program may be sent signals which cause it to perform certain actions while it's running.

       You  can send any of these signals to the single <b>supervisord</b> process id.  This process id can be found in
       the file represented by the <b>pidfile</b> parameter in the <b>[supervisord]</b> section of the configuration file  (by
       default it's <b>$CWD/supervisord.pid</b>).

   <b>Signal</b> <b>Handlers</b>
       <b>SIGTERM</b>
          <b>supervisord</b> and all its subprocesses will shut down.  This may take several seconds.

       <b>SIGINT</b>
          <b>supervisord</b> and all its subprocesses will shut down.  This may take several seconds.

       <b>SIGQUIT</b>
          <b>supervisord</b> and all its subprocesses will shut down.  This may take several seconds.

       <b>SIGHUP</b>
          <b>supervisord</b> will stop all processes, reload the configuration from the first config file it finds, and
          restart all processes.

       <b>SIGUSR2</b>
          <b>supervisord</b> will close and reopen the main activity log and all child log files.

   <b>Runtime</b> <b>Security</b>
       The  developers  have  done their best to assure that use of a <b>supervisord</b> process running as root cannot
       lead to unintended privilege escalation.  But <b>caveat</b> <b>emptor</b>.  Supervisor is not as paranoid as  something
       like  DJ Bernstein's daemontools, inasmuch as <b>supervisord</b> allows for arbitrary path specifications in its
       configuration file to which  data  may  be  written.   Allowing  arbitrary  path  selections  can  create
       vulnerabilities  from  symlink  attacks.  Be careful when specifying paths in your configuration.  Ensure
       that the <b>supervisord</b> configuration file cannot be read from or written to by unprivileged users and  that
       all  files  installed  by  the  supervisor  package  have  "sane"  file  permission  protection settings.
       Additionally, ensure that your <b>PYTHONPATH</b> is sane  and  that  all  Python  standard  library  files  have
       adequate file permission protections.

   <b>Running</b> <b>supervisord</b> <b>automatically</b> <b>on</b> <b>startup</b>
       If  you are using a distribution-packaged version of Supervisor, it should already be integrated into the
       service management infrastructure of your distribution.

       There     are     user-contributed     scripts      for      various      operating      systems      at:
       <u>https://github.com/Supervisor/initscripts</u>

       There  are  some  answers at Serverfault in case you get stuck: <u>How</u> <u>to</u> <u>automatically</u> <u>start</u> <u>supervisord</u> <u>on</u>
       <u>Linux</u> <u>(Ubuntu)</u>

   <b>Configuration</b> <b>File</b>
       The Supervisor configuration  file  is  conventionally  named  <b>supervisord.conf</b>.   It  is  used  by  both
       <b>supervisord</b>  and <b>supervisorctl</b>.  If either application is started without the <b>-c</b> option (the option which
       is used to tell the application the configuration filename explicitly), the application will look  for  a
       file  named  <b>supervisord.conf</b>  within  the  following locations, in the specified order.  It will use the
       first file it finds.

       1. <b>$CWD/supervisord.conf</b>

       2. <b>$CWD/etc/supervisord.conf</b>

       3. <b>/etc/supervisord.conf</b>

       4. <b>../etc/supervisord.conf</b> (Relative to the executable)

       5. <b>../supervisord.conf</b> (Relative to the executable)

       <b>NOTE:</b>
          Some distributions have packaged Supervisor with their own customizations.  These modified versions of
          Supervisor may load the configuration file from locations other than those described  here.   Notably,
          Ubuntu packages have been found that use <b>/etc/supervisor/supervisord.conf</b>.

   <b>File</b> <b>Format</b>
       <b>supervisord.conf</b>  is  a Windows-INI-style (Python ConfigParser) file.  It has sections (each denoted by a
       <b>[header]</b>) and key / value pairs within the  sections.   The  sections  and  their  allowable  values  are
       described below.

   <b>Environment</b> <b>Variables</b>
       Environment  variables that are present in the environment at the time that <b>supervisord</b> is started can be
       used in the configuration file using the Python string expression syntax <b>%(ENV_X)s</b>:

          [program:example]
          command=/usr/bin/example --loglevel=%(ENV_LOGLEVEL)s

       In the example above, the expression <b>%(ENV_LOGLEVEL)s</b> would be expanded to the value of  the  environment
       variable <b>LOGLEVEL</b>.

       <b>NOTE:</b>
          In  Supervisor  3.2 and later, <b>%(ENV_X)s</b> expressions are supported in all options.  In prior versions,
          some options support them, but most do not.  See the documentation for each option below.

   <b>[unix_http_server]</b> <b>Section</b> <b>Settings</b>
       The  <b>supervisord.conf</b>  file  contains  a  section  named  <b>[unix_http_server]</b>  under  which  configuration
       parameters  for  an  HTTP  server  that  listens  on  a  UNIX  domain  socket should be inserted.  If the
       configuration file has no <b>[unix_http_server]</b> section, a UNIX  domain  socket  HTTP  server  will  not  be
       started.  The allowable configuration values are as follows.

   <b>[unix_http_server]</b> <b>Section</b> <b>Values</b>
       <b>file</b>
          A  path  to  a  UNIX  domain  socket  (e.g. <b>/tmp/supervisord.sock</b>) on which supervisor will listen for
          HTTP/XML-RPC requests.  <b>supervisorctl</b> uses XML-RPC to communicate with  <b>supervisord</b>  over  this  port.
          This  option  can  include the value <b>%(here)s</b>, which expands to the directory in which the <b>supervisord</b>
          configuration file was found.

          <u>Default</u>:  None.

          <u>Required</u>:  No.

          <u>Introduced</u>: 3.0

       <b>chmod</b>
          Change the UNIX permission mode bits of the UNIX domain socket to this value at startup.

          <u>Default</u>: <b>0700</b>

          <u>Required</u>:  No.

          <u>Introduced</u>: 3.0

       <b>chown</b>
          Change the user and group of the socket file to this value.  May be a UNIX username (e.g. <b>chrism</b>) or a
          UNIX username and group separated by a colon (e.g. <b>chrism:wheel</b>).

          <u>Default</u>:  Use the username and group of the user who starts supervisord.

          <u>Required</u>:  No.

          <u>Introduced</u>: 3.0

       <b>username</b>
          The username required for authentication to this HTTP server.

          <u>Default</u>:  No username required.

          <u>Required</u>:  No.

          <u>Introduced</u>: 3.0

       <b>password</b>
          The password required for authentication to this HTTP server.  This can be a  cleartext  password,  or
          can   be   specified   as   a   SHA-1   hash   if   prefixed   by  the  string  <b>{SHA}</b>.   For  example,
          <b>{SHA}82ab876d1387bfafe46cc1c8a2ef074eae50cb1d</b> is the SHA-stored version of the password "thepassword".

          Note that hashed password must be in hex format.

          <u>Default</u>:  No password required.

          <u>Required</u>:  No.

          <u>Introduced</u>: 3.0

   <b>[unix_http_server]</b> <b>Section</b> <b>Example</b>
          [unix_http_server]
          file = /tmp/supervisor.sock
          chmod = 0777
          chown= nobody:nogroup
          username = user
          password = 123

   <b>[inet_http_server]</b> <b>Section</b> <b>Settings</b>
       The  <b>supervisord.conf</b>  file  contains  a  section  named  <b>[inet_http_server]</b>  under  which  configuration
       parameters  for  an  HTTP  server  that  listens  on  a TCP (internet) socket should be inserted.  If the
       configuration file has no <b>[inet_http_server]</b> section, an inet HTTP  server  will  not  be  started.   The
       allowable configuration values are as follows.

   <b>[inet_http_server]</b> <b>Section</b> <b>Values</b>
       <b>port</b>
          A  TCP  host:port  value  or  (e.g.  <b>127.0.0.1:9001</b>)  on which supervisor will listen for HTTP/XML-RPC
          requests.  <b>supervisorctl</b> will use XML-RPC to communicate with <b>supervisord</b> over this port.   To  listen
          on all interfaces in the machine, use <b>:9001</b> or <b>*:9001</b>.

          <u>Default</u>:  No default.

          <u>Required</u>:  Yes.

          <u>Introduced</u>: 3.0

       <b>username</b>
          The username required for authentication to this HTTP server.

          <u>Default</u>:  No username required.

          <u>Required</u>:  No.

          <u>Introduced</u>: 3.0

       <b>password</b>
          The  password  required  for authentication to this HTTP server.  This can be a cleartext password, or
          can  be  specified  as  a  SHA-1   hash   if   prefixed   by   the   string   <b>{SHA}</b>.    For   example,
          <b>{SHA}82ab876d1387bfafe46cc1c8a2ef074eae50cb1d</b> is the SHA-stored version of the password "thepassword".

          Note that hashed password must be in hex format.

          <u>Default</u>:  No password required.

          <u>Required</u>:  No.

          <u>Introduced</u>: 3.0

   <b>[inet_http_server]</b> <b>Section</b> <b>Example</b>
          [inet_http_server]
          port = 127.0.0.1:9001
          username = user
          password = 123

   <b>[supervisord]</b> <b>Section</b> <b>Settings</b>
       The  <b>supervisord.conf</b> file contains a section named <b>[supervisord]</b> in which global settings related to the
       <b>supervisord</b> process should be inserted.  These are as follows.

   <b>[supervisord]</b> <b>Section</b> <b>Values</b>
       <b>logfile</b>
          The path to the activity log of the supervisord process.  This option can include the value  <b>%(here)s</b>,
          which expands to the directory in which the supervisord configuration file was found.

          <u>Default</u>:  <b>$CWD/supervisord.log</b>

          <u>Required</u>:  No.

          <u>Introduced</u>: 3.0

       <b>logfile_maxbytes</b>
          The maximum number of bytes that may be consumed by the activity log file before it is rotated (suffix
          multipliers  like  "KB", "MB", and "GB" can be used in the value).  Set this value to 0 to indicate an
          unlimited log size.

          <u>Default</u>:  50MB

          <u>Required</u>:  No.

          <u>Introduced</u>: 3.0

       <b>logfile_backups</b>
          The number of backups to keep around resulting from activity log file  rotation.   If  set  to  0,  no
          backups will be kept.

          <u>Default</u>:  10

          <u>Required</u>:  No.

          <u>Introduced</u>: 3.0

       <b>loglevel</b>
          The logging level, dictating what is written to the supervisord activity log.  One of <b>critical</b>, <b>error</b>,
          <b>warn</b>,  <b>info</b>,  <b>debug</b>,  <b>trace</b>,  or <b>blather</b>.  Note that at log level <b>debug</b>, the supervisord log file will
          record the stderr/stdout output of its child processes and extended  info  info  about  process  state
          changes,  which  is  useful  for  debugging  a  process  which  isn't  starting  properly.   See also:
          activity_log_levels.

          <u>Default</u>:  info

          <u>Required</u>:  No.

          <u>Introduced</u>: 3.0

       <b>pidfile</b>
          The location in which supervisord keeps its pid file.  This option can  include  the  value  <b>%(here)s</b>,
          which expands to the directory in which the supervisord configuration file was found.

          <u>Default</u>:  <b>$CWD/supervisord.pid</b>

          <u>Required</u>:  No.

          <u>Introduced</u>: 3.0

       <b>umask</b>
          The umask of the supervisord process.

          <u>Default</u>:  <b>022</b>

          <u>Required</u>:  No.

          <u>Introduced</u>: 3.0

       <b>nodaemon</b>
          If true, supervisord will start in the foreground instead of daemonizing.

          <u>Default</u>:  false

          <u>Required</u>:  No.

          <u>Introduced</u>: 3.0

       <b>minfds</b>
          The  minimum  number  of  file  descriptors  that  must  be  available  before  supervisord will start
          successfully.  A call to setrlimit will be made to attempt to raise the soft and hard  limits  of  the
          supervisord  process  to  satisfy  <b>minfds</b>.  The hard limit may only be raised if supervisord is run as
          root.  supervisord uses file descriptors liberally, and will enter a failure mode when one  cannot  be
          obtained  from  the  OS, so it's useful to be able to specify a minimum value to ensure it doesn't run
          out of them during execution. This  option  is  particularly  useful  on  Solaris,  which  has  a  low
          per-process fd limit by default.

          <u>Default</u>:  1024

          <u>Required</u>:  No.

          <u>Introduced</u>: 3.0

       <b>minprocs</b>
          The  minimum  number  of  process  descriptors  that  must  be available before supervisord will start
          successfully.  A call to setrlimit will be made to attempt to raise the soft and hard  limits  of  the
          supervisord  process  to satisfy <b>minprocs</b>.  The hard limit may only be raised if supervisord is run as
          root.  supervisord will enter a failure mode when the OS runs out  of  process  descriptors,  so  it's
          useful to ensure that enough process descriptors are available upon <b>supervisord</b> startup.

          <u>Default</u>:  200

          <u>Required</u>:  No.

          <u>Introduced</u>: 3.0

       <b>nocleanup</b>
          Prevent  supervisord  from  clearing  any  existing  <b>AUTO</b> child log files at startup time.  Useful for
          debugging.

          <u>Default</u>:  false

          <u>Required</u>:  No.

          <u>Introduced</u>: 3.0

       <b>childlogdir</b>
          The directory used for <b>AUTO</b> child log files.  This  option  can  include  the  value  <b>%(here)s</b>,  which
          expands to the directory in which the <b>supervisord</b> configuration file was found.

          <u>Default</u>: value of Python's <b>tempfile.get_tempdir()</b>

          <u>Required</u>:  No.

          <u>Introduced</u>: 3.0

       <b>user</b>
          Instruct <b>supervisord</b> to switch users to this UNIX user account before doing any meaningful processing.
          The user can only be switched if <b>supervisord</b> is started as the root user.  If <b>supervisord</b> can't switch
          users,  it will still continue but will write a log message at the <b>critical</b> level saying that it can't
          drop privileges.

          <u>Default</u>: do not switch users

          <u>Required</u>:  No.

          <u>Introduced</u>: 3.0

       <b>directory</b>
          When <b>supervisord</b> daemonizes, switch to this directory.  This option can include  the  value  <b>%(here)s</b>,
          which expands to the directory in which the <b>supervisord</b> configuration file was found.

          <u>Default</u>: do not cd

          <u>Required</u>:  No.

          <u>Introduced</u>: 3.0

       <b>strip_ansi</b>
          Strip all ANSI escape sequences from child log files.

          <u>Default</u>: false

          <u>Required</u>:  No.

          <u>Introduced</u>: 3.0

       <b>environment</b>
          A  list  of  key/value  pairs in the form <b>KEY="val",KEY2="val2"</b> that will be placed in the <b>supervisord</b>
          process' environment (and as a result in all of its child process'  environments).   This  option  can
          include the value <b>%(here)s</b>, which expands to the directory in which the supervisord configuration file
          was    found.     Values    containing    non-alphanumeric   characters   should   be   quoted   (e.g.
          <b>KEY="val:123",KEY2="val,456"</b>).  Otherwise, quoting the values is optional but recommended.  To  escape
          percent  characters,  simply  use two. (e.g. <b>URI="/first%%20name"</b>) <b>Note</b> that subprocesses will inherit
          the environment variables of the shell used to start <b>supervisord</b> except for the ones  overridden  here
          and within the program's <b>environment</b> option.  See subprocess_environment.

          <u>Default</u>: no values

          <u>Required</u>:  No.

          <u>Introduced</u>: 3.0

       <b>identifier</b>
          The identifier string for this supervisor process, used by the RPC interface.

          <u>Default</u>: supervisor

          <u>Required</u>:  No.

          <u>Introduced</u>: 3.0

   <b>[supervisord]</b> <b>Section</b> <b>Example</b>
          [supervisord]
          logfile = /tmp/supervisord.log
          logfile_maxbytes = 50MB
          logfile_backups=10
          loglevel = info
          pidfile = /tmp/supervisord.pid
          nodaemon = false
          minfds = 1024
          minprocs = 200
          umask = 022
          user = chrism
          identifier = supervisor
          directory = <a href="file:/tmp">/tmp</a>
          nocleanup = true
          childlogdir = <a href="file:/tmp">/tmp</a>
          strip_ansi = false
          environment = KEY1="value1",KEY2="value2"

   <b>[supervisorctl]</b> <b>Section</b> <b>Settings</b>
          The  configuration  file  may contain settings for the <b>supervisorctl</b> interactive shell program.  These
          options are listed below.

   <b>[supervisorctl]</b> <b>Section</b> <b>Values</b>
       <b>serverurl</b>
          The URL that should be used to access the supervisord server, e.g.  <b><a href="http://localhost">http://localhost</a>:9001</b>.   For  UNIX
          domain sockets, use <b>unix:///absolute/path/to/file.sock</b>.

          <u>Default</u>: <b><a href="http://localhost">http://localhost</a>:9001</b>

          <u>Required</u>:  No.

          <u>Introduced</u>: 3.0

       <b>username</b>
          The  username  to  pass  to  the supervisord server for use in authentication.  This should be same as
          <b>username</b> from the supervisord  server  configuration  for  the  port  or  UNIX  domain  socket  you're
          attempting to access.

          <u>Default</u>: No username

          <u>Required</u>:  No.

          <u>Introduced</u>: 3.0

       <b>password</b>
          The password to pass to the supervisord server for use in authentication. This should be the cleartext
          version  of  <b>password</b>  from  the  supervisord  server configuration for the port or UNIX domain socket
          you're attempting to access.  This value cannot be passed as  a  SHA  hash.   Unlike  other  passwords
          specified in this file, it must be provided in cleartext.

          <u>Default</u>: No password

          <u>Required</u>:  No.

          <u>Introduced</u>: 3.0

       <b>prompt</b>
          String used as supervisorctl prompt.

          <u>Default</u>: <b>supervisor</b>

          <u>Required</u>:  No.

          <u>Introduced</u>: 3.0

       <b>history_file</b>
          A path to use as the <b>readline</b> persistent history file.  If you enable this feature by choosing a path,
          your  supervisorctl  commands  will  be  kept in the file, and you can use readline (e.g. arrow-up) to
          invoke commands you performed in your last supervisorctl session.

          <u>Default</u>: No file

          <u>Required</u>:  No.

          <u>Introduced</u>: 3.0a5

   <b>[supervisorctl]</b> <b>Section</b> <b>Example</b>
          [supervisorctl]
          serverurl = unix:///tmp/supervisor.sock
          username = chris
          password = 123
          prompt = mysupervisor

   <b>[program:x]</b> <b>Section</b> <b>Settings</b>
       The configuration file must contain one or more <b>program</b> sections in order for supervisord to  know  which
       programs  it  should  start and control.  The header value is composite value.  It is the word "program",
       followed directly by a colon, then the program name.  A header value of <b>[program:foo]</b> describes a program
       with the name of "foo".  The name is used within client applications that control the processes that  are
       created as a result of this configuration.  It is an error to create a <b>program</b> section that does not have
       a  name.   The  name must not include a colon character or a bracket character.  The value of the name is
       used as the value for  the  <b>%(program_name)s</b>  string  expression  expansion  within  other  values  where
       specified.

       <b>NOTE:</b>
          A  <b>[program:x]</b>  section  actually  represents a "homogeneous process group" to supervisor (as of 3.0).
          The members of the group are defined by the combination of the <b>numprocs</b> and <b>process_name</b> parameters in
          the configuration.  By default, if numprocs and process_name are left unchanged from  their  defaults,
          the  group  represented  by  <b>[program:x]</b> will be named <b>x</b> and will have a single process named <b>x</b> in it.
          This provides a modicum of backwards compatibility with older supervisor releases, which did not treat
          program sections as homogeneous process group definitions.

          But for instance, if you have a <b>[program:foo]</b>  section  with  a  <b>numprocs</b>  of  3  and  a  <b>process_name</b>
          expression  of <b>%(program_name)s_%(process_num)02d</b>, the "foo" group will contain three processes, named
          <b>foo_00</b>, <b>foo_01</b>, and <b>foo_02</b>.  This makes it possible to start a number of very similar processes  using
          a single <b>[program:x]</b> section.  All logfile names, all environment strings, and the command of programs
          can  also  contain  similar  Python  string expressions, to pass slightly different parameters to each
          process.

   <b>[program:x]</b> <b>Section</b> <b>Values</b>
       <b>command</b>
          The command that will be run when this program is started.  The command can be either  absolute  (e.g.
          <b>/path/to/programname</b>)   or  relative  (e.g.  <b>programname</b>).   If  it  is  relative,  the  supervisord's
          environment <b>$PATH</b>  will  be  searched  for  the  executable.   Programs  can  accept  arguments,  e.g.
          <b>/path/to/program</b>  <b>foo</b>  <b>bar</b>.   The command line can use double quotes to group arguments with spaces in
          them to pass to the program, e.g. <b>/path/to/program/name</b> <b>-p</b> <b>"foo</b> <b>bar"</b>.  Note that the value of  <b>command</b>
          may  include  Python  string  expressions,  e.g. <b>/path/to/programname</b> <b>--port=80%(process_num)02d</b> might
          expand to <b>/path/to/programname</b> <b>--port=8000</b> at runtime.  String expressions  are  evaluated  against  a
          dictionary  containing  the  keys  <b>group_name</b>,  <b>host_node_name</b>,  <b>process_num</b>,  <b>program_name</b>, <b>here</b> (the
          directory of the supervisord config file), and all supervisord's environment variables  prefixed  with
          <b>ENV_</b>.   Controlled programs should themselves not be daemons, as supervisord assumes it is responsible
          for daemonizing its subprocesses (see nondaemonizing_of_subprocesses).

          <u>Default</u>: No default.

          <u>Required</u>:  Yes.

          <u>Introduced</u>: 3.0

       <b>process_name</b>
          A Python string expression that is used to compose the supervisor process name for this process.   You
          usually  don't  need to worry about setting this unless you change <b>numprocs</b>.  The string expression is
          evaluated against a dictionary that includes <b>group_name</b>,  <b>host_node_name</b>,  <b>process_num</b>,  <b>program_name</b>,
          and <b>here</b> (the directory of the supervisord config file).

          <u>Default</u>: <b>%(program_name)s</b>

          <u>Required</u>:  No.

          <u>Introduced</u>: 3.0

       <b>numprocs</b>
          Supervisor will start as many instances of this program as named by numprocs.  Note that if numprocs &gt;
          1,  the  <b>process_name</b>  expression  must  include  <b>%(process_num)s</b>  (or  any  other valid Python string
          expression that includes <b>process_num</b>) within it.

          <u>Default</u>: 1

          <u>Required</u>:  No.

          <u>Introduced</u>: 3.0

       <b>numprocs_start</b>
          An integer offset that is used to compute the number at which <b>numprocs</b> starts.

          <u>Default</u>: 0

          <u>Required</u>:  No.

          <u>Introduced</u>: 3.0

       <b>priority</b>
          The relative priority of the program in the start and shutdown ordering.   Lower  priorities  indicate
          programs  that  start  first  and  shut  down  last at startup and when aggregate commands are used in
          various clients (e.g. "start all"/"stop all").  Higher priorities indicate programs  that  start  last
          and shut down first.

          <u>Default</u>: 999

          <u>Required</u>:  No.

          <u>Introduced</u>: 3.0

       <b>autostart</b>
          If true, this program will start automatically when supervisord is started.

          <u>Default</u>: true

          <u>Required</u>:  No.

          <u>Introduced</u>: 3.0

       <b>startsecs</b>
          The  total  number  of seconds which the program needs to stay running after a startup to consider the
          start successful (moving the process from the <b>STARTING</b> state to the  <b>RUNNING</b>  state).   Set  to  <b>0</b>  to
          indicate that the program needn't stay running for any particular amount of time.

          <b>NOTE:</b>
              Even  if  a  process  exits  with an "expected" exit code (see <b>exitcodes</b>), the start will still be
              considered a failure if the process exits quicker than <b>startsecs</b>.

          <u>Default</u>: 1

          <u>Required</u>:  No.

          <u>Introduced</u>: 3.0

       <b>startretries</b>
          The number of serial failure attempts that <b>supervisord</b> will allow when attempting to start the program
          before giving up and putting the process into an <b>FATAL</b> state.  See process_states for  explanation  of
          the <b>FATAL</b> state.

          <u>Default</u>: 3

          <u>Required</u>:  No.

          <u>Introduced</u>: 3.0

       <b>autorestart</b>
          Specifies  if <b>supervisord</b> should automatically restart a process if it exits when it is in the <b>RUNNING</b>
          state.  May be one of <b>false</b>, <b>unexpected</b>, or <b>true</b>.  If <b>false</b>, the process will  not  be  autorestarted.
          If  <b>unexpected</b>, the process will be restarted when the program exits with an exit code that is not one
          of the exit codes associated with this process' configuration (see <b>exitcodes</b>).  If <b>true</b>,  the  process
          will be unconditionally restarted when it exits, without regard to its exit code.

          <b>NOTE:</b>
              <b>autorestart</b>  controls  whether  <b>supervisord</b>  will  autorestart  a program if it exits after it has
              successfully started up (the process is in the <b>RUNNING</b> state).

              <b>supervisord</b> has a different restart mechanism for when the process is starting up (the process  is
              in  the  <b>STARTING</b>  state).   Retries  during  process  startup  are  controlled  by  <b>startsecs</b> and
              <b>startretries</b>.

          <u>Default</u>: unexpected

          <u>Required</u>:  No.

          <u>Introduced</u>: 3.0

       <b>exitcodes</b>
          The list of "expected" exit codes  for  this  program  used  with  <b>autorestart</b>.   If  the  <b>autorestart</b>
          parameter  is  set  to  <b>unexpected</b>,  and  the  process  exits  in  any other way than as a result of a
          supervisor stop request, <b>supervisord</b> will restart the process if it exits with an exit  code  that  is
          not defined in this list.

          <u>Default</u>: 0,2

          <u>Required</u>:  No.

          <u>Introduced</u>: 3.0

       <b>stopsignal</b>
          The  signal  used  to  kill  the program when a stop is requested.  This can be any of TERM, HUP, INT,
          QUIT, KILL, USR1, or USR2.

          <u>Default</u>: TERM

          <u>Required</u>:  No.

          <u>Introduced</u>: 3.0

       <b>stopwaitsecs</b>
          The number of seconds to wait for the OS to return a SIGCHILD to <b>supervisord</b>  after  the  program  has
          been sent a stopsignal.  If this number of seconds elapses before <b>supervisord</b> receives a SIGCHILD from
          the process, <b>supervisord</b> will attempt to kill it with a final SIGKILL.

          <u>Default</u>: 10

          <u>Required</u>:  No.

          <u>Introduced</u>: 3.0

       <b>stopasgroup</b>
          If  true,  the  flag  causes supervisor to send the stop signal to the whole process group and implies
          <b>killasgroup</b> is true.  This is useful for programs, such as Flask in debug mode, that do not  propagate
          stop signals to their children, leaving them orphaned.

          <u>Default</u>: false

          <u>Required</u>:  No.

          <u>Introduced</u>: 3.0b1

       <b>killasgroup</b>
          If  true,  when  resorting to send SIGKILL to the program to terminate it send it to its whole process
          group instead,  taking  care  of  its  children  as  well,  useful  e.g  with  Python  programs  using
          <b>multiprocessing</b>.

          <u>Default</u>: false

          <u>Required</u>:  No.

          <u>Introduced</u>: 3.0a11

       <b>user</b>
          Instruct  <b>supervisord</b>  to  use this UNIX user account as the account which runs the program.  The user
          can only be switched if <b>supervisord</b> is run as the root user.   If  <b>supervisord</b>  can't  switch  to  the
          specified user, the program will not be started.

          <b>NOTE:</b>
              The user will be changed using <b>setuid</b> only.  This does not start a login shell and does not change
              environment variables like <b>USER</b> or <b>HOME</b>.  See subprocess_environment for details.

          <u>Default</u>: Do not switch users

          <u>Required</u>:  No.

          <u>Introduced</u>: 3.0

       <b>redirect_stderr</b>
          If true, cause the process' stderr output to be sent back to <b>supervisord</b> on its stdout file descriptor
          (in UNIX shell terms, this is the equivalent of executing <b>/the/program</b> <b>2&gt;&amp;1</b>).

          <b>NOTE:</b>
              Do  not  set  <b>redirect_stderr=true</b> in an <b>[eventlistener:x]</b> section.  Eventlisteners use <b>stdout</b> and
              <b>stdin</b> to communicate with <b>supervisord</b>.  If <b>stderr</b> is redirected, output from <b>stderr</b> will interfere
              with the eventlistener protocol.

          <u>Default</u>: false

          <u>Required</u>:  No.

          <u>Introduced</u>: 3.0, replaces 2.0's <b>log_stdout</b> and <b>log_stderr</b>

       <b>stdout_logfile</b>
          Put process stdout output in this file (and if redirect_stderr is true, also place  stderr  output  in
          this  file).   If  <b>stdout_logfile</b> is unset or set to <b>AUTO</b>, supervisor will automatically choose a file
          location.  If this is set to <b>NONE</b>, supervisord will create no log file.   <b>AUTO</b>  log  files  and  their
          backups will be deleted when <b>supervisord</b> restarts.  The <b>stdout_logfile</b> value can contain Python string
          expressions   that   will   evaluated   against  a  dictionary  that  contains  the  keys  <b>group_name</b>,
          <b>host_node_name</b>, <b>process_num</b>, <b>program_name</b>, and <b>here</b> (the directory of the supervisord config file).

          <b>NOTE:</b>
              It is not possible for two processes to share a single log  file  (<b>stdout_logfile</b>)  when  rotation
              (<b>stdout_logfile_maxbytes</b>) is enabled.  This will result in the file being corrupted.

          <u>Default</u>: <b>AUTO</b>

          <u>Required</u>:  No.

          <u>Introduced</u>: 3.0, replaces 2.0's <b>logfile</b>

       <b>stdout_logfile_maxbytes</b>
          The  maximum  number  of  bytes  that  may  be consumed by <b>stdout_logfile</b> before it is rotated (suffix
          multipliers like "KB", "MB", and "GB" can be used in the value).  Set this value to 0 to  indicate  an
          unlimited log size.

          <u>Default</u>: 50MB

          <u>Required</u>:  No.

          <u>Introduced</u>: 3.0, replaces 2.0's <b>logfile_maxbytes</b>

       <b>stdout_logfile_backups</b>
          The  number  of <b>stdout_logfile</b> backups to keep around resulting from process stdout log file rotation.
          If set to 0, no backups will be kept.

          <u>Default</u>: 10

          <u>Required</u>:  No.

          <u>Introduced</u>: 3.0, replaces 2.0's <b>logfile_backups</b>

       <b>stdout_capture_maxbytes</b>
          Max number of  bytes  written  to  capture  FIFO  when  process  is  in  "stdout  capture  mode"  (see
          capture_mode).   Should  be  an  integer  (suffix multipliers like "KB", "MB" and "GB" can used in the
          value).  If this value is 0, process capture mode will be off.

          <u>Default</u>: 0

          <u>Required</u>:  No.

          <u>Introduced</u>: 3.0, replaces 2.0's <b>logfile_backups</b>

       <b>stdout_events_enabled</b>
          If true, PROCESS_LOG_STDOUT events will be  emitted  when  the  process  writes  to  its  stdout  file
          descriptor.  The events will only be emitted if the file descriptor is not in capture mode at the time
          the data is received (see capture_mode).

          <u>Default</u>: 0

          <u>Required</u>:  No.

          <u>Introduced</u>: 3.0a7

       <b>stderr_logfile</b>
          Put  process  stderr output in this file unless <b>redirect_stderr</b> is true.  Accepts the same value types
          as <b>stdout_logfile</b> and may contain the same Python string expressions.

          <b>NOTE:</b>
              It is not possible for two processes to share a single log  file  (<b>stderr_logfile</b>)  when  rotation
              (<b>stderr_logfile_maxbytes</b>) is enabled.  This will result in the file being corrupted.

          <u>Default</u>: <b>AUTO</b>

          <u>Required</u>:  No.

          <u>Introduced</u>: 3.0

       <b>stderr_logfile_maxbytes</b>
          The  maximum number of bytes before logfile rotation for <b>stderr_logfile</b>.  Accepts the same value types
          as <b>stdout_logfile_maxbytes</b>.

          <u>Default</u>: 50MB

          <u>Required</u>:  No.

          <u>Introduced</u>: 3.0

       <b>stderr_logfile_backups</b>
          The number of backups to keep around resulting from process stderr log file rotation.  If set to 0, no
          backups will be kept.

          <u>Default</u>: 10

          <u>Required</u>:  No.

          <u>Introduced</u>: 3.0

       <b>stderr_capture_maxbytes</b>
          Max number of  bytes  written  to  capture  FIFO  when  process  is  in  "stderr  capture  mode"  (see
          capture_mode).   Should  be  an  integer  (suffix multipliers like "KB", "MB" and "GB" can used in the
          value).  If this value is 0, process capture mode will be off.

          <u>Default</u>: 0

          <u>Required</u>:  No.

          <u>Introduced</u>: 3.0

       <b>stderr_events_enabled</b>
          If true, PROCESS_LOG_STDERR events will be  emitted  when  the  process  writes  to  its  stderr  file
          descriptor.  The events will only be emitted if the file descriptor is not in capture mode at the time
          the data is received (see capture_mode).

          <u>Default</u>: false

          <u>Required</u>:  No.

          <u>Introduced</u>: 3.0a7

       <b>environment</b>
          A  list of key/value pairs in the form <b>KEY="val",KEY2="val2"</b> that will be placed in the child process'
          environment.  The environment string may contain Python string  expressions  that  will  be  evaluated
          against  a  dictionary containing <b>group_name</b>, <b>host_node_name</b>, <b>process_num</b>, <b>program_name</b>, and <b>here</b> (the
          directory of the supervisord config file).  Values containing non-alphanumeric  characters  should  be
          quoted   (e.g.   <b>KEY="val:123",KEY2="val,456"</b>).    Otherwise,  quoting  the  values  is  optional  but
          recommended.  <b>Note</b> that the subprocess will inherit the environment variables of  the  shell  used  to
          start "supervisord" except for the ones overridden here.  See subprocess_environment.

          <u>Default</u>: No extra environment

          <u>Required</u>:  No.

          <u>Introduced</u>: 3.0

       <b>directory</b>
          A file path representing a directory to which <b>supervisord</b> should temporarily chdir before exec'ing the
          child.

          <u>Default</u>: No chdir (inherit supervisor's)

          <u>Required</u>:  No.

          <u>Introduced</u>: 3.0

       <b>umask</b>
          An octal number (e.g. 002, 022) representing the umask of the process.

          <u>Default</u>: No special umask (inherit supervisor's)

          <u>Required</u>:  No.

          <u>Introduced</u>: 3.0

       <b>serverurl</b>
          The   URL  passed  in  the  environment  to  the  subprocess  process  as  <b>SUPERVISOR_SERVER_URL</b>  (see
          <b>supervisor.childutils</b>) to allow the subprocess to easily communicate with the  internal  HTTP  server.
          If provided, it should have the same syntax and structure as the <b>[supervisorctl]</b> section option of the
          same name.  If this is set to AUTO, or is unset, supervisor will automatically construct a server URL,
          giving preference to a server that listens on UNIX domain sockets over one that listens on an internet
          socket.

          <u>Default</u>: AUTO

          <u>Required</u>:  No.

          <u>Introduced</u>: 3.0

   <b>[program:x]</b> <b>Section</b> <b>Example</b>
          [program:cat]
          command=<a href="file:/bin/cat">/bin/cat</a>
          process_name=%(program_name)s
          numprocs=1
          directory=<a href="file:/tmp">/tmp</a>
          umask=022
          priority=999
          autostart=true
          autorestart=unexpected
          startsecs=10
          startretries=3
          exitcodes=0,2
          stopsignal=TERM
          stopwaitsecs=10
          stopasgroup=false
          killasgroup=false
          user=chrism
          redirect_stderr=false
          stdout_logfile=/a/path
          stdout_logfile_maxbytes=1MB
          stdout_logfile_backups=10
          stdout_capture_maxbytes=1MB
          stdout_events_enabled=false
          stderr_logfile=/a/path
          stderr_logfile_maxbytes=1MB
          stderr_logfile_backups=10
          stderr_capture_maxbytes=1MB
          stderr_events_enabled=false
          environment=A="1",B="2"
          serverurl=AUTO

   <b>[include]</b> <b>Section</b> <b>Settings</b>
       The  <b>supervisord.conf</b>  file may contain a section named <b>[include]</b>.  If the configuration file contains an
       <b>[include]</b> section, it must contain a single key named "files".  The values  in  this  key  specify  other
       configuration files to be included within the configuration.

   <b>[include]</b> <b>Section</b> <b>Values</b>
       <b>files</b>
          A  space-separated  sequence  of file globs.  Each file glob may be absolute or relative.  If the file
          glob is relative, it is considered relative to the location of the configuration file  which  includes
          it.   A  "glob" is a file pattern which matches a specified pattern according to the rules used by the
          Unix shell. No tilde expansion is done, but <b>*</b>, <b>?</b>, and character  ranges  expressed  with  <b>[]</b>  will  be
          correctly matched.  Recursive includes from included files are not supported.

          <u>Default</u>: No default (required)

          <u>Required</u>:  Yes.

          <u>Introduced</u>: 3.0

   <b>[include]</b> <b>Section</b> <b>Example</b>
          [include]
          files = /an/absolute/filename.conf /an/absolute/*.conf foo.conf config??.conf

   <b>[group:x]</b> <b>Section</b> <b>Settings</b>
       It is often useful to group "homogeneous" process groups (aka "programs") together into a "heterogeneous"
       process group so they can be controlled as a unit from Supervisor's various controller interfaces.

       To  place  programs  into  a  group  so  you can treat them as a unit, define a <b>[group:x]</b> section in your
       configuration file.  The group header value is a composite.  It is the word "group", followed directly by
       a colon, then the group name.  A header value of <b>[group:foo]</b> describes a group with the  name  of  "foo".
       The  name  is  used within client applications that control the processes that are created as a result of
       this configuration.  It is an error to create a <b>group</b> section that does not have a name.  The  name  must
       not include a colon character or a bracket character.

       For a <b>[group:x]</b>, there must be one or more <b>[program:x]</b> sections elsewhere in your configuration file, and
       the group must refer to them by name in the <b>programs</b> value.

       If "homogeneous" process groups (represented by program sections) are placed into a "heterogeneous" group
       via  <b>[group:x]</b>  section's  <b>programs</b>  line, the homogeneous groups that are implied by the program section
       will not exist at runtime in supervisor.  Instead, all processes belonging to  each  of  the  homogeneous
       groups   will  be  placed  into  the  heterogeneous  group.   For  example,  given  the  following  group
       configuration:

          [group:foo]
          programs=bar,baz
          priority=999

       Given the above, at supervisord startup, the <b>bar</b> and <b>baz</b> homogeneous  groups  will  not  exist,  and  the
       processes that would have been under them will now be moved into the <b>foo</b> group.

   <b>[group:x]</b> <b>Section</b> <b>Values</b>
       <b>programs</b>
          A comma-separated list of program names.  The programs which are listed become members of the group.

          <u>Default</u>: No default (required)

          <u>Required</u>:  Yes.

          <u>Introduced</u>: 3.0

       <b>priority</b>
          A priority number analogous to a <b>[program:x]</b> priority value assigned to the group.

          <u>Default</u>: 999

          <u>Required</u>:  No.

          <u>Introduced</u>: 3.0

   <b>[group:x]</b> <b>Section</b> <b>Example</b>
          [group:foo]
          programs=bar,baz
          priority=999

   <b>[fcgi-program:x]</b> <b>Section</b> <b>Settings</b>
       Supervisor  can  manage  groups  of  <u>FastCGI</u>  processes  that  all listen on the same socket.  Until now,
       deployment flexibility for  FastCGI  was  limited.   To  get  full  process  management,  you  could  use
       mod_fastcgi  under  Apache  but  then  you  were stuck with Apache's inefficient concurrency model of one
       process or thread per  connection.   In  addition  to  requiring  more  CPU  and  memory  resources,  the
       process/thread  per  connection  model  can  be  quickly  saturated  by a slow resource, preventing other
       resources from being served.  In order to take advantage  of  newer  event-driven  web  servers  such  as
       lighttpd or nginx which don't include a built-in process manager, you had to use scripts like cgi-fcgi or
       spawn-fcgi.   These  can be used in conjunction with a process manager such as supervisord or daemontools
       but require each FastCGI child process to bind to  its  own  socket.   The  disadvantages  of  this  are:
       unnecessarily  complicated  web  server  configuration, ungraceful restarts, and reduced fault tolerance.
       With fewer sockets to configure, web  server  configurations  are  much  smaller  if  groups  of  FastCGI
       processes can share sockets.  Shared sockets allow for graceful restarts because the socket remains bound
       by  the parent process while any of the child processes are being restarted.  Finally, shared sockets are
       more fault tolerant because if a given process fails, other  processes  can  continue  to  serve  inbound
       connections.

       With  integrated  FastCGI  spawning  support,  Supervisor  gives  you  the  best of both worlds.  You get
       full-featured process management with groups of FastCGI processes sharing sockets without being tied to a
       particular web server.  It's a clean separation of concerns, allowing the  web  server  and  the  process
       manager to each do what they do best.

       <b>NOTE:</b>
          The  socket  manager in Supervisor was originally developed to support FastCGI processes but it is not
          limited to FastCGI.  Other protocols may be used as well with no special configuration.   Any  program
          that  can access an open socket from a file descriptor (e.g. with <u>socket.fromfd</u> in Python) can use the
          socket manager.  Supervisor will automatically create the socket, bind, and listen before forking  the
          first  child  in a group.  The socket will be passed to each child on file descriptor number <b>0</b> (zero).
          When the last child in the group exits, Supervisor will close the socket.

       All the options available to <b>[program:x]</b> sections are also respected by <b>fcgi-program</b> sections.

   <b>[fcgi-program:x]</b> <b>Section</b> <b>Values</b>
       <b>[fcgi-program:x]</b> sections have a single key which <b>[program:x]</b> sections do not have.

       <b>socket</b>
          The FastCGI socket for this program, either TCP or UNIX domain  socket.  For  TCP  sockets,  use  this
          format:  <b>tcp://localhost:9002</b>.   For  UNIX  domain  sockets,  use  <b>unix:///absolute/path/to/file.sock</b>.
          String expressions are evaluated against a dictionary containing the keys  "program_name"  and  "here"
          (the directory of the supervisord config file).

          <u>Default</u>: No default.

          <u>Required</u>:  Yes.

          <u>Introduced</u>: 3.0

       <b>socket_owner</b>
          For  UNIX  domain  sockets,  this  parameter can be used to specify the user and group for the FastCGI
          socket. May be a UNIX username (e.g. chrism) or a UNIX username and group separated by a  colon  (e.g.
          chrism:wheel).

          <u>Default</u>: Uses the user and group set for the fcgi-program

          <u>Required</u>:  No.

          <u>Introduced</u>: 3.0

       <b>socket_mode</b>
          For UNIX domain sockets, this parameter can be used to specify the permission mode.

          <u>Default</u>: 0700

          <u>Required</u>:  No.

          <u>Introduced</u>: 3.0

       Consult <u>[program:x]</u> <u>Section</u> <u>Settings</u> for other allowable keys, delta the above constraints and additions.

   <b>[fcgi-program:x]</b> <b>Section</b> <b>Example</b>
          [fcgi-program:fcgiprogramname]
          command=/usr/bin/example.fcgi
          socket=unix:///var/run/supervisor/%(program_name)s.sock
          socket_owner=chrism
          socket_mode=0700
          process_name=%(program_name)s_%(process_num)02d
          numprocs=5
          directory=<a href="file:/tmp">/tmp</a>
          umask=022
          priority=999
          autostart=true
          autorestart=unexpected
          startsecs=1
          startretries=3
          exitcodes=0,2
          stopsignal=QUIT
          stopasgroup=false
          killasgroup=false
          stopwaitsecs=10
          user=chrism
          redirect_stderr=true
          stdout_logfile=/a/path
          stdout_logfile_maxbytes=1MB
          stdout_logfile_backups=10
          stdout_events_enabled=false
          stderr_logfile=/a/path
          stderr_logfile_maxbytes=1MB
          stderr_logfile_backups=10
          stderr_events_enabled=false
          environment=A="1",B="2"
          serverurl=AUTO

   <b>[eventlistener:x]</b> <b>Section</b> <b>Settings</b>
       Supervisor  allows  specialized  homogeneous process groups ("event listener pools") to be defined within
       the configuration file.  These pools contain processes that are meant to receive  and  respond  to  event
       notifications  from  supervisor's event system.  See events for an explanation of how events work and how
       to implement programs that can be declared as event listeners.

       Note that all the options available to <b>[program:x]</b>  sections  are  respected  by  eventlistener  sections
       <u>except</u>  for  <b>stdout_capture_maxbytes</b>  and  <b>stderr_capture_maxbytes</b>  (event  listeners cannot emit process
       communication events, see capture_mode).

   <b>[eventlistener:x]</b> <b>Section</b> <b>Values</b>
       <b>[eventlistener:x]</b> sections have a few keys which <b>[program:x]</b> sections do not have.

       <b>buffer_size</b>
          The event listener pool's event queue buffer size.  When a listener pool's event buffer is  overflowed
          (as  can  happen  when  an  event listener pool cannot keep up with all of the events sent to it), the
          oldest event in the buffer is discarded.

       <b>events</b>
          A comma-separated  list  of  event  type  names  that  this  listener  is  "interested"  in  receiving
          notifications for (see event_types for a list of valid event type names).

       <b>result_handler</b>
          A  <u>pkg_resources</u>  <u>entry</u>  <u>point</u>  <u>string</u>  that  resolves  to  a  Python  callable.  The default value is
          <b>supervisor.dispatchers:default_handler</b>.  Specifying an alternate result handler  is  a  very  uncommon
          thing to need to do, and as a result, how to create one is not documented.

       Consult <u>[program:x]</u> <u>Section</u> <u>Settings</u> for other allowable keys, delta the above constraints and additions.

   <b>[eventlistener:x]</b> <b>Section</b> <b>Example</b>
          [eventlistener:theeventlistenername]
          command=/bin/eventlistener
          process_name=%(program_name)s_%(process_num)02d
          numprocs=5
          events=PROCESS_STATE
          buffer_size=10
          directory=<a href="file:/tmp">/tmp</a>
          umask=022
          priority=-1
          autostart=true
          autorestart=unexpected
          startsecs=1
          startretries=3
          exitcodes=0,2
          stopsignal=QUIT
          stopwaitsecs=10
          stopasgroup=false
          killasgroup=false
          user=chrism
          redirect_stderr=false
          stdout_logfile=/a/path
          stdout_logfile_maxbytes=1MB
          stdout_logfile_backups=10
          stdout_events_enabled=false
          stderr_logfile=/a/path
          stderr_logfile_maxbytes=1MB
          stderr_logfile_backups=10
          stderr_events_enabled=false
          environment=A="1",B="2"
          serverurl=AUTO

   <b>[rpcinterface:x]</b> <b>Section</b> <b>Settings</b>
       Adding  <b>rpcinterface:x</b>  settings  in  the configuration file is only useful for people who wish to extend
       supervisor with additional custom behavior.

       In the sample config file, there is a section which is named <b>[rpcinterface:supervisor]</b>.   By  default  it
       looks like the following.

          [rpcinterface:supervisor]
          supervisor.rpcinterface_factory = supervisor.rpcinterface:make_main_rpcinterface

       The  <b>[rpcinterface:supervisor]</b>  section  <u>must</u>  remain  in  the  configuration  for  the standard setup of
       supervisor to work properly.  If you don't want supervisor to do anything it doesn't already  do  out  of
       the box, this is all you need to know about this type of section.

       However,  if  you  wish  to  add  rpc  interface namespaces in order to customize supervisor, you may add
       additional <b>[rpcinterface:foo]</b> sections, where "foo" represents the namespace of the interface  (from  the
       web root), and the value named by <b>supervisor.rpcinterface_factory</b> is a factory callable which should have
       a  function signature that accepts a single positional argument <b>supervisord</b> and as many keyword arguments
       as required to perform configuration.  Any extra key/value  pairs  defined  within  the  <b>[rpcinterface:x]</b>
       section will be passed as keyword arguments to the factory.

       Here's  an  example  of  a  factory  function,  created  in  the  <b>__init__.py</b>  file of the Python package
       <b>my.package</b>.

          from my.package.rpcinterface import AnotherRPCInterface

          def make_another_rpcinterface(supervisord, **config):
              retries = int(config.get('retries', 0))
              another_rpc_interface = AnotherRPCInterface(supervisord, retries)
              return another_rpc_interface

       And a section in the config file meant to configure it.

          [rpcinterface:another]
          supervisor.rpcinterface_factory = my.package:make_another_rpcinterface
          retries = 1

   <b>[rpcinterface:x]</b> <b>Section</b> <b>Values</b>
       <b>supervisor.rpcinterface_factory</b>
          <b>pkg_resources</b> "entry point" dotted name to your RPC interface's factory function.

          <u>Default</u>: N/A

          <u>Required</u>:  No.

          <u>Introduced</u>: 3.0

   <b>[rpcinterface:x]</b> <b>Section</b> <b>Example</b>
          [rpcinterface:another]
          supervisor.rpcinterface_factory = my.package:make_another_rpcinterface
          retries = 1

   <b>Subprocesses</b>
       <b>supervisord</b>'s primary purpose is to create and manage processes based on data in its configuration  file.
       It does this by creating subprocesses.  Each subprocess spawned by supervisor is managed for the entirety
       of  its  lifetime  by supervisord (<b>supervisord</b> is the parent process of each process it creates).  When a
       child dies, supervisor is notified of its death via the <b>SIGCHLD</b> signal, and it performs  the  appropriate
       operation.

   <b>Nondaemonizing</b> <b>of</b> <b>Subprocesses</b>
       Programs  meant  to be run under supervisor should not daemonize themselves.  Instead, they should run in
       the foreground.  They should not detach from the terminal from which they are started.

       The easiest way to tell if a program will run in the foreground is to run the command  that  invokes  the
       program  from  a shell prompt.  If it gives you control of the terminal back, but continues running, it's
       daemonizing itself and that will almost certainly be the wrong way to run it under supervisor.  You  want
       to  run  a command that essentially requires you to press <b>Ctrl-C</b> to get control of the terminal back.  If
       it gives you a shell prompt back after running it without needing to press <b>Ctrl-C</b>, it's not useful  under
       supervisor.   All  programs  have options to be run in the foreground but there's no "standard way" to do
       it; you'll need to read the documentation for each program.

       Below are configuration file examples that are known to start common programs in "foreground" mode  under
       Supervisor.

   <b>Examples</b> <b>of</b> <b>Program</b> <b>Configurations</b>
       Here are some "real world" program configuration examples:

   <b>Apache</b> <b>2.2.6</b>
          [program:apache2]
          command=/path/to/httpd -c "ErrorLog /dev/stdout" -DFOREGROUND
          redirect_stderr=true

   <b>Two</b> <b>Zope</b> <b>2.X</b> <b>instances</b> <b>and</b> <b>one</b> <b>ZEO</b> <b>server</b>
          [program:zeo]
          command=/path/to/runzeo
          priority=1

          [program:zope1]
          command=/path/to/instance/home/bin/runzope
          priority=2
          redirect_stderr=true

          [program:zope2]
          command=/path/to/another/instance/home/bin/runzope
          priority=2
          redirect_stderr=true

   <b>Postgres</b> <b>8.X</b>
          [program:postgres]
          command=/path/to/postmaster
          ; we use the "fast" shutdown signal SIGINT
          stopsignal=INT
          redirect_stderr=true

   <b>OpenLDAP</b> <b>slapd</b>
          [program:slapd]
          command=/path/to/slapd -f /path/to/slapd.conf -h ldap://0.0.0.0:8888
          redirect_stderr=true

   <b>Other</b> <b>Examples</b>
       Other  examples  of  shell scripts that could be used to start services under <b>supervisord</b> can be found at
       <u><a href="http://thedjbway.b0llix.net/services.html">http://thedjbway.b0llix.net/services.html</a></u>.  These examples are actually for <b>daemontools</b> but  the  premise
       is the same for supervisor.

       Another  collection  of  recipes  for  starting  various  programs  in  the  foreground is available from
       <u><a href="http://smarden.org/runit/runscripts.html">http://smarden.org/runit/runscripts.html</a></u>.

   <b>pidproxy</b> <b>Program</b>
       Some processes (like <b>mysqld</b>) ignore signals sent to the actual process which is spawned  by  <b>supervisord</b>.
       Instead,  a  "special"  thread/process  is  created  by  these kinds of programs which is responsible for
       handling signals.  This is problematic because <b>supervisord</b> can only  kill  a  process  which  it  creates
       itself.   If  a  process  created by <b>supervisord</b> creates its own child processes, <b>supervisord</b> cannot kill
       them.

       Fortunately, these types of programs typically write a "pidfile" which contains  the  "special"  process'
       PID,  and  is  meant  to be read and used in order to kill the process.  As a workaround for this case, a
       special <b>pidproxy</b> program can handle startup of these kinds of processes.  The <b>pidproxy</b> program is a small
       shim that starts a process, and upon the receipt of a signal, sends the signal to the pid provided  in  a
       pidfile.  A sample configuration program entry for a pidproxy-enabled program is provided below.

          [program:mysql]
          command=/path/to/pidproxy /path/to/pidfile /path/to/mysqld_safe

       The  <b>pidproxy</b>  program  is  put  into  your configuration's <b>$BINDIR</b> when supervisor is installed (it is a
       "console script").

   <b>Subprocess</b> <b>Environment</b>
       Subprocesses will inherit the environment of the shell used to start the  <b>supervisord</b>  program.   Several
       environment  variables  will  be  set  by  <b>supervisord</b>  itself in the child's environment also, including
       <b>SUPERVISOR_ENABLED</b> (a flag indicating the process is under supervisor  control),  <b>SUPERVISOR_PROCESS_NAME</b>
       (the   config-file-specified   process   name   for   this   process)   and   <b>SUPERVISOR_GROUP_NAME</b>  (the
       config-file-specified process group name for the child process).

       These environment variables may be overridden  within  the  <b>[supervisord]</b>  section  config  option  named
       <b>environment</b>  (applies  to  all  subprocesses)  or  within the per- <b>[program:x]</b> section <b>environment</b> config
       option (applies only to the subprocess specified within the <b>[program:x]</b>  section).   These  "environment"
       settings are additive.  In other words, each subprocess' environment will consist of:
          The environment variables set within the shell used to start supervisord...

          ... added-to/overridden-by ...

          <b>...</b> <b>the</b> <b>environment</b> <b>variables</b> <b>set</b> <b>within</b> <b>the</b> <b>environment</b> <b>global</b>
                     config option ...

                 ... added-to/overridden-by ...

                 <b>...</b> <b>supervisor-specific</b> <b>environment</b> <b>variables</b>
                        (<b>SUPERVISOR_ENABLED</b>, <b>SUPERVISOR_PROCESS_NAME</b>, <b>SUPERVISOR_GROUP_NAME</b>) ..

                 ... added-to/overridden-by ...

                 <b>...</b> <b>the</b> <b>environment</b> <b>variables</b> <b>set</b> <b>within</b> <b>the</b> <b>per-process</b>
                        "environment" config option.

       No  shell  is  executed  by <b>supervisord</b> when it runs a subprocess, so environment variables such as <b>USER</b>,
       <b>PATH</b>, <b>HOME</b>, <b>SHELL</b>, <b>LOGNAME</b>, etc. are not changed from their defaults or otherwise  reassigned.   This  is
       particularly important to note when you are running a program from a <b>supervisord</b> run as root with a <b>user=</b>
       stanza  in  the  configuration.   Unlike  <b>cron</b>,  <b>supervisord</b>  does  not  attempt  to  divine and override
       "fundamental" environment variables like <b>USER</b>, <b>PATH</b>, <b>HOME</b>, and <b>LOGNAME</b> when it performs a setuid  to  the
       user  defined  within  the  <b>user=</b>  program config option.  If you need to set environment variables for a
       particular program that might otherwise be set by a shell invocation for a particular user, you  must  do
       it  explicitly  within  the  <b>environment=</b> program config option.  An example of setting these environment
       variables is as below.

          [program:apache2]
          command=/home/chrism/bin/httpd -c "ErrorLog /dev/stdout" -DFOREGROUND
          user=chrism
          environment=HOME="/home/chrism",USER="chrism"

   <b>Process</b> <b>States</b>
       A process controlled by supervisord will be in one of the below states at any given time.   You  may  see
       these state names in various user interface elements in clients.

       <b>STOPPED</b> (0)
          The process has been stopped due to a stop request or has never been started.

       <b>STARTING</b> (10)
          The process is starting due to a start request.

       <b>RUNNING</b> (20)
          The process is running.

       <b>BACKOFF</b> (30)
          The  process  entered  the  <b>STARTING</b>  state but subsequently exited too quickly to move to the <b>RUNNING</b>
          state.

       <b>STOPPING</b> (40)
          The process is stopping due to a stop request.

       <b>EXITED</b> (100)
          The process exited from the <b>RUNNING</b> state (expectedly or unexpectedly).

       <b>FATAL</b> (200)
          The process could not be started successfully.

       <b>UNKNOWN</b> (1000)
          The process is in an unknown state (<b>supervisord</b> programming error).

       Each process run under supervisor progresses through these states as per the following directed graph.
         [image: Subprocess State Transition Graph] [image] Subprocess State Transition Graph.UNINDENT

         A process is in the <b>STOPPED</b> state if it has been stopped  adminstratively  or  if  it  has  never  been
         started.

         When  an  autorestarting  process  is  in  the  <b>BACKOFF</b>  state,  it  will be automatically restarted by
         <b>supervisord</b>.  It will switch between <b>STARTING</b> and <b>BACKOFF</b> states  until  it  becomes  evident  that  it
         cannot  be  started because the number of <b>startretries</b> has exceeded the maximum, at which point it will
         transition to the <b>FATAL</b> state.  Each start retry will take progressively more time.

         When a process is in the <b>EXITED</b> state, it will automatically restart:

       • never if its <b>autorestart</b> parameter is set to <b>false</b>.

       • unconditionally if its <b>autorestart</b> parameter is set to <b>true</b>.

       • conditionally if its <b>autorestart</b> parameter is set to <b>unexpected</b>.  If it exited with an exit  code  that
         doesn't  match  one of the exit codes defined in the <b>exitcodes</b> configuration parameter for the process,
         it will be restarted.

       A process automatically transitions from <b>EXITED</b> to <b>RUNNING</b> as a result of being configured to autorestart
       conditionally or unconditionally.  The number of transitions between <b>RUNNING</b> and <b>EXITED</b> is not limited in
       any way: it is possible to create a configuration that endlessly restarts an exited process.  This  is  a
       feature, not a bug.

       An  autorestarted process will never be automatically restarted if it ends up in the <b>FATAL</b> state (it must
       be manually restarted from this state).

       A process transitions into the <b>STOPPING</b> state via an administrative stop request, and will then end up in
       the <b>STOPPED</b> state.

       A process that cannot be stopped successfully will stay in the <b>STOPPING</b> state  forever.   This  situation
       should  never  be  reached  during  normal operations as it implies that the process did not respond to a
       final <b>SIGKILL</b> signal sent to it by supervisor, which is "impossible" under UNIX.

       State transitions which always require user action to invoke are these:

       <b>FATAL</b>   -&gt; <b>STARTING</b>

       <b>RUNNING</b> -&gt; <b>STOPPING</b>

       State transitions which typically, but not  always,  require  user  action  to  invoke  are  these,  with
       exceptions noted:

       <b>STOPPED</b> -&gt; <b>STARTING</b> (except at supervisord startup if process is configured to autostart)

       <b>EXITED</b> -&gt; <b>STARTING</b> (except if process is configured to autorestart)

       All other state transitions are managed by supervisord automatically.

   <b>Logging</b>
       One  of  the main tasks that <b>supervisord</b> performs is logging.  <b>supervisord</b> logs an activity log detailing
       what it's doing as it runs.  It also logs child process stdout  and  stderr  output  to  other  files  if
       configured to do so.

   <b>Activity</b> <b>Log</b>
       The activity log is the place where <b>supervisord</b> logs messages about its own health, its subprocess' state
       changes,  any  messages  that  result from events, and debug and informational messages.  The path to the
       activity log is configured via the <b>logfile</b> parameter in the <b>[supervisord]</b> section  of  the  configuration
       file,  defaulting  to  <b>$CWD/supervisord.log</b>.   Sample activity log traffic is shown in the example below.
       Some lines have been broken to better fit the screen.

   <b>Sample</b> <b>Activity</b> <b>Log</b> <b>Output</b>
          2007-09-08 14:43:22,886 DEBG 127.0.0.1:Medusa (V1.11) started at Sat Sep  8 14:43:22 2007
                  Hostname: kingfish
                  Port:9001
          2007-09-08 14:43:22,961 INFO RPC interface 'supervisor' initialized
          2007-09-08 14:43:22,961 CRIT Running without any HTTP authentication checking
          2007-09-08 14:43:22,962 INFO supervisord started with pid 27347
          2007-09-08 14:43:23,965 INFO spawned: 'listener_00' with pid 27349
          2007-09-08 14:43:23,970 INFO spawned: 'eventgen' with pid 27350
          2007-09-08 14:43:23,990 INFO spawned: 'grower' with pid 27351
          2007-09-08 14:43:24,059 DEBG 'listener_00' stderr output:
           /Users/chrism/projects/supervisor/supervisor2/dev-sandbox/bin/python:
           can't open file '/Users/chrism/projects/supervisor/supervisor2/src/supervisor/scripts/osx_eventgen_listener.py':
           [Errno 2] No such file or directory
          2007-09-08 14:43:24,060 DEBG fd 7 closed, stopped monitoring &lt;PEventListenerDispatcher at 19910168 for
           &lt;Subprocess at 18892960 with name listener_00 in state STARTING&gt; (stdout)&gt;
          2007-09-08 14:43:24,060 INFO exited: listener_00 (exit status 2; not expected)
          2007-09-08 14:43:24,061 DEBG received SIGCHLD indicating a child quit

       The activity log "level" is configured in the config file via the <b>loglevel</b> parameter in the <b>[supervisord]</b>
       ini file section.  When <b>loglevel</b> is set, messages of the specified priority, plus those with  any  higher
       priority  are  logged  to  the  activity  log.   For example, if <b>loglevel</b> is <b>error</b>, messages of <b>error</b> and
       <b>critical</b> priority will be logged.  However, if loglevel is <b>warn</b>, messages of <b>warn</b>,  <b>error</b>,  and  <b>critical</b>
       will be logged.

   <b>Activity</b> <b>Log</b> <b>Levels</b>
       The  below table describes the logging levels in more detail, ordered in highest priority to lowest.  The
       "Config File Value" is the string provided to the <b>loglevel</b> parameter  in  the  <b>[supervisord]</b>  section  of
       configuration file and the "Output Code" is the code that shows up in activity log output lines.
                          ┌───────────────────┬─────────────┬──────────────────────────────┐
                          │ Config File Value │ Output Code │ Description                  │
                          ├───────────────────┼─────────────┼──────────────────────────────┤
                          │ critical          │ CRIT        │ Messages   that  indicate  a │
                          │                   │             │ condition   that    requires │
                          │                   │             │ immediate  user attention, a │
                          │                   │             │ supervisor state change,  or │
                          │                   │             │ an   error   in   supervisor │
                          │                   │             │ itself.                      │
                          ├───────────────────┼─────────────┼──────────────────────────────┤
                          │ error             │ ERRO        │ Messages  that  indicate   a │
                          │                   │             │ potentially  ignorable error │
                          │                   │             │ condition  (e.g.  unable  to │
                          │                   │             │ clear a log directory).      │
                          ├───────────────────┼─────────────┼──────────────────────────────┤
                          │ warn              │ WARN        │ Messages  that  indicate  an │
                          │                   │             │ anomalous  condition   which │
                          │                   │             │ isn't an error.              │
                          ├───────────────────┼─────────────┼──────────────────────────────┤
                          │ info              │ INFO        │ Normal informational output. │
                          │                   │             │ This   is  the  default  log │
                          │                   │             │ level if none is  explicitly │
                          │                   │             │ configured.                  │
                          ├───────────────────┼─────────────┼──────────────────────────────┤
                          │ debug             │ DEBG        │ Messages  useful  for  users │
                          │                   │             │ trying  to   debug   process │
                          │                   │             │ configuration            and │
                          │                   │             │ communications      behavior │
                          │                   │             │ (process   output,  listener │
                          │                   │             │ state     changes,     event │
                          │                   │             │ notifications).              │
                          ├───────────────────┼─────────────┼──────────────────────────────┤
                          │ trace             │ TRAC        │ Messages      useful     for │
                          │                   │             │ developers trying  to  debug │
                          │                   │             │ supervisor    plugins,   and │
                          │                   │             │ information about  HTTP  and │
                          │                   │             │ RPC requests and responses.  │
                          ├───────────────────┼─────────────┼──────────────────────────────┤
                          │ blather           │ BLAT        │ Messages      useful     for │
                          │                   │             │ developers trying  to  debug │
                          │                   │             │ supervisor itself.           │
                          └───────────────────┴─────────────┴──────────────────────────────┘

   <b>Activity</b> <b>Log</b> <b>Rotation</b>
       The  activity  log  is  "rotated" by <b>supervisord</b> based on the combination of the <b>logfile_maxbytes</b> and the
       <b>logfile_backups</b> parameters in the <b>[supervisord]</b> section of the configuration file.  When the activity log
       reaches <b>logfile_maxbytes</b> bytes, the current log file is moved to a backup file and  a  new  activity  log
       file  is  created.  When this happens, if the number of existing backup files is greater than or equal to
       <b>logfile_backups</b>, the oldest backup file is removed and the backup files are renamed accordingly.  If  the
       file  being  written  to  is  named  <b>supervisord.log</b>,  when it exceeds <b>logfile_maxbytes</b>, it is closed and
       renamed to <b>supervisord.log.1</b>, and if files <b>supervisord.log.1</b>, <b>supervisord.log.2</b> etc. exist, then they are
       renamed to <b>supervisord.log.2</b>, <b>supervisord.log.3</b>  etc.   respectively.   If  <b>logfile_maxbytes</b>  is  0,  the
       logfile  is never rotated (and thus backups are never made).  If <b>logfile_backups</b> is 0, no backups will be
       kept.

   <b>Child</b> <b>Process</b> <b>Logs</b>
       The stdout of child processes spawned by supervisor, by default, is captured for redisplay  to  users  of
       <b>supervisorctl</b>  and  other  clients.   If  no  specific  logfile-related  configuration  is performed in a
       <b>[program:x]</b>, <b>[fcgi-program:x]</b>, or <b>[eventlistener:x]</b> section in the configuration file, the  following  is
       true:

       • <b>supervisord</b> will capture the child process' stdout and stderr output into temporary files.  Each stream
         is captured to a separate file.  This is known as <b>AUTO</b> log mode.

       • <b>AUTO</b>  log  files  are  named automatically and placed in the directory configured as <b>childlogdir</b> of the
         <b>[supervisord]</b> section of the config file.

       • The size of each <b>AUTO</b> log file is bounded by the <b>{streamname}_logfile_maxbytes</b>  value  of  the  program
         section (where {streamname} is "stdout" or "stderr").  When it reaches that number, it is rotated (like
         the activity log), based on the <b>{streamname}_logfile_backups</b>.

       The  configuration keys that influence child process logging in <b>[program:x]</b> and <b>[fcgi-program:x]</b> sections
       are these:

       <b>redirect_stderr</b>,         <b>stdout_logfile</b>,         <b>stdout_logfile_maxbytes</b>,         <b>stdout_logfile_backups</b>,
       <b>stdout_capture_maxbytes</b>,     <b>stderr_logfile</b>,    <b>stderr_logfile_maxbytes</b>,    <b>stderr_logfile_backups</b>    and
       <b>stderr_capture_maxbytes</b>.

       One may set <b>stdout_logfile</b> or <b>stderr_logfile</b> to the special string "syslog". In this case, logs  will  be
       routed to the syslog service instead of being saved to files.

       <b>[eventlistener:x]</b>    sections    may    not    specify   <b>redirect_stderr</b>,   <b>stdout_capture_maxbytes</b>,   or
       <b>stderr_capture_maxbytes</b>, but otherwise they accept the same values.

       The configuration keys that influence child process logging in the <b>[supervisord]</b> config file section  are
       these: <b>childlogdir</b>, and <b>nocleanup</b>.

   <b>Capture</b> <b>Mode</b>
       Capture  mode  is an advanced feature of Supervisor.  You needn't understand capture mode unless you want
       to take actions based on data parsed from subprocess output.

       If a <b>[program:x]</b> section  in  the  configuration  file  defines  a  non-zero  <b>stdout_capture_maxbytes</b>  or
       <b>stderr_capture_maxbytes</b>  parameter,  each  process  represented  by  the program section may emit special
       tokens on its stdout or stderr stream (respectively) which will effectively cause supervisor  to  emit  a
       <b>PROCESS_COMMUNICATION</b> event (see events for a description of events).

       The  process  communications protocol relies on two tags, one which commands supervisor to enter "capture
       mode" for the stream and one which commands it to exit.  When a process  stream  enters  "capture  mode",
       data  sent  to  the  stream  will  be sent to a separate buffer in memory, the "capture buffer", which is
       allowed to contain a maximum of <b>capture_maxbytes</b> bytes.  During capture mode, when  the  buffer's  length
       exceeds  <b>capture_maxbytes</b>  bytes, the earliest data in the buffer is discarded to make room for new data.
       When a process stream exits capture mode, a <b>PROCESS_COMMUNICATION</b> event subtype is emitted by supervisor,
       which may be intercepted by event listeners.

       The tag to begin "capture mode" in a process stream is <b>&lt;!--XSUPERVISOR:BEGIN--&gt;</b>.  The tag to exit capture
       mode is <b>&lt;!--XSUPERVISOR:END--&gt;</b>.  The data between these tags may be arbitrary, and forms the  payload  of
       the  <b>PROCESS_COMMUNICATION</b>  event.  For example, if a program is set up with a <b>stdout_capture_maxbytes</b> of
       "1MB", and it emits the following on its stdout stream:

          &lt;!--XSUPERVISOR:BEGIN--&gt;Hello!&lt;!--XSUPERVISOR:END--&gt;

       In this circumstance, <b>supervisord</b> will emit  a  <b>PROCESS_COMMUNICATIONS_STDOUT</b>  event  with  data  in  the
       payload of "Hello!".

       An  example  of  a script (written in Python) which emits a process communication event is in the <b>scripts</b>
       directory of the supervisor package, named <b>sample_commevent.py</b>.

       The output of processes specified as "event listeners" (<b>[eventlistener:x]</b> sections) is not processed this
       way.  Output from these processes cannot enter capture mode.

   <b>Extending</b> <b>Supervisor's</b> <b>XML-RPC</b> <b>API</b>
       Supervisor can be extended with new XML-RPC APIs.  Several third-party plugins already exist that can  be
       wired  into  your  Supervisor  configuration.   You  may additionally write your own.  Extensible XML-RPC
       interfaces is an advanced feature, introduced in version 3.0.  You needn't understand it unless you  wish
       to  use  an  existing  third-party  RPC  interface  plugin or if you wish to write your own RPC interface
       plugin.

   <b>Configuring</b> <b>XML-RPC</b> <b>Interface</b> <b>Factories</b>
       An additional RPC interface is configured into a supervisor installation  by  adding  a  <b>[rpcinterface:x]</b>
       section in the Supervisor configuration file.

       In  the  sample  config file, there is a section which is named <b>[rpcinterface:supervisor]</b>.  By default it
       looks like this:

          [rpcinterface:supervisor]
          supervisor.rpcinterface_factory = supervisor.rpcinterface:make_main_rpcinterface

       This section <u>must</u> remain in the configuration for the standard setup of supervisor to work properly.   If
       you  don't  want  supervisor to do anything it doesn't already do out of the box, this is all you need to
       know about this type of section.

       However, if you wish to add additional XML-RPC interface namespaces to a configuration of supervisor, you
       may add additional <b>[rpcinterface:foo]</b> sections, where "foo" represents the  namespace  of  the  interface
       (from the web root), and the value named by <b>supervisor.rpcinterface_factory</b> is a factory callable written
       in  Python  which  should have a function signature that accepts a single positional argument <b>supervisord</b>
       and as many keyword arguments as required to perform configuration.  Any key/value pairs  defined  within
       the  <b>rpcinterface:foo</b> section will be passed as keyword arguments to the factory.  Here's an example of a
       factory function, created in the package <b>my.package</b>.

          def make_another_rpcinterface(supervisord, **config):
              retries = int(config.get('retries', 0))
              another_rpc_interface = AnotherRPCInterface(supervisord, retries)
              return another_rpc_interface

       And a section in the config file meant to configure it.

          [rpcinterface:another]
          supervisor.rpcinterface_factory = my.package:make_another_rpcinterface
          retries = 1

   <b>Glossary</b>
       <b>daemontools</b>
              A <u>process</u> <u>control</u> <u>system</u> <u>by</u> <u>D.J.</u> <u>Bernstein</u>.

       <b>launchd</b>
              A <u>process</u> <u>control</u> <u>system</u> <u>used</u> <u>by</u> <u>Apple</u> as process 1 under Mac OS X.

       <b>runit</b>  A <u>process</u> <u>control</u> <u>system</u>.

       <b>Superlance</b>
              A package which provides various event listener implementations that plug  into  Supervisor  which
              can help monitor process memory usage and crash status: <u><a href="http://pypi.python.org/pypi/superlance">http://pypi.python.org/pypi/superlance</a></u>.

       <b>umask</b>  Abbreviation  of  <u>user</u>  <u>mask</u>:  sets  the  file  mode  creation  mask  of the current process.  See
              <u><a href="http://en.wikipedia.org/wiki/Umask">http://en.wikipedia.org/wiki/Umask</a></u>.

</pre><h4><b>API</b> <b>DOCUMENTATION</b></h4><pre>
   <b>XML-RPC</b> <b>API</b> <b>Documentation</b>
       To use the XML-RPC interface, connect to supervisor's HTTP port with any XML-RPC client library  and  run
       commands against it.  An example of doing this using Python's <b>xmlrpclib</b> client library is as follows.

          import xmlrpclib
          server = xmlrpclib.Server('<a href="http://localhost">http://localhost</a>:9001/RPC2')

       You  may  call  methods  against  <b>supervisord</b> and its subprocesses by using the <b>supervisor</b> namespace.  An
       example is provided below.

          server.supervisor.getState()

       You can get a list of methods supported by  the  <b>supervisord</b>  XML-RPC  interface  by  using  the  XML-RPC
       <b>system.listMethods</b> API:

          server.system.listMethods()

       You can see help on a method by using the <b>system.methodHelp</b> API against the method:

          server.system.methodHelp('supervisor.shutdown')

       The <b>supervisord</b> XML-RPC interface also supports the <u>XML-RPC</u> <u>multicall</u> <u>API</u>.

       You  can  extend  <b>supervisord</b>  functionality  with  new  XML-RPC  API methods by adding new top-level RPC
       interfaces as necessary.  See rpcinterface_factories.

       <b>NOTE:</b>
          Any XML-RPC method call may result in a fault response.  This includes errors  caused  by  the  client
          such  as  bad  arguments,  and  any  errors that make <b>supervisord</b> unable to fulfill the request.  Many
          XML-RPC client programs will raise an exception when a fault response is encountered.

   <b>Status</b> <b>and</b> <b>Control</b>
          <b>class</b> <b>supervisor.rpcinterface.SupervisorNamespaceRPCInterface(supervisord)</b>

                 <b>getAPIVersion()</b>
                        Return the version of the RPC API used by supervisord

                        @return string version version id

                        This API is versioned separately from Supervisor itself. The  API  version  returned  by
                        <b>getAPIVersion</b>  only  changes  when  the  API  changes. Its purpose is to help the client
                        identify with which version of the Supervisor API it is communicating.

                        When writing software that communicates with this API, it is highly recommended that you
                        first test the API version for compatibility before making method calls.

                        <b>NOTE:</b>
                            The <b>getAPIVersion</b> method replaces <b>getVersion</b> found in Supervisor versions  prior  to
                            3.0a1.  It  is  aliased for compatibility but getVersion() is deprecated and support
                            will be dropped from Supervisor in a future version.

                 <b>getSupervisorVersion()</b>
                        Return the version of the supervisor package in use by supervisord

                        @return string version version id

                 <b>getIdentification()</b>
                        Return identifiying string of supervisord

                        @return string identifier identifying string

                        This method allows  the  client  to  identify  with  which  Supervisor  instance  it  is
                        communicating in the case of environments where multiple Supervisors may be running.

                        The identification is a string that must be set in Supervisor’s configuration file. This
                        method simply returns that value back to the client.

                 <b>getState()</b>
                        Return current state of supervisord as a struct

                        @return struct A struct with keys int statecode, string statename

                        This  is  an  internal  value  maintained  by Supervisor that determines what Supervisor
                        believes to be its current operational state.

                        Some method calls can alter the current state of the Supervisor.  For  example,  calling
                        the  method  supervisor.shutdown()  while the station is in the RUNNING state places the
                        Supervisor in the SHUTDOWN state while it is shutting down.

                        The supervisor.getState() method provides a means for the client to  check  Supervisor's
                        state, both for informational purposes and to ensure that the methods it intends to call
                        will be permitted.

                        The return value is a struct:

                            {'statecode': 1,
                             'statename': 'RUNNING'}

                        The possible return values are:
                                       ─────────────────────────────────────────────────────────
                                         statecode   statename    Description
                                       ─────────────────────────────────────────────────────────
                                         2           FATAL        Supervisor has experienced a
                                                                  serious error.
                                       ─────────────────────────────────────────────────────────
                                         1           RUNNING      Supervisor     is    working
                                                                  normally.
                                       ─────────────────────────────────────────────────────────
                                         0           RESTARTING   Supervisor is in the process
                                                                  of restarting.
                                       ─────────────────────────────────────────────────────────
                                         -1          SHUTDOWN     Supervisor is in the process
                                                                  of shutting down.
                                       ┌───────────┬────────────┬──────────────────────────────┐
                                       │           │            │                              │
--
</pre><h4><b>PLUGINS</b></h4><pre>
</pre><h4><b>INDICES</b> <b>AND</b> <b>TABLES</b></h4><pre>
       • genindex

       • modindex

       • search

</pre><h4><b>AUTHOR</b></h4><pre>
       This man page was created by Orestis Ioannou &lt;<a href="mailto:orestis@oioannou.com">orestis@oioannou.com</a>&gt; using the official documentation.

</pre><h4><b>COPYRIGHT</b></h4><pre>
       2004-2015, Agendaless Consulting and Contributors

3.2.0                                           December 10, 2015                                  <u><a href="../man1/SUPERVISOR.1.html">SUPERVISOR</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>