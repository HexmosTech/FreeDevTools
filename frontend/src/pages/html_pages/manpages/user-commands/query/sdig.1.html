<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>sdig - Perform a DNS query and show the results</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/pdns-tools">pdns-tools_4.9.4-2_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       sdig - Perform a DNS query and show the results

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>sdig</b> <u>IP-ADDRESS-OR-DOH-URL</u> <u>PORT</u> <u>QNAME</u> <u>QTYPE</u> [<u>OPTION</u>]

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>sdig</b>  sends a DNS query to <u>IP-ADDRESS-OR-DOH-URL</u> on port <u>PORT</u> and displays the answer in a formatted way.
       If the address starts with an <b>h</b>, it is assumed to be a DoH endpoint, and <u>PORT</u> is ignored.  If  qname  and
       qtype  are  both  <u>-</u> and tcp is used, multiple lines are read from stdin, where each line contains a qname
       and a type.  If the address is <b>stdin</b>, a DNS packet is read from stdin instead of from  the  network,  and
       <u>PORT</u>  is  ignored.   All  input  is  literal and case sensitive.  Queries need option <u>recurse</u> to expect a
       resource record reply if the query target is not known to be the authoritative server for that record.

</pre><h4><b>OPTIONS</b></h4><pre>
       These options can be added to the commandline in any order.

       <b>class</b> <u>CLASSNUM</u>
              Send the query in the numbered class (like 3 for CHAOS) instead of the default 1 (for IN).

       <b>dnssec</b> Set the DO bit to request DNSSEC information.

       <b>ednssubnet</b> <u>SUBNET</u>
              Send <u>SUBNET</u> in the edns-client-subnet option. If this option is  not  set,  no  edns-client-subnet
              option is set in the query.

       <b>hidesoadetails</b>
              Don't show the SOA serial in the response.

       <b>hidettl</b>
              Replace TTLs with <u>[ttl]</u> in the response.

       <b>proxy</b> <u>TCP?</u> <u>SRC</u> <u>DST</u>
              Wrap  query in PROXYv2 protocol with these parameters. The first parameter accepts 0 for UDP and 1
              for TCP. The second and third take IP addresses and port.

       <b>recurse</b>
              Set the RD bit in the question.

       <b>showflags</b>
              Show the NSEC3 flags in the response (they are hidden by default).

       <b>dumpluaraw</b>
              Display record contents in a form suitable for dnsdist's <u>SpoofRawAction</u>.

       <b>tcp</b>    Use TCP instead of UDP to send the query.

       <b>dot</b>    use DoT instead of UDP to send a query. Implies tcp.

       <b>insecure</b>
              when using DoT, do not validate the server certificate.

       <b>fastOpen</b>
              when using TCP or, DoT, enable TCP Fast Open

       <b>subjectName</b> <u>name</u>
              when using DoT, verify the server certificate is issued for <u>name</u>. The <u>openssl</u> provider will accept
              an empty name and still make sure the certificate is issued by a trusted CA, <u>gnutls</u> will  only  do
              the  validation  if  a  name  is  given.  Default is the empty name. Also, note that older provide
              libraries might not validate at all.

       <b>caStore</b> <u>file</u>
              when using DoT, read the trusted CA certificates from <u>file</u>. Default is to use the system  provided
              CA store.

       <b>tlsProvider</b> <u>name</u>
              when  using  DoT, use TLS provider <u>name</u>. Currently supported (if compiled in): <u>openssl</u> and <u>gnutls</u>.
              Default is <u>openssl</u> if available.

       <b>xpf</b> <u>XPFCODE</u> <u>XPFVERSION</u> <u>XPFPROTO</u> <u>XPFSRC</u> <u>XPFDST</u>
              Send an <u>XPF</u> additional with these parameters.

       <b>opcode</b> <u>OPNUM</u>
              Use opcode <u>OPNUM</u> instead of 0 (Query). For example, <b>sdig</b> <b>192.0.2.1</b> <b>53</b>  <b>example.com</b>  <b>SOA</b>  <b>opcode</b>  <b>4</b>
              sends a <b>NOTIFY</b>.

</pre><h4><b>EXAMPLES</b></h4><pre>
       <b>Simple</b> <b>queries</b> <b>to</b> <b>local</b> <b>resolvers</b>
              sdig 127.0.0.1 53 example.com AAAA recurse sdig ::1 53 example.com A recurse

       <b>Query</b> <b>to</b> <b>a</b> <b>DNS-over-HTTPS</b> <b>server</b> <b>requesting</b> <b>dnssec</b> <b>and</b> <b>recursion</b>
              sdig <u>https://dns.example.net/dns-query</u> 443 example.com A dnssec recurse

</pre><h4><b>AUTHOR</b></h4><pre>
       PowerDNS.COM BV

</pre><h4><b>COPYRIGHT</b></h4><pre>
       PowerDNS.COM BV

                                                  Feb 06, 2025                                           <u><a href="../man1/SDIG.1.html">SDIG</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>