<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>opasmaquery</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/opa-basic-tools">opa-basic-tools_10.10.3.0.11-1ubuntu3_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       opasmaquery

       <b>(All)</b>  Performs  Intel(R) Omni-Path Architecture-defined SMA queries and displays the resulting response.
       Each query is issued directly to the SMA and does not involve SM interaction.

</pre><h4><b>Syntax</b></h4><pre>
       opasmaquery [-v] [-d  <u>detail</u>][-g] [-l  <u>lid</u>] [-h  <u>hfi</u>] [-p  <u>port</u>] [-o  <u>otype</u>]
       [-m  <u>port</u>| <u>port1,port2</u>] [-f  <u>flid</u>] [-b  <u>block[,count]</u>] [hop hop ...]

</pre><h4><b>Options</b></h4><pre>
       --help

                 Produces full help text.

       -v

                 Returns verbose output. Can be specified more than once for  additional  openib  and  libibumad
                 debugging.

       -d <u>detail</u>

                 Specifies  the  output  detail level for cableinfo only. Range is 0 - n. Default is 2. An upper
                 limit for detail level is not enforced. After a maximum amount of output is reached,  a  larger
                 detail value has no effect.

       -g

                 Displays line-by-line format. Default is summary format.

       -l <u>lid</u>

                 Specifies the destination LID. Default is local port.

       -h/--hfi <u>hfi</u>

                 Specifies the HFI, numbered 1..n. Using 0 specifies that the -p <u>port</u> port is a system-wide port
                 number. Default is 0.

       -p/--port <u>port</u>

                 Specifies the port, numbered 1..n. Using 0 specifies the first active port. Default is 0.

       -o <u>otype</u>

                 Specifies  the  output  type.  Default  is  nodeinfo. Refer to <u>otype</u> <u>Options</u> <u>Vary</u> <u>by</u> <u>Report</u> for
                 supported options.

                 Valid output types are:

                 bfrctrl   Specifies buffer control tables.

                           [-m dest_port] [-m port1,port2]

                 cableinfo Specifies cable information.

                           [-d detail] [-m dest_port] [-b block[,count]]

                 conginfo  Specifies congestion information.

                 desc or nodedesc
                           Specifies node descriptions/names.

                 hficongcon
                           Specifies HFI congestion control settings.

                           [-b block[,count]] [-f flid]

                 hficonglog
                           Specifies HFI congestion logs.

                           [-b block[,count]]

                 hficongset
                           Specifies HFI congestion settings.

                 linfdb    Specifies switch linear forwarding database (FDB) tables.

                           [-b block[,count]] [-f flid]

                 mcfdb     Specifies switch multicast FDB tables.

                           [-m dest_port] [-b block[,count]] [-f flid]

                 portgroup Specifies Adaptive Routing port groups.

                           [-b block[,count]]

                 portgroupfdb
                           Specifies Adaptive Routing port group FWD tables.

                           [-b block[,count]] [-f flid]

                 nodeaggr  Specifies node information and node descriptions.

                 node or nodeinfo
                           Specifies node information.

                           [-m dest_port]

                 portinfo  Specifies port information.

                           [-m dest_port]

                 pstateinfo
                           Specifies switch port state information.

                           [-m dest_port] [-m port1,port2]

                 pkey      Specifies P-Key tables.

                           [-m dest_port] [-b block[,count]]

                 slsc      Specifies SL to SC mapping tables.

                 scsl      Specifies SC to SL mapping tables.

                 scsc      Specifies SC to SC mapping tables.

                           [-m dest_port] [-m port1,port2]

                 scvlt     Specifies SC to VLt tables.

                           [-m dest_port] [-m port1,port2]

                 scvlnt    Specifies SC to VLnt tables.

                           [-m dest_port] [-m port1,port2]

                 scvlr     Specifies SC to VLr tables

                           [-m dest_port] [-m port1,port2]

                 sminfo    Specifies SM information.

                 swaggr    Specifies node information and switch information.

                 swconglog Specifies switch congestion logs.

                           [-b block[,count]]

                 swcongset Specifies switch congestion settings.

                 swinfo    Specifies switch information.

                 swportcong
                           Specifies switch congestion settings.

                           [-b block[,count]]

                 vlarb     Specifies VL arbitration tables.

                           [-m dest_port]

                 ibnodeinfo
                           Specifies IB node information.

                 ledinfo   Specifies LED information.

                           [-m dest_port]

</pre><h4><b>-h</b> <b>and</b> <b>-p</b> <b>options</b> <b>permit</b> <b>a</b> <b>variety</b> <b>of</b> <b>selections:</b></h4><pre>
       -h 0

                 First active port in system (Default).

       -h 0 -p 0

                 First active port in system.

       -h <u>x</u>

                 First active port on HFI <u>x</u>.

       -h <u>x</u> -p 0

                 First active port on HFI <u>x</u>.

       -h 0 -p <u>y</u>

                 Port <u>y</u> within system (no matter which ports are active).

       -h <u>x</u> -p <u>y</u>

                 HFI <u>x</u>, port <u>y</u>.

</pre><h4><b>otype</b> <b>Options</b> <b>Vary</b> <b>by</b> <b>Report</b></h4><pre>
       [-m port|port1,port2] [-f lid] [-b block[,count]]

       -m <u>port</u>

                 Specifies the port in destination device to query.

       -m <u>port1,port2</u>

                 For some reports, specifies a range  of  ports  between  <u>port1</u>  and  <u>port2</u>.  For  others,  this
                 describes an inport/outport pair.

       -f <u>lid</u>

                 Specifies  the  LID to look up in forwarding table to select which LFT or MFT block to display.
                 Default is to show entire table.

       -b <u>block[,count]</u>

                 Specifies the block number of either GUIDs or pkey,  and  the  number  of  blocks  to  display.
                 Default is to show entire table.

                 For example:

                 -b <u>block</u>  Displays all of block <u>block</u> of a larger table.

                 -b <u>block,count</u>
                           Displays <u>count</u> blocks of data starting with block <u>block</u>.

                 -b, <u>count</u> Displays <u>count</u> blocks of data starting with block 0.

</pre><h4><b>Examples</b></h4><pre>
       opasmaquery -o desc -l 6

       # get nodedesc via lid routed

       opasmaquery -o nodedesc 1 3

       # get nodedesc via directed route (2 dr hops)

       opasmaquery -o nodeinfo -l 2 3

       # get nodeinfo via a combination of lid routed and # directed route (1 dr hop)

       opasmaquery -o portinfo

       # get local port info

       opasmaquery -o portinfo -l 6 -m 1

       # get port info of port 1 of lid 6

       opasmaquery -o pkey -l 2 3

       # get pkey table entries starting (lid routed to lid 2,

       # then 1 dr hop to port 3)

       opasmaquery -o vlarb -l 6

       # get vlarb table entries from lid 6

       opasmaquery -o swinfo -l 2

       # get switch info

       opasmaquery -o sminfo -l 1

       # get SM info

       opasmaquery -o slsc -l 3

       # get sl2sc table entries from lid 3

       opasmaquery -o scsl -l 3

       # get sc2sl table entries from lid 3

Copyright(C) 2015-2019                          Intel Corporation                                 <u><a href="../man1/opasmaquery.1.html">opasmaquery</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>