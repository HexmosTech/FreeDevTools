<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>taskset - set or retrieve a process's CPU affinity</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/util-linux">util-linux_2.40.2-14ubuntu1.1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       taskset - set or retrieve a process's CPU affinity

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>taskset</b> [options] <u>mask</u> <u>command</u> [<u>argument</u>...]

       <b>taskset</b> [options] <b>-p</b> [<u>mask</u>] <u>pid</u>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The <b>taskset</b> command is used to set or retrieve the CPU affinity of a running process given its <u>pid</u>, or to
       launch a new <u>command</u> with a given CPU affinity. CPU affinity is a scheduler property that "bonds" a
       process to a given set of CPUs on the system. The Linux scheduler will honor the given CPU affinity and
       the process will not run on any other CPUs. Note that the Linux scheduler also supports natural CPU
       affinity: the scheduler attempts to keep processes on the same CPU as long as practical for performance
       reasons. Therefore, forcing a specific CPU affinity is useful only in certain applications. The affinity
       of some processes like kernel per-CPU threads cannot be set.

       The CPU affinity is represented as a bitmask, with the lowest order bit corresponding to the first
       logical CPU and the highest order bit corresponding to the last logical CPU. Not all CPUs may exist on a
       given system but a mask may specify more CPUs than are present. A retrieved mask will reflect only the
       bits that correspond to CPUs physically on the system. If an invalid mask is given (i.e., one that
       corresponds to no valid CPUs on the current system) an error is returned. The masks may be specified in
       hexadecimal (with or without a leading "0x"), or as a CPU list with the <b>--cpu-list</b> option. For example,

       <b>0x00000001</b>
           is processor #0,

       <b>0x00000003</b>
           is processors #0 and #1,

       <b>FFFFFFFF</b>
           is processors #0 through #31,

       <b>0x32</b>
           is processors #1, #4, and #5,

       <b>--cpu-list</b> <b>0-2,6</b>
           is processors #0, #1, #2, and #6.

       <b>--cpu-list</b> <b>0-10:2</b>
           is processors #0, #2, #4, #6, #8 and #10. The suffix ":N" specifies stride in the range, for example
           0-10:3 is interpreted as 0,3,6,9 list.

       When <b>taskset</b> returns, it is guaranteed that the given program has been scheduled to a legal CPU.

</pre><h4><b>OPTIONS</b></h4><pre>
       <b>-a</b>, <b>--all-tasks</b>
           Set or retrieve the CPU affinity of all the tasks (threads) for a given PID.

       <b>-c</b>, <b>--cpu-list</b>
           Interpret <u>mask</u> as numerical list of processors instead of a bitmask. Numbers are separated by commas
           and may include ranges. For example: <b>0,5,8-11</b>.

       <b>-p</b>, <b>--pid</b>
           Operate on an existing PID and do not launch a new task.

       <b>-h</b>, <b>--help</b>
           Display help text and exit.

       <b>-V</b>, <b>--version</b>
           Print version and exit.

</pre><h4><b>USAGE</b></h4><pre>
       The default behavior is to run a new command with a given affinity mask:
           <b>taskset</b> <u>mask</u> <u>command</u> [<u>arguments</u>]

       You can also retrieve the CPU affinity of an existing task:
           <b>taskset</b> <b>-p</b> <u>pid</u>

       Or set it:
           <b>taskset</b> <b>-p</b> <u>mask</u> <u>pid</u>

       When a cpu-list is specified for an existing process, the <b>-p</b> and <b>-c</b> options must be grouped together:
           <b>taskset</b> <b>-pc</b> <u>cpu-list</u> <u>pid</u>

       The <b>--cpu-list</b> form is applicable only for launching new commands:
           <b>taskset</b> <b>--cpu-list</b> <u>cpu-list</u> <u>command</u>

</pre><h4><b>PERMISSIONS</b></h4><pre>
       A user can change the CPU affinity of a process belonging to the same user. A user must possess
       <b>CAP_SYS_NICE</b> to change the CPU affinity of a process belonging to another user. A user can retrieve the
       affinity mask of any process.

</pre><h4><b>RETURN</b> <b>VALUE</b></h4><pre>
       <b>taskset</b> returns 0 in its affinity-getting mode as long as the provided PID exists.

       <b>taskset</b> returns 0 in its affinity-setting mode as long as the underlying <b><a href="../man2/sched_setaffinity.2.html">sched_setaffinity</a></b>(2) system call
       does. The success of the command does not guarantee that the specified thread has actually migrated to
       the indicated CPU(s), but only that the thread will not migrate to a CPU outside the new affinity mask.
       For example, the affinity of the kernel thread kswapd can be set, but the thread may not immediately
       migrate and is not guaranteed to ever do so:

       $ ps ax -o comm,psr,pid | grep kswapd
       kswapd0           4      82
       $ sudo taskset -p 1 82
       pid 82’s current affinity mask: 1
       pid 82’s new affinity mask: 1
       $ echo $?
       0
       $ ps ax -o comm,psr,pid | grep kswapd
       kswapd0           4      82
       $ taskset -p 82
       pid 82’s current affinity mask: 1

       In contrast, when the user specifies an illegal affinity, taskset will print an error and return 1:

       $ ps ax -o comm,psr,pid | grep ksoftirqd/0
       ksoftirqd/0       0      14
       $ sudo taskset -p 1 14
       pid 14’s current affinity mask: 1
       taskset: failed to set pid 14’s affinity: Invalid argument
       $ echo $?
       1

</pre><h4><b>AUTHORS</b></h4><pre>
       Written by Robert M. Love.

</pre><h4><b>COPYRIGHT</b></h4><pre>
       Copyright © 2004 Robert M. Love. This is free software; see the source for copying conditions. There is
       NO warranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man1/chrt.1.html">chrt</a></b>(1), <b><a href="../man1/nice.1.html">nice</a></b>(1), <b><a href="../man1/renice.1.html">renice</a></b>(1), <b><a href="../man2/sched_getaffinity.2.html">sched_getaffinity</a></b>(2), <b><a href="../man2/sched_setaffinity.2.html">sched_setaffinity</a></b>(2)

       See <b><a href="../man7/sched.7.html">sched</a></b>(7) for a description of the Linux scheduling scheme.

</pre><h4><b>REPORTING</b> <b>BUGS</b></h4><pre>
       For bug reports, use the issue tracker at https://github.com/util-linux/util-linux/issues.

</pre><h4><b>AVAILABILITY</b></h4><pre>
       The <b>taskset</b> command is part of the util-linux package which can be downloaded from Linux Kernel Archive
       &lt;https://www.kernel.org/pub/linux/utils/util-linux/&gt;.

util-linux 2.40.2                                  2024-01-31                                         <u><a href="../man1/TASKSET.1.html">TASKSET</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>