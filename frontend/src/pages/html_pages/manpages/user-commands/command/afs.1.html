<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>afs - Introduction to AFS commands</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/openafs-client">openafs-client_1.8.13.2-1ubuntu1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       afs - Introduction to AFS commands

</pre><h4><b>DESCRIPTION</b></h4><pre>
       AFS provides many commands that enable users and system administrators to use and customize its features.
       Many of the commands belong to the following categories, called <u>command</u> <u>suites</u>.

       backup
           Interface for configuring and operating the AFS Backup System.

       bos Interface  to  the  Basic  Overseer (BOS) Server for administering server processes and configuration
           files.

       fs  Interface for administering access control lists (ACLs), the Cache Manager, and  other  miscellaneous
           file system functions.

       fstrace
           Interface for tracing Cache Manager operations when debugging problems.

       kas Interface  to  the  Authentication  Server for administering security and authentication information.
           This aspect of OpenAFS has been deprecated.

       pts Interface to the Protection Server for administering AFS ID and group membership information.

       uss Interface for automated administration of user accounts. Deprecated, may be  removed  from  a  future
           version of OpenAFS. See <b>uss</b> man page for more detail.

       vos Interface to the Volume Server and Volume Location (VL) Server for administering volumes.

       In addition, there are several commands that do not belong to suites.

   <b>AFS</b> <b>Command</b> <b>Syntax</b>
       AFS commands that belong to suites have the following structure:

       <u>command_suite</u> <u>operation_code</u> <b>-switch</b> &lt;<u>value</u>&gt;[+] [<b>-flag</b>]

       <u>Command</u> <u>Names</u>

       Together, the <u>command_suite</u> and <u>operation_code</u> make up the <u>command</u> <u>name</u>.

       The  <u>command_suite</u>  specifies  the  group of related commands to which the command belongs, and indicates
       which command interpreter and server process perform  the  command.   AFS  has  several  command  suites,
       including  <b>bos</b>, <b>fs</b>, <b>kas</b>, <b>pts</b>, <b>uss</b> (deprecated) and <b>vos</b>.  Some of these suites have an interactive mode in
       which the issuer omits the <u>operation_code</u> portion of the command name.

       The <u>operation_code</u> tells the command interpreter and server process which action to perform. Most command
       suites include several operation codes. The man pages for each command name describe each operation  code
       in  detail,  and  the <u>OpenAFS</u> <u>Administration</u> <u>Guide</u> describes how to use them in the context of performing
       administrative tasks.

       Several AFS commands do not belong to a suite and so their names do not  have  a  <u>command_suite</u>  portion.
       Their structure is otherwise similar to the commands in the suites.

       <u>Options</u>

       The term <u>option</u> refers to both arguments and flags, which are described in the following sections.

       <u>Arguments</u>

       One  or  more arguments can follow the command name. Arguments specify the entities on which to act while
       performing the command (for example, which server machine, server process,  or  file).  To  minimize  the
       potential for error, provide a command's arguments in the order prescribed in its syntax definition.

       Each argument has two parts, which appear in the indicated order:

       •   The  <u>switch</u>  specifies  the argument's type and is preceded by a hyphen (<b>-</b>). For instance, the switch
           <b>-server</b> usually indicates that the argument names a server machine. Switches can  often  be  omitted,
           subject to the rules outlined in "Conditions for Omitting Switches".

       •   The  <u>value</u>  names a particular entity of the type specified by the preceding switch. For example, the
           proper value for a <b>-server</b> switch is a server machine name like  "fs3.example.com".  Unlike  switches
           (which  have  a  required form), values vary depending on what the issuer wants to accomplish. Values
           appear surrounded by angle brackets ("&lt;&gt;") in command descriptions and the online help to  show  that
           they are user-supplied variable information.

       Some  arguments  accept  multiple  values,  as  indicated  by  trailing  plus  sign  ("+") in the command
       descriptions and online help. How many of a command's arguments take multiple values, and their  ordering
       with  respect  to  other arguments, determine when it is acceptable to omit switches. See "Conditions for
       Omitting Switches".

       Some commands have optional as well as required arguments; the command descriptions and online help  show
       optional arguments in square brackets ("[]").

       <u>Flags</u>

       Some  commands  have  one  or  more  flags, which specify the manner in which the command interpreter and
       server process perform the command, or what kind of output it produces. Flags  are  preceded  by  hyphens
       like  switches, but they take no values. Although the command descriptions and online help generally list
       a command's flags after its arguments, there is no prescribed order for flags. They can  appear  anywhere
       on  the  command line following the operation code, except in between the parts of an argument. Flags are
       always optional.

       <u>An</u> <u>Example</u> <u>Command</u>

       The following example illustrates the different parts of a command that belongs to an AFS command suite.

          % bos getdate -server fs1.example.com -file ptserver kaserver

       where

       •   <b>bos</b> is the command suite. The BOS Server executes most of the commands in this suite.

       •   <b>getdate</b> is the operation code. It tells the BOS Server on the specified server machine (in this  case
           "fs1.example.com")  to  report  the  modification dates of binary files in the local <u>/usr/lib/openafs</u>
           directory.

       •   "-server fs1.example.com" is one argument, with <b>-server</b> as the switch and  "fs1.example.com"  as  the
           value. This argument specifies the server machine on which BOS Server is to collect and report binary
           dates.

       •   "-file  ptserver  kaserver"  is  an  argument that takes multiple values. The switch is <b>-file</b> and the
           values are "ptserver" and "kaserver". This argument tells the BOS Server to report  the  modification
           dates on the files <u>/usr/lib/openafs/kaserver</u> and <u>/usr/lib/openafs/ptserver</u>.

       <u>Rules</u> <u>for</u> <u>Entering</u> <u>AFS</u> <u>Commands</u>

       Enter each AFS command on a single line (press &lt;Return&gt; only at the end of the command). Some commands in
       this document appear broken across multiple lines, but that is for legibility only.

       Use a space to separate each element on a command line from its neighbors. Spaces rather than commas also
       separate multiple values of an argument.

       In  many cases, the issuer of a command can reduce the amount of typing necessary by using one or both of
       the following methods:

       •   Omitting switches.

       •   Using accepted abbreviations for operation codes, switches (if they are included at  all),  and  some
           types of values.

       The following sections explain the conditions for omitting or shortening parts of the command line. It is
       always acceptable to type a command in full, with all of its switches and no abbreviations.

       Conditions for Omitting Switches

       It  is  always  acceptable to type the switch part of an argument, but in many cases it is not necessary.
       Specifically, switches can be omitted if the following conditions are met.

       •   All of the command's required arguments appear in the order prescribed by the syntax statement.

       •   No switch is provided for any argument.

       •   There is only one value for each  argument  (but  note  the  important  exception  discussed  in  the
           following paragraph).

       Omitting switches is possible only because there is a prescribed order for each command's arguments. When
       the  issuer  does not include switches, the command interpreter relies instead on the order of arguments;
       it assumes that the first element after the operation code is the  command's  first  argument,  the  next
       element  is  the  command's second argument, and so on. The important exception is when a command's final
       required argument accepts multiple values. In this case, the command interpreter assumes that the  issuer
       has  correctly provided one value for each argument up through the final one, so any additional values at
       the end belong to the final argument.

       The following list describes the rules for omitting switches from the opposite perspective: an argument's
       switch must be provided when any of the following conditions apply.

       •   The command's arguments do not appear in the prescribed order.

       •   An optional argument is omitted but a subsequent optional argument is provided.

       •   A switch is provided for a preceding argument.

       •   More than one value is supplied for a  preceding  argument  (which  must  take  multiple  values,  of
           course);  without  a switch on the current argument, the command interpreter assumes that the current
           argument is another value for the preceding argument.

       An Example of Omitting Switches

       Consider again the example command from "An Example Command".

          % bos getdate -server fs1.example.com -file ptserver kaserver

       This command has two required arguments: the server machine name (identified by the <b>-server</b>  switch)  and
       binary  file  name  (identified  by  the  <b>-file</b>  switch). The second argument accepts multiple values. By
       complying with all three conditions, the issuer can omit the switches:

          % bos getdate fs1.example.com ptserver kaserver

       Because there are no switches, the bos command interpreter relies on the order of arguments.  It  assumes
       that  the  first element following the operation code, "fs1.example.com", is the server machine name, and
       that the next argument, "ptserver", is a binary file name. Then, because the command's second (and  last)
       argument  accepts  multiple  values,  the  command  interpreter  correctly  interprets  "kaserver"  as an
       additional value for it.

       On the other hand, the following is not acceptable because  it  violates  the  first  two  conditions  in
       "Conditions  for  Omitting  Switches": even though there is only one value per argument, the arguments do
       not appear in the prescribed order, and a switch is provided for one argument but not the other.

          % bos getdate ptserver -server fs1.example.com

       <u>Rules</u> <u>for</u> <u>Using</u> <u>Abbreviations</u> <u>and</u> <u>Aliases</u>

       This section explains how to abbreviate operation codes, option names, server  machine  names,  partition
       names, and cell names. It is not possible to abbreviate other types of values.

       Abbreviating Operation Codes

       It  is  acceptable  to abbreviate an operation code to the shortest form that still distinguishes it from
       the other operation codes in its suite.

       For example, it is acceptable to shorten <b>bos</b> <b>install</b> to <b>bos</b> <b>i</b> because there are no other operation  codes
       in  the  <b>bos</b>  command  suite that begin with the letter "i". In contrast, there are several <b>bos</b> operation
       codes that start with the letter "s", so the abbreviations must be longer to remain unambiguous:

       <b>bos</b> <b>sa</b> for bos salvage
       <b>bos</b> <b>seta</b> for bos setauth
       <b>bos</b> <b>setc</b> for bos setcellname
       <b>bos</b> <b>setr</b> for bos setrestart
       <b>bos</b> <b>sh</b> for bos shutdown
       <b>bos</b> <b>start</b> for bos start
       <b>bos</b> <b>startu</b> for bos startup
       <b>bos</b> <b>stat</b> for bos status
       <b>bos</b> <b>sto</b> for bos stop

       In addition to abbreviations, some operation codes have an <u>alias</u>, a short form that  is  not  derived  by
       abbreviating  the  operation  code  to  its  shortest unambiguous form. For example, the alias for the <b>fs</b>
       <b>setacl</b> command is <b>fs</b> <b>sa</b>, whereas the shortest unambiguous abbreviation is <b>fs</b> <b>seta</b>.

       There are two usual reasons an operation code has an alias:

       •   Because the command is frequently issued, it is convenient to  have  a  form  shorter  than  the  one
           derived by abbreviating. The <b>fs</b> <b>setacl</b> command is an example.

       •   Because  the  command's name has changed, but users of previous versions of AFS know the former name.
           For example, <b>bos</b> <b>listhosts</b> has the  alias  <b>bos</b>  <b>getcell</b>,  its  former  name.   It  is  acceptable  to
           abbreviate aliases to their shortest unambiguous form (for example, <b>bos</b> <b>getcell</b> to <b>bos</b> <b>getc</b>).

       Even  if  an  operation  code  has an alias, it is still acceptable to use the shortest unambiguous form.
       Thus, the <b>fs</b> <b>setacl</b> command has three acceptable forms: <b>fs</b> <b>setacl</b> (the full form), <b>fs</b> <b>seta</b> (the  shortest
       abbreviation), and <b>fs</b> <b>sa</b> (the alias).

       Abbreviating Switches and Flags

       It  is  acceptable  to shorten a switch or flag to the shortest form that distinguishes it from the other
       switches and flags for its operation code. It is often possible to omit switches entirely, subject to the
       conditions listed in "Conditions for Omitting Switches".

       Abbreviating Server Machine Names

       AFS server machines must have fully-qualified Internet-style host names (for example, "fs1.example.com"),
       but it is not always necessary to type the full name on the command line. AFS commands accept unambiguous
       shortened forms, but depend on the cell's name service (such as the Domain Name Service) or a local  host
       table to resolve a shortened name to the fully-qualified equivalent when the command is issued.

       Most commands also accept the dotted decimal form of the machine's IP address as an identifier.

       Abbreviating Partition Names

       Partitions  that  house  AFS  volumes must have names of the form <u>/vicepx</u> or <u>/vicepxx</u>, where the variable
       final portion is one or two lowercase letters. By convention, the first server  partition  created  on  a
       file  server  machine  is  called  <u>/vicepa</u>,  the second <u>/vicepb</u>, and so on.  The <u>OpenAFS</u> <u>QuickStart</u> <u>Guide</u>
       explains how to configure and name a file server machine's partitions  in  preparation  for  storing  AFS
       volumes on them.

       When issuing AFS commands, you can abbreviate a partition name using any of the following forms:

          /vicepa     =     vicepa      =      a      =      0
          /vicepb     =     vicepb      =      b      =      1

       After /vicepz (for which the index is 25) comes

          /vicepaa    =     vicepaa     =      aa     =      26
          /vicepab    =     vicepab     =      ab     =      27

       and so on through

          /vicepiv    =     vicepiv     =      iv     =      255

       <u>/vicepiv</u>  is  the  last  permissible AFS partition name. In practice it will not work well; stopping with
       <u>/vicepiu</u> is highly recommended.

       Abbreviating Cell Names

       A cell's full name usually matches its  Internet  domain  name  (such  as  <b>example.org</b>  for  the  Example
       Organization  or  "example.com"  for Example Corporation). Some AFS commands accept unambiguous shortened
       forms, usually with respect to the local <u>/etc/openafs/CellServDB</u> <u>file</u>  but  sometimes  depending  on  the
       ability of the local name service to resolve the corresponding domain name.

       <u>Displaying</u> <u>Online</u> <u>Help</u> <u>for</u> <u>AFS</u> <u>Commands</u>

       To  display online help for AFS commands that belong to suites, use the <b>help</b> and <b>apropos</b> operation codes.
       A <b>-help</b> flag is also available on every almost every AFS command.

       The online help entry for a command consists of two or three lines:

       •   The first line names the command and briefly describes what it does.

       •   If the command has aliases, they appear on the next line.

       •   The final line, which begins with the string "Usage:", lists the command's options in the  prescribed
           order;  online  help  entries  use  the  same  typographical  symbols  (brackets  and  so on) as this
           documentation.

       If no operation code is specified, the <b>help</b> operation code displays the first  line  (short  description)
       for every operation code in the suite:

          % &lt;command_suite&gt; help

       If  the  issuer  specifies  one  or more operation codes, the <b>help</b> operation code displays each command's
       complete online entry (short description, alias if any, and syntax):

          % &lt;command_suite&gt; help &lt;operation_code&gt;+

       The <b>-help</b> flag displays a command's syntax but not the short description or alias:

          % &lt;command_name&gt; -help

       The apropos operation code displays the short description of any command in a suite whose operation  code
       or short description includes the specified keyword:

          % &lt;command_suite&gt; apropos "&lt;help string&gt;"

       The following example command displays the complete online help entry for the <b>fs</b> <b>setacl</b> command:

          % fs help setacl
          fs setacl: set access control list
          aliases: sa
          Usage: fs setacl -dir &lt;directory&gt;+ -acl &lt;access list entries&gt;+
          [-clear] [-negative] [-id] [-if] [-help]

       To see only the syntax statement, use the <b>-help</b> flag:

          % fs setacl -help
          Usage: fs setacl -dir &lt;directory&gt;+ -acl &lt;access list entries&gt;+
          [-clear] [-negative] [-id] [-if] [-help]

       In  the  following  example,  a  user  wants to display the quota for her home volume. She knows that the
       relevant command belongs to the <b>fs</b> suite, but cannot remember the operation code. She uses <b>quota</b>  as  the
       keyword:

          % fs apropos quota
          listquota: list volume quota
          quota: show volume quota usage
          setquota: set volume quota

       The following illustrates the error message that results if no command name or short description contains
       the keyword:

          % fs apropos "list quota"
          Sorry, no commands found

</pre><h4><b>PRIVILEGE</b> <b>REQUIRED</b></h4><pre>
       Many  AFS commands require one or more types of administrative privilege. See the reference page for each
       command.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man8/afsd.8.html">afsd</a></b>(8),  <b><a href="../man1/afsmonitor.1.html">afsmonitor</a></b>(1),  <b><a href="../man8/backup.8.html">backup</a></b>(8),  <b><a href="../man8/bos.8.html">bos</a></b>(8),  <b><a href="../man8/bosserver.8.html">bosserver</a></b>(8),  <b><a href="../man8/buserver.8.html">buserver</a></b>(8),  <b><a href="../man8/butc.8.html">butc</a></b>(8),  <b><a href="../man1/dlog.1.html">dlog</a></b>(1),  <b><a href="../man1/dpass.1.html">dpass</a></b>(1),
       <b><a href="../man8/fileserver.8.html">fileserver</a></b>(8),  <b><a href="../man8/fms.8.html">fms</a></b>(8),  <b><a href="../man1/fs.1.html">fs</a></b>(1), <b><a href="../man8/fstrace.8.html">fstrace</a></b>(8), <b><a href="../man8/kadb_check.8.html">kadb_check</a></b>(8), <b><a href="../man8/kas.8.html">kas</a></b>(8), <b><a href="../man8/kaserver.8.html">kaserver</a></b>(8), <b><a href="../man8/kdb.8.html">kdb</a></b>(8), <b><a href="../man1/klog.1.html">klog</a></b>(1), <b><a href="../man1/knfs.1.html">knfs</a></b>(1),
       <b><a href="../man1/kpasswd.1.html">kpasswd</a></b>(1), <b><a href="../man8/kpwvalid.8.html">kpwvalid</a></b>(8), <b><a href="../man1/pagsh.1.html">pagsh</a></b>(1), <b><a href="../man8/prdb_check.8.html">prdb_check</a></b>(8), <b><a href="../man1/pts.1.html">pts</a></b>(1), <b><a href="../man8/ptserver.8.html">ptserver</a></b>(8), <b><a href="../man1/rxdebug.1.html">rxdebug</a></b>(1), <b><a href="../man8/salvager.8.html">salvager</a></b>(8), <b><a href="../man1/scout.1.html">scout</a></b>(1),
       <b><a href="../man1/sys.1.html">sys</a></b>(1), <b><a href="../man1/tokens.1.html">tokens</a></b>(1), <b><a href="../man1/translate_et.1.html">translate_et</a></b>(1), <b><a href="../man1/unlog.1.html">unlog</a></b>(1), <b><a href="../man1/up.1.html">up</a></b>(1),  <b><a href="../man8/upclient.8.html">upclient</a></b>(8),  <b><a href="../man8/upserver.8.html">upserver</a></b>(8),  <b><a href="../man8/uss.8.html">uss</a></b>(8),  <b><a href="../man8/vldb_check.8.html">vldb_check</a></b>(8),
       <b><a href="../man8/vlserver.8.html">vlserver</a></b>(8),   <b><a href="../man8/volinfo.8.html">volinfo</a></b>(8),   <b><a href="../man8/volscan.8.html">volscan</a></b>(8),   <b><a href="../man8/volserver.8.html">volserver</a></b>(8),   <b><a href="../man1/vos.1.html">vos</a></b>(1),  <b><a href="../man8/xfs_size_check.8.html">xfs_size_check</a></b>(8),  <b><a href="../man1/xstat_cm_test.1.html">xstat_cm_test</a></b>(1),
       <b><a href="../man1/xstat_fs_test.1.html">xstat_fs_test</a></b>(1)

</pre><h4><b>COPYRIGHT</b></h4><pre>
       IBM Corporation 2000. &lt;<a href="http://www.ibm.com/">http://www.ibm.com/</a>&gt; All Rights Reserved.

       This documentation is covered by the IBM Public License Version 1.0.  It was converted from HTML  to  POD
       by  software  written  by  Chas  Williams  and Russ Allbery, based on work by Alf Wachsmann and Elizabeth
       Cassell.

OpenAFS                                            2025-03-21                                             <u><a href="../man1/AFS.1.html">AFS</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>