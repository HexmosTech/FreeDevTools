<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>grep-dctrl, grep-status, grep-available, grep-aptavail, grep-debtags - grep Debian control files</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/dctrl-tools">dctrl-tools_2.24-3build3_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       grep-dctrl, grep-status, grep-available, grep-aptavail, grep-debtags - grep Debian control files

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <u>command</u> <b>--copying</b>|<b>-C</b> | <b>--help</b>|<b>-h</b> | <b>--version</b>|<b>-V</b>

       <u>command</u> [<u>options</u>] <u>filter</u> [ <u>file</u>... ]

       where <u>command</u> is one of <b>grep-dctrl</b>, <b>grep-status</b>, <b>grep-available</b>, <b>grep-aptavail</b> and <b>grep-debtags</b>.

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The <b>grep-dctrl</b> program can answer such questions as <u>What</u> <u>is</u> <u>the</u> <u>Debian</u> <u>package</u> <u>foo?</u>, <u>Which</u> <u>version</u> <u>of</u> <u>the</u>
       <u>Debian</u>  <u>package</u> <u>bar</u> <u>is</u> <u>now</u> <u>current?</u>, <u>Which</u> <u>Debian</u> <u>packages</u> <u>does</u> <u>John</u> <u>Doe</u> <u>maintain?</u>, <u>Which</u> <u>Debian</u> <u>packages</u>
       <u>are</u> <u>somehow</u> <u>related</u> <u>to</u> <u>the</u> <u>Scheme</u> <u>programming</u> <u>language?</u>, and with some help, <u>Who</u> <u>maintain</u>  <u>the</u>  <u>essential</u>
       <u>packages</u> <u>of</u> <u>a</u> <u>Debian</u> <u>system?</u>, given a useful input file.

       The  programs  <b>grep-available</b>,  <b>grep-status</b>,  <b>grep-aptavail</b>  and  <b>grep-debtags</b>  are aliases of (actually,
       symbolic links to) <b>grep-dctrl</b>.  These aliases use as their default input the <b><a href="../man1/dpkg.1.html">dpkg</a></b>(1) <u>available</u> and <u>status</u>
       files, the <b>apt-cache</b> <b>dumpavail</b> output and the <b>debtags</b> <b>dumpavail</b> output, respectively.

       <b>grep-dctrl</b> is a specialised <b>grep</b> program that is meant for processing any  file  which  has  the  general
       format  of  a  Debian  package  <u>control</u>  file, as described in the Debian Policy.  These include the <b>dpkg</b>
       <u>available</u> file, the <b>dpkg</b> <u>status</u> file, and the <u>Packages</u> files on a distribution medium (such as  a  Debian
       CD-ROM or an FTP site carrying Debian).

       You  must give a <u>filter</u> expression on the command line.  The <u>filter</u> defines which kind of paragraphs (aka
       package records) are output.  A simple <u>filter</u> is a search pattern along with any options that modify  it.
       Possible  modifiers  are  <b>--eregex</b>,  <b>--field</b>,  <b>--ignore-case</b>, <b>--regex</b> and <b>--exact-match</b>, along with their
       single-letter equivalents.  By default, the search is a case-sensitive  fixed  substring  match  on  each
       paragraph  (in  other words, package record) in the input.  With suitable modifiers, this can be changed:
       the search can be case-insensitive and the pattern can be seen as an extended POSIX regular expression.

       <u>Filter</u>s can be combined to form more complex  <u>filter</u>s  using  the  connectives  <b>--and</b>,  <b>--or</b>  and  <b>--not</b>.
       Parentheses (which usually need to be escaped for the shell) can be used for grouping.

       By  default,  the  full  matching  paragraphs  are printed on the standard output; specific fields can be
       selected for output with the <b>-s</b> option.

       After the <u>filter</u> expression comes zero or more <u>file</u> names.  The <u>file</u> name <b>-</b> is taken to mean the standard
       input stream.  The <u>file</u>s are searched in order but separately; they are <b>not</b>  concatenated  together.   In
       other words, the end of a <u>file</u> always implies the end of the current paragraph.

       If  no  <u>file</u> names are specified, the program name is used to identify a default input file.  The program
       names are matched with the base form of the name of the current program (the 0'th command line  argument,
       if you will).

</pre><h4><b>OPTIONS</b></h4><pre>
   <b>Specifying</b> <b>the</b> <b>search</b> <b>pattern</b>
       <b>--pattern=</b><u>pattern</u>
              Specify a <u>pattern</u> to be searched. This switch is not generally needed, as the <u>pattern</u> can be given
              by  itself.  However, <u>pattern</u>s that start with a dash (<b>-</b>) must be given using this switch, so that
              they wouldn't be mistaken for switches.

   <b>Modifiers</b> <b>of</b> <b>simple</b> <b>filters</b>
       <b>-F</b> <u>field</u>,<u>field</u>, ... | <b>--field=</b><u>field</u>,<u>field</u>, ...
              Restrict pattern matching to the <u>field</u>s given.  Multiple <u>field</u> names in one <b>-F</b> option and multiple
              <b>-F</b> options in one simple <u>filter</u> are allowed. The search named by  the  filter  will  be  performed
              among  all  the  <u>field</u>s  named, and as soon as any one of them matches, the whole simple <u>filter</u> is
              considered matching.

              A <u>field</u> specification can contain a colon (<b>:</b>).  In such a case, the part up to the colon is  taken
              as  the  name of the field to be searched in, and the part after the colon is taken as the name of
              the field whose content is to be used if the field to search in is empty.

       <b>-P</b>     Shorthand for <b>-FPackage</b>.

       <b>-S</b>     Shorthand for <b>-FSource:Package</b>.

       <b>-e</b>, <b>--eregex</b>
              Regard the pattern of the current simple filter as an extended POSIX regular expression

       <b>-r</b>, <b>--regex</b>
              Regard the pattern of the current simple filter as a standard POSIX regular expression.

       <b>-i</b>, <b>--ignore-case</b>
              Ignore case when looking for a match in the current simple filter.

       <b>-X</b>, <b>--exact-match</b>
              Do an exact match (as opposed to a substring match) in the current simple filter.

       <b>-w</b>, <b>--whole-pkg</b>
              Do an extended regular expression match on whole package names,  assuming  the  syntax  of  inter-
              package  relationship  fields  such as <b>Depends</b>,<b>Recommends</b>, ...  When this flag is given you should
              not worry about sub-package names such as  "libpcre3"  also  matching  "libpcre3-dev".  This  flag
              implies (and is incompatible with) <b>-e</b>.

       <b>--eq</b>   Do  an equality comparison under the Debian version number system.  If the pattern or the field to
              be searched in is not a valid Debian version number, the paragraph is regarded  as  not  matching.
              As a special case, this is capable of comparing simple nonnegative integers for equality.

       <b>--lt</b>   Do an strictly-less-than comparison under the Debian version number system.  If the pattern or the
              field  to  be  searched  in is not a valid Debian version number, the paragraph is regarded as not
              matching.  As a special case, this is capable of comparing simple nonnegative integers.

       <b>--le</b>   Do an less-than-or-equal comparison under the Debian version number system.  If the pattern or the
              field to be searched in is not a valid Debian version number, the paragraph  is  regarded  as  not
              matching.  As a special case, this is capable of comparing simple nonnegative integers.

       <b>--gt</b>   Do  an strictly-greater-than comparison under the Debian version number system.  If the pattern or
              the field to be searched in is not a valid Debian version number, the paragraph is regarded as not
              matching.  As a special case, this is capable of comparing simple nonnegative integers.

       <b>--ge</b>   Do an greater-than-or-equal comparison under the Debian version number system.  If the pattern  or
              the field to be searched in is not a valid Debian version number, the paragraph is regarded as not
              matching.  As a special case, this is capable of comparing simple nonnegative integers.

   <b>Combining</b> <b>filters</b>
       <b>-!</b>, <b>--not</b>, <b>!</b>
              Match if the following filter does <b>not</b> match.

       <b>-o</b>, <b>--or</b>
              Match if either one or both of the preceding and following filters matches.

       <b>-a</b>, <b>--and</b>
              Match if both the preceding and the following filter match.

       <b>(</b> ... <b>)</b>
              Parentheses  can be used for grouping.  Note that they need to be escaped for most shells.  Filter
              modifiers can be given before the opening parentheses; they will be treated as if  they  had  been
              repeated for each simple filter inside the parentheses.

   <b>Output</b> <b>format</b> <b>modifiers</b>
       <b>-l</b>, <b>--files-with-matches</b>
              Output  only  the  file  names,  each  on  its  own line, of those files that contain at least one
              matching paragraph.  This is incompatible with the <b>-v</b> and <b>-L</b> options, and all other output  format
              modifiers will be ignored.

       <b>-L</b>, <b>--files-without-matches</b>
              Output  only the file names, each on its own line, of those files that do not contain any matching
              paragraphs.  This is incompatible with the  <b>-v</b>  and  <b>-l</b>  options,  and  all  other  output  format
              modifiers will be ignored.

       <b>-s</b> <u>field</u>,<u>field</u>, ... | <b>--show-field=</b><u>field</u>,<u>field</u>, ...
              Show only the body of these <u>field</u>s from the matching paragraphs.  The <u>field</u> names must not include
              any colons or commas.  Commas are used to delimit <u>field</u> names in the argument to this option.  The
              <u>field</u>s  are  shown  in the order given here.  See also the option <b>-I</b>.  Note that in the absence of
              the <b>--ensure--dctrl</b> option, if only one field is selected, no paragraph separator is output.

       <b>-I</b>, <b>--invert-show</b>
              Invert the meaning of option <b>-s</b>: show only the fields that have <b>not</b> been named using a <b>-s</b>  option.
              As  an  artefact  of  the implementation, the order of the fields in the original paragraph is not
              preserved.

       A <u>field</u> specification can contain a colon. In such a case, the part up to the colon is taken as the  name
       of the field to be shown, and the part after the colon is taken as the name of the field whose content is
       to be used if the field to be shown is empty.

       <b>-d</b>     Show  only  the first line of the <b>Description</b> field from the matching paragraphs.  If no <b>-s</b> option
              is specified, this option also effects <b>-s</b> <b>Description</b>; if there is a <b>-s</b> option  but  it  does  not
              include  the  <b>Description</b> field name, one is appended to the option.  Thus the <b>Description</b> field's
              location in the output is determined by the <b>-s</b> option, if any, the last field being the default.

       <b>-n</b>, <b>--no-field-names</b>
              Suppress field names when showing specified fields, only their bodies are shown.   Each  field  is
              printed  in  its  original  form  without  the  field  name, the colon after it and any whitespace
              preceding the start of the body.

       <b>-v</b>, <b>--invert-match</b>
              Instead of showing all the paragraphs that match, show those paragraphs that do <b>not</b> match.

       <b>-c</b>, <b>--count</b>
              Instead of showing the paragraphs that match (or, with <b>-v</b>, that don't match), show  the  count  of
              those paragraphs.

       <b>-q</b>, <b>--quiet</b>, <b>--silent</b>
              Output  nothing  to the standard output stream.  Instead, exit immediately after finding the first
              match.

   <b>Miscellaneous</b>
       <b>--ensure-dctrl</b>
              Ensure that the output is in dctrl format,  specifically  that  there  always  is  an  empty  line
              separating  paragraphs.   This  option  is not honored if the <b>-n</b> option has been selected, as that
              option deliberately requests a non-dctrl format for the output.  In a future version, this  option
              may be made the default behaviour.

       <b>--compat</b>
              Override any <b>--ensure-dctrl</b> option given earlier on the command line.

       <b>--ignore-parse-errors</b>
              Ignore  errors  in  parsing input.  A paragraph which cannot be parsed is ignored in its entirety,
              and the next paragraph is assumed to start after the first  newline  since  the  location  of  the
              error.

       <b>--debug-optparse</b>
              Show how the current command line has been parsed.

       <b>--errorlevel=</b><u>level</u>
              Set  log  level to <u>level</u>.  <u>level</u> is one of <b>fatal</b>, <b>important</b>, <b>informational</b> and <b>debug</b>, but the last
              may not be available, depending on the compile-time options.  These categories are given  here  in
              order;  every  message  that  is emitted when <b>fatal</b> is in effect, will be emitted in the <b>important</b>
              error level, and so on. The default is <b>important</b>.

       <b>-V</b>, <b>--version</b>
              Print out version information.

       <b>-C</b>, <b>--copying</b>
              Print out the copyright license.  This produces much output;  be  sure  to  redirect  or  pipe  it
              somewhere (such as your favourite pager).

       <b>-h</b>, <b>--help</b>
              Print out a help summary.

</pre><h4><b>EXAMPLES</b></h4><pre>
       The  almost simplest use of this program is to print out the status or available record of a package.  In
       this respect, <b>grep-dctrl</b> is like <b>dpkg</b> <b>-s</b> or <b>dpkg</b> <b>--print-avail</b>.  To print out the status  record  of  the
       package "mixal", do
       % grep-status -PX mixal
       and to get its available record, use
       % grep-available -PX mixal
       In  fact,  you can ask for the record of the "mixal" package from any Debian control file.  Say, you have
       the Debian 6.0 CD-ROM's <u>Packages</u> file in the current directory; now you can do a
       % grep-dctrl -PX mixal Packages

       But <b>grep-dctrl</b> can do more than just emulate <b>dpkg</b>.  It can more-or-less emulate <b>apt-cache</b>!  That  program
       has a search feature that searches package descriptions.  But we can do that too:
       % grep-available -F Description foo
       searches  for  the  string  "foo" case-sensitively in the descriptions of all available packages.  If you
       want case-insensitivity, use
       % grep-available -F Description -i foo
       Truth to be told, <b>apt-cache</b> searches package names, too.  We can separately search in the  names;  to  do
       so, do
       % grep-available -F Package foo
       or
       % grep-available -P foo
       which  is  pretty  much  the  same thing.  We can also search in both descriptions and names; if match is
       found in either, the package record is printed:
       % grep-available -P -F Description foo
       or
       % grep-available -F Package -F Description foo
       This kind of search is the exactly same that <b>apt-cache</b> does.

       Here's one thing neither <b>dpkg</b> nor <b>apt-cache</b> do.  Search for a string in the  whole  <u>status</u>  or  <u>available</u>
       file  (or  any  Debian  control  file, for that matter) and print out all package records where we have a
       match.  Try
       % grep-available dpkg
       sometime and watch how thoroughly <b>dpkg</b> has infiltrated Debian.

       All the above queries were based on  simple  substring  searches.   But  <b>grep-dctrl</b>  can  handle  regular
       expressions  in  the  search pattern.  For example, to see the status records of all packages with either
       "apt" or "dpkg" in their names, use
       % grep-status -P -e 'apt|dpkg'

       Now that we have seen all these fine and dandy queries, you might begin to wonder whether it is necessary
       to always see the whole paragraph.  You may be, for example, interest only in the dependency  information
       of the packages involved.  Fine.  To show the depends lines of all packages maintained by me, do a
       % grep-available -F Maintainer -s Depends '<a href="mailto:ajk@debian.org">ajk@debian.org</a>'
       If you want to see the packages' names, too, use
       % grep-available -F Maintainer -s Package,Depends \
         '<a href="mailto:ajk@debian.org">ajk@debian.org</a>'
       Note that there must be no spaces in the argument to the <b>-s</b> switch.

       More  complex  queries  are also possible.  For example, to see the list of packages maintained by me and
       depending on libc6, do
       % grep-available -F Maintainer '<a href="mailto:ajk@debian.org">ajk@debian.org</a>' \
          -a -F Depends libc6 -s Package,Depends
       Remember that you can use other UNIX filters to help you, too.  Ever  wondered,  who's  the  most  active
       Debian developer based on the number of source packages being maintained?  Easy.  You just need to have a
       copy of the most recent <u>Sources</u> file from any Debian mirror.
       % grep-dctrl -n -s Maintainer '' Sources | sort | \
         uniq -c | sort -nr
       This  example  shows  a neat trick: if you want to selectively show only some field of <u>all</u> packages, just
       supply an empty pattern.

       The term "bogopackage" means the count of the packages that a Debian developer  maintains.   To  get  the
       bogopackage count for the maintainer of <b>dctrl-tools</b>, say
       % grep-available -c -FMaintainer \
         "`grep-available -sMaintainer -n -PX dctrl-tools`"

       Sometimes it is useful to output the data of several fields on the same line.  For example, the following
       command outputs the list of installed packages, sorted by their <b>Installed-Size</b>.
       % grep-status -FStatus -sInstalled-Size,Package -n \
         "install ok installed" -a -FInstalled-Size --gt 0 \
         | paste -sd "  \n" | sort -n
       Note that there should be exactly 2 spaces in the "  \n" string.

       Another usual use-case is looking for packages that have another one as build dependency:
       % grep-dctrl -s Package -F Build-Depends,Build-Depends-Indep \
         quilt <a href="file:/var/lib/apt/lists/">/var/lib/apt/lists/</a>*Sources

       These  examples  cover  a  lot  of  typical  uses  of  this utility, but not all possible uses.  Use your
       imagination!  The building blocks are there, and if something's missing, let me know.

</pre><h4><b>DIAGNOSTICS</b></h4><pre>
       In the absence of errors, the exit code <b>0</b> is used if at least one match was found, and the exit code <b>1</b> is
       used if no matches were found.  If there were errors, the exit code is <b>2</b>, with one exception.  If the <b>-q</b>,
       <b>--quiet</b> or <b>--silent</b> options are used, the exit code <b>0</b> is used when a match is found regardless of whether
       there have been non-fatal errors.

       These messages are emitted in log levels <b>fatal</b> and <b>important</b>.  Additional messages may be provided by the
       system libraries.  <b>This</b> <b>list</b> <b>is</b> <b>incomplete.</b>

       <b>A</b> <b>pattern</b> <b>is</b> <b>mandatory</b>
              You must specify a pattern to be searched for.

       <b>malformed</b> <b>filter</b>
              No filter was specified, but one is required.

       <b>cannot</b> <b>find</b> <b>enough</b> <b>memory</b>
              More memory was needed than was available.  This error may be  transient,  that  is,  if  you  try
              again, all may go well.

       <b>cannot</b> <b>suppress</b> <b>field</b> <b>names</b> <b>when</b> <b>showing</b> <b>whole</b> <b>paragraphs</b>
              When  you  do  not  use the <b>-s</b> switch, <b>grep-dctrl</b> just passes the matching paragraphs through, not
              touching them any way.  This means, for example, that you can only use <b>-n</b> when you use <b>-s</b>.

       <b>inconsistent</b> <b>modifiers</b> <b>of</b> <b>simple</b> <b>filters</b>
              Conflicting modifiers of simple filters were used; for  example,  perhaps  both  <b>-X</b>  and  <b>-e</b>  were
              specified for the same simple filter.

       <b>missing</b> <b>')'</b> <b>in</b> <b>command</b> <b>line</b>
              There were more opening than closing parentheses in the given filter.

       <b>no</b> <b>such</b> <b>log</b> <b>level</b>
              The argument to <b>--errorlevel</b> was invalid.

       <b>too</b> <b>many</b> <b>file</b> <b>names</b>
              The number of file names specified in the command line exceeded a compile-time limit.

       <b>too</b> <b>many</b> <b>output</b> <b>fields</b>
              The argument to <b>-s</b> had too many field names in it.  This number is limited to 256.

       <b>unexpected</b> <b>')'</b> <b>in</b> <b>command</b> <b>line</b>
              There was no opening parenthesis that would match some closing parenthesis in the command line.

</pre><h4><b>FILES</b></h4><pre>
       <u><a href="file:/var/lib/dpkg/available">/var/lib/dpkg/available</a></u>
              The default input file of <b>grep-available</b>.

       <u><a href="file:/var/lib/dpkg/status">/var/lib/dpkg/status</a></u>
              The default input file of <b>grep-status</b>.

</pre><h4><b>AUTHOR</b></h4><pre>
       The  program  and  this manual page were written by Antti-Juhani Kaijanaho &lt;<u><a href="mailto:gaia@iki.fi">gaia@iki.fi</a></u>&gt;.  Bill Allombert
       &lt;<u><a href="mailto:ballombe@debian.org">ballombe@debian.org</a></u>&gt; provided one of the examples in the manual page.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       Debian Policy Manual.  Published as the Debian package  <b>debian-policy</b>.   Also  available  in  the  Debian
       website.

       <b><a href="../man1/apt-cache.1.html">apt-cache</a></b>(1), <b><a href="../man1/ara.1.html">ara</a></b>(1), <b><a href="../man1/dpkg-awk.1.html">dpkg-awk</a></b>(1), <b><a href="../man1/sgrep.1.html">sgrep</a></b>(1), <b><a href="../man8/dpkg.8.html">dpkg</a></b>(8)

Debian Project                                     2013-11-26                                      <u><a href="../man1/GREP-DCTRL.1.html">GREP-DCTRL</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>