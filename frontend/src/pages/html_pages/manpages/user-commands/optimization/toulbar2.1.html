<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>toulbar2 - exactly solves discrete optimization problems on graphical models</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/toulbar2">toulbar2_1.2.1+dfsg-0.1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       toulbar2 - exactly solves discrete optimization problems on graphical models

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>toulbar2</b> [options] <u>file</u>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>toulbar2</b>  solves  discrete  optimization  problems  defined  by a graphical model including Cost Function
       Networks (solving the Weighted Constraint Satisfaction Problem), Markov Random Fields (solving Maximum  A
       Posteriori  or MAP/MRF), Bayesian Networks (solving Maximum Probability Explanation or MPE/BN), Quadratic
       Pseudo Boolean Optimization Problems (QPBO or MAXCUT), Partial Weighted Maximum Satisfiability...

</pre><h4><b>OPTIONS</b></h4><pre>
       GENERAL CONTROL

       <b>-a=[</b><u>integer</u>]
              Finds at most a given number of solutions with a cost strictly lower than the initial upper  bound
              and  stops,  or  if  no  integer  is given, finds all solutions (or counts the number of zero-cost
              satisfiable solutions in conjunction with BTD).

       <b>-agap=[</b><u>decimal</u>]
              Stop search if the absolute optimality gap reduces under the given value (provides solutions  with
              a guaranteed absolute approximation).

       <b>-D</b>     Approximate zero-cost solution count with BTD.

       <b>-logz</b>  Computes  the  log  of probability of evidence (i.e. log partition function or log(Z) or PR task).
              Restricted to stochastic graphical models (.uai format).

       <b>-seed=[</b><u>integer</u>]
              Initializes the pseudo-random generator used inside toulbar2 with  a  fixed  non-negative  integer
              argument.  A  negative  argument  instead  specifies that the pseudo-random generator be seeded by
              current time (default value is 1).

       <b>--stdin=[</b><u>format</u>]
              Indicates that the problem should be read from the standard  input  instead  of  a  file  (default
              format is cfn). Eg. cat example.uai | toulbar2 --stdin=uai

       <b>-timer=[</b><u>integer</u>]
              Gives  a cpu-time limit in seconds.  Toulbar2 will stop after the specified amount of CPU time has
              been consumed.  The time limit is a CPU user time limit, not wall clock time limit.

       PREPROCESSING

       <b>-nopre</b> Deactivates all preprocessing options (equivalent to  -e:  -p:  -t:  -f:  -dec:  -n:  -mst:  -dee:
              -trws:).

       <b>-p=[</b><u>integer</u>]
              Preprocessing  only:  activates  variable elimination of variables of degree less than or equal to
              the given value (default value is -1, with no elimination performed).

       <b>-t=[</b><u>integer</u>]
              Preprocessing only: simulates restricted path consistency by  adding  ternary  cost  functions  on
              triangles of binary cost functions within a given maximum space limit (in MB).

       <b>-f=[</b><u>integer</u>]
              Preprocessing  only:  variable  elimination  of functional (f=1) (resp. bijective (f=2)) variables
              (default value is 1).

       <b>-dec</b>   Preprocessing only: pairwise decomposition of cost functions with arity larger than 3 into smaller
              arity cost functions (default: activated).

       <b>-n=[</b><u>integer</u>]
              Preprocessing only: projects n-ary cost functions on all binary cost functions if n is lower  than
              the given value (default value is 10).

       <b>-mst</b>   Find a maximum spanning tree ordering for DAC.

       <b>-M=[</b><u>integer</u>]
              Apply the Min Sum Diffusion algorithm (default is off, with a number of iterations of 0).

       INITIAL UPPER BOUNDING

       <b>-ub=[</b><u>decimal</u>]
              Gives  a  primal  (upper in minimization mode, lower otherwise) bound on cost that a solution must
              satisfies. If the file specifies a primal bound too, the tightest of the two  bounds  is  used.  A
              tight  primal  bound can accelerate search or be used in conjunction with -a to find all solutions
              of sufficient quality.

       <b>-l=[</b><u>integer</u>]
              Activate limited discrepancy search.  Use a negative value to stop search after the given absolute
              number of discrepancies have been explored (discrepancy bound = 4 by default).

       <b>-L=[</b><u>integer</u>]
              Activate randomized (quasi-random variable ordering) search with restart (maximum number of  nodes
              = 10000 by default).

       <b>-i=[</b><u>"string"</u>]
              Use  initial  upper  bound  found by INCOP local search solver.  The string parameter is optional,
              using "0  1  3  idwa  100000  cv  v  0  200  1  0  0"  by  default  with  the  following  meaning:
              <u>stoppinglowerbound</u>  <u>randomseed</u>  <u>nbiterations</u>  <u>method</u> <u>nbmoves</u> <u>neighborhoodchoice</u> <u>neighborhoodchoice</u>
              <u>minnbneighbors</u> <u>maxnbneighbors</u> <u>neighborhoodchoice</u> <u>autotuning</u> <u>tracemode</u>.

       <b>-pils=[</b><u>"string"</u>]
              Use initial upper bound found by PILS local search solver.   The  string  parameter  is  optional,
              using  "3  0  0.333  100  500 10000 0.1 0.5 0.1 0.1" by default with the following meaning: <u>nbruns</u>
              <u>perturb_mode</u> <u>perturb_strength</u> <u>flatMaxIter</u> <u>nbEvalHC</u> <u>nbEvalMax</u>  <u>strengthMin</u>  <u>strengthMax</u>  <u>incrFactor</u>
              <u>decrFactor</u>.

       <b>-x=[</b><u>(,i=a)*</u>]
              Assigns  variable  of  index  i  to  value a (multiple assignments are separated by a comma and no
              space).  Without any argument, a complete assignment, used as initial upper bound and as  a  value
              orderin  heuristic,  is  read  from  default  file  "sol"  or from a filename given directly as an
              additional input filename with ".sol" extension and without -x.

       TREE SEARCH ALGORITHMS AND TREE DECOMPOSITION SELECTION

       <b>-hbfs=[</b><u>integer</u>]
              Use hybrid best-first search, restarting from the root after a given number of backtracks (default
              value is 10000).

       <b>-open=[</b><u>integer</u>]
              Set hybrid best-first search limit on the number of stored open nodes (default  value  is  -1,  no
              limit).

       <b>-B=[</b><u>integer</u>]
              Use  (0)  DFBB,  (1)  BTD,  (2)  RDS-BTD,  (3)  RDS-BTD  with  path  decomposition instead of tree
              decomposition (default value is 0).

       <b>-O=[</b><u>filename</u>]
              Read a variable elimination order from a file in order to build a tree decomposition (if  BTD-like
              and/or variable elimination methods are used). The order is also used as a DAC ordering.

       <b>-O=[</b><u>negative</u>integer]
              Build  a  tree decomposition (if BTD-like and/or variable elimination methods are used) and also a
              compatible DAC ordering using either:

                     (-1) maximum cardinality search ordering

                     (-2) minimum degree ordering

                     (-3) minimum fill-in ordering,

                     (-4) maximum spanning tree ordering (see -mst),

                     (-5) reverse Cuthill-Mckee ordering,

                     (-6) approximate minimum degree ordering.
              If not specified, then the order in which variables appear in the problem file is used.

       <b>-j=[</b><u>integer</u>]
              Splits large clusters into a chain of smaller embedded clusters with a number of proper  variables
              less  than  this  number  (use  options  "-B=3  -j=1  -svo  -k=1" for pure RDS, use value 0 for no
              splitting) (default value is 0).

       <b>-r=[</b><u>integer</u>]
              Set a limit on the maximum cluster separator size (merge cluster with its father otherwise, use  a
              negative value for no limit, default value is -1).

       <b>-X=[</b><u>integer</u>]
              Set  a limit on the minimum number of proper variables in a cluster (merge cluster with its father
              otherwise, use a zero for no limit, default value is 0).

       <b>-E=[</b><u>float</u>]
              Merges leaf clusters with their fathers if small local treewidth (in conjunction with option  "-e"
              and  positive  threshold  value)  or a ratio of number of separator variables by number of cluster
              variables is above a given threshold (in conjunction with option "-vns") (default value is 0).

       <b>-R=[</b><u>integer</u>]
              Choose a specific cluster number as a root cluster.

       <b>-I=[</b><u>integer</u>]
              Solve only a specific rooted cluster subtree (with RDS-BTD only).

       VNS SEARCH

       <b>-vns</b>   unified decomposition guided variable neighborhood search (a problem decomposition can be given as
              *.dec, *.cov, or *.order input files or using tree decomposition options such as -O).

       <b>-vnsini=[</b><u>integer</u>]
              Initial solution for VNS-like methods found (-1) at random,  (-2)  min  domain  values,  (-3)  max
              domain  values,  (-4)  first solution found by a complete method, (k=0 or more) tree search with k
              discrepancy max (-4 by default).

       <b>-ldsmin=[</b><u>integer</u>]
              Minimum discrepancy for VNS-like methods (1 by default).

       <b>-ldsmax=[</b><u>integer</u>]
              Maximum discrepancy for VNS-like methods (number of problem variables multiplied by maximum domain
              size -1 by default).

       <b>-ldsinc=[</b><u>integer</u>]
              Discrepancy increment strategy for VNS-like methods using (1) Add1, (2) Mult2, (3)  Luby  operator
              (2 by default).

       <b>-kmin=[</b><u>integer</u>]
              Minimum neighborhood size for VNS-like methods (4 by default).

       <b>-kmax=[</b><u>integer</u>]
              Maximum neighborhood size for VNS-like methods (number of problem variables by default).

       <b>-kinc=[</b><u>integer</u>]
              Neighborhood  size  increment  strategy  for  VNS-like methods using (1) Add1, (2) Mult2, (3) Luby
              operator (4) Add1/Jump (4 by default).

       <b>-best=[</b><u>integer</u>]
              Stop VNS-like methods if a better solution is found (default value is 0).

       NODE PROCESSING &amp; BOUNDING OPTIONS

       <b>-e=[</b><u>integer</u>]
              Perform "on the fly" variable elimination of variable with small degree (less than or equal  to  a
              specified value. Default is 3, creating a maximum of ternary cost functions).

       <b>-k=[</b><u>integer</u>]
              Set the soft local consistency level enforced at preprocessing and at each node during search:

                     0: Node Consistency with Strong Node Inverse Consistency for global cost functions,

                     1: Generalized Arc Consistency

                     2: Directed Generalized Arc Consistency

                     3: Full Directed Generalized Arc Consistency

                     4: (weak) Existential Directed Generalized Arc Consistency
              Default value is 4.

       <b>-A=[</b><u>integer</u>]
              Enforce  Virtual Arc Consistency at each search node with a search depth less than the given value
              (default value is 0 which enforces VAC only at root node).

       <b>-T=[</b><u>decimal</u>]
              Threshold cost value for VAC (default value is 1).

       <b>-P=[</b><u>decimal</u>]
              Threshold cost value for VAC during the preprocessing phase (default value is 1).

       <b>-C=[</b><u>float</u>]
              Multiplies all costs internally by this number when loading the problem (default value is 1).

       <b>-S</b>     Preprocessing only: performs singleton consistency (only in conjunction with option "-A").

       <b>-trws=[</b><u>float</u>]
              Preprocessing only: enforce TRW-S until a given precision is reached (default value is 0.00001).

       <b>--trws-n-iters=[</b><u>integer</u>]
              Preprocessing only: enforce at most N iterations of TRW-S (default value is 1000).

       <b>--trws-n-iters-no-change=[</b><u>integer</u>]
              Preprocessing only: stop TRW-S when N iterations did not change  the  lower  bound  up  the  given
              precision (default value is 5, -1=never).

       <b>--trws-n-iters-compute-ub=[</b><u>integer</u>]
              Preprocessing only: computes UB every N steps in TRW-S (default value is 100).

       <b>-dee=[</b><u>integer</u>]
              Enforce restricted dead-end elimination, or value pruning by dominance rule from EAC value (dee&gt;=1
              and  dee&lt;=3)  and  soft neighborhood substitutability, in preprocessing (dee=2 or dee=4) or during
              search (dee=3).  Default value is 1.

       <b>-o</b>     Ensures an optimal worst-case time complexity of Directed and Existential Arc Consistency (can  be
              slower in practice).

       BRANCHING, VARIABLE &amp; VALUE ORDERING

       <b>-svo</b>   Use  a  static variable ordering heuristic.  The variable order used will be the same order as the
              DAC order.

       <b>-b</b>     Use binary branching (as a default)  instead  of  k-ary  branching.   Uses  binary  branching  for
              interval  domains  and  small  domains  and dichotomic branching for large enumerated domains (see
              option -d).

       <b>-c</b>     Use binary branching with last conflict backjumping variable ordering heuristic.

       <b>-q=[</b><u>integer</u>]
              Use weighted degree variable ordering heuristic if the number of cost functions is less  than  the
              given value (default value is 10000).

       <b>-var=[</b><u>integer</u>]
              Searches  by  branching only on the first [<u>given</u> <u>value</u>] decision variables, assuming the remaining
              variables are intermediate variables that will be completely assigned by  the  decision  variables
              (use a zero if all variables are decision variables).  Default value is 0.

       <b>-m=[</b><u>integer</u>]
              Use  a variable ordering heuristic that preferably selects variables such that the sum of the mean
              (m=1) or median (m=2) cost of all incident cost functions is maximum (in conjunction with weighted
              degree heuristic -q).  Default value is 0: unused.

       <b>-d=[</b><u>integer</u>]
              Searches using dichotomic branching.  The default d=1 splits domains in the middle of domain range
              while d=2 splits domains in the middle of the sorted domain based on unary costs.

       <b>-sortd</b> Sort domains in preprocessing based on increasing unary costs (works only for binary CFN).

       <b>-solr</b>  Use solution-based phase saving as a value ordering heuristic (default option).

       <b>-V</b>     VAC-based value ordering heuristic (default option,  only in conjunction with option "-A").

       CONSOLE OUTPUT

       <b>-help</b>  Show default help message that toulbar2 prints when it gets no argument.

       <b>-v=[</b><u>integer</u>]
              Set the verbosity level (default 0).

       <b>-Z=[</b><u>integer</u>]
              Debug mode (save problem at each node if verbosity option -v=num&gt;= 1 and -Z=num&gt;=3).

       <b>-s=[</b><u>integer</u>]
              Shows each solution found during search. The solution is printed on one  line.  The  default  -s=1
              gives  the  value (integer) of each variable successively in increasing order of definition in the
              model file.  For -s=2, the value name is  used  instead,  for  -s=3,  variable  name=valuename  is
              printed instead.

       FILE OUTPUT

       <b>-w=[</b><u>filename</u>]
              Writes  last  solution  found  in the specified filename (or "sol" if no parameter is given).  The
              current directory is used as a relative path.

       <b>-z=[</b><u>filename</u>]
               Saves problem in wcsp format in filename (or "problem.wcsp" if no parameter is given).
               Writes also the graphviz .dot file and the degree distribution of the input problem.

       <b>-z=[</b><u>integer</u>]
              1: saves original instance (by default), 2: saves
                after preprocessing (this option can be used in combination with -z=filename).

       PROBABILITY REPRESENTATION AND NUMERICAL CONTROL

       <b>-precision=[</b><u>integer</u>]
              Probability/real log10 precision conversion factor (a power of ten) for representing probabilities
              as fixed decimal point numbers.  Default value is 7.

       <b>-epsilon=[</b><u>float</u>]
              Approximation factor for computing the partition function  (default  value  is  1000  representing
              epsilon=1/1000).

       <b>-qpmult=[</b><u>double</u>]
              Coefficient multiplier for quadratic terms when reading qpbo format (default value is 2).

       RANDOM PROBLEM GENERATION

       <b>-random=[</b><u>bench</u>profile]
              Benchmark  profile  must  be  specified  as  follows, where n and d are respectively the number of
              variable and the maximum domain size of the random problem.

                     bin-{n}-{d}-{t1}-{p2}-{seed}

                            t1 is the tightness in percentage  of random binary cost functions

                            p2 is the number of binary cost functions to include

                            the seed parameter is optional

                     binsub-{n}-{d}-{t1}-{p2}-{p3}-{seed} binary random  submodular cost functions

                            t1 is the tightness in percentage  of random cost functions

                            p2 is the number of binary cost functions to include

                            p3 is the percentage  of submodular cost functions among p2 cost functions (plus  10
                            permutations of two randomly-chosen values for each domain).
                     tern-{n}-{d}-{t1}-{p2}-{p3}-{seed}

                            p3 is the number of ternary cost functions
                     nary-{n}-{d}-{t1}-{p2}-{p3}...-{pn}-{seed}

                            pn is the number of n-ary cost functions
                     salldiff-{n}-{d}-{t1}-{p2}-{p3}...-{pn}-{seed}

                            pn  is  the number of salldiff global cost functions (p2 and p3 still being used for
                            the number of random binary and ternary cost functions). salldiff can be replaced by
                            gcc or regular keywords with three possible forms ( <u>e.g.,</u> <u>sgcc,</u> <u>sgccdp,</u> <u>wgcc</u>).

</pre><h4><b>FILE</b> <b>FORMATS</b></h4><pre>
       toulbar2 can read .cfn, .wcsp, .uai, .LG, .cnf,  .wcnf,  .qpbo,  .pre,  .bep  files.  The  files  can  be
       compressed  with gzip or xz (e.g., .cfn.gz or .cfn.xz, except for pre and bep formats). See the full user
       documentation for a description of these file formats.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       A   more    complete    user    documentation    should    be    available    on    your    system,    in
       /usr/share/doc/toulbar2/userdoc.pdf or can be otherwise downloaded from <a href="http://miat.inrae.fr/toulbar2">http://miat.inrae.fr/toulbar2</a>.

</pre><h4><b>AUTHORS</b></h4><pre>
       See https://github.com/toulbar2/toulbar2

                                                                                                     <u><a href="../man1/TOULBAR2.1.html">TOULBAR2</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>