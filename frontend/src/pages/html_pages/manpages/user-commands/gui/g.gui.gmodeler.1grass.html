<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>g.gui.gmodeler  - Graphical Modeler.</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/grass-doc">grass-doc_8.4.1-1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       <b>g.gui.gmodeler</b>  - Graphical Modeler.
       Allows interactively creating, editing and managing models.

</pre><h4><b>KEYWORDS</b></h4><pre>
       general, GUI, graphical modeler, workflow

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>g.gui.gmodeler</b>
       <b>g.gui.gmodeler</b> <b>--help</b>
       <b>g.gui.gmodeler</b>  [<b>file</b>=<u>name.gxm</u>]   [--<b>help</b>]  [--<b>verbose</b>]  [--<b>quiet</b>]  [--<b>ui</b>]

   <b>Flags:</b>
       <b>--help</b>
           Print usage summary

       <b>--verbose</b>
           Verbose module output

       <b>--quiet</b>
           Quiet module output

       <b>--ui</b>
           Force launching GUI dialog

   <b>Parameters:</b>
       <b>file</b>=<u>name.gxm</u>
           Name of model file to be loaded

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The  <b>Graphical</b>  <b>Modeler</b> is a <u>wxGUI</u> component which allows the user to create, edit, and manage simple and
       complex models using an easy-to-use interface.  When performing analytical operations in GRASS  GIS,  the
       operations  are  not isolated, but part of a chain of operations. Using the Graphical Modeler, a chain of
       processes (i.e. GRASS GIS modules) can be wrapped into one  process  (i.e.  model).  Subsequently  it  is
       easier to execute the model later on even with slightly different inputs or parameters.
       Models  represent  a  programming  technique  used  in  GRASS GIS to concatenate single steps together to
       accomplish a task. It is advantageous when the user see boxes and ovals that are connected by  lines  and
       represent  some  tasks  rather  than  seeing  lines of coded text. The Graphical Modeler can be used as a
       custom tool that automates a process. Created models can simplify or shorten a task which can be run many
       times and it can also be easily shared with others. Important to  note  is  that  models  cannot  perform
       specified  tasks  that  one  cannot  also  manually perform with GRASS GIS. It is recommended to first to
       develop the process manually, note down the steps (e.g. by using the <u>Copy</u> button in module  dialogs)  and
       later replicate them in model.

       The Graphical Modeler allows you to:

           •   define data items (raster, vector, 3D raster maps)

           •   define actions (GRASS commands)

           •   define relations between data and action items

           •   define loops (e.g. map series) and conditions (if-else statements)

           •   define model variables

           •   parameterize GRASS commands

           •   define intermediate data

           •   validate and run model

           •   save model properties to a file (<u>GRASS</u> <u>Model</u> <u>File|*.gxm</u>)

           •   export model to Python script

           •   export model to Python script in the form of a PyWPS process

           •   export model to an actinia process

           •   export model to image file

   <b>Main</b> <b>dialog</b>
       The  Graphical  Modeler can be launched from the Layer Manager menu File -&gt; Graphical modeler or from the
       main toolbar . It’s also available as stand-alone module <u>g.gui.gmodeler</u>.

       The main Graphical Modeler menu contains options which enable  the  user  to  fully  control  the  model.
       Directly  under  the  main  menu  one can find toolbar with buttons (see figure below). There are options
       including (1) Create new model, (2) Load model from file, (3) Save current  model  to  file,  (4)  Export
       model  to  image,  (5) Export model to a (Python/PyWPS/actinia) script, (6) Add command (GRASS module) to
       model, (7) Add data to model, (8) Manually define relation between data and commands, (9) Add loop/series
       to model, (10) Add comment to model, (11) Redraw model canvas, (12) Validate model, (13) Run model,  (14)
       Manage model variables, (15) Model settings, (16) Show manual, (17) Quit Graphical Modeler.

       <u>Figure:</u> <u>Components</u> <u>of</u> <u>Graphical</u> <u>Modeler</u> <u>menu</u> <u>toolbar.</u>

       There  is  also  a  lower  menu  bar  in  the  Graphical modeler dialog where one can manage model items,
       visualize commands, add or manage model variables, define default values  and  descriptions.  The  Script
       editor  dialog window allows seeing and exporting workflows as basic Python scripts, as PyWPS scripts, or
       as actinia processes. The rightmost tab of the bottom menu is automatically triggered when the  model  is
       activated  and shows all the steps of running GRASS modeler modules; in the case some errors occur in the
       calculation process, they are are written at that place.
       <u>Figure:</u> <u>Lower</u> <u>Graphical</u> <u>Modeler</u> <u>menu</u> <u>toolbar.</u>

   <b>Components</b> <b>of</b> <b>models</b>
       The workflow is usually established from four types of diagrams. Input and derived model data are usually
       represented with oval diagrams. This type of model elements stores path to specific data  on  the  user’s
       disk.  It  is  possible  to  insert  vector data, raster data, database tables, etc.  The type of data is
       clearly distinguishable in the model by its color.  Different model elements are  shown  in  the  figures
       below.

           •   (A) raster data:

           •   (B) relation:

           •   (C) GRASS module:

           •   (D) loop:

           •   (E) database table:

           •   (F) 3D raster data:

           •   (G) vector data:

           •   (H) disabled GRASS module:

           •   (I) comment:
       <u>Figure:</u> <u>A</u> <u>model</u> <u>to</u> <u>perform</u> <u>unsupervised</u> <u>classification</u> <u>using</u> <u>MLC</u> <u>(i.maxlik)</u> <u>and</u> <u>SMAP</u> <u>(i.smap).</u>

       Another example:
       <u>Figure:</u>  <u>A</u> <u>model</u> <u>to</u> <u>perform</u> <u>estimation</u> <u>of</u> <u>average</u> <u>annual</u> <u>soil</u> <u>loss</u> <u>caused</u> <u>by</u> <u>sheet</u> <u>and</u> <u>rill</u> <u>erosion</u> <u>using</u>
       <u>The</u> <u>Universal</u> <u>Soil</u> <u>Loss</u> <u>Equation.</u>

       Example as part of landslide prediction process:
       <u>Figure:</u> <u>A</u> <u>model</u> <u>to</u> <u>create</u> <u>parametric</u> <u>maps</u> <u>used</u> <u>by</u>  <u>geologists</u>  <u>to</u>  <u>predict</u>  <u>landslides</u>  <u>in</u>  <u>the</u>  <u>area</u>  <u>of</u>
       <u>interest.</u>

</pre><h4><b>EXAMPLE</b></h4><pre>
       In this example the zipcodes_wake vector data and the elev_state_500m raster data from the North Carolina
       sample  dataset (original raster and vector data) are used to calculate average elevation for every zone.
       The important part of the  process  is  the  Graphical  Modeler,  namely  its  possibilities  of  process
       automation.

   <b>The</b> <b>workflow</b> <b>shown</b> <b>as</b> <b>a</b> <b>series</b> <b>of</b> <b>commands</b>
       In the command console the procedure looks as follows:
       # input data import
       r.import input=elev_state_500m.tif output=elevation
       v.import input=zipcodes_wake.shp output=zipcodes_wake
       # computation region settings
       g.region vector=zipcodes_wake
       # raster statistics (average values), upload to vector map table calculation
       v.rast.stats -c map=zipcodes_wake raster=elevation column_prefix=rst method=average
       # univariate statistics on selected table column for zipcode map calculation
       v.db.univar map=zipcodes_wake column=rst_average
       # conversion from vector to raster layer (due to result presentation)
       v.to.rast input=zipcodes_wake output=zipcodes_avg use=attr attribute_column=rst_average
       # display settings
       r.colors -e map=zipcodes_avg color=bgyr
       d.mon start=wx0 bgcolor=white
       d.barscale style=arrow_ends color=black bgcolor=white fontsize=10
       d.rast map=zipcodes_avg bgcolor=white
       d.vect map=zipcodes_wake type=boundary color=black
       d.northarrow style=1a at=85.0,15.0 color=black fill_color=black width=0 fontsize=10
       d.legend raster=zipcodes_avg lines=50 thin=5 labelnum=5 color=black fontsize=10

   <b>Defining</b> <b>the</b> <b>workflow</b> <b>in</b> <b>the</b> <b>Graphical</b> <b>Modeler</b>
       To  start  performing  above  steps as an automatic process with the Graphical Modeler press the  icon or
       type <u>g.gui.gmodeler</u>. The simplest way of inserting elements is by adding the complete  GRASS  command  to
       the  Command  field  in  the  GRASS  command dialog (see figure below).  With full text search one can do
       faster module hunting. Next, the label and the command can be added. In case that only a module  name  is
       inserted,  after  pressing  the <u>Enter</u> button, the module dialog window is displayed and it is possible to
       set all of the usual module options (parameters and flags).

       <u>Figure:</u> <u>Dialog</u> <u>for</u> <u>adding</u> <u>GRASS</u> <u>commands</u> <u>to</u> <u>model.</u>

   <b>Managing</b> <b>model</b> <b>parameters</b>
       All used modules can be parameterized in the model. That causes launching the dialog with  input  options
       for  model  after  the  model  is  run.  In  this  example,  input  layers  (zipcodes_wake vector map and
       elev_state_500m raster map) are parameterized. Parameterized elements show their diagram border  slightly
       thicker than those of unparameterized elements.
       <u>Figure:</u> <u>Model</u> <u>parameter</u> <u>settings.</u>

       The  final  model, the list of all model items, and the Script editor window with <u>Save</u> and <u>Run</u> option are
       shown in the figures below.
       <u>Figure:</u> <u>A</u> <u>model</u> <u>to</u> <u>perform</u> <u>average</u> <u>statistics</u> <u>for</u> <u>zipcode</u> <u>zones.</u>

       <u>Figure:</u> <u>Items</u> <u>with</u> <u>Script</u> <u>editor</u> <u>window.</u>

       For convenience, this model for the Graphical Modeler is also available for download here.

       The model is run by clicking the <u>Run</u> button . When all inputs are set, the results can  be  displayed  as
       shown in the next Figure:
       <u>Figure:</u>  <u>Average</u>  <u>elevation</u> <u>for</u> <u>ZIP</u> <u>codes</u> <u>using</u> <u>North</u> <u>Carolina</u> <u>sample</u> <u>dataset</u> <u>as</u> <u>an</u> <u>automatic</u> <u>calculation</u>
       <u>performed</u> <u>by</u> <u>Graphical</u> <u>Modeler.</u>

   <b>Managing</b> <b>model</b> <b>properties</b>
       When the user wants to run the model again with the same data or the same names, it is necessary  to  use
       --overwrite  option. It will cause maps with identical names to be overwritten. Instead of setting it for
       every module separately it is handy to change the Model Property settings globally.  This dialog includes
       also metadata settings, where model name, model description and author(s) of the model can be specified.
       <u>Figure:</u> <u>Model</u> <u>properties.</u>

   <b>Defining</b> <b>variables</b>
       Another useful trick is the possibility to set variables. Their content can be used as a  substitute  for
       other items. Value of variables can be values such as raster or vector data, integer, float, string value
       or they may constitute some region, mapset, file or direction data type.  Then it is not necessary to set
       any  parameters  for  input  data. The dialog with variable settings is automatically displayed after the
       model is run. So, instead of model parameters (e.g. r.import a v.import, see the Figure <u>Run</u> <u>model</u>  <u>dialog</u>
       above) there are Variables.
       <u>Figure:</u> <u>Model</u> <u>with</u> <u>variable</u> <u>inputs.</u>

       The  key  point  is the usage of % before the substituting variable and settings in the Variables dialog.
       For example, in the case of a model variable raster that points to an input file path and which value  is
       required  to  be  used  as  one of inputs for a particular model, it should be specified in the Variables
       dialog with its respective name (raster), data type, default value and description. Then it should be set
       in the module dialog as input called %raster.
       <u>Figure:</u> <u>Example</u> <u>of</u> <u>raster</u> <u>file</u> <u>variable</u> <u>settings.</u>
       <u>Figure:</u> <u>Example</u> <u>of</u> <u>raster</u> <u>file</u> <u>variable</u> <u>usage.</u>

   <b>Saving</b> <b>the</b> <b>model</b> <b>file</b>
       Finally, the model settings can be stored as a GRASS GIS Model file with *.gxm extension.  The  advantage
       is that it can be shared as a reusable workflow that may be run also by other users with different data.

       For example, this model can later be used to calculate the average precipitation for every administrative
       region  in  Slovakia  using the precip raster data from Slovakia precipitation dataset and administration
       boundaries of Slovakia from Slovak Geoportal (only with a few clicks).

   <b>Handling</b> <b>intermediate</b> <b>data</b>
       There can be some data in a model that did not exist before the process and that it is not  worth  it  to
       maintain after the process executes. They can be described as being Intermediate by single clicking using
       the right mouse button, see figure below. All such data should be deleted following model completion. The
       boundary of intermediate component is dotted line.
       <u>Figure:</u> <u>Usage</u> <u>and</u> <u>definition</u> <u>of</u> <u>intermediate</u> <u>data</u> <u>in</u> <u>model.</u>

   <b>Using</b> <b>the</b> <b>Script</b> <b>editor</b>
       By  using  the  Script editor in the Graphical Modeler, the user can add Python code and then run it with
       <u>Run</u> button or just save it as a Python script *.py.  The result is shown in the Figure below:
       <u>Figure:</u> <u>Script</u> <u>editor</u> <u>in</u> <u>the</u> <u>wxGUI</u> <u>Graphical</u> <u>Modeler.</u>  The second option  in  the  <u>Script</u>  <u>type</u>  combobox
       exports  a  PyWPS  script  instead  of  a  basic  Python  one. A PyWPS process based on the model will be
       generated then; for the PyWPS script, the <u>Run</u> button is disabled as users are expected  to  include  this
       script in their web processing service and not to run it on itself.
       <u>Figure:</u> <u>Script</u> <u>editor</u> <u>in</u> <u>the</u> <u>wxGUI</u> <u>Graphical</u> <u>Modeler</u> <u>-</u> <u>set</u> <u>to</u> <u>PyWPS.</u>  The third option in the <u>Script</u> <u>type</u>
       combobox exports an actinia process chain (non-parameterized model) or an actinia template (parameterized
       model).   An  actinia  JSON  based  on the model will be generated then; as for the PyWPS script, the <u>Run</u>
       button is disabled as users are expected to include this JSON in their web processing service and not  to
       run it on itself.
       <u>Figure:</u> <u>Script</u> <u>editor</u> <u>in</u> <u>the</u> <u>wxGUI</u> <u>Graphical</u> <u>Modeler</u> <u>-</u> <u>set</u> <u>to</u> <u>actinia.</u>

       By default GRASS script package API is used (grass.script.core.run_command()). This can be changed in the
       settings. Alternatively also PyGRASS API is supported (grass.pygrass.modules.Module).

   <b>Defining</b> <b>loops</b>
       In  the  example  below the MODIS MOD13Q1 (NDVI) satellite data products are used in a loop. The original
       data are stored as coded integer values that need to be multiplied by the value 0.0001 to represent  real
       <u>ndvi</u>  <u>values</u>.  Moreover,  GRASS GIS provides a predefined color table called ndvi to represent <u>ndvi</u> <u>data</u>.
       In this case it is not necessary to work with every image separately.
       The Graphical Modeler is an appropriate tool to process data in an effective way using loop and variables
       (%map for a particular MODIS image in mapset and %ndvi for original data name suffix).   After  the  loop
       component is added to model, it is necessary to define series of maps with required settings of map type,
       mapset, etc.
       <u>Figure:</u> <u>MODIS</u> <u>data</u> <u>representation</u> <u>in</u> <u>GRASS</u> <u>GIS</u> <u>after</u> <u>Graphical</u> <u>Modeler</u> <u>usage.</u>

       When  the  model  is  supplemented by all of modules, these modules should be ticked in the boxes of loop
       dialog. The final model and its results are shown below.
       <u>Figure:</u> <u>Model</u> <u>with</u> <u>loop.</u>

       <u>Figure:</u> <u>MODIS</u> <u>data</u> <u>representation</u> <u>in</u> <u>GRASS</u> <u>GIS</u> <u>after</u> <u>Graphical</u> <u>Modeler</u> <u>usage.</u>

       The steps to enter in the command console of the Graphical Modeler would be as follows:
       # note that the white space usage differs from the standard command line usage
       # rename original image with preselected suffix
       g.rename raster = %map,%map.%ndvi
       # convert integer values
       r.mapcalc expression = %map = %map.%ndvi * 0.0001
       # set color table appropriate for nvdi data
       r.colors = map = %map color = ndvi

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
        <u>wxGUI,</u> <u>wxGUI</u> <u>components</u>

       See also selected user models available from GRASS Addons repository.

       See also the wiki page (especially various video tutorials).

</pre><h4><b>AUTHORS</b></h4><pre>
       Martin Landa, GeoForAll Lab, Czech Technical University in Prague, Czech Republic
       PyWPS support by Ondrej Pesek, GeoForAll Lab, Czech Technical University in Prague, Czech Republic
       Various manual improvements by Ludmila Furkevicova, Slovak University of Technology in Bratislava, Slovak
       Republic

</pre><h4><b>SOURCE</b> <b>CODE</b></h4><pre>
       Available at: wxGUI Graphical Modeler source code (history)

       Accessed: Friday Apr 04 01:21:40 2025

       Main index | GUI index | Topics index | Keywords index | Graphical index | Full index

       © 2003-2025 GRASS Development Team, GRASS GIS 8.4.1 Reference Manual

GRASS 8.4.1                                                                               <u><a href="../man1grass/g.gui.gmodeler.1grass.html">g.gui.gmodeler</a></u>(1grass)
</pre>
 </div>
</div></section>
</div>
</body>
</html>