<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ssh-add — adds private key identities to the OpenSSH authentication agent</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/openssh-client">openssh-client_9.9p1-3ubuntu3.1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       ssh-add — adds private key identities to the OpenSSH authentication agent

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>ssh-add</b> [<b>-CcDdKkLlqvXx</b>] [<b>-E</b> <u>fingerprint_hash</u>] [<b>-H</b> <u>hostkey_file</u>] [<b>-h</b> <u>destination_constraint</u>] [<b>-S</b> <u>provider</u>]
               [<b>-t</b> <u>life</u>] [<u>file</u> <u>...</u>]
       <b>ssh-add</b> <b>-s</b> <u>pkcs11</u> [<b>-Cv</b>] [<u>certificate</u> <u>...</u>]
       <b>ssh-add</b> <b>-e</b> <u>pkcs11</u>
       <b>ssh-add</b> <b>-T</b> <u>pubkey</u> <u>...</u>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>ssh-add</b>  adds  private  key  identities  to  the  authentication  agent,  <u><a href="../man1/ssh-agent.1.html">ssh-agent</a></u>(1).  When run without
       arguments, it adds the files <u><a href="file:~/.ssh/id_rsa">~/.ssh/id_rsa</a></u>, <u><a href="file:~/.ssh/id_ecdsa">~/.ssh/id_ecdsa</a></u>,  <u><a href="file:~/.ssh/id_ecdsa_sk">~/.ssh/id_ecdsa_sk</a></u>,  <u><a href="file:~/.ssh/id_ed25519">~/.ssh/id_ed25519</a></u>  and
       <u><a href="file:~/.ssh/id_ed25519_sk">~/.ssh/id_ed25519_sk</a></u>.   After  loading  a private key, <b>ssh-add</b> will try to load corresponding certificate
       information from the filename obtained by appending <u>-cert.pub</u> to  the  name  of  the  private  key  file.
       Alternative file names can be given on the command line.

       If any file requires a passphrase, <b>ssh-add</b> asks for the passphrase from the user.  The passphrase is read
       from the user's tty.  <b>ssh-add</b> retries the last passphrase if multiple identity files are given.

       The authentication agent must be running and the SSH_AUTH_SOCK environment variable must contain the name
       of its socket for <b>ssh-add</b> to work.

       The options are as follows:

       <b>-C</b>      When  loading keys into or deleting keys from the agent, process certificates only and skip plain
               keys.

       <b>-c</b>      Indicates that added  identities  should  be  subject  to  confirmation  before  being  used  for
               authentication.   Confirmation  is  performed  by  <u><a href="../man1/ssh-askpass.1.html">ssh-askpass</a></u>(1).   Successful  confirmation  is
               signaled by a zero exit status from <u><a href="../man1/ssh-askpass.1.html">ssh-askpass</a></u>(1), rather than text entered into the requester.

       <b>-D</b>      Deletes all identities from the agent.

       <b>-d</b>      Instead of adding identities, removes identities from the agent.  If <b>ssh-add</b> has been run without
               arguments, the keys for the default identities  and  their  corresponding  certificates  will  be
               removed.  Otherwise, the argument list will be interpreted as a list of paths to public key files
               to  specify  keys  and certificates to be removed from the agent.  If no public key is found at a
               given path, <b>ssh-add</b> will append <u>.pub</u> and retry.  If  the  argument  list  consists  of  “-”  then
               <b>ssh-add</b> will read public keys to be removed from standard input.

       <b>-E</b> <u>fingerprint_hash</u>
               Specifies the hash algorithm used when displaying key fingerprints.  Valid options are: “md5” and
               “sha256”.  The default is “sha256”.

       <b>-e</b> <u>pkcs11</u>
               Remove keys provided by the PKCS#11 shared library <u>pkcs11</u>.

       <b>-H</b> <u>hostkey_file</u>
               Specifies  a known hosts file to look up hostkeys when using destination-constrained keys via the
               <b>-h</b> flag.  This option may be specified multiple times to allow multiple files to be searched.  If
               no  files  are  specified,  <b>ssh-add</b>  will  use  the  default  <u><a href="../man5/ssh_config.5.html">ssh_config</a></u>(5)  known  hosts  files:
               <u><a href="file:~/.ssh/known_hosts">~/.ssh/known_hosts</a></u>, <u><a href="file:~/.ssh/known_hosts2">~/.ssh/known_hosts2</a></u>, <u>/etc/ssh/ssh_known_hosts</u>, and <u>/etc/ssh/ssh_known_hosts2</u>.

       <b>-h</b> <u>destination_constraint</u>
               When  adding  keys,  constrain  them  to  be  usable  only  through specific hosts or to specific
               destinations.

               Destination constraints of the form ‘[user@]dest-hostname’ permit use of the key  only  from  the
               origin  host  (the  one  running <u><a href="../man1/ssh-agent.1.html">ssh-agent</a></u>(1)) to the listed destination host, with optional user
               name.

               Constraints of the form ‘src-hostname&gt;[user@]dst-hostname’ allow a key available on  a  forwarded
               <u><a href="../man1/ssh-agent.1.html">ssh-agent</a></u>(1)  to  be  used  through  a  particular  host  (as  specified  by  ‘src-hostname’)  to
               authenticate to a further host, specified by ‘dst-hostname’.

               Multiple destination constraints may be added when loading keys.  When attempting  authentication
               with  a  key  that has destination constraints, the whole connection path, including <u><a href="../man1/ssh-agent.1.html">ssh-agent</a></u>(1)
               forwarding, is tested against those constraints and each hop must be permitted for the attempt to
               succeed.  For example, if key is  forwarded  to  a  remote  host,  ‘host-b’,  and  is  attempting
               authentication  to another host, ‘host-c’, then the operation will be successful only if ‘host-b’
               was permitted from the origin host and the subsequent ‘host-b&gt;host-c’ hop is  also  permitted  by
               destination constraints.

               Hosts  are  identified  by  their host keys, and are looked up from known hosts files by <b>ssh-add</b>.
               Wildcards patterns may be used for  hostnames  and  certificate  host  keys  are  supported.   By
               default, keys added by <b>ssh-add</b> are not destination constrained.

               Destination constraints were added in OpenSSH release 8.9.  Support in both the remote SSH client
               and  server  is  required  when  using destination-constrained keys over a forwarded <u><a href="../man1/ssh-agent.1.html">ssh-agent</a></u>(1)
               channel.

               It is also important to note that destination constraints can only be  enforced  by  <u><a href="../man1/ssh-agent.1.html">ssh-agent</a></u>(1)
               when  a  key is used, or when it is forwarded by a <b>cooperating</b> <u><a href="../man1/ssh.1.html">ssh</a></u>(1).  Specifically, it does not
               prevent an attacker with access to a remote SSH_AUTH_SOCK from forwarding it again and  using  it
               on a different host (but only to a permitted destination).

       <b>-K</b>      Load resident keys from a FIDO authenticator.

       <b>-k</b>      When  loading keys into or deleting keys from the agent, process plain private keys only and skip
               certificates.

       <b>-L</b>      Lists public key parameters of all identities currently represented by the agent.

       <b>-l</b>      Lists fingerprints of all identities currently represented by the agent.

       <b>-q</b>      Be quiet after a successful operation.

       <b>-S</b> <u>provider</u>
               Specifies a path to a library that will be  used  when  adding  FIDO  authenticator-hosted  keys,
               overriding the default of using the internal USB HID support.

       <b>-s</b> <u>pkcs11</u>
               Add  keys  provided  by  the  PKCS#11 shared library <u>pkcs11</u>.  Certificate files may optionally be
               listed as command-line arguments.  If these are present, then they will be loaded into the  agent
               using any corresponding private keys loaded from the PKCS#11 token.

       <b>-T</b> <u>pubkey</u> <u>...</u>
               Tests  whether  the  private  keys  that  correspond  to the specified <u>pubkey</u> files are usable by
               performing sign and verify operations on each.

       <b>-t</b> <u>life</u>
               Set a maximum lifetime when adding identities to an agent.  The  lifetime  may  be  specified  in
               seconds or in a time format specified in <u><a href="../man5/sshd_config.5.html">sshd_config</a></u>(5).

       <b>-v</b>      Verbose mode.  Causes <b>ssh-add</b> to print debugging messages about its progress.  This is helpful in
               debugging problems.  Multiple <b>-v</b> options increase the verbosity.  The maximum is 3.

       <b>-X</b>      Unlock the agent.

       <b>-x</b>      Lock the agent with a password.

</pre><h4><b>ENVIRONMENT</b></h4><pre>
       DISPLAY, SSH_ASKPASS and SSH_ASKPASS_REQUIRE
               If  <b>ssh-add</b>  needs  a passphrase, it will read the passphrase from the current terminal if it was
               run from a terminal.  If <b>ssh-add</b> does not have a terminal associated  with  it  but  DISPLAY  and
               SSH_ASKPASS  are  set,  it  will  execute  the  program  specified  by  SSH_ASKPASS  (by  default
               “ssh-askpass”) and open an X11 window to read the passphrase.  This is particularly  useful  when
               calling <b>ssh-add</b> from a <u>.xsession</u> or related script.

               SSH_ASKPASS_REQUIRE  allows further control over the use of an askpass program.  If this variable
               is set to “never” then <b>ssh-add</b> will never attempt to use one.  If it is  set  to  “prefer”,  then
               <b>ssh-add</b>  will  prefer  to  use  the askpass program instead of the TTY when requesting passwords.
               Finally, if the variable is set to “force”, then  the  askpass  program  will  be  used  for  all
               passphrase input regardless of whether DISPLAY is set.

       SSH_AUTH_SOCK
               Identifies the path of a Unix-domain socket used to communicate with the agent.

       SSH_SK_PROVIDER
               Specifies  a path to a library that will be used when loading any FIDO authenticator-hosted keys,
               overriding the default of using the built-in USB HID support.

</pre><h4><b>FILES</b></h4><pre>
       <u><a href="file:~/.ssh/id_ecdsa">~/.ssh/id_ecdsa</a></u>
       <u><a href="file:~/.ssh/id_ecdsa_sk">~/.ssh/id_ecdsa_sk</a></u>
       <u><a href="file:~/.ssh/id_ed25519">~/.ssh/id_ed25519</a></u>
       <u><a href="file:~/.ssh/id_ed25519_sk">~/.ssh/id_ed25519_sk</a></u>
       <u><a href="file:~/.ssh/id_rsa">~/.ssh/id_rsa</a></u>
               Contains the ECDSA, authenticator-hosted ECDSA,  Ed25519,  authenticator-hosted  Ed25519  or  RSA
               authentication identity of the user.

       Identity  files  should not be readable by anyone but the user.  Note that <b>ssh-add</b> ignores identity files
       if they are accessible by others.

</pre><h4><b>EXIT</b> <b>STATUS</b></h4><pre>
       Exit status is 0 on success, 1 if the specified command fails, and 2 if <b>ssh-add</b> is unable to contact  the
       authentication agent.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <u><a href="../man1/ssh.1.html">ssh</a></u>(1), <u><a href="../man1/ssh-agent.1.html">ssh-agent</a></u>(1), <u><a href="../man1/ssh-askpass.1.html">ssh-askpass</a></u>(1), <u><a href="../man1/ssh-keygen.1.html">ssh-keygen</a></u>(1), <u><a href="../man8/sshd.8.html">sshd</a></u>(8)

</pre><h4><b>AUTHORS</b></h4><pre>
       OpenSSH  is a derivative of the original and free ssh 1.2.12 release by Tatu Ylonen.  Aaron Campbell, Bob
       Beck, Markus Friedl, Niels Provos, Theo de Raadt and Dug Song removed many bugs, re-added newer  features
       and created OpenSSH.  Markus Friedl contributed the support for SSH protocol versions 1.5 and 2.0.

Debian                                            June 17, 2024                                       <u><a href="../man1/SSH-ADD.1.html">SSH-ADD</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>