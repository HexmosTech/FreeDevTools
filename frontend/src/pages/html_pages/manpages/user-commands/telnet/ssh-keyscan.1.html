<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ssh-keyscan — gather SSH public keys from servers</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/openssh-client">openssh-client_9.9p1-3ubuntu3.1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       ssh-keyscan — gather SSH public keys from servers

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>ssh-keyscan</b> [<b>-46cDHqv</b>] [<b>-f</b> <u>file</u>] [<b>-O</b> <u>option</u>] [<b>-p</b> <u>port</u>] [<b>-T</b> <u>timeout</u>] [<b>-t</b> <u>type</u>] [<u>host</u> | <u>addrlist</u> <u>namelist</u>]

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>ssh-keyscan</b> is a utility for gathering the public SSH host keys of a number of hosts.  It was designed to
       aid  in  building  and  verifying  <u>ssh_known_hosts</u>  files,  the format of which is documented in <u><a href="../man8/sshd.8.html">sshd</a></u>(8).
       <b>ssh-keyscan</b> provides a minimal interface suitable for use by shell and perl scripts.

       <b>ssh-keyscan</b> uses non-blocking socket I/O to contact as many hosts as possible in parallel, so it is  very
       efficient.   The keys from a domain of 1,000 hosts can be collected in tens of seconds, even when some of
       those hosts are down or do not run <u><a href="../man8/sshd.8.html">sshd</a></u>(8).  For scanning, one does not need login access to the machines
       that are being scanned, nor does the scanning process involve any encryption.

       Hosts to be scanned may be specified by hostname, address or by CIDR network range (e.g.  192.168.16/28).
       If a network range is specified, then all addresses in that range will be scanned.

       The options are as follows:

       <b>-4</b>      Force <b>ssh-keyscan</b> to use IPv4 addresses only.

       <b>-6</b>      Force <b>ssh-keyscan</b> to use IPv6 addresses only.

       <b>-c</b>      Request certificates from target hosts instead of plain keys.

       <b>-D</b>      Print  keys  found  as  SSHFP  DNS records.  The default is to print keys in a format usable as a
               <u><a href="../man1/ssh.1.html">ssh</a></u>(1) <u>known_hosts</u> file.

       <b>-f</b> <u>file</u>
               Read hosts or “addrlist namelist” pairs from <u>file</u>, one per line.  If ‘-’ is supplied instead of a
               filename, <b>ssh-keyscan</b> will read from the standard input.  Names read from a file must start  with
               an address, hostname or CIDR network range to be scanned.  Addresses and hostnames may optionally
               be  followed  by  comma-separated name or address aliases that will be copied to the output.  For
               example:

               192.168.11.0/24
               10.20.1.1
               happy.example.org
               10.0.0.1,sad.example.org

       <b>-H</b>      Hash all hostnames and addresses in the output.  Hashed names may be used normally by <u><a href="../man1/ssh.1.html">ssh</a></u>(1)  and
               <u><a href="../man8/sshd.8.html">sshd</a></u>(8), but they do not reveal identifying information should the file's contents be disclosed.

       <b>-O</b> <u>option</u>
               Specify a key/value option.  At present, only a single option is supported:

               <b>hashalg</b>=<u>algorithm</u>
                       Selects  a  hash  algorithm  to use when printing SSHFP records using the <b>-D</b> flag.  Valid
                       algorithms are “sha1” and “sha256”.  The default is to print both.

       <b>-p</b> <u>port</u>
               Connect to <u>port</u> on the remote host.

       <b>-q</b>      Quiet mode: do not print server host name and banners in comments.

       <b>-T</b> <u>timeout</u>
               Set the timeout for connection attempts.  If <u>timeout</u> seconds have elapsed since a connection  was
               initiated  to  a  host or since the last time anything was read from that host, the connection is
               closed and the host in question considered unavailable.  The default is 5 seconds.

       <b>-t</b> <u>type</u>
               Specify the type of the key to fetch from the scanned hosts.  The possible  values  are  “ecdsa”,
               “ed25519”,  “ecdsa-sk”,  “ed25519-sk”,  or “rsa”.  Multiple values may be specified by separating
               them with commas.  The default is to fetch all the above key types.

       <b>-v</b>      Verbose mode: print debugging messages about progress.

       If an ssh_known_hosts file is constructed using <b>ssh-keyscan</b> without verifying the  keys,  users  will  be
       vulnerable  to  <u>man</u>  <u>in</u> <u>the</u> <u>middle</u> attacks.  On the other hand, if the security model allows such a risk,
       <b>ssh-keyscan</b> can help in the detection of tampered keyfiles or man in the middle attacks which have  begun
       after the ssh_known_hosts file was created.

</pre><h4><b>FILES</b></h4><pre>
       <u>/etc/ssh/ssh_known_hosts</u>

</pre><h4><b>EXAMPLES</b></h4><pre>
       Print the RSA host key for machine <u>hostname</u>:

             <b>$</b> <b>ssh-keyscan</b> <b>-t</b> <b>rsa</b> <b>hostname</b>

       Search a network range, printing all supported key types:

             <b>$</b> <b>ssh-keyscan</b> <b>192.168.0.64/25</b>

       Find  all  hosts  from  the file <u>ssh_hosts</u> which have new or different keys from those in the sorted file
       <u>ssh_known_hosts</u>:

             $ ssh-keyscan -t rsa,ecdsa,ed25519 -f ssh_hosts | \
                     sort -u - ssh_known_hosts | diff ssh_known_hosts -

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <u><a href="../man1/ssh.1.html">ssh</a></u>(1), <u><a href="../man8/sshd.8.html">sshd</a></u>(8)

       <u>Using</u> <u>DNS</u> <u>to</u> <u>Securely</u> <u>Publish</u> <u>Secure</u> <u>Shell</u> <u>(SSH)</u> <u>Key</u> <u>Fingerprints</u>, RFC 4255, 2006.

</pre><h4><b>AUTHORS</b></h4><pre>
       David    Mazieres    &lt;<u><a href="mailto:dm@lcs.mit.edu">dm@lcs.mit.edu</a></u>&gt;    wrote    the    initial    version,    and     Wayne     Davison
       &lt;<u><a href="mailto:wayned@users.sourceforge.net">wayned@users.sourceforge.net</a></u>&gt; added support for protocol version 2.

Debian                                            June 17, 2024                                   <u><a href="../man1/SSH-KEYSCAN.1.html">SSH-KEYSCAN</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>