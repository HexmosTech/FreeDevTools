<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>gbak -- backup /restore Firebird database</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/firebird4.0-utils">firebird4.0-utils_4.0.5.3140.ds6-16_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       gbak -- backup /restore Firebird database

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>gbak</b> -b [<u>backup</u> <u>option</u>...] [<u>common</u> <u>option</u>...] <u>source</u> <u>target</u>

       <b>gbak</b> -c|-r [<u>restore</u> <u>option</u>...] [<u>common</u> <u>option</u>...] <u>source</u> <u>target</u>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>gbak</b> is the tool for managing Firebird database logical backup and restore.

       In backup mode <u>source</u> is the path to an existing database and <u>target</u> is the backup file name. If <u>target</u>
       is "stdout", the backup is sent to the standard output.

       In restore mode <u>source</u> is an existing backup file and <u>target</u> is the path to a firebird database. If
       <u>source</u> is "stdin", the backup data is expected on the standard input.

</pre><h4><b>COMMON</b> <b>OPTIONS</b></h4><pre>
       Most options can be abbreviated. Below are given the shortest abbreviations as well as the full versions.

       <b>-user</b> <u>string</u>
           User name to use when connecting to the database.

       <b>-ro</b> <u>string</u>
       <b>-role</b> <u>string</u>
           SQL role to use when connecting to theh database.

       <b>-pas</b> <u>string</u>
       <b>-password</b> <u>string</u>
           Password to use when connecting to the database.

       <b>-se</b>
       <b>-service</b>
           Use services manager when talking to the database.

       <b>-v</b>
       <b>-verify</b>
           Report each action.

           Displays  verbose  information  about  what  metadata  is being processed, what table is being backed
           up/restored and how many records are processed.

       <b>-y</b> <u>string</u>
           Redirects status/error messages to the given path.

       <b>-z</b>  Prints full program version number before doing anything else. Prints  server  and  database  version
           information after connecting to the database.

</pre><h4><b>BACKUP</b> <b>OPTIONS</b></h4><pre>
       <b>-b</b>
       <b>-backup_database</b>
           Turns on backup mode.

       <b>-co</b>
       <b>-convert</b>
           Converts external tables into tables.

           Normally  external  tables  are  ignored during backup and restore. With the <b>-convert</b> option external
           tables are included in the backup as any other regular table. When such a backup is  restored,  these
           previously external tables are created as regular tables.

       <b>-fa</b> <u>number</u>
       <b>-factor</b> <u>number</u>
           Blocking factor. Output is written in block of <u>number</u> bytes. Useful when backing up to a tape.

       <b>-g</b>
       <b>-garbage_collect</b>
           Inhibits garbage collection.

           Normally Firebird runs a garbage collector when reading through the tables.  Since the backup process
           reads  all the tables, this forces garbage collection of the whole database. Using this switch speeds
           up the backup process and also can help in some cases of backing up damaged databases.

       <b>-ig</b>
       <b>-ignore</b>
           Ignores records with bad checksums.

           This option should be used only when backing up damaged databases.

       <b>-l</b>
       <b>-limbo</b>
           Ignores transactions in limbo.

       <b>-m</b>
       <b>-metadata_only</b>
           Backs up metadata only. No table content is included in the backup.

       <b>-nt</b> Uses non-transportable backup format.

           Non-transportable backups can be restored only on machines using the same byte order.

       <b>-o</b>
       <b>-old_descriptions</b>
           Saves old-style metadata descriptions.

</pre><h4><b>RESTORE</b> <b>OPTIONS</b></h4><pre>
       <b>-c</b>
       <b>-create</b>
           Turns on restore mode.

           <u>target</u> database will be created and must not exist.

       <b>-r</b> [<b>o</b>]
       <b>-recreate_database</b> [<b>overwrite</b>]
           Like <b>-create_database</b>, but by adding "overwrite" any existing database is overwritten.

       <b>-rep</b>
       <b>-replace_database</b>
           Turns on restore mode. Target database is overwritten if it exists.

       <b>-bu</b> <u>number</u>
       <b>-buffers</b> <u>number</u>
           When creating target database, ignore information about database buffers stored in the backup and use
           specified number.

       <b>-e</b>
       <b>-expand</b>
           Normally, Firebird uses RLE compression for strings when storing them on disk. This option turns this
           compression off.

       <b>-i</b>
       <b>-inactive</b>
           Restore indexes in inactive state. This can be used to restore a backup, containing data inconsistent
           with foreign key/unique constraints.

           Note that since version 3.0 gbak leaves any problematic indices in inactive state automatically.

       <b>-k</b>
       <b>-kill</b>
           Does not restore database shadow files.

       <b>-mo</b> <u>access</u>
       <b>-mode</b> <u>access</u>
           Restores the database with given <u>access</u>.

           Valid values for <u>access</u> are "read_only" and "read_write". The default is to restore the database with
           its original access mode.

       <b>-n</b>
       <b>-no_validity</b>
           Restores the database without its validity constraints. This includes foreign key, unique  and  check
           constraints. Useful for restoring a backup, containing inconsistent data.

       <b>-o</b>
       <b>-one_at_a_time</b>
           Commits restoring transaction after each table.

       <b>-p</b> <u>number</u>
       <b>-page_size</b> <u>number</u>
           Override page size stored in the backup. Valid values are 1024, 2048, 4096, 8192, 16384 and 32768.

       <b>-use_</b>
       <b>-use_all_space</b>
           Normally,  Fireburd  reserves  some  space on each data page for further use.  This reserved space is
           used for newly inserted data and for keeping older versions of the data. Having  space  reserved  for
           this purpose "near" to the data speeds up modifications. If the database will be used mainly for read
           operations, specifying this option will save disk space.

       <b>-fix_fss_metadata</b> <u>string</u>
           When restoring metadata, in case it is not valid UTF8, try to convert it from the specified character
           set.  Useful when table descriptions are given in some national non-UTF8 encoding, which was possible
           with Firebird before version 2.5.

       <b>-fix_fss_data</b> <u>string</u>
           When restoring table data, in case a column defined with UNICODE_FSS character set contains no  valid
           UTF8  (which  was  possible with versions of Firebird prior to 2.5), try to convert the data from the
           specified character set.

   <b>RESTORING</b> <b>TO</b> <b>MULTIPLE-FILE</b> <b>DATABASE</b>
       When the <u>target</u> argument is in the form <u>file_1</u> <u>pages_1</u> ... <u>file_N</u>, the restored database  is  written  in
       several files with <u>file_i</u> not bigger than <u>pages_i</u> pages. This may be useful if the file system that holds
       the database file can't handle files above certain size.

       <b>Note</b> <b>1</b>: the file size limit is in <b>pages</b>.

       <b>Note</b> <b>1</b>: there is no limit on the size of the last file.

</pre><h4><b>ENVIRONMENT</b></h4><pre>
       <b>ISC_USER</b>
           Default value for the -user option.

       <b>ISC_ROLE</b>
           Default value for the -role option.

       <b>ISC_PASSWORD</b>
           Default value for the -password option.

</pre><h4><b>EXAMPLES</b></h4><pre>
   <b>Backup</b> <b>a</b> <b>database</b> <b>into</b> <b>a</b> <b>compressed</b> <b>format</b>
       gbak -b srv:/database.fdb stdout | gzip &gt; database.fbk.gz

   <b>Restore</b> <b>a</b> <b>database</b> <b>from</b> <b>a</b> <b>compressed</b> <b>backup</b>
       zcat database.fbk.gz | gbak -c stdin srv:/new-database.fdb

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man1/isql-fb.1.html">isql-fb</a></b>(1), <b><a href="../man1/gfix.1.html">gfix</a></b>(1), <b><a href="../man1/fbstat.1.html">fbstat</a></b>(1).

       Additional   documentation   about   Firebird   can   be   found   on   the   Firebird  Project  website,
       &lt;<a href="http://www.firebirdsql.org">http://www.firebirdsql.org</a>&gt;.

</pre><h4><b>AUTHOR</b></h4><pre>
       This manual page was written by Damyan Ivanov  <a href="mailto:dmn@debian.org">dmn@debian.org</a>  for  the  Debian  project.  Permission  is
       granted to use this document, with or without modifications, provided that this notice is retained. If we
       meet some day, and you think this stuff is worth it, you can buy me a beer in return.

Firebird 4.0                                       2025-02-17                                            <u><a href="../man1/GBAK.1.html">GBAK</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>