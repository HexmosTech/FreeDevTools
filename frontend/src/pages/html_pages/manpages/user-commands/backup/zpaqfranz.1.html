<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>zpaqfranz - Swiss army knife for backup and disaster recovery</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/zpaqfranz">zpaqfranz_62.2-2_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       zpaqfranz - Swiss army knife for backup and disaster recovery

</pre><h4><b>SYNOPSIS</b></h4><pre>
       zpaqfranz <u>command</u> <u>archive</u>[".zpaq"] [<u>files|directory</u>]... [-<u>switches</u>]...

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <u>zpaqfranz</u> is like 7z or RAR on steroids, with versions/"snapshots"

        Conceptually similar to Mac time machine, but much more efficiently
        Keeps backup always-to-always, no need to ever prune (CryptoLocker)
        Easily handles millions of files and TBs of data, non-latin support
        Cloud backups with full encryption, minimal data transfer/bandwidth
        Data integrity check CRC32+XXHASH|SHA-1|SHA-2|SHA-3|MD5|XXH3|BLAKE3
        Thorough data verification, multithread support (real world 1GB+/s)
        Specific zfs handling functions,full multiplatform interoperability
        Particularly suitable for minimal space storage of virtual machines

        Windows, FreeBSD, OpenBSD, Linux, MacOS, Solaris, OmniOS and others

</pre><h4><b>COMMANDS</b></h4><pre>
       <u>archive</u> assume by default a ".zpaq" extension.

       If <u>archive</u> contains wildcards "*" or "?", then the archive is multipart, where "*" matches the part
       number and "?" matches single digits. The concatenation starts from 1.
        For example, "arc??" would match the concatenation of
        "arc01.zpaq",
        "arc02.zpaq",
        "arc03.zpaq" (...)
        until the last one.
        DO NOT FORGET THE DOUBLE QUOTEs!

       The help is embedded : please use that or read the wiki on github

        zpaqfranz           : short version
        zpaqfranz h         : list of commands and switches
        zpaqfranz h h       : help on everything (ALL IN)
        Help     on XXX     : zpaqfranz h   XXX
        Examples of XXX     : zpaqfranz -he XXX

        XXX can be a COMMAND
        1on1                : Delete folder2's files with same name/hash of folder1
        a                   : Add or append files to archive
        autotest            : Autotest for hidden errors after compiling from source
        b                   : CPU benchmark, speed index in (yes!) franzomips
        backup              : Backup with hardened multipart
        c                   : Compare one master dir against one or more slave dir(s)
        consolidatebackup   : Consolidate multipart backup
        cp                  : Friendly file copy with ETA (resumable)
        d                   : Deduplicate files inside a single folder WITHOUT MERCY
        dir                 : A better dir (yes, Windows' dir)
        dirsize             : Show cumulative folder(s) size
        e                   : Extract file(s) on current folder
        f                   : Free disk space fill (=reliability test) or wipe (privacy)
        find                : Search file(s) with wildcards
        fzf                 : List archive filenames 'plain-and-dirty'
        i                   : File (archive) information
        isopen              : Check if a file isopen (by other software)
        k                   : Kill (delete) everything not in archive (RISKY!)
        l                   : List file(s)
        last                : Get last multipart filename
        last2               : Compare last2 rows
        m                   : Merge (consolidate) multipart archive into one
        n                   : Decimate (keeping the newer X) older files
        p                   : Paranoid test (slow, lot of RAM needed)
        password            : Change/remove password of single archive (no multipart)
        pause               : Halt script execution until time or keypress
        r                   : Robocopy one master to multiple slave folders
        rd                  : Remove hard-to-delete Windows' folder (ex. path too long)
        rsync               : Delete rsync's dangling temporary files
        s                   : Get dir(s) size, return free disk space
        sum                 : Calc hash/checksums, find duplicated files
        t                   : Test archive integrity
        testbackup          : Multipart hardening
        trim                : Trim .zpaq archive from incomplete transaction
        utf                 : Convert filenames to latin, fix too long filenames etc
        v                   : Verify archive (against filesystem)
        versum              : Hashdeep-like double check of hashes
        w                   : Chunked extraction/test of very big files
        x                   : Extract file(s)
        z                   : Remove empty directories
        zfsadd              : Freeze zfs' snapshots inside archive
        zfsbackup           : Backup of zfs' streams
        zfslist             : List zfs' snapshots with wildcard
        zfsproxbackup       : Backup of proxmox on zfs
        zfsproxrestore      : Restore of proxmox on zfs
        zfspurge            : Purge snapshots with wildcards
        zfsreceive          : Restore (with zfs) from zpaq archive
        zfsrestore          : Restore from extracted .zfs stream

</pre><h4><b>OPTIONS</b></h4><pre>
        Embbedded help on optional switches

        zpaqfranz h main    : main switches
        zpaqfranz h franz   : zpaqfranz's switches
        zpaqfranz h normal  : 2nd line switches
        zpaqfranz h voodoo  : nerd things

</pre><h4><b>EXIT</b> <b>STATUS</b></h4><pre>
       0=successfull, 1=warning, 2=error

</pre><h4><b>AVAILABILITY</b></h4><pre>
        https://github.com/fcorbelli/zpaqfranz
        https://sourceforge.net/projects/zpaqfranz/

</pre><h4><b>BUGS</b></h4><pre>
        Provided as-is, with no warranty whatsoever.

</pre><h4><b>ENVIRONMENT</b></h4><pre>
        Running on "weird things" requires compiling with the right switches
        -DNOJIT           : Not-Intel CPU (ex. Apple M1/M2, ARM...)
        -DSOLARIS         : Solaris-based OS
        -DANCIENT         : Very old system (cheap NAS...)
        -DBIG             : BIG ENDIAN
        -DESX             : ESXi server
        -DALIGNMALLOC     : Enforce mem alignment (sparc64...)
        -DHWSHA2          : Enable HW SHA support (Ryzen...)

        Use the autotest command if necessary.

        If the executable is named "dir" act (just about)... like Windows' dir

        If the executable is named "robocopy" runs... some kind of robocopy-like
        WET RUNS (-kill automagically enabled), with -space enabled.
        ex robocopy /tmp/zp /tmp/backup1 /tmp/backup2

</pre><h4><b>LIMITATIONS</b></h4><pre>
        zpaqfranz currently does not store owner/group (it will be in the future).
        If you really need you must use tar.

        "Strange" systems with little memory (NAS, ESX servers...) can crash.

</pre><h4><b>FEATURES</b></h4><pre>
        zpaqfranz supports -stdin and -stdout (zpaq does not)

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <a href="../man1/bzip2.1.html">bzip2</a>(1) <a href="../man1/gzip.1.html">gzip</a>(1) <a href="../man1/p7zip.1.html">p7zip</a>(1) <a href="../man1/rar.1.html">rar</a>(1) <a href="../man1/unzip.1.html">unzip</a>(1) <a href="../man1/zip.1.html">zip</a>(1) <a href="../man1/zpaq.1.html">zpaq</a>(1)

</pre><h4><b>AUTHORS</b></h4><pre>
       This is a fork of zpaq 7.15 (released to public domain by Matt Mahoney) made by Franco Corbelli and
       released under MIT in 2021-2023.

       Licenses of various software (more details in the source code)

       <u>Public</u> <u>domain</u> for zpaq, libzpaq, AES from libtomcrypt by Tom St Denis,salsa20 by D. J. Bernstein, mod by
       data man and reg2s patch from encode.su forum Sha1Opt.asm, 7zAsm.asm by Igor Pavlov, PDCursesMod and SHA-
       Intrinsics; <u>MIT</u> for Code from libdivsufsort 2.0 (C) Yuta Mori, 2003-2008, Embedded Artistry, Nilsimsa
       implementation by Sepehr Laal; <u>zlib</u> for Crc32.h Copyright (c) 2011-2019 Stephan Brumme, part of hash-
       library (MD5, SHA-3), crc32c.c Copyright (C) 2015 Mark Adler; <u>The</u> <u>Unlicense</u> for wyhash (experimental) by
       WangYi; <u>BSD</u> <u>2</u> for xxHash Copyright (C) 2012-2020 Yann Collet; <u>CC0</u> <u>1.0</u> <u>/</u> <u>Apache</u> <u>License</u> <u>2.0</u> for the BLAKE3
       hasher and HighWay64 hasher; <u>Nothing</u> <u>explicit,</u> <u>seems</u> <u>BSD</u> for Whirlpool by Paulo Barreto and Vincent
       Rijmen; <u>almost-unrestricted</u> Twofish implementation by Niels Ferguson.

</pre><h4><b>EXAMPLE</b> <b>1</b> <b>create</b> <b>a</b> <b>temporary</b> <b>file,</b> <b>add</b> <b><a href="file:/etc">/etc</a></b> <b>to</b> <b>mybackup.zpaq</b></h4><pre>
        echo test_ONE &gt;/etc/testfile.txt
        zpaqfranz a /tmp/mybackup.zpaq <a href="file:/etc">/etc</a>

</pre><h4><b>EXAMPLE</b> <b>2</b> <b>create</b> <b>another</b> <b>version</b> <b>("snapshot")</b> <b>with</b> <b>different</b> <b>content</b></h4><pre>
        echo test_TWO_FILE_LONGER_THAT_THE_FIRST &gt;/etc/testfile.txt
        zpaqfranz a /tmp/mybackup.zpaq <a href="file:/etc">/etc</a>

</pre><h4><b>EXAMPLE</b> <b>3</b> <b>show</b> <b>archive</b> <b>info</b> <b>(two</b> <b>versions/"snapshots",</b> <b>1</b> <b>and</b> <b>2)</b></h4><pre>
        zpaqfranz i /tmp/mybackup.zpaq

</pre><h4><b>EXAMPLE</b> <b>4</b> <b>list</b> <b>the</b> <b>two</b> <b>different</b> <b>versions</b> <b>(look</b> <b>at</b> <b>different</b> <b>file</b> <b>size)</b></h4><pre>
        zpaqfranz l /tmp/mybackup.zpaq -find testfile.txt -until 1
        zpaqfranz l /tmp/mybackup.zpaq -find testfile.txt -until 2

</pre><h4><b>EXAMPLE</b> <b>5</b> <b>restore</b> <b>the</b> <b>first</b> <b>version</b> <b>of</b> <b>/etc/testfile.txt</b> <b>(aka:</b> <b>rollback</b> <b>to</b> <b>"snapshot"</b> <b>#1)</b></h4><pre>
        zpaqfranz x /tmp/mybackup.zpaq /etc/testfile.txt -to /tmp/restoredfolder/the_first.txt -until 1 -space
        cat /tmp/restoredfolder/the_first.txt

perl v5.32.1                                       2023-09-12                                       <u><a href="../man1/ZPAQFRANZ.1.html">ZPAQFRANZ</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>