<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>docker-container-cp - Copy files/folders between a container and the local filesystem</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/jammy/+package/docker.io">docker.io_27.5.1-0ubuntu3~22.04.2_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       docker-container-cp - Copy files/folders between a container and the local filesystem

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>docker</b>  <b>container</b>  <b>cp</b>  <b>[OPTIONS]</b>  <b>CONTAINER:SRC_PATH</b>  <b>DEST_PATH|-</b>       <b>docker</b>  <b>cp</b>  <b>[OPTIONS]</b>  <b>SRC_PATH|-</b>
       <b>CONTAINER:DEST_PATH</b>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The <b>docker</b> <b>container</b> <b>cp</b> utility copies the contents of <b>SRC_PATH</b> to the <b>DEST_PATH</b>.  You can copy from  the
       container's  file system to the local machine or the reverse, from the local filesystem to the container.
       If <b>-</b> is specified for either the <b>SRC_PATH</b> or <b>DEST_PATH</b>, you can also stream a tar archive from  <b>STDIN</b>  or
       to  <b>STDOUT</b>. The <b>CONTAINER</b> can be a running or stopped container.  The <b>SRC_PATH</b> or <b>DEST_PATH</b> can be a file
       or directory.

       The <b>docker</b> <b>container</b> <b>cp</b> command assumes  container  paths  are  relative  to  the  container's  <b>/</b>  (root)
       directory.   This   means   supplying   the   initial   forward  slash  is  optional;  The  command  sees
       <b>compassionate_darwin:/tmp/foo/myfile.txt</b> and <b>compassionate_darwin:tmp/foo/myfile.txt</b> as identical.  Local
       machine  paths  can  be  an absolute or relative value. The command interprets a local machine's relative
       paths as relative to the current working directory where <b>docker</b> <b>container</b> <b>cp</b> is run.

       The <b>cp</b> command behaves like the Unix <b>cp</b> <b>-a</b> command  in  that  directories  are  copied  recursively  with
       permissions preserved if possible. Ownership is set to the user and primary group at the destination. For
       example, files copied to a container are created with <b>UID:GID</b> of the root user. Files copied to the local
       machine  are  created with the <b>UID:GID</b> of the user which invoked the <b>docker</b> <b>container</b> <b>cp</b> command.  If you
       specify the <b>-L</b> option, <b>docker</b> <b>container</b> <b>cp</b> follows any symbolic link in the <b>SRC_PATH</b>. <b>docker</b> <b>container</b> <b>cp</b>
       does <u>not</u> create parent directories for <b>DEST_PATH</b> if they do not exist.

       Assuming a path separator of <b>/</b>, a first argument of  <b>SRC_PATH</b>  and  second  argument  of  <b>DEST_PATH</b>,  the
       behavior is as follows:

       • <b>SRC_PATH</b> specifies a file

         • <b>DEST_PATH</b> does not exist

           • the file is saved to a file created at <b>DEST_PATH</b>

         • <b>DEST_PATH</b> does not exist and ends with <b>/</b>

           • Error condition: the destination directory must exist.

         • <b>DEST_PATH</b> exists and is a file

           • the destination is overwritten with the source file's contents

         • <b>DEST_PATH</b> exists and is a directory

           • the file is copied into this directory using the basename from <b>SRC_PATH</b>

       • <b>SRC_PATH</b> specifies a directory

         • <b>DEST_PATH</b> does not exist

           • <b>DEST_PATH</b>  is  created as a directory and the <u>contents</u> of the source directory are copied into this
             directory

         • <b>DEST_PATH</b> exists and is a file

           • Error condition: cannot copy a directory to a file

         • <b>DEST_PATH</b> exists and is a directory

           • <b>SRC_PATH</b> does not end with <b><a href="file:/.">/.</a></b> (that is: <u>slash</u> followed by <u>dot</u>)

             • the source directory is copied into this directory

           • <b>SRC_PATH</b> does end with <b><a href="file:/.">/.</a></b> (that is: <u>slash</u> followed by <u>dot</u>)

             • the <u>content</u> of the source directory is copied into this directory

       The command requires <b>SRC_PATH</b> and <b>DEST_PATH</b> to exist according to the above rules. If <b>SRC_PATH</b>  is  local
       and  is a symbolic link, the symbolic link, not the target, is copied by default. To copy the link target
       and not the link, specify the <b>-L</b> option.

       A colon (<b>:</b>) is used as a delimiter between <b>CONTAINER</b> and its path. You can also  use  <b>:</b>  when  specifying
       paths  to  a  <b>SRC_PATH</b>  or  <b>DEST_PATH</b> on a local machine, for example  <b>file:name.txt</b>. If you use a <b>:</b> in a
       local machine path, you must be explicit with a relative or absolute path, for example:

       `/path/to/file:name.txt` or `./file:name.txt`

       It is not possible to copy certain system files such as resources under <b><a href="file:/proc">/proc</a></b>,  <b><a href="file:/sys">/sys</a></b>,  <b><a href="file:/dev">/dev</a></b>,  tmpfs,  and
       mounts  created by the user in the container.  However, you can still copy such files by manually running
       <b>tar</b> in <b>docker</b> <b>exec</b>.  For example (consider <b>SRC_PATH</b> and <b>DEST_PATH</b> are directories):

       $ docker exec foo tar Ccf $(dirname SRC_PATH) - $(basename SRC_PATH) | tar Cxf DEST_PATH -

       or

       $ tar Ccf $(dirname SRC_PATH) - $(basename SRC_PATH) | docker exec -i foo tar Cxf DEST_PATH -

       Using <b>-</b> as the <b>SRC_PATH</b> streams the contents of <b>STDIN</b> as a tar archive.  The command extracts the content
       of the tar to the <b>DEST_PATH</b> in container's filesystem. In this case, <b>DEST_PATH</b> must specify a  directory.
       Using <b>-</b> as the <b>DEST_PATH</b> streams the contents of the resource as a tar archive to <b>STDOUT</b>.

</pre><h4><b>EXAMPLES</b></h4><pre>
       Suppose a container has finished producing some output as a file it saves to somewhere in its filesystem.
       This  could  be  the output of a build job or some other computation. You can copy these outputs from the
       container to a location on your local host.

       If you want to copy the <b>/tmp/foo</b> directory from a container to the existing <b><a href="file:/tmp">/tmp</a></b> directory on your  host.
       If you run <b>docker</b> <b>container</b> <b>cp</b> in your <b>~</b> (home) directory on the local host:

       $ docker container cp compassionate_darwin:tmp/foo <a href="file:/tmp">/tmp</a>

       Docker  creates  a  <b>/tmp/foo</b> directory on your host. Alternatively, you can omit the leading slash in the
       command. If you execute this command from your home directory:

       $ docker container cp compassionate_darwin:tmp/foo tmp

       If <b><a href="file:~/tmp">~/tmp</a></b> does not exist, Docker will create it and copy the contents of <b>/tmp/foo</b> from the container  into
       this  new  directory.  If  <b><a href="file:~/tmp">~/tmp</a></b>  already  exists  as  a directory, then Docker will copy the contents of
       <b>/tmp/foo</b> from the container into a directory at <b><a href="file:~/tmp/foo">~/tmp/foo</a></b>.

       When copying a single file to an  existing  <b>LOCALPATH</b>,  the  <b>docker</b>  <b>container</b>  <b>cp</b>  command  will  either
       overwrite  the  contents  of  <b>LOCALPATH</b>  if it is a file or place it into <b>LOCALPATH</b> if it is a directory,
       overwriting an existing file of the same name if one exists. For example, this command:

       $ docker container cp sharp_ptolemy:/tmp/foo/myfile.txt /test

       If <b>/test</b> does not exist on the local machine, it  will  be  created  as  a  file  with  the  contents  of
       <b>/tmp/foo/myfile.txt</b>  from  the  container.  If <b>/test</b> exists as a file, it will be overwritten. Lastly, if
       <b>/test</b> exists as a directory, the file will be copied to <b>/test/myfile.txt</b>.

       Next, suppose you want to copy a file  or  folder  into  a  container.  For  example,  this  could  be  a
       configuration  file or some other input to a long running computation that you would like to place into a
       created container before it starts. This is useful because it does not require the configuration file  or
       other input to exist in the container image.

       If  you  have  a  file, <b>config.yml</b>, in the current directory on your local host and wish to copy it to an
       existing directory at <b>/etc/my-app.d</b> in a container, this command can be used:

       $ docker container cp config.yml myappcontainer:/etc/my-app.d

       If you have several files in a local directory <b>/config</b> which you need to copy  to  a  directory  <b>/etc/my-</b>
       <b>app.d</b> in a container:

       $ docker container cp /config/. myappcontainer:/etc/my-app.d

       The  above command will copy the contents of the local <b>/config</b> directory into the directory <b>/etc/my-app.d</b>
       in the container.

       Finally, if you want to copy a symbolic link into a container, you typically want  to   copy  the  linked
       target and not the link itself. To copy the target, use the <b>-L</b> option, for example:

       $ ln -s /tmp/somefile /tmp/somefile.ln
       $ docker container cp -L /tmp/somefile.ln myappcontainer:<a href="file:/tmp/">/tmp/</a>

       This  command  copies content of the local <b>/tmp/somefile</b> into the file <b>/tmp/somefile.ln</b> in the container.
       Without <b>-L</b> option, the <b>/tmp/somefile.ln</b> preserves its symbolic link but not its content.

</pre><h4><b>OPTIONS</b></h4><pre>
       <b>-a</b>, <b>--archive</b>[=false]      Archive mode (copy all uid/gid information)

       <b>-L</b>, <b>--follow-link</b>[=false]      Always follow symbol link in SRC_PATH

       <b>-h</b>, <b>--help</b>[=false]      help for cp

       <b>-q</b>,  <b>--quiet</b>[=false]       Suppress  progress  output  during  copy.  Progress  output  is  automatically
       suppressed if no terminal is attached

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man1/docker-container.1.html">docker-container</a>(1)</b>

Docker Community                                    Feb 2025                                           <u><a href="../man1/DOCKER.1.html">DOCKER</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>