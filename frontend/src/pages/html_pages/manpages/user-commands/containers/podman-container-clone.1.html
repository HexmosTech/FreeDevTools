<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>podman-container-clone - Create a copy of an existing container</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/podman">podman_5.4.1+ds1-1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       podman-container-clone - Create a copy of an existing container

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>podman</b> <b>container</b> <b>clone</b> [<u>options</u>] <u>container</u> <u>name</u> <u>image</u>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>podman</b>  <b>container</b>  <b>clone</b>  creates  a  copy  of  a  container,  recreating  the original with an identical
       configuration. This command takes three arguments: the first being the container ID or name to clone, the
       second argument in this command can change the name of the clone  from  the  default  of  $ORIGINAL_NAME-
       clone, and the third is a new image to use in the cloned container.

</pre><h4><b>OPTIONS</b></h4><pre>
   <b>--blkio-weight=</b><u><b>weight</b></u>
       Block IO relative weight. The <u>weight</u> is a value between <b>10</b> and <b>1000</b>.

       This option is not supported on cgroups V1 rootless systems.

   <b>--blkio-weight-device=</b><u><b>device:weight</b></u>
       Block IO relative device weight.

   <b>--cpu-period=</b><u><b>limit</b></u>
       Set the CPU period for the Completely Fair Scheduler (CFS), which is a duration in microseconds. Once the
       container's CPU quota is used up, it will not be scheduled to run until the current period ends. Defaults
       to 100000 microseconds.

       On  some  systems,  changing the resource limits may not be allowed for non-root users. For more details,
       see         https://github.com/containers/podman/blob/main/troubleshooting.md#26-running-containers-with-
       resource-limits-fails-with-a-permissions-error

       This option is not supported on cgroups V1 rootless systems.

       If none is specified, the original container's cpu period is used

   <b>--cpu-quota=</b><u><b>limit</b></u>
       Limit the CPU Completely Fair Scheduler (CFS) quota.

       Limit  the  container's  CPU usage. By default, containers run with the full CPU resource. The limit is a
       number in microseconds. If a number is provided, the container is allowed to use that much CPU time until
       the CPU period ends (controllable via <b>--cpu-period</b>).

       On some systems, changing the resource limits may not be allowed for non-root users.  For  more  details,
       see         https://github.com/containers/podman/blob/main/troubleshooting.md#26-running-containers-with-
       resource-limits-fails-with-a-permissions-error

       This option is not supported on cgroups V1 rootless systems.

       If none is specified, the original container's CPU quota are used.

   <b>--cpu-rt-period=</b><u><b>microseconds</b></u>
       Limit the CPU real-time period in microseconds.

       Limit the container's Real Time CPU usage. This option tells the kernel to restrict the container's  Real
       Time CPU usage to the period specified.

       This option is only supported on cgroups V1 rootful systems.

       If none is specified, the original container's CPU runtime period is used.

   <b>--cpu-rt-runtime=</b><u><b>microseconds</b></u>
       Limit the CPU real-time runtime in microseconds.

       Limit  the  containers Real Time CPU usage. This option tells the kernel to limit the amount of time in a
       given CPU period Real Time tasks may consume. Ex: Period of 1,000,000us and Runtime  of  950,000us  means
       that this container can consume 95% of available CPU and leave the remaining 5% to normal priority tasks.

       The sum of all runtimes across containers cannot exceed the amount allotted to the parent cgroup.

       This option is only supported on cgroups V1 rootful systems.

   <b>--cpu-shares,</b> <b>-c=</b><u><b>shares</b></u>
       CPU shares (relative weight).

       By  default,  all  containers  get  the same proportion of CPU cycles. This proportion can be modified by
       changing the container's CPU share  weighting  relative  to  the  combined  weight  of  all  the  running
       containers.  Default weight is <b>1024</b>.

       The  proportion  only  applies when CPU-intensive processes are running.  When tasks in one container are
       idle, other containers can use the left-over CPU time. The actual amount of CPU time varies depending  on
       the number of containers running on the system.

       For  example,  consider  three  containers,  one  has a cpu-share of 1024 and two others have a cpu-share
       setting of 512. When processes in all three containers attempt to use 100% of CPU,  the  first  container
       receives  50%  of  the total CPU time. If a fourth container is added with a cpu-share of 1024, the first
       container only gets 33% of the CPU. The remaining containers receive 16.5%, 16.5% and 33% of the CPU.

       On a multi-core system, the shares of CPU time are distributed over all CPU cores. Even if a container is
       limited to less than 100% of CPU time, it can use 100% of each individual CPU core.

       For example, consider a system with more than three cores.  If the container <u>C0</u> is  started  with  <b>--cpu-</b>
       <b>shares=512</b>  running  one  process, and another container <u>C1</u> with <b>--cpu-shares=1024</b> running two processes,
       this can result in the following division of CPU shares:

       ┌─────┬───────────┬─────┬──────────────┐
       │ <b>PID</b> │ <b>container</b> │ <b>CPU</b> │ <b>CPU</b> <b>share</b>    │
       ├─────┼───────────┼─────┼──────────────┤
       │ 100 │ C0        │ 0   │ 100% of CPU0 │
       ├─────┼───────────┼─────┼──────────────┤
       │ 101 │ C1        │ 1   │ 100% of CPU1 │
       ├─────┼───────────┼─────┼──────────────┤
       │ 102 │ C1        │ 2   │ 100% of CPU2 │
       └─────┴───────────┴─────┴──────────────┘

       On some systems, changing the resource limits may not be allowed for non-root users.  For  more  details,
       see         https://github.com/containers/podman/blob/main/troubleshooting.md#26-running-containers-with-
       resource-limits-fails-with-a-permissions-error

       This option is not supported on cgroups V1 rootless systems.

       If none are specified, the original container's CPU shares are used.

   <b>--cpus</b>
       Set a number of CPUs for the container that overrides the original containers CPU  limits.  If  none  are
       specified, the original container's Nano CPUs are used.

       This  is  shorthand  for <b>--cpu-period</b> and <b>--cpu-quota</b>, so only <b>--cpus</b> or either both the <b>--cpu-period</b> and
       <b>--cpu-quota</b> options can be set.

       This option is not supported on cgroups V1 rootless systems.

   <b>--cpuset-cpus=</b><u><b>number</b></u>
       CPUs in which to allow execution. Can be specified as a comma-separated list (e.g. <b>0,1</b>), as a range (e.g.
       <b>0-3</b>), or any combination thereof (e.g. <b>0-3,7,11-15</b>).

       On some systems, changing the resource limits may not be allowed for non-root users.  For  more  details,
       see         https://github.com/containers/podman/blob/main/troubleshooting.md#26-running-containers-with-
       resource-limits-fails-with-a-permissions-error

       This option is not supported on cgroups V1 rootless systems.

       If none are specified, the original container's CPUset is used.

   <b>--cpuset-mems=</b><u><b>nodes</b></u>
       Memory nodes (MEMs) in which to allow execution (0-3, 0,1). Only effective on NUMA systems.

       If there are four memory nodes on the system (0-3), use <b>--cpuset-mems=0,1</b> then processes in the container
       only uses memory from the first two memory nodes.

       On some systems, changing the resource limits may not be allowed for non-root users.  For  more  details,
       see         https://github.com/containers/podman/blob/main/troubleshooting.md#26-running-containers-with-
       resource-limits-fails-with-a-permissions-error

       This option is not supported on cgroups V1 rootless systems.

       If none are specified, the original container's CPU memory nodes are used.

   <b>--destroy</b>
       Remove the original container that we are cloning once used to mimic the configuration.

   <b>--device-read-bps=</b><u><b>path:rate</b></u>
       Limit read rate (in bytes per second) from a device (e.g. <b>--device-read-bps=/dev/sda:1mb</b>).

       On some systems, changing the resource limits may not be allowed for non-root users.  For  more  details,
       see         https://github.com/containers/podman/blob/main/troubleshooting.md#26-running-containers-with-
       resource-limits-fails-with-a-permissions-error

       This option is not supported on cgroups V1 rootless systems.

   <b>--device-write-bps=</b><u><b>path:rate</b></u>
       Limit write rate (in bytes per second) to a device (e.g. <b>--device-write-bps=/dev/sda:1mb</b>).

       On some systems, changing the resource limits may not be allowed for non-root users.  For  more  details,
       see         https://github.com/containers/podman/blob/main/troubleshooting.md#26-running-containers-with-
       resource-limits-fails-with-a-permissions-error

       This option is not supported on cgroups V1 rootless systems.

   <b>--force,</b> <b>-f</b>
       Force removal of the original container that we are  cloning.  Can  only  be  used  in  conjunction  with
       <b>--destroy</b>.

   <b>--memory,</b> <b>-m=</b><u><b>number[unit]</b></u>
       Memory limit. A <u>unit</u> can be <b>b</b> (bytes), <b>k</b> (kibibytes), <b>m</b> (mebibytes), or <b>g</b> (gibibytes).

       Allows  the memory available to a container to be constrained. If the host supports swap memory, then the
       <b>-m</b> memory setting can be larger than physical RAM. If a limit of 0  is  specified  (not  using  <b>-m</b>),  the
       container's  memory  is  not  limited.  The actual limit may be rounded up to a multiple of the operating
       system's page size (the value is very large, that's millions of trillions).

       This option is not supported on cgroups V1 rootless systems.

       If no memory limits are specified, the original container's memory limits are used.

   <b>--memory-reservation=</b><u><b>number[unit]</b></u>
       Memory soft limit. A <u>unit</u> can be <b>b</b> (bytes), <b>k</b> (kibibytes), <b>m</b> (mebibytes), or <b>g</b> (gibibytes).

       After setting memory reservation, when the system detects memory contention or low memory, containers are
       forced to restrict their consumption to their reservation.  So  always  set  the  value  below  <b>--memory</b>,
       otherwise the hard limit takes precedence. By default, memory reservation is the same as memory limit.

       This option is not supported on cgroups V1 rootless systems.

       If unspecified, memory reservation is the same as memory limit from the container being cloned.

   <b>--memory-swap=</b><u><b>number[unit]</b></u>
       A  limit  value  equal  to memory plus swap.  A <u>unit</u> can be <b>b</b> (bytes), <b>k</b> (kibibytes), <b>m</b> (mebibytes), or <b>g</b>
       (gibibytes).

       Must be used with the <b>-m</b> (<b>--memory</b>) flag.  The argument value must be larger than that of
        <b>-m</b> (<b>--memory</b>) By default, it is set to double the value of <b>--memory</b>.

       Set <u>number</u> to <b>-1</b> to enable unlimited swap.

       This option is not supported on cgroups V1 rootless systems.

       If unspecified, the container being cloned is used to derive the swap value.

   <b>--memory-swappiness=</b><u><b>number</b></u>
       Tune a container's memory swappiness behavior. Accepts an integer between <u>0</u> and <u>100</u>.

       This flag is only supported on cgroups V1 rootful systems.

   <b>--name</b>
       Set a  custom  name  for  the  cloned  container.  The  default  if  not  specified  is  of  the  syntax:
       <b>&lt;ORIGINAL_NAME&gt;-clone</b>

   <b>--pod=</b><u><b>name</b></u>
       Clone  the  container  in  an  existing  pod.  It is helpful to move a container to an existing pod.  The
       container joins the pod shared namespaces, losing  its  configuration  that  conflicts  with  the  shared
       namespaces.

   <b>--run</b>
       When  set to true, this flag runs the newly created container after the clone process has completed, this
       specifies a detached running mode.

</pre><h4><b>EXAMPLES</b></h4><pre>
       Clone specified container into a new container:

       # podman container clone d0cf1f782e2ed67e8c0050ff92df865a039186237a4df24d7acba5b1fa8cc6e7
       6b2c73ff8a1982828c9ae2092954bcd59836a131960f7e05221af9df5939c584

       Clone specified container into a newly named container:

       # podman container clone --name=clone d0cf1f782e2ed67e8c0050ff92df865a039186237a4df24d7acba5b1fa8cc6e7
       6b2c73ff8a1982828c9ae2092954bcd59836a131960f7e05221af9df5939c584

       Replace specified container with selected resource constraints into a new  container,  removing  original
       container:

       # podman container clone --destroy --cpus=5 d0cf1f782e2ed67e8c0050ff92df865a039186237a4df24d7acba5b1fa8cc6e7
       6b2c73ff8a1982828c9ae2092954bcd59836a131960f7e05221af9df5939c584

       Clone  specified  container giving a new name and then replacing the image of the original container with
       the specified image name:

       # podman container clone 2d4d4fca7219b4437e0d74fcdc272c4f031426a6eacd207372691207079551de new_name fedora
       Resolved "fedora" as an alias (/etc/containers/registries.conf.d/shortnames.conf)
       Trying to pull registry.fedoraproject.org/fedora:latest...
       Getting image source signatures
       Copying blob c6183d119aa8 done
       Copying config e417cd49a8 done
       Writing manifest to image destination
       Storing signatures
       5a9b7851013d326aa4ac4565726765901b3ecc01fcbc0f237bc7fd95588a24f9

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man1/podman-create.1.html">podman-create</a>(1)</b>, <b><a href="../man7/cgroups.7.html">cgroups</a>(7)</b>

</pre><h4><b>HISTORY</b></h4><pre>
       January 2022, Originally written by Charlie Doern <a href="mailto:cdoern@redhat.com">cdoern@redhat.com</a> ⟨<a href="mailto:cdoern@redhat.com">mailto:cdoern@redhat.com</a>⟩

                                                                                       <u><a href="../man1/podman-container-clone.1.html">podman-container-clone</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>