<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>docker-container-update - Update configuration of one or more containers</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/jammy/+package/docker.io">docker.io_27.5.1-0ubuntu3~22.04.2_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       docker-container-update - Update configuration of one or more containers

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>docker</b> <b>container</b> <b>update</b> <b>[OPTIONS]</b> <b>CONTAINER</b> <b>[CONTAINER...]</b>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The  <b>docker</b>  <b>container</b>  <b>update</b>  command  dynamically  updates  container configuration.  You can use this
       command to prevent containers from consuming too many resources from their Docker host.   With  a  single
       command,  you  can  place  limits  on  a single container or on many. To specify more than one container,
       provide space-separated list of container names or IDs.

       With the exception of the <b>--kernel-memory</b> option, you can specify these options on a running or a stopped
       container. On kernel version older than 4.6, You can only update <b>--kernel-memory</b> on a  stopped  container
       or on a running container with kernel memory initialized.

</pre><h4><b>OPTIONS</b></h4><pre>
</pre><h4><b>kernel-memory</b></h4><pre>
       Kernel memory limit (format: <b>&lt;number&gt;[&lt;unit&gt;]</b>, where unit = b, k, m or g)

       Note  that  on  kernel version older than 4.6, you can not update kernel memory on a running container if
       the container is started without kernel memory initialized, in this case, it can only  be  updated  after
       it's stopped. The new setting takes effect when the container is started.

</pre><h4><b>memory</b></h4><pre>
       Memory limit (format: , where unit = b, k, m or g)

       Note  that  the  memory  should  be smaller than the already set swap memory limit.  If you want update a
       memory limit bigger than the already set swap memory limit, you should update swap memory  limit  at  the
       same time. If you don't set swap memory limit on docker create/run but only memory limit, the swap memory
       is double the memory limit.

</pre><h4><b>EXAMPLES</b></h4><pre>
       The following sections illustrate ways to use this command.

   <b>Update</b> <b>a</b> <b>container's</b> <b>cpu-shares</b>
       To  limit a container's cpu-shares to 512, first identify the container name or ID. You can use <b>docker</b> <b>ps</b>
       to find these values. You can also use the ID returned  from  the  <b>docker</b>  <b>run</b>  command.   Then,  do  the
       following:

       $ docker container update --cpu-shares 512 abebf7571666

   <b>Update</b> <b>a</b> <b>container</b> <b>with</b> <b>cpu-shares</b> <b>and</b> <b>memory</b>
       To update multiple resource configurations for multiple containers:

       $ docker container update --cpu-shares 512 -m 300M abebf7571666 hopeful_morse

   <b>Update</b> <b>a</b> <b>container's</b> <b>kernel</b> <b>memory</b> <b>constraints</b>
       You  can  update  a  container's  kernel memory limit using the <b>--kernel-memory</b> option. On kernel version
       older than 4.6, this option can be updated on a running container only if the container was started  with
       <b>--kernel-memory</b>.   If  the  container  was started <u>without</u> <b>--kernel-memory</b> you need to stop the container
       before updating kernel memory.

       NOTE: The <b>--kernel-memory</b> option has been deprecated since Docker 20.10.

       For example, if you started a container with this command:

       $ docker run -dit --name test --kernel-memory 50M ubuntu bash

       You can update kernel memory while the container is running:

       $ docker container update --kernel-memory 80M test

       If you started a container <u>without</u> kernel memory initialized:

       $ docker run -dit --name test2 --memory 300M ubuntu bash

       Update kernel memory of running container <b>test2</b> will fail. You need to stop the container before updating
       the <b>--kernel-memory</b> setting. The next time you start it, the container uses the new value.

       Kernel version newer than (include) 4.6 does not have this limitation, you can  use  <b>--kernel-memory</b>  the
       same way as other options.

   <b>Update</b> <b>a</b> <b>container's</b> <b>restart</b> <b>policy</b>
       You  can  change a container's restart policy on a running container. The new restart policy takes effect
       instantly after you run <b>docker</b> <b>container</b> <b>update</b> on a container.

       To update restart policy for one or more containers:

       $ docker container update --restart=on-failure:3 abebf7571666 hopeful_morse

       Note that if the container is started with "--rm" flag, you cannot update the restart policy for it.  The
       <b>AutoRemove</b> and <b>RestartPolicy</b> are mutually exclusive for the container.

</pre><h4><b>OPTIONS</b></h4><pre>
       <b>--blkio-weight</b>=0      Block IO (relative weight), between 10 and 1000, or 0 to disable (default 0)

       <b>--cpu-period</b>=0      Limit CPU CFS (Completely Fair Scheduler) period

       <b>--cpu-quota</b>=0      Limit CPU CFS (Completely Fair Scheduler) quota

       <b>--cpu-rt-period</b>=0      Limit the CPU real-time period in microseconds

       <b>--cpu-rt-runtime</b>=0      Limit the CPU real-time runtime in microseconds

       <b>-c</b>, <b>--cpu-shares</b>=0      CPU shares (relative weight)

       <b>--cpus</b>=      Number of CPUs

       <b>--cpuset-cpus</b>=""      CPUs in which to allow execution (0-3, 0,1)

       <b>--cpuset-mems</b>=""      MEMs in which to allow execution (0-3, 0,1)

       <b>-h</b>, <b>--help</b>[=false]      help for update

       <b>-m</b>, <b>--memory</b>=0      Memory limit

       <b>--memory-reservation</b>=0      Memory soft limit

       <b>--memory-swap</b>=0      Swap limit equal to memory plus swap: -1 to enable unlimited swap

       <b>--pids-limit</b>=0      Tune container pids limit (set -1 for unlimited)

       <b>--restart</b>=""      Restart policy to apply when a container exits

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man1/docker-container.1.html">docker-container</a>(1)</b>

Docker Community                                    Feb 2025                                           <u><a href="../man1/DOCKER.1.html">DOCKER</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>