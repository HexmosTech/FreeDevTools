<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Buildah - A command line tool that facilitates building OCI container images.</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/buildah">buildah_1.39.3+ds1-1syncable1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       Buildah - A command line tool that facilitates building OCI container images.

</pre><h4><b>SYNOPSIS</b></h4><pre>
       buildah [OPTIONS] COMMAND [ARG...]

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The Buildah package provides a command line tool which can be used to:

       * Create a working container, either from scratch or using an image as a starting point.
       * Mount a working container's root filesystem for manipulation.
       * Unmount a working container's root filesystem.
       * Use the updated contents of a container's root filesystem as a filesystem layer to create a new image.
       * Delete a working container or an image.
       * Rename a local container.

</pre><h4><b>OPTIONS</b></h4><pre>
       <b>--cgroup-manager</b>=<u>manager</u>

       The  CGroup  manager  to  use for container cgroups. Supported values are cgroupfs or systemd. Default is
       systemd unless overridden in the containers.conf file.

       Note: Setting this flag can cause certain commands to break when called on containers previously  created
       by  the  other  CGroup  manager  type.  Note: CGroup manager is not supported in rootless mode when using
       CGroups Version V1.

       <b>--log-level</b> <b>value</b>

       The log level to be used.  Either  "trace",  "debug",  "info",  "warn",  "error",  "fatal",  or  "panic",
       defaulting to "warn".

       <b>--help,</b> <b>-h</b>

       Show help

       <b>--registries-conf</b> <u>path</u>

       Pathname  of  the  configuration file which specifies which container registries should be consulted when
       completing image names which do not include a registry or domain portion.  It  is  not  recommended  that
       this   option   be   used,   as   the   default   behavior   of   using   the  system-wide  configuration
       (<u>/etc/containers/registries.conf</u>) is most often preferred.

       <b>--registries-conf-dir</b> <u>path</u>

       Pathname of the directory which contains configuration snippets which specify registries which should  be
       consulted  when  completing  image  names  which  do not include a registry or domain portion.  It is not
       recommended that this option be used, as the default behavior  of  using  the  system-wide  configuration
       (<u>/etc/containers/registries.d</u>) is most often preferred.

       <b>--root</b> <b>value</b>

       Storage       root       dir       (default:      "/var/lib/containers/storage"      for      UID      0,
       "$HOME/.local/share/containers/storage"  for  other  users)   Default   root   dir   is   configured   in
       /etc/containers/storage.conf

       <b>--runroot</b> <b>value</b>

       Storage  state  dir  (default:  "/run/containers/storage"  for  UID  0, "<a href="file:/run/user/">/run/user/</a>$UID" for other users)
       Default state dir is configured in /etc/containers/storage.conf

       <b>--short-name-alias-conf</b> <u>path</u>

       Pathname of the file which contains cached mappings between short image  names  and  their  corresponding
       fully-qualified  names.   It  is  used  for mapping from names of images specified using short names like
       "ubi8" which don't include a registry component and a corresponding fully-specified name which includes a
       registry and any other components, such as "registry.access.redhat.com/ubi8".  It is not recommended that
       this option be used, as the default behavior of using the system-wide cache (<u>/var/cache/containers/short-</u>
       <u>name-aliases.conf</u>) or  per-user  cache  (<u>$HOME/.cache/containers/short-name-aliases.conf</u>)  to  supplement
       system-wide defaults is most often preferred.

       <b>--storage-driver</b> <b>value</b>

       Storage  driver.   The  default  storage  driver  for UID 0 is configured in /etc/containers/storage.conf
       (<b>$HOME/.config/containers/storage.conf</b> in rootless mode), and is <u>vfs</u> for other users.  The <b>STORAGE_DRIVER</b>
       environment variable overrides the default.  The --storage-driver specified driver overrides all.

       Examples: "overlay", "vfs"

       Overriding this option will cause the <u>storage-opt</u> settings in /etc/containers/storage.conf to be ignored.
       The user must specify additional options via the <b>--storage-opt</b> flag.

       <b>--storage-opt</b> <b>value</b>

       Storage driver option, Default storage driver  options  are  configured  in  /etc/containers/storage.conf
       (<b>$HOME/.config/containers/storage.conf</b> in rootless mode). The <b>STORAGE_OPTS</b> environment variable overrides
       the default. The --storage-opt specified options overrides all.

       <b>--userns-gid-map</b> <u>mapping</u>

       Directly  specifies  a GID mapping which should be used to set ownership, at the filesystem level, on the
       working container's contents.  Commands run when handling <b>RUN</b> instructions will default to being  run  in
       their own user namespaces, configured using the UID and GID maps.

       Entries  in this map take the form of one or more colon-separated triples of a starting in-container GID,
       a corresponding starting host-level  GID,  and  the  number  of  consecutive  IDs  which  the  map  entry
       represents.

       This option overrides the <u>remap-gids</u> setting in the <u>options</u> section of /etc/containers/storage.conf.

       If  this  option  is  not specified, but a global --userns-gid-map setting is supplied, settings from the
       global option will be used.

       If  none  of  --userns-uid-map-user,  --userns-gid-map-group,  or  --userns-gid-map  are  specified,  but
       --userns-uid-map is specified, the GID map will be set to use the same numeric values as the UID map.

       <b>NOTE:</b>  When  this  option  is  specified  by  a rootless user, the specified mappings are relative to the
       rootless usernamespace in the container, rather than being relative to the host as it would be  when  run
       rootful.

       <b>--userns-uid-map</b> <u>mapping</u>

       Directly  specifies  a UID mapping which should be used to set ownership, at the filesystem level, on the
       working container's contents.  Commands run when handling <b>RUN</b> instructions will default to being  run  in
       their own user namespaces, configured using the UID and GID maps.

       Entries  in this map take the form of one or more colon-separated triples of a starting in-container UID,
       a corresponding starting host-level  UID,  and  the  number  of  consecutive  IDs  which  the  map  entry
       represents.

       This option overrides the <u>remap-uids</u> setting in the <u>options</u> section of /etc/containers/storage.conf.

       If  this  option  is  not specified, but a global --userns-uid-map setting is supplied, settings from the
       global option will be used.

       If  none  of  --userns-uid-map-user,  --userns-gid-map-group,  or  --userns-uid-map  are  specified,  but
       --userns-gid-map is specified, the UID map will be set to use the same numeric values as the GID map.

       <b>NOTE:</b>  When  this  option  is  specified  by  a rootless user, the specified mappings are relative to the
       rootless usernamespace in the container, rather than being relative to the host as it would be  when  run
       rootful.

       <b>--version</b>, <b>-v</b>

       Print the version

</pre><h4><b>Environment</b> <b>Variables</b></h4><pre>
       Buildah   can   set  up  environment  variables  from  the  env  entry  in  the  [engine]  table  in  the
       <a href="../man5/containers.conf.5.html">containers.conf</a>(5). These variables can be overridden by passing environment variables before the <b>buildah</b>
       commands.

</pre><h4><b>COMMANDS</b></h4><pre>
       ┌────────────┬───────────────────────┬────────────────────────────────┐
       │ <b>Command</b>    │ <b>Man</b> <b>Page</b>              │ <b>Description</b>                    │
       ├────────────┼───────────────────────┼────────────────────────────────┤
       │ add        │ <a href="../man1/buildah-add.1.html">buildah-add</a>(1)        │ Add the contents  of  a  file, │
       │            │                       │ URL,  or  a  directory  to the │
       │            │                       │ container.                     │
       ├────────────┼───────────────────────┼────────────────────────────────┤
       │ build      │ <a href="../man1/buildah-build.1.html">buildah-build</a>(1)      │ Builds  an  OCI  image   using │
       │            │                       │ instructions  in  one  or more │
       │            │                       │ Containerfiles.                │
       ├────────────┼───────────────────────┼────────────────────────────────┤
       │ commit     │ <a href="../man1/buildah-commit.1.html">buildah-commit</a>(1)     │ Create an image from a working │
       │            │                       │ container.                     │
       ├────────────┼───────────────────────┼────────────────────────────────┤
       │ config     │ <a href="../man1/buildah-config.1.html">buildah-config</a>(1)     │ Update   image   configuration │
       │            │                       │ settings.                      │
       ├────────────┼───────────────────────┼────────────────────────────────┤
       │ containers │ <a href="../man1/buildah-containers.1.html">buildah-containers</a>(1) │ List  the  working  containers │
       │            │                       │ and their base images.         │
       ├────────────┼───────────────────────┼────────────────────────────────┤
       │ copy       │ <a href="../man1/buildah-copy.1.html">buildah-copy</a>(1)       │ Copies the contents of a file, │
       │            │                       │ URL,  or  directory   into   a │
       │            │                       │ container's working directory. │
       ├────────────┼───────────────────────┼────────────────────────────────┤
       │ from       │ <a href="../man1/buildah-from.1.html">buildah-from</a>(1)       │ Creates    a    new    working │
       │            │                       │ container, either from scratch │
       │            │                       │ or using a specified image  as │
       │            │                       │ a starting point.              │
       ├────────────┼───────────────────────┼────────────────────────────────┤
       │ images     │ <a href="../man1/buildah-images.1.html">buildah-images</a>(1)     │ List images in local storage.  │
       ├────────────┼───────────────────────┼────────────────────────────────┤
       │ info       │ <a href="../man1/buildah-info.1.html">buildah-info</a>(1)       │ Display     Buildah     system │
       │            │                       │ information.                   │
       ├────────────┼───────────────────────┼────────────────────────────────┤
       │ inspect    │ <a href="../man1/buildah-inspect.1.html">buildah-inspect</a>(1)    │ Inspects the configuration  of │
       │            │                       │ a container or image           │
       ├────────────┼───────────────────────┼────────────────────────────────┤
       │ login      │ <a href="../man1/buildah-login.1.html">buildah-login</a>(1)      │ Login to a container registry. │
       ├────────────┼───────────────────────┼────────────────────────────────┤
       │ logout     │ <a href="../man1/buildah-logout.1.html">buildah-logout</a>(1)     │ Logout of a container registry │
       ├────────────┼───────────────────────┼────────────────────────────────┤
       │ manifest   │ <a href="../man1/buildah-manifest.1.html">buildah-manifest</a>(1)   │ Create and manipulate manifest │
       │            │                       │ lists and image indexes.       │
       ├────────────┼───────────────────────┼────────────────────────────────┤
       │ mkcw       │ <a href="../man1/buildah-mkcw.1.html">buildah-mkcw</a>(1)       │ Convert     a     conventional │
       │            │                       │ container   image    into    a │
       │            │                       │ confidential workload image.   │
       ├────────────┼───────────────────────┼────────────────────────────────┤
       │ mount      │ <a href="../man1/buildah-mount.1.html">buildah-mount</a>(1)      │ Mount  the working container's │
       │            │                       │ root filesystem.               │
       ├────────────┼───────────────────────┼────────────────────────────────┤
       │ prune      │ <a href="../man1/buildah-prune.1.html">buildah-prune</a>(1)      │ Cleanup intermediate images as │
       │            │                       │ well as build and mount cache. │
       ├────────────┼───────────────────────┼────────────────────────────────┤
       │ pull       │ <a href="../man1/buildah-pull.1.html">buildah-pull</a>(1)       │ Pull   an   image   from   the │
       │            │                       │ specified location.            │
       ├────────────┼───────────────────────┼────────────────────────────────┤
       │ push       │ <a href="../man1/buildah-push.1.html">buildah-push</a>(1)       │ Push   an   image  from  local │
       │            │                       │ storage to elsewhere.          │
       ├────────────┼───────────────────────┼────────────────────────────────┤
       │ rename     │ <a href="../man1/buildah-rename.1.html">buildah-rename</a>(1)     │ Rename a local container.      │
       ├────────────┼───────────────────────┼────────────────────────────────┤
       │ rm         │ <a href="../man1/buildah-rm.1.html">buildah-rm</a>(1)         │ Removes one  or  more  working │
       │            │                       │ containers.                    │
       ├────────────┼───────────────────────┼────────────────────────────────┤
       │ rmi        │ <a href="../man1/buildah-rmi.1.html">buildah-rmi</a>(1)        │ Removes one or more images.    │
       ├────────────┼───────────────────────┼────────────────────────────────┤
       │ run        │ <a href="../man1/buildah-run.1.html">buildah-run</a>(1)        │ Run  a  command  inside of the │
       │            │                       │ container.                     │
       ├────────────┼───────────────────────┼────────────────────────────────┤
       │ source     │ <a href="../man1/buildah-source.1.html">buildah-source</a>(1)     │ Create, push, pull and  manage │
       │            │                       │ source  images  and associated │
       │            │                       │ source artifacts.              │
       ├────────────┼───────────────────────┼────────────────────────────────┤
       │ tag        │ <a href="../man1/buildah-tag.1.html">buildah-tag</a>(1)        │ Add an additional  name  to  a │
       │            │                       │ local image.                   │
       ├────────────┼───────────────────────┼────────────────────────────────┤
       │ umount     │ <a href="../man1/buildah-umount.1.html">buildah-umount</a>(1)     │ Unmount  a working container's │
       │            │                       │ root file system.              │
       ├────────────┼───────────────────────┼────────────────────────────────┤
       │ unshare    │ <a href="../man1/buildah-unshare.1.html">buildah-unshare</a>(1)    │ Launch a  command  in  a  user │
       │            │                       │ namespace   with  modified  ID │
       │            │                       │ mappings.                      │
       ├────────────┼───────────────────────┼────────────────────────────────┤
       │ version    │ <a href="../man1/buildah-version.1.html">buildah-version</a>(1)    │ Display  the  Buildah  Version │
       │            │                       │ Information                    │
       └────────────┴───────────────────────┴────────────────────────────────┘

</pre><h4><b>Files</b></h4><pre>
       <b>storage.conf</b> (<b>/etc/containers/storage.conf</b>)

       storage.conf is the storage configuration file for all tools using containers/storage

       The  storage  configuration file specifies all of the available container storage options for tools using
       shared container storage.

       <b>mounts.conf</b> (<b>/usr/share/containers/mounts.conf</b> and optionally <b>/etc/containers/mounts.conf</b>)

       The mounts.conf files specify volume mount files or directories that  are  automatically  mounted  inside
       containers  when  executing  the <b>buildah</b> <b>run</b> or <b>buildah</b> <b>build</b> commands.  Container processes can then use
       this content.  The volume mount content does not get committed to the final image.

       Usually these directories are used for passing secrets or credentials required by the package software to
       access remote package repositories.

       For  example,  a  mounts.conf  with  the  line  "<b>/usr/share/rhel/secrets:/run/secrets</b>",  the  content  of
       <b>/usr/share/rhel/secrets</b>  directory  is  mounted  on  <b>/run/secrets</b>  inside the container.  This mountpoint
       allows Red Hat Enterprise Linux subscriptions from the host to be used within the container.  It is  also
       possible  to  omit  the  destination  if  it's  equal  to  the  source  path.   For  example,  specifying
       <b>/var/lib/secrets</b> will mount the directory into the same container destination path <b>/var/lib/secrets</b>.

       Note this is not a volume mount. The content of the volumes is copied into container  storage,  not  bind
       mounted directly from the host.

       <b>registries.conf</b> (<b>/etc/containers/registries.conf</b>)

       registries.conf  is the configuration file which specifies which container registries should be consulted
       when completing image names which do not include a registry or domain portion.

       <b>registries.d</b> (<b>/etc/containers/registries.d</b>)

       Directory which contains configuration snippets which specify registries which should be  consulted  when
       completing image names which do not include a registry or domain portion.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <a href="../man5/containers.conf.5.html">containers.conf</a>(5), <a href="../man5/containers-mounts.conf.5.html">containers-mounts.conf</a>(5), <a href="../man1/newuidmap.1.html">newuidmap</a>(1), <a href="../man1/newgidmap.1.html">newgidmap</a>(1), <a href="../man5/containers-registries.conf.5.html">containers-registries.conf</a>(5),
       <a href="../man5/containers-storage.conf.5.html">containers-storage.conf</a>(5)

</pre><h4><b>HISTORY</b></h4><pre>
       December 2017, Originally compiled by Tom Sweeney <a href="mailto:tsweeney@redhat.com">tsweeney@redhat.com</a> ⟨<a href="mailto:tsweeney@redhat.com">mailto:tsweeney@redhat.com</a>⟩

buildah                                            March 2017                                         <u><a href="../man1/buildah.1.html">buildah</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>