<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>public-inbox-extindex - create and update external search indices</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/public-inbox">public-inbox_1.9.0-1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       public-inbox-extindex - create and update external search indices

</pre><h4><b>SYNOPSIS</b></h4><pre>
       public-inbox-extindex [OPTIONS] EXTINDEX_DIR INBOX_DIR...

       public-inbox-extindex [OPTIONS] [EXTINDEX_DIR] --all

</pre><h4><b>DESCRIPTION</b></h4><pre>
       public-inbox-extindex creates and updates an external search and overview database used by the read-only
       public-inbox PSGI (HTTP), NNTP, and IMAP interfaces.  This requires either the Search::Xapian XS bindings
       OR the Xapian SWIG bindings, along with DBD::SQLite and DBI Perl modules.

</pre><h4><b>OPTIONS</b></h4><pre>
       -j JOBS
       --jobs=JOBS
       --no-fsync
       --dangerous
       --rethread
       --max-size SIZE
       --batch-size SIZE
           These switches behave as they do for <b><a href="../man1/public-inbox-index.1.html">public-inbox-index</a></b>(1)

       --all
           Index all "publicinbox" entries in "PI_CONFIG".

           "publicinbox"  entries  indexed  by  "public-inbox-extindex" can have full Xapian searching abilities
           with the per-"publicinbox" "indexlevel" set to  "basic"  and  their  respective  Xapian  ("xap15"  or
           "xapian15")  directories  removed.   For  multiple public-inboxes where cross-posting is common, this
           allows significant space savings on Xapian indices.

       --gc
           Perform garbage collection instead of indexing.  Use this if inboxes are removed from  the  extindex,
           or if messages are purged or removed from some inboxes.

       --reindex
           Forces  a  re-index  of  all  messages  in  the extindex.  This can be used for in-place upgrades and
           bugfixes while read-only server processes are utilizing the index.  Keep in mind this roughly doubles
           the size of the already-large Xapian database.

           The  extindex  locks  will  be  released  roughly  every  10s  to   allow   <b><a href="../man1/public-inbox-mda.1.html">public-inbox-mda</a></b>(1)   and
           <b><a href="../man1/public-inbox-watch.1.html">public-inbox-watch</a></b>(1) processes to write to the extindex.

       --fast
           Used  with  "--reindex",  it  will  only look for new and stale entries and not touch already-indexed
           messages.

</pre><h4><b>FILES</b></h4><pre>
       <b><a href="../man5/public-inbox-extindex-format.5.html">public-inbox-extindex-format</a></b>(5)

</pre><h4><b>CONFIGURATION</b></h4><pre>
       public-inbox-extindex does not currently write to the <b><a href="../man5/public-inbox-config.5.html">public-inbox-config</a></b>(5) file, configuration  may  be
       entered  manually.   The  extindex  name of "all" is a special case which corresponds to indexing "--all"
       inboxes.  An example for "--all" is as follows:

               [extindex "all"]
                       topdir = /path/to/extindex_dir
                       url = all
                       coderepo = foo
                       coderepo = bar

       See <b><a href="../man5/public-inbox-config.5.html">public-inbox-config</a></b>(5) for more details.

</pre><h4><b>ENVIRONMENT</b></h4><pre>
       PI_CONFIG
               Used to override the default "<a href="file:~/.public-inbox/config">~/.public-inbox/config</a>" value.

       XAPIAN_FLUSH_THRESHOLD
               The number of documents to update before committing changes to disk.  This environment is handled
               directly by Xapian, refer to Xapian API documentation for more details.

               Setting "XAPIAN_FLUSH_THRESHOLD" or "publicinbox.indexBatchSize"  for  a  large  "--reindex"  may
               cause <b><a href="../man1/public-inbox-mda.1.html">public-inbox-mda</a></b>(1), <b><a href="../man1/public-inbox-learn.1.html">public-inbox-learn</a></b>(1) and <b><a href="../man1/public-inbox-watch.1.html">public-inbox-watch</a></b>(1) tasks to wait long and
               unpredictable periods of time during "--reindex".

               Default: none, uses "publicinbox.indexBatchSize"

</pre><h4><b>UPGRADING</b></h4><pre>
       Occasionally,  public-inbox  will  update  it's  schema  version and require a full index by running this
       command.

</pre><h4><b>CONTACT</b></h4><pre>
       Feedback welcome via plain-text mail to &lt;<a href="mailto:meta@public-inbox.org">mailto:meta@public-inbox.org</a>&gt;

       The      mail      archives      are      hosted      at       &lt;https://public-inbox.org/meta/&gt;       and
       &lt;<a href="http://4uok3hntl7oi7b4uf4rtfwefqeexfzil2w6kgk2jn5z2f764irre7byd.onion/meta/">http://4uok3hntl7oi7b4uf4rtfwefqeexfzil2w6kgk2jn5z2f764irre7byd.onion/meta/</a>&gt;

</pre><h4><b>COPYRIGHT</b></h4><pre>
       Copyright all contributors &lt;<a href="mailto:meta@public-inbox.org">mailto:meta@public-inbox.org</a>&gt;

       License: AGPL-3.0+ &lt;https://www.gnu.org/licenses/agpl-3.0.txt&gt;

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       Search::Xapian, DBD::SQLite

public-inbox.git                                   1993-10-02                           <u><a href="../man1/PUBLIC-INBOX-EXTINDEX.1.html">PUBLIC-INBOX-EXTINDEX</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>