<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>tff_generate_trx_from_scratch.py - generate a TRX file from CSV, TXT or NPY files</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/python3-trx-python">python3-trx-python_0.3-1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       tff_generate_trx_from_scratch.py - generate a TRX file from CSV, TXT or NPY files

</pre><h4><b>DESCRIPTION</b></h4><pre>
       usage: tff_generate_trx_from_scratch.py [-h] [--positions POSITIONS]

       [--offsets OFFSETS]
              [--positions_csv    POSITIONS]    [--space    {RASMM,VOXMM,VOX}]    [--origin    {NIFTI,TRACKVIS}]
              [--positions_dtype {float16,float32,float64}] [--offsets_dtype {uint32,uint64}] [--dpv FILE DTYPE]
              [--dps FILE DTYPE]  [--groups  FILE  DTYPE]  [--dpg  GROUP  FILE  DTYPE]  [--verify_invalid]  [-f]
              reference OUT_TRACTOGRAM

       Generate  TRX  file  from  a  collection  of  CSV, TXT or NPY files by individually specifying positions,
       offsets, data_per_vertex, data_per_streamlines, groups and data_per_group. Each file must have  its  data
       type specified by the users.

       A reference file must be provided (NIFTI) and the option <b>--verify_invalid</b> will remove invalid streamlines
       (outside of the bounding box in VOX space).

       All  dimensions  (nbr_vertices  and  nbr_streamlines) and groups/dpg must match otherwise the script will
       (likely) crash.

       Each instance of <b>--dps</b>, <b>--dpv</b>, <b>--groups</b> require 2 arguments (FILE, DTYPE).  <b>--dpg</b>  requires  3  arguments
       (GROUP, FILE, DTYPE).  The choice of DTYPE are:

              - (u)int8, (u)int16, (u)int32, (u)int64 - float16, float32, float64 - bool

       Example    command:   tff_generate_trx_from_scratch.py   fa.nii.gz   generated.trx   <b>-f</b>       <b>--positions</b>
       test_npy/positions.npy  <b>--positions_dtype</b>  float16      <b>--offsets</b>  test_npy/offsets.npy   <b>--offsets_dtype</b>
       uint32        <b>--dpv</b>    test_npy/dpv_cx.npy    uint8       <b>--dpv</b>   test_npy/dpv_cy.npy   uint8       <b>--dpv</b>
       test_npy/dpv_cz.npy uint8     <b>--dps</b> test_npy/dps_algo.npy  uint8      <b>--dps</b>  test_npy/dps_cw.npy  float64
       <b>--groups</b>    test_npy/g_AF_L.npy   int32       <b>--groups</b>   test_npy/g_AF_R.npy   int32       <b>--dpg</b>   g_AF_L
       test_npy/dpg_AF_L_mean_fa.npy float32     <b>--dpg</b> g_AF_R  test_npy/dpg_AF_R_mean_fa.npy  float32      <b>--dpg</b>
       g_AF_L test_npy/dpg_AF_L_volume.npy float32

   <b>positional</b> <b>arguments:</b>
       reference
              Reference anatomy for tck/vtk/fib/dpy file support (.nii or .nii.gz).

       OUT_TRACTOGRAM
              Output filename. Format must be one of trk, tck, vtk, fib, dpy, trx.

   <b>options:</b>
       <b>-h</b>, <b>--help</b>
              show this help message and exit

       <b>--verify_invalid</b>
              Verify that the positions are all valid.  None outside of the bounding box in VOX space.  Requires
              Dipy (due to use of SFT).

       <b>-f</b>     Force overwriting of the output files.

   <b>Positions</b> <b>options:</b>
       <b>--positions</b> POSITIONS
              Binary file containing the streamlines coordinates.  Must be Nx3 (.npy)

       <b>--offsets</b> OFFSETS
              Binary file containing the streamlines offsets (.npy)

       <b>--positions_csv</b> POSITIONS
              CSV file containing the streamlines coordinates.  Rows for each streamlines organized as x1,y1,z1,
              x2,y2,z2,...,xN,yN,zN

       <b>--space</b> {RASMM,VOXMM,VOX}
              Space in which the coordinates are declared.[RASMM] Non-default option requires Dipy.

       <b>--origin</b> {NIFTI,TRACKVIS}
              Origin in which the coordinates are declared. [NIFTI] Non-default option requires Dipy.

   <b>Data</b> <b>type</b> <b>options:</b>
       <b>--positions_dtype</b> {float16,float32,float64}
              Specify the datatype for positions for trx. [float32]

       <b>--offsets_dtype</b> {uint32,uint64}
              Specify the datatype for offsets for trx. [uint64]

   <b>Streamlines</b> <b>metadata</b> <b>options:</b>
       <b>--dpv</b> FILE DTYPE
              Binary file containing data_per_vertex.  Must haveNB_VERTICES as first dimension (.npy)

       <b>--dps</b> FILE DTYPE
              Binary file containing data_per_vertex.  Must haveNB_STREAMLINES as first dimension (.npy)

       <b>--groups</b> FILE DTYPE
              Binary  file  containing  a  sparse  group (indices).  Indices should be lower than NB_STREAMLINES
              (.npy)

       <b>--dpg</b> GROUP FILE DTYPE
              Binary file containing data_per_group.

              Must have(1,) as first dimension (.npy)

tff_generate_trx_from_scratch.py 0.3                July 2024                <u><a href="../man1/TFF_GENERATE_TRX_FROM_SCRATCH.PY.1.html">TFF_GENERATE_TRX_FROM_SCRATCH.PY</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>