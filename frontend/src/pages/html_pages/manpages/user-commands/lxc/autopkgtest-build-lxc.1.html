<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>autopkgtest-build-lxc - Create or update autopkgtest container for autopkgtest-virt-lxc</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/autopkgtest">autopkgtest_5.47_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       autopkgtest-build-lxc - Create or update autopkgtest container for autopkgtest-virt-lxc

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>autopkgtest-build-lxc</b> [<u>--arch=architecture</u>] [<u>--keyring=path</u>] [<u>--script=path</u>] <u>distribution</u> <u>release</u>

       Deprecated form:

       <b>autopkgtest-build-lxc</b> [<u>options</u>] <u>distribution</u> <u>release</u> <u>architecture</u> [<u>script</u>]

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>autopkgtest-build-lxc</b>  creates  or  updates  an  LXC  container <b>autopkgtest-</b><u>release</u> which is suitable for
       autopkgtest's LXC runner <b><a href="../man1/autopkgtest-virt-lxc.1.html">autopkgtest-virt-lxc</a></b>(1).

       It calls <b>lxc-create</b> with the <u>distribution</u>  template  (which  can  currently  be  <b>debian</b>  or  <b>ubuntu)</b>  <b>and</b>
       <b>-r</b><u>release</u>  to  build  a  debootstrap-like  container,  then enables <b>deb-src</b> apt sources, and runs <b>apt-get</b>
       <b>update</b>.

       If the container already exists, it updates it as unintrusively as  possible  by  first  creating  a  new
       temporary  container <b>autopkgtest-</b><u>release</u><b>.new</b>, and then rsyncing its root file system back to the existing
       <b>autopkgtest-</b><u>release</u>. Note that this could cause some  side-effects  and  breakage  if  you  have  running
       containers  with  ephemeral  overlays  (i. e. using the <b>--ephemeral</b> option), but it does work in general.
       This update process does not interfere at all if you use <b>autopkgtest-virt-lxc</b> with cloning.

       Note that you need to call this as root, unless you set up LXC to allow  per-user  containers.  But  user
       containers will not work with many or even most autopkgtests.

</pre><h4><b>OPTIONS</b></h4><pre>
       <b>--arch=</b><u>ARCH</u>
              Specify a dpkg architecture name.  By default, the native architecture is used.

              The third positional parameter is a deprecated way to specify this.

       <b>--keyring=</b><u>KEYRING</u>

              Specify  the  path  to  a  keyring  used  to verify the apt repository.  By default, the choice of
              keyring will be left to debootstrap.   This  option  is  mainly  useful  for  use  with  a  Debian
              derivative in conjunction with the <b>MIRROR</b> environment variable.

       <b>--script=</b><u>SCRIPT</u>
              Specify  the path to a script to be executed inside the container to customize the container.  The
              script must be a POSIX shell script, and should not depend on bash-specific features.

              The fourth positional parameter is a deprecated way to specify this.

</pre><h4><b>ENVIRONMENT</b></h4><pre>
       If  the   <b>$AUTOPKGTEST_KEEP_APT_SOURCES</b>   environment   variable   is   set   to   a   non-empty   value,
       <b>autopkgtest-build-lxc</b> will keep whatever <b><a href="file:/etc/apt/sources.list">/etc/apt/sources.list</a></b> was created by <b>lxc-create</b>.

       Otherwise,  if  the  <b>$AUTOPKGTEST_APT_SOURCES_FILE</b>  environment variable is set to a non-empty value, for
       example <b>AUTOPKGTEST_APT_SOURCES_FILE=/home/me/mydistro/sources.list</b>, then <b>autopkgtest-build-lxc</b> will read
       that file (on the host system) and use it to populate <b><a href="file:/etc/apt/sources.list">/etc/apt/sources.list</a></b> in the container; or  if  the
       <b>$AUTOPKGTEST_APT_SOURCES</b>   environment   variable   is   set   to   a   non-empty   value,   for  example
       <b>AUTOPKGTEST_APT_SOURCES=$(cat</b>  <b>/home/me/mydistro/sources.list)</b>,  <b>autopkgtest-build-lxc</b>  will   write   it
       directly into <b><a href="file:/etc/apt/sources.list">/etc/apt/sources.list</a></b> in the container.

       When <b>$AUTOPKGTEST_APT_SOURCES_FILE</b> or <b>$AUTOPKGTEST_APT_SOURCES</b> contain sources in the deb822 format, then
       sources  are  written  to  <b><a href="file:/etc/apt/sources.list.d/">/etc/apt/sources.list.d/</a>&lt;distro&gt;.sources</b> in the virtual container, rather than
       <b>/etc/apt/sources.list.</b>

       You can specify an apt proxy to use in the container in the <b>$AUTOPKGTEST_APT_PROXY</b> environment  variable.
       If  you  have  an  apt proxy configured on the host, the container will automatically use this, otherwise
       there is no default.  In case you want to prevent your local proxy  to  be  picked  up  you  can  specify
       <b>UNCONFIGURED</b> as the value for <b>$AUTOPKGTEST_APT_PROXY.</b>

</pre><h4><b>EXAMPLES</b></h4><pre>
       # autopkgtest-build-lxc debian sid

       $ sudo autopkgtest-build-lxc ubuntu trusty i386

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man1/autopkgtest-virt-lxc.1.html">autopkgtest-virt-lxc</a></b>(1), <b><a href="../man1/autopkgtest.1.html">autopkgtest</a></b>(1), <b><a href="../man1/lxc-create.1.html">lxc-create</a></b>(1), <b>/usr/share/doc/autopkgtest/</b>.

</pre><h4><b>AUTHORS</b> <b>AND</b> <b>COPYRIGHT</b></h4><pre>
       <b>autopkgtest-build-lxc</b> was written by Martin Pitt &lt;<a href="mailto:martin.pitt@ubuntu.com">martin.pitt@ubuntu.com</a>&gt;

       This manpage is part of autopkgtest, a tool for testing Debian binary packages.  autopkgtest is Copyright
       (C) 2006-2014 Canonical Ltd and others.

       See <b>/usr/share/doc/autopkgtest/CREDITS</b> for the list of contributors and full copying conditions.

Linux Programmer's Manual                             2014                              <u><a href="../man1/autopkgtest-build-lxc.1.html">autopkgtest-build-lxc</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>