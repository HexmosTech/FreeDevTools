<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>trust - Tool for operating on the trust policy store</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/p11-kit">p11-kit_0.25.5-2ubuntu3_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       trust - Tool for operating on the trust policy store

</pre><h4><b>SYNOPSIS</b></h4><pre>

       <b>trust</b> <b>list</b>

       <b>trust</b> <b>extract</b> --filter=&lt;what&gt; --format=&lt;type&gt; /path/to/destination

       <b>trust</b> <b>anchor</b> /path/to/certificate.crt

       <b>trust</b> <b>dump</b>

       <b>trust</b> <b>check-format</b> /path/to/file.p11-kit...

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>trust</b> is a command line tool to examine and modify the shared trust policy store.

       See the various sub commands below. The following global options can be used:

       <b>-v,</b> <b>--verbose</b>
           Run in verbose mode with debug output.

       <b>-q,</b> <b>--quiet</b>
           Run in quiet mode without warning or failure messages.

</pre><h4><b>LIST</b></h4><pre>
       List trust policy store items.

           $ trust list

       List information about the various items in the trust policy store. Each item is listed with it's PKCS#11
       URI and some descriptive information.

       You can specify the following options to control what to list.

       <b>--filter=&lt;what&gt;</b>
           Specifies what certificates to extract. You can specify the following values:

           <b>ca-anchors</b>
               Certificate anchors

           <b>trust-policy</b>
               Anchors and blocklist (default)

           <b>blocklist</b>
               Distrusted certificates

           <b>certificates</b>
               All certificates

           <b>pkcs11:object=xx</b>
               A PKCS#11 URI to filter with

           If an output format is chosen that cannot support type what has been specified by the filter, a
           message will be printed.

           None of the available formats support storage of blocklist entries that do not contain a full
           certificate. Thus any certificates distrusted by their issuer and serial number alone, are not
           included in the extracted blocklist.

       <b>--purpose=&lt;usage&gt;</b>
           Limit to certificates usable for the given purpose You can specify one of the following values:

           <b>server-auth</b>
               For authenticating servers

           <b>client-auth</b>
               For authenticating clients

           <b>email</b>
               For email protection

           <b>code-signing</b>
               For authenticated signed code

           <b>1.2.3.4.5...</b>
               An arbitrary purpose OID

</pre><h4><b>ANCHOR</b></h4><pre>
       Store or remove trust anchors.

           $ trust anchor /path/to/certificate.crt
           $ trust anchor --remove /path/to/certificate.crt
           $ trust anchor --remove "pkcs11:id=%AA%BB%CC%DD%EE;type=cert"

       Store or remove trust anchors in the trust policy store. These are usually root certificate authorities.

       Specify either the <b>--store</b> or <b>--remove</b> operations. If no operation is specified then <b>--store</b> is assumed.

       When storing, one or more certificate files are expected on the command line. These are stored as
       anchors, unless they are already present.

       When removing an anchor, either specify certificate files or PKCS#11 URI's on the command line. Matching
       anchors will be removed.

       It may be that this command needs to be run as root in order to modify the system trust policy store, if
       no user specific store is available.

       You can specify the following options.

       <b>--remove</b>
           Remove one or more anchors from the trust policy store. Specify certificate files or PKCS#11 URI's on
           the command line.

       <b>--store</b>
           Store one or more anchors to the trust policy store. Specify certificate files on the command line.

</pre><h4><b>EXTRACT</b></h4><pre>
       Extract trust policy from the shared trust policy store.

           $ trust extract --format=x509-directory --filter=ca-anchors /path/to/directory

       You can specify the following options to control what to extract. The <b>--filter</b> and <b>--format</b> arguments
       should be specified. By default this command will not overwrite the destination file or directory.

       <b>--comment</b>
           Add identifying comments to PEM bundle output files before each certificate.

       <b>--filter=&lt;what&gt;</b>
           Specifies what certificates to extract. You can specify the following values:

           <b>ca-anchors</b>
               Certificate anchors (default)

           <b>trust-policy</b>
               Anchors and blocklist

           <b>blocklist</b>
               Distrusted certificates

           <b>certificates</b>
               All certificates

           <b>pkcs11:object=xx</b>
               A PKCS#11 URI

           If an output format is chosen that cannot support type what has been specified by the filter, a
           message will be printed.

           None of the available formats support storage of blocklist entries that do not contain a full
           certificate. Thus any certificates distrusted by their issuer and serial number alone, are not
           included in the extracted blocklist.

       <b>--format=&lt;type&gt;</b>
           The format of the destination file or directory. You can specify one of the following values:

           <b>x509-file</b>
               DER X.509 certificate file

           <b>x509-directory</b>
               directory of X.509 certificates

           <b>pem-bundle</b>
               File containing one or more certificate PEM blocks

           <b>pem-directory</b>
               Directory of PEM files each containing one certificate

           <b>pem-directory-hash</b>
               Directory of PEM files each containing one certificate, with hash symlinks

           <b>openssl-bundle</b>
               OpenSSL specific PEM bundle of certificates

           <b>openssl-directory</b>
               Directory of OpenSSL specific PEM files

           <b>java-cacerts</b>
               Java keystore 'cacerts' certificate bundle

       <b>--overwrite</b>
           Overwrite output file or directory.

       <b>--purpose=&lt;usage&gt;</b>
           Limit to certificates usable for the given purpose You can specify one of the following values:

           <b>server-auth</b>
               For authenticating servers

           <b>client-auth</b>
               For authenticating clients

           <b>email</b>
               For email protection

           <b>code-signing</b>
               For authenticated signed code

           <b>1.2.3.4.5...</b>
               An arbitrary purpose OID

</pre><h4><b>EXTRACT</b> <b>COMPAT</b></h4><pre>
       Extract compatibility trust certificate bundles.

           $ trust extract-compat

       OpenSSL, Java and some versions of GnuTLS cannot currently read trust information directly from the trust
       policy store. This command extracts trust information such as certificate anchors for use by these
       libraries.

       What this command does, and where it extracts the files is distribution or site specific. Packagers or
       administrators are expected customize this command.

</pre><h4><b>DUMP</b></h4><pre>
       Dump PKCS#11 items in the various tokens.

           $ trust dump

       Dump information about the various PKCS#11 items in the tokens. Each item is dumped with it's PKCS#11 URI
       and information in the .p11-kit persistence format.

       You can specify the following options to control what to dump.

       <b>--filter=&lt;what&gt;</b>
           Specifies what certificates to extract. You can specify the following values:

           <b>all</b>
               All objects. This is the default

           <b>pkcs11:object=xx</b>
               A PKCS#11 URI to filter with

</pre><h4><b>CHECK</b> <b>FORMAT</b></h4><pre>
       Check the format of .p11-kit files.

           $ trust check-format /path/to/file.p11-kit...

       Administrators sometimes need to write a custom .p11-kit file to amend the trust information. This is an
       error prone process as the file format is mainly for machine processing. Administrators can use this
       command to check whether a file has a correct .p11-kit format.

       This command takes an arbitrary number of files as an input. Each file is then analysed and any mismatch
       with the .p11-kit format is reported on the standard error output. After the file is processed a check
       result is printed on the standard output.

</pre><h4><b>BUGS</b></h4><pre>
       Please send bug reports to either the distribution bug tracker or the upstream bug tracker at
       <b>https://github.com/p11-glue/p11-kit/issues/</b>.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man8/p11-kit.8.html">p11-kit</a></b>(8)

       An explanatory document about storing trust policy:
       <b>https://p11-glue.github.io/p11-glue/doc/storing-trust-policy/</b>

       Further details available in the p11-kit online documentation at
       <b>https://p11-glue.github.io/p11-glue/p11-kit/manual/</b>.

p11-kit                                                                                                 <u><a href="../man1/TRUST.1.html">TRUST</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>