<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>warp - B-spline nonrigid registration</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/cmtk">cmtk_3.3.1p2+dfsg-2ubuntu1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       warp - B-spline nonrigid registration

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>warp</b> ReferenceImage FloatingImage InitialXform

</pre><h4><b>DESCRIPTION</b></h4><pre>
       This  program  performs  nonrigid  image  registration using multi-resolution optimization of voxel-based
       image similarity measures and a multi-resolution B-spline transformation model.

</pre><h4><b>OPTIONS</b></h4><pre>
   <b>Global</b> <b>Toolkit</b> <b>Options</b> <b>(these</b> <b>are</b> <b>shared</b> <b>by</b> <b>all</b> <b>CMTK</b> <b>tools)</b>
       <b>--help</b>
            Write list of basic command line options to standard output.

       <b>--help-all</b>
            Write complete list of basic and advanced command line options to standard output.

       <b>--wiki</b>
            Write list of command line options to standard output in MediaWiki markup.

       <b>--man</b>
            Write man page source in 'nroff' markup to standard output.

       <b>--xml</b>
            Write command line syntax specification in XML markup (for Slicer integration).

       <b>--version</b>
            Write toolkit version to standard output.

       <b>--echo</b>
            Write the current command line to standard output.

       <b>--verbose-level</b> <u>&lt;integer&gt;</u>
            Set verbosity level.

       <b>--verbose</b>, <b>-v</b>
            Increment verbosity level by 1 (deprecated; supported for backward compatibility).

       <b>--threads</b> <u>&lt;integer&gt;</u>
            Set maximum number of parallel threads (for POSIX threads and OpenMP).

   <b>Transformation</b> <b>import/export</b>
       <b>--initial</b> <u>&lt;transformation-path&gt;</u>
            Initialize transformation from given path <b>[Default:</b> <b>NONE]</b>

       <b>--write-itk-xform</b> <u>&lt;transformation-path&gt;</u>
            Output path for final transformation in ITK format <b>[Default:</b> <b>NONE]</b>

       <b>--write-reformatted</b> <u>&lt;image-path&gt;</u>
            Write reformatted floating image.  <b>[Default:</b> <b>NONE]</b>

   <b>Transformation</b> <b>parameters</b>
       <b>--grid-spacing</b> <u>&lt;double&gt;</u>, <b>-g</b> <u>&lt;double&gt;</u>
            Control point grid spacing <b>[Default:</b> <b>15]</b>

       <b>--exact-spacing</b>
            Use exact control point spacing; do not modify spacing to fit reference image bounding box

       <b>--refine</b> <u>&lt;integer&gt;</u>
            Number of refinements (control point grid resolution levels) <b>[Default:</b> <b>0]</b>

       <b>--delay-refine</b>
            Delay control point grid refinement; first switch to next higher image resolution

       <b>--ignore-edge</b> <u>&lt;integer&gt;</u>
            Ignore n control point layers along each image face <b>[Default:</b> <b>0]</b>

       <b>--restrict</b> <u>&lt;string&gt;</u>
            Restrict deformation to coordinate dimension(s) [one or more of 'x','y','z'] <b>[Default:</b> <b>NONE]</b>

       <b>--no-adaptive-fix</b>
            Disable adaptive fixing of control points; optimize all deformation parameters

       <b>--adaptive-fix-thresh</b> <u>&lt;float&gt;</u>
            Threshold factor for entropy criterion to fix local control points <b>[Default:</b> <b>0.5]</b>

       <b>--accurate</b>
            Accurate computation mode: may give slightly better results after substantially  longer  computation
            <b>[This</b> <b>is</b> <b>the</b> <b>default]</b>

       <b>--fast</b>
            Fast computation mode: may give slightly worse results than accurate mode, but saves substantial CPU
            time

       <b>--switch</b>, <b>-S</b>
            Switch reference and floating image

   <b>Regularization</b> <b>parameters</b>
       <b>--jacobian-weight</b> <u>&lt;float&gt;</u>
            Weight for Jacobian-based local volume preservation constraint <b>[Default:</b> <b>0]</b>

       <b>--energy-weight</b> <u>&lt;float&gt;</u>
            Weight for grid bending energy constraint <b>[Default:</b> <b>0]</b>

       <b>--rigidity-weight</b> <u>&lt;float&gt;</u>
            Weight for local rigidity constraint <b>[Default:</b> <b>0]</b>

       <b>--ic-weight</b> <u>&lt;float&gt;</u>
            Weight for inverse consistency constraint <b>[Default:</b> <b>0]</b>

       <b>--relax</b> <u>&lt;float&gt;</u>
            Weight relaxation factor for alternating under-constrained iterations <b>[Default:</b> <b>-1]</b>

       <b>--relax-to-unfold</b>
            Before each resolution level, regularize negative-Jacobian areas of the deformation to unfold them.

   <b>Optimization</b> <b>parameters</b>
       <b>--exploration</b> <u>&lt;double&gt;</u>, <b>-e</b> <u>&lt;double&gt;</u>
            Search space exploration (initial step size) <b>[Default:</b> <b>-1]</b>

       <b>--accuracy</b> <u>&lt;double&gt;</u>, <b>-a</b> <u>&lt;double&gt;</u>
            Search accuracy (initial step size) <b>[Default:</b> <b>-1]</b>

       <b>--stepfactor</b> <u>&lt;double&gt;</u>, <b>-f</b> <u>&lt;double&gt;</u>
            Factor for search step size reduction. Must be &gt; 0.0 and &lt; 1.0 [default: 0.5] <b>[Default:</b> <b>0.5]</b>

       <b>--delta-f-threshold</b> <u>&lt;double&gt;</u>
            Optional  threshold  to  terminate  optimization (level) if relative change of target function drops
            below this value.  <b>[Default:</b> <b>0]</b>

       <b>--no-maxnorm</b>
            Use Euclid norm for gradient normalication in optimization, rather than maximum norm

   <b>Image</b> <b>resolution</b> <b>parameters</b>
       <b>--sampling</b> <u>&lt;double&gt;</u>, <b>-s</b> <u>&lt;double&gt;</u>
            Image sampling (finest resampled image resolution) <b>[Default:</b> <b>-1]</b>

       <b>--coarsest</b> <u>&lt;double&gt;</u>
            Upper limit for image sampling in multiresolution hierarchy <b>[Default:</b> <b>-1]</b>

       <b>--omit-original-data</b>
            Do not use original data in full resolution for final registration stage.

   <b>Image</b> <b>data</b>
       <b>--registration-metric</b>
            Registration metric for motion estimation by image-to-image registration.  Supported values:  "nmi",
            "mi", "cr", "msd", "ncc", where the default is "nmi", or use one of the following:

            <b>--nmi</b>
                 Normalized Mutual Information metric <b>[This</b> <b>is</b> <b>the</b> <b>default]</b>

            <b>--mi</b> Standard Mutual Information metric

            <b>--cr</b> Correlation Ratio metric

            <b>--msd</b>
                 Mean Squared Difference metric

            <b>--ncc</b>
                 Normalized Cross Correlation metric

       <b>--match-histograms</b>
            Match floating image histogram to reference image histogram.

       <b>--force-outside-value</b> <u>&lt;double&gt;</u>
            Force  values  outside field of view to this value rather than drop incomplete pixel pairs <b>[Default:</b>
            <b>disabled]</b>

   <b>Reference</b> <b>Image</b> <b>Preprocessing</b>
       <b>--class-ref</b> <u>&lt;string&gt;</u>
            Data class: grey (default) or label <b>[Default:</b> <b>NONE]</b>

       <b>--pad-ref</b> <u>&lt;double&gt;</u>
            Padding value <b>[Default:</b> <b>disabled]</b>

       <b>--thresh-min-ref</b> <u>&lt;double&gt;</u>
            Minimum value truncation threshold <b>[Default:</b> <b>disabled]</b>

       <b>--thresh-max-ref</b> <u>&lt;double&gt;</u>
            Maximum value truncation threshold <b>[Default:</b> <b>disabled]</b>

       <b>--prune-histogram-ref</b> <u>&lt;integer&gt;</u>
            Number of bins for histogram-based pruning <b>[Default:</b> <b>disabled]</b>

       <b>--histogram-equalization-ref</b>
            Apply histogram equalization

       <b>--sobel-filter-ref</b>
            Apply Sobel edge detection filter

       <b>--crop-index-ref</b> <u>&lt;string&gt;</u>
            Cropping region in pixel index  coordinates  [parsed  as  %d,%d,%d,%d,%d,%d  for  i0,j0,k0,i1,j1,k1]
            <b>[Default:</b> <b>NONE]</b>

       <b>--crop-world-ref</b> <u>&lt;string&gt;</u>
            Cropping  region  in world coordinates [parsed as %f,%f,%f,%f,%f,%f for x0,y0,z0,x1,y1,z1] <b>[Default:</b>
            <b>NONE]</b>

   <b>Floating</b> <b>Image</b> <b>Preprocessing</b>
       <b>--class-flt</b> <u>&lt;string&gt;</u>
            Data class: grey (default) or label <b>[Default:</b> <b>NONE]</b>

       <b>--pad-flt</b> <u>&lt;double&gt;</u>
            Padding value <b>[Default:</b> <b>disabled]</b>

       <b>--thresh-min-flt</b> <u>&lt;double&gt;</u>
            Minimum value truncation threshold <b>[Default:</b> <b>disabled]</b>

       <b>--thresh-max-flt</b> <u>&lt;double&gt;</u>
            Maximum value truncation threshold <b>[Default:</b> <b>disabled]</b>

       <b>--prune-histogram-flt</b> <u>&lt;integer&gt;</u>
            Number of bins for histogram-based pruning <b>[Default:</b> <b>disabled]</b>

       <b>--histogram-equalization-flt</b>
            Apply histogram equalization

       <b>--sobel-filter-flt</b>
            Apply Sobel edge detection filter

       <b>--crop-index-flt</b> <u>&lt;string&gt;</u>
            Cropping region in pixel index  coordinates  [parsed  as  %d,%d,%d,%d,%d,%d  for  i0,j0,k0,i1,j1,k1]
            <b>[Default:</b> <b>NONE]</b>

       <b>--crop-world-flt</b> <u>&lt;string&gt;</u>
            Cropping  region  in world coordinates [parsed as %f,%f,%f,%f,%f,%f for x0,y0,z0,x1,y1,z1] <b>[Default:</b>
            <b>NONE]</b>

   <b>Output</b> <b>parameters</b>
       <b>--outlist</b> <u>&lt;string&gt;</u>, <b>-o</b> <u>&lt;string&gt;</u>
            Output path for final transformation <b>[Default:</b> <b>NONE]</b>

       <b>--protocol</b> <u>&lt;string&gt;</u>, <b>-p</b> <u>&lt;string&gt;</u>
            Optimization protocol output file name <b>[Default:</b> <b>NONE]</b>

       <b>--time</b> <u>&lt;string&gt;</u>, <b>-t</b> <u>&lt;string&gt;</u>
            Computation time statistics output file name <b>[Default:</b> <b>NONE]</b>

       <b>--output-intermediate</b>
            Write transformation for each level [default: only write final transformation]

   <b>Image/Transformation</b> <b>Database</b>
       <b>--db</b> <u>&lt;string&gt;</u>
            Path to image/transformation database that should  be  updated  with  the  new  registration  and/or
            reformatted image.  <b>[Default:</b> <b>NONE]</b>

</pre><h4><b>AUTHORS</b></h4><pre>
       Torsten  Rohlfing,  with  contributions from Michael P. Hasak, Greg Jefferis, Calvin R. Maurer, Daniel B.
       Russakoff, and Yaroslav Halchenko

</pre><h4><b>LICENSE</b></h4><pre>
       <a href="http://www.fsf.org/licensing/licenses/gpl.html">http://www.fsf.org/licensing/licenses/gpl.html</a>

</pre><h4><b>BUGS</b></h4><pre>
       Report bugs at <a href="http://nitrc.org/projects/cmtk/">http://nitrc.org/projects/cmtk/</a>

</pre><h4><b>ACKNOWLEDGMENTS</b></h4><pre>
       CMTK is developed with support from the NIAAA under Grant AA021697, National Consortium  on  Alcohol  and
       Neurodevelopment  in Adolescence (N-CANDA): Data Integration Component. From April 2009 through September
       2011, CMTK development and maintenance was supported by the NIBIB under Grant EB008381.

CMTK 3.3.1p2                                       Feb 26 2025                                           <u><a href="../man1/warp.1.html">warp</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>