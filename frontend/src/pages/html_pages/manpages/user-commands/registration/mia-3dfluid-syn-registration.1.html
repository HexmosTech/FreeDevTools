<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>mia-3dfluid-syn-registration  -  Non-linear  registration  of  3D  images  by  using  a diffeomorphic SyN</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/noble/+package/mia-tools">mia-tools_2.4.7-13build4_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       mia-3dfluid-syn-registration  -  Non-linear  registration  of  3D  images  by  using  a diffeomorphic SyN
       registration

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>mia-3dfluid-syn-registration</b> <b>-i</b> <b>&lt;in-image&gt;</b> <b>-r</b> <b>&lt;ref-image&gt;</b> <b>-o</b> <b>&lt;transform&gt;</b> <b>-O</b> <b>&lt;inverse-transform&gt;</b> <b>[options]</b>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>mia-3dfluid-syn-registration</b> This program implements the registration of two gray scale  3D  images.  The
       transformation  applied  is a symmeric diffeomorpic fluid dynamic registration. To work most efficiently,
       this program makes a few assumptions about the imput data, i.e. the image must be of the same size,  have
       the  same voxel spacing, and any intensity range normalization or equalization should also be done before
       calling this program.

</pre><h4><b>OPTIONS</b></h4><pre>
   <b>Help</b> <b>&amp;</b> <b>Info</b>
              -V --verbose=warning
                     verbosity of output, print  messages  of  given  level  and  higher  priorities.  Supported
                     priorities starting at lowest level are:

                        <u>trace</u> ‐ Function call trace
                        <u>debug</u> ‐ Debug output
                        <u>info</u> ‐ Low level messages
                        <u>message</u> ‐ Normal messages
                        <u>warning</u> ‐ Warnings
                        <u>fail</u> ‐ Report test failures
                        <u>error</u> ‐ Report errors
                        <u>fatal</u> ‐ Report only fatal errors

                 --copyright
                     print copyright information

              -h --help
                     print this help

              -? --usage
                     print a short help

                 --version
                     print the version number and exit

   <b>IO</b>
              -i --in-image=(input, required); io
                     test image
                      For supported file types see PLUGINS:3dimage/io

              -r --ref-image=(input, required); io
                     reference image
                      For supported file types see PLUGINS:3dimage/io

              -o --transform=(required, output); io
                     output transformation
                      For supported file types see PLUGINS:3dtransform/io

              -O --inverse-transform=(required, output); io
                     inverse output transformation
                      For supported file types see PLUGINS:3dtransform/io

   <b>Processing</b>
                 --threads=-1
                     Maxiumum  number  of  threads to use for processing,This number should be lower or equal to
                     the number of logical processor cores in the machine. (-1: automatic estimation).

   <b>Registration</b>
              -l --mg-levels=3
                     Number of multi-resolution levels to run the registration on. Not  that  some  registration
                     parameters  can  be  given  as a coma seperated list to indicate per level values. In these
                     cases  if the number of given values is smaller than the number of multi-resolution  levels
                     (this  parameter),  the  the  last  given value is used for all subsequest multi-resolution
                     levels.

              -S --step=0.25; float in (0, 0.5]
                     Initial step size for all levels

              -c --cost=ssd
                     Image similarity function to be minimized
                      For supported plugins see PLUGINS:3dimage/cost

              -R --regularizer=sor:kernel=fluid,maxiter=50
                     Regularization for the force to transformation update
                      For supported plugins see PLUGINS:3dvf/regularizer

              -T --conv-test-interval=; vuint in [4, 40]
                     Convergence test interations intervall: In order to measure convergence the  cost  function
                     value  is  averaged over this amount of iterations, and the decline rate is evaluated based
                     on the linare regression of the cost function values in this intervall. This parameter  can
                     be given as a coma-seperated list with values corresponding to the multi-resolution levels,
                     see option --mg-levels for more information.

              -D --stop-decline-rate=; vdouble in [0, inf)
                     Stopping  criterium for registration based on the cost decline rate. If the rate below this
                     value, the iteration is stopped. This parameter can be given as a coma-seperated list  with
                     values  corresponding  to  the  multi-resolution  levels,  see  option --mg-levels for more
                     information.

              -C --stop-cost=
                     Stopping criterium for registration based on the cost value. If the cost drops  below  this
                     value,  the iteration is stopped. This parameter can be given as a coma-seperated list with
                     values corresponding to the  multi-resolution  levels,  see  option  --mg-levels  for  more
                     information.

              -I --iter=; vuint in [4, inf)
                     Naximum  number  if  iterations  done on each multi-resolution level. This parameter can be
                     given as a coma-seperated list with values corresponding to  the  multi-resolution  levels,
                     see option --mg-levels for more information.

</pre><h4><b>PLUGINS:</b> <b>1d/splinekernel</b></h4><pre>
       <b>bspline</b>   B-spline kernel creation , supported parameters are:

                     <u>d</u> = 3; int in [0, 5]
                       Spline degree.

       <b>omoms</b>     OMoms-spline kernel creation, supported parameters are:

                     <u>d</u> = 3; int in [3, 3]
                       Spline degree.

</pre><h4><b>PLUGINS:</b> <b>3dimage/cost</b></h4><pre>
       <b>lncc</b>      local normalized cross correlation with masking support., supported parameters are:

                     <u>w</u> = 5; uint in [1, 256]
                       half width of the window used for evaluating the localized cross correlation.

       <b>mi</b>        Spline parzen based mutual information., supported parameters are:

                     <u>cut</u> = 0; float in [0, 40]
                       Percentage of pixels to cut at high and low intensities to remove outliers.

                     <u>mbins</u> = 64; uint in [1, 256]
                       Number of histogram bins used for the moving image.

                     <u>mkernel</u> = [bspline:d=3]; factory
                       Spline   kernel   for  moving  image  parzen  hinstogram.   For  supported  plug-ins  see
                       PLUGINS:1d/splinekernel

                     <u>rbins</u> = 64; uint in [1, 256]
                       Number of histogram bins used for the reference image.

                     <u>rkernel</u> = [bspline:d=0]; factory
                       Spline kernel  for  reference  image  parzen  hinstogram.   For  supported  plug-ins  see
                       PLUGINS:1d/splinekernel

       <b>ncc</b>       normalized cross correlation.

                     (no parameters)

       <b>ngf</b>       This  function  evaluates  the  image  similarity  based  on  normalized gradient fields. Given
                 normalized gradient fields $ _S$ of the src image and $ _R$ of the ref image various evaluators
                 are implemented., supported parameters are:

                     <u>eval</u> = ds; dict
                       plugin subtype (sq, ds,dot,cross).  Supported values are:
                           <u>ds</u> ‐ square of scaled difference
                           <u>dot</u> ‐ scalar product kernel
                           <u>cross</u> ‐ cross product kernel

       <b>ssd</b>       3D image cost: sum of squared differences, supported parameters are:

                     <u>autothresh</u> = 0; float in [0, 1000]
                       Use automatic masking of the moving image by only takeing intensity values  into  accound
                       that are larger than the given threshold.

                     <u>norm</u> = 0; bool
                       Set whether the metric should be normalized by the number of image pixels.

       <b>ssd-automask</b>
                 3D  image  cost:  sum  of  squared  differences,  with  automasking  based on given thresholds,
                 supported parameters are:

                     <u>rthresh</u> = 0; double
                       Threshold intensity value for reference image.

                     <u>sthresh</u> = 0; double
                       Threshold intensity value for source image.

</pre><h4><b>PLUGINS:</b> <b>3dimage/io</b></h4><pre>
       <b>analyze</b>   Analyze 7.5 image

                     Recognized file extensions:  .HDR, .hdr

                     Supported element types:
                       unsigned 8 bit, signed 16 bit, signed 32 bit, floating point 32 bit,  floating  point  64
                       bit

       <b>datapool</b>  Virtual IO to and from the internal data pool

                     Recognized file extensions:  .@

       <b>dicom</b>     Dicom image series as 3D

                     Recognized file extensions:  .DCM, .dcm

                     Supported element types:
                       signed 16 bit, unsigned 16 bit

       <b>hdf5</b>      HDF5 3D image IO

                     Recognized file extensions:  .H5, .h5

                     Supported element types:
                       binary data, signed 8 bit, unsigned 8 bit, signed 16 bit, unsigned 16 bit, signed 32 bit,
                       unsigned 32 bit, signed 64 bit, unsigned 64 bit, floating point 32 bit, floating point 64
                       bit

       <b>inria</b>     INRIA image

                     Recognized file extensions:  .INR, .inr

                     Supported element types:
                       signed  8 bit, unsigned 8 bit, signed 16 bit, unsigned 16 bit, signed 32 bit, unsigned 32
                       bit, floating point 32 bit, floating point 64 bit

       <b>mhd</b>       MetaIO 3D image IO using the VTK implementation (experimental).

                     Recognized file extensions:  .MHA, .MHD, .mha, .mhd

                     Supported element types:
                       signed 8 bit, unsigned 8 bit, signed 16 bit, unsigned 16 bit, signed 32 bit, unsigned  32
                       bit, floating point 32 bit, floating point 64 bit

       <b>nifti</b>     NIFTI-1  3D  image  IO.  The  orientation  is  transformed in the same way like it is done with
                 'dicomtonifti --no-reorder' from the vtk-dicom package.

                     Recognized file extensions:  .NII, .nii

                     Supported element types:
                       signed 8 bit, unsigned 8 bit, signed 16 bit, unsigned 16 bit, signed 32 bit, unsigned  32
                       bit, signed 64 bit, unsigned 64 bit, floating point 32 bit, floating point 64 bit

       <b>vff</b>       VFF Sun raster format

                     Recognized file extensions:  .VFF, .vff

                     Supported element types:
                       unsigned 8 bit, signed 16 bit

       <b>vista</b>     Vista 3D

                     Recognized file extensions:  .-, .V, .VISTA, .v, .vista

                     Supported element types:
                       binary data, signed 8 bit, unsigned 8 bit, signed 16 bit, unsigned 16 bit, signed 32 bit,
                       unsigned 32 bit, floating point 32 bit, floating point 64 bit

       <b>vti</b>       3D image VTK-XML in- and output (experimental).

                     Recognized file extensions:  .VTI, .vti

                     Supported element types:
                       signed  8 bit, unsigned 8 bit, signed 16 bit, unsigned 16 bit, signed 32 bit, unsigned 32
                       bit, floating point 32 bit, floating point 64 bit

       <b>vtk</b>       3D VTK image legacy in- and output (experimental).

                     Recognized file extensions:  .VTK, .VTKIMAGE, .vtk, .vtkimage

                     Supported element types:
                       signed 8 bit, unsigned 8 bit, signed 16 bit, unsigned 16 bit, signed 32 bit, unsigned  32
                       bit, floating point 32 bit, floating point 64 bit

</pre><h4><b>PLUGINS:</b> <b>3dtransform/io</b></h4><pre>
       <b>bbs</b>       Binary (non-portable) serialized IO of 3D transformations

                     Recognized file extensions:  .bbs

       <b>datapool</b>  Virtual IO to and from the internal data pool

                     Recognized file extensions:  .@

       <b>vista</b>     Vista storage of 3D transformations

                     Recognized file extensions:  .v, .v3dt

       <b>xml</b>       XML serialized IO of 3D transformations

                     Recognized file extensions:  .x3dt

</pre><h4><b>PLUGINS:</b> <b>3dvf/regularizer</b></h4><pre>
       <b>sor</b>       This  plugin  implements  successive  (over-)relaxation  as  a  solver to regularize the vector
                 field., supported parameters are:

                     <u>abs_f</u> = 0.01; float in [0, inf)
                       breaking condition: absolute residuum.

                     <u>kernel</u> = fluid; factory
                       solver kernel to be used.  For supported plug-ins see PLUGINS:3dvf/regularizerkernel

                     <u>maxiter</u> = 100; uint in [0, inf)
                       maximum number of iterations.

                     <u>rel_f</u> = 1e-05; float in (0, 1)
                       breaking condition: relative residuum.

</pre><h4><b>PLUGINS:</b> <b>3dvf/regularizerkernel</b></h4><pre>
       <b>fluid</b>     Evaluation kernel for the fluid-dynamics solver, either using successive (over-)relaxation,  or
                 a  Gauss-Southwell  relaxation.  This  implementation  is  generic  and  doesn't  implement any
                 architecture specific optimizations., supported parameters are:

                     <u>lambda</u> = 1; float in [0, 10000]
                       bulk viscosity (compressibility).

                     <u>mu</u> = 1; float in (0, 10000]
                       dynamic viscosity (shear).

                     <u>relax</u> = 1; float in [0.1, 2]
                       Relaxation parameter for the solver.

</pre><h4><b>EXAMPLE</b></h4><pre>
       Register image test.v to image ref.v saving the transformation to transform.v and the  inverse  transform
       to inverse-transform.v. Use three multiresolution levels, ssd as image cost function.

       mia-3dfluid-syn-registration -i test.v -r ref.v -t transform.v -T inverse-transform.v  -l 3 ssd

</pre><h4><b>AUTHOR(s)</b></h4><pre>
       Gert Wollny

</pre><h4><b>COPYRIGHT</b></h4><pre>
       This  software is Copyright (c) 1999‐2015 Leipzig, Germany and Madrid, Spain.  It comes  with  ABSOLUTELY
       NO WARRANTY  and  you  may redistribute it under the terms of the GNU GENERAL PUBLIC  LICENSE  Version  3
       (or later). For more information run the program with the option '--copyright'.

USER COMMANDS                                        v2.4.7                      <u><a href="../man1/mia-3dfluid-syn-registration.1.html">mia-3dfluid-syn-registration</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>