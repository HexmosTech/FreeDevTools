<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>mia-2dmyomilles - Run a registration of a series of 2D images.</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/noble/+package/mia-tools">mia-tools_2.4.7-13build4_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       mia-2dmyomilles - Run a registration of a series of 2D images.

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>mia-2dmyomilles</b> <b>-i</b> <b>&lt;in-file&gt;</b> <b>-o</b> <b>&lt;out-file&gt;</b> <b>[options]</b>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>mia-2dmyomilles</b>  This  program  is  use  to run a modified version of the ICA based registration approach
       described in

              Milles et al. 'Fully Automated Motion Correction in First-Pass Myocardial Perfusion MR  Image  Se‐
              quences', Trans. Med. Imaging., <a href="../man11/27.11.html">27</a>(11), 1611-1621, 2008.

        Changes include the extraction of the quasi-periodic movement in free breathingly acquired data sets and
       the option to run affine or rigid registration instead of the optimization of translations only.

</pre><h4><b>OPTIONS</b></h4><pre>
   <b>File-IO</b>
              -i --in-file=(input, required); string
                     input perfusion data set

              -o --out-file=(required, output); string
                     output perfusion data set

              -r --registered=
                     file name base for registered files

                 --save-references=
                     save synthetic reference images to this file base

                 --save-cropped=
                     save cropped image set to this file

                 --save-feature=
                     save  the  features images resulting from the ICA and some intermediate images used for the
                     RV-LV segmentation with the given file name base to PNG files. Also save  the  coefficients
                     of the initial best and the final IC mixing matrix.

   <b>Help</b> <b>&amp;</b> <b>Info</b>
              -V --verbose=warning
                     verbosity  of  output,  print  messages  of  given  level  and higher priorities. Supported
                     priorities starting at lowest level are:

                        <u>trace</u> ‐ Function call trace
                        <u>debug</u> ‐ Debug output
                        <u>info</u> ‐ Low level messages
                        <u>message</u> ‐ Normal messages
                        <u>warning</u> ‐ Warnings
                        <u>fail</u> ‐ Report test failures
                        <u>error</u> ‐ Report errors
                        <u>fatal</u> ‐ Report only fatal errors

                 --copyright
                     print copyright information

              -h --help
                     print this help

              -? --usage
                     print a short help

                 --version
                     print the version number and exit

   <b>ICA</b>
                 --fastica=internal
                     FastICA implementationto be used
                      For supported plugins see PLUGINS:fastica/implementation

              -C --components=0
                     ICA components 0 = automatic estimation

                 --normalize
                     normalized ICs

                 --no-meanstrip
                     don't strip the mean from the mixing curves

              -g --guess
                     use initial guess for myocardial perfusion

              -s --segscale=1.4
                     segment and scale the crop box around the LV (0=no segmentation)

              -k --skip=0
                     skip images at the beginning of the series as they are of other modalities

              -m --max-ica-iter=400
                     maximum number of iterations in ICA

              -E --segmethod=features
                     Segmentation method

                        <u>delta-feature</u> ‐ difference of the feature images
                        <u>delta-peak</u> ‐ difference of the peak enhancement images
                        <u>features</u> ‐ feature images

   <b>Processing</b>
                 --threads=-1
                     Maxiumum number of threads to use for processing,This number should be lower  or  equal  to
                     the number of logical processor cores in the machine. (-1: automatic estimation).

   <b>Registration</b>
              -c --cost=ssd
                     registration criterion

              -O --optimizer=gsl:opt=simplex,step=1.0
                     Optimizer used for minimization
                      For supported plugins see PLUGINS:minimizer/singlecost

              -f --transForm=rigid
                     transformation type
                      For supported plugins see PLUGINS:2dimage/transform

              -l --mg-levels=3
                     multi-resolution levels

              -R --reference=-1
                     Global reference all image should be aligned to. If set to a non-negative value, the images
                     will be aligned to this references, and the cropped output image date will be injected into
                     the  original  images.  Leave  at  -1  if  you  don't care. In this case all images with be
                     registered to a mean position of the movement

              -P --passes=2
                     registration passes

</pre><h4><b>PLUGINS:</b> <b>1d/splinebc</b></h4><pre>
       <b>mirror</b>    Spline interpolation boundary conditions that mirror on the boundary

                     (no parameters)

       <b>repeat</b>    Spline interpolation boundary conditions that repeats the value at the boundary

                     (no parameters)

       <b>zero</b>      Spline interpolation boundary conditions that assumes zero for values outside

                     (no parameters)

</pre><h4><b>PLUGINS:</b> <b>1d/splinekernel</b></h4><pre>
       <b>bspline</b>   B-spline kernel creation , supported parameters are:

                     <u>d</u> = 3; int in [0, 5]
                       Spline degree.

       <b>omoms</b>     OMoms-spline kernel creation, supported parameters are:

                     <u>d</u> = 3; int in [3, 3]
                       Spline degree.

</pre><h4><b>PLUGINS:</b> <b>2dimage/transform</b></h4><pre>
       <b>affine</b>    Affine transformation (six degrees of freedom)., supported parameters are:

                     <u>imgboundary</u> = mirror; factory
                       image interpolation boundary conditions.  For supported plug-ins see PLUGINS:1d/splinebc

                     <u>imgkernel</u> = [bspline:d=3]; factory
                       image interpolator kernel.  For supported plug-ins see PLUGINS:1d/splinekernel

       <b>rigid</b>     Rigid transformations (i.e. rotation and translation, three  degrees  of  freedom).,  supported
                 parameters are:

                     <u>imgboundary</u> = mirror; factory
                       image interpolation boundary conditions.  For supported plug-ins see PLUGINS:1d/splinebc

                     <u>imgkernel</u> = [bspline:d=3]; factory
                       image interpolator kernel.  For supported plug-ins see PLUGINS:1d/splinekernel

                     <u>rot-center</u> = [[0,0]]; 2dfvector
                       Relative  rotation  center,  i.e.   &lt;0.5,0.5&gt;  corresponds  to  the center of the support
                       rectangle.

       <b>rotation</b>  Rotation transformations (i.e.  rotation  about  a  given  center,  one  degree  of  freedom).,
                 supported parameters are:

                     <u>imgboundary</u> = mirror; factory
                       image interpolation boundary conditions.  For supported plug-ins see PLUGINS:1d/splinebc

                     <u>imgkernel</u> = [bspline:d=3]; factory
                       image interpolator kernel.  For supported plug-ins see PLUGINS:1d/splinekernel

                     <u>rot-center</u> = [[0,0]]; 2dfvector
                       Relative  rotation  center,  i.e.   &lt;0.5,0.5&gt;  corresponds  to  the center of the support
                       rectangle.

       <b>spline</b>    Free-form transformation that can be described  by  a  set  of  B-spline  coefficients  and  an
                 underlying B-spline kernel., supported parameters are:

                     <u>anisorate</u> = [[0,0]]; 2dfvector
                       anisotropic  coefficient  rate  in  pixels, nonpositive values will be overwritten by the
                       'rate' value..

                     <u>imgboundary</u> = mirror; factory
                       image interpolation boundary conditions.  For supported plug-ins see PLUGINS:1d/splinebc

                     <u>imgkernel</u> = [bspline:d=3]; factory
                       image interpolator kernel.  For supported plug-ins see PLUGINS:1d/splinekernel

                     <u>kernel</u> = [bspline:d=3]; factory
                       transformation spline kernel..  For supported plug-ins see PLUGINS:1d/splinekernel

                     <u>penalty</u> = ; factory
                       Transformation      penalty      term.       For       supported       plug-ins       see
                       PLUGINS:2dtransform/splinepenalty

                     <u>rate</u> = 10; float in [1, inf)
                       isotropic coefficient rate in pixels.

       <b>translate</b> Translation only (two degrees of freedom), supported parameters are:

                     <u>imgboundary</u> = mirror; factory
                       image interpolation boundary conditions.  For supported plug-ins see PLUGINS:1d/splinebc

                     <u>imgkernel</u> = [bspline:d=3]; factory
                       image interpolator kernel.  For supported plug-ins see PLUGINS:1d/splinekernel

       <b>vf</b>        This  plug-in implements a transformation that defines a translation for each point of the grid
                 defining the domain of the transformation., supported parameters are:

                     <u>imgboundary</u> = mirror; factory
                       image interpolation boundary conditions.  For supported plug-ins see PLUGINS:1d/splinebc

                     <u>imgkernel</u> = [bspline:d=3]; factory
                       image interpolator kernel.  For supported plug-ins see PLUGINS:1d/splinekernel

</pre><h4><b>PLUGINS:</b> <b>2dtransform/splinepenalty</b></h4><pre>
       <b>divcurl</b>   divcurl penalty on the transformation, supported parameters are:

                     <u>curl</u> = 1; float in [0, inf)
                       penalty weight on curl.

                     <u>div</u> = 1; float in [0, inf)
                       penalty weight on divergence.

                     <u>norm</u> = 0; bool
                       Set to 1 if the penalty should be normalized with respect to the image size.

                     <u>weight</u> = 1; float in (0, inf)
                       weight of penalty energy.

</pre><h4><b>PLUGINS:</b> <b>fastica/implementation</b></h4><pre>
       <b>internal</b>  This is the MIA implementation of the FastICA algorithm.

                     (no parameters)

       <b>itpp</b>      This is the IT++ implementation of the FastICA algorithm.

                     (no parameters)

</pre><h4><b>PLUGINS:</b> <b>minimizer/singlecost</b></h4><pre>
       <b>gdas</b>      Gradient descent with automatic step size correction., supported parameters are:

                     <u>ftolr</u> = 0; double in [0, inf)
                       Stop if the relative change of the criterion is below..

                     <u>max-step</u> = 2; double in (0, inf)
                       Maximal absolute step size.

                     <u>maxiter</u> = 200; uint in [1, inf)
                       Stopping criterion: the maximum number of iterations.

                     <u>min-step</u> = 0.1; double in (0, inf)
                       Minimal absolute step size.

                     <u>xtola</u> = 0.01; double in [0, inf)
                       Stop if the inf-norm of the change applied to x is below this value..

       <b>gdsq</b>      Gradient descent with quadratic step estimation, supported parameters are:

                     <u>ftolr</u> = 0; double in [0, inf)
                       Stop if the relative change of the criterion is below..

                     <u>gtola</u> = 0; double in [0, inf)
                       Stop if the inf-norm of the gradient is below this value..

                     <u>maxiter</u> = 100; uint in [1, inf)
                       Stopping criterion: the maximum number of iterations.

                     <u>scale</u> = 2; double in (1, inf)
                       Fallback fixed step size scaling.

                     <u>step</u> = 0.1; double in (0, inf)
                       Initial step size.

                     <u>xtola</u> = 0; double in [0, inf)
                       Stop if the inf-norm of x-update is below this value..

       <b>gsl</b>       optimizer plugin based  on  the  multimin  optimizers  of  the  GNU  Scientific  Library  (GSL)
                 https://www.gnu.org/software/gsl/, supported parameters are:

                     <u>eps</u> = 0.01; double in (0, inf)
                       gradient  based  optimizers:  stop  when  |grad| &lt; eps, simplex: stop when simplex size &lt;
                       eps..

                     <u>iter</u> = 100; uint in [1, inf)
                       maximum number of iterations.

                     <u>opt</u> = gd; dict
                       Specific optimizer to be used..  Supported values are:
                           <u>simplex</u> ‐ Simplex algorithm of Nelder and Mead
                           <u>cg-fr</u> ‐ Flecher-Reeves conjugate gradient algorithm
                           <u>cg-pr</u> ‐ Polak-Ribiere conjugate gradient algorithm
                           <u>bfgs</u> ‐ Broyden-Fletcher-Goldfarb-Shann
                           <u>bfgs2</u> ‐ Broyden-Fletcher-Goldfarb-Shann (most efficient version)
                           <u>gd</u> ‐ Gradient descent.

                     <u>step</u> = 0.001; double in (0, inf)
                       initial step size.

                     <u>tol</u> = 0.1; double in (0, inf)
                       some tolerance parameter.

       <b>nlopt</b>     Minimizer algorithms using the NLOPT library, for a description of the  optimizers  please  see
                 '<a href="http://ab-initio.mit.edu/wiki/index.php/NLopt_Algorithms">http://ab-initio.mit.edu/wiki/index.php/NLopt_Algorithms</a>', supported parameters are:

                     <u>ftola</u> = 0; double in [0, inf)
                       Stopping criterion: the absolute change of the objective value is below  this value.

                     <u>ftolr</u> = 0; double in [0, inf)
                       Stopping criterion: the relative change of the objective value is below  this value.

                     <u>higher</u> = inf; double
                       Higher boundary (equal for all parameters).

                     <u>local-opt</u> = none; dict
                       local  minimization  algorithm that may be required for the main minimization algorithm..
                       Supported values are:
                           <u>gn-direct</u> ‐ Dividing Rectangles
                           <u>gn-direct-l</u> ‐ Dividing Rectangles (locally biased)
                           <u>gn-direct-l-rand</u> ‐ Dividing Rectangles (locally biased, randomized)
                           <u>gn-direct-noscal</u> ‐ Dividing Rectangles (unscaled)
                           <u>gn-direct-l-noscal</u> ‐ Dividing Rectangles (unscaled, locally biased)
                           <u>gn-direct-l-rand-noscale</u> ‐ Dividing Rectangles (unscaled, locally biased, randomized)
                           <u>gn-orig-direct</u> ‐ Dividing Rectangles (original implementation)
                           <u>gn-orig-direct-l</u> ‐ Dividing Rectangles (original implementation, locally biased)
                           <u>ld-lbfgs-nocedal</u> ‐ None
                           <u>ld-lbfgs</u> ‐ Low-storage BFGS
                           <u>ln-praxis</u> ‐ Gradient-free Local Optimization via the Principal-Axis Method
                           <u>ld-var1</u> ‐ Shifted Limited-Memory Variable-Metric, Rank 1
                           <u>ld-var2</u> ‐ Shifted Limited-Memory Variable-Metric, Rank 2
                           <u>ld-tnewton</u> ‐ Truncated Newton
                           <u>ld-tnewton-restart</u> ‐ Truncated Newton with steepest-descent restarting
                           <u>ld-tnewton-precond</u> ‐ Preconditioned Truncated Newton
                           <u>ld-tnewton-precond-restart</u> ‐ Preconditioned Truncated  Newton  with  steepest-descent
                           restarting
                           <u>gn-crs2-lm</u> ‐ Controlled Random Search with Local Mutation
                           <u>ld-mma</u> ‐ Method of Moving Asymptotes
                           <u>ln-cobyla</u> ‐ Constrained Optimization BY Linear Approximation
                           <u>ln-newuoa</u>  ‐  Derivative-free  Unconstrained  Optimization by Iteratively Constructed
                           Quadratic Approximation
                           <u>ln-newuoa-bound</u>  ‐  Derivative-free  Bound-constrained  Optimization  by  Iteratively
                           Constructed Quadratic Approximation
                           <u>ln-neldermead</u> ‐ Nelder-Mead simplex algorithm
                           <u>ln-sbplx</u> ‐ Subplex variant of Nelder-Mead
                           <u>ln-bobyqa</u> ‐ Derivative-free Bound-constrained Optimization
                           <u>gn-isres</u> ‐ Improved Stochastic Ranking Evolution Strategy
                           <u>none</u> ‐ don't specify algorithm

                     <u>lower</u> = -inf; double
                       Lower boundary (equal for all parameters).

                     <u>maxiter</u> = 100; int in [1, inf)
                       Stopping criterion: the maximum number of iterations.

                     <u>opt</u> = ld-lbfgs; dict
                       main minimization algorithm.  Supported values are:
                           <u>gn-direct</u> ‐ Dividing Rectangles
                           <u>gn-direct-l</u> ‐ Dividing Rectangles (locally biased)
                           <u>gn-direct-l-rand</u> ‐ Dividing Rectangles (locally biased, randomized)
                           <u>gn-direct-noscal</u> ‐ Dividing Rectangles (unscaled)
                           <u>gn-direct-l-noscal</u> ‐ Dividing Rectangles (unscaled, locally biased)
                           <u>gn-direct-l-rand-noscale</u> ‐ Dividing Rectangles (unscaled, locally biased, randomized)
                           <u>gn-orig-direct</u> ‐ Dividing Rectangles (original implementation)
                           <u>gn-orig-direct-l</u> ‐ Dividing Rectangles (original implementation, locally biased)
                           <u>ld-lbfgs-nocedal</u> ‐ None
                           <u>ld-lbfgs</u> ‐ Low-storage BFGS
                           <u>ln-praxis</u> ‐ Gradient-free Local Optimization via the Principal-Axis Method
                           <u>ld-var1</u> ‐ Shifted Limited-Memory Variable-Metric, Rank 1
                           <u>ld-var2</u> ‐ Shifted Limited-Memory Variable-Metric, Rank 2
                           <u>ld-tnewton</u> ‐ Truncated Newton
                           <u>ld-tnewton-restart</u> ‐ Truncated Newton with steepest-descent restarting
                           <u>ld-tnewton-precond</u> ‐ Preconditioned Truncated Newton
                           <u>ld-tnewton-precond-restart</u>  ‐  Preconditioned  Truncated Newton with steepest-descent
                           restarting
                           <u>gn-crs2-lm</u> ‐ Controlled Random Search with Local Mutation
                           <u>ld-mma</u> ‐ Method of Moving Asymptotes
                           <u>ln-cobyla</u> ‐ Constrained Optimization BY Linear Approximation
                           <u>ln-newuoa</u> ‐ Derivative-free Unconstrained  Optimization  by  Iteratively  Constructed
                           Quadratic Approximation
                           <u>ln-newuoa-bound</u>  ‐  Derivative-free  Bound-constrained  Optimization  by  Iteratively
                           Constructed Quadratic Approximation
                           <u>ln-neldermead</u> ‐ Nelder-Mead simplex algorithm
                           <u>ln-sbplx</u> ‐ Subplex variant of Nelder-Mead
                           <u>ln-bobyqa</u> ‐ Derivative-free Bound-constrained Optimization
                           <u>gn-isres</u> ‐ Improved Stochastic Ranking Evolution Strategy
                           <u>auglag</u> ‐ Augmented Lagrangian algorithm
                           <u>auglag-eq</u> ‐ Augmented Lagrangian algorithm with equality constraints only
                           <u>g-mlsl</u> ‐ Multi-Level Single-Linkage (require local optimization and bounds)
                           <u>g-mlsl-lds</u> ‐  Multi-Level  Single-Linkage  (low-discrepancy-sequence,  require  local
                           gradient based optimization and bounds)
                           <u>ld-slsqp</u> ‐ Sequential Least-Squares Quadratic Programming

                     <u>step</u> = 0; double in [0, inf)
                       Initial step size for gradient free methods.

                     <u>stop</u> = -inf; double
                       Stopping criterion: function value falls below this value.

                     <u>xtola</u> = 0; double in [0, inf)
                       Stopping criterion: the absolute change of all x-values is below  this value.

                     <u>xtolr</u> = 0; double in [0, inf)
                       Stopping criterion: the relative change of all x-values is below  this value.

</pre><h4><b>EXAMPLE</b></h4><pre>
       Register  the  perfusion series given in 'segment.set' by using automatic ICA estimation. Skip two images
       at the beginning and otherwiese use the default parameters. Store the result in 'registered.set'.

       mia-2dmyomilles   -i segment.set -o registered.set -k 2

</pre><h4><b>AUTHOR(s)</b></h4><pre>
       Gert Wollny

</pre><h4><b>COPYRIGHT</b></h4><pre>
       This software is Copyright (c) 1999‐2015 Leipzig, Germany and Madrid, Spain.  It comes  with   ABSOLUTELY
       NO  WARRANTY   and   you  may redistribute it under the terms of the GNU GENERAL PUBLIC LICENSE Version 3
       (or later). For more information run the program with the option '--copyright'.

USER COMMANDS                                        v2.4.7                                   <u><a href="../man1/mia-2dmyomilles.1.html">mia-2dmyomilles</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>