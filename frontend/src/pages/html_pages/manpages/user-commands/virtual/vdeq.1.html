<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>vdeq - Virtual Distributed Ethernet wrapper for QEMU/KVM virtual machines</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/vde2">vde2_2.3.2+r586-11_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       vdeq - Virtual Distributed Ethernet wrapper for QEMU/KVM virtual machines

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>vdeq</b> <b>qemu</b> [ <b>--mod</b> <u>octalmode</u> ] <u>QEMU_OPTIONS</u> <b>-net</b> <b>vde[,vlan=n][,sock=socketpath][,port=n]</b> <u>QEMU_OPTIONS</u>
       <b>vdeq</b> <b>kvm</b> [ <b>--mod</b> <u>octalmode</u> ] <u>KVM_OPTIONS</u> <b>-net</b> <b>vde[,vlan=n][,sock=socketpath][,port=n]</b> <u>KVM_OPTIONS</u>
       <b>vde</b>{<u>qemu_name</u>} [ <b>--mod</b> <u>octalmode</u> ] <u>QEMU_OPTIONS</u> <b>-net</b> <b>vde[,vlan=n][,sock=socketpath][,port=n]</b> <u>QEMU_OPTIONS</u>

</pre><h4><b>OLD</b> <b>SYNOPSIS</b></h4><pre>
       <b>vdeq</b> <b>qemu</b> [ <b>--mod</b> <u>octalmode</u> ] [ <b>-sock</b> <u>socketpath</u> [ <u>,socketpath</u> [ <u>,...</u>  ] ] ] [ qemu_args ]
       <b>vde</b>{<u>qemu_name</u>} [ <b>-sock</b> <u>socketpath</u> [ <u>,socketpath</u> [ <u>,...</u>  ] ] ] [ qemu_args ]

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>vdeq</b>  is  a wrapper to start a QEMU/KVM virtual machine connected to a VDE network.  It uses the qemu/kvm
       <b>-tun-fd</b>  parameter to set up the connection with a vde_switch.

       The command
              <b>vdeq</b> <b>qemu</b> <b>-b</b> <b>c</b> <b>-hda=sampledisk</b>
       starts a qemu machine which boots from the sampledisk image and has a ne2000 ethernet interface connected
       to the standard vde_switch.  The command
              <b>vdeq</b> <b>kvm</b> <b>-b</b> <b>c</b> <b>-hda=sampledisk</b>
       starts a kvm machine which boots from the sampledisk image and has a ne2000 ethernet interface  connected
       to the standard vde_switch.

       It  is  also  possible  to create symbolic links to the vdeq executable to have a simpler command. If the
       link has a name that begins with vde the remaining part of the name is taken as  the  qemu  command.  For
       example if vdeq is linked to vdeqemu:
              <b>vdeqemu</b> <b>-b</b> <b>c</b> <b>-hda=sampledisk</b>
       starts qemu as above. If vdeq is linked to vdekvm:
              <b>vdekvm</b> <b>-b</b> <b>c</b> <b>-hda=sampledisk</b>
       starts kvm with the same parameters.

       The  new  syntax  is  consistent  with  the new Qemu 0.8.0 network parameters.  Using vdeq is possible to
       specify a vde interface in the same way as user,tap or socket interfaces.  The  <b>sock=</b>  parameter  can  be
       used  to  use  a  specific socket.  Please note that what qemu names as vlan is not related to the 802.1q
       VLAN managed by the vde_switch.  <b>port=</b> can be used to specify the port of the switch, otherwise the first
       allocatable port is assigned.  The following command run a qemu VM with two ethernet interface  connected
       to the standard switch and to the switch with local socket "/tmp/my.ctl", port 10, respectively
              <b>vde</b> <b>qemu</b> <b>-net</b> <b>nic,vlan=0</b> <b>-net</b> <b>nic,vlan=1</b> <b>-net</b> <b>vde,vlan=0</b> <b>-net</b> <b>vde,vlan=1,sock=/tmp/my.ctl,port=10</b>
              <b>vdeqemu</b> <b>-net</b> <b>nic,vlan=0</b> <b>-net</b> <b>nic,vlan=1</b> <b>-net</b> <b>vde,vlan=0</b> <b>-net</b> <b>vde,vlan=1,sock=/tmp/my.ctl,port=10</b>
       The  following  command  run a kvm VM with two ethernet interface connected to the standard switch and to
       the switch with local socket "/tmp/my.ctl", port 10, respectively
              <b>vde</b> <b>kvm</b> <b>-net</b> <b>nic,vlan=0</b> <b>-net</b> <b>nic,vlan=1</b> <b>-net</b> <b>vde,vlan=0</b> <b>-net</b> <b>vde,vlan=1,sock=/tmp/my.ctl,port=10</b>
              <b>vdekvm</b> <b>-net</b> <b>nic,vlan=0</b> <b>-net</b> <b>nic,vlan=1</b> <b>-net</b> <b>vde,vlan=0</b> <b>-net</b> <b>vde,vlan=1,sock=/tmp/my.ctl,port=10</b>

       The old syntax can be used with Qemu 0.8.0 but all the vde interfaces are assigned to vlan 0.
              <b>vdeq</b> <b>qemu</b> <b>-sock</b> <b>/tmp/vde.ctl,/tmp/my.ctl</b> <b>-b</b> <b>c</b> <b>-hda=sampledisk</b>
              <b>vdeqemu</b> <b>-sock</b> <b>/tmp/vde.ctl,/tmp/my.ctl</b> <b>-b</b> <b>c</b> <b>-hda=sampledisk</b>
       both start qemu with <b>one</b> ethernet interface connected both to the standard switch and to the switch  with
       local socket "/tmp/my.ctl".

</pre><h4><b>OPTIONS</b></h4><pre>
       <b>--mod</b>  <u>octalmode,</u> specify the mode for comm socket.

       <b>-sock</b>  <u>socketpath,</u> specify the UNIX socket to be used by local programs for joining the VDE.  The default
              value  is  "/tmp/vde.ctl"  It is also possible to indicate several socketpath (comma separated, no
              blanks): in this case several interfaces are defined. The first socketpath  is  connected  to  the
              first ne2k interface and so on.

       <b>-h,</b> <b>-help,</b> <b>--help</b>
              print a Usage help.

</pre><h4><b>NOTE</b></h4><pre>
       Qemu  has  changed  its  syntax  for networking (cvs Nov.15 2005).  As a temporary solution use vdeoq and
       vdeoqemu instead of vdeq and vdeqemu if you are running a qemu with the old syntax.
       By default qemu uses the same MAC address for every virtual machine,  so  if  you  plan  to  use  several
       instances  of  qemu  be  sure  to  explicitly set a different MAC address for each virtual machine. While
       generating your address beware to not use broadcast/multicast reserved  MACs,  ethernet  rules  say:  the
       multicast  bit is the low-order bit of the first byte, which is "the first bit on the wire".  For example
       <u>34:12:de:ad:be:ef</u> is an unicast address, <u>35:12:de:ad:be:ef</u> is a multicast address (see ETHERNET MULTICAST
       ADDRESSES section in <a href="http://www.iana.org/assignments/ethernet-numbers">http://www.iana.org/assignments/ethernet-numbers</a> for more informations).

</pre><h4><b>NOTICE</b></h4><pre>
       Virtual Distributed Ethernet is not related in any way with  www.vde.com  ("Verband  der  Elektrotechnik,
       Elektronik und Informationstechnik" i.e. the German "Association for Electrical, Electronic &amp; Information
       Technologies").

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man1/vde_switch.1.html">vde_switch</a></b>(1), <b><a href="../man1/vde_plug.1.html">vde_plug</a></b>(1), <b><a href="../man1/vde_plug2tap.1.html">vde_plug2tap</a></b>(1), <b><a href="../man1/dpipe.1.html">dpipe</a></b>(1).

</pre><h4><b>AUTHOR</b></h4><pre>
       VDE is a project by Renzo Davoli &lt;<a href="mailto:renzo@cs.unibo.it">renzo@cs.unibo.it</a>&gt;

Virtual Distributed Ethernet                    December 6, 2006                                         <u><a href="../man1/VDEQ.1.html">VDEQ</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>