<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>This  manual  page  is part of the POSIX Programmer's Manual.  The Linux implementation of this interface</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/manpages-posix">manpages-posix_2017a-2_all</a> <br><br><pre>
</pre><h4><b>PROLOG</b></h4><pre>
       This  manual  page  is part of the POSIX Programmer's Manual.  The Linux implementation of this interface
       may differ (consult the corresponding Linux manual page for details of Linux behavior), or the  interface
       may not be implemented on Linux.

</pre><h4><b>NAME</b></h4><pre>
       ln — link files

</pre><h4><b>SYNOPSIS</b></h4><pre>
       ln <b>[</b>-fs<b>]</b> <b>[</b>-L|-P<b>]</b> <u>source_file</u> <u>target_file</u>

       ln <b>[</b>-fs<b>]</b> <b>[</b>-L|-P<b>]</b> <u>source_file</u>... <u>target_dir</u>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       In  the  first synopsis form, the <u>ln</u> utility shall create a new directory entry (link) at the destination
       path specified by the <u>target_file</u> operand. If the <b>-s</b> option  is  specified,  a  symbolic  link  shall  be
       created for the file specified by the <u>source_file</u> operand. This first synopsis form shall be assumed when
       the  final  operand  does not name an existing directory; if more than two operands are specified and the
       final is not an existing directory, an error shall result.

       In the second synopsis form, the <u>ln</u> utility shall create a new directory  entry  (link),  or  if  the  <b>-s</b>
       option  is  specified a symbolic link, for each file specified by a <u>source_file</u> operand, at a destination
       path in the existing directory named by <u>target_dir</u>.

       If the last operand specifies an existing file of a type not specified by the System Interfaces volume of
       POSIX.1‐2017, the behavior is implementation-defined.

       The corresponding destination path for  each  <u>source_file</u>  shall  be  the  concatenation  of  the  target
       directory  pathname,  a  &lt;slash&gt; character if the target directory pathname did not end in a &lt;slash&gt;, and
       the last pathname component of the <u>source_file</u>.  The second synopsis form shall be assumed when the final
       operand names an existing directory.

       For each <u>source_file</u>:

        1. If the destination path exists and was created by a previous step, it is unspecified whether <u>ln</u> shall
           write a diagnostic message to standard error, do nothing more with the current <u>source_file</u>, and go on
           to any remaining  <u>source_file</u>s;  or  will  continue  processing  the  current  <u>source_file</u>.   If  the
           destination path exists:

            a. If  the  <b>-f</b>  option  is  not specified, <u>ln</u> shall write a diagnostic message to standard error, do
               nothing more with the current <u>source_file</u>, and go on to any remaining <u>source_file</u>s.

            b. If the destination path names the same directory entry as the current <u>source_file</u> <u>ln</u> shall  write
               a  diagnostic  message to standard error, do nothing more with the current <u>source_file</u>, and go on
               to any remaining <u>source_file</u>s<u>.</u>

            c. Actions shall be performed equivalent to the <u>unlink</u>() function defined in the  System  Interfaces
               volume of POSIX.1‐2017, called using the destination path as the <u>path</u> argument. If this fails for
               any  reason,  <u>ln</u>  shall  write  a  diagnostic message to standard error, do nothing more with the
               current <u>source_file</u>, and go on to any remaining <u>source_file</u>s.

        2. If the <b>-s</b> option is specified, actions shall be performed equivalent to the <u>symlink</u>()  function  with
           <u>source_file</u>  as  the  <u>path1</u>  argument  and the destination path as the <u>path2</u> argument. The <u>ln</u> utility
           shall do nothing more with <u>source_file</u> and shall go on to any remaining files.

        3. If <u>source_file</u> is a symbolic link:

            a. If the <b>-P</b> option is in effect, actions shall be performed equivalent  to  the  <u>linkat</u>()  function
               with  <u>source_file</u>  as the <u>path1</u> argument, the destination path as the <u>path2</u> argument, AT_FDCWD as
               the <u>fd1</u> and <u>fd2</u> arguments, and zero as the <u>flag</u> argument.

            b. If the <b>-L</b> option is in effect, actions shall be performed equivalent  to  the  <u>linkat</u>()  function
               with  <u>source_file</u>  as the <u>path1</u> argument, the destination path as the <u>path2</u> argument, AT_FDCWD as
               the <u>fd1</u> and <u>fd2</u> arguments, and AT_SYMLINK_FOLLOW as the <u>flag</u> argument.

           The <u>ln</u> utility shall do nothing more with <u>source_file</u> and shall go on to any remaining files.

        4. Actions shall be performed equivalent to the <u>link</u>() function defined in the System Interfaces  volume
           of  POSIX.1‐2017  using  <u>source_file</u>  as  the  <u>path1</u>  argument, and the destination path as the <u>path2</u>
           argument.

</pre><h4><b>OPTIONS</b></h4><pre>
       The <u>ln</u> utility shall conform to the Base Definitions volume of POSIX.1‐2017, <u>Section</u> <u>12.2</u>, <u>Utility</u> <u>Syntax</u>
       <u>Guidelines</u>.

       The following options shall be supported:

       <b>-f</b>        Force existing destination pathnames to be removed to allow the link.

       <b>-L</b>        For each <u>source_file</u> operand that names a file of type symbolic link, create a (hard)  link  to
                 the file referenced by the symbolic link.

       <b>-P</b>        For  each  <u>source_file</u> operand that names a file of type symbolic link, create a (hard) link to
                 the symbolic link itself.

       <b>-s</b>        Create symbolic links instead of hard links. If the <b>-s</b> option  is  specified,  the  <b>-L</b>  and  <b>-P</b>
                 options shall be silently ignored.

       Specifying  more  than  one of the mutually-exclusive options <b>-L</b> and <b>-P</b> shall not be considered an error.
       The last option specified shall determine the behavior of the utility (unless the <b>-s</b> option causes it  to
       be ignored).

       If  the  <b>-s</b>  option is not specified and neither a <b>-L</b> nor a <b>-P</b> option is specified, it is implementation-
       defined which of the <b>-L</b> and <b>-P</b> options will be used as the default.

</pre><h4><b>OPERANDS</b></h4><pre>
       The following operands shall be supported:

       <u>source_file</u>
                 A pathname of a file to be linked. If the <b>-s</b> option is specified, no restrictions on  the  type
                 of  file  or  on  its  existence  shall  be  made. If the <b>-s</b> option is not specified, whether a
                 directory can be linked is implementation-defined.

       <u>target_file</u>
                 The pathname of the new directory entry to be created.

       <u>target_dir</u>
                 A pathname of an existing directory in which the new directory entries are created.

</pre><h4><b>STDIN</b></h4><pre>
       Not used.

</pre><h4><b>INPUT</b> <b>FILES</b></h4><pre>
       None.

</pre><h4><b>ENVIRONMENT</b> <b>VARIABLES</b></h4><pre>
       The following environment variables shall affect the execution of <u>ln</u>:

       <u>LANG</u>      Provide a default value for the internationalization variables that are unset or null. (See the
                 Base Definitions volume of POSIX.1‐2017, <u>Section</u> <u>8.2</u>, <u>Internationalization</u>  <u>Variables</u>  for  the
                 precedence   of   internationalization  variables  used  to  determine  the  values  of  locale
                 categories.)

       <u>LC_ALL</u>    If set to a non-empty string value, override the values of all the  other  internationalization
                 variables.

       <u>LC_CTYPE</u>  Determine  the  locale  for the interpretation of sequences of bytes of text data as characters
                 (for example, single-byte as opposed to multi-byte characters in arguments).

       <u>LC_MESSAGES</u>
                 Determine the locale that should be used to  affect  the  format  and  contents  of  diagnostic
                 messages written to standard error.

       <u>NLSPATH</u>   Determine the location of message catalogs for the processing of <u>LC_MESSAGES</u>.

</pre><h4><b>ASYNCHRONOUS</b> <b>EVENTS</b></h4><pre>
       Default.

</pre><h4><b>STDOUT</b></h4><pre>
       Not used.

</pre><h4><b>STDERR</b></h4><pre>
       The standard error shall be used only for diagnostic messages.

</pre><h4><b>OUTPUT</b> <b>FILES</b></h4><pre>
       None.

</pre><h4><b>EXTENDED</b> <b>DESCRIPTION</b></h4><pre>
       None.

</pre><h4><b>EXIT</b> <b>STATUS</b></h4><pre>
       The following exit values shall be returned:

        0    All the specified files were linked successfully.

       &gt;0    An error occurred.

</pre><h4><b>CONSEQUENCES</b> <b>OF</b> <b>ERRORS</b></h4><pre>
       Default.

       <u>The</u> <u>following</u> <u>sections</u> <u>are</u> <u>informative.</u>

</pre><h4><b>APPLICATION</b> <b>USAGE</b></h4><pre>
       None.

</pre><h4><b>EXAMPLES</b></h4><pre>
       None.

</pre><h4><b>RATIONALE</b></h4><pre>
       The  CONSEQUENCES OF ERRORS section does not require <u>ln</u> <b>-f</b> <u>a</u> <u>b</u> to remove <u>b</u> if a subsequent link operation
       would fail.

       Some historic versions of <u>ln</u> (including the one specified by the SVID) unlink the destination file, if it
       exists, by default. If the mode does not permit writing, these versions prompt  for  confirmation  before
       attempting  the  unlink.  In  these  versions  the  <b>-f</b>  option  causes  <u>ln</u>  not  to attempt to prompt for
       confirmation.

       This allows <u>ln</u> to succeed in creating links when the target file already exists, even if the file  itself
       is not writable (although the directory must be).  Early proposals specified this functionality.

       This volume of POSIX.1‐2017 does not allow the <u>ln</u> utility to unlink existing destination paths by default
       for the following reasons:

        *  The  <u>ln</u> utility has historically been used to provide locking for shell applications, a usage that is
           incompatible with <u>ln</u> unlinking the destination path by default. There was no corresponding  technical
           advantage to adding this functionality.

        *  This  functionality  gave  <u>ln</u>  the  ability to destroy the link structure of files, which changes the
           historical behavior of <u>ln</u>.

        *  This functionality is easily replicated with a combination of <u>rm</u> and <u>ln</u>.

        *  It is not historical practice in many systems; BSD  and  BSD-derived  systems  do  not  support  this
           behavior. Unfortunately, whichever behavior is selected can cause scripts written expecting the other
           behavior to fail.

        *  It is preferable that <u>ln</u> perform in the same manner as the <u>link</u>() function, which does not permit the
           target to exist already.

       This  volume  of POSIX.1‐2017 retains the <b>-f</b> option to provide support for shell scripts depending on the
       SVID semantics. It seems likely that shell scripts would not be written to handle  prompting  by  <u>ln</u>  and
       would therefore have specified the <b>-f</b> option.

       The  <b>-f</b> option is an undocumented feature of many historical versions of the <u>ln</u> utility, allowing linking
       to directories. These versions require modification.

       Early proposals of this volume of POSIX.1‐2017 also required a <b>-i</b>  option,  which  behaved  like  the  <b>-i</b>
       options in <u>cp</u> and <u>mv</u>, prompting for confirmation before unlinking existing files. This was not historical
       practice for the <u>ln</u> utility and has been omitted.

       The <b>-L</b> and <b>-P</b> options allow for implementing both common behaviors of the <u>ln</u> utility. Earlier versions of
       this  standard  did  not specify these options and required the behavior now described for the <b>-L</b> option.
       Many systems by default or as an alternative provided a non-conforming <u>ln</u> utility with the  behavior  now
       described  for the <b>-P</b> option. Since applications could not rely on <u>ln</u> following links in practice, the <b>-L</b>
       and <b>-P</b> options were added to specify the desired behavior for the application.

       The <b>-L</b> and <b>-P</b> options are ignored when <b>-s</b> is specified in order to allow an alias to be created to  alter
       the  default  behavior  when  creating hard links (for example, <u>alias</u> <u>ln</u>='<u>ln</u> <b>-L</b>').  They serve no purpose
       when <b>-s</b> is specified, since <u>source_file</u> is then just a string to be used as the contents of  the  created
       symbolic link and need not exist as a file.

       The  specification ensures that <u>ln</u> <b>a</b> <b>a</b> with or without the <b>-f</b> option will not unlink the file <b>a</b>.  Earlier
       versions of this standard were unclear in this case.

</pre><h4><b>FUTURE</b> <b>DIRECTIONS</b></h4><pre>
       None.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <u>chmod</u>, <u>find</u>, <u>pax</u>, <u>rm</u>

       The Base Definitions volume of POSIX.1‐2017, <u>Chapter</u> <u>8</u>,  <u>Environment</u>  <u>Variables</u>,  <u>Section</u>  <u>12.2</u>,  <u>Utility</u>
       <u>Syntax</u> <u>Guidelines</u>

       The System Interfaces volume of POSIX.1‐2017, <u>link</u>(), <u>unlink</u>()

</pre><h4><b>COPYRIGHT</b></h4><pre>
       Portions of this text are reprinted and reproduced in electronic form from IEEE Std 1003.1-2017, Standard
       for  Information  Technology  --  Portable  Operating  System  Interface  (POSIX),  The  Open  Group Base
       Specifications Issue 7, 2018 Edition, Copyright (C) 2018 by the Institute of Electrical  and  Electronics
       Engineers, Inc and The Open Group.  In the event of any discrepancy between this version and the original
       IEEE  and The Open Group Standard, the original IEEE and The Open Group Standard is the referee document.
       The original Standard can be obtained online at <a href="http://www.opengroup.org/unix/online.html">http://www.opengroup.org/unix/online.html</a> .

       Any typographical or formatting errors that appear in this page are most likely to have  been  introduced
       during   the   conversion  of  the  source  files  to  man  page  format.  To  report  such  errors,  see
       https://www.kernel.org/doc/man-pages/reporting_bugs.html .

IEEE/The Open Group                                   2017                                            <u><a href="../man1POSIX/LN.1POSIX.html">LN</a></u>(1POSIX)
</pre>
 </div>
</div></section>
</div>
</body>
</html>