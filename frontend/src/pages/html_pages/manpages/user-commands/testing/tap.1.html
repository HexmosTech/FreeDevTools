<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>run.js - Test-Anything-Protocol module for Node.js</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/node-tap">node-tap_16.3.7+ds3+~cs49.5.20-1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       run.js - Test-Anything-Protocol module for Node.js

</pre><h4><b>DESCRIPTION</b></h4><pre>
   <b>Usage:</b>
              tap [options] [&lt;files&gt;]

       tap v16.3.7 - A Test-Anything-Protocol library for JavaScript

       Executes  all  the  files  and interprets their output as TAP formatted test result data. If no files are
       specified, then tap will search for testy-looking files, and run those. (See '--test-regex' below.)

       To parse TAP data from stdin, specify "-" as a filename.

       Short options are parsed gnu-style, so for example '-bCRspec' would be equivalent to  '--bail  <b>--no-color</b>
       <b>--reporter</b>=<u>spec</u>'

       If  the  <b>--check-coverage</b>  or  <b>--coverage-report</b>  options  are provided explicitly, and no test files are
       specified, then a coverage report or coverage check will be run on the data from the last test run.

       Coverage is never enabled for stdin.

       Much more documentation available at: https://www.node-tap.org/

       Basic Options:

       <b>-R</b>&lt;type&gt; <b>--reporter=</b>&lt;type&gt;
              Use the specified reporter. Defaults to 'base' when colors are in use, or 'tap'  when  colors  are
              disabled.

       In addition to the built-in reporters provided by the
              treport  and  tap-mocha-reporter  modules,  the  reporter  option  can also specify a command-line
              program or a module to load via require().

       Command-line programs receive the raw TAP output on
              their stdin.

       Modules loaded via require() must export either a
              writable stream class or a React.Component subclass.  Writable streams are instantiated and  piped
              into. React components are rendered using Ink, with tap={tap} as their only property.

       Available built-in reporters: classic doc dot dump json
              jsonstream landing list markdown min nyan progress silent spec tap xunit

       <b>-r</b>&lt;arg&gt; <b>--reporter-arg=</b>&lt;arg&gt;
              Args to pass to command-line reporters. Ignored when using built-in reporters or module reporters.
              Can be set multiple times

       <b>-F</b> <b>--save-fixture</b>
              Do not clean up fixtures created with t.testdir()

       <b>--no-save-fixture</b>
              switch off the <b>--save-fixture</b> flag

       <b>-b</b> <b>--bail</b>
              Bail out on first failure

       <b>-B</b> <b>--no-bail</b>
              Do not bail out on first failure (default)

       <b>--comments</b>
              Print all tap comments to process.stderr

       <b>--no-comments</b>
              switch off the <b>--comments</b> flag

       <b>-c</b> <b>--color</b>
              Use colors (Default for TTY)

       <b>-C</b> <b>--no-color</b>
              Do not use colors (Default for non-TTY)

       <b>-S</b> <b>--snapshot</b>
              Set to generate snapshot files for 't.matchSnapshot()' assertions.

       <b>--no-snapshot</b>
              switch off the <b>--snapshot</b> flag

       <b>-w</b> <b>--watch</b>
              Watch for changes in the test suite or covered program.

       Runs the suite normally one time, and from then on,
              re-run just the portions of the suite that are required whenever a file changes.

       Opens a REPL to trigger tests and perform various
              actions.

       <b>--no-watch</b>
              switch off the <b>--watch</b> flag

       <b>-n</b> <b>--changed</b>
              Only run tests for files that have changed since the last run.

       This requires coverage to be enabled, because tap uses
              NYC's process info tracking to monitor which file is loaded by which tests.

       If no prior test run data exists, then all default
              files are run, as if <b>--changed</b> was not specified.

       <b>--no-changed</b>
              switch off the <b>--changed</b> flag

       <b>-s</b>&lt;file&gt; <b>--save=</b>&lt;file&gt; If &lt;file&gt; exists, then it should be a line- delimited
              list  of  test  files to run. If &lt;file&gt; is not present, then all command-line positional arguments
              are run.

       After the set of test files are run, any failed test
              files are written back to the save file.

       This way, repeated runs with <b>-s</b>&lt;file&gt; will re-run
              failures until all the failures are passing, and then once again run all tests.

       Its a good idea to .gitignore the file used for this
              purpose, as it will churn a lot.

       <b>-O</b> <b>--only</b>
              Only run tests with {only: true} option, or created with t.only(...) function.

       <b>--no-only</b>
              switch off the <b>--only</b> flag

       <b>-g</b>&lt;pattern&gt; <b>--grep=</b>&lt;pattern&gt;
              Only run subtests tests matching the specified pattern.

       Patterns are matched against top-level subtests in each
              file. To filter tests at subsequent levels, specify this option multiple times.

       To specify regular expression flags, format pattern
              like a JavaScript RegExp literal. For example: '/xyz/i' for case-insensitive matching.

              Can be set multiple times

       <b>-i</b> <b>--invert</b>
              Invert the matches to <b>--grep</b> patterns. (Like grep <b>-v</b>)

       <b>-I</b> <b>--no-invert</b>
              switch off the <b>--invert</b> flag

       <b>-t</b>&lt;n&gt; <b>--timeout=</b>&lt;n&gt;
              Time out test files after &lt;n&gt; seconds. Defaults to 30, or the value of the TAP_TIMEOUT environment
              variable.  Setting to 0 allows tests to run forever.

       When a test process calls t.setTimeout(n) on the
              top-level tap object, it also updates this value for that specific process.

       <b>-T</b> <b>--no-timeout</b>
              Do not time out tests. Equivalent to <b>--timeout</b>=<u>0</u>.

       <b>--files=</b>&lt;files&gt;
              Alternative way to specify test set rather than using positional arguments. Supported as an option
              so that test file arguments can be specified  in  .taprc  and  package.json  files.   Can  be  set
              multiple times

       Running Parallel Tests:

              Tap  can  run  multiple test files in parallel. This generally results in a speedier test run, but
              can also cause problems if your test files are not designed to be independent from one another.

              To designate a set of files as ok to run in parallel, add them to a folder containing a file named
              'tap-parallel-ok'.

              To designate a set of files as not ok to run in parallel, add them to a folder containing  a  file
              named 'tap-parallel-not-ok'.

              These folders may be nested within one another, and tap will do the right thing.

       <b>-j</b>&lt;n&gt; <b>--jobs=</b>&lt;n&gt;
              Run up to &lt;n&gt; test files in parallel.

       By default, this will be set to the number of CPUs on
              the system.

              Set <b>--jobs</b>=<u>1</u> to disable parallelization entirely.

       <b>-J</b> <b>--jobs-auto</b>
              Run test files in parallel (auto calculated)

       This is the default as of v13, so this option serves
              little  purpose  except to re-set the parallelization back to the default if an earlier option (or
              config file) set it differently.

       <b>--before=</b>&lt;module&gt;
              A node program to be run before test files are executed.

       Exiting with a non-zero status code or a signal will
              fail the test run and exit the process in error.

       <b>--after=</b>&lt;module&gt;
              A node program to be executed after tests are finished.

       This will be run even if a test in the series fails
              with a bailout, but it will *not* be run if a <b>--before</b> script fails.

       Exiting with a non-zero status code or a signal will
              fail the test run and exit the process in error.

       Code Coverage Options:

              Tap uses the nyc module internally to provide code coverage, so there is no  need  to  invoke  nyc
              yourself or depend on it directly unless you want to use it in other scenarios.

       <b>--100</b>  Enforce full coverage, 100%. Sets branches, statements, functions, and lines to 100.

       This is the default. To specify a lower limit (or no
              limit)  set  <b>--lines</b>,  <b>--branches</b>,  <b>--functions</b>,  or  <b>--statements</b>  to a lower number than 100, or
              disable  coverage  checking  with  <b>--no-check-coverage</b>,  or   disable   coverage   entirely   with
              <b>--no-coverage</b>.

       <b>-M</b>&lt;module&gt; <b>--coverage-map=</b>&lt;module&gt;
              Provide a path to a node module that exports a single function. That function takes a test file as
              an argument, and returns an array of files to instrument with coverage when that file is run.

       This is useful in cases where a unit test should cover
              a single portion of the system under test.

              Return 'null' to not cover any files by this test.

       Return an empty array [] to cover the set that nyc
              would pull in by default. Ie, returning [] is equivalent to not using a coverage map at all.

       <b>--no-coverage-map</b>
              Do  not  use a coverage map. Primarily useful for disabling a coverage-map that is set in a config
              file.

       <b>-cov</b> <b>--coverage</b>
              Capture coverage information using 'nyc' This is enabled by default.

       If a COVERALLS_REPO_TOKEN environment variable is set,
              and the 'coveralls' module is installed, then coverage is sent to the coveralls.io service.

       Note that tap does not automatically install coveralls,
              it must already be present in your project to use this feature.

       <b>-no-cov</b> <b>--no-coverage</b>
              Do not capture coverage information. Note that if nyc is already loaded, then  the  coverage  info
              will still be captured.

       <b>--coverage-report=</b>&lt;type&gt;
              Output coverage information using the specified istanbul/nyc reporter type.

       Default is 'text' when running on the command line, or
              'text-lcov' when piping to coveralls.

       If 'html' is used, then the report will be opened in a
              web browser after running.

       This can be run on its own at any time after a test run
              that included coverage.

       Built-in NYC reporters: clover cobertura html json
              json-summary lcov lcovonly none teamcity text text-lcov text-summary

              Can be set multiple times

       <b>--no-coverage-report</b>
              Do not output a coverage report, even if coverage information is generated.

       <b>--browser</b>
              Open a browser when an html coverage report is generated. (this is the default behavior)

       <b>--no-browser</b>
              Do not open a web browser after generating an html coverage report

       <b>-pstree</b> <b>--show-process-tree</b>
              Enable coverage and display the tree of spawned processes.

       <b>--no-show-process-tree</b> switch off the <b>--show-process-tree</b> flag

       Coverage Enfocement Options:

              These  options enable you to specify that the test will fail if a given coverage level is not met.
              Setting any of the options below will trigger the <b>--coverage</b> and <b>--check-coverage</b> flags.

              The most stringent is <b>--100</b>. You can find a list of projects running their  tests  like  this  at:
              https://www.node-tap.org/100

              If you run tests in this way, please add your project to the list.

       <b>--check-coverage</b>
              Check  whether  coverage  is  within  thresholds  provided.   Setting this explicitly will default
              <b>--coverage</b> to true.

       This can be run on its own any time after a test run
              that included coverage.

       <b>--no-check-coverage</b>
              switch off the <b>--check-coverage</b> flag

       <b>--branches=</b>&lt;n&gt;
              what % of branches must be covered?

       <b>--functions=</b>&lt;n&gt;
              what % of functions must be covered?

       <b>--lines=</b>&lt;n&gt;
              what % of lines must be covered?

       <b>--statements=</b>&lt;n&gt;
              what % of statements must be covered?

       Other Options:

       <b>-h</b> <b>--help</b>
              Show this helpful output

       <b>--no-help</b>
              switch off the <b>--help</b> flag

       <b>-v</b> <b>--version</b>
              Show the version of this program.

       <b>--no-version</b>
              switch off the <b>--version</b> flag

       <b>--test-regex=</b>&lt;pattern&gt; A regular expression pattern indicating tests to run if
              no positional arguments are provided.

       By default, tap will search for all files ending in
              .ts, .tsx, .js, .jsx, .cjs, or .mjs, in a top-level folder named test, tests, or __tests__, or any
              file ending in '.spec.' or '.test.' before a  supported  extension,  or  a  top-level  file  named
              'test.(js,jsx,...)' or 'tests.(js,jsx,...)'

       Ie, the default value for this option is:
              ((\/|^)(tests?|__tests?__)\<a href="file:/.">/.</a>*|\.(tests?|spec)|^\/?test s?)\.([mc]js|[jt]sx?)$

       Note that .jsx files will only be run when <b>--jsx</b> is
              enabled,  .ts  files  will  only be run when <b>--ts</b> is enabled, and .tsx files will only be run with
              both <b>--ts</b> and <b>--jsx</b> are enabled.

       <b>--test-ignore=</b>&lt;pattern&gt;
              When no positional arguments are provided, use the supplied regular expression pattern to  exclude
              tests that would otherwise be matched by the test-regexp.

              Defaults to '$.', which intentionally matches nothing.

       Note: folders named tap-snapshots, node_modules, .git,
              and  .hg  are  ALWAYS  excluded  from the default test file set. If you wish to run tests in these
              folders, then name the test files on the command line as positional arguments.

       <b>--test-arg=</b>&lt;arg&gt;
              Pass an argument to test files spawned by the tap command line executable. This can  be  specified
              multiple times to pass multiple args to test scripts.  Can be set multiple times

       <b>--test-env=</b>&lt;key[=&lt;value&gt;]&gt;
              Pass  a  key=value  (ie, <b>--test-env</b>=<u>key=value</u>) to set an environment variable in the process where
              tests are run.

       If a value is not provided, then the key is ensured to
              not be set in the environment. To set a key to the empty string, use <b>--test-env</b>=<u>key=</u>

              Can be set multiple times

       <b>--nyc-arg=</b>&lt;arg&gt;
              Pass an argument to nyc when running child processes with coverage enabled. This can be  specified
              multiple times to pass multiple args to nyc.  Can be set multiple times

       <b>--node-arg=</b>&lt;arg&gt;
              Pass  an  argument  to Node binary in all child processes.  Run 'node <b>--help</b>' to see a list of all
              relevant arguments. This can be specified multiple times to pass multiple args to  Node.   Can  be
              set multiple times

       <b>-gc</b> <b>--expose-gc</b>
              Expose the gc() function to Node.js tests

       <b>--debug</b>
              Turn on debug mode

       <b>--no-debug</b>
              switch off the <b>--debug</b> flag

       <b>--debug-brk</b>
              Run JavaScript tests with node <b>--debug-brk</b>

       <b>--harmony</b>
              Enable all Harmony flags in JavaScript tests

       <b>--strict</b>
              Run JS tests in 'use strict' mode

       <b>--flow</b> Removes flow types

       <b>--no-flow</b>
              switch off the <b>--flow</b> flag

       <b>--ts</b>   Automatically  load  .ts  and  .tsx  tests  ts-node  module.   Note: you must provide ts-node as a
              dependency yourself, tap does not automatically bundle it.  (Default: false)

       <b>--no-ts</b>
              switch off the <b>--ts</b> flag

       <b>--jsx</b>  Automatically load .jsx tests using tap's bundled import-jsx loader (Default: false)

       <b>--no-jsx</b>
              switch off the <b>--jsx</b> flag

       <b>--nyc-help</b>
              Print nyc usage banner. Useful for viewing options for <b>--nyc-arg</b>.

       <b>--no-nyc-help</b>
              switch off the <b>--nyc-help</b> flag

       <b>--nyc-version</b>
              Print version of nyc used by tap.

       <b>--no-nyc-version</b>
              switch off the <b>--nyc-version</b> flag

       <b>--parser-version</b>
              Print the version of tap-parser used by tap.

       <b>--no-parser-version</b>
              switch off the <b>--parser-version</b> flag

       <b>--versions</b>
              Print versions of tap, nyc, and tap-parser

       <b>--no-versions</b>
              switch off the <b>--versions</b> flag

       <b>--dump-config</b>
              Dump the config options in YAML format

       <b>--no-dump-config</b>
              switch off the <b>--dump-config</b> flag

       <b>--rcfile=</b>&lt;file&gt;
              Load any of these configurations from a YAML-formatted file at the  path  specified.  Defaults  to
              .taprc in the current working directory.

       Run 'tap <b>--dump-config</b>' to see available options and
              formatting.

       <b>--libtap-settings=</b>&lt;module&gt;
              A  module  which  exports an object of fields to assign onto 'libtap/settings'. These are advanced
              configuration options for modifying the behavior of tap's internal runtime.

       Module path is resolved relative to the current working
              directory.

       Allowed fields: rmdirRecursive, rmdirRecursiveSync,
              StackUtils, stackUtils, output, snapshotFile.

              See libtap documentation for expected values and usage.

              https://github.com/tapjs/libtap

       <b>-o</b>&lt;file&gt; <b>--output-file=</b>&lt;file&gt;
              Send the raw TAP output to the specified file. Reporter output will still be  printed  to  stdout,
              but the file will contain the raw TAP for later replay or analysis.

       <b>-d</b>&lt;dir&gt; <b>--output-dir=</b>&lt;dir&gt;
              Send  the raw TAP output to the specified directory. A separate .tap file will be created for each
              test file that is run. Reporter output will still be printed to stdout, but the files will contain
              the raw TAP for later replay or analysis.

       Files will be created to match the folder structure and
              filenames of test files run, but with '.tap' appended to the filenames.

       <b>--</b>     Stop parsing flags, and treat any additional command line arguments as filenames.

       Environment Variables:

       COVERALLS_REPO_TOKEN
              Set to a Coveralls token to automatically send coverage information  to  https://coveralls.io,  if
              the 'coveralls' module is installed in the project.

       TAP_CHILD_ID
              Test  files  have  this  value  set  to  a numeric value when run through the test runner. It also
              appears on the root tap object as `tap.childId`.

       TAP_SNAPSHOT
              Set to '1' to generate snapshot files for 't.matchSnapshot()' assertions.

       TAP_RCFILE
              A yaml formatted file which can set any of the above options. Defaults to ./.taprc

       TAP_LIBTAP_SETTINGS
              A path (relative to current working directory) of a file  that  exports  fields  to  override  the
              default libtap settings

       TAP_TIMEOUT
              Default value for <b>--timeout</b> option.

       TAP_COLORS
              Set to '1' to force color output, or '0' to prevent color output.

       TAP_BAIL
              Bail out on the first test failure. Used internally when '--bailout' is set.

       TAP    Set to '1' to force standard TAP output, and suppress any reporters. Used when running child tests
              so that their output is parseable by the test harness.

       TAP_DIAG
              Set to '1' to show diagnostics by default for passing tests. Set to '0' to NOT show diagnostics by
              default for failing tests. If not one of these two values, then diagnostics are printed by default
              for failing tests, and not for passing tests.

       TAP_BUFFER
              Set to '1' to run subtests in buffered mode by default.

       TAP_DEV_LONGSTACK
              Set to '1' to include node-tap internals in stack traces. By default, these are included only when
              the  current  working  directory  is  the tap project itself.  Note that node internals are always
              excluded.

       TAP_DEBUG
              Set to '1' to turn on debug mode.

       NODE_DEBUG
              Include 'tap' to turn on debug mode.

       TAP_GREP
              A '\n'-delimited list of grep  patterns  to  apply  to  root  level  test  objects.  (This  is  an
              implementation detail for how the '--grep' option works.)

       TAP_GREP_INVERT
              Set  to  '1' to invert the meaning of the patterns in TAP_GREP. (Implementation detail for how the
              '--invert' flag works.)

       TAP_ONLY
              Set to '1' to set the <b>--only</b> flag

       TAP_TS Set to '1' to enable automatic typescript support

       TAP_JSX
              Set to '1' to enable automatic jsx support

       Config Files:

              You can create a yaml file with any of the options above. By default, the file at ./.taprc will be
              loaded, but the <b>--rcfile</b> option or TAP_RCFILE environment variable can modify this.

              Run 'tap <b>--dump-config</b>' for a listing of  what  can  be  set  in  that  file.  Each  of  the  keys
              corresponds to one of the options above.

run.js 16.3.7                                      August 2024                                         <u><a href="../man1/RUN.JS.1.html">RUN.JS</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>