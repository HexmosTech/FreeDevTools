<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title></title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/mariadb-test">mariadb-test_11.4.7-0ubuntu0.25.04.1_amd64</a> <br><br><pre>
<b>MARIADB-TEST</b>(1)                              MariaDB Database System                             <b>MARIADB-TEST</b>(1)

</pre><h4><b>NAME</b></h4><pre>
       mariadb-test - program to run test cases (mariadb-test is now a symlink to mariadb-test)
       mariadb-test-embedded - program to run embedded test cases

</pre><h4><b>SYNOPSIS</b></h4><pre>

       <b>mariadb-test</b> <b>[</b><u>options</u><b>]</b> <b>[</b><u>db_name</u><b>]</b>

       <b>mariadb-test-embedded</b> <b>[</b><u>options</u><b>]</b> <b>[</b><u>db_name</u><b>]</b>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The <b>mariadb-test</b> program runs a test case against a MariaDB server and optionally compares the output
       with a result file. This program reads input written in a special test language. Typically, you invoke
       <b>mariadb-test</b> via <b>mariadb-test-run.pl</b> rather than invoking it directly.

       <b>mariadb-test-embedded</b> is similar but is built with support for the libmariadbd embedded server.

       Features of <b>mariadb-test</b>:

       •   Can send SQL statements to MariaDB servers for execution

       •   Can execute external shell commands

       •   Can test whether the result from an SQL statement or shell command is as expected

       •   Can connect to one or more standalone <b>mariadbd</b> servers and switch between connections

       •   Can connect to an embedded server (libmariadbd), if MariaDB is compiled with support for libmariadbd.
           (In this case, the executable is named <b>mariadb-test-embedded</b> rather than <b>mariadb-test</b>.)

       By default, <b>mariadb-test</b> reads the test case on the standard input. To run <b>mariadb-test</b> this way, you
       normally invoke it like this:

           shell&gt; <b>mariadb-test</b> <b>[</b><u>options</u><b>]</b> <b>[</b><u>db_name</u><b>]</b> <b>&lt;</b> <u>test_file</u>

       You can also name the test case file with a <b>--test-file=</b><u>file_name</u> option.

       The exit value from <b>mariadb-test</b> is 0 for success, 1 for failure, and 62 if it skips the test case (for
       example, if after checking some preconditions it decides not to run the test).

       <b>mariadb-test</b> supports the following options:

       •   <b>--help</b>, <b>-?</b>

           Display a help message and exit.

       •   <b>--basedir=</b><u>dir_name</u>, <b>-b</b> <u>dir_name</u>

           The base directory for tests.

       •   <b>--character-sets-dir=</b><u>path</u>

           The directory where character sets are installed.

       •   <b>--compress</b>, <b>-C</b>

           Compress all information sent between the client and the server if both support compression.

       •   <b>--connect-timeout=</b><u>num</u>

           This can be used to set the MYSQL_OPT_CONNECT_TIMEOUT parameter of mysql_options to change the number
           of seconds before an unsuccessful connection attempt times out.

       •   <b>--continue-on-error</b>

           Continue test even if we got an error. This is mostly useful when testing a storage engine to see
           what from a test file it can execute, or to find all syntax errors in a newly created big test file.

       •   <b>--cursor-protocol</b>

           Use cursors for prepared statements.

       •   <b>--database=</b><u>db_name</u>, <b>-D</b> <u>db_name</u>

           The default database to use.

       •   <b>--debug[=</b><u>debug_options</u><b>]</b>, <b>-#[</b><u>debug_options</u><b>]</b>

           Write a debugging log if MariaDB is built with debugging support. The default <u>debug_options</u> value is
           'd:t:S:i:O,/tmp/mariadb-test.trace'.

       •   <b>--debug-check</b>

           Print some debugging information when the program exits.

       •   <b>--debug-info</b>

           Print debugging information and memory and CPU usage statistics when the program exits.

       •   <b>--host=</b><u>host_name</u>, <b>-h</b> <u>host_name</u>

           Connect to the MariaDB server on the given host.

       •   <b>--logdir=</b><u>dir_name</u>

           The directory to use for log files.

       •   <b>--mark-progress</b>

           Write the line number and elapsed time to <u>test_file</u>.progress.

       •   <b>--max-connect-retries=</b><u>num</u>

           The maximum number of connection attempts when connecting to server.

       •   <b>--max-connections=</b><u>num</u>

           The maximum number of simultaneous server connections per client (that is, per test). If not set, the
           maximum is 128. Minimum allowed limit is 8, maximum is 5120.

       •   <b>--no-defaults</b>

           Do not read default options from any option files. If used, this must be the first option.

       •   <b>--non-blocking-api</b>

           Use the non-blocking client API for communication.

       •   <b>--overlay-dir=</b><u>dir_name</u>

           Overlay directory.

       •   <b>--password[=</b><u>password</u><b>]</b>, <b>-p[</b><u>password</u><b>]</b>

           The password to use when connecting to the server. If you use the short option form (<b>-p</b>), you <u>cannot</u>
           have a space between the option and the password. If you omit the <u>password</u> value following the
           <b>--password</b> or <b>-p</b> option on the command line, you are prompted for one.

       •   <b>--plugin-dir=</b><u>dir_name</u>

           Directory for client-side plugins.

       •   <b>--port=</b><u>port_num</u>, <b>-P</b> <u>port_num</u>

           The TCP/IP port number to use for the connection or 0 for default to, in order of preference, my.cnf,
           $MYSQL_TCP_PORT, <a href="file:/etc/services">/etc/services</a>, built-in default (3306).

       •   <b>--prologue=</b><u>name</u>

           Include the contents of the given file before processing the contents of the test file. The included
           file should have the same format as other <b>mariadb-test</b> test files. This option has the same effect as
           putting a --source <u>file_name</u> command as the first line of the test file.

       •   <b>--protocol={TCP|SOCKET|PIPE|MEMORY}</b>

           The connection protocol to use for connecting to the server. It is useful when the other connection
           parameters normally would cause a protocol to be used other than the one you want.

       •   <b>--ps-protocol</b>

           Use the prepared-statement protocol for communication.

       •   <b>--quiet</b>

           Suppress all normal output. This is a synonym for <b>--silent</b>.

       •   <b>--record</b>, <b>-r</b>

           Record the output that results from running the test file into the file named by the <b>--result-file</b>
           option, if that option is given. It is an error to use this option without also using <b>--result-file</b>.

       •   <b>--result-file=</b><u>file_name</u>, <b>-R</b> <u>file_name</u>

           This option specifies the file for test case expected results.  <b>--result-file</b>, together with
           <b>--record</b>, determines how <b>mariadb-test</b> treats the test actual and expected results for a test case:

           •   If the test produces no results, <b>mariadb-test</b> exits with an error message to that effect, unless
               <b>--result-file</b> is given and the named file is an empty file.

           •   Otherwise, if <b>--result-file</b> is not given, <b>mariadb-test</b> sends test results to the standard output.

           •   With <b>--result-file</b> but not <b>--record</b>, <b>mariadb-test</b> reads the expected results from the given file
               and compares them with the actual results. If the results do not match, <b>mariadb-test</b> writes a
               .reject file in the same directory as the result file, outputs a diff of the two files, and exits
               with an error.

           •   With both <b>--result-file</b> and <b>--record</b>, <b>mariadb-test</b> updates the given file by writing the actual
               test results to it.

       •   <b>--result-format-version=</b><u>#</u>

           Version of the result file format to use.

       •   <b>--server-arg=</b><u>value</u>, <b>-A</b> <u>value</u>

           Pass the argument as an argument to the embedded server. For example, <b>--server-arg=--tmpdir=<a href="file:/tmp">/tmp</a></b> or
           <b>--server-arg=--core</b>. Up to 64 arguments can be given.

       •   <b>--server-file=</b><u>file_name</u>, <b>-F</b> <u>file_name</u>

           Read arguments for the embedded server from the given file. The file should contain one argument per
           line.

       •   <b>--silent</b>, <b>-s</b>

           Suppress all normal output.

       •   <b>--sleep=</b><u>num</u>, <b>-T</b> <u>num</u>

           Cause all sleep commands in the test case file to sleep <u>num</u> seconds. This option does not affect
           real_sleep commands.

           An option value of 0 can be used, which effectively disables sleep commands in the test case.

       •   <b>--socket=</b><u>path</u>, <b>-S</b> <u>path</u>

           The socket file to use when connecting to localhost (which is the default host).

       •   <b>--sp-protocol</b>

           Execute DML statements within a stored procedure. For every DML statement, <b>mariadb-test</b> creates and
           invokes a stored procedure that executes the statement rather than executing the statement directly.

       •   <b>--ssl</b>

           Enable SSL for connection (automatically enabled with other flags). Disable with <b>--skip-ssl</b>.

       •   <b>--ssl-ca=</b><u>name</u>

           CA file in PEM format (check OpenSSL docs, implies <b>--ssl</b>).

       •   <b>--ssl-capath=</b><u>name</u>

           CA directory (check OpenSSL docs, implies <b>--ssl</b>).

       •   <b>--ssl-cert=</b><u>name</u>

           X509 cert in PEM format (check OpenSSL docs, implies <b>--ssl</b>).

       •   <b>--ssl-cipher=</b><u>name</u>

           SSL cipher to use (check OpenSSL docs, implies <b>--ssl</b>).

       •   <b>--ssl-key=</b><u>name</u>

           X509 key in PEM format (check OpenSSL docs, implies <b>--ssl</b>).

       •   <b>--ssl-crl=</b><u>name</u>

           Certificate revocation list (check OpenSSL docs, implies <b>--ssl</b>).

       •   <b>--ssl-crlpath=</b><u>name</u>

           Certificate revocation list path (check OpenSSL docs, implies <b>--ssl</b>).

       •   <b>--ssl-verify-server-cert</b>

           Verify server's "Common Name" in its cert against hostname used when connecting. This option is
           disabled by default.

       •   <b>--suite-dir=</b><u>dir_name</u>

           Suite directory.

       •   <b>--tail-lines=</b><u>nn</u>

           Specify how many lines of the result to include in the output if the test fails because an SQL
           statement fails. The default is 0, meaning no lines of result printed.

       •   <b>--test-file=</b><u>file_name</u>, <b>-x</b> <u>file_name</u>

           Read test input from this file. The default is to read from the standard input.

       •   <b>--timer-file=</b><u>file_name</u>, <b>-m</b> <u>file_name</u>

           If given, the number of microseconds spent running the test will be written to this file. This is
           used by <b>mariadb-test-run.pl</b> for its reporting.

       •   <b>--tmpdir=</b><u>dir_name</u>, <b>-t</b> <u>dir_name</u>

           The temporary directory where socket files are created.

       •   <b>--user=</b><u>user_name</u>, <b>-u</b> <u>user_name</u>

           The MariaDB user name to use when connecting to the server.

       •   <b>--verbose</b>, <b>-v</b>

           Verbose mode. Print out more information about what the program does.

       •   <b>--version</b>, <b>-V</b>

           Display version information and exit.

       •   <b>--view-protocol</b>

           Every SELECT statement is wrapped inside a view.

</pre><h4><b>COPYRIGHT</b></h4><pre>
       Copyright © 2007, 2010, Oracle and/or its affiliates, 2010-2024 MariaDB Foundation

       This documentation is free software; you can redistribute it and/or modify it only under the terms of the
       GNU General Public License as published by the Free Software Foundation; version 2 of the License.

       This documentation is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without
       even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General
       Public License for more details.

       You should have received a copy of the GNU General Public License along with the program; if not, write
       to the Free Software Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA 02110-1335 USA or see
       <a href="http://www.gnu.org/licenses/">http://www.gnu.org/licenses/</a>.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       For more information, please refer to the MariaDB Knowledge Base, available online at
       https://mariadb.com/kb/

</pre><h4><b>AUTHOR</b></h4><pre>
       MariaDB Foundation (<a href="http://www.mariadb.org/">http://www.mariadb.org/</a>).

MariaDB 11.4                                    3 September 2024                                 <b><a href="../man1/MARIADB-TEST.1.html">MARIADB-TEST</a></b>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>