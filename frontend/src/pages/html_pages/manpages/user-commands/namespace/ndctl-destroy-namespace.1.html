<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ndctl-destroy-namespace - destroy the given namespace(s)</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/ndctl">ndctl_77-2.2ubuntu2_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       ndctl-destroy-namespace - destroy the given namespace(s)

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <u>ndctl</u> <u>destroy-namespace</u> &lt;namespace&gt; [&lt;options&gt;]

</pre><h4><b>THEORY</b> <b>OF</b> <b>OPERATION</b></h4><pre>
       The capacity of an NVDIMM REGION (contiguous span of persistent memory) is accessed via one or more
       NAMESPACE devices. REGION is the Linux term for what ACPI and UEFI call a DIMM-interleave-set, or a
       system-physical-address-range that is striped (by the memory controller) across one or more memory
       modules.

       The UEFI specification defines the <u>NVDIMM</u> <u>Label</u> <u>Protocol</u> as the combination of label area access methods
       and a data format for provisioning one or more NAMESPACE objects from a REGION. Note that label support
       is optional and if Linux does not detect the label capability it will automatically instantiate a
       "label-less" namespace per region. Examples of label-less namespaces are the ones created by the kernel’s
       <u>memmap=ss!nn</u> command line option (see the nvdimm wiki on kernel.org), or NVDIMMs without a valid
       <u>namespace</u> <u>index</u> in their label area.

           <b>Note</b>

           Label-less namespaces lack many of the features of their label-rich cousins. For example, their size
           cannot be modified, or they cannot be fully <u>destroyed</u> (i.e. the space reclaimed). A destroy operation
           will zero any mode-specific metadata. Finally, for create-namespace operations on label-less
           namespaces, ndctl bypasses the region capacity availability checks, and always satisfies the request
           using the full region capacity. The only reconfiguration operation supported on a label-less
           namespace is changing its <u>mode</u>.

       A namespace can be provisioned to operate in one of 4 modes, <u>fsdax</u>, <u>devdax</u>, <u>sector</u>, and <u>raw</u>. Here are the
       expected usage models for these modes:

       •   fsdax: Filesystem-DAX mode is the default mode of a namespace when specifying <u>ndctl</u> <u>create-namespace</u>
           with no options. It creates a block device (/dev/pmemX[.Y]) that supports the DAX capabilities of
           Linux filesystems (xfs and ext4 to date). DAX removes the page cache from the I/O path and allows
           <a href="../man2/mmap.2.html">mmap</a>(2) to establish direct mappings to persistent memory media. The DAX capability enables workloads
           / working-sets that would exceed the capacity of the page cache to scale up to the capacity of
           persistent memory. Workloads that fit in page cache or perform bulk data transfers may not see
           benefit from DAX. When in doubt, pick this mode.

       •   devdax: Device-DAX mode enables similar <a href="../man2/mmap.2.html">mmap</a>(2) DAX mapping capabilities as Filesystem-DAX. However,
           instead of a block-device that can support a DAX-enabled filesystem, this mode emits a single
           character device file (/dev/daxX.Y). Use this mode to assign persistent memory to a virtual-machine,
           register persistent memory for RDMA, or when gigantic mappings are needed.

       •   sector: Use this mode to host legacy filesystems that do not checksum metadata or applications that
           are not prepared for torn sectors after a crash. Expected usage for this mode is for small boot
           volumes. This mode is compatible with other operating systems.

       •   raw: Raw mode is effectively just a memory disk that does not support DAX. Typically this indicates a
           namespace that was created by tooling or another operating system that did not know how to create a
           Linux <u>fsdax</u> or <u>devdax</u> mode namespace. This mode is compatible with other operating systems, but
           again, does not support DAX operation.

</pre><h4><b>OPTIONS</b></h4><pre>
       &lt;namespace&gt;
           A <u>namespaceX.Y</u> device name. The keyword <u>all</u> can be specified to carry out the operation on every
           namespace in the system, optionally filtered by region (see --region=option)

       -r, --region=
           A <u>regionX</u> device name, or a region id number. Restrict the operation to the specified region(s). The
           keyword <u>all</u> can be specified to indicate the lack of any restriction, however this is the same as not
           supplying a --region option at all.

       -b, --bus=
           A bus id number, or a provider string (e.g. "ACPI.NFIT"). Restrict the operation to the specified
           bus(es). The keyword <u>all</u> can be specified to indicate the lack of any restriction, however this is
           the same as not supplying a --bus option at all.

       -v, --verbose
           Emit debug messages for the namespace operation

       -f, --force
           Unless this option is specified the <u>destroy</u> <u>namespace</u> operation will fail if the namespace is
           presently active. Specifying --force causes the namespace to be disabled before the operation is
           attempted. However, if the namespace is mounted then the <u>disable</u> <u>namespace</u> and <u>destroy</u> <u>namespace</u>
           operations will be aborted. The namespace must be unmounted before being destroyed.

</pre><h4><b>COPYRIGHT</b></h4><pre>
       Copyright © 2016 - 2022, Intel Corporation. License GPLv2: GNU GPL version 2
       <a href="http://gnu.org/licenses/gpl.html">http://gnu.org/licenses/gpl.html</a>. This is free software: you are free to change and redistribute it.
       There is NO WARRANTY, to the extent permitted by law.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <a href="../man1/ndctl-create-namespace.1.html">ndctl-create-namespace</a>(1)

ndctl                                              2024-11-01                         <u><a href="../man1/NDCTL-DESTROY-NAMESPACE.1.html">NDCTL-DESTROY-NAMESPACE</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>