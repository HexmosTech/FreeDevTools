<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>vnetbuild - an easy to use but powerful namespace setup tool</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/firehol-tools">firehol-tools_3.1.7+ds-5_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       vnetbuild - an easy to use but powerful namespace setup tool

</pre><h4><b>SYNOPSIS</b></h4><pre>
       sudo vnetbuild <u>CONFIGFILE</u> { start | stop | status }

       vnetbuild <u>CONFIGFILE</u> graphviz <u>OUTFILE</u>.{gv|png|pdf|ps}

</pre><h4><b>DESCRIPTION</b></h4><pre>
       VNetBuild  is  a  program  that helps you set up groups of interconnected network namespaces, to simulate
       networks of any complexity without resorting to using real or virtual machines.

       This is ideal for testing complex multi-host configurations with a  minimal  amount  of  resources  on  a
       single machine:

       • Each namespace can have its own network setup, including firewall and QOS configuration.

       • Commands can be run in the namespace and will have that specific view of the network, including running
         standard network tools and daemons.

       Run without any arguments, vnetbuild will present some help on usage.

</pre><h4><b>COMMANDS</b></h4><pre>
       start  Sets up a series of network namespaces as defined in <u>CONFIGFILE</u>.  vnetbuild creates interconnected
              network  devices  as  specified in the configuration, sets up routing and runs any custom commands
              that are given within the namespace.

       stop   Removes any devices from the namespaces defined in <u>CONFIGFILE</u> and kills any processes running with
              the namespaces, then removes the namespaces themselves.

       status For each namespace defined in <u>CONFIGFILE</u>, shows if it is active and if so its network devices  and
              their configuration.

       graphviz <u>OUTFILE</u>
              Generates  a graph of the network defined in <u>CONFIGFILE</u>.  This does not need root access, nor does
              it require the namespaces to have been started.

              <u>OUTFILE</u> can be png pdf or ps.  If the extension gv is given the output is a <a href="../man7/graphviz.7.html">graphviz</a>(7) file which
              you can process separately.

</pre><h4><b>RUNNING</b> <b>COMMANDS</b> <b>IN</b> <b>A</b> <b>NAMESPACE</b></h4><pre>
       Once you have created a set of network namespaces, you can easily run any commands you want within  them.
       If for instance you defined three hosts (host_a with IP 10.0.0.1, host_b with IP 10.0.0.2 and host_c with
       IP 10.0.0.3) connected via a common switch sw0:

               # ping host_b and host_c from host_a
               sudo ip netns exec host_a ping 10.0.0.2
               sudo ip netns exec host_a ping 10.0.0.3

               # use netcat to listen on host_a and send data from host_b
               # (use two terminals to run the commands simultaneously)
               sudo ip netns exec host_a nc -l -p 23
               sudo ip netns exec host_b nc -q 0 10.0.0.1 23 &lt; <a href="file:/etc/hosts">/etc/hosts</a>

               # capture traffic passing through the switch, then view it
               sudo ip netns exec sw0 tcpdump -i switch -w capfile
               wireshark capfile

               # Use 'firehol panic' in host_b to block all traffic
               # (you could equally load a full config etc.)
               sudo ip netns exec host_b firehol panic

               # this is now blocked
               sudo ip netns exec host_a ping 10.0.0.2

               # not blocked (host_b not involved)
               sudo ip netns exec host_a ping 10.0.0.3

               # obtain a shell for your regular user, only "in" host_c
               sudo ip netns exec host_c sudo -i -u $USER
               ip a | grep 10.0.0.3

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       • <a href="../man5/vnetbuild.conf.5.html">vnetbuild.conf</a>(5) - VNetBuild configuration file

       • <a href="../man1/firehol.1.html">firehol</a>(1) - FireHOL program

       • <a href="../man1/fireqos.1.html">fireqos</a>(1) - FireQOS program

       • FireHOL Website

       • VNetBuild Online PDF Manual

       • VNetBuild Online Documentation

</pre><h4><b>AUTHORS</b></h4><pre>
       FireHOL Team.

VNetBuild Reference                             Built 22 Sep 2024                                   <u><a href="../man1/vnetbuild.1.html">vnetbuild</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>