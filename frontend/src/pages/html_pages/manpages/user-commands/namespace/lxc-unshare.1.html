<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>lxc-unshare - Run a task in a new set of namespaces.</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/lxc">lxc_6.0.3-1ubuntu1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       lxc-unshare - Run a task in a new set of namespaces.

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>lxc-unshare</b> {-s, --namespaces <u>namespaces</u>} [-u, --user <u>user</u>] [-H, --hostname <u>hostname</u>] [-i, --ifname
                   <u>ifname</u>] [-d, --daemon] [-M, --remount] {command}

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>lxc-unshare</b>  can be used to run a task in a cloned set of namespaces. This command is mainly provided for
       testing purposes.  Despite its name, it always uses clone rather than unshare to create the new task with
       fresh namespaces. Apart from testing kernel regressions this should make no difference.

</pre><h4><b>OPTIONS</b></h4><pre>
       <b>-s,</b> <b>--namespaces</b> <u>namespaces</u>
              Specify the namespaces to attach to, as a pipe-separated list, e.g.  <u>NETWORK|IPC</u>.  Allowed  values
              are  <u>MOUNT</u>,  <u>PID</u>,  <u>UTSNAME</u>,  <u>IPC</u>,  <u>USER</u>  and <u>NETWORK</u>. This allows one to change the context of the
              process to e.g. the network namespace of the container while retaining  the  other  namespaces  as
              those  of  the  host.  (The  pipe  symbol  needs  to  be escaped, e.g.  <u>MOUNT\|PID</u> or quoted, e.g.
              <u>"MOUNT|PID"</u>.)

       <b>-u,</b> <b>--user</b> <u>user</u>
              Specify a userid which the new task should become.

       <b>-H,</b> <b>--hostname</b> <u>hostname</u>
              Set the hostname in the new container. Only allowed if the UTSNAME namespace is set.

       <b>-i,</b> <b>--ifname</b> <u>interfacename</u>
              Move the named interface into the container. Only allowed if the NETWORK namespace is set. You may
              specify this argument multiple times to move multiple interfaces into container.

       <b>-d,</b> <b>--daemon</b>
              Daemonize (do not wait for the container to exit before exiting)

       <b>-M,</b> <b>--remount</b>
              Mount default filesystems (<a href="file:/proc">/proc</a> <a href="file:/dev/shm">/dev/shm</a> and <a href="file:/dev/mqueue">/dev/mqueue</a>) in the container. Only allowed if MOUNT
              namespace is set.

</pre><h4><b>EXAMPLES</b></h4><pre>
       To spawn a new shell with its own UTS (hostname) namespace,

                 lxc-unshare -s UTSNAME <a href="file:/bin/bash">/bin/bash</a>

       If the hostname is changed in that shell, the change will not be reflected on the host.

       To spawn a shell in a new network, pid, and mount namespace,

                 lxc-unshare -s "NETWORK|PID|MOUNT" <a href="file:/bin/bash">/bin/bash</a>

       The resulting shell will have pid 1 and will see no network interfaces.  After re-mounting <a href="file:/proc">/proc</a> in  that
       shell,

                 mount -t proc proc <a href="file:/proc">/proc</a>

       ps output will show there are no other processes in the namespace.

       To spawn a shell in a new network, pid, mount, and hostname namespace.

                 lxc-unshare -s "NETWORK|PID|MOUNT|UTSNAME" -M -H myhostname -i veth1 <a href="file:/bin/bash">/bin/bash</a>

       The resulting shell will have pid 1 and will see two network interfaces (lo and veth1). The hostname will
       be  "myhostname"  and <a href="file:/proc">/proc</a> will have been remounted. ps output will show there are no other processes in
       the namespace.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man7/lxc.7.html">lxc</a></b>(7), <b><a href="../man1/lxc-create.1.html">lxc-create</a></b>(1), <b><a href="../man1/lxc-copy.1.html">lxc-copy</a></b>(1), <b><a href="../man1/lxc-destroy.1.html">lxc-destroy</a></b>(1), <b><a href="../man1/lxc-start.1.html">lxc-start</a></b>(1), <b><a href="../man1/lxc-stop.1.html">lxc-stop</a></b>(1),  <b><a href="../man1/lxc-execute.1.html">lxc-execute</a></b>(1),  <b>lxc-con‐</b>
       <b><a href="../man1/sole.1.html">sole</a></b>(1),  <b><a href="../man1/lxc-monitor.1.html">lxc-monitor</a></b>(1),  <b><a href="../man1/lxc-wait.1.html">lxc-wait</a></b>(1),  <b><a href="../man1/lxc-cgroup.1.html">lxc-cgroup</a></b>(1),  <b><a href="../man1/lxc-ls.1.html">lxc-ls</a></b>(1),  <b><a href="../man1/lxc-info.1.html">lxc-info</a></b>(1),  <b><a href="../man1/lxc-freeze.1.html">lxc-freeze</a></b>(1), <b>lxc-un‐</b>
       <b><a href="../man1/freeze.1.html">freeze</a></b>(1), <b><a href="../man1/lxc-attach.1.html">lxc-attach</a></b>(1), <b><a href="../man5/lxc.conf.5.html">lxc.conf</a></b>(5)

                                                   2025-05-10                                     <u><a href="../man1/lxc-unshare.1.html">lxc-unshare</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>