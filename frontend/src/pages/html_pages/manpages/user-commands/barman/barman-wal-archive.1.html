<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>barman-wal-archive - Barman-cli Commands</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/barman-cli">barman-cli_3.12.1-1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       barman-wal-archive - Barman-cli Commands

</pre><h4><b>SYNOPSIS</b></h4><pre>
          barman-wal-archive
              [ { -h, --help } ]
              [ { -V, --version } ]
              [ { -U, --user } USER ]
              [ --port PORT ]
              [ { -c, --config } CONFIG ]
              [ { -t --test } ]
              [ --md5 ]
              BARMAN_HOST SERVER_NAME WAL_PATH

</pre><h4><b>DESCRIPTION</b></h4><pre>
       This script can be utilized in the <b>archive_command</b> of a Postgres server to transfer WAL files to a Barman
       host using the <b>put-wal</b> command (introduced in Barman 2.6). It establishes an SSH connection to the Barman
       host, enabling seamless integration of Barman within Postgres clusters for improved business continuity.

       <b>Exit</b> <b>Statuses</b> are:

       • <b>0</b> for <b>SUCCESS</b>.

       • <b>non-zero</b> for <b>FAILURE</b>.

</pre><h4><b>PARAMETERS</b></h4><pre>
       <b>SERVER_NAME</b>
              The server name configured in Barman for the Postgres server from which the WAL file is retrieved.

       <b>BARMAN_HOST</b>
              The host of the Barman server.

       <b>WAL_PATH</b>
              The value of the '%p' keyword (according to <b>archive_command</b>).

       <b>-h</b> <b>/</b> <b>--help</b>
              Display a help message and exit.

       <b>-V</b> <b>/</b> <b>--version</b>
              Display the program's version number and exit.

       <b>-U</b> <b>/</b> <b>--user</b>
              Specify the user for the SSH connection to the Barman server (defaults to <b>barman</b>).

       <b>--port</b> Define the port used for the SSH connection to the Barman server.

       <b>-c</b> <b>/</b> <b>--config</b>
              Specify the configuration file on the Barman server.

       <b>-t</b> <b>/</b> <b>--test</b>
              Test  the  connection and configuration of the specified Postgres server in Barman to ensure it is
              ready to receive WAL files. This option ignores the mandatory arguments <b>WAL_NAME</b> and <b>WAL_DEST</b>.

       <b>--md5</b>  Use MD5 instead of SHA256 as the hash algorithm to calculate the checksum of  the  WAL  file  when
              transmitting  it  to  the  Barman server. This is used to maintain compatibility with older server
              versions, as older versions of Barman server used to support only MD5.

</pre><h4><b>AUTHOR</b></h4><pre>
       EnterpriseDB

</pre><h4><b>COPYRIGHT</b></h4><pre>
       © Copyright EnterpriseDB UK Limited 2011-2024

3.12                                              Dec 09, 2024                             <u><a href="../man1/BARMAN-WAL-ARCHIVE.1.html">BARMAN-WAL-ARCHIVE</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>