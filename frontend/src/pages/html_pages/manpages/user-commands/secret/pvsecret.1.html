<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>pvsecret - Manage secrets for IBM Secure Execution guests</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/s390-tools">s390-tools_2.37.0-0ubuntu2_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       pvsecret - Manage secrets for IBM Secure Execution guests

</pre><h4><b>SYNOPSIS</b></h4><pre>
       pvsecret [OPTIONS] &lt;COMMAND&gt;

</pre><h4><b>DESCRIPTION</b></h4><pre>
       Use <b>pvsecret</b> to manage secrets for IBM Secure Execution guests.  <b>pvsecret</b> can <u>create</u> add-secret requests
       on any architecture. On s390x systems, use <b>pvsecret</b> to <u>add</u> the secrets to the ultravisor secret store,
       <u>list</u> all secrets in the secret store, or <u>lock</u> the secret store to prevent any modifications in the
       future.

       The ultravisor secret store stores secrets for the IBM Secure Execution guest.  The secret store is
       cleared on guest reboot.

       Create requests only on trusted systems that are not the IBM Secure Execution guest where you want to
       inject the secrets. This approach prevents the secrets from being in cleartext on the guest. For extra
       safety, do an attestation with <b>pvattest</b> of your guest beforehand, and include the configuration UID in
       the secret request using <b>--cuid</b>. Refer to <b><a href="../man1/pvsecret-add.1.html">pvsecret-add</a></b>(1) for more information. For all certificates,
       revocation lists, and host-key documents, both the PEM and DER input formats are supported.

</pre><h4><b>PVSECRET</b> <b>COMMANDS</b></h4><pre>
       <b><a href="../man1/pvsecret-create.1.html">pvsecret-create</a>(1)</b>
           Create a new add-secret request

       <b><a href="../man1/pvsecret-add.1.html">pvsecret-add</a>(1)</b>
           Submit an add-secret request to the Ultravisor (s390x only)

       <b><a href="../man1/pvsecret-lock.1.html">pvsecret-lock</a>(1)</b>
           Lock the secret-store (s390x only)

       <b><a href="../man1/pvsecret-list.1.html">pvsecret-list</a>(1)</b>
           List all ultravisor secrets (s390x only)

       <b><a href="../man1/pvsecret-verify.1.html">pvsecret-verify</a>(1)</b>
           Verify that an add-secret request is sane

       <b><a href="../man1/pvsecret-retrieve.1.html">pvsecret-retrieve</a>(1)</b>
           Retrieve a secret from the UV secret store (s390x only)

</pre><h4><b>OPTIONS</b></h4><pre>
       -v, --verbose
           Provide more detailed output.

       -q, --quiet
           Provide less output.

       --version
           Print version information and exit.

       -h, --help
           Print help (see a summary with <b>-h</b>).

</pre><h4><b>EXAMPLES</b></h4><pre>
       Create the add-secret request on a trusted system. The program generates two files. addsecreq.bin
       contains the add-secret request. XAMPLE.yaml contains the non-confidential information about the
       generated secret. It contains name and id of the secret.

            trusted:~$ pvsecret create -k hkd.crt --cert CA.crt --cert ibmsk.crt --hdr pvimage -o addsecreq.bin association EXAMPLE
            Successfully generated the request
            Successfully wrote association info to 'EXAMPLE.yaml'
       On the SE-guest, <u>add</u> the secret from request to the secret store.

            seguest:~$ pvsecret add addsecreq.bin
            Successfully added the secret

       On the SE-guest, <u>list</u> the secrets currently stored.

            seguest:~$ pvsecret list
            Total number of secrets: 1

            0 Association:
                 94ee059335e587e501cc4bf90613e0814f00a7b08bc7c648fd865a2af6a22cc2

       On the SE-guest, <u>lock</u> the secret store.

            seguest:~$ pvsecret lock
            Successfully locked secret store
            seguest:~$ pvsecret add addsecreq.bin
            error: Ultravisor: 'secret store locked' (0x0102)

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man1/pvsecret-create.1.html">pvsecret-create</a></b>(1) <b><a href="../man1/pvsecret-add.1.html">pvsecret-add</a></b>(1) <b><a href="../man1/pvsecret-lock.1.html">pvsecret-lock</a></b>(1) <b><a href="../man1/pvsecret-list.1.html">pvsecret-list</a></b>(1) <b><a href="../man1/pvsecret-verify.1.html">pvsecret-verify</a></b>(1) <b><a href="../man1/pvsecretretrieve.1.html">pvsecret-</a></b>
       <b><a href="../man1/pvsecretretrieve.1.html">retrieve</a></b>(1)

s390-tools                                         2024-12-19                                        <u><a href="../man1/PVSECRET.1.html">PVSECRET</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>