<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>sympa, sympa.pl - Command line utility to manage Sympa</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/sympa">sympa_6.2.76~dfsg-1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       sympa, sympa.pl - Command line utility to manage Sympa

</pre><h4><b>SYNOPSIS</b></h4><pre>
       "sympa" <u>command</u> [ <u>general</u> <u>options</u>... ] ...

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>NOTE</b>: On overview of Sympa documentation see <b><a href="../man1/sympa_toc.1.html">sympa_toc</a></b>(1).

       <u>sympa</u> is invoked from command line then performs various administration tasks.

</pre><h4><b>GENERAL</b> <b>OPTIONS</b></h4><pre>
       <u>sympa</u> may run with following options in general.

       "-d", "--debug"
           Enable debug mode.

       "-f", "--config="<u>file</u>
           Force Sympa to use an alternative configuration file instead of <u>/etc/sympa/sympa/sympa.conf</u>.

       "-l", "--lang="<u>lang</u>
           Set  this  option to use a language for Sympa. The corresponding gettext catalog file must be located
           in <u>$LOCALEDIR</u> directory.

       "--log_level="<u>level</u>
           Sets Sympa log level.

       "-m", "--mail"
           Enable SMTP logging.

       "--noout"
           Skip output to the console except for fatal error messages.

</pre><h4><b>COMMANDS</b></h4><pre>
       Currently following commands are available.  To see detail of each command, run '"sympa help" <u>command</u>'.

       "sympa add"
           Add users to the list

       "sympa bouncers"
           Manipulate list bounced users

       "sympa check"
           Check environment

       "sympa close"
           Close a list or the lists belonging to a family

       "sympa config"
           Manipulate configuration of Sympa

       "sympa copy"
           Copy the list

       "sympa create"
           Create a list

       "sympa del"
           Delete users from the list

       "sympa dump"
           Dump users of the lists

       "sympa export_list"
           TBD

       "sympa help"
           Display help information about Sympa CLI

       "sympa include"
           Update inclusion

       "sympa instantiate"
           Instantiate the lists in a family

       "sympa lowercase"
           Lowercase email addresses in database

       "sympa make_alias_file"
           Create aliases file

       "sympa md5_digest"
           Output a MD5 digest

       "sympa move"
           Move or copy the list

       "sympa open"
           Open the list

       "sympa rebuildarc"
           Rebuild the archives of the list

       "sympa reload_list_config"
           Recreate config cache of the lists

       "sympa restore"
           Restore users of the lists

       "sympa review"
           Show subscribers of the list

       "sympa send_digest"
           Send digest

       "sympa set"
           Set properties of the users of the list

       "sympa show_pending_lists"
           Show pending lists

       "sympa sync_list_db"
           Synchronize database cache of the lists

       "sympa test"
           Test the functions of Sympa

       "sympa update"
           Modify the existing list in the family

       "sympa upgrade"
           Upgrade Sympa

       "sympa upgrade_config_location"
           TBD

       "sympa user"
           Manipulate list users

       "sympa version"
           Print the version number of Sympa

</pre><h4><b>DESCRIPTION</b> <b>FOR</b> <b>EARLIER</b> <b>VERSION</b></h4><pre>
       <b>NOTE</b>: Description in this section is kept for compatibility to earlier versions.  Run "sympa help" or see
       <b><a href="../man1/sympa.1.html">sympa</a></b>(1) to see recent conventions.

   <b>Synopsis</b>
       "sympa.pl" [ "-d, --debug" ] [ "-f, --file"=<u>another.sympa.conf</u> ]  [ "-l, --lang"=<u>lang</u> ]  [ "-m, --mail" ]
       [ "-h, --help" ] [ "-v, --version" ]

       [ "--add"=<u>list</u>@<u>domain</u> [--role=<u>role</u>] [--quiet] [--notify] [--force] ]
       [ "--del"=<u>list</u>@<u>domain</u> [--role=<u>role</u>] [--quiet] [--notify] [--force] ]
       [ "--open_list"=<u>list</u>[<u>@robot</u>] [--notify] ] [ "--close_list"=<u>list</u>[<u>@robot</u>] ] [ "--purge_list"=<u>list</u>[<u>@robot</u>] ]
       [ "--lowercase" ]  [ "--make_alias_file" ] [ "--dump_users" "--list"=<u>list</u>@<u>domain</u>|ALL [ "--role"=<u>roles</u> ] ]
       [ "--restore_users" "--list"=<u>list</u>@<u>domain</u>|ALL [ "--role"=<u>roles</u> ] ]        [ "--show_pending_lists"=<u>robot</u> ]
       [ "--rebuildarc"=<u>list</u>[<u>@robot</u>] ]

   <b>Options</b>
       <u>sympa.pl</u> may run with following options in general.

       "-d", "--debug"
           Enable debug mode.

       "-f", "--config="<u>file</u>
           Force Sympa to use an alternative configuration file instead of <u>/etc/sympa/sympa/sympa.conf</u>.

       "-l", "--lang="<u>lang</u>
           Set  this  option to use a language for Sympa. The corresponding gettext catalog file must be located
           in <u>$LOCALEDIR</u> directory.

       "--log_level="<u>level</u>
           Sets Sympa log level.

       With the following options <u>sympa.pl</u> will run in batch mode:

       "--add="<u>list</u>@<u>domain</u> [ "--role"=<u>role</u> ] [ "--quiet" ] [ "--notify" ] [ "--force" ]
           Add email(s) from the list. Data are read from standard input.  The data  should  contain  one  email
           address per line.

           Sample:

               ## emails to be added
               <a href="mailto:john.steward@some.company.com">john.steward@some.company.com</a>       John Steward
               <a href="mailto:mary.blacksmith@another.company.com">mary.blacksmith@another.company.com</a> Mary Blacksmith

           Note: This option was added on Sympa 6.2.67b.2.

           New command line format:

           "sympa add" [ "--role"=<u>role</u> ] [ "--quiet" ] [ "--notify" ] [ "--force" ] <u>list</u>"@"<u>domain</u>
       "--add_list="<u>family_name</u> "--robot="<u>robot_name</u> "--input_file="<u>/path/to/file.xml</u>
           Add the list described by the file.xml under robot_name, to the family family_name.

           New command line format:

           "sympa create" "--input_file="<u>/path/to/file.xml</u> <u>family_name</u>"@@"<u>robot_name</u>
       "--change_user_email" "--current_email="<u>current</u> "--new_email="<u>new</u>
           Changes  a  user  email  address in all Sympa  databases (subscriber_table, list config, etc) for all
           virtual robots.

           New command line format:

           "sympa user move" <u>current</u> <u>new</u>
       "--close_family="<u>family_name</u> "--robot="<u>robot_name</u>
           Close lists of family_name family under robot_name.

           New command line format:

           "sympa close" <u>family_name</u>"@@"<u>robot_name</u>
       "--close_list="<u>list</u>["@"<u>robot</u>]
           Close the list (changing its status to closed), remove aliases and remove subscribers from DB (a dump
           is created in the list directory to allow restoring the list)

           New command line format:

           "sympa close" <u>list</u>["@"<u>robot</u>]
       "--conf_2_db"
           <b>Deprecated</b>.  Load sympa.conf and each robot.conf into database.

           New command line format:

           None.

       "--copy_list="<u>listname</u>"@"<u>robot</u> "--new_listname="<u>newlistname</u> "--new_listrobot="<u>newrobot</u>
           Copy a list.

           New command line format:

           "sympa move --mode=copy" <u>listname</u>"@"<u>robot</u> <u>newlistname</u>"@"<u>newrobot</u>
           "sympa copy" <u>listname</u>"@"<u>robot</u> <u>newlistname</u>"@"<u>newrobot</u>
       "--create_list" "--robot="<u>robot_name</u> "--input_file="<u>/path/to/file.xml</u>
           Create a list with the XML file under robot robot_name.

           New command line format:

           "sympa create" "--input_file="<u>/path/to/file.xml</u> <u>robot_name</u>
       "--del="<u>list</u>"@"<u>domain</u> [ "--role"=<u>role</u> ] [ "--quiet" ] [ "--notify" ] [ "--force" ]
           Delete email(s) from the list. Data are read from standard input.  The data should contain one  email
           address per line.

           Sample:

               ## emails to be deleted
               <a href="mailto:john.steward@some.company.com">john.steward@some.company.com</a>
               <a href="mailto:mary.blacksmith@another.company.com">mary.blacksmith@another.company.com</a>

           Note: This options was added on Sympa 6.2.67b.2.

           New command line format:

           "sympa del" [ "--role"=<u>role</u> ] [ "--quiet" ] [ "--notify" ] [ "--force" ] <u>list</u>"@"<u>domain</u>
       "--dump="<u>list</u>@<u>domain</u>|"ALL"
           Obsoleted option.  Use "--dump_users".

       "--dump_users" "--list="<u>list</u>@<u>domain</u>|"ALL" [ "--role="<u>roles</u> ]
           Dumps users of a list or all lists.

           "--role"  may  specify  "member",  "owner",  "editor"  or  any of them separated by comma (","). Only
           "member" is chosen by default.

           Users are dumped in files <u>role</u>".dump" in each list directory.

           Note: On Sympa prior to 6.2.31b.1, subscribers were dumped in <u>subscribers.db.dump</u>  file,  and  owners
           and moderators could not be dumped.

           See also "--restore_users".

           Note: This option replaced "--dump" on Sympa 6.2.34.

           New command line format:

           "sympa dump" [ "--roles="<u>roles</u> ] <u>list</u>"@"<u>domain</u>
           "sympa dump" [ "--roles="<u>roles</u> ] "*"
       "--health_check"
           Check  if <u>sympa.conf</u>, <u>robot.conf</u> of virtual robots and database structure are correct.  If any errors
           occur, exits with non-zero status.

           New command line format:

           "sympa check"
       "--import="<u>list</u>@<u>dom</u>
           Deprecated.  Use "--add" instead.

       "--instantiate_family="<u>family_name</u> "--robot="<u>robot_name</u> "--input_file="<u>/path/to/file.xml</u> [
       "--close_unknown" ] [ "--quiet" ]
           Instantiate family_name lists described in the file.xml under robot_name.  The family directory  must
           exist; automatically close undefined lists in a new instantiation if --close_unknown is specified; do
           not print report if "--quiet" is specified.

           New command line format:

           "sympa instantiate" "--input_file="<u>/path/to/file.xml</u> [ "--close_unknown" ] [ "--quiet" ]
           <u>family_name</u>"@@"<u>robot_name</u>
       "--lowercase"
           Lowercases email addresses in database.

           New command line format:

           TBD.

       "--make_alias_file" [ "--robot" robot ]
           Create an aliases file in <a href="file:/tmp/">/tmp/</a> with all list aliases. It uses the <u>list_aliases.tt2</u> template  (useful
           when list_aliases.tt2 was changed).

           New command line format:

           TBD.

       "--md5_encode_password"
           Rewrite  password  in "user_table" of database using MD5 fingerprint.  YOU CAN'T UNDO unless you save
           this table first.

           <b>Note</b> that this option was obsoleted.  Use sympa upgrade password.

       "--modify_list="<u>family_name</u> "--robot="<u>robot_name</u> "--input_file="<u>/path/to/file.xml</u>
           Modify the existing list installed under  the  robot  robot_name  and  that  belongs  to  the  family
           family_name. The new description is in the "file.xml".

           New command line format:

           "sympa update" "--input_file="<u>/path/to/file.xml</u> <u>family_name</u>"@@"<u>robot_name</u>
       "--open_list="<u>list</u>["@"<u>robot</u>] [ "--notify" ]
           Restore  the  closed  list  (changing  its status to open), add aliases and restore users to DB (dump
           files in the list directory are imported).

           The "--notify" is optional. If present, the owner(s) of the list will be notified.

           New command line format:

           "sympa open" [ "--notify" ] <u>list</u>["@"<u>robot</u>]
       "--purge_list"=<u>list</u>["@"<u>robot</u>]
           Remove the list (remove archive, configuration files, users and owners in admin table. Restore is not
           possible after this operation.

           New command line format:

           "sympa close" "--mode=purge" <u>list</u>["@"<u>robot</u>]
       "--show_pending_lists"=<u>robot</u>
           Print all pending lists for the robot, with information.

           New command line format:

           TBD.

       "--rebuildarc"=<u>list</u>[<u>@robot</u>]
           Rebuild the archives of the list.

           New command line format:

           TBD.

       "--reload_list_config" [ "--list="<u>mylist</u>@<u>mydom</u> ] [ "--robot="<u>mydom</u> ]
           Recreates all <u>config.bin</u> files or cache in "list_table".  You should run this  command  if  you  edit
           authorization scenarios.  The list and robot parameters are optional.

           New command line format:

           TBD.

       "--rename_list="<u>listname</u>"@"<u>robot</u> "--new_listname="<u>newlistname</u> "--new_listrobot="<u>newrobot</u>
           Renames a list or move it to another virtual robot.

           New command line format:

           "sympa move" <u>listname</u>"@"<u>robot</u> <u>newlistname</u>"@"<u>newrobot</u>
       "--send_digest" [ "--keep_digest" ]
           Send digest right now.  If "--keep_digest" is specified, stocked digest will not be removed.

           New command line format:

           TBD.

       "--restore_users" "--list="<u>list</u>@<u>domain</u>|"ALL" [ "--role="<u>roles</u> ]
           Restore users from files dumped by "--dump_users".

           Note: This option was added on Sympa 6.2.34.

           New command line format:

           "sympa restore" [ "--roles="<u>roles</u> ] <u>list</u>"@"<u>domain</u>
           "sympa restore" [ "--roles="<u>roles</u> ] "*"
       "--sync_include="<u>listname</u>"@"<u>robot</u> [ "--role="<u>role</u> ]
           Trigger update of the list users included from data sources.

           New command line format:

           "sympa include" [ "--role="<u>role</u> ] <u>listname</u>"@"<u>robot</u>
       "--sync_list_db" [ "--list="<u>listname</u>@<u>robot</u> ]
           Syncs  filesystem  list configs to the database cache of list configs, optionally syncs an individual
           list if specified.

           New command line format:

           TBD.

       "--test_database_message_buffer"
           <b>Note</b>: This option was deprecated.

           Test the database message buffer size.

       "--upgrade" [ "--from="<u>X</u> ] [ "--to="<u>Y</u> ]
           Runs Sympa maintenance script to upgrade from version <u>X</u> to version <u>Y</u>.

           New command line format:

           "sympa upgrade" [ &lt;--from=&gt;<u>X</u> ] [ "--to="<u>Y</u> ]
       "--upgrade_shared" [ "--list="<u>X</u> ] [ "--robot="<u>Y</u> ]
           <b>Note</b>: This option was deprecated.  See sympa upgrade shared command line.

           Rename files in shared.

           New command line format:

           "sympa upgrade shared" [ "--fix_qencode" ] listname@robot | "*"

       With following options <u>sympa.pl</u> will print some information and exit.

       "-h", "--help"
           Print this help message.

       "--md5_digest="<u>password</u>
           Output a MD5 digest of a password (useful for SOAP client trusted application).

       "-v", "--version"
           Print the version number.

       <b>End</b> <b>of</b> <b>description</b> <b>for</b> <b>earlier</b> <b>version</b>.

</pre><h4><b>FILES</b></h4><pre>
       <u>/etc/sympa/sympa/sympa.conf</u> main configuration file.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man1/sympa_toc.1.html">sympa_toc</a></b>(1).

</pre><h4><b>HISTORY</b></h4><pre>
       <u>sympa.pl</u> was originally written by:

       Serge Aumont
           Comité Réseau des Universités

       Olivier Salaün
           Comité Réseau des Universités

       As of Sympa 6.2b.4, it was split into three programs: <u>sympa.pl</u> command line  utility,  <u>sympa_automatic.pl</u>
       daemon and <u>sympa_msg.pl</u> daemon.

       As  of  Sympa  6.2.68,  <u>sympa.pl</u>  was  renamed  to  <u>sympa</u>  and the new form of command line arguments was
       introduced.

       The "--noout" option was introduced on Sympa 6.2.71b.

6.2.76                                             2025-02-12                                           <u><a href="../man1/SYMPA.1.html">SYMPA</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>