<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>osmium-derive-changes - create OSM change files from two OSM data files</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/osmium-tool">osmium-tool_1.17.0-1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       osmium-derive-changes - create OSM change files from two OSM data files

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>osmium</b> <b>derive-changes</b> [<u>OPTIONS</u>] <u>OSM-FILE1</u> <u>OSM-FILE2</u>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       Finds  differences between two OSM files and creates a change file with those differences.  The resulting
       change file is created in a way, that it could be applied on <u>OSM-FILE1</u> to re-create <u>OSM-FILE2</u>.

       Objects in both input files must be sorted by type, ID, and version.  The first input file must be from a
       point in time before the second input file.

       Only object type, id, and version are compared, so this program will not detect differences in, say,  the
       tags,  unless  the  object has a new version, which is the normal way things work in OSM.  If you need to
       compare all data in OSM files, have a look at the <b>osmium</b> <b>diff</b> program.

       For this command to create a proper change file you have to set the <b>--output</b>  option  or  <b>--output-format</b>
       option  in  a  way that it will generate an .osc file, typically by using something like `-o out.osc.gz'.
       You can create any other OSM file format, but that is usually not what you want.   Osmium  derive-changes
       will warn you in this case.

       Note  that  for  objects that are in <u>OSM-FILE1</u> but not <u>OSM-FILE2</u> a “deleted” entry will be created in the
       output.  But because we can not know when this deletion actually occurred, in  which  changeset,  and  by
       which user, it is unclear what attributes this deleted object should have.  Also, if you are working with
       extracts,  the object might not actually have been deleted in the OSM database, but just moved out of the
       extract you are looking at.  So a real, new, “deleted” version was never created.  Usually the  “deleted”
       object  will  get  the  same  version  number  and  timestamp  as  the object in <u>OSM-FILE1</u> had, all other
       information will be removed.  But you can change this using the <b>--increment-version</b>, <b>--keep-details</b>,  and
       <b>--update-timestamp</b>  options.   Depending on which software you are using the change files with, different
       settings might be necessary.

       This commands reads its input files only once and writes its output file in one go so it can be streamed,
       ie.  it can read from STDIN and write to STDOUT.

</pre><h4><b>OPTIONS</b></h4><pre>
       --increment-version
              Increment version number of deleted objects.

       --keep-details
              Keep details of deleted objects.  Usually only id, version,  and  timestamp  are  kept.   If  this
              option  is  set  all  attributes,  all  tags,  and  all  nodes  or members for ways and relations,
              respectively, are kept.

       --update-timestamp
              Update timestamp of deleted objects to the current time.  This is the same behaviour as Osmosis.

</pre><h4><b>COMMON</b> <b>OPTIONS</b></h4><pre>
       -h, --help
              Show usage help.

       -v, --verbose
              Set verbose mode.  The program will output information about what it is doing to STDERR.

       --progress
              Show progress bar.  Usually a progress bar is only displayed if STDOUT and STDERR are detected  to
              be  TTY.  With this option a progress bar is always shown.  Note that a progress bar will never be
              shown when reading from STDIN or a pipe.

       --no-progress
              Do not show progress bar.  Usually a progress bar is displayed if STDOUT and STDERR  are  detected
              to  be  a  TTY.   With  this option the progress bar is suppressed.  Note that a progress bar will
              never be shown when reading from STDIN or a pipe.

</pre><h4><b>INPUT</b> <b>OPTIONS</b></h4><pre>
       -F, --input-format=FORMAT
              The format of the input file(s).  Can be used to set the input format if it can’t be  autodetected
              from  the  file name(s).  This will set the format for all input files, there is no way to set the
              format for some input files only.  See <b><a href="../man5/osmium-file-formats.5.html">osmium-file-formats</a></b>(5) or the libosmium manual for details.

</pre><h4><b>OUTPUT</b> <b>OPTIONS</b></h4><pre>
       -f, --output-format=FORMAT
              The format of the output file.  Can be used  to  set  the  output  file  format  if  it  can’t  be
              autodetected  from  the  output file name.  See <b><a href="../man5/osmium-file-formats.5.html">osmium-file-formats</a></b>(5) or the libosmium manual for
              details.

       --fsync
              Call fsync after writing the output file to force flushing buffers to disk.

       --generator=NAME
              The name and version of the program generating the output file.  It will be added to the header of
              the output file.  Default is “<u>osmium/</u>” and the version of osmium.

       -o, --output=FILE
              Name of the output file.  Default is `-' (STDOUT).

       -O, --overwrite
              Allow an existing output file to be overwritten.  Normally <b>osmium</b> will refuse  to  write  over  an
              existing file.

       --output-header=OPTION=VALUE
              Add  output  header  option.   This  command  line option can be used multiple times for different
              OPTIONs.  See the <u><a href="../man5/osmium-output-headers.5.html">osmium-output-headers</a>(5)</u> man page for a list of available header  options.   For
              some  commands you can use the special format “OPTION!” (ie.  an exclamation mark after the OPTION
              and no value set) to set the value to the same as in the input file.

</pre><h4><b>DIAGNOSTICS</b></h4><pre>
       <b>osmium</b> <b>derive-changes</b> exits with exit code

       0      if everything went alright,

       1      if there was an error processing the data, or

       2      if there was a problem with the command line arguments.

</pre><h4><b>MEMORY</b> <b>USAGE</b></h4><pre>
       <b>osmium</b> <b>derive-changes</b> doesn’t keep a lot of data in memory.

</pre><h4><b>EXAMPLES</b></h4><pre>
       Find changes in Nepal extract in January 2016:

              osmium derive-changes nepal-20160101.osm.pbf nepal-20160201.osm.pbf -o nepal-jan.osc.bz2

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       • <b><a href="../man1/osmium.1.html">osmium</a></b>(1), <b><a href="../man5/osmium-file-formats.5.html">osmium-file-formats</a></b>(5), <b><a href="../man5/osmium-output-headers.5.html">osmium-output-headers</a></b>(5), <b><a href="../man1/osmium-apply-changes.1.html">osmium-apply-changes</a></b>(1), <b><a href="../man1/osmium-diff.1.html">osmium-diff</a></b>(1)

       • Osmium website

</pre><h4><b>COPYRIGHT</b></h4><pre>
       Copyright (C) 2013-2025 Jochen Topf &lt;<a href="mailto:jochen@topf.org">jochen@topf.org</a>&gt;.

       License GPLv3+: GNU GPL version 3 or later &lt;https://gnu.org/licenses/gpl.html&gt;.  This is  free  software:
       you are free to change and redistribute it.  There is NO WARRANTY, to the extent permitted by law.

</pre><h4><b>CONTACT</b></h4><pre>
       If you have any questions or want to report a bug, please go to https://osmcode.org/contact.html

</pre><h4><b>AUTHORS</b></h4><pre>
       Jochen Topf &lt;<a href="mailto:jochen@topf.org">jochen@topf.org</a>&gt;.

                                                     1.17.0                             <u><a href="../man1/OSMIUM-DERIVE-CHANGES.1.html">OSMIUM-DERIVE-CHANGES</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>