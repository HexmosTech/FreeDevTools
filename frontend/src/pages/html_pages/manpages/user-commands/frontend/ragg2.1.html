<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ragg2 — radare2 frontend for r_egg, compile programs into tiny binaries for x86-32/64 and arm.</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/radare2">radare2_5.9.8+dfsg-2_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       ragg2 — radare2 frontend for r_egg, compile programs into tiny binaries for x86-32/64 and arm.

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>ragg2</b>  [<b>-a</b>  <u>arch</u>]  [<b>-b</b>  <u>bits</u>]  [<b>-k</b>  <u>kernel</u>]  [<b>-f</b>  <u>format</u>]  [<b>-o</b> <u>file</u>] [<b>-i</b> <u>shellcode</u>] [<b>-I</b> <u>path</u>] [<b>-e</b> <u>eggstr</u>]
             [<b>-E</b> <u>encoder</u>] [<b>-B</b> <u>hexpairs</u>] [<b>-c</b> <u>k=v</u>] [<b>-C</b> <u>file</u>] [<b>-n</b> <u>num32</u>] [<b>-N</b> <u>num64</u>] [<b>-d</b> <u>off:dword</u>]  [<b>-D</b>  <u>off:qword</u>]
             [<b>-w</b> <u>off:hexpair</u>] [<b>-p</b> <u>padding</u>] [<b>-P</b> <u>pattern</u>] [<b>-q</b> <u>fragment</u>] [<b>-FOLsrxvhz</b>]

</pre><h4><b>DESCRIPTION</b></h4><pre>
       ragg2 is a frontend for r_egg, compile programs into tiny binaries for x86-32/64 and arm.

       This  tool  is experimental and it is a rewrite of the old rarc2 and rarc2-tool programs as a library and
       integrated with r_asm and r_bin.

       Programs generated by r_egg are relocatable and can be injected in a running process  or  on-disk  binary
       file.

       Since  the  ragg2-cc  merge,  ragg2 can now generate shellcodes from C code. The final code can be linked
       with rabin2 and it is relocatable, so it can be used to inject it on any remote process. This feature  is
       conceptually based on shellforge4, but only linux/osx x86-32/64 platforms are supported.

</pre><h4><b>DIRECTIVES</b></h4><pre>
       The  rr2  (ragg2) configuration file accepts the following directives, described as key=value entries and
       comments defined as lines starting with '#'.

       <b>-a</b> <u>arch</u>     set architecture x86, arm

       <b>-b</b> <u>bits</u>     32 or 64

       <b>-k</b> <u>kernel</u>   windows, linux or osx

       <b>-f</b> <u>format</u>   output format (raw, c, pe, elf, mach0, python, javascript)

       <b>-o</b> <u>file</u>     output file to write result of compilation

       <b>-i</b> <u>shellcode</u>
                   specify shellcode name to be used (see -L)

       <b>-e</b> <u>encoder</u>  pass egg program as argument instead of in a file

       <b>-E</b> <u>encoder</u>  specify encoder name to be used (see -L)

       <b>-B</b> <u>hexpair</u>  specify shellcode as hexpairs

       <b>-c</b> <u>k=v</u>      set configure option for the shellcode encoder. The argument must be key=value.

       <b>-C</b> <u>file</u>     include contents of file

       <b>-d</b> <u>off:dword</u>
                   Patch final buffer with given dword at specified offset

       <b>-D</b> <u>off:qword</u>
                   Patch final buffer with given qword at specified offset

       <b>-w</b> <u>off:hexpairs</u>
                   Patch final buffer with given hexpairs at specified offset

       <b>-n</b> <u>num32</u>    Append a 32bit number in little endian

       <b>-N</b> <u>num64</u>    Append a 64bit number in little endian

       <b>-p</b> <u>padding</u>  Specify generic paddings with a format string. Use lowercase letters to prefix, and uppercase
                   to suffix, keychars are: 'n' for nop, 't' for trap, 'a' for sequence and 's' for zero.

       <b>-P</b> <u>size</u>     Prepend debruijn sequence of given length.

       <b>-q</b> <u>fragment</u>
                   Output offset of debruijn sequence fragment.

       <b>-F</b>          autodetect native file format (osx=mach0, linux=elf, ..)

       <b>-O</b>          use default output file (filename without extension or a.out)

       <b>-I</b> <u>path</u>     add include path

       <b>-s</b>          show assembler code

       <b>-S</b>          append a string

       <b>-r</b>          show raw bytes instead of hexpairs

       <b>-x</b>          execute (just-in-time)

       <b>-X</b>          execute rop chain

       <b>-L</b>          list all plugins (shellcodes and encoders)

       <b>-h</b>          show this help

       <b>-z</b>          output in C string syntax

       <b>-v</b>          show version

</pre><h4><b>EXAMPLE</b></h4><pre>
         $ cat hi.r
         /* hello world in r_egg */
         write@<a href="../man4/syscall.4.html">syscall</a>(4); //x64 write@<a href="../man1/syscall.1.html">syscall</a>(1);
         exit@<a href="../man1/syscall.1.html">syscall</a>(1); //x64 exit@<a href="../man60/syscall.60.html">syscall</a>(60);

         main@<a href="../man128/global.128.html">global</a>(128) {
           .var0 = "hi!\n";
           write(1,.var0, 4);
           <a href="../man0/exit.0.html">exit</a>(0);
         }
         $ ragg2 -O -F hi.r
         $ ./hi
         hi!

         # With C file :
         $ cat hi.c
         main() {
           write(1, "Hello\n", 6);
           <a href="../man0/exit.0.html">exit</a>(0);
         }
         $ ragg2 -O -F hi.c

         $ ./hi
         Hello

         # Linked into a tiny binary. This is 165 bytes
         $ wc -c &lt; hi
           165

         # The compiled shellcode has zeroes
         $ ragg2 hi.c | tail -1
         eb0748656c6c6f0a00bf01000000488d35edffffffba06000000b8010
         000000f0531ffb83c0000000f0531c0c3

         # Use a xor encoder with key 64 to bypass
         $ ragg2 -e xor -c key=64 -B $(ragg2 hi.c | tail -1)
         6a2d596a405be8ffffffffc15e4883c60d301e48ffc6e2f9ab4708252
         c2c2f4a40ff4140404008cd75adbfbfbffa46404040f8414040404f45
         71bff87c4040404f45718083

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <u><a href="../man1/radare2.1.html">radare2</a>(1)</u>

</pre><h4><b>AUTHORS</b></h4><pre>
       Written by pancake &lt;<a href="mailto:pancake@nopcode.org">pancake@nopcode.org</a>&gt;.

                                                   May 4, 2021                                          <u><a href="../man1/RAGG2.1.html">RAGG2</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>