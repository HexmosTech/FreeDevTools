<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>wf-recorder — simple screen recording program for wlroots-based compositors</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/wf-recorder">wf-recorder_0.5.0-2_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       wf-recorder — simple screen recording program for wlroots-based compositors

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>wf-recorder</b>    [<b>-abcCdDefFghlmopPrRvxX</b>]    [<b>-a,</b>   <b>--audio</b>   [<u>=DEVICE</u>]]   [<b>-b,</b>   <b>--bframes</b>   <u>max_b_frames</u>]
                   [<b>-B,</b>  <b>--buffrate</b>  <u>buffrate</u>]  [<b>-c,</b>   <b>--codec</b>   <u>output_codec</u>]   [<b>-r,</b>   <b>--framerate</b>   <u>framerate</u>]
                   [<b>-d,</b>   <b>--device</b>   <u>encoding_device</u>]   [<b>--no-dmabuf</b>]   [<b>-D,</b>   <b>--no-damage</b>]   [<b>-f</b>  <u>filename.ext</u>]
                   [<b>-F</b> <u>filter_string</u>] [<b>-g,</b> <b>--geometry</b> <u>geometry</u>] [<b>-h,</b> <b>--help</b>] [<b>-l,</b>  <b>--log</b>]  [<b>-m,</b>  <b>--muxer</b>  <u>muxer</u>]
                   [<b>-o,</b>   <b>--output</b>  <u>output</u>]  [<b>-p,</b>  <b>--codec-param</b>  [<u>option_param=option_value</u>]]  [<b>-v,</b>  <b>--version</b>]
                   [<b>-x,</b> <b>--pixel-format</b>] [<b>--audio-backend</b> <u>audio_backend</u>] [<b>-C,</b>  <b>--audio-codec</b>  <u>output_audio_codec</u>]
                   [<b>-P,</b>   <b>--audio-codec-param</b>   [<u>option_param=option_value</u>]]   [<b>-R,</b>  <b>--sample-rate</b>  <u>sample_rate</u>]
                   [<b>-X,</b> <b>--sample-format</b> <u>sample_format</u>] [<b>-y,</b> <b>--overwrite</b>]

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>wf-recorder</b> is a tool built to record your screen on Wayland compositors.  It makes use of <b>wlr-screencopy</b>
       for capturing video and <u><a href="../man1/ffmpeg.1.html">ffmpeg</a></u>(1) for encoding it.

       In its simplest form, run <b>wf-recorder</b> to start recording and use ‘Ctrl+C’ to stop.  This  will  create  a
       file called ‘recording.mp4’ in the current working directory using the default <u>codec.</u>

       The options are as follows:

       <b>-a</b>, <b>--audio</b> [<u>=DEVICE</u>]
               Starts recording the screen with audio.

               <u>DEVICE</u>  argument  is  optional.   In  case  you  want to specify the PulseAudio device which will
               capture the audio, you can run this command with the name of that  device.   You  can  find  your
               device by running
                     $ pactl list sources | grep Name

       <b>-b</b>, <b>--bframes</b> <u>max_b_frames</u>
               Sets the maximum number of B-Frames to use.
       <b>-B</b>, <b>--buffrate</b> <u>buffrate</u>
               Tells  the  encoder  a prediction of what framerate to expect.  This preserves VFR and Solves FPS
               limit issue of some encoders (like svt-av1).  Should be set to the same framerate as display.

       <b>-c</b>, <b>--codec</b> <u>output_codec</u>
               Specifies the codec of the video. Supports GIF output as well.

               To modify codec parameters, use <b>-p</b> <u>option_name=option_value</u>

       <b>-r</b>, <b>--framerate</b> <u>framerate</u>
               Sets hard constant framerate. Will duplicate frames to reach it.  This makes the resulting  video
               CFR. Solves FPS limit issue of some encoders.

       <b>-d</b>, <b>--device</b> <u>encoding_device</u>
               Selects the device to use when encoding the video.

               Some drivers report support for ‘rgb0’ data for vaapi input but really only support yuv.  Use the
               <b>-x</b> <u>yuv420</u> option in addition to the vaapi options to convert the data in software, before sending
               it to the GPU.

       <b>--no-dmabuf</b>
               By  default,  wf-recorder  will  try  to  use only GPU buffers and copies if using a GPU encoder.
               However, this can cause issues on some systems.  In such cases, this option will disable the  GPU
               copy and force a CPU one.

       <b>-D</b>, <b>--no-damage</b>
               By  default,  wf-recorder  will  request  a  new  frame  from the compositor only when the screen
               updates. This results in a much smaller output file, which however has a variable  refresh  rate.
               When  this  option is on, wf-recorder does not use this optimization and continuously records new
               frames, even if there are no updates on the screen.

       <b>-f</b> <u>filename.ext</u>
               By using the <b>-f</b> option, the output file will have the name <u>filename.ext</u> and the file format  will
               be  determined  by  the provided extension.  If the extension is not recognized by your <u><a href="../man1/ffmpeg.1.html">ffmpeg</a></u>(1)
               muxers, the command will fail.

               You can check the muxers that your <u><a href="../man1/ffmpeg.1.html">ffmpeg</a></u>(1) installation supports by running
                     <b>$</b> <b>ffmpeg</b> <b>-muxers</b>

       <b>-F</b>, <b>--filter</b> <u>filter_string</u>
               Set the ffmpeg filter to use. VAAPI requires `scale_vaapi=format=nv12:out_range=full` to work.

       <b>-g</b>, <b>--geometry</b> <u>screen_geometry</u>
               Selects a specific part of the screen. The format is "x,y WxH".

       <b>-h</b>, <b>--help</b>
               Prints the help screen.

       <b>-l</b>, <b>--log</b>
               Generates a log on the current terminal. For debug purposes.

       <b>-m</b>, <b>--muxer</b> <u>muxer</u>
               Set the output format to a specific muxer instead of detecting it from the filename.

       <b>-o</b>, <b>--output</b>
               Specify the output where the video is to be recorded.

       <b>-p</b>, <b>--codec-param</b> [<u>option_name=option_value</u>]
               Change the codec parameters.

       <b>-v</b>, <b>--version</b>
               Print the version of wf-recorder.

       <b>-x</b>, <b>--pixel-format</b> <u>pixel_format</u>
               Set the output pixel format.

               List available formats using
                     <b>$</b> <b>ffmpeg</b> <b>-pix_fmts</b>

       <b>--audio-backend</b> <u>audio_backend</u>
               Specifies the audio backend to be used when -a is set.

       <b>-C</b>, <b>--audio-codec</b> <u>output_audio_codec</u>
               Specifies the codec of the audio.

       <b>-P</b>, <b>--audio-codec-param</b> [<u>option_name=option_value</u>]
               Change the audio codec parameters.

       <b>-R</b>, <b>--sample-rate</b> <u>sample_rate</u>
               Changes the audio sample rate, in HZ. The default value is 48000.

       <b>-X</b>, <b>--sample-format</b> <u>sample_format</u>
               Set the output audio sample format.

               List available formats using
                     <b>$</b> <b>ffmpeg</b> <b>-sample_fmts</b>

       <b>-y</b>, <b>--overwrite</b>
               Force overwriting the output file without prompting.

</pre><h4><b>EXAMPLES</b></h4><pre>
       To  select  a  specific   part   of   the   screen   you   can   either   use   <b>--g</b>   <u>geometry</u>   or   use
       https://github.com/emersion/slurp for interactive selection of the screen area that will be recorded:
             <b>$</b> <b>wf-recorder</b> <b>-g</b> <b>$(slurp)</b>

       You can record screen and sound simultaneously with
             <b>$</b> <b>wf-recorder</b> <b>--audio</b> <b>--file=recording_with_audio.mp4</b>

       To specify an audio device, use the <b>--a&lt;DEVICE&gt;</b> or <b>---audio=&lt;DEVICE&gt;</b> options.

       To specify a <u>codec</u> use the <b>-c</b> <u>codec</u> option. To modify codec parameters, <b>-p</b> <u>option_name=option_value.</u>

       To  set  a  specific  output format, use the <b>-m,</b> <b>--muxer</b> option. For example, to output to a <b>video4linux2</b>
       loopback you might use:
             <b>$</b> <b>wf-recorder</b> <b>--muxer=v4l2</b> <b>--codec=rawvideo</b> <b>--file=/dev/video2</b>

       To use GPU encoding, use a VAAPI codec (for ex.  ‘h264_vaapi’ ) and specify a GPU device to use with  the
       <b>-d</b> option:
             <b>$</b> <b>wf-recorder</b> <b>-f</b> <b>test-vaapi.mkv</b> <b>-c</b> <b>h264_vaapi</b> <b>-d</b> <b>/dev/dri/renderD128</b>

       Some drivers report support for ‘rgb0’ data for ‘vaapi’ input but really only support yuv planar formats.
       In  this  case,  use  the <b>-x</b> <u>yuv420p</u> option in addition to the ‘vaapi’ options to convert the data to yuv
       planar data before sending it to the GPU.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <u><a href="../man1/ffmpeg.1.html">ffmpeg</a></u>(1), <u><a href="../man1/pactl.1.html">pactl</a></u>(1)

Debian                                            July 30, 2022                                   <u><a href="../man1/WF-RECORDER.1.html">WF-RECORDER</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>