<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>repl - reply to an nmh message</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/nmh">nmh_1.8-3_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       repl - reply to an nmh message

</pre><h4><b>SYNOPSIS</b></h4><pre>

       <b>repl</b> [<b>-help</b>] [<b>-version</b>] [<u>+folder</u>] [<u>msg</u>] [<b>-annotate</b> | <b>-noannotate</b>] [<b>-group</b> | <b>-nogroup</b>] [<b>-cc</b> all/to/cc/me]
            [<b>-nocc</b> all/to/cc/me] [<b>-query</b> | <b>-noquery</b>] [<b>-form</b> <u>formfile</u>] [<b>-format</b> | <b>-noformat</b>] [<b>-filter</b> <u>filterfile</u>]
            [<b>-inplace</b> | <b>-noinplace</b>] [<b>-mime</b> | <b>-nomime</b>] [<b>-fcc</b> <u>+folder</u>] [<b>-width</b> <u>columns</u>] [<b>-draftfolder</b> <u>+folder</u>]
            [<b>-draftmessage</b> <u>msg</u>] [<b>-nodraftfolder</b>] [<b>-editor</b> <u>editor</u>] [<b>-noedit</b>] [<b>-convertargs</b> <u>type</u> <u>argstring</u>]
            [<b>-whatnowproc</b> <u>program</u>] [<b>-nowhatnowproc</b>] [<b>-atfile</b>] [<b>-noatfile</b>] [<b>-fmtproc</b> <u>program</u>] [<b>-nofmtproc</b>]
            [<b>-build</b>] [<b>-file</b> <u>msgfile</u>]

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>repl</b> may be used to reply to a message.

       In  its  simplest  form  (with  no  arguments),  <b>repl</b> will set up a message-form skeleton in reply to the
       current message in the current folder, and invoke the <b>whatnow</b> shell.

       <b>repl</b> uses a reply template to construct the draft of the reply.  A reply template is simply an <b>mhl</b> format
       file (see <u><a href="../man5/mh-format.5.html">mh-format</a></u>(5) for details).

       If the switch <b>-nogroup</b> is given (it is on by default),  then  <b>repl</b>  will  use  the  standard  forms  file
       “replcomps”.   This  will construct a draft message that is intended to be sent only to the author of the
       message to which you are replying.  If a file named “replcomps” exists in the user's  <b>nmh</b>  directory,  it
       will be used instead of this default forms file.

       The default reply template “replcomps” will direct <b>repl</b> to construct the reply message draft as follows:

            To: &lt;Mail-Reply-To&gt; or &lt;Reply-To&gt; or &lt;From&gt;
            cc: &lt;To&gt; and &lt;cc&gt; and &lt;personal address&gt;
            Fcc: {fcc switch} or +outbox
            Subject: Re: &lt;Subject&gt;
            In-Reply-To: &lt;Message-Id&gt;
            References: &lt;Message-Id&gt;
            Comments: In-Reply-To &lt;From&gt; or &lt;apparently from&gt; or &lt;Sender&gt;
               message dated &lt;date&gt;
            --------

       where  field  names  enclosed  in  angle brackets (&lt; &gt;) indicate the contents of the named field from the
       message to which the reply is being made.

       By default, the “cc:” field is empty.  You may selectively add addresses to this  default  with  the  <b>-cc</b>
       <u>type</u>  switch.  This switch takes an argument (<u>all</u>/<u>to</u>/<u>cc</u>/<u>me</u>) which specifies who gets added to the default
       “cc:” list of the reply.  You may give this switch multiple times (with different arguments) if you  wish
       to add multiple types of address.

       If  the  switch  <b>-group</b> is given, then <b>repl</b> will use the standard forms file “replgroupcomps”.  This will
       construct  a  draft  message  that  is  intended  as  a  group  or  followup  reply.   If  a  file  named
       “replgroupcomps”  exists in the user's nmh directory, it will be used instead of this default forms file,
       unless you specify another forms file on the command line or in your profile.

       The default group reply template “replgroupcomps” will direct <b>repl</b> to construct the reply  message  draft
       as follows:

            To: &lt;Mail-Followup-To&gt;
            Subject: Re: &lt;Subject&gt;
            In-Reply-To: Message from &lt;From&gt; of &lt;Date&gt;.
                         &lt;Message-Id&gt;
            --------

       or if the field &lt;Mail-Followup-To&gt; is not available:

            To: &lt;Mail-Reply-To&gt; or &lt;Reply-To&gt; or &lt;From&gt;
            cc: &lt;To&gt; and &lt;cc&gt; and &lt;personal address&gt;
            Subject: Re: &lt;Subject&gt;
            In-Reply-To: Message from &lt;From&gt; of &lt;Date&gt;.
                         &lt;Message-Id&gt;
            --------

       By  default,  the “cc:” contains all the addresses shown.  You may selectively remove addresses from this
       default with the <b>-nocc</b> <u>type</u> switch.  This switch takes an argument ( <u>all</u>/<u>to</u>/<u>cc</u>/<u>me</u>)  which  specifies  who
       gets  removed  from  the  default “cc:” list of the reply.  You may give this switch multiple times (with
       different arguments) if you wish to remove multiple types of address.

       In any case, you may specify an alternative forms file with the switch <b>-form</b> <u>formfile</u>.

       The <b>-query</b> switch modifies the action of <b>-nocc</b> <u>type</u> switch by interactively asking you  if  each  address
       that normally would be placed in the “To:” and “cc:” list should actually be sent a copy.  This is useful
       for  special-purpose  replies.   Note  that  the  position  of the <b>-cc</b> and <b>-nocc</b> switches, like all other
       switches which take a positive and negative form, is important.

       Lines beginning with the fields “To:”,  “cc:”,  and  ”Bcc:”  will  be  standardized  and  have  duplicate
       addresses removed.  In addition, the <b>-width</b> <u>columns</u> switch will guide <b>repl</b>'s formatting of these fields.

       If  the draft already exists, <b>repl</b> will ask you as to the disposition of the draft.  A reply of <b>quit</b> will
       abort <b>repl</b>, leaving the draft intact; <b>replace</b> will replace the existing draft with a blank skeleton;  and
       <b>list</b> will display the draft.

       See  <u><a href="../man1/comp.1.html">comp</a></u>(1)  for a description of the <b>-editor</b> and <b>-noedit</b> switches.  Note that while in the editor, with
       <b>-atfile</b> and if the current directory is writable, the message being replied to  is  available  through  a
       link  named  “@”  (assuming the default <u>whatnowproc</u>).  In addition, the actual pathname of the message is
       stored in the environment variable <b>$editalt</b>, and the pathname of the folder  containing  the  message  is
       stored in the environment variable <b>$mhfolder</b>.  The creation of the “@” file is controlled via the <b>-atfile</b>
       and <b>-noatfile</b> options.

       The  <b>-convertargs</b>  switch  directs  <b>repl</b>  to  pass the arguments for <u>type</u> to <b>mhbuild</b>.  Both arguments are
       required; <u>type</u> must be non-empty while <u>argstring</u> can be empty, e.g., '' in a  shell  command  line.   The
       <b>-convertargs</b>  switch  can  be used multiple times.  See the Convert Interface section of <u><a href="../man1/mhbuild.1.html">mhbuild</a></u>(1) for a
       description of the convert mechanism, and <u>/usr/share/doc/nmh/contrib/replaliases</u> for examples of its use.

       Although <b>repl</b> uses a forms file to direct it how to construct the beginning  of  the  draft,  it  uses  a
       message  filter file to direct it as to how the message to which you are replying should be filtered (re-
       formatted) in the body of the draft.  The filter file for <b>repl</b> should be a standard form file for <b>mhl</b>, as
       <b>repl</b> will invoke <b>mhl</b> to format the message to which you are replying.

       The switches <b>-noformat</b>, <b>-format</b>, and <b>-filter</b> <u>filterfile</u> specify which message filter file to use.

       If the switch <b>-noformat</b> is given (it is the default) and the <b>-filter</b> switch is not used, then the message
       to which you are replying is not included in the body of the draft.

       If the switch <b>-format</b> is given, then a default message filter file is used.  This default message  filter
       should be adequate for most users.  This default filter “<u>mhl.reply</u>” is:

            ; mhl.reply
            ;
            ; default message filter for `repl' (repl -format)
            ;
            from:nocomponent,formatfield="%(unquote(decode(friendly{text}))) writes:"
            body:component="&gt; ",overflowtext="&gt; ",overflowoffset=0

       which outputs each line of the body of the message prefaced with the “&gt;” character and a space.

       If  a  file  named  “<u>mhl.reply</u>” exists in the user's <b>nmh</b> directory, it will be used instead of this form.
       You may specify an alternate message filter file with the switch <b>-filter</b> <u>filterfile</u>.

       Other reply filters are commonly used, such as:

            :
            body:nocomponent,compwidth=9,offset=9

       which says to output a blank line, and then the body of the message being replied to, indented by one tab
       stop.  Another popular format is:

            message-id:nocomponent,nonewline,\
            formatfield=“In message %{text}, ”
            from:nocomponent,formatfield=“%(decode(friendly{text})) writes:”
            body:component=“&gt;”,overflowtext=“&gt;”,overflowoffset=0

       This message filter file cites the Message-ID and author of  the  message  being  replied  to,  and  then
       outputs each line of the body prefaced with the “&gt;” character.

       You  can also use an external format program to format the message body.  The format program is specified
       by the <u>formatproc</u> profile entry, and is enabled by the “format” flag.  A message filter using an external
       format program would look like this:

            body:component=“&gt;”,nowrap,format

       See the <u><a href="../man1/mhl.1.html">mhl</a></u>(1) documentation for more information.  The format program can be  changed  by  the  <b>-fmtproc</b>
       <u>program</u> and <b>-nofmtproc</b> switches.

       To  use  the  MIME  rules  for encapsulation, specify the <b>-mime</b> switch.  This directs <b>repl</b> to generate an
       <b>mhbuild</b> composition file.  Note that <b>nmh</b> will not invoke <b>mhbuild</b>  automatically;  you  must  specifically
       give the command

            What now? mime

       prior to sending the draft.

       If the <b>-annotate</b> switch is given, the message being replied to will be annotated with the lines

            Replied: date Replied: addrs

       where  the  address  list  contains one line for each addressee.  The annotation will be done only if the
       message is sent directly from <b>repl</b>.  If the message is not sent immediately from <b>repl</b>, “<b>comp</b> <b>-use</b>” may be
       used to re-edit and send the constructed  message,  but  the  annotations  won't  take  place.   Normally
       annotations  are  done inplace in order to preserve any links to the message.  You may use the <b>-noinplace</b>
       switch to change this.

       Although the default template specifies that a copy of the reply will be put in the folder  `outbox',  if
       the <b>-fcc</b> <u>+folder</u> switch is given it will override the default value.  More than one folder, each preceded
       by <b>-fcc</b> can be named.

       In addition to the standard <u><a href="../man5/mh-format.5.html">mh-format</a></u>(5) escapes, <b>repl</b> also recognizes the following additional <u>component</u>
       escape:

            <u>Escape</u>  <u>Returns</u>  <u>Description</u>
            fcc     string   Any folders specified with `-fcc folder'

       To avoid reiteration, <b>repl</b> strips any leading `Re: ' strings from the <u>subject</u> component.

       The <b>-draftfolder</b> <u>+folder</u> and <b>-draftmessage</b> <u>msg</u> switches invoke the <b>nmh</b> draft folder facility.  This is an
       advanced (and highly useful) feature.  Consult <u><a href="../man5/mh-draft.5.html">mh-draft</a></u>(5) for more information.

       Upon  exiting  from the editor, <b>repl</b> will invoke the <b>whatnow</b> program.  See <u><a href="../man1/whatnow.1.html">whatnow</a></u>(1) for a discussion of
       available options.  The invocation of this program can be inhibited by using the  <b>-nowhatnowproc</b>  switch.
       (In  fact,  it  is the <b>whatnow</b> program which starts the initial edit.  Hence, <b>-nowhatnowproc</b> will prevent
       any edit from occurring.)

       The <b>-build</b> switch is intended to be used by the Emacs mh-e interface to <b>nmh</b>.  It implies  <b>-nowhatnowproc</b>.
       It  causes  a  file  <u>&lt;mh-dir&gt;/reply</u>  to  be  created, containing the draft message that would normally be
       presented to the user for editing.  No mail is actually sent.

       The <b>-file</b> <u>msgfile</u> switch specifies the message to be replied to as an exact filename rather  than  as  an
       <b>nmh</b> folder and message number.  The same caveats apply to this option as to the <b>-build</b> switch.

</pre><h4><b>FILES</b></h4><pre>
       <b>repl</b>  looks  for  all  format,  filter  and  template files in multiple locations: absolute pathnames are
       accessed directly, tilde expansion is done on usernames, and files are searched for in  the  user's  <u>Mail</u>
       directory as specified in their profile.  If not found there, the directory “<u>/etc/nmh</u>” is checked.

       /etc/nmh/replcomps         The standard reply template
       or &lt;mh-dir&gt;/replcomps      Rather than the standard template
       /etc/nmh/replgroupcomps    The standard `reply -group' template
       or &lt;mh-dir&gt;/replgroupcomps Rather than the standard template
       /etc/nmh/mhl.reply         The standard message filter
       or &lt;mh-dir&gt;/mhl.reply      Rather than the standard filter
       $HOME/.mh_profile          The user profile
       &lt;mh-dir&gt;/draft             The draft file

</pre><h4><b>PROFILE</b> <b>COMPONENTS</b></h4><pre>
       Path:                To determine the user's nmh directory
       Alternate-Mailboxes: To determine the user's mailboxes
       Current-Folder:      To find the default current folder
       Draft-Folder:        To specify the default draftfolder
       Editor:              To override the default editor
       Msg-Protect:         To set mode when creating a new message (draft)
       fileproc:            Program to refile the message
       mhlproc:             Program to filter message being replied-to
       whatnowproc:         Program to ask the “What now?” questions

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <u><a href="../man1/comp.1.html">comp</a></u>(1), <u><a href="../man1/forw.1.html">forw</a></u>(1), <u><a href="../man5/mh-draft.5.html">mh-draft</a></u>(5), <u><a href="../man5/mh-format.5.html">mh-format</a></u>(5), <u><a href="../man1/mhbuild.1.html">mhbuild</a></u>(1), <u><a href="../man1/send.1.html">send</a></u>(1), <u><a href="../man1/whatnow.1.html">whatnow</a></u>(1)

       <u>/usr/share/doc/nmh/contrib/replaliases</u>

</pre><h4><b>DEFAULTS</b></h4><pre>
       `<b>+folder</b>' defaults to the current folder
       `<b>msg</b>' defaults to cur
       `<b>-nogroup</b>'
       `<b>-nocc</b> <b>all</b>' with `-nogroup', `-cc all' with `-group'
       `<b>-noannotate</b>'
       `<b>-nodraftfolder</b>'
       `<b>-noformat</b>'
       `<b>-inplace</b>'
       `<b>-nomime</b>'
       `<b>-noquery</b>'
       `<b>-noatfile</b>'
       `<b>-width</b> <b>72</b>'

</pre><h4><b>CONTEXT</b></h4><pre>
       If  a folder is given, it will become the current folder.  The message replied to will become the current
       message.

</pre><h4><b>BUGS</b></h4><pre>
       If any addresses occur in the reply template, addresses in the template that do  not  contain  hosts  are
       defaulted  incorrectly.   Instead  of  using  the localhost for the default, <b>repl</b> uses the sender's host.
       Moral of the story: if you're going to include addresses in a reply template, include the host portion of
       the address.

       The <b>-width</b> <u>columns</u> switch is only used to do address-folding; other headers are not line-wrapped.

       If <u>whatnowproc</u> is <b>whatnow</b>, then <b>repl</b> uses a built-in <b>whatnow</b>,  it  does  not  actually  run  the  <b>whatnow</b>
       program.  Hence, if you define your own <u>whatnowproc</u>, don't call it <b>whatnow</b> since <b>repl</b> won't run it.

nmh-1.8                                            2022-12-22                                          <u><a href="../man1mh/REPL.1mh.html">REPL</a></u>(1mh)
</pre>
 </div>
</div></section>
</div>
</body>
</html>