<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>virt-v2v-inspector - Estimate disk space needed before virt-v2v conversion</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/virt-v2v">virt-v2v_2.6.0-1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       virt-v2v-inspector - Estimate disk space needed before virt-v2v conversion

</pre><h4><b>SYNOPSIS</b></h4><pre>
        virt-v2v-inspector [-i* options]
                           [virt-customize options]
                           guest
                           [-O output.xml]

</pre><h4><b>DESCRIPTION</b></h4><pre>
       Virt-v2v-inspector is a companion tool for <b><a href="../man1/virt-v2v.1.html">virt-v2v</a></b>(1) which can be used before conversion to estimate
       the number of output disks and disk space that will be required to complete the virt-v2v conversion.  The
       common use for this is to preallocate target disks on management systems that need this (like Kubevirt).

       This manual page only documents the estimation feature, not all of the <u>-i*</u> options which are the same as
       virt-v2v.  You should read <b><a href="../man1/virt-v2v.1.html">virt-v2v</a></b>(1) first.

   <b>Selecting</b> <b>the</b> <b>input</b> <b>guest</b>
       You can run virt-v2v-inspector with the same <u>-i*</u> options as virt-v2v.  (Don't use any <u>-o*</u> options).  This
       will select the guest that you want to estimate.

       For example to estimate the space required for a guest in a stored local disk called <u>filename.img</u> you
       could do:

        virt-v2v-inspector -i disk filename.img

   <b>Output</b>
       The output from this tool is an XML document.

       •   Fields  which  are  annotated  with  an  "estimated='true'" attribute are estimated.  Virt-v2v cannot
           always know exactly the final size of some things, such as the exact real size of  the  output  disk,
           since there might be small perturbations between runs.  Estimates are usually very close to the final
           values.

       •   Numbers representing sizes are always given in bytes.

       •   By  default  the  output  is written to stdout.  This is useful when using the program interactively.
           However if you want to use this tool from another program it is  better  to  send  the  output  to  a
           specific file using <u>-O</u> <u>output.xml</u>

        &lt;?xml version='1.0' encoding='utf-8'?&gt;
        &lt;v2v-inspection&gt;
          &lt;program&gt;virt-v2v-inspector&lt;/program&gt;
          &lt;package&gt;virt-v2v&lt;/package&gt;
          &lt;version&gt;2.1.9&lt;/version&gt;

       The  &lt;program&gt;,  &lt;package&gt;  and &lt;version&gt; elements refer to the current version of virt-v2v-inspector and
       are useful for debugging.  Make sure you use the same version of virt-v2v-inspector and virt-v2v.

          &lt;disks&gt;
            &lt;disk index='0'&gt;
              &lt;virtual-size&gt;6442450944&lt;/virtual-size&gt;
              &lt;allocated estimated='true'&gt;1400897536&lt;/allocated&gt;
            &lt;/disk&gt;
            &lt;disk index='1'&gt;
              &lt;virtual-size&gt;6442450944&lt;/virtual-size&gt;
              &lt;allocated estimated='true'&gt;45131520&lt;/allocated&gt;
            &lt;/disk&gt;
          &lt;/disks&gt;

       The &lt;disks&gt; element lists information about each guest disk.  The example virtual machine above  has  two
       disks.  &lt;virtual-size&gt; describes the size of the disk as seen from inside the guest, while &lt;allocated&gt; is
       an  estimate  of  how much storage will be needed on the host after conversion.  This is assuming you use
       <u>-oa</u> <u>sparse</u> - see the notes below.

          &lt;operatingsystem&gt;
            &lt;name&gt;linux&lt;/name&gt;
            &lt;distro&gt;fedora&lt;/distro&gt;
            &lt;osinfo&gt;fedora32&lt;/osinfo&gt;
            &lt;arch&gt;x86_64&lt;/arch&gt;
            [...]
          &lt;/operatingsystem&gt;

       The &lt;operatingsystem&gt;  element  lists  information  about  the  guest  operating  system  gleaned  during
       conversion, in a manner similar to the <b><a href="../man1/virt-inspector.1.html">virt-inspector</a></b>(1) tool from guestfs-tools.

   <b>Output</b> <b>allocation</b> <b>mode</b> <b>and</b> <b>output</b> <b>format</b>
       Virt-v2v  supports  selecting  the output allocation mode (<u>-oa</u> option) and output format (<u>-of</u> option, eg.
       <u>-of</u> <u>qcow2</u>).  Since it is difficult to predict the effect of these options on the actual space occupied by
       the final image this tool does not account for them.

       As a rule of thumb:

       virt-v2v -oa preallocated
           causes the disk images on the target to consume their full virtual size (excluding the effect of zero
           allocations will depends so much on the underlying storage that it is often hard even for experts  to
           predict).

       virt-v2v -of qcow2
           uses the QCOW2 format where supported which means that the apparent size of the file will be equal to
           its sparse size, but otherwise should not affect estimates very much.

</pre><h4><b>OPTIONS</b></h4><pre>
       <b>--help</b>
           Display help.

       <b>-O</b> <u>output.xml</u>
           Write the output to a file called <u>output.xml</u>.

       <b>-O</b> -
           Write the output to stdout.  This is also the default if the <u>-O</u> option is omitted.

       <b>-v</b>
       <b>--verbose</b>
           Enable verbose messages for debugging.

       <b>-V</b>
       <b>--version</b>
           Display version number and exit.

       <b>-x</b>  Enable tracing of libguestfs API calls.

       <b>-i</b> ...
       <b>-ic</b> ...
       <b>-if</b> ...
       <b>-io</b> ...
       <b>-ip</b> ...
       <b>-it</b> ...
           All of the <u>-i*</u> options supported by virt-v2v and also supported by virt-v2v-inspector.

       <b>-b</b> ...
       <b>--bridge</b> ...
       <b>--colors</b>
       <b>--colours</b>
       <b>--echo-keys</b>
       <b>--key</b> ...
       <b>--keys-from-stdin</b>
       <b>--mac</b> ...
       <b>--machine-readable</b>
       <b>--machine-readable</b>=format
       <b>-n</b> ...
       <b>--network</b> ...
       <b>-q</b>
       <b>--quiet</b>
       <b>--root</b> ...
       <b>--wrap</b>
           These options work in the same way as the equivalent virt-v2v options.

</pre><h4><b>FILES</b></h4><pre>
       Files used are the same as for virt-v2v.  See "FILES" in <b><a href="../man1/virt-v2v.1.html">virt-v2v</a></b>(1).

</pre><h4><b>ENVIRONMENT</b> <b>VARIABLES</b></h4><pre>
       Environment variables used are the same as for virt-v2v.  See "ENVIRONMENT VARIABLES" in <b><a href="../man1/virt-v2v.1.html">virt-v2v</a></b>(1).

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man1/virt-v2v.1.html">virt-v2v</a></b>(1),   <b><a href="../man1/virt-p2v.1.html">virt-p2v</a></b>(1),   <b><a href="../man1/virt-inspector.1.html">virt-inspector</a></b>(1),   <b><a href="../man3/guestfs.3.html">guestfs</a></b>(3),   <b><a href="../man1/guestfish.1.html">guestfish</a></b>(1),   <b><a href="../man1/qemu-img.1.html">qemu-img</a></b>(1),  <b><a href="../man1/nbdkit.1.html">nbdkit</a></b>(1),
       <a href="http://libguestfs.org/">http://libguestfs.org/</a>.

</pre><h4><b>AUTHORS</b></h4><pre>
       Matthew Booth

       Cédric Bosdonnat

       Laszlo Ersek

       Tomáš Golembiovský

       Shahar Havivi

       Richard W.M. Jones

       Roman Kagan

       Mike Latimer

       Nir Soffer

       Pino Toscano

       Xiaodai Wang

       Ming Xie

       Tingting Zheng

</pre><h4><b>COPYRIGHT</b></h4><pre>
       Copyright (C) 2009-2022 Red Hat Inc.

</pre><h4><b>LICENSE</b></h4><pre>
       This program is free software; you can redistribute it and/or modify  it  under  the  terms  of  the  GNU
       General  Public License as published by the Free Software Foundation; either version 2 of the License, or
       (at your option) any later version.

       This program is distributed in the hope that it will be useful, but WITHOUT ANY  WARRANTY;  without  even
       the  implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public
       License for more details.

       You should have received a copy of the GNU General Public License along with this program; if not,  write
       to the Free Software Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA.

</pre><h4><b>BUGS</b></h4><pre>
       To      get      a      list      of      bugs      against      libguestfs,      use      this     link:
       https://bugzilla.redhat.com/buglist.cgi?component=libguestfs&amp;product=Virtualization+Tools

       To      report      a      new       bug       against       libguestfs,       use       this       link:
       https://bugzilla.redhat.com/enter_bug.cgi?component=libguestfs&amp;product=Virtualization+Tools

       When reporting a bug, please supply:

       •   The version of libguestfs.

       •   Where you got libguestfs (eg. which Linux distro, compiled from source, etc)

       •   Describe the bug accurately and give a way to reproduce it.

       •   Run <b><a href="../man1/libguestfs-test-tool.1.html">libguestfs-test-tool</a></b>(1) and paste the <b>complete,</b> <b>unedited</b> output into the bug report.

virt-v2v-2.6.0                                     2024-11-30                              <u><a href="../man1/virt-v2v-inspector.1.html">virt-v2v-inspector</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>