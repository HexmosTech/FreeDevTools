<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>virt-fw-vars - manual page for virt-fw-vars 24.11</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/python3-virt-firmware">python3-virt-firmware_24.11-2_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       virt-fw-vars - manual page for virt-fw-vars 24.11

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The  virt-fw-vars utility can print and modify UEFI variable stores.  Supported formats are standard edk2
       (as used by ovmf and armvirt) and aws.

       usage: virt-fw-vars [-h] [-l LEVEL] [-i FILE] [--inplace FILE]

       [--extract-certs] [-d VAR] [--set-true VAR]
              [--set-false  VAR]  [--set-json  FILE]   [--set-boot-uri   LINK]   [--append-boot-filepath   FILE]
              [--set-shim-debug]    [--set-shim-verbose]   [--set-fallback-verbose]   [--set-fallback-no-reboot]
              [--set-sbat-level FILE] [--set-pk GUID FILE] [--add-kek GUID FILE] [--add-db GUID FILE] [--set-dbx
              FILE] [--add-mok GUID FILE] [--add-db-hash GUID HASH] [--add-mok-hash GUID HASH] [--enroll-redhat]
              [--enroll-cert     CERT]     [--enroll-generate     CN]     [--no-microsoft]      [--microsoft-kek
              {none,2011,2023,all}]  [--distro-keys  DISTRO]  [--distro-list]  [--sb]  [-p]  [-v] [-x] [-o FILE]
              [--output-aws FILE] [--output-json FILE]

       Print and modify EFI variable stores.

   <b>options:</b>
       <b>-h</b>, <b>--help</b>
              show this help message and exit

       <b>-l</b>, <b>--loglevel</b> LEVEL
              set loglevel to LEVEL

       <b>-i</b>, <b>--input</b> FILE
              read edk2 or aws vars from FILE

       <b>--inplace</b>, <b>--in-place</b> FILE
              modify FILE in place

       <b>--extract-certs</b>
              extract all certificates

   <b>Variable</b> <b>options:</b>
       <b>-d</b>, <b>--delete</b> VAR
              delete variable VAR, can be specified multiple times

       <b>--set-true</b> VAR
              set variable VAR to true, can be specified multiple times

       <b>--set-false</b> VAR
              set variable VAR to false, can be specified multiple times

       <b>--set-json</b> FILE
              set variables from json dump FILE

   <b>Boot</b> <b>configuration:</b>
       <b>--set-boot-uri</b> LINK
              set network boot uri to LINK (once, using BootNext)

       <b>--append-boot-filepath</b> FILE
              append boot entry for FILE (permanent, using BootOrder)

   <b>shim.efi</b> <b>configuration:</b>
       <b>--set-shim-debug</b>
              enable shim.efi debugging (pause for debugger attach)

       <b>--set-shim-verbose</b>
              enable shim.efi verbose messages

       <b>--set-fallback-verbose</b>
              enable fallback.efi verbose messages

       <b>--set-fallback-no-reboot</b>
              disable rebooting for fallback.efi

       <b>--set-sbat-level</b> FILE
              set SbatLevel variable

   <b>Secure</b> <b>boot</b> <b>setup</b> <b>options:</b>
       <b>--set-pk</b> GUID FILE
              set PK to x509 cert, loaded in pem format from FILE and with owner GUID

       <b>--add-kek</b> GUID FILE
              add x509 cert to KEK, loaded in pem format from  FILE  and  with  owner  GUID,  can  be  specified
              multiple times

       <b>--add-db</b> GUID FILE
              add x509 cert to db, loaded in pem format from FILE and with owner GUID, can be specified multiple
              times

       <b>--set-dbx</b> FILE
              initialize dbx with update from FILE

       <b>--add-mok</b> GUID FILE
              add  x509  cert  to  MokList, loaded in pem format from FILE and with owner GUID, can be specified
              multiple times

       <b>--add-db-hash</b> GUID HASH
              add sha256 HASH to db, with owner GUID, can be specified multiple times

       <b>--add-mok-hash</b> GUID HASH
              add sha256 HASH to MokList, with owner GUID, can be specified multiple times

   <b>Secure</b> <b>boot</b> <b>convinience</b> <b>shortcuts:</b>
       <b>--enroll-redhat</b>
              enroll default certificates for redhat platform

       <b>--enroll-cert</b> CERT
              enroll using specified certificate

       <b>--enroll-generate</b> CN
              enroll using generated cert with given common name

       <b>--no-microsoft</b>
              do not add microsoft keys to db

       <b>--microsoft-kek</b> {none,2011,2023,all}
              choose microsoft KEK keys to enroll

       <b>--distro-keys</b> DISTRO
              add ca keys for DISTRO

       <b>--distro-list</b>
              list known distros

       <b>--sb</b>, <b>--secure-boot</b>
              enable secure boot mode

   <b>Print</b> <b>options:</b>
       <b>-p</b>, <b>--print</b>
              print varstore

       <b>-v</b>, <b>--verbose</b>
              print varstore verbosely

       <b>-x</b>, <b>--hexdump</b>
              print variable hexdumps

   <b>Output</b> <b>options:</b>
       <b>-o</b>, <b>--output</b> FILE
              write edk2 or aws vars to FILE, using the same format the <b>--input</b> FILE has.

       <b>--output-aws</b> FILE
              write aws vars to FILE

       <b>--output-json</b> FILE
              write json dump to FILE

</pre><h4><b>EXAMPLES</b></h4><pre>
       Print variable store.
              virt-fw-vars --input ${guest}_VARS.fd \
                           --print --verbose

       Enroll default (microsoft) secure boot certificates
              virt-fw-vars --input OVMF_VARS.fd \
                           --output OVMF_VARS.secboot.fd \
                           --enroll-redhat \
                           --secure-boot

</pre><h4><b>AUTHOR</b></h4><pre>
       Gerd Hoffmann &lt;<a href="mailto:kraxel@redhat.com">kraxel@redhat.com</a>&gt;

virt-fw-vars 24.11                                November 2024                                  <u><a href="../man1/VIRT-FW-VARS.1.html">VIRT-FW-VARS</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>