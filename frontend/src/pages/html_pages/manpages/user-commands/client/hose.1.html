<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>hose - the client end of a BSD network pipe</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/netpipes">netpipes_4.2-8build1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       hose - the client end of a BSD network pipe

       netpipes 4.2

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>hose</b>   <u>hostname</u>  <u>port</u>  (<b>--in</b>|<b>--out</b>|<b>--err</b>|<b>--fd</b>  <u>n</u>|<b>--slave</b>|<b>--netslave</b>|<b>--netslave1</b>|<b>--netslave2</b>)  [<b>--verbose</b>]
       [<b>--unix</b>]  [<b>--localport</b>  <u>port</u>]  [<b>--localhost</b>  <u>addr</u>]  [<b>--retry</b>  <u>n</u>]  [<b>--delay</b>  <u>n</u>]  [<b>--shutdown</b>  [r|w][a]   ]
       [<b>--noreuseaddr</b>] [<b>-</b>[<b>i</b>][<b>o</b>][<b>e</b>][<b>#</b><u>3</u>[,<u>4</u>[,<u>5</u>...]]][<b>s</b>][<b>v</b>][<b>u</b>]] [<b>-p</b> <u>local-port</u>] [<b>-h</b> <u>local-host</u>] <u>command</u> <u>args</u>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>hose</b>  attempts to provide the functionality of pipes over the network.  It behaves as the client end of a
       server-client connection.  When used with <b><a href="../man1/faucet.1.html">faucet</a>(1)</b> it can function as a replacement for

       tar -cf - . | rsh other "cd destdir; tar -xf -"

       <b>faucet</b> and <b>hose</b> are especially useful when you don't have easy non-interactive access to the  destination
       machine.

</pre><h4><b>OPTIONS</b></h4><pre>
       <b>hose</b> creates a BSD socket and, if the <b>--localport</b> option is used, binds it to the port number (or service
       name)  specified  immediately  afterwards.  If <b>--localhost</b> is also specified then its argument is a local
       address to bind to. ( <b>--localhost</b> is only useful on machines with multiple IP addresses.)

       <b>hose</b> then tries to connect to the foreign machine <u>hostname</u> with foreign port <u>port.</u>

       If successful <b>hose</b> redirects the socket to stdin,  stdout,  stderr,  and/or  arbitrary  file  descriptors
       according  to  the  <b>--in</b> <b>--out</b> <b>--err</b> <b>--fd</b> <u>n</u> flags.  <b>hose</b> also automagically shuts down the unused half of
       the connection if only <b>--in</b> is specified or if only <b>--out</b> and/or <b>--err</b> are specified.  See the <b>--shutdown</b>
       option for more information.

       <b>hose</b> then <a href="../man2/exec.2.html">exec</a>(2)s a <u>command</u> with <u>args</u>.

       However, the <b>--slave</b> flag turns <b>hose</b> into a primitive sort of telnet.  The <u>command</u> is ignored.   Instead,
       <b>hose</b>  goes  into  a  loop  where  it  copies bytes from stdin to the socket, and bytes from the socket to
       stdout.  This is actually more useful than telnet because telnet tries to perform interpretation  on  the
       byte stream and generally gets in your way.  <b>hose</b> just passes bytes without mucking with them.

       The <b>--netslave*</b> options are variants on the <b>--slave</b> theme.  Whereas <b>--slave</b> will continue to forward data
       in  one  direction  even  after the other has encountered EOF, <b>--netslave</b> variants are more aggressive in
       closing the entire socket.  Before closing the socket, it attempts to flush any data already in  its  own
       buffer.   <b>--slave</b>  performs  the <a href="../man2/shutdown.2.html">shutdown</a>(2) system call when it encounters EOF on one direction, but the
       <b>--netslave</b> variants don't because some network daemons are confused by it.

       <b>--netslave</b> closes down the connection when it encounters EOF in either direction.

       <b>--netslave1</b> closes down the connection when it encounters EOF while reading stdin.  Any  data  unread  on
       the  socket  will  be  ignored.  If it merely encounters EOF on the socket, it will continue to read from
       stdin.

       <b>--netslave2</b> closes down the connection when it encounters EOF while reading from the  socket.   Any  data
       unread on stdin will be ignored.  If it merely encounters EOF on stdin, it will continue to read from the
       socket.  This mode can be useful with some web servers.

       The  <b>--verbose</b>  flag  specifies  that  <b>hose</b> should print information about the host it connects to.  This
       information includes the numeric host address, host names, and foreign port numbers.

       The <b>--unix</b> flag specifies that the <u>port</u> is not an internet port number or service name, but instead it is
       a filename for a UNIX domain socket.  This option may be simulated by using <b>-unix-</b> as the  host  name  to
       connect to, or by renaming the <b>hose</b> program to <b>uhose</b>.

       <b>--retry</b>  <u>n</u>  allows the user to specify that <b>hose</b> should retry the <a href="../man2/connect.2.html">connect</a>(2) call for <u>n</u> times (or forever
       if <u>n</u> is negative).  <b>--delay</b> <u>n</u> specifies how many seconds to delay between tries.

       <b>--shutdown</b> is used to control two behaviors.  The first set is controlled by the `r' and `w'  flags.   If
       the `r' is present, then <b>hose</b> will close half the connection to make it a read-only socket.  If the child
       tries  to  write,  it  will fail.  If the remote connection tries to read, it will percieve the socket as
       closed.  If instead the `w' is present, then <b>hose</b> will close the other half of the connection to make  it
       a  write-only  socket.  If the child tries to read, it will percieve the socket as closed.  If the remote
       connection tries to write, it will fail.  The default behavior is to leave both halves open, however  the
       shutdown  of half of the connection is automagically done by certain combinations of the <b>--in</b>, <b>--out</b>, and
       <b>--err</b> flags.  To suppress their automagic behavior you can use (respectively) --fd 0, --fd 1, and --fd 2.

       The other behavior is controlled by the `a' flag.  If the `a' flag is  present  then  <b>hose</b>  will  <a href="../man2/fork.2.html">fork</a>(2)
       before  execcing  the  <u>command</u>  and  when the child exits it will perform a <a href="../man2/shutdown.2.html">shutdown</a>(2) with how=2.  This
       closes both halves of the connection.  This option is not  necessary  for  most  applications  since  the
       closing  of  the  file descriptors is detected by the remote process, but some less sophisticated network
       devices (such as printers) require a <a href="../man2/shutdown.2.html">shutdown</a>(2) for proper operation.  To make things  perfectly  clear,
       the list of acceptable arguments to the <b>--shutdown</b> option are `r', `w', `ra', `wa', `a'.

       By default, <b>hose</b> performs a

       which  prevents  the  ``Address  in  use''  problem  that  ``plagued'' netpipes versions 4.0 and earlier.
       <b>--noreuseaddr</b> tells <b>hose</b> to skip that system call, and revert to pre-4.1 behavior.   Without  this  call,
       the port is not always available for immediate reuse after the <b>hose</b> exits.

</pre><h4><b>SHORT</b> <b>FLAGS</b></h4><pre>
       To  reduce  the  typing  requirements  for  arguments (and to pay homage to the age-old tradition of UNIX
       cryptotaxonomy) I have added some short forms of the flags.  Here is a correspondence chart:

       ┌───────┬──────────────┐
       │ Short │ Long         │
       │   <b>i</b>   │ <b>in</b>           │
       │   <b>o</b>   │ <b>out</b>          │
       │   <b>e</b>   │ <b>err</b>          │
       │  <b>#</b><u>n</u>   │ <b>fd</b><u>n</u>          │
       │   <b>s</b>   │ <b>slave</b>        │
       │   <b>v</b>   │ <b>verbose</b>      │
       │   <b>q</b>   │ <b>quiet</b>        │
       │   <b>u</b>   │ <b>unix</b>         │
       │   <b>p</b>   │ <b>localport</b>    │
       │   <b>h</b>   │ <b>localhost</b>    │
       └───────┴──────────────┘

       See <a href="../man1/faucet.1.html">faucet</a>(1) for a more detailed discussion of short flags.  Their behavior should be unsurprising.  The
       flags that require separate arguments follow in the tradition of <a href="../man1/tar.1.html">tar</a>(1).

</pre><h4><b>EXAMPLES</b></h4><pre>
       This will connect to port 3000 on the machine reef and connect the socket to the stdin of a tar command.

       example$ hose reef 3000 --in tar -xf - .

       The command actually <a href="../man2/exec.2.html">exec</a>(2)ed by the <b>hose</b> program is

       tar -xf - .

       The <b>--in</b> option means that the input of the child process will  have  been  redirected  into  the  socket
       connected to reef.

       This connects to a UNIX domain socket in the current directory

       example$ hose --unix- u-socket --in sh -c \
            "unfunky.perl.script | dd of=sample.pgm"

       The socket provides input to the sh command.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       netpipes (1), faucet (1), sockdown (1), getpeername (1), socket (2), bind (2), connect (2), shutdown (2),
       services (5), gethostbyaddr (3)

</pre><h4><b>NOTES</b></h4><pre>
       Doubtless  there  are  bugs  in  this  program, especially in the unix domain socket portions.  I welcome
       problem reports and would like to make  these  programs  as  "clean"  (no  leftover  files,  sockets)  as
       possible.

       4.0 made the full-word arguments use -- like many GNU programs.  They are still available with a single -
       for backward-compatibility.

       3.1 added the single-character flags.

       Release 2.3 added support for multi-homed hosts: hosts with multiple internet numbers (such as gateways).
       Before  this  faucet assumed that the first internet number that gethostbyname returned was the only one.
       <b>--foreignport</b>  authentication  was  weakened  by  this  inadequacy  so  I  beefed  up   the   algorithms.
       <b>--foreignport</b> will accept a connection from any of the internet numbers associated with the host name.

</pre><h4><b>CREDITS</b></h4><pre>
       Thanks to Steve Clift &lt;<a href="mailto:clift@ml.csiro.au">clift@ml.csiro.au</a>&gt; for SGI (SysV) patches.

       Many  people  complained  about  the  old  way  of specifying the command.  Thanks to whoever gave me the
       alternative which is now implemented.  It is much better.

       Thanks to Sten Drescher &lt;<a href="mailto:smd@hrt213.brooks.af.mil">smd@hrt213.brooks.af.mil</a>&gt; for the --retry and --delay patches and giving me  the
       idea for the --shutdown option.  Evidently some printer doesn't appreciate the socket being <a href="../man2/close.2.html">close</a>(2)d.

       Randy  Fischer  &lt;<a href="mailto:fischer@ucet.ufl.edu">fischer@ucet.ufl.edu</a>&gt;  finally  prodded  me  into  fixing  the  old lame non-handling of
       multi-homed host.

</pre><h4><b>COPYRIGHT</b></h4><pre>
       Copyright (C) 1992-98 Robert Forsman

       This program is free software; you can redistribute it and/or modify  it  under  the  terms  of  the  GNU
       General  Public License as published by the Free Software Foundation; either version 2 of the License, or
       (at your option) any later version.

       This program is distributed in the hope that it will be useful, but WITHOUT ANY  WARRANTY;  without  even
       the  implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public
       License for more details.

       You should have received a copy of the GNU General Public License along with this program; if not,  write
       to the Free Software Foundation, Inc., 675 Mass Ave, Cambridge, MA 02139, USA.

</pre><h4><b>AUTHOR</b></h4><pre>
       Robert Forsman
        <a href="mailto:thoth@purplefrog.com">thoth@purplefrog.com</a>
        Purple Frog Software
        <a href="http://web.purplefrog.com/~thoth/">http://web.purplefrog.com/~thoth/</a>

                                                October 28, 1998                                         <u><a href="../man1/HOSE.1.html">HOSE</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>