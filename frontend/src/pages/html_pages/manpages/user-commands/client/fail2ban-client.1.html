<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>fail2ban-client - configure and control the server</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/fail2ban">fail2ban_1.1.0-7_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       fail2ban-client - configure and control the server

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>fail2ban-client</b> [<u>OPTIONS</u>] <u>&lt;COMMAND&gt;</u>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       Fail2Ban  v1.1.0  reads  log  file  that  contains  password failure report and bans the corresponding IP
       addresses using firewall rules.

</pre><h4><b>OPTIONS</b></h4><pre>
       <b>-c</b>, <b>--conf</b> &lt;DIR&gt;
              configuration directory

       <b>-s</b>, <b>--socket</b> &lt;FILE&gt;
              socket path

       <b>-p</b>, <b>--pidfile</b> &lt;FILE&gt;
              pidfile path

       <b>--pname</b> &lt;NAME&gt;
              name of the process (main thread) to identify instance (default fail2ban-server)

       <b>--loglevel</b> &lt;LEVEL&gt;
              logging level

       <b>--logtarget</b> &lt;TARGET&gt;
              logging target, use file-name or stdout, stderr, syslog or sysout.

       <b>--syslogsocket</b> auto|&lt;FILE&gt;

       <b>-d</b>     dump configuration. For debugging

       <b>--dp</b>, <b>--dump-pretty</b>
              dump the configuration using more human readable representation

       <b>-t</b>, <b>--test</b>
              test configuration (can be also specified with start parameters)

       <b>-i</b>     interactive mode

       <b>-v</b>     increase verbosity

       <b>-q</b>     decrease verbosity

       <b>-x</b>     force execution of the server (remove socket file)

       <b>-b</b>     start server in background (default)

       <b>-f</b>     start server in foreground

       <b>--async</b>
              start server in async mode (for internal usage only, don't read configuration)

       <b>--timeout</b>
              timeout to wait for the server (for internal usage only, don't read configuration)

       <b>--str2sec</b> &lt;STRING&gt;
              convert time abbreviation format to seconds

       <b>-h</b>, <b>--help</b>
              display this help message

       <b>-V</b>, <b>--version</b>
              print the version (<b>-V</b> returns machine-readable short format)

</pre><h4><b>COMMAND</b></h4><pre>
              BASIC

       <b>start</b>  starts the server and the jails

       <b>restart</b>
              restarts the server

       <b>restart</b> <b>[--unban]</b> <b>[--if-exists]</b> <b>&lt;JAIL&gt;</b>
              restarts the jail &lt;JAIL&gt; (alias for 'reload <b>--restart</b> ... &lt;JAIL&gt;')

       <b>reload</b> <b>[--restart]</b> <b>[--unban]</b> <b>[--all]</b>
              reloads the configuration without restarting of  the  server,  the  option  '--restart'  activates
              completely  restarting  of  affected  jails,  thereby  can unban IP addresses (if option '--unban'
              specified)

       <b>reload</b> <b>[--restart]</b> <b>[--unban]</b> <b>[--if-exists]</b> <b>&lt;JAIL&gt;</b>
              reloads the jail &lt;JAIL&gt;, or restarts it (if option '--restart' specified)

       <b>stop</b>   stops all jails and terminate the server

       <b>unban</b> <b>--all</b>
              unbans all IP addresses (in all jails and database)

       <b>unban</b> <b>&lt;IP&gt;</b> <b>...</b> <b>&lt;IP&gt;</b>
              unbans &lt;IP&gt; (in all jails and database)

       <b>banned</b> return jails with banned IPs as dictionary

       <b>banned</b> <b>&lt;IP&gt;</b> <b>...</b> <b>&lt;IP&gt;]</b>
              return list(s) of jails where given IP(s) are banned

       <b>status</b> gets the current status of the server

       <b>status</b> <b>--all</b> [FLAVOR]
              gets the current status of all jails, with optional flavor or extended info

       <b>stat[istic]s</b>
              gets the current statistics of all jails as table

       <b>ping</b>   tests if the server is alive

       <b>echo</b>   for internal usage, returns back and outputs a given string

       <b>help</b>   return this output

       <b>version</b>
              return the server version

              LOGGING

       <b>set</b> <b>loglevel</b> <b>&lt;LEVEL&gt;</b>
              sets logging level to &lt;LEVEL&gt;.  Levels: CRITICAL, ERROR, WARNING, NOTICE, INFO, DEBUG, TRACEDEBUG,
              HEAVYDEBUG or corresponding numeric value (50-5)

       <b>get</b> <b>loglevel</b>
              gets the logging level

       <b>set</b> <b>logtarget</b> <b>&lt;TARGET&gt;</b>
              sets logging target to &lt;TARGET&gt;.  Can be STDOUT, STDERR, SYSLOG, SYSTEMD-JOURNAL or a file

       <b>get</b> <b>logtarget</b>
              gets logging target

       <b>set</b> <b>syslogsocket</b> <b>auto|&lt;SOCKET&gt;</b>
              sets the syslog socket path to auto or &lt;SOCKET&gt;. Only used if logtarget is SYSLOG

       <b>get</b> <b>syslogsocket</b>
              gets syslog socket path

       <b>flushlogs</b>
              flushes the logtarget if a file and reopens it. For log rotation.

              DATABASE

       <b>set</b> <b>dbfile</b> <b>&lt;FILE&gt;</b>
              set the location of fail2ban persistent datastore. Set to "None" to disable

       <b>get</b> <b>dbfile</b>
              get the location of fail2ban persistent datastore

       <b>set</b> <b>dbmaxmatches</b> <b>&lt;INT&gt;</b>
              sets the max number of matches stored in database per ticket

       <b>get</b> <b>dbmaxmatches</b>
              gets the max number of matches stored in database per ticket

       <b>set</b> <b>dbpurgeage</b> <b>&lt;SECONDS&gt;</b>
              sets the max age in &lt;SECONDS&gt; that history of bans will be kept

       <b>get</b> <b>dbpurgeage</b>
              gets the max age in seconds that history of bans will be kept

              JAIL CONTROL

       <b>add</b> <b>&lt;JAIL&gt;</b> <b>&lt;BACKEND&gt;</b>
              creates &lt;JAIL&gt; using &lt;BACKEND&gt;

       <b>start</b> <b>&lt;JAIL&gt;</b>
              starts the jail &lt;JAIL&gt;

       <b>stop</b> <b>&lt;JAIL&gt;</b>
              stops the jail &lt;JAIL&gt;. The jail is removed

       <b>status</b> <b>&lt;JAIL&gt;</b> <b>[FLAVOR]</b>
              gets the current status of &lt;JAIL&gt;, with optional flavor or extended info

              JAIL CONFIGURATION

       <b>set</b> <b>&lt;JAIL&gt;</b> <b>idle</b> <b>on|off</b>
              sets the idle state of &lt;JAIL&gt;

       <b>set</b> <b>&lt;JAIL&gt;</b> <b>ignoreself</b> <b>true|false</b>
              allows the ignoring of own IP addresses

       <b>set</b> <b>&lt;JAIL&gt;</b> <b>addignoreip</b> <b>&lt;IP&gt;</b>
              adds &lt;IP&gt; to the ignore list of &lt;JAIL&gt;

       <b>set</b> <b>&lt;JAIL&gt;</b> <b>delignoreip</b> <b>&lt;IP&gt;</b>
              removes &lt;IP&gt; from the ignore list of &lt;JAIL&gt;

       <b>set</b> <b>&lt;JAIL&gt;</b> <b>ignorecommand</b> <b>&lt;VALUE&gt;</b>
              sets ignorecommand of &lt;JAIL&gt;

       <b>set</b> <b>&lt;JAIL&gt;</b> <b>ignorecache</b> <b>&lt;VALUE&gt;</b>
              sets ignorecache of &lt;JAIL&gt;

       <b>set</b> <b>&lt;JAIL&gt;</b> <b>addlogpath</b> <b>&lt;FILE&gt;</b> <b>['tail']</b>
              adds &lt;FILE&gt; to the monitoring list of &lt;JAIL&gt;, optionally  starting  at  the  'tail'  of  the  file
              (default 'head').

       <b>set</b> <b>&lt;JAIL&gt;</b> <b>dellogpath</b> <b>&lt;FILE&gt;</b>
              removes &lt;FILE&gt; from the monitoring list of &lt;JAIL&gt;

       <b>set</b> <b>&lt;JAIL&gt;</b> <b>logencoding</b> <b>&lt;ENCODING&gt;</b>
              sets the &lt;ENCODING&gt; of the log files for &lt;JAIL&gt;

       <b>set</b> <b>&lt;JAIL&gt;</b> <b>addjournalmatch</b> <b>&lt;MATCH&gt;</b>
              adds &lt;MATCH&gt; to the journal filter of &lt;JAIL&gt;

       <b>set</b> <b>&lt;JAIL&gt;</b> <b>deljournalmatch</b> <b>&lt;MATCH&gt;</b>
              removes &lt;MATCH&gt; from the journal filter of &lt;JAIL&gt;

       <b>set</b> <b>&lt;JAIL&gt;</b> <b>addfailregex</b> <b>&lt;REGEX&gt;</b>
              adds the regular expression &lt;REGEX&gt; which must match failures for &lt;JAIL&gt;

       <b>set</b> <b>&lt;JAIL&gt;</b> <b>delfailregex</b> <b>&lt;INDEX&gt;</b>
              removes the regular expression at &lt;INDEX&gt; for failregex

       <b>set</b> <b>&lt;JAIL&gt;</b> <b>addignoreregex</b> <b>&lt;REGEX&gt;</b>
              adds the regular expression &lt;REGEX&gt; which should match pattern to exclude for &lt;JAIL&gt;

       <b>set</b> <b>&lt;JAIL&gt;</b> <b>delignoreregex</b> <b>&lt;INDEX&gt;</b>
              removes the regular expression at &lt;INDEX&gt; for ignoreregex

       <b>set</b> <b>&lt;JAIL&gt;</b> <b>findtime</b> <b>&lt;TIME&gt;</b>
              sets the number of seconds &lt;TIME&gt; for which the filter will look back for &lt;JAIL&gt;

       <b>set</b> <b>&lt;JAIL&gt;</b> <b>bantime</b> <b>&lt;TIME&gt;</b>
              sets the number of seconds &lt;TIME&gt; a host will be banned for &lt;JAIL&gt;

       <b>set</b> <b>&lt;JAIL&gt;</b> <b>datepattern</b> <b>&lt;PATTERN&gt;</b>
              sets the &lt;PATTERN&gt; used to match date/times for &lt;JAIL&gt;

       <b>set</b> <b>&lt;JAIL&gt;</b> <b>usedns</b> <b>&lt;VALUE&gt;</b>
              sets the usedns mode for &lt;JAIL&gt;

       <b>set</b> <b>&lt;JAIL&gt;</b> <b>attempt</b> <b>&lt;IP&gt;</b> <b>[&lt;failure1&gt;</b> <b>...</b> <b>&lt;failureN&gt;]</b>
              manually notify about &lt;IP&gt; failure

       <b>set</b> <b>&lt;JAIL&gt;</b> <b>banip</b> <b>&lt;IP&gt;</b> <b>...</b> <b>&lt;IP&gt;</b>
              manually Ban &lt;IP&gt; for &lt;JAIL&gt;

       <b>set</b> <b>&lt;JAIL&gt;</b> <b>unbanip</b> <b>[--report-absent]</b> <b>&lt;IP&gt;</b> <b>...</b> <b>&lt;IP&gt;</b>
              manually Unban &lt;IP&gt; in &lt;JAIL&gt;

       <b>set</b> <b>&lt;JAIL&gt;</b> <b>maxretry</b> <b>&lt;RETRY&gt;</b>
              sets the number of failures &lt;RETRY&gt; before banning the host for &lt;JAIL&gt;

       <b>set</b> <b>&lt;JAIL&gt;</b> <b>maxmatches</b> <b>&lt;INT&gt;</b>
              sets the max number of matches stored in memory per ticket in &lt;JAIL&gt;

       <b>set</b> <b>&lt;JAIL&gt;</b> <b>maxlines</b> <b>&lt;LINES&gt;</b>
              sets the number of &lt;LINES&gt; to buffer for regex search for &lt;JAIL&gt;

       <b>set</b> <b>&lt;JAIL&gt;</b> <b>addaction</b> <b>&lt;ACT&gt;[</b> <b>&lt;PYTHONFILE&gt;</b> <b>&lt;JSONKWARGS&gt;]</b>
              adds a new action named &lt;ACT&gt; for &lt;JAIL&gt;. Optionally for a Python based action, a &lt;PYTHONFILE&gt; and
              &lt;JSONKWARGS&gt; can be specified, else will be a Command Action

       <b>set</b> <b>&lt;JAIL&gt;</b> <b>delaction</b> <b>&lt;ACT&gt;</b>
              removes the action &lt;ACT&gt; from &lt;JAIL&gt;

              COMMAND ACTION CONFIGURATION

       <b>set</b> <b>&lt;JAIL&gt;</b> <b>action</b> <b>&lt;ACT&gt;</b> <b>actionstart</b> <b>&lt;CMD&gt;</b>
              sets the start command &lt;CMD&gt; of the action &lt;ACT&gt; for &lt;JAIL&gt;

       <b>set</b> <b>&lt;JAIL&gt;</b> <b>action</b> <b>&lt;ACT&gt;</b> <b>actionstop</b> <b>&lt;CMD&gt;</b> <b>sets</b> <b>the</b> <b>stop</b> <b>command</b> <b>&lt;CMD&gt;</b> <b>of</b> <b>the</b>
              action &lt;ACT&gt; for &lt;JAIL&gt;

       <b>set</b> <b>&lt;JAIL&gt;</b> <b>action</b> <b>&lt;ACT&gt;</b> <b>actioncheck</b> <b>&lt;CMD&gt;</b>
              sets the check command &lt;CMD&gt; of the action &lt;ACT&gt; for &lt;JAIL&gt;

       <b>set</b> <b>&lt;JAIL&gt;</b> <b>action</b> <b>&lt;ACT&gt;</b> <b>actionban</b> <b>&lt;CMD&gt;</b>
              sets the ban command &lt;CMD&gt; of the action &lt;ACT&gt; for &lt;JAIL&gt;

       <b>set</b> <b>&lt;JAIL&gt;</b> <b>action</b> <b>&lt;ACT&gt;</b> <b>actionunban</b> <b>&lt;CMD&gt;</b>
              sets the unban command &lt;CMD&gt; of the action &lt;ACT&gt; for &lt;JAIL&gt;

       <b>set</b> <b>&lt;JAIL&gt;</b> <b>action</b> <b>&lt;ACT&gt;</b> <b>timeout</b> <b>&lt;TIMEOUT&gt;</b>
              sets &lt;TIMEOUT&gt; as the command timeout in seconds for the action &lt;ACT&gt; for &lt;JAIL&gt;

              GENERAL ACTION CONFIGURATION

       <b>set</b> <b>&lt;JAIL&gt;</b> <b>action</b> <b>&lt;ACT&gt;</b> <b>&lt;PROPERTY&gt;</b> <b>&lt;VALUE&gt;</b>
              sets the &lt;VALUE&gt; of &lt;PROPERTY&gt; for the action &lt;ACT&gt; for &lt;JAIL&gt;

       <b>set</b> <b>&lt;JAIL&gt;</b> <b>action</b> <b>&lt;ACT&gt;</b> <b>&lt;METHOD&gt;[</b> <b>&lt;JSONKWARGS&gt;]</b>
              calls the &lt;METHOD&gt; with &lt;JSONKWARGS&gt; for the action &lt;ACT&gt; for &lt;JAIL&gt;

              JAIL INFORMATION

       <b>get</b> <b>&lt;JAIL&gt;</b> <b>banned</b>
              return banned IPs of &lt;JAIL&gt;

       <b>get</b> <b>&lt;JAIL&gt;</b> <b>banned</b> <b>&lt;IP&gt;</b> <b>...</b> <b>&lt;IP&gt;]</b>
              return 1 if IP is banned in &lt;JAIL&gt; otherwise 0, or a list of 1/0 for multiple IPs

       <b>get</b> <b>&lt;JAIL&gt;</b> <b>logpath</b>
              gets the list of the monitored files for &lt;JAIL&gt;

       <b>get</b> <b>&lt;JAIL&gt;</b> <b>logencoding</b>
              gets the encoding of the log files for &lt;JAIL&gt;

       <b>get</b> <b>&lt;JAIL&gt;</b> <b>journalmatch</b>
              gets the journal filter match for &lt;JAIL&gt;

       <b>get</b> <b>&lt;JAIL&gt;</b> <b>ignoreself</b>
              gets the current value of the ignoring the own IP addresses

       <b>get</b> <b>&lt;JAIL&gt;</b> <b>ignoreip</b>
              gets the list of ignored IP addresses for &lt;JAIL&gt;

       <b>get</b> <b>&lt;JAIL&gt;</b> <b>ignorecommand</b>
              gets ignorecommand of &lt;JAIL&gt;

       <b>get</b> <b>&lt;JAIL&gt;</b> <b>failregex</b>
              gets the list of regular expressions which matches the failures for &lt;JAIL&gt;

       <b>get</b> <b>&lt;JAIL&gt;</b> <b>ignoreregex</b>
              gets the list of regular expressions which matches patterns to ignore for &lt;JAIL&gt;

       <b>get</b> <b>&lt;JAIL&gt;</b> <b>findtime</b>
              gets the time for which the filter will look back for failures for &lt;JAIL&gt;

       <b>get</b> <b>&lt;JAIL&gt;</b> <b>bantime</b>
              gets the time a host is banned for &lt;JAIL&gt;

       <b>get</b> <b>&lt;JAIL&gt;</b> <b>datepattern</b>
              gets the pattern used to match date/times for &lt;JAIL&gt;

       <b>get</b> <b>&lt;JAIL&gt;</b> <b>usedns</b>
              gets the usedns setting for &lt;JAIL&gt;

       <b>get</b> <b>&lt;JAIL&gt;</b> <b>banip</b> <b>[&lt;SEP&gt;|--with-time]</b>
              gets  the  list of of banned IP addresses for &lt;JAIL&gt;. Optionally the separator character ('&lt;SEP&gt;',
              default is space) or the option ' <b>--with-time</b>' (printing the times of ban) may be  specified.  The
              IPs are ordered by end of ban.

       <b>get</b> <b>&lt;JAIL&gt;</b> <b>maxretry</b>
              gets the number of failures allowed for &lt;JAIL&gt;

       <b>get</b> <b>&lt;JAIL&gt;</b> <b>maxmatches</b>
              gets the max number of matches stored in memory per ticket in &lt;JAIL&gt;

       <b>get</b> <b>&lt;JAIL&gt;</b> <b>maxlines</b>
              gets the number of lines to buffer for &lt;JAIL&gt;

       <b>get</b> <b>&lt;JAIL&gt;</b> <b>actions</b>
              gets a list of actions for &lt;JAIL&gt;

              COMMAND ACTION INFORMATION

       <b>get</b> <b>&lt;JAIL&gt;</b> <b>action</b> <b>&lt;ACT&gt;</b> <b>actionstart</b>
              gets the start command for the action &lt;ACT&gt; for &lt;JAIL&gt;

       <b>get</b> <b>&lt;JAIL&gt;</b> <b>action</b> <b>&lt;ACT&gt;</b> <b>actionstop</b>
              gets the stop command for the action &lt;ACT&gt; for &lt;JAIL&gt;

       <b>get</b> <b>&lt;JAIL&gt;</b> <b>action</b> <b>&lt;ACT&gt;</b> <b>actioncheck</b>
              gets the check command for the action &lt;ACT&gt; for &lt;JAIL&gt;

       <b>get</b> <b>&lt;JAIL&gt;</b> <b>action</b> <b>&lt;ACT&gt;</b> <b>actionban</b>
              gets the ban command for the action &lt;ACT&gt; for &lt;JAIL&gt;

       <b>get</b> <b>&lt;JAIL&gt;</b> <b>action</b> <b>&lt;ACT&gt;</b> <b>actionunban</b>
              gets the unban command for the action &lt;ACT&gt; for &lt;JAIL&gt;

       <b>get</b> <b>&lt;JAIL&gt;</b> <b>action</b> <b>&lt;ACT&gt;</b> <b>timeout</b>
              gets the command timeout in seconds for the action &lt;ACT&gt; for &lt;JAIL&gt;

              GENERAL ACTION INFORMATION

       <b>get</b> <b>&lt;JAIL&gt;</b> <b>actionproperties</b> <b>&lt;ACT&gt;</b>
              gets a list of properties for the action &lt;ACT&gt; for &lt;JAIL&gt;

       <b>get</b> <b>&lt;JAIL&gt;</b> <b>actionmethods</b> <b>&lt;ACT&gt;</b>
              gets a list of methods for the action &lt;ACT&gt; for &lt;JAIL&gt;

       <b>get</b> <b>&lt;JAIL&gt;</b> <b>action</b> <b>&lt;ACT&gt;</b> <b>&lt;PROPERTY&gt;</b>
              gets the value of &lt;PROPERTY&gt; for the action &lt;ACT&gt; for &lt;JAIL&gt;

</pre><h4><b>FILES</b></h4><pre>
       <u>/etc/fail2ban/*</u>

</pre><h4><b>REPORTING</b> <b>BUGS</b></h4><pre>
       Report bugs via Debian bug tracking system <u><a href="http://www.debian.org/Bugs/">http://www.debian.org/Bugs/</a></u> .

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <a href="../man1/fail2ban-server.1.html">fail2ban-server</a>(1) <a href="../man5/jail.conf.5.html">jail.conf</a>(5)

Fail2Ban v1.1.0                                    April 2024                                 <u><a href="../man1/FAIL2BAN-CLIENT.1.html">FAIL2BAN-CLIENT</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>