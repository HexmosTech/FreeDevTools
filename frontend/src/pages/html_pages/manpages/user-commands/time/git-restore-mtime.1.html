<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>git-restore-mtime - Restore original modification time of files based on the date of the most recent</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/git-restore-mtime">git-restore-mtime_2022.12-1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       git-restore-mtime - Restore original modification time of files based on the date of the most recent
       commit that modified them

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>git-restore-mtime</b> [<b>-h</b>] [<b>--quiet</b>|<b>--verbose</b>]
                         [<b>-C</b> <u>DIRECTORY</u>] [<b>--work-tree</b> <u>WORKDIR</u>] [<b>--git-dir</b> <u>GITDIR</u>]
                         [<b>--force</b>] [<b>--merge</b>] [<b>--first-parent</b>] [<b>--skip-missing</b>]
                         [<b>--no-directories</b>] [<b>--test</b>] [<b>--commit-time</b>] [<b>--oldest-time</b>]
                         [<b>--skip-older-than</b> <u>SECONDS</u>] [<b>--unique-times</b>] [<b>--version</b>]
                         [<u>PATHSPEC</u> [<u>PATHSPEC</u>...]]

</pre><h4><b>DESCRIPTION</b></h4><pre>
       Change  the  modification  time  (mtime)  of  files in the work tree based on the date of the most recent
       commit that modified the file, as an attempt to restore  the  original  modification  time.  Useful  when
       generating release tarballs.

       Ignore  untracked  files  and  uncommitted deletions, additions and renames, and by default modifications
       too.

</pre><h4><b>OPTIONS</b></h4><pre>
   <b>Positional</b> <b>arguments:</b>
       <u>PATHSPEC</u>
               Only modify paths matching <u>PATHSPEC</u>, relative to current directory.  By default, update  all  but
               untracked files and submodules.

   <b>Optional</b> <b>arguments:</b>
       <b>-h</b>, <b>--help</b>
               show help message and exit

       <b>--quiet</b>,<b>-q</b>
               Suppress informative messages and summary statistics.

       <b>--verbose</b>,<b>-v</b>
               Print  additional  information  for  each  processed  file.   Specify  twice  to further increase
               verbosity.

       <b>-C</b> <u>DIRECTORY</u>, <b>--cwd</b> <u>DIRECTORY</u>
               Run as if <b>restore-mtime</b> was started in directory <u>DIRECTORY</u>.  This affects how <b>--work-tree</b>, <b>--git-</b>
               <b>dir</b> and <u>PATHSPEC</u> arguments are handled.  See <b><a href="../man1/git.1.html">git</a></b>(1) for more information.

       <b>--git-dir</b> <u>GITDIR</u>
               Path to the git repository, by default auto-discovered by searching the current directory and its
               parents for a <u>.git/</u> subdirectory.

       <b>--work-tree</b> <u>WORKDIR</u>
               Path to the work tree root, by default the parent of <u>GITDIR</u> if it's automatically discovered,  or
               the current directory if <u>GITDIR</u> is set.

       <b>--force</b>, <b>-f</b>
               Force  updating files with uncommitted modifications.  Untracked files and uncommitted deletions,
               renames and additions are always ignored.

       <b>--merge</b>, <b>-m</b>
               Include merge commits.  Leads to more recent times and more files per commit, thus with the  same
               time,  which  may or may not be what you want.  Including merge commits may lead to fewer commits
               being  evaluated  as  files  are  found  sooner,  which  can   improve   performance,   sometimes
               substantially.   But as merge commits are usually huge, processing them may also take longer.  By
               default, merge commits are only used for files missing from regular commits.

       <b>--first-parent</b>
               Consider only the first parent, the "main branch", when evaluating merge commits.  Only effective
               when merge commits are processed, either when <b>--merge</b> is used or when finding missing files after
               the first regular log search.  See <b>--skip-missing</b>.

       <b>--skip-missing</b>, <b>-s</b>
               Do not try to find missing files.  If merge commits were not  evaluated  with  <b>--merge</b>  and  some
               files  were not found in regular commits, by default <b>restore-mtime</b> searches for these files again
               in the merge commits.  This option disables this retry, so files found only in merge commits will
               not have their timestamp updated.

       <b>--no-directories</b>, <b>-D</b>
               Do not update directory timestamps.  By default, use the  time  of  its  most  recently  created,
               renamed or deleted file.  Note that just modifying a file will NOT update its directory time.

       <b>--test</b>, <b>-t</b>
               Test run: do not actually update any file timestamp.

       <b>--commit-time</b>, <b>-c</b>
               Use commit time instead of author time.

       <b>--oldest-time</b>, <b>-o</b>
               Update times based on the oldest, instead of the most recent commit of a file.  This reverses the
               order  in  which  the  git  log is processed to emulate a file "creation" date. Note this will be
               inaccurate for files deleted and re-created at later dates.

       <b>--skip-older-than</b> <u>SECONDS</u>
               Ignore files that are currently older than <u>SECONDS</u>.  Useful in workflows that assume  such  files
               already have a correct timestamp, as it may improve performance by processing fewer files.

       <b>--skip-older-than-commit</b>, <b>-N</b>
               Ignore  files  older  than  the  timestamp  it would be updated to.  Such files may be considered
               "original", likely in the author's repository.

       <b>--unique-times</b>
               Set the microseconds to a unique value per commit.   Allows  telling  apart  changes  that  would
               otherwise have identical timestamps, as git's time accuracy is in seconds.

       <b>--version</b>, <b>-V</b>
               show program's version number and exit

</pre><h4><b>KNOWN</b> <b>ISSUES</b></h4><pre>
       Renames are poorly handled: it always changes the timestamps of files, even if no content was modified.
       Directory timestamps are also limited to being modified only when files are added (created) or deleted in
       them.
       In very large repositories, after running <b>restore-mtime</b> to modify the timestamp of several files, further
       git operations may emit the error:
         <b>fatal:</b> <b>mmap</b> <b>failed:</b> <b>Cannot</b> <b>allocate</b> <b>memory.</b>
       This is harmless, and can be fixed by running <b><a href="../man1/git-status.1.html">git-status</a></b>(1).

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man1/git.1.html">git</a></b>(1), <b><a href="../man1/git-log.1.html">git-log</a></b>(1), <b><a href="../man1/git-ls-files.1.html">git-ls-files</a></b>(1), <b><a href="../man1/git-status.1.html">git-status</a></b>(1)
       <b>https://github.com/MestreLion/git-tools</b>

</pre><h4><b>AUTHOR</b></h4><pre>
       Rodrigo Silva (MestreLion) <a href="mailto:linux@rodrigosilva.com">linux@rodrigosilva.com</a>

                                                   2022-07-27                               <u><a href="../man1/GIT-RESTORE-MTIME.1.html">GIT-RESTORE-MTIME</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>