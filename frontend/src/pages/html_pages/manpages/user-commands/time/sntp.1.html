<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>sntp — standard Simple Network Time Protocol client program</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/jammy/+package/sntp">sntp_4.2.8p15+dfsg-1ubuntu2_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       sntp — standard Simple Network Time Protocol client program

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>sntp</b> [<b>-flags</b>] [<b>-flag</b> [<u>value</u>]] [<b>--option-name</b>[[=| ]<u>value</u>]] [ hostname-or-IP ...]

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>sntp</b>  can  be used as an SNTP client to query a NTP or SNTP server and either display the time or set the
       local system's time (given suitable privilege).  It can be run as an interactive command or from  a  <b>cron</b>
       job.   NTP  (the  Network  Time  Protocol)  and  SNTP  (the Simple Network Time Protocol) are defined and
       described by RFC 5905.

       The default is to write the estimated correct local date and time (i.e. not UTC) to the  standard  output
       in  a  format  like:  <b>'1996-10-15</b> <b>20:17:25.123</b> <b>(+0800)</b> <b>+4.567</b> <b>+/-</b> <b>0.089</b> <b>[host]</b> <b>IP</b> <b>sN'</b> where the <b>'(+0800)'</b>
       means that to get to UTC from the reported local time one must add 8 hours and 0  minutes,  the  <b>'+4.567'</b>
       indicates the local clock is 4.567 seconds behind the correct time (so 4.567 seconds must be added to the
       local  clock  to  get  it  to  be correct).  Note that the number of decimals printed for this value will
       change based on the reported precision of the  server.   <b>'+/-</b>  <b>0.089'</b>  is  the  reported  <u>synchronization</u>
       <u>distance</u>  (in  seconds),  which  represents  the maximum error due to all causes.  If the server does not
       report valid data needed to calculate the synchronization distance, this will be reported as <b>'+/-</b> <b>?'</b>.  If
       the <u>host</u> is different from the <u>IP</u>, both  will  be  displayed.   Otherwise,  only  the  <u>IP</u>  is  displayed.
       Finally, the <u>stratum</u> of the host is reported and the leap indicator is decoded and displayed.

</pre><h4><b>OPTIONS</b></h4><pre>
       <b>-4</b>, <b>--ipv4</b>
               Force  IPv4  DNS  name  resolution.   This  option must not appear in combination with any of the
               following options: ipv6.

               Force DNS resolution of the following host names on the command line to the IPv4 namespace.

       <b>-6</b>, <b>--ipv6</b>
               Force IPv6 DNS name resolution.  This option must not appear  in  combination  with  any  of  the
               following options: ipv4.

               Force DNS resolution of the following host names on the command line to the IPv6 namespace.

       <b>-a</b> <u>auth-keynumber</u>, <b>--authentication</b>=<u>auth-keynumber</u>
               Enable  authentication  with  the key <b>auth-keynumber</b>.  This option takes an integer number as its
               argument.

               Enable authentication using the key specified in this option's argument.  The  argument  of  this
               option is the <b>keyid</b>, a number specified in the <b>keyfile</b> as this key's identifier.  See the <b>keyfile</b>
               option (<b>-k</b>) for more details.

       <b>-b</b> <u>broadcast-address</u>, <b>--broadcast</b>=<u>broadcast-address</u>
               Listen  to  the  address  specified for broadcast time sync.  This option may appear an unlimited
               number of times.

               If specified <b>sntp</b> will listen to the specified address for NTP broadcasts.  The  default  maximum
               wait time can (and probably should) be modified with <b>-t</b>.

       <b>-c</b> <u>host-name</u>, <b>--concurrent</b>=<u>host-name</u>
               Concurrently query all IPs returned for host-name.  This option may appear an unlimited number of
               times.

               Requests  from  an  NTP "client" to a "server" should never be sent more rapidly than one every 2
               seconds.  By default, any IPs returned as part of a DNS lookup are assumed to  be  for  a  single
               instance  of  <b>ntpd</b>,  and  therefore <b>sntp</b> will send queries to these IPs one after another, with a
               2-second gap in between each query.

               The <b>-c</b> or <b>--concurrent</b> flag says that any IPs  returned  for  the  DNS  lookup  of  the  supplied
               host-name are on different machines, so we can send concurrent queries.

       <b>-d</b>, <b>--debug-level</b>
               Increase debug verbosity level.  This option may appear an unlimited number of times.

       <b>-D</b> <u>number</u>, <b>--set-debug-level</b>=<u>number</u>
               Set the debug verbosity level.  This option may appear an unlimited number of times.  This option
               takes an integer number as its argument.

       <b>-g</b> <u>milliseconds</u>, <b>--gap</b>=<u>milliseconds</u>
               The  gap  (in  milliseconds)  between  time requests.  This option takes an integer number as its
               argument.  The default <u>milliseconds</u> for this option is:
                    50

               Since we're only going to use the first valid response we get and there is benefit to  specifying
               a  good  number  of servers to query, separate the queries we send out by the specified number of
               milliseconds.

       <b>-K</b> <u>file-name</u>, <b>--kod</b>=<u>file-name</u>
               KoD history filename.  The default <u>file-name</u> for this option is:
                    /var/db/ntp-kod

               Specifies the filename to be used for the persistent  history  of  KoD  responses  received  from
               servers.   If the file does not exist, a warning message will be displayed.  The file will not be
               created.

       <b>-k</b> <u>file-name</u>, <b>--keyfile</b>=<u>file-name</u>
               Look in this file for the key specified with <b>-a</b>.  The default <u>file-name</u> for this option is:
                    /etc/ntp.keys

               This option specifies the keyfile.  <b>sntp</b> will search for the key specified with <b>-a</b> <u>keyno</u> in  this
               file.  See <b><a href="../man5/ntp.keys.5.html">ntp.keys</a>(5)</b> for more information.

       <b>-l</b> <u>file-name</u>, <b>--logfile</b>=<u>file-name</u>
               Log to specified logfile.

               This option causes the client to write log messages to the specified <u>logfile</u>.

       <b>-M</b> <u>number</u>, <b>--steplimit</b>=<u>number</u>
               Adjustments  less than <b>steplimit</b> msec will be slewed.  This option takes an integer number as its
               argument.  The value of <u>number</u> is constrained to being:
                   greater than or equal to 0

               If the time adjustment is less than <u>steplimit</u> milliseconds, slew the amount using <b><a href="../man2/adjtime.2.html">adjtime</a>(2)</b>.
               Otherwise, step the correction using <b><a href="../man2/settimeofday.2.html">settimeofday</a>(2)</b>.  The default value is 0, which means all
               adjustments will be stepped.  This is a feature, as different situations demand different values.

       <b>-o</b> <u>number</u>, <b>--ntpversion</b>=<u>number</u>
               Send <b>int</b> as our NTP protocol version.  This option takes an integer number as its argument.  The
               value of <u>number</u> is constrained to being:
                   in the range  0 through 7
               The default <u>number</u> for this option is:
                    4

               When sending requests to a remote server, tell them we are running NTP protocol version
               <u>ntpversion</u> .

       <b>-r</b>, <b>--usereservedport</b>
               Use the NTP Reserved Port (port 123).

               Use port 123, which is reserved for NTP, for our network communications.

       <b>-S</b>, <b>--step</b>
               OK to 'step' the time with <b><a href="../man2/settimeofday.2.html">settimeofday</a>(2)</b>.

       <b>-s</b>, <b>--slew</b>
               OK to 'slew' the time with <b><a href="../man2/adjtime.2.html">adjtime</a>(2)</b>.

       <b>-t</b> <u>seconds</u>, <b>--timeout</b>=<u>seconds</u>
               The number of seconds to wait for responses.  This option takes an integer number as its
               argument.  The default <u>seconds</u> for this option is:
                    5

               When waiting for a reply, <b>sntp</b> will wait the number of seconds specified before giving up.  The
               default should be more than enough for a unicast response.  If <b>sntp</b> is only waiting for a
               broadcast response a longer timeout is likely needed.

       <b>--wait</b>, <b>-</b> <b>Fl</b> <b>-no-wait</b>
               Wait for pending replies (if not setting the time).  The <u>no-wait</u> form will disable the option.
               This option is enabled by default.

               If we are not setting the time, wait for all pending responses.

       <b>-?</b>, <b>--help</b>
               Display usage information and exit.

       <b>-!</b>, <b>--more-help</b>
               Pass the extended usage information through a pager.

       <b>-&gt;</b> [<u>cfgfile</u>], <b>--save-opts</b> [=<u>cfgfile</u>]
               Save the option state to <u>cfgfile</u>.  The default is the <u>last</u> configuration file listed in the
               <b>OPTION</b> <b>PRESETS</b> section, below.  The command will exit after updating the config file.

       <b>-&lt;</b> <u>cfgfile</u>, <b>--load-opts</b>=<u>cfgfile</u>, <b>--no-load-opts</b>
               Load options from <u>cfgfile</u>.  The <u>no-load-opts</u> form will disable the loading of earlier
               config/rc/ini files.  <u>--no-load-opts</u> is handled early, out of order.

       <b>--version</b> [{<u>v|c|n</u>}]
               Output version of program and exit.  The default mode is `v', a simple version.  The `c' mode
               will print copyright information and `n' will print the full copyright notice.

</pre><h4><b>OPTION</b> <b>PRESETS</b></h4><pre>
       Any option that is not marked as <u>not</u> <u>presettable</u> may be preset by loading values from configuration ("RC"
       or ".INI") file(s) and values from environment variables named:
         <b>SNTP_&lt;option-name&gt;</b> or <b>SNTP</b>
       The environmental presets take precedence (are processed later than) the configuration files.  The <u>homerc</u>
       files are "<u>$HOME</u>", and "<u>.</u>".  If any of these are directories, then the file <u>.ntprc</u> is searched for within
       those directories.

</pre><h4><b>USAGE</b></h4><pre>
       <b>sntp</b> <b>ntpserver.somewhere</b>
               is the simplest use of this program and can be run  as  an  unprivileged  command  to  check  the
               current time and error in the local clock.

       <b>sntp</b> <b>-Ss</b> <b>-M</b> <b>128</b> <b>ntpserver.somewhere</b>
               With   suitable   privilege,  run  as  a  command  or  from  a  <u><a href="../man8/cron.8.html">cron</a></u>(8)  job,  <b>sntp</b>  <b>-Ss</b>  <b>-M</b>  <b>128</b>
               <b>ntpserver.somewhere</b> will request the time from the server, and if that server reports that it  is
               synchronized  then  if the offset adjustment is less than 128 milliseconds the correction will be
               slewed, and if the correction is more than 128 milliseconds the correction  will be stepped.

       <b>sntp</b> <b>-S</b> <b>ntpserver.somewhere</b>
               With suitable privilege, run as a command or from a <u><a href="../man8/cron.8.html">cron</a></u>(8) job, <b>sntp</b> <b>-S</b> <b>ntpserver.somewhere</b> will
               set (step)  the  local  clock  from  a  synchronized  specified  server,  like  the  (deprecated)
               <u><a href="../man8/ntpdate.8.html">ntpdate</a></u>(8), or <u><a href="../man8/rdate.8.html">rdate</a></u>(8) commands.

</pre><h4><b>ENVIRONMENT</b></h4><pre>
       See <b>OPTION</b> <b>PRESETS</b> for configuration environment variables.

</pre><h4><b>FILES</b></h4><pre>
       See <b>OPTION</b> <b>PRESETS</b> for configuration files.

</pre><h4><b>EXIT</b> <b>STATUS</b></h4><pre>
       One of the following exit values will be returned:

       0  (EXIT_SUCCESS)
               Successful program execution.

       1  (EXIT_FAILURE)
               The operation failed or the command syntax was not valid.

       66  (EX_NOINPUT)
               A specified configuration file could not be loaded.

       70  (EX_SOFTWARE)
               libopts     had     an     internal     operational     error.      Please     report    it    to
               <a href="mailto:autogen-users@lists.sourceforge.net">autogen-users@lists.sourceforge.net</a>.  Thank you.

</pre><h4><b>AUTHORS</b></h4><pre>
       Johannes Maximilian Kuehn
       Harlan Stenn
       Dave Hart

</pre><h4><b>COPYRIGHT</b></h4><pre>
       Copyright (C) 1992-2020 The University of Delaware and Network Time Foundation all rights reserved.  This
       program is released under the terms of the NTP license, &lt;<a href="http://ntp.org/license">http://ntp.org/license</a>&gt;.

</pre><h4><b>BUGS</b></h4><pre>
       Please send bug reports to: <a href="http://bugs.ntp.org">http://bugs.ntp.org</a>, <a href="mailto:bugs@ntp.org">bugs@ntp.org</a>

</pre><h4><b>NOTES</b></h4><pre>
       This manual page was <u>AutoGen</u>-erated from the <b>sntp</b> option definitions.

Debian                                            June 23 2020                                           <u><a href="../man1/SNTP.1.html">SNTP</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>