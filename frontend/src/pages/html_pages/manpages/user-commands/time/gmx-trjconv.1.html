<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>gmx-trjconv - Convert and manipulates trajectory files</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/gromacs-data">gromacs-data_2025.0-2_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       gmx-trjconv - Convert and manipulates trajectory files

</pre><h4><b>SYNOPSIS</b></h4><pre>
          gmx trjconv [<b>-f</b> <u>[&lt;.xtc/.trr/...&gt;]</u>] [<b>-s</b> <u>[&lt;.tpr/.gro/...&gt;]</u>] [<b>-n</b> <u>[&lt;.ndx&gt;]</u>]
                      [<b>-fr</b> <u>[&lt;.ndx&gt;]</u>] [<b>-sub</b> <u>[&lt;.ndx&gt;]</u>] [<b>-drop</b> <u>[&lt;.xvg&gt;]</u>]
                      [<b>-o</b> <u>[&lt;.xtc/.trr/...&gt;]</u>] [<b>-b</b> <u>&lt;time&gt;</u>] [<b>-e</b> <u>&lt;time&gt;</u>]
                      [<b>-tu</b> <u>&lt;enum&gt;</u>] [<b>-[no]w</b>] [<b>-xvg</b> <u>&lt;enum&gt;</u>] [<b>-skip</b> <u>&lt;int&gt;</u>]
                      [<b>-dt</b> <u>&lt;time&gt;</u>] [<b>-[no]round</b>] [<b>-dump</b> <u>&lt;time&gt;</u>] [<b>-t0</b> <u>&lt;time&gt;</u>]
                      [<b>-timestep</b> <u>&lt;time&gt;</u>] [<b>-pbc</b> <u>&lt;enum&gt;</u>] [<b>-ur</b> <u>&lt;enum&gt;</u>]
                      [<b>-[no]center</b>] [<b>-boxcenter</b> <u>&lt;enum&gt;</u>] [<b>-box</b> <u>&lt;vector&gt;</u>]
                      [<b>-trans</b> <u>&lt;vector&gt;</u>] [<b>-shift</b> <u>&lt;vector&gt;</u>] [<b>-fit</b> <u>&lt;enum&gt;</u>]
                      [<b>-ndec</b> <u>&lt;int&gt;</u>] [<b>-[no]vel</b>] [<b>-[no]force</b>] [<b>-trunc</b> <u>&lt;time&gt;</u>]
                      [<b>-exec</b> <u>&lt;string&gt;</u>] [<b>-split</b> <u>&lt;time&gt;</u>] [<b>-[no]sep</b>]
                      [<b>-nzero</b> <u>&lt;int&gt;</u>] [<b>-dropunder</b> <u>&lt;real&gt;</u>] [<b>-dropover</b> <u>&lt;real&gt;</u>]
                      [<b>-[no]conect</b>]

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>gmx</b> <b>trjconv</b> can convert trajectory files in many ways:

       • from one format to another

       • select a subset of atoms

       • change the periodicity representation

       • keep multimeric molecules together

       • center atoms in the box

       • fit atoms to reference structure

       • reduce the number of frames

       • change the timestamps of the frames (<b>-t0</b> and <b>-timestep</b>)

       • select frames within a certain range of a quantity given in an <u>.xvg</u> file.

       The  option  to  write subtrajectories (-sub) based on the information obtained from cluster analysis has
       been removed from <b>gmx</b> <b>trjconv</b> and is now part of [gmx extract-cluster]

       <u>gmx</u> <u>trjcat</u> is better suited for concatenating multiple trajectory files.

       The following formats are supported for input and output: <u>.xtc</u>, <u>.trr</u>, <u>.gro</u>, <b>.g96</b>,  <u>.pdb</u>  and  <u>.tng</u>.   The
       file  formats  are  detected from the file extension.  The precision of the <u>.xtc</u> output is taken from the
       input file for <u>.xtc</u>, <u>.gro</u> and <u>.pdb</u>, and from the <b>-ndec</b> option for other input formats. The  precision  is
       always  taken  from  <b>-ndec</b>, when this option is set.  All other formats have fixed precision. <u>.trr</u> output
       can be single or double precision, depending on the precision of  the  <b>gmx</b>  <b>trjconv</b>  binary.   Note  that
       velocities are only supported in <u>.trr</u>, <u>.tng</u>, <u>.gro</u> and <b>.g96</b> files.

       Option  <b>-sep</b>  can  be  used  to  write every frame to a separate <b>.gro,</b> <b>.g96</b> or <u>.pdb</u> file. By default, all
       frames all written to one file.  <u>.pdb</u> files with all  frames  concatenated  can  be  viewed  with  <b>rasmol</b>
       <b>-nmrpdb</b>.

       It  is  possible  to select part of your trajectory and write it out to a new trajectory file in order to
       save disk space, e.g. for leaving out the water from a trajectory of a protein in water.  <b>ALWAYS</b> put  the
       original trajectory on tape!  We recommend to use the portable <u>.xtc</u> format for your analysis to save disk
       space and to have portable files. When writing <u>.tng</u> output the file will contain one molecule type of the
       correct  count  if the selection name matches the molecule name and the selected atoms match all atoms of
       that molecule. Otherwise the whole selection will be treated as one single molecule  containing  all  the
       selected atoms.

       There  are  two options for fitting the trajectory to a reference either for essential dynamics analysis,
       etc.  The first option is just plain fitting to a reference structure in the structure file.  The  second
       option  is  a  progressive  fit  in which the first timeframe is fitted to the reference structure in the
       structure file to obtain and each subsequent timeframe is fitted to the previously fitted structure. This
       way a continuous trajectory is generated, which might not be the case when using the regular fit  method,
       e.g. when your protein undergoes large conformational transitions.

       Option <b>-pbc</b> sets the type of periodic boundary condition treatment:

          • <b>mol</b>  puts  the  center of mass of molecules in the box, and requires a run input file to be supplied
            with <b>-s</b>.

          • <b>res</b> puts the center of mass of residues in the box.

          • <b>atom</b> puts all the atoms in the box.

          • <b>nojump</b> checks if atoms jump across the box and then puts them back. This has  the  effect  that  all
            molecules  will  remain whole (provided they were whole in the initial conformation). <b>Note</b> that this
            ensures a continuous trajectory but molecules may diffuse out of the box. The starting configuration
            for this procedure is taken from the structure file, if one is supplied, otherwise it is  the  first
            frame.

          • <b>cluster</b> clusters all the atoms in the selected index such that they are all closest to the center of
            mass  of the cluster, which is iteratively updated. <b>Note</b> that this will only give meaningful results
            if you in fact have a cluster. Luckily that can be checked afterwards  using  a  trajectory  viewer.
            Note also that if your molecules are broken this will not work either.

          • <b>whole</b> only makes broken molecules whole.

       Option  <b>-ur</b>  sets  the unit cell representation for options <b>mol</b>, <b>res</b> and <b>atom</b> of <b>-pbc</b>.  All three options
       give different results for triclinic boxes and identical results for  rectangular  boxes.   <b>rect</b>  is  the
       ordinary  brick  shape.  <b>tric</b> is the triclinic unit cell.  <b>compact</b> puts all atoms at the closest distance
       from the center of the box. This can be useful  for  visualizing  e.g.  truncated  octahedra  or  rhombic
       dodecahedra. The center for options <b>tric</b> and <b>compact</b> is <b>tric</b> (see below), unless the option <b>-boxcenter</b> is
       set differently.

       Option  <b>-center</b>  centers  the system in the box. The user can select the group which is used to determine
       the geometrical center.  Option <b>-boxcenter</b> sets the location of the center of the box  for  options  <b>-pbc</b>
       and  <b>-center</b>.  The  center  options  are: <b>tric</b>: half of the sum of the box vectors, <b>rect</b>: half of the box
       diagonal, <b>zero</b>: zero.  Use option <b>-pbc</b> <b>mol</b> in addition to <b>-center</b> when you want all molecules in the  box
       after the centering.

       Option  <b>-box</b>  sets  the  size  of  the new box. This option only works for leading dimensions and is thus
       generally only useful for rectangular boxes.  If you want to modify only some  of  the  dimensions,  e.g.
       when  reading  from a trajectory, you can use -1 for those dimensions that should stay the same It is not
       always possible to use combinations of <b>-pbc</b>, <b>-fit</b>, <b>-ur</b> and <b>-center</b> to do exactly what  you  want  in  one
       call to <b>gmx</b> <b>trjconv</b>. Consider using multiple calls, and check out the GROMACS website for suggestions.

       With <b>-dt</b>, it is possible to reduce the number of frames in the output. This option relies on the accuracy
       of  the times in your input trajectory, so if these are inaccurate use the <b>-timestep</b> option to modify the
       time (this can be done simultaneously). For making smooth movies, the program <u>gmx</u> <u>filter</u> can  reduce  the
       number  of  frames  while  using  low-pass  frequency  filtering, this reduces aliasing of high frequency
       motions.

       Using <b>-trunc</b> <b>gmx</b> <b>trjconv</b> can truncate <u>.trr</u> in place, i.e.  without copying the file. This is useful  when
       a  run  has  crashed  during  disk  I/O  (i.e.  full  disk),  or when two contiguous trajectories must be
       concatenated without having double frames.

       Option <b>-dump</b> can be used to extract a frame at or near one specific time from  your  trajectory.  If  the
       frames in the trajectory are not in temporal order, the result is unspecified.

       Option <b>-drop</b> reads an <u>.xvg</u> file with times and values.  When options <b>-dropunder</b> and/or <b>-dropover</b> are set,
       frames with a value below and above the value of the respective options will not be written.

</pre><h4><b>OPTIONS</b></h4><pre>
       Options to specify input files:

       <b>-f</b> <b>[&lt;.xtc/.trr/...&gt;]</b> <b>(traj.xtc)</b>
              Trajectory: <u>xtc</u> <u>trr</u> <u>cpt</u> <u>gro</u> <u>g96</u> <u>pdb</u> <u>tng</u>

       <b>-s</b> <b>[&lt;.tpr/.gro/...&gt;]</b> <b>(topol.tpr)</b> <b>(Optional)</b>
              Structure+mass(db): <u>tpr</u> <u>gro</u> <u>g96</u> <u>pdb</u> brk ent

       <b>-n</b> <b>[&lt;.ndx&gt;]</b> <b>(index.ndx)</b> <b>(Optional)</b>
              Index file

       <b>-fr</b> <b>[&lt;.ndx&gt;]</b> <b>(frames.ndx)</b> <b>(Optional)</b>
              Index file

       <b>-sub</b> <b>[&lt;.ndx&gt;]</b> <b>(cluster.ndx)</b> <b>(Optional)</b>
              Index file

       <b>-drop</b> <b>[&lt;.xvg&gt;]</b> <b>(drop.xvg)</b> <b>(Optional)</b>
              xvgr/xmgr file

       Options to specify output files:

       <b>-o</b> <b>[&lt;.xtc/.trr/...&gt;]</b> <b>(trajout.xtc)</b>
              Trajectory: <u>xtc</u> <u>trr</u> <u>gro</u> <u>g96</u> <u>pdb</u> <u>tng</u>

       Other options:

       <b>-b</b> <b>&lt;time&gt;</b> <b>(0)</b>
              Time of first frame to read from trajectory (default unit ps)

       <b>-e</b> <b>&lt;time&gt;</b> <b>(0)</b>
              Time of last frame to read from trajectory (default unit ps)

       <b>-tu</b> <b>&lt;enum&gt;</b> <b>(ps)</b>
              Unit for time values: fs, ps, ns, us, ms, s

       <b>-[no]w</b> <b>(no)</b>
              View output <u>.xvg</u>, <u>.xpm</u>, <u>.eps</u> and <u>.pdb</u> files

       <b>-xvg</b> <b>&lt;enum&gt;</b> <b>(xmgrace)</b>
              xvg plot formatting: xmgrace, xmgr, none

       <b>-skip</b> <b>&lt;int&gt;</b> <b>(1)</b>
              Only write every nr-th frame

       <b>-dt</b> <b>&lt;time&gt;</b> <b>(0)</b>
              Only write frame when t MOD dt = first time (ps)

       <b>-[no]round</b> <b>(no)</b>
              Round measurements to nearest picosecond

       <b>-dump</b> <b>&lt;time&gt;</b> <b>(-1)</b>
              Dump frame nearest specified time (ps)

       <b>-t0</b> <b>&lt;time&gt;</b> <b>(0)</b>
              Starting time (ps) (default: don't change)

       <b>-timestep</b> <b>&lt;time&gt;</b> <b>(0)</b>
              Change time step between input frames (ps)

       <b>-pbc</b> <b>&lt;enum&gt;</b> <b>(none)</b>
              PBC treatment (see help text for full description): none, mol, res, atom, nojump, cluster, whole

       <b>-ur</b> <b>&lt;enum&gt;</b> <b>(rect)</b>
              Unit-cell representation: rect, tric, compact

       <b>-[no]center</b> <b>(no)</b>
              Center atoms in box

       <b>-boxcenter</b> <b>&lt;enum&gt;</b> <b>(tric)</b>
              Center for -pbc and -center: tric, rect, zero

       <b>-box</b> <b>&lt;vector&gt;</b> <b>(0</b> <b>0</b> <b>0)</b>
              Size for new cubic box (default: read from input)

       <b>-trans</b> <b>&lt;vector&gt;</b> <b>(0</b> <b>0</b> <b>0)</b>
              All coordinates will be translated by trans. This can advantageously be combined with -pbc mol -ur
              compact.

       <b>-shift</b> <b>&lt;vector&gt;</b> <b>(0</b> <b>0</b> <b>0)</b>
              All coordinates will be shifted by framenr*shift

       <b>-fit</b> <b>&lt;enum&gt;</b> <b>(none)</b>
              Fit  molecule to ref structure in the structure file: none, rot+trans, rotxy+transxy, translation,
              transxy, progressive

       <b>-ndec</b> <b>&lt;int&gt;</b> <b>(3)</b>
              Number of decimal places to write to .xtc output

       <b>-[no]vel</b> <b>(yes)</b>
              Read and write velocities if possible

       <b>-[no]force</b> <b>(no)</b>
              Read and write forces if possible

       <b>-trunc</b> <b>&lt;time&gt;</b> <b>(-1)</b>
              Truncate input trajectory file after this time (ps)

       <b>-exec</b> <b>&lt;string&gt;</b>
              Execute command for every output frame with the frame number as argument

       <b>-split</b> <b>&lt;time&gt;</b> <b>(0)</b>
              Start writing new file when t MOD split = first time (ps)

       <b>-[no]sep</b> <b>(no)</b>
              Write each frame to a separate .gro, .g96 or .pdb file

       <b>-nzero</b> <b>&lt;int&gt;</b> <b>(0)</b>
              If the -sep flag is set, use these many digits for the file numbers and prepend zeros as needed

       <b>-dropunder</b> <b>&lt;real&gt;</b> <b>(0)</b>
              Drop all frames below this value

       <b>-dropover</b> <b>&lt;real&gt;</b> <b>(0)</b>
              Drop all frames above this value

       <b>-[no]conect</b> <b>(no)</b>
              Add CONECT PDB  records  when  writing  <u>.pdb</u>  files.  Useful  for  visualization  of  non-standard
              molecules, e.g. coarse grained ones. Can only be done when a topology (tpr) file is present

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man1/gmx.1.html">gmx</a>(1)</b>

       More information about GROMACS is available at &lt;<u><a href="http://www.gromacs.org/">http://www.gromacs.org/</a></u>&gt;.

</pre><h4><b>COPYRIGHT</b></h4><pre>
       2025, GROMACS development team

2025.0                                            Feb 10, 2025                                    <u><a href="../man1/GMX-TRJCONV.1.html">GMX-TRJCONV</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>