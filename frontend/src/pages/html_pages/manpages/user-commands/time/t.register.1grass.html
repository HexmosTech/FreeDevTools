<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>t.register  - Assigns timestamps and registers raster, vector and raster3d maps in a space time dataset.</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/grass-doc">grass-doc_8.4.1-1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       <b>t.register</b>  - Assigns timestamps and registers raster, vector and raster3d maps in a space time dataset.

</pre><h4><b>KEYWORDS</b></h4><pre>
       temporal, map management, register, time

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>t.register</b>
       <b>t.register</b> <b>--help</b>
       <b>t.register</b>  [-<b>i</b>]   [<b>input</b>=<u>name</u>]    [<b>maps</b>=<u>name</u>[,<u>name</u>,...]]    [<b>type</b>=<u>name</u>]    [<b>file</b>=<u>name</u>]    [<b>start</b>=<u>string</u>]
       [<b>end</b>=<u>string</u>]    [<b>unit</b>=<u>string</u>]    [<b>increment</b>=<u>string</u>]    [<b>separator</b>=<u>character</u>]    [--<b>overwrite</b>]    [--<b>help</b>]
       [--<b>verbose</b>]  [--<b>quiet</b>]  [--<b>ui</b>]

   <b>Flags:</b>
       <b>-i</b>
           Create an interval (start and end time) in case an increment and the start time are provided

       <b>--overwrite</b>
           Allow output files to overwrite existing files

       <b>--help</b>
           Print usage summary

       <b>--verbose</b>
           Verbose module output

       <b>--quiet</b>
           Quiet module output

       <b>--ui</b>
           Force launching GUI dialog

   <b>Parameters:</b>
       <b>input</b>=<u>name</u>
           Name of the input space time dataset

       <b>maps</b>=<u>name[,name</u>,...]
           Name of the input maps

       <b>type</b>=<u>name</u>
           Type of the input map
           Options: <u>raster,</u> <u>vector,</u> <u>raster_3d</u>
           Default: <u>raster</u>

       <b>file</b>=<u>name</u>
           Input file with map names, one per line
           Additionally the start time and the end time can be specified per line

       <b>start</b>=<u>string</u>
           Valid start date and time of the first map
           Format for absolute time: "yyyy-mm-dd HH:MM:SS +HHMM", relative time is of type integer.

       <b>end</b>=<u>string</u>
           Valid end date and time of all map
           Format for absolute time: "yyyy-mm-dd HH:MM:SS +HHMM", relative time is of type integer.

       <b>unit</b>=<u>string</u>
           Time stamp unit
           Unit must be set in case of relative timestamps
           Options: <u>years,</u> <u>months,</u> <u>days,</u> <u>hours,</u> <u>minutes,</u> <u>seconds</u>

       <b>increment</b>=<u>string</u>
           Time increment, works only in conjunction with start option
           Time  increment  between  maps  for  creation  of valid time intervals (format for absolute time: NNN
           seconds, minutes, hours, days, weeks, months, years; format for relative time is of type integer: 5)

       <b>separator</b>=<u>character</u>
           Field separator character of the input file
           Special characters: pipe, comma, space, tab, newline
           Default: <u>pipe</u>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The module <u>t.register</u> has double functionality: it either only assigns timestamps to  raster,  3D  raster
       and vector maps in the temporal database (if <u>input</u> option is not provided, see below) or additionally, it
       also  registers them within input space time datasets (stds). The existing timestamp modules r.timestamp,
       r3.timestamp and v.timestamp do not register the maps in the temporal database  of  GRASS  GIS.  However,
       timestamps  that have been created with these modules can be read and used by <u>t.register</u>. This works only
       for maps that are not already registered in the temporal database.

       If the <u>input</u> option is not used (i.e., no stds is provided), maps will be only registered in the temporal
       database with assigned timestamps. If, on the other hand,  the  <u>input</u>  option  is  used  and  a  stds  is
       provided,  maps will be first registered in the temporal database (if not registered before) and then, in
       the stds specified. If the user wants to register maps  that  are  already  registered  in  the  temporal
       database  in  a  different  stds,  there  is  no  need  to pass information regarding start and end time,
       <u>t.register</u> will read timestamps from the temporal database (i.e., in this case  only  passing  map  names
       will be enough).

       Maps  can be specified both with their fully qualified map name, meaning e.g.  <u>map@mapset</u> and without the
       mapset name included. If the mapset name is not provided in the input, <u>t.register</u> will look for the given
       map on the current search path and assign the matching mapset.  If the map is not found  on  the  current
       search  path  the  module  will  fail.   Thus, registering maps with fully qualified map name is slightly
       faster.

       The module <u>t.register</u> supports absolute and relative time. The absolute temporal type refers to  a  fixed
       date while the relative temporal type refers to data without fixed timestamps (e.g., sequential maps used
       to calculate multi-decadal averages).

       Maps  can  be registered by command line argument (i.e., a list of comma separated map names) or using an
       input file. The start time, end time and a temporal increment can be provided through command line or  in
       the  input  file.  End  time and increment are mutually exclusive. The user can register single maps or a
       list of maps at once. Maps can be registered in several space time datasets using the same timestamp. For
       the case of vector time series, the user can also register a single vector  map  connected  to  different
       layers representing time steps using the <b>map:layer</b> notation (See example below).

       The  <u>increment</u>  option and the <b>-i</b> flag (to create time intervals) work only in conjunction with the <b>start</b>
       option.  If an input file with timestamps (either start time or start time and end time)  is  used,  then
       the <u>increment</u> option and the <b>-i</b> flag are not supported.

       Start  time  and end time with absolute time must be provided using the format <b>yyyy-mm-dd</b> <b>HH:MM:SS</b> <b>+HHMM</b>.
       It is also supported to specify only the date <b>yyyy-mm-dd</b>. In case of relative  time,  the  temporal  unit
       (years,  months,  days,  hours,  minutes  or seconds) must be provided.  In this case, the relative start
       time, end time and increment are integers.

</pre><h4><b>NOTES</b></h4><pre>
       The timestamps of registered maps will be stored in the temporal database and  in  the  metadata  of  the
       grass  maps  in  the  spatial  database.   This  assures  that  timestamps  can  always  be accessed with
       <u>(r|r3|v).timestamp</u> and the temporal modules. Timestamps should only be modified with  <u>t.register</u>  because
       the <u>(r|r3|v).timestamp</u> modules have no access to the temporal database.

</pre><h4><b>INPUT</b> <b>FILE</b> <b>FORMAT</b></h4><pre>
       There  are  several options to register maps by means of a file. The input file consists of a list of map
       names, optionally along with timestamps. Each map name (and timestaps if provided) should be stored in  a
       new line in this file.

       When only map names are provided, the <u>increment</u> option and the <b>-i</b> flag are supported. However, when along
       with  map names any kind of timestamp is provided, as well, the <u>increment</u> option and the <b>-i</b> are no longer
       supported.

       Specification of map names only (<u>increment</u> option and <b>-i</b> flag supported):
       terra_lst_day20020113
       terra_lst_day20020114
       terra_lst_day20020115
       terra_lst_day20020116
       terra_lst_day20020117

       Specification of map names and absolute start time (date) of the time instances (no support for <u>increment</u>
       option nor <b>-i</b> flag):
       terra_lst_day20020113|2002-01-13
       terra_lst_day20020114|2002-01-14
       terra_lst_day20020115|2002-01-15
       terra_lst_day20020116|2002-01-16
       terra_lst_day20020117|2002-01-17

       Specification of map names and absolute start time (datetime) of  the  time  instances  (no  support  for
       <u>increment</u> option nor <b>-i</b> flag):
       terra_lst_day20020113|2002-01-13 10:30
       terra_lst_day20020114|2002-01-14 10:30
       terra_lst_day20020115|2002-01-15 10:30
       terra_lst_day20020116|2002-01-16 10:30
       terra_lst_day20020117|2002-01-17 10:30

       Specification  of  map names and absolute time interval with start and end time (no support for <u>increment</u>
       option nor <b>-i</b> flag):
       prec_1|2001-01-01|2001-04-01
       prec_2|2001-04-01|2001-07-01
       prec_3|2001-07-01|2001-10-01
       prec_4|2001-10-01|2002-01-01
       prec_5|2002-01-01|2002-04-01
       prec_6|2002-04-01|2002-07-01

       Same as above but with fully qualified map names (no support for <u>increment</u> option nor <b>-i</b> flag):
       prec_1@PERMANENT|2001-01-01|2001-04-01
       prec_2@PERMANENT|2001-04-01|2001-07-01
       prec_3@PERMANENT|2001-07-01|2001-10-01
       prec_4@PERMANENT|2001-10-01|2002-01-01
       prec_5@PERMANENT|2002-01-01|2002-04-01
       prec_6@PERMANENT|2002-04-01|2002-07-01

   <b>Support</b> <b>for</b> <b>semantic</b> <b>labels</b>
       For more information about semantic labels and image collections see <u>i.band.library</u> module.

       Specification of map names and absolute start time (datetime) of the  time  instances.  The  last  column
       indicates related semantic label.
       T33UYP_20190331T094039_B01|2019-03-31 09:40:39|S2_1
       T33UYP_20190331T094039_B10|2019-03-31 09:40:39|S2_10
       T33UYP_20190331T094039_B02|2019-03-31 09:40:39|S2_2
       T33UYP_20190331T094039_B05|2019-03-31 09:40:39|S2_5
       T33UYP_20190331T094039_B11|2019-03-31 09:40:39|S2_11
       T33UYP_20190331T094039_B08|2019-03-31 09:40:39|S2_8
       T33UYP_20190331T094039_B12|2019-03-31 09:40:39|S2_12
       T33UYP_20190331T094039_B8A|2019-03-31 09:40:39|S2_8A
       T33UYP_20190331T094039_B06|2019-03-31 09:40:39|S2_6
       T33UYP_20190331T094039_B04|2019-03-31 09:40:39|S2_4
       T33UYP_20190331T094039_B03|2019-03-31 09:40:39|S2_3
       T33UYP_20190331T094039_B09|2019-03-31 09:40:39|S2_9
       In this case <u>t.register</u> assigns to given raster maps a semantic label similarly as <u>r.semantic.label</u> does.
       Such registered raster maps is possible to filter by a semantic label.

       Please  note  that  raster  maps with semantic labels assigned can be registered only in STRDS created in
       TGIS DB version 3 or higher. <u>Older</u> <u>versions</u> <u>of</u> <u>TGIS</u> <u>DB</u> <u>are</u> <u>not</u> <u>supported.</u> TGIS DB version can be  checked
       <u>t.connect</u> module.

</pre><h4><b>EXAMPLE</b></h4><pre>
   <b>North</b> <b>Carolina</b> <b>dataset</b>
   <b>Using</b> <b>a</b> <b>text</b> <b>file</b>
       Register maps in an absolute space time dataset, creating a time interval
       # first:  prepare a text file with a list of input maps (see above)
       # second: register maps
       t.register -i type=raster input=precipitation_monthly \
           file=list_of_input_maps.txt start="2009-01-01" \
           increment="1 months"

   <b>Using</b> <u><b>g.list</b></u> to generate the input
       Register maps in an absolute space time dataset, creating a time interval
       t.register -i type=raster input=precipitation_monthly \
           maps=`g.list raster pattern="*precip*" sep=comma` start="2009-01-01" \
           increment="1 months"

   <b>Register</b> <b>a</b> <b>vector</b> <b>map</b> <b>with</b> <b>layers</b> <b>representing</b> <b>time</b> <b>steps</b>
       Assume  a  vector  map  of points that represent meteorological stations and it is connected to different
       layers depicting daily time steps. In this example, only the fifth  layer  of  the  vector  map  will  be
       registered.
       # the layer is specified behind the colon
       t.register type=vector input=meteo_stations_nc_daily \
           maps=meteo_stations_nc:5 start="2009-01-05"

   <b>Synthetic</b> <b>maps</b>
       In  this  example  we  create 6 raster maps that will be registered in a single space time raster dataset
       named precip_abs using a monthly temporal granularity. The  <b>-i</b>  flag  generates  time  intervals  of  the
       provided <u>increment</u>. The generated timestamps will be inspected using <u>r.timestamp</u> and <u>t.rast.list</u>. We will
       register an additional map with a timestamp that was set with <u>r.timestamp</u>.
       r.mapcalc expression="prec_1 = 100"
       r.mapcalc expression="prec_2 = 200"
       r.mapcalc expression="prec_3 = 300"
       r.mapcalc expression="prec_4 = 400"
       r.mapcalc expression="prec_5 = 500"
       r.mapcalc expression="prec_6 = 600"
       t.create type=strds temporaltype=absolute \
           output=precip_abs title="Example" \
           descr="Example"
       t.register -i type=raster input=precip_abs \
           maps=prec_1,prec_2,prec_3,prec_4,prec_5,prec_6 \
           start="2001-01-01" increment="1 months"
       r.timestamp prec_1
       1 Jan 2001 00:00:00 / 1 Feb 2001 00:00:00
       r.timestamp prec_2
       1 Feb 2001 00:00:00 / 1 Mar 2001 00:00:00
       t.rast.list input=precip_abs
       name|mapset|start_time|end_time
       prec_1|PERMANENT|2001-01-01 00:00:00|2001-02-01 00:00:00
       prec_2|PERMANENT|2001-02-01 00:00:00|2001-03-01 00:00:00
       prec_3|PERMANENT|2001-03-01 00:00:00|2001-04-01 00:00:00
       prec_4|PERMANENT|2001-04-01 00:00:00|2001-05-01 00:00:00
       prec_5|PERMANENT|2001-05-01 00:00:00|2001-06-01 00:00:00
       prec_6|PERMANENT|2001-06-01 00:00:00|2001-07-01 00:00:00
       r.mapcalc expression="prec_7 = 700"
       r.timestamp map=prec_7 date="1 jul 2001 / 1 aug 2001"
       t.register type=raster input=precip_abs maps=prec_7
       t.rast.list input=precip_abs
       name|mapset|start_time|end_time
       prec_1|PERMANENT|2001-01-01 00:00:00|2001-02-01 00:00:00
       prec_2|PERMANENT|2001-02-01 00:00:00|2001-03-01 00:00:00
       prec_3|PERMANENT|2001-03-01 00:00:00|2001-04-01 00:00:00
       prec_4|PERMANENT|2001-04-01 00:00:00|2001-05-01 00:00:00
       prec_5|PERMANENT|2001-05-01 00:00:00|2001-06-01 00:00:00
       prec_6|PERMANENT|2001-06-01 00:00:00|2001-07-01 00:00:00
       prec_7|PERMANENT|2001-07-01 00:00:00|2001-08-01 00:00:00

   <b>Importing</b> <b>and</b> <b>registering</b> <b>ECA&amp;D</b> <b>climatic</b> <b>data</b>
       The  European  Climate  Assessment  &amp;  Dataset  (ECA&amp;D) project offers the E-OBS dataset which is a daily
       gridded observational dataset for precipitation, temperature and sea level pressure in  Europe  based  on
       ECA&amp;D information.  Download and decompress mean temperature data from: here.
       # import E-OBS V12 into a lat-long project (alternatively, use r.external)
       r.in.gdal -oe input=tg_0.25deg_reg_1950-1964_v12.0.nc \
         output=temperature_mean offset=0
       r.in.gdal -oe input=tg_0.25deg_reg_1965-1979_v12.0.nc \
         output=temperature_mean offset=5479 --o
       r.in.gdal -oe input=tg_0.25deg_reg_1980-1994_v12.0.nc \
         output=temperature_mean offset=10957 --o
       r.in.gdal -oe input=tg_0.25deg_reg_1995-2015_v12.0.nc \
         output=temperature_mean offset=16436 --o
       # create STRDS
       t.create type=strds output=temperature_mean_1950_2015_daily \
         temporaltype=absolute semantictype=mean \
         title="European mean temperature 1950-2015" \
         description="The European daily mean temperature from ECAD"
       # create text file with all temperature_mean rasters, one per line,
       # a) using a shell script
       for i in `seq 1 23922` ; do
           echo temperature_mean.$i &gt;&gt; map_list.txt
       done
       # b) using a Python script
       file = open("map_list.txt", "w")
       for i in <a href="../man23922/range.23922.html">range</a>(23922):
           file.write("temperature_mean.%i\n" % (i + 1))
       file.close()
       # register daily maps using the file created above
       t.register -i type=raster input=temperature_mean_1950_2015_daily \
                     file=map_list.txt start="1950-01-01" increment="1 days"

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
        <u>r.timestamp,</u> <u>t.create,</u> <u>t.info</u>

       Maps registration examples in Temporal data processing Wiki

</pre><h4><b>AUTHOR</b></h4><pre>
       Sören Gebbert, Thünen Institute of Climate-Smart Agriculture

</pre><h4><b>SOURCE</b> <b>CODE</b></h4><pre>
       Available at: t.register source code (history)

       Accessed: Friday Apr 04 01:21:14 2025

       Main index | Temporal index | Topics index | Keywords index | Graphical index | Full index

       © 2003-2025 GRASS Development Team, GRASS GIS 8.4.1 Reference Manual

GRASS 8.4.1                                                                                   <u><a href="../man1grass/t.register.1grass.html">t.register</a></u>(1grass)
</pre>
 </div>
</div></section>
</div>
</body>
</html>