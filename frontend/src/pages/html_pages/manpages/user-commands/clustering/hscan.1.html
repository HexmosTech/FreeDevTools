<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>hscan - Scan clusters via RAPI and save node/instance data</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/ganeti-htools-3.1">ganeti-htools-3.1_3.1.0~rc2-2_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       hscan - Scan clusters via RAPI and save node/instance data

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>hscan</b> [-p] [--no-headers] [-d <u>path</u> ] <u>cluster...</u>

       <b>hscan</b> --version

</pre><h4><b>DESCRIPTION</b></h4><pre>
       hscan  is a tool for scanning clusters via RAPI and saving their data in the input format used by <b><a href="../man1/hbal.1.html">hbal</a></b>(1)
       and <b><a href="../man1/hspace.1.html">hspace</a></b>(1).  It will also show a one-line score for each cluster scanned or, if desired,  the  cluster
       state as show by the <b>-p</b> option to the other tools.

       For each cluster, one file named <u>cluster</u><b>.data</b> will be generated holding the node and instance data.  This
       file  can  then  be  used  in  <b><a href="../man1/hbal.1.html">hbal</a></b>(1) or <b><a href="../man1/hspace.1.html">hspace</a></b>(1) via the <u>-t</u> option.  In case the cluster name contains
       slashes (as it can happen when the cluster is  a  fully-specified  URL),  these  will  be  replaced  with
       underscores.

       The one-line output for each cluster will show the following:

       Name   The name of the cluster (or the IP address that was given, etc.)

       Nodes  The number of nodes in the cluster

       Inst   The number of instances in the cluster

       BNode  The number of nodes failing N+1

       BInst  The number of instances living on N+1-failed nodes

       t_mem  Total memory in the cluster

       f_mem  Free memory in the cluster

       t_disk Total disk in the cluster

       f_disk Free disk space in the cluster

       Score  The score of the cluster, as would be reported by <b><a href="../man1/hbal.1.html">hbal</a></b>(1) if run on the generated data files.

       In  case  of errors while collecting data, all fields after the name of the cluster are replaced with the
       error display.

       <b>Note:</b> this output format is not yet final so it should not be used for scripting yet.

</pre><h4><b>OPTIONS</b></h4><pre>
       The options that can be passed to the program are as follows:

       -p, --print-nodes
              Prints the node status for each cluster after the cluster's one-line status display, in  a  format
              designed  to  allow the user to understand the node's most important parameters.  For details, see
              the man page for <b><a href="../man1/htools.1.html">htools</a></b>(1).

       -d <u>path</u>
              Save the node and instance data for each cluster under <u>path</u>, instead of the current directory.

       -V, --version
              Just show the program version and exit.

</pre><h4><b>EXIT</b> <b>STATUS</b></h4><pre>
       The exist status of the command will be zero, unless for  some  reason  loading  the  input  data  failed
       fatally (e.g.  wrong node or instance data).

</pre><h4><b>BUGS</b></h4><pre>
       The  program  does  not  check its input data for consistency, and aborts with cryptic errors messages in
       this case.

</pre><h4><b>EXAMPLE</b></h4><pre>
              $ hscan cluster1
              Name     Nodes  Inst BNode BInst  t_mem  f_mem t_disk f_disk      Score
              cluster1     2     2     0     0   1008    652    255    253 0.24404762
              $ ls -l cluster1.data
              -rw-r--r-- 1 root root 364 2009-03-23 07:26 cluster1.data

</pre><h4><b>REPORTING</b> <b>BUGS</b></h4><pre>
       Report bugs to the project's issue tracker or contact the developers using the Ganeti mailing list.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       Ganeti overview and  specifications:  <b><a href="../man7/ganeti.7.html">ganeti</a></b>(7)  (general  overview),  <b><a href="../man7/ganeti-os-interface.7.html">ganeti-os-interface</a></b>(7)  (guest  OS
       definitions), <b><a href="../man7/ganeti-extstorage-interface.7.html">ganeti-extstorage-interface</a></b>(7) (external storage providers).

       Ganeti  commands:  <b><a href="../man8/gnt-cluster.8.html">gnt-cluster</a></b>(8) (cluster-wide commands), <b><a href="../man8/gnt-job.8.html">gnt-job</a></b>(8) (job-related commands), <b><a href="../man8/gnt-node.8.html">gnt-node</a></b>(8)
       (node-related  commands),  <b><a href="../man8/gnt-instance.8.html">gnt-instance</a></b>(8)  (instance   commands),   <b><a href="../man8/gnt-os.8.html">gnt-os</a></b>(8)   (guest   OS   commands),
       <b><a href="../man8/gnt-storage.8.html">gnt-storage</a></b>(8)   (storage   commands),   <b><a href="../man8/gnt-group.8.html">gnt-group</a></b>(8)  (node  group  commands),  <b><a href="../man8/gnt-backup.8.html">gnt-backup</a></b>(8)  (instance
       import/export commands), <b><a href="../man8/gnt-debug.8.html">gnt-debug</a></b>(8) (debug commands).

       Ganeti daemons: <b><a href="../man8/ganeti-watcher.8.html">ganeti-watcher</a></b>(8) (automatic instance restarter), <b><a href="../man8/ganeti-cleaner.8.html">ganeti-cleaner</a></b>(8) (job queue  cleaner),
       <b><a href="../man8/ganeti-noded.8.html">ganeti-noded</a></b>(8) (node daemon), <b><a href="../man8/ganeti-rapi.8.html">ganeti-rapi</a></b>(8) (remote API daemon).

       Ganeti  htools: <b><a href="../man1/htools.1.html">htools</a></b>(1) (generic binary), <b><a href="../man1/hbal.1.html">hbal</a></b>(1) (cluster balancer), <b><a href="../man1/hspace.1.html">hspace</a></b>(1) (capacity calculation),
       <b><a href="../man1/hail.1.html">hail</a></b>(1) (IAllocator plugin), <b><a href="../man1/hscan.1.html">hscan</a></b>(1) (data gatherer from remote clusters), <b><a href="../man1/hinfo.1.html">hinfo</a></b>(1) (cluster information
       printer), <b><a href="../man7/mon-collector.7.html">mon-collector</a></b>(7) (data collectors interface).

</pre><h4><b>COPYRIGHT</b></h4><pre>
       Copyright (C) 2006-2015 Google Inc.  All rights reserved.

       Redistribution and use in source and binary forms, with or without modification, are  permitted  provided
       that the following conditions are met:

       1.   Redistributions  of  source code must retain the above copyright notice, this list of conditions and
       the following disclaimer.

       2.  Redistributions in binary form must reproduce the above copyright notice, this list of conditions and
       the following disclaimer in the documentation and/or other materials provided with the distribution.

       THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY  EXPRESS  OR  IMPLIED
       WARRANTIES,  INCLUDING,  BUT  NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A
       PARTICULAR PURPOSE ARE DISCLAIMED.  IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE  FOR
       ANY  DIRECT,  INDIRECT,  INCIDENTAL,  SPECIAL,  EXEMPLARY,  OR  CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT
       LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF  USE,  DATA,  OR  PROFITS;  OR  BUSINESS
       INTERRUPTION)  HOWEVER  CAUSED  AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR
       TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE  OF  THIS  SOFTWARE,  EVEN  IF
       ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.

Ganeti                                                                                                  <u><a href="../man1/HSCAN.1.html">HSCAN</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>