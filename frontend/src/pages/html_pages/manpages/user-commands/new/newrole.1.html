<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>newrole - run a shell with a new SELinux role</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/newrole">newrole_3.7-2_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       newrole - run a shell with a new SELinux role

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>newrole</b> [<b>-r</b>|<b>--role</b>] <u>ROLE</u> [<b>-t</b>|<b>--type</b>] <u>TYPE</u> [<b>-l</b>|<b>--level</b>] [<b>-p</b>|<b>--preserve-environment</b>] <u>LEVEL</u> [-- [<u>ARGS</u>]...]

</pre><h4><b>DESCRIPTION</b></h4><pre>
       Run  a  new  shell in a new context.  The new context is derived from the old context in which <b>newrole</b> is
       originally executed.  If the <b>-r</b> or <b>--role</b> option is specified, then the new context will  have  the  role
       specified  by  <u>ROLE</u>.   If  the  <b>-t</b> or <b>--type</b> option is specified, then the new context will have the type
       (domain) specified by <u>TYPE</u>.  If a role is specified, but no  type  is  specified,  the  default  type  is
       derived  from  the  specified  role.  If the <b>-l</b> or <b>--level</b> option is specified, then the new context will
       have the sensitivity level specified by <u>LEVEL</u>.  If <u>LEVEL</u> is a  range,  the  new  context  will  have  the
       sensitivity  level  and clearance specified by that range.  If the <b>-p</b> or <b>--preserve-environment</b> option is
       specified, the shell with the new SELinux context will preserve environment variables,  otherwise  a  new
       minimal environment is created.

       Additional  arguments  <u>ARGS</u> may be provided after a -- option, in which case they are supplied to the new
       shell.  In particular, an argument of -- -c will cause the next argument to be treated as  a  command  by
       most command interpreters.

       If   a   command   argument   is   specified   to   newrole   and   the   command   name   is   found  in
       /etc/selinux/newrole_pam.conf, then the pam service name listed in that file for the command will be used
       rather than the normal newrole pam configuration.  This allows for  per-command  pam  configuration  when
       invoked via newrole, e.g. to skip the interactive re-authentication phase.

       The new shell will be the shell specified in the user's entry in the <u><a href="file:/etc/passwd">/etc/passwd</a></u> file.

       The <b>-V</b> or <b>--version</b> shows the current version of newrole

</pre><h4><b>EXAMPLE</b></h4><pre>
       Changing role:
          # id -Z
          staff_u:staff_r:staff_t:SystemLow-SystemHigh
          # newrole -r sysadm_r
          # id -Z
          staff_u:sysadm_r:sysadm_t:SystemLow-SystemHigh

       Changing sensitivity only:
          # id -Z
          staff_u:sysadm_r:sysadm_t:Unclassified-SystemHigh
          # newrole -l Secret
          # id -Z
          staff_u:sysadm_r:sysadm_t:Secret-SystemHigh

       Changing sensitivity and clearance:
          # id -Z
          staff_u:sysadm_r:sysadm_t:Unclassified-SystemHigh
          # newrole -l Secret-Secret
          # id -Z
          staff_u:sysadm_r:sysadm_t:Secret

       Running a program in a given role or level:
          # newrole -r sysadm_r -- -c "/path/to/app arg1 arg2..."
          # newrole -l Secret -- -c "/path/to/app arg1 arg2..."

</pre><h4><b>FILES</b></h4><pre>
       <a href="file:/etc/passwd">/etc/passwd</a> - user account information
       <a href="file:/etc/shadow">/etc/shadow</a> - encrypted passwords and age information
       <a href="file:/etc/selinux/">/etc/selinux/</a>&lt;policy&gt;/contexts/default_type - default types for roles
       <a href="file:/etc/selinux/">/etc/selinux/</a>&lt;policy&gt;/contexts/securetty_types - securetty types for level changes
       /etc/selinux/newrole_pam.conf - optional mapping of commands to separate pam service names

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man1/runcon.1.html">runcon</a></b>(1)

</pre><h4><b>AUTHORS</b></h4><pre>
       Anthony Colatrella
       Tim Fraser
       Steve Grubb &lt;<a href="mailto:sgrubb@redhat.com">sgrubb@redhat.com</a>&gt;
       Darrel Goeddel &lt;<a href="mailto:DGoeddel@trustedcs.com">DGoeddel@trustedcs.com</a>&gt;
       Michael Thompson &lt;<a href="mailto:mcthomps@us.ibm.com">mcthomps@us.ibm.com</a>&gt;
       Dan Walsh &lt;<a href="mailto:dwalsh@redhat.com">dwalsh@redhat.com</a>&gt;

Security Enhanced Linux                           October 2000                                        <u><a href="../man1/NEWROLE.1.html">NEWROLE</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>