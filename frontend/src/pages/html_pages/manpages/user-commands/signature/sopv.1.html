<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>sopv - Verify OpenPGP signatures</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/sopv-doc">sopv-doc_1.1.0-1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       <b>sopv</b> - Verify OpenPGP signatures

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>sopv</b> [<b>--debug</b>] <u>subcommand</u>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>sopv</b>  is  the  verification-only  subset  of  the OpenPGP Stateless Command Line Interface, also known as
       "SOP".

       <b>sopv</b> is designed to verify OpenPGP signatures. It can  verify  detached  signatures  as  well  as  inline
       signatures. The caller indicates which signers are acceptable by supplying a set of OpenPGP certificates.

</pre><h4><b>EXAMPLES</b></h4><pre>
       $ sopv version
       ExampleSop 2.3.0
       $ sopv verify libfoo-3.1.2.tgz.sig libfoo-keys.pgp &lt; libfoo-3.1.2.tgz
       2025-02-03T0:02:25Z 8CD219FC05D9DE9F3D59B784160B8EF5536B0D27 8CD219FC05D9DE9F3D59B784160B8EF5536B0D27 mode:binary {"signers":["libfoo-keys.pgp"]}
       $ sopv inline-verify --verifications-out=verifs.txt alice.cert &lt; alice-message.csf
       This is a message from Alice
       $ cat verifs.txt
       2025-02-13T00:04:49Z 63339423454CA210DAA886C08723C4D38E0802F6 F255F2A602AC1DFF2331085E5DAE32C783FC418D mode:text {"signers":["alice.cert"]}
       $

       To do something only when a detached signature is valid:

           if sopv verify libfoo-3.1.2.tgz.sig libfoo-keys.pgp &lt; libfoo-3.1.2.tgz &gt; /dev/null; then
             # The software was signed correctly ...
           fi

       To do something only when an inline signature is valid:

           if sopv inline-verify alice.cert &lt; alice-message.csf &gt; alice.message; then
             # alice.message is data that was signed by alice ...
           fi

</pre><h4><b>SUBCOMMANDS</b></h4><pre>
       Exactly one subcommand must be supplied.

       <b>sopv</b> <b>version</b>
              Get   version,   build,   and   compatibility  information  about  the  <b>sopv</b>  implementation.  See
              <a href="../man1/sopv-version.1.html">sopv-version</a>(1) for more information.

       <b>sopv</b> <b>verify</b>
              Verify detached OpenPGP signatures over a message. See <a href="../man1/sopv-verify.1.html">sopv-verify</a>(1) for more information.

       <b>sopv</b> <b>inline-verify</b>
              Verify an inline-signed OpenPGP message. See <a href="../man1/sopv-inline-verify.1.html">sopv-inline-verify</a>(1) for more information.

</pre><h4><b>COMMON</b> <b>OPTIONS</b></h4><pre>
       All <b>sopv</b> subcommands accept this option.

       <b>--debug</b>
              Emit more detailed output on standard error, if available.

       Each subcommand also has its own distinct options and arguments, see the corresponding manual page.

</pre><h4><b>INPUT</b> <b>DATA</b> <b>TYPES</b></h4><pre>
       Some <b>sopv</b> subcommands take data types as inputs, either as arguments or on standard input.

       <b>DATE</b>   Dates are represented directly in ISO-8601-compliant  format,  in  UTC  with  the  Z  suffix.  For
              example, <b>2025-02-12T05:22:33Z</b>

       <b>CERTS</b>  A  collection  of OpenPGP certificates, also known as "Transferable Public Keys". Each <b>CERTS</b> input
              may be unarmored, or may use OpenPGP ASCII armor.

       <b>SIGNATURES</b>
              A collection of OpenPGP signatures. Each <b>SIGNATURES</b> input may be unarmored,  or  may  use  OpenPGP
              ASCII armor.

       <b>INLINESIGNED</b>
              An  OpenPGP Signed Message or a text document that is signed internally with the OpenPGP Cleartext
              Signing Framework. An OpenPGP Signed Message input may be unarmored,  or  may  use  OpenPGP  ASCII
              armor.

</pre><h4><b>VERIFICATIONS</b></h4><pre>
       In  some  cases,  <b>sopv</b>  emits  a <b>VERIFICATIONS</b> text stream, which contains a concise description of every
       valid OpenPGP signature discovered.

       Each line in a <b>VERIFICATIONS</b> stream represents a valid signature from an acceptable signer. There are  at
       least  three  fixed  fields  which  are  separated  from  one  another  and  the final optional fields by
       whitespace.

       The fields are, in order:

       <u>timestamp</u>
              The time of the signature, in ISO-8601 date format, in UTC.

       <u>signing_key_fingerprint</u>
              The fingerprint of the signing key (may be a primary key or a signing-capable subkey).

       <u>primary_key_fingerprint</u>
              The fingerprint of the primary key of the OpenPGP certificate that contains the signing  key  (may
              be the same as the signing key)

       <u>signing_mode</u>
              This optional field is either <b>mode:text</b> or <b>mode:binary</b>.

       <u>optional_additional_data</u>
              If <u>signing_mode</u> is present, the final optional field extends to the end of the line, and is either
              free-form  text,  or  a  JSON object. If it starts with <b>{</b> it is a JSON object. The JSON object may
              contain a "<b>signers</b>" member, which is a JSON list of the names of each <b>CERTS</b> object that could have
              authored the signature.

</pre><h4><b>SPECIAL</b> <b>DESIGNATORS</b></h4><pre>
       Wherever a <b>CERTS</b> or <b>SIGNATURES</b> or <b>VERIFICATIONS</b> object is pointed to on the command line, it is typically
       presented as a path to a filename. In addition, <b>sopv</b> should also accept a special  designator,  which  is
       any string starting with a <b>@</b> character.

       There are two established kinds of special designator:

       <b>@FD:</b><u>nnn</u>
              This  means  to read from or write to the file descriptor identified numerically by <u>nnn</u>. Note that
              this is also a valid argument for <b>--verifications-out</b> in <b>sop</b> <b>inline-verify</b>. It can be  used  there
              to operate <b>sopv</b> on an entirely read-only filesystem.

       <b>@ENV:</b><u>varname</u>
              This means to read the value from the environment variable named <u>varname</u>. Note that typically only
              text-based  data  is  transmittable  in this way; a <b>CERTS</b> argument should be armored, for example.
              Note also that this can only be used for input to <b>sopv</b>, not output (as <b>sopv</b> cannot set the  values
              in its callers' environment).

       If  you  want  to  refer  to  a file in the filesystem whose name actually begins with an <b>@</b> (for example,
       <b>@foo</b>), you should indicate that file to <b>sopv</b> using <b>./@foo</b> to avoid an <b>AMBIGUOUS_INPUT</b> error.

</pre><h4><b>VERSION</b> <b>HISTORY</b></h4><pre>
       The <b>sopv</b> specification keeps a  version  history  similar  to  semantic  versioning  <u>https://semver.org/</u>.
       Implementations indicate their compliance with a specific level of the spec with <b>sopv</b> <b>version</b> <b>--sopv</b> (see
       <a href="../man1/sopv-version.1.html">sopv-version</a>(1))

       1.0    The  subcommands  <b>version</b>,  <b>verify</b>,  and  <b>inline-verify</b>.  The  common argument <b>--debug</b> (even if it
              produces no additional  messages  to  stderr).  <b>sopv</b>  <b>version</b>  arguments  <b>--extended</b>,  <b>--sop-spec</b>,
              <b>--backend</b>,  <b>--sopv</b>.  For  <b>sopv</b>  <b>verify</b>  and  <b>sopv</b>  <b>inline-verify</b>,  the  arguments <b>--not-before</b> and
              <b>--not-after</b>. For <b>sopv</b> <b>inline-verify</b>, the <b>--verifications-out</b> argument. Special  designators  <b>@ENV:</b>
              and <b>@FD:</b> for any <b>CERTS</b> and <b>SIGNATURES</b> input. Special designator <b>@FD:</b> for any <b>VERIFICATIONS</b> output.
              At least the first three fields in any <b>VERIFICATIONS</b> output.

       1.1    Everything   from   1.0.   Additionally,  the  <b>VERIFICATIONS</b>  output  includes  the  fourth  field
              (<u>signing_mode</u>), and the final field of <b>VERIFICATIONS</b> is  a  JSON  object  containing  at  least  a
              "<b>signers</b>" member as described above.

</pre><h4><b>RETURN</b> <b>CODES</b></h4><pre>
       <b>sopv</b> indicates success by returning 0.

       A  failure  is  indicated  by  returning  any non-zero return code, often using values from the following
       table.
       ┌───────┬────────────────────────────┬───────────────────────────────────────────────────────────┐
       │ Value │ Mnemonic                   │ Meaning                                                   │
       ├───────┼────────────────────────────┼───────────────────────────────────────────────────────────┤
       │ 0     │ <b>OK</b>                         │ Success                                                   │
       ├───────┼────────────────────────────┼───────────────────────────────────────────────────────────┤
       │ 1     │ <b>UNSPECIFIED_FAILURE</b>        │ An otherwise unspecified failure occurred                 │
       ├───────┼────────────────────────────┼───────────────────────────────────────────────────────────┤
       │ 3     │ <b>NO_SIGNATURE</b>               │ No acceptable signatures found                            │
       ├───────┼────────────────────────────┼───────────────────────────────────────────────────────────┤
       │ 19    │ <b>MISSING_ARG</b>                │ Missing required argument                                 │
       ├───────┼────────────────────────────┼───────────────────────────────────────────────────────────┤
       │ 37    │ <b>UNSUPPORTED_OPTION</b>         │ Unsupported option                                        │
       ├───────┼────────────────────────────┼───────────────────────────────────────────────────────────┤
       │ 41    │ <b>BAD_DATA</b>                   │ Invalid data type (secret key where <b>CERTS</b> expected, etc)  │
       ├───────┼────────────────────────────┼───────────────────────────────────────────────────────────┤
       │ 59    │ <b>OUTPUT_EXISTS</b>              │ Output file already exists                                │
       ├───────┼────────────────────────────┼───────────────────────────────────────────────────────────┤
       │ 61    │ <b>MISSING_INPUT</b>              │ Input file does not exist                                 │
       ├───────┼────────────────────────────┼───────────────────────────────────────────────────────────┤
       │ 69    │ <b>UNSUPPORTED_SUBCOMMAND</b>     │ Unsupported subcommand                                    │
       ├───────┼────────────────────────────┼───────────────────────────────────────────────────────────┤
       │ 71    │ <b>UNSUPPORTED_SPECIAL_PREFIX</b> │ <b>sopv</b> does not know how to handle the special designator   │
       ├───────┼────────────────────────────┼───────────────────────────────────────────────────────────┤
       │ 73    │ <b>AMBIGUOUS_INPUT</b>            │ A file with the name of the special designator is present │
       └───────┴────────────────────────────┴───────────────────────────────────────────────────────────┘

       Details about warnings or errors may also be emitted to standard error.

</pre><h4><b>AUTHOR</b></h4><pre>
       This manual page was written by Daniel Kahn Gillmor. Your implementation of <b>sopv</b>  is  likely  written  by
       someone  else  in  alignment with the SOP specification. Please run <b>sopv</b> <b>version</b> to learn more about your
       implementation.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <a href="../man1/sopv-version.1.html">sopv-version</a>(1),  <a href="../man1/sopv-verify.1.html">sopv-verify</a>(1),  <a href="../man1/sopv-inline-verify.1.html">sopv-inline-verify</a>(1),  Stateless  OpenPGP  Command   Line   Interface
       <u>https://datatracker.ietf.org/doc/draft-dkg-openpgp-stateless-cli/</u>,                RFC                9580
       <u>https://www.rfc-editor.org/rfc/rfc9580.html</u>

sopv 1.1                                          February 2025                                          <u><a href="../man1/SOPV.1.html">SOPV</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>