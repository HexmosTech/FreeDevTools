<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>pg_top - display and update information about the top cpu PostgreSQL processes</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/pgtop">pgtop_4.1.1-1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       pg_top - display and update information about the top cpu PostgreSQL processes

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>pg_top</b> [option...] [number]

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <u>pg_top</u>  displays  the  top  processes  on  the system and periodically updates this information.  Raw cpu
       percentage is used to rank the processes.  If <u>number</u> is given, then the  top  <u>number</u>  processes  will  be
       displayed instead of the default.

       <u>pg_top</u>  makes  a  distinction between terminals that support advanced capabilities and those that do not.
       This distinction affects the choice of defaults for certain options.  In the remainder of this  document,
       an "intelligent" terminal is one that supports cursor addressing, clear screen, and clear to end of line.
       Conversely,  a *(lqdumb*(rq terminal is one that does not support such features.  If the output of <u>pg_top</u>
       is redirected to a file, it acts as if it were being run on a dumb terminal.

</pre><h4><b>OPTIONS</b></h4><pre>
       <b>-b</b>, <b>--batch</b>
              Use "batch" mode.  In this mode, all input from the terminal  is  ignored.   Interrupt  characters
              (such  as  ^C  and  ^e) still have an effect.  This is the default on a dumb terminal, or when the
              output is not a terminal.

       <b>-C</b>, <b>--color-mode</b>
              Turn off the use of color in the display.

       <b>-c</b>, <b>--show-command</b>
              Show the command name for each process. Default is to show the full command line.  This option  is
              not supported on all platforms.

       <b>-h</b> <u>HOST</u>, <b>--host=</b><u>HOST</u>
              Specifies  the host name of the machine on which the server is running. If the value begins with a
              slash, it is used as the directory for the Unix domain socket.  The  default  is  taken  from  the
              PGHOST environment variable, if set.

       <b>-I</b>, <b>--hide-idle</b>
              Do not display idle processes.  By default, pg_top displays both active and idle processes.

       <b>-i</b>, <b>--interactive</b>
              Use  "lqinteractive"  mode.   In this mode, any input is immediately read for processing.  See the
              section on "Interactive Mode" for an explanation of which keys perform what functions.  After  the
              command  is  processed,  the  screen  will  immediately  be  updated,  even if the command was not
              understood.  This mode is the default when standard output is an intelligent terminal.

       <b>-n</b>, <b>--non-interactive</b>
              Use "non-interactive" mode.  This is identical to "batch" mode.

       <b>-o</b> <u>FIELD</u>, <b>--order-field=</b><u>FIELD</u>
              Sort the process display area on the specified field.  The field name is the name of the column as
              seen in the output, but in lower case.  Likely  values  are  "cpu",  "size",  "res",  "xtime"  and
              "qtime", but may vary on different operating systems.  Note that not all operating systems support
              this option.

       <b>-p</b> <u>PORT</u>, <b>--port=</b><u>PORT</u>
              Specifies the TCP port or local Unix domain socket file extension on which the server is listening
              for connections. Defaults to the PGPORT environment variable, if set.

       <b>-R</b>     Display  WAL  sender  processes' replication activity to connected standby servers.  Only directly
              connected standbys are listed; no information is available about downstream standby servers.

       <b>-r</b>, <b>--remote-mode</b>
              Monitor a remote database where the database is on a system other than  where  pg_top  is  running
              from.  <u>pg_top</u> will monitor a remote database if it has the pg_proctab extension installed.

       <b>-s</b> <u>TIME</u>, <b>--set-delay=</b><u>TIME</u>
              Set  the  delay  between  screen  updates to <u>TIME</u> seconds.  The default delay between updates is 5
              seconds.

       <b>-T</b>, <b>--show-tags</b>
              List all available color tags and the current set of tests used for color highlighting, then exit.

       <b>-U</b> <u>USERNAME</u>, <b>--username=</b><u>USERNAME</u>
              PostgreSQL database user name to connect as.

       <b>-V</b>, <b>--version</b>
              Write version number information to stderr then exit immediately.  No other processing takes place
              when this option is used.  To see current revision information while <u>pg_top</u> is  running,  use  the
              help command "?".

       <b>-W</b>, <b>--password</b>
              Forces <u>pg_top</u> to prompt for a password before connecting to a database.  <u>pg_top</u> will also keep the
              database  connection  open  while  running, and will clear the database connection from memory for
              security.

       <b>-X</b>     Display I/O activity per process.  This depends on whether the platform <u>pg_top</u> is run on  supports
              getting I/O statistics per process, or whether the database system that pg_proctab is installed on
              supports getting I/O statistics when <u>pg_top</u> attempts to get operating system statistics remotely.

       <b>-x</b> <u>COUNT</u>, <b>--set-display=</b><u>COUNT</u>
              Show  only  <u>COUNT</u>  displays,  then  exit.  A display is considered to be one update of the screen.
              This option allows the user to select the number  of  displays  he  wants  to  see  before  <u>pg_top</u>
              automatically exits.  For intelligent terminals, no upper limit is set.  The default is 1 for dumb
              terminals.

       <b>-z</b> <u>USERNAME</u>, <b>--show-username=</b><u>USERNAME</u>
              Show  only  those  processes  owned  by  <u>USERNAME</u>.   This option currently only accepts PostgreSQL
              database user names.

       Both <u>COUNT</u> and <u>NUMBER</u> fields can be specified as "infinite", indicating that they can stretch as  far  as
       possible.   This  is  accomplished  by  using  any proper prefix of the keywords "infinity", "maximum, or
       "all".  The default for <u>COUNT</u> on an intelligent terminal is, in fact, <u>infinity</u>.

       The environment variable <b>PG_TOP</b> is examined for options before the command line is scanned.  This enables
       a user to set his or her own defaults.  The number of processes to display can also be specified  in  the
       environment variable <b>PG_TOP</b>.  The options <b>-C</b>, <b>-I</b>, and <b>-u</b> are actually toggles.  A second specification of
       any  of  these options will negate the first.  Thus a user who has the environment variable <b>PG_TOP</b> set to
       "-I" may use the command "top -I" to see idle processes.

</pre><h4><b>INTERACTIVE</b> <b>MODE</b></h4><pre>
       When <u>pg_top</u> is running in "interactive mode", it reads commands from the  terminal  and  acts  upon  them
       accordingly.  In this mode, the terminal is put in "BREAK", so that a character will be processed as soon
       as  it is typed.  Almost always, a key will be pressed when <u>pg_top</u> is between displays; that is, while it
       is waiting for <u>TIME</u> seconds to elapse.  If this is the case,  the  command  will  be  processed  and  the
       display  will  be  updated  immediately  thereafter  (reflecting  any  changes  that the command may have
       specified).  This happens even if the command was incorrect.  If a key is pressed while <u>pg_top</u> is in  the
       middle  of  updating  the display, it will finish the update and then process the command.  Some commands
       require additional information, and the user will be prompted accordingly.  While typing this information
       in, the user's erase and kill keys (as set up  by  the  command  <u>stty</u>)  are  recognized,  and  a  newline
       terminates the input.

       These commands are currently recognized (^L refers to control-L):

       <b>^L</b>     Redraw the screen.

       <b>A</b>      Display  the  actual  query  plan  (EXPLAIN  ANALYZE)  of  the  currently running SQL statement by
              re-running the SQL statement (prompt for process id.)

       <b>a</b>      Display the top PostgreSQL processor activity. (default)

       <b>C</b>      Toggle the use of color in the display.

       <b>c</b>      Toggle the display of the full command line.

       <b>d</b>      Change the number of displays to show (prompt for new number).  Remember  that  the  next  display
              counts as one, so typing <b>d1</b> will make <u>pg_top</u> show one final display and then immediately exit.

       <b>h</b> <b>or</b> <b>?</b> Display a summary of the commands (help screen).  Version information is included in this display.

       <b>E</b>      Display  re-determined  execution plan (EXPLAIN) of the SQL statement by a backend process (prompt
              for process id.)

       <b>i</b>      Toggle the display of idle processes.

       <b>L</b>      Display the currently held locks by a backend process (prompt for process id.)

       <b>n</b> <b>or</b> <b>#</b> Change the number of processes to display (prompt for new number).

       <b>o</b>      Change the order in which the display is sorted.  This command is not available  on  all  systems.
              The  sort key names when viewing processes vary from system to system but usually include:  "cpu",
              "res", "size", "xtime" and "qtime".  The default  is  unsorted.   See  the  interactive  help  for
              available sort key names.

       <b>Q</b>      Display the currently running query of a backend process (prompt for process id.)

       <b>q</b>      Quit <u>pg_top</u>.

       <b>s</b>      Change the number of seconds to delay between displays (prompt for new number).

       <b>u</b>      Display  only  processes  owned  by  a  specific  username (prompt for username).  If the username
              specified is simply *(lq+*(rq, then processes belonging to all users will be displayed.

</pre><h4><b>THE</b> <b>DISPLAY</b></h4><pre>
       The actual display varies depending on the specific variant of Unix that the machine  is  running.   This
       description may not exactly match what is seen by pg_top running on this particular machine.  Differences
       are listed at the end of this manual entry.

       The  top  few  lines of the display show general information about the state of the system, including the
       last process id assigned to a process (on most systems), the three load averages, the current  time,  the
       number  of  existing  processes,  the  number  of  processes  in each state (sleeping, running, starting,
       zombies, and stopped), and a percentage of time spent in  each  of  the  processor  states  (user,  nice,
       system, and idle).  It also includes information about physical and virtual memory allocation.

       The  remainder of the screen displays information about individual processes.  This display is similar in
       spirit to <u><a href="../man1/ps.1.html">ps</a>(1)</u> but it is not exactly the same.  The columns displayed by  <u>pg_top</u>  will  differ  slightly
       between operating systems.  Generally, the following display are available:

</pre><h4><b>ACTIVITY</b> <b>DISPLAY</b></h4><pre>
       <b>PID</b>    The process id.

       <b>USERNAME</b>
              Username  of  the  process's  owner  (if  <b>-u</b>  is  specified,  a UID column will be substituted for
              USERNAME).

       <b>SIZE</b>   Total size of the process (text, data, and stack) given in kilobytes.

       <b>RES</b>    Resident memory: current amount of process memory  that  resides  in  physical  memory,  given  in
              kilobytes.

       <b>STATE</b>  Current backend state (typically one of "idle", "active", "idltxn", "fast", "disable", or "stop".

       <b>XTIME</b>  Elapsed time since the current transactions started.

       <b>QTIME</b>  Elapsed time since the current query started.

       <b>%CPU</b>   Percentage of available cpu time used by this process.

       <b>LOCKS</b>  Number of locks granted to this process.

       <b>COMMAND</b>
              Name of the command that the process is currently running.

</pre><h4><b>I/O</b> <b>DISPLAY</b> <b>(LINUX</b> <b>ONLY)</b></h4><pre>
       <b>PID</b>    The process id.

       <b>IOPS</b>   Count the number of read and write I/O operations per second.

       <b>IORPS</b>  Count the number of read I/O operations per second.

       <b>IOWPS</b>  Count the number of write I/O operations per second.

       <b>READS</b>  Number of bytes read from storage.

       <b>WRITES</b> Number of bytes written to storage.

       <b>COMMAND</b>
              Name of the command that the process is currently running.

</pre><h4><b>REPLICATION</b> <b>DISPLAY</b></h4><pre>
       <b>PID</b>    The process id.

       <b>USERNAME</b>
              Name of the user logged into this WAL sender process

       <b>APPLICATION</b>
              Name of the application that is connected to this WAL sender

       <b>CLIENT</b> IP address of the client connected to this WAL sender

       <b>STATE</b>  Current WAL sender state

       <b>PRIMARY</b>
              Current transaction log insert location on primary node

       <b>SENT</b>   Last write-ahead log location sent on this connection

       <b>WRITE</b>  Last write-ahead log location written to disk

       <b>FLUSH</b>  Last write-ahead log location flushed to disk

       <b>REPLAY</b> Last write-ahead log location replayed into the database

       <b>SLAG</b>   Size of write-ahead log location remaining to be sent

       <b>WLAG</b>   Size of write-ahead log location remaining to be written to disk

       <b>FLAG</b>   Size of write-ahead log location remaining to be flushed to disk

       <b>RLAG</b>   Size of write-ahead log location remaining to be replayed into the database

</pre><h4><b>COLOR</b></h4><pre>
       <u>pg_top</u>  supports  the  use of ANSI color in its output. By default, color is available but not used.  The
       environment variable <b>PG_TOPCOLORS</b> specifies colors to use and conditions for which they should  be  used.
       At the present time, only numbers in the summary display area can be colored. In a future version it will
       be  possible  to  highlight numbers in the process display area as well.  The environment variable is the
       only way to specify color: there is no  equivalent  command  line  option.   Note  that  the  environment
       variable  <b>PG_TOPCOLOURS</b> is also understood. The British spelling takes precedence.  The use of color only
       works on terminals that understand and process ANSI color escape sequences.

       The environment variable is a sequence of color specifications, separated by colons.  Each  specification
       takes  the form tag=min,max#code where <u>tag</u> is the name of the value to check, <u>min</u> and <u>max</u> specify a range
       for the value, and <u>code</u> is an ANSI color code.  Multiple color codes can be  listed  and  separated  with
       semi-colons.   A  missing  <u>min</u>  implies  the  lowest possible value (usually 0) and a missing <u>max</u> implies
       infinity. The comma must always be present. When specifying numbers for load  averages,  they  should  be
       multiplied  by  100.   For  example,  the  specification  <b>1min=500,1000#31</b> indicates that a 1 minute load
       average between 5 and 10 should be displayed in red. Color attributes can be combined.  For example,  the
       specification  <b>5min=1000,#37;41</b> indicates that a 5 minute load average higher than 10 should be displayed
       with white characters on a red background. A special tag named <u>header</u> is used to control the color of the
       header for process display.  It should  be  specified  with  no  lower  and  upper  limits,  specifically
       <b>header=,#</b> followed by the ANSI color code.

       You  can  see  a  list of color codes recognized by this installation of pg_top with the <b>-T</b> option.  This
       will also show the current set of tests used for color highligting, as specified in the environment.

</pre><h4><b>ENVIRONMENT</b></h4><pre>
       <b>PG_TOP</b>              user-configurable defaults for options.  <b>PG_TOPCOLORS</b> color specification

</pre><h4><b>BUGS</b></h4><pre>
       As with <u><a href="../man1/ps.1.html">ps</a>(1)</u>, things can change while <u>pg_top</u> is collecting information for an update.   The  picture  it
       gives is only a close approximation to reality.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <u><a href="../man1/ps.1.html">ps</a>(1),</u> <u><a href="../man1/stty.1.html">stty</a>(1),</u> <u><a href="../man4/mem.4.html">mem</a>(4)</u>

</pre><h4><b>LINUX</b> <b>NOTES</b></h4><pre>
       The Linux port was written by Richard Henderson &lt;<u><a href="mailto:rth@tamu.edu">rth@tamu.edu</a></u>&gt;.  The CPU% calculation was brazenly stolen
       from the Solaris 2 port and should be attributed to one of the many names listed in its man page.

       The order support was stolen from SUNOS 5 port by Alexey Klimkin &lt;<u><a href="mailto:kad@klon.tme.mcst.ru">kad@klon.tme.mcst.ru</a></u>&gt;

       Made to work under 2.4 by William LeFebvre.

</pre><h4><b>AUTHOR</b></h4><pre>
       William LeFebvre, Mark Wong

4.0.0                                                                                                  <u><a href="../man1/PG_TOP.1.html">PG_TOP</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>