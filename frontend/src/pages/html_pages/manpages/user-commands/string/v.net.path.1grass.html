<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>v.net.path  - Finds shortest path on vector network.</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/grass-doc">grass-doc_8.4.1-1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       <b>v.net.path</b>  - Finds shortest path on vector network.

</pre><h4><b>KEYWORDS</b></h4><pre>
       vector, network, shortest path

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>v.net.path</b>
       <b>v.net.path</b> <b>--help</b>
       <b>v.net.path</b>  [-<b>tgs</b>] <b>input</b>=<u>name</u> <b>output</b>=<u>name</u> <b>arc_layer</b>=<u>string</u> <b>arc_type</b>=<u>string</u>[,<u>string</u>,...] <b>node_layer</b>=<u>string</u>
       [<b>file</b>=<u>name</u>]   [<b>arc_column</b>=<u>string</u>]    [<b>arc_backward_column</b>=<u>string</u>]    [<b>node_column</b>=<u>string</u>]    [<b>dmax</b>=<u>float</u>]
       [<b>turn_layer</b>=<u>string</u>]   [<b>turn_cat_layer</b>=<u>string</u>]   [--<b>overwrite</b>]  [--<b>help</b>]  [--<b>verbose</b>]  [--<b>quiet</b>]  [--<b>ui</b>]

   <b>Flags:</b>
       <b>-t</b>
           Use turntable

       <b>-g</b>
           Use geodesic calculation for longitude-latitude projects

       <b>-s</b>
           Write output as original input segments, not each path as one line.

       <b>--overwrite</b>
           Allow output files to overwrite existing files

       <b>--help</b>
           Print usage summary

       <b>--verbose</b>
           Verbose module output

       <b>--quiet</b>
           Quiet module output

       <b>--ui</b>
           Force launching GUI dialog

   <b>Parameters:</b>
       <b>input</b>=<u>name</u> <b>[required]</b>
           Name of input vector map
           Or data source for direct OGR access

       <b>output</b>=<u>name</u> <b>[required]</b>
           Name for output vector map

       <b>arc_layer</b>=<u>string</u> <b>[required]</b>
           Arc layer
           Vector  features  can have category values in different layers. This number determines which layer to
           use. When used with direct OGR access this is the layer name.
           Default: <u>1</u>

       <b>arc_type</b>=<u>string[,string</u>,...] <b>[required]</b>
           Arc type
           Input feature type
           Options: <u>line,</u> <u>boundary</u>
           Default: <u>line,boundary</u>

       <b>node_layer</b>=<u>string</u> <b>[required]</b>
           Node layer
           Vector features can have category values in different layers. This number determines which  layer  to
           use. When used with direct OGR access this is the layer name.
           Default: <u>2</u>

       <b>file</b>=<u>name</u>
           Name of file containing start and end points. If not given, read from stdin

       <b>arc_column</b>=<u>string</u>
           Arc forward/both direction(s) cost column (number)

       <b>arc_backward_column</b>=<u>string</u>
           Arc backward direction cost column (number)

       <b>node_column</b>=<u>string</u>
           Node cost column (number)

       <b>dmax</b>=<u>float</u>
           Maximum distance to the network
           If  start/end are given as coordinates. If start/end point is outside this threshold, the path is not
           found and error message is printed. To speed up the process, keep this value as low as possible.
           Default: <u>1000</u>

       <b>turn_layer</b>=<u>string</u>
           Layer with turntable
           Relevant only with -t flag
           Default: <u>3</u>

       <b>turn_cat_layer</b>=<u>string</u>
           Layer with unique categories used in turntable
           Relevant only with -t flag
           Default: <u>4</u>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <u>v.net.path</u> determines least costly, e.g. shortest or fastest path(s) on a vector network.

       Costs may be either line lengths, or attributes saved in a database table.  These  attribute  values  are
       taken  as  costs  of  whole segments, not as costs to traverse a length unit (e.g. meter) of the segment.
       For example, if the speed limit is 100 km / h, the cost to traverse a 10 km long  road  segment  must  be
       calculated as
       length / speed = 10 km / (100 km/h) = 0.1 h.
       Supported are cost assignments for both arcs and nodes, and also different costs for both directions of a
       vector line.  For areas, costs will be calculated along boundary lines.

       The  input  vector  needs  to  be  prepared  with  v.net  operation=connect  in  order  to connect points
       representing center nodes to the network.

       Nodes and arcs can be closed using cost = -1.

       Least cost paths are written to the output vector map with an attached attribute table.

       Nodes can be

           •   piped into the program from file or from stdin, or

           •   defined in the graphical user interface ("enter values interactively").
       The syntax is as follows:
       id start_point_category end_point_category
       (Example: 1 1 2)

       or
       id start_point_x start_point_y end_point_x end_point_y

       Points specified by category must be exactly on network nodes, and the  input  vector  map  needs  to  be
       prepared with v.net operation=connect.

       When specifying coordinates, the next network node to a given coordinate pair is used.

       The attribute table will contain the following attributes:

           •   cat  - path unique category assigned by module

           •   id   - path id (read from input)

           •   fcat - from point category

           •   tcat - to point category

           •   sp - result status:

               •   0 - OK, path found

               •   1 - node is not reachable

               •   2 - point of given category does not exist

           •   cost - travelling costs (on the network, not to/from network)

           •   fdist - the distance from first point to the network

           •   tdist - the distance from the network to second point

       Application  of flag <b>-t</b> enables a turntable support.  This flag requires additional parameters <b>turn_layer</b>
       and <b>turn_cat_layer</b> that are otherwise ignored.  The turntable allows to model e.g.  traffic  code,  where
       some  turns  may  be  prohibited.  This means that the input layer is expanded by turntable with costs of
       every possible turn on any possible node (intersection) in both directions.  Turntable can be created  by
       the <u>v.net</u> module.  For more information about turns in the vector network analyses see wiki page.

</pre><h4><b>NOTES</b></h4><pre>
       Nodes and arcs can be closed using cost = -1.

       If  the  cost  columns  <b>arc_column</b>,  <b>arc_backward_column</b> and <b>node_column</b> are not specified, the length of
       network segments is measured and zero costs are assumed for nodes.

       When using attributes, the length of segments is not used. To get accurate results, the line length  must
       be  taken  into  account  when  assigning  costs as attributes. For example, to get the <u>fastest</u> <u>path</u>, the
       columns ’max_speed’ and ’length’ are required. The correct fastest path can then be found  by  specifying
       arc_column=length/max_speed. If not yet existing, the column containing the line length ("length") has to
       added to the attributes table using <u>v.to.db</u>.

</pre><h4><b>EXAMPLE</b></h4><pre>
       Shortest (red) and fastest (blue) path between two digitized nodes (Spearfish):

       # Spearfish
       echo "1|601955.1|4916944.9|start
       2|594385.6|4921565.2|end" | v.in.ascii in=- cat=1 x=2 y=3 out=startend col="cat integer, \
                                east double precision, north double precision, label <a href="../man6/varchar.6.html">varchar</a>(6)"
       v.db.select startend
       g.copy vect=roads,myroads
       # create lines map connecting points to network
       v.net myroads points=startend out=myroads_net op=connect thresh=500 arc_layer=1 node_layer=2
       # set up costs
       # create unique categories for each road in layer 3
       v.category in=myroads_net out=myroads_net_time opt=add cat=1 layer=3 type=line
       # add new table for layer 3
       v.db.addtable myroads_net_time layer=3 col="cat integer,label <a href="../man43/varchar.43.html">varchar</a>(43),length double precision,speed double precision,cost double precision,bcost double precision"
       # copy road type to layer 3
       v.to.db myroads_net_time layer=3 qlayer=1 opt=query qcolumn=label columns=label
       # upload road length in miles
       v.to.db myroads_net_time layer=3 type=line option=length col=length unit=miles
       # set speed limits in miles / hour
       v.db.update myroads_net_time layer=3 col=speed val="5.0"
       v.db.update myroads_net_time layer=3 col=speed val="75.0" where="label=’interstate’"
       v.db.update myroads_net_time layer=3 col=speed val="75.0" where="label=’primary highway, hard surface’"
       v.db.update myroads_net_time layer=3 col=speed val="50.0" where="label=’secondary highway, hard surface’"
       v.db.update myroads_net_time layer=3 col=speed val="25.0" where="label=’light-duty road, improved surface’"
       v.db.update myroads_net_time layer=3 col=speed val="5.0" where="label=’unimproved road’"
       # define traveling costs as traveling time in minutes:
       # set forward costs
       v.db.update myroads_net_time layer=3 col=cost val="length / speed * 60"
       # set backward costs
       v.db.update myroads_net_time layer=3 col=bcost val="length / speed * 60"
       # ... the ’start’ and ’end’ nodes have category number 1 and 2
       # Shortest path: ID as first number, then cat1 and cat2
       echo "1 1 2" | v.net.path myroads_net_time arc_layer=3 node_layer=2 out=mypath
       # Fastest path: ID as first number, then cat1 and cat2
       echo "1 1 2" | v.net.path myroads_net_time arc_layer=3 node_layer=2 arc_column=cost arc_backward_column=bcost out=mypath_time
       To display the result, run for example:
       g.region vector=myroads_net
       d.mon x0
       d.vect myroads_net
       # show shortest path
       d.vect mypath col=red width=2
       # show fastest path
       d.vect mypath_time col=blue width=2
       # start and end point
       d.vect myroads_net icon=basic/triangle fcol=green size=12 layer=2
       d.font font=Vera
       d.vect startend disp=cat type=point lsize=14 layer=2

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
        <u>d.path,</u> <u>v.net,</u> <u>v.net.alloc,</u> <u>v.net.iso,</u> <u>v.net.salesman,</u> <u>v.net.steiner,</u> <u>v.to.db</u>

</pre><h4><b>AUTHORS</b></h4><pre>
       Radim Blazek, ITC-Irst, Trento, Italy
       Documentation: Markus Neteler, Markus Metz

   <b>TURNS</b> <b>SUPPORT</b>
       The  turns support was implemnented as part of GRASS GIS turns cost project at Czech Technical University
       in Prague, Czech Republic.

       Implementation: Stepan Turek
       Documentation: Lukas Bocan, Eliska Kyzlikova, Viera Bejdova
       Mentor: Martin Landa

</pre><h4><b>SOURCE</b> <b>CODE</b></h4><pre>
       Available at: v.net.path source code (history)

       Accessed: Friday Apr 04 01:20:26 2025

       Main index | Vector index | Topics index | Keywords index | Graphical index | Full index

       © 2003-2025 GRASS Development Team, GRASS GIS 8.4.1 Reference Manual

GRASS 8.4.1                                                                                   <u><a href="../man1grass/v.net.path.1grass.html">v.net.path</a></u>(1grass)
</pre>
 </div>
</div></section>
</div>
</body>
</html>