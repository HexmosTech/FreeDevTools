<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>v.rast.stats   -  Calculates  univariate  statistics  from a raster map based on a vector map and uploads</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/grass-doc">grass-doc_8.4.1-1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       <b>v.rast.stats</b>   -  Calculates  univariate  statistics  from a raster map based on a vector map and uploads
       statistics to new attribute columns.

</pre><h4><b>KEYWORDS</b></h4><pre>
       vector, statistics, raster, univariate statistics, zonal statistics, sampling, querying

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>v.rast.stats</b>
       <b>v.rast.stats</b> <b>--help</b>
       <b>v.rast.stats</b>   [-<b>cd</b>]   <b>map</b>=<u>name</u>     [<b>layer</b>=<u>string</u>]      [<b>type</b>=<u>string</u>[,<u>string</u>,...]]      [<b>where</b>=<u>sql_query</u>]
       <b>raster</b>=<u>name</u>[,<u>name</u>,...]           <b>column_prefix</b>=<u>string</u>[,<u>string</u>,...]           [<b>method</b>=<u>string</u>[,<u>string</u>,...]]
       [<b>percentile</b>=<u>integer</u>]   [--<b>help</b>]  [--<b>verbose</b>]  [--<b>quiet</b>]  [--<b>ui</b>]

   <b>Flags:</b>
       <b>-c</b>
           Continue if upload column(s) already exist

       <b>-d</b>
           Create densified lines (default: thin lines)
           All cells touched by the line will be set, not only those on the render path

       <b>--help</b>
           Print usage summary

       <b>--verbose</b>
           Verbose module output

       <b>--quiet</b>
           Quiet module output

       <b>--ui</b>
           Force launching GUI dialog

   <b>Parameters:</b>
       <b>map</b>=<u>name</u> <b>[required]</b>
           Name of vector map
           Or data source for direct OGR access

       <b>layer</b>=<u>string</u>
           Layer number or name
           Vector features can have category values in different layers. This number determines which  layer  to
           use. When used with direct OGR access this is the layer name.
           Default: <u>1</u>

       <b>type</b>=<u>string[,string</u>,...]
           Input feature type
           Options: <u>point,</u> <u>line,</u> <u>boundary,</u> <u>centroid,</u> <u>area</u>
           Default: <u>point,line,boundary,centroid,area</u>

       <b>where</b>=<u>sql_query</u>
           WHERE conditions of SQL statement without ’where’ keyword
           Example: income &lt; 1000 and population &gt;= 10000

       <b>raster</b>=<u>name[,name</u>,...] <b>[required]</b>
           Name of input raster map to calculate statistics from

       <b>column_prefix</b>=<u>string[,string</u>,...] <b>[required]</b>
           Column prefix for new attribute columns

       <b>method</b>=<u>string[,string</u>,...]
           The methods to use
           Options:  <u>number,</u>  <u>null_cells,</u>  <u>minimum,</u>  <u>maximum,</u>  <u>range,</u> <u>average,</u> <u>stddev,</u> <u>variance,</u> <u>coeff_var,</u> <u>sum,</u>
           <u>first_quartile,</u> <u>median,</u> <u>third_quartile,</u> <u>percentile</u>
           Default:
           <u>number,null_cells,minimum,maximum,range,average,stddev,variance,coeff_var,sum,first_quartile,median,third_quartile,percentile</u>

       <b>percentile</b>=<u>integer</u>
           Percentile to calculate
           Options: <u>0-100</u>
           Default: <u>90</u>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <u>v.rast.stats</u> calculates basic univariate statistics from a raster map only for the parts covered  by  the
       specified  vector  map.   The vector map will be rasterized according to the raster map resolution.  Then
       univariate statistics are calculated per vector category (cat)  from  the  raster  map  and  the  results
       uploaded  to  the  vector map attribute table.  A new column is generated in the attribute table for each
       statistic requested in <b>method</b> (if not already present).

       The univariate statistics include the number of raster cells counted, the number  of  raster  NULL  cells
       counted,  minimum  and  maximum cell values, range, average, standard deviation, variance, coefficient of
       variation, sum, first quartile, median, third quartile, and percentile.

</pre><h4><b>NOTES</b></h4><pre>
       <u>v.rast.stats</u> is only meaningful for lines or polygons.

       The module may take a long time to run if the raster region contains a large number  of  cells.  In  this
       case the <b>--verbose</b> flag may be used to track progress.

       The  script  stops  if  a  (prefixed) upload column is already present in the vector map attribute table,
       unless otherwise instructed with the <b>-c</b> continue flag. The column  prefix  will  be  separated  from  the
       statistic  name  with  an  underscore.  For  example with a prefix of "elev" the sum column will be named
       elev_sum.

       If a DBF database is being used, note that column names are restricted by the  DBF  specification  to  10
       characters.  Therefore  it  is advised to be economical in the use of the column prefix when using DBF as
       any additional characters will be chopped off.

       If a MASK is present, it will be restored after the script finished.  The script changes  temporarily  to
       the resolution of the given raster map.

       If  an  area  has  several categories in the selected layer (equivalent to overlapping polygons in Simple
       Features), only one category will be kept during the rasterization process. Statistics  for  the  skipped
       categories will thus be partial.

       For  example, if there are three areas: area 1 with cat 1, area 2 with cat 2, area 3 with cats 1, 2. Only
       one category value of area 3 will be used for rasterization, the other category value  will  be  skipped.
       Thus  statistics  for the used category value will be complete, while statistics for the skipped category
       value will be incomplete.

       Large    amounts    of     system     memory     can     be     used     when     extended     statistics
       (<u>first_quartile,median,third_quartile,percentile</u>  ) are being requested with a very large region setting.
       If the region is too large the module should display memory allocation errors. Basic  statistics  can  be
       calculated using any size input region.

</pre><h4><b>EXAMPLES</b></h4><pre>
       Example to upload DEM statistics to ZIP codes vector map (North Carolina sample dataset):
       g.copy vect=zipcodes_wake,myzipcodes_wake
       # set computational region to DEM:
       g.region raster=elevation -p
       # calculate selected DEM statistics, upload to vector map table:
       v.rast.stats myzipcodes_wake raster=elevation \
         column_prefix=elev method=minimum,maximum,average,range,stddev,percentile \
         percentile=95
       # verify results:
       v.info -c myzipcodes_wake
       v.db.select myzipcodes_wake
       v.univar myzipcodes_wake column=elev_range type=centroid

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
        <u>r.univar,</u> <u>v.univar,</u> <u>v.vect.stats,</u> <u>v.what.rast,</u> <u>v.what.rast3,</u> <u>v.what.vect</u>

</pre><h4><b>AUTHOR</b></h4><pre>
       Markus Neteler, CEA (for the EDEN EU/FP6 Project)

</pre><h4><b>SOURCE</b> <b>CODE</b></h4><pre>
       Available at: v.rast.stats source code (history)

       Accessed: Friday Apr 04 01:21:13 2025

       Main index | Vector index | Topics index | Keywords index | Graphical index | Full index

       © 2003-2025 GRASS Development Team, GRASS GIS 8.4.1 Reference Manual

GRASS 8.4.1                                                                                 <u><a href="../man1grass/v.rast.stats.1grass.html">v.rast.stats</a></u>(1grass)
</pre>
 </div>
</div></section>
</div>
</body>
</html>