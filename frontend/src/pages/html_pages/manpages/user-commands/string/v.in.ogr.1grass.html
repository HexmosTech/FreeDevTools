<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>v.in.ogr  - Imports vector data into a GRASS vector map using OGR library.</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/grass-doc">grass-doc_8.4.1-1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       <b>v.in.ogr</b>  - Imports vector data into a GRASS vector map using OGR library.

</pre><h4><b>KEYWORDS</b></h4><pre>
       vector, import, OGR, topology, geometry, snapping, create project

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>v.in.ogr</b>
       <b>v.in.ogr</b> <b>--help</b>
       <b>v.in.ogr</b>        [-<b>flc2tojrewi</b>]        <b>input</b>=<u>string</u>         [<b>gdal_config</b>=<u>string</u>]         [<b>gdal_doo</b>=<u>string</u>]
       [<b>layer</b>=<u>string</u>[,<u>string</u>,...]]     [<b>output</b>=<u>name</u>]     [<b>spatial</b>=<u>xmin,ymin,xmax,ymax</u>[,<u>xmin,ymin,xmax,ymax</u>,...]]
       [<b>where</b>=<u>sql_query</u>]     [<b>min_area</b>=<u>float</u>]     [<b>type</b>=<u>string</u>[,<u>string</u>,...]]     [<b>snap</b>=<u>float</u>]     [<b>project</b>=<u>name</u>]
       [<b>columns</b>=<u>name</u>[,<u>name</u>,...]]   [<b>encoding</b>=<u>string</u>]   [<b>key</b>=<u>string</u>]   [<b>geometry</b>=<u>name</u>]   [--<b>overwrite</b>]   [--<b>help</b>]
       [--<b>verbose</b>]  [--<b>quiet</b>]  [--<b>ui</b>]

   <b>Flags:</b>
       <b>-f</b>
           List supported OGR formats and exit

       <b>-l</b>
           List available OGR layers in data source and exit

       <b>-c</b>
           Do not clean polygons (not recommended)

       <b>-2</b>
           Force 2D output even if input is 3D
           Useful if input is 3D but all z coordinates are identical

       <b>-t</b>
           Do not create attribute table

       <b>-o</b>
           Override projection check (use current project’s CRS)
           Assume that the dataset has the same coordinate reference system (CRS) as the current project

       <b>-j</b>
           Perform projection check only and exit

       <b>-r</b>
           Limit import to the current region

       <b>-e</b>
           Extend region extents based on new dataset
           Also updates the default region if in the PERMANENT mapset

       <b>-w</b>
           Change column names to lowercase characters

       <b>-i</b>
           Create the project specified by the "project" parameter and exit. Do not import the vector data.

       <b>--overwrite</b>
           Allow output files to overwrite existing files

       <b>--help</b>
           Print usage summary

       <b>--verbose</b>
           Verbose module output

       <b>--quiet</b>
           Quiet module output

       <b>--ui</b>
           Force launching GUI dialog

   <b>Parameters:</b>
       <b>input</b>=<u>string</u> <b>[required]</b>
           Name of OGR datasource to be imported
           Examples:
                   ESRI Shapefile: directory containing shapefiles
                   MapInfo File: directory containing mapinfo files

       <b>gdal_config</b>=<u>string</u>
           GDAL configuration options
           Comma-separated list of key=value pairs

       <b>gdal_doo</b>=<u>string</u>
           GDAL dataset open options
           Comma-separated list of key=value pairs

       <b>layer</b>=<u>string[,string</u>,...]
           OGR layer name. If not given, all available layers are imported
           Examples:
                   ESRI Shapefile: shapefile name
                   MapInfo File: mapinfo file name

       <b>output</b>=<u>name</u>
           Name for output vector map

       <b>spatial</b>=<u>xmin,ymin,xmax,ymax[,xmin,ymin,xmax,ymax</u>,...]
           Import subregion only
           Format: xmin,ymin,xmax,ymax - usually W,S,E,N

       <b>where</b>=<u>sql_query</u>
           WHERE conditions of SQL statement without ’where’ keyword
           Example: income &lt; 1000 and population &gt;= 10000

       <b>min_area</b>=<u>float</u>
           Minimum size of area to be imported (square meters)
           Smaller areas and islands are ignored. Should be greater than snap^2
           Default: <u>0.0001</u>

       <b>type</b>=<u>string[,string</u>,...]
           Optionally change default input type
           Options: <u>point,</u> <u>line,</u> <u>boundary,</u> <u>centroid</u>
           Default:
           <b>point</b>: import area centroids as points
           <b>line</b>: import area boundaries as lines
           <b>boundary</b>: import lines as area boundaries
           <b>centroid</b>: import points as centroids

       <b>snap</b>=<u>float</u>
           Snapping threshold for boundaries (map units)
           ’-1’ for no snap
           Default: <u>-1</u>

       <b>project</b>=<u>name</u>
           Name for new project (location) to create

       <b>columns</b>=<u>name[,name</u>,...]
           List of column names to be used instead of original names, first is used for category column

       <b>encoding</b>=<u>string</u>
           Encoding value for attribute data
           Overrides encoding interpretation, useful when importing ESRI Shapefile

       <b>key</b>=<u>string</u>
           Name of column used for categories
           If not given, categories are generated as unique values and stored in ’cat’ column

       <b>geometry</b>=<u>name</u>
           Name of geometry column
           If not given, all geometry columns from the input are used

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <u>v.in.ogr</u>  imports  vector data from files and database connections supported by the OGR library) into the
       current project (previously called location) and mapset.

       If the <b>layer</b> parameter is not given, all available OGR layers are imported as separate GRASS layers  into
       one  GRASS  vector  map.  If several OGR layer names are given, all these layers are imported as separate
       GRASS layers into one GRASS vector map.

       The optional <b>spatial</b> parameter defines spatial query extents.  This parameter allows the user to restrict
       the region to a spatial subset while importing the data. All  vector  features  completely  or  partially
       falling  into  this  rectangle subregion are imported.  The <b>-r</b> current region flag is identical, but uses
       the current region settings as the spatial bounds (see <u>g.region</u>).

   <b>Supported</b> <b>Vector</b> <b>Formats</b>
       <u>v.in.ogr</u> uses the OGR library which supports  various  vector  data  formats  including  ESRI  Shapefile,
       Mapinfo  File,  UK  .NTF,  SDTS,  TIGER,  IHO  S-57  (ENC), DGN, GML, GPX, AVCBin, REC, Memory, OGDI, and
       PostgreSQL, depending on the local OGR installation. For details see the OGR  format  overview.   The  <b>-f</b>
       prints  a  list  of  the  vector formats supported by the system’s OGR (Simple Features Library). The OGR
       (Simple Features Library) is part of the GDAL library, hence GDAL needs to be installed to use <u>v.in.ogr</u>.

       The list of actually supported formats can be printed by <b>-f</b> flag.

   <b>Topology</b> <b>cleaning</b>
       Topology cleaning on areas is automatically performed, but may fail in special cases. In these  cases,  a
       <b>snap</b>  threshold  value  is estimated from the imported vector data and printed out at the end. The vector
       data can then be imported again with the suggested <b>snap</b> threshold value which is incremented by powers of
       10 until either an estimated upper limit for the threshold value is reached or the topology  cleaning  on
       areas  was  successful.  In some cases, manual cleaning might be required or areas are truly overlapping,
       e.g. buffers created with non-topological software.

       The <b>min_area</b> threshold value is being specified  as  area  size  in  map  units  with  the  exception  of
       latitude-longitude projects in which it is being specified solely in square meters.

       The  <b>snap</b>  threshold  value  is used to snap boundary vertices to each other if the distance in map units
       between two vertices is not larger than the threshold. Snapping is by default disabled with -1. See  also
       the <u>v.clean</u> manual.

   <b>Overlapping</b> <b>polygons</b>
       When  importing  overlapping  polygons,  the  overlapping  parts  will  become  new  areas  with multiple
       categories, one unique category for each original polygon. An original polygon will thus be converted  to
       multiple  areas  with the same shared category. These multiple areas will therefore also link to the same
       entry in the attribute table. A single category value may thus refer to  multiple  non-overlapping  areas
       which  together represent the original polygon overlapping with another polygon. The original polygon can
       be recovered by using <u>v.extract</u> with the desired category value or <b>where</b> statement and  the  <b>-d</b>  flag  to
       dissolve common boundaries.

</pre><h4><b>Project</b> <b>Creation</b></h4><pre>
       <u>v.in.ogr</u>  attempts  to  preserve coordinate reference system (CRS) information when importing datasets if
       the source format includes such information, and if the OGR driver supports it. If the CRS of the  source
       dataset  does not match the CRS of the current project <u>v.in.ogr</u> will report an error message ("Coordinate
       reference system of dataset does not appear to match current project").

       If the user wishes to ignore the difference between the coordinate system of  the  source  data  and  the
       current project, they may pass the <b>-o</b> flag to override the CRS check.

       If  the  user  wishes  to  import  the data with the full CRS definition, it is possible to have <u>v.in.ogr</u>
       automatically create a new project based on the  CRS  and  extents  of  the  file  being  read.  This  is
       accomplished  by  passing  the  name  to  be  used  for  the new project via the <b>project</b> parameter.  Upon
       completion of the command, a new project will have been created (with only a PERMANENT mapset),  and  the
       vector map will have been imported with the indicated <b>output</b> name into the PERMANENT mapset.

       An  interesting  wrapper  command  around  <u>v.in.ogr</u>  is  v.import which reprojects (if needed) the vector
       dataset during import to the CRS of the current project.

</pre><h4><b>NOTES</b></h4><pre>
   <b>Table</b> <b>column</b> <b>names:</b> <b>supported</b> <b>characters</b>
       The characters which are eligible for table column names are limited by the SQL standard. Supported are:
       [A-Za-z][A-Za-z0-9_]*
       This means that SQL neither supports ’.’ (dots) nor ’-’ (minus) nor ’#’ in table  column  names.  Also  a
       table name must start with a character, not a number.

       <u>v.in.ogr</u>  converts ’.’, ’-’ and ’#’ to ’_’ (underscore) during import. The <b>-w</b> flag changes capital column
       names to lowercase characters as a convenience for SQL usage (lowercase column names avoid  the  need  to
       quote  them  if the attribute table is stored in a SQL DBMS such as PostgreSQL). The <b>columns</b> parameter is
       used to define new column names during import.

       The DBF database specification limits column names to 10 characters.  If the default DB is set to DBF and
       the input data contains longer column/field names, they will be truncated. If this  results  in  multiple
       columns  with  the  same  name then <u>v.in.ogr</u> will produce an error.  In this case you will either have to
       modify the input data or use <u>v.in.ogr</u>’s <b>columns</b> parameter to rename columns to something  unique.  (hint:
       copy  and  modify  the  list  given  with  the  error  message).  Alternatively, change the local DB with
       <u>db.connect</u>.

   <b>File</b> <b>encoding</b>
       When importing ESRI Shapefiles the OGR library tries to read the LDID/codepage setting from the .dbf file
       and use it to translate string fields to UTF-8. LDID "87 / 0x57" is treated as ISO8859_1 which may not be
       appropriate for many languages. Unfortunately it is not clear what other values may be  appropriate  (see
       example below). To change encoding the user can set up SHAPE_ENCODING environmental variable or simply to
       define encoding value using <b>encoding</b> parameter.

       Value  for  <b>encoding</b>  also affects text recoding when importing DXF files. For other formats has encoding
       value no effect.

   <b>Defining</b> <b>the</b> <b>key</b> <b>column</b>
       Option <b>key</b> specifies the column name used for feature categories. This column must  be  integer.  If  not
       specified, categories numbers are generated starting with 1 and stored in the column named "cat".

   <b>Supports</b> <b>of</b> <b>multiple</b> <b>geometry</b> <b>columns</b>
       Starting  with GDAL 1.11 the library supports multiple geometry columns in OGR. By default <u>v.in.ogr</u> reads
       all geometry columns from given layer. The user can choose desired geometry column  by  <b>geometry</b>  option,
       see example below.

   <b>Latitude-longitude</b> <b>data:</b> <b>Vector</b> <b>postprocessing</b> <b>after</b> <b>import</b>
       For  vector  data  like  a  grid, horizontal lines need to be broken at their intersections with vertical
       lines (<b>v.clean</b> <b>...</b> <b>tool=break</b>).

</pre><h4><b>EXAMPLES</b></h4><pre>
       The command imports various vector formats:

   <b>SHAPE</b> <b>files</b>
       v.in.ogr input=/home/user/shape_data/test_shape.shp output=grass_map
       Alternate method:
       v.in.ogr input=/home/user/shape_data layer=test_shape output=grass_map
       Define encoding value for attribute data (in this  example  we  expect  attribute  data  in  Windows-1250
       encoding; ie. in Central/Eastern European languages that use Latin script, Microsoft Windows encoding).
       v.in.ogr input=/home/user/shape_data/test_shape.shp output=grass_map encoding=cp1250

   <b>MapInfo</b> <b>files</b>
       v.in.ogr input=./ layer=mapinfo_test output=grass_map

   <b>Arc</b> <b>Coverage</b>
       We import the Arcs and Label points, the module takes care to build areas.
       v.in.ogr input=gemeinden layer=LAB,ARC type=centroid,boundary output=mymap

   <b>E00</b> <b>file</b>
       See also <u>v.in.e00</u>.

       First  we  have  to  convert  the E00 file to an Arc Coverage with ’avcimport’ (AVCE00 tools, use <u>e00conv</u>
       first in case that <u>avcimport</u> fails):
       avcimport e00file coverage
       v.in.ogr input=coverage layer=LAB,ARC type=centroid,boundary output=mymap

   <b>SDTS</b> <b>files</b>
       You have to select the CATD file.
       v.in.ogr input=CITXCATD.DDF output=cities

   <b>TIGER</b> <b>files</b>
       v.in.ogr input=input/2000/56015/ layer=CompleteChain,PIP output=t56015_all \
       type=boundary,centroid snap=-1

   <b>PostGIS</b> <b>tables</b>
       Import polygons as areas:
       v.in.ogr input="PG:host=localhost dbname=postgis user=postgres" layer=polymap \
       output=polygons type=boundary,centroid
       If the table containing the polygons are in a specific schema, you can use:
       v.in.ogr input="PG:host=localhost dbname=postgis user=postgres" \
       layer=myschema.polymap \
       output=polygons type=boundary,centroid
       Generally, <u>v.in.ogr</u> just follows the format-specific syntax defined by the OGR library.

   <b>OpenStreetMap</b> <b>(OSM)</b>
       OSM data are available in .osm (XML based) and .pbf  (optimized  binary)  formats.  The  .pbf  format  is
       recommended because file sizes are smaller. The OSM driver will categorize features into 5 layers :

           •   <b>points</b>: "node" features that have significant tags attached.

           •   <b>lines</b>: "way" features that are recognized as non-area.

           •   <b>multilinestrings</b>:  "relation"  features  that  form a multilinestring(type = ’multilinestring’ or
               type = ’route’).

           •   <b>multipolygons</b>: "relation" features that form a multipolygon (type  =  ’multipolygon’  or  type  =
               ’boundary’), and "way" features that are recognized as area.

           •   <b>other_relations</b>: "relation" features that do not belong to any of the above layers.
       It  is  recommended  to import one layer at a time, and to select features with the <b>where</b> option, e.g. to
       import roads, use
       v.in.ogr where="highway &gt;&lt; ’’"
       i.e. the OSM tag <u>highway</u> must be set.

       When importing administrative boundaries from OSM, it is important  to  not  only  select  administrative
       boundaries, but also the admin level to be imported (valid range is 1 - 11), e.g. with
       v.in.ogr where="boundary = ’administrative’ and admin_level = ’1’"

       The OSM topological model differs from the GRASS topological model. OSM topologically correct connections
       of lines can be on all vertices of a line. During import, lines are automatically split at those vertices
       where an OSM connection to another line exists.

       Import  of OSM data requires a configuration file, defined with the OSM_CONFIG_FILE configuration option.
       In the data folder of the GDAL distribution, you can find a osmconf.ini file that can  be  customized  to
       fit  your  needs. See OSM map features for keys and their values. You should set "other_tags=no" to avoid
       problems with import or querying the imported vector. Once a OSM_CONFIG_FILE has been created,  OSM  data
       can be imported with e.g.
       export OSM_CONFIG_FILE=/path/to/osmconf.ini
       v.in.ogr input=name.pbf layer=lines output=osm_data

   <b>Oracle</b> <b>Spatial</b>
       Note  that  you  have to set the environment-variables ORACLE_BASE, ORACLE_SID, ORACLE_HOME and TNS_ADMIN
       accordingly.
       v.in.ogr input=OCI:username/password@database_instance output=grasslayer layer=roads_oci

   <b>Multiple</b> <b>geometry</b> <b>columns</b>
       This example shows how to work with data which contain multiple  geometry  per  feature.  The  number  of
       geometry columns per feature can be checked by <u>v.external</u> together with <b>-t</b> flag.
       v.external -t input=20141130_ST_UKSH.xml.gz
       ...
       Okresy,point,1,DefinicniBod
       Okresy,multipolygon,1,OriginalniHranice
       Okresy,multipolygon,1,GeneralizovaneHranice
       ...
       In  our  example  layer  "Okresy"  has  three  geometry  columns: "DefinicniBod", "OriginalniHranice" and
       "GeneralizovanaHranice". By default <u>v.in.ogr</u> reads data from all three geometry  columns.  The  user  can
       specify  desired geometry column by <b>geometry</b> option, in this case the module will read geometry only from
       the specified geometry column. In the example below, the output vector map  will  contain  only  geometry
       saved in "OriginalniHranice" geometry column.
       v.in.ogr input=20141130_ST_UKSH.xml.gz layer=Okresy geometry=OriginalniHranice

</pre><h4><b>WARNINGS</b></h4><pre>
       If a message like
       WARNING: Area size 1.3e-06, area not imported
       appears,  the  <b>min_area</b> may be adjusted to a smaller value so that all areas are imported. Otherwise tiny
       areas are filtered out during import (useful to polish digitization errors or non-topological data).

       If a message like
       Try to import again, snapping with at least 1e-008: ’snap=1e-008’
       appears, then the map to be imported contains topological errors. The message suggests a  value  for  the
       <u>snap</u> parameter to be tried. For more details, see above in <u>Topology</u> <u>Cleaning</u>.

</pre><h4><b>ERROR</b> <b>MESSAGES</b></h4><pre>
   <b>SQL</b> <b>syntax</b> <b>errors</b>
       Depending on the currently selected SQL driver, error messages such as follows may arise:
       DBMI-SQLite driver error:
       Error in sqlite3_prepare():
       near "ORDER": syntax error
       Or:
       DBMI-DBF driver error:
       SQL parser error:
       syntax error, unexpected DESC, expecting NAME processing ’DESC
       This  indicates that a column name in the input dataset corresponds to a reserved SQL word (here: ’ORDER’
       and ’DESC’ respectively). A different column name has to be used in this case. The <b>columns</b> parameter  can
       be  used  to  assign different column names on the fly in order to avoid using reserved SQL words.  For a
       list of SQL reserved words for SQLite (the default driver), see here.

   <b>Projection</b> <b>errors</b>
       Coordinate reference system of dataset does not appear to match the current project.
       Here you need to create or use a project whose CRS matches that of the vector data you  wish  to  import.
       Try  using  <b>project</b>  parameter  to  create  a  new project based upon the CRS information in the file. If
       desired, you can then reproject it to another project with <u>v.proj</u>.

</pre><h4><b>REFERENCES</b></h4><pre>
           •   OGR vector library

           •   OGR vector library C API documentation

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
        <u>db.connect,</u> <u>v.clean,</u> <u>v.extract,</u> <u>v.build.polylines,</u>  <u>v.edit,</u>  <u>v.external,</u>  <u>v.import,</u>  <u>v.in.db,</u>  <u>v.in.e00,</u>
       <u>v.out.ogr</u>

       GRASS GIS Wiki page: Import of Global datasets

</pre><h4><b>AUTHORS</b></h4><pre>
       Original author: Radim Blazek, ITC-irst, Trento, Italy
       Location and spatial extent support by Markus Neteler and Paul Kelly
       Various improvements by Markus Metz
       Multiple  geometry columns support by Martin Landa, OSGeoREL, Czech Technical University in Prague, Czech
       Republic

</pre><h4><b>SOURCE</b> <b>CODE</b></h4><pre>
       Available at: v.in.ogr source code (history)

       Accessed: Friday Apr 04 01:20:43 2025

       Main index | Vector index | Topics index | Keywords index | Graphical index | Full index

       © 2003-2025 GRASS Development Team, GRASS GIS 8.4.1 Reference Manual

GRASS 8.4.1                                                                                     <u><a href="../man1grass/v.in.ogr.1grass.html">v.in.ogr</a></u>(1grass)
</pre>
 </div>
</div></section>
</div>
</body>
</html>