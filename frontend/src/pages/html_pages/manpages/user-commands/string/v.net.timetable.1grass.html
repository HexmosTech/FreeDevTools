<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>v.net.timetable  - Finds shortest path using timetables.</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/grass-doc">grass-doc_8.4.1-1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       <b>v.net.timetable</b>  - Finds shortest path using timetables.

</pre><h4><b>KEYWORDS</b></h4><pre>
       vector, network, shortest path

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>v.net.timetable</b>
       <b>v.net.timetable</b> <b>--help</b>
       <b>v.net.timetable</b>   <b>input</b>=<u>name</u>    [<b>layer</b>=<u>string</u>]    <b>output</b>=<u>name</u>   [<b>arc_layer</b>=<u>string</u>]    [<b>node_layer</b>=<u>string</u>]
       [<b>arc_column</b>=<u>string</u>]      [<b>arc_backward_column</b>=<u>string</u>]      [<b>node_column</b>=<u>string</u>]       [<b>walk_layer</b>=<u>string</u>]
       <b>route_id</b>=<u>name</u>   <b>stop_time</b>=<u>name</u>   <b>to_stop</b>=<u>name</u>   <b>walk_length</b>=<u>name</u>   [--<b>overwrite</b>]   [--<b>help</b>]   [--<b>verbose</b>]
       [--<b>quiet</b>]  [--<b>ui</b>]

   <b>Flags:</b>
       <b>--overwrite</b>
           Allow output files to overwrite existing files

       <b>--help</b>
           Print usage summary

       <b>--verbose</b>
           Verbose module output

       <b>--quiet</b>
           Quiet module output

       <b>--ui</b>
           Force launching GUI dialog

   <b>Parameters:</b>
       <b>input</b>=<u>name</u> <b>[required]</b>
           Name of input vector map
           Or data source for direct OGR access

       <b>layer</b>=<u>string</u>
           Layer number or name
           Vector features can have category values in different layers. This number determines which  layer  to
           use. When used with direct OGR access this is the layer name.
           Default: <u>1</u>

       <b>output</b>=<u>name</u> <b>[required]</b>
           Name for output vector map

       <b>arc_layer</b>=<u>string</u>
           Arc layer
           Vector  features  can have category values in different layers. This number determines which layer to
           use. When used with direct OGR access this is the layer name.
           Default: <u>1</u>

       <b>node_layer</b>=<u>string</u>
           Node layer
           Vector features can have category values in different layers. This number determines which  layer  to
           use. When used with direct OGR access this is the layer name.
           Default: <u>2</u>

       <b>arc_column</b>=<u>string</u>
           Arc forward/both direction(s) cost column (number)

       <b>arc_backward_column</b>=<u>string</u>
           Arc backward direction cost column (number)

       <b>node_column</b>=<u>string</u>
           Node cost column (number)

       <b>walk_layer</b>=<u>string</u>
           Layer number or name with walking connections or -1
           A  single vector map can be connected to multiple database tables. This number determines which table
           to use. When used with direct OGR access this is the layer name.
           Default: <u>-1</u>

       <b>route_id</b>=<u>name</u> <b>[required]</b>
           Name of column with route ids
           Default: <u>route_id</u>

       <b>stop_time</b>=<u>name</u> <b>[required]</b>
           Name of column with stop timestamps
           Default: <u>stop_time</u>

       <b>to_stop</b>=<u>name</u> <b>[required]</b>
           Name of column with stop ids
           Default: <u>to_stop</u>

       <b>walk_length</b>=<u>name</u> <b>[required]</b>
           Name of column with walk lengths
           Default: <u>length</u>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <u>v.net.timetable</u> finds the shortest path between two points using timetables. <u>v.net.timetable</u> reads input,
       one query per line, from the standard input and writes output to the standard output as well  as  to  the
       <b>output</b>  map  and to tables linked to layers 1 and 2.  Each line of input must follow one of the following
       formats:
       PATH_ID FROM_X FROM_Y TO_X TO_Y START_TIME MIN_CHANGE MAX_CHANGES WALK_CHANGE
       PATH_ID FROM_STOP TO_STOP START_TIME MIN_CHANGE MAX_CHANGES WALK_CHANGE
       where PATH_ID is the identificator of a query that is used in the output  map  to  differentiate  between
       queries.  Search  begins  at  START_TIME. MIN_CHANGE gives the minimum number of time (inclusively) for a
       change from one route to another. MAX_CHANGES denotes the maximum number of  changes  allowed  or  -1  if
       infinity.   WALK_CHANGE  is  1 or 0 depending whether walking from a stop to another stop is considered a
       change or not. Finally, the path is found from FROM_STOP to TO_STOP in latter  case  and  from  the  stop
       closest to (FROM_X, FROM_Y) coordinates to the stop closest to (TO_X, TO_Y) coordinates in former case.
       For  each  input  query,  module  outputs  a description of the shortest path to the standard output. For
       example, using the tables given below, for the following input:
       47 130 300 0 1 5 0
       the following output is produced:
       Route 15, from 130 leaving at 15 arriving to 250 at 22
       Walk from 250 leaving at 22 arriving to 300 at 24
       Moreover, the module writes the path to the <b>output</b> map  and  stores  all  the  information  necessary  to
       reconstruct  the  path to the tables. Table corresponding to stops/points is linked to layer 1 and looks,
       after the query, as follows:
       cat|path_id|stop_id|index|arr_time|dep_time
       1|47|130|1|0|15
       2|47|250|2|22|22
       3|47|300|3|24|24
       where CAT is the category of a point in the map, PATH_ID  is  the  path  identificator,  STOP_ID  is  the
       identificator  of  the  stop  as  used in the input map, INDEX is the index of the stop on the path (i.e,
       index=1 is the first stop visited, ...) and ARR_TIME and DEP_TIME denote the arrival time  and  departure
       time  respectively.  Arrival  time  for  the  first  stop  on  the path is always equal to START_TIME and
       departure time for the last stop is always equal to the arrival time.
       The table linked to the second layer corresponds to subroutes taken between stops. The following table is
       obtainedd for the above query:
       cat|path_id|from_id|to_id|route_id|index|from_time|to_time
       1|47|130|250|15|1|15|22
       2|47|250|300|-1|2|22|24
       where CAT is the category of  lines  of  subroute  between  stops  FROM_ID  to  TO_ID,  ROUTE_ID  is  the
       identificator  of  the  route  taken  or  -1 if walking, INDEX and PATH_ID are as above and FROM_TIME and
       TO_TIME denote the times between which the route is taken.
       The <b>output</b> map contains the points on the positions of used stops. If a subroute  is  taken  between  two
       stops  then  a  line segment is added between two corresponding points. Finally, instead of straight line
       segment, the actual paths of routes can be given in <b>paths</b> layer. If this parameter is used then each line
       in the input map must contain identificators as category numbers of all routes passing through the  line.
       The  module  then  finds the path between two stops and writes this path instead. In case of walking from
       one stop to another, straight line between the stops is used.

</pre><h4><b>NOTES</b></h4><pre>
       Timetables are stored in a table linked to the given <b>layer</b> of the <b>input</b> map. Timetable consists of routes
       and each route is just a sequence of stops with specified arrival times. If two sequences of stops differ
       only in times then they still correspond to two routes. For example, if there is a bus line  that  leaves
       every  20  minutes  and  follow  exactly the same path every time then there still needs to be a separate
       route for every time. For each stop (given by the  category  number  of  the  point)  the  table  storing
       information  about  the  routes  must  contain the list of all routes stopping at the stop(given by route
       identificators) together with arrival times. That is, the table must contain three columns: stop -  which
       is  the  key  of the table, <b>route_id</b> and <b>stop_time</b> where each triple corresponds to a route arriving to a
       stop and a certain time. For example, a valid table might look as follows:
       cat|route_id|stop_time
       100|5|0
       130|5|10
       150|5|20
       250|5|30
       300|5|40
       260|15|5
       130|15|15
       250|15|22
       150|35|17
       250|35|27
       300|35|37
       100|35|50
       Note that <b>stop_time</b> is an integer and so you can use any units and offset to specify arrival times.
       Also, walking connections between stops can be given by a table linked to <b>walking</b> layer of the <b>input</b> map.
       If this parameter is -1 then walking between stops is not allowed. The table must contain three  columns:
       stop - which is the key of the table, <b>to_stop</b> and <b>length</b>. A record in the table says that it takes <b>length</b>
        units of time to walk from stop to <b>to_stop</b>. The following is a valid table:
       cat|length|to_stop
       250|2|300
       Beware  that  this only means that it is possible to walk from stop 250 to stop 300 but not the other way
       round.

</pre><h4><b>EXAMPLES</b></h4><pre>
       To find a path from stop with identificator 130 to stop with category 300, starting at time 0,  with  one
       time  unit for change, maximum of 5 changes and with walking not considered a change of route, we use the
       following command:
       echo "47 130 300 0 1 5 0" | v.net.timetable \
            input=buses output=path layer=5 walking=6 path=7
       If, on the other hand, we know the coordinates of the places then the following command might be used:
       echo "47 10.31 54.31 90.21 28.21 0 1 5 0" | v.net.timetable \
            input=buses output=path layer=5 walking=6 path=7

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
        <u>v.net,</u> <u>v.net.path,</u> <u>v.net.distance</u>

</pre><h4><b>AUTHORS</b></h4><pre>
       Daniel Bundala, Google Summer of Code 2009, Student
       Wolf Bergenheim, Mentor

</pre><h4><b>SOURCE</b> <b>CODE</b></h4><pre>
       Available at: v.net.timetable source code (history)

       Accessed: Friday Apr 04 01:20:28 2025

       Main index | Vector index | Topics index | Keywords index | Graphical index | Full index

       © 2003-2025 GRASS Development Team, GRASS GIS 8.4.1 Reference Manual

GRASS 8.4.1                                                                              <u><a href="../man1grass/v.net.timetable.1grass.html">v.net.timetable</a></u>(1grass)
</pre>
 </div>
</div></section>
</div>
</body>
</html>