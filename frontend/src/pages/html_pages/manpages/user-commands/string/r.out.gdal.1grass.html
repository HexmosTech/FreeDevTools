<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>r.out.gdal  - Exports GRASS raster maps into GDAL supported formats.</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/grass-doc">grass-doc_8.4.1-1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       <b>r.out.gdal</b>  - Exports GRASS raster maps into GDAL supported formats.

</pre><h4><b>KEYWORDS</b></h4><pre>
       raster, export, output

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>r.out.gdal</b>
       <b>r.out.gdal</b> <b>--help</b>
       <b>r.out.gdal</b> [-<b>lcmtf</b>] <b>input</b>=<u>name</u> <b>output</b>=<u>name</u> <b>format</b>=<u>string</u>  [<b>type</b>=<u>string</u>]   [<b>createopt</b>=<u>string</u>[,<u>string</u>,...]]
       [<b>metaopt</b>=<u>string</u>[,<u>string</u>,...]]    [<b>nodata</b>=<u>float</u>]    [<b>overviews</b>=<u>integer</u>]    [<b>offset</b>=<u>float</u>]    [<b>scale</b>=<u>float</u>]
       [--<b>overwrite</b>]  [--<b>help</b>]  [--<b>verbose</b>]  [--<b>quiet</b>]  [--<b>ui</b>]

   <b>Flags:</b>
       <b>-l</b>
           List supported output formats

       <b>-c</b>
           Do not write GDAL standard colortable
           Only applicable to Byte or UInt16 data types

       <b>-m</b>
           Do not write non-standard metadata
           Enhances compatibility with other GIS software

       <b>-t</b>
           Write raster attribute table
           Some export formats may not be supported

       <b>-f</b>
           Force raster export despite any warnings of data loss
           Overrides nodata safety check

       <b>--overwrite</b>
           Allow output files to overwrite existing files

       <b>--help</b>
           Print usage summary

       <b>--verbose</b>
           Verbose module output

       <b>--quiet</b>
           Quiet module output

       <b>--ui</b>
           Force launching GUI dialog

   <b>Parameters:</b>
       <b>input</b>=<u>name</u> <b>[required]</b>
           Name of raster map (or group) to export

       <b>output</b>=<u>name</u> <b>[required]</b>
           Name for output raster file

       <b>format</b>=<u>string</u> <b>[required]</b>
           Raster data format to write (case sensitive, see also -l flag)
           Options: <u>VRT,</u> <u>GTiff,</u> <u>COG,</u> <u>NITF,</u> <u>HFA,</u> <u>ELAS,</u> <u>AAIGrid,</u> <u>DTED,</u>  <u>PNG,</u>  <u>JPEG,</u>  <u>MEM,</u>  <u>GIF,</u>  <u>FITS,</u>  <u>XPM,</u>  <u>BMP,</u>
           <u>PCIDSK,</u>  <u>PCRaster,</u>  <u>ILWIS,</u>  <u>SGI,</u>  <u>SRTMHGT,</u> <u>Leveller,</u> <u>Terragen,</u> <u>netCDF,</u> <u>HDF4Image,</u> <u>ISIS3,</u> <u>ISIS2,</u> <u>PDS4,</u>
           <u>VICAR,</u> <u>ERS,</u> <u>JP2OpenJPEG,</u> <u>FIT,</u> <u>GRIB,</u> <u>RMF,</u> <u>WMS,</u> <u>RST,</u> <u>GSAG,</u> <u>GSBG,</u> <u>GS7BG,</u> <u>R,</u> <u>KMLSUPEROVERLAY,</u> <u>WEBP,</u>  <u>PDF,</u>
           <u>Rasterlite,</u>  <u>MBTiles,</u>  <u>CALS,</u>  <u>WMTS,</u> <u>MRF,</u> <u>PNM,</u> <u>PAux,</u> <u>MFF,</u> <u>MFF2,</u> <u>BT,</u> <u>LAN,</u> <u>LCP,</u> <u>GTX,</u> <u>NTv2,</u> <u>CTable2,</u> <u>KRO,</u>
           <u>ROI_PAC,</u> <u>RRASTER,</u> <u>BYN,</u> <u>USGSDEM,</u> <u>BAG,</u> <u>NWT_GRD,</u> <u>ADRG,</u> <u>BLX,</u> <u>PostGISRaster,</u> <u>SAGA,</u> <u>XYZ,</u> <u>HF2,</u> <u>ZMap,</u> <u>SIGDEM,</u>
           <u>AVIF,</u> <u>GPKG,</u> <u>OpenFileGDB,</u> <u>NGW,</u> <u>ENVI,</u> <u>EHdr,</u> <u>ISCE,</u> <u>Zarr</u>
           Default: <u>GTiff</u>

       <b>type</b>=<u>string</u>
           Data type
           Options: <u>Byte,</u> <u>Int16,</u> <u>UInt16,</u> <u>Int32,</u> <u>UInt32,</u> <u>Float32,</u> <u>Float64,</u> <u>CInt16,</u> <u>CInt32,</u> <u>CFloat32,</u> <u>CFloat64</u>

       <b>createopt</b>=<u>string[,string</u>,...]
           Creation option(s) to pass to the output format driver
           In the form of "NAME=VALUE", separate multiple entries with a comma

       <b>metaopt</b>=<u>string[,string</u>,...]
           Metadata key(s) and value(s) to include
           In the form of "META-TAG=VALUE", separate multiple entries with a comma. Not supported by all  output
           format drivers.

       <b>nodata</b>=<u>float</u>
           Assign a specified nodata value to output bands
           If given, the nodata value is always written to metadata even if there are no NULL cells in the input
           band (enhances output compatibility).

       <b>overviews</b>=<u>integer</u>
           Number of overviews to create for the output dataset
           Options: <u>0-5</u>
           Default: <u>0</u>

       <b>offset</b>=<u>float</u>
           Assign a specified offset value to output bands

       <b>scale</b>=<u>float</u>
           Assign a specified scale value to output bands

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <u>r.out.gdal</u> allows a user to export a GRASS raster map layer into any GDAL supported raster map format. If
       a  GRASS  raster  map  is exported for a particular application, the application’s native format would be
       preferable. GeoTIFF is supported by a wide range of applications (see also <b>NOTES</b> on GeoTIFF below).

       To specify multiple creation options use a comma separated list (<u>createopt="TFW=YES,COMPRESS=DEFLATE"</u>).

       For possible <u>createopt</u> and <u>metaopt</u> parameters please consult the individual supported  formats  pages  on
       the   GDAL   website.    The   <u>createopt</u>   parameter   may   be   used  to  create  TFW  or  World  files
       ("TFW=YES","WORLDFILE=ON").

       <u>r.out.gdal</u> also supports the export of multiband rasters as a group, when the  imagery  group’s  name  is
       entered as input.  (created imagery groups with the <u>i.group</u> module)

       As  with most GRASS raster modules, the current region extents and region resolution are used, and a MASK
       is respected if present.  Use <u>g.region</u>’s "align=", or "raster=" options if you need to realign the region
       settings to match the original map’s before export.

</pre><h4><b>SUPPORTED</b> <b>RASTER</b> <b>FORMATS</b></h4><pre>
       The set of supported raster formats written by <u>r.out.gdal</u> depends on the local GDAL installation, printed
       with the <u>-l</u> flag. Available may be (incomplete list):

         AAIGrid: Arc/Info ASCII Grid
         BMP: MS Windows Device Independent Bitmap
         BSB: Maptech BSB Nautical Charts
         DTED: DTED Elevation Raster
         ELAS: ELAS
         ENVI: ENVI .hdr Labelled
         FIT: FIT Image
         GIF: Graphics Interchange Format (.gif)
         GTiff: GeoTIFF
         HDF4Image: HDF4 Dataset
         HFA: Erdas Imagine Images (.img)
         JPEG2000: JPEG-2000 part 1 (ISO/IEC 15444-1)
         JPEG: JPEG JFIF
         MEM: In Memory Raster
         MFF2: Atlantis MFF2 (HKV) Raster
         MFF: Atlantis MFF Raster
         NITF: National Imagery Transmission Format
         PAux: PCI .aux Labelled
         PCIDSK: PCIDSK Database File
         PNG: Portable Network Graphics
         PNM: Portable Pixmap Format (netpbm)
         VRT: Virtual Raster
         XPM: X11 PixMap Format

</pre><h4><b>NOTES</b></h4><pre>
       Out of the GDAL data types, the closest match for GRASS CELL, FCELL and DCELL  rasters  are  respectively
       Int32,  Float32 and Float64. These are not exact equivalents, but they will preserve the maximum possible
       data range and number of decimal places for each respective GRASS raster data type.  Please keep in  mind
       that  not  all  CELL rasters will require Int32 - e.g., 0-255 CELL raster are covered by the Byte <u>type</u> as
       well.  Moreover, some GDAL-supported formats do not support all the  data  types  possible  in  GDAL  and
       GRASS.  Use  <u>r.info</u>  to  check  the  data  type and range for your GRASS raster, refer to specific format
       documentation (on the GDAL website), format  vendor’s  documentation,  and  e.g.  the  Wikipedia  article
       <u>Typical</u> <u>boundaries</u> <u>of</u> <u>primitive</u> <u>integral</u> <u>types</u> for details.

   <b>Ranges</b> <b>of</b> <b>GDAL</b> <b>data</b> <b>types</b>
         GDAL data type        minimum      maximum
         Byte                     0        255
         UInt16                   0     65,535
         Int16, CInt16         -32,768       32,767
         UInt32                   0    4,294,967,295
         Int32, CInt32  -2,147,483,648    2,147,483,647
         Float32, CFloat32          -3.4E38       3.4E38
         Float64, CFloat64        -1.79E308         1.79E308

       If  there  is  a need to keep file sizes small, use the simplest data type covering the data range of the
       raster(s) to be exported, e.g., if suitable use Byte rather than UInt16; use Int16 rather than Int32;  or
       use Float32 rather than Float64. In addition, the COMPRESS <b>createopt</b> used can have a very large impact on
       the size of the output file.

       Some  software  may  not  recognize all of the compression methods available for a given file format, and
       certain compression methods may only be supported for certain data types (depends on vendor and version).

       If the export settings are set such that data loss would occur in  the  output  file  (i.e,  due  to  the
       particular  choice  of data type and/or file type), the normal behaviour of <u>r.out.gdal</u> in this case would
       be to issue an error message describing the problem and exit without exporting. The <b>-f</b> flag allows raster
       export even if some of the data loss tests are not passed, and warnings are issued instead of errors.

       <u>r.out.gdal</u> exports may appear all black or gray on initial display in other GIS software. This is  not  a
       bug  of  <u>r.out.gdal</u>,  but often caused by the default color table assigned by that software.  The default
       color table may be grayscale covering the whole range of possible values which is  very  large  for  e.g.
       Int32  or  Float32.  E.g.   stretching  the  color  table  to  actual min/max would help (sometimes under
       symbology).

   <b>Adding</b> <b>overviews</b> <b>to</b> <b>speed</b> <b>up</b> <b>map</b> <b>display</b> <b>in</b> <b>other</b> <b>software</b>
       Adding overviews with gdaladdo after exporting can speed up display. The overviews are created internally
       within the exported file. The amount of levels (power-of-two factors) are controlled with  the  <b>overviews</b>
       parameter. The higher the overview level defined by the user the more lower resolution internal overviews
       are added Note that other software might create their own overviews, ignoring existing overviews.

   <b>GeoTIFF</b> <b>caveats</b>
       GeoTIFF exports can only be displayed by standard image viewers if the GDAL data type was set to Byte and
       the GeoTIFF contains either one or three bands. All other data types and numbers of bands can be properly
       read  with  GIS  software only. Although GeoTIFF files usually have a .tif extension, these files are not
       necessarily images but first of all spatial raster datasets, e.g. land cover or elevation.

       When writing out multi-band GeoTIFF images for users of ESRI software or  ImageMagick,  the  interleaving
       mode  should  be  set  to  "pixel" using <u>createopt="INTERLEAVE=PIXEL"</u>. BAND interleaving is slightly more
       efficient, but not supported by some applications.  This issue only arises when  writing  out  multi-band
       imagery groups.

       Classic  TIFF  format  supports only files with up to 4GB. Files that exceed this limit (in compressed or
       uncompressed form) need to be exported with <u>createopt="BIGTIFF=YES"</u>. BIGTIFF  is  available  if  GDAL  is
       built with libtiff &amp;= 4.0.

   <b>Improving</b> <b>GeoTIFF</b> <b>compatibility</b>
       To create a GeoTIFF that is highly compatible with various other GIS software packages, it is recommended
       to  keep  the  GeoTIFF  file  as  simple as possible. You will have to experiment with which options your
       software is compatible with, as this varies widely between vendors and  versions.  Long  term,  the  less
       metadata you have to remove the more self-documenting (and useful) the dataset will be.

       Here are some things to try:

           •   Create a World file with createopt="TFW=YES".

           •   Do  not  use GeoTIFF internal compression. Other GIS software often supports only a subset of the
               available compression methods with the supported methods differing between GIS software packages.
               Unfortunately this means the output image can be rather huge, but the file can be compressed with
               software like zip, gnuzip, or bzip2.

           •   Skip exporting the color table. Color tables are not always properly rendered,  particularly  for
               type  UInt16,  and the GeoTIFF file can appear completely black. If you are lucky the problematic
               software package has a method to reset the color table and assign a new  color  table  (sometimes
               called symbology).

           •   Keep  metadata  simple  with  createopt="PROFILE=GeoTIFF"  or  createopt="PROFILE=BASELINE". With
               BASELINE  no  GDAL  or  GeoTIFF  tags  will  be  written   and   a   World   file   is   required
               (<u>createopt="TFW=YES"</u>).

   <b>Offset/scale</b> <b>parameters</b>
       Offset is only relevant if not zero. Scale is only relevant if not 1.

</pre><h4><b>EXAMPLES</b></h4><pre>
   <b>Export</b> <b>the</b> <b>integer</b> <b>raster</b> <b>basin_50K</b> <b>map</b> <b>to</b> <b>GeoTIFF</b> <b>format</b>
       See also GeoTIFF format description (GDAL):
       g.region raster=basin_50K -p
       r.out.gdal input=basin_50K output=basin_50K.tif

   <b>Export</b> <b>the</b> <b>integer</b> <b>raster</b> <b>landclass96</b> <b>map</b> <b>to</b> <b>Cloud</b> <b>Optimized</b> <b>GeoTIFF</b> <b>format</b>
       See also Cloud Optimized GeoTIFF (COG) format description (GDAL):
       g.region -p raster=landclass96
       r.out.gdal -fmt input=landclass96 output=landclass96.tif format=COG overviews=4

   <b>Export</b> <b>a</b> <b>DCELL</b> <b>raster</b> <b>map</b> <b>in</b> <b>GeoTIFF</b> <b>format</b> <b>suitable</b> <b>for</b> <b>ESRI</b> <b>software</b>
       g.region raster=elevation -p
       r.out.gdal in=elevation output=elevation.tif createopt="PROFILE=GeoTIFF,TFW=YES"

   <b>Export</b> <b>a</b> <b>raster</b> <b>map</b> <b>in</b> <b>"Deflate"</b> <b>compressed</b> <b>GeoTIFF</b> <b>format</b>
       g.region raster=elevation -p
       r.out.gdal in=elevation output=elevation.tif createopt="COMPRESS=DEFLATE"

   <b>Export</b> <b>a</b> <b>large</b> <b>raster</b> <b>map</b> <b>in</b> <b>LZW</b> <b>compressed</b> <b>(Big)</b> <b>GeoTIFF</b> <b>format</b>
       # integer map export
       g.region raster=zipcodes -p
       # Using PREDICTOR 2 for integer maps can further reduce file size
       r.out.gdal in=zipcodes output=zipcodes.tif createopt="COMPRESS=LZW,PREDICTOR=2,BIGTIFF=YES"
       # floating point map export
       g.region raster=elevation -p
       # Using PREDICTOR 3 for floating point data can further reduce file size
       r.out.gdal in=elevation output=elevation.tif createopt="COMPRESS=LZW,PREDICTOR=3,BIGTIFF=YES"

   <b>Export</b> <b>a</b> <b>raster</b> <b>map</b> <b>with</b> <b>internal</b> <b>overview</b> <b>in</b> <b>"Deflate"</b> <b>compressed</b> <b>GeoTIFF</b> <b>format</b>
       g.region raster=elevation -p
       # overviews=5 corresponds to ’gdaladdo ... 2 4 8 16 32’
       r.out.gdal in=elevation output=elevation.tif createopt="COMPRESS=DEFLATE" overviews=5

   <b>Export</b> <b>R,G,B</b> <b>imagery</b> <b>bands</b> <b>in</b> <b>GeoTIFF</b> <b>format</b> <b>suitable</b> <b>for</b> <b>ESRI</b> <b>software</b>
       i.group group=nc_landsat_rgb input=lsat7_2002_30,lsat7_2002_20,lsat7_2002_10
       g.region raster=lsat7_2002_30 -p
       r.out.gdal in=nc_landsat_rgb output=nc_landsat_rgb.tif type=Byte \
         createopt="PROFILE=GeoTIFF,INTERLEAVE=PIXEL,TFW=YES"

   <b>Export</b> <b>group</b> <b>of</b> <b>image</b> <b>maps</b> <b>as</b> <b>multi-band</b> <b>file</b>
       g.list group
       i.group group=tm7 subgroup=tm7 input=tm7_10,tm7_20,tm7_30,tm7_40,tm7_50,tm7_60,tm7_70
       i.group -l tm7
       g.region raster=tm7_10 -p
       r.out.gdal tm7 output=lsat_multiband.tif
       gdalinfo lsat_multiband.tif

   <b>Export</b> <b>RGB</b> <b>with</b> <b>alpha</b> <b>channel</b> <b>that</b> <b>encodes</b> <b>NULL</b> <b>cells</b>
       When  exporting  exporting  RGB  data rather than GIS data for Web applications or generally the scope of
       visualization, the alpha channel is of use. Here the export type is commonly the Byte data type.

       When exporting data with <u>r.out.gdal</u>, assigning a <b>nodata</b> value (specific parameter of  the  module)  means
       that  any band values equal to this nodata value will be interpreted as nodata. Using an additional alpha
       channel means that all pixels with an alpha value of 0 are transparent. The alpha channel thus represents
       per-pixel encoding of nodata, just like the GRASS MASK (null  file).  That  means  when  using  an  alpha
       channel, you do not need to "free up" any particular value, but you can use any value you like to replace
       NULL  cells,  as  long  as the value can be represented by the Byte data type. It does not matter if that
       value is already present in any of the input bands.

       Hence for "visual-only" RGB data export it is needed to create an additional alpha channel  that  encodes
       all NULL cells and in the RGB bands to be exported replace NULL cells with some value in the range 0-255.
       For example:

       # for simplicity variables are used
       RMAP="lsat7_2000_30"
       GMAP="lsat7_2000_20"
       BMAP="lsat7_2000_10"
       OUTNAME="lsat7_2000_RGBA.tif"
       # extract alpha
       r.mapcalc "out_a = if(isnull($RMAP) || isnull($GMAP) || isnull($BMAP), 0, 255)"
       # replace NULL cells with a valid value, extract colors
       # exporting 8 bit RGB data, not GIS data, therefore the `#` operator:
       r.mapcalc "out_r = if(isnull($RMAP), 0, #$RMAP)"
       r.mapcalc "out_g = if(isnull($GMAP), 0, #$GMAP)"
       r.mapcalc "out_b = if(isnull($BMAP), 0, #$BMAP)"
       # create group for export
       i.group group=out_rgba input=out_r,out_g,out_b,out_a
       # remove any MASK because this works only if there are
       # no NULL cells in the bands to be exported
       r.mask -r
       # export the group:
       # add PROFILE=BASELINE to createopt to produce a standard TIFF file
       # without any GTiff extensions
       r.out.gdal input=out_rgba output=$OUTNAME -cm createopt="PHOTOMETRIC=RGB,ALPHA=YES"
       gdalinfo $OUTNAME
       The resulting GeoTIFF file can be used e.g. for Web server applications.

   <b>Export</b> <b>the</b> <b>floating</b> <b>point</b> <b>raster</b> <b>elevation</b> <b>map</b> <b>to</b> <b>ERDAS/IMG</b> <b>format</b>
       See also Erdas Imagine .img format description (GDAL):
       g.region raster=elevation -p
       r.out.gdal input=elevation output=elelevation.img format=HFA type=Float32

   <b>Export</b> <b>raster</b> <b>map</b> <b>with</b> <b>offset/scale</b> <b>assigned</b>
       An offset value can be assigned to output raster data by <b>offset</b> parameter. Similarly a scale value can be
       assigned by <b>scale</b> parameter.
       # produce raster map
       g.region n=100 s=0 e=100 w=0 res=1
       r.random.cells output=random distance=1.0
       r.info -r random
       # export raster data with offset/scale assigned
       r.out.gdal input=random output=random.tif offset=100 scale=0.01
       Check result by <u>gdalinfo</u> command line tool:
       gdalinfo random.tif
       ...
       Band 1 Block=100x40 Type=UInt16, ColorInterp=Palette
         Description = random
           Computed Min/Max=1.000,3661.000
         NoData Value=65535
         Offset: 100,   Scale:0.01
       ...

</pre><h4><b>GDAL</b> <b>RELATED</b> <b>ERROR</b> <b>MESSAGES</b></h4><pre>
           •   "ERROR  6:  SetColorInterpretation() not supported for this dataset.": This <u>may</u> indicate that the
               color table was not written properly.  But usually it will be correct  and  the  message  can  be
               ignored.

           •   "ERROR  6: SetNoDataValue() not supported for this dataset.": The selected output format does not
               support "no data". It is recommended to use a different  output  format  if  your  data  contains
               NULLs.

           •   "Warning  1:  Lost  metadata  writing  to  GeoTIFF ... too large to fit in tag.": The color table
               metadata may be too large. It is recommended to simplify or not write the color table, or  use  a
               different output format or the flags <b>-c</b> and <b>-m</b>.

</pre><h4><b>REFERENCES</b></h4><pre>
       GDAL Pages: https://gdal.org

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       GDAL supported raster formats and GDAL supported vector formats

        <u>r.out.ascii,</u> <u>r.out.bin,</u> <u>r.out.mat,</u> <u>r.out.png,</u> <u>r.out.ppm,</u> <u>r.pack</u>

</pre><h4><b>AUTHORS</b></h4><pre>
       Vytautas Vebra (oliver4grass at gmail.com)
       Markus Metz (improved nodata logic)

</pre><h4><b>SOURCE</b> <b>CODE</b></h4><pre>
       Available at: r.out.gdal source code (history)

       Accessed: Friday Apr 04 01:19:18 2025

       Main index | Raster index | Topics index | Keywords index | Graphical index | Full index

       © 2003-2025 GRASS Development Team, GRASS GIS 8.4.1 Reference Manual

GRASS 8.4.1                                                                                   <u><a href="../man1grass/r.out.gdal.1grass.html">r.out.gdal</a></u>(1grass)
</pre>
 </div>
</div></section>
</div>
</body>
</html>