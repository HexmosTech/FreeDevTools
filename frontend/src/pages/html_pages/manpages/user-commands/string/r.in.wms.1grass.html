<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>r.in.wms  - Downloads and imports data from OGC WMS and OGC WMTS web mapping servers.</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/grass-doc">grass-doc_8.4.1-1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       <b>r.in.wms</b>  - Downloads and imports data from OGC WMS and OGC WMTS web mapping servers.

</pre><h4><b>KEYWORDS</b></h4><pre>
       raster, import, OGC web services, OGC WMS, OGC WMTS

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>r.in.wms</b>
       <b>r.in.wms</b> <b>--help</b>
       <b>r.in.wms</b>   [-<b>cob</b>]   <b>url</b>=<u>string</u>   <b>output</b>=<u>name</u>   <b>layers</b>=<u>string</u>[,<u>string</u>,...]    [<b>styles</b>=<u>string</u>[,<u>string</u>,...]]
       [<b>format</b>=<u>string</u>]      [<b>srs</b>=<u>integer</u>]      [<b>driver</b>=<u>string</u>]      [<b>wms_version</b>=<u>string</u>]       [<b>maxcols</b>=<u>integer</u>]
       [<b>maxrows</b>=<u>integer</u>]      [<b>urlparams</b>=<u>string</u>]     [<b>username</b>=<u>string</u>]     [<b>password</b>=<u>string</u>]     [<b>method</b>=<u>string</u>]
       [<b>gdal_createopt</b>=<u>string</u>[,<u>string</u>,...]]        [<b>region</b>=<u>string</u>]        [<b>bgcolor</b>=<u>string</u>]        [<b>proxy</b>=<u>string</u>]
       [<b>proxy_user_pw</b>=<u>string</u>]    [<b>capfile</b>=<u>name</u>]    [<b>capfile_output</b>=<u>name</u>]    [--<b>overwrite</b>]  [--<b>help</b>]  [--<b>verbose</b>]
       [--<b>quiet</b>]  [--<b>ui</b>]

   <b>Flags:</b>
       <b>-c</b>
           Get the server capabilities, print them out, then exit

       <b>-o</b>
           Do not request transparent data

       <b>-b</b>
           Keep original bands (default: create composite)

       <b>--overwrite</b>
           Allow output files to overwrite existing files

       <b>--help</b>
           Print usage summary

       <b>--verbose</b>
           Verbose module output

       <b>--quiet</b>
           Quiet module output

       <b>--ui</b>
           Force launching GUI dialog

   <b>Parameters:</b>
       <b>url</b>=<u>string</u> <b>[required]</b>
           Typically starts with "http://"

       <b>output</b>=<u>name</u> <b>[required]</b>
           Name for output raster map

       <b>layers</b>=<u>string[,string</u>,...] <b>[required]</b>
           Layer(s) to request from the map server

       <b>styles</b>=<u>string[,string</u>,...]
           Layer style(s) to request from the map server

       <b>format</b>=<u>string</u>
           Image format requested from the server
           Options: <u>geotiff,</u> <u>tiff,</u> <u>jpeg,</u> <u>gif,</u> <u>png,</u> <u>png8</u>
           Default: <u>png</u>

       <b>srs</b>=<u>integer</u>
           EPSG code of requested source projection
           Default: <u>4326</u>

       <b>driver</b>=<u>string</u>
           Driver used for communication with the server
           Options: <u>WMS_GDAL,</u>  <u>WMS_GRASS,</u>  <u>WMTS_GRASS,</u>  <u>OnEarth_GRASS</u>
           Default: <u>WMS_GRASS</u>
           <b>WMS_GDAL</b>: Download data using GDAL WMS driver
           <b>WMS_GRASS</b>: Download data using native GRASS-WMS driver
           <b>WMTS_GRASS</b>: Download data using native GRASS-WMTS driver
           <b>OnEarth_GRASS</b>: Download data using native GRASS-OnEarth driver

       <b>wms_version</b>=<u>string</u>
           WMS standard version
           Options: <u>1.1.0,</u> <u>1.1.1,</u> <u>1.3.0</u>
           Default: <u>1.1.1</u>

       <b>maxcols</b>=<u>integer</u>
           Maximum columns to request at a time
           Default: <u>512</u>

       <b>maxrows</b>=<u>integer</u>
           Maximum rows to request at a time
           Default: <u>512</u>

       <b>urlparams</b>=<u>string</u>
           Additional query parameters to pass to the server

       <b>username</b>=<u>string</u>
           Username for server connection

       <b>password</b>=<u>string</u>
           Password for server connection

       <b>method</b>=<u>string</u>
           Interpolation method to use in reprojection
           Options: <u>nearest,</u> <u>linear,</u> <u>cubic,</u> <u>cubicspline</u>
           Default: <u>nearest</u>

       <b>gdal_createopt</b>=<u>string[,string</u>,...]
           GDAL creation option(s) to pass to the output format driver
           In the form of "NAME=VALUE", separate multiple entries with a comma

       <b>region</b>=<u>string</u>
           Request data for this named region instead of the current region bounds

       <b>bgcolor</b>=<u>string</u>
           Background color
           Format: 0xRRGGBB

       <b>proxy</b>=<u>string</u>
           HTTP proxy only GDAL driver (GDAL_HTTP_PROXY)
           HTTP proxy

       <b>proxy_user_pw</b>=<u>string</u>
           User and password for HTTP proxy only for GDAL driver (GDAL_HTTP_PROXYUSERPWD). Must be in  the  form
           of [user name]:[password].
           User and password for HTTP proxy

       <b>capfile</b>=<u>name</u>
           Capabilities file to parse (input). It is relevant for WMTS_GRASS and OnEarth_GRASS drivers

       <b>capfile_output</b>=<u>name</u>
           File where the server capabilities will be saved (’c’ flag)

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <u>r.in.wms</u>  handles  all  of  downloading  and  importing raster data from OGC WMS and OGC WMTS web mapping
       servers. It only needs be told the desired data to collect (bounds and  resolution)  via  a  region,  the
       server  to  get the data from, and the layer or layers to get. It downloads the data in tiles, reprojects
       it, imports it, and patches it back together.

</pre><h4><b>NOTES</b></h4><pre>
       To understand the data you are getting it is necessary to look at the capabilities  of  the  WMS  server.
       This should be available via a capabilities request (see examples)

       If possible, the EPSG code of the current project should be used with the <b>srs</b> option to avoid unnecessary
       reprojection.

       When  using  GDAL  WMS driver (<b>driver=WMS_GDAL</b>), the GDAL library needs to be built with WMS support, see
       GDAL WMS manual page for details.

   <b>Tiled</b> <b>WMS</b>
       Into the parameter <b>layers</b> the name of the <u>TiledGroup</u> need to be inserted from  Tile  Service  file.  Time
       variable can be specified in <b>urlparams</b> parameter, e.g: urlparams=’time=2012-1-1’.

</pre><h4><b>EXAMPLES</b></h4><pre>
   <b>General</b> <b>Get</b> <b>Capabilities</b> <b>Request</b>
       # Topographic WMS with OpenStreetMap by mundialis
       r.in.wms -c url="https://ows.mundialis.de/services/service?"
       r.in.wms -c url="https://ows.mundialis.de/services/service?" | grep Name
       # Czech WMS
       r.in.wms -c url="https://wms.cuzk.cz/wms.asp"

   <b>Download</b> <b>raster</b> <b>data</b> <b>from</b> <b>WMS</b> <b>server</b> <b>(GetMap</b> <b>request)</b>
   <b>Open</b> <b>Street</b> <b>Map</b>
       # OSM, using WMS_GRASS driver
       g.region n=90 s=-90 w=-180 e=180 res=0:10:00 -p
       r.in.wms url="<a href="http://watzmann-geog.urz.uni-heidelberg.de/cached/osm">http://watzmann-geog.urz.uni-heidelberg.de/cached/osm</a>" layers=osm_auto:all output=osm format=png
       r.info osm
       # OSM Overlay WMS (can be used as an overlay for other maps)
       r.in.wms url="<a href="http://ows.mundialis.de/services/service">http://ows.mundialis.de/services/service</a>?" layer=OSM-Overlay-WMS output=osm_overlay format=png
       # TOPO-OSM-WMS
       r.in.wms url="<a href="http://ows.mundialis.de/services/service">http://ows.mundialis.de/services/service</a>?" layer=TOPO-OSM-WMS output=topo_osm format=png
       r.info topo_osm
       # TOPO-WMS
       r.in.wms url="<a href="http://ows.mundialis.de/services/service">http://ows.mundialis.de/services/service</a>?" layer=TOPO-WMS output=topo format=png
       r.info topo

       More  OSM  WMS  servers  can  be  found online, e.g. on the OSM wiki in a OSM WMS Servers list and on the
       WORLD_OSM_WMS page.

   <b>Countries</b> <b>and</b> <b>coastlines</b>
       # using WMS_GRASS driver
       r.in.wms url="<a href="http://www2.demis.nl/WMS/wms.asp">http://www2.demis.nl/WMS/wms.asp</a>" layers=Countries,Borders,Coastline output=countries srs=4326 format=png
       r.info countries

   <b>Sentinel-2</b> <b>satellite</b> <b>cloud</b> <b>free</b> <b>global</b> <b>coverage</b>
       # North Carolina sample data
       g.region raster=elevation -p
       # using WMS_GRASS driver
       r.in.wms url="https://tiles.maps.eox.at/wms?" layers=s2cloudless output=sentinel2 format=png
       r.info sentinel2
       <u>Figure:</u> <u>Raleigh</u> <u>(NC,</u> <u>USA)</u> <u>seen</u> <u>by</u> <u>Sentinel-2</u> <u>(10m</u> <u>resolution;</u> <u>image</u> <u>courtesy:</u> <u>EOX)</u>

   <b>OGC</b> <b>WMTS</b> <b>Example</b>
       # using WMTS_GRASS driver
       r.in.wms url="<a href="http://gpp3-wxs.ign.fr/yourAPIkey/geoportail/wmts">http://gpp3-wxs.ign.fr/yourAPIkey/geoportail/wmts</a>" layers=ORTHOIMAGERY.ORTHOPHOTOS \
                output=orthophoto srs=3857 format=jpeg driver=WMTS_GRASS style=normal password="*" username="*"
       r.info orthophoto
       Note: username, password and API key can be obtained from IGN API website

   <b>Data</b> <b>covering</b> <b>the</b> <b>Czech</b> <b>Republic</b>
       # using WMS_GRASS driver
       r.in.wms url="<a href="http://wms.cuzk.cz/wms.asp">http://wms.cuzk.cz/wms.asp</a>" layers=prehledka_kraju-linie srs=4326 output=kn format=png
       # using WMTS_GRASS driver
       r.in.wms url="<a href="http://geoportal.cuzk.cz/WMTS_ORTOFOTO/WMTService.aspx">http://geoportal.cuzk.cz/WMTS_ORTOFOTO/WMTService.aspx</a>" layers=orto output=orthophoto \
                srs=3857 format=jpeg driver=WMTS_GRASS style=default
       r.info orthophoto
       Note: data are provided by Czech office for surveying, mapping and cadastre.

   <b>Satellite</b> <b>data</b> <b>covering</b> <b>Europe</b>
       Copernicus Core003 View Services - Optical VHR2 coverage over EU 2011-2013 (provided  by  JRC;  usage  is
       restricted to non-commercial activities):
       # get WMS layer list
       r.in.wms -c url="<a href="http://cidportal.jrc.ec.europa.eu/copernicus/services/ows/wms/public/core003">http://cidportal.jrc.ec.europa.eu/copernicus/services/ows/wms/public/core003</a>?"
       r.in.wms -c url="<a href="http://cidportal.jrc.ec.europa.eu/copernicus/services/ows/wms/public/core003">http://cidportal.jrc.ec.europa.eu/copernicus/services/ows/wms/public/core003</a>?" | grep Name
       # spatial subset of Europe
       # enlarging maxcols and maxrows in order to minimize impact of copyright notice in map
       g.region n=56 s=47 w=5 e=16 res=0:00:10 -pa
       # using WMS_GRASS driver
       r.in.wms url="<a href="http://cidportal.jrc.ec.europa.eu/copernicus/services/ows/wms/public/core003">http://cidportal.jrc.ec.europa.eu/copernicus/services/ows/wms/public/core003</a>?" \
                layer="OI.Mosaic.NaturalColor.Feathering" output="jrc_copernicus_core003_mosaik" \
                maxcols=3400 maxrows=3400
       r.info jrc_copernicus_core003_mosaik
       # Alternatively, using WMS_GDAL driver with BIGTIFF and compression enabled
       r.in.wms url="<a href="http://cidportal.jrc.ec.europa.eu/copernicus/services/ows/wms/public/core003">http://cidportal.jrc.ec.europa.eu/copernicus/services/ows/wms/public/core003</a>?" \
                layer="OI.Mosaic.NaturalColor.Feathering" output="jrc_copernicus_core003_mosaik2" \
                maxcols=3400 maxrows=3400 driver=WMS_GDAL gdal_createopt="BIGTIFF=YES,COMPRESS=DEFLATE"
       r.info jrc_copernicus_core003_mosaik2

</pre><h4><b>REQUIREMENTS</b></h4><pre>
       <u>r.in.wms</u> requires the gdalwarp utility from the GDAL/OGR library.

</pre><h4><b>REFERENCES</b></h4><pre>
           •   OGC WMS

           •   OGC WMTS

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
        <u>r.in.gdal,</u> <u>r.patch,</u> <u>r.colors,</u> <u>r.composite,</u> <u>v.in.wfs</u>

       See also WMS support in wxGUI.

</pre><h4><b>AUTHOR</b></h4><pre>
       Stepan Turek, Czech Technical University in Prague, Czech Republic
       (bachelor’s final project 2012, mentor: Martin Landa)

</pre><h4><b>SOURCE</b> <b>CODE</b></h4><pre>
       Available at: r.in.wms source code (history)

       Accessed: Friday Apr 04 01:21:12 2025

       Main index | Raster index | Topics index | Keywords index | Graphical index | Full index

       © 2003-2025 GRASS Development Team, GRASS GIS 8.4.1 Reference Manual

GRASS 8.4.1                                                                                     <u><a href="../man1grass/r.in.wms.1grass.html">r.in.wms</a></u>(1grass)
</pre>
 </div>
</div></section>
</div>
</body>
</html>