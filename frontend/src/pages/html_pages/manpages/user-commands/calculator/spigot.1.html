<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>spigot - command-line exact real calculator</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/spigot">spigot_0.2017-01-15.gdad1bbc6-1build2_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       <b>spigot</b> - command-line exact real calculator

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>spigot</b> [ <u>options</u> ] <u>expression</u>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>spigot</b>  is  an  exact real calculator: that is, you give it a mathematical expression to evaluate, and it
       computes it to any desired precision, by default simply printing digits to standard output  until  it  is
       interrupted.

       <b>spigot</b>  provides  command-line  options  to  control the format of the output, restrict it to a specified
       number of digits, and apply rounding at the end of those digits.  It  can  produce  output  in  any  base
       between  2  and  36  (after that it runs out of digit characters), or as a continued fraction, and it can
       read input numbers from files in any of those formats as well.

       This man page gives only a brief summary of <b>spigot</b>'s functionality. For full detail, you should read  the
       main manual <b>spigot.html</b>; if that is not installed on your system, you can find it on the web at

       <b><a href="http://www.chiark.greenend.org.uk/~sgtatham/spigot/spigot.html">http://www.chiark.greenend.org.uk/~sgtatham/spigot/spigot.html</a></b>

</pre><h4><b>OPTIONS</b></h4><pre>
       The following options control <b>spigot</b>'s basic output format:

       <b>-b</b> <u>base</u>, <b>-B</b> <u>base</u>
              Output  the number in base <u>base</u>, which must be an integer between 2 and 36 inclusive. Digits above
              9 are represented by lower case or upper case letters, for the options <b>-b</b> and <b>-B</b> respectively. The
              default is <b>-b</b> <b>10</b>.

       <b>-c</b>     Output the number as a list of continued fraction coefficients, as decimal  integers,  by  default
              one per line.

       <b>-C</b>     Output  the  number's  continued  fraction  convergents,  one per line, in the form of two decimal
              integers with a <b>/</b> between them.

       <b>-R</b>     Output the number's value as a rational, in the form of two decimal  integers  with  a  <b>/</b>  between
              them,  or just one decimal integer if the number is a rational. If <b>spigot</b> does not know the number
              to be rational immediately, it will start evaluating it to see if it turns out rational later,  so
              if it is not rational then <b>spigot</b> will compute for ever.

       <b>-S</b>, <b>-D</b>, <b>-Q</b>, <b>-H</b>
              Output  the number as a hex representation of an IEEE 754 bit pattern, in 32-bit single precision,
              64-bit double, 128-bit quad or 16-bit half precision respectively. If that representation  is  not
              exact, a decimal point will be printed followed by further mantissa digits.

       <b>--printf</b> <u>format</u>, <b>--printf=</b><u>format</u>
              Format  the  number  in  the same way that <b>printf</b>(<u>3</u>) would, given the formatting directive <u>format</u>.
              <u>format</u> must begin with a <b>%</b> and end with the associated  conversion  specifier,  which  must  be  a
              floating-point one (one of <b>efgaEFGA</b>).

       The following options modify the details of those output formats:

       <b>-d</b> <u>limit</u>
              Limit the amount of data output. In <b>-b</b> mode, no more than <u>limit</u> digits after the decimal point are
              printed.  In  <b>-c</b> or <b>-C</b> mode, no more than <u>limit</u> continued fraction coefficients or convergents are
              printed, not counting the initial one representing the number's integer  part.  In  the  IEEE  754
              output  modes,  no more than <u>limit</u> additional bits of precision are generated after the end of the
              official mantissa. <u>limit</u> may be negative.

       <b>-l</b>     In <b>-c</b> mode, output continued fraction terms all on one line, separated by a <b>;</b> after the first term
              and <b>,</b> after each subsequent term.

       <b>-w</b> <u>min-int-digits</u>
              In <b>-b</b> mode, output at least <u>min-int-digits</u> of the  number's  integer  part,  by  printing  leading
              zeroes if necessary.

       <b>--nibble</b>
              In <b>--printf</b> mode with the `<b>a</b>' or `<b>A</b>' conversion specifier, choose the output exponent to always be
              a multiple of 4, instead of the default behaviour of choosing it as large as possible.

       <b>-n</b>     In  any  mode  where <b>spigot</b> prints output on a single line, suppress the usual trailing newline if
              <b>spigot</b>'s output terminates.

       The following options control rounding, when <b>spigot</b>'s output is limited by the <b>-d</b> option. (Rounding  does
       not occur in continued fraction modes.)

       <b>--rz</b>   Round towards zero. This is the default.

       <b>--ri</b>   Round away from zero.

       <b>--ru</b>   Round up (towards positive infinity).

       <b>--rd</b>   Round down (towards negative infinity).

       <b>--rn</b>, <b>--rne</b>
              Round to nearest, breaking ties toward an even last digit.

       <b>--rno</b>  Round to nearest, breaking ties toward an odd last digit.

       <b>--rnz</b>, <b>--rni</b>, <b>--rnu</b>, <b>--rnd</b>
              Round to nearest, breaking ties as if rounding via <b>--rz</b>, <b>--ri</b>, <b>--ru</b> or <b>--rd</b> respectively.

       Miscellaneous options:

       <b>--tentative=</b><u>state</u>
              Control  the printing of `tentative output'. Tentative output is printed when <b>spigot</b> does not know
              for sure what the next digit of the number is because it's starting to look as if it's exactly  on
              a  digit  boundary.  Tentative  output  is in red, and followed by an indication of about how many
              digits <b>spigot</b> has examined beyond that point (i.e. how close to exact that digit is known to  be);
              <b>spigot</b> will retract it later if it finds out something definite.

              <u>state</u> can be `<b>on</b>', `<b>off</b>' or `<b>auto</b>'. `<b>auto</b>' is the default, and means that <b>spigot</b> should only print
              tentative output if its output is directed to a terminal device.

       <b>-T</b>     If instructed to read from a file descriptor which points to a terminal, put the terminal into raw
              mode (turning off <b>ICANON</b> and <b>ECHO</b> modes) while doing so.

</pre><h4><b>EXPRESSIONS</b></h4><pre>
       <b>spigot</b>'s expression language supports the following options, in order of priority from lowest to highest:

       <b>+</b> and <b>-</b>
              Addition and subtraction. (Left-associative.)

       <b>*</b>, <b>/</b>, <b>%</b>, <b>mod</b>, <b>rem</b>
              Multiplication,  division  and  remainder.  (Left-associative.) <b>%</b> and <b>mod</b> are synonyms, which both
              return a remainder between 0 and the denominator; <b>rem</b> returns a remainder  of  either  sign,  with
              absolute  value  at most half that of the denominator, and ties broken by rounding to even in IEEE
              754 style.

       Unary <b>-</b> and <b>+</b>
              Negation and no-op.

       <b>^</b>, <b>**</b>  Power. (Right-associative.)

       You can define variables and functions of your  own  in  subexpressions  using  the  <b>let</b>  expression,  as
       follows:

       <b>let</b> <u>var</u><b>=</b><u>value</u> <b>in</b> <u>expression</u>
              Defines  the  name  <u>var</u>  to refer to the value of the expression <u>value</u>. The definition is in scope
              within <u>expression</u>, but not in any other parts of the <b>spigot</b> input.

       <b>let</b> <u>fn</u><b>(</b><u>params</u><b>)=</b><u>defn</u> <b>in</b> <u>expression</u>
              Defines the syntax <u>fn</u><b>(</b><u>args</u><b>)</b> to refer to the expression <u>defn</u> with the arguments substituted in  for
              the  parameters.  <u>params</u>  must be a comma-separated list of identifiers; <u>args</u> is a comma-separated
              list of expressions.

       A <b>let</b> expression can contain multiple definitions, separated by commas, e.g. `<b>let</b> <b>x=1,y=2</b> <b>in</b>  <b>x+y</b>'.  Each
       definition  is  in  scope  for  subsequent  definitions,  so  you  can write `<b>let</b> <b>x=1,y=x+1</b> <b>in</b>' <u>expr</u>. But
       definitions are not in scope for <u>themselves</u>; in particular, functions may not be recursive.

       <b>spigot</b> also provides the following built-in functions:

       <b>sqrt</b>, <b>cbrt</b>
              Square and cube roots.

       <b>hypot</b>, <b>atan2</b> (two arguments)
              Rectangular to polar coordinate conversions: the hypotenuse function (square root of  the  sum  of
              the squared arguments), and two-variable inverse tangent.

       <b>sin</b>, <b>cos</b>, <b>tan</b>, <b>asin</b>, <b>acos</b>, <b>atan</b>
              Trigonometric functions and their inverses.

       <b>sind</b>, <b>cosd</b>, <b>tand</b>, <b>asind</b>, <b>acosd</b>, <b>atand</b>, <b>atan2d</b>
              Trigonometric  functions  and  their  inverses,  equivalent to the versions without `<b>d</b>' on the end
              except that angles are measured in degrees.

       <b>sinh</b>, <b>cosh</b>, <b>tanh</b>, <b>asinh</b>, <b>acosh</b>, <b>atanh</b>
              Hyperbolic functions and their inverses.

       <b>exp</b>, <b>exp2</b>, <b>exp10</b>, <b>log</b>, <b>log2</b>, <b>log10</b>
              Exponential and logarithmic functions: raise <u>e</u>, 2 and 10 to a power, or take a log with  the  same
              three bases. You can also provide a base of your choice as a second argument to <b>log</b>.

       <b>expm1</b>, <b>log1p</b>
              Shorthands for <b>exp(x)-1</b> and <b>log(1+x)</b>.

       <b>pow</b> (two arguments)
              Synonym for the <b>^</b> operator.

       <b>gamma</b>, <b>tgamma</b>, <b>lgamma</b>
              Gamma  function (<b>gamma</b> and <b>tgamma</b> are synonyms for this), and the log of the absolute value of the
              gamma function.

       <b>erf</b>, <b>erfc</b>, <b>Phi</b>, <b>norm</b>
              Error-function relatives: the error function itself, 1 minus the error function, and <b>Phi</b> and  <b>norm</b>
              are synonyms for the cumulative normal distribution function.

       <b>erfinv</b>, <b>erfcinv</b>, <b>Phiinv</b>, <b>norminv</b>
              Inverses of the above error-function relatives.

       <b>W</b>, <b>Wn</b>  The  Lambert W function, i.e. the inverse of <b>x</b> <b>exp(x)</b>. <b>W</b> is the branch with value at least <b>-1</b>, and
              <b>Wn</b> is the branch with value at most <b>-1</b>.

       <b>Ei</b>, <b>En</b> (two arguments), <b>E1</b>, <b>Ein</b>
              Exponential integrals, i.e. integrals of things like <b>exp(x)/x</b>. <b>Ei(x)</b> is the indefinite integral of
              <b>exp(x)/x</b> itself; <b>En(n,x)</b> (for non-negative integer <b>n</b>) is the result  of  integrating  <b>exp(-x)/x</b>  <b>n</b>
              times,  flipping the sign each time; <b>E1(x)</b> is shorthand for <b>En(1,x)</b>; and <b>Ein(x)</b> is the integral of
              <b>(1-exp(-x))/x</b>.

       <b>Li</b>, <b>li</b> Logarithmic integrals, i.e. integrals of  <b>1/log(x)</b>.  <b>Li(x)</b>  and  <b>li(x)</b>  are  both  the  indefinite
              integral  of <b>1/log(x)</b>; only their constants differ, in that <b><a href="../man2/Li.2.html">Li</a>(2)</b> and <b><a href="../man0/li.0.html">li</a>(0)</b> are each defined to be
              zero.

       <b>Si</b>, <b>si</b>, <b>Ci</b>, <b>Cin</b>
              Sine and cosine integrals, i.e. integrals of <b>sin(x)/x</b> and <b>cos(x)/x</b>. <b>Si(x)</b> and <b>si(x)</b> are  both  the
              indefinite integral of <b>sin(x)/x</b>, differing only in the constant: <b><a href="../man0/Si.0.html">Si</a>(0)=0</b>, but <b>si(x)</b> has limit 0 as
              <b>x</b>  tends  to positive infinity. <b>Ci(x)</b> is the indefinite integral of <b>cos(x)/x</b>, also with limit 0 at
              positive infinity; <b>Cin(x)</b> is the indefinite integral of <b>(1-cos(x))/x</b>, with <b><a href="../man0/Cin.0.html">Cin</a>(0)=0</b>.

       <b>UFresnelS</b>, <b>UFresnelC</b>, <b>FresnelS</b>, <b>FresnelC</b>
              Fresnel integrals. <b>UFresnelS</b> and <b>UFresnelC</b> are the indefinite integrals of <b>sin(x^2)</b> and  <b>cos(x^2)</b>;
              <b>FresnelS</b>  and  <b>FresnelC</b>  are  the  `normalised'  versions,  i.e.  integrals  of  <b>sin(</b><u>π</u> <b>x^2/2)</b>  and
              <b>cos(</b><u>π</u> <b>x^2/2)</b>. All are zero at the origin.

       <b>zeta</b>   The Riemann zeta function (restricted to the real numbers).

       <b>abs</b>    Absolute value.

       <b>ceil</b>, <b>floor</b>
              Ceiling and floor: smallest integer at least <u>x</u>, and largest integer at most <u>x</u>.

       <b>frac</b>   Fractional part, i.e. <b>x</b> <b>-</b> <b>floor(x)</b>.

       <b>algebraic</b> (variable number of arguments)
              Return a root of an arbitrary polynomial with integer coefficients. The first  two  arguments  are
              the  rational  bounds  of  an interval to search, and the rest give the polynomial's coefficients,
              with constant term first.

       <b>spigot</b> supports the following names for built-in constants:

       <b>pi</b>, <b>tau</b>
              The circle constant <u>π</u>, and the often more useful 2 <u>π</u>.

       <b>e</b>      The base of natural logarithms.

       <b>phi</b>    The golden ratio, <b>(1+<a href="../man5/sqrt.5.html">sqrt</a>(5))/2</b>.

       <b>eulergamma</b>
              The Euler-Mascheroni constant: the limiting difference between the sum and the integral of <b>1/n</b>.

       <b>apery</b>  Apery's constant: the sum of the reciprocals of the cubes.

       Numbers can be input in the following formats:

       <b>•</b>      Decimal, with an optional C-style <b>e+</b><u>exponent</u> or <b>e-</b><u>exponent</u> for scientific notation

       <b>•</b>      Hex, with the prefix <b>0x</b>, and an optional C99-style <b>p+</b><u>exponent</u> or <b>p-</b><u>exponent</u> representing  a  power
              of 2 multiplier

       <b>•</b>      In any base between 2 and 36, with a prefix of the form <b>base</b><u>N</u><b>:</b>, e.g. <b>base7:0.123456</b>

       <b>•</b>      As  an  IEEE  754 hex bit pattern, consisting of exactly 4, 8, 16 or 32 hex digits with the prefix
              <b>ieee:</b>, followed by optional decimal point and extra mantissa digits

       <b>•</b>      From a file in base notation, by writing <b>base</b><u>N</u><b>file:</b> followed by a filename, e.g.  <b>base10fd:pi.txt</b>.
              The  filename  is  taken  to be the maximal sequence of non-space characters following the prefix,
              unless it starts with <b>'</b> or <b>"</b>, in which case it is taken to be everything up to a matching  closing
              quote, with doubled quote marks in between representing a literal quote character.

       <b>•</b>      From a file in continued fraction notation, by writing <b>cfracfile:</b> followed by a filename.

       <b>•</b>      Either  of  the  above,  but  with <b>file:</b> replaced by <b>xfile:</b> to indicate that end of file should be
              taken as the number being exactly represented rather than running out of precision.

       <b>•</b>      From a file descriptor in any of those notations, by writing <b>base</b><u>N</u><b>fd:</b> or <b>cfracfd:</b> followed  by  an
              fd number, e.g. <b>base10fd:0</b> to read from standard input.

</pre><h4><b>RETURN</b> <b>VALUE</b></h4><pre>
       <b>spigot</b>  returns  0  if  its  output  terminates  (because  the result is exact, or because it reached the
       specified <b>-d</b> limit) with no problems.

       In case of a parse error, or an invalid operand to a function, or any other kind of fatal  error,  <b>spigot</b>
       returns 1.

       If  <b>spigot</b> is unable to generate output to the desired precision because more precision was needed from a
       number read from an input file using <b>base</b><u>N</u><b>file:</b> or <b>cfracfile:</b>, then <b>spigot</b> returns 2, and prints an error
       message indicating which input file (in case there was more than one) ran out first.

</pre><h4><b>LIMITATIONS</b></h4><pre>
       Due to inherent limitations of its  exact  real  arithmetic  strategy,  <b>spigot</b>  is  generally  unable  to
       recognise when a number it is computing is exactly equal to a specific boundary value.

       One  effect  of  this is that <b>spigot</b> will not behave as you'd like if the output number has a terminating
       representation in the selected base. For example, asking for <b>sin(asin(0.12345))</b> will not be able to print
       <b>0.12345</b> and exit. Instead, <b>spigot</b> will get as far as printing `<b>0.1234</b>', and then print  tentative  output
       (mentioned above) to indicate that it thinks the next digit <u>might</u> be exactly 5, but it will never reach a
       point where it's <u>sure</u> of that.

       Another  effect  is  that  if you ask <b>spigot</b> to evaluate an expression in which an intermediate result is
       precisely on a point of discontinuity of the function it is passed to, then it may never manage  to  even
       <u>start</u>  producing output. For example, <b>spigot</b> will hang completely if you ask it for <b>floor(sin(pi))</b>, since
       <b>sin(pi)</b> <b>=</b> <b>0</b> is a point of discontinuity of the <b>floor</b> function, and <b>spigot</b> will never be able to work  out
       that  the value of the input to <b>floor</b> is <u>exactly</u> zero, only that it seems to be closer and closer to zero
       the more it computes.

       (An exception is numbers that <b>spigot</b> knows from first principles to be rational. For example, if you  ask
       <b>spigot</b> to evaluate the simpler expressions `<b>0.12345</b>' or `<b><a href="../man0/floor.0.html">floor</a>(0)</b>', it will print the complete output and
       terminate successfully, in both cases.)

</pre><h4><b>LICENCE</b></h4><pre>
       <b>spigot</b>  is  free  software,  distributed  under  the MIT licence. Type `<b>spigot</b> <b>--licence</b>' to see the full
       licence text.

Simon Tatham                                       2014‐12‐17                                          <u><a href="../man1/spigot.1.html">spigot</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>