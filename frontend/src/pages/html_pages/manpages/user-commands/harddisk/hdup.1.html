<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>hdup - harddisk duplicator/harddisk backupper - backup to harddisk</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/hdup">hdup_2.0.14-6build2_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       hdup - harddisk duplicator/harddisk backupper - backup to harddisk

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>hdup</b> [ <u>OPTION</u> ] <u>SCHEME</u> <u>HOST</u> [ <u>@USER@REMOTEHOST</u> ] <u>(1st</u> <u>format)</u>
       <b>hdup</b> [ <u>OPTION</u> ] <u>restore</u> <u>HOST</u> <u>DATE</u> <u>DIRECTORY</u> [ <u>@USER@REMOTEHOST</u> ] <u>(2nd</u> <u>format)</u>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>Hdup</b> is used to backup a filesystem. Features include:

       <b>o</b>      incremental backups: monthly, weekly and daily dumps,

       <b>o</b>      encryption of the archive (via <b>mcrypt</b> or <b>GPG</b>),

       <b>o</b>      compression of the archive (bzip/gzip/lzop/none),

       <b>o</b>      possibility to transfer the archive to a remote host,

       <b>o</b>      possibility to restore the archive from a remote host,

       <b>o</b>      ability to split up archives,

       <b>o</b>      no obscure archive format (it is a normal compressed tar file), and

       <b>o</b>      simple to use.

       The  behaviour  of  <b>hdup</b> is controlled by its configuration file (see <b><a href="../man5/hdup.conf.5.html">hdup.conf</a>(5)</b>). Internally <b>hdup</b> uses
       <b>GNU</b> <b>tar</b> to actually create the backups.

   <b>First</b> <b>format</b>
       When using the 1st format <b>hdup</b> performs a backup. Remember: <b>hdup</b> pushes a backup <u>from</u>  the  localhost  <u>to</u>
       the remote host.

       The sort of backup is specified by <u>SCHEME</u>:

       <b>monthly</b>
              Make a full (null) dump of the filesystem.

       <b>weekly</b> Make  an  incremental  dump  of the filesystem relative to the latest monthly dump. If <b>hdup</b> cannot
              find a monthly dump it will complain, unless <u>always</u> <u>backup</u> is on. Then  a  monthly  dump  will  be
              performed.

       <b>daily</b>  Make an incremental dump of the filesystem relative to the latest weekly dump. If <b>hdup</b> cannot find
              a weekly dump it will complain, unless <u>always</u> <u>backup</u> is on. Then a weekly dump will be performed.

       <u>HOST</u>  is  the host of which <b>hdup</b> should perform the backup. This should match a '[HOST]' statement in the
       configuration file. The directories of that host (specified with 'dir = <u>dir1</u>, <u>dir2</u>', ...) will be  backed
       up to the directory specified with 'archive dir = <u>dir</u>'.  If <u>HOST</u> is not found no backup will be made.

       <u>@USER@REMOTEHOST</u>  is the host to which the archive should be transfered. This must include the user name.
       E.g <u>@<a href="mailto:miekg@elektron.atoom.net">miekg@elektron.atoom.net</a>.</u>  <u>It</u> <u>is</u> <u>illegal</u> <u>to</u> <u>specify</u> <u>the</u> <u>colon</u> <u>':'.</u>  <b>hdup</b>  must  be  present  on  the
       remote host. The location of this remote <b>hdup</b> is specified using <u>remote</u> <u>hdup</u>.

       Any  program  capable  of  transferring  files  can used for this purpose. Currently tested is <b>ssh</b>. Other
       programs like <b>rsync</b> (not tested) may also work. Any program with the following characteristics will do:

       <b>o</b>      must be usable as a filter (read from stdin, write to stdout),

       <b>o</b>      must support <u>user@remotehost</u> syntax.

   <b>Second</b> <b>format</b>
       When using the 2nd format a previous backed up filesystem is restored.  Remember: <b>hdup</b> pushes  a  restore
       <u>from</u> the remote <u>to</u> the local host. This is opposite from the backup operation!

       <u>HOST</u> is the host who's archives should be restored.

       <u>DATE</u>  everything  up  to  this date will be restored. <b>hdup</b> will look for the most recent monthly archive,
       then the most recent weekly and finally for the daily to pad up to date given. The  <u>DATE</u>  can  either  be
       specified  as  DD-MM-YYYY  (date  spec = default), as YYYY-MM-DD (date spec = iso) or as MM-DD-YYYY (date
       spec = american). This is controlled from the configuration file.

       A special date is 'static' which instructs <b>hdup</b> to look in the 'static' directory. This is used when  'no
       history  =  yes'.  This  is dangerous to use because <b>hdup</b> will overwrite the old backup file with the new
       one. When your system crashes during the overwrite you have no backup at all!  Only  use  this  when  you
       <u>really</u> don't have room for two monthly backups.

       Another special date is 'today' which instructs <b>hdup</b> to use the current date.

       <u>DIRECTORY</u>  tells  <b>hdup</b> to which directory the archive should be untarred to. Be very careful when running
       <b>hdup</b> as root and specifying '/' as the directory. Version 1.4 and above refuses to restore to '/'.   This
       can be overridden by specifying 'force = on/yes' in the configuration.

       <u>@USER@REMOTEHOST</u>  is  the host to which the archive should be restored.  This must include the user name.
       E.g <u>@<a href="mailto:miekg@elektron.atoom.net">miekg@elektron.atoom.net</a>.</u>  <u>As</u> <u>as</u> <u>version</u> <u>1.6.6</u> <u>it</u> <u>is</u> <u>illegal</u>  <u>to</u>  <u>specify</u>  <u>the</u>  <u>colon</u>  <u>':'.</u>  <u>On</u>  <u>the</u>
       <u>remosthost</u> <u>and</u> <u>in</u> <u>DIRECTORY</u> the archive is restored. <b>hdup</b> must be present on the remote host.

   <b>Status</b> <b>message</b>
       When <b>hdup</b> is finished with its current operation it will print an overview message:

       Hdup version.:  1.6.6

       Host.........:  elektron
       Date.........:  2003-02-02
       Scheme.......:  monthly
       Archive......:  elektron.2003-02-02.monthly.tar.gz
       Encryption...:  no
       Archive size.:  257k
       Elapsed......:  0:01:27
       Status.......:  successfully performed backup

       Which can be mailed to you via cron.

</pre><h4><b>OPTIONS</b></h4><pre>
       <b>-c,</b> <b>--config=</b><u>config</u>
              Location  of  the  configuration  file.  The  default  location  of  <b>hdup</b>'s  configuration file is
              <u>/etc/hdup/hdup.conf</u>.

       <b>-s,</b> <b>--specific=</b><u>file</u>
              Restore a specific file from an archive. <u>file</u> must be the <b>full</b> <u>path</u> <u>to</u> <u>the</u>  <u>file,</u>  <u>relative</u>  <u>paths</u>
              <u>will</u> <u>not</u> <u>work.</u>

       <b>-i,</b> <b>--ignore-tar</b>
              Ignore tar errors when restoring.

       <b>-I,</b> <b>--ignore-conf</b>
              Ignore errors in the configuration file.

       <b>-P,</b> <b>--patched_tar</b>
              Tar  is  patched  so  that  it  can  handle  <u>--no-recursion</u>, <u>--listed-incremental</u> and <u>--files-from</u>
              together. This options enables two things in hdup; 1) directory info is written to 'filelist'  and
              2) <u>--no-recursion</u> is given to <b>tar</b>.

              This solves the bug whereby <b>hdup</b> wouldn't include directory information in the archives.

       <b>-d,</b> <b>--dryrun</b>
              Do a dryrun - don't do anything with the filesystem

       <b>-q,</b> <b>--quiet</b>
              Suppress the output of the subprocesses (like 'tar' and 'ssh').

       <b>-q</b> <b>-q,</b> <b>--quiet</b> <b>--quiet</b>
              Suppress the logging output from <b>hdup</b>.

       <b>-q</b> <b>-q</b> <b>-q,</b> <b>--quiet</b> <b>--quiet</b> <b>--quiet</b>
              No logging at all. Even no overview message.

       <b>-V</b>     Be more verbose.

       <b>-V</b> <b>-V</b>  Be  even  more verbose. This will show which files are backed up by <b>hdup</b> IF you also supply the -D
              option.

       <b>-h,</b> <b>--help</b>
              A help message.

       <b>-v,</b> <b>--version</b>
              Show the version of hdup.

       <b>-D,</b> <b>--debug</b>
              Show a lot of information which can aid debugging.

       The -V and -q options do <u>not</u> effect each other. A '-qqq -VV' option list will mean that  <b>hdup</b>  will  show
       what is run, but nothing else (no overview message and no warning nor errors).

</pre><h4><b>ENCRYPTION</b></h4><pre>
       <b>hdup</b>  can  encrypt  the  archives, <b>mcrypt</b> is used for the actual encryption. As of version 1.6.25 <b>GPG</b> can
       also be used to encrypt the archive. Note that currently remotely restoring a GPG encrypted  archives  is
       not working.

   <b>mcrypt</b>
       With <b>mcrypt</b> <b>--list</b> you get a list of the algorithms mcrypt supports:

       ...
       <u>serpent</u> (32): cbc cfb ctr ecb ncfb ofb nofb
       <u>wake</u> (32): stream
       <u>loki97</u> (32): cbc cfb ctr ecb ncfb ofb nofb
       <u>rijndael-128</u> (32): cbc cfb ctr ecb ncfb ofb nofb
       <u>rijndael-192</u> (32): cbc cfb ctr ecb ncfb ofb nofb
       ...

       If  you  want  to use <u>loki97</u> you specify <b>algorithm</b> <b>=</b> <b>loki97</b> in hdup.conf. The same goes for all the other
       algorithms.

   <b>GPG</b>
       To use <b>GPG</b> the following is needed. Set <b>algorithm</b> <b>=</b> <b>gpg</b> and <b>key</b> <b>=</b> <b>user</b> <b>ID</b> <b>of</b> <b>key</b>. In my case I've created
       a GPG key with user ID of 'miekg' so I use:
       <b>algorithm</b> <b>=</b> <b>gpg</b>
       <b>key</b> <b>=</b> <b>miekg</b>
       The <b>key</b> is supplied to <b>gpg</b> with the <u>-r</u> argument. See the manpage of <b>gpg</b> for more details.

       When restoring a GPG encrypted archive you will be prompted to unlock your private key.

</pre><h4><b>AUTHOR</b></h4><pre>
       Written by Miek Gieben. Wouter van Gils helped a lot with testing pre-release versions. User feedback  is
       appreciated.

</pre><h4><b>REPORTING</b> <b>BUGS</b></h4><pre>
       Report bugs to &lt;<a href="mailto:hdup-user@miek.nl">hdup-user@miek.nl</a>&gt;.

</pre><h4><b>BUGS</b></h4><pre>
       The %a expansion is not always the same in the prerun and postrun scripts (when using encryption).

</pre><h4><b>LIMITATIONS</b></h4><pre>
       Under  Linux  kernel  version  2.2  the  archive size cannot exceed two (2) Gigabyte.  If you need larger
       archives sizes you should upgrade your kernel. You can however solve  this  by  using  <u>chunk</u>  <u>size</u>.  Just
       define your maximum allowed size, something like <u>chunk</u> <u>size</u> <u>=</u> <u>1800M</u> and you're set.

       If you encrypt archives and want to restore them, you are forced to use one encryption scheme for all the
       backups.  <b>hdup</b>  does  not  store the key and algorithm with the archive, thus it is impossible to restore
       archives that use different keys and algorithms.

</pre><h4><b>COPYRIGHT</b></h4><pre>
       Copyright (C) 2001-2005 Miek Gieben.  This  is  free  software.  There  is  NO  warranty;  not  even  for
       MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man5/hdup.conf.5.html">hdup.conf</a>(5)</b> for information about <b>hdup</b>'s configuration file.

                                                   18 Mar 2003                                           <u><a href="../man1/hdup.1.html">hdup</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>