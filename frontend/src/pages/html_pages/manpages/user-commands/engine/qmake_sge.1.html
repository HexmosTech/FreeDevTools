<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>qmake - distributed parallel make, scheduling by Grid Engine.</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/gridengine-client">gridengine-client_8.1.9+dfsg-12_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       qmake - distributed parallel make, scheduling by Grid Engine.

</pre><h4><b>SYNTAX</b></h4><pre>
       <b>qmake</b> [<u>options</u>] -- [<u>gmake</u> <u>options</u>]

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <u>Qmake</u>  is  a parallel, distributed <u><a href="../man1/make.1.html">make</a></u>(1) utility. Scheduling of the parallel <u>make</u> tasks is done by Grid
       Engine. It is based on GNU make, version 3.82 ("<u>gmake</u>).  Both Grid  Engine  and  GNU  make  command  line
       options can be specified. They are separated by "--".

       All  Grid  Engine options valid with <u><a href="../man1/qsub.1.html">qsub</a></u>(1) or <u><a href="../man1/qrsh.1.html">qrsh</a></u>(1) can be specified with <u>qmake</u>.  See <u><a href="../man1/submit.1.html">submit</a></u>(1) for a
       description of all Grid Engine command line options.  The GNU Make  manual  (via  <u>info</u>)  or  the  <u><a href="../man1/make.1.html">make</a></u>(1)
       manual page describes the <u>gmake</u> command line syntax.

       The syntax of <u>qmake</u> makefiles corresponds to <u>gmake</u> and is described in the "GNU Make Manual".

       A  typical qmake call will use the Grid Engine command line options <b>-cwd</b> to have a scheduled make started
       in the current working directory on the execution host, <b>-v</b> <b>PATH</b> if the Grid Engine environment is not set
       up in the user's <u>.cshrc</u> Or <u>.profile</u> shell resource file, and also request slots in a parallel environment
       (see <u><a href="../man5/sge_pe.5.html">sge_pe</a></u>(5)).

       If no resource request (Grid Engine command line option <b>-l</b>) is specified, <u>qmake</u> will use the  environment
       variable SGE_ARCH to request the same architecture as the submit host for task execution.  If SGE_ARCH is
       set,  the  architecture specified in SGE_ARCH will be requested by inserting the option <b>-l</b> <b>arch=$SGE_ARCH</b>
       into the command line options.  If SGE_ARCH is not set, the make tasks can be executed on  any  available
       architecture.  As this is critical for typical make (compile) jobs, a warning will be output.

       <u>qmake</u> has two different modes for allocating Grid Engine resources for the parallel execution of tasks:

       1.     Allocation  of  resources  using  a  parallel  environment. If the <b>-pe</b> option is used on the qmake
              command line, a parallel job is scheduled by Grid Engine.  The make rules are  executed  as  tasks
              within this parallel job.

       2.     Dynamic  allocation  of resources. If no parallel environment is requested when submitting a qmake
              job, each make rule will generate an individual Grid Engine qrsh job.  All resource requests given
              to <u>qmake</u> will be inherited by the jobs processing the make rules.

       In dynamic allocation mode, additional resource  requests  for  individual  rules  can  be  specified  by
       preceding the rule by the definition of an environment variable SGE_RREQ. The rule then takes the form
              SGE_RREQ="<u>request</u>" <u>rule</u>
       e.g.
              SGE_RREQ="-l lic=1" cc -c ...
       If such makefile rules are executed in a make utility other than <u>qmake</u>, the environment variable SGE_RREQ
       will be set in the environment established for the rule's execution - presumably without any effect.

</pre><h4><b>EXAMPLES</b></h4><pre>
              qmake -cwd -v PATH -pe compiling 1-10 --

       will  request  between  1  and 10 slots in parallel environment "compiling".  If the SGE_ARCH environment
       variable is set to the machine architecture, a resource request will be inserted into the  qmake  command
       line  to start the qmake job on the same architecture as the submit host. The <u>make</u> tasks will inherit the
       complete environment of the calling shell, and as as many parallel tasks will execute as slots have  been
       granted by Grid Engine.

              qmake -l arch=sol-sparc -cwd -v PATH -- -j 4

       will submit each make rule as an individual qrsh job. A maximum of 4 tasks will be processed in parallel.
       The qmake job will be started on a machine of architecture sol-sparc.  This resource request will also be
       inherited  by  the  make  tasks,  i.e.  all jobs created for the execution of make tasks will request the
       architecture sol-sparc.

       If the following Makefile is submitted with the above command line, additional resource requests will  be
       made  for  individual rules: For the compile and link rules, compiler licenses (comp) and linker licenses
       (link) will be requested, in addition to the resource request made for the whole job  (-l arch=sol-sparc)
       on the command line.

              all: test

              clean:
                   rm -f test main.o functions.o

              test: main.o functions.o
                   SGE_RREQ="-l link=1" ld -o test main.o functions.o

              main.o: main.c
                   SGE_RREQ="-l comp=1" cc -c -DALIASPATH=

              functions.o: functions.c
                   SGE_RREQ="-l comp=1" cc -c -DALIASPATH=

       The command line
              qmake -cwd -v PATH -l arch=sol-sparc64 -pe make 3 --

       will  request 3 parallel <u>make</u> tasks to be executed on hosts of architecture "sol-sparc64". The submit may
       be done on a host of any architecture.

       The shell script

              #!<a href="file:/bin/sh">/bin/sh</a>
              qmake -inherit --

       can be submitted by

              qsub -cwd -v PATH -pe make 1-10 [further sge options] &lt;script&gt;

       <u>Qmake</u> will inherit the resources granted for the job submitted above under parallel environment "make".

</pre><h4><b>ENVIRONMENT</b> <b>VARIABLES</b></h4><pre>
       <b>SGE_ROOT</b>       Specifies the location of the Grid Engine standard configuration files.

       <b>SGE_CELL</b>       If set, specifies the default Grid Engine cell. To address a Grid Engine cell  <u>qmake</u>  uses
                      (in the order of precedence):

                             The name of the cell specified in the environment variable SGE_CELL, if it is set.

                             The name of the default cell, i.e. <b>default</b>.

       <b>SGE_DEBUG_LEVEL</b>
                      If  set,  specifies  that  debug  information should be written to stderr. In addition the
                      level of detail in which debug information is generated is defined.

       <b>SGE_ARCH</b>       The architecture  of  the  submit  host.  If  this  variable  is  set  in  the  submission
                      environment,  qmake will request the given architecture for job execution (see DESCRIPTION
                      above).

</pre><h4><b>KNOWN</b> <b>PROBLEMS</b></h4><pre>
   <b>Slow</b> <b>NFS</b> <b>server</b>
       Very low file server performance may lead to problems on dependent files.

       Example: Host a compiles a.c to a.o, host b compiles b.c to b.o, host c shall link program c from a.o and
       b.o. In case of very bad NFS performance, host c might not yet see files a.o and b.o.

   <b>Multiple</b> <b>commands</b> <b>in</b> <b>one</b> <b>rule</b>
       If multiple commands are executed in one rule, the makefile has to ensure that they are  handled  as  one
       command line.

       Example:

              libx.a:
                     cc -c x.c
                     ar ru libx.a x.o

       Building  libx.a  will  fail  if the commands are executed in parallel (and possibly on different hosts).
       Write the following instead:

              libx.a:
                     cc -c x.c ; ar ru libx.a x.o

       or

              libx.a:
                     cc -c x.c ; \
                     ar ru libx.a x.o

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <u><a href="../man1/submit.1.html">submit</a></u>(1), <u><a href="../man5/sge_pe.5.html">sge_pe</a></u>(5), as well as <u><a href="../man1/make.1.html">make</a></u>(1) (GNU make manpage) and <u>The</u>GNU<u>Make</u>Manual via <u><a href="../man1/info.1.html">info</a></u>(1).

</pre><h4><b>COPYRIGHT</b></h4><pre>
       <u>Qmake</u> Is based on GNU Make (<u>gmake</u>), which is copyright by the Free Software Foundation, Inc., Boston, MA,
       and is protected by the GNU General Public License.
       See <u><a href="../man1/sge_intro.1.html">sge_intro</a></u>(1) and the information provided in  <u>&lt;sge_root&gt;/doc/LICENCES</u>  for  a  statement  of  further
       rights and permissions.

SGE 8.1.3pre                                       2011-05-20                                           <u><a href="../man1/QMAKE.1.html">QMAKE</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>