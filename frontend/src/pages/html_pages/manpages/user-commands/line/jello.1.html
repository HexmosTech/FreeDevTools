<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Jello - Filter JSON and JSON Lines data with Python syntax</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/jello">jello_1.6.0-1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       Jello - Filter JSON and JSON Lines data with Python syntax

</pre><h4><b>SYNOPSIS</b></h4><pre>
       Jello  is  similar  to jq in that it processes JSON and JSON Lines data except jello uses standard python
       dict and list syntax.

       JSON or JSON Lines can be piped into  jello  (JSON  Lines  are  automatically  slurped  into  a  list  of
       dictionaries)  and  are available as the variable `<b>_</b>`.  Processed data can be output as JSON, JSON Lines,
       bash array lines, or a grep-able schema.

</pre><h4><b>USAGE</b></h4><pre>
              cat data.json | jello [OPTIONS] [QUERY | -q &lt;query_file&gt;]

              jello [OPTIONS] [QUERY | -q &lt;query_file&gt;] [-f &lt;input_files&gt;]

       QUERY is optional and can be most any valid python code. Alternatively, a query  file  can  be  specified
       with  `<b>-q</b>`  to load the query from a file.  Within the query, `<b>_</b>` is the sanitized JSON from <b>STDIN</b> or the
       specified input file(s) (via the `<b>-f</b>` option) presented as a python dict or list of dicts.

       If QUERY or a query file is omitted then the original JSON input will simply be pretty printed.

       You can use dot notation or traditional python bracket notation to access key names.

              Note: Reserved key names that cannot be accessed using dot notation can be accessed  via  standard
              python dictionary notation.  (e.g.  _.foo["get"] instead of _.foo.get)

       A simple query:

              $ cat data.json | jello _.foo

       or

              $ cat data.json | jello '_["foo"]'

       or

              $ jello _.foo -f data.json

   <b>Options</b>
              <b>-c</b> compact print JSON output instead of pretty printing

              <b>-C</b> force color output even when using pipes (overrides <b>-m</b> and the <b>NO_COLOR</b> env variable)

              <b>-e</b> empty data (don't process data from STDIN or file)

              <b>-f</b> load input data from JSON file or JSON Lines files (must be the final option, if used)

              <b>-i</b> initialize environment with a custom config file

              <b>-l</b> lines output (suitable for bash array assignment)

              <b>-m</b> monochrome output

              <b>-n</b> print selected null values

              <b>-q</b> load query from a file

              <b>-r</b> raw output of selected strings (no quotes)

              <b>-s</b> print the JSON schema in grep-able format

              <b>-t</b> print type annotations in schema view

              <b>-h</b> help

              <b>-v</b> version info

   <b>Simple</b> <b>Examples</b>
       Jello simply pretty prints the JSON if there are no options passed:

              $ echo '{"foo":"bar","baz":[1,2,3]}' | jello
              {
                "foo": "bar",
                "baz": [
                  1,
                  2,
                  3
                ]
              }

       If you prefer compact output, use the <b>-c</b> option:

              $ echo '{"foo":"bar","baz":[1,2,3]}' | jello -c
              {"foo":"bar","baz":[1,2,3]}

       Use the <b>-l</b> option to convert lists/arrays into lines:

              $ echo '{"foo":"bar","baz":[1,2,3]}' | jello -l _.baz
              1
              2
              3

       The <b>-l</b> option also allows you to create JSON Lines:

              $ echo '[{"foo":"bar","baz":[1,2,3]},{"fiz":"boo","buz":[4,5,6]}]' | jello -l
              {"foo":"bar","baz":[1,2,3]}
              {"fiz":"boo","buz":[4,5,6]}

       You can print a grep-able schema by using the <b>-s</b> option:

              $ echo '{"foo":"bar","baz":[1,2,3]}' | jello -s
              _ = {};
              _.foo = "bar";
              _.baz = [];
              _.baz[0] = 1;
              _.baz[1] = 2;
              _.baz[2] = 3;

   <b>Assigning</b> <b>Results</b> <b>to</b> <b>a</b> <b>Bash</b> <b>Array</b>
       Use the <b>-l</b> option to print JSON array output in a manner suitable to be assigned to a bash array.  The <b>-r</b>
       option  can  be  used  to remove quotation marks around strings. If you want null values to be printed as
       null, use the <b>-n</b> option, otherwise they are printed as blank lines.

       Bash variable:

              variable=($(cat data.json | jello -rl _.foo))

       Bash array variable:

              variable=()
              while read -r value; do
                  variable+=("$value")
              done &lt; &lt;(cat data.json | jello -rl _.foo)

   <b>Examples:</b>
   <b>Printing</b> <b>the</b> <b>Grep-able</b> <b>Schema</b>
              $ jc -a | jello -s
              _ = {};
              _.name = "jc";
              _.version = "1.17.2";
              _.description = "JSON CLI output utility";
              _.author = "Kelly Brazil";
              _.author_email = "<a href="mailto:kellyjonbrazil@gmail.com">kellyjonbrazil@gmail.com</a>";
              _.website = "https://github.com/kellyjonbrazil/jc";
              _.copyright = "(C) 2019-2021 Kelly Brazil";
              _.license = "MIT License";
              _.parser_count = 80;
              _.parsers = [];
              ...

   <b>Printing</b> <b>the</b> <b>Grep-able</b> <b>Schema</b> <b>with</b> <b>Type</b> <b>Annotations</b>
              $ jc -a | jello -st
              _ = {};                                               //  (object)
              _.name = "jc";                                        //  (string)
              _.version = "1.17.2";                                 //  (string)
              _.description = "JSON CLI output utility";            //  (string)
              _.author = "Kelly Brazil";                            //  (string)
              _.author_email = "<a href="mailto:kellyjonbrazil@gmail.com">kellyjonbrazil@gmail.com</a>";          //  (string)
              _.website = "https://github.com/kellyjonbrazil/jc";   //  (string)
              _.copyright = "(C) 2019-2021 Kelly Brazil";           //  (string)
              _.license = "MIT License";                            //  (string)
              _.parser_count = 80;                                  //  (number)
              _.parsers = [];                                       //   (array)
              ...

   <b>Printing</b> <b>the</b> <b>JSON</b> <b>Structure</b>
              $ jc dig example.com | jello -st | grep '(object)\|(array)'
              _ = [];                                               //   (array)
              _[0] = {};                                            //  (object)
              _[0].flags = [];                                      //   (array)
              _[0].opt_pseudosection = {};                          //  (object)
              _[0].opt_pseudosection.edns = {};                     //  (object)
              _[0].opt_pseudosection.edns.flags = [];               //   (array)
              _[0].question = {};                                   //  (object)
              _[0].answer = [];                                     //   (array)
              _[0].answer[0] = {};                                  //  (object)
              ...

   <b>Lambda</b> <b>Functions</b> <b>and</b> <b>Math</b>
              $ echo '{"t1":-30, "t2":-20, "t3":-10, "t4":0}' | jello '\
              keys = _.keys()
              vals = _.values()
              cel = list(map(lambda x: (<a href="../man5/float.5.html">float</a>(5)/9)*(x-32), vals))
              dict(zip(keys, cel))'
              {
                "t1": -34.44444444444444,
                "t2": -28.88888888888889,
                "t3": -23.333333333333336,
                "t4": -17.77777777777778
              }

              $ jc -a | jello 'len([entry for entry in _.parsers if "darwin" in entry.compatible])'
              45

   <b>For</b> <b>Loops</b>
       Output as JSON array

              $ jc -a | jello '\
              result = []
              for entry in _.parsers:
                if "darwin" in entry.compatible:
                  result.append(entry.name)
              result'
              [
                "airport",
                "airport_s",
                "arp",
                "crontab",
                "crontab_u",
                ...
              ]

       Output as bash array

              $ jc -a | jello -rl '\
              result = []
              for entry in _.parsers:
                if "darwin" in entry.compatible:
                  result.append(entry.name)
              result'
              airport
              airport_s
              arp
              crontab
              crontab_u
              ...

   <b>List</b> <b>and</b> <b>Dictionary</b> <b>Comprehension</b>
       Output as JSON array

              $ jc -a | jello '[entry.name for entry in _.parsers if "darwin" in entry.compatible]'
              [
                "airport",
                "airport_s",
                "arp",
                "crontab",
                "crontab_u",
                ...
              ]

       Output as bash array

              $ jc -a | jello -rl '[entry.name for entry in _.parsers if "darwin" in entry.compatible]'
              airport
              airport_s
              arp
              crontab
              crontab_u
              ...

   <b>Environment</b> <b>Variables</b>
              $ echo '{"login_name": "joeuser"}' | jello '\
              True if os.getenv("LOGNAME") == _.login_name else False'
              true

   <b>Using</b> <b>3rd</b> <b>Party</b> <b>Modules</b>
       You can import and use your favorite modules to manipulate the data. For example, using <b>glom</b>:

              $ jc -a | jello '\
              from glom import *
              glom(_, ("parsers", ["name"]))'
              [
                "airport",
                "airport_s",
                "arp",
                "blkid",
                "crontab",
                "crontab_u",
                "csv",
                ...
              ]

</pre><h4><b>ADVANCED</b> <b>USAGE</b></h4><pre>
   <b>Custom</b> <b>Configuration</b> <b>File</b>
       You can use the <b>-i</b> option to initialize the jello environment  with  your  own  configuration  file.  The
       configuration  file  accepts valid python code where you can enable/disable jello options, customize your
       colors, add <b>import</b> statements for your favorite modules, and define your own functions.

       The file must be named <b>.jelloconf.py</b> and must be  located  in  the  proper  directory  based  on  the  OS
       platform:

              Linux, unix, macOS: <b>~/</b>

              Windows: <b>%appdata%/</b>

   <b>Setting</b> <b>Options</b>
       To set jello options in the <b>.jelloconf.py</b> file, import the <b>jello.lib.opts</b> class, add any of the following
       and set to <b>True</b> or <b>False</b>:

              from jello.lib import opts
              opts.mono = True            # -m option
              opts.compact = True         # -c option
              opts.lines = True           # -l option
              opts.raw = True             # -r option
              opts.force_color = True     # -C option
              opts.nulls = True           # -n option
              opts.schema = True          # -s option
              opts.types = True           # -t option

   <b>Setting</b> <b>Colors</b>
       You can customize the colors by importing the <b>jello.lib.opts</b> class and setting the following variables to
       one  of  the  following string values: <b>black</b>, <b>red</b>, <b>green</b>, <b>yellow</b>, <b>blue</b>, <b>magenta</b>, <b>cyan</b>, <b>gray</b>, <b>brightblack</b>,
       <b>brightred</b>, <b>brightgreen</b>, <b>brightyellow</b>, <b>brightblue</b>, <b>brightmagenta</b>, <b>brightcyan</b>, or <b>white</b>.

              from jello.lib import opts
              opts.keyname_color = 'blue'            # Key names
              opts.keyword_color = 'brightblack'     # true, false, null
              opts.number_color = 'magenta'          # integers, floats
              opts.string_color = 'green'            # strings

              Note: Any colors set via the <b>JELLO_COLORS</b> environment variable will take precedence over any color
              values set in the <b>.jelloconf.py</b> configuration file

   <b>Importing</b> <b>Modules</b>
       To import a module (e.g. <b>glom</b>) during initialization, just add the <b>import</b> statement to your <b>.jelloconf.py</b>
       file:

              from glom import *

       Then you can use <b>glom</b> in your jello filters without importing:

              $ jc -a | jello -i 'glom(_, "parsers.25.name")'
              "lsblk"

   <b>Adding</b> <b>Functions</b>
       You can also add functions to your initialization file. For example,  you  could  simplify  <b>glom</b>  use  by
       adding the following function to <b>.jelloconf.py</b>:

              def g(query):
                  import glom
                  return glom.glom(_, query)

       Then you can use the following syntax to filter the JSON data:

              $ jc -a | jello -i 'g("parsers.6.compatible")'
              [
                "linux",
                "darwin",
                "cygwin",
                "win32",
                "aix",
                "freebsd"
              ]

       Or create names for commonly used queries:

              def darwin_compatible():
                  result = []
                  for entry in _.parsers:
                    if "darwin" in entry.compatible:
                      result.append(entry.name)
                  return result

       Then use the predefined query like so:

              $ jc -a | jello -i 'darwin_compatible()'
              [
                "airport",
                "airport-s",
                "arp"
              ]

   <b>Setting</b> <b>Custom</b> <b>Colors</b> <b>via</b> <b>Environment</b> <b>Variable</b>
       In  addition to setting custom colors in the <b>.jelloconf.py</b> initialization file, you can also set them via
       the <b>JELLO_COLORS</b> environment variable. Any colors set in the environment variable  will  take  precedence
       over any colors set in the initialization file.

       The <b>JELLO_COLORS</b> environment variable takes four comma separated string values in the following format:

              JELLO_COLORS=&lt;keyname_color&gt;,&lt;keyword_color&gt;,&lt;number_color&gt;,&lt;string_color&gt;

       Where  colors  are:  <b>black</b>,  <b>red</b>,  <b>green</b>,  <b>yellow</b>,  <b>blue</b>,  <b>magenta</b>,  <b>cyan</b>,  <b>gray</b>, <b>brightblack</b>, <b>brightred</b>,
       <b>brightgreen</b>, <b>brightyellow</b>, <b>brightblue</b>, <b>brightmagenta</b>, <b>brightcyan</b>, <b>white</b>, or <b>default</b>

       For example, to set to the default colors:

              JELLO_COLORS=blue,brightblack,magenta,green

       or

              JELLO_COLORS=default,default,default,default

   <b>Disable</b> <b>Colors</b> <b>via</b> <b>Environment</b> <b>Variable</b>
       You can set the <b>NO_COLOR</b> environment variable to any value to disable color output in  <b>jello</b>.  Note  that
       using the <b>-C</b> option to force color output will override both the <b>NO_COLOR</b> environment variable and the <b>-m</b>
       option.

</pre><h4><b>AUTHOR</b></h4><pre>
       Kelly Brazil (<a href="mailto:kellyjonbrazil@gmail.com">kellyjonbrazil@gmail.com</a>)

       https://github.com/kellyjonbrazil/jello

</pre><h4><b>COPYRIGHT</b></h4><pre>
       Copyright (c) 2020-2023 Kelly Brazil

       License: MIT License

1.6.0                                              2022-06-26                                           <u><a href="../man1/jello.1.html">jello</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>