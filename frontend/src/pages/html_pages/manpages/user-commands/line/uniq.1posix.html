<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>This  manual  page  is part of the POSIX Programmer's Manual.  The Linux implementation of this interface</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/manpages-posix">manpages-posix_2017a-2_all</a> <br><br><pre>
</pre><h4><b>PROLOG</b></h4><pre>
       This  manual  page  is part of the POSIX Programmer's Manual.  The Linux implementation of this interface
       may differ (consult the corresponding Linux manual page for details of Linux behavior), or the  interface
       may not be implemented on Linux.

</pre><h4><b>NAME</b></h4><pre>
       uniq — report or filter out repeated lines in a file

</pre><h4><b>SYNOPSIS</b></h4><pre>
       uniq <b>[</b>-c|-d|-u<b>]</b> <b>[</b>-f <u>fields</u><b>]</b> <b>[</b>-s <u>char</u><b>]</b> <b>[</b><u>input_file</u> <b>[</b><u>output_file</u><b>]]</b>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The <u>uniq</u> utility shall read an input file comparing adjacent lines, and write one copy of each input line
       on  the  output.  The second and succeeding copies of repeated adjacent input lines shall not be written.
       The trailing &lt;newline&gt; of each line in the input shall be ignored when doing comparisons.

       Repeated lines in the input shall not be detected if they are not adjacent.

</pre><h4><b>OPTIONS</b></h4><pre>
       The <u>uniq</u> utility shall conform to the Base Definitions volume  of  POSIX.1‐2017,  <u>Section</u>  <u>12.2</u>,  <u>Utility</u>
       <u>Syntax</u> <u>Guidelines</u>, except that <b>'+'</b> may be recognized as an option delimiter as well as <b>'-'</b>.

       The following options shall be supported:

       <b>-c</b>        Precede each output line with a count of the number of times the line occurred in the input.

       <b>-d</b>        Suppress the writing of lines that are not repeated in the input.

       <b>-f</b> <u>fields</u> Ignore  the  first  <u>fields</u>  fields on each input line when doing comparisons, where <u>fields</u> is a
                 positive decimal integer.  A  field  is  the  maximal  string  matched  by  the  basic  regular
                 expression:

                     [[:blank:]]*[^[:blank:]]*

                 If the <u>fields</u> option-argument specifies more fields than appear on an input line, a null string
                 shall be used for comparison.

       <b>-s</b> <u>chars</u>  Ignore  the  first  <u>chars</u>  characters  when  doing comparisons, where <u>chars</u> shall be a positive
                 decimal integer. If specified in conjunction with the <b>-f</b> option,  the  first  <u>chars</u>  characters
                 after  the  first  <u>fields</u>  fields shall be ignored. If the <u>chars</u> option-argument specifies more
                 characters than remain on an input line, a null string shall be used for comparison.

       <b>-u</b>        Suppress the writing of lines that are repeated in the input.

</pre><h4><b>OPERANDS</b></h4><pre>
       The following operands shall be supported:

       <u>input_file</u>
                 A pathname of the input file. If the <u>input_file</u> operand is not specified, or if the  <u>input_file</u>
                 is <b>'-'</b>, the standard input shall be used.

       <u>output_file</u>
                 A pathname of the output file. If the <u>output_file</u> operand is not specified, the standard output
                 shall  be  used. The results are unspecified if the file named by <u>output_file</u> is the file named
                 by <u>input_file</u>.

</pre><h4><b>STDIN</b></h4><pre>
       The standard input shall be used only if no <u>input_file</u> operand is specified or if <u>input_file</u> is <b>'-'</b>.  See
       the INPUT FILES section.

</pre><h4><b>INPUT</b> <b>FILES</b></h4><pre>
       The input file shall be a text file.

</pre><h4><b>ENVIRONMENT</b> <b>VARIABLES</b></h4><pre>
       The following environment variables shall affect the execution of <u>uniq</u>:

       <u>LANG</u>      Provide a default value for the internationalization variables that are unset or null. (See the
                 Base Definitions volume of POSIX.1‐2017, <u>Section</u> <u>8.2</u>, <u>Internationalization</u>  <u>Variables</u>  for  the
                 precedence   of   internationalization  variables  used  to  determine  the  values  of  locale
                 categories.)

       <u>LC_ALL</u>    If set to a non-empty string value, override the values of all the  other  internationalization
                 variables.

       <u>LC_CTYPE</u>  Determine  the  locale  for the interpretation of sequences of bytes of text data as characters
                 (for example, single-byte as opposed to multi-byte characters in arguments and input files) and
                 which characters constitute a &lt;blank&gt; in the current locale.

       <u>LC_MESSAGES</u>
                 Determine the locale that should be used to  affect  the  format  and  contents  of  diagnostic
                 messages written to standard error.

       <u>NLSPATH</u>   Determine the location of message catalogs for the processing of <u>LC_MESSAGES</u>.

</pre><h4><b>ASYNCHRONOUS</b> <b>EVENTS</b></h4><pre>
       Default.

</pre><h4><b>STDOUT</b></h4><pre>
       The  standard  output  shall  be  used  if  no <u>output_file</u> operand is specified, and shall be used if the
       <u>output_file</u> operand is <b>'-'</b> and the implementation treats the <b>'-'</b> as meaning standard  output.  Otherwise,
       the standard output shall not be used.  See the OUTPUT FILES section.

</pre><h4><b>STDERR</b></h4><pre>
       The standard error shall be used only for diagnostic messages.

</pre><h4><b>OUTPUT</b> <b>FILES</b></h4><pre>
       If the <b>-c</b> option is specified, the output file shall be empty or each line shall be of the form:

           "%d %s", &lt;<u>number</u> <u>of</u> <u>duplicates</u>&gt;, &lt;<u>line</u>&gt;

       otherwise, the output file shall be empty or each line shall be of the form:

           "%s", &lt;<u>line</u>&gt;

</pre><h4><b>EXTENDED</b> <b>DESCRIPTION</b></h4><pre>
       None.

</pre><h4><b>EXIT</b> <b>STATUS</b></h4><pre>
       The following exit values shall be returned:

        0    The utility executed successfully.

       &gt;0    An error occurred.

</pre><h4><b>CONSEQUENCES</b> <b>OF</b> <b>ERRORS</b></h4><pre>
       Default.

       <u>The</u> <u>following</u> <u>sections</u> <u>are</u> <u>informative.</u>

</pre><h4><b>APPLICATION</b> <b>USAGE</b></h4><pre>
       If  the collating sequence of the current locale has a total ordering of all characters, the <u>sort</u> utility
       can be used to cause repeated lines to be adjacent in the input file. If the collating sequence does  not
       have  a  total  ordering  of  all  characters, the <u>sort</u> utility should still do this but it might not. To
       ensure that all duplicate lines are eliminated, and  have  the  output  sorted  according  the  collating
       sequence of the current locale, applications should use:

           LC_ALL=C sort -u | sort

       instead of:

           sort | uniq

       To  remove  duplicate  lines based on whether they collate equally instead of whether they are identical,
       applications should use:

           sort -u

       instead of:

           sort | uniq

       When using <u>uniq</u> to process pathnames, it is recommended that LC_ALL, or at least LC_CTYPE and LC_COLLATE,
       are set to POSIX or C in the environment, since pathnames can contain byte sequences  that  do  not  form
       valid  characters  in some locales, in which case the utility's behavior would be undefined. In the POSIX
       locale each byte is a valid single-byte character, and therefore this problem is avoided.

</pre><h4><b>EXAMPLES</b></h4><pre>
       The following input file data (but flushed left) was used for a test series on <u>uniq</u>:

           #01 foo0 bar0 foo1 bar1
           #02 bar0 foo1 bar1 foo1
           #03 foo0 bar0 foo1 bar1
           #04
           #05 foo0 bar0 foo1 bar1
           #06 foo0 bar0 foo1 bar1
           #07 bar0 foo1 bar1 foo0

       What follows is a series of test invocations of the <u>uniq</u> utility that  use  a  mixture  of  <u>uniq</u>  options
       against  the  input  file  data.  These tests verify the meaning of <u>adjacent</u>.  The <u>uniq</u> utility views the
       input data as a sequence of strings delimited by <b>'\n'</b>.  Accordingly,  for  the  <u>fields</u>th  member  of  the
       sequence, <u>uniq</u> interprets unique or repeated adjacent lines strictly relative to the <u>fields</u>+1th member.

        1. This  first  example  tests  the  line  counting  option,  comparing each line of the input file data
           starting from the second field:

               uniq -c -f 1 uniq_0I.t
                   1 #01 foo0 bar0 foo1 bar1
                   1 #02 bar0 foo1 bar1 foo1
                   1 #03 foo0 bar0 foo1 bar1
                   1 #04
                   2 #05 foo0 bar0 foo1 bar1
                   1 #07 bar0 foo1 bar1 foo0

           The number <b>'2'</b>, prefixing the fifth line of output, signifies that the <u>uniq</u> utility detected  a  pair
           of repeated lines. Given the input data, this can only be true when <u>uniq</u> is run using the <b>-f</b> <b>1</b> option
           (which shall cause <u>uniq</u> to ignore the first field on each input line).

        2. The  second  example tests the option to suppress unique lines, comparing each line of the input file
           data starting from the second field:

               uniq -d -f 1 uniq_0I.t
               #05 foo0 bar0 foo1 bar1

        3. This test suppresses repeated lines, comparing each line of the input file  data  starting  from  the
           second field:

               uniq -u -f 1 uniq_0I.t
               #01 foo0 bar0 foo1 bar1
               #02 bar0 foo1 bar1 foo1
               #03 foo0 bar0 foo1 bar1
               #04
               #07 bar0 foo1 bar1 foo0

        4. This  suppresses  unique  lines,  comparing  each line of the input file data starting from the third
           character:

               uniq -d -s 2 uniq_0I.t

           In the last example, the <u>uniq</u> utility found no input matching the above criteria.

</pre><h4><b>RATIONALE</b></h4><pre>
       Some historical implementations have limited lines to be 1080 bytes in length, which does  not  meet  the
       implied {LINE_MAX} limit.

       Earlier  versions  of  this standard allowed the <b>-</b><u>number</u> and <b>+</b><u>number</u> options. These options are no longer
       specified by POSIX.1‐2008 but may be present in some implementations.

</pre><h4><b>FUTURE</b> <b>DIRECTIONS</b></h4><pre>
       None.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <u>comm</u>, <u>sort</u>

       The Base Definitions volume of POSIX.1‐2017, <u>Chapter</u> <u>8</u>,  <u>Environment</u>  <u>Variables</u>,  <u>Section</u>  <u>12.2</u>,  <u>Utility</u>
       <u>Syntax</u> <u>Guidelines</u>

</pre><h4><b>COPYRIGHT</b></h4><pre>
       Portions of this text are reprinted and reproduced in electronic form from IEEE Std 1003.1-2017, Standard
       for  Information  Technology  --  Portable  Operating  System  Interface  (POSIX),  The  Open  Group Base
       Specifications Issue 7, 2018 Edition, Copyright (C) 2018 by the Institute of Electrical  and  Electronics
       Engineers, Inc and The Open Group.  In the event of any discrepancy between this version and the original
       IEEE  and The Open Group Standard, the original IEEE and The Open Group Standard is the referee document.
       The original Standard can be obtained online at <a href="http://www.opengroup.org/unix/online.html">http://www.opengroup.org/unix/online.html</a> .

       Any typographical or formatting errors that appear in this page are most likely to have  been  introduced
       during   the   conversion  of  the  source  files  to  man  page  format.  To  report  such  errors,  see
       https://www.kernel.org/doc/man-pages/reporting_bugs.html .

IEEE/The Open Group                                   2017                                          <u><a href="../man1POSIX/UNIQ.1POSIX.html">UNIQ</a></u>(1POSIX)
</pre>
 </div>
</div></section>
</div>
</body>
</html>