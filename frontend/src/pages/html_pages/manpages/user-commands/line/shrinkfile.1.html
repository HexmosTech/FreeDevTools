<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>shrinkfile - Shrink files on line boundaries</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/inn2">inn2_2.7.3~20250201-1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       shrinkfile - Shrink files on line boundaries

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>shrinkfile</b> [<b>-nv</b>] [<b>-m</b> <u>maxsize</u>] [<b>-s</b> <u>size</u>] <u>file</u> [<u>file</u> ...]

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The <b>shrinkfile</b> program shrinks files to at most a given <u>size</u> when their size is larger than <u>maxsize</u>,
       preserving the data at the end of the file.  Truncation is performed on line boundaries, where a line is
       a series of bytes ending with a newline ("\n").  There is no line length restriction and files may
       contain any binary data.

       If the first line is longer than the absolute value of <u>size</u>, the file will be truncated to zero length.

       The maximum file size <b>shrinkfile</b> can handle is 2,147,483,647 bytes.

       Temporary files are created in the <u>pathtmp</u> directory as set in <u>inn.conf</u>.  The "TMPDIR" environment
       variable may be used to specify a different directory.

       A newline will be added to any non-empty file that does not end with a newline, if naturally the
       resulting file size does not exceed <u>size</u> by this addition.

       This program is currently used by only <a href="../man8/nntpsend.8.html">nntpsend</a>(8).

</pre><h4><b>OPTIONS</b></h4><pre>
       <b>-m</b> <u>maxsize</u>
           This option sets the maximum size allowed before truncation occurs.

           By  default,  <u>maxsize</u>  is  the same as <u>size</u> (as set with the <b>-s</b> flag).  If <u>maxsize</u> is less than <u>size</u>,
           <u>maxsize</u> is reset to <u>size</u>.

           This parameter may end with a "k", "m" or "g", indicating kilobyte (1,024 bytes), megabyte (1,048,576
           bytes) or gigabyte (1,073,741,824 bytes) lengths.  Uppercase letters are also allowed.

       <b>-n</b>  This flag is used to determine if any file is too large.  No files will be altered in this mode.

           Exits with status code "0" if any file is larger than <u>maxsize</u> (as set with the <b>-m</b>  flag),  and  exits
           with status code "1" otherwise.

       <b>-s</b> <u>size</u>
           By  default, <u>size</u> is assumed to be zero and files are truncated to zero bytes.  This flag may be used
           to change the truncation size.  Because the program truncates only on line boundaries, the final size
           may be smaller than the specified truncation size.

           This parameter may end with a "k", "m" or "g", indicating kilobyte (1,024 bytes), megabyte (1,048,576
           bytes) or gigabyte (1,073,741,824 bytes) lengths.  Uppercase letters are also allowed.

       <b>-v</b>  Prints to standard output a status line if a file was shrunk.

</pre><h4><b>EXAMPLES</b></h4><pre>
       Example usage:

           shrinkfile -s 4m curds
           shrinkfile -s 1g -v whey
           shrinkfile -s 500k -m 4m -v curds whey
           if shrinkfile -n -s 100m whey; then echo "whey is way too big"; fi

       The first command shrinks <u>curds</u> to 4 MB if bigger than this size.  The second  command  shrinks  <u>whey</u>  to
       1 GB  and  outputs a log line if the file is bigger than this size.  The third command shrinks both <u>curds</u>
       and <u>whey</u> to 500 kB if bigger than 4 MB, and outputs a log line for the files it has shrunk.   The  fourth
       command just prints a sentence if "whey" is bigger than 100 MB, without shrinking it.

</pre><h4><b>HISTORY</b></h4><pre>
       Written  by  Landon  Curt  Noll  &lt;<a href="mailto:chongo@toad.com">chongo@toad.com</a>&gt;  and  Rich $alz &lt;<a href="mailto:rsalz@uunet.uu.net">rsalz@uunet.uu.net</a>&gt; for InterNetNews.
       Rewritten into POD by Julien Elie.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <a href="../man8/nntpsend.8.html">nntpsend</a>(8).

INN 2.7.3                                          2025-02-21                                      <u><a href="../man1/SHRINKFILE.1.html">SHRINKFILE</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>