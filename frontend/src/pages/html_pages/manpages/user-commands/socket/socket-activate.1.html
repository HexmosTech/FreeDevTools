<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>socket-activate - open sockets and exec a systemd-style socket-activated service</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/sasa">sasa_0.3-1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       socket-activate - open sockets and exec a systemd-style socket-activated service

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>socket-activate</b> [<b>-v</b>] [<u>socketinfo</u> ...]  [<b>--</b>] <u>prog</u> [<u>args</u>]

       where <u>socketinfo</u> is of the form:

       --<u>family</u>:[<u>option</u>=<u>value</u>,...]:<u>address</u>

       See EXAMPLES below.

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The  socket-activate  program  opens  the requested sockets and then waits for incoming activity on them.
       When this happens, it execs <u>prog</u>, which inherits these open file descriptors.  The first requested socket
       will be opened on file descriptor 3, and subsequent ones follow in order.

       If -v or --verbose is present, socket-activate will write details of what it is doing to stderr before it
       execs <u>prog</u>.

       <u>prog</u> is the first argument that does not start with a -, or the first argument after a --.

</pre><h4><b>SOCKET</b> <b>FAMILIES</b></h4><pre>
       <u>family</u> can be one of several different values.

       For the following values of <u>family</u>, if <u>address</u> is a single decimal number, it is treated as a port number
       and socket-activate will bind to all available addresses on that port.  If <u>address</u> contains a /, the part
       before the / is interpreted as a network address of the requested family, and the part  after  the  /  is
       treated as a port number.

       • tcp: TCP on IPv4 and/or IPv6

       • udp: UDP on IPv4 and/or IPv6

       For the following values of <u>family</u>, <u>address</u> is interpreted as a filesystem path.

       • unix: Unix-domain streaming socket

       • unix-dgram: Unix-domain datagram socket

</pre><h4><b>SOCKET</b> <b>OPTIONS</b></h4><pre>
       Each  <u>socketinfo</u>  can  have  0  or more options appended to it, separated by the comma character (,) with
       their value appended after an equals sign (=).

       Available options are:

       • label: simple text string to identify this socket to the inheriting process

       • backlog: For streaming sockets (tcp and unix), the maximum queue for pending connections (see <a href="../man2/listen.2.html">listen</a>(2)
         – defaults to SOMAXCONN).

       • mode: octal mode for Unix-domain socket (defaults to relying on <a href="../man2/umask.2.html">umask</a>(2))

       • user: a numeric User ID value for Unix-domain socket ownership

       • group: a numeric Group ID value for Unix-domain socket ownership

</pre><h4><b>EXIT</b> <b>CODES</b></h4><pre>
       socket-activate exits 100 when called with unparseable options.  It prints an error message to stderr and
       exits 11 if it cannot successfully bind all of the requested sockets.  It  prints  an  error  message  to
       stderr and exits with the value of errno if it is unable to <a href="../man3/exec.3.html">exec</a>(3) the intended process.  Otherwise, its
       exit code is the same as that of <u>prog</u>.

</pre><h4><b>ENVIRONMENT</b> <b>VARIABLES</b></h4><pre>
       socket-activate  stores  the  number  of opened file descriptors in the environment variable $LISTEN_FDS,
       sets $LISTEN_PID to <a href="../man2/getpid.2.html">getpid</a>(2), and stores the list of colon-separated labels in $LISTEN_FDNAMES.

       These environment variables follow the convention understood by libsystemd (see <a href="../man3/sd_listen_fds.3.html">sd_listen_fds</a>(3))  so  it
       should be usable with any socket-activated daemon that expects this behavior.

</pre><h4><b>EXAMPLES</b></h4><pre>
       Run  a  webserver as a non-privileged user, using privileged ports, and indicating to the webserver which
       ports should offer HTTPS:

              socket-activate --tcp::80 --tcp:label=tls:443 -- \
               runuser -u httpd -- \
                webserver

       Expose a foregrounded (supervised) pulseaudio daemon to the network:

              socket-activate --tcp:backlog=5:1000 -- \
               pulseaudio --daemonize=no

       Run a network daemon only on the IPv4 loopback:

              socket-activate --tcp::127.0.0.1/9999 -- \
               network-daemon

       Run a network daemon over a unix-domain socket instead of IP:

              socket-activate --unix::/srv/network-access -- \
               network-daemon

       Run a public-facing network daemon with a local socket for the local administrator to control it:

              socket-activate --tcp::443 --unix:label=control,user=1000,mode=0600:/run/xyz/control -- \
               xyzd

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <a href="../man3/exec.3.html">exec</a>(3), <a href="../man2/listen.2.html">listen</a>(2), <a href="../man1/runuser.1.html">runuser</a>(1), <a href="../man3/sd_listen_fds.3.html">sd_listen_fds</a>(3), <a href="../man2/umask.2.html">umask</a>(2)

</pre><h4><b>AUTHOR</b></h4><pre>
       Mark Hindley <a href="mailto:mark@hindley.org.uk">mark@hindley.org.uk</a>

       Originally written for (socket-activate)[https://gitlab.com/dkg/socket-activate] by Daniel  Kahn  Gillmor
       <a href="mailto:dkg@fifthhorseman.net">dkg@fifthhorseman.net</a>

July 2024                                                                                     <u><a href="../man1/SOCKET-ACTIVATE.1.html">SOCKET-ACTIVATE</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>