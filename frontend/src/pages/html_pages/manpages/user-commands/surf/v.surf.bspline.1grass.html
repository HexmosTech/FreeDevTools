<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>v.surf.bspline  - Performs bicubic or bilinear spline interpolation with Tykhonov regularization.</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/grass-doc">grass-doc_8.4.1-1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       <b>v.surf.bspline</b>  - Performs bicubic or bilinear spline interpolation with Tykhonov regularization.

</pre><h4><b>KEYWORDS</b></h4><pre>
       vector, surface, interpolation, LIDAR

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>v.surf.bspline</b>
       <b>v.surf.bspline</b> <b>--help</b>
       <b>v.surf.bspline</b>  [-<b>ce</b>]  <b>input</b>=<u>name</u>   [<b>layer</b>=<u>string</u>]    [<b>column</b>=<u>name</u>]   [<b>sparse_input</b>=<u>name</u>]   [<b>output</b>=<u>name</u>]
       [<b>raster_output</b>=<u>name</u>]       [<b>mask</b>=<u>name</u>]       [<b>ew_step</b>=<u>float</u>]       [<b>ns_step</b>=<u>float</u>]        [<b>method</b>=<u>string</u>]
       [<b>lambda_i</b>=<u>float</u>]      [<b>solver</b>=<u>name</u>]      [<b>maxit</b>=<u>integer</u>]      [<b>error</b>=<u>float</u>]     [<b>memory</b>=<u>memory</u>   <u>in</u>   <u>MB</u>]
       [--<b>overwrite</b>]  [--<b>help</b>]  [--<b>verbose</b>]  [--<b>quiet</b>]  [--<b>ui</b>]

   <b>Flags:</b>
       <b>-c</b>
           Find the best Tykhonov regularizing parameter using a "leave-one-out" cross validation method

       <b>-e</b>
           Estimate point density and distance
           Estimate point density and distance in map units for the  input  vector  points  within  the  current
           region extents and quit

       <b>--overwrite</b>
           Allow output files to overwrite existing files

       <b>--help</b>
           Print usage summary

       <b>--verbose</b>
           Verbose module output

       <b>--quiet</b>
           Quiet module output

       <b>--ui</b>
           Force launching GUI dialog

   <b>Parameters:</b>
       <b>input</b>=<u>name</u> <b>[required]</b>
           Name of input vector point map
           Or data source for direct OGR access

       <b>layer</b>=<u>string</u>
           Layer number or name
           Vector  features  can have category values in different layers. This number determines which layer to
           use. When used with direct OGR access this is the layer name.
           Default: <u>1</u>

       <b>column</b>=<u>name</u>
           Name of the attribute column with values to be used for approximation
           If not given and input is 3D vector map then z-coordinates are used.

       <b>sparse_input</b>=<u>name</u>
           Name of input vector map with sparse points
           Or data source for direct OGR access

       <b>output</b>=<u>name</u>
           Name for output vector map

       <b>raster_output</b>=<u>name</u>
           Name for output raster map

       <b>mask</b>=<u>name</u>
           Raster map to use for masking (applies to raster output only)
           Only cells that are not NULL and not zero are interpolated

       <b>ew_step</b>=<u>float</u>
           Length of each spline step in the east-west direction
           Default: 4 * east-west resolution

       <b>ns_step</b>=<u>float</u>
           Length of each spline step in the north-south direction
           Default: 4 * north-south resolution

       <b>method</b>=<u>string</u>
           Spline interpolation algorithm
           Options: <u>bilinear,</u> <u>bicubic</u>
           Default: <u>bilinear</u>
           <b>bilinear</b>: Bilinear interpolation
           <b>bicubic</b>: Bicubic interpolation

       <b>lambda_i</b>=<u>float</u>
           Tykhonov regularization parameter (affects smoothing)
           Default: <u>0.01</u>

       <b>solver</b>=<u>name</u>
           The type of solver which should solve the symmetric linear equation system
           Options: <u>cholesky,</u> <u>cg</u>
           Default: <u>cholesky</u>

       <b>maxit</b>=<u>integer</u>
           Maximum number of iteration used to solve the linear equation system
           Default: <u>10000</u>

       <b>error</b>=<u>float</u>
           Error break criteria for iterative solver
           Default: <u>0.000001</u>

       <b>memory</b>=<u>memory</u> <u>in</u> <u>MB</u>
           Maximum memory to be used (in MB)
           Cache size for raster rows
           Default: <u>300</u>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <u>v.surf.bspline</u> performs a bilinear/bicubic spline interpolation with Tykhonov regularization.  The  <b>input</b>
       is a 2D or 3D vector <u>point</u> layer. Values to interpolate can be the z values of 3D points or the values in
       a  user-specified  attribute column in a 2D or 3D vector layer. Output can be a raster (<b>raster_output</b>) or
       vector (<b>output</b>) layer.  Optionally, a "sparse point" vector  layer  can  be  input  which  indicates  the
       location of <b>output</b> vector points.

</pre><h4><b>NOTES</b></h4><pre>
       From  a  theoretical  perspective,  the interpolating procedure takes place in two parts: the first is an
       estimate of the linear coefficients of a spline function, which is derived from  the  observation  points
       using  a  least  squares  regression.  The  second  is  the  computation  of  the interpolated surface or
       interpolated vector points. As used here, the splines are 2D  piece-wise  non-zero  polynomial  functions
       calculated  within  a  limited,  2D area. The length, in mapping units, of each spline step is defined by
       <b>ew_step</b> for the east-west direction and <b>ns_step</b> for the north-south direction. For  optimal  performance,
       the  length  of  spline  step should be no less than the distance between observation points. Each vector
       point observation is modeled as a linear function  of  the  non-zero  splines  in  the  area  around  the
       observation.  The  least  squares  regression  predicts  the  the coefficients of these linear functions.
       Regularization avoids the need to have one observation and one coefficient for each spline (in  order  to
       avoid instability).

       With  regularly  distributed data points, a spline step corresponding to the maximum distance between two
       points in both the east and north directions is sufficient. However, data points are often not  regularly
       distributed  and  require  statistical  regularization  or estimation. In such cases, v.surf.bspline will
       attempt to minimize the gradient of bilinear splines or the curvature of bicubic splines in areas lacking
       point observations. As a general rule, the spline step length should be greater than  the  mean  distance
       between  observation  points  (twice  the  distance  between  points  is a good starting point). Separate
       east-west and north-south spline step length arguments allows the user to  account  for  some  degree  of
       anisotropy  in  the distribution of observation points. Short spline step lengths, especially spline step
       lengths that are less than the distance between observation points, can greatly increase  the  processing
       time.

       The  maximum  number  of  splines for each direction at each time is fixed, regardless of the spline step
       length. As the total number of splines increases (i.e., with small spline step lengths),  the  region  is
       automatically  split  into  subregions for interpolation. Each subregion can contain no more than 150x150
       splines. To avoid subregion boundary problems, subregions are created to partially overlap each other.  A
       weighted mean of observations, based on point locations, is calculated within each subregion.

       The Tykhonov regularization parameter, <b>lambda_i</b>, acts to smooth the interpolation. With a small <b>lambda_i</b>,
       the  interpolated  surface  closely  follows  observation  points; a larger value will produce a smoother
       interpolation.

       The input can be a 2D or 3D point vector layer. If input is 3D and <b>column</b> is not given than z-coordinates
       are used for interpolation. Parameter <b>column</b> is required when input is 2D vector layer.

       <u>v.surf.bspline</u> can produce raster (<b>raster_output</b>) OR vector <b>output</b>  but  NOT  simultaneously.  Note  that
       topology  is  not  built  for  output  point  vector  layer. If required, the topology can be built using
       <u>v.build</u>.

       If output is a point vector layer and <b>sparse</b> is not specified,  the  output  vector  layer  will  contain
       points at the same locations as observation points in the input layer but the values of the output points
       will  be  interpolated  values. If a <b>sparse</b> point vector layer is specified, the output vector layer will
       contain points at the same locations as the sparse vector layer points. The values will be those  of  the
       interpolated raster surface at those points.

       A  cross validation "leave-one-out" analysis is available to help to determine the optimal <b>lambda_i</b> value
       that produces an interpolation that best fits the original observation data. The  more  points  used  for
       cross-validation,  the longer the time needed for computation. Empirical testing indicates a threshold of
       a maximum of 100 points is recommended. Note that cross validation can run very slowly if more  than  100
       observations  are  used.  The cross-validation output reports <u>mean</u> and <u>rms</u> of the residuals from the true
       point value and the estimated from the interpolation for a fixed series of <b>lambda_i</b> values. No vector nor
       raster output will be created when cross-validation is selected.

</pre><h4><b>EXAMPLES</b></h4><pre>
   <b>Basic</b> <b>interpolation</b>
       v.surf.bspline input=point_vector output=interpolate_surface method=bicubic
       A bicubic spline interpolation will be done and a point vector layer with estimated (i.e.,  interpolated)
       values will be created.

   <b>Basic</b> <b>interpolation</b> <b>and</b> <b>raster</b> <b>output</b> <b>with</b> <b>a</b> <b>longer</b> <b>spline</b> <b>step</b>
       v.surf.bspline input=point_vector raster=interpolate_surface ew_step=25 ns_step=25
       A  bilinear  spline interpolation will be done with a spline step length of 25 map units. An interpolated
       raster layer will be created at the current region resolution.

   <b>Estimation</b> <b>of</b> <b>lambda_i</b> <b>parameter</b> <b>with</b> <b>a</b> <b>cross</b> <b>validation</b> <b>process</b>
       v.surf.bspline -c input=point_vector

   <b>Estimation</b> <b>on</b> <b>sparse</b> <b>points</b>
       v.surf.bspline input=point_vector sparse=sparse_points output=interpolate_surface
       An output layer of vector points will  be  created,  corresponding  to  the  sparse  vector  layer,  with
       interpolated values.

   <b>Using</b> <b>attribute</b> <b>values</b> <b>instead</b> <b>z-coordinates</b>
       v.surf.bspline input=point_vector raster=interpolate_surface layer=1 \
         column=attrib_column
       The interpolation will be done using the values in <u>attrib_column</u>, in the table associated with layer 1.

   <b>North</b> <b>Carolina</b> <b>dataset</b> <b>example</b> <b>using</b> <b>z-coordinates</b> <b>for</b> <b>interpolation</b>
       g.region region=rural_1m res=2 -p
       v.surf.bspline input=elev_lid792_bepts raster=elev_lid792_rast \
         ew_step=5 ns_step=5 method=bicubic lambda_i=0.1

</pre><h4><b>KNOWN</b> <b>ISSUES</b></h4><pre>
       In  order  to  avoid  RAM  memory  problems, an auxiliary table is needed for recording some intermediate
       calculations. This requires the <u>GROUP</u> <u>BY</u> SQL function is used. This function is not supported by the  DBF
       driver.  For  this  reason,  vector  output  (<b>output</b>)  is not permitted with the DBF driver. There are no
       problems with the raster map output from the DBF driver.

</pre><h4><b>REFERENCES</b></h4><pre>
           •   Brovelli M. A., Cannata M., and Longoni U.M., 2004, LIDAR Data Filtering  and  DTM  Interpolation
               Within  GRASS,  Transactions  in  GIS,  April  2004,  vol.  8, iss. 2, pp. <a href="../man20/155-174.20.html">155-174</a>(20), Blackwell
               Publishing Ltd

           •   Brovelli M. A. and Cannata M., 2004, Digital Terrain model reconstruction  in  urban  areas  from
               airborne laser scanning data: the method and an example for Pavia (Northern Italy). Computers and
               Geosciences 30, pp.325-331

           •   Brovelli  M.  A  e  Longoni  U.M.,  2003,  Software  per  il  filtraggio  di  dati LIDAR, Rivista
               dell’Agenzia del Territorio, n. 3-2003, pp. 11-22 (ISSN 1593-2192)

           •   Antolin R. and Brovelli M.A., 2007, LiDAR data Filtering with GRASS GIS for the Determination  of
               Digital  Terrain  Models.  Proceedings  of  Jornadas  de  SIG  Libre,  Girona,  España.  CD ISBN:
               978-84-690-3886-9

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
        <u>v.surf.idw,</u> <u>v.surf.rst</u>

       Overview: Interpolation and Resampling in GRASS GIS

</pre><h4><b>AUTHORS</b></h4><pre>
       Original version (s.bspline.reg) in GRASS 5.4:  Maria  Antonia  Brovelli,  Massimiliano  Cannata,  Ulisse
       Longoni, Mirko Reguzzoni
       Update for GRASS 6 and improvements: Roberto Antolin

</pre><h4><b>SOURCE</b> <b>CODE</b></h4><pre>
       Available at: v.surf.bspline source code (history)

       Accessed: Friday Apr 04 01:20:35 2025

       Main index | Vector index | Topics index | Keywords index | Graphical index | Full index

       © 2003-2025 GRASS Development Team, GRASS GIS 8.4.1 Reference Manual

GRASS 8.4.1                                                                               <u><a href="../man1grass/v.surf.bspline.1grass.html">v.surf.bspline</a></u>(1grass)
</pre>
 </div>
</div></section>
</div>
</body>
</html>