<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>btrfs-heatmap - visualize the layout of data on your btrfs filesystem</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/btrfs-heatmap">btrfs-heatmap_9-1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       btrfs-heatmap - visualize the layout of data on your btrfs filesystem

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>btrfs-heatmap</b> [<u>args</u>] <u>mountpoint</u>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The <b>btrfs-heatmap</b> script creates a visualization of how a btrfs filesystem is using the underlying disk
       space of the block devices that are added to it.

       The resulting PNG image will show unallocated disk space as black pixels. Raw disk space that is
       allocated to be used for data (white), metadata (blue) or system (red) gets brighter if the fill factor
       of block groups is higher.

       Because the needed information is retrieved using the btrfs kernel API, it has to be run as root.

       By default, the filename of the PNG image is a combination of the filesystem ID and a timestamp, so that
       if you create multiple of them, they nicely pile up as input for creating a timelapse video.

   <b>About</b> <b>the</b> <b>ordering</b> <b>of</b> <b>data</b> <b>in</b> <b>the</b> <b>picture</b>
       By default, the ordering inside the picture is based on a Hilbert Curve. The lowest physical address of
       the block devices is located in the bottom left corner. From there it walks up, to the right and down
       again.

   <b>In</b> <b>btrfs</b> <b>technical</b> <b>terms</b> <b>speaking...</b>
       The picture that is generated by default shows the physical address space of a filesystem, by walking all
       dev extents of all devices in the filesystem using the search ioctl and concatenating all information
       into a single big image. The usage values are computed by looking up usage counters in the block group
       items from the extent tree.

       It's also possible to have the picture sorted by btrfs virtual address space instead, or to create
       pictures of the contents of block groups, on extent level by using the --blockgroup option.

</pre><h4><b>OPTIONS</b></h4><pre>
       <b>-h</b>, <b>--help</b>
              Show the built-in help message and exit.

       <b>--order</b> <u>order</u>
              Hilbert curve order (default: automatically chosen)

       <b>--size</b> <u>size</u>
              Image size (default: 10). Height/width is 2^size

       <b>--sort</b> {<b>physical</b>|<b>virtual</b>}
              Show disk usage sorted on dev_extent (physical, default) or chunk/stripe (virtual).

       <b>--blockgroup</b> <u>vaddr</u>
              Instead  of  a  filesystem  overview,  show extents in the block group starting at virtual address
              <u>vaddr</u>.

       <b>--curve</b> {<b>hilbert</b>|<b>linear</b>|<b>snake</b>}
              Space filling curve type or alternative. Default is hilbert.

       <b>-v</b>, <b>--verbose</b>
              Increase debug output verbosity. May be specified multiple times to increase verbosity. (<b>-v</b>,  <b>-vv</b>,
              <b>-vvv</b>, etc...)

       <b>-o</b>, <b>--output</b> {<u>filename</u>|<u>directory</u>|<u>-</u>}
              Output  png  file  name  or  directory  (default:  filename automatically chosen).  When using the
              special value '-' as file, the png data will be written to the standard output  instead  of  to  a
              file on disk, so it can be directly viewed by an image viewer, e.g. with catimg.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       Source and documentation on github: https://github.com/knorrie/btrfs-heatmap

                                                       2017                                     <u><a href="../man1/BTRFS-HEATMAP.1.html">BTRFS-HEATMAP</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>