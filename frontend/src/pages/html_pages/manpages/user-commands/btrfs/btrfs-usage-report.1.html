<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>btrfs-usage-report - show a detailed usage report about your btrfs filesystem</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/python3-btrfs">python3-btrfs_14.1-2_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       btrfs-usage-report - show a detailed usage report about your btrfs filesystem

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>btrfs-usage-report</b> [<u>args</u>] <u>mountpoint</u>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The <b>btrfs-usage-report</b> program shows a detailed report about how a btrfs filesystem is using available
       disk space.

       The filesystem to show information about needs to be online and mounted.  Because the needed information
       is retrieved using the btrfs kernel API, it has to be run as root.

       In a btrfs filesystem, raw storage is shared by data of different <u>types</u> (System, MetaData and Data) and
       <u>profiles</u> (e.g. single, DUP, RAID1). Also, a filesystem can have multiple block devices of different sizes
       attached. All of this together confuses regular tools like <u>df</u>, which will already fail to show us how
       much free space we still have to add more data to the filesystem.

       The report will show information about:

       - <u>Physical</u> disk space usage. On this level we can see the amount of disk space allocated for specific
       combinations of type and profile. E.g. 1GiB of Data with profile RAID1 will show that two devices both
       store 1GiB of raw data, because it is duplicated.

       - <u>Virtual</u> disk space usage. The btrfs virtual address space shows the amount of data we store
       disregarding the storage <u>profile</u>. So, if we store 1GiB of data using a RAID1 profile, then the virtual
       address space shows we have 1GiB of data, while the physical space usage will show up as 2GiB in total.
       Note that when using compression, the virtual address space counts compressed data instead of
       uncompressed data.

       - Estimated <u>free</u> virtual space left for use. By extrapolating the current usage patterns, a prediction
       can be made that shows how much extra data can be added to the filesystem. These are the values that you
       would like to have <u>df</u> show you.

       - <u>Unallocatable</u> disk space, which is raw physical disk space that cannot be used, either because
       allocations in the filesystem are unbalanced, or because of having different sizes of devices attached.
       Additionally, it will show us if disk space can be reclaimed for use by using <u>btrfs</u> <u>balance</u>.  When
       converting between profiles, these values can quickly show you if the conversion to another profile can
       actually be completed or not.

</pre><h4><b>OPTIONS</b></h4><pre>
       <b>-h</b>, <b>--help</b>
              Show the built-in help message and exit.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b>btrfs-space-calculator</b> is a program that can calculate the amount of allocatable (and unallocatable) disk
       space based on a list of (maybe differently sized) block devices and target profiles to use.

       This  program  is an example of what can be done using the python-btrfs library.  Do not parse the output
       of this program, as it just displays data that is readily available when using  functionality  from  this
       library.

       Source and documentation on github: https://github.com/knorrie/python-btrfs

                                                      2018                                 <u><a href="../man1/BTRFS-USAGE-REPORT.1.html">BTRFS-USAGE-REPORT</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>