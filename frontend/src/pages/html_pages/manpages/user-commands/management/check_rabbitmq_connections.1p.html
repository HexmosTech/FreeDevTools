<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>check_rabbitmq_connections - Nagios plugin using RabbitMQ management API to count the connections</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/nagios-plugins-rabbitmq">nagios-plugins-rabbitmq_1.2.0-2.5ubuntu1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       check_rabbitmq_connections - Nagios plugin using RabbitMQ management API to count the connections
       running, their state and optionally limit these checks to specific connected client user accounts.

</pre><h4><b>SYNOPSIS</b></h4><pre>
       check_rabbitmq_connections [options] -H hostname

</pre><h4><b>DESCRIPTION</b></h4><pre>
       Use the management interface of RabbitMQ to count the number of established connections, those that are
       not in state running and also their throughput. All values are published as performance metrics for the
       check.

       Critical and warning thresholds can be set for each of the metric.

       It uses Monitoring::Plugin and accepts all standard Nagios options.

</pre><h4><b>OPTIONS</b></h4><pre>
       -h | --help
           Display help text

       -v | --verbose
           Verbose output

       -t | --timeout
           Set a timeout for the check in seconds

       -H | --hostname | --host
           The host to connect to

       --port
           The port to connect to (default: 55672)

       --ssl
           Use SSL when connecting (default: false)

       --username | --user
           The user to connect as (default: guest)

       --pass
           The password for the user (default: guest)

       -w | --warning
           The  warning  levels  for  each  count of connections established, connections in a non-running state
           (flow, blocked), receive rate and send rate.  This field consists  of  one  to  four  comma-separated
           thresholds.  Specify -1 if no threshold for a particular count.

       -c | --critical
           The  critical  levels  for  each count of connections established, connections in a non-running state
           (flow, blocked), receive rate and send rate. This field  consists  of  one  to  four  comma-separated
           thresholds.  Specify -1 if no threshold for a particular count.

       --clientuser
           Specify the client username to limit the connections checks for.

</pre><h4><b>THRESHOLD</b> <b>FORMAT</b></h4><pre>
       The   format   of   thresholds   specified   in   --warning   and  --critical  arguments  is  defined  at
       &lt;<a href="http://nagiosplug.sourceforge.net/developer-guidelines.html">http://nagiosplug.sourceforge.net/developer-guidelines.html</a>#THRESHOLDFORMAT&gt;.

       For example to be crtical if more than 5 connections, more than 2  connections  not  running,  less  than
       200b/s received use

       --critical=5,2,200,-1

</pre><h4><b>EXAMPLES</b></h4><pre>
       The defaults all work with a standard fresh install of RabbitMQ, and all that is needed is to specify the
       host to connect to:

           check_rabbitmq_connections -H localhost -w 1: -c 1:

       This returns a standard Nagios result:

         RABBITMQ_CONNECTIONS CRITICAL - connections CRITICAL (0),
           connections_notrunning WARNING (0), receive_rate OK (0) send_rate OK (0) |
           connections=0;;1: connections_notrunning=0;1:; receive_rate=0;; send_rate=0;;

</pre><h4><b>ERRORS</b></h4><pre>
       The check tries to provide useful error messages on the status line for standard error conditions.

       Otherwise it returns the HTTP Error message returned by the management interface.

</pre><h4><b>EXIT</b> <b>STATUS</b></h4><pre>
       Returns  zero  if check is OK otherwise returns standard Nagios exit codes to signify WARNING, UNKNOWN or
       CRITICAL state.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       See <b>Monitoring::<a href="../man3/Plugin.3.html">Plugin</a></b>(3)

       The RabbitMQ management plugin is described at <a href="http://www.rabbitmq.com/management.html">http://www.rabbitmq.com/management.html</a>

</pre><h4><b>LICENSE</b></h4><pre>
       This file is part of nagios-plugins-rabbitmq.

       Copyright 2010, Platform 14.

       Licensed under the Apache License, Version 2.0 (the "License"); you may  not  use  this  file  except  in
       compliance with the License.  You may obtain a copy of the License at

          <a href="http://www.apache.org/licenses/LICENSE-2.0">http://www.apache.org/licenses/LICENSE-2.0</a>

       Unless  required  by  applicable  law  or agreed to in writing, software distributed under the License is
       distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       See the License for the specific language governing permissions and limitations under the License.

</pre><h4><b>AUTHOR</b></h4><pre>
       James Casey &lt;<a href="mailto:jamesc.000@gmail.com">jamesc.000@gmail.com</a>&gt;

perl v5.38.2                                       2024-05-08                     <u><a href="../man1p/CHECK_RABBITMQ_CONNECTIONS.1p.html">CHECK_RABBITMQ_CONNECTIONS</a></u>(1p)
</pre>
 </div>
</div></section>
</div>
</body>
</html>