<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>fiarith - evaluating arithmetic expressions on images as operands</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/fitsh">fitsh_0.9.4-1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       fiarith - evaluating arithmetic expressions on images as operands

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>fiarith</b> [<u>options</u>] <u>"&lt;expression&gt;"</u> [<u>-o|--output</u> <u>&lt;output.fits&gt;</u>]

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The  purpose  of  this  program  is  to  evaluate  &lt;expression&gt;  which  is intented to contain arithmetic
       operations and functions on FITS images (of the same size). See the section "Examples" below for examples
       on the syntax of &lt;expression&gt;

</pre><h4><b>OPTIONS</b></h4><pre>
   <b>General</b> <b>options:</b>
       <b>-h</b>, <b>--help</b>
              Gives general summary about the command line options.

       <b>--long-help</b>, <b>--help-long</b>
              Gives a detailed list of command line options.

       <b>--wiki-help</b>, <b>--help-wiki</b>, <b>--mediawiki-help</b>, <b>--help-mediawiki</b>
              Gives a detailed list of command line options in Mediawiki format.

       <b>--version</b>, <b>--version-short</b>, <b>--short-version</b>
              Gives some version information about the program.

       <b>-o</b>, <b>--output</b> &lt;fits&gt;
              The name of the output file (omitting or specifing '-' yields the output to be written to stdout).

       <b>-s</b>, <b>--size</b> &lt;sx&gt;,&lt;sy&gt;
              Horizontal and vertical size of  the  output  image  (meaningless  if  &lt;expression&gt;  contains  any
              existing FITS image).

       <b>-M</b>, <b>--input-mask</b> &lt;fits&gt;
              Input mask file to co-add to output image.

       <b>--output-mask</b> &lt;fits&gt;
              Name of output mask file to create.

       <b>-D</b>, <b>--data</b> &lt;spec&gt;
              Output pixel data format specification.

       <b>-b</b>, <b>--bitpix</b> &lt;bitpix&gt;
              Standard FITS output bitpix value.

       <b>-a</b>, <b>--apply-mask</b>
              Resets pixel values to zero if masked.

       <b>-e</b>, <b>--header</b> &lt;fits&gt;
              Inherit output header from the specified FITS file.

   <b>Available</b> <b>arithmetic</b> <b>operators:</b>
       +      Addition.

       -      Subtraction.

       *      Multiplication.

       /      Division. Dividing by zero yields zero automatically.

   <b>Available</b> <b>arithmetic</b> <b>functions:</b>
       sin(.), cos(.), tan(.)
              Trigonometric functions.

       asin(.), acos(.), atan(.), atan2(.,.), arg(.,.)
              Inverse trigonometric functions.

       abs(.), sq(.), sqrt(.), exp(.), log(.)
              Absolute value, square, Square root, exponential and natural logarithm functions.

   <b>Available</b> <b>image</b> <b>functions:</b>
       min(....)
              The  per pixel minimal value of pixel intensities of the images listed (separated by comma) in the
              argument of the function.

       max(....)
              The per pixel maximal value of pixel intensities of the images listed (separated by comma) in  the
              argument of the function.

       mean(...)
              The  per  pixel  mean  value of pixel intensities of the images listed (separated by comma) in the
              argument of the function.

       norm(.)
              The mean of the pixel values on the image.

       sign(.)
              The per pixel sign function.

       theta(.)
              The per pixel Heaviside step function.

       laplace(.)
              The Laplace transform of the image.

       scatter(.)
              Noise level estimation for the image.

       corr(.,.)
              Correlation between two images.

       smooth(&lt;image&gt;,&lt;sigma&gt;,&lt;size&gt;)
              The smoothed variant of the first argument (threated  as  an  image),  which  is  yielded  by  the
              convolution  with  a  Gaussian profile with a standard deviation of &lt;sigma&gt;, evaluated on a kernel
              stamp with the size of &lt;size&gt;.

</pre><h4><b>EXAMPLES</b></h4><pre>
       fiarith "'img1.fits'-'orig.fits'" -o diff.fits
              Calculates the per pixel difference between images "img1.fits"  and  "orig.fits"  and  stores  the
              result in "diff.fits".

       fiarith -s 512,512 "137.42" -o constant.fits
              Creates a new image with the size of 512 by 512 pixels with the constant value of 137.42.

       fiarith "'-'*26" -o -
              Multiplies  the  pixel  intensities of the image read from the standard input by 26 and writes the
              result to the standard output. The "-o -" can either be omitted, since by default  the  output  is
              written to stdout.

       fiarith -s 512,512 "['input.fits'](a/(1-0.3*(X^2-Y^2)))" -o flattened.fits
              This  invocation  evaluates  the  "a/(1-0.3*(X^2+Y^2))"  expression  on  each  pixel  of the image
              "input.fits", where "a" referes to the pixel value itself and X and Y are the  normalized  spatial
              coordinates. The normalization is always done as X=(2*x-SX)/(SX) and Y=(2*y-SY)/SX, i.e. the X and
              Y  coordinates  are zero at the center of the images, X has a unity absolute value at the left and
              right edges and Y is scaled properly to X.

       fiarith "('R.fits'-'B.fits'-0.5*'D.fits')*(norm('F.fits')/'F.fits')" -o C.fits
              This operation performs a simple bias, dark and flat calibration on the input raw image  "R.fits",
              expecting "B.fits", "D.fits" and "F.fits" to be the master bias, dark and flat calibration frames,
              respectively;  and  assuming  an exposure time for the raw image which is the half of the exposure
              time of the master dark frame. Due to the "norm(...)" function, the mean intensity  level  of  the
              image is kept to be the same as it is in the raw image.

</pre><h4><b>REPORTING</b> <b>BUGS</b></h4><pre>
       Report bugs to &lt;<a href="mailto:apal@szofi.net">apal@szofi.net</a>&gt;, see also https://fitsh.net/.

</pre><h4><b>COPYRIGHT</b></h4><pre>
       Copyright Â© 1996, 2002, 2004-2008, 2010-2016, 2018-2020; Pal, Andras &lt;<a href="mailto:apal@szofi.net">apal@szofi.net</a>&gt;

fiarith 0.9.4 (2021.01.24)                        January 2021                                        <u><a href="../man1/FIARITH.1.html">FIARITH</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>