<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>This  manual  page  is part of the POSIX Programmer's Manual.  The Linux implementation of this interface</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/manpages-posix">manpages-posix_2017a-2_all</a> <br><br><pre>
</pre><h4><b>PROLOG</b></h4><pre>
       This  manual  page  is part of the POSIX Programmer's Manual.  The Linux implementation of this interface
       may differ (consult the corresponding Linux manual page for details of Linux behavior), or the  interface
       may not be implemented on Linux.

</pre><h4><b>NAME</b></h4><pre>
       expr — evaluate arguments as an expression

</pre><h4><b>SYNOPSIS</b></h4><pre>
       expr <u>operand</u>...

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The <u>expr</u> utility shall evaluate an expression and write the result to standard output.

</pre><h4><b>OPTIONS</b></h4><pre>
       None.

</pre><h4><b>OPERANDS</b></h4><pre>
       The  single  expression  evaluated by <u>expr</u> shall be formed from the <u>operand</u> operands, as described in the
       EXTENDED DESCRIPTION section. The application shall ensure that each of the expression operator symbols:

           (  )  |  &amp;  =  &gt;  &gt;=  &lt;  &lt;=  !=  +  -  *  /  %  :

       and the symbols <u>integer</u> and <u>string</u> in the table are provided as separate arguments to <u>expr</u>.

</pre><h4><b>STDIN</b></h4><pre>
       Not used.

</pre><h4><b>INPUT</b> <b>FILES</b></h4><pre>
       None.

</pre><h4><b>ENVIRONMENT</b> <b>VARIABLES</b></h4><pre>
       The following environment variables shall affect the execution of <u>expr</u>:

       <u>LANG</u>      Provide a default value for the internationalization variables that are unset or null. (See the
                 Base Definitions volume of POSIX.1‐2017, <u>Section</u> <u>8.2</u>, <u>Internationalization</u>  <u>Variables</u>  for  the
                 precedence   of   internationalization  variables  used  to  determine  the  values  of  locale
                 categories.)

       <u>LC_ALL</u>    If set to a non-empty string value, override the values of all the  other  internationalization
                 variables.

       <u>LC_COLLATE</u>
                 Determine  the  locale  for  the  behavior  of ranges, equivalence classes, and multi-character
                 collating elements within regular expressions and by the string comparison operators.

       <u>LC_CTYPE</u>  Determine the locale for the interpretation of sequences of bytes of text  data  as  characters
                 (for example, single-byte as opposed to multi-byte characters in arguments) and the behavior of
                 character classes within regular expressions.

       <u>LC_MESSAGES</u>
                 Determine  the  locale  that  should  be  used  to affect the format and contents of diagnostic
                 messages written to standard error.

       <u>NLSPATH</u>   Determine the location of message catalogs for the processing of <u>LC_MESSAGES</u>.

</pre><h4><b>ASYNCHRONOUS</b> <b>EVENTS</b></h4><pre>
       Default.

</pre><h4><b>STDOUT</b></h4><pre>
       The <u>expr</u> utility shall evaluate the expression and write the result, followed by a &lt;newline&gt;, to standard
       output.

</pre><h4><b>STDERR</b></h4><pre>
       The standard error shall be used only for diagnostic messages.

</pre><h4><b>OUTPUT</b> <b>FILES</b></h4><pre>
       None.

</pre><h4><b>EXTENDED</b> <b>DESCRIPTION</b></h4><pre>
       The formation of the expression to be evaluated is shown in the following table. The symbols <u>expr</u>, <u>expr1</u>,
       and <u>expr2</u> represent expressions formed from <u>integer</u>  and  <u>string</u>  symbols  and  the  expression  operator
       symbols  (all  separate arguments) by recursive application of the constructs described in the table. The
       expressions are listed in order of decreasing precedence, with equal-precedence operators grouped between
       horizontal lines. All of the operators shall be left-associative.
                            ┌────────────────┬──────────────────────────────────────────┐
                            │   <b>Expression</b>   │               <b>Description</b>                │
                            ├────────────────┼──────────────────────────────────────────┤
                            │ <u>integer</u>        │ An  argument  consisting  only   of   an │
                            │                │ (optional)   unary   minus  followed  by │
                            │                │ digits.                                  │
                            │ <u>string</u>         │ A string argument; see below.            │
                            ├────────────────┼──────────────────────────────────────────┤
                            │ ( <u>expr</u> )       │ Grouping symbols. Any expression can  be │
                            │                │ placed  within parentheses.  Parentheses │
                            │                │ can   be   nested   to   a   depth    of │
                            │                │ {EXPR_NEST_MAX}.                         │
                            ├────────────────┼──────────────────────────────────────────┤
                            │ <u>expr1</u> : <u>expr2</u>  │ Matching expression; see below.          │
                            ├────────────────┼──────────────────────────────────────────┤
                            │ <u>expr1</u> * <u>expr2</u>  │ Multiplication of decimal integer-valued │
                            │                │ arguments.                               │
                            │ <u>expr1</u> / <u>expr2</u>  │ Integer  division  of  decimal  integer- │
                            │                │ valued arguments, producing  an  integer │
                            │                │ result.                                  │
                            │ <u>expr1</u> % <u>expr2</u>  │ Remainder of integer division of decimal │
                            │                │ integer-valued arguments.                │
                            ├────────────────┼──────────────────────────────────────────┤
                            │ <u>expr1</u> + <u>expr2</u>  │ Addition   of   decimal   integer-valued │
                            │                │ arguments.                               │
                            │ <u>expr1</u> - <u>expr2</u>  │ Subtraction  of  decimal  integer-valued │
                            │                │ arguments.                               │
                            ├────────────────┼──────────────────────────────────────────┤
                            │                │ Returns  the result of a decimal integer │
                            │                │ comparison   if   both   arguments   are │
                            │                │ integers;  otherwise, returns the result │
                            │                │ of a string comparison using the locale- │
                            │                │ specific collation sequence. The  result │
                            │                │ of each comparison is 1 if the specified │
                            │                │ relationship   is  true,  or  0  if  the │
                            │                │ relationship is false.                   │
                            │ <u>expr1</u> = <u>expr2</u>  │ Equal.                                   │
                            │ <u>expr1</u> &gt; <u>expr2</u>  │ Greater than.                            │
                            │ <u>expr1</u> &gt;= <u>expr2</u> │ Greater than or equal.                   │
                            │ <u>expr1</u> &lt; <u>expr2</u>  │ Less than.                               │
                            │ <u>expr1</u> &lt;= <u>expr2</u> │ Less than or equal.                      │
                            │ <u>expr1</u> != <u>expr2</u> │ Not equal.                               │
                            ├────────────────┼──────────────────────────────────────────┤
                            │ <u>expr1</u> &amp; <u>expr2</u>  │ Returns  the  evaluation  of  <u>expr1</u>   if │
                            │                │ neither  expression evaluates to null or │
                            │                │ zero; otherwise, returns zero.           │
                            ├────────────────┼──────────────────────────────────────────┤
                            │ <u>expr1</u> | <u>expr2</u>  │ Returns the evaluation of <u>expr1</u> if it is │
                            │                │ neither  null   nor   zero;   otherwise, │
                            │                │ returns the evaluation of <u>expr2</u> if it is │
                            │                │ not null; otherwise, zero.               │
                            └────────────────┴──────────────────────────────────────────┘

   <b>Matching</b> <b>Expression</b>
       The  <b>':'</b>  matching  operator  shall  compare  the  string resulting from the evaluation of <u>expr1</u> with the
       regular expression pattern resulting from the evaluation of <u>expr2</u>.  Regular expression  syntax  shall  be
       that  defined  in  the  Base  Definitions volume of POSIX.1‐2017, <u>Section</u> <u>9.3</u>, <u>Basic</u> <u>Regular</u> <u>Expressions</u>,
       except that all patterns are anchored to the beginning of the string (that is, only sequences starting at
       the first character of a string are matched by the regular expression) and, therefore, it is  unspecified
       whether  <b>'^'</b> is a special character in that context. Usually, the matching operator shall return a string
       representing the number of characters matched (<b>'0'</b> on failure). Alternatively, if the pattern contains at
       least one regular  expression  subexpression  <b>"[\(...\)]"</b>,  the  string  matched  by  the  back-reference
       expression  <b>"\1"</b>  shall  be returned. If the back-reference expression <b>"\1"</b> does not match, then the null
       string shall be returned.

   <b>Identification</b> <b>as</b> <b>Integer</b> <b>or</b> <b>String</b>
       An argument or the value of a subexpression that consists only of an optional  unary  minus  followed  by
       digits is a candidate for treatment as an integer if it is used as the left argument to the <u>|</u> operator or
       as  either  argument  to  any  of  the  following  operators: <u>&amp;</u> <u>=</u> <u>&gt;</u> <u>&gt;=</u> <u>&lt;</u> <u>&lt;=</u> <u>!=</u> <u>+</u> <u>-</u> <u>*</u> <u>/</u> <u>%</u>.  Otherwise, the
       argument or subexpression value shall be treated as a string.

       The use of string arguments <b>length</b>, <b>substr</b>, <b>index</b>, or <b>match</b> produces unspecified results.

</pre><h4><b>EXIT</b> <b>STATUS</b></h4><pre>
       The following exit values shall be returned:

        0    The <u>expression</u> evaluates to neither null nor zero.

        1    The <u>expression</u> evaluates to null or zero.

        2    Invalid <u>expression</u>.

       &gt;2    An error occurred.

</pre><h4><b>CONSEQUENCES</b> <b>OF</b> <b>ERRORS</b></h4><pre>
       Default.

       <u>The</u> <u>following</u> <u>sections</u> <u>are</u> <u>informative.</u>

</pre><h4><b>APPLICATION</b> <b>USAGE</b></h4><pre>
       The <u>expr</u> utility has a rather difficult syntax:

        *  Many of the operators are also shell control operators or reserved words, so they have to be  escaped
           on the command line.

        *  Each part of the expression is composed of separate arguments, so liberal usage of &lt;blank&gt; characters
           is required. For example:
                                       ┌──────────────────┬───────────────────────┐
                                       │     <b>Invalid</b>      │         <b>Valid</b>         │
                                       ├──────────────────┼───────────────────────┤
                                       │ <u>expr</u> 1+2         │ <u>expr</u> 1 + 2            │
                                       │ <u>expr</u> "1 + 2"     │ <u>expr</u> 1 + 2            │
                                       │ <u>expr</u> 1 + (2 * 3) │ <u>expr</u> 1 + \( 2 \* 3 \) │
                                       └──────────────────┴───────────────────────┘

       In  many  cases,  the  arithmetic  and string features provided as part of the shell command language are
       easier to use than their equivalents in <u>expr</u>.  Newly written scripts should avoid <u>expr</u> in  favor  of  the
       new  features  within  the shell; see <u>Section</u> <u>2.5</u>, <u>Parameters</u> <u>and</u> <u>Variables</u> and <u>Section</u> <u>2.6.4</u>, <u>Arithmetic</u>
       <u>Expansion</u>.

       After argument processing by the shell, <u>expr</u> is not required to be able to tell the difference between an
       operator and an operand except by the value. If <b>"$a"</b> is <b>'='</b>, the command:

           expr "$a" = '='

       looks like:

           expr = = =

       as the arguments are passed to <u>expr</u> (and they all may be taken as the <b>'='</b> operator). The following  works
       reliably:

           expr "X$a" = X=

       Also  note that this volume of POSIX.1‐2017 permits implementations to extend utilities. The <u>expr</u> utility
       permits the integer arguments to be preceded with a unary minus. This  means  that  an  integer  argument
       could  look  like  an  option.   Therefore,  the conforming application must employ the <b>"--"</b> construct of
       Guideline 10 of the Base Definitions volume of POSIX.1‐2017, <u>Section</u> <u>12.2</u>, <u>Utility</u> <u>Syntax</u>  <u>Guidelines</u>  to
       protect  its operands if there is any chance the first operand might be a negative integer (or any string
       with a leading minus).

       For testing string equality the <u>test</u> utility is preferred over <u>expr</u>, as it is usually  implemented  as  a
       shell  built-in.  However,  the  functionality  is not quite the same because the <u>expr</u> <u>=</u> and <u>!=</u> operators
       check whether strings collate equally, whereas <u>test</u> checks whether they are  identical.  Therefore,  they
       can  produce  different results in locales where the collation sequence does not have a total ordering of
       all characters (see the Base Definitions volume of POSIX.1‐2017, <u>Section</u> <u>7.3.2</u>, <u>LC_COLLATE</u>).

</pre><h4><b>EXAMPLES</b></h4><pre>
       The following command:

           a=$(expr "$a" + 1)

       adds 1 to the variable <u>a</u>.

       The following command, for <b>"$a"</b> equal to either <b>/usr/abc/file</b> or just <b>file</b>:

           expr $a : '.*/\(.*\)' \| $a

       returns the last segment of a pathname (that is, <b>file</b>).  Applications should avoid the character <b>'/'</b> used
       alone as an argument; <u>expr</u> may interpret it as the division operator.

       The following command:

           expr "//$a" : '.*/\(.*\)'

       is a better representation of the previous example. The addition of the <b>"//"</b>  characters  eliminates  any
       ambiguity  about  the division operator and simplifies the whole expression. Also note that pathnames may
       contain characters contained in the <u>IFS</u> variable and should be quoted to avoid having  <b>"$a"</b>  expand  into
       multiple arguments.

       The following command:

           expr "X$VAR" : '.*' - 1

       returns the number of characters in <u>VAR</u>.

</pre><h4><b>RATIONALE</b></h4><pre>
       In  an  early  proposal,  EREs  were used in the matching expression syntax.  This was changed to BREs to
       avoid breaking historical applications.

       The use of a leading &lt;circumflex&gt; in the BRE is unspecified because many historical implementations  have
       treated it as a special character, despite their system documentation. For example:

           expr foo : ^foo     expr ^foo : ^foo

       return  3  and  0, respectively, on those systems; their documentation would imply the reverse. Thus, the
       anchoring condition is left unspecified to avoid breaking historical scripts relying on this undocumented
       feature.

</pre><h4><b>FUTURE</b> <b>DIRECTIONS</b></h4><pre>
       None.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <u>Section</u> <u>2.5</u>, <u>Parameters</u> <u>and</u> <u>Variables</u>, <u>Section</u> <u>2.6.4</u>, <u>Arithmetic</u> <u>Expansion</u>

       The Base Definitions volume of POSIX.1‐2017, <u>Section</u> <u>7.3.2</u>, <u>LC_COLLATE</u>, <u>Chapter</u> <u>8</u>, <u>Environment</u> <u>Variables</u>,
       <u>Section</u> <u>9.3</u>, <u>Basic</u> <u>Regular</u> <u>Expressions</u>, <u>Section</u> <u>12.2</u>, <u>Utility</u> <u>Syntax</u> <u>Guidelines</u>

</pre><h4><b>COPYRIGHT</b></h4><pre>
       Portions of this text are reprinted and reproduced in electronic form from IEEE Std 1003.1-2017, Standard
       for Information  Technology  --  Portable  Operating  System  Interface  (POSIX),  The  Open  Group  Base
       Specifications  Issue  7, 2018 Edition, Copyright (C) 2018 by the Institute of Electrical and Electronics
       Engineers, Inc and The Open Group.  In the event of any discrepancy between this version and the original
       IEEE and The Open Group Standard, the original IEEE and The Open Group Standard is the referee  document.
       The original Standard can be obtained online at <a href="http://www.opengroup.org/unix/online.html">http://www.opengroup.org/unix/online.html</a> .

       Any  typographical  or formatting errors that appear in this page are most likely to have been introduced
       during  the  conversion  of  the  source  files  to  man  page  format.  To  report  such   errors,   see
       https://www.kernel.org/doc/man-pages/reporting_bugs.html .

IEEE/The Open Group                                   2017                                          <u><a href="../man1POSIX/EXPR.1POSIX.html">EXPR</a></u>(1POSIX)
</pre>
 </div>
</div></section>
</div>
</body>
</html>