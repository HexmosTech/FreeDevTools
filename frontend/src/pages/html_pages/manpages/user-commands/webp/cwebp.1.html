<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>cwebp - compress an image file to a WebP file</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/webp">webp_1.5.0-0.1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       cwebp - compress an image file to a WebP file

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>cwebp</b> [<u>options</u>] <u>input_file</u> <u>-o</u> <u>output_file.webp</u>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       This manual page documents the <b>cwebp</b> command.

       <b>cwebp</b> compresses an image using the WebP format.  Input format can be either PNG, JPEG, TIFF, WebP or raw
       Y'CbCr samples.  Note: Animated PNG and WebP files are not supported.

</pre><h4><b>OPTIONS</b></h4><pre>
       The basic options are:

       <b>-o</b> <u>string</u>
              Specify  the  name  of  the  output WebP file. If omitted, <b>cwebp</b> will perform compression but only
              report statistics.  Using "-" as output name will direct output to 'stdout'.

       <b>--</b> <u>string</u>
              Explicitly specify the input file. This option is useful if the input file starts with a  '-'  for
              instance. This option must appear <b>last</b>.  Any other options afterward will be ignored.

       <b>-h,</b> <b>-help</b>
              A short usage summary.

       <b>-H,</b> <b>-longhelp</b>
              A summary of all the possible options.

       <b>-version</b>
              Print the version number (as major.minor.revision) and exit.

       <b>-lossless</b>
              Encode  the  image  without  any loss. For images with fully transparent area, the invisible pixel
              values (R/G/B or Y/U/V) will be preserved only if the -exact option is used.

       <b>-near_lossless</b> <u>int</u>
              Specify the level of near-lossless image preprocessing. This option adjusts pixel values  to  help
              compressibility,  but  has  minimal impact on the visual quality. It triggers lossless compression
              mode automatically. The range is 0 (maximum preprocessing) to 100 (no preprocessing, the default).
              The typical value is around 60. Note that lossy with <b>-q</b> <b>100</b> can at times yield better results.

       <b>-q</b> <u>float</u>
              Specify the compression factor for RGB channels between 0 and 100. The default is 75.
              In case of lossy compression (default), a small factor produces a smaller file with lower quality.
              Best quality is achieved by using a value of 100.
              In case of lossless compression (specified by the <b>-lossless</b> option), a small factor enables faster
              compression speed, but produces a larger file.  Maximum compression is achieved by using  a  value
              of 100.

       <b>-z</b> <u>int</u> Switch  on  <b>lossless</b> compression mode with the specified level between 0 and 9, with level 0 being
              the fastest, 9 being the slowest. Fast mode produces larger file size than  slower  ones.  A  good
              default  is <b>-z</b> <b>6</b>.  This option is actually a shortcut for some predefined settings for quality and
              method. If options <b>-q</b>  or <b>-m</b> are subsequently used,  they  will  invalidate  the  effect  of  this
              option.

       <b>-alpha_q</b> <u>int</u>
              Specify  the  compression factor for alpha compression between 0 and 100.  Lossless compression of
              alpha is achieved using a value of 100, while the lower values result in a lossy compression.  The
              default is 100.

       <b>-preset</b> <u>string</u>
              Specify  a  set  of  pre-defined parameters to suit a particular type of source material. Possible
              values are:  <b>default</b>, <b>photo</b>, <b>picture</b>, <b>drawing</b>, <b>icon</b>, <b>text</b>.  Since  <b>-preset</b>  overwrites  the  other
              parameters' values (except the <b>-q</b> one), this option should preferably appear first in the order of
              the arguments.

       <b>-m</b> <u>int</u> Specify  the  compression  method  to  use. This parameter controls the trade off between encoding
              speed and the compressed file size and quality.  Possible values range from 0 to 6. Default  value
              is  4.   When  higher  values  are  used,  the  encoder will spend more time inspecting additional
              encoding possibilities and decide  on  the  quality  gain.   Lower  value  can  result  in  faster
              processing time at the expense of larger file size and lower compression quality.

       <b>-crop</b> <u>x_position</u> <u>y_position</u> <u>width</u> <u>height</u>
              Crop  the  source  to a rectangle with top-left corner at coordinates (<b>x_position</b>, <b>y_position</b>) and
              size <b>width</b> x <b>height</b>.  This cropping area must be fully  contained  within  the  source  rectangle.
              Note: the cropping is applied <u>before</u> any scaling.

       <b>-resize</b> <u>width</u> <u>height</u>
              Resize  the source to a rectangle with size <b>width</b> x <b>height</b>.  If either (but not both) of the <b>width</b>
              or <b>height</b> parameters is 0, the value will be calculated preserving the aspect-ratio. Note: scaling
              is applied <u>after</u> cropping.

       <b>-mt</b>    Use multi-threading for encoding, if possible.

       <b>-low_memory</b>
              Reduce memory usage of lossy encoding by saving four times the compressed size  (typically).  This
              will  make the encoding slower and the output slightly different in size and distortion. This flag
              is only effective for methods 3 and up, and is off by default. Note that  leaving  this  flag  off
              will  have some side effects on the bitstream: it forces certain bitstream features like number of
              partitions (forced to 1). Note that a more detailed report of bitstream size is printed  by  <b>cwebp</b>
              when using this option.

   <b>LOSSY</b> <b>OPTIONS</b>
       These options are only effective when doing lossy encoding (the default, with or without alpha).

       <b>-size</b> <u>int</u>
              Specify  a target size (in bytes) to try and reach for the compressed output.  The compressor will
              make several passes of partial encoding in order to get as close as possible to  this  target.  If
              both <b>-size</b> and <b>-psnr</b> are used, <b>-size</b> value will prevail.

       <b>-psnr</b> <u>float</u>
              Specify  a  target  PSNR  (in dB) to try and reach for the compressed output.  The compressor will
              make several passes of partial encoding in order to get as close as possible to  this  target.  If
              both <b>-size</b> and <b>-psnr</b> are used, <b>-size</b> value will prevail.

       <b>-pass</b> <u>int</u>
              Set a maximum number of passes to use during the dichotomy used by options <b>-size</b> or <b>-psnr</b>. Maximum
              value  is  10,  default  is 1.  If options <b>-size</b> or <b>-psnr</b> were used, but <b>-pass</b> wasn't specified, a
              default value of '6' passes will be used. If <b>-pass</b> is specified, but neither <b>-size</b> nor <b>-psnr</b>  are,
              a target PSNR of 40dB will be used.

       <b>-qrange</b> <u>int</u> <u>int</u>
              Specifies  the permissible interval for the quality factor. This is particularly useful when using
              multi-pass (<b>-size</b> or <b>-psnr</b> options).  Default is 0 100.  If the quality  factor  is  outside  this
              range, it will be clamped.  If the minimum value must be less or equal to the maximum one.

       <b>-af</b>    Turns  auto-filter on. This algorithm will spend additional time optimizing the filtering strength
              to reach a well-balanced quality.

       <b>-jpeg_like</b>
              Change the internal parameter mapping to better match the expected size of JPEG compression.  This
              flag will generally produce an output file of similar size to its JPEG equivalent (for the same <b>-q</b>
              setting), but with less visual distortion.

       Advanced options:

       <b>-f</b> <u>int</u> Specify  the  strength  of  the  deblocking  filter,  between  0  (no  filtering) and 100 (maximum
              filtering). A value of 0 will turn off any filtering.  Higher value will increase the strength  of
              the  filtering  process  applied after decoding the picture. The higher the value the smoother the
              picture will appear. Typical values are usually in the range of 20 to 50.

       <b>-sharpness</b> <u>int</u>
              Specify the sharpness of the filtering (if used).  Range is  0  (sharpest)  to  7  (least  sharp).
              Default is 0.

       <b>-strong</b>
              Use  strong filtering (if filtering is being used thanks to the <b>-f</b> option). Strong filtering is on
              by default.

       <b>-nostrong</b>
              Disable strong filtering (if filtering is being used thanks to  the  <b>-f</b>  option)  and  use  simple
              filtering instead.

       <b>-sharp_yuv</b>
              Use  more  accurate  and  sharper  RGB-&gt;YUV  conversion. Note that this process is slower than the
              default 'fast' RGB-&gt;YUV conversion.

       <b>-sns</b> <u>int</u>
              Specify the amplitude of the spatial noise shaping. Spatial  noise  shaping  (or  <b>sns</b>  for  short)
              refers  to  a  general  collection of built-in algorithms used to decide which area of the picture
              should use relatively less bits, and where else to better transfer these bits. The possible  range
              goes from 0 (algorithm is off) to 100 (the maximal effect). The default value is 50.

       <b>-segments</b> <u>int</u>
              Change  the  number  of  partitions  to use during the segmentation of the sns algorithm. Segments
              should be in range 1 to 4. Default value is 4.  This option has no effect for methods  3  and  up,
              unless <b>-low_memory</b> is used.

       <b>-partition_limit</b> <u>int</u>
              Degrade  quality  by  limiting  the  number  of  bits  used  by  some macroblocks.  Range is 0 (no
              degradation, the default) to 100 (full degradation).  Useful values are usually around  30-70  for
              moderately  large  images.  In the VP8 format, the so-called control partition has a limit of 512k
              and is used to store the following information: whether the macroblock is skipped,  which  segment
              it  belongs  to,  whether it is coded as intra 4x4 or intra 16x16 mode, and finally the prediction
              modes to use for each of the sub-blocks.  For a very large image, 512k only leaves room for a  few
              bits per 16x16 macroblock.  The absolute minimum is 4 bits per macroblock. Skip, segment, and mode
              information  can  use  up  almost  all  these  4  bits  (although  the case is unlikely), which is
              problematic for very large images. The partition_limit factor controls  how  frequently  the  most
              bit-costly mode (intra 4x4) will be used. This is useful in case the 512k limit is reached and the
              following message is displayed: <u>Error</u> <u>code:</u> <u>6</u> <u>(PARTITION0_OVERFLOW:</u> <u>Partition</u> <u>#0</u> <u>is</u> <u>too</u> <u>big</u> <u>to</u> <u>fit</u>
              <u>512k)</u>.   If  using <b>-partition_limit</b> is not enough to meet the 512k constraint, one should use less
              segments in order to save more header bits per macroblock.  See the <b>-segments</b> option. Note the  <b>-m</b>
              and <b>-q</b> options also influence the encoder's decisions and ability to hit this limit.

   <b>LOGGING</b> <b>OPTIONS</b>
       These options control the level of output:

       <b>-v</b>     Print extra information (encoding time in particular).

       <b>-print_psnr</b>
              Compute and report average PSNR (Peak-Signal-To-Noise ratio).

       <b>-print_ssim</b>
              Compute     and     report     average     SSIM     (structural     similarity     metric,     see
              https://en.wikipedia.org/wiki/SSIM for additional details).

       <b>-print_lsim</b>
              Compute and report local similarity metric (sum of  lowest  error  amongst  the  collocated  pixel
              neighbors).

       <b>-progress</b>
              Report encoding progress in percent.

       <b>-quiet</b> Do not print anything.

       <b>-short</b> Only print brief information (output file size and PSNR) for testing purposes.

       <b>-map</b> <u>int</u>
              Output  additional  ASCII-map of encoding information. Possible map values range from 1 to 6. This
              is only meant to help debugging.

   <b>ADDITIONAL</b> <b>OPTIONS</b>
       More advanced options are:

       <b>-s</b> <u>width</u> <u>height</u>
              Specify that the input file actually consists of raw Y'CbCr samples  following  the  ITU-R  BT.601
              recommendation, in 4:2:0 linear format.  The luma plane has size <b>width</b> x <b>height</b>.

       <b>-pre</b> <u>int</u>
              Specify   some   preprocessing  steps.  Using  a  value  of  '2'  will  trigger  quality-dependent
              pseudo-random dithering during RGBA-&gt;YUVA conversion (lossy compression only).

       <b>-alpha_filter</b> <u>string</u>
              Specify the predictive filtering method for the alpha plane. One of 'none', 'fast' or  'best',  in
              increasing  complexity  and  slowness  order.  Default  is  'fast'. Internally, alpha filtering is
              performed using four possible predictions (none, horizontal, vertical, gradient). The 'best'  mode
              will  try  each  mode  in turn and pick the one which gives the smaller size. The 'fast' mode will
              just try to form an a priori guess without testing all modes.

       <b>-alpha_method</b> <u>int</u>
              Specify the algorithm used for alpha compression: 0 or 1. Algorithm 0 denotes  no  compression,  1
              uses WebP lossless format for compression. The default is 1.

       <b>-exact</b> Preserve RGB values in transparent area. The default is off, to help compressibility.

       <b>-blend_alpha</b> <u>int</u>
              This  option  blends  the  alpha  channel  (if present) with the source using the background color
              specified in hexadecimal as 0xrrggbb. The alpha channel is afterward reset  to  the  opaque  value
              255.

       <b>-noalpha</b>
              Using this option will discard the alpha channel.

       <b>-hint</b> <u>string</u>
              Specify the hint about input image type. Possible values are: <b>photo</b>, <b>picture</b> or <b>graph</b>.

       <b>-metadata</b> <u>string</u>
              A comma separated list of metadata to copy from the input to the output if present.  Valid values:
              <b>all</b>, <b>none</b>, <b>exif</b>, <b>icc</b>, <b>xmp</b>.  The default is <b>none</b>.

              Note: each input format may not support all combinations.

       <b>-noasm</b> Disable all assembly optimizations.

</pre><h4><b>EXIT</b> <b>STATUS</b></h4><pre>
       If  there  were  no problems during execution, <b>cwebp</b> exits with the value of the C constant <b>EXIT_SUCCESS</b>.
       This is usually zero.

       If an error occurs, <b>cwebp</b> exits with the value of the C constant <b>EXIT_FAILURE</b>. This is usually one.

</pre><h4><b>EXAMPLES</b></h4><pre>
       cwebp -q 50 -lossless picture.png -o picture_lossless.webp
       cwebp -q 70 picture_with_alpha.png -o picture_with_alpha.webp
       cwebp -sns 70 -f 50 -size 60000 picture.png -o picture.webp
       cwebp -o picture.webp -- ---picture.png

</pre><h4><b>AUTHORS</b></h4><pre>
       <b>cwebp</b> is a part of libwebp and was written by the WebP team.
       The latest source tree is available at https://chromium.googlesource.com/webm/libwebp

       This manual page was written by Pascal Massimino &lt;<a href="mailto:pascal.massimino@gmail.com">pascal.massimino@gmail.com</a>&gt;,  for  the  Debian  project
       (and may be used by others).

</pre><h4><b>REPORTING</b> <b>BUGS</b></h4><pre>
       Please report all bugs to the issue tracker: https://issues.webmproject.org
       Patches          welcome!          See          this         page         to         get         started:
       https://www.webmproject.org/code/contribute/submitting-patches/

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man1/dwebp.1.html">dwebp</a></b>(1), <b><a href="../man1/gif2webp.1.html">gif2webp</a></b>(1)
       Please refer to https://developers.google.com/speed/webp/ for additional information.

                                               September 17, 2024                                       <u><a href="../man1/CWEBP.1.html">CWEBP</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>