<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ostree-admin-deploy - Checkout a revision as the new default deployment</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/ostree">ostree_2025.1-1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       ostree-admin-deploy - Checkout a revision as the new default deployment

</pre><h4><b>SYNOPSIS</b></h4><pre>

       <b>ostree</b> <b>admin</b> <b>deploy</b> [OPTIONS...] {REFSPEC}

</pre><h4><b>DESCRIPTION</b></h4><pre>
       Takes a commit or revision REFSPEC, and queues the new deployment as default upon reboot.

</pre><h4><b>OPTIONS</b></h4><pre>
       <b>--stateroot</b>="STATEROOT"
           Use a different operating system stateroot than the current one.

       <b>--os</b>="STATEROOT"
           Alias for --stateroot.

       <b>--origin-file</b>="FILENAME"
           Use FILENAME as the origin, which is where OSTree will look for updated versions of the tree.

       <b>--retain</b>
           Do not delete previous deployment.

       <b>--retain-pending</b>
           Do not delete pending deployments.

       <b>--retain-rollback</b>
           Do not delete rollback deployments.

       <b>--not-as-default</b>
           Append rather than prepend new deployment.

       <b>--lock-finalization</b>
           The deployment will not be "finalized" by default on shutdown; to later queue it, use ostree admin
           lock-finalization --unlock.

       <b>--karg-proc-cmdline</b>
           Import current /proc/cmdline.

       <b>--karg</b>="NAME=VALUE"
           Set kernel argument, like root=/dev/sda1; this overrides any earlier argument with the same name.

       <b>--karg-append</b>="NAME=VALUE"
           Append kernel argument; useful with e.g. console= that can be used multiple times.

       <b>--karg-delete</b>="NAME=VALUE"
           Delete kernel argument if exists, can be used multiple times.

</pre><h4><b>EXAMPLE</b></h4><pre>
       <b>$</b> <b>ostree</b> <b>admin</b> <b>status</b>

                   * gnome-ostree 67e382b11d213a402a5313e61cbc69dfd5ab93cb07.0
                       origin refspec: gnome-ostree/buildmain/x86_64-runtime
                     gnome-ostree ce19c41036cc45e49b0cecf6b157523c2105c4de1ce3.0
                       origin refspec: gnome-ostree/buildmain/x86_64-runtime

       <b>$</b> <b>ostree</b> <b>admin</b> <b>deploy</b> <b>gnome-ostree/buildmain/x86_64-runtime</b>

                   ostadmin: Creating deployment /ostree/deploy/gnome-ostree/deploy/7e382b11d213a402a5313e61cbc69dfd5ab93cb07.1
                   ostadmin: Processing <a href="file:/etc">/etc</a>: 3 modified, 0 removed, 29 added
                   Transaction complete: bootconfig swap: no deployment count change: 0)

       <b>$</b> <b>ostree</b> <b>admin</b> <b>status</b>

                     gnome-ostree 67e382b11d213a402a5313e61cbc69dfd5ab93cb07.1
                       origin refspec: gnome-ostree/buildmain/x86_64-runtime
                   * gnome-ostree 67e382b11d213a402a5313e61cbc69dfd5ab93cb07.0
                       origin refspec: gnome-ostree/buildmain/x86_64-runtime

OSTree                                                                                    <u>OSTREE</u> <u>ADMIN</u> <u><a href="../man1/DEPLOY.1.html">DEPLOY</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>