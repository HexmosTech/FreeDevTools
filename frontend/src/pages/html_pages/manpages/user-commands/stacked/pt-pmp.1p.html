<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>pt-pmp - Aggregate GDB stack traces for a selected program.</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/percona-toolkit">percona-toolkit_3.2.1-1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       pt-pmp - Aggregate GDB stack traces for a selected program.

</pre><h4><b>SYNOPSIS</b></h4><pre>
       Usage: pt-pmp [OPTIONS] [FILES]

       pt-pmp is a poor man's profiler, inspired by &lt;<a href="http://poormansprofiler.org">http://poormansprofiler.org</a>&gt;.  It can create and summarize
       full stack traces of processes on Linux.  Summaries of stack traces can be an invaluable tool for
       diagnosing what a process is waiting for.

</pre><h4><b>RISKS</b></h4><pre>
       Percona Toolkit is mature, proven in the real world, and well tested, but all database tools can pose a
       risk to the system and the database server.  Before using this tool, please:

       •   Read the tool's documentation

       •   Review the tool's known "BUGS"

       •   Test the tool on a non-production server

       •   Backup your production server and verify the backups

</pre><h4><b>DESCRIPTION</b></h4><pre>
       pt-pmp  performs two tasks: it gets a stack trace, and it summarizes the stack trace.  If a file is given
       on the command line, the tool skips the first step and just aggregates the file.

       To summarize the stack trace, the tool extracts the function name (symbol) from each level of the  stack,
       and combines them with commas.  It does this for each thread in the output.  Afterwards, it sorts similar
       threads together and counts how many of each one there are, then sorts them most-frequent first.

       pt-pmp  is  a  read-only  tool.   However, collecting GDB stacktraces is achieved by attaching GDB to the
       program and printing stack traces from all threads. This will freeze the program for some period of time,
       ranging from a second or so to much longer on very busy systems with a lot of memory and many threads  in
       the  program.   In  the  tool's  default  usage  as a MySQL profiling tool, this means that MySQL will be
       unresponsive while the tool runs, although if you are using the tool to diagnose an unresponsive  server,
       there is really no reason not to do this.  In addition to freezing the server, there is also some risk of
       the server crashing or performing badly after GDB detaches from it.

</pre><h4><b>OPTIONS</b></h4><pre>
       --binary
           short form: -b; type: string; default: mysqld

           Which binary to trace.

       --help
           Show help and exit.

       --interval
           short form: -s; type: int; default: 0

           Number of seconds to sleep between "--iterations".

       --iterations
           short form: -i; type: int; default: 1

           How many traces to gather and aggregate.

       --lines
           short form: -l; type: int; default: 0

           Aggregate only first specified number of many functions; 0=infinity.

       --pid
           short form: -p; type: int

           Process ID of the process to trace; overrides "--binary".

       --save-samples
           short form: -k; type: string

           Keep the raw traces in this file after aggregation.

       --version
           Show version and exit.

</pre><h4><b>ENVIRONMENT</b></h4><pre>
       This tool does not use any environment variables.

</pre><h4><b>SYSTEM</b> <b>REQUIREMENTS</b></h4><pre>
       This  tool  requires  Bash  v3  or  newer.  If no backtrace files are given, then gdb is also required to
       create backtraces for the process specified on the command line.

</pre><h4><b>BUGS</b></h4><pre>
       For a list of known bugs, see &lt;<a href="http://www.percona.com/bugs/pt-pmp">http://www.percona.com/bugs/pt-pmp</a>&gt;.

       Please report bugs at &lt;https://jira.percona.com/projects/PT&gt;.  Include the following information in  your
       bug report:

       •   Complete command-line used to run the tool

       •   Tool "--version"

       •   MySQL version of all servers involved

       •   Output from the tool including STDERR

       •   Input files (log/dump/config files, etc.)

       If possible, include debugging output by running the tool with "PTDEBUG"; see "ENVIRONMENT".

</pre><h4><b>DOWNLOADING</b></h4><pre>
       Visit  &lt;<a href="http://www.percona.com/software/percona-toolkit/">http://www.percona.com/software/percona-toolkit/</a>&gt;  to  download  the  latest  release  of Percona
       Toolkit.  Or, get the latest release from the command line:

          wget percona.com/get/percona-toolkit.tar.gz

          wget percona.com/get/percona-toolkit.rpm

          wget percona.com/get/percona-toolkit.deb

       You can also get individual tools from the latest release:

          wget percona.com/get/TOOL

       Replace "TOOL" with the name of any tool.

</pre><h4><b>AUTHORS</b></h4><pre>
       Baron Schwartz, based on a script by Domas Mituzas (&lt;<a href="http://poormansprofiler.org/">http://poormansprofiler.org/</a>&gt;)

</pre><h4><b>ABOUT</b> <b>PERCONA</b> <b>TOOLKIT</b></h4><pre>
       This tool is part of Percona Toolkit, a collection of advanced command-line tools for MySQL developed  by
       Percona.   Percona  Toolkit  was  forked  from  two  projects  in June, 2011: Maatkit and Aspersa.  Those
       projects were created by Baron Schwartz and  primarily  developed  by  him  and  Daniel  Nichter.   Visit
       &lt;<a href="http://www.percona.com/software/">http://www.percona.com/software/</a>&gt; to learn about other free, open-source software from Percona.

</pre><h4><b>COPYRIGHT,</b> <b>LICENSE,</b> <b>AND</b> <b>WARRANTY</b></h4><pre>
       This program is copyright 2011-2018 Percona LLC and/or its affiliates, 2010-2011 Baron Schwartz.

       THIS  PROGRAM  IS  PROVIDED  "AS  IS"  AND  WITHOUT ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, WITHOUT
       LIMITATION, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.

       This program is free software; you can redistribute it and/or modify  it  under  the  terms  of  the  GNU
       General  Public  License  as  published  by the Free Software Foundation, version 2; OR the Perl Artistic
       License.  On UNIX and similar systems, you can issue `man perlgpl' or `man perlartistic'  to  read  these
       licenses.

       You  should have received a copy of the GNU General Public License along with this program; if not, write
       to the Free Software Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA.

</pre><h4><b>VERSION</b></h4><pre>
       pt-pmp 3.2.1

perl v5.30.3                                       2020-08-30                                         <u><a href="../man1p/PT-PMP.1p.html">PT-PMP</a></u>(1p)
</pre>
 </div>
</div></section>
</div>
</body>
</html>