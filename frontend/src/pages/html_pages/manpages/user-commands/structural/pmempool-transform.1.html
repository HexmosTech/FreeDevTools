<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>pmempool-transform - Modify internal structure of a pool set.</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/pmdk-tools">pmdk-tools_1.13.1-1.1ubuntu2_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       <b>pmempool-transform</b> - Modify internal structure of a pool set.

</pre><h4><b>SYNOPSIS</b></h4><pre>
              pmempool transform [options] &lt;poolset_file_src&gt; &lt;poolset_file_dst&gt;

</pre><h4><b>NOTE</b></h4><pre>
              NOTICE: The <b>libpmemblk</b> and <b>libpmemlog</b> libraries are deprecated since PMDK 1.13.0 release.

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The  <b>pmempool</b> <b>transform</b> command modifies internal structure of a pool set defined by the poolset_file_src
       file, according to a structure described in the poolset_file_dst file.

       The following operations are supported:

       • adding replicas - one or more new replicas can be added and synchronized with  other  replicas  in  the
         pool set,

       • removing replicas - one or more replicas can be removed from the pool set ,

       • adding or removing pool set options.

       Only one of the above operations can be performed at a time.

       Currently adding and removing replicas are allowed only for <b>pmemobj</b> pools (see <b><a href="../man7/libpmemobj.7.html">libpmemobj</a></b>(7)).

       The <u>poolset_file_src</u> argument provides the source pool set to be changed.

       The <u>poolset_file_dst</u> argument points to the target pool set.

   <b>Available</b> <b>options:</b>
       <b>-d,</b> <b>--dry-run</b>
              Enable  dry run mode.  In this mode no changes are applied, only check for viability of the opera‐
              tion is performed.

       <b>-v,</b> <b>--verbose</b>
              Increase verbosity level.

       <b>-h,</b> <b>--help</b>
              Display help message and exit.

</pre><h4><b>EXAMPLES</b></h4><pre>
   <b>Example</b> <b>1.</b>
       Let files /path/poolset_file_src and /path/poolset_file_dst have the following contents:

              PMEMPOOLSET
              20M /0/partfile1
              20M /0/partfile2
              25M /0/partfile3
              REPLICA
              40M /1/partfile1
              20M /1/partfile2

              PMEMPOOLSET
              20M /0/partfile1
              20M /0/partfile2
              25M /0/partfile3
              REPLICA
              40M /1/partfile1
              20M /1/partfile2
              REPLICA
              50M /2/partfile1
              20M /2/partfile2

       Then, the command

       pmempool transform /path/poolset_file_src /path/poolset_file_dst

       adds a replica to the pool set.  All other replicas remain unchanged and the size  of  the  pool  remains
       60M.

   <b>Example</b> <b>2.</b>
       Let files /path/poolset_file_src and /path/poolset_file_dst have the following contents:

              PMEMPOOLSET
              20M /0/partfile1
              20M /0/partfile2
              25M /0/partfile3
              REPLICA
              40M /1/partfile1
              20M /1/partfile2

              PMEMPOOLSET
              20M /0/partfile1
              20M /0/partfile2
              25M /0/partfile3

       Then

       pmempool_transform /path/poolset_file_src /path/poolset_file_dst

       deletes  the  second  replica from the pool set.  The first replica remains unchanged and the size of the
       pool is still 60M.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man1/pmempool.1.html">pmempool</a>(1)</b>, <b><a href="../man7/libpmemblk.7.html">libpmemblk</a>(7)</b>, <b><a href="../man7/libpmemlog.7.html">libpmemlog</a>(7)</b>, <b><a href="../man7/libpmempool.7.html">libpmempool</a>(7)</b> and <b>&lt;https://pmem.io&gt;</b>
</pre>
 </div>
</div></section>
</div>
</body>
</html>