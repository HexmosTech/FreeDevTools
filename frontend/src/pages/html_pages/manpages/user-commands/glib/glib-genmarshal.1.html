<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>glib-genmarshal - C code marshaller generation utility for GLib closures</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/libgio-2.0-dev-bin">libgio-2.0-dev-bin_2.84.1-1ubuntu0.1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       glib-genmarshal - C code marshaller generation utility for GLib closures

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>glib-genmarshal</b> [OPTION…] [FILE…]

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>glib-genmarshal</b>  is  a  small  utility  that  generates  C code marshallers for callback functions of the
       GClosure mechanism in the  GObject  sublibrary  of  GLib.   The  marshaller  functions  have  a  standard
       signature,  they  get  passed  in the invoking closure, an array of value structures holding the callback
       function parameters and a value structure for the return value of the callback. The  marshaller  is  then
       responsible  to  call  the respective C code function of the closure with all the parameters on the stack
       and to collect its return value.

       <b>glib-genmarshal</b> takes a list of marshallers to generate as input. The marshaller list is either read from
       files passed as additional arguments on the command line; or from standard input, by using <b>-</b> as the input
       file.

   <b>MARSHALLER</b> <b>LIST</b> <b>FORMAT</b>
       The marshaller lists are processed line by line, a line can contain a comment in the form of:

          # this is a comment

       or a marshaller specification of the form:

          RTYPE:PTYPE
          RTYPE:PTYPE,PTYPE
          RTYPE:PTYPE,PTYPE,PTYPE
          …

       The <b>RTYPE</b> part specifies the callback’s return type and the <b>PTYPE</b> instances right of  the  colon  specify
       the callback’s parameter list, except for the first and the last arguments which are always pointers.

   <b>PARAMETER</b> <b>TYPES</b>
       Currently, the following types are supported:

       <b>VOID</b>
          Indicates no return type, or no extra parameters. If <b>VOID</b> is used as the parameter list, no additional
          parameters may be present.

       <b>BOOLEAN</b>
          For boolean types (<b>gboolean</b>).

       <b>CHAR</b>
          For signed char types (<b>gchar</b>).

       <b>UCHAR</b>
          For unsigned char types (<b>guchar</b>).

       <b>INT</b>
          For signed integer types (<b>gint</b>).

       <b>UINT</b>
          For unsigned integer types (<b>guint</b>).

       <b>LONG</b>
          For signed long integer types (<b>glong</b>).

       <b>ULONG</b>
          For unsigned long integer types (<b>gulong</b>).

       <b>INT64</b>
          For signed 64-bit integer types (<b>gint64</b>).

       <b>UINT64</b>
          For unsigned 64-bit integer types (<b>guint64</b>).

       <b>ENUM</b>
          For enumeration types (<b>gint</b>).

       <b>FLAGS</b>
          For flag enumeration types (<b>guint</b>).

       <b>FLOAT</b>
          For single-precision float types (<b>gfloat</b>).

       <b>DOUBLE</b>
          For double-precision float types (<b>gdouble</b>).

       <b>STRING</b>
          For string types (<b>gchar*</b>).

       <b>BOXED</b>
          For boxed (anonymous but reference counted) types (<b>GBoxed*</b>).

       <b>PARAM</b>
          For <b>GParamSpec</b> or derived types (<b>GParamSpec*</b>).

       <b>POINTER</b>
          For anonymous pointer types (<b>gpointer</b>).

       <b>OBJECT</b>
          For <b>GObject</b> or derived types (<b>GObject*</b>).

       <b>VARIANT</b>
          For <b>GVariant</b> types (<b>GVariant*</b>).

       <b>NONE</b>
          Deprecated alias for <b>VOID</b>.

       <b>BOOL</b>
          Deprecated alias for <b>BOOLEAN</b>.

</pre><h4><b>OPTIONS</b></h4><pre>
       <b>--header</b>
          Generate  header  file  contents of the marshallers. This option is mutually exclusive with the <b>--body</b>
          option.

       <b>--body</b>
          Generate C code file contents of the marshallers. This option is mutually exclusive with the  <b>--header</b>
          option.

       <b>--prefix</b> <b>&lt;PREFIX&gt;</b>
          Specify marshaller prefix. The default prefix is <b>g_cclosure_user_marshal</b>.

       <b>--skip-source</b>
          Skip source location remarks in generated comments.

       <b>--stdinc</b>
          Use  the  standard  marshallers  of the GObject library, and include <b>glib-object.h</b> in generated header
          files. This option is mutually exclusive with the <b>--nostdinc</b> option.

       <b>--nostdinc</b>
          Do not use the standard marshallers of  the  GObject  library,  and  skip  the  <b>glib-object.h</b>  include
          directive in generated header files.  This option is mutually exclusive with the <b>--stdinc</b> option.

       <b>--internal</b>
          Mark generated functions as internal, using <b>G_GNUC_INTERNAL</b>.

       <b>-valist-marshallers</b>
          Generate <b>valist</b> marshallers, for use with <b>g_signal_set_va_marshaller()</b>.

       <b>-v</b>, <b>--version</b>
          Print version information and exit.

       <b>--g-fatal-warnings</b>
          Make warnings fatal. That is, exit immediately once a warning occurs.

       <b>-h</b>, <b>--help</b>
          Print brief help and exit.

       <b>--output</b> <b>&lt;FILE&gt;</b>
          Write output to <b>FILE</b> instead of the standard output.

       <b>--prototypes</b>
          Generate  function prototypes before the function definition in the C source file, in order to avoid a
          <b>missing-prototypes</b> compiler warning. This option is only useful when using the <b>--body</b> option.

       <b>--pragma-once</b>
          Use the <b>once</b> pragma instead of an old style header guard when  generating  the  C  header  file.  This
          option is only useful when using the <b>--header</b> option.

       <b>--include-header</b> <b>&lt;HEADER&gt;</b>
          Adds  a  <b>#include</b>  directive  for the given file in the C source file. This option is only useful when
          using the <b>--body</b> option.

       <b>-D</b> <b>&lt;SYMBOL&gt;[=&lt;VALUE&gt;]</b>
          Adds a <b>#define</b> C pre-processor directive for <b>SYMBOL</b> and its given <b>VALUE</b>, or <b>"1"</b> if the value is unset.
          You can use this option multiple times; if you do, all the symbols will be defined in the  same  order
          given  on  the  command  line,  before  the symbols undefined using the <b>-U</b> option. This option is only
          useful when using the <b>--body</b> option.

       <b>-U</b> <b>&lt;SYMBOL&gt;</b>
          Adds a <b>#undef</b> C pre-processor directive to undefine  the  given  <b>SYMBOL</b>.   You  can  use  this  option
          multiple  times;  if  you do, all the symbols will be undefined in the same order given on the command
          line, after the symbols defined using the <b>-D</b> option. This option is only useful when using the  <b>--body</b>
          option.

       <b>--quiet</b>
          Minimizes the output of <b>glib-genmarshal</b>, by printing only warnings and errors. This option is mutually
          exclusive with the <b>--verbose</b> option.

       <b>--verbose</b>
          Increases the verbosity of <b>glib-genmarshal</b>, by printing debugging information. This option is mutually
          exclusive with the <b>--quiet</b> option.

</pre><h4><b>USING</b> <b>GLIB-GENMARSHAL</b> <b>WITH</b> <b>MESON</b></h4><pre>
       Meson supports generating closure marshallers using <b>glib-genmarshal</b> out of the box in its <b>gnome</b> module.

       In  your  <b>meson.build</b>  file you will typically call the <b>gnome.genmarshal()</b> method with the source list of
       marshallers to generate:

          gnome = import('gnome')
          marshal_files = gnome.genmarshal('marshal',
            sources: 'marshal.list',
            internal: true,
          )

       The <b>marshal_files</b> variable will contain an array of two elements in the following order:

       • a build target for the source file

       • a build target for the header file

       You should use the returned objects to provide a dependency on every other build target  that  references
       the source or header file; for instance, if you are using the source to build a library:

          mainlib = library('project',
            sources: project_sources + marshal_files,
            …
          )

       Additionally,  if  you  are including the generated header file inside a build target that depends on the
       library you just built, you must ensure that the internal dependency includes the generated header  as  a
       required source file:

          mainlib_dep = declare_dependency(sources: marshal_files[1], link_with: mainlib)

       You should not include the generated source file as well, otherwise it will be built separately for every
       target  that  depends  on it, causing build failures. To know more about why all this is required, please
       refer to the corresponding Meson FAQ entry  &lt;https://mesonbuild.com/FAQ.html#how-do-i-tell-meson-that-my-
       sources-use-generated-headers&gt; .

       For more information on how to use the method, see the Meson documentation &lt;https://mesonbuild.com/Gnome-
       module.html#gnomegenmarshal&gt;

       for <b>gnome.genmarshal()</b>.

</pre><h4><b>USING</b> <b>GLIB-GENMARSHAL</b> <b>WITH</b> <b>AUTOTOOLS</b></h4><pre>
       In  order to use <b>glib-genmarshal</b> in your project when using Autotools as the build system, you will first
       need to modify your <b>configure.ac</b> file to ensure  you  find  the  appropriate  command  using  <b>pkg-config</b>,
       similarly as to how you discover the compiler and linker flags for GLib:

          PKG_PROG_PKG_CONFIG([0.28])

          PKG_CHECK_VAR([GLIB_GENMARSHAL], [glib-2.0], [glib_genmarshal])

       In your <b>Makefile.am</b> file you will typically need very simple rules to generate the C files needed for the
       build:

          marshal.h: marshal.list
                  $(AM_V_GEN)$(GLIB_GENMARSHAL) \
                          --header \
                          --output=$@ \
                          $&lt;

          marshal.c: marshal.list marshal.h
                  $(AM_V_GEN)$(GLIB_GENMARSHAL) \
                          --include-header=marshal.h \
                          --body \
                          --output=$@ \
                          $&lt;

          BUILT_SOURCES += marshal.h marshal.c
          CLEANFILES += marshal.h marshal.c
          EXTRA_DIST += marshal.list

       In  the  example  above,  the  first rule generates the header file and depends on a <b>marshal.list</b> file in
       order to regenerate the result in case the marshallers list is updated. The  second  rule  generates  the
       source file for the same <b>marshal.list</b>, and includes the file generated by the header rule.

</pre><h4><b>EXAMPLE</b></h4><pre>
       To generate marshallers for the following callback functions:

          void   foo (gpointer data1,
                      gpointer data2);
          void   bar (gpointer data1,
                      gint     param1,
                      gpointer data2);
          gfloat baz (gpointer data1,
                      gboolean param1,
                      guchar   param2,
                      gpointer data2);

       The <b>marshaller.list</b> file has to look like this:

          VOID:VOID
          VOID:INT
          FLOAT:BOOLEAN,UCHAR

       and you call <b>glib-genmarshal</b> like this:

          glib-genmarshal --header marshaller.list &gt; marshaller.h
          glib-genmarshal --body marshaller.list &gt; marshaller.c

       The  generated  marshallers have the arguments encoded in their function name.  For this particular list,
       they are:

          g_cclosure_user_marshal_VOID__VOID(...),
          g_cclosure_user_marshal_VOID__INT(...),
          g_cclosure_user_marshal_FLOAT__BOOLEAN_UCHAR(...).

       They can be used directly for GClosures or be passed in as the <b>GSignalCMarshaller</b>  <b>c_marshaller</b>  argument
       upon creation of signals:

          GClosure *cc_foo, *cc_bar, *cc_baz;

          cc_foo = g_cclosure_new (NULL, foo, NULL);
          g_closure_set_marshal (cc_foo, g_cclosure_user_marshal_VOID__VOID);
          cc_bar = g_cclosure_new (NULL, bar, NULL);
          g_closure_set_marshal (cc_bar, g_cclosure_user_marshal_VOID__INT);
          cc_baz = g_cclosure_new (NULL, baz, NULL);
          g_closure_set_marshal (cc_baz, g_cclosure_user_marshal_FLOAT__BOOLEAN_UCHAR);

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
        &lt;<a href="../man1/glib-mkenums.1.html">glib-mkenums</a>(1)&gt;

                                                                                               <u>GLIB-GENMARSHAL</u>()
</pre>
 </div>
</div></section>
</div>
</body>
</html>