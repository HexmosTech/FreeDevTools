<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>locktest - Find differences in locking between two SMB servers</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/samba-testsuite">samba-testsuite_4.21.4+dfsg-1ubuntu3.3_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       locktest - Find differences in locking between two SMB servers

</pre><h4><b>SYNOPSIS</b></h4><pre>

       <b>locktest</b> {//server1/share1} {//server2/share2} [-U user%pass] [-U user%pass] [-s seed] [-o numops] [-a]
                [-O] [-E] [-Z] [-R range] [-B base] [-M min]

</pre><h4><b>DESCRIPTION</b></h4><pre>
       locktest is a utility for detecting differences in behaviour in locking between SMB servers. It will run
       a random set of locking operations against <u>//server1/share1</u> and then the same random set against
       <u>//server2/share2</u> and display the differences in the responses it gets.

       This utility is used by the Samba team to find differences in behaviour between Samba and Windows
       servers.

</pre><h4><b>OPTIONS</b></h4><pre>
       -U user%pass
           Specify the user and password to use when logging on on the shares. This parameter can be specified
           twice (once for the first server, once for the second).

       -s seed
           Seed the random number generator with the specified value.

       -o numops
           Set the number of operations to perform.

       -a
           Print the operations that are performed.

       -A
           Backtrack to find minimal number of operations required to make the response to a certain call
           differ.

       -O
           Enable oplocks.

       -u
           Hide unlock fails.

       -E
           enable exact error code checking

       -Z
           enable the zero/zero lock

       -R range
           set lock range

       -B base
           set lock base

       -M min
           set min lock length

       -k
           Use kerberos

</pre><h4><b>VERSION</b></h4><pre>
       This man page is correct for version 4.0 of the Samba suite.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       Samba

</pre><h4><b>AUTHOR</b></h4><pre>
       This utility is part of the <b>Samba</b>[1] suite, which is developed by the global <b>Samba</b> <b>Team</b>[2].

       locktest was written by Andrew Tridgell.

       This manpage was written by Jelmer Vernooij.

</pre><h4><b>NOTES</b></h4><pre>
        1. Samba
           <a href="http://www.samba.org/">http://www.samba.org/</a>

        2. Samba Team
           <a href="http://www.samba.org/samba/team/">http://www.samba.org/samba/team/</a>

Samba 4.0                                          06/19/2025                                        <u><a href="../man1/LOCKTEST.1.html">LOCKTEST</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>