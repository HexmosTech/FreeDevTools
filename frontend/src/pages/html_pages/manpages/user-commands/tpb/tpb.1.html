<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>tpb - program to use the IBM ThinkPad (tm) special keys</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/jammy/+package/tpb">tpb_0.6.4-11_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       tpb - program to use the IBM ThinkPad (tm) special keys

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>tpb</b> <b>[options]</b>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       With  TPB  it  is possible to bind a program to the ThinkPad, Mail, Home and Search button.  TPB can also
       run a callback program on each state change with the changed state and the new state as options.   So  it
       is  possible  to trigger several actions on different events.  TPB  has a on-screen display (OSD) to show
       volume, mute, brightness and some other information.  Furthermore TPB supports a software mixer, as the R
       series ThinkPads have no hardware mixer to change the volume.

</pre><h4><b>OPTIONS</b></h4><pre>
       <b>-h,</b> <b>--help</b>
               Display help.

       <b>-d,</b> <b>--daemon</b>
               Startup as daemon.

       <b>-c,</b> <b>--config=FILE</b>
               Read FILE as additional configuration file.

       <b>-A,</b> <b>--apm=STATE</b>
               Some ThinkPads generate mouse and keyboard events or have a high CPU load when polling /proc/apm.
               You may enable this, if you want the AC connected/AC disconnected messages.  Default is off.

       <b>-P,</b> <b>--powermgt=STATE</b>
               The program apmiser (part of tpctl package) switches the power management mode according  to  the
               needs  of  the user.  This results in lots of changes displayed in OSD.  To avoid this, the power
               management messages can be turned off.  Default is auto.

       <b>-x,</b> <b>--xevents=STATE</b>
               Some of the special keys generate X11 events instead of changing the nvram.  TPB is able to  grab
               those  keys  and  run  an  application.   In general events are only grabbed for keys for which a
               command is assigned or if the callback script is configured.  However some people like to use the
               X11 events through xmodmap or the like.  This  option  turns  off  the  grabbing  of  all  events
               regardless  if  they  are  configured  or  not.  Affected keys are HOME, SEARCH, MAIL, FAVORITES,
               RELOAD, ABORT, BACKWARD, FORWARD and FN.  Default is on.

       <b>-m,</b> <b>--mixer=STATE</b>
               Use OSS mixer to change volume and for mute/unmute.   This  should  be  use  on  models  with  no
               hardware  mixer  (volume  and  mute buttons show no effect).  R31 is reported to have no hardware
               mixer.  To use this you must enable write  access  to  the  NVRAM  device  (possibly  dangerous).
               Possible values are on and off.  Default is off.

       <b>-o,</b> <b>--osd=STATE</b>
               Show on-screen display for volume, mute and brightness.  Possible values are on and off.  Default
               is on.

       <b>-p,</b> <b>--poll=DELAY</b>
               Set delay between polls in microseconds.  Default is 200000.

       <b>-t,</b> <b>--thinkpad=CMD</b>
               String  with  command and options that should be executed when ThinkPad button is pressed.  It is
               possible to execute any program.   The  program  needs  to  include  the  complete  path  to  the
               executable.  By default no command is executed.

       <b>-H,</b> <b>--home=CMD</b>
               String  with command and options that should be executed when Home button is pressed.  By default
               no command is executed.

       <b>-S,</b> <b>--search=CMD</b>
               String with command and options that should be  executed  when  Search  button  is  pressed.   By
               default no command is executed.

       <b>-M,</b> <b>--mail=CMD</b>
               String  with command and options that should be executed when Mail button is pressed.  By default
               no command is executed.

       <b>-W,</b> <b>--wireless=CMD</b>
               String with command and options that should be executed when  Wireless  button  is  pressed.   By
               default no command is executed.

       <b>-C,</b> <b>--callback=CMD</b>
               String  with command and options that should be executed each button press and state change.  tpb
               passes an identifier as first argument and the new state as second argument to the callback.   So
               you can do fancy things :) By default no command is executed.

       <b>-v,</b> <b>--verbose</b>
               Print information about pressed keys.

</pre><h4><b>CONFIGURATION</b> <b>FILE</b></h4><pre>
       The  default  values  of  tpb  can  be  overridden  using  a  configuration  file.   The  priority of the
       configuration options is:

       •      builtin defaults

       •      configuration in /etc/tpbrc

       •      configuration in $HOME/.tpbrc

       •      configuration in file given with '--config' command line option

       •      command line options

       tpb searches for the file '<a href="file:~/.tpbrc">~/.tpbrc</a>'.  The configuration consists of lines of the form:

              # COMMENT

              KEYWORD ARGUMENT # COMMENT

       Keywords are:

       <b>NVRAM</b>   Should define the nvram device from where the information about the key states is  read.  Default
               is to try /dev/nvram, followed by /dev/misc/nvram.

       <b>POLLTIME</b>
               Defines the delay between polls in microseconds.  Default is 200000.

       <b>THINKPAD</b>
               String  with  command and options that should be executed when ThinkPad button is pressed.  It is
               possible to execute any program.  By default no command is executed.

       <b>HOME</b>    String with command and options that should  be  executed  when  Home  button  is  pressed  (only
               available on A and S series).  By default no command is executed.

       <b>SEARCH</b>  String  with  command  and  options  that  should be executed when Search button is pressed (only
               available on A and S series).  By default no command is executed.

       <b>MAIL</b>    String with command and options  that  should  be  executed  when  Mail  button  is  pressed(only
               available on A and S series).  By default no command is executed.

       <b>FAVORITES</b>
               String  with  command  and options that should be executed when Favorites button is pressed (only
               available on A series).  By default no command is executed.

       <b>RELOAD</b>  String with command and options that should be executed  when  Reload  button  is  pressed  (only
               available on A series).  By default no command is executed.

       <b>ABORT</b>   String  with  command  and  options  that  should  be executed when Abort button is pressed (only
               available on A series).  By default no command is executed.

       <b>BACKWARD</b>
               String with command and options that should be executed when Backward  button  is  pressed  (only
               available on A series).  By default no command is executed.

       <b>FORWARD</b> String  with  command  and  options  that should be executed when Forward button is pressed (only
               available on A series).  By default no command is executed.

       <b>FN</b>      String with command and options that should be executed when Fn button is pressed.  This is  only
               triggered,  when  Fn  is released again and it was not used for a key combination.  By default no
               command is executed.

       <b>CALLBACK</b>
               String with command and options that should be executed each button press and state change.   tpb
               passes  an identifier as first argument and the new state as second argument to the callback.  So
               you can do fancy things :) By default no command is executed.  Supported identifiers  and  states
               are:

               IDENTIFIER        STATES/VALUE
               thinkpad          pressed
               home              pressed
               search            pressed
               mail              pressed
               favorites         pressed
               reload            pressed
               abort             pressed
               backward          pressed
               forward           pressed
               fn                pressed
               zoom              on, off
               thinklight        on, off
               display           lcd, crt, both
               expand            on, off
               brightness        PERCENT
               volume            PERCENT
               mute              on, off
               ac_power          connected, disconnected
               powermgt_ac       high, auto, manual
               powermgt_battery  high, auto, manual

       <b>MIXER</b>   Use  OSS  mixer  to  change  volume  and  for  mute/unmute.  This should be use on models with no
               hardware mixer (volume and mute buttons show no effect).  R31 is reported  to  have  no  hardware
               mixer.   To  use  this  you  must  enable  write access to the NVRAM device (possibly dangerous).
               Possible values are on and off.  Default is off.

       <b>MIXERSTEPS</b>
               Defines how much steps should be available when using the OSS mixer.  Default is 14.  If  another
               number of steps is used, tpb needs write access to the nvram device.

       <b>MIXERDEV</b>
               Defines the mixer device to use for OSS mixer support.  Default is /dev/mixer.

       <b>APM</b>     Some ThinkPads generate mouse and keyboard events or have a high CPU load when polling /proc/apm.
               You may enable this, if you want the AC connected/AC disconnected messages.  Default is off.

       <b>POWERMGT</b>
               The  program  apmiser (part of tpctl package) switches the power management mode according to the
               needs of the user.  This results in lots of changes displayed in OSD.  To avoid this,  the  power
               management messages can be turned off.  Default is auto.

       <b>XEVENTS</b> Some  of the special keys generate X11 events instead of changing the nvram.  TPB is able to grab
               those keys and run an application.  In general events are only  grabbed  for  keys  for  which  a
               command is assigned or if the callback script is configured.  However some people like to use the
               X11  events  through  xmodmap  or  the  like.   This  option turns off the grabbing of all events
               regardless if they are configured or not.  Affected  keys  are  HOME,  SEARCH,  MAIL,  FAVORITES,
               RELOAD, ABORT, BACKWARD, FORWARD and FN.  Default is on.

       <b>OSD</b>     Show on-screen display for volume, mute and brightness.  Possible values are on and off.  Default
               is on.

       <b>OSDZOOM</b> Specific  switch  for showing on-screen display for zoom button.  Possible values are on and off.
               Default is unset, follows the OSD option.

       <b>OSDTHINKLIGHT</b>
               Specific switch for showing on-screen display for thinklight button.  Possible values are on  and
               off.  Default is unset, follows the OSD option.

       <b>OSDDISPLAY</b>
               Specific  switch for showing on-screen display for display output button.  Possible values are on
               and off.  Default is unset, follows the OSD option.

       <b>OSDHVEXPANSION</b>
               Specific switch for showing on-screen display for HV expansion button.  Possible  values  are  on
               and off.  Default is unset, follows the OSD option.

       <b>OSDBRIGHTNESS</b>
               Specific switch for showing on-screen display for brightness buttons.  Possible values are on and
               off.  Default is unset, follows the OSD option.

       <b>OSDVOLUME</b>
               Specific  switch for showing on-screen display for ivolume and mute buttons.  Possible values are
               on and off.  Default is unset, follows the OSD option.

       <b>OSDPOWERMGT</b>
               Specific switch for showing on-screen display for ipower management changes.  Possible values are
               on and off.  Default is unset, follows the OSD option.

       <b>OSDFONT</b> Defines the font for the on-screen display.  You may use "xfontsel" to choose  one.   Default  is
               the default font of the xosd library.

       <b>OSDCOLOR</b>
               Defines  the  color  of  the on-screen display.  You may use "xcolors" to choose one.  Default is
               BLUE.

       <b>OSDTIMEOUT</b>
               Defines how long (in seconds) the on-screen display is shown after the  last  keys  was  pressed.
               Default is 3.

       <b>OSDOFFSET</b>
               For backward compatibility.  Same as OSDVERTICAL.

       <b>OSDSHADOW</b>
               Defines the offset of the font shadow in pixels.  Default is 2.

       <b>OSDSHADOWCOLOR</b>
               Defines  the  color  of the shadow of the on-screen display. You may use "xcolors" to choose one.
               Default is BLACK.

       <b>OSDOUTLINE</b>
               Defines the width of the font outline in pixels.  Default is 1.

       <b>OSDOUTLINECOLOR</b>
               Defines the color of the outline of the on-screen display.  You may use "xcolors" to choose  one.
               Default is BLACK.

       <b>OSDVERTICAL</b>
               Defines the offset from the top or bottom of the screen in pixels.  Default is 25.

       <b>OSDHORIZONTAL</b>
               Defines  the offset from the left or right of the screen in pixels.  Only supported by xosd 2.0.0
               and above.  Default is 25.

       <b>OSDPOS</b>  Defines where the osd is shown.  Possible values are top, middle and bottom.  The value middle is
               only supported by xosd 2.0.0 and above.  Default is bottom.

       <b>OSDALIGN</b>
               Defines the alignment of the osd.  Possible values are left, center and right.  Default is left.

</pre><h4><b>NOTES</b></h4><pre>
       Requires NVRAM device /dev/nvram.  This must be enabled in your kernel.  Although the  device  file  must
       exist.  The device file could be created with ´mknod /dev/nvram c 10 144´

       This program was developed on a Thinkpad Model T21.

</pre><h4><b>EXAMPLE</b></h4><pre>
       tpb --osd=off --verbose --thinkpad="xterm -T ntpctl -e ntpctl"

</pre><h4><b>COPYRIGHT</b></h4><pre>
       Copyright 2002-2005, Markus Braun &lt;<a href="mailto:markus.braun@krawel.de">markus.braun@krawel.de</a>&gt;

       Licensed under GNU GPL version 2 or later.  This is free software; see the source for copying conditions.
       There is NO warranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.

</pre><h4><b>AUTHOR</b></h4><pre>
       Written by Markus Braun

0.6.4                                             25 Juli 2005                                            <u><a href="../man1/TPB.1.html">TPB</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>