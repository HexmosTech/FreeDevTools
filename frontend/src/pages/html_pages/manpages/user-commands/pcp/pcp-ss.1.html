<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>pcp-ss - report socket statistics</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/pcp">pcp_6.3.3-1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       <b>pcp-ss</b> - report socket statistics

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>pcp</b> [<u>pcp</u> <u>options</u>] <b>ss</b> [<u>ss</u> <u>options</u>]

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>pcp-ss</b>  reports socket statistics collected by the <b><a href="../man1/pmdasockets.1.html">pmdasockets</a></b>(1) PMDA agent.  The command is intended to
       be reasonably compatible with many of the <b><a href="../man8/ss.8.html">ss</a></b>(8) command line options  and  reporting  formats,  but  also
       offer  the  advantages  of  local  or  remote monitoring (in live mode) and also historical replay from a
       previously recorded PCP archive.  Note that since <b><a href="../man1/ss.1.html">ss</a></b>(1) has many command line options, many of which  are
       the  same as standard PCP command line options as described in <b><a href="../man1/PCPIntro.1.html">PCPIntro</a></b>(1), the <b>pcp-ss</b> tool should always
       be invoked by users using the <b>pcp</b> front-end.  This allows standard PCP commandline options  such  as  <b>-h</b>,
       <b>-a</b>,  <b>-S</b>,  <b>-T</b>,  <b>-O</b>,  <b>-z</b>,  etc to be passed without conflict with <b><a href="../man1/ss.1.html">ss</a></b>(1) options.  See the <b>EXAMPLES</b> sections
       below for typical usage and command lines.

       Live mode uses the <b>pcp</b> <b>-h</b> <u>host</u> option and requires the <b><a href="../man1/pmdasockets.1.html">pmdasockets</a></b>(1) PMDA to be installed and enabled on
       the target <u>host</u> (local or remote), see <b><a href="../man1/pmdasockets.1.html">pmdasockets</a></b>(1) for details on how to enable the <b>sockets</b> PMDA on  a
       particular  host.   The default source is live metrics collected on <b>localhost</b>, if neither of the <b>-h</b> or <b>-a</b>
       options are given.

       Historical/archive replay uses the <b>pcp</b> <b>-a</b> <u>archive</u> option, where <u>archive</u> is the basename of  a  previously
       recorded PCP archive.  The archive replay feature is particularly useful because socket statistics can be
       reported  for  a  designated  time using the <b>pcp</b> <b>--origin</b> option (which defaults to the start time of the
       archive).

</pre><h4><b>EXAMPLES</b></h4><pre>
       <b>pcp</b> <b>ss</b>
            Display default basic socket information for the local host.  This includes <b>Netid</b> (<b>tcp</b>,  <b>udp</b>,  etc),
            <b>State</b>  (<b>ESTAB</b>,  <b>TIME_WAIT</b>,  etc), <b>Recv-Q</b> and <b>Send-Q</b> queue lengths and the local and peer address and
            port for each socket.

       <b>pcp</b> <b>-h</b> <u>somehost</u> <b>ss</b> <b>-noemitauO</b>
            Display the same basic socket information as above for the host <u>somehost</u>, which may be  the  default
            <b>localhost</b>.   The  additional  command  line arguments (<b>-noemitauO</b>) display one line per socket (<b>-O</b>),
            numeric (<b>-n</b>) service names (default), timer information (<b>-o</b>), extended socket details  (<b>-e</b>),  socket
            memory  usage  (<b>-m</b>),  internal  TCP  information  (<b>-i</b>),  both udp (<b>-u</b>) and tcp sockets (<b>-t</b>) and both
            listening and non-listening sockets (<b>-a</b>).

       <b>pcp</b> <b>-a</b> <u>somearchive</u> <b>-S'@Wed</b> <b>16</b> <b>Jun</b> <b>2021</b> <b>12:57:21'</b> <b>ss</b> <b>-noemitauO</b>
            Display the same information as the above example, but for the archive <u>somearchive</u> starting  at  the
            given  time  <b>Wed</b>  <b>16</b> <b>Jun</b> <b>2021</b> <b>12:57:21</b>.  Note the literal <b>@</b> prefix is required for an absolute time,
            see <b><a href="../man1/PCPIntro.1.html">PCPIntro</a></b>(1) for details.  The archive must of course contain data for the  requested  time.  You
            can use <b>pmlogdump</b> <b>-l</b> <u>somearchive</u> to examine the time bounds of <u>somearchive</u>.

       <b>pcp</b> <b>-a</b> <u>somearchive</u> <b>-O-0</b> <b>ss</b> <b>-noemitauO</b>
            As  above, but with an offset of zero seconds (<b>-O-0</b>) before the current end of <u>somearchive</u>, i.e. the
            most recently logged data. Note that <u>somearchive</u> may be currently growing (i.e.  being  logged  with
            <b><a href="../man1/pmlogger.1.html">pmlogger</a></b>(1)).

</pre><h4><b>OPTIONS</b></h4><pre>
       Due  to  the  large  number  of  options supported by <b>pcp-ss</b>, the <b><a href="../man1/pcp.1.html">pcp</a></b>(1) command should always be used to
       invoke <b>pcp-ss</b> in order to specify options such as the metrics source  (host  or  archive)  and  also  (in
       archive mode), the requested start time or offset, and timezone using the following options:

       <b>-h</b>, <b>--host</b>
            The remote hostname to connect to in live mode.

       <b>-a</b>, <b>--archive</b>
            The archive file to use for historical sampling

       <b>-O</b>, <b>--origin</b>
            The time offset to use within an archive (implies <b>-a</b>)

       <b>-S</b>, <b>--start</b>
            The start time (e.g. in <b><a href="../man3/ctime.3.html">ctime</a></b>(3) format) to use when replaying an archive.

       <b>-Z</b>, <b>--timezone</b>
            Use   a  specific  timezone.   Since  <b>pcp-ss</b>  doesn't  report  timestamps,  this  only  affects  the
            interpretation of an absolute starting time (<b>-S</b>) or offset (<b>-O</b>).

       <b>-z</b>, <b>--hostzone</b>
            In archive mode, use the timezone of the archive rather than  the  timezone  on  the  local  machine
            running  <b>pcp-ss</b>.   The  timezone,  start  and  finish  times  of  the  archive may be examined using
            <b><a href="../man1/pmlogdump.1.html">pmlogdump</a></b>(1) with the <b>-L</b> option.

       The above <b>pcp</b> options become indirectly available to the <b>pcp-ss</b> command via environment variables - refer
       to <b><a href="../man1/PCPIntro.1.html">PCPIntro</a></b>(1) for a complete description of these options.

       The additional command line options available for <b>pcp-ss</b> itself are:

       <b>-h</b>, <b>--help</b>
            show help message and exit

       <b>-V</b>, <b>--version</b>
            output version information

       <b>-n</b>, <b>--numeric</b>
            don't resolve service names (currently always set)

       <b>-a</b>, <b>--all</b>
            display all sockets

       <b>-l</b>, <b>--listening</b>
            display listening sockets

       <b>-o</b>, <b>--options</b>
            show timer information

       <b>-e</b>, <b>--extended</b>
            show detailed socket information

       <b>-m</b>, <b>--memory</b>
            show socket memory usage

       <b>-i</b>, <b>--info</b>
            show internal TCP information

       <b>-4</b>, <b>--ipv4</b>
            display only IP version 4 sockets

       <b>-6</b>, <b>--ipv6</b>
            display only IP version 6 sockets

       <b>-t</b>, <b>--tcp</b>
            display only TCP sockets

       <b>-u</b>, <b>--udp</b>
            display only UDP sockets

       <b>-H</b>, <b>--noheader</b>
            Suppress header line

       <b>-O</b>, <b>--oneline</b>
            socket's data printed on a single line

</pre><h4><b>REPORT</b></h4><pre>
       The columns in the <b>pcp-ss</b>  report  vary  according  to  the  command  line  options  and  have  the  same
       interpretation as described in <b><a href="../man8/ss.8.html">ss</a></b>(8).

       One difference with <b>pcp-ss</b> is that the first line in the report begins with '<b>#</b> <b>Timestamp</b>' followed by the
       timestamp  (in  the  requested timezone, see <b>-z</b> and <b>-Z</b> above) of the sample data from the host or archive
       source.  Following the timestamp is the currently active  filter  string  for  the  metrics  source.   In
       archive  mode,  the  active filter can be changed dynamically, even whilst the archive is being recorded.
       This is different to <b><a href="../man8/ss.8.html">ss</a></b>(8) where the filter is optionally specified on the command line of the  tool  and
       is  always  'live', i.e.  <b><a href="../man8/ss.8.html">ss</a></b>(8) does not support retrospective replay.  With <b>pcp-ss</b>, the filter is stored
       in the back-end PMDA, see <b><a href="../man1/pmdasockets.1.html">pmdasockets</a></b>(1), in the metric <b>network.persocket.filter.</b>  The default filter  is
       <b>state</b>  <b>connected</b>,  which  can  be  changed  by storing a new string value in the <b>network.persocket.filter</b>
       metric using <b><a href="../man1/pmstore.1.html">pmstore</a></b>(1), e.g.  <b>pmstore</b> <b>network.persocket.filter</b> <b>"state</b> <b>established"</b>.  This will  override
       the  persistent  default  filter,  which  is stored in a PMDA configuration file and loaded each time the
       sockets PMDA is started.  See <b><a href="../man1/pmdasockets.1.html">pmdasockets</a></b>(1) for further details and see <b><a href="../man8/ss.8.html">ss</a></b>(8) for details of the  filter
       syntax and examples.

</pre><h4><b>PCP</b> <b>ENVIRONMENT</b></h4><pre>
       Environment  variables with the prefix <b>PCP_</b> are used to parameterize the file and directory names used by
       PCP.  On each installation, the file <u>/etc/pcp.conf</u> contains the local values for  these  variables.   The
       <b>$PCP_CONF</b> variable may be used to specify an alternative configuration file, as described in <b><a href="../man5/pcp.conf.5.html">pcp.conf</a></b>(5).

       For environment variables affecting PCP tools, see <b><a href="../man3/pmGetOptions.3.html">pmGetOptions</a></b>(3).

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man1/PCPIntro.1.html">PCPIntro</a></b>(1), <b><a href="../man1/pcp.1.html">pcp</a></b>(1), <b><a href="../man1/pmdasockets.1.html">pmdasockets</a></b>(1), <b><a href="../man1/pmlogger.1.html">pmlogger</a></b>(1), <b><a href="../man5/pcp.conf.5.html">pcp.conf</a></b>(5) and <b><a href="../man8/ss.8.html">ss</a></b>(8).

Performance Co-Pilot                                   PCP                                             <u><a href="../man1/PCP-SS.1.html">PCP-SS</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>