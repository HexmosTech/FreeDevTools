<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>connect-tunnel - Create CONNECT tunnels through HTTP proxies</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/libnet-proxy-perl">libnet-proxy-perl_0.13-2_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       connect-tunnel - Create CONNECT tunnels through HTTP proxies

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>connect-tunnel</b> [ <b>-Lv</b> ] [ <b>-A</b> <u>user:pass</u> ] [ <b>-P</b> <u>proxy:port</u> ]
                      [ <b>-C</b> <u>controlport</u> ] [ <b>-T</b> <u>port:host:hostport</u> ]

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>connect-tunnel</b> sets up tunneled connections to external hosts by redirecting connections to local ports
       towards thoses hosts/ports through a HTTP proxy.

       <b>connect-tunnel</b> makes use of the HTTP "CONNECT" method to ask the proxy to create a tunnel to an outside
       server. Be aware that some proxies are set up to deny outside tunnels (either to ports other than 443 or
       outside a specified set of outside hosts).

</pre><h4><b>OPTIONS</b></h4><pre>
       The program follows the usual GNU command line syntax, with long options starting with two dashes.

       <b>-A</b>, <b>--proxy-authentication</b> <u>user:password</u>
           Proxy authentication information.

           Please  note  that all the authentication schemes supported by "LWP::UserAgent" are supported (we use
           an "LWP::UserAgent" internally to contact the proxy).

       <b>-C</b>, <b>--control-port</b> <u>controlport</u>
           The port to which one can connect to issue control commands to <b>connect-tunnel</b>.

           See "CONTROL CONNECTIONS" for more details about the available commands.

       <b>-L</b>, <b>--local-only</b>
           Create the tunnels so that they will only listen on "localhost".  Thus, only connections  originating
           from the machine that runs <b>connect-tunnel</b> will be accepted.

           That was the default behaviour in <b>connect-tunnel</b> version 0.02.

       <b>-P</b>, <b>--proxy</b> <u>proxy</u>[<u>:port</u>]
           The proxy is required to connect the tunnels.  If no port is given, 8080 is used by default.

           See also "ENVIRONMENT VARIABLES".

       <b>-T</b>, <b>--tunnel</b> <u>port:host:hostport</u>
           Specifies  that the given <u>port</u> on the local host is to be forwarded to the given <u>host</u> and <u>hostport</u> on
           the remote side. This works by allocating a socket to listen to <u>port</u> on the local side, and  whenever
           a  connection is made to this <u>port</u>, <b>connect-tunnel</b> forwards it to the proxy (with the credentials, if
           required), which in turn forwards it to the final destination.

           Note that this does not imply the use of any cryptographic system (SSL  or  any  other).  This  is  a
           simple  TCP  redirection. The security if any, is the one provided by the protocol used to connect to
           the destination through <b>connect-tunnel</b>.

           On Unix systems, only root can forward privileged ports.

           Note that you can setup tunnels to multiple destinations, by using the <b>--tunnel</b> option several times.

       <b>-U</b>, <b>--user-agent</b> <u>string</u>
           Specify User-Agent value to send in HTTP requests.  The default is to send "connect-tunnel/<u>version</u>".

       <b>-v</b>, <b>--verbose</b>
           Verbose output.

           This option can be used several times for more verbose output.

</pre><h4><b>EXAMPLES</b></h4><pre>
       To  connect  to  a  SSH  server  running  on  "ssh.example.com",  on  port   443,   through   the   proxy
       "proxy.company.com", running on port 8080, use the following command:

           connect-tunnel -P proxy.company.com:8080 -T 22:ssh.example.com:443

       And now point your favorite ssh client to the machine running <b>connect-tunnel</b>.

       You can also emulate a "standard" user-agent:

           connect-tunnel -U "Mozilla/4.03 [en] (X11; I; Linux 2.1.89 i586)"
                          -P proxy.company.com:8080 -T 22:ssh.example.com:443

       <b>connect-tunnel</b> can easily use your proxy credentials to connect outside:

           connect-tunnel -U "Mozilla/4.03 [en] (X11; I; Linux 2.1.89 i586)"
                          -P proxy.company.com:8080 -T 22:ssh.example.com:443
                          -A book:s3kr3t

       But  if  you  don't  want  anybody  else  to  connect  to  your  tunnels  and through the proxy with <u>your</u>
       credentials, use the <b>--local-only</b> option:

        connect-tunnel -U "Mozilla/4.03 [en] (X11; I; Linux 2.1.89 i586)"
                       -P proxy.company.com:8080 -T 22:ssh.example.com:443
                       -A book:s3kr3t -L

       If you have several destinations, there is no need to run several instances of <b>connect-tunnel</b>:

        connect-tunnel -U "Mozilla/4.03 [en] (X11; I; Linux 2.1.89 i586)"
                       -P proxy.company.com:8080 -A book:s3kr3t -L
                       -T 22:ssh.example.com:443
                       -T 222:ssh2.example.com:443

       But naturally, you will need to correctly set up the ports in your clients.

       Mmm, such a long command line would perfectly fit in an alias or a <u>.BAT</u> file. ";-)"

</pre><h4><b>ENVIRONMENT</b> <b>VARIABLES</b></h4><pre>
       The environment variable "HTTP_PROXY" can be used to provide a proxy definition.

       The environment variable is overriden by the <b>--proxy</b> option, if passed to <b>connect-tunnel</b>.

</pre><h4><b>AUTHOR</b></h4><pre>
       Philippe "BooK" Bruhat, "&lt;<a href="mailto:book@cpan.org">book@cpan.org</a>&gt;".

       I seem to have re-invented a well-known wheel with that script, but at least, I hope I have added  a  few
       interesting options to it.

</pre><h4><b>SCRIPT</b> <b>HISTORY</b></h4><pre>
       The first version of the script was a quick hack that let me go through a corporate proxy.

       Version 0.02 and version 0.03 were released on CPAN in 2003.

       Version 0.04 sits half-finished in a CVS repository at home: I couldn't decypher the spaghetti of my data
       structures any more. ":-("

       Version 0.05 (and higher) are based on "Net::Proxy", and included with the "Net::Proxy" distribution.

       Even though it's not rocket science, <b>connect-tunnel</b> has been cited in at least one academic works:

       â€¢   <u>HTTP</u> <u>Tunnels</u> <u>Through</u> <u>Proxies</u>, Daniel Alman

           Available at SANS InfoSec Reading Room: Covert Channels &lt;<a href="http://www.sans.org/rr/whitepapers/covert/">http://www.sans.org/rr/whitepapers/covert/</a>&gt;

           Direct link: &lt;<a href="http://www.sans.org/rr/whitepapers/covert/1202.php">http://www.sans.org/rr/whitepapers/covert/1202.php</a>&gt;

</pre><h4><b>COPYRIGHT</b></h4><pre>
       Copyright 2003-2007, Philippe Bruhat. All rights reserved.

</pre><h4><b>LICENSE</b></h4><pre>
       This module is free software; you can redistribute it or modify it under the same terms as Perl itself.

perl v5.38.2                                       2024-05-15                                 <u><a href="../man1p/CONNECT-TUNNEL.1p.html">CONNECT-TUNNEL</a></u>(1p)
</pre>
 </div>
</div></section>
</div>
</body>
</html>