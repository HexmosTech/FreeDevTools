<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>dh_ocaml - calculates OCaml packages dependencies and provides</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/dh-ocaml">dh-ocaml_2.4_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       dh_ocaml - calculates OCaml packages dependencies and provides

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>dh_ocaml</b> [<u>debhelper</u> <u>options</u>]
                   [<b>--runtime-map</b>=<u>dev:runtime,...</u>]
                   [<b>--nodefined-map</b>=<u>dev:ignore1,ignore2</u>]
                   [<b>--checksum</b>=<u>str</u>]

</pre><h4><b>DESCRIPTION</b></h4><pre>
       dh_ocaml is a debhelper program that is responsible for filling the ${ocaml:Provides} and
       ${ocaml:Depends} substitutions and adding them to substvars files.

       dh_ocaml acts on three kinds of binary packages: those shipping development part of OCaml libraries
       (usually named libXXX-ocaml-dev or libXXXX-camlp4-dev), those shipping runtime for OCaml libraries (e.g.
       plugin and shared library, usually named libXXX-ocaml or libXXXX-camlp4) and those shipping OCaml
       bytecode non-custom executables (i.e.  executables interpreted by /usr/bin/ocamlrun).

       On specific packages the convention is XXX for development and XXX-base for runtime (e.g. ocaml and
       ocaml-base).

       On OCaml library packages dh_ocaml will firstly look at OCaml objects shipped by the package. Then,
       dh_ocaml uses appropriate program on them for collecting information about OCaml modules defined and used
       by them. Information about defined units will be used to automatically create the OCaml md5sums registry
       entry for development and runtime package, e.g.  /var/lib/ocaml/md5sums/libXXX-ocaml-dev.md5sums.
       Information about imported units will instead be used as keys in the OCaml md5sums registry for
       retrieving dependency information for the package. Those information will then be used to fill the
       ${ocaml:Depends} substvars. They will also be used to fill the ${ocaml:Provides} substvar which will be
       replaced by a name of the form libXXX-ocaml-dev-NNNN, where NNNN is an checksum computed from the
       interfaces of the modules provided by the library.

       Object files (*.cm[ioax], *.cmx[as]) and executables are processed by <b><a href="../man1/ocamlobjinfo.1.html">ocamlobjinfo</a></b>(1), if possible.

       Dependencies extracted from the system md5sum registry, dh_ocaml will add in ${ocaml:Depends}:

       1.  dependency from libXXX-ocaml-dev to libXXX-ocaml (runtime part of the library), if there is a libXXX-
           ocaml package in debian/control;

       2.  dependency from libXXX-ocaml-dev to the appropriate libYYYY-ocaml-dev-NNNN packages;

       3.  dependency from libXXX-ocaml to the appropriate libYYYY-ocaml-NNNN packages.

       4.  dependency from XXXX to the appropriate libYYYY-ocaml-NNNN packages.

       For  runtime  package  ${ocaml:Provides}  will  be  set libXXXX-ocaml-NNNN and for development package to
       libXXX-ocaml-dev-NNNN.

       The same kind of relations are established between libXXXX-camlp4 and libXXXX-camlp4-dev packages.

</pre><h4><b>OPTIONS</b></h4><pre>
       <b>--checksum</b> str
           Checksum are automatically computed from exported interface by the dev/runtime package. This checksum
           can only show a partial information about the interface.  In this case the checksum  computation  can
           be replaced by another string which gives more information about dependencies.

           Typically, ocaml/ocaml-base package doesn't use a computed checksum but the version of OCaml.

       <b>--nodefined-map</b> <u>dev1:unit1,unit2,...</u>
           Ignore some exported unit of package/runtime dev1. This option should be used with care. It is a very
           special  case,  when  one library ship a drop-in replacement for another library. Most of the time if
           one library ship the same unit it should be considered as an error.

           This option can be repeated as much as needed to define ignore for all development packages.

       <b>--runtime-map</b> <u>dev1:runtime1:checksum1,dev2:runtime2:checksum2,...</u>
           The association between development part of libraries and  their  runtimes  is  guessed  by  dh_ocaml
           according  to  the OCaml packaging policy. Thus, libXXX-ocaml-dev is the name of the package shipping
           the development part of XXX library while libXXX-ocaml, if any, is the name of the  package  shipping
           the corresponding runtime. libXXXX-camlp4-dev and libXXXX-camlp4 packages are handled the same way.

           Using  --runtime-map you could override the pairs development package name, runtime package name. The
           value passed to --runtime-map admits no spaces and must be a comma separated list of items. Each item
           can be a single package name (stating that that  name  corresponds  to  the  development  part  of  a
           library),  two  package  names  separated  by  a  colon  (stating  that  the first corresponds to the
           development part of a library, while the second to its accompanying  runtime  part)  or  two  package
           names  separated  by  a colon, followed by a colon and a checksum (which will be used as checksum for
           the package pair).

           Every package that doesn't follow libXXX-ocaml-dev/libXXX-ocaml, libXXXX-camlp4-dev/libXXXX-camlp4 or
           which is not defined in the runtime map are considered to be binary package and will be searched only
           for bytecode.

</pre><h4><b>FILES</b></h4><pre>
       <u>debian/libXXX-ocaml-dev.olist</u> <u>debian/libXXX-camlp4-dev.olist</u>
           By default, the list of OCaml objects or bytecode binaries shipped by your package  which  should  be
           analyzed for retrieving dependency information is guessed by dh_ocaml.

           This  file  permits  one  to specify a file which lists, one per line, that OCaml objects or bytecode
           binaries. Objects should be in one  of  the  format  understandable  by  <b><a href="../man1/ocamlobjinfo.1.html">ocamlobjinfo</a></b>(1).  Files  are
           considered relative to the package build directory.

</pre><h4><b>CONFORMS</b> <b>TO</b></h4><pre>
       Debian policy, version 3.7.2

       OCaml packaging policy, version 1.0.0

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man1/ocamlobjinfo.1.html">ocamlobjinfo</a></b>(1), <b><a href="../man7/debhelper.7.html">debhelper</a></b>(7), <b><a href="../man1/ocaml-md5sums.1.html">ocaml-md5sums</a></b>(1)

       This program is a part of debhelper.

</pre><h4><b>AUTHORS</b></h4><pre>
       Stefano    Zacchiroli    &lt;<a href="mailto:zack@debian.org">zack@debian.org</a>&gt;,    Samuel    Mimram    &lt;<a href="mailto:smimram@debian.org">smimram@debian.org</a>&gt;,   Mehdi   Dogguy
       &lt;<a href="mailto:mehdi@debian.org">mehdi@debian.org</a>&gt;, Sylvain Le Gall &lt;<a href="mailto:gildor@debian.org">gildor@debian.org</a>&gt;, St√©phane Glondu &lt;<a href="mailto:glondu@debian.org">glondu@debian.org</a>&gt;

perl v5.38.2                                       2024-09-26                                        <u><a href="../man1/DH_OCAML.1.html">DH_OCAML</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>