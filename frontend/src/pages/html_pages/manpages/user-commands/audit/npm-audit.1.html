<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>npm-audit</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/npm">npm_9.2.0~ds1-3_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       <b>npm-audit</b>

</pre><h4><b>Synopsis</b></h4><pre>
       &lt;!-- AUTOGENERATED USAGE DESCRIPTIONS --&gt;

</pre><h4><b>Description</b></h4><pre>
       The audit command submits a description of the dependencies configured in
       your project to your default registry and asks for a report of known
       vulnerabilities.  If any vulnerabilities are found, then the impact and
       appropriate remediation will be calculated.  If the <b>fix</b> argument is
       provided, then remediations will be applied to the package tree.

       The command will exit with a 0 exit code if no vulnerabilities were found.

       Note that some vulnerabilities cannot be fixed automatically and will
       require  manual  intervention  or  review.   Also  note  that since <b>npm</b> <b>audit</b> <b>fix</b> runs a full-fledged <b>npm</b>
       <b>install</b> under the hood, all configs that
       apply to the installer will also apply to <b>npm</b> <b>install</b> -- so things like
       <b>npm</b> <b>audit</b> <b>fix</b> <b>--package-lock-only</b> will work as expected.

       By default, the audit command will exit with a non-zero code if any
       vulnerability is found. It may be useful in CI environments to include the
       <b>--audit-level</b> parameter to specify the minimum vulnerability level that
       will cause the command to fail. This option does not filter the report
       output, it simply changes the command's failure threshold.

</pre><h4><b>Audit</b> <b>Signatures</b></h4><pre>
       To ensure the integrity of packages you download from the public  npm  registry,  or  any  registry  that
       supports signatures, you can verify the registry signatures of downloaded packages using the npm CLI.

       Registry signatures can be verified using the following <b>audit</b> command:
         $ npm audit signatures

       The  npm  CLI  supports  registry  signatures  and signing keys provided by any registry if the following
       conventions are followed:

        • Signatures are provided in the package's <b>packument</b> in each published version within the <b>dist</b> object:

         "dist":{
           "..omitted..": "..omitted..",
           "signatures": [{
             "keyid": "SHA256:{{SHA256_PUBLIC_KEY}}",
             "sig": "a312b9c3cb4a1b693e8ebac5ee1ca9cc01f2661c14391917dcb111517f72370809..."
           }]
         }

       See this example of a signed package from the public npm registry.

       The        <b>sig</b>         is         generated         using         the         following         template:
       <b>${package.name}@${package.version}:${package.dist.integrity}</b> and the <b>keyid</b> has to match one of the public
       signing keys below.

        • Public signing keys are provided at <b>registry-host.tld/-/npm/v1/keys</b> in the following format:

         {
           "keys": [{
             "expires": null,
             "keyid": "SHA256:{{SHA256_PUBLIC_KEY}}",
             "keytype": "ecdsa-sha2-nistp256",
             "scheme": "ecdsa-sha2-nistp256",
             "key": "{{B64_PUBLIC_KEY}}"
           }]
         }

       Keys response:

        • <b>expires</b>:    null   or   a   simplified   extended   &lt;a   href="https://en.wikipedia.org/wiki/ISO_8601"
          target="_blank"&gt;ISO 8601 format&lt;/a&gt;: <b>YYYY-MM-DDTHH:mm:ss.sssZ</b>

        • <b>keydid</b>: sha256 fingerprint of the public key

        • <b>keytype</b>: only <b>ecdsa-sha2-nistp256</b> is currently supported by the npm CLI

        • <b>scheme</b>: only <b>ecdsa-sha2-nistp256</b> is currently supported by the npm CLI

        • <b>key</b>: base64 encoded public key

       See this &lt;a href="https://registry.npmjs.org/-/npm/v1/keys" target="_blank"&gt;example key's  response  from
       the public npm registry&lt;/a&gt;.

</pre><h4><b>Audit</b> <b>Endpoints</b></h4><pre>
       There are two audit endpoints that npm may use to fetch vulnerability
       information: the <b>Bulk</b> <b>Advisory</b> endpoint and the <b>Quick</b> <b>Audit</b> endpoint.

   <b>Bulk</b> <b>Advisory</b> <b>Endpoint</b>
       As of version 7, npm uses the much faster <b>Bulk</b> <b>Advisory</b> endpoint to
       optimize the speed of calculating audit results.

       npm will generate a JSON payload with the name and list of versions of each
       package in the tree, and POST it to the default configured registry at
       the path <b>/-/npm/v1/security/advisories/bulk</b>.

       Any packages in the tree that do not have a <b>version</b> field in their
       package.json file will be ignored.  If any <b>--omit</b> options are specified
       (either via the <b>--omit</b> config, or one of the
       shorthands such as <b>--production</b>, <b>--only=dev</b>, and so on), then packages will
       be omitted from the submitted payload as appropriate.

       If the registry responds with an error, or with an invalid response, then
       npm will attempt to load advisory data from the <b>Quick</b> <b>Audit</b> endpoint.

       The expected result will contain a set of advisory objects for each
       dependency that matches the advisory range.  Each advisory object contains
       a <b>name</b>, <b>url</b>, <b>id</b>, <b>severity</b>, <b>vulnerable_versions</b>, and <b>title</b>.

       npm then uses these advisory objects to calculate vulnerabilities and
       meta-vulnerabilities of the dependencies within the tree.

   <b>Quick</b> <b>Audit</b> <b>Endpoint</b>
       If the <b>Bulk</b> <b>Advisory</b> endpoint returns an error, or invalid data, npm will
       attempt to load advisory data from the <b>Quick</b> <b>Audit</b> endpoint, which is
       considerably slower in most cases.

       The full package tree as found in <b>package-lock.json</b> is submitted, along
       with the following pieces of additional metadata:

        • <b>npm_version</b>

        • <b>node_version</b>

        • <b>platform</b>

        • <b>arch</b>

        • <b>node_env</b>

       All packages in the tree are submitted to the Quick Audit endpoint.
       Omitted dependency types are skipped when generating the report.

   <b>Scrubbing</b>
       Out of an abundance of caution, npm versions 5 and 6 would "scrub" any
       packages from the submitted report if their name contained a <b>/</b> character,
       so as to avoid leaking the names of potentially private packages or git
       URLs.

       However, in practice, this resulted in audits often failing to properly
       detect meta-vulnerabilities, because the tree would appear to be invalid
       due to missing dependencies, and prevented the detection of vulnerabilities
       in package trees that used git dependencies or private modules.

       This scrubbing has been removed from npm as of version 7.

   <b>Calculating</b> <b>Meta-Vulnerabilities</b> <b>and</b> <b>Remediations</b>
       npm uses the
       <b>@npmcli/metavuln-calculator</b>
       module to turn a set of security advisories into a set of "vulnerability"
       objects.  A "meta-vulnerability" is a dependency that is vulnerable by
       virtue of dependence on vulnerable versions of a vulnerable package.

       For example, if the package <b>foo</b> is vulnerable in the range <b>&gt;=1.0.2</b> <b>&lt;2.0.0</b>, and the package <b>bar</b> depends on
       <b>foo@^1.1.0</b>, then that version
       of <b>bar</b> can only be installed by installing a vulnerable version of <b>foo</b>.
       In this case, <b>bar</b> is a "metavulnerability".

       Once metavulnerabilities for a given package are calculated, they are
       cached in the <b><a href="file:~/.npm">~/.npm</a></b> folder and only re-evaluated if the advisory range
       changes, or a new version of the package is published (in which case, the
       new version is checked for metavulnerable status as well).

       If the chain of metavulnerabilities extends all the way to the root
       project, and it cannot be updated without changing its dependency ranges,
       then <b>npm</b> <b>audit</b> <b>fix</b> will require the <b>--force</b> option to apply the
       remediation.  If remediations do not require changes to the dependency
       ranges, then all vulnerable packages will be updated to a version that does
       not have an advisory or metavulnerability posted against it.

</pre><h4><b>Exit</b> <b>Code</b></h4><pre>
       The <b>npm</b> <b>audit</b> command will exit with a 0 exit code if no vulnerabilities
       were found.  The <b>npm</b> <b>audit</b> <b>fix</b> command will exit with 0 exit code if no
       vulnerabilities are found <u>or</u> if the remediation is able to successfully
       fix all vulnerabilities.

       If vulnerabilities were found the exit code will depend on the
       <b>audit-level</b> config.

</pre><h4><b>Examples</b></h4><pre>
       Scan your project for vulnerabilities and automatically install any compatible
       updates to vulnerable dependencies:
         $ npm audit fix

       Run <b>audit</b> <b>fix</b> without modifying <b>node_modules</b>, but still updating the
       pkglock:
         $ npm audit fix --package-lock-only

       Skip updating <b>devDependencies</b>:
         $ npm audit fix --only=prod

       Have <b>audit</b> <b>fix</b> install SemVer-major updates to toplevel dependencies, not
       just SemVer-compatible ones:
         $ npm audit fix --force

       Do a dry run to get an idea of what <b>audit</b> <b>fix</b> will do, and <u>also</u> output
       install information in JSON format:
         $ npm audit fix --dry-run --json

       Scan your project for vulnerabilities and just show the details, without
       fixing anything:
         $ npm audit

       Get the detailed audit report in JSON format:
         $ npm audit --json

       Fail an audit only if the results include a vulnerability with a level of moderate or higher:
         $ npm audit --audit-level=moderate

</pre><h4><b>Configuration</b></h4><pre>
       &lt;!-- AUTOGENERATED CONFIG DESCRIPTIONS --&gt;

</pre><h4><b>See</b> <b>Also</b></h4><pre>
        • npm install

        • config

9.2.0                                               May 2024                                        <u><a href="../man1/NPM-AUDIT.1.html">NPM-AUDIT</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>