<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ostree-commit - Commit a new revision</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/ostree">ostree_2025.1-1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       ostree-commit - Commit a new revision

</pre><h4><b>SYNOPSIS</b></h4><pre>

       <b>ostree</b> <b>commit</b> [OPTIONS...] --branch= {BRANCH} [PATH]

</pre><h4><b>DESCRIPTION</b></h4><pre>
       This allows you to commit changes to a branch. The specification of the branch is required. The command
       will print the checksum of a successful commit.

</pre><h4><b>OPTIONS</b></h4><pre>
       <b>--subject</b>, <b>-s</b>="SUBJECT"
           One line subject. (optional)

       <b>--body</b>, <b>-m</b>="BODY"
           Full description. (optional)

       <b>--body-file</b>, <b>-F</b>="FILE"
           Full commit description from a file. (optional)

       <b>--editor</b>, <b>-e</b>
           Open a text editor for the commit description. It will use OSTREE_EDITOR, VISUAL, EDITOR, or vi, in
           descending order of preference. The commit will be aborted if the message is left empty.

       <b>--branch</b>, <b>-b</b>="BRANCH"
           Branch. Required, unless --orphan is given.

       <b>--parent</b>="COMMIT"
           Parent checksum or "none" to explicitly use no parent. If not specified, BRANCH is used as parent (no
           parent in case BRANCH does not exist).

       <b>--tree</b>="dir=PATH" or "tar=TARFILE" or "ref=COMMIT"
           Overlay the given argument as a tree. When committing an archive, the TARFILE can be specified as -
           to read the archive from standard input.

       <b>--base</b>="REV"
           Start from the content in a commit. This differs from --tree=ref=REV in that no commit modifiers are
           applied. This is usually what you want when creating a derived commit. This is also used for
           --selinux-policy-from-base.

       <b>--add-metadata-string</b>="KEY=VALUE"
           Add a key/value pair to metadata. Can be specified multiple times.

       <b>--add-metadata</b>="KEY=VALUE"
           Add a key/value pair to metadata, where the KEY is a string, and VALUE is g_variant_parse()
           formatted. Can be specified multiple times.

       <b>--keep-metadata</b>="KEY"
           Keep metadata KEY and its associated VALUE from parent. Can be specified multiple times.

       <b>--add-detached-metadata-string</b>="KEY=VALUE"
           Add a key/value pair to detached metadata.

       <b>--owner-uid</b>="UID"
           Set file ownership user id.

       <b>--owner-gid</b>="GID"
           Set file ownership group id.

       <b>--no-xattrs</b>
           Do not import extended attributes.

       <b>--selinux-labeling-epoch</b>0 | 1
           When SELinux labeling is enabled, epoch 1 ensures that /usr/etc is labeled as if it was /etc.

       <b>--bootable</b>
           Inject standard metadata for a bootable Linux filesystem tree.

       <b>--link-checkout-speedup</b>
           Optimize for commits of trees composed of hardlinks into the repository.

       <b>--tar-autocreate-parents</b>
           When loading tar archives, automatically create parent directories as needed.

       <b>--skip-if-unchanged</b>
           If the contents are unchanged from previous commit, do nothing.

       <b>--consume</b>
           When committing from a local directory (i.e. not an archive or --tree=ref), assume ownership of the
           content. This may simply involve deleting it, but if possible, the content may simply be rename()ed
           into the repository rather than creating a new copy.

       <b>--statoverride</b>="PATH"
           File containing list of modifications to make permissions (file mode in decimal, followed by space,
           followed by file path). The specified mode is ORed with the file's original mode unless preceded by
           "=".

       <b>--skip-list</b>="PATH"
           File containing list of file paths to skip (one path per line).

       <b>--table-output</b>
           Output more information in a KEY: VALUE format.

       <b>--generate-sizes</b>
           Generate size information along with commit metadata.

       <b>--gpg-sign</b>="KEY-ID"
           GPG Key ID with which to sign the commit (if have GPGME - GNU Privacy Guard Made Easy).

       <b>--gpg-homedir</b>="HOMEDIR"
           GPG home directory to use when looking for keyrings (if have GPGME - GNU Privacy Guard Made Easy).

       <b>--timestamp</b>="TIMESTAMP"
           Override the timestamp of the commit to TIMESTAMP.

       <b>--orphan</b>
           Create a commit without writing to a ref (branch)

       <b>--fsync</b>="POLICY"
           POLICY is a boolean which specifies whether fsync should be used or not. Default to true.

       <b>-s,</b> <b>--sign-type</b>
           Use particular signature engine. Currently available ed25519 and dummy signature types. The default
           is ed25519.

       <b>--sign-from-file</b>="PATH"
           This will read a key (corresponding to the provided --sign-type from the provided path. The key
           should be base64 encoded.

       <b>--sign</b>="KEY-ID"
           In new code, avoid using this because passing private keys via command line arguments are prone to
           leakage in logs and process listings.

           The KEY-ID is:

           <b>for</b> <b>ed25519:</b>
               base64-encoded secret key for commit signing.

           <b>for</b> <b>dummy:</b>
               ASCII-string used as secret key.

</pre><h4><b>EXAMPLE</b></h4><pre>
       <b>$</b> <b>ostree</b> <b>commit</b> <b>--branch=my-branch</b> <b>--subject="Initial</b> <b>commit"</b>

                   67e382b11d213a402a5313e61cbc69dfd5ab93cb07fbb8b71c2e84f79fa5d7dc

OSTree                                                                                          <u>OSTREE</u> <u><a href="../man1/COMMIT.1.html">COMMIT</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>