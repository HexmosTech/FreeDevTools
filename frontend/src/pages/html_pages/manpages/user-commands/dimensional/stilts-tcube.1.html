<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>stilts-tcube - Calculates N-dimensional histograms</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/stilts">stilts_3.5.1-2_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       stilts-tcube - Calculates N-dimensional histograms

</pre><h4><b>SYNOPSIS</b></h4><pre>

       <b>stilts</b> <b>tcube</b> [cols=<u>&lt;expr&gt;</u> <u>...</u> <u>...</u>] [ifmt=<u>&lt;in-format&gt;</u>] [istream=<u>true|false</u>] [in=<u>&lt;table&gt;</u>] [icmd=<u>&lt;cmds&gt;</u>]
                    [bounds=<u>[&lt;lo&gt;]:[&lt;hi&gt;]</u> <u>...</u>] [binsizes=<u>&lt;size&gt;</u> <u>...</u>] [nbins=<u>&lt;num&gt;</u> <u>...</u>] [combine=<u>sum|sum-per-</u>
                    <u>unit|count|count-per-unit|mean|median|Q1|Q3|min|max|stdev|stdev_pop|hit</u>] [out=<u>&lt;out-file&gt;</u>]
                    [otype=<u>byte|short|int|long|float|double</u>] [scale=<u>&lt;expr&gt;</u>]

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <u>tcube</u> constructs an N-dimensional histogram, or density map, from N columns of an input table, and writes
       it out as an N-dimensional data cube. The parameters you supply define which N numeric columns of the in‐
       put  table you want to use and the dimensions (bounds and pixel sizes) of the output grid, as well as any
       weighting to be applied to each point and how the weighted quantities in a single bin are to be aggregat‐
       ed together. Each table row then defines a point in N-dimensional space. The program  goes  through  each
       row, and if the point that row defines falls within the bounds of the output grid you have defined, asso‐
       ciates  the  weight value with the relevant pixel in the output grid. When all the input values have been
       processed, the weights in each pixel are aggregated according to the requested combination method.

       The resulting N-dimensional array, whose pixel values represent an aggregation  of  the  rows  associated
       with  that  region of the N-dimensional space, is then written out as a FITS file. In one dimension, this
       gives you a normal histogram of a given variable. In two dimensions it might typically be  used  to  plot
       the density or weighted density on the sky of objects from a catalogue.

       As  with  some of the other generic table commands, you can perform extensive pre-processing on the input
       table by use of the <u>icmd</u> parameter before the actual cube counts are calculated.

       See also <u>tgridmap</u>, which does a similar job to this command but writes the output in table format.

</pre><h4><b>OPTIONS</b></h4><pre>
       <b>cols=</b><u>&lt;expr&gt;</u> <u>...</u> <u>...</u>
              Columns to use for this task. One or more <u>&lt;expr&gt;</u> elements, separated by spaces, should  be  given.
              Each one represents a numeric value from the table, provided as a column name or algebraic expres‐
              sion.

              The number of columns listed in the value of this parameter defines the dimensionality of the out‐
              put data cube.

       <b>ifmt=</b><u>&lt;in-format&gt;</u>
              Specifies the format of the input table as specified by parameter <u>in</u>. The known formats are listed
              in  SUN/256. This flag can be used if you know what format your table is in. If it has the special
              value <u>(auto)</u> (the default), then an attempt will be made to detect the format of the  table  auto‐
              matically.  This cannot always be done correctly however, in which case the program will exit with
              an error explaining which formats were attempted. This parameter is ignored  for  scheme-specified
              tables.

       <b>istream=</b><u>true|false</u>
              If  set true, the input table specified by the <u>in</u> parameter will be read as a stream. It is neces‐
              sary to give the <u>ifmt</u> parameter in this case. Depending on the required operations and  processing
              mode,  this  may  cause  the  read  to fail (sometimes it is necessary to read the table more than
              once). It is not normally necessary to set this flag; in most cases the data will be streamed  au‐
              tomatically  if that is the best thing to do. However it can sometimes result in less resource us‐
              age when processing large files in certain formats (such as VOTable). This  parameter  is  ignored
              for scheme-specified tables.

       <b>in=</b><u>&lt;table&gt;</u>
              The location of the input table. This may take one of the following forms:

                * A filename.

                * A URL.

                * The special value "<u>-</u>", meaning standard input. In this case the input format must be given ex‐
                  plicitly using the <u>ifmt</u> parameter. Note that not all formats can be streamed in this way.

                * A scheme specification of the form <u>:&lt;scheme-name&gt;:&lt;scheme-args&gt;</u>.

                * A  system command line with either a "<u>&lt;</u>" character at the start, or a "<u>|</u>" character at the end
                  ("<u>&lt;syscmd</u>" or "<u>syscmd|</u>"). This executes the given pipeline and reads from its standard output.
                  This will probably only work on unix-like systems.
               In any case, compressed data in one of the supported compression formats (gzip, Unix compress  or
              bzip2) will be decompressed transparently.

       <b>icmd=</b><u>&lt;cmds&gt;</u>
              Specifies  processing  to be performed on the input table as specified by parameter <u>in</u>, before any
              other processing has taken place. The value of this parameter is one or more of  the  filter  com‐
              mands described in SUN/256. If more than one is given, they must be separated by semicolon charac‐
              ters  (";").  This parameter can be repeated multiple times on the same command line to build up a
              list of processing steps. The sequence of commands  given  in  this  way  defines  the  processing
              pipeline which is performed on the table.

              Commands  may  alternatively  be  supplied in an external file, by using the indirection character
              '<u>@</u>'. Thus a value of "<u>@filename</u>" causes the file <u>filename</u> to be read for a list of filter commands
              to execute. The commands in the file may be separated by newline characters and/or semicolons, and
              lines which are blank or which start with a '<u>#</u>' character are ignored. A backslash character '<u>\fR'</u>
              <u>at</u> <u>the</u> <u>end</u> <u>of</u> <u>a</u> <u>line</u> <u>joins</u> <u>it</u> <u>with</u> <u>the</u> <u>following</u> <u>line.</u>

       <b>bounds=</b><u>[&lt;lo&gt;]:[&lt;hi&gt;]</u> <u>...</u>
              Gives the bounds for each dimension of the cube in data coordinates. The form of the  value  is  a
              space-separated list of words, each giving an optional lower bound, then a colon, then an optional
              upper  bound,  for instance "1:100 0:20" to represent a range for two-dimensional output between 1
              and 100 of the first coordinate (table column) and between 0 and 20 for the second. Either or both
              numbers may be omitted to indicate that the bounds should be determined automatically by assessing
              the range of the data in the table. A null value for  the  parameter  indicates  that  all  bounds
              should be determined automatically for all the dimensions.

              If  any of the bounds need to be determined automatically in this way, two passes through the data
              will be required, the first to determine bounds and the second to populate the cube.

       <b>binsizes=</b><u>&lt;size&gt;</u> <u>...</u>
              Gives the extent of of the data bins (cube pixels) in each dimension in data coordinates. The form
              of the value is a space-separated list of values, giving a list of extents for the first,  second,
              ... dimension. Either this parameter or the <u>nbins</u> parameter must be supplied.

       <b>nbins=</b><u>&lt;num&gt;</u> <u>...</u>
              Gives  the  number of bins (cube pixels) in each dimension. The form of the value is a space-sepa‐
              rated list of integers, giving the number of pixels for the output cube in the first, second,  ...
              dimension. Either this parameter or the <u>binsizes</u> parameter must be supplied.

       <b>combine=</b><u>sum|sum-per-unit|count|count-per-unit|mean|median|Q1|Q3|min|max|stdev|stdev_pop|hit</u>
              Defines  how  values contributing to the same density map bin are combined together to produce the
              value assigned to that bin. Possible values are:

                * <u>sum</u>: the sum of all the combined values per bin

                * <u>sum-per-unit</u>: the sum of all the combined values per unit of bin size

                * <u>count</u>: the number of non-blank values per bin (weight is ignored)

                * <u>count-per-unit</u>: the number of non-blank values per unit of bin size (weight is ignored)

                * <u>mean</u>: the mean of the combined values

                * <u>median</u>: the median

                * <u>Q1</u>: first quartile

                * <u>Q3</u>: third quartile

                * <u>min</u>: the minimum of all the combined values

                * <u>max</u>: the maximum of all the combined values

                * <u>stdev</u>: the sample standard deviation of the combined values

                * <u>stdev_pop</u>: the population standard deviation of the combined values

                * <u>hit</u>: 1 if any values present, NaN otherwise (weight is ignored)

                * <u>Q.nnn</u>: quantile nnn (e.g. Q.05 is the fifth percentile)

       <b>out=</b><u>&lt;out-file&gt;</u>
              The location of the output file. This is usually a filename to write to. If it  is  equal  to  the
              special value "-" the output will be written to standard output.

              The output cube is currently written as a single-HDU FITS file.

       <b>otype=</b><u>byte|short|int|long|float|double</u>
              The  type  of  numeric value which will fill the output array. If no selection is made, the output
              type will be determined automatically as the shortest type required to hold all the values in  the
              array.  Currently, integers are always signed (no BSCALE/BZERO), so for instance the largest value
              that can be recorded in 8 bits is 127.

       <b>scale=</b><u>&lt;expr&gt;</u>
              Optionally gives a weight for each entry contributing to histogram bins. The value of this expres‐
              sion is accumulated, in accordance with the <u>combine</u> parameter, into the bin defined by its coordi‐
              nates. If no expression is given, the value 1 is assumed.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man1/stilts.1.html">stilts</a></b>(1)

       If the package stilts-doc is installed, the full documentation <b>SUN/256</b> is available in HTML format:
       file:///usr/share/doc/stilts/sun256/index.html

</pre><h4><b>VERSION</b></h4><pre>
       STILTS version 3.5.1-debian

       This is the Debian version of Stilts, which lack the support of some file formats and network  protocols.
       For differences see
       file:///usr/share/doc/stilts/README.Debian

</pre><h4><b>AUTHOR</b></h4><pre>
       Mark Taylor (Bristol University)

                                                    Mar 2017                                     <u><a href="../man1/STILTS-TCUBE.1.html">STILTS-TCUBE</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>