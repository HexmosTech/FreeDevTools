<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>doas — execute commands as another user</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/opendoas">opendoas_6.8.2-1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       doas — execute commands as another user

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>doas</b> [<b>-Lns</b>] [<b>-C</b> <u>config</u>] [<b>-u</b> <u>user</u>] <u>command</u> [<u>args</u>]

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The  <b>doas</b>  utility  executes the given command as another user.  The <u>command</u> argument is mandatory unless
       <b>-C</b>, <b>-L</b>, or <b>-s</b> is specified.

       The user will be required to authenticate by entering their password, unless configured otherwise.

       By default, a new environment is created.  The variables HOME, LOGNAME, PATH, SHELL,  and  USER  and  the
       <u><a href="../man2/umask.2.html">umask</a></u>(2)  are  set  to  values appropriate for the target user.  DOAS_USER is set to the name of the user
       executing <b>doas</b>.  The variables DISPLAY and  TERM  are  inherited  from  the  current  environment.   This
       behavior may be modified by the config file.  The working directory is not changed.

       The options are as follows:

       <b>-C</b> <u>config</u>   Parse  and check the configuration file <u>config</u>, then exit.  If <u>command</u> is supplied, <b>doas</b> will
                   also perform command matching.  In the latter case either ‘permit’, ‘permit nopass’ or ‘deny’
                   will be printed on standard output, depending on command matching  results.   No  command  is
                   executed.

       <b>-L</b>          Clear  any  persisted  authentications  from previous invocations, then immediately exit.  No
                   command is executed.

       <b>-n</b>          Non interactive mode, fail if the matching rule doesn't have the <b>nopass</b> option.

       <b>-s</b>          Execute the shell from SHELL or <u><a href="file:/etc/passwd">/etc/passwd</a></u>.

       <b>-u</b> <u>user</u>     Execute the command as <u>user</u>.  The default is root.

</pre><h4><b>EXIT</b> <b>STATUS</b></h4><pre>
       The <b>doas</b> utility exits 0 on success, and &gt;0 if an error occurs.  It may fail for  one  of  the  following
       reasons:

       <b>•</b>   The config file <u>/etc/doas.conf</u> could not be parsed.
       <b>•</b>   The user attempted to run a command which is not permitted.
       <b>•</b>   The password was incorrect.
       <b>•</b>   The specified command was not found or is not executable.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <u><a href="../man1/su.1.html">su</a></u>(1), <u><a href="../man5/doas.conf.5.html">doas.conf</a></u>(5)

</pre><h4><b>HISTORY</b></h4><pre>
       The <b>doas</b> command first appeared in OpenBSD 5.8.

</pre><h4><b>AUTHORS</b></h4><pre>
       Ted Unangst &lt;<u><a href="mailto:tedu@openbsd.org">tedu@openbsd.org</a></u>&gt;

Debian                                          January 16, 2021                                         <u><a href="../man1/DOAS.1.html">DOAS</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>