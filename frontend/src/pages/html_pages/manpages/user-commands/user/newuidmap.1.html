<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>newuidmap - set the uid mapping of a user namespace</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/uidmap">uidmap_4.16.0-7ubuntu1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       newuidmap - set the uid mapping of a user namespace

</pre><h4><b>SYNOPSIS</b></h4><pre>

       <b>newuidmap</b> <u>pid</u> <u>uid</u> <u>loweruid</u> <u>count</u> [<u>uid</u> <u>loweruid</u> <u>count</u> [ <u>...</u> ]]

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The <b>newuidmap</b> sets <a href="file:/proc/">/proc/</a>[pid]/uid_map based on its command line arguments and the uids allowed. Subuid
       delegation can either be managed via <a href="file:/etc/subuid">/etc/subuid</a> or through the configured NSS subid module. These
       options are mutually exclusive.

       Note that the root user is not exempted from the requirement for a valid <a href="file:/etc/subuid">/etc/subuid</a> entry.

       After the pid argument, <b>newuidmap</b> expects sets of 3 integers:

       uid
           Beginning of the range of UIDs inside the user namespace.

       loweruid
           Beginning of the range of UIDs outside the user namespace.

       count
           Length of the ranges (both inside and outside the user namespace).

       <b>newuidmap</b> verifies that the caller is the owner of the process indicated by <b>pid</b> and that for each of the
       above sets, each of the UIDs in the range [loweruid, loweruid+count) is allowed to the caller according
       to <a href="file:/etc/subuid">/etc/subuid</a> before setting <a href="file:/proc/">/proc/</a>[pid]/uid_map.

       Note that newuidmap may be used only once for a given process.

       Instead of an integer process id, the first argument may be specified as <u>fd:N</u>, where the integer N is the
       file descriptor number for the calling process's opened file descriptor for the directory <a href="file:/proc/">/proc/</a>[pid]. In
       this case, <b>newuidmap</b> will use <a href="../man2/openat.2.html">openat</a>(2) to open the uid_map file under that directory, avoiding a TOCTTOU
       in case the process exits and the pid is immediately reused.

</pre><h4><b>OPTIONS</b></h4><pre>
       There currently are no options to the <b>newuidmap</b> command.

</pre><h4><b>FILES</b></h4><pre>
       <a href="file:/etc/subuid">/etc/subuid</a>
           List of user's subordinate user IDs.

       <a href="file:/proc/">/proc/</a>[pid]/uid_map
           Mapping of uids from one between user namespaces.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man5/login.defs.5.html">login.defs</a></b>(5), <b><a href="../man8/newusers.8.html">newusers</a></b>(8), <b><a href="../man5/subuid.5.html">subuid</a></b>(5), <b><a href="../man8/useradd.8.html">useradd</a></b>(8), <b><a href="../man8/usermod.8.html">usermod</a></b>(8), <b><a href="../man8/userdel.8.html">userdel</a></b>(8).

shadow-utils 4.16.0                                12/02/2024                                       <u><a href="../man1/NEWUIDMAP.1.html">NEWUIDMAP</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>