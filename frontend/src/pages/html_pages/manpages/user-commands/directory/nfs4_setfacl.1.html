<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>nfs4_setfacl, nfs4_editfacl - manipulate NFSv4 file/directory access control lists</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/nfs4-acl-tools">nfs4-acl-tools_0.4.2-1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       nfs4_setfacl, nfs4_editfacl - manipulate NFSv4 file/directory access control lists

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>nfs4_setfacl</b> [OPTIONS] COMMAND <u>file</u>...
       <b>nfs4_editfacl</b> [OPTIONS] <u>file</u>...

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>nfs4_setfacl</b>  manipulates  the  NFSv4  Access  Control  List (ACL) of one or more <u>files</u> (or directories),
       provided they are on a mounted NFSv4 filesystem which supports ACLs.

       <b>nfs4_editfacl</b> is equivalent to <b>nfs4_setfacl</b> <b>-e</b>.

       Refer to the <b><a href="../man5/nfs4_acl.5.html">nfs4_acl</a></b>(5) manpage for information about NFSv4 ACL terminology and syntax.

   <b>COMMANDS</b>
       <b>-a</b> <u>acl_spec</u>
              add the ACEs from <u>acl_spec</u> to <u>file</u>'s ACL.  ACEs are inserted starting at the default position 1 of
              <u>file</u>'s ACL.

       <b>-A</b> <u>acl_file</u>
              add the ACEs from the acl_spec in <u>acl_file</u> to <u>file</u>'s ACL.   ACEs  are  inserted  starting  at  the
              default position 1 of <u>file</u>'s ACL.

       <b>-x</b> <u>acl_spec</u>
              delete ACEs matched from <u>acl_spec</u> from <u>file</u>'s ACL.  Note that the ordering of the ACEs in <u>acl_spec</u>
              does not matter.

       <b>-X</b> <u>acl_file</u>
              delete  ACEs matched from the acl_spec in <u>acl_file</u> from <u>file</u>'s ACL.  Note that the ordering of the
              ACEs in the acl_spec does not matter.

       <b>-i</b> <u>index</u>
              ACEs are inserted or deleted starting at the <u>index</u>th position (DEFAULT: 1) of file's ACL.  It  can
              be used only with the add or delete action.

       <b>-s</b> <u>acl_spec</u>
              set <u>file</u>'s ACL to <u>acl_spec</u>.

       <b>-S</b> <u>acl_file</u>
              set <u>file</u>'s ACL to the acl_spec in <u>acl_file</u>.

       <b>-e</b>, <b>--edit</b>
              edit  <u>file</u>'s ACL in the editor defined in the EDITOR environment variable (DEFAULT: <b><a href="../man1/vi.1.html">vi</a></b>(1)) and set
              the resulting ACL upon a clean exit, assuming changes made in the editor were saved.  Note that if
              multiple <u>files</u> are specified, the editor will be serially invoked once per <u>file</u>.

       <b>-m</b> <u>from_ace</u> <u>to_ace</u>
              modify <u>file</u>'s ACL in-place by replacing <u>from_ace</u> with <u>to_ace</u>.

       <b>-?</b>, <b>-h</b>, <b>--help</b>
              display help text and exit.

       <b>--version</b>
              display this program's version and exit.

       NOTE: if '-' is given as the <u>acl_file</u> with the <b>-A</b>/<b>-X</b>/<b>-S</b> flags, the acl_spec will be read from stdin.

   <b>OPTIONS</b>
       <b>-R</b>, <b>--recursive</b>
              recursively apply to a directory's files and subdirectories.  Similar to <b><a href="../man1/setfacl.1.html">setfacl</a></b>(1),  the  default
              behavior  is  to  follow symlinks given on the command line and to skip symlinks encountered while
              recursing through directories.

       <b>-L</b>, <b>--logical</b>
              in conjunction with <b>-R</b>/<b>--recursive</b>, a logical walk follows all symbolic links.

       <b>-P</b>, <b>--physical</b>
              in conjunction with <b>-R</b>/<b>--recursive</b>, a physical walk skips all symbolic links.

       <b>--dacl</b>
              acts on the dacl only. This functionality is only available if the  server  supports  NFSv4  minor
              version 1 or newer.

       <b>--sacl</b>
              acts  on  the  sacl  only. This functionality is only available if the server supports NFSv4 minor
              version 1 or newer.

       <b>--test</b>
              display results of <b>COMMAND</b>, but do not save changes.

</pre><h4><b>PERMISSIONS</b> <b>ALIASES</b></h4><pre>
       With <b>nfs4_setfacl</b>, one can use simple abbreviations ("aliases") to express generic  "read"  (<b>R</b>),  generic
       "write"  (<b>W</b>),  and  generic  "execute"  (<b>X</b>) <u>permissions</u>, familiar from the POSIX mode bits used by, e.g.,
       <b><a href="../man1/chmod.1.html">chmod</a></b>(1).  To use these aliases, one can  put  them  in  the  <u>permissions</u>  field  of  an  NFSv4  ACE  and
       <b>nfs4_setfacl</b>  will  convert them: an <b>R</b> is expanded to <b>rntcy</b>, a <b>W</b> is expanded to <b>watTNcCy</b> (with <b>D</b> added to
       directory ACEs), and an <b>X</b> is expanded to <b>xtcy</b>.  Please refer to the <b><a href="../man5/nfs4_acl.5.html">nfs4_acl</a></b>(5) manpage  for  information
       on specific NFSv4 ACE <u>permissions</u>.

       For  example,  if  one wanted to grant generic "read" and "write" access on a file, the NFSv4 <u>permissions</u>
       field would normally contain something like <b>rwatTnNcCy</b>.  Instead, one might use aliases to accomplish the
       same goal with <b>RW</b>.

       The two <u>permissions</u> not included in any of the aliases are <b>d</b> (delete) and <b>o</b> (write-owner).  However, they
       can still be used: e.g., a <u>permissions</u> field consisting of <b>Wdo</b> expresses generic "write" access  as  well
       as the ability to delete and change ownership.

</pre><h4><b>EXAMPLES</b></h4><pre>
       Assume that the file `foo' has the following NFSv4 ACL for the following examples:

              A::OWNER@:rwatTnNcCy
              D::OWNER@:x
              A:g:GROUP@:rtncy
              D:g:GROUP@:waxTC
              A::EVERYONE@:rtncy
              D::EVERYONE@:waxTC

       - add  ACE granting `<a href="mailto:alice@nfsdomain.org">alice@nfsdomain.org</a>' generic "read" and "execute" access (defaults to prepending ACE
         to ACL):
              $ nfs4_setfacl -a A::<a href="mailto:alice@nfsdomain.org">alice@nfsdomain.org</a>:rxtncy foo

       - add the same ACE as above, but using aliases:
              $ nfs4_setfacl -a A::<a href="mailto:alice@nfsdomain.org">alice@nfsdomain.org</a>:RX foo

       - add the same ACE as above, at index 2:
              $ nfs4_setfacl -i 2 -a A::<a href="mailto:alice@nfsdomain.org">alice@nfsdomain.org</a>:RX foo

       - edit existing ACL in a text editor and set modified ACL on clean save/exit:
              $ nfs4_setfacl -e foo

       - set ACL (overwrites original) to contents of a <u>spec_file</u> named `newacl.txt':
              $ nfs4_setfacl -S newacl.txt foo

       - recursively set the ACLs of all files  and  subdirectories  in  the  current  directory,  skipping  all
         symlinks encountered, to the ACL contained in the <u>spec_file</u> named `newacl.txt':
              $ nfs4_setfacl -R -P -S newacl.txt *

       - delete the first ACE, but only print the resulting ACL (does not save changes):
              $ nfs4_setfacl --test -x 1 foo

       - delete the last two ACEs above:
              $ nfs4_setfacl -x A::EVERYONE@rtncy,D::EVERYONE@:waxTC foo

       - modify (in-place) the second ACE above:
              $ nfs4_setfacl -m D::OWNER@:x  D::OWNER@:xo foo

       - set ACLs of `bar' and `frobaz' to ACL of `foo':
              $ nfs4_getfacl foo | nfs4_setfacl -S - bar frobaz

</pre><h4><b>AUTHORS</b></h4><pre>
       <b>nfs4_setfacl</b>  was  written  by  people  at  CITI,  the  Center  for  Information  Technology  Integration
       (<u><a href="http://www.citi.umich.edu">http://www.citi.umich.edu</a></u>).  This manpage was written by David Richter.

</pre><h4><b>CONTACT</b></h4><pre>
       Please send bug reports, feature requests, and comments to &lt;<u><a href="mailto:linux-nfs@vger.kernel.org">linux-nfs@vger.kernel.org</a></u>&gt;.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man1/nfs4_getfacl.1.html">nfs4_getfacl</a></b>(1), <b><a href="../man5/nfs4_acl.5.html">nfs4_acl</a></b>(5), <u>RFC3530</u> (NFSv4.0), NFSv4.1 Minor Version Draft.

Linux                                      version 0.3.4, August 2018                            <u><a href="../man1/NFS4_SETFACL.1.html">NFS4_SETFACL</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>