<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>This  manual  page  is part of the POSIX Programmer's Manual.  The Linux implementation of this interface</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/manpages-posix">manpages-posix_2017a-2_all</a> <br><br><pre>
</pre><h4><b>PROLOG</b></h4><pre>
       This  manual  page  is part of the POSIX Programmer's Manual.  The Linux implementation of this interface
       may differ (consult the corresponding Linux manual page for details of Linux behavior), or the  interface
       may not be implemented on Linux.

</pre><h4><b>NAME</b></h4><pre>
       mv — move files

</pre><h4><b>SYNOPSIS</b></h4><pre>
       mv <b>[</b>-if<b>]</b> <u>source_file</u> <u>target_file</u>

       mv <b>[</b>-if<b>]</b> <u>source_file</u>... <u>target_dir</u>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       In  the  first  synopsis form, the <u>mv</u> utility shall move the file named by the <u>source_file</u> operand to the
       destination specified by the <u>target_file</u>.  This first synopsis form is assumed  when  the  final  operand
       does  not  name  an  existing directory and is not a symbolic link referring to an existing directory. In
       this case, if <u>source_file</u> names a non-directory  file  and  <u>target_file</u>  ends  with  a  trailing  &lt;slash&gt;
       character, <u>mv</u> shall treat this as an error and no <u>source_file</u> operands will be processed.

       In the second synopsis form, <u>mv</u> shall move each file named by a <u>source_file</u> operand to a destination file
       in the existing directory named by the <u>target_dir</u> operand, or referenced if <u>target_dir</u> is a symbolic link
       referring  to an existing directory. The destination path for each <u>source_file</u> shall be the concatenation
       of the target directory, a single &lt;slash&gt; character if the target did not end in a &lt;slash&gt;, and the  last
       pathname  component  of  the  <u>source_file</u>.   This  second form is assumed when the final operand names an
       existing directory.

       If any operand specifies an existing file of a type not specified by  the  System  Interfaces  volume  of
       POSIX.1‐2017, the behavior is implementation-defined.

       For each <u>source_file</u> the following steps shall be taken:

        1. If  the  destination  path  exists,  the  <b>-f</b>  option  is  not  specified, and either of the following
           conditions is true:

            a. The permissions of the destination path do not  permit  writing  and  the  standard  input  is  a
               terminal.

            b. The <b>-i</b> option is specified.

           the  <u>mv</u>  utility  shall  write a prompt to standard error and read a line from standard input. If the
           response is not affirmative, <u>mv</u> shall do nothing more with the current <u>source_file</u> and go on  to  any
           remaining <u>source_file</u>s.

        2. If  the  <u>source_file</u> operand and destination path resolve to either the same existing directory entry
           or different directory entries for the same existing file, then the destination  path  shall  not  be
           removed, and one of the following shall occur:

            a. No change is made to <u>source_file</u>, no error occurs, and no diagnostic is issued.

            b. No  change  is  made to <u>source_file</u>, a diagnostic is issued to standard error identifying the two
               names, and the exit status is affected.

            c. If the <u>source_file</u> operand and  destination  path  name  distinct  directory  entries,  then  the
               <u>source_file</u> operand is removed, no error occurs, and no diagnostic is issued.

           The  <u>mv</u>  utility  shall  do  nothing  more  with  the current <u>source_file</u>, and go on to any remaining
           <u>source_file</u>s.

        3. The <u>mv</u> utility shall perform actions equivalent to  the  <u>rename</u>()  function  defined  in  the  System
           Interfaces volume of POSIX.1‐2017, called with the following arguments:

            a. The <u>source_file</u> operand is used as the <u>old</u> argument.

            b. The destination path is used as the <u>new</u> argument.

           If  this  succeeds,  <u>mv</u> shall do nothing more with the current <u>source_file</u> and go on to any remaining
           <u>source_file</u>s.  If this fails for any reasons other than those described for the <u>errno</u> <b>[EXDEV]</b> in  the
           System  Interfaces  volume of POSIX.1‐2017, <u>mv</u> shall write a diagnostic message to standard error, do
           nothing more with the current <u>source_file</u>, and go on to any remaining <u>source_file</u>s.

        4. If the destination path exists, and it is a file of type directory and <u>source_file</u> is not a  file  of
           type directory, or it is a file not of type directory and <u>source_file</u> is a file of type directory, <u>mv</u>
           shall write a diagnostic message to standard error, do nothing more with the current <u>source_file</u>, and
           go  on  to  any remaining <u>source_file</u>s.  If the destination path exists and was created by a previous
           step, it is unspecified whether this will treated as  an  error  or  the  destination  path  will  be
           overwritten.

        5. If the destination path exists, <u>mv</u> shall attempt to remove it. If this fails for any reason, <u>mv</u> shall
           write a diagnostic message to standard error, do nothing more with the current <u>source_file</u>, and go on
           to any remaining <u>source_file</u>s.

        6. The  file  hierarchy  rooted  in  <u>source_file</u>  shall  be duplicated as a file hierarchy rooted in the
           destination path. If <u>source_file</u> or any of the files below it in the hierarchy  are  symbolic  links,
           the  links  themselves  shall be duplicated, including their contents, rather than any files to which
           they refer. The following characteristics of each file in the file hierarchy shall be duplicated:

            *  The time of last data modification and time of last access

            *  The user ID and group ID

            *  The file mode

           If the user ID, group ID, or file mode of a regular file cannot be duplicated,  the  file  mode  bits
           S_ISUID and S_ISGID shall not be duplicated.

           When  files  are  duplicated  to another file system, the implementation may require that the process
           invoking <u>mv</u> has read access to each file being duplicated.

           If files being duplicated to another file system have hard links to other files,  it  is  unspecified
           whether  the files copied to the new file system have the hard links preserved or separate copies are
           created for the linked files.

           If the duplication of the file hierarchy fails for any reason, <u>mv</u> shall write a diagnostic message to
           standard error,  do  nothing  more  with  the  current  <u>source_file</u>,  and  go  on  to  any  remaining
           <u>source_file</u>s.

           If  the  duplication  of  the  file characteristics fails for any reason, <u>mv</u> shall write a diagnostic
           message to standard error, but this failure shall not cause <u>mv</u> to modify its exit status.

        7. The file hierarchy rooted in <u>source_file</u> shall be removed. If this fails for  any  reason,  <u>mv</u>  shall
           write  a  diagnostic message to the standard error, do nothing more with the current <u>source_file</u>, and
           go on to any remaining <u>source_file</u>s.

</pre><h4><b>OPTIONS</b></h4><pre>
       The <u>mv</u> utility shall conform to the Base Definitions volume of POSIX.1‐2017, <u>Section</u> <u>12.2</u>, <u>Utility</u> <u>Syntax</u>
       <u>Guidelines</u>.

       The following options shall be supported:

       <b>-f</b>        Do not prompt for confirmation if the destination path exists. Any previous occurrence  of  the
                 <b>-i</b> option is ignored.

       <b>-i</b>        Prompt  for  confirmation  if  the  destination  path exists. Any previous occurrence of the <b>-f</b>
                 option is ignored.

       Specifying more than one of the <b>-f</b> or <b>-i</b> options shall not  be  considered  an  error.  The  last  option
       specified shall determine the behavior of <u>mv</u>.

</pre><h4><b>OPERANDS</b></h4><pre>
       The following operands shall be supported:

       <u>source_file</u>
                 A pathname of a file or directory to be moved.

       <u>target_file</u>
                 A new pathname for the file or directory being moved.

       <u>target_dir</u>
                 A pathname of an existing directory into which to move the input files.

</pre><h4><b>STDIN</b></h4><pre>
       The standard input shall be used to read an input line in response to each prompt specified in the STDERR
       section. Otherwise, the standard input shall not be used.

</pre><h4><b>INPUT</b> <b>FILES</b></h4><pre>
       The input files specified by each <u>source_file</u> operand can be of any file type.

</pre><h4><b>ENVIRONMENT</b> <b>VARIABLES</b></h4><pre>
       The following environment variables shall affect the execution of <u>mv</u>:

       <u>LANG</u>      Provide a default value for the internationalization variables that are unset or null. (See the
                 Base  Definitions  volume  of POSIX.1‐2017, <u>Section</u> <u>8.2</u>, <u>Internationalization</u> <u>Variables</u> for the
                 precedence  of  internationalization  variables  used  to  determine  the  values   of   locale
                 categories.)

       <u>LC_ALL</u>    If  set  to a non-empty string value, override the values of all the other internationalization
                 variables.

       <u>LC_COLLATE</u>
                 Determine the locale for the behavior  of  ranges,  equivalence  classes,  and  multi-character
                 collating  elements  used  in  the  extended  regular expression defined for the <b>yesexpr</b> locale
                 keyword in the <u>LC_MESSAGES</u> category.

       <u>LC_CTYPE</u>  Determine the locale for the interpretation of sequences of bytes of text  data  as  characters
                 (for  example,  single-byte  as opposed to multi-byte characters in arguments and input files),
                 the behavior of character classes used in the  extended  regular  expression  defined  for  the
                 <b>yesexpr</b> locale keyword in the <u>LC_MESSAGES</u> category.

       <u>LC_MESSAGES</u>
                 Determine  the  locale used to process affirmative responses, and the locale used to affect the
                 format and contents of diagnostic messages and prompts written to standard error.

       <u>NLSPATH</u>   Determine the location of message catalogs for the processing of <u>LC_MESSAGES</u>.

</pre><h4><b>ASYNCHRONOUS</b> <b>EVENTS</b></h4><pre>
       Default.

</pre><h4><b>STDOUT</b></h4><pre>
       Not used.

</pre><h4><b>STDERR</b></h4><pre>
       Prompts shall be written to the standard error under the conditions specified in the DESCRIPTION section.
       The prompts  shall  contain  the  destination  pathname,  but  their  format  is  otherwise  unspecified.
       Otherwise, the standard error shall be used only for diagnostic messages.

</pre><h4><b>OUTPUT</b> <b>FILES</b></h4><pre>
       The output files may be of any file type.

</pre><h4><b>EXTENDED</b> <b>DESCRIPTION</b></h4><pre>
       None.

</pre><h4><b>EXIT</b> <b>STATUS</b></h4><pre>
       The following exit values shall be returned:

        0    All input files were moved successfully.

       &gt;0    An error occurred.

</pre><h4><b>CONSEQUENCES</b> <b>OF</b> <b>ERRORS</b></h4><pre>
       If  the  copying or removal of <u>source_file</u> is prematurely terminated by a signal or error, <u>mv</u> may leave a
       partial copy of <u>source_file</u> at  the  source  or  destination.  The  <u>mv</u>  utility  shall  not  modify  both
       <u>source_file</u>  and  the  destination  path  simultaneously;  termination  at  any  point shall leave either
       <u>source_file</u> or the destination path complete.

       <u>The</u> <u>following</u> <u>sections</u> <u>are</u> <u>informative.</u>

</pre><h4><b>APPLICATION</b> <b>USAGE</b></h4><pre>
       Some implementations mark for update the last file status change timestamp of renamed files and  some  do
       not.  Applications  which  make  use of the last file status change timestamp may behave differently with
       respect to renamed files unless they are designed to allow for either behavior.

       The specification ensures that  <u>mv</u>  <b>a</b>  <b>a</b>  will  not  alter  the  contents  of  file  <b>a</b>,  and  allows  the
       implementation to issue an error that a file cannot be moved onto itself. Likewise, when <b>a</b> and <b>b</b> are hard
       links  to  the  same  file,  <u>mv</u>  <b>a</b>  <b>b</b>  will  not  alter  <b>b</b>, but if a diagnostic is not issued, then it is
       unspecified whether <b>a</b> is left untouched (as it would be by the <u>rename</u>() function) or  unlinked  (reducing
       the link count of <b>b</b>).

</pre><h4><b>EXAMPLES</b></h4><pre>
       If  the  current  directory contains only files <b>a</b> (of any type defined by the System Interfaces volume of
       POSIX.1‐2017), <b>b</b> (also of any type), and a directory <b>c</b>:

           mv a b c
           mv c d

       results with the original files <b>a</b> and <b>b</b> residing in the directory <b>d</b> in the current directory.

</pre><h4><b>RATIONALE</b></h4><pre>
       Early proposals diverged from the SVID and BSD historical practice in that they required  that  when  the
       destination  path exists, the <b>-f</b> option is not specified, and input is not a terminal, <u>mv</u> fails. This was
       done for compatibility with <u>cp</u>.  The current text returns to historical practice. It should be noted that
       this is consistent with the <u>rename</u>() function defined in the System Interfaces  volume  of  POSIX.1‐2017,
       which does not require write permission on the target.

       For  absolute  clarity,  paragraph  (1),  describing  the behavior of <u>mv</u> when prompting for confirmation,
       should be interpreted in the following manner:

           if (exists AND (NOT f_option) AND
               ((not_writable AND input_is_terminal) OR i_option))

       The <b>-i</b> option exists on BSD systems, giving applications and users a way to avoid accidentally  unlinking
       files  when moving others. When the standard input is not a terminal, the 4.3 BSD <u>mv</u> deletes all existing
       destination paths without prompting, even when <b>-i</b> is specified; this is inconsistent with the behavior of
       the 4.3 BSD <u>cp</u> utility, which always generates an error when the file  is  unwritable  and  the  standard
       input  is not a terminal. The standard developers decided that use of <b>-i</b> is a request for interaction, so
       when the destination path exists, the utility takes  instructions  from  whatever  responds  to  standard
       input.

       The  <u>rename</u>()  function is able to move directories within the same file system. Some historical versions
       of <u>mv</u> have been able to move directories, but not to a different file system.   The  standard  developers
       considered  that  this was an annoying inconsistency, so this volume of POSIX.1‐2017 requires directories
       to be able to be moved even across file systems. There is no <b>-R</b> option to confirm that moving a directory
       is actually intended, since such an  option  was  not  required  for  moving  directories  in  historical
       practice. Requiring the application to specify it sometimes, depending on the destination, seemed just as
       inconsistent.  The semantics of the <u>rename</u>() function were preserved as much as possible. For example, <u>mv</u>
       is not permitted to ``rename'' files to or  from  directories,  even  though  they  might  be  empty  and
       removable.

       Historic  implementations of <u>mv</u> did not exit with a non-zero exit status if they were unable to duplicate
       any file characteristics when moving a file across file systems, nor did they write a diagnostic  message
       for  the  user.  The  former  behavior  has been preserved to prevent scripts from breaking; a diagnostic
       message is now required, however, so that users are alerted that the file characteristics have changed.

       The exact format of the interactive prompts is unspecified. Only the general nature of  the  contents  of
       prompts  are  specified  because  implementations  may desire more descriptive prompts than those used on
       historical implementations. Therefore, an application not using the <b>-f</b> option  or  using  the  <b>-i</b>  option
       relies  on  the  system to provide the most suitable dialog directly with the user, based on the behavior
       specified.

       When <u>mv</u> is dealing with a single file system and <u>source_file</u> is a symbolic link, the link itself is moved
       as a consequence of the dependence on the  <u>rename</u>()  functionality,  per  the  DESCRIPTION.  Across  file
       systems, this has to be made explicit.

</pre><h4><b>FUTURE</b> <b>DIRECTIONS</b></h4><pre>
       None.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <u>cp</u>, <u>ln</u>

       The  Base  Definitions  volume  of  POSIX.1‐2017, <u>Chapter</u> <u>8</u>, <u>Environment</u> <u>Variables</u>, <u>Section</u> <u>12.2</u>, <u>Utility</u>
       <u>Syntax</u> <u>Guidelines</u>

       The System Interfaces volume of POSIX.1‐2017, <u>rename</u>()

</pre><h4><b>COPYRIGHT</b></h4><pre>
       Portions of this text are reprinted and reproduced in electronic form from IEEE Std 1003.1-2017, Standard
       for Information  Technology  --  Portable  Operating  System  Interface  (POSIX),  The  Open  Group  Base
       Specifications  Issue  7, 2018 Edition, Copyright (C) 2018 by the Institute of Electrical and Electronics
       Engineers, Inc and The Open Group.  In the event of any discrepancy between this version and the original
       IEEE and The Open Group Standard, the original IEEE and The Open Group Standard is the referee  document.
       The original Standard can be obtained online at <a href="http://www.opengroup.org/unix/online.html">http://www.opengroup.org/unix/online.html</a> .

       Any  typographical  or formatting errors that appear in this page are most likely to have been introduced
       during  the  conversion  of  the  source  files  to  man  page  format.  To  report  such   errors,   see
       https://www.kernel.org/doc/man-pages/reporting_bugs.html .

IEEE/The Open Group                                   2017                                            <u><a href="../man1POSIX/MV.1POSIX.html">MV</a></u>(1POSIX)
</pre>
 </div>
</div></section>
</div>
</body>
</html>