<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>inotify-hookable - blocking command-line interface to inotify</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/inotify-hookable">inotify-hookable_0.09-2_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       inotify-hookable - blocking command-line interface to inotify

</pre><h4><b>SYNOPSIS</b></h4><pre>
       Watch a directory, tell us when things change in it:

           inotify-hookable --watch-directories /tmp/watch-this

       Watch a git tree, some configs, and a repository of static assets, restart the webserver or compress
       those assets if anything changes:

           inotify-hookable \
               --watch-directories /etc/uwsgi \
               --watch-directories /git_tree/central \
               --watch-directories /etc/app-config \
               --watch-directories /git_tree/static_assets \
               --on-modify-path-command "^(/etc/uwsgi|/git_tree/central|/etc/app-config)=sudo /etc/init.d/uwsgi restart" \
               --on-modify-path-command "^/git_tree/static_assets=(cd /git_tree/static_assets &amp;&amp; compress_static_assets)"

       Or watch specific files:

           inotify-hookable \
               --watch-files /var/www/cgi-bin/mod_perl_handler \
               --on-modify-command "apachectl restart"

</pre><h4><b>DESCRIPTION</b></h4><pre>
       This simple command-line program is my replacement for the functionality offered by Plack's
       Filesys::Notify::Simple. I found that on very large git trees Plack would spend an inordinate amount
       watching the filesystem for changes.

       This program uses Linux::Inotify2, so the kernel will notify it <b>instantly</b> when something changes
       (actually it's so fast that we have to work around how fast it sends us events).

       The result is that you can run this e.g. in a screen session and have it watch your development
       environment, and your webserver will have begun restarting before your finger leaves the <u>save</u> button.

       vim and emacs temporary files are ignored by default (see "--ignore-paths".)  so you can edit your files
       without your server restarting unnecessarily.

       Currently the command-line interface for this is the only one that really makes sense, this module is
       entirely blocking (although it could probably run in another process via POE or something). Patches
       welcome.

</pre><h4><b>OPTIONS</b></h4><pre>
       Note that boolean options can be negated with "--no-OPTION", e.g. "--no-r" or "--no-recursive" to turn
       off the "--recursive" option which is on by default.

   <b>"-w"</b> <b>or</b> <b>"--watch-directories"</b>
       Specify this to watch a directory, you can give this however many times you like to watch lots of
       directories.

   <b>"-f"</b> <b>or</b> <b>"--watch-files"</b>
       Watch a file, specify multiple times for multiple files.  You can watch files and directories in the same
       command.

   <b>"-r"</b> <b>or</b> <b>"--recursive"</b>
       If you supply this any directory you give will be recursively watched. This is on by default.

   <b>"-c"</b> <b>or</b> <b>"--on-modify-command"</b>
       A command that will be run when something is modified.

   <b>"-C"</b> <b>or</b> <b>"--on-modify-path-command"</b>
       A key-value pair where the key is a regex that'll be matched against a modified path, and the value is a
       command that'll be run. See the "SYNOPSIS" for an example.

       Useful for e.g. restarting a webserver if you modify directory <u>A</u> but compressing some static assets if
       you modify directory <u>B</u>.

   <b>"-t"</b> <b>or</b> <b>"--buffer-time"</b>
       Linux will send you inotify events <b>really</b> fast, so fast that if you run something like:

           touch foo bar

       You might get an event for <u>foo</u> in one batch, followed by an event for <u>bar</u> later on.

       To deal with this we enter a loop when we start getting events and sleep for a default of 100
       microseconds, as long as we keep getting events we keep sleeping for 100 microseconds, but as soon as we
       haven't received anything new we fire off our event handlers.

   <b>"-i"</b> <b>or</b> <b>"--ignore-paths"</b>
       Regexes for files/directories to ignore events for. By default this is set to regexes for vim and emacs
       temporary files, "qr{\..*sw.\z}" and "qr{\.\#[^/]+\z}" respectively.

       The regexes match after any "/" in the path or the beginning of the string.

   <b>"-d"</b> <b>or</b> <b>"--debug"</b>
       Spew out some verbose debug output while running.

   <b>"-q"</b> <b>or</b> <b>"--[no-]quiet"</b>
       Don't log noisy information

</pre><h4><b>ACKNOWLEDGMENT</b></h4><pre>
       This module was originally developed at and for Booking.com. With approval from Booking.com, this module
       was generalized and put on CPAN, for which the authors would like to express their gratitude.

</pre><h4><b>AUTHOR</b></h4><pre>
       Ævar Arnfjörð Bjarmason &lt;<a href="mailto:avar@cpan.org">avar@cpan.org</a>&gt;

perl v5.32.1                                       2021-03-07                                       <u><a href="../man1p/HOOKABLE.1p.html">HOOKABLE</a></u>(1p)
</pre>
 </div>
</div></section>
</div>
</body>
</html>