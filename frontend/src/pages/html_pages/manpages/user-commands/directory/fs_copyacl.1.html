<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>fs_copyacl - Copies an ACL from a directory to one or more other directories</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/openafs-client">openafs-client_1.8.13.2-1ubuntu1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       fs_copyacl - Copies an ACL from a directory to one or more other directories

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>fs</b> <b>copyacl</b> <b>-fromdir</b> &lt;<u>source</u> <u>directory</u> <u>(or</u> <u>DFS</u> <u>file)</u>&gt;
           <b>-todir</b> &lt;<u>destination</u> <u>directory</u> <u>(or</u> <u>DFS</u> <u>file)</u>&gt;+
           [<b>-clear</b>] [<b>-id</b>] [<b>-if</b>] [-help]

       <b>fs</b> <b>co</b> <b>-f</b> &lt;<u>source</u> <u>directory</u> <u>(or</u> <u>DFS</u> <u>file)</u>&gt;
           <b>-t</b> &lt;<u>destination</u> <u>directory</u> <u>(or</u> <u>DFS</u> <u>file)</u>&gt;+
           [<b>-c</b>] [<b>-id</b>] [<b>-if</b>] [-h]

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The fs copyacl command copies the access control list (ACL) from a source directory to each specified
       destination directory. The source directory's ACL is unchanged, and changes to the destination
       directory's ACL obey the following rules:

       •   If an entry on the source ACL does not already exist on the destination ACL, it is added.

       •   If an entry exists on both the source and destination ACLs, the permissions from the source ACL entry
           replace the current permissions on the destination ACL entry.

       •   If an entry on the destination ACL has no corresponding entry on the source ACL, it is removed if the
           <b>-clear</b>  flag  is included and is unchanged otherwise. In other words, if the <b>-clear</b> flag is provided,
           the source ACL completely replaces the destination ACL.

       When using this command to copy ACLs between objects in DFS filespace accessed via the AFS/DFS  Migration
       Toolkit  Protocol  Translator, it is possible to specify files, as well as directories, with the <b>-fromdir</b>
       and <b>-todir</b> arguments.

</pre><h4><b>CAUTIONS</b></h4><pre>
       Do not copy ACLs between AFS and DFS files or directories. The ACL formats are incompatible.

</pre><h4><b>OPTIONS</b></h4><pre>
       <b>-fromdir</b> &lt;<u>source</u> <u>directory</u>&gt;
           Specifies the source directory from which to copy the  ACL.   (Specifying  an  AFS  file  copies  its
           directory's  ACL,  but  specifying  a DFS file copies its own ACL.) A partial pathname is interpreted
           relative to the current working directory.

       <b>-todir</b> &lt;<u>destination</u> <u>directory</u>&gt;
           Specifies each directory for which to alter the ACL to match the source ACL. (Specifying an AFS  file
           halts the command with an error, but specifying a DFS file alters the file's ACL). A partial pathname
           is interpreted relative to the current working directory.

           Specify  the  read/write path to each directory (or DFS file), to avoid the failure that results from
           attempting to change a read-only volume. By convention, the read/write path is indicated by placing a
           period before the cell name at the pathname's second level (for  example,  "/afs/.example.com").  For
           further discussion of the concept of read/write and read-only paths through the filespace, see the <b>fs</b>
           <b>mkmount</b> reference page.

       <b>-clear</b>
           Replaces the ACL of each destination directory with the source ACL.

       <b>-id</b> Modifies  the  Initial  Container ACL of each DFS directory named by the <b>-todir</b> argument, rather than
           the regular Object ACL. This argument is supported only when both the  source  and  each  destination
           directory reside in DFS and are accessed via the AFS/DFS Migration Toolkit Protocol Translator.

       <b>-if</b> Modifies  the  Initial Object ACL of each DFS directory named by the <b>-todir</b> argument, rather than the
           regular Object ACL. This argument is supported  only  when  both  the  source  and  each  destination
           directory reside in DFS and are accessed via the AFS/DFS Migration Toolkit Protocol Translator.

       <b>-help</b>
           Prints the online help for this command. All other valid options are ignored.

</pre><h4><b>EXAMPLES</b></h4><pre>
       The  following  example  command  copies  the  current working directory's ACL to its subdirectory called
       <u>reports</u>. Note that the source directory's ACL is unaffected. Entries on the <u>reports</u> directory's that  are
       not  on the source ACL of the current directory remain unaffected as well, because the <b>-clear</b> flag is not
       used.

          % fs listacl . reports
          Access list for . is
          Normal rights:
             pat rlidwka
             smith rlidwk
          Access list for reports is
          Normal rights:
             pat rl
             pat:friends rl
          Negative rights
             jones rlidwka

          % fs copyacl -fromdir . -todir reports

          % fs listacl . reports
          Access list for . is
          Normal rights:
             pat rlidwka
             smith rlidwk
          Access list for reports is
          Normal rights:
             pat rlidwka
             pat:friends rl
             smith rlidwk
          Negative rights
             jones rlidwka

</pre><h4><b>PRIVILEGE</b> <b>REQUIRED</b></h4><pre>
       To copy an ACL between AFS objects, the issuer must have  the  "l"  (lookup)  permission  on  the  source
       directory's  ACL and the "a" (administer) permission on each destination directory's ACL. If the <b>-fromdir</b>
       argument names a file rather than a directory,  the  issuer  must  have  both  the  "l"  and  "r"  (read)
       permissions on the ACL of the file's directory.

       To  copy  an  ACL  between  DFS objects, the issuer must have the r permission on the source directory or
       file's ACL and the "c" (control) permission on each destination directory or file's ACL.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man1/fs_listacl.1.html">fs_listacl</a></b>(1), <b><a href="../man1/fs_mkmount.1.html">fs_mkmount</a></b>(1), <b><a href="../man1/fs_setacl.1.html">fs_setacl</a></b>(1)

</pre><h4><b>COPYRIGHT</b></h4><pre>
       IBM Corporation 2000. &lt;<a href="http://www.ibm.com/">http://www.ibm.com/</a>&gt; All Rights Reserved.

       This documentation is covered by the IBM Public License Version 1.0.  It was converted from HTML  to  POD
       by  software  written  by  Chas  Williams  and Russ Allbery, based on work by Alf Wachsmann and Elizabeth
       Cassell.

OpenAFS                                            2025-03-21                                      <u><a href="../man1/FS_COPYACL.1.html">FS_COPYACL</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>