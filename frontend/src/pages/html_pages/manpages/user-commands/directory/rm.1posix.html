<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>This  manual  page  is part of the POSIX Programmer's Manual.  The Linux implementation of this interface</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/manpages-posix">manpages-posix_2017a-2_all</a> <br><br><pre>
</pre><h4><b>PROLOG</b></h4><pre>
       This  manual  page  is part of the POSIX Programmer's Manual.  The Linux implementation of this interface
       may differ (consult the corresponding Linux manual page for details of Linux behavior), or the  interface
       may not be implemented on Linux.

</pre><h4><b>NAME</b></h4><pre>
       rm — remove directory entries

</pre><h4><b>SYNOPSIS</b></h4><pre>
       rm <b>[</b>-iRr<b>]</b> <u>file</u>...

       rm -f <b>[</b>-iRr<b>]</b> <b>[</b><u>file</u>...<b>]</b>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The <u>rm</u> utility shall remove the directory entry specified by each <u>file</u> argument.

       If  either  of the files dot or dot-dot are specified as the basename portion of an operand (that is, the
       final pathname component) or if an operand resolves to the root directory, <u>rm</u> shall  write  a  diagnostic
       message to standard error and do nothing more with such operands.

       For each <u>file</u> the following steps shall be taken:

        1. If the <u>file</u> does not exist:

            a. If the <b>-f</b> option is not specified, <u>rm</u> shall write a diagnostic message to standard error.

            b. Go on to any remaining <u>files</u>.

        2. If <u>file</u> is of type directory, the following steps shall be taken:

            a. If  neither  the <b>-R</b> option nor the <b>-r</b> option is specified, <u>rm</u> shall write a diagnostic message to
               standard error, do nothing more with <u>file</u>, and go on to any remaining files.

            b. If <u>file</u> is an empty directory, <u>rm</u> may skip to step 2d.  If the <b>-f</b> option is  not  specified,  and
               either  the permissions of <u>file</u> do not permit writing and the standard input is a terminal or the
               <b>-i</b> option is specified, <u>rm</u> shall write a prompt to standard  error  and  read  a  line  from  the
               standard  input.  If  the  response is not affirmative, <u>rm</u> shall do nothing more with the current
               file and go on to any remaining files.

            c. For each entry contained in <u>file</u>, other than dot or dot-dot, the four steps listed here (1 to  4)
               shall  be  taken  with  the entry as if it were a <u>file</u> operand. The <u>rm</u> utility shall not traverse
               directories by following symbolic links into other parts of the hierarchy, but shall  remove  the
               links themselves.

            d. If the <b>-i</b> option is specified, <u>rm</u> shall write a prompt to standard error and read a line from the
               standard  input.  If  the  response is not affirmative, <u>rm</u> shall do nothing more with the current
               file, and go on to any remaining files.

        3. If <u>file</u> is not of type directory, the <b>-f</b> option is not specified, and either the permissions of  <u>file</u>
           do  not  permit  writing and the standard input is a terminal or the <b>-i</b> option is specified, <u>rm</u> shall
           write a prompt to the standard error and read a line from the standard input. If the response is  not
           affirmative, <u>rm</u> shall do nothing more with the current file and go on to any remaining files.

        4. If  the  current  file  is  a  directory, <u>rm</u> shall perform actions equivalent to the <u>rmdir</u>() function
           defined in the System Interfaces volume of POSIX.1‐2017 called with a pathname of  the  current  file
           used  as  the  <u>path</u>  argument.  If  the  current  file  is  not a directory, <u>rm</u> shall perform actions
           equivalent to the <u>unlink</u>() function defined in the System Interfaces volume  of  POSIX.1‐2017  called
           with a pathname of the current file used as the <u>path</u> argument.

           If  this fails for any reason, <u>rm</u> shall write a diagnostic message to standard error, do nothing more
           with the current file, and go on to any remaining files.

       The <u>rm</u> utility shall be able to descend to arbitrary depths in a file hierarchy, and shall not  fail  due
       to path length limitations (unless an operand specified by the user exceeds system limitations).

</pre><h4><b>OPTIONS</b></h4><pre>
       The <u>rm</u> utility shall conform to the Base Definitions volume of POSIX.1‐2017, <u>Section</u> <u>12.2</u>, <u>Utility</u> <u>Syntax</u>
       <u>Guidelines</u>.

       The following options shall be supported:

       <b>-f</b>        Do  not  prompt for confirmation. Do not write diagnostic messages or modify the exit status in
                 the case of no file operands, or in the case of  operands  that  do  not  exist.  Any  previous
                 occurrences of the <b>-i</b> option shall be ignored.

       <b>-i</b>        Prompt  for  confirmation  as  described  previously. Any previous occurrences of the <b>-f</b> option
                 shall be ignored.

       <b>-R</b>        Remove file hierarchies. See the DESCRIPTION.

       <b>-r</b>        Equivalent to <b>-R</b>.

</pre><h4><b>OPERANDS</b></h4><pre>
       The following operand shall be supported:

       <u>file</u>      A pathname of a directory entry to be removed.

</pre><h4><b>STDIN</b></h4><pre>
       The standard input shall be used to read an input line in response to each prompt specified in the STDOUT
       section. Otherwise, the standard input shall not be used.

</pre><h4><b>INPUT</b> <b>FILES</b></h4><pre>
       None.

</pre><h4><b>ENVIRONMENT</b> <b>VARIABLES</b></h4><pre>
       The following environment variables shall affect the execution of <u>rm</u>:

       <u>LANG</u>      Provide a default value for the internationalization variables that are unset or null. (See the
                 Base Definitions volume of POSIX.1‐2017, <u>Section</u> <u>8.2</u>, <u>Internationalization</u>  <u>Variables</u>  for  the
                 precedence   of   internationalization  variables  used  to  determine  the  values  of  locale
                 categories.)

       <u>LC_ALL</u>    If set to a non-empty string value, override the values of all the  other  internationalization
                 variables.

       <u>LC_COLLATE</u>
                 Determine  the  locale  for  the  behavior  of ranges, equivalence classes, and multi-character
                 collating elements used in the extended regular  expression  defined  for  the  <b>yesexpr</b>  locale
                 keyword in the <u>LC_MESSAGES</u> category.

       <u>LC_CTYPE</u>  Determine  the  locale  for the interpretation of sequences of bytes of text data as characters
                 (for example, single-byte as opposed to multi-byte characters in arguments) and the behavior of
                 character classes within regular expressions used in the extended  regular  expression  defined
                 for the <b>yesexpr</b> locale keyword in the <u>LC_MESSAGES</u> category.

       <u>LC_MESSAGES</u>
                 Determine  the  locale used to process affirmative responses, and the locale used to affect the
                 format and contents of diagnostic messages and prompts written to standard error.

       <u>NLSPATH</u>   Determine the location of message catalogs for the processing of <u>LC_MESSAGES</u>.

</pre><h4><b>ASYNCHRONOUS</b> <b>EVENTS</b></h4><pre>
       Default.

</pre><h4><b>STDOUT</b></h4><pre>
       Not used.

</pre><h4><b>STDERR</b></h4><pre>
       Prompts shall be written to standard error under the conditions specified in the DESCRIPTION and  OPTIONS
       sections.  The  prompts  shall  contain the <u>file</u> pathname, but their format is otherwise unspecified. The
       standard error also shall be used for diagnostic messages.

</pre><h4><b>OUTPUT</b> <b>FILES</b></h4><pre>
       None.

</pre><h4><b>EXTENDED</b> <b>DESCRIPTION</b></h4><pre>
       None.

</pre><h4><b>EXIT</b> <b>STATUS</b></h4><pre>
       The following exit values shall be returned:

        0    Each directory entry was successfully removed, unless its removal was canceled by a non-affirmative
             response to a prompt for confirmation.

       &gt;0    An error occurred.

</pre><h4><b>CONSEQUENCES</b> <b>OF</b> <b>ERRORS</b></h4><pre>
       Default.

       <u>The</u> <u>following</u> <u>sections</u> <u>are</u> <u>informative.</u>

</pre><h4><b>APPLICATION</b> <b>USAGE</b></h4><pre>
       The <u>rm</u> utility is forbidden to remove the names dot and dot-dot in order to  avoid  the  consequences  of
       inadvertently doing something like:

           rm -r .*

       Some  implementations  do  not  permit  the removal of the last link to an executable binary file that is
       being executed; see the <b>[EBUSY]</b> error in the <u>unlink</u>() function defined in the System Interfaces volume of
       POSIX.1‐2017. Thus, the <u>rm</u> utility can fail to remove such files.

       The <b>-i</b> option causes <u>rm</u> to prompt and read the standard input  even  if  the  standard  input  is  not  a
       terminal,  but  in  the  absence  of  <b>-i</b>  the mode prompting is not done when the standard input is not a
       terminal.

</pre><h4><b>EXAMPLES</b></h4><pre>
        1. The following command:

               rm a.out core

           removes the directory entries: <b>a.out</b> and <b>core</b>.

        2. The following command:

               rm -Rf junk

           removes the directory <b>junk</b> and all its contents, without prompting.

</pre><h4><b>RATIONALE</b></h4><pre>
       For absolute clarity, paragraphs (2b) and (3) in the DESCRIPTION  of  <u>rm</u>  describing  the  behavior  when
       prompting for confirmation, should be interpreted in the following manner:

           if ((NOT f_option) AND
               ((not_writable AND input_is_terminal) OR i_option))

       The  exact  format  of the interactive prompts is unspecified. Only the general nature of the contents of
       prompts are specified because implementations may desire more descriptive  prompts  than  those  used  on
       historical  implementations.  Therefore,  an application not using the <b>-f</b> option, or using the <b>-i</b> option,
       relies on the system to provide the most suitable dialog directly with the user, based  on  the  behavior
       specified.

       The  <b>-r</b>  option  is  historical  practice  on  all  known  systems. The synonym <b>-R</b> option is provided for
       consistency with the other utilities in this volume  of  POSIX.1‐2017  that  provide  options  requesting
       recursive descent through the file hierarchy.

       The  behavior  of  the  <b>-f</b>  option  in  historical versions of <u>rm</u> is inconsistent. In general, along with
       ``forcing'' the unlink without prompting for permission, it  always  causes  diagnostic  messages  to  be
       suppressed  and  the  exit  status  to  be  unmodified  for nonexistent operands and files that cannot be
       unlinked. In some versions, however, the <b>-f</b> option suppresses usage messages and system errors  as  well.
       Suppressing such messages is not a service to either shell scripts or users.

       It  is  less  clear  that  error  messages  regarding  files  that cannot be unlinked (removed) should be
       suppressed. Although this is historical practice, this volume of POSIX.1‐2017  does  not  permit  the  <b>-f</b>
       option to suppress such messages.

       When  given  the  <b>-r</b>  and <b>-i</b> options, historical versions of <u>rm</u> prompt the user twice for each directory,
       once before removing its contents and once before actually attempting to delete the directory entry  that
       names  it.  This  allows  the  user  to ``prune'' the file hierarchy walk. Historical versions of <u>rm</u> were
       inconsistent in that some did not do the former prompt for directories named  on  the  command  line  and
       others  had  obscure  prompting behavior when the <b>-i</b> option was specified and the permissions of the file
       did not permit writing. The POSIX Shell and Utilities <u>rm</u> differs little from historic practice, but  does
       require that prompts be consistent. Historical versions of <u>rm</u> were also inconsistent in that prompts were
       done  to  both  standard  output and standard error. This volume of POSIX.1‐2017 requires that prompts be
       done to standard error, for consistency with <u>cp</u> and <u>mv</u>, and to allow historical  extensions  to  <u>rm</u>  that
       provide an option to list deleted files on standard output.

       The <u>rm</u> utility is required to descend to arbitrary depths so that any file hierarchy may be deleted. This
       means,  for  example, that the <u>rm</u> utility cannot run out of file descriptors during its descent (that is,
       if the number of file descriptors is limited, <u>rm</u> cannot be implemented in the  historical  fashion  where
       one  file  descriptor  is  used  per  directory level). Also, <u>rm</u> is not permitted to fail because of path
       length restrictions, unless an operand specified by the user is longer than {PATH_MAX}.

       The <u>rm</u> utility removes symbolic links themselves, not the files they refer to, as a  consequence  of  the
       dependence  on  the <u>unlink</u>() functionality, per the DESCRIPTION. When removing hierarchies with <b>-r</b> or <b>-R</b>,
       the prohibition on following symbolic links has to be made explicit.

</pre><h4><b>FUTURE</b> <b>DIRECTIONS</b></h4><pre>
       None.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <u>rmdir</u>

       The Base Definitions volume of POSIX.1‐2017, <u>Chapter</u> <u>8</u>,  <u>Environment</u>  <u>Variables</u>,  <u>Section</u>  <u>12.2</u>,  <u>Utility</u>
       <u>Syntax</u> <u>Guidelines</u>

       The System Interfaces volume of POSIX.1‐2017, <u>remove</u>(), <u>rmdir</u>(), <u>unlink</u>()

</pre><h4><b>COPYRIGHT</b></h4><pre>
       Portions of this text are reprinted and reproduced in electronic form from IEEE Std 1003.1-2017, Standard
       for  Information  Technology  --  Portable  Operating  System  Interface  (POSIX),  The  Open  Group Base
       Specifications Issue 7, 2018 Edition, Copyright (C) 2018 by the Institute of Electrical  and  Electronics
       Engineers, Inc and The Open Group.  In the event of any discrepancy between this version and the original
       IEEE  and The Open Group Standard, the original IEEE and The Open Group Standard is the referee document.
       The original Standard can be obtained online at <a href="http://www.opengroup.org/unix/online.html">http://www.opengroup.org/unix/online.html</a> .

       Any typographical or formatting errors that appear in this page are most likely to have  been  introduced
       during   the   conversion  of  the  source  files  to  man  page  format.  To  report  such  errors,  see
       https://www.kernel.org/doc/man-pages/reporting_bugs.html .

IEEE/The Open Group                                   2017                                            <u><a href="../man1POSIX/RM.1POSIX.html">RM</a></u>(1POSIX)
</pre>
 </div>
</div></section>
</div>
</body>
</html>