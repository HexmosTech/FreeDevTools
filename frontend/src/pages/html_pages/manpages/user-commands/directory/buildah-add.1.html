<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>buildah-add - Add the contents of a file, URL, or a directory to a container.</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/buildah">buildah_1.39.3+ds1-1syncable1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       buildah-add - Add the contents of a file, URL, or a directory to a container.

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>buildah</b> <b>add</b> [<u>options</u>] <u>container</u> <u>src</u> [[<u>src</u> ...] <u>dest</u>]

</pre><h4><b>DESCRIPTION</b></h4><pre>
       Adds  the  contents  of  a  file,  URL,  or a directory to a container's working directory or a specified
       location in the container.  If a local source file appears to be an archive, its contents  are  extracted
       and  added  instead  of  the  archive  file  itself.   If a local directory is specified as a source, its
       <u>contents</u> are copied to the destination.

</pre><h4><b>OPTIONS</b></h4><pre>
       <b>--add-history</b>

       Add an entry to the history which will note the digest of the added content.  Defaults to false.

       Note: You can also override the default value of --add-history by setting the BUILDAH_HISTORY environment
       variable. <b>export</b> <b>BUILDAH_HISTORY=true</b>

       <b>--cert-dir</b> <u>path</u>

       Use certificates at <u>path</u> (*.crt, *.cert, *.key) when connecting to registries for  pulling  images  named
       with the <b>--from</b> flag, and when connecting to HTTPS servers when fetching sources from locations specified
       with HTTPS URLs.  The default certificates directory is <u>/etc/containers/certs.d</u>.

       <b>--checksum</b> <u>checksum</u>

       Checksum  the  source  content.  The  value  of <u>checksum</u> must be a standard container digest string. Only
       supported for HTTP sources.

       <b>--chmod</b> <u>permissions</u>

       Sets the access permissions of the destination content. Accepts the numerical format.

       <b>--chown</b> <u>owner</u>:<u>group</u>

       Sets the user and group ownership of the destination content.

       <b>--contextdir</b> <u>directory</u>

       Build context directory. Specifying a context directory  causes  Buildah  to  chroot  into  that  context
       directory. This means copying files pointed at by symbolic links outside of the chroot will fail.

       <b>--exclude</b> <u>pattern</u>

       Exclude  copying  files  matching  the  specified  pattern.  Option  can be specified multiple times. See
       <a href="../man5/containerignore.5.html">containerignore</a>(5) for supported formats.

       <b>--from</b> <u>containerOrImage</u>

       Use the root directory of the specified working container or image as the root directory  when  resolving
       absolute  source  paths  and  the path of the context directory.  If an image needs to be pulled, options
       recognized by <b>buildah</b> <b>pull</b> can be used.

       <b>--ignorefile</b> <u>file</u>

       Path to an alternative .containerignore (.dockerignore) file. Requires --contextdir be specified.

       <b>--quiet</b>, <b>-q</b>

       Refrain from printing a digest of the added content.

       <b>--retry</b> <u>attempts</u>

       Number of times to retry in case of failure when pulling images from  registries  or  retrieving  content
       from HTTPS URLs.

       Defaults to <b>3</b>.

       <b>--retry-delay</b> <u>duration</u>

       Duration  of  delay  between  retry  attempts  in  case of failure when pulling images from registries or
       retrieving content from HTTPS URLs.

       Defaults to <b>2s</b>.

       <b>--tls-verify</b> <u>bool-value</u>

       Require verification of certificates when retrieving sources from HTTPS locations, or when pulling images
       referred to with the <b>--from</b>* flag (defaults to true).  TLS verification cannot be used when talking to an
       insecure registry.

</pre><h4><b>EXAMPLE</b></h4><pre>
       buildah add containerID '/myapp/app.conf' '/myapp/app.conf'

       buildah add --chown myuser:mygroup containerID '/myapp/app.conf' '/myapp/app.conf'

       buildah add --chmod 660 containerID '/myapp/app.conf' '/myapp/app.conf'

       buildah add containerID '/home/myuser/myproject.go'

       buildah add containerID '/home/myuser/myfiles.tar' '<a href="file:/tmp">/tmp</a>'

       buildah add containerID '/tmp/workingdir' '/tmp/workingdir'

       buildah add containerID 'https://github.com/containers/buildah/blob/main/README.md' '<a href="file:/tmp">/tmp</a>'

       buildah add containerID 'passwd' 'certs.d' <a href="file:/etc">/etc</a>

</pre><h4><b>FILES</b></h4><pre>
   <b>.containerignore</b> <b>or</b> <b>.dockerignore</b>
       If a .containerignore or .dockerignore file exists in  the  context  directory,  <b>buildah</b>  <b>add</b>  reads  its
       contents. If both exist, then .containerignore is used.

       When the <b>--ignorefile</b> option is specified Buildah reads it and uses it to decide which content to exclude
       when copying content into the working container.

       Users can specify a series of Unix shell glob patterns in an ignore file to identify files/directories to
       exclude.

       Buildah  supports  a special wildcard string <b>**</b> which matches any number of directories (including zero).
       For example, *<u>/</u>.go will exclude all files that end with .go that are found in all directories.

       Example .containerignore/.dockerignore file:

       # here are files we want to exclude
       */*.c
       **/output*
       src

       <b>*/*.c</b> Excludes files and directories whose names end with .c in any top level subdirectory. For  example,
       the source file include/rootless.c.

       <b>**/output*</b> Excludes files and directories starting with <b>output</b> from any directory.

       <b>src</b> Excludes files named src and the directory src as well as any content in it.

       Lines  starting  with ! (exclamation mark) can be used to make exceptions to exclusions. The following is
       an example .containerignore file that uses this mechanism:

       *.doc
       !Help.doc

       Exclude all doc files except Help.doc when copying content into the container.

       This functionality is compatible with the handling of .containerignore files described here:

       https://github.com/containers/common/blob/main/docs/containerignore.5.md

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <a href="../man1/buildah.1.html">buildah</a>(1), <a href="../man5/containerignore.5.html">containerignore</a>(5)

buildah                                            April 2021                                     <u><a href="../man1/buildah-add.1.html">buildah-add</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>