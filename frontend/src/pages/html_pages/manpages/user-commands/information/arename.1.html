<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>arename - automatically rename audio files by tagging information</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/arename">arename_4.1-1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       arename - automatically rename audio files by tagging information

</pre><h4><b>SYNOPSIS</b></h4><pre>
       arename [OPTION(s)] FILE(s)...

</pre><h4><b>OPTIONS</b> <b>AND</b> <b>ARGUMENTS</b></h4><pre>
       <b>--ambiguous-use-first</b>
               Sets the <u>ambiguoususefirst</u> option. See below for details.

       <b>--compare-versions</b>
               Prints  the  version of the arename script and the version of the Perl module, that contains most
               of the code. These versions should be the same. If not, that would  indicate  a  possibly  broken
               installation.

       <b>--copy</b> (short option: <b>-c</b>)
               Copy  files  instead  of  renaming  (moving).  This  can be useful to copy tracks from your audio
               archive to a portable device for example.

       <b>--debug</b> Enable debugging output. This actually sets `<u>verbosity</u>' to 10000. This output option  will  cause
               very noisy output. You probably want something less verbose, like `<u>--verbosity</u> <u>20</u>'.

       <b>--disable-hooks</b> (short option: <b>-H</b>)
               Do not make use of hooks of any sort (neither global nor local ones).

       <b>--disable-profiles</b> (short option: <b>-N</b>)
               Do <u>not</u> use configuration profiles (see below).  Overwrites the <b>useprofiles</b> setting.

       <b>--dryrun</b> (short option: <b>-d</b>)
               Go  into  dryrun mode. This means, that no action will be taken. <b>arename</b> will print what it would
               do, if called without <u>-d</u>.

       <b>--enable-hooks</b>
               Explicitly enable hooks.

       <b>--force</b> (short option: <b>-f</b>)
               Overwrite files if needed.

       <b>--help</b> (short option: <b>-h</b>)
               Display a short help text.

       <b>--list-cfg</b> (short option: <b>-L</b>)
               List the current configuration in the actual configuration format.

       <b>--list-file-types</b>
               Lists all file types currently supported by <b>arename</b>, one type per line.

       <b>--list-exts-for-type</b> &lt;type[,type[,...]]&gt;
               Lists all extensions recognised file name extsionsion for type <b>&lt;type&gt;</b>, one extension per line. If
               a list of types is given as a comma-separated list, extensions for all listed types are listed.

       <b>--list-profiles</b> (short option: <b>-S</b>)
               Print a list of profile names defined in the active configuration.  (This is  primarily  used  by
               the zsh completion for the <u>--profile</u> option.)

       <b>--read-local</b> (short option: <b>-l</b>)
               Read a local config file (./.arename.local). Overwrites the <b>uselocalrc</b> configuration setting.

       <b>--stdin</b> (short option: <b>-s</b>)
               Read  filenames  from  stdin after processing files given on the command line.  It reads one file
               name per line, which means that file names containing newlines are not supported.

       <b>--version</b> (short option: <b>-V</b>)
               Display version information.

       <b>--verbosity</b> &lt;integer-value&gt;
               Sets the `<u>verbosity</u>' setting to `<u>integer-value</u>'.

       <b>--suppress-skips</b> (short option: <b>-Q</b>)
               When a file is skipped, because its name would not change, this  option  will  cause  <b>arename</b>  to
               suppress any output. This sets the `suppress_skips' option.

               Note  that if the `<u>verbosity</u>' setting is at a high enough level, you may still get messages about
               the file being processed in the first place.

       <b>--rc</b> &lt;file&gt;
               Read <u>file</u> instead of <a href="file:~/.arenamerc.">~/.arenamerc.</a>

       <b>--post-rc</b> &lt;file&gt;
               Read <u>file</u> <b>after</b> <a href="file:~/.arenamerc">~/.arenamerc</a> and <b>before</b> ./.arename.local.

       <b>--prefix</b> &lt;prefix&gt; (short option: <b>-p</b>)
               Define a prefix for destination files.

       <b>--profile</b> &lt;profile(s),...&gt; (short option: <b>-P</b>)
               Define a list of one or more profiles to use forcibly, no  matter  if  they  would  be  activated
               normally or not.

       <b>--compilation-template</b> &lt;template&gt; (short option: <b>-T</b>)
               Define a template, that will be used for files that contain a compilation tag.

       <b>--template</b> &lt;template&gt; (short option: <b>-t</b>)
               Define a generic template (for all files that do <u>not</u> contain a compilation tag).

       <b>--userset</b> &lt;<u>variable</u>=<u>value</u>&gt; (short option: <b>-u</b>)
               Set a user defined variable to a given value (see "User defined variables" below).

       <u>FILE(s)...</u>
               Input files, that are subject for renaming.

       A  word  about  option name stability: With <u>arename</u> <u>version</u> <u>3.0</u> we are now using Getopt::Long for parsing
       command lines options. That change was made, because the meaningful single letter options where used  up.
       Every  option  is  available  via  a  <u>--long-option</u>. <b>That</b> <b>interface</b> <b>will</b> <b>remain</b> <b>stable</b>. If changes to the
       <u>--long-option</u> interface are done, that will happen with an appropriate deprecation phase,  so  users  can
       adjust.  So,  if  you  want  to  use  <b>arename</b> in scripts, those are the options you should use. There are
       currently no plans of removing or changing any further short options, but there are no guarantees. If  it
       is indeed better to change a short option, we will do so.

       A  list  of  options  that changed from <b>arename</b> <u>3.x</u> to <u>4.0</u> can be found in the project's CHANGES file and
       general advice about incompatible changes from major version to  major  version  are  documented  in  the
       UPGRADING file.

   <b>Deprecated</b> <b>Command</b> <b>Line</b> <b>Options</b>
       The following options are deprecated and will be removed in a later version of <b>arename</b>.

       <b>--quiet</b>
           This option is a short hand for "--verbosity 10".

       <b>--uber-quiet</b>
           This option is a short hand for "--verbosity 5".

       <b>--verbose</b>
           This is a short hand for "--verbosity 20".

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>arename</b>  is a tool that is able to rename audio files by looking at a file's tagging information. It uses
       this information to assemble a consistent destination file name. The user can define the  format  of  the
       destination filename by the use of template strings.

       Templates  can  be  defined in the "Configuration files", by the <u>template</u> and <u>comp_template</u> settings (See
       "SETTINGS" below).

       By default, <b>arename</b> will refuse to overwrite destination files, if the file in question  already  exists.
       You can force overwriting by supplying the <b>--force</b> option.

       In  order  to see what would happen instead of actually modifying files, you can use the <b>--dryrun</b> option.
       This way you can avoid problems, that would occur if the situation (e.g. the information in the files  or
       your configuration) is not exactly as you expected it.

   <b>Supported</b> <b>file</b> <b>formats</b>
       Since  version  4.0, <b>arename</b> supports a lot more file formats than it used to (version 3.0 only supported
       <u>.mp3</u>, <u>.ogg</u> and <u>.flac</u> files). Thanks to Audio::Scan, we now support a much wider range of file  types,  of
       which  most  may  exist  using  different file name extensions (e.g. <u>*.ogg</u> and <u>*.oga</u> are both of the type
       <u>ogg</u>).

       You may use the `<u>--list-file-types</u>' and `<u>--list-ext-for-type</u>' options to find  out  which  file  type  is
       mapped to which file name extensions.

       If  you  would  like  support for another file type in <b>arename</b>, you will have to persuade the Audio::Scan
       developers to extend their module with said feature. Adding support for it in <b>arename</b> after  that  should
       be trivial.

       To  give  you  an idea, arename (in connection with Audio::Scan <b>0.85</b>) lets you rename <u>mp3</u>, <u>mp4</u>, <u>aac</u>, <u>ogg</u>,
       <u>flac</u>, <u>asf</u>, <u>musepack</u>, <u>monkey</u> <u>audio</u>, <u>wav</u> (this type also supports <u>aiff</u>) and <u>wavpack</u> files.

   <b>Inputting</b> <b>a</b> <b>*lot*</b> <b>of</b> <b>files</b>
       <b>arename</b> can be used to keep the file names of whole audio archives in sync. However, that means that  you
       will have to tell the script the location of many files, thousands maybe.

       In order to do that you will face the problem, that on most UNIX-like systems, the length of the argument
       list  for  external  programs  is  limited  (recent  Linux  versions,  as  an exception, do not have that
       limitation anymore).

       So, even if your shell can do recursive globbing like ksh or zsh, this will  most  likely  get  you  into
       trouble (for more than just a few files):

         % arename -d **/*.mp3

       There are several ways to overcome that limitation, of course.

       The first solution is to use <b>find</b> in connection with <b>arename</b>'s <u>-s</u> option:

         % find . -name "*.mp3" -print | arename -d -s

       This  will  break  for file names that contain newlines, because <u>--stdin</u> will read one file name per line
       from the standard input stream.

       Another way of using <b>find</b> to deal with this problem is to use find's <u>-exec</u> option:

         % find . -name "*.mp3" -exec arename -d '{}' '+'

       This will work for every possible file name. No matter if it has spaces or newlines in it. The <u>+</u>  at  the
       end of the call causes find to call the external program (<b>arename</b> in this case) with as many arguments as
       possible,  without  exceeding the limit. This requires a POSIXly correct find. GNU find for instance, did
       not support the <u>+</u> way for a long time.  If you are stuck with an old version, you can exchange the <u>+</u> with
       a <u>;</u> (note, that a semicolon <b>must</b> be quoted in any case), or use the xargs tool instead.

       A last solution for zsh users would be zargs (which requires 'autoload zargs' in your zsh configuration):

         % zargs -- **/*.mp3 -- arename -d

</pre><h4><b>GENERAL</b> <b>USAGE</b></h4><pre>
       When you are first confronted with <b>arename</b> and you try to get started with the  documentation  you  might
       argue, that a 1000+ lines manual, that is not filled with too many examples is hardly starter-friendly.

       Therefore,  this  section  was introduced to give you the bare minimum of information in order to use the
       program without going through too much fuzz.

       If you are really afraid of documentation, you could of course just read the output of the <u>--help</u>  option
       and  see  which  options to provide in order to get what you want. Then again, you will soon be pissed by
       the weird default values <b>arename</b> uses.

       You will probably want other templates. After all, the ability to have these expanded strings is  one  of
       the  points  to  use  <b>arename</b> in the first place. They are described in the TEMPLATE section; and reading
       that section is the minimum effort you will want to go through.

       After that, you can open the file <u><a href="file:~/.arenamerc">~/.arenamerc</a></u> in your favourite text editor and resemble  the  following
       text (and presumably change the few values in there to your liking):

         # now you certainly want your own templates, so define them here
         # one for your normal files
         template &amp;artist - &amp;album - &amp;tracknumber. &amp;tracktitle

         # and another one for files that orignate from compilations
         comp_template va - &amp;album - &amp;tracknumber. &amp;artist - &amp;tracktitle

       If  you  want more automation or more customization, you will not get around reading the manual below. If
       you need to solve special problems, the "HOOKS" part even further below is for you.

</pre><h4><b>ENVIRONMENT</b> <b>VARIABLES</b></h4><pre>
       <b>ARENAME_LOAD_QUIET</b>
               When set to <u>1</u>, <b>arename</b> will not output any startup messages; not while reading the  configuration
               or hook files, nor will <b>arename</b> emit messages about whether it is in copy mode or on a dry-run or
               similar.

               However, if warnings or errors are encoutered while loading the configuration, those messages are
               still emitted, of course.

               Any  other value but <u>1</u> - and that includes ARENAME_LOAD_QUIET being absent from the environment -
               will cause <b>arename</b> to start up in its normal manner.

       <b>ARENAME_SUPPRESS_COLOURS</b>
               When set to <u>1</u> (and only 1 - <b>arename</b> will ignore any other setting), arename  will  turn  off  its
               output  colourations.  As  of  version  4.0, <b>arename</b> uses Term::ANSIColor to produce output, that
               features terminal colours.

</pre><h4><b>FILES</b></h4><pre>
       <b>arename</b>'s behaviour can be altered by a number of files it reads when starting up.

       Normal configuration tasks are done in (how convenient) "Configuration files", described below.

       If you need more control, or want to solve special problems you are having, you can do  so  by  supplying
       Perl code in "Hook definition files".

       <b>arename</b>  can  be configured to read configuration files as well as hook definition files from the current
       working directory. This feature is disabled by default, because they can be a security issue on multiuser
       systems.

       There are no such things as system wide configuration files in <b>arename</b>.

       For all setup files <b>arename</b> tries to find (except for the local ones) four different locations are tried.
       If the <u>$XDG_CONFIG_HOME/arename</u> directory exists, <b>all</b> files are expected to be there. If  that  directory
       does  not  exist,  <u><a href="file:~/etc/arename/">~/etc/arename/</a></u>  and  if  that  is not there <u><a href="file:~/.arename">~/.arename</a></u> are are tried instead. If those
       directories could not be found either, <b>arename</b> will try to find the file it is looking  for  directly  in
       the user's home directory.

       The default for <u>$XDG_CONFIG_HOME</u> is <u><a href="file:~/.config">~/.config</a></u>.

       The first setup directory we find always wins. <b>arename</b> does not consider more than one setup directory.

       If,  for example, <u><a href="file:~/etc/arename/">~/etc/arename/</a></u> exists and we are looking for the normal configuration file (see below),
       but <u><a href="file:~/etc/arename/rc">~/etc/arename/rc</a></u> could not be found, we do <b>not</b> try to find it  in  <u><a href="file:~/.arename/">~/.arename/</a></u>  or  the  user's  home
       directory.

   <b>Configuration</b> <b>files</b>
       <b>arename</b>  uses  up  to  three  configuration  files.  As  for most programs, the script will try to read a
       configuration file, that is located in the user's <u>home</u> <u>directory</u>. In addition to that,  it  will  try  to
       load  <u>local</u>  configuration files, if it finds appropriately named files in the <u>current</u> <u>directory</u> (and the
       <u>uselocalrc</u> feature is enabled):

       <b>$XDG_CONFIG_HOME/arename/rc</b>
       <b><a href="file:~/etc/arename/rc">~/etc/arename/rc</a></b>
       <b><a href="file:~/.arename/rc">~/.arename/rc</a></b>
       <b><a href="file:~/.arenamerc">~/.arenamerc</a></b>
               per-user normal configuration file.

       <b>./.arename.local</b>
               per-directory local configuration file (only read if <u>uselocalrc</u> is set or the <u>--read-local</u> option
               is given on the command line).

       The per-user normal configuration file can be substituted by another file,  if  specified  via  the  <u>--rc</u>
       option.

       Last  but  not  least,  you  can  specify an intermediate configuration file, that is read in between the
       normal and the per-directory file, via the <u>--post-rc</u> option.

       <u>File</u> <u>format</u>

       The format of the aforementioned files is pretty simple.  It is parsed line by line. Empty  lines,  lines
       only  containing  whitespace  and lines, whose first non whitespace character is a hash character (<u>#</u>) are
       ignored.

       There are two different types of settings: boolean and scalar settings.

       Booleans can be set like this:

         &lt;setting&gt; [true|false]

       If the value is omitted, <u>true</u> is assumed. <u>true</u> and <u>false</u> are recognized case insensitively, and  a  value
       of <u>1</u> is synonymous to <u>true</u>, as is <u>0</u> to <u>false</u>.

       Scalar settings are done in a very similar way:

         &lt;setting&gt; &lt;value&gt;

       If  the  value is omitted, string values will be set to an empty string and numeric values will be set to
       zero.

       In both cases, setting and value are separated by one or more whitespace characters. The  value  will  be
       the rest of the line (all of it, including trailing whitespace).

       If  the  value  part  starts  with  a  backslash,  that backslash is left out of the value. That makes it
       possible to define templates with leading whitespace.

       If a line contains only a string within square brackets, that string is the start of a  section.  Section
       names are matches for starts of file names.  That means, the settings following such a section definition
       will  only  applied  for input file names that start with the same string as the section name. Where file
       name means the string, handed over to <b>arename</b>. The string <u>~/</u> at  the  beginning  of  a  section  name  is
       expanded to the user's home directory.

       You may start as many sections as you would like.

       A  section  named  <u>/foo/bar/</u>  supersedes a section named <u>/foo/</u> for a file named <u>/foo/bar/baz.ogg</u>. So, the
       longest match wins.

       Another possible configuration file entry is a user variable, which is defined via the <b>set</b> command. These
       settings are very different from the normal settings. Therefore, they are defined  in  a  different  way.
       That way is described in the "User defined variables" subsection below.

       Last but not least, you may define so called profiles, see below.

       <u>Configuration</u> <u>profiles</u>

       Profiles  are  a  very  flexible and context sensitive way of using multiple configuration files at once.
       With profiles, local configuration files (and local hook definition files) can be substituted in a secure
       way; even on multi-user systems.

       Reading local files (configs  and  hook-files)  is  still  supported  for  backwards  compatibility  (see
       <u>uselocalrc</u> and <u>uselocalhooks</u> options).  However, you are strongly encouraged to use profiles whenever you
       can.

       As  normal  configuration  files  and global hook-files, profile-related files are searched in one of the
       setup directories described above. They are using the following naming conventions:

       <b>$XDG_CONFIG_HOME/arename/profile.PROFILENAME</b>
       <b><a href="file:~/etc/arename/profile.PROFILENAME">~/etc/arename/profile.PROFILENAME</a></b>
       <b><a href="file:~/.arename/profile.PROFILENAME">~/.arename/profile.PROFILENAME</a></b>
       <b><a href="file:~/.arename.PROFILENAME">~/.arename.PROFILENAME</a></b>
               Profile related configuration files; read if <u>PROFILENAME</u> is active.

               They are read after a intermediate config file defined by <u>--post-rc</u> and a local config  file  (if
               enabled).

       <b>$XDG_CONFIG_HOME/arename/profile.PROFILENAME.hooks</b>
       <b><a href="file:~/etc/arename/profile.PROFILENAME.hooks">~/etc/arename/profile.PROFILENAME.hooks</a></b>
       <b><a href="file:~/.arename/profile.PROFILENAME.hooks">~/.arename/profile.PROFILENAME.hooks</a></b>
       <b><a href="file:~/.arename.PROFILENAME.hooks">~/.arename.PROFILENAME.hooks</a></b>
               Profile related "Hook definition files" (see below for details); read if <u>PROFILENAME</u> is active.

               These files are read, between global and local hook-definition files.

       In order to define profiles, you need to use the <u>profile</u> keyword:

         profile &lt;name&gt; &lt;pattern&gt;

       Where  <u>name</u>  is a string, that is used in the place of <b>PROFILENAME</b> in the file location lists above. This

       name may contain of the following character range: <b>a-zA-Z0-9_-</b>
       <u>pattern</u> is part of a Perl regex pattern (see <u>perlreref</u> and  <u>perlretut</u>  manpages).  The  pattern  will  be
       anchored at the beginning and is open at the end, somewhat like this pseudocode:

         if ($working_directory =~ m/^PATTERN/) { use_this_profile(); }

       Example:

         profile music /mnt/audio/music/

       Will  cause  the profile <u>music</u> to be active when the working directory is <u>/mnt/audio/music/</u> or below. So,
       do not be afraid. You can use profiles without understanding regular expressions.

       Like many other values in <b>arename</b>'s configuration, a leading backslash of a pattern will  be  ignored  to
       allow  patterns,  that  start  in  white  spaces.  Furthermore, if a pattern starts in <u>~/</u>, that string is
       replaced by the user's home directory.

       You may add as many patterns to a profile name, as you want:

         profile music /mnt/audio/music/
         profile music /mnt/extern/audio/music/

       The above activates the <u>music</u> profile in <u>/mnt/audio/music/</u> and <u>/mnt/extern/audio/music/</u>, for example.

       More than one profile can be activated at the same time. If that is  true,  the  according  configuration
       files are read in lexical order.

       <u>Sections</u> <u>versus</u> <u>Profiles</u>

       Since <b>arename</b> provides two context sensitive configuration facilities, you might ask yourself when to use
       which, when you are confronted with both for the first time.

       First  of all, <u>profiles</u> are more powerful. They may even introduce new hooks for <b>arename</b> to use. But that
       is not the conceptual difference between the two.

       <u>sections</u> are sets of configuration settings, that are considered for <b>each</b> <b>and</b> <b>every</b> input file  and  they
       are <b>only</b> enabled for input files, whose name matches the section name.

       <u>profiles</u>  on  the  other hand are sets of configuration and hook-definition files, whose inclusion in the
       current <b>arename</b> run is decided at the <b>beginning</b> of the program's execution (not for every input  file)  -
       namely, if the name of the current working directory matches one of the profile's patterns.

       That  means, that if you need to introduce slight configuration changes based on an <b>input</b> <b>file's</b> <b>name</b> you
       want to use a <u>section</u>.

       If you need to make broader configuration changes, considering the name of the <b>current</b> <b>working</b> <b>directory</b>,
       <u>profiles</u> are the way to go.

       Of course, profile configuration files may introduce new sections, too.

   <b>Configuration</b> <b>file</b> <b>example</b>
         # switch on verbosity
         verbosity 20

         # canonicalize file names before working with them
         canonicalize

         # the author is crazy! use a sane template by default. :-)
         template &amp;artist - &amp;album (&amp;year) - &amp;tracknumber. &amp;tracktitle

         # activate the 'music' profile below /mnt/audio/music/.
         profile music /mnt/audio/music/

         # force files from /foo/bar/ to stay below that directory
         [/foo/bar/]
         prefix /foo/bar

   <b>Hook</b> <b>definition</b> <b>files</b>
       <b>$XDG_CONFIG_HOME/arename/hooks</b>
       <b><a href="file:~/etc/arename/hooks">~/etc/arename/hooks</a></b>
       <b><a href="file:~/.arename/hooks">~/.arename/hooks</a></b>
       <b><a href="file:~/.arename.hooks">~/.arename.hooks</a></b>
           Defines global hooks, that are in effect in every directory if the <u>usehooks</u> option is set to <b>true</b>.

       <b>./.arename.hooks.local</b>
           This allows you to define special hooks, that will only be applied for  processes  that  run  in  the
           directory the local file is found (and if the <u>uselocalhooks</u> option is set to <b>true</b>).

       For details about hooks in <b>arename</b>, see "HOOKS" below.

</pre><h4><b>SETTINGS</b></h4><pre>
       The following settings are supported in all configuration files.

       Not  all  of  them  are  usable in <u>sections</u>. The ones you can use in sections are: All <u>default_*</u> options,
       <u>force</u>, <u>prefix</u>, <u>sepreplace</u>, <u>tnpad</u>, <u>comp_template</u> and <u>template</u>.

       <b>ambiguoususefirst</b>
               Some tag types support setting the sametag multiple times. The scanning backends  before  arename
               4.0  did not support such tags. When this option is set to <u>false</u> (default), arename gives up when
               it encounters such tags.

               When set to <u>true</u>, arename just uses the first value it encounters.

               For maximum  control  over  how  tags  with  ambiguous  values  are  handled,  you  may  use  the
               `<u>ambiguoustag</u>' hook. (default: <u>false</u>)

       <b>canonicalize</b>
               If  set,  a  given file name will be transformed to its cleaned up absolute path. You may want to
               set this, if you are using sections in the configuration. If you do not use  sections,  all  this
               will give you is a performance penalty. (default value: <u>false</u>)

       <b>checkprofilerc</b>
               If  set,  <b>arename</b> will check if there is a configuration file for a profile as soon as it reads a
               profile definition in the setup and <b>only</b> consider the profile if it found  the  according  config
               file.  Profiles  without  config  file  will  cause a warning if this is set, which may cause the
               <u>dryrun</u> option to be set if the <u>warningsautodryrun</u> option is set.

               If unset, profiles without config file will not cause  warnings.  You  will  see  messages  about
               missing configuration files, if a profile without config file is active. (default: <u>true</u>)

       <b>checktemplatesinitially</b>
               If  set,  <b>arename</b>  will  inspect  all  <u>template</u> and <u>comp_template</u> settings for possible problems.
               Unsetting this option probably only makes sense, if you are working with templates  within  hooks
               and  know  what  you  are  doing.  Normal  users will most likely want to stick with the default.
               (default: <u>on</u>)

       <b>comp_template</b>
               Defines a template to use with files that provide a compilation tag (for  'various  artist'  CDs,
               for  example).  This  setting can still be overwritten by the <b>--compilation-template</b> command line
               option. (default value: <u>va/&amp;album/&amp;tracknumber</u> <u>-</u> <u>&amp;artist</u> <u>-</u> <u>&amp;tracktitle</u>)

       <b>default_*</b>
               default_artist,   default_album,   default_compilation,    default_genre,    default_tracknumber,
               default_tracktitle, default_year

               Defines  a default value, for the given tag in files, that lack this information. (default value:
               <u>undefined</u>)

       <b>hookerrfatal</b>
               If this is set to false, arename will continue execution even if reading, parsing or compiling  a
               hooks file failed. (default value: <u>false</u>)

       <b>prefix</b>  Defines  a  prefix for destination files. Setting this to '/foo/bar' results in destination files
               named '/foo/bar/Expanded Template.ogg'

               This setting can still be overwritten by the <b>--profile</b> command line option.  (default value: <u>.</u>)

       <b>sepreplace</b>
               Tagging information strings may contain slashes, which is a pretty bad idea on most file systems.
               Therefore, you can define a string, that  replaces  slashes  with  the  value  of  this  setting.
               (default value: <b>_</b>)

       <b>suppress_skips</b>
               Like  the  `<u>--suppress-skips</u>'  command line option, this disables messages for files that <b>arename</b>
               will skip because the file name would not change.

       <b>template</b>
               Defines a template to use with files that  do  not  provide  a  compilation  tag  (or  where  the
               compilation tag and the artist tag are exactly the same).  This setting can be overwritten by the
               <b>--compilation-template</b>         command         line         option.        (default        value:
               <u>&amp;artist[1]/&amp;artist/&amp;album/&amp;tracknumber</u> <u>-</u> <u>&amp;tracktitle</u>)

       <b>template_aliases</b>
               If this option is set,  <b>arename</b>  allows  the  use  of  abbreviated  taq  names  in  <u>template</u>  and
               <u>comp_template</u>. See "Available expression identifiers" below for details. (default value: <u>off</u>)

       <b>tnpad</b>   This defines the width, to which the track number field is padded with zeros on the left. Setting
               this to zero disables padding. (default value: <u>2</u>)

       <b>usehooks</b>
               If set to true, use hooks defined in <b><a href="file:~/.arename.hooks">~/.arename.hooks</a></b>.  (default value: <u>true</u>)

       <b>uselocalhooks</b>
               If set to true, use hooks defined in <b>./.arename.hooks.local</b>.  (default value: <u>false</u>)

       <b>uselocalrc</b>
               If set to true, read a local configuration file (<b>./.arename.local</b>), if it exists. (default value:
               <u>false</u>)

       <b>useprofiles</b>
               If  set  to  true,  configuration profiles will be used. If false, they are not.  (default value:
               <u>true</u>)

       <b>usetypeasextension</b>
               One file type may be used for different file name extensions. For example, files  matching  <u>*.ogg</u>
               and  <u>*.oga</u>  will  both  be handled as type <u>ogg</u> in Audio::Scan (the information gathering backend,
               <b>arename</b> is using since version 4.0).

               When this option is set to <u>true</u>, a file matching  <u>*.oga</u>  would  be  renamed  using  <u>.ogg</u>  as  the
               extension,  since its type is <u>ogg</u>. Otherwise, the original extension is left untouched. (default:
               <u>true</u>)

       <b>verbosity</b>
               Integer option, that sets the verbosity of <u>arename</u>'s output.  The  default  value  is  `<u>10</u>'.  The
               `<u>--verbosity</u>' option may be used to override this setting.

       <b>warningsautodryrun</b>
               Switches  on the <u>dryrun</u> option (if not enabled already), as soon as the configuration file parser
               encounters non-fatal warnings. This option was introduced to avoid destructive behaviour  due  to
               incorrect lines in any of the configuration files. (default value: <u>true</u>)

   <b>Deprecated</b> <b>Settings</b>
       <b>verbose</b>
           This  setting  has  no  effect and will be removed in a later version. Use an appropriate `<u>verbosity</u>'
           setting instead.

       <b>quiet</b>
           This setting has no effect and will be removed in a later version.  Use  an  appropriate  `<u>verbosity</u>'
           setting instead.

       <b>quiet_skip</b>
           This  setting  has  no  effect and will be removed in a later version. Use an appropriate `<u>verbosity</u>'
           setting instead.

       <b>debug</b>
           This setting has no effect and will be removed in a later version.  Use  an  appropriate  `<u>verbosity</u>'
           setting instead.

   <b>User</b> <b>defined</b> <b>variables</b>
       You  can  use  the  <b>set</b>  command  in arenamerc files. This way the user can define his own variables. The
       namespace is separate from <b>arename</b>'s normal settings. (That means, you cannot,  for  example,   overwrite
       the internal <u>template</u> variable with this command.)

       The sytnax is quite simple (and <b>different</b> to normal settings on purpose!):

       <b>set</b> <u>varname</u> = <u>value</u>

       There may be an arbitrary amount of whitespace around the equal sign (including no whitespace at all). If
       you  want to have a value that starts in a whitespace character, you may start the value with a backslash
       character (just like with the normal settings, a leading backslash is always ignored).

       You may also set user defined variables on the command line by using the <u>--userset</u> option:

         % arename --userset variable0=value
         % arename -u variable0=value

       User defined variables are useful to make hooks configurable (see "HOOKS" below). Starting with version 4
       of <b>arename</b>, user defined variables may also be defined within sections, which (just like  normal  option)
       makes them applicable only if said section is used for a given file.

</pre><h4><b>TEMPLATE</b> <b>FORMAT</b></h4><pre>
       <b>arename</b>'s templates are fairly easy to understand, but powerful.

       At  simplest,  a  template  is  just a fixed character string. However, that would not be exactly useful,
       because then every file you would ever want to rename would be getting the exact same name. That  is  why
       <b>arename</b>  is  able  to  expand  certain  expressions  with  information  gathered  from the file's tagging
       information.

       An expression basically looks like one of the following forms:

       <b>&amp;</b><u>identifier</u>
               This is  the  `<b>trivial</b>'  expression.  It  will  expand  to  the  information  stored  within  the
               corresponding  tag. If the tag in question is not available, the expansion of the template string
               will fail.

       <b>&amp;</b><u>identifier</u><b>[</b><u>length</u><b>]</b>
               The `<b>sized</b>' expression. The <u>length</u> modifier in square brackets defines  the  maximum  length,  to
               which the expression should be expanded.

               That  means,  if  the  artist of a file reveals to be '<u>Frank</u> <u>Zappa</u>', then using '<b>&amp;artist[1]</b>' will
               expand to '<u>F</u>'.

       <b>&amp;{</b><u>identifier</u><b>:</b><u>default-template</u><b>}</b>
               This is the first complex expression, called `<b>complex-default</b>'. When the tag,  which  corresponds
               to  `<u>identifier</u>'  is  available,  this expression will expand exactly like the trivial expression
               would.

               If it is <b>not</b> available though, the expansion doesn't fail,  but  instead  the  `<u>default-template</u>'
               string is expanded.

       <b>&amp;{</b><u>identifier</u><b>?</b><u>set-template</u><b>!</b><u>unset-template</u><b>}</b>
               This  expansion is called `<b>complex-set-unset</b>'. Again, what will be used during template expansion
               depends on whether the tag which corresponds to `<u>identifier</u>' is set or not.

               If it is <b>set</b>, the string <u>set-template</u> is expanded; if it is <b>unset</b>, the <u>unset-template</u>  string  is
               used.

       Both simple expansions may be used with braces, like the complex expansions are:

       <b>&amp;{</b><u>identifier</u><b>}</b>
               This is equal to `<b>&amp;identifier</b>'.

       <b>&amp;{</b><u>identifier[length]</u><b>}</b>
               And this is equal to `<b>&amp;identifier[length]</b>'.

       Backslashes  are special in template strings, because they are used to quote characters that bear special
       meaning (for example, to get a ampersand character, you need to use "<b>\&amp;</b>"). To get an actual backslash  in
       the  resulting  string,  you  need  to use a backslash, quoted by a backslash. A backslash on non-special
       characters is silently dropped.

   <b>Nesting</b> <b>expressions</b>
       In complex expressions, the strings called `<u>default-template</u>', `<u>set-template</u>'  and  `<u>unset-template</u>'  are
       subject to regular template expansion. Hence, expressions like the following are possible:

         "&amp;{album?&amp;album/!}"

       If  `<b>album</b>'  were  set,  it  would  expand to its value followed by a slash; otherwise it would expand to
       nothing. Using this, it is fairly easy to deal with album-less tracks:

         "&amp;artist/&amp;{album?&amp;album/&amp;tracknumber. !-no-album-/}&amp;tracktitle"

       That will effectively use the following template if `<b>album</b>' is set:

         "&amp;artist/&amp;album/&amp;tracknumber. &amp;tracktitle"

       But if it is not set, it will instead use this:

         "&amp;artist/-no-album-/&amp;tracktitle"

       Caution has to be taken if certain characters are to be used within conditional template expressions. For
       example, to use a closing curly bracket in either of them, it  needs  to  be  quoted  using  a  backslash
       character.

       Similarly, if an exclamation mark is to be used in a `<u>set-template</u>', it needs to be quoted by a backslash
       to avoid the character being interpreted as the end of the `<u>set-template</u>' string.

   <b>Available</b> <b>expression</b> <b>identifiers</b>
       The data, that is expanded is derived from tagging information in the audio files. There are two kinds of
       information  available. One is the purely informational tag (like a track's artist) and the other further
       describes the format of the audio file (like the file's bitrate).

       If you are defining a lot of templates on the command line, you may  find  that  these  identifiers  take
       quite  a while to type. If the <u>template_aliases</u> option is set, you may use shorter alias names instead of
       the the real identifier. Available aliases are listed with their corresponding idetifier below.

       This is a list of all informational identifiers available for <b>all</b> file-types:

       <b>album</b>   The album the currently processed track is part of. (alias: <u>al</u>)

       <b>artist</b>  The artist for the current track. (alias: <u>ar</u>)

       <b>compilation</b>
               Compilation tags are not very stable across different file types.  Usually,  this  is  set  to  a
               string  like  "<u>Various</u>  <u>Artists</u>" for tracks that are part of some sort of compilation album (like
               motion picture sound-tracks). (alias: <u>cmp</u>)

       <b>genre</b>   The genre or content type of the audio file. (alias: <u>gn</u>)

       <b>tracknumber</b>
               The number of the position of the track on the disc. Obviously. However, this can be in the  form
               of  '12' or '12/23'. In the second form, only the part left of the slash is used. The tracknumber
               is a little special, as you can define to what width it should be padded with zeros on  the  left
               (see <u>tnpad</u> setting in "SETTINGS"). (alias: <u>tn</u>)

       <b>tracktitle</b>
               The title of the currently processed track. (alias: <u>tt</u>)

       <b>year</b>    Chronological  information  about  the track (usually the year a song was written or the year the
               album a track is part of was released). (alias: <u>yr</u>)

       Here is a list of file-format information tag available for <b>all</b> file-types:

       <b>bitrate</b> The bitrate the file was recorded/encoded with. (alias: <u>br</u>)

       <b>channels</b>
               The number of channels available in the file (for example, this is `2' for stereo files). (alias:
               <u>ch</u>)

       <b>length_ms</b>
               The length of the track in milli-seconds. (alias: <u>ln</u>)

       <b>samplerate</b>
               The samplerate the file was recorded/encoded with. (alias: <u>sr</u>)

       For <b>all</b> file-types, the following tags are generated from the ones listed above (for convenience):

       <b>kbitrate</b>
               Kilobits per second (bitrate / 1000). (alias: <u>kbr</u>)

       <b>ksamplerate</b>
               Kilosamples per second (samplerate / 1000). (alias: <u>ksr</u>)

       <b>length_sec</b>
               The length of the track in seconds. (alias: <u>ls</u>)

       Some tags are only available for certain file-types. They are always called `<u>type</u><b>_*</b>'. File-type  specific
       identifiers do not have alias names. Here is a list of those tags:

       <b>flac_wordsize</b>
               The word-size used in a flac file. `24' if samples are 24 bits wide.

       <b>mp3_id3_version</b>
               The version of the id3 tag used in mp3 files (e.g. "<b>ID3v2.3.0</b>").

       <b>wav_id3_version</b>
               The same as `<u>mp3_id3_version</u>', but for wave files.

</pre><h4><b>EXIT</b> <b>STATUS</b></h4><pre>
       <b>arename</b>  returns  zero  if  everything  went  fine; non-zero on fatal problems. This may change in future
       versions.

</pre><h4><b>HOOKS</b></h4><pre>
       Before we start, a word of warning: Hooks can solve a lot of problems.  That amount of flexibility  comes
       at  its  price. All data passed to hook functions are <b>references</b> to the <b>actual</b> <b>data</b> in the script (except
       for the namespace argument, which is a copy). If you write hooks carelessly, arename  will  get  back  at
       you! HOOKS ARE A BIG HAMMER, THAT CAN CRUSH PROBLEMS AS WELL AS LIMBS!

       <u>You</u> <u>have</u> <u>been</u> <u>warned!</u>

   <b>Discussion</b>
       The  reason  for  implementing  hooks  was  to  have a simple way of post processing tags, filenames etc.
       without having to invent own magic in the configuration files,  when  Perl  has  regular  expressions  on
       steriods anyway. Hooks can do more then pure pre and post processing, because they are called in numerous
       places and give broad access to the script's data structures. Still, post processing is probably the most
       useful feature they implement.

       Hooks  are  just  Perl  subroutines, which are defined in one of two files (see "FILES"). They are run at
       certain events during the execution of arename. The contents of the argument list for each  hook  depends
       on what hook is called (see the "List of hook events" below).  However, the first argument (argument zero
       aka. $_[0]) to all hooks is the hook namespace, the subroutine is called in.

       The  global  hooks file is read before the local one, which means, that this local file may overwrite and
       extend the definitions from the global file, as much as Perl permits. This also means,  that  hooks  from
       the  local  file  are  run  <u>after</u>  the ones from the global file (unless you are using your own method of
       registering hooks; but if you do so, you know what you are doing anyway).

       Subroutines must be registered to arename, to be known as hooks.  Once registered, a  subroutine  can  be
       removed from the known hooks, if requested (see "Utility subroutines" below).

       The  keys  in  various  data  hashes  passed  to  the  hooks  can be one of the following: <u>album</u>, <u>artist</u>,
       <u>compilation</u>, <u>genre</u>, <u>tracknumber</u>, <u>tracktitle</u>, <u>year</u>.

   <b>Utility</b> <b>subroutines</b>
       <u>Registration</u> <u>subroutines</u>

       There are two subroutines, that are used to tell arename about subroutines, you defined that shall become
       hooks.

       <b>register_hook</b>(<u>event</u>, <u>coderef</u>)
           Registers  a   <u>code</u>   <u>reference</u>   (read:   your   subroutine)   for   the   given   <u>event</u>.   Example:
           register_hook('startup', \&amp;custom_banner);

       <b>remove_hook</b>(<u>event</u>, <u>coderef</u>)
           Removes  <b>all</b>  entries  of  the  <u>code</u>  <u>reference</u>  for the given <u>event</u>. Example: remove_hook('startup',
           \&amp;custom_banner);

           If the coderef was added more than once, all entries are removed.

       <u>File</u> <u>access</u> <u>and</u> <u>manipulation</u>

       The currently processed file name can be accessed via two subroutines:

       <b>get_file</b>()
           Returns the current file name as a string. This way, you can get the name of the currently  processed
           file in every hook.

       <b>set_file</b>(<u>file</u> <u>name</u> <u>string</u>)
           This gives you the opportunity of manipulating the current file name.  Be careful using this, because
           if you break the file name, <b>arename</b> cannot work properly.

       With  these,  you could even change the file name of the processed file, while <b>arename</b> works on it (which
       you really should only do, if you know what you are doing).

       <u>User-defined-variable</u> <u>subroutines</u>

       Hooks can also use the data from user defined variables, via their Perl interface:

       <b>user_get</b>(<u>setting</u>)
           Returns the current value of <u>setting</u>. This is always a scalar value.

       <b>user_set</b>(<u>setting</u>, <u>value</u>)
           Change the value of <u>setting</u> to <u>value</u>.

       Here is an example for user defined settings:

         # Assume, the user set the myvar-variable to "bar" in his
         # configuration file
         my $foo = user_get('myvar');    # $foo is now "bar"
         user_set('foo', "bar, baz");
         my $foo = user_get('myvar');    # $foo is now "bar, baz"

       <u>API</u> <u>for</u> <u>accessing</u> <u>to</u> <u>arename's</u> <u>internal</u> <u>configuration</u>

       You can also access the configuration data of <b>arename</b> itself:

       <b>get_opt</b>(<u>setting</u>)
           Returns the current value of <u>setting</u>. This is always a scalar value.

       <b>set_opt</b>(<u>setting</u>, <u>value</u>)
           Change the value of <u>setting</u> to <u>value</u>.

       A list  of  settings  <b>arename</b>  will  use:  canonicalize,  dryrun,  force,  hookerrfatal,  prefix,  quiet,
       quiet_skip,  readstdin,  sepreplace,  tnpad,  usehooks,  uselocalhooks,  uselocalrc,  verbose, verbosity,
       comp_template and template.

       If you want to actually change these  settings,  you  should  have  a  profound  knowledge  of  <b>arename</b>'s
       internals. Be careful.

       <u>API</u> <u>for</u> <u>default_*</u> <u>settings</u>

       If you need to access the current values of the <u>default_*</u> settings:

       <b>get_defaults</b>(<u>tagname</u>)
           Returns the value of default_<u>tagname</u>.

       <b>get_default_keys</b>()
           Returns a lexically sorted array of tag names of currently set <u>default_*</u> values.

       <b>set_default</b>(<u>tagname</u>, <u>value</u>)
           Sets the value of default_<u>tagname</u> to <u>value</u>.

       <u>Miscellaneous</u> <u>subroutines</u>

       And finally, a few miscellaneous functions ARename.pm provides, that might be of interest.

       <b>choose_template</b>(<u>data</u> <u>hash</u> <u>reference</u>)
           Return  the  appropriate template (<u>normal</u> versus <u>compiliation</u> template) by the data in the referenced
           data hash.

       <b>expand_template</b>(<u>template</u> <u>string</u>, <u>data</u> <u>hash</u> <u>reference</u>)
           Return the expanded version of <u>template</u> <u>string</u>. The information, that is used to do the expansion  is
           taken from the referenced data hash.

           Keep  in  mind that this function calls hooks itself. Avoid endless loops!  See "Hooks when expanding
           the template" for details.

       <b>ensure_dir</b>(<u>directory</u>)
           Makes sure <u>directory</u> exists. Think: mkdir -p <u>directory</u>

       <b>file_eq</b>(<u>file0</u>, <u>file1</u>)
           Checks if the name <u>file0</u> and the name <u>file1</u> point to the same file.  Returns <u>0</u>, if one  of  the  file
           names does not exist or if the files do not point to the same file, <u>1</u> otherwise.

           Dies if it cannot stat one of the given files.

       <b>tag_supported</b>(<u>tagname</u>)
           Returns <u>1</u> if the tag <u>tagname</u> is supported by arename, <u>0</u> otherwise.

       <b>template_deep_inspect</b>(<u>template_string</u>)
           This  tokenises a template string and then looks at the whole token tree, and tries to figure out any
           potential problems in it.

           If tokenisation already failed, a negative value is returned. In case of any warnings with the  token
           tree, zero is returned. If nothing came up, a positive value is returned.

           This subroutine is called for the `<u>template</u>' and `<u>comp_template</u>' strings in all sections when <b>arename</b>
           starts.  If  the  user  chooses  to  change a template string in a hook it is recommended to use this
           function to avoid any errors due to broken templates.

       <b>xrename</b>(<u>src</u>, <u>dest</u>)
           Renames <u>src</u> to <u>dest</u>. Works across file systems, too. Dies if something fails.

   <b>List</b> <b>of</b> <b>hook</b> <b>events</b>
       This is a complete list of hooks events with descriptions.

       The first argument (argument number "zero") for every hook is the name space they are called in. To  find
       out the name of the currently processed file, use the <u>get_file</u>() subroutine described above.

       <u>Hooks</u> <u>in</u> <u>the</u> <u>main</u> <u>loop</u>

       These hooks are called at the highest level of the script.

       <b>canonicalize</b>
           This  is called in the middle of the file name canonicalization process (but <b>only</b> if the <u>canonicalize</u>
           setting is set).

           You can get the current file name via <u><b>get_file()</b></u>. The canonicalized file name is handed  to  you  via
           the  hook's  arguments. The value from this argument will be assigned to the processed filename after
           the execution of this hook.

           <u>Arguments</u>: <b>1:</b> canonicalized file name

       <b>next_file_early</b>
           Called at the start of the main loop <u>before</u> any file checks and canonicalizations  (if  enabled)  are
           done.

           <u>Arguments</u>:

       <b>next_file_late</b>
           Called in the main loop <u>after</u> the file checks and canonicalizations are done.

           In  this  context,  file  checks  means tests for read-access and for whether the processed file is a
           symlink. <b>arename</b> will refuse to process symlinks and files it cannot read.

           <u>Arguments</u>:

       <b>file_done</b>
           Called in the main loop <u>after</u> the file has been processed (unless <b>filetype_unknown</b> was triggered, see
           below).

           <u>Arguments</u>:

       <b>filetype_unknown</b>
           Called in the main loop <u>after</u> the file was tried to be processed but the file  type  (the  extension,
           specifically) was unknown.

           <u>Arguments</u>:

       <b>filetype_known</b>
           Called  when  it has been established, that the file in question should theoretically be supported by
           arename.

           <u>Arguments</u>: <b>1:</b> the current file name extension <b>2:</b> the file type that has been detected

       <b>pre_rename</b>
           This is triggered directly before the actual file renaming process starts. All information about  the
           file has been gathered at this point.

           <u>Arguments</u>:  <b>1:</b>  the file type, <b>2:</b> the extension that will be used to assemble the target filename, <b>3:</b>
           the data hash

       <u>Hooks</u> <u>in</u> <u>the</u> <u>renaming</u> <u>procedure</u>

       When all data has been gathered, <b>arename</b> will go on to actually rename the files to their new destination
       name (which will be generated in the process, see "Hooks when expanding the template" below).

       <b>pre_apply_defaults</b>
           This is the first action to be taken in the renaming process. It is called even  before  the  default
           values are applied.

           <u>Arguments</u>: <b>1:</b> data hash, <b>2:</b> file extension

       <b>pre_template</b>
           Called <u>before</u> template expansions have been done.

           <u>Arguments</u>: <b>1:</b> data hash, <b>2:</b> file extension

       <b>post_template</b>
           Called  <u>after</u>  the  template  has  been  expanded and the new file name has been completely generated
           (including the destination directory prefix).

           <u>Arguments</u>: <b>1:</b> data hash, <b>2:</b> file extension <b>3:</b> the generated new filename (including directory  prefix
           and file extension)

       <b>post_ensure_dir</b>
           The  destnation  directory  for the new file name may contain sub directories, which currently do not
           exist. This hook is called <u>after</u> it is ensured, every directory portion exists.

           <u>Arguments</u>: <b>1:</b> data hash, <b>2:</b> file extension <b>3:</b> the generated new filename (including directory  prefix
           and file extension)

       <b>post_rename</b>
           This is the final hook in the actual renaming process. The file has been renamed at this point.

           <u>Arguments</u>:  <b>1:</b> data hash, <b>2:</b> file extension <b>3:</b> the generated new filename (including directory prefix
           and file extension)

       <u>Hooks</u> <u>when</u> <u>expanding</u> <u>the</u> <u>template</u>

       These hooks are called when the template string is filled with the data from tags in the audio files.  To
       do  this,  <b>arename</b>  first  tokenises  the  template  string into a data structure, which is later used to
       assemble the target file name.

       <b>pre_expand_template</b>
           Called before any expansions are done.

           <u>Arguments</u>: <b>1:</b> the template string, <b>2:</b> the data hash

       <b>post_expand_template</b>
           Called after all expansions have been done, right before the the resulting string is returned.

           <u>Arguments</u>: <b>1:</b> the template string (fully expanded), <b>2:</b> the data hash

       <b>expand_template_pre_expand_tag</b>
           Called each time the value of an existing tag is expanded. This may be more than once, as tags may be
           used as often in a template as the user requires. At each point,  this  hook  will  be  called  right
           before the data was retrieved and post-processed (like zero-padding the `tracknumber' tag).

           <u>Arguments</u>: <b>1:</b> the tag's name, <b>2:</b> the data hash

       <b>expand_template_unknown_tag</b>
           This hook gets called whenever arename tries to expand a tag within a template, for which it does not
           have any data available.

           <u>Arguments</u>:  <b>1:</b>  the  supposedly  expanded string (`undef' upon hook-entry), <b>2:</b> the tag's name, <b>2:</b> the
           data hash

       <b>expand_template_post_expand_tag</b>
           Called   each   time   the   value   of   an   existing   tag   is   expanded.    Like    with    the
           `expand_template_pre_expand_tag' hook, this may be more than once.

           At each point, this hook will be called right after the data was retrieved and post-processed.

           <u>Arguments</u>: <b>1:</b> the value, which will be used for expansion, <b>2:</b> the tag's name, <b>2:</b> the data hash

       <u>Hooks</u> <u>while</u> <u>gathering</u> <u>information</u>

       These  hooks  are  triggered  while  the  tag  information  is  extracted from the audio files <b>arename</b> is
       processing. This is done in two steps. First the Audio::Scan module is used to scan for the raw meta data
       information from the current file. Then <b>arename</b>'s data hash is being filled with that data.

       <b>pre_scan</b>
           This hook is called right before any scanning has been done.

           <u>Arguments</u>: <b>1:</b> the type of the file being processed (`ogg' for ogg vorbis files)

       <b>post_scan</b>
           This is triggered as soon as Audio::Scan is done processing the current file,  but  before  <b>arename</b>'s
           data hash has been filled.

           <u>Arguments</u>:  <b>1:</b>  the  type  of  the  file  being  processed  (`ogg' for ogg vorbis files), <b>2:</b> the data
           structure returned by `Audio::Scan'

       <b>ambiguoustag</b>
           When the data hash is being filled it is possible, that for one <b>arename</b> tag (like `artist')  multiple
           values  where  returned  by  Audio::Scan. This hook is triggered as soon as such a tag with ambiguous
           values is processed.

           The hook may be used for maximum control over how ambiguous values  are  handled.  To  do  this,  the
           ambiguous  value  (passed  as  an  array  reference in the second argument) should be turned into the
           desired scalar value.

           If the array reference is left as it is, the usual `ambiguoususefirst' behaviour is followed. The the
           option's description for details.

           <u>Arguments</u>: <b>1:</b> the name of the tag with the ambiguous value, <b>2:</b> its current (ambiguous) value, <b>3:</b>  the
           data  hash  in its current form (obviously not all values will have been filled in at this point), <b>4:</b>
           the data structure returned by Audio::Scan (see its documentation for details)

       <b>post_fill</b>
           Finally, the `post_fill' hook is called after the data hash has been filled. This is a good spot,  if
           post-processing the values of individual tag is desired.

           <u>Arguments</u>:  <b>1:</b>  return  code  of the filling process (`0' in case of an error, `1' otherwise), <b>2:</b> the
           type of the file being processed (`ogg' for ogg vorbis files), <b>3:</b>  the  data  structure  returned  by
           `Audio::Scan', <b>4:</b> the data hash.

       <u>Miscellaneous</u> <u>hooks</u>

       <b>apply_defaults</b>
           This  is  triggered  before  values  from the default_* settings are applied to missing values in the
           audio file. This hook is <u>only</u> run if a default value for a tag will be used!

           <u>Arguments</u>: <b>1:</b> data hash, <b>2:</b> current key

       <b>startup</b>
           Called directly after all the module initialisation is  done,  at  the  very  start  of  the  script.
           Configuration  files  will have been read, as well as hook files (obviously) and command line options
           will have been handled at this point already.

           This hook may be useful for postprocessing the configuration as well as for debugging.

           <u>Arguments</u>: <b>1:</b> program name, <b>2:</b> its version, <b>3:</b> configuration hash, <b>4:</b> array of supported tags, <b>5:</b> the
           program's argument list

       <b>normal_quit</b>
           Called at the end of the script. This is reached if nothing fatal happened.

           <u>Arguments</u>: <b>1:</b> the program's argument list

   <b>Example</b>
       First, to give you an idea about how argument passing works in <b>arename</b> hooks, take a look  at  these  two
       `<u>startup</u>' hooks:

         sub print_banner0 {
             # Yes, everything handed over to hooks (except for the namespace)
             # are references. This gives us simple two way communication, but
             # it's also a pretty big responsibility to handle. Think before
             # screwing up. :)
             my ($ns, $nameref, $verref, $confref, $suptagsref, $argvref) = @_;

             print "BANNER! $$nameref $$verref " . $argvref-&gt;[0] . "\n";

             # The following actually changes the $NAME variable, used
             # in ARename.pm, which doesn't hurt, because it is only the
             # name of the program running. For other hook events and variables,
             # there might be vital data in one of the references. Be very careful
             # before changing values willy-nilly.
             $$nameref =~ s/name/blame/;
         }
         register_hook('startup', \&amp;print_banner0);

         sub print_banner1 {
             my ($ns, $nameref, $verref, $confref, $suptagsref, $argvref) = @_;

             # Since $NAME used to be 'arename', the substitution
             # in print_banner0() will have changed $NAME to 'areblame',
             # which $$nameref below will reveal.
             print "ANOTHER BANNER! $$nameref $$verref\n";
         }
         register_hook('startup', \&amp;print_banner1);

       After  that  short  introduction,  here  is  something  more  useful. The following hook will replace all
       whitespace with underscores in generated file names.

         sub replace_spaces_by_underscore {
             my ($templateref, $datref) = @_;
             $$templateref =~ s/\s+/_/g;
         }
         register_hook('post_expand_template', \&amp;replace_spaces_by_underscore);

       This will do the trick, but there  is  actually  an  <b>arename</b>  extension  that  is  distributed  with  the
       application,  which  is designed to solve exactly this problem. See "EXTENSIONS" below for details on the
       `<b>ReplaceSpaces</b>' extension module.

</pre><h4><b>EXTENSIONS</b></h4><pre>
       <b>Arename</b> comes with a number of extensions implemented as Perl modules, to solve a number of  more  exotic
       tasks, that are not addressed within the core Module `ARename.pm'.

       All  of  these  bundled  extension  modules (which are all children of the `ARename' namespace) are fully
       documented within their source files and is accessible by the `<b>perldoc</b>' utility:

         % perldoc ARename::ReplaceSpaces

       Modules, that implement a hook all feature a convenience subroutine  `<b>register()</b>',  which  registers  the
       hook  code  to  the  event  the  author  intended.  For  example, to use the `<b>RenameSpaces</b>' hook, add the
       following to your hooks file:

         use ARename::ReplaceSpaces;
         ARename::ReplaceSpaces::register();

       Here is a list of bundled extensions:

       <b>BailOut</b>
           This is a hook, to terminate <b>arename</b> after reading all configuration files.  It is designed  to  help
           with testing new settings and is probably not very useful for the average user.

       <b>KillNonASCII</b>
           This module implements a hook that removes all non-ascii characters from generated file names.

           This  is  also  the  extension  module  you  want  look at, if you are interested in writing your own
           extension modules. It features all code and documentation, that is required of an extension  to  make
           it into the <b>arename</b> package.

       <b>MP3RecodeToUTF8</b>
           `<b>MP3RecodeToUTF8</b>'  is  a hook that attempts to cure problems caused by the different types of mp3 tag
           versions and the encoding mess that comes along with it.

           If you are on an UTF-8 based system and wonder why <b>arename</b> produces latin1 characters for mp3  files,
           that have non-ascii characters in their tags, this extension may be of help.

       <b>RemoveEmptySubdirs</b>
           This  module  tries  to  remove empty directories that might have emerged due to files being moved to
           another directory in the renaming process.

       <b>ReplaceSpaces</b>
           This is a hook that replaces whitespace in  generated  filenames  by  a  configurable  string,  which
           defaults to a single underscore character <b>"_"</b>.

       <b>Template::Albumless</b>
           Implements  a  hook  to handle tracks with missing `album' tags, by offering to switch to an entirely
           different template for these files.

       <b>TNPadAdjustByAlbum</b>
           This module allows one to adjust the value of the `<u>tnpad</u>' core setting based  on  patterns  that  are
           matched against a track's `album' tag.

           The idea is to have proper padding the large audiobooks that contain more than 99 tracks.

       There  are  a few utility modules, that implement helpful code that is shared among all bundled extension
       modules. Some of the code may be useful to user defined hooks or extension modules, too.

       <b>Util::Files</b>
           This is a module that contains file-related utilities.

       <b>Util::IsNumber</b>
           The purpose of this module is to provide helper subroutines, which check if values look like  numbers
           (integers, unsigned integers, etc.).

       <b>Util::RegisterModuleHook</b>
           This implements a helper to quickly create the `<u><b>register()</b></u>' subroutine of hook extension modules.

       <b>Util::VersionGuard</b>
           This  module  implements  a  subroutine,  that is designed to detect version discrepancies between an
           extension module and the `ARename.pm' core module.

   <b>User-defined</b> <b>Extensions</b>
       Say you have decided, that the `<u><b>ARename::Extension::register()</b></u>' idea to encapsulate extensions is a  good
       idea  and  now  you want to do that yourself, too. Maybe because, you just like to keep your `hooks' file
       tidy or maybe because you want to contribute your awesome extension code back to <b>arename</b>. Either way, you
       will need a place to put your Perl code.

       <b>Arename</b> does <b>NOT</b> set such a place by default. But it is very easy to set it  yourself  from  the  `hooks'
       file:

         BEGIN {
             unshift @INC, $ENV{HOME} . q{/.arename};
         }

       That way you can place Perl modules into `<u><a href="file:~/.arename">~/.arename</a></u>' like this:

         <a href="file:~/.arename/ARename/MyAwesomeExtension.pm">~/.arename/ARename/MyAwesomeExtension.pm</a>

       And then just use it like the bundled extensions:

         use ARename::MyAwesomeExtension.pm;
         ARename::MyAwesomeExtension::register();

       Take  a  look  at  the `<b>KillNonASCII.pm.in</b>' file in the `<b>arename</b>' sources, for details about how to write
       proper extensions and how to make them configurable and how to make use of the bundled utilities to  make
       your extension appropriate for inclusion with `<b>arename</b>'.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man1/find.1.html">find</a>(1)</b>, <b><a href="../man1/xargs.1.html">xargs</a>(1)</b>, <b><a href="../man1/perldoc.1.html">perldoc</a>(1)</b>, <b>Audio::Scan</b>.

       <b>ARename::BailOut</b>,     <b>ARename::KillNonASCII</b>,    <b>ARename::MP3RecodeToUTF8</b>,    <b>ARename::RemoveEmptySubdirs</b>,
       <b>ARename::ReplaceSpaces</b>, <b>ARename::TNPadAdjustByAlbum</b>.

       <b>ARename::Template::Albumless</b>

       <b>ARename::Util::Files</b>,             <b>ARename::Util::IsNumber</b>,             <b>ARename::Util::RegisterModuleHook</b>,
       <b>ARename::Util::VersionGuard</b>.

</pre><h4><b>VERSION</b></h4><pre>
       This manual describes <b>arename</b> version <u>4.1</u>.

</pre><h4><b>AUTHOR</b></h4><pre>
       Frank Terbeck &lt;<a href="mailto:ft@bewatermyfriend.org">ft@bewatermyfriend.org</a>&gt;,

       Please report bugs.

</pre><h4><b>LICENCE</b></h4><pre>
        Copyright 2007-2017
        Frank Terbeck &lt;<a href="mailto:ft@bewatermyfriend.org">ft@bewatermyfriend.org</a>&gt;, All rights reserved.

        Redistribution and use in source and binary forms, with or without
        modification, are permitted provided that the following conditions
        are met:

          1. Redistributions of source code must retain the above
             copyright notice, this list of conditions and the following
             disclaimer.
          2. Redistributions in binary form must reproduce the above
             copyright notice, this list of conditions and the following
             disclaimer in the documentation and/or other materials
             provided with the distribution.

         THIS SOFTWARE IS PROVIDED "AS IS" AND ANY EXPRESS OR IMPLIED
         WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES
         OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
         DISCLAIMED. IN NO EVENT SHALL THE AUTHOR OR CONTRIBUTORS OF THE
         PROJECT BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
         EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
         PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
         PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY
         OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
         (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
         OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.

perl v5.34.0                                       2022-02-26                                         <u><a href="../man1/arename.1.html">arename</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>