<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ncbo - netCDF Binary Operator</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/nco">nco_5.3.2-1build1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       ncbo - netCDF Binary Operator

</pre><h4><b>SYNTAX</b></h4><pre>
       ncbo  [-3]  [-4]  [-5] [-6] [-7] [-A] [--bfr <u>sz_byt</u>]<u>[-C]</u>[-c] [--cmp <u>cmp_sng</u>] [--cnk_byt <u>sz_byt</u>]<u>[--cnk_csh</u>
       <u>sz_byt</u>]<u>[--cnk_dmn</u> <u>nm,sz_lmn</u>] [--cnk_map <u>map</u>] [--cnk_min <u>sz_byt</u>]  [--cnk_plc  <u>plc</u>]  [--cnk_scl  <u>sz_lmn</u>]<u>[-D</u>
       <u>dbg_lvl</u>]  [-d  <u>dim</u>,[  <u>min</u>][,[  <u>max</u>]]]  [-F]  [--fl_fmt=fmt] [-G <u>gpe_dsc</u>] [-g <u>grp</u>[,...]]  [--glb <u>att_name=</u>
       <u>att_val</u>]] [-H] [-h] [--hdf] [--hdr_pad <u>sz_byt</u>]<u>[--hpss_try]</u> [-L <u>dfl_lvl</u>] [-l <u>path</u>] [--msa]  [--no_cll_msr]
       [--no_frm_trm] [--no_tmp_fl] [-O] [-p <u>path</u>] [--qnt <u>var1</u>[, <u>var2</u>[,...]]= <u>prc</u>]] [--qnt_alg <u>alg_nm]</u> [-R] [-r]
       [--ram_all] [-t <u>thr_nbr</u>] [--uio] [--unn] [-v <u>var</u>[,...]]  [-X <u>box</u>] [-x] <u>file_1</u> <u>file_2</u> <u>file_3</u>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>ncbo</b>  subtracts variables in <u>file_2</u> from the corresponding variables (those with the same name) in <u>file_1</u>
       and stores the results in <u>file_3</u>.  Variables in <u>file_2</u> are <u>broadcast</u>  to  conform  to  the  corresponding
       variable  in <u>file_1</u> if necessary.  Broadcasting a variable means creating data in non-existing dimensions
       from the data in existing dimensions.   For  example,  a  two  dimensional  variable  in  <u>file_2</u>  can  be
       subtracted  from  a  four, three, or two (but not one or zero) dimensional variable (of the same name) in
       <b>file_1</b>.  This functionality allows the user to compute anomalies from the mean.  Note that  variables  in
       <u>file_1</u>  are  <u>not</u> broadcast to conform to the dimensions in <u>file_2</u>.  Thus, <b>ncbo</b>, the number of dimensions,
       or <u>rank</u>, of any processed variable in <u>file_1</u> must be greater than or  equal  to  the  rank  of  the  same
       variable  in  <u>file_2</u>.   Furthermore,  the size of all dimensions common to both <u>file_1</u> and <u>file_2</u> must be
       equal.

       When computing anomalies from the mean it is often the case  that  <u>file_2</u>  was  created  by  applying  an
       averaging  operator  to a file with the same dimensions as <u>file_1</u>, if not <u>file_1</u> itself.  In these cases,
       creating <u>file_2</u> with <b>ncra</b> rather than <b>ncwa</b> will cause the <b>ncbo</b> operation to fail.  For  concreteness  say
       the  record  dimension  in  <b>file_1</b>  is  <b>time</b>.   If  <u>file_2</u> were created by averaging <u>file_1</u> over the <b>time</b>
       dimension with the <b>ncra</b> operator rather than with the  <b>ncwa</b>  operator,  then  <u>file_2</u>  will  have  a  <b>time</b>
       dimension  of  size  1  rather than having no <b>time</b> dimension at all In this case the input files to <b>ncbo</b>,
       <u>file_1</u> and <u>file_2</u>, will have unequally sized <b>time</b> dimensions which causes <b>ncbo</b> to fail.  To prevent  this
       from occurring, use <b>ncwa</b> to remove the <b>time</b> dimension from <u>file_2</u>.  An example is given below.

       <b>ncbo</b>  will  never  difference coordinate variables or variables of type <b>NC_CHAR</b> or <b>NC_BYTE</b>.  This ensures
       that coordinates like (e.g., latitude and longitude)  are  physically  meaningful  in  the  output  file,
       <u>file_3</u>.   This  behavior  is  hardcoded.  <b>ncbo</b> applies special rules to some NCAR CSM fields (e.g., <b>ORO</b>).
       See <u>NCAR</u> <u>CSM</u> <u>Conventions</u> for a complete description.  Finally, we note that <b>ncflint</b> (ncflint netCDF  File
       Interpolator)   can   be  also  perform  file  subtraction  (as  well  as  addition,  multiplication  and
       interpolation).

</pre><h4><b>EXAMPLES</b></h4><pre>
       Say files <b>85_0112.nc</b> and <b>86_0112.nc</b> each contain 12 months of data.  Compute the change  in  the  monthly
       averages from 1985 to 1986:
              ncbo 86_0112.nc 85_0112.nc 86m85_0112.nc

       The  following examples demonstrate the broadcasting feature of <b>ncbo</b>.  Say we wish to compute the monthly
       anomalies of <b>T</b> from the yearly average of <b>T</b> for the year 1985.  First we create the 1985 average from the
       monthly data, which is stored with the record dimension <b>time</b>.
              ncra 85_0112.nc 85.nc
              ncwa -O -a time 85.nc 85.nc
       The second command, <b>ncwa</b>, gets rid of the <b>time</b> dimension of size 1 that <b>ncra</b> left in <b>85.nc</b>.  Now none  of
       the  variables  in  <b>85.nc</b> has a <b>time</b> dimension.  A quicker way to accomplish this is to use <b>ncwa</b> from the
       beginning:
              ncwa -a time 85_0112.nc 85.nc
       We are now ready to use <b>ncbo</b> to compute the anomalies for 1985:
              ncbo -v T 85_0112.nc 85.nc t_anm_85_0112.nc
       Each of the 12 records in <b>t_anm_85_0112.nc</b> now contains the monthly deviation of <b>T</b> from the  annual  mean
       of <b>T</b> for each gridpoint.

       Say  we  wish  to  compute the monthly gridpoint anomalies from the zonal annual mean.  A <u>zonal</u> <u>mean</u> is a
       quantity that has been averaged over the longitudinal (or <u>x</u>) direction.  First we  use  <b>ncwa</b>  to  average
       over  longitudinal  direction  <b>lon</b>,  creating  <b>xavg_85.nc</b>,  the zonal mean of <b>85.nc</b>.  Then we use <b>ncbo</b> to
       subtract the zonal annual means from the monthly gridpoint data:
              ncwa -a lon 85.nc xavg_85.nc
              ncbo 85_0112.nc xavg_85.nc tx_anm_85_0112.nc
       Assuming <b>85_0112.nc</b> has dimensions <b>time</b> and <b>lon</b>, this example only works if <b>xavg_85.nc</b> has no <b>time</b> or <b>lon</b>
       dimension.

       As a final example, say we have five years of monthly data (i.e., 60 months) stored in  <b>8501_8912.nc</b>  and
       we  wish  to  create a file which contains the twelve month seasonal cycle of the average monthly anomaly
       from the five-year mean of this data.  The following method is just one permutation of  many  which  will
       accomplish the same result.  First use <b>ncwa</b> to create the file containing the five-year mean:
              ncwa -a time 8501_8912.nc 8589.nc
       Next use <b>ncbo</b> to create a file containing the difference of each month's data from the five-year mean:
              ncbo 8501_8912.nc 8589.nc t_anm_8501_8912.nc
       Now use <b>ncks</b> to group the five January anomalies together in one file, and use <b>ncra</b> to create the average
       anomaly  for all five Januarys.  These commands are embedded in a shell loop so they are repeated for all
       twelve months:
              foreach idx (01 02 03 04 05 06 07 08 09 10 11 12)
              ncks -F -d time,,,12 t_anm_8501_8912.nc foo.
              ncra foo. t_anm_8589_.nc
              end
       Note that <b>ncra</b> understands the <b>stride</b> argument so the two commands inside the loop may be  combined  into
       the single command
              ncra -F -d time,,,12 t_anm_8501_8912.nc foo.
       Finally, use <b>ncrcat</b> to concatenate the 12 average monthly anomaly files into one twelve-record file which
       contains the entire seasonal cycle of the monthly anomalies:
              ncrcat t_anm_8589_??.nc t_anm_8589_0112.nc

</pre><h4><b>AUTHOR</b></h4><pre>
       <b>NCO</b> manual pages written by Charlie Zender and originally formatted by Brian Mays.

</pre><h4><b>REPORTING</b> <b>BUGS</b></h4><pre>
       Report bugs to &lt;<a href="http://sf.net/bugs/">http://sf.net/bugs/</a>?group_id=3331&gt;.

</pre><h4><b>COPYRIGHT</b></h4><pre>
       Copyright Â© 1995-present Charlie Zender
       This  is  free  software;  see  the  source  for  copying conditions.  There is NO warranty; not even for
       MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       The full documentation for <b>NCO</b> is maintained as a Texinfo manual called the <b>NCO</b> <b>Users</b> <b>Guide.</b>  Because <b>NCO</b>
       is mathematical in nature, the documentation includes TeX-intensive portions not viewable  on  character-
       based  displays.   Hence  the only complete and authoritative versions of the <b>NCO</b> <b>Users</b> <b>Guide</b> are the PDF
       (recommended), DVI, and Postscript versions at &lt;<a href="http://nco.sf.net/nco.pdf">http://nco.sf.net/nco.pdf</a>&gt;,  &lt;<a href="http://nco.sf.net/nco.dvi">http://nco.sf.net/nco.dvi</a>&gt;,
       and    &lt;<a href="http://nco.sf.net/nco.ps">http://nco.sf.net/nco.ps</a>&gt;,    respectively.    HTML   and   XML   versions   are   available   at
       &lt;<a href="http://nco.sf.net/nco.html">http://nco.sf.net/nco.html</a>&gt; and &lt;<a href="http://nco.sf.net/nco.xml">http://nco.sf.net/nco.xml</a>&gt;, respectively.

       If the <b>info</b> and <b>NCO</b> programs are properly installed at your site, the command

              <b>info</b> <b>nco</b>

       should give you access to the complete manual, except for the TeX-intensive portions.

</pre><h4><b>HOMEPAGE</b></h4><pre>
       The <b>NCO</b> homepage at &lt;<a href="http://nco.sf.net">http://nco.sf.net</a>&gt; contains more information.

                                                                                                         <u><a href="../man1/NCBO.1.html">NCBO</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>