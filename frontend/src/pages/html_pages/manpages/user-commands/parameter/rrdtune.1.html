<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>rrdtune - Modify some basic properties of a Round Robin Database</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/rrdtool">rrdtool_1.7.2-4.2ubuntu2_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       rrdtune - Modify some basic properties of a Round Robin Database

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>rrdtool</b> <b>tune</b> <u>filename</u> [<b>--heartbeat</b>|<b>-h</b> <u>ds-name</u>:<u>heartbeat</u>] [<b>--minimum</b>|<b>-i</b> <u>ds-name</u>:<u>min</u>] [<b>--maximum</b>|<b>-a</b> <u>ds-</u>
       <u>name</u>:<u>max</u>] [<b>--data-source-type</b>|<b>-d</b> <u>ds-name</u>:<u>DST</u>] [<b>--data-source-rename</b>|<b>-r</b> <u>old-name</u>:<u>new-name</u>]
       [<b>--deltapos</b>|<b>-p</b> <u>scale-value</u>] [<b>--deltaneg</b>|<b>-n</b> <u>scale-value</u>] [<b>--failure-threshold</b>|<b>-f</b> <u>failure-threshold</u>]
       [<b>--window-length</b>|<b>-w</b> <u>window-length</u>] [<b>--alpha</b>|<b>-x</b> <u>adaption-parameter</u>] [<b>--beta</b>|<b>-y</b> <u>adaption-parameter</u>]
       [<b>--gamma</b>|<b>-z</b> <u>adaption-parameter</u>] [<b>--gamma-deviation</b>|<b>-v</b> <u>adaption-parameter</u>]
       [<b>--smoothing-window</b>|<b>-s</b> <u>fraction-of-season</u>] [<b>--smoothing-window-deviation</b>|<b>-S</b> <u>fraction-of-season</u>]
       [<b>--aberrant-reset</b>|<b>-b</b> <u>ds-name</u>] [<b>--step</b>|<b>-t</b> <u>newstep</u>] [<b>--daemon</b>|<b>-D</b> <u>address</u>] [<b>DEL:</b><u>ds-name</u>] [<b>DS:</b><u>ds-spec</u>]
       [<b>DELRRA:</b><u>index</u>] [<b>RRA:</b><u>rra-spec</u>] [<b>RRA#</b><u>index</u>:[+-=]&lt;number]&gt;

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The tune option allows you to alter some of the basic configuration values stored in the header area of a
       Round Robin Database (<b>RRD</b>).

       One application of the <b>tune</b> function is to relax the validation rules on an <b>RRD</b>. This allows you to fill
       a new <b>RRD</b> with data available in larger intervals than what you would normally want to permit. Be very
       careful with tune operations for COMPUTE data sources.  Setting the <u>min</u>, <u>max</u>, and  <u>heartbeat</u> for a
       COMPUTE data source without changing the data source type to a non-COMPUTE <b>DST</b> WILL corrupt the data
       source header in the <b>RRD</b>.

       A second application of the <b>tune</b> function is to set or alter parameters used by the specialized function
       <b>RRAs</b> for aberrant behavior detection.

       Still another application is to add or remove data sources (DS) or add / remove or alter some aspects of
       round-robin archives (RRA). These operations are not really done in-place, but rather generate a new RRD
       file internally and move it over the original file. Data is kept intact during these operations.  For
       even more in-depth modifications you may review the <b>--source</b> and <b>--template</b> options of the <b>create</b>
       function which allow you to combine multiple RRD files into a new one and which is even more clever in
       what data it is able to keep or "regenerate".

       <u>filename</u>
               The name of the <b>RRD</b> you want to tune.

       <b>--heartbeat</b>|<b>-h</b> <u>ds-name</u>:<u>heartbeat</u>
               modify the <u>heartbeat</u> of a data source. By setting this to a high value the RRD will accept things
               like one value per day.

       <b>--minimum</b>|<b>-i</b> <u>ds-name</u>:<u>min</u>
               alter  the  minimum  value  acceptable  as  input  from the data source.  Setting <u>min</u> to 'U' will
               disable this limit.

       <b>--maximum</b>|<b>-a</b> <u>ds-name</u>:<u>max</u>
               alter the maximum value acceptable as input from the  data  source.   Setting  <u>max</u>  to  'U'  will
               disable this limit.

       <b>--data-source-type</b>|<b>-d</b> <u>ds-name</u>:<u>DST</u>
               alter the type <b>DST</b> of a data source.

       <b>--data-source-rename</b>|<b>-r</b> <u>old-name</u>:<u>new-name</u>
               rename a data source.

       <b>--deltapos</b>|<b>-p</b> <u>scale-value</u>
               Alter  the deviation scaling factor for the upper bound of the confidence band used internally to
               calculate violations for the FAILURES <b>RRA</b>. The default value is 2. Note that  this  parameter  is
               not  related to graphing confidence bounds which must be specified as a CDEF argument to generate
               a graph with confidence bounds. The graph scale factor need not to  agree  with  the  value  used
               internally by the FAILURES <b>RRA</b>.

       <b>--deltaneg</b>|<b>-n</b> <u>scale-value</u>
               Alter  the deviation scaling factor for the lower bound of the confidence band used internally to
               calculate violations for the FAILURES <b>RRA</b>. The default value  is  2.  As  with  <b>--deltapos</b>,  this
               argument is unrelated to the scale factor chosen when graphing confidence bounds.

       <b>--failure-threshold</b>|<b>-f</b> <u>failure-threshold</u>
               Alter  the  number  of  confidence bound violations that constitute a failure for purposes of the
               FAILURES <b>RRA</b>. This must be an integer less than or equal to the window  length  of  the  FAILURES
               <b>RRA</b>.  This restriction is not verified by the tune option, so one can reset failure-threshold and
               window-length simultaneously. Setting this option will reset the count of violations to 0.

       <b>--window-length</b>|<b>-w</b> <u>window-length</u>
               Alter the number of time points in the temporal window for determining failures. This must be  an
               integer  greater than or equal to the window length of the FAILURES <b>RRA</b> and less than or equal to
               28. Setting this option will reset the count of violations to 0.

       <b>--alpha</b>|<b>-x</b> <u>adaption-parameter</u>
               Alter the intercept  adaptation  parameter  for  the  Holt-Winters  forecasting  algorithm.  This
               parameter must be between 0 and 1.

       <b>--beta</b>|<b>-y</b> <u>adaption-parameter</u>
               Alter  the  slope adaptation parameter for the Holt-Winters forecasting algorithm. This parameter
               must be between 0 and 1.

       <b>--gamma</b>|<b>-z</b> <u>adaption-parameter</u>
               Alter the seasonal coefficient adaptation parameter for the SEASONAL <b>RRA</b>. This parameter must  be
               between 0 and 1.

       <b>--gamma-deviation</b>|<b>-v</b> <u>adaption-parameter</u>
               Alter the seasonal deviation adaptation parameter for the DEVSEASONAL <b>RRA</b>. This parameter must be
               between 0 and 1.

       <b>--smoothing-window</b>|<b>-s</b> <u>fraction-of-season</u>
               Alter the size of the smoothing window for the SEASONAL <b>RRA</b>. This must be between 0 and 1.

       <b>--smoothing-window-deviation</b>|<b>-S</b> <u>fraction-of-season</u>
               Alter the size of the smoothing window for the DEVSEASONAL <b>RRA</b>. This must be between 0 and 1.

       <b>--aberrant-reset</b>|<b>-b</b> <u>ds-name</u>
               This  option  causes  the  aberrant  behavior detection algorithm to reset for the specified data
               source; that is, forget all it is  has  learnt  so  far.   Specifically,  for  the  HWPREDICT  or
               MHWPREDICT <b>RRA</b>, it sets the intercept and slope coefficients to unknown. For the SEASONAL <b>RRA</b>, it
               sets  all  seasonal  coefficients  to  unknown.  For  the  DEVSEASONAL  <b>RRA</b>, it sets all seasonal
               deviation coefficients to unknown. For the FAILURES <b>RRA</b>, it erases the  violation  history.  Note
               that  reset  does  not  erase  past  predictions (the values of the HWPREDICT or MHWPREDICT <b>RRA</b>),
               predicted deviations (the values of the DEVPREDICT <b>RRA</b>), or failure history (the  values  of  the
               FAILURES <b>RRA</b>).  This option will function even if not all the listed <b>RRAs</b> are present.

               Due  to  the  implementation of this option, there is an indirect impact on other data sources in
               the RRD. A smoothing algorithm is applied to SEASONAL and DEVSEASONAL values on a periodic basis.
               During bootstrap initialization this smoothing is deferred. For efficiency, the implementation of
               smoothing is not data source specific. This means that utilizing reset for one data  source  will
               delay  running the smoothing algorithm for all data sources in the file. This is unlikely to have
               serious consequences, unless the data being collected for the non-reset data sources is unusually
               volatile during the reinitialization period of the reset data source.

               Use of this tuning option is advised when the behavior of the data source time series changes  in
               a drastic and permanent manner.

       <b>--step</b>|<b>-t</b> <u>newstep</u>
               Changes the step size of the RRD to newstep.

               TODO: add proper documentation

       <b>--daemon</b>|<b>-D</b> <u>address</u>
               <b>NOTE</b>:  Because  the  <b>-d</b>  (small  letter 'd') option was already taken, this function (unlike most
               other) uses the capital letter 'D' for the one-letter option to name the cache daemon.

               If given, <b>RRDtool</b> will try to connect to the caching daemon rrdcached at <u>address</u> and will fail if
               the connection cannot be established. If the connection is successfully established the data  for
               the <u>filename</u> will be flushed before performing the copy/modify operation. Afterwards the <u>filename</u>
               will be forgotten by the cache daemon, so that the next access using the caching daemon will read
               the proper structure.

               This  sequence  of  operations is designed to achieve a consistent overall result with respect to
               RRD internal file consistency when using one of the <b>DS</b> or <b>RRA</b> changing operations (that  is:  the
               resulting  file  should  always be a valid RRD file, regardless of concurrent updates through the
               caching daemon).  Regarding data consistency such  guarantees  are  not  made:  Without  external
               synchronization concurrent updates may be lost.

               For a list of accepted formats, see the <b>-l</b> option in the rrdcached manual.

       <b>DEL:</b><u>ds-name</u>
               Every  data  source  named with a DEL specification will be removed.  The resulting RRD will miss
               both the definition and the data for that data source. Multiple DEL specifications are permitted.

       <b>DS:</b><u>ds-spec</u>
               For every such data source definition (for the exact syntax see the <b>create</b> command), a  new  data
               source will be added to the RRD. Multiple DS specifications are permitted.

       <b>DELRRA:</b><u>index</u>
               Removes  the  RRA with index <u>index</u>. The index is zero-based, that is the very first RRA has index
               0.

       <b>RRA:</b><u>rra-spec</u>
               For every such archive definition (for the exact syntax see the <b>create</b> command), a new  RRA  will
               be added to the output RRD. Multiple RRA specifications are permitted.

       <b>RRA#</b><u>index</u>:[+-=]&lt;number&gt;
               Adds/removes  or sets the given number of rows for the RRA with index &lt;index&gt;. The index is zero-
               based, that is the very first RRA has index 0.

</pre><h4><b>EXAMPLE</b> <b>1</b></h4><pre>
       "rrdtool tune data.rrd -h in:100000 -h out:100000 -h through:100000"

       Set the minimum required heartbeat for data sources 'in', 'out' and 'through' to 100'000 seconds which is
       a little over one day in data.rrd.  This would allow to feed old data from MRTG-2.0  right  into  RRDtool
       without generating *UNKNOWN* entries.

</pre><h4><b>EXAMPLE</b> <b>2</b></h4><pre>
       "rrdtool tune monitor.rrd --window-length 5 --failure-threshold 3"

       If  the  FAILURES  <b>RRA</b>  is  implicitly  created,  the default window-length is 9 and the default failure-
       threshold is 7. This command now defines a failure as 3 or more violations in a temporal window of 5 time
       points.

</pre><h4><b>EXAMPLE</b> <b>3</b></h4><pre>
       "rrdtool tune some.rrd DEL:a RRA#0:+10"

       Delete the data source named <b>a</b> and extend the very first archive by 10 rows.  This will in  fact  replace
       the  input  RRD with a new RRD keeping all existing data.  For most practical use cases this is identical
       to a real in-place modification.

</pre><h4><b>AUTHORS</b></h4><pre>
       Tobias Oetiker &lt;<a href="mailto:tobi@oetiker.ch">tobi@oetiker.ch</a>&gt;, Peter Stamfest &lt;<a href="mailto:peter@stamfest.at">peter@stamfest.at</a>&gt;

1.7.2                                              2025-03-04                                         <u><a href="../man1/RRDTUNE.1.html">RRDTUNE</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>