<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>dh_builtusing - set dpkg-gencontrol substitution variables for the Built-Using field</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/dh-builtusing">dh-builtusing_0.0.7_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       dh_builtusing - set dpkg-gencontrol substitution variables for the Built-Using field

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>dh_builtusing</b> [<u>debhelper</u> <u>options</u>] [<b>-c</b> <u>control</u>]

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The <b>dh_builtusing</b> tool belongs to the debhelper collection.  It defines <b>dpkg-gencontrol</b> substitutions
       variables useful in the <b>Built-Using</b> fields of the control file.

       Each item in such fields is the source package of a build dependency, with an exact (<b>=</b>) restriction to
       the version used during the build.  This version is not known in advance, and must be passed to <b>dpkg-</b>
       <b>gencontrol</b> via substitution variables.

       <b>dh_builtusing</b> searches the <b>Built-Using</b> or <b>Static-Built-Using</b> fields of each binary <u>package</u> in the source
       control file for substitution of variables named <b>dh-builtusing:</b><u>pattern</u>, looks for <u>pattern</u> in the <b>Build-</b>
       <b>Depends</b> fields, deduces the source package and version, then defines the variable accordingly in
       <b>debian/</b><u>package</u><b>.substvars</b>.

       It is enabled when the <b>Build-Depends</b> field, or a more specific <b>Build-Depends-Arch</b> or <b>Build-Depends-Indep</b>
       variant, mentions the <b>dh-sequence-builtusing</b> virtual package.

</pre><h4><b>OPTIONS</b></h4><pre>
       Common debhelper command line options and environment variables are recognized.  In particular,
       <b>dh_builtusing</b> only defines variables for the packages selected by options like <b>-a</b>, <b>-I</b> and <b>-p</b>.

       <b>-c</b> <u>control</u>
           Read <u>control</u> instead of <b>debian/control</b>.

</pre><h4><b>PATTERN</b> <b>SYNTAX</b></h4><pre>
   <b>Character</b> <b>encoding</b>
       In  order  to ensure a one-to-one correspondence between dependency names and substitution variables, the
       dot chararcter (<b>.</b>) and the plus character (<b>+</b>) characters are respectively encoded as <b>D</b> and <b>P</b>.

       For example, the <b>dh-builtusing:gPP</b> variable refers to the <b>g++</b> dependency.

   <b>Architecture</b> <b>suffix</b>
       The variable name may carry an architecture suffix, with the same meaning as in <b>Build-Depends</b>.

       For example, the <b>dh-builtusing:libc6:amd64</b> variable may be used to disambiguate coinstallable variants.

   <b>Wildcards</b>
       It may not be convenient that the variable name in <b>Built-Using</b> duplicates the full name in <b>Build-Depends</b>.
       For example, when the name contains a version, the maintainer  may  not  want  to  manually  update  both
       fields.

       For such situations, the <b>S</b> character is allowed in <u>pattern</u>, and matches any sequence of characters in the
       name of a build-dependency, like the star character (<b>*</b>) in glob patterns or the <b>.*</b> regular expressions.

       The  wildcard  may  select  multiple installed packages, but an error is reported if there is no match at
       all.

       For example, the <b>dh-builtusing:gcc-S-source</b> variable may refer to either <b>gcc-12-source</b>, or <b>gcc-13-source</b>,
       or both.

</pre><h4><b>ARCHITECTURE</b> <b>AND</b> <b>PROFILE</b> <b>RESTRICTIONS</b></h4><pre>
       A dependency may be disabled by architecture or build profile restrictions, in  which  case  the  version
       does  not matter, or can even not be computed if the dependency is not installed.  However, the expansion
       must result in a syntactically valid control file.

       If an architecture or build profile restriction follows a  detected  variable  substitution  and  is  not
       satisfied in the current context, <b>dh_builtusing</b> sets the variable to <b>disabled-by-restriction</b> <b>(=</b> <b>0)</b>.

       For  example,  <b>${dh-builtusing:libc6}</b>  <b>[amd64]</b>  expands  as  <b>libc6</b>  <b>(=</b>  <u>VERSION</u><b>)</b>  <b>[amd64]</b>  when  the host
       architecture matches, else as <b>disabled-by-restriction</b> <b>(=</b> <b>0)</b> <b>[amd64]</b>.

</pre><h4><b>DEBHELPER</b> <b>INTEGRATION</b></h4><pre>
   <b>DH</b> <b>SEQUENCER</b>
       The details described here should rarely be needed.

       The <b>dh-sequence-builtusing</b> virtual package in the <b>Build-Depends</b> field (or a variant) is equivalent to the
       <b>dh-builtusing</b> concrete package, except that the <b>--with=builtusing</b> option is implicitly passed to <b>dh</b>.

       The <b>--with=builtusing</b> option has the same effect than  an  <b>execute_before_dh_gencontrol</b>  target  invoking
       <b>dh_builtusing</b>.

       When  debugging,  it  may be convenient to define an <b>override_dh_builtusing</b> target invoking <b>dh_builtusing</b>
       with the <b>-v</b> option.

   <b>OTHER</b> <b>DEBHELPER</b> <b>TOOLS</b>
       This part is only of interest for writers of other debhelper tools.

       Other debhelper tools define variables for the <b>Built-Using</b> field, that  may  refer  to  dependencies  not
       explicitly  listed  in  the  <b>Build-Depends</b> field.  So that such tools may delegate the computation of the
       source version, <b>dh_builtusing</b>

       •   reads <b>debian/</b><u>package</u><b>.substvars</b> files, in addition to the main control file.

       •   searches all installed packages when no explicit build dependency is found.

       For example, <b>dh_sphinxdoc</b> may define <b>sphinxdoc:Built-Using</b> as <b>dh-builtusing:libjs-sphinxdoc</b>.

</pre><h4><b>BUGS</b> <b>AND</b> <b>LIMITATIONS</b></h4><pre>
       Optional assignments in substvars files (<b>?=</b>) are treated as normal assignments.

       When a <b>Build-Depends</b> field contains an alternative (<b>|</b>), both options may match.

</pre><h4><b>EXAMPLE</b></h4><pre>
       If <b>debian/control</b> contains

         Source: foo
         Build-Depends-Arch: dh-sequence-builtusing, gcc-12-source

         Package: bar
         Architecture: any
         Built-Using: ${dh-builtusing:gcc-S-source}

       then the dependency on <b>dh-sequence-builtusing</b> has the same effect than this construct in <b>debian/rules</b>.

         gcc_major = ...
         format = $${source:Package} (= $${source:Version})
         value != dpkg-query -Wf'$(format)' gcc-$(gcc_major)-source
         override_dh_gencontrol-arch:
               dh_gencontrol -a -- -Vdh-builtusing:gcc-S-source='$(value)'

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man7/debhelper.7.html">debhelper</a></b>(7), <b><a href="../man1/dh_gencontrol.1.html">dh_gencontrol</a></b>(1), <b><a href="../man5/deb-substvars.5.html">deb-substvars</a></b>(5)

</pre><h4><b>AUTHOR</b></h4><pre>
       Nicolas Boulenguez &lt;<a href="mailto:nicolas@debian.org">nicolas@debian.org</a>&gt;

0.0.7                                              2025-02-22                                   <u><a href="../man1/DH_BUILTUSING.1.html">DH_BUILTUSING</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>