<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>fs_cleanacl - Remove obsolete entries from an ACL</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/openafs-client">openafs-client_1.8.13.2-1ubuntu1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       fs_cleanacl - Remove obsolete entries from an ACL

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>fs</b> <b>cleanacl</b> [<b>-path</b> &lt;<u>dir/file</u> <u>path</u>&gt;+] [<b>-help</b>]

       <b>fs</b> <b>cl</b> [<b>-p</b> &lt;<u>dir/file</u> <u>path</u>&gt;+] [<b>-h</b>]

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The <b>fs</b> <b>cleanacl</b> command removes from the access control list (ACL) of each specified directory or file
       any entry that refers to a user or group that no longer has a Protection Database entry. Such an entry
       appears on the ACL as an AFS user ID number (UID) rather than a name, because without a Protection
       Database entry, the File Server cannot translate the UID into a name.

       Cleaning access control lists in this way not only keeps them from becoming crowded with irrelevant
       information, but also prevents the new possessor of a recycled AFS UID from obtaining access intended for
       the former possessor of the AFS UID. (Note that recycling UIDs is not recommended in any case.)

</pre><h4><b>OPTIONS</b></h4><pre>
       <b>-path</b> &lt;<u>dir/file</u> <u>path</u>&gt;+
           Names  each  directory for which to clean the ACL (specifying a filename cleans its directory's ACL).
           If this argument is omitted, the current working directory's ACL is cleaned.

           Specify the read/write path to each directory, to avoid the failure that results from  attempting  to
           change a read-only volume. By convention, the read/write path is indicated by placing a period before
           the cell name at the pathname's second level (for example, <u>/afs/.example.com</u>). For further discussion
           of  the concept of read/write and read-only paths through the filespace, see the <b>fs</b> <b>mkmount</b> reference
           page.

       <b>-help</b>
           Prints the online help for this command. All other valid options are ignored.

</pre><h4><b>OUTPUT</b></h4><pre>
       If there are no obsolete entries on the ACL, the following message appears:

          Access list for &lt;path&gt; is fine.

       Otherwise, the output reports the resulting state of the ACL, following the header

          Access list for &lt;path&gt; is now

       At the same time, the following error message appears for each file in the cleaned directories:

          fs: '&lt;filename&gt;': Not a directory

</pre><h4><b>EXAMPLES</b></h4><pre>
       The following example illustrates the cleaning of the ACLs on the current working directory  and  two  of
       its subdirectories. Only the second subdirectory had obsolete entries on it.

          % fs cleanacl -path . ./reports ./sources
          Access list for . is fine.
          Access list for ./reports is fine.
          Access list for ./sources is now
          Normal rights:
             system:authuser rl
             pat rlidwka

</pre><h4><b>PRIVILEGE</b> <b>REQUIRED</b></h4><pre>
       The  issuer  must have the "a" (administer) permission on each directory's ACL (or the ACL of each file's
       parent directory); the directory's owner and the members of  the  system:administrators  group  have  the
       right implicitly, even if it does not appear on the ACL.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man1/fs_listacl.1.html">fs_listacl</a></b>(1), <b><a href="../man1/fs_mkmount.1.html">fs_mkmount</a></b>(1)

</pre><h4><b>COPYRIGHT</b></h4><pre>
       IBM Corporation 2000. &lt;<a href="http://www.ibm.com/">http://www.ibm.com/</a>&gt; All Rights Reserved.

       This  documentation  is covered by the IBM Public License Version 1.0.  It was converted from HTML to POD
       by software written by Chas Williams and Russ Allbery, based on  work  by  Alf  Wachsmann  and  Elizabeth
       Cassell.

OpenAFS                                            2025-03-21                                     <u><a href="../man1/FS_CLEANACL.1.html">FS_CLEANACL</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>