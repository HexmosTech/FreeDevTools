<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>vos_lock - Locks a VLDB volume entry</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/openafs-client">openafs-client_1.8.13.2-1ubuntu1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       vos_lock - Locks a VLDB volume entry

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>vos</b> <b>lock</b> <b>-id</b> &lt;<u>volume</u> <u>name</u> <u>or</u> <u>ID</u>&gt;
           [<b>-cell</b> &lt;<u>cell</u> <u>name</u>&gt;]
           [<b>-noauth</b>] [<b>-localauth</b>]
           [<b>-verbose</b>] [<b>-encrypt</b>] [<b>-noresolve</b>]
           [<b>-config</b> &lt;<u>config</u> <u>directory</u>&gt;]
           [<b>-help</b>]

       <b>vos</b> <b>lo</b> <b>-i</b> &lt;<u>volume</u> <u>name</u> <u>or</u> <u>ID</u>&gt;
           [<b>-c</b> &lt;<u>cell</u> <u>name</u>&gt;]
           [<b>-noa</b>] [<b>-l</b>] [<b>-v</b>] [<b>-e</b>] [<b>-nor</b>]
           [<b>-co</b> &lt;<u>config</u> <u>directory</u>&gt;]
           [<b>-h</b>]

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The <b>vos</b> <b>lock</b> command locks the Volume Location Database (VLDB) entry for the indicated volume, blocking
       any operation that requires a write to that entry. The lock applies to all of the volume versions
       associated with the entry, not just the one specified with the <b>-id</b> argument.

       To unlock a single VLDB entry, use the <b>vos</b> <b>unlock</b> command. To unlock several entries, or all locked
       entries in the VLDB, use the <b>vos</b> <b>unlockvldb</b> command.

</pre><h4><b>CAUTIONS</b></h4><pre>
       Do not use this command in normal circumstances. It is useful for guaranteeing that the volume stays
       unchanged when there is reason to believe that volume operations cannot properly lock VLDB volume entries
       as they normally do to synchronize with one another.

</pre><h4><b>OPTIONS</b></h4><pre>
       <b>-id</b> &lt;<u>volume</u> <u>name</u> <u>or</u> <u>ID</u>&gt;
           Specifies either the complete name or volume ID number of a volume of the any of the three types.

       <b>-cell</b> &lt;<u>cell</u> <u>name</u>&gt;
           Names  the  cell  in which to run the command. Do not combine this argument with the <b>-localauth</b> flag.
           For more details, see <b><a href="../man1/vos.1.html">vos</a></b>(1).

       <b>-noauth</b>
           Assigns the unprivileged identity "anonymous" to the issuer.  Do  not  combine  this  flag  with  the
           <b>-localauth</b> flag. For more details, see <b><a href="../man1/vos.1.html">vos</a></b>(1).

       <b>-localauth</b>
           Constructs  a  server  ticket  using  a  key from the local <u>/etc/openafs/server/KeyFile</u> file. The <b>vos</b>
           command interpreter presents it to the  Volume  Server  and  Volume  Location  Server  during  mutual
           authentication.  Do  not combine this flag with the <b>-cell</b> argument or <b>-noauth</b> flag. For more details,
           see <b><a href="../man1/vos.1.html">vos</a></b>(1).

       <b>-verbose</b>
           Produces on the standard output stream a detailed trace of the command's execution. If this  argument
           is omitted, only warnings and error messages appear.

       <b>-encrypt</b>
           Encrypts  the command so that the operation's results are not transmitted across the network in clear
           text. This option is available in OpenAFS versions 1.4.11 or later and 1.5.60 or later.

       <b>-noresolve</b>
           Shows all servers as IP addresses instead of the DNS name.  This  is  very  useful  when  the  server
           address is registered as 127.0.0.1 or when dealing with multi-homed servers. This option is available
           in OpenAFS versions 1.4.8 or later and 1.5.35 or later.

       <b>-config</b> &lt;<u>configuration</u> <u>directory</u>&gt;
           Set  the location of the configuration directory to be used. This defaults to <u>/etc/openafs</u>, except if
           <b>-localauth</b> is specified, in which case the default is <u>/etc/openafs/server</u>. This option allows the use
           of alternative configuration locations for testing purposes.

       <b>-help</b>
           Prints the online help for this command. All other valid options are ignored.

</pre><h4><b>EXAMPLES</b></h4><pre>
       The following command locks the VLDB entry for "user.terry".

          % vos lock user.terry

</pre><h4><b>PRIVILEGE</b> <b>REQUIRED</b></h4><pre>
       The issuer must be listed in the <u>/etc/openafs/server/UserList</u> file on  the  machine  specified  with  the
       <b>-server</b> argument and on each database server machine. If the <b>-localauth</b> flag is included, the issuer must
       instead be logged on to a server machine as the local superuser "root".

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man1/vos.1.html">vos</a></b>(1), <b><a href="../man1/vos_unlock.1.html">vos_unlock</a></b>(1), <b><a href="../man1/vos_unlockvldb.1.html">vos_unlockvldb</a></b>(1)

</pre><h4><b>COPYRIGHT</b></h4><pre>
       IBM Corporation 2000. &lt;<a href="http://www.ibm.com/">http://www.ibm.com/</a>&gt; All Rights Reserved.

       This  documentation  is covered by the IBM Public License Version 1.0.  It was converted from HTML to POD
       by software written by Chas Williams and Russ Allbery, based on  work  by  Alf  Wachsmann  and  Elizabeth
       Cassell.

OpenAFS                                            2025-03-21                                        <u><a href="../man1/VOS_LOCK.1.html">VOS_LOCK</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>