<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>dnssec-settime - set the key timing metadata for a DNSSEC key</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/bind9-utils">bind9-utils_9.20.4-3ubuntu1.2_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       dnssec-settime - set the key timing metadata for a DNSSEC key

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>dnssec-settime</b>  [<b>-f</b>]  [<b>-K</b>  directory] [<b>-L</b> ttl] [<b>-P</b> date/offset] [<b>-P</b> ds date/offset] [<b>-P</b> sync date/offset]
       [<b>-A</b> date/offset] [<b>-R</b> date/offset]  [<b>-I</b>  date/offset]  [<b>-D</b>  date/offset]  [<b>-D</b>  ds  date/offset]  [<b>-D</b>  sync
       date/offset]  [<b>-S</b> key] [<b>-i</b> interval] [<b>-h</b>] [<b>-V</b>] [<b>-v</b> level] [<b>-E</b> engine] {keyfile} [<b>-s</b>] [<b>-g</b> state] [<b>-d</b> state
       date/offset] [<b>-k</b> state date/offset] [<b>-r</b> state date/offset] [<b>-z</b> state date/offset]

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>dnssec-settime</b> reads a DNSSEC private key file and sets the key timing metadata as specified by  the  <u>-P</u>,
       <u>-A</u>, <u>-R</u>, <u>-I</u>, and <u>-D</u> options. The metadata can then be used by <u>dnssec-signzone</u> or other signing software to
       determine when a key is to be published, whether it should be used for signing a zone, etc.

       If none of these options is set on the command line, <b>dnssec-settime</b> simply prints the key timing metadata
       already stored in the key.

       When   key   metadata   fields   are  changed,  both  files  of  a  key  pair  (<b>Knnnn.+aaa+iiiii.key</b>  and
       <b>Knnnn.+aaa+iiiii.private</b>) are regenerated.

       Metadata fields are stored in the private file. A human-readable description  of  the  metadata  is  also
       placed  in  comments in the key file. The private file's permissions are always set to be inaccessible to
       anyone other than the owner (mode 0600).

       When working with state files, it is possible to update the timing metadata in those files as  well  with
       <u>-s</u>.   With  this option, it is also possible to update key states with <u>-d</u> (DS), <u>-k</u> (DNSKEY), <u>-r</u> (RRSIG of
       KSK), or <u>-z</u> (RRSIG of ZSK). Allowed states are HIDDEN, RUMOURED, OMNIPRESENT, and UNRETENTIVE.

       The goal state of the key can also be  set  with  <u>-g</u>.  This  should  be  either  HIDDEN  or  OMNIPRESENT,
       representing whether the key should be removed from the zone or published.

       It is NOT RECOMMENDED to manipulate state files manually, except for testing purposes.

</pre><h4><b>OPTIONS</b></h4><pre>
       <b>-f</b>     This  option  forces  an update of an old-format key with no metadata fields. Without this option,
              <b>dnssec-settime</b> fails when attempting to update  a  legacy  key.  With  this  option,  the  key  is
              recreated  in  the new format, but with the original key data retained. The key's creation date is
              set to the present time. If no  other  values  are  specified,  then  the  key's  publication  and
              activation dates are also set to the present time.

       <b>-K</b> <b>directory</b>
              This option sets the directory in which the key files are to reside.

       <b>-L</b> <b>ttl</b> This  option  sets the default TTL to use for this key when it is converted into a DNSKEY RR. This
              is the TTL used when the key is imported into a zone, unless there was already a DNSKEY  RRset  in
              place,  in  which case the existing TTL takes precedence. If this value is not set and there is no
              existing DNSKEY RRset, the TTL defaults to the SOA TTL. Setting the  default  TTL  to  <b>0</b>  or  <b>none</b>
              removes it from the key.

       <b>-h</b>     This option emits a usage message and exits.

       <b>-V</b>     This option prints version information.

       <b>-v</b> <b>level</b>
              This option sets the debugging level.

       <b>-E</b> <b>engine</b>
              This option specifies the cryptographic hardware to use, when applicable.

              When  BIND  9  is  built  with OpenSSL, this needs to be set to the OpenSSL engine identifier that
              drives the cryptographic accelerator or hardware service module (usually <b>pkcs11</b>).

</pre><h4><b>TIMING</b> <b>OPTIONS</b></h4><pre>
       Dates can be expressed in the format YYYYMMDD or YYYYMMDDHHMMSS (which is  the  format  used  inside  key
       files),  or  'Day Mon DD HH:MM:SS YYYY' (as printed by <b>dnssec-settime</b> <b>-p</b>), or UNIX epoch time (as printed
       by <b>dnssec-settime</b> <b>-up</b>), or the literal <b>now</b>.

       The argument can be followed by <b>+</b> or <b>-</b> and an offset from the given time. The literal <b>now</b> can be  omitted
       before  an offset. The offset can be followed by one of the suffixes <b>y</b>, <b>mo</b>, <b>w</b>, <b>d</b>, <b>h</b>, or <b>mi</b>, so that it is
       computed in years (defined as 365 24-hour days, ignoring leap  years),  months  (defined  as  30  24-hour
       days), weeks, days, hours, or minutes, respectively. Without a suffix, the offset is computed in seconds.

       To unset a date, use <b>none</b>, <b>never</b>, or <b>unset</b>.

       All these formats are case-insensitive.

       <b>-P</b> <b>date/offset</b>
              This  option sets the date on which a key is to be published to the zone. After that date, the key
              is included in the zone but is not used to sign it.

              <b>ds</b> <b>date/offset</b>
                     This option sets the date on which DS records that match this key have  been  seen  in  the
                     parent zone.

              <b>sync</b> <b>date/offset</b>
                     This  option  sets  the date on which CDS and CDNSKEY records that match this key are to be
                     published to the zone.

       <b>-A</b> <b>date/offset</b>
              This option sets the date on which the key is to  be  activated.  After  that  date,  the  key  is
              included in the zone and used to sign it.

       <b>-R</b> <b>date/offset</b>
              This  option  sets the date on which the key is to be revoked. After that date, the key is flagged
              as revoked. It is included in the zone and is used to sign it.

       <b>-I</b> <b>date/offset</b>
              This option sets the date on which the key is to be retired. After that date,  the  key  is  still
              included in the zone, but it is not used to sign it.

       <b>-D</b> <b>date/offset</b>
              This option sets the date on which the key is to be deleted. After that date, the key is no longer
              included in the zone. (However, it may remain in the key repository.)

              <b>ds</b> <b>date/offset</b>
                     This  option  sets  the  date  on  which  the DS records that match this key have been seen
                     removed from the parent zone.

              <b>sync</b> <b>date/offset</b>
                     This option sets the date on which the CDS and CDNSKEY records that match this key  are  to
                     be deleted.

       <b>-S</b> <b>predecessor</b> <b>key</b>
              This  option  selects  a  key for which the key being modified is an explicit successor. The name,
              algorithm, size, and type of the predecessor key  must  exactly  match  those  of  the  key  being
              modified.  The  activation  date  of  the  successor  key  is  set to the inactivation date of the
              predecessor. The publication date is set to the activation date minus the prepublication interval,
              which defaults to 30 days.

       <b>-i</b> <b>interval</b>
              This option sets the prepublication  interval  for  a  key.  If  set,  then  the  publication  and
              activation dates must be separated by at least this much time. If the activation date is specified
              but  the  publication  date  is  not,  the  publication date defaults to this much time before the
              activation date; conversely, if the publication date is specified but  not  the  activation  date,
              activation is set to this much time after publication.

              If  the  key  is  being  created  as  an  explicit  successor  to  another  key,  then the default
              prepublication interval is 30 days; otherwise it is zero.

              As with date offsets, if the argument is followed by one of the suffixes <b>y</b>, <b>mo</b>, <b>w</b>, <b>d</b>,  <b>h</b>,  or  <b>mi</b>,
              the interval is measured in years, months, weeks, days, hours, or minutes, respectively. Without a
              suffix, the interval is measured in seconds.

</pre><h4><b>KEY</b> <b>STATE</b> <b>OPTIONS</b></h4><pre>
       To  test  dnssec-policy  it  may  be necessary to construct keys with artificial state information; these
       options are used by the testing framework for that purpose, but should never be used in production.

       Known key states are HIDDEN, RUMOURED, OMNIPRESENT, and UNRETENTIVE.

       <b>-s</b>     This option indicates that when setting key timing data, the state file should also be updated.

       <b>-g</b> <b>state</b>
              This option sets the goal state for this key. Must be HIDDEN or OMNIPRESENT.

       <b>-d</b> <b>state</b> <b>date/offset</b>
              This option sets the DS state for this key as of the specified date, offset from the current date.

       <b>-k</b> <b>state</b> <b>date/offset</b>
              This option sets the DNSKEY state for this key as of the specified date, offset from  the  current
              date.

       <b>-r</b> <b>state</b> <b>date/offset</b>
              This  option  sets  the  RRSIG  (KSK) state for this key as of the specified date, offset from the
              current date.

       <b>-z</b> <b>state</b> <b>date/offset</b>
              This option sets the RRSIG (ZSK) state for this key as of the  specified  date,  offset  from  the
              current date.

</pre><h4><b>PRINTING</b> <b>OPTIONS</b></h4><pre>
       <b>dnssec-settime</b> can also be used to print the timing metadata associated with a key.

       <b>-u</b>     This option indicates that times should be printed in Unix epoch format.

       <b>-p</b> <b>C/P/Pds/Psync/A/R/I/D/Dds/Dsync/all</b>
              This  option  prints  a  specific  metadata value or set of metadata values.  The <u>-p</u> option may be
              followed by one or more of the following letters or strings to indicate which value or  values  to
              print:  <b>C</b>  for  the  creation  date, <b>P</b> for the publication date, <b>Pds`</b> <b>for</b> <b>the</b> <b>DS</b> <b>publication</b> <b>date,</b>
              <b>``Psync</b> for the CDS and CDNSKEY publication date, <b>A</b> for the activation date, <b>R</b> for the  revocation
              date,  <b>I</b>  for  the  inactivation  date, <b>D</b> for the deletion date, <b>Dds</b> for the DS deletion date, and
              <b>Dsync</b> for the CDS and CDNSKEY deletion date. To print all of the metadata, use <b>all</b>.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <u><a href="../man8/dnssec-keygen.8.html">dnssec-keygen</a>(8)</u>, <u><a href="../man8/dnssec-signzone.8.html">dnssec-signzone</a>(8)</u>, BIND 9 Administrator Reference Manual, <u>RFC</u> <u>5011</u>.

</pre><h4><b>AUTHOR</b></h4><pre>
       Internet Systems Consortium

</pre><h4><b>COPYRIGHT</b></h4><pre>
       2025, Internet Systems Consortium

9.20.4-3ubuntu1.2-Ubuntu                           2024-12-03                                  <u><a href="../man1/DNSSEC-SETTIME.1.html">DNSSEC-SETTIME</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>