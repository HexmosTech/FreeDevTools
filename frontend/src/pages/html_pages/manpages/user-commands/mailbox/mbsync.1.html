<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>mbsync - synchronize IMAP4 and Maildir mailboxes</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/isync">isync_1.4.4-5build3_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       mbsync - synchronize IMAP4 and Maildir mailboxes

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>mbsync</b> [<u>options</u> ...] {{<u>channel</u>[<b>:</b><u>box</u>[{<b>,</b>|<b>\n</b>}...]]|<u>group</u>} ...|<b>-a</b>}

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>mbsync</b>  is a command line application which synchronizes mailboxes; currently Maildir and IMAP4 mailboxes
       are supported.  New messages, message deletions and  flag  changes  can  be  propagated  both  ways;  the
       operation set can be selected in a fine-grained manner.
       Synchronization  is  based on unique message identifiers (UIDs), so no identification conflicts can occur
       (unlike with some other mail synchronizers).  OTOH, <b>mbsync</b> is susceptible to UID  validity  changes  (but
       will recover just fine if the change is unfounded).  Synchronization state is kept in one local text file
       per mailbox pair; these files are protected against concurrent <b>mbsync</b> processes.  Mailboxes can be safely
       modified while <b>mbsync</b> operates (see <b>INHERENT</b> <b>PROBLEMS</b> below for a minor exception).  Multiple replicas of
       each mailbox can be maintained.

</pre><h4><b>OPTIONS</b></h4><pre>
       <b>-c</b>, <b>--config</b> <u>file</u>
              Read configuration from <u>file</u>.  By default, the configuration is read from <a href="file:~/.mbsyncrc.">~/.mbsyncrc.</a>

       <b>-a</b>, <b>--all</b>
              Select all configured channels. Any channel/group specifications on the command line are ignored.

       <b>-l</b>, <b>--list</b>
              Don't synchronize anything, but list all mailboxes in the selected channels and exit.

       <b>-C</b>[<b>f</b>][<b>n</b>], <b>--create</b>[<b>-far</b>|<b>-near</b>]
              Override any <b>Create</b> options from the config file. See below.

       <b>-R</b>[<b>f</b>][<b>n</b>], <b>--remove</b>[<b>-far</b>|<b>-near</b>]
              Override any <b>Remove</b> options from the config file. See below.

       <b>-X</b>[<b>f</b>][<b>n</b>], <b>--expunge</b>[<b>-far</b>|<b>-near</b>]
              Override any <b>Expunge</b> options from the config file. See below.

       {<b>-n</b>|<b>-N</b>|<b>-d</b>|<b>-f</b>|<b>-0</b>|<b>-F</b>}, {<b>--new</b>|<b>--renew</b>|<b>--delete</b>|<b>--flags</b>|<b>--noop</b>|<b>--full</b>}
       {<b>-L</b>|<b>-H</b>}[<b>n</b>][<b>N</b>][<b>d</b>][<b>f</b>], {<b>--pull</b>|<b>--push</b>}[<b>-new</b>|<b>-renew</b>|<b>-delete</b>|<b>-flags</b>]

              Override any <b>Sync</b> options from the config file. See below.

       <b>-h</b>, <b>--help</b>
              Display a summary of command line options.

       <b>-v</b>, <b>--version</b>
              Display version information.

       <b>-V</b>, <b>--verbose</b>
              Enable <u>verbose</u> mode, which displays what is currently happening.

       <b>-D</b>[<b>C</b>][<b>d</b>|<b>D</b>][<b>m</b>][<b>M</b>][<b>n</b>|<b>N</b>][<b>s</b>]], <b>--debug</b>[<b>-crash</b>|<b>-driver</b>|<b>-driver-all</b>|<b>-maildir</b>|<b>-main</b>|<b>-net</b>|<b>-net-all</b>|<b>-sync</b>]
              Enable debugging categories:
                  <b>C</b>, <b>crash</b> - use built-in crash handler
                  <b>d</b>, <b>driver</b> - print driver calls (metadata only)
                  <b>D</b>, <b>driver-all</b> - print driver calls (including messages)
                  <b>m</b>, <b>maildir</b> - print maildir debug info
                  <b>M</b>, <b>main</b> - print main debug info
                  <b>n</b>, <b>net</b> - print network traffic (protocol only)
                  <b>N</b>, <b>net-all</b> - print network traffic (including payloads)
                  <b>s</b>, <b>sync</b> - print synchronization debug info
              All  categories  except  <b>crash</b> implictly enable <u>verbose</u> mode.  Without category specification, all
              categories except net-all are enabled.

       <b>-q</b>, <b>--quiet</b>
              Suppress progress counters (this is implicit if stdout is no TTY, or any debugging categories  are
              enabled) and notices.  If specified twice, suppress warning messages as well.

</pre><h4><b>CONFIGURATION</b></h4><pre>
       The configuration file is mandatory; <b>mbsync</b> will not run without it.  Lines starting with a hash mark (<b>#</b>)
       are  comments  and  are  ignored  entirely.   Configuration  items  are  keywords followed by one or more
       arguments; arguments containing spaces must be enclosed in double quotes (<b>"</b>), and literal  double  quotes
       and  backslashes  (<b>\</b>)  must  be  backslash-escaped.  All keywords (including those used as arguments) are
       case-insensitive.  Bash-like home directory expansion using the tilde (<b>~</b>) is  supported  in  all  options
       which  represent  local  paths.  There are a few global options, the others apply to particular sections.
       Sections begin with a section-starting keyword and are terminated by an empty line or end of file.  Every
       section defines an object with an identifier unique within that object class.

       There are two basic object classes: Stores and Channels. A  Store  defines  a  collection  of  mailboxes;
       basically  a  folder,  either local or remote.  A Channel connects two Stores, describing the way the two
       are synchronized.
       There are two auxiliary object classes: Accounts and Groups. An Account describes the connection part  of
       network  Stores,  so  server  configurations  can  be  shared between multiple Stores. A Group aggregates
       multiple Channels to save typing on the command line.

       File system locations (in particular, <b>Path</b> and <b>Inbox</b>) use the Store's internal path separators, which may
       be slashes, periods, etc., or even combinations thereof.
       Mailbox names, OTOH, always use canonical path separators, which are Unix-like forward slashes.

   <b>All</b> <b>Stores</b>
       These options can be used in all supported Store types.
       In this context, the term "remote" describes the second Store within a Channel,  and  not  necessarily  a
       remote server.
       The  special  mailbox <b>INBOX</b> exists in every Store; its physical location in the file system is Store type
       specific.

       <b>Path</b> <u>path</u>
              The location of the Store in the (server's) file  system.   If  this  is  no  absolute  path,  the
              reference  point  is Store type specific.  This string is prepended to the mailbox names addressed
              in this Store, but is not considered part of them; this is important for <b>Patterns</b>  and  <b>Create</b>  in
              the  Channels  section.   Note  that  you  <b>must</b>  append  a  slash if you want to specify an entire
              directory.  (Default: none)

       <b>MaxSize</b> <u>size</u>[<b>k</b>|<b>m</b>][<b>b</b>]
              Messages larger than <u>size</u> will have only a small placeholder message propagated into  this  Store.
              To propagate the full message, it must be flagged in either Store; that can be done retroactively,
              in  which  case  the  <b>ReNew</b>  operation  needs  to  be executed instead of <b>New</b>.  This is useful for
              avoiding downloading messages with large attachments unless they  are  actually  needed.   Caveat:
              Setting  a size limit on a Store you never read directly (which is typically the case for servers)
              is not recommended, as you may never notice that affected messages were not propagated to it.
              <b>K</b> and <b>M</b> can be appended to the size to specify KiBytes resp.   MeBytes  instead  of  bytes.  <b>B</b>  is
              accepted but superfluous.  If <u>size</u> is 0, the maximum message size is <b>unlimited</b>.  (Default: <u>0</u>)

       <b>MapInbox</b> <u>mailbox</u>
              Create  a  virtual  mailbox (relative to <b>Path</b>) which aliases the <b>INBOX</b>. Makes sense in conjunction
              with <b>Patterns</b> in the Channels section, though with a Maildir near side, you probably want to place
              <b>Inbox</b> under <b>Path</b> instead.  This virtual mailbox does not support subfolders.

       <b>Flatten</b> <u>delim</u>
              Flatten the hierarchy within this Store by substituting the canonical hierarchy delimiter  <b>/</b>  with
              <u>delim</u>.   This  can be useful when the MUA used to access the Store provides suboptimal handling of
              hierarchical mailboxes, as is the case with <b>Mutt</b>.  A common choice for the delimiter is <b>.</b>.
              Note that flattened sub-folders of the <b>INBOX</b> always end up under <b>Path</b>, including the  "INBOX<u>delim</u>"
              prefix.

       <b>Trash</b> <u>mailbox</u>
              Specifies  a  mailbox  (relative  to  <b>Path</b>)  to  copy deleted messages to prior to expunging.  See
              <b>RECOMMENDATIONS</b> and <b>INHERENT</b> <b>PROBLEMS</b> below.  (Default: none)

       <b>TrashNewOnly</b> <b>yes</b>|<b>no</b>
              When trashing, copy only not yet propagated messages. This makes sense if the remote Store  has  a
              <b>Trash</b> as well (with <b>TrashNewOnly</b> <b>no</b>).  (Default: <b>no</b>)

       <b>TrashRemoteNew</b> <b>yes</b>|<b>no</b>
              When  expunging  the  remote  Store,  copy not yet propagated messages to this Store's <b>Trash</b>. When
              using this, the remote Store does not need an own <b>Trash</b> at all, yet  all  messages  are  archived.
              (Default: <b>no</b>)

   <b>Maildir</b> <b>Stores</b>
       The reference point for relative <b>Path</b>s is the current working directory.

       As  <b>mbsync</b>  needs  UIDs,  but  no standardized UID storage scheme exists for Maildir, <b>mbsync</b> supports two
       schemes, each with its pros and cons.
       The <b>native</b> scheme is stolen from the latest Maildir patches to <b>c-client</b> and is therefore compatible  with
       <b>pine</b>.  The UID validity is stored in a file named .uidvalidity; the UIDs are encoded in the file names of
       the messages.
       The <b>alternative</b> scheme is based on the UID mapping used by <b>isync</b> versions 0.8 and  0.9.x.  The  invariant
       parts  of the file names of the messages are used as keys into a Berkeley database named .isyncuidmap.db,
       which holds the UID validity as well.
       The <b>native</b> scheme is faster, more space efficient, endianness independent and "human readable", but  will
       be  disrupted  if  a  message  is copied from another mailbox without getting a new file name; this would
       result in duplicated UIDs sooner or later, which in  turn  results  in  a  UID  validity  change,  making
       synchronization fail.  The <b>alternative</b> scheme would fail if a MUA changed a message's file name in a part
       <b>mbsync</b>  considers invariant; this would be interpreted as a message deletion and a new message, resulting
       in unnecessary traffic.
       <b>Mutt</b> is known to work fine with both schemes.
       Use <b>mdconvert</b> to convert mailboxes from one scheme to the other.

       <b>MaildirStore</b> <u>name</u>
              Define the Maildir Store <u>name</u>, opening a section for its parameters.

       <b>AltMap</b> <b>yes</b>|<b>no</b>
              Use the <b>alternative</b> UID storage scheme  for  mailboxes  in  this  Store.   This  does  not  affect
              mailboxes  that  do  already  have  a  UID  storage  scheme;  use  <b>mdconvert</b>  to  change  it.  See
              <b>RECOMMENDATIONS</b> below.  (Default: <b>no</b>)

       <b>Inbox</b> <u>path</u>
              The location of the <b>INBOX</b>. This is <u>not</u> relative to <b>Path</b>, but it is  allowed  to  place  the  <b>INBOX</b>
              inside the <b>Path</b>.  (Default: <u><a href="file:~/Maildir">~/Maildir</a></u>)

       <b>InfoDelimiter</b> <u>delim</u>
              The  character  used  to  delimit  the info field from a message's basename.  The Maildir standard
              defines this to be the colon, but this is incompatible with DOS/Windows file  systems.   (Default:
              the value of <b>FieldDelimiter</b>)

       <b>SubFolders</b> <b>Verbatim</b>|<b>Maildir++</b>|<b>Legacy</b>
              The  on-disk  folder naming style used for hierarchical mailboxes.  This option has no effect when
              <b>Flatten</b> is used.
              Suppose mailboxes with the canonical paths <b>top/sub/subsub</b> and <b>INBOX/sub/subsub</b>,  the  styles  will
              yield the following on-disk paths:
              <b>Verbatim</b> - <u>Path</u><b>/top/sub/subsub</b> and <u>Inbox</u><b>/sub/subsub</b> (this is the style you probably want to use)
              <b>Maildir++</b>  -  <u>Inbox</u><b>/.top.sub.subsub</b>  and <u>Inbox</u><b>/..sub.subsub</b> (this style is compatible with Courier
              and Dovecot - but note that the mailbox metadata format is <u>not</u> compatible).  Note that attempts to
              set <b>Path</b> are rejected in this mode.
              <b>Legacy</b> - <u>Path</u><b>/top/.sub/.subsub</b> and <u>Inbox</u><b>/.sub/.subsub</b> (this is <b>mbsync</b>'s historical style)
              (Default: unset; will error out when sub-folders are encountered)

   <b>IMAP4</b> <b>Accounts</b>
       <b>IMAPAccount</b> <u>name</u>
              Define the IMAP4 Account <u>name</u>, opening a section for its parameters.

       <b>Host</b> <u>host</u>
              Specify the DNS name or IP address of the IMAP server.
              If <b>Tunnel</b> is used, this setting is needed only if <b>SSLType</b> is not <b>None</b> and <b>CertificateFile</b>  is  not
              used, in which case the host name is used for certificate subject verification.

       <b>Port</b> <u>port</u>
              Specify the TCP port number of the IMAP server.  (Default: 143 for IMAP, 993 for IMAPS)
              If <b>Tunnel</b> is used, this setting is ignored.

       <b>Timeout</b> <u>timeout</u>
              Specify  the  connect  and  data  timeout  for  the IMAP server in seconds.  Zero means unlimited.
              (Default: <u>20</u>)

       <b>User</b> <u>username</u>
              Specify the login name on the IMAP server.

       <b>UserCmd</b> [<b>+</b>]<u>command</u>
              Specify a shell command to obtain a user rather than specifying a user directly. This  allows  you
              to script retrieving user names.
              The  command must produce exactly one line on stdout; the trailing newline is optional.  Prepend <b>+</b>
              to the command to indicate that it produces TTY output (e.g., a prompt); failure  to  do  so  will
              merely  produce  messier  output.   Remember  to  backslash-escape  double  quotes and backslashes
              embedded into the command.

       <b>Pass</b> <u>password</u>
              Specify the password for <u>username</u> on the IMAP server.  Note that this option is <u>not</u> required.   If
              neither  a  password  nor  a  password command is specified in the configuration file, <b>mbsync</b> will
              prompt you for a password.

       <b>PassCmd</b> [<b>+</b>]<u>command</u>
              Specify a shell command to obtain a password rather than  specifying  a  password  directly.  This
              allows you to use password files and agents.
              See <b>UserCmd</b> above for details.

       <b>UseKeychain</b> <b>yes</b>|<b>no</b>
              Whether to use the macOS Keychain to obtain the password.  (Default: <b>no</b>)

              The neccessary keychain item can be created this way:

                     <b>security</b> <b>add-internet-password</b> <b>-r</b> <b>imap</b> <b>-s</b> <u>Host</u> <b>-a</b> <u>User</u> <b>-w</b> <u>password</u> [ <b>-T</b> <u>/path/to/mbsync</u> ]

       <b>Tunnel</b> <u>command</u>
              Specify  a command to run to establish a connection rather than opening a TCP socket.  This allows
              you to run an IMAP session over an SSH tunnel, for example.

       <b>AuthMechs</b> <u>type</u> ...
              The list of acceptable authentication mechanisms.  In addition to the  mechanisms  listed  in  the
              SASL  registry  (link below), the legacy IMAP <b>LOGIN</b> mechanism is known.  The wildcard <b>*</b> represents
              all mechanisms that are deemed secure enough for the current <b>SSLType</b> setting.  The  actually  used
              mechanism  is  the most secure choice from the intersection of this list, the list supplied by the
              server, and the installed SASL modules.  (Default: <b>*</b>)

       <b>SSLType</b> {<b>None</b>|<b>STARTTLS</b>|<b>IMAPS</b>}
              Select the connection security/encryption method:
              <b>None</b> - no security.  This is the default when <b>Tunnel</b> is set, as tunnels are usually secure.
              <b>STARTTLS</b> - security is established via the STARTTLS extension after connecting  the  regular  IMAP
              port 143. Most servers support this, so it is the default (unless a tunnel is used).
              <b>IMAPS</b>  - security is established by starting SSL/TLS negotiation right after connecting the secure
              IMAP port 993.

       <b>SSLVersions</b> [<b>SSLv3</b>] [<b>TLSv1</b>] [<b>TLSv1.1</b>] [<b>TLSv1.2</b>] [<b>TLSv1.3</b>]
              Select the acceptable SSL/TLS versions.  Use old versions only when the server has  problems  with
              newer ones.  (Default: [<b>TLSv1</b>] [<b>TLSv1.1</b>] [<b>TLSv1.2</b>] [<b>TLSv1.3</b>]).

       <b>SystemCertificates</b> <b>yes</b>|<b>no</b>
              Whether the system's default CA (certificate authority) certificate store should be used to verify
              certificate  trust  chains. Disable this if you want to trust only hand-picked certificates.  (De‐
              fault: <b>yes</b>)

       <b>CertificateFile</b> <u>path</u>
              File containing additional X.509 certificates used to verify server identities.   It  may  contain
              two types of certificates:

              Host   These  certificates  are matched only against the received server certificate itself.  They
                     are always trusted, regardless of validity.  A typical use case would be forcing acceptance
                     of an expired certificate.
                     These certificates may be obtained using the <b>mbsync-get-cert</b>  tool;  make  sure  to  verify
                     their  fingerprints  before trusting them, or transfer them securely from the server's net‐
                     work (if it can be trusted beyond the server itself).

              CA     These certificates are used as trust anchors when building the certificate  chain  for  the
                     received  server  certificate.   They  are used to supplant or supersede the system's trust
                     store, depending on the <b>SystemCertificates</b> setting; it is not necessary and not recommended
                     to specify the system's trust store itself here.  The trust chains are fully validated.

       <b>ClientCertificate</b> <u>path</u>
              File containing a client certificate to send to the server.  <b>ClientKey</b> should also be specified.
              Note that client certificate verification is usually not required, so it is unlikely that you need
              this option.

       <b>ClientKey</b> <u>path</u>
              File containing the private key corresponding to <b>ClientCertificate</b>.

       <b>CipherString</b> <u>string</u>
              Specify OpenSSL cipher string for connections secured with TLS up to version 1.2 (but not 1.3  and
              above).   The format is described in <b><a href="../man1/ciphers.1.html">ciphers</a></b>(1).  (Default: empty, which implies system wide poli‐
              cy).

       <b>PipelineDepth</b> <u>depth</u>
              Maximum number of IMAP commands which can be simultaneously in flight.  Setting this to <u>1</u> disables
              pipelining.  This is mostly a debugging option, but may also be used to  limit  average  bandwidth
              consumption (GMail may require this if you have a very fast connection), or to spare flaky servers
              like M$ Exchange.  (Default: <u>unlimited</u>)

       <b>DisableExtension</b>[<b>s</b>] <u>extension</u> ...
              Disable the use of specific IMAP extensions.  This can be used to work around bugs in servers (and
              possibly <b>mbsync</b> itself).  (Default: empty)

   <b>IMAP</b> <b>Stores</b>
       The  reference  point for relative <b>Path</b>s is whatever the server likes it to be; probably the user's $HOME
       or $HOME/Mail on that server. The location of <b>INBOX</b> is up to the server as well and  is  usually  irrele‐
       vant.

       <b>IMAPStore</b> <u>name</u>
              Define the IMAP4 Store <u>name</u>, opening a section for its parameters.

       <b>Account</b> <u>account</u>
              Specify  which IMAP4 Account to use. Instead of defining an Account and referencing it here, it is
              also possible to specify all the Account options directly in the  Store's  section  -  this  makes
              sense if an Account is used for one Store only anyway.

       <b>UseNamespace</b> <b>yes</b>|<b>no</b>
              Selects  whether the server's first "personal" NAMESPACE should be prefixed to mailbox names. Dis‐
              abling this makes sense for some broken IMAP servers.  This option is meaningless if  a  <b>Path</b>  was
              specified.  (Default: <b>yes</b>)

       <b>PathDelimiter</b> <u>delim</u>
              Specify  the  server's  hierarchy  delimiter.   (Default: taken from the server's first "personal"
              NAMESPACE)
              Do <u>not</u> abuse this to re-interpret the hierarchy.  Use <b>Flatten</b> instead.

       <b>SubscribedOnly</b> <b>yes</b>|<b>no</b>
              Selects whether to synchronize only mailboxes that are subscribed to on the IMAP server. In  tech‐
              nical  terms, if this option is set, <b>mbsync</b> will use the IMAP command LSUB instead of LIST to look
              for mailboxes in this Store.  This option make sense only in conjunction with <b>Patterns</b>.  (Default:
              <b>no</b>)

   <b>Channels</b>
       <b>Channel</b> <u>name</u>
              Define the Channel <u>name</u>, opening a section for its parameters.

       {<b>Far</b>|<b>Near</b>} <b>:</b><u>store</u><b>:</b>[<u>mailbox</u>]
              Specify the far resp. near side Store to be connected by this Channel.  If <b>Patterns</b> are specified,
              <u>mailbox</u> is interpreted as a prefix which is not matched against the patterns, and which is not af‐
              fected by mailbox list overrides.  Otherwise, if <u>mailbox</u> is omitted, <b>INBOX</b> is assumed.

       <b>Pattern</b>[<b>s</b>] [<b>!</b>]<u>pattern</u> ...
              Instead of synchronizing only one mailbox pair, synchronize all  mailboxes  that  match  the  <u>pat‐</u>
              <u>tern</u>(s).  The  mailbox  names  are the same on the far and near side. Patterns are IMAP4 patterns,
              i.e., <b>*</b> matches anything and <b>%</b> matches anything up to the next hierarchy delimiter.  Prepending  <b>!</b>
              to a pattern makes it an exclusion. Multiple patterns can be specified (either by supplying multi‐
              ple arguments or by using <b>Pattern</b> multiple times); later matches take precedence.
              Note that <b>INBOX</b> is not matched by wildcards, unless it lives under <b>Path</b>.
              The  mailbox  list selected by <b>Patterns</b> can be overridden by a mailbox list in a channel reference
              (a <b>Group</b> specification or the command line).
              Example: "<b>Patterns</b> <u>%</u> <u>!Trash</u>"

       <b>MaxSize</b> <u>size</u>[<b>k</b>|<b>m</b>][<b>b</b>]
              Analogous to the homonymous option in the Stores section, but applies equally  to  Far  and  Near.
              Note  that  this actually modifies the Stores, so take care not to provide conflicting settings if
              you use the Stores in multiple Channels.

       <b>MaxMessages</b> <u>count</u>
              Sets the maximum number of messages to keep in each near side mailbox.  This is useful  for  mail‐
              boxes  where  you keep a complete archive on the server, but want to mirror only the last messages
              (for instance, for mailing lists).  The messages that were the first to arrive in the mailbox (in‐
              dependently of the actual date of the message) will be deleted first.  Messages that  are  flagged
              (marked  as  important)  and  (by  default) unread messages will not be automatically deleted.  If
              <u>count</u> is 0, the maximum number of messages is <b>unlimited</b> (Default: <u>0</u>).

       <b>ExpireUnread</b> <b>yes</b>|<b>no</b>
              Selects whether unread messages should be affected by <b>MaxMessages</b>.  Normally, unread messages  are
              considered  important  and thus never expired.  This ensures that you never miss new messages even
              after an extended absence.  However, if your archive contains large amounts of unread messages  by
              design,  treating them as important would practically defeat <b>MaxMessages</b>. In this case you need to
              enable this option.  (Default: <b>no</b>).

       <b>Sync</b> {<b>None</b>|[<b>Pull</b>] [<b>Push</b>] [<b>New</b>] [<b>ReNew</b>] [<b>Delete</b>] [<b>Flags</b>]|<b>All</b>}
              Select the synchronization operation(s) to perform:
              <b>Pull</b> - propagate changes from far to near side.
              <b>Push</b> - propagate changes from near to far side.
              <b>New</b> - propagate newly appeared messages.
              <b>ReNew</b> - upgrade placeholders to full messages. Useful only with a configured <b>MaxSize</b>.
              <b>Delete</b> - propagate message deletions. This applies only to messages that are actually gone,  i.e.,
              were  expunged.  The  affected messages in the remote Store are marked as deleted only, i.e., they
              won't be really deleted until that Store is expunged.
              <b>Flags</b> - propagate flag changes. Note that Deleted/Trashed is a flag as well; this is  particularly
              interesting if you use <b>mutt</b> with the maildir_trash option.
              <b>All</b> (<b>--full</b> on the command line) - all of the above.  This is the global default.
              <b>None</b> (<b>--noop</b> on the command line) - don't propagate anything.  Useful if you want to expunge only.

              <b>Pull</b> and <b>Push</b> are direction flags, while <b>New</b>, <b>ReNew</b>, <b>Delete</b> and <b>Flags</b> are type flags. The two flag
              classes  make  up a two-dimensional matrix (a table). Its cells are the individual actions to per‐
              form. There are two styles of asserting the cells:
              In the first style, the flags select entire rows/colums in the matrix. Only the  cells  which  are
              selected  both horizontally and vertically are asserted.  Specifying no flags from a class is like
              specifying all flags from this class.  For example, "<b>Sync</b> <b>Pull</b> <b>New</b> <b>Flags</b>" will propagate new  mes‐
              sages  and  flag changes from the far side to the near side, "<b>Sync</b> <b>New</b> <b>Delete</b>" will propagate mes‐
              sage arrivals and deletions both ways, and "<b>Sync</b> <b>Push</b>" will propagate all changes  from  the  near
              side to the far side.
              In the second style, direction flags are concatenated with type flags; every compound flag immedi‐
              ately  asserts  a  cell  in  the matrix. In addition to at least one compound flag, the individual
              flags can be used as well, but as opposed to the first style, they immediately assert all cells in
              their respective row/column. For example, "<b>Sync</b> <b>PullNew</b> <b>PullDelete</b> <b>Push</b>"  will  propagate  message
              arrivals  and  deletions  from the far side to the near side and any changes from the near side to
              the far side.  Note that it is not allowed to assert a cell in two ways, e.g.  "<b>Sync</b> <b>PullNew</b> <b>Pull</b>"
              and "<b>Sync</b> <b>PullNew</b> <b>Delete</b> <b>Push</b>" induce error messages.

       <b>Create</b> {<b>None</b>|<b>Far</b>|<b>Near</b>|<b>Both</b>}
              Automatically create missing mailboxes [on the far/near side].  Otherwise print an  error  message
              and  skip that mailbox pair if a mailbox and the corresponding sync state does not exist.  (Global
              default: <b>None</b>)

       <b>Remove</b> {<b>None</b>|<b>Far</b>|<b>Near</b>|<b>Both</b>}
              Propagate mailbox deletions [to the far/near side].  Otherwise print an  error  message  and  skip
              that mailbox pair if a mailbox does not exist but the corresponding sync state does.
              For  MailDir  mailboxes  it is sufficient to delete the cur/ subdirectory to mark them as deleted.
              This ensures compatibility with <b>SyncState</b> <b>*</b>.
              Note that for safety, non-empty mailboxes are never deleted.
              (Global default: <b>None</b>)

       <b>Expunge</b> {<b>None</b>|<b>Far</b>|<b>Near</b>|<b>Both</b>}
              Permanently remove all messages [on the far/near side] marked for deletion.   See  <b>RECOMMENDATIONS</b>
              below.  (Global default: <b>None</b>)

       <b>CopyArrivalDate</b> {<b>yes</b>|<b>no</b>}
              Selects whether their arrival time should be propagated together with the messages.  Enabling this
              makes sense in order to keep the time stamp based message sorting intact.  Note that IMAP does not
              guarantee  that the time stamp (termed <b>internal</b> <b>date</b>) is actually the arrival time, but it is usu‐
              ally close enough.  (Default: <b>no</b>)

       <b>Sync</b>, <b>Create</b>, <b>Remove</b>, <b>Expunge</b>, <b>MaxMessages</b>, and <b>CopyArrivalDate</b> can be used  before  any  section  for  a
       global  effect.   The global settings are overridden by Channel-specific options, which in turn are over‐
       ridden by command line switches.

       <b>SyncState</b> {<b>*</b>|<u>path</u>}
              Set the location of this Channel's synchronization state files.  <b>*</b> means that the state should  be
              saved  in  a  file named .mbsyncstate in the near side mailbox itself; this has the advantage that
              you do not need to handle the state file separately if you delete the mailbox, but it  works  only
              with  Maildir  mailboxes,  obviously.  Otherwise this is interpreted as a string to prepend to the
              near side mailbox name to make up a complete path.
              This option can be used outside any section for a global effect. In this case the appended  string
              is  made up according to the pattern <b>:</b><u>far-store</u><b>:</b><u>far-box</u><b>_:</b><u>near-store</u><b>:</b><u>near-box</u> (see also <b>FieldDelim‐</b>
              <b>iter</b> below).
              (Global default: <u><a href="file:~/.mbsync/">~/.mbsync/</a></u>).

   <b>Groups</b>
       <b>Group</b> <u>name</u> [<u>channel</u>[<b>:</b><u>box</u>[<b>,</b>...]]] ...
              Define the Group <u>name</u>, opening a section for its parameters.  Note that even though Groups have an
              own namespace, they will "hide" Channels with the same name on the command line.
              One or more Channels can be specified on the same line.
              If you supply one or more <u>box</u>es to a <u>channel</u>, they will be used instead of what  is  specified  in
              the  Channel's Patterns.  The same can be done on the command line, except that there newlines can
              be used as mailbox name separators as well.

       <b>Channel</b>[<b>s</b>] <u>channel</u>[<b>:</b><u>box</u>[<b>,</b>...]] ...
              Add the specified channels to the group. This option can be  specified  multiple  times  within  a
              Group.

   <b>Global</b> <b>Options</b>
       <b>FSync</b> <b>yes</b>|<b>no</b>
              Selects  whether  <b>mbsync</b> performs forced flushing, which determines the level of data safety after
              system crashes and power outages.  Disabling it is reasonably safe  for  file  systems  which  are
              mounted  with  data=ordered  mode.  Enabling it is a wise choice for file systems mounted with da‐
              ta=writeback, in particular modern systems like ext4, btrfs and xfs.  The  performance  impact  on
              older file systems may be disproportionate.  (Default: <b>yes</b>)

       <b>FieldDelimiter</b> <u>delim</u>
              The  character  to  use  to  delimit  fields in the string appended to a global <b>SyncState</b>.  <b>mbsync</b>
              prefers to use the colon, but this is incompatible with DOS/Windows file systems.  This option  is
              meaningless  for  <b>SyncState</b> if the latter is <b>*</b>, obviously. However, it also determines the default
              of <b>InfoDelimiter</b>.  (Global default: <u>;</u> on Windows, <u>:</u> everywhere else)

       <b>BufferLimit</b> <u>size</u>[<b>k</b>|<b>m</b>][<b>b</b>]
              The per-Channel, per-direction instantaneous memory usage above which <b>mbsync</b> will refrain from us‐
              ing more memory. Note that this is no absolute limit, as even a single message  can  consume  more
              memory than this.  (Default: <u>10M</u>)

</pre><h4><b>CONSOLE</b> <b>OUTPUT</b></h4><pre>
       If <b>mbsync</b>'s output is connected to a console, it will print progress counters by default. The output will
       look like this:

           C: 1/2  B: 3/4  F: +13/13 *23/42 #0/0  N: +0/7 *0/0 #0/0

       This  represents  the cumulative progress over channels, boxes, and messages affected on the far and near
       side, respectively.  The message counts represent  added  messages,  messages  with  updated  flags,  and
       trashed messages, respectively.  No attempt is made to calculate the totals in advance, so they grow over
       time as more information is gathered.

</pre><h4><b>RECOMMENDATIONS</b></h4><pre>
       Make sure your IMAP server does not auto-expunge deleted messages - it is slow, and semantically somewhat
       questionable. Specifically, Gmail needs to be configured not to do it.

       By  default,  <b>mbsync</b>  will  not delete any messages - deletions are propagated by marking the messages as
       deleted on the remote store.  Once you have verified that your setup works, you will  typically  want  to
       set <b>Expunge</b> to <b>Both</b>, so that deletions become effective.

       <b>mbsync</b>'s  built-in  trash functionality relies on <b>mbsync</b> doing the expunging of deleted messages. This is
       the case when it propagates deletions of previously propagated messages, and the trash is on  the  target
       store (typically your IMAP server).
       However,  when  you  intend <b>mbsync</b> to trash messages which were not propagated yet, the MUA must mark the
       messages as deleted without expunging them (e.g., <b>Mutt</b>'s <b>maildir_trash</b> option). Note that  most  messages
       are  propagated a long time before they are deleted, so this is a corner case you probably do not want to
       optimize for. This also implies that the <b>TrashNewOnly</b> and <b>TrashRemoteNew</b> options are typically  not  very
       useful.

       If your server supports auto-trashing (as Gmail does), it is probably a good idea to rely on that instead
       of <b>mbsync</b>'s trash functionality.  If you do that, and intend to synchronize the trash like other mailbox‐
       es, you should not use <b>mbsync</b>'s <b>Trash</b> option at all.

       Use  of  the <b>Trash</b> option with M$ Exchange 2013 requires the use of <b>DisableExtension</b> <b>MOVE</b> due to a server
       bug.

       When using the more efficient default UID mapping scheme, it is important that the MUA renames files when
       moving them between Maildir folders.  Mutt always does that, while mu4e needs to be configured to do it:
           (setq mu4e-change-filenames-when-moving t)

</pre><h4><b>INHERENT</b> <b>PROBLEMS</b></h4><pre>
       Changes done after <b>mbsync</b> has retrieved the message list will not be synchronised until the next time <b>mb‐</b>
       <b>sync</b> is invoked.

       Using <b>Trash</b> on IMAP Stores without the UIDPLUS extension (notably, M$ Exchange up to at least 2010) bears
       a race condition: messages will be lost if they are marked as deleted after  the  message  list  was  re‐
       trieved  but before the mailbox is expunged.  There is no risk as long as the IMAP mailbox is accessed by
       only one client (including <b>mbsync</b>) at a time.

</pre><h4><b>FILES</b></h4><pre>
       <b><a href="file:~/.mbsyncrc">~/.mbsyncrc</a></b>
              Default configuration file

       <b><a href="file:~/.mbsync/">~/.mbsync/</a></b>
              Directory containing synchronization state files

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <a href="../man1/mdconvert.1.html">mdconvert</a>(1), <a href="../man1/mutt.1.html">mutt</a>(1), <a href="../man5/maildir.5.html">maildir</a>(5)

       Up to date information on <b>mbsync</b> can be found at <a href="http://isync.sf.net/">http://isync.sf.net/</a>

       SASL mechanisms are listed at <a href="http://www.iana.org/assignments/sasl-mechanisms/sasl-mechanisms.xhtml">http://www.iana.org/assignments/sasl-mechanisms/sasl-mechanisms.xhtml</a>

</pre><h4><b>AUTHORS</b></h4><pre>
       Originally written by Michael R. Elkins, rewritten and currently maintained by Oswald  Buddenhagen,  con‐
       tributions by Theodore Y. Ts'o.

                                                   2022 Jun 16                                         <u><a href="../man1/mbsync.1.html">mbsync</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>