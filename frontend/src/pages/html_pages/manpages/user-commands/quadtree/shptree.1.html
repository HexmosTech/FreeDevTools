<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>shptree - create a quadtree-based spatial index for a Shape data set</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/mapserver-bin">mapserver-bin_8.4.0-1build1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       shptree - create a quadtree-based spatial index for a Shape data set

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>shptree</b> [ <u>shpfile</u> [<u>depth</u>] [<u>index_format</u>] | <b>-v</b>]

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>shptree</b> creates a quadtree-based spatial index for a Shape data set. The default tree depth is calculated
       so that each tree node (quadtree cell) contains 8 shapes. Do not use the default with point files, a val‐
       ue between 6 and 10 seems to work ok. Your millage may vary and you'll need to do some experimenting.

       This utility is a must for any MapServer application that uses Shape data sets. <b>shptree</b> creates a spatial
       index  of  your Shape data set, using a quadtree method. This means that MapServer will use this index to
       quickly find the appropriate shapes to draw. It creates a file of the same name as your Shape  data  set,
       with  a .qix file extension. The quadtree method breaks the file into 4 quadrants, recursively until only
       a few shapes are contained in each quadrant. This minimum number can be set with the <u>depth</u>  parameter  of
       the command.

</pre><h4><b>OPTIONS</b></h4><pre>
       <u>shpfile</u>
              The name of the .shp file to index.

       <u>depth</u>  (Optional) The maximum depth of the index to create, default is 0 meaning that <b>shptree</b> will calcu‐
              late a reasonable default depth.

       <u>index_format</u>
              (Optional) One of:

              <b>NL</b>     LSB byte order, using new index format

              <b>NM</b>     MSB byte order, using new index format

       The following old format options are deprecated:

              <b>N</b>      Native byte order

              <b>L</b>      LSB (intel) byte order

              <b>M</b>      MSB byte order

       The default <u>index_format</u> on this system is: <b>NL</b>

       <b>-v</b>     Display mapserver version and build options.

</pre><h4><b>NOTES</b></h4><pre>
       Shape data sets are native to MapServer, and therefore do not require the .shp extension in the DATA path
       of  the  LAYER. In fact, in order for MapServer to use the .qix extension you MUST NOT specify the exten‐
       sion, for example:

              LAYER
                ...
                DATA "us_states"    #MapServer will search for us_states.qix and will use it
                ...
              END

              LAYER
                ...
                DATA "us_states.shp" #MapServer will search for us_states.shp.qix and won't find it
                ...
              END

       Note: As of MapServer 5.2 the qix will be used even when the .shp extension is specified.

</pre><h4><b>EXAMPLE</b></h4><pre>
       shptree us_states.shp
         creating index of new  LSB format

       Result:
              A file named 'us_states.qix' is created in the same location. (note that you can use the  <b>shptree‐</b>
              <b><a href="../man1/vis.1.html">vis</a></b>(1) utility to view the actual quadtree quadrants that are used by MapServer in this qix file)

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man1/shptreetst.1.html">shptreetst</a></b>(1), <b><a href="../man1/shptreevis.1.html">shptreevis</a></b>(1), <b><a href="../man1/sortshp.1.html">sortshp</a></b>(1)

       The  shptree wiki page ⟨https://github.com/mapserver/mapserver/wiki/ShpTree⟩ may also contain information
       on this utility.

                                                 22 January 2025                                      <u><a href="../man1/shptree.1.html">shptree</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>