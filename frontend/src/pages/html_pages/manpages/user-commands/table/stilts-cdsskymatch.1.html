<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>stilts-cdsskymatch - Crossmatches table on sky position against VizieR/SIMBAD table</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/stilts">stilts_3.5.1-2_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       stilts-cdsskymatch - Crossmatches table on sky position against VizieR/SIMBAD table

</pre><h4><b>SYNOPSIS</b></h4><pre>

       <b>stilts</b> <b>cdsskymatch</b> [ifmt=<u>&lt;in-format&gt;</u>] [istream=<u>true|false</u>] [in=<u>&lt;table&gt;</u>] [icmd=<u>&lt;cmds&gt;</u>] [ocmd=<u>&lt;cmds&gt;</u>]
                          [omode=<u>out|meta|stats|count|checksum|cgi|discard|topcat|samp|tosql|gui</u>] [out=<u>&lt;out-</u>
                          <u>table&gt;</u>] [ofmt=<u>&lt;out-format&gt;</u>] [ra=<u>&lt;expr&gt;</u>] [dec=<u>&lt;expr&gt;</u>] [radius=<u>&lt;value/arcsec&gt;</u>]
                          [cdstable=<u>&lt;value&gt;</u>] [find=<u>all|best|best-remote|each|each-dist</u>] [blocksize=<u>&lt;int-value&gt;</u>]
                          [maxrec=<u>&lt;int-value&gt;</u>] [compress=<u>true|false</u>] [serviceurl=<u>&lt;url-value&gt;</u>]
                          [usemoc=<u>true|false</u>] [presort=<u>true|false</u>] [fixcols=<u>none|dups|all</u>] [suffixin=<u>&lt;label&gt;</u>]
                          [suffixremote=<u>&lt;label&gt;</u>]

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <u>cdsskymatch</u>  uses the CDS X-Match service to join a local table to one of the tables hosted by the Centre
       de Données astronomiques de Strasbourg. This includes all of the VizieR tables and the  SIMBAD  database.
       The service is very fast, and in most cases it is the best way to match a local table against a large ex‐
       ternal  table  hosted by a service. It is almost certainly much better than using <u>coneskymatch</u>, though it
       is less flexible than TAP (see the <u>tapquery</u> task for flexible access to TAP services, and <u>tapskymatch</u> for
       positional matches).

       The local table is uploaded to the X-Match service in chunks, and the matches  for  each  chunk  are  re‐
       trieved  in turn and eventually stitched together to form the final result. The tool only uploads sky po‐
       sition and an identifier for each row of the input table, but all columns of the input  table  are  rein‐
       stated in the result for reference.

       For  a  better  understanding of the details of how this service operates, including exactly what coordi‐
       nates are matched against the uploaded positions (roughly: integrated to J2000 using  proper  motions  if
       available)  and  what  columns  are  included  in the output (roughly: a subset of the most commonly used
       columns), please consult the service documentation.

       Acknowledgement: CDS note that if the use of the X-Match service is useful to your research,  they  would
       appreciate  the following acknowledgement: "This research made use of the cross-match service provided by
       CDS, Strasbourg."

</pre><h4><b>OPTIONS</b></h4><pre>
       <b>ifmt=</b><u>&lt;in-format&gt;</u>
              Specifies the format of the input table as specified by parameter <u>in</u>. The known formats are listed
              in SUN/256. This flag can be used if you know what format your table is in. If it has the  special
              value  <u>(auto)</u>  (the default), then an attempt will be made to detect the format of the table auto‐
              matically. This cannot always be done correctly however, in which case the program will exit  with
              an  error  explaining which formats were attempted. This parameter is ignored for scheme-specified
              tables.

       <b>istream=</b><u>true|false</u>
              If set true, the input table specified by the <u>in</u> parameter will be read as a stream. It is  neces‐
              sary  to give the <u>ifmt</u> parameter in this case. Depending on the required operations and processing
              mode, this may cause the read to fail (sometimes it is necessary  to  read  the  table  more  than
              once).  It is not normally necessary to set this flag; in most cases the data will be streamed au‐
              tomatically if that is the best thing to do. However it can sometimes result in less resource  us‐
              age  when  processing  large files in certain formats (such as VOTable). This parameter is ignored
              for scheme-specified tables.

       <b>in=</b><u>&lt;table&gt;</u>
              The location of the input table. This may take one of the following forms:

                * A filename.

                * A URL.

                * The special value "<u>-</u>", meaning standard input. In this case the input format must be given ex‐
                  plicitly using the <u>ifmt</u> parameter. Note that not all formats can be streamed in this way.

                * A scheme specification of the form <u>:&lt;scheme-name&gt;:&lt;scheme-args&gt;</u>.

                * A system command line with either a "<u>&lt;</u>" character at the start, or a "<u>|</u>" character at the  end
                  ("<u>&lt;syscmd</u>" or "<u>syscmd|</u>"). This executes the given pipeline and reads from its standard output.
                  This will probably only work on unix-like systems.
               In  any case, compressed data in one of the supported compression formats (gzip, Unix compress or
              bzip2) will be decompressed transparently.

       <b>icmd=</b><u>&lt;cmds&gt;</u>
              Specifies processing to be performed on the input table as specified by parameter <u>in</u>,  before  any
              other  processing  has  taken place. The value of this parameter is one or more of the filter com‐
              mands described in SUN/256. If more than one is given, they must be separated by semicolon charac‐
              ters (";"). This parameter can be repeated multiple times on the same command line to build  up  a
              list  of  processing  steps.  The  sequence  of  commands given in this way defines the processing
              pipeline which is performed on the table.

              Commands may alternatively be supplied in an external file, by  using  the  indirection  character
              '<u>@</u>'. Thus a value of "<u>@filename</u>" causes the file <u>filename</u> to be read for a list of filter commands
              to execute. The commands in the file may be separated by newline characters and/or semicolons, and
              lines which are blank or which start with a '<u>#</u>' character are ignored. A backslash character '<u>\fR'</u>
              <u>at</u> <u>the</u> <u>end</u> <u>of</u> <u>a</u> <u>line</u> <u>joins</u> <u>it</u> <u>with</u> <u>the</u> <u>following</u> <u>line.</u>

       <b>ocmd=</b><u>&lt;cmds&gt;</u>
              Specifies  processing  to  be  performed on the output table, after all other processing has taken
              place. The value of this parameter is one or more of the filter commands described in SUN/256.  If
              more  than  one is given, they must be separated by semicolon characters (";"). This parameter can
              be repeated multiple times on the same command line to build up a list of  processing  steps.  The
              sequence  of  commands given in this way defines the processing pipeline which is performed on the
              table.

              Commands may alternatively be supplied in an external file, by  using  the  indirection  character
              '<u>@</u>'. Thus a value of "<u>@filename</u>" causes the file <u>filename</u> to be read for a list of filter commands
              to execute. The commands in the file may be separated by newline characters and/or semicolons, and
              lines which are blank or which start with a '<u>#</u>' character are ignored. A backslash character '<u>\fR'</u>
              <u>at</u> <u>the</u> <u>end</u> <u>of</u> <u>a</u> <u>line</u> <u>joins</u> <u>it</u> <u>with</u> <u>the</u> <u>following</u> <u>line.</u>

       <b>omode=</b><u>out|meta|stats|count|checksum|cgi|discard|topcat|samp|tosql|gui</u>
              The  mode  in which the result table will be output. The default mode is <u>out</u>, which means that the
              result will be written as a new table to disk or elsewhere, as determined by the <u>out</u> and <u>ofmt</u>  pa‐
              rameters. However, there are other possibilities, which correspond to uses to which a table can be
              put other than outputting it, such as displaying metadata, calculating statistics, or populating a
              table  in  an SQL database. For some values of this parameter, additional parameters (<u>&lt;mode-args&gt;</u>)
              are required to determine the exact behaviour.

              Possible values are

                * <u>out</u>

                * <u>meta</u>

                * <u>stats</u>

                * <u>count</u>

                * <u>checksum</u>

                * <u>cgi</u>

                * <u>discard</u>

                * <u>topcat</u>

                * <u>samp</u>

                * <u>tosql</u>

                * <u>gui</u>
               Use the <u>help=omode</u> flag or see SUN/256 for more information.

       <b>out=</b><u>&lt;out-table&gt;</u>
              The location of the output table. This is usually a filename to write to. If it is  equal  to  the
              special value "-" (the default) the output table will be written to standard output.

              This parameter must only be given if <u>omode</u> has its default value of "<u>out</u>".

       <b>ofmt=</b><u>&lt;out-format&gt;</u>
              Specifies  the  format  in  which  the  output table will be written (one of the ones in SUN/256 -
              matching is case-insensitive and you can use just the first few letters). If it  has  the  special
              value  "<u>(auto)</u>" (the default), then the output filename will be examined to try to guess what sort
              of file is required usually by looking at the extension. If it's not  obvious  from  the  filename
              what output format is intended, an error will result.

              This parameter must only be given if <u>omode</u> has its default value of "<u>out</u>".

       <b>ra=</b><u>&lt;expr&gt;</u>
              Right ascension in degrees in the ICRS coordinate system for the position of each row of the input
              table.  This  may  simply  be  a column name, or it may be an algebraic expression calculated from
              columns as explained in SUN/256. If left blank, an attempt is made  to  guess  from  UCDs,  column
              names and unit annotations what expression to use.

       <b>dec=</b><u>&lt;expr&gt;</u>
              Declination in degrees in the ICRS coordinate system for the position of each row of the input ta‐
              ble.  This  may  simply  be  a  column  name, or it may be an algebraic expression calculated from
              columns as explained in SUN/256. If left blank, an attempt is made  to  guess  from  UCDs,  column
              names and unit annotations what expression to use.

       <b>radius=</b><u>&lt;value/arcsec&gt;</u>
              Maximum  distance from the local table (ra,dec) position at which counterparts from the remote ta‐
              ble will be identified. This is a fixed value given in  arcseconds,  and  must  be  in  the  range
              [0,180] (this limit is currently enforced by the CDS Xmatch service).

       <b>cdstable=</b><u>&lt;value&gt;</u>
              Identifier  of  the  table from the CDS crossmatch service that is to be matched against the local
              table. This identifier may be the standard VizieR identifier  (e.g.  "<u>II/246/out</u>"  for  the  2MASS
              Point Source Catalogue) or "<u>simbad</u>" to indicate SIMBAD data.

              See  for instance the TAPVizieR table searching facility at <u><a href="http://tapvizier.u-strasbg.fr/adql/">http://tapvizier.u-strasbg.fr/adql/</a></u> to
              find VizieR catalogue identifiers.

       <b>find=</b><u>all|best|best-remote|each|each-dist</u>
              Determines which pair matches are included in the result.

                * <u>all</u>: All matches

                * <u>best</u>: Matched rows, best remote row for each input row

                * <u>best-remote</u>: Matched rows, best input row for each remote row

                * <u>each</u>: One row per input row, contains best remote match or blank

                * <u>each-dist</u>: One row per input row, column giving distance only for best match
               Note only the <u>all</u> mode is symmetric between the two tables.

              <b>Note</b> <b>also</b> <b>that</b> <b>there</b> <b>is</b> <b>a</b> <b>bug</b> in <u>best-remote</u> matching. If the match is done  in  multiple  blocks,
              it's  possible  for  a remote table row to appear matched against one local table row per uploaded
              block, rather than just once for the whole result. If you're worried about that, set <u>blocksize</u>  <u>&gt;=</u>
              rowCount. This may be fixed in a future release.

       <b>blocksize=</b><u>&lt;int-value&gt;</u>
              The  CDS Xmatch service operates limits on the maximum number of rows that can be uploaded and the
              maximum number of rows that is returned as a result from a single query. In the case of large  in‐
              put tables, they are broken down into smaller blocks, and one request is sent to the external ser‐
              vice  for each block. This parameter controls the number of rows in each block. For an input table
              with fewer rows than this value, the whole thing is done as a single request.

              At time of writing, the maximum upload size is 100Mb (about 3Mrow; this does  not  depend  on  the
              width of your table), and the maximum return size is 2Mrow.

              Large  blocksizes  tend  to  be good (up to a point) for reducing the total amount of time a large
              xmatch operation takes, but they can make it harder to see the job progressing. There is also  the
              danger  (for ALL-type find modes) of exceeding the return size limit, which will result in trunca‐
              tion of the returned result.

       <b>maxrec=</b><u>&lt;int-value&gt;</u>
              Limit to the number of rows resulting from this operation. If the value is negative (the  default)
              no  limit  is  imposed.  Note  however that there can be truncation of the result if the number of
              records returned from a single chunk exceeds the service hard limit (2,000,000 at  time  of  writ‐
              ing).

       <b>compress=</b><u>true|false</u>
              If  true,  the service is requested to provide HTTP-level compression for the response stream (Ac‐
              cept-Encoding header is set to "<u>gzip</u>", see RFC 2616). This does  not  guarantee  that  compression
              will  happen  but if the service honours this request it may result in a smaller amount of network
              traffic at the expense of more processing on the server and client.

       <b>serviceurl=</b><u>&lt;url-value&gt;</u>
              The URL at which the CDS Xmatch service can be found. Normally this should not be altered from the
              default, but if other implementations of the same service are known, this parameter can be used to
              access them.

       <b>usemoc=</b><u>true|false</u>
              If true, first acquire a MOC coverage map from CDS, and use that to pre-filter rows before upload‐
              ing them for matching. This should improve efficiency, but have no effect on the result.

       <b>presort=</b><u>true|false</u>
              If true, the rows are sorted by HEALPix index before they are uploaded to the CDS X-Match service.
              If the match is done in multiple blocks, this may improve efficiency, since when matching  against
              a  large  remote  catalogue  the  X-Match  service  likes to process requests in which sources are
              grouped into a small region rather than scattered all over the sky.

              Note this will have a couple of other side effects that may be undesirable: it will read  all  the
              input  rows into the task at once, which may make it harder to assess progress, and it will affect
              the order of the rows in the output table.

              It is probably only worth setting true for rather large (multi-million-row?) multi-block  matches,
              where both local and remote catalogues are spread over a significant fraction of the sky. But feel
              free to experiment.

       <b>fixcols=</b><u>none|dups|all</u>
              Determines how input columns are renamed before use in the output table. The choices are:

                * <u>none</u>: columns are not renamed

                * <u>dups</u>:  columns which would otherwise have duplicate names in the output will be renamed to in‐
                  dicate which table they came from

                * <u>all</u>: all columns will be renamed to indicate which table they came from
               If columns are renamed, the new ones are determined by <u>suffix*</u> parameters.

       <b>suffixin=</b><u>&lt;label&gt;</u>
              If the <u>fixcols</u> parameter is set so that input columns are renamed for insertion  into  the  output
              table,  this parameter determines how the renaming is done. It gives a suffix which is appended to
              all renamed columns from the input table.

       <b>suffixremote=</b><u>&lt;label&gt;</u>
              If the <u>fixcols</u> parameter is set so that input columns are renamed for insertion  into  the  output
              table,  this parameter determines how the renaming is done. It gives a suffix which is appended to
              all renamed columns from the CDS result table.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man1/stilts.1.html">stilts</a></b>(1)

       If the package stilts-doc is installed, the full documentation <b>SUN/256</b> is available in HTML format:
       file:///usr/share/doc/stilts/sun256/index.html

</pre><h4><b>VERSION</b></h4><pre>
       STILTS version 3.5.1-debian

       This is the Debian version of Stilts, which lack the support of some file formats and network  protocols.
       For differences see
       file:///usr/share/doc/stilts/README.Debian

</pre><h4><b>AUTHOR</b></h4><pre>
       Mark Taylor (Bristol University)

                                                    Mar 2017                               <u><a href="../man1/STILTS-CDSSKYMATCH.1.html">STILTS-CDSSKYMATCH</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>