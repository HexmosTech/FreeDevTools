<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>borg-compact - compact segment files in the repository</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/jammy/+package/borgbackup">borgbackup_1.2.0-1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       borg-compact - compact segment files in the repository

</pre><h4><b>SYNOPSIS</b></h4><pre>
       borg [common options] compact [options] [REPOSITORY]

</pre><h4><b>DESCRIPTION</b></h4><pre>
       This command frees repository space by compacting segments.

       Use  this  regularly  to avoid running out of space - you do not need to use this after each borg command
       though. It is especially useful after  deleting  archives,  because  only  compaction  will  really  free
       repository space.

       borg compact does not need a key, so it is possible to invoke it from the client or also from the server.

       Depending  on  the  amount  of  segments that need compaction, it may take a while, so consider using the
       <b>--progress</b> option.

       A segment is compacted if the amount  of  saved  space  is  above  the  percentage  value  given  by  the
       <b>--threshold</b>  option.  If  omitted, a threshold of 10% is used.  When using <b>--verbose</b>, borg will output an
       estimate of the freed space.

       After upgrading borg (server) to 1.2+, you can  use  <b>borg</b>  <b>compact</b>  <b>--cleanup-commits</b>  to  clean  up  the
       numerous 17byte commit-only segments that borg 1.1 did not clean up due to a bug. It is enough to do that
       once per repository.

       See <u>separate_compaction</u> in Additional Notes for more details.

</pre><h4><b>OPTIONS</b></h4><pre>
       See <u><a href="../man1/borg-common.1.html">borg-common</a>(1)</u> for common options of Borg commands.

   <b>arguments</b>
       <b>REPOSITORY</b>
              repository to compact

   <b>optional</b> <b>arguments</b>
       <b>--cleanup-commits</b>
              cleanup commit-only 17-byte segment files

       <b>--threshold</b> <u>PERCENT</u>
              set minimum threshold for saved space in PERCENT (Default: 10)

</pre><h4><b>EXAMPLES</b></h4><pre>
          # compact segments and free repo disk space
          $ borg compact /path/to/repo

          # same as above plus clean up 17byte commit-only segments
          $ borg compact --cleanup-commits /path/to/repo

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <u><a href="../man1/borg-common.1.html">borg-common</a>(1)</u>

</pre><h4><b>AUTHOR</b></h4><pre>
       The Borg Collective

                                                   2022-02-19                                    <u><a href="../man1/BORG-COMPACT.1.html">BORG-COMPACT</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>