<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>fido2-cred — make/verify a FIDO2 credential</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/fido2-tools">fido2-tools_1.15.0-1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       fido2-cred — make/verify a FIDO2 credential

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>fido2-cred</b> <b>-M</b> [<b>-bdhqruvw</b>] [<b>-c</b> <u>cred_protect</u>] [<b>-i</b> <u>input_file</u>] [<b>-o</b> <u>output_file</u>] <u>device</u> [<u>type</u>]
       <b>fido2-cred</b> <b>-V</b> [<b>-dhv</b>] [<b>-c</b> <u>cred_protect</u>] [<b>-i</b> <u>input_file</u>] [<b>-o</b> <u>output_file</u>] [<u>type</u>]

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>fido2-cred</b> makes or verifies a FIDO2 credential.

       A  credential  <u>type</u>  may be <u>es256</u> (denoting ECDSA over NIST P-256 with SHA-256), <u>rs256</u> (denoting 2048-bit
       RSA with PKCS#1.5 padding and SHA-256), or <u>eddsa</u> (denoting EDDSA over Curve25519 with SHA-512).  If  <u>type</u>
       is not specified, <u>es256</u> is assumed.

       When  making  a credential, the authenticator may require the user to authenticate with a PIN.  If the <b>-q</b>
       option is not specified, <b>fido2-cred</b> will prompt the user for the PIN.  If a <u>tty</u> is available,  <b>fido2-cred</b>
       will use it to obtain the PIN.  Otherwise, <u>stdin</u> is used.

       The  input  of  <b>fido2-cred</b>  is  defined by the parameters of the credential to be made/verified.  See the
       “INPUT FORMAT” section for details.

       The output of <b>fido2-cred</b> is defined by the result of the selected operation.   See  the  “OUTPUT  FORMAT”
       section for details.

       If a credential is successfully created or verified, <b>fido2-cred</b> exits 0.  Otherwise, <b>fido2-cred</b> exits 1.

       The options are as follows:

       <b>-M</b>      Tells <b>fido2-cred</b> to make a new credential on <u>device</u>.

       <b>-V</b>      Tells <b>fido2-cred</b> to verify a credential.

       <b>-b</b>      Request  the  credential's  “largeBlobKey”, a 32-byte symmetric key associated with the generated
               credential.

       <b>-c</b> <u>cred_protect</u>
               If making a credential, set the credential's protection level to <u>cred_protect</u>, where <u>cred_protect</u>
               is the credential's protection level in decimal notation.  Please refer to &lt;<u>fido/param.h</u>&gt; for the
               set of possible values.  If verifying a credential, check  whether  the  credential's  protection
               level was signed by the authenticator as <u>cred_protect</u>.

       <b>-d</b>      Causes <b>fido2-cred</b> to emit debugging output on <u>stderr</u>.

       <b>-h</b>      If making a credential, enable the FIDO2 hmac-secret extension.  If verifying a credential, check
               whether the extension data bit was signed by the authenticator.

       <b>-i</b> <u>input_file</u>
               Tells <b>fido2-cred</b> to read the parameters of the credential from <u>input_file</u> instead of <u>stdin</u>.

       <b>-o</b> <u>output_file</u>
               Tells <b>fido2-cred</b> to write output on <u>output_file</u> instead of <u>stdout</u>.

       <b>-q</b>      Tells <b>fido2-cred</b> to be quiet.  If a PIN is required and <b>-q</b> is specified, <b>fido2-cred</b> will fail.

       <b>-r</b>      Create a resident credential.  Resident credentials are called “discoverable credentials” in CTAP
               2.1.

       <b>-u</b>      Create   a  U2F  credential.   By  default,  <b>fido2-cred</b>  will  use  FIDO2  if  supported  by  the
               authenticator, and fallback to U2F otherwise.

       <b>-v</b>      If making a credential, request user verification.  If verifying a credential, check whether  the
               user verification bit was signed by the authenticator.

       <b>-w</b>      Tells  <b>fido2-cred</b>  that  the first line of input when making a credential shall be interpreted as
               unhashed client data.  This is required by Windows Hello, which calculates the client  data  hash
               internally.

</pre><h4><b>INPUT</b> <b>FORMAT</b></h4><pre>
       The  input  of  <b>fido2-cred</b>  consists  of  base64  blobs and UTF-8 strings separated by newline characters
       ('\n').

       When making a credential, <b>fido2-cred</b> expects its input to consist of:

             1.   client data hash (base64 blob);
             2.   relying party id (UTF-8 string);
             3.   user name (UTF-8 string);
             4.   user id (base64 blob).

       When verifying a credential, <b>fido2-cred</b> expects its input to consist of:

             1.   client data hash (base64 blob);
             2.   relying party id (UTF-8 string);
             3.   credential format (UTF-8 string);
             4.   authenticator data (base64 blob);
             5.   credential id (base64 blob);
             6.   attestation signature (base64 blob);
             7.   attestation certificate (optional, base64 blob).

       UTF-8 strings passed to <b>fido2-cred</b> must not contain embedded newline or NUL characters.

</pre><h4><b>OUTPUT</b> <b>FORMAT</b></h4><pre>
       The output of <b>fido2-cred</b> consists of base64 blobs, UTF-8 strings, and PEM-encoded public  keys  separated
       by newline characters ('\n').

       Upon the successful generation of a credential, <b>fido2-cred</b> outputs:

             1.   client data hash (base64 blob);
             2.   relying party id (UTF-8 string);
             3.   credential format (UTF-8 string);
             4.   authenticator data (base64 blob);
             5.   credential id (base64 blob);
             6.   attestation signature (base64 blob);
             7.   attestation certificate, if present (base64 blob).
             8.   the credential's associated 32-byte symmetric key (“largeBlobKey”), if present (base64 blob).

       Upon the successful verification of a credential, <b>fido2-cred</b> outputs:

             1.   credential id (base64 blob);
             2.   PEM-encoded credential key.

</pre><h4><b>EXAMPLES</b></h4><pre>
       Create  a  new  <u>es256</u>  credential  on  <u>/dev/hidraw5</u>, verify it, and save the id and the public key of the
       credential in <u>cred</u>:

             <b>$</b> <b>echo</b> <b>credential</b> <b>challenge</b> | <b>openssl</b> <b>sha256</b> <b>-binary</b> | <b>base64</b> <b>&gt;</b> <b>cred_param</b>
             <b>$</b> <b>echo</b> <b>relying</b> <b>party</b> <b>&gt;&gt;</b> <b>cred_param</b>
             <b>$</b> <b>echo</b> <b>user</b> <b>name</b> <b>&gt;&gt;</b> <b>cred_param</b>
             <b>$</b> <b>dd</b> <b>if=/dev/urandom</b> <b>bs=1</b> <b>count=32</b> | <b>base64</b> <b>&gt;&gt;</b> <b>cred_param</b>
             <b>$</b> <b>fido2-cred</b> <b>-M</b> <b>-i</b> <b>cred_param</b> <b>/dev/hidraw5</b> | <b>fido2-cred</b> <b>-V</b> <b>-o</b> <b>cred</b>

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <u><a href="../man1/fido2-assert.1.html">fido2-assert</a></u>(1), <u><a href="../man1/fido2-token.1.html">fido2-token</a></u>(1)

</pre><h4><b>CAVEATS</b></h4><pre>
       Please note that <b>fido2-cred</b> handles Basic Attestation and Self Attestation transparently.  In the case of
       Basic Attestation, the validity of the authenticator's attestation certificate is <u>not</u> verified.

Debian                                            July 3, 2023                                     <u><a href="../man1/FIDO2-CRED.1.html">FIDO2-CRED</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>