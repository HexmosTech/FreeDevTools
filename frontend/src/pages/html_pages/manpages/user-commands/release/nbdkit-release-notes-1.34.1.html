<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>nbdkit-release-notes-1.34 - release notes for nbdkit 1.34</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/nbdkit">nbdkit_1.42.2-1ubuntu1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       nbdkit-release-notes-1.34 - release notes for nbdkit 1.34

</pre><h4><b>DESCRIPTION</b></h4><pre>
       These are the release notes for nbdkit stable release 1.34.  This describes the major changes since 1.32.

       nbdkit 1.34.0 was released on <b>14</b> <b>April</b> <b>2023</b>.

   <b>Security</b>
       Various sanity checks were added to <b><a href="../man1/nbdkit-luks-filter.1.html">nbdkit-luks-filter</a></b>(1) so it can handle untrusted disk images.

       TLS support was hardened against a Man-in-the-Middle attacker injecting unknown NBD options before
       STARTTLS (Eric Blake).

       Fix rare assertion failure (denial of service) which can be triggered by clients hanging up early (Eric
       Blake).

       All past security issues and information about how to report new ones can be found in <b><a href="../man1/nbdkit-security.1.html">nbdkit-security</a></b>(1).

   <b>Plugins</b>
       New <b><a href="../man1/nbdkit-blkio-plugin.1.html">nbdkit-blkio-plugin</a></b>(1) allows you to easily consume and automate the libblkio high performance
       storage library.  This allows you to (amongst other things) access local vhost-user and VFIO devices
       (thanks Alberto Faria and Stefan Hajnoczi).

       <b><a href="../man1/nbdkit-file-plugin.1.html">nbdkit-file-plugin</a></b>(1) has new "fd" and "dirfd" parameters allowing a file or directory to be passed from
       a parent process through a file descriptor.

       Several enhancements were made to <b><a href="../man1/nbdkit-curl-plugin.1.html">nbdkit-curl-plugin</a></b>(1), concentrating on improved performance and
       functionality:

       •   Multi-conn is now enabled for read-only connections (thanks Eric Blake).

       •   Instead  of  using  one  libcurl  handle  per  NBD client, we now use a common pool of handles, which
           improves performance.

       •   Fix the "tls13-ciphers" parameter (Michal Orzel).

       •   We now use the new <b><a href="../man3/CURLOPT_PROTOCOLS_STR.3.html">CURLOPT_PROTOCOLS_STR</a></b>(3) feature of libcurl (if available) instead of  hard-coding
           the list of protocols into the plugin.

       •   Support was added for forcing "ssl-version", http-version

       <b><a href="../man1/nbdkit-vddk-plugin.1.html">nbdkit-vddk-plugin</a></b>(1) now supports VDDK 8 (thanks Ming Xie, Alice Frosi).

       <b><a href="../man1/nbdkit-torrent-plugin.1.html">nbdkit-torrent-plugin</a></b>(1) was ported to macOS (Eric Blake).

   <b>Filters</b>
       <b><a href="../man1/nbdkit-blocksize-policy-filter.1.html">nbdkit-blocksize-policy-filter</a></b>(1)  has  a  new "blocksize-write-disconnect" to force a disconnection if a
       client attempts a write larger than a certain threshold (Eric Blake).

       <b><a href="../man1/nbdkit-retry-filter.1.html">nbdkit-retry-filter</a></b>(1) can now retry plugin open (Eric Blake).

   <b>Language</b> <b>bindings</b>
       <b><a href="../man3/nbdkit-python-plugin.3.html">nbdkit-python-plugin</a></b>(3) now rejects extra parameters to  "export_name"  and  "shutdown"  functions  (Eric
       Blake).

       Tracebacks from Python plugins should now include the full method name (Eric Blake).

       <b><a href="../man3/nbdkit-sh-plugin.3.html">nbdkit-sh-plugin</a></b>(3)  status  codes  have changed in this release, although in a way that will normally be
       backwards compatible with older plugins.  Two new status codes  are  reserved  for  shutdown  server  and
       disconnect client.  Check the manual page for details.  (Eric Blake)

   <b>Server</b>
       "nbdkit  --dump-config"  now  reports "exit_with_parent=yes|no" so you can tell if the optional exit with
       parent functionality is enabled on the platform.

       Debug messages from filters and plugins are now picked out in bold, making them easier  to  read  amongst
       other nbdkit debug messages.

   <b>API</b>
       New  "nbdkit_disconnect" API which allows a plugin or filter to drop the connection to the current client
       (Eric Blake).

   <b>Bug</b> <b>fixes</b>
       Fix a deadlock in <b><a href="../man1/nbdkit-exitwhen-filter.1.html">nbdkit-exitwhen-filter</a></b>(1) (Piotr Dobrowolski).

       Fix the error message in <b><a href="../man1/nbdkit-ssh-plugin.1.html">nbdkit-ssh-plugin</a></b>(1) when the <u>known_hosts</u> file is not readable (thanks  Jonathon
       Jongsma).

   <b>Documentation</b>
       The  <u>--help</u>  output  of  plugins  is  now consistent with the manual pages, and extra tests were added to
       ensure it stays this way.

   <b>Tests</b>
       Multiple CI improvements, particularly for Alpine Linux and macOS (Eric Blake).

   <b>Build</b>
       Most "./configure"-time  features  can  now  be  both  enabled  and  disabled  using  <u>--with-</u>feature  and
       <u>--without-</u>feature (Arsen Arsenović).

       Multiple VPATH build problems fixed (Eric Blake).

   <b>Internals</b>
       Use  <u>Subject</u>  <u>Alternative</u>  <u>Name</u>  instead  of  <u>commonName</u>  in  test  certificates  and  suggest its use in
       documentation (thanks Daniel Berrangé).

       Source files reformatted to use ≤ 80 columns (Laszlo Ersek).

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man1/nbdkit.1.html">nbdkit</a></b>(1).

</pre><h4><b>AUTHORS</b></h4><pre>
       Authors of nbdkit 1.34:

       Alan Somers
       Arsen Arsenović
       Daniel P. Berrangé
       Eric Blake
       Laszlo Ersek
       Michal Orzel
       Nikolaus Rath
       Nir Soffer
       Piotr Dobrowolski
       Richard W.M. Jones
       Thomas Weißschuh

</pre><h4><b>COPYRIGHT</b></h4><pre>
       Copyright Red Hat

</pre><h4><b>LICENSE</b></h4><pre>
       Redistribution and use in source and binary forms, with or without modification, are  permitted  provided
       that the following conditions are met:

       •   Redistributions  of  source  code must retain the above copyright notice, this list of conditions and
           the following disclaimer.

       •   Redistributions in binary form must reproduce the above copyright notice, this list of conditions and
           the following disclaimer in the documentation and/or other materials provided with the distribution.

       •   Neither the name of Red Hat nor the names of its contributors may  be  used  to  endorse  or  promote
           products derived from this software without specific prior written permission.

       THIS  SOFTWARE  IS  PROVIDED BY RED HAT AND CONTRIBUTORS ''AS IS'' AND ANY EXPRESS OR IMPLIED WARRANTIES,
       INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND  FITNESS  FOR  A  PARTICULAR
       PURPOSE  ARE  DISCLAIMED.  IN  NO EVENT SHALL RED HAT OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT,
       INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,  PROCUREMENT  OF
       SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND
       ON  ANY  THEORY  OF  LIABILITY,  WHETHER  IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR
       OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH
       DAMAGE.

nbdkit-1.42.2                                      2025-04-02                       <u><a href="../man1/nbdkit-release-notes-1.34.1.html">nbdkit-release-notes-1.34</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>