<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>libnbd-release-notes-1.20 - release notes for libnbd 1.20</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/libnbd-dev">libnbd-dev_1.22.0-1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       libnbd-release-notes-1.20 - release notes for libnbd 1.20

</pre><h4><b>DESCRIPTION</b></h4><pre>
       These are the release notes for libnbd stable release 1.20.  This describes the major changes since 1.18.

       libnbd 1.20.0 was released on <b>5</b> <b>April</b> <b>2024</b>.

   <b>Security</b>
       Fuzzing found and Eric Blake fixed an assertion which could be triggered by connecting to a malicious
       server.  This was assigned CVE-2023-5871 (low severity).  See the announcement here:
       https://lists.libguestfs.org/archives/list/<a href="mailto:guestfs@lists.libguestfs.org">guestfs@lists.libguestfs.org</a>/thread/5CRC7LRTN35WPZZ4BT6NAMH4JGMF47IK/

       If you find a security issue, please read <u>SECURITY</u> in the source (online here:
       https://gitlab.com/nbdkit/libnbd/blob/master/SECURITY).  To find out about previous security issues in
       libnbd, see <b><a href="../man3/libnbd-security.3.html">libnbd-security</a></b>(3).

   <b>Enhancements</b> <b>to</b> <b>existing</b> <b>APIs</b>
       <b><a href="../man3/nbd_connect_uri.3.html">nbd_connect_uri</a></b>(3) now correctly supports case insensitive URIs.

   <b>Protocol</b>
       Improve interop with <b><a href="../man1/nbd-server.1.html">nbd-server</a></b>(1) which supports structured replies but not meta context (Eric Blake).

   <b>Tools</b>
       <b><a href="../man1/nbdinfo.1.html">nbdinfo</a></b>(1) adds support for <u>--isnt</u>, <u>--cannot</u>, <u>--hasnt</u>, which lets you check if features of an NBD server
       are <u>not</u> supported.

       <b><a href="../man1/nbdinfo.1.html">nbdinfo</a></b>(1) adds support for <u>--uri</u> which just prints the canonical URI of the server.

       <b><a href="../man1/nbdinfo.1.html">nbdinfo</a></b>(1) now prints human sizes for block size constraints (Eric Blake).

   <b>Language</b> <b>bindings</b>
       New <b><a href="../man3/libnbd-rust.3.html">libnbd-rust</a></b>(3) manual page added, providing an overview for writing Rust programs using libnbd.

       Rust documentation has been improved by using a custom translator from our own documentation format (Perl
       POD) to rustdoc.

       Some Rust compiler warnings were fixed (Eric Blake).

       OCaml bindings now support zero-copy in AIO pread and pwrite functions.  This change is backwards
       compatible with existing code.  (Thanks Nicolas Ojeda Bar, Anil Madhavapeddy, Simon Cruanes).

       OCaml bindings now use "Gc.finalize" (OCaml-level finalizers instead of C-level finalizers) which
       improves compatibility in OCaml 5.1.1 and above (Guillaume Munch-Maccagnoni).

       OCaml ≥ 4.05 is formally required and checked in <u>./configure</u>.  Previously we did not specify a minimum
       version of OCaml, but in practice versions older than 4.05 probably didn't work.

   <b>Tests</b>
       Fuzzing approach was changed to use asynchronous commands.  This improves speed of fuzzing greatly and
       should find more issues.

       Multiple CI fixes (Eric Blake).

       Respect the user's choice of qemu-nbd, nbdkit and other binaries from (eg)
       "./configure NBDKIT=/some/nbdkit".  Previously we would often test against binaries found on the path
       even if the user had specified other binaries to use.

   <b>Other</b> <b>improvements</b> <b>and</b> <b>bug</b> <b>fixes</b>
       <b><a href="../man1/nbdinfo.1.html">nbdinfo</a></b>(1) now gracefully disconnects from the server in error cases, improving output (Eric Blake).

       "struct nbd_handle" now contains a magic value which is checked on entry to libnbd, which should identify
       mistakes where programs calling libnbd pass in an incorrect pointer.

   <b>Documentation</b>
       An example was added of how to use userfaultfd to mmap an NBD-backed drive.  See <u>examples/userfault-map.c</u>
       in the libnbd sources.

       Documentation of acceptable handle states in the man pages has been improved.

   <b>Build</b>
       <u>contrib/libnbd.m4</u> is a contributed configure test for libnbd (Bruno Haible).

       "./configure --with-bash-completions" will now fail if the required bash-completions package is not
       installed.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man3/libnbd.3.html">libnbd</a></b>(3).

</pre><h4><b>AUTHORS</b></h4><pre>
       Eric Blake
       Richard W.M. Jones
       Thomas Weißschuh

</pre><h4><b>COPYRIGHT</b></h4><pre>
       Copyright Red Hat

</pre><h4><b>LICENSE</b></h4><pre>
       This library is free software; you can redistribute it and/or modify it under the terms of the GNU Lesser
       General  Public License as published by the Free Software Foundation; either version 2 of the License, or
       (at your option) any later version.

       This library is distributed in the hope that it will be useful, but WITHOUT ANY  WARRANTY;  without  even
       the  implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU Lesser General
       Public License for more details.

       You should have received a copy of the GNU Lesser General Public License along with this library; if not,
       write to the Free Software Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA

libnbd-1.22.0                                      2025-02-12                       <u><a href="../man1/libnbd-release-notes-1.20.1.html">libnbd-release-notes-1.20</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>