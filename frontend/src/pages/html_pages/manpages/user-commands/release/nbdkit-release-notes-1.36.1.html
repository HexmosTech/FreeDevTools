<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>nbdkit-release-notes-1.36 - release notes for nbdkit 1.36</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/nbdkit">nbdkit_1.42.2-1ubuntu1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       nbdkit-release-notes-1.36 - release notes for nbdkit 1.36

</pre><h4><b>DESCRIPTION</b></h4><pre>
       These are the release notes for nbdkit stable release 1.36.  This describes the major changes since 1.34.

       nbdkit 1.36.0 was released on <b>27</b> <b>September</b> <b>2023</b>.

   <b>Security</b>
       No security issues were identified in this release.

       All past security issues and information about how to report new ones can be found in <b><a href="../man1/nbdkit-security.1.html">nbdkit-security</a></b>(1).

   <b>Plugins</b>
       New <b><a href="../man1/nbdkit-ones-plugin.1.html">nbdkit-ones-plugin</a></b>(1) which creates a fully allocated disk containing all 0xff (all ones), or another
       byte of your choice.

       <b><a href="../man1/nbdkit-curl-plugin.1.html">nbdkit-curl-plugin</a></b>(1) now uses a curl "multi" interface.  This enables much better performance, and also
       allows the curl plugin to handle requests in parallel.  The curl plugin now falls back to making a "GET"
       request to get the size of the remote file for certain servers which do not support "HEAD" requests.
       This plugin adds new options: "ipresolve" (force IPv4 or IPv6), "resolve" (force a particular IP
       address), <u>-D</u> <u>curl.times=1</u> (print detailed timing stats), and <u>-D</u> <u>curl.verbose.ids=1</u> (display connection
       and transfer IDs).

       <b><a href="../man1/nbdkit-memory-plugin.1.html">nbdkit-memory-plugin</a></b>(1) now uses a read-write lock to protect internal structures, resulting in improved
       performance for mostly read workloads.

       <b><a href="../man1/nbdkit-data-plugin.1.html">nbdkit-data-plugin</a></b>(1) now has more optimizations.

       <b><a href="../man1/nbdkit-file-plugin.1.html">nbdkit-file-plugin</a></b>(1) now supports 4k sector sizes on Windows (Brian Carnes).

   <b>Filters</b>
       New <b><a href="../man1/nbdkit-evil-filter.1.html">nbdkit-evil-filter</a></b>(1) adds random but consistent data corruption to the underlying plugin.

       New <b><a href="../man1/nbdkit-qcow2dec-filter.1.html">nbdkit-qcow2dec-filter</a></b>(1) which can decode qcow2 files (but not write to them).

       <b><a href="../man1/nbdkit-ip-filter.1.html">nbdkit-ip-filter</a></b>(1) can now filter by client SELinux label.

       <b><a href="../man1/nbdkit-partition-filter.1.html">nbdkit-partition-filter</a></b>(1) now supports 4k sector sizes (Brian Carnes).

       <b><a href="../man1/nbdkit-retry-request-filter.1.html">nbdkit-retry-request-filter</a></b>(1) allows the "get_size" operation to be retried.

       <b><a href="../man1/nbdkit-tar-filter.1.html">nbdkit-tar-filter</a></b>(1) adds new "tar-limit" parameter which can be used to ensure the filter does not read
       indefinite amounts of input when opening the tar file.

       Filters can now append their own output to nbdkit <u>--dump-plugin</u> output.

   <b>Language</b> <b>bindings</b>
       Rust bindings add support for "after_fork", "block_size", "nbdkit_debug", "nbdkit_is_tls",
       "nbdkit_parse_size", "nbdkit_parse_bool" and "nbdkit_parse_probability".  The "open" method can now
       return an error; note this is not backwards compatible and requires a small source code change to Rust
       plugins.  (Thanks Alan Somers)

       <b><a href="../man3/nbdkit-ocaml-plugin.3.html">nbdkit-ocaml-plugin</a></b>(3) now supports OCaml 5.

       OCaml bindings add support for "nbdkit_stdio_safe", "nbdkit_is_tls", "nbdkit_peer_name" and
       "nbdkit_peer_security_context".

       <b><a href="../man3/nbdkit-perl-plugin.3.html">nbdkit-perl-plugin</a></b>(3) now supports Perl 5.38.

       Shell script plugins (<b><a href="../man3/nbdkit-sh-plugin.3.html">nbdkit-sh-plugin</a></b>(3)) may now ignore stdin in their "pwrite" method, whereas
       previously it was required to read and discard stdin along error paths (thanks Eric Blake).

   <b>Server</b>
       When using the <u>--run</u> option, the default is now to use a private Unix domain socket (as if <u>-U</u> <u>-</u> was
       specified), whereas in nbdkit ≤ 1.34 the default was to open a TCP port.  The new default reflects the
       most common and safest way to use the <u>--run</u> option.  You can find out if nbdkit has the new behaviour by
       checking "nbdkit --dump-config" and looking for "run_default_socket=Unix" in the output.

       Debug strings containing control codes and other non-printable characters are now escaped properly.

       New flag <u>-D</u> <u>nbdkit.environ=1</u> can be used to dump the server environment in debug output.

   <b>API</b>
       New "nbdkit_parse_probability" function which can be used to parse probabilities in various formats, like
       "10%" or "1:10".

       New "nbdkit_peer_security_context" function which returns the security context (usually SELinux label) of
       the client.

   <b>Bug</b> <b>fixes</b>
       Fix long-standing double-free in <b><a href="../man1/nbdkit-file-plugin.1.html">nbdkit-file-plugin</a></b>(1) when the client closes the connection during
       negotiation (thanks Eric Blake).

       nbdkit-file-plugin now has improved error messages when you try to open a file with an empty name ("").

   <b>Documentation</b>
       Miscellaneous documentation improvements for Windows (Brian Carnes).

       Fuzzing instructions updated for Clang 17, AFL++ 4.08c.

   <b>Tests</b>
       Ongoing CI maintenance and fixes (Laszlo Ersek, Eric Blake).

       Many fixes in the test suite for MinGW and Wine.

       Several internal consistency checks were added to the test suite, to ensure, for example, that we always
       use "requires_run" when the test uses the nbdkit <u>--run</u> option.

   <b>Build</b>
       Optionally "zlib-ng" can be used (instead of "zlib") for faster decompression in various places.

       No longer link with msvcrt on Windows.

       "awk" is a build requirement.  It was implicitly required before (because it is needed by the
       "./configure" script generated by autoconf), but now the dependency is explicit (Eric Blake).

   <b>Internals</b>
       "podwrapper" has a new <u>--replace</u> parameter which makes it easier to use "AC_SUBST"-substitutions in
       documentation.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man1/nbdkit.1.html">nbdkit</a></b>(1).

</pre><h4><b>AUTHORS</b></h4><pre>
       Authors of nbdkit 1.36:

       Alan Somers
       Brian Carnes
       Eric Blake
       Laszlo Ersek
       Richard W.M. Jones

</pre><h4><b>COPYRIGHT</b></h4><pre>
       Copyright Red Hat

</pre><h4><b>LICENSE</b></h4><pre>
       Redistribution  and  use in source and binary forms, with or without modification, are permitted provided
       that the following conditions are met:

       •   Redistributions of source code must retain the above copyright notice, this list  of  conditions  and
           the following disclaimer.

       •   Redistributions in binary form must reproduce the above copyright notice, this list of conditions and
           the following disclaimer in the documentation and/or other materials provided with the distribution.

       •   Neither  the  name  of  Red  Hat  nor the names of its contributors may be used to endorse or promote
           products derived from this software without specific prior written permission.

       THIS SOFTWARE IS PROVIDED BY RED HAT AND CONTRIBUTORS ''AS IS'' AND ANY EXPRESS  OR  IMPLIED  WARRANTIES,
       INCLUDING,  BUT  NOT  LIMITED  TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
       PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL RED HAT OR CONTRIBUTORS BE LIABLE  FOR  ANY  DIRECT,  INDIRECT,
       INCIDENTAL,  SPECIAL,  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
       SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND
       ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT  LIABILITY,  OR  TORT  (INCLUDING  NEGLIGENCE  OR
       OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH
       DAMAGE.

nbdkit-1.42.2                                      2025-04-02                       <u><a href="../man1/nbdkit-release-notes-1.36.1.html">nbdkit-release-notes-1.36</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>