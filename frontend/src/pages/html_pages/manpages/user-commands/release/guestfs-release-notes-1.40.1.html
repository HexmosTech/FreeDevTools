<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>guestfs-release-notes - libguestfs Release Notes</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/libguestfs0t64">libguestfs0t64_1.54.1-1ubuntu3_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       guestfs-release-notes - libguestfs Release Notes

</pre><h4><b>RELEASE</b> <b>NOTES</b> <b>FOR</b> <b>LIBGUESTFS</b> <b>1.40</b></h4><pre>
       These release notes only cover the differences from the previous stable/dev branch split (1.38.0).  For
       detailed changelogs, please see the git repository, or the ChangeLog file distributed in the tarball.

   <b>New</b> <b>features</b>
       <u>New</u> <u>features</u> <u>in</u> <u>existing</u> <u>tools</u>

       Virt-inspector now displays the libosinfo short ID for guests (Pino Toscano).

       Guestfish <u>-N</u> will now generate 1G disks instead of 100M disks by default.

       Virt-resize supports f2fs filesystems (Pino Toscano).

       libguestfs-test-tool now supports bash tab completion (Pino Toscano).

       The <u>--machine-readable</u> option now supports sending output to files or stdout/stderr.  This works
       uniformly across most OCaml-based virt tools, specifically: virt-builder, virt-builder-repository, virt-
       dib, virt-get-kernel, virt-resize, virt-sparsify, and virt-v2v (Pino Toscano).

       Virt-builder <u>--uninstall</u> option now works on SUSE (Sebastian Meyer).

       Virt-builder now supports Windows.  We are not able to ship Windows templates in the public repository
       for obvious licensing reasons, but if you are an MSDN subscriber you may build your own.  See
       https://rwmj.wordpress.com/2018/09/13/creating-windows-templates-for-virt-builder/

       Many tools now support a <u>--key</u> option allowing you to pass in decryption keys for filesystems stored in
       local files on the host rather than having to feed them in over stdin (Pino Toscano).

       <u>virt-v2v</u> <u>and</u> <u>virt-p2v</u>

       New <u>-o</u> <u>rhv-upload</u> mode for directly uploading images to RHV, bypassing the Export Storage Domain (Tomáš
       Golembiovský, Nir Soffer, Daniel Erez, Pino Toscano).

       New <u>-o</u> <u>openstack</u> mode for directly uploading images to OpenStack and Cinder using OpenStack APIs.

       Virt-v2v now has a general mechanism for input and output options: <u>-io</u> and <u>-oo</u>.

       Virt-v2v can now install the RHV tools or QEMU GA in guests (Tomáš Golembiovský).

       The huge manual has now been split into several smaller documents and is more focused on helping users to
       accomplish specific v2v tasks.

       Multiple improvements to the OVF metadata when converting to RHV (Tomáš Golembiovský, Pino Toscano, Arik
       Hadas).

       Virt-v2v can now convert Linux guests with split kernel packages, especially Ubuntu 18.04 (Pino Toscano).

       Virt-v2v old <u>--password-file</u> option has been replaced by <u>-ip</u> (the old option remains for backwards
       compatibility).

       Virt-v2v now preserves the VM Generation ID.

       Virt-v2v has a new <u>--mac</u> option allowing specific NICs to be mapped precisely to networks or bridges on
       the target.

       New virt-v2v <u>--print-estimate</u> option to estimate the size of data that virt-v2v will copy.

       Virt-v2v is now usually able to remove open-vm-tools and VMware Tools from the Linux guest during
       conversion (Pino Toscano).

       Virt-v2v can now support UEFI conversions to RHV (Tomáš Golembiovský).

       Virt-p2v now prefers you to shut down instead of rebooting the machine after conversion has finished
       (Pino Toscano).

       Virt-v2v now writes the libosinfo short ID to the libvirt metadata when using <u>-o</u> <u>local</u> and <u>-o</u> <u>libvirt</u>
       output modes (Martin Kletzander).

       <u>Language</u> <u>bindings</u>

       OpenJDK 10+ is supported (Pino Toscano).

       Java bindings fixed for Gentoo host (Martin Kletzander).

       <u>Inspection</u>

       Support Kali Linux (Pino Toscano).

       When inspecting mountpoints, look for <u><a href="file:/etc/mdadm/mdadm.conf">/etc/mdadm/mdadm.conf</a></u> as well as <u>/etc/mdadm.conf</u> (Nikolay Ivanets).

       Improved support for OpenSUSE Tumbleweed (Pino Toscano).

       <u>Architectures</u> <u>and</u> <u>platforms</u>

       Miscellaneous macOS build fixes (Adam Robinson).

       <u>Other</u>

       Multiple documentation typos fixed (Yuri Chornoivan).

   <b>Security</b>
       See also <b><a href="../man1/guestfs-security.1.html">guestfs-security</a></b>(1).

       <u>CVE-2018-11806</u>

       Qemu's slirp (userspace networking) had several buffer overflows which could be triggered from the guest
       or network side.

   <b>API</b>
       <u>New</u> <u>APIs</u>

       "f2fs_expand"
           Expand an f2fs filesystem (Pino Toscano).

       "inspect_get_osinfo"
           Get the libosinfo short ID for the inspected guest (Pino Toscano).

       "lvm_scan"
           This rescans all PVs, VGs and LVs, optionally activating them.

       <u>Other</u> <u>API</u> <u>changes</u>

       "part_get_mbr_part_type" was reimplemented in OCaml (Nikolay Ivanets).

       "list_filesystems" now filters out MBR extended partitions (Nikolay Ivanets).

       "vgscan" has been deprecated.  Use the new "lvm_scan" API in preference.

   <b>Build</b> <b>changes</b>
       The JSON library switched from yajl to Jansson ≥ 2.7 (Pino Toscano).

       Support for The Sleuth Kit 4.5 (Pino Toscano).

       Multiple improvements in the "./configure" script (Lin Ma).

       More out-of-tree build fixes (Hilko Bengen).

       Some work on reproducible builds (Bernhard M. Wiedemann).

   <b>Internals</b>
       lvmetad  is  now  used  unconditionally, and is started much earlier in the appliance boot process.  This
       fixes support for certain PV types.

       On Debian, dash is installed inside the appliance and in virt-rescue (Pino Toscano).

       The amount of RAM assigned to the appliance has been increased  from  500M  to  768M  (on  x86_64,  other
       architectures  have  different  limits).   This  enables  use  of up to 255 disks when using recent Linux
       kernels.

       Virt-v2v now models the source machine type (eg. i440FX, Q35 or virt).

       Virt-p2v now generates configuration code automatically, also code for parsing the kernel command line.

       Use "LT_INIT" instead of "AC_PROG_LIBTOOL".

       The OCaml "JSON" code for parsing and serializing has been unified into a single abstract data type.

       Most OCaml tools are now built using the PIC runtime.  This has a performance penalty  on  i686,  but  is
       relatively free on other architectures and has security benefits.

       The  direct  backend  now  queries  the qemu binary for availability of KVM, instead of using a heuristic
       based on <u>/dev/kvm</u> (Andrea Bolognani).

       Our "clever" libxml2 writer macros are now used consistently across all parts of the code base.

       Qemu dropped <u>-nodefconfig</u> without telling us.  The equivalent <u>-no-user-config</u> option is now used instead.
       Qemu also moved the "serial" option from <u>-drive</u> to <u>-device</u>, again without any notice, and  this  is  also
       fixed.

   <b>Bugs</b> <b>fixed</b>
       https://bugzilla.redhat.com/1664310
           [RHEL 7.6 LP] openstack output leaks passwords

       https://bugzilla.redhat.com/1661038
           virt-inspector  fails  with  "error:  int_of_string"  on  a  Linux  image  when <a href="file:/etc/fstab">/etc/fstab</a> contains a
           partionless device

       https://bugzilla.redhat.com/1651432
           v2v - support for -insecure option to support OSP SSL connection for VM migrations

       https://bugzilla.redhat.com/1642044
           [RFE] virt-p2v UI should give the option to shutdown after conversion is finished

       https://bugzilla.redhat.com/1634248
           virt-v2v cannot convert opensuse15 guest

       https://bugzilla.redhat.com/1624902
           Fix rhev-apt command that virt-v2v runs in Windows guests on first boot

       https://bugzilla.redhat.com/1624878
           Update v2v docs to describe support for SHA 2 certs required for converting Windows  7  and  2008  R2
           guests

       https://bugzilla.redhat.com/1615885
           Minor log issue of virt-v2v

       https://bugzilla.redhat.com/1614276
           VixDiskLib: VixDiskLib_Read: Read 4096 sectors at 57516160 failed. Error 2 (Memory allocation failed.
           Out of memory.) (DiskLib error 802: NBD_ERR_INSUFFICIENT_RESOURCES) at 5240.

       https://bugzilla.redhat.com/1612785
           "warning:  &lt;target  dev='sr0'&gt; was ignored because the device name could not be recognized" should be
           hidden since convert cdrom is supported by virt-v2v

       https://bugzilla.redhat.com/1611690
           part_to_dev "/dev/sdp1" returns "/dev/sd" instead of "/dev/sdp"

       https://bugzilla.redhat.com/1608131
           inspection fails when swap partition in  <a href="file:/etc/fstab">/etc/fstab</a>  has  incorrect  UUID  compared  to  actual  swap
           partition

       https://bugzilla.redhat.com/1605071
           On machines where /dev/kvm exists but KVM doesn't work, libguestfs will not fall back to TCG

       https://bugzilla.redhat.com/1602353
           virt-inspector can't inspect LUKS-encrypted RHEL7 guest image

       https://bugzilla.redhat.com/1601943
           Improve error "No module named ovirtsdk4" in v2v rhv-upload conversion

       https://bugzilla.redhat.com/1598715
           Adding QXL device in OVF causes Cirrus Logic device to be added to guest

       https://bugzilla.redhat.com/1598350
           RFE: virt-v2v should preserve &lt;genid&gt;

       https://bugzilla.redhat.com/1596851
           Transfer fails if local host is in maintenance mode

       https://bugzilla.redhat.com/1596810
           Transfer fails if local host belongs to another DC

       https://bugzilla.redhat.com/1592468
           v2v to RHV transfer fails with: error: [empty name]: cannot read '//*/disksection' with value: null

       https://bugzilla.redhat.com/1592061
           virt-v2v convert rhel5.3 failure when executing rpm -ql kernel-2.6.18-128.el5 command

       https://bugzilla.redhat.com/1591789
           p2v: error: XML error: CPU vendor specified without CPU model

       https://bugzilla.redhat.com/1590220
           Hide rhv-upload option in virt-p2v client

       https://bugzilla.redhat.com/1588451
           Don't use relative socket paths for NBD

       https://bugzilla.redhat.com/1588088
           RFE: Support for -o rhv-upload via Unix domain socket

       https://bugzilla.redhat.com/1586198
           ovirt-imageio-daemon times out during migration

       https://bugzilla.redhat.com/1580309
           virt-v2v rhel7.6 build can't convert guest to null with qemu-kvm rhel7.5.z build

       https://bugzilla.redhat.com/1580292
           Virt-v2v rhel7.6 build can't convert guest with qemu-kvm rhel7.5.z build

       https://bugzilla.redhat.com/1579047
           virt-builder: ubuntu-18.04 template has stray HTTP proxy configured for apt

       https://bugzilla.redhat.com/1575640
           virt-builder: error: host cpu (x86_64) and guest arch (unknown) are not compatible

       https://bugzilla.redhat.com/1570407
           virt-v2v -i ova gives checksum error when missing files are mentioned in .mf

       https://bugzilla.redhat.com/1567763
           guestfsd: error: /Windows/Drivers/VirtIO: Read-only file system

       https://bugzilla.redhat.com/1564983
           The mount-vfs failed to mount the logical volume

       https://bugzilla.redhat.com/1561828
           RHV tools not properly installed in migrated Windows VM's causing boot failure

       https://bugzilla.redhat.com/1559027
           virt-v2v does not honor --network with -o rhv-upload

       https://bugzilla.redhat.com/1557273
           [RFE] Upload images directly to oVirt (virt-v2v -o rhv-upload)

       https://bugzilla.redhat.com/1544842
           [RFE] Add libosinfo short-id to virt-inspector output

       https://bugzilla.redhat.com/1544674
           virt-inspector --help differs from manpage

       https://bugzilla.redhat.com/1544227
           RFE: recognize the Kali Linux distribution

       https://bugzilla.redhat.com/1532224
           Resume=/dev/sdaX can't be updated to resume=/dev/vdaX in rhel7 guest's grub file after v2v conversion

       https://bugzilla.redhat.com/1530967
           Change categories of "Guest Operating system management by VIX API" in v2v man page

       https://bugzilla.redhat.com/1527334
           Various -it vddk -io vddk* options should be documented, removed or fixed

       https://bugzilla.redhat.com/1148012
           <b>Reverted:</b> RFE: Allow qemu-bridge-helper to be used to implement guestfs_set_network

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man1/guestfs-examples.1.html">guestfs-examples</a></b>(1),   <b><a href="../man1/guestfs-faq.1.html">guestfs-faq</a></b>(1),  <b><a href="../man1/guestfs-performance.1.html">guestfs-performance</a></b>(1),  <b><a href="../man1/guestfs-recipes.1.html">guestfs-recipes</a></b>(1),  <b><a href="../man1/guestfs-testing.1.html">guestfs-testing</a></b>(1),
       <b><a href="../man3/guestfs.3.html">guestfs</a></b>(3), <b><a href="../man1/guestfish.1.html">guestfish</a></b>(1), <a href="http://libguestfs.org/">http://libguestfs.org/</a>

</pre><h4><b>AUTHOR</b></h4><pre>
       Richard W.M. Jones

</pre><h4><b>COPYRIGHT</b></h4><pre>
       Copyright (C) 2009-2023 Red Hat Inc.

</pre><h4><b>LICENSE</b></h4><pre>
       This program is free software; you can redistribute it and/or modify  it  under  the  terms  of  the  GNU
       General  Public License as published by the Free Software Foundation; either version 2 of the License, or
       (at your option) any later version.

       This program is distributed in the hope that it will be useful, but WITHOUT ANY  WARRANTY;  without  even
       the  implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public
       License for more details.

       You should have received a copy of the GNU General Public License along with this program; if not,  write
       to the Free Software Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA.

</pre><h4><b>BUGS</b></h4><pre>
       To      get      a      list      of      bugs      against      libguestfs,      use      this     link:
       https://bugzilla.redhat.com/buglist.cgi?component=libguestfs&amp;product=Virtualization+Tools

       To      report      a      new       bug       against       libguestfs,       use       this       link:
       https://bugzilla.redhat.com/enter_bug.cgi?component=libguestfs&amp;product=Virtualization+Tools

       When reporting a bug, please supply:

       •   The version of libguestfs.

       •   Where you got libguestfs (eg. which Linux distro, compiled from source, etc)

       •   Describe the bug accurately and give a way to reproduce it.

       •   Run <b><a href="../man1/libguestfs-test-tool.1.html">libguestfs-test-tool</a></b>(1) and paste the <b>complete,</b> <b>unedited</b> output into the bug report.

libguestfs-1.54.1                                  2025-02-18                      <u><a href="../man1/guestfs-release-notes-1.40.1.html">guestfs-release-notes-1.40</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>