<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>nbdkit-release-notes-1.14 - release notes for nbdkit 1.14</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/nbdkit">nbdkit_1.42.2-1ubuntu1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       nbdkit-release-notes-1.14 - release notes for nbdkit 1.14

</pre><h4><b>DESCRIPTION</b></h4><pre>
       These are the release notes for nbdkit stable release 1.14.  This describes the major changes since 1.12.

       nbdkit 1.14.0 was released on 28th August 2019.

   <b>New</b> <b>features</b>
       Server performance improvements: Nagle’s algorithm is disabled; instead "MSG_MORE" is used to control
       when outgoing packets are sent.  Ramdisk plugins now support more efficient zeroing.  (Eric Blake).

       Plugins can now select their thread model at run time.  Thread model selection is not finalized until
       after the config stage (Eric Blake).

       The server supports "NBD_CMD_CACHE" for prefetching.  Plugins and filters have been updated to implement
       this where it makes sense (Eric Blake).

       Low level pthread lock failures now call <b><a href="../man3/abort.3.html">abort</a></b>(3).  This should never happen in real situations (Eric
       Blake).

       The server will not advertize multi-conn support if the internal thread model is serialized, avoiding a
       possible deadlock in some clients (Eric Blake).

       New server option <u>--no-sr</u> can be used to disable structured replies (Eric Blake).

       The server will now refuse to start if stdin/stdout/stderr are closed, to avoid potential issues with
       file descriptor handling in plugins (Eric Blake).

       $uri can be used to specify an NBD URI in <u>--run</u> parameters (Eric Blake).

       New <b><a href="../man1/nbdkit-stats-filter.1.html">nbdkit-stats-filter</a></b>(1) displays elapsed statistics about NBD operations, such as the number of bytes
       read and written.

       New <b><a href="../man1/nbdkit-nocache-filter.1.html">nbdkit-nocache-filter</a></b>(1) which disables cache requests, used to determine how effective they are
       (Eric Blake).

       New <b><a href="../man1/nbdkit-noparallel-filter.1.html">nbdkit-noparallel-filter</a></b>(1) which can be used to override the plugin’s own choice of thread model.
       Used to determine how the thread model affects performance, or to serialize plugins if required (Eric
       Blake).

       New <b><a href="../man1/nbdkit-cacheextents-filter.1.html">nbdkit-cacheextents-filter</a></b>(1) to cache extents requests, especially useful with VDDK which has a slow
       implementation of extents (Martin Kletzander).

       In <b><a href="../man1/nbdkit-full-plugin.1.html">nbdkit-full-plugin</a></b>(1), <b><a href="../man1/nbdkit-memory-plugin.1.html">nbdkit-memory-plugin</a></b>(1), <b><a href="../man1/nbdkit-null-plugin.1.html">nbdkit-null-plugin</a></b>(1), <b><a href="../man1/nbdkit-pattern-plugin.1.html">nbdkit-pattern-plugin</a></b>(1) and
       <b><a href="../man1/nbdkit-random-plugin.1.html">nbdkit-random-plugin</a></b>(1), the "size=" prefix can be omitted, ie: "nbdkit memory 1G" (instead of
       "size=1G").

       <b><a href="../man1/nbdkit-nbd-plugin.1.html">nbdkit-nbd-plugin</a></b>(1) has multiple enhancements (all added by Eric Blake):

       •   It may be built using libnbd instead of constructing raw NBD packets.

       •   "NBD_OPT_GO" is supported.

       •   Add structured reads.

       •   Implement "NBD_CMD_BLOCK_STATUS".

       •   Supports TCP sockets.

       •   Forwards "NBD_CMD_CACHE".

       •   Retry connections.

       •   Shared connections.

       •   Magic "uri" parameter.

       •   TLS support.

       <b><a href="../man1/nbdkit-vddk-plugin.1.html">nbdkit-vddk-plugin</a></b>(1)  now  reports  hole  extents  correctly  when  using the "single-link" flag (Martin
       Kletzander).

       <b><a href="../man1/nbdkit-cache-filter.1.html">nbdkit-cache-filter</a></b>(1) and <b><a href="../man1/nbdkit-cow-filter.1.html">nbdkit-cow-filter</a></b>(1) now avoid copying data through a bounce buffer when it is
       already sufficiently aligned (Eric Blake).

       Filters (such as <b><a href="../man1/nbdkit-delay-filter.1.html">nbdkit-delay-filter</a></b>(1) and <b><a href="../man1/nbdkit-rate-filter.1.html">nbdkit-rate-filter</a></b>(1))  which  sleep  no  longer  cause  long
       delays when the server is shut down (Eric Blake).

       Multiple fixes to <b><a href="../man1/nbdkit-rust-plugin.1.html">nbdkit-rust-plugin</a></b>(1) (Martin Kletzander).

       Multiple enhancements and clean ups to the test suite which should make tests better and more reliable.

       OCaml  plugins  can  now  use  "parse_size", "parse_bool", "read_password" calls, and there is also a new
       example plugin.

       On platforms which lack atomic "O_CLOEXEC" support the most serialized thread model is always selected to
       avoid leaking file descriptors (Eric Blake).

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man1/nbdkit.1.html">nbdkit</a></b>(1), https://www.redhat.com/archives/libguestfs/2019-August/msg00375.html.

</pre><h4><b>AUTHORS</b></h4><pre>
       Eric Blake

       Richard W.M. Jones

</pre><h4><b>COPYRIGHT</b></h4><pre>
       Copyright Red Hat

</pre><h4><b>LICENSE</b></h4><pre>
       Redistribution and use in source and binary forms, with or without modification, are  permitted  provided
       that the following conditions are met:

       •   Redistributions  of  source  code must retain the above copyright notice, this list of conditions and
           the following disclaimer.

       •   Redistributions in binary form must reproduce the above copyright notice, this list of conditions and
           the following disclaimer in the documentation and/or other materials provided with the distribution.

       •   Neither the name of Red Hat nor the names of its contributors may  be  used  to  endorse  or  promote
           products derived from this software without specific prior written permission.

       THIS  SOFTWARE  IS  PROVIDED BY RED HAT AND CONTRIBUTORS ''AS IS'' AND ANY EXPRESS OR IMPLIED WARRANTIES,
       INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND  FITNESS  FOR  A  PARTICULAR
       PURPOSE  ARE  DISCLAIMED.  IN  NO EVENT SHALL RED HAT OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT,
       INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,  PROCUREMENT  OF
       SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND
       ON  ANY  THEORY  OF  LIABILITY,  WHETHER  IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR
       OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH
       DAMAGE.

nbdkit-1.42.2                                      2025-04-02                       <u><a href="../man1/nbdkit-release-notes-1.14.1.html">nbdkit-release-notes-1.14</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>