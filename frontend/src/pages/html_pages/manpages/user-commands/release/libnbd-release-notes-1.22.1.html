<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>libnbd-release-notes-1.22 - release notes for libnbd 1.22</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/libnbd-dev">libnbd-dev_1.22.0-1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       libnbd-release-notes-1.22 - release notes for libnbd 1.22

</pre><h4><b>DESCRIPTION</b></h4><pre>
       These are the release notes for libnbd stable release 1.22.  This describes the major changes since 1.20.

       libnbd 1.22.0 was released on <b>XXX</b> <b>XXX</b> <b>2025</b>.

   <b>Security</b>
       Multiple flaws in TLS server certificate checking were found and fixed (CVE-2024-7383).  See
       https://lists.libguestfs.org/archives/list/<a href="mailto:guestfs@lists.libguestfs.org">guestfs@lists.libguestfs.org</a>/thread/LHR3BW6RJ7K4BJBQIYV3GTZLSY27VZO2/
       (thanks Jon Szymaniak, Daniel P. Berrangé).

       If you find a security issue, please read <u>SECURITY</u> in the source (online here:
       https://gitlab.com/nbdkit/libnbd/blob/master/SECURITY).  To find out about previous security issues in
       libnbd, see <b><a href="../man3/libnbd-security.3.html">libnbd-security</a></b>(3).

   <b>New</b> <b>APIs</b>
       <b><a href="../man3/nbd_set_tls_hostname.3.html">nbd_set_tls_hostname</a></b>(3) and <b><a href="../man3/nbd_get_tls_hostname.3.html">nbd_get_tls_hostname</a></b>(3) can be used to set and get the hostname used for TLS
       server certificate checking.  This hostname, if set, is used in preference to the hostname of the server.
       This can be used when NBD connections are proxied, or transported over a Unix domain socket.

       <b><a href="../man3/nbd_is_uri.3.html">nbd_is_uri</a></b>(3) applies a heuristic to detect if something is likely to be an NBD URI or not.

       <b><a href="../man3/nbd_get_subprocess_pid.3.html">nbd_get_subprocess_pid</a></b>(3) returns the process ID (PID) of the subprocess created by functions such as
       <b><a href="../man3/nbd_connect_command.3.html">nbd_connect_command</a></b>(3).

   <b>Enhancements</b> <b>to</b> <b>existing</b> <b>APIs</b>
       As an extension to <b><a href="../man3/nbd_connect_uri.3.html">nbd_connect_uri</a></b>(3), you can now connect to "nbd+ssh://" or "nbds+ssh://" URIs,
       creating an NBD tunnel over an SSH connection.  This is very convenient when you have SSH access to a
       remote host, but a firewall prevents direct access to NBD ports.

   <b>Protocol</b>
       We now print the full error message string if one is sent by the server.  nbdkit ≥ 1.42 will send full
       error messages from plugins over the NBD connection to compatible NBD clients like libnbd 1.22 or qemu.

   <b>Tools</b>
       Fix <b><a href="../man1/nbdfuse.1.html">nbdfuse</a></b>(1) so that TLS URIs using "?tls-certificates" or "?tls-psk-file" now work properly (Jon
       Szymaniak).

       <b><a href="../man1/nbddump.1.html">nbddump</a></b>(1) has a new <u>--offset</u> option (Eric Blake).

   <b>Language</b> <b>bindings</b>
       Various fixes to the Rust bindings (thanks Hanna Czenczek).

       The documentation included in the Rust bindings has been improved greatly.

   <b>Other</b> <b>improvements</b> <b>and</b> <b>bug</b> <b>fixes</b>
       Common code is now used to get the size of block devices, and this has been fixed to work properly on
       BSD.  This affected at least nbdcopy when used to copy to and from block devices on BSD.

   <b>Documentation</b>
       Fix links to <b><a href="../man1/nbd-server.1.html">nbd-server</a></b>(1) and other pages in HTML-generated documentation (Vera Wu).

       In <b><a href="../man3/nbd_connect_uri.3.html">nbd_connect_uri</a></b>(3) we documented small differences in the way that we parse NBD URIs versus qemu.

       <b><a href="../man3/nbd_connect_uri.3.html">nbd_connect_uri</a></b>(3) adds additional documentation on the reserved VSock port numbers.

   <b>Build</b>
       gnutls ≥ 3.5.18 is now required.  This matches the version needed by qemu.  If using RHEL, this means
       that RHEL ≥ 8 is now required.

       libnbd should now compile on macOS.

       <u>examples/connect-benchmark</u> is a new example that can be used to benchmark connections.

       Add support for GCC 15.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man3/libnbd.3.html">libnbd</a></b>(3).

</pre><h4><b>AUTHORS</b></h4><pre>
       Daniel P. Berrangé
       Eric Blake
       Richard W.M. Jones
       Jon Szymaniak

</pre><h4><b>COPYRIGHT</b></h4><pre>
       Copyright Red Hat

</pre><h4><b>LICENSE</b></h4><pre>
       This library is free software; you can redistribute it and/or modify it under the terms of the GNU Lesser
       General  Public License as published by the Free Software Foundation; either version 2 of the License, or
       (at your option) any later version.

       This library is distributed in the hope that it will be useful, but WITHOUT ANY  WARRANTY;  without  even
       the  implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU Lesser General
       Public License for more details.

       You should have received a copy of the GNU Lesser General Public License along with this library; if not,
       write to the Free Software Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA

libnbd-1.22.0                                      2025-02-12                       <u><a href="../man1/libnbd-release-notes-1.22.1.html">libnbd-release-notes-1.22</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>