<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>guestfs-release-notes - libguestfs Release Notes</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/libguestfs0t64">libguestfs0t64_1.54.1-1ubuntu3_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       guestfs-release-notes - libguestfs Release Notes

</pre><h4><b>RELEASE</b> <b>NOTES</b> <b>FOR</b> <b>LIBGUESTFS</b> <b>1.50</b></h4><pre>
       These are the release notes for libguestfs stable release 1.50.  This describes the major changes since
       1.48.

       Libguestfs 1.50.0 was released on <b>7</b> <b>February</b> <b>2023</b>.

   <b>Language</b> <b>bindings</b>
       Fix the PHP bindings for PHP8 (Geoff Amey).

       Fix various deprecation warnings in the GObject bindings.

       We no longer use the deprecated Python distutils library (thanks Miro Hrončok).

   <b>Inspection</b>
       When listing the packages in RPM-based guests, the inspection API no longer checks package signatures.
       This is because the newer librpm used by libguestfs does not understand signatures stored in older
       guests, such as SHA1 used by RHEL 6 (thanks Panu Matilainen).

       "guestfs_inspect_get_hostname" in <b><a href="../man3/guestfs.3.html">guestfs</a></b>(3) can now handle <u><a href="file:/etc/hostname">/etc/hostname</a></u> files containing comments
       (thanks Dawid Zamirski).

       "guestfs_file_architecture" in <b><a href="../man3/guestfs.3.html">guestfs</a></b>(3) can now parse files using zstd compression.

       "guestfs_inspect_get_osinfo" in <b><a href="../man3/guestfs.3.html">guestfs</a></b>(3) now returns the correct osinfo field for Windows 11.  However
       because of decisions made by Microsoft, these guests still return product name and other strings
       identifying as Windows 10 (thanks Yaakov Selkowitz, Yongkui Guo).

   <b>API</b>
       <u>New</u> <u>APIs</u>

       "guestfs_device_name" in <b><a href="../man3/guestfs.3.html">guestfs</a></b>(3) is a new API to read the device name associated with a drive, for
       example calling this with 0 will return "/dev/sda".

       "guestfs_clevis_luks_unlock" in <b><a href="../man3/guestfs.3.html">guestfs</a></b>(3) is a new API for unlocking disks using the Clevis/Tang
       network-based full disk encryption scheme.  Furthermore implement this in guestfish and guestmount
       (Laszlo Ersek).

       "guestfs_inspect_get_build_id" in <b><a href="../man3/guestfs.3.html">guestfs</a></b>(3) is a new API for reading the build ID from some Linux and
       Windows guests.  It is not widely used on Linux, but for Windows it is vital for identifying Windows 11.

       <u>Other</u> <u>API</u> <u>changes</u>

       In the "guestfs_add_drive" in <b><a href="../man3/guestfs.3.html">guestfs</a></b>(3) API, the "name" and "iface" fields are not used.  "name" has not
       been used since around 2017, but the documentation has only just been updated to reflect this.  "iface"
       was never allowed for the libvirt backend and didn't work reliably with the direct backend (Laszlo
       Ersek).

       "guestfs_readdir" in <b><a href="../man3/guestfs.3.html">guestfs</a></b>(3) is no longer limited to the maximum message size but can read a directory
       of any size (Laszlo Ersek).

   <b>Build</b> <b>changes</b>
       <b>Note</b> that the Augeas bindings for libguestfs are no longer bundled with libguestfs and must be built
       separately.  See: https://people.redhat.com/~rjones/augeas/  For RHEL 7+ rebuilding the Fedora Rawhide
       package will work.

       <b>Note</b> that libguestfs now requires minimum OCaml 4.04.  It will not compile on RHEL 6.

       <b>Note</b> that zstd is now a required dependency.

       OCaml gettext is no longer a dependency of libguestfs.  (Plain gettext is still optionally used to
       translate C source files.)

       Add support for OCaml 4.14.

       Fix build for missing stdlib functions in OCaml 4.04.

       Fix "./configure --disable-ocaml".  OCaml is still required to build libguestfs, but this now correctly
       disables the OCaml bindings of the API.

       Add support for building on Artix, Rocky and Virtuozzo (Halil Tezcan KARABULUT, Neil Hanlon, Andrey
       Drobyshev).  In addition when working out the local distro we now look at $ID_LIKE in <u><a href="file:/etc/os-release">/etc/os-release</a></u>
       before $ID which helps on Arch (thanks S D Rausty).

       Add preliminary support for compiling libguestfs on macOS.

       Fix website description of cloning the libguestfs repository (Kashyap Chamarthy).

       We no longer use glibc custom printf.

       We no longer use "LD_PRELOAD=libSegFault.so" in the appliance.  This feature was removed in glibc 2.35.

       We no longer use dtrace / systemtap probes.

   <b>Internals</b>
       Fix regression tests to use correct paths (Nikolay Shirokovskiy).

       Various improvements to qcow2 appliance handling (Andrey Drobyshev).

       Disable 5-level page tables in qemu.  This avoids a bug in older versions of qemu.

       Disable the LVM2 devicesfile in the appliance since it interferes with cloned LVs that have the same UUID
       (Laszlo Ersek).

       Don't use "-cpu max" on RISC-V as it is not yet supported by qemu's TCG emulation of that architecture.
       This will be reenabled when qemu gets support.

       Avoid a rare hang that would happen when launching the appliance.  This turned out to be caused by using
       the unsafe call <b><a href="../man3/setenv.3.html">setenv</a></b>(3) between fork and exec (thanks Siddhesh Poyarekar).

       When running the file command inside the appliance we now disable seccomp since it interferes with
       processing compressed files (thanks David Runge, Toolybird).

   <b>Bugs</b> <b>fixed</b>
       https://bugzilla.redhat.com/2108425
           compile  of libguestfs-1.48.4 fails with Error: static declaration of ‘caml_alloc_initialized_string’
           follows non-static declaration

       https://bugzilla.redhat.com/2064182
           SHA 1 signatures required to inspect packages in RHEL 6 guests

       https://bugzilla.redhat.com/2033247
           document encrypted RBD disk limitation

       https://bugzilla.redhat.com/2012658
           libguestfs fails to detect Windows 11 guest image

       https://bugzilla.redhat.com/1965941
           lvm-set-filter failed in guestfish with the latest lvm2 package

       https://bugzilla.redhat.com/1844341
           The duplicate block device is listed when iface is set to 'virtio'

       https://bugzilla.redhat.com/1809453
           [RFE] Add support for LUKS encrypted disks with Clevis &amp; Tang

       https://bugzilla.redhat.com/1794518
           Rewrite libguestfs use of setfiles so that it doesn't stop on ext4 immutable bits

       https://bugzilla.redhat.com/1674392
           No return values from a directory listing when there are simply too  many  files  in  that  directory
           (NULL value return)

       https://bugzilla.redhat.com/1554735
           RFE: customize --selinux-relabel should be the default, with --no-selinux-relabel used to opt out

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man1/guestfs-examples.1.html">guestfs-examples</a></b>(1),   <b><a href="../man1/guestfs-faq.1.html">guestfs-faq</a></b>(1),  <b><a href="../man1/guestfs-performance.1.html">guestfs-performance</a></b>(1),  <b><a href="../man1/guestfs-recipes.1.html">guestfs-recipes</a></b>(1),  <b><a href="../man1/guestfs-testing.1.html">guestfs-testing</a></b>(1),
       <b><a href="../man3/guestfs.3.html">guestfs</a></b>(3), <b><a href="../man1/guestfish.1.html">guestfish</a></b>(1), <a href="http://libguestfs.org/">http://libguestfs.org/</a>

</pre><h4><b>AUTHORS</b></h4><pre>
       Adolfo Jayme Barrientos
       Andrey Drobyshev
       Emilio Herrera
       Ettore Atalan
       Geoff Amey
       Hela Basa
       Jan Kuparinen
       Kashyap Chamarthy
       Laszlo Ersek
       Marcin Stanclik
       Michał Smyk
       Neil Hanlon
       Nikolay Shirokovskiy
       Pavel Borecki
       Piotr Drąg
       Richard W.M. Jones
       Ricky Tigg
       Temuri Doghonadze
       Yuri Chornoivan

</pre><h4><b>COPYRIGHT</b></h4><pre>
       Copyright (C) 2009-2023 Red Hat Inc.

</pre><h4><b>LICENSE</b></h4><pre>
       This program is free software; you can redistribute it and/or modify  it  under  the  terms  of  the  GNU
       General  Public License as published by the Free Software Foundation; either version 2 of the License, or
       (at your option) any later version.

       This program is distributed in the hope that it will be useful, but WITHOUT ANY  WARRANTY;  without  even
       the  implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public
       License for more details.

       You should have received a copy of the GNU General Public License along with this program; if not,  write
       to the Free Software Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA.

</pre><h4><b>BUGS</b></h4><pre>
       To      get      a      list      of      bugs      against      libguestfs,      use      this     link:
       https://bugzilla.redhat.com/buglist.cgi?component=libguestfs&amp;product=Virtualization+Tools

       To      report      a      new       bug       against       libguestfs,       use       this       link:
       https://bugzilla.redhat.com/enter_bug.cgi?component=libguestfs&amp;product=Virtualization+Tools

       When reporting a bug, please supply:

       •   The version of libguestfs.

       •   Where you got libguestfs (eg. which Linux distro, compiled from source, etc)

       •   Describe the bug accurately and give a way to reproduce it.

       •   Run <b><a href="../man1/libguestfs-test-tool.1.html">libguestfs-test-tool</a></b>(1) and paste the <b>complete,</b> <b>unedited</b> output into the bug report.

libguestfs-1.54.1                                  2025-02-18                      <u><a href="../man1/guestfs-release-notes-1.50.1.html">guestfs-release-notes-1.50</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>