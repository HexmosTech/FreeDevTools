<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>guestfs-release-notes - libguestfs Release Notes</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/libguestfs0t64">libguestfs0t64_1.54.1-1ubuntu3_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       guestfs-release-notes - libguestfs Release Notes

</pre><h4><b>RELEASE</b> <b>NOTES</b> <b>FOR</b> <b>LIBGUESTFS</b> <b>1.14</b></h4><pre>
       These release notes only cover the differences from the previous stable/dev branch split (1.12.0).  For
       detailed changelogs, please see the git repository, or the ChangeLog file distributed in the tarball.

   <b>New</b> <b>features</b>
         Erlang bindings.

         virt-alignment-scan is a new tool to check the alignment of
         partitions within virtual machines or disk images.

         virt-sparsify is a new tool to make virtual machine disk images
         sparse.

         virt-sysprep is a new tool to make cloning guests from a template
         simpler.

       <u>guestfish</u>

          - New commands setenv, unsetenv, to set environment variables.

          - The input file and line number is printed in error messages.

          - guestfish progress bars are now a "mini-library" used by other
            tools too.

       <u>guestmount</u>

          - the --live option (for access to live VMs) now works.

       <u>virt-cat</u>

          - virt-cat can now handle Windows paths and drive letters (RHBZ#693359).

       <u>virt-filesystems</u>

          - the MBR partition type byte is displayed in --long output.

       <u>virt-make-fs</u>

          - virt-make-fs now sets the MBR partition type byte correctly,
            improving compatibility with Windows (RHBZ#746295).

       <u>virt-resize</u>

          - virt-resize can now work with guests using extended and logical
            partitions, in particular Ubuntu guests.

          - virt-resize can now align the first partition of Windows guests,
            improving performance.  The new virt-resize --align-first option
            controls this behaviour.

          - The virt-resize --machine-readable flag makes it possible to use
            virt-resize from other programs.

          - Partitions are now aligned to 128 sectors (usually 64K) by
            default.  This improves efficiency on high-end storage.  The new
            virt-resize --alignment option allows the alignment to be
            adjusted.

       <u>virt-win-reg</u>

          - The syntax for deleting registry keys and values is documented
            in the man page (RHBZ#737944).

       <u>library</u>

          - non-printing characters are escaped correctly in debug output.

          - GUESTFS_EVENT_ENTER is a new event type generated whenever a
            libguestfs function is called.

          - the library contains systemtap/DTrace probes.

          - the library can now be compiled without hivex (RHBZ#723474).

       <u>inspection</u>

          - Improve detection of Windows disks.

          - Adds support for:
                ttylinux - a minimal Linux
                Mageia (thanks Michael Scherer)
                OpenSUSE and zypper (thanks Michael Scherer, Vincent Untz)
                Ubuntu logos (thanks Michael Scherer)
                NetBSD and pkgsrc (thanks Michael Scherer)

          - Handle some guest types that use /dev/root in /etc/fstab.

          - Fix handling of guests with &gt; 26 disks (thanks Matthew Booth)

          - Add support for guests with HP Smart Array disks (thanks Matthew Booth)

       <u>febootstrap</u>

          - FEBOOTSTRAP_KERNEL, FEBOOTSTRAP_MODULES environment variables can
            be set in order to choose which kernel to use for the appliance.

       <u>misc</u>

          - ArchLinux support now working with Linux 3.0 (thanks Erik Nolte)

          - libvirt disks marked &lt;readonly/&gt; are now added readonly when
            using the virt-tools '-d' option.

   <b>Security</b>
         (no security problems were found or fixed in this release)

   <b>New</b> <b>APIs</b>
         compress-out, compress-device-out, copy-device-to-device,
         copy-device-to-file, copy-file-to-device, copy-file-to-file,
         get-smp, part-to-partnum, set-smp.

         The mount API no longer implicitly adds -o sync,noatime options.

         add-domain has a new 'readonlydisk' optional parameter to control
         how &lt;readonly/&gt; disks are handled.

   <b>Internals</b>
        - Coverity was run on the source and more bugs were identified and
          fixed.

        - PCRE library is now required to build libguestfs.

        - APIC is now the default for the appliance.  You can also enable
          SMP support in the appliance.

        - OCaml bindings now correctly acquire GC lock during callbacks.

        - Out of tree builds should now work correctly (thanks Hilko Bengen).

        - ./configure --with-extra="..." can be used by packagers to set
          the extra version string.

        - zero, zero-device APIs: if the blocks already contain zeroes,
          don't write zeroes, so that we don't unnecessarily make the
          underlying storage non-sparse.

        - is-zero, is-zero-device APIs: optimize these so zero detection is
          faster.

   <b>Bugs</b> <b>fixed</b>
        - 748266 libguestfs should detect versions of qemu which require -machine pc option
        - 747290 libguestfs ignores &lt;readonly/&gt; in libvirt XML
        - 747287 Misleading error message when permission denied opening a disk image
        - 746295 virt-make-fs doesn't set partition ID
        - 744795 guestmount --live is not usable
        - 737944 virt-win-reg hyphen (delete key) syntax may be wrong, and is not documented
        - 733297 ruby event handlers fail with "exception in callback: wrong argument type Proc (expected Data)"
        - 731744 libguestfs should escape special/non-printing characters in debug output
        - 729887 appliance crashes running aug_init with flags=4
        - 729075 libguestfs confuses Hp_recovery partition with Windows root filesystem
        - 727178 error: luks_open: cryptsetup: error while loading shared libraries: libfipscheck.so.1: cannot open shared object file: No such file or directory
        - 726739 libguestfs: error: aug_get: no matching node, trying to find hostname
        - 723474 If hivex and/or pcre not installed, libguestfs fails to compile
        - 693359 virt-cat and virt-edit don't handle case sensitive NTFS paths properly
        - 678231 virt-inspector reports unknown filesystem UUID
        - 671082 libguestfs does not work with kernel-rt
        - 666578 libguestfs: unknown filesystem label SWAP-sda2
        - 642821 virt-resize falls over on a disk image with a logical swap partition

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man1/guestfs-examples.1.html">guestfs-examples</a></b>(1), <b><a href="../man1/guestfs-faq.1.html">guestfs-faq</a></b>(1), <b><a href="../man1/guestfs-performance.1.html">guestfs-performance</a></b>(1), <b><a href="../man1/guestfs-recipes.1.html">guestfs-recipes</a></b>(1), <b><a href="../man1/guestfs-testing.1.html">guestfs-testing</a></b>(1),
       <b><a href="../man3/guestfs.3.html">guestfs</a></b>(3), <b><a href="../man1/guestfish.1.html">guestfish</a></b>(1), <a href="http://libguestfs.org/">http://libguestfs.org/</a>

</pre><h4><b>AUTHOR</b></h4><pre>
       Richard W.M. Jones

</pre><h4><b>COPYRIGHT</b></h4><pre>
       Copyright (C) 2009-2023 Red Hat Inc.

</pre><h4><b>LICENSE</b></h4><pre>
       This program is free software; you can redistribute it and/or modify it under the terms of the GNU
       General Public License as published by the Free Software Foundation; either version 2 of the License, or
       (at your option) any later version.

       This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even
       the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public
       License for more details.

       You should have received a copy of the GNU General Public License along with this program; if not, write
       to the Free Software Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA.

</pre><h4><b>BUGS</b></h4><pre>
       To get a list of bugs against libguestfs, use this link:
       https://bugzilla.redhat.com/buglist.cgi?component=libguestfs&amp;product=Virtualization+Tools

       To report a new bug against libguestfs, use this link:
       https://bugzilla.redhat.com/enter_bug.cgi?component=libguestfs&amp;product=Virtualization+Tools

       When reporting a bug, please supply:

       •   The version of libguestfs.

       •   Where you got libguestfs (eg. which Linux distro, compiled from source, etc)

       •   Describe the bug accurately and give a way to reproduce it.

       •   Run <b><a href="../man1/libguestfs-test-tool.1.html">libguestfs-test-tool</a></b>(1) and paste the <b>complete,</b> <b>unedited</b> output into the bug report.

libguestfs-1.54.1                                  2025-02-18                      <u><a href="../man1/guestfs-release-notes-1.14.1.html">guestfs-release-notes-1.14</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>