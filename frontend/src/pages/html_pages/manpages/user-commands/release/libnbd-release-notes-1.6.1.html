<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>libnbd-release-notes-1.6 - release notes for libnbd 1.6</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/libnbd-dev">libnbd-dev_1.22.0-1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       libnbd-release-notes-1.6 - release notes for libnbd 1.6

</pre><h4><b>DESCRIPTION</b></h4><pre>
       These are the release notes for libnbd stable release 1.6.  This describes the major changes since 1.4.

       libnbd 1.6.0 was released on <b>7</b> <b>January</b> <b>2021</b>.

   <b>Security</b>
       There were no security issues found in this release.

       If you find a security issue, please read <u>SECURITY</u> in the source (online here:
       https://gitlab.com/nbdkit/libnbd/blob/master/SECURITY).  To find out about previous security issues in
       libnbd, see <b><a href="../man3/libnbd-security.3.html">libnbd-security</a></b>(3).

   <b>New</b> <b>APIs</b>
       <b><a href="../man3/nbd_set_strict_mode.3.html">nbd_set_strict_mode</a></b>(3)
       <b><a href="../man3/nbd_get_strict_mode.3.html">nbd_get_strict_mode</a></b>(3)
           This  API  allows  you  to  control how libnbd handles requests from the program that it thinks would
           trigger undefined behaviour in the server (such as sending unknown commands,  zero-sized  or  out-of-
           bounds  requests,  etc).   Normally  libnbd  is  very  strict  and will prevent you from sending such
           requests, but you can use this API to relax these restrictions, leaving it up to the server to handle
           or reject them.  Some servers may crash if you do this.

       <b><a href="../man3/nbd_get_nr_meta_contexts.3.html">nbd_get_nr_meta_contexts</a></b>(3)
       <b><a href="../man3/nbd_get_meta_context.3.html">nbd_get_meta_context</a></b>(3)
       <b><a href="../man3/nbd_clear_meta_contexts.3.html">nbd_clear_meta_contexts</a></b>(3)
           These APIs allow you to review or clear the requested metadata contexts.

       <b><a href="../man3/nbd_opt_list_meta_context.3.html">nbd_opt_list_meta_context</a></b>(3)
       <b><a href="../man3/nbd_aio_opt_list_meta_context.3.html">nbd_aio_opt_list_meta_context</a></b>(3)
           Request that the server lists available metadata contexts.  You can only use this in opt mode.

       Thanks: Eric Blake for all of the new APIs.

   <b>Enhancements</b> <b>to</b> <b>existing</b> <b>APIs</b>
       <b><a href="../man3/nbd_shutdown.3.html">nbd_shutdown</a></b>(3) new flag "LIBNBD_SHUTDOWN_ABANDON_PENDING" drops any commands in flight  which  have  not
       been sent to the server yet (Eric Blake).

       All  APIs which have flag (bitmask) parameters now define a "LIBNBD_*_MASK" constant allowing you to tell
       which bits represent valid flags at compilation time (Eric Blake).

   <b>New</b> <b>features</b>
       The performance of the <b><a href="../man1/nbdcopy.1.html">nbdcopy</a></b>(1) tool  has  been  greatly  improved.   Also  it  supports  numerous  new
       features.

       New  <b><a href="../man1/nbdinfo.1.html">nbdinfo</a></b>(1)  <u>--map</u>  option  showing the allocated and sparse extents of an NBD server.  This can also
       show other information such as dirty bitmaps.

   <b>Tools</b>
       <b><a href="../man1/nbdfuse.1.html">nbdfuse</a></b>(1) can now mount the NBD export on top of any regular file, it does not  have  to  mount  over  a
       directory.

       <b><a href="../man1/nbdsh.1.html">nbdsh</a></b>(1) now produces a nice error message if the URI in the <u>-u</u> option or the command in the <u>-c</u> option is
       wrong (Eric Blake).

       New <b><a href="../man1/nbdsh.1.html">nbdsh</a></b>(1) <u>--opt-mode</u> option which requests opt mode on the handle before connecting.

       <b><a href="../man1/nbdinfo.1.html">nbdinfo</a></b>(1) <u>--list</u> option now shows the supported metadata contexts of the server (Eric Blake).

       The  output of <b><a href="../man1/nbdinfo.1.html">nbdinfo</a></b>(1) is now usually printed atomically, ie. it will either print the complete output
       or an error message, but not partial output followed by an error.

       <b><a href="../man1/nbdinfo.1.html">nbdinfo</a></b>(1) can now decode "qemu:allocation-depth" metacontext (Eric Blake).

   <b>Other</b> <b>improvements</b> <b>and</b> <b>bug</b> <b>fixes</b>
       Multiple improvements to handling of NBD protocol (Eric Blake).

       Fix handling of booleans in Python bindings (Eric Blake).

       Fix handling of flags parameters in OCaml bindings (Eric Blake).

       Python style fixes (Eric Blake).

       Fix multiple memory leaks (Eric Blake).

       OCaml bindings now include ocamldoc-generated documentation, if ocamldoc is installed at build time.

       The "vector" library from nbdkit is now  used  by  libnbd,  simplifying  places  where  we  used  to  use
       <b><a href="../man3/realloc.3.html">realloc</a></b>(3).

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man3/libnbd.3.html">libnbd</a></b>(3).

</pre><h4><b>AUTHORS</b></h4><pre>
       Eric Blake

       Richard W.M. Jones

</pre><h4><b>COPYRIGHT</b></h4><pre>
       Copyright Red Hat

</pre><h4><b>LICENSE</b></h4><pre>
       This library is free software; you can redistribute it and/or modify it under the terms of the GNU Lesser
       General  Public License as published by the Free Software Foundation; either version 2 of the License, or
       (at your option) any later version.

       This library is distributed in the hope that it will be useful, but WITHOUT ANY  WARRANTY;  without  even
       the  implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU Lesser General
       Public License for more details.

       You should have received a copy of the GNU Lesser General Public License along with this library; if not,
       write to the Free Software Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA

libnbd-1.22.0                                      2025-02-12                        <u><a href="../man1/libnbd-release-notes-1.6.1.html">libnbd-release-notes-1.6</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>