<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>nbdkit-release-notes-1.24 - release notes for nbdkit 1.24</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/nbdkit">nbdkit_1.42.2-1ubuntu1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       nbdkit-release-notes-1.24 - release notes for nbdkit 1.24

</pre><h4><b>DESCRIPTION</b></h4><pre>
       These are the release notes for nbdkit stable release 1.24.  This describes the major changes since 1.22.

       nbdkit 1.24.0 was released on <b>7</b> <b>January</b> <b>2021</b>.

   <b>Security</b>
       There were no security issues found.  All past security issues and information about how to report new
       ones can be found in <b><a href="../man1/nbdkit-security.1.html">nbdkit-security</a></b>(1).

   <b>Server</b>
       The server and a subset of the plugins and filters have been ported to Windows using the Win32 API.  Only
       the mingw-w64 toolchain is supported for building nbdkit (not MSVC).  You can also cross-compile from
       Linux and test under Wine.  Some features are missing although it is very usable.

       New <u>-D</u> <u>nbdkit.tls.log</u> and <u>-D</u> <u>nbdkit.tls.session</u> debug flags which enable additional debugging for TLS
       sessions.

       The server now responds to "NBD_INFO_NAME" (Eric Blake).

       Options <u>--run</u> and <u>--vsock</u> may now be used together.

       In <u>--run</u>, $nbd is now a synonym for $uri instead of having confusing magical properties.

   <b>Plugins</b>
       New <b><a href="../man1/nbdkit-S3-plugin.1.html">nbdkit-S3-plugin</a></b>(1) to access disks stored on AWS S3 and Ceph.

       New <b><a href="../man1/nbdkit-sparse-random-plugin.1.html">nbdkit-sparse-random-plugin</a></b>(1) which generates large disks sparsely filled with random blocks of
       data.  These look like virtual disk images and can be used to benchmark copying tools.

       <b><a href="../man1/nbdkit-data-plugin.1.html">nbdkit-data-plugin</a></b>(1) has been greatly enhanced.  New features include: "(...)[N:M]" (slice syntax),
       assignments, comments, variables, "&lt;(SCRIPT)" (inlined shell script).  In addition a parse tree is built,
       allowing optimizations and other enhancements.  The plugin is now 64 bit clean allowing patterns larger
       than 2^32 bytes to work correctly.

       <b><a href="../man1/nbdkit-random-plugin.1.html">nbdkit-random-plugin</a></b>(1) can now be used to test copying tools.

       <b><a href="../man1/nbdkit-vddk-plugin.1.html">nbdkit-vddk-plugin</a></b>(1) supports enabling compression between VDDK and the VMware server which in some
       situations can improve performance.

   <b>Filters</b>
       New <b><a href="../man1/nbdkit-exportname-filter.1.html">nbdkit-exportname-filter</a></b>(1) can be used to extend, mask and modify the exports exposed by a plugin
       (Eric Blake).

       New <b><a href="../man1/nbdkit-exitwhen-filter.1.html">nbdkit-exitwhen-filter</a></b>(1) allowing the server to gracefully exit on various events including external
       scripts.

       New <b><a href="../man1/nbdkit-checkwrite-filter.1.html">nbdkit-checkwrite-filter</a></b>(1) can be used to benchmark copying tools.

       <b><a href="../man1/nbdkit-ip-filter.1.html">nbdkit-ip-filter</a></b>(1) now supports filtering clients by PID, user ID or group ID, for clients connected
       over a Unix domain socket.  Also you can filter clients using "AF_VSOCK" and vsock port number.

       <b><a href="../man1/nbdkit-log-filter.1.html">nbdkit-log-filter</a></b>(1) now logs "get_ready", "after_fork" and "preconnect" methods, and there is a new
       "logscript" feature allowing scripts to be run on logging events.

       <b><a href="../man1/nbdkit-ext2-filter.1.html">nbdkit-ext2-filter</a></b>(1) new option "ext2file=exportname" can be used to allow the client to select which
       file to see from the filesystem using the NBD export name (Eric Blake).

   <b>Language</b> <b>bindings</b>
       Python style cleanups (Eric Blake).

       The OCaml plugin now correctly acquires and releases the GC lock on all paths in and out.

       There is a new OCaml "NBDKit.version" function returning the version of nbdkit that the plugin was
       compiled against.

       Multiple enhancements to the Rust plugin (Alan Somers).

   <b>API</b>
       New ".list_exports", ".default_export" and ".export_description" plugin methods allowing plugins to be
       queried about what export names they support, and give additional descriptions of exports.  New
       "nbdkit_use_default_export" helper function (Eric Blake).

       New "nbdkit_strdup_intern", "nbdkit_strndup_intern" "nbdkit_printf_intern" and "nbdkit_vprintf_intern"
       functions which allow you to allocate a string in a plugin without worrying about freeing it (Eric
       Blake).

       New "nbdkit_peer_pid", "nbdkit_peer_uid" and "nbdkit_peer_gid" allows plugins and filters to read the
       client’s credentials, for clients connected over a Unix domain socket.

   <b>Tests</b>
       Many tests now use <b><a href="../man3/libnbd.3.html">libnbd</a></b>(3), <b><a href="../man1/nbdsh.1.html">nbdsh</a></b>(1), <b><a href="../man1/nbdinfo.1.html">nbdinfo</a></b>(1) and <b><a href="../man1/nbdcopy.1.html">nbdcopy</a></b>(1) as lighter weight replacements for qemu
       tools.

       Fix compatibility with qemu &gt; 5.2.0.

   <b>Build</b>
       Downstream packagers can now use this to add extra downstream information which is printed in version
       strings etc:
        ./configure --with-extra=...

       If <b><a href="../man1/ocamldoc.1.html">ocamldoc</a></b>(1) is installed at build time, then it will be used to build the <b><a href="../man3/NBDKit.3.html">NBDKit</a></b>(3) manual page for
       OCaml documentation.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man1/nbdkit.1.html">nbdkit</a></b>(1).

</pre><h4><b>AUTHORS</b></h4><pre>
       Authors of nbdkit 1.24:

       •   Alan Somers

       •   Eric Blake

       •   Richard W.M. Jones

</pre><h4><b>COPYRIGHT</b></h4><pre>
       Copyright Red Hat

</pre><h4><b>LICENSE</b></h4><pre>
       Redistribution  and  use in source and binary forms, with or without modification, are permitted provided
       that the following conditions are met:

       •   Redistributions of source code must retain the above copyright notice, this list  of  conditions  and
           the following disclaimer.

       •   Redistributions in binary form must reproduce the above copyright notice, this list of conditions and
           the following disclaimer in the documentation and/or other materials provided with the distribution.

       •   Neither  the  name  of  Red  Hat  nor the names of its contributors may be used to endorse or promote
           products derived from this software without specific prior written permission.

       THIS SOFTWARE IS PROVIDED BY RED HAT AND CONTRIBUTORS ''AS IS'' AND ANY EXPRESS  OR  IMPLIED  WARRANTIES,
       INCLUDING,  BUT  NOT  LIMITED  TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
       PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL RED HAT OR CONTRIBUTORS BE LIABLE  FOR  ANY  DIRECT,  INDIRECT,
       INCIDENTAL,  SPECIAL,  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
       SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND
       ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT  LIABILITY,  OR  TORT  (INCLUDING  NEGLIGENCE  OR
       OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH
       DAMAGE.

nbdkit-1.42.2                                      2025-04-02                       <u><a href="../man1/nbdkit-release-notes-1.24.1.html">nbdkit-release-notes-1.24</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>