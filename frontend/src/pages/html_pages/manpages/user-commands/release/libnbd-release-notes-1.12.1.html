<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>libnbd-release-notes-1.12 - release notes for libnbd 1.12</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/libnbd-dev">libnbd-dev_1.22.0-1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       libnbd-release-notes-1.12 - release notes for libnbd 1.12

</pre><h4><b>DESCRIPTION</b></h4><pre>
       These are the release notes for libnbd stable release 1.12.  This describes the major changes since 1.10.

       libnbd 1.12.0 was released on <b>24</b> <b>February</b> <b>2022</b>.

   <b>Security</b>
       CVE-2022-0485
           Silent data corruption when using <b><a href="../man1/nbdcopy.1.html">nbdcopy</a></b>(1).

           See                   the                   full                  announcement                  here:
           https://listman.redhat.com/archives/libguestfs/2022-February/msg00104.html

       If   you   find   a   security   issue,   please   read   <u>SECURITY</u>   in   the   source   (online    here:
       https://gitlab.com/nbdkit/libnbd/blob/master/SECURITY).   To  find  out about previous security issues in
       libnbd, see <b><a href="../man3/libnbd-security.3.html">libnbd-security</a></b>(3).

   <b>New</b> <b>APIs</b>
       get_pread_initialize
       set_pread_initialize
           Control whether libnbd clears the pread buffer to avoid leaking memory contents if  the  client  does
           not properly handle errors.  These were added as part of the fix for CVE-2022-0485 (Eric Blake).

       get_request_block_size
       set_request_block_size
           Control  whether  libnbd  requests  block  size  constraints from the server during negotiation (Eric
           Blake).

   <b>Enhancements</b> <b>to</b> <b>existing</b> <b>APIs</b>
       Error messages about incorrect URIs in <b><a href="../man3/nbd_connect_uri.3.html">nbd_connect_uri</a></b>(3) have been  improved  to  make  common  mistakes
       clearer for the user.

   <b>Tools</b>
       New syntax: "nbdinfo [ CMD ... ]" allowing you to query the properties of an NBD server directly.

       <b><a href="../man1/nbdcopy.1.html">nbdcopy</a></b>(1) new <u>--queue-size</u> option to control the maximum size of the internal buffer (Nir Soffer).

       <b><a href="../man1/nbdcopy.1.html">nbdcopy</a></b>(1) now names the source and destination handles to make it easier to understand debug output.

   <b>Tests</b>
       Adopt libvirt-ci's <u>ci/gitlab.yml</u> (Martin Kletzander).

       Fix the OCaml extents example (thanks Laszlo Ersek).

       Golang benchmarks were added to the test suite (Nir Soffer).

       The large <u>tests/errors.c</u> test was split into about a dozen separate tests.  Also this adds a new test for
       checking server-side block size constraint error policy which was missing before.

   <b>Other</b> <b>improvements</b> <b>and</b> <b>bug</b> <b>fixes</b>
       New OCaml "NBD.with_handle" helper which ensures that "NBD.close" is always called even if the inner code
       throws an exception.

       The OCaml bindings now consistently use the correct types for buffer sizes everywhere (Laszlo Ersek).

       Several  improvements  and  fixes  to  the  golang  bindings  and  tests.   The golang bindings have been
       relicensed to LGPLv2+ like the rest of  the  library  and  are  now  published  as  a  golang  module  at
       https://libguestfs.org/libnbd (Nir Soffer).

       The  Python bindings no longer crash if you pass "None" in place of a buffer parameter.  In addition some
       memory leaks were fixed (Eric Blake).

       Various memory leaks have been fixed when using the optional strict_mode settings (Eric Blake).

       The performance of the internal vector library has been improved greatly  and  overflow  is  now  handled
       correctly (Nir Soffer, Laszlo Ersek and Eric Blake).

       Add "simple_copy" and "aio_copy" Golang examples (Nir Soffer).

       Error  handling was reviewed and fixed across many of the example programs and documentation (Eric Blake,
       Nir Soffer).

       Simplify and optimize handling of the extents callback in Golang (Nir Soffer).

       Golang AioBuffer was enhanced, making it safer to use, faster and adding documentation (Nir Soffer).

   <b>Documentation</b>
       Document the limits on lengths and sizes of parameters to various APIs (Eric Blake).

   <b>Build</b>
       You can now build programs that use the OCaml bindings of  libnbd  against  the  libnbd  build  directory
       instead of requiring libnbd to be installed (Laszlo Ersek).

       Compatibility with OCaml 4.13.

       Line  locations  in  the state machine should be more accurate when stepping through with a debugger like
       gdb.

       <u>.editorconfig</u> file can be used to help code formatting, see https://editorconfig.org/ (Nir  Soffer,  Eric
       Blake).

       "MIN" and "MAX" macros can be nested (thanks Eric Blake).

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man3/libnbd.3.html">libnbd</a></b>(3).

</pre><h4><b>AUTHORS</b></h4><pre>
       Eric Blake
       Laszlo Ersek
       Martin Kletzander
       Nir Soffer
       Richard W.M. Jones

</pre><h4><b>COPYRIGHT</b></h4><pre>
       Copyright Red Hat

</pre><h4><b>LICENSE</b></h4><pre>
       This library is free software; you can redistribute it and/or modify it under the terms of the GNU Lesser
       General  Public License as published by the Free Software Foundation; either version 2 of the License, or
       (at your option) any later version.

       This library is distributed in the hope that it will be useful, but WITHOUT ANY  WARRANTY;  without  even
       the  implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU Lesser General
       Public License for more details.

       You should have received a copy of the GNU Lesser General Public License along with this library; if not,
       write to the Free Software Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA

libnbd-1.22.0                                      2025-02-12                       <u><a href="../man1/libnbd-release-notes-1.12.1.html">libnbd-release-notes-1.12</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>