<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>guestfs-release-notes - libguestfs Release Notes</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/libguestfs0t64">libguestfs0t64_1.54.1-1ubuntu3_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       guestfs-release-notes - libguestfs Release Notes

</pre><h4><b>RELEASE</b> <b>NOTES</b> <b>FOR</b> <b>LIBGUESTFS</b> <b>1.24</b></h4><pre>
       These release notes only cover the differences from the previous stable/dev branch split (1.22.0).  For
       detailed changelogs, please see the git repository, or the ChangeLog file distributed in the tarball.

   <b>New</b> <b>features</b>
       User-Mode Linux (UML) can be used as an alternative backend (ie. instead of KVM).  This improves
       performance especially when using libguestfs inside a VM (eg. in the cloud).  UML is supported as a
       first-class backend.  See "USER-MODE LINUX BACKEND" in <b><a href="../man3/guestfs.3.html">guestfs</a></b>(3) for how to use this.

       ARM (32 bit) and PPC64 are now fully supported.

       <u>Tools</u>

       <b><a href="../man1/virt-builder.1.html">virt-builder</a></b>(1) is a new tool for building virtual machine images.  It lets you rapidly and securely
       create guests and customize them.

       New <b><a href="../man1/virt-sysprep.1.html">virt-sysprep</a></b>(1) operations: Remove files in <u><a href="file:/tmp">/tmp</a></u> and <u><a href="file:/var/tmp">/var/tmp</a></u>.  Remove RPM database files.  Change
       root and user passwords.  More log files are removed.  New operations which are not enabled by default:
       Create random UUIDs for filesystems.  Reset firewall rules.  (Wanlong Gao)

       <b><a href="../man1/virt-resize.1.html">virt-resize</a></b>(1) and virt-sysprep can now use URIs to specify a remote disk.

       Use "guestfish -N filename=type" to create a named disk image (instead of the default <u>test1.img</u> etc).

       <b><a href="../man1/virt-sparsify.1.html">virt-sparsify</a></b>(1) now tests if there is enough disk space to complete the operation, instead of possibly
       running out of space half way through.

       <b><a href="../man1/virt-format.1.html">virt-format</a></b>(1) and <b><a href="../man1/virt-make-fs.1.html">virt-make-fs</a></b>(1): new <u>--label</u> option for setting filesystem label.

       virt-resize <u>--no-sparse</u> flag can be used to resize on to partitions and other targets that are not
       zeroed.

       <u>Language</u> <u>bindings</u>

       New bindings for the Go programming language.

       <u>API</u>

       Support for the systemd journal.

       "guestfs_add_drive_opts" can now control the qemu caching mode through a new "cachemode" parameter.  You
       can select improved performance for temporary drives, or safety.

       "guestfs_set_label" now works for XFS and btrfs.

       New GUESTFS_EVENT_WARNING event for warning messages.

       <u>Inspection</u>

       Better inspection of SUSE guests (Olaf Hering).

       Better support for non-standard Windows %systemroot% (Matthew Booth).

       Enhanced error reporting for Augeas errors.

   <b>Security</b>
       CVE-2013-2124
           https://bugzilla.redhat.com/show_bug.cgi?id=968306

           A denial of service was possible when inspecting certain guests.  The fix has been backported to 1.20
           and 1.22 branches.

       CVE-2013-4419
           https://www.redhat.com/archives/libguestfs/2013-October/msg00031.html

           Fix  insecure temporary directory handling for remote guestfish.  The fix has been backported to 1.20
           and 1.22 branches.

   <b>New</b> <b>APIs</b>
        add-drive-scratch: Add a temporary scratch drive
        aug-label
        aug-setm
        journal-open: Systemd journal support
        journal-close
        journal-next
        journal-skip
        journal-get
        journal-get-data-threshold
        journal-set-data-threshold
        remount: Allow rw flag to be adjusted on mounted filesystems
        set-uuid: Set UUID of filesystem

       "is-file",  "is-dir",  "is-blockdev",  "is-chardev",  "is-fifo",  "is-socket"  APIs  now  have  an  extra
       "followsymlinks" flag.

       "add-drive" has a new "cachemode" parameter.

   <b>Build</b> <b>changes</b>
       The following packages are required to build libguestfs 1.24:

       Augeas ≥ 1.0.0

       The following optional packages may be added to enhance functionality but are not required:

       sd-journal
           To read journal files from guests which use that.

       url_mkcow
           For UML backend.

       curl
       gpg
       xz  For virt-builder.

       golang ≥ 1.1.1
           For Go language bindings.

   <b>Internals</b>
       New "make check-*" rules replace "make extra-tests".  See "make help" and <b><a href="../man3/guestfs.3.html">guestfs</a></b>(3) for details.

       Perl code can now be valgrinded.

       Inspection code is now fuzz-tested.

       "make"  no  longer  recurses  into  the  generator  directory in every other directory.  This reduces the
       overhead of builds considerably.

       Additional tests for Augeas, hivex.

       Add a launch timeout of 20 minutes waiting for the appliance to start up.

       Add a timeout (4 hours) to all tests so we can catch the case where qemu or other components hang.

       Use kvmclock and "-cpu host".  This improves clock stability and overall performance.

       "./configure --enable-packet-dump" mode is fixed.

       "./configure --enable-valgrind-daemon" mode has been rewritten.  It is now  feasible  for  developers  to
       keep this flag enabled at all times.

       Backends have been refactored to be modular (although they are not actually loadable modules).

       When enabled, the network now uses resolver configuration (ie. <a href="file:/etc/resolv.conf">/etc/resolv.conf</a>) from the host.

   <b>Bugs</b> <b>fixed</b>
       https://bugzilla.redhat.com/1019889
           libguestfs-tools.conf should have a man page

       https://bugzilla.redhat.com/1018149
           valgrind errors in btrfs_subvolume_list

       https://bugzilla.redhat.com/1002032
           mke2fs can't return the correct filesystem type when blockscount is less than 2048 for ext3

       https://bugzilla.redhat.com/1001876
           Update "rsync-out" helpout for using wildcard

       https://bugzilla.redhat.com/1001875
           Argument 'excludes' of tar-out does not work

       https://bugzilla.redhat.com/1000428
           virt-format uses wrong partition type for vfat filesystems

       https://bugzilla.redhat.com/1000121
           'sh' command before mount causes daemon to segfault

       https://bugzilla.redhat.com/998513
           guestfish does not work when you mix --remote and --add options

       https://bugzilla.redhat.com/998482
           guestfish remote prints "libguestfs: error: waitpid (qemu): No child processes"

       https://bugzilla.redhat.com/995711
           list-filesystems command fails if there are no block devices

       https://bugzilla.redhat.com/994517
           cache=none/O_DIRECT workaround doesn't work for images with backing files

       https://bugzilla.redhat.com/989356
           cap-get-file will return error if the file has not be set capabilities

       https://bugzilla.redhat.com/986877
           RFE: Implement set-uuid command

       https://bugzilla.redhat.com/986875
           RFE: Implement set-label for xfs

       https://bugzilla.redhat.com/985269
           Can't set acl value for a specified user with 'acl-set-file'

       https://bugzilla.redhat.com/983218
           libguestfs double free when kernel link fails during launch

       https://bugzilla.redhat.com/981715
           Make xfs filesystem failed with specified blocksize, gives "unknown option -b" error

       https://bugzilla.redhat.com/981683
           "hivex-commit" should fail with a relative path

       https://bugzilla.redhat.com/981663
           disk-format "qemu-img info: JSON parse error" when target file does not exist

       https://bugzilla.redhat.com/978302
           mke2fs-J should give a meaningful error when specified type is anything except 'ext{2,3,4}'

       https://bugzilla.redhat.com/975797
           Specifying virtio interface ('iface' parameter) breaks the direct backend - libguestfs hangs

       https://bugzilla.redhat.com/975753
           "virt-resize --expand" and "virt-resize --resize" outputs error message for Win2008 32bit OS

       https://bugzilla.redhat.com/975412
           inspection: Augeas expressions are broken with augeas &gt;= 0.10

       https://bugzilla.redhat.com/974904
           virt-resize --expand fails on Ubuntu Cloud Image

       https://bugzilla.redhat.com/974489
           Regression: Fedora inspection broken by change from guestfs_exists to guestfs_is_file

       https://bugzilla.redhat.com/972775
           txz-out command produces a bzip2-compressed file (should be xz-compressed)

       https://bugzilla.redhat.com/969845
           upload to a directory occasionally hangs instead of failing

       https://bugzilla.redhat.com/968875
           virt-sysprep should support URL-type arguments

       https://bugzilla.redhat.com/624334
           blockdev-setbsz succeeds, but does not affect blockdev-getbsz

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man1/guestfs-examples.1.html">guestfs-examples</a></b>(1),   <b><a href="../man1/guestfs-faq.1.html">guestfs-faq</a></b>(1),  <b><a href="../man1/guestfs-performance.1.html">guestfs-performance</a></b>(1),  <b><a href="../man1/guestfs-recipes.1.html">guestfs-recipes</a></b>(1),  <b><a href="../man1/guestfs-testing.1.html">guestfs-testing</a></b>(1),
       <b><a href="../man3/guestfs.3.html">guestfs</a></b>(3), <b><a href="../man1/guestfish.1.html">guestfish</a></b>(1), <a href="http://libguestfs.org/">http://libguestfs.org/</a>

</pre><h4><b>AUTHOR</b></h4><pre>
       Richard W.M. Jones

</pre><h4><b>COPYRIGHT</b></h4><pre>
       Copyright (C) 2009-2023 Red Hat Inc.

</pre><h4><b>LICENSE</b></h4><pre>
       This program is free software; you can redistribute it and/or modify  it  under  the  terms  of  the  GNU
       General  Public License as published by the Free Software Foundation; either version 2 of the License, or
       (at your option) any later version.

       This program is distributed in the hope that it will be useful, but WITHOUT ANY  WARRANTY;  without  even
       the  implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public
       License for more details.

       You should have received a copy of the GNU General Public License along with this program; if not,  write
       to the Free Software Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA.

</pre><h4><b>BUGS</b></h4><pre>
       To      get      a      list      of      bugs      against      libguestfs,      use      this     link:
       https://bugzilla.redhat.com/buglist.cgi?component=libguestfs&amp;product=Virtualization+Tools

       To      report      a      new       bug       against       libguestfs,       use       this       link:
       https://bugzilla.redhat.com/enter_bug.cgi?component=libguestfs&amp;product=Virtualization+Tools

       When reporting a bug, please supply:

       •   The version of libguestfs.

       •   Where you got libguestfs (eg. which Linux distro, compiled from source, etc)

       •   Describe the bug accurately and give a way to reproduce it.

       •   Run <b><a href="../man1/libguestfs-test-tool.1.html">libguestfs-test-tool</a></b>(1) and paste the <b>complete,</b> <b>unedited</b> output into the bug report.

libguestfs-1.54.1                                  2025-02-18                      <u><a href="../man1/guestfs-release-notes-1.24.1.html">guestfs-release-notes-1.24</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>