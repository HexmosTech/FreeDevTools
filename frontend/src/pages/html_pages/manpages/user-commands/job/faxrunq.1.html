<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>faxrunq - send fax jobs queued by faxspool(1)</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/mgetty-fax">mgetty-fax_1.2.1-2_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       faxrunq - send fax jobs queued by <a href="../man1/faxspool.1.html">faxspool</a>(1)

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>faxrunq</b>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       Run the fax queue set up by <a href="../man1/faxspool.1.html">faxspool</a>(1), try to send all faxes, record result, remove job and send notify
       mails.

       <u>faxrunq</u>  looks  for  all the jobs queued by <a href="../man1/faxspool.1.html">faxspool</a>(1) to /var/spool/fax/outgoing/*. For each job in the
       queue, faxrunq tries to send it, using <a href="../man8/sendfax.8.html">sendfax</a>(8).

       If the send succeeds, the job is removed from the queue, and a "success" mail is sent to  the  originator
       of the spooled job.

       If  the  send  fails,  it's  logged,  and  faxrunq  proceeds to the next job. If the job fails five times
       "fatally", that is, not with a locked or engaged line, but with "NO CARRIER" (no  fax  machine,  or  line
       noise), the job is suspended, and the requestor gets a mail, telling him so.

       <u>faxrunq</u> can be run from the command line (but make sure the user doing this has write access to the modem
       device  and to the fax queue, that is, usually this should be done by "uucp" or "root").  In a production
       environment, it's more useful to start <u>faxrunq</u> from <u><a href="../man8/cron.8.html">cron</a>(8)</u> in regular intervals, like "run  it  every  5
       minutes".   See  the  <u><a href="../man8/cron.8.html">cron</a>(8)</u> and/or <u><a href="../man1/crontab.1.html">crontab</a>(1)</u> man pages for this (which man page exists depends on your
       system).

</pre><h4><b>OPTIONS</b></h4><pre>
       <b>-q</b>     Tells <u>faxrunq</u> to be quiet, that is, suppress all status messages.  Error messages  will  still  be
              printed.

</pre><h4><b>FILES</b></h4><pre>
       <b>/var/spool/fax/outgoing/stop</b>
              if  this  file  exists,  <u>faxrunq</u>  (and  faxrunqd) will do nothing.  You can use this to stop queue
              processing while testing something, or if you know that the modem(s) are unavailable  and  do  not
              want to run into oany error messages, etc.

       <b>/var/spool/fax/outgoing/faxqueue_done</b>
              Every time <u>faxrunq</u> (or faxrunqd) run the fax queue, a time stamp is written into that file.  It is
              used  by  <u>faxspool</u>  to  display  a warning if the queue hasn't been run recently (so faxes may get
              stuck).

</pre><h4><b>CONFIGURATION</b> <b>FILE</b></h4><pre>
       Some  aspects  of  the  behaviour   of   <u>faxrunq</u>   can   be   controlled   by   a   configuration   file,
       /etc/mgetty/faxrunq.config.  In this file, you can use the following options:

       <b>success-send-mail</b> <b>[y/n]</b>
              A boolean parameter that controls whether a mail will be sent after successful completition of the
              fax job.

       <b>failure-send-mail</b> <b>[y/n]</b>
              A  boolean  parameter  that controls whether a mail will be sent after the fax job has failed more
              than the maximum number of times.

       <b>success-call-program</b> <b>&lt;name&gt;</b>
              Here, you can specify a program that will be run when the fax has been successfully sent. It  will
              be  passed  two  command  line  parameters.  The  first  is the full path to the fax JOB file (see
              <a href="../man5/faxq.5.html">faxq</a>(5)), the second is the last exit code from <u>sendfax</u> (for success-call-program, this is  always
              "0").

       <b>failure-call-program</b> <b>&lt;name&gt;</b>
              Similar  to  the "success-call-program", this program will be run when the fax has been failed too
              often and <u>faxrunq</u> gives up. This script could, for example, print out the fax on a printer so that
              it can be sent manually on a paper fax machine.

       <b>maxfail-costly</b> <b>&lt;n&gt;</b>
              This specifies the number of times that a fax may fail "fatally", that is, causing telephone costs
              (explained above). The default value is 5.

       <b>maxfail-total</b> <b>&lt;m&gt;</b>
              This is the absolute maximum number of times that <u>faxrunq</u> will try to  send  any  given  fax.  The
              default value is 10. (Right now, it's not yet implemented).

       <b>delete-sent-jobs</b> <b>[y/n]</b>
              Determines whether <u>faxrunq</u> should delete jobs after sending, or leave them in the fax queue (while
              moving  the  "JOB" file to "JOB.done") so that they can be seen at by "faxq -o". The default value
              is "do not delete sent faxes".

       <b>acct-log</b> <b>&lt;path&gt;</b>
              Specifies where <u>faxrunq</u> should protocol success and failure of each try to send a  fax  job.   The
              default location is /var/spool/fax/outgoing/acct.log.

              There  are some other options that are allowed, but ignored.  These are: <u>max-modems,</u> and <u>faxrunqd-</u>
              <u>log.</u>

              They are used by <a href="../man8/faxrunqd.8.html">faxrunqd</a>(8) (which reads the same config file, but has more options).

</pre><h4><b>BUGS</b></h4><pre>
       <u>faxrunq</u> doesn't handle proper time scheduling yet

       Don't use <u>faxrunq</u> if you have malevolent users with access to the fax spool.  It doesn't handle all cases
       of file movement tricks correctly.  Use <u><a href="../man8/faxrunqd.8.html">faxrunqd</a>(8)</u> instead, which does  it  correctly   (this  point  is
       mostly  moot if the fax queue is set up correctly - that is, owned by 'uucp', mode 755, and <a href="../man1/faxrunq.1.html">faxrunq</a>(1) is
       also run as user 'uucp').

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <a href="../man1/faxspool.1.html">faxspool</a>(1), <a href="../man8/sendfax.8.html">sendfax</a>(8), <a href="../man1/faxq.1.html">faxq</a>(1), <a href="../man5/faxqueue.5.html">faxqueue</a>(5), <a href="../man8/faxrunqd.8.html">faxrunqd</a>(8)

</pre><h4><b>AUTHOR</b></h4><pre>
       <u>faxrunq</u> is Copyright (C) 1993-2002 by Gert Doering, &lt;<a href="mailto:gert@greenie.muc.de">gert@greenie.muc.de</a>&gt;.

greenie                                             23 Nov 02                                         <u><a href="../man1/faxrunq.1.html">faxrunq</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>