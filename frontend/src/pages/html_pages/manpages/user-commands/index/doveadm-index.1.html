<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>doveadm-index - Index mailboxes</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/dovecot-core">dovecot-core_2.3.21.1+dfsg1-1ubuntu2_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       doveadm-index - Index mailboxes

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>doveadm</b> [<b>-Dv</b>] <b>index</b> [<b>-S</b> <u>socket_path</u>] [<b>-q</b>] [<b>-n</b> <u>max_recent</u>] <u>mailbox</u>
       <b>doveadm</b> [<b>-Dv</b>] <b>index</b> [<b>-S</b> <u>socket_path</u>] <b>-A</b> [<b>-q</b>] [<b>-n</b> <u>max_recent</u>] <u>mailbox</u>
       <b>doveadm</b> [<b>-Dv</b>] <b>index</b> [<b>-S</b> <u>socket_path</u>] <b>-F</b> <u>file</u> [<b>-q</b>] [<b>-n</b> <u>max_recent</u>] <u>mailbox</u>
       <b>doveadm</b> [<b>-Dv</b>] <b>index</b> [<b>-S</b> <u>socket_path</u>] <b>-u</b> <u>user</u> [<b>-q</b>] [<b>-n</b> <u>max_recent</u>] <u>mailbox</u>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       Add  unindexed  messages  in  a  mailbox  into index/cache file. If full text search is enabled, also add
       unindexed messages to the fts database.

       The caching adds only the fields that were previously added to the mailbox's  caching  decisions,  so  it
       won't  do  anything useful for mailboxes that user's client hasn't accessed yet. You can use <b>doveadm</b> <b>dump</b>
       command to show a specific mailbox's current caching decisions.

       Messages can also be added automatically to full text search index using:

       plugin {
         ...
         fts_autoindex = yes
       }
       in <u>/etc/dovecot/conf.d/90-plugin.conf</u>.

</pre><h4><b>OPTIONS</b></h4><pre>
       Global <b><a href="../man1/doveadm.1.html">doveadm</a></b>(1) <u>options</u>:

       <b>-D</b>     Enables verbosity and debug messages.

       <b>-o</b> <u>setting</u><b>=</b><u>value</u>
              Overrides the configuration <u>setting</u> from <u>/etc/dovecot/dovecot.conf</u> and from the  userdb  with  the
              given  <u>value</u>.   In  order  to  override multiple settings, the <b>-o</b> option may be specified multiple
              times.

       <b>-v</b>     Enables verbosity, including progress counter.

       Command specific <u>options</u>:

       <b>-A</b>     If the <b>-A</b> option is present, the <u>command</u> will be performed for all users.  Using  this  option  in
              combination  with  system  users  from  <b>userdb</b>  <b>{</b> <b>driver</b> <b>=</b> <b>passwd</b> <b>}</b> is not recommended, because it
              contains also users with a lower UID than the one configured with the <u>first_valid_uid</u> setting.

              When  the  SQL  userdb  module  is  used   make   sure   that   the   <u>iterate_query</u>   setting   in
              <u>/etc/dovecot/dovecot-sql.conf.ext</u>  matches  your  database  layout.   When  using  the LDAP userdb
              module, make sure that the <u>iterate_attrs</u>  and  <u>iterate_filter</u>  settings  in  <u>/etc/dovecot/dovecot-</u>
              <u>ldap.conf.ext</u>  match  your  LDAP  schema.  Otherwise <b><a href="../man1/doveadm.1.html">doveadm</a></b>(1) will be unable to iterate over all
              users.

       <b>-F</b> <u>file</u>
              Execute the <u>command</u> for all the users in the <u>file</u>.  This is similar to the <b>-A</b> option, but  instead
              of  getting  the  list  of  users  from  the  userdb, they are read from the given <u>file</u>.  The <u>file</u>
              contains one username per line.

       <b>-n</b> <u>max_recent</u>
              An integer value, which specifies the maximum number of \Recent messages  in  mailboxes.   If  the
              mailbox  contains  more  than  <u>max_recent</u>  messages with \Recent flag set, the mailbox will not be
              indexed.  This may be useful to avoid unnecessary indexing for  large  mailboxes  that  are  never
              opened.

       <b>-q</b>     Queues the indexing to be run by indexer process.  Without -q the indexing is done directly by the
              <b><a href="../man1/doveadm.1.html">doveadm</a></b>(1)  process.   Some  backends like fts-lucene can't handle multiple processes updating the
              indexes simultaneously, so -q should usually be used on production.

       <b>-S</b> <u>socket_path</u>
              The option's argument is either an absolute path to a local UNIX domain socket, or a hostname  and
              port (<u>hostname</u>:<u>port</u>), in order to connect a remote host via a TCP socket.

              This allows an administrator to execute <b><a href="../man1/doveadm.1.html">doveadm</a></b>(1) mail commands through the given socket.

       <b>-u</b> <u>user/mask</u>
              Run the <u>command</u> only for the given <u>user</u>.  It's also possible to use '<b>*</b>' and '<b>?</b>' wildcards (e.g. -u
              *@example.org).
              When  neither  the  <b>-A</b>  option, nor the <b>-F</b> <u>file</u> option, nor the <b>-u</b> <u>user</u> was specified, the <u>command</u>
              will be executed with the environment of the currently logged in user.

</pre><h4><b>ARGUMENTS</b></h4><pre>
       <u>mailbox</u>
              The name of the mailbox to index.

</pre><h4><b>EXAMPLE</b></h4><pre>
       Index bob's INBOX:

       <b>doveadm</b> <b>index</b> <b>-u</b> <b>bob</b> <b>INBOX</b>

</pre><h4><b>REPORTING</b> <b>BUGS</b></h4><pre>
       Report  bugs,  including  <u>doveconf</u>  <u>-n</u>  output,  to  the  Dovecot  Mailing  List   &lt;<a href="mailto:dovecot@dovecot.org">dovecot@dovecot.org</a>&gt;.
       Information about reporting bugs is available at: <a href="http://dovecot.org/bugreport.html">http://dovecot.org/bugreport.html</a>

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man1/doveadm.1.html">doveadm</a></b>(1)

Dovecot v2.3                                       2015-05-09                                   <u><a href="../man1/DOVEADM-INDEX.1.html">DOVEADM-INDEX</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>