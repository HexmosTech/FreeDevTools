<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>lttng-enable-channel - Create or enable LTTng channels</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/lttng-tools">lttng-tools_2.13.14-2_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       lttng-enable-channel - Create or enable LTTng channels

</pre><h4><b>SYNOPSIS</b></h4><pre>
       Create a Linux kernel channel:

       <b>lttng</b> [<u>GENERAL</u> <u>OPTIONS</u>] <b>enable-channel</b> <b>--kernel</b>
             [<b>--discard</b> | <b>--overwrite</b>] [<b>--output</b>=(<b>mmap</b> | <b>splice</b>)]
             [<b>--subbuf-size</b>=<u>SIZE</u>] [<b>--num-subbuf</b>=<u>COUNT</u>]
             [<b>--switch-timer</b>=<u>PERIODUS</u>] [<b>--read-timer</b>=<u>PERIODUS</u>]
             [<b>--monitor-timer</b>=<u>PERIODUS</u>] [<b>--buffers-global</b>]
             [<b>--tracefile-size</b>=<u>SIZE</u> [<b>--tracefile-count</b>=<u>COUNT</u>]]
             [<b>--session</b>=<u>SESSION</u>] <u>CHANNEL</u>

       Create a user space channel:

       <b>lttng</b> [<u>GENERAL</u> <u>OPTIONS</u>] <b>enable-channel</b> <b>--userspace</b>
             [<b>--overwrite</b> | [<b>--discard</b>] <b>--blocking-timeout</b>=<u>TIMEOUTUS</u>]
             [<b>--output</b>=<b>mmap</b>] [<b>--buffers-uid</b> | <b>--buffers-pid</b>]
             [<b>--subbuf-size</b>=<u>SIZE</u>] [<b>--num-subbuf</b>=<u>COUNT</u>]
             [<b>--switch-timer</b>=<u>PERIODUS</u>] [<b>--read-timer</b>=<u>PERIODUS</u>]
             [<b>--monitor-timer</b>=<u>PERIODUS</u>]
             [<b>--tracefile-size</b>=<u>SIZE</u> [<b>--tracefile-count</b>=<u>COUNT</u>]]
             [<b>--session</b>=<u>SESSION</u>] <u>CHANNEL</u>

       Enable channel(s):

       <b>lttng</b> [<u>GENERAL</u> <u>OPTIONS</u>] <b>enable-channel</b> (<b>--userspace</b> | <b>--kernel</b>)
             [<b>--session</b>=<u>SESSION</u>] <u>CHANNEL</u>[,<u>CHANNEL</u>]...

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The <b>lttng</b> <b>enable-channel</b> command does one of:

       •   Create a channel named <u>CHANNEL</u>.

       •   Enable one or more disabled channels named <u>CHANNEL</u> (non-option argument, comma-separated).

       See <b><a href="../man7/lttng-concepts.7.html">lttng-concepts</a></b>(7) to learn more about channels.

       The channel(s) to create or enable belong to:

       With the <b>--session</b>=<u>SESSION</u> option
           The recording session named <u>SESSION</u>.

       Without the <b>--session</b> option
           The current recording session (see <b><a href="../man7/lttng-concepts.7.html">lttng-concepts</a></b>(7) to learn more about the current recording
           session).

       <b>Note</b>

           The <b><a href="../man1/lttng-enable-event.1.html">lttng-enable-event</a></b>(1) command can automatically create a default channel when no channel exists
           for the provided tracing domain.

       See the “EXAMPLES” section below for usage examples.

       List the channels of a given recording session with the <b><a href="../man1/lttng-list.1.html">lttng-list</a></b>(1) and <b><a href="../man1/lttng-status.1.html">lttng-status</a></b>(1) commands.

       Disable an enabled channel with the <b><a href="../man1/lttng-disable-channel.1.html">lttng-disable-channel</a></b>(1) command.

       <b>Important</b>

           As of LTTng 2.13.14, you may NOT perform the following operations with the <b>enable-channel</b> command:

           •   Change an attribute of an existing channel.

           •   Enable a disabled channel once its recording session has been active (started; see <b><a href="../man1/lttngstart.1.html">lttng-</a></b>
               <b><a href="../man1/lttngstart.1.html">start</a></b>(1)) at least once.

           •   Create a channel once its recording session has been active at least once.

           •   Create a user space channel with a given buffering scheme (<b>--buffers-uid</b> or <b>--buffers-pid</b>
               options) and create a second user space channel with a different buffering scheme in the same
               recording session.

</pre><h4><b>OPTIONS</b></h4><pre>
       See <b><a href="../man1/lttng.1.html">lttng</a></b>(1) for <u>GENERAL</u> <u>OPTIONS</u>.

   <b>Tracing</b> <b>domain</b>
       One of:

       <b>-k</b>, <b>--kernel</b>
           Create or enable channels in the Linux kernel domain.

       <b>-u</b>, <b>--userspace</b>
           Create or enable channels in the user space domain.

   <b>Recording</b> <b>target</b>
       <b>-s</b> <u>SESSION</u>, <b>--session</b>=<u>SESSION</u>
           Create or enable channels in the recording session named <u>SESSION</u> instead of the current recording
           session.

   <b>Buffering</b> <b>scheme</b>
       One of:

       <b>--buffers-global</b>
           Allocate a single set of ring buffers for the whole system.

           Only available with the <b>--kernel</b> option.

           As of LTTng 2.13.14, this is the default buffering scheme for the Linux kernel tracing domain, but
           this may change in the future.

       <b>--buffers-pid</b>
           Allocate one set of ring buffers (one per CPU) for each instrumented process of:

           If you connect to the root session daemon
               All Unix users.

               See the “Session daemon connection” section of <b><a href="../man1/lttng.1.html">lttng</a></b>(1) to learn how a user application connects
               to a session daemon.

           Otherwise
               Your Unix user.

           Only available with the <b>--userspace</b> option.

       <b>--buffers-uid</b>
           Allocate one set of ring buffers (one per CPU) shared by all the instrumented processes of:

           If you connect to the root session daemon
               Each Unix user.

               See the “Session daemon connection” section of <b><a href="../man1/lttng.1.html">lttng</a></b>(1) to learn how a user application connects
               to a session daemon.

           Otherwise
               Your Unix user.

           Only available with the <b>--userspace</b> option.

           As of LTTng 2.13.14, this is the default buffering scheme for the user space tracing domain, but this
           may change in the future.

   <b>Event</b> <b>record</b> <b>loss</b> <b>mode</b>
       <b>--blocking-timeout</b>=<u>TIMEOUTUS</u>
           Set the channel’s blocking timeout value to <u>TIMEOUTUS</u> µs for instrumented applications executed with
           a set <b>LTTNG_UST_ALLOW_BLOCKING</b> environment variable.

           <u>TIMEOUTUS</u> is one of:

           <b>0</b> (default)
               Do not block (non-blocking mode).

           <b>inf</b>
               Block forever until a sub-buffer is available to write the event record.

           <u>N</u>, a positive value
               Wait for at most <u>N</u> µs when trying to write to a sub-buffer. After <u>N</u> µs, discard the event record.

           This option is only available with both the <b>--userspace</b> and <b>--discard</b> options.

       One of:

       <b>--discard</b>
           Discard event records when there’s no available sub-buffer.

           As of LTTng 2.13.14, this is the default event record loss mode, but this may change in the future.

       <b>--overwrite</b>
           Overwrite the whole sub-buffer containing the oldest event records when there’s no available
           sub-buffer (flight recorder mode).

   <b>Sub-buffers</b>
       <b>--num-subbuf</b>=<u>COUNT</u>
           Use <u>COUNT</u> sub-buffers per ring buffer.

           The effective value is <u>COUNT</u> rounded up to the next power of two.

           Default values:

           <b>--userspace</b> and <b>--buffers-uid</b> options
               <b>4</b>

           <b>--userspace</b> and <b>--buffers-pid</b> options
               <b>4</b>

           <b>--kernel</b> and <b>--buffers-global</b> options
               <b>4</b>

           <b>metadata</b> channel
               <b>2</b>

       <b>--output</b>=<u>TYPE</u>
           Set channel’s output type to <u>TYPE</u>.

           <u>TYPE</u> is one of:

           <b>mmap</b>
               Share ring buffers between the tracer and the consumer daemon with the <b><a href="../man2/mmap.2.html">mmap</a></b>(2) system call.

           <b>splice</b>
               Share ring buffers between the tracer and the consumer daemon with the <b><a href="../man2/splice.2.html">splice</a></b>(2) system call.

               Only available with the <b>--kernel</b> option.

           Default values:

           <b>--userspace</b> and <b>--buffers-uid</b> options
               <b>mmap</b>

           <b>--userspace</b> and <b>--buffers-pid</b> options
               <b>mmap</b>

           <b>--kernel</b> and <b>--buffers-global</b> options
               <b>splice</b>

           <b>metadata</b> channel
               <b>mmap</b>

       <b>--subbuf-size</b>=<u>SIZE</u>
           Set the size of each sub-buffer to <u>SIZE</u> bytes.

           The effective value is <u>SIZE</u> rounded up to the next power of two.

           The <b>k</b> (KiB), <b>M</b> (MiB), and <b>G</b> (GiB) suffixes are supported.

           The minimum sub-buffer size, for each tracer, is the maximum value between the default below and the
           system page size (see <b><a href="../man1/getconf.1.html">getconf</a></b>(1) with the <b>PAGE_SIZE</b> variable).

           Default values:

           <b>--userspace</b> and <b>--buffers-uid</b> options
               <b>524288</b>

           <b>--userspace</b> and <b>--buffers-pid</b> options
               <b>16384</b>

           <b>--kernel</b> and <b>--buffers-global</b> options
               <b>1048576</b>

           <b>metadata</b> channel
               <b>4096</b>

   <b>Trace</b> <b>files</b>
       <b>--tracefile-count</b>=<u>COUNT</u>
           Limit the number of trace files which LTTng writes for this channel to <u>COUNT</u>.

           <u>COUNT</u> set to <b>0</b> means “unlimited”.

           Default: <b>0</b>.

           You must also use the <b>--tracefile-size</b> option with this option.

       <b>--tracefile-size</b>=<u>SIZE</u>
           Set the maximum size of each trace file which LTTng writes for this channel to <u>SIZE</u> bytes.

           <u>SIZE</u> set to <b>0</b> means “unlimited”.

           Default: <b>0</b>.

           <b>Note</b>
               Data streams which LTTng writes for a channel configured with this option may inaccurately report
               discarded event records as of CTF 1.8.

   <b>Timers</b>
       <b>--monitor-timer</b>=<u>PERIODUS</u>
           Set the period of the monitor timer of the channel to <u>PERIODUS</u> µs.

           Set <u>PERIODUS</u> to <b>0</b> to disable the monitor timer.

           Default values:

           <b>--userspace</b> and <b>--buffers-uid</b> options
               <b>1000000</b>

           <b>--userspace</b> and <b>--buffers-pid</b> options
               <b>1000000</b>

           <b>--kernel</b> and <b>--buffers-global</b> options
               <b>1000000</b>

       <b>--read-timer</b>=<u>PERIODUS</u>
           Set the period of the read timer of the channel to <u>PERIODUS</u> µs.

           Set <u>PERIODUS</u> to <b>0</b> to disable the read timer.

           Default values:

           <b>--userspace</b> and <b>--buffers-uid</b> options
               <b>0</b>

           <b>--userspace</b> and <b>--buffers-pid</b> options
               <b>0</b>

           <b>--kernel</b> and <b>--buffers-global</b> options
               <b>200000</b>

           <b>metadata</b> channel
               <b>0</b>

       <b>--switch-timer</b>=<u>PERIODUS</u>
           Set the period of the switch timer of the channel to <u>PERIODUS</u> µs.

           Set <u>PERIODUS</u> to <b>0</b> to disable the switch timer.

           Default values:

           <b>--userspace</b> and <b>--buffers-uid</b> options
               <b>0</b>

           <b>--userspace</b> and <b>--buffers-pid</b> options
               <b>0</b>

           <b>--kernel</b> and <b>--buffers-global</b> options
               <b>0</b>

           <b>metadata</b> channel
               <b>0</b>

   <b>Program</b> <b>information</b>
       <b>-h</b>, <b>--help</b>
           Show help.

           This option attempts to launch <b><a href="file:///usr/lib/w3m/cgi-bin/w3mman2html.cgi?man">/usr/bin/man</a></b> to view this manual page. Override the manual pager path
           with the <b>LTTNG_MAN_BIN_PATH</b> environment variable.

       <b>--list-options</b>
           List available command options and quit.

</pre><h4><b>EXIT</b> <b>STATUS</b></h4><pre>
       <b>0</b>
           Success

       <b>1</b>
           Command error

       <b>2</b>
           Undefined command

       <b>3</b>
           Fatal error

       <b>4</b>
           Command warning (something went wrong during the command)

</pre><h4><b>ENVIRONMENT</b></h4><pre>
       <b>LTTNG_ABORT_ON_ERROR</b>
           Set to <b>1</b> to abort the process after the first error is encountered.

       <b>LTTNG_HOME</b>
           Path to the LTTng home directory.

           Defaults to <b>$HOME</b>.

           Useful when the Unix user running the commands has a non-writable home directory.

       <b>LTTNG_MAN_BIN_PATH</b>
           Absolute path to the manual pager to use to read the LTTng command-line help (with <b><a href="../man1/lttng-help.1.html">lttng-help</a></b>(1) or
           with the <b>--help</b> option) instead of <b><a href="file:///usr/lib/w3m/cgi-bin/w3mman2html.cgi?man">/usr/bin/man</a></b>.

       <b>LTTNG_SESSION_CONFIG_XSD_PATH</b>
           Path to the directory containing the <b>session.xsd</b> recording session configuration XML schema.

       <b>LTTNG_SESSIOND_PATH</b>
           Absolute path to the LTTng session daemon binary (see <b><a href="../man8/lttng-sessiond.8.html">lttng-sessiond</a></b>(8)) to spawn from the <b><a href="../man1/lttngcreate.1.html">lttng-</a></b>
           <b><a href="../man1/lttngcreate.1.html">create</a></b>(1) command.

           The <b>--sessiond-path</b> general option overrides this environment variable.

</pre><h4><b>FILES</b></h4><pre>
       <b>$LTTNG_HOME/.lttngrc</b>
           Unix user’s LTTng runtime configuration.

           This is where LTTng stores the name of the Unix user’s current recording session between executions
           of <b><a href="../man1/lttng.1.html">lttng</a></b>(1).  <b><a href="../man1/lttng-create.1.html">lttng-create</a></b>(1) and <b><a href="../man1/lttng-set-session.1.html">lttng-set-session</a></b>(1) set the current recording session.

       <b>$LTTNG_HOME/lttng-traces</b>
           Default output directory of LTTng traces in local and snapshot modes.

           Override this path with the <b>--output</b> option of the <b><a href="../man1/lttng-create.1.html">lttng-create</a></b>(1) command.

       <b>$LTTNG_HOME/.lttng</b>
           Unix user’s LTTng runtime and configuration directory.

       <b>$LTTNG_HOME/.lttng/sessions</b>
           Default directory containing the Unix user’s saved recording session configurations (see <b><a href="../man1/lttngsave.1.html">lttng-</a></b>
           <b><a href="../man1/lttngsave.1.html">save</a></b>(1) and <b><a href="../man1/lttng-load.1.html">lttng-load</a></b>(1)).

       <b>/etc/lttng/sessions</b>
           Directory containing the system-wide saved recording session configurations (see <b><a href="../man1/lttng-save.1.html">lttng-save</a></b>(1) and
           <b><a href="../man1/lttng-load.1.html">lttng-load</a></b>(1)).

       <b>Note</b>

           <b>$LTTNG_HOME</b> defaults to the value of the <b>HOME</b> environment variable.

</pre><h4><b>EXAMPLES</b></h4><pre>
       <b>Example</b> <b>1.</b> <b>Create</b> <b>a</b> <b>Linux</b> <b>kernel</b> <b>channel</b> <b>with</b> <b>default</b> <b>attributes</b> <b>in</b> <b>the</b> <b>current</b> <b>recording</b> <b>session.</b>

           The following command line only creates a new channel if <b>my-channel</b> doesn’t name an existing Linux
           kernel channel in the current recording session.

               $ lttng enable-channel --kernel my-channel

       <b>Example</b> <b>2.</b> <b>Create</b> <b>a</b> <b>user</b> <b>space</b> <b>channel</b> <b>with</b> <b>a</b> <b>per-process</b> <b>buffering</b> <b>scheme</b> <b>in</b> <b>a</b> <b>specific</b> <b>recording</b>
       <b>session.</b>

           See the <b>--session</b> and <b>--buffers-pid</b> options.

               $ lttng enable-channel --session=my-session --userspace \
                                      --buffers-pid my-channel

       <b>Example</b> <b>3.</b> <b>Create</b> <b>a</b> <b>Linux</b> <b>kernel</b> <b>channel</b> <b>in</b> <b>the</b> <b>current</b> <b>recording</b> <b>session</b> <b>with</b> <b>four</b> <b>32-MiB</b> <b>sub-buffers</b>
       <b>per</b> <b>ring</b> <b>buffer.</b>

           See the <b>--num-subbuf</b> and <b>--subbuf-size</b> options.

               $ lttng enable-channel --kernel my-channel \
                                      --num-subbuf=4 --subbuf-size=32M

       <b>Example</b> <b>4.</b> <b>Create</b> <b>a</b> <b>user</b> <b>space</b> <b>channel</b> <b>in</b> <b>the</b> <b>current</b> <b>recording</b> <b>session</b> <b>with</b> <b>trace</b> <b>file</b> <b>rotation.</b>

           See the <b>--tracefile-count</b> and <b>--tracefile-size</b> options.

               $ lttng enable-channel --userspace my-channel \
                                      --tracefile-count=16 --tracefile-size=8M

       <b>Example</b> <b>5.</b> <b>Enable</b> <b>two</b> <b>user</b> <b>space</b> <b>channels</b> <b>of</b> <b>a</b> <b>specific</b> <b>recording</b> <b>session.</b>

               $ lttng enable-channel --session=my-session --userspace \
                                      canal-d,rds

</pre><h4><b>RESOURCES</b></h4><pre>
       •   LTTng project website &lt;https://lttng.org&gt;

       •   LTTng documentation &lt;https://lttng.org/docs&gt;

       •   LTTng bug tracker &lt;https://bugs.lttng.org&gt;

       •   Git repositories &lt;https://git.lttng.org&gt;

       •   GitHub organization &lt;https://github.com/lttng&gt;

       •   Continuous integration &lt;https://ci.lttng.org/&gt;

       •   Mailing list &lt;https://lists.lttng.org/&gt; for support and development: <b><a href="mailto:lttng-dev@lists.lttng.org">lttng-dev@lists.lttng.org</a></b>

       •   IRC channel &lt;irc://irc.oftc.net/lttng&gt;: <b>#lttng</b> on <b>irc.oftc.net</b>

</pre><h4><b>COPYRIGHT</b></h4><pre>
       This program is part of the LTTng-tools project.

       LTTng-tools is distributed under the GNU General Public License version 2
       &lt;<a href="http://www.gnu.org/licenses/old-licenses/gpl-2.0.en.html">http://www.gnu.org/licenses/old-licenses/gpl-2.0.en.html</a>&gt;. See the <b>LICENSE</b>
       &lt;https://github.com/lttng/lttng-tools/blob/master/LICENSE&gt; file for details.

</pre><h4><b>THANKS</b></h4><pre>
       Special thanks to Michel Dagenais and the DORSAL laboratory &lt;<a href="http://www.dorsal.polymtl.ca/">http://www.dorsal.polymtl.ca/</a>&gt; at École
       Polytechnique de Montréal for the LTTng journey.

       Also thanks to the Ericsson teams working on tracing which helped us greatly with detailed bug reports
       and unusual test cases.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man1/lttng.1.html">lttng</a></b>(1), <b><a href="../man1/lttng-disable-channel.1.html">lttng-disable-channel</a></b>(1), <b><a href="../man1/lttng-list.1.html">lttng-list</a></b>(1), <b><a href="../man7/lttng-concepts.7.html">lttng-concepts</a></b>(7)

LTTng 2.13.14                                     14 June 2021                             <u><a href="../man1/LTTNG-ENABLE-CHANN.1.html">LTTNG-ENABLE-CHANN</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>