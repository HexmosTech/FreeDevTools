<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>systemd-mount, systemd-umount - Establish and destroy transient mount or auto-mount points</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/systemd">systemd_257.4-1ubuntu3.1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       systemd-mount, systemd-umount - Establish and destroy transient mount or auto-mount points

</pre><h4><b>SYNOPSIS</b></h4><pre>

       <b>systemd-mount</b> [<u>OPTIONS</u>...] <u>WHAT</u> [<u>WHERE</u>]

       <b>systemd-mount</b> [<u>OPTIONS</u>...] <b>--tmpfs</b> [<u>NAME</u>] <u>WHERE</u>

       <b>systemd-mount</b> [<u>OPTIONS</u>...] <b>--list</b>

       <b>systemd-mount</b> [<u>OPTIONS</u>...] <b>--umount</b> <u>WHAT|WHERE</u>...

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>systemd-mount</b> may be used to create and start a transient .mount or .automount unit of the file system
       <u>WHAT</u> on the mount point <u>WHERE</u>.

       In many ways, <b>systemd-mount</b> is similar to the lower-level <b><a href="../man8/mount.8.html">mount</a></b>(8) command, however instead of executing
       the mount operation directly and immediately, <b>systemd-mount</b> schedules it through the service manager job
       queue, so that it may pull in further dependencies (such as parent mounts, or a file system checker to
       execute a priori), and may make use of the auto-mounting logic.

       The command takes either one or two arguments. If only one argument is specified it should refer to a
       block device or regular file containing a file system (e.g.  "/dev/sdb1" or "/path/to/disk.img"). The
       block device or image file is then probed for a file system label and other metadata, and is mounted to a
       directory below /run/media/system/ whose name is generated from the file system label. In this mode the
       block device or image file must exist at the time of invocation of the command, so that it may be probed.
       If the device is found to be a removable block device (e.g. a USB stick), an automount point is created
       instead of a regular mount point (i.e. the <b>--automount=</b> option is implied, see below). If the option
       <b>--tmpfs</b> is specified, then the argument is interpreted as the path where the new temporary file system
       shall be mounted.

       If two arguments are specified, the first indicates the mount source (the <u>WHAT</u>) and the second indicates
       the path to mount it on (the <u>WHERE</u>). In this mode no probing of the source is attempted, and a backing
       device node doesn't have to exist. However, if this mode is combined with <b>--discover</b>, device node probing
       for additional metadata is enabled, and – much like in the single-argument case discussed above – the
       specified device has to exist at the time of invocation of the command.

       Use the <b>--list</b> command to show a terse table of all local, known block devices with file systems that may
       be mounted with this command.

       <b>systemd-umount</b> can be used to unmount a mount or automount point. It is the same as <b>systemd-mount</b>
       <b>--umount</b>.

</pre><h4><b>OPTIONS</b></h4><pre>
       The following options are understood:

       <b>--no-block</b>
           Do not synchronously wait for the requested operation to finish. If this is not specified, the job
           will be verified, enqueued and <b>systemd-mount</b> will wait until the mount or automount unit's start-up
           is completed. By passing this argument, it is only verified and enqueued.

           Added in version 232.

       <b>-l</b>, <b>--full</b>
           Do not ellipsize the output when <b>--list</b> is specified.

           Added in version 245.

       <b>--no-pager</b>
           Do not pipe output into a pager.

       <b>--no-legend</b>
           Do not print the legend, i.e. column headers and the footer with hints.

       <b>--no-ask-password</b>
           Do not query the user for authentication for privileged operations.

       <b>--json=</b><u>MODE</u>
           Shows output formatted as JSON. Expects one of "short" (for the shortest possible output without any
           redundant whitespace or line breaks), "pretty" (for a pretty version of the same, with indentation
           and line breaks) or "off" (to turn off JSON output, the default).

       <b>--quiet</b>, <b>-q</b>
           Suppresses additional informational output while running.

           Added in version 232.

       <b>--discover</b>
           Enable probing of the mount source. This switch is implied if a single argument is specified on the
           command line. If passed, additional metadata is read from the device to enhance the unit to create.
           For example, a descriptive string for the transient units is generated from the file system label and
           device model. Moreover if a removable block device (e.g. USB stick) is detected an automount unit
           instead of a regular mount unit is created, with a short idle timeout, in order to ensure the
           file-system is placed in a clean state quickly after each access.

           Added in version 232.

       <b>--type=</b>, <b>-t</b>
           Specifies the file system type to mount (e.g.  "vfat" or "ext4"). If omitted or set to "auto", the
           file system type is determined automatically.

           Added in version 232.

       <b>--options=</b>, <b>-o</b>
           Additional mount options for the mount point.

           Added in version 232.

       <b>--owner=</b><u>USER</u>
           Let the specified user <u>USER</u> own the mounted file system. This is done by appending <b>uid=</b> and <b>gid=</b>
           options to the list of mount options. Only certain file systems support this option.

           Added in version 237.

       <b>--fsck=</b>
           Takes a boolean argument, defaults to on. Controls whether to run a file system check immediately
           before the mount operation. In the automount case (see <b>--automount=</b> below) the check will be run the
           moment the first access to the device is made, which might slightly delay the access.

           Added in version 232.

       <b>--description=</b>
           Provide a description for the mount or automount unit. See <u>Description=</u> in <b><a href="../man5/systemd.unit.5.html">systemd.unit</a></b>(5).

           Added in version 232.

       <b>--property=</b>, <b>-p</b>
           Sets a unit property for the mount unit that is created. This takes an assignment in the same format
           as <b><a href="../man1/systemctl.1.html">systemctl</a></b>(1)'s <b>set-property</b> command.

           Added in version 232.

       <b>--automount=</b>
           Takes a boolean argument. Controls whether to create an automount point or a regular mount point. If
           true an automount point is created that is backed by the actual file system at the time of first
           access. If false a plain mount point is created that is backed by the actual file system immediately.
           Automount points have the benefit that the file system stays unmounted and hence in clean state until
           it is first accessed. In automount mode the <b>--timeout-idle-sec=</b> switch (see below) may be used to
           ensure the mount point is unmounted automatically after the last access and an idle period passed.

           If this switch is not specified it defaults to false. If not specified and <b>--discover</b> is used (or
           only a single argument passed, which implies <b>--discover</b>, see above), and the file system block device
           is detected to be removable, it is set to true, in order to increase the chance that the file system
           is in a fully clean state if the device is unplugged abruptly.

           Added in version 232.

       <b>-A</b>
           Equivalent to <b>--automount=yes</b>.

           Added in version 232.

       <b>--timeout-idle-sec=</b>
           Takes a time value that controls the idle timeout in automount mode. If set to "infinity" (the
           default) no automatic unmounts are done. Otherwise the file system backing the automount point is
           detached after the last access and the idle timeout passed. See <b><a href="../man7/systemd.time.7.html">systemd.time</a></b>(7) for details on the
           time syntax supported. This option has no effect if only a regular mount is established, and
           automounting is not used.

           Note that if <b>--discover</b> is used (or only a single argument passed, which implies <b>--discover</b>, see
           above), and the file system block device is detected to be removable, <b>--timeout-idle-sec=1s</b> is
           implied.

           Added in version 232.

       <b>--automount-property=</b>
           Similar to <b>--property=</b>, but applies additional properties to the automount unit created, instead of
           the mount unit.

           Added in version 232.

       <b>--bind-device</b>
           This option only has an effect in automount mode, and controls whether the automount unit shall be
           bound to the backing device's lifetime. If set, the automount unit will be stopped automatically when
           the backing device vanishes. By default the automount unit stays around, and subsequent accesses will
           block until backing device is replugged. This option has no effect in case of non-device mounts, such
           as network or virtual file system mounts.

           Note that if <b>--discover</b> is used (or only a single argument passed, which implies <b>--discover</b>, see
           above), and the file system block device is detected to be removable, this option is implied.

           Added in version 232.

       <b>--list</b>
           Instead of establishing a mount or automount point, print a terse list of block devices containing
           file systems that may be mounted with "systemd-mount", along with useful metadata such as labels,
           etc.

           Added in version 232.

       <b>-u</b>, <b>--umount</b>
           Stop the mount and automount units corresponding to the specified mount points <u>WHERE</u> or the devices
           <u>WHAT</u>.  <b>systemd-mount</b> with this option or <b>systemd-umount</b> can take multiple arguments which can be
           mount points, devices, <a href="file:/etc/fstab">/etc/fstab</a> style node names, or backing files corresponding to loop devices,
           like <b>systemd-mount</b> <b>--umount</b> <b>/path/to/umount</b> <b>/dev/sda1</b> <b>UUID=xxxxxx-xxxx</b> <b>LABEL=xxxxx</b> <b>/path/to/disk.img</b>.
           Note that when <b>-H</b> or <b>-M</b> is specified, only absolute paths to mount points are supported.

           Added in version 233.

       <b>-G</b>, <b>--collect</b>
           Unload the transient unit after it completed, even if it failed. Normally, without this option, all
           mount units that mount and failed are kept in memory until the user explicitly resets their failure
           state with <b>systemctl</b> <b>reset-failed</b> or an equivalent command. On the other hand, units that stopped
           successfully are unloaded immediately. If this option is turned on the "garbage collection" of units
           is more aggressive, and unloads units regardless if they exited successfully or failed. This option
           is a shortcut for <b>--property=CollectMode=inactive-or-failed</b>, see the explanation for <u>CollectMode=</u> in
           <b><a href="../man5/systemd.unit.5.html">systemd.unit</a></b>(5) for further information.

           Added in version 236.

       <b>-T</b>, <b>--tmpfs</b>
           Create and mount a new <b>tmpfs</b> file system on <u>WHERE</u>, with an optional <u>NAME</u> that defaults to "tmpfs".

           The file system is mounted with the top-level directory mode determined by the <b><a href="../man2/umask.2.html">umask</a></b>(2) setting of
           the caller, i.e.  <b>rwxrwxrwx</b> masked by the umask of the caller. This matches what <b><a href="../man1/mkdir.1.html">mkdir</a></b>(1) does, but
           is different from the kernel default of "rwxrwxrwxt", i.e. a world-writable directory with the sticky
           bit set.

           Added in version 255.

       <b>--user</b>
           Talk to the service manager of the calling user, rather than the service manager of the system.

       <b>--system</b>
           Talk to the service manager of the system. This is the implied default.

       <b>-H</b>, <b>--host=</b>
           Execute the operation remotely. Specify a hostname, or a username and hostname separated by "@", to
           connect to. The hostname may optionally be suffixed by a port ssh is listening on, separated by ":",
           and then a container name, separated by "/", which connects directly to a specific container on the
           specified host. This will use SSH to talk to the remote machine manager instance. Container names may
           be enumerated with <b>machinectl</b> <b>-H</b> <u>HOST</u>. Put IPv6 addresses in brackets.

       <b>-M</b>, <b>--machine=</b>
           Execute operation on a local container. Specify a container name to connect to, optionally prefixed
           by a user name to connect as and a separating "@" character. If the special string ".host" is used in
           place of the container name, a connection to the local system is made (which is useful to connect to
           a specific user's user bus: "--user --machine=lennart@.host"). If the "@" syntax is not used, the
           connection is made as root user. If the "@" syntax is used either the left hand side or the right
           hand side may be omitted (but not both) in which case the local user name and ".host" are implied.

       <b>-h</b>, <b>--help</b>
           Print a short help text and exit.

       <b>--version</b>
           Print a short version string and exit.

</pre><h4><b>EXIT</b> <b>STATUS</b></h4><pre>
       On success, 0 is returned, a non-zero failure code otherwise.

</pre><h4><b>THE</b> <b>UDEV</b> <b>DATABASE</b></h4><pre>
       If <b>--discover</b> is used, <b>systemd-mount</b> honors a couple of additional udev properties of block devices:

       <u>SYSTEMD_MOUNT_OPTIONS=</u>
           The mount options to use, if <b>--options=</b> is not used.

           Added in version 232.

       <u>SYSTEMD_MOUNT_WHERE=</u>
           The file system path to place the mount point at, instead of the automatically generated one.

           Added in version 232.

</pre><h4><b>EXAMPLE</b></h4><pre>
       Use a udev rule like the following to automatically mount all USB storage plugged in:

           ACTION=="add", SUBSYSTEMS=="usb", SUBSYSTEM=="block", ENV{ID_FS_USAGE}=="filesystem", \
                   RUN{program}+="<a href="file:///usr/lib/w3m/cgi-bin/w3mman2html.cgi?systemd-mount">/usr/bin/systemd-mount</a> --no-block --automount=yes --collect $devnode"

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man1/systemd.1.html">systemd</a></b>(1), <b><a href="../man8/mount.8.html">mount</a></b>(8), <b><a href="../man1/systemctl.1.html">systemctl</a></b>(1), <b><a href="../man5/systemd.unit.5.html">systemd.unit</a></b>(5), <b><a href="../man5/systemd.mount.5.html">systemd.mount</a></b>(5), <b><a href="../man5/systemd.automount.5.html">systemd.automount</a></b>(5), <b><a href="../man1/systemdrun.1.html">systemd-</a></b>
       <b><a href="../man1/systemdrun.1.html">run</a></b>(1)

systemd 257.4                                                                                   <u><a href="../man1/SYSTEMD-MOUNT.1.html">SYSTEMD-MOUNT</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>