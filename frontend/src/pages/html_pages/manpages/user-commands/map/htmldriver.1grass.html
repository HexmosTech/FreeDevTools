<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HTML display driver to create HTML image maps.</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/grass-doc">grass-doc_8.4.1-1_all</a> <br><br><pre>
</pre><h4><b>HTML</b> <b>DISPLAY</b> <b>DRIVER</b></h4><pre>
       <u>HTML</u> <u>display</u> <u>driver</u> to create HTML image maps.

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The  HTML  driver allows the generation of HTML image maps for area vector data. HTML image maps are used
       in conjunction with images to provide unique URL targets for different portions of  an  image.  The  HTML
       driver can create both client-side image maps embedded into HTML files, or server-side image maps used by
       web server software.

       Polygons   can  at  most  have  100  vertices  (this  limit  imposed  by  HTML  image  map  formats,  see
       <b>GRASS_RENDER_HTMLMAXPOINTS</b> below.) The driver will attempt to trim  polygons  that  have  more  that  100
       vertices  by removing vertices with the least amount of angle to the next vertice. Also, any polygon that
       is entirely bounded by another polygon will be discarded.

       Text written to the driver before polygons are used as the HREF tag for all subsequent polygons  written.
       All polygons that exist in a vector map will have the same HREF tag.

       The only GRASS display commands that should be used with this driver are:

           •   <u>d.text</u> - pass href information for resulting image maps.

           •   <u>d.vect</u> - draw polygons from a vector map.

</pre><h4><b>USAGE</b></h4><pre>
   <b>Environment</b> <b>variables</b>
       The HTML driver can be enabled by setting <b>GRASS_RENDER_IMMEDIATE</b> variable, eg.
       export GRASS_RENDER_IMMEDIATE=html
       Several environment variables affect the operation of the HTML driver:

           •   <b>GRASS_RENDER_WIDTH=xxx</b>
               the width of the image map (default is 640).

           •   <b>GRASS_RENDER_HEIGHT=yyy</b>
               the height of the image map (default is 480).

           •   <b>GRASS_RENDER_HTMLTYPE=type</b>
               type of image map to create (default is CLIENT):
               <b>CLIENT</b>    Netscape/IE client-side image map (NAME="map").
               <b>APACHE</b>    Apache/NCSA server-side image map.
               <b>RAW</b>          Raw url and polygon vertices (<u>url</u>  <u>x1</u>  <u>y1</u>  <u>x2</u>  <u>y2</u> <u>.....</u>), suitable for conversion to
               CERN server format, or any other format with user supplied conversion program.

           •   <b>GRASS_RENDER_FILE=filename</b>
               specifies the resulting file to store the html image  map,  default  is  htmlmap.  Files  without
               absolute path names are written in the current directory where the driver was started.
               <u>Any</u> <u>existing</u> <u>file</u> <u>of</u> <u>the</u> <u>same</u> <u>name</u> <u>is</u> <u>overwritten</u> <u>without</u> <u>warning.</u>

           •   <b>GRASS_RENDER_HTMLMINDIST=n</b>
               specifies the minimum distance in pixels that a point must change from the previous point to keep
               in  the  list  of  vertices  for a polygon.  The default is 2, which means that a point’s x and y
               difference from the previous point must change by a number of pixels  greater  than  this  value.
               This parameter helps to eliminate closely spaced points.

           •   <b>GRASS_RENDER_HTMLMINBBOX=n</b>
               specifies  the  minimum  bounding  box  dimensions  to record a polygon as a clickable area.  The
               default is 2, which means that a polygon with a bounding box of  less  than  this  value  is  not
               included. This parameter helps to eliminate polygons than are a point or line.

           •   <b>GRASS_RENDER_HTMLMAXPOINTS=n</b>
               specifies  the maximum number of vertices included in a polygon’s clickable area.  The default is
               99. Some browsers can only accommodate polygons of 100  vertices  or  less.  The  HTMLMAP  driver
               automatically  ensures  that  a  polygon is closed by making the last point the same as the first
               point.

   <b>Example</b>
       Start up the driver
       g.region vector=zipcodes_wake
       d.mon start=html
       Display text strings (HREF’s) and polygons
       echo "https://en.wikipedia.org/wiki/Raleigh,_North_Carolina" | d.text
       d.vect map=zipcodes_wake where="ZIPNAME = ’RALEIGH’"
       echo "https://en.wikipedia.org/wiki/Cary,_North_Carolina" | d.text
       d.vect map=zipcodes_wake where="ZIPNAME = ’CARY’" fill_color=180:200:210
       Stop the driver once all polygon have been displayed. This will create a file  named  ’htmlmap’  in  your
       current directory:
       d.mon stop=html
       You  will  also  want  to  create  an image for your image map. Use the PNG driver and other utilities to
       create .gif or .jpg files.  <u>The</u> <u>following</u> <u>example</u> <u>is</u> <u>somewhat</u> <u>out</u> <u>of</u> <u>date</u> <u>and</u> <u>refers</u> <u>to</u> <u>options</u> <u>available</u>
       <u>in</u> <u>GRASS</u> <u>5.</u>
       # using previous GRASS_RENDER_WIDTH &amp; GRASS_RENDER_HEIGHT
       d.mon start=png
       d.rast map=terrain
       d.vect map=area51  fillcolor=white  linecolor=blue
       d.vect map=roswell fillcolor=yellow linecolor=blue
       d.vect map=states  color=green
       d.vect map=roads   color=black
       d.mon stop=png
       # make the region the same as the newly created cell for ppm export
       g.region save=saved.reg
       g.region raster=D_cell
       r.out.ppm -q input=D_cell output=alien.ppm
       # use the netpbm utilities to create a gif (quantize if needed)
       ppmquant 128 &lt;alien.ppm |  ppmtogif &gt;alien.gif
       # assemble some html with the image and the image map
       echo ’&lt;html&gt;&lt;body&gt;&lt;img src="alien.gif" usemap="#map"&gt;’ &gt;alien.html
       cat htmlmap                                           &gt;&gt;alien.html
       echo ’&lt;/body&gt;&lt;/html&gt;’                                 &gt;&gt;alien.html
       # don’t forget to reset your region
       g.region region=saved.reg
       # take a look and test it out
       netscape file:`pwd`/alien.html &amp;

</pre><h4><b>NOTES</b></h4><pre>
       HTML was adapted from the CELL driver in GRASS 4.3.  Point-in-polygon test code was lifted from  Randolph
       Franklin’s web page, see

           •   <a href="http://www.ecse.rpi.edu/Homepages/wrf/">http://www.ecse.rpi.edu/Homepages/wrf/</a>

           •   <a href="http://www.ecse.rpi.edu/Homepages/wrf/research/geom/pnpoly.html">http://www.ecse.rpi.edu/Homepages/wrf/research/geom/pnpoly.html</a>

       If  you  create an HTML file with two or more images and image maps, you will need to edit the map names.
       The HTML driver creates its map with the name map. A small sed script can easily change the map name:
       sed -e ’s/NAME="map"/NAME="foomap"/’ &lt; htmlmap &gt; foomap.html

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
        <u>Cairo</u> <u>driver,</u> <u>PNG</u> <u>driver,</u> <u>HTML</u> <u>driver,</u> <u>variables</u>
        <u>d.rast,</u> <u>d.vect,</u> <u>d.mon,</u> <u>d.erase,</u> <u>d.redraw</u>

</pre><h4><b>AUTHOR</b></h4><pre>
       Glynn Clements

</pre><h4><b>SOURCE</b> <b>CODE</b></h4><pre>
       Available at: HTML DISPLAY DRIVER source code (history)

       Accessed: Friday Apr 04 01:17:38 2025

       Main index | Topics index | Keywords index | Graphical index | Full index

       © 2003-2025 GRASS Development Team, GRASS GIS 8.4.1 Reference Manual

GRASS 8.4.1                                                                                   <u><a href="../man1grass/htmldriver.1grass.html">htmldriver</a></u>(1grass)
</pre>
 </div>
</div></section>
</div>
</body>
</html>