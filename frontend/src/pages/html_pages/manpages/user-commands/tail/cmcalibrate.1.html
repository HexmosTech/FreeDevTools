<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>cmcalibrate - fit exponential tails for covariance model E-value determination</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/infernal">infernal_1.1.5-3_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       cmcalibrate - fit exponential tails for covariance model E-value determination

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>cmcalibrate</b> <u>[options]</u> <u>cmfile</u>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>cmcalibrate</b>  determines  exponential  tail  parameters  for  E-value  determination  by generating random
       sequences, searching them with the CM and collecting the scores of the resulting hits. A histogram of the
       bit scores of the hits is fit to an exponential tail, and the parameters of the fitted tail are saved  to
       the  CM  file.  The exponential tail parameters are then used to estimate the statistical significance of
       hits found in <b>cmsearch</b> and <b>cmscan.</b>

       A CM file must be calibrated with <b>cmcalibrate</b> before it can be used in <b>cmsearch</b> or <b>cmscan,</b> with a  single
       exception:  it is not necessary to calibrate CM files that include only models with zero basepairs before
       running <b>cmsearch.</b>

       <b>cmcalibrate</b> is very slow. It takes a couple of hours to calibrate a single average sized CM on  a  single
       CPU.   <b>cmcalibrate</b>  will  run  in  parallel on four cores if Infernal was built on a system that supports
       POSIX threading (see the Installation section of the user guide for more information) and that system has
       at least 4 cores. Using <b>&lt;n&gt;</b> cores will result in roughly <b>&lt;n&gt;</b> -fold acceleration versus a single CPU.  You
       can specify the number of cores be <b>&lt;n&gt;</b> to use with the <b>--cpu</b> <u>&lt;n&gt;</u> option. MPI (Message Passing  Interface)
       can be also be used for parallelization with the <b>--mpi</b> option if Infernal was built with MPI enabled, but
       using  more  than  161  processors  is  not  recommended because increasing past 161 won't accelerate the
       calibration.  See the Installation section of the user guide for more information.

       The <b>--forecast</b> option can be used to estimate how long the program will take to run for a given <u>cmfile</u> on
       the current machine.  To predict the running time on  <u>&lt;n&gt;</u>  processors  with  MPI,  additionally  use  the
       <b>--nforecast</b> <u>&lt;n&gt;</u> option.

       Some  large  models  require  a lot of memory to calibrate. You can determine how much memory is required
       with the <b>--memreq</b> option. For these models, you may be limited by  the  available  RAM  on  your  system.
       Another  strategy  for parallelization that can be useful when a lot of memory is required per core is to
       split the calibration into <b>&lt;n&gt;</b> separate computations or  partitions,  each  of  which  can  be  performed
       separately,  potentially  in  parallel  if  you  have access to a computer cluster. The results from each
       computation can then be merged together for the final calibration. To do this, first run <b>cmcalibrate</b> with
       the <b>--split,</b> <b>--ptot</b> <u>&lt;n&gt;</u> and <b>--cfile</b> <u>&lt;f&gt;</u> options, which will save the <u>&lt;n&gt;</u> separate partition commands into
       the file <u>&lt;f&gt;</u> <u>.</u>  After all of these commands have been executed, you can  then  combine  the  results  and
       create  a  calibrated  model  file  by  calling  again  with  the <b>--merge</b> and <b>--ptot</b> <u>&lt;n&gt;</u> options. See the
       "Parallelizing calibration of large models by splitting into partitions" subsection of  the  tutorial  in
       the user's guide for more information.

       The  random  sequences  searched  in <b>cmcalibrate</b> are generated by an HMM that was trained on real genomic
       sequences with various GC contents. The goal is to have the GC distributions in the random  sequences  be
       similar to those in actual genomic sequences.

       Four  rounds  of  searches  and  subsequent  exponential  tail  fits are performed, one each for the four
       different CM algorithms that can be used in <b>cmsearch</b> and <b>cmscan:</b> glocal CYK, glocal Inside, local CYK and
       local Inside.

       The E-values parameters determined by <b>cmcalibrate</b> are only used by the <b>cmsearch</b> and <b>cmscan</b> programs.   If
       you are not going to use these programs then do not waste time calibrating your models.

</pre><h4><b>OPTIONS</b></h4><pre>
       <b>-h</b>     Help; print a brief reminder of command line usage and available options.

       <b>-L</b> <u>&lt;x&gt;</u> Set  the  total length of random sequences to search to <u>&lt;x&gt;</u> megabases (Mb). By default, <u>&lt;x&gt;</u> <u>is</u> 1.6
              Mb. Increasing <u>&lt;x&gt;</u> will make the exponential tail fits more precise and  E-values  more  accurate,
              but  will  take longer (doubling <u>&lt;x&gt;</u> will roughly double the running time).  Decreasing <u>&lt;x&gt;</u> is not
              recommended as it will make the fits less precise and the E-values less accurate.

</pre><h4><b>OPTIONS</b> <b>FOR</b> <b>PREDICTING</b> <b>REQUIRED</b> <b>TIME</b> <b>AND</b> <b>MEMORY</b></h4><pre>
       <b>--forecast</b>
              Predict the running time of the calibration of <u>cmfile</u>  (with  provided  options)  on  the  current
              machine  and  exit.  The calibration is not performed.  The predictions should be considered rough
              estimates. If multithreading is enabled (see Installation section of user guide), the timing  will
              take into account the number of available cores.

       <b>--nforecast</b> <u>&lt;n&gt;</u>
              With  <b>--forecast,</b>  specify  that  <u>&lt;n&gt;</u>  processors will be used for the calibration.  This might be
              useful for predicting the running time of an MPI run with <u>&lt;n&gt;</u> processors.

       <b>--memreq</b>
              Predict the amount of required memory for  calibrating  <u>cmfile</u>  (with  provided  options)  on  the
              current machine and exit. The calibration is not performed.

</pre><h4><b>OPTIONS</b> <b>CONTROLLING</b> <b>EXPONENTIAL</b> <b>TAIL</b> <b>FITS</b></h4><pre>
       <b>--gtailn</b> <u>&lt;x&gt;</u>
              fit  the  exponential  tail  for  glocal  Inside  and  glocal CYK to the <u>&lt;n&gt;</u> highest scores in the
              histogram tail, where <u>&lt;n&gt;</u> is <u>&lt;x&gt;</u> times the number of Mb searched. The default value of <u>&lt;x&gt;</u> is 250.
              The value 250 was chosen because it works well empirically relative to other values.

       <b>--ltailn</b> <u>&lt;x&gt;</u>
              fit the exponential tail for local Inside and local CYK to the <u>&lt;n&gt;</u> highest scores in the histogram
              tail, where <u>&lt;n&gt;</u> is <u>&lt;x&gt;</u> times the number of Mb searched. The default value  of  <u>&lt;x&gt;</u>  is  750.   The
              value 750 was chosen because it works well empirically relative to other values.

       <b>--tailp</b> <u>&lt;x&gt;</u>
              Ignore  the  <b>--gtailn</b> and <b>--ltailn</b> prefixed options and fit the <u>&lt;x&gt;</u> fraction tail of the histogram
              to an exponential tail, for all search modes.

</pre><h4><b>OPTIONAL</b> <b>OUTPUT</b> <b>FILES</b></h4><pre>
       <b>--hfile</b> <u>&lt;f&gt;</u>
              Save the histograms fit to file <u>&lt;f&gt;.</u>  The format of this file is two space delimited  columns  per
              line. The first column is the x-axis values of bit scores of each bin. The second column is the y-
              axis  values of number of hits per bin. Each series is delimited by a line with a single character
              "&amp;". The file will contain one series for each of the four exponential tail fits in the  following
              order: glocal CYK, glocal Inside, local CYK, and local Inside.

       <b>--sfile</b> <u>&lt;f&gt;</u>
              Save  survival  plot  information  to  file  <u>&lt;f&gt;.</u>   The format of this file is two space delimited
              columns per line. The first column is the x-axis values of bit scores  of  each  bin.  The  second
              column  is  the y-axis values of fraction of hits that meet or exceed the score for each bin. Each
              series is delimited by a line with a single character "&amp;".  The file will contain three series  of
              data for each of the four CM search modes in the following order: glocal CYK, glocal Inside, local
              CYK, and local Inside.  The first series is the empirical survival plot from the histogram of hits
              to  the  random  sequence.  The  second  series  is  the  exponential  tail  fit  to the empirical
              distribution. The third series is the exponential tail fit if lambda were fixed  and  set  as  the
              natural log of 2 (0.691314718).

       <b>--qqfile</b> <u>&lt;f&gt;</u>
              Save  quantile-quantile  plot  information  to  file  <u>&lt;f&gt;.</u>   The  format of this file is two space
              delimited columns per line. The first column is the x-axis values, and the second column is the y-
              axis values. The distance of the points from the identity line (y=x) is a measure of how good  the
              exponential  tail  fit  is, the closer the points are to the identity line, the better the fit is.
              Each series is delimited by a line with a single character "&amp;".  The file will contain one  series
              of  empirical  data for each of the four exponential tail fits in the following order: glocal CYK,
              glocal Inside, local CYK and local Inside.

       <b>--ffile</b> <u>&lt;f&gt;</u>
              Save space delimited statistics of different exponential tail fits to file  <u>&lt;f&gt;.</u>   The  file  will
              contain  the lambda and mu values for exponential tails fit to histogram tails of different sizes.
              The fields in the file are labelled informatively.

       <b>--xfile</b> <u>&lt;f&gt;</u>
              Save a list of the scores in each fit histogram tail to file <u>&lt;f&gt;.</u>  Each line  of  this  file  will
              have  a  different  score  indicating one hit existed in the tail with that score.  Each series is
              delimited by a line with a single character "&amp;". The file will contain one series for each of  the
              four exponential tail fits in the following order: glocal CYK, glocal Inside, local CYK, and local
              Inside.

</pre><h4><b>OPTIONS</b> <b>CONTROLLING</b> <b>SPLIT,</b> <b>PARTITION</b> <b>AND</b> <b>MERGE</b> <b>MODES:</b></h4><pre>
       <b>--split</b>
              Prepare  a  partitioned calibration. This option only works in combination with the <b>--ptot</b> <u>&lt;n&gt;</u> and
              <b>--cfile</b> <u>&lt;f&gt;</u> options, and will prepare a  calibration  split  into  <u>&lt;n&gt;</u>  separate  partitions.  The
              commands to run all of the partitions will be in the file <u>&lt;f&gt;</u> <u>.</u>

       <b>--cfile</b> <u>&lt;f&gt;</u>
              With <b>--split,</b> save the commands for all partitions to file <u>&lt;f&gt;</u> <u>.</u>

       <b>--proot</b> <u>&lt;s&gt;</u>
              With  <b>--split,</b>  specify  that  the  per-partition  scores  files be named <u>&lt;s&gt;.&lt;n&gt;</u> where <u>&lt;n&gt;</u> is the
              partition index.  By default they will be named <u>&lt;s&gt;.calib.&lt;n&gt;</u> where <u>&lt;s&gt;</u> is the name of the CM file
              to be calibrated (including path).

       <b>--part</b> <u>&lt;n&gt;</u>
              specify that this is partition <u>&lt;n&gt;</u> out of <u>&lt;n2&gt;</u> from <b>--ptot</b> <b>&lt;n2&gt;</b><u>.</u>  Must be used in combination with
              <b>--ptot</b> and <b>--pfile</b> <b>.</b>

       <b>--ptot</b> <u>&lt;n&gt;</u>
              With <b>--split,</b> <b>--part</b> or <b>--merge,</b> specify that there are <u>&lt;n&gt;</u> total partitions.

       <b>--pfile</b> <u>&lt;f&gt;</u>
              With <b>--part</b> <b>,</b> specify that scores for this partition be saved to file <u>&lt;f&gt;</u>

       <b>--merge</b>
              Merge scores from multiple previously executed partitions and  calibrate  CMs.  If  you  used  the
              option  <b>--proot</b>  <u>&lt;s&gt;</u>  with  <b>cmcalibrate</b>  when you ran it with <b>--split</b> to setup the partitions, use
              <b>--proot</b> <u>&lt;s&gt;</u> again with <b>--merge.</b>  The full <b>cmcalibrate</b> <b>--merge</b> command to use will have been output
              to standard output when the initial <b>cmcalibrate</b> <b>--split</b> command was executed.

</pre><h4><b>OTHER</b> <b>OPTIONS</b></h4><pre>
       <b>--seed</b> <u>&lt;n&gt;</u>
              Seed the random number generator with <u>&lt;n&gt;,</u> an  integer  &gt;=  0.   If  <u>&lt;n&gt;</u>  is  nonzero,  stochastic
              simulations  will  be reproducible; the same command will give the same results.  If <u>&lt;n&gt;</u> is 0, the
              random number generator is seeded arbitrarily, and stochastic simulations will vary  from  run  to
              run of the same command.  The default seed is 181.

       <b>--beta</b> <u>&lt;x&gt;</u>
              By  default  query-dependent  banding  (QDB) is used to accelerate the CM search algorithms with a
              beta tail loss probability of 1E-15.  This beta value can be changed to <u>&lt;x&gt;</u> with <b>--beta</b> <u>&lt;x&gt;</u><b>.</b>   The
              beta  parameter  is the amount of probability mass excluded during band calculation, higher values
              of beta give greater speedups but sacrifice more accuracy than lower  values.  The  default  value
              used  is  1E-15.  (For  more  information on QDB see Nawrocki and Eddy, PLoS Computational Biology
              <a href="../man3/3.3.html">3</a>(3): e56.)

       <b>--nonbanded</b>
              Turn off QDB during E-value calibration. This will slow down calibration.

       <b>--nonull3</b>
              Turn off the null3 post hoc additional null model. This is not  recommended  unless  you  plan  on
              using the same option to <b>cmsearch</b> and/or <b>cmscan.</b>

       <b>--random</b>
              Use  the  background  null  model  of the CM to generate the random sequences, instead of the more
              realistic HMM. Unless the CM was built using the <b>--null</b> option to  <b>cmbuild,</b>  the  background  null
              model will be 25% each A, C, G and U.

       <b>--gc</b> <u>&lt;f&gt;</u>
              Generate the random sequences using the nucleotide distribution from the sequence file <u>&lt;f&gt;.</u>

       <b>--cpu</b> <u>&lt;n&gt;</u>
              Set  the  number of parallel worker threads to <u>&lt;n&gt;</u>.  On multicore machines, the default is 4.  You
              can also control this number by setting an environment variable, <u>INFERNAL_NCPU</u>.  There is  also  a
              master  thread, so the actual number of threads that Infernal spawns is <u>&lt;n&gt;</u>+1.  This option is not
              available if Infernal was compiled with POSIX threads support turned off.

       <b>--mpi</b>  Run as an MPI parallel program. This option will only be available if Infernal has been configured
              and built with the "--enable-mpi" flag (see the Installation section of the user  guide  for  more
              information).

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       See  <b><a href="../man1/infernal.1.html">infernal</a>(1)</b>  for  a  master man page with a list of all the individual man pages for programs in the
       Infernal package.

       For complete documentation, see the user guide that came with your Infernal distribution (Userguide.pdf);
       or see the Infernal web page (<a href="http://eddylab.org/infernal/">http://eddylab.org/infernal/</a>).

</pre><h4><b>COPYRIGHT</b></h4><pre>
       Copyright (C) 2023 Howard Hughes Medical Institute.
       Freely distributed under the BSD open source license.

       For additional information on copyright and licensing, see the file called  COPYRIGHT  in  your  Infernal
       source distribution, or see the Infernal web page (<a href="http://eddylab.org/infernal/">http://eddylab.org/infernal/</a>).

</pre><h4><b>AUTHOR</b></h4><pre>
       <a href="http://eddylab.org">http://eddylab.org</a>

Infernal 1.1.5                                      Sep 2023                                      <u><a href="../man1/cmcalibrate.1.html">cmcalibrate</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>