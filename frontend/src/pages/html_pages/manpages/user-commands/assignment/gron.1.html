<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>gron - transform JSON into discrete, greppable assignments</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/gron">gron_0.7.1-2_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       <b>gron</b> - transform JSON into discrete, greppable assignments

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>gron</b> [<u>OPTIONS</u>] [<u>FILE</u>|<u>URL</u>]

       <b>gron</b> <b>–-version</b>

       <b>gron</b> <b>–-help</b>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>gron</b>  transforms  JSON  into discrete assignments to make it easier to <b>grep</b> for what you want and see the
       absolute `path' to it.  It eases the exploration of APIs that return large blobs of JSON but have  terri‐
       ble documentation.

</pre><h4><b>OPTIONS</b></h4><pre>
       -u, --ungron
              reverse the operation (turn assignments back into JSON)

       -v, --values
              print just the values of provided assignments

       -c, --colorize
              colorize output (default on tty)

       -m, --monochrome
              monochrome (don’t colorize output)

       -s, --stream
              treat each line of input as a separate JSON object

       -k, --insecure
              disable certificate validation

       -j, --json
              represent gron data as JSON stream

       --no-sort
              don’t sort output (faster)

       --version
              print version information

</pre><h4><b>BASIC</b> <b>USAGE</b></h4><pre>
       Get JSON from a file:

              $ gron testdata/two.json
              json = {};
              json.contact = {};
              json.contact.email = "<a href="mailto:mail@tomnomnom.com">mail@tomnomnom.com</a>";
              json.contact.twitter = "@TomNomNom";
              json.github = "https://github.com/tomnomnom/";
              json.likes = [];
              json.likes[0] = "code";
              json.likes[1] = "cheese";
              json.likes[2] = "meat";
              json.name = "Tom";

       From a URL:

              $ gron <a href="http://headers.jsontest.com/">http://headers.jsontest.com/</a>
              json = {};
              json.Host = "headers.jsontest.com";
              json["User-Agent"] = "gron/0.1";
              json["X-Cloud-Trace-Context"] = "6917a823919477919dbc1523584ba25d/11970839830843610056";

       Or from <b>STDIN</b>:

              $ curl -s <a href="http://headers.jsontest.com/">http://headers.jsontest.com/</a> | gron
              json = {};
              json.Accept = "*/*";
              json.Host = "headers.jsontest.com";
              json["User-Agent"] = "curl/7.43.0";
              json["X-Cloud-Trace-Context"] = "c70f7bf26661c67d0b9f2cde6f295319/13941186890243645147";

       Grep for something and easily see the path to it:

              $ gron testdata/two.json | grep twitter
              json.contact.twitter = "@TomNomNom";

       <b>gron</b> makes diffing JSON easy too:

              $ diff &lt;(gron two.json) &lt;(gron two-b.json)
              3c3
              &lt; json.contact.email = "<a href="mailto:mail@tomnomnom.com">mail@tomnomnom.com</a>";
              ---
              &gt; json.contact.email = "<a href="mailto:contact@tomnomnom.com">contact@tomnomnom.com</a>";

       The output of <b>gron</b> is valid JavaScript:

              $ gron testdata/two.json &gt; tmp.js
              $ echo "console.log(json);" &gt;&gt; tmp.js
              $ nodejs tmp.js
              { contact: { email: '<a href="mailto:mail@tomnomnom.com">mail@tomnomnom.com</a>', twitter: '@TomNomNom' },
                github: 'https://github.com/tomnomnom/',
                likes: [ 'code', 'cheese', 'meat' ],
                name: 'Tom' }

       It’s also possible to obtain the <b>gron</b> output as JSON stream via the <b>--json</b> switch:

              $ curl -s <a href="http://headers.jsontest.com/">http://headers.jsontest.com/</a> | gron --json
              [[],{}]
              [["Accept"],"*/*"]
              [["Host"],"headers.jsontest.com"]
              [["User-Agent"],"curl/7.43.0"]
              [["X-Cloud-Trace-Context"],"c70f7bf26661c67d0b9f2cde6f295319/13941186890243645147"]

</pre><h4><b>UNGRONNING</b></h4><pre>
       <b>gron</b> can also turn its output back into JSON:

              $ gron testdata/two.json | gron -u
              {
                "contact": {
                  "email": "<a href="mailto:mail@tomnomnom.com">mail@tomnomnom.com</a>",
                  "twitter": "@TomNomNom"
                },
                "github": "https://github.com/tomnomnom/",
                "likes": [
                  "code",
                  "cheese",
                  "meat"
                ],
                "name": "Tom"
              }

       This means you use can use <b>gron</b> with <b>grep</b> and other tools to modify JSON:

              $ gron testdata/two.json | grep likes | gron --ungron
              {
                "likes": [
                  "code",
                  "cheese",
                  "meat"
                ]
              }

       or

              $ gron --json testdata/two.json | grep likes | gron  --json --ungron
              {
                "likes": [
                  "code",
                  "cheese",
                  "meat"
                ]
              }

       To preserve array keys, arrays are padded with <b>null</b> when values are missing:

              $ gron testdata/two.json | grep likes | grep -v cheese
              json.likes = [];
              json.likes[0] = "code";
              json.likes[2] = "meat";
              ▶ gron testdata/two.json | grep likes | grep -v cheese | gron --ungron
              {
                "likes": [
                  "code",
                  null,
                  "meat"
                ]
              }

</pre><h4><b>ADVANCED</b> <b>USAGE</b></h4><pre>
       Although gron’s primary purpose is API discovery, when combined with other tools like <b>grep</b> it can do some
       interesting things.

       As    an   exercise,   let’s   try   to   mimic   some   of   the   examples   from   the   jq   tutorial
       (https://stedolan.github.io/jq/tutorial/).

              Disclaimer: munging data on the command line with gron can be useful, but using  tools  like  <b>grep</b>
              and <b>sed</b> to manipulate the data is error-prone and shouldn’t be relied on in scripts.

       Get the last 5 commits from the gron repo:

              $ gron "https://api.github.com/repos/tomnomnom/gron/commits?per_page=5"
              json = [];
              json[0] = {};
              json[0].author = {};
              json[0].author.avatar_url = "https://avatars.githubusercontent.com/u/58276?v=3";
              json[0].author.events_url = "https://api.github.com/users/tomnomnom/events{/privacy}";
              ...
              json[4].parents[0].html_url = "https://github.com/tomnomnom/gron/commit/cbcad2299e55c28a9922776e58b2a0b5a0f05016";
              json[4].parents[0].sha = "cbcad2299e55c28a9922776e58b2a0b5a0f05016";
              json[4].parents[0].url = "https://api.github.com/repos/tomnomnom/gron/commits/cbcad2299e55c28a9922776e58b2a0b5a0f05016";
              json[4].sha = "91b204972e63a1166c9d148fbbfd839f8697f91b";
              json[4].url = "https://api.github.com/repos/tomnomnom/gron/commits/91b204972e63a1166c9d148fbbfd839f8697f91b";

       To make the rest of this a little more readable, let’s add an alias for that:

              $ alias ggh='gron "https://api.github.com/repos/tomnomnom/gron/commits?per_page=5"'

       Extract just the first commit using <b>fgrep</b> <b>"json[0]"</b>:

              $ ggh | fgrep "json[0]"
              json[0] = {};
              json[0].author = {};
              json[0].author.avatar_url = "https://avatars.githubusercontent.com/u/58276?v=3";
              json[0].author.events_url = "https://api.github.com/users/tomnomnom/events{/privacy}";
              json[0].author.followers_url = "https://api.github.com/users/tomnomnom/followers";
              ...
              json[0].parents[0].html_url = "https://github.com/tomnomnom/gron/commit/48aba5325ece087ae24ab72684851cbe77ce8311";
              json[0].parents[0].sha = "48aba5325ece087ae24ab72684851cbe77ce8311";
              json[0].parents[0].url = "https://api.github.com/repos/tomnomnom/gron/commits/48aba5325ece087ae24ab72684851cbe77ce8311";
              json[0].sha = "7da81e29c27241c0a5c2e5d083ddebcfcc525908";
              json[0].url = "https://api.github.com/repos/tomnomnom/gron/commits/7da81e29c27241c0a5c2e5d083ddebcfcc525908";

       Get just the committer’s name and the commit message using <b>egrep</b> <b>"(committer.name|commit.message)"</b>:

              $ ggh | fgrep "json[0]" | egrep "(committer.name|commit.message)"
              json[0].commit.committer.name = "Tom Hudson";
              json[0].commit.message = "Adds 0.1.7 to changelog";

       Turn the result back into JSON using <b>gron</b> <b>--ungron</b>:

              ▶ ggh | fgrep "json[0]" | egrep "(committer.name|commit.message)" | gron --ungron
              [
                {
                  "commit": {
                    "committer": {
                      "name": "Tom Hudson"
                    },
                    "message": "Adds 0.1.7 to changelog"
                  }
                }
              ]

       gron preserves the location of values in the JSON, but you can use <b>sed</b> to remove keys from the path:

              $ ggh | fgrep "json[0]" | egrep "(committer.name|commit.message)" | sed -r "s/(commit|committer)\.//g"
              json[0].name = "Tom Hudson";
              json[0].message = "Adds 0.1.7 to changelog"

       With  those  keys  removed, the result is a `flattened' object, which looks much cleaner when turned back
       into JSON with <b>gron</b> <b>--ungron</b>:

              $ ggh | fgrep "json[0]" | egrep "(committer.name|commit.message)" | sed -r "s/(commit|committer)\.//g" | gron --ungron
              [
                {
                  "message": "Adds 0.1.7 to changelog",
                  "name": "Tom Hudson"
                }
              ]

       Removing the <b>fgrep</b> <b>"json[0]"</b> from the pipeline means we do the same for all commits:

              $ ggh | egrep "(committer.name|commit.message)" | sed -r "s/(commit|committer)\.//g" | gron --ungron
              [
                {
                  "message": "Adds 0.1.7 to changelog",
                  "name": "Tom Hudson"
                },
                {
                  "message": "Refactors natural sort to actually work + be more readable",
                  "name": "Tom Hudson"
                },
              ...

       To include the <b>html_url</b> key for each commit’s parents, all we need to do is  add  <b>parents.*html_url</b>  into
       our call to <b>egrep</b>:

              $ ggh | egrep "(committer.name|commit.message|parents.*html_url)" | sed -r "s/(commit|committer)\.//g"
              json[0].name = "Tom Hudson";
              json[0].message = "Adds 0.1.7 to changelog";
              json[0].parents[0].html_url = "https://github.com/tomnomnom/gron/commit/48aba5325ece087ae24ab72684851cbe77ce8311";
              json[1].name = "Tom Hudson";
              json[1].message = "Refactors natural sort to actually work + be more readable";
              json[1].parents[0].html_url = "https://github.com/tomnomnom/gron/commit/3eca8bf5e07151f077cebf0d942c1fa8bc51e8f2";
              ...

       To  make  the  structure  more  like  that  in  the  final  example in the <b>jq</b> tutorial, we can use <b>sed</b> <b>-r</b>
       <b>"s/\.html_url//"</b> to remove the <b>.html_url</b> part of the path:

              ▶ ggh | egrep "(committer.name|commit.message|parents.*html_url)" | sed -r "s/(commit|committer)\.//g" | sed -r "s/\.html_url//"
              json[0].name = "Tom Hudson";
              json[0].message = "Adds 0.1.7 to changelog";
              json[0].parents[0] = "https://github.com/tomnomnom/gron/commit/48aba5325ece087ae24ab72684851cbe77ce8311";
              json[1].name = "Tom Hudson";
              json[1].message = "Refactors natural sort to actually work + be more readable";
              json[1].parents[0] = "https://github.com/tomnomnom/gron/commit/3eca8bf5e07151f077cebf0d942c1fa8bc51e8f2";
              ...

       And, of course, the statements can be turned back into JSON with <b>gron</b> <b>--ungron</b>:

              $ ggh | egrep "(committer.name|commit.message|parents.*html_url)" | sed -r "s/(commit|committer)\.//g" | sed -r "s/\.html_url//" | gron --ungron
              [
                {
                  "message": "Adds 0.1.7 to changelog",
                  "name": "Tom Hudson",
                  "parents": [
                    "https://github.com/tomnomnom/gron/commit/48aba5325ece087ae24ab72684851cbe77ce8311"
                  ]
                },
                {
                  "message": "Refactors natural sort to actually work + be more readable",
                  "name": "Tom Hudson",
                  "parents": [
                    "https://github.com/tomnomnom/gron/commit/3eca8bf5e07151f077cebf0d942c1fa8bc51e8f2"
                  ]
                },
              ...

</pre><h4><b>EXAMPLES</b></h4><pre>
       Read from a local file/network:

              $ gron /tmp/apiresponse.json
              $ gron <a href="http://jsonplaceholder.typicode.com/users/1">http://jsonplaceholder.typicode.com/users/1</a>

       Retrieve remote JSON and pipe through gron:

              $ curl -s <a href="http://jsonplaceholder.typicode.com/users/1">http://jsonplaceholder.typicode.com/users/1</a> | gron

       Flatten and filter JSON through gron, before turning result back into JSON:

              $ gron <a href="http://jsonplaceholder.typicode.com/users/1">http://jsonplaceholder.typicode.com/users/1</a> | grep company | gron --ungron

</pre><h4><b>TIPS</b></h4><pre>
       It’s recommended that you alias <b>ungron</b> or <b>norg</b> (or both!)  to <b>gron</b> <b>--ungron</b>.  Put something like this  in
       your shell profile (e.g. in <b><a href="file:~/.bashrc">~/.bashrc</a></b>):

              alias norg="gron --ungron"
              alias ungron="gron --ungron"

       Or  you  could create a shell script in your $PATH named `ungron` or `norg` to affect all users: ``` gron
       --ungron "$@” ```

</pre><h4><b>EXIT</b> <b>STATUS</b></h4><pre>
       0 OK
       1 Failed to open file
       2 Failed to read input
       3 Failed to form statements
       4 Failed to fetch URL
       5 Failed to parse statements
       6 Failed to encode JSON

</pre><h4><b>REPORTING</b> <b>BUGS</b></h4><pre>
       Upstream bug tracker: https://github.com/tomnomnom/gron/issues

</pre><h4><b>COPYRIGHT</b></h4><pre>
       Copyright (c) 2016 Tom Hudson

</pre><h4><b>AUTHOR</b></h4><pre>
       This manual page is based on the gron documentation.  It was created by Nick  Morrott  &lt;<a href="mailto:nickm@debian.org">nickm@debian.org</a>&gt;
       for the Debian GNU/Linux system, but may be used by others

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man1/grep.1.html">grep</a>(1)</b>, <b><a href="../man1/ack.1.html">ack</a>(1)</b>, <b><a href="../man1/ag.1.html">ag</a>(1)</b>, <b><a href="../man1/rg.1.html">rg</a>(1)</b>, <b><a href="../man1/jq.1.html">jq</a>(1)</b>

0.7.1                                              April 2022                                            <u><a href="../man1/GRON.1.html">GRON</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>