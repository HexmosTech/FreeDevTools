<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>gbp-pq - Manage debian/patches in Git without any need for GNU Quilt</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/git-buildpackage">git-buildpackage_0.9.37_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       gbp-pq - Manage debian/patches in Git without any need for GNU Quilt

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>gbp</b> <b>pq</b> [<b>--version</b>] [<b>--help</b>] [<b>--verbose</b>] [<b>--color=</b>[auto|on|off]] [<b>--color-scheme=</b> <u>COLOR_SCHEME</u>]
              [<b>--[no-]patch-numbers</b>] [<b>--patch-num-format=</b> <u>format</u>] [<b>--[no-]renumber</b>] [<b>--topic=</b> <u>topic</u>]
              [<b>--time-machine=</b> <u>num</u>] [<b>--[no-]drop</b>] [<b>--abbrev=</b> <u>num</u>] [<b>--force</b>] [<b>--commit</b>]
              [<b>--meta-closes=bug-close-tags</b>] [<b>--meta-closes-bugnum=bug-number-format</b>] [<b>--pq-from=</b> <u>[DEBIAN|TAG]</u>]
              [<b>--upstream-tag=</b> <u>tag-format</u>] [<b>--[no-]ignore-new</b>] <b>drop</b> | <b>export</b> | <b>import</b> | <b>rebase</b> | <b>switch</b>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>gbp</b> <b>pq</b>  helps  one to manage quilt patches in Debian packages that are maintained with <b>gbp</b>. This is espe‐
       cially useful with packages using the 3.0 (quilt) source format. With <b>gbp</b> <b>pq</b>, you can maintain the  quilt
       patches  that  should  be applied to a package on a separate branch called patch-queue branch. So if your
       Debian package lives on <u>master</u>, the associated patch-queue branch will be called <u>patch-queue/master</u>.

       See ⟨https://honk.sigxcpu.org/projects/git-buildpackage/manual-html/gbp.patches.html⟩ for  example  work‐
       flows.

</pre><h4><b>ACTIONS</b></h4><pre>
       <b>import</b> Create a patch queue branch from quilt patches in debian/patches/ that are listed in debian/patch‐
              es/series. The patches must apply without fuzz.

       <b>export</b> Export  the  patches on the patch-queue branch associated to the current branch into a quilt patch
              series in debian/patches/ and update the series file.

       <b>rebase</b> Switch to the patch-queue branch associated to the current branch and rebase it against  the  cur‐
              rent branch.

       <b>drop</b>   Drop  (delete)  the patch queue associated to the current branch. So if you're on branch <u>foo</u>, this
              would drop branch <u>patch-queue/foo</u>.

       <b>apply</b>  Add a single patch to the patch-queue similar to using <b>git-am</b>. Use <b>--topic</b> if you want  the  patch
              to  appear  in  a separate subdir when exporting the patch queue using <b>export</b>. This can be used to
              separate upstream patches from Debian specific patches.

       <b>switch</b> Switch to the patch-queue branch if on the base branch and switch to base branch if on patch-queue
              branch.

</pre><h4><b>OPTIONS</b></h4><pre>
       <b>--version</b>
              Print version of the program, i.e. version of the git-buildpackage suite

       <b>-v</b>, <b>--verbose</b>
              Verbose execution

       <b>-h</b>, <b>--help</b>
              Print help and exit

       <b>--color=</b>[auto|on|off]
              Whether to use colored output.

       <b>--color-scheme=</b><u>COLOR_SCHEME</u>
              Colors to use in output (when color is enabled). The  format  for  COLOR_SCHEME  is  '&lt;debug&gt;:&lt;in‐
              fo&gt;:&lt;warning&gt;:&lt;error&gt;'.  Numerical values and color names are accepted, empty fields imply the de‐
              fault  color.  For example, <b>--git-color-scheme=</b>'cyan:34::' would show debug messages in cyan, info
              messages in blue and other messages in default (i.e. warning and error messages in red).

       <b>--[no-]patch-numbers</b>
              Whether or not the patch files should be prefixed with a number.  The default is to export patches
              with patch numbers. Note, however, that this normally affects patches whose names are automatical‐
              ly generated, and has no effect on exporting patches which have a <b>Gbp[-Pq]:</b> <b>Name</b>  tag,  since  the
              name specified is preserved unless the <b>--renumber</b> option is used.

       <b>--patch-num-format=</b><u>format</u>
              The format specifier for patch number prefixes. The default format is '%04d-'.

       <b>--[no-]renumber</b>
              Whether  or  not  to renumber patches exported from the patch queue, instead of preserving numbers
              specified in <b>Gbp-Pq:</b> <b>Name</b> tags. The default is not to renumber patches. Useful when  patches  need
              to  be  renamed for the sake of uniformity. For example, using <b>--renumber</b> with <b>--no-patch-num</b> will
              strip all numeric prefixes from exported patches.

       <b>--topic=</b><u>topic</u>
              Topic to use when importing a single patch

       <b>--time-machine=</b><u>NUM</u>
              When importing a patch queue fails, go back commit-by-commit on the current branch to check if the
              patch-queue applies there. Do this at most <u>NUM</u> times.  This  can  be  useful  if  the  patch-queue
              doesn't apply to the current branch HEAD anymore, e.g.  after importing a new upstream version.

       <b>--[no-]drop</b>
              Whether to automatically drop (delete) the patch queue branch after a successful export

       <b>--abbrev=</b><u>NUM</u>
              When  exporting  a  patch queue abbreviate commit, instead of showing the full 40-byte hexadecimal
              object name in header lines, show only a partial prefix of length <u>NUM</u>. This is useful when  exist‐
              ing patches were not generated by <b>gbp</b> <b>pq</b>.

       <b>--force</b>
              In  case of <b>import</b>, import even if the patch-queue branch already exists and overwrite its content
              with <u>debian/patches</u>.

       <b>--commit</b>
              In case of <b>export</b>, commit <u>debian/patches</u>the changes to Git after exporting the patches.

       <b>--meta-closes=</b><u>bug-close-tags</u>
              What meta tags to look for to generate a commit message when using <b>export</b> <b>--commit</b>.   The  default
              is 'Closes|LP' to support Debian and Launchpad.

       <b>--meta-closes-bugnum=</b><u>bug-number-format</u>
              What regular expression should be used to parse out the bug number when using <b>export</b> <b>--commit</b>. The
              default is '(?:bug|issue)?\#?\s?\d+'.  See <b><a href="../man1/gbp-dch.1.html">gbp-dch</a></b>(1) for details.

       <b>--pq-from=</b><u>[DEBIAN|TAG]</u>
              How to find the starting point for the patch queue base. The options are DEBIAN, that will use the
              Debian branch as the base for the patch queue branch, and TAG, that will use the corresponding up‐
              stream tag as a base for the patch queue branch.

              This  is  only  needed if your upstream branch is not merged in the Debian branch.  The default is
              <u>DEBIAN</u>.

       <b>--upstream-tag=</b><u>TAG-FORMAT</u>
              Use this tag format when looking for tags of upstream versions, default is <u>upstream/%(version)s</u>.

       <b>--[no-]ignore-new</b>
              Don't abort if there are uncommitted changes in the source tree  or  the  current  branch  doesn't
              match the <u>DEBIAN-BRANCH</u>.

</pre><h4><b>TAGS</b></h4><pre>
       When  exporting  patches from a patch-queue branch, <b>gbp</b> <b>pq</b> will look at the patch header for special tags
       it recognizes. All tags need to start at the first column and require at least one whitespace  after  the
       colon.

       <b>Gbp[-Pq]:</b> <b>Ignore</b>
              Ignores the commit, no patch is generated out of it.

       <b>Gbp[-Pq]:</b> <b>Name</b> <u>name</u>
              The name to use for the patch when running

              <b>gbp</b> <b>pq</b> export

              If unset, it will be formatted like <b>git</b> <b>am</b> would format it.

       <b>Gbp[-Pq]:</b> <b>Topic</b> <u>topic</u>
              Moves the patch into a subdir called <u>topic</u> when running

              <b>gbp</b> <b>pq</b> export

              This allows for some structure below <u>debian/patches</u>.

       <b>Gbp-Pq-Topic:</b> <u>topic</u>
              Deprecated: use <b>Gbp[-Pq]:</b> <b>Topic</b> <u>topic</u> instead.

</pre><h4><b>EXAMPLES</b></h4><pre>
       Create  a temporary branches-applied branch from files currently in <u>debian/patches/*</u>, and switch to it so
       that one can easily modify the files directly and manage the metadata as git  commits  modify  the  files
       with git commands (thus avoiding quilt) and manage the metadata as git commits:

             gbp pq switch --force

       Re-create  the contents of <u>debian/patches/*</u> using the commits on the patches-applied branch, commit it on
       the actual Debian packaging branch, and delete the temporary patches-applied branch::

             gbp pq export --drop --commit

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man1/gbp-buildpackage.1.html">gbp-buildpackage</a></b>(1), <b><a href="../man1/dpkg-source.1.html">dpkg-source</a></b>(1), <b><a href="../man1/quilt.1.html">quilt</a></b>(1), <b><a href="../man5/gbp.conf.5.html">gbp.conf</a></b>(5)

</pre><h4><b>AUTHOR</b></h4><pre>
       Guido Günther &lt;<a href="mailto:agx@sigxcpu.org">agx@sigxcpu.org</a>&gt;

                                                 9 January 2025                                        <u><a href="../man1/gbp-pq.1.html">gbp-pq</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>