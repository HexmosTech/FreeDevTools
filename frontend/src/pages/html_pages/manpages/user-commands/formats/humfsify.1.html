<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>humfsify — convert a directory to the format needed by the UML humfs file system</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/uml-utilities">uml-utilities_20070815.4-1build2_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       humfsify — convert a directory to the format needed by the UML humfs file system

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>humfsify</b> [user]  [group]  [size]

</pre><h4><b>DESCRIPTION</b></h4><pre>
       This manual page documents briefly the <b>humfsify</b> command.

       This  manual page was written for the <b>Debian</b> <b>GNU/Linux</b> distribution because the original program does not
       have a manual page.  Instead, it has documentation in HTML format; see below.

       <b>humfsify</b> is a Perl script necessary to convert a directory to a format expected by  the  UML  humfs  file
       system.

</pre><h4><b>HISTORY</b></h4><pre>
       UMLFS  was  born  with  the  idea  to  substitute the Hostfs implementation with a proper one for the UML
       purpose: when you manage files with Hostfs within UML you need to  work  with  two  different  permission
       layers (the Host one and the UML one), which have different ideas of ownerships.

       This becomes evident when you need to create a file as a non-root user on UML: you first need to interact
       with the UML file system implementation, and then with the host side.

       The  result of a file creation on a mounted hostfs file system is not what you expected: you can see that
       the file permissions refer to the Host side user rather than the UML creator.

       The Host side user is to be intended as the UML instance launcher, meanwhile the UML side user is the one
       you used to log in the UML instance.

       You can encounter a more-critical problem when creating a device node, operation  that  usually  requires
       root  privileges:  you used a common user to launch the UML and, since the operation is done on the Host,
       it fails, even if you logged in as root.

       Thus you need a set of tools which requires to bypass the Hostfs permission checks on the Host side: this
       is done by separating the file permissions and the ownership from the host's files. This is  the  concept
       behind the HumFs and its humfsify implementation.

</pre><h4><b>ARGUMENTS</b></h4><pre>
       <b>user</b>      This  is  the user that needs to 'convert' a directory to the UML file system to use UML.  This
                 is the host user who will be using this filesystem from within UML.  It  may  be  specified  as
                 either a user name or a numeric user id.

       <b>group</b>     This is the group which your UML user belongs to.  This may be either a group name or a numeric
                 group id

       <b>size</b>      This  is  the  size of the file system as seen within the UML instance. It must be expressed in
                 Gigabytes ("G"), Megabytes ("M"), or KiloBytes ("K").

</pre><h4><b>EXAMPLES</b></h4><pre>
       Create a directory on the host and mount it with humfsify

       host% <b>mkdir</b> <b>your-humfs-dir</b>

       host% <b>cd</b> <b>humfs-dir</b>

       Within this directory create a new one where you would like to have a UML-like hierarchy,  i.e.  you  can
       loop-mount an UML rootfs

       host% <b>mkdir</b> <b>dir-to-be-humsified</b>

       host# <b>mount</b> <b>-o</b> <b>loop</b> <b>rootfs</b> <b><a href="file:/mnt">/mnt</a></b>

       host% <b>cp</b> <b>-a</b> <b><a href="file:/mnt">/mnt</a></b> <b>dir-to-be-humsified/data</b>

       host# <b>humfsify</b> <b>user</b> <b>group</b> <b>512M</b>

       Then verify it on UML and mount the humfsified directory:

       UML# <b>mount</b> <b>none</b> <b>/your-uml-host</b> <b>-t</b> <b>humfs</b> <b>-o</b>

       where  '/your-uml-mount-point'  is the mount point on UML for the humfsified file system, and .../dir-to-
       be-humfsified is the humfsified directory in the example above. The '-t' mount option specifies that  the
       file system is to be mounted as 'humfs'.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       The <u>HostFs</u> <u>(link</u> <u>to</u> <u>URL</u> <u><a href="http://user-mode-linux.sourceforge.net/new/hostfs.html">http://user-mode-linux.sourceforge.net/new/hostfs.html</a>)</u>  usage explanation within
       the User-Mode-Linux Web Site

</pre><h4><b>AUTHOR</b></h4><pre>
       humfsify was written by Jeff Dike.

       This  manual  page  was written by Stefano Melchior <a href="mailto:stefano.melchior@openlabs.it">stefano.melchior@openlabs.it</a> for the <b>Debian</b> <b>GNU/Linux</b>
       system, based on material in the Official User Mode Linux Web Site.

                                                                                                     <u><a href="../man1/HUMFSIFY.1.html">HUMFSIFY</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>