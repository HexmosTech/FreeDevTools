<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>stilts-pixsample - Samples from a HEALPix pixel data file</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/stilts">stilts_3.5.1-2_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       stilts-pixsample - Samples from a HEALPix pixel data file

</pre><h4><b>SYNOPSIS</b></h4><pre>

       <b>stilts</b> <b>pixsample</b> [in=<u>&lt;table&gt;</u>] [ifmt=<u>&lt;in-format&gt;</u>] [icmd=<u>&lt;cmds&gt;</u>] [pixdata=<u>&lt;pix-table&gt;</u>] [pfmt=<u>&lt;in-format&gt;</u>]
                        [pcmd=<u>&lt;cmds&gt;</u>] [ocmd=<u>&lt;cmds&gt;</u>]
                        [omode=<u>out|meta|stats|count|checksum|cgi|discard|topcat|samp|tosql|gui</u>] [out=<u>&lt;out-</u>
                        <u>table&gt;</u>] [ofmt=<u>&lt;out-format&gt;</u>] [pixorder=<u>nested|ring|(auto)</u>] [stat=<u>point|mean</u>] [lon=<u>&lt;expr&gt;</u>]
                        [lat=<u>&lt;expr&gt;</u>] [insys=<u>icrs|fk5|fk4|galactic|supergalactic|ecliptic</u>]
                        [pixsys=<u>icrs|fk5|fk4|galactic|supergalactic|ecliptic</u>] [radius=<u>&lt;expr&gt;</u>]

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <u>pixsample</u>  samples  data  at  the sky position represented by each row from an all-sky map contained in a
       HEALPix-format pixel data file. Such files are actually tables (usually in FITS format) in which the  row
       number  corresponds to a HEALPix pixel index, and the pixel values are cell contents; one or more columns
       may be present containing values for one or more all-sky maps. The result of this command  is  to  add  a
       column  to  the input table representing the pixel data at the position of each input row for each of the
       data columns in the HEALPix table.

       This command does not attempt to convert between coordinate systems except as instructed, so it is impor‐
       tant to know what coordinate system the HEALPix file is in, and ensure that the coordinates supplied from
       the input table match this. You may need to examine the documentation or headers of the HEALPix  file  in
       question to find out. See the Examples section for some examples.

       There  is  a  choice  of how the sampling is done; the simplest way is just to use the value of the pixel
       covering the indicated position. An alternative is to average over a disc  of  given  radius  (perhaps  a
       function of the input row). Other options (e.g. max/min) could easily be added.

       Although  HEALPix is not a common format for storing image data in general, it is used for storing a num‐
       ber of important all-sky data sets such as the WMAP results and  Schlegel  dust  maps.  The  NASA  LAMBDA
       (Legacy  Archive  for Microwave Background Data Analysis) archive has a number of maps in a suitable for‐
       mat, including foreground data like predicted reddening as well as CMB maps.

       Note at present this command only supports all-sky, not partial, HEALPix maps. Partial map support may be
       added at some point in the future if there is demand.

</pre><h4><b>OPTIONS</b></h4><pre>
       <b>in=</b><u>&lt;table&gt;</u>
              The location of the input table. This may take one of the following forms:

                * A filename.

                * A URL.

                * The special value "<u>-</u>", meaning standard input. In this case the input format must be given ex‐
                  plicitly using the <u>ifmt</u> parameter. Note that not all formats can be streamed in this way.

                * A scheme specification of the form <u>:&lt;scheme-name&gt;:&lt;scheme-args&gt;</u>.

                * A system command line with either a "<u>&lt;</u>" character at the start, or a "<u>|</u>" character at the  end
                  ("<u>&lt;syscmd</u>" or "<u>syscmd|</u>"). This executes the given pipeline and reads from its standard output.
                  This will probably only work on unix-like systems.
               In  any case, compressed data in one of the supported compression formats (gzip, Unix compress or
              bzip2) will be decompressed transparently.

       <b>ifmt=</b><u>&lt;in-format&gt;</u>
              Specifies the format of the input table as specified by parameter <u>in</u>. The known formats are listed
              in SUN/256. This flag can be used if you know what format your table is in. If it has the  special
              value  <u>(auto)</u>  (the default), then an attempt will be made to detect the format of the table auto‐
              matically. This cannot always be done correctly however, in which case the program will exit  with
              an  error  explaining which formats were attempted. This parameter is ignored for scheme-specified
              tables.

       <b>icmd=</b><u>&lt;cmds&gt;</u>
              Specifies processing to be performed on the input table as specified by parameter <u>in</u>,  before  any
              other  processing  has  taken place. The value of this parameter is one or more of the filter com‐
              mands described in SUN/256. If more than one is given, they must be separated by semicolon charac‐
              ters (";"). This parameter can be repeated multiple times on the same command line to build  up  a
              list  of  processing  steps.  The  sequence  of  commands given in this way defines the processing
              pipeline which is performed on the table.

              Commands may alternatively be supplied in an external file, by  using  the  indirection  character
              '<u>@</u>'. Thus a value of "<u>@filename</u>" causes the file <u>filename</u> to be read for a list of filter commands
              to execute. The commands in the file may be separated by newline characters and/or semicolons, and
              lines which are blank or which start with a '<u>#</u>' character are ignored. A backslash character '<u>\fR'</u>
              <u>at</u> <u>the</u> <u>end</u> <u>of</u> <u>a</u> <u>line</u> <u>joins</u> <u>it</u> <u>with</u> <u>the</u> <u>following</u> <u>line.</u>

       <b>pixdata=</b><u>&lt;pix-table&gt;</u>
              The location of the table containing the pixel data. The data must be in the form of a HEALPix ta‐
              ble, with one pixel per row in HEALPix order. These files are typically, but not necessarily, FITS
              tables. A filename or URL may be used, but a local file will be more efficient.

              Some  HEALPix format FITS tables seem to have rows which contain 1024-element arrays of pixels in‐
              stead of single pixel values. This (rather perverse?) format is not currently supported here,  but
              if there is demand support could be added.

       <b>pfmt=</b><u>&lt;in-format&gt;</u>
              File format for the HEALPix pixel data table. This is usually, but not necessarily, FITS.

       <b>pcmd=</b><u>&lt;cmds&gt;</u>
              Specifies processing to be performed on pixel data table as specified by parameter <u>pixdata</u>, before
              any  other  processing  has  taken place. The value of this parameter is one or more of the filter
              commands described in SUN/256. If more than one is given, they  must  be  separated  by  semicolon
              characters  (";"). This parameter can be repeated multiple times on the same command line to build
              up a list of processing steps. The sequence of commands given in this way defines  the  processing
              pipeline which is performed on the table.

              Commands  may  alternatively  be  supplied in an external file, by using the indirection character
              '<u>@</u>'. Thus a value of "<u>@filename</u>" causes the file <u>filename</u> to be read for a list of filter commands
              to execute. The commands in the file may be separated by newline characters and/or semicolons, and
              lines which are blank or which start with a '<u>#</u>' character are ignored. A backslash character '<u>\fR'</u>
              <u>at</u> <u>the</u> <u>end</u> <u>of</u> <u>a</u> <u>line</u> <u>joins</u> <u>it</u> <u>with</u> <u>the</u> <u>following</u> <u>line.</u>

       <b>ocmd=</b><u>&lt;cmds&gt;</u>
              Specifies processing to be performed on the output table, after all  other  processing  has  taken
              place.  The value of this parameter is one or more of the filter commands described in SUN/256. If
              more than one is given, they must be separated by semicolon characters (";"). This  parameter  can
              be  repeated  multiple  times on the same command line to build up a list of processing steps. The
              sequence of commands given in this way defines the processing pipeline which is performed  on  the
              table.

              Commands  may  alternatively  be  supplied in an external file, by using the indirection character
              '<u>@</u>'. Thus a value of "<u>@filename</u>" causes the file <u>filename</u> to be read for a list of filter commands
              to execute. The commands in the file may be separated by newline characters and/or semicolons, and
              lines which are blank or which start with a '<u>#</u>' character are ignored. A backslash character '<u>\fR'</u>
              <u>at</u> <u>the</u> <u>end</u> <u>of</u> <u>a</u> <u>line</u> <u>joins</u> <u>it</u> <u>with</u> <u>the</u> <u>following</u> <u>line.</u>

       <b>omode=</b><u>out|meta|stats|count|checksum|cgi|discard|topcat|samp|tosql|gui</u>
              The mode in which the result table will be output. The default mode is <u>out</u>, which means  that  the
              result  will be written as a new table to disk or elsewhere, as determined by the <u>out</u> and <u>ofmt</u> pa‐
              rameters. However, there are other possibilities, which correspond to uses to which a table can be
              put other than outputting it, such as displaying metadata, calculating statistics, or populating a
              table in an SQL database. For some values of this parameter, additional  parameters  (<u>&lt;mode-args&gt;</u>)
              are required to determine the exact behaviour.

              Possible values are

                * <u>out</u>

                * <u>meta</u>

                * <u>stats</u>

                * <u>count</u>

                * <u>checksum</u>

                * <u>cgi</u>

                * <u>discard</u>

                * <u>topcat</u>

                * <u>samp</u>

                * <u>tosql</u>

                * <u>gui</u>
               Use the <u>help=omode</u> flag or see SUN/256 for more information.

       <b>out=</b><u>&lt;out-table&gt;</u>
              The  location  of  the output table. This is usually a filename to write to. If it is equal to the
              special value "-" (the default) the output table will be written to standard output.

              This parameter must only be given if <u>omode</u> has its default value of "<u>out</u>".

       <b>ofmt=</b><u>&lt;out-format&gt;</u>
              Specifies the format in which the output table will be written (one  of  the  ones  in  SUN/256  -
              matching  is  case-insensitive  and you can use just the first few letters). If it has the special
              value "<u>(auto)</u>" (the default), then the output filename will be examined to try to guess what  sort
              of  file  is  required  usually by looking at the extension. If it's not obvious from the filename
              what output format is intended, an error will result.

              This parameter must only be given if <u>omode</u> has its default value of "<u>out</u>".

       <b>pixorder=</b><u>nested|ring|(auto)</u>
              Selects the pixel ordering scheme used by the pixel data file. There are two different ways of or‐
              dering pixels in a HEALPix file, "ring" and "nested", and the sampler needs to know which  one  is
              in use. If you know which is in use, choose the appropriate value for this parameter; if <u>(auto)</u> is
              used it will attempt to work it out from headers in the file (the ORDERING header). If no reliable
              ordering scheme can be determined, the command will fail with an error.

       <b>stat=</b><u>point|mean</u>
              Determines how the pixel values will be sampled to generate an output value. The options are:

                * <u>point</u>: Uses the value at the pixel covering the supplied position. In this case the <u>radius</u> pa‐
                  rameter is not used.

                * <u>mean</u>:  Averages  the values over all the pixels within a radius given by the <u>radius</u> parameter.
                  This averaging is somewhat approximate; all pixels which are mostly within the radius are  av‐
                  eraged with equal weights.

       <b>lon=</b><u>&lt;expr&gt;</u>
              Expression  which evaluates to the longitude coordinate in degrees in the input table at which po‐
              sitions are to be sampled from the pixel data table. This will usually be the name or ID of a col‐
              umn in the input table, or an expression involving one. If this coordinate does not match the  co‐
              ordinate  system used by the pixel data table, both coordinate systems must be set using the <u>insys</u>
              and <u>pixsys</u> parameters.

       <b>lat=</b><u>&lt;expr&gt;</u>
              Expression which evaluates to the latitude coordinate in degrees in the input table at which posi‐
              tions are to be sampled from the pixel data table. This will usually be the name or ID of a column
              in the input table, or an expression involving one. If this coordinate does not match the  coordi‐
              nate  system used by the pixel data table, both coordinate systems must be set using the <u>insys</u> and
              <u>pixsys</u> parameters.

       <b>insys=</b><u>icrs|fk5|fk4|galactic|supergalactic|ecliptic</u>
              Specifies the sky coordinate system in which sample positions are provided by the <u>lon</u>/<u>lat</u>  parame‐
              ters.  If  the sample positions are given in the same coordinate system as that given by the pixel
              data table, both the <u>insys</u> and <u>pixsys</u> parameters may be set <u>null</u>.

              The available coordinate systems are:

                * <u>icrs</u>: ICRS (Right Ascension, Declination)

                * <u>fk5</u>: FK5 J2000.0 (Right Ascension, Declination)

                * <u>fk4</u>: FK4 B1950.0 (Right Ascension, Declination)

                * <u>galactic</u>: IAU 1958 Galactic (Longitude, Latitude)

                * <u>supergalactic</u>: de Vaucouleurs Supergalactic (Longitude, Latitude)

                * <u>ecliptic</u>: Ecliptic (Longitude, Latitude)

       <b>pixsys=</b><u>icrs|fk5|fk4|galactic|supergalactic|ecliptic</u>
              Specifies the sky coordinate system used for the HEALPix data in the pixdata file. If  the  sample
              positions  are given in the same coordinate system as that given by the pixel data table, both the
              <u>insys</u> and <u>pixsys</u> parameters may be set <u>null</u>.

              The available coordinate systems are:

                * <u>icrs</u>: ICRS (Right Ascension, Declination)

                * <u>fk5</u>: FK5 J2000.0 (Right Ascension, Declination)

                * <u>fk4</u>: FK4 B1950.0 (Right Ascension, Declination)

                * <u>galactic</u>: IAU 1958 Galactic (Longitude, Latitude)

                * <u>supergalactic</u>: de Vaucouleurs Supergalactic (Longitude, Latitude)

                * <u>ecliptic</u>: Ecliptic (Longitude, Latitude)

       <b>radius=</b><u>&lt;expr&gt;</u>
              Determines the radius in degrees over which pixels will be sampled to generate the output  statis‐
              tic  in  accordance with the value of the <u>stat</u> parameter. This will typically be a constant value,
              but it may be an algebraic expression based on columns from the input table.

              Not used if <u>stat=point</u>.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man1/stilts.1.html">stilts</a></b>(1)

       If the package stilts-doc is installed, the full documentation <b>SUN/256</b> is available in HTML format:
       file:///usr/share/doc/stilts/sun256/index.html

</pre><h4><b>VERSION</b></h4><pre>
       STILTS version 3.5.1-debian

       This is the Debian version of Stilts, which lack the support of some file formats and network  protocols.
       For differences see
       file:///usr/share/doc/stilts/README.Debian

</pre><h4><b>AUTHOR</b></h4><pre>
       Mark Taylor (Bristol University)

                                                    Mar 2017                                 <u><a href="../man1/STILTS-PIXSAMPLE.1.html">STILTS-PIXSAMPLE</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>