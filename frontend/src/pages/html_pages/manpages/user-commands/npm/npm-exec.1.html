<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>npm-exec</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/npm">npm_9.2.0~ds1-3_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       <b>npm-exec</b>

</pre><h4><b>Synopsis</b></h4><pre>
       &lt;!-- AUTOGENERATED USAGE DESCRIPTIONS --&gt;

</pre><h4><b>Description</b></h4><pre>
       This command allows you to run an arbitrary command from an npm package
       (either one installed locally, or fetched remotely), in a similar context
       as running it via <b>npm</b> <b>run</b>.

       Run without positional arguments or <b>--call</b>, this allows you to
       interactively run commands in the same sort of shell environment that
       <b>package.json</b> scripts are run.  Interactive mode is not supported in CI
       environments when standard input is a TTY, to prevent hangs.

       Whatever packages are specified by the <b>--package</b> option will be
       provided in the <b>PATH</b> of the executed command, along with any locally
       installed package executables.  The <b>--package</b> option may be
       specified multiple times, to execute the supplied command in an environment
       where all specified packages are available.

       If any requested packages are not present in the local project
       dependencies, then a prompt is printed, which can be suppressed by
       providing either <b>--yes</b> or <b>--no</b>. When standard input is not a TTY or a
       CI environment is detected, <b>--yes</b> is assumed. The requested packages are
       installed to a folder in the npm cache, which is added to the <b>PATH</b>
       environment variable in the executed process.

       Package names provided without a specifier will be matched with whatever
       version exists in the local project.  Package names with a specifier will
       only be considered a match if they have the exact same name and version as
       the local dependency.

       If no <b>-c</b> or <b>--call</b> option is provided, then the positional arguments
       are used to generate the command string.  If no <b>--package</b> options
       are provided, then npm will attempt to determine the executable name from
       the package specifier provided as the first positional argument according
       to the following heuristic:

        • If the package has a single entry in its <b>bin</b> field in <b>package.json</b>,
          or if all entries are aliases of the same command, then that command
          will be used.

        • If the package has multiple <b>bin</b> entries, and one of them matches the
          unscoped portion of the <b>name</b> field, then that command will be used.

        • If this does not result in exactly one option (either because there are
          no bin entries, or none of them match the <b>name</b> of the package), then
          <b>npm</b> <b>exec</b> exits with an error.

       To run a binary <u>other</u> <u>than</u> the named binary, specify one or more
       <b>--package</b> options, which will prevent npm from inferring the package from
       the first command argument.

</pre><h4><b>npx</b> <b>vs</b> <b>npm</b> <b>exec</b></h4><pre>
       When run via the <b>npx</b> binary, all flags and options <u>must</u> be set prior to
       any positional arguments.  When run via <b>npm</b> <b>exec</b>, a double-hyphen <b>--</b>
       flag can be used to suppress npm's parsing of switches and options that
       should be sent to the executed command.

       For example:
         $ npx foo@latest bar --package=@npmcli/foo

       In this case, npm will resolve the <b>foo</b> package name, and run the
       following command:
         $ foo bar --package=@npmcli/foo

       Since the <b>--package</b> option comes <u>after</u> the positional arguments, it is
       treated as an argument to the executed command.

       In contrast, due to npm's argument parsing logic, running this command is
       different:
         $ npm exec foo@latest bar --package=@npmcli/foo

       In this case, npm will parse the <b>--package</b> option first, resolving the
       <b>@npmcli/foo</b> package.  Then, it will execute the following command in that
       context:
         $ foo@latest bar

       The double-hyphen character is recommended to explicitly tell npm to stop
       parsing command line options and switches.  The following command would
       thus be equivalent to the <b>npx</b> command above:
         $ npm exec -- foo@latest bar --package=@npmcli/foo

</pre><h4><b>Configuration</b></h4><pre>
       &lt;!-- AUTOGENERATED CONFIG DESCRIPTIONS --&gt;

</pre><h4><b>Examples</b></h4><pre>
       Run the version of <b>tap</b> in the local dependencies, with the provided
       arguments:
         $ npm exec -- tap --bail test/foo.js
         $ npx tap --bail test/foo.js

       Run a command <u>other</u> <u>than</u> the command whose name matches the package name
       by specifying a <b>--package</b> option:
         $ npm exec --package=foo -- bar --bar-argument
         # ~ or ~
         $ npx --package=foo bar --bar-argument

       Run an arbitrary shell script, in the context of the current project:
         $ npm x -c 'eslint &amp;&amp; say "hooray, lint passed"'
         $ npx -c 'eslint &amp;&amp; say "hooray, lint passed"'

</pre><h4><b>Workspaces</b> <b>support</b></h4><pre>
       You may use the <b>workspace</b> or
       <b>workspaces</b> configs in order to run an
       arbitrary command from an npm package (either one installed locally, or fetched
       remotely) in the context of the specified workspaces.
       If no positional argument or <b>--call</b> option is provided, it will open an
       interactive subshell in the context of each of these configured workspaces one
       at a time.

       Given a project with configured workspaces, e.g:
         .
         +-- package.json
         `-- packages
            +-- a
            |   `-- package.json
            +-- b
            |   `-- package.json
            `-- c
                `-- package.json

       Assuming the workspace configuration is properly set up at the root level
       <b>package.json</b> file. e.g:
         {
             "workspaces": [ "./packages/*" ]
         }

       You can execute an arbitrary command from a package in the context of each of
       the configured workspaces when using the
       <b>workspaces</b> config options, in this example
       we're using <b>eslint</b> to lint any js file found within each workspace folder:
         npm exec --ws -- eslint ./*.js

   <b>Filtering</b> <b>workspaces</b>
       It's also possible to execute a command in a single workspace using the
       <b>workspace</b> config along with a name or directory path:
         npm exec --workspace=a -- eslint ./*.js

       The <b>workspace</b> config can also be specified multiple times in order to run a
       specific script in the context of multiple workspaces. When defining values for
       the <b>workspace</b> config in the command line, it also possible to use <b>-w</b> as a
       shorthand, e.g:
         npm exec -w a -w b -- eslint ./*.js

       This last command will run the <b>eslint</b> command in both <b>./packages/a</b> and
       <b>./packages/b</b> folders.

</pre><h4><b>Compatibility</b> <b>with</b> <b>Older</b> <b>npx</b> <b>Versions</b></h4><pre>
       The <b>npx</b> binary was rewritten in npm v7.0.0, and the standalone <b>npx</b>
       package deprecated at that time.  <b>npx</b> uses the <b>npm</b> <b>exec</b>
       command instead of a separate argument parser and install process, with
       some affordances to maintain backwards compatibility with the arguments it
       accepted in previous versions.

       This resulted in some shifts in its functionality:

        • Any <b>npm</b> config value may be provided.

        • To prevent security and user-experience problems from mistyping package
          names, <b>npx</b> prompts before installing anything.  Suppress this
          prompt with the <b>-y</b> or <b>--yes</b> option.

        • The <b>--no-install</b> option is deprecated, and will be converted to <b>--no</b>.

        • Shell fallback functionality is removed, as it is not advisable.

        • The <b>-p</b> argument is a shorthand for <b>--parseable</b> in npm, but shorthand
          for <b>--package</b> in npx.  This is maintained, but only for the <b>npx</b>
          executable.

        • The <b>--ignore-existing</b> option is removed.  Locally installed bins are
          always present in the executed process <b>PATH</b>.

        • The <b>--npm</b> option is removed.  <b>npx</b> will always use the <b>npm</b> it ships
          with.

        • The <b>--node-arg</b> and <b>-n</b> options are removed.

        • The <b>--always-spawn</b> option is redundant, and thus removed.

        • The <b>--shell</b> option is replaced with <b>--script-shell</b>, but maintained
          in the <b>npx</b> executable for backwards compatibility.

</pre><h4><b>A</b> <b>note</b> <b>on</b> <b>caching</b></h4><pre>
       The npm cli utilizes its internal package cache when using the package
       name specified.  You can use the following to change how and when the
       cli uses this cache. See <b>npm</b> <b>cache</b> for more on
       how the cache works.

   <b>prefer-online</b>
       Forces staleness checks for packages, making the cli look for updates
       immediately even if the package is already in the cache.

   <b>prefer-offline</b>
       Bypasses staleness checks for packages.  Missing data will still be
       requested from the server. To force full offline mode, use <b>offline</b>.

   <b>offline</b>
       Forces full offline mode. Any packages not locally cached will result in
       an error.

   <b>workspace</b>
        • Default:

        • Type: String (can be set multiple times)

       Enable running a command in the context of the configured workspaces of the
       current project while filtering by running only the workspaces defined by
       this configuration option.

       Valid values for the <b>workspace</b> config are either:

        • Workspace names

        • Path to a workspace directory

        • Path to a parent workspace directory (will result to selecting all of the
          nested workspaces)

       This value is not exported to the environment for child processes.

   <b>workspaces</b>
        • Alias: <b>--ws</b>

        • Type: Boolean

        • Default: <b>false</b>

       Run scripts in the context of all configured workspaces for the current
       project.

</pre><h4><b>See</b> <b>Also</b></h4><pre>
        • npm run-script

        • npm scripts

        • npm test

        • npm start

        • npm restart

        • npm stop

        • npm config

        • npm workspaces

        • npx

9.2.0                                               May 2024                                         <u><a href="../man1/NPM-EXEC.1.html">NPM-EXEC</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>