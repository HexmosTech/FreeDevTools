<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>thd -- triggerhappy global hotkey daemon</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/triggerhappy">triggerhappy_0.5.0-1.1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       thd -- triggerhappy global hotkey daemon

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>thd</b> [<b>--help</b>] [<b>--user</b> <u>name</u>] [<b>--listevents</b>] [<b>--dump</b>] [<b>--socket</b> <u>socket</u>] [<b>--triggers</b> <u>config</u>] [<b>--daemon</b>]
       [<b>--pidfile</b> <u>file</u>] [<b>--uinput</b> <u>device</u>][<b>--ignore</b> <u>event</u>] [<b>--deviceglob</b> <u>pattern</u>] [<u>devices...</u>]

</pre><h4><b>DESCRIPTION</b></h4><pre>
       Triggerhappy is a hotkey daemon that operates on a system wide scale. It watches all configured input
       devices for key, switch or button events and can launch arbitrary commands specified by the
       administrator. In contrast to hotkey services provided by desktop environments, Triggerhappy is
       especially suited to hardware related switches like volume or wifi control; it works independently from a
       specific user being logged in and is also suitable for embedded systems that do not a graphical user
       interface.

</pre><h4><b>OPTIONS</b></h4><pre>
       <b>--help</b>
           Shows usage instructions

       <b>--listevents</b>
           Prints a list of all known event names.

       <b>--triggers</b> <u>conf</u>
           Read  trigger  definitions  from  <u>conf</u>,  which can either be a file or a directory. If a directory is
           specified, all its files matching the pattern *.conf are loaded.

       <b>--dump</b>
           Dump all recognized events to STDOUT. This  can  also  be  utilized  to  create  a  skeleton  trigger
           configuration  by  redirecting  the  printed  configuration lines to a configuration file, adding the
           desired command and activating the generated line by removing the comment mark "#" at its beginning:

             thd --dump /dev/input/event* | grep ^# &gt; /etc/triggerhappy/triggers.d/skeleton.conf

       <b>--socket</b> <u>file</u>
           Open a unix domain socket at <u>file</u>; this socket can be used to send commands to the running daemon (by
           using the program th-cmd), e.g. for adding or removing devices.

       <b>--daemon</b>
           Run as a background daemon and detach from the terminal.

       <b>--pidfile</b> <u>file</u>
           Write PID to <u>file</u>.

       <b>--uinput</b> <u>device</u>
           Open uinput file (probably <u>/dev/input/uinput</u>) to generate synthetic events.

       <b>--ignore</b> <u>eventname</u>
           Ignore key and switch event labeled <u>eventname</u>. This can be used  to  suppress  the  FN  key  on  some
           notebooks which only generates events sometimes and might screw up key combinations.

       <b>--normalize</b>
           Normalize  REL  and  ABS  events.  If  this option is enabled, the values of axis movement events are
           mapped to the three values -1, 0 and 1, depending on the sign of the value reported by the kernel.

       <b>--user</b> <u>name</u>
           Change to user id <u>name</u> after opening files. This usually prevents thd from opening  additional  input
           devices,  unless  they  are  opened by the th-cmd program and their file descriptor are passed to the
           daemon.

       <b>--deviceglob</b> <u>pattern</u>
           Open device files matching the glob <u>pattern</u>.

       Additional command line arguments are considered filenames of input devices.

</pre><h4><b>CONFIGURATION</b></h4><pre>
   <b>Configuring</b> <b>event</b> <b>handlers</b>
       The hotkey bindings used by Triggerhappy are set in the configuration file specified by <b>--triggers</b>.  Each
       line  consists  of  three  segments:  The  symbolic  name of the key or event name to react on, the value
       carried by the expected event, and of course the command to be launched.

       The event names can be identified by operating the desired key or switch while running  the  triggerhappy
       daemon with the option <b>--dump</b>.

       Key  events  carry  the  value  <u>1</u> for a key being pressed and transmit the payload <u>0</u> when it is released;
       holding the key down constantly yields events with a value of <u>2</u>.

       The command can include any number of arguments. Please include the full path to  avoid  trouble  through
       different $PATH settings for the daemon and your interactive session.

       The three fields are separated by an arbitrary number of whitespaces, while anything behind a # character
       is ignored and considered a comment.

</pre><h4><b>EXAMPLE</b></h4><pre>
   <b>Starting</b> <b>the</b> <b>daemon</b>
       <b>thd</b> <b>--dump</b> <b>/dev/input/event*</b>

       Dump  all events processable by thd to the console; this is useful to find out the correct event name for
       a specific key.

       <b>thd</b> <b>--triggers</b> <b>/etc/triggerhappy/triggers.d/</b> <b>/dev/input/event*</b>

       Read from  all  currently  connected  input  devices  and  process  events  according  to  the  files  in
       <u>/etc/triggerhappy/triggers.d/</u>.

       <b>thd</b> <b>--triggers</b> <b>/etc/triggerhappy/triggers.conf</b> <b>--socket</b> <b>/var/run/thd.socket</b>

       Do not open any input devices yet, but bind the socket <u>/var/run/thd.socket</u> for th-cmd to connect to.

   <b>Configuration</b> <b>files</b>
       Any number of event handlers can be placed in the configuration file:

           # /etc/triggerhappy/triggers.d/suspend.conf
           #
           # Suspend the system
           KEY_SLEEP                   1       /usr/sbin/hibernate-ram
           KEY_SLEEP+KEY_LEFTSHIFT     1       /usr/sbin/hibernate-disk

           # /etc/triggerhappy/triggers.d/audio.conf
           # Change mixer volume when pressing the appropriate keys (or holding them)
           KEY_VOLUMEUP    1      /usr/bin/amixer set Master 5%+
           KEY_VOLUMEUP    2      /usr/bin/amixer set Master 5%+
           KEY_VOLUMEDOWN  1      /usr/bin/amixer set Master 5%-
           KEY_VOLUMEDOWN  2      /usr/bin/amixer set Master 5%-

       In  more complex situations, triggerhappy can provide multiple modes that map a single event to different
       keys; triggers are bound to a specific mode by appending its name to the event name:

           KEY_KPPLUS@media    1       /usr/bin/mpc next
           KEY_KPMINUS@media   1       /usr/bin/mpc prev

       These two lines will only cause mpc to be called if the triggerhappy daemon is in "media" mode.  Changing
       the mode can be achieved by placing a special trigger inside the configuration:

           KEY_F12@            1       @media
           KEY_F12@media       1       @

       These  two  lines make the F12 key toggle between the (nameless) default mode and the newly defined media
       mode.

       Triggers with "@" appended are only executed if the specified mode is  active;  all  other  triggers  are
       enabled in every mode.

       When  launched with the option <b>--uinput</b>, triggerhappy can be used to generate synthetic events. A virtual
       input device is created which emits specified key presses once a special trigger is reached:

           KEY_KPASTERISK      1       &lt;KEY_VOLUMEDOWN

       By prepending a keycode with the special character '&lt;', other  applications  will  receive  a  press  and
       release  of  the  corresponding  key.  This  is  especially useful to remap or mirror events generated by
       devices exclusively serviced by the triggerhappy daemon.

       It is possible to create handlers that only react to specific devices: to achieve such behaviour, add the
       input device using <b>th-cmd</b> and supply it with a tag; this tag can then be used to limit  the  scope  of  a
       trigger to this device:

           &lt;remote&gt;KEY_ENTER   1       /usr/bin/mpc stop

       Defining  the  hotkey  in  this  way will only trigger the handler if the event is received from a device
       tagged "remote".

</pre><h4><b>AUTHOR</b></h4><pre>
       Stefan Tomanek &lt;stefan.tomanek+<a href="mailto:th@wertarbyte.de">th@wertarbyte.de</a>&gt;

0.5.0                                              2020-10-07                                             <u><a href="../man1/THD.1.html">THD</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>