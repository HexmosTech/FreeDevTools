<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HAProxy - fast and reliable http reverse proxy and load balancer</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/haproxy">haproxy_3.0.8-1ubuntu1.1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       HAProxy - fast and reliable http reverse proxy and load balancer

</pre><h4><b>SYNOPSIS</b></h4><pre>
       haproxy  -f  &lt;configuration file|dir&gt; [-L &lt;name&gt;] [-n maxconn] [-N maxconn] [-C &lt;dir&gt;] [-v|-vv] [-d] [-D]
       [-W] [-Ws] [-q] [-V] [-c] [-p &lt;pidfile&gt;] [-dk] [-ds] [-de]  [-dp]  [-db]  [-dM[&lt;byte&gt;]]  [-m &lt;megs&gt;]  [-x
       &lt;unix_socket&gt;] [{-sf|-st} pidlist...]

</pre><h4><b>DESCRIPTION</b></h4><pre>
       HAProxy  is  a  TCP/HTTP  reverse  proxy which is particularly suited for high availability environments.
       Indeed, it can:
        - route HTTP requests depending on statically assigned cookies ;
        - spread the load among several servers while assuring server
          persistence through the use of HTTP cookies ;
        - switch to backup servers in the event a main one fails ;
        - accept connections to special ports dedicated to service
          monitoring ;
        - stop accepting connections without breaking existing ones ;
        - add/modify/delete HTTP headers both ways ;
        - block requests matching a particular pattern ;
        - hold clients to the right application server depending on
          application cookies
        - report detailed status as HTML pages to authenticated users from an
          URI intercepted from the application.

       It needs very little resource. Its event-driven architecture allows it  to  easily  handle  thousands  of
       simultaneous connections on hundreds of instances without risking the system's stability.

</pre><h4><b>OPTIONS</b></h4><pre>
       <b>-f</b> <b>&lt;configuration</b> <b>file|dir&gt;</b>
              Specify  configuration  file or directory path. If the argument is a directory the files (and only
              files) it contains are added in lexical order (using LC_COLLATE=C) ; only non  hidden  files  with
              ".cfg" extension are added.

       <b>-L</b> <b>&lt;name&gt;</b>
              Set  the local instance's peer name. Peers are defined in the <b>peers</b> configuration section and used
              for syncing stick tables between different instances. If this option is not specified,  the  local
              hostname  is  used  as  peer  name.  This  name  is exported in the $HAPROXY_LOCALPEER environment
              variable and can be used in the configuration file.

       <b>-n</b> <b>&lt;maxconn&gt;</b>
              Set the high limit for the total number of simultaneous connections.

       <b>-N</b> <b>&lt;maxconn&gt;</b>
              Set the high limit for the per-listener number of simultaneous connections.

       <b>-C</b> <b>&lt;dir&gt;</b>
              Change directory to &lt;<u>dir</u>&gt; before loading any files.

       <b>-v</b>     Display HAProxy's version.

       <b>-vv</b>    Display HAProxy's version and all build options.

       <b>-d</b>     Start in foreground with debugging mode enabled.  When the proxy runs in this mode, it dumps every
              connections, disconnections, timestamps, and HTTP headers to stdout. This should NEVER be used  in
              an init script since it will prevent the system from starting up.

       <b>-D</b>     Start in daemon mode.

       <b>-W</b>     Start in master-worker mode. Could be used either with foreground or daemon mode.

       <b>-Ws</b>    Start  in  master-worker  mode  with  systemd notify support. It tells systemd when the process is
              ready. This mode forces foreground.

       <b>-q</b>     Disable messages on output.

       <b>-V</b>     Displays messages on output even when -q or 'quiet' are specified. Some information about  pollers
              and config file are displayed during startup.

       <b>-c</b>     Only  checks  config  file  and exits with code 0 if no error was found, or exits with code 1 if a
              syntax error was found.

       <b>-p</b> <b>&lt;pidfile&gt;</b>
              Ask the process to write down each of its children's pids to this file in daemon mode or  ask  the
              process to write down its master's pid to this file in master-worker mode.

       <b>-dk</b>    Disable use of <b><a href="../man2/kqueue.2.html">kqueue</a></b>(2). <b><a href="../man2/kqueue.2.html">kqueue</a></b>(2) is available only on BSD systems.

       <b>-dv</b>    Disable  use  of event ports. Event ports are available only on SunOS systems derived from Solaris
              10 and later (including illumos systems).

       <b>-ds</b>    Disable use of speculative <b><a href="../man7/epoll.7.html">epoll</a></b>(7). <b><a href="../man7/epoll.7.html">epoll</a></b>(7) is available only on Linux 2.6 and some custom Linux
              2.4 systems.

       <b>-de</b>    Disable use of <b><a href="../man7/epoll.7.html">epoll</a></b>(7). <b><a href="../man7/epoll.7.html">epoll</a></b>(7) is available only  on  Linux  2.6  and  some  custom  Linux  2.4
              systems.

       <b>-dp</b>    Disables use of <b><a href="../man2/poll.2.html">poll</a></b>(2). <b><a href="../man2/select.2.html">select</a></b>(2) might be used instead.

       <b>-dS</b>    Disables use of <b><a href="../man2/splice.2.html">splice</a></b>(2), which is broken on older kernels.

       <b>-db</b>    Disables  background  mode  (stays in foreground, useful for debugging).  For debugging, the '-db'
              option is very useful as it temporarily disables daemon mode and multi-process mode.  The  service
              can  then  be  stopped  by  simply pressing Ctrl-C, without having to edit the config nor run full
              debug.

       <b>-dM[&lt;byte&gt;]</b>
              Initializes all allocated memory areas with the given &lt;<u>byte</u>&gt;. This makes it easier to detect  bugs
              resulting  from  uninitialized  memory  accesses,  at the expense of touching all allocated memory
              once. If &lt;<u>byte</u>&gt; is not specified, it defaults to 0x50 (ASCII 'P').

       <b>-m</b> <b>&lt;megs&gt;</b>
              Enforce a memory usage limit to a maximum of &lt;megs&gt; megabytes.

       <b>-sf</b> <b>&lt;pidlist&gt;</b>
              Send FINISH signal to the pids in pidlist after startup. The processes which receive  this  signal
              will  wait for all sessions to finish before exiting. This option must be specified last, followed
              by any number of PIDs. Technically speaking, <b>SIGTTOU</b> and <b>SIGUSR1</b> are sent.

       <b>-st</b> <b>&lt;pidlist&gt;</b>
              Send TERMINATE signal to the pids in pidlist after  startup.  The  processes  which  receive  this
              signal  will  terminate  immediately,  closing  all active sessions. This option must be specified
              last, followed by any number of PIDs. Technically speaking, <b>SIGTTOU</b> and <b>SIGTERM</b> are sent.

       -x &lt;unix_socket&gt;
              Attempt to connect to the unix socket, and  retrieve  all  the  listening  sockets  from  the  old
              process. Those sockets will then be used if possible instead of binding new ones.

       <b>-S</b> <b>&lt;bind&gt;[,&lt;bind</b> <b>options&gt;...]</b>
              In  master-worker  mode,  create  a  master  CLI.  This CLI will enable access to the CLI of every
              worker. Useful for debugging, it's a convenient way of accessing a leaving process.

</pre><h4><b>LOGGING</b></h4><pre>
       Since HAProxy can run inside a chroot, it cannot reliably access /dev/log.  For this reason, it uses  the
       UDP  protocol  to  send  its  logs  to  the server, even if it is the local server. People who experience
       trouble receiving logs should ensure that their syslog daemon listens to the UDP socket.   Several  Linux
       distributions  which  ship  with  syslogd  from the sysklogd package have UDP disabled by default. The <b>-r</b>
       option must be passed to the daemon in order to enable UDP.

</pre><h4><b>SIGNALS</b></h4><pre>
       Some signals have a special meaning for the haproxy daemon. Generally, they are used between daemons  and
       need not be used by the administrator.

       - <b>SIGUSR1</b>
              Tells  the  daemon to stop all proxies and exit once all sessions are closed. It is often referred
              to as the "soft-stop" signal.

       - <b>SIGUSR2</b>
              In master-worker mode, reloads the configuration and sends a soft-stop signal to old processes.

       - <b>SIGTTOU</b>
              Tells the daemon to stop listening to all sockets. Used internally by <b>-sf</b> and <b>-st</b>.

       - <b>SIGTTIN</b>
              Tells the daemon to restart listening to all sockets after a <b>SIGTTOU</b>. Used internally  when  there
              was a problem during hot reconfiguration.

       - <b>SIGINT</b> and <b>SIGTERM</b>
              Both signals can be used to quickly stop the daemon.

       - <b>SIGHUP</b>
              Dumps  the  status  of  all  proxies  and  servers into the logs. Mostly used for trouble-shooting
              purposes.

       - <b>SIGQUIT</b>
              Dumps information about memory pools on stderr. Mostly used for debugging purposes.

       - <b>SIGPIPE</b>
              This signal is intercepted and ignored on systems without <b>MSG_NOSIGNAL</b>.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       A much better documentation can be found in configuration.txt. On Debian systems, you can find this  file
       in /usr/share/doc/haproxy/configuration.txt.gz.

</pre><h4><b>AUTHOR</b></h4><pre>
       HAProxy was written by Willy Tarreau. This man page was written by Arnaud Cornet and Willy Tarreau.

                                                 17 August 2007                                       <u><a href="../man1/HAPROXY.1.html">HAPROXY</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>