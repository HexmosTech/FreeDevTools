<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>pmdahaproxy - HAProxy PMDA</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/pcp">pcp_6.3.3-1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       <b>pmdahaproxy</b> - HAProxy PMDA

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>pmdahaproxy</b>  is  a  Performance  Metrics  Domain  Agent  (PMDA) which extracts live performance data from
       HAProxy statistics socket or URL.

       By default the HAProxy stats socket is used to retrieve the metric but if the optional URL option is  set
       (see below), then the HAProxy URL is used instead.

       See the HAProxy documentation for detailed description of each metric.

</pre><h4><b>INSTALLATION</b></h4><pre>
       <b>pmdahaproxy</b> reads an optional ini-style configuration file

           • $PCP_PMDAS_DIR<u>/haproxy/haproxy.conf</u>

       This file can contain in its <b>[pmda]</b> section overriding values for the following PMDA options:

           • user
           • socket

       By default, <b>root</b> and <b>/var/lib/haproxy/stats</b>, are used as values for these options, respectively.

       The section can also contain the following parameters:

           • url
           • auth
           • pass

       When the <u>url</u> option is defined, URL connection to HAProxy is used.  <b>pmdahaproxy</b> expects CSV data from the
       HAProxy URL; an example of a compatible URL is <b><a href="http://127.0.0.1">http://127.0.0.1</a>:9000/?stats;csv</b>.

       Note  that  the  HAProxy  statistics  socket  and/or  URL  need  to  be separately enabled in the HAProxy
       configuration file; please refer to the HAProxy configuration documentation for  details.   Depending  on
       system  and  HAProxy  configuration,  using non-root user may also be possible, especially with URL based
       connections.

       Once the needed setup is ready, you can test the connection and install the PMDA to enable access to  the
       names and values for the HAProxy performance metrics.  To install, do the following as root:

           <b>#</b> <b>cd</b> <b>$PCP_PMDAS_DIR/haproxy</b>
           <b>#</b> <b>./connect</b>
           <b>#</b> <b>./Install</b>

       To uninstall, do the following as root:

           <b>#</b> <b>cd</b> <b>$PCP_PMDAS_DIR/haproxy</b>
           <b>#</b> <b>./Remove</b>

       <b>pmdahaproxy</b> is launched by <b><a href="../man1/pmcd.1.html">pmcd</a></b>(1) and should never be executed directly.  The Install and Remove scripts
       notify <b><a href="../man1/pmcd.1.html">pmcd</a></b>(1) when the agent is installed or removed.

</pre><h4><b>FILES</b></h4><pre>
       $PCP_PMDAS_DIR<u>/haproxy/haproxy.conf</u>
              configuration file for the <b>pmdahaproxy</b> agent

       $PCP_PMDAS_DIR<u>/haproxy/connect</u>
              connection test helper using the <b>pmdahaproxy</b> agent configuration

       $PCP_PMDAS_DIR<u>/haproxy/Install</u>
              installation script for the <b>pmdahaproxy</b> agent

       $PCP_PMDAS_DIR<u>/haproxy/Remove</u>
              undo installation script for the <b>pmdahaproxy</b> agent

       $PCP_LOG_DIR<u>/pmcd/haproxy.log</u>
              default log file for messages from the <b>pmdahaproxy</b> agent

</pre><h4><b>PCP</b> <b>ENVIRONMENT</b></h4><pre>
       Environment  variables with the prefix <b>PCP_</b> are used to parameterize the file and directory names used by
       PCP.  On each installation, the file <u>/etc/pcp.conf</u> contains the local values for  these  variables.   The
       <b>$PCP_CONF</b> variable may be used to specify an alternative configuration file, as described in <b><a href="../man5/pcp.conf.5.html">pcp.conf</a></b>(5).

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man1/PCPIntro.1.html">PCPIntro</a></b>(1), <b><a href="../man1/haproxy.1.html">haproxy</a></b>(1) and <b><a href="../man1/pmcd.1.html">pmcd</a></b>(1).

Performance Co-Pilot                                   PCP                                        <u><a href="../man1/PMDAHAPROXY.1.html">PMDAHAPROXY</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>