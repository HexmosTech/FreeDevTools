<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>daxctl-migrate-device-model - Opt-in to the /sys/bus/dax device-model, allow for alternative Device-DAX</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/daxctl">daxctl_77-2.2ubuntu2_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       daxctl-migrate-device-model - Opt-in to the <a href="file:/sys/bus/dax">/sys/bus/dax</a> device-model, allow for alternative Device-DAX
       instance drivers.

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <u>daxctl</u> <u>migrate-device-model</u>

       Arrange for modprobe to disable the dax_pmem_compat, if present, and instead deploy the dax_pmem module
       to convert to the <a href="file:/sys/bus/dax">/sys/bus/dax</a> model. Kernel versions prior to v5.1 may not support <a href="file:/sys/bus/dax">/sys/bus/dax</a> in which
       case the result of this command is a nop until the kernel is updated. The motivation for changing from
       /sys/class/dax to <a href="file:/sys/bus/dax">/sys/bus/dax</a> is to allow for alternative drivers for Device-DAX instances, in
       particular the dax_kmem driver.

       By default device-dax publishes a /dev/daxX.Y character device for userspace to directly map performance
       differentiated memory. This is fine if the memory is to be exclusively consumed / managed by userspace.
       Alternatively an administrator may want the kernel to manage the memory, make it available via malloc(),
       allow for over-provisioning, and / or apply kernel-based resource control schemes to the memory. In that
       case the memory fronted by a given Device-DAX instance can be assigned to the dax_kmem driver which
       arranges for the core-kernel memory-management sub-system to assume management of the memory range.

       This behavior is opt-in for consideration of existing applications / scripts that may be hard coded to
       use /sys/class/dax. Fixes have been submitted to applications known to have these direct dependencies FIO
       &lt;<a href="http://git.kernel.dk/cgit/fio/commit/">http://git.kernel.dk/cgit/fio/commit/</a>?id=b08e7d6b18b4&gt; PMDK
       &lt;https://github.com/pmem/pmdk/commit/91bc8620884e&gt;, however, there may be others and a system-owner
       should be aware of the potential for regression of Device-DAX consuming scripts, applications, or older
       daxctl binaries.

       The modprobe policy established by this utility becomes effective after the next reboot, or after all DAX
       related modules have been removed and re-loaded with "udevadm trigger"

</pre><h4><b>COPYRIGHT</b></h4><pre>
       Copyright Â© 2016 - 2022, Intel Corporation. License GPLv2: GNU GPL version 2
       <a href="http://gnu.org/licenses/gpl.html">http://gnu.org/licenses/gpl.html</a>. This is free software: you are free to change and redistribute it.
       There is NO WARRANTY, to the extent permitted by law.

daxctl                                             2024-11-01                     <u><a href="../man1/DAXCTL-MIGRATE-DEVICE-MODEL.1.html">DAXCTL-MIGRATE-DEVICE-MODEL</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>