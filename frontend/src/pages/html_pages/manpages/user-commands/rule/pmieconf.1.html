<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>pmieconf - display and set configurable pmie rule variables</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/pcp">pcp_6.3.3-1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       <b>pmieconf</b> - display and set configurable pmie rule variables

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>pmieconf</b> [<b>-cFv?</b>]  [<b>-f</b> <u>file</u>] [<b>-r</b> <u>rulepath</u>] [<u>command</u> [<u>args...</u>]]

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>pmieconf</b>  is  a utility for viewing and configuring variables from generalized <b><a href="../man1/pmie.1.html">pmie</a></b>(1) rules.  The set of
       generalized rules is read in from <u>rulepath</u>, and the output <u>file</u> produced by <b>pmieconf</b>  is  a  valid  input
       file for <b>pmie</b>.

</pre><h4><b>OPTIONS</b></h4><pre>
       The available command line options are:

       <b>-c</b>   When  run  from  automated  <b>pmie</b>  setup processes, this option is used to add a specific message and
            timestamp indicating that this is the  case.   Unless  over-ridden  by  the  <b>-f</b>  flag,  the  default
            configuration  file  to  be  written or updated when the <b>-c</b> flag is given and <b>pmieconf</b> is run by the
            root user, is <u>$PCP_VAR_DIR/config/pmie/config.default</u>.  This is also the default configuration  file
            used  by  the  <b>pmie</b>  service,  see  <b><a href="../man1/pmie_daily.1.html">pmie_daily</a></b>(1).  This flag is not appropriate when using the tool
            interactively.

       <b>-f</b> <u>file</u>, <b>--config</b>=<u>file</u>
            Any rule modifications resulting from <b>pmieconf</b> manipulation of variable values will  be  written  to
            <u>file</u>.   The  default value of <u>file</u> is dependent on the user ID - for the root user (when the <b>-c</b> flag
            is <b>not</b> also given, see above) the file is <u>$PCP_SYSCONF_DIR/pmie/config.default</u>.  For other users the
            default is <u>$HOME/.pcp/pmie/config.pmie</u>.

       <b>-F</b>, <b>--force</b>
            Forces the <b>pmieconf</b> output <u>file</u> to be created (or updated), after which <b>pmieconf</b> immediately exits.

       <b>-r</b> <u>rulepath</u>, <b>--rules</b>=<u>rulepath</u>
            Allows the source of generalized <b>pmie</b> rules to be changed - <u>rulepath</u> is a  colon-delimited  list  of
            <b><a href="../man5/pmieconf.5.html">pmieconf</a></b>(5)   rule   files   and/or   subdirectories.    The   default   value   for   <u>rulepath</u>   is
            <u>$PCP_VAR_DIR/config/pmieconf</u>.  Use of this option overrides the <b>PMIECONF_PATH</b>  environment  variable
            which has a similar function.

       <b>-v</b>, <b>--verbose</b>
            Enable  verbose  mode.   associated  variables  will  be  displayed.   This  is the complete list of
            variables which affects any given rule (by default, global variables  are  not  displayed  with  the
            rule).

       <b>-?</b>, <b>--help</b>
            Display usage message and exit.

       The  <b>pmieconf</b>  <u>command</u>s  allow  information related to the various rules and configurable variables to be
       displayed or modified.  If no <b>pmieconf</b> <u>command</u>s are presented on the command line, <b>pmieconf</b>  prompts  for
       <u>command</u>s interactively.

</pre><h4><b>COMMAND</b> <b>LANGUAGE</b></h4><pre>
       The <b>pmieconf</b> <u>command</u> language is described here:

       <b>help</b>  <b>[</b> <b>{</b> <b>.</b> <b>|</b> <b>all</b> <b>|</b> <b>global</b> <b>|</b> <b>&lt;rule&gt;</b> <b>|</b> <b>&lt;group&gt;</b> <b>}</b> <b>[&lt;variable&gt;]</b> <b>]</b>
               Without  arguments,  the  <b>help</b>  command  displays  the  syntax  for all of the available <b>pmieconf</b>
               commands.  With one argument, a description of one or more of the generalized rules is displayed.
               With two arguments, a description of  a  specific  variable  relating  to  one  or  more  of  the
               generalized rules is displayed.

       <b>rules</b>  <b>[</b> <b>enabled</b> <b>|</b> <b>disabled</b> <b>]</b>
               Display  the  name and short summary for all of the generalized rules found on <u>rulepath</u>.  Each of
               the rule names can be used in place of the keyword <b>&lt;rule&gt;</b> in  this  command  syntax  description.
               The  <b>enabled</b>  and <b>disabled</b> options can be used to filter the set of rules displayed to just those
               which are enabled or disabled respectfully.

       <b>groups</b>  Display the name of all of the rule groups that were found on <u>rulepath</u>.  Each of the group  names
               can be used in place of the keyword <b>&lt;group&gt;</b> in this command syntax description, which applies the
               command to all rules within the rule group.

       <b>status</b>  Display  status information relating to the current <b>pmieconf</b> session, including a list of running
               <b>pmie</b> processes which are currently using <u>file</u>.

       <b>enable</b>  <b>{</b> <b>.</b> <b>|</b> <b>all</b> <b>|</b> <b>&lt;rule&gt;</b> <b>|</b> <b>&lt;group&gt;</b> <b>}</b>
               Enables the specified rule or group of rules.  An enabled rule is one which will be  included  in
               the <b>pmie</b> configuration file generated by <b>pmieconf</b>.  Any enabled "actions" will be appended to the
               rule's  "predicate", in a manner conforming to the <b>pmie</b> syntax ("actions" can be viewed using the
               <b>list</b> <b>global</b> command, described below).

       <b>disable</b>  <b>{</b> <b>.</b> <b>|</b> <b>all</b> <b>|</b> <b>&lt;rule&gt;</b> <b>|</b> <b>&lt;group&gt;</b> <b>}</b>
               Disables the specified rule or group of rules.  If the rule was previously enabled,  it  will  be
               removed  from  the  <b>pmie</b>  configuration file generated by <b>pmieconf</b>, and hence no longer evaluated
               when <b>pmie</b> is restarted (using <b>pmieconf</b> does not affect any existing <b>pmie</b> processes using <u>file</u>).

       <b>list</b>  <b>{</b> <b>.</b> <b>|</b> <b>all</b> <b>|</b> <b>global</b> <b>|</b> <b>&lt;rule&gt;</b> <b>|</b> <b>&lt;group&gt;</b> <b>}</b> <b>[&lt;variable&gt;]</b>
               Display the values for a specific rule variable; or for all variables of a rule,  a  rule  group,
               all rules, or the global variables.

       <b>modify</b>  <b>{</b> <b>.</b> <b>|</b> <b>all</b> <b>|</b> <b>global</b> <b>|</b> <b>&lt;rule&gt;</b> <b>|</b> <b>&lt;group&gt;</b> <b>}</b> <b>&lt;variable&gt;</b> <b>&lt;value&gt;</b>
               Enable,  disable,  or otherwise change the value for one or more rule variables.  This value must
               be consistent with the type of the variable, which can be inferred from the format of the printed
               value - e.g. strings will be  enclosed  in  double-quotes,  percentages  have  the  ``%''  symbol
               appended,  etc.   Note  that  certain  rule  variables  cannot  be  modified  through  <b>pmieconf</b> -
               "predicate" and "help", for example.

       <b>undo</b>  <b>{</b> <b>.</b> <b>|</b> <b>all</b> <b>|</b> <b>global</b> <b>|</b> <b>&lt;rule&gt;</b> <b>|</b> <b>&lt;group&gt;</b> <b>}</b> <b>[&lt;variable&gt;]</b>
               Applicable only to a variable whose value has been modified - this <u>command</u> simply reverts to  the
               default value for the given variable.

       <b>quit</b>    Save any changes made to <u>file</u> and then exit <b>pmieconf</b>.

       <b>abort</b>   Exit <b>pmieconf</b> immediately without saving any changes to <u>file</u>.

       Each  of the commands above can be shortened by simply using the first character of the command name, and
       also ``?'' for help.

       Use of the <b>all</b> keyword causes the command to be applied to all of the rules.  The <b>global</b>  keyword  refers
       to  those  variables  which  are applied to every rule.  Such variables can be changed either globally or
       locally, for example:

         pmieconf&gt; modify global delta "5 minutes"
         pmieconf&gt; modify memory delta "1 minute"

       causes all rules to now be evaluated once every five minutes, except for  rules  in  the  "memory"  group
       which are to be evaluated once per minute.

       The  ``.''  character  is  special  to  <b>pmieconf</b>  - it refers to the last successfully used value of <b>all</b>,
       <b>global</b>, <b>&lt;rule&gt;</b> or <b>&lt;group&gt;</b>.

</pre><h4><b>EXAMPLES</b></h4><pre>
       Specify that all of the rules in the "memory" group should be evaluated:

         pmieconf&gt; modify memory enabled yes

       Change your mind, and revert to using only the "memory" rules which were enabled by default:

         pmieconf&gt; undo memory enabled

       Specify that notification of rules which evaluate to true should be sent to <b><a href="../man1/syslogd.1.html">syslogd</a></b>(1):

         pmieconf&gt; modify global syslog_action yes

       Specify that rules in the "per_cpu" group should use a different holdoff value to other rules:

         pmieconf&gt; help global holdoff
           rule: global  [generic parameters applied to all rules]
            var: holdoff
           help: Once the predicate is true and the action is executed,
              this variable allows suppression of further action
              execution until the specified interval has elapsed.
              A value of zero enables execution of the action if
              the rule predicate is true at the next sample. Default
              units are seconds and common units are "second", "sec",
              "minute", "min" and "hour".

         pmieconf&gt; modify per_cpu holdoff "1 hour"

       Lower the threshold associated with a particular variable for a specified rule:

         pmieconf&gt; l cpu.syscall predicate
           rule: cpu.syscall  [High aggregate system call rate]
             predicate =
                  some_host (
                   ( kernel.all.syscall $hosts$ )
                     &gt; $threshold$ count/sec * hinv.ncpu $hosts$
                  )

         pmieconf&gt; m . threshold 7000

         pmieconf&gt; l . threshold
           rule: cpu.syscall  [High aggregate system call rate]
                threshold = 7000

</pre><h4><b>FILES</b></h4><pre>
       <u>$PCP_VAR_DIR/config/pmieconf/*/*</u>
            generalized system resource monitoring rules

       <u>$PCP_SYSCONF_DIR/pmie/config.pmie</u>
            default super-user settings for system resource monitoring rules

       <u>$HOME/.pcp/pmie/config.pmie</u>
            default user settings for system resource monitoring rules

</pre><h4><b>ENVIRONMENT</b></h4><pre>
       The environment variable <b>PMIECONF_PATH</b> has a similar function to the <b>-r</b> option described  above,  and  if
       set will be used provided no <b>-r</b> option is presented.

</pre><h4><b>PCP</b> <b>ENVIRONMENT</b></h4><pre>
       Environment  variables with the prefix <b>PCP_</b> are used to parameterize the file and directory names used by
       PCP.  On each installation, the file <u>/etc/pcp.conf</u> contains the local values for  these  variables.   The
       <b>$PCP_CONF</b> variable may be used to specify an alternative configuration file, as described in <b><a href="../man5/pcp.conf.5.html">pcp.conf</a></b>(5).

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man1/PCPIntro.1.html">PCPIntro</a></b>(1), <b><a href="../man1/pmie.1.html">pmie</a></b>(1), <b><a href="../man1/pmie_check.1.html">pmie_check</a></b>(1) and <b><a href="../man5/pmieconf.5.html">pmieconf</a></b>(5).

Performance Co-Pilot                                   PCP                                           <u><a href="../man1/PMIECONF.1.html">PMIECONF</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>