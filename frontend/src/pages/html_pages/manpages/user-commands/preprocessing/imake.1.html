<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>imake - C preprocessor interface to the make utility</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/xutils-dev">xutils-dev_7.7+7_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       imake - C preprocessor interface to the make utility

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>imake</b>  [ <b>-D</b><u>define</u> ] [ <b>-I</b><u>dir</u> ] [ <b>-U</b><u>define</u> ] [ <b>-T</b><u>template</u> ] [ <b>-f</b> <u>filename</u> ] [ <b>-C</b> <u>filename</u> ] [ <b>-s</b> <u>filename</u> ]
       [ <b>-e</b> ] [ <b>-v</b> ]

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <u>Imake</u> is used to generate <u>Makefiles</u> from a template, a set of <u>cpp</u> macro functions,  and  a  per-directory
       input  file  called  an <u>Imakefile</u>.  This allows machine dependencies (such as compiler options, alternate
       command names, and special <u>make</u> rules) to be kept separate from the descriptions of the various items  to
       be built.

</pre><h4><b>OPTIONS</b></h4><pre>
       The following command line options may be passed to <u>imake</u>:

       <b>-D</b><u>define</u>
               This option is passed directly to <u>cpp</u>.  It is typically used to set directory-specific variables.
               For  example,  the  X  Window  System  used  this flag to set <u>TOPDIR</u> to the name of the directory
               containing the top of the core distribution and <u>CURDIR</u> to the  name  of  the  current  directory,
               relative to the top.

       <b>-I</b><u>directory</u>
               This  option  is passed directly to <u>cpp</u>.  It is typically used to indicate the directory in which
               the <u>imake</u> template and configuration files may be found.

       <b>-U</b><u>define</u>
               This option is passed directly to <u>cpp</u>.  It is typically used to unset  variables  when  debugging
               <u>imake</u> configuration files.

       <b>-T</b><u>template</u>
               This  option  specifies  the  name  of  the master template file (which is usually located in the
               directory specified with <u>-I</u>) used by <u>cpp</u>.  The default is <u>Imake.tmpl</u>.

       <b>-f</b> <u>filename</u>
               This option specifies the name of the per-directory input file.  The default is <u>Imakefile</u>.

       <b>-C</b> <u>filename</u>
               This option specifies the name of the .c file that is constructed in the current directory.   The
               default is <u>Imakefile.c</u>.

       <b>-s</b> <u>filename</u>
               This  option  specifies the name of the <u>make</u> description file to be generated but <u>make</u> should not
               be invoked.  If the <u>filename</u> is a dash (-), the output is written to <u>stdout</u>.  The default  is  to
               generate, but not execute, a <u>Makefile</u>.

       <b>-e</b>      This  option  indicates the <u>imake</u> should execute the generated <u>Makefile</u>.  The default is to leave
               this to the user.

       <b>-v</b>      This option indicates that <u>imake</u> should print the <u>cpp</u> command line that it is using  to  generate
               the <u>Makefile</u>.

</pre><h4><b>HOW</b> <b>IT</b> <b>WORKS</b></h4><pre>
       <u>Imake</u>  invokes  <u>cpp</u>  with  any  <u>-I</u>  or  <u>-D</u> flags passed on the command line and passes the name of a file
       containing the following 3 lines:

                 #define IMAKE_TEMPLATE "Imake.tmpl"
                 #define INCLUDE_IMAKEFILE &lt;Imakefile&gt;
                 #include IMAKE_TEMPLATE

       where <u>Imake.tmpl</u> and <u>Imakefile</u> may be overridden by the <u>-T</u> and <u>-f</u> command options, respectively.

       The IMAKE_TEMPLATE typically reads in a file containing machine-dependent parameters  (specified  as  <u>cpp</u>
       symbols),  a  site-specific  parameters  file,  a  file  defining  variables, a file containing <u>cpp</u> macro
       functions for generating <u>make</u> rules, and finally the <u>Imakefile</u> (specified by  INCLUDE_IMAKEFILE)  in  the
       current  directory.   The  <u>Imakefile</u>  uses  the macro functions to indicate what targets should be built;
       <u>imake</u> takes care of generating the appropriate rules.

       <u>Imake</u> configuration files contain two types of variables, imake variables and make variables.  The  imake
       variables  are  interpreted  by  cpp  when  <u>imake</u>  is  run.  By convention they are mixed case.  The make
       variables are written into the <u>Makefile</u> for later interpretation by <u>make.</u>  By convention  make  variables
       are upper case.

       The rules file (usually named <u>Imake.rules</u> in the configuration directory) contains a variety of <u>cpp</u> macro
       functions  that  are configured according to the current platform.  <u>Imake</u> replaces any occurrences of the
       string ``@@'' with a newline to allow macros that generate  more  than  one  line  of  <u>make</u>  rules.   For
       example, the macro

        #define      program_target(program, objlist)        @@\
       program:        objlist         @@\
               $(CC)  -o  $@  objlist  $(LDFLAGS)

       when called with <u>program_target(foo,</u> <u>foo1.o</u>  <u>foo2.o)</u> will expand to

       foo:    foo1.o  foo2.o
               $(CC)  -o  $@  foo1.o  foo2.o  $(LDFLAGS)

       <u>Imake</u>  also  replaces  any  occurrences  of the word ``XCOMM'' with the character ``#'' to permit placing
       comments in the Makefile without causing ``invalid directive'' errors from the preprocessor.

       Some complex <u>imake</u> macros require generated <u>make</u> variables local to each invocation of the  macro,  often
       because their value depends on parameters passed to the macro.  Such variables can be created by using an
       <u>imake</u>  variable  of  the  form  <b>XVARdef</b><u>n</u>,  where  <u>n</u>  is  a  single digit.  A unique <u>make</u> variable will be
       substituted.  Later occurrences of the variable <b>XVARuse</b><u>n</u> will be replaced by the variable created by  the
       corresponding <b>XVARdef</b><u>n</u>.

       On  systems  whose <u>cpp</u> reduces multiple tabs and spaces to a single space, <u>imake</u> attempts to put back any
       necessary tabs (<u>make</u> is very picky about the difference between  tabs  and  spaces).   For  this  reason,
       colons (:) in command lines must be preceded by a backslash (\).

</pre><h4><b>USE</b> <b>WITH</b> <b>THE</b> <b>X</b> <b>WINDOW</b> <b>SYSTEM</b></h4><pre>
       The  X  Window  System used <u>imake</u> extensively up through the X11R6.9 release, for both full builds within
       the source tree and external software.  X has since moved to GNU autoconf  and  automake  for  its  build
       system  in  X11R7.0 and later releases, but still maintains imake for building existing external software
       programs that have not yet converted.

       As mentioned above, two special variables, <u>TOPDIR</u> and <u>CURDIR,</u> are set to  make  referencing  files  using
       relative  path  names easier.  For example, the following command is generated automatically to build the
       <u>Makefile</u> in the directory <u>lib/X/</u> (relative to the top of the sources):

            %  ../.././config/imake  -I../.././config  \
                 -DTOPDIR=..<a href="file:/../.">/../.</a>   -DCURDIR=./lib/X
       When building X programs outside the source tree, a special symbol <u>UseInstalled</u> is defined and <u>TOPDIR</u> and
       <u>CURDIR</u> are omitted.  If the configuration files have been properly installed, the script <u><a href="../man1/xmkmf.1.html">xmkmf</a></u>(1) may  be
       used.

</pre><h4><b>INPUT</b> <b>FILES</b></h4><pre>
       Here is a summary of the files read by <u>imake</u> as used by X.  The indentation shows what files include what
       other files.
           Imake.tmpl  generic variables
               site.def        site-specific, BeforeVendorCF defined
               *.cf    machine-specific
                   *Lib.rules  shared library rules
               site.def        site-specific, AfterVendorCF defined
               Imake.rules     rules
               Project.tmpl    X-specific variables
                   *Lib.tmpl   shared library variables
               Imakefile
                   Library.tmpl        library rules
                   Server.tmpl server rules
                   Threads.tmpl        multi-threaded rules

       Note  that  <u>site.def</u>  gets  included twice, once before the <u>*.cf</u> file and once after.  Although most site
       customizations should be specified after the <u>*.cf</u> file, some, such as the choice of compiler, need to  be
       specified before, because other variable settings may depend on them.

       The  first  time  <u>site.def</u>  is included, the variable BeforeVendorCF is defined, and the second time, the
       variable AfterVendorCF is defined.  All code in <u>site.def</u> should be inside an  #ifdef  for  one  of  these
       symbols.

</pre><h4><b>FILES</b></h4><pre>
       Imakefile.c
              temporary input file for cpp

       /tmp/Imf.XXXXXX
              temporary Makefile for -s

       /tmp/IIf.XXXXXX
              temporary Imakefile if specified Imakefile uses # comments

       /usr/bin/cpp
              default C preprocessor

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <a href="../man1/make.1.html">make</a>(1), <a href="../man1/xmkmf.1.html">xmkmf</a>(1)

       Paul DuBois
              imake-Related Software and Documentation, <a href="http://www.snake.net/software/imake-stuff/">http://www.snake.net/software/imake-stuff/</a>

       Paul DuBois
              Software Portability with imake, Second Edition, O'Reilly &amp; Associates, 1996.

       S. I. Feldman,
              Make — A Program for Maintaining Computer Programs

</pre><h4><b>ENVIRONMENT</b> <b>VARIABLES</b></h4><pre>
       The  following  environment  variables may be set, however their use is not recommended as they introduce
       dependencies that are not readily apparent when <u>imake</u> is run:

       <b>IMAKEINCLUDE</b>
            If defined, this specifies a  ``-I''  include  argument  to  pass  to  the  C  preprocessor.   E.g.,
            ``-I/usr/X11/config''.

       <b>IMAKECPP</b>
            If  defined,  this  should be a valid path to a preprocessor program.  E.g., ``/usr/local/cpp''.  By
            default, <u>imake</u> will use cc -E or /usr/bin/cpp, depending on the OS specific configuration.

       <b>IMAKEMAKE</b>
            If defined, this should be a valid path to a make program, such as ``/usr/local/make''.  By default,
            <u>imake</u> will use whatever <u>make</u> program is found using <u><a href="../man3/execvp.3.html">execvp</a>(3).</u>  This variable is only  used  if  the
            ``-e'' option is specified.

</pre><h4><b>AUTHOR</b></h4><pre>
       Todd Brunhoff, Tektronix and MIT Project Athena; Jim Fulton, MIT X Consortium

X Version 11                                      imake 1.0.10                                          <u><a href="../man1/IMAKE.1.html">IMAKE</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>