<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>imap-dl -- fetch messages from an IMAP inbox into a maildir</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/mailscripts">mailscripts_30-2_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       imap-dl -- fetch messages from an IMAP inbox into a maildir

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>imap-dl</b> [<b>-v</b>|<b>--verbose</b>] <b>configfile</b>...

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>imap-dl</b> tries to retrieve all messages from an IMAP inbox and put them in a maildir.

       If you use getmail to reach an IMAP server as though it were POP (retrieving from the server, storing it
       in a maildir and optionally deleting), you can point this script to the getmail configfile and it should
       do the same thing.  While the minimal configuration file matches the syntax for common getmail
       configurations, some other options might be specific to <b>imap-dl</b>.

       <b>imap-dl</b> tries to ensure that the configuration file is of the expected type, and otherwise it will
       terminate with an error.  It should never lose e-mail messages.

       If there's any interest in supporting other similarly simple use cases for fetching messages from an IMAP
       account into a maildir, patches are welcome.

</pre><h4><b>OPTIONS</b></h4><pre>
       <b>-v</b> or <b>--verbose</b> causes <b>imap-dl</b> to print more details about what it is doing.

</pre><h4><b>CONFIGFILE</b> <b>OPTIONS</b></h4><pre>
       <b>imap-dl</b> uses an ini-style configfile, with [Sections] which each have keyword arguments within them.  We
       use the syntax <b>foo.bar</b> here to mean keyword <b>bar</b> in section <b>foo</b>.  <b>imap-dl</b> inherits some basic
       configuration options from <b>getmail</b>, including the following options:

       <b>retriever.server</b> is the dns name of the mailserver.

       <b>retriever.authentication</b> is either "basic" (the default, using the IMAP LOGIN verb) or "gssapi" (IMAP
       AUTHENTICATE with GSSAPI, requires the python3-gssapi module). "kerberos" is an alias for "gssapi".

       <b>retriever.username</b> is the username of the IMAP account.

       <b>retriever.password</b> is the password for the IMAP account when <b>retriever.authentication</b> is set to "basic".

       <b>retriever.ssl_ciphers</b> is an OpenSSL cipher string to use instead of the defaults.  (The defaults are
       good; this should be avoided except to work around bugs.)

       <b>destination.path</b> is the location of the target maildir.

       <b>options.delete</b> is a boolean, whether to delete the messages that were successfully retreived (default:
       false).

       In addition to parts of the standard <b>getmail</b> configuration, <b>imap-dl</b> supports the following keywords in
       the configfile:

       <b>options.on_size_mismatch</b> can be set to <b>error</b>, <b>none</b>, or <b>warn</b>.  This governs what to do when the remote
       IMAP server claims a different size in the message summary list than the actual message retrieval
       (default: <b>error</b>).

</pre><h4><b>EXAMPLE</b> <b>CONFIGFILE</b></h4><pre>
       This configfile fetches all the mail from the given IMAP account's inbox, and deletes the messages when
       they are successfully fetched:

           [retriever]
           server = mail.example.net
           username = foo
           password = sekr1t!

           [destination]
           path = /home/foo/Maildir

           [options]
           delete = True

</pre><h4><b>LIMITATIONS</b></h4><pre>
       <b>imap-dl</b> is currently deliberately minimal.  It is designed to be used by someone who treats their IMAP
       mailbox like a POP server.

       It works with IMAP-over-TLS only, and it just fetches all messages from the default IMAP folder.  It does
       not support all the various features of getmail.

       <b>imap-dl</b> is deliberately implemented in a modern version of python3, and tries to use just the standard
       library.  It will not be backported to python2.

       <b>imap-dl</b> uses imaplib, which means that it does synchronous calls to the imap server.  A more clever
       implementation would use asynchronous python to avoid latency/roundtrips.

       <b>imap-dl</b> does not know how to wait and listen for new mail using IMAP IDLE.  This would be a nice
       additional feature.

       <b>imap-dl</b> does not yet know how to deliver to an MDA (or to <b>notmuch-insert</b>).  This would be a nice thing to
       be able to do.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       https://tools.ietf.org/html/rfc3501, <a href="http://pyropus.ca/software/getmail/">http://pyropus.ca/software/getmail/</a>

</pre><h4><b>AUTHOR</b></h4><pre>
       <b>imap-dl</b> and this manpage were written by Daniel Kahn Gillmor, inspired by some functionality from the
       getmail project.

perl v5.40.1                                     Debian Project                                       <u><a href="../man1/imap-dl.1.html">imap-dl</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>