<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>update-alternatives - maintain symbolic links determining default commands</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/dpkg">dpkg_1.22.18ubuntu2_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       update-alternatives - maintain symbolic links determining default commands

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>update-alternatives</b> [<u>option</u>...] <u>command</u>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>update-alternatives</b> creates, removes, maintains and displays information about the symbolic links
       comprising the alternatives system.

       It is possible for several programs fulfilling the same or similar functions to be installed on a single
       system at the same time.  For example, many systems have several text editors installed at once.  This
       gives choice to the users of a system, allowing each to use a different editor, if desired, but makes it
       difficult for a program to make a good choice for an editor to invoke if the user has not specified a
       particular preference.

       The alternatives system aims to solve this problem.  A generic name in the filesystem is shared by all
       files providing interchangeable functionality.  The alternatives system and the system administrator
       together determine which actual file is referenced by this generic name.  For example, if the text
       editors <b><a href="../man1/ed.1.html">ed</a></b>(1) and <b><a href="../man1/nvi.1.html">nvi</a></b>(1) are both installed on the system, the alternatives system will cause the generic
       name <u><a href="file:///usr/lib/w3m/cgi-bin/w3mman2html.cgi?editor">/usr/bin/editor</a></u> to refer to <u>/usr/bin/nvi</u> by default.  The system administrator can override this and
       cause it to refer to <u><a href="file:///usr/lib/w3m/cgi-bin/w3mman2html.cgi?ed">/usr/bin/ed</a></u> instead, and the alternatives system will not alter this setting until
       explicitly requested to do so.

       The generic name is not a direct symbolic link to the selected alternative.  Instead, it is a symbolic
       link to a name in the <u>alternatives</u> <u>directory</u>, which in turn is a symbolic link to the actual file
       referenced.  This is done so that the system administrator's changes can be confined within the <u><a href="file:/etc">/etc</a></u>
       directory: the FHS (q.v.) gives reasons why this is a Good Thing.

       When each package providing a file with a particular functionality is installed, changed or removed,
       <b>update-alternatives</b> is called to update information about that file in the alternatives system.  <b>update-</b>
       <b>alternatives</b> is usually called from the following Debian package maintainer scripts, <b>postinst</b> (configure)
       to install the alternative and from <b>prerm</b> and <b>postrm</b> (remove) to remove the alternative.  <b>Note</b>: In most
       (if not all) cases no other maintainer script actions should call <b>update-alternatives</b>, in particular
       neither of <b>upgrade</b> nor <b>disappear</b>, as any other such action can lose the manual state of an alternative,
       or make the alternative temporarily flip-flop, or completely switch when several of them have the same
       priority.

       It is often useful for a number of alternatives to be synchronized, so that they are changed as a group;
       for example, when several versions of the <b><a href="../man1/vi.1.html">vi</a></b>(1) editor are installed, the manual page referenced by
       <u>/usr/share/man/man1/vi.1</u> should correspond to the executable referenced by <u><a href="file:///usr/lib/w3m/cgi-bin/w3mman2html.cgi?vi">/usr/bin/vi</a></u>.  <b>update-</b>
       <b>alternatives</b> handles this by means of <u>master</u> and <u>slave</u> links; when the master is changed, any associated
       slaves are changed too.  A master link and its associated slaves make up a <u>link</u> <u>group</u>.

       Each link group is, at any given time, in one of two modes: automatic or manual.  When a group is in
       automatic mode, the alternatives system will automatically decide, as packages are installed and removed,
       whether and how to update the links.  In manual mode, the alternatives system will retain the choice of
       the administrator and avoid changing the links (except when something is broken).

       Link groups are in automatic mode when they are first introduced to the system.  If the system
       administrator makes changes to the system's automatic settings, this will be noticed the next time
       <b>update-alternatives</b> is run on the changed link's group, and the group will automatically be switched to
       manual mode.

       Each alternative has a <u>priority</u> associated with it.  When a link group is in automatic mode, the
       alternatives pointed to by members of the group will be those which have the highest priority.

       When using the <b>--config</b> option, <b>update-alternatives</b> will list all of the choices for the link group of
       which given <u>name</u> is the master alternative name.  The current choice is marked with a ‘*’.  You will then
       be prompted for your choice regarding this link group.  Depending on the choice made, the link group
       might no longer be in <u>auto</u> mode.  You will need to use the <b>--auto</b> option in order to return to the
       automatic mode (or you can rerun <b>--config</b> and select the entry marked as automatic).

       If you want to configure non-interactively you can use the <b>--set</b> option instead (see below).

       Different packages providing the same file need to do so <b>cooperatively</b>.  In other words, the usage of
       <b>update-alternatives</b> is <b>mandatory</b> for all involved packages in such case.  It is not possible to override
       some file in a package that does not employ the <b>update-alternatives</b> mechanism.

</pre><h4><b>TERMINOLOGY</b></h4><pre>
       Since the activities of <b>update-alternatives</b> are quite involved, some specific terms will help to explain
       its operation.

       generic name (or alternative link)
           A  name, like <u><a href="file:///usr/lib/w3m/cgi-bin/w3mman2html.cgi?editor">/usr/bin/editor</a></u>, which refers, via the alternatives system, to one of a number of files
           of similar function.

       alternative name
           The name of a symbolic link in the alternatives directory.

       alternative (or alternative path)
           The name of a specific file in the filesystem, which may be made accessible via a generic name  using
           the alternatives system.

       alternatives directory
           A directory, by default <u><a href="file:/etc/alternatives">/etc/alternatives</a></u>, containing the symlinks.

       administrative directory
           A   directory,   by   default   <u><a href="file:/var/lib/dpkg/alternatives">/var/lib/dpkg/alternatives</a></u>,   containing  <b>update-alternatives</b>'  state
           information.

       link group
           A set of related symlinks, intended to be updated as a group.

       master link
           The alternative link in a link  group  which  determines  how  the  other  links  in  the  group  are
           configured.

       slave link
           An alternative link in a link group which is controlled by the setting of the master link.

       automatic mode
           When  a  link group is in automatic mode, the alternatives system ensures that the links in the group
           point to the highest priority alternative appropriate for the group.

       manual mode
           When a link group is in manual mode, the alternatives system will not make any changes to the  system
           administrator's settings.

</pre><h4><b>COMMANDS</b></h4><pre>
       <b>--install</b> <u>link</u> <u>name</u> <u>path</u> <u>priority</u> [<b>--slave</b> <u>link</u> <u>name</u> <u>path</u>]...
           Add a group of alternatives to the system.  <u>link</u> is the generic name for the master link, <u>name</u> is the
           name  of  its symlink in the alternatives directory, and <u>path</u> is the alternative being introduced for
           the master link.  The arguments after <b>--slave</b> are the generic name, symlink name in the  alternatives
           directory  and the alternative path for a slave link.  Zero or more <b>--slave</b> options, each followed by
           three arguments, may be specified.  Note that the master alternative must  exist  or  the  call  will
           fail.   However  if  a slave alternative doesn't exist, the corresponding slave alternative link will
           simply not be installed (a warning will still be displayed).  If some real file is installed where an
           alternative link has to be installed, it is kept unless <b>--force</b> is used.

           If the  alternative  name  specified  exists  already  in  the  alternatives  system's  records,  the
           information  supplied  will  be  added  as a new set of alternatives for the group.  Otherwise, a new
           group, set to automatic mode, will be added with this information.  If  the  group  is  in  automatic
           mode,  and the newly added alternatives' priority is higher than any other installed alternatives for
           this group, the symlinks will be updated to point to the newly added alternatives.

       <b>--set</b> <u>name</u> <u>path</u>
           Set the program <u>path</u> as alternative for <u>name</u>.  This is equivalent to <b>--config</b> but is  non-interactive
           and thus scriptable.

       <b>--remove</b> <u>name</u> <u>path</u>
           Remove  an  alternative  and  all  of its associated slave links.  <u>name</u> is a name in the alternatives
           directory, and <u>path</u> is an absolute filename to which <u>name</u> could be linked.  If <u>name</u> is indeed  linked
           to  <u>path</u>, <u>name</u> will be updated to point to another appropriate alternative (and the group is put back
           in automatic mode), or removed if there is no such alternative left.  Associated slave links will  be
           updated  or  removed,  correspondingly.   If the link is not currently pointing to <u>path</u>, no links are
           changed; only the information about the alternative is removed.

       <b>--remove-all</b> <u>name</u>
           Remove all alternatives and all of their associated slave links.  <u>name</u> is a name in the  alternatives
           directory.

       <b>--all</b>
           Call  <b>--config</b>  on  all  alternatives.   It  can  be usefully combined with <b>--skip-auto</b> to review and
           configure all alternatives which are not configured in automatic mode.  Broken alternatives are  also
           displayed.   Thus a simple way to fix all broken alternatives is to call <b>yes</b> <b>''</b> <b>|</b> <b>update-alternatives</b>
           <b>--force</b> <b>--all</b>.

       <b>--auto</b> <u>name</u>
           Switch the link group behind the alternative for <u>name</u> to automatic mode.  In the process, the  master
           symlink and its slaves are updated to point to the highest priority installed alternatives.

       <b>--display</b> <u>name</u>
           Display  information  about the link group.  Information displayed includes the group's mode (auto or
           manual), the master and slave links, which alternative the master  link  currently  points  to,  what
           other  alternatives  are  available  (and  their  corresponding  slave alternatives), and the highest
           priority alternative currently installed.

       <b>--get-selections</b>
           List all master alternative names (those controlling a link group) and their  status  (since  version
           1.15.0).   Each  line  contains up to 3 fields (separated by one or more spaces).  The first field is
           the alternative name, the second one is the status (either <b>auto</b> or <b>manual</b>), and the last one contains
           the current choice in the alternative (beware: it's a filename and thus might contain spaces).

       <b>--set-selections</b>
           Read configuration of alternatives on standard input in the format generated by <b>--get-selections</b>  and
           reconfigure them accordingly (since version 1.15.0).

       <b>--query</b> <u>name</u>
           Display  information  about the link group like <b>--display</b> does, but in a machine parseable way (since
           version 1.15.0, see section "QUERY FORMAT" below).

       <b>--list</b> <u>name</u>
           Display all targets of the link group.

       <b>--config</b> <u>name</u>
           Show available alternatives for a link group and allow the user to interactively select which one  to
           use.  The link group is updated.

       <b>--help</b>
           Show the usage message and exit.

       <b>--version</b>
           Show the version and exit.

</pre><h4><b>OPTIONS</b></h4><pre>
       <b>--altdir</b> <u>directory</u>
           Specifies  the  alternatives  directory,  when this is to be different from the default.  Defaults to
           «<u><a href="file:/etc/alternatives">/etc/alternatives</a></u>».

       <b>--admindir</b> <u>directory</u>
           Specifies the administrative directory, when this is to be different from the default.   Defaults  to
           «<u><a href="file:/var/lib/dpkg/alternatives">/var/lib/dpkg/alternatives</a></u>» if <b>DPKG_ADMINDIR</b> has not been set.

       <b>--instdir</b> <u>directory</u>
           Specifies the installation directory where alternatives links will be created (since version 1.20.1).
           Defaults to «<u>/</u>» if <b>DPKG_ROOT</b> has not been set.

       <b>--root</b> <u>directory</u>
           Specifies  the  root directory (since version 1.20.1).  This also sets the alternatives, installation
           and administrative directories to match.  Defaults to «<u>/</u>» if <b>DPKG_ROOT</b> has not been set.

       <b>--log</b> <u>file</u>
           Specifies the log file (since version 1.15.0),  when  this  is  to  be  different  from  the  default
           (<a href="file:/var/log/alternatives.log">/var/log/alternatives.log</a>).

       <b>--force</b>
           Allow  replacing  or  dropping  any  real  file that is installed where an alternative link has to be
           installed or removed.

       <b>--skip-auto</b>
           Skip configuration prompt for alternatives which are properly configured  in  automatic  mode.   This
           option is only relevant with <b>--config</b> or <b>--all</b>.

       <b>--quiet</b>
           Do not generate any comments unless errors occur.

       <b>--verbose</b>
           Generate more comments about what is being done.

       <b>--debug</b>
           Generate even more comments, helpful for debugging, about what is being done (since version 1.19.3).

</pre><h4><b>EXIT</b> <b>STATUS</b></h4><pre>
       <b>0</b>   The requested action was successfully performed.

       <b>2</b>   Problems were encountered whilst parsing the command line or performing the action.

</pre><h4><b>ENVIRONMENT</b></h4><pre>
       <b>DPKG_ROOT</b>
           If set and the <b>--instdir</b> or <b>--root</b> options have not been specified, it will be used as the filesystem
           root directory.

       <b>DPKG_ADMINDIR</b>
           If  set  and the <b>--admindir</b> option has not been specified, it will be used as the base administrative
           directory.

</pre><h4><b>FILES</b></h4><pre>
       <u><a href="file:/etc/alternatives/">/etc/alternatives/</a></u>
           The default alternatives directory.  Can be overridden by the <b>--altdir</b> option.

       <u><a href="file:/var/lib/dpkg/alternatives/">/var/lib/dpkg/alternatives/</a></u>
           The default administration directory.  Can be overridden by the <b>--admindir</b> option.

</pre><h4><b>QUERY</b> <b>FORMAT</b></h4><pre>
       The <b>--query</b> format is using an RFC822-like flat format.  It's made of <u>n</u> + 1 stanzas where <u>n</u> is the number
       of alternatives available in the queried link group.  The first stanza contains the following fields:

       <b>Name:</b> <u>name</u>
           The alternative name in the alternative directory.

       <b>Link:</b> <u>link</u>
           The generic name of the alternative.

       <b>Slaves:</b> <u>list-of-slaves</u>
           When this field is present, the <b>next</b> lines hold all slave links associated to the master link of  the
           alternative.   There  is  one  slave per line.  Each line contains one space, the generic name of the
           slave alternative, another space, and the path to the slave link.

       <b>Status:</b> <u>status</u>
           The status of the alternative (<b>auto</b> or <b>manual</b>).

       <b>Best:</b> <u>best-choice</u>
           The path of the best alternative for this link group.   Not  present  if  there  is  no  alternatives
           available.

       <b>Value:</b> <u>currently-selected-alternative</u>
           The  path  of the currently selected alternative.  It can also take the magic value <b>none</b>.  It is used
           if the link doesn't exist.

       The other stanzas describe the available alternatives in the queried link group:

       <b>Alternative:</b> <u>path-of-this-alternative</u>
           Path to this stanza's alternative.

       <b>Priority:</b> <u>priority-value</u>
           Value of the priority of this alternative.

       <b>Slaves:</b> <u>list-of-slaves</u>
           When this field is present, the <b>next</b> lines hold all slave alternatives associated to the master  link
           of  the alternative.  There is one slave per line.  Each line contains one space, the generic name of
           the slave alternative, another space, and the path to the slave alternative.

   <b>Example</b>
        $ update-alternatives --query editor
        Name: editor
        Link: <a href="file:///usr/lib/w3m/cgi-bin/w3mman2html.cgi?editor">/usr/bin/editor</a>
        Slaves:
         editor.1.gz <a href="file:/usr/share/man/man1/editor.1.gz">/usr/share/man/man1/editor.1.gz</a>
         editor.fr.1.gz /usr/share/man/fr/man1/editor.1.gz
         editor.it.1.gz /usr/share/man/it/man1/editor.1.gz
         editor.pl.1.gz /usr/share/man/pl/man1/editor.1.gz
         editor.ru.1.gz /usr/share/man/ru/man1/editor.1.gz
        Status: auto
        Best: <a href="file:///usr/lib/w3m/cgi-bin/w3mman2html.cgi?vim.basic">/usr/bin/vim.basic</a>
        Value: <a href="file:///usr/lib/w3m/cgi-bin/w3mman2html.cgi?vim.basic">/usr/bin/vim.basic</a>

        Alternative: <a href="file:/bin/ed">/bin/ed</a>
        Priority: -100
        Slaves:
         editor.1.gz <a href="file:/usr/share/man/man1/ed.1.gz">/usr/share/man/man1/ed.1.gz</a>

        Alternative: <a href="file:///usr/lib/w3m/cgi-bin/w3mman2html.cgi?vim.basic">/usr/bin/vim.basic</a>
        Priority: 50
        Slaves:
         editor.1.gz <a href="file:/usr/share/man/man1/vim.1.gz">/usr/share/man/man1/vim.1.gz</a>
         editor.fr.1.gz <a href="file:/usr/share/man/fr/man1/vim.1.gz">/usr/share/man/fr/man1/vim.1.gz</a>
         editor.it.1.gz <a href="file:/usr/share/man/it/man1/vim.1.gz">/usr/share/man/it/man1/vim.1.gz</a>
         editor.pl.1.gz <a href="file:/usr/share/man/pl/man1/vim.1.gz">/usr/share/man/pl/man1/vim.1.gz</a>
         editor.ru.1.gz <a href="file:/usr/share/man/ru/man1/vim.1.gz">/usr/share/man/ru/man1/vim.1.gz</a>

</pre><h4><b>DIAGNOSTICS</b></h4><pre>
       With <b>--verbose</b> <b>update-alternatives</b> chatters incessantly about  its  activities  on  its  standard  output
       channel.  If problems occur, <b>update-alternatives</b> outputs error messages on its standard error channel and
       returns  an  exit status of 2.  These diagnostics should be self-explanatory; if you do not find them so,
       please report this as a bug.

</pre><h4><b>EXAMPLES</b></h4><pre>
       There are several packages which provide a text editor compatible with  <b>vi</b>,  for  example  <b>nvi</b>  and  <b>vim</b>.
       Which one is used is controlled by the link group <b>vi</b>, which includes links for the program itself and the
       associated manual page.

       To  display  the  available  packages  which provide <b>vi</b> and the current setting for it, use the <b>--display</b>
       action:

        update-alternatives --display vi

       To choose a particular <b>vi</b> implementation, use this command as root and then  select  a  number  from  the
       list:

        update-alternatives --config vi

       To go back to having the <b>vi</b> implementation chosen automatically, do this as root:

        update-alternatives --auto vi

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man1/ln.1.html">ln</a></b>(1), FHS (the Filesystem Hierarchy Standard).

1.22.18                                            2025-03-20                             <u><a href="../man1/update-alternatives.1.html">update-alternatives</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>