<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>rarun2 — radare2 utility to run programs in exotic environments</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/radare2">radare2_5.9.8+dfsg-2_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       rarun2 — radare2 utility to run programs in exotic environments

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>rarun2</b> [[directives]] [[script.rr2]] [[--] [program] [args]]

</pre><h4><b>DESCRIPTION</b></h4><pre>
       This  program  is  used  as  a  launcher  for  running  programs  with  different environment, arguments,
       permissions, directories and overridden default file descriptors.

       rarun2 -t will show the terminal name and  wait  for  a  connection  from  another  process.  try  rarun2
       stdio=&lt;ttypath&gt; program=<a href="file:/bin/sh">/bin/sh</a>

       The  program  just  accepts  a single argument which is the filename of the configuration file to run the
       program.

       It is useful when you have to run a program using long arguments or pass long data  to  stdin  or  things
       like that usually are required for exploiting crackmes :)

</pre><h4><b>DIRECTIVES</b></h4><pre>
       The  rr2 (rarun2) configuration file accepts the following directives, described as key=value entries and
       comments defined as lines starting with '#'.

       <u>arg[0-N]</u>    set value for argument N passed to the program

       <u>aslr</u>        enable or disable ASLR

       <u>bits</u>        set 32 or 64 bit (if the architecture supports it)

       <u>chdir</u>       change directory before executing the program

       <u>chroot</u>      run the program in chroot. requires some previous setup

       <u>clearenv</u>    unset the whole environment

       <u>core</u>        set no limit the core file size

       <u>times</u>       boolean value (true|false) to print runtime in milliseconds to stderr after program execution

       <u>connect</u>     connect stdin/stdout/stderr to a socket

       <u>pty</u>         use a pty for connection over socket (with connect/listen)

       <u>envfile</u>     set a file with lines like `var=value` to be used as env

       <u>fork</u>        used with the listen option, allow to spawn a different process for each connection.  Ignored
                   when debugging.

       <u>input</u>       set string to be passed to the program via stdin

       <u>libpath</u>     override path where the dynamic loader will look for shared libraries

       <u>listen</u>      bound stdin/stdout/stderr to a listening socket

       <u>maxstack</u>    set the maximum size for the stack

       <u>maxproc</u>     set the maximum number of processes

       <u>maxfd</u>       set the maximum number of file descriptors

       <u>nice</u>        set the niceness level of the process

       <u>preload</u>     preload a library (not supported on Windows, only linux,osx,bsd)

       <u>daemon</u>      Set  to  false by default, otherwise it will run the program in background, detached from the
                   terminal.

       <u>program</u>     path to program to be executed

       <u>execve</u>      use execve instead of posix_spawn (osx tricks)

       <u>runlib</u>      path to the library to be executed

       <u>runlib.fcn</u>  function name to call from runlib library

       <u>r2preload</u>   preload with libr2, kill -USR1 to get an r2 shell or -USR2 to spawn a webserver in a thread

       <u>r2preweb</u>    run the webserver in a thread just at starting the r2preload

       <u>setenv</u>      set value for given environment variable

       <u>setegid</u>     set effective process group id

       <u>seteuid</u>     set effective process uid

       <u>setgid</u>      set process group id

       <u>stderrout</u> <u>true|false</u>
                   Redirect stderr filedescriptor to stdout

       <u>setuid</u>      set process uid

       <u>sleep</u>       sleep for the given amount of seconds

       <u>stdin</u>       select file to read data from stdin

       <u>stdout</u>      select file to replace stdout file descriptor

       <u>system</u>      execute the given command

       <u>timeout</u>     set a timeout

       <u>timeoutsig</u>  signal to use when killing the child because the timeout happens

       <u>unsetenv</u>    unset one environment variable

</pre><h4><b>VALUE</b> <b>PREFIXES</b></h4><pre>
       Every value in this configuration file can contain a special

       <u>@filename</u>   Slurp contents of file and put them inside the key

       <u>text</u>        Escape characters useful for hex chars

       <u>'string'</u>    Escape characters useful for hex chars

       <u>!cmd</u>        Run command to store the output in the variable

       <u>:102030</u>     Parse hexpair string and store it in the variable

       <u>:!cmd</u>       Parse hexpair string from output of command and store it in the variable

       <u>%1234</u>       Parses the input string and returns it as integer

</pre><h4><b>EXAMPLES</b></h4><pre>
       Sample rarun2 script

         $ cat foo.rr2
         #!/usr/bin/rarun2
         program=./pp400
         arg0=10
         stdin=foo.txt
         chdir=<a href="file:/tmp">/tmp</a>
         clearenv=true
         setenv=EGG=eggsy
         setenv=NOFUN=nogames
         unsetenv=NOFUN
         # EGG will be the only env variable
         #chroot=.
         ./foo.rr2

       Connecting a program to a socket

         $ nc -l 9999
         $ rarun2 program=<a href="file:/bin/ls">/bin/ls</a> connect=localhost:9999

       Debugging a program redirecting IO to another terminal

         ## open a new terminal and type 'tty' to get
         $ tty ; clear ; sleep 999999
         /dev/ttyS010
         ## in another terminal run r2
         $ r2 -r foo.rr2 -d ls
         $ cat foo.rr2
         #!/usr/bin/rarun2
         stdio=/dev/ttys010
         ## Or you can use -R to set a key=value
         r2 -R stdio=/dev/ttys010 -d ls

       You can also use the -- flag to specify program and arguments in a more natural way:

         $ rarun2 timeout=2 -- sleep 4

       Run a library function

         $ rarun2 runlib=/lib/libc-2.25.so runlib.fcn=system arg1="ls /"

</pre><h4><b>ENVIRONMENT</b></h4><pre>
        RARUN2_ARGS     useful to just run "rarun2" but parse arguments from environment var

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <u><a href="../man1/radare2.1.html">radare2</a>(1)</u>

</pre><h4><b>AUTHORS</b></h4><pre>
       Written by pancake &lt;<a href="mailto:pancake@nopcode.org">pancake@nopcode.org</a>&gt;

                                                  Aug 18, 2023                                         <u><a href="../man1/RARUN2.1.html">RARUN2</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>