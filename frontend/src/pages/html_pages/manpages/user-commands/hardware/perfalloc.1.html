<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>perfalloc - notify pmdaperfevent(1) to disable hardware counter allocation.</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/pcp">pcp_6.3.3-1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       <b>perfalloc</b> - notify <b><a href="../man1/pmdaperfevent.1.html">pmdaperfevent</a></b>(1) to disable hardware counter allocation.

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>$PCP_PMDAS_DIR/perfevent/perfalloc</b> [<b>-D</b>] [<b>-d</b>] [<b>-f</b> <u>lockfile</u>] [<b>-h</b>] [<b>-v</b>] [<u>commandline</u>]

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>perfalloc</b>  is  a command that notifies the <b><a href="../man1/pmdaperfevent.1.html">pmdaperfevent</a></b>(1) to disable hardware counter event collection.
       This allow unprivileged processes to use the hardware counters.

       If the reservation request fails, then perfalloc exits  immediately  with  exit  code  EXIT_FAILURE.   If
       successful,  the  perfalloc  will  run until a kill signal is received.  The reservation request persists
       while perfalloc is running.

       Note that <b>pmdaperfevent</b> is affected by the value of the <u>kernel.perf_event_paranoid</u> setting, which can  be
       adjusted by <b><a href="../man8/sysctl.8.html">sysctl</a></b>(8).

       If a commandline is given, this is executed as a subprocess of the agent.  When the command dies, so does
       the agent.

       A brief description of the command line options follows:

       <b>-D</b>   run in the foreground (the default)

       <b>-d</b>   run in the background

       <b>-f</b> <b>FILE</b>
            use FILE as the lock file (default $PCP_PMDAS_DIR/perfevent/perflock)

       <b>-h</b>   display a help message and exit

       <b>-v</b>   output version number and exit

</pre><h4><b>BUGS</b></h4><pre>
       There  may  be  a  delay  of  up  to  100  milliseconds between perfalloc requesting the hardware counter
       disabling and the perfevent PMDA processing the request.

       The perfalloc process does not check the status of the request and therefore is not  able  to  provide  a
       positive confirmation that the request succeeded and the hardware counters are disabled.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man1/pmdaperfevent.1.html">pmdaperfevent</a></b>(1), <b><a href="../man3/perfevent.conf.3.html">perfevent.conf</a></b>(3) and <b><a href="../man8/sysctl.8.html">sysctl</a></b>(8).

Performance Co-Pilot                                   PCP                                          <u><a href="../man1/PERFALLOC.1.html">PERFALLOC</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>