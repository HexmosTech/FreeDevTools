<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>borg-diff - Diff contents of two archives</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/jammy/+package/borgbackup">borgbackup_1.2.0-1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       borg-diff - Diff contents of two archives

</pre><h4><b>SYNOPSIS</b></h4><pre>
       borg [common options] diff [options] REPO::ARCHIVE1 ARCHIVE2 [PATH...]

</pre><h4><b>DESCRIPTION</b></h4><pre>
       This command finds differences (file contents, user/group/mode) between archives.

       A repository location and an archive name must be specified for REPO::ARCHIVE1.  ARCHIVE2 is just another
       archive name in same repository (no repository location allowed).

       For  archives  created with Borg 1.1 or newer diff automatically detects whether the archives are created
       with the same chunker params. If so, only chunk IDs are compared, which is very fast.

       For archives prior to Borg 1.1 chunk contents are compared  by  default.   If  you  did  not  create  the
       archives with different chunker params, pass <b>--same-chunker-params</b>.  Note that the chunker params changed
       from Borg 0.xx to 1.0.

       For more help on include/exclude patterns, see the <u>borg_patterns</u> command output.

</pre><h4><b>OPTIONS</b></h4><pre>
       See <u><a href="../man1/borg-common.1.html">borg-common</a>(1)</u> for common options of Borg commands.

   <b>arguments</b>
       <b>REPO::ARCHIVE1</b>
              repository location and ARCHIVE1 name

       <b>ARCHIVE2</b>
              ARCHIVE2 name (no repository location allowed)

       <b>PATH</b>   paths of items inside the archives to compare; patterns are supported

   <b>optional</b> <b>arguments</b>
       <b>--numeric-owner</b>
              deprecated, use <b>--numeric-ids</b> instead

       <b>--numeric-ids</b>
              only consider numeric user and group identifiers

       <b>--same-chunker-params</b>
              Override check of chunker parameters.

       <b>--sort</b> Sort the output lines by file path.

       <b>--json-lines</b>
              Format output as JSON Lines.

   <b>Exclusion</b> <b>options</b>
       <b>-e</b> <u>PATTERN</u>, <b>--exclude</b> <u>PATTERN</u>
              exclude paths matching PATTERN

       <b>--exclude-from</b> <u>EXCLUDEFILE</u>
              read exclude patterns from EXCLUDEFILE, one per line

       <b>--pattern</b> <u>PATTERN</u>
              include/exclude paths matching PATTERN

       <b>--patterns-from</b> <u>PATTERNFILE</u>
              read include/exclude patterns from PATTERNFILE, one per line

</pre><h4><b>EXAMPLES</b></h4><pre>
          $ borg init -e=none testrepo
          $ mkdir testdir
          $ cd testdir
          $ echo asdf &gt; file1
          $ dd if=/dev/urandom bs=1M count=4 &gt; file2
          $ touch file3
          $ borg create ../testrepo::archive1 .

          $ chmod a+x file1
          $ echo "something" &gt;&gt; file2
          $ borg create ../testrepo::archive2 .

          $ echo "testing 123" &gt;&gt; file1
          $ rm file3
          $ touch file4
          $ borg create ../testrepo::archive3 .

          $ cd ..
          $ borg diff testrepo::archive1 archive2
          [-rw-r--r-- -&gt; -rwxr-xr-x] file1
             +135 B    -252 B file2

          $ borg diff testrepo::archive2 archive3
              +17 B      -5 B file1
          added           0 B file4
          removed         0 B file3

          $ borg diff testrepo::archive1 archive3
              +17 B      -5 B [-rw-r--r-- -&gt; -rwxr-xr-x] file1
             +135 B    -252 B file2
          added           0 B file4
          removed         0 B file3

          $ borg diff --json-lines testrepo::archive1 archive3
          {"path": "file1", "changes": [{"type": "modified", "added": 17, "removed": 5}, {"type": "mode", "old_mode": "-rw-r--r--", "new_mode": "-rwxr-xr-x"}]}
          {"path": "file2", "changes": [{"type": "modified", "added": 135, "removed": 252}]}
          {"path": "file4", "changes": [{"type": "added", "size": 0}]}
          {"path": "file3", "changes": [{"type": "removed", "size": 0}]

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <u><a href="../man1/borg-common.1.html">borg-common</a>(1)</u>

</pre><h4><b>AUTHOR</b></h4><pre>
       The Borg Collective

                                                   2022-02-19                                       <u><a href="../man1/BORG-DIFF.1.html">BORG-DIFF</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>