<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>proxycheck — open proxy server checker</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/proxycheck">proxycheck_0.49a-8_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       proxycheck — open proxy server checker

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>proxycheck</b> <u>options</u> <u>host</u>[:<u>proto_port_spec</u>]...

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>proxycheck</b>  is a simple open proxy checking tool which is capable to quickly discovery open proxy servers
       on many hosts.  It's primary goal is to detect an open proxy server in order to  prevent  it's  abuse  by
       various  "bad  guys", mostly spammers.  Having a wide-open proxy service running on a publicly accessible
       network is a very bad idea nowadays, and <b>proxycheck</b> may be used to find such system in order to  be  able
       to either secure a system, or to refuse servicing it until it will be secured properly.

       In  order to determine if a given host is running an open proxy service, <b>proxycheck</b> tries to connect to a
       given destination system via a host and perform some actions, trying to talk with the destination system.
       If a talk is successeful, <b>proxycheck</b> assumes the proxy service is running and wide-open.

       <b>proxycheck</b> supports all commonly used proxy protocols, namely, HTTP CONNECT method, SOCKS versions 4  and
       5, and Wingate "telnet"‐style proxies.  In future, support for more protocols may be added.

       Please note that with current number of various trojan horses cicrulating around, each opening a proxy on
       a  random  port,  it is not really enough to probe for standard (in whatever reason) ports built into the
       <b>proxycheck</b>.  Instead, it is highly recommended to use a list of  currently  active  ports  maintained  by
       several people on the 'net.

</pre><h4><b>OPTIONS</b></h4><pre>
       The following command-line options are recognized:

       <b>-h</b>     print a short help and exit.

       <b>-v</b>     increase the verbosity level.  All debugging messages will go to standard error stream.

       <b>-d</b> <u>deshost</u>:<u>destport</u> (required)
              try  to  establish  a  proxied  connection  to  the  given  <u>dsthost</u>, port <u>dstport</u>.  This option is
              required.

       <b>-c</b> <u>check</u>[:<u>params</u>] (required)
              the "method" <b>proxycheck</b> will use when talking to a destination system to determine if a  proxy  is
              open  or  not.   Interpretation  of  <u>params</u> is <u>check</u>-dependant.  This option is required.  Several
              methods are available:

              <b>chat</b>:<u>sendstr</u>:<u>expectstr</u>
                     Try to perform simple "chat" with the destination system: send the string given as  <u>sendstr</u>
                     and  wait  for  <u>expectstr</u>  on  output.  If <u>sendstr</u> is empty, <b>proxycheck</b> will send the proxy
                     parameters in the form
                        <u>protocol</u>:<u>ip-address</u>:<u>portnumber</u>
                     to the remote system.  Proxy assumed to be open if <u>expectstr</u> is found.

              <b>dsbl</b>   (no parameters accepted)
                     try to submit all found proxies to the DSBL.org-like system, see <a href="http://dsbl.org/">http://dsbl.org/</a> for  more
                     details.   All  the  parameters  required  (username,  password,  recipient address, cookie
                     server, ...) are expected to be found in environment variables.   Run  <b>proxycheck</b>  with  <b>-h</b>
                     option  to  see  a  list  of  recognized  variables  and their default values.  By default,
                     <b>proxycheck</b> will anonimously submit all found proxies to unconfirmed.dsbl.org  (which  isn't
                     very  useful).  For trusted DSBL user, at least DSBL_USER and DSBL_PASS variables should be
                     set properly.

       <b>-p</b> <u>proto_port_spec</u>
              specifies protocol and ports to connect to.  If not  given,  <b>proxycheck</b>  will  try  it's  built-in
              default  list.   This option may be specified more than once.   See below for <u>proto_port_spec</u>.  If
              <u>proto_port_spec</u> is specified for a single host to check, it applies to  that  host  only,  and  no
              protocols/ports in default list will be checked for that host.

       <b>-D</b>     do not reset default port list when using <b>-p</b> option, but prepend new ports to it instead.

       <b>-a</b>     use  more  "advanced"  ports/protocols.   The  more  <b>-a</b>'s  given, the more ports/protocols will be
              probed.  For a complete list of all ports and protocols and their level, execute  <b>proxycheck</b>  with
              <b>-h</b> option.

       <b>-t</b> <u>timeout</u>
              a  timeout,  in secounds, for every operation.  Default value is 30 secounds.  The timer starts at
              the connection attempt to the proxy itself, after sending the "connect" command to the  proxy  and
              so on.

       <b>-m</b> <u>maxconn</u>
              Do  not  attempt  to  make  more than <u>maxconn</u> parallel connections.  By default, maximum number of
              parallel connections limited by the operating system and on most systems it is around 1000.

       <b>-M</b> <u>maxhconn</u>
              Do not make more than <u>maxhconn</u> parallel connections to the same host (default is unlimited).  This
              may be useful for overloaded proxies which can't handle many parallel connections using  different
              ports/protocols, but may significantly slow down the whole process.

       <b>-s</b>     when  an  open  proxy  is found on a given IP, stop probing for other ports/protocols for this IP.
              Best used when many IPs are tested, and/or with <b>-M</b> option.  This is because currently,  <b>proxycheck</b>
              will  not  make  any <u>new</u> connections to such host, but will wait for already active connections to
              complete.

       <b>-b</b> <u>bindaddr</u>
              use <u>bindaddr</u> as a source address for all outgoing connections.

       <b>-n</b>     write a line about definitely closed proxies  to  stdout  in  additional  to  writing  about  open
              proxies, in a form
                 127.0.0.1 http:8080 closed

       <b>-x</b>     print  extended  proxy  information  (proxy-agent and the like) if available.  This will be on the
              same "open" (or "closed" with -n) line, last, enclosed in square brackets [].

       <b>-i</b> <u>filename</u>
              read list of hosts to check from a given file <u>filename</u> (in addition  to  command  line),  or  from
              stdin if <u>filename</u> if `-'.

   <b>Protocol</b> <b>and</b> <b>Port</b> <b>specification</b>
       Proxy protocols and ports to try (<u>proto_port_spec</u>) specified using the following syntax:
             [proto:][port,port,port]
       like:
             hc:3128,8080 (http protocol on ports 3128 and 8080)
             hc:    (default list of ports for http protocol)
             3128   (try http protocol on standard http port 3128)
             1234   (try all protocols on non-standard port 1234)

       Run <b>proxycheck</b> <b>-h</b> to see a list of supported protocols and default ports.

</pre><h4><b>USAGE</b></h4><pre>
       Simplest  usage  of  <b>proxycheck</b> is to try to connect to e.g.  your own mailserver with <b>chat</b> check method.
       First, connect to your mailserver on port 25 to see which line it outputs upon connection (SMTP greething
       line), and use it with <b>chat</b>:

         proxycheck -d yourmailserver.example.org:25 \
           -c chat::<u>greething</u> ip.add.re.ss...

       <b>proxycheck</b> will write a single line for every proto:port it finds to be open on stdout, in the form:
         127.0.0.3 hc:80 open
       where <u>127.0.0.3</u> is an IP address of a host being tested, <u>hc</u> is the protocol name (HTTP  CONNECT,  consult
       <b>proxycheck</b> <b>-h</b> for a full list of protocols) and <u>80</u> is a port number where the proxy service is running.

       In  addition,  if  <b>proxycheck</b>  is  able  to guess <u>outgoing</u> IP address of a proxy as seen by a destination
       system, and if that address is different from input <b>proxycheck</b> is  connecting  to,  it  will  print  this
       information too on the same line, like:
         127.0.0.2 hc:80 open 127.0.0.3
       where  <u>127.0.0.3</u>  is  <u>outgoing</u>  IP  address of a multihomed/cascaded proxy as reported by the destination
       system.  This IP address is hint only,  there  is  no  simple  and  reliable  way  currently  exists  for
       <b>proxycheck</b> to determine that information.  <b>Proxycheck</b> is able to parse a line sent by remote system in <b>-c</b>
       <b>chat</b>  mode  —  in this mode, <b>proxycheck</b> skips all printable characters after <u>expstr</u> it found and searches
       for opening `[', when tries to find closing ']' and interpret digits and dots in between as an IP address
       which gets printed like above.  If your mailserver's initial reply contains remote  system's  IP,  or  if
       your  mailserver replies with remote system's IP address to HELO/EHLO command, this feature may be useful
       (in the last case, HELO command should be specified in chat).

       When <b>-n</b> option is specified, for proto:ports which aren't running  open  proxy  service,  and  for  which
       <b>proxycheck</b> is able to strongly determine this, a line in the following format will be written:
         127.0.0.4 hc:80 closed
       Note  however  that  in  most cases there is no way to reliable determine whenever a given service is <u>not</u>
       open: for example, an open proxy server may be overloaded  and  refusing  connections.   In  most  cases,
       <b>proxycheck</b>  assumes  proxy  is  in  unknown  state, only a few codes are recognized as real indication of
       "closed" state.

       When <b>-x</b> option is specified, there will be additional proxy info written on the same line (if available),
       like:
         127.0.0.2 hc:80 open 127.0.0.3 [AnalogX 3.1415926]
         127.0.0.3 hc:80 open [AnalogX 3.1415926]
         127.0.0.4 hc:80 closed [AnalogX 3.1415926]

       One may see some detail of <b>proxycheck</b>'s operations giving sufficient number of <b>-v</b> options in the  command
       line.   Verbosity  level  of 5 (<b>-vvvvv</b>) will show almost everything.  All the debugging output will go to
       the standard error stream and thus will not affect  normal  operations  (when  you  process  <b>proxycheck</b>'s
       output using some script).

</pre><h4><b>EXIT</b> <b>CODE</b></h4><pre>
       <b>proxycheck</b>  will  exit  with  code 100 if at least one open proxy server was found.  In case of incorrect
       usage, it will exit with code 1.  If no open proxies where found, <b>proxycheck</b> will return 0.

</pre><h4><b>LICENSE</b></h4><pre>
       This program is free software.  It may be used and distributed in the terms  of  General  Public  License
       (GPL) version 2 or later.

</pre><h4><b>AUTHOR</b></h4><pre>
       <b>proxycheck</b>  written  by  Michael Tokarev &lt;<a href="mailto:mjt@corpit.ru">mjt@corpit.ru</a>&gt;.  Latest version of this utlilty may be found at
       <a href="http://www.corpit.ru/mjt/proxycheck.html">http://www.corpit.ru/mjt/proxycheck.html</a>.

                                                                                                   <u><a href="../man1/proxycheck.1.html">proxycheck</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>