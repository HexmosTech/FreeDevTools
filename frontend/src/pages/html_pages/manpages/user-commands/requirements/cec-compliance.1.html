<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>cec-compliance - An application to verify remote CEC devices</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/v4l-utils">v4l-utils_1.28.1-1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       cec-compliance - An application to verify remote CEC devices

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>cec-compliance</b> [<u>-h</u>] [<u>-d</u> <u>&lt;dev&gt;</u>] [other options]

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The  cec-compliance  utility  can  be  used  to  test  how  well  remote  CEC devices comply with the CEC
       specification. It can also be used to test the local CEC adapter (with the <u>-A</u> option).

       By default it will run through all tests, but if one or more of the feature test options is  given,  then
       only those tests will be performed. A set of core tests is always run.

       The  CEC  adapter  needs to be configured before it is used to run tests with <b>cec-compliance</b>. Use <b>cec-ctl</b>
       for configuration.

       If the CEC adapter has claimed several logical addresses, the test set is run from each  logical  address
       in succession. The remote device needs to report a valid physical address in order to run tests on it.

       When running compliance tests, <b>cec-follower</b> should be run on the same adapter. <b>cec-follower</b> will reply to
       messages that are not handled by <b>cec-compliance</b>. <b>cec-follower</b> will also monitor the device under test for
       behaviors  that  are  not  compliant  with the specification. Before each test-run <b>cec-follower</b> should be
       restarted if it is already running, to initialize the emulated device with  a  clean  and  known  initial
       state.

       Some  tests  require  interactive  mode  (with  the  <u>-i</u>  option) to confirm that the test passed. When in
       interactive mode, the user is asked to observe or perform actions on the remote device. Some  tests  also
       give conclusive test results when run in interactive mode.

       When  testing  the  local  CEC  adapter's  compliance with the CEC API, there must be at least one remote
       device present in order to test transmitting and receiving.

       The compliance tests can have several possible outcomes besides passing and failing:

           OK                    The test passed.

           OK (Unexpected)       The test passed, but it was unexpected for the device
                                 under test to support it. This might for example occur
                                 when a TV replies to messages in the Deck Control
                                 feature.

           OK (Not Supported)    The feature that was tested is not supported by the
                                 device under test, and that feature was not mandatory for
                                 the device to pass.

           OK (Presumed)         Nothing went wrong during the test, but the test cannot
                                 positively verify that the required effects of the test
                                 occurred. The test runner should verify that the test
                                 passed by manually observing the device under test. This
                                 is typically the test result for tests that send
                                 messages that are not replied to, but which induce some
                                 side effect on the device under test, such as a TV
                                 switching to another input or sending a Remote Control
                                 command.

           OK (Refused)          The device supports the feature or message being tested,
                                 but responded &lt;Feature Abort&gt; ["Refused"] to indicate
                                 that it cannot perform the given operation. This might
                                 for example occur when trying to test the One Touch
                                 Record feature on a TV with copy protection enabled.

           FAIL                  The test failed and was expected to pass on the device.

           OK (Expected Failure) Failed but this was expected. This can only happen
                                 if the <b>--expect</b> option was used that specified
                                 that a particular test would return a FAIL result.

           FAIL (Expected X, got Y) The test returned a different result than was expected.
                                 This can only happen if the <b>--expect</b> option was used
                                 that specified that a particular test would return a specific
                                 non-FAIL result.

       Some tests depend on other tests being successful. These are not run if the tests they depend on  failed,
       and they will not be shown in the test listing.

</pre><h4><b>OPTIONS</b></h4><pre>
       <b>-d</b>, <b>--device</b> <u>&lt;dev&gt;</u>
              Use device &lt;dev&gt; as the CEC device. If &lt;dev&gt; is a number, then /dev/cec&lt;dev&gt; is used.

       <b>-D</b>, <b>--driver</b> <u>&lt;drv&gt;</u>
              Use  a  cec  device  that  has  driver name <u>&lt;drv&gt;</u>, as returned by the CEC_ADAP_G_CAPS ioctl.  This
              option can be combined with <b>-a</b> to uniquely identify a CEC device without having  to  rely  on  the
              device node number.

       <b>-a</b>, <b>--adapter</b> <u>&lt;adap-name&gt;</u>
              Use  a  cec  device  that  has adapter name <u>&lt;adap-name&gt;</u>, as returned by the CEC_ADAP_G_CAPS ioctl.
              This option can be combined with <b>-D</b> to uniquely identify a CEC device without having  to  rely  on
              the device node number.

       <b>-E</b>, <b>--exit-on-fail</b>
              Exit  this  application  when  the  first  failure  occurs  instead  of continuing with a possible
              inconsistent state.

       <b>-l</b>, <b>--list-tests</b>
              List all tests and the possible test results. This is used by the <b>--expect</b> option.

       <b>-e</b>, <b>--expect</b> <u>&lt;test&gt;</u>=<u>&lt;result&gt;</u>
              <b>-n</b>, <b>--expect-with-no-warnings</b> <u>&lt;test&gt;</u>=<u>&lt;result&gt;</u> Fail if  the  test  gave  a  different  result.  The
              <b>--list-tests</b> option lists all the possible tests and what result values can be used.

              This  can  be  used in test scripts to verify that a specific result was returned by the test. One
              use-case is to verify that an optional feature is actually supported, so an <u>OK</u> result  instead  of
              an <u>OK</u> <u>(Not</u> <u>Supported)</u> result is expected.

              It  can  also be used to accept known failures. In that case the test will not fail, but return an
              <u>OK</u> <u>(Expected</u> <u>Failure)</u> result.

              The <b>--expect-with-no-warnings</b> variant is more strict and will also check that the test produced no
              warnings.

       <b>-v</b>, <b>--verbose</b>
              Turn on verbose reporting.

       <b>--version</b>
              Show version information.

       <b>-w</b>, <b>--wall-clock</b>
              Show timestamps as wall-clock time.

       <b>-S</b>, <b>--show-timestamp</b>
              For each test, show the timestamp of when the test started.

       <b>-T</b>, <b>--trace</b>
              Trace all called ioctls. Useful for debugging.

       <b>-h</b>, <b>--help</b>
              Prints the help message.

       <b>-W</b>, <b>--exit-on-warn</b>
              Exit this application when the first warning occurs instead of continuing.

       <b>-s</b>, <b>--skip-info</b>
              Skip the Driver Info output section.

       <b>-C</b>, <b>--color</b> <u>&lt;when&gt;</u>
              Highlight OK/warn/fail/FAIL strings with colors. OK is marked green,  warn  is  marked  bold,  and
              fail/FAIL are marked bright red if enabled. <u>&lt;when&gt;</u> can be <u>always</u>, <u>never</u>, or <u>auto</u> (the default).

       <b>-N</b>, <b>--no-warnings</b>
              Turn off warning messages.

       <b>-r</b>, <b>--remote</b> <u>&lt;la&gt;</u>
              As initiator test the remote logical address &lt;la&gt; or all LAs if no LA was given.

       <b>-i</b>, <b>--interactive</b>
              Interactive mode when doing remote tests.

       <b>-R</b>, <b>--reply-threshold</b> <u>&lt;timeout&gt;</u>
              Warn if replies take longer than this threshold (default 1000ms).

       <b>-t</b>, <b>--timeout</b> <u>&lt;secs&gt;</u>
              Set the standby/resume timeout to the given number of seconds. Default is 60s.

       <b>-A</b>, <b>--test-adapter</b>
              Test the CEC adapter API

       <b>-F</b>, <b>--test-fuzzing</b>
              Test  the  remote CEC adapter by randomly creating CEC messages.  This runs forever until an error
              occurs.

       <b>--test-core</b>
              Test the core functionality

       <b>--test-audio-rate-control</b>
              Test the Audio Rate Control feature

       <b>--test-audio-return-channel-control</b>
              Test the Audio Return Channel Control feature

       <b>--test-capability-discovery-and-control</b>
              Test the Capability Discovery and Control feature

       <b>--test-deck-control</b>
              Test the Deck Control feature

       <b>--test-device-menu-control</b>
              Test the Device Menu Control feature

       <b>--test-device-osd-transfer</b>
              Test the Device OSD Transfer feature

       <b>--test-dynamic-audio-lipsync</b>
              Test the Dynamic Audio Lipsync feature

       <b>--test-osd-display</b>
              Test the OSD Display feature

       <b>--test-one-touch-play</b>
              Test the One Touch Play feature

       <b>--test-one-touch-record</b>
              Test the One Touch Record feature

       <b>--test-power-status</b>
              Test the Power Status feature

       <b>--test-remote-control-passthrough</b>
              Test the Remote Control Passthrough feature

       <b>--test-routing-control</b>
              Test the Routing Control feature

       <b>--test-system-audio-control</b>
              Test the System Audio Control feature

       <b>--test-system-information</b>
              Test the System Information feature

       <b>--test-timer-programming</b>
              Test the Timer Programming feature

       <b>--test-tuner-control</b>
              Test the Tuner Control feature

       <b>--test-vendor-specific-commands</b>
              Test the Vendor Specific Commands feature

       <b>--test-standby-resume</b>
              Test standby and resume functionality. This will activate testing of Standby,  Give  Device  Power
              Status and One Touch Play.

</pre><h4><b>EXIT</b> <b>STATUS</b></h4><pre>
       On success, it returns 0. Otherwise, it will return the error code.

</pre><h4><b>EXAMPLE</b></h4><pre>
       We  want to test the compliance of a TV when it is interacting with a Playback device. The device node of
       the CEC adapter which the TV is connected to is /dev/cec1.

       The local CEC adapter first needs to be configured as a Playback device, and it must have an  appropriate
       physical  address.  It is important that the physical address is correct, so as to not confuse the device
       under test. For example, if the CEC adapter is connected to the first  input  of  the  TV,  the  physical
       address 1.0.0.0 should generally be used.

           cec-ctl -d1 --playback --phys-addr 1.0.0.0

       Most  CEC adapters will automatically detect the physical address, and for those adapters the <u>--phys-addr</u>
       option is not needed.

       Next, <b>cec-follower</b> also has to be started on the same device:

           cec-follower -d1

       <b>cec-compliance</b> can now be run towards the TV by supplying the <u>-r</u> option with the logical address 0:

           cec-compliance -d1 -r0

</pre><h4><b>BUGS</b></h4><pre>
       This manual page is a work in progress.

       Bug  reports  or  questions  about  this  utility  should  be  sent  to  the  <a href="mailto:linux-media@vger.kernel.org">linux-media@vger.kernel.org</a>
       mailinglist.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man1/cec-follower.1.html">cec-follower</a></b>(1), <b><a href="../man1/cec-ctl.1.html">cec-ctl</a></b>(1)

v4l-utils 1.28.1                                   August 2016                                 <u><a href="../man1/CEC-COMPLIANCE.1.html">CEC-COMPLIANCE</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>