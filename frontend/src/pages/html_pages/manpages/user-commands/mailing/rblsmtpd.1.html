<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>rblsmtpd  -  blocks  mail  from  RBL-listed  sites.  It  works  with  any  SMTP server that can run under</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/ucspi-tcp-ipv6">ucspi-tcp-ipv6_0.88-8ubuntu1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       rblsmtpd  -  blocks  mail  from  RBL-listed  sites.  It  works  with  any  SMTP server that can run under
       <b><a href="../man1/tcpserver.1.html">tcpserver</a></b>(1)

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>rblsmtpd</b> <u>opts</u> <u>prog</u>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <u>opts</u> is a series of getopt-style options.  <u>prog</u> consists of one or more arguments.

       Normally <b>rblsmtpd</b> runs <u>prog</u>.  <u>prog</u> is expected to carry out an SMTP conversation to receive incoming mail
       messages.

       However, <b>rblsmtpd</b> does not invoke <u>prog</u> if it is told to block mail from this client. Instead  it  carries
       out its own limited SMTP conversation, temporarily rejecting all attempts to send a message. Meanwhile it
       prints one line on descriptor 2 to log its activity.

       <b>rblsmtpd</b> drops the limited SMTP conversation after 60 seconds, even if the client has not quit by then.

</pre><h4><b>OPTIONS</b></h4><pre>
       <b>-t</b> <u>n</u>   Change the timeout to <u>n</u> seconds.

       <b>Blocked</b> <b>clients</b>

       If  the $RBLSMTPD environment variable is set and is nonempty, <b>rblsmtpd</b> blocks mail. It uses $RBLSMTPD as
       an error message for the client. Normally <b>rblsmtpd</b> runs under <b><a href="../man1/tcpserver.1.html">tcpserver</a></b>(1); you can  use  <b><a href="../man1/tcprules.1.html">tcprules</a></b>(1)  to
       set $RBLSMTPD for selected clients.

       If $RBLSMTPD is set and is empty, <b>rblsmtpd</b> does not block mail.

       If  $RBLSMTPD  is  not set, <b>rblsmtpd</b> looks up $TCPREMOTEIP in the RBL, and blocks mail if $TCPREMOTEIP is
       listed.  <b>tcpserver</b> sets up $TCPREMOTEIP as the IP address of the remote host.

       <b>-r</b> <u>base</u>
              Use <u>base</u> as an RBL source. An IP address <u>a.b.c.d</u> is listed by that source if  <u>d.c.b.a.base</u>  has  a
              TXT record.  <b>rblsmtpd</b> uses the contents of the TXT record as an error message for the client.

       <b>-a</b> <u>base</u>
              Use  <u>base</u>  as  an  anti-RBL  source.  An  IP  address  <u>a.b.c.d</u>  is  anti-listed  by that source if
              <u>d.c.b.a.base</u> has an A record. In this case <b>rblsmtpd</b> does not block mail.

       You may supply any number of <b>-r</b> and <b>-a</b> options.  <b>rblsmtpd</b> tries each source in turn until  it  finds  one
       that lists or anti-lists $TCPREMOTEIP.

       If  you  want  to  run  your  own RBL source or anti-RBL source for <b>rblsmtpd</b>, you can use <b>rbldns</b> from the
       DNScache (djbdns) package.

       <b>Temporary</b> <b>errors</b>

       Normally, if $RBLSMTPD is set, <b>rblsmtpd</b> uses a 451 error code in  its  limited  SMTP  conversation.  This
       tells  legitimate  clients  to  try  again  later.  It gives innocent relay operators a chance to see the
       problem, prohibit relaying, get off the RBL, and get the mail delivered.

       However, if $RBLSMTPD begins with a hyphen, <b>rblsmtpd</b> removes the hyphen and uses a 553 error  code.  This
       tells legitimate clients to bounce the message immediately.

       There are several error-handling options for RBL lookups:

       <b>-B</b>     (Default.) Use a 451 error code for IP addresses listed in the RBL.

       <b>-b</b>     Use a 553 error code for IP addresses listed in the RBL.

       <b>-C</b>     (Default.)  Handle RBL lookups in a ``fail-open'' mode. If an RBL lookup fails temporarily, assume
              that the address is not listed; if an anti-RBL lookup fails temporarily, assume that  the  address
              is  anti-listed.  Unfortunately,  a  knowledgeable attacker can force an RBL lookup or an anti-RBL
              lookup to fail temporarily, so that his mail is not blocked.

       <b>-c</b>     Handle RBL lookups in a ``fail-closed'' mode. If an RBL lookup fails temporarily, assume that  the
              address  is  listed  (but  use  a  451  error  code  even  with  -b).  If an anti-RBL lookup fails
              temporarily, assume that the address is not anti-listed (but use  a  451  error  code  even  if  a
              subsequent RBL lookup succeeds with -b). Unfortunately, this sometimes delays legitimate mail.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <a href="../man1/tcpserver.1.html">tcpserver</a>(1), <a href="../man1/tcprules.1.html">tcprules</a>(1), <a href="../man1/tcprulescheck.1.html">tcprulescheck</a>(1), <a href="../man1/fixcrio.1.html">fixcrio</a>(1), <a href="../man1/recordio.1.html">recordio</a>(1), <a href="../man1/rblsmtpd.1.html">rblsmtpd</a>(1), <a href="../man1/tcpclient.1.html">tcpclient</a>(1), who@(1),
       date@(1), finger@(1), http@(1), <a href="../man1/tcpcat.1.html">tcpcat</a>(1), <a href="../man1/mconnect.1.html">mconnect</a>(1), <a href="../man5/tcp-environ.5.html">tcp-environ</a>(5)

       <a href="http://cr.yp.to/ucspi-tcp.html">http://cr.yp.to/ucspi-tcp.html</a>

                                                                                                     <u><a href="../man1/rblsmtpd.1.html">rblsmtpd</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>