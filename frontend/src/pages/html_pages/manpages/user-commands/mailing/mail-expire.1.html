<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>mail-expire - program to extract outdated messages from mbox files</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/mail-expire">mail-expire_0.9.2+nmu1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       mail-expire - program to extract outdated messages from mbox files

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>mail-expire</b> <u>AGE-IN-DAYS</u> <u>FILES...</u>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>mail-expire</b> is a small utility which only purpose is to help on keeping the size of multiple mail folders
       as small as needed (by removing outdated messages).

       <u>Maildir</u>  and  <u>Mailbox</u>  formats  are supported for input, both types are mentioned interchangeably in this
       manual page. Output goes to <u>Mailbox</u> files.

       The old messages are compressed with gzip or xz and stored in  the  file  with  the  name  following  the
       pattern  <u>MBOXNAME.MONTH_YEAR</u>.gz  (or  similar).  The reference time for the output filename is calculated
       from the current time minus number of days specified in the first parameter.

       If a file of the same name is found, the default storage strategy is appending a new compressed region to
       the existing file (unless <b>-u</b> option is used).  This allows, for example, to run the expiration in a  cron
       job  each  weekend,  while  collecting  all  mails from (roughly) each month into dedicated buckets.  The
       drawback of this appending mode is a slightly reduced compression ratio, the advantage  is  reduced  disk
       usage  all  the  time.   Also,  such archives can later be recompressed separately to archive the highest
       compression ratio (like: "mv x.xz x.old.xz &amp;&amp; xzcat x.old.xz | xz -9 &gt; x.xz &amp;&amp; rm xz.old.xz").

   <b>SPACE</b> <b>REQUIREMENTS</b>
       For <u>Mbox</u> input, additional disk space to store the amount of fresh messages plus a portion of the size of
       expired messages (depending on the output compression).

       For <u>Maildir</u> input, only additional space for a portion of the size of expired messages (depending on  the
       output compression) is required.

</pre><h4><b>OPTIONS</b></h4><pre>
       <b>mail-expire</b> recognizes the following options:

       <b>-u</b>  If  an  existing  archive file with the expected filename is found, another filename is to be chosen.
           This happens by appending a suffix like (NUMBER) to the basename.

           This is a legacy option, not compatible with any custom output command.

       <b>-t</b> <b>DIR</b>
           Specifies a different target directory for storing expired mailbox  files.  Default  is  the  current
           directory.

       <b>-T</b> <b>FILEBASE</b>
           Explicit  output target file name for all inputs (i.e. merging all expired mails into the same target
           mbox).  This mostly disables automated  name  generation  (base  name  and  date  suffix),  only  the
           compression suffix (-c option and related) is appended.

       <b>--sfx-fmt</b> <b>FORMAT</b>
           Format string, see <u>strftime</u> or <u>date</u> manpage.

       <b>--dry-run</b>, <b>-n</b>
           Only examine input files and directories, no mail data is moved around.

       <b>--delete</b>, <b>-d</b>
           Drop the old messages. No backup will be made, be careful with this option.

       <b>--keep</b>, <b>-k</b>
           Copy the expired messages to output files and keep them in the input file.

       <b>--purge=VALUE</b>, <b>-p</b> <b>VALUE</b>
           Specify  how  to  remove  <u>input</u>  files or folders after becoming empty. 0: never remove, 1 (default):
           remove empty files but keep folders (also related folders), 2: remove empty Mbox file and Maildir, 3:
           like 2 but also remove the input file if it was empty.

       <b>-v</b> <b>LEVEL</b>
           Verbosity level, where 0 produces no output except for errors, 1 some progress messages, 2  and  more
           verbose progress messages.

       <b>-c</b> <b>output-shell-command</b>
           A  shell  script fragment which is run in order to archive the data.  Default or current value can be
           displayed with -v2 option.

           This command is very delicate, it might destroy the target file.  It  might  also  be  suspicious  to
           shell injection attacks, quotes are important.

       <b>-X</b>  Shortcut  for  -c  and  -s  options,  compressing  with XZ compressor (multiple threads) and .xz file
           suffix.

       <b>-Z</b>  Shortcut for -c and  -s  options,  compressing  with  Zstandard  compressor  (zstd  or  zstdmt  where
           available) and .zstd file suffix.

       <b>-U</b>  Shortcut for -c and -s options, to not compress the output and not have an additional suffix.

       <b>-l</b>  Lockless  operation,  input  Mailboxes are assumed to be not touched by other tools while <u>mail-expire</u>
           runs. By  default,  it  attempts  to  mimic  the  behavior  of  <u>procmail</u>  to  prevent  it  from  file
           modifications.  This  option  has  no  effect  on  <u>Maildir</u>  type input. To be used with care, runtime
           conflicts with <u>procmail</u> or other tools <b>MIGHT</b> <b>CAUSE</b> <b>DATA</b> <b>LOSS</b>.

</pre><h4><b>AUTHOR</b></h4><pre>
       This manual page was written by Eduard Bloch. Permission is  granted  to  use,  copy,  distribute  and/or
       modify this document under the terms of the <u>MIT</u> license.

mail-expire 0.9.2+nmu1                             2023-06-15                                     <u><a href="../man1/MAIL-EXPIRE.1.html">MAIL-EXPIRE</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>