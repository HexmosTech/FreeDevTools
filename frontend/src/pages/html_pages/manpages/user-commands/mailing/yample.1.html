<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Yample - Yet Another Mail Processing Language.</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/yample">yample_0.30-6_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       Yample - Yet Another Mail Processing Language.

</pre><h4><b>DESCRIPTION</b></h4><pre>
       Yample is an MDA - a mail delivery agent. It accepts a message via standard input and stores this message
       in a maildir or in a mbox.

       Yample  tries  to incorporate the power of Perl and Mail::Internet, Mail::Spamassassin and the other Mail
       modules whilst maintaining an friendly syntax. Yample  was  written  due  to  a  personal  conflict  with
       Procmails syntax.

       Look at the following lines, taken from "man procmailex";

       :0 c * ^From.*peter * ^Subject:.*compilers ! <a href="mailto:william@somewhere.edu">william@somewhere.edu</a>

         :0 A
         petcompil

       This can be implemented like this in Yample;

       sender(peter)    and    subject(compilers)   unseen   resend(<a href="mailto:william@somewhere.edu">william@somewhere.edu</a>)   sender(peter)   and
       subject(compilers) mbox(petcompil)

</pre><h4><b>OPTIONS</b></h4><pre>
       <b>--help</b>
            Help!

       <b>--mailbase</b> <b>&lt;maildir</b>&gt;
            This option is prepended to any destinations you have. Default is <a href="file:~/Maildir/.">~/Maildir/.</a>

       <b>--logfile</b>
            Yamples logfile. Default is <a href="file:~/.yample/log.">~/.yample/log.</a>

       <b>--loglevel</b> <b>&lt;0-4</b>&gt;
            Loglevel. 4 - Debug, 3 - info, 2 - warnings, 1 - errors, 0 - nothing.

       <b>--spamassassin</b>
            Load Mail::Spamassassin and run the mail through it.

       <b>--spamc</b>
            Run the message through spamc. Yample will look for spamc in the $PATH unless you set <b>--spamc-path</b>.

       <b>--spamc-path</b> /path/to/spamc
            Where spamc resides.

       <b>--dubdb</b> <b>&lt;file</b>&gt;
            The message id database - used for duplicate suppression.

       <b>--rules</b> <b>&lt;file</b>&gt;
            The rule file.

</pre><h4><b>FILES</b></h4><pre>
       <b><a href="file:~/.yample/rules">~/.yample/rules</a></b>

       This file contains the rules which Yample uses to sort mail. Yample reads the mail from  STDIN  and  then
       processes the rules, one by one.

       The rules consists of two parts; condition(s) and target. There is an implicit if .. then .. else between
       every rule. Please see the examples futher down.

       In the conditions which take a regular expression as a parameter you can use grouping to extract parts of
       the  text  and utilize this in the sorting. Like this: "subject((.*)) and rcpt(<a href="mailto:user@foo.org">user@foo.org</a>): reject(Your
       message with subject $1 was rejected)". Cool, eh?

       NOTE: We replace "/" and "." with "_" in grouped strings to make sure there won't be any funny business.

       Yample::Rules
            This package contains subroutines which handle the individual rules. The rules are transformed  into
            perl code which will call these methods to decide what to do with the message.

       <u>dup()</u>
            Detects duplicates.

       <u>rcpt()</u>
            The rcpt rule matches against the To- and Cc-headers.

       <u>sender()</u>
            The sender rule matches against the From-header.

       <u>subject()</u>
            Matches on the subject of the message.

       <u>list()</u>
            If Yample can load Mail::Listdetect then <u>list()</u> can be used to match against the name of the mailing
            list (unless the mailing list server is completely lame).

            You can use this rule like this:

            list((.*)):      maildir(.lists.$1)

       <u>head()</u>
            Match against a arbitrary header. Note the caret (^)

            head(^X-Spam-Flag:         YES):                      maildir(.junk.spam)        head(^X-Infected:):
            maildir(.junk.virii)

       <u>spam()</u>
            If Yample loads Spamassassin (and runs the message through it) you can use <u>spam()</u> to  determine  the
            status of the message.

       <u>perl()</u>
            Run arbitrary perl code. Unless you are some sort of pervert you would not use this for anything but
            testing and debugging Yample.

       Yample::Actions
            Action dispatcher class. All the targets are defined here.

       <u>maildir()</u>
            Stores the message in a UW-style maildir more or less as defined per RFCXXXX.

       <u>mbox()</u>
            Delivers mail to a standard Unix mailbox.

            Parameters: The mailbox where the message is to be delivered.

       <u>resend()</u>
            Parameters: Where the message is to be forwarded.

       <u>reject()</u>
            Reject  the  message.  This normally forces your mail server to create a bounce and mail this to the
            original sender.

            Parameters: Error message. This message will probably be included in the bounce generated.

       <u>ignore()</u>
            Ignore the message silently.

            Parameters: none

       <u>reply()</u>
            Reply to the message.

            Parameters: The body of the reply.

       <u>pipe()</u>
            Parameters: The command which is message is to be piped into. Executed through "<a href="file:/bin/sh">/bin/sh</a> -c".

       <b><a href="file:~/.yample/dupdb">~/.yample/dupdb</a></b>

       Yamples database of message IDs. Yample uses this to supress dupicate messages (see <u>dup()</u> rules).

       <b><a href="file:~/.yample/log">~/.yample/log</a></b>

       Your own personal logfile. You might want to use logrotate or similar programs to make sure it  does  not
       grow to big.

       <b><a href="file:~/.forward">~/.forward</a></b>

       Usually,  your  mail server looks for a file in your home directory called ".forward". This file contains
       information how your mail server should deliver your mail. If you want Yample as your MDA  your  .forward
       should look like this: âŽª/full/path/to/yample

</pre><h4><b>EXAMPLES</b></h4><pre>
       # throw away virii head(^X-Infected:):                    <u>ignore()</u>

       # throw away spam with a score higher than 8 head(^X-Spam-Score: \d+\.\d+ \(\+{8,}\)

       # The rest of the spam, tagged by spamassassin head(^X-Spam-Flag: YES):               maildir(.junk.spam)

       <u>dup()</u>:                                 maildir(.junk.duplicates)

       # auto-sort lists - requires Mail::Listdetect list((.*)):                            maildir(.lists.$1)

       sender(@fjase.net) and subject(Backup report): maildir(.backup_reports)

       # catch-all

       <u><a href="../man1/perl.1.html">perl</a></u>(1):                               <u>maildir()</u>

</pre><h4><b>VERSION</b></h4><pre>
       Yample 0.30

</pre><h4><b>AUTHOR</b></h4><pre>
       Per Andreas Buer &lt;perbu (at) linpro.no&gt;

</pre><h4><b>PREREQUSITES</b></h4><pre>
       Yamples needs the following perl modules. Please download from CPAN, Yamples home page or other sources.

       Mail::Internet Mail::Send Text::Balanced

       Yample also uses these modules - but they are in the Perl distribution so they should always be there.

       Pod::Usage POSIX Sys::Hostname IO::File IPC::Open2

</pre><h4><b>BUGS</b></h4><pre>
       Yample with Spamassassin, Mail::ListDetector and the other bells and whistles is quite heavy.

       Please report bugs and functionality requests to the author.

       Yample lacks (as of now) LMTP and IMAP support. Both should be fairly easy to implement.

</pre><h4><b>COPYRIGHT</b></h4><pre>
       Copyright (C) 2003 Per Andreas Buer

       This  is  free  software;  see  the  source  for  copying  conditions. There is NO warranty; not even for
       MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       Mail::Internet (3),  Mail::SpamAssassin (3), Mail::ListDetector (3).

perl v5.8.2                                        2004-01-13                                          <u><a href="../man1/YAMPLE.1.html">YAMPLE</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>