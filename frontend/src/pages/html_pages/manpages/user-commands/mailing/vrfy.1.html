<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>vrfy - Verify electronic mail addresses</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/vrfy">vrfy_990522-11_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       vrfy - Verify electronic mail addresses

</pre><h4><b>SYNTAX</b></h4><pre>
       <b>vrfy</b> [<u>options</u>] [<b>-v</b>] <u>address</u> [<u>host</u>]
       <b>vrfy</b> [<u>options</u>] [<b>-v</b>] <b>-f</b> [<u>file</u>] [<u>host</u>]
       <b>vrfy</b> [<u>options</u>] [<b>-v</b>] <b>-p</b> <u>domain</u>
       <b>vrfy</b> [<u>options</u>] [<b>-v</b>] <b>-T</b> <u>domain</u> [<u>name</u>]

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <u>vrfy</u>  is  a  tool  to verify electronic mail addresses.  The only required parameter is the <u>address</u> to be
       verified.  The actual verification will be carried out at the remote machine  where  mail  to  the  given
       address  would  normally  be  delivered.   This may be a mail exchange host and not the final destination
       host.  If an explicit host is given as the second argument on the command line, the specified address  is
       verified at that machine.

       The  output  of  the program shows whether or not the address can be handled at the contacted host. Error
       messages will be printed if the address is invalid. If the address is recognized, the  output  shows  the
       remote  host's  notion  of the (possibly translated) address. If it represents a local user at that host,
       additional information about the user may be displayed.

       Note that if the address is accepted by the contacted host, but this is not the final  destination  host,
       one still cannot be sure that the address represents a valid recipient.

       It is a handy tool to verify local mail addresses.
       If  you have set up a .forward file, you can verify your own address to check that the forwarding is done
       properly.
       If you specify an arbitrary name, you can check whether this resolves to any valid recipients.

</pre><h4><b>SPECIAL</b> <b>OPERATION</b> <b>MODES</b></h4><pre>
       Some flags put the program in a special operation mode.

   <b>FILE</b> <b>MODE</b>
       If the <b>-f</b> option is specified, the program enters a special file mode. The (optional)  parameter  is  the
       name of a <u>file</u> containing electronic mail addresses, such as used for mailing lists.  Verification of all
       addresses  present  in the file is attempted.  If no filename is specified, vrfy acts as a filter and the
       addresses to be verified are read from standard input.

   <b>PING</b> <b>MODE</b>
       If the <b>-p</b> option is specified, the program enters a special ping  mode.  The  required  parameter  is  an
       electronic  mail  <u>domain</u>  for  which  it  will  be verified whether the corresponding mail exchangers are
       currently responding to SMTP requests.

   <b>ETRN</b> <b>MODE</b>
       If the <b>-T</b> option is specified, the program enters a special etrn  mode.  The  required  parameter  is  an
       electronic mail <u>domain</u>.  An ESMTP ETRN command will be delivered to its corresponding mail exchangers. An
       optional  <u>name</u>  is  used  as  the ETRN parameter.  If not specified, the local host name is used instead.
       ETRN is defined in RFC 1985, and is implemented in sendmail 8.8.

   <b>RECURSIVE</b> <b>MODE</b>
       If the <b>-L</b> <u>level</u> option is specified, the received replies to  an  address  verification  are  recursively
       verified  up  to  <u>level</u>  levels  deep.  This is handy for checking mailing list expansions, and detecting
       possible mail forwarding loops.

       Recursion stops automatically if the reply represents a local recipient address, or in case a  forwarding
       loop is detected.  If the received reply is the same (modulo comments) as the address that was asked for,
       the request is retried at its domain itself, unless this was the machine we just queried, or it is not an
       internet domain host.

       The option <b>-R</b> is equivalent to ``<b>-L</b> <u>17</u>''.  This is the maximum hop count normally used during actual mail
       relaying. This option also implies ``<b>-s</b>''.

</pre><h4><b>OPTIONS</b></h4><pre>
       <b>-v</b>      Sets verbose mode. Prints the action the program is going to take.
               If  specified as <b>-vv</b>, very verbose output is printed.  The SMTP transactions with the remote host
               are shown in detail.
               If the verbose mode level is set to 3 with <b>-vvv</b>, the actions taken by the remote host are  shown,
               such as alias and forward expansions. This can be quite amusing. The remote host must support the
               SMTP VERB command for this to work.
               In ping mode, the verbose mode level 3 will cause an extra SMTP command HELO to be generated.

       <b>-d</b>      Prints  debugging  output showing the various phases of the SMTP connection with the remote host.
               This is normally not of any interest. Also prints various messages that are  otherwise  shown  in
               very verbose mode.
               If specified as <b>-dd</b>, in addition all nameserver query transactions are shown in detail.
               A level 3 debug mode <b>-ddd</b> will not make any SMTP connections at all.

       <b>-a</b>      If  multiple  mail  exchange hosts were found, this option will cause the operation to be carried
               out at each of these hosts.  Normally only the primary mail exchanger is contacted.

       <b>-l</b>      Sets local mode for error handling. Address syntax and parsing errors are handled entirely by the
               program. The default is to pass faulty addresses to the local host  to  get  the  official  error
               messages.

       <b>-s</b>      Strips  all comments from full address specifications, and presents only the plain address to the
               remote host to be verified.  Some hosts may get confused when a  multiple  bracketed  address  is
               presented. This option is implied when <b>-R</b> is given.

       <b>-e</b>      Uses  the EXPN command instead of the VRFY command. Some systems may have different treatment for
               these commands, so this option may be a possible alternative.  By sendmail V5  they  are  usually
               treated  the same, but not by the sendmail V8 versions.  In case treatment is different, the VRFY
               command will just show whether the presented address is valid or not, but the EXPN  command  will
               return  alias expansions, if appropriate.  Some systems allow VRFY, but disallow EXPN for privacy
               reasons.

       <b>-h</b>      This option causes an SMTP HELO command to be issued to the contacted  server  before  subsequent
               commands  are  attempted.   Servers can be configured to refuse commands unless a HELO command is
               given first.  The HELO is not issued by default, since  old  versions  of  sendmail  refuse  SMTP
               connections  originating  on the same machine (i.e. if the domain name in the HELO command is its
               own name).

       <b>-H</b>      Similar to the <b>-h</b> option, but now the ESMTP EHLO command is tried first. If the contacted  server
               does not understand this, the SMTP HELO command is tried next.

       <b>-n</b>      Many non-sendmail hosts do not, or incorrectly or incompletely, implement the VRFY command. Other
               systems  have VRFY or EXPN disabled for privacy reasons. This option uses an alternative protocol
               suite with the regular HELO, MAIL, RCPT and RSET commands.  This gives only a  global  indication
               whether the recipient is valid. Recursive mode is not possible, and will be disabled.

       <b>-S</b> <u>sender</u>
               Defines an explicit envelope sender address to be used in the MAIL command during the alternative
               protocol suite, to overrule the default empty sender address ``&lt;&gt;''.  This option implies ``<b>-n</b>''.

       <b>-c</b> <u>secs</u> Sets  a connect timeout value to override the default timeout of 6 seconds. This may be necessary
               if it takes considerable time to connect to the remote host.

       <b>-t</b> <u>secs</u> Sets a read timeout value to override the default timeout of 60 seconds. This may be necessary if
               it takes considerable time for the remote host to assemble all addresses in long mailing lists.

</pre><h4><b>DEFAULT</b> <b>OPTIONS</b></h4><pre>
       Default options and parameters can be preset in an environment  variable  <b>VRFY_DEFAULTS</b>  using  the  same
       syntax as on the command line. They will be evaluated before the command line arguments.

</pre><h4><b>DIAGNOSTICS</b></h4><pre>
       <u>vrfy</u>  sets  up an SMTP connection with the remote host where the verifying is to be carried out.  SMTP is
       the TCP/IP protocol for electronic mail exchange.

       If the given host does not speak SMTP, the error message "Connection refused" is printed.

       If the SMTP protocol is blocked, a "Host is unreachable" message is printed.

       If the remote host doesn't respond in time, you will get a "Connection timed out" message.

       The remote host must support the SMTP VRFY command for doing the verification. If  not,  a  "Command  not
       implemented" is printed.

</pre><h4><b>STRATEGY</b></h4><pre>
       The following strategy is used to find the remote host where the verification is to be carried out.

       <b>a.</b>  If an explicit verification host is specified, that host is contacted unconditionally.

       <b>b.</b>  If  the  address  to  be  verified has no domain part after an '@' sign, it is supposed to be a local
           recipient and will be verified at the local host.

       <b>c.</b>  If the address contains a domain part after an '@' sign, mail exchange hosts will be fetched for that
           domain. If no such mail exchangers are found, the domain part is supposed  to  represent  a  specific
           host, and that host itself will be contacted.

       <b>d.</b>  If  mail  exchangers  were  found,  the verification will be carried out at the primary mail exchange
           host.

       <b>e.</b>  If the <b>-a</b> option was given, and multiple mail exchangers exist, the verification is also carried  out
           at all other mail exchange hosts.

       <b>f.</b>  For  the pseudo domains ".uucp" and ".bitnet" a specific server can be compiled-in. The default is to
           contact the local host.

       <b>g.</b>  If no mail exchangers were found for an unqualified single hostname, the local host is  contacted  by
           default. The actual meaning of such addresses depend on your local strategy.

</pre><h4><b>ENVIRONMENT</b></h4><pre>
       Environment variables can be used to overrule several compiled-in defaults.

   <b>VRFY_LOCALHOST</b>
       This is your nearest host running the sendmail daemon.  It is contacted in case local addresses without a
       domain  are  given.   Also (unless the <b>-l</b> is given) when domain parsing errors were encountered, assuming
       that this host can give a more appropriate error message.  The default value is <b>localhost</b>.

   <b>VRFY_UUCPRELAY</b>
       This host is contacted  when  a  .uucp  address  is  specified.   You  probably  won't  get  much  useful
       information.  The default value is <b>localhost</b>.

   <b>VRFY_BITNETRELAY</b>
       This  host is contacted when a .bitnet or .earn address is specified.  You probably won't get much useful
       information.  The default value is <b>localhost</b>.

   <b>VRFY_SINGLERELAY</b>
       This host is contacted when a single unqualified host name could not be resolved to a fully qualified  MX
       domain  host.   It  is assumed that single hosts in your own domain can be resolved, i.e. they have an MX
       record.  It depends on your local strategy for unqualified hosts what they mean: a .uucp host, a  .bitnet
       host, or just a local host without MX.  The default value is <b>localhost</b>.

</pre><h4><b>LIMITATIONS</b></h4><pre>
       Some  hosts  have a lousy VRFY handling. Sometimes the command is not implemented at all. Other hosts are
       willing to verify only local recipients. The "-n" option may be necessary.

       Other servers may refuse the VRFY command for privacy reasons.

       If the verification is not performed at the final destination host, one cannot be  sure  that  the  given
       address is valid.

</pre><h4><b>MAILING</b> <b>LISTS</b></h4><pre>
       Note  the  following subtle differences if you want to check an existing mailing list <u>list</u>.  Suppose that
       ``<u>list</u>-users'' is the local alias to include the actual file ``/mail/lists/<u>list</u>-users'' with recipients.

       The command ``vrfy <u>list</u>-users'' will verify the proper expansion of the mailing list at the  local  host.
       No remote hosts are contacted to verify addresses.

       The  command  ``vrfy -f /mail/lists/<u>list</u>-users''  will  verify each individual address at the appropriate
       remote hosts.

       The same effect can be reached when you give the command ``vrfy -L 1 <u>list</u>-users''. Use a higher recursion
       level if you want to see further expansion of the mailing list.

</pre><h4><b>AUTHOR</b></h4><pre>
       Eric Wassenaar, Nikhef-H, &lt;<a href="mailto:e07@nikhef.nl">e07@nikhef.nl</a>&gt;

                                                     971114                                              <u><a href="../man1/vrfy.1.html">vrfy</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>