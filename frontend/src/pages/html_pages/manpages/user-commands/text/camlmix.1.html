<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>camlmix - preprocessor which converts text with embedded OCaml</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/camlmix">camlmix_1.3.1-6_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       camlmix - preprocessor which converts text with embedded OCaml

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>camlmix</b> [<u>Options...</u>] <u>files</u>...

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>camlmix</b>  processes  text  templates  with embedded <b>OCaml</b> code to generate text again. From one or several
       input files it generates an <b>OCaml</b> text generation program and executes this to obtain the result.   Using
       option <u>-fun</u> one can also convert the text template into an <b>OCaml</b> text generation function.

</pre><h4><b>OPTIONS</b></h4><pre>
       <b>-o</b> <b>output</b>
              write the generated text into file <u>output</u>

       <b>-c</b>     Only  generate  the  text generation program, don't execute it.  By default, the program is called
              <u>lastfile.ml</u> when <u>lastfile</u> is the last file argument.

       <b>-co</b> <b>file</b>
              specify the name of the text generation program

       <b>-fun</b>   generate <b>OCaml</b> code for text generation function from the input (see <b>ADVANCED</b> <b>USAGE</b> below)

       <b>-e</b> <b>ocamlc</b>
              set the name of the OCaml executable

       <b>-clean</b> remove the text generation program after execution

       <b>-insert</b> <b>ocaml_code</b>
              insert <u>ocaml_code</u> at the beginning of the text generation program

       <b>-remix</b> try a conversion to the camlremix syntax

       <b>-version</b>
              print version and exit

       <b>-help</b> <b>|</b> <b>--help</b>
              print help and exit (this man page was written from the output of <u>-help</u>)

</pre><h4><b>BASIC</b> <b>USAGE</b></h4><pre>
       Text enclosed with <u>##</u> markers is considered as a block of <b>OCaml</b> code. It can  be  any  kind  of  toplevel
       expressions such as definitions or application of printing functions:

              This is ocaml version ## print Sys.ocaml_version ##

       If  the <b>OCaml</b> code starts with <u>=</u> then it is interpreted as an expression of type string that will printed
       like the rest of the text:

              This is ocaml version ##= Sys.ocaml_version ##

       The text block are printed together with the evaluated <b>OCaml</b> pieces using the <u>print</u> function. Include <u>###</u>
       to print <u>##</u>.

       White space can be controlled with <u>##.</u>  and <u>.##</u>:

       <b>##.</b>    don't print white space occurring on the left

       <b>.##</b>    don't print white space up to and including the first newline, following to the right.

</pre><h4><b>ADVANCED</b> <b>USAGE</b></h4><pre>
   <b>Directives</b>
       Blocks of code that start with the <u>@</u> character (possibly preceded by spaces) are directives for  Camlmix.
       There are two directives.  <u>include</u> inserts a camlmix file, and <u>skip</u> skips the next block. For instance

              Hello ## @include "world.mlx"; skip .## ## let x = 123 ##!

   <b>Conversion</b> <b>into</b> <b>a</b> <b>text</b> <b>generation</b> <b>function</b> <b>for</b> <b>dynamic</b> <b>rendering</b>
       The <u>-fun</u> option, used in combination with <u>-c</u> and often <u>-co</u> produces an <b>OCaml</b> source file which provides a
       function <u>render</u> with the following signature:

              val render : ?print:(string -&gt; unit) -&gt; 'a -&gt; unit

       The  polymorphic argument is called <u>param</u> in the generated code and can be used to pass runtime arguments
       into the <u>render</u> function. The <u>print</u> function is used to set the initial  value  of  Camlmix.printer  (see
       below). It's default value is:

                     fun s -&gt; print_string s; flush stdout

   <b>Runtime</b> <b>hooks</b>
       The  text  generation program, which <b>camlmix</b> generates, contains a module <u>Camlmix</u> at the beginning, which
       can be used in code blocks. This module has the following signature.

           module <b>Camlmix</b> : sig

               val <b>source</b> : string ref

               val <b>line</b> : int ref

               val <b>char</b> : int ref
                      Location of the first character of  the  current  block  in  its  source  file.  Line  and
                      character  numbers  count from 1. These references are updated by <b>camlmix</b> at the beginning
                      of each block.

               val <b>printer</b> : (string -&gt; unit) ref
                      function for printing text blocks

               val <b>print_with</b> : (string -&gt; unit) -&gt; unit
                      <u>print_with</u> <u>f</u> causes the next text block to be  printed  with  <u>f</u>  instead  of  the  current
                      printer. Its behavior is undefined if it is called several times in the same code block.

               val <b>print_if</b> : bool -&gt; unit
                      <u>print_if</u>  <u>cond</u>  prints  the  next  text  block  only  if  condition  <u>cond</u> is true. It uses
                      <u>print_with</u> internally.

           end

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       The <b>camlmix</b> web page, <u><a href="http://mjambon.com/camlmix/">http://mjambon.com/camlmix/</a></u>

</pre><h4><b>AUTHOR</b></h4><pre>
       This manual page was written by Sylvain Le Gall &lt;<a href="mailto:gildor@debian.org">gildor@debian.org</a>&gt; and Hendrik Tews  &lt;<a href="mailto:hendrik@askra.de">hendrik@askra.de</a>&gt;,
       specifically for the Debian project (and may be used by others).

CAMLMIX                                             May 2013                                          <u><a href="../man1/CAMLMIX.1.html">CAMLMIX</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>