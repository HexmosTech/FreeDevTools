<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>softhsm2-util - support tool for libsofthsm2</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/softhsm2">softhsm2_2.6.1-2.2ubuntu3_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       softhsm2-util - support tool for libsofthsm2

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>softhsm2-util</b> <b>--show-slots</b>

       <b>softhsm2-util</b> <b>--init-token</b> <b>--free</b> <b>--label</b> <u>text</u> \
              [<b>--so-pin</b> <u>PIN</u> <b>--pin</b> <u>PIN</u>]

       <b>softhsm2-util</b> <b>--import</b> <u>path</u> [<b>--file-pin</b> <u>PIN</u>] <b>--token</b> <u>label</u> \
              [<b>--pin</b> <u>PIN</u> <b>--no-public-key]</b> <b>--label</b> <u>text</u> <b>--id</b> <u>hex</u>

       <b>softhsm2-util</b> <b>--import</b> <u>path</u> <b>--aes</b> <b>--token</b> <u>label</u> \
              [<b>--pin</b> <u>PIN]</u> <b>--label</b> <u>text</u> <b>--id</b> <u>hex</u>

       <b>softhsm2-util</b> <b>--delete-token</b> <b>--token</b> <u>text</u>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>softhsm2-util</b>  is a support tool mainly for libsofthsm2. It can also be used with other PKCS#11 libraries
       by using the option <b>--module</b>

       Read the sections below to get more information  on  the  libsofthsm2  and  PKCS#11.   Most  applications
       assumes  that the token they want to use is already initialized.  It is then up to the user to initialize
       the PKCS#11 token.  This is done by using the PKCS#11 interface, but instead of writing your own tool you
       can use the <b>softhsm2-util</b> tool.

       Keys are usually created directly in the token, but the user may want to use an existing key pair.   Keys
       can be imported to a token by using the PKCS#11 interface, but this tool can also be used if the user has
       the key pair in a PKCS#8 file.  If you need to convert keys from BIND .private-key format over to PKCS#8,
       one can use <b>softhsm2-keyconv</b>.

       The  libary <b>libsofthsm2</b>, known as SoftHSM, provides cryptographic functionality by using the PKCS#11 API.
       It was developed as a part of  the  OpenDNSSEC  project,  thus  designed  to  meet  the  requirements  of
       OpenDNSSEC,  but  can  also  work  together with other software that want to use the functionality of the
       PKCS#11 API.

       SoftHSM is a software implementation of a generic cryptographic device with a PKCS#11  interface.   These
       devices  are  often called tokens.  Read in the manual <a href="../man5/softhsm2.conf.5.html">softhsm2.conf</a>(5) on how to create these tokens and
       how they are added to a slot in SoftHSM.

       The <b>PKCS#11</b> API can be used to handle and store cryptographic keys.   This  interface  specifies  how  to
       communicate  with  cryptographic  devices  such as HSMs (Hardware Security Modules) and smart cards.  The
       purpose of these devices is, among others, to generate cryptographic keys and  sign  information  without
       revealing  private-key  material  to the outside world.  They are often designed to perform well on these
       specific tasks compared to ordinary processes in a normal computer.

</pre><h4><b>ACTIONS</b></h4><pre>
       <b>--delete-token</b>
              Delete the token at a given slot.  Use with <b>--token</b> or <b>--serial</b>.  Any content  in  token  will  be
              erased.

       <b>--help</b>, <b>-h</b>
              Show the help information.

       <b>--import</b> <u>path</u>
              Import a key pair from the given <u>path</u>.  The file must be in PKCS#8-format.
              Use with <b>--slot</b> or <b>--token</b> or <b>--serial</b>, <b>--file-pin</b>, <b>--pin</b>, <b>--no-public-key</b>, <b>--label</b>, and <b>--id</b>.
              Can also be used with <b>--aes</b> to use file as is and import it as AES.

       <b>--init-token</b>
              Initialize  the  token  at  a  given  slot,  token label or token serial.  If the token is already
              initialized then this command will reinitialize it, thus erasing all the  objects  in  the  token.
              The  matching  Security  Officer  (SO)  PIN  must  also  be  provided when doing reinitialization.
              Initialized tokens will be reassigned to another slot (based on the token serial number).
              Use with <b>--slot</b> or <b>--token</b> or <b>--serial</b> or <b>--free</b>, <b>--label</b>, <b>--so-pin</b>, and <b>--pin</b>.

       <b>--show-slots</b>
              Display all the available slots and their current status.

       <b>--version</b>, <b>-v</b>
              Show the version info.

</pre><h4><b>OPTIONS</b></h4><pre>
       <b>--aes</b>  Used to tell import to use file as is and import it as AES.

       <b>--file-pin</b> <u>PIN</u>
              The <u>PIN</u> will be used to decrypt the PKCS#8 file.  If not given then the PKCS#8 file is assumed  to
              be unencrypted.

       <b>--force</b>
              Use this option to override the warnings and force the given action.

       <b>--free</b> Use the first free/uninitialized token.

       <b>--id</b> <u>hex</u>
              Choose  an ID of the key pair.  The ID is in hexadecimal with a variable length.  Use with <b>--force</b>
              when importing a key pair if the ID already exists.

       <b>--label</b> <u>text</u>
              Defines the <u>label</u> of the object or the token that will be set.

       <b>--module</b> <u>path</u>
              Use another PKCS#11 library than SoftHSM.

       <b>--no-public-key</b>
              Do not import the public key.

       <b>--pin</b> <u>PIN</u>
              The <u>PIN</u> for the normal user.

       <b>--serial</b> <u>number</u>
              Will use the token with a matching serial number.

       <b>--slot</b> <u>number</u>
              The slot where the token is located.

       <b>--so-pin</b> <u>PIN</u>
              The <u>PIN</u> for the Security Officer (SO).

       <b>--token</b> <u>label</u>
              Will use the token with a matching token label.

</pre><h4><b>EXAMPLES</b></h4><pre>
       The token can be initialized using this command:

              softhsm2-util --init-token --slot 1 --label "mytoken"

       A key pair can be imported using the softhsm tool where you specify  the  path  to  the  key  file,  slot
       number, label and ID of the new objects, and the user PIN.  The file must be in PKCS#8 format.

              softhsm2-util --import key1.pem --token "mytoken" --label "My key" \
                     --id A1B2 --pin 123456
              (Add, --file-pin <u>PIN</u>, if the key file is encrypted.)

</pre><h4><b>AUTHORS</b></h4><pre>
       Written by Rickard Bellgrim, Francis Dupont, Ren√© Post, and Roland van Rijswijk.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <u><a href="../man1/softhsm2-keyconv.1.html">softhsm2-keyconv</a></u>(1), <u><a href="../man1/softhsm2-migrate.1.html">softhsm2-migrate</a></u>(1), <u><a href="../man5/softhsm2.conf.5.html">softhsm2.conf</a></u>(5)

SoftHSM                                         22 September 2017                               <u><a href="../man1/SOFTHSM2-UTIL.1.html">SOFTHSM2-UTIL</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>