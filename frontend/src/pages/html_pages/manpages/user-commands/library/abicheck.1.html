<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>abicheck  -  check  application  binaries  for  calls to private or evolving symbols in libraries and for</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/abicheck">abicheck_1.2-10_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       abicheck  -  check  application  binaries  for  calls to private or evolving symbols in libraries and for
       static linking of some system libraries.

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>abicheck</b> [-h] [-k] [-a] [-I] [-v] [-f <u>listfile]</u> [-o <u>outfile]</u> [-p <u>pattern]</u> [-e  <u>pattern]</u>  [-j  <u>njobs]</u>  [-l
       <u>library]</u> [-L <u>ldpath]</u> [(-s|-S) <u>dbfile]</u> [(-d|-D) <u>dbfile]</u> [-O <u>dbfile]</u> [-A <u>listfile]</u> <u>files</u>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>abicheck</b>  is  run  on  application  binaries  and  issues  warnings  whenever  any of the following three
       conditions are detected:

       • <u>Private</u> <u>symbol</u> <u>usage.</u>  Private symbols are functions or data variables in a library  package  that  are
       internal  to  that  package. They are used by the libraries in the package for internal communication and
       are not part of the API/ABI that application developers should use.

       • <u>Evolving</u> <u>symbol</u> <u>usage.</u>  Evolving symbols are functions or data variables in a library package that  are
       intended  for  developer  consumption, but have been marked as "evolving" or "unstable" in the sense that
       they may become incompatible or disappear on a later release of the library package.

       • <u>Static</u> <u>linking.</u>  Static linking of system libraries  (for  example,  libc.a)  into  an  application  is
       generally  not  a  good  idea  because the system library code it "locks" into the application binary may
       become incompatible with later releases of the system. abicheck attempts to detect static  linking  of  a
       few system libraries.

       The  default behavior is, for each binary object checked, to examine direct calls from that binary object
       only. The <b>-l</b> option allows the libraries the binary object brings in to have their calls checked as well.

</pre><h4><b>OPTIONS</b></h4><pre>
       The following options are supported:

       <b>-k</b>     Keep on checking binaries even if there are serious  errors  (dynamic  linker  reports  unresolved
              symbols, <b><a href="../man1/ldd.1.html">ldd</a></b>(1) failures, no symbols detected).

       <b>-h</b>     Print out long form of help.

       <b>-v</b>     Verbose.  Print out additional information.

       <b>-f</b> <u>listfile</u>
              The  <u>listfile</u>  is  a file containing a list of binary objects to check, one per line. This list is
              appended to any files provided as arguments on the command line.  If <u>listfile</u> is "-",  then  stdin
              is used.

       <b>-o</b> <u>outfile</u>
              Write output to <u>outfile</u> instead of stdout.

       <b>-p</b> <u>pattern</u>
              Modify the version name pattern match labelling private version sets. Default is <b>/private/</b> using a
              case-insensitive match.

              If  a component of the regex <u>pattern</u> contains two colons in a row: <b>patt1::patt2</b>, then symbol-level
              matching will be activated by checking whether <u>version::symbol</u> or <u>library::symbol</u> matches  <u>pattern</u>
              (where  the  symbol  name,  version  (if  any),  and  library basename are substituted for <u>symbol</u>,
              <u>version</u>, and <u>library</u>).  For example,

                  -p 'FOO_VERS.*::_foopriv'
              or
                  -p 'libfoo.so.*::_foopriv'

       <b>-e</b> <u>pattern</u>
              Same as <b>-p</b> but  for "evolving" interfaces.

       <b>-L</b> <u>ldpath</u>
              Set the <b>LD_LIBRARY_PATH</b> environment variable to <u>ldpath</u> before invoking dynamic linker.  Use <b>-L</b>  ""
              to unset <b>LD_LIBRARY_PATH.</b>

              If  one  of  the components of <u>ldpath</u> is the string "find", then all shared libraries in <u>files</u> are
              found and their paths inserted into the "find" location.  Note that the order will random.

       <b>-l</b> <u>library</u>
              Add the basename or full pathname of the shared library <u>library</u> to  the  list  of  objects  to  be
              checked  for making private calls. This option may occur more than once on the command line and is
              additive.  By default, only direct calls from a binary to the system libraries are  checked.   The
              <b>-l</b> switch allows checking of indirect calls e.g.: app -&gt; supportlib -&gt; systemlib.

       <b>-a</b>     Loop through all of the binaries before checking and collect the list of all shared objects.  Take
              the  basename  of  each  shared object found and act as though it was specified with the <b>-l</b> option
              option and then run the abicheck checks.  This way, calls from all "application internal"  objects
              are  checked  rather  than  just  the direct calls.  (Useful when shared objects do not have their
              dependencies recorded.)

       <b>-I</b>     Ignore shared libraries in checking, only check executables.  Compatible with <b>-a,</b>  libraries  will
              be searched for first but then not checked.

       <b>-d</b> <u>dbfile,</u> <b>-D</b> <u>dbfile</u>
              Specify  fallback  flat-file  symbol  database  for  the dynamic (public vs. private) test.  These
              classifications will be used if the library is not versioned (i.e. classification does  not  exist
              in  the  library  itself).   Use  <b>-D</b> to indicate that only information from <u>dbfile</u> should be used.
              Lines in <u>dbfile</u> can be of one of these forms:

                   library|symbol
                   library|class|symbol
                   library|FILE=path

              <u>library</u> must be the full path to the library to be specified (it cannot be a basename).

              The first form marks <u>symbol</u> as private.

              The second form marks <u>symbol</u> with <u>class</u> where <u>class</u> may be public, private, or evolving.

              The third form indicates the  file  <u>path</u>  should  be  opened  on  demand  when  <u>library</u>  is  first
              encountered.   File  <u>path</u> contains lines of the first two forms except for the <u>library</u> field.  The
              third form is a speedup  to  avoid  processing  many  classification  lines  for  libraries  never
              encountered in the run.

       <b>-O</b> <u>dbfile</u>
              Specify  an override file to modify the symbol classification for the dynamic (public vs. private)
              test.  The format for the override file is like:

                   library|symbol|class

              The library can be the full path or basename.  If library is "__SKIP__" the symbol will be ignored
              for any library it is found in.  The class can be "public", "private", "evolving",  or  "deleted".
              The  "deleted"  class  is  special-cased,  means  the  symbol was deleted from the library on some
              release.  The symbol "__ALL__" for the "deleted" class means the entire library was deleted or  is
              otherwise unstable to use.

              Examples:

                   libfoo.so.1|__bar|private
                   /lib/libxyz.so.1|baz|public
                   __SKIP__|__fputwc_xpg5

              These settings override any classification inside the library (from library versioning, obtainable
              from <b><a href="../man1/pvs.1.html">pvs</a></b>(1), etc).

       <b>-A</b> <u>listfile</u>
              Set  the  ABI  libraries  of interest to the libraries listed in <u>listfile</u> (full pathnames, one per
              line).  Only calls into these libraries will be checked; all other library calls will be ignored.

       <b>-s</b> <u>dbfile,</u> <b>-S</b> <u>dbfile</u>
              Specify more extensive symbol databases for the static  linking  test.   <u>dbfile</u>  may  be  a  comma
              separated  list  of  files.  If a file is a static archive (lib*.a) it is processed to extract the
              symbols.  Otherwise it is a database file consisting of lines of  the  form  symbol|library:module
              for example:

                      shmat|/usr/lib/libc.a:shmsys.o
                      shmctl|/usr/lib/libc.a:shmsys.o
                      shmdt|/usr/lib/libc.a:shmsys.o
                      shmget|/usr/lib/libc.a:shmsys.o
                      ...

              When  all symbols in a module.o are defined in the application, static linking of that module (and
              corresponding library archive) is assumed.  Use <b>-S</b> to indicate that  only  the  static  link  test
              should be performed.

              Use <b>-S</b>  <b>int</b> to do only the static link check and using the internal database.

              Use <b>-s</b>  <b>none</b> or <b>-S</b>  <b>none</b> to skip the static linking check entirely.

       <b>-j</b> <u>njobs</u>
              Run  <u>njobs</u>  in  parallel  as separate processes.  Implies <b>-k</b>.  Primarily intended for multiple CPU
              machines where <u>njobs</u> should be close to the number of processors.   Output  is  collected  in  tmp
              files and printed all at once near the end of the run as each job finishes.

              If  <u>njobs</u>  is "-", "detect", or "n", then <u>njobs</u> will be set to a number depending on the number of
              processors on the current machine (if that can be determined).

</pre><h4><b>OPERANDS</b></h4><pre>
       The following operands are supported:

       <u>files</u>  A list of application binary objects to check.

</pre><h4><b>OUTPUT</b></h4><pre>
       There is one line per problem (there may be multiple problems per binary checked)  which  look  like  the
       following:

              If no problems were found:
                  <u>filename</u>: OK

              If private symbol usage:
                  <u>filename:</u> PRIVATE (<u>library</u>:<u>private_version</u>) <u>private_sym</u>

              If evolving symbol usage:
                  <u>filename</u>: EVOLVING (<u>library</u>:<u>evolving_vers</u>) <u>evolving_sym</u>

              If file statically linked in a system archive library:
                  <u>filename</u>: STATIC_LINK (<u>archive</u>)

              If checking of the file was skipped:
                  <u>filename</u>: SKIP (<u>reason</u>)

       Under use of the deleted class in the <b>-O</b> override file option, these problems may be found:

              If a symbol has been deleted from the library on some release:
                  <u>filename</u>: DELETED_SYM: <u>symbol</u>/<u>library</u>

              (<u>library</u> will be "unbound" if the symbol was unbound)

              If an entire library has been deleted on some release or is otherwise unstable to use:
                 <u>filename</u>: UNSTABLE_LIB: <u>library-soname</u> = <u>library-path</u>

              (<u>library-path</u> may be "file not found" if the library could not be found)

       The following problems will cause a fatal error unless the <b>-k</b> option is used:

              If the dynamic linker could not resolve <u>N</u> symbols when <b>ldd</b> <b>-r</b> was run:
                  <u>filename</u>: UNBOUND_SYMBOLS: <u>N</u>

              If the dynamic linker found no dynamic bindings:
                  <u>filename</u>: NO_BINDINGS

              If <b>ldd</b> <b>-r</b> with <b>LD_DEBUG=files,bindings</b> failed:
                  <u>filename</u>: LDD_ERROR

       In  these  latter three cases run <b>ldd</b> <b>-r</b> on the binary file for more information on what went wrong (note
       that <b>abicheck</b> runs <b>ldd</b> <b>-r</b> with <b>LD_DEBUG=files,bindings</b> set). On some systems the dynamic linker will  not
       process SUID programs with <b>LD_DEBUG</b> set (this usually results in <b>NO_BINDINGS</b> in the <b>abicheck</b> output).

       Note  that  if  you  are  running abicheck on a shared library (for example, libfoo.so) that has <u>not</u> been
       built with <b>-l</b> <u>lib</u> flags to record its library dependencies, then the "unbound symbols"  problem  is  very
       likely.  There  is  not  much  that can be done besides rebuilding the library or checking an application
       binary that uses the library and using the <b>-l</b> option of <b>abicheck.</b>

</pre><h4><b>EXIT</b> <b>STATUS</b></h4><pre>
       The following exit values are returned:

       <b>0</b>      No errors and no problems found.

       <b>1</b>      A fatal error occurred.

       <b>2</b>      No fatal errors occurred, but some binaries had problems detected.

</pre><h4><b>NOTES</b></h4><pre>
       Only ELF objects are checked.

       In the <b>-s</b> <b>-S</b> <b>-d</b> and <b>-O</b> dbfiles the '#' character starts a comment line in the usual way.

       Unless one is using the "::" custom matches supplied via the <b>-p</b> or <b>-e</b>  flags,  abicheck  can  only  check
       against  system  libraries  that  have  had  symbol  versioning  applied to them (i.e. the private and/or
       evolving information recorded for each symbol  in  the  library  itself).  For  more  info  about  symbol
       versioning,    see    the    "Solaris    Linker    and   Libraries   Guide"   answerbook   at   the   URL
       <a href="http://docs.sun.com/ab2/coll.45.13">http://docs.sun.com/ab2/coll.45.13</a> and the Commands/Version-Script section of the GNU  linker  "ld"  info
       page.

       The  default  symbol version name matching patterns are case insensitive matches to the strings "private"
       and "evolving" for the private and evolving cases, respectively.

       Odd filenames containing the single-quote character or newline will be skipped; such characters interfere
       with calling commands via the shell.

       To recurse directories use <b><a href="../man1/find.1.html">find</a></b>(1) and either collect the output to a file for use with the <b>-f</b> option, or
       in a pipe in via:

               find ... | abicheck -f - ...

</pre><h4><b>BUGS</b></h4><pre>
       The program is dependent on the form of the runtime linker's debug output.  Since this output is intended
       to be human readable rather than machine  readable,  <b>abicheck</b>  will  break  whenever  the  output  format
       changes.   On  Solaris  it  is  possible  that  the Link Auditing C interface could be used to avoid this
       problem.

       On Linux when <b><a href="../man1/ldd.1.html">ldd</a></b>(1) is run on a SUID binary, it (ldd and the dynamic-linker) will sometimes actually run
       the binary. On Linux SUID/SGID binaries are currently skipped even if the user is root; test unprivileged
       copies instead.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man1/ld.1.html">ld</a></b>(1), <b><a href="../man1/ldd.1.html">ldd</a></b>(1),

                                                 26 August 2003                                      <u><a href="../man1/abicheck.1.html">abicheck</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>