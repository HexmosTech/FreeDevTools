<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>condor_submit_dag - HTCondor Manual</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/condor">condor_23.6.2+dfsg-2build1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       condor_submit_dag - HTCondor Manual

       Manage and queue jobs within a specified DAG for execution on remote machines

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>condor_submit_dag</b> [<b>-help</b> <b>|</b> <b>-version</b> ]

       <b>condor_submit_dag</b> [<b>-no_submit</b> ] [<b>-verbose</b> ] [<b>-force</b> ] [<b>-dagman</b> <u>DagmanExecutable</u>] [<b>-maxidle</b> <u>NumberOfProcs</u>]
       [<b>-maxjobs</b>  <u>NumberOfClusters</u>]  [<b>-maxpre</b>  <u>NumberOfPreScripts</u>] [<b>-maxpost</b> <u>NumberOfPostScripts</u>] [<b>-notification</b>
       <u>value</u>] [<b>-r</b> <u>schedd_name</u>] [<b>-debug</b> <u>level</u>] [<b>-usedagdir</b> ] [<b>-outfile_dir</b>  <u>directory</u>]  [<b>-config</b>  <u>ConfigFileName</u>]
       [<b>-insert_sub_file</b>  <u>FileName</u>]  [<b>-append</b> <u>Command</u>] [<b>-batch-name</b> <u>batch_name</u>] [<b>-autorescue</b> <u>0|1</u>] [<b>-dorescuefrom</b>
       <u>number</u>] [<b>-load_save</b> <u>filename</u>] [<b>-allowversionmismatch</b> ] [<b>-no_recurse</b> ] [<b>-do_recurse</b>  ]  [<b>-update_submit</b>  ]
       [<b>-import_env</b>   ]   [<b>-include_env</b>   <u>Variables</u>]   [<b>-insert_env</b>   <u>Key=Value</u>]  [<b>-DumpRescue</b>  ]  [<b>-valgrind</b>  ]
       [<b>-DontAlwaysRunPost</b>  ]   [<b>-AlwaysRunPost</b>   ]   [<b>-priority</b>   <u>number</u>]   [<b>-schedd-daemon-ad-file</b>   <u>FileName</u>]
       [<b>-schedd-address-file</b>  <u>FileName</u>]  [<b>-suppress_notification</b> ] [<b>-dont_suppress_notification</b> ] [<b>-DoRecovery</b> ]
       <u>DAGInputFile1</u> [<u>DAGInputFile2</u> <u>...</u> <u>DAGInputFileN</u> ]

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <u>condor_submit_dag</u> is the program for submitting a DAG (directed acyclic  graph)  of  jobs  for  execution
       under  HTCondor.  The  program  enforces the job dependencies defined in one or more <u>DAGInputFile</u>s.  Each
       <u>DAGInputFile</u> contains commands to direct the submission of  jobs  implied  by  the  nodes  of  a  DAG  to
       HTCondor. Extensive documentation is in the HTCondor User Manual section on DAGMan.

       Some  options  may  be  specified  on  the command line or in the configuration or in a node job's submit
       description file. Precedence is given to command line options  or  configuration  over  settings  from  a
       submit   description   file.   An   example   is   e-mail   notifications.  When  configuration  variable
       <u>DAGMAN_SUPPRESS_NOTIFICATION</u> is its default value of <b>True</b>, and  a  node  job's  submit  description  file
       contains

          notification = Complete

       e-mail will not be sent upon completion, as the value of <u>DAGMAN_SUPPRESS_NOTIFICATION</u> is enforced.

</pre><h4><b>OPTIONS</b></h4><pre>
          <b>-help</b>  Display usage information and exit.

          <b>-version</b>
                 Display version information and exit.

          <b>-no_submit</b>
                 Produce  the  HTCondor  submit  description  file  for  DAGMan,  but do not submit DAGMan as an
                 HTCondor job.

          <b>-verbose</b>
                 Cause <u>condor_submit_dag</u> to give verbose error messages.

          <b>-force</b> Require <u>condor_submit_dag</u> to overwrite the files that it produces, if the files already  exist.
                 Note  that  <b>dagman.out</b>  will be appended to, not overwritten. If rescue files exist then DAGMan
                 will run the original DAG and rename the rescue files.  Any  old-style  rescue  files  will  be
                 deleted.

          <b>-dagman</b> <u>DagmanExecutable</u>
                 Allows the specification of an alternate <u>condor_dagman</u> executable to be used instead of the one
                 found in the user's path. This must be a fully qualified path.

          <b>-maxidle</b> <u>NumberOfProcs</u>
                 Sets  the  maximum number of idle procs allowed before <u>condor_dagman</u> stops submitting more node
                 jobs. If this option is omitted then the number of idle procs is limited by  the  configuration
                 variable <u>DAGMAN_MAX_JOBS_IDLE</u> which defaults to 1000.  To disable this limit, set <u>NumberOfProcs</u>
                 to  0.  The <u>NumberOfProcs</u> can be exceeded if a nodes job has a queue command with more than one
                 proc to queue. i.e. <b>queue</b> <b>500</b> will submit all procs even if <u>NumberOfProcs</u> is <b>250</b>. In this  case
                 DAGMan will wait for for the number of idle procs to fall below 250 before submitting more jobs
                 to the <b>condor_schedd</b>.

          <b>-maxjobs</b> <u>NumberOfClusters</u>
                 Sets  the  maximum  number of clusters within the DAG that will be submitted to HTCondor at one
                 time. Each cluster is associated with one node job no matter how many individual procs  are  in
                 the  cluster.   <u>NumberOfClusters</u>  is a non-negative integer. If this option is omitted then the
                 number of clusters is limited by the  configuration  variable  <u>DAGMAN_MAX_JOBS_SUBMITTED</u>  which
                 defaults to 0 (unlimited).

          <b>-maxpre</b> <u>NumberOfPreScripts</u>
                 Sets  the  maximum  number  of  PRE  scripts  within  the  DAG that may be running at one time.
                 <u>NumberOfPreScripts</u> is a non-negative integer.  If this option is omitted,  the  number  of  PRE
                 scripts is limited by the configuration variable <u>DAGMAN_MAX_PRE_SCRIPTS</u> which defaults to 20.

          <b>-maxpost</b> <u>NumberOfPostScripts</u>
                 Sets  the  maximum  number  of  POST  scripts  within  the DAG that may be running at one time.
                 <u>NumberOfPostScripts</u> is a non-negative integer. If this option is omitted, the  number  of  POST
                 scripts is limited by the configuration variable <u>DAGMAN_MAX_POST_SCRIPTS</u> which defaults to 20.

          <b>-notification</b> <u>value</u>
                 Sets  the  e-mail  notification  for  DAGMan  itself.  This information will be used within the
                 HTCondor submit description file for DAGMan.  This file is produced by  <u>condor_submit_dag</u>.  See
                 the description of <b>notification</b> within <u>condor_submit</u> manual page for a specification of <u>value</u>.

          <b>-r</b> <u>schedd_name</u>
                 Submit  <u>condor_dagman</u> to a <u>condor_schedd</u> on a remote machine.  It is assumed that any necessary
                 files will be present on the remote machine via some method like a  shared  filesystem  between
                 the  local  and  remote  machines.  The  user  also  requires the correct permissions to submit
                 remotely similarly to <u>condor_submit</u>'s <b>-remote</b> option. If other options are  desired,  including
                 transfer of other input files, consider using the <b>-no_submit</b> option and modifying the resulting
                 submit  file  for  specific needs before using <u>condor_submit</u> on the prouduced DAGMan job submit
                 file.

          <b>-debug</b> <u>level</u>
                 Passes the the <u>level</u> of debugging output desired to <u>condor_dagman</u>. <u>level</u> is  an  integer,  with
                 values  of 0-7 inclusive, where 7 is the most verbose output. See the <u>condor_dagman</u> manual page
                 for detailed descriptions of these values. If not specified,  no  <b>-debug</b>  <u>V</u>alue  is  passed  to
                 <u>condor_dagman</u>.

          <b>-usedagdir</b>
                 This  optional  argument causes <u>condor_dagman</u> to run each specified DAG as if <u>condor_submit_dag</u>
                 had been run in the directory containing that DAG file. This option is most useful when running
                 multiple DAGs in a single <u>condor_dagman</u>. Note that the <b>-usedagdir</b> flag must not  be  used  when
                 running an old-style Rescue DAG.

          <b>-outfile_dir</b> <u>directory</u>
                 Specifies  the  directory  in  which the <b>.dagman.out</b> file will be written. The <u>directory</u> may be
                 specified relative to the current  working  directory  as  <u>condor_submit_dag</u>  is  executed,  or
                 specified  with  an  absolute  path. Without this option, the <b>.dagman.out</b> file is placed in the
                 same directory as the first DAG input file listed on the command line.

          <b>-config</b> <u>ConfigFileName</u>
                 Specifies a configuration file to be used for this DAGMan run. This configuration will apply to
                 all DAGs submitted in via DAGMan. Note that only one custom configuration file can be specified
                 for a DAGMan workflow which will cause a failure if used in conjuntion with  a  DAG  using  the
                 <b>CONFIG</b> command.

          <b>-insert_sub_file</b> <u>FileName</u>
                 Specifies  a  file  to  insert  into  the  <b>.condor.sub</b>  file  created by <u>condor_submit_dag</u>. The
                 specified file must contain only legal submit file commands. Only one file can be inserted. The
                 specified file will override the file set by the configuration variable <u>DAGMAN_INSERT_SUB_FILE</u>.
                 The specified file is inserted into the <b>.condor.sub</b> file  before  the  queue  command  and  any
                 commands specified with the <b>-append</b> option.

          <b>-append</b> <u>Command</u>
                 Specifies  a  command  to  append  to  the  <b>.condor.sub</b>  file created by <u>condor_submit_dag</u>. The
                 specified command is appended to the <b>.condor.sub</b> file immediately before the queue command  and
                 after any commands added via <b>-insert_sub_file</b> or <u>DAGMAN_INSERT_SUB_FILE</u>.  Multiple commands are
                 specified  by  using  the  <b>-append</b>  option multiple times. Commands with spaces in them must be
                 enclosed in double quotes.

          <b>-batch-name</b> <u>batch_name</u>
                 Set the batch name for this DAG/workflow. The batch name is displayed by <u>condor_q</u>.  If  omitted
                 DAGMan  will  set  the batch name to <b>DagFile+ClusterId</b> where <u>DagFile</u> is the name of the primary
                 DAG submitted DAGMan and <u>ClusterId</u> is the DAGMan proper jobs <u>ClusterId</u>. The batch name  is  set
                 in  all jobs submitted by DAGMan and propagated down into sub-DAGs. Note: set the batch name to
                 ' ' (space) to avoid overriding batch names specified in node job submit files.

          <b>-autorescue</b> <u>0|1</u>
                 Whether to automatically run the newest rescue DAG for the given DAG file, if one exists  (0  =
                 <b>false</b>, 1 = <b>true</b>).

          <b>-dorescuefrom</b> <u>number</u>
                 Forces  <u>condor_dagman</u> to run the specified rescue DAG number for the given DAG. A value of 0 is
                 the same as not specifying this option. Specifying a non-existent rescue DAG is a fatal error.

          <b>-load_save</b> <u>filename</u>
                 Specify a file with saved DAG progress to re-run the DAG from. If  given  a  path  DAGMan  will
                 attempt to read that file following that path. Otherwise, DAGMan will check for the file in the
                 DAG's <b>save_files</b> sub-directory.

          <b>-allowversionmismatch</b>
                 This  optional  argument causes <u>condor_dagman</u> to allow a version mismatch between <u>condor_dagman</u>
                 itself and the <b>.condor.sub</b> file produced by <u>condor_submit_dag</u>  (or,  in  other  words,  between
                 <u>condor_submit_dag</u>  and  <u>condor_dagman</u>).  WARNING! This option should be used only if absolutely
                 necessary. Allowing version mismatches can cause subtle problems when running DAGs.

          <b>-no_recurse</b>
                 This optional argument causes <u>condor_submit_dag</u> to not run itself recursively  on  nested  DAGs
                 (this is now the default; this flag has been kept mainly for backwards compatibility).

          <b>-do_recurse</b>
                 This  optional  argument  causes  <u>condor_submit_dag</u> to run itself recursively on nested DAGs to
                 pre-produce their <b>.condor.sub</b> files. DAG nodes specified with the <b>SUBDAG</b>  <b>EXTERNAL</b>  keyword  or
                 with  submit  file  names ending in <b>.condor.sub</b> are considered nested DAGs. This flag is useful
                 when the configuration variable <u>DAGMAN_GENERATE_SUBDAG_SUBMITS</u> is <b>False</b> (Not default).

          <b>-update_submit</b>
                 This optional argument causes an existing <b>.condor.sub</b> file to  not  be  treated  as  an  error;
                 rather,  the  <b>.condor.sub</b>  file  will  be  overwritten,  but  the  existing values of <b>-maxjobs</b>,
                 <b>-maxidle</b>, <b>-maxpre</b>, and <b>-maxpost</b> will be preserved.

          <b>-import_env</b>
                 This optional argument causes <u>condor_submit_dag</u> to import  the  current  environment  into  the
                 <b>environment</b> command of the <b>.condor.sub</b> file it generates.

          <b>-include_env</b> <u>Variables</u>
                 This  optional  argument  takes  a  comma  separated  list  of  enviroment  variables to add to
                 <b>.condor.sub</b> <b>getenv</b> environment filter which causes found matching environment variables  to  be
                 added to the DAGMan manager jobs <b>environment</b>.

          <b>-insert_env</b> <u>Key=Value</u>
                 This  optional  argument takes a delimited string of <u>Key=Value</u> pairs to explicitly set into the
                 <b>.condor.sub</b> files <u>Environment</u> macro.  The base delimiter is a semicolon that can  be  overriden
                 by  setting  the  first  character  in the string to a valid delimiting character.  If multiple
                 <b>-insert_env</b> flags contain the same <u>Key</u> then the last occurances <u>Value</u> will be set in the DAGMan
                 jobs <b>environment</b>.

          <b>-DumpRescue</b>
                 This optional argument tells <u>condor_dagman</u> to immediately dump a rescue DAG and then  exit,  as
                 opposed  to  actually running the DAG.  This feature is mainly intended for testing. The Rescue
                 DAG file is produced whether or not there are parse errors reading the original DAG input file.
                 The name of the file differs if there was a parse error.

          <b>-valgrind</b>
                 This optional argument causes the submit description  file  generated  for  the  submission  of
                 <u>condor_dagman</u>  to  be  modified.  The  executable becomes <u>valgrind</u> run on <u>condor_dagman</u>, with a
                 specific set of arguments intended for testing  <u>condor_dagman</u>.   Note  that  this  argument  is
                 intended  for  testing purposes only. Using the <b>-valgrind</b> option without the necessary <u>valgrind</u>
                 software installed will cause the DAG to fail. If the DAG does  run,  it  will  run  much  more
                 slowly than usual.

          <b>-DontAlwaysRunPost</b>
                 This option causes the submit description file generated for the submission of <u>condor_dagman</u> to
                 be  modified.  It  causes  <u>condor_dagman</u> to not run the POST script of a node if the PRE script
                 fails.

          <b>-AlwaysRunPost</b>
                 This option causes the submit description file generated for the submission of <u>condor_dagman</u> to
                 be modified. It causes <u>condor_dagman</u> to always run the POST script of a node, even if  the  PRE
                 script fails.

          <b>-priority</b> <u>number</u>
                 Sets  the  minimum  job priority of node jobs submitted and running under the <u>condor_dagman</u> job
                 submitted by this <u>condor_submit_dag</u> command.

          <b>-schedd-daemon-ad-file</b> <u>FileName</u>
                 Specifies a full path to a daemon ad file dropped by a  <u>condor_schedd</u>.  Therefore  this  allows
                 submission  to  a  specific  scheduler if several are available without repeatedly querying the
                 <u>condor_collector</u>.  The  value  for  this  argument  defaults  to  the  configuration  attribute
                 <u>SCHEDD_DAEMON_AD_FILE</u>.

          <b>-schedd-address-file</b> <u>FileName</u>
                 Specifies  a  full  path  to  an address file dropped by a <u>condor_schedd</u>. Therefore this allows
                 submission to a specific scheduler if several are available  without  repeatedly  querying  the
                 <u>condor_collector</u>.  The  value  for  this  argument  defaults  to  the  configuration  attribute
                 <u>SCHEDD_ADDRESS_FILE</u>.

          <b>-suppress_notification</b>
                 Causes jobs submitted by <u>condor_dagman</u> to not send email  notification  for  events.  The  same
                 effect  can be achieved by setting configuration variable <u>DAGMAN_SUPPRESS_NOTIFICATION</u> to <b>True</b>.
                 This command line option is  independent  of  the  <b>-notification</b>  command  line  option,  which
                 controls notification for the <u>condor_dagman</u> job itself.

          <b>-dont_suppress_notification</b>
                 Causes  jobs  submitted by <u>condor_dagman</u> to defer to content within the submit description file
                 when deciding to send email notification for events. The same effect can be achieved by setting
                 configuration variable  <u>DAGMAN_SUPPRESS_NOTIFICATION</u>  to  <b>False</b>.  This  command  line  flag  is
                 independent  of  the  <b>-notification</b>  command  line  option, which controls notification for the
                 <u>condor_dagman</u> job itself. If both <b>-dont_suppress_notification</b>  and  <b>-suppress_notification</b>  are
                 specified with the same command line, the last argument is used.

          <b>-DoRecovery</b>
                 Causes  <u>condor_dagman</u>  to  start  in  recovery  mode. This means that DAGMan reads the relevant
                 <b>.nodes.log</b> file to restore its previous state of node  completions  and  failures  to  continue
                 running.

</pre><h4><b>EXIT</b> <b>STATUS</b></h4><pre>
       <u>condor_submit_dag</u> will exit with a status value of 0 (zero) upon success, and it will exit with the value
       1 (one) upon failure.

</pre><h4><b>EXAMPLES</b></h4><pre>
       To run a single DAG:

          $ condor_submit_dag diamond.dag

       To run a DAG when it has already been run and the output files exist:

          $ condor_submit_dag -force diamond.dag

       To run a DAG, limiting the number of idle node jobs in the DAG to a maximum of five:

          $ condor_submit_dag -maxidle 5 diamond.dag

       To  run  a  DAG,  limiting  the  number of concurrent PRE scripts to 10 and the number of concurrent POST
       scripts to five:

          $ condor_submit_dag -maxpre 10 -maxpost 5 diamond.dag

       To run two DAGs, each of which is set up to run in its own directory:

          $ condor_submit_dag -usedagdir dag1/diamond1.dag dag2/diamond2.dag

</pre><h4><b>AUTHOR</b></h4><pre>
       HTCondor Team

</pre><h4><b>COPYRIGHT</b></h4><pre>
       1990-2024, Center for High Throughput Computing, Computer Sciences Department, University  of  Wisconsin-
       Madison, Madison, WI, US. Licensed under the Apache License, Version 2.0.

                                                  Jan 04, 2025                              <u><a href="../man1/CONDOR_SUBMIT_DAG.1.html">CONDOR_SUBMIT_DAG</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>