<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>salt-key - salt-key Documentation</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/jammy/+package/salt-master">salt-master_3004.1+dfsg-2_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       salt-key - salt-key Documentation

</pre><h4><b>SYNOPSIS</b></h4><pre>
          salt-key [ options ]

</pre><h4><b>DESCRIPTION</b></h4><pre>
       Salt-key executes simple management of Salt server public keys used for authentication.

       On  initial  connection, a Salt minion sends its public key to the Salt master. This key must be accepted
       using the <b>salt-key</b> command on the Salt master.

       Salt minion keys can be in one of the following states:

       • <b>unaccepted</b>: key is waiting to be accepted.

       • <b>accepted</b>: key was accepted and the minion can communicate with the Salt master.

       • <b>rejected</b>: key was rejected using the <b>salt-key</b> command. In this state the minion does  not  receive  any
         communication from the Salt master.

       • <b>denied</b>:  key  was rejected automatically by the Salt master.  This occurs when a minion has a duplicate
         ID, or when a minion was rebuilt or had new keys generated and the previous key was  not  deleted  from
         the Salt master. In this state the minion does not receive any communication from the Salt master.

       To change the state of a minion key, use <b>-d</b> to delete the key and then accept or reject the key.

</pre><h4><b>OPTIONS</b></h4><pre>
       <b>--version</b>
              Print the version of Salt that is running.

       <b>--versions-report</b>
              Show program's dependencies and version number, and then exit

       <b>-h,</b> <b>--help</b>
              Show the help message and exit

       <b>-c</b> <b>CONFIG_DIR,</b> <b>--config-dir=CONFIG_dir</b>
              The  location of the Salt configuration directory. This directory contains the configuration files
              for Salt master and minions. The default location on most systems is <b>/etc/salt</b>.

       <b>-u</b> <b>USER,</b> <b>--user=USER</b>
              Specify user to run salt-key

       <b>--hard-crash</b>
              Raise any original exception rather than exiting gracefully. Default is False.

       <b>-q,</b> <b>--quiet</b>
              Suppress output

       <b>-y,</b> <b>--yes</b>
              Answer 'Yes' to all questions presented, defaults to False

       <b>--rotate-aes-key=ROTATE_AES_KEY</b>
              Setting this to False prevents the master from refreshing the key session when keys are deleted or
              rejected, this lowers the security of the key deletion/rejection operation. Default is True.

   <b>Logging</b> <b>Options</b>
       Logging options which override any settings defined on the configuration files.

       <b>--log-file=LOG_FILE</b>
              Log file path. Default: /var/log/salt/minion.

       <b>--log-file-level=LOG_LEVEL_LOGFILE</b>
              Logfile logging log level. One of  <b>all</b>,  <b>garbage</b>,  <b>trace</b>,  <b>debug</b>,  <b>info</b>,  <b>warning</b>,  <b>error</b>,  <b>quiet</b>.
              Default: <b>warning</b>.

   <b>Output</b> <b>Options</b>
       <b>--out</b>  Pass  in  an alternative outputter to display the return of data. This outputter can be any of the
              available outputters:
                 <b>highstate</b>, <b>json</b>, <b>key</b>, <b>overstatestage</b>, <b>pprint</b>, <b>raw</b>, <b>txt</b>, <b>yaml</b>, and many others.

              Some outputters are formatted only for data returned from specific functions.  If an outputter  is
              used  that  does  not  support  the  data  passed  into it, then Salt will fall back on the <b>pprint</b>
              outputter and display the return data using the Python <b>pprint</b> standard library module.

       <b>--out-indent</b> <b>OUTPUT_INDENT,</b> <b>--output-indent</b> <b>OUTPUT_INDENT</b>
              Print the output indented by the provided value in spaces. Negative  values  disable  indentation.
              Only applicable in outputters that support indentation.

       <b>--out-file=OUTPUT_FILE,</b> <b>--output-file=OUTPUT_FILE</b>
              Write the output to the specified file.

       <b>--out-file-append,</b> <b>--output-file-append</b>
              Append the output to the specified file.

       <b>--no-color</b>
              Disable all colored output

       <b>--force-color</b>
              Force colored output

              <b>NOTE:</b>
                 When using colored output the color codes are as follows:

                 <b>green</b> denotes success, <b>red</b> denotes failure, <b>blue</b> denotes changes and success and <b>yellow</b> denotes
                 a expected future change in configuration.

       <b>--state-output=STATE_OUTPUT,</b> <b>--state_output=STATE_OUTPUT</b>
              Override  the  configured  state_output  value for minion output. One of 'full', 'terse', 'mixed',
              'changes' or 'filter'. Default: 'none'.

       <b>--state-verbose=STATE_VERBOSE,</b> <b>--state_verbose=STATE_VERBOSE</b>
              Override the configured state_verbose value for minion output. Set  to  True  or  False.  Default:
              none.

   <b>Actions</b>
       <b>-l</b> <b>ARG,</b> <b>--list=ARG</b>
              List  the public keys. The args <b>pre</b>, <b>un</b>, and <b>unaccepted</b> will list unaccepted/unsigned keys. <b>acc</b> or
              <b>accepted</b> will list accepted/signed keys. <b>rej</b> or <b>rejected</b> will list rejected  keys.   Finally,  <b>all</b>
              will list all keys.

       <b>-L,</b> <b>--list-all</b>
              List all public keys. (Deprecated: use <b>--list</b> <b>all</b>)

       <b>-a</b> <b>ACCEPT,</b> <b>--accept=ACCEPT</b>
              Accept  the  specified public key (use --include-all to match rejected keys in addition to pending
              keys). Globs are supported.

       <b>-A,</b> <b>--accept-all</b>
              Accepts all pending keys.

       <b>-r</b> <b>REJECT,</b> <b>--reject=REJECT</b>
              Reject the specified public key (use --include-all to match accepted keys in addition  to  pending
              keys). Globs are supported.

       <b>-R,</b> <b>--reject-all</b>
              Rejects all pending keys.

       <b>--include-all</b>
              Include non-pending keys when accepting/rejecting.

       <b>-p</b> <b>PRINT,</b> <b>--print=PRINT</b>
              Print the specified public key.

       <b>-P,</b> <b>--print-all</b>
              Print all public keys

       <b>-d</b> <b>DELETE,</b> <b>--delete=DELETE</b>
              Delete the specified key. Globs are supported.

       <b>-D,</b> <b>--delete-all</b>
              Delete all keys.

       <b>-f</b> <b>FINGER,</b> <b>--finger=FINGER</b>
              Print the specified key's fingerprint.

       <b>-F,</b> <b>--finger-all</b>
              Print all keys' fingerprints.

   <b>Key</b> <b>Generation</b> <b>Options</b>
       <b>--gen-keys=GEN_KEYS</b>
              Set a name to generate a keypair for use with salt

       <b>--gen-keys-dir=GEN_KEYS_DIR</b>
              Set  the  directory to save the generated keypair.  Only works with 'gen_keys_dir' option; default
              is the current directory.

       <b>--keysize=KEYSIZE</b>
              Set the keysize for the generated key, only works with the '--gen-keys' option, the key size  must
              be 2048 or higher, otherwise it will be rounded up to 2048. The default is 2048.

       <b>--gen-signature</b>
              Create  a  signature  file of the master's public-key named master_pubkey_signature. The signature
              can be sent to a minion in the master's auth-reply and enables the minion to verify  the  master's
              public-key  cryptographically. This requires a new signing-key-pair which can be auto-created with
              the --auto-create parameter.

       <b>--priv=PRIV</b>
              The private-key file to create a signature with

       <b>--signature-path=SIGNATURE_PATH</b>
              The path where the signature file should be written

       <b>--pub=PUB</b>
              The public-key file to create a signature for

       <b>--auto-create</b>
              Auto-create a signing key-pair if it does not yet exist

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man7/salt.7.html">salt</a>(7)</b> <b><a href="../man1/salt-master.1.html">salt-master</a>(1)</b> <b><a href="../man1/salt-minion.1.html">salt-minion</a>(1)</b>

</pre><h4><b>AUTHOR</b></h4><pre>
       Thomas S. Hatch &lt;<a href="mailto:thatch45@gmail.com">thatch45@gmail.com</a>&gt; and many others, please see the Authors file

3004.1                                            Apr 16, 2022                                       <u><a href="../man1/SALT-KEY.1.html">SALT-KEY</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>