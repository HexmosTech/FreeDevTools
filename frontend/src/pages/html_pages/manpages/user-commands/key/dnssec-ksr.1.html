<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>dnssec-ksr - create signed key response (SKR) files for offline KSK setups</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/bind9-utils">bind9-utils_9.20.4-3ubuntu1.2_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       dnssec-ksr - create signed key response (SKR) files for offline KSK setups

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>dnssec-ksr</b>  [<b>-E</b>  engine] [<b>-e</b> date/offset] [<b>-F</b>] [<b>-f</b> file] [<b>-h</b>] [<b>-i</b> date/offset] [<b>-K</b> directory] [<b>-k</b> policy]
       [<b>-l</b> file] [<b>-o</b>] [<b>-V</b>] [<b>-v</b> level] {command} {zone}

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The <b>dnssec-ksr</b> can be used to issue several commands that are needed to generate presigned RRsets  for  a
       zone  where  the  private  key file of the Key Signing Key (KSK) is typically offline. This requires Zone
       Signing Keys (ZSKs) to be pregenerated, and the DNSKEY, CDNSKEY, and CDS RRsets to be already  signed  in
       advance.

       The  latter is done by creating Key Signing Requests (KSRs) that can be imported to the environment where
       the KSK is available. Once there, this program can create Signed Key Responses (SKRs) that can be  loaded
       by an authoritative DNS server.

</pre><h4><b>OPTIONS</b></h4><pre>
       <b>-E</b> <b>engine</b>
              This option specifies the cryptographic hardware to use, when applicable.

              When  BIND  9  is  built  with OpenSSL, this needs to be set to the OpenSSL engine identifier that
              drives the cryptographic accelerator or hardware service module (usually <b>pkcs11</b>).

       <b>-e</b> <b>date/offset</b>
              This option sets the end date for which keys or SKRs  need  to  be  generated  (depending  on  the
              command).

       <b>-F</b>     This  options  turns  on FIPS (US Federal Information Processing Standards) mode if the underlying
              crytographic library supports running in FIPS mode.

       <b>-f</b>     This option sets the SKR file to be signed when issuing a <b>sign</b> command.

       <b>-h</b>     This option prints a short summary of the options and arguments to <b>dnssec-ksr</b>.

       <b>-i</b> <b>date/offset</b>
              This option sets the start date for which keys or SKRs need to  be  generated  (depending  on  the
              command).

       <b>-K</b> <b>directory</b>
              This  option sets the directory in which the key files are to be read or written (depending on the
              command).

       <b>-k</b> <b>policy</b>
              This option sets the specific <b>dnssec-policy</b> for which keys need to be generated, or signed.

       <b>-l</b> <b>file</b>
              This option provides a configuration file that contains a <b>dnssec-policy</b>  statement  (matching  the
              policy set with <u>-k</u>).

       <b>-o</b>     Normally when pregenerating keys, ZSKs are created. When this option is set, create KSKs instead.

       <b>-V</b>     This option prints version information.

       <b>-v</b> <b>level</b>
              This  option  sets  the  debugging  level.  Level 1 is intended to be usefully verbose for general
              users; higher levels are intended for developers.

       <b>command</b>
          The KSR command to be executed. See below for the available commands.

       <b>zone</b>
          The name of the zone for which the KSR command is being executed.

</pre><h4><b>COMMANDS</b></h4><pre>
       <b>keygen</b> Pregenerate a number of keys, given a DNSSEC policy and an interval. The number of generated  keys
              depends on the interval and the key lifetime.

       <b>request</b>
              Create  a  Key Signing Request (KSR), given a DNSSEC policy and an interval.  This will generate a
              file with a number of key bundles,  where  each  bundle  contains  the  currently  published  ZSKs
              (according to the timing metadata).

       <b>sign</b>   Sign  a  Key  Signing  Request (KSR), given a DNSSEC policy and an interval, creating a Signed Key
              Response (SKR). This will add the corresponding DNSKEY, CDS, and CDNSKEY records for the KSK  that
              is being used for signing.

</pre><h4><b>EXIT</b> <b>STATUS</b></h4><pre>
       The <b>dnssec-ksr</b> command exits 0 on success, or non-zero if an error occurred.

</pre><h4><b>EXAMPLES</b></h4><pre>
       When  you need to generate ZSKs for the zone "example.com" for the next year, given a <b>dnssec-policy</b> named
       "mypolicy":

          dnssec-ksr -i now -e +1y -k mypolicy -l named.conf keygen example.com

       Creating a KSR for the same zone and period can be done with:

          dnssec-ksr -i now -e +1y -k mypolicy -l named.conf request example.com &gt; ksr.txt

       Typically you would now transfer the KSR to the system that has access to the KSK.

       Signing the KSR created above can be done with:

          dnssec-ksr -i now -e +1y -k kskpolicy -l named.conf -f ksr.txt sign example.com

       Make sure that the DNSSEC parameters in <b>kskpolicy</b> match those in <b>mypolicy</b>.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <u><a href="../man8/dnssec-keygen.8.html">dnssec-keygen</a>(8)</u>, <u><a href="../man8/dnssec-signzone.8.html">dnssec-signzone</a>(8)</u>, BIND 9 Administrator Reference Manual.

</pre><h4><b>AUTHOR</b></h4><pre>
       Internet Systems Consortium

</pre><h4><b>COPYRIGHT</b></h4><pre>
       2025, Internet Systems Consortium

9.20.4-3ubuntu1.2-Ubuntu                           2024-12-03                                      <u><a href="../man1/DNSSEC-KSR.1.html">DNSSEC-KSR</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>