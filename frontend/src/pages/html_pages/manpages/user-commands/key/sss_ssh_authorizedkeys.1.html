<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>sss_ssh_authorizedkeys - get OpenSSH authorized keys</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/sssd-common">sssd-common_2.10.1-2ubuntu4_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       sss_ssh_authorizedkeys - get OpenSSH authorized keys

</pre><h4><b>SYNOPSIS</b></h4><pre>

       <b>sss_ssh_authorizedkeys</b> [<u>options</u>] <u>USER</u>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>sss_ssh_authorizedkeys</b> acquires SSH public keys for user <u>USER</u> and outputs them in OpenSSH authorized_keys
       format (see the “AUTHORIZED_KEYS FILE FORMAT” section of <b><a href="../man8/sshd.8.html">sshd</a></b>(8) for more information).

       <b><a href="../man8/sshd.8.html">sshd</a></b>(8) can be configured to use <b>sss_ssh_authorizedkeys</b> for public key user authentication if it is
       compiled with support for “AuthorizedKeysCommand” option. Please refer to the <b><a href="../man5/sshd_config.5.html">sshd_config</a></b>(5) man page for
       more details about this option.

       If “AuthorizedKeysCommand” is supported, <b><a href="../man8/sshd.8.html">sshd</a></b>(8) can be configured to use it by putting the following
       directives in <b><a href="../man5/sshd_config.5.html">sshd_config</a></b>(5):

             AuthorizedKeysCommand /usr/bin/sss_ssh_authorizedkeys
             AuthorizedKeysCommandUser nobody

   <b>KEYS</b> <b>FROM</b> <b>CERTIFICATES</b>
       In addition to the public SSH keys for user <u>USER</u> <b>sss_ssh_authorizedkeys</b> can return public SSH keys
       derived from the public key of a X.509 certificate as well.

       To enable this the “ssh_use_certificate_keys” option must be set to true (default) in the [ssh] section
       of sssd.conf. If the user entry contains certificates (see “ldap_user_certificate” in <b><a href="../man5/sssd-ldap.5.html">sssd-ldap</a></b>(5) for
       details) or there is a certificate in an override entry for the user (see <b><a href="../man8/sss_override.8.html">sss_override</a></b>(8) or <b><a href="../man5/sssd-ipa.5.html">sssd-ipa</a></b>(5)
       for details) and the certificate is valid SSSD will extract the public key from the certificate and
       convert it into the format expected by sshd.

       Besides “ssh_use_certificate_keys” the options

       •   ca_db

       •   p11_child_timeout

       •   certificate_verification

       can be used to control how the certificates are validated (see <b><a href="../man5/sssd.conf.5.html">sssd.conf</a></b>(5) for details).

       The validation is the benefit of using X.509 certificates instead of SSH keys directly because e.g. it
       gives a better control of the lifetime of the keys. When the ssh client is configured to use the private
       keys from a Smartcard with the help of a PKCS#11 shared library (see <b><a href="../man1/ssh.1.html">ssh</a></b>(1) for details) it might be
       irritating that authentication is still working even if the related X.509 certificate on the Smartcard is
       already expired because neither <b>ssh</b> nor <b>sshd</b> will look at the certificate at all.

       It has to be noted that the derived public SSH key can still be added to the authorized_keys file of the
       user to bypass the certificate validation if the <b>sshd</b> configuration permits this.

</pre><h4><b>OPTIONS</b></h4><pre>
       <b>-d</b>,<b>--domain</b> <u>DOMAIN</u>
           Search for user public keys in SSSD domain <u>DOMAIN</u>.

       <b>-?</b>,<b>--help</b>
           Display help message and exit.

</pre><h4><b>EXIT</b> <b>STATUS</b></h4><pre>
       In case of success, an exit value of 0 is returned. Otherwise, 1 is returned.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man8/sssd.8.html">sssd</a></b>(8), <b><a href="../man5/sssd.conf.5.html">sssd.conf</a></b>(5), <b><a href="../man5/sssd-ldap.5.html">sssd-ldap</a></b>(5), <b><a href="../man5/sssd-ldap-attributes.5.html">sssd-ldap-attributes</a></b>(5), <b><a href="../man5/sssd-krb5.5.html">sssd-krb5</a></b>(5), <b><a href="../man5/sssd-simple.5.html">sssd-simple</a></b>(5), <b><a href="../man5/sssd-ipa.5.html">sssd-ipa</a></b>(5),
       <b><a href="../man5/sssd-ad.5.html">sssd-ad</a></b>(5), <b><a href="../man5/sssd-files.5.html">sssd-files</a></b>(5), <b><a href="../man5/sssd-sudo.5.html">sssd-sudo</a></b>(5), <b><a href="../man5/sssd-session-recording.5.html">sssd-session-recording</a></b>(5), <b><a href="../man8/sss_cache.8.html">sss_cache</a></b>(8), <b><a href="../man8/sss_debuglevel.8.html">sss_debuglevel</a></b>(8),
       <b><a href="../man8/sss_obfuscate.8.html">sss_obfuscate</a></b>(8), <b><a href="../man8/sss_seed.8.html">sss_seed</a></b>(8), <b><a href="../man8/sssd_krb5_locator_plugin.8.html">sssd_krb5_locator_plugin</a></b>(8), <b><a href="../man1/sss_ssh_authorizedkeys.1.html">sss_ssh_authorizedkeys</a></b>(1),
       <b><a href="../man1/sss_ssh_knownhosts.1.html">sss_ssh_knownhosts</a></b>(1), <b><a href="../man5/sssd-ifp.5.html">sssd-ifp</a></b>(5), <b><a href="../man8/pam_sss.8.html">pam_sss</a></b>(8).  <b><a href="../man5/sss_rpcidmapd.5.html">sss_rpcidmapd</a></b>(5) <b><a href="../man5/sssd-systemtap.5.html">sssd-systemtap</a></b>(5)

</pre><h4><b>AUTHORS</b></h4><pre>
       <b>The</b> <b>SSSD</b> <b>upstream</b> <b>-</b> <b>https://github.com/SSSD/sssd/</b>

SSSD                                               03/24/2025                            <u><a href="../man1/SSS_SSH_AUTHORIZEDKE.1.html">SSS_SSH_AUTHORIZEDKE</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>