<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>cvs-upgrade - upgrade a debian source package kept in a CVS repository</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/jammy/+package/cvs-buildpackage">cvs-buildpackage_5.26_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       cvs-upgrade - upgrade a debian source package kept in a CVS repository

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>cvs-upgrade</b> <u>[options]</u> <b>&lt;package</b> <b>name&gt;</b> <b>&lt;upstream</b> <b>version&gt;</b> <b>[&lt;debian</b> <b>revision&gt;]</b>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       This manual page explains the Debian <b>cvs-upgrade</b> utility, which is used to upgrade Debian source packages
       in  a  <u>CVS</u> repository. It expect a properly conditioned new upstream sources in the <u>cvs-buildpackage</u> <u>work</u>
       <u>directory</u>

       The upstream sources are imported to the vendor branch  and  tagged  <u>upstream_version_&lt;upstream</u>  <u>version&gt;</u>
       with  all dots translated to underscores. At this point the <b>cvs-upgrade</b> utility pauses automatic actions,
       since manual intervention is required to resolve any conflicts that may have occurred.   It  reminds  the
       user  about  checking  out  the  sources,  resolving conflicts, and tagging the debianized sources, using
       <u>debian_version_&lt;upstream</u> <u>version&gt;-&lt;debian</u> <u>revision&gt;</u> with all dots translated to underscores.

       Please note that this command does not actually change the working directory, or any checked out  copies.
       If you do not have a working directory, you may simply do the following manually:
         <b>cvs</b> <b>co</b> <b>-jupstream_version_&lt;OLD-VERS&gt;</b> <b>-jupstream_version_&lt;NEW</b> <b>VERS&gt;</b> <b>&lt;PKG&gt;</b>

       If you already have a checked out working directory, please do:
         <b>cvs</b> <b>update</b> <b>-d</b> <b>-jupstream_version_&lt;OLD-VERS&gt;</b> <b>-jupstream_version__&lt;NEW</b> <b>VERS&gt;</b>

       <b>cvs-upgrade</b>  expects  the  package  name,  upstream version, and, if relevant, the Debian revision on the
       command line. It also expects to find a properly conditioned new upstream source archive, in .orig.tar.gz
       format, in the <u>cvs-buildpackage</u> <u>working</u> <u>directory.</u>  Please note that the cvs-buildpackage work  directory
       referred to here is the scratch directory where this program works, not the directory that the human uses
       to work in.

       <b>cvs-upgrade</b>  reads the same config file <u>/etc/cvsdeb.conf</u> as the the other cvs-* utilities do.  People may
       use of the dry-run option to inspect the steps this utility takes.

       Combined with the companion utilities <b>cvs-buildpackage</b> and <b>cvs-inject,</b> this provides an infrastructure to
       facilitate the use of <b>CVS</b> by Debian maintainers. This allows one to  keep  separate  CVS  branches  of  a
       package for <u>stable,</u> <u>unstable,</u> and possibly <u>experimental</u> distributions, along with the other benefits of a
       version control system.

</pre><h4><b>CAVEATS</b></h4><pre>
       Please  note  that the current behaviour of <b>cvs-upgrade</b> is to ignore files that match the default list of
       file name patterns to be ignored (this is built into cvs); and that any <b>.cvsignore</b> files in the  upstream
       sources  shall  be  honoured.  This  should be fine as long as upstream sources do not include files that
       match CVS ignore patterns and yet should be in the  sources.  The  current  list  of  ignored  file  name
       patterns is:
              <b>RCS</b>  <b>SCCS</b> <b>CVS</b> <b>CVS.adm</b> <b>RCSLOG</b> <b>cvslog.*</b> <b>tags</b> <b>TAGS</b> <b>.make.state</b> <b>.nse_depinfo</b> <b>*~</b> <b>#*</b> <b>.#*</b> <b>,*</b> <b>_$*</b> <b>*$</b> <b>*.old</b>
              <b>*.bak</b> <b>*.BAK</b> <b>*.orig</b> <b>*.rej</b> <b>.del-*</b> <b>*.a</b> <b>*.olb</b> <b>*.o</b> <b>*.obj</b> <b>*.so</b> <b>*.exe</b> <b>*.Z</b> <b>*.elc</b> <b>*.ln</b> <b>core</b>

       If you wish to modify this behaviour, there are ways to do this (you should see <b>CVS</b> documentation).

       <b>o)</b>     The per-repository list in <u>`$CVSROOT/CVSROOT/cvsignore'</u> is appended to  the  list,  if  that  file
              exists.

       <b>o)</b>     The per-user list in <u>`.cvsignore'</u> in your home directory is appended to the list, if it exists.

       <b>o)</b>     Any entries in the environment variable <u>$CVSIGNORE</u> is appended to the list.

       In  any of the places listed above, a single exclamation mark <b>(`!')</b>  clears the ignore list.  This can be
       used if you want to store any file which normally is ignored by CVS. Also, any <u>.cvsignore</u> file  found  in
       the source directory is also honoured.

</pre><h4><b>OPTIONS</b></h4><pre>
       <b>-h</b>                  Print out a usage message.

       <b>-m</b>                  If  present, this option directs this program to include the latest debian changelog,
                           if  any,  into  the  commit  message.  This  overrides   the   environment   variable
                           <b>CVSDEB_USE_CHANGELOG</b>

       <b>-M&lt;module&gt;</b>          The  name  of the CVS module. This argument overrides the settings in the environment
                           variable <b>CVSDEB_MODULE.</b>  There is no corresponding config file variable.

       <b>-F</b>                  There are two things <b>CVS</b> may choke on <u>symbolic</u>  <u>links</u>  and  <u>CVS</u>  directories  in  the
                           source  tree.  Also,  there  are  times  when one may not want to honour the upstream
                           <u>.cvsignore</u> files. Without this option, the <b>cvs-upgrade</b> program  shall  exit  with  an
                           error  message.  This option causes <b>cvs-upgrade</b> to ask whether you want to delete the
                           offending files. If you answer y, it removes them and continues; else it  shall  exit
                           with  an  error  message.   This  argument  overrides the settings in the environment
                           variable <b>CVSDEB_FORCECLEAN,</b> which in turn overrides the setting in the  configuration
                           file, <b>conf_forceclean.</b>

       <b>-T&lt;tag&gt;</b>             The  CVS  tag  to  use  for  exporting sources, rather than constructing one from the
                           version. This assumes you know what you are doing.

       <b>-U&lt;tag&gt;</b>             The CVS tag to use for the upstream  tag,  rather  than  constructing  one  from  the
                           upstream version. This assumes you know what you are doing.

       <b>-x&lt;prefix&gt;</b>          The  name  of  the  default  CVS prefix.  This argument overrides the settings in the
                           environment variable <b>CVSDEB_PREFIX,</b> which  in  turn  overrides  the  setting  in  the
                           configuration file, <b>conf_prefix.</b>

       <b>-R&lt;root</b> <b>directory&gt;</b>  Root    of    the    original    sources    archive.    We   expect   to   find   the
                           <u>&lt;package</u> <u>name&gt;_&lt;version&gt;.orig.tar.gz</u>   file   under   <u>&lt;root</u> <u>directory&gt;/package</u> <u>name&gt;/</u>
                           unless  the  cvs-buildpackage  work  directory has been set, or we want to export the
                           original sources from the vendor branch of the <u>CVS</u> tree. If the cvs-buildpackage work
                           directory is set anywhere, (command line, configuration file, environment  variable),
                           the  root  directory  value  is ignored, since we only need the root directory to set
                           defaults for the  work  directory.  This  argument  overrides  the  settings  in  the
                           environment   variable   <b>CVSDEB_ROOTDIR,</b>   and   the   configuration   file  variable
                           <b>conf_rootdir.</b>  Please note that the cvs-buildpackage work directory referred to  here
                           is  the  scratch directory where this program works, not the directory that the human
                           uses to work in.  This should probably not be a sub dir of <b>CVSROOT,</b> since  cvs  shall
                           refuse to export packages there, and the script shall fail.

       <b>-W&lt;work</b> <b>directory&gt;</b>  The  working  directory, into which the sources will be exported out of CVS and which
                           should contain the original <u>&lt;package</u> <u>name&gt;_&lt;version&gt;.orig.tar.gz</u> Please note that  it
                           is  not  essential  to  have  the original sources, as this script will check out the
                           vendor branch  version  tagged  as  <b>upstream_version_&lt;version&gt;</b>  (without  the  Debian
                           revision).  Setting this variable overrides the settings for the root directory. This
                           argument  also overrides the settings in the environment variable <b>CVSDEB_WORKDIR,</b> and
                           in the configuration file variable <b>conf_workdir.</b>  This should probably not be  a  sub
                           dir of <b>CVSROOT,</b> since cvs shall refuse to export packages there, and the script shall
                           fail.

       <b>-d&lt;number&gt;</b>          Turn  on  debugging  output.  This  lists  the  version  numbers,  the  work and root
                           directories, as well as the CVS tag used to export the sources.  This  overrides  the
                           <u>DEBUG</u> variable in the configuration file.

       <b>-ctp</b>                Include <u>package</u><b>_</b> at the start of the CVS tag.  This overrides the <b>CVSDEB_PACKAGEINTAG</b>
                           environment variable and the <b>conf_forcetag</b> configuration file option.  The default is
                           not to include the prefix.

       <b>-n</b>                  The  no  exec  (or dry-run) option, causing <b>cvs-upgrade</b> to print out all actions that
                           would be taken without actually executing them.

       <b>-v</b>                  Make the utility more verbose.

       <b>CVSDEB_IMPORTSUBSTMODE</b>
                           You are also allowed to specify an environment variable, <b>CVSDEB_IMPORTSUBSTMODE,</b> that
                           overrides the default substitution option of -ko -d.  This is useful when you want to
                           import a package that has a bunch of binary files in the source tree (like  emacs  or
                           rscheme).

</pre><h4><b>FILES</b></h4><pre>
       Apart   from   the   runtime  options,  <b>cvs-upgrade</b>  also  looks  for  site-wide  defaults  in  the  file
       <u>/etc/cvsdeb.conf.</u>  After that, it looks for and reads <u><a href="file:~/.cvsdeb.conf">~/.cvsdeb.conf</a></u>  The  default  configuration  allows
       there  to  be  a site-wide override for the root or the cvs-buildpackage working directories on the site,
       but the <u>cvsdeb.conf</u> files are actually Bourne shell snippets, and  any  legal  shell  directives  may  be
       included  in there.  <b>Note:</b> Caution is urged with this file, since you can totally change the way that the
       script behaves by suitable editing this file.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man1/cvs-buildpackage.1.html">cvs-buildpackage</a></b>(1), <b><a href="../man1/cvs-inject.1.html">cvs-inject</a></b>(1), <b><a href="../man5/cvsdeb.conf.5.html">cvsdeb.conf</a></b>(5), <b><a href="../man1/cvs.1.html">cvs</a></b>(1).

</pre><h4><b>AUTHOR</b></h4><pre>
       This manual page was written Manoj Srivastava &lt;<a href="mailto:srivasta@debian.org">srivasta@debian.org</a>&gt;, for the Debian GNU/Linux system.

Debian                                             May 13 1999                                    <u><a href="../man1/CVS-UPGRADE.1.html">CVS-UPGRADE</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>