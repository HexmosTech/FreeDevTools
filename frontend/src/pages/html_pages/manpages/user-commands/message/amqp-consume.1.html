<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>amqp-consume - Consume messages from a queue on an AMQP server</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/amqp-tools">amqp-tools_0.15.0-1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       amqp-consume - Consume messages from a queue on an AMQP server

</pre><h4><b>SYNOPSIS</b></h4><pre>

       <b>amqp-consume</b> [<u>OPTION</u>...] {<u>command</u>} [<u>args</u>...]

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>amqp-consume</b> consumes messages from a queue on an AMQP server. For each message that arrives, a receiving
       command is run, with the message body supplied to it on standard input.

       <b>amqp-consume</b> can consume from an existing queue, or it can create a new queue. It can optionally bind the
       queue to an existing exchange.

       By default, messages will be consumed with explicit acknowledgements. A message will only be acknowledged
       if the receiving command exits successfully (i.e. with an exit code of zero). The AMQP “no ack” mode
       (a.k.a. auto-ack mode) can be enable with the <b>-A</b> option.

</pre><h4><b>OPTIONS</b></h4><pre>
       <b>-q</b>, <b>--queue</b>=<u>queue</u> <u>name</u>
           The name of the queue to consume messages from.

           If the <b>--queue</b> option is omitted, the AMQP server will assign a unique name to the queue, and that
           server-assigned name will be dixsplayed on stderr; this case implies that an exclusive queue should
           be declared.

       <b>-e</b>, <b>--exchange</b>=<u>exchange</u> <u>name</u>
           Specifies that an exclusive queue should be declared, and bound to the given exchange. The specified
           exchange should already exist unless the <b>--exchange-type</b> option is used to request the creation of an
           exchange.

       <b>-r</b>, <b>--routing-key</b>=<u>routing</u> <u>key</u>
           The routing key for binding. If omitted, an empty routing key is assumed.

       <b>-d</b>, <b>--declare</b>
           Forces an exclusive queue to be declared, even when it otherwise would not be. That is, when a queue
           name is specified with the <b>--queue</b> option, but no binding to an exchange is requested with the
           <b>--exchange</b> option. Note: this option is deprecated and may be removed in a future version, use the
           <b>--exclusive</b> option to explicitly declare an exclusive queue.

       <b>-x</b>, <b>--exclusive</b>
           Declared queues are non-exclusive by default, this option forces declaration of exclusive queues.

       <b>-A</b>, <b>--no-ack</b>=<u>routing</u> <u>key</u>
           Enable “no ack” mode: The AMQP server will unconditionally acknowledge each message that is
           delivered, regardless of whether the target command exits successfully or not.

       <b>-c</b>, <b>--count</b>=<u>limit</u>
           Stop consuming after the given number of messages have been received.

       <b>-p</b>, <b>--prefetch-count</b>=<u>limit</u>
           Request the server to only send <u>limit</u> messages at a time.

           If any value was passed to <b>--count</b>, the value passed to <b>--prefetch-count</b> should be smaller than that,
           or otherwise it will be ignored.

           If <b>-A</b>/<b>--no-ack</b> is passed, this option has no effect.

</pre><h4><b>EXAMPLES</b></h4><pre>
       Consume messages from an existing queue “myqueue”, and output the message bodies on standard output via
       <b>cat</b>:

               $ <b>amqp-consume</b> <b>-q</b> <b>myqueue</b> <b>cat</b>

       Bind a new exclusive queue to an exchange “myexch”, and send each message body to the script myscript,
       automatically acknowledging them on the server:

               $ <b>amqp-consume</b> <b>-A</b> <b>-e</b> <b>myexch</b> <b>./myscript</b>

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man7/librabbitmq-tools.7.html">librabbitmq-tools</a></b>(7) describes connection-related options common to all the RabbitMQ C Client tools.

</pre><h4><b>AUTHOR</b></h4><pre>
       <b>The</b> <b>RabbitMQ</b> <b>Team</b> <b>&lt;&lt;<a href="mailto:info@rabbitmq.com">info@rabbitmq.com</a>&gt;&gt;</b>

RabbitMQ C Client                                  2024-11-22                                    <u><a href="../man1/AMQP-CONSUME.1.html">AMQP-CONSUME</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>