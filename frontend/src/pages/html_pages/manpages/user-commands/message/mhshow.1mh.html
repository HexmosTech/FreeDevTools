<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>mhshow - display nmh MIME messages</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/nmh">nmh_1.8-3_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       mhshow - display nmh MIME messages

</pre><h4><b>SYNOPSIS</b></h4><pre>

       <b>mhshow</b> [<b>-help</b>] [<b>-version</b>] [<u>+folder</u>] [<u>msgs</u>] [<b>-file</b> <u>file</u>] [<b>-part</b> <u>number</u>] ...  [<b>-type</b> <u>content</u>] ...  [<b>-prefer</b>
            <u>content</u>] ...  [<b>-noprefer</b>] [<b>-concat</b> | <b>-noconcat</b>] [<b>-textonly</b> | <b>-notextonly</b>] [<b>-inlineonly</b> |
            <b>-noinlineonly</b>] [<b>-header</b> | <b>-noheader</b>] [<b>-form</b> <u>formfile</u>] [<b>-markform</b> <u>formfile</u>]

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The <b>mhshow</b> command displays contents of a MIME (multi-media) message, or collection of messages.

       <b>mhshow</b>  manipulates  multi-media  messages  as  specified in RFC 2045 to RFC 2049.  Currently <b>mhshow</b> only
       supports encodings in message bodies, and does not support the encoding of message headers  as  specified
       in RFC 2047.

       By  default,  <b>mhshow</b>  will  display  only the text parts of a message that are not marked as attachments.
       This behavior can be changed by the <b>-notextonly</b> and <b>-noinlineonly</b> switches.  In addition,  by  using  the
       <b>-part</b>,  <b>-type</b>, and <b>-prefer</b> switches, you may limit and reorder the set of parts to be displayed, based on
       part number and/or content type.  The inclusion of any <b>-part</b> or <b>-type</b> switches will override the  default
       settings of <b>-textonly</b> and <b>-inlineonly</b>.

       The <b>-header</b> switch controls whether <b>mhshow</b> will print a message separator header before each message that
       it  displays.   The  header  format  can  be  controlled  using <b>-headerform</b>, to specify a file containing
       <u><a href="../man5/mh-format.5.html">mh-format</a></u>(5)  instructions.   A  copy  of   the   built-in   default   headerform   can   be   found   in
       /etc/nmh/mhshow.header,  for  reference.   In  addition to the normal set of <u><a href="../man5/mh-format.5.html">mh-format</a></u>(5) instructions, a
       "%{folder}" escape provides a string representing the current folder.

       By default, <b>mhshow</b> will concatenate all content under one pager.  If you want each part to  be  displayed
       separately, you can override the default behavior with <b>-noconcat.</b>

       The  <b>-file</b>  <u>file</u>  switch  directs  <b>mhshow</b>  to use the specified file as the source message, rather than a
       message from a folder.  If you specify this file as “-”, then <b>mhshow</b> will accept the  source  message  on
       the  standard  input.   Note  that  the file, or input from standard input, should be a validly formatted
       message, just like any other <b>nmh</b> message.  It should <u>not</u> be in mail drop format (to  convert  a  file  in
       mail drop format to a folder of <b>nmh</b> messages, see <u><a href="../man1/inc.1.html">inc</a></u>(1)).

       The <b>-part</b> switch can be given (one or more times) to restrict the set of subparts that will be displayed.
       (Obviously with no <b>-part</b> switches, all parts will be considered.)  If a <b>-part</b> switch specifies a specific
       subpart  (i.e., a "leaf" in the tree of MIME parts), then that part will always be displayed.  If a <b>-part</b>
       switch references a multipart/alternative part, then (in the absence of a <b>-type</b> switch) only the  default
       subpart of that multipart will be displayed.

       A  part  specification  consists  of  a series of numbers separated by dots.  For example, in a multipart
       content containing three parts, these would be named as 1, 2, and 3, respectively.  If part 2 was also  a
       multipart content containing two parts, these would be named as 2.1 and 2.2, respectively.  Note that the
       <b>-part</b>  switch is effective only for messages containing a multipart content.  If a message has some other
       kind of content, or if the part is itself another multipart content, the <b>-part</b> switch  will  not  prevent
       the content from being acted upon.

       The  <b>-type</b>  switch  can  also  be  used  to restrict (or, when used in conjunction with <b>-part</b>, to further
       restrict) the display of parts according to content type.  One or more  <b>-type</b>  switches  part  will  only
       select  the first match from a multipart/alternative, even if there is more than one subpart that matches
       (one of) the given content type(s).

       Using either <b>-part</b> or <b>-type</b> switches alone will cause either switch to select  the  part(s)  they  match.
       Using them together will select only the part(s) matched by both (sets of) switches.  In other words, the
       result is the intersection, and not the union, of their separate match results.

       A content specification consists of a content type and a subtype.  The initial list of “standard” content
       types and subtypes can be found in RFC 2046.

       A list of commonly used contents is briefly reproduced here:

            Type         Subtypes
            ----         --------
            text         plain, enriched
            multipart    mixed, alternative, digest, parallel
            message      rfc822, external-body
            application  octet-stream, postscript
            image        jpeg, gif, png
            audio        basic
            video        mpeg

       A legal MIME message must contain a subtype specification.

       To  specify  a  content,  regardless of its subtype, just use the name of the content, e.g., “audio”.  To
       specify a specific subtype, separate the two with a slash, e.g., “audio/basic”.  Note that regardless  of
       the  values  given to the <b>-type</b> switch, a multipart content (of any subtype listed above) is always acted
       upon.  Further note that if the <b>-type</b> switch is used, and it is desirable to act on  a  message/external-
       body  content,  then the <b>-type</b> switch must be used twice: once for message/external-body and once for the
       content externally referenced.

       In the absence of <b>-prefer</b>, <b>mhshow</b> will select the "best" displayable subpart  from  multipart/alternative
       content.   The <b>-prefer</b> switch can be used (one or more times, in order of ascending preference) to let MH
       know which content types from a multipart/alternative MIME part are preferred by the user,  in  order  to
       override  the  default  selection for display.  For example, mail is often sent containing both plaintext
       and HTML-formatted versions of the same content, and the HTML version is  usually  indicated  to  be  the
       "best"  format  for viewing.  Using “-prefer text/plain” will cause the plaintext version to be displayed
       if possible, but still allow display of the HTML part if there is no plaintext subpart available.   Using
       “-prefer  text/plain  -prefer  image/png” would add a preference for PNG images, which might or might not
       ever appear in the same multipart/alternative section with text/plain.  Implementation  note:   RFC  2046
       requires  that  the  subparts  of  a  multipart/alternative  be ordered according to "faithfulness to the
       original content", and MH by default selects the subpart ranked most "faithful" by  that  ordering.   The
       <b>-prefer</b>  switch reorders the alternative parts (only internally, never changing the message file) to move
       the user's preferred part(s) to the "most faithful" position.  Thus, when viewed by <b>mhlist</b>, the  ordering
       of  multipart/alternative  parts  will  appear  to  change  when  invoked with or without various <b>-prefer</b>
       switches.  Since the last of multiple <b>-prefer</b> options "wins", a <b>-prefer</b> on the command line will override
       any in a profile entry.

       The <b>-noprefer</b> switch will cancel any previous <b>-prefer</b> switches.

   <b>Unseen</b> <b>Sequence</b>
       If the profile entry “Unseen-Sequence” is present and non-empty, then <b>mhshow</b>  will  remove  each  of  the
       messages shown from each sequence named by the profile entry.

   <b>Showing</b> <b>the</b> <b>Contents</b>
       The headers of each message are displayed with the <u>mhlproc</u> (usually <b>mhl</b>), using the standard format file,
       <u>mhl.headers</u>.   You  may specify an alternative format file with the <b>-form</b> <u>formfile</u> switch.  If the format
       file <u>mhl.null</u> is specified, then the display of the message headers is suppressed.

       Next, the contents are extracted from the message and are stored in a temporary file.  Usually, the  name
       of  the temporary file is the word “mhshow” followed by a string of characters.  Occasionally, the method
       used to display a content (described next), requires that  the  file  end  in  a  specific  suffix.   For
       example,  the  <b>soffice</b>  command  (part  of  the StarOffice package) can be used to display Microsoft Word
       content, but it uses the suffix to determine how to display the file.  If no suffix is present, the  file
       is  not  correctly  loaded.   Similarly,  older  versions  of the <b>gs</b> command append a “.ps” suffix to the
       filename if one was missing.  As a result, these cannot be used to read the default temporary file.

       To get around this, your profile can contain lines of the form:

            mhshow-suffix-&lt;type&gt;/&lt;subtype&gt;: &lt;suffix&gt;

       or

            mhshow-suffix-&lt;type&gt;: &lt;suffix&gt;

       to specify a suffix which can be automatically added to the temporary file created for a specific content
       type.  For example, the following lines might appear in your profile:

            mhshow-suffix-text: .txt
            mhshow-suffix-application/msword: .doc
            mhshow-suffix-application/PostScript: .ps

       to automatically append a suffix to the temporary files.

       The matching with the content type identifier  is  case-insensitive,  both  in  mhshow-suffix-&lt;type&gt;  and
       mhshow-show-&lt;type&gt; (below) profile entries.

       The method used to display the different contents in the messages bodies will be determined by a “display
       string”.  To find the display string, <b>mhshow</b> will first search your profile for an entry of the form:

            mhshow-show-&lt;type&gt;/&lt;subtype&gt;

       If this isn't found, <b>mhshow</b> will search for an entry of the form:

            mhshow-show-&lt;type&gt;

       to determine the display string.

       If  a  display  string is found, any escapes (given below) will be expanded.  The result will be executed
       under “<a href="file:/bin/sh">/bin/sh</a>”, with the standard input set to the content.

       The display string may contain the following escapes:

            %a           Insert parameters from Content-Type field
            %{parameter} Insert the parameter value from the Content-Type field
            %f           Insert filename containing content
            %F           %f, and stdin is terminal not content
            %l           display listing prior to displaying content
            %s           Insert content subtype
            %d           Insert content description
            %%           Insert the character %

       <b>mhshow</b> will execute at most one display string at any given time, and wait for the current display string
       to finish execution before executing the next display string.

       The {parameter} escape is typically used in a command line argument that should only be present if it has
       a non-null value.  It is highly recommended that the entire escape be wrapped in  double  quotes.   Shell
       parameter expansion can construct the argument only when it is non-null, e.g.,

            mhshow-show-text/html: charset="%{charset}";
              w3m ${charset:+-I $charset} -T text/html %F

       That  example  also  shows  the use of indentation to signify continuation: the two text lines combine to
       form a single entry.  Note that when dealing with text that has been converted  internally  by  <u><a href="../man3/iconv.3.html">iconv</a></u>(3),
       the  “charset”  parameter  will  reflect  the  target character set of the text, rather than the original
       character set in the message.

       Note that if the content being displayed is multipart, but not one of the subtypes listed above, then the
       f- and F-escapes expand to multiple filenames, one for each subordinate content.  Furthermore,  stdin  is
       not redirected from the terminal to the content.

       If a display string is not found, <b>mhshow</b> behaves as if these profile entries were supplied and supported:

            mhshow-show-text/plain: %lmoreproc %F
            mhshow-show-message/rfc822: %lshow -file %F

       Note that “moreproc” is not supported in user profile display strings.

       If a subtype of type text doesn't have a profile entry, it will be treated as text/plain.

       <b>mhshow</b>  has  default methods for handling multipart messages of subtype mixed, alternative, parallel, and
       digest.  Any  unknown  subtype  of  type  multipart  (without  a  profile  entry),  will  be  treated  as
       multipart/mixed.

       If  none  of  these  apply,  then <b>mhshow</b> will check to see if the message has an application/octet-stream
       content with parameter “type=tar”.  If so, <b>mhshow</b> will use an appropriate command.  If not,  <b>mhshow</b>  will
       complain.

       Example entries might be:

            mhshow-show-audio/basic: raw2audio 2&gt;/dev/null | play
            mhshow-show-image: xv %f
            mhshow-show-application/PostScript: lpr -Pps

       If an f- or F-escape is not quoted with single quotes, its expansion will be wrapped with single quotes.

       Finally,  <b>mhshow</b>  will process each message serially -- it won't start showing the next message until all
       the commands executed to display the current message have terminated.

   <b>Showing</b> <b>Alternate</b> <b>Character</b> <b>Sets</b>
       If <b>mhshow</b> was built with <u><a href="../man3/iconv.3.html">iconv</a></u>(3), then all text/plain parts of the message(s) will  be  displayed  using
       the  character  set  of  the  current  locale.   See  <u><a href="../man1/mhparam.1.html">mhparam</a></u>(1)  for  how  to determine whether your <b>nmh</b>
       installation includes <u><a href="../man3/iconv.3.html">iconv</a></u>(3) support.  To convert text parts other than text/plain, or  if  <b>mhshow</b>  was
       not built with <u>iconv</u>, an external program can be used, as described next.

       Because  a content of type text might be in a non-ASCII character set, when <b>mhshow</b> encounters a “charset”
       parameter for this content, it checks if your terminal can display this character set  natively.   <b>mhshow</b>
       checks  this  by  examining the current character set defined by the <u><a href="../man1/locale.1.html">locale</a></u>(1) environment variables.  If
       the value of the locale character set is equal to the value of the charset parameter, then <b>mhshow</b> assumes
       it can display this content without any additional setup.  If the locale is not set properly, <b>mhshow</b> will
       assume a value of “US-ASCII”.  If the character set cannot be displayed natively, then <b>mhshow</b>  will  look
       for an entry of the form:

            mhshow-charset-&lt;charset&gt;

       which  should contain a command creating an environment to render the character set.  This command string
       should containing a single “%s”, which will be filled-in with the command to display the content.

       Example entries might be:

            mhshow-charset-iso-8859-1: xterm -fn '-*-*-medium-r-normal-*-*-120-*-*-c-*-iso8859-*' -e %s

       or

            mhshow-charset-iso-8859-1: '%s'

       The first example tells <b>mhshow</b> to start <b>xterm</b> and load the appropriate character  set  for  that  message
       content.   The  second example tells <b>mhshow</b> that your pager (or other program handling that content type)
       can handle that character set, and that no special processing is needed beforehand.

       Note that many pagers strip off the high-order bit, or have problems displaying text with the  high-order
       bit  set.   However,  the  pager <b>less</b> has support for single-octet character sets.  For example, messages
       encoded in the ISO-8859-1 character set can  be  viewed  using  <b>less</b>,  with  these  environment  variable
       settings:

            LESSCHARSET latin1
            LESS        -f

       The  first  setting  tells  <b>less</b>  to  use  the  ISO-8859-1 definition to determine whether a character is
       “normal”, “control“, or “binary”.  The second setting tells <b>less</b> not to warn you if it encounters a  file
       that  has  non-ASCII  characters.   Then,  simply set the <u>moreproc</u> profile entry to <b>less</b>, and it will get
       called automatically.  (To handle other single-octet character sets, look at the <u><a href="../man1/less.1.html">less</a></u>(1) manual entry for
       information about the LESSCHARDEF environment variable.)

   <b>External</b> <b>Access</b>
       For contents of type message/external-body, <b>mhshow</b> supports these access-types:

       •   afs

       •   anon-ftp

       •   ftp

       •   local-file

       •   mail-server

       •   url

       For the “anon-ftp” and “ftp” access types, <b>mhshow</b> will look for the “nmh-access-ftp” profile entry, e.g.,

            nmh-access-ftp: myftp.sh

       to determine the pathname of a program to perform the FTP retrieval.

       This program is invoked with these arguments:

            domain name of FTP-site
            username
            password
            remote directory
            remote filename
            local filename
            “ascii” or “binary”

       The program should terminate with an exit status of zero if the retrieval is successful, and  a  non-zero
       exit status otherwise.

       For  the  “url” access-type, <b>mhshow</b> will look for the “nmh-access-url” profile entry.  See <u><a href="../man1/mhstore.1.html">mhstore</a></u>(1) for
       more details.

   <b>User</b> <b>Environment</b>
       Because the display environment in which <b>mhshow</b> operates may vary for  different  machines,  <b>mhshow</b>  will
       look  for  the  environment  variable  MHSHOW.  If present, this specifies the name of an additional user
       profile which should be read.  Hence,  when  a  user  logs  in  on  a  particular  display  device,  this
       environment variable should be set to refer to a file containing definitions useful for the given display
       device.  Normally, only entries that deal with the methods to display different content type and subtypes

            mhshow-show-&lt;type&gt;/&lt;subtype&gt;
            mhshow-show-&lt;type&gt;

       need be present in this additional profile.  Finally, <b>mhshow</b> will attempt to consult

            /etc/nmh/mhn.defaults

       which is created automatically during <b>nmh</b> installation.

       See  "Profile  Lookup"  in  <u><a href="../man5/mh-profile.5.html">mh-profile</a></u>(5) for the profile search order, and for how duplicate entries are
       treated.

   <b>Content-Type</b> <b>Marker</b>
       <b>mhshow</b> will display a marker containing information about the part being  displayed  next.   The  default
       marker  can  be changed using the <b>-markform</b> switch to specify a file containing <u><a href="../man5/mh-format.5.html">mh-format</a></u>(5) instructions
       to use  when  displaying  the  content  marker.   A  copy  of  the  default  markform  can  be  found  in
       /etc/nmh/mhshow.marker,  for  reference.  In addition to the normal set of <u><a href="../man5/mh-format.5.html">mh-format</a></u>(5) instructions, the
       following <u>component</u> escapes are supported:

            <u>Escape</u>          <u>Returns</u>   <u>Description</u>
            part            string    MIME part number
            content-type    string    MIME Content-Type of part
            description     string    Content-Description header
            disposition     string    Content disposition (attachment or inline)
            ctype-&lt;PARAM&gt;   string    Value of &lt;PARAM&gt; from Content-Type header
            cdispo-&lt;PARAM&gt;  string    Value of &lt;PARAM&gt; from
                                      Content-Disposition header
            %(size)         integer   The size of the decoded part, in bytes
            %(unseen)       boolean   Returns true for suppressed parts
            In this context, the %(unseen) function indicates whether  <b>mhshow</b>  has  decided  to  not  display  a
            particular part due to the <b>-textonly</b> or <b>-inlineonly</b> switches.
       All  MIME  parameters  and  the  “Content-Description”  header will have RFC 2231 decoding applied and be
       converted to the local character set.

</pre><h4><b>FILES</b></h4><pre>
       <b>mhshow</b> looks for all format files and mhn.defaults in multiple locations: absolute pathnames are accessed
       directly, tilde expansion is done on usernames, and files are searched for in the user's <u>Mail</u>  directory,
       as specified in their profile.  If not found there, the directory “<u>/etc/nmh</u>” is checked.

       $HOME/.mh_profile          The user profile
       $MHSHOW                    Additional profile entries
       /etc/nmh/mhn.defaults      System default MIME profile entries
       /etc/nmh/mhl.headers       The headers template
       /etc/nmh/mhshow.marker     Example content marker
       /etc/nmh/mhshow.header     Example message separator header

</pre><h4><b>PROFILE</b> <b>COMPONENTS</b></h4><pre>
       Path:                To determine the user's nmh directory
       Current-Folder:      To find the default current folder
       Unseen-Sequence:     To name sequences denoting unseen messages
       mhlproc:             Default program to display message headers
       nmh-access-ftp:      Program to retrieve contents via FTP
       nmh-access-url:      Program to retrieve contents via HTTP
       mhshow-charset-&lt;charsTe&amp;gtmplate for environment to render character sets
       mhshow-show-&lt;type&gt;*  Template for displaying contents
       moreproc:            Default program to display text/plain content

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <u><a href="../man3/iconv.3.html">iconv</a></u>(3), <u><a href="../man1/mhbuild.1.html">mhbuild</a></u>(1), <u><a href="../man1/mhl.1.html">mhl</a></u>(1), <u><a href="../man1/mhlist.1.html">mhlist</a></u>(1), <u><a href="../man1/mhparam.1.html">mhparam</a></u>(1), <u><a href="../man1/mhstore.1.html">mhstore</a></u>(1), <u><a href="../man1/sendfiles.1.html">sendfiles</a></u>(1)

</pre><h4><b>DEFAULTS</b></h4><pre>
       `<b>+folder</b>' defaults to the current folder
       `<b>msgs</b>' defaults to cur
       `<b>-concat</b>'
       `<b>-textonly</b>'
       `<b>-inlineonly</b>'
       `<b>-form</b> <b>mhl.headers</b>'

</pre><h4><b>CONTEXT</b></h4><pre>
       If  a  folder  is  given,  it  will become the current folder.  The last message selected will become the
       current message.

nmh-1.8                                            2015-02-08                                        <u><a href="../man1mh/MHSHOW.1mh.html">MHSHOW</a></u>(1mh)
</pre>
 </div>
</div></section>
</div>
</body>
</html>