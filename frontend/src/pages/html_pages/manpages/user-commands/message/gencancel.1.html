<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>gencancel - Generate cancel control messages</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/inn2">inn2_2.7.3~20250201-1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       gencancel - Generate cancel control messages

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>gencancel</b> [<b>-adkLm</b>] [<b>-b</b> <u>body</u>] [<b>-c</b> <u>charset</u>] [<b>-f</b> <u>from</u>] [<b>-n</b> <u>newsgroups</u>] [<b>-s</b> <u>subject</u>] <u>message-id</u>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>gencancel</b> provides the news administrator with a helpful tool to generate cancel control messages,
       writing them to standard output.  The generated cancel article can then be injected by <b>inews</b> (see
       examples below).

       <b>gencancel</b> expects the Message-ID of the article to cancel; this <u>message-id</u> argument should properly be
       quoted for the shell and surrounded by angle brackets.  <b>gencancel</b> will then try to read the original
       article in the news spool to determine the original newsgroups it was posted to, and re-use that
       information for the cancel control message.  If you want to modify that, or if the information was not
       found, you'll have to set it with the <b>-n</b> flag.

       If INN was built with Cancel-Lock support, <b>gencancel</b> will generate the right admin Cancel-Key header
       field to use in order to authenticate cancels.  If, for whatever reason, you need cancelling an article
       posted from your news server with a Cancel-Lock header field, the corresponding admin Cancel-Key hashes
       are needed to authenticate the withdrawal request.  That information is computed with the <u>canlockadmin</u>
       parameter set in <u>inn-secrets.conf</u>.

       In case you only need the admin Cancel-Key hashes, you can use the <b>-k</b> flag.  Only the body of the Cancel-
       Key header field will then be written to standard output.  You can then re-use it for instance in a
       supersede request or from another script.

</pre><h4><b>OPTIONS</b></h4><pre>
       <b>-a</b>  <b>gencancel</b>  outputs by default an Approved header field, using the same value as the From header field
           body.  If <b>-a</b> is used, no Approved header field is output.

           This header field is useful for cancelling articles originally posted to moderated newsgroups.  If  a
           cancel  control  article  lists a moderated newsgroup in its Newsgroups header field, and no Approved
           header field is present, the cancel will be sent to the moderator first for approval.  Cancel control
           messages are not required to contain an Approved header field outside of  moderated  newsgroups,  but
           can,  so  you  shouldn't  generally  use  <b>-a</b>  unless you really want your cancels to be approved by a
           moderator, or are sure the Newsgroups header field does not list any moderated newsgroups.

       <b>-b</b> <u>body</u>
           <b>gencancel</b> writes by default "Admin cancel." in the body  of  cancel  control  messages.   Using  this
           argument permits writing a different value, which may be empty or multi-line.

       <b>-c</b> <u>charset</u>
           By  default, "ISO-8859-1" is specified as the used charset in the Content-Type header field.  In case
           you change the default body with <b>-b</b>, you may want to also change <u>charset</u> accordingly.

       <b>-d</b>  <b>gencancel</b> generates a Date header field in the local time of your news server.  Using  <b>-d</b>  will  make
           use of a UTC date.

       <b>-f</b> <u>from</u>
           <b>gencancel</b>  uses by default the value of <u>complaints</u> in <u>inn.conf</u> for the From header field.  Using this
           argument permits setting the value you want.  The same value will be used  for  the  Approved  header
           field (if generated, when <b>-a</b> is not given).

       <b>-k</b>  Instead  of  outputting  a  whole  cancel control message, <b>gencancel</b> will just output the body of the
           Cancel-Key header field with admin hashes.

           This flag is only available if INN was built with Cancel-Lock support.

       <b>-L</b>  <b>gencancel</b> outputs by default a Cancel-Key header field to authenticate the  cancel  control  message.
           If <b>-L</b> is used, no Cancel-Key header field is output.

           This flag is only available if INN was built with Cancel-Lock support.

       <b>-m</b>  <b>gencancel</b>  generates  by  default  a random Message-ID and uses it as unique identifier of the cancel
           control message.  If <b>-m</b> is used, no Message-ID header field is output.

       <b>-n</b> <u>newsgroups</u>
           <b>gencancel</b> generates by default the same Newsgroups header field as the one present  in  the  original
           article  to  cancel.   This is done to best ensure that the cancel control message will be relayed to
           the same news servers as the original message.

           In case your news server does not (or no longer) locally carry the original article, you will have to
           give an explicit newsgroup or list of comma-separated newsgroups with this flag, that will be used as
           the Newsgroups header field of the cancel.

       <b>-s</b> <u>subject</u>
           <b>gencancel</b> uses by default "cmsg cancel &lt;message-id&gt;" as  the  subject  of  cancel  control  messages.
           Using  this argument permits setting a different value for the Subject header field.  Make sure it is
           properly MIME-encoded.

</pre><h4><b>EXAMPLES</b></h4><pre>
       To only retrieve the admin Cancel-Key hashes associated to the given Message-ID:

           gencancel -k '&lt;mid@news&gt;'

       If you're using non-ASCII characters in headers, make sure you properly MIME-encode them.  For  instance,
       use the "Encode" Perl module:

           FROM=$(perl -e 'use Encode;
                           print encode("MIME-Q",
                                        decode("UTF-8", "Julien ÉLIE"));')
           gencancel -f "$FROM &lt;<a href="mailto:admin@news.server.com">admin@news.server.com</a>&gt;" '&lt;mid@news&gt;'

       You'll then see in the output a properly MIME-encoded header field:

           From: =?UTF-8?Q?Julien_=C3=89LIE?= &lt;<a href="mailto:admin@news.server.com">admin@news.server.com</a>&gt;

       An example of call with a custom multi-line body:

           gencancel -b "$(echo -e "Multi\nLine\nBody.")" '&lt;mid@news&gt;'

       (Use <b>-c</b> to change the default Content-Type charset for the body.)

       You  can  then pipe the result into "inews -h -P -D" (meaning <b>inews</b> expects an article with headers, does
       not add a Sender header field, and writes the result to standard output  instead  of  actually  injecting
       it):

           gencancel '&lt;mid@news&gt;' | inews -h -P -D

       If it all looks good, then inject it into the news system (without giving "-D" to <b>inews</b>):

           gencancel '&lt;mid@news&gt;' | inews -h -P

       Note that <b>inews</b> sends the message to the server specified in the <u>server</u> parameter in <u>inn.conf</u>.

</pre><h4><b>HISTORY</b></h4><pre>
       Written by Julien Élie for InterNetNews.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <a href="../man1/inews.1.html">inews</a>(1), <a href="../man5/inn-secrets.conf.5.html">inn-secrets.conf</a>(5).

INN 2.7.3                                          2025-02-21                                       <u><a href="../man1/GENCANCEL.1.html">GENCANCEL</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>