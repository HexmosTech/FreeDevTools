<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>pgpverify - Cryptographically verify Usenet control messages</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/inn2">inn2_2.7.3~20250201-1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       pgpverify - Cryptographically verify Usenet control messages

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>pgpverify</b> [<b>--findid</b>=<u>string</u>] [<b>--test</b>] &lt; <u>message</u>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The <b>pgpverify</b> program reads (on standard input) a Usenet control message that has been cryptographically
       signed using the <b>signcontrol</b> program (or some other program that produces a compatible format).
       <b>pgpverify</b> then uses a PGP implementation to determine who signed the control message.  If the control
       message has a valid signature, <b>pgpverify</b> prints (to stdout) the user ID of the key that signed the
       message.  Otherwise, it exits with a non-zero exit status.

       If <b>pgpverify</b> is installed as part of INN, it uses INN's configuration to determine what signature
       verification program to use, how to log errors, what temporary directory to use, and what keyring to use.
       Otherwise, all of those parameters can be set by editing the beginning of this script.

       By default, when running as part of INN, <b>pgpverify</b> expects the PGP key ring to be found in <u>pathetc</u>/pgp
       (as either <u>pubring.pgp</u> or <u>pubring.gpg</u> depending on whether PGP or GnuPG is used to verify signatures).
       If that directory doesn't exist, it will fall back on using the default key ring, which is in a <u>.pgp</u> or
       <u>.gnupg</u> subdirectory of the running user's home directory.

       INN, when using GnuPG, configures <b>pgpverify</b> to use <b>gpg</b> or <b>gpgv</b>, which by default expects keys to be in a
       keyring named <u>trustedkeys.gpg</u>, since it doesn't implement trust checking directly.  <b>pgpverify</b> uses that
       file if present but falls back to <u>pubring.gpg</u> if it's not found.  This bypasses the trust model for
       checking keys, but is compatible with the way that <b>pgpverify</b> used to behave.  Of course, if a keyring is
       found in <u>pathetc</u>/pgp or configured at the top of the script, that overrides all of this behavior.

       Note that a few Usenet hierarchies still send control articles signed with old PGP keys using a weak hash
       algorithm (MD5).  Modern versions of GnuPG (2.1.0+) no longer validate such signatures, so you should use
       GnuPG 1.x or 2.0.x if you need verifying such control articles.

</pre><h4><b>OPTIONS</b></h4><pre>
       <b>--findid</b>=<u>string</u>
           The  <b>--findid</b> flag causes <b>pgpverify</b> to explicitly search for <u>string</u> in the output from PGP's analysis
           of the message.  This option is useful when several UIDs are defined on a single  PGP  key,  and  the
           caller to <b>pgpverify</b> needs checking whether a given one is defined on this key.  In case the signature
           is valid but does not contain <u>string</u>, <b>pgpverify</b> exits with exit status 4.

       <b>--test</b>
           The  <b>--test</b>  flag  causes  <b>pgpverify</b>  to  print  out  the input that it is passing to PGP (which is a
           reconstructed version of the input that supposedly created the control message) as well as the output
           from PGP's analysis of the message.

</pre><h4><b>EXIT</b> <b>STATUS</b></h4><pre>
       <b>pgpverify</b> may exit with the following statuses:

       0   The control message had a good PGP signature.

       1   The control message had no PGP signature.

       2   The control message had an unknown PGP signature.

       3   The control message had a bad PGP signature.

       4   The control message had a good PGP signature but the argument given to the <b>--findid</b> flag had non been
           found in the output from PGP's analysis of the message.

       255 A problem occurred not directly related to PGP analysis of signature.

</pre><h4><b>ENVIRONMENT</b></h4><pre>
       <b>pgpverify</b> does not modify or otherwise alter the  environment  before  invoking  the  <b>pgp</b>,  <b>gpgv</b>  or  <b>gpg</b>
       program.   It is the responsibility of the person who installs <b>pgpverify</b> to ensure that when <b>pgp</b>, <b>gpgv</b> or
       <b>gpg</b> runs, it has the ability to locate and read a PGP key file that contains the PGP public keys for  the
       appropriate  Usenet  hierarchy  administrators.   <b>pgpverify</b>  can be pointed to an appropriate key ring by
       editing variables at the beginning of this script.

</pre><h4><b>NOTES</b></h4><pre>
       Historically, Usenet news server administrators have configured their news servers to automatically honor
       Usenet control messages based on the originator of the control messages and the hierarchies for which the
       control messages applied.  For example, in the past, David Lawrence always issued  control  messages  for
       the  "Big 8" hierarchies (comp, humanities, misc, news, rec, sci, soc, talk).  Usenet news administrators
       would configure their news server software to automatically honor newgroup and rmgroup  control  messages
       that originated from David Lawrence and applied to any of the Big 8 hierarchies.

       Unfortunately,  Usenet  news  articles (including control messages) are notoriously easy to forge.  Soon,
       malicious users realized they could create or remove (at least  temporarily)  any  Big 8  newsgroup  they
       wanted  by simply forging an appropriate control message in David Lawrence's name.  As Usenet became more
       widely used, forgeries became more common.

       The <b>pgpverify</b> program was designed to allow Usenet news administrators  to  configure  their  servers  to
       cryptographically  verify  control  messages  before  automatically  acting on them.  Under the <b>pgpverify</b>
       system, a Usenet hierarchy maintainer creates a PGP public/private key pair and disseminates  the  public
       key.  Whenever the hierarchy maintainer issues a control message, he uses the <b>signcontrol</b> program to sign
       the control message with the PGP private key.  Usenet news administrators configure their news servers to
       run  the <b>pgpverify</b> program on the appropriate control messages, and take action based on the PGP key User
       ID that signed the control message, not the name and address that appear in the control  message's  From:
       or Sender: headers.

       Thus, appropriate use of the <b>signcontrol</b> and <b>pgpverify</b> programs essentially eliminates the possibility of
       malicious  users  forging  Usenet  control messages that sites will act upon, as such users would have to
       obtain the PGP private key in order to  forge  a  control  message  that  would  pass  the  cryptographic
       verification step.  If the hierarchy administrators properly protect their PGP private keys, the only way
       a  malicious  user  could  forge  a  validly-signed  control  message would be by breaking the public key
       encryption algorithm, which (at least at this time) is believed to be  prohibitively  difficult  for  PGP
       keys of a sufficient bit length.

</pre><h4><b>HISTORY</b></h4><pre>
       <b>pgpverify</b>  was written by David C Lawrence &lt;<a href="mailto:tale@isc.org">tale@isc.org</a>&gt;.  Manual page provided by James Ralston.  It is
       currently maintained by Russ Allbery &lt;<a href="mailto:eagle@eyrie.org">eagle@eyrie.org</a>&gt;.

</pre><h4><b>COPYRIGHT</b> <b>AND</b> <b>LICENSE</b></h4><pre>
       David Lawrence wrote:  "Our lawyer told me to include the following.  The upshot of it is  that  you  can
       use the software for free as much as you like."

       Copyright (c) 1996 UUNET Technologies, Inc.  All rights reserved.

       Redistribution  and  use in source and binary forms, with or without modification, are permitted provided
       that the following conditions are met:

       1.  Redistributions of source code must retain the above copyright notice, this list  of  conditions  and
           the following disclaimer.

       2.  Redistributions in binary form must reproduce the above copyright notice, this list of conditions and
           the following disclaimer in the documentation and/or other materials provided with the distribution.

       3.  All  advertising  materials  mentioning  features  or use of this software must display the following
           acknowledgement:

             This product includes software developed by UUNET Technologies, Inc.

       4.  The name of UUNET Technologies ("UUNET") may not be used to endorse or promote products derived  from
           this software without specific prior written permission.

       THIS  SOFTWARE  IS  PROVIDED  BY  UUNET "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT
       LIMITED TO, THE  IMPLIED  WARRANTIES  OF  MERCHANTABILITY  AND  FITNESS  FOR  A  PARTICULAR  PURPOSE  ARE
       DISCLAIMED.   IN NO EVENT SHALL UUNET BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY,
       OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF  SUBSTITUTE  GOODS  OR  SERVICES;
       LOSS  OF  USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY,
       WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT
       OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <a href="../man1/gpg.1.html">gpg</a>(1), <a href="../man1/gpgv.1.html">gpgv</a>(1), <a href="../man1/pgp.1.html">pgp</a>(1).

       &lt;https://ftp.isc.org/pub/pgpcontrol/&gt; is where the most recent  versions  of  <b>signcontrol</b>  and  <b>pgpverify</b>
       live, along with PGP public keys used for hierarchy administration.

INN 2.7.3                                          2025-02-21                                       <u><a href="../man1/PGPVERIFY.1.html">PGPVERIFY</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>