<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>mu-find - find e-mail messages in the mu database.</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/maildir-utils">maildir-utils_1.12.9-1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       mu-find - find e-mail messages in the <b>mu</b> database.

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>mu</b> [<u>COMMON-OPTIONS</u>] <b>find</b> [<u>OPTIONS</u>] <u>SEARCH_EXPRESSION</u>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>mu</b> <b>find</b> is the <b>mu</b> command for searching e-mail message that were stored earlier using <b>mu</b> <b><a href="../man1/index.1.html">index</a></b>(1).

</pre><h4><b>SEARCHING</b> <b>MAIL</b></h4><pre>
       <b>mu</b>  <b>find</b> starts a search for messages in the database that match some search pattern. The search patterns
       are described in detail in <b><a href="../man7/mu-query.7.html">mu-query</a></b>(7).

       For example:

              $ mu find subject:snow and date:2009..

       would find all messages in 2009 with `snow' in the subject field, e.g:

              2009-03-05 17:57:33 EET Lucia  &lt;<a href="mailto:lucia@example.com">lucia@example.com</a>&gt; running in the snow
              2009-03-05 18:38:24 EET Marius &lt;<a href="mailto:marius@foobar.com">marius@foobar.com</a>&gt; Re: running in the snow

       Note, this the default, plain-text output, which is the default, so you don't have to use <b>--format=plain</b>.
       For other types of output (such as symlinks, XML or s-expressions), see the discussion  in  the  <b>OPTIONS</b>-
       section below about <b>--format</b>.

       The  search  pattern  is  taken as a command-line parameter. If the search parameter consists of multiple
       parts (as in the example) they are treated as if there were a logical <b>and</b> between them.

       For details on the possible queries, see <b><a href="../man7/mu-query.7.html">mu-query</a></b>(7).

</pre><h4><b>FIND</b> <b>OPTIONS</b></h4><pre>
       Note, some of the important options are described in the <b><a href="../man1/mu.1.html">mu</a></b>(1) manual page and not here, as they apply to
       multiple <b>mu</b> commands.

       The <b>find</b>-command has various options that influence the way <b>mu</b> displays the results. If you don't specify
       anything, the defaults are <b>--fields="d</b> <b>f</b> <b>s"</b>, <b>--sortfield=date</b> and <b>--reverse</b>.

   <b>-f,</b> <b>--fields</b> <u><b>fields</b></u>
       Specifies a string that determines which fields are shown in the output. This string consists of a number
       of characters (such as 's' for subject or 'f' for from), which will replace with the actual field in  the
       output. Fields that are not known will be output as-is, allowing for some simple formatting.

       For example:

              $ mu find subject:snow --fields "d f s"

       lists the date, subject and sender of all messages with `snow' in the their subject.

       The table of replacement characters is superset of the list mentions for search parameters, such as:
              t       *t*o: recipient
              d       Sent *d*ate of the message
              f       Message sender (*f*rom:)
              g       Message flags (fla*g*s)
              l       Full path to the message (*l*ocation)
              s       Message *s*ubject
              i       Message-*i*d
              m       *m*aildir

       For the complete list, try the command: <b>mu</b> <b>info</b> <b>fields</b>.

       The  message  flags  are  described  in  <b><a href="../man7/mu-query.7.html">mu-query</a></b>(7).  As  an  example, a message which is `seen', has an
       attachment and is signed would have `asz' as its corresponding output  string,  while  an  encrypted  new
       message would have `nx'.

   <b>-s,</b> <b>--sortfield</b> <u><b>field</b></u> <b>and</b> <b>-z,--reverse</b>
       Specify  the  field  to sort the search results by and the direction (i.e., `reverse' means that the sort
       should be reverted - Z-A). Examples include:

              cc,c            Cc (carbon-copy) recipient(s)
              date,d          Message sent date
              from,f          Message sender
              maildir,m       Maildir
              msgid,i         Message id
              prio,p          Nessage priority
              subject,s       Message subject
              to,t            To:-recipient(s)

       For the complete list, try the command: <b>mu</b> <b>info</b> <b>fields</b>.

       Thus, for example, to sort messages by date, you could specify:

              $ mu find fahrrad --fields "d f s" --sortfield=date --reverse

       Note, if you specify a sortfield, by default, messages are sorted in reverse  (descending)  order  (e.g.,
       from  lowest  to  highest). This is usually a good choice, but for dates it may be more useful to sort in
       the opposite direction.

   <b>-n,</b> <b>--maxnum</b> <u><b>number</b></u>
       If <u>number</u> &gt; 0, display maximally that number of entries. If  not  specified,  all  matching  entries  are
       displayed.

   <b>--summary-len</b> <u><b>number</b></u>
       If <u>number</u> &gt; 0, use that number of lines of the message to provide a summary.

   <b>--format</b> <b>plain|links|xml|sexp</b>
       Output results in the specified format.

       —   The default is <b>plain</b>, i.e normal output with one line per message.

       —   <b>links</b>  outputs  the results as a maildir with symbolic links to the found messages. This enables easy
           integration with mail-clients (see below for more information). This requires <b>--linksdir</b>.

       —   <b>xml</b> formats the search results as XML.

       —   <b>sexp</b> formats the search results as an s-expression as used in Lisp programming environments.

   <b>--linksdir</b> <u><b>dir</b></u> <b>and</b> <b>-c,</b> <b>--clearlinks</b>
       When using <b>--format=links</b>, output the results as a maildir with symbolic links  to  the  found  messages.
       This  enables  easy  integration  with  mail-clients (see below for more information). <b>mu</b> will create the
       maildir if it does not exist yet.

       If you specify <b>--clearlinks</b>, existing symlinks will be cleared from the target directories;  this  allows
       for re-use of the same maildir. However, this option will delete any symlink it finds, so be careful.

              $ mu find grolsch --format=links --linksdir=<a href="file:~/Maildir/search">~/Maildir/search</a> --clearlinks

       stores  links  to  found  messages  in  <u><a href="file:~/Maildir/search">~/Maildir/search</a></u>. If the directory does not exist yet, it will be
       created. Note: when <b>mu</b> creates a Maildir for these links, it automatically inserts a  <u>.noindex</u>  file,  to
       exclude the directory from <b>mu</b> <b>index</b>.

   <b>--after</b> <u><b>timestamp</b></u>
       Only  show  messages  whose message files were last modified (<b>mtime</b>) after <u>timestamp</u>. <u>timestamp</u> is a UNIX
       <b>time_t</b> value, the number of seconds since 1970-01-01 (in UTC).

       From the command line, you can use the <b>date</b> command  to  get  this  value.  For  example,  only  consider
       messages modified (or created) in the last 5 minutes, you could specify
              --after=`date +%s --date='5 min ago'`

       This is assuming the GNU <b>date</b> command.

   <b>--exec</b> <u><b>command</b></u>
       The  <b>--exec</b>  coption  causes  <u>command</u> to be executed on each matched message; for example, to see the raw
       text of all messages matching `milkshake', you could use:
              $ mu find milkshake --exec='less'

       which is roughly equivalent to:
              $ mu find milkshake --fields="l" | xargs less

   <b>-b,</b> <b>--bookmark</b> <u><b>bookmark</b></u>
       Use a bookmarked search query. Using this option, a query from your bookmark file will  be  prepended  to
       other search queries. See <b><a href="../man5/mu-bookmarks.5.html">mu-bookmarks</a></b>(5) for the details of the bookmarks file.

   <b>-u,</b> <b>--skip-dups</b>
       Whenever  there  are  multiple  messages with the same message-id field, only show the first one. This is
       useful if you have copies of the same message, which  is  a  common  occurrence  when  using  e.g.  Gmail
       together with <b>offlineimap</b>.

   <b>-r,</b> <b>--include-related</b>
       Include messages being referred to by the matched messages -- i.e.. include messages that are part of the
       same message thread as some matched messages. This is useful if you want Gmail-style `conversations'.

   <b>-t,</b> <b>--threads</b>
       Show  messages  in  a  `threaded' format -- that is, with indentation and arrows showing the conversation
       threads in the list of matching messages. When using this, sorting is chronological (by date),  based  on
       the newest message in a thread.

       Messages  in  the  threaded list are indented based on the depth in the discussion, and are prefix with a
       kind of arrow with thread-related information about the message, as in the following table:
              |             | normal | orphan | duplicate |
              |-------------+--------+--------+-----------|
              | first child | `-&gt;    | `*&gt;    | `=&gt;       |
              | other       | |-&gt;    | |*&gt;    | |=&gt;       |

       Here, an `orphan' is a message without a parent message (in the list of matches), and a  duplicate  is  a
       message  whose  message-id  was  already seen before; not this may not really be the same message, if the
       message-id was copied.

       The  algorithm  used  for  determining  the  threads  is   based   on   Jamie   Zawinksi's   description:
       <u><a href="http://www.jwz.org/doc/threading.html">http://www.jwz.org/doc/threading.html</a></u>

   <b>-a,--analyze</b>
       Instead  of executing the query, analyze it by show the parse-tree s-expression and a stringified version
       of the Xapian query. This can help users to determine how <b>mu</b> interprets some query.

       The output of this command are differ between versions, but should be helpful nevertheless.

   <b>--muhome</b>
       Use a non-default directory to store and read the database, write the logs, etc.  By default, <b>mu</b> uses the
       XDG Base Directory Specification (e.g. on GNU/Linux  this  defaults  to  <u><a href="file:~/.cache/mu">~/.cache/mu</a></u>  and  <u><a href="file:~/.config/mu">~/.config/mu</a></u>).
       Earlier versions of <b>mu</b> defaulted to <u><a href="file:~/.mu">~/.mu</a></u>, which now requires <b>--muhome=<a href="file:~/.mu">~/.mu</a></b>.

       The environment variable <b>MUHOME</b> can be used as an alternative to <b>--muhome</b>. The latter has precedence.

</pre><h4><b>COMMON</b> <b>OPTIONS</b></h4><pre>
   <b>-d,</b> <b>--debug</b>
       Makes  <b>mu</b>  generate  extra  debug information, useful for debugging the program itself. Debug information
       goes to the standard logging location; see <b><a href="../man1/mu.1.html">mu</a></b>(1).

   <b>-q,</b> <b>--quiet</b>
       Causes <b>mu</b> not to output informational messages and progress information to standard output, but  only  to
       the log file. Error messages will still be sent to standard error. Note that <b>mu</b> <b>index</b> is much faster with
       <b>--quiet</b>, so it is recommended you use this option when using <b>mu</b> from scripts etc.

   <b>--log-stderr</b>
       Causes  <b>mu</b>  to  not  output  log  messages to standard error, in addition to sending them to the standard
       logging location.

   <b>--nocolor</b>
       Do not use ANSI colors. The environment variable <b>NO_COLOR</b> can be used as an alternative to <b>--nocolor</b>.

   <b>-V,</b> <b>--version</b>
       Prints <b>mu</b> version and copyright information.

   <b>-h,</b> <b>--help</b>
       Lists the various command line options.

</pre><h4><b>INTEGRATION</b></h4><pre>
       It is possible to integrate <b>mu</b> <b>find</b> with some mail clients

   <b>mutt</b>
       For <b>mutt</b> you can use the following in your <b>muttrc</b>; pressing the F8 key will start a search, and  F9  will
       take you to the results.

              # mutt macros for mu
              macro index &lt;F8&gt; "&lt;shell-escape&gt;mu find --clearlinks --format=links --linksdir=<a href="file:~/Maildir/search">~/Maildir/search</a> " \\
                                       "mu find"
              macro index &lt;F9&gt; "&lt;change-folder-readonly&gt;<a href="file:~/Maildir/search">~/Maildir/search</a>" \\
                                       "mu find results"

   <b>Wanderlust</b>
       <b>Sam</b>  <b>B</b>  suggested  the  following  on  the  <b>mu</b>-mailing  list.  First add the following to your Wanderlust
       configuration file:

              (require 'elmo-search)
              (elmo-search-register-engine
                  'mu 'local-file
                  :prog "/usr/local/bin/mu" ;; or wherever you've installed it
                  :args '("find" pattern "--fields" "l") :charset 'utf-8)

              (setq elmo-search-default-engine 'mu)
              ;; for when you type "g" in folder or summary.
              (setq wl-default-spec "[")

       Now, you can search using the <b>g</b> key binding; you can also  create  permanent  virtual  folders  when  the
       messages matching some expression by adding something like the following to your <u>folders</u> file.

              VFolders {
                [date:today..now]!mu  "Today"
                [size:1m..100m]!mu    "Big"
                [flag:unread]!mu      "Unread"
              }

       After restarting Wanderlust, the virtual folders should appear.

</pre><h4><b>ENCODING</b></h4><pre>
       <b>mu</b>  <b>find</b> output is encoded according to the locale for <b>--format=plain</b> (the default format), and UTF-8 for
       all other formats (<u>sexp</u>, <u>xml</u>).

</pre><h4><b>PERFORMANCE</b></h4><pre>
       Some notes on performance, comparing the timings between some recent releases; taking  the  total  number
       for 10 test runs.

       1.  time (repeat 10 mu find "" -n 50000 &gt; /dev/null)

       2.  time (repeat 10 mu find "" -n 50000 --include-related --threads &gt; /dev/null)

                                     ┌─────────────────────────────────────────────┐
                                     │       release   time 1 (sec)   time 2 (sec) │
                                     ├─────────────────────────────────────────────┤
                                     │           1.4   8.9s           59.3s        │
                                     │           1.6   8.3s           27.5s        │
                                     │           1.8   8.7s           29.3s        │
                                     │          1.10   9.8s           30.6s        │
                                     │ 1.11 (master)   10.1s          29.5s        │
                                     └─────────────────────────────────────────────┘

</pre><h4><b>EXIT</b> <b>CODE</b></h4><pre>
       This command returns 0 upon successful completion, or a non-zero exit code otherwise.

       0.  success

       2.  no matches found. Try a different query

       11. database schema mismatch. You need to re-initialize <b>mu</b>, see <b><a href="../man1/mu-init.1.html">mu-init</a></b>(1)

       19. failed to acquire lock. Some other program has exclusive access to the <b>mu</b> database

       99. caught an exception

</pre><h4><b>REPORTING</b> <b>BUGS</b></h4><pre>
       Please report bugs at <u>https://github.com/djcb/mu/issues</u>.

</pre><h4><b>AUTHOR</b></h4><pre>
       Dirk-Jan C. Binnema &lt;<a href="mailto:djcb@djcbsoftware.nl">djcb@djcbsoftware.nl</a>&gt;

</pre><h4><b>COPYRIGHT</b></h4><pre>
       This manpage is part of <b>mu</b> 1.12.9.

       Copyright   ©   2008-2025   Dirk-Jan   C.   Binnema.   License   GPLv3+:  GNU  GPL  version  3  or  later
       <u>https://gnu.org/licenses/gpl.html</u>. This is free software: you are free to  change  and  redistribute  it.
       There is NO WARRANTY, to the extent permitted by law.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man1/mu.1.html">mu</a></b>(1), <b><a href="../man1/mu-index.1.html">mu-index</a></b>(1), <b><a href="../man7/mu-query.7.html">mu-query</a></b>(7), <b><a href="../man1/mu-info.1.html">mu-info</a></b>(1)

                                                                                                      <u>MU</u> <u><a href="../man1/FIND.1.html">FIND</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>