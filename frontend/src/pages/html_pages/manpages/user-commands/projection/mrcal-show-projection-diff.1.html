<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>mrcal-show-projection-diff - Visualize the difference in projection between N models</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/mrcal">mrcal_2.4.1-4build1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       mrcal-show-projection-diff - Visualize the difference in projection between N models

</pre><h4><b>SYNOPSIS</b></h4><pre>
         $ mrcal-show-projection-diff before.cameramodel after.cameramodel
         ... a plot pops up showing how these two models differ in their projections

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The operation of this tool is documented at

         L&lt;<a href="http://mrcal.secretsauce.net/differencing.html">http://mrcal.secretsauce.net/differencing.html</a>&gt;

       This tool visualizes the results of mrcal.<b>projection_diff()</b>

       It is often useful to compare the projection behavior of two camera models. For instance, one may want to
       validate a calibration by comparing the results of two different chessboard dances. Or one may want to
       evaluate the stability of the intrinsics in response to mechanical or thermal stresses. This tool makes
       these comparisons, and produces a visualization of the results.

       In the most common case we're given exactly 2 models to compare. We then display the projection
       difference as either a vector field or a heat map. If we're given more than 2 models, then a vector field
       isn't possible and we instead display as a heatmap the standard deviation of the differences between
       models 1..N and model0.

       The top-level operation of this tool:

       - Grid the imager - Unproject each point in the grid using one camera model - Apply a transformation to
       map this point from one camera's coord system to the
         other. How we obtain this transformation is described below - Project the transformed points to the
       other camera - Look at the resulting pixel difference in the reprojection

       Several arguments control how we obtain the transformation. Top-level logic:

         if --intrinsics-only:
             Rt10 = identity_Rt()
         else:
             if --radius 0:
                 Rt10 = <a href="../manmodels/relative_extrinsics.models.html">relative_extrinsics</a>(models)
             else:
                 Rt10 = implied_Rt10__from_unprojections()

       The details of how the comparison is computed, and the meaning of

</pre><h4><b>OPTIONS</b></h4><pre>
   <b>THE</b> <b>ARGUMENTS</b>
       controlling this, are in the docstring of mrcal.<b>projection_diff()</b>.

   <b>POSITIONAL</b> <b>ARGUMENTS</b>
         models                Camera models to diff

   <b>OPTIONAL</b> <b>ARGUMENTS</b>
         -h, --help            show this help message and exit
         --gridn GRIDN GRIDN   How densely we should sample the imager. By default we
                               use a 60x40 grid
         --distance DISTANCE   Has an effect only without --intrinsics-only. The
                               projection difference varies depending on the range to
                               the observed world points, with the queried range set
                               in this argument. If omitted we look out to infinity.
                               We can also fit multiple distances at the same time by
                               passing them here in a comma-separated, whitespace-
                               less list. If multiple distances are given, we fit the
                               implied-by-the-intrinsics transformation using ALL the
                               distances, but we display the difference for the FIRST
                               distance given.
         --intrinsics-only     If given, we evaluate the intrinsics of each lens in
                               isolation by assuming that the coordinate systems of
                               each camera line up exactly
         --where WHERE WHERE   Center of the region of interest for this diff. Used
                               only without --intrinsics-only and without "--radius
                               0". It is usually impossible for the models to match
                               everywhere, but focusing on a particular area can work
                               better. The implied transformation will be fit to
                               match as large as possible an area centered on this
                               argument. If omitted, we will focus on the center of
                               the imager
         --radius RADIUS       Radius of the region of interest. If ==0, we do NOT
                               fit an implied transformation at all, but use the
                               transformations in the models. If omitted or &lt;0, we
                               use a "reasonable" value: the whole imager if we're
                               using uncertainties, or min(width,height)/6 if --no-
                               uncertainties. To fit with data across the whole
                               imager in either case, pass in a very large radius
         --observations        If given, I show where the chessboard corners were
                               observed at calibration time. These should correspond
                               to the low-diff regions.
         --valid-intrinsics-region
                               If given, I overlay the valid-intrinsics regions onto
                               the plot
         --cbmax CBMAX         Maximum range of the colorbar
         --title TITLE         Title string for the plot. Overrides the default
                               title. Exclusive with --extratitle
         --extratitle EXTRATITLE
                               Additional string for the plot to append to the
                               default title. Exclusive with --title
         --vectorfield         Plot the diff as a vector field instead of as a heat
                               map. The vector field contains more information
                               (magnitude AND direction), but is less clear at a
                               glance
         --vectorscale VECTORSCALE
                               If plotting a vectorfield, scale all the vectors by
                               this factor. Useful to improve legibility if the
                               vectors are too small to see
         --directions          If given, the plots are color-coded by the direction
                               of the error, instead of the magnitude
         --no-uncertainties    Used only without --intrinsics-only and without "--
                               radius 0". By default we use the uncertainties in the
                               model to weigh the fit. This will focus the fit on the
                               confident region in the models without --where or
                               --radius. The computation will run faster with --no-
                               uncertainties, but the default --where and --radius
                               may need to be adjusted
         --hardcopy HARDCOPY   Write the output to disk, instead of making an
                               interactive plot
         --terminal TERMINAL   gnuplotlib terminal. The default is good almost
                               always, so most people don't need this option
         --set SET             Extra 'set' directives to gnuplotlib. Can be given
                               multiple times
         --unset UNSET         Extra 'unset' directives to gnuplotlib. Can be given
                               multiple times

</pre><h4><b>REPOSITORY</b></h4><pre>
       &lt;https://www.github.com/dkogan/mrcal&gt;

</pre><h4><b>AUTHOR</b></h4><pre>
       Dima Kogan, "&lt;<a href="mailto:dima@secretsauce.net">dima@secretsauce.net</a>&gt;"

</pre><h4><b>LICENSE</b> <b>AND</b> <b>COPYRIGHT</b></h4><pre>
       Copyright (c) 2017-2023 California Institute of Technology ("Caltech"). U.S.  Government sponsorship
       acknowledged. All rights reserved.

       Licensed under the Apache License, Version 2.0 (the "License"); You may obtain a copy of the License at

           <a href="http://www.apache.org/licenses/LICENSE-2.0">http://www.apache.org/licenses/LICENSE-2.0</a>

mrcal 2.4.1-4build1                                2025-03-04                                           <u><a href="../man1/MRCAL.1.html">MRCAL</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>