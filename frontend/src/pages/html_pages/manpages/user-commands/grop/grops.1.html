<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>grops - groff output driver for PostScript</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/groff-base">groff-base_1.23.0-7_amd64</a> <br><br><pre>
</pre><h4><b>Name</b></h4><pre>
       grops - <u>groff</u> output driver for PostScript

</pre><h4><b>Synopsis</b></h4><pre>
       <b>grops</b> [<b>-glm</b>] [<b>-b</b> <u>brokenness-flags</u>] [<b>-c</b> <u>num-copies</u>] [<b>-F</b> <u>font-directory</u>] [<b>-I</b> <u>inclusion-directory</u>]
             [<b>-p</b> <u>paper-format</u>] [<b>-P</b> <u>prologue-file</u>] [<b>-w</b> <u>rule-thickness</u>] [<u>file</u> ...]

       <b>grops</b> <b>--help</b>

       <b>grops</b> <b>-v</b>
       <b>grops</b> <b>--version</b>

</pre><h4><b>Description</b></h4><pre>
       The GNU <u>roff</u> PostScript output driver translates the output of <u><a href="../man1/troff.1.html">troff</a></u>(1) into PostScript.  Normally, <u>grops</u>
       is  invoked  by  <u><a href="../man1/groff.1.html">groff</a></u>(1)  when the latter is given the “<b>-T</b> <b>ps</b>” option.  (In this installation, <b>ps</b> is the
       default output device.)  Use <u>groff</u>'s <b>-P</b> option to pass any options shown above  to  <u>grops</u>.   If  no  <u>file</u>
       arguments are given, or if <u>file</u> is “-”, <u>grotty</u> reads the standard input stream.  Output is written to the
       standard output stream.

       When  called  with  multiple  <u>file</u>  arguments,  <u>grops</u>  doesn't  produce  a  valid document structure (one
       conforming to the Document Structuring Conventions).  To print such concatenated output, it is  necessary
       to deactivate DSC handling in the printing program or previewer.

       See section “Font installation” below for a guide to installing fonts for <u>grops</u>.

</pre><h4><b>Options</b></h4><pre>
       <b>--help</b> displays a usage message, while <b>-v</b> and <b>--version</b> show version information; all exit afterward.

       <b>-b</b> <u>n</u>   Work  around  problems  with  spoolers,  previewers, and older printers.  Normally, <u>grops</u> produces
              output at PostScript LanguageLevel 2 that conforms to version  3.0  of  the  Document  Structuring
              Conventions.   Some  software  and  devices  can't  handle  such  a  data  stream.  The value of <u>n</u>
              determines what <u>grops</u> does to make its output acceptable to such consumers.   If  <u>n</u>  is  <b>0</b>,  <u>grops</u>
              employs  no workarounds, which is the default; it can be changed by modifying the <b>broken</b> directive
              in <u>grops</u>'s <u>DESC</u> file.

              Add 1 to suppress generation of <b>%%BeginDocumentSetup</b>  and  <b>%%EndDocumentSetup</b>  comments;  this  is
              needed  for  early  versions  of  TranScript that get confused by anything between the <b>%%EndProlog</b>
              comment and the first <b>%%Page</b> comment.

              Add 2 to omit lines in included files beginning with <b>%!</b>, which confuse Sun's <u>pageview</u> previewer.

              Add 4 to omit lines in included files beginning with <b>%%Page</b>, <b>%%Trailer</b> and  <b>%%EndProlog</b>;  this  is
              needed for spoolers that don't understand <b>%%BeginDocument</b> and <b>%%EndDocument</b> comments.

              Add  8  to  write  <b>%!PS-Adobe-2.0</b>  rather  than <b>%!PS-Adobe-3.0</b> as the first line of the PostScript
              output; this is needed when using Sun's Newsprint with a printer that requires page reversal.

              Add 16 to omit media size information (that is, output neither a <b>%%DocumentMedia</b> comment  nor  the
              <b>setpagedevice</b>  PostScript  command).   This  was  the  behavior of <u>groff</u> 1.18.1 and earlier; it is
              needed for older printers that don't understand PostScript LanguageLevel 2, and is also  necessary
              if  the  output  is  further  processed  to  produce  an  EPS  file;  see subsection “Escapsulated
              PostScript” below.

       <b>-c</b> <u>n</u>   Output <u>n</u> copies of each page.

       <b>-F</b> <u>dir</u> Prepend directory dir<u><a href="file:/dev">/dev</a></u>name to the search path for font and device  description  and  PostScript
              prologue files; <u>name</u> is the name of the device, usually <b>ps</b>.

       <b>-g</b>     Generate  PostScript  code  to  guess the page length.  The guess is correct only if the imageable
              area is vertically centered on the page.  This option allows you to generate documents that can be
              printed on both U.S. letter and A4 paper formats without change.

       <b>-I</b> <u>dir</u> Search the directory <u>dir</u> for files named in <b>\X'ps:</b> <b>file'</b> and <b>\X'ps:</b> <b>import'</b> escape sequences.   <b>-I</b>
              may  be  specified more than once; each <u>dir</u> is searched in the given order.  To search the current
              working directory before others, add “<b>-I</b> <b>.</b>” at the desired place; it is otherwise searched last.

       <b>-l</b>     Use landscape orientation rather than portrait.

       <b>-m</b>     Turn on manual feed for the document.

       <b>-p</b> <u>fmt</u> Set physical dimensions of output medium, overriding the <b>papersize</b>,  <b>paperlength</b>,  and  <b>paperwidth</b>
              directives  in  the  <u>DESC</u>  file.  <u>fmt</u> can be any argument accepted by the <b>papersize</b> directive; see
              <u><a href="../man5/groff_font.5.html">groff_font</a></u>(5).

       <b>-P</b> <u>prologue</u>
              Use the file <u>prologue</u>, sought  in  the  <u>groff</u>  font  search  path,  as  the  PostScript  prologue,
              overriding the default (see section “Files” below) and the environment variable <u>GROPS_PROLOGUE.</u>

       <b>-w</b> <u>n</u>   Draw  rules  (lines)  with  a  thickness  of  <u>n</u> thousandths of an em.  The default thickness is <b>40</b>
              (0.04 em).

</pre><h4><b>Usage</b></h4><pre>
       The input to <u>grops</u> must be in the format output by <u><a href="../man1/troff.1.html">troff</a></u>(1), described in <u><a href="../man5/groff_out.5.html">groff_out</a></u>(5).  In addition, the
       device and font description files for the  device  used  must  meet  certain  requirements.   The  device
       resolution  must  be  an  integer  multiple  of 72 times the <b>sizescale</b>.  The device description file must
       contain a valid paper format; see <u><a href="../man5/groff_font.5.html">groff_font</a></u>(5).  Each font description file must contain a directive
              internalname <u>psname</u>
       which says that the PostScript name of the font is <u>psname</u>.

       A font description file may also contain a directive
              encoding <u>enc-file</u>
       which says that the PostScript font should be reencoded using the encoding described  in  <u>enc-file</u>;  this
       file should consist of a sequence of lines of the form
              <u>pschar</u> <u>code</u>
       where  <u>pschar</u> is the PostScript name of the character, and <u>code</u> is its position in the encoding expressed
       as a decimal integer; valid values are in the range 0 to 255.  Lines starting with <b>#</b> and blank lines  are
       ignored.   The code for each character given in the font description file must correspond to the code for
       the character in encoding file, or to the code in the default encoding for the  font  if  the  PostScript
       font  is  not  to be reencoded.  This code can be used with the <b>\N</b> escape sequence in <u>troff</u> to select the
       character, even if it does not have a <u>groff</u> glyph name.  Every character in  the  font  description  file
       must  exist  in  the  PostScript  font,  and the widths given in the font description file must match the
       widths used in the PostScript font.  <u>grops</u> assumes that a character with a <u>groff</u> name of <b>space</b>  is  blank
       (makes  no marks on the page); it can make use of such a character to generate more efficient and compact
       PostScript output.

       <u>grops</u> is able to display all glyphs in a PostScript font; it is not limited to 256 of them.  <u>enc-file</u> (or
       the default encoding if no encoding file is specified) just defines the order of glyphs for the first 256
       characters; all other glyphs are accessed with additional encoding vectors which <u>grops</u>  produces  on  the
       fly.

       <u>grops</u>  can embed fonts in a document that are necessary to render it; this is called “downloading”.  Such
       fonts must be in PFA format.  Use <u><a href="../man1/pfbtops.1.html">pfbtops</a></u>(1) to convert a Type 1 font in PFB format.  Downloadable  fonts
       must be listed a <u>download</u> file containing lines of the form
              <u>psname</u> <u>file</u>
       where  <u>psname</u>  is  the PostScript name of the font, and <u>file</u> is the name of the file containing it; lines
       beginning with <b>#</b> and blank lines are ignored; fields may be separated by tabs or spaces.  <u>file</u> is  sought
       using  the  same  mechanism  as  that for <u>groff</u> font description files.  The <u>download</u> file itself is also
       sought using this mechanism; currently, only the first  matching  file  found  in  the  device  and  font
       description search path is used.

       If  the  file  containing  a  downloadable  font  or  imported  document  conforms  to the Adobe Document
       Structuring Conventions, then <u>grops</u> interprets any comments in the files sufficiently to ensure that  its
       own  output  is  conforming.   It also supplies any needed font resources that are listed in the <u>download</u>
       file as well as any needed file resources.  It is also able to handle inter-resource  dependencies.   For
       example,  suppose  that you have a downloadable font called Garamond, and also a downloadable font called
       Garamond-Outline which depends on Garamond (typically  it  would  be  defined  to  copy  Garamond's  font
       dictionary,  and  change  the  PaintType),  then  it is necessary for Garamond to appear before Garamond-
       Outline in the PostScript document.  <u>grops</u> handles this automatically provided that the downloadable font
       file for Garamond-Outline indicates its dependence on Garamond  by  means  of  the  Document  Structuring
       Conventions, for example by beginning with the following lines.
              %!PS-Adobe-3.0 Resource-Font
              %%DocumentNeededResources: font Garamond
              %%EndComments
              %%IncludeResource: font Garamond
       In  this  case,  both  Garamond  and  Garamond-Outline  would  need to be listed in the <u>download</u> file.  A
       downloadable font should not include its own name in a <b>%%DocumentSuppliedResources</b> comment.

       <u>grops</u> does not interpret <b>%%DocumentFonts</b> comments.   The  <b>%%DocumentNeededResources</b>,  <b>%%DocumentSupplied‐</b>
       <b>Resources</b>,   <b>%%IncludeResource</b>,   <b>%%BeginResource</b>,  and  <b>%%EndResource</b>  comments  (or  possibly  the  old
       <b>%%DocumentNeededFonts</b>,  <b>%%DocumentSuppliedFonts</b>,  <b>%%IncludeFont</b>,  <b>%%BeginFont</b>,  and  <b>%%EndFont</b>  comments)
       should be used.

       The  default stroke and fill color is black.  For colors defined in the “rgb” color space, <b>setrgbcolor</b> is
       used; for “cmy” and “cmyk”,  <b>setcmykcolor</b>;  and  for  “gray”,  <b>setgray</b>.   <b>setcmykcolor</b>  is  a  PostScript
       LanguageLevel 2 command and thus not available on some older printers.

   <b>Typefaces</b>
       Styles  called <b>R</b>, <b>I</b>, <b>B</b>, and <b>BI</b> mounted at font positions 1 to 4.  Text fonts are grouped into families <b>A</b>,
       <b>BM</b>, <b>C</b>, <b>H</b>, <b>HN</b>, <b>N</b>, <b>P</b>, and <b>T</b>, each having members in each of these styles.

              <b>AR</b>     AvantGarde-Book
              <b>AI</b>     AvantGarde-BookOblique
              <b>AB</b>     AvantGarde-Demi
              <b>ABI</b>    AvantGarde-DemiOblique
              <b>BMR</b>    Bookman-Light
              <b>BMI</b>    Bookman-LightItalic
              <b>BMB</b>    Bookman-Demi
              <b>BMBI</b>   Bookman-DemiItalic
              <b>CR</b>     Courier
              <b>CI</b>     Courier-Oblique
              <b>CB</b>     Courier-Bold
              <b>CBI</b>    Courier-BoldOblique
              <b>HR</b>     Helvetica
              <b>HI</b>     Helvetica-Oblique
              <b>HB</b>     Helvetica-Bold
              <b>HBI</b>    Helvetica-BoldOblique
              <b>HNR</b>    Helvetica-Narrow
              <b>HNI</b>    Helvetica-Narrow-Oblique
              <b>HNB</b>    Helvetica-Narrow-Bold
              <b>HNBI</b>   Helvetica-Narrow-BoldOblique
              <b>NR</b>     NewCenturySchlbk-Roman
              <b>NI</b>     NewCenturySchlbk-Italic
              <b>NB</b>     NewCenturySchlbk-Bold
              <b>NBI</b>    NewCenturySchlbk-BoldItalic
              <b>PR</b>     Palatino-Roman
              <b>PI</b>     Palatino-Italic
              <b>PB</b>     Palatino-Bold
              <b>PBI</b>    Palatino-BoldItalic
              <b>TR</b>     Times-Roman
              <b>TI</b>     Times-Italic
              <b>TB</b>     Times-Bold
              <b>TBI</b>    Times-BoldItalic

       Another text font is not a member of a family.

              <b>ZCMI</b>   ZapfChancery-MediumItalic

       Special fonts include <b>S</b>, the PostScript Symbol font;  <b>ZD</b>,  Zapf  Dingbats;  <b>SS</b>  (slanted  symbol),  which
       contains  oblique  forms  of lowercase Greek letters derived from Symbol; <b>EURO</b>, which offers a Euro glyph
       for use with old devices lacking it; and <b>ZDR</b>, a reversed version of ZapfDingbats  (with  symbols  flipped
       about  the  vertical  axis).   Most glyphs in these fonts are unnamed and must be accessed using <b>\N</b>.  The
       last three are not standard PostScript fonts, but supplied by <u>groff</u> and therefore included in the default
       <u>download</u> file.

   <b>Device</b> <b>control</b> <b>commands</b>
       <u>grops</u> recognizes device control commands produced by the <b>\X</b> escape sequence, but  interprets  only  those
       that begin with a “<b>ps:</b>” tag.

       <b>\X'ps:</b> <b>exec</b> <u>code</u><b>'</b>
              Execute  the  arbitrary PostScript commands <u>code</u>.  The PostScript <u>currentpoint</u> is set to the <u>groff</u>
              drawing position when the <b>\X</b> escape sequence is interpreted before executing <u>code</u>.  The origin  is
              at  the  top  left corner of the page; <u>x</u> coordinates increase to the right, and <u>y</u> coordinates down
              the page.  A procedure <b>u</b> is defined that converts <u>groff</u> basic units to the  coordinate  system  in
              effect (provided the user doesn't change the scale).  For example,
                     .nr x 1i
                     \X'ps: exec \nx u 0 rlineto stroke'
              draws  a  horizontal  line  one  inch  long.  <u>code</u> may make changes to the graphics state, but any
              changes persist only to the end of the page.  A dictionary containing the definitions specified by
              the <b>def</b> and <b>mdef</b> commands is on top of the dictionary stack.  If your  code  adds  definitions  to
              this  dictionary,  you  should  allocate  space  for them using “<b>\X'ps:</b> <b>mdef</b> <u>n</u><b>'</b>”.  Any definitions
              persist only until the end of the page.  If you use the <b>\Y</b> escape sequence with an  argument  that
              names a macro, <u>code</u> can extend over multiple lines.  For example,
                     .nr x 1i
                     .de y
                     ps: exec
                     \nx u 0 rlineto
                     stroke
                     ..
                     \Yy
              is another way to draw a horizontal line one inch long.  The single backslash before “<b>nx</b>”—the only
              reason  to  use  a  register while defining the macro “<b>y</b>”—is to convert a user-specified dimension
              “<b>1i</b>” to <u>groff</u> basic units which are in turn converted to PostScript units with the <b>u</b> procedure.

              <u>grops</u> wraps user-specified PostScript code into a dictionary, nothing  more.   In  particular,  it
              doesn't  start  and  end  the  inserted  code  with  <b>save</b> and <b>restore</b>, respectively.  This must be
              supplied by the user, if necessary.

       <b>\X'ps:</b> <b>file</b> <u>name</u><b>'</b>
              This is the same as the <b>exec</b> command except that the PostScript code is read from file <u>name</u>.

       <b>\X'ps:</b> <b>def</b> <u>code</u><b>'</b>
              Place a PostScript definition contained in <u>code</u> in the prologue.  There  should  be  at  most  one
              definition  per  <b>\X</b> command.  Long definitions can be split over several <b>\X</b> commands; all the <u>code</u>
              arguments are simply joined together separated by newlines.   The  definitions  are  placed  in  a
              dictionary which is automatically pushed on the dictionary stack when an <b>exec</b> command is executed.
              If  you  use  the  <b>\Y</b>  escape  sequence  with an argument that names a macro, <u>code</u> can extend over
              multiple lines.

       <b>\X'ps:</b> <b>mdef</b> <u>n</u> <u>code</u><b>'</b>
              Like <b>def</b>, except that <u>code</u> may contain up  to  <u>n</u>  definitions.   <u>grops</u>  needs  to  know  how  many
              definitions  <u>code</u>  contains  so that it can create an appropriately sized PostScript dictionary to
              contain them.

       <b>\X'ps:</b> <b>import</b> <u>file</u> <u>llx</u> <u>lly</u> <u>urx</u> <u>ury</u> <u>width</u> [<u>height</u>]<b>'</b>
              Import a PostScript graphic from <u>file</u>.  The arguments <u>llx</u>, <u>lly</u>, <u>urx</u>, and <u>ury</u> give the bounding box
              of the graphic in the default PostScript coordinate system.  They should all be integers: <u>llx</u>  and
              <u>lly</u> are the <u>x</u> and <u>y</u> coordinates of the lower left corner of the graphic; <u>urx</u> and <u>ury</u> are the <u>x</u> and
              <u>y</u>  coordinates  of  the upper right corner of the graphic; <u>width</u> and <u>height</u> are integers that give
              the desired width and height in <u>groff</u> basic units of the graphic.

              The graphic is scaled so that it has this width and height and translated so that the  lower  left
              corner  of  the  graphic  is  located  at  the position associated with <b>\X</b> command.  If the height
              argument is omitted it is scaled uniformly in the <u>x</u> and <u>y</u> axes so that it has the specified width.

              The contents of the <b>\X</b> command are not interpreted by <u>troff</u>, so vertical space for the graphic  is
              not  automatically  added,  and  the  <u>width</u>  and <u>height</u> arguments are not allowed to have attached
              scaling indicators.

              If the PostScript file complies with the Adobe Document Structuring  Conventions  and  contains  a
              <b>%%BoundingBox</b>  comment,  then  the  bounding  box can be automatically extracted from within <u>groff</u>
              input by using the <b>psbb</b> request.

              See <u><a href="../man5/groff_tmac.5.html">groff_tmac</a></u>(5) for a description of the <b>PSPIC</b> macro  which  provides  a  convenient  high-level
              interface for inclusion of PostScript graphics.

       <b>\X'ps:</b> <b>invis'</b>
       <b>\X'ps:</b> <b>endinvis'</b>
              No  output  is  generated for text and drawing commands that are bracketed with these <b>\X</b> commands.
              These commands are intended for use when output from <u>troff</u> is  previewed  before  being  processed
              with  <u>grops</u>;  if  the  previewer is unable to display certain characters or other constructs, then
              other substitute characters or constructs can be used for previewing by bracketing them with these
              <b>\X</b> commands.

              For example, <u>gxditview</u> is not able to display a proper <b>\[em]</b> character because  the  standard  X11
              fonts do not provide it; this problem can be overcome by executing the following request

                     .char \[em] \X'ps: invis'\
                     \Z'\v'-.25m'\h'.05m'\D'l .9m 0'\h'.05m''\
                     \X'ps: endinvis'\[em]

              In this case, <u>gxditview</u> is unable to display the <b>\[em]</b> character and draws the line, whereas <u>grops</u>
              prints  the  <b>\[em]</b> character and ignores the line (this code is already in file <u>Xps.tmac</u>, which is
              loaded if a document intended for <u>grops</u> is previewed with <u>gxditview</u>).

       If a PostScript procedure <b>BPhook</b> has been defined via a “<b>ps:</b> <b>def</b>” or “<b>ps:</b> <b>mdef</b>” device  control  command,
       it  is  executed  at  the  beginning  of  every page (before anything is drawn or written by <u>groff</u>).  For
       example, to underlay the page contents with the word “DRAFT” in light gray, you might use

              .de XX
              ps: def
              /BPhook
              { gsave .9 setgray clippath pathbbox exch 2 copy
                .5 mul exch .5 mul translate atan rotate pop pop
                /NewCenturySchlbk-Roman findfont 200 scalefont setfont
                (DRAFT) dup stringwidth pop -.5 mul -70 moveto show
                grestore }
              def
              ..
              .devicem XX

       Or, to cause lines and polygons to be drawn with square linecaps and mitered  linejoins  instead  of  the
       round linecaps and linejoins normally used by <u>grops</u>, use
              .de XX
              ps: def
              /BPhook { 2 setlinecap 0 setlinejoin } def
              ..
              .devicem XX
       (square  linecaps,  as  opposed to butt linecaps (“<b>0</b> <b>setlinecap</b>”), give true corners in boxed tables even
       though the lines are drawn unconnected).

   <b>Encapsulated</b> <b>PostScript</b>
       <u>grops</u> itself doesn't emit bounding box information.  The following script,  <u>groff2eps</u>,  produces  an  EPS
       file.

              #! <a href="file:/bin/sh">/bin/sh</a>
              groff -P-b16 "$1" &gt; "$1".ps
              gs -dNOPAUSE -sDEVICE=bbox -- "$1".ps 2&gt; "$1".bbox
              sed -e "/^%%Orientation/r $1.bbox" \
                  -e "/^%!PS-Adobe-3.0/s/$/ EPSF-3.0/" "$1".ps &gt; "$1".eps
              rm "$1".ps "$1".bbox

       You can then use “<b>groff2eps</b> <b>foo</b>” to convert file <u>foo</u> to <u>foo.eps</u>.

   <b>TrueType</b> <b>and</b> <b>other</b> <b>font</b> <b>formats</b>
       TrueType  fonts  can  be  used  with  <u>grops</u>  if  converted  first to Type 42 format, a PostScript wrapper
       equivalent to the PFA format described in <u><a href="../man1/pfbtops.1.html">pfbtops</a></u>(1).  Several  methods  exist  to  generate  a  Type  42
       wrapper; some of them involve the use of a PostScript interpreter such as Ghostscript—see <u><a href="../man1/gs.1.html">gs</a></u>(1).

       One  approach  is  to use FontForge, a font editor that can convert most outline font formats.  Here's an
       example of using the Roboto Slab Serif font with <u>groff</u>.  Several variables are used so that you can  more
       easily adapt it into your own script.

           MAP=<a href="file:/usr/share/groff/1.23.0/font/devps/generate/text.map">/usr/share/groff/1.23.0/font/devps/generate/text.map</a>
           TTF=/usr/share/fonts/truetype/roboto/slab/RobotoSlab-Regular.ttf
           BASE=$(basename "$TTF")
           INT=${BASE%.ttf}
           PFA=$INT.pfa
           AFM=$INT.afm
           GFN=RSR
           DIR=$HOME/.local/groff/font
           mkdir -p "$DIR"/devps
           fontforge -lang=ff -c "Open(\"$TTF\");\
           Generate(\"$DIR/devps/$PFA\");"
           afmtodit "$DIR/devps/$AFM" "$MAP" "$DIR/devps/$GFN"
           printf "$BASE\t$PFA\n" &gt;&gt; "$DIR/devps/download"

       <u>fontforge</u> and <u>afmtodit</u> may generate warnings depending on the attributes of the font.  The test procedure
       is simple.

           printf ".ft RSR\nHello, world!\n" | groff -F "$DIR" &gt; hello.ps

       Once  you're  satisfied  that  the font works, you may want to generate any available related styles (for
       instance, Roboto Slab also has “Bold”, “Light”, and “Thin” styles) and set  up  <u>GROFF_FONT_PATH</u>  in  your
       environment to include the directory you keep the generated fonts in so that you don't have to use the <b>-F</b>
       option.

</pre><h4><b>Font</b> <b>installation</b></h4><pre>
       The following is a step-by-step font installation guide for <u>grops.</u>

       • Convert  your font to something <u>groff</u> understands.  This is a PostScript Type 1 font in PFA format or a
         PostScript Type 42 font, together with an AFM file.  A PFA file begins as follows.
                %!PS-AdobeFont-1.0:
         A PFB file contains this string as well, preceded by some non-printing bytes.  If your font is  in  PFB
         format,  use  <u>groff</u>'s <u><a href="../man1/pfbtops.1.html">pfbtops</a></u>(1) program to convert it to PFA.  For TrueType and other font formats, we
         recommend <u>fontforge</u>, which can convert most outline font formats.   A  Type  42  font  file  begins  as
         follows.
                %!PS-TrueTypeFont
         This  is a wrapper format for TrueType fonts.  Old PostScript printers might not support them (that is,
         they might not have a built-in TrueType font interpreter).  In the following steps,  we  will  consider
         the use of CTAN's BrushScriptX-Italic font in PFA format.

       • Convert the AFM file to a <u>groff</u> font description file with the <u><a href="../man1/afmtodit.1.html">afmtodit</a></u>(1) program.  For instance,
                $ <b>afmtodit</b> <b>BrushScriptX-Italic.afm</b> <b>text.map</b> <b>BSI</b>
         converts the Adobe Font Metric file <u>BrushScriptX-Italic.afm</u> to the <u>groff</u> font description file <u>BSI</u>.

         If  you have a font family which provides regular upright (roman), bold, italic, and bold-italic styles
         (where “italic” may be “oblique” or “slanted”), we recommend  using  the  letters  <b>R</b>,  <b>B</b>,  <b>I</b>,  and  <b>BI</b>,
         respectively,  as  suffixes  to  the  <u>groff</u>  font  family  name to enable <u>groff</u>'s font family and style
         selection features.  An example is <u>groff</u>'s  built-in  support  for  Times:  the  font  family  name  is
         abbreviated as <b>T</b>, and the <u>groff</u> font names are therefore <b>TR</b>, <b>TB</b>, <b>TI</b>, and <b>TBI</b>.  In our example, however,
         the BrushScriptX font is available in a single style only, italic.

       • Install  the  <u>groff</u> font description file(s) in a <u>devps</u> subdirectory in the search path that <u>groff</u> uses
         for device and font file descriptions.  See the  <u>GROFF_FONT_PATH</u>  entry  in  section  “Environment”  of
         <u><a href="../man1/troff.1.html">troff</a></u>(1) for the current value of the font search path.  While <u>groff</u> doesn't directly use AFM files, it
         is a good idea to store them alongside its font description files.

       • Register  fonts  in  the  <u>devps/download</u>  file so they can be located for embedding in PostScript files
         <u>grops</u> generates.  Only the first <u>download</u> file encountered in the font search  path  is  read.   If  in
         doubt,  copy  the  default <u>download</u> file (see section “Files” below) to the first directory in the font
         search path and add your fonts there.  The PostScript  font  name  used  by  <u>grops</u>  is  stored  in  the
         <b>internalname</b>  field  in  the <u>groff</u> font description file.  (This name does not necessarily resemble the
         font's file name.)  We add the following line to <u>download</u>.
                BrushScriptX-Italic→BrushScriptX-Italic.pfa
         A tab character, depicted as →, separates the fields.

       • Test the selection and embedding of the new font.
                printf "\\f[BSI]Hello, world!\n" | groff -T ps -P -e &gt;hello.ps
                see hello.pdf

</pre><h4><b>Old</b> <b>fonts</b></h4><pre>
       <u>groff</u> versions 1.19.2 and earlier contained descriptions of a slightly  different  set  of  the  base  35
       PostScript  level  2  fonts  defined  by Adobe.  The older set has 229 glyphs and a larger set of kerning
       pairs; the newer one has 314 glyphs and includes the Euro glyph.  For backwards compatibility, these  old
       font descriptions are also installed in the <u>/usr/share/groff/1.23.0/oldfont/devps</u> directory.

       To  use them, make sure that <u>grops</u> finds the fonts before the default system fonts (with the same names):
       either give <u>grops</u> the <b>-F</b> command-line option,
              $ <b>groff</b> <b>-Tps</b> <b>-P-F</b> <b>-P/usr/share/groff/1.23.0/oldfont</b> ...
       or add the directory to <u>groff</u>'s font and device description search path environment variable,
              $ <b>GROFF_FONT_PATH=/usr/share/groff/1.23.0/oldfont</b> <b>\</b>
                     <b>groff</b> <b>-Tps</b> ...
       when the command runs.

</pre><h4><b>Environment</b></h4><pre>
       <u>GROFF_FONT_PATH</u>
              A list of directories in which to seek the selected output device's directory of device  and  font
              description files.  See <u><a href="../man1/troff.1.html">troff</a></u>(1) and <u><a href="../man5/groff_font.5.html">groff_font</a></u>(5).

       <u>GROPS_PROLOGUE</u>
              If  this  is  set  to  <u>foo</u>, then <u>grops</u> uses the file <u>foo</u> (in the font path) instead of the default
              prologue file <u>prologue</u>.  The option <b>-P</b> overrides this environment variable.

       <u>SOURCE_DATE_EPOCH</u>
              A timestamp (expressed as seconds since the Unix epoch) to use as the output creation timestamp in
              place of the current time.  The time is converted  to  human-readable  form  using  <u><a href="../man3/gmtime.3.html">gmtime</a></u>(3)  and
              <u><a href="../man3/asctime.3.html">asctime</a></u>(3), and recorded in a PostScript comment.

       <u>TZ</u>     The  time  zone  to use when converting the current time to human-readable form; see <u><a href="../man3/tzset.3.html">tzset</a></u>(3).  If
              <u>SOURCE_DATE_EPOCH</u> is used, it is always converted to human-readable form using UTC.

</pre><h4><b>Files</b></h4><pre>
       <u><a href="file:/usr/share/groff/1.23.0/font/devps/DESC">/usr/share/groff/1.23.0/font/devps/DESC</a></u>
              describes the <b>ps</b> output device.

       <u><a href="file:/usr/share/groff/1.23.0/font/devps/">/usr/share/groff/1.23.0/font/devps/</a></u>F
              describes the font known as <u>F</u> on device <b>ps</b>.

       <u><a href="file:/usr/share/groff/1.23.0/font/devps/download">/usr/share/groff/1.23.0/font/devps/download</a></u>
              lists fonts available for embedding within the PostScript document (or download to the device).

       <u><a href="file:/usr/share/groff/1.23.0/font/devps/prologue">/usr/share/groff/1.23.0/font/devps/prologue</a></u>
              is the default PostScript prologue prefixed to every output file.

       <u><a href="file:/usr/share/groff/1.23.0/font/devps/text.enc">/usr/share/groff/1.23.0/font/devps/text.enc</a></u>
              describes the encoding scheme used by most PostScript Type 1 fonts; the <b>encoding</b> directive of font
              description files for the <b>ps</b> device refers to it.

       <u><a href="file:/usr/share/groff/1.23.0/tmac/ps.tmac">/usr/share/groff/1.23.0/tmac/ps.tmac</a></u>
              defines macros for use with the <b>ps</b> output device.  It is automatically loaded by <u>troffrc</u> when  the
              <b>ps</b> output device is selected.

       <u><a href="file:/usr/share/groff/1.23.0/tmac/pspic.tmac">/usr/share/groff/1.23.0/tmac/pspic.tmac</a></u>
              defines  the  <b>PSPIC</b>  macro  for  embedding  images  in  a  document;  see  <u><a href="../man5/groff_tmac.5.html">groff_tmac</a></u>(5).   It  is
              automatically loaded by <u>troffrc.</u>

       <u><a href="file:/usr/share/groff/1.23.0/tmac/psold.tmac">/usr/share/groff/1.23.0/tmac/psold.tmac</a></u>
              provides replacement glyphs for text  fonts  that  lack  complete  coverage  of  the  ISO  Latin-1
              character set; using it, <u>groff</u> can produce glyphs like eth (ð) and thorn (þ) that older PostScript
              printers do not natively support.

       <u>grops</u> creates temporary files using the template “<u>grops</u>XXXXXX”; see <u><a href="../man1/groff.1.html">groff</a></u>(1) for details on their storage
       location.

</pre><h4><b>See</b> <b>also</b></h4><pre>
       PostScript Language Document Structuring Conventions Specification

       <u><a href="../man1/afmtodit.1.html">afmtodit</a></u>(1), <u><a href="../man1/groff.1.html">groff</a></u>(1), <u><a href="../man1/troff.1.html">troff</a></u>(1), <u><a href="../man1/pfbtops.1.html">pfbtops</a></u>(1), <u><a href="../man7/groff_char.7.html">groff_char</a></u>(7), <u><a href="../man5/groff_font.5.html">groff_font</a></u>(5), <u><a href="../man5/groff_out.5.html">groff_out</a></u>(5), <u><a href="../man5/groff_tmac.5.html">groff_tmac</a></u>(5)

groff 1.23.0                                    26 December 2024                                        <u><a href="../man1/grops.1.html">grops</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>