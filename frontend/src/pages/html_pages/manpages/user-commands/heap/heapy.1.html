<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>heapy - CLI for analyzing Ruby Heap dumps</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/ruby-heapy">ruby-heapy_0.2.0-2_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       <b>heapy</b> - CLI for analyzing Ruby Heap dumps

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>heapy</b> <b>read</b> [file|command] [number|all]

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>heapy</b> is a CLI for analyzing Heap dumps in Ruby. Start analyzing heap dumps of a command or files by:

           $ <b>heapy</b> <b>read</b> [file|command]

       Dumps from Ruby command can be analyzed by,

           $ <b>heapy</b> <b>read</b> &lt;command&gt;

       Heap dumps from files can also be analayzed,

           $ <b>heapy</b> <b>read</b> file.dump

            Generation: nil object count: 209191
            Generation:  18 object count: 805

       <b>NOTE:</b>  The reason of getting a "nil" generation is these objects were loaded into memory before your code
       began tracking the allocations. To ensure all allocations are tracked one should execute the ruby  script
       this trick.

       First create a file <b>trace.rb</b> that only starts allocation tracing:

           require 'objspace'

           ObjectSpace.trace_object_allocations_start

       Now  make sure this command is loaded before running the script, use Ruby's <b>-I</b> to specify a load path and
       <b>-r</b> to specify a library to require, in this case the trace file,

           $ <b>ruby</b> -I ./ -r trace script_name.rb

       If the last line of file is invalid JSON, make sure that file is closed file after writing the ruby  heap
       dump to it.

       To  analyze  a  specific  generation,  pass the generation number along with the command. For example, to
       analyze 17th generation in file.dump,

           $ <b>heapy</b> <b>read</b> file.dump 17

       To get all generations pass "all" directive

           $ <b>heapy</b> <b>read</b> file.dump all

</pre><h4><b>AUTHORS</b></h4><pre>
       Heapy was written by Richard Schneeman. Initial code and idea was developed by Sam Saffron.

                                                 September 2018                                         <u><a href="../man1/HEAPY.1.html">HEAPY</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>