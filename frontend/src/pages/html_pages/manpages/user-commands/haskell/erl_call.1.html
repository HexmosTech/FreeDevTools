<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>erl_call - Call/start a distributed Erlang node</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/erlang-doc">erlang-doc_27.3+dfsg-1ubuntu1.2_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       erl_call - Call/start a distributed Erlang node

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <u>erl_call</u> makes it possible to start and/or communicate with a distributed Erlang node. It is built on the
       <u>Erl_Interface</u>  library  as  an example application. Its purpose is to use a Unix shell script to interact
       with a distributed Erlang node. It performs all communication with  the  Erlang  <u>rex</u>  <u>server</u>,  using  the
       standard  Erlang  RPC  facility.  It does not require any special software to be run at the Erlang target
       node.

       The main use is to either start a distributed Erlang node or to make an ordinary function call.  However,
       it  is  also possible to pipe an Erlang module to <u>erl_call</u> and have it compiled, or to pipe a sequence of
       Erlang expressions to be evaluated (similar to the Erlang shell).

       Options, which cause <u>stdin</u> to be read, can be used with advantage, as scripts from  within  (Unix)  shell
       scripts. Another nice use of <u>erl_call</u> could be from (HTTP) CGI-bin scripts.

   <b>erl_call</b> <b>&lt;options&gt;</b>
       Starts/calls Erlang.

       Each option flag is described below with its name, type, and meaning.

       -a [Mod [Fun [Args]]]]
         (  <u>Optional.</u>)  Applies  the  specified function and returns the result. <u>Mod</u> must be specified. However,
         <u>start</u> and <u>[]</u> are assumed for unspecified <u>Fun</u> and <u>Args</u>, respectively. <u>Args</u> is to be in the  same  format
         as  for  <u>erlang:apply/3</u>  in  <u>ERTS</u> except only a subset of all terms are allowed. The allowed term types
         are: <u>list</u> (and <u>string</u> representation of list, that is "example"), <u>tuple</u>, <u>atom</u> and <u>number</u>.

         Notice that this flag takes exactly one argument, so quoting can be necessary to group  <u>Mod</u>,  <u>Fun</u>,  and
         <u>Args</u> in a manner dependent on the behavior of your command shell.

       -address [Hostname:]Port
         (One  of  <u>-n</u>,  <u>-name</u>,  <u>-sname</u> or <u>-address</u> is required.) <u>Hostname</u> is the hostname of the machine that is
         running the peer node that <u>erl_call</u> will communicate with. The default hostname is the hostname of  the
         local  machine.  <u>Port</u>  is the port number of the node that <u>erl_call</u> will communicate with. The <u>-address</u>
         flag cannot be combined with any of the flags <u>-n</u>, <u>-name</u>, <u>-sname</u> or <u>-s</u>.

         The <u>-address</u> flag is typically useful when one wants to call a node that is running on machine  without
         an accessible epmd instance.

       -c Cookie
         (  <u>Optional.</u>)  Use  this  option  to  specify  a  certain  cookie.  If  no  cookie  is  specified,  the
         <u><a href="file:~/.erlang.cookie">~/.erlang.cookie</a></u> file is read and its content is used as cookie. The Erlang node we want to communicate
         with must have the same cookie.

       -d
         ( <u>Optional.</u>) Debug mode. This causes all I/O to be output to the <u><a href="file:~/.erl_call.out.Nodename">~/.erl_call.out.Nodename</a></u>  file,  where
         <u>Nodename</u> is the node name of the Erlang node in question.

       -e
         (  <u>Optional.</u>) Reads a sequence of Erlang expressions, separated by comma (<u>,</u>) and ended with a full stop
         (<u>.</u>), from <u>stdin</u> until EOF (Control-D). Evaluates the expressions and returns the result from  the  last
         expression. Returns <u>{ok,Result}</u> on success.

       -fetch_stdout
         (  <u>Optional.</u>)  Executes the code, specified with the <u>-a</u> or <u>-e</u> option, in a new process that has a group
         leader that forwards all stdout (standard output) data so that it is printed to stdout of the  <u>erl_call</u>
         process.  This  means that stdout data that are written during the execution of the called code, by the
         code and by descendant processes, will be forwarded (given that the group leader has not  been  changed
         by a call to <u>erlang:group_leader/2</u>).

         The printed data is UTF-8 encoded.

         This option is only relevant combined with the <u>-a</u> or <u>-e</u> option.

         See the documentation of the I/O protocol for more information about the group leader concept.

         <b>NOTE:</b>  This  option only works when <u>erl_call</u> is interacting with a node with a version greater or equal
         to OTP-24.

       -h HiddenName
         ( <u>Optional.</u>) Specifies the name of the hidden node that <u>erl_call</u> represents.

       -m
         ( <u>Optional.</u>) Reads an Erlang module from <u>stdin</u> and compiles it.

       -n Node
         (One of <u>-n</u>, <u>-name</u>, <u>-sname</u> or <u>-address</u> is required.) Has the same meaning as <u>-name</u> and can still be used
         for backward compatibility reasons.

       -name Node
         (One of <u>-n</u>, <u>-name</u>, <u>-sname</u> or <u>-address</u> is required.) <u>Node</u> is the name of the peer node to be started  or
         communicated  with. It is assumed that <u>Node</u> is started with <u>erl</u> <u>-name</u>, which means that fully qualified
         long node names are used. If option <u>-s</u> is specified, an Erlang node will (if necessary) be started with
         <u>erl</u> <u>-name</u>.

       -no_result_term
         ( <u>Optional.</u>) Do not print the result term. This option is only relevant together with  the  options  <u>-a</u>
         and <u>-e</u>.

       -q
         ( <u>Optional.</u>) Halts the Erlang node specified with switch <u>-n</u>. This switch overrides switch <u>-s</u>.

       -r
         ( <u>Optional.</u>) Generates a random name of the hidden node that <u>erl_call</u> represents.

       -R
         (  <u>Optional.</u>) Request a dynamic random name, of the hidden node that <u>erl_call</u> represents, from the peer
         node. Supported since OTP 23. Prefer <u>-R</u> over <u>-r</u> when doing repeated requests toward the same peer node.

       -s
         ( <u>Optional.</u>) Starts a distributed Erlang node if necessary. This means that in  a  sequence  of  calls,
         where  '<u>-s</u>' and '<u>-n</u> <u>Node</u>' are constant, only the first call starts the Erlang node. This makes the rest
         of the communication very fast. This flag is currently only available on  Unix-like  platforms  (Linux,
         Mac OS X, Solaris, and so on).

       -sname Node
         (One  of <u>-n</u>, <u>-name</u>, <u>-sname</u> or <u>-address</u> is required.) <u>Node</u> is the name of the peer node to be started or
         communicated with. It is assumed that <u>Node</u> is started with <u>erl</u> <u>-sname</u>,  which  means  that  short  node
         names are used. If option <u>-s</u> is specified, an Erlang node is started (if necessary) with <u>erl</u> <u>-sname</u>.

       -timeout Seconds
         (  <u>Optional.</u>)  Aborts  the  <u>erl_call</u>  process  after the timeout expires. Note that this does not abort
         commands that have already been started with <u>-a</u>, <u>-e</u>, or similar.

       -v
         ( <u>Optional.</u>) Prints a lot of <u>verbose</u> information. This is only useful for the developer and  maintainer
         of <u>erl_call</u>.

       -x ErlScript
         (  <u>Optional.</u>)  Specifies  another  name  of the Erlang startup script to be used. If not specified, the
         standard <u>erl</u> startup script is used.

   <b>Examples</b>
       To start an Erlang node and call <u>erlang:time/0</u>:

              erl_call -s -a 'erlang time' -n madonna
              {18,27,34}

       To terminate an Erlang node by calling <u>erlang:halt/0</u>:

              erl_call -s -a 'erlang halt' -n madonna

       To apply with many arguments:

              erl_call -s -a 'lists seq [1,10]' -n madonna

       To evaluate some expressions (<u>the</u> <u>input</u> <u>ends</u> <u>with</u> <u>EOF</u> <u>(Control-D)</u>):

              erl_call -s -e -n madonna
              statistics(runtime),
              X=1,
              Y=2,
              {_,T}=statistics(runtime),
              {X+Y,T}.
              ^D
              {ok,{3,0}}

       To compile a module and run it (<u>again,</u> <u>the</u> <u>input</u> <u>ends</u> <u>with</u> <u>EOF</u> <u>(Control-D)</u>):

       (In the example, the output has been formatted afterwards.)

              erl_call -s -m -a procnames -n madonna
              -module(procnames).
              -compile(export_all).
              start() -&gt;
                      P = processes(),
                      F = fun(X) -&gt; {X,process_info(X,registered_name)} end,
                      lists:map(F,[],P).
              ^D
              [{&lt;<a href="mailto:madonna@chivas.du.etx.ericsson.se">madonna@chivas.du.etx.ericsson.se</a>,0,0&gt;,
                                {registered_name,init}},
               {&lt;<a href="mailto:madonna@chivas.du.etx.ericsson.se">madonna@chivas.du.etx.ericsson.se</a>,2,0&gt;,
                                {registered_name,erl_prim_loader}},
               {&lt;<a href="mailto:madonna@chivas.du.etx.ericsson.se">madonna@chivas.du.etx.ericsson.se</a>,4,0&gt;,
                                {registered_name,error_logger}},
               {&lt;<a href="mailto:madonna@chivas.du.etx.ericsson.se">madonna@chivas.du.etx.ericsson.se</a>,5,0&gt;,
                                {registered_name,application_controller}},
               {&lt;<a href="mailto:madonna@chivas.du.etx.ericsson.se">madonna@chivas.du.etx.ericsson.se</a>,6,0&gt;,
                                {registered_name,kernel}},
               {&lt;<a href="mailto:madonna@chivas.du.etx.ericsson.se">madonna@chivas.du.etx.ericsson.se</a>,7,0&gt;,
                                []},
               {&lt;<a href="mailto:madonna@chivas.du.etx.ericsson.se">madonna@chivas.du.etx.ericsson.se</a>,8,0&gt;,
                                {registered_name,kernel_sup}},
               {&lt;<a href="mailto:madonna@chivas.du.etx.ericsson.se">madonna@chivas.du.etx.ericsson.se</a>,9,0&gt;,
                                {registered_name,net_sup}},
               {&lt;<a href="mailto:madonna@chivas.du.etx.ericsson.se">madonna@chivas.du.etx.ericsson.se</a>,10,0&gt;,
                                {registered_name,net_kernel}},
               {&lt;<a href="mailto:madonna@chivas.du.etx.ericsson.se">madonna@chivas.du.etx.ericsson.se</a>,11,0&gt;,
                                []},
               {&lt;<a href="mailto:madonna@chivas.du.etx.ericsson.se">madonna@chivas.du.etx.ericsson.se</a>,12,0&gt;,
                                {registered_name,global_name_server}},
               {&lt;<a href="mailto:madonna@chivas.du.etx.ericsson.se">madonna@chivas.du.etx.ericsson.se</a>,13,0&gt;,
                                {registered_name,auth}},
               {&lt;<a href="mailto:madonna@chivas.du.etx.ericsson.se">madonna@chivas.du.etx.ericsson.se</a>,14,0&gt;,
                                {registered_name,rex}},
               {&lt;<a href="mailto:madonna@chivas.du.etx.ericsson.se">madonna@chivas.du.etx.ericsson.se</a>,15,0&gt;,
                                []},
               {&lt;<a href="mailto:madonna@chivas.du.etx.ericsson.se">madonna@chivas.du.etx.ericsson.se</a>,16,0&gt;,
                                {registered_name,file_server}},
               {&lt;<a href="mailto:madonna@chivas.du.etx.ericsson.se">madonna@chivas.du.etx.ericsson.se</a>,17,0&gt;,
                                {registered_name,code_server}},
               {&lt;<a href="mailto:madonna@chivas.du.etx.ericsson.se">madonna@chivas.du.etx.ericsson.se</a>,20,0&gt;,
                                {registered_name,user}},
               {&lt;<a href="mailto:madonna@chivas.du.etx.ericsson.se">madonna@chivas.du.etx.ericsson.se</a>,38,0&gt;,
                                []}]

       To forward standard output without printing the result term (<u>again,</u> <u>the</u> <u>input</u> <u>ends</u> <u>with</u> <u>EOF</u> <u>(Control-D)</u>):

              erl_call -s -e -sname madonna -fetch_stdout -no_result_term
              io:format("Number of schedulers: ~p~n", [erlang:system_info(schedulers)]),
              io:format("Number of logical cores: ~p~n", [erlang:system_info(logical_processors_available)]).
              ^D
              Number of schedulers: 8
              Number of logical cores: 8

Ericsson AB                                        erts 15.2.3                                       <u><a href="../man1/erl_call.1.html">erl_call</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>