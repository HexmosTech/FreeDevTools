<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>mrc - A resource compiler</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/mrc">mrc_1.3.15-2_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       mrc - A resource compiler

</pre><h4><b>SYNOPSIS</b></h4><pre>
       mrc [<b>-o</b>|<b>--output</b> outputfile]
           [<b>--root</b> arg]
           [<b>--resource-prefix</b> arg]
           [<b>--elf-machine</b> arg]
           [<b>--elf-class</b> arg]
           [<b>--elf-data</b> arg]
           [<b>--elf-abi</b> arg]
           [<b>--elf-flags</b> arg]
           file1 [file2...]

       mrc [<b>-h</b>|<b>--help</b>]

       mrc [<b>-v</b>|<b>--version</b>]

       mrc [<b>--header</b>] &gt; mrsrc.h

        #include "mrsrc.h"
        void foo()
        {
          mrsrc::rsrc data("/alerts/text.txt");
          if (data) {
            mrsrc::istream is(data);
            ...
          }
        }

</pre><h4><b>DESCRIPTION</b></h4><pre>
       Many applications come with supplementary data. This data is usually stored on disk as regular files. The
       disadvantage of this procedure is that an application cannot simply be copied to another location or
       computer and expected to function properly.

       Resources are a way to overcome this problem by including all data inside the executable file. The mrc
       resource compiler can create object files containing both the data and an index. This data can then be
       accessed from within an application using <b>C++</b> classes.

</pre><h4><b>OPTIONS</b></h4><pre>
       [<b>-o</b>|<b>--output</b>] file
              Specify  the output file, the resulting file will be an object file you can link together with the
              rest of your object files into an executable file.

       <b>--root</b> The resources are accessed using a path. You can specify the root part  of  the  path  using  this
              parameter.

       <b>--resource-prefix</b> name
              Use this option to specify another name for the global variables in the data section.

       <b>--elf-machine</b> arg
              By  default  mrc  assumes you want to create a resource file for the machine it runs on. But using
              this option you can create files for other architectures, useful when cross compiling.

              The machine flag is used to specify the value of the <u>e_machine</u> field in the ELF header.

       <b>--elf-class</b> number
              The ELF class to use, should be either <u>1</u> for 32-bit objects or <u>2</u> for 64-bit objects.

       <b>--elf-data</b> number
              The ELF data endianness to use, should be either <u>1</u> for little-endian (=LSB) objects or <u>2</u> for  big-
              endian (=MSB) objects.

       <b>--elf-abi</b> number
              The ELF OS ABI flag to use, the exact value for this flag should be looked up in <u>elf.h</u>. Default is
              to use the value for the current architecture.  (Value of 3 is for Linux, 9 is for FreeBSD).

       <b>--elf-flags</b> number
              A value to store in the <u>e_flags</u> field of the ELF header. This can contain the EABI version for ARM
              e.g.

       <b>--coff</b> type
              When  this  option  is  specified,  a  COFF file is created for use on Windows.  The argument <u>type</u>
              should be one of <b>x64</b>, <b>x86</b> or <b>arm64</b>.

       <b>--header</b>
              This option will print a <b>mrsrc.h</b> file to <b>stdout</b> which you can write to  disk  and  use  to  access
              resources. Use with the <b>--output</b> option to write to a file instead.

       [<b>-v</b>|<b>--verbose</b>]
              Print debug output, useful to track where all data ends up in the resource.

       <b>--version</b>
              Print version number and exit.

       [<b>-h</b>|<b>--help</b>]
              Print simple help summary and exit.

       file [file...]
              One  or  more  files  to  include  in  the resource file. Directory names can be used as well. All
              regular files end up in the root of the resource tree,  files  found  in  directories  end  up  in
              directies in the resource tree. The following rules apply:

              Regular files are added in the root of the resource tree using their proper file name.

              If  the  file name refers to a directory, the directory is traversed recursively and all files are
              added. If the file name ends with a forward slash (/) files are added to the  root.  If  the  file
              does  not end with a slash, the name of the directory will be placed in the root and all contained
              files will be placed beneath this.

</pre><h4><b>EXAMPLES</b></h4><pre>
       Here's a list of usage cases.

       mrc -o x.o my-resource.txt my-image.png
              Will create a resource file containing two resources accessible using the path  "/my-resource.txt"
              and "/my-image.png" respectively.

       mrc -o x.o img/my-image.png
              Will  create  a  resource  file  containing  a  single  resource  accessible  using the path "/my-
              image.png".

       mrc -o x.o img/
              Assuming there are two images in the directory img called my-image-1.png and  my-image-2.png,  the
              resource  file  will  contain  them  both  accessible  under  the name "/my-image-1.png" and "/my-
              image-1.png".

              mrc -o x.o img Same as the previous, but note there's no trailing slash, the  resource  file  will
              contain both images but they are now accessible under the name "/img/my-image-1.png" and "/img/my-
              image-1.png".

       Use the verbose flag (<b>--verbose</b>) to track what ends up where.

</pre><h4><b>DETAILS</b></h4><pre>
       The  way  this  works  is  that mrc first collects all data from the files specified, including the files
       found in specified directories.  An simple index is created to allow hierarchical  access  to  the  data.
       The  data  is then flattened into three data structures and these are written to the <b>.data</b> section of the
       object file. The three data blobs are then made available as globals in your application with  the  names
       <b>gResourceIndex</b>,  <b>gResourceName</b>  and  <b>gResourceData</b>. You can specify the prefix part of this variable with
       the -fB--resource-prefix option.

       The index entries have the following format:
           struct rsrc_imp
           {
               unsigned int m_next;   // index of the next sibling entry
               unsigned int m_child;  // index of the first child entry
               unsigned int m_name;   // offset of the name for this entry
               unsigned int m_size;   // data size for this entry
               unsigned int m_data;   // offset of the data for this entry
           };

       The classes in the <b>mrsrc.h</b> file are contained in the namespace <b>mrsrc</b>. The available classes are

       <b>mrsrc::rsrc</b>
              This is the basic class to access data. It has a constructor that takes a path to a resource. Data
              can be accessed using the <b>data</b> method and the size of the data is available via the  <b>size</b>  method.
              If  the  resource  was not found, <b>data</b> will return <b>nullptr</b> and <b>size</b> will return zero. You can also
              use <b>operator</b> <b>bool</b> to check for valid data.

       <b>mrsrc::streambuf</b>
              This class is derived from <b>std::streambuf</b>. It can take both a <b>mrsrc::rsrc</b> or a path as constructor
              parameter.

       <b>mrsrc::istream</b>
              This class is derived from <b>std::istream</b>. It can take both a <b>mrsrc::rsrc</b> or a path  as  constructor
              parameter.

</pre><h4><b>BUGS</b></h4><pre>
       This  application  can  only  generate ELF formatted object files on machines that have an <b>&lt;elf.h&gt;</b> header
       file installed.

       Only a single resource entry can be generated and there's no way to merge or  manipulate  resource  files
       yet.

version 1.3.6                                      2022-12-03                                             <u><a href="../man1/mrc.1.html">mrc</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>