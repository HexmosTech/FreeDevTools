<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>dpkg-sig - Debian package archive (.deb) signature generation and verification tool</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/jammy/+package/dpkg-sig">dpkg-sig_0.13.1+nmu4_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       dpkg-sig - Debian package archive (.deb) signature generation and verification tool

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>dpkg-sig</b> <b>[options]</b> <b>--sign</b> <u>role</u> <u>[archive|changes]</u>+

       <b>dpkg-sig</b> <b>[options]</b> <b>--verify</b> <u>[archive]</u>+

       <b>dpkg-sig</b> <b>[options]</b> <b>--verify-role</b> <u>role</u> <u>[archive]</u>+

       <b>dpkg-sig</b> <b>[options]</b> <b>--verify-exact</b> <u>member</u> <u>[archive]</u>+

       <b>dpkg-sig</b> <b>[options]</b> <b>--list</b> <u>[archive]</u>+

       <b>dpkg-sig</b> <b>[options]</b> <b>--get-hashes</b> <u>role</u> <u>[archive|changes]</u>+

       <b>dpkg-sig</b> <b>[options]</b> <b>--sign-hashes</b> <u>[hashes-archive]</u>+

       <b>dpkg-sig</b> <b>[options]</b> <b>--write-signature</b> <u>[hashes-archive]</u>+

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>dpkg-sig</b> creates and verifies signatures on Debian archives (.deb-files).

       Use higher-level tools to install and remove packages from your system, and to verify a signature as
       acceptable for your system.

       A usage example can be found at the end of this man page.

</pre><h4><b>ACTION</b> <b>OPTIONS</b></h4><pre>
       <b>--sign</b>, <b>-s</b> <u>role</u>
           Signs  a  standard-conforming Debian archive. <u>role</u> gives the name of the signature (usually 'builder'
           for the builder of the .deb).  The signature is made using your default key, unless specified via any
           explicit or implicit option (see below).

           If one or more .changes-files are given, the md5sums inside the .changes file(s) are also updated.

           If a .changes file was gpg-signed, the signature is removed when updating the md5sums.

       <b>--verify</b>, <b>-c</b>; <b>--verify-role</b>; <b>--verify-exact</b>
           Verifies a signature on  the  given  archive  file.  <b>--verify</b>  and  <b>-c</b>  just  check  all  signatures;
           <b>--verify-role</b>  verifies  all signatures with a given role, and <b>--verify-exact</b> wants the exact name of
           the archive member (without the leading _gpg).  However,  both  commands  also  accept  perl  regular
           expressions as the name.

           All  verify  variants  output (in turn for each signature) either a line consisting of GOODSIG, role,
           gpg-fingerprint and signature time (in seconds since 1970-1-1 0:00:00 UTC), or BADSIG.

           Starting from version 0.12, <b>dpkg-sig</b> returns 2 if a bad signature was found when trying to verify. If
           an unknown key was used to sign a .deb, <b>dpkg-sig</b> returns 3.

       <b>--list</b>, <b>-l</b>, <b>-t</b>
           Lists all names inside the deb that look like a signature.

       <b>--get-hashes</b>, <b>--sign-hashes</b>, <b>--write-signature</b>
           <b>--get-hashes</b> creates an <b><a href="../man1/ar.1.html">ar</a></b>(1) archive containing a control file part and files with  the  digests  of
           all  the  .debs  specified  on  the  command-line  or  named in the .changes file(s) specified on the
           command-line.

           After that, you can transfer this (small) file to another machine,  for  example  an  offline  system
           containing your gpg keys. (Yep, that's paranoid!)

           <b>--sign-hashes</b>  then  signs  this  file containing the digests (in fact, it replaces the digests parts
           with their signatures).

           Now  transfer  the  signed  file  back  to  the  machine  where  you  created  the  hashes  and   use
           <b>--write-signature</b> to add the signatures from the archive to the deb.

</pre><h4><b>OPTIONS</b></h4><pre>
       <b>-m</b> <u>maintainer</u>
           Specify the maintainer name to be used for signing.

       <b>-e</b> <u>maintainer</u>
           Same as <b>-m</b> but takes precedence.

       <b>-k</b> <u>keyid</u>
           Specify the key ID to be used for signing; overrides any <b>-e</b> or <b>-m</b> option.

       <b>--verbose</b>
           Get some more details.

       <b>--batch=1</b>
           Gurantees that the non-verbose output will not change. Use this if you want to parse the output.

       <b>--also-v3-sig</b>
           The signature format changed between version 0.10 and 0.11. If you want to verify old signatures too,
           try this switch.

       <b>--also-v2-sig</b>
           The  signature  format changed between version 0.2 and 0.3. If you want to verify old signatures too,
           try this switch.

       <b>--cache-passphrase</b>, <b>-p</b>
           Caches the gpg-passphrase inside <b>dpkg-sig</b>. This needs the suggested package "libterm-readkey-perl".

           Be warned: Doing this is insecure,  <b>dpkg-sig</b>  doesn't  protect  the  memory  it  uses  to  store  the
           passphrase.

       <b>--sign-changes</b>, <b>-a</b> [ no | auto | yes | full | force_full ]
           Tells  whether  also  sign  the  .changes  and  .dsc-files. The default is <u>auto</u>, which means that the
           .changes-file is re-signed if it was signed before.

           The other values are <u>no</u> (don't sign .changes, and remove an existing signature), <u>yes</u>  (always  add  a
           signature  to  .changes),  <u>full</u>  (always  add a signature to .changes, and also sign the .dsc-file if
           there was no previous signature; otherwise ask) and <u>force_full</u> (always add a signature  to  both  the
           .changes and .dsc files).

       <b>--remote-dpkg-sig</b>, <b>-r</b> <u>path</u>
           Use  this  if  you  want  to  specify  where  <b>dpkg-sig</b> can find the <b>dpkg-sig</b> executable on the remote
           machine.

           This is useful if you're not able/allowed to install <b>dpkg-sig</b> as a .deb.  To do that, copy the script
           to something like <u><a href="file:~/bin/dpkg-sig">~/bin/dpkg-sig</a></u> on the remote system. After that, you can call your  local  <b>dpkg-sig</b>
           with something like the following to use the remote signing/verifying features:

           "dpkg-sig --sign builder -r <a href="file:~/bin/dpkg-sig">~/bin/dpkg-sig</a> ssh://user@host:<a href="file:~/some-deb_version_arch.changes">~/some-deb_version_arch.changes</a>"

       <b>--remote-ssh-port</b>, <b>-o</b> <u>port</u>
           Port of the <b>sshd</b> on the remote host. Default value is 22.

</pre><h4><b>MORE</b> <b>OPTIONS</b></h4><pre>
       These  options  should  normally not be used, but are here for completeness.  Be warned: Use them only if
       you really know what you are doing.

       <b>--gpgoptions</b>, <b>-g</b> <u>gpg</u> <u>options</u>
           Use this to pass arbitrary options to <b><a href="../man1/gpg.1.html">gpg</a></b>(1) whenever a file is signed. As this can  lead  to  broken
           signatures, test your changes carefully.

       <b>--passphrase-file</b>, <b>-f</b> <u>passphrase</u> <u>file</u>
           Tells gpg to use the passphrase in <u>file</u> to sign.

           Be  warned:  Doing  this is insecure, DON'T use this feature.  However, in some cases (e.g. automatic
           signing on a buildd) this could be  useful,  and  is  still  better  than  using  a  gpg-key  without
           passphrase.  You  can  gain at least some security by putting this file on a ramdisk, but it would be
           better to use <b><a href="../man1/gpg-agent.1.html">gpg-agent</a></b>(1).

</pre><h4><b>CONFIGURATION</b> <b>VARIABLES</b></h4><pre>
       The two configuration files <u>/etc/devscripts.conf</u> and <u><a href="file:~/.devscripts">~/.devscripts</a></u> are  sourced  in  that  order  to  set
       configuration  variables.   Command  line  options  can  be used to override configuration file settings.
       Environment variable settings are ignored for this purpose.  The currently recognised variables are:

       <b>DEBSIGN_MAINT</b>
           This is the <b>-m</b> option.

       <b>DEBSIGN_KEYID</b>, <b>DPKGSIG_KEYID</b>
           This is the <b>-k</b> option, and <b>DPKGSIG_KEYID</b> has most precedence.

       <b>DPKGSIG_SIGN_CHANGES</b>
           This is the <b>--sign-changes</b> option. Valid values are <u>no</u>, <u>auto</u>, <u>yes</u>, <u>full</u> and <u>force_full</u>.

       <b>DPKGSIG_CACHE_PASS</b>
           This is the <b>--cache-passphrase</b> option. Set this to a true value to enable it.

</pre><h4><b>SIGNATURE</b> <b>FORMAT</b></h4><pre>
       The signatures created by <b>dpkg-sig</b> are added in a strict standard-conforming  way  to  the  .deb  archive
       file.  The  signature  itself  is made on a file formatted like a Debian control file. The fields of this
       file are: Version, specifying a <b>dpkg-sig</b> file version number; Signer, giving the name of the signer; Date
       and Role, and finally Files, which gives the digests of the prior contents  of  the  .deb  archive  file.
       Note  that  this  includes  any  prior  signatures  made  by  <b>dpkg-sig</b>. Thus it is possible to verify any
       signature by hand with just <b><a href="../man1/ar.1.html">ar</a></b>(1), <b><a href="../man1/md5sum.1.html">md5sum</a></b>(1), <b><a href="../man1/sha1sum.1.html">sha1sum</a></b>(1) and <b><a href="../man1/gpg.1.html">gpg</a></b>(1).  Signing a list of digests  has  the
       advantage  that  it is possible to perform remote signatures without transferring the whole archive file.
       This does require one to trust the remote machine, though!

</pre><h4><b>REMOTE</b> <b>SIGNING</b></h4><pre>
       <b>dpkg-sig</b> can sign remote files using <b><a href="../man1/ssh.1.html">ssh</a></b>(1) without transferring the whole file to the local machine,  or
       the  key  to  the  remote machine. Simply specify the file with "ssh://[user@]machine:/path/to/file", and
       have <b>dpkg-sig</b> installed on the remote machine.  (See also the <b>--remote-dpkg-sig</b> option above.)

       Remote signing supports the usual filename globbing.

       Remote signing has been tested, but is at the moment considered a more experimental feature.

</pre><h4><b>BUGS,</b> <b>TODO</b></h4><pre>
       <b>dpkg-sig</b> should be able to also verify signatures made by older code.  This  may  be  added  in  a  later
       version.

       <b>dpkg-sig</b>  assumes  that  any  given  archive is strictly standard-compatible.  This is valid for archives
       created by <b>dpkg-deb</b> - but if you're not sure about a archive, verify this yourself, or live with the risk
       of a bad signature.

       More documentation about the signature format should be added.

       Deal better with expired etc. keys and signatures.

       Better inclusion into the other tools like <b>dpkg-buildpackage</b>.

       And of course: Still missing is testing, testing and testing <b>dpkg-sig</b>.

</pre><h4><b>USAGE</b> <b>EXAMPLE</b></h4><pre>
       A typical use is to sign packages before a  (maintainer-)upload.  This  can  be  done  by  running  <b>dpkg-</b>
       <b>buildpackage</b> and afterwards calling "dpkg-sig --sign builder *.changes".

       If you want to do all signing with <b>dpkg-sig</b> you could run "dpkg-buildpackage -uc -us" and afterwards call
       "dpkg-sig  --sign  builder  --sign-changes  full  *.changes".   If  you do this, there is no need to call
       <b>debsign</b> any more, as <b>dpkg-sig</b> does all the signing for you.

       If you  don't  want  to  type  in  your  passphrase  multiple  times,  then  you  could  add  the  option
       <b>--cache-passphrase</b>.

       The  options  <b>--sign-changes</b>  and  <b>--cache-passphrase</b>  could  be  replaced  with  setting  the  variables
       <b>DPKGSIG_SIGN_CHANGES</b> respectivly  <b>DPKGSIG_CACHE_PASS</b>  (set  the  later  one  set  to  a  true  value)  in
       <u><a href="file:~/.devscripts">~/.devscripts</a></u>.

       The  key-id is automatically set from <u>/etc/devscripts.conf</u> and <u><a href="file:~/.devscripts">~/.devscripts</a></u>, but could be overridden via
       the <b>-m</b>, <b>-e</b> or <b>-k</b> command line options (see above).

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man5/deb.5.html">deb</a></b>(5), <b><a href="../man1/debsign.1.html">debsign</a></b>(1), <b><a href="../man8/dpkg-deb.8.html">dpkg-deb</a></b>(8), <u>/usr/share/doc/dpkg-sig/</u>

</pre><h4><b>AUTHOR</b></h4><pre>
       <b>dpkg-sig</b> and this manpage were written by Andreas Barth and Marc Brockschmidt.  They  are  Copyright  (C)
       2003-2006  by  them  and  released  under  the GNU General Public Licence version 2 or later; there is NO
       WARRANTY.  See <u>/usr/share/doc/dpkg-sig/copyright</u> and  <u><a href="file:/usr/share/common-licenses/GPL">/usr/share/common-licenses/GPL</a></u>  for  details.  Some
       parts of this manpage are taken from debsign.

Debian Project                                     2016-12-19                                        <u><a href="../man1/DPKG-SIG.1.html">DPKG-SIG</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>