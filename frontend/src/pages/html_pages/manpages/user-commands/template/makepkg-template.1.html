<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>makepkg-template - package build templating utility</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/makepkg">makepkg_7.0.0-1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       makepkg-template - package build templating utility

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <u>makepkg-template</u> [options]

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <u>makepkg-template</u> is a script to ease the work of maintaining multiple similar PKGBUILDs. It allows you to
       move most of the code from the PKGBUILD into a template file and uses markers to allow in-place updating
       of existing PKGBUILDs if the template has been changed.

       Template files can contain any code allowed in a PKGBUILD. You can think of them like external files
       included with "." or "source", but they will be inlined into the PKGBUILD by <u>makepkg-template</u> so you do
       not depend on the template file when building the package.

       Markers are bash comments in the form of:

           # template start; key=value; key2=value2; ...

       and

           # template end;

       Currently used keys are: name (mandatory) and version. Template names are limited to alphanumerics, "@",
       "+", ".", "-", and "_". Versions are limited to numbers and ".".

       For initial creation there is a one line short cut which does not need an end marker:

           # template input; key=value;

       Using this short-cut will result in <u>makepkg-template</u> replacing it with start and end markers and the
       template code on the first run.

       Template files should be stored in one directory and filenames should be
       "$template_name-$version.template" with a symlink "$template_name.template" pointing to the most recent
       template. If the version is not set in the marker, <u>makepkg-template</u> will automatically use the target of
       "$template_name.template", otherwise the specified version will be used. This allows for easier
       verification of untrusted PKGBUILDs if the template is trusted. You verify the non-template code and then
       use a command similar to this:

           diff -u &lt;(makepkg-template -o -) PKGBUILD

       Template files may also contain markers leading to nested templates in the resulting PKGBUILD. If you use
       markers in a template, please set the version you used/tested with in the start/input marker so other
       people can properly recreate from templates.

</pre><h4><b>OPTIONS</b></h4><pre>
       <b>-p,</b> <b>--input</b> &lt;build script&gt;
           Read the package script build script instead of the default.

       <b>-o,</b> <b>--output</b> &lt;build script&gt;
           Write the updated file to build script instead of overwriting the input file.

       <b>-n,</b> <b>--newest</b>
           Always use the newest available template file.

       <b>--template-dir</b> &lt;dir&gt;
           Change the dir where we are looking for template files. This option may be given multiple times in
           which case files found in directory given last will take precedence.

</pre><h4><b>EXAMPLE</b> <b>PKGBUILD</b></h4><pre>
           pkgname=perl-config-simple
           pkgver=4.58
           pkgrel=1
           pkgdesc="simple configuration file class"
           arch=('any')
           license=('PerlArtistic' 'GPL')
           depends=('perl')
           source=("<a href="http://search.cpan.org/CPAN/authors/id/S/SH/SHERZODR/Config-Simple">http://search.cpan.org/CPAN/authors/id/S/SH/SHERZODR/Config-Simple</a>-${pkgver}.tar.gz")
           sha256sums=('dd9995706f0f9384a15ccffe116c3b6e22f42ba2e58d8f24ed03c4a0e386edb4')
           _distname="Config-Simple"

           # template start; name=perl-module; version=1.0;
           _distdir="${_distname}-${pkgver}"
           url="https://metacpan.org/release/${_distname}"
           options+=('!emptydirs')

           build() {
                   cd "$srcdir/$_distdir"
                   perl Makefile.PL INSTALLDIRS=vendor
                   make
           }

           check() {
                   cd "$srcdir/$_distdir"
                   make test
           }

           package() {
                   cd "$srcdir/$_distdir"
                   make DESTDIR="$pkgdir" install
           }
           # template end;

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man8/makepkg.8.html">makepkg</a></b>(8), <b><a href="../man5/PKGBUILD.5.html">PKGBUILD</a></b>(5)

       See the pacman website at https://archlinux.org/pacman/ for current information on pacman and its related
       tools.

</pre><h4><b>BUGS</b></h4><pre>
       Bugs? You must be kidding; there are no bugs in this software. But if we happen to be wrong, please
       report them to the issue tracker at https://gitlab.archlinux.org/pacman/pacman/-/issues with specific
       information such as your command-line, the nature of the bug, and even the package database if it helps.

</pre><h4><b>AUTHORS</b></h4><pre>
       Current maintainers:

       •   Allan McRae &lt;<a href="mailto:allan@archlinux.org">allan@archlinux.org</a>&gt;

       •   Andrew Gregory &lt;<a href="mailto:andrew.gregory.8@gmail.com">andrew.gregory.8@gmail.com</a>&gt;

       •   Morgan Adamiec &lt;<a href="mailto:morganamilo@archlinux.org">morganamilo@archlinux.org</a>&gt;

       Past major contributors:

       •   Judd Vinet &lt;<a href="mailto:jvinet@zeroflux.org">jvinet@zeroflux.org</a>&gt;

       •   Aurelien Foret &lt;<a href="mailto:aurelien@archlinux.org">aurelien@archlinux.org</a>&gt;

       •   Aaron Griffin &lt;<a href="mailto:aaron@archlinux.org">aaron@archlinux.org</a>&gt;

       •   Dan McGee &lt;<a href="mailto:dan@archlinux.org">dan@archlinux.org</a>&gt;

       •   Xavier Chantry &lt;<a href="mailto:shiningxc@gmail.com">shiningxc@gmail.com</a>&gt;

       •   Nagy Gabor &lt;<a href="mailto:ngaba@bibl.u-szeged.hu">ngaba@bibl.u-szeged.hu</a>&gt;

       •   Dave Reisner &lt;<a href="mailto:dreisner@archlinux.org">dreisner@archlinux.org</a>&gt;

       •   Eli Schwartz &lt;<a href="mailto:eschwartz@archlinux.org">eschwartz@archlinux.org</a>&gt;

       For additional contributors, use git shortlog -s on the pacman.git repository.

Pacman 7.0.0                                       2025-01-20                                <u><a href="../man1/MAKEPKG-TEMPLATE.1.html">MAKEPKG-TEMPLATE</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>