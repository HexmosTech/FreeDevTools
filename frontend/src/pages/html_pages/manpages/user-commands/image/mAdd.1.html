<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>mAdd - Re-project and mosaic your images, with background rectification</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/montage">montage_6.1+dfsg-1build1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       mAdd - Re-project and mosaic your images, with background rectification

</pre><h4><b>SYNOPSIS</b></h4><pre>
       mAdd  [-p  <u>imgdir</u>]  [-n(o-areas)]  [-a  mean|median|count]  [-e(xact-size)]  [-d  <u>level</u>]  [-s <u>statusfile</u>]
       images.tbl template.hdr out.fits

</pre><h4><b>DESCRIPTION</b></h4><pre>
       Coadd the reprojected images in an input list  to  form  an  output  mosaic  with  FITS  header  keywords
       specified  in  a  header file. Creates two output files, one containing the coadded pixel values, and the
       other containing coadded pixel area values. The pixel area values can be used as a weighting function  if
       the output pixel values are themselves to be coadded with other projected images, and may also be used in
       validating the fidelity of the output pixel values.

</pre><h4><b>OPTIONS</b></h4><pre>
       -p <u>imgdir</u>
              Specifies path to directory containing reprojected images.  If the -p switch is not included, mAdd
              will look for the input images in the current working directory.

       -n     Co-addition  ignores  weighting  by  pixel  areas  and  performs  coaddition  based  only on pixel
              positions.  This flag refers to <u>input</u> images; the area file for the output  image  will  still  be
              created.

       -a <u>type</u>
              Select  type  of  averaging  to  be  done on accumulated pixel values (either mean or median).  To
              generate a map showing counts of how many times each pixel was overlapped by the input images, use
              count.

       -e     Enables exact size mode. The output image will match  the  header  template  exactly,  instead  of
              shrinking the output to fit the data.

       -d <u>level</u>
              Turns on debugging to the specified level (1-3).

       -s <u>statusfile</u>
              mAdd output and errors will be written to <u>statusfile</u> instead of stdout.

</pre><h4><b>ARGUMENTS</b></h4><pre>
       images.tbl
              ASCII table (generated by mImgtbl) containing metadata for all images to be coadded.

       template.hdr
              FITS header template to be used in generation of output FITS

       out.fits
              Name of output FITS image.

</pre><h4><b>RESULT</b></h4><pre>
       If  successful,  mAdd  creates  a  FITS  file <b>out.fits</b> that is a coadd of all the FITS files in the table
       <b>images.tbl</b>, according to the header template given.  A corresponding <b>out_area.fits</b> is also created.

</pre><h4><b>MESSAGES</b></h4><pre>
       OK     [struct stat = "OK", time=<u>time</u>]

       ERROR  MPI initialization failed

       ERROR  Invalid argument for -a flag

       ERROR  Cannot open status file: <u>statusfile</u>

       ERROR  Invalid image metadata file: <u>filename</u>

       ERROR  Need columns: cntr,fname, crpix1, crpix2, cdelt1, cdelt2, naxis1, naxis2, crval1, crval2 in  image
              list

       ERROR  Memory allocation failed

       ERROR  Too many open files

       ERROR  Input wcsinit() failed.

       ERROR  Failed to allocate enough memory for output arrays

       ERROR  Bad WCS in header template.

       ERROR  Images are not in same pixel space.

       ERROR  Template file not found.

       ERROR  <u>FITS</u> <u>library</u> <u>error</u>

       ERROR  <u>general</u> <u>error</u> <u>message</u>

</pre><h4><b>EXAMPLES</b></h4><pre>
       The  following example runs <b>mAdd</b> on 4 FITS images, generating the output file <b>mosaic.fits</b>.  Related files
       are images.tbl and template.hdr.

       $ mAdd -p proj images.tbl template.hdr output/mosaic.fits
              [struct stat="OK", time=1]

</pre><h4><b>BUGS</b></h4><pre>
       The drizzle algorithm has been implemented but has not been tested in this release.

       If a header template contains carriage returns (i.e., created/modified on a Windows machine), the cfitsio
       library will be unable to read it properly, resulting in the  error:  [struct  stat="ERROR",  status=207,
       msg="illegal character in keyword"]

       It  is  best  for  the  background  correction  algorithms  if  the area described in the header template
       completely encloses all of the input images in their entirety. If parts of input images are "chopped off"
       by the header template, the background correction will be affected. We  recommend  you  use  an  expanded
       header  for  the  reprojection  and background modeling steps, returning to the originally desired header
       size for the final coaddition. The default background matching  assumes  that  there  are  no  non-linear
       background  variations  in  the individual images (and therefore in the overlap differences). If there is
       any uncertainty in this regard, it is safer to turn on the "level only"  background  matching  (the  "-l"
       flag in mBgModel.

       Although  the memory limitation for output images has been overcome in versions 2.x and above of Montage,
       it is still possible (though unlikely) to create an out-of-memory situation due to the size and number of
       input images. mAdd builds the output image one row at a time, and stores every pixel from any input image
       that contributes to that row in memory.

       If you have a large enough mosaic, it is almost always more efficient (and often easier on the  user)  to
       tile  it.  There  are  tools  in  Montage  to  help  with this and these have been brought together under
       mAddExec. In fact, even if you want a single output image, it may be  faster  to  do  it  in  two  steps:
       mAddExec  to  create  a  set  of  tiles,  and then mAdd to make a final mosaic from these tiles. There is
       absolutely no loss of information in doing this.

</pre><h4><b>COPYRIGHT</b></h4><pre>
       2001-2015 California Institute of Technology, Pasadena, California

       If your research uses Montage, please include the following acknowledgement: "This research made  use  of
       Montage.  It  is  funded  by  the  National  Science  Foundation  under Grant Number ACI-1440620, and was
       previously funded by the National Aeronautics and Space Administration's Earth Science Technology Office,
       Computation Technologies Project, under Cooperative  Agreement  Number  NCC5-626  between  NASA  and  the
       California Institute of Technology."

       The  Montage  distribution includes an adaptation of the MOPEX algorithm developed at the Spitzer Science
       Center.

Montage 5                                           Dec 2016                                             <u><a href="../man1/MADD.1.html">MADD</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>