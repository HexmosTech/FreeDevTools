<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>mia-2dmyoica-nonrigid2 - Run a registration of a series of 2D images.</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/noble/+package/mia-tools">mia-tools_2.4.7-13build4_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       mia-2dmyoica-nonrigid2 - Run a registration of a series of 2D images.

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>mia-2dmyoica-nonrigid2</b> <b>-i</b> <b>&lt;in-file&gt;</b> <b>-o</b> <b>&lt;out-file&gt;</b> <b>[options]</b>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>mia-2dmyoica-nonrigid2</b>  This program runs the non-rigid registration of an perfusion image series.In each
       pass, first an ICA analysis is run to estimate and eliminate the periodic movement and  create  reference
       images  with  intensities similar to the corresponding original image. Then non-rigid registration is run
       using the an "ssd + divcurl" cost model. The B-spline c-rate and the divcurl cost weight are  changed  in
       each  pass according to given parameters.In the first pass a bounding box around the LV myocardium may be
       extractedto speed up computation Special note to this implemnentation: the  registration  is  always  run
       from the original images to avoid the accumulation of interpolation errors.

</pre><h4><b>OPTIONS</b></h4><pre>
   <b>File-IO</b>
              -i --in-file=(required, input); string
                     input perfusion data set

              -o --out-file=(required, output); string
                     output perfusion data set

              -r --registered=reg
                     file name base for registered fiels

                 --save-cropped=
                     save cropped set to this file

                 --save-feature=
                     save segmentation feature images and initial ICA mixing matrix

   <b>ICA</b>
                 --fastica=internal
                     FastICA implementationto be used
                      For supported plugins see PLUGINS:fastica/implementation

              -C --components=0
                     ICA components 0 = automatic estimation

                 --normalize
                     don't normalized ICs

                 --no-meanstrip
                     don't strip the mean from the mixing curves

              -s --segscale=0
                     segment and scale the crop box around the LV (0=no segmentation)

              -k --skip=0
                     skip images at the beginning of the series e.g. because as they are of other modalities

              -m --max-ica-iter=400
                     maximum number of iterations in ICA

              -E --segmethod=features
                     Segmentation method

                        <u>delta-feature</u> ‐ difference of the feature images
                        <u>delta-peak</u> ‐ difference of the peak enhancement images
                        <u>features</u> ‐ feature images

   <b>Registration</b>
              -O --optimizer=gsl:opt=gd,step=0.1
                     Optimizer used for minimization
                      For supported plugins see PLUGINS:minimizer/singlecost

              -a --start-c-rate=32
                     start coefficinet rate in spines, gets divided by --c-rate-divider with every pass

                 --c-rate-divider=4
                     cofficient rate divider for each pass

              -d --start-divcurl=20
                     start divcurl weight, gets divided by --divcurl-divider with every pass

                 --divcurl-divider=4
                     divcurl weight scaling with each new pass

              -w --imageweight=1
                     image cost weight

              -p --interpolator=bspline:d=3
                     image interpolator kernel
                      For supported plugins see PLUGINS:1d/splinekernel

              -l --mg-levels=3
                     multi-resolution levels

              -P --passes=3
                     registration passes

   <b>Help</b> <b>&amp;</b> <b>Info</b>
              -V --verbose=warning
                     verbosity  of  output,  print  messages  of  given  level  and higher priorities. Supported
                     priorities starting at lowest level are:

                        <u>trace</u> ‐ Function call trace
                        <u>debug</u> ‐ Debug output
                        <u>info</u> ‐ Low level messages
                        <u>message</u> ‐ Normal messages
                        <u>warning</u> ‐ Warnings
                        <u>fail</u> ‐ Report test failures
                        <u>error</u> ‐ Report errors
                        <u>fatal</u> ‐ Report only fatal errors

                 --copyright
                     print copyright information

              -h --help
                     print this help

              -? --usage
                     print a short help

                 --version
                     print the version number and exit

   <b>Processing</b>
                 --threads=-1
                     Maxiumum number of threads to use for processing,This number should be lower  or  equal  to
                     the number of logical processor cores in the machine. (-1: automatic estimation).

</pre><h4><b>PLUGINS:</b> <b>1d/splinekernel</b></h4><pre>
       <b>bspline</b>   B-spline kernel creation , supported parameters are:

                     <u>d</u> = 3; int in [0, 5]
                       Spline degree.

       <b>omoms</b>     OMoms-spline kernel creation, supported parameters are:

                     <u>d</u> = 3; int in [3, 3]
                       Spline degree.

</pre><h4><b>PLUGINS:</b> <b>fastica/implementation</b></h4><pre>
       <b>internal</b>  This is the MIA implementation of the FastICA algorithm.

                     (no parameters)

       <b>itpp</b>      This is the IT++ implementation of the FastICA algorithm.

                     (no parameters)

</pre><h4><b>PLUGINS:</b> <b>minimizer/singlecost</b></h4><pre>
       <b>gdas</b>      Gradient descent with automatic step size correction., supported parameters are:

                     <u>ftolr</u> = 0; double in [0, inf)
                       Stop if the relative change of the criterion is below..

                     <u>max-step</u> = 2; double in (0, inf)
                       Maximal absolute step size.

                     <u>maxiter</u> = 200; uint in [1, inf)
                       Stopping criterion: the maximum number of iterations.

                     <u>min-step</u> = 0.1; double in (0, inf)
                       Minimal absolute step size.

                     <u>xtola</u> = 0.01; double in [0, inf)
                       Stop if the inf-norm of the change applied to x is below this value..

       <b>gdsq</b>      Gradient descent with quadratic step estimation, supported parameters are:

                     <u>ftolr</u> = 0; double in [0, inf)
                       Stop if the relative change of the criterion is below..

                     <u>gtola</u> = 0; double in [0, inf)
                       Stop if the inf-norm of the gradient is below this value..

                     <u>maxiter</u> = 100; uint in [1, inf)
                       Stopping criterion: the maximum number of iterations.

                     <u>scale</u> = 2; double in (1, inf)
                       Fallback fixed step size scaling.

                     <u>step</u> = 0.1; double in (0, inf)
                       Initial step size.

                     <u>xtola</u> = 0; double in [0, inf)
                       Stop if the inf-norm of x-update is below this value..

       <b>gsl</b>       optimizer  plugin  based  on  the  multimin  optimizers  of  the  GNU  Scientific Library (GSL)
                 https://www.gnu.org/software/gsl/, supported parameters are:

                     <u>eps</u> = 0.01; double in (0, inf)
                       gradient based optimizers: stop when |grad| &lt; eps, simplex:  stop  when  simplex  size  &lt;
                       eps..

                     <u>iter</u> = 100; uint in [1, inf)
                       maximum number of iterations.

                     <u>opt</u> = gd; dict
                       Specific optimizer to be used..  Supported values are:
                           <u>simplex</u> ‐ Simplex algorithm of Nelder and Mead
                           <u>cg-fr</u> ‐ Flecher-Reeves conjugate gradient algorithm
                           <u>cg-pr</u> ‐ Polak-Ribiere conjugate gradient algorithm
                           <u>bfgs</u> ‐ Broyden-Fletcher-Goldfarb-Shann
                           <u>bfgs2</u> ‐ Broyden-Fletcher-Goldfarb-Shann (most efficient version)
                           <u>gd</u> ‐ Gradient descent.

                     <u>step</u> = 0.001; double in (0, inf)
                       initial step size.

                     <u>tol</u> = 0.1; double in (0, inf)
                       some tolerance parameter.

       <b>nlopt</b>     Minimizer  algorithms  using  the NLOPT library, for a description of the optimizers please see
                 '<a href="http://ab-initio.mit.edu/wiki/index.php/NLopt_Algorithms">http://ab-initio.mit.edu/wiki/index.php/NLopt_Algorithms</a>', supported parameters are:

                     <u>ftola</u> = 0; double in [0, inf)
                       Stopping criterion: the absolute change of the objective value is below  this value.

                     <u>ftolr</u> = 0; double in [0, inf)
                       Stopping criterion: the relative change of the objective value is below  this value.

                     <u>higher</u> = inf; double
                       Higher boundary (equal for all parameters).

                     <u>local-opt</u> = none; dict
                       local minimization algorithm that may be required for the main  minimization  algorithm..
                       Supported values are:
                           <u>gn-direct</u> ‐ Dividing Rectangles
                           <u>gn-direct-l</u> ‐ Dividing Rectangles (locally biased)
                           <u>gn-direct-l-rand</u> ‐ Dividing Rectangles (locally biased, randomized)
                           <u>gn-direct-noscal</u> ‐ Dividing Rectangles (unscaled)
                           <u>gn-direct-l-noscal</u> ‐ Dividing Rectangles (unscaled, locally biased)
                           <u>gn-direct-l-rand-noscale</u> ‐ Dividing Rectangles (unscaled, locally biased, randomized)
                           <u>gn-orig-direct</u> ‐ Dividing Rectangles (original implementation)
                           <u>gn-orig-direct-l</u> ‐ Dividing Rectangles (original implementation, locally biased)
                           <u>ld-lbfgs-nocedal</u> ‐ None
                           <u>ld-lbfgs</u> ‐ Low-storage BFGS
                           <u>ln-praxis</u> ‐ Gradient-free Local Optimization via the Principal-Axis Method
                           <u>ld-var1</u> ‐ Shifted Limited-Memory Variable-Metric, Rank 1
                           <u>ld-var2</u> ‐ Shifted Limited-Memory Variable-Metric, Rank 2
                           <u>ld-tnewton</u> ‐ Truncated Newton
                           <u>ld-tnewton-restart</u> ‐ Truncated Newton with steepest-descent restarting
                           <u>ld-tnewton-precond</u> ‐ Preconditioned Truncated Newton
                           <u>ld-tnewton-precond-restart</u>  ‐  Preconditioned  Truncated Newton with steepest-descent
                           restarting
                           <u>gn-crs2-lm</u> ‐ Controlled Random Search with Local Mutation
                           <u>ld-mma</u> ‐ Method of Moving Asymptotes
                           <u>ln-cobyla</u> ‐ Constrained Optimization BY Linear Approximation
                           <u>ln-newuoa</u> ‐ Derivative-free Unconstrained  Optimization  by  Iteratively  Constructed
                           Quadratic Approximation
                           <u>ln-newuoa-bound</u>  ‐  Derivative-free  Bound-constrained  Optimization  by  Iteratively
                           Constructed Quadratic Approximation
                           <u>ln-neldermead</u> ‐ Nelder-Mead simplex algorithm
                           <u>ln-sbplx</u> ‐ Subplex variant of Nelder-Mead
                           <u>ln-bobyqa</u> ‐ Derivative-free Bound-constrained Optimization
                           <u>gn-isres</u> ‐ Improved Stochastic Ranking Evolution Strategy
                           <u>none</u> ‐ don't specify algorithm

                     <u>lower</u> = -inf; double
                       Lower boundary (equal for all parameters).

                     <u>maxiter</u> = 100; int in [1, inf)
                       Stopping criterion: the maximum number of iterations.

                     <u>opt</u> = ld-lbfgs; dict
                       main minimization algorithm.  Supported values are:
                           <u>gn-direct</u> ‐ Dividing Rectangles
                           <u>gn-direct-l</u> ‐ Dividing Rectangles (locally biased)
                           <u>gn-direct-l-rand</u> ‐ Dividing Rectangles (locally biased, randomized)
                           <u>gn-direct-noscal</u> ‐ Dividing Rectangles (unscaled)
                           <u>gn-direct-l-noscal</u> ‐ Dividing Rectangles (unscaled, locally biased)
                           <u>gn-direct-l-rand-noscale</u> ‐ Dividing Rectangles (unscaled, locally biased, randomized)
                           <u>gn-orig-direct</u> ‐ Dividing Rectangles (original implementation)
                           <u>gn-orig-direct-l</u> ‐ Dividing Rectangles (original implementation, locally biased)
                           <u>ld-lbfgs-nocedal</u> ‐ None
                           <u>ld-lbfgs</u> ‐ Low-storage BFGS
                           <u>ln-praxis</u> ‐ Gradient-free Local Optimization via the Principal-Axis Method
                           <u>ld-var1</u> ‐ Shifted Limited-Memory Variable-Metric, Rank 1
                           <u>ld-var2</u> ‐ Shifted Limited-Memory Variable-Metric, Rank 2
                           <u>ld-tnewton</u> ‐ Truncated Newton
                           <u>ld-tnewton-restart</u> ‐ Truncated Newton with steepest-descent restarting
                           <u>ld-tnewton-precond</u> ‐ Preconditioned Truncated Newton
                           <u>ld-tnewton-precond-restart</u> ‐ Preconditioned Truncated  Newton  with  steepest-descent
                           restarting
                           <u>gn-crs2-lm</u> ‐ Controlled Random Search with Local Mutation
                           <u>ld-mma</u> ‐ Method of Moving Asymptotes
                           <u>ln-cobyla</u> ‐ Constrained Optimization BY Linear Approximation
                           <u>ln-newuoa</u>  ‐  Derivative-free  Unconstrained  Optimization by Iteratively Constructed
                           Quadratic Approximation
                           <u>ln-newuoa-bound</u>  ‐  Derivative-free  Bound-constrained  Optimization  by  Iteratively
                           Constructed Quadratic Approximation
                           <u>ln-neldermead</u> ‐ Nelder-Mead simplex algorithm
                           <u>ln-sbplx</u> ‐ Subplex variant of Nelder-Mead
                           <u>ln-bobyqa</u> ‐ Derivative-free Bound-constrained Optimization
                           <u>gn-isres</u> ‐ Improved Stochastic Ranking Evolution Strategy
                           <u>auglag</u> ‐ Augmented Lagrangian algorithm
                           <u>auglag-eq</u> ‐ Augmented Lagrangian algorithm with equality constraints only
                           <u>g-mlsl</u> ‐ Multi-Level Single-Linkage (require local optimization and bounds)
                           <u>g-mlsl-lds</u>  ‐  Multi-Level  Single-Linkage  (low-discrepancy-sequence,  require local
                           gradient based optimization and bounds)
                           <u>ld-slsqp</u> ‐ Sequential Least-Squares Quadratic Programming

                     <u>step</u> = 0; double in [0, inf)
                       Initial step size for gradient free methods.

                     <u>stop</u> = -inf; double
                       Stopping criterion: function value falls below this value.

                     <u>xtola</u> = 0; double in [0, inf)
                       Stopping criterion: the absolute change of all x-values is below  this value.

                     <u>xtolr</u> = 0; double in [0, inf)
                       Stopping criterion: the relative change of all x-values is below  this value.

</pre><h4><b>EXAMPLE</b></h4><pre>
       Register the perfusion series given in 'segment.set' by using automatic ICA estimation. Skip  two  images
       at the beginning and otherwiese use the default parameters. Store the result in 'registered.set'.

       mia-2dmyoica-nonrigid2   -i segment.set -o registered.set -k 2

</pre><h4><b>AUTHOR(s)</b></h4><pre>
       Gert Wollny

</pre><h4><b>COPYRIGHT</b></h4><pre>
       This  software is Copyright (c) 1999‐2015 Leipzig, Germany and Madrid, Spain.  It comes  with  ABSOLUTELY
       NO WARRANTY  and  you  may redistribute it under the terms of the GNU GENERAL PUBLIC  LICENSE  Version  3
       (or later). For more information run the program with the option '--copyright'.

USER COMMANDS                                        v2.4.7                            <u><a href="../man1/mia-2dmyoica-nonrigid2.1.html">mia-2dmyoica-nonrigid2</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>