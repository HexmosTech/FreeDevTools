<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>buildah-from  -  Creates  a  new  working  container, either from scratch or using a specified image as a</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/buildah">buildah_1.39.3+ds1-1syncable1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       buildah-from  -  Creates  a  new  working  container, either from scratch or using a specified image as a
       starting point.

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>buildah</b> <b>from</b> [<u>options</u>] <u>image</u>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       Creates a working container based upon the specified image name.  If the supplied image name is "scratch"
       a new empty container is created.  Image names use a "transport":"details" format.

       Multiple transports are supported:

       <b>dir:</b><u>path</u>
         An existing local directory <u>path</u> containing the manifest, layer tarballs, and signatures in  individual
       files. This is a non-standardized format, primarily useful for debugging or noninvasive image inspection.

       <b>docker://</b><u>docker-reference</u> (Default)
         An  image  in  a  registry  implementing  the  "Docker  Registry  HTTP  API  V2".  By default, uses the
       authorization state in <b>$XDG_RUNTIME_DIR/containers/auth.json</b>, which is set using  <b>(buildah</b>  <b>login)</b>.   See
       <a href="../man5/containers-auth.json.5.html">containers-auth.json</a>(5)   for   more  information.  If  the  authorization  state  is  not  found  there,
       <b>$HOME/.docker/config.json</b> is checked, which is set using <b>(docker</b> <b>login)</b>.
         If <u>docker-reference</u> does not include a registry name, <u>localhost</u> will be consulted  first,  followed  by
       any registries named in the registries configuration.

       <b>docker-archive:</b><u>path</u>
         An image is retrieved as a <b>podman</b> <b>load</b> formatted file.

       <b>docker-daemon:</b><u>docker-reference</u>
         An  image  <u>docker-reference</u>  stored  in  the  docker  daemon's internal storage.  <u>docker-reference</u> must
       include either a tag or a digest.  Alternatively, when reading images, the format  can  also  be  docker-
       daemon:algo:digest (an image ID).

       <b>oci:</b><u>path</u><b>:</b><u>tag</u>**
         An image tag in a directory compliant with "Open Container Image Layout Specification" at <u>path</u>.

       <b>oci-archive:</b><u>path</u><b>:</b><u>tag</u>
         An image <u>tag</u> in a directory compliant with "Open Container Image Layout Specification" at <u>path</u>.

   <b>DEPENDENCIES</b>
       Buildah resolves the path to the registry to pull from by using the /etc/containers/registries.conf file,
       <a href="../man5/containers-registries.conf.5.html">containers-registries.conf</a>(5).   If the <b>buildah</b> <b>from</b> command fails with an "image not known" error, first
       verify that the registries.conf file is installed and configured appropriately.

</pre><h4><b>RETURN</b> <b>VALUE</b></h4><pre>
       The container ID of the container that was created.  On error 1 is returned.

</pre><h4><b>OPTIONS</b></h4><pre>
       <b>--add-host</b>=[]

       Add a custom host-to-IP mapping (host:ip)

       Add a line to /etc/hosts. The format is hostname:ip. The <b>--add-host</b> option can be set multiple times.

       <b>--arch</b>="ARCH"

       Set the ARCH of the image to be pulled to the provided value instead of using  the  architecture  of  the
       host. (Examples: arm, arm64, 386, amd64, ppc64le, s390x)

       <b>--authfile</b> <u>path</u>

       Path  of  the  authentication  file.  Default is ${XDG_RUNTIME_DIR}/containers/auth.json. See <a href="../man5/containersauth.json.5.html">containers-</a>
       <a href="../man5/containersauth.json.5.html">auth.json</a>(5) for more information. This file is created using <b>buildah</b> <b>login</b>.

       If the authorization state is not found there, $HOME/.docker/config.json is checked, which is  set  using
       <b>docker</b> <b>login</b>.

       Note: You can also override the default path of the authentication file by setting the REGISTRY_AUTH_FILE
       environment variable. <b>export</b> <b>REGISTRY_AUTH_FILE=path</b>

       <b>--cap-add</b>=<u>CAP_xxx</u>

       Add  the  specified  capability  to the default set of capabilities which will be supplied for subsequent
       <u>buildah</u> <u>run</u> invocations which use this container.  Certain capabilities  are  granted  by  default;  this
       option can be used to add more.

       <b>--cap-drop</b>=<u>CAP_xxx</u>

       Remove  the  specified  capability  from  the  default  set  of  capabilities  which will be supplied for
       subsequent  <u>buildah</u>  <u>run</u>  invocations  which  use  this  container.   The  CAP_CHOWN,   CAP_DAC_OVERRIDE,
       CAP_FOWNER,   CAP_FSETID,  CAP_KILL,  CAP_NET_BIND_SERVICE,  CAP_SETFCAP,  CAP_SETGID,  CAP_SETPCAP,  and
       CAP_SETUID capabilities are granted by default; this option can be used  to  remove  them.  The  list  of
       default capabilities is managed in <a href="../man5/containers.conf.5.html">containers.conf</a>(5).

       If a capability is specified to both the <b>--cap-add</b> and <b>--cap-drop</b> options, it will be dropped, regardless
       of the order in which the options were given.

       <b>--cert-dir</b> <u>path</u>

       Use  certificates  at  <u>path</u>  (*.crt, *.cert, *.key) to connect to the registry.  The default certificates
       directory is <u>/etc/containers/certs.d</u>.

       <b>--cgroup-parent</b>=""

       Path to cgroups under which the cgroup for the container will be created. If the path  is  not  absolute,
       the path is considered to be relative to the cgroups path of the init process. Cgroups will be created if
       they do not already exist.

       <b>--cgroupns</b> <u>how</u>

       Sets  the  configuration for IPC namespaces when the container is subsequently used for <b>buildah</b> <b>run</b>.  The
       configured value can be "" (the empty string) or "private" to indicate that a new cgroup namespace should
       be created, or it can be "host" to indicate that the cgroup namespace in which <b>buildah</b>  itself  is  being
       run should be reused.

       <b>--cidfile</b> <u>ContainerIDFile</u>

       Write the container ID to the file.

       <b>--cpu-period</b>=<u>0</u>

       Limit the CPU CFS (Completely Fair Scheduler) period

       Limit  the container's CPU usage. This flag tells the kernel to restrict the container's CPU usage to the
       period you specify.

       <b>--cpu-quota</b>=<u>0</u>

       Limit the CPU CFS (Completely Fair Scheduler) quota

       Limit the container's CPU usage. By default, containers run with the full CPU resource. This  flag  tells
       the kernel to restrict the container's CPU usage to the quota you specify.

       <b>--cpu-shares</b>, <b>-c</b>=<u>0</u>

       CPU shares (relative weight)

       By  default,  all  containers  get  the same proportion of CPU cycles. This proportion can be modified by
       changing the container's CPU share weighting relative to the weighting of all other running containers.

       To modify the proportion from the default of 1024, use the <b>--cpu-shares</b> flag to set the weighting to 2 or
       higher.

       The proportion will only apply when CPU-intensive processes are running.  When tasks in one container are
       idle, other containers can use the left-over CPU time. The actual amount of CPU time will vary  depending
       on the number of containers running on the system.

       For  example,  consider  three  containers,  one  has a cpu-share of 1024 and two others have a cpu-share
       setting of 512. When processes in all three containers attempt to use 100% of CPU,  the  first  container
       would  receive  50%  of  the  total CPU time. If you add a fourth container with a cpu-share of 1024, the
       first container only gets 33% of the CPU. The remaining containers receive 16.5%, 16.5% and  33%  of  the
       CPU.

       On a multi-core system, the shares of CPU time are distributed over all CPU cores. Even if a container is
       limited to less than 100% of CPU time, it can use 100% of each individual CPU core.

       For  example,  consider  a system with more than three cores. If you start one container <b>{C0}</b> with <b>-c=512</b>
       running one process, and another container <b>{C1}</b> with <b>-c=1024</b> running two processes, this  can  result  in
       the following division of CPU shares:

       PID    container    CPU  CPU share
       100    {C0}         0    100% of CPU0
       101    {C1}         1    100% of CPU1
       102    {C1}         2    100% of CPU2

       <b>--cpuset-cpus</b>=""

       CPUs in which to allow execution (0-3, 0,1)

       <b>--cpuset-mems</b>=""

       Memory nodes (MEMs) in which to allow execution (0-3, 0,1). Only effective on NUMA systems.

       If  you  have  four  memory  nodes  on  your  system  (0-3), use <b>--cpuset-mems=0,1</b> then processes in your
       container will only use memory from the first two memory nodes.

       <b>--creds</b> <u>creds</u>

       The [username[:password]] to use to authenticate with the registry if required.  If one  or  both  values
       are  not  supplied,  a  command  line  prompt  will appear and the value can be entered.  The password is
       entered without echo.

       <b>--decryption-key</b> <u>key[:passphrase]</u>

       The [key[:passphrase]] to be used for decryption of images. Key can point to  keys  and/or  certificates.
       Decryption  will  be  tried  with all keys. If the key is protected by a passphrase, it is required to be
       passed in the argument and omitted otherwise.

       <b>--device</b>=<u>device</u>

       Add a host device, or devices under a directory, to the environment of subsequent <b>buildah</b> <b>run</b> invocations
       for the new working container.  The  optional  <u>permissions</u>  parameter  can  be  used  to  specify  device
       permissions, using any one or more of <b>r</b> for read, <b>w</b> for write, and <b>m</b> for <b><a href="../man2/mknod.2.html">mknod</a></b>(2).

       Example: <b>--device=/dev/sdc:/dev/xvdc:rwm</b>.

       Note:  if  <u>host-device</u>  is a symbolic link then it will be resolved first.  The container will only store
       the major and minor numbers of the host device.

       The device to share can also  be  specified  using  a  Container  Device  Interface  (CDI)  specification
       (https://github.com/cncf-tags/container-device-interface).

       Note:  if  the  user  only  has  access  rights  via a group, accessing the device from inside a rootless
       container will fail. The <b><a href="../man1/crun.1.html">crun</a></b>(1) runtime offers a workaround for this by adding the  option  <b>--annotation</b>
       <b>run.oci.keep_original_groups=1</b>.

       <b>--dns</b>=[]

       Set custom DNS servers

       This  option  can  be  used  to override the DNS configuration passed to the container. Typically this is
       necessary when the host DNS configuration is invalid for the container (e.g., 127.0.0.1).  When  this  is
       the case the <b>--dns</b> flag is necessary for every run.

       The  special  value  <b>none</b>  can  be  specified to disable creation of <a href="file:/etc/resolv.conf">/etc/resolv.conf</a> in the container by
       Buildah. The <a href="file:/etc/resolv.conf">/etc/resolv.conf</a> file in the image will be used without changes.

       <b>--dns-option</b>=[]

       Set custom DNS options

       <b>--dns-search</b>=[]

       Set custom DNS search domains

       <b>--format</b>, <b>-f</b> <u>oci</u> | <u>docker</u>

       Control the format for the built image's manifest and configuration data.  Recognized formats include <u>oci</u>
       (OCI image-spec v1.0, the default) and <u>docker</u> (version 2, using schema format 2 for the manifest).

       Note: You can also override the default  format  by  setting  the  BUILDAH_FORMAT  environment  variable.
       <b>export</b> <b>BUILDAH_FORMAT=docker</b>

       <b>--group-add</b>=<u>group</u> | <u>keep-groups</u>

       Assign additional groups to the primary user running within the container process.

              • <b>keep-groups</b> is a special flag that tells Buildah to keep the supplementary group access.

       Allows  container  to  use  the  user's  supplementary  group access. If file systems or devices are only
       accessible by the rootless user's group, this flag tells the OCI runtime to pass the  group  access  into
       the  container. Currently only available with the <b>crun</b> OCI runtime. Note: <b>keep-groups</b> is exclusive, other
       groups cannot be specified with this flag.

       <b>--http-proxy</b>

       By default proxy environment variables are passed into the container if  set  for  the  Buildah  process.
       This  can  be  disabled by setting the <b>--http-proxy</b> option to <b>false</b>.  The environment variables passed in
       include <b>http_proxy</b>, <b>https_proxy</b>, <b>ftp_proxy</b>, <b>no_proxy</b>, and also the upper case versions of those.

       Defaults to <b>true</b>

       <b>--ipc</b> <u>how</u>

       Sets the configuration for IPC namespaces when the container is subsequently used for <b>buildah</b>  <b>run</b>.   The
       configured  value can be "" (the empty string) or "container" to indicate that a new IPC namespace should
       be created, or it can be "host" to indicate that the IPC namespace in which <b>Buildah</b> itself is  being  run
       should be reused, or it can be the path to an IPC namespace which is already in use by another process.

       <b>--isolation</b> <u>type</u>

       Controls  what  type  of  isolation  is  used  for running processes under <b>buildah</b> <b>run</b>.  Recognized types
       include <u>oci</u> (OCI-compatible runtime, the default),  <u>rootless</u>  (OCI-compatible  runtime  invoked  using  a
       modified  configuration, with <u>--no-new-keyring</u> added to its <u>create</u> invocation, reusing the host's network
       and UTS namespaces, and  creating  private  IPC,  PID,  mount,  and  user  namespaces;  the  default  for
       unprivileged  users),  and  <u>chroot</u>  (an  internal wrapper that leans more toward <a href="../man1/chroot.1.html">chroot</a>(1) than container
       technology, reusing the host's control group, network, IPC, and  PID  namespaces,  and  creating  private
       mount and UTS namespaces, and creating user namespaces only when they're required for ID mapping).

       Note:  You  can  also  override  the  default isolation type by setting the BUILDAH_ISOLATION environment
       variable.  <b>export</b> <b>BUILDAH_ISOLATION=oci</b>

       <b>--memory</b>, <b>-m</b>=""

       Memory limit (format: [], where unit = b, k, m or g)

       Allows you to constrain the memory available to a container. If the host supports swap memory,  then  the
       <b>-m</b>  memory  setting  can  be  larger  than physical RAM. If a limit of 0 is specified (not using <b>-m</b>), the
       container's memory is not limited. The actual limit may be rounded up to  a  multiple  of  the  operating
       system's page size (the value would be very large, that's millions of trillions).

       <b>--memory-swap</b>="LIMIT"

       A limit value equal to memory plus swap. Must be used with the  <b>-m</b> (<b>--memory</b>) flag. The swap <b>LIMIT</b> should
       always be larger than <b>-m</b> (<b>--memory</b>) value.  By default, the swap <b>LIMIT</b> will be set to double the value of
       --memory.

       The  format  of  <b>LIMIT</b>  is  <b>&lt;number&gt;[&lt;unit&gt;]</b>.  Unit  can be <b>b</b> (bytes), <b>k</b> (kilobytes), <b>m</b> (megabytes), or <b>g</b>
       (gigabytes). If you don't specify a unit, <b>b</b> is used. Set LIMIT to <b>-1</b> to enable unlimited swap.

       <b>--name</b> <u>name</u>

       A <u>name</u> for the working container

       <b>--network</b>=<u>mode</u>, <b>--net</b>=<u>mode</u>

       Sets the configuration for network namespaces when the container is subsequently used for <b>buildah</b> <b>run</b>.

       Valid <u>mode</u> values are:

              • <b>none</b>: no networking. Invalid if using <b>--dns</b>, <b>--dns-opt</b>, or <b>--dns-search</b>;

              • <b>host</b>: use the host network stack. Note: the host mode gives the container full access  to  local
                system services such as D-bus and is therefore considered insecure;

              • <b>ns:</b><u>path</u>: path to a network namespace to join;

              • <b>private</b>: create a new namespace for the container (default)

              • <b>&lt;network</b>  <b>name|ID&gt;</b>: Join the network with the given name or ID, e.g. use <b>--network</b> <b>mynet</b> to join
                the network with the name mynet. Only supported for rootful users.

              • <b>slirp4netns[:OPTIONS,...]</b>: use <b><a href="../man1/slirp4netns.1.html">slirp4netns</a></b>(1) to create  a  user  network  stack.  This  is  the
                default  for  rootless  containers. It is possible to specify these additional options, they can
                also be set with <b>network_cmd_options</b> in containers.conf:

                • <b>allow_host_loopback=true|false</b>: Allow slirp4netns to reach the host loopback  IP  (default  is
                  10.0.2.2  or  the  second  IP  from  slirp4netns cidr subnet when changed, see the cidr option
                  below). The default is false.

                • <b>mtu=MTU</b>: Specify the MTU to use for this network. (Default is <b>65520</b>).

                • <b>cidr=CIDR</b>: Specify ip range to use for this network. (Default is <b>10.0.2.0/24</b>).

                • <b>enable_ipv6=true|false</b>: Enable IPv6. Default is true. (Required for <b>outbound_addr6</b>).

                • <b>outbound_addr=INTERFACE</b>: Specify the outbound interface slirp binds to (ipv4 traffic only).

                • <b>outbound_addr=IPv4</b>: Specify the outbound ipv4 address slirp binds to.

                • <b>outbound_addr6=INTERFACE</b>: Specify the outbound interface slirp binds to (ipv6 traffic only).

                • <b>outbound_addr6=IPv6</b>: Specify the outbound ipv6 address slirp binds to.

              • <b>pasta[:OPTIONS,...]</b>: use <b><a href="../man1/pasta.1.html">pasta</a></b>(1) to create a user-mode networking stack.
                This is only supported in rootless mode.
                By default, IPv4 and IPv6 addresses and routes, as well as the pod interface  name,  are  copied
                from  the host. If port forwarding isn't configured, ports are forwarded dynamically as services
                are bound on either side (init namespace or container namespace). Port forwarding preserves  the
                original  source  IP  address. Options described in <a href="../man1/pasta.1.html">pasta</a>(1) can be specified as comma-separated
                arguments.
                In terms of <a href="../man1/pasta.1.html">pasta</a>(1) options, <b>--config-net</b> is given by default, in order to configure networking
                when the container is started, and <b>--no-map-gw</b> is also  assumed  by  default,  to  avoid  direct
                access from container to host using the gateway address. The latter can be overridden by passing
                <b>--map-gw</b> in the pasta-specific options (despite not being an actual <a href="../man1/pasta.1.html">pasta</a>(1) option).
                Also,  <b>-t</b> <b>none</b> and <b>-u</b> <b>none</b> are passed to disable automatic port forwarding based on bound ports.
                Similarly, <b>-T</b> <b>none</b> and <b>-U</b> <b>none</b> are given to disable the same  functionality  from  container  to
                host.
                Some examples:

                • <b>pasta:--map-gw</b>: Allow the container to directly reach the host using the gateway address.

                • <b>pasta:--mtu,1500</b>: Specify a 1500 bytes MTU for the <u>tap</u> interface in the container.

                • <b>pasta:--ipv4-only,-a,10.0.2.0,-n,24,-g,10.0.2.2,--dns-forward,10.0.2.3,-m,1500,--no-ndp,--no-</b>
                  <b>dhcpv6,--no-dhcp</b>,   equivalent   to  default  <a href="../man1/slirp4netns.1.html">slirp4netns</a>(1)  options:  disable  IPv6,  assign
                  <b>10.0.2.0/24</b> to the <b>tap0</b>  interface  in  the  container,  with  gateway  <b>10.0.2.3</b>,  enable  DNS
                  forwarder reachable at <b>10.0.2.3</b>, set MTU to 1500 bytes, disable NDP, DHCPv6 and DHCP support.

                • <b>pasta:-I,tap0,--ipv4-only,-a,10.0.2.0,-n,24,-g,10.0.2.2,--dns-forward,10.0.2.3,--no-ndp,--no-</b>
                  <b>dhcpv6,--no-dhcp</b>,  equivalent to default <a href="../man1/slirp4netns.1.html">slirp4netns</a>(1) options with Podman overrides: same as
                  above, but leave the MTU to 65520 bytes

                • <b>pasta:-t,auto,-u,auto,-T,auto,-U,auto</b>: enable automatic  port  forwarding  based  on  observed
                  bound ports from both host and container sides

                • <b>pasta:-T,5201</b>:  enable  forwarding of TCP port 5201 from container to host, using the loopback
                  interface instead of the tap interface for improved performance

       <b>--os</b>="OS"

       Set the OS of the image to be pulled to the provided value instead of using the current operating  system
       of the host.

       <b>--pid</b> <u>how</u>

       Sets  the  configuration for PID namespaces when the container is subsequently used for <b>buildah</b> <b>run</b>.  The
       configured value can be "" (the empty string) or "container" to indicate that a new PID namespace  should
       be  created,  or it can be "host" to indicate that the PID namespace in which <b>Buildah</b> itself is being run
       should be reused, or it can be the path to a PID namespace which is already in use by another process.

       <b>--platform</b>="OS/ARCH[/VARIANT]"

       Set the OS/ARCH of the image to be pulled to the provided value instead of using  the  current  operating
       system and architecture of the host (for example <b>linux/arm</b>).

       OS/ARCH  pairs  are  those  used  by  the Go Programming Language.  In several cases the ARCH value for a
       platform differs from one produced by other tools such as the <b>arch</b> command.  Valid  OS  and  architecture
       name      combinations      are     listed     as     values     for     $GOOS     and     $GOARCH     at
       https://golang.org/doc/install/source#environment, and can also be found by running <b>go</b> <b>tool</b> <b>dist</b> <b>list</b>.

       While <b>buildah</b> <b>from</b> is happy to pull an image for any platform that exists, <b>buildah</b> <b>run</b> will not  be  able
       to run binaries provided by that image without the help of emulation provided by packages like <b>qemu-user-</b>
       <b>static</b>.

       <b>NOTE:</b> The <b>--platform</b> option may not be used in combination with the <b>--arch</b>, <b>--os</b>, or <b>--variant</b> options.

       <b>--pull</b>

       Pull image policy. The default is <b>missing</b>.

              • <b>always</b>:  Pull base and SBOM scanner images from the registries listed in registries.conf.  Raise
                an error if a base or SBOM scanner image is not found in the registries, even if an  image  with
                the same name is present locally.

              • <b>missing</b>:  SBOM  scanner  images only if they could not be found in the local containers storage.
                Raise an error if no image could be found and the pull fails.

              • <b>never</b>: Do not pull base and SBOM scanner images from registries, use only  the  local  versions.
                Raise an error if the image is not present locally.

              • <b>newer</b>: Pull base and SBOM scanner images from the registries listed in registries.conf if newer.
                Raise  an  error  if a base or SBOM scanner image is not found in the registries when image with
                the same name is not present locally.

       <b>--quiet</b>, <b>-q</b>

       If an image needs to be pulled from the registry, suppress progress output.

       <b>--retry</b> <u>attempts</u>

       Number of times to retry in case of failure when performing pull of images from registry.

       Defaults to <b>3</b>.

       <b>--retry-delay</b> <u>duration</u>

       Duration of delay between retry attempts in case of failure when performing pull of images from registry.

       Defaults to <b>2s</b>.

       <b>--security-opt</b>=[]

       Security Options

       "label=user:USER"   : Set the label user for the container
         "label=role:ROLE"   : Set the label role for the container
         "label=type:TYPE"   : Set the label type for the container
         "label=level:LEVEL" : Set the label level for the container
         "label=disable"     : Turn off label confinement for the container
         "no-new-privileges" : Not supported

       "seccomp=unconfined" : Turn off seccomp confinement for the container
         "seccomp=profile.json :  White listed syscalls seccomp Json file to be used as a seccomp filter

       "apparmor=unconfined" : Turn off apparmor confinement for the container
         "apparmor=your-profile" : Set the apparmor confinement profile for the container

       <b>--shm-size</b>=""

       Size of <b><a href="file:/dev/shm">/dev/shm</a></b>. The format is <b>&lt;number&gt;&lt;unit&gt;</b>. <b>number</b> must be greater than <b>0</b>.  Unit is optional and  can
       be  <b>b</b>  (bytes),  <b>k</b>  (kilobytes),  <b><a href="../manmegabytes/m.megabytes.html">m</a></b>(megabytes),  or <b>g</b> (gigabytes).  If you omit the unit, the system uses
       bytes. If you omit the size entirely, the system uses <b>64m</b>.

       <b>--tls-verify</b> <u>bool-value</u>

       Require HTTPS and verification of certificates when talking to container registries (defaults  to  true).
       TLS verification cannot be used when talking to an insecure registry.

       <b>--ulimit</b> <u>type</u>=<u>soft-limit</u>[:<u>hard-limit</u>]

       Specifies  resource  limits  to  apply  to  processes  launched  during  <b>buildah</b> <b>run</b>.  This option can be
       specified multiple times.  Recognized resource types include:
         "core": maximum core dump size (ulimit -c)
         "cpu": maximum CPU time (ulimit -t)
         "data": maximum size of a process's data segment (ulimit -d)
         "fsize": maximum size of new files (ulimit -f)
         "locks": maximum number of file locks (ulimit -x)
         "memlock": maximum amount of locked memory (ulimit -l)
         "msgqueue": maximum amount of data in message queues (ulimit -q)
         "nice": niceness adjustment (nice -n, ulimit -e)
         "nofile": maximum number of open files (ulimit -n)
         "nofile": maximum number of open files (1048576); when run by root
         "nproc": maximum number of processes (ulimit -u)
         "nproc": maximum number of processes (1048576); when run by root
         "rss": maximum size of a process's (ulimit -m)
         "rtprio": maximum real-time scheduling priority (ulimit -r)
         "rttime": maximum amount of real-time execution between blocking syscalls
         "sigpending": maximum number of pending signals (ulimit -i)
         "stack": maximum stack size (ulimit -s)

       <b>--userns</b> <u>how</u>

       Sets the configuration for user namespaces when the container is subsequently used for <b>buildah</b> <b>run</b>.   The
       configured value can be "" (the empty string) or "container" to indicate that a new user namespace should
       be  created,  it  can  be "host" to indicate that the user namespace in which <b>Buildah</b> itself is being run
       should be reused, or it can be the path to an user namespace which is already in use by another process.

       <b>--userns-gid-map</b> <u>mapping</u>

       Directly specifies a GID mapping which should be used to set ownership, at the filesystem level,  on  the
       working  container's  contents.  Commands run when handling <b>RUN</b> instructions will default to being run in
       their own user namespaces, configured using the UID and GID maps.

       Entries in this map take the form of one or more colon-separated triples of a starting in-container  GID,
       a  corresponding  starting  host-level  GID,  and  the  number  of  consecutive  IDs  which the map entry
       represents.

       This option overrides the <u>remap-gids</u> setting in the <u>options</u> section of /etc/containers/storage.conf.

       If this option is not specified, but a global --userns-gid-map setting is  supplied,  settings  from  the
       global option will be used.

       <b>--userns-gid-map-group</b> <u>mapping</u>

       Directly  specifies  a GID mapping which should be used to set ownership, at the filesystem level, on the
       container's contents.  Commands run using <b>buildah</b> <b>run</b> will  default  to  being  run  in  their  own  user
       namespaces, configured using the UID and GID maps.

       Entries  in this map take the form of one or more triples of a starting in-container GID, a corresponding
       starting host-level GID, and the number of consecutive IDs which the map entry represents.

       This option overrides the <u>remap-gids</u> setting in the <u>options</u> section of /etc/containers/storage.conf.

       If this option is not specified, but a global --userns-gid-map setting is  supplied,  settings  from  the
       global option will be used.

       If  none  of  --userns-uid-map-user,  --userns-gid-map-group,  or  --userns-gid-map  are  specified,  but
       --userns-uid-map is specified, the GID map will be set to use the same numeric values as the UID map.

       <b>NOTE:</b> When this option is specified by a rootless user,  the  specified  mappings  are  relative  to  the
       rootless  usernamespace  in the container, rather than being relative to the host as it would be when run
       rootful.

       <b>--userns-gid-map-group</b> <u>group</u>

       Specifies that a GID mapping which should be used to set ownership,  at  the  filesystem  level,  on  the
       container's  contents,  can be found in entries in the <b><a href="file:/etc/subgid">/etc/subgid</a></b> file which correspond to the specified
       group.  Commands run using <b>buildah</b> <b>run</b> will default to being run in their own user namespaces, configured
       using the UID and GID maps.  If --userns-uid-map-user is specified,  but  --userns-gid-map-group  is  not
       specified,  <b>Buildah</b>  will assume that the specified user name is also a suitable group name to use as the
       default setting for this option.

       <b>--userns-uid-map</b> <u>mapping</u>

       Directly specifies a UID mapping which should be used to set ownership, at the filesystem level,  on  the
       working  container's  contents.  Commands run when handling <b>RUN</b> instructions will default to being run in
       their own user namespaces, configured using the UID and GID maps.

       Entries in this map take the form of one or more colon-separated triples of a starting in-container  UID,
       a  corresponding  starting  host-level  UID,  and  the  number  of  consecutive  IDs  which the map entry
       represents.

       This option overrides the <u>remap-uids</u> setting in the <u>options</u> section of /etc/containers/storage.conf.

       If this option is not specified, but a global --userns-uid-map setting is  supplied,  settings  from  the
       global option will be used.

       <b>--userns-uid-map-user</b> <u>mapping</u>

       Directly  specifies  a UID mapping which should be used to set ownership, at the filesystem level, on the
       container's contents.  Commands run using <b>buildah</b> <b>run</b> will  default  to  being  run  in  their  own  user
       namespaces, configured using the UID and GID maps.

       Entries  in this map take the form of one or more triples of a starting in-container UID, a corresponding
       starting host-level UID, and the number of consecutive IDs which the map entry represents.

       This option overrides the <u>remap-uids</u> setting in the <u>options</u> section of /etc/containers/storage.conf.

       If this option is not specified, but a global --userns-uid-map setting is  supplied,  settings  from  the
       global option will be used.

       If  none  of  --userns-uid-map-user,  --userns-gid-map-group,  or  --userns-uid-map  are  specified,  but
       --userns-gid-map is specified, the UID map will be set to use the same numeric values as the GID map.

       <b>NOTE:</b> When this option is specified by a rootless user,  the  specified  mappings  are  relative  to  the
       rootless  usernamespace  in the container, rather than being relative to the host as it would be when run
       rootful.

       <b>--userns-uid-map-user</b> <u>user</u>

       Specifies that a UID mapping which should be used to set ownership,  at  the  filesystem  level,  on  the
       container's  contents,  can be found in entries in the <b><a href="file:/etc/subuid">/etc/subuid</a></b> file which correspond to the specified
       user.  Commands run using <b>buildah</b> <b>run</b> will default to being run in their own user namespaces,  configured
       using  the  UID  and  GID maps.  If --userns-gid-map-group is specified, but --userns-uid-map-user is not
       specified, <b>Buildah</b> will assume that the specified group name is also a suitable user name to use  as  the
       default setting for this option.

       <b>--uts</b> <u>how</u>

       Sets  the  configuration for UTS namespaces when the container is subsequently used for <b>buildah</b> <b>run</b>.  The
       configured value can be "" (the empty string) or "container" to indicate that a new UTS namespace  should
       be  created,  or it can be "host" to indicate that the UTS namespace in which <b>Buildah</b> itself is being run
       should be reused, or it can be the path to a UTS namespace which is already in use by another process.

       <b>--variant</b>=""

       Set the architecture variant of the image to be pulled.

       <b>--volume</b>, <b>-v</b>[=<u>[HOST-DIR:CONTAINER-DIR[:OPTIONS]]</u>]

       Create a bind mount. If you specify, <b>-v</b> <b>/HOST-DIR:/CONTAINER-DIR</b>, Buildah
          bind mounts <b>/HOST-DIR</b> in the host to <b>/CONTAINER-DIR</b> in the Buildah
          container. The <b>OPTIONS</b> are a comma delimited list and can be:

              • [rw|ro]

              • [U]

              • [z|Z|O]

              • [<b>[r]shared</b>|<b>[r]slave</b>|<b>[r]private</b>|<b>[r]unbindable</b>] [1] ⟨#Footnote1⟩

       The <b>CONTAINER-DIR</b> must be an absolute path such as <b>/src/docs</b>. The <b>HOST-DIR</b> must be an  absolute  path  as
       well.  Buildah  bind-mounts  the <b>HOST-DIR</b> to the path you specify. For example, if you supply <b>/foo</b> as the
       host path, Buildah copies the contents of <b>/foo</b> to the container filesystem on the host  and  bind  mounts
       that into the container.

       You can specify multiple  <b>-v</b> options to mount one or more mounts to a container.

       <b>Write</b> <b>Protected</b> <b>Volume</b> <b>Mounts</b>

       You  can add the <b>:ro</b> or <b>:rw</b> suffix to a volume to mount it read-only or read-write mode, respectively. By
       default, the volumes are mounted read-write.  See examples.

       <b>Chowning</b> <b>Volume</b> <b>Mounts</b>

       By default, Buildah does not change the owner  and  group  of  source  volume  directories  mounted  into
       containers.  If  a  container  is  created  in a new user namespace, the UID and GID in the container may
       correspond to another UID and GID on the host.

       The <b>:U</b> suffix tells Buildah to use the correct host UID and GID based on  the  UID  and  GID  within  the
       container, to change the owner and group of the source volume.

       <b>Labeling</b> <b>Volume</b> <b>Mounts</b>

       Labeling  systems  like  SELinux  require  that proper labels are placed on volume content mounted into a
       container. Without a label, the security system might prevent the processes running inside the  container
       from using the content. By default, Buildah does not change the labels set by the OS.

       To  change  a  label  in the container context, you can add either of two suffixes <b>:z</b> or <b>:Z</b> to the volume
       mount. These suffixes tell Buildah to relabel file objects on the shared  volumes.  The  <b>z</b>  option  tells
       Buildah  that  two  containers  share  the volume content. As a result, Buildah labels the content with a
       shared content label. Shared volume labels allow all containers to  read/write  content.   The  <b>Z</b>  option
       tells  Buildah  to label the content with a private unshared label.  Only the current container can use a
       private volume.

       <b>Overlay</b> <b>Volume</b> <b>Mounts</b>

       The <b>:O</b> flag tells Buildah to mount the directory from the host as a temporary storage using  the  Overlay
       file  system.  The  <b>RUN</b>  command  containers are allowed to modify contents within the mountpoint and are
       stored in the container storage in a separate directory.  In Overlay FS terms the source  directory  will
       be the lower, and the container storage directory will be the upper. Modifications to the mount point are
       destroyed when the <b>RUN</b> command finishes executing, similar to a tmpfs mount point.

       Any  subsequent  execution  of  <b>RUN</b> commands sees the original source directory content, any changes from
       previous RUN commands no longer exist.

       One use case of the <b>overlay</b> mount is sharing the package cache from the host into the container to  allow
       speeding up builds.

       Note:

              • The  <b>O</b>  flag  is  not  allowed  to  be specified with the <b>Z</b> or <b>z</b> flags. Content mounted into the
                container is labeled with the private label.
                   On SELinux systems, labels in the source directory need  to  be  readable  by  the  container
                label. If not, SELinux container separation must be disabled for the container to work.

              • Modification  of the directory volume mounted into the container with an overlay mount can cause
                unexpected failures.  It is recommended that you do not modify the directory until the container
                finishes running.

       By default bind mounted volumes are <b>private</b>. That means any mounts done  inside  container  will  not  be
       visible on the host and vice versa. This behavior can be changed by specifying a volume mount propagation
       property.

       When  the  mount  propagation  policy is set to <b>shared</b>, any mounts completed inside the container on that
       volume will be visible to both the host and container. When the mount propagation policy is set to <b>slave</b>,
       one way mount propagation is enabled and any mounts completed on the host for that volume will be visible
       only inside of the container.   To  control  the  mount  propagation  property  of  the  volume  use  the
       <b>:[r]shared</b>,  <b>:[r]slave</b>,  <b>[r]private</b>  or  <b>[r]unbindable</b>propagation  flag.  The propagation property can be
       specified only for bind mounted volumes and  not  for  internal  volumes  or  named  volumes.  For  mount
       propagation  to work on the source mount point (the mount point where source dir is mounted on) it has to
       have the right propagation properties. For shared volumes, the source mount point has to be  shared.  And
       for slave volumes, the source mount has to be either shared or slave. [1] ⟨#Footnote1⟩

       Use  <b>df</b>  <b>&lt;source-dir&gt;</b>  to  determine the source mount and then use <b>findmnt</b> <b>-o</b> <b>TARGET,PROPAGATION</b> <b>&lt;source-</b>
       <b>mount-dir&gt;</b> to determine propagation properties of source mount, if <b>findmnt</b> utility is not available,  the
       source  mount  point  can  be  determined  by looking at the mount entry in <b><a href="file:/proc/self/mountinfo">/proc/self/mountinfo</a></b>. Look at
       <b>optional</b> <b>fields</b> and see if any propagation properties are specified.  <b>shared:X</b> means the mount is <b>shared</b>,
       <b>master:X</b> means the mount is <b>slave</b> and  if  nothing  is  there  that  means  the  mount  is  <b>private</b>.  [1]
       ⟨#Footnote1⟩

       To  change  propagation properties of a mount point use the <b>mount</b> command. For example, to bind mount the
       source directory <b>/foo</b> do <b>mount</b> <b>--bind</b> <b>/foo</b> <b>/foo</b> and <b>mount</b> <b>--make-private</b> <b>--make-shared</b>  <b>/foo</b>.  This  will
       convert  /foo  into  a <b>shared</b> mount point.  The propagation properties of the source mount can be changed
       directly. For instance if <b>/</b> is the source mount for <b>/foo</b>, then use <b>mount</b> <b>--make-shared</b>  <b>/</b>  to  convert  <b>/</b>
       into a <b>shared</b> mount.

</pre><h4><b>EXAMPLE</b></h4><pre>
       buildah from --pull imagename

       buildah from --pull docker://myregistry.example.com/imagename

       buildah from docker-daemon:imagename:imagetag

       buildah from --name mycontainer docker-archive:filename

       buildah from oci-archive:filename

       buildah from --name mycontainer dir:directoryname

       buildah from --pull-always --name "mycontainer" myregistry.example.com/imagename

       buildah from --tls-verify=false myregistry/myrepository/imagename:imagetag

       buildah from --creds=myusername:mypassword --cert-dir <a href="file:~/auth">~/auth</a> myregistry/myrepository/imagename:imagetag

       buildah from --authfile=/tmp/auths/myauths.json myregistry/myrepository/imagename:imagetag

       buildah  from  --memory  40m  --cpu-shares  2  --cpuset-cpus  0,2 --security-opt label=level:s0:c100,c200
       myregistry/myrepository/imagename:imagetag

       buildah      from      --ulimit       nofile=1024:1028       --cgroup-parent       /path/to/cgroup/parent
       myregistry/myrepository/imagename:imagetag

       buildah from --volume /home/test:/myvol:ro,Z myregistry/myrepository/imagename:imagetag

       buildah from -v /home/test:/myvol:z,U myregistry/myrepository/imagename:imagetag

       buildah from -v /var/lib/yum:/var/lib/yum:O myregistry/myrepository/imagename:imagetag

       buildah from --arch=arm --variant v7 myregistry/myrepository/imagename:imagetag

</pre><h4><b>ENVIRONMENT</b></h4><pre>
       <b>BUILD_REGISTRY_SOURCES</b>

       BUILD_REGISTRY_SOURCES,  if set, is treated as a JSON object which contains lists of registry names under
       the keys <b>insecureRegistries</b>, <b>blockedRegistries</b>, and <b>allowedRegistries</b>.

       When pulling an image from a registry, if the name of the registry  matches  any  of  the  items  in  the
       <b>blockedRegistries</b>   list,   the   image  pull  attempt  is  denied.   If  there  are  registries  in  the
       <b>allowedRegistries</b> list, and the registry's name is not in the list, the pull attempt is denied.

       <b>TMPDIR</b> The TMPDIR environment variable allows the user to specify where temporary files are stored  while
       pulling and pushing images.  Defaults to '<a href="file:/var/tmp">/var/tmp</a>'.

</pre><h4><b>FILES</b></h4><pre>
       <b>registries.conf</b> (<b>/etc/containers/registries.conf</b>)

       registries.conf  is the configuration file which specifies which container registries should be consulted
       when completing image names which do not include a registry or domain portion.

       <b>policy.json</b> (<b>/etc/containers/policy.json</b>)

       Signature policy file.  This defines the trust policy for container  images.   Controls  which  container
       registries can be used for image, and whether or not the tool should trust the images.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <a href="../man1/buildah.1.html">buildah</a>(1),   <a href="../man1/buildah-pull.1.html">buildah-pull</a>(1),   <a href="../man1/buildah-login.1.html">buildah-login</a>(1),   <a href="../man1/docker-login.1.html">docker-login</a>(1),  <a href="../man7/namespaces.7.html">namespaces</a>(7),  <a href="../man7/pid_namespaces.7.html">pid_namespaces</a>(7),
       <a href="../man5/containers-policy.json.5.html">containers-policy.json</a>(5),   <a href="../man5/containers-registries.conf.5.html">containers-registries.conf</a>(5),    <a href="../man7/user_namespaces.7.html">user_namespaces</a>(7),    <a href="../man5/containers.conf.5.html">containers.conf</a>(5),
       <a href="../man5/containers-auth.json.5.html">containers-auth.json</a>(5)

</pre><h4><b>FOOTNOTES</b></h4><pre>
       1:  The  Buildah  project  is committed to inclusivity, a core value of open source. The <b>master</b> and <b>slave</b>
       mount propagation terminology used here is problematic and divisive,  and  should  be  changed.  However,
       these  terms  are  currently  used  within the Linux kernel and must be used as-is at this time. When the
       kernel maintainers rectify this usage, Buildah will follow suit immediately.

buildah                                            March 2017                                    <u><a href="../man1/buildah-from.1.html">buildah-from</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>