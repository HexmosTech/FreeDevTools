<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>podman-commit - Create new image based on the changed container</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/podman">podman_5.4.1+ds1-1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       podman-commit - Create new image based on the changed container

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>podman</b> <b>commit</b> [<u>options</u>] <u>container</u> [<u>image</u>]

       <b>podman</b> <b>container</b> <b>commit</b> [<u>options</u>] <u>container</u> [<u>image</u>]

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>podman</b> <b>commit</b> creates an image based on a changed <u>container</u>. The author of the image can be set using the
       <b>--author</b>  OPTION.  Various  image  instructions  can  be configured with the <b>--change</b> OPTION and a commit
       message can be set using the <b>--message</b> OPTION. The <u>container</u> and its processes aren't  paused  while  the
       image  is  committed.  If  this is not desired, the <b>--pause</b> OPTION can be set to <u>true</u>. When the commit is
       complete, Podman prints out the ID of the new image.

       If <b>image</b> does not begin with a registry name component, <b>localhost</b> is added to the name.  If <b>image</b> is  not
       provided, the values for the <b>REPOSITORY</b> and <b>TAG</b> values of the created image is set to <b>&lt;none&gt;</b>.

</pre><h4><b>OPTIONS</b></h4><pre>
   <b>--author,</b> <b>-a=</b><u><b>author</b></u>
       Set the author for the committed image.

   <b>--change,</b> <b>-c=</b><u><b>instruction</b></u>
       Apply the following possible instructions to the created image:

              • <u>CMD</u>

              • <u>ENTRYPOINT</u>

              • <u>ENV</u>

              • <u>EXPOSE</u>

              • <u>LABEL</u>

              • <u>ONBUILD</u>

              • <u>STOPSIGNAL</u>

              • <u>USER</u>

              • <u>VOLUME</u>

              • <u>WORKDIR</u>

       Can be set multiple times.

   <b>--config=</b><u><b>ConfigBlobFile</b></u>
       Merge  the  container configuration from the specified file into the configuration for the image as it is
       being committed. The file contents should be a JSON-encoded version of a Schema2Config  structure,  which
       is defined at https://github.com/containers/image/blob/v5.29.0/manifest/docker_schema2.go#L67.

   <b>--format,</b> <b>-f=oci</b> <b>|</b> <u><b>docker</b></u>
       Set the format of the image manifest and metadata.  The currently supported formats are <b>oci</b> and <u>docker</u>.
       The default is <b>oci</b>.

   <b>--iidfile=</b><u><b>ImageIDfile</b></u>
       Write the image ID to the file.

   <b>--include-volumes</b>
       Include  in  the committed image any volumes added to the container by the <b>--volume</b> or <b>--mount</b> OPTIONS to
       the <b>podman</b> <b>create</b> and <b>podman</b> <b>run</b> commands.
       The default is <b>false</b>.

   <b>--message,</b> <b>-m=</b><u><b>message</b></u>
       Set commit message for committed image.
       <u>IMPORTANT:</u> <u>The</u> <u>message</u> <u>field</u> <u>is</u> <u>not</u> <u>supported</u> <u>in</u> <b>oci</b> format.

   <b>--pause,</b> <b>-p</b>
       Pause the container when creating an image.
       The default is <b>false</b>.

   <b>--quiet,</b> <b>-q</b>
       Suppresses output.
       The default is <b>false</b>.

   <b>--squash,</b> <b>-s</b>
       Squash newly built layers into a single new layer.
       The default is <b>false</b>.

</pre><h4><b>EXAMPLES</b></h4><pre>
       Create image from container with entrypoint and label:

       $ podman commit --change CMD=<a href="file:/bin/bash">/bin/bash</a> --change ENTRYPOINT=<a href="file:/bin/sh">/bin/sh</a> --change "LABEL blue=image" reverent_golick image-committed
       Getting image source signatures
       Copying blob sha256:b41deda5a2feb1f03a5c1bb38c598cbc12c9ccd675f438edc6acd815f7585b86
        25.80 MB / 25.80 MB [======================================================] 0s
       Copying config sha256:c16a6d30f3782288ec4e7521c754acc29d37155629cb39149756f486dae2d4cd
        448 B / 448 B [============================================================] 0s
       Writing manifest to image destination
       Storing signatures
       e3ce4d93051ceea088d1c242624d659be32cf1667ef62f1d16d6b60193e2c7a8

       Create image from container with commit message:

       $ podman commit -q --message "committing container to image"
       reverent_golick image-committed
       e3ce4d93051ceea088d1c242624d659be32cf1667ef62f1d16d6b60193e2c7a8

       Create image from container with author:

       $ podman commit -q --author "firstName lastName" reverent_golick image-committed
       e3ce4d93051ceea088d1c242624d659be32cf1667ef62f1d16d6b60193e2c7a8

       Pause running container while creating image:

       $ podman commit -q --pause=true containerID image-committed
       e3ce4d93051ceea088d1c242624d659be32cf1667ef62f1d16d6b60193e2c7a8

       Create image from container with default image tag:

       $ podman commit containerID
       e3ce4d93051ceea088d1c242624d659be32cf1667ef62f1d16d6b60193e2c7a8

       Create image from container with default required capabilities:

       $ podman commit -q --change LABEL=io.containers.capabilities=setuid,setgid epic_nobel privimage
       400d31a3f36dca751435e80a0e16da4859beb51ff84670ce6bdc5edb30b94066

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man1/podman.1.html">podman</a>(1)</b>, <b><a href="../man1/podman-run.1.html">podman-run</a>(1)</b>, <b><a href="../man1/podman-create.1.html">podman-create</a>(1)</b>

   <b>Troubleshooting</b>
       See <a href="../man7/podman-troubleshooting.7.html">podman-troubleshooting</a>(7) for solutions to common issues.

</pre><h4><b>HISTORY</b></h4><pre>
       December 2017, Originally compiled by Urvashi Mohnani <a href="mailto:umohnani@redhat.com">umohnani@redhat.com</a> ⟨<a href="mailto:umohnani@redhat.com">mailto:umohnani@redhat.com</a>⟩

                                                                                                <u><a href="../man1/podman-commit.1.html">podman-commit</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>