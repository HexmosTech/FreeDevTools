<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>wimmount, wimmountrw, wimunmount - Mount or unmount a WIM image</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/wimtools">wimtools_1.14.4-1.1build4_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       wimmount, wimmountrw, wimunmount - Mount or unmount a WIM image

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>wimmount</b> <u>WIMFILE</u> [<u>IMAGE</u>] <u>DIRECTORY</u> [<u>OPTION</u>...]
       <b>wimmountrw</b> <u>WIMFILE</u> [<u>IMAGE</u>] <u>DIRECTORY</u> [<u>OPTION</u>...]
       <b>wimunmount</b> <u>DIRECTORY</u> [<u>OPTION</u>...]

</pre><h4><b>DESCRIPTION</b></h4><pre>
       On  Linux,  the  <b>wimmount</b> (equivalently: <b>wimlib-imagex</b> <b>mount</b>) and <b>wimmountrw</b> (equivalently: <b>wimlib-imagex</b>
       <b>mountrw</b>) commands mount the specified <u>IMAGE</u> in the Windows Imaging (WIM) archive <u>WIMFILE</u> on the directory
       <u>DIRECTORY</u> using FUSE  (Filesystem  in  Userspace).   <b>wimmount</b>  will  mount  the  image  read-only,  while
       <b>wimmountrw</b> will mount the image read-write.

       <u>IMAGE</u> specifies the image in <u>WIMFILE</u> to mount.  It may be the 1-based index of an image or the name of an
       image.   It may be omitted if <u>WIMFILE</u> contains only one image.  You can use <b><a href="../man1/wiminfo.1.html">wiminfo</a></b>(1) to list the images
       contained in <u>WIMFILE</u>.

       The WIM image can be unmounted using <b>wimunmount</b> (equivalently: <b>wimlib-imagex</b> <b>unmount</b>).  Changes  made  to
       an image mounted read-write will be discarded unless the <b>--commit</b> flag is provided to <b>wimunmount</b>.

</pre><h4><b>DATA</b> <b>AND</b> <b>METADATA</b> <b>SUPPORT</b></h4><pre>
       WIM  images can contain a variety of types of files and file metadata, some of which is Windows-specific.
       Currently, the mount feature can translate some, but not all,  Windows  concepts  to  Linux  equivalents.
       Briefly, the following features are <u>supported</u> (read/write):

       •   Hard links

       •   Symbolic  links.   Native  Windows  symbolic  links  and  junctions  in  a  mounted  WIM  image  will
           automatically be translated into UNIX symbolic links, potentially with  their  targets  fixed  to  be
           valid given the actual mountpoint directory.  UNIX symbolic links created in a read-write mounted WIM
           image will automatically be translated into native Windows symbolic links.

       •   Named data streams (mostly).  See the <b>--streams-interface</b> option.

       In  addition,  standard UNIX file permissions (owner, group, and mode) and special files are supported if
       the <b>--unix-data</b> option is used.

       However, the following features are <u>unsupported</u> and not exposed in mounted images:

       •   Windows security descriptors.  New files are not given security descriptors.

       •   DOS names (8.3 names) (short names).  New files are not given DOS names.

       •   Windows file attributes.  New files are assigned default attributes based on the UNIX file mode bits.

       •   Object IDs.  New files are not given object IDs.

       •   EFS-encrypted files.  The files themselves will be visible in mounted WIM images but their data  will
           not be available.

       •   Extended  attributes.   Although wimlib supports WIM images containing extended attributes, these are
           not yet exposed in mounted WIM images.  (This may be implemented  in  the  future,  though  it  would
           conflict with the use of extended attributes to expose Windows concepts like named data streams.)

</pre><h4><b>SPLIT</b> <b>WIMS</b></h4><pre>
       You  may  use <b>wimmount</b> to mount an image from a split WIM read-only.  However, you may not mount an image
       from a split WIM read-write.

       The <u>WIMFILE</u> argument must specify the first part of the split WIM, while  the  additional  parts  of  the
       split  WIM must be specified in one or more <b>--ref</b>="<u>GLOB</u>" options.  Since globbing is built into the <b>--ref</b>
       option, typically only one <b>--ref</b> option is necessary.  For example, the names for  the  split  WIM  parts
       usually go something like:

              mywim.swm
              mywim2.swm
              mywim3.swm
              mywim4.swm
              mywim5.swm

       To mount the first image of this split WIM to the directory "dir", run:

              wimmount mywim.swm 1 dir --ref="mywim*.swm"

</pre><h4><b>NOTES</b></h4><pre>
       <u>Availability</u>: Mounting WIM images is only supported on Linux-based systems.  These commands will not work
       on other platforms.  Furthermore, the library cannot have been configured <b>--without-fuse</b>.

       <u>Multiple</u>  <u>mounts</u>: You are free to mount many WIM images at the same time, provided that there are not two
       images mounted read-write from the same file at the same time.

       <u>Appends</u> <u>vs.</u> <u>rebuilds</u>: By default, changes to a read-write WIM are made in-place by appending to the  WIM.
       This  is nice for big WIM files, since the entire file doesn't have to be rebuilt to make a small change.
       But, if you are making many changes to a read-write mounted WIM, especially deleting large files,  it  is
       suggested  to  provide  the  <b>--rebuild</b>  option  to <b>wimunmount</b> to force the WIM to be rebuilt, or else run
       <b>wimoptimize</b> afterwards.

       <u>ESD</u> <u>files</u> <u>(solid</u> <u>WIMs)</u>: You can mount version 3584 WIMs,  which  usually  contain  LZMS-compressed  solid
       resources  and  may carry the <u>.esd</u> file extension rather than <u>.wim</u>.  However, such files are not designed
       for random access, so reading data from them when mounted may be very  slow.   In  addition,  <u>.esd</u>  files
       downloaded directly by the Windows 8 web downloader have encrypted segments, and wimlib cannot mount such
       files until they are first decrypted.

</pre><h4><b>MOUNT</b> <b>OPTIONS</b></h4><pre>
       <b>--check</b>
             Before  mounting  the  WIM  image,  verify  the integrity of the WIM if it contains extra integrity
             information.

       <b>--streams-interface</b>=<u>INTERFACE</u>
             This option is inspired by the <b><a href="../man8/ntfs-3g.8.html">ntfs-3g</a></b>(8) filesystem driver.  It controls how  named  data  streams
             (also called "alternate data streams") in WIM files are made available.

             If "none", it will be impossible to read or write the named data streams.

             If  "xattr"  (default),  named  data  streams  will be accessible through extended file attributes,
             unless this support was disabled when compiling wimlib.  The named data  streams  may  be  accessed
             through  extended attributes named "user.*", where the * is the name of the named data stream.  See
             <b><a href="../man1/setfattr.1.html">setfattr</a></b>(1) and <b><a href="../man1/getfattr.1.html">getfattr</a></b>(1).  Note that this is not an ideal interface, since  named  data  streams
             may be larger than the maximum allowed extended attribute size.

             If  "windows",  the named data streams will be accessible by specifying the filename, then a colon,
             then the name of the named data stream; for example, "myfile:mystream".

       <b>--debug</b>
             Turn on debugging information printed by the FUSE library, and do not fork into the background.

       <b>--ref</b>="<u>GLOB</u>"
             File glob of additional WIMs or split WIM parts to reference resources from.  See <b>SPLIT_WIMS</b>.  This
             option can be specified multiple times.  Note: <u>GLOB</u> is listed in quotes because it  is  interpreted
             by <b>wimlib-imagex</b> and may need to be quoted to protect against shell expansion.

       <b>--staging-dir</b>=<u>DIR</u>
             Store temporary staging files in a subdirectory of the directory <u>DIR</u>.  Only valid for <b>wimmountrw</b>.

       <b>--unix-data</b>
             Honor  UNIX-specific  metadata  that  was  captured  by <b>wimcapture</b> with the <b>--unix-data</b> <b>option</b>.  By
             default, <b>wimmount</b> (and <b>wimmountrw</b>) will ignore both Windows-style security  descriptors  and  UNIX-
             specific  metadata.   In  this  default  mode,  all  files will simply be owned by the user running
             <b>wimmount</b> and will have mode 0777.  (They will still not be accessible to  other  users  unless  you
             also  specify  <b>--allow-other</b>.)   If  you  instead  provide  the  <b>--unix-data</b>  option, these default
             permissions will be overridden on a per-file basis with the UNIX-specific  metadata  from  the  WIM
             image  when  available,  and  in the case of <b>wimmountrw</b> it will also be possible to change the UNIX
             permissions on files in the mounted image using the standard UNIX  tools  and  functions,  and  (if
             appropriately privileged) create UNIX special files such as device nodes.

       <b>--allow-other</b>
             Pass the <b>allow_other</b> option to the FUSE mount.  See <b>mount.fuse</b> (8).  Note: to do this as a non-root
             user, <b>user_allow_other</b> needs to be specified in /etc/fuse.conf.

</pre><h4><b>UNMOUNT</b> <b>OPTIONS</b></h4><pre>
       <b>--commit</b>
              Update  the  WIM  file  with the changes that have been made.  Has no effect if the mount is read-
              only.

       <b>--force</b>
              In combination with <b>--commit</b>, force the WIM image to be committed even  if  there  are  open  file
              descriptors  to  the WIM image.  Any such file descriptors will be immediately closed, and the WIM
              image will be committed and unmounted.

       <b>--check</b>
              If committing changes to the WIM, include extra integrity information, even if it was not  present
              before.

       <b>--rebuild</b>
              Rebuild the entire WIM rather than appending any new data to the end of it.  Rebuilding the WIM is
              slower,  but  will  save  a little bit of space that would otherwise be left as a hole in the WIM.
              Even more space will be saved if the read-write mount resulted in streams being deleted  from  the
              WIM.  Also see

       <b>--new-image</b>
              In  combination  with  <b>--commit</b>  for  a  read-write mounted image, causes the modified image to be
              committed as a new, unnamed image appended to  the  WIM  archive.   The  original  image  will  be
              unmodified.

</pre><h4><b>IMPLEMENTATION</b> <b>DETAILS</b></h4><pre>
       Since  a  WIM is an archive and not a filesystem per se, <b>wimmountrw</b> creates a temporary staging directory
       to contain files that are created or modified.  This directory  is  located  in  the  same  directory  as
       <u>WIMFILE</u>  by  default, but the location can be set using the <b>--staging-dir</b> option.  When the filesystem is
       unmounted with <b>--commit</b>, the WIM is modified in-place (or rebuilt completely with <b>--rebuild</b>), merging  in
       the staging files as needed.  Then, the temporary staging directory is deleted.

       <b>wimunmount</b>  runs  in a separate process from the process that previously ran <b>wimmount</b>.  When unmounting a
       read-write mounted WIM image with <b>--commit</b>, these two processes communicate using a POSIX  message  queue
       so  that  the  unmount process can track the progress of the mount process.  See <u>src/mount_image.c</u> in the
       source code for details.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man1/wimlib-imagex.1.html">wimlib-imagex</a></b>(1)

wimlib 1.14.4                                     February 2024                                      <u><a href="../man1/WIMMOUNT.1.html">WIMMOUNT</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>