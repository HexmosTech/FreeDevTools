<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>mProject - Re-project FITS images</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/montage">montage_6.1+dfsg-1build1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       mProject - Re-project FITS images

</pre><h4><b>SYNOPSIS</b></h4><pre>
       mProject [-z <u>factor</u>] [-d <u>level</u>] [-s <u>statusfile</u>] [-h <u>hdu</u>] [-x <u>scale</u>] [-w <u>weightfile</u>] [-W <u>fixed-weight</u>] [-t
       <u>threshold</u>] [-X] [-b <u>border-string</u>] [-e(nergy-mode)] [-f] in.fits out.fits hdr.template

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>mProject</b>  reprojects  a single image to the scale defined in a FITS header template file (read more about
       header templates here). The program produces a pair of images: the reprojected image and an "area"  image
       consisting  of  the  fraction  input  pixel  sky  area  that  went into each output pixel.  The "drizzle"
       algorithm is implemented.  The algorithm proceeds by mapping pixel corners (as adjusted  by  drizzle,  if
       called)  from  the input pixel space to the output pixel space, calculating overlap area with each output
       pixel, and accumulating an appropriate fraction of the input flux  into  the  output  image  pixels.   In
       addition,  the  appropriate  fraction  of the input pixel area is accumulated into the area image pixels.
       Projection of points from input pixel space to output pixel space is calculated in two steps:  first  map
       from input pixel space to sky coordinates; second map from sky coordinates to output pixel space.

       One  situation  that  has happened often enough to warrant special note:  It is possible to define a FITS
       header with the reference location off the image.  In  particular,  people  often  reference  cylindrical
       projections  (<u>e.g.,</u>  CAR,  CEA)  to  location  (0.,0.) (<u>e.g.,</u> the Galactic center).  This is not wrong in
       itself but does lead to extremely large pixel offsets (<u>e.g.,</u> in the hundreds of thousands).   Related  to
       this,  if you extract a header from an image with large offsets of this type, it is unlikely that you can
       simply change projection types without also adjusting the reference location/offsets.  Most  likely,  you
       will end up with the reproject data all being off-scale.

</pre><h4><b>OPTIONS</b></h4><pre>
       -z <u>factor</u>
              Processing is done utilizing the drizzle algorithm. <u>factor</u> is a floating point number; recommended
              drizzle factors are from 0.5 to 1.

       -d <u>level</u>
              Causes additional debugging information to be printed to stdout.  Valid levels are 1-5 (for higher
              debugging levels, it is recommended to redirect the output to a file).

       -s <u>statusfile</u>
              Output and errors are written to <u>statusfile</u> instead of being written to stdout.

       -h <u>hdu</u> Use the specified FITS extension (default is to use the first HDU with image data)

       -x <u>scale</u>
              Apply a correction factor of <u>scale</u> to each pixel

       -w <u>weightfile</u>
              Path to a weight map to be used when reading values from the input image.

       -W <u>fixed-weight</u>
              Use constant weight value for the whole image.

       -t <u>threshold</u>
              Pixels with weights below <u>threshold</u> will be treated as blank.

       -X     Makes  the  output region (originally defined in the header template) big enough to include all of
              the input images

       -b <u>border-string</u>
              Define a border width or border pixel corners outside of which all pixels are set to NaN.

       -e     Process the data as total energy rather than the default energy density (scale values by  relative
              pixel areas).

       -f     Output  the  full  region  requested  even  if  there  is  a  border of NULL values (default is to
              shrinkwrap to just the pixels with values).

</pre><h4><b>ARGUMENTS</b></h4><pre>
       in.fits
              Input FITS file to be reprojected.

       out.fits
              Path of output FITS file to be created.

       hdr.template
              FITS header template to be used in generation of output image

</pre><h4><b>RESULT</b></h4><pre>
       Two  files  are  created  as  output:  the  reprojected  FITS  file  (<u>out.fits</u>),  and  an  "area"   image
       (<u>out_area.fits</u>)  which  records  the  amount  of  coverage  (in output pixel space) provided by the input
       images.

</pre><h4><b>MESSAGES</b></h4><pre>
       <u>OK</u>     [struct stat="<u>OK</u>", time=<u>seconds</u>]

       ERROR  Drizzle factor string (<u>string</u>) cannot be interpreted as a real number

       ERROR  Weight threshold string (<u>string</u>) cannot be interpreted as a real number

       ERROR  Flux scale string (<u>string</u>) cannot be interpreted as a real number

       ERROR  Cannot open status file: <u>statusfile</u>

       ERROR  HDU value (<u>hdu</u>) must be a non-negative integer

       ERROR  No overlap

       ERROR  Not enough memory for output data image array

       ERROR  Not enough memory for output area image array

       ERROR  Output wcsinit() failed.

       ERROR  Input wcsinit() failed.

       ERROR  FITS library error

       ERROR  All pixels are blank

       ERROR  Template file not found

       ERROR  Image file <u>in.fits</u> missing or invalid FITS

       ERROR  Weight file <u>weightfile</u> missing or invalid FITS

</pre><h4><b>EXAMPLES</b></h4><pre>
       $ mProject rawdir/real_orig.fits projdir/base_unity.fits templates/galactic_orig.txt
              [struct stat="OK", time=143]

</pre><h4><b>BUGS</b></h4><pre>
       The drizzle algorithm has been implemented but has not been tested in this release.

       If a header template contains carriage returns (i.e., created/modified on a Windows machine), the cfitsio
       library will be unable to read it properly, resulting in the  error:  [struct  stat="ERROR",  status=207,
       msg="illegal character in keyword"]

       It  is  best  for  the  background  correction  algorithms  if  the area described in the header template
       completely encloses all of the input images in their entirety. If parts of input images are "chopped off"
       by the header template, the background correction will be affected. We  recommend  you  use  an  expanded
       header  for  the  reprojection  and background modeling steps, returning to the originally desired header
       size for the final coaddition. The default background matching  assumes  that  there  are  no  non-linear
       background  variations  in  the individual images (and therefore in the overlap differences). If there is
       any uncertainty in this regard, it is safer to turn on the "level only"  background  matching  (the  "-l"
       flag in mBgModel.

</pre><h4><b>COPYRIGHT</b></h4><pre>
       2001-2015 California Institute of Technology, Pasadena, California

       If  your  research uses Montage, please include the following acknowledgement: "This research made use of
       Montage. It is funded by the  National  Science  Foundation  under  Grant  Number  ACI-1440620,  and  was
       previously funded by the National Aeronautics and Space Administration's Earth Science Technology Office,
       Computation  Technologies  Project,  under  Cooperative  Agreement  Number  NCC5-626 between NASA and the
       California Institute of Technology."

       The Montage distribution includes an adaptation of the MOPEX algorithm developed at the  Spitzer  Science
       Center.

Montage 5                                           Dec 2016                                         <u><a href="../man1/MPROJECT.1.html">MPROJECT</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>