<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>buildah-push - Push an image, manifest list or image index from local storage to elsewhere.</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/buildah">buildah_1.39.3+ds1-1syncable1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       buildah-push - Push an image, manifest list or image index from local storage to elsewhere.

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>buildah</b> <b>push</b> [<u>options</u>] <u>image</u> [<u>destination</u>]

</pre><h4><b>DESCRIPTION</b></h4><pre>
       Pushes  an  image from local storage to a specified destination, decompressing and recompessing layers as
       needed.

</pre><h4><b>imageID</b></h4><pre>
       Image stored in local container/storage

</pre><h4><b>DESTINATION</b></h4><pre>
       DESTINATION is the location the container image is pushed to. It supports all transports from <b><a href="../man5/containerstransports.5.html">containers-</a></b>
       <b><a href="../man5/containerstransports.5.html">transports</a>(5)</b> (see examples below). If no transport is specified, the <b>docker</b> (i.e.,  container  registry)
       transport is used.

</pre><h4><b>OPTIONS</b></h4><pre>
       <b>--all</b>

       If  specified  image  is a manifest list or image index, push the images in addition to the list or index
       itself.

       <b>--authfile</b> <u>path</u>

       Path of the authentication file.  Default  is  ${XDG_RUNTIME_DIR}/containers/auth.json.  See  <a href="../man5/containersauth.json.5.html">containers-</a>
       <a href="../man5/containersauth.json.5.html">auth.json</a>(5) for more information. This file is created using <b>buildah</b> <b>login</b>.

       If  the  authorization state is not found there, $HOME/.docker/config.json is checked, which is set using
       <b>docker</b> <b>login</b>.

       Note: You can also override the default path of the authentication file by setting the REGISTRY_AUTH_FILE
       environment variable. <b>export</b> <b>REGISTRY_AUTH_FILE=path</b>

       <b>--cert-dir</b> <u>path</u>

       Use certificates at <u>path</u> (*.crt, *.cert, *.key) to connect to the  registry.   The  default  certificates
       directory is <u>/etc/containers/certs.d</u>.

       <b>--compression-format</b> <u>format</u>

       Specifies   the  compression  format  to  use.   Supported  values  are:  <b>gzip</b>,  <b>zstd</b>  and  <b>zstd:chunked</b>.
       <b>zstd:chunked</b> is incompatible with encrypting images, and will be treated as <b>zstd</b> with a warning  in  that
       case.

       <b>--compression-level</b> <u>level</u>

       Specify the compression level used with the compression.

       Specifies  the  compression  level to use.  The value is specific to the compression algorithm used, e.g.
       for zstd the accepted values are in the range 1-20 (inclusive), while for gzip it is 1-9 (inclusive).

       <b>--creds</b> <u>creds</u>

       The [username[:password]] to use to authenticate with the registry if required.  If one  or  both  values
       are  not  supplied,  a  command  line  prompt  will appear and the value can be entered.  The password is
       entered without echo.

       <b>--digestfile</b> <u>Digestfile</u>

       After copying the image, write the digest of the resulting image to the file.

       <b>--disable-compression</b>, <b>-D</b>

       Don't compress copies of filesystem layers which will be pushed.

       <b>--encrypt-layer</b> <u>layer(s)</u>

       Layer(s) to encrypt: 0-indexed layer indices with support for negative indexing  (e.g.  0  is  the  first
       layer,  -1  is  the  last  layer).  If  not  defined,  will  encrypt all layers if encryption-key flag is
       specified.

       <b>--encryption-key</b> <u>key</u>

       The [protocol:keyfile] specifies the encryption protocol, which can be JWE (RFC7516), PGP (RFC4880),  and
       PKCS7 (RFC2315) and the key material required for image encryption. For instance, jwe:/path/to/key.pem or
       pgp:<a href="mailto:admin@example.com">admin@example.com</a> or pkcs7:/path/to/x509-file.

       <b>--force-compression</b>

       If  set,  push  uses  the specified compression algorithm even if the destination contains a differently-
       compressed variant already.  Defaults to <b>true</b> if <b>--compression-format</b>  is  explicitly  specified  on  the
       command-line, <b>false</b> otherwise.

       <b>--format</b>, <b>-f</b>

       Manifest  Type (oci, v2s2, or v2s1) to use when pushing an image. (default is manifest type of the source
       image, with fallbacks)

       <b>--quiet</b>, <b>-q</b>

       When writing the output image, suppress progress output.

       <b>--remove-signatures</b>

       Don't copy signatures when pushing images.

       <b>--retry</b> <u>attempts</u>

       Number of times to retry in case of failure when performing push of images to registry.

       Defaults to <b>3</b>.

       <b>--retry-delay</b> <u>duration</u>

       Duration of delay between retry attempts in case of failure when performing push of images to registry.

       Defaults to <b>2s</b>.

       <b>--rm</b>

       When pushing a manifest list or image index, delete them from local storage if pushing succeeds.

       <b>--sign-by</b> <u>fingerprint</u>

       Sign the pushed image using the GPG key that matches the specified fingerprint.

       <b>--tls-verify</b> <u>bool-value</u>

       Require HTTPS and verification of certificates when talking to container registries (defaults  to  true).
       TLS verification cannot be used when talking to an insecure registry.

</pre><h4><b>EXAMPLE</b></h4><pre>
       This example pushes the image specified by the imageID to a local directory in docker format.

       <b>#</b> <b>buildah</b> <b>push</b> <b>imageID</b> <b>dir:/path/to/image</b>

       This example pushes the image specified by the imageID to a local directory in oci format.

       <b>#</b> <b>buildah</b> <b>push</b> <b>imageID</b> <b>oci:/path/to/layout:image:tag</b>

       This example pushes the image specified by the imageID to a tar archive in oci format.

       <b>#</b> <b>buildah</b> <b>push</b> <b>imageID</b> <b>oci-archive:/path/to/archive:image:tag</b>

       This   example   pushes   the   image   specified   by   the   imageID  to  a  container  registry  named
       registry.example.com.

       <b>#</b> <b>buildah</b> <b>push</b> <b>imageID</b> <b>docker://registry.example.com/repository:tag</b>

       This example pushes the image specified by the imageID to a container registry named registry.example.com
       and saves the digest in the specified digestfile.

       <b>#</b> <b>buildah</b> <b>push</b> <b>--digestfile=/tmp/mydigest</b> <b>imageID</b> <b>docker://registry.example.com/repository:tag</b>

       This example works like <b>docker</b> <b>push</b>, assuming <u>registry.example.com/my_image</u> is a local image.

       <b>#</b> <b>buildah</b> <b>push</b> <b>registry.example.com/my_image</b>

       This example  pushes  the  image  specified  by  the  imageID  to  a  private  container  registry  named
       registry.example.com with authentication from /tmp/auths/myauths.json.

       <b>#</b> <b>buildah</b> <b>push</b> <b>--authfile</b> <b>/tmp/auths/myauths.json</b> <b>imageID</b> <b>docker://registry.example.com/repository:tag</b>

       This example pushes the image specified by the imageID and puts it into the local docker container store.

       <b>#</b> <b>buildah</b> <b>push</b> <b>imageID</b> <b>docker-daemon:image:tag</b>

       This  example  pushes  the  image specified by the imageID and puts it into the registry on the localhost
       while turning off tls verification.
        <b>#</b> <b>buildah</b> <b>push</b> <b>--tls-verify=false</b> <b>imageID</b> <b>localhost:5000/my-imageID</b>

       This example pushes the image specified by the imageID and puts it into the  registry  on  the  localhost
       using credentials and certificates for authentication.
        <b>#</b>  <b>buildah</b> <b>push</b> <b>--cert-dir</b> <b><a href="file:~/auth">~/auth</a></b> <b>--tls-verify=true</b> <b>--creds=username:password</b> <b>imageID</b> <b>localhost:5000/my-</b>
       <b>imageID</b>

</pre><h4><b>ENVIRONMENT</b></h4><pre>
       <b>BUILD_REGISTRY_SOURCES</b>

       BUILD_REGISTRY_SOURCES, if set, is treated as a JSON object which contains lists of registry names  under
       the keys <b>insecureRegistries</b>, <b>blockedRegistries</b>, and <b>allowedRegistries</b>.

       When  pushing  an image to a registry, if the portion of the destination image name that corresponds to a
       registry is compared to the items in the <b>blockedRegistries</b> list, and if it matches any of them, the  push
       attempt  is  denied.   If there are registries in the <b>allowedRegistries</b> list, and the portion of the name
       that corresponds to the registry is not in the list, the push attempt is denied.

       <b>TMPDIR</b> The TMPDIR environment variable allows the user to specify where temporary files are stored  while
       pulling and pushing images.  Defaults to '<a href="file:/var/tmp">/var/tmp</a>'.

</pre><h4><b>FILES</b></h4><pre>
       <b>registries.conf</b> (<b>/etc/containers/registries.conf</b>)

       registries.conf  is the configuration file which specifies which container registries should be consulted
       when completing image names which do not include a registry or domain portion.

       <b>policy.json</b> (<b>/etc/containers/policy.json</b>)

       Signature policy file.  This defines the trust policy for container  images.   Controls  which  container
       registries can be used for image, and whether or not the tool should trust the images.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <a href="../man1/buildah.1.html">buildah</a>(1),  <a href="../man1/buildah-login.1.html">buildah-login</a>(1), <a href="../man5/containers-policy.json.5.html">containers-policy.json</a>(5), <a href="../man1/docker-login.1.html">docker-login</a>(1), <a href="../man5/containers-registries.conf.5.html">containers-registries.conf</a>(5),
       <a href="../man1/buildah-manifest.1.html">buildah-manifest</a>(1), <a href="../man5/containers-transports.5.html">containers-transports</a>(5), <a href="../man5/containers-auth.json.5.html">containers-auth.json</a>(5)

buildah                                             June 2017                                    <u><a href="../man1/buildah-push.1.html">buildah-push</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>