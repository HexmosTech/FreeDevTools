<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>mBgModel - Re-project and mosaic your images, with background rectification</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/montage">montage_6.1+dfsg-1build1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       mBgModel - Re-project and mosaic your images, with background rectification

</pre><h4><b>SYNOPSIS</b></h4><pre>
       mBgModel  [-i  <u>niter</u>]  [-l(evel-only)]  [-d  <u>level</u>]  [-r  <u>refimg</u>]  [-s  <u>statusfile</u>]  images.tbl  fits.tbl
       corrections.tbl

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>mBgModel</b> is a modelling/fitting program.  It uses the image-to-image difference parameter  table  created
       by  <b>mFitExec</b> <b>to</b> <b>interactively</b> <b>determine</b> <b>a</b> <b>set</b> <b>of</b> <b>corrections</b> <b>to</b> <b>apply</b> <b>to</b> <b>each</b> <b>image</b> <b>in</b> <b>order</b> <b>to</b> <b>achieve</b> <b>a</b>
       <b>"best"</b> <b>global</b> <b>fit.</b>

</pre><h4><b>OPTIONS</b></h4><pre>
       -i <u>-niter</u>
              Number of iterations (without switch, defaults to 5000). Can be between 1 and 32767.

       -l     Calculate level adjustments only (ie, don't attempt to match the slopes)

       -d <u>level</u>
              Turns on debugging to the specified level (1-3).

       -r <u>refimg</u>
              Turns on additional debugging for the <u>n</u>th image in <b>images.tbl</b>.

       -a     Use all the input differences (by default we exclude very small overlap areas).

       -s <u>statusfile</u>
              <b>mBgModel</b> output and errors are written to <u>statusfile</u> instead of to stdout.

</pre><h4><b>ARGUMENTS</b></h4><pre>
       images.tbl
              Image metadata table generated by <b>mImgtbl</b>.

       fits.tbl
              Plane fitting table generated by <b>mFitExec</b>.

       corrections.tbl
              Output table of background corrections

</pre><h4><b>RESULT</b></h4><pre>
       Output table containing corrections to be applied to each image.

</pre><h4><b>MESSAGES</b></h4><pre>
       OK     [struct stat="OK"]

       ERROR  Argument for -i (<u>string</u>) cannot be interpreted as an integer

       ERROR  Number of iterations too small (<u>niter</u>). This parameter is normally around 5000.

       ERROR  Argument for -r (<u>string</u>) cannot be interpreted as an integer

       ERROR  Cannot open status file: <u>statusfile</u>

       ERROR  Failed to open output <u>filename</u>

       ERROR  Invalid image metadata file: <u>filename</u>

       ERROR  Need columns: cntr nl ns crpix1 crpix2 in image info file

       ERROR  malloc() failed (ImgInfo)

       ERROR  realloc() failed (ImgInfo)

       ERROR  Invalid background fit parameters file: <u>filename</u>

       ERROR  Need columns: plus minus a b c crpix1 crpix2 xmin xmax ymin ymax xcenter ycenter npixel  rms  boxx
              boxy boxwidth boxheight boxang

       ERROR  malloc() failed (FitInfo)

       ERROR  realloc() failed (FitInfo)

       ERROR  malloc() failed (CorrInfo)

       ERROR  realloc() failed (CorrInfo)

       ERROR  Debug reference image out of range (0 - <u>n</u>)

       ERROR  Invalid fit type

       ERROR  Allocation failure in ivector()

</pre><h4><b>EXAMPLES</b></h4><pre>
       After  running <b>mDiffExec</b> to create a set of difference images in <b>diffdir</b>, we generate an image difference
       table using <b>mFitExec</b>: sample <b>fits.tbl</b>.

       $ mBgModel images.tbl fits.tbl corrections.tbl
              [struct stat="OK"]

       This results in the creation of <b>corrections.tbl</b>.

</pre><h4><b>BUGS</b></h4><pre>
       The drizzle algorithm has been implemented but has not been tested in this release.

       If a header template contains carriage returns (i.e., created/modified on a Windows machine), the cfitsio
       library will be unable to read it properly, resulting in the  error:  [struct  stat="ERROR",  status=207,
       msg="illegal character in keyword"]

       It  is  best  for  the  background  correction  algorithms  if  the area described in the header template
       completely encloses all of the input images in their entirety. If parts of input images are "chopped off"
       by the header template, the background correction will be affected. We  recommend  you  use  an  expanded
       header  for  the  reprojection  and background modeling steps, returning to the originally desired header
       size for the final coaddition. The default background matching  assumes  that  there  are  no  non-linear
       background  variations  in  the individual images (and therefore in the overlap differences). If there is
       any uncertainty in this regard, it is safer to turn on the "level only"  background  matching  (the  "-l"
       flag in mBgModel.

</pre><h4><b>COPYRIGHT</b></h4><pre>
       2001-2015 California Institute of Technology, Pasadena, California

       If  your  research uses Montage, please include the following acknowledgement: "This research made use of
       Montage. It is funded by the  National  Science  Foundation  under  Grant  Number  ACI-1440620,  and  was
       previously funded by the National Aeronautics and Space Administration's Earth Science Technology Office,
       Computation  Technologies  Project,  under  Cooperative  Agreement  Number  NCC5-626 between NASA and the
       California Institute of Technology."

       The Montage distribution includes an adaptation of the MOPEX algorithm developed at the  Spitzer  Science
       Center.

Montage 5                                           Dec 2016                                         <u><a href="../man1/MBGMODEL.1.html">MBGMODEL</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>