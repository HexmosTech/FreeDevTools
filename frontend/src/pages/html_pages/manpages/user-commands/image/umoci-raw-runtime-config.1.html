<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>umoci raw runtime-config - Generate an OCI runtime configuration for an image</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/umoci">umoci_0.4.7+ds-4_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       umoci raw runtime-config - Generate an OCI runtime configuration for an image

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>umoci</b> <b>raw</b> <b>runtime-config</b> <b>--image</b>=<u>image</u>[:<u>tag</u>] [<b>--rootfs</b>=<u>rootfs</u>] [<b>--rootless</b>] <u>config</u>

       <b>umoci</b> <b>raw</b> <b>config</b> <b>--image</b>=<u>image</u>[:<u>tag</u>] [<b>--rootfs</b>=<u>rootfs</u>] [<b>--rootless</b>] <u>config</u>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       Generate  a new OCI runtime configuration from an image, without extracting the rootfs of said image. The
       configuration is written to the path given by <u>config</u>, overwriting it if it exists already. This is one of
       the operations done by <b><a href="../man1/umoci-unpack.1.html">umoci-unpack</a></b>(1) when generating the runtime bundle, but because of the overhead of
       extracting a root filesystem, <b><a href="../man1/umoci-unpack.1.html">umoci-unpack</a></b>(1) is not practical to be used many times if the user  doesn't
       actually  want  to use the root filesystem. Some fields require a root filesystem as a "source of truth",
       and a source root filesystem can be specified using <b>--rootfs</b>. The other flags have the  same  effects  as
       with <b><a href="../man1/umoci-unpack.1.html">umoci-unpack</a></b>(1).

       Note  however  that  the output of <b><a href="../man1/umoci-raw-runtime-config.1.html">umoci-raw-runtime-config</a></b>(1) is not necessarily identical to the output
       from <b><a href="../man1/umoci-unpack.1.html">umoci-unpack</a></b>(1). This is especially true if <b>--rootfs</b> is not specified,  which  results  in  <b><a href="../man1/umoci.1.html">umoci</a></b>(1)
       leaving  fields  in  the runtime spec to their defaults if computing their values would require using the
       root filesystem as a source-of-truth.

</pre><h4><b>OPTIONS</b></h4><pre>
       The global options are defined in <b><a href="../man1/umoci.1.html">umoci</a></b>(1).

       <b>--image</b>=<u>image</u>[:<u>tag</u>]
         The OCI image tag which will be extracted to the <u>bundle</u>. <u>image</u> must be a
         path to a valid OCI image and <u>tag</u> must be a valid tag in the image. If
         <u>tag</u> is not provided it defaults to "latest".

       <b>--rootfs</b>=<u>rootfs</u>
         Use <u>rootfs</u> as a secondary source of truth when generating the runtime
         configuration (this is especially important for <u>Config.User</u> conversion). If
         unspecified, any runtime fields that require a secondary source of truth to
         be filled with be left in their default values. This may result in
         discrepancies between the output of <b><a href="../man1/umoci-unpack.1.html">umoci-unpack</a></b>(1) and
         <b><a href="../man1/umoci-raw-runtime-config.1.html">umoci-raw-runtime-config</a></b>(1).

       <b>--rootless</b>
         Generate a rootless container configuration, similar to the configuration
         produced by <b><a href="../man1/umoci-unpack.1.html">umoci-unpack</a></b>(1) when provided the <b>--rootless</b> flag.

</pre><h4><b>EXAMPLE</b></h4><pre>
       The following downloads an image from a  <b><a href="../man1/docker.1.html">docker</a></b>(1)  registry  using  <b><a href="../man1/skopeo.1.html">skopeo</a></b>(1)  and  then  generates  the
       <u>config.json</u> for that image.

       % skopeo copy docker://opensuse/amd64:42.2 oci:image:latest
       % umoci raw runtime-config --image image:latest config.json

       If  a  root filesystem is already present, it is possible to specify it with the <b>--rootfs</b> flag. This will
       source the root filesystem for conversion operations that necessitate it.

       % skopeo copy docker://opensuse/amd64:42.2 oci:image:latest
       # umoci unpack --image image bundle
       % umoci raw runtime-config --image image --rootfs bundle/rootfs config.json

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man1/umoci.1.html">umoci</a></b>(1), <b><a href="../man1/umoci-repack.1.html">umoci-repack</a></b>(1), <b><a href="../man8/runc.8.html">runc</a></b>(8)

raw                                                   umoci                       <u><a href="../man1/umoci-raw-runtime-config.1.html">umoci-raw-runtime-config</a>(1)</u>(#)
</pre>
 </div>
</div></section>
</div>
</body>
</html>