<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>mProjectPP - Re-project FITS images</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/montage">montage_6.1+dfsg-1build1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       mProjectPP - Re-project FITS images

</pre><h4><b>SYNOPSIS</b></h4><pre>
       mProjectPP [-z <u>factor</u>] [-d <u>level</u>] [-b <u>border</u>] [-s <u>statusfile</u>] [-o <u>altout.hdr</u>] [-i <u>altin.hdr</u>] [-h <u>hdu</u>] [-x
       <u>scale</u>]  [-w  <u>weightfile</u>]  [-W  <u>fixed-weight</u>]  [-t  <u>threshold</u>]  [-X]  [-b  <u>border-string</u>] in.fits out.fits
       template.hdr

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>mProjectPP</b> reprojects a single image to the scale defined in an alternate FITS header template  generated
       (usually)  by  <b>mTANhdr</b>.  The program produces a pair of images: the reprojected image and an "area" image
       consisting of the fraction input pixel sky area that went into each output pixel.  This area  image  goes
       through all the subsequent processing that the reprojected image does, allowing it to be properly coadded
       at the end.

       <b>mProjectPP</b>  performs  a  plane-to-plane  transform  on the input image, and is an adaptation of the Mopex
       algorithm and developed in collaboration with the  Spitzer Space Telescope. It provides a speed  increase
       of  approximately  a factor of 30 over the general-purpose <b>mProject</b>. However, <b>mProjectPP</b> is only suitable
       for projections which can be approximated by tangent-plane projections (TAN, SIN, ZEA, STG, ARC), and  is
       therefore  not  suited for images covering large portions of the sky. Also note that it does not directly
       support changes in coordinate system (i.e. equatorial to galactic coordinates), though these changes  can
       be facilitated by the use of an alternate header.

       One  situation  that  has happened often enough to warrant special note:  It is possible to define a FITS
       header with the reference location off the image.  In  particular,  people  often  reference  cylindrical
       projections  (<u>e.g.,</u>  CAR,  CEA)  to  location  (0.,0.) (<u>e.g.,</u> the Galactic center).  This is not wrong in
       itself but does lead to extremely large pixel offsets (<u>e.g.,</u> in the hundreds of thousands).   Related  to
       this,  if you extract a header from an image with large offsets of this type, it is unlikely that you can
       simply change projection types without also adjusting the reference location/offsets.  Most  likely,  you
       will end up with the reproject data all being off-scale.

</pre><h4><b>OPTIONS</b></h4><pre>
       -z <u>factor</u>
              Processing is done utilizing the drizzle algorithm. <u>factor</u> is a floating point number; recommended
              drizzle factors are from 0.5 to 1.

       -d <u>level</u>
              Causes additional debugging information to be printed to stdout.  Valid levels are 1-5; for levels
              greater than 1, it's recommended to redirect the output into a text file.

       -b <u>border</u>
              Ignores <u>border</u> pixels around the image edge when performing calculations.

       -s <u>statusfile</u>
              Output and errors are written to <u>statusfile</u> instead of being written to stdout.

       -[i|o] <u>alternate.hdr</u>
              Specifies  an  alternate  FITS  header  for use in <b>mProjectPP</b> calculations, allows substitution of
              psuedo-TAN headers created by mTANHdr.

       -h <u>hdu</u> Specify the FITS extension to re-project if the FITS image is multi-extension.

       -x <u>scale</u>
              Multiple the pixel values by <u>scale</u> when reprojecting.   For  instance,  each  2MASS  image  has  a
              different scale factor (very near 1.0) to correct for varying magnitude-zero points.

       -w <u>weightfile</u>
              Path to a weight map to be used when reading values from the input image.

       -W <u>fixed-weight</u>
              Use constant weight value for the whole image.

       -t <u>threshold</u>
              Pixels with weights below <u>threshold</u> will be treated as blank.

       -X     Makes  the  output region (originally defined in the header template) big enough to include all of
              the input images

       -b <u>border-string</u>
              Define a border width or border pixel corners outside of which all pixels are set to NaN.

</pre><h4><b>ARGUMENTS</b></h4><pre>
       in.fits
              Input FITS file to be reprojected.

       out.fits
              Path to output FITS file to be created.

       template.hdr
              FITS header template to be used in generation of output FITS

</pre><h4><b>RESULT</b></h4><pre>
       Two  files  are  created  as  output:  the  reprojected  FITS  file  (<u>out.fits</u>),  and  an  "area"   image
       (<u>out_area.fits</u>). See the image reprojection algorithm for more information.

</pre><h4><b>MESSAGES</b></h4><pre>
       <u>OK</u>     [struct stat="<u>OK</u>", time=<u>seconds</u>]

       ERROR  Drizzle factor string (<u>string</u>) cannot be interpreted as a real number

       ERROR  Cannot open status file: <u>statusfile</u>

       ERROR  Weight threshold string (<u>threshold</u>) cannot be interpreted as a real number

       ERROR  Flux scale string (<u>scale</u>) cannot be interpreted as a real number

       ERROR  Border value string (<u>string</u>) cannot be interprted as an integer or a set of polygon vertices

       ERROR  Border value (<u>value</u>) must be greater than or equal to zero

       ERROR  HDU value (<u>hdu</u>) must be a non-negative integer

       ERROR  Could not set up plane-to-plane transform.  Check for compliant headers.

       ERROR  No overlap

       ERROR  Not enough memory for output data image array

       ERROR  Not enough memory for output area image array

       ERROR  Output wcsinit() failed.

       ERROR  Input wcsinit() failed.

       ERROR  Input and output must be in the same coordinate system for fast reprojection

       ERROR  All pixels are blank

       ERROR  Input image projection (<u>projection</u>) must be TAN, SIN, ZEA, STG or ARC for fast reprojection

       ERROR  Output image projection (<u>projection</u>) must be TAN, SIN, ZEA, STG or ARC for fast reprojection

       ERROR  Template file [<u>template.hdr</u>] not found

       ERROR  Image file <u>in.fits</u> is missing or invalid FITS

       ERROR  Weight file <u>weightfile</u> is missing or invalid FITS

       ERROR  FITS library error

</pre><h4><b>EXAMPLES</b></h4><pre>
       $ mProjectPP rawdir/real_orig.fits projdir/base_unity.fits templates/galactic_orig.txt
              [struct stat="OK", time=14]

</pre><h4><b>BUGS</b></h4><pre>
       The drizzle algorithm has been implemented but has not been tested in this release.

       If a header template contains carriage returns (i.e., created/modified on a Windows machine), the cfitsio
       library  will  be  unable  to read it properly, resulting in the error: [struct stat="ERROR", status=207,
       msg="illegal character in keyword"]

       It is best for the background correction  algorithms  if  the  area  described  in  the  header  template
       completely encloses all of the input images in their entirety. If parts of input images are "chopped off"
       by  the  header  template,  the  background correction will be affected. We recommend you use an expanded
       header for the reprojection and background modeling steps, returning to  the  originally  desired  header
       size  for  the  final  coaddition.  The  default background matching assumes that there are no non-linear
       background variations in the individual images (and therefore in the overlap differences).  If  there  is
       any  uncertainty  in  this  regard, it is safer to turn on the "level only" background matching (the "-l"
       flag in mBgModel.

       mProjectPP is only suitable for use on projections which can be approximated by tangent-plane projections
       (TAN, SIN, ZEA, STG, ARC), and is therefore not suited for images covering large  portions  of  the  sky.
       Also  note  that  it  does not directly support changes in coordinate system (i.e. equatorial to galactic
       coordinates), though these changes can be facilitated by the use of an alternate header.

</pre><h4><b>COPYRIGHT</b></h4><pre>
       2001-2015 California Institute of Technology, Pasadena, California

       If your research uses Montage, please include the following acknowledgement: "This research made  use  of
       Montage.  It  is  funded  by  the  National  Science  Foundation  under Grant Number ACI-1440620, and was
       previously funded by the National Aeronautics and Space Administration's Earth Science Technology Office,
       Computation Technologies Project, under Cooperative  Agreement  Number  NCC5-626  between  NASA  and  the
       California Institute of Technology."

       The  Montage  distribution includes an adaptation of the MOPEX algorithm developed at the Spitzer Science
       Center.

Montage 5                                           Dec 2016                                       <u><a href="../man1/MPROJECTPP.1.html">MPROJECTPP</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>