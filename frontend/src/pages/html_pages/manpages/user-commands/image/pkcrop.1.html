<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>pkcrop - perform raster data operations on image such as crop, extract and stack bands</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/pktools">pktools_2.6.7.6+ds-6build4_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       pkcrop - perform raster data operations on image such as crop, extract and stack bands

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>pkcrop</b> <b>-i</b> <u>input</u> <b>-o</b> <u>output</u> [<u>options</u>] [<u>advanced</u> <u>options</u>]

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>pkcrop</b> can subset and stack raster images.  In the spatial domain it can crop a bounding box from a larg‐
       er  image.   The  output bounding box is selected by setting the new corner coordinates using the options
       <b>-ulx</b> <b>-uly</b> <b>-lrx</b> <b>-lry</b>.  Alternatively you can set the new image center (<b>-x</b> <b>-y</b>) and size.  This can be  done
       either  in  projected  coordinates (using the options <b>-nx</b> <b>-ny</b>) or in image coordinates (using the options
       <b>-ns</b> <b>-nl</b>).  You can also use a vector file to set the new bounding box (option <b>-e</b>).  In the  spectral  do‐
       main,  <b>pkcrop</b> allows you to select individual bands from one or more input image(s).  Bands are stored in
       the same order as provided on the command line, using the option <b>-b</b>.  Band numbers  start  with  index  0
       (indicating the first band).  The default is to select all input bands.  If more input images are provid‐
       ed,  the  bands are stacked into a multi-band image.  If the bounding boxes or spatial resolution are not
       identical for all input images, you should explicitly set them via the options.  The  <b>pkcrop</b>  utility  is
       not suitable to mosaic or composite images.  Consider the utility <b><a href="../man1/pkcomposite.1.html">pkcomposite</a></b>(1) instead.

</pre><h4><b>OPTIONS</b></h4><pre>
       <b>-i</b> <u>filename</u>, <b>--input</b> <u>filename</u>
              Input image file(s).  If input contains multiple images, a multi-band output is created

       <b>-o</b> <u>filename</u>, <b>--output</b> <u>filename</u>
              Output image file

       <b>-of</b> <u>out_format</u>, <b>--oformat</b> <u>out_format</u>
              Output image format (see also <b><a href="../man1/gdal_translate.1.html">gdal_translate</a></b>(1)).  Empty string: inherit from input image

       <b>-ot</b> <u>type</u>, <b>--otype</b> <u>type</u>
              Data type for output image ({Byte / Int16 / UInt16 / UInt32 / Int32 / Float32 / Float64 / CInt16 /
              CInt32 / CFloat32 / CFloat64}).  Empty string: inherit type from input image

       <b>-b</b> <u>band</u>, <b>--band</b> <u>band</u>
              Band index to crop (leave empty to retain all bands)

       <b>-sband</b> <u>band</u>, <b>--startband</b> <u>band</u>
              Start band sequence number

       <b>-eband</b> <u>band</u>, <b>--endband</b> <u>band</u>
              End band sequence number

       <b>-ulx</b> <u>ULX</u>, <b>--ulx</b> <u>ULX</u>
              Upper left x value bounding box

       <b>-uly</b> <u>ULY</u>, <b>--uly</b> <u>ULY</u>
              Upper left y value bounding box

       <b>-lrx</b> <u>LRX</u>, <b>--lrx</b> <u>LRX</u>
              Lower right x value bounding box

       <b>-lry</b> <u>LRY</u>, <b>--lry</b> <u>LRY</u>
              Lower right y value bounding box

       <b>-dx</b> <u>xres</u>, <b>--dx</b> <u>xres</u>
              Output resolution in x (in meter) (empty: keep original resolution)

       <b>-dy</b> <u>yres</u>, <b>--dy</b> <u>yres</u>
              Output resolution in y (in meter) (empty: keep original resolution)

       <b>-r</b> <u>resampling_method</u>, <b>--resampling-method</b> <u>resampling_method</u>
              Resampling method (near: nearest neighbor, bilinear: bi-linear interpolation).

       <b>-a_srs</b> <u>EPSG:number</u>, <b>--a_srs</b> <u>EPSG:number</u>
              Override  the  spatial  reference  for  the  output file (leave blank to copy from input file, use
              epsg:3035 to use European projection and force to European grid)

       <b>-nodata</b> <u>value</u>, <b>--nodata</b> <u>value</u>
              Nodata value to put in image if out of bounds.

       Advanced options

       <b>-e</b> <u>vector</u>, <b>--extent</b> <u>vector</u>
              get boundary from extent from polygons in vector file

       <b>-cut</b>, <b>--crop_to_cutline</b>
              Crop the extent of the target dataset to the extent of the cutline

       <b>-eo</b> <u>options</u>, <b>--eo</b> <u>options</u>
              Special  extent  options  controlling  rasterization:   ATTRIBUTE|CHUNKYSIZE|ALL_TOUCHED|BURN_VAL‐
              UE_FROM|MERGE_ALG, e.g., <b>-eo</b> ATTRIBUTE=<u>fieldname</u>

       <b>-m</b> <u>file</u>, <b>--mask</b> <u>file</u>
              Use the specified file as a validity mask (0 is nodata)

       <b>-msknodata</b> <u>value</u>, <b>--msknodata</b> <u>value</u>
              Mask value not to consider for crop

       <b>-mskband</b> <u>value</u>, <b>--mskband</b> <u>value</u>
              Mask band to read (0 indexed).

       <b>-co</b> <u>NAME=VALUE</u>, <b>--co</b> <u>NAME=VALUE</u>
              Creation option for output file.  Multiple options can be specified.

       <b>-x</b> <u>center_x</u>, <b>--x</b> <u>center_x</u>
              x-coordinate of image center to crop (in meter)

       <b>-y</b> <u>center_y</u>, <b>--y</b> <u>center_y</u>
              y-coordinate of image center to crop (in meter)

       <b>-nx</b> <u>size_x</u>, <b>--nx</b> <u>size_x</u>
              image size in x to crop (in meter)

       <b>-ny</b> <u>size_y</u>, <b>--ny</b> <u>size_y</u>
              image size in y to crop (in meter)

       <b>-ns</b> <u>nsample</u>, <b>--ns</b> <u>nsample</u>
              number of samples to crop (in pixels)

       <b>-nl</b> <u>nlines</u>, <b>--nl</b> <u>nlines</u>
              number of lines to crop (in pixels)

       <b>-as</b> <u>min</u> <b>-as</b> <u>max</u>, <b>--autoscale</b> <u>min</u> <b>--autoscaleautoscale</b> <u>max</u>
              scale output to min and max, e.g., <b>--autoscale</b> <u>0</u> <b>--autoscale</b> <u>255</u>

       <b>-scale</b> <u>scale</u>, <b>--scale</b> <u>scale</u>
              output=scale*input+offset

       <b>-off</b> <u>offset</u>, <b>--offset</b> <u>offset</u>
              output=scale*input+offset

       <b>-ct</b> <u>filename</u>, <b>--ct</b> <u>filename</u>
              colour table in ASCII format having 5 columns: id R G B ALFA (0: transparent, 255: solid)

       <b>-align</b>, <b>--align</b>
              Align output bounding box to input image

       <b>-d</b> <u>description</u>, <b>--description</b> <u>description</u>
              Set image description

       <b>-v</b>, <b>--verbose</b>
              verbose

</pre><h4><b>EXAMPLE</b></h4><pre>
       Crop the input image to the given bounding box

       <b>pkcrop</b> <b>-i</b> <u>input.tif</u> <b>-ulx</b> <u>100</u> <b>-uly</b> <u>1000</u> <b>-lrx</b> <u>600</u> <b>-lrx</b> <u>100</u> <b>-o</b> <u>output.tif</u>

       Crop  the input image to the envelop of the given polygon and mask all pixels outside polygon as 0 (using
       <b><a href="../man1/gdal_rasterize.1.html">gdal_rasterize</a></b>(1))

       <b>pkcrop</b> <b>-i</b> <u>input.tif</u> <b>-e</b> <u>extent.shp</u> <b>-o</b> <u>output.tif</u>
       gdal_rasterize -i -burn 0 -l extent extent.shp output.tif
       <b>gdal_rasterize</b> <b>-i</b> <b>-burn</b> <u>0</u> <b>-l</b> <u>extent</u> <u>extent.shp</u> <u>output.tif</u>

       Extract bands 3,2,1 (starting from 0) in that order from multi-band raster image <u>input.tif</u>

       <b>pkcrop</b> <b>-i</b> <u>input.tif</u> <b>-b</b> <u>3</u> <b>-b</b> <u>2</u> <b>-b</b> <u>1</u> <b>-o</b> <u>output.tif</u>

       Scale raster floating point image <u>fimage.tif</u> with factor 100 and write as single byte image with the giv‐
       en colourtable (for auto scaling, see next example)

       <b>pkcrop</b> <b>-i</b> <u>fimage.tif</u> <b>-s</b> <u>100</u> <b>-ot</b> <u>Byte</u> <b>-o</b> <u>bimage.tif</u> <b>-ct</b> <u>colortable.txt</u>

       Automatically scale raster floating point image <u>fimage.tif</u> to [0:100] and write the output  as  a  single
       byte image with the given colourtable

       <b>pkcrop</b> <b>-i</b> <u>fimage.tif</u> <b>-as</b> <u>0</u> <b>-as</b> <u>100</u> <b>-ot</b> <u>Byte</u> <b>-o</b> <u>bimage.tif</u> <b>-ct</b> <u>colortable.txt</u>

       Crop raster image <u>large.tif</u> to the bounding box of raster image <u>small.tif</u> and use the same pixel size.

       <b>pkcrop</b> <b>-i</b> <u>large.tif</u> $(<b>pkinfo</b> <b>-i</b> <u>small.tif</u> <b>-bb</b> <b>-dx</b> <b>-dy</b>) <b>-o</b> <u>output.tif</u>

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man1/pkcomposite.1.html">pkcomposite</a></b>(1)

                                                 01 January 2025                                       <u><a href="../man1/pkcrop.1.html">pkcrop</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>