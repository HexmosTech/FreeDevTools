<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>i.rectify   -  Rectifies  an  image  by computing a coordinate transformation for each pixel in the image</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/grass-doc">grass-doc_8.4.1-1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       <b>i.rectify</b>   -  Rectifies  an  image  by computing a coordinate transformation for each pixel in the image
       based on the control points.

</pre><h4><b>KEYWORDS</b></h4><pre>
       imagery, rectify, geometry

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>i.rectify</b>
       <b>i.rectify</b> <b>--help</b>
       <b>i.rectify</b> [-<b>cat</b>] <b>group</b>=<u>name</u>  [<b>input</b>=<u>name</u>[,<u>name</u>,...]]  <b>extension</b>=<u>string</u> <b>order</b>=<u>integer</u>   [<b>resolution</b>=<u>float</u>]
       [<b>memory</b>=<u>memory</u> <u>in</u> <u>MB</u>]   [<b>method</b>=<u>string</u>]   [--<b>help</b>]  [--<b>verbose</b>]  [--<b>quiet</b>]  [--<b>ui</b>]

   <b>Flags:</b>
       <b>-c</b>
           Use current region settings in target location (def.=calculate smallest area)

       <b>-a</b>
           Rectify all raster maps in group

       <b>-t</b>
           Use thin plate spline

       <b>--help</b>
           Print usage summary

       <b>--verbose</b>
           Verbose module output

       <b>--quiet</b>
           Quiet module output

       <b>--ui</b>
           Force launching GUI dialog

   <b>Parameters:</b>
       <b>group</b>=<u>name</u> <b>[required]</b>
           Name of input imagery group

       <b>input</b>=<u>name[,name</u>,...]
           Name of input raster map(s)

       <b>extension</b>=<u>string</u> <b>[required]</b>
           Output raster map(s) suffix

       <b>order</b>=<u>integer</u> <b>[required]</b>
           Rectification polynomial order (1-3)
           Options: <u>1-3</u>
           Default: <u>1</u>

       <b>resolution</b>=<u>float</u>
           Target resolution (ignored if -c flag used)

       <b>memory</b>=<u>memory</u> <u>in</u> <u>MB</u>
           Maximum memory to be used (in MB)
           Cache size for raster rows
           Default: <u>300</u>

       <b>method</b>=<u>string</u>
           Interpolation method to use
           Options: <u>nearest,</u> <u>linear,</u> <u>cubic,</u> <u>lanczos,</u> <u>linear_f,</u> <u>cubic_f,</u> <u>lanczos_f</u>
           Default: <u>nearest</u>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <u>i.rectify</u>  uses  the  control  points  included  in the source data or identified with the Ground Control
       Points Manager to calculate a transformation matrix and then converts x,y cell  coordinates  to  standard
       map  coordinates  for  each  pixel  in  the  image.  The result is a planimetric image with a transformed
       coordinate system (i.e.,  a  different  coordinate  system  than  before  it  was  rectified).  Supported
       transformation  methods  are first, second, and third order polynomial and thin plate spline.  Thin plate
       spline is recommended for ungeoreferenced satellite  imagery  where  ground  control  points  (GCPs)  are
       included. Examples are NOAA/AVHRR and ENVISAT imagery which include throusands of GCPs.

       If  no  ground  control  points  are  available,  the  Ground  Control  Points Manager must be run before
       <u>i.rectify</u>. An image must be georeferenced before it can reside in  a  standard  coordinate  project,  and
       therefore  be analyzed with the other map layers there. Upon completion of <u>i.rectify</u>, the rectified image
       is deposited in the target standard coordinate project. This project is selected using <u>i.target</u>.

       More than one raster map may be rectified at a time. Each cell file should be given a unique output  file
       name. The rectified image or rectified raster maps will be located in the target project when the program
       is completed. The original unrectified files are not modified or removed.

       If  the  <b>-c</b> flag is used, <u>i.rectify</u> will only rectify that portion of the image or raster map that occurs
       within the chosen window region in the target project, and only that portion of the  cell  file  will  be
       relocated  in  the  target database. It is important therefore, to check the current mapset window in the
       target project if the <b>-c</b> flag is used.

       If you are rectifying a file with plans to patch it to another file  using  the  GRASS  program  <u>r.patch</u>,
       choose  option  number  one,  the current window in the target project. This window, however, must be the
       default window for the target project. When a file being rectified is smaller than the default window  in
       which  it is being rectified, NULLs are added to the rectified file. Patching files of the same size that
       contain NULL data, eliminates the possibility of a no-data line in the patched result. This  is  because,
       when  the  images  are  patched,  the  NULLs  in the image are "covered" with non-NULL pixel values. When
       rectifying files that are going to be patched, rectify all of the files using the same default window.

   <b>Coordinate</b> <b>transformation</b>
       The desired order of transformation (1, 2, or 3) is selected with the <b>order</b>  option.   The  program  will
       calculate the RMSE and check the required number of points.

   <b>Linear</b> <b>affine</b> <b>transformation</b> <b>(1st</b> <b>order</b> <b>transformation)</b>
       x’ = ax + by + c
       y’  =  Ax  +  By + C The a, b, c, A, B, C are determined by least squares regression based on the control
       points entered.  This transformation applies scaling, translation and  rotation.  It  is  NOT  a  general
       purpose  rubber-sheeting  like  TPS,  nor  is  it ortho-photo rectification using a DEM, not second order
       polynomial, etc. It can be used if (1) you have geometrically correct images,  and  (2)  the  terrain  or
       camera distortion effect can be ignored.

   <b>Polynomial</b> <b>Transformation</b> <b>Matrix</b> <b>(2nd,</b> <b>3d</b> <b>order</b> <b>transformation)</b>
       <u>i.rectify</u>  uses  a  first,  second,  or  third  order transformation matrix to calculate the registration
       coefficients. The number of control points required for a selected order of  transformation  (represented
       by n) is
       ((n  +  1)  *  (n  +  2)  /  2) or 3, 6, and 10 respectively. It is strongly recommended that one or more
       additional points be identified to allow for an overly-determined transformation calculation  which  will
       generate  the  Root  Mean Square (RMS) error values for each included point. The RMS error values for all
       the included control points are immediately recalculated when the user selects a different transformation
       order from the menu bar. The polynomial equations are performed using  a  modified  Gaussian  elimination
       method.

   <b>Thin</b> <b>plate</b> <b>spline</b> <b>(TPS)</b> <b>transformation</b>
       TPS  transformation is selected with the <b>-t</b> flag. This method of coordinate transformation is recommended
       for satellite imagery where hundreds or thousands of GCPs are included, and  for  historical  printed  or
       scanned maps with unknown georeferencing and/or known localized distortions.

       TPS  combines  a  linear  affine transformation with individual transformation coefficients for each GCP,
       using the radial basis kernel function with the distance <u>dist</u> between any two points:
       dist2 * log(dist) As a consequence, localized distortions can be removed  with  TPS  transformation.  For
       example, scan line sensors will have due to the changing viewing angle larger distortions towards the end
       points of the scan line than at the center of the scan line. Even higher order polynomial transformations
       are not able to remove these locally different distortions, but TPS transformation can. For best results,
       TPS requires an even and, for localized distortions, dense spacing of GCPs.

   <b>Resampling</b> <b>method</b>
       The  rectified  data is resampled with one of seven different methods: <u>nearest</u>, <u>bilinear</u>, <u>cubic</u>, <u>lanczos</u>,
       <u>bilinear_f</u>, <u>cubic_f</u>, or <u>lanczos_f</u>.

       The <u>method=nearest</u> method, which performs a nearest neighbor assignment, is the fastest of the resampling
       methods. It is primarily used for categorical data such as a land use classification, since it  will  not
       change  the  values  of  the  data cells. The <u>method=bilinear</u> method determines the new value of the cell
       based on a weighted distance average of the 4 surrounding cells in the input map. The <u>method=cubic</u> method
       determines the new value of the cell based on a weighted distance average of the 16 surrounding cells  in
       the  input  map.   The  <u>method=lanczos</u>  method  determines  the new value of the cell based on a weighted
       distance average of the 25 surrounding cells in the input map.

       The bilinear, cubic and lanczos interpolation methods are most appropriate for continuous data and  cause
       some  smoothing.  These  options  should not be used with categorical data, since the cell values will be
       altered.

       In the bilinear, cubic and lanczos methods, if any of the surrounding cells used to interpolate  the  new
       cell  value  are  NULL,  the resulting cell will be NULL, even if the nearest cell is not NULL. This will
       cause some thinning along NULL borders, such as the coasts of  land  areas  in  a  DEM.  The  bilinear_f,
       cubic_f  and  lanczos_f  interpolation  methods  can be used if thinning along NULL edges is not desired.
       These methods "fall back" to simpler interpolation methods along NULL borders.  That is, from lanczos  to
       cubic to bilinear to nearest.

       If  nearest  neighbor  assignment is used, the output map has the same raster format as the input map. If
       any of the other interpolations is used, the output map is written as floating point.

</pre><h4><b>NOTES</b></h4><pre>
       If <u>i.rectify</u> starts normally but after some time the following text is seen:
        ERROR: Error writing segment file
       the user may try the <b>-c</b> flag or the module needs more free space on the hard drive.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       The GRASS 4 <u>Image</u> <u>Processing</u> <u>manual</u>

        <u>m.transform,</u> <u>r.proj,</u> <u>v.proj,</u> <u>i.group,</u> <u>i.target</u>
        <u>Ground</u> <u>Control</u> <u>Points</u> <u>Manager</u>

</pre><h4><b>AUTHORS</b></h4><pre>
       William R. Enslin, Michigan State University, Center for Remote Sensing

       Modified for GRASS 5.0 by:
       Luca Palmeri (<a href="mailto:palmeri@ux1.unipd.it">palmeri@ux1.unipd.it</a>)
       Bill Hughes
       Pierre de Mouveaux (<a href="mailto:pmx@audiovu.com">pmx@audiovu.com</a>)
       CMD mode by Bob Covill

</pre><h4><b>SOURCE</b> <b>CODE</b></h4><pre>
       Available at: i.rectify source code (history)

       Accessed: Friday Apr 04 01:21:00 2025

       Main index | Imagery index | Topics index | Keywords index | Graphical index | Full index

       © 2003-2025 GRASS Development Team, GRASS GIS 8.4.1 Reference Manual

GRASS 8.4.1                                                                                    <u><a href="../man1grass/i.rectify.1grass.html">i.rectify</a></u>(1grass)
</pre>
 </div>
</div></section>
</div>
</body>
</html>