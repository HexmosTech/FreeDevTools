<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>pmsearch - help text and names search for metrics, instances and instance domains</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/pcp">pcp_6.3.3-1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       <b>pmsearch</b> - help text and names search for metrics, instances and instance domains

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>pmsearch</b> [<b>-CdinqsStTV?</b>]  [<b>-c</b> <u>config</u>] [<b>-h</b> <u>host</u>] [<b>-p</b> <u>port</u>] [<b>-N</b> <u>number</u>] [<b>-O</b> <u>offset</u>] [<u>query</u> | <u>indom</u>]

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>pmsearch</b>  performs  full  text  search  queries  to  find metrics using names and help text from metrics,
       instance domains and instances.

       It makes use of capabilities of the Performance Co-Pilot (PCP) <b><a href="../man1/pmproxy.1.html">pmproxy</a></b>(1) service, the Valkey distributed
       key-value store and associated ValkeySearch module.

       Note that in order to use these services, it is <b>mandatory</b> that <b>pmproxy</b> is  communicating  with  a  Valkey
       key-value  server  that  has  the <u>valkey-search.so</u> module loaded.  When configured to do so, <b>pmproxy</b> will
       then automatically index PCP metric names, instance names, metric and instance domain help text into  the
       ValkeySearch   store,   from   PCP  archives  that  it  discovers  locally.   Refer  to  <b><a href="../man1/pmlogger.1.html">pmlogger</a></b>(1)  and
       <b><a href="../man1/pmlogger_daily.1.html">pmlogger_daily</a></b>(1) for further details.

       By default <b>pmsearch</b> communicates with a local key-value server however the <b>-h</b> and <b>-p</b> options can be  used
       to  specify  an  alternate  Valket  instance.   If this instance is a node of a Valkey cluster, all other
       instances in the cluster will be discovered and used automatically.

</pre><h4><b>OPTIONS</b></h4><pre>
       <b>-c</b> <u>config</u>, <b>--config</b>=<u>config</u>
            Specify the <u>config</u> file to use.

       <b>-C</b>, <b>--no-colour</b>
            No highlighting in results text.

       <b>-d</b>, <b>--docid</b>
            Report document ID of each search result.  Documents are identified using a unique SHA-1 hash  which
            is always displayed in a 40-hexdigit human readable form.

       <b>-h</b> <u>host</u>, <b>--host</b>=<u>host</u>
            Connect to the key-value server at <u>host</u>, rather than the one the localhost.

       <b>-i</b>, <b>--info</b>
            Report search engine internal metrics.

       <b>-n</b>, <b>--indom</b>
            Perform an <u>instance</u> <u>domain</u> related entities search

       <b>-N</b> <u>N</u>, <b>--number</b>=<u>N</u>
            Return <u>N</u>, search results at most.

       <b>-O</b> <u>N</u>, <b>--offset</b>=<u>N</u>
            Paginated results from given offset.

       <b>-p</b> <u>port</u>, <b>--port</b>=<u>port</u>
            Connect to the key-value server at <u>port</u>, rather than the default <b>6379</b>.

       <b>-q</b>, <b>--query</b>
            Perform a general text search (default).

       <b>-s</b>, <b>--suggest</b>
            Perform a name suggestion search

       <b>-S</b>, <b>--score</b>
            Report score (rank) of each result.

       <b>-T</b>, <b>--total</b>
            Report total number of of search results.

       <b>-t</b>, <b>--times</b>
            Report elapsed search execution time.

       <b>-V</b>, <b>--version</b>
            Display version number and exit.

       <b>-?</b>, <b>--help</b>
            Display usage message and exit.

</pre><h4><b>EXAMPLES</b></h4><pre>
         $ pmsearch kernel idle
         Type: metric
         Name: <b>kernel</b>.all.cpu.<b>idle</b>
         One line: total <b>idle</b> CPU time from <a href="file:/proc/stat">/proc/stat</a> for all CPUs

         Type: metric
         Name: <b>kernel</b>.all.idletime
         One line: time the current <b>kernel</b> has been <b>idle</b> since boot

         Type: metric
         Name: <b>kernel</b>.percpu.cpu.<b>idle</b>
         InDom: 60.0
         One line: percpu <b>idle</b> CPU time metric from <a href="file:/proc/stat">/proc/stat</a>

</pre><h4><b>PCP</b> <b>ENVIRONMENT</b></h4><pre>
       Environment  variables with the prefix <b>PCP_</b> are used to parameterize the file and directory names used by
       PCP.  On each installation, the file <u>/etc/pcp.conf</u> contains the local values for  these  variables.   The
       <b>$PCP_CONF</b> variable may be used to specify an alternative configuration file, as described in <b><a href="../man5/pcp.conf.5.html">pcp.conf</a></b>(5).

       For environment variables affecting PCP tools, see <b><a href="../man3/pmGetOptions.3.html">pmGetOptions</a></b>(3).

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man1/PCPIntro.1.html">PCPIntro</a></b>(1), <b><a href="../man1/pmproxy.1.html">pmproxy</a></b>(1), <b><a href="../man1/pmlogger.1.html">pmlogger</a></b>(1) and <b><a href="../man1/pmlogger_daily.1.html">pmlogger_daily</a></b>(1).

Performance Co-Pilot                                   PCP                                           <u><a href="../man1/PMSEARCH.1.html">PMSEARCH</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>