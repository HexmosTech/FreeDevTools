<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>spew - measures I/O performance and/or generates I/O load</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/spew">spew_1.0.8-1.2_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       spew - measures I/O performance and/or generates I/O load

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>spew</b> <u>--write|--read|--read-after-write</u> [<u>OPTION</u>]... <u>TRANSFER_SIZE</u>[<u>kKmMgG</u>] <u>FILE</u>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       An  I/O performance measurement and load generation tool. Writes and/or reads generated data to or from a
       character device, block device, or regular file.

       <b>-B</b>, <b>--max-buffer-size</b>=<u>BUFFER_SIZE</u>
              Each <a href="../man2/read.2.html">read</a>(2)/<a href="../man2/write.2.html">write</a>(2) call uses a maximum buffer of size BUFFER_SIZE.

       <b>-b</b>, <b>--min-buffer-size</b>=<u>BUFFER_SIZE</u>
              Each <a href="../man2/read.2.html">read</a>(2)/<a href="../man2/write.2.html">write</a>(2) call uses a minimum buffer of size BUFFER_SIZE.

       <b>-c</b>, <b>--continue-after-error</b>
              Continue after data integrity errors.

       <b>-d</b>, <b>--direct</b>
              Use direct I/O. Should only be used on block device  files.  Not  all  operating  systems  support
              direct I/O

       <b>-g</b>, <b>--generate-load</b>
              Equivalent to: <b>-v</b> <b>-t</b> <b>-P</b> <b>-p</b> random <b>-i</b> 0.

       <b>-i</b>, <b>--iterations</b>=<u>COUNT</u>
              Write/read data COUNT times. If count is 0, repeats forever.

       <b>-l</b>, <b>--logfile</b>=<u>LOGFILE</u>
              Send log messages to LOGFILE.

       <b>--no-progress</b>
              Don't show progress (default).

       <b>--no-rcfiles</b>
              Don't use standard rcfiles.

       <b>-q</b>, <b>--no-statistics</b>
              Don't output statistics.

       <b>--no-tui</b>
              Don't use TUI interface.

       <b>-o</b>, <b>--offset</b>=<u>OFFSET</u>
              Seek to OFFSET before starting I/O.

       <b>-P</b>, <b>--progress</b>
              Show progress.

       <b>-p</b>, <b>--pattern</b>=<u>PATTERN</u>
              Use data pattern PATTERN when reading or writing data.

       <b>-r</b>, <b>--random</b>
              Read/Write buffers to random offsets.

       <b>--raw</b>  An alias for <b>--read-after-write</b>.

       <b>--rcfile</b>=<u>RCFILE</u>
              Read command-line options from RCFILE.

       <b>--read</b> Read date from FILE.

       <b>--read-after-write</b>
              Read back data after writing to FILE.

       <b>-S</b>, <b>--seed</b>=<u>SEED</u>
              Use SEED for random number seed.

       <b>-s</b>, <b>--sync</b>
              Use synchronous I/O.

       <b>--statistics</b>
              Output statistics (default).

       <b>-t</b>, <b>--tui</b>
              Use curses-based, terminal user interface.

       <b>-u</b>, <b>--units</b>=<u>UNITS</u>
              Show transfer rate in UNITS units.

       <b>--usage</b>
              Show brief usage message and exit.

       <b>-V</b>, <b>--version</b>
              Output version information and exit.

       <b>-v</b>, <b>--detailed-statistics</b>
              Output detailed statistics.

       <b>--write</b>
              Write data to FILE.

       -?, <b>--help</b>
              Show this help and exit.

       FILE   Regular or device file to write data to.

       LOGFILE
              Path to a file used for logging.

       MAX_BUFFER_SIZE
              Minimum  buffer  size  used  in  each  <a href="../man2/read.2.html">read</a>(2)/<a href="../man2/write.2.html">write</a>(2)  call  (default is MIN_BUFFER_SIZE bytes).
              MAX_BUFFER_SIZE. Must  be  an  even  multiple  of  512  bytes  and  can  be  specified  in  bytes,
              kibibytes(k), kilobytes(K), <a href="../manm/mebibytes.m.html">mebibytes</a>(m), megabytes(M), gibibytes(g), gigabytes(G).  tebibytes(t),
              or   terabytes(T).    MAX_BUFFER_SIZE   defaults   to   MIN_BUFFER_SIZE.    If  MAX_BUFFER_SIZE  &gt;
              MIN_BUFFER_SIZE, random buffers sizes between the two limits are used.  MAX_BUFFER_SIZE must be an
              even multiple of MIN_BUFFER_SIZE.

       MIN_BUFFER_SIZE
              Minimum buffer size used in each <a href="../man2/read.2.html">read</a>(2)/<a href="../man2/write.2.html">write</a>(2) call (default is 512  bytes).   MIN_BUFFER_SIZE.
              Must  be  an even multiple of 512 bytes and can be specified in bytes, kibibytes(k), kilobytes(K),
              <a href="../manm/mebibytes.m.html">mebibytes</a>(m), megabytes(M), gibibytes(g), gigabytes(G).  tebibytes(t), or terabytes(T).

       OFFSET Position to seek to in the file before starting I/O  (default  is  0).  OFFSET  must  be  an  even
              multiple  of  512  bytes  and can be specified in bytes, kibibytes(k), kilobytes(K), <a href="../manm/mebibytes.m.html">mebibytes</a>(m),
              megabytes(M), gibibytes(g), gigabytes(G).  tebibytes(t), or terabytes(T).

       PATTERN
              Data pattern used when writing/reading data. Available  patterns  are:  none,  zeros,  ones,  alt,
              random, numbers, and "#" (where "#" is a number between 0-255). The default pattern is "none".

       RCFILE Read additional command-line options from RCFILE.  Other options on the command-line will override
              options in RCFILE.

       SEED   Used to seed the random number generator Must be &gt;= 1 and &lt;= 2^32.

       TRANSFER_SIZE
              Total  number  of  bytes  to  transfer  (must  be  an  even  multiple  of both MIN_BUFFER_SIZE and
              MAX_BUFFER)SIZE).  TRANSFER_SIZE can be specified in bytes, kilobytes, megabytes, or gigabytes.

       UNITS  Kibibytes(k), kilobytes(K), <a href="../manm/mebibytes.m.html">mebibytes</a>(m), megabytes(M), gibibytes(g), gigabytes(G).  tebibytes(t),
              or terabytes(T).

</pre><h4><b>EXAMPLES</b></h4><pre>
       <b>spew</b> <b>--write</b> <b>-b</b> <b>16k</b> <b>1m</b> <b>/tmp/bigfile</b>

       or

       <b>spew</b> <b>-b</b> <b>16k</b> <b>1m</b> <b>/tmp/bigfile</b>

       Writes 1 mebibyte (1 mebibyte = 1024*1024 bytes) using 16 kibibytes (1 kibibyte = 1024 bytes) requests to
       the file <u>/tmp/bigfile</u> using the default pattern (random).  Displays the write transfer rate in  kibibytes
       per second and the write transfer time in seconds.

       <b>spew</b> <b>--write</b> <b>-u</b> <b>m</b> <b>-i</b> <b>10</b> <b>-b</b> <b>1k</b> <b>256k</b> <b>/dev/sda1</b>

       or

       <b>spew</b> <b>-u</b> <b>m</b> <b>-i</b> <b>10</b> <b>-b</b> <b>1k</b> <b>256k</b> <b>/dev/sda1</b>

       Writes  256  kibibytes  using  1  kibibyte requests to the block device file <u>/dev/sda1</u> 10 times using the
       default pattern (random).  The iteration and cumulative write transfer rates are displayed  in  mebibytes
       per second and the iteration and cumulative write transfer times are displayed in seconds.

       <b>spew</b> <b>--raw</b> <b>-d</b> <b>-o</b> <b>1m</b> <b>-b</b> <b>16m</b> <b>1g</b> <b>/tmp/bigfile</b>

       or

       <b>regorge</b> <b>-s</b> <b>-o</b> <b>1m</b> <b>-b</b> <b>16m</b> <b>1g</b> <b>/tmp/bigfile</b>

       Write  1  gibibyte  (1  gibibyte  =  1024*1024*1024  bytes)  starting at an offset of 1 mebibyte using 16
       mebibyte requests to the file <u>/tmp/bigfile</u> using the default  pattern  (random).   The  data  is  written
       synchronously  and  flushed  at  file  close.  Then read in the same data using the same request size and
       offset.  The data is checked to ensure that the data read in matches the data read out.  Write  and  read
       transfer  rates  are  displayed  in  kibibytes/second.   Read  and  write transfer times are displayed in
       seconds.

       <b>spew</b> <b>--read</b> <b>-i</b> <b>0</b> <b>-u</b> <b>M</b> <b>-p</b> <b>zeros</b> <b>-b</b> <b>512</b> <b>1m</b> <b>/dev/zero</b>

       or

       <b>gorge</b> <b>-i</b> <b>0</b> <b>-u</b> <b>M</b> <b>-p</b> <b>zeros</b> <b>-b</b> <b>512</b> <b>1m</b> <b>/dev/zero</b>

       Read 1 mebibyte of data using 512 byte requests from the file <u>/dev/zero</u> an infinite number of times using
       the zeros pattern (don't check the data).  The iteration and cumulative read transfer rates are displayed
       in megabytes (1 megabyte = 1,000,000 bytes) per second and the iteration  and  cumulative  read  transfer
       times are displayed in seconds.

       <b>spew</b> <b>--raw</b> <b>-g</b> <b>-r</b> <b>-b</b> <b>1k</b> <b>-B</b> <b>256K</b> <b>1t</b> <b>/dev/md1</b>

       or

       <b>regorge</b> <b>-g</b> <b>-r</b> <b>-b</b> <b>1k</b> <b>-B</b> <b>256K</b> <b>1t</b> <b>/dev/md1</b>

       Write  1  tebibyte  (1  tebibyte  = 1024*1024*1024*1024 bytes) using 1-256 kibibyte requests to the block
       device <u>/dev/md1</u> using the random pattern.  Random seeks are performed  before  each  transfer,  but  each
       block  between  the  start  and  end  of  the data is written exactly once.  The request sizes are chosen
       randomly.  Then read in the same data using the same request  sizes  and  seeks  in  the  same  sequence.
       Repeat the above sequence an infinite number of times until told to quit (via signal or TUI command).

       The  data  is  checked  to ensure that the data read in matches the data read out.  A curses-based TUI is
       used to display iteration and cumulative transfer rates, transfer times, and bytes transferred.   Display
       verbose statistics after quitting.

</pre><h4><b>ALGORITHMS</b></h4><pre>
       The following algorithm is used to determine blocksize when MAX_BUFFER_SIZE &gt; MIN_BUFFER_SIZE:

       Find the largest blocksize that is a power of 2 and is &gt;= MAX_BUFFER_SIZE.  Call this maxbuffersize. Find
       the  smallest  buffersize  that  is  a  power  of  2  and is &gt;= MIN_BUFFER_SIZE. Call this minbuffersize.
       Chunksize = maxbuffersize * (difference in number of bits between min and maxbuffersize + 1).  The number
       of chunks is TRANSFER_SIZE/chunksize. Call this numchunks.  There will be numchunks number of read/writes
       that are of size maxbuffersize, 2 * numchunks number of read/writes that are of size maxbuffersize/2, 4 *
       numchunks number of read/writes that are of size  maxbuffersize/4,  and  so  on  until  minbuffersize  is
       reached.  MIN_BUFFER_SIZE is used for any remaining transfers if TRANSFER_SIZE is not evenly divisible by
       chunksize.

       Example: Using a MIN_BLOCK_SIZE of 1k, a MAX_BLOCK_SIZE of 8k and a TRANSFER_SIZE of 264k results in 8 8k
       read/writes, 16 4k read/write, 32 2k read/writes, and 64 + 8 1k read/writes.

</pre><h4><b>PATTERNS</b></h4><pre>
       Use  the  following  <a href="../man1/od.1.html">od</a>(1)  command  to  examine  spew generated files where a data integrity problem has
       occurred:

       od -A d --format=d8 --width=32  &lt;file&gt;

</pre><h4><b>FILES</b></h4><pre>
       $HOME/.spewrc or $SPEWRC
              Holds user default options. These options precede any options included on the command-line.

       /etc/spew.conf
              Holds system-wide default options.  These options precede any options included on the command-line
              and options included from $HOME/.spewrc or $SPEWRC.

</pre><h4><b>AUTHOR</b></h4><pre>
       Written by Andrew Patterson &lt;<a href="mailto:andrew.patterson@hp.com">andrew.patterson@hp.com</a>&gt;

</pre><h4><b>REPORTING</b> <b>BUGS</b></h4><pre>
       Report bugs to Andrew Patterson &lt;<a href="mailto:andrew.patterson@hp.com">andrew.patterson@hp.com</a>&gt;.

       Copyright 2007 Hewlett-Packard Corp.

spew 1.0.8                                          May 2010                                             <u><a href="../man1/SPEW.1.html">SPEW</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>