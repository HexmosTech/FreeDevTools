<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>pmlogger_daily_report - write Performance Co-Pilot daily summary reports</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/pcp">pcp_6.3.3-1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       <b>pmlogger_daily_report</b> - write Performance Co-Pilot daily summary reports

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>$PCP_BINADM_DIR/pmlogger_daily_report</b>  [<b>-ApV?</b>]   [<b>-a</b>  <u>archivefile</u>]  [<b>-f</b>  <u>outputfile</u>]  [<b>-h</b>  <u>hostname</u>]  [<b>-l</b>
       <u>logfile</u>] [<b>-o</b> <u>directory</u>] [<b>-t</b> <u>interval</u>]

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>pmlogger_daily_report</b> writes daily performance summary reports, much like those produced by  <b><a href="../man1/sadc.1.html">sadc</a></b>(1)  and
       the <b><a href="../man8/sa2.8.html">sa2</a></b>(8) utility.

       All of the command line arguments are optional and intended to be self explanatory.

       By default, the reports are not generated, but if the <u>pcp-zeroconf</u> package has been installed (there will
       be files in <b>$PCP_VAR_DIR/config/pmlogconf/zeroconf</b>) then the necessary metrics will have been included in
       the default <b><a href="../man1/pmlogger.1.html">pmlogger</a></b>(1) configuration file and the reports will be generated.

       The  reports  are  generated  (by  default) soon after midnight, once <b><a href="../man1/pmlogger_daily.1.html">pmlogger_daily</a></b>(1) has completed the
       merging of any partial archives to generate one archive for yesterday's activity.

       Each performance summary report is named <b>sar</b><u>XX</u> (where <u>XX</u> is yesterdays day-of-the-month).  The <u>outputfile</u>
       may be changed with the <b>-f</b> option.  The report will  be  written  to  the  <u>$PCP_LOG_DIR/sa</u>  directory  by
       default, but this may be changed with the <b>-o</b> option to a different <u>directory</u>.

       Note  that  there  are sufficiently flexible command line options for <b>pmlogger_daily_report</b> to be used to
       read any <u>archivefile</u> and write the report to any output directory.

       If the <b>-a</b> option is not given, the default input <u>archivefile</u> is <u>$PCP_ARCHIVE_DIR/HOSTNAME/YYYYMMDD</u>, where
       <u>HOSTNAME</u> defaults to the local hostname (unless changed with the <b>-h</b> option) and <u>YYYYMMDD</u> is the base name
       of yesterdays merged archive, as produced by <b><a href="../man1/pmlogger.1.html">pmlogger</a></b>(1) and  <b><a href="../man1/pmlogger_daily.1.html">pmlogger_daily</a></b>(1).   If  <u>archivefile</u>  is  a
       directory,  then  <b>pmlogger_daily_report</b>  will  use  all PCP archives found in that directory to write the
       report (this is known as multi-archive mode, and may be considerably  slower  than  specifying  a  single
       archive as the input).

       The  reports  themselves  are  created  by the <b><a href="../man1/pmrep.1.html">pmrep</a></b>(1) utility using its default configuration file, see
       <b><a href="../man5/pmrep.conf.5.html">pmrep.conf</a></b>(5).  The <b><a href="../man1/pmrep.1.html">pmrep</a></b>(1) configuration entries used to write the reports is currently hardwired  into
       the <b>pmlogger_daily_report</b> script.

       Finally,  the  input  archives must contain sufficient metrics as needed by <b><a href="../man1/pmrep.1.html">pmrep</a></b>(1) to write the report.
       On platforms that support it, the <u>pcp-zeroconf</u> package configures PCP logging  as  required  for  this  -
       hence  <b>pmlogger_daily_report</b>  should  be  used  with the <b><a href="../man1/pmlogger.1.html">pmlogger</a></b>(1) configuration that is set up by <b>pcp-</b>
       <b>zeroconf</b>.  As the name suggests, <b>pcp-zeroconf</b> requires no additional configuration after installation  in
       order to capture the required archives needed by <b>pmlogger_daily_report</b>.

</pre><h4><b>OPTIONS</b></h4><pre>
       The available command line options are:

       <b>-a</b> <u>archive</u>
            Specifies an alternate input <u>archive</u> file basename or directory path.

       <b>-A</b>   Use  the start and end times of input archive for the report, as opposed to the default behaviour of
            24 hours from midnight yesterday.

       <b>-f</b> <u>filename</u>
            Specifies an alternate output <u>filename</u>.  <b>-h</b> <u>hostname</u> Specifies an alternate <u>hostname</u> to  use  within
            the default input archive file path.

       <b>-l</b> <u>file</u>, <b>--logfile</b>=<u>file</u>
            In  order  to  ensure  that  mail  is  not  unintentionally  sent  when  this  script  is  run  from
            <b><a href="../man1/pmlogger_daily.1.html">pmlogger_daily</a></b>(1)  diagnostics  are  always  sent  to  a  log  <u>file</u>.   By  default,  this  file   is
            <u>$PCP_LOG_DIR/pmlogger/pmlogger_daily_report.log</u>  but  this  can  be changed using the <b>-l</b> option.  If
            this log file already exists when the script  starts,  it  will  be  renamed  with  a  <u>.prev</u>  suffix
            (overwriting any log file saved earlier) before diagnostics are generated to the log file.

       <b>-p</b>   If  this option is specified then the status of the daily processing is polled and if the report has
            not been done in the last 24 hours then it is done now.   With  this  option,  <b>pmlogger_daily_report</b>
            simply exits if the previous day's processing has already been done.

            This option is no longer required as the polling of <b><a href="../man1/pmlogger_daily.1.html">pmlogger_daily</a></b>(1) will ensure the report will be
            generated, however the option is retained for backwards compatibility.

       <b>-t</b> <u>interval</u>
            Specifies  the  sampling  <u>interval</u>  used  when  generating  the  report,  in the format described in
            <b><a href="../man1/PCPIntro.1.html">PCPIntro</a></b>(1).  The default is every 10 minutes.

       <b>-V</b>, <b>--verbose</b>
            The output from the execution of the script may be extended using this option which enables  verbose
            tracing  of  activity.   By  default the script generates no log output unless some error or warning
            condition is encountered.

       <b>-?</b>, <b>--help</b>
            Display usage message and exit.

</pre><h4><b>PCP</b> <b>ENVIRONMENT</b></h4><pre>
       Environment variables with the prefix <b>PCP_</b> are used to parameterize the file and directory names used  by
       PCP.   On  each  installation, the file <u>/etc/pcp.conf</u> contains the local values for these variables.  The
       <b>$PCP_CONF</b> variable may be used to specify an alternative configuration file, as described in <b><a href="../man5/pcp.conf.5.html">pcp.conf</a></b>(5).

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man1/PCPIntro.1.html">PCPIntro</a></b>(1), <b><a href="../man1/pmlogger_daily.1.html">pmlogger_daily</a></b>(1), <b><a href="../man1/pmlogger.1.html">pmlogger</a></b>(1), <b><a href="../man1/pmrep.1.html">pmrep</a></b>(1), <b><a href="../man1/sadc.1.html">sadc</a></b>(1) and <b><a href="../man8/sa2.8.html">sa2</a></b>(8).

Performance Co-Pilot                                   PCP                              <u><a href="../man1/PMLOGGER_DAILY_REPORT.1.html">PMLOGGER_DAILY_REPORT</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>