<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>pmnsmerge - merge multiple versions of a Performance Co-Pilot PMNS</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/pcp">pcp_6.3.3-1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       <b>pmnsmerge</b> - merge multiple versions of a Performance Co-Pilot PMNS

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>$PCP_BINADM_DIR/pmnsmerge</b> [<b>-adfxv</b>] <u>infile</u> [...]  <u>outfile</u>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>pmnsmerge</b> merges multiple instances of a Performance Metrics Name Space (PMNS), as used by the components
       of the Performance Co-Pilot (PCP).

       Each <u>infile</u> argument names a file that includes the root of a PMNS, of the form

                 root {
                     /* arbitrary stuff */
                 }

       The  order  in  which the <u>infile</u> files are processed is determined by the presence or absence of embedded
       control lines of the form

       #define _DATESTAMP <u>YYYYMMDD</u>

       Files without a control line are processed first and in the order they appear on the command  line.   The
       other files are then processed in order of ascending _DATESTAMP.

       The <b>-a</b> option suppresses the argument re-ordering and processes all files in the order they appear on the
       command line.

       The  merging  proceeds  by  matching names in PMNS, only those <b>new</b> names in each PMNS are considered, and
       these are added after any existing metrics with the longest possible matching prefix in their names.  For
       example, merging these two input PMNS

                 root {                    root {
                                               surprise  1:1:3
                     mine       1:1:1          mine      1:1:1
                     foo                       foo
                                               yawn
                     yours      1:1:2
                 }                         }
                 foo {                     foo {
                     fumble     1:2:1
                                               mumble    1:2:3
                     stumble    1:2:2          stumble   1:2:2
                 }                         }
                                           yawn {
                                               sleepy    1:3:1
                                           }

       Produces the resulting PMNS in <u>out</u>.

                 root {
                     mine      1:1:1
                     foo
                     yours     1:1:2
                     surprise  1:1:3
                     yawn
                 }
                 foo {
                     fumble    1:2:1
                     stumble   1:2:2
                     mumble    1:2:3
                 }
                 yawn {
                     sleepy    1:3:1
                 }

       To avoid accidental over-writing of PMNS files, <u>outfile</u> is expected to not exist when  <b>pmnsmerge</b>  starts.
       The  <b>-f</b>  option  allows  an  existing  <u>outfile</u>  to be unlinked (if possible) and truncated before writing
       starts.

       Normally duplicate names for the same Performance Metric Identifier (PMID) in a PMNS are allowed.  The <b>-d</b>
       option is the default option and is included for backwards compatibility.  The  <b>-x</b>  option  reverses  the
       default  and  <b>pmnsmerge</b> will report an error and exit with a non-zero status if a duplicate name is found
       for a PMID in any of the <u>input</u> PMNS files or in the merged <u>output</u> PMNS.

       The <b>-v</b> option produces one line of diagnostic output as each <u>infile</u> is processed.

       Once all of the merging has been completed, <b>pmnsmerge</b> will attempt to load the resultant namespace  using
       <b><a href="../man3/pmLoadASCIINameSpace.3.html">pmLoadASCIINameSpace</a></b>(3) - if this fails for any reason, <u>outfile</u> will still be created, but <b>pmnsmerge</b> will
       report the problem and exit with non-zero status.

       Using  <b>pmnsmerge</b>  with  a  single  <u>input</u>  argument  allows  that PMNS file to be checked.  In addition to
       syntactic checking, specifying <b>-x</b> will also enable a check for duplicate names for all PMIDs.

</pre><h4><b>OPTIONS</b></h4><pre>
       The available command line options are:

       <b>-a</b>   Process files in command line order.

       <b>-d</b>, <b>--dupok</b>
            Allow duplicate metric names per PMID.  This is the default.

       <b>-f</b>, <b>--force</b>
            Overwrite output file if it already exists.

       <b>-v</b>, <b>--verbose</b>
            Verbose input processing.

       <b>-x</b>, <b>--nodups</b>
            Do not allow duplicate metric names per PMID.

       <b>-?</b>, <b>--help</b>
            Display usage message and exit.

</pre><h4><b>CAVEATS</b></h4><pre>
       Once the writing of the new <u>outfile</u> file has begun, the  signals  SIGINT,  SIGHUP  and  SIGTERM  will  be
       ignored to protect the integrity of the new file.

</pre><h4><b>PCP</b> <b>ENVIRONMENT</b></h4><pre>
       Environment  variables with the prefix <b>PCP_</b> are used to parameterize the file and directory names used by
       PCP.  On each installation, the file <u>/etc/pcp.conf</u> contains the local values for  these  variables.   The
       <b>$PCP_CONF</b> variable may be used to specify an alternative configuration file, as described in <b><a href="../man5/pcp.conf.5.html">pcp.conf</a></b>(5).

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man1/pmnsadd.1.html">pmnsadd</a></b>(1), <b><a href="../man1/pmnsdel.1.html">pmnsdel</a></b>(1), <b><a href="../man3/pmLoadASCIINameSpace.3.html">pmLoadASCIINameSpace</a></b>(3), <b><a href="../man5/pcp.conf.5.html">pcp.conf</a></b>(5), <b><a href="../man5/pcp.env.5.html">pcp.env</a></b>(5) and <b><a href="../man5/PMNS.5.html">PMNS</a></b>(5).

Performance Co-Pilot                                   PCP                                          <u><a href="../man1/PMNSMERGE.1.html">PMNSMERGE</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>