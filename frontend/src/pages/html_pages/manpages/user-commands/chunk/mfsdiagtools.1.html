<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>mfsdiagtools - MooseFS diagnostic tools</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/moosefs-client">moosefs-client_3.0.117-1.2_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       mfsdiagtools - <b>MooseFS</b> diagnostic tools

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>mfscheckfile</b> <u>FILE</u>...

       <b>mfsfilerepair</b> [<b>-n</b>|<b>-h</b>|<b>-H</b>|<b>-k</b>|<b>-m</b>|<b>-g</b>] <u>FILE</u>...

       <b>mfsfileinfo</b> <u>FILE</u>...

       <b>mfsdirinfo</b> [<b>-n</b>|<b>-h</b>|<b>-H</b>|<b>-k</b>|<b>-m</b>|<b>-g</b>] [<b>-i</b>|<b>-d</b>|<b>-f</b>|<b>-c</b>|<b>-l</b>|<b>-s</b>|<b>-r</b>] [<b>-p</b>] <u>OBJECT</u>...

       <b>mfsfilepaths</b> <u>OBJECT</u>|<u>INODE</u>...

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>mfscheckfile</b>  checks  and  prints  number  of  chunks  and  number of chunk copies belonging to specified
       file(s).  It can be used on any file, included deleted (<u>trash</u>).

       <b>mfsfilerepair</b> deals with broken files (those which cause I/O errors on  read  operations)  to  make  them
       partially  readable. In case of missing chunk it fills missing parts of file with zeros; in case of chunk
       version mismatch it sets chunk version known to <b>mfsmaster</b> to highest one  found  on  chunkservers.  Note:
       because  in  the second case content mismatch can occur in chunks with the same version, it is advised to
       make a copy (not a snapshot!)  and delete original file after "repairing".

       <b>mfsfileinfo</b> prints location (<u>chunkserver</u> host and  port)  of  each  chunk  copy  belonging  to  specified
       file(s).  It can be used on any file, included deleted (<u>trash</u>).

       <b>mfsdirinfo</b>  is  extended,  MooseFS-specific  equivalent  of  <b>du</b>  <b>-s</b>  command.  It prints summary for each
       specified object (single file or directory tree). If you only want to see one parameter, then add one  of
       show options (see <b>SHOW</b> <b>OPTIONS</b>). By default it returns data from internal master counters (very fast, but
       not precise). All repeated nodes (hard links) and chunks (snapshots) are counted multiple times. To count
       stats  more preciselly you can use <b>-p</b> switch which turns on slow, recursive procedure. In this mode nodes
       and chunks are counted only once  and  the  system  uses  current  number  of  chunk  copies  instead  of
       goal/labels. System administrators might consider using <b>mfsmetadirinfo</b> (see <b><a href="../man8/mfsmetadirinfo.8.html">mfsmetadirinfo</a></b>(8)).

       <b>mfsfilepaths</b>  tool  can  be used to find all occurrences (hard links) of given file in filesystem. It can
       also be used to find a file with given i-node number.  In case of searching for i-node number,  the  tool
       has to be run in mfs mounted directory.

</pre><h4><b>GENERAL</b> <b>OPTIONS</b></h4><pre>
       Most  of <b>mfstools</b> use <b>-n</b>, <b>-h</b>, <b>-H</b>, <b>-k</b>, <b>-m</b> and <b>-g</b> options to select format of printed numbers. <b>-n</b> causes to
       print exact numbers, <b>-h</b> uses binary prefixes (Ki, Mi, Gi as 2^10, 2^20 etc.) while <b>-H</b>  uses  SI  prefixes
       (k,  M,  G  as  10^3,  10^6  etc.). <b>-k</b>, <b>-m</b> and <b>-g</b> show plain numbers respectivaly in kibis (binary kilo -
       1024), mebis (binary mega - 1024^2) and gibis (binary giga -  1024^3).   The  same  can  be  achieved  by
       setting  <b>MFSHRFORMAT</b>  environment  variable  to:  <b>0</b> (exact numbers), <b>1</b> or <b>h</b> (binary prefixes), <b>2</b> or <b>H</b> (SI
       prefixes), <b>3</b> or <b>h+</b> (exact numbers and binary prefixes), <b>4</b> or <b>H+</b> (exact  numbers  and  SI  prefixes).  The
       default is to print just exact numbers.

</pre><h4><b>SHOW</b> <b>OPTIONS</b></h4><pre>
       <b>-i</b>     show number of inodes

       <b>-d</b>     show number of directories

       <b>-f</b>     show number of files

       <b>-c</b>     show number of chunks

       <b>-l</b>     show length

       <b>-s</b>     show size

       <b>-r</b>     show realsize

</pre><h4><b>REPORTING</b> <b>BUGS</b></h4><pre>
       Report bugs to &lt;<a href="mailto:bugs@moosefs.com">bugs@moosefs.com</a>&gt;.

</pre><h4><b>COPYRIGHT</b></h4><pre>
       Copyright (C) 2023 Jakub Kruszona-Zawadzki, Saglabs SA

       This file is part of MooseFS.

       MooseFS  is  free  software;  you can redistribute it and/or modify it under the terms of the GNU General
       Public License as published by the Free Software Foundation, version 2 (only).

       MooseFS is distributed in the hope that it will be useful, but WITHOUT ANY  WARRANTY;  without  even  the
       implied  warranty  of  MERCHANTABILITY  or  FITNESS  FOR A PARTICULAR PURPOSE. See the GNU General Public
       License for more details.

       You should have received a copy of the GNU General Public License along with MooseFS; if  not,  write  to
       the  Free  Software  Foundation,  Inc.,  51 Franklin St, Fifth Floor, Boston, MA 02111-1301, USA or visit
       <a href="http://www.gnu.org/licenses/gpl-2.0.html">http://www.gnu.org/licenses/gpl-2.0.html</a>

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man8/mfsmount.8.html">mfsmount</a></b>(8), <b><a href="../man1/mfstools.1.html">mfstools</a></b>(1), <b><a href="../man8/mfsmetadirinfo.8.html">mfsmetadirinfo</a></b>(8)

MooseFS 3.0.117-1                                 February 2023                                  <u><a href="../man1/mfsdiagtools.1.html">mfsdiagtools</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>