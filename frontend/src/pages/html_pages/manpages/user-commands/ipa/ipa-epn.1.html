<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ipa-epn - Send expiring password notifications</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/freeipa-client-epn">freeipa-client-epn_4.12.2-3_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       ipa-epn - Send expiring password notifications

</pre><h4><b>SYNOPSIS</b></h4><pre>
       ipa-epn [options]

</pre><h4><b>DESCRIPTION</b></h4><pre>
       ipa-epn provides a method to warn users via email that their IPA account password is about to expire.

       It can be used in dry-run mode which is recommended during setup. The output is always JSON in this case.

       It  can  also  be launched daily by its systemd timer.  In this case it will parse its configuration file
       <a href="../man5/epn.conf.5.html">epn.conf</a>(5) and send an email to users whose passwords  are  expiring  within  the  defined  future  date
       ranges.

       See the OPTIONS section below and the <a href="../man5/epn.conf.5.html">epn.conf</a>(5) man page on how to configure the tool.

</pre><h4><b>OPTIONS</b></h4><pre>
       <b>--to-nbdays</b> <u>&lt;number</u> <u>of</u> <u>days&gt;</u>
              The --to-nbdays CLI option can be used to determine the number of notifications that would be sent
              in a given timeframe.

              If  <b>--from-nbdays</b>  is not specified, ipa-epn will look within a 24-hour long time range in &lt;number
              of days&gt; days.

              if <b>--from-nbdays</b> is specified, the date range starts at <b>--from-nbdays</b> days in the future and  ends
              at <b>--to-nbdays</b> in the future.

              Together,  these  two  CLI  options  can  be  used to determine how many emails would be sent in a
              specific time in the future.

              The <b>--to-nbdays</b> CLI option implies <b>--dry-run</b>.

       <b>--from-nbdays</b> <u>&lt;number</u> <u>of</u> <u>days&gt;</u>
              See <b>--to-nbdays</b> for an explanation. This option must be used in conjunction with <b>--to-nbdays</b>.

       <b>--dry-run</b>
              The <b>--dry-run</b> CLI option is intended to test ipa-epn's configuration.

              For instance, if notify_ttls is set to 21, 14, 3, <b>--dry-run</b> would display the list of users  whose
              passwords would expire in 21, 14, and 3 days in the future.

       <b>--mail-test</b>
              The   <b>--mail-test</b>  CLI  option  will  send  an  e-mail  to  the  configured  smtp_admin  value  in
              /etc/ipa/epn.conf. Generic values for the substitution variables are set so this  is  also  useful
              for testing and configuring the mail template.

</pre><h4><b>TEMPLATE</b></h4><pre>
       The  template  for  the  e-mail  message  is contained in /etc/ipa/epn/expire_msg.template. The following
       template variables are available.

       User ID: uid

       Full name: fullname

       First name: first

       Last name: Last

       Password expiration date: expiration

</pre><h4><b>EXAMPLES</b></h4><pre>
          # date
          Sun 12 Apr 2020 06:23:08 AM CEST
          # ipa-epn --dry-run
          [
             {
                "uid": "user5",
                "cn": "user 5",
                "krbpasswordexpiration": "2020-04-17 15:51:53",
                "mail": "['<a href="mailto:user5@ipa.test">user5@ipa.test</a>']"
             }
          ]
          The IPA-EPN command was successful

          # ipa-epn --to-nbdays 6 --dry-run
          [
             {
                "uid": "user5",
                "cn": "user 5",
                "krbpasswordexpiration": "2020-04-17 15:51:53",
                "mail": "['<a href="mailto:user5@ipa.test">user5@ipa.test</a>']"
             }
          ]
          The IPA-EPN command was successful

          # ipa-epn --from-nbdays 2 --to-nbdays 6 --dry-run
          [
             {
                "uid": "user5",
                "cn": "user 5",
                "krbpasswordexpiration": "2020-04-17 15:51:53",
                "mail": "['<a href="mailto:user5@ipa.test">user5@ipa.test</a>']"
             }
          ]
          The IPA-EPN command was successful

          # ipa-epn --from-nbdays 8 --to-nbdays 12 --dry-run
          [
             {
                "uid": "user3",
                "cn": "user 5",
                "krbpasswordexpiration": "2020-04-21 00:00:08",
                "mail": "['<a href="mailto:user3@ipa.test">user3@ipa.test</a>']"
             }
          ]
          The IPA-EPN command was successful

</pre><h4><b>EXIT</b> <b>STATUS</b></h4><pre>
       The exit status is 0 on success, nonzero on error.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
          RFE: https://pagure.io/freeipa/issue/3687
          Design     document:     https://github.com/freeipa/freeipa/blob/master/doc/designs/expiring-password-
       notification.md

</pre><h4><b>KNOWN</b> <b>BUGS</b></h4><pre>
          None yet.

</pre><h4><b>REPORTING</b> <b>BUGS</b> <b>AND</b> <b>ENHANCEMENT</b> <b>IDEAS</b></h4><pre>
          Please make sure first the issue is not already reported by searching at https://pagure.io/freeipa/issues. If it is not, file a new issue at https://pagure.io/freeipa/new_issue.

IPA                                              April 24, 2020                                       <u><a href="../man1/IPA-EPN.1.html">IPA-EPN</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>