<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>sa-compile - compile SpamAssassin ruleset into native code</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/sa-compile">sa-compile_4.0.1-3_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       sa-compile - compile SpamAssassin ruleset into native code

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>sa-compile</b> [options]

       Options:

         --list                        Output base string list to STDOUT
         --sudo                        Use 'sudo' for privilege escalation
         --keep-tmps                   Keep temporary files instead of deleting
         -C path, --configpath=path, --config-file=path
                                       Path to standard configuration dir
         -p prefs, --prefspath=file, --prefs-file=file
                                       Set user preferences file
         --siteconfigpath=path         Path for site configs
                                       (default: /usr/etc/spamassassin)
         --updatedir=path              Directory to place updates
                 (default: /var/lib/spamassassin/compiled/&lt;perlversion&gt;/4.000001)
         --cf='config line'            Additional line of configuration
         -D, --debug [area=n,...]      Print debugging messages
         -V, --version                 Print version
         -h, --help                    Print usage message

</pre><h4><b>DESCRIPTION</b></h4><pre>
       sa-compile uses "re2c" to compile the site-wide parts of the SpamAssassin ruleset. No part of user_prefs
       or any files included from user_prefs can be built into the compiled set.

       This compiled set is then used by the "Mail::SpamAssassin::Plugin::Rule2XSBody" plugin to speed up
       SpamAssassin's operation, where possible, and when that plugin is loaded.

       "re2c" can match strings much faster than perl code, by constructing a DFA to match many simple strings
       in parallel, and compiling that to native object code.  Not all SpamAssassin rules are amenable to this
       conversion, however.

       This requires "re2c" (see "https://re2c.org/"), and the C compiler used to build Perl XS modules, be
       installed.

       Note that running this, and creating a compiled ruleset, will have no effect on SpamAssassin scanning
       speeds unless you also edit your "v320.pre" file and ensure this line is uncommented:

         loadplugin Mail::SpamAssassin::Plugin::Rule2XSBody

       Additionally, "sa-compile" will not restart "spamd" or otherwise cause a scanner to reload the now-
       compiled ruleset automatically.

</pre><h4><b>OPTIONS</b></h4><pre>
       <b>--list</b>
           Output the extracted base strings to STDOUT, instead of generating the C extension code.

       <b>--sudo</b>
           Use  <a href="../man8/sudo.8.html">sudo</a>(8)  to  run  code as 'root' when writing files to the compiled-rules storage area (which is
           "/var/lib/spamassassin/compiled/5.040/4.000001" by default).

       <b>--quiet</b>
           Produce less diagnostic output.  Errors will still be displayed.

       <b>--keep-tmps</b>
           Keep temporary files after the script completes, instead of deleting them.

       <b>-C</b> <u>path</u>, <b>--configpath</b>=<u>path</u>, <b>--config-file</b>=<u>path</u>
           Use the specified path  for  locating  the  distributed  configuration  files.   Ignore  the  default
           directories (usually "/usr/share/spamassassin" or similar).

       <b>--siteconfigpath</b>=<u>path</u>
           Use  the  specified  path  for  locating  site-specific  configuration  files.   Ignore  the  default
           directories (usually "/etc/spamassassin" or similar).

       <b>--updatedir</b>
           By default, "sa-compile" will use the system-wide rules update directory:

                   /var/lib/spamassassin/compiled/5.040/4.000001

           If the updates should be stored in another location, specify it here.

           Note that use of this option is not recommended; if sa-compile is  placing  the  compiled  rules  the
           wrong  directory,  you  probably need to rebuild SpamAssassin with different "Makefile.PL" arguments,
           instead of overriding sa-compile's runtime behaviour.

       <b>--cf='config</b> <b>line'</b>
           Add additional lines of configuration directly from the command-line, parsed after the  configuration
           files are read.   Multiple <b>--cf</b> arguments can be used, and each will be considered a separate line of
           configuration.

       <b>-p</b> <u>prefs</u>, <b>--prefspath</b>=<u>prefs</u>, <b>--prefs-file</b>=<u>prefs</u>
           Read user score preferences from <u>prefs</u> (usually "$HOME/.spamassassin/user_prefs") .

       <b>-D</b> [<u>area,...</u>], <b>--debug</b> [<u>area,...</u>]
           Produce  debugging output.  If no areas are listed, all debugging information is printed.  Diagnostic
           output can also be enabled for each area individually; <u>area</u> is the area of the code to instrument.

           For more information about which areas (also  known  as  channels)  are  available,  please  see  the
           documentation at &lt;https://wiki.apache.org/spamassassin/DebugChannels&gt;.

       <b>-h</b>, <b>--help</b>
           Print help message and exit.

       <b>-V</b>, <b>--version</b>
           Print sa-compile version and exit.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b>Mail::<a href="../man3/SpamAssassin.3.html">SpamAssassin</a></b>(3) <b><a href="../man1/spamassassin.1.html">spamassassin</a></b>(1) <b><a href="../man1/spamd.1.html">spamd</a></b>(1)

</pre><h4><b>PREREQUISITES</b></h4><pre>
       "Mail::SpamAssassin" "re2c" "Mail::SpamAssassin::Plugin::Rule2XSBody"

</pre><h4><b>BUGS</b></h4><pre>
       See &lt;https://issues.apache.org/SpamAssassin/&gt;

</pre><h4><b>AUTHORS</b></h4><pre>
       The Apache SpamAssassin(tm) Project &lt;https://spamassassin.apache.org/&gt;

</pre><h4><b>LICENSE</b> <b>AND</b> <b>COPYRIGHT</b></h4><pre>
       SpamAssassin  is  distributed  under  the Apache License, Version 2.0, as described in the file "LICENSE"
       included with the distribution.

       Copyright (C) 2015 The Apache Software Foundation

perl v5.40.0                                       2025-01-09                                     <u><a href="../man1p/SA-COMPILE.1p.html">SA-COMPILE</a></u>(1p)
</pre>
 </div>
</div></section>
</div>
</body>
</html>