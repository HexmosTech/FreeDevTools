<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>apt-src - manage debian source package trees</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/apt-src">apt-src_0.25.4_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       apt-src - manage debian source package trees

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>apt-src</b> [<u>options</u>] <u>command</u>

       <b>apt-src</b> [<u>options</u>] <b>install|remove</b> pkg1 [pkg2 ...]

       <b>apt-src</b> <u>location</u> pkg

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>apt-src</b> is a command line interface for downloading, installing, upgrading, and tracking debian source
       packages. It can be run as a normal user, or as root.

       Unlike binary packages, source packages are not installed into a canonical location. Instead, they are
       "installed" by unpacking their source tree into a directory, which can be anywhere you wish. A source
       package can be installed multiple times, in different locations. This program manages source packages
       installed in this way, and provides querying facilities to help find where a source package is installed.

       Unless the -h or --help option is given one of the commands below must be present.

       update
           Update  the lists of available packages. Identical to <b>apt-get</b> <b>update</b>, really, and must be run as root
           in the default configuration.

       install
           Install the named source package or packages into the current directory.  If a package in the current
           directory is already installed, it will attempt to upgrade it.

           This command will accept the names of binary packages, or source packages.  Just  like  with  <b>apt-get</b>
           <b>install</b>, you can prefix the name with =version or /release to specify what version to install or what
           release to take the source from.

           It will make sure that the build-dependencies of the source package are satisfied.

           If  the  --location  option is given, the source package will be installed or upgraded into the given
           <u>location</u> instead of the current directory.

           If the --build option is given, each newly installed or upgraded package will be compiled.

       upgrade
           Upgrade all installed source packages, or, if the --location or --here options are used, update  only
           source packages in the specified directory.

           If the --patch option is given (the default), <b>apt-src</b> will attempt to generate a patch containing any
           local  changes  made  to the source package, and will apply this patch to the updated tree. This will
           allow your local changes to be preserved across package upgrades, but it may not always work, and you
           might sometimes have to merge in your changes by hand.

           If the --build option is given, each newly installed or upgraded package will be compiled.

       remove
           Remove the named source package or packages. The --location and --here options may be  used  to  only
           remove packages in a particular directory.

       build
           Build  the  specified  source  or  sources.  If  the  source  is  not installed yet, it will first be
           installed.

       clean
           Clean the trees of the named source package or packages. The --location and  --here  options  may  be
           used to only clean packages in a particular directory.

       import
           Use  this  option to let <b>apt-src</b> know about an existing, unpacked source tree. Besides the name under
           which it should be imported, you must specify the <u>location</u> of the source tree (with --location),  and
           you  may  need  to tell the version of the source (with --version). Don't expect the build command to
           work on this source, unless it has a debian/ directory.

       list
           With no other parameters, it will list all installed source packages; their status, and the directory
           they are installed in. If a package's name is given, it will display only installed instances of that
           source package. If the --location or --here options are used, they will limit the list to packages in
           the specified directory.

       location
           Takes a single parameter; the name of a source package. If the package is installed, it  will  return
           the root of the package's source tree.

           This  command  can  be  used when you need to include files from another source package, or something
           like that. For example:

            -I`apt-src location pkg`

       version
           Takes a single parameter; the name of a source package. If the package is installed, it  will  return
           the version of the package that is installed.

       name
           Takes  a  single parameter; the name of a source package (may be specified with regexps). Returns the
           name of the source package installed matching that name, if any.

</pre><h4><b>OPTIONS</b></h4><pre>
       All command line options may  be  set  using  the  configuration  file,  the  descriptions  indicate  the
       configuration  option  to set.  For boolean options you can override the defaults file by using something
       like -f-, --no-f, -f=no or several other variations.

       <b>-h</b>, <b>--help</b>
           Show a help text.

       <b>-b</b>, <b>--build</b>, <b>--compile</b>
           Build source packages after installing or upgrading them.  Configuration Item: APT::Src::Compile.

       <b>-i</b>, <b>--installdebs</b>
           Install packages after building sources. Implies --build.  Configuration Item: APT::Src::InstallDebs

           Note that if multiple packages are  generated  from  a  single  source  package,  they  will  all  be
           installed.

       <b>-p</b>, <b>--patch</b>
           Try to patch local changes into new source tree when upgrading. On by default, use --no-p to disable.
           Configuration Item: APT::Src::Patch.

       <b>-l</b>, <b>--location</b>
           Specify   a   directory;   only   operate   on  packages  in  that  directory.   Configuration  Item:
           APT::Src::Location.

       <b>-c</b>, <b>--cwd</b>, <b>--here</b>
           Only operate on packages in the current directory.  Configuration Item: APT::Src::Here.

       <b>--upstream-version</b>
           Only of use with the version command; makes it omit the debian version number from the version of the
           package output.

       <b>-k</b>, <b>--keep-built</b>
           Do not delete .debs and other built files  after  installing  them  with  the  --installdebs  option.
           Configuration Item: APT::Src::KeepBuilt

       <b>-n</b>, <b>--no-delete-source</b>
           Do not delete source files when removing source package.  Configuration Item: APT::Src:NoDeleteSource

       <b>--version</b>
           Specify a source tree version. Of use with the import command.

       <b>-q</b>, <b>--quiet</b>
           Direct all command output to <u>/dev/null</u> unless a command fails to run as expected. Configuration item:
           APT::Src::Quiet

       <b>-t</b>, <b>--trace</b>
           Output each command as it is run. Configuration item: APT::Src::Trace

       In  addition to the above options, some less-used configuration items may only be specified in the config
       files, <u>/etc/apt/apt.conf</u> and <u><a href="file:~/.apt-src/config">~/.apt-src/config</a></u>.  They are:

       APT::Src::BuildCommand
           The command to use to build a tree. Run in the tree to build, it defaults  to  "<b>dpkg-buildpackage</b>  <b>-b</b>
           <b>-us</b> <b>-uc</b>", with "-rfakeroot" appended for non-root users.

       APT::Src::RootCommand
           The  command  to  use  if a non-root user needs to become root. This is used for, example, to satisfy
           build-deps. <b><a href="../man8/sudo.8.html">sudo</a></b>(8) is a good choice and the default.  If you want to use <b><a href="../man1/su.1.html">su</a></b>(1), you'll need  to  set
           it to "<b>su</b> <b>-c</b>".

       APT::Src::BuildDeps
           Controls  whether  <b>apt-src</b>  makes  sure  a  source  package's  build  dependencies are installed when
           installing or upgrading it. Defaults to true, if you turn it off, packages may fail to build  due  to
           missing build dependencies.

</pre><h4><b>NOTE</b> <b>ON</b> <b>NAMES</b></h4><pre>
       You can use either binary package names, or source package names when installing a new source package.

       The  rest of the time, when dealing with already installed packages, you currently have to use the source
       package names (this may later change).  However, you may use regexps as part of the names.

</pre><h4><b>ENVIRONMENT</b></h4><pre>
       This program sets APT_SRC_BUILD when it is building a package.

</pre><h4><b>EXAMPLES</b></h4><pre>
       To install the source to <b><a href="../man1/mutt.1.html">mutt</a></b>(1) to <u><a href="file:/usr/src">/usr/src</a></u>, build it, and install the resulting debs:

         apt-src install --location=<a href="file:/usr/src">/usr/src</a> -i mutt

       To track changes to said installed <b><a href="../man1/mutt.1.html">mutt</a></b>(1) source package, and install debs whenever a new version  comes
       out:

         apt-src install -i mutt

       To install a local copy of package foo, which you are going to apply a local patch to:

         apt-src install foo
         cd foo-version
         patch &lt;<a href="file:~/my-foo-patch">~/my-foo-patch</a>
         apt-src build --installdebs foo

       To upgrade your local copy of foo, bringing your patch forward, and building and installing new debs:

         apt-src install -i foo

       To  import  the  source tree in <u>/usr/src/linux</u>, which you unpacked from a www.kernel.org tarball (or from
       the kernel-source package) into <b>apt-src</b>, so it knows about it:

         apt-src import kernel --location=/usr/src/linux --version=2.4.18

       In a <u>debian/rules</u> of a kernel module package that needs to figure out if it is being  built  by  <b>apt-src</b>,
       and if so set the KVERS, KSRC and KDREV variables that <b><a href="../man1/make-kpkg.1.html">make-kpkg</a></b>(1) used to set:

         ifdef APT_SRC_BUILD
         KDREV=$(shell apt-src version kernel\(-source.\*\)\?)
         KSRC=$(shell apt-src location kernel\(-source.\*\)\?)
         KVERS=$(shell apt-src name kernel\(-source.\*\)\? | sed s/kernel-source-//)
         endif

</pre><h4><b>FILES</b></h4><pre>
       <a href="file:/etc/apt/sources.list">/etc/apt/sources.list</a>
           Locations to fetch packages from.

       <a href="file:~/.apt-src/status">~/.apt-src/status</a>
           <b>apt-src</b>'s status file, lists installed packages.

       /etc/apt/apt.conf
           Global config file for <b>apt-src</b> (and <b><a href="../man8/apt.8.html">apt</a></b>(8)).

       <a href="file:~/.apt-src/config">~/.apt-src/config</a>
           Per-user config file for <b>apt-src</b>.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man8/apt-get.8.html">apt-get</a></b>(8), <b><a href="../man5/sources.list.5.html">sources.list</a></b>(5), <b><a href="../man1/dpkg-source.1.html">dpkg-source</a></b>(1)

</pre><h4><b>AUTHOR</b></h4><pre>
       Copyright 2002 Joey Hess &lt;<a href="mailto:joeyh@debian.org">joeyh@debian.org</a>&gt;

       This  is  free  software;  see  the GNU General Public Licence version 2 or later for copying conditions.
       There is NO warranty.

perl v5.40.1                                       2025-03-01                                        <u><a href="../man1p/APT-SRC.1p.html">APT-SRC</a></u>(1p)
</pre>
 </div>
</div></section>
</div>
</body>
</html>