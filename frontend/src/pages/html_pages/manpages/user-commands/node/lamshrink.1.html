<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>lamshrink - Shrink a LAM universe.</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/lam-runtime">lam-runtime_7.1.4-7.2_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       lamshrink - Shrink a LAM universe.

</pre><h4><b>SYNOPSIS</b></h4><pre>

       lamshrink [-dhv] [-w delay] nodeid

</pre><h4><b>OPTIONS</b></h4><pre>
       <b>-d</b>            Print detailed debugging information.

       <b>-h</b>            Print useful information on this command.

       <b>-v</b>            Be verbose.

       <b>-w</b> <b>delay</b>      Notify processes on the doomed node and pause for delay seconds before proceeding.

       <b>nodeid</b>        Remove the LAM node with this ID.

</pre><h4><b>DESCRIPTION</b></h4><pre>
       An  existing  LAM  session,  initiated by <a href="../man1/lamboot.1.html">lamboot</a>(1), can be shrunk to include less nodes with <u>lamshrink</u>.
       One node is removed for each invocation.  At a minimum, the node ID is given on the command  line.   Once
       <u>lamshrink</u>  completes,  the  node  ID  is  invalid  across  the remaining nodes (as can be seen by running
       <a href="../man1/lamnodes.1.html">lamnodes</a>(1)).

       Existing application processes on the target node can be warned of impending shutdown with the -w option.
       A LAM signal (SIGFUSE) will be sent to these processes and <u>lamshrink</u> will then pause for the given number
       of seconds before proceeding with removing the node.  By default, SIGFUSE is ignored.  A  different  han‐
       dler can be installed with <a href="../man2/ksignal.2.html">ksignal</a>(2).

       All application processes on all remaining nodes are always informed of the death of a node.  This is al‐
       so  done with a signal (SIGSHRINK), which by default causes a process's runtime route cache to be flushed
       (to remove any cached information on the dead node).  If this signal is re-vectored for  the  purpose  of
       fault  tolerance,  the old handler should be called at the beginning of the new handler.  The signal does
       not, by itself, give the process information on which node has been removed.  One technique  for  getting
       this  information  is  to  query the router for information on all relevant nodes using <a href="../man2/getroute.2.html">getroute</a>(2).  The
       dead node will cause this routine to return an error.

   <b>FAULT</b> <b>TOLERANCE</b>
       If enabled with <a href="../man1/lamboot.1.html">lamboot</a>(1), LAM will watch for nodes that fail.  The procedure for removing a  node  that
       has  failed  is the same as <u>lamshrink</u> after the warning step.  In particular, the SIGSHRINK signal is de‐
       livered.

</pre><h4><b>EXAMPLES</b></h4><pre>
       lamshrink -v n1 Remove LAM on n1.  Report about important steps as
           they are done.

       lamshrink n30 -w 10
           Inform all processes on LAM node 30, that the node will be dead in 10 seconds.  Wait 10  seconds  and
           remove the node.  Operate silently.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <a href="../man1/lamboot.1.html">lamboot</a>(1), <a href="../man1/lamnodes.1.html">lamnodes</a>(1), <a href="../man2/ksignal.2.html">ksignal</a>(2), <a href="../man2/getroute.2.html">getroute</a>(2)

LAM 7.1.4                                          July, 2007                                       <u><a href="../man1/LAMSHRINK.1.html">LAMSHRINK</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>