<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>xdm - X Display Manager with support for XDMCP, host chooser</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/xdm">xdm_1.1.11-6.1ubuntu1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       xdm - X Display Manager with support for XDMCP, host chooser

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>xdm</b>  [  <b>-config</b>  <u>configuration_file</u>  ]  [  <b>-nodaemon</b> ] [ <b>-debug</b> <u>debug_level</u> ] [ <b>-error</b> <u>error_log_file</u> ] [
       <b>-resources</b> <u>resource_file</u> ] [ <b>-server</b> <u>server_entry</u> ] [ <b>-session</b> <u>session_program</u> ]

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <u>Xdm</u> manages a collection of X displays, which may be on the local host or remote servers.  The design  of
       <u>xdm</u>  was  guided  by  the  needs  of  X terminals as well as The Open Group standard XDMCP, the <u>X</u> <u>Display</u>
       <u>Manager</u> <u>Control</u> <u>Protocol</u>.  <u>Xdm</u> provides services similar to those provided by <u>init</u>, <u>getty</u>  and  <u>login</u>  on
       character  terminals:  prompting  for  login  name  and  password, authenticating the user, and running a
       ``session.''

       A ``session'' is defined by the lifetime of a particular  process;  in  the  traditional  character-based
       terminal  world,  it  is the user's login shell.  In the <u>xdm</u> context, it is an arbitrary session manager.
       This is because in a windowing environment, a user's login shell process does not  necessarily  have  any
       terminal-like  interface  with  which to connect.  When a real session manager is not available, a window
       manager or terminal emulator is typically used as the ``session manager,'' meaning  that  termination  of
       this process terminates the user's session.

       When the session is terminated, <u>xdm</u> resets the X server and (optionally) restarts the whole process.

       When  <u>xdm</u>  receives  an  Indirect  query  via  XDMCP,  it  can  run a <u>chooser</u> process to perform an XDMCP
       BroadcastQuery (or an XDMCP Query to specified hosts) on behalf of  the  display  and  offer  a  menu  of
       possible  hosts that offer XDMCP display management.  This feature is useful with X terminals that do not
       offer a host menu themselves.

       <u>Xdm</u> can be configured to ignore BroadcastQuery messages from selected hosts.  This  is  useful  when  you
       don't want the host to appear in menus produced by <u>chooser</u> or X terminals themselves.

       Because <u>xdm</u> provides the first interface that users will see, it is designed to be simple to use and easy
       to  customize  to  the  needs  of a particular site.  <u>Xdm</u> has many options, most of which have reasonable
       defaults.  Browse through the various sections of this manual, picking and choosing the things  you  want
       to  change.   Pay  particular attention to the <b>Session</b> <b>Program</b> section, which will describe how to set up
       the style of session desired.

</pre><h4><b>OVERVIEW</b></h4><pre>
       <u>xdm</u> is highly configurable, and most of its behavior can  be  controlled  by  resource  files  and  shell
       scripts.   The  names  of  these files themselves are resources read from the file <u>xdm-config</u> or the file
       named by the <b>-config</b> option.

       <u>xdm</u> offers display management two different ways.  It can manage X servers running on the  local  machine
       and  specified  in  <u>Xservers</u>, and it can manage remote X servers (typically X terminals) using XDMCP (the
       XDM Control Protocol) as specified in the <u>Xaccess</u> file.

       The resources of the X clients run by <u>xdm</u> outside the user's session, including <u>xdm</u>'s own  login  window,
       can be affected by setting resources in the <u>Xresources</u> file.

       For X terminals that do not offer a menu of hosts to get display management from, <u>xdm</u> can collect willing
       hosts and run the <u>chooser</u> program to offer the user a menu.  For X displays attached to a host, this step
       is typically not used, as the local host does the display management.

       After resetting the X server, <u>xdm</u> runs the <u>Xsetup</u> script to assist in setting up the screen the user sees
       along with the <u>xlogin</u> widget.

       The <u>xlogin</u> widget, which <u>xdm</u> presents, offers the familiar login and password prompts.

       After the user logs in, <u>xdm</u> runs the <u>Xstartup</u> script as root.

       Then  <u>xdm</u>  runs the <u>Xsession</u> script as the user.  This system session file may do some additional startup
       and typically runs the <u>.xsession</u> script in the user's home directory.  When the  <u>Xsession</u>  script  exits,
       the session is over.

       At  the  end  of  the session, the <u>Xreset</u> script is run to clean up, the X server is reset, and the cycle
       starts over.

       The file  <u>/var/log/xdm.log</u> will contain error messages from <u>xdm</u> and anything output to stderr by  <u>Xsetup,</u>
       <u>Xstartup,</u>  <u>Xsession</u>  or <u>Xreset</u>.  When you have trouble getting <u>xdm</u> working, check this file to see if <u>xdm</u>
       has any clues to the trouble.

</pre><h4><b>OPTIONS</b></h4><pre>
       All of these options,  except  <b>-config</b>  itself,  specify  values  that  can  also  be  specified  in  the
       configuration file as resources.

       <b>-config</b> <u>configuration_file</u>
              Names  the  configuration  file,  which  specifies  resources  to  control  the  behavior  of <u>xdm.</u>
              <u>/etc/X11/xdm/xdm-config</u> is the default.  See the section <b>Configuration</b> <b>File</b>.

       <b>-nodaemon</b>
              Specifies ``false'' as the value for the <b>DisplayManager.daemonMode</b> resource.  This suppresses  the
              normal  daemon  behavior, which is for <u>xdm</u> to close all file descriptors, disassociate itself from
              the controlling terminal, and put itself in the background when it first starts up.

       <b>-debug</b> <u>debug_level</u>
              Specifies the numeric value for the <b>DisplayManager.debugLevel</b> resource.  A non-zero  value  causes
              <u>xdm</u>   to   print   lots   of   debugging   statements  to  the  terminal;  it  also  disables  the
              <b>DisplayManager.daemonMode</b>  resource,  forcing  <u>xdm</u>  to  run  synchronously.   To  interpret  these
              debugging  messages, a copy of the source code for <u>xdm</u> is almost a necessity.  No attempt has been
              made to rationalize or standardize the output.

       <b>-error</b> <u>error_log_file</u>
              Specifies the value for the <b>DisplayManager.errorLogFile</b> resource.  This file contains errors  from
              <u>xdm</u>  as  well  as  anything  written  to stderr by the various scripts and programs run during the
              progress of the session.

       <b>-resources</b> <u>resource_file</u>
              Specifies the value for the <b>DisplayManager*resources</b> resource.  This file is loaded using  <u><a href="../man1/xrdb.1.html">xrdb</a></u>(1)
              to specify configuration parameters for the authentication widget.

       <b>-server</b> <u>server_entry</u>
              Specifies  the  value  for  the  <b>DisplayManager.servers</b>  resource.   See  the section <b>Local</b> <b>Server</b>
              <b>Specification</b> for a description of this resource.

       <b>-udpPort</b> <u>port_number</u>
              Specifies the value for the <b>DisplayManager.requestPort</b> resource.  This sets the port-number  which
              <u>xdm</u>  will  monitor  for  XDMCP  requests.   If  set to 0, xdm will not listen for XDMCP or Chooser
              requests.  As XDMCP uses the registered well-known UDP port  177,  this  resource  should  not  be
              changed to a value other than 0, except for debugging.

       <b>-session</b> <u>session_program</u>
              Specifies the value for the <b>DisplayManager*session</b> resource.  This indicates the program to run as
              the session after the user has logged in.

       <b>-xrm</b> <u>resource_specification</u>
              Allows an arbitrary resource to be specified, as in most X Toolkit applications.

</pre><h4><b>RESOURCES</b></h4><pre>
       At  many  stages the actions of <u>xdm</u> can be controlled through the use of its configuration file, which is
       in the X resource format.  Some resources modify the behavior of <u>xdm</u> on all displays, while others modify
       its behavior on a single display.  Where actions relate to  a  specific  display,  the  display  name  is
       inserted into the resource name between ``DisplayManager'' and the final resource name segment.

       For local displays, the resource name and class are as read from the <u>Xservers</u> file.

       For  remote  displays, the resource name is what the network address of the display resolves to.  See the
       <b>removeDomain</b> resource.  The name must match exactly; <u>xdm</u> is not aware of all  the  network  aliases  that
       might  reach  a given display.  If the name resolve fails, the address is used.  The resource class is as
       sent by the display in the XDMCP Manage request.

       Because the resource manager uses colons to separate the name of the resource from its value and dots  to
       separate  resource  name  parts, <u>xdm</u> substitutes underscores for both dots and colons when generating the
       resource name.  For example, <b>DisplayManager.expo_x_org_0.startup</b>  is  the  name  of  the  resource  which
       defines the startup shell file for the ``expo.x.org:0'' display.

       <b>DisplayManager.servers</b>
              This  resource  either  specifies  a  file name full of server entries, one per line (if the value
              starts with a slash), or a single server entry.  See the section <b>Local</b>  <b>Server</b>  <b>Specification</b>  for
              the details.

       <b>DisplayManager.requestPort</b>
              This  indicates  the UDP port number which <u>xdm</u> uses to listen for incoming XDMCP requests.  Unless
              you need to debug the system, leave this with its default value of 177.

       <b>DisplayManager.errorLogFile</b>
              Error output is normally directed at the system console.  To redirect it, set this resource  to  a
              file  name.   A  method  to  send  these  messages to <u>syslog</u> should be developed for systems which
              support  it;  however,  the  wide  variety  of   interfaces   precludes   any   system-independent
              implementation.   This  file  also contains any output directed to stderr by the <u>Xsetup,</u> <u>Xstartup,</u>
              <u>Xsession</u> and <u>Xreset</u> files, so it will contain descriptions of problems in those scripts as well.

       <b>DisplayManager.debugLevel</b>
              If the integer value of this resource is greater than zero, reams of debugging information will be
              printed.  It also disables daemon mode, which would redirect the information into the  bit-bucket,
              and allows non-root users to run <u>xdm,</u> which would normally not be useful.

       <b>DisplayManager.daemonMode</b>
              Normally,  <u>xdm</u> attempts to make itself into a daemon process unassociated with any terminal.  This
              is accomplished by forking and leaving the parent process to exit, then closing  file  descriptors
              and  releasing the controlling terminal.  In some environments this is not desired (in particular,
              when debugging).  Setting this resource to ``false'' will disable this feature.

       <b>DisplayManager.pidFile</b>
              The filename specified will be created to contain an ASCII representation of the process-id of the
              main <u>xdm</u> process.  <u>Xdm</u> also uses file locking on  this  file  to  attempt  to  eliminate  multiple
              daemons running on the same machine, which would cause quite a bit of havoc.

       <b>DisplayManager.lockPidFile</b>
              This  is  the  resource  which  controls  whether  <u>xdm</u>  uses file locking to keep multiple display
              managers from running amok.  On System V, this uses the <u>lockf</u> library call, while on BSD  it  uses
              <u>flock.</u>

       <b>DisplayManager.authDir</b>
              This  names a directory under which <u>xdm</u> stores authorization files while initializing the session.
              The  default  value  is    <u>/var/lib/xdm.</u>    Can   be   overridden   for   specific   displays   by
              DisplayManager.<u>DISPLAY</u>.authFile.

       <b>DisplayManager.autoRescan</b>
              This  boolean  controls  whether  <u>xdm</u>  rescans  the  configuration,  servers,  access  control and
              authentication keys files after a session terminates and the files have changed.  By default it is
              ``true.''  You can force <u>xdm</u> to reread these files by sending a SIGHUP to the main process.

       <b>DisplayManager.removeDomainname</b>
              When computing the display name for XDMCP clients, the name resolver will typically create a fully
              qualified host name for the terminal.  As this is sometimes confusing, <u>xdm</u> will remove the  domain
              name  portion  of  the  host name if it is the same as the domain name of the local host when this
              variable is set.  By default the value is ``true.''

       <b>DisplayManager.keyFile</b>
              XDM-AUTHENTICATION-1 style XDMCP authentication requires that a private key be shared between  <u>xdm</u>
              and  the  terminal.   This resource specifies the file containing those values.  Each entry in the
              file consists of a display name and the shared key.  By default, <u>xdm</u> does not include support  for
              XDM-AUTHENTICATION-1,  as  it  requires DES which is not generally distributable because of United
              States export restrictions.

       <b>DisplayManager.accessFile</b>
              To prevent unauthorized XDMCP service and to allow forwarding  of  XDMCP  IndirectQuery  requests,
              this file contains a database of hostnames which are either allowed direct access to this machine,
              or  have  a  list  of  hosts  to which queries should be forwarded to.  The format of this file is
              described in the section <b>XDMCP</b> <b>Access</b> <b>Control.</b>

       <b>DisplayManager.exportList</b>
              A list of additional environment variables, separated by white space, to pass on  to  the  <u>Xsetup</u>,
              <u>Xstartup</u>, <u>Xsession</u>, and <u>Xreset</u> programs.

       <b>DisplayManager.randomDevice</b>
              A  file  to  read  8  bytes  from  to  generate  the  seed  of authorization keys.  The default is
              <u>/dev/urandom</u> . If this file cannot be read, or if a read blocks for more than 5 seconds, xdm falls
              back to using a checksum of <b>DisplayManager.randomFile</b> to generate the seed.

       <b>DisplayManager.greeterLib</b>
              On systems that support a dynamically-loadable greeter library, the  name  of  the  library.   The
              default is
               <u>/usr/lib/X11/xdm/libXdmGreet.so</u>.

       <b>DisplayManager.choiceTimeout</b>
              Number  of seconds to wait for display to respond after user has selected a host from the chooser.
              If the display sends an XDMCP IndirectQuery within this time, the  request  is  forwarded  to  the
              chosen  host.  Otherwise, it is assumed to be from a new session and the chooser is offered again.
              Default is 15.

       <b>DisplayManager.sourceAddress</b>
              Use the numeric IP address of the incoming connection on multihomed  hosts  instead  of  the  host
              name. This is to avoid trying to connect on the wrong interface which might be down at this time.

       <b>DisplayManager.willing</b>
              This  specifies  a  program which is run (as) root when an an XDMCP BroadcastQuery is received and
              this host is configured to offer XDMCP display management. The  output  of  this  program  may  be
              displayed on a chooser window.  If no program is specified, the string <u>Willing</u> <u>to</u> <u>manage</u> is sent.

       <b>DisplayManager.</b><u>DISPLAY</u><b>.resources</b>
              This  resource  specifies  the name of the file to be loaded by <u>xrdb</u> as the resource database onto
              the root window of screen 0 of the display.  The <u>Xsetup</u> program, the  Login  widget,  and  <u>chooser</u>
              will  use  the  resources  set  in  this  file.  This resource data base is loaded just before the
              authentication procedure is started, so it can control the appearance of the  login  window.   See
              the  section  <b>Authentication</b> <b>Widget,</b> which describes the various resources that are appropriate to
              place in this file.  There is no default value for this resource, but
               <u>/etc/X11/xdm/Xresources</u> is the conventional name.

       <b>DisplayManager.</b><u>DISPLAY</u><b>.chooser</b>
              Specifies the program run to offer a host menu for Indirect queries redirected to the special host
              name CHOOSER.
               <u>/usr/lib/X11/xdm/chooser</u>  is the default.  See the sections <b>XDMCP</b> <b>Access</b> <b>Control</b> and <b>Chooser</b>.

       <b>DisplayManager.</b><u>DISPLAY</u><b>.xrdb</b>
              Specifies the program used to load the resources.  By default, <u>xdm</u> uses  <u>/usr/bin/xrdb</u>.

       <b>DisplayManager.</b><u>DISPLAY</u><b>.cpp</b>
              This specifies the name of the C preprocessor which is used by <u>xrdb</u>.

       <b>DisplayManager.</b><u>DISPLAY</u><b>.setup</b>
              This specifies a program which is run (as root) before offering the Login  window.   This  may  be
              used  to  change  the  appearance of the screen around the Login window or to put up other windows
              (e.g., you may want to run <u>xconsole</u> here).  By default, no program is run.  The conventional  name
              for a file used here is <u>Xsetup</u>.  See the section <b>Setup</b> <b>Program.</b>

       <b>DisplayManager.</b><u>DISPLAY</u><b>.startup</b>
              This  specifies  a  program  which is run (as root) after the authentication process succeeds.  By
              default, no program is run.  The conventional name for a file used  here  is  <u>Xstartup</u>.   See  the
              section <b>Startup</b> <b>Program.</b>

       <b>DisplayManager.</b><u>DISPLAY</u><b>.session</b>
              This  specifies  the session to be executed (not running as root).  By default,  <u>/usr/bin/xterm</u> is
              run.  The conventional name is <u>Xsession</u>.  See the section <b>Session</b> <b>Program.</b>

       <b>DisplayManager.</b><u>DISPLAY</u><b>.reset</b>
              This specifies a program which is run (as root) after the  session  terminates.   By  default,  no
              program is run.  The conventional name is <u>Xreset</u>.  See the section <b>Reset</b> <b>Program.</b>

       <b>DisplayManager.</b><u>DISPLAY</u><b>.openDelay</b>

       <b>DisplayManager.</b><u>DISPLAY</u><b>.openRepeat</b>

       <b>DisplayManager.</b><u>DISPLAY</u><b>.openTimeout</b>

       <b>DisplayManager.</b><u>DISPLAY</u><b>.startAttempts</b>

       <b>DisplayManager.</b><u>DISPLAY</u><b>.reservAttempts</b>
              These  numeric resources control the behavior of <u>xdm</u> when attempting to open intransigent servers.
              <b>openDelay</b> is the length of the pause in seconds between successive  attempts,  <b>openRepeat</b>  is  the
              number  of  attempts  to make, <b>openTimeout</b> is the amount of time to wait while actually attempting
              the open (i.e., the maximum time spent in the <u><a href="../man2/connect.2.html">connect</a></u>(2) system call)  and  <b>startAttempts</b>  is  the
              number  of  times  this  entire  process is done before giving up on the server.  After <b>openRepeat</b>
              attempts have been made,  or  if  <b>openTimeout</b>  seconds  elapse  in  any  particular  attempt,  <u>xdm</u>
              terminates  and  restarts  the  server,  attempting  to  connect  again.  This process is repeated
              <b>startAttempts</b> times, at which point the display is declared  dead  and  disabled.   Although  this
              behavior  may  seem  arbitrary,  it  has  been  empirically developed and works quite well on most
              systems.  The bound <b>reservAttempts</b> is the number of times a successful connect is  allowed  to  be
              followed  by  a  fatal  error.   When  reached,  the  display is disabled.  The default values are
              <b>openDelay</b>: 15, <b>openRepeat</b>: 5, <b>openTimeout</b>: 120, <b>startAttempts</b>: 4 and <b>reservAttempts</b>: 2.

       <b>DisplayManager.</b><u>DISPLAY</u><b>.pingInterval</b>

       <b>DisplayManager.</b><u>DISPLAY</u><b>.pingTimeout</b>
              To discover when remote displays disappear, <u>xdm</u> occasionally pings them, using an X connection and
              <u>XSync</u> calls.  <b>pingInterval</b> specifies the time (in minutes) between each ping attempt,  <b>pingTimeout</b>
              specifies  the  maximum  amount  of  time  (in minutes) to wait for the terminal to respond to the
              request.  If the terminal does not respond, the session  is  declared  dead  and  terminated.   By
              default,  both  are set to 5 minutes.  If you frequently use X terminals which can become isolated
              from the managing host, you may wish to increase this value.  The only worry is that sessions will
              continue to exist after the terminal has been accidentally disabled.   <u>xdm</u>  will  not  ping  local
              displays.   Although  it  would  seem  harmless,  it is unpleasant when the workstation session is
              terminated as a result of the server hanging for NFS service and not responding to the ping.

       <b>DisplayManager.</b><u>DISPLAY</u><b>.terminateServer</b>
              This boolean resource specifies  whether  the  X  server  should  be  terminated  when  a  session
              terminates  (instead  of  resetting  it).   This  option can be used when the server tends to grow
              without bound over time, in order to limit the amount of time the  server  is  run.   The  default
              value is ``false.''

       <b>DisplayManager.</b><u>DISPLAY</u><b>.userPath</b>
              <u>Xdm</u>  sets  the  PATH  environment  variable  for  the session to this value.  It should be a colon
              separated list  of  directories;  see  <u><a href="../man1/sh.1.html">sh</a></u>(1)  for  a  full  description.   The  default  value  is
              ``<a href="file:/usr/local/bin">/usr/local/bin</a>:<a href="file:/usr/bin">/usr/bin</a>:<a href="file:/bin">/bin</a>:<a href="file:/usr/games">/usr/games</a>''.

       <b>DisplayManager.</b><u>DISPLAY</u><b>.systemPath</b>
              <u>Xdm</u>  sets  the  PATH  environment  variable for the startup and reset scripts to the value of this
              resource.           The          default          for          this          resource           is
              ``<a href="file:/usr/local/sbin">/usr/local/sbin</a>:<a href="file:/usr/local/bin">/usr/local/bin</a>:<a href="file:/usr/sbin">/usr/sbin</a>:<a href="file:/usr/bin">/usr/bin</a>:<a href="file:/sbin">/sbin</a>:<a href="file:/bin">/bin</a>''.   Note the absence of ``.'' from
              this entry.  This is a good practice to follow for root; it avoids many common Trojan Horse system
              penetration schemes.

       <b>DisplayManager.</b><u>DISPLAY</u><b>.systemShell</b>
              <u>Xdm</u> sets the SHELL environment variable for the startup and reset scripts to  the  value  of  this
              resource.  It is <u><a href="file:/bin/sh">/bin/sh</a></u> by default.

       <b>DisplayManager.</b><u>DISPLAY</u><b>.failsafeClient</b>
              If  the  default  session  fails  to execute, <u>xdm</u> will fall back to this program.  This program is
              executed with no arguments, but executes using the same environment variables as the session would
              have had (see the section <b>Session</b> <b>Program</b>).  By default,  <u>/usr/bin/xterm</u> is used.

       <b>DisplayManager.</b><u>DISPLAY</u><b>.grabServer</b>

       <b>DisplayManager.</b><u>DISPLAY</u><b>.grabTimeout</b>
              To improve security, <u>xdm</u> grabs the server and keyboard while reading the login name and  password.
              The  <b>grabServer</b>  resource  specifies  if  the  server  should  be  held  for  the  duration of the
              name/password reading.  When ``false,'' the server is ungrabbed after the keyboard grab  succeeds,
              otherwise  the  server is grabbed until just before the session begins.  The default is ``false.''
              The <b>grabTimeout</b> resource specifies the maximum time <u>xdm</u> will wait for the grab  to  succeed.   The
              grab  may  fail  if some other client has the server grabbed, or possibly if the network latencies
              are very high.  This resource has a default value of  3  seconds;  you  should  be  cautious  when
              raising  it,  as  a user can be spoofed by a look-alike window on the display.  If the grab fails,
              <u>xdm</u> kills and restarts the server (if possible) and the session.

       <b>DisplayManager.</b><u>DISPLAY</u><b>.authorize</b>

       <b>DisplayManager.</b><u>DISPLAY</u><b>.authName</b>
              <b>authorize</b> is a boolean resource which controls whether <u>xdm</u> generates and  uses  authorization  for
              the  local  server  connections.   If  authorization  is used, <b>authName</b> is a list of authorization
              mechanisms to use,  separated  by  white  space.   XDMCP  connections  dynamically  specify  which
              authorization  mechanisms  are  supported, so <b>authName</b> is ignored in this case.  When <b>authorize</b> is
              set for a display and authorization is not available, the user is informed by having  a  different
              message  displayed  in  the  login widget.  By default, <b>authorize</b> is ``true,''  <b>authName</b> is ``MIT-
              MAGIC-COOKIE-1,''  or,  if  XDM-AUTHORIZATION-1  is  available,   ``XDM-AUTHORIZATION-1 MIT-MAGIC-
              COOKIE-1.''

       <b>DisplayManager.</b><u>DISPLAY</u><b>.authFile</b>
              This  file  is  used to communicate the authorization data from <u>xdm</u> to the server, using the <b>-auth</b>
              server command line option.  It should be kept in a directory which is not  world-writable  as  it
              could easily be removed, disabling the authorization mechanism in the server.  If not specified, a
              name is generated from DisplayManager.authDir and the name of the display.

       <b>DisplayManager.</b><u>DISPLAY</u><b>.authComplain</b>
              If  set  to  ``false,''  disables  the  use  of the <b>unsecureGreeting</b> in the login window.  See the
              section <b>Authentication</b> <b>Widget.</b>  The default is ``true.''

       <b>DisplayManager.</b><u>DISPLAY</u><b>.resetSignal</b>
              The number of the signal <u>xdm</u> sends to reset the server.  See the section <b>Controlling</b>  <b>the</b>  <b>Server.</b>
              The default is 1 (SIGHUP).

       <b>DisplayManager.</b><u>DISPLAY</u><b>.termSignal</b>
              The  number  of  the  signal  <u>xdm</u>  sends to terminate the server.  See the section <b>Controlling</b> <b>the</b>
              <b>Server.</b>  The default is 15 (SIGTERM).

       <b>DisplayManager.</b><u>DISPLAY</u><b>.resetForAuth</b>
              The original implementation of authorization in the sample server reread the authorization file at
              server reset time, instead of  when  checking  the  initial  connection.   As  <u>xdm</u>  generates  the
              authorization  information  just before connecting to the display, an old server would not get up-
              to-date authorization information.  This resource causes <u>xdm</u> to send SIGHUP to  the  server  after
              setting  up  the  file,  causing  an  additional  server reset to occur, during which time the new
              authorization information will be read.  The default is ``false,'' which will  work  for  all  MIT
              servers.

       <b>DisplayManager.</b><u>DISPLAY</u><b>.userAuthDir</b>
              When <u>xdm</u> is unable to write to the usual user authorization file ($HOME/.Xauthority), it creates a
              unique  file  name in this directory and points the environment variable XAUTHORITY at the created
              file.  It uses <u><a href="file:/tmp">/tmp</a></u> by default.

</pre><h4><b>CONFIGURATION</b> <b>FILE</b></h4><pre>
       First, the <u>xdm</u> configuration file should be set up.  Make a directory (usually  <u>/etc/X11/xdm</u>) to  contain
       all of the relevant files.

       Here is a reasonable configuration file, which could be named <u>xdm-config</u>:

            DisplayManager.servers:            /etc/X11/xdm/Xservers
            DisplayManager.errorLogFile:       /var/log/xdm.log
            DisplayManager*resources:          /etc/X11/xdm/Xresources
            DisplayManager*startup:            /etc/X11/xdm/Xstartup
            DisplayManager*session:            /etc/X11/xdm/Xsession
            DisplayManager.pidFile:            /var/run/xdm-pid
            DisplayManager._0.authorize:       true
            DisplayManager*authorize:          false

       Note  that this file mostly contains references to other files.  Note also that some of the resources are
       specified with ``*'' separating the components.  These resources can be made unique  for  each  different
       display,  by  replacing  the  ``*'' with the display-name, but normally this is not very useful.  See the
       <b>Resources</b> section for a complete discussion.

</pre><h4><b>XDMCP</b> <b>ACCESS</b> <b>CONTROL</b></h4><pre>
       The database file specified by the <b>DisplayManager.accessFile</b>  provides  information  which  <u>xdm</u>  uses  to
       control  access  from  displays  requesting  XDMCP  service.   This file contains three types of entries:
       entries which control the response to Direct and Broadcast queries, entries which control the response to
       Indirect queries, and macro definitions.

       The format of the Direct entries is simple, either a host name or a pattern, which is distinguished  from
       a  host  name  by  the  inclusion  of  one or more meta characters (`*' matches any sequence of 0 or more
       characters, and `?' matches any single character) which are compared against the host name of the display
       device.  If the entry is a host name, all comparisons are done using network addresses, so any name which
       converts to the correct network address may be used.  For patterns, only canonical host names are used in
       the comparison, so ensure that you do not attempt to match aliases.  Preceding either a host  name  or  a
       pattern with a `!' character causes hosts which match that entry to be excluded.

       To  only  respond  to  Direct  queries  for  a  host  or  pattern,  it  can  be  followed by the optional
       ``NOBROADCAST'' keyword.  This can be used to prevent an xdm server from  appearing  on  menus  based  on
       Broadcast queries.

       An  Indirect  entry  also  contains  a  host name or pattern, but follows it with a list of host names or
       macros to which indirect queries should be sent.

       A macro definition contains a macro name and a list of host names and other macros that the macro expands
       to.  To distinguish macros from hostnames, macro names start with a `%' character.  Macros may be nested.

       Indirect entries may also specify to have <u>xdm</u> run <u>chooser</u> to offer a menu of hosts to  connect  to.   See
       the section <b>Chooser</b>.

       When  checking access for a particular display host, each entry is scanned in turn and the first matching
       entry determines the response.  Direct and Broadcast entries are ignored when scanning  for  an  Indirect
       entry and vice-versa.

       Blank  lines  are  ignored,  `#'  is  treated  as a comment delimiter causing the rest of that line to be
       ignored, and `\<u>newline</u>' causes the newline to be ignored, allowing indirect host lists to  span  multiple
       lines.

       Here is an example Xaccess file:

       #
       # Xaccess - XDMCP access control file
       #

       #
       # Direct/Broadcast query entries
       #

       !xtra.lcs.mit.edu   # disallow direct/broadcast service for xtra
       bambi.ogi.edu       # allow access from this particular display
       *.lcs.mit.edu       # allow access from any display in LCS

       *.deshaw.com        NOBROADCAST         # allow only direct access
       *.gw.com                                # allow direct and broadcast

       #
       # Indirect query entries
       #

       %HOSTS              expo.lcs.mit.edu xenon.lcs.mit.edu \
                           excess.lcs.mit.edu kanga.lcs.mit.edu

       extract.lcs.mit.edu xenon.lcs.mit.edu   #force extract to contact xenon
       !xtra.lcs.mit.edu   dummy               #disallow indirect access
       *.lcs.mit.edu       %HOSTS              #all others get to choose

       If  compiled  with  IPv6  support, multicast address groups may also be included in the list of addresses
       indirect queries are set to.  Multicast addresses may be followed by an  optional  /  character  and  hop
       count.  If  no  hop  count is specified, the multicast hop count defaults to 1, keeping the packet on the
       local network. For IPv4 multicasting, the hop count is used as the TTL.

       Examples:

       rincewind.sample.net ff02::1                 #IPv6 Multicast to ff02::1
                                                    #with a hop count of 1
       ponder.sample.net    CHOOSER 239.192.1.1/16  #Offer a menu of hosts
                                                    #who respond to IPv4 Multicast
                                                    # to 239.192.1.1 with a TTL of 16

</pre><h4><b>CHOOSER</b></h4><pre>
       For X terminals that do not offer a host menu for use with Broadcast or  Indirect  queries,  the  <u>chooser</u>
       program  can  do  this  for  them.   In  the  <u>Xaccess</u> file, specify ``CHOOSER'' as the first entry in the
       Indirect host list.  <u>Chooser</u> will send a Query request to each of the remaining host names  in  the  list
       and offer a menu of all the hosts that respond.

       The  list  may  consist  of  the word ``BROADCAST,'' in which case <u>chooser</u> will send a Broadcast instead,
       again offering a menu of all hosts that respond.  Note that on some operating systems, UDP packets cannot
       be broadcast, so this feature will not work.

       Example <u>Xaccess</u> file using <u>chooser</u>:

       extract.lcs.mit.edu  CHOOSER %HOSTS          #offer a menu of these hosts
       xtra.lcs.mit.edu     CHOOSER BROADCAST       #offer a menu of all hosts

       The program to use for <u>chooser</u> is specified by the  <b>DisplayManager.</b><u>DISPLAY</u><b>.chooser</b>  resource.   For  more
       flexibility  at  this step, the chooser could be a shell script.  <u>Chooser</u> is the session manager here; it
       is run instead of a child <u>xdm</u> to manage the display.

       Resources for this program can be put into the file named by <b>DisplayManager.</b><u>DISPLAY</u><b>.resources</b>.

       When the user selects a host, <u>chooser</u> prints the host chosen, which is read by the parent <u>xdm</u>, and exits.
       <u>xdm</u> closes its connection to the X server, and  the  server  resets  and  sends  another  <b>Indirect</b>  XDMCP
       request.   <u>xdm</u>  remembers  the  user's choice (for <b>DisplayManager.choiceTimeout</b> seconds) and forwards the
       request to the chosen host, which starts a session on that display.

</pre><h4><b>LISTEN</b></h4><pre>
       The following configuration directive is also defined for the Xaccess configuration file:

       <b>LISTEN</b> <u>interface</u> <u>[list</u> <u>of</u> <u>multicast</u> <u>group</u> <u>addresses]</u>
              <u>interface</u> may be a hostname or IP address representing a network interface on this machine, or the
              wildcard * to represent all available network interfaces.

       If one or more LISTEN lines are specified, xdm only  listens  for  XDMCP  connections  on  the  specified
       interfaces.  If  multicast group addresses are listed on a listen line, xdm joins the multicast groups on
       the given interface.

       If no LISTEN lines are given, the original behavior of listening  on  all  interfaces  is  preserved  for
       backwards  compatibility.   Additionally,  if  no  LISTEN  is specified, xdm joins the default XDMCP IPv6
       multicast group, when compiled with IPv6 support.

       To disable listening for XDMCP connections  altogther,  a  line  of  LISTEN  with  no  addresses  may  be
       specified, or the previously supported method of setting DisplayManager.requestPort to 0 may be used.

       Examples:
       LISTEN * ff02::1    # Listen on all interfaces and to the
                           # ff02::1 IPv6 multicast group.
       LISTEN 10.11.12.13  # Listen only on this interface, as long
                           # as no other listen directives appear in
                           # file.

</pre><h4><b>IPv6</b> <b>MULTICAST</b> <b>ADDRESS</b> <b>SPECIFICATION</b></h4><pre>
       The Internet Assigned Numbers Authority has has assigned ff0<u>X</u>:0:0:0:0:0:0:12b as the permanently assigned
       range  of  multicast  addresses  for  XDMCP.  The  <u>X</u>  in  the  prefix  may be replaced by any valid scope
       identifier, such as 1 for Interface-Local, 2 for Link-Local, 5 for Site-Local, and so on.  (See IETF  RFC
       4291  or  its  replacement  for further details and scope definitions.)  xdm defaults to listening on the
       Link-Local scope address ff02:0:0:0:0:0:0:12b to  most  closely  match  the  old  IPv4  subnet  broadcast
       behavior.

</pre><h4><b>LOCAL</b> <b>SERVER</b> <b>SPECIFICATION</b></h4><pre>
       The  resource  <b>DisplayManager.servers</b>  gives a server specification or, if the values starts with a slash
       (/), the name of a file containing server specifications, one per line.

       Each specification indicates a display which should constantly be managed and which is not  using  XDMCP.
       This  method is used typically for local servers only.  If the resource or the file named by the resource
       is empty, <u>xdm</u> will offer XDMCP service only.

       Each specification consists of at least three parts:  a display name, a display class,  a  display  type,
       and  (for  local servers) a command line to start the server.  A typical entry for local display number 0
       would be:

         :0 Digital-QV local /usr/bin/X :0

       The display types are:

       local     local display: <u>xdm</u> must run the server
       foreign   remote display: <u>xdm</u> opens an X connection to a running server

       The display name must be something that can be passed in the <b>-display</b>  option  to  an  X  program.   This
       string  is  used to generate the display-specific resource names, so be careful to match the names (e.g.,
       use ``:0 Sun-CG3 local /usr/bin/X :0'' instead of ``localhost:0 Sun-CG3 local  /usr/bin/X  :0''  if  your
       other  resources are specified as ``DisplayManager._0.session'').  The display class portion is also used
       in the display-specific resources, as the class of the resource.  This is useful  if  you  have  a  large
       collection  of  similar  displays  (such  as a corral of X terminals) and would like to set resources for
       groups of them.  When using XDMCP, the display is required to specify the display class,  so  the  manual
       for  your particular X terminal should document the display class string for your device.  If it doesn't,
       you can run <u>xdm</u> in debug mode and look at the resource strings which it generates for that device,  which
       will include the class string.

       When  <u>xdm</u>  starts a session, it sets up authorization data for the server.  For local servers, <u>xdm</u> passes
       ``<b>-auth</b> <u>filename</u>'' on the server's command line to  point  it  at  its  authorization  data.   For  XDMCP
       servers, <u>xdm</u> passes the authorization data to the server via the <b>Accept</b> XDMCP request.

</pre><h4><b>RESOURCES</b> <b>FILE</b></h4><pre>
       The  <u>Xresources</u> file is loaded onto the display as a resource database using <u>xrdb.</u>  As the authentication
       widget reads this database before starting up, it usually contains parameters for that widget:

            xlogin*login.translations: #override\
                 Ctrl&lt;Key&gt;R: abort-display()\n\
                 &lt;Key&gt;F1: set-session-argument(failsafe) finish-field()\n\
                 &lt;Key&gt;Return: set-session-argument() finish-field()
            xlogin*borderWidth: 3
            xlogin*greeting: CLIENTHOST
            #ifdef COLOR
            xlogin*greetColor: CadetBlue
            xlogin*failColor: red
            #endif

       Please note the translations entry; it specifies a few new translations for the widget which allow  users
       to  escape from the default session (and avoid troubles that may occur in it).  Note that if #override is
       not specified, the default translations are removed and replaced by the new  value,  not  a  very  useful
       result  as  some  of  the  default translations are quite useful (such as ``&lt;Key&gt;: insert-char ()'' which
       responds to normal typing).

       This file may also contain resources for the setup program and <u>chooser</u>.

</pre><h4><b>SETUP</b> <b>PROGRAM</b></h4><pre>
       The <u>Xsetup</u> file is run after the server is reset, but before the Login window is offered.   The  file  is
       typically  a shell script.  It is run as root, so should be careful about security.  This is the place to
       change the root background or bring up other windows that should appear on  the  screen  along  with  the
       Login widget.

       In  addition  to  any  specified  by  <b>DisplayManager.exportList</b>,  the following environment variables are
       passed:

            DISPLAY        the associated display name
            PATH           the value of <b>DisplayManager.</b><u>DISPLAY</u><b>.systemPath</b>
            SHELL          the value of <b>DisplayManager.</b><u>DISPLAY</u><b>.systemShell</b>
            XAUTHORITY     may be set to an authority file

       Note that since <u>xdm</u> grabs the keyboard, any other windows will not be able  to  receive  keyboard  input.
       They  will  be  able  to  interact  with the mouse, however; beware of potential security holes here.  If
       <b>DisplayManager.</b><u>DISPLAY</u><b>.grabServer</b> is set, <u>Xsetup</u> will not be able to  connect  to  the  display  at  all.
       Resources for this program can be put into the file named by <b>DisplayManager.</b><u>DISPLAY</u><b>.resources</b>.

       Here is a sample <u>Xsetup</u> script:

            #!<a href="file:/bin/sh">/bin/sh</a>
            # Xsetup_0 - setup script for one workstation
            xcmsdb &lt; /etc/X11/xdm/monitors/alex.0
            xconsole -geometry 480x130-0-0 -notify -verbose -exitOnFail &amp;

</pre><h4><b>AUTHENTICATION</b> <b>WIDGET</b></h4><pre>
       The   authentication  widget  prompts  the  user  for  the  username,  password,  and/or  other  required
       authentication data from the keyboard.  Nearly every  imaginable  parameter  can  be  controlled  with  a
       resource.     Resources    for    this    widget    should    be    put    into   the   file   named   by
       <b>DisplayManager.</b><u>DISPLAY</u><b>.resources</b>.  All of these have reasonable default values, so it is not necessary to
       specify any of them.

       The resource file is loaded with <u><a href="../man1/xrdb.1.html">xrdb</a></u>(1) so it may use the substitutions defined by that program such  as
       CLIENTHOST  for the client hostname in the login message, or C pre-processor #ifdef statements to produce
       different displays depending on color depth or other variables.

       <u>Xdm</u> can be compiled with support for the <u><a href="../man3/Xft.3.html">Xft</a></u>(3) library for font rendering.   If this support is present,
       font faces are specified using the resources with names ending in ``face'' in the fontconfig face  format
       described  in  the  <u>Font</u>  <u>Names</u>  section  of  <u><a href="../man5/fonts.conf.5.html">fonts.conf</a></u>(5).   If not, then fonts are specified using the
       resources with names ending in ``font'' in the traditional <u>X</u> <u>Logical</u> <u>Font</u> <u>Description</u> format described in
       the <u>Font</u> <u>Names</u> section of <u><a href="../man7/X.7.html">X</a></u>(7).

       <b>xlogin.Login.width,</b> <b>xlogin.Login.height,</b> <b>xlogin.Login.x,</b> <b>xlogin.Login.y</b>
              The geometry of the Login widget is normally computed automatically.  If you wish to  position  it
              elsewhere, specify each of these resources.

       <b>xlogin.Login.foreground</b>
              The color used to display the input typed by the user.

       <b>xlogin.Login.face</b>
              The  face used to display the input typed by the user when built with Xft support.  The default is
              ``Serif-18''.

       <b>xlogin.Login.font</b>
              The font used to display the input typed by the user when not built with Xft support.

       <b>xlogin.Login.greeting</b>
              A string which identifies this window.  The default is ``X Window System.''

       <b>xlogin.Login.unsecureGreeting</b>
              When X authorization is requested in the configuration file for this display and none is  in  use,
              this greeting replaces the standard greeting.  The default is ``This is an unsecure session''

       <b>xlogin.Login.greetFace</b>
              The   face   used  to  display  the  greeting  when  built  with  Xft  support.   The  default  is
              ``Serif-24:italic''.

       <b>xlogin.Login.greetFont</b>
              The font used to display the greeting when not built with Xft support.

       <b>xlogin.Login.greetColor</b>
              The color used to display the greeting.

       <b>xlogin.Login.namePrompt</b>
              The string displayed to prompt for a user name.  <u>Xrdb</u> strips trailing white  space  from  resource
              values,  so to add spaces at the end of the prompt (usually a nice thing), add spaces escaped with
              backslashes.  The default is ``Login:  ''

       <b>xlogin.Login.passwdPrompt</b>
              The string displayed to prompt for a password, when not using an authentication system such as PAM
              that provides its own prompts.  The default is ``Password:  ''

       <b>xlogin.Login.promptFace</b>
              The face used to display prompts when built with Xft support.  The default is ``Serif-18:bold''.

       <b>xlogin.Login.promptFont</b>
              The font used to display prompts when not built with Xft support.

       <b>xlogin.Login.promptColor</b>
              The color used to display prompts.

       <b>xlogin.Login.changePasswdMessage</b>
              A message which is displayed when the users password  has  expired.   The  default  is  ``Password
              Change Required''

       <b>xlogin.Login.fail</b>
              A  message  which  is  displayed  when  the authentication fails, when not using an authentication
              system such as PAM that provides its own prompts.  The default is ``Login incorrect''

       <b>xlogin.Login.failFace</b>
              The face used to display the failure  message  when  built  with  Xft  support.   The  default  is
              ``Serif-18:bold''.

       <b>xlogin.Login.failFont</b>
              The font used to display the failure message when not built with Xft support.

       <b>xlogin.Login.failColor</b>
              The color used to display the failure message.

       <b>xlogin.Login.failTimeout</b>
              The number of seconds that the failure message is displayed.  The default is 10.

       <b>xlogin.Login.logoFileName</b>
              Name  of  an  XPM format pixmap to display in the greeter window, if built with XPM support.   The
              default is no pixmap.

       <b>xlogin.Login.logoPadding</b>
              Number of pixels of space between the logo pixmap and other elements of the greeter window, if the
              pixmap is displayed.  The default is 5.

       <b>xlogin.Login.useShape</b>
              If set to ``true'', when built with XPM support, attempt to use the X Non-Rectangular Window Shape
              Extension to set the window shape.  The default is ``true''.

       <b>xlogin.Login.hiColor</b>, <b>xlogin.Login.shdColor</b>
              Raised appearance bezels may be drawn around the greeter frame and text  input  boxes  by  setting
              these resources.  hiColor is the highlight color, used on the top and left sides of the frame, and
              the bottom and right sides of text input areas.   shdColor is the shadow color, used on the bottom
              and  right  sides  of  the frame, and the top and left sides of text input areas.  The default for
              both is the foreground color, providing a flat appearance.

       <b>xlogin.Login.frameWidth</b>
              frameWidth is the width in pixels of the area around  the  greeter  frame  drawn  in  hiColor  and
              shdColor.

       <b>xlogin.Login.innerFramesWidth</b>
              innerFramesWidth  is  the width in pixels of the area around text input areas drawn in hiColor and
              shdColor.

       <b>xlogin.Login.sepWidth</b>
              sepWidth is the width in pixels of the bezeled line between the greeting and input areas drawn  in
              hiColor and shdColor.

       <b>xlogin.Login.allowRootLogin</b>
              If  set  to ``false'', don't allow root (and any other user with uid = 0) to log in directly.  The
              default is ``true''.  This setting is only checked by some of the authentication backends at  this
              time.

       <b>xlogin.Login.allowNullPasswd</b>
              If  set  to ``true'', allow an otherwise failing password match to succeed if the account does not
              require a password at all.  The default is ``false'', so only users that have  passwords  assigned
              can log in.

       <b>xlogin.Login.echoPasswd</b>
              If set to ``true'', a placeholder character (echoPasswdChar) will be shown for fields normally set
              to not echo, such as password input.  The default is ``false''.

       <b>xlogin.Login.echoPasswdChar</b>
              Character  to display if echoPasswd is true.  The default is ``*''.  If set to an empty value, the
              cursor will advance for each character input, but no text will be drawn.

       <b>xlogin.Login.translations</b>
              This specifies the translations used for the login widget.  Refer to the X  Toolkit  documentation
              for a complete discussion on translations.  The default translation table is:

                   Ctrl&lt;Key&gt;H:    delete-previous-character() \n\
                   Ctrl&lt;Key&gt;D:    delete-character() \n\
                   Ctrl&lt;Key&gt;B:    move-backward-character() \n\
                   Ctrl&lt;Key&gt;F:    move-forward-character() \n\
                   Ctrl&lt;Key&gt;A:    move-to-begining() \n\
                   Ctrl&lt;Key&gt;E:    move-to-end() \n\
                   Ctrl&lt;Key&gt;K:    erase-to-end-of-line() \n\
                   Ctrl&lt;Key&gt;U:    erase-line() \n\
                   Ctrl&lt;Key&gt;X:    erase-line() \n\
                   Ctrl&lt;Key&gt;C:    restart-session() \n\
                   Ctrl&lt;Key&gt;\\:   abort-session() \n\
                   &lt;Key&gt;BackSpace:delete-previous-character() \n\
                   &lt;Key&gt;Delete:   delete-previous-character() \n\
                   &lt;Key&gt;Return:   finish-field() \n\
                   &lt;Key&gt;:         insert-char() \

       The actions which are supported by the widget are:

       delete-previous-character
              Erases the character before the cursor.

       delete-character
              Erases the character after the cursor.

       move-backward-character
              Moves the cursor backward.

       move-forward-character
              Moves the cursor forward.

       move-to-begining
              (Apologies about the spelling error.)  Moves the cursor to the beginning of the editable text.

       move-to-end
              Moves the cursor to the end of the editable text.

       erase-to-end-of-line
              Erases all text after the cursor.

       erase-line
              Erases the entire text.

       finish-field
              If  the  cursor  is  in  the  name  field, proceeds to the password field; if the cursor is in the
              password field, checks the current name/password pair.  If the name/password pair  is  valid,  <u>xdm</u>
              starts the session.  Otherwise the failure message is displayed and the user is prompted again.

       abort-session
              Terminates and restarts the server.

       abort-display
              Terminates  the server, disabling it.  This action is not accessible in the default configuration.
              There are various reasons to stop <u>xdm</u> on a system console, such as when shutting the system  down,
              when using <u>xdmshell</u>, to start another type of server, or to generally access the console.  Sending
              <u>xdm</u> a SIGHUP will restart the display.  See the section <b>Controlling</b> <b>XDM</b>.

       restart-session
              Resets  the  X  server  and  starts  a new session.  This can be used when the resources have been
              changed and you want to test them or when the screen has been overwritten with system messages.

       insert-char
              Inserts the character typed.

       set-session-argument
              Specifies a single word argument which is passed to the  session  at  startup.   See  the  section
              <b>Session</b> <b>Program</b>.

       allow-all-access
              Disables  access  control  in  the  server.   This can be used when the .Xauthority file cannot be
              created by <u>xdm.</u>  Be very careful using this; it might be better to disconnect the machine from the
              network before doing this.

       On some systems (OpenBSD) the user's shell must be listed in <u><a href="file:/etc/shells">/etc/shells</a></u> to allow login through xdm.  The
       normal password and account expiration dates are enforced too.

</pre><h4><b>STARTUP</b> <b>PROGRAM</b></h4><pre>
       The  <u>Xstartup</u> program is run as root when the user logs in.  It is typically a shell script.  Since it is
       run as root, <u>Xstartup</u> should be very careful about security.  This is the place to put commands which add
       entries to <u>utmp</u> or <u>wtmp</u> files, (the <u>sessreg</u> program may be useful here), mount  users'  home  directories
       from file servers, or abort the session if logins are not allowed.

       In  addition  to  any  specified  by  <b>DisplayManager.exportList</b>,  the following environment variables are
       passed:

            DISPLAY        the associated display name
            HOME           the initial working directory of the user
            LOGNAME        the user name
            USER           the user name
            PATH           the value of <b>DisplayManager.</b><u>DISPLAY</u><b>.systemPath</b>
            SHELL          the value of <b>DisplayManager.</b><u>DISPLAY</u><b>.systemShell</b>
            XAUTHORITY     may be set to an authority file
            WINDOWPATH     may be set to the "window path" leading to the X server

       No arguments are passed to the script.  <u>Xdm</u> waits until  this  script  exits  before  starting  the  user
       session.   If  the exit value of this script is non-zero, <u>xdm</u> discontinues the session and starts another
       authentication cycle.

       The sample <u>Xstartup</u> file shown here prevents login while the file <u>/etc/nologin</u> exists.  Thus this is  not
       a complete example, but simply a demonstration of the available functionality.

       Here is a sample <u>Xstartup</u> script:

            #!<a href="file:/bin/sh">/bin/sh</a>
            #
            # Xstartup
            #
            # This program is run as root after the user is verified
            #
            if [ -f /etc/nologin ]; then
                 xmessage -file /etc/nologin -timeout 30 -center
                 exit 1
            fi
            sessreg -a -l $DISPLAY -x /etc/X11/xdm/Xservers $LOGNAME
            /etc/X11/xdm/GiveConsole
            exit 0

</pre><h4><b>SESSION</b> <b>PROGRAM</b></h4><pre>
       The  <u>Xsession</u>  program is the command which is run as the user's session.  It is run with the permissions
       of the authorized user.

       In addition to any specified  by  <b>DisplayManager.exportList</b>,  the  following  environment  variables  are
       passed:

            DISPLAY        the associated display name
            HOME           the initial working directory of the user
            LOGNAME        the user name
            USER           the user name
            PATH           the value of <b>DisplayManager.</b><u>DISPLAY</u><b>.userPath</b>
            SHELL          the user's default shell (from <u>getpwnam</u>)
            XAUTHORITY     may be set to a non-standard authority file
            KRB5CCNAME     may be set to a Kerberos credentials cache name
            WINDOWPATH     may be set to the "window path" leading to the X server

       At  most  installations, <u>Xsession</u> should look in $HOME for a file <u>.xsession,</u> which contains commands that
       each user would like to use as a session.  <u>Xsession</u> should also implement a system default session if  no
       user-specified session exists.

       An argument may be passed to this program from the authentication widget using the `set-session-argument'
       action.   This  can  be  used  to select different styles of session.  One good use of this feature is to
       allow the user to escape from the ordinary session when it fails.  This allows users to repair their  own
       <u>.xsession</u> if it fails, without requiring administrative intervention.  The example following demonstrates
       this feature.

       This  example  recognizes  the special ``failsafe'' mode, specified in the translations in the <u>Xresources</u>
       file, to provide an escape from the ordinary session.  It  also  requires  that  the  .xsession  file  be
       executable so we don't have to guess what shell it wants to use.

            #!<a href="file:/bin/sh">/bin/sh</a>
            #
            # Xsession
            #
            # This is the program that is run as the client
            # for the display manager.

            case $# in
            1)
                 case $1 in
                 failsafe)
                      exec xterm -geometry 80x24-0-0
                      ;;
                 esac
            esac

            startup=$HOME/.xsession
            resources=$HOME/.Xresources

            if [ -f "$startup" ]; then
                 exec "$startup"
            else
                 if [ -f "$resources" ]; then
                      xrdb -load "$resources"
                 fi
                 twm &amp;
                 xman -geometry +10-10 &amp;
                 exec xterm -geometry 80x24+10+10 -ls
            fi

       The  user's  <u>.xsession</u> file might look something like this example.  Don't forget that the file must have
       execute permission.
            #! /bin/csh
            # no -f in the previous line so .cshrc gets run to set $PATH
            twm &amp;
            xrdb -merge "$HOME/.Xresources"
            emacs -geometry +0+50 &amp;
            xbiff -geometry -430+5 &amp;
            xterm -geometry -0+50 -ls

</pre><h4><b>RESET</b> <b>PROGRAM</b></h4><pre>
       Symmetrical with <u>Xstartup</u>, the <u>Xreset</u> script is run after the user session has terminated.  Run as  root,
       it  should  contain  commands  that undo the effects of commands in <u>Xstartup,</u> updating entries in <u>utmp</u> or
       <u>wtmp</u> files, or unmounting directories from file servers.  The environment variables that were  passed  to
       <u>Xstartup</u> are also passed to <u>Xreset</u>.

       A sample <u>Xreset</u> script:
            #!<a href="file:/bin/sh">/bin/sh</a>
            #
            # Xreset
            #
            # This program is run as root after the session ends
            #
            sessreg -d -l $DISPLAY -x /etc/X11/xdm/Xservers $LOGNAME
            /etc/X11/xdm/TakeConsole
            exit 0

</pre><h4><b>CONTROLLING</b> <b>THE</b> <b>SERVER</b></h4><pre>
       <u>Xdm</u>  controls  local  servers  using  POSIX signals.  SIGHUP is expected to reset the server, closing all
       client connections and performing other cleanup duties.  SIGTERM is expected to terminate the server.  If
       these signals do not perform the expected actions, the resources  <b>DisplayManager.</b><u>DISPLAY</u><b>.resetSignal</b>  and
       <b>DisplayManager.</b><u>DISPLAY</u><b>.termSignal</b> can specify alternate signals.

       To  control  remote  terminals not using XDMCP, <u>xdm</u> searches the window hierarchy on the display and uses
       the protocol request KillClient in an attempt to clean up the terminal for the next  session.   This  may
       not  actually  kill  all of the clients, as only those which have created windows will be noticed.  XDMCP
       provides a more sure mechanism; when <u>xdm</u> closes its initial connection,  the  session  is  over  and  the
       terminal is required to close all other connections.

</pre><h4><b>CONTROLLING</b> <b>XDM</b></h4><pre>
       <u>Xdm</u> responds to two signals: SIGHUP and SIGTERM.  When sent a SIGHUP, <u>xdm</u> rereads the configuration file,
       the  access  control  file,  and the servers file.  For the servers file, it notices if entries have been
       added or removed.  If a new entry has been added,  <u>xdm</u>  starts  a  session  on  the  associated  display.
       Entries  which  have  been removed are disabled immediately, meaning that any session in progress will be
       terminated without notice and no new session will be started.

       When sent a SIGTERM, <u>xdm</u> terminates all sessions in progress and exits.  This can be used  when  shutting
       down the system.

       <u>Xdm</u>  attempts  to  mark  its various sub-processes for <u><a href="../man1/ps.1.html">ps</a></u>(1) by editing the command line argument list in
       place.  Because <u>xdm</u> can't allocate additional space for this task, it is  useful  to  start  <u>xdm</u>  with  a
       reasonably  long  command  line  (using  the  full  path  name  should be enough).  Each process which is
       servicing a display is marked <b>-</b><u>display.</u>

</pre><h4><b>ADDITIONAL</b> <b>LOCAL</b> <b>DISPLAYS</b></h4><pre>
       To add an additional local display, add a line for it to the  <u>Xservers</u>  file.   (See  the  section  <b>Local</b>
       <b>Server</b> <b>Specification</b>.)

       Examine  the  display-specific  resources  in <u>xdm-config</u> (e.g., <b>DisplayManager._0.authorize</b>) and consider
       which of them should be copied for the new display.  The default <u>xdm-config</u> has all the appropriate lines
       for displays <b>:0</b> and <b>:1</b>.

</pre><h4><b>OTHER</b> <b>POSSIBILITIES</b></h4><pre>
       You can use <u>xdm</u> to run a single session at a time, using the 4.3 <u>init</u> options or other suitable daemon by
       specifying the server on the command line:

            xdm -server :0 SUN-3/60CG4 local /usr/bin/X :0

       Or, you might have a file server and a  collection  of  X  terminals.   The  configuration  for  this  is
       identical to the sample above, except the <u>Xservers</u> file would look like

            extol:0 VISUAL-19 foreign
            exalt:0 NCD-19 foreign
            explode:0 NCR-TOWERVIEW3000 foreign

       This directs <u>xdm</u> to manage sessions on all three of these terminals.  See the section <b>Controlling</b> <b>Xdm</b> for
       a description of using signals to enable and disable these terminals in a manner reminiscent of <u><a href="../man8/init.8.html">init</a></u>(8).

</pre><h4><b>LIMITATIONS</b></h4><pre>
       One  thing  that  <u>xdm</u>  isn't very good at doing is coexisting with other window systems.  To use multiple
       window systems on the same hardware, you'll probably be more interested in <u>xinit.</u>

</pre><h4><b>ASYNCHRONOUS</b> <b>EVENTS</b></h4><pre>
       <b>xdm</b> uses <b>SIGALRM</b> and <b>SIGUSR1</b> for its own inter-process communication purposes, managing the  relationship
       between  the parent <b>xdm</b> process and its children.  Sending these signals to any <b>xdm</b> process may result in
       unexpected behavior.

       <b>SIGHUP</b> causes <b>xdm</b> to rescan its configuration files and reopen its log file.

       <b>SIGTERM</b>
              causes <b>xdm</b> to terminate its children and shut down.

       <b>SIGUSR2</b>
              causes <b>xdm</b> to reopen its log file.  This is useful if log rotation is desired, but <b>SIGHUP</b>  is  too
              disruptive.

</pre><h4><b>FILES</b></h4><pre>
       <u>/etc/X11/xdm/xdm-config</u>
                           the default configuration file

       <u>$HOME/.Xauthority</u>   user authorization file where <u>xdm</u> stores keys for clients to read

       <u>/usr/lib/X11/xdm/chooser</u>
                           the default chooser

       <u>/usr/bin/xrdb</u>       the default resource database loader

       <u>/usr/bin/X</u>          the default server

       <u>/usr/bin/xterm</u>      the default session program and failsafe client

       <u>/var/lib/xdm/A&lt;display&gt;-&lt;suffix&gt;</u>
                           the default place for authorization files

       <u>/tmp/K5C&lt;display&gt;</u>   Kerberos credentials cache

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <u><a href="../man7/X.7.html">X</a></u>(7),  <u><a href="../man1/xinit.1.html">xinit</a></u>(1),  <u><a href="../man1/xauth.1.html">xauth</a></u>(1),  <u><a href="../man1/xrdb.1.html">xrdb</a></u>(1),  <u><a href="../man7/Xsecurity.7.html">Xsecurity</a></u>(7),  <u><a href="../man1/sessreg.1.html">sessreg</a></u>(1), <u><a href="../man1/Xserver.1.html">Xserver</a></u>(1), <u><a href="../man1/xdmshell.1.html">xdmshell</a></u>(1), <u><a href="../man5/fonts.conf.5.html">fonts.conf</a></u>(5),
       <u><a href="../man5/xdm.options.5.html">xdm.options</a></u>(5).
       <u>X</u> <u>Display</u> <u>Manager</u> <u>Control</u> <u>Protocol</u>
       IETF RFC 4291: <u>IP</u> <u>Version</u> <u>6</u> <u>Addressing</u> <u>Architecture</u>.

</pre><h4><b>AUTHOR</b></h4><pre>
       Keith Packard, MIT X Consortium

X Version 11                                       xdm 1.1.11                                             <u><a href="../man1/XDM.1.html">XDM</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>