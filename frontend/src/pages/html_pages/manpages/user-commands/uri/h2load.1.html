<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>h2load - HTTP/2 benchmarking tool</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/nghttp2-client">nghttp2-client_1.64.0-1ubuntu1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       h2load - HTTP/2 benchmarking tool

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>h2load</b> [OPTIONS]... [URI]...

</pre><h4><b>DESCRIPTION</b></h4><pre>
       benchmarking tool for HTTP/2 server

       <b>&lt;URI&gt;</b>  Specify  URI  to  access.   Multiple URIs can be specified.  URIs are used  in this order for each
              client.  All URIs are used, then  first URI is used and then  2nd URI, and so  on.   The   scheme,
              host   and  port   in the  subsequent URIs, if present,  are ignored.  Those in  the first URI are
              used solely.  Definition of a base URI overrides all scheme, host or port values.

</pre><h4><b>OPTIONS</b></h4><pre>
       <b>-n,</b> <b>--requests=&lt;N&gt;</b>
              Number of  requests across all  clients.  If it  is used with <u>--timing-script-file</u>  option,   this
              option  specifies  the number of requests  each client performs rather than the number of requests
              across all clients.  This  option  is  ignored  if  timing-based   benchmarking  is  enabled  (see
              <u>--duration</u> option).

              Default: <b>1</b>

       <b>-c,</b> <b>--clients=&lt;N&gt;</b>
              Number   of  concurrent   clients.    With   <u>-r</u>  option,   this  specifies  the  maximum number of
              connections to be made.

              Default: <b>1</b>

       <b>-t,</b> <b>--threads=&lt;N&gt;</b>
              Number of native threads.

              Default: <b>1</b>

       <b>-i,</b> <b>--input-file=&lt;PATH&gt;</b>
              Path of a file with multiple URIs are separated by EOLs.  This option will  disable  URIs  getting
              from  command-line.   If  '-' is given as &lt;PATH&gt;, URIs will be read from stdin.  URIs are used  in
              this order for each  client.  All URIs are used, then  first URI is used and then  2nd URI, and so
              on.  The  scheme, host  and port  in the  subsequent URIs, if present,   are  ignored.   Those  in
              the  first  URI  are  used  solely.   Definition  of a base URI overrides all scheme, host or port
              values.

       <b>-m,</b> <b>--max-concurrent-streams=&lt;N&gt;</b>
              Max  concurrent  streams  to issue  per  session.   When http/1.1  is used,  this   specifies  the
              number of  HTTP pipelining requests in-flight.

              Default: <b>1</b>

       <b>-f,</b> <b>--max-frame-size=&lt;SIZE&gt;</b>
              Maximum frame size that the local endpoint is willing to receive.

              Default: <b>16K</b>

       <b>-w,</b> <b>--window-bits=&lt;N&gt;</b>
              Sets  the  stream level initial window size to (2**&lt;N&gt;)-1.  For QUIC, &lt;N&gt; is capped to 26 (roughly
              64MiB).

              Default: <b>30</b>

       <b>-W,</b> <b>--connection-window-bits=&lt;N&gt;</b>
              Sets  the  connection  level   initial  window  size  to (2**&lt;N&gt;)-1.

              Default: <b>30</b>

       <b>-H,</b> <b>--header=&lt;HEADER&gt;</b>
              Add/Override a header to the requests.

       <b>--ciphers=&lt;SUITE&gt;</b>
              Set  allowed cipher  list  for TLSv1.2  or earlier.   The format of the  string  is  described  in
              OpenSSL <a href="../man1/ciphers.1.html">ciphers</a>(1).

              Default:
              <b>ECDHE-ECDSA-AES128-GCM-SHA256:ECDHE-RSA-AES128-GCM-SHA256:ECDHE-ECDSA-AES256-GCM-SHA384:ECDHE-RSA-AES256-GCM-SHA384:ECDHE-ECDSA-CHACHA20-POLY1305:ECDHE-RSA-CHACHA20-POLY1305:DHE-RSA-AES128-GCM-SHA256:DHE-RSA-AES256-GCM-SHA384</b>

       <b>--tls13-ciphers=&lt;SUITE&gt;</b>
              Set  allowed  cipher  list  for   TLSv1.3.   The  format  of  the  string  is described in OpenSSL
              <a href="../man1/ciphers.1.html">ciphers</a>(1).

              Default:
              <b>TLS_AES_128_GCM_SHA256:TLS_AES_256_GCM_SHA384:TLS_CHACHA20_POLY1305_SHA256:TLS_AES_128_CCM_SHA256</b>

       <b>-p,</b> <b>--no-tls-proto=&lt;PROTOID&gt;</b>
              Specify ALPN identifier of the  protocol to be used  when  accessing  http  URI  without  SSL/TLS.
              Available protocols: h2c and http/1.1

              Default: <b>h2c</b>

       <b>-d,</b> <b>--data=&lt;PATH&gt;</b>
              Post FILE to  server.  The request method  is changed to POST.   For  http/1.1 connection,  if  <u>-d</u>
              is used,  the maximum number of in-flight pipelined requests is set to 1.

       <b>-r,</b> <b>--rate=&lt;N&gt;</b>
              Specifies   the   fixed   rate   at   which   connections  are created.   The   rate  must   be  a
              positive  integer, representing the  number of  connections to be  made  per  rate  period.    The
              maximum   number  of  connections   to be made  is  given  in  <u>-c</u>   option.   This  rate  will  be
              distributed among  threads as  evenly as  possible.  For example,  with   <u>-t</u>2   and    <u>-r</u>4,   each
              thread    gets   2  connections  per  period.   When  the  rate  is 0, the program will run  as it
              normally does, creating  connections at whatever variable rate it  wants.  The default  value  for
              this option is 0.  <u>-r</u> and <u>-D</u> are mutually exclusive.

       <b>--rate-period=&lt;DURATION&gt;</b>
              Specifies  the time  period between creating connections.  The period  must be a positive  number,
              representing the length of the period in time.  This option is ignored if the rate option  is  not
              used.  The default value for this option is 1s.

       <b>-D,</b> <b>--duration=&lt;DURATION&gt;</b>
              Specifies  the  main duration for the measurements in case of timing-based  benchmarking.  <u>-D</u>  and
              <u>-r</u>  are mutually exclusive.

       <b>--warm-up-time=&lt;DURATION&gt;</b>
              Specifies the  time  period  before  starting the actual measurements, in  case  of   timing-based
              benchmarking.  Needs to provided along with <u>-D</u> option.

       <b>-T,</b> <b>--connection-active-timeout=&lt;DURATION&gt;</b>
              Specifies   the  maximum  time that  h2load is  willing to keep a  connection open,  regardless of
              the  activity on said connection.  &lt;DURATION&gt; must be a positive integer, specifying the amount of
              time  to wait.  When no timeout value is  set (either  active or inactive),  h2load will  keep   a
              connection  open indefinitely,  waiting  for  a response.

       <b>-N,</b> <b>--connection-inactivity-timeout=&lt;DURATION&gt;</b>
              Specifies  the  amount   of  time  that  h2load   is  willing  to wait to see activity  on a given
              connection.  &lt;DURATION&gt; must  be a  positive integer,  specifying the  amount of  time   to  wait.
              When  no   timeout value  is set  (either active or inactive), h2load  will keep a connection open
              indefinitely, waiting for a response.

       <b>--timing-script-file=&lt;PATH&gt;</b>
              Path of a file containing one or more lines separated by EOLs.  Each script line  is  composed  of
              two tab-separated fields.  The first field represents the time offset from the start of execution,
              expressed  as  a  positive value of milliseconds  with microsecond  resolution.  The  second field
              represents the URI.  This option will disable URIs getting from  command-line.  If '-'  is   given
              as &lt;PATH&gt;, script lines will be read  from stdin.  Script lines are used in order for each client.
              If <u>-n</u> is given, it must be less  than or  equal to the  number of  script lines, larger values are
              clamped  to  the number of script lines.  If <u>-n</u> is not given,  the number of requests will default
              to the  number of  script lines.   The scheme,  host and port defined in  the first URI are   used
              solely.   Values  contained   in  other  URIs,  if  present,  are  ignored.  Definition of a  base
              URI overrides all  scheme, host  or  port    values.    <u>--timing-script-file</u>    and   <u>--rps</u>    are
              mutually exclusive.

       <b>-B,</b> <b>--base-uri=(&lt;URI&gt;|unix:&lt;PATH&gt;)</b>
              Specify URI from which the scheme, host and port will be used  for  all requests.   The  base  URI
              overrides   all values  defined either  at  the command  line or  inside input files.  If argument
              starts with "unix:", then the rest  of the  argument will  be  treated   as  UNIX   domain  socket
              path.    The  connection  is  made   through  that path instead of TCP.   In this case, scheme  is
              inferred from the first  URI appeared  in the  command line  or inside input files as usual.

       <b>--alpn-list=&lt;LIST&gt;</b>
              Comma delimited list of  ALPN protocol identifier sorted in the  order of preference.  That  means
              most desirable protocol comes  first.  The parameter must  be delimited by  a  single  comma  only
              and any white spaces are treated as a part of protocol string.

              Default: <b>h2,h2-16,h2-14,http/1.1</b>

       <b>--h1</b>   Short          hand          for          <u>--alpn-list</u>=http/1.1  <u>--no-tls-proto</u>=http/1.1,     which
              effectively    force http/1.1 for both http and https URI.

       <b>--header-table-size=&lt;SIZE&gt;</b>
              Specify decoder header table size.

              Default: <b>4K</b>

       <b>--encoder-header-table-size=&lt;SIZE&gt;</b>
              Specify encoder header table size.  The decoder (server) specifies   the  maximum   dynamic  table
              size  it  accepts.  Then the negotiated dynamic table size is the minimum of this option value and
              the value which server specified.

              Default: <b>4K</b>

       <b>--log-file=&lt;PATH&gt;</b>
              Write per-request information to a file as tab-separated columns:  start   time  as   microseconds
              since   epoch;  HTTP status code;  microseconds until end of  response.  More columns may be added
              later.  Rows are ordered by end-of- response  time when   using   one  worker   thread,  but   may
              appear  slightly   out  of  order  with  multiple threads due to buffering.  Status code is -1 for
              failed streams.

       <b>--qlog-file-base=&lt;PATH&gt;</b>
              Enable qlog output and specify base file name for qlogs.  Qlog is emitted   for  each  connection.
              For   a given base name   "base",    each   output   file    name   becomes "base.M.N.sqlog" where
              M is worker ID and N is client ID (e.g. "base.0.3.sqlog").  Only effective in QUIC runs.

       <b>--connect-to=&lt;HOST&gt;[:&lt;PORT&gt;]</b>
              Host and port to connect  instead of using the authority in &lt;URI&gt;.

       <b>--rps=&lt;N&gt;</b>
              Specify request  per second  for  each   client.   <u>--rps</u>  and  <u>--timing-script-file</u>  are  mutually
              exclusive.

       <b>--groups=&lt;GROUPS&gt;</b>
              Specify the supported groups.

              Default: <b>X25519:P-256:P-384:P-521</b>

       <b>--no-udp-gso</b>
              Disable UDP GSO.

       <b>--max-udp-payload-size=&lt;SIZE&gt;</b>
              Specify the maximum outgoing UDP datagram payload size.

       <b>--ktls</b> Enable ktls.

       <b>--sni=&lt;DNSNAME&gt;</b>
              Send  &lt;DNSNAME&gt; in  TLS  SNI, overriding  the host  name specified in URI.

       <b>-v,</b> <b>--verbose</b>
              Output debug information.

       <b>--version</b>
              Display version information and exit.

       <b>-h,</b> <b>--help</b>
              Display this help and exit.

       The  &lt;SIZE&gt;  argument  is an integer and an optional unit (e.g., 10K is 10 * 1024).  Units are K, M and G
       (powers of 1024).

       The &lt;DURATION&gt; argument is an integer and an optional unit (e.g.,  1s  is  1  second  and  500ms  is  500
       milliseconds).   Units  are h, m, s or ms (hours, minutes, seconds and milliseconds, respectively).  If a
       unit is omitted, a second is used as unit.

</pre><h4><b>OUTPUT</b></h4><pre>
       <b>requests</b>

              <b>total</b>  The number of requests h2load was instructed to make.

              <b>started</b>
                     The number of requests h2load has started.

              <b>done</b>   The number of requests completed.

              <b>succeeded</b>
                     The number of requests completed  successfully.   Only  HTTP  status  code  2xx  or3xx  are
                     considered as success.

              <b>failed</b> The  number  of  requests failed, including HTTP level failures (non-successful HTTP status
                     code).

              <b>errored</b>
                     The number of requests failed, except for HTTP level failures.  This is the subset  of  the
                     number reported in <b>failed</b> and most likely the network level failures or stream was reset by
                     RST_STREAM.

              <b>timeout</b>
                     The  number  of  requests whose connection timed out before they were completed.   This  is
                     the  subset   of  the  number  reported  in <b>errored</b>.

       <b>status</b> <b>codes</b>
              The number of status code h2load received.

       <b>traffic</b>

              <b>total</b>  The number of bytes received from the server "on the wire".  If requests were made via TLS,
                     this value is the number of decrypted bytes.

              <b>headers</b>
                     The  number  of response  header  bytes  from  the   server   without  decompression.   The
                     <b>space</b>  <b>savings</b>  shows  efficiency  of header compression.  Let <b>decompressed(headers)</b> to the
                     number of bytes  used  for  header  fields  after  decompression.   The  <b>space</b>  <b>savings</b>  is
                     calculated  by (1 - <b>headers</b>  / <b>decompressed(headers)</b>) * 100.  For HTTP/1.1, this is usually
                     0.00%,  since  it  does  not have header compression.  For HTTP/2, it shows some insightful
                     numbers.

              <b>data</b>   The number of response body bytes received from the server.

       <b>time</b> <b>for</b> <b>request</b>

              <b>min</b>    The minimum time taken for request and response.

              <b>max</b>    The maximum time taken for request and response.

              <b>mean</b>   The mean time taken for request and response.

              <b>sd</b>     The standard deviation of the time taken for request and response.

              <b>+/-</b> <b>sd</b> The fraction of the number of requests  within  standard  deviation  range  (mean  +/-  sd)
                     against total number of successful requests.

       <b>time</b> <b>for</b> <b>connect</b>

              <b>min</b>    The minimum time taken to connect to a server including TLS handshake.

              <b>max</b>    The maximum time taken to connect to a server including TLS handshake.

              <b>mean</b>   The mean time taken to connect to a server including TLS handshake.

              <b>sd</b>     The standard deviation of the time taken to connect to a server.

              <b>+/-</b> <b>sd</b> The   fraction   of   the   number  of  connections  within  standard deviation range (mean
                     +/- sd) against total  number of successful connections.

       <b>time</b> <b>for</b> <b>1st</b> <b>byte</b> <b>(of</b> <b>(decrypted</b> <b>in</b> <b>case</b> <b>of</b> <b>TLS)</b> <b>application</b> <b>data)</b>

              <b>min</b>    The minimum time taken to get 1st byte from a server.

              <b>max</b>    The maximum time taken to get 1st byte from a server.

              <b>mean</b>   The mean time taken to get 1st byte from a server.

              <b>sd</b>     The standard deviation of the time taken to get 1st byte from a server.

              <b>+/-</b> <b>sd</b> The fraction of the number of connections within standard deviation  range  (mean  +/-  sd)
                     against total number of successful connections.

       <b>req/s</b>

              <b>min</b>    The minimum request per second among all clients.

              <b>max</b>    The maximum request per second among all clients.

              <b>mean</b>   The mean request per second among all clients.

              <b>sd</b>     The standard deviation of request per second among all clients.  server.

              <b>+/-</b> <b>sd</b> The  fraction  of  the  number of connections within standard deviation range (mean +/- sd)
                     against total number of successful connections.

</pre><h4><b>FLOW</b> <b>CONTROL</b></h4><pre>
       h2load sets large flow control window by default, and effectively disables flow control  to  avoid  under
       utilization  of  server  performance.   To  set  smaller flow control window, use <u>-w</u> and <u>-W</u> options.  For
       example, use <b>-w16</b> <b>-W16</b> to set default window size described in HTTP/2 protocol specification.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man1/nghttp.1.html">nghttp</a>(1)</b>, <b><a href="../man1/nghttpd.1.html">nghttpd</a>(1)</b>, <b><a href="../man1/nghttpx.1.html">nghttpx</a>(1)</b>

</pre><h4><b>AUTHOR</b></h4><pre>
       Tatsuhiro Tsujikawa

</pre><h4><b>COPYRIGHT</b></h4><pre>
       2012, 2015, 2016, Tatsuhiro Tsujikawa

1.64.0                                            Oct 21, 2024                                         <u><a href="../man1/H2LOAD.1.html">H2LOAD</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>