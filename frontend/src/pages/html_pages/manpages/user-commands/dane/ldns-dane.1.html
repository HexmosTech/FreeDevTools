<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ldns-dane - verify or create TLS authentication with DANE (RFC6698)</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/ldnsutils">ldnsutils_1.8.4-2build1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       ldns-dane - verify or create TLS authentication with DANE (RFC6698)

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>ldns-dane</b> <u>[OPTIONS]</u> <u>verify</u> <u>name</u> <u>port</u>
       <b>ldns-dane</b> <u>[OPTIONS]</u> <u>-t</u> <u>tlsafile</u> <u>verify</u>

       <b>ldns-dane</b> <u>[OPTIONS]</u> <u>create</u> <u>name</u> <u>port</u>
                 [ <u>Certificate-usage</u> [ <u>Selector</u> [ <u>Matching-type</u> ] ] ]

       <b>ldns-dane</b> <u>-h</u>
       <b>ldns-dane</b> <u>-v</u>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       In  the  first  form: A TLS connection to <u>name</u>:<u>port</u> is established.  The TLSA resource record(s) for <u>name</u>
       are used to authenticate the connection.

       In the second form: The TLSA record(s) are read from <u>tlsafile</u> and used to authenticate  the  TLS  service
       they reference.

       In  the  third  form:  A  TLS connection to <u>name</u>:<u>port</u> is established and used to create the TLSA resource
       record(s) that would authenticate the connection.  The parameters for TLSA rr creation are:

       <u>Certificate-usage</u>:
              0 | PKIX-TA
                     CA constraint
              1 | PKIX-EE
                     Service certificate constraint
              2 | DANE-TA
                     Trust anchor assertion
              3 | DANE-EE
                     Domain-issued certificate (default)

       <u>Selector</u>:
              0 | Cert
                     Full certificate
              1 | SPKI
                     SubjectPublicKeyInfo (default)

       <u>Matching-type</u>:
              0 | Full
                     No hash used
              1 | SHA2-256
                     SHA-256 (default)
              2 | SHA2-512
                     SHA-512

</pre><h4><b>OPTIONS</b></h4><pre>
       -4     TLS connect IPv4 only

       -6     TLS connect IPv6 only

       -a <u>address</u>
              Don't try to resolve <u>name</u>, but connect to <u>address</u> instead.

              This option may be given more than once.

       -b     print "<u>name</u>. TYPE52 \# <u>size</u> <u>hexdata</u>" form instead of TLSA presentation format.

       -c <u>certfile</u>
              Do not TLS connect to <u>name</u>:<u>port</u>, but authenticate (or  make  TLSA  records)  for  the  certificate
              (chain) in <u>certfile</u> instead.

       -d     Assume DNSSEC validity even when the TLSA records were acquired insecure or were bogus.

       -f <u>CAfile</u>
              Use CAfile to validate.

       -h     Print short usage help

       -i     Interact after connecting.

       -k <u>keyfile</u>
              Specify  a  file that contains a trusted DNSKEY or DS rr.  Key(s) are used when chasing signatures
              (i.e. <u>-S</u> is given).

              This option may be given more than once.

              Alternatively, if <b>-k</b> is not specified, and a default trust anchor (<a href="file:/usr/share/dns/root.key">/usr/share/dns/root.key</a>) exists
              and contains a valid DNSKEY or DS record, it will be used as the trust anchor.

       -n     Do <b>not</b> verify server name in certificate.

       -o <u>offset</u>
              When creating a "Trust anchor assertion" TLSA resource record,  select  the  <u>offset</u>th  certificate
              offset  from  the end of the validation chain. 0 means the last certificate, 1 the one but last, 2
              the second but last, etc.

              When <u>offset</u> is -1 (the default), the last certificate is used (like with 0)  that  MUST  be  self-
              signed.  This  can  help  to  make  sure  that the intended (self signed) trust anchor is actually
              present in the server certificate chain (which is a DANE requirement).

       -p <u>CApath</u>
              Use certificates in the <u>CApath</u> directory to validate.

       -s     When creating TLSA resource  records  with  the  "CA  Constraint"  and  the  "Service  Certificate
              Constraint" certificate usage, do not validate and assume PKIX is valid.

              For "CA Constraint" this means that verification should end with a self-signed certificate.

       -S     Chase signature(s) to a known key.

              Without  this  option,  the  local network is trusted to provide a DNSSEC resolver (i.e. AD bit is
              checked).

       -t <u>tlsafile</u>
              Read TLSA record(s) from <u>tlsafile</u>. When <u>name</u> and <u>port</u> are also given, only TLSA records that match
              the <u>name</u>, <u>port</u> and <u>transport</u> are used. Otherwise the owner name of the TLSA record(s) will be used
              to determine <u>name</u>, <u>port</u> and <u>transport</u>.

       -T     Return exit status 2 for PKIX validated connections without (secure) TLSA records(s)

       -u     Use UDP transport instead of TCP.

       -v     Show version and exit.

</pre><h4><b>FILES</b></h4><pre>
       <a href="file:/usr/share/dns/root.key">/usr/share/dns/root.key</a>
              The file from which trusted keys are loaded for signature chasing, when no <b>-k</b> option is given.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <a href="../man8/unbound-anchor.8.html">unbound-anchor</a>(8)

</pre><h4><b>AUTHOR</b></h4><pre>
       Written by the ldns team as an example for ldns usage.

</pre><h4><b>REPORTING</b> <b>BUGS</b></h4><pre>
       Report bugs to &lt;<a href="mailto:dns-team@nlnetlabs.nl">dns-team@nlnetlabs.nl</a>&gt;.

</pre><h4><b>COPYRIGHT</b></h4><pre>
       Copyright (C) 2012 NLnet Labs. This is free software. There is NO warranty; not even for  MERCHANTABILITY
       or FITNESS FOR A PARTICULAR PURPOSE.

                                                17 September 2012                                   <u><a href="../man1/ldns-dane.1.html">ldns-dane</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>