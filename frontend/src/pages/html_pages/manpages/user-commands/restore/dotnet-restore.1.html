<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>This article applies to: ✔️ .NET Core 3.1 SDK and later versions</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/dotnet-host-9.0">dotnet-host-9.0_9.0.8-0ubuntu1~25.04.1_amd64</a> <br><br><pre>
</pre><h4><b>dotnet</b> <b>restore</b></h4><pre>
       <b>This</b> <b>article</b> <b>applies</b> <b>to:</b> ✔️ .NET Core 3.1 SDK and later versions

</pre><h4><b>NAME</b></h4><pre>
       dotnet-restore - Restores the dependencies and tools of a project.

</pre><h4><b>SYNOPSIS</b></h4><pre>
              dotnet restore [&lt;ROOT&gt;] [--configfile &lt;FILE&gt;] [--disable-build-servers]
                  [--disable-parallel]
                  [-f|--force] [--force-evaluate] [--ignore-failed-sources]
                  [--interactive] [--lock-file-path &lt;LOCK_FILE_PATH&gt;] [--locked-mode]
                  [--no-cache] [--no-dependencies] [--packages &lt;PACKAGES_DIRECTORY&gt;]
                  [-r|--runtime &lt;RUNTIME_IDENTIFIER&gt;] [-s|--source &lt;SOURCE&gt;]
                  [--tl:[auto|on|off]] [--use-current-runtime, --ucr [true|false]]
                  [--use-lock-file] [-v|--verbosity &lt;LEVEL&gt;]

              dotnet restore -h|--help

</pre><h4><b>DESCRIPTION</b></h4><pre>
       A  .NET  project  typically  references external libraries in NuGet (https://www.nuget.org) packages that
       provide additional functionality.  These  external  dependencies  are  referenced  in  the  project  file
       (<u>.csproj</u> or <u>.vbproj</u>).  When you run the <b>dotnet</b> <b>restore</b> command, the .NET CLI uses NuGet to look for these
       dependencies  and  download them if necessary.  It also ensures that all the dependencies required by the
       project are compatible with each other and that there are no conflicts between them.  Once the command is
       completed, all the dependencies required by the project are available in a local cache and can be used by
       the .NET CLI to build and run the application.

       In most cases, you don’t need to explicitly use the <b>dotnet</b> <b>restore</b> command, since if a NuGet  restore  is
       necessary, the following commands run it implicitly:

       • <b>dotnet</b> <b>new</b>

       • <b>dotnet</b> <b>build</b>

       • <b>dotnet</b> <b>build-server</b>

       • <b>dotnet</b> <b>run</b>

       • <b>dotnet</b> <b>test</b>

       • <b>dotnet</b> <b>publish</b>

       • <b>dotnet</b> <b>pack</b>

       Sometimes,  it might be inconvenient to run the implicit NuGet restore with these commands.  For example,
       some automated systems, such as build systems, need to call <b>dotnet</b> <b>restore</b> explicitly to control when the
       restore occurs so that they can control network usage.  To prevent the implicit NuGet  restore,  you  can
       use the <b>--no-restore</b> flag with any of these commands.

              Signed  package  verification  during restore operations requires a certificate root store that is
              valid for both code signing and timestamping.  For more inforomation,  see  NuGet  signed  package
              verification.

   <b>Specify</b> <b>feeds</b>
       To  restore  the  dependencies,  NuGet needs the feeds where the packages are located.  Feeds are usually
       provided via the <u>nuget.config</u> configuration file.  A default configuration file is provided when the .NET
       SDK is installed.  To specify additional feeds, do one of the following:

       • Create your own <u>nuget.config</u> file in the project directory.  For more  information,  see  Common  NuGet
         configurations and nuget.config differences later in this article.

       • Use <b>dotnet</b> <b>nuget</b> commands such as <b>dotnet</b> <b>nuget</b> <b>add</b> <b>source</b>.

       You can override the <u>nuget.config</u> feeds with the <b>-s</b> option.

       For information about how to use authenticated feeds, see Consuming packages from authenticated feeds.

   <b>Global</b> <b>packages</b> <b>folder</b>
       For dependencies, you can specify where the restored packages are placed during the restore operation us‐
       ing  the  <b>--packages</b> argument.  If not specified, the default NuGet package cache is used, which is found
       in the <b>.nuget/packages</b> directory in the user’s home directory on all  operating  systems.   For  example,
       <u>/home/user1</u> on Linux or <u>C:</u> on Windows.

   <b>Project-specific</b> <b>tooling</b>
       For  project-specific tooling, <b>dotnet</b> <b>restore</b> first restores the package in which the tool is packed, and
       then proceeds to restore the tool’s dependencies as specified in its project file.

   <b>nuget.config</b> <b>differences</b>
       The behavior of the <b>dotnet</b> <b>restore</b> command is affected by the  settings  in  the  <u>nuget.config</u>  file,  if
       present.   For  example, setting the <b>globalPackagesFolder</b> in <u>nuget.config</u> places the restored NuGet pack‐
       ages in the specified folder.  This is an alternative to specifying the <b>--packages</b> option on  the  <b>dotnet</b>
       <b>restore</b> command.  For more information, see the nuget.config reference.

       There are three specific settings that <b>dotnet</b> <b>restore</b> ignores:

       • bindingRedirects

         Binding redirects don’t work with <b>&lt;PackageReference&gt;</b> elements and .NET only supports <b>&lt;PackageReference&gt;</b>
         elements for NuGet packages.

       • solution

         This  setting  is Visual Studio specific and doesn’t apply to .NET.  .NET doesn’t use a <b>packages.config</b>
         file and instead uses <b>&lt;PackageReference&gt;</b> elements for NuGet packages.

       • trustedSigners

         Support for cross-platform package signature verification was added in the .NET 5.0.100 SDK.

   <b>Workload</b> <b>manifest</b> <b>downloads</b>
       When you run this command, it initiates an asynchronous background download of advertising manifests  for
       workloads.   If  the  download is still running when this command finishes, the download is stopped.  For
       more information, see Advertising manifests.

</pre><h4><b>ARGUMENTS</b></h4><pre>
       • <b>ROOT</b>

         Optional path to the project file to restore.

</pre><h4><b>OPTIONS</b></h4><pre>
       • <b>-a|--arch</b> <b>&lt;ARCHITECTURE&gt;</b>

         Specifies the target architecture.  This is a shorthand  syntax  for  setting  the  Runtime  Identifier
         (RID),  where  the provided value is combined with the default RID.  For example, on a <b>win-x64</b> machine,
         specifying <b>--arch</b> <b>x86</b> sets the RID to <b>win-x86</b>.  If you use this option, don’t use the <b>-r|--runtime</b>  op‐
         tion.  Available since .NET 6 Preview 7.

       • <b>--configfile</b> <b>&lt;FILE&gt;</b>

         The  NuGet  configuration  file  (<u>nuget.config</u>) to use.  If specified, only the settings from this file
         will be used.  If not specified, the hierarchy of configuration files from the current  directory  will
         be used.  For more information, see Common NuGet Configurations.

       • <b>--disable-build-servers</b>

         Forces  the  command  to ignore any persistent build servers.  This option provides a consistent way to
         disable all use of build caching, which forces a build from scratch.  A  build  that  doesn’t  rely  on
         caches is useful when the caches might be corrupted or incorrect for some reason.  Available since .NET
         7 SDK.

       • <b>--disable-parallel</b>

         Disables restoring multiple projects in parallel.

       • <b>--force</b>

         Forces  all  dependencies to be resolved even if the last restore was successful.  Specifying this flag
         is the same as deleting the <u>project.assets.json</u> file.

       • <b>--force-evaluate</b>

         Forces restore to reevaluate all dependencies even if a lock file already exists.

       • <b>-?|-h|--help</b>

         Prints out a description of how to use the command.

       • <b>--ignore-failed-sources</b>

         Only warn about failed sources if there are packages meeting the version requirement.

       • <b>--interactive</b>

         Allows the command to stop and wait for user input or action.  For example, to complete authentication.

       • <b>--lock-file-path</b> <b>&lt;LOCK_FILE_PATH&gt;</b>

         Output location where project lock file is written.  By default, this is <u>PROJECT_ROOT.lock.json</u>.

       • <b>--locked-mode</b>

         Don’t allow updating project lock file.

       • <b>--no-cache</b>

         Specifies to not cache HTTP requests.

       • <b>--no-dependencies</b>

         When restoring a project with project-to-project (P2P) references, restores the root  project  and  not
         the references.

       • <b>--packages</b> <b>&lt;PACKAGES_DIRECTORY&gt;</b>

         Specifies the directory for restored packages.

       • <b>-r|--runtime</b> <b>&lt;RUNTIME_IDENTIFIER&gt;</b>

         Specifies a runtime for the package restore.  This is used to restore packages for runtimes not explic‐
         itly  listed  in  the  <b>&lt;RuntimeIdentifiers&gt;</b> tag in the <u>.csproj</u> file.  For a list of Runtime Identifiers
         (RIDs), see the RID catalog.

       • <b>-s|--source</b> <b>&lt;SOURCE&gt;</b>

         Specifies the URI of the NuGet package source to use during the restore operation.  This setting  over‐
         rides  all  of  the  sources  specified in the <u>nuget.config</u> files.  Multiple sources can be provided by
         specifying this option multiple times.

       • <b>--tl:[auto|on|off]</b>

         Specifies whether the <u>terminal</u> <u>logger</u> should be used for the build output.  The default is <b>auto</b>,  which
         first  verifies  the environment before enabling terminal logging.  The environment check verifies that
         the terminal is capable of using modern output features and isn’t using a  redirected  standard  output
         before  enabling  the  new  logger.   <b>on</b> skips the environment check and enables terminal logging.  <b>off</b>
         skips the environment check and uses the default console logger.

         The terminal logger shows you the restore phase followed by the build phase.  During  each  phase,  the
         currently building projects appear at the bottom of the terminal.  Each project that’s building outputs
         both  the  MSBuild  target  currently being built and the amount of time spent on that target.  You can
         search this information to learn more about the build.  When a project is finished building,  a  single
         “build completed” section is written that captures:

         • The name of the built project.

         • The target framework (if multi-targeted).

         • The status of that build.

         • The primary output of that build (which is hyperlinked).

         • Any diagnostics generated for that project.

         This option is available starting in .NET 8.

       • <b>--use-current-runtime,</b> <b>--ucr</b> <b>[true|false]</b>

         Sets  the  <b>RuntimeIdentifier</b> to a platform portable <b>RuntimeIdentifier</b> based on the one of your machine.
         This happens implicitly with properties that require a <b>RuntimeIdentifier</b>, such as  <b>SelfContained</b>,  <b>Pub‐</b>
         <b>lishAot</b>,  <b>PublishSelfContained</b>,  <b>PublishSingleFile</b>,  and  <b>PublishReadyToRun</b>.  If the property is set to
         false, that implicit resolution will no longer occur.

       • <b>--use-lock-file</b>

         Enables project lock file to be generated and used with restore.

       • <b>-v|--verbosity</b> <b>&lt;LEVEL&gt;</b>

         Sets the verbosity level of the command.  Allowed values are <b>q[uiet]</b>, <b>m[inimal]</b>, <b>n[ormal]</b>,  <b>d[etailed]</b>,
         and  <b>diag[nostic]</b>.   The  default  is  <b>minimal</b>.  For more information, see &lt;xref:Microsoft.Build.Frame‐
         work.LoggerVerbosity&gt;.

</pre><h4><b>EXAMPLES</b></h4><pre>
       • Restore dependencies and tools for the project in the current directory:

                dotnet restore

       • Restore dependencies and tools for the <b>app1</b> project found in the given path:

                dotnet restore ./projects/app1/app1.csproj

       • Restore the dependencies and tools for the project in the current directory using the file path provid‐
         ed as the source:

                dotnet restore -s c:\packages\mypackages

       • Restore the dependencies and tools for the project in the current directory using the  two  file  paths
         provided as sources:

                dotnet restore -s c:\packages\mypackages -s c:\packages\myotherpackages

       • Restore dependencies and tools for the project in the current directory showing detailed output:

                dotnet restore --verbosity detailed

   <b>Audit</b> <b>for</b> <b>security</b> <b>vulnerabilities</b>
       Starting  in .NET 8, <b>dotnet</b> <b>restore</b> includes NuGet security auditing.  This auditing produces a report of
       security vulnerabilities with the affected package name, the severity of the vulnerability, and a link to
       the advisory for more details.

       To opt out of the security auditing, set the <b>&lt;NuGetAudit&gt;</b> MSBuild property to <b>false</b> in your project file.

       To retrieve the known vulnerability dataset, ensure that you have the NuGet.org central registry  defined
       as one of your package sources:

              &lt;packageSources&gt;
                  &lt;add key="nuget.org" value="https://api.nuget.org/v3/index.json" protocolVersion="3" /&gt;
              &lt;/packageSources&gt;

       You  can configure the level at which auditing will fail by setting the <b>&lt;NuGetAuditLevel&gt;</b> MSBuild proper‐
       ty.  Possible values are <b>low</b>, <b>moderate</b>, <b>high</b>, and <b>critical</b>.  For example if you only want to  see  moder‐
       ate, high, and critical advisories, you can set the property to <b>moderate</b>.

       Starting  in  .NET 9, NuGet audits both <u>direct</u> and <u>transitive</u> package references, by default.  In .NET 8,
       only <u>direct</u> package references are audited.  You can change the mode by setting the <b>&lt;NuGetAuditMode&gt;</b>  MS‐
       Build property to <b>direct</b> or <b>all</b>.

       For more information, see Auditing package dependencies for security vulnerabilities.

                                                   2024-10-02                                  <u><a href="../man1/dotnet-restore.1.html">dotnet-restore</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>