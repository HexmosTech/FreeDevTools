<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>tanidvr - tool for DVRs and IP cameras based on DVR-IP protocol used by Dahua</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/tanidvr">tanidvr_1.4.1-2_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       <b>tanidvr</b> - tool for DVRs and IP cameras based on DVR-IP protocol used by Dahua

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>tanidvr</b> <b>-m</b> &lt;mode&gt; <b>-t</b> &lt;address&gt; <b>-u</b> &lt;user&gt; <b>-w</b> &lt;password&gt; [<u>OPTION</u>]

</pre><h4><b>DESCRIPTION</b></h4><pre>
       TaniDVR  is  a CLI tool for accessing DVRs and IP cameras used for CCTV surveillance systems based on the
       proprietary DVR-IP protocol (port 37777/TCP).

       The main use of TaniDVR is to dump video from a device. With this, it can record to a Matroska (MKV) file
       or dump the video in realtime to play in an external player.

</pre><h4><b>OPTIONS</b></h4><pre>
       <b>-m,</b> <b>--operation-mode</b>
              0 - display DVR information.  1 - dump video.

       <b>-t,</b> <b>--dvr-target</b>
              IP/hostname.

       <b>-p,</b> <b>--dvr-port</b>
              Network port (default 37777).

       <b>-u,</b> <b>--dvr-user</b>
              DVR user (may not work if not admin!).

       <b>-w,</b> <b>--dvr-password</b>
              DVR password.

       <b>-c,</b> <b>--dvr-channel</b>
              0-255 (default 0).

       <b>-s,</b> <b>--dvr-sub-channel</b>
              0 - main (default).  1 - secondary.

       <b>-a,</b> <b>--net-protocol-dialect</b>
              0 - common dialect (default).  1 - common dialect, while emulating OEM client behavior.

       <b>-n,</b> <b>--media-container</b>
              0 - DVR native: DHAV (.dav|.dhav) or RAW H.264 (depends on the DVR itself).  1 -  Matroska  (.mkv)
              (default).

       <b>-f,</b> <b>--out-file</b>
              &lt;filename&gt; (default: empty -- console stdout).

       <b>-k,</b> <b>--keep-alive</b>
              &lt;mili_seconds&gt;  (default:  100ms).   Send  innocuous  packets  to  the  DVR  in order to avoid the
              connection to be dropped gratuitously.  To disable (not recommended), set to 0.

       <b>-e,</b> <b>--timeout</b>
              &lt;mili_seconds&gt; (default 5000ms).  Inactivity timeout for DVR connection to be considered dead.   A
              new DVR connection is started after this.  To disable (not recommended), set to 0.

       <b>-x,</b> <b>--sixty-hertz-ntsc</b>
              (default:  not  enabled).   If  defined,  assumes  NTSC field frequency to be 60Hz, instead of the
              typical 59.94Hz.  Some cameras do generate exact 60Hz video.  This  switch  does  NOT  affect  PAL
              video.

       <b>-r,</b> <b>--ts-proc</b>
              0  -  No  correction will be performed to the buggy DHAV stream timestamps.  1 - Perform timestamp
              correction (default).

       <b>-h,</b> <b>--help</b>
              Prints help message and exit.

</pre><h4><b>EXAMPLES</b></h4><pre>
       •  Show some information about the DVR.

                     tanidvr -m 0 -t 192.168.0.12 -u admin -w secret1234

       •  Record a video to a file.

                     tanidvr -m 1 -t 192.168.0.12 -u admin -w secret1234 -c 2 -f camera2.mkv

       •  Play the video in realtime with an external player.

                     tanidvr -m 1 -t 192.168.0.12 -u admin -w secret1234 -c 2 | mplayer -cache 32 - 2&gt;/dev/null

       •  Simple media server and some clients.  NOTE: INSECURE. NOT to be implemented as-is.  It is shown  only
          for didactic purposes.

                     (server at 192.168.20.1)
                     tanidvr -n 0 -m 1 -t 192.168.0.12 -u admin -w secret1234 -c 5 | ncat --broker -l 192.168.20.1 2000

                     (clients ; same/other host)
                     ncat --recv-only 192.168.20.1 2000 | dhav2mkv | mplayer -cache 32 -
                     ncat --recv-only 192.168.20.1 2000 | dhav2mkv &gt; channel_5_realtime_backup.mkv
                     ncat --recv-only 192.168.20.1 2000 &gt; channel_5_realtime_backup.dhav

</pre><h4><b>AUTHOR</b></h4><pre>
       <b>tanidvr</b> was written by Daniel Mealha Cabrita &lt;<a href="mailto:dancab@gmx.net">dancab@gmx.net</a>&gt;.

       This  manual page was written by Marcos Talau &lt;<a href="mailto:marcos@talau.info">marcos@talau.info</a>&gt; for the Debian project (but may be used
       by others).

tanidvr-1.4.1                                      18 Aug 2022                                        <u><a href="../man1/tanidvr.1.html">tanidvr</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>