<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>git-check-ref-format - Ensures that a reference name is well formed</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/git-man">git-man_2.48.1-0ubuntu1.1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       git-check-ref-format - Ensures that a reference name is well formed

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <u>git</u> <u>check-ref-format</u> [--normalize]
              [--[no-]allow-onelevel] [--refspec-pattern]
              &lt;refname&gt;
       <u>git</u> <u>check-ref-format</u> --branch &lt;branchname-shorthand&gt;

</pre><h4><b>DESCRIPTION</b></h4><pre>
       Checks if a given <u>refname</u> is acceptable, and exits with a non-zero status if it is not.

       A reference is used in Git to specify branches and tags. A branch head is stored in the <b>refs/heads</b>
       hierarchy, while a tag is stored in the <b>refs/tags</b> hierarchy of the ref namespace (typically in
       <b>$GIT_DIR/refs/heads</b> and <b>$GIT_DIR/refs/tags</b> directories or, as entries in file <b>$GIT_DIR/packed-refs</b> if
       refs are packed by <b>git</b> <b>gc</b>).

       Git imposes the following rules on how references are named:

        1. They can include slash <b>/</b> for hierarchical (directory) grouping, but no slash-separated component can
           begin with a dot . or end with the sequence <b>.lock</b>.

        2. They must contain at least one <b>/</b>. This enforces the presence of a category like <b>heads/</b>, <b>tags/</b> etc.
           but the actual names are not restricted. If the <b>--allow-onelevel</b> option is used, this rule is waived.

        3. They cannot have two consecutive dots .. anywhere.

        4. They cannot have ASCII control characters (i.e. bytes whose values are lower than \040, or \177 <b>DEL</b>),
           space, tilde <b>~</b>, caret <b>^</b>, or colon <b>:</b> anywhere.

        5. They cannot have question-mark ?, asterisk *, or open bracket [ anywhere. See the <b>--refspec-pattern</b>
           option below for an exception to this rule.

        6. They cannot begin or end with a slash <b>/</b> or contain multiple consecutive slashes (see the <b>--normalize</b>
           option below for an exception to this rule).

        7. They cannot end with a dot ..

        8. They cannot contain a sequence <b>@</b>{.

        9. They cannot be the single character <b>@</b>.

       10. They cannot contain a \.

       These rules make it easy for shell script based tools to parse reference names, pathname expansion by the
       shell when a reference name is used unquoted (by mistake), and also avoid ambiguities in certain
       reference name expressions (see <b><a href="../man7/gitrevisions.7.html">gitrevisions</a></b>(7)):

        1. A double-dot .. is often used as in <b>ref1..ref2</b>, and in some contexts this notation means <b>^ref1</b> <b>ref2</b>
           (i.e. not in <b>ref1</b> and in <b>ref2</b>).

        2. A tilde <b>~</b> and caret <b>^</b> are used to introduce the postfix <u>nth</u> <u>parent</u> and <u>peel</u> <u>onion</u> operation.

        3. A colon <b>:</b> is used as in <b>srcref:dstref</b> to mean "use srcref’s value and store it in dstref" in fetch
           and push operations. It may also be used to select a specific object such as with <u>git</u> <u>cat-file</u>: "git
           cat-file blob v1.3.3:refs.c".

        4. at-open-brace <b>@</b>{ is used as a notation to access a reflog entry.

       With the <b>--branch</b> option, the command takes a name and checks if it can be used as a valid branch name
       (e.g. when creating a new branch). But be cautious when using the previous checkout syntax that may refer
       to a detached HEAD state. The rule <b>git</b> <b>check-ref-format</b> <b>--branch</b> <b>$name</b> implements may be stricter than
       what <b>git</b> <b>check-ref-format</b> <b>refs/heads/$name</b> says (e.g. a dash may appear at the beginning of a ref
       component, but it is explicitly forbidden at the beginning of a branch name). When run with the <b>--branch</b>
       option in a repository, the input is first expanded for the “previous checkout syntax” <b>@</b>{-n}. For
       example, <b>@</b>{-1} is a way to refer the last thing that was checked out using "git switch" or "git checkout"
       operation. This option should be used by porcelains to accept this syntax anywhere a branch name is
       expected, so they can act as if you typed the branch name. As an exception note that, the “previous
       checkout operation” might result in a commit object name when the N-th last thing checked out was not a
       branch.

</pre><h4><b>OPTIONS</b></h4><pre>
       --[no-]allow-onelevel
           Controls whether one-level refnames are accepted (i.e., refnames that do not contain multiple
           <b>/</b>-separated components). The default is <b>--no-allow-onelevel</b>.

       --refspec-pattern
           Interpret &lt;refname&gt; as a reference name pattern for a refspec (as used with remote repositories). If
           this option is enabled, &lt;refname&gt; is allowed to contain a single * in the refspec (e.g., <b>foo/bar</b>*/baz
           or <b>foo/bar</b>*baz/ but not <b>foo/bar</b>*/baz*).

       --normalize
           Normalize <u>refname</u> by removing any leading slash (<b>/</b>) characters and collapsing runs of adjacent
           slashes between name components into a single slash. If the normalized refname is valid then print it
           to standard output and exit with a status of 0, otherwise exit with a non-zero status. (<b>--print</b> is a
           deprecated way to spell <b>--normalize</b>.)

</pre><h4><b>EXAMPLES</b></h4><pre>
       •   Print the name of the previous thing checked out:

               $ git check-ref-format --branch @{-1}

       •   Determine the reference name to use for a new branch:

               $ ref=$(git check-ref-format --normalize "refs/heads/$newbranch")||
               { echo "we do not like '$newbranch' as a branch name." &gt;&amp;2 ; exit 1 ; }

</pre><h4><b>GIT</b></h4><pre>
       Part of the <b><a href="../man1/git.1.html">git</a></b>(1) suite

Git 2.48.1                                         07/02/2025                            <u><a href="../man1/GIT-CHECK-REF-FORMAT.1.html">GIT-CHECK-REF-FORMAT</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>