<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>gbp-import-ref - Update upstream sources in a git only workflow</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/git-buildpackage">git-buildpackage_0.9.37_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       gbp-import-ref - Update upstream sources in a git only workflow

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>gbp</b> <b>import-ref</b> [<b>--version</b>] [<b>--help</b>] [<b>--verbose</b>] [<b>--color=</b>[auto|on|off]] [<b>--color-scheme=</b> <u>COLOR_SCHEME</u>]
                      [<b>--upstream-version=</b> <u>version</u>] [<b>--merge-mode=</b> <u>[auto|merge|replace]</u>] [<b>--upstream-branch=</b>
                      <u>branch_name</u>] [<b>--upstream-tag=</b> <u>tag_format</u>] [<b>--upstream-tree=</b> <u>[BRANCH|VERSION|commit-id]</u>]
                      [<b>--debian-branch=</b> <u>branch_name</u>] [<b>--[no-]sign-tags</b>] [<b>--keyid=</b> <u>gpg-keyid</u>] [<b>--postimport=cmd</b>]
                      [<b>--[no-]rollback</b>]

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>gbp</b> <b>import-ref</b>  merges  upstream  git  commits onto your <b>debian-branch</b> You can either specify a branch to
       merge, give an upstream version or specify the commit id directly. If no tag exists for the imported com‐
       mit it will be automatically created.

</pre><h4><b>OPTIONS</b></h4><pre>
       <b>--version</b>
              Print version of the program, i.e. version of the git-buildpackage suite

       <b>-v</b>, <b>--verbose</b>
              Verbose execution

       <b>-h</b>, <b>--help</b>
              Print help and exit

       <b>--color=</b>[auto|on|off]
              Whether to use colored output.

       <b>--color-scheme=</b><u>COLOR_SCHEME</u>
              Colors to use in output (when color is enabled). The  format  for  COLOR_SCHEME  is  '&lt;debug&gt;:&lt;in‐
              fo&gt;:&lt;warning&gt;:&lt;error&gt;'.  Numerical values and color names are accepted, empty fields imply the de‐
              fault  color.  For example, <b>--git-color-scheme=</b>'cyan:34::' would show debug messages in cyan, info
              messages in blue and other messages in default (i.e. warning and error messages in red).

       <b>--upstream-version</b>=<u>version</u>, <b>-u</b><u>version</u>
              The upstream version to merge. The upstream tag to use will be determined via the <b>--upstream-tag</b>.

       <b>--merge-mode=</b><u>[auto|merge|replace]</u>
              How to fold the upstream commits onto the Debian packaging branch.

              <u>merge</u> does a Git <b>merge</b> leaving you on your own in case of merge conflict resolution.

              <u>replace</u> mode on the other hand makes the head of the Debian packaging branch identical to the new‐
              ly imported tree but preserves the content of the <u>debian/</u> directory while keeping the current head
              as well as the newly imported tree as parents of the generated commit. This is similar to a <b>theirs</b>
              merge strategy while preserving <u>debian/</u>.

              The default is <u>auto</u> which uses <u>replace</u> for 3.0 (quilt) packages and <u>merge</u> otherwise.

       <b>--upstream-branch</b>=<u>branch_name</u>
              The branch in the Git repository the upstream sources are on. Default is <u>upstream</u>.

       <b>--upstream-tag=</b><u>tag-format</u>
              Use this tag format when looking up upstream tags, default is <u>upstream/%(version)s</u>.

       <b>--upstream-tree=</b><u>[BRANCH|VERSION|commit-id]</u>
              What to merge into the <b>debian-branch</b>.  <u>BRANCH</u> merges from the upstream branch.  <u>VERSION</u>  (the  de‐
              fault)  looks  for a tag determined from the given upstream version number via the <b>--upstream-ver‐</b>
              <b>sion</b> option.

              Other values are interpreted as git commit id to merge from.

       <b>--debian-branch</b>=<u>branch_name</u>
              The branch in the Git repository the Debian package is being developed on, default is <u>master</u>.

       <b>--[no-]sign-tags</b>
              GPG sign all created tags.

       <b>--keyid=</b><u>gpg-keyid</u>
              Use this <u>keyid</u> for gpg signing tags.

       <b>--import-msg=</b><u>msg-format</u>
              Use this format string for the commit message when importing upstream versions, default is <u>New</u> <u>up‐</u>
              <u>stream</u> <u>version</u> <u>%(version)s</u>.

       <b>--postimport=</b><u>cmd</u>
              Run <u>cmd</u> after the import. The hook gets the following environment variables passed:

              <b>GBP_BRANCH</b>
                     The name of the Debian packaging branch

              <b>GBP_TAG</b>
                     The name of the just created upstream tag

              <b>GBP_UPSTREAM_VERSION</b>
                     The just imported upstream version

              <b>GBP_DEBIAN_VERSION</b>
                     The Debian version of the package with a Debian revision of '-1'

       <b>--[no-]rollback</b>
              Rollback changes in case of an error.

</pre><h4><b>EXAMPLES</b></h4><pre>
       Merge  commits  from  the  <b>upstream-branch</b>  into  the  <b>debian-branch</b>  creating  a  tag  for  the  version
       <u>0.0~git20180524</u>:

           <b>gbp</b> <b>import-ref</b> --upstream-tree=BRANCH -u0.0~git20180524

       Merge commits from the tag corresponding to version <u>1.0</u>:

           <b>gbp</b> <b>import-ref</b> --upstream-tree=VERSION -u1.0

       Merge commits given by a SHA1 creating a tag for the version <u>0.0~git20180524</u>

           <b>gbp</b> <b>import-ref</b> --upstream-tree=c4398912c -u0.0~git20180524

</pre><h4><b>CONFIGURATION</b> <b>FILES</b></h4><pre>
       Several  <u>gbp.conf</u>  files  are  parsed  to  set  defaults  for  the  above command-line arguments. See the
       <b><a href="../man5/gbp.conf.5.html">gbp.conf</a></b>(5) manpage for details.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man1/gbp-buildpackage.1.html">gbp-buildpackage</a></b>(1),  <b><a href="../man1/gbp-import-dsc.1.html">gbp-import-dsc</a></b>(1),  <b><a href="../man1/gbp-import-dscs.1.html">gbp-import-dscs</a></b>(1),  <b><a href="../man1/gbp-dch.1.html">gbp-dch</a></b>(1),  <b><a href="../man5/gbp.conf.5.html">gbp.conf</a></b>(5),  <b><a href="../man1/uscan.1.html">uscan</a></b>(1),   <b>de‐</b>
       <b><a href="../man1/build.1.html">build</a></b>(1), <b><a href="../man1/git.1.html">git</a></b>(1), <b><a href="../man1/pristine-tar.1.html">pristine-tar</a></b>(1), The Git-Buildpackage Manual ⟨file:///usr/share/doc/git-buildpackage/
       manual-html/index.html⟩

</pre><h4><b>AUTHOR</b></h4><pre>
       Guido Günther &lt;<a href="mailto:agx@sigxcpu.org">agx@sigxcpu.org</a>&gt;

                                                 9 January 2025                                <u><a href="../man1/gbp-import-ref.1.html">gbp-import-ref</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>