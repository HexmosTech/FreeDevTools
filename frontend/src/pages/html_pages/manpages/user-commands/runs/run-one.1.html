<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>run-one  -  run  just  one  instance  at  a  time of some command and unique set of arguments (useful for</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/run-one">run-one_1.17-0ubuntu2_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       run-one  -  run  just  one  instance  at  a  time of some command and unique set of arguments (useful for
       cronjobs, eg)

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>run-one</b> COMMAND [ARGS]

       <b>run-this-one</b> COMMAND [ARGS]

       <b>run-one-constantly</b> COMMAND [ARGS]

       <b>keep-one-running</b> COMMAND [ARGS]

       <b>run-one-until-success</b> COMMAND [ARGS]

       <b>run-one-until-failure</b> COMMAND [ARGS]

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>run-one</b> is a wrapper script that runs no more than one unique instance of some command with a unique  set
       of arguments.

       This is often useful with cronjobs, when you want no more than one copy running at a time.

       <b>run-this-one</b>  is  exactly like <b>run-one</b>, except that it will use <b><a href="../man1/pgrep.1.html">pgrep</a></b>(1) and <b><a href="../man1/kill.1.html">kill</a></b>(1) to find and kill any
       running processes owned by  the  user  and  matching  the  target  commands  and  arguments.   Note  that
       <b>run-this-one</b> will block while trying to kill matching processes, until all matching processes are dead.

       <b>run-one-constantly</b>  operates  exactly  like  <b>run-one</b>  except  that  it respawns "COMMAND [ARGS]" any time
       COMMAND exits (zero or non-zero).

       <b>keep-one-running</b> is an alias for <b>run-one-constantly</b>.

       <b>run-one-until-success</b> operates exactly like <b>run-one-constantly</b> except that it respawns  "COMMAND  [ARGS]"
       until COMMAND exits successfully (ie, exits zero).

       <b>run-one-until-failure</b>  operates  exactly like <b>run-one-constantly</b> except that it respawns "COMMAND [ARGS]"
       until COMMAND exits with failure (ie, exits non-zero).

</pre><h4><b>EXAMPLE</b></h4><pre>
       In one shell:

        $ run-one rsync -azP $HOME $<a href="mailto:USER@example.com">USER@example.com</a>:/srv/backup
        foouser/
        foouser/.bash_history
              40298 100%   37.13MB/s    0:00:00 (xfer#1, to-check=3509/3516)
        foouser/.viminfo
              20352 100%   98.39kB/s    0:00:00 (xfer#3, to-check=3478/3516)
        ...
        sent 746228 bytes  received 413059 bytes  36802.76 bytes/sec
        total size is 3732890955  speedup is 3219.99

       In another shell, while the first is still running:

        $ run-one rsync -azP $HOME $<a href="mailto:USER@example.com">USER@example.com</a>:/srv/backup
        $ echo $?
        1

       Another example...  In one shell:

        $ run-one top

       In another shell:

        $ run-one top
        $ echo $?
        1
        $ run-this-one top
        top - 17:15:36 up  1:43,  3 users,  load average: 1.05, 1.04, 1.00
        Tasks: 170 total,   1 running, 169 sleeping,   0 stopped,   0 zombie
        ...

       And note that the process in the first shell was killed.

       You might want to keep one ssh connection up and running all the time, with:

        $ run-one-constantly ssh -N -C -L 3128:localhost:3128 -L 7778:localhost:7778 example.com &amp;

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man1/flock.1.html">flock</a></b>(1), <b><a href="../man1/kill.1.html">kill</a></b>(1), <b><a href="../man1/pgrep.1.html">pgrep</a></b>(1)

</pre><h4><b>AUTHOR</b></h4><pre>
       This manpage and the utility was written by Dustin Kirkland &lt;<a href="mailto:kirkland@ubuntu.com">kirkland@ubuntu.com</a>&gt; for Ubuntu systems (but
       may be used by others).  Permission is granted to copy, distribute and/or modify this document under  the
       terms of the GNU General Public License, Version 3 published by the Free Software Foundation.

       On Debian systems, the complete text of the GNU General Public License can be found in /usr/share/common-
       licenses/GPL, or on the web at <u><a href="http://www.gnu.org/licenses/gpl.txt">http://www.gnu.org/licenses/gpl.txt</a></u>.

run-one                                            9 Jan 2011                                         <u><a href="../man1/run-one.1.html">run-one</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>