<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>dh_sysuser - manage system users required for package operation</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/dh-sysuser">dh-sysuser_1.6.0_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       dh_sysuser - manage system users required for package operation

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>dh_sysuser</b> [<u>debhelper</u> <u>options</u>] [<u>username</u> <u>options</u>] ...

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>dh_sysuser</b> is an alternative to the more popular dh_installsysusers addon; dh_sysuser is a debhelper
       addon providing a simple way to create system users required for package operation (for example, to run a
       service with dropped privileges).

       Compared to dh_installsysusers, <b>dh_sysuser</b> injects a different dependency that plays nice with
       alternative init systems, non-linux ports or initless systems.  Packages builded with dh_sysuser will
       still work fine under systemd at the cost of an additional dependency (sysuser-helper).

       <b>dh_sysuser</b> should not be used when the upstream source provides a sysusers.d conf file already installed
       in <a href="file:/usr/lib/sysusers.d/">/usr/lib/sysusers.d/</a>; for such cases please use dh_installsysusers.

       The user creation itself is delegated to a systemd-sysusers provider, with a fallback to the
       <b><a href="../man8/minsysusers.8.html">minsysusers</a></b>(8) utility for systems where a systemd-sysuser provider is not available.

       •   The  primary  group of the new user is created with the same name as the user. The new users will not
           be a member of any other group except the primary one.

       •   New users have the <u><a href="file:/etc/shadow">/etc/shadow</a></u> password field set to '!', making it impossible to log in.

       •   By default new users have the shell set to <u><a href="file:///usr/lib/w3m/cgi-bin/w3mman2html.cgi?nologin">/usr/sbin/nologin</a></u>. It is  still  possible  to  get  a  new
           user's shell with <u>su</u> <u>-s</u>.

       •   The  default home directory is set to /; if a different home is chosen, the home directory is created
           (see  below),  its  permissions  are   adjusted   according   to   the   <b>SYS_DIR_MODE</b>   variable   in
           <u><a href="file:/etc/adduser.conf">/etc/adduser.conf</a></u>.  By  default,  this  results  in  the  mode 0755 for the home directory.Files from
           <u><a href="file:/etc/skel">/etc/skel</a></u> are <u>NOT</u> copied.

           <b>WARNING:</b> The data stored in new user's  home  directory  are  world-readable.   If  you  (as  package
           maintainer) need full control over home directory permissions, please file a bug.

       •   It's  possible to override the default setting for user's home and shell, add a GECOS comment and set
           the user's UID. Please see <b><a href="../man5/sysusers.d.5.html">sysusers.d</a></b>(5) format.

       <b>dh_sysuser</b>  looks  for  a   <u>debian/package.minsysusers</u>  file,  if  one  exists,  and   installs   it   as
       <u>/usr/lib/sysusers.d/package.conf</u>;  then  it adds a postinstall snippet code to make sure that the user is
       created at  package  postinstall.   The   <u>debian/package.minsysusers</u>  file  is  expected  to  follow  the
       <b><a href="../man5/sysusers.d.5.html">sysusers.d</a></b>(5) conf file specification.

   <b>CRUFT</b> <b>OF</b> <b>SYSTEM</b> <b>USERS</b>
       Creating a system user (or a user in general) is easy, but safely removing one is hard. Former version of
       this package used to remove users on purge when home was set to /nonexistent or was empty; however a user
       may  be  allowed  to  write  files  outside  his  home, and since UIDs are reusable, this may represent a
       security risk.  With the current version of this package users are never removed automatically.

</pre><h4><b>EXAMPLES</b></h4><pre>
       With the following <u>debian/package.minsysusers</u> control file, you get respectively:

           u     foo     -  "foo user"   /nonexistent      -
           g     bar     -
           m    baz  gname

       a system user <b>foo</b> with a gecos comment "foo user" and home set to /nonexistent: the  <b>foo</b>  group  will  be
       also created; a system group <b>bar</b>; add gname group as supplementary group of baz user.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man8/useradd.8.html">useradd</a></b>(8), <b><a href="../man8/groupadd.8.html">groupadd</a></b>(8), <b><a href="../man8/usermod.8.html">usermod</a></b>(8)

perl v5.40.0                                       2025-01-22                                      <u><a href="../man1/DH_SYSUSER.1.html">DH_SYSUSER</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>