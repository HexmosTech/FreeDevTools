<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>s3qlcp - Copy-on-write replication on S3QL file systems</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/s3ql">s3ql_5.2.3+dfsg-2_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       s3qlcp - Copy-on-write replication on S3QL file systems

</pre><h4><b>SYNOPSIS</b></h4><pre>
          s3qlcp [options] &lt;source-dir&gt; &lt;dest-dir&gt;

</pre><h4><b>DESCRIPTION</b></h4><pre>
       S3QL  is  a  file  system  for  online  data  storage.  Before  using S3QL, make sure to consult the full
       documentation (rather than just the man  pages  which  only  briefly  document  the  available  userspace
       commands).

       The  <b>s3qlcp</b> command duplicates the directory tree <b>source-dir</b> into <b>dest-dir</b> without physically copying the
       file contents.  Both source and destination must lie inside the same S3QL file system.

       The replication will not take any additional space for the file contents. Metadata  usage  will  increase
       proportional  to the amount of directory entries and inodes. Only if one of directories is modified later
       on, the modified data will take additional storage space.

       <b>s3qlcp</b> can only be called by the user that mounted the file system and (if the file  system  was  mounted
       with <b>--allow-other</b> or <b>--allow-root</b>) the root user.

       After  the  replication,  both source and target directory will still be completely ordinary directories.
       You can regard <b>&lt;src&gt;</b> as a snapshot of <b>&lt;target&gt;</b> or vice versa. However, the most common usage of <b>s3qlcp</b> is
       to regularly duplicate the same source directory, say <b>documents</b>, to different target directories.  For  a
       e.g.   monthly   replication,   the   target   directories   would  typically  be  named  something  like
       <b>documents_January</b> for the replication in January, <b>documents_February</b> for the replication in February etc.
       In this case it is clear that the target directories should  be  regarded  as  snapshots  of  the  source
       directory.

       Exactly the same effect could be achieved by an ordinary copy program like <b>cp</b> <b>-a</b>. However, this procedure
       would  be  orders  of magnitude slower, because <b>cp</b> would have to read every file completely (so that S3QL
       had to fetch all the data over the network from the backend) before writing  them  into  the  destination
       folder (at which point S3QL would de-duplicate the data).

   <b>Snapshotting</b> <b>vs</b> <b>Hardlinking</b>
       Snapshot support in S3QL is inspired by the hardlinking feature that is offered by programs like <u>rsync</u> or
       <u>storeBackup</u>.  These programs can create a hardlink instead of copying a file if an identical file already
       exists in the backup. However, using hardlinks has disadvantages:

       • backups  and restores always have to be made with a special program that takes care of the hardlinking.
         The backups must not be touched by any other programs (they may make changes that inadvertently  affect
         other hardlinked files)

       • special  care needs to be taken to handle files which are already hardlinked (the restore program needs
         to know that the hardlink was not introduced by the backup program)

       S3QL snapshots do not have these problems, and they can be used with any backup program.

</pre><h4><b>OPTIONS</b></h4><pre>
       The <b>s3qlcp</b> command accepts the following options:

          <b>--log</b> <u>&lt;target&gt;</u>
                 Destination for log messages. Specify <b>none</b> for standard output or <b>syslog</b> for the system logging
                 daemon. Anything else will be interpreted as a file name. Log files will be rotated  when  they
                 reach 1 MiB, and at most 5 old log files will be kept. Default: <b>None</b>

          <b>--debug-modules</b> <u>&lt;modules&gt;</u>
                 Activate  debugging  output  from  specified  modules (use commas to separate multiple modules,
                 'all' for everything). Debug messages will be written to the  target  specified  by  the  <b>--log</b>
                 option.

          <b>--debug</b>
                 Activate  debugging  output from all S3QL modules. Debug messages will be written to the target
                 specified by the <b>--log</b> option.

          <b>--quiet</b>
                 be really quiet

          <b>--version</b>
                 just print program version and exit

</pre><h4><b>EXIT</b> <b>CODES</b></h4><pre>
       <b>s3qlcp</b> may terminate with the following exit codes:

       <b>0</b>      Everything went well.

       <b>1</b>      An unexpected error occurred. This may indicate a bug in the program.

       <b>2</b>      Invalid command line argument or configuration file key.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       The S3QL homepage is at <u>https://github.com/s3ql/s3ql/</u>.

       The full S3QL documentation should also be installed somewhere  on  your  system,  common  locations  are
       <b>/usr/share/doc/s3ql</b> or <b>/usr/local/doc/s3ql</b>.

</pre><h4><b>COPYRIGHT</b></h4><pre>
       © 2008 Nikolaus Rath &lt;<a href="mailto:Nikolaus@rath.org">Nikolaus@rath.org</a>&gt;

5.2.3                                             Nov 02, 2024                                         <u><a href="../man1/S3QLCP.1.html">S3QLCP</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>