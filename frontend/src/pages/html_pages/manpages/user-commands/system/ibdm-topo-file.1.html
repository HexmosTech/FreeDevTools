<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>IBDM Topology File</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/ibutils">ibutils_1.5.7+0.2.gbd7e502-3build1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       IBDM Topology File

       The topology file describes the IB connectivity and systems included in the network.  It serves two
       purposes:

       1. Support for arbitrary system names to be later used in every report that IBDM generates.
       2. Connectivity verification: The specified network topology is verified against the discovered one.
       Mismatch errors resulting from missing cables and/or wrong connections are reported by IBADM.

       The  topology  file  is  composed  "system" sections. Each such section describes the connectivity of one
       system to other systems in the network. The first line of each section is a  declaration  of  the  system
       composed  of  a  system-type,  its  system-name section, and optional configuration details. The lines to
       follow until the next empty line describe the connections between this system ports to the other systems.
       The following is a formal definition of a system section syntax.

       An example is listed afterwards.

       SYSTEM-TYPE SYSTEM-NAME [CFG: &lt;b1&gt;=&lt;modifier&gt;, [&lt;b2&gt;=&lt;modifier&gt;]...]

               LOCAL-PORT-PANEL-NAME -&gt; REM-SYS-TYPE REM-SYS-NAME REM-PORT-PANEL-NAME

               LOCAL-PORT-PANEL-NAME -&gt; REM-SYS-TYPE REM-SYS-NAME REM-PORT-PANEL-NAME

               LOCAL-PORT-PANEL-NAME -&gt; REM-SYS-TYPE REM-SYS-NAME REM-PORT-PANEL-NAME

               . . .

       SYSTEM-TYPE SYSTEM-NAME [CFG: &lt;b1&gt;=&lt;modifier&gt;, [&lt;b2&gt;=&lt;modifier&gt;]...]

               LOCAL-PORT-PANEL-NAME -&gt; REM-SYS-TYPE REM-SYS-NAME REM-PORT-PANEL-NAME

               LOCAL-PORT-PANEL-NAME -&gt; REM-SYS-TYPE REM-SYS-NAME REM-PORT-PANEL-NAME

               . . .

       . . .

       Where:

       <b>SYSTEM-TYPE</b> and <b>REM-SYS-TYPE</b>
           Any system that has a corresponding IBNL definition. See man <b>ibdm-ibnl-file</b>

       <b>SYSTEM-NAME</b>
           The name of the system described in this topology file section.

       <b>LOCAL-PORT-PANEL-NAME</b>
           The name of the local system port. The numbers printed on the front panel are used together  with  Ln
           for Leaf no. N or Sn for Spine no. N.

       <b>REM-SYS-NAME</b>
           The name of the system connected to the local port.

       <b>REM-PORT-PANEL-NAME</b>
           A  name  of  the remote system port. We use the numbers as printed on the front panel and Ln for Leaf
           number N or Sn for Spine number N.

</pre><h4><b>EXAMPLE</b></h4><pre>
       The following is a topology file for a simple cluster with one 24 port switch and two HCAs. The first HCA
       named H-1 and connect to the fabric with its two ports. The second HCA named H-2. The switch is  of  type
       MTS2400 and is named S-1

       MTS2400 S-1
          P1 -&gt; MT23108 H-1 P1
          P2 -&gt; MT23108 H-1 P2
          P24 -&gt; MT23108 H-2 P1

</pre><h4><b>OPTIONAL</b> <b>CFG</b> <b>SECTION</b></h4><pre>
       This  section  in  the  system  declaration line describes the special customization of each board of the
       system.

       That is the CFG string is a set of comma-separated sub-fields.  Each  sub-field  describes  some  special
       configuration  of  a  corresponding system board. The actual semantics of the specific board modifiers is
       defined by the IBNL of the specific system.

</pre><h4><b>EXAMPLE</b></h4><pre>
       The following is an example of a definition-line in a topology file of the MTS9600  switch  system.  This
       switch  system  can  have  up to eight leafs and four spines. This example of the MTS9600 lacks (R) leafs
       no.6,7 and 8, and lacks spines no. 3 and 4.

       MTS9600 PartialGz1 CFG: leaf3=R,leaf5=R,leaf7=R,spine1=R

</pre><h4><b>AUTHOR</b></h4><pre>
       Eitan Zahavi, Mellanox Technologies LTD, <a href="mailto:eitan@mellanox.co.il">eitan@mellanox.co.il</a>

IBDM 1.0                                           2024-04-22                                  <u><a href="../man1/IBDM-TOPO-FILE.1.html">IBDM-TOPO-FILE</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>