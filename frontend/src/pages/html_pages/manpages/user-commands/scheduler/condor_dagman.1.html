<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>condor_dagman - HTCondor Manual</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/condor">condor_23.6.2+dfsg-2build1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       condor_dagman - HTCondor Manual

       meta scheduler of the jobs submitted as the nodes of a DAG or DAGs

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>condor_dagman</b> <u>-f</u> <u>-t</u> <u>-l</u> <u>.</u> <b>-help</b>

       <b>condor_dagman</b> <b>-version</b>

       <b>condor_dagman</b>  <u>-f</u>  <u>-l</u>  <u>.</u>  <b>-csdversion</b>  <u>version_string</u>  [<b>-debug</b>  <u>level</u>] [<b>-dryrun</b>] [<b>-maxidle</b> <u>numberOfProcs</u>]
       [<b>-maxjobs</b>   <u>numberOfJobs</u>]   [<b>-maxpre</b>   <u>NumberOfPreScripts</u>]   [<b>-maxpost</b>   <u>NumberOfPostScripts</u>]   [<b>-maxhold</b>
       <u>NumberOfHoldScripts</u>]  [<b>-usedagdir</b>  ] <b>-lockfile</b> <u>filename</u> [<b>-waitfordebug</b> ] [<b>-autorescue</b> <u>0|1</u>] [<b>-dorescuefrom</b>
       <u>number</u>]  [<b>-load_save</b>  <u>filename</u>]  [<b>-allowversionmismatch</b>  ]  [<b>-DumpRescue</b>  ]   [<b>-verbose</b>   ]   [<b>-force</b>   ]
       [<b>-notification</b> <u>value</u>] [<b>-suppress_notification</b> ] [<b>-dont_suppress_notification</b> ] [<b>-dagman</b> <u>DagmanExecutable</u>]
       [<b>-outfile_dir</b>   <u>directory</u>]   [<b>-update_submit</b>  ]  [<b>-import_env</b>  ]  [<b>-include_env</b>  <u>Variables</u>]  [<b>-insert_env</b>
       <u>Key=Value</u>] [<b>-priority</b> <u>number</u>] [<b>-DontAlwaysRunPost</b> ] [<b>-AlwaysRunPost</b> ] [<b>-DoRecovery</b> ] [<b>-dot</b>] <b>-dag</b> <u>dag_file</u>
       [<b>-dag</b> <u>dag_file_2</u> ... <b>-dag</b> <u>dag_file_n</u> ]

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <u>condor_dagman</u> is a meta scheduler for the HTCondor  jobs  within  a  DAG  (directed  acyclic  graph)  (or
       multiple DAGs). In typical usage, a submitter of jobs that are organized into a DAG submits the DAG using
       <u>condor_submit_dag</u>.  <u>condor_submit_dag</u>  does  error  checking  on  aspects  of  the  DAG  and then submits
       <u>condor_dagman</u> as an HTCondor job.  <u>condor_dagman</u> uses log files to coordinate the further  submission  of
       the jobs within the DAG.

       All  command line arguments to the <u>DaemonCore</u> library functions work for <u>condor_dagman</u>. When invoked from
       the command line, <u>condor_dagman</u> requires the arguments <u>-f</u> <u>-l</u> <u>.</u> to appear first on the command line, to be
       processed by <u>DaemonCore</u>. The <b>csdversion</b> must also be specified; at start up, <u>condor_dagman</u> checks  for  a
       version  mismatch  with  the  <u>condor_submit_dag</u>  version  in  this argument. The <u>-t</u> argument must also be
       present for the <b>-help</b> option, such that output is sent to the terminal.

       Arguments to <u>condor_dagman</u> are either automatically set by <u>condor_submit_dag</u> or  they  are  specified  as
       command-line  arguments  to  <u>condor_submit_dag</u>  and  passed  on to <u>condor_dagman</u>. The method by which the
       arguments are set is given in their description below.

       <u>condor_dagman</u> can run multiple, independent DAGs. This is done by specifying multiple  <b>-dag</b>  <u>a</u>  rguments.
       Pass multiple DAG input files as command-line arguments to <u>condor_submit_dag</u>.

       Debugging  output may be obtained by using the <b>-debug</b> <u>level</u> option. Level values and what they produce is
       described as

       • level = 0; never produce output, except for usage info

       • level = 1; very quiet, output severe errors

       • level = 2; normal output, errors and warnings

       • level = 3; output errors, as well as all warnings

       • level = 4; internal debugging output

       • level = 5; internal debugging output; outer loop debugging

       • level = 6; internal debugging output; inner loop debugging; output DAG input file  lines  as  they  are
         parsed

       • level = 7; internal debugging output; rarely used; output DAG input file lines as they are parsed

</pre><h4><b>OPTIONS</b></h4><pre>
          <b>-help</b>  Display usage information and exit.

          <b>-version</b>
                 Display version information and exit.

          <b>-csdversion</b> <u>VersionString</u>
                 Sets  the version of <u>condor_submit_dag</u> command used to submit the DAGMan workflow. Used to help
                 identify version mismatching.

          <b>-debug</b> <u>level</u>
                 An integer level of debugging output. <u>level</u> is an integer, with values of 0-7 inclusive,  where
                 7  is  the  most  verbose  output.  This  command-line option to <u>condor_submit_dag</u> is passed to
                 <u>condor_dagman</u> or defaults to the value 3.

          <b>-dryrun</b>
                 Inform DAGMan to do a dry run. Where the DAG is ran but node jobs are not actually submitted.

          <b>-maxidle</b> <u>NumberOfProcs</u>
                 Sets the maximum number of idle procs allowed before <u>condor_dagman</u> stops submitting  more  node
                 jobs.  If  this option is omitted then the number of idle procs is limited by the configuration
                 variable <u>DAGMAN_MAX_JOBS_IDLE</u> which defaults to 1000.  To disable this limit, set <u>NumberOfProcs</u>
                 to 0. The <u>NumberOfProcs</u> can be exceeded if a nodes job has a queue command with more  than  one
                 proc  to queue. i.e. <b>queue</b> <b>500</b> will submit all procs even if <u>NumberOfProcs</u> is <b>250</b>. In this case
                 DAGMan will wait for for the number of idle procs to fall below 250 before submitting more jobs
                 to the <b>condor_schedd</b>.

          <b>-maxjobs</b> <u>NumberOfClusters</u>
                 Sets the maximum number of clusters within the DAG that will be submitted to  HTCondor  at  one
                 time.  Each  cluster is associated with one node job no matter how many individual procs are in
                 the cluster.  <u>NumberOfClusters</u> is a non-negative integer. If this option is  omitted  then  the
                 number  of  clusters  is  limited by the configuration variable <u>DAGMAN_MAX_JOBS_SUBMITTED</u> which
                 defaults to 0 (unlimited).

          <b>-maxpre</b> <u>NumberOfPreScripts</u>
                 Sets the maximum number of PRE scripts within  the  DAG  that  may  be  running  at  one  time.
                 <u>NumberOfPreScripts</u>  is  a  non-negative  integer.  If this option is omitted, the number of PRE
                 scripts is limited by the configuration variable <u>DAGMAN_MAX_PRE_SCRIPTS</u> which defaults to 20.

          <b>-maxpost</b> <u>NumberOfPostScripts</u>
                 Sets the maximum number of POST scripts within the  DAG  that  may  be  running  at  one  time.
                 <u>NumberOfPostScripts</u>  is  a  non-negative integer. If this option is omitted, the number of POST
                 scripts is limited by the configuration variable <u>DAGMAN_MAX_POST_SCRIPTS</u> which defaults to 20.

          <b>-maxhold</b> <u>NumberOfHoldScripts</u>
                 Sets the maximum number of HOLD scripts within the  DAG  that  may  be  running  at  one  time.
                 <u>NumberOfHoldscripts</u>  is  a non-negative integer.  If this option is omitted, the number of HOLD
                 scripts is limited by the configuration variable <u>DAGMAN_MAX_HOLD_SCRIPTS</u>, which defaults  to  0
                 (unlimited).

          <b>-usedagdir</b>
                 This  optional  argument  causes  <u>condor_dagman</u>  to  run each specified DAG as if the directory
                 containing that DAG file was the current working directory. This option  is  most  useful  when
                 running multiple DAGs in a single <u>condor_dagman</u>.

          <b>-lockfile</b> <u>filename</u>
                 Names  the file created and used as a lock file. The lock file prevents execution of two of the
                 same DAG, as defined by a DAG input file. A default lock file ending with the suffix  <b>.dag.lock</b>
                 is passed to <u>condor_dagman</u> by <u>condor_submit_dag</u>.

          <b>-waitfordebug</b>
                 This  optional  argument  causes <u>condor_dagman</u> to wait at startup until someone attaches to the
                 process with a debugger and sets the wait_for_debug variable in main_init() to false.

          <b>-autorescue</b> <u>0|1</u>
                 Whether to automatically run the newest rescue DAG for the given DAG file, if one exists  (0  =
                 <b>false</b>, 1 = <b>true</b>).

          <b>-dorescuefrom</b> <u>number</u>
                 Forces  <u>condor_dagman</u> to run the specified rescue DAG number for the given DAG. A value of 0 is
                 the same as not specifying this option. Specifying a nonexistent rescue DAG is a fatal error.

          <b>-load_save</b> <u>filename</u>
                 Specify a file with saved DAG progress to re-run the DAG from. If  given  a  path  DAGMan  will
                 attempt to read that file following that path. Otherwise, DAGMan will check for the file in the
                 DAG's <b>save_files</b> sub-directory.

          <b>-allowversionmismatch</b>
                 This  optional  argument causes <u>condor_dagman</u> to allow a version mismatch between <u>condor_dagman</u>
                 itself and the <b>.condor.sub</b> file produced by <u>condor_submit_dag</u>  (or,  in  other  words,  between
                 <u>condor_submit_dag</u>  and  <u>condor_dagman</u>).  WARNING! This option should be used only if absolutely
                 necessary. Allowing version mismatches can cause subtle problems when running DAGs.

          <b>-DumpRescue</b>
                 This optional argument causes <u>condor_dagman</u> to immediately dump a Rescue DAG and then exit,  as
                 opposed  to  actually running the DAG.  This feature is mainly intended for testing. The Rescue
                 DAG file is produced whether or not there are parse errors reading the original DAG input file.
                 The name of the file differs if there was a parse error.

          <b>-verbose</b>
                 (This argument is included  only  to  be  passed  to  <u>condor_submit_dag</u>  if  lazy  submit  file
                 generation is used for nested DAGs.) Cause <u>condor_submit_dag</u> to give verbose error messages.

          <b>-force</b> (This  argument  is  included  only  to  be  passed  to  <u>condor_submit_dag</u>  if lazy submit file
                 generation is used for nested DAGs.) Require <u>condor_submit_dag</u> to overwrite the files  that  it
                 produces,  if  the  files  already  exist.  Note  that  <b>dagman.out</b>  will  be  appended  to, not
                 overwritten. If new-style rescue DAG mode is in effect, and any new-style  rescue  DAGs  exist,
                 the  <b>-force</b>  flag will cause them to be renamed, and the original DAG will be run. If old-style
                 rescue DAG mode is in effect, any existing old-style rescue  DAGs  will  be  deleted,  and  the
                 original DAG will be run. See the HTCondor manual section on Rescue DAGs for more information.

          <b>-notification</b> <u>value</u>
                 This argument is only included to be passed to <u>condor_submit_dag</u> if lazy submit file generation
                 is  used for nested DAGs. Sets the e-mail notification for DAGMan itself. This information will
                 be used within the HTCondor submit description file  for  DAGMan.  This  file  is  produced  by
                 <u>condor_submit_dag</u>. The <b>notification</b> option is described in the <u>condor_submit</u> manual page.

          <b>-suppress_notification</b>
                 Causes  jobs  submitted  by  <u>condor_dagman</u>  to not send email notification for events. The same
                 effect can be achieved by setting the configuration  variable  <u>DAGMAN_SUPPRESS_NOTIFICATION</u>  to
                 <b>True</b>.  This  command line option is independent of the <b>-notification</b> command line option, which
                 controls notification for the <u>condor_dagman</u> job itself. This flag is generally superfluous,  as
                 <u>DAGMAN_SUPPRESS_NOTIFICATION</u> defaults to <b>True</b>.

          <b>-dont_suppress_notification</b>
                 Causes  jobs  submitted by <u>condor_dagman</u> to defer to content within the submit description file
                 when deciding to send email notification for events. The same effect can be achieved by setting
                 the configuration variable <u>DAGMAN_SUPPRESS_NOTIFICATION</u> to <b>False</b>. This  command  line  flag  is
                 independent  of  the  <b>-notification</b>  command  line  option, which controls notification for the
                 <u>condor_dagman</u> job itself. If both <b>-dont_suppress_notification</b>  and  <b>-suppress_notification</b>  are
                 specified within the same command line, the last argument is used.

          <b>-dagman</b> <u>DagmanExecutable</u>
                 (This  argument  is  included  only  to  be  passed  to  <u>condor_submit_dag</u>  if lazy submit file
                 generation is used for nested DAGs.) Allows the specification  of  an  alternate  <u>condor_dagman</u>
                 executable  to  be  used  instead  of  the  one  found in the user's path. This must be a fully
                 qualified path.

          <b>-outfile_dir</b> <u>directory</u>
                 (This argument is included  only  to  be  passed  to  <u>condor_submit_dag</u>  if  lazy  submit  file
                 generation is used for nested DAGs.) Specifies the directory in which the <b>.dagman.out</b> file will
                 be  written.  The  <u>directory</u>  may  be  specified  relative  to the current working directory as
                 <u>condor_submit_dag</u> is executed, or specified with an absolute path.  Without  this  option,  the
                 <b>.dagman.out</b>  file  is  placed  in  the same directory as the first DAG input file listed on the
                 command line.

          <b>-update_submit</b>
                 (This argument is included  only  to  be  passed  to  <u>condor_submit_dag</u>  if  lazy  submit  file
                 generation is used for nested DAGs.) This optional argument causes an existing <b>.condor.sub</b> file
                 to  not  be  treated  as  an  error;  rather, the <b>.condor.sub</b> file will be overwritten, but the
                 existing values of <b>-maxjobs</b>, <b>-maxidle</b>, <b>-maxpre</b>, and <b>-maxpost</b> will be preserved.

          <b>-import_env</b>
                 (This argument is included  only  to  be  passed  to  <u>condor_submit_dag</u>  if  lazy  submit  file
                 generation  is used for nested DAGs.) This optional argument causes <u>condor_submit_dag</u> to import
                 the current environment into the <b>environment</b> command of the <b>.condor.sub</b> file it generates.

          <b>-include_env</b> <u>Variables</u>
                 This optional argument takes  a  comma  separated  list  of  enviroment  variables  to  add  to
                 <b>.condor.sub</b>  <b>getenv</b>  environment filter which causes found matching environment variables to be
                 added to the DAGMan manager jobs <b>environment</b>.

          <b>-insert_env</b> <u>Key=Value</u>
                 This optional argument takes a delimited string of <u>Key=Value</u> pairs to explicitly set  into  the
                 <b>.condor.sub</b>  files  <u>Environment</u> macro.  The base delimiter is a semicolon that can be overriden
                 by setting the first character in the string to a  valid  delimiting  character.   If  multiple
                 <b>-insert_env</b> flags contain the same <u>Key</u> then the last occurances <u>Value</u> will be set in the DAGMan
                 jobs <b>environment</b>.

          <b>-priority</b> <u>number</u>
                 Sets the minimum job priority of node jobs submitted and running under this <u>condor_dagman</u> job.

          <b>-DontAlwaysRunPost</b>
                 This option causes <u>condor_dagman</u> to not run the POST script of a node if the PRE script fails.

          <b>-AlwaysRunPost</b>
                 This  option  causes  <u>condor_dagman</u>  to  always  run the POST script of a node, even if the PRE
                 script fails.

          <b>-DoRecovery</b>
                 Causes <u>condor_dagman</u> to start in recovery mode. This means that it reads the relevant job  user
                 log(s) and catches up to the given DAG's previous state before submitting any new jobs.

          <b>-dot</b>   Run <u>condor_dagman</u> up until the point when a <b>DOT</b> file is produced.

          <b>-dag</b> <u>filename</u>
                 <u>filename</u> is the name of the DAG input file that is set as an argument to <u>condor_submit_dag</u>, and
                 passed to <u>condor_dagman</u>.

</pre><h4><b>EXIT</b> <b>STATUS</b></h4><pre>
       <u>condor_dagman</u>  will  exit with a status value of 0 (zero) upon success, and it will exit with the value 1
       (one) upon failure.

</pre><h4><b>EXAMPLES</b></h4><pre>
       <u>condor_dagman</u>  is  normally  not  run  directly,  but  submitted  as   an   HTCondor   job   by   running
       condor_submit_dag. See the <u>condor_submit_dag</u> manual page for examples.

</pre><h4><b>AUTHOR</b></h4><pre>
       HTCondor Team

</pre><h4><b>COPYRIGHT</b></h4><pre>
       1990-2024,  Center  for High Throughput Computing, Computer Sciences Department, University of Wisconsin-
       Madison, Madison, WI, US. Licensed under the Apache License, Version 2.0.

                                                  Jan 04, 2025                                  <u><a href="../man1/CONDOR_DAGMAN.1.html">CONDOR_DAGMAN</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>