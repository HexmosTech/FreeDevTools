<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ndctl-init-labels - initialize the label data area on a dimm or set of dimms</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/ndctl">ndctl_77-2.2ubuntu2_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       ndctl-init-labels - initialize the label data area on a dimm or set of dimms

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <u>ndctl</u> <u>init-labels</u> &lt;nmem0&gt; [&lt;nmem1&gt;..&lt;nmemN&gt;] [&lt;options&gt;]

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The namespace label area is a small persistent partition of capacity available on some NVDIMM devices.
       The label area is used to provision one, or more, namespaces from regions. Starting with v4.10 the kernel
       will honor labels for sub-dividing PMEM if all the DIMMs in an interleave set / region have a valid
       namespace index block.

       This command can be used to initialize the namespace index block if it is missing or reinitialize it if
       it is damaged. Note that reinitialization effectively destroys all existing namespace labels on the DIMM.

</pre><h4><b>EXAMPLE</b></h4><pre>
       Find the DIMMs that comprise a given region:

           # ndctl list -RD --region=region1
           {
             "dimms":[
               {
                 "dev":"nmem0",
                 "id":"8680-56341200"
               }
             ],
             "regions":[
               {
                 "dev":"region1",
                 "size":268435456,
                 "available_size":0,
                 "type":"pmem",
                 "mappings":[
                   {
                     "dimm":"nmem0",
                     "offset":13958643712,
                     "length":268435456
                   }
                 ]
               }
             ]
           }

       Disable that region so the DIMM label area can be written from userspace:

           # ndctl disable-region region1

       Initialize labels:

           # ndctl init-labels nmem0

       Re-enable the region:

           # ndctl enable-region region1

       Create a namespace in that region:

           # ndctl create-namespace --region=region1

</pre><h4><b>OPTIONS</b></h4><pre>
       &lt;memory device(s)&gt;
           A <u>nmemX</u> device name, or a dimm id number. Restrict the operation to the specified dimm(s). The
           keyword <u>all</u> can be specified to indicate the lack of any restriction, however this is the same as not
           supplying a --dimm option at all.

       -s, --size=
           Limit the operation to the given number of bytes. A size of 0 indicates to operate over the entire
           label capacity.

       -O, --offset=
           Begin the operation at the given offset into the label area.

       -b, --bus=
           A bus id number, or a provider string (e.g. "ACPI.NFIT"). Restrict the operation to the specified
           bus(es). The keyword <u>all</u> can be specified to indicate the lack of any restriction, however this is
           the same as not supplying a --bus option at all.

       -v
           Turn on verbose debug messages in the library (if ndctl was built with logging and debug enabled).

       -f, --force
           Force initialization of the label space even if there appears to be an existing / valid namespace
           index. Warning, this will destroy all defined namespaces on the dimm.

       -V, --label-version
           Initialize with a specific version of labels from the namespace label specification. Defaults to 1.1

</pre><h4><b>COPYRIGHT</b></h4><pre>
       Copyright Â© 2016 - 2022, Intel Corporation. License GPLv2: GNU GPL version 2
       <a href="http://gnu.org/licenses/gpl.html">http://gnu.org/licenses/gpl.html</a>. This is free software: you are free to change and redistribute it.
       There is NO WARRANTY, to the extent permitted by law.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <a href="../man1/ndctl-create-namespace.1.html">ndctl-create-namespace</a>(1), UEFI NVDIMM Label Protocol
       &lt;<a href="http://www.uefi.org/sites/default/files/resources/UEFI_Spec_2_7.pdf">http://www.uefi.org/sites/default/files/resources/UEFI_Spec_2_7.pdf</a>&gt;

ndctl                                              2024-11-01                               <u><a href="../man1/NDCTL-INIT-LABELS.1.html">NDCTL-INIT-LABELS</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>