<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>git-index-pack - Build pack index file for an existing packed archive</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/git-man">git-man_2.48.1-0ubuntu1.1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       git-index-pack - Build pack index file for an existing packed archive

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <u>git</u> <u>index-pack</u> [-v] [-o &lt;index-file&gt;] [--[no-]rev-index] &lt;pack-file&gt;
       <u>git</u> <u>index-pack</u> --stdin [--fix-thin] [--keep] [-v] [-o &lt;index-file&gt;]
                         [--[no-]rev-index] [&lt;pack-file&gt;]

</pre><h4><b>DESCRIPTION</b></h4><pre>
       Reads a packed archive (.pack) from the specified file, builds a pack index file (.idx) for it, and
       optionally writes a reverse-index (.rev) for the specified pack. The packed archive, together with the
       pack index, can then be placed in the objects/pack/ directory of a Git repository.

</pre><h4><b>OPTIONS</b></h4><pre>
       -v
           Be verbose about what is going on, including progress status.

       -o &lt;index-file&gt;
           Write the generated pack index into the specified file. Without this option the name of pack index
           file is constructed from the name of packed archive file by replacing .pack with .idx (and the
           program fails if the name of packed archive does not end with .pack).

       --[no-]rev-index
           When this flag is provided, generate a reverse index (a <b>.rev</b> file) corresponding to the given pack.
           If <b>--verify</b> is given, ensure that the existing reverse index is correct. Takes precedence over
           <b>pack.writeReverseIndex</b>.

       --stdin
           When this flag is provided, the pack is read from stdin instead and a copy is then written to
           &lt;pack-file&gt;. If &lt;pack-file&gt; is not specified, the pack is written to objects/pack/ directory of the
           current Git repository with a default name determined from the pack content. If &lt;pack-file&gt; is not
           specified consider using --keep to prevent a race condition between this process and <u>git</u> <u>repack</u>.

       --fix-thin
           Fix a "thin" pack produced by <b>git</b> <b>pack-objects</b> <b>--thin</b> (see <b><a href="../man1/git-pack-objects.1.html">git-pack-objects</a></b>(1) for details) by adding
           the excluded objects the deltified objects are based on to the pack. This option only makes sense in
           conjunction with --stdin.

       --keep
           Before moving the index into its final destination create an empty .keep file for the associated pack
           file. This option is usually necessary with --stdin to prevent a simultaneous <u>git</u> <u>repack</u> process from
           deleting the newly constructed pack and index before refs can be updated to use objects contained in
           the pack.

       --keep=&lt;msg&gt;
           Like --keep, create a .keep file before moving the index into its final destination. However, instead
           of creating an empty file place <u>&lt;msg&gt;</u> followed by an LF into the .keep file. The <u>&lt;msg&gt;</u> message can
           later be searched for within all .keep files to locate any which have outlived their usefulness.

       --index-version=&lt;version&gt;[,&lt;offset&gt;]
           This is intended to be used by the test suite only. It allows to force the version for the generated
           pack index, and to force 64-bit index entries on objects located above the given offset.

       --strict[=&lt;msg-id&gt;=&lt;severity&gt;...]
           Die, if the pack contains broken objects or links. An optional comma-separated list of
           <u>&lt;msg-id&gt;</u><b>=</b><u>&lt;severity&gt;</u> can be passed to change the severity of some possible issues, e.g.,
           <b>--strict=</b>"missingEmail=ignore,badTagName=error". See the entry for the <b>fsck.</b><u>&lt;msg-id&gt;</u> configuration
           options in <b><a href="../man1/git-fsck.1.html">git-fsck</a></b>(1) for more information on the possible values of <u>&lt;msg-id&gt;</u> and <u>&lt;severity&gt;</u>.

       --progress-title
           For internal use only.

           Set the title of the progress bar. The title is "Receiving objects" by default and "Indexing objects"
           when <b>--stdin</b> is specified.

       --check-self-contained-and-connected
           Die if the pack contains broken links. For internal use only.

       --fsck-objects[=&lt;msg-id&gt;=&lt;severity&gt;...]
           Die if the pack contains broken objects, but unlike <b>--strict</b>, don’t choke on broken links. If the
           pack contains a tree pointing to a .gitmodules blob that does not exist, prints the hash of that blob
           (for the caller to check) after the hash that goes into the name of the pack/idx file (see "Notes").

           An optional comma-separated list of <u>&lt;msg-id&gt;</u><b>=</b><u>&lt;severity&gt;</u> can be passed to change the severity of some
           possible issues, e.g., <b>--fsck-objects=</b>"missingEmail=ignore,badTagName=ignore". See the entry for the
           <b>fsck.</b><u>&lt;msg-id&gt;</u> configuration options in <b><a href="../man1/git-fsck.1.html">git-fsck</a></b>(1) for more information on the possible values of
           <u>&lt;msg-id&gt;</u> and <u>&lt;severity&gt;</u>.

       --threads=&lt;n&gt;
           Specifies the number of threads to spawn when resolving deltas. This requires that index-pack be
           compiled with pthreads otherwise this option is ignored with a warning. This is meant to reduce
           packing time on multiprocessor machines. The required amount of memory for the delta search window is
           however multiplied by the number of threads. Specifying 0 will cause Git to auto-detect the number of
           CPU’s and use maximum 3 threads.

       --max-input-size=&lt;size&gt;
           Die, if the pack is larger than &lt;size&gt;.

       --object-format=&lt;hash-algorithm&gt;
           Specify the given object format (hash algorithm) for the pack. The valid values are <u>sha1</u> and (if
           enabled) <u>sha256</u>. The default is the algorithm for the current repository (set by
           <b>extensions.objectFormat</b>), or <u>sha1</u> if no value is set or outside a repository.

           This option cannot be used with --stdin.

           Note: At present, there is no interoperability between SHA-256 repositories and SHA-1 repositories.

       Historically, we warned that SHA-256 repositories may later need backward incompatible changes when we
       introduce such interoperability features. Today, we only expect compatible changes. Furthermore, if such
       changes prove to be necessary, it can be expected that SHA-256 repositories created with today’s Git will
       be usable by future versions of Git without data loss.

       --promisor[=&lt;message&gt;]
           Before committing the pack-index, create a .promisor file for this pack. Particularly helpful when
           writing a promisor pack with --fix-thin since the name of the pack is not final until the pack has
           been fully written. If a <u>&lt;message&gt;</u> is provided, then that content will be written to the .promisor
           file for future reference. See <b>partial</b> <b>clone</b>[1] for more information.

           Also, if there are objects in the given pack that references non-promisor objects (in the repo),
           repacks those non-promisor objects into a promisor pack. This avoids a situation in which a repo has
           non-promisor objects that are accessible through promisor objects.

           Requires &lt;pack-file&gt; to not be specified.

</pre><h4><b>NOTES</b></h4><pre>
       Once the index has been created, the hash that goes into the name of the pack/idx file is printed to
       stdout. If --stdin was also used then this is prefixed by either "pack\t", or "keep\t" if a new .keep
       file was successfully created. This is useful to remove a .keep file used as a lock to prevent the race
       with <u>git</u> <u>repack</u> mentioned above.

</pre><h4><b>GIT</b></h4><pre>
       Part of the <b><a href="../man1/git.1.html">git</a></b>(1) suite

</pre><h4><b>NOTES</b></h4><pre>
        1. partial clone
           file:///usr/share/doc/git/html/technical/partial-clone.html

Git 2.48.1                                         07/02/2025                                  <u><a href="../man1/GIT-INDEX-PACK.1.html">GIT-INDEX-PACK</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>