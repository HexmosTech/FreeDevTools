<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ext2spice - convert hierarchical ext(5) extracted-circuit files to flat spice files</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/magic">magic_8.3.105+ds.1-1.1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       ext2spice - convert hierarchical <u><a href="../man5/ext.5.html">ext</a></u>(5) extracted-circuit files to flat <u>spice</u> files

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>ext2spice</b>  [ <b>-B</b> ] [ <u>extcheck-options</u> ] [ <u>-M|m</u> ] [ <u>-y</u> <u>num</u> ] [ <u>-f</u> <u>hspice|spice3|spice2</u> ] [ <u>-J</u> <u>hier|flat</u> ] [
       <u>-j</u> <u>device:sdRclass[/subRclass]/defaultSubstrate</u> ] <u>root</u>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       Ext2spice will convert an extracted circuit from the hierarchical <u><a href="../man5/ext.5.html">ext</a></u>(5) representation produced by Magic
       to a flat spice file which can be accepted by spice2, spice3, hspice and  other  simulation  tools.   The
       root of the tree to be extracted is the file <u>root</u><b>.ext</b>; it and all the files it references are recursively
       flattened.   The  result  is  a  single,  flat  representation of the circuit that is written to the file
       <u>root</u><b>.spice</b> .

       The following options are recognized:

       <b>-o</b> <u>outfile</u>
                 Instead of leaving output in the file <u>root</u><b>.spice</b>, leave it in <u>outfile</u>.

       <b>-B</b>        Don't output transistor or node attributes in the spice file.  Usually the attributes of a node
                 or a device are output as special comments **fetattr and  **nodeatrr  which  can  be  processed
                 further to create things such a initial conditions etc.

       <b>-F</b>        Don't  output  nodes that aren't connected to fets (floating nodes).  Normally capacitance from
                 these nodes is output with the comment **FLOATING attached on the same line.

       <b>-t</b><u>char</u>    Trim characters from node names when writing the output file.  <u>Char</u> should  be  either  "#"  or
                 "!".   The  option  may  be  used twice if both characters are desired. Trimming "#" and "!" is
                 enabled by default when the format is hspice.

       <b>-</b><u>M|m</u>      Merge parallel fets. <u>-m</u> means conservative merging of fets that have equal widths only  (useful
                 with hspice format multiplier if delta W effects need to be taken care of). -M means aggressive
                 merging: the fets are merged if they have the same terminals and the same length.

       <b>-y</b> <u>num</u>    Select  the  precision  for  outputting  capacitors.  The  default  is  1  which means that the
                 capacitors will be printed to a precision of .1 fF.

       <b>-f</b> <u>hspice|spice2|spice3</u>
                 Select the output format. Spice3 is the the format understood by the latest version of berkeley
                 spice. Node names have the same names as they would in a <u><a href="../man5/sim.5.html">sim</a></u>(5) file and no special  constructs
                 are  used.   Spice2  is  the format understood by the older version of spice (which usually has
                 better convergence). Node names are numbers and a dictionary of number and  corresponding  node
                 is  output  in  the  end.   HSPICE  is  a format understood by meta-software's hspice and other
                 commercial tools. In this format node names cannot be longer than 15 characters long (blame the
                 fortran code): so if a hierarchical node name is longer  it  is  truncated  to  something  like
                 x1234/name  where  x1234  is  an  alias  of  the  normal  node hierarchical prefix and name its
                 hierarchical postfix (a dictionary mapping prefixes to real hierarchical paths is output at the
                 end of the spice file). If the node name is still longer than 15 characters long  (again  blame
                 the  fortran  code) it is translated to something like z@1234 and the equivalent name is output
                 as a comment. In  addition  since  hspice  supports  scaling  and  multipliers  so  the  output
                 dimensions are in lambdas and if parallel fets are merged the hspice construct <u>M</u> is used.

       <b>-J</b> <u>hier|flat</u>
                 Select  the  source/drain area and perimeter extraction algorithm. If <u>hier</u> is selected then the
                 areas and perimeters are extracted <u>only</u> <u>within</u> <u>each</u> <u>subcell</u>. For each fet in a subcell the area
                 and perimeter of its source and drain within this subcell are output.   If  two  or  more  fets
                 share  a source/drain node then the total area and perimeter will be output in only one of them
                 and the other will have 0.  If <u>flat</u> is selected the same rules apply only  that  the  scope  of
                 search for area and perimeter is the whole netlist. In general <u>flat</u> (which is the default) will
                 give  accurate  results  (it will take into account shared sources/drains) but hier is provided
                 for backwards compatibility with version 6.4.5. On top of this selection you  can  individually
                 control how a terminal of a specific fet will be extracted if you put a source/drain attribute.
                 <u>ext:aph</u>  makes  the  extraction  for  that specific terminal hierarchical and <u>ext:apf</u> makes the
                 extraction flat (see the magic tutorial about attaching  attribute  labels).   Additionally  to
                 ease  extraction  of  bipolar  transistors  the gate attribute <u>ext:aps</u> forces the output of the
                 substrate area and perimeter for a specific fet (in flat mode only).

       <b>-j</b> <u>device:sdRclass[/subRclass]/defaultSubstrate</u>
                 Gives ext2sim information about the source/drain resistance class of the fet type <u>device</u>. Makes
                 <u>device</u> to have <u>sdRclass</u> source drain resistance class, <u>subRclass</u>  substrate  (well)  resistance
                 class  and  the  node  named  <u>defaultSubstrate</u>  as  its  default  substrate.   The defaults are
                 nfet:0/Gnd and pfet:1/6/Vdd which correspond to the MOSIS technology file but things might vary
                 in your site. Ask your local cad administrator.

       The way the extraction of node area and perimeter works in magic the total  area  and  perimeter  of  the
       source/drain  junction  is summed up on a single node.  That is why all the junction areas and perimeters
       are summed up on a single node (this should not affect simulation results however).

       <u>Special</u> <u>care</u> <u>must</u> <u>be</u> <u>taken</u> <u>when</u> <u>the</u> <u>substrate</u> <u>of</u> <u>a</u> <u>fet</u> <u>is</u> <u>tied</u> <u>to</u> <u>a</u> <u>node</u> <u>other</u> <u>than</u> <u>the</u> <u>default</u> <u>substrate</u>
       (eg in a bootstraping charge pump).  To get the correct substrate info in these  cases  the  fet(s)  with
       separate  wells  should  be  in  their  own  separate  subcell  with ext:aph attributes attached to their
       sensitive terminals (also all the transistors which share sensitive terminals with  these  should  be  in
       another subcell with the same attributes).

       In addition, all of the options of <u><a href="../man1/extcheck.1.html">extcheck</a></u>(1) are accepted.

       The awk filter spice2sim is provided with the current distribution for debugging purposes.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <a href="../man1/extcheck.1.html">extcheck</a>(1), <a href="../man1/ext2spice.1.html">ext2spice</a>(1), <a href="../man1/magic.1.html">magic</a>(1), <a href="../man1/rsim.1.html">rsim</a>(1), <a href="../man5/ext.5.html">ext</a>(5), <a href="../man5/sim.5.html">sim</a>(5)

</pre><h4><b>AUTHOR</b></h4><pre>
       Stefanos Sidiropoulos.

</pre><h4><b>BUGS</b></h4><pre>
       The areas and perimeters of fet sources and drains work only with the simple extraction algorithm and not
       with  the  extresis  flow.  So  you  have to model them as linear capacitors (create a special extraction
       style) if you want to extract parasitic resistances with extresis.

4th Berkeley Distribution                                                                           <u><a href="../man1/EXT2SPICE.1.html">EXT2SPICE</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>