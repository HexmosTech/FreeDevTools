<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>dbwrap_tool - low level TDB/CTDB manipulation tool using the dbwrap interface</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/samba-common-bin">samba-common-bin_4.21.4+dfsg-1ubuntu3.3_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       dbwrap_tool - low level TDB/CTDB manipulation tool using the dbwrap interface

</pre><h4><b>SYNOPSIS</b></h4><pre>

       dbwrap_tool [-?|--help] [--usage] [--persistent] [--non-persistent] [-d|--debuglevel=DEBUGLEVEL]
        [--debug-stdout] [--configfile=CONFIGFILE] [--option=name=value] [-l|--log-basename=LOGFILEBASE]
        [--leak-report] [--leak-report-full] {&lt;database&gt;} {&lt;operation&gt;} [&lt;key&gt; [&lt;type&gt; [&lt;value&gt;]]]

</pre><h4><b>DESCRIPTION</b></h4><pre>
       This tool is part of the <b><a href="../man7/samba.7.html">samba</a></b>(7) suite.

       The dbwrap_tool program is used to read and manipulate TDB/CTDB databases using the dbwrap interface.

       The following database operations are available:

              •   fetch: fetch a record

              •   store: create or modify a record

              •   delete: remove a record

              •   exists: test for existence of a record

              •   erase: remove all records

              •   listkeys: list all available records

              •   listwatchers: list processes, which are waiting for changes in a record

       The following types are available:

              •   int32: signed 32bit integer

              •   uint32: unsigned 32bit integer

              •   string: "hello world"

              •   hex: hex strings like "68656C6C6F20776F726C6400" ("hello world")

</pre><h4><b>OPTIONS</b></h4><pre>
       --persistent
           Open the database as a persistent database.

           Exactly one of --persistent and --non-persistent must be specified.

       --non-persistent
           Open the database as a non-persistent database.

           Caveat: opening a database as non-persistent when there is currently no other opener will wipe the
           database.

           Exactly one of --persistent and --non-persistent must be specified.

       -?|--help
           Print a summary of command line options.

       --usage
           Display brief usage message.

       -d|--debuglevel=DEBUGLEVEL
           <u>level</u> is an integer from 0 to 10. The default value if this parameter is not specified is 1 for
           client applications.

           The higher this value, the more detail will be logged to the log files about the activities of the
           server. At level 0, only critical errors and serious warnings will be logged. Level 1 is a reasonable
           level for day-to-day running - it generates a small amount of information about operations carried
           out.

           Levels above 1 will generate considerable amounts of log data, and should only be used when
           investigating a problem. Levels above 3 are designed for use only by developers and generate HUGE
           amounts of log data, most of which is extremely cryptic.

           Note that specifying this parameter here will override the <b>log</b> <b>level</b> parameter in the
           /etc/samba/smb.conf file.

       --debug-stdout
           This will redirect debug output to STDOUT. By default all clients are logging to STDERR.

       --configfile=&lt;configuration file&gt;
           The file specified contains the configuration details required by the client. The information in this
           file can be general for client and server or only provide client specific like options such as <b>client</b>
           <b>smb</b> <b>encrypt</b>. See /etc/samba/smb.conf for more information. The default configuration file name is
           determined at compile time.

       --option=&lt;name&gt;=&lt;value&gt;
           Set the <b><a href="../man5/smb.conf.5.html">smb.conf</a></b>(5) option "&lt;name&gt;" to value "&lt;value&gt;" from the command line. This overrides
           compiled-in defaults and options read from the configuration file. If a name or a value includes a
           space, wrap whole --option=name=value into quotes.

       -l|--log-basename=logdirectory
           Base directory name for log/debug files. The extension <b>".progname"</b> will be appended (e.g.
           log.smbclient, log.smbd, etc...). The log file is never removed by the client.

       --leak-report
           Enable talloc leak reporting on exit.

       --leak-report-full
           Enable full talloc leak reporting on exit.

       -V|--version
           Prints the program version number.

</pre><h4><b>COMMANDS</b></h4><pre>
   <b>fetch</b>

       dbwrap_tool &lt;database&gt; fetch &lt;key&gt; &lt;type&gt;

   <b>store</b>

       dbwrap_tool &lt;database&gt; store &lt;key&gt; &lt;type&gt; &lt;value&gt;

   <b>delete</b>

       dbwrap_tool &lt;database&gt; delete &lt;key&gt;

   <b>exists</b>

       dbwrap_tool &lt;database&gt; exists &lt;key&gt;

   <b>erase</b>

       dbwrap_tool &lt;database&gt; erase

   <b>listkeys</b>

       dbwrap_tool &lt;database&gt; listkeys

   <b>listwatchers</b>

       dbwrap_tool &lt;database&gt; listwatchers

</pre><h4><b>EXAMPLES</b></h4><pre>
       List all keys from winbindd_idmap.tdb
           dbwrap_tool --persistent winbindd_idmap.tdb listkeys

       Fetch record with key "USER HWM" as uint32
           dbwrap_tool --persistent winbindd_idmap.tdb fetch "USER HWM" uint32

       Remove record with key "USER HWM"
           dbwrap_tool --persistent winbindd_idmap.tdb remove "USER HWM"

       Store and overwrite record "USER HWM" with value 214
           uint32: dbwrap_tool --persistent winbindd_idmap.tdb store "USER HWM" uint32 214 hex: dbwrap_tool
           --persistent winbindd_idmap.tdb store "USER HWM" hex D6000000

</pre><h4><b>NOTES</b></h4><pre>
       Use with caution!

</pre><h4><b>VERSION</b></h4><pre>
       This man page is part of version 4.21.4-Ubuntu-4.21.4+dfsg-1ubuntu3.3 of the Samba suite.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man8/smbd.8.html">smbd</a></b>(8), <b><a href="../man7/samba.7.html">samba</a></b>(7)

</pre><h4><b>AUTHOR</b></h4><pre>
       The original Samba software and related utilities were created by Andrew Tridgell. Samba is now developed
       by the Samba Team as an Open Source project similar to the way the Linux kernel is developed.

       The dbwrap_tool manpage was written by Bjoern Baumbach.

Samba 4.21.4-Ubuntu-4.21.4+dfs                     06/19/2025                                     <u><a href="../man1/DBWRAP_TOOL.1.html">DBWRAP_TOOL</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>