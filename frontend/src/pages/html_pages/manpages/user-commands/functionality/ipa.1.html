<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ipa - IPA command-line interface</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/freeipa-client">freeipa-client_4.12.2-3_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       ipa - IPA command-line interface

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>ipa</b> [options] [<b>-c</b> <u>FILE</u>] [<b>-e</b> <u>KEY=VAL</u>] <u>COMMAND</u> [parameters]

</pre><h4><b>DESCRIPTION</b></h4><pre>
       IPA  is  an  integrated  security information management solution based on 389 Directory Server (formerly
       know as Fedora Directory Server), MIT Kerberos, Dogtag Certificate System and  DNS.  It  includes  a  web
       interface and command-line administration tools for managing identity data.

       This  manual  page focuses on the <u>ipa</u> script that serves as the main command-line interface (CLI) for IPA
       administration.

       More information about the project is available on its homepage located at <a href="http://www.freeipa.org">http://www.freeipa.org</a>.

</pre><h4><b>OPTIONS</b></h4><pre>
       <b>-c</b> <u>FILE</u>
              Load configuration from <u>FILE</u>.

       <b>-d</b>, <b>--debug</b>
              Produce full debugging output.

       <b>--delegate</b>
              Delegate the user's TGT to the IPA server

       <b>-e</b> <u>KEY=VAL</u>
              Set environmental variable <u>KEY</u> to the value <u>VAL</u>. This option overrides configuration files.

       <b>-h</b>, <b>--help</b>
              Display a help message with a list of options.

       <b>-n</b>, <b>--no-prompt</b>
              Don't prompt for any parameters of <b>COMMAND</b>, even if they are required.

       <b>-a</b>, <b>--prompt-all</b>
              Prompt for all parameters of <u>COMMAND</u>, even if they are optional.

       <b>-f</b>, <b>--no-fallback</b>
              Don't fall back to other IPA servers if the default doesn't work.

       <b>-v</b>, <b>--verbose</b>
              Produce verbose output. A second -v pretty-prints the  JSON  request  and  response.  A  third  -v
              displays the HTTP request and response.

       <b>--version</b>
              Display the IPA version and API version.

</pre><h4><b>COMMANDS</b></h4><pre>
       The  principal  function  of  the  CLI  is  to  execute  administrative commands specified by the <u>COMMAND</u>
       argument. The majority of commands are executed remotely over XML-RPC on  a  IPA  server  listed  in  the
       configuration file (see FILES section of this manual page).

       From  the  implementation perspective, the CLI distinguishes two types of commands - built-ins and plugin
       provided.

       Built-in commands are static and are all available in all installations of IPA. There are two of them:

       <b>console</b>
              Start the IPA interactive Python console.

       <b>help</b> [<u>TOPIC</u> | <u>COMMAND</u> | <b>topics</b> | <b>commands</b>]
              Display help for a command or topic.

              The <b>help</b> command invokes the built-in documentation system. Without parameters a list of  built-in
              commands  and  help topics is displayed. Help topics are generated from loaded IPA plugin modules.
              Executing <b>help</b> with the name of an available  topic  displays  a  help  message  provided  by  the
              corresponding plugin module and list of commands it contains.

       Plugin  provided commands, as the name suggests, originate from IPA plugin modules. The available set may
       vary depending on your configuration and can be listed using the built-in <b>help</b> command (see above).

       Most plugin provided commands are tied to a certain type of IPA  object.  IPA  objects  encompass  common
       abstractions  such  as  users  (user identities/accounts), hosts (machine identities), services, password
       policies, etc. Commands associated with an object are easily identified thanks  to  the  enforced  naming
       convention;  the  command  names  are  composed  of  two  parts  separated  with  a dash: the name of the
       corresponding IPA object type and the name of action performed on it. For example all  commands  used  to
       manage user identities start with "user-" (e.g. user-add, user-del).

       The following actions are available for most IPA object types:

       <b>add</b> [<u>PRIMARYKEY</u>] [options]
              Create a new object.

       <b>show</b> [<u>PRIMARYKEY</u>] [options]
              Display an existing object.

       <b>mod</b> [<u>PRIMARYKEY</u>] [options]
              Modify an existing object.

       <b>del</b> [<u>PRIMARYKEY</u>]
              Delete an existing object.

       <b>find</b> [<u>CRITERIA</u>] [options]
              Search for existing objects.

       The  above types of commands except <b>find</b> take the objects primary key (e.g. user name for users) as their
       only positional argument unless there can be only one object of the given type.  They  can  also  take  a
       number  of  options  (some  of  which  might  be  required in the case of <b>add</b>) that represent the objects
       attributes.

       <b>find</b> commands take an optional criteria string as their only positional argument. If present, all objects
       with an attribute that contains the criteria string are displayed. If an option representing an attribute
       is set, only object with the attribute exactly matching the specified value are displayed.  Options  with
       empty values are ignored. Without parameters all objects of the corresponding type are displayed.

       For IPA objects with attributes that can contain references to other objects (e.g. groups), the following
       action are usually available:

       <b>add-member</b> [<u>PRIMARYKEY</u>] [options]
              Add references to other objects.

       <b>remove-member</b> [<u>PRIMARYKEY</u>] [options]
              Remove references to other objects.

       The  above  types of commands take the objects primary key as their only positional argument unless there
       can be only one object of the given type. They also take a number of  options  that  represent  lists  of
       other object primary keys. Each of these options represent one type of object.

       For  some  types of objects, these commands might need to take more than one primary key. This applies to
       IPA objects organized in hierarchies where the parent object needs to be identified first. Parent primary
       keys are always aligned to the left (higher in the hierarchy  =  more  to  the  left).  For  example  the
       automount  IPA  plugin  enables  users  to  manage automount maps per location, as a result all automount
       commands take an automountlocation primary key as their first positional argument.

       All commands that display objects have three special options for controlling output:

       <b>--all</b>  Display all attributes. Without this option only the most relevant attributes are displayed.

       <b>--raw</b>  Display objects as they are stored in the backing store. Disables formatting and attribute labels.

       <b>--rights</b>
              Display effective rights on all attributes of the entry. You also have to specify <b>--all</b>  for  this
              to work. User rights are returned as Python dictionary where index is the name of an attribute and
              value  is  a  unicode  string composed (hence the u'xxxx' format) of letters specified below. Note
              that user rights are primarily used for internal purposes of CLI and WebUI.

              r - read
              s - search
              w - write
              o - obliterate (delete)
              c - compare
              W - self-write
              O - self-obliterate

</pre><h4><b>AUDIT</b> <b>AND</b> <b>LOGGING</b></h4><pre>
       The IPA API logs audit messages to systemd journal about each command executed through IPA API on the IPA
       server. These messages can be found by grepping systemd journal with <b>journalctl</b> <b>-g</b> <b>IPA.API</b> command. The
       message includes following information:

       May 21 11:31:33 master1.ipa1.test /usr/bin/ipa[247422]: [IPA.API] [autobind]: user_del: SUCCESS
       [ldap2_140328582446688] {"uid": ["foobar"], "continue": false, "version": "2.253"}

       <b>/usr/bin/ipa[247422]</b>
              executable name and PID (`/mod_wsgi` for HTTP end-point)

       <b>[IPA.API]</b>
              marker to allow searches with  <b>journalctl</b>  <b>-g</b>  <b>IPA.API.TP</b>  <b>username@REALM</b>  authenticated  Kerberos
              principal or <b>[autobind]</b> marker for LDAP-based operations done as root

       <b>user_del</b>
              name of the command executed

       <b>SUCCESS</b>
              result of execution: <b>SUCCESS</b> or an exception name

       <b>[ldap2_140328582446688]</b>
              LDAP  backend  connection  instance identifier. The identifier will be the same for all operations
              performed under the same request. This allows to identify operations which were executed using the
              same LDAP connection. For API operations  that  didn't  result  in  LDAP  access,  there  will  be
              <b>[no_connection_id]</b> marker.

       <b>{"uid":</b> <b>["foobar"],</b> <b>"continue":</b> <b>false,</b> <b>"version":</b> <b>"2.253"}</b>
              a  list  of  arguments  and  options  passed  to  the  IPA  API  command, provided in JSON format.
              Credentials are filtered out.

       All explicitly requested operations logged. Internal operations, initiated as part of  execution  of  the
       explicitly  requested  IPA  API  calls,  aren't  logged.  For HTTP end-point operations will be logged as
       performed by the '/mod_wsgi' executable binary.  Remaining details can be inspected through  the  systemd
       journal as journald records execution context. See <a href="../man7/systemd.journal-fields.7.html">systemd.journal-fields</a>(7) for details.

       The  details  of  the  individual  logged  messages  can  be  explained  with  the help of <b>retrieved</b> <b>with</b>
       <b>'journalctl</b> <b>-o</b> <b>json-pretty</b>'. See <a href="../man1/journalctl.1.html">journalctl</a>(1) for details on the systemd journal viewer.

       For  the  sample  message  above,  an  explanation  could   be   requested   with   '<b>journalctl</b>   <b>-x</b>   <b>-g</b>
       <b>ldap2_140328582446688</b>'  where  LDAP  backend connection instance identifier can be used to uniquely fetch
       that individual message.

</pre><h4><b>EXAMPLES</b></h4><pre>
       <b>ipa</b> <b>help</b> <b>commands</b>
              Display a list of available commands

       <b>ipa</b> <b>help</b> <b>topics</b>
              Display a high-level list of help topics

       <b>ipa</b> <b>help</b> <b>user</b>
              Display documentation and list of commands in the "user" topic.

       <b>ipa</b> <b>env</b>
              List IPA environmental variables and their values.

       <b>ipa</b> <b>user-add</b> <b>foo</b> <b>--first</b> <b>foo</b> <b>--last</b> <b>bar</b>
              Create a new user with username "foo", first name "foo" and last name "bar".

       <b>ipa</b> <b>group-add</b> <b>bar</b> <b>--desc</b> <b>"this</b> <b>is</b> <b>an</b> <b>example</b> <b>group"</b>
              Create a new group with name "bar" and description "this is an example group".

       <b>ipa</b> <b>group-add-member</b> <b>bar</b> <b>--users=foo</b>
              Add user "foo" to the group "bar".

       <b>ipa</b> <b>group-add-member</b> <b>bar</b> <b>--users={admin,foo}</b>
              Add users "admin" and "foo" to the group "bar". This approach depends on shell expansion feature.

       <b>ipa</b> <b>user-show</b> <b>foo</b> <b>--raw</b>
              Display user "foo" as (s)he is stored on the server.

       <b>ipa</b> <b>group-show</b> <b>bar</b> <b>--all</b>
              Display group "bar" and all of its attributes.

       <b>ipa</b> <b>config-mod</b> <b>--maxusername</b> <b>20</b>
              Set maximum user name length to 20 characters.

       <b>ipa</b> <b>user-find</b> <b>foo</b>
              Search for all users with "foo" in either uid, first name, last name, full name, etc. A user  with
              uid "foobar" would match the search criteria.

       <b>ipa</b> <b>user-find</b> <b>foo</b> <b>--first</b> <b>bar</b>
              Same  as  the  previous  example, except this time the users first name has to be exactly "bar". A
              user with uid "foobar" and first name "bar" would match the search criteria.

       <b>ipa</b> <b>user-find</b> <b>foo</b> <b>--first</b> <b>bar</b> <b>--last</b> <b>foo</b>
              A user with uid "foobar", first name "bar" and last name "foo" would match the search criteria.

       <b>ipa</b> <b>user-find</b>
              All users would match the search criteria (as there are none).

</pre><h4><b>SERVERS</b></h4><pre>
       The ipa client will determine which server to connect to in this order:

       1. The server configured in <b>/etc/ipa/default.conf</b> in the <u>xmlrpc_uri</u> directive.

       2. An unordered list of servers from the ldap DNS SRV records.

       If a kerberos error is raised by any of the requests then it will stop processing and display the error
       message.

</pre><h4><b>ENVIRONMENT</b> <b>VARIABLES</b></h4><pre>
       <b>IPA_CONFDIR</b>
              Override path to confdir (default: <b>/etc/ipa</b>).

</pre><h4><b>FILES</b></h4><pre>
       <b>/etc/ipa/default.conf</b>
              IPA default configuration file.

</pre><h4><b>EXIT</b> <b>STATUS</b></h4><pre>
       0 if the command was successful

       1 if an error occurred

       2 if an entry is not found

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <a href="../man1/ipa-client-install.1.html">ipa-client-install</a>(1),    <a href="../man1/ipa-compat-manage.1.html">ipa-compat-manage</a>(1),    <a href="../man1/ipactl.1.html">ipactl</a>(1),     <a href="../man1/ipa-dns-install.1.html">ipa-dns-install</a>(1),     <a href="../man1/ipa-getcert.1.html">ipa-getcert</a>(1),
       <a href="../man1/ipa-getkeytab.1.html">ipa-getkeytab</a>(1),    <a href="../man1/ipa-join.1.html">ipa-join</a>(1),    <a href="../man1/ipa-ldap-updater.1.html">ipa-ldap-updater</a>(1),    <a href="../man1/ipa-nis-manage.1.html">ipa-nis-manage</a>(1),   <a href="../man1/ipa-replica-install.1.html">ipa-replica-install</a>(1),
       <a href="../man1/ipa-replica-manage.1.html">ipa-replica-manage</a>(1),      <a href="../man1/ipa-replica-prepare.1.html">ipa-replica-prepare</a>(1),      <a href="../man1/ipa-rmkeytab.1.html">ipa-rmkeytab</a>(1),      <a href="../man2/ipa-server-certinstall.2.html">ipa-server-certinstall</a>(2),
       <a href="../man1/ipa-server-install.1.html">ipa-server-install</a>(1), <a href="../man1/ipa-server-upgrade.1.html">ipa-server-upgrade</a>(1), <a href="../man7/systemd.journal-fields.7.html">systemd.journal-fields</a>(7), <a href="../man1/journalctl.1.html">journalctl</a>(1)

IPA                                                Apr 29 2016                                            <u><a href="../man1/ipa.1.html">ipa</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>