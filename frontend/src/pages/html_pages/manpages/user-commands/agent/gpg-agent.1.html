<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>gpg-agent - Secret key management for GnuPG</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/gpg-agent">gpg-agent_2.4.4-2ubuntu23.1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       <b>gpg-agent</b> - Secret key management for GnuPG

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>gpg-agent</b> [<b>--homedir</b> <u>dir</u>] [<b>--options</b> <u>file</u>] [<u>options</u>]
       <b>gpg-agent</b> [<b>--homedir</b> <u>dir</u>] [<b>--options</b> <u>file</u>] [<u>options</u>] <b>--server</b>
       <b>gpg-agent</b> [<b>--homedir</b> <u>dir</u>] [<b>--options</b> <u>file</u>] [<u>options</u>] <b>--daemon</b> [<u>command_line</u>]

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>gpg-agent</b>  is  a daemon to manage secret (private) keys independently from any protocol.  It is used as a
       backend for <b>gpg</b> and <b>gpgsm</b> as well as for a couple of other utilities.

       The agent is automatically started on demand by <b>gpg</b>, <b>gpgsm</b>, <b>gpgconf</b>, or <b>gpg-connect-agent</b>.  Thus there is
       no reason to start it manually.  In case you want to use the included Secure Shell Agent  you  may  start
       the agent using:

         gpg-connect-agent /bye

       If you want to manually terminate the currently-running agent, you can safely do so with:

         gpgconf --kill gpg-agent

       You should always add the following lines to your <b>.bashrc</b> or whatever initialization file is used for all
       shell invocations:

         GPG_TTY=$(tty)
         export GPG_TTY

       It  is  important  that this environment variable always reflects the output of the <b>tty</b> command.  For W32
       systems this option is not required.

       Please make sure that a proper pinentry program has been installed under the default filename  (which  is
       system  dependent)  or  use  the option <b>pinentry-program</b> to specify the full name of that program.  It is
       often useful to install a symbolic link from the actual used pinentry (e.g.  ‘<u>/usr/bin/pinentry-gtk</u>’)  to
       the expected one (e.g. ‘<u><a href="file:///usr/lib/w3m/cgi-bin/w3mman2html.cgi?pinentry">/usr/bin/pinentry</a></u>’).

</pre><h4><b>COMMANDS</b></h4><pre>
       Commands are not distinguished from options except for the fact that only one command is allowed.

       <b>--version</b>
              Print  the  program  version  and  licensing  information.   Note  that you cannot abbreviate this
              command.

       <b>--help</b>
       <b>-h</b>     Print a usage message summarizing the most useful command-line  options.   Note  that  you  cannot
              abbreviate this command.

       <b>--dump-options</b>
              Print a list of all available options and commands.  Note that you cannot abbreviate this command.

       <b>--server</b>
              Run in server mode and wait for commands on the <b>stdin</b>.  The default mode is to create a socket and
              listen for commands there.

       <b>--daemon</b> <b>[</b><u>command</u> <u>line</u><b>]</b>
              Start the gpg-agent as a daemon; that is, detach it from the console and run it in the background.

              As  an  alternative  you  may  create  a  new  process as a child of gpg-agent: <b>gpg-agent</b> <b>--daemon</b>
              <b><a href="file:/bin/sh">/bin/sh</a></b>.  This way you get a new shell with the environment setup properly; after  you  exit  from
              this shell, gpg-agent terminates within a few seconds.

       <b>--supervised</b>
              Run  in  the  foreground,  sending  logs  by  default  to  stderr,  and listening on provided file
              descriptors, which must already be bound to listening sockets.  This option is deprecated and  not
              supported on Windows.

              If in ‘<u>common.conf</u>’ the option <b>no-autostart</b> is set, any start attempts will be ignored.

              In --supervised mode, different file descriptors can be provided for use as different socket types
              (e.g.  ssh,  extra) as long as they are identified in the environment variable <b>LISTEN_FDNAMES</b> (see
              <a href="../man3/sd_listen_fds.3.html">sd_listen_fds</a>(3) on some Linux distributions for more information on this convention).

</pre><h4><b>OPTIONS</b></h4><pre>
       Options may either be used on the command line or, after stripping off the two  leading  dashes,  in  the
       configuration file.

       <b>--options</b> <u>file</u>
              Reads  configuration  from  <u>file</u>  instead  of  from  the default per-user configuration file.  The
              default configuration file is named  ‘<u>gpg-agent.conf</u>’  and  expected  in  the  ‘<u>.gnupg</u>’  directory
              directly below the home directory of the user.  This option is ignored if used in an options file.

       <b>--homedir</b> <u>dir</u>
              Set the name of the home directory to <u>dir</u>. If this option is not used, the home directory defaults
              to  ‘<u><a href="file:~/.gnupg">~/.gnupg</a></u>’.  It is only recognized when given on the command line.  It also overrides any home
              directory stated through the environment variable ‘<u>GNUPGHOME</u>’ or (on Windows systems) by means  of
              the Registry entry <u>HKCU\Software\GNU\GnuPG:HomeDir</u>.

              On  Windows  systems it is possible to install GnuPG as a portable application.  In this case only
              this command line option is considered, all other ways to set a home directory are ignored.

       <b>-v</b>
       <b>--verbose</b>
              Outputs additional information while running.  You can increase the verbosity  by  giving  several
              verbose commands to <b>gpg-agent</b>, such as ‘-vv’.

       <b>-q</b>
       <b>--quiet</b>
              Try to be as quiet as possible.

       <b>--batch</b>
              Don't invoke a pinentry or do any other thing requiring human interaction.

       <b>--faked-system-time</b> <u>epoch</u>
              This  option  is  only useful for testing; it sets the system time back or forth to <u>epoch</u> which is
              the number of seconds elapsed since the year 1970.

       <b>--debug-level</b> <u>level</u>
              Select the debug level for investigating problems. <u>level</u> may be a numeric value or a keyword:

              <b>none</b>   No debugging at all.  A value of less than 1 may be used instead of the keyword.

              <b>basic</b>  Some basic debug messages.  A value between 1 and 2 may be used instead of the keyword.

              <b>advanced</b>
                     More verbose debug messages.  A value between 3 and 5 may be used instead of the keyword.

              <b>expert</b> Even more detailed messages.  A value between 6 and 8 may be used instead of the keyword.

              <b>guru</b>   All of the debug messages you can get. A value greater than 8 may be used  instead  of  the
                     keyword.  The creation of hash tracing files is only enabled if the keyword is used.

       How  these  messages  are mapped to the actual debugging flags is not specified and may change with newer
       releases of this program. They are however carefully selected to best aid in debugging.

       <b>--debug</b> <u>flags</u>
              Set debug flags.  All flags are or-ed and <u>flags</u> may be given in C syntax (e.g.  0x0042)  or  as  a
              comma  separated  list of flag names.  To get a list of all supported flags the single word "help"
              can be used. This option is only useful for debugging and the behavior  may  change  at  any  time
              without notice.

       <b>--debug-all</b>
              Same as <b>--debug=0xffffffff</b>

       <b>--debug-wait</b> <u>n</u>
              When  running  in server mode, wait <u>n</u> seconds before entering the actual processing loop and print
              the pid.  This gives time to attach a debugger.

       <b>--debug-quick-random</b>
              This  option  inhibits  the  use  of  the  very   secure   random   quality   level   (Libgcrypt’s
              <b>GCRY_VERY_STRONG_RANDOM</b>)  and  degrades  all  request down to standard random quality.  It is only
              used for testing and should not be used for any production quality  keys.   This  option  is  only
              effective when given on the command line.

              On  GNU/Linux,  another  way to quickly generate insecure keys is to use <b>rngd</b> to fill the kernel's
              entropy pool with lower quality random data.  <b>rngd</b> is typically provided by the <b>rng-tools</b> package.
              It can be run as follows: ‘sudo rngd -f -r /dev/urandom’.

       <b>--debug-pinentry</b>
              This option enables extra debug information pertaining to the Pinentry.  As  of  now  it  is  only
              useful when used along with <b>--debug</b> <b>1024</b>.

       <b>--no-detach</b>
              Don't detach the process from the console.  This is mainly useful for debugging.

       <b>--steal-socket</b>
              In <b>--daemon</b> mode, gpg-agent detects an already running gpg-agent and does not allow one to start a
              new  instance.  This option can be used to override this check: the new gpg-agent process will try
              to take over the communication sockets from the already running process and  start  anyway.   This
              option should in general not be used.

       <b>-s</b>
       <b>--sh</b>
       <b>-c</b>
       <b>--csh</b>  Format  the  info  output  in  daemon  mode  for use with the standard Bourne shell or the C-shell
              respectively.  The default is to guess it based on the environment variable <b>SHELL</b> which is correct
              in almost all cases.

       <b>--grab</b>
       <b>--no-grab</b>
              Tell the pinentry to grab the keyboard and mouse.  This option should  be  used  on  X-Servers  to
              avoid  X-sniffing  attacks.  Any use of the option <b>--grab</b> overrides an used option <b>--no-grab</b>.  The
              default is <b>--no-grab</b>.

       <b>--log-file</b> <u>file</u>
              Append all logging output to <u>file</u>.  This is very helpful in seeing what the agent  actually  does.
              Use ‘<u>socket://</u>’ to log to socket.  If neither a log file nor a log file descriptor has been set on
              a  Windows platform, the Registry entry <b>HKCU\Software\GNU\GnuPG:DefaultLogFile</b>, if set, is used to
              specify the logging output.

       <b>--no-allow-mark-trusted</b>
              Do not allow clients to mark keys as trusted, i.e. put them into the ‘<u>trustlist.txt</u>’  file.   This
              makes it harder for users to inadvertently accept Root-CA keys.

       <b>--no-user-trustlist</b>
              Entirely    ignore    the   user   trust   list   and   consider   only   the   global   trustlist
              (‘<u>/etc/gnupg/trustlist.txt</u>’).  This implies the [option --no-allow-mark-trusted].

       <b>--sys-trustlist-name</b> <u>file</u>
              Changes the default name for the global trustlist from "trustlist.txt" to <u>file</u>.  If <u>file</u> does  not
              contain  any  slashes  and  does  not  start  with "~/" it is searched in the system configuration
              directory (‘<u>/etc/gnupg</u>’).

       <b>--allow-preset-passphrase</b>
              This option allows the use of <b>gpg-preset-passphrase</b> to seed the internal cache of  <b>gpg-agent</b>  with
              passphrases.

       <b>--no-allow-loopback-pinentry</b>

       <b>--allow-loopback-pinentry</b>
              Disallow  or allow clients to use the loopback pinentry features; see the option <b>pinentry-mode</b> for
              details.  Allow is the default.

              The <b>--force</b> option of the Assuan command <b>DELETE_KEY</b> is also controlled by this option: The  option
              is ignored if a loopback pinentry is disallowed.

       <b>--no-allow-external-cache</b>
              Tell Pinentry not to enable features which use an external cache for passphrases.

              Some  desktop  environments prefer to unlock all credentials with one master password and may have
              installed a Pinentry which employs an additional external cache to implement such  a  policy.   By
              using  this  option the Pinentry is advised not to make use of such a cache and instead always ask
              the user for the requested passphrase.

       <b>--allow-emacs-pinentry</b>
              Tell Pinentry to allow features to divert the passphrase entry to a running Emacs  instance.   How
              this is exactly handled depends on the version of the used Pinentry.

       <b>--ignore-cache-for-signing</b>
              This  option  will let <b>gpg-agent</b> bypass the passphrase cache for all signing operation.  Note that
              there is also a per-session option to control this behavior but this  command  line  option  takes
              precedence.

       <b>--default-cache-ttl</b> <u>n</u>
              Set  the time a cache entry is valid to <u>n</u> seconds.  The default is 600 seconds.  Each time a cache
              entry is accessed, the  entry's  timer  is  reset.   To  set  an  entry's  maximum  lifetime,  use
              <b>max-cache-ttl</b>.   Note  that  a  cached passphrase may not be evicted immediately from memory if no
              client requests a cache operation.  This is due to an internal housekeeping function which is only
              run every few seconds.

       <b>--default-cache-ttl-ssh</b> <u>n</u>
              Set the time a cache entry used for SSH keys is valid to <u>n</u> seconds.  The default is 1800  seconds.
              Each  time  a  cache  entry  is  accessed,  the entry's timer is reset.  To set an entry's maximum
              lifetime, use <b>max-cache-ttl-ssh</b>.

       <b>--max-cache-ttl</b> <u>n</u>
              Set the maximum time a cache entry is valid to <u>n</u> seconds.  After this time a cache entry  will  be
              expired  even  if  it has been accessed recently or has been set using <b>gpg-preset-passphrase</b>.  The
              default is 2 hours (7200 seconds).

       <b>--max-cache-ttl-ssh</b> <u>n</u>
              Set the maximum time a cache entry used for SSH keys is valid to <u>n</u> seconds.   After  this  time  a
              cache  entry  will  be  expired  even  if  it  has  been  accessed  recently or has been set using
              <b>gpg-preset-passphrase</b>.  The default is 2 hours (7200 seconds).

       <b>--enforce-passphrase-constraints</b>
              Enforce the passphrase constraints by not allowing the user to bypass them  using  the  ``Take  it
              anyway'' button.

       <b>--min-passphrase-len</b> <u>n</u>
              Set  the minimal length of a passphrase.  When entering a new passphrase shorter than this value a
              warning will be displayed.  Defaults to 8.

       <b>--min-passphrase-nonalpha</b> <u>n</u>
              Set the minimal number of digits or special characters required in a passphrase.  When entering  a
              new  passphrase  with  less  than  this  number  of digits or special characters a warning will be
              displayed.  Defaults to 1.

       <b>--check-passphrase-pattern</b> <u>file</u>
       <b>--check-sym-passphrase-pattern</b> <u>file</u>
              Check the passphrase against the pattern given in <u>file</u>.  When entering a new  passphrase  matching
              one  of  these pattern a warning will be displayed.  If <u>file</u> does not contain any slashes and does
              not start with "~/" it is searched in the  system  configuration  directory  (‘<u>/etc/gnupg</u>’).   The
              default  is  not  to  use  any  pattern file.  The second version of this option is only used when
              creating a new symmetric key to allow the use of different patterns for such passphrases.

              Security note: It is known that checking a passphrase against a list of pattern or even against  a
              complete  dictionary is not very effective to enforce good passphrases.  Users will soon figure up
              ways to bypass such a policy.  A better policy is to educate users on good security  behavior  and
              optionally to run a passphrase cracker regularly on all users passphrases to catch the very simple
              ones.

       <b>--max-passphrase-days</b> <u>n</u>
              Ask  the  user  to  change  the  passphrase  if  <u>n</u>  days  have passed since the last change.  With
              <b>--enforce-passphrase-constraints</b> set the user may not bypass this check.

       <b>--enable-passphrase-history</b>
              This option does nothing yet.

       <b>--pinentry-invisible-char</b> <u>char</u>
              This option asks the Pinentry to use <u>char</u> for displaying hidden  characters.   <u>char</u>  must  be  one
              character UTF-8 string.  A Pinentry may or may not honor this request.

       <b>--pinentry-timeout</b> <u>n</u>
              This option asks the Pinentry to timeout after <u>n</u> seconds with no user input.  The default value of
              0  does  not ask the pinentry to timeout, however a Pinentry may use its own default timeout value
              in this case.  A Pinentry may or may not honor this request.

       <b>--pinentry-formatted-passphrase</b>
              This option asks the Pinentry to enable passphrase formatting when  asking  the  user  for  a  new
              passphrase and masking of the passphrase is turned off.

              If  passphrase formatting is enabled, then all non-breaking space characters are stripped from the
              entered passphrase.  Passphrase formatting  is  mostly  useful  in  combination  with  passphrases
              generated  with  the GENPIN feature of some Pinentries.  Note that such a generated passphrase, if
              not modified by the user, skips all passphrase constraints checking because such constraints would
              actually weaken the generated passphrase.

       <b>--pinentry-program</b> <u>filename</u>
              Use program <u>filename</u> as the PIN entry.  The default is installation dependent.  With  the  default
              configuration  the  name  of the default pinentry is ‘<u>pinentry</u>’; if that file does not exist but a
              ‘<u>pinentry-basic</u>’ exist the latter is used.

              On a Windows platform  the  default  is  to  use  the  first  existing  program  from  this  list:
              ‘<u>bin\pinentry.exe</u>’,            ‘<u>..\Gpg4win\bin\pinentry.exe</u>’,           ‘<u>..\Gpg4win\pinentry.exe</u>’,
              ‘<u>..\GNU\GnuPG\pinentry.exe</u>’, ‘<u>..\GNU\bin\pinentry.exe</u>’, ‘<u>bin\pinentry-basic.exe</u>’  where  the  file
              names are relative to the GnuPG installation directory.

       <b>--pinentry-touch-file</b> <u>filename</u>
              By  default  the filename of the socket gpg-agent is listening for requests is passed to Pinentry,
              so that it can touch that file before exiting (it does this only in  curses  mode).   This  option
              changes  the  file  passed  to  Pinentry  to  <u>filename</u>.  The special name <b>/dev/null</b> may be used to
              completely disable this feature.  Note that Pinentry will not  create  that  file,  it  will  only
              change the modification and access time.

       <b>--scdaemon-program</b> <u>filename</u>
              Use  program  <u>filename</u>  as the Smartcard daemon.  The default is installation dependent and can be
              shown with the <b>gpgconf</b> command.

       <b>--disable-scdaemon</b>
              Do not make use of the scdaemon tool.  This option has the effect of disabling the ability  to  do
              smartcard  operations.  Note, that enabling this option at runtime does not kill an already forked
              scdaemon.

       <b>--disable-check-own-socket</b>
              <b>gpg-agent</b> employs a periodic self-test to detect a stolen socket.  This  usually  means  a  second
              instance  of  <b>gpg-agent</b>  has taken over the socket and <b>gpg-agent</b> will then terminate itself.  This
              option may be used to disable this self-test for debugging purposes.

       <b>--use-standard-socket</b>
       <b>--no-use-standard-socket</b>
       <b>--use-standard-socket-p</b>
              Since GnuPG 2.1 the standard socket is always used.  These  options  have  no  more  effect.   The
              command <b>gpg-agent</b> <b>--use-standard-socket-p</b> will thus always return success.

       <b>--display</b> <u>string</u>
       <b>--ttyname</b> <u>string</u>
       <b>--ttytype</b> <u>string</u>
       <b>--lc-ctype</b> <u>string</u>
       <b>--lc-messages</b> <u>string</u>
       <b>--xauthority</b> <u>string</u>
              These options are used with the server mode to pass localization information.

       <b>--keep-tty</b>
       <b>--keep-display</b>
              Ignore  requests  to  change  the  current <b>tty</b> or X window system's <b>DISPLAY</b> variable respectively.
              This is useful to lock the pinentry to pop up at the <b>tty</b> or display you started the agent.

       <b>--listen-backlog</b> <u>n</u>
              Set the size of the queue for pending connections.  The default is 64.

       <b>--extra-socket</b> <u>name</u>
              The extra socket is created by default, you may use this option to change the name of the  socket.
              To disable the creation of the socket use ``none'' or ``/dev/null'' for <u>name</u>.

              Also  listen on native gpg-agent connections on the given socket.  The intended use for this extra
              socket is to setup a Unix domain socket forwarding from a remote machine to  this  socket  on  the
              local  machine.   A  <b>gpg</b> running on the remote machine may then connect to the local gpg-agent and
              use its private keys.  This enables decrypting  or  signing  data  on  a  remote  machine  without
              exposing the private keys to the remote machine.

       <b>--enable-extended-key-format</b>
       <b>--disable-extended-key-format</b>
              These  options are obsolete and have no effect.  The extended key format is used for years now and
              has been supported since 2.1.12.  Existing keys in the old format are migrated to the  new  format
              as soon as they are touched.

       <b>--enable-ssh-support</b>
       <b>--enable-win32-openssh-support</b>
       <b>--enable-putty-support</b>

              On  Unix  platforms  the OpenSSH Agent protocol is always enabled, but <b>gpg-agent</b> will only set the
              <b>SSH_AUTH_SOCK</b> variable if the option <b>enable-ssh-support</b> is given.  Some  Linux  distributions  use
              the presence of this option to decide whether the old ssh-agent shall be started.

              On  Windows  support  for  the  native  ssh  implementation  must  be enabled using the the option
              <b>enable-win32-openssh-support</b>.  For using gpg-agent as  a  replacement  for  PuTTY's  Pageant,  the
              option <b>enable-putty-support</b> must be enabled.

              In  this mode of operation, the agent does not only implement the gpg-agent protocol, but also the
              agent protocol used by OpenSSH (through a separate socket or via Named Pipes) or the protocol used
              by PuTTY.  Consequently, this allows one to use the gpg-agent as a  drop-in  replacement  for  the
              ssh-agent.

              SSH  keys,  which  are  to  be used through the agent, need to be added to the gpg-agent initially
              through the ssh-add utility.  When a key is added, ssh-add  will  ask  for  the  password  of  the
              provided key file and send the unprotected key material to the agent; this causes the gpg-agent to
              ask  for a passphrase, which is to be used for encrypting the newly received key and storing it in
              a gpg-agent specific directory.

              Once a key has been added to the gpg-agent this way, the gpg-agent will be ready to use the key.

              Note: in case the gpg-agent receives a signature request, the user might need to be prompted for a
              passphrase, which is necessary for decrypting the stored key.  Since the ssh-agent  protocol  does
              not contain a mechanism for telling the agent on which display/terminal it is running, gpg-agent's
              ssh-support  will  use  the  TTY  or  X  display where gpg-agent has been started.  To switch this
              display to the current one, the following command may be used:

         gpg-connect-agent updatestartuptty /bye

       Although all GnuPG components try to start the gpg-agent as needed, this is  not  possible  for  the  ssh
       support because ssh does not know about it.  Thus if no GnuPG tool which accesses the agent has been run,
       there  is  no  guarantee that ssh is able to use gpg-agent for authentication.  To fix this you may start
       gpg-agent if needed using this simple command:

         gpg-connect-agent /bye

       Adding the <b>--verbose</b> shows the progress of starting the agent.

       The <b>--enable-putty-support</b> is only available under Windows and allows the use of gpg-agent with  the  ssh
       implementation  <b>putty</b>.  This is similar to the regular ssh-agent support but makes use of Windows message
       queue as required by <b>putty</b>.

       The order in which keys are presented to ssh are:

              <b>Negative</b> <b>Use-for-ssh</b> <b>values</b>
                           If a key file has the attribute "Use-for-ssh" and its value is
                           negative, these keys are presented first to ssh.  The negative
                           values are capped at -999 with -999 being lower ranked than -1.
                           These values can be used to prefer on-disk keys over keys taken
                           from active cards.

              <b>Active</b> <b>cards</b>
                           Active cards (inserted into a card reader or plugged in tokens)
                           are always tried; they are ordered by their serial numbers.

              <b>Keys</b> <b>listed</b> <b>in</b> <b>the</b> <b>sshcontrol</b> <b>file</b>
                           Non-disabled keys from the sshcontrol file are presented in the
                           order they appear in this file.  Note that the sshcontrol file
                           is deprecated.

              <b>Positive</b> <b>Use-for-ssh</b> <b>values</b>
                           If a key file has the attribute "Use-for-ssh" and its value is
                           "yes", "true", or any positive number the key is presented in
                           the order of their values.  "yes" and "true" have a value of 1;
                           other values are capped at 99999.

       Editing the "Use-for-ssh" values can be done with an editor  or  using  <b>gpg-connect-agent</b>  and  "KEYATTR"
       (Remember to append a colon to the key; i.e. use "Use-for-ssh:").

       <b>--ssh-fingerprint-digest</b>

              Select  the  digest  algorithm used to compute ssh fingerprints that are communicated to the user,
              e.g. in pinentry dialogs.  OpenSSH has transitioned from using MD5 to the more secure SHA256.

       <b>--auto-expand-secmem</b> <u>n</u>
              Allow Libgcrypt to expand its secure memory area as required.  The optional  value  <u>n</u>  is  a  non-
              negative integer with a suggested size in bytes of each additionally allocated secure memory area.
              The  value  is  rounded  up  to the next 32 KiB; usual C style prefixes are allowed.  For an heavy
              loaded gpg-agent with many concurrent connection this option avoids sign or decrypt errors due  to
              out of secure memory error returns.

       <b>--s2k-calibration</b> <u>milliseconds</u>
              Change  the  default calibration time to <u>milliseconds</u>.  The given value is capped at 60 seconds; a
              value of 0 resets to the compiled-in default.  This option is re-read  on  a  SIGHUP  (or  <b>gpgconf</b>
              <b>--reload</b> <b>gpg-agent</b>) and the S2K count is then re-calibrated.

       <b>--s2k-count</b> <u>n</u>
              Specify  the  iteration count used to protect the passphrase.  This option can be used to override
              the auto-calibration done by default.  The auto-calibration computes a  count  which  requires  by
              default 100ms to mangle a given passphrase.  See also <b>--s2k-calibration</b>.

              To view the actually used iteration count and the milliseconds required for an S2K operation use:

         gpg-connect-agent 'GETINFO s2k_count' /bye
         gpg-connect-agent 'GETINFO s2k_time' /bye

       To view the auto-calibrated count use:

         gpg-connect-agent 'GETINFO s2k_count_cal' /bye

</pre><h4><b>EXAMPLES</b></h4><pre>
       It  is  important  to  set  the  environment  variable  <b>GPG_TTY</b>  in  your login shell, for example in the
       ‘<u><a href="file:~/.bashrc">~/.bashrc</a></u>’ init script:

           export GPG_TTY=$(tty)

       If you enabled the Ssh Agent Support, you also need to tell ssh about it by  adding  this  to  your  init
       script:

         unset SSH_AGENT_PID
         if [ "${gnupg_SSH_AUTH_SOCK_by:-0}" -ne $$ ]; then
           export SSH_AUTH_SOCK="$(gpgconf --list-dirs agent-ssh-socket)"
         fi

</pre><h4><b>FILES</b></h4><pre>
       There  are  a  few  configuration files needed for the operation of the agent. By default they may all be
       found in the current home directory (see: [option --homedir]).

       <b>gpg-agent.conf</b>
                This is the standard configuration file read by <b>gpg-agent</b> on
                startup.  It may contain any valid long option; the leading
                two dashes may not be entered and the option may not be abbreviated.
                This file is also read after a <b>SIGHUP</b> however only a few
                options will actually have an effect.  This default name may be
                changed on the command line (see: [option --options]).
                You should backup this file.

       <b>trustlist.txt</b>
                This is the list of trusted keys.  You should backup this file.

                Comment lines, indicated by a leading hash mark, as well as empty
                lines are ignored.  To mark a key as trusted you need to enter its
                fingerprint followed by a space and a capital letter <b>S</b>.  Colons
                may optionally be used to separate the bytes of a fingerprint; this
                enables cutting and pasting the fingerprint from a key listing output.  If
                the line is prefixed with a <b>!</b> the key is explicitly marked as
                not trusted.

                Here is an example where two keys are marked as ultimately trusted
                and one as not trusted:

                  .RS 2
                # CN=Wurzel ZS 3,O=Intevation GmbH,C=DE
                A6935DD34EF3087973C706FC311AA2CCF733765B S

                # CN=PCA-1-Verwaltung-02/O=PKI-1-Verwaltung/C=DE
                DC:BD:69:25:48:BD:BB:7E:31:6E:BB:80:D3:00:80:35:D4:F8:A6:CD S

                # CN=Root-CA/O=Schlapphuete/L=Pullach/C=DE
                !14:56:98:D3:FE:9C:CA:5A:31:6E:BC:81:D3:11:4E:00:90:A3:44:C2 S
                .fi

       Before entering a key into this file, you need to ensure its
       authenticity.  How to do this depends on your organisation; your
       administrator might have already entered those keys which are deemed
       trustworthy enough into this file.  Places where to look for the
       fingerprint of a root certificate are letters received from the CA or
       the website of the CA (after making 100% sure that this is indeed the
       website of that CA).  You may want to consider disallowing interactive
       updates of this file by using the [option --no-allow-mark-trusted].
       It might even be advisable to change the permissions to read-only so
       that this file can't be changed inadvertently.

       As a special feature a line <b>include-default</b> will include a global
       list of trusted certificates (e.g. ‘<u>/etc/gnupg/trustlist.txt</u>’).
       This global list is also used if the local list is not available;
       the [option --no-user-trustlist] enforces the use of only
       this global list.

       It is possible to add further flags after the <b>S</b> for use by the
       caller:

              <b>relax</b>  Relax checking of some root certificate requirements.  As of now this
                     flag allows the use of root certificates with a missing basicConstraints
                     attribute (despite that it is a MUST for CA certificates) and disables
                     CRL checking for the root certificate.

              <b>cm</b>     If validation of a certificate finally issued by a CA with this flag set
                     fails, try again using the chain validation model.

              <b>qual</b>   The CA is allowed to issue certificates for qualified signatures.
                     This flag has an effect only if used in the global list.  This is now
                     the preferred way to mark such CA; the old way of having a separate
                     file ‘<u>qualified.txt</u>’ is still supported.

              <b>de-vs</b>  The CA is part of an approved PKI for the German classification level
                     VS-NfD.  It is only valid in the global trustlist.  As of now this is
                     used only for documentation purpose.

       <b>sshcontrol</b>
              This file is used when support for the secure shell agent protocol has
              been enabled (see: [option --enable-ssh-support]). Only keys present in
              this file are used in the SSH protocol.  You should backup this file.

              This file is deprecated in favor of the "Use-for-ssh" attribute in the
              key files.

              The <b>ssh-add</b> tool may be used to add new entries to this file;
              you may also add them manually.  Comment lines, indicated by a leading
              hash mark, as well as empty lines are ignored.  An entry starts with
              optional whitespace, followed by the keygrip of the key given as 40 hex
              digits, optionally followed by the caching TTL in seconds and another
              optional field for arbitrary flags.  A non-zero TTL overrides the global
              default as set by <b>--default-cache-ttl-ssh</b>.

              The only flag support is <b>confirm</b>.  If this flag is found for a
              key, each use of the key will pop up a pinentry to confirm the use of
              that key.  The flag is automatically set if a new key was loaded into
              <b>gpg-agent</b> using the option <b>-c</b> of the <b>ssh-add</b>
              command.

              The keygrip may be prefixed with a <b>!</b> to disable an entry.

              The following example lists exactly one key.  Note that keys available
              through a OpenPGP smartcard in the active smartcard reader are
              implicitly added to this list; i.e. there is no need to list them.

                # Key added on: 2011-07-20 20:38:46
                # Fingerprint:  5e:8d:c4:ad:e7:af:6e:27:8a:d6:13:e4:79:ad:0b:81
                34B62F25E277CF13D3C6BCEBFD3F85D08F0A864B 0 confirm

       <b>private-keys-v1.d/</b>

                This is the directory where gpg-agent stores the private keys.  Each
                key is stored in a file with the name made up of the keygrip and the
                suffix ‘<u>key</u>’.  You should backup all files in this directory
                and take great care to keep this backup closed away.

       Note  that  on  larger  installations,  it  is  useful  to  put  predefined  files  into  the   directory
       ‘<u>/etc/skel/.gnupg</u>’ so that newly created users start up with a working configuration.  For existing users
       the a small helper script is provided to create these files (see: [addgnupghome]).

</pre><h4><b>SIGNALS</b></h4><pre>
       A  running  <b>gpg-agent</b>  may  be controlled by signals, i.e. using the <b>kill</b> command to send a signal to the
       process.

       Here is a list of supported signals:

       <b>SIGHUP</b> This signal  flushes  all  cached  passphrases  and  if  the  program  has  been  started  with  a
              configuration  file,  the  configuration  file  is  read again.  Only certain options are honored:
              <b>quiet</b>,  <b>verbose</b>,  <b>debug</b>,  <b>debug-all</b>,  <b>debug-level</b>,  <b>debug-pinentry</b>,   <b>no-grab</b>,   <b>pinentry-program</b>,
              <b>pinentry-invisible-char</b>,  <b>default-cache-ttl</b>,  <b>max-cache-ttl</b>,  <b>ignore-cache-for-signing</b>, <b>s2k-count</b>,
              <b>no-allow-external-cache</b>,  <b>allow-emacs-pinentry</b>,   <b>no-allow-mark-trusted</b>,   <b>disable-scdaemon</b>,   and
              <b>disable-check-own-socket</b>.    <b>scdaemon-program</b>   is   also   supported   but  due  to  the  current
              implementation, which calls the scdaemon only once, it is not of much use unless you manually kill
              the scdaemon.

       <b>SIGTERM</b>
              Shuts down the process but waits until all current requests are fulfilled.   If  the  process  has
              received 3 of these signals and requests are still pending, a shutdown is forced.

       <b>SIGINT</b> Shuts down the process immediately.

       <b>SIGUSR1</b>
              Dump internal information to the log file.

       <b>SIGUSR2</b>
              This signal is used for internal purposes.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man1/gpg.1.html">gpg</a></b>(1), <b><a href="../man1/gpgsm.1.html">gpgsm</a></b>(1), <b><a href="../man1/gpgconf.1.html">gpgconf</a></b>(1), <b><a href="../man1/gpg-connect-agent.1.html">gpg-connect-agent</a></b>(1), <b><a href="../man1/scdaemon.1.html">scdaemon</a></b>(1)

       The  full  documentation  for this tool is maintained as a Texinfo manual.  If GnuPG and the info program
       are properly installed at your site, the command

         info gnupg

       should give you access to the complete manual including a menu structure and an index.

GnuPG 2.4.4                                        2024-01-25                                       <u><a href="../man1/GPG-AGENT.1.html">GPG-AGENT</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>