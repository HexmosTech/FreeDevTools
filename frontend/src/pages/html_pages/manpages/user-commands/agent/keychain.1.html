<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>keychain - re-use ssh-agent and/or gpg-agent between logins</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/keychain">keychain_2.8.5-5_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       keychain - re-use ssh-agent and/or gpg-agent between logins

</pre><h4><b>SYNOPSIS</b></h4><pre>
       keychain [ -hklQqV ] [ --clear --confhost --gpg2 --help --ignore-missing --list
       --noask --nocolor --nogui --nolock --quick --quiet --version ]
       [ --agents <u>list</u> ] [ --attempts <u>num</u> ] [ --dir <u>dirname</u> ] [ --host <u>name</u> ] [ --lockwait <u>seconds</u> ]
       [ --stop <u>which</u> ] [ --timeout <u>minutes</u> ] [ keys... ]

</pre><h4><b>DESCRIPTION</b></h4><pre>
       keychain is a manager for ssh-agent, typically run from <a href="file:~/.bash_profile.">~/.bash_profile.</a>  It allows your shells and cron
       jobs to easily share a single ssh-agent process.  By default, the ssh-agent started by keychain is long-
       running and will continue to run, even after you have logged out from the system.  If you want to change
       this behavior, take a look at the --clear and --timeout options, described below.

       When keychain is run, it checks for a running ssh-agent, otherwise it starts one.  It saves the ssh-agent
       environment variables to <a href="file:~/.keychain/">~/.keychain/</a>${HOSTNAME}-sh, so that subsequent logins and non-interactive shells
       such as cron jobs can source the file and make passwordless ssh connections.

       In addition, when keychain runs, it verifies that the key files specified on the command-line are known
       to ssh-agent, otherwise it loads them, prompting you for a password if necessary. Typically, private key
       files are specified by filename only, without path, although it is possible to specify an absolute or
       relative path to the private key file as well. If just a private key filename is used, which is typical
       usage, keychain will look for the specified private key files in <a href="file:~/.ssh">~/.ssh</a>, <a href="file:~/.ssh2">~/.ssh2</a>, or with the
       -c/--confhost option, inspect the <a href="file:~/.ssh/config">~/.ssh/config</a> file and use the IdentityFile option to determine the
       location of the private key. Private keys can be symlinks to the actual private key.

       Keychain expects associated public key files to exist in the same directory as the private key files,
       with a .pub extension.  If the private key is a symlink, the public key can be found alongside the
       symlink, or in the same directory as the symlink target (This capability requires the 'readlink' command
       to be available on the system.)

       As an additional feature, if a private key has an extension ".ext", keychain will look for
       privkey.ext.pub first, and if not found, will look for privkey.pub.

       Keychain also supports gpg-agent in the same ways that ssh-agent is supported.  By default keychain
       attempts to start ssh-agent only.  You can modify this behavior using the --agents option.

       Keychain supports most UNIX-like operating systems, including Cygwin.  It works with Bourne-compatible,
       csh-compatible and fish shells.

</pre><h4><b>OPTIONS</b></h4><pre>
       <b>--agents</b> <u>list</u>
           Start  the  agents listed.  By default keychain will start ssh-agent if it is found in your path. The
           list should be comma-separated, for example "gpg,ssh"

       <b>--attempts</b> <u>num</u>
           Try num times to add keys before giving up.  The default is 1.

       <b>--clear</b>
           Delete all of ssh-agent's keys.  Typically this is used in .bash_profile.  The theory behind this  is
           that  keychain  should  assume  that you are an intruder until proven otherwise.  However, while this
           option increases security, it still allows your cron jobs to use your ssh  keys  when  you're  logged
           out.

       <b>--confhost</b>
           By  default,  keychain  will look for key pairs in the <a href="file:~/.ssh/">~/.ssh/</a> directory.  The --confhost option will
           inform keychain to look in <a href="file:~/.ssh/config">~/.ssh/config</a> for IdentityFile settings defined for particular hosts,  and
           use these paths to locate keys.

       <b>--confirm</b>
           Keys  are  subject  to  interactive  confirmation  by  the  SSH_ASKPASS program before being used for
           authentication.  See the -c option for <b><a href="../man1/ssh-add.1.html">ssh-add</a></b>(1).

       <b>--absolute</b>
           Any arguments to "--dir"  are  interpreted  to  be  absolute.  The  default  behavior  is  to  append
           "/.keychain" to the argument for backwards compatibility.

       <b>--dir</b> <u>dirname</u>
           Keychain will use dirname rather than $HOME/.keychain

       <b>--query</b>
           Keychain will print lines in KEY=value format representing the values which are set by the agents.

       <b>--eval</b>
           Keychain  will print lines to be evaluated in the shell on stdout.  It respects the SHELL environment
           variable to determine if Bourne shell or C shell output is expected.

       <b>--env</b> <u>filename</u>
           After parsing options, keychain will  load  additional  environment  settings  from  "filename".   By
           default,  if "--env" is not given, then keychain will attempt to load from <a href="file:~/.keychain/">~/.keychain/</a>[hostname]-env
           or alternatively <a href="file:~/.keychain/env.">~/.keychain/env.</a>  The purpose of this file is to override settings such as PATH,  in
           case ssh is stored in a non-standard place.

       <b>--gpg2</b>
           This option changes the default gpg calls to use gpg2 instead to support distributions such as Ubuntu
           which has both gpg and gpg2

       <b>-h</b> <b>--help</b>
           Show help that looks remarkably like this man-page. As of 2.6.10, help is sent to stdout so it can be
           easily piped to a pager.

       <b>--host</b> <u>name</u>
           Set alternate hostname for creation of pidfiles

       <b>--ignore-missing</b>
           Don't  warn if some keys on the command-line can't be found.  This is useful for situations where you
           have a shared .bash_profile, but your keys might not be available on every machine where keychain  is
           run.

       <b>--inherit</b> <u>which</u>
           Attempt  to  inherit  agent  variables  from  the  environment.   This  can be useful in a variety of
           circumstances, for example when ssh-agent is started by gdm.  The  following  values  are  valid  for
           "which":

           <b>local</b>       Inherit  when  a  pid  (e.g.  SSH_AGENT_PID)  is  set in the environment.  This disallows
                       inheriting a forwarded agent.

           <b>any</b>         Inherit when a sock  (e.g.  SSH_AUTH_SOCK)  is  set  in  the  environment.   This  allows
                       inheriting a forwarded agent.

           <b>local-once</b>  Same as "local", but only inherit if keychain isn't already providing an agent.

           <b>any-once</b>    Same as "any", but only inherit if keychain isn't already providing an agent.

           By  default,  keychain-2.5.0  and  later  will behave as if "--inherit local-once" is specified.  You
           should specify "--noinherit" if you want the older behavior.

       <b>-l</b> <b>--list</b>
           List signatures of all active SSH keys, and exit, similar to "ssh-add -l".

       <b>-L</b> <b>--list-fp</b>
           List fingerprints of all active SSH keys, and exit, similar to "ssh-add -L".

       <b>--lockwait</b> <u>seconds</u>
           How long to wait for the lock to become available.  Defaults to 5 seconds. Specify a value of zero or
           more. If the lock cannot be acquired within the specified  number  of  seconds,  then  this  keychain
           process will forcefully acquire the lock.

       <b>--noask</b>
           This  option  tells  keychain do everything it normally does (ensure ssh-agent is running, set up the
           <a href="file:~/.keychain/">~/.keychain/</a>[hostname]-{c}sh files) except that it will not prompt you to add any  of  the  keys  you
           specified if they haven't yet been added to ssh-agent.

       <b>--nocolor</b>
           Disable color highlighting for non ANSI-compatible terms.

       <b>--nogui</b>
           Don't  honor SSH_ASKPASS, if it is set.  This will cause ssh-add to prompt on the terminal instead of
           using a graphical program.

       <b>--noinherit</b>
           Don't inherit any agent processes, overriding the default "--inherit local-once"

       <b>--nolock</b>
           Don't attempt to use a lockfile while manipulating files, pids and keys.

       <b>-k</b> <b>--stop</b> <u>which</u>
           Kill currently running agent processes.  The following values are valid for "which":

           all      Kill all agent processes and quit keychain immediately.  Prior to keychain-2.5.0,  this  was
                    the behavior of the bare "--stop" option.

           others   Kill  agent  processes  other than the ones keychain is providing.  Prior to keychain-2.5.0,
                    keychain would do this automatically.   The  new  behavior  requires  that  you  specify  it
                    explicitly if you want it.

           mine     Kill keychain's agent processes, leaving other agents alone.

       <b>--systemd</b>
           Inject environment variables into the systemd --user session.

       <b>-Q</b> <b>--quick</b>
           If  an  ssh-agent  process  is running then use it.  Don't verify the list of keys, other than making
           sure it's non-empty.  This option avoids locking when possible so  that  multiple  terminals  can  be
           opened simultaneously without waiting on each other.

       <b>-q</b> <b>--quiet</b>
           Only  print  messages in case of warning, error or required interactivity. As of version 2.6.10, this
           also suppresses "Identities added" messages for ssh-agent.

       <b>--timeout</b> <u>minutes</u>
           Allows a timeout to be set for identities added to  ssh-agent.  When  this  option  is  used  with  a
           keychain invocation that starts ssh-agent itself, then keychain uses the appropriate ssh-agent option
           to  set  the  default  timeout  for  ssh-agent.   The  --timeout  option  also gets passed to ssh-add
           invocations, so any keys added to a running ssh-agent will be individually  configured  to  have  the
           timeout specified, overriding any ssh-agent default.

           Most  users  can  simply use the timeout setting they desire and get the result they want -- with all
           identities having the specified timeout, whether added by keychain or not. More  advanced  users  can
           use  one invocation of keychain to set the default timeout, and optionally set different timeouts for
           keys added by using a subsequent invocation of keychain.

       <b>-V</b> <b>--version</b>
           Show version information.

</pre><h4><b>EXAMPLES</b></h4><pre>
       This snippet should work in most shells to load two ssh keys and one gpg key:

           eval `keychain --eval id_rsa id_dsa 0123ABCD`

       For the fish shell, use the following format:

           if status --is-interactive
               keychain --eval --quiet -Q id_rsa | source
           end

       If you have trouble with that in csh:

           setenv SHELL /bin/csh
           eval `keychain --eval id_rsa id_dsa 0123ABCD`

       This is equivalent for Bourne shells (including bash and zsh) but doesn't use keychain's --eval feature:

           keychain id_rsa id_dsa 0123ABCD
           [ -z "$HOSTNAME" ] &amp;&amp; HOSTNAME=`uname -n`
           [ -f $HOME/.keychain/$HOSTNAME-sh ] &amp;&amp; \
                   . $HOME/.keychain/$HOSTNAME-sh
           [ -f $HOME/.keychain/$HOSTNAME-sh-gpg ] &amp;&amp; \
                   . $HOME/.keychain/$HOSTNAME-sh-gpg

       This is equivalent for C shell (including tcsh):

           keychain id_rsa id_dsa 0123ABCD
           host=`uname -n`
           if (-f $HOME/.keychain/$host-csh) then
                   source $HOME/.keychain/$host-csh
           endif
           if (-f $HOME/.keychain/$host-csh-gpg) then
                   source $HOME/.keychain/$host-csh-gpg
           endif

       To load keychain variables from a script (for example from cron) and abort unless id_dsa is available:

           # Load keychain variables and check for id_dsa
           [ -z "$HOSTNAME" ] &amp;&amp; HOSTNAME=`uname -n`
           . $HOME/.keychain/$HOSTNAME-sh 2&gt;/dev/null
           ssh-add -l 2&gt;/dev/null | grep -q id_dsa || exit 1

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man1/ssh-agent.1.html">ssh-agent</a></b>(1)

</pre><h4><b>NOTES</b></h4><pre>
       Keychain was created and is currently maintained by Daniel Robbins. If  you  need  to  report  a  bug  or
       request  an  enhancement, please post to the Funtoo Linux bug tracker &lt;<a href="http://bugs.funtoo.org">http://bugs.funtoo.org</a>&gt;.  For more
       information about keychain, please visit &lt;<a href="http://www.funtoo.org/Keychain">http://www.funtoo.org/Keychain</a>&gt;.

2.8.5                                              2024-12-31                                        <u><a href="../man1/keychain.1.html">keychain</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>