<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>setforward - create a forwarding database</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/fastforward">fastforward_0.51-10_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       setforward - create a forwarding database

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>setforward</b> <u>cdb</u> <u>tmp</u>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>setforward</b>  reads a table of forwarding instructions from its standard input.  It converts the table into
       a forwarding database.  The forwarding database can be used by <b>fastforward</b>.

       <b>setforward</b> writes the forwarding database to <u>tmp</u>; it then moves <u>tmp</u> to <u>cdb</u>.  <u>tmp</u> and <u>cdb</u> must be  on  the
       same filesystem.

       If there is a problem creating <u>tmp</u>, <b>setforward</b> complains and leaves <u>cdb</u> alone.

       The forwarding database format is portable across machines.

</pre><h4><b>INSTRUCTION</b> <b>FORMAT</b></h4><pre>
       A forwarding instruction contains a <u>target</u>, a colon, a series of commands, and a semicolon.  Each command
       is  a  <u>recipient</u>  <u>address</u>,  <u>owner</u>  <u>address</u>, <u>external</u> <u>mailing</u> <u>list</u>, or <u>program</u>.  Commands are separated by
       commas.

       For example,

          <a href="mailto:root@yp.to">root@yp.to</a>: <a href="mailto:god@heaven.af.mil">god@heaven.af.mil</a>, <a href="mailto:staff@af.mil">staff@af.mil</a>;

       says that mail for <b><a href="mailto:root@yp.to">root@yp.to</a></b> should be  forwarded  to  the  recipient  addresses  <b><a href="mailto:god@heaven.af.mil">god@heaven.af.mil</a></b>  and
       <b><a href="mailto:staff@af.mil">staff@af.mil</a></b>.

       When <b>setforward</b> sees # it ignores all text from # to the end of the line:

          # this is a comment

       <b>setforward</b>  ignores  all  other line endings, so you can split a forwarding instruction across lines.  It
       also ignores spaces and tabs.  Exception: you can put a space (or tab or comma or whatever) into a target
       or command by putting a backslash in front of it.  (However, NUL bytes are not permitted anywhere.)

</pre><h4><b>TARGETS</b></h4><pre>
       When <b>fastforward</b> sees  the  incoming  address  <u><a href="mailto:user@host.dom">user@host.dom</a></u>,  it  tries  three  targets:  <u><a href="mailto:user@host.dom">user@host.dom</a></u>,
       <u>@host.dom</u>,  and  <u>user@</u>.   It  obeys  the  commands  for the first target that it finds.  Target names are
       interpreted without regard to case.

       All the commands for a single target must be listed in a single instruction.  Exception: an owner address
       can be listed in a separate instruction.

</pre><h4><b>RECIPIENT</b> <b>ADDRESSES</b></h4><pre>
       If a command begins with an ampersand, <b>setforward</b> takes the remaining bytes in the command as a recipient
       address:

          <a href="mailto:boss@yp.to">boss@yp.to</a>: &amp;<a href="mailto:god@heaven.af.mil">god@heaven.af.mil</a>;

       <b>fastforward</b> sends each incoming mail message to  the  recipient  address.   The  recipient  address  must
       include a fully qualified domain name.  It cannot be longer than 800 bytes.

       If  a  recipient  address is itself a target in the forwarding table, <b>fastforward</b> will recursively handle
       the instructions for that target.  Note that <u>@host.dom</u> and <u>user@</u> wildcards do not apply here; they  apply
       only to the incoming address.

       If a command begins with a letter or number, <b>setforward</b> takes the entire command as a recipient address:

          <a href="mailto:boss@yp.to">boss@yp.to</a>: <a href="mailto:god@heaven.af.mil">god@heaven.af.mil</a>;

</pre><h4><b>OWNER</b> <b>ADDRESSES</b></h4><pre>
       If a command begins with a question mark, <b>setforward</b> takes the remaining bytes in the command as an owner
       address:

          <a href="mailto:sos@heaven.af.mil">sos@heaven.af.mil</a>: ?<a href="mailto:owner-sos@heaven.af.mil">owner-sos@heaven.af.mil</a>;

       <b>fastforward</b>  uses that address as the envelope sender for forwarded mail, so bounces will go back to that
       address.  (Normally, if a message is forwarded to a bad address, it will  bounce  back  to  the  original
       envelope sender.)

</pre><h4><b>EXTERNAL</b> <b>MAILING</b> <b>LISTS</b></h4><pre>
       If  a  command  begins  with  a dot or slash, <b>setforward</b> takes the entire command as the name of a binary
       mailing list file created by <b>setmaillist</b>:

          <a href="mailto:sos@heaven.af.mil">sos@heaven.af.mil</a>: /etc/lists/sos.bin;

       <b>fastforward</b> will read and obey the commands in that file.  The file must be world-readable and accessible
       to <b>fastforward</b>.

</pre><h4><b>PROGRAMS</b></h4><pre>
       If a command begins with a vertical bar or exclamation point, <b>setforward</b> takes the rest of the command as
       the name of a program to run:

          dew@: |dew-monitor;

       For a vertical bar, <b>fastforward</b> feeds the message to that program.  An exclamation point works  the  same
       way except that <b>fastforward</b> inserts <b>$UFLINE</b>, <b>$RPLINE</b>, and <b>$DTLINE</b> in front of the message.

</pre><h4><b>DUPLICATES</b></h4><pre>
       When  <b>fastforward</b> is building the recipient list for a message, it keeps track of the recipient addresses
       and external mailing lists it has used.  If the same command shows up again, it skips it.  For example:

          <a href="mailto:everybody@yp.to">everybody@yp.to</a>: <a href="mailto:programmers@yp.to">programmers@yp.to</a>, <a href="mailto:testers@yp.to">testers@yp.to</a>;
          <a href="mailto:programmers@yp.to">programmers@yp.to</a>: <a href="mailto:joe@yp.to">joe@yp.to</a>, <a href="mailto:bob@yp.to">bob@yp.to</a>;
          <a href="mailto:testers@yp.to">testers@yp.to</a>: <a href="mailto:joe@yp.to">joe@yp.to</a>, <a href="mailto:fred@yp.to">fred@yp.to</a>;

       A message to <b><a href="mailto:everybody@yp.to">everybody@yp.to</a></b> will be sent to <b><a href="mailto:joe@yp.to">joe@yp.to</a></b> only once.  (This also means that addresses in  an
       internal forwarding loop are discarded.)

       Exception:  If  a  target  has  an  owner address, commands for that target are considered different from
       commands for ``outside'' targets.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <a href="../man1/newaliases.1.html">newaliases</a>(1), <a href="../man1/preline.1.html">preline</a>(1), <a href="../man1/printforward.1.html">printforward</a>(1), <a href="../man1/setmaillist.1.html">setmaillist</a>(1)

                                                                                                   <u><a href="../man1/setforward.1.html">setforward</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>