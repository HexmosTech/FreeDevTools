<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ledger — Command-line, double-entry account reporting tool</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/ledger">ledger_3.3.2-1build5_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       ledger — Command-line, double-entry account reporting tool

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>ledger</b> [<u>options</u>] [<u>command</u>] [<u>arguments</u>]

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>ledger</b>  is a command-line accounting tool based on the power and completeness of double-entry accounting.
       It is only a reporting tool, which means it never modifies your data files, but it  does  offer  a  large
       selection of reports, and different ways to customize them to your needs.

</pre><h4><b>COMMANDS</b></h4><pre>
       <b>ledger</b>  accepts  several  top-level  commands,  each of which generates a different kind of basic report.
       Most of them accept a <u>report-query</u>  argument,  in  order  to  determine  what  should  be  reported.   To
       understand  the  syntax  of a <u>report-query</u>, see the section on “QUERIES”.  In its most basic form, simply
       specifying one or more strings produces a report for all accounts containing those strings.

       If no command is given, <b>ledger</b> enters a REPL, or command loop, allowing several commands to  be  executed
       on the same dataset without reparsing.

       The following is a complete list of accepted reporting commands:

       <b>accounts</b> [<u>report-query</u>]
                 List all accounts for postings that match the <u>report-query</u>.

       <b>balance</b> [<u>report-query</u>]
                Print a balance report showing totals for postings that match <u>report-query</u>, and aggregate totals
                for parents of those accounts.  Options most commonly used with this command are:
                <b>--basis</b> (<b>-B</b>)     Report  in  terms of cost basis, not amount or value.  This is the only form of
                                 report which is guaranteed to always balance to zero, when no  <u>report-query</u>  is
                                 specified.  Only show totals for the top-most accounts.
                <b>--empty</b> (<b>-E</b>)     Show accounts whose total is zero.
                <b>--flat</b>           Rather  than  display a hierarchical tree, flatten the report to show subtotals
                                 for only accounts matching <u>report-query</u>.
                <b>--no-total</b>       Suppress the summary total shown at the bottom of the report.

                The synonyms <b>bal</b> and <b>b</b> are also accepted.

       <b>budget</b> [<u>report-query</u>]
                A special balance report which includes three extra columns:  the  amount  budgeted  during  the
                reporting  period,  how  spending  differed  from the budget, and the percentage of budget spent
                (exceeds 100% if you go over budget).  Note  that  budgeting  requires  one  or  more  “periodic
                transactions” to be defined in your data file(s).  See the manual for more information.

       <b>cleared</b> [<u>report-query</u>]
                A special balance report which adds two extra columns: the cleared balance for each account, and
                the  date  of  the  most  recent  cleared  posting  in  that account.  For this accounting to be
                meaningful, the cleared flag must be set on at least one  posting.   See  the  manual  for  more
                information.

       <b>commodities</b> [<u>report-query</u>]
                List all commodities for postings matching the <u>report-query</u>.

       <b>convert</b>  Reads data from a CSV (comma-separated values) file and generates <b>ledger</b> transactions.

       <b>csv</b> [<u>report-query</u>]
                Report of postings matching the <u>report-query</u> in CSV format (comma-separated values).  Useful for
                exporting data to a spreadsheet for further analysis or charting.

       <b>entry</b> [<u>entry-template</u>]
                Generate   and   display   a  new,  properly  formatted  <b>ledger</b>  transaction  by  comparing  the
                <u>entry-template</u> to the transactions  in  your  data  file(s).   For  more  information  on  draft
                templates and using this command to quickly create new transactions, see the section “ENTRIES”.

                The synonym <b>xact</b> is also accepted.

       <b>emacs</b> [<u>query</u>]
                Output  posting  and  transaction  data  in  a format readily consumed by the Emacs editor, in a
                series of Lisp forms.  This is used by the Emacs ledger-mode  to  process  reporting  data  from
                <b>ledger</b>.

       <b>equity</b> [<u>report-query</u>]
                Print  a transaction with a series of postings that balance current totals for accounts matching
                the <u>report-query</u> in a special account called  <b>Equity:Opening</b>  <b>Balances</b>.   The  purpose  of  this
                report  is  to  close  the  books  for  a prior year, while using these equity postings to carry
                forward those balances.

       <b>payees</b> [<u>report-query</u>]
                List all payees for postings matching the <u>report-query</u>.

       <b>pricemap</b>
                Produce a file which can be used to generate a graph with graphviz showing the  relationship  of
                commodities in the <b>ledger</b> file.

       <b>prices</b> [<u>report-query</u>]
                Report  prices  for  all  commodities  in  postings  matching  the <u>report-query</u>.  The prices are
                reported with the granularity of a single day.

       <b>pricedb</b> [<u>report-query</u>]
                Report prices for all commodities in postings matching the <u>report-query</u>.   Prices  are  reported
                down to the second, using the same format as the <u><a href="file:~/.pricedb">~/.pricedb</a></u> file.

       <b>print</b> [<u>report-query</u>]
                Print  out  the  full  transactions of any matching postings using the same format as they would
                appear in a data file.  This can be used to extract subsets from a <b>ledger</b> file  to  transfer  to
                other files.

       <b>push</b> [<u>options</u>]
                In  the  REPL,  push  a  set  of command-line <u>options</u>, so that they will apply to all subsequent
                reports.

       <b>pop</b>      In the REPL, pop any option settings that have been <b>push</b>ed.

       <b>register</b> [<u>report-query</u>]
                List all postings matching the <u>report-query</u>.  This is one of the most common commands,  and  can
                be  used  to  provide a variety of useful reports.  Options most commonly used with this command
                are:

                <b>--average</b> (<b>-A</b>)   Show the running average, rather than a running total.
                <b>--current</b> (<b>-c</b>)   Don't show postings beyond the present day.
                <b>--exchange</b> "<u>COMMODITY</u> [, <u>COMMODITY,</u> <u>...</u>]" (<b>-X</b>)
                                 Render all values in the given <u>commodity</u>, if a price  conversion  rate  can  be
                                 determined.   If  multiple  commodities are given, values in a listed commodity
                                 will remain as-is, and others will be displayed in the first  listed  commodity
                                 they  can  be converted to.  Rates are always displayed relative to the date of
                                 the posting they are calculated  for.   This  means  a  <b>register</b>  report  is  a
                                 historical  value  report.  For current values, it may be preferable to use the
                                 <b>balance</b> report.
                <b>--gain</b> (<b>-G</b>)      Show any gains (or losses) in commodity values over time.
                <b>--head</b> <u>number</u>    Only show the top <u>number</u> postings.
                <b>--historical</b> (<b>-H</b>)
                                 Value commodities at the time of their acquisition.
                <b>--invert</b>         Invert the value of amounts shown.
                <b>--market</b> (<b>-V</b>)    Show current market values for all amounts.  This is determined in  a  somewhat
                                 magical fashion.  It is probably more straightforward to use <b>--exchange</b> option.
                <b>--period</b> <u>time-period</u> (<b>-p</b>)
                                 Show postings only for the given <u>time-period</u>.
                <b>--related</b> (<b>-r</b>)   Show postings that are related to those that would have been shown.  It has the
                                 effect of displaying the "other side" of the postings.
                <b>--sort</b> <u>value-expression</u> (<b>-S</b>)
                                 Sort  postings  by  evaluating  the given <u>value-expression</u>.  Note that a comma-
                                 separated list of expressions is allowed, in which case each  sorting  term  is
                                 used  in order to determine the final ordering.  For example, to search by date
                                 and then amount, one would use:
                                       <b>ledger</b> <b>reg</b> <b>--sort</b> <b>'date,</b> <b>amount'</b>
                                 The sort order may be controlled with the '-' sign. For  example,  to  sort  in
                                 reverse chronological order:
                                       <b>ledger</b> <b>reg</b> <b>--sort</b> <b>'-date'</b>
                <b>--tail</b> <u>number</u>    Only show the last <u>number</u> postings.
                <b>--uncleared</b> (<b>-U</b>)
                                 Only show uncleared (i.e., recent) postings.

                There are also several grouping options that can be useful:

                <b>--by-payee</b> (<b>-P</b>)  Group postings by common payee names.
                <b>--daily</b> (<b>-D</b>)     Group postings by day.
                <b>--weekly</b> (<b>-W</b>)    Group postings by week (starting on Sundays).
                <b>--start-of-week</b> <u>day</u>
                                 Set the start of each report grouped by week to the given <u>day</u>.
                <b>--monthly</b> (<b>-M</b>)   Group postings by month.
                <b>--quarterly</b>      Group postings by fiscal quarter.
                <b>--yearly</b> (<b>-Y</b>)    Group postings by year.
                <b>--days-of-week</b>   Group postings by the day of the week on which they took place.
                <b>--subtotal</b> (<b>-s</b>)  Group  all  postings together.  This is very similar to the totals shown by the
                                 <b>balance</b> report.

                The synonyms <b>reg</b> and <b>r</b> are also accepted.

       <b>select</b> [<u>sql-query</u>]
                List all postings matching the <u>sql-query</u>.  This command allows  to  generate  SQL-like  queries,
                e.g.:
                      <b>ledger</b> <b>select</b> <b>date,amount</b> <b>from</b> <b>posts</b> <b>where</b> <b>account=<a href="file:~/Income/">~/Income/</a></b>

       <b>source</b>   Parse  a  journal  file  and  checks it for errors.  <b>ledger</b> will return success if no errors are
                found.

       <b>stats</b> [<u>report-query</u>]
                Provide  summary  information  about  all  the  postings  matching  <u>report-query</u>.   It  provides
                information such as:
                      <b>•</b>   Time range of all matching postings
                      <b>•</b>   Unique payees
                      <b>•</b>   Unique accounts
                      <b>•</b>   Postings total
                      <b>•</b>   Uncleared postings
                      <b>•</b>   Days since last posting
                      <b>•</b>   Posts in the last 7 days
                      <b>•</b>   Posts in the last 30 days
                      <b>•</b>   Posts this month

       <b>xml</b> [<u>report-query</u>]
                Output  data  relating  to  the  current  report  in  XML  format.  It includes all accounts and
                commodities involved in the report, plus the postings and the transactions  they  are  contained
                in.  See the manual for more information.

</pre><h4><b>OPTIONS</b></h4><pre>
       <b>--abbrev-len</b> <u>INT</u>
                Set  the  minimum  length  an  account  can  be  abbreviated  to  if  it  doesn't fit inside the
                <b>account-width</b>.  If <u>INT</u> is zero, then the account name will be truncated on the right.  If <u>INT</u> is
                greater than <b>account-width</b> then the account will be truncated on the left, with no shortening of
                the account names in order to fit into the desired width.

       <b>--account</b> <u>EXPR</u>
                Prepend <u>EXPR</u> to all accounts reported.  That is, the option <b>--account</b>  <u>"'Personal'"</u>  would  tack
                <u>Personal:</u>  and  <b>--account</b>  <u>"tag('VAT')"</u>  would tack the value of the VAT tag to the beginning of
                every account reported in a <b>balance</b> or <b>register</b> report.

       <b>--account-width</b> <u>INT</u>
                Set the width of the account column in the <b>register</b> report to <u>INT</u> characters.

       <b>--actual</b> (<b>-L</b>)
                Report only real transactions, with no automated or virtual transactions used.

       <b>--add-budget</b>
                Show only un-budgeted postings.

       <b>--amount</b> <u>EXPR</u> (<b>-t</b>)
                Apply the given value expression to the posting amount.  Using <b>--amount</b> <u>EXPR</u> you  can  apply  an
                arbitrary transformation to the postings.

       <b>--amount-data</b> (<b>-j</b>)
                On  a  register  report  print  only  the dates and amount of postings.  Useful for graphing and
                spreadsheet applications.

       <b>--amount-width</b> <u>INT</u>
                Set the width in characters of the amount column in the <b>register</b> report.

       <b>--anon</b>   Anonymize registry output, mostly for sending in bug reports.

       <b>--ansi</b>   Use color if the terminal supports it.  Alias for <b>--color</b>

       <b>--args-only</b>
                Ignore init files and environment variables for the <b>ledger</b> run.

       <b>--auto-match</b>
                When generating a ledger transaction from a CSV file using the  <b>convert</b>  command,  automatically
                match an account from the Ledger journal.

       <b>--aux-date</b>
                Show auxiliary dates for all calculations.  Alias for <b>--effective</b>

       <b>--average</b> (<b>-A</b>)
                Print average values over the number of transactions instead of running totals.

       <b>--average-lot-prices</b>
                Report the average price at which each commodity was purchased in a balance report.

       <b>--balance-format</b> <u>FMT</u>
                Specify the format to use for the <b>balance</b> report.

       <b>--base</b>   Reduce convertible commodities down the bottom of the conversion, e.g.  display time in seconds.

       <b>--basis</b> (<b>-B</b>)
                Report the cost basis on all posting.  Alias for <b>--cost</b>

       <b>--begin</b> <u>DATE</u> (<b>-b</b>)
                Specify the start <u>DATE</u> of all calculations.  Transactions before that date will be ignored.

       <b>--bold-if</b> <u>EXPR</u>
                Print the entire line in bold if the given value expression is true.

       <b>--budget</b>
                Only display budgeted items.  In a <b>register</b> report this displays transaction in the budget, in a
                balance report this displays accounts in the budget.

       <b>--budget-format</b> <u>FMT</u>
                Specify the format to use for the <b>budget</b> report.

       <b>--by-payee</b> (<b>-P</b>)
                Group postings in the register report by common payee names.

       <b>--check-payees</b>
                Enable strict and pedantic checking for payees as well as accounts, commodities and tags.

       <b>--cleared</b> (<b>-C</b>)
                Display only cleared postings.

       <b>--cleared-format</b> <u>FMT</u>
                Specify the format to use for the <b>cleared</b> report

       <b>--collapse</b> (<b>-n</b>)
                Print only the top level accounts.

       <b>--collapse-if-zero</b>
                Collapse the account display only if it has a zero balance.

       <b>--color</b>  Use color if the terminal supports it.  Alias for <b>--ansi</b>

       <b>--columns</b> <u>INT</u>
                Make  the <b>register</b> report <u>INT</u> characters wide.  By default <b>ledger</b> will use all available columns
                in your terminal.

       <b>--cost</b>   Report the cost basis on all posting.  Alias for <b>--basis</b>.

       <b>--count</b>  Direct <b>ledger</b> to report the number of items when appended to the <b>commodities</b>, <b>accounts</b> or <b>payees</b>
                commands.

       <b>--csv-format</b> <u>FMT</u>
                Format <b>csv</b> report according to <u>FMT</u>.

       <b>--current</b> (<b>-c</b>)
                Shorthand for <b>--limit</b> <u>'date</u> <u>&lt;=</u> <u>today'</u>.

       <b>--daily</b> (<b>-D</b>)
                Shorthand for <b>--period</b> <u>daily</u>.

       <b>--date</b> <u>EXPR</u>
                Transform the date of the transaction using <u>EXPR</u>.

       <b>--date-format</b> <u>DATEFMT</u> (<b>-y</b>)
                Print dates using <u>DATEFMT</u>.  Refer to <u><a href="../man3/strftime.3.html">strftime</a></u>(3) for details on the format string syntax.

       <b>--datetime-format</b> <u>DATETIMEFMT</u>
                Print datetimes using <u>DATETIMEFMT</u>.  Refer to  <u><a href="../man3/strftime.3.html">strftime</a></u>(3)  for  details  on  the  format  string
                syntax.

       <b>--date-width</b> <u>INT</u>
                Specify the width, in characters, of the date column in the <b>register</b> report.

       <b>--day-break</b>
                Break up <b>register</b> report of timelog entries that span multiple days by day.

       <b>--days-of-week</b>
                Group transactions by the days of the week.  Alias for <b>--dow</b>.

       <b>--dc</b>     Display  register  or balance in debit/credit format If you use <b>--dc</b> with either the <b>register</b> or
                <b>balance</b> commands, you will now get separate columns for debits and credits.

       <b>--debug</b> <u>STR</u>
                If <b>ledger</b> has been built with debug options this will provide extra data during the run.

       <b>--decimal-comma</b>
                Direct <b>ledger</b> to parse journals using the European standard comma as decimal separator,  vice  a
                period.

       <b>--depth</b> <u>INT</u>
                Limit  the depth of displayed accounts in balance and register reports.  Any accounts of greater
                depth are folded into their parent at the specified level.   For  example  with  <b>--depth</b>  <u>2</u>  the
                account  <b>Expenses:Entertainment:Dining</b>  would be folded into <b>Expenses:Entertainment</b> for display.
                Importantly, this is a display predicate, which means it only affects  display,  not  the  total
                calculations.

       <b>--detail</b>
                Related to <b>convert</b> command. Synonym to <b>--rich-data</b> option.

       <b>--deviation</b>
                Report  each  posting's  deviation  from the average.  It is only meaningful in the <b>register</b> and
                <b>prices</b> reports.

       <b>--display</b> <u>EXPR</u> (<b>-d</b>)
                Display lines that satisfy the expression <u>EXPR</u>.

       <b>--display-amount</b> <u>EXPR</u>
                Apply a transformation to the <u>displayed</u> amount.  This occurs after calculations occur.

       <b>--display-total</b> <u>EXPR</u>
                Apply a transformation to the <u>displayed</u> total.  This occurs after calculations occur.

       <b>--dow</b>    Group transactions by the days of the week.  Alias for <b>--days-of-week</b>.

       <b>--download</b>
                Cause quotes to be automagically downloaded, as needed, by running a script named  <u>getquote</u>  and
                expecting  that  script  to  return  a value understood by <b>ledger</b>.  A sample implementation of a
                <u>getquote</u> script, implemented in Perl, is provided in the distribution.  Downloaded  quote  price
                are  then  appended  to  the  price  database,  usually specified using the environment variable
                LEDGER_PRICE_DB.

       <b>--effective</b>
                Show auxiliary dates for all calculations.  Alias for <b>--aux-date</b>.

       <b>--empty</b> (<b>-E</b>)
                Include empty accounts in report.

       <b>--end</b> <u>DATE</u> (<b>-e</b>)
                Constrain the report so that transactions on or after <u>DATE</u> are not considered.

       <b>--equity</b>
                Related to the <b>equity</b> command.  Gives current account balances in the form of a register report.

       <b>--exact</b>  Report beginning and ending of periods by the date of the first and last  posting  occurring  in
                that period.

       <b>--exchange</b> "<u>COMMODITY</u> [, <u>COMMODITY,</u> <u>...</u>]" (<b>-X</b>)
                Display  values in terms of the given <u>COMMODITY</u>.  If multiple commodities are given, values in a
                listed commodity will remain as-is, and others will be displayed in the first  listed  commodity
                they can be converted to.

       <b>--file</b> <u>FILE</u> (<b>-f</b>)
                Read journal data from <u>FILE</u>.

       <b>--first</b> <u>INT</u>
                Print the first <u>INT</u> entries.  Opposite of <b>--last</b> <u>INT</u>.  Alias for <b>--head</b>.

       <b>--flat</b>   Force  the full names of accounts to be used in the balance report.  The balance report will not
                use an indented tree.

       <b>--force-color</b>
                Output TTY color codes even if the TTY  doesn't  support  them.   Useful  for  TTYs  that  don't
                advertise their capabilities correctly.

       <b>--force-pager</b>
                Force <b>ledger</b> to paginate its output.

       <b>--forecast-while</b> <u>EXPR</u>
                Continue forecasting while <u>VEXPR</u> is true.  Alias for <b>--forecast</b>.

       <b>--forecast-years</b> <u>INT</u>
                Forecast at most <u>INT</u> years into the future.

       <b>--format</b> <u>FMT</u> (<b>-F</b>)
                Use the given format string <u>FMT</u> to print output.

       <b>--gain</b> (<b>-G</b>)
                Report net gain or loss for commodities that have a price history.

       <b>--generated</b>
                Include  auto-generated  postings  (such as those from automated transactions) in the report, in
                cases where you normally wouldn't want them.

       <b>--group-by</b> <u>EXPR</u>
                Group transaction together in the <b>register</b> report.  <u>EXPR</u> can be anything, although  most  common
                would be <u>payee</u> or <u>commodity</u>.  The <b>tag</b>() function is also useful here.

       <b>--group-title-format</b> <u>FMT</u>
                Set  the  format  for  the  headers that separate reports section of a grouped report.  Only has
                effect with a <b>--group-by</b> <u>EXPR</u> register report.

       <b>--head</b> <u>INT</u>
                Print the first <u>INT</u> entries.  Opposite of <b>--tail</b> <u>INT</u>.  Alias for <b>--first</b>

       <b>--help</b>   Print this man page.

       <b>--immediate</b>
                Evaluate calculations immediately rather than lazily.

       <b>--import</b> <u>FILE</u>
                Import <u>FILE</u> as Python module.

       <b>--init-file</b> <u>FILE</u> (<b>-i</b>)
                Read <u>FILE</u> before any other <b>ledger</b> file.  This file may not contain  any  postings,  but  it  may
                contain  option  settings.   To  specify  options  in  the init file, use the same syntax as the
                command-line, but put each option on its own line.

       <b>--inject</b> <u>STR</u>
                Use <u>STR</u> amounts in calculations.  In case you know what amount a transaction should be, but  the
                actual transaction has the wrong value you can use metadata <u>STR</u> to specify the expected amount.

       <b>--input-date-format</b> <u>DATEFMT</u>
                Specify the input date format for journal entries.

       <b>--invert</b>
                Change the sign of all reported values.

       <b>--last</b> <u>INT</u>.
                Report  only  the last <u>INT</u> entries.  Opposite of <b>--first</b> <u>INT</u>.  Only useful on a register report.
                Alias for <b>--tail</b>.

       <b>--leeway</b> <u>INT</u> (<b>-Z</b>)
                Alias for <b>--price-expr</b>.

       <b>--limit</b> <u>EXPR</u> (<b>-l</b>)
                Limit postings in calculations.

       <b>--lot-dates</b>
                Report the date on which each commodity in a balance report was purchased.

       <b>--lot-notes</b>
                Report the tag attached to each commodity in a balance report.

       <b>--lot-prices</b>
                Report the price at which each commodity in a balance report was purchased.

       <b>--lots</b>   Report the date and price at which each commodity was purchased in a balance report.

       <b>--lots-actual</b>
                Preserve the uniqueness of commodities so they aren't merged during reporting  without  printing
                the lot annotations.

       <b>--market</b> (<b>-V</b>)
                Use the latest market value for all commodities.

       <b>--master-account</b> <u>STR</u>
                Prepend all account names with <u>STR</u>

       <b>--meta</b> <u>STR</u>
                In the register report, prepend the transaction with the value of the given tag <u>STR</u>.

       <b>--meta-width</b> <u>INT</u>
                Specify the width of the Meta column used for the <b>--meta</b> <u>TAG</u> options.

       <b>--monthly</b> (<b>-M</b>)
                Shorthand for <b>--period</b> <u>monthly</u>.

       <b>--no-aliases</b>
                Aliases are completely ignored.

       <b>--no-color</b>
                Suppress any color TTY output.

       <b>--no-pager</b>
                Disables the pager on TTY output.

       <b>--no-revalued</b>
                Stop <b>ledger</b> from showing &lt;Revalued&gt; postings.

       <b>--no-rounding</b>
                Don't  output "<b>&lt;Adjustment&gt;</b>" postings.  Note that this will cause the running total to often not
                add up!  Its main use is for <b>--amount-data</b> (<b>-j</b>) and <b>--total-data</b> (<b>-J</b>) reports.

       <b>--no-titles</b>
                Suppress the output of group titles.

       <b>--no-total</b>
                Suppress printing the final total line in a balance report.

       <b>--now</b> <u>DATE</u>
                Use <u>DATE</u> as the current date.  This affects the output when using <b>--period</b>, <b>--begin</b>,  <b>--end</b>,  or
                <b>--current</b> to decide which dates lie in the past or future.

       <b>--only</b> <u>EXPR</u>
                This  is  a postings predicate that applies after certain transforms have been executed, such as
                periodic gathering.

       <b>--options</b>
                Display the options in effect for this <b>ledger</b> invocation, along with their values and the source
                of those values.

       <b>--output</b> <u>FILE</u> (<b>-o</b>)
                Redirect the output of <b>ledger</b> to <u>FILE</u>.

       <b>--pager</b> <u>STR</u>
                Use <u>STR</u> as the pager program.

       <b>--payee</b>  Sets a value expression for formatting the payee.  In the  <b>register</b>  report  this  prevents  the
                second entry from having a date and payee for each transaction.

       <b>--payee-width</b> <u>INT</u>
                Set the number of columns dedicated to the payee in the register report to <u>INT</u>.

       <b>--pedantic</b>
                Accounts, tags or commodities not previously declared will cause errors.

       <b>--pending</b>
                Use only postings that are marked pending.

       <b>--percent</b> (<b>-%</b>)
                Calculate  the  percentage  value  of each account in a balance reports.  Only works for account
                that have a single commodity.

       <b>--period</b> <u>PERIOD</u> (<b>-p</b>)
                Define a period expression that sets the  time  period  during  which  transactions  are  to  be
                accounted.   For a <b>register</b> report only the transactions that satisfy the period expression with
                be displayed.  For a balance report only those transactions  will  be  accounted  in  the  final
                balances.

       <b>--period-sort</b>
                Sort the posting within transactions using the given value expression.

       <b>--permissive</b>
                Quiet balance assertions.

       <b>--pivot</b> <u>TAG</u>
                Produce a balance pivot report "around" the given <u>TAG</u>.

       <b>--plot-amount-format</b> <u>FMT</u>
                Define the output format for an amount data plot.

       <b>--plot-total-format</b> <u>FMT</u>
                Define the output format for a total data plot.

       <b>--prepend-format</b> <u>FMT</u>
                Prepend <u>FMT</u> to every line of the output.

       <b>--prepend-width</b> <u>INT</u>
                Reserve <u>INT</u> spaces at the beginning of each line of the output.

       <b>--price</b> (<b>-I</b>)
                Use the price of the commodity purchase for performing calculations.

       <b>--price-db</b> <u>FILE</u>

       <b>--price-exp</b> <u>STR</u> (<b>-Z</b>)
                Set  the  expected  freshness of price quotes, in <u>INT</u> minutes.  That is, if the last known quote
                for any commodity is older than this value, and if <b>--download</b> is being used, then  the  Internet
                will  be  consulted again for a newer price.  Otherwise, the old price is still considered to be
                fresh enough.  Alias for <b>--leeway</b>.

       <b>--prices-format</b> <u>FMT</u>
                Set the format for the <b>prices</b> report.

       <b>--pricedb-format</b> <u>FMT</u>
                Set the format expected for the historical price file.

       <b>--primary-date</b>
                Show primary dates for all calculations.  Alias for <b>--actual-dates</b>

       <b>--quantity</b> (<b>-O</b>)
                Report commodity totals (this is the default).

       <b>--quarterly</b>
                Shorthand for <b>--period</b> <u>quarterly</u>.

       <b>--raw</b>    In the <b>print</b> report, show transactions using the exact same syntax as specified by the  user  in
                their  data  file.   Don't  do any massaging or interpreting.  Can be useful for minor cleanups,
                like just aligning amounts.

       <b>--real</b> (<b>-R</b>)
                Account using only real transactions ignoring virtual and automatic transactions.

       <b>--recursive-aliases</b>
                Causes <b>ledger</b> to try to expand aliases recursively, i.e. try to expand the result of an  earlier
                expansion again, until no more expansions apply.

       <b>--register-format</b> <u>FMT</u>
                Define the output format for the <b>register</b> report.

       <b>--related</b> (<b>-r</b>)
                In a register report show the related account.  This is the other <u>side</u> of the transaction.

       <b>--related-all</b>
                Show  all  postings  in  a  transaction,  similar  to  <b>--related</b>  but  show  both  sides of each
                transaction.

       <b>--revalued</b>
                Report discrepancy in values for manual reports  by  inserting  &lt;Revalued&gt;  postings.   This  is
                implied when using the <b>--exchange</b> (<b>-X</b>) or <b>--market</b> (<b>-V</b>) option.

       <b>--revalued-only</b>
                Show only &lt;Revalued&gt; postings.

       <b>--revalued-total</b>
                Display  the  sum of the revalued postings as the running total, which serves to show unrealized
                capital in a gain/losses report.

       <b>--rich-data</b>
                When generating a ledger transaction from a  CSV  file  using  the  <b>convert</b>  command,  add  CSV,
                Imported, and UUID meta-data.

       <b>--seed</b> <u>INT</u>
                Set the random seed to <u>INT</u> for the <b>generate</b> command.  Used as part of development testing.

       <b>--script</b> <u>FILE</u>
                Execute a <b>ledger</b> script.

       <b>--sort</b> <u>EXPR</u> (<b>-S</b>)
                Sort the register report based on the value expression <u>EXPR</u>.

       <b>--sort-xacts</b>
                Sort the posting within transactions using the given value expression.

       <b>--start-of-week</b> <u>STR</u>
                Use  <u>STR</u>  as the particular day of the week to start when using the <b>--weekly</b> option.  <u>STR</u> can be
                day names, their abbreviations like "Mon", or the weekday number starting at 0 for Sunday.

       <b>--strict</b>
                Accounts, tags or commodities not previously declared will cause warnings.

       <b>--subtotal</b> (<b>-s</b>)
                Report register as a single subtotal.

       <b>--tail</b> <u>INT</u>
                Report only the last <u>INT</u> entries.  Only useful on a register report.  Alias for <b>--last</b> <u>INT</u>

       <b>--time-colon</b>
                Display the value for commodities based on seconds as hours and minutes.   Thus  8100s  will  be
                displayed as 2:15h instead of 2.25h.

       <b>--time-report</b>
                Add  two  columns  to  the  <b>balance</b>  report  to show the earliest checkin and checkout times for
                timelog entries.

       <b>--total</b> <u>EXPR</u> (<b>-T</b>)
                Define a value expression used to calculate the total in reports.

       <b>--total-data</b> (<b>-J</b>)
                Show only dates and totals to format the output for plots.

       <b>--total-width</b> <u>INT</u>
                Set the width of the total field in the register report.

       <b>--trace</b> <u>INT</u>
                Enable tracing.  The <u>INT</u> specifies the level of trace desired.

       <b>--truncate</b> <u>STR</u>
                Indicates how truncation should happen when the contents of columns exceed their  width.   Valid
                arguments  for  <u>STR</u> are <u>leading</u>, <u>middle</u>, and <u>trailing</u>.  The default is smarter than any of these
                three, as it considers sub-names within the account name (that style is called "abbreviate").

       <b>--unbudgeted</b>
                Show only un-budgeted postings.

       <b>--uncleared</b> (<b>-U</b>)
                Use only uncleared transactions in calculations and reports.

       <b>--unrealized</b>
                Show generated unrealized gain and loss accounts in the balance report.

       <b>--unrealized-gains</b>
                Allow the user to specify what account name should be used for unrealized  gains.   Defaults  to
                <b>Equity:Unrealized</b> <b>Gains</b>.  Often set in one's init file to change the default.

       <b>--unrealized-losses</b>
                Allow  the  user to specify what account name should be used for unrealized losses.  Defaults to
                <b>Equity:Unrealized</b> <b>Losses</b>.  Often set in one's init file to change the default.

       <b>--unround</b>
                Perform all calculations without rounding and display results to full precision.

       <b>--values</b>
                Show the values used by each tag when used in combination with the <b>tags</b> command.

       <b>--value-expr</b> <u>EXPR</u>
                Set a global value expression annotation.

       <b>--verbose</b>
                Print detailed information on the execution of <b>ledger</b>.

       <b>--verify</b>
                Enable additional assertions  during  run-time.   This  causes  a  significant  slowdown.   When
                combined with <b>--debug</b> <u>CODE</u> <b>ledger</b> will produce memory trace information.

       <b>--verify-memory</b>
                Verify  that  every  constructed  object is properly destructed.  This is for debugging purposes
                only.

       <b>--version</b>
                Print version information and exit.

       <b>--weekly</b> (<b>-W</b>)
                Shorthand for <b>--period</b> <u>weekly</u>.

       <b>--wide</b> (<b>-w</b>)
                Assume 132 columns instead of the TTY width.

       <b>--yearly</b> (<b>-Y</b>)
                Shorthand for <b>--period</b> <u>yearly</u>.

</pre><h4><b>PRE-COMMANDS</b></h4><pre>
       Pre-commands are useful when you aren't sure how a command or option will work.  The difference between a
       pre-command and a regular command is that pre-commands ignore the journal data file  completely,  nor  is
       the user's init file read.

       <b>args</b> / <b>query</b>
                Evaluate  the  given  arguments  and report how <b>ledger</b> interprets it against the following model
                transaction:

                      2004/05/27 Book Store
                          ; This note applies to all postings. :SecondTag:
                          Expenses:Books                 20 BOOK @ $10
                          ; Metadata: Some Value
                          ; Typed:: $100 + $200
                          ; :ExampleTag:
                          ; Here follows a note describing the posting.
                          Liabilities:MasterCard        $-200.00

       <b>eval</b>     Evaluate the given value expression against the model transaction.

       <b>format</b>   Print details of how <b>ledger</b> uses the given formatting description and apply it against  a  model
                transaction.

       <b>parse</b> / <b>expr</b>
                Print  details  of how <b>ledger</b> uses the given value expression description and apply it against a
                model transaction.

       <b>generate</b>
                Randomly generates syntactically valid <b>ledger</b> data from  a  seed.   Used  by  the  GenerateTests
                harness for development testing.

       <b>period</b>   Evaluate the given period and report how <b>ledger</b> interprets it.

       <b>template</b>
                Shows the insertion template that the <b>xact</b> command generates.  This is a debugging command.

</pre><h4><b>QUERIES</b></h4><pre>
       The  syntax  for  reporting  queries  can  get  somewhat  complex.  It is a series of query terms with an
       implicit OR operator between them.  The following terms are accepted:

       <u>regex</u>          A bare string is taken as a regular expression (PCRE)  matching  the  full  account  name.
                      Thus, to report the current balance for all assets and liabilities, you would use:

                            <b>ledger</b> <b>bal</b> <b>asset</b> <b>liab</b>

       <b>payee</b> <u>regex</u> (<b>@</b><u>regex</u>)
                      Query on the payee, rather than the account.

       <b>tag</b> <u>regex</u> (<b>%</b><u>regex</u>)
                      Query on tags.

       <b>note</b> <u>regex</u> (<b>=</b><u>regex</u>)
                      Query on anything found in an item's note.

       <b>code</b> <u>regex</u> (<b>#</b><u>regex</u>)
                      Query on the xact's optional code (which can be any string the user wishes).

       <u>term</u> <b>and</b> <u>term</u>  Query  terms  are  joined by an implicit OR operator.  You can change this to AND by using
                      the <b>and</b> keyword.  For example, to show food expenditures occurring at Shakee's Pizza,  you
                      could say:

                            <b>ledger</b> <b>reg</b> <b>food</b> <b>and</b> <b>@Shakee</b>

       <u>term</u> <b>or</b> <u>term</u>   When you wish to be more explicit, use the OR operator.

       <b>show</b>

       <b>not</b> <u>term</u>       Reverse  the  logical meaning of the following term.  This can be used with parentheses to
                      great effect:

                            <b>ledger</b> <b>reg</b> <b>food</b> <b>and</b> <b>@Shakee</b> <b>and</b> <b>not</b> <b>dining</b>

       ( <u>term</u> )       If you wish to mix OR and AND operators, it is often helpful  to  surround  logical  units
                      with  parentheses.  <b>NOTE</b>: Because of the way some shells interpret parentheses, you should
                      always escape them:

                            <b>ledger</b> <b>bal</b> <b>\(</b> <b>assets</b> <b>or</b> <b>liab</b> <b>\)</b> <b>and</b> <b>not</b> <b>food</b>

</pre><h4><b>EXPRESSIONS</b></h4><pre>
       <b>abs</b>(<u>value</u>)       Return the absolute value of the given <u>value</u>.

       <b>account</b>          Return the posting's account.

       <b>account_base</b>     Return the base account, i.e. everything after the last account delimiter ':'.

       <b>actual</b>           Return true if the transaction is real, i.e not an  automated  or  virtual  transaction,
                        false otherwise.

       <b>amount</b>           Return the amount of the posting.

       <b>amount_expr</b>      Return the calculated amount of the posting according to the <b>--amount</b> option.

       <b>ansify_if</b>(<u>value</u>, <u>color</u>, <u>bool</u>)
                        Render  the given <u>value</u> as a string, applying the proper ANSI escape codes to display it
                        in the given <u>color</u> if <u>bool</u> is true.   It  typically  checks  the  value  of  the  option
                        <b>--color</b>, for example:
                              <b>ansify_if(amount,</b> <b>blue</b>, <b>options.color)</b>

       <b>beg_line</b>         Line number where entry for posting begins.

       <b>beg_pos</b>          Character position where entry for posting begins.

       <b>ceiling</b>(<u>value</u>)   Return the next integer of <u>value</u> toward +infinity.

       <b>cleared</b>          Return true if the posting was cleared, false otherwise.

       <b>code</b>             Return the transaction code, the string between the parenthesis after the date.

       <b>commodity</b>(<u>value</u>)
                        Return the commodity of <u>value</u> or the posting amount when <u>value</u> was not specified.

       <b>date</b>             Return the date of the posting.

       <b>end_line</b>         Line number where entry for posting ends.

       <b>end_pos</b>          Character position where entry for posting ends.

       <b>floor</b>(<u>value</u>)     Return the next integer of <u>value</u> toward -infinity.

       <b>filename</b>         The name of the <b>ledger</b> data file from whence the posting came.

       <b>format</b>(<u>string</u>)   Evaluate <u>string</u> as format just like the <b>--format</b> option.

       <b>format_date</b>(<u>date</u>, <u>format</u>)
                        Return  the  <u>date</u>  as  a  string  using  <u>format</u>.  Refer to <u><a href="../man3/strftime.3.html">strftime</a></u>(3) for format string
                        details.

       <b>format_datetime</b>(<u>datetime</u>, <u>format</u>)
                        Return the <u>datetime</u> as a string using <u>format</u>.  Refer to <u><a href="../man3/strftime.3.html">strftime</a></u>(3)  for  format  string
                        details.

       <b>get_at</b>(<u>seq</u>, <u>index</u>)
                        Return value at <u>index</u> from <u>seq</u>.  Used internally to construct different reports.

       <b>has_meta</b>(<u>tag</u>)    Return true if the posting has metadata named <u>tag</u>, false otherwise.

       <b>has_tag</b>(<u>tag</u>)     Return true if the posting has metadata named <u>tag</u>, false otherwise.

       <b>is_seq</b>(<u>value</u>)    Return true if <u>value</u> is a sequence. Used internally.

       <b>join</b>(<u>value</u>)      Replace all newlines in <u>value</u> with <b>\n</b>.

       <b>justify</b>(<u>value</u>, <u>first_width</u>, <u>latter_width</u>, <u>right_justify</u>, <u>colorize</u>)
                        Right  or  left  justify  the  string representing <u>value</u>.  The width of the field in the
                        first line is given by  <u>first_width</u>.   For  subsequent  lines  the  width  is  given  by
                        <u>latter_width</u>.    If  <u>latter_width</u>  is  -1,  <u>first_width</u>  is  used  for  all  lines.   If
                        <u>right_justify</u> is true then the field is right justified within the width of  the  field.
                        If  it  is  false,  then the field is left justified and padded to the full width of the
                        field.  If <u>colorize</u> is true, then ledger will honor color settings.

       <b>market</b>(<u>value</u>, <u>datetime</u>)
                        Return the price of <u>value</u> at  <u>datetime</u>.   Note  that  <u>datetime</u>  must  be  surrounded  by
                        brackets in order to be parsed correctly, e.g.  [2012/03/23].

       <b>meta</b>(<u>name</u>)       Return the value of metadata named <u>name</u>.

       <b>note</b>             Return the note for the posting.

       <b>now</b>              Return the current datetime.

       <b>options</b>          A  variable that allows access to the values of the given command-line options using the
                        long option names, e.g. to see whether <b>--daily</b> (<b>-D</b>) was given use <b>option.daily</b>.

       <b>payee</b>            Return the payee of the posting.

       <b>percent</b>(<u>value_a</u>, <u>value_b</u>)
                        Return the percentage of <u>value_a</u> in relation to <u>value_b</u> (used as 100%).

       <b>pending</b>          Return true if the posting is marked as pending, false otherwise.

       <b>percent</b>(<u>value_a</u>, <u>value_b</u>)
                        Return the percentage of <u>value_a</u> in relation to <u>value_b</u>.

       <b>print</b>(<u>value</u>)     Print <u>value</u> to stdout.  Used internally for debugging.

       <b>quantity</b>(<u>value</u>)  Return the quantity of <u>value</u> for values that have a per-unit cost.

       <b>quoted</b>(<u>expression</u>)
                        Surround <u>expression</u> with double quotes.

       <b>quoted_rfc</b>(<u>expression</u>)
                        Surround <u>expression</u> with double quotes, compliant with rfc 4180.

       <b>real</b>             Return true if the transaction is real, i.e not an  automated  or  virtual  transaction,
                        false otherwise.

       <b>roundto</b>(<u>value</u>, <u>n</u>)
                        Return <u>value</u> rounded to <u>n</u> digits.  Does not affect formatting.

       <b>should_bold</b>      Return true if expression given to <b>--bold-if</b> evaluates to true.  Internal use only!

       <b>scrub</b>(<u>value</u>)     Clean  <u>value</u>  using  various transformations such as round, stripping value annotations,
                        and more.

       <b>strip</b>(<u>value</u>)     Strip value annotation from <u>value</u>.

       <b>tag</b>(<u>name</u>)        Return the value of tag named <u>name</u>.

       <b>to_amount</b>(<u>value</u>)
                        Convert <u>value</u> to an amount.  Internal use only!

       <b>to_balance</b>(<u>value</u>)
                        Convert <u>value</u> to a balance.  Internal use only!

       <b>to_boolean</b>(<u>value</u>)
                        Convert <u>value</u> to a boolean.  Internal use only!

       <b>to_date</b>(<u>value</u>)   Convert <u>value</u> to a date.  Internal use only!

       <b>to_datetime</b>(<u>value</u>)
                        Convert <u>value</u> to a datetime.  Internal use only!

       <b>to_int</b>(<u>value</u>)    Return the integer value for <u>value</u>.

       <b>to_mask</b>(<u>value</u>)   Convert <u>value</u> to a mask.  Internal use only!

       <b>to_sequence</b>(<u>value</u>)
                        Convert <u>value</u> to a sequence.  Internal use only!

       <b>to_string</b>(<u>value</u>)
                        Convert <u>value</u> to a character string.

       <b>today</b>            Return today's date.

       <b>total</b>            Return the total of the posting.

       <b>total_expr</b>       Return the calculated total of the posting according to the <b>--total</b> option.

       <b>trim</b>(<u>value</u>)      Trim leading and trailing whitespace from <u>value</u>.

       <b>truncated</b>(<u>string</u>, <u>total_len</u>, <u>account_len</u>)
                        Truncate <u>string</u> to <u>total_len</u> ensuring that each account is at least <u>account_len</u> long.

       <b>virtual</b>          Return true if the transaction is virtual, e.g automated, false otherwise.

</pre><h4><b>DEBUG</b> <b>COMMANDS</b></h4><pre>
       In addition to the regular reporting commands, <b>ledger</b> also accepts several debug commands:

       <b>args</b> [<u>report-query</u>]
                Display complete analysis of how <b>ledger</b> interpreted the given <u>report-query</u>.  Useful if you  want
                to understand how report queries are translated into value expressions.

       <b>eval</b> [<u>value-expression</u>]
                Evaluate  the  given <u>value-expression</u> and prints the result.  For more on value expressions, see
                the section “EXPRESSIONS”.

       <b>format</b> [<u>format-string</u>]
                Display an analysis of how <u>format-string</u> was parsed, and what it would look like  applied  to  a
                sample transaction.  For more on format strings, see the section “FORMATS”.

       <b>generate</b>
                Generate 50 randomly composed yet valid <b>ledger</b> transactions.

       <b>parse</b> [<u>value-expression</u>]
                Parse  the  given  <u>value-expression</u>  and  display  an  analysis  of  the expression tree and its
                evaluated value.  For more on value expressions, see the section “EXPRESSIONS”.

       <b>python</b> [<u>file</u>]
                Invoke a Python interpreter to read the given <u>file</u>.  What is special  about  this  is  that  the
                <b>ledger</b>  module  is  builtin,  not  read  from disk, so it doesn't require <b>ledger</b> to be installed
                anywhere, or the shared library variants to be built.

       <b>reload</b>   Reload all data files for the current session immediately.  Can only be used in the REPL.

       <b>template</b> [<u>draft-template</u>]
                Display information about how <u>draft-template</u> was parsed.  See the section on “DRAFTS”.

</pre><h4><b>ENVIRONMENT</b></h4><pre>
       Every option to <b>ledger</b> may be set using an environment variable if the  option  has  a  long  name.   For
       example  setting  the  environment  variable  LEDGER_DATE_FORMAT="%d.%m.%Y"  will have the same effect as
       specifying <b>--date-format</b> <u>'%d.%m.%Y'</u> on  the  command-line.   Options  on  the  command-line  always  take
       precedence over environment variable settings, however.

</pre><h4><b>FILES</b></h4><pre>
       <u>$XDG_CONFIG_HOME/ledger/ledgerrc</u>

       <u><a href="file:~/.config/ledger/ledgerrc">~/.config/ledger/ledgerrc</a></u>

       <u><a href="file:~/.ledgerrc">~/.ledgerrc</a></u>
                Your personal <b>ledger</b> initializations.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <u><a href="../man1/beancount.1.html">beancount</a></u>(1), <u><a href="../man1/hledger.1.html">hledger</a></u>(1)

       The full documentation for <b>ledger</b> is maintained as a Texinfo manual.  If the <b>info</b> program is installed on
       your system, the command
             <b>info</b> <b>ledger3</b>
       should give you access to the complete manual.

</pre><h4><b>AUTHORS</b></h4><pre>
       John Wiegley ⟨<a href="mailto:johnw@newartisans.com">johnw@newartisans.com</a>⟩

Debian                                           March 15, 2019                                        <u><a href="../man1/LEDGER.1.html">LEDGER</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>