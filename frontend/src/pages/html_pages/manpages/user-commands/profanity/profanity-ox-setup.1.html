<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Profanity - a simple console based XMPP chat client.</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/profanity-light">profanity-light_0.14.0-3build1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       Profanity - a simple console based XMPP chat client.

</pre><h4><b>DESCRIPTION</b></h4><pre>
       This man page is intended to help you set up XEP-0374: OpenPGP for XMPP Instant Messaging.  Also known as
       OX.

       For details on usage see man profanity-ox or /help ox.

       Profanity  wants  to  give the user a maximum freedom in setting up their system.  So we won’t touch your
       GPG settings directly.  Which means you will need to do some manual steps.  They are described here

</pre><h4><b>Generate</b> <b>OpenPGP</b> <b>key</b> <b>materials</b></h4><pre>
       The first step is to create a OpenPGP key pair.  The key pair  generation  will  be  done  with  the  gpg
       command of GnuPG.

              gpg --quick-generate-key xmpp:<a href="mailto:alice@domain.tld">alice@domain.tld</a> future-default default 3y

       This  command  will  generated a OpenPGP key with a UID xmpp:<a href="mailto:alice@domain.tld">alice@domain.tld</a>.  The option future-default
       has been used to generate a ed25519/cv25519 key.  The key is set to expire in threeyears.

       Replace the Jabber ID with your JID and do <b>not</b> forget the URI xmpp: prefix.

       Example output:

              pub   ed25519 2021-09-21 [SC] [verfällt: 2024-09-20]
                    583BAE703A801095B6B71A56BD801174B1A0B84A
              uid                      xmpp:<a href="mailto:alice@domain.tld">alice@domain.tld</a>
              sub   cv25519 2021-09-21 [E]

</pre><h4><b>Export</b> <b>your</b> <b>public</b> <b>key</b></h4><pre>
       You need to export your public key so you can later upload it into a PEP node.  It’s just a way how  your
       chat partners can retrieve the public key from you.  Use the command below to export public key:

       Example command:

              gpg --export \
                --export-options export-minimal \
                --export-filter 'keep-uid=uid =~ xmpp:<a href="mailto:alice@domain.tld">alice@domain.tld</a>' \
                --export-filter 'drop-subkey=usage =~ a' \
                583BAE703A801095B6B71A56BD801174B1A0B84A \
                &gt; /tmp/pep-key.gpg

       The key will be exported to /tmp/pep-key.gpg.  You may check the key with the command below:

       gpg --show-key --with-sig-list /tmp/pep-key.gpg

       Keep in mind: Public keys may have some information (signatures, name, e-mail address).  Be careful which
       data  will be exported.  The export-options and export-filter option of GnuPG will help you to filter the
       data.

</pre><h4><b>Publish</b> <b>your</b> <b>key</b></h4><pre>
       You can use profanity to publish your exported key into your account (PEP).   The  /ox  announce  command
       will publish your key.

              /ox announce /tmp/pep-key.gpg - the Profanity /ox announce /tmp/pep-key.gpg command.

       The command will create two PEP node records to store the key.

</pre><h4><b>Discover</b> <b>keys</b></h4><pre>
       To discover public keys of your partners use the /ox discover command.

       Example output:

              /ox discover <a href="mailto:buddy@domain.tld">buddy@domain.tld</a>
              Discovering Public Key for <a href="mailto:buddy@domain.tld">buddy@domain.tld</a>
              1234567890ABCDEF1234567890ABCDEF12345678

       To request and import a key, you can use the /ox request command.

              /ox request <a href="mailto:buddy@domain.tld">buddy@domain.tld</a> 1234567890ABCDEF1234567890ABCDEF12345678
              Requesting Public Key 1234567890ABCDEF1234567890ABCDEF12345678 for <a href="mailto:buddy@domain.tld">buddy@domain.tld</a>
              Public Key imported

       The key will be imported into your gnupg keyring.

</pre><h4><b>Sign</b> <b>the</b> <b>imported</b> <b>key</b></h4><pre>
       The  key can been shown via gpg gpg -k xmpp:<a href="mailto:buddy@domain.tld">buddy@domain.tld</a>.  Make sure the key is the key of your buddy
       and sign the key with your key.

              gpg --ask-cert-level --default-key 583BAE703A801095B6B71A56BD801174B1A0B84A --sign-key 1234567890ABCDEF1234567890ABCDEF12345678

       The command /ox contacts will show the keys with XMPP-UID.  The command /ox  keys  will  show  all  known
       OpenPGP keys.

       Only once you signed the key you can actually use OX with your partner.

</pre><h4><b>Use</b> <b>OX</b></h4><pre>
       Within a chat window you can start OX via /ox start and stop it via /ox end.

       Messages will be send signed and encrypted.

0.14.0                                             2023-08-03                                             <u><a href="../man1/man.1.html">man</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>