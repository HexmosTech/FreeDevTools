<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>djvuserve - Generate indirect DjVu documents on the fly.</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/djvuserve">djvuserve_3.5.28-2ubuntu0.25.04.1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       djvuserve - Generate indirect DjVu documents on the fly.

</pre><h4><b>DESCRIPTION</b></h4><pre>
       Program  <b>djvuserve</b>  is  a  CGI  program that can be executed by a HTTP server for serving DjVu documents.
       This program is able to convert a bundled multi-page document into an indirect document on the fly.

</pre><h4><b>USING</b> <b>DJVUSERVE</b></h4><pre>
       Program <b>djvuserve</b> must first be installed as a CGI program for your web server.  There are  several  ways
       to  achieve  this.    The  Apache  web  server,  for instance, often defines a specific directory for CGI
       programs using the <b>ScriptAlias</b> directive.  Assume that the file <b>httpd.conf</b> contains the following line:

          <b>ScriptAlias</b> <b>/cgi–bin/</b> <u>"/var/www/cgi–bin"</u>

       It is then sufficient to create a small executable shell script <u>/var/www/cgi–bin/</u><b>djvuserve</b> containing the
       following lines:

          <b>#!<a href="file:/bin/sh">/bin/sh</a></b>
          <b>exec</b> <u>/full/path/to/</u><b>djvuserve</b>

       Suppose that a large bundled multi-page DjVu document is available at the following URL.

          <u><a href="http://server/dir/doc.djvu">http://server/dir/doc.djvu</a></u>

       The CGI program <b>djvuserve</b> lets you access this same document as  an  indirect  multi-page  DjVu  document
       using the following URL.

          <u><a href="http://server">http://server</a></u><b>/cgi–bin/djvuserve/</b><u>dir/doc.djvu</u><b>/index.djvu</b>

       Serving  indirect  multi-page  DjVu  documents  provides  for efficiently browsing large document without
       transferring unnecessary pages over the network.  See <b><a href="../man1/djvu.1.html">djvu</a>(1)</b> for more information.

       Furthermore <b>djvuserve</b> searches certain keywords among the CGI arguments of the URL.  The keyword  <b>bundled</b>
       forces serving a bundled document using

          <u><a href="http://server">http://server</a></u><b>/cgi–bin/djvuserve/</b><u>dir/doc.djvu</u><b>?bundled</b>

       The  keyword  <b>download</b>  inserts  a content disposition HTTP header that suggests to display a save dialog
       instead of displaying the document.

          <u><a href="http://server">http://server</a></u><b>/cgi–bin/djvuserve/</b><u>dir/doc.djvu</u><b>?download</b>

</pre><h4><b>USING</b> <b>DJVUSERVE</b> <b>AS</b> <b>A</b> <b>HANDLER</b></h4><pre>
       The Apache web server provides a way to automatically execute <b>djvuserve</b> for all DjVu documents.  This can
       be achieved using the following directives in either the  Apache  configuration  file  or  the  <b>.htaccess</b>
       files.

          <b>Action</b> <b>djvu-server</b> <b>/cgi–bin/djvuserve/</b>
          <b>AddHandler</b> <b>djvu-server</b> <b>.djvu</b>

       Apache then executes program <b>djvuserve</b> for serving all DjVu files.  Providing the URL of DjVu file serves
       this  DjVu  file as usual, except that bundled multipage documents are converted to indirect documents on
       the fly.  This convenience comes at the expense of the computational cost of executing <b>djvuserve</b> whenever
       a DjVu file is requested.

</pre><h4><b>TECHNICAL</b> <b>DETAILS</b></h4><pre>
       Program <b>djvuserve</b> provides a mean to directly access any component of a bundled multi-page DjVu  document
       can  be  accessed  using  an  extended URL.  Suppose that the component file representing page 1 is named
       <b>p0001.djvu</b>.  The following URL provides a direct access to this page:

          <u><a href="http://server">http://server</a></u><b>/cgi–bin/djvuserve/</b><u>dir/doc.djvu</u><b>/p0001.djvu</b>

       It is preferred  however  to  access  individual  pages  using  the  <b>CGI</b>  style  arguments  described  in
       <b><a href="../man1/nsdejavu.1.html">nsdejavu</a></b>(1), as in the following URL.

          <u><a href="http://server">http://server</a></u><b>/cgi–bin/djvuserve/</b><u>dir/doc.djvu</u><b>?djvuopts&amp;page=12</b>

       The  special component file name <b>index.djvu</b> is recognized as a request for the index of the corresponding
       indirect multi-page document.  In fact, when you access a bundled document using <b>djvuserve</b>,  the  browser
       gets redirected to the following URL:

          <u><a href="http://server">http://server</a></u><b>/cgi–bin/djvuserve/</b><u>dir/doc.djvu</u><b>/index.djvu</b>

       and  then  behaves  as  if  the bundled file was a directory containing the various component files of an
       equivalent indirect document.

</pre><h4><b>ACCESS</b> <b>CONTROL</b></h4><pre>
       Program <b>djvuserve</b>, like many CGI programs, bypasses a number of access protections established in  a  web
       server.   Assume  for  instance  that your web site contains DjVu files protected by a password.  Program
       <b>djvuserve</b> knows nothing about this protection and will happily serve any  DjVu  file  associated  with  a
       valid URL.

       Access control with <b>djvuserve</b> can be implemented by first remembering that the web server always executes
       program <b>djvuserve</b> via shell script <u>/var/www/cgi–bin/</u><b>djvuserve.</b>

       This  script  can  decide  to  execute  the  real  program  <b>djvuserve</b> on the basis of the target filename
       available in the environment variable PATH_TRANSLATED.

       There can be several such scripts providing access to various collections of DjVu files.  Each  of  these
       scripts can be password protected using the usual methods supported by your web server.

</pre><h4><b>KNOWN</b> <b>BUGS</b></h4><pre>
       Hyperlinks  specified  using  a relative URL may not work with <b>djvuserve.</b>  These URLs are relative to the
       URL of the DjVu document. Yet <b>djvuserve</b> changes the apparent document URL <u><a href="http://server/dir/doc.djvu">http://server/dir/doc.djvu</a></u> into
       the more complicated URL <u><a href="http://server">http://server</a></u><b>/cgi–bin/djvuserve/</b><u>dir/doc.djvu</u><b>/index.djvu.</b>  The  extra  components
       change the interpretation of relative URLs.

</pre><h4><b>CREDITS</b></h4><pre>
       This program was written by Leon Bottou &lt;<a href="mailto:leonb@users.sourceforge.com">leonb@users.sourceforge.com</a>&gt;.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man1/djvu.1.html">djvu</a></b>(1), <b><a href="../man1/djvmcvt.1.html">djvmcvt</a></b>(1), <b><a href="../man1/nsdejavu.1.html">nsdejavu</a></b>(1)

DjVuLibre-3.5                                      01/22/2002                                       <u><a href="../man1/DJVUSERVE.1.html">DJVUSERVE</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>