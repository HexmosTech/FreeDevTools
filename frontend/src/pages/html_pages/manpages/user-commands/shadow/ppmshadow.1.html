<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ppmshadow - add simulated shadows to a PPM image</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/netpbm">netpbm_11.09.02-2_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       ppmshadow - add simulated shadows to a PPM image

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>ppmshadow</b> [<b>-b</b> <u>blur_size</u>] [<b>-k</b>] [<b>-t</b>] [<b>-x</b> <u>xoffset</u>] [<b>-y</b> <u>yoffset</u>] [<u>ppmfile</u>]

</pre><h4><b>DESCRIPTION</b></h4><pre>
       This program is part of <b><a href="../man1/Netpbm.1.html">Netpbm</a></b>(1).

       <b>ppmshadow</b> adds a simulated shadow to an image, giving the appearance that the contents of the image float
       above  the  page,  casting  a  diffuse shadow on the background.  Shadows can either be black, as cast by
       opaque objects, or translucent, where the shadow takes on the color of the object which  casts  it.   You
       can specify the crispness of the shadow and its displacement from the image with command line options.

       <b>ppmshadow</b>  sees  your  image as a foreground on a background.  The background color is whatever color the
       top left pixel of your image is.  The background is all the pixels that are that color and the foreground
       is everything else.  The shadow that <b>ppmshadow</b> generates is a shadow  of  the  foreground,  cast  on  the
       background.

       The  shadow  is the same size as the foreground, plus some fringes as determined by the <b>-b</b> option.  It is
       truncated to fit in your image.  The output image is the same dimensions as the input image.

       You can use <b>pamcomp</b> to place a foreground image over a background before running <b>ppmshadow</b>  on  it.   You
       can use <b>ppmmake</b> to make the background image (just an image of a solid color).

       The output has the same dimensions and maxval as the input.

       The  blurring  to  make  the  fringes  of  the shadow will not have a desirable effect if the color depth
       (maxval) of the image is too low -- you need a high maxval to get all  the  shades  needed  to  create  a
       smooth  gradient.   So  if  your  input has low maxval (including most notably if the input is PBM, which
       means its maxval is 1), run it through <b>pamdepth</b> to raise its maxval.  255 is usually a good choice.

       Input is a PPM file named by the <u>ppmfile</u> command line argument; if you don't specify <u>ppmfile</u>,  the  input
       is Standard Input.

       The output is a PPM file, written to Standard Output.

</pre><h4><b>OPTIONS</b></h4><pre>
       <b>ppmshadow</b> recognizes the following command line options:

       <b>-b</b> <u>blur_size</u>
              Sets the distance of the light source from the image.  Larger values move the light source closer,
              casting  a  more  diffuse  shadow,  while smaller settings move the light further away, yielding a
              sharper shadow.  <u>blur_size</u> is the number of pixels of fringe there is on the shadow, beyond  where
              the shadow would be if there were no blurring.

              The default is 11 pixels.

              Note  that  this option controls only the fringing effect of moving the light source closer to the
              object.  It does not make the shadow grow or shrink as would happpen in  the  real  world  if  you
              moved a point light source closer to and further from an object.

       <b>-k</b>     Keep  the  intermediate  temporary  image files.  When debugging, these intermediate files provide
              many clues as to the source of an error.  See below  for a list of the contents of each file.

       <b>-t</b>     Consider the non-background material in the image translucent -- it casts shadows of its own color
              rather than a black shadow, which is default.  This  often  results  in  fuzzy,  difficult-to-read
              images but in some circumstances may look better.

       <b>-x</b> <u>xoffset</u>
              Specifies  the  displacement  of  the  light  source to the left of the image.  Larger settings of
              <b>xoffset</b> displace the shadow to the right, as would be cast by a light further to the left.  If not
              specified, the horizontal offset is half of <u>blur_size</u>  (above), to the left.

       <b>-y</b> <u>yoffset</u>
               Specifies the displacement of the light source above the  top  of  the  image.   Larger  settings
              displace  the  shadow  downward,  corresponding  to  moving the light further above the top of the
              image.  If you don't specify <b>-y</b>, the vertical offset defaults to the same as the horizontal offset
              (above), upward.

       <b>ppmshadow</b> does not recognize the options common to all programs based on libnetpbm  (See   Common Options
       .)  However, the <b>-version</b> option works.

</pre><h4><b>LIMITATIONS</b></h4><pre>
       The  source image must contain sufficient space on the edges in the direction in which the shadow is cast
       to contain the shadow -- if it doesn't some of the internal steps may fail.  You can usually  expand  the
       border of a too-tightly-cropped image with <b>pnmmargin</b> before processing it with <b>ppmshadow</b>.

       Black  pixels and pixels with the same color as the image background don't cast a shadow.  If this causes
       unintentional "holes" in the shadow, fill the offending areas with a color which differs  from  black  or
       the  background  by  RGB values of 1, which will be imperceptible to the viewer.  Since the comparison is
       exact, the modified areas will now cast shadows.

       The background color of the source image (which is preserved in the output) is deemed to be the color  of
       the  pixel  at the top left of the input image.  If that pixel isn't part of the background, simply add a
       one-pixel border at the top of the image, generate the shadow image, then delete the border from it.

       If something goes wrong along the way, the error messages from  the  various  Netpbm  programs  <b>ppmshadow</b>
       calls  will,  in  general,  provide  little  or no clue as to where <b>ppmshadow</b> went astray.  In this case,
       Specify the <b>-k</b> option and examine the intermediate results in the  temporary  files  (which  this  option
       causes  to  be  preserved).  If you manually run the commands that <b>ppmshadow</b> runs on these files, you can
       figure out where the problem is.  In problem cases where you want to manually tweak the image  generation
       process along the way, you can keep the intermediate files with the <b>-k</b>  option, modify them appropriately
       with an image editor, then recombine them with the steps used by the code in <b>ppmshadow</b>.

       Shadows  are by default black, as cast by opaque material in the image occluding white light.  Use the <b>-t</b>
       option to simulate translucent material, where the shadow takes on the color of the object that casts it.
       If the contrast between the image and background is insufficient, the <b>-t</b> option  may  yield  unattractive
       results which resemble simple blurring of the original image.

       Because  Netpbm  used  to  have  a maximum maxval of 255, which meant that the largest convolution kernel
       <b>pnmconvol</b> could use was 11 by 11, <b>ppmshadow</b> includes a horrid, CPU-time-burning kludge which, if  a  blur
       of  greater  than  11  is  requested,  performs an initial convolution with an 11 x 11 kernel, then calls
       <b>pnmsmooth</b> (which is itself a program that calls <b>pnmconvol</b> with a 3 x 3  kernel)  as  many  times  as  the
       requested  blur exceeds 11.  It's ugly, but it gets the job done on those rare occasions where you need a
       blur greater than 11.

       If you wish to generate an image at high resolution, then scale it to publication size with  <b>pamscale</b>  in
       order  to  eliminate  jagged  edges  by resampling, it's best to generate the shadow in the original high
       resolution image, prior to scaling it down in size.  If you scale first and then add the  shadow,  you'll
       get  an  unsightly  jagged  stripe  between  the edge of material and its shadow, due to resampled pixels
       intermediate between the image and background obscuring the shadow.

</pre><h4><b>EXIT</b> <b>STATUS</b></h4><pre>
       <b>ppmshadow</b> returns status 0 if processing was completed without errors, and a nonzero Unix error  code  if
       an  error  prevented  generation  of  output.   Some  errors  may  result in the script aborting, usually
       displaying error messages from various Netpbm components it uses, without returning a nonzero error code.
       When this happens, the output file will be empty, so be sure to test this if you  need  to  know  if  the
       program succeeded.

</pre><h4><b>TEMPORARY</b> <b>FILES</b></h4><pre>
       <b>ppmshadow</b> creates a number of temporary files as it executes.  It creates a new directory for them in the
       directory named by the <b>TMPDIR</b> environment variable, defaulting to <b><a href="file:/tmp">/tmp</a></b> if it is not set.

       In normal operation, <b>ppmshadow</b> finds a unique name for the temporary directory and deletes each temporary
       file  as  soon  as  it  is  done with it and leaves no debris around after it completes.  To preserve the
       intermediate files for debugging, use the <b>-k</b> command line option.  In that case, the  directory  name  is
       <b>ppmshadow</b><u>pid</u>,  where  <u>pid</u>  is the process ID of the <b>ppmshadow</b> process, and the program fails if <b>ppmshadow</b>
       cannot create that directory because the name is already in use.

       The temporary files are:

       <b>infile.ppm</b>
              A copy of the input.

       <b>background.ppm</b>
              Blank image with background of source image

       <b>bgmask.ppm</b>
              Positive binary mask

       <b>convkernel.ppm</b>
              Convolution kernel for blurring shadow

       <b>blurredlackshad.ppm</b>
              Blurred shadow image before coloring

       <b>blurred.ppm</b>
              Blurred, colored shadow image

       <b>shadow.ppm</b>
              Clipped shadow image, offset as requested

       <b>shadback.ppm</b>
              Generated shadow times positive mask

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man1/pnm.1.html">pnm</a></b>(1), <b><a href="../man1/pnmmargin.1.html">pnmmargin</a></b>(1), <b><a href="../man1/pnmconvol.1.html">pnmconvol</a></b>(1), <b><a href="../man1/pamscale.1.html">pamscale</a></b>(1), <b><a href="../man1/pnmsmooth.1.html">pnmsmooth</a></b>(1), <b><a href="../man1/ppm.1.html">ppm</a></b>(1)

</pre><h4><b>AUTHOR</b></h4><pre>
       John Walker <a href="http://www.fourmilab.ch">http://www.fourmilab.ch</a>  August 8, 1997

</pre><h4><b>COPYRIGHT</b></h4><pre>
       This software is in the public domain.  Permission to use, copy, modify, and distribute this software and
       its documentation for any  purpose  and  without  fee  is  hereby  granted,  without  any  conditions  or
       restrictions.

</pre><h4><b>DOCUMENT</b> <b>SOURCE</b></h4><pre>
       This  manual  page was generated by the Netpbm tool 'makeman' from HTML source.  The master documentation
       is at

              <b><a href="http://netpbm.sourceforge.net/doc/ppmshadow.html">http://netpbm.sourceforge.net/doc/ppmshadow.html</a></b>

netpbm documentation                              24 June 2017                          <u>Ppmshadow</u> <u>User</u> <u><a href="../man1/Manual.1.html">Manual</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>