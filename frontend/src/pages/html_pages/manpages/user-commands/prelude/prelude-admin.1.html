<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>prelude-admin - Manage agents accounts</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/noble/+package/prelude-utils">prelude-utils_5.2.0-5.3ubuntu3_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       prelude-admin - Manage agents accounts

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>prelude-admin</b> &lt;subcommand&gt; [options] [args]

       <b>prelude-admin</b> <b>add</b> <b>&lt;profile</b> <b>name&gt;</b> <b>[--uid</b> <b>UID]</b> <b>[--gid</b> <b>GID]</b>

       <b>prelude-admin</b> <b>chown</b> <b>&lt;profile</b> <b>name&gt;</b> <b>[--uid</b> <b>UID]</b> <b>[--gid</b> <b>GID]</b>

       <b>prelude-admin</b> <b>del</b> <b>&lt;profile</b> <b>name&gt;</b>

       <b>prelude-admin</b> <b>rename</b> <b>&lt;profile</b> <b>name&gt;</b> <b>&lt;profile</b> <b>name&gt;</b>

       <b>prelude-admin</b>  <b>register</b>  <b>&lt;profile</b>  <b>name&gt;</b>  <b>&lt;wanted</b>  <b>permission&gt;</b>  <b>&lt;registration-server</b> <b>address&gt;</b> <b>[--uid</b> <b>UID]</b>
       <b>[--gid</b> <b>GID]</b> <b>[--passwd=PASSWD&gt;]</b> <b>[--passwd-file=&lt;FILE&gt;]</b>

       <b>prelude-admin</b> <b>registration-server</b> <b>&lt;profile</b> <b>name&gt;</b> <b>[--uid</b> <b>UID]</b> <b>[--gid</b>  <b>GID]</b>  <b>[--prompt]</b>  <b>[--passwd=PASSWD&gt;]</b>
       <b>[--passwd-file=&lt;FILE&gt;]</b> <b>[--keepalive]</b> <b>[--no-confirm]</b> <b>[--listen]</b>

       <b>prelude-admin</b> <b>revoke</b> <b>&lt;profile&gt;</b> <b>&lt;analyzerID&gt;</b> <b>[--uid</b> <b>UID]</b> <b>[--gid</b> <b>GID]</b>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       In order for an agent to communicate with a manager, it must be registered. Registration involves several
       steps:
        - Allocating a unique identity for the agent
        - Creating directory to be used by the agent (example: failover purpose)
        - Registering to a remote 'prelude-manager': get a signed X509 certificate that will allow communication
       between agent and manager using the specified permissions.

       All this information is stored in an agent profile.

       An  agent  profile  is  identified by its name. When an agent is started, it will load the profile of the
       same name as the program itself, that is, if your agent is named "prelude-lml", the agent will  load  the
       profile named "prelude-lml".

       The name of the profile can be overridden using the '--prelude --profile name_of_my_profile' command line
       option.  It  is  possible  to define the profile name so that you can have several instances of one agent
       running with different permissions, using different profiles.

       Note that profiles are not specific to agents, but are used in all programs of the Prelude suite (agents,
       managers, etc).

       If you are not sure which permission your agent should get, just start it and default permissions will be
       displayed.

</pre><h4><b>OPTIONS</b></h4><pre>
       <b>&lt;profile</b> <b>name&gt;</b> is the default name of the agent you are installing or your own defined name.

       If you start your agent without prior registration, a warning is displayed including the default  profile
       name on how to register the agent.

       <b>&lt;requested</b> <b>permission&gt;</b> is the permission your agent needs. It is composed of permission attributes (idmef
       or admin) and access type: read/write (r/w). By default, an agent need permissions for writing IDMEF to a
       manager, and reading administrative command sent to it. That is: "idmef:w admin:r".

       <b>&lt;manager</b>  <b>address&gt;</b>  is the address of the prelude-manager you wish to register. This can either be its IP
       address or its hostname. If you made a local installation, you can write localhost to  connect  via  unix
       socket.

       Remember  to  use  the correct uid/gid when registering your agent. For instance, if you want to register
       snort (running with snort euid / egid), use --uid snort --gid snort.

       <b>add</b> <b>&lt;analyzer</b> <b>profile&gt;</b>
            Setup a new agent user.

            <b>--uid=UID</b> UID or user to use to setup agent files.

            <b>--gid=GID</b> GID or group to use to setup agent files.

       <b>chown</b> <b>&lt;analyzer</b> <b>profile&gt;</b>
            Change analyzer owner.

            <b>--uid=UID</b> UID or user to use to setup agent files.

            <b>--gid=GID</b> GID or group to use to setup agent files.

       <b>del</b> <b>&lt;analyzer</b> <b>profile&gt;</b>
            The delete command will remove the agent files created through "add" command. Once this is done, the
            analyzer can't be used unless "register" or "add" is called again.

       <b>rename</b> <b>&lt;analyzer</b> <b>profile&gt;</b> <b>&lt;analyzer</b> <b>profile&gt;</b>
            Rename an existing analyzer.

       <b>register</b> <b>&lt;profile</b> <b>name&gt;</b> <b>&lt;wanted</b> <b>permission&gt;</b> <b>&lt;registration-server</b> <b>address&gt;</b>
            Register an analyzer.

            Register and create the analyzer basic setup if needed.  It will  also  configure  communication  of
            this analyzer with a receiving analyzer (like a Manager) through the specified registration-server.

            <b>--uid=UID</b> UID or user to use to setup analyzer files.

            <b>--gid=GID</b> GID or group to use to setup analyzer files.

            <b>--passwd=PASSWD</b> Use provided password instead of prompting it.

            <b>--passwd-file=-|FILE</b> Read password from file instead of prompting it (- for stdin).

       <b>registration-server</b> <b>&lt;profile</b> <b>name&gt;</b>
            Start  a  registration  server  to  register  agents.   This  is used in order to register 'sending'
            analyzer to 'receiving' analyzer.  &lt;profile  name&gt;  should  be  set  to  the  profile  name  of  the
            'receiving' analyzer, the one where 'sending' analyzer will register to.

            <b>--uid=UID</b> UID or user to use to setup 'receiving' analyzer files.

            <b>--gid=GID</b> GID or group to use to setup 'receiving' analyzer files.

            <b>--prompt</b> Prompt for a password instead of auto generating it.

            <b>--passwd=PASSWD</b> Use provided password instead of auto generating it.

            <b>--passwd-file=-|FILE</b> Read password from file instead of auto generating it (- for stdin).

            <b>--keepalive</b> Register analyzer in an infinite loop.

            <b>--no-confirm</b> Do not ask for confirmation on agent registration.

            <b>--listen</b> Address to listen on for registration request (default is any:5553).

       <b>revoke</b> <b>&lt;profile</b> <b>name&gt;</b>
            Revoke access to &lt;profile&gt; for the given analyzerID.

            <b>--uid=UID</b> UID or user to use to setup analyzer files.

            <b>--gid=GID</b> GID to group to use to setup analyzer files.

       <b>--help</b>
            Print help

</pre><h4><b>AUTHOR</b></h4><pre>
       This man page has been written by Frederic Motte

                                                  19 June 2007                                  <u><a href="../man1/prelude-admin.1.html">prelude-admin</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>