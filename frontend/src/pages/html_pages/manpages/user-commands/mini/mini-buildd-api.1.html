<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>mini-buildd-api - Run API calls against a mini-buildd instance</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/mini-buildd-utils">mini-buildd-utils_2.2.6_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       mini-buildd-api - Run API calls against a mini-buildd instance

</pre><h4><b>DESCRIPTION</b></h4><pre>
       usage: mini-buildd-api [-h] [--version] [-l LOG_LEVEL] [-J] [--auto-confirm]

       [--auto-save-passwords] [--script-mode]
              &lt;call&gt; [options] ...

       Run API calls against a mini-buildd instance

   <b>options:</b>
       <b>-h</b>, <b>--help</b>
              show this help message and exit

       <b>--version</b>
              show program's version number and exit

       <b>-l</b>, <b>--log-level</b> LOG_LEVEL
              set log level (if none given, ['WARNING', 'mini_buildd.INFO'] is applied by default).  May also be
              given  as  ``&lt;logger&gt;.&lt;level&gt;``  to  effect  individual  loggers  only,  and multiple times (check
              existing logs for actual logger names). (default: None)

       <b>-J</b>, <b>--json</b>
              use parsable json output (default: False)

       <b>--auto-confirm</b>
              force-bypass extra confirmation (for confirmable calls) (default: False)

       <b>--auto-save-passwords</b>
              don't ask before saving passwords (via python3-keyring) (default: False)

       <b>--script-mode</b>
              force not to be interactive (default: False)

   <b>API</b> <b>calls</b> <b>(run</b> <b>'mini-buildd-api</b> <b>&lt;call&gt;</b> <b>--help'</b> <b>for</b> <b>full</b> <b>single</b> <b>call</b> <b>help):</b>
              &lt;call&gt; [options]

       status Get status of this instance

              JSON result description:

       {      "version":  mini-buildd's  version  "identity":  Instance  identity  "url":  Instance  URL  (HTTP)
              "incoming_url": Incoming URL (currently FTP) "load": Instance's (0 =&lt; load &lt;= 1). If negative, the
              instance  is  stopped  "chroots":  List  of active chroots "remotes": Active or auto-reactivatable
              remotes ["repositories": Simplified structural representation of all repositories]

              }

       Authorization: NONE
              .

       pub_key
              Get public key

              Get ASCII-armored GnuPG public key of this instance.

              Used to sign the apt repositories (apt key) and for authorization across instances.

       Authorization: NONE
              .

       dput_conf
              Get recommended dput config snippet

              Usually, this is for integration in your personal ``<a href="file:~/.dput.cf">~/.dput.cf</a>``.

       Authorization: NONE
              .

       sources_list
              Get sources.list (apt lines)

              Usually, this output is put to a file like ``/etc/apt/sources.list.d/mini-buildd-xyz.list``.

       Authorization: NONE
              .

       ls     List source package in repository

       Authorization: NONE
              .

       show   Show source package in repository

       Authorization: NONE
              .

       debdiff
              Compare two internal source packages

       Authorization: NONE
              .

       migrate
              Migrate source package

       Migrates a source package along with all its binary packages. If
              run for a rollback distribution, this will perform a rollback restore.

       Authorization: STAFF
              .

       remove Remove source package

              Removes a source package along with all its binary packages.

       Authorization: ADMIN
              .

       port   Port internal source package

       An internal 'port' is a no-changes (i.e., only the changelog will be adapted)
              rebuild of the given locally-installed package.

              When ``from_distribution`` equals ``to_distribution``, a rebuild will be done.

       Authorization: STAFF
              .

       port_ext
              Port external source package

       An external 'port' is a no-changes (i.e., only the changelog will be adapted)
              rebuild of any given source package.

       Authorization: STAFF
              .

       retry  Retry a previously failed source package

              JSON result description:

              Changes file name that has been re-uploaded

       Authorization: STAFF
              .

       cancel Cancel an ongoing package build

       Authorization: STAFF
              .

       set_user_key
              Set a user's GnuPG public key

       Authorization: LOGIN
              .

       subscribe
              Subscribe to (email) notifications

       Authorization: LOGIN
              .

       unsubscribe
              Unsubscribe from (email) notifications

       Authorization: LOGIN
              .

       remake_chroots
              Remake chroots

              Run actions 'remove', 'prepare', 'check' and 'activate'.

              Note that Daemon  will  be  stopped  before  running,  cancelling  ongoing  events  (``BUILDING``,
              ``PACKAGING``).

       Authorization: ADMIN
              .

       start  Start Daemon (accept incoming)

              Does nothing if already started; will fail if Daemon instance is not activated.

       Authorization: ADMIN
              .

       stop   Stop Daemon (stop accepting incoming)

              Does nothing if already stopped. Any possibly running builds will be cancelled.

              This  state  is  *not  persisted*. Please *deactivate* the Daemon instance via :mbdpage:`setup` to
              persist over *mini-buildd service* restarts.

       Authorization: ADMIN
              .

       wake   Wake a remote instance

       Authorization: STAFF
              .

       handshake
              Check if signed message matches a remote, reply our signed message on success

              This is for internal use only.

       Authorization: NONE
              .

       cronjob
              Run a cron job now (out of schedule)

       Authorization: ADMIN
              .

       uploaders
              Get upload permissions for repositories

       Authorization: ADMIN
              .

       snapshot_ls
              Get list of repository snapshots for a distribution

       Authorization: NONE
              .

       snapshot_create
              Create a repository snapshot

       Authorization: ADMIN
              .

       snapshot_delete
              Delete a repository snapshot

       Authorization: ADMIN
              .

       debmirror
              Make local partial repository mirror via :debpkg:`debmirror`

       This may be useful if you plan on publishing a stripped-down (f.e., only certain repos,
              only ``stable``, omit rollbacks) variant of your repo somewhere remote.

       Authorization: ADMIN
              .

       keyring_packages
              Build keyring packages

       Authorization: ADMIN
              .

       test_packages
              Build test packages

       Authorization: ADMIN
              .

       setup  Create, update or inspect your setup

              Note that Daemon  will  be  stopped  before  running,  cancelling  ongoing  events  (``BUILDING``,
              ``PACKAGING``).

       Authorization: ADMIN
              .

       Note: Uses ``python3-keyring`` to persist passwords (see ``man 1 keyring``)

mini-buildd-api 2.2.6                              March 2025                                 <u><a href="../man1/MINI-BUILDD-API.1.html">MINI-BUILDD-API</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>