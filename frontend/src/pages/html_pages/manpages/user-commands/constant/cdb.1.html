<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>cdb - Constant DataBase manipulation tool</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/tinycdb">tinycdb_0.81-2_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       cdb - Constant DataBase manipulation tool

</pre><h4><b>SYNOPSYS</b></h4><pre>
       <b>cdb</b> -q [-m] [-n <u>num</u>] <u>dbname</u> <u>key</u>
       <b>cdb</b> -d [-m] [<u>dbname</u>|-]
       <b>cdb</b> -l [-m] [<u>dbname</u>|-]
       <b>cdb</b> -s [<u>dbname</u>|-]
       <b>cdb</b> -c [-m] [-t <u>tmpname</u>|-] [-p <u>perms</u>] [-weru0] <u>dbname</u> [<u>infile</u>...]

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>cdb</b>  used to query, dump, list, analyze or create CDB (Constant DataBase) files.  Format of cdb described
       in <u><a href="../man5/cdb.5.html">cdb</a></u>(5) manpage.  This manual page corresponds to version <b>0.81</b> of <b>tinycdb</b> package.

   <b>Query</b>
       <b>cdb</b> <b>-q</b> finds given <u>key</u> in a given <u>dbname</u> cdb file, and writes associated  value  to  standard  output  if
       found  (and  exits  with  zero),  or exits with non-zero if not found.  <u>dbname</u> must be seekable file, and
       stdin can not be used as input.  By default, <b>cdb</b> will print <u>all</u> records  found.   Options  recognized  in
       query mode:

       <b>-n</b><u>num</u>  causes  <b>cdb</b>  to  find  and write a record with a given number <u>num</u> starting with 1 — when there are
              many records with a given key.

       <b>-m</b>     newline will be added after every value printed.  By default,  multiple  values  will  be  written
              without any delimiter.

   <b>Dump/List</b>
       <b>cdb</b>  <b>-d</b> dumps contents, and <b>cdb</b> <b>-l</b> lists keys of <u>cdbfile</u> (or standard input if not specified) to standard
       output, in format controlled by presence of <b>-m</b> option.  See subsection "Formats" below.  Output from  <b>cdb</b>
       <b>-d</b> can be used as an input for <b>cdb</b> <b>-c</b>.

   <b>Create</b>
       Cdb  database  created  in  two  stages: temporary database is created, and after it is complete, it gets
       atomically renamed to permanent place.  This avoids requirements for locking between readers and  writers
       (or  creaters).   <b>cdb</b> <b>-c</b> will attempt to create cdb in file <u>tmpname</u> (or <u>dbname</u> with ".tmp" appended if no
       -t option given) and then rename it to <u>dbname</u>.  It will read supplied <u>infile</u>s (or standard input if  none
       specified).  Options recognized in create mode:

       <b>-t</b> <u>tmpname</u>
              use  given  <u>tmpname</u>  as  temporary  file.  Defaults to <u>dbname</u>.tmp (i.e. with output file with .tmp
              added).  Note <u>tmpname</u> must be in the same filesystem as output file,  as  <b>cdb</b>  uses  <u><a href="../man2/rename.2.html">rename</a></u>(2)  to
              finalize  the  database creation procedure.  If <u>tmpname</u> is a single dash (-), no temp file will be
              created, database will be built in-place.  This mode is useful when the final renaming is done  by
              the caller.

       <b>-p</b> <u>perms</u>
              permissions  for  the  newly  created  file  (usually an octal number, like 0644).  By default the
              permissions are 0666 (with current process umask applied).  If this option is  specified,  current
              umask value has no effect.

       <b>-w</b>     warn about duplicate keys.

       <b>-e</b>     abort on duplicate keys (implies -w).

       <b>-r</b>     replace existing key with new one in case of duplicate.  This may require database file rewrite to
              remove old records, and can be slow.

       <b>-0</b>     zero-fill  existing  records when duplicate records are added.  This is faster than <b>-r</b>, but leaves
              extra zeros in the database file in case of duplicates.

       <b>-u</b>     do not add duplicate records.

       <b>-m</b>     interpret input as a sequence of lines, one record per line, with value separated from  a  key  by
              space or tab characters, instead of native cdb format (see "Input/Output Format" below).

       Note  that  using  any  option that requires duplicate checking will slow creation process <u>significantly</u>,
       especially for large databases.

   <b>Statistics</b>
       <b>cdb</b> <b>-s</b> will analyze <u>dbfile</u> and print summary to standard output.  Statistics  include:  total  number  of
       rows  in  a  file,  minimum, average and maximum key and value lengths, hash tables (max 256) and entries
       used, number of hash collisions (that is, more than one key point to the same hash table entry), minimum,
       average and maximum hash table size (of non-empty tables), and number of keys that sits at  10  different
       distances from it's calculated hash table index — keys in distance 0 requires only one hash table lookup,
       1 — two and so on; more keys at greater distance means slower database search.

   <b>Input/Output</b> <b>Format</b>
       By  default,  <b>cdb</b>  expects  (for create operation) or writes (for dump/list) native cdb format data.  Cdb
       native format is a sequence of records in a form:
           +<u>klen</u>,<u>vlen</u>:<u>key</u>-&gt;<u>val</u>\n
       where "+", ",", ":", "-", "&gt;" and "\n" (newline) are literal characters, <u>klen</u> and <u>vlen</u> are length of  key
       and value as decimal numbers, and <u>key</u> and <u>val</u> are key and value themselves.  Series of records terminated
       by  an  empty  line.   This  is  the  only format where key and value may contain any character including
       newline, zero (\0) and so on.

       When <b>-l</b> option requested (list keys mode), <b>cdb</b> will produce slightly modified output in a form:
           +<u>klen</u>:<u>key</u>\n
       (note <u>vlen</u> and <u>val</u> are omitted, together with surrounding delimiters).

       If <b>-m</b> option is given, <b>cdb</b> will expect or produce  one  line  for  every  record  (newline  is  a  record
       delimiter),  and  every  line  should contain optional whitespace, key, whitespace and value up to end of
       line.  Lines started with hash character (#) and empty lines are ignored.  This is  the  same  format  as
       <b><a href="../man1/mkmap.1.html">mkmap</a></b>(1) utility expects.

</pre><h4><b>OPTIONS</b> <b>SUMMARY</b></h4><pre>
       Here is a short summary of all options accepted by <b>cdb</b> utility:

       <b>-0</b>     zero-fill duplicate records in create (<b>-c</b>) mode.

       <b>-c</b>     create mode.

       <b>-d</b>     dump mode.

       <b>-e</b>     abort (error) on duplicate key in create (<b>-c</b>) mode.

       <b>-h</b>     print short help and exit.

       <b>-l</b>     list mode.

       <b>-m</b>     input  or output is in "map" format, not in native cdb format.  In query mode, add a newline after
              every value written.

       <b>-n</b><u>num</u>  find and print <u>num</u>th record in query (<b>-q</b>) mode.

       <b>-q</b>     query mode.

       <b>-r</b>     replace duplicate keys in create (<b>-c</b>) mode.

       <b>-s</b>     statistics mode.

       <b>-t</b> <u>tempfile</u>
              specify temporary file when creating (<b>-c</b>) cdb file (use single dash (-) as <u>tempfile</u> to stop  using
              temp file).

       <b>-u</b>     do not insert duplicate keys (unique) in create (<b>-c</b>) mode.

       <b>-w</b>     warn about duplicate keys in create (<b>-c</b>) mode.

</pre><h4><b>AUTHOR</b></h4><pre>
       The <b>tinycdb</b> package written by Michael Tokarev &lt;mjt+<a href="mailto:cdb@corpit.ru">cdb@corpit.ru</a>&gt;, based on ideas and shares file format
       with original cdb library by Dan Bernstein.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <a href="../man5/cdb.5.html">cdb</a>(5), <a href="../man3/cdb.3.html">cdb</a>(3).

</pre><h4><b>LICENCE</b></h4><pre>
       Tinycdb is licensed under MIT license.

                                                    Jan 2009                                              <u><a href="../man1/cdb.1.html">cdb</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>