<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>testparm - check an smb.conf configuration file for internal correctness</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/samba-common-bin">samba-common-bin_4.21.4+dfsg-1ubuntu3.4_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       testparm - check an smb.conf configuration file for internal correctness

</pre><h4><b>SYNOPSIS</b></h4><pre>

       testparm [-s|--suppress-prompt] [-v|--verbose] [-?|--help] [--usage] [-d|--debuglevel=DEBUGLEVEL]
        [--debug-stdout] {config filename} [hostname hostIP]

</pre><h4><b>DESCRIPTION</b></h4><pre>
       This tool is part of the <b><a href="../man7/samba.7.html">samba</a></b>(7) suite.

       testparm is a very simple test program to check an <b><a href="../man8/smbd.8.html">smbd</a></b>(8) configuration file for internal correctness.
       If this program reports no problems, you can use the configuration file with confidence that smbd will
       successfully load the configuration file.

       Note that this is <u>NOT</u> a guarantee that the services specified in the configuration file will be available
       or will operate as expected.

       If the optional host name and host IP address are specified on the command line, this test program will
       run through the service entries reporting whether the specified host has access to each service.

       If testparm finds an error in the smb.conf file it returns an exit code of 1 to the calling program, else
       it returns an exit code of 0. This allows shell scripts to test the output from testparm.

</pre><h4><b>OPTIONS</b></h4><pre>
       -s|--suppress-prompt
           Without this option, testparm will prompt for a carriage return after printing the service names and
           before dumping the service definitions.

       -v|--verbose
           If this option is specified, testparm will also output all options that were not used in <b><a href="../man5/smb.conf.5.html">smb.conf</a></b>(5)
           and are thus set to their defaults.

       --parameter-name parametername
           Dumps the named parameter. If no section-name is set the view is limited by default to the global
           section. It is also possible to dump a parametrical option. Therefore the option has to be separated
           by a colon from the parametername.

       --section-name sectionname
           Dumps the named section.

       --show-all-parameters
           Show the parameters, type, possible values.

       -l|--skip-logic-checks
           Skip the global checks.

       -?|--help
           Print a summary of command line options.

       --usage
           Display brief usage message.

       -d|--debuglevel=DEBUGLEVEL
           <u>level</u> is an integer from 0 to 10. The default value if this parameter is not specified is 1 for
           client applications.

           The higher this value, the more detail will be logged to the log files about the activities of the
           server. At level 0, only critical errors and serious warnings will be logged. Level 1 is a reasonable
           level for day-to-day running - it generates a small amount of information about operations carried
           out.

           Levels above 1 will generate considerable amounts of log data, and should only be used when
           investigating a problem. Levels above 3 are designed for use only by developers and generate HUGE
           amounts of log data, most of which is extremely cryptic.

           Note that specifying this parameter here will override the <b>log</b> <b>level</b> parameter in the
           /etc/samba/smb.conf file.

       --debug-stdout
           This will redirect debug output to STDOUT. By default all clients are logging to STDERR.

       --configfile=&lt;configuration file&gt;
           The file specified contains the configuration details required by the client. The information in this
           file can be general for client and server or only provide client specific like options such as <b>client</b>
           <b>smb</b> <b>encrypt</b>. See /etc/samba/smb.conf for more information. The default configuration file name is
           determined at compile time.

       --option=&lt;name&gt;=&lt;value&gt;
           Set the <b><a href="../man5/smb.conf.5.html">smb.conf</a></b>(5) option "&lt;name&gt;" to value "&lt;value&gt;" from the command line. This overrides
           compiled-in defaults and options read from the configuration file. If a name or a value includes a
           space, wrap whole --option=name=value into quotes.

       -V|--version
           Prints the program version number.

       configfilename
           This is the name of the configuration file to check. If this parameter is not present then the
           default <b><a href="../man5/smb.conf.5.html">smb.conf</a></b>(5) file will be checked.

       hostname
           If this parameter and the following are specified, then testparm will examine the <u>hosts</u> <u>allow</u> and
           <u>hosts</u> <u>deny</u> parameters in the <b><a href="../man5/smb.conf.5.html">smb.conf</a></b>(5) file to determine if the hostname with this IP address would
           be allowed access to the smbd server. If this parameter is supplied, the hostIP parameter must also
           be supplied.

       hostIP
           This is the IP address of the host specified in the previous parameter. This address must be supplied
           if the hostname parameter is supplied.

</pre><h4><b>FILES</b></h4><pre>
       <b><a href="../man5/smb.conf.5.html">smb.conf</a></b>(5)
           This is usually the name of the configuration file used by <b><a href="../man8/smbd.8.html">smbd</a></b>(8).

</pre><h4><b>DIAGNOSTICS</b></h4><pre>
       The program will issue a message saying whether the configuration file loaded OK or not. This message may
       be preceded by errors and warnings if the file did not load. If the file was loaded OK, the program then
       dumps all known service details to stdout.

       For certain use cases, SMB protocol requires use of cryptographic algorithms which are known to be weak
       and already broken. DES and ARCFOUR (RC4) ciphers and the SHA1 and MD5 hash algorithms are considered
       weak but they are required for backward compatibility. The testparm utility shows whether the Samba tools
       will fall back to these weak crypto algorithms if it is not possible to use strong cryptography by
       default. In FIPS mode weak crypto cannot be enabled.

</pre><h4><b>VERSION</b></h4><pre>
       This man page is part of version 4.21.4-Ubuntu-4.21.4+dfsg-1ubuntu3.4 of the Samba suite.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man5/smb.conf.5.html">smb.conf</a></b>(5), <b><a href="../man8/smbd.8.html">smbd</a></b>(8)

</pre><h4><b>AUTHOR</b></h4><pre>
       The original Samba software and related utilities were created by Andrew Tridgell. Samba is now developed
       by the Samba Team as an Open Source project similar to the way the Linux kernel is developed.

Samba 4.21.4-Ubuntu-4.21.4+dfs                     07/21/2025                                        <u><a href="../man1/TESTPARM.1.html">TESTPARM</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>