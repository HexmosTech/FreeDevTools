<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>dh_apache2 - register configuration snippets to the Apache web server</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/apache2-dev">apache2-dev_2.4.63-1ubuntu1.1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       dh_apache2 - register configuration snippets to the Apache web server

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>dh_apache2</b> [<u>debhelper</u> <u>options</u>] [<b>--conditional</b>=<u>expression</u>] [<b>--error-handler=</b><u>function</u>] [<b>-n</b>|<b>--noscripts</b>]
           [<b>-e</b>|<b>--noenable</b>] [<b>-r</b>|<b>--restart</b>]

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>dh_apache2</b> is a debhelper program that is responsible for correctly installing Apache2 configuration
       snippets and setting postinst, prerm and dependencies in Apache2 web server modules and web applications.

       It supports the following configuration types

       •   Apache2 modules

       •   Apache2 configuration snippets for web applications

       •   Apache2 sites

       <b>dh_apache2</b>  supports  two  modes: A limited auto-configuration heuristic or alternatively a configuration
       file driven approach. If a file named debian/package.apache2 exists, actual  actions  are  determined  by
       that file.

</pre><h4><b>OPERATION</b> <b>MODES</b></h4><pre>
       <b>dh_apache2</b>  can  be used in two modes: A configuration file driven approach and a heuristic approach. The
       configuration driven mode is fully documented in the <b>FILES</b> section  below.  This  mode  is  activated  by
       supplying a <b><a href="../man7/debhelper.7.html">debhelper</a></b>(7) configuration file (e.g. debian/<u>package</u>.apache2).

       The  alternative  is  a  heuristic  mode, in which no files are installed through <b>dh_apache2</b>. Instead the
       helper will scan the package  installation  directory  for  recognized  files  and  guess  their  purpose
       depending on their installation path in the file system. Use with caution.

</pre><h4><b>INVOCATION</b></h4><pre>
       <b>dh_apache2</b>  is  not part of debhelper and might require information available in the apache2-dev package.
       Packages making use of <b>dh_apache2</b> should  declare  a  build-dependency  against  the  virtual  <b>dh-apache2</b>
       package.

       <b>dh_apache2</b>  supports both, called directly from a debian/rules file or as <b><a href="../man1/dh.1.html">dh</a></b>(1) addon. In the former case
       the helper should run after <b><a href="../man1/dh_install.1.html">dh_install</a></b>(1) or their respective counter parts in local  implementations  at
       earliest.  Alternatively it can be used as dh addon by invoking it with

         %:
            dh $@ --with apache2

</pre><h4><b>FILES</b></h4><pre>
       debian/<u>package</u>.apache2
       debian/apache2

       Lists  files  to  be  registered with the Apache 2 HTTP server. The file is interpreted as line separated
       list of installation stanzas, where each entry consists of whitespace separated values conforming to  the
       file semantics below.

   <b>FILE</b> <b>SEMANTICS</b>
       Each line consists of a triple

       <u>type</u> <u>file</u> [<u>arguments</u>]

       where the values are interpreted as follows:

       <u>type</u>

       Denotes  the  type  of  file to be installed. Recognized values are <b>conf</b> for Apache2 global configuration
       snippets, <b>site</b> for virtual host configurations and <b>mod</b> for Apache2 modules.

       <u>file</u>

       Is interpreted as existing file name within the source package. No path expansion  is  effectuated.  Just
       like <b><a href="../man1/dh_install.1.html">dh_install</a></b>(1), <b>dh_apache2</b> can not rename files.

       <u>arguments</u>

       Is inrerpreted as optional arguments if any, currently used by <b>conf</b> stanzas only

   <b>GLOBAL</b> <b>CONFIGURATION</b> <b>FILES</b>
       Global  configuration  files  (determined by the <b>conf</b> type) must have a <u>.conf</u> suffix and are installed to
       <u>/etc/apache2/conf-available</u>. Moreover, the  configuration  is  activated  in  the  maintainer  script  at
       installation time.

       Such  global  configuration snippets are supposed to be used by web applications.  Such stanzas accept an
       optional third <u>arguments</u> which is interpreted as dependency line of alternative web servers  the  package
       supports. See <u>EXAMPLES</u> below.

       <b>dh_apache2</b>  will  set  dependencies  in <b>${misc:Recommends}</b> accordingly when this type of configuration is
       found. Alternatives from the optional <u>argument</u> is incorporated into this dependency line.

   <b>SITE</b> <b>CONFIGURATION</b> <b>FILES</b>
       Site configuration files (determined by the <b>site</b> type) must have a <u>.conf</u>  suffix  and  are  installed  to
       <u>/etc/apache2/sites-available</u>.  Moreover,  the  configuration  is  activated  in  the maintainer script at
       installation time.

       Such global configuration snippets are supposed to be used by web applications and third  party  packages
       which  install  virtual  host  configurations.  This  type of configuration sets the same dependencies as
       configuration files.

   <b>MODULES</b>
       Modules are handled specially and are determined by the <b>mod</b> type. Modules can  either  have  a  <u>.conf</u>  or
       <u>.load</u>  suffix.  In  that  case  the  file is interpreted as module load file or module configuration file
       respectively and is nstalled to <u>/etc/apache2/mods-available</u>. If the file is ending with a <u>.so</u>  suffix  it
       is  interpreted as actual module shared object and is installed to the Apache module directory. Moreover,
       if a <u>.load</u> file is installed the configuration is activated in  the  maintainer  script  at  installation
       time.

       A  typical  module  configuration has two lines, one for the <u>.load</u> file, and one for the <u>.so</u> file, albeit
       the latter could be installed by upstream's makefile, too.

       <b>dh_apache2</b> will set dependencies in <b>${misc:Depends}</b> accordingly when this type of configuration is found.

</pre><h4><b>OPTIONS</b></h4><pre>
       <b>--error-handler=</b><u>function</u>
           Call the named shell <u>function</u> if running the maintainer script fails. The function should be provided
           in the <u>prerm</u> and <u>postinst</u> scripts, before the <b>#DEBHELPER#</b> token.

       <b>--conditional</b>=<u>function</u>
           Only execute maintainer scripts if the named shell <u>function</u> evaluates to a true value at installation
           time. This is useful to web applications which want to install Apache configuration  files  depending
           on a user input, for example if they interface to the user through <b><a href="../man1/debconf.1.html">debconf</a></b>(1).

           The  defaults  is  to always execute the scripts. The named function should be provided in the <u>prerm</u>,
           <u>postrm</u> and <u>postinst</u> scripts, before the <b>#DEBHELPER#</b> token.

       <b>--restart</b> <b>-r</b>
           In maintainer scripts, do not try to reload the web server, but restart it.   Otherwise  the  default
           action  is  used,  which  means  global configuration and sites make the web server to be reloaded on
           success, modules are restarted.

       <b>-e</b>, <b>--noenable</b>
           Install maintainer scripts accordingly, but do not enable the scripts or configuration by default.

       <b>-n</b>, <b>--noscripts</b>
           Do not modify <u>postinst</u>/<u>postrm</u>/<u>prerm</u> maintainer scripts.

</pre><h4><b>NOTES</b></h4><pre>
       Note that this command is not idempotent.  <b><a href="../man1/dh_prep.1.html">dh_prep</a></b>(1)  should  be  called  between  invocations  of  this
       command. Otherwise, it may cause multiple instances of the same text to be added to maintainer scripts.

</pre><h4><b>EXAMPLES</b></h4><pre>
       The  examples  below  lists  valid  entries for a debian/<u>package</u>.apache2 file. For example, the two lines
       below install a fictional <u>mod_foo</u> Apache module along a Debian specific <u>.load</u> file:

        mod src/foo/mod_foo.so
        mod debian/foo.load

       The example below installs a fictional web application called phpmyfoo supplied in a package  which  also
       supports Lighttpd and nginx:

        conf debian/phpmyfoo.conf lighttpd (&gt;= 1.4.30) | nginx-full

       Or, the same example again this time without support for other web servers:

        conf debian/phpmyfoo.conf

       As  a final example, install a module called <u>mod_foo</u> along with a site configuration for a fictional site
       configuration for the site <u>example.com</u>:

        mod  src/foo/mod_foo.so
        mod  debian/foo.load
        mod  debian/foo.conf
        site debian/example_com.conf

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <a href="../man8/apache2ctl.8.html">apache2ctl</a>(8), <a href="../man8/a2query.8.html">a2query</a>(8), <a href="../man7/debhelper.7.html">debhelper</a>(7), <a href="../man1/dh.1.html">dh</a>(1)

</pre><h4><b>AUTHOR</b></h4><pre>
       This manual and dh_apache2 was written by Arno Toell &lt;<a href="mailto:debian@toell.net">debian@toell.net</a>&gt;.

perl v5.40.1                                       2025-07-14                                      <u><a href="../man1/DH_APACHE2.1.html">DH_APACHE2</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>