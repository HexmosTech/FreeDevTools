<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ucfr - Update Configuration File Registry:  associate packages with configuration files</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/ucf">ucf_3.0050_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       ucfr - Update Configuration File Registry:  associate packages with configuration files

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>ucfr</b> [<u>options</u>] <u>&lt;Package&gt;</u> <u>&lt;Path</u> <u>to</u> <u>configuration</u> <u>file&gt;</u>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       Where  <u>Package</u> is the package associated with the configuration file (and, in some sense, its owner), and
       <u>Path</u> <u>to</u> <u>configuration</u> <u>file</u> is the full path to the location (usually under <a href="file:/etc">/etc</a>) where the  configuration
       file  lives,  and  is  potentially modified by the end user.  Please note that usually this means that we
       register actual files, and not symbolic links to files.  <b>ucfr</b> will follow symbolic links and register the
       real file,  and not the symbolic link.

       This script maintains an association between configuration files and  packages,  and  is  meant  to  help
       provide  facilities  that  <u>dpkg</u>  provides  conffiles  for configuration files and not shipped in a <b>Debian</b>
       package, but handled by the postinst by <u>ucf</u> instead.  This script is idempotent, associating a package to
       a file multiple times is not an error.  It is normally an error to try  to  associate  a  file  which  is
       already associated with another package, but this can be overridden by using the <u>--force</u> option.

</pre><h4><b>OPTIONS</b></h4><pre>
       <b>-h,</b> <b>--help</b>
              Print a short usage message

       <b>-n,</b> <b>--no-action</b>
              Dry run.  Print the actions that would be taken if the script is invoked, but take no action.

       <b>-d</b> <b>[n],</b> <b>--debug</b> <b>[n]</b>
              Set  the debug level to the (optional) level <u>n</u> (n defaults to 1).  This turns on copious debugging
              information.

       <b>-p,</b> <b>--purge</b>
              Removes all vestiges of the association between the named package and the configuration file  from
              the  registry.   The  association must already exist; if the configuration file is associated with
              some other package, an error happens, unless the option <u>--force</u> is also given.  In that case,  the
              any  associations  for  the  configuration  file are removed from the registry, whether or not the
              package name matches.  This action is idempotent, asking for an association to be purged  multiple
              times  does  not  result  in  an  error, since attempting to remove an non-existent association is
              silently ignored unless the <u>--verbose</u> option is used (in which case it just issues a diagnostic).

       <b>-v,</b> <b>--verbose</b>
              Make the script be very verbose about setting internal variables.

       <b>-f,</b> <b>--force</b>
              This option forces operations requested even if the configuration file in consideration  is  owned
              by another package.  This allows a package to <u>hijack</u> a configuration file from another package, or
              to purge the association between the file and some other package in the registry.

       <b>--state-dir</b> <b>/path/to/dir</b>
              Set  the  state  directory  to  /path/to/dir instead of the default <u><a href="file:/var/lib/ucf">/var/lib/ucf</a></u>.  Used mostly for
              testing.

</pre><h4><b>USAGE</b></h4><pre>
       The most common case usage is pretty simple: a single line invocation in the postinst on  configure,  and
       another  single  line  in  the postrm to tell <b>ucfr</b> to forget about the association with the configuration
       file on purge (using the  --purge option) is all that is needed (assuming ucfr is still on the system).

</pre><h4><b>FILES</b></h4><pre>
       <u><a href="file:/var/lib/ucf/registry">/var/lib/ucf/registry</a></u>, and <u>/var/lib/ucf/registry.X</u>, where <u>X</u> is a small integer, where  previous  versions
       of the registry are stored.

       <u><a href="file:/etc/ucf.conf">/etc/ucf.conf</a></u>

</pre><h4><b>EXAMPLES</b></h4><pre>
       If  the  package  <u>foo</u>  wants to use ucfr to associate itself with a configuration file <u>foo.conf</u>, a simple
       invocation of ucfr in the postinst file is all that is needed:

       <b>ucfr</b> <u>foo</u> <u>/etc/foo.conf</u>

       On  purge,  one  should   tell   ucf   to   forget   about   the   file   (see   detailed   examples   in
       <a href="file:/usr/share/doc/ucf/examples">/usr/share/doc/ucf/examples</a>):

       <b>ucfr</b> <u>--purge</u> <u>foo</u> <u>/etc/foo.conf</u>

       If  you  want to remove all the conf files for a given package <u>foo</u>, the simplest way is to use <b>ucfq</b>.  For
       example

       <b>ucfq</b> <u>-w</u> <u>foo</u> <u>|</u> <b>cut</b> <u>-d</u> <u>:</u> <u>-f</u> <u>1</u> <u>|</u> <b>while</b> <b>read</b> <u>cfile</u> <u>;</u> <b>do</b> <b>ucfr</b> <u>-v</u> <u>$cfile</u> <u>;</u> <b>done</b>

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man1/ucf.1.html">ucf</a></b>(1), ucf.conf<b>(5).</b>

</pre><h4><b>AUTHOR</b></h4><pre>
       This manual page was written Manoj Srivastava &lt;<a href="mailto:srivasta@debian.org">srivasta@debian.org</a>&gt;, for the Debian GNU/Linux system.

Debian                                             Feb 16 2018                                           <u><a href="../man1/UCFR.1.html">UCFR</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>