<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>openssl-fipsinstall - perform FIPS configuration installation</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/openssl">openssl_3.4.1-1ubuntu3_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       openssl-fipsinstall - perform FIPS configuration installation

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>openssl</b> <b>fipsinstall</b> [<b>-help</b>] [<b>-in</b> <u>configfilename</u>] [<b>-out</b> <u>configfilename</u>] [<b>-module</b> <u>modulefilename</u>]
       [<b>-provider_name</b> <u>providername</u>] [<b>-section_name</b> <u>sectionname</u>] [<b>-verify</b>] [<b>-mac_name</b> <u>macname</u>] [<b>-macopt</b> <u>nm</u>:<u>v</u>]
       [<b>-noout</b>] [<b>-quiet</b>] [<b>-pedantic</b>] [<b>-no_conditional_errors</b>] [<b>-no_security_checks</b>] [<b>-hmac_key_check</b>]
       [<b>-kmac_key_check</b>] [<b>-ems_check</b>] [<b>-no_drbg_truncated_digests</b>] [<b>-signature_digest_check</b>]
       [<b>-hkdf_digest_check</b>] [<b>-tls13_kdf_digest_check</b>] [<b>-tls1_prf_digest_check</b>] [<b>-sshkdf_digest_check</b>]
       [<b>-sskdf_digest_check</b>] [<b>-x963kdf_digest_check</b>] [<b>-dsa_sign_disabled</b>] [<b>-no_pbkdf2_lower_bound_check</b>]
       [<b>-no_short_mac</b>] [<b>-tdes_encrypt_disabled</b>] [<b>-rsa_pkcs15_padding_disabled</b>] [<b>-rsa_pss_saltlen_check</b>]
       [<b>-rsa_sign_x931_disabled</b>] [<b>-hkdf_key_check</b>] [<b>-kbkdf_key_check</b>] [<b>-tls13_kdf_key_check</b>]
       [<b>-tls1_prf_key_check</b>] [<b>-sshkdf_key_check</b>] [<b>-sskdf_key_check</b>] [<b>-x963kdf_key_check</b>] [<b>-x942kdf_key_check</b>]
       [<b>-ecdh_cofactor_check</b>] [<b>-self_test_onload</b>] [<b>-self_test_oninstall</b>] [<b>-corrupt_desc</b> <u>selftest_description</u>]
       [<b>-corrupt_type</b> <u>selftest_type</u>] [<b>-config</b> <u>parent_config</u>]

</pre><h4><b>DESCRIPTION</b></h4><pre>
       This command is used to generate a FIPS module configuration file.  This configuration file can be used
       each time a FIPS module is loaded in order to pass data to the FIPS module self tests. The FIPS module
       always verifies its MAC, but optionally only needs to run the KAT's once, at installation.

       The generated configuration file consists of:

       - A MAC of the FIPS module file.
       - A test status indicator.
           This indicates if the Known Answer Self Tests (KAT's) have successfully run.

       - A MAC of the status indicator.
       - A control for conditional self tests errors.
           By  default if a continuous test (e.g a key pair test) fails then the FIPS module will enter an error
           state, and no services or cryptographic algorithms will be able to be accessed after this point.  The
           default value of '1' will cause the fips module error state to be entered.  If the value is '0'  then
           the module error state will not be entered.  Regardless of whether the error state is entered or not,
           the  current  operation  (e.g.  key  generation)  will  return  an error. The user is responsible for
           retrying the operation if the module error state is not entered.

       - A control to indicate whether run-time security checks are done.
           This indicates if run-time checks related to enforcement  of  security  parameters  such  as  minimum
           security  strength  of keys and approved curve names are used.  The default value of '1' will perform
           the checks.  If the value is '0' the checks are not performed and FIPS compliance  must  be  done  by
           procedures documented in the relevant Security Policy.

       This file is described in <b><a href="../man5/fips_config.5.html">fips_config</a></b>(5).

</pre><h4><b>OPTIONS</b></h4><pre>
       <b>-help</b>
           Print a usage message.

       <b>-module</b> <u>filename</u>
           Filename  of  the FIPS module to perform an integrity check on.  The path provided in the filename is
           used to load  the  module  when  it  is  activated,  and  this  overrides  the  environment  variable
           <b>OPENSSL_MODULES</b>.

       <b>-out</b> <u>configfilename</u>
           Filename to output the configuration data to; the default is standard output.

       <b>-in</b> <u>configfilename</u>
           Input filename to load configuration data from.  Must be used if the <b>-verify</b> option is specified.

       <b>-verify</b>
           Verify that the input configuration file contains the correct information.

       <b>-provider_name</b> <u>providername</u>
           Name of the provider inside the configuration file.  The default value is "fips".

       <b>-section_name</b> <u>sectionname</u>
           Name of the section inside the configuration file.  The default value is "fips_sect".

       <b>-mac_name</b> <u>name</u>
           Specifies  the  name  of  a  supported MAC algorithm which will be used.  The MAC mechanisms that are
           available will depend on the options used when building OpenSSL.  To see the list of supported  MAC's
           use the command "openssl list -mac-algorithms".  The default is <b>HMAC</b>.

       <b>-macopt</b> <u>nm</u>:<u>v</u>
           Passes  options  to  the MAC algorithm.  A comprehensive list of controls can be found in the EVP_MAC
           implementation documentation.  Common control strings used for this command are:

           <b>key</b>:<u>string</u>
               Specifies the MAC key as an alphanumeric string (use if the  key  contains  printable  characters
               only).   The  string length must conform to any restrictions of the MAC algorithm.  A key must be
               specified for every MAC algorithm.  If no key is provided, the default that  was  specified  when
               OpenSSL was configured is used.

           <b>hexkey</b>:<u>string</u>
               Specifies the MAC key in hexadecimal form (two hex digits per byte).  The key length must conform
               to  any  restrictions of the MAC algorithm.  A key must be specified for every MAC algorithm.  If
               no key is provided, the default that was specified when OpenSSL was configured is used.

           <b>digest</b>:<u>string</u>
               Used by HMAC as an alphanumeric string (use if the key contains printable characters only).   The
               string  length  must  conform  to  any  restrictions  of  the  MAC algorithm.  To see the list of
               supported digests, use the command  "openssl  list  -digest-commands".   The  default  digest  is
               SHA-256.

       <b>-noout</b>
           Disable logging of the self tests.

       <b>-pedantic</b>
           Configure  the  module  so that it is strictly FIPS compliant rather than being backwards compatible.
           This enables conditional errors, security checks etc.  Note that any previous  configuration  options
           will be overwritten and any subsequent configuration options that violate FIPS compliance will result
           in an error.

       <b>-no_conditional_errors</b>
           Configure the module to not enter an error state if a conditional self test fails as described above.

       <b>-no_security_checks</b>
           Configure the module to not perform run-time security checks as described above.

           Enabling the configuration option "no-fips-securitychecks" provides another way to turn off the check
           at compile time.

       <b>-ems_check</b>
           Configure  the module to enable a run-time Extended Master Secret (EMS) check when using the TLS1_PRF
           KDF algorithm. This check is disabled by default.  See RFC 7627 for information related to EMS.

       <b>-no_short_mac</b>
           Configure the module to not allow short MAC outputs.  See SP 800-185 8.4.2 and FIPS 140-3 ID C.D  for
           details.

       <b>-hmac_key_check</b>
           Configure the module to not allow small keys sizes when using HMAC.  See SP 800-131Ar2 for details.

       <b>-kmac_key_check</b>
           Configure the module to not allow small keys sizes when using KMAC.  See SP 800-131Ar2 for details.

       <b>-no_drbg_truncated_digests</b>
           Configure  the  module  to not allow truncated digests to be used with Hash and HMAC DRBGs.  See FIPS
           140-3 IG D.R for details.

       <b>-signature_digest_check</b>
           Configure the module to enforce signature algorithms to use digests that are explicitly permitted  by
           the various standards.

       <b>-hkdf_digest_check</b>
           Configure  the  module  to  enable  a run-time digest check when deriving a key by HKDF.  See NIST SP
           800-56Cr2 for details.

       <b>-tls13_kdf_digest_check</b>
           Configure the module to enable a run-time digest check when deriving a key by  TLS13  KDF.   See  RFC
           8446 for details.

       <b>-tls1_prf_digest_check</b>
           Configure  the  module to enable a run-time digest check when deriving a key by TLS_PRF.  See NIST SP
           800-135r1 for details.

       <b>-sshkdf_digest_check</b>
           Configure the module to enable a run-time digest check when deriving a key by SSHKDF.   See  NIST  SP
           800-135r1 for details.

       <b>-sskdf_digest_check</b>
           Configure  the  module  to  enable a run-time digest check when deriving a key by SSKDF.  See NIST SP
           800-56Cr2 for details.

       <b>-x963kdf_digest_check</b>
           Configure the module to enable a run-time digest check when deriving a key by X963KDF.  See  NIST  SP
           800-131Ar2 for details.

       <b>-dsa_sign_disabled</b>
           Configure the module to not allow DSA signing (DSA signature verification is still allowed). See FIPS
           140-3 IG C.K for details.

       <b>-tdes_encrypt_disabled</b>
           Configure  the module to not allow Triple-DES encryption.  Triple-DES decryption is still allowed for
           legacy purposes.  See SP800-131Ar2 for details.

       <b>-rsa_pkcs15_padding_disabled</b>
           Configure the module to not allow PKCS#1 version 1.5 padding to be used with RSA  for  key  transport
           and key agreement.  See NIST's SP 800-131A Revision 2 for details.

       <b>-rsa_pss_saltlen_check</b>
           Configure  the  module  to enable a run-time salt length check when generating or verifying a RSA-PSS
           signature.  See FIPS 186-5 5.4 (g) for details.

       <b>-rsa_sign_x931_disabled</b>
           Configure the module to not allow X9.31 padding to be used when signing with RSA.  See FIPS 140-3  IG
           C.K for details.

       <b>-hkdf_key_check</b>
           Configure the module to enable a run-time short key-derivation key check when deriving a key by HKDF.
           See NIST SP 800-131Ar2 for details.

       <b>-kbkdf_key_check</b>
           Configure  the  module  to  enable  a  run-time short key-derivation key check when deriving a key by
           KBKDF.  See NIST SP 800-131Ar2 for details.

       <b>-tls13_kdf_key_check</b>
           Configure the module to enable a run-time short key-derivation key check when deriving a key by TLS13
           KDF.  See NIST SP 800-131Ar2 for details.

       <b>-tls1_prf_key_check</b>
           Configure the module to enable a run-time short key-derivation key  check  when  deriving  a  key  by
           TLS_PRF.  See NIST SP 800-131Ar2 for details.

       <b>-sshkdf_key_check</b>
           Configure  the  module  to  enable  a  run-time short key-derivation key check when deriving a key by
           SSHKDF.  See NIST SP 800-131Ar2 for details.

       <b>-sskdf_key_check</b>
           Configure the module to enable a run-time short key-derivation key  check  when  deriving  a  key  by
           SSKDF.  See NIST SP 800-131Ar2 for details.

       <b>-x963kdf_key_check</b>
           Configure  the  module  to  enable  a  run-time short key-derivation key check when deriving a key by
           X963KDF.  See NIST SP 800-131Ar2 for details.

       <b>-x942kdf_key_check</b>
           Configure the module to enable a run-time short key-derivation key  check  when  deriving  a  key  by
           X942KDF.  See NIST SP 800-131Ar2 for details.

       <b>-no_pbkdf2_lower_bound_check</b>
           Configure  the  module to not perform run-time lower bound check for PBKDF2.  See NIST SP 800-132 for
           details.

       <b>-ecdh_cofactor_check</b>
           Configure the module to enable a run-time check that ECDH uses the  EC  curves  cofactor  value  when
           deriving  a  key.  This  only  affects the 'B' and 'K' curves.  See SP 800-56A r3 Section 5.7.1.2 for
           details.

       <b>-self_test_onload</b>
           Do not write the two fields related to the "test status indicator" and "MAC status indicator" to  the
           output  configuration file. Without these fields the self tests KATS will run each time the module is
           loaded. This option could be used for cross compiling, since the self tests need to run at least once
           on each target machine. Once the self tests have run on the target machine the  user  could  possibly
           then add the 2 fields into the configuration using some other mechanism.

           This is the default.

       <b>-self_test_oninstall</b>
           The converse of <b>-self_test_oninstall</b>.  The two fields related to the "test status indicator" and "MAC
           status indicator" are written to the output configuration file.

       <b>-quiet</b>
           Do not output pass/fail messages. Implies <b>-noout</b>.

       <b>-corrupt_desc</b> <u>selftest_description</u>, <b>-corrupt_type</b> <u>selftest_type</u>
           The  corrupt options can be used to test failure of one or more self tests by name.  Either option or
           both may be used to select the tests to corrupt.  Refer to the entries for  <b>st-desc</b>  and  <b>st-type</b>  in
           <b><a href="../man7/OSSL_PROVIDER-FIPS.7.html">OSSL_PROVIDER-FIPS</a></b>(7) for values that can be used.

       <b>-config</b> <u>parent_config</u>
           Test  that  a  FIPS provider can be loaded from the specified configuration file.  A previous call to
           this application needs to generate the  extra  configuration  data  that  is  included  by  the  base
           "parent_config"  configuration  file.   See  <b><a href="../man5/config.5.html">config</a></b>(5)  for  further  information  on how to set up a
           provider section.  All other options are ignored if '-config' is used.

</pre><h4><b>NOTES</b></h4><pre>
       Self tests results are logged by default if the options <b>-quiet</b> and <b>-noout</b> are not specified, or if either
       of the options <b>-corrupt_desc</b> or <b>-corrupt_type</b> are used.  If the base configuration  file  is  set  up  to
       autoload  the  fips  module,  then  the fips module will be loaded and self tested BEFORE the fipsinstall
       application has a chance to set up its own self test callback. As a result of this the self  test  output
       and the options <b>-corrupt_desc</b> and <b>-corrupt_type</b> will be ignored.  For normal usage the base configuration
       file should use the default provider when generating the fips configuration file.

       The  <b>-self_test_oninstall</b>  option  was  added  and  the  <b>-self_test_onload</b> option was made the default in
       OpenSSL 3.1.

       The command and all remaining options were added in OpenSSL 3.0.

</pre><h4><b>EXAMPLES</b></h4><pre>
       Calculate the mac of a FIPS module <u>fips.so</u> and run a FIPS self test for the module, and save the <u>fips.cnf</u>
       configuration file:

        openssl fipsinstall -module ./fips.so -out fips.cnf -provider_name fips

       Verify that the configuration file <u>fips.cnf</u> contains the correct info:

        openssl fipsinstall -module ./fips.so -in fips.cnf  -provider_name fips -verify

       Corrupt any self tests which have the description "SHA1":

        openssl fipsinstall -module ./fips.so -out fips.cnf -provider_name fips \
                -corrupt_desc 'SHA1'

       Validate that the fips module can be loaded from a base configuration file:

        export OPENSSL_CONF_INCLUDE=&lt;path of configuration files&gt;
        export OPENSSL_MODULES=&lt;provider-path&gt;
        openssl fipsinstall -config' 'default.cnf'

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man5/config.5.html">config</a></b>(5), <b><a href="../man5/fips_config.5.html">fips_config</a></b>(5), <b><a href="../man7/OSSL_PROVIDER-FIPS.7.html">OSSL_PROVIDER-FIPS</a></b>(7), <b><a href="../man3/EVP_MAC.3.html">EVP_MAC</a></b>(3)

</pre><h4><b>HISTORY</b></h4><pre>
       The <b>openssl-fipsinstall</b> application was added in OpenSSL 3.0.

       The following options were added in OpenSSL 3.1:

       <b>-ems_check</b>, <b>-self_test_oninstall</b>

       The following options were added in OpenSSL 3.2:

       <b>-pedantic</b>, <b>-no_drbg_truncated_digests</b>

       The following options were added in OpenSSL 3.4:

       <b>-hmac_key_check</b>, <b>-kmac_key_check</b>, <b>-signature_digest_check</b>,  <b>-hkdf_digest_check</b>,  <b>-tls13_kdf_digest_check</b>,
       <b>-tls1_prf_digest_check</b>,       <b>-sshkdf_digest_check</b>,      <b>-sskdf_digest_check</b>,      <b>-x963kdf_digest_check</b>,
       <b>-dsa_sign_disabled</b>,      <b>-no_pbkdf2_lower_bound_check</b>,       <b>-no_short_mac</b>,       <b>-tdes_encrypt_disabled</b>,
       <b>-rsa_pkcs15_padding_disabled</b>,     <b>-rsa_pss_saltlen_check</b>,    <b>-rsa_sign_x931_disabled</b>,    <b>-hkdf_key_check</b>,
       <b>-kbkdf_key_check</b>,   <b>-tls13_kdf_key_check</b>,   <b>-tls1_prf_key_check</b>,   <b>-sshkdf_key_check</b>,   <b>-sskdf_key_check</b>,
       <b>-x963kdf_key_check</b>, <b>-x942kdf_key_check</b>, <b>-ecdh_cofactor_check</b>

</pre><h4><b>COPYRIGHT</b></h4><pre>
       Copyright 2019-2024 The OpenSSL Project Authors. All Rights Reserved.

       Licensed  under  the  Apache License 2.0 (the "License").  You may not use this file except in compliance
       with the License.  You can obtain  a  copy  in  the  file  LICENSE  in  the  source  distribution  or  at
       &lt;https://www.openssl.org/source/license.html&gt;.

3.4.1                                              2025-04-03                          <u><a href="../man1SSL/OPENSSL-FIPSINSTALL.1SSL.html">OPENSSL-FIPSINSTALL</a></u>(1SSL)
</pre>
 </div>
</div></section>
</div>
</body>
</html>