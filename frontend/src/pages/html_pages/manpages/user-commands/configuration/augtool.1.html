<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>augtool - inspect and modify configuration files</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/augeas-tools">augeas-tools_1.14.1-1build2_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       augtool - inspect and modify configuration files

</pre><h4><b>SYNOPSIS</b></h4><pre>
       augtool [OPTIONS] [COMMAND]

</pre><h4><b>DESCRIPTION</b></h4><pre>
       Augeas is a configuration editing tool. It parses configuration files in their native formats and
       transforms them into a tree. Configuration changes are made by manipulating this tree and saving it back
       into native config files.

       augtool provides a command line interface to the generated tree. COMMAND can be a single command as
       described under "COMMANDS". When called with no COMMAND, it reads commands from standard input until an
       end-of-file is encountered.

</pre><h4><b>OPTIONS</b></h4><pre>
       <b>-c</b>, <b>--typecheck</b>
           Typecheck  lenses.  This  can  be  very  slow,  and  is  therefore not done by default, but is highly
           recommended during development.

       <b>-b</b>, <b>--backup</b>
           When files are changed, preserve the originals in a file with extension '.augsave'

       <b>-n</b>, <b>--new</b>
           Save changes in files with extension '.augnew', do not modify the original files

       <b>-r</b>, <b>--root</b>=<u>ROOT</u>
           Use directory ROOT as the root of  the  filesystem.  Takes  precedence  over  a  root  set  with  the
           AUGEAS_ROOT environment variable.

       <b>-I</b>, <b>--include</b>=<u>DIR</u>
           Add  DIR  to  the module loadpath. Can be given multiple times. The directories set here are searched
           before any directories specified in the AUGEAS_LENS_LIB environment variable, and before the  default
           directories <u>/usr/share/augeas/lenses</u> and <u>/usr/share/augeas/lenses/dist</u>.

       <b>-t</b>, <b>--transform</b>=<u>XFM</u>
           Add a file transform; uses the 'transform' command syntax, e.g. "-t 'Fstab incl /etc/fstab.bak'".

       <b>-l</b>, <b>--load-file</b>=<u>FILE</u>
           Load an individual FILE into the tree. The lens to use is determined automatically (based on autoload
           information  in  the  lenses) and will be the same that is used for this file when the entire tree is
           loaded. The option can be specified multiple times to load several  files,  e.g.  "-l  <a href="file:/etc/fstab">/etc/fstab</a>  -l
           <a href="file:/etc/hosts">/etc/hosts</a>".  This  lens implies "--noload" so that only the files specified with this option will be
           loaded.

       <b>-f</b>, <b>--file</b>=<u>FILE</u>
           Read commands from FILE.

       <b>-i</b>, <b>--interactive</b>
           Read commands from the terminal. When combined  with  <b>-f</b>  or  redirection  of  stdin,  drop  into  an
           interactive session after executing the commands from the file.

       <b>-e</b>, <b>--echo</b>
           When reading commands from a file via stdin, echo the commands before printing their output.

       <b>-s</b>, <b>--autosave</b>
           Automatically save all changes at the end of the session.

       <b>-S</b>, <b>--nostdinc</b>
           Do  not  search any of the default directories for modules. When this option is set, only directories
           specified explicitly with <b>-I</b> or specified in <b>AUGEAS_LENS_LIB</b> will be searched for modules.

       <b>-L</b>, <b>--noload</b>
           Do not load any files on startup. This is  generally  used  to  fine-tune  which  files  to  load  by
           modifying the entries in "/augeas/load" and then issuing a "load" command.

       <b>-A</b>, <b>--noautoload</b>
           Do  not  load  any  lens  modules,  and therefore no files, on startup. This creates no entries under
           "/augeas/load" whatsoever; to read any files, they need to be set up manually  and  loading  must  be
           initiated with a "load" command. Using this option gives the fastest startup.

       <b>--span</b>
           Load  span  positions  for nodes in the tree, as they relate to the original file. Enables the use of
           the <b>span</b> command to retrieve position data.

       <b>--timing</b>
           After executing each command, print how long, in milliseconds, executing the command took. This makes
           it easier to spot slow queries, usually through <b>match</b>  commands,  and  allows  exploring  alternative
           queries that yield the same result but might be faster.

       <b>--version</b>
           Print version information and exit. The version is also in the tree under "/augeas/version".

</pre><h4><b>COMMANDS</b></h4><pre>
       In interactive mode, commands and paths can be completed by pressing "TAB".

       The  paths  accepted  as  arguments  by  commands  use  a  small subset of XPath path expressions. A path
       expression consists of a number of segments, separated by "/". In each segment, the character "*" can  be
       used  to  match  every  node  regardless  of  its  label.  Sibling  nodes  with  identical  labels can be
       distinguished by appending "[N]" to their label to match the N-th sibling with such  a  label.  The  last
       sibling with a specific label can be reached as "[last()]". See "EXAMPLES" for some examples of this.

   <b>ADMIN</b> <b>COMMANDS</b>
       The following commands control the behavior of Augeas and augtool itself.

       <b>help</b>
           Print this help text

       <b>load</b>
           Load files according to the transforms in "/augeas/load".

       <b>quit</b>
           Exit the program

       <b>retrieve</b> &lt;LENS&gt; &lt;NODE_IN&gt; &lt;PATH&gt; &lt;NODE_OUT&gt;
           Transform  tree  at  PATH  back into text using lens LENS and store the resulting string at NODE_OUT.
           Assume that the tree was initially read in with the same lens and the string  stored  at  NODE_IN  as
           input.

       <b>save</b>
           Save  all  pending  changes to disk. Unless either the <b>-b</b> or <b>-n</b> command line options are given, files
           are changed in place.

       <b>store</b> &lt;LENS&gt; &lt;NODE&gt; &lt;PATH&gt;
           Parse NODE using LENS and store the resulting tree at PATH.

       <b>transform</b> &lt;LENS&gt; &lt;FILTER&gt; &lt;FILE&gt;
           Add a transform for FILE using LENS. The LENS may be a module name or a full lens name.  If a  module
           name  is given, then "lns" will be the lens assumed.  The FILTER must be either "incl" or "excl".  If
           the filter is "incl",  the FILE will be parsed by the LENS.  If the filter is "excl", the  FILE  will
           be excluded from the LENS. FILE may contain wildcards.

       <b>load-file</b> &lt;FILE&gt;
           Load a specific FILE, automatically determining the proper lens from the information in <u>/augeas/load</u>;
           without further intervention, the lens that would oridnarily be used for this file will be used.

   <b>READ</b> <b>COMMANDS</b>
       The following commands are used to retrieve data from the Augeas tree.

       <b>dump-xml</b> <u>[&lt;PATH&gt;]</u>
           Print  entries  in the tree as XML. If PATH is given, printing starts there, otherwise the whole tree
           is printed.

       <b>get</b> &lt;PATH&gt;
           Print the value associated with PATH

       <b>label</b> &lt;PATH&gt;
           Get and print the label associated with PATH

       <b>ls</b> &lt;PATH&gt;
           List the direct children of PATH

       <b>match</b> &lt;PATTERN&gt; [&lt;VALUE&gt;]
           Find all paths that match PATTERN. If VALUE is given, only the  matching  paths  whose  value  equals
           VALUE are printed

       <b>print</b> <u>[&lt;PATH&gt;]</u>
           Print  entries  in  the  tree.  If  PATH is given, printing starts there, otherwise the whole tree is
           printed

       <b>span</b> &lt;PATH&gt;
           Print the name of the file from which the node PATH was generated, as well as information  about  the
           positions  in  the  file  corresponding to the label, the value, and the entire node. PATH must match
           exactly one node.

           You need to run 'set /augeas/span enable'  prior  to  loading  files  to  enable  recording  of  span
           information. It is disabled by default.

   <b>WRITE</b> <b>COMMANDS</b>
       The following commands are used to modify the Augeas tree.

       <b>clear</b> &lt;PATH&gt;
           Set  the  value  for  PATH  to NULL. If PATH is not in the tree yet, it and all its ancestors will be
           created.

       <b>clearm</b> &lt;BASE&gt; &lt;SUB&gt;
           Clear multiple nodes values in one operation. Find or create a node matching SUB by interpreting  SUB
           as a path expression relative to each node matching BASE. If SUB is '.', the nodes matching BASE will
           be modified.

       <b>ins</b> <u>&lt;LABEL&gt;</u> <u>&lt;WHERE&gt;</u> <u>&lt;PATH&gt;</u>
           Insert  a  new  node  with label LABEL right before or after PATH into the tree. WHERE must be either
           'before' or 'after'.

       <b>insert</b> <u>&lt;LABEL&gt;</u> <u>&lt;WHERE&gt;</u> <u>&lt;PATH&gt;</u>
           Alias of <b>ins</b>.

       <b>mv</b> &lt;SRC&gt; &lt;DST&gt;
           Move node SRC to DST. SRC must match exactly one node in the tree.  DST must either match exactly one
           node in the tree, or may not exist yet. If DST  exists  already,  it  and  all  its  descendants  are
           deleted. If DST does not exist yet, it and all its missing ancestors are created.

       <b>move</b> &lt;SRC&gt; &lt;DST&gt;
           Alias of <b>mv</b>.

       <b>cp</b> &lt;SRC&gt; &lt;DST&gt;
           Copy node SRC to DST. SRC must match exactly one node in the tree.  DST must either match exactly one
           node  in  the  tree,  or  may  not  exist  yet. If DST exists already, it and all its descendants are
           deleted. If DST does not exist yet, it and all its missing ancestors are created.

       <b>copy</b> &lt;SRC&gt; &lt;DST&gt;
           Alias of <b>cp</b>.

       <b>rename</b> &lt;SRC&gt; &lt;LBL&gt;
           Rename the label of all nodes matching SRC to LBL.

       <b>rm</b> &lt;PATH&gt;
           Delete PATH and all its children from the tree

       <b>set</b> &lt;PATH&gt; &lt;VALUE&gt;
           Associate VALUE with PATH. If PATH is not in the tree yet, it and all its ancestors will be created.

       <b>setm</b> &lt;BASE&gt; &lt;SUB&gt; [&lt;VALUE&gt;]
           Set multiple nodes in one operation.  Find or create a node matching SUB by  interpreting  SUB  as  a
           path  expression  relative to each node matching BASE. If SUB is '.', the nodes matching BASE will be
           modified.

       <b>touch</b> &lt;PATH&gt;
           Create PATH with the value NULL if it is not in the  tree  yet.   All  its  ancestors  will  also  be
           created.  These new tree entries will appear last amongst their siblings.

   <b>PATH</b> <b>EXPRESSION</b> <b>COMMANDS</b>
       The following commands help when working with path expressions.

       <b>defnode</b> &lt;NAME&gt; &lt;EXPR&gt; [&lt;VALUE&gt;]
           Define  the  variable  NAME  to  the  result  of evaluating EXPR, which must be a nodeset. If no node
           matching EXPR exists yet, one is created and NAME will refer to it. If VALUE is given,  this  is  the
           same  as  'set  EXPR VALUE'; if VALUE is not given, the node is created as if with 'clear EXPR' would
           and NAME refers to that node.

       <b>defvar</b> &lt;NAME&gt; &lt;EXPR&gt;
           Define the variable NAME to the result  of  evaluating  EXPR.  The  variable  can  be  used  in  path
           expressions as $NAME. Note that EXPR is evaluated when the variable is defined, not when it is used.

</pre><h4><b>ENVIRONMENT</b> <b>VARIABLES</b></h4><pre>
       <b>AUGEAS_ROOT</b>
           The file system root, defaults to '/'. Can be overridden with the <b>-r</b> command line option

       <b>AUGEAS_LENS_LIB</b>
           Colon  separated  list  of directories with lenses. Directories specified here are searched after any
           directories  set  with  the  <b>-I</b>  command  line   option,   but   before   the   default   directories
           <u>/usr/share/augeas/lenses</u> and <u>/usr/share/augeas/lenses/dist</u>

</pre><h4><b>DIAGNOSTICS</b></h4><pre>
       Normally, exit status is 0. If one or more commands fail, the exit status is set to a non-zero value.

       Note  though  that  failure  to  load  some of the files specified by transforms in "/augeas/load" is not
       considered a failure. If it is important to know that all files were loaded, you need to issue  a  "match
       /augeas//error" after loading to find out details about what files could not be loaded and why.

</pre><h4><b>EXAMPLES</b></h4><pre>
         # command line mode
         augtool print /files/etc/hosts/

         # interactive mode
         augtool
         augtool&gt; help
         augtool&gt; print /files/etc/hosts/

         # Print the third entry from the second AcceptEnv line
         augtool print '/files/etc/ssh/sshd_config/AcceptEnv[2]/3'

         # Find the entry in inittab with action 'initdefault'
         augtool&gt; match /files/etc/inittab/*/action initdefault

         # Print the last alias for each entry in <a href="file:/etc/hosts">/etc/hosts</a>
         augtool&gt; print /files/etc/hosts/*/alias[last()]

</pre><h4><b>FILES</b></h4><pre>
       Lenses and schema definitions in <u>/usr/share/augeas/lenses</u> and <u>/usr/share/augeas/lenses/dist</u>

</pre><h4><b>AUTHOR</b></h4><pre>
       David Lutterkort &lt;<a href="mailto:lutter@watzmann.net">lutter@watzmann.net</a>&gt;

</pre><h4><b>COPYRIGHT</b> <b>AND</b> <b>LICENSE</b></h4><pre>
       Copyright 2007-2016 David Lutterkort

       Augeas (and augtool) are distributed under the GNU Lesser General Public License (LGPL)

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b>Augeas</b> project homepage &lt;<a href="http://www.augeas.net/">http://www.augeas.net/</a>&gt;

       <b>Augeas</b> path expressions &lt;https://github.com/hercules-team/augeas/wiki/Path-expressions&gt;

       augparse

       augprint

Augeas 1.13.0                                      2022-10-24                                         <u><a href="../man1/AUGTOOL.1.html">AUGTOOL</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>