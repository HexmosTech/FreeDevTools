<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>sysconftool, sysconftoolize - install configuration files</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/sysconftool">sysconftool_0.21-1build1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       sysconftool, sysconftoolize - install configuration files

</pre><h4><b>SYNOPSIS</b></h4><pre>

       <b>sysconftool</b> [options] [filename.dist...]

       <b>sysconftoolize</b>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>sysconftool</b> is a development utility that helps to install application configuration files.  <b>sysconftool</b>
       allows an existing application to be upgraded without losing the older version's configuration settings.

       A new version of an application often introduces new configuration settings. Sometimes obsolete
       configuration settings are removed. Existing configuration settings may also now have additional options,
       or certain options are no longer valid any more. Because of this, an application upgrade usually installs
       a fresh set of configuration files, containing a default configuration that's known to work. Keeping the
       existing files carries the risk of the application failing to function properly due to a configuration
       that is no longer valid.

       A typical application installation script copies over configuration files with default settings. Existing
       configuration files are backed up or overwritten. With <b>sysconftool</b>, an application will install a
       configuration file names filename.dist, instead of filename. Then, the application's installation script
       runs <b>sysconftool</b>.  <b>sysconftool</b> copies filename.dist to filename, but also checks if filename from an
       older version of the application already exist. If filename an older <b>sysconftool</b>-installed configuration
       file, its configuration settings replace the defaults in filename.dist, which is then subsequently
       installed as filename.  <b>sysconftool</b> is smart enough to:

       •   Remove configuration settings that no longer exist.

       •   Add new configuration settings.

       •   Do not preserve an older configuration setting if there's a possibility that it is no longer valid in
           the new version of the application.

       <b>sysconftool</b> produces a short report when it runs. The report lists every configuration setting in
       $filename.dist, and its disposition. The possible dispositions are:

       new
           This a new configuration setting that wasn't found in the existing $filename.

       unchanged
           This setting's value was taken from the existing $filename, replacing the default value provided by
           $filename.dist.

       UPDATED
           This setting has been previously set in $filename, but the setting's value may no longer be valid in
           the new version of the application, so its default value is taken from $filename.dist, and it may
           need to be manually adjusted.

       All this logic is based on some additional metadata that must be included in each configuration file,
       that <b>sysconftool</b> reads. For this to work, both the old and the new version of the application must be
       <b>sysconftool</b>-ized.  <b>sysconftool</b> operates in a fail-safe mode. If the old version did not use <b>sysconftool</b>,
       $filename is backed up to $filename.bak, and $filename is copied to $filename. This is what would
       essentially happen anyway without <b>sysconftool</b>. The local configuration needs to be reentered into
       $filename, so nothing is lost. However, the next upgrade will see <b>sysconftool</b> do its job.

</pre><h4><b>ADDING</b> <b>SYSCONFTOOL</b> <b>SUPPORT</b> <b>TO</b> <b>AN</b> <b>EXISTING</b> <b>APPLICATION</b></h4><pre>
       <b>sysconftool</b> requires the application to use <b>autoconf</b> and <b>automake</b>. The first step is to run the
       <b>sysconftoolize</b> script from the application's source directory.  <b>sysconftoolize</b> creates a symbolic link to
       the <b>sysconftool</b> script from the current directory, and appends a default install-configure rule to
       Makefile.am.  <b>sysconftoolize</b> with the <b>--copy</b> option copies the script, instead of creating a symbolic
       link.

       After running <b>sysconftoolize</b> the macro AC_PROG_SYSCONFTOOL must be manually added to configure.ac, and
       Makefile.am must be modified as follows.

       Makefile.am must be modified to install configuration files as filename.dist instead of filename. The
       default install-configure rule assumes that sysconf_DATA lists all configuration files in sysconfdir, and
       runs <b>sysconftool</b> on them. This will usually have to be modified, according to the application's
       individual needs. Finally, Makefile.am must be modified to distribute the <b>sysconftool</b> script in the
       application's source distribution. Adding <b>sysconftool</b> to EXTRA_DIST is what's needed in most cases.

       Finally, certain <b>sysconftool</b> magic incantations must be added to the application's configuration files,
       see <b><a href="../man7/sysconftool.7.html">sysconftool</a></b>(7)[1] for more information. The last step involves updating the application's INSTALL
       instructions, so that the application can be properly installed. The following instructions must be added
       to INSTALL:

        1. Run "make install-configure" after "make install".

        2. If this is the first <b>sysconftool</b>-ized version, DO NOT simply copy over the old configuration files,
           and overwrite the new configuration files. Instead, manually edit each configuration file, and
           manually reset each configuration setting. This is because the new configuration files include the
           magic code for <b>sysconftool</b>, which would be lost when the configuration file is overwritten.

        3. If this is not the first <b>sysconftool</b>-ized version, the output of <b>make</b> <b>install-configure</b> must be
           reviewed in order to manually adjust or tweak what <b>sysconftool</b> did. Many large configuration files
           can result in lots of output, so the output of <b>make</b> <b>install-configure</b> should be saved into a file,
           and reviewed.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man1/sysconftoolcheck.1.html">sysconftoolcheck</a></b>(1)[2], <b><a href="../man7/sysconftool.7.html">sysconftool</a></b>(7)[1].

</pre><h4><b>AUTHORS</b></h4><pre>
       <b>Double</b> <b>Precision,</b> <b>Inc.</b>

</pre><h4><b>NOTES</b></h4><pre>
        1. <b><a href="../man7/sysconftool.7.html">sysconftool</a></b>(7)
           https://www.courier-mta.org/sysconftool/sysconftool.7.html

        2. <b><a href="../man1/sysconftoolcheck.1.html">sysconftoolcheck</a></b>(1)
           https://www.courier-mta.org/sysconftool/sysconftoolcheck.1.html

Courier Mail Server                                05/21/2022                                     <u><a href="../man1/SYSCONFTOOL.1.html">SYSCONFTOOL</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>