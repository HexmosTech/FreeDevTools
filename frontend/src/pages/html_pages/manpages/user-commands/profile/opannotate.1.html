<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>opannotate - produce source or assembly annotated with profile data</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/oprofile">oprofile_1.4.0-0ubuntu9_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       opannotate - produce source or assembly annotated with profile data

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>opannotate</b> [ <u>options</u> ] [profile specification]

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>opannotate</b>  outputs  annotated  source  and/or  assembly  from  profile  data of an OProfile session. See
       <a href="../man1/oprofile.1.html">oprofile</a>(1) for how to write profile specifications.

</pre><h4><b>OPTIONS</b></h4><pre>
       <b>--assembly</b> <b>/</b> <b>-a</b>
              Output annotated assembly.  The  binary  file  to  be  annotated  does  not  need  full  debugging
              information  to  use  this option, but symbol information <u>is</u> required. Without symbol information,
              <b>opannotate</b> will silently refuse to annotate the binary.  If this option is combined with --source,
              then mixed source / assembly annotations are output.

       <b>--demangle</b> <b>/</b> <b>-D</b> <b>none|smart|normal</b>
              none: no demangling. normal: use default demangler (default) smart: use pattern-matching  to  make
              C++ symbol demangling more readable.

       <b>--exclude-dependent</b> <b>/</b> <b>-x</b>
              Do  not  include  application-specific  images  for libraries, kernel modules and the kernel. This
              option only makes sense if the profile session used --separate.

       <b>--exclude-file</b> <b>[files]</b>
              Exclude all files in the given comma-separated list of glob patterns.  This  option  is  supported
              solely with the <u>--source</u> option. It can be used to filter out source files in the output using the
              following types of specifications:

              • filenames (basename -- i.e., no path)

              • filename glob specifications (all files whose base filename matches the given pattern)

              • directory segments (all source files located in the specified directory; e.g. "libio")

              • directory segment glob specifications (e.g., "libi*")

       <b>--exclude-symbols</b> <b>/</b> <b>-e</b> <b>[symbols]</b>
              Exclude all the symbols in the given comma-separated list.

       <b>--help</b> <b>/</b> <b>-?</b> <b>/</b> <b>--usage</b>
              Show help message.

       <b>--image-path</b> <b>/</b> <b>-p</b> <b>[paths]</b>
              Comma-separated  list  of additional paths to search for binaries.  This is needed to find modules
              in kernels 2.6 and upwards.

       <b>--root</b> <b>/</b> <b>-R</b> <b>[path]</b>
              A path to a filesystem to search for additional binaries.

       <b>--include-file</b> <b>[files]</b>
              Only include files in the given comma-separated list of glob patterns.  The same rules  apply  for
              this option as for the <u>--exclude-file</u> option.

       <b>--merge</b> <b>/</b> <b>-m</b> <b>[lib,cpu,tid,tgid,unitmask,all]</b>
              Merge any profiles separated in a --separate session.

       <b>--include-symbols</b> <b>/</b> <b>-i</b> <b>[symbols]</b>
              Only include symbols in the given comma-separated list.

       <b>--objdump-params</b> <b>[params]</b>
              Pass  the given parameters as extra values when calling objdump.  If more than one option is to be
              passed to objdump, the parameters must be enclosed in a quoted string.

              An example of where this option is useful is when your toolchain does not automatically  recognize
              instructions that are specific to your processor.  For example, on IBM POWER7/RHEL 6, objdump must
              be  told  that  a binary file may have POWER7-specific instructions. The opannotate option to show
              the POWER7-specific instructions is:
                 --objdump-params=-Mpower7

              The opannotate option to show the POWER7-specific instructions, the source code (--source) and the
              line numbers (-l) would be:
                 --objdump-params="-Mpower7 -l --source"

       <b>--output-dir</b> <b>/</b> <b>-o</b> <b>[dir]</b>
              Output directory. This makes opannotate output one annotated  file  for  each  source  file.  This
              option can't be used in conjunction with --assembly.

       <b>--search-dirs</b> <b>/</b> <b>-d</b> <b>[paths]</b>
              Comma-separated list of paths to search for source files. You may need to use this option when the
              debug information for an image contains relative paths.

       <b>--base-dirs</b> <b>/</b> <b>-b</b> <b>[paths]</b>
              Comma-separated  list  of  paths  to  strip  from debug source files, prior to looking for them in
              --search-dirs.

       <b>--session-dir=</b><u>dir_path</u>
              Use sample database from the specified directory <u>dir_path</u> instead  of  the  default  location.  If
              <u>--session-dir</u>    is    not    specified,    then   <b>opannotate</b>   will   search   for   samples   in
              &lt;current_dir&gt;/oprofile_data first. If that directory does not exist, the standard  session-dir  of
              /var/lib/oprofile is used.

       <b>--source</b> <b>/</b> <b>-s</b>
              Output annotated source. This requires debugging information to be available for the binaries.

       <b>--threshold</b> <b>/</b> <b>-t</b> <b>[percentage]</b>
              For  annotated  assembly, only output data for symbols that have more than the given percentage of
              total samples. For profiles using multiple events, if the threshold is reached for any event, then
              all sample data for the symbol is shown.

              For annotated source, only output data for source files that have more than the  given  percentage
              of  total  samples. For profiles using multiple events, if the threshold is reached for any event,
              then all sample data for the source file is shown.

       <b>--verbose</b> <b>/</b> <b>-V</b> <b>[options]</b>
              Give verbose debugging output.

       <b>--version</b> <b>/</b> <b>-v</b>
              Show version.

</pre><h4><b>ENVIRONMENT</b></h4><pre>
       No special environment variables are recognised by opannotate.

</pre><h4><b>FILES</b></h4><pre>
       <u>&lt;session_dir&gt;/samples</u>
              The location of the generated sample files.

</pre><h4><b>VERSION</b></h4><pre>
       This man page is current for oprofile-1.4.0.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b>/usr/share/doc/oprofile/,</b> <b><a href="../man1/oprofile.1.html">oprofile</a>(1)</b>

4th Berkeley Distribution                       Mon 22 April 2024                                  <u><a href="../man1/OPANNOTATE.1.html">OPANNOTATE</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>