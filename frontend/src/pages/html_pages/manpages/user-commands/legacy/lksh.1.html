<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>lksh — Legacy Korn shell built on mksh</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/mksh">mksh_59c-40_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       lksh — Legacy Korn shell built on mksh

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>lksh</b> [<b>-+abCefhiklmnprUuvXx</b>] [<b>-+o</b> <u>opt</u>] [<b>-c</b> <u>string</u> | <b>-s</b> | <u>file</u> [<u>args</u> <u>...</u>]]

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>lksh</b> is a command interpreter intended exclusively for running legacy shell scripts. It is built on <b>mksh</b>;
       refer to its manual page for details on the scripting language. It is recommended to port scripts to <b>mksh</b>
       instead  of  relying  on  legacy  or  objectionable POSIX-mandated behaviour, since the MirBSD Korn Shell
       scripting language is much more consistent.

       Do not use <b>lksh</b> as an interactive or login shell; use <b>mksh</b> instead.

       Note that it's strongly recommended to invoke <b>lksh</b> with <b>-o</b> <b>posix</b> to fully enjoy better  compatibility  to
       the  POSIX  standard  (which  is probably why you use <b>lksh</b> over <b>mksh</b> in the first place); <b>-o</b> <b>sh</b> (possibly
       additionally to the above) may be needed for some legacy scripts.

</pre><h4><b>LEGACY</b> <b>MODE</b></h4><pre>
       <b>lksh</b> currently has the following differences from <b>mksh</b>:

       <b>•</b>   The KSH_VERSION string identifies <b>lksh</b> as “<b>LEGACY</b> <b>KSH</b>” instead of “<b>MIRBSD</b> <b>KSH</b>”. Note that the rest of
           the version string is identical between the two shell flavours, and the behaviour and differences can
           change between versions; see the accompanying manual page <u><a href="../man1/mksh.1.html">mksh</a></u>(1)  for  the  versions  this  document
           applies to.

       <b>•</b>   <b>lksh</b>  uses  POSIX  arithmetic,  which  has  quite  a  few  implications: The data type for arithmetic
           operations is the host ISO C <u>long</u> data type. Signed integer wraparound is Undefined  Behaviour;  this
           means that...

                 $ echo $((2147483647 + 1))

           ... is permitted to, e.g. delete all files on your system (the figure differs for non-32-bit systems,
           the rule doesn't). The sign of the result of a modulo operation with at least one negative operand is
           unspecified.  Shift  operations on negative numbers are unspecified. Division of the largest negative
           number by -1 is Undefined Behaviour. The compiler is permitted to  delete  all  data  and  crash  the
           system if Undefined Behaviour occurs (see above for an example).

       <b>•</b>   The rotation arithmetic operators are not available.

       <b>•</b>   The  shift  arithmetic  operators  take  all  bits of the second operand into account; if they exceed
           permitted precision, the result is unspecified.

       <b>•</b>   Unless <b>set</b> <b>-o</b> <b>posix</b> is active, <b>lksh</b> always uses traditional mode for constructs like:

                 $ set -- $(getopt ab:c "$@")
                 $ echo $?

           POSIX mandates this to show 0, but traditional mode passes through the errorlevel from the  <u><a href="../man1/getopt.1.html">getopt</a></u>(1)
           command.

       <b>•</b>   Functions defined with the <b>function</b> reserved word share the shell options (<b>set</b> <b>-o</b>) instead of locally
           scoping them.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <u><a href="../man1/mksh.1.html">mksh</a></u>(1)

       <u><a href="http://www.mirbsd.org/mksh.htm">http://www.mirbsd.org/mksh.htm</a></u>

       <u><a href="http://www.mirbsd.org/ksh-chan.htm">http://www.mirbsd.org/ksh-chan.htm</a></u>

</pre><h4><b>CAVEATS</b></h4><pre>
       To  use  <b>lksh</b>  as  <u><a href="file:/bin/sh">/bin/sh</a></u>,  compilation  to  enable  <b>set</b>  <b>-o</b>  <b>posix</b>  by  default if called as <b>sh</b> (adding
       -DMKSH_BINSHPOSIX to CPPFLAGS) is highly recommended for better standards compliance.

       For better compatibility with legacy scripts, such as many Debian maintainer scripts,  Upstart  and  SYSV
       init  scripts,  and  other  unfixed  scripts,  also adding the -DMKSH_BINSHREDUCED compile-time option to
       enable <u>both</u> <b>set</b> <b>-o</b> <b>posix</b> <b>-o</b> <b>sh</b> when the shell  is  run  as  <b>sh</b>,  as  well  as  integrating  the  optional
       disrecommended <u><a href="../man1/printf.1.html">printf</a></u>(1) builtin, might be necessary.

       <b>lksh</b> tries to make a cross between a legacy bourne/posix compatibl-ish shell and a legacy pdksh-alike but
       “legacy” is not exactly specified.

       Talk to the MirBSD development team and users using the mailing list at &lt;<u><a href="mailto:miros-mksh@mirbsd.org">miros-mksh@mirbsd.org</a></u>&gt; or in the
       <b>#!/bin/mksh</b>  IRC  channel;  mind  the  infos  from <u><a href="http://www.mirbsd.org/mksh-faq.htm">http://www.mirbsd.org/mksh-faq.htm</a>#contact</u> for either.
       Consider migrating your legacy scripts to work with <b>mksh</b> instead of requiring <b>lksh</b>.

MirBSD                                           January 5, 2024                                         <u><a href="../man1/LKSH.1.html">LKSH</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>