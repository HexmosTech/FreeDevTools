<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>debrepro - reproducibility tester for Debian packages</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/devscripts">devscripts_2.25.5_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       debrepro - reproducibility tester for Debian packages

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>debrepro</b> [<u>OPTIONS</u>] [<u>SOURCEDIR</u>]

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>debrepro</b> will build a given source directory twice, with a set of variations between the first and the
       second build, and compare the produced binary packages. If <b>diffoscope</b> is installed, it is used to compare
       non-matching binaries. If <b>disorderfs</b> is installed, it is used during the build to inject non-determinism
       in filesystem listing operations.

       <u>SOURCEDIR</u> must be a directory containing an unpacked Debian source package. If <u>SOURCEDIR</u> is omitted, the
       current directory is assumed.

</pre><h4><b>OUTPUT</b> <b>DIRECTORY</b></h4><pre>
       At the very end of a build, <b>debrepro</b> will inform the location of the output directory where the build
       artifacts can be found. In that directory, you will find:

       <u>$OUTPUTDIR/first</u>
           Contains  the  results  of  the  first  build, including a copy of the source tree, and the resulting
           binary packages.

       <u>$OUTPUTDIR/first/build.sh</u>
           Contains the exact build script that was used in the first build.

       <u>$OUTPUTDIR/second</u>
           Contains the results of the second build, including a copy of the  source  tree,  and  the  resulting
           binary packages.

       <u>$OUTPUTDIR/second/build.sh</u>
           Contains the exact build script that was used in the second build.

       Taking  a <b><a href="../man1/diff.1.html">diff</a>(1)</b> between <u>$OUTPUTDIR/first/build.sh</u> and <u>$OUTPUTDIR/second/build.sh</u> is an excellent way of
       figuring out exactly what changed between the two builds.

</pre><h4><b>SUPPORTED</b> <b>VARIATIONS</b></h4><pre>
       <b>user</b>
           The <u>$USER</u> environment variable will contain different values between the first and second builds.

       <b>path</b>
           During the second build, a fake, non-existing directory will be appended  to  the  <u>$PATH</u>  environment
           variable.

       <b>umask</b>
           The builds will use different umask settings.

       <b>locale</b>
           Both <u>$LC_ALL</u> and <u>$LANG</u> will be different across the two builds.

       <b>timezone</b>
           <u>$TZ</u> will be different across builds.

       <b>filesystem-ordering</b>
           If  <b>disorderfs</b> is installed, both builds will be done under a disorderfs overlay directory. This will
           cause filesystem listing operations to be return items in a non-deterministic order.

       <b>time</b>
           The second build will be executed 213 days, 7 hours and 13 minutes in the future with regards to  the
           current time (using <b><a href="../man1/faketime.1.html">faketime</a>(1)</b>).

</pre><h4><b>OPTIONS</b></h4><pre>
       -s VARIATION, --skip VARIATION
           Don't  perform the named VARIATION. Variation names are the ones used in their description in section
           <b>SUPPORTED</b> <b>VARIATIONS</b>.

       -b COMMAND, --before-second-build COMMAND
           Run COMMAND before performing the second build. This can be used for example to apply a  patch  to  a
           source tree for the second build, and check whether (or how) the resulting binaries are affected.

           Examples:

             $ debrepro --before-second-build "git checkout branch-with-changes"

             $ debrepro --before-second-build "patch -p1 &lt; /path/to/patch"

       -B COMMAND, --build-command COMMAND
           Use custom build command. Default: <u>dpkg-buildpackage</u> <u>-b</u> <u>-us</u> <u>-uc</u>.

           If  a custom build command is specified, the restriction of only running against a Debian source tree
           is relaxed and you can run debrepro against any source directory.

       -a PATTERN, --artifact-pattern PATTERN
           Define a file glob pattern to determine which artifacts  need  to  be  compared  across  the  builds.
           Default: <u>../*.deb</u>.

       -n, --no-copy
           Do  not  copy the source directory to the temporary work directory before each build. Use this to run
           debrepro against the source directory directly.

       -t TIME, --timeout TIME
           Apply a timeout to all builds. <u>TIME</u> must be a time specification compatible with GNU <b><a href="../man1/timeout.1.html">timeout</a></b>(1).

       -h, --help
           Display this help message and exit.

</pre><h4><b>EXIT</b> <b>STATUS</b></h4><pre>
       0   Package is reproducible.

           Reproducible here means that the two builds produced the exactly the same binaries, under the set  of
           variations  that  <b>debrepro</b>  tests. Other sources of non-determinism in builds that are not yet tested
           might still affect builds in the wild.

       1   Package is not reproducible.

       2   The given input is not a valid Debian source package.

       3   Required programs are missing.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       diffoscope (1), disorderfs (1), <b><a href="../man1/timeout.1.html">timeout</a></b>(1)

</pre><h4><b>AUTHOR</b></h4><pre>
       Antonio Terceiro &lt;<a href="mailto:terceiro@debian.org">terceiro@debian.org</a>&gt;.

Debian Utilities                                   2025-02-25                                        <u><a href="../man1/DEBREPRO.1.html">DEBREPRO</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>