<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>mini-dinstall - daemon for updating Debian packages in a repository</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/mini-dinstall">mini-dinstall_0.7.3_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       mini-dinstall - daemon for updating Debian packages in a repository

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>mini-dinstall</b> [<u>options</u>] [<u>directory</u>]

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>mini-dinstall</b> is a tool for installing Debian packages into a personal APT repository; it is very similar
       to the <b>dinstall</b> tool on auric: it takes a changes file and installs it into the Debian archive.

       The  main focus of operation is a changes file.  This file specifies a set of Debian binary packages, and
       often contains a source package too. Changes files are intended to group both Debian  source  and  binary
       packages together, so that there is a single file to manipulate when uploading a package.

       <b>mini-dinstall</b>  takes a changes file in its <u>incoming</u> directory (or on its command line in batch mode), and
       installs the files it references into a directory, and sets up Packages and Sources files  for  use  with
       APT.

</pre><h4><b>RUNNING</b></h4><pre>
       <b>mini-dinstall</b>  can  run  in  one  of  two  modes:  batch mode or daemon mode. In batch mode, the queue is
       processed immediately, and the command exits when it is done. In  daemon  mode,  which  is  the  default,
       <b>mini-dinstall</b>  runs  in  the background and continually checks the queue, and will process it whenever it
       has changed.

       The optional <u>directory</u> argument specifies the root directory of the queue. If no argument  is  specified,
       the value from the configuration file is used.

       The following options can be used:

       <b>-v</b>, <b>--verbose</b>
              display extra information while running

       <b>-q</b>, <b>--quiet</b>
              display as little information as possible

       <b>-c</b>, <b>--config</b>=<u>FILE</u>
              use FILE as the configuration file, instead of <u><a href="file:~/.mini-dinstall.conf">~/.mini-dinstall.conf</a></u>

       <b>-d</b>, <b>--debug</b>
              output debugging information to the terminal and to the log

       <b>-f</b>, <b>--foreground</b>
              run in daemon mode but do not detach from the console

       <b>--no-log</b>
              don't write any information to the logs

       <b>--no-db</b>
              disable lookups on package database. <b>apt-ftparchive</b> run without --db option

       <b>-n</b>, <b>--no-act</b>
              don't perform any changes; useful in combination with the <b>-v</b> flag

       <b>-b</b>, <b>--batch</b>
              run in batch mode

       <b>-r</b>, <b>--run</b>
              tell the currently running daemon to process the queue immediately

       <b>-k</b>, <b>--kill</b>
              kill the currently running daemon

       <b>--help</b> display a short overview of available options

       <b>--version</b>
              display the software version

</pre><h4><b>CONFIGURATION</b></h4><pre>
       <b>mini-dinstall</b>'s  main  configuration  file  is  <u><a href="file:~/.mini-dinstall.conf">~/.mini-dinstall.conf</a></u>.   The file consists of a number of
       different sections, each one applying to a different distribution (which corresponds to the  Distribution
       field in a changes file). There is also a default section (<b>DEFAULT</b>), which applies to all distributions.

       Each section can contain any number of

              name = value

       combinations,  which  set  a  configuration  parameter  for that distribution (or the default one). Lists
       should be separated by commas, and strings need only be enclosed with quotes if they  contain  spaces  or
       commas.

       The configuration parameters available in the <b>DEFAULT</b> section are as follows:

       <b>archivedir</b>
              The root of the <b>mini-dinstall</b> archive. Must be set, either here or on the command line.

       <b>extra_keyrings</b>
              Additional GnuPG keyrings to use for signature verification.

       <b>incoming_permissions</b>
              The  permissions  for  the  <u>incoming</u>  directory. <b>mini-dinstall</b> will attempt to set the directory's
              permissions at startup. A value of zero (´'0´' or  ´'0o000´')  will  disable  permission  setting.
              Doing this, you MUST set permission for incoming by hand! Defaults to 0o750.

       <b>keyrings</b>
              GnuPG  keyrings  to  use  for signature verification of changes files. Setting this parameter will
              modify the default list; it is generally better to modify <b>extra_keyrings</b> instead. Defaults to  the
              keyrings from the debian-keyring package.

       <b>logfile</b>
              The  filename  (relative  to  <b>archivedir</b>)  where  information  will be logged.  Defaults to “mini-
              dinstall.log”.

       <b>mail_log_flush_count</b>
              Number of log messages after which queued messages will be sent to you.  Defaults to 10.

       <b>mail_log_flush_level</b>
              The log level upon which to immediately send all queued log messages. Valid values are the same as
              for the <b>mail_log_level</b> option. Defaults to <b>ERROR</b>.

       <b>mail_log_level</b>
              The default log level which is sent to you by email.  Valid  values  include  <b>DEBUG</b>,  <b>INFO</b>,  <b>WARN</b>,
              <b>ERROR</b>, and <b>CRITICAL</b>. Defaults to <b>ERROR</b>.

       <b>mail_to</b>
              The user to whom logs should be mailed. Defaults to the current user.

       <b>mail_subject_template</b>
              Style  of the email subject. Available substitution variables are <b>source</b>, <b>version</b>, <b>maintainer</b>, ...
              (all statements in .changes) and <b>changes_without_dot</b> (same as <b>changes</b>, but without lines with only
              a dot).  Default is:

               mini-dinstall: Successfully installed %(source)s %(version)s to %(distribution)s

       <b>mail_body_template</b>
              Style of the email body. Valid values are  the  same  as  for  the  <b>mail_subject_template</b>  option.
              Default is:

               Package: %(source)s
               Maintainer: %(maintainer)s
               Changed-By: %(changed-by)s
               Changes:
               %(changes_without_dot)s

       <b>tweet_server</b>
              server to push tweets. Possible values are <u>twitter</u> or <u>identica</u>

       <b>tweet_user</b>
              username to login on tweet server

       <b>tweet_password</b>
              password to login on tweet server

       <b>tweet_template</b>
              Style  of  the  tweet  body.  Valid  values  are the same as for the <b>mail_subject_template</b> option.
              Default is:

               Installed %(source)s %(version)s to %(distribution)s

       <b>trigger_reindex</b>
              In daemon mode, whether or not to recreate the Packages and Sources files after every  upload.  If
              you disable this, you probably want to enable <b>dynamic_reindex</b>. You may want to disable this if you
              install a <u>lot</u> of packages. Defaults to enabled.

       <b>use_dnotify</b>
              If  enabled,  uses  the  <b><a href="../man1/dnotify.1.html">dnotify</a></b>(1)  command  to monitor directories for changes. Only relevant if
              <b>dynamic_reindex</b> is enabled. Defaults to false.

       <b>verify_sigs</b>
              Whether or not to verify signatures on changes files. Defaults to enabled  if  the  debian-keyring
              package is installed, disabled otherwise.

       The  configuration  parameters  that  can  be  set  in  the <b>DEFAULT</b> section and the distribution-specific
       sections are:

       <b>alias</b>  A list of alternative distribution names.

       <b>architectures</b>
              A list of architectures to create subdirectories for. Defaults to “all, i386, powerpc, sparc”.

       <b>archive_style</b>
              Either “flat” or “simple-subdir”. A flat archive style puts all of the binary  packages  into  one
              subdirectory,  while  the simple archive style splits up the binary packages by architecture. Must
              be set.

              Sources for the “flat” style should look like:

                      deb file:///home/walters/debian/ unstable/
                      deb-src file:///home/walters/debian/ unstable/
                      deb file:///home/walters/debian/ experimental/
                      deb-src file:///home/walters/debian/ experimental/

              Sources for the “subdir” style should look like:

                      deb <a href="http://localhost/~walters/debian/">http://localhost/~walters/debian/</a> local/$(ARCH)/
                      deb <a href="http://localhost/~walters/debian/">http://localhost/~walters/debian/</a> local/all/
                      deb-src <a href="http://localhost/~walters/debian/">http://localhost/~walters/debian/</a> local/source/

       <b>restrict_changes_files</b>
              Determines if the changes files should be made unreadable by others. This is enabled  by  default,
              and  is  a good thing, since somebody else could unexpectedly upload your package. Think carefully
              before changing this.

       <b>dynamic_reindex</b>
              If enabled, directories are watched for changes and new Packages and Sources files are created  as
              needed. Only used in daemon mode. Defaults to true.

       <b>generate_release</b>
              Causes a Release file to be generated (see <b>release_*</b> below) if enabled.  Disabled by default.

       <b>keep_old</b>
              Whether  or  not  old packages should be kept, instead of deleting them when newer versions of the
              same packages are uploaded. Defaults to false.

       <b>mail_on_success</b>
              Whether to mail on successful installation. Defaults to true.

       <b>tweet_on_success</b>
              Whether to tweet (e.g. on twitter/identi.ca) on successful installation. Defaults to false.

       <b>max_retry_time</b>
              The maximum amount of time to wait for an incomplete upload  before  rejecting  it.  Specified  in
              seconds. Defaults to two days.

       <b>poll_time</b>
              How  often to poll directories (in seconds) for changes if <b>dynamic_reindex</b> is enabled. Defaults to
              30 seconds.

       <b>post_install_script</b>
              This script is run after the changes file is installed, with the full path of the changes file  as
              its argument.

       <b>pre_install_script</b>
              This script is run before the changes file is installed, with the full path of the changes file as
              its argument. If it exits with an error, the changes file is skipped.

       <b>release_codename</b>
              The Codename field in the Release file. Defaults to “None”.

       <b>release_description</b>
              The Description field in the Release file. Defaults to “None”.

       <b>release_label</b>
              The Label field in the Release file. Defaults to the current user's username.

       <b>release_origin</b>
              The Origin field in the Release file. Defaults to the current user's username.

       <b>release_suite</b>
              The Suite field in the Release file. Defaults to “None”.

       <b>backport_release</b>
              If  enabled,  automatically  install  package  upgrades from this repository only if the installed
              version of the package is higher than the version of the package in other  sources.   Defaults  to
              false.

       <b>experimental_release</b>
              If  enabled,  packages  will  not  automatically  install  or  upgrade to newer versions from this
              repository

       If this option is set, it overrides the option <b>backport_release</b>.  Defaults to false.

       <b>release_signscript</b>
              If specified, this script will be called to  sign  Release  files.  It  will  be  invoked  in  the
              directory  containing the Release file, and should accept the filename of the Release file to sign
              as the first argument (note that it is passed  a  temporary  filename,  not  <u>Release</u>).  It  should
              generate a detached signature in a file named <u>Release.gpg</u>.

</pre><h4><b>USING</b> <b>DPUT</b></h4><pre>
       One  convenient  way  to  use  <b>mini-dinstall</b>  is  in  combination  with <b>dput</b>'s “local” method. The author
       generally tests his Debian packages by using <b>dput</b> to upload them to a local  repository,  and  then  uses
       APT's “file” method to retrieve them locally. Here's a sample <b>dput</b> stanza:

               [local]
               fqdn = space-ghost.verbum.private
               incoming = /src/debian/mini-dinstall/incoming
               method = local
               run_dinstall = 0
               post_upload_command = mini-dinstall -r

       Obviously,  you  should  replace  the  “fqdn” and “incoming” values with whatever is appropriate for your
       machine.  Some sample APT methods were listed in the configuration section.

       Now, all you have to do to test your Debian packages is:

               $ dpkg-buildpackage
               $ dput local ../program_1.2.3-1_powerpc.changes
               # wait a few seconds
               $ apt-get update
               $ apt-get install program

</pre><h4><b>AUTHOR</b></h4><pre>
       <b>mini-dinstall</b> was originally written by Colin Walters  &lt;<a href="mailto:walters@debian.org">walters@debian.org</a>&gt;  and  is  now  maintained  by
       Christoph Goehre &lt;<a href="mailto:christoph.goehre@gmx.de">christoph.goehre@gmx.de</a>&gt;.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man8/apt-get.8.html">apt-get</a></b>(8), <b><a href="../man1/dnotify.1.html">dnotify</a></b>(1), <b><a href="../man1/dput.1.html">dput</a></b>(1), <b>gpg</b><u>(1)</u>

Debian Project                                  December 29, 2003                               <u><a href="../man1/MINI-DINSTALL.1.html">MINI-DINSTALL</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>