<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>apt-file -- APT package searching utility -- command-line interface</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/apt-file">apt-file_3.3_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       apt-file -- APT package searching utility -- command-line interface

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>apt-file</b> [<u>options</u>] search <u>pattern</u>

       <b>apt-file</b> [<u>options</u>] show <u>package</u>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>apt-file</b> is a command line tool for searching files in packages for the APT package management system.

       Some actions are required to run the search:

       find
           Alias for search.

       list
           List  the  contents of a package. This action is very close to the <b>dpkg</b> <b>-L</b> command except the package
           does not need to be installed or fetched.

           By default, the <b>list</b> action interprets its pattern as if <b>--fixed-string</b> was specified.

       list-indices
           List the known Content indices and their status in a human readable format.   These  indices  can  be
           searched  via  the <b>-I</b> option (when enabled and after fetching the indices).  The output is subject to
           change without notice and is therefore unsuited for script usage / automation.

           For a machine-readable formats (e.g. automation), please use  <b>apt-config</b>  <b>dump</b>  (search  for  options
           starting  with  <b>Acquire::IndexTargets</b>)  and  <b>apt-get</b>  <b>indextargets</b>  for  checking the cache (Look for
           entries with an <u>Identifier</u> field starting with <u>Contents-</u>).

           Note  that  individual  sources.list  entries  can  override  the  global  default.   Please  consult
           <b><a href="../man5/sources.list.5.html">sources.list</a></b>(5) for more information on advanced configuration of the <b>sources.list</b> files.

       search
           Search  in which package a file is included. A list of all packages containing the pattern pattern is
           returned.

           Since Contents files does not contain directories, the pattern must match (part of a) file name.

           By default, the <b>search</b> action interprets its pattern as if <b>--substring-match</b> was specified.

       show
           Alias for list.

       update
           This action that just calls <b>apt</b> <b>update</b> or <b>apt-get</b> <b>update</b> (depending on whether a tty is available).

           The only advantage using this over a regular <b>apt</b> <b>update</b> or <b>apt-get</b> <b>update</b> directly is  for  the  case
           where  you  have  configured  an  apt-file  specific  configuration  (via the <b>Dir::Etc::apt-file-main</b>
           configuration option).  In that case, said configuration will be included automatically.

</pre><h4><b>OPTIONS</b></h4><pre>
       The following options are available:

       -a, --architecture <u>architecture[,...]</u>
           This option is useful if you search a package for a different architecture from the one installed  on
           your system.

           It can be a comma-separated list for searching on multiple architectures.

       -c, --config-file <u>APT</u> <u>config-file</u>
           Configuration  File;  Specify  a  configuration  file  to  use.  The  program  will  read the default
           configuration file and then this configuration file. If configuration settings need to be set  before
           the  default  configuration files are parsed specify a file with the <b>APT_CONFIG</b> environment variable.
           See <b><a href="../man5/apt.conf.5.html">apt.conf</a></b>(5) for syntax information.

           The configuration file will be read relative to when it appears on the command line and can overwrite
           options that appear before it.

           Note that the config file will also be passed to all APT tools called by <b>apt-file</b>.

       -D, --from-deb
           Use contents of the given .deb archives(s) as patterns.  Useful for searching for file conflicts with
           other packages.  Implies -F.

       -f, --from-file
           Read patterns from the given file(s), one per line.  Use - as filename for stdin.  If  no  files  are
           given, then the list will be read from stdin.  This is much faster than invoking apt-file many times.

       --filter-origins <u>origin[,...]</u>
           Only search indices from the listed origins (e.g. "Debian").

           This filter matches against the name listed in the <u>Origin</u> field from the Release file.

           If  set  to  '*',  this  filter  will  be  disabled  (mostly  useful  for overriding the setting in a
           configuration file)

           Alias of the APT config option: <b>apt-file::Search-Filter::Origin</b>

       --filter-suites <u>suite[,...]</u>
           Only search indices from the listed suites or codenames (e.g. "unstable").

           This filter matches against the name listed in the <u>Codename</u> and <u>Suite</u> fields from the  Release  file.
           This means that either "unstable" or "sid" will match Debian's unstable suite.

           If  set  to  '*',  this  filter  will  be  disabled  (mostly  useful  for overriding the setting in a
           configuration file)

           Alias of the APT config option: <b>apt-file::Search-Filter::Suite</b>

       -F, --fixed-string
           Do not expand search pattern with generic characters at pattern's start and end.

           This is default for <b>show</b> and <b>list</b> actions.

       --index-names <u>type[,...]</u>, -I <u>type[,...]</u>
           Only search indexes of the given name(s). If set to the special value <u>ALL</u> (case-sensitive), then  all
           <b>apt-file</b> indices are searched.

           The  name(s)  must  match one or more of the identifiers used in the APT configuration (minus leading
           "Contents-").  Example if the configuration has the following snippets:

            Acquire::IndexTargets::deb::Contents-deb { ... };
            Acquire::IndexTargets::deb-src::Contents-dsc { ... };
            Acquire::IndexTargets::deb::Contents-udeb { ... };
            Acquire::IndexTargets::deb::Contents-deb-legacy {
               # Explicitly named to "Contents-deb"
               Identifier "Contents-deb";
               ...;
            };

           Then, apt-file will recognise "deb", "dsc" and "udeb" as index names.

           This option defaults to the value of the "apt-file::Index-Names"  apt  config  option  (or  "deb"  if
           omitted).

       -i, --ignore-case
           Ignore case when searching for pattern.

       -l, --package-only
           Only display package name; do not display file names.

       --stream-results
           <u>This</u> <u>is</u> <u>a</u> <u>special-usage</u> <u>option</u> <u>useful</u> <u>for</u> <u>dealing</u> <u>with</u> <u>searches</u> <u>that</u> <u>produce</u> <u>a</u> <u>high</u> <u>number</u> <u>of</u> <u>matches</u>
           <u>(10</u> <u>000+)</u> <u>or/and</u> <u>automated</u> <u>processing</u> <u>of</u> <u>results.</u>

           Disable deduplication logic and immediately emit a result when a match is found.

           This  can  greatly  reduce  the  memory  requirements for apt-file when processing searches with many
           matches.  It will also reduce the time until the first match is  emitted,  which  can  be  useful  if
           matches can be processed as they are discovered and the consumer can handle duplicated matches.

       -o, --option APT::Option=Value
           Set  a  Configuration  Option;  This  will  set  an  arbitrary configuration option. The syntax is <b>-o</b>
           <b>APT::Option=Value</b>.  <b>-o</b> and <b>--option</b> can be used multiple times to set different options.

           This   option   <u>can</u>   be   used   to   overwrite   other   command    line    options    (e.g.    "-o
           apt-file::Search-Filter::Origin=Debian" is effectively the same as "--filter-origins Debian").

           Note  that  the  config options passed via this option will also be passed to all APT tools called by
           <b>apt-file</b>.

       --substring-match
           Match if the given search <u>pattern</u> is a substring of a path or package.

           This is default for <b>search</b> and <b>find</b> actions.

       -v, --verbose
           Run apt-file in verbose/debug mode.

       -x, --regexp
           Treat pattern as a (perl) regular expression. See <b><a href="../man1/perlreref.1.html">perlreref</a></b>(1)  for  details.  Without  this  option,
           pattern is treated as a literal string to search for.

           Be advised that this option can be rather slow.  If performance is an issue, consider giving apt-file
           non-regex pattern matching too much and pipe the output to <b>perl</b> <b>-ne</b> <b>'/&lt;pattern-here&gt;/'</b>.  This enables
           apt-file to use more optimizations and leaves less work to the "slower" regex.

       -h, --help
           Display a short help screen.

</pre><h4><b>CONFIGURATION</b> <b>FILES</b></h4><pre>
       The apt-file command relies on the APT configuration.  Notably, the default configuration makes <b>apt</b> fetch
       Contents files by default during a call to <b>apt</b> <b>update</b>.

       For  information  on  how  to  configure  APT  to  fetch  more  or  fewer Contents files, please refer to
       <u>/usr/share/doc/apt-file/README.md.gz</u>.

       The following files are notably interesting:

       <u>/etc/apt/apt-file.conf</u>
           Note this path is actually configurable by  changing  the  value  of  the  APT  configuration  called
           "Dir::Etc::apt-file-main".  The listed value is merely the default value of that option.

           If this file is present, <b>apt-file</b> will read this file <u>after</u> all default APT configuration files.  Any
           config  file  <b>-c</b>  or  option (<b>-o</b>) will be evaluated <u>before</u> this file (and can override options set in
           it).

           The file will also be passed on to all APT tools called by <b>apt-file</b>.

       <u>/etc/apt/apt.conf.d/50apt-file.conf</u>
           Chooses which Contents files to download.  Note that apt-file recognises only "Acquire" targets  that
           starts with "Contents-".

   <b>Special</b> <b>configurations</b> <b>similar</b> <b>to</b> <b>apt-file</b> <b>2</b>
       Here  are  some <b>apt-file</b> 2 related work flows and how to (almost) emulate them with <b>apt-file</b> 3.  They are
       documented as a <u>starting</u> <u>point</u> for people, who are attached to these.

       The emulation may not be perfect for you out of the box.   Patches  are  welcome  to  keep  the  examples
       updated as long as the examples remain "trivial".

       •   Only make <b>apt-file</b> <b>update</b> fetch Contents files

           If   you   are   accustomed   to   <b>apt</b>   <b>update</b>  <u>not</u>  fetching  Contents  files,  then  you  can  run
           <u>/usr/share/doc/apt-file/examples/apt-file-2-update.sh</u>.  This script will configure <b>apt</b>  and  <b>apt-file</b>
           accordingly after best effort.

           Please read the resulting <u>/etc/apt/apt-file.conf</u>.

       •   Creating/using "user" caches

           Previous  versions  of  <b>apt-file</b> had a "--cache" option, which could be used to denote a directory to
           store the Contents files.  This can be emulated by doing:

             # Setup
             $ mkdir -p <a href="file:~/.cache/apt-file">~/.cache/apt-file</a> <a href="file:~/.config">~/.config</a>
             $ touch <a href="file:~/.cache/apt-file/dpkg-status">~/.cache/apt-file/dpkg-status</a>
             $ sed '/^Dir::State/ d; /^Dir::Cache/ d;' \
               /usr/share/doc/apt-file/examples/apt-file.conf \
               &gt; <a href="file:~/.config/apt-file.conf">~/.config/apt-file.conf</a>
             $ cat &lt;&lt;EOF &gt;&gt; <a href="file:~/.config/apt-file.conf">~/.config/apt-file.conf</a>
           Dir::State "$HOME/.cache/apt-file";
           Dir::Cache "$HOME/.cache/apt-file";
           Dir::State::status "$HOME/.cache/apt-file/dpkg-status";
           EOF

             # Update the cache
             $ apt-file -c <a href="file:~/.config/apt-file.conf">~/.config/apt-file.conf</a> update

             # Search using the cache
             $ apt-file -c <a href="file:~/.config/apt-file.conf">~/.config/apt-file.conf</a> show apt-file

             # Removal of the cache + config
             $ rm -fr <a href="file:~/.cache/apt-file">~/.cache/apt-file</a> <a href="file:~/.config/apt-file.conf">~/.config/apt-file.conf</a>

           (You will probably want to add an alias apt-file in your <u><a href="file:~/.bashrc">~/.bashrc</a></u>)

           Please read the resulting <u>./apt-file-user-cache.conf</u>.

</pre><h4><b>BUGS,</b> <b>QUIRKS</b></h4><pre>
       There are some known issues or "quirks" that are good to keep in mind.

       •   The Contents files do <b>not</b> include a leading slash on paths.  This means that  <u><a href="file:/bin/ls">/bin/ls</a></u>  is  listed  as
           <u>bin/ls</u>  in the Contents file.  If you are looking for something in a top-level directory, it is often
           better to omit the leading slash.

           The search algorithm will attempt to work around the leading slash, but  it  will  not  work  in  all
           cases.   As a workaround, try to pull the leading slash to the beginning of regular expressions.  For
           example, use "/(?:usr/bin/vim|sbin/lvm)" instead of  "<a href="file:///usr/lib/w3m/cgi-bin/w3mman2html.cgi?vim">/usr/bin/vim</a>|<a href="file:/sbin/lvm">/sbin/lvm</a>".

       •   When a new line has been added to the sources.list and apt update has not been run, apt-file does not
           print a warning message.

       •   By default, <b>apt-file</b> assumes that Contents files do <u>not</u> include a descriptive header (explaining what
           the file is and how to interpret it).  However, some tools have generated them  with  such  a  header
           (e.g.  for  old  versions  of  Contents  files  for the Debian archive or Contents files generated by
           reprepro prior to version 5.2.0).

           If you search such files, you will want to set <b>apt-file::Parser::Check-For-Description-Header</b> to true
           (e.g. in <u>/etc/apt/apt.conf.d/50apt-file.conf</u>) to have <b>apt-file</b> properly filter  out  the  headers  to
           avoid false matches.

           The reason this is not the default is that it costs a factor 2 in overhead while most common Contents
           files no longer have the header.  (see #881405 for more details).

       •   Not  all APT repositories have Contents files.  Notably common install media (CDs etc.) may omit them
           to conserve space.

           The default configuration by <b>apt-file</b> marks Contents files as optional and will just silently fail to
           search in Contents files in such repositories.

</pre><h4><b>EXIT</b> <b>CODES</b></h4><pre>
       <b>apt-file</b> has the following defined exit codes, which can be used for scripting purposes.

       <b>0</b>   <b>apt-file</b> returned successfully.  If the command was a search, there was at least one result.

       <b>1</b>   <b>apt-file</b> completed a search successfully, but it had no results.

       <b>2</b>   An error occurred (including invalid/conflicting user options).

       <b>3</b>   <b>apt-file</b> could not complete the command because the cache was empty.  Please ensure there are indices
           enabled in the APT config and run <b>apt</b> <b>update</b> to fetch them.

       <b>4</b>   <b>apt-file</b> could not complete the command because the cache  does  not  have  any  files  matching  the
           restrictions.   Either  change  the  restrictions  (e.g. <b>--index-names</b>) or configure apt to fetch the
           relevant files and run <b>apt</b> <b>update</b>.

       <b>255</b> There was an internal errors / uncaught exception in <b>apt-file</b>.  Please file a bug against <b>apt-file</b>.

       Any other exit code is reserved for future use.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man1/apt.1.html">apt</a></b>(1), <b><a href="../man8/apt-cache.8.html">apt-cache</a></b>(8), <b><a href="../man5/apt.conf.5.html">apt.conf</a></b>(5)

       The APT users guide in <a href="file:/usr/share/doc/apt/">/usr/share/doc/apt/</a>

       The example config in /usr/share/doc/apt-file/examples

       The README at <u>/usr/share/doc/apt-file/README.md.gz</u>

perl v5.36.0                                       2022-09-10                                        <u><a href="../man1/APT-FILE.1.html">APT-FILE</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>