<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>eta - calculate eta of a running process by repeatedly inspecting its progress</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/eta">eta_1.0.1-1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       eta - calculate eta of a running process by repeatedly inspecting its progress

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>eta</b> [<u>OPTIONS</u>] <u>TARGET</u> <u>PROGRESS_COMMAND</u>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>eta</b>  prints  the progress and estimated time to completion based on the given <u>PROGRESS_COMMAND</u> and <u>TARGET</u>
       value.

       <u>PROGRESS_COMMAND</u> should be a command that prints the current progress of some running  process.  If,  for
       example, the running process is a file copy, a suitable progress command would be <b>du</b> <b>-b</b> <b>some.file</b>

       <u>TARGET</u> should be the target value (value representing 100%) for the progress command. For a file copy the
       target value should be the size of the source file.

       If you have for example the following process running:

              <b>scp</b> <b>-r</b> <b>dir/</b> <b>myserver:</b>

       you could monitor its progress and eta using

              <b>eta</b> <b>"$(du</b> <b>-bs</b> <b>dir)"</b> <b>ssh</b> <b>myserver</b> <b>du</b> <b>-bs</b> <b>dir</b>

       It's  similar  to  <b><a href="../man1/watch.1.html">watch</a></b>(1)  in  the  sense that it executes the given command repeatedly, but instead of
       displaying the output of the command, it parses the output and displays the progress and eta.

       See <b>NOTES</b> for further details.

</pre><h4><b>OPTIONS</b></h4><pre>
       Options adjust the behavior and output of <b>eta</b>.

       <b>-s,</b> <b>--start</b> <b>VALUE|initial</b>
              Use <b>VALUE</b> as the starting value for the process (the value representing 0% progress). If you  are,
              for example, appending a 1GB file onto an existing 1GB file…

              <b>cat</b> <b>new_1GB</b> <b>&gt;&gt;</b> <b>existing_1GB</b>

       …you use…

              <b>eta</b> <b>--start</b> <b>1G</b> <b>2G</b> <b>du</b> <b>-b</b> <b>existing_1GB</b>

       …to avoid having the progress start at 50%.

       If  you  use  <b>initial</b>  the first value returned by the progress command will be used as start value. This
       could be useful if you don't know the original start value, or if you're only interested in the  progress
       of the remaining process.

       The default starting value is 0.

       <b>-i,</b> <b>--interval</b> <b>SECS</b>
              Run the progress command every <b>SECS</b> seconds. (May not be used in conjunction with <b>--cont</b>.)

       <b>-d,</b> <b>--down</b>
              To be used when the value decreases during progress. For example, if a script processes files in a
              directory  and  removes  them  as  they  get processed, you could use the following to monitor the
              progress:

              <b>eta</b> <b>--down</b> <b>0</b> <b>"ls</b> <b>|</b> <b>wc</b> <b>-l"</b>

       Since the starting value will rarely be 0 when using  <b>--down</b>  the  default  for  <b>--start</b>  is  changed  to
       <b>initial.</b>

       <b>-w,</b> <b>--width</b> <b>COLS</b>
              Specifies  the  width  of the output of <b>eta</b>.  If this option is not provided, the output will fill
              the width of the terminal, or, default to 80 columns if there's no TTY.

       <b>-c,</b> <b>--cont</b>
              Instead of running the given command repeatedly, <b>eta</b> will let the command keep running,  and  read
              the  progress  continuously  line by line. If the process to be monitored writes its progress to a
              log file, you could for example use something like

              <b>eta</b> <b>--cont</b> <b>100</b> <b>"tail</b> <b>-n1</b> <b>-f</b> <b>program.log</b> <b>|</b> <b>grep</b> <b>Progress:"</b>

       (May not be used in conjunction with <b>--interval</b>.)

       <b>-h,</b> <b>--help</b>
              Prints a help message and exits.

</pre><h4><b>EXAMPLES</b></h4><pre>
   <b>Copying</b> <b>files</b>
       If you're copying a directory to a remote host using something like

              <b>scp</b> <b>-r</b> <b>dir/</b> <b>server:</b>

       you can monitor the progress using

              <b>eta</b> <b>-i</b> <b>10</b> <b>"$(du</b> <b>-bs</b> <b>dir)"</b> <b>ssh</b> <b>server</b> <b>du</b> <b>-bs</b> <b>dir</b>

   <b>Growing</b> <b>number</b> <b>of</b> <b>files</b>
       If you're processing lots of files using something like

              <b>mogrify</b> <b>-resize</b> <b>50%</b> <b>-path</b> <b>output-dir</b> <b>*.jpg</b>

       (Resize all jpg images and store the smaller versions in <b>output-dir</b>.) You can use

              <b>eta</b> <b>$(ls</b> <b>*.jpg</b> <b>|</b> <b>wc</b> <b>-l)</b> <b>"ls</b> <b>output-dir/*.jpg</b> <b>|</b> <b>wc</b> <b>-l"</b>

       Note that the number of files may reach the target value before the last file is fully processed.

   <b>Shrinking</b> <b>number</b> <b>of</b> <b>files</b>
       If you're processing files and removing them as they get processed…

              <b>for</b> <b>f</b> <b>in</b> <b>*;</b> <b>do</b> <b>./process.sh</b> <b>$f</b> <b>&amp;&amp;</b> <b>rm</b> <b>$f;</b> <b>done</b>

       …you can monitor the progress using:

              <b>eta</b> <b>--down</b> <b>0</b> <b>"$(ls</b> <b>|</b> <b>wc</b> <b>-l)"</b>

   <b>Counting</b> <b>lines</b>
       You can use <b>--cont</b> and <b>cat</b> <b>-n</b> to continuously monitor progress based on number of lines printed:

              <b>tar</b> <b>vcfz</b> <b>bkp.tgz</b> <b>dir/</b> <b>|</b> <b>eta</b> <b>--cont</b> <b>$(find</b> <b>dir/</b> <b>|</b> <b>wc</b> <b>-l)</b> <b>cat</b> <b>-n</b>

   <b>The</b> <b>process</b> <b>prints</b> <b>progress</b> <b>in</b> <b>a</b> <b>log</b> <b>file</b>
       If your running process logs the progress to a file, you could do something like

              <b>eta</b> <b>--cont</b> <b>100</b> <b>"tail</b> <b>-n1</b> <b>-f</b> <b>program.log</b> <b>|</b> <b>grep</b> <b>Progress:"</b>

   <b>The</b> <b>process</b> <b>prints</b> <b>progress</b> <b>on</b> <b>stdout</b>
       If you have a process that prints its progress on stdout:

              $ ./my-script.sh
              Progress: 1 out of 55...
              Progress: 2 out of 55...
              Progress: 3 out of 55...
              …

       you can use <b>--cont</b> and the command itself as argument to <b>eta:</b>

              <b>eta</b> <b>--cont</b> <b>55</b> <b>./my-script.sh</b>

       or, if you're a UUOC fan:

              <b>./my-script.sh</b> <b>|</b> <b>eta</b> <b>--cont</b> <b>55</b> <b>cat</b>

</pre><h4><b>EXIT</b> <b>STATUS</b></h4><pre>
       <b>0</b>      Command completed successfully

       <b>1</b>      Invalid command line arguments

       <b>2</b>      Execution of external command failed

       <b>3</b>      Could not find a number indicating progress in command output

</pre><h4><b>NOTES</b></h4><pre>
       When parsing the <u>TARGET</u> value and <b>--start</b> argument, <b>eta</b> will look for the first digit and  start  parsing
       from  there.  The  given  values  may  have  a  suffix indicating a metric or binary magnitude. Supported
       suffixes are <b>k</b>, <b>m</b>, <b>g</b>, <b>t</b>, <b>ki</b>, <b>mi</b>, <b>gi</b> and <b>ti</b> (representing 10^3, 10^6, 10^9, 10^12, 2^10,  2^20,  2^30  and
       2^40 resp.)

       All  arguments  following  the  <u>TARGET</u>  value  will  be joined and used as the <u>PROGRESS_COMMAND</u>. That is,
       there's no need for double quotes here:

              <b>eta</b> <b>5g</b> <b>du</b> <b>-b</b> <b>bigfile</b>

       If stdout is a file or pipe, <b>eta</b> will print a new  line  between  each  progress  output,  instead  of  a
       carriage  return.  If  you  want  the  new  line behavior in the terminal, simply pipe the output through
       <b><a href="../man1/cat.1.html">cat</a></b>(1).

       <b>eta</b> will only look for the progress value in the first 1000  characters  of  the  first  line  of  output
       written by the progress command (unless <b>--cont</b> is provided).

</pre><h4><b>AUTHOR</b></h4><pre>
       Written by Andreas Lundblad (<a href="mailto:andreas.lundblad@gmail.com">andreas.lundblad@gmail.com</a>).

</pre><h4><b>REPORTING</b> <b>BUGS</b></h4><pre>
       Report bugs in the issue tracker at github: &lt;https://github.com/aioobe/eta/issues&gt;

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <a href="../man1/watch.1.html">watch</a>(1), <a href="../man1/pv.1.html">pv</a>(1), <a href="../man1/progress.1.html">progress</a>(1)

GNU                                             09 February 2019                                          <u><a href="../man1/ETA.1.html">ETA</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>