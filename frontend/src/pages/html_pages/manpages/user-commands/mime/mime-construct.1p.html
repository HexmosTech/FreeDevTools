<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>mime-construct - construct and optionally mail MIME messages</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/mime-construct">mime-construct_1.12+really1.11-1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       mime-construct - construct and optionally mail MIME messages

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>mime-construct</b> <u>switch</u>...

       Sorry, it's hard to provide a meaningful synopsis.  See the examples.

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>mime-construct</b> constructs and (by default) mails MIME messages.  It is entirely driven from the command
       line, it is designed to be used by other programs, or people who act like programs.

</pre><h4><b>OPTIONS</b></h4><pre>
   <b>Global</b> <b>Settings</b>
       <b>--debug</b>
           Turn debugging on.

       <b>--help</b>
           Show the usage message and die.

       <b>--output</b>
           Don't mail the generated message, print it to stdout instead.  This loses <b>--bcc</b> info.

       <b>--subpart</b>
           Generate  a  subpart  which can be used in another MIME message, rather than a top-level MIME message
           itself.  This turns on <b>--output</b> and changes some internal semantics a bit.  See the examples.

       <b>--version</b>
           Print the version and exit successfully, if this is the only arg.  Otherwise, print the  version  and
           die.

   <b>Main</b> <b>Header</b>
       These arguments add text to the top-level header of the message, or control who it gets sent to.

       <b>--bcc</b> <u>address</u>
           Add  <u>address</u> to the recipient list.  This doesn't actually add anything to the header, of course.  If
           you're not actually mailing the message (if you use <b>--output</b> or <b>--subpart</b>) <b>--bcc</b> will have no effect.

       <b>--cc</b> <u>address</u>
           Add an address to the <b>Cc:</b> list.

       <b>--embedded-to</b>
           Send the message to the recipients already listed in the header, in  addition  to  those  given  with
           <b>--to</b>,  <b>--cc</b>,  and <b>--bcc</b>.  This makes sense if you use the <b>--header</b> switch to add your own <b>To:</b> or <b>Cc:</b>.
           In this case you probably don't want to use <b>--to</b> or <b>--cc</b> because they would create new headers rather
           than adding to the ones already in the message.

           This switch passes the <b>-t</b> switch to sendmail (<b>mime-construct</b> doesn't try to  parse  the  headers  you
           provide), so it doesn't really do anything if you're not mailing the message.

       <b>--header</b> <u>str</u>
           Add  arbitrary  text to the header.  The <u>str</u> can be anything you like, including multiple lines.  You
           can create invalid messages this way.  If you include a blank line in the <u>str</u> you'll really screw  up
           the message.

       <b>--multipart</b> <u>str</u>
           This  specifies  the  multipart  content  type and options.  The default is "multipart/mixed".  Don't
           include a "boundary" setting, that's supplied by <b>mime-construct</b>.

           It's okay if you specify the <b>--multipart</b> type but the message turns out to be a single part, the type
           you supply will just be ignored.

       <b>--prelude</b> <u>str</u>
           This adds <u>str</u> to the multipart prelude text.  If you specify <b>--prelude</b> multiple times the  <u>str</u>s  will
           all be concatenated.

           There isn't any default for this text.  It seems to me that nowadays adding an explanation of MIME to
           the beginning of a message is like explaining how to use a seat buckle to people who are riding in an
           airplane.

           It's okay if you specify the <b>--prelude</b> but the message turns out to be a single part, the prelude you
           supply will just be ignored.

       <b>--subject</b> <u>str</u>
           Specify the subject for the message.

       <b>--to</b> <u>address</u>
           Add an address to the <b>To:</b> list.

   <b>Per-part</b> <b>Header</b>
       These  switches control the per-part headers.  If the message turns out not to be multipart they actually
       add data to the top level header.

       Each of these applies only to the next part output.  After each part is output they are  reset  to  their
       default  values.   It  doesn't  make  sense  to use them without a following part, so <b>mime-construct</b> will
       sputter and die if you try to do that.

       <b>--attachment</b> <u>name</u>
           This adds a "Content-Disposition: attachment" header  with  the  given  <u>name</u>  as  the  value  of  the
           "filename"  attribute.   It's just a convenience, since <b>mime-construct</b> is often used to send files as
           attachments.

           Using <b>--attachment</b> <u>name</u> does not cause <b>mime-construct</b> to read any data from the file called <u>name</u>!  It
           just uses that name in the header.  The actual data which will go into this part of the message comes
           from one of the regular part output switches (given below).

           You might prefer to use the <b>--file-attach</b> switch, which does read from the <u>name</u>d file.

       <b>--encoding</b> <u>type</u>
           This specifies the type of encoding you want this part to  use.   You  normally  shouldn't  use  this
           switch, though.  If this switch isn't used <b>mime-construct</b> will choose an appropriate encoding.

           The  data  you supply mustn't be encoded already, <b>mime-construct</b> will encode it according to the <u>type</u>
           you specify here.  Valid encodings are <b>7bit</b>, <b>8bit</b>, <b>binary</b>, <b>quoted-printable</b>, and <b>base64</b>.   It's  easy
           to generate an illegal MIME message by specifying the encoding yourself.

       <b>--part-header</b> <u>str</u>
           Add  arbitrary  text  to  the  per-part header.  The <u>str</u> can be anything you like, including multiple
           lines.  You can create invalid messages this way.  If you include a blank  line  in  the  <u>str</u>  you'll
           really screw up the message.

       <b>--type</b> <u>type</u>
           Specify  the  content type for this part.  If you don't specify a <b>--type</b> it defaults to "text/plain".
           The <u>type</u> you supply can contain not only the type proper but also options.  The whole thing will just
           be plopped onto the end of "Content-Type:" and stuck into the header.

           You might prefer to use the <b>--file-auto</b> or <b>--file-attach</b> switches, which set the <b>--type</b> automatically
           based on a file's name.

   <b>Part</b> <b>Output</b>
       These switches add data to the body of the message.  You use one of these for each for  each  part  of  a
       multipart message (or just one of them if the message isn't to be multipart).

       <b>--file</b> <u>path</u>
       <b>--file-auto</b> <u>path</u>
       <b>--file-attach</b> <u>path</u>
       <b>--attach</b> <u>path</u>
       <b>--string</b> <u>str</u>
       <b>--body</b> <u>str</u>
           Use the contents of the file <u>path</u> or the literal string <u>str</u> as the body of this part.

           <b>--file-auto</b> causes the Content-Type to be set based on the file's name, if possible.

           <b>--file-attach</b> does that and sets the <b>--attachment</b> name as well.

           Be  sure to include the trailing newline on <u>str</u> unless there really isn't supposed to be one.  If you
           leave  the  trailing  newline  off  the  part  will  have  to  be  encoded   in   "base64"   (because
           "quoted-printable"  has  an  artificial limitation which prevents it from being able to encode such a
           data stream).

           <b>--attach</b> is an alias for <b>--file-attach</b>, and <b>--body</b> is an alias for <b>--string</b>.

       <b>--subpart-file</b> <u>path</u>
       <b>--subpart-string</b> <u>str</u>
           Use either the contents of <u>path</u> or <u>str</u> itself as the body of this part, but treat it  as  a  subpart.
           This  means that the data contains both some headers and some text.  It also means that you can't use
           <b>--type</b> or <b>--encoding</b> for this part.

           Normally the <u>path</u> or <u>str</u> will have been generated by a different invocation of  <b>mime-construct</b>  which
           was given the <b>--subpart</b> switch.

       Arguments to switches which take a file name (such as <b>--file</b> and <b>--subpart-file</b>) can have some magic.  If
       there is no file with the <u>path</u> supplied a regular Perl <b>open()</b> is done on it.  See "EXAMPLES".

</pre><h4><b>EXAMPLES</b></h4><pre>
       The examples assume that $nl contains a newline.  The other variables used are I hope self-explanatory.

       Send a simple message.

           mime-construct --to "$recip" --subject 'hi there' --string "$body"

       Send a message which is read from stdin.

           fortune | mime-construct --to "$recip" --subject fortune --file -

       Send  a  plain  text  part  and  attach  a  file,  setting  the file's content type and <b>--attachment</b> name
       automatically.

           mime-construct --to "$recip" --subject "$file" \
               --string "Here's the file I told you about.$nl" \
               --file-attach "$file"

       Most people think of attachments as multipart messages, but they don't have to be.  This generates a  zip
       of all the files in the current directory and sends them as an attachment but as a single part message.

           zip -q - * |
               mime-construct --to "$recip" --subject 'zipped directory' \
                   --attachment dir.zip --type application/zip --file -

       You  can  use  the  full  expressiveness  of Perl's <b>open()</b> when constructing file names.  Eg, you can run
       processes XXX bad examples, there's no file names

           mime-construct --to "$recip" --subject "$subject" \
            --string "Here are those two files you wanted.$nl" \
            --type application/x-gzip --attachment file1.gz --file 'gzip -c file1 |' \
            --type application/x-gzip --attachment file1.gz --file 'gzip -c file2 |'

       or read from alternate file descriptors ("&lt;&amp;=4" to  read  from  file  descriptor  4)  or  whatever.   See
       perlopentut for a tutorial.

       Here's  an  example of using a separate invocation of <b>mime-construct</b> to create a subpart.  This creates a
       message which has two parts at the top level.  The first part is some text, the second part is a  digest.
       The digest itself is a multipart message which contains a number of message/rfc822 parts.

           msg_args=
           for msg in $msg_list
           do
               msg_args="$msg_args --type message/rfc822 --file $msg"
           done

           set fnord
           for recip in $recip_list
           do
               set "$@" --bcc $recip
           done
           shift

           mime-construct --subpart --multipart multipart/digest $msg_args |
               mime-construct \
                   --header "To: Digest recipients:;$nl" \
                   --subject 'Foo digest' \
                   "$@" \
                   --file "$introduction" \
                   --subpart-file -

       Here  is  how to send an encrypted messages (multipart/encrypted, as defined in RFC 1847).  You use <b>mime-</b>
       <b>construct</b> "--subpart" to generate the real message you want to send (which can be kind of MIME message --
       non-text, multi-part, what have you), then encrypt that and use another <b>mime-construct</b> to  construct  and
       send the multipart/encrypted message which contains it.

           enc_type=application/pgp-encrypted
           enc_params="Version: 1$nl"

           mime-construct --subpart --file body --file-auto image.jpg |
             gpg --encrypt --armor -r "$recip" |
             mime-construct --output \
               --to "$recip" \
               --subject "$subject" \
               --multipart "multipart/encrypted; protocol=\"$enc_type\"" \
               --type "$enc_type" \
               --string "$enc_params" \
               --type application/octet-stream \
               --file -

</pre><h4><b>BUGS</b></h4><pre>
       The  body  of  the  message  is always held in memory, so you can expect problems if you work with bodies
       which are large compared to the amount of memory you've got.

</pre><h4><b>AVAILABILITY</b></h4><pre>
       The code is licensed under the GNU GPL.  Check <a href="http://www.argon.org/~roderick/">http://www.argon.org/~roderick/</a> for updated versions.

</pre><h4><b>AUTHOR</b></h4><pre>
       Roderick Schertler &lt;<a href="mailto:roderick@argon.org">roderick@argon.org</a>&gt;

perl v5.36.0                                       2023-01-06                                 <u><a href="../man1p/MIME-CONSTRUCT.1p.html">MIME-CONSTRUCT</a></u>(1p)
</pre>
 </div>
</div></section>
</div>
</body>
</html>