<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>v.what.rast  - Uploads raster values at positions of vector points to the table.</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/grass-doc">grass-doc_8.4.1-1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       <b>v.what.rast</b>  - Uploads raster values at positions of vector points to the table.

</pre><h4><b>KEYWORDS</b></h4><pre>
       vector, sampling, raster, position, querying, attribute table, surface information

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>v.what.rast</b>
       <b>v.what.rast</b> <b>--help</b>
       <b>v.what.rast</b>  [-<b>ip</b>]  <b>map</b>=<u>name</u>   [<b>layer</b>=<u>string</u>]    [<b>type</b>=<u>string</u>[,<u>string</u>,...]]   <b>raster</b>=<u>name</u>   [<b>column</b>=<u>name</u>]
       [<b>where</b>=<u>sql_query</u>]   [--<b>help</b>]  [--<b>verbose</b>]  [--<b>quiet</b>]  [--<b>ui</b>]

   <b>Flags:</b>
       <b>-i</b>
           Interpolate values from the nearest four cells

       <b>-p</b>
           Print categories and values instead of updating the database

       <b>--help</b>
           Print usage summary

       <b>--verbose</b>
           Verbose module output

       <b>--quiet</b>
           Quiet module output

       <b>--ui</b>
           Force launching GUI dialog

   <b>Parameters:</b>
       <b>map</b>=<u>name</u> <b>[required]</b>
           Name of vector points map for which to edit attributes
           Or data source for direct OGR access

       <b>layer</b>=<u>string</u>
           Layer number or name
           Vector features can have category values in different layers. This number determines which  layer  to
           use. When used with direct OGR access this is the layer name.
           Default: <u>1</u>

       <b>type</b>=<u>string[,string</u>,...]
           Input feature type
           Options: <u>point,</u> <u>centroid</u>
           Default: <u>point</u>

       <b>raster</b>=<u>name</u> <b>[required]</b>
           Name of existing raster map to be queried

       <b>column</b>=<u>name</u>
           Name of attribute column to be updated with the query result

       <b>where</b>=<u>sql_query</u>
           WHERE conditions of SQL statement without ’where’ keyword
           Example: income &lt; 1000 and population &gt;= 10000

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <u>v.what.rast</u>  retrieves  raster value from a given raster map for each point or centroid stored in a given
       vector map. It can update a <b>column</b> in the linked vector attribute table with the  retrieved  raster  cell
       value or print it.

       The  column  type  needs  to be numeric (integer, float, double, ...). If the column doesn’t exist in the
       vector attribute table than the module will create the new column of type corresponding  with  the  input
       raster map.

       If  the  <b>-p</b> flag is used, then the attribute table is not updated and the results are printed to standard
       output.

       If the <b>-i</b> flag is used, then the value to be uploaded to the  database  is  interpolated  from  the  four
       nearest  raster  cells  values using an inverse distance weighting method (IDW). This is useful for cases
       when the vector point density is much higher than the raster cell size.

</pre><h4><b>NOTES</b></h4><pre>
       Points and centroid with shared category number cannot be processed.  To solved this,  unique  categories
       may be added with <u>v.category</u> in a separate layer.

       If  multiple  points  have the same category, the attribute value is set to NULL.  If the raster value is
       NULL, then attribute value is set to NULL.

       <u>v.what.rast</u> operates on the attribute table. To modify the vector geometry instead, use <u>v.drape</u>.

       Categories and values are output unsorted with the print flag. To sort  them  pipe  the  output  of  this
       module  into the UNIX sort tool (sort -n). If you need coordinates, after sorting use <u>v.out.ascii</u> and the
       UNIX paste tool (paste -d’|’). In the case of a NULL result, a "*" will be printed in lieu of the value.

       The interpolation flag is only useful for continuous value raster maps, if a categorical raster is  given
       as input the results will be nonsense.  Since the search window is limited to four raster cells there may
       still  be raster cell-edge artifacts visible in the results, this compromise has been made for processing
       speed. If one or more of the nearest four raster cells is NULL, then only  the  raster  cells  containing
       values will be used in the weighted average.

</pre><h4><b>EXAMPLES</b></h4><pre>
   <b>Transferring</b> <b>raster</b> <b>values</b> <b>into</b> <b>existing</b> <b>attribute</b> <b>table</b> <b>of</b> <b>vector</b> <b>points</b> <b>map</b>
       Reading  values  from  raster map at position of vector points, writing these values into a column of the
       attribute table connected to the vector map:

       # work on copy of original geodetic points map
       g.copy vector=geodetic_pts,mygeodetic_pts
       # set computational region to raster map to be queried
       g.region raster=elev_state_500m -p
       # query raster cells (a new column will be added to existing table)
       v.what.rast map=mygeodetic_pts raster=elev_state_500m column=height
       # compare official geodetic heights to those of elevation model
       v.db.select map=mygeodetic_pts columns=Z_VALUE,height separator=comma

   <b>Transferring</b> <b>raster</b> <b>values</b> <b>into</b> <b>new</b> <b>vector</b> <b>points</b> <b>map</b>
       In case of a vector map without attached attribute table, first add a new attribute table. This table  is
       then populated with values queried from the raster map:

       # create new random vector points map
       v.random pnts n=100
       # add new table, link to map
       v.db.addtable map=pnts column="height double precision"
       # set computational region to raster map to be queried
       g.region raster=elevation -p
       # query raster map and upload values to vector table into specified column
       v.what.rast map=pnts raster=elevation column=height
       # verify new attribute table:
       v.db.select pnts
       # verify statistics of uploaded values:
       v.univar map=pnts column=height type=point

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
        <u>v.category,</u> <u>v.db.addtable,</u> <u>v.db.select,</u> <u>v.drape,</u> <u>v.univar,</u> <u>v.rast.stats,</u> <u>v.what.vect</u>

</pre><h4><b>AUTHORS</b></h4><pre>
       Radim Blazek
       Hamish Bowman (interpolation)

</pre><h4><b>SOURCE</b> <b>CODE</b></h4><pre>
       Available at: v.what.rast source code (history)

       Accessed: Friday Apr 04 01:20:39 2025

       Main index | Vector index | Topics index | Keywords index | Graphical index | Full index

       © 2003-2025 GRASS Development Team, GRASS GIS 8.4.1 Reference Manual

GRASS 8.4.1                                                                                  <u><a href="../man1grass/v.what.rast.1grass.html">v.what.rast</a></u>(1grass)
</pre>
 </div>
</div></section>
</div>
</body>
</html>