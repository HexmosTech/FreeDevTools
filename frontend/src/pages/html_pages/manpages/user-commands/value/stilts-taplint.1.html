<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>stilts-taplint - Tests TAP services</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/stilts">stilts_3.5.1-2_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       stilts-taplint - Tests TAP services

</pre><h4><b>SYNOPSIS</b></h4><pre>

       <b>stilts</b> <b>taplint</b> [tapurl=<u>&lt;url-value&gt;</u>] [stages=<u>[+/-]XXX</u> <u>...</u>] [maxtable=<u>&lt;int-value&gt;</u>] [tables=<u>&lt;name-list&gt;</u>]
                      [format=<u>text|json</u>] [report=<u>[EWISF]+</u>] [maxrepeat=<u>&lt;int-value&gt;</u>] [truncate=<u>&lt;int-value&gt;</u>]
                      [debug=<u>true|false</u>] [interface=<u>tap1.0|tap1.1|cap</u>] [auth=<u>true|false</u>] [syncurl=<u>&lt;url-value&gt;</u>]
                      [asyncurl=<u>&lt;url-value&gt;</u>] [tablesurl=<u>&lt;url-value&gt;</u>] [capabilitiesurl=<u>&lt;url-value&gt;</u>]
                      [availabilityurl=<u>&lt;url-value&gt;</u>] [examplesurl=<u>&lt;url-value&gt;</u>]

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <u>taplint</u>  runs  a series of tests on a Table Access Protocol (TAP) service and reports the results. Unlike
       most of the other tools in this package it is not likely to be of use to normal users; its  intended  use
       is  for  people developing or operating TAP services to assess their services, perhaps with a view to im‐
       proving compliance.

       Testing takes place in a number of stages; it is possible to choose which stages are run in by using  the
       <u>stages</u> parameter. The default output (<u>format=text</u>) is line-based text to standard output, and each report
       line  is  of  the (fairly greppable) form: T-SSS-MMMMxN aaaaa... where the parts have the following mean‐
       ings:

         * <u>T</u>: Report type, one of E(rror), W(arning), I(nfo), S(ummary), F(ailure). See the documentation of the
           <u>report</u> parameter for further description of what these mean. The <u>report</u> parameter can be used to sup‐
           press some of these; only <u>E</u> indicates actual service compliance errors, but including the others  may
           make it easier to see what's going on.

         * <u>SSS</u>:  Stage abbreviation, as used in the <u>stages</u> parameter. The <u>stages</u> parameter can be used to select
           which stages are run.

         * <u>MMMM</u>: Message label, which is always the same for messages generated by the  same  test,  is  usually
           different for messages generated by different tests, and may be somewhat mnemonic.

         * <u>x</u>: Continuation indicator, either "<u>-</u>" or "<u>+</u>". In most cases it is "<u>-</u>", indicating the first line of a
           message,  but  multi-line  messages  (rare)  use  "<u>-</u>" for the first line and "<u>+</u>" for any continuation
           lines.

         * <u>N</u>: Sequence number, which is 1 for the first time message <u>T-SSS-MMMM</u> is reported,  and  increases  by
           one  for  each subsequent appearance. After a certain maximum (determined by the <u>maxrepeat</u> parameter)
           additional reports with the same code are no longer output individually, but a summary of the  number
           of  reports  so  discarded is written at the end of the section with the character "<u>x</u>" instead of the
           sequence number. This behaviour prevents the output being swamped by multiple reports of the same is‐
           sue. If the <u>maxrepeat</u> parameter is increased above 9, more than one digit will be used here (so  e.g.
           for maxrepeat=999, the format would be <u>NNN</u> not <u>N</u>).

         * <u>aaaaa...</u>: Message text, a free text description of what is being reported.

       If  you  don't  like that format, others may be selected using the <u>format</u> parameter, which currently also
       supports JSON. For more flexible interaction with the output you can invoke <u>taplint</u> programmatically  and
       supply your own instance.

       TAP  is  a  complicated beast, referencing many standards (including TAP, UWS, VODataService, ADQL, VORe‐
       source, VOSI, TAPRegExt, DALI, ObsCore, ObsLocTAP, EPN-TAP, VOTable, UCD, VOUnits, SSO, SoftID, HTTP, RD‐
       Fa Lite), and it is hard to write a validator which is comprehensive, especially one  which  can  provide
       useful  output  for  services  with a range of compliance levels. This tool tries to make a wide range of
       tests, but does not claim to be comprehensive. An idea of what tests it does perform can be  gained  from
       the  stages listed in the description of the <u>stages</u> parameter. It does make a fairly good job of checking
       that declared metadata is consistent and matches the data actually returned from queries,  it  tests  job
       submission in most of the various ways permitted by the TAP standard, and it checks all returned VOTables
       by  effectively  running them through <u>votlint</u>. Things it does not test much include complex ADQL queries,
       coordinate/STC-related data types, queries in non-ADQL languages, and service registration.

       HTTP connections made by this validator are flagged in the <u>User-Agent</u> field with the token "<u>(IVOA-test)</u>".

</pre><h4><b>OPTIONS</b></h4><pre>
       <b>tapurl=</b><u>&lt;url-value&gt;</u>
              The base URL of a Table Access  Protocol  service.  This  is  the  bare  URL  without  a  trailing
              "/[a]sync".

              In  the  usual case, the default values of the various endpoints (sync and async query submission,
              tables metadata, service-provided examples etc) use this URL as a parent and append standard  sub-
              paths.

              In  some  cases  however, determination of the endpoints is more complicated, as determined by the
              <u>interface</u> parameter which may cause endpoints  to  be  read  from  the  capabilities  document  at
              <u>tapurl/capabilities</u>,  and by other endpoint-specific parameters (<u>syncurl</u>, <u>asyncurl</u>, <u>tablesurl</u>, <u>ca‐</u>
              <u>pabilitiesurl</u>, <u>availabilityurl</u>, <u>examplesurl</u>) for fine tuning.

       <b>stages=</b><u>[+/-]XXX</u> <u>...</u>
              Determines the validation stages which the validator will peform. Each stage is represented  by  a
              short code, as follows:

                * <u>TMV</u>: Validate table metadata against XML schema

                * <u>TME</u>: Check content of tables metadata from /tables

                * <u>TMS</u>: Check content of tables metadata from TAP_SCHEMA

                * <u>TMC</u>: Compare table metadata from /tables and TAP_SCHEMA

                * <u>CPV</u>: Validate capabilities against XML schema

                * <u>CAP</u>: Check TAP and TAPRegExt content of capabilities document

                * <u>AVV</u>: Validate availability against XML schema

                * <u>QGE</u>: Make ADQL queries in sync GET mode

                * <u>QPO</u>: Make ADQL queries in sync POST mode

                * <u>QAS</u>: Make ADQL queries in async mode

                * <u>UWS</u>: Test asynchronous UWS/TAP behaviour

                * <u>MDQ</u>: Check table query result columns against declared metadata

                * <u>OBS</u>: Test implementation of ObsCore Data Model

                * <u>LOC</u>: Test implementation of ObsLocTAP Data Model

                * <u>UPL</u>: Make queries with table uploads

                * <u>EXA</u>: Check content of examples document

              This parameter can specify what stages to run in the following ways:

                * if left blank, the default list of stages (which is most or all of them) will be run

                * if the value is a space-separated list of three-letter codes, it lists the stages that will be
                  run

                * if  the value is a space separated list of three-letter codes preceded by a "+" or "-" charac‐
                  ter, the named stages will be removed or added to the default list
               So "<u>TME</u> <u>CAP</u>" will run only Table Metadata and Capability stages, while "<u>-EXA</u> <u>-UPL</u>" will  run  all
              the  default  stages  apart  from Examples and Upload. The order in which stages are listed is not
              significant.

              Note that removing some stages may affect the operation of others; for instance table metadata  is
              acquired  from  the  metadata stages, and avoiding those will mean that later stages which use the
              table metadata to pose queries will not be able to do so with knowledge of the database schema.

       <b>maxtable=</b><u>&lt;int-value&gt;</u>
              Limits the number of tables from the service that will be tested.  Currently,  this  only  affects
              stage  <u>MDQ</u>. If the value is left blank (the default), or if it is larger than the number of tables
              actually present in the service, it will have no effect.

       <b>tables=</b><u>&lt;name-list&gt;</u>
              If supplied, this specifies a list of tables to test. It may be set to a space- or comma-separated
              list of table names for consideration; any tables not covered by this list are mostly ignored  for
              the  purposes  of  reporting.  Matching  against table names is case-insensitive, and the asterisk
              character "<u>*</u>" may be used as a wildcard to match any sequence of characters. Note that matching is
              against the declared table name which may or may not include a schema  name  prefix  depending  on
              service behaviour.

              By default this parameter is not set, which means that all tables are considered.

       <b>format=</b><u>text|json</u>
              Determines the format of the output. Possible values are <u>text</u>, <u>json</u>.

              Note not all of the other parameters may be applicable to all output formats.

       <b>report=</b><u>[EWISF]+</u>
              Letters  indicating  which  message types should be listed. Each character of the string is one of
              the letters <u>E</u>, <u>W</u>, <u>I</u>, <u>S</u>, <u>F</u> with the following meanings:

                * <u>E</u>: Error in operation or standard compliance of the service.

                * <u>W</u>: Warning that service behaviour is questionable, or contravenes a  standard  recommendation,
                  but is not in actual violation of the standard.

                * <u>I</u>: Information about progress, for instance details of queries made.

                * <u>S</u>: Summary of previous successful/unsuccessful reports.

                * <u>F</u>:  Failure  of the validator to perform some testing. The cause is either some error internal
                  to the validator, or some error or missing functionality in the service which has already been
                  reported.

       <b>maxrepeat=</b><u>&lt;int-value&gt;</u>
              Puts a limit on the number of times that a single message will be repeated.  By  setting  this  to
              some reasonably small number, you can ensure that the output does not get cluttered up by millions
              of repetitions of essentially the same error.

       <b>truncate=</b><u>&lt;int-value&gt;</u>
              Limits the line length written to the output.

       <b>debug=</b><u>true|false</u>
              If  true,  debugging output including stack traces will be output along with the normal validation
              messages.

       <b>interface=</b><u>tap1.0|tap1.1|cap</u>
              Defines how the service endpoints and the version of the TAP protocol to use for queries is deter‐
              mined. This may take one of the following (case-insensitive) values:

                * <u>TAP1.0</u>: The standard TAP endpoints are used, without examining the service's capabilities doc‐
                  ument. The service is queried using version 1.0 of the TAP protocol.

                * <u>TAP1.1</u>: The standard TAP endpoints are used, without examining the service's capabilities doc‐
                  ument. The service is queried using version 1.1 of the TAP protocol.

                * <u>cap</u>: The service's capabilities document is examined, and the endpoints listed there are used.

              The capabilities document, if used, is read from <u>tapurl</u>/capabilities  unless  the  <u>capabilitiesurl</u>
              parameter is defined, in which case that is used.

              The  baseline value of all the TAP service endpoints (<u>sync</u>, <u>async</u>, <u>tables</u>, <u>capabilities</u>, <u>examples</u>)
              are determined by this parameter, but each of those endpoint values may be overridden individually
              by other endpoint-specific parameters (<u>syncurl</u>, <u>asyncurl</u>, <u>tablesurl</u>, <u>capabilitiesurl</u>,  <u>availabili‐</u>
              <u>tyurl</u>, <u>examplesurl</u>)

              For default (unauthenticated) access, the default value is usually suitable.

       <b>auth=</b><u>true|false</u>
              If true, then an attempt will be made to authenticate with the TAP service even if anonymous oper‐
              ation is permitted. If the service offers authentication, you will be asked for credentials.

              To  use  this  option  in  non-interactive  contexts,  you  may  want to use the <u>auth.username</u> and
              <u>auth.password</u> system properties.

       <b>syncurl=</b><u>&lt;url-value&gt;</u>
              Sets the URL to use for the sync  endpoint  of  the  TAP  service.  The  default  value  would  be
              <u>&lt;tapurl&gt;/sync</u>, but it may be influenced by the chosen <u>interface</u> value, and it can be further over‐
              ridden by setting this value.

       <b>asyncurl=</b><u>&lt;url-value&gt;</u>
              Sets  the  URL  to  use  for  the  async  endpoint  of the TAP service. The default value would be
              <u>&lt;tapurl&gt;/async</u>, but it may be influenced by the chosen <u>interface</u> value,  and  it  can  be  further
              overridden by setting this value.

       <b>tablesurl=</b><u>&lt;url-value&gt;</u>
              Sets  the  URL  to  use  for  the  tables  endpoint of the TAP service. The default value would be
              <u>&lt;tapurl&gt;/tables</u>, but it may be influenced by the chosen <u>interface</u> value, and  it  can  be  further
              overridden by setting this value.

       <b>capabilitiesurl=</b><u>&lt;url-value&gt;</u>
              Sets  the  URL to use for the capabilities endpoint of the TAP service. The default value would be
              <u>&lt;tapurl&gt;/capabilities</u>, but it may be influenced by the chosen <u>interface</u> value, and it can be  fur‐
              ther overridden by setting this value.

       <b>availabilityurl=</b><u>&lt;url-value&gt;</u>
              Sets  the  URL to use for the availability endpoint of the TAP service. The default value would be
              <u>&lt;tapurl&gt;/availability</u>, but it may be influenced by the chosen <u>interface</u> value, and it can be  fur‐
              ther overridden by setting this value.

       <b>examplesurl=</b><u>&lt;url-value&gt;</u>
              Sets  the  URL  to  use  for  the examples endpoint of the TAP service. The default value would be
              <u>&lt;tapurl&gt;/examples</u>, but it may be influenced by the chosen <u>interface</u> value, and it can  be  further
              overridden by setting this value.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man1/stilts.1.html">stilts</a></b>(1)

       If the package stilts-doc is installed, the full documentation <b>SUN/256</b> is available in HTML format:
       file:///usr/share/doc/stilts/sun256/index.html

</pre><h4><b>VERSION</b></h4><pre>
       STILTS version 3.5.1-debian

       This  is the Debian version of Stilts, which lack the support of some file formats and network protocols.
       For differences see
       file:///usr/share/doc/stilts/README.Debian

</pre><h4><b>AUTHOR</b></h4><pre>
       Mark Taylor (Bristol University)

                                                    Mar 2017                                   <u><a href="../man1/STILTS-TAPLINT.1.html">STILTS-TAPLINT</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>