<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>umoci config - Modifies the configuration of an OCI image</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/umoci">umoci_0.4.7+ds-4_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       umoci config - Modifies the configuration of an OCI image

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>umoci</b>    <b>config</b>    <b>--image</b>=<u>image</u>[:<u>tag</u>]    [<b>--tag</b>=<u>new-tag</u>]    [<b>--no-history</b>]   [<b>--history.comment</b>=<u>comment</u>]
       [<b>--history.created_by</b>=<u>created_by</u>]  [<b>--history.author</b>=<u>author</u>]   [<b>--history-created</b>=<u>date</u>]   [<b>--clear</b>=<u>value</u>]
       [<b>--config.user</b>=<u>value</u>]   [<b>--config.exposedports</b>=<u>value</u>]   [<b>--config.env</b>=<u>value</u>]  [<b>--config.entrypoint</b>=<u>value</u>]
       [<b>--config.cmd</b>=<u>value</u>]    [<b>--config.volume</b>=<u>value</u>]    [<b>--config.label</b>=<u>value</u>]     [<b>--config.workingdir</b>=<u>value</u>]
       [<b>--created</b>=<u>value</u>] [<b>--author</b>=<u>value</u>] [<b>--architecture</b>=<u>value</u>] [<b>--os</b>=<u>value</u>] [<b>--manifest.annotation</b>=<u>value</u>]

</pre><h4><b>DESCRIPTION</b></h4><pre>
       Modify the configuration and manifest data for a particular tagged OCI image -- <b>overwriting</b> <b>it</b> <b>unless</b> <b>you</b>
       <b>specify</b> <b>--tag</b>. If <b>--no-history</b> was not specified, a history entry is appended to the tagged OCI image for
       this  change  (with  the  various <b>--history.</b> flags controlling the values used). To view the history, see
       <b><a href="../man1/umoci-stat.1.html">umoci-stat</a></b>(1).

       Note that the original image tag (the argument to <b>--image</b>) will <b>not</b> be  modified  unless  the  target  of
       <b><a href="../man1/umoci-config.1.html">umoci-config</a></b>(1) is the original image tag.

</pre><h4><b>OPTIONS</b></h4><pre>
       The global options are defined in <b><a href="../man1/umoci.1.html">umoci</a></b>(1).

       <b>--image</b>=<u>image</u>[:<u>tag</u>]
         The source tagged OCI image whose config will be modified. <u>image</u> must be
         a path to a valid OCI image and <u>tag</u> must be a valid tag in the image. If
         <u>tag</u> is not provided it defaults to "latest".

       <b>--tag</b>=<u>new-tag</u>
         Tag name for the modified image, if unspecified then the original tag
         provided to <b>--image</b> will be clobbered.

       <b>--no-history</b>
         Causes no history entry to be added for this operation.

       <b>--history.comment</b>=<u>comment</u>
         Comment for the history entry corresponding to this modification of the image
         configuration. If unspecified, <b><a href="../man1/umoci.1.html">umoci</a></b>(1) will generate an
         implementation-dependent value.

       <b>--history.created_by</b>=<u>created_by</u>
         CreatedBy entry for the history entry corresponding to this modification of
         the image configuration. If unspecified, <b><a href="../man1/umoci.1.html">umoci</a></b>(1) will generate an
         implementation-dependent value.

       <b>--history.author</b>=<u>author</u>
         Author value for the history entry corresponding to this modification of the
         image configuration. If unspecified, this value will be the image's author
         value <b>after</b> any modifications were made by this call of
         <b><a href="../man1/umoci-config.1.html">umoci-config</a></b>(1).

       <b>--history-created</b>=<u>date</u>
         Creation date for the history entry corresponding to this modifications of
         the image configuration. This must be an ISO8601 formatted timestamp (see
         <b><a href="../man1/date.1.html">date</a></b>(1)). If unspecified, the current time is used.

       <b>--clear</b>=<u>value</u>
         Removes all pre-existing entries for a given set or list configuration option
         (it will not undo any modification made by this call of <b><a href="../man1/umoci-config.1.html">umoci-config</a></b>(1)).
         The valid values of <u>value</u> are:

       * config.labels
       * manifest.annotations
       * config.exposedports
       * config.env
       * config.entrypoint
       * config.cmd
       * config.volume

       The  following  commands  all  set their corresponding values in the configuration or image manifest. For
       more information see the OCI image specification ⟨https://github.com/opencontainers/image-spec⟩.

              • <b>--config.user</b>=<u>value</u>

              • <b>--config.exposedports</b>=<u>value</u>

              • <b>--config.env</b>=<u>value</u>

              • <b>--config.entrypoint</b>=<u>value</u>

              • <b>--config.cmd</b>=<u>value</u>

              • <b>--config.volume</b>=<u>value</u>

              • <b>--config.label</b>=<u>value</u>

              • <b>--config.workingdir</b>=<u>value</u>

              • <b>--created</b>=<u>value</u>

              • <b>--author</b>=<u>value</u>

              • <b>--architecture</b>=<u>value</u>

              • <b>--os</b>=<u>value</u>

              • <b>--manifest.annotation</b>=<u>value</u>

</pre><h4><b>EXAMPLE</b></h4><pre>
       The following modifies an OCI image configuration in various ways, and overwrites the original  tag  with
       the new image.

       % umoci config --image image:tag --clear=config.env --config.env="VARIABLE=true" \
            --config.user="user:group" --config.entrypoint=cat --config.cmd=<a href="file:/proc/self/stat">/proc/self/stat</a> \
            --config.label="com.cyphar.umoci=true" --author="Aleksa Sarai &lt;<a href="mailto:asarai@suse.de">asarai@suse.de</a>&gt;" \
            --os="gnu/hurd" --architecture="lisp" --created="$(date --iso-8601=seconds)"

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man1/umoci.1.html">umoci</a></b>(1)

config                                                umoci                                   <u><a href="../man1/umoci-config.1.html">umoci-config</a>(1)</u>(#)
</pre>
 </div>
</div></section>
</div>
</body>
</html>