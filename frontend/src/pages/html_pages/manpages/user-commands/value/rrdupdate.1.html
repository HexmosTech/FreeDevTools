<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>rrdupdate - Store a new set of values into the RRD</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/rrdtool">rrdtool_1.7.2-4.2ubuntu2_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       rrdupdate - Store a new set of values into the RRD

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>rrdtool</b> {<b>update</b> | <b>updatev</b>} <u>filename</u> [<b>--template</b>|<b>-t</b> <u>ds-name</u>[<b>:</b><u>ds-name</u>]...]  [<b>--skip-past-updates</b>|<b>-s</b>]
       [<b>--daemon</b>|<b>-d</b> <u>address</u>] [<b>--</b>] <b>N:</b><u>value</u>[<b>:</b><u>value</u>]...  <u>timestamp</u><b>:</b><u>value</u>[<b>:</b><u>value</u>]...  <u>at-timestamp</u><b>@</b><u>value</u>[<b>:</b><u>value</u>]...

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The <b>update</b> function feeds new data values into an <b>RRD</b>. The data is time aligned (interpolated) according
       to the properties of the <b>RRD</b> to which the data is written.

       <b>updatev</b> This  alternate  version of <b>update</b> takes the same arguments and performs the same function. The <u>v</u>
               stands for <u>verbose</u>, which describes the output returned. <b>updatev</b> returns a list of  any  and  all
               consolidated  data  points  (CDPs)  written  to disk as a result of the invocation of update. The
               values are indexed by timestamp (time_t), RRA (consolidation function and PDPs per CDP), and data
               source (name).  Note that depending on the arguments of the current and previous call to  update,
               the list may have no entries or a large number of entries.

               Since <b>updatev</b> requires direct disk access, the <b>--daemon</b> option cannot be used with this command.

       <u>filename</u>
               The name of the <b>RRD</b> you want to update.

       <b>--template</b>|<b>-t</b> <u>ds-name</u>[<b>:</b><u>ds-name</u>]...
               By  default, the <b>update</b> function expects its data input in the order the data sources are defined
               in the RRD, excluding any COMPUTE data sources (i.e. if the third data source <b>DST</b> is COMPUTE, the
               third input value will be mapped to the fourth data source in the <b>RRD</b> and so  on).  This  is  not
               very error resistant, as you might be sending the wrong data into an RRD.

               The template switch allows you to specify which data sources you are going to update and in which
               order.  If  the  data  sources  specified  in the template are not available in the RRD file, the
               update process will abort with an error message.

               While it appears possible with the template switch to update data sources asynchronously, <b>RRDtool</b>
               implicitly assigns non-COMPUTE data sources missing from the template the <u>*UNKNOWN*</u> value.

               Do not specify a value for a COMPUTE <b>DST</b> in the <b>update</b> function. If  this  is  done  accidentally
               (and  this  can  only be done using the template switch), <b>RRDtool</b> will ignore the value specified
               for the COMPUTE <b>DST</b>.

               The caching daemon rrdcached cannot be used together with templates yet.

       <b>--skip-past-updates</b>|<b>-s</b>
               When updating an rrd file with data earlier than the latest update already applied, rrdtool  will
               issue  an  error  message and abort. This option instructs rrdtool to silently skip such data. It
               can be useful when re-playing old data into an rrd file and you are not  sure  how  many  updates
               have already been applied.

       <b>--daemon</b>|<b>-d</b> <u>address</u>
               If  given,  <b>RRDtool</b>  will  try  to  connect  to  the  caching daemon rrdcached at <u>address</u>. If the
               connection is successfully established the values will be sent to the daemon instead of accessing
               the files directly. If the connection cannot be established it will fall  back  to  direct  file-
               access.   While this is convenient, it can silently create problems so please read the warning in
               the examples.

               For a list of accepted formats, see the <b>-l</b> option in the rrdcached manual.

       {<b>N</b> | <u>timestamp</u>}<b>:</b><u>value</u>[<b>:</b><u>value</u>]...
               The data used for updating the RRD was acquired at a  certain  time.  This  time  can  either  be
               defined  in seconds since 1970-01-01 or by using the letter 'N', in which case the update time is
               set to be the current time. Negative time  values  are  subtracted  from  the  current  time.  An
               AT_STYLE  TIME  SPECIFICATION (see the <u>rrdfetch</u> documentation) may also be used by delimiting the
               end of the time specification with the '@' character instead of a ':'. Getting the  timing  right
               to  the  second  is  especially important when you are working with data-sources of type <b>COUNTER</b>,
               <b>DERIVE</b>, <b>DCOUNTER</b>, <b>DDERIVE</b> or <b>ABSOLUTE</b>.

               When using negative time values, options and data have to be separated by two dashes  (<b>--</b>),  else
               the time value would be parsed as an option.  See below for an example.

               The  remaining elements of the argument are DS updates. The order of this list is the same as the
               order the data sources were defined in the RRA. If there is no data for  a  certain  data-source,
               the letter <b>U</b> (e.g., N:0.1:U:1) can be specified.

               The  format  of  the  value  acquired  from  the data source is dependent on the data source type
               chosen. Normally it will be numeric, but the data acquisition modules may impose their  very  own
               parsing of this parameter as long as the colon (<b>:</b>) remains the data source value separator.

</pre><h4><b>ENVIRONMENT</b> <b>VARIABLES</b></h4><pre>
       The following environment variables may be used to change the behavior of "rrdtool update":

       <b>RRDCACHED_ADDRESS</b>
           If  this environment variable is set it will have the same effect as specifying the "--daemon" option
           on the command line. If both are present, the command line argument takes precedence.

       <b>RRDCACHED_STRIPPATH</b>
           If this environment variable is set it will strip the leading  string  from  the  filename  prior  to
           sending the filename to rrdcached.  This is mostly intended to allow rrdcached to work with xymon and
           cacti tools without having to modify those tools.

</pre><h4><b>EXAMPLES</b></h4><pre>
       •   "rrdtool update demo1.rrd N:3.44:3.15:U:23"

           Update  the database file demo1.rrd with 3 known and one <u>*UNKNOWN*</u> value. Use the current time as the
           update time.

       •   "rrdtool update demo2.rrd 887457267:U 887457521:22 887457903:2.7"

           Update the database file demo2.rrd which expects data from a single data-source, three  times.  First
           with  an  <u>*UNKNOWN*</u>  value then with two regular readings. The update interval seems to be around 300
           seconds.

       •   "rrdtool update demo3.rrd -- -5:21 N:42"

           Update the database file demo3.rrd two times, using five seconds in the past and the current time  as
           the update times.

       •   "rrdtool update --daemon unix:/tmp/rrdd.sock demo4.rrd N:23"

           Use  the  UNIX domain socket "/tmp/rrdd.sock" to contact the caching daemon. If the caching daemon is
           not available, update the file "demo4.rrd" directly.  <b>WARNING:</b> Since a relative  path  is  specified,
           the  following  disturbing  effect  may  occur:  If the daemon is available, the file relative to the
           working directory <b>of</b> <b>the</b> <b>daemon</b> is used. If the daemon is not available, the  file  relative  to  the
           current  working  directory  of  the  invoking  process is used.  <b>This</b> <b>may</b> <b>update</b> <b>two</b> <b>different</b> <b>files</b>
           <b>depending</b> <b>on</b> <b>whether</b> <b>the</b> <b>daemon</b> <b>could</b> <b>be</b> <b>reached</b> <b>or</b> <b>not.</b> Don't do relative paths, kids!

</pre><h4><b>AUTHORS</b></h4><pre>
       Tobias Oetiker &lt;<a href="mailto:tobi@oetiker.ch">tobi@oetiker.ch</a>&gt;, Florian Forster &lt;octo at verplant.org&gt;

1.7.2                                              2025-03-04                                       <u><a href="../man1/RRDUPDATE.1.html">RRDUPDATE</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>