<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>mFixNaN - Replace a particular set of values in a FITS image with NaNs (or vice-versa)</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/montage">montage_6.1+dfsg-1build1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       mFixNaN - Replace a particular set of values in a FITS image with NaNs (or vice-versa)

</pre><h4><b>SYNOPSIS</b></h4><pre>
       mFixNaN [-d <u>level</u>] [-v <u>NaN-value</u>] in.fits out.fits [<u>minblank</u> <u>maxblank</u>]

</pre><h4><b>DESCRIPTION</b></h4><pre>
       Converts NaNs found in the image to some other value (given by the user), <u>or</u> converts a range of supplied
       values into NaNs.

</pre><h4><b>OPTIONS</b></h4><pre>
       -d <u>level</u>
              Turn on debugging to the specified level (1-3)

       -b     Check for non-physical boundary area (<u>e.g.</u> the corners of an Aitoff image) and correct them.

       -v <u>NaN-value</u>
              Value to use in place of any NaNs

</pre><h4><b>ARGUMENTS</b></h4><pre>
       in.fits
              Input FITS image file

       out.fits
              Path  of  output  FITS  file.   To run in "count" mode without creating an output file, use a dash
              ("-") for this argument.

       minblank maxblank
              If the "-v" switch is not used, <b>mFixNaN</b>  will  replace  all  pixel  values  between  <u>minblank</u>  and
              <u>maxblank</u> with NaN.

</pre><h4><b>RESULT</b></h4><pre>
       <b>[struct</b> <b>stat="OK",</b> <b>rangeCount=</b><u>rangeCount</u><b>,</b> <b>nanCount=</b><u>nanCount</u><b>]</b>

       <u>rangeCount</u> is the number of pixels that were found between <u>minblank</u> and <u>maxblank</u>, if they were specified.
       If not (i.e., NaNs were removed and replaced with <u>value</u>), <u>nanCount</u> is the number of NaNs removed.

</pre><h4><b>MESSAGES</b></h4><pre>
       OK     [struct stat="OK", rangeCount=<u>rangeCount</u>, nanCount=<u>nanCount</u>"]

       ERROR  No debug level given

       ERROR  Debug level string is invalid: <u>level</u>

       ERROR  Debug level string is invalid: <u>level</u>

       ERROR  Debug level string cannot be negative

       ERROR  No value given for NaN conversion

       ERROR  NaN conversion value string is invalid: '<u>NaN-value</u>'

       ERROR  Invalid input file '<u>in.fits</u>']

       ERROR  min blank value string is not a number

       ERROR  max blank value string is not a number

       ERROR  Image file <u>in.fits</u> missing or invalid FITS

       ERROR  <u>FITS</u> <u>library</u> <u>error</u>

</pre><h4><b>EXAMPLES</b></h4><pre>
       A  FITS  image  with  BITPIX  -64 (double-precision floating point) was generated without using NaNs; all
       "blank" pixels are represented by very small negative numbers.  This can throw off  initial  attempts  to
       display the image with a proper stretch, and does not conform to the FITS standard.  To replace all those
       "blank" pixels with NaNs:

       mFixNaN original.fits NaN.fits -4.61169e32 -4.61169e10
              [struct stat="OK", rangeCount=1321, nanCount=0]

       To convert those NaNs back into a single pixel value:

       mFixNaN -v -4.6e32 NaN.fits blankval.fits
              [struct stat="OK", rangeCount=0, nanCount=1321]

</pre><h4><b>BUGS</b></h4><pre>
       The drizzle algorithm has been implemented but has not been tested in this release.

       If a header template contains carriage returns (i.e., created/modified on a Windows machine), the cfitsio
       library  will  be  unable  to read it properly, resulting in the error: [struct stat="ERROR", status=207,
       msg="illegal character in keyword"]

       It is best for the background correction  algorithms  if  the  area  described  in  the  header  template
       completely encloses all of the input images in their entirety. If parts of input images are "chopped off"
       by  the  header  template,  the  background correction will be affected. We recommend you use an expanded
       header for the reprojection and background modeling steps, returning to  the  originally  desired  header
       size  for  the  final  coaddition.  The  default background matching assumes that there are no non-linear
       background variations in the individual images (and therefore in the overlap differences).  If  there  is
       any  uncertainty  in  this  regard, it is safer to turn on the "level only" background matching (the "-l"
       flag in mBgModel.

</pre><h4><b>COPYRIGHT</b></h4><pre>
       2001-2015 California Institute of Technology, Pasadena, California

       If your research uses Montage, please include the following acknowledgement: "This research made  use  of
       Montage.  It  is  funded  by  the  National  Science  Foundation  under Grant Number ACI-1440620, and was
       previously funded by the National Aeronautics and Space Administration's Earth Science Technology Office,
       Computation Technologies Project, under Cooperative  Agreement  Number  NCC5-626  between  NASA  and  the
       California Institute of Technology."

       The  Montage  distribution includes an adaptation of the MOPEX algorithm developed at the Spitzer Science
       Center.

Montage 5                                           Dec 2016                                          <u><a href="../man1/MFIXNAN.1.html">MFIXNAN</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>