<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>logapp - An application output supervisor.</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/logapp">logapp_0.16-3_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       logapp - An application output supervisor.

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>logapp</b> [<u>option</u>]... <u>application</u> [<b>--logapp_</b><u>option</u>]... [<u>app.-argument</u>]...

       <b>applicationsymlink</b> [<b>--logapp_</b><u>option</u>]... [<u>application-argument</u>]...

       Instead  of calling logapp directly you can also create a symlink with the name of the application point‐
       ing to logapp. Logapp will automatically start the application the name points to. It will also  work  if
       the symlink name is prefixed with <u>log</u>.

</pre><h4><b>DESCRIPTION</b></h4><pre>
       Logapp is a wrapper utility that helps supervise the execution of applications that produce heavy console
       output  (e.g. make, CVS and Subversion). It does this by logging, trimming, and coloring each line of the
       output before displaying it. It can be called instead of the executable that should be monitored; it then
       starts the application and logs all of its console output to a file. The output shown in the terminal  is
       preprocessed, e.g. to limit the length of printed lines and to show the stderr output in a different col‐
       or.  It  is  also  possible to automatically highlight lines that match a certain regular expression. The
       output is therefore reduced to the necessary amount, and all important lines are easy to identify.

</pre><h4><b>OPTIONS</b></h4><pre>
       The options provided before the <u>application</u> argument are processed directly by logapp.  Options  provided
       after the <u>application</u> argument are only parsed if they are prefixed with <b>--logapp_</b> (long option names on‐
       ly)  otherwise  they  are passed to the application. If logapp is called via a symlink all unprefixed op‐
       tions are passed to the application.

       Every application usually uses two independent output streams: <u>stdout</u> for normal output  and  <u>stderr</u>  for
       errors  and  important messages. Both of them are handled independently by logapp, therefore many options
       are available for both streams.

       Bool options are accepting <u>1/0</u> and <u>true/false</u> as value. For long boolean options the value can  be  omit‐
       ted, in that case it will be assumed to be 'true'.

   <b>GENERAL</b> <b>OPTIONS</b>
       <b>-?</b>, <b>--help</b>
              Show a short overview over all available options.

       <b>--version</b>
              Show version information.

       <b>--configfile=</b><u>FILE</u>
              Use a specific configuration file instead of searching the configuration search paths.

       <b>--showconfig</b>
              Print the current configuration of logapp and exit before the application is executed. This can be
              used  this  to check if all configuration options are setup correctly if something doesn't work as
              expected.

       <b>--configsection=</b><u>NAME</u>
              Enable a specific section in the configuration file. If this option is not provided  the  applica‐
              tion name is used as default.

       <b>--disable</b>
              This  disables logapp data handling completely. The application is still started, but logapp won't
              touch the data streams coming from the application. Neither logging nor output formating  is  per‐
              formed, only the execution time and the exit state tracked. This is useful if logapp won't be able
              to  deal with expected data correctly, for example when starting curses based applications. Have a
              look at <b>--disable_keywords</b> to see how this option can be enabled automatically.

       <b>--disable_keywords=</b><u>keywordlist</u>
              With this option a list of comma separated keywords can be provided which will cause the <b>--disable</b>
              to be enabled automatically if found in the applications option list. This is useful if an  appli‐
              cation usually provides line-based output, but creates binary data or uses a curses based frontend
              if called with a specific parameter. You can also use the <b>--detectescape</b> option for another way to
              do this without disabling the logging functionality.

       <b>--detectescape=</b><u>bool</u>
              This option can be used to switch escape-sequence detection on or off. With escape-sequence detec‐
              tion  logapp will automatically enable char-based stream handling as soon as an escape-sequence is
              part of the specific stream. This behavior can be useful if you are working  with  an  application
              that  is  usually line-based, but starts other applications which may be using escape sequences to
              format the screen. This option will prevent the terminal from being messed up in that case.

       <b>--dumbterm=</b><u>bool</u>
              With this option set to true there will be no terminal output coloring for <u>stdout</u> and <u>stderr</u>. Nor‐
              mally this option is disabled and logapp tries to detect "dumb" terminals itself.

       <b>--usepty=</b><u>bool</u>
              This option is only available if logapp has been compiled with PTY support. If PTY support is  en‐
              abled with this option set to true, logapp will open a <u>pseudo</u> <u>terminal</u> for <u>stdout</u>. This helps wenn
              running  logapp  with  applications  that usually need a real terminal for output. You can disable
              this option for most line based applications like make, CVS or Subversion. Other applications like
              telnet or picocom may produce strange results when used without PTY support.

       <b>--ptyremovecr=</b><u>bool</u>
              This option is only available if logapp has been compiled with PTY support. When  using  a  pseudo
              terminal  for getting the application output you will always get CR-LF line endings, which is usu‐
              ally not desired when working in UNIX environments. With this option enabled, logapp will automat‐
              ically translate all CR-LF line endings in LF line endings. This option is enabled as default.

       <b>--stdout_blen=</b><u>bytes</u>

       <b>--stderr_blen=</b><u>bytes</u>
              The line buffer size can be adjusted for <u>stdout</u> and <u>stderr</u> independently with this option. If  the
              value  is  too small, lines will be split up if the buffer is full. The default is <u>2048</u> <u>byte</u> which
              should be big enough for most applications.

       <b>--stdout_charbased=</b><u>bool</u>

       <b>--stderr_charbased=</b><u>bool</u>
              If you want to use logapp with applications that do not produce line based output you  can  enable
              this  options  for  <u>stdout</u>  and <u>stderr</u> independently. With this option enabled logapp won't expect
              complete lines and will handle data as it comes in. By default all single data packets are written
              to a new line if this option is enabled, this can be changed with the <b>--alignlog</b>  option.  If  the
              result will be usable depends on what kind of data is generated by the application.

       <b>--extended-regexp=</b><u>bool</u>
              If  this  option is enabled logapp will interpret provided regular expression patterns as extended
              regular expressions. The default is to use basic regular expressions.

   <b>LOGGING</b> <b>OPTIONS</b>
       This section contains options that affect the logfile.

       <b>-l</b>, <b>--logfile=</b><u>file</u>
              This option can be used to change the file that is used for storing the logged  application  data.
              If an empty string is provided, logging is disabled and no logfile will be created. The default is
              that logapp creates a logfile called <u>logapp.log</u> in the current directory.

       <b>-a</b>, <b>--appendlog=</b><u>bool</u>
              This  option  specifies if the logfile will be truncated or if the data will be appended to an ex‐
              isting file on logapp startup.

       <b>--maxlogsize=</b><u>kibyte</u>
              To limit the maximum size of the logfile you can set this option to a value between <u>10</u> <u>and</u> <u>4000000</u>
              <u>kiBytes</u>. The default is <u>0</u> which disables the logfile size limit. There are different  ways  imple‐
              mented  how  the  logfile  is limited. Have a look at the options <b>--logrename</b> and <b>--circularlog</b> to
              learn more. The default way is that the extension .old is added to the logfile and a  new  logfile
              is started.

       <b>--logrename=</b><u>bool</u>
              This  option  specifies  the behavior when a logfile is to be truncated. If <b>--logrename</b> is enabled
              the logfile is renamed. The new filename will be the same as before  with  the  extension  defined
              with <b>--oldlogext</b> added. The default extension is .old. This option is used together with the value
              of <b>--appendlog</b> and <b>--maxlogsize</b>

       <b>--circularlog=</b><u>bool</u>
              If  this  option  is enabled together with a logfile size limit set with <b>--maxlogsize</b>, the logfile
              will be used in a circular way. This means if the maximum size is reached, the file pointer is set
              to the beginning of the file and the old content is overwritten from the beginning. There are tags
              added to the logfile to help navigating in the file.

       <b>--oldlogext=</b><u>extension</u>
              This defines the extion that is used when logapp is renaming a logfile. The <b>--logrename</b> option de‐
              fines if logapp will rename the file and the default extension is .old.

       <b>--locklogfile=</b><u>bool</u>
              With this option active the logfile is locked in order to prevent it to be overwritten by  another
              task.  This is useful if otherwise an unreadable mix up of different contents would be the result.
              Depending on the value of the <b>--maxaltlogfiles</b> option another logfile is chosen with the same name
              and a number added. Logfile locking is activated by default.

       <b>--warnlogfilelock=</b><u>bool</u>
              This options defines if there should be a warning printed to the console if the chosen logfile  is
              already  locked  or in other means not accessible. In this case there will be a message before the
              application is started and directly after its execution where the name of the alternative  logfile
              is  mentioned. This option is enabled by default. Also have a look at the <b>--printlogname</b> where you
              can define to always get the current logfile reported.

       <b>--printlogname=</b><u>bool</u>
              This option defines if the name of the used logfile should be printed after  the  application  has
              finished its execution. This option is disabled by default. Also have a look at the <b>--warnlogfile‐</b>
              <b>lock</b>  where  you  can  enable/disable a warning if the logfile name is changed because of a locked
              logfile.

       <b>--maxaltlogfiles=</b><u>number</u>
              This options defines the maximum number that can be added to the logfile  name,  if  the  original
              file  is  not accessible. On logapp startup it will be checked if the currently defined logfile is
              writeable, if this is not the case automatically a number is added to the filename. If the  alter‐
              native  file is also not accessible this number is increased until a file is writable or the value
              of <u>maxaltlogfiles</u> is reached. In the latter case the application will exit with  an  error.  If  a
              value of 0 is used only the original logfile name is tried. Also have a look at the <b>--warnlogfile‐</b>
              <b>lock</b>  and  <b>--printlogname</b>  options  to define if there should be messages about the currently used
              logfile.

       <b>--alignlog=</b><u>bool</u>
              This option is used together with <b>--stdout_charbased</b> and <b>--stderr_charbased</b> and  defines  if  data
              packets are written to the logfile as they come or if they are each written to a new line. The de‐
              fault is that each data packet is written to a new line, set this option to false to disable it.

       <b>--alignlinebreaks=</b><u>bool</u>
              This  option  is used together with <b>--stdout_charbased</b> and <b>--stderr_charbased</b> and aligns the lines
              to the left in the logfile with regard to prefix and timestamp. This option is enabled by default.

       <b>--jointimeout=</b><u>time</u>
              This option is used together with <b>--stdout_charbased</b> and <b>--stderr_charbased</b> and defines a ms time‐
              out for joining single packets to one. This means if for example two chars get written within  the
              timeout, they are treated as one packet. This is best used together with <b>--alignlog</b> and <b>--logtime</b>.
              Use  this  option  if the data packets have lost their coherency for some reason (e.g. if the data
              comes through a serial line). This feature is disabled by default and can be  enabled  by  setting
              <u>time</u> to a value bigger than 0 ms.

       <b>-t</b>, <b>--logtime=</b><u>bool</u>
              This  option  can  be enabled to add a ms timestamp to each line of the logfile. Normally the time
              since the application start is used, but this can be changed with the <b>--logreltime</b> option.

       <b>--logreltime=</b><u>bool</u>
              If this option is set this to true, the <b>--logreltime</b> option will use the relative time  since  the
              last line for the logged timestamps.

       <b>--logenv=</b><u>bool</u>
              With  this  option  set  to true logapp will add a list of all active environment variables to the
              logfile. This option is disabled by default.

       <b>-p</b>, <b>--stdout_lineprefix=</b><u>prefix</u>

       <b>-P</b>, <b>--stderr_lineprefix=</b><u>prefix</u>
              To be able to distinguish <u>stdout</u> and <u>stderr</u> output in the logfile logapp can prefix each line with
              a string that indicates if the line belongs to a  specific  data  stream.  Those  strings  can  be
              changed with this option. The default is that <u>stdout</u> does not have a prefix and <u>stderr</u> is prefixed
              with <u>STDERR:</u>.

   <b>CONSOLE</b> <b>OUTPUT</b> <b>OPTIONS</b>
       This section contains options that affect the visual output on the console.

       <b>--dumbterm=</b><u>bool</u>
              This option disables output coloring. This is usually done automatically if a <u>dumb</u> terminal is de‐
              tected.

       <b>-s</b>, <b>--print_summary=</b><u>bool</u>
              If this option is set to true, then a short summary will be printed after the application has ter‐
              minated. This option is disabled by default.

       <b>-f</b>, <b>--stdout_fgcol=</b><u>color</u>

       <b>-F</b>, <b>--stderr_fgcol=</b><u>color</u>
              This options define the foreground color for the specific data stream. The value can be one of the
              entries in the <u>console</u> <u>color</u> <u>table</u> at the end of this section.

       <b>-b</b>, <b>--stdout_bold=</b><u>bool</u>

       <b>-B</b>, <b>--stderr_bold=</b><u>bool</u>
              This options define if the font for the specific data stream should be printed bold.

       <b>-r</b>, <b>--stdout_regexp=</b><u>regular</u> <u>expression</u>

       <b>-R</b>, <b>--stderr_regexp=</b><u>regular</u> <u>expression</u>
              The  regular  expression that can be defined with this option is applied to every line of the spe‐
              cific data stream. On a match the background color changes to the value provided with  the  <b>--std‐</b>
              <b>out_regexp_bgcol</b> respectively <b>--stderr_regexp_bgcol</b> option.

       <b>--stdout_regexp_bgcol=</b><u>color</u>

       <b>--stderr_regexp_bgcol=</b><u>color</u>
              This options define the background color for the specific data stream for the case that the appro‐
              priate  regular expression provided with <b>--stdout_regexp</b> or <b>--stderr_regexp</b> matches. The value can
              be one of the entries in the <u>console</u> <u>color</u> <u>table</u> at the end of this section.

       <b>-c</b>, <b>--stdout_clip=</b><u>width</u>

       <b>-C</b>, <b>--stderr_clip=</b><u>width</u>
              This options define at which column the output should be clipped for the specific stream to reduce
              the amount of data written to the console. If a value of <u>-1</u> is provided clipping is  disabled  for
              the  stream.  A value of <u>-2</u> sets the clipping to the current console width. It is also possible to
              use <u>disable</u> and <u>auto</u> instead of the numeric values. The default is that <u>stdout</u> is limited  to  the
              console width and that clipping is deactivated for <u>stderr</u>.

              <b>Console</b> <b>color</b> <b>table</b>
              ┌────┬───────────────────┐
              │ #  │ color             │
              ├────┼───────────────────┤
              │ -1 │ (console) default │
              ├────┼───────────────────┤
              │ 0  │ black             │
              ├────┼───────────────────┤
              │ 1  │ red               │
              ├────┼───────────────────┤
              │ 2  │ green             │
              ├────┼───────────────────┤
              │ 3  │ brown             │
              ├────┼───────────────────┤
              │ 4  │ blue              │
              ├────┼───────────────────┤
              │ 5  │ magenta           │
              ├────┼───────────────────┤
              │ 6  │ cyan              │
              ├────┼───────────────────┤
              │ 7  │ white             │
              └────┴───────────────────┘

   <b>COMMAND</b> <b>EXECUTION</b> <b>OPTIONS</b>
       This section contains options that configure the execution of commands on regular expression matches.

       <b>--exitonexecfail=</b><u>BOOL</u>
              This  option  defines if logapp should exit and end the wrapped application if the return value of
              an executed command indicates a failure. As default this option is disabled and logapp ignores the
              return state of executed commands.

       <b>--preexec=</b><u>command</u>
              The command that can be provided with this option is executed directly before the  application  is
              started.  At  this time the header is already written to the logfile and can be parsed by the com‐
              mand.

       <b>--postexec=</b><u>command</u>
              The command that can be provided with this option is executed directly after the  application  has
              exited.  At  this time the logfile is already closed for writing so all application output and the
              footer are already included and can be processed by the command.

       <b>-e</b>, <b>--stdout_execregexp=</b><u>regular</u> <u>expression</u>

       <b>-E</b>, <b>--stderr_execregexp=</b><u>regular</u> <u>expression</u>
              The regular expression that can be defined with this option is applied to every line of  the  spe‐
              cific  data  stream.  On  a  match the command provided with the <b>--stdout_execcommand</b> respectively
              <b>--stderr_execcomand</b> option is executed. An empty value for this option disables  the  regular  ex‐
              pression matching.

       <b>-x</b>, <b>--stdout_execcommand=</b><u>command</u>

       <b>-X</b>, <b>--stderr_execcommand=</b><u>command</u>
              This  option  defines  the command that is executed on a regular expression match. The regular ex‐
              pression can be defined separately for the <u>stdout</u> and <u>stderr</u> stream with  the  <b>--stdout_execregexp</b>
              respectively <b>--stderr_execregexp</b> option.

</pre><h4><b>REGULAR</b> <b>EXPRESSIONS</b></h4><pre>
       Regular  expressions  are  patterns  that  describe strings. Logapp uses this patterns to execute actions
       based on strings found in the data stream. The implementation is identical to the one  that  is  used  by
       <u>grep</u>.

       Logapp  understands the "basic" and "extended" syntax of regular expressions as defined by POSIX. The de‐
       fault is to use the basic set, but you can switch to extended patterns with the <b>--extended-regexp</b> parame‐
       ter. Please have a look at the <b><a href="../man1/grep.1.html">grep</a></b>(1) and <b><a href="../man7/regex.7.html">regex</a></b>(7) manpage for detailed information.

   <b>EXAMPLES</b>
       <b>String</b> Matches "String"

       <b>^String</b>
              Matches "String" at the beginning of a line

       <b>String$</b>
              Matches "String" at the end of a line

       <b>^String$</b>
              Line contains only "String"

       <b>[Ss]tring</b>
              Matches "String" or "string"

       <b>Str.ng</b> The dot matches all characters, so this matches for example "String" or "Strong"

       <b>Str.*ng</b>
              The dot together with star matches any number of characters, so this matches for example  "String"
              or "Streaming"

       <b>^[A-Z]</b> <b>*</b>
              Matches  any  one of the characters from A to Z at the beginning of a line followed by zero or any
              number of spaces

       <b>String\|Word</b>
              Matches "String" or "Word" when working with <u>basic</u> <u>regular</u> <u>expressions</u>

       <b>String|Word</b>
              Matches "String" or "Word" when working with <u>extended</u> <u>regular</u> <u>expressions</u>

</pre><h4><b>ENVIRONMENT</b></h4><pre>
       <b>TERM</b>   This variable is checked to see which type of console logapp is running  in.  Currently  only  the
              value  <u>dumb</u>  is  handled  in  a special way — by disabling console colors. If the <b>TERM</b> variable is
              missing also a dumb terminal is assumed. The setting can be overridden by  enabling/disabling  the
              dumb terminal mode using the <b>--dumbterm</b> option.

</pre><h4><b>FILES</b></h4><pre>
       <u><a href="file:~/.logapprc">~/.logapprc</a></u>, <u>/etc/logapp.conf</u>, <u>/etc/logapp/logapp.conf</u>
              Configuration file locations that are tried if no <b>--configfile</b> option is provided.

</pre><h4><b>BUGS</b></h4><pre>
       See the <u>TODO</u> file included in the source package.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man1/grep.1.html">grep</a></b>(1), <b><a href="../man7/regex.7.html">regex</a></b>(7)

</pre><h4><b>AUTHOR</b></h4><pre>
       Michael Brunner

</pre><h4><b>COPYING</b></h4><pre>
       Copyright (C) 2007–2011 Michael Brunner

       This program is free software; you can redistribute it and/or modify it under the terms of the GNU Gener‐
       al  Public  License as published by the Free Software Foundation; either version 2 of the License, or (at
       your option) any later version.

       This program is distributed in the hope that it will be useful, but WITHOUT ANY  WARRANTY;  without  even
       the  implied  warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the General Public Li‐
       cense for more details.

logapp 0.16svn                                    January 2011                                         <u><a href="../man1/logapp.1.html">logapp</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>