<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>db5.3_codegen — generate application code for Berkeley DB</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/db5.3-util">db5.3-util_5.3.28+dfsg2-9_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       db5.3_codegen — generate application code for Berkeley DB

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>db5.3_codegen</b> [<b>-Vv</b>] [<b>-a</b> <u>api</u>] [<b>-i</b> <u>file</u>] [<b>-o</b> <u>prefix</u>]

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The  <b>db5.3_codegen</b>  utility  generates  application  code  to  create  and configure Berkeley DB database
       environments and databases based on a simple description language and writes it to  one  or  more  output
       files.   The  generated  code  may  need  modification, in the case of complicated applications, but will
       usually significantly reduce the time required to create Berkeley DB applications.

       The options are as follows:

       <b>-a</b> <u>api</u>
            Generate code for the specified API (currently, only “c” is accepted).

       <b>-i</b> <u>file</u>
            Specify an input <u>file</u>; by default, standard input is used.

       <b>-o</b> <u>prefix</u>
            Specify an output file <u>prefix</u>; by default, “application” is used.

       <b>-V</b>   Write the library version number to standard output and exit.

       <b>-v</b>   Run in verbose mode.

       The <b>db5.3_codegen</b> utility exits 0 on success, and &gt;0 if an error occurs.

</pre><h4><b>C</b> <b>Language</b> <b>Specific</b> <b>Information</b></h4><pre>
       By default, when  the  <b>db5.3_codegen</b>  utility  generates  C-language  code,  the  output  file  is  named
       “<u>application.c</u>”.  The output filename can be specified with the <b>-o</b> option.

       At  the  beginning  of  the  output  file  is  a list of public database environment (<u>DB_ENV</u>) handles and
       database (<u>DB</u>) handles, as specified  by  the  description  language.   The  database  environment  handle
       variables  are  named “<u>XXX</u>_dbenv”, where “<u>XXX</u>” is the name of the environment in the input specification.
       For databases associated with a database environment, the database handle variables are named  “<u>XXX</u>_<u>YYY</u>”,
       where  “<u>XXX</u>”  is  the  name  of  the  environment, and “<u>YYY</u>” is the name of the database.  For standalone
       databases, the database handle variables are named “<u>XXX</u>”, where “<u>XXX</u>” is the name of the database.

       There are two public functions in the output file: <b>bdb_startup</b>() and <b>bdb_shutdown</b>().   The  <b>bdb_startup</b>()
       function  should  be  called  to  create  and  configure the database environments and databases, and the
       <b>bdb_shutdown</b>() function should be called to gracefully shut down the environments and databases.

</pre><h4><b>Specification</b> <b>Language</b></h4><pre>
       The <b>db5.3_codegen</b> uses a simple description language:

       <b>•</b>   Lines in the input consist of white-space separated tokens.
       <b>•</b>   Tokens are case-insensitive.
       <b>•</b>   Empty lines and lines where the first non-space character is a  hash  mark  (“#”)  are  ignored.   In
           addition, hash marks may appear in lines, in which case the content of the line from the hash mark to
           the end of the line is ignored.

       There  are two top-level objects: “environment” and “database”, which correspond to database environments
       and databases, respectively.  These top-level objects can be associated with keywords to  describe  their
       configuration and relationships.

       For example, the following input would create two standalone databases:

             database data_one {
                 type btree
             }
             database data_two {
                 type btree
             }

       In this case, there would be no <u>DB_ENV</u> handle, and the public <u>DB</u> handles would be:

             DB      *data_one;
             DB      *data_two;

       For example, the following input would create a database environment which contains three databases:

             environment myenv {
                 database data_one {
                     type btree
                 }
                 database data_two {
                     type btree
                 }
                 database data_three {
                     type btree
                 }
             }

       In this case, the public <u>DB_ENV</u> and <u>DB</u> handles would be:

             DB_ENV  *myenv_dbenv;
             DB      *myenv_data_one;
             DB      *myenv_data_two;
             DB      *myenv_data_three;

       A  variety  of  keywords can be specified for the databases and the environments.  For example, the cache
       size can be specified for the database environment, and the page size can be specified for the  database,
       as well as for secondary relationships:

             environment myenv {
                 cachesize 2 0 10
                 database data_one {
                     type btree
                     pagesize 1024
                 }
                 database data_two {
                     primary data_one
                     secondary_offset 10 15
                     type btree
                     pagesize 32768
                 }
                 database data_three {
                     type btree
                     pagesize 512
                 }
             }

   <b>Environment</b> <b>Keywords</b>
       <b>environment</b>       Start a database environment block.

                         There must be three tokens on the line: the keyword, the name of the environment and an
                         opening brace (“{”).

       <b>home</b>              Specify the database environment home directory.

                         There must be two tokens on the line: the keyword and the home directory.

       <b>cachesize</b>         Specify the database environment cache size.

                         There must be two tokens on the line: the keyword, the gigabytes of cache, the bytes of
                         cache, and the number of caches (the number of underlying physical areas into which the
                         cache is logically divided).

       <b>private</b>           Specify the database environment is private.

                         There must be one token on the line: the keyword by itself.

       <b>}</b>                 End the database environment block.

                         There must be one token on the line: the keyword by itself.

   <b>Database</b> <b>Keywords</b>
       <b>database</b>          Start a database block.

                         There  must  be  three tokens on the line: the keyword, the name of the database and an
                         opening brace (“{”).

       <b>custom</b>            Specify a custom key-comparison routine.  This is used when the Btree database requires
                         a specific sort that <b>db5.3_codegen</b> cannot generate.  A stub key comparison routine will
                         be created and configured for the database which should be modified as necessary.   See
                         the “<b>key_type</b>” keyword for more information.

                         There must be one token on the line: the keyword by itself.

       <b>dupsort</b>           Configure the database to support sorted duplicates.

                         There must be one token on the line: the keyword by itself.

       <b>extentsize</b>        Configure the size of the Queue database extent files.

                         There must be two tokens on the line: the keyword and the extent file size, as a number
                         of pages.

       <b>key_type</b>          Configure a integral type key-comparison routine.  This is used when the Btree database
                         key  is  an  integral  type  (such  as  “<u>unsigned</u> <u>int</u>” or “<u>u_int32_t</u>”).  Any C-language
                         integral type may be specified.  See the “<b>custom</b>”  keyword  for  more  information.   A
                         Btree comparison routine based on the type of the key will be created and configured.

                         There must be two tokens on the line: the keyword and the type.

       <b>pagesize</b>          Configure the database page size.

                         There must be two tokens on the line: the keyword and the page size in bytes.

       <b>primary</b>           Configure the database as a secondary index.  A stub secondary callback routine will be
                         created  and  configured  for the database, which should be modified as necessary.  See
                         the “<b>secondary_offset</b>” keyword for more information.

                         There must be two tokens on the line: the keyword and the name of the primary  database
                         for which this database is a secondary.

       <b>recnum</b>            Configure the Btree database to support record number access.

                         There must be one token on the line: the keyword by itself.

       <b>re_len</b>            Configure the record length for a Queue database or a fixed-length Recno database.

                         There must be two tokens on the line: the keyword and the length of a record, in bytes.

       <b>secondary_offset</b>  Configure  a  secondary  callback  routine  based on a byte string found in the primary
                         database's data item.

                         There must be three tokens on the line: the keyword, the byte offset from the beginning
                         of the primary data item where  the  secondary  key  occurs,  and  the  length  of  the
                         secondary key in bytes.

       <b>transaction</b>       Configure   the   database  (and,  by  extension,  the  database  environment),  to  be
                         transactional.

                         There must be one token on the line: the keyword by itself.

       <b>type</b>              Configure the database type.

                         There must be two tokens on the line: the keyword and the type, where the type  is  one
                         of “btree”, “hash”, “queue” or “recno”.

       <b>}</b>                 End the database environment block.

                         There must be one token on the line: the keyword by itself.

</pre><h4><b>AUTHORS</b></h4><pre>
       Thorsten Glaser &lt;<a href="mailto:tg@debian.org">tg@debian.org</a>&gt; wrote this manual page for the Debian project (but may be used by others)
       after the original HTML format documentation Copyright © 1996,2008 Oracle. All rights reserved.

Berkeley DB                                     January 12, 2011                                <u><a href="../man1/DB5.3_CODEGEN.1.html">DB5.3_CODEGEN</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>