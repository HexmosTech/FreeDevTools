<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>pkcs15-tool - utility for manipulating PKCS #15 data structures on smart cards and similar security</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/opensc">opensc_0.26.1-1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       pkcs15-tool - utility for manipulating PKCS #15 data structures on smart cards and similar security
       tokens

</pre><h4><b>SYNOPSIS</b></h4><pre>

       <b>pkcs15-tool</b> [<u>OPTIONS</u>]

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The <b>pkcs15-tool</b> utility is used to manipulate the PKCS #15 data structures on smart cards and similar
       security tokens. Users can list and read PINs, keys and certificates stored on the token. User PIN
       authentication is performed for those operations that require it.

</pre><h4><b>OPTIONS</b></h4><pre>
       <b>--version</b>
           Print the OpenSC package release version.

       <b>--aid</b> <u>aid</u>
           Specify in a hexadecimal form the AID of the on-card PKCS#15 application to bind to.

       <b>--auth-id</b> <u>id</u>, <b>-a</b> <u>id</u>
           Specifies the auth id of the PIN to use for the operation. This is useful with the --change-pin
           operation.

       <b>--change-pin</b>
           Changes a PIN or PUK stored on the token. User authentication is required for this operation.

       <b>--dump</b>, <b>-D</b>
           List all card objects.

       <b>--list-info</b>
           List card objects.

       <b>--list-applications</b>
           List the on-card PKCS#15 applications.

       <b>--list-certificates</b>, <b>-c</b>
           List all certificates stored on the token.

       <b>--list-data-objects</b>, <b>-C</b>
           List all data objects stored on the token. For some cards the PKCS#15 attributes of the private data
           objects are protected for reading and need the authentication with the User PIN. In such a case the
           <b>--verify-pin</b> option has to be used.

       <b>--list-keys</b>, <b>-k</b>
           List all private keys stored on the token. General information about each private key is listed (eg.
           key name, id and algorithm). Actual private key values are not displayed. For some cards the PKCS#15
           attributes of the private keys are protected for reading and need the authentication with the User
           PIN. In such a case the <b>--verify-pin</b> option has to be used.

       <b>--list-secret-keys</b>
           List all secret (symmetric) keys stored on the token. General information about each secret key is
           listed (eg. key name, id and algorithm). Actual secret key values are not displayed. For some cards
           the PKCS#15 attributes of the private keys are protected for reading and need the authentication with
           the User PIN. In such a case the <b>--verify-pin</b> option has to be used.

       <b>--list-pins</b>
           List all PINs stored on the token. General information about each PIN is listed (eg. PIN name).
           Actual PIN values are not shown.

       <b>--list-public-keys</b>
           List all public keys stored on the token, including key name, id, algorithm and length information.

       <b>--short</b>, <b>-s</b>
           Output lists in compact format.

       <b>--no-cache</b>
           Disables token data caching.

       <b>--clear-cache</b>
           Removes the user's cache directory. On Windows, this option additionally removes the system's caching
           directory (requires administrator privileges).

       <b>--output</b> <u>filename</u>, <b>-o</b> <u>filename</u>
           Specifies where key output should be written. If <u>filename</u> already exists, it will be overwritten. If
           this option is not given, keys will be printed to standard output.

       <b>--raw</b>
           Changes how <b>--read-data-object</b> prints the content to standard output. By default, when <b>--raw</b> is not
           given, it will print the content in hex notation. If <b>--raw</b> is set, it will print the binary data
           directly. This does not affect the output that is written to the file specified by the <b>--output</b>
           option. Data written to a file will always be in raw binary.

       <b>--read-certificate</b> <u>cert</u>
           Reads the certificate with the given id.

       <b>--read-data-object</b> <u>data</u>, <b>-R</b> <u>data</u>
           Reads data object with OID, applicationName or label. The content is printed to standard output in
           hex notation, unless the <b>--raw</b> option is given. If an output file is given with the <b>--output</b> option,
           the content is additionally written to the file. Output to the file is always written in raw binary
           mode, the <b>--raw</b> only affects standard output behavior.

       <b>--read-public-key</b> <u>id</u>
           Reads the public key with id <u>id</u>, allowing the user to extract and store or use the public key.

       <b>--read-ssh-key</b> <u>id</u>
           Reads the public key with id <u>id</u>, writing the output in format suitable for
           $HOME/.ssh/authorized_keys.

           The key label, if any will be shown in the 'Comment' field.

           <b>--rfc4716</b>
               When used in conjunction with option <b>--read-ssh-key</b> the output format of the public key follows
               rfc4716.

           The default output format is a single line (openssh).

       <b>--test-update</b>, <b>-T</b>
           Test if the card needs a security update

       <b>--update</b>, <b>-U</b>
           Update the card with a security update

       <b>--reader</b> <u>arg</u>
           Number of the reader to use. By default, the first reader with a present card is used. If <u>arg</u> is an
           ATR, the reader with a matching card will be chosen.

       <b>--unblock-pin</b>, <b>-u</b>
           Unblocks a PIN stored on the token. Knowledge of the Pin Unblock Key (PUK) is required for this
           operation.

       <b>--verbose</b>, <b>-v</b>
           Causes <b>pkcs15-tool</b> to be more verbose. Specify this flag several times to enable debug output in the
           OpenSC library.

       <b>--pin</b> <u>pin</u>, <b>--new-pin</b> <u>newpin</u>, <b>--puk</b> <u>puk</u>
           These options can be used to specify the PIN/PUK values on the command line. If the value is set to
           env:<u>VARIABLE</u>, the value of the specified environment variable is used. By default, the code is
           prompted on the command line if needed.

           Note that on most operation systems, any user can display the command line of any process on the
           system using utilities such as <b><a href="../man1/ps.1.html">ps</a>(1)</b>. Therefore, you should prefer passing the codes via an
           environment variable on an unsecured system.

       <b>--new-pin</b> <u>pin</u>
           Specify New PIN (when changing or unblocking)

       <b>--verify-pin</b>
           Verify PIN after card binding and before issuing any command (without 'auth-id' the first non-SO,
           non-Unblock PIN will be verified)

       <b>--test-session-pin</b>
           Equivalent to <b>--verify-pin</b> with additional session PIN generation

       <b>--wait</b>, <b>-w</b>
           Causes <b>pkcs15-tool</b> to wait for a card insertion.

       <b>--use-pinpad</b>
           Do not prompt the user; if no PINs supplied, pinpad will be used.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man1/pkcs15-init.1.html">pkcs15-init</a></b>(1), <b><a href="../man1/pkcs15-crypt.1.html">pkcs15-crypt</a></b>(1)

</pre><h4><b>AUTHORS</b></h4><pre>
       <b>pkcs15-tool</b> was written by Juha Yrjölä &lt;<a href="mailto:juha.yrjola@iki.fi">juha.yrjola@iki.fi</a>&gt;.

opensc                                             03/22/2025                                     <u><a href="../man1/PKCS15-TOOL.1.html">PKCS15-TOOL</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>