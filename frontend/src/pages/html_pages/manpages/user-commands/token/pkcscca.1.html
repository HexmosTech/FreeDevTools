<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>pkcscca - configuration utility for the CCA token</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/opencryptoki">opencryptoki_3.24.0+git20250128.0462717+dfsg-0ubuntu1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       pkcscca - configuration utility for the CCA token

</pre><h4><b>SYNOPSIS</b></h4><pre>
   <b>VERSION</b> <b>MIGRATION</b>
       <b>pkcscca</b> [<b>-m</b> <b>v2objectsv3</b>] [<u>OPTIONS</u>]

   <b>KEY</b> <b>MIGRATION</b>
       <b>pkcscca</b> [<b>-m</b> <b>keys</b>] [<b>-s</b> <b>SLOTID</b>] [<b>-k</b> <b>aes|apka|asym|sym</b>] [<u>OPTIONS</u>]

   <b>OLD</b> <b>RSA</b> <b>KEY</b> <b>MIGRATION</b>
       <b>pkcscca</b> [<b>-m</b> <b>oldrsakeys</b>] [<b>-s</b> <b>SLOTID</b>] [<u>OPTIONS</u>]

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The <b>pkcscca</b> utility assists in administering the CCA token.

       In  version  2  of  opencryptoki,  CCA private token objects were encrypted in CCA hardware. In version 3
       these objects are encrypted in software. The <b>v2objectsv3</b> migration option migrates these  v2  objects  by
       decrypting  them  in  CCA  hardware  using  a  secure key and then re-encrypting them in software using a
       software key. Afterwards, v2 objects can be accessed in version 3.

       There may be situations where CCA master keys must be changed.  All  CCA  secret  and  private  keys  are
       wrapped  with  a master key. After a CCA master key is changed, keys wrapped with the old master key need
       to be re-wrapped with the current master key. The <b>keys</b> migration option migrates these  wrapped  keys  by
       unwrapping them with the old master key and wrapping them with the current master key.

       Up  to opencryptoki version 3.14.0, RSA keys were created using the RSA-CRT key token format (private key
       section X'08'). RSA-CRT keys are encrypted with the CCA ASYM master key, and can not be used for  certain
       mechanisms,  e.g.   RSA-PSS  or  RSA-OAEP. In newer opencryptoki versions, RSA keys are created using the
       RSA-AESC key token format (private key section X'31').  Up  to  version  3.16.0,  RSA  public  keys  also
       contained  full  CCA  secure key tokens, including the private key section (which is encrypted by the CCA
       master key). The <b>oldrsakeys</b> migration option migrates old RSA private key tokens to the new  format,  and
       also extracts the public key sections from RSA public key tokens containing a full CCA secure key token.

</pre><h4><b>GENERAL</b> <b>OPTIONS</b></h4><pre>
       <b>-d|--datastore</b> <u>directory</u>
                 the  directory  where  the CCA token information is kept. This directory will be used to locate
                 the private token objects to be migrated. i.e. /var/lib/opencryptoki/ccatok

       <b>-v|--verbose</b>
            Provide more detailed output

</pre><h4><b>VERSION</b> <b>MIGRATION</b></h4><pre>
       <b>-m</b> <b>v2objectsv3</b>
            Migrates CCA private token objects from CCA encryption (used in v2) to software encryption (used  in
            v3).

</pre><h4><b>KEY</b> <b>MIGRATION</b></h4><pre>
       <b>-m</b> <b>keys</b>
            Unwraps private keys with an old CCA master key and wraps them with a new CCA master key.

       <b>-k</b> <b>aes|apka|asym|sym</b>
            Migrate keys wrapped with the selected master key type.

       <b>-s|--slotid</b> <u>SLOTID</u>
            The PKCS slot number.

</pre><h4><b>OLD</b> <b>RSA</b> <b>KEY</b> <b>MIGRATION</b></h4><pre>
       <b>-m</b> <b>oldrsakeys</b>
            Converts  old  RSA  keys  (RSA-CRT) to the new format (RSA-AESC) and extracts the public key section
            only from key objects containing the full RSA key token.

       <b>-s|--slotid</b> <u>SLOTID</u>
            The PKCS slot number.

</pre><h4><b>FILES</b></h4><pre>
       /var/lib/opencryptoki/ccatok/TOK_OBJ/OBJ.IDX
              contains current list of public and private token objects for the CCA token.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b>README.cca_stdll</b> (in system's doc directory)

3.24                                             September 2014                                       <u><a href="../man1/PKCSCCA.1.html">PKCSCCA</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>