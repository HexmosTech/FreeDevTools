<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>r.what  - Queries raster maps on their category values and category labels.</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/grass-doc">grass-doc_8.4.1-1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       <b>r.what</b>  - Queries raster maps on their category values and category labels.

</pre><h4><b>KEYWORDS</b></h4><pre>
       raster, querying, position

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>r.what</b>
       <b>r.what</b> <b>--help</b>
       <b>r.what</b>  [-<b>nfricv</b>]  <b>map</b>=<u>name</u>[,<u>name</u>,...]   [<b>coordinates</b>=<u>east,north</u>]    [<b>points</b>=<u>name</u>]    [<b>null_value</b>=<u>string</u>]
       [<b>output</b>=<u>name</u>]     [<b>separator</b>=<u>character</u>]    <b>format</b>=<u>name</u>    [<b>cache</b>=<u>integer</u>]      [--<b>overwrite</b>]     [--<b>help</b>]
       [--<b>verbose</b>]  [--<b>quiet</b>]  [--<b>ui</b>]

   <b>Flags:</b>
       <b>-n</b>
           Output header row

       <b>-f</b>
           Show the category labels of the grid cell(s)

       <b>-r</b>
           Output color values as RRR:GGG:BBB

       <b>-i</b>
           Output integer category values, not cell values

       <b>-c</b>
           Turn on cache reporting

       <b>-v</b>
           Show the category for vector points map

       <b>--overwrite</b>
           Allow output files to overwrite existing files

       <b>--help</b>
           Print usage summary

       <b>--verbose</b>
           Verbose module output

       <b>--quiet</b>
           Quiet module output

       <b>--ui</b>
           Force launching GUI dialog

   <b>Parameters:</b>
       <b>map</b>=<u>name[,name</u>,...] <b>[required]</b>
           Name of existing raster map(s) to query

       <b>coordinates</b>=<u>east,north</u>
           Coordinates for query

       <b>points</b>=<u>name</u>
           Name of vector points map for query
           Or data source for direct OGR access

       <b>null_value</b>=<u>string</u>
           String representing NULL value
           Default: <u>*</u>

       <b>output</b>=<u>name</u>
           Name for output file (if omitted or "-" output to stdout)

       <b>separator</b>=<u>character</u>
           Field separator
           Special characters: pipe, comma, space, tab, newline
           Default: <u>pipe</u>

       <b>format</b>=<u>name</u> <b>[required]</b>
           Output format
           Options: <u>plain,</u> <u>json</u>
           Default: <u>plain</u>
           <b>plain</b>: Plain text output
           <b>json</b>: JSON (JavaScript Object Notation)

       <b>cache</b>=<u>integer</u>
           Size of point cache
           Default: <u>500</u>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <u>r.what</u>  outputs  the  category values and (optionally) the category labels associated with user-specified
       locations on raster input map(s).  Locations are specified as geographic x,y coordinate pairs (i.e., pair
       of eastings and northings); the user can also (optionally) associate a label with each location.

       The input coordinates can be  entered  directly  on  the  command  line  via  <b>coordinates</b>  parameter,  or
       redirected  via  stdin from an input text file, script, or piped from another program (like <u>v.out.ascii</u>).
       Coordinates can be given also as a vector points map (<b>points</b>).

       If none of the above input methods are used and the module is run from the terminal prompt,  the  program
       will interactively query the user for point locations and labels.

       Each  line of the input consists of an easting, a northing, and an optional label, which are separated by
       spaces. In interactive mode, the word "end" must be typed after the last pair of input coordinates.

       <u>r.what</u> output consists of the input geographic location and label, and, for each  user-named  raster  map
       layer, the category value, and (if the <b>-f</b> label flag is specified) the category label associated with the
       cell(s) at this geographic location.

</pre><h4><b>EXAMPLES</b></h4><pre>
   <b>Input</b> <b>coordinates</b> <b>given</b> <b>as</b> <b>an</b> <b>option</b>
       The  module’s <b>coordinates</b> parameter can be used to enter coordinate pairs directly. The maximum number of
       pairs will be limited by your system’s maximum input line length (e.g. 4096 characters).
       g.region raster=landuse96_28m,aspect -p
       r.what map=landuse96_28m,aspect coordinates=633614.08,224125.12,632972.36,225382.87 -f
       633614.08|224125.12||2|Low Intensity Developed|209.5939|209 degrees ccw from east
       632972.36|225382.87||15|Southern Yellow Pine|140.7571|140 degrees ccw from east

   <b>Input</b> <b>coordinates</b> <b>given</b> <b>as</b> <b>a</b> <b>vector</b> <b>points</b> <b>map</b>
       Coordinates can be read from existing vector points map by specifying <b>points</b> option. Other features  than
       points or centroids are ignored. Example: query North Carolina county number for each community college:
       g.region raster=boundary_county_500m -p
       r.what map=boundary_county_500m points=comm_colleges
       145096.859150|154534.264884||39
       616341.437150|146049.750884||51
       ...

   <b>Input</b> <b>coordinates</b> <b>given</b> <b>as</b> <b>a</b> <b>vector</b> <b>points</b> <b>map</b> <b>with</b> <b>cats</b>
       Coordinates  can be read from existing vector points map by specifying <b>points</b> option. Other features than
       points or centroids are ignored. Using the <b>v</b> flag you can get also the cat  for  each  feature.  Example:
       query North Carolina county number for each community college:
       g.region raster=boundary_county_500m -p
       r.what map=boundary_county_500m points=comm_colleges -v
       1|145096.859150|154534.264884||39
       2|616341.437150|146049.750884||51
       ...

   <b>Input</b> <b>coordinates</b> <b>given</b> <b>as</b> <b>a</b> <b>vector</b> <b>points</b> <b>map,</b> <b>output</b> <b>into</b> <b>CSV</b> <b>file</b>
       Coordinates  can be read from existing vector points map by specifying <b>points</b> option. Other features than
       points or centroids are ignored. The output is stored in a CSV file including header row. Example:  query
       North Carolina county number for each community college:
       g.region raster=boundary_county_500m -p
       r.what map=boundary_county_500m points=comm_colleges \
              separator=comma output=result.csv -n
       cat result.csv
       easting,northing,site_name,boundary_county_500m
       145096.859150,154534.264884,,39
       616341.437150,146049.750884,,51
       410595.719150,174301.828884,,71
       ...

   <b>Input</b> <b>from</b> <b>a</b> <b>text</b> <b>file</b> <b>containing</b> <b>coordinates</b>
       The  contents  of  an  ASCII  text  file can be redirected to <u>r.what</u> as follows. If we have a file called
       <u>input_coord.txt</u> containing the whitespace separated coordinates  and  optionally  labels,  the  resulting
       raster map values are extracted:
       cat input_coord.txt
       633614.08 224125.12 site 1
       632972.36 225382.87 site 2
       r.what map=landuse96_28m,aspect &lt; input_coord.txt
       633614.08|224125.12|site 1|2|209.5939
       632972.36|225382.87|site 2|15|140.7571

   <b>Input</b> <b>from</b> <b>standard</b> <b>input</b> <b>on</b> <b>the</b> <b>command</b> <b>line</b>
       Input  coordinates  may  be  given  directly from standard input (stdin), for example (input data appears
       between the "EOF" markers):
       r.what map=landuse96_28m,aspect &lt;&lt; EOF
       633614.08 224125.12 site 1
       632972.36 225382.87 site 2
       EOF
       633614.08|224125.12|site 1|2|209.5939
       632972.36|225382.87|site 2|15|140.7571
       echo "633614.08 224125.12" | r.what map=landuse96_28m,aspect
       633614.08|224125.12||2|209.5939

   <b>Input</b> <b>coordinates</b> <b>piped</b> <b>from</b> <b>another</b> <b>program</b>
       The input coordinates may be "piped" from the standard output (stdout) of another program.  In  the  next
       example, vector point coordinates are piped from the <u>v.out.ascii</u> module.
       v.out.ascii comm_colleges separator=space | r.what map=boundary_county_500m
       145096.8591495|154534.26488388|1|39
       616341.4371495|146049.75088388|2|51
       410595.7191495|174301.82888388|3|71
       ...

   <b>Output</b> <b>containing</b> <b>raster</b> <b>map</b> <b>category</b> <b>labels</b>
       Here we use the <b>-f</b> label flag to enable the output of category labels associated with the raster cell(s),
       as well as values (categorical maps only).
       r.what -f map=landuse96_28m,aspect &lt;&lt; EOF
       633614.08 224125.12 site 1
       632972.36 225382.87 site 2
       EOF
       633614.08|224125.12|site 1|2|Low Intensity Developed|209.5939|209 degrees ccw from east
       632972.36|225382.87|site 2|15|Southern Yellow Pine|140.7571|140 degrees ccw from east

</pre><h4><b>NOTE</b></h4><pre>
       The maximum number of raster map layers that can be queried at one time is 400.

</pre><h4><b>TODO</b></h4><pre>
           •   Fix <b>400</b> <b>maps</b> limit

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
        <u>r.category,</u> <u>r.report,</u> <u>r.stats,</u> <u>r.series,</u> <u>r.univar,</u> <u>v.what,</u> <u>v.what.rast,</u> <u>v.what.vect</u>

</pre><h4><b>AUTHORS</b></h4><pre>
       Michael Shapiro, U.S. Army Construction Engineering Research Laboratory
       Vector point input added by Martin Landa, Czech Technical University in Prague, Czech Republic

</pre><h4><b>SOURCE</b> <b>CODE</b></h4><pre>
       Available at: r.what source code (history)

       Accessed: Friday Apr 04 01:19:55 2025

       Main index | Raster index | Topics index | Keywords index | Graphical index | Full index

       © 2003-2025 GRASS Development Team, GRASS GIS 8.4.1 Reference Manual

GRASS 8.4.1                                                                                       <u><a href="../man1grass/r.what.1grass.html">r.what</a></u>(1grass)
</pre>
 </div>
</div></section>
</div>
</body>
</html>