<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>t.rast.what   -  Sample  a  space  time raster dataset at specific vector point coordinates and write the</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/grass-doc">grass-doc_8.4.1-1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       <b>t.rast.what</b>   -  Sample  a  space  time raster dataset at specific vector point coordinates and write the
       output to stdout using different layouts

</pre><h4><b>KEYWORDS</b></h4><pre>
       temporal, sampling, raster, time

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>t.rast.what</b>
       <b>t.rast.what</b> <b>--help</b>
       <b>t.rast.what</b>    [-<b>niv</b>]     [<b>points</b>=<u>name</u>]       [<b>coordinates</b>=<u>east,north</u>]      <b>strds</b>=<u>name</u>      [<b>output</b>=<u>name</u>]
       [<b>where</b>=<u>sql_query</u>]       [<b>null_value</b>=<u>string</u>]       [<b>separator</b>=<u>character</u>]       [<b>order</b>=<u>string</u>[,<u>string</u>,...]]
       [<b>layout</b>=<u>string</u>]   [<b>nprocs</b>=<u>integer</u>]   [--<b>overwrite</b>]  [--<b>help</b>]  [--<b>verbose</b>]  [--<b>quiet</b>]  [--<b>ui</b>]

   <b>Flags:</b>
       <b>-n</b>
           Output header row

       <b>-i</b>
           Use stdin as input and ignore coordinates and point option

       <b>-v</b>
           Show the category for vector points map

       <b>--overwrite</b>
           Allow output files to overwrite existing files

       <b>--help</b>
           Print usage summary

       <b>--verbose</b>
           Verbose module output

       <b>--quiet</b>
           Quiet module output

       <b>--ui</b>
           Force launching GUI dialog

   <b>Parameters:</b>
       <b>points</b>=<u>name</u>
           Name of input vector map
           Or data source for direct OGR access

       <b>coordinates</b>=<u>east,north</u>
           Comma separated list of coordinates

       <b>strds</b>=<u>name</u> <b>[required]</b>
           Name of the input space time raster dataset

       <b>output</b>=<u>name</u>
           Name for the output file or "-" in case stdout should be used
           Default: <u>-</u>

       <b>where</b>=<u>sql_query</u>
           WHERE conditions of SQL statement without ’where’ keyword used in the temporal GIS framework
           Example: start_time &gt; ’2001-01-01 12:30:00’

       <b>null_value</b>=<u>string</u>
           String representing NULL value

       <b>separator</b>=<u>character</u>
           Field separator
           Special characters: pipe, comma, space, tab, newline
           Default: <u>pipe</u>

       <b>order</b>=<u>string[,string</u>,...]
           Sort the maps by category
           Options: <u>id,</u>  <u>name,</u>  <u>creator,</u>  <u>mapset,</u>  <u>creation_time,</u>   <u>modification_time,</u>   <u>start_time,</u>   <u>end_time,</u>
           <u>north,</u>  <u>south,</u>  <u>west,</u>  <u>east,</u>  <u>min,</u>  <u>max</u>
           Default: <u>start_time</u>

       <b>layout</b>=<u>string</u>
           The  layout  of  the output. One point per row (row), one point per column (col), all timsteps in one
           row (timerow)
           Options: <u>row,</u>  <u>col,</u>  <u>timerow</u>
           Default: <u>row</u>

       <b>nprocs</b>=<u>integer</u>
           Number of r.what processes to run in parallel
           Default: <u>1</u>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <u>t.rast.what</u> is designed to sample space time raster datasets at specific point coordinates  using  r.what
       internally.  The  output of r.what is transformed to different output layouts.  The output layouts can be
       specified using the <u>layout</u> option.

       Three layouts can be specified:

           •   <u>row</u> - Row order, one vector sample point value per row

           •   <u>col</u> - Column order, create a column for each vector sample point of  a  single  time  step/raster
               layer

           •   <u>timerow</u>  -  Time  order,  create  a  column for each time step, this order is the original <u>r.what</u>
               output, except that the column names are the timestamps
       Please have a look at the example to see the supported layouts.

       This module is designed to run several instances of <u>r.what</u> to sample  subsets  of  a  space  time  raster
       dataset  in  parallel. Several intermediate text files will be created that are merged into a single file
       at the end of the processing.

       Coordinates can be provided as vector map using the <u>points</u> option or as comma separated  coordinate  list
       with the <u>coordinates</u> option.

       An  output  file can be specified using the <u>output</u> option.  Stdout will be used if no output is specified
       or if the <u>output</u> option is set to "-".

</pre><h4><b>EXAMPLES</b></h4><pre>
   <b>Data</b> <b>preparation</b>
       In the following examples we sample a space time raster dataset that contains 4 raster map layers.  First
       we create the STRDS that will be sampled with <u>t.rast.what</u>.
       g.region s=0 n=80 w=0 e=120 b=0 t=50 res=10
       # Generate data
       r.mapcalc expression="a_1 = 1" -s
       r.mapcalc expression="a_2 = 2" -s
       r.mapcalc expression="a_3 = 3" -s
       r.mapcalc expression="a_4 = 4" -s
       t.create type=strds output=A title="A test" descr="A test"
       t.register -i type=raster input=A maps=a_1,a_2,a_3,a_4 \
           start=’1990-01-01’ increment="1 month"

   <b>Example</b> <b>1</b>
       The   first  approach  uses  text  coordinates  as  input  and  stdout  as  output,  the  layout  is  one
       coordinate(point per column:
       t.rast.what strds=A coordinates="115,36,79,45" layout=col -n
       start|end|115.0000000000;36.0000000000|79.0000000000;45.0000000000
       1990-01-01 00:00:00|1990-02-01 00:00:00|1|1
       1990-02-01 00:00:00|1990-03-01 00:00:00|2|2
       1990-03-01 00:00:00|1990-04-01 00:00:00|3|3
       1990-04-01 00:00:00|1990-05-01 00:00:00|4|4

   <b>Example</b> <b>2</b>
       A vector map layer can be used as input to sample the STRDS. All three available layouts are demonstrated
       using the vector map for sampling.
       # First create the vector map layer based on random points
       v.random output=points n=3 seed=1
       # Row layout using a text file as output
       t.rast.what strds=A points=points output=result.txt layout=row -n
       cat result.txt
       115.0043586274|36.3593955783|1990-01-01 00:00:00|1990-02-01 00:00:00|1
       115.0043586274|36.3593955783|1990-02-01 00:00:00|1990-03-01 00:00:00|2
       115.0043586274|36.3593955783|1990-03-01 00:00:00|1990-04-01 00:00:00|3
       115.0043586274|36.3593955783|1990-04-01 00:00:00|1990-05-01 00:00:00|4
       79.6816763826|45.2391522853|1990-01-01 00:00:00|1990-02-01 00:00:00|1
       79.6816763826|45.2391522853|1990-02-01 00:00:00|1990-03-01 00:00:00|2
       79.6816763826|45.2391522853|1990-03-01 00:00:00|1990-04-01 00:00:00|3
       79.6816763826|45.2391522853|1990-04-01 00:00:00|1990-05-01 00:00:00|4
       97.4892579600|79.2347263950|1990-01-01 00:00:00|1990-02-01 00:00:00|1
       97.4892579600|79.2347263950|1990-02-01 00:00:00|1990-03-01 00:00:00|2
       97.4892579600|79.2347263950|1990-03-01 00:00:00|1990-04-01 00:00:00|3
       97.4892579600|79.2347263950|1990-04-01 00:00:00|1990-05-01 00:00:00|4
       # Column layout order using stdout as output
       t.rast.what strds=A points=points layout=col -n
       start|end|115.0043586274;36.3593955783|79.6816763826;45.2391522853|97.4892579600;79.2347263950
       1990-01-01 00:00:00|1990-02-01 00:00:00|1|1|1
       1990-02-01 00:00:00|1990-03-01 00:00:00|2|2|2
       1990-03-01 00:00:00|1990-04-01 00:00:00|3|3|3
       1990-04-01 00:00:00|1990-05-01 00:00:00|4|4|4
       # Timerow layout, one time series per row
       # using the where statement to select a subset of the STRDS
       # and stdout as output
       t.rast.what strds=A points=points \
           where="start_time &gt;= ’1990-03-01’" layout=timerow -n
       x|y|1990-03-01 00:00:00;1990-04-01 00:00:00|1990-04-01 00:00:00;1990-05-01 00:00:00
       115.004358627375|36.3593955782903|3|4
       79.681676382576|45.2391522852909|3|4
       97.4892579600048|79.2347263950131|3|4

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
        <u>g.region,</u> <u>r.mask</u> <u>r.neighbors,</u> <u>r.what,</u> <u>t.info,</u> <u>t.rast.aggregate.ds,</u> <u>t.rast.extract,</u> <u>v.what.strds</u>

</pre><h4><b>AUTHOR</b></h4><pre>
       Sören Gebbert, Thünen Institute of Climate-Smart Agriculture

</pre><h4><b>SOURCE</b> <b>CODE</b></h4><pre>
       Available at: t.rast.what source code (history)

       Accessed: Friday Apr 04 01:21:15 2025

       Main index | Temporal index | Topics index | Keywords index | Graphical index | Full index

       © 2003-2025 GRASS Development Team, GRASS GIS 8.4.1 Reference Manual

GRASS 8.4.1                                                                                  <u><a href="../man1grass/t.rast.what.1grass.html">t.rast.what</a></u>(1grass)
</pre>
 </div>
</div></section>
</div>
</body>
</html>