<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>virt-top - 'top'-like utility for virtualization stats</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/virt-top">virt-top_1.1.1-1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       virt-top - 'top'-like utility for virtualization stats

</pre><h4><b>SUMMARY</b></h4><pre>
       virt-top [-options]

</pre><h4><b>DESCRIPTION</b></h4><pre>
       virt-top is a <b><a href="../man1/top.1.html">top</a></b>(1)-like utility for showing stats of virtualized domains.  Many keys and command line
       options are the same as for ordinary <u>top</u>.

       It uses libvirt so it is capable of showing stats across a variety of different virtualization systems.

</pre><h4><b>OPTIONS</b></h4><pre>
       <b>-1</b>  Display physical CPUs by default (instead of domains).

           Under  each  domain  column,  two numbers are shown.  The first is the percentage of the physical CPU
           used by the domain and the hypervisor together.  The second  is  the  percentage  used  by  just  the
           domain.

           When virt-top is running, use the <u>1</u> key to toggle between physical CPUs and domains display.

       <b>-2</b>  Display  network interfaces by default (instead of domains).  When virt-top is running, use the <u>2</u> key
           to toggle between network interfaces and domains display.

       <b>-3</b>  Display block devices (virtual disks) by default (instead of domains).  When virt-top is running, use
           the <u>3</u> key to toggle between block devices and domains display.

       <b>-b</b>  Batch mode.  In this mode keypresses are ignored.

       <b>-c</b> <b>uri</b> or <b>--connect</b> <b>uri</b>
           Connect to the libvirt URI given.

           To connect to QEMU/KVM you would normally do <u>-c</u> <u>qemu:///system</u>

           To connect to Xen on the same host, do <u>-c</u> <u>xen:///</u>

           To connect to libvirtd on a remote machine you would normally do <u>-c</u> <u>qemu://host/system</u>

           If this option is not given then virt-top connects by default to whatever is the  default  hypervisor
           for libvirt, although this can be overridden by setting environment variables.

           See the libvirt documentation at &lt;<a href="http://libvirt.org/uri.html">http://libvirt.org/uri.html</a>&gt; for further information.

       <b>-d</b> <b>delay</b>
           Set  the  delay  between screen updates in seconds.  The default is 3.0 seconds.  You can change this
           while virt-top is running by pressing either <u>s</u> or <u>d</u> key.

       <b>-n</b> <b>iterations</b>
           Set the number of iterations to run.  The default is to run continuously.

       <b>-o</b> <b>sort</b>
           Set the sort order to one of: <b>cpu</b> (sort by %CPU used), <b>mem</b> (sort by  total  memory),  <b>time</b>  (sort  by
           total  time),  <b>id</b>  (sort  by  domain ID), <b>name</b> (sort by domain name), <b>netrx</b> (sort by network received
           bytes), <b>nettx</b> (sort by network transmitted bytes),  <b>blockrdrq</b>  (sort  by  block  device  [disk]  read
           requests), <b>blockwrrq</b> (sort by block device [disk] write requests).

           While  virt-top  is  running  you  can change the sort order using keys <u>P</u> (cpu), <u>M</u> (memory), <u>T</u> (total
           time), <u>N</u> (domain ID), <u>F</u> (interactively select the sort field).

       <b>-s</b>  Secure mode.  Currently this does nothing.

       <b>--hist-cpu</b> <b>secs</b>
           Set the time in seconds between updates of the historical %CPU at the top right of the display.

       <b>--csv</b> <b>file.csv</b>
           Write the statistics to file <u>file.csv</u>.  First a  header  is  written  showing  the  statistics  being
           recorded in each column, then one line is written for each screen update.  The CSV file can be loaded
           directly by most spreadsheet programs.

           Currently the statistics which this records vary between releases of virt-top (but the column headers
           will stay the same, so you can use those to process the CSV file).

           To save space you can compress your CSV files (if your shell supports this feature, eg. <u>bash</u>):

            virt-top --csv &gt;(gzip -9 &gt; output.csv.gz)

           You  can  use  a similar trick to split the CSV file up.  In this example the CSV file is split every
           1000 lines into files called <u>output.csv.00</u>, <u>output.csv.01</u> etc.

            virt-top --csv &gt;(split -d -l 1000 - output.csv.)

       <b>--no-csv-cpu</b>
           Disable domain CPU stats in CSV output.

       <b>--no-csv-mem</b>
           Disable domain memory stats in CSV output.

       <b>--no-csv-block</b>
           Disable domain block device stats in CSV output.

       <b>--no-csv-net</b>
           Disable domain network interface stats in CSV output.

       <b>--debug</b> <b>filename</b>
           Send debug and error messages to <u>filename</u>.  To send error messages to syslog you can do:

            virt-top --debug &gt;(logger -t virt-top)

           See also REPORTING BUGS below.

       <b>--init-file</b> <b>filename</b>
           Read <u>filename</u> as the init file instead of the default which is <u>$HOME/.virt-toprc</u>.  See also INIT FILE
           below.

       <b>--no-init-file</b>
           Do not read any init file.

       <b>--script</b>
           Script mode.  There will be no user interface.  This is most useful when used together with the <u>--csv</u>
           and <u>-n</u> options.

       <b>--stream</b>
           Stream mode.  All output is sent to stdout.  This can be used from shell scripts etc.   There  is  no
           user interface.

       <b>--block-in-bytes</b>
           Show I/O statistics in Bytes. Default is shown in the number of Requests.

       <b>--end-time</b> <b>time</b>
           The program will exit at the <u>time</u> given.

           The time may be given in one of the following formats:

           <u>YYYY-MM-DD</u> <u>HH:MM:SS</u>
               End time is the date and time given.

           <u>HH:MM:SS</u>
               End time is the time given, today.

           <u>+HH:MM:SS</u>
               End  time is HH hours, MM minutes, SS seconds in the future (counted from the moment that program
               starts).

           <u>+secs</u>
               End time is <u>secs</u> seconds in the future.

           For example to run the program for 3 minutes you could do:

            virt-top --end-time +00:03:00

           or:

            virt-top --end-time +180

           Not every version of virt-top supports this option - it depends how the  program  was  compiled  (see
           <u>README</u> file in the source distribution for details).

       <b>--help</b>
           Display usage summary.

       <b>--version</b>
           Display version number and exit.

</pre><h4><b>KEYS</b></h4><pre>
       Note  that  keys are case sensitive.  For example use upper-case <u>P</u> (shift P) to sort by %CPU.  <u>^</u> before a
       key means a Ctrl key, so <u>^L</u> is Ctrl L.

       <u>space</u> or <u>^L</u>
           Updates the display.

       <u>q</u>   Quits the program.

       <u>h</u>   Displays help.

       <u>s</u> or <u>d</u>
           Change the delay between screen updates.

       <u>B</u>   Toggle Block I/O statistics so they are shown in either bytes or requests.

       <u>0</u> (number 0)
           Show the normal list of domains display.

       <u>1</u> (number 1)
           Toggle into showing physical CPUs.  If pressed again toggles back  to  showing  domains  (the  normal
           display).

       <u>2</u>   Toggle into showing network interfaces.  If pressed again toggles back to showing domains.

       <u>3</u>   Toggle into showing block devices (virtual disks).  If pressed again toggles back to showing domains.

       <u>P</u>   Sort by %CPU.

       <u>M</u>   Sort  by  total memory.  Note that this shows the total memory allocated to the guest, not the memory
           being used.

       <u>T</u>   Sort by total time.

       <u>N</u>   Sort by domain ID.

       <u>F</u>   Select the sort field interactively (there are other sort fields you can choose using this key).

       <u>W</u>   This creates or overwrites the init file with the current settings.

           This key is disabled if <u>--no-init-file</u> was specified on the command line  or  if  <u>overwrite-init-file</u>
           <u>false</u> is given in the init file.

</pre><h4><b>INIT</b> <b>FILE</b></h4><pre>
       When  virt-top  starts  up,  it  reads  initial  settings  from  the  file <u>.virt-toprc</u> in the user's home
       directory.

       The name of this file may be overridden using the <u>--init-file</u> <u>filename</u> command  line  option  or  may  be
       disabled entirely using <u>--no-init-file</u>.

       The  init  file  has a simple format.  Blank lines and comments beginning with <u>#</u> are ignored.  Everything
       else is a set of <u>key</u> <u>value</u> pairs, described below.

       <b>display</b> <u>task|pcpu|block|net</u>
           Sets the major display mode to one of <u>task</u> (tasks, the default), <u>pcpu</u> (physical CPUs),  <u>block</u>  (block
           devices), or <u>net</u> (network interfaces).

       <b>delay</b> <u>secs</u>
           Sets the delay between display updates in seconds.

       <b>hist-cpu</b> <u>secs</u>
           Sets the historical CPU delay in seconds.

       <b>iterations</b> <u>n</u>
           Sets the number of iterations to run before we exit.  Setting this to <u>-1</u> means to run continuously.

       <b>sort</b> <u>cpu|mem|time|id|name|...</u>
           Sets the sort order.  The option names are the same as for the command line <u>-o</u> option.

       <b>connect</b> <u>uri</u>
           Sets the default connection URI.

       <b>debug</b> <u>filename</u>
           Sets the default filename to use for debug and error messages.

       <b>csv</b> <u>filename</u>
           Enables CSV output to the named file.

       <b>csv-cpu</b> <u>true|false</u>
           Enable or disable domain CPU stats in CSV output.

       <b>csv-mem</b> <u>true|false</u>
           Enable or disable domain memory stats in CSV output.

       <b>csv-block</b> <u>true|false</u>
           Enable or disable domain block device stats in CSV output.

       <b>csv-net</b> <u>true|false</u>
           Enable or disable domain network interface stats in CSV output.

       <b>batch</b> <u>true|false</u>
           Sets batch mode.

       <b>secure</b> <u>true|false</u>
           Sets secure mode.

       <b>script</b> <u>true|false</u>
           Sets script mode.

       <b>stream</b> <u>true|false</u>
           Sets stream mode.

       <b>block-in-bytes</b> <u>true|false</u>
           Show block device statistics in bytes.

       <b>end-time</b> <u>time</u>
           Set the time at which the program exits.  See above for the time formats supported.

       <b>overwrite-init-file</b> <u>false</u>
           If set to <u>false</u> then the <u>W</u> key will not overwrite the init file.

       Note that in the current implementation, options specified in the init file override options specified on
       the command line.  This is a bug and this behaviour may change in the future.

</pre><h4><b>COLUMN</b> <b>HEADINGS</b></h4><pre>
       <b>%CPU</b>
           Percentage of CPU used.  As with <b><a href="../man1/top.1.html">top</a></b>(1), 100% means that all physical CPUs are being fully used.

       <b>DEVICE</b>
           The block device name.

       <b>DOMAIN</b>
       <b>NAME</b>
           The name of the libvirt domain.

       <b>ID</b>  The libvirt domain ID.

       <b>INTERFACE</b>
           The network interface name.

       <b>%MEM</b>
           The percentage of host memory assigned to the guest.

       <b>PHYCPU</b>
           The physical CPU.

       <b>RDBY</b>
           Disk bytes read since last displayed.

       <b>RDRQ</b>
           Disk read requests since last displayed.

       <b>RXBY</b>
           Network bytes received since last displayed.

       <b>RXPK</b>
           Network packets received since last displayed.

       <b>S</b>   The state of the domain, one of:

           <b>?</b>   Unknown.

           <b>R</b>   Running.

           <b>S</b>   Blocked.

           <b>P</b>   Paused.

           <b>D</b>
           <b>O</b>   Shutdown.

           <b>X</b>   Crashed.

           <b>M</b>   Suspended by guest power management.

       <b>TIME</b>
           Total CPU time used.

       <b>TXBY</b>
           Network bytes transmitted since last displayed.

       <b>TXPK</b>
           Network packets transmitted since last displayed.

       <b>WRBY</b>
           Disk bytes written since last displayed.

       <b>WRRQ</b>
           Disk write requests since last displayed.

</pre><h4><b>NOTES</b></h4><pre>
   <b>Block</b> <b>I/O</b> <b>statistics</b>
       This  I/O value is the amount of I/O since the previous iteration of virt-top. To calculate speed of I/O,
       you should divide the number by delay secs.

   <b>NETWORK</b> <b>RX</b> <b>BYTES</b> <b>AND</b> <b>PACKETS</b>
       Libvirt/virt-top has no way to know that a packet transmitted to a guest was received (eg. if  the  guest
       is  not  listening).   In the network RX stats, virt-top reports the packets transmitted to the guest, on
       the basis that the guest might receive them.

       In particular this includes broadcast packets.  Because of the way that Linux bridges work, if the  guest
       is  connected  to  a bridge, it will probably see a steady "background noise" of RX packets even when the
       network interface is idle or down.  These are caused by STP packets generated by the bridge.

   <b>DEBUGGING</b> <b>LIBVIRT</b> <b>ISSUES</b>
       virt-top tries to turn libvirt errors into informative messages.  However if libvirt initialization fails
       then this is not possible.  Instead you will get an obscure error like:

        libvir: error : Unknown failure
        Fatal error: exception Libvirt.Virterror(...)

       To see the cause of libvirt errors in more detail, enable libvirt debugging by setting  this  environment
       variable:

        export LIBVIRT_DEBUG=1

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man1/top.1.html">top</a></b>(1),           <b><a href="../man1/virsh.1.html">virsh</a></b>(1),          &lt;<a href="http://www.libvirt.org/ocaml/">http://www.libvirt.org/ocaml/</a>&gt;,          &lt;<a href="http://www.libvirt.org/">http://www.libvirt.org/</a>&gt;,
       &lt;<a href="http://people.redhat.com/~rjones/">http://people.redhat.com/~rjones/</a>&gt;, &lt;<a href="http://caml.inria.fr/">http://caml.inria.fr/</a>&gt;

</pre><h4><b>AUTHORS</b></h4><pre>
       Richard W.M. Jones &lt;rjones @ redhat . com&gt;

</pre><h4><b>COPYRIGHT</b></h4><pre>
       (C) Copyright 2007-2012 Red Hat Inc., Richard W.M. Jones <a href="http://libvirt.org/">http://libvirt.org/</a>

       This program is free software; you can redistribute it and/or modify  it  under  the  terms  of  the  GNU
       General  Public License as published by the Free Software Foundation; either version 2 of the License, or
       (at your option) any later version.

       This program is distributed in the hope that it will be useful, but WITHOUT ANY  WARRANTY;  without  even
       the  implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public
       License for more details.

       You should have received a copy of the GNU General Public License along with this program; if not,  write
       to the Free Software Foundation, Inc., 675 Mass Ave, Cambridge, MA 02139, USA.

</pre><h4><b>REPORTING</b> <b>BUGS</b></h4><pre>
       Bugs can be viewed on the Red Hat Bugzilla page: &lt;https://bugzilla.redhat.com/&gt;.

       If you find a bug in virt-top, please follow these steps to report it:

       1. Check for existing bug reports
           Go  to &lt;https://bugzilla.redhat.com/&gt; and search for similar bugs.  Someone may already have reported
           the same bug, and they may even have fixed it.

       2. Capture debug and error messages
           Run

            virt-top --debug virt-top.log

           and keep <u>virt-top.log</u>.  It contains error messages which you should submit with your bug report.

       3. Get version of virt-top and version of libvirt.
           Use:

            virt-top --version

           If you can get the precise version of libvirt you are using then that too is helpful.

       4. Submit a bug report.
           Go to &lt;https://bugzilla.redhat.com/&gt; and enter a new bug.  Please describe the  problem  in  as  much
           detail as possible.

           Remember to include the version numbers (step 3) and the debug messages file (step 2).

       5. Assign the bug to rjones @ redhat.com
           Assign  or  reassign  the  bug  to <b>rjones</b> <b>@</b> <b>redhat.com</b> (without the spaces).  You can also send me an
           email with the bug number if you want a faster response.

virt-top-1.1.1                                     2023-09-09                                        <u><a href="../man1/VIRT-TOP.1.html">VIRT-TOP</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>