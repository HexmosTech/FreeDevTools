<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>pmempool-info - show information about persistent memory pool</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/pmdk-tools">pmdk-tools_1.13.1-1.1ubuntu2_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       <b>pmempool-info</b> - show information about persistent memory pool

</pre><h4><b>SYNOPSIS</b></h4><pre>
              $ pmempool info [&lt;options&gt;] &lt;file&gt;

</pre><h4><b>NOTE</b></h4><pre>
              NOTICE:

       The  <b>libpmemblk</b>  and <b>libpmemlog</b> libraries are deprecated (this affects pool types <b>blk</b>, <b>btt</b> and <b>log</b>) since
       PMDK 1.13.0 release.

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The <b>pmempool</b> invoked with <u>info</u> command analyzes an existing pool created by <b>PMDK</b>  libraries  provided  by
       <b>file</b> parameter.  The <b>file</b> can be either existing pool file, a part file or a poolset file.

       The main task of this command is to print all usable information from pool headers and user data in human
       readable  format.   It  automatically  recognizes the pool type by parsing and analyzing the pool header.
       The recognition is done by checking the signature in the pool header.  The main job of <u>info</u> command is to
       present internal data structures as they are stored in file but <u>not</u> for checking consistency.   For  this
       purpose there is the <b><a href="../man1/pmempool-check.1.html">pmempool-check</a></b>(1) command available.

       The  <b>pmempool</b> with <u>info</u> command analyzes pool file as long as it is possible regarding <u>correctness</u> of in‐
       ternal meta-data (correct offsets, sizes etc.).  If it is <u>not</u> possible to analyze the rest of  the  file,
       <b>pmempool</b> exits with error code and prints appropriate error message.

       Currently there is lack of interprocess synchronization for pool files, so the <u>info</u> command should be in‐
       voked  off-line.   Using <b>pmempool</b> on pool file which may be modified by another process may lead to unex‐
       pected errors in pool file.

       <b>pmempool</b> <b>info</b> opens pool file in <u>read-only</u> mode so the file will remain untouched after processing.

       The <u>info</u> command may collect and print basic statistics about data usage.  The statistics are specific to
       the type of pool.  See <b>STATISTICS</b> section for details.

       Although the pool consistency is <u>not</u> checked by the <u>info</u> command, it prints  information  about  checksum
       errors and/or offsets errors.

   <b>Common</b> <b>options:</b>
       By  default the <u>info</u> command of <b>pmempool</b> prints information about the most important internal data struc‐
       tures from pool.  The particular set of headers and meta-data depend on pool type.  The pool type is rec‐
       ognized automatically and appropriate information is displayed in human-readable format.

       To force processing specified file(s) as desired pool type use <b>-f</b> option with appropriate  name  of  pool
       type.   The valid names off pool types are <b>blk</b>, <b>log</b>, <b>obj</b> or <b>btt</b>.  This option may be useful when the pool
       header is corrupted and automatic recognition of pool type fails.

       -f, --force blk|log|obj|btt

       Force parsing pool as specified pool type.

              NOTE: By default only pool headers and internal meta-data are displayed.  To display user data use
              <b>-d</b> option.  Using <b>-r</b> option you can specify number of blocks/bytes/data chunks  or  objects  using
              special text format.  See <b>RANGE</b> section for details.  The range refers to <u>block</u> <u>numbers</u> in case of
              pmem  blk  pool type, to <u>chunk</u> <u>numbers</u> in case of pmem log pool type and to <u>object</u> <u>numbers</u> in case
              of pmem obj pool type.  See <b>EXAMPLES</b> section for an example of usage of these options.

       -d, --data

       Dump user data in hexadecimal format.  In case of pmem <u>blk</u> pool type data is dumped in <u>blocks</u>.   In  case
       of pmem <u>log</u> pool type data is dumped as a wholeor in <u>chunks</u> if <b>-w</b> option is used (See <b>Options</b> <b>for</b> <b>PMEMLOG</b>
       section for details).

       -r, --range &lt;range&gt;

       Range  of  blocks/data  chunks/objects/zone  headers/chunk  headers/lanes.  See <b>RANGE</b> section for details
       about range format.

       -n, --human

       Print sizes in human-readable format with appropriate units (e.g. 4k, 8M, 16G)

       -x, --headers-hex

       Print pool’s internal data in mixed format which consists of hexadecimal dump of header’s data and parsed
       format displayed in human-readable format.  This allows one to see how data is stored in file.

       -s, --stats

       Print pool’s statistics.  See <b>STATISTICS</b> section for details.

       -k, --bad-blocks=&lt;yes|no&gt;

       Print bad blocks found in the pool.

       -h, --help

       Display help message and exit.

   <b>Options</b> <b>for</b> <b>PMEMLOG:</b>
       -w, --walk &lt;size&gt;

       Use this option to walk through used data with fixed data chunk size.  See  <b><a href="../man3/pmemlog_walk.3.html">pmemlog_walk</a></b>(3)  in  <b>libpmem‐</b>
       <b><a href="../man7/log.7.html">log</a></b>(7) for details.

   <b>Options</b> <b>for</b> <b>PMEMBLK:</b>
       By  default the <u>info</u> command displays the <b>pmemblk</b> header and BTT (Block Translation Table) Info header in
       case of <b>pmemblk</b> pool type.

       To display BTT Map and/or BTT FLOG (Free List and Log) use <b>-m</b> and <b>-g</b>  options  respectively  or  increase
       verbosity level.

       In order to display BTT Info header backup use <b>-B</b> option.

       -m, --map

       Print BTT Map entries.

       -g, --flog

       Print BTT FLOG entries.

       -B, --backup

       Print BTT Info header backup.

              NOTE: By default the <u>info</u> command displays all data blocks when <b>-d</b> options is used.  However it is
              possible  to  skip blocks marked with <u>zero</u> and/or <u>error</u> flags.  It is also possible to skip blocks
              which are <u>not</u> marked with any flag.  Skipping blocks has impact on blocks ranges (e.g. display  10
              blocks marked with error flag in the range from 0 to 10000) and statistics.

       -z, --skip-zeros

       Skip blocks marked with <u>zero</u> flag.

       -e, --skip-error

       Skip blocks marked with <u>error</u> flag.

       -u, --skip-no-flag

       Skip blocks <u>not</u> marked with any flag.

   <b>Options</b> <b>for</b> <b>PMEMOBJ:</b>
       By default the <u>info</u> command displays pool header and <b>pmemobj</b> pool descriptor.  In order to print informa‐
       tion about other data structures one of the following options may be used.

       -l, --lanes [&lt;range&gt;]

       Print  information  about  lanes.   If  range is not specified all lanes are displayed.  The range can be
       specified using <b>-r</b> option right after the <b>-l</b> option.  See <b>RANGE</b> section for details about range format.

       -R, --recovery

       Print information about only those lanes which require recovery process.  This option requires <b>-l</b>, <b>–lanes</b>
       option.

       -O, --object-store

       Print information about all allocated objects.

       -t, --types &lt;range&gt;

       Print information about allocated objects only from specified range of type numbers.  If <b>-s</b>,  <b>–stats</b>  op‐
       tion is specified the objects statistics refer to objects from specified range of type numbers.  This op‐
       tion requires <b>-O</b>, <b>–object-store</b> or <b>-s</b>, <b>–stats</b> options.  See <b>RANGE</b> section for details about range format.

       -E, --no-empty

       Ignore empty lists of objects.  This option requires <b>-O</b>, <b>–object-store</b> option.

       -o, --root

       Print information about a root object.

       -A, --alloc-header

       Print  object’s allocation header.  This option requires <b>-O</b>, <b>–object-store</b> or <b>-l</b>, <b>–lanes</b> or <b>-o</b>, <b>–root</b> op‐
       tions.

       -a, --oob-header

       Print object’s out of band header.  This option requires <b>-O</b>, <b>–object-store</b> or <b>-l</b>, <b>–lanes</b> or <b>-o</b>, <b>–root</b> op‐
       tions.

       -H, --heap

       Print information about <b>pmemobj</b> heap.  By default only a heap header is displayed.

       -Z, --zones

       If the <b>-H</b>, <b>–heap</b> option is used, print information about zones from specified range.  If the <b>-O</b>, <b>–object-</b>
       <b>store</b> option is used, print information about objects only from specified range of  zones.   This  option
       requires  <b>-O</b>, <b>–object-store</b>, <b>-H</b>, <b>–heap</b> or <b>-s</b>, <b>–stats</b> options.  The range can be specified using <b>-r</b> option
       right after the <b>-Z</b> option.  See <b>RANGE</b> section for details about range format.

       -C, --chunks [&lt;range&gt;]

       If the <b>-H,</b> <b>–heap</b> option is used, print information about chunks from specified range.  By default  infor‐
       mation about chunks of types <u>used</u> , <u>free</u> and <u>run</u> are displayed.  If the <b>-O,</b> <b>–object-store</b> option is used,
       print  information  about objects from specified range of chunks within a zone.  This option requires <b>-O,</b>
       <b>–object-store</b>, <b>-H,</b> <b>–heap</b> or <b>-s,</b> <b>–stats</b> options.  The range can be specified using <b>-r</b> option  right  after
       the <b>-C</b> option.  See <b>RANGE</b> section for details about range format.

       -T, --chunk-type used,free,run,footer

       Print  only  specified  type(s) of chunks.  The multiple types may be specified separated by comma.  This
       option requires <b>-H,</b> <b>–heap</b> and <b>-C,</b> <b>–chunks</b> options.

       -b, --bitmap

       Print bitmap of used blocks in chunks of type run.  This option requires <b>-H,</b> <b>–heap</b> and  <b>-C,</b>  <b>–chunks</b>  op‐
       tions.

       -p, --replica &lt;num&gt;

       Print information from <u>&lt;num&gt;</u> replica.  The 0 value means the master pool file.

</pre><h4><b>RANGE</b></h4><pre>
       Using  <b>-r,</b>  <b>–range</b> option it is possible to dump only a range of user data.  This section describes valid
       format of <u>&lt;range&gt;</u> string.

       You can specify multiple ranges separated by commas.

       &lt;first&gt;-&lt;last&gt;

       All blocks/bytes/data chunks from <u>&lt;first&gt;</u> to <u>&lt;last&gt;</u> will be dumped.

       -&lt;last&gt;

       All blocks/bytes/data chunks up to <u>&lt;last&gt;</u> will be dumped.

       &lt;first&gt;-

       All blocks/bytes/data chunks starting from <u>&lt;first&gt;</u> will be dumped.

       &lt;number&gt;

       Only <u>&lt;number&gt;</u> block/byte/data chunk will be dumped.

</pre><h4><b>STATISTICS</b></h4><pre>
       Below is the description of statistical measures for specific pool types.

   <b>PMEMLOG</b>
       • <b>Total</b> - Total space in pool.

       • <b>Available</b> - Size and percentage of available space.

       • <b>Used</b> - Size and percentage of used space.

   <b>PMEMBLK</b>
       • <b>Total</b> <b>blocks</b> - Total number of blocks in pool.

       • <b>Zeroed</b> <b>blocks</b> - Number and percentage of blocks marked with <u>zero</u> flag.

       • <b>Error</b> <b>blocks</b> - Number and percentage of blocks marked with <u>error</u> flag.

       • <b>Blocks</b> <b>without</b> <b>any</b> <b>flag</b> - Number and percentage of blocks <u>not</u> marked with any flag.

         NOTE: In case of pmemblk, statistics are evaluated for blocks which meet requirements regarding:  <u>range</u>
         of blocks (<b>-r</b> option), <u>skipped</u> types of blocks (<b>-z</b>, <b>-e</b>, <b>-u</b> options).

   <b>PMEMOBJ</b>
       • <b>Object</b> <b>store</b>

         • <b>Number</b> <b>of</b> <b>objects</b> - Total number of objects and number of objects per type number.

         • <b>Number</b> <b>of</b> <b>bytes</b> - Total number of bytes and number of bytes per type number.

       • <b>Heap</b>

         • <b>Number</b> <b>of</b> <b>zones</b> - Total number of zones in the pool.

         • <b>Number</b> <b>of</b> <b>used</b> <b>zones</b> - Number of used zones in the pool.

       • <b>Zone</b>  The  zone’s statistics are presented for each zone separately and the aggregated results from all
         zones.

         • <b>Number</b> <b>of</b> <b>chunks</b> - Total number of chunks in the zone and number of chunks of specified type.

         • <b>Chunks</b> <b>size</b> - Total size of all chunks in the zone and sum of sizes of chunks of specified type.

       • <b>Allocation</b> <b>classes</b>

         • <b>Units</b> - Total number of units of specified class.

         • <b>Used</b> <b>units</b> - Number of used units of specified class.

         • <b>Bytes</b> - Total number of bytes of specified class.

         • <b>Used</b> <b>bytes</b> - Number of used bytes of specified class.

         • <b>Total</b> <b>bytes</b> - Total number of bytes of all classes.

         • <b>Total</b> <b>used</b> <b>bytes</b> - Total number of used bytes of all classes.

</pre><h4><b>EXAMPLE</b></h4><pre>
              $ pmempool info ./pmemblk

       Parse and print information about “pmemblk” pool file.

              $ pmempool info -f blk ./pmempool

       Force parsing “pmempool” file as <b>pmemblk</b> pool type.

              $ pmempool info -d ./pmemlog

       Print information and data in hexadecimal dump format for file “pmemlog”.

              $ pmempool info -d -r10-100 -eu ./pmemblk

       Print information from “pmemblk” file.  Dump data blocks from 10 to 100, skip blocks  marked  with  error
       flag and not marked with any flag.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man1/pmempool.1.html">pmempool</a></b>(1), <b><a href="../man7/libpmemblk.7.html">libpmemblk</a></b>(7), <b><a href="../man7/libpmemlog.7.html">libpmemlog</a></b>(7), <b><a href="../man7/libpmemobj.7.html">libpmemobj</a></b>(7) and <b>&lt;https://pmem.io&gt;</b>
</pre>
 </div>
</div></section>
</div>
</body>
</html>