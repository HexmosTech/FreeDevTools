<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>pmempool-feature - toggle or query pool set features</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/pmdk-tools">pmdk-tools_1.13.1-1.1ubuntu2_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       <b>pmempool-feature</b> - toggle or query pool set features

</pre><h4><b>SYNOPSIS</b></h4><pre>
              $ pmempool feature (-e|-d|-q feature-name) [options] &lt;file&gt;

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The <b>pmempool</b> <b>feature</b> command enables / disables or queries pool set features.

       Available pool <u>feature-names</u> are:

       • <b>SINGLEHDR</b>  -  only the first part in each replica contains the pool part internal metadata.  This value
         can be used only with <b>-q</b>.  It can not be enabled or disabled.  For details see <b><a href="../man5/poolset.5.html">poolset</a></b>(5).

       • <b>CHECKSUM_2K</b> - only the first 2KiB of pool part internal metadata is checksummed.   Other  features  may
         depend on this one to store additional metadata in otherwise unused second 2KiB part of a header.  When
         <b>CHECKSUM_2K</b> is disabled whole 4KiB is checksummed.

       • <b>SHUTDOWN_STATE</b> - enables additional check performed during pool open which verifies pool consistency in
         the  presence  of  dirty shutdown.  <b>CHECKSUM_2K</b> has to be enabled prior to <b>SHUTDOWN_STATE</b> otherwise en‐
         abling <b>SHUTDOWN_STATE</b> will fail.

       • <b>CHECK_BAD_BLOCKS</b> - enables checking bad blocks performed during opening a pool and  fixing  bad  blocks
         performed  by pmempool-sync during syncing a pool.  Currently (Linux kernel v4.19, libndctl v62) check‐
         ing and fixing bad blocks require read access to the following resource files (containing physical  ad‐
         dresses) of NVDIMM devices which only root can read by default:

         /sys/bus/nd/devices/ndbus*/region*/resource
         /sys/bus/nd/devices/ndbus*/region*/dax*/resource
         /sys/bus/nd/devices/ndbus*/region*/pfn*/resource
         /sys/bus/nd/devices/ndbus*/region*/namespace*/resource

       It is possible to use poolset as <u>file</u> argument.

   <b>Available</b> <b>options:</b>
       -h, --help

       Print help message.

       -v, --verbose

       Increase verbosity level.

       -e, --enable feature-name

       Enable feature for pool set.

       -d, --disable feature-name

       Disable feature for pool set.

       -q, --query feature-name

       Print feature status.

</pre><h4><b>COMPATIBILITY</b></h4><pre>
       Poolsets  with features not defined in this document (e.g. enabled by the newer software version) are not
       supported.

</pre><h4><b>DISCLAIMER</b></h4><pre>
       pmempool feature command is not fail safe.

</pre><h4><b>EXAMPLE</b></h4><pre>
              $ pmempool feature --enable CHECKSUM_2K pool.set

       Enables POOL_FEAT_CKSUM_2K incompat feature flag.

              $ pmempool feature --disable CHECKSUM_2K pool.set

       Disables POOL_FEAT_CKSUM_2K incompat feature flag.

              $ pmempool feature --query CHECKSUM_2K pool.set
              0

       Prints POOL_FEAT_CKSUM_2K incompat feature flag value.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man5/poolset.5.html">poolset</a></b>(5) and <b>&lt;https://pmem.io&gt;</b>
</pre>
 </div>
</div></section>
</div>
</body>
</html>