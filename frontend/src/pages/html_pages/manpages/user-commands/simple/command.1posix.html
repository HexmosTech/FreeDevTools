<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>This  manual  page  is part of the POSIX Programmer's Manual.  The Linux implementation of this interface</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/manpages-posix">manpages-posix_2017a-2_all</a> <br><br><pre>
</pre><h4><b>PROLOG</b></h4><pre>
       This  manual  page  is part of the POSIX Programmer's Manual.  The Linux implementation of this interface
       may differ (consult the corresponding Linux manual page for details of Linux behavior), or the  interface
       may not be implemented on Linux.

</pre><h4><b>NAME</b></h4><pre>
       command — execute a simple command

</pre><h4><b>SYNOPSIS</b></h4><pre>
       command <b>[</b>-p<b>]</b> <u>command_name</u> <b>[</b><u>argument</u>...<b>]</b>

       command <b>[</b>-p<b>][</b>-v|-V<b>]</b> <u>command_name</u>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The  <u>command</u>  utility  shall  cause the shell to treat the arguments as a simple command, suppressing the
       shell function lookup that is described in <u>Section</u> <u>2.9.1.1</u>, <u>Command</u> <u>Search</u> <u>and</u> <u>Execution</u>, item 1b.

       If the <u>command_name</u> is the same as the name of  one  of  the  special  built-in  utilities,  the  special
       properties  in the enumerated list at the beginning of <u>Section</u> <u>2.14</u>, <u>Special</u> <u>Built-In</u> <u>Utilities</u> shall not
       occur. In every other respect, if <u>command_name</u> is not the name of a function, the effect of <u>command</u> (with
       no options) shall be the same as omitting <u>command</u>.

       When the <b>-v</b> or <b>-V</b> option is used, the <u>command</u> utility shall provide information concerning how a  command
       name is interpreted by the shell.

</pre><h4><b>OPTIONS</b></h4><pre>
       The  <u>command</u>  utility shall conform to the Base Definitions volume of POSIX.1‐2017, <u>Section</u> <u>12.2</u>, <u>Utility</u>
       <u>Syntax</u> <u>Guidelines</u>.

       The following options shall be supported:

       <b>-p</b>        Perform the command search using a default value for <u>PATH</u> that is guaranteed to find all of the
                 standard utilities.

       <b>-v</b>        Write a string to standard output that indicates the pathname or command that will be  used  by
                 the  shell,  in  the  current  shell  execution  environment (see <u>Section</u> <u>2.12</u>, <u>Shell</u> <u>Execution</u>
                 <u>Environment</u>), to invoke <u>command_name</u>, but do not invoke <u>command_name</u>.

                  *  Utilities, regular built-in utilities, <u>command_name</u>s including a &lt;slash&gt; character, and any
                     implementation-defined functions that are found using the <u>PATH</u> variable  (as  described  in
                     <u>Section</u> <u>2.9.1.1</u>, <u>Command</u> <u>Search</u> <u>and</u> <u>Execution</u>), shall be written as absolute pathnames.

                  *  Shell functions, special built-in utilities, regular built-in utilities not associated with
                     a <u>PATH</u> search, and shell reserved words shall be written as just their names.

                  *  An alias shall be written as a command line that represents its alias definition.

                  *  Otherwise,  no  output shall be written and the exit status shall reflect that the name was
                     not found.

       <b>-V</b>        Write a string to standard output that indicates how the name given in the <u>command_name</u> operand
                 will be interpreted by the shell, in the current shell execution environment (see <u>Section</u> <u>2.12</u>,
                 <u>Shell</u> <u>Execution</u> <u>Environment</u>), but do not invoke <u>command_name</u>.   Although  the  format  of  this
                 string  is  unspecified,  it  shall  indicate in which of the following categories <u>command_name</u>
                 falls and shall include the information stated:

                  *  Utilities, regular built-in utilities, and any implementation-defined  functions  that  are
                     found  using  the  <u>PATH</u>  variable  (as  described  in  <u>Section</u>  <u>2.9.1.1</u>, <u>Command</u> <u>Search</u> <u>and</u>
                     <u>Execution</u>), shall be identified as such and include the absolute pathname in the string.

                  *  Other shell functions shall be identified as functions.

                  *  Aliases shall be identified as aliases and their definitions included in the string.

                  *  Special built-in utilities shall be identified as special built-in utilities.

                  *  Regular built-in utilities not associated with a <u>PATH</u> search shall be identified as regular
                     built-in utilities. (The term ``regular'' need not be used.)

                  *  Shell reserved words shall be identified as reserved words.

</pre><h4><b>OPERANDS</b></h4><pre>
       The following operands shall be supported:

       <u>argument</u>  One of the strings treated as an argument to <u>command_name</u>.

       <u>command_name</u>
                 The name of a utility or a special built-in utility.

</pre><h4><b>STDIN</b></h4><pre>
       Not used.

</pre><h4><b>INPUT</b> <b>FILES</b></h4><pre>
       None.

</pre><h4><b>ENVIRONMENT</b> <b>VARIABLES</b></h4><pre>
       The following environment variables shall affect the execution of <u>command</u>:

       <u>LANG</u>      Provide a default value for the internationalization variables that are unset or null. (See the
                 Base Definitions volume of POSIX.1‐2017, <u>Section</u> <u>8.2</u>, <u>Internationalization</u>  <u>Variables</u>  for  the
                 precedence   of   internationalization  variables  used  to  determine  the  values  of  locale
                 categories.)

       <u>LC_ALL</u>    If set to a non-empty string value, override the values of all the  other  internationalization
                 variables.

       <u>LC_CTYPE</u>  Determine  the  locale  for the interpretation of sequences of bytes of text data as characters
                 (for example, single-byte as opposed to multi-byte characters in arguments).

       <u>LC_MESSAGES</u>
                 Determine the locale that should be used to  affect  the  format  and  contents  of  diagnostic
                 messages written to standard error and informative messages written to standard output.

       <u>NLSPATH</u>   Determine the location of message catalogs for the processing of <u>LC_MESSAGES</u>.

       <u>PATH</u>      Determine  the search path used during the command search described in <u>Section</u> <u>2.9.1.1</u>, <u>Command</u>
                 <u>Search</u> <u>and</u> <u>Execution</u>, except as described under the <b>-p</b> option.

</pre><h4><b>ASYNCHRONOUS</b> <b>EVENTS</b></h4><pre>
       Default.

</pre><h4><b>STDOUT</b></h4><pre>
       When the <b>-v</b> option is specified, standard output shall be formatted as:

           "%s\n", &lt;<u>pathname</u> <u>or</u> <u>command</u>&gt;

       When the <b>-V</b> option is specified, standard output shall be formatted as:

           "%s\n", &lt;<u>unspecified</u>&gt;

</pre><h4><b>STDERR</b></h4><pre>
       The standard error shall be used only for diagnostic messages.

</pre><h4><b>OUTPUT</b> <b>FILES</b></h4><pre>
       None.

</pre><h4><b>EXTENDED</b> <b>DESCRIPTION</b></h4><pre>
       None.

</pre><h4><b>EXIT</b> <b>STATUS</b></h4><pre>
       When the <b>-v</b> or <b>-V</b> options are specified, the following exit values shall be returned:

        0    Successful completion.

       &gt;0    The <u>command_name</u> could not be found or an error occurred.

       Otherwise, the following exit values shall be returned:

       126   The utility specified by <u>command_name</u> was found but could not be invoked.

       127   An error occurred in the <u>command</u> utility or the utility specified  by  <u>command_name</u>  could  not  be
             found.

       Otherwise,  the  exit status of <u>command</u> shall be that of the simple command specified by the arguments to
       <u>command</u>.

</pre><h4><b>CONSEQUENCES</b> <b>OF</b> <b>ERRORS</b></h4><pre>
       Default.

       <u>The</u> <u>following</u> <u>sections</u> <u>are</u> <u>informative.</u>

</pre><h4><b>APPLICATION</b> <b>USAGE</b></h4><pre>
       The order for command search allows functions to override  regular  built-ins  and  path  searches.  This
       utility is necessary to allow functions that have the same name as a utility to call the utility (instead
       of a recursive call to the function).

       The  system default path is available using <u>getconf</u>; however, since <u>getconf</u> may need to have the <u>PATH</u> set
       up before it can be called itself, the following can be used:

           command -p getconf PATH

       There are some advantages to suppressing the special characteristics of special  built-ins  on  occasion.
       For example:

           command exec &gt; <u>unwritable-file</u>

       does not cause a non-interactive script to abort, so that the output status can be checked by the script.

       The  <u>command</u>,  <u>env</u>, <u>nohup</u>, <u>time</u>, and <u>xargs</u> utilities have been specified to use exit code 127 if an error
       occurs so that applications can distinguish ``failure to find a utility'' from ``invoked  utility  exited
       with  an error indication''. The value 127 was chosen because it is not commonly used for other meanings;
       most utilities use small values for ``normal error conditions'' and the values above 128 can be  confused
       with  termination  due  to  receipt of a signal. The value 126 was chosen in a similar manner to indicate
       that the utility could be found,  but  not  invoked.  Some  scripts  produce  meaningful  error  messages
       differentiating  the  126  and  127  cases.  The  distinction  between exit codes 126 and 127 is based on
       KornShell practice that uses 127 when all attempts to <u>exec</u> the utility fail with <b>[ENOENT]</b>, and  uses  126
       when any attempt to <u>exec</u> the utility fails for any other reason.

       Since  the  <b>-v</b>  and  <b>-V</b>  options  of  <u>command</u>  produce  output in relation to the current shell execution
       environment, <u>command</u> is generally provided as a shell regular built-in. If it is called in a subshell  or
       separate utility execution environment, such as one of the following:

           (PATH=foo command -v)
            nohup command -v

       it does not necessarily produce correct results. For example, when called with <u>nohup</u> or an <u>exec</u> function,
       in  a  separate  utility  execution  environment,  most implementations are not able to identify aliases,
       functions, or special built-ins.

       Two types of regular built-ins could be encountered on a system and these  are  described  separately  by
       <u>command</u>.  The description of command search in <u>Section</u> <u>2.9.1.1</u>, <u>Command</u> <u>Search</u> <u>and</u> <u>Execution</u> allows for a
       standard  utility to be implemented as a regular built-in as long as it is found in the appropriate place
       in a <u>PATH</u> search. So, for example, <u>command</u> <b>-v</b> <u>true</u> might yield <b><a href="file:/bin/true">/bin/true</a></b> or some similar pathname.  Other
       implementation-defined  utilities that are not defined by this volume of POSIX.1‐2017 might exist only as
       built-ins and have no pathname associated with them. These produce output identified as (regular)  built-
       ins.  Applications  encountering  these  are  not  able  to count on <u>exec</u>ing them, using them with <u>nohup</u>,
       overriding them with a different <u>PATH</u>, and so on.

</pre><h4><b>EXAMPLES</b></h4><pre>
        1. Make a version of <u>cd</u> that always prints out the new working directory exactly once:

               cd() {
                   command cd "$@" &gt;/dev/null
                   pwd
               }

        2. Start off a ``secure shell script'' in which the script avoids being spoofed by its parent:

               IFS='
               '
               #    The preceding value should be &lt;space&gt;&lt;tab&gt;&lt;newline&gt;.
               #    Set IFS to its default value.

               \unalias -a
               #    Unset all possible aliases.
               #    Note that unalias is escaped to prevent an alias
               #    being used for unalias.

               unset -f command
               #    Ensure command is not a user function.

               PATH="$(command -p getconf PATH):$PATH"
               #    Put on a reliable PATH prefix.

               #    ...

           At this point, given correct permissions on the directories  called  by  <u>PATH</u>,  the  script  has  the
           ability to ensure that any utility it calls is the intended one. It is being very cautious because it
           assumes  that  implementation extensions may be present that would allow user functions to exist when
           it is invoked; this capability is not specified by  this  volume  of  POSIX.1‐2017,  but  it  is  not
           prohibited  as an extension. For example, the <u>ENV</u> variable precedes the invocation of the script with
           a user start-up script. Such a script could define functions to spoof the application.

</pre><h4><b>RATIONALE</b></h4><pre>
       Since <u>command</u> is a regular built-in utility it is always found prior to the <u>PATH</u> search.

       There is nothing in the description of <u>command</u> that implies the command line is  parsed  any  differently
       from that of any other simple command. For example:

           command a | b ; c

       is  not  parsed  in  any  special  way that causes <b>'|'</b> or <b>';'</b> to be treated other than a pipe operator or
       &lt;semicolon&gt; or that prevents function lookup on <b>b</b> or <b>c</b>.

       The <u>command</u> utility is somewhat similar to the Eighth Edition shell <u>builtin</u> command,  but  since  <u>command</u>
       also goes to the file system to search for utilities, the name <u>builtin</u> would not be intuitive.

       The  <u>command</u>  utility  is most likely to be provided as a regular built-in. It is not listed as a special
       built-in for the following reasons:

        *  The removal of exportable functions made the special precedence of a special built-in unnecessary.

        *  A special built-in has special properties (see <u>Section</u> <u>2.14</u>, <u>Special</u> <u>Built-In</u>  <u>Utilities</u>)  that  were
           inappropriate for invoking other utilities. For example, two commands such as:

               date &gt; <u>unwritable-file</u>

               command date &gt; <u>unwritable-file</u>

           would  have  entirely  different  results;  in a non-interactive script, the former would continue to
           execute the next command, the latter would abort. Introducing this  semantic  difference  along  with
           suppressing functions was seen to be non-intuitive.

       The  <b>-p</b> option is present because it is useful to be able to ensure a safe path search that finds all the
       standard utilities. This search might not be identical to the one that occurs through  one  of  the  <u>exec</u>
       functions  (as  defined  in the System Interfaces volume of POSIX.1‐2017) when <u>PATH</u> is unset. At the very
       least, this feature is required to allow the script to access the correct version of <u>getconf</u> so that  the
       value of the default path can be accurately retrieved.

       The  <u>command</u>  <b>-v</b>  and  <b>-V</b>  options  were  added  to  satisfy  requirements  from users that are currently
       accomplished by three different historical  utilities:  <u>type</u>  in  the  System  V  shell,  <u>whence</u>  in  the
       KornShell, and <u>which</u> in the C shell. Since there is no historical agreement on how and what to accomplish
       here,  the  POSIX  <u>command</u> utility was enhanced and the historical utilities were left unmodified.  The C
       shell <u>which</u> merely conducts a path search. The KornShell <u>whence</u> is  more  elaborate—in  addition  to  the
       categories  required  by  POSIX,  it  also  reports  on  tracked aliases, exported aliases, and undefined
       functions.

       The output format of <b>-V</b>  was  left  mostly  unspecified  because  human  users  are  its  only  audience.
       Applications  should  not  be  written  to  care about this information; they can use the output of <b>-v</b> to
       differentiate between various types of commands, but the additional information that may  be  emitted  by
       the  more  verbose  <b>-V</b>  is  not  needed  and  should  not  be arbitrarily constrained in its verbosity or
       localization for application parsing reasons.

</pre><h4><b>FUTURE</b> <b>DIRECTIONS</b></h4><pre>
       None.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <u>Section</u> <u>2.9.1.1</u>, <u>Command</u> <u>Search</u> <u>and</u> <u>Execution</u>, <u>Section</u> <u>2.12</u>, <u>Shell</u> <u>Execution</u> <u>Environment</u>,  <u>Section</u>  <u>2.14</u>,
       <u>Special</u> <u>Built-In</u> <u>Utilities</u>, <u>sh</u>, <u>type</u>

       The  Base  Definitions  volume  of  POSIX.1‐2017, <u>Chapter</u> <u>8</u>, <u>Environment</u> <u>Variables</u>, <u>Section</u> <u>12.2</u>, <u>Utility</u>
       <u>Syntax</u> <u>Guidelines</u>

       The System Interfaces volume of POSIX.1‐2017, <u>exec</u>

</pre><h4><b>COPYRIGHT</b></h4><pre>
       Portions of this text are reprinted and reproduced in electronic form from IEEE Std 1003.1-2017, Standard
       for Information  Technology  --  Portable  Operating  System  Interface  (POSIX),  The  Open  Group  Base
       Specifications  Issue  7, 2018 Edition, Copyright (C) 2018 by the Institute of Electrical and Electronics
       Engineers, Inc and The Open Group.  In the event of any discrepancy between this version and the original
       IEEE and The Open Group Standard, the original IEEE and The Open Group Standard is the referee  document.
       The original Standard can be obtained online at <a href="http://www.opengroup.org/unix/online.html">http://www.opengroup.org/unix/online.html</a> .

       Any  typographical  or formatting errors that appear in this page are most likely to have been introduced
       during  the  conversion  of  the  source  files  to  man  page  format.  To  report  such   errors,   see
       https://www.kernel.org/doc/man-pages/reporting_bugs.html .

IEEE/The Open Group                                   2017                                       <u><a href="../man1POSIX/COMMAND.1POSIX.html">COMMAND</a></u>(1POSIX)
</pre>
 </div>
</div></section>
</div>
</body>
</html>