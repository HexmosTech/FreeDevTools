<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>cback3-amazons3-sync - Synchronize a local directory with an Amazon S3 bucket</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/cedar-backup3">cedar-backup3_3.9.2-1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       cback3-amazons3-sync - Synchronize a local directory with an Amazon S3 bucket

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>cback3-amazons3-sync</b> [<u>switches</u>] sourceDir s3BucketUrl

</pre><h4><b>DESCRIPTION</b></h4><pre>
       This  is the Cedar Backup 3 Amazon S3 sync tool.  It synchronizes a local directory to an Amazon S3 cloud
       storage bucket.  After the sync is complete, a validation step is taken.  An error  is  reported  if  the
       contents of the bucket do not match the source directory, or if the indicated size for any file differs.

       Generally,  one  can  run  the cback3-amazons3-sync command with no special switches.  This will start it
       using the default Cedar Backup log file, etc.  You only need to use the switches if you  need  to  change
       the default behavior.

</pre><h4><b>MIGRATING</b> <b>FROM</b> <b>VERSION</b> <b>2</b> <b>TO</b> <b>VERSION</b> <b>3</b></h4><pre>
       The  main  difference  between  Cedar  Backup version 2 and Cedar Backup version 3 is the targeted Python
       interpreter.  For most users, migration should be straightforward.  See the discussion found at <a href="../man1/cback3.1.html">cback3</a>(1)
       or reference the Cedar Backup user guide.

</pre><h4><b>ARGUMENTS</b></h4><pre>
       <b>sourceDir</b>
              The source directory on a local disk.

       <b>s3BucketUrl</b>
              The URL specifying the location of the Amazon S3 cloud storage bucket to  synchronize  with,  like
              <u>s3://example.com-backup/subdir</u>.

</pre><h4><b>SWITCHES</b></h4><pre>
       <b>-h</b>, <b>--help</b>
              Display usage/help listing.

       <b>-V</b>, <b>--version</b>
              Display version information.

       <b>-b</b>, <b>--verbose</b>
              Print  verbose  output  to the screen as well writing to the logfile. When this option is enabled,
              most information that would normally be written to the logfile will also be written to the screen.

       <b>-l</b>, <b>--logfile</b>
              Specify the path to an alternate logfile.  The default logfile file is <u>/var/log/cback3.log</u>.

       <b>-o</b>, <b>--owner</b>
              Specify the ownership of the logfile, in the form user:group.  The default ownership is  <u>root:adm</u>,
              to  match the Debian standard for most logfiles.  This value will only be used when creating a new
              logfile.  If the logfile already exists when the cback3 script is executed,  it  will  retain  its
              existing  ownership  and  mode.   Only  user  and group names may be used, not numeric uid and gid
              values.

       <b>-m</b>, <b>--mode</b>
              Specify the permissions for the logfile, using the numeric mode as in <a href="../man1/chmod.1.html">chmod</a>(1).  The default  mode
              is  <u>640</u>  (-rw-r-----).   This value will only be used when creating a new logfile.  If the logfile
              already exists when the cback3 script is executed, it will retain its existing ownership and mode.

       <b>-O</b>, <b>--output</b>
              Record some sub-command output to the logfile. When this option is enabled, all output from system
              commands will be logged. This might be useful for debugging or just for reference.

       <b>-d</b>, <b>--debug</b>
              Write debugging information to the logfile. This option produces a  high  volume  of  output,  and
              would  generally only be needed when debugging a problem. This option implies the --output option,
              as well.

       <b>-s</b>, <b>--stack</b>
              Dump a Python stack trace instead of swallowing exceptions.  This forces Cedar Backup to dump  the
              entire  Python  stack trace associated with an error, rather than just propagating last message it
              received back up to the user interface.  Under some circumstances, this is useful  information  to
              include along with a bug report.

       <b>-D</b>, <b>--diagnostics</b>
              Display runtime diagnostic information and then exit.  This diagnostic information is often useful
              when filing a bug report.

       <b>-v</b>, <b>--verifyOnly</b>
              Only  verify  the S3 bucket contents against the directory on disk. Do not make any changes to the
              S3 bucket or transfer any files. This is intended as a quick check to see whether the sync is  up-
              to-date.   Although  no  files  are  transferred,  the tool will still execute the source filename
              encoding check.

       <b>-u</b>, <b>--uploadOnly</b>
              Implement a partial  or  "upload  only"  sync,  instead  of  a  full  synchronization.   Normally,
              synchronization  would  remove  files  that exist in S3 but do not exist in the directory on disk.
              With this flag, new files are uploaded, but no files are removed in S3.

       <b>-w</b>, <b>--ignoreWarnings</b>
              The AWS CLI S3 sync process  is  very  picky  about  filename  encoding.   Files  that  the  Linux
              filesystem  handles  with  no  problems can cause problems in S3 if the filename cannot be encoded
              properly in your configured locale. As of this writing, filenames like this will  cause  the  sync
              process  to  abort without transferring all files as expected.  To avoid confusion, the tool tries
              to guess which files in the source directory will cause problems, and refuses to execute  the  AWS
              CLI S3 sync if any problematic files exist. If you'd rather proceed anyway, use this flag.

</pre><h4><b>RETURN</b> <b>VALUES</b></h4><pre>
       This command returns 0 (zero) upon normal completion, and several other error codes related to particular
       errors.

       <b>1</b>      The Python interpreter version is not supported.

       <b>2</b>      Error processing command-line arguments.

       <b>3</b>      Error configuring logging.

       <b>5</b>      Backup was interrupted with a CTRL-C or similar.

       <b>6</b>      Other error during processing.

</pre><h4><b>NOTES</b></h4><pre>
       This  tool  is  a  wrapper  over the Amazon AWS CLI interface found in the <a href="../man1/aws.1.html">aws</a>(1) command.  Specifically,
       cback3-amazons3-sync invokes "aws s3 sync" followed by "aws s3api list-objects".

       Cedar Backup itself is designed to run as root.  However, cback3-amazons3-sync can be run safely  as  any
       user  that is configured to use the Amazon AWS CLI interface.  The <a href="../man1/aws.1.html">aws</a>(1) command will be executed by the
       same user which is executing cback3-amazons3-sync.

       You must configure the AWS CLI interface to have a valid connection to Amazon  S3  infrastructure  before
       using  cback3-amazons3-sync. For more information about how to accomplish this, see the Cedar Backup user
       guide.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <a href="../man1/cback3.1.html">cback3</a>(1)

</pre><h4><b>FILES</b></h4><pre>
       <u>/var/log/cback3.log</u> - Default log file

</pre><h4><b>URLS</b></h4><pre>
       The project homepage is: <u>https://github.com/pronovic/cedar-backup3</u>

</pre><h4><b>BUGS</b></h4><pre>
       If you find a bug, please report it.

       If possible, give me the output from --diagnostics, all of the error messages  that  the  script  printed
       into its log, and also any stack-traces (exceptions) that Python printed.  It would be even better if you
       could tell me how to reproduce the problem, for instance by sending me your configuration file.

       Report bugs to &lt;<a href="mailto:support@cedar-solutions.com">support@cedar-solutions.com</a>&gt; or via GitHub issues tracker.

</pre><h4><b>AUTHOR</b></h4><pre>
       Written and maintained by Kenneth J. Pronovici &lt;<a href="mailto:pronovic@ieee.org">pronovic@ieee.org</a>&gt; with contributions from others.

</pre><h4><b>COPYRIGHT</b></h4><pre>
       Copyright (c) 2004-2020 Kenneth J. Pronovici.

       This  is  free  software;  see  the  source  for  copying conditions.  There is NO warranty; not even for
       MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.

Cedar Backup 3                                      Nov 2020                             <u><a href="../man1/cback3-amazons3-sync.1.html">cback3-amazons3-sync</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>