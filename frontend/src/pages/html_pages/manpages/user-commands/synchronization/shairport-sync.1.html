<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>shairport-sync - AirPlay and AirPlay 2 Audio Player</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/shairport-sync">shairport-sync_4.3.7-1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       shairport-sync - AirPlay and AirPlay 2 Audio Player

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>shairport-sync</b>  <b>[-djvw]</b>  <b>[-a</b>  <u>service-name</u>  <b>|</b>  <b>--name=</b><u>service-name</u><b>]</b>  <b>[-B</b> <u>command</u> <b>|</b> <b>--onstart=</b><u>command</u><b>]</b> <b>[-c</b>
       <u>configurationfile</u> <b>|</b> <b>--configfile=</b><u>configurationfile</u><b>]</b> <b>[-d</b> <b>|</b> <b>--daemon]</b> <b>[-E</b> <u>command</u> <b>|</b> <b>--onstop=</b><u>command</u><b>]</b> <b>[-g</b> <b>|</b>
       <b>--get-cover-art]</b> <b>[-j</b> <b>|</b>  <b>--justDaemoniseNoPIDFile]</b>  <b>[--logOutputLevel]</b>  <b>[--log-to-syslog]</b>  <b>[-L</b>  <u>latency</u>  <b>|</b>
       <b>--latency=</b><u>latency</u><b>]</b> <b>[-m</b> <u>backend</u> <b>|</b> <b>--mdns=</b><u>backend</u><b>]</b> <b>[-M</b> <b>|</b> <b>--metadata-enable]</b> <b>[-o</b> <u>backend</u> <b>|</b> <b>--output=</b><u>backend</u><b>]</b>
       <b>[-p</b> <u>port</u> <b>|</b> <b>--port=</b><u>port</u><b>]</b> <b>[--password=</b><u>secret</u><b>]</b> <b>[-r</b> <u>threshold</u> <b>|</b> <b>--resync=</b><u>threshold</u><b>]</b> <b>[--statistics]</b> <b>[-S</b> <u>mode</u> <b>|</b>
       <b>--stuffing=</b><u>mode</u><b>]</b> <b>[-t</b> <u>timeout</u> <b>|</b> <b>--timeout=</b><u>timeout</u><b>]</b> <b>[--tolerance=</b><u>frames</u><b>]</b> <b>[-v</b> <b>|</b> <b>--verbose]</b> <b>[-w</b> <b>|</b> <b>--wait-cmd]</b>
       <b>[--</b> <u>audio_backend_options</u><b>]</b>

       <b>shairport-sync</b> <b>-X</b> <b>|</b> <b>--displayConfig</b>

       <b>shairport-sync</b> <b>-h</b>

       <b>shairport-sync</b> <b>-k</b>

       <b>shairport-sync</b> <b>-V</b>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       Shairport Sync plays AirPlay audio. It can be built to stream either from "classic" AirPlay (aka "AirPlay
       1") or from AirPlay 2 devices.

       AirPlay  2  support  is  limited,  and  AirPlay 2 from iTunes for Windows is not supported. For AirPlay 2
       operation, a companion program called <b>nqptp</b> must be installed.

       Please see <b>https://github.com/mikebrady/shairport-sync</b> for details.

       The name of the Shairport Sync executable is <b>shairport-sync</b>.

</pre><h4><b>CONFIGURATION</b> <b>FILE</b> <b>SETTINGS</b></h4><pre>
       You should use the configuration file for setting up Shairport Sync because -- apart from a few  special-
       purpose commands -- it has a much richer set of options than are available on the command line. This file
       is  usually  <u>shairport-sync.conf</u> and is generally located in the System Configuration Directory, which is
       normally the <u><a href="file:/etc">/etc</a></u> directory in Linux or the <u><a href="file:/usr/local/etc">/usr/local/etc</a></u> directory in BSD unixes. You may need to  have
       root privileges to modify it.

       (Note:  Shairport  Sync  may  have  been  compiled  to  use  a different configuration directory. You can
       determine which by performing the command <u>$</u> <u>shairport-sync</u> <u>-V</u>. The last item in the output string is  the
       value of the <b>sysconfdir</b>, i.e. the System Configuration Directory.)

       Within  the configuration file, settings are organised into groups, for example, there is a <b>general</b> group
       of standard settings, and there is an <b>alsa</b> group with settings that pertain to the <b>ALSA</b> back end. Here is
       an example of a typical configuration file:

       <b>general</b> <b>=</b> <b>{</b>

       <b>name</b> <b>=</b> <b>"Mike's</b> <b>Boombox";</b>

       <b>};</b>

       <b>alsa</b> <b>=</b> <b>{</b>

       <b>output_device</b> <b>=</b> <b>"hw:0";</b>

       <b>mixer_control_name</b> <b>=</b> <b>"PCM";</b>

       <b>};</b>

       Users generally only need to set (1) the service name and (2) the output device. If the <b>name</b>  setting  is
       omitted,  the  service  name  is derived from the system's hostname. By default, the <b>ALSA</b> backend will be
       chosen if included in the build. If the (alsa) output device has a mixer that  can  be  used  for  volume
       control,  then  (3)  the  mixer name should be specified. It is important to do this if the mixer exists.
       Otherwise, the maximum output from the output device will be whatever setting the mixer happens to  have,
       which will be a matter of chance and which could be very low or even silent.

       A  sample configuration file with all possible settings, but with all of them commented out, is installed
       at <u>shairport-sync.conf.sample</u>, within the System Configuration Directory -- <u><a href="file:/etc">/etc</a></u> in Linux, <u><a href="file:/usr/local/etc">/usr/local/etc</a></u>
       in BSD unixes.

       The sample configuration file includes extensive documentation of the settings. and is also available  at
       <b>https://github.com/mikebrady/shairport-sync/blob/master/scripts/shairport-sync.conf</b>.  Please  refer to it
       for the most up-to-date information on configuration file settings.

</pre><h4><b>OPTIONS</b></h4><pre>
       There are two kinds of command-line options for shairport-sync: regular <b>program</b> <b>options</b> and <b>audio</b> <b>backend</b>
       <b>options</b>. Program options are always listed first, followed by any audio backend options, preceded by a <b>--</b>
       symbol.

       See the EXAMPLES section for sample usages.

</pre><h4><b>PROGRAM</b> <b>OPTIONS</b></h4><pre>
       Program Options are used by shairport-sync itself.

       <b>-a</b> <u>service</u> <u>name</u> <b>|</b> <b>--name=</b><u>service</u> <u>name</u>
              Use this <u>service</u> <u>name</u> to identify this player in iTunes, etc.

              The following substitutions are allowed: <b>%h</b> for the computer's hostname,  <b>%H</b>  for  the  computer's
              hostname with the first letter capitalised (ASCII only), <b>%v</b> for the shairport-sync version number,
              e.g.  "3.0.1"  and  <b>%V</b> for the shairport-sync version string, e.g. "3.0.1-OpenSSL-Avahi-ALSA-soxr-
              metadata-sysconfdir:<a href="file:/etc">/etc</a>".

              The default is "%H", which is replaced by the hostname with the first letter capitalised.

       <b>-B</b> <u>program</u> <b>|</b> <b>--on-start=</b><u>program</u>
              Execute <u>program</u> when playback is about to begin. Specify  the  full  path  to  the  program,  e.g.
              <u><a href="file:///usr/lib/w3m/cgi-bin/w3mman2html.cgi?logger">/usr/bin/logger</a></u>.  Executable  scripts  can  be  used,  but  they must have the appropriate shebang
              (<u>#!<a href="file:/bin/sh">/bin/sh</a></u>) in the headline.

              If you want shairport-sync to wait until the command has completed before starting to play, select
              the <b>-w</b> option as well.

       <b>-c</b> <u>filename</u> <b>|</b> <b>--configfile=</b><u>filename</u>
              Read configuration settings from <u>filename</u>. The  default  is  to  read  them  from  the  <u>shairport-</u>
              <u>sync.conf</u>  in  the  System Configuration Directory -- <u><a href="file:/etc">/etc</a></u> in Linux, <u><a href="file:/usr/local/etc">/usr/local/etc</a></u> in BSD unixes.
              For information about configuration settings, see the "Configuration File Settings" section above.

       <b>-d</b> <b>|</b> <b>--daemon</b>
              Instruct shairport-sync to demonise itself. It will write its Process ID (PID) to a file,  usually
              at  <u>/var/run/shairport-sync/shairport-sync.pid</u>,  which  is  used  by  the <b>-k</b>, <b>-D</b> and <b>-R</b> options to
              locate the daemon at a later time. See also the <b>-j</b> option. Only available  if  shairport-sync  has
              been compiled with libdaemon support.

       <b>-E</b> <u>program</u> <b>|</b> <b>--on-stop=</b><u>program</u>
              Execute   <u>program</u>   when  playback  has  ended.  Specify  the  full  path  to  the  program,  e.g.
              <u><a href="file:///usr/lib/w3m/cgi-bin/w3mman2html.cgi?logger">/usr/bin/logger</a></u>. Executable scripts can be used,  but  they  must  have  the  appropriate  shebang
              (<u>#!<a href="file:/bin/sh">/bin/sh</a></u>) in the headline.

              If  you  want shairport-sync to wait until the command has completed before continuing, select the
              <b>-w</b> option as well.

       <b>-g</b> <b>|</b> <b>--get-coverart</b>
              This option requires the <b>-M</b> <b>|</b> <b>--metadata-enable</b> option to be set, and  enables  shairport-sync  to
              request cover art from the source and to process it as metadata.

       <b>-h</b> <b>|</b> <b>--help</b>
              Print brief help message and exit.

       <b>-j</b> <b>|</b> <b>justDaemoniseNoPIDFile</b>
              Instruct  shairport-sync  to demonise itself. Unlike the <b>-d</b> option, it will not write a Process ID
              (PID) to a file -- it will just (hence the "j") demonise itself. Only available if  shairport-sync
              has been compiled with libdaemon support.

       <b>-k</b> <b>|</b> <b>--kill</b>
              Kill  the  shairport-sync  daemon  and  exit.  (Requires that the daemon has written its PID to an
              agreed file -- see the <b>-d</b>  option.  Only  available  if  shairport-sync  has  been  compiled  with
              libdaemon support.)

       <b>--logOutputLevel</b>
              Use this to log the volume level when the volume is changed. It may be useful if you are trying to
              determine  a  suitable  value  for the maximum volume level. Not available as a configuration file
              setting.

       <b>--log-to-syslog</b>
              Warnings, error messages and messages are sent, by default, to <u>STDERR</u>. Use this  option  to  route
              these messages to the <b>syslog</b> instead. This is intended for use when Shairport Sync is operating as
              a daemon.

              See also <b>--displayConfig</b>.

       <b>-L</b> <b>|</b> <b>--latency=</b><u>latency</u>
              Use  this  to  set the <u>default</u> <u>latency</u>, in frames, for audio coming from an unidentified source or
              from an iTunes Version 9 or earlier source. The standard value for the <u>default</u> <u>latency</u>  is  88,200
              frames, where there are 44,100 frames to the second.

              Please  note that this feature is deprecated and will be removed in a future version of shairport-
              sync.

       <b>-M</b> <b>|</b> <b>--metadata-enable</b>
              Ask the client to send metadata. It will be sent, along with metadata generated by  shairport-sync
              itself,  to  a pipe and will also be sent as UDP packets. If you add the <b>-g</b> <b>|</b> <b>--get-cover-art</b> then
              cover art included,  where  available.  See  <b>https://github.com/mikebrady/shairport-sync-metadata-</b>
              <b>reader</b> for a sample metadata reader.

       <b>--metadata-pipename=</b><u>pathname</u>
              Specify  the  path name for the metadata pipe. Note that <b>shairport-sync</b> will need write permission
              on that directory and pipe.  The  default  is  <u>/tmp/shairport-sync-metadata</u>.  If  you  rename  the
              <b>shairport-sync</b> executable, the default pipe name will change accordingly.

       <b>-m</b> <u>mdnsbackend</u> <b>|</b> <b>--mdns=</b><u>mdnsbackend</u>
              Force the use of the specified mDNS backend to advertise the player on the network. The default is
              to try all mDNS backends in order until one works.

       <b>-o</b> <u>outputbackend</u> <b>|</b> <b>--output=</b><u>outputbackend</u>
              Force  the  use of the specified output backend to play the audio. The default is to try the first
              one.

       <b>-p</b> <u>port</u> <b>|</b> <b>--port=</b><u>port</u>
              Listen for play requests on <u>port</u>. The default is to use port 5000 for AirPlay and 7000 for AirPlay
              2.

       <b>--password=</b><u>secret</u>
              Require the password <u>secret</u> to be able to connect and stream to the service. (This only works  for
              AirPlay and not for AirPlay 2.)

       <b>-r</b> <u>threshold</u> <b>|</b> <b>--resync=</b><u>threshold</u>
              Resynchronise  if  timings differ by more than <u>threshold</u> frames. If the output timing differs from
              the source timing by more than the threshold, output will be muted and  a  full  resynchronisation
              will  occur.  The  default  threshold  is 2,205 frames, i.e. 50 milliseconds. Specify <b>0</b> to disable
              resynchronisation. This setting is  deprecated  and  will  be  removed  in  a  future  version  of
              shairport-sync.

       <b>--statistics</b>
              Print  some  performance  information  to  <u>STDERR</u>, or to <b>syslog</b> if the <b>-log-to-syslog</b> command line
              option is also chosen.

       <b>-S</b> <u>mode</u> <b>|</b> <b>--stuffing=</b><u>mode</u>
              Interpolate ("stuff") the audio stream using the <u>mode</u>. "Stuffing" refers to the process of  adding
              or  removing  frames  of audio to or from the stream sent to the output device in order to keep it
              synchronised with the player.  The  <b>basic</b>  mode  is  normally  almost  completely  inaudible.  The
              alternative  mode,  <b>soxr</b>, is even less obtrusive but requires much more processing power. For this
              mode, support for <b>libsoxr</b>, the SoX Resampler Library, must  be  selected  when  <b>shairport-sync</b>  is
              built.  The  default  setting,  <b>auto</b>,  allows  Shairport Sync to choose <b>soxr</b> mode if the system is
              powerful enough.

       <b>-t</b> <u>timeout</u> <b>|</b> <b>--timeout=</b><u>timeout</u>
              Exit play mode if the stream disappears for more than <u>timeout</u> seconds.

              When shairport-sync plays an audio stream, it starts a play session and will return a busy  signal
              to  any  other  sources  that  attempt  to  use it. If the audio stream disappears for longer than
              <u>timeout</u> seconds, the play session will be  terminated.  If  you  specify  a  timeout  time  of  <b>0</b>,
              shairport-sync  will never signal that it is busy and will not prevent other sources from "barging
              in" on an existing play session. The default value is 120 seconds.

       <b>--tolerance=</b><u>frames</u>
              Allow playback to be up to <u>frames</u> out of exact synchronization before attempting  to  correct  it.
              The  default  is  88  frames,  i.e.  2  ms.  The smaller the tolerance, the more likely it is that
              overcorrection will occur. Overcorrection is when more corrections (insertions and deletions)  are
              made  than  are  strictly  necessary  to  keep  the stream in sync. Use the <b>--statistics</b> option to
              monitor correction levels. Corrections should not greatly exceed net corrections. This setting  is
              deprecated and will be removed in a future version of shairport-sync.

       <b>-V</b> <b>|</b> <b>--version</b>
              Print version information and exit.

       <b>-v</b> <b>|</b> <b>--verbose</b>
              Print  debug  information to the <u>STDERR</u>, or to <b>syslog</b> if the <b>-log-to-syslog</b> command line option is
              also chosen. Repeat up to three times (i.e. <b>-vv</b> or <b>-vvv</b>) for more detail. You should use <b>-vvv</b> very
              sparingly -- it is really noisy.

       <b>-w</b> <b>|</b> <b>--wait-cmd</b>
              Wait for commands specified using <b>-B</b> or <b>-E</b> to complete before continuing execution.

       <b>-X</b> <b>|</b> <b>--displayConfig</b>
              This logs information relating to the configuration of Shairport Sync. It can be very  useful  for
              debugging.  The  information logged is some host OS information, the Shairport Sync version string
              (which indicates the build options used when  <b>shairport-sync</b>  was  built),  the  contents  of  the
              command  line  that  invoked  Shairport  Sync,  the  name of the configuration file and the active
              settings therein.

              If this is the only option on the command line, <b>shairport-sync</b> will terminate after displaying the
              information.

</pre><h4><b>AUDIO</b> <b>BACKEND</b> <b>OPTIONS</b></h4><pre>
       Audio Backend Options are command-line options that are passed to the  chosen  audio  backend.  They  are
       always  preceded  by  the  <b>--</b>  symbol  to  introduce them and to separate them from any preceding program
       options. In this way, option letters can be used as program options and reused as audio  backend  options
       without ambiguity.

       Audio backends are listed with their corresponding Audio Backend Options in the help text provided by the
       help (<b>-h</b> or <b>--help</b>) option.

</pre><h4><b>EXAMPLES</b></h4><pre>
       Here is a slightly contrived example:

       shairport-sync <b>-a</b> <b>"Joe's</b> <b>Stereo"</b> <b>-o</b> <b>alsa</b> <b>--</b> <b>-d</b> <b>hw:1,0</b> <b>-m</b> <b>hw:1</b> <b>-c</b> <b>PCM</b>

       The program will be visible as "Joe's Stereo" ( <b>-a</b> <b>"Joe's</b> <b>Stereo"</b> ). The program option <b>-o</b> <b>alsa</b> specifies
       that  the <b>alsa</b> backend be used, thus that audio should be output into the <b>ALSA</b> audio subsystem. The audio
       backend options following the <b>--</b> separator are passed to the <b>alsa</b> backend and specify that the audio will
       be output on subdevice 0 of soundcard 1 ( <b>-d</b> <b>hw:1,0</b> ) and will take advantage of the  same  sound  card's
       mixer ( <b>-m</b> <b>hw:1</b> ) using the level control named "PCM" ( <b>-c</b> <b>"PCM"</b> ).

       The  example above is slightly contrived: Firstly, if the <b>alsa</b> backend has been included in the build, it
       will be the default, so it doesn't need to be  specified  and  the  <b>-o</b>  <b>alsa</b>  option  could  be  omitted.
       Secondly,  subdevice  0  is  the default for a soundcard, so the output device could simply be written <b>-d</b>
       <b>hw:1</b>. Thirdly, when a mixer name is given ( <b>-c</b> <b>"PCM"</b> ), the default is that the mixer is  on  the  output
       device,  so the <b>-m</b> <b>hw:1</b> is unnecessary here. Using these defaults and simplifications gives the following
       command:

       shairport-sync <b>-a</b> <b>"Joe's</b> <b>Stereo"</b> <b>--</b> <b>-d</b> <b>hw:1</b> <b>-c</b> <b>PCM</b>

</pre><h4><b>CREDITS</b></h4><pre>
       Mike  Brady  (<b>https://github.com/mikebrady</b>)  developed  Shairport  Sync  from  Shairport  by  James   Wah
       (<b>https://github.com/abrasive</b>).

</pre><h4><b>COMMENTS</b></h4><pre>
       This man page was written using <b><a href="../man1/xml2man.1.html">xml2man</a>(1)</b> by Oliver Kurth.

Manuals                                               User                                     <u><a href="../man1/shairport-sync.1.html">shairport-sync</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>