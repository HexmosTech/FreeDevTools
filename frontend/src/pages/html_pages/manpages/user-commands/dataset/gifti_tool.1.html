<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>gifti_tool - gifti_tool  - create, display, modify or compare GIFTI datasets</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/gifti-bin">gifti-bin_1.0.9-6build2_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       gifti_tool - gifti_tool  - create, display, modify or compare GIFTI datasets

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>------------------------------------------------------------</b>  gifti_tool   -  create,  display, modify or
       compare GIFTI datasets

              general examples:

       1. read in a GIFTI dataset (set verbose level?
              show GIFTI dataset?)

              gifti_tool <b>-infile</b> dset.gii gifti_tool  <b>-infile</b>  dset.gii  <b>-verb</b>  3  gifti_tool  <b>-infile</b>  dset.gii
              <b>-show_gifti</b>

              2. copy a GIFTI dataset

              a. create a simple copy, and check for differences

              gifti_tool <b>-infile</b> dset.gii <b>-write_gifti</b> copy.gii diff dset.gii copy.gii

              b. copy only 3 DataArray indices: 4, 0, 5

       gifti_tool <b>-infile</b> time_series.gii <b>-write_gifti</b> ts3.gii
              \

              <b>-read_DAs</b> 4 0 5

              OR

       gifti_tool <b>-infile</b> time_series.gii'[4,0,5]'
              \

              <b>-write_gifti</b> ts3.gii

              3. write datasets in other formats

              a. FreeSurfer-style .asc surface dataset

              gifti_tool <b>-infile</b> pial.gii <b>-write_asc</b> pial.asc

              b. .1D time series surface dataset

              gifti_tool <b>-infile</b> time_series.gii <b>-write_1D</b> ts.1D

              4. create a new gifti dataset from nothing, where

              a. - the dataset has 3 DataArray elements

              -  the  data will be of type 'short' (NIFTI_TYPE_INT16) - the intent codes will reflect a t-test -
              the data will be 2-dimensional (per DataArray), 5 by 2 shorts - memory will be allocated  for  the
              data (a modification option) - the result will be written to created.gii

       gifti_tool <b>-new_dset</b>
              \

       <b>-new_numDA</b> 3 <b>-new_dtype</b> NIFTI_TYPE_INT16 \
              <b>-new_intent</b>   NIFTI_INTENT_TTEST            \  <b>-new_ndim</b>  2  <b>-new_dims</b>  5  2  0  0  0  0         \
              <b>-mod_add_data</b> <b>-write_gifti</b> created.gii

              b. - the dataset has 12 DataArray elements (40 floats each)

              - the data is partitioned over 2 files (so 6*40 floats in each)

       ** Note: since dataset creation does not add data (without
              <b>-mod_add_data</b>), this operation will not create or try to overwrite the external datafiles.

       gifti_tool <b>-new_dset</b> <b>-new_numDA</b> 12
              \

       <b>-new_ndim</b> 1 <b>-new_dims</b> 40 0 0 0 0 0
              \

       <b>-set_extern_filelist</b> ext1.bin ext2.bin
              \

              <b>-write_gifti</b> points_to_extern.gii

              5. modify a gifti dataset

              a. apply various modifications at the GIFTI level and to all DAs

              - set the Version attribute at the GIFTI level - set 'Date'  as  GIFTI  MetaData,  with  value  of
              today's date - set 'Description' as GIFTI MetaData, with some value - set all DA Intent attributes
              to  be  an F-test - set 'Name' as an attribute of all DAs, with some value - read created.gii, and
              write to first_mod.gii

       gifti_tool <b>-mod_gim_atr</b> Version 1.0
              \

       <b>-mod_gim_meta</b> Date "`date`"
              \

       <b>-mod_gim_meta</b> Description 'modified surface'
              \

       <b>-mod_DA_atr</b> Intent NIFTI_INTENT_FTEST
              \

       <b>-mod_DA_meta</b> Name 'same name for all DAs'
              \

              <b>-infile</b> created.gii <b>-write_gifti</b> first_mod.gii

              b. modify the 'Name' attribute is DA index #42 only

       gifti_tool <b>-mod_DA_meta</b> Name 'data from pickle #42'
              \

       <b>-mod_DAs</b> 42
              \

              <b>-infile</b> stats.gii <b>-write_gifti</b> mod_stats.gii

              c. set the data to point to a single external data file, without

              overwriting the external file on write (so use <b>-no_data</b>), and where the DataArrays will  point  to
              sequential partitions of the file

       gifti_tool <b>-infiles</b> created.gii <b>-no_data</b>
              \

       <b>-set_extern_filelist</b> ex_data.bin
              \

              <b>-write_gifti</b> extern.gii

              d. convert a POINTSET/TRIANGLE Base64 format dataset to one where

              to one where the data is external (raw binary):

       gifti_tool <b>-infiles</b> inflated.gii
              \

       <b>-set_extern_filelist</b> points.data tri.data \
              <b>-write_gifti</b> inflated.external.gii

              e. convert a 5 run time series dataset from internal Base64 format

              to one where the data is external (raw binary):

              as one external file:

       gifti_tool <b>-infiles</b> epi.5runs.gii
              \

       <b>-set_extern_filelist</b> data.5runs.bin
              \

              <b>-write_gifti</b> epi.ext.5runs.gii

              as 5 external files (1 per run):

       gifti_tool <b>-infiles</b> epi.5runs.gii
              \

              <b>-set_extern_filelist</b> data.5runs.r{1,2,3,4,5}.bin \ <b>-write_gifti</b> epi.ext.5runs.gii

              f. convert the previous external dataset back to internal form

              (i.e. it should be the same as epi.5runs.gii)

       gifti_tool <b>-infiles</b> epi.ext.5runs.gii
              \

       <b>-encoding</b> BASE64
              \

              <b>-write_gifti</b> epi.int.5runs.gii

              6. compare 2 gifti datasets

              a. compare GIFTI structures, compare data, and report all diffs

       gifti_tool <b>-compare_gifti</b> <b>-compare_data</b> <b>-compare_verb</b> 3 \
              <b>-infiles</b> created.gii first_mod.gii

              b. report approximate comparison: focusing on data, but allowing

              for small, fractional differences varying per datatype

       gifti_tool <b>-approx_gifti</b> <b>-compare_verb</b> 3 \
              <b>-infiles</b> created.gii first_mod.gii

              7. copy MetaData from one dataset to another

              (any old Value will be replaced if the Name already exists)

              - copy every (ALL) MetaData element at the GIFTI level - copy MetaData named 'Label' per DataArray
              element  -  only  apply  DataArray  copies to indices 0, 3 and 6 - first input file is the source,
              second is the destination - write the modified 'destination.gii' dataset to meta_copy.gii

       gifti_tool <b>-copy_gifti_meta</b> ALL
              \

       <b>-copy_DA_meta</b> Label
              \

       <b>-DA_index_list</b> 0 3 6
              \

       <b>-infiles</b> source.gii destination.gii
              \

              <b>-write_gifti</b> meta_copy.gii

       <b>----------------------------------------------------------------------</b>

              (all warranties are void in Montana, and after 4 pm on Tuesdays)

       <b>----------------------------------------------------------------------</b>

              informational options:

       <b>-help</b>  : display this help

       <b>-hist</b>  : display the modification history of gifti_tool

       <b>-ver</b>   : display the gifti_tool version

       <b>-gifti_hist</b>
              : display thd modification history of gifticlib

       <b>-gifti_ver</b>
              : display gifticlib version

       <b>-gifti_dtd_url</b>
              : display the gifti DTD URL

       <b>-gifti_zlib</b>
              : display whether the zlib is linked in library

       <b>----------------------------------------</b>

              general/input options

       <b>-b64_check</b>
              TYPE : set method for checking base64 errors

              e.g. <b>-b64_check</b> COUNT

              This option sets the preference for how to deal  with  errors  in  Base64  encoded  data  (whether
              compressed  or not).  The default is SKIPnCOUNT, which skips any illegal characters, and reports a
              count of the number found.

       TYPE = NONE
              : no checks - assume all is well

       TYPE = DETECT
              : report whether errors were found

       TYPE = COUNT
              : count the number of bad chars

       TYPE = SKIP
              : ignore any bad characters

              TYPE = SKIPnCOUNT : ignore but count bad characters

              This default adds perhaps 10% to the reading time.

       <b>-buf_size</b>
              SIZE : set the buffer size (given to expat library)

              e.g. <b>-buf_size</b> 1024

       <b>-DA_index_list</b> I0 I1 ... : specify a list of DataArray indices

              e.g. <b>-DA_index_list</b> 0 e.g. <b>-DA_index_list</b> 0 17 19

              This option is used to specify a list of DataArray indices for use via some other option (such  as
              <b>-copy_DA_meta</b>).

              Each  DataArray element corresponding to one of the given indices will have the appropriate action
              applied, such as copying a given MetaData element from  the  source  dataset  to  the  destination
              dataset.

              Note  that  this differs from <b>-read_DAs</b>, which specifies which DataArray elements to even read in.
              Both options could be used in the same command, such as if one wanted to copy the 'Name'  MetaData
              from  index 17 of a source dataset into the MetaData of the first DataArray in a dataset with only
              two DataArray elements.

       e.g. gifti_tool <b>-infiles</b> source.gii dest.gii
              \

       <b>-write_gifti</b> new_dest.gii
              \

       <b>-copy_DA_meta</b> Name
              \

       <b>-read_DAs</b> 17 17
              \

              <b>-DA_index_list</b> 0

              Note that DA_index_list applies to the indices _after_ the datasets are read in.

       <b>-gifti_test</b>
              : test whether each gifti dataset is valid

              This performs a consistency check on each input GIFTI  dataset.   Lists  and  dimensions  must  be
              consistent.

       <b>-infile</b>
              INPUT : specify one or more GIFTI datasets as input

              e.g.  <b>-input</b>  pial.gii e.g. <b>-input</b> run1.gii run2.gii e.g. <b>-input</b> MAKE_IM                 (create a
              new  image)   e.g.   <b>-input</b>   run1.gii'[3,4,5]'         (read   DAs   3,4,5      )   e.g.   <b>-input</b>
              run1.gii'[<a href="../man2/0..16.2.html">0..16</a>(2)]'     (read  evens  from 0 to 16) e.g. <b>-input</b> run1.gii'[4..$]'        (read all
              but 0..3)

       There are 2 special ways to specify input.
              One is via the

       name 'MAKE_IM'.
              That 'input' filename tell gifti_tool to

              create a new dataset, applying any '-new_*' options to it.

              (refer to options: <b>-new_</b>*)

              The other special way is to specify which DataArray elements should be read in,  using  AFNI-style
              syntax within '[]'.  The quotes prevent the shell from interpreting the brackets.

              DataArray indices are zero-based.

              The list of DAs can be comma-delimited, and can use '..' or '-' to specify a range, and a value in
              parentheses to be used as a step.  The '$' character means the last index (numDA-1).

       <b>-no_data</b>
              : do not read in data

              This  option  means  not  to  read  in the Data element in any DataArray, akin to reading only the
              header.

       <b>-no_updates</b>
              : do not allow the library to modify metadata

              By default, the library may  update  some  metadata  fields,  such  as  'gifticlib-version'.   The
              <b>-no_updates</b> option will prevent that operation.

       <b>-read_DAs</b> s0 ...
              : read DataArray list indices s0,... from input

              e.g.  <b>-read_DAs</b> 0 4 3 3 8 e.g. <b>-input</b> run1.gii <b>-read_DAs</b> 0 2 4 6 8 e.g. <b>-input</b> run1.gii'[<a href="../man2/0..8.2.html">0..8</a>(2)]'
              (same effect)

       Specify a list of DataArray indices to read.
              This is a

              simplified form of using brackets '[]' with <b>-input</b> names.

       <b>-show_gifti</b>
              : show final gifti image

              Display all of the dataset information on the screen (sans data).  This includes meta data and all
              DataArray elements.

       <b>-verb</b>  VERB : set verbose level   (default: 1)

              e.g. <b>-verb</b> 2

       Print extra information to the screen.
              The VERB level can

              be from 0 to 8, currently.

              Level 0 is considered 'quiet' mode, and should  only  report  serious  errors.   Level  1  is  the
              default.

       <b>----------------------------------------</b>

              output options

       <b>-encoding</b>
              TYPE : set the data encoding for any output file

              e.g. <b>-encoding</b> BASE64GZIP

       TYPE = ASCII
              : ASCII encoding

       TYPE = BASE64
              : base64 binary

              TYPE = BASE64GZIP : base64 compressed binary

              This operation can also be performed via <b>-mod_DA_atr</b>: e.g. <b>-mod_DA_atr</b> Encoding BASE64GZIP

       <b>-set_extern_filelist</b> F1 F2 ... : store data in external files

              e.g. <b>-set_extern_filelist</b> run.1.data run.2.data run.3.data e.g. <b>-set_extern_filelist</b> runs.all.data
              e.g. <b>-set_extern_filelist</b> points.data triangles.data

              Data  is normally stored within the XML file as numerical text or Base64 encoded raw or compressed
              data.

              With use of this option, users can set to have data  stored  in  external  binary  files  (neither
              encoded nor compressed) upon a write operation.

              External file storage is subject to a couple of restrictions:

              - GIFTI requires that they are in the same directory

              - the library allows multiple DataArrays per file, but each

              DataArray  within  the  same  file must have the same size (this is a gifticlib limit, not a GIFTI
              limit)

              OK : equal data in 1 file OK : equal data in k files, numDA is multiple of k BAD: equal data in  k
              files, numDA is NOT multiple of k OK : points/triangles in 2 files BAD: points/triangles in 1 file
              (sizes differ)

              The  most  basic use of this option is to convert data from internal to external.  See examples 5d
              and 5e.

              Note that one can also create a GIFTI dataset out of nothing and  use  this  option  to  point  to
              existing external data files.  This would help conversion from other dataset formats.  See example
              5c.

              Note  that  one  can  convert  from  an  external  data  format  to internal just by modifying the
              <b>-encoding</b>.  See example 5f.

       <b>-write_1D</b>
              DSET : write out data to AFNI style 1D file

              e.g. <b>-write_1D</b> stats.1D

       Currently, all DAs need to be of the same datatype.
              This

              restriction could be lifted if there is interest.

       <b>-write_asc</b>
              DSET : write out geometry to FreeSurfer style ASC file

              e.g. <b>-write_asc</b> pial.asc

              To write a surface file in FreeSurfer asc format, it must contain  DataArray  elements  of  intent
              NIFTI_INTENT_POINTSET and NIFTI_INTENT_TRIANGLE.  The POINTSET data is written as node coordinates
              and the TRIANGLE data as triangles (node index triplets).

       <b>-write_gifti</b> DSET : write out dataset as gifti image

              e.g. <b>-write_gifti</b> new.pial.gii

       <b>-zlevel</b>
              LEVEL : set compression level (<b>-1</b> or 0..9)

       This option sets the compression level used by zlib.
              Some

              LEVEL values are noteworthy:

       <b>-1</b>     : specify to use the default of zlib (currently 6)

       0      : no compression (but still needs a few extra bytes)

       1      : fastest but weakest compression

       6      : default (good speed/compression trade-off)

       9      : slowest but strongest compression

       <b>----------------------------------------</b>

              modification options

              These  modification  options will affect every DataArray element specified by the <b>-mod_DAs</b> option.
              If the option is not used, then ALL DataArray elements will be affected.

       <b>-mod_add_data</b>
              : add data to empty DataArray elements

       Allocate data in every DataArray element.
              Datasets can be

       created without any stored data.
              This will allocate data

              and fill it with zeros of the given type.

       <b>-mod_DA_atr</b>
              NAME VALUE : set the NAME=VALUE attribute pair

              e.g. <b>-mod_DA_atr</b> Intent NIFTI_INTENT_ZSCORE

              This option will set the DataArray attribute corresponding to NAME to the value, VALUE.  Attribute
              name=value pairs are specified in the gifti DTD (see <b>-gifti_dtd_url</b>).

              One NAME=VALUE pair can be specified per <b>-mod_DA_atr</b> option.  Multiple <b>-mod_DA_atr</b> options can  be
              used.

       <b>-mod_DA_meta</b> NAME VALUE : set the NAME=VALUE pair in DA's MetaData

              e.g. <b>-mod_DA_meta</b> Description 'the best dataset, ever'

              Add a MetaData entry to each DataArray element for this NAME and VALUE.  If 'NAME' already exists,
              the old value is replaced by VALUE.

       <b>-mod_DAs</b> i0 i1 ...
              : specify the set of DataArrays to modify

              e.g. <b>-mod_DAs</b> 0 4 5

       Specify the list of DataArray elements to modify.
              All the

       <b>-mod_</b>* options apply to this list of DataArray indices.
              If

              no <b>-mod_DAs</b> option is used, the operations apply to ALL DataArray elements.

              Note that the indices are zero-based, 0 .. numDA-1.

       <b>-mod_gim_atr</b>
              NAME VALUE : set the GIFTI NAME=VALUE attribute pair

              e.g. <b>-mod_gim_atr</b> Version 3.141592

              Set the GIFTI element attribute corresponding to NAME to the value, VALUE.

              Given  that  numDA  is computed and version will rarely change, this option will probably not feel
              much love.

       <b>-mod_gim_meta</b> NAME VALUE : add this pair to the GIFTI MetaData

              e.g. <b>-mod_gim_meta</b> date "`date`"

              Add a MetaData entry to each DataArray element for this NAME and  VALUE  pair.   If  NAME  exists,
              VALUE will replace the old value.

       <b>-mod_to_float</b>
              : change all DataArray data to float

              Convert all DataArray elements of all datasets to datatype NIFTI_TYPE_FLOAT32 (4-byte floats).  If
              the  data does not actually exist, only the attribute will be set.  Otherwise all of the data will
              be converted.  There are some types for which this operation may not be appropriate.

       <b>----------------------------------------</b>

              creation (new dataset) options

       <b>-new_dset</b>
              : create a new GIFTI dataset

       <b>-new_numDA</b>
              NUMDA : new dataset will have NUMDA DataArray elements e.g. <b>-new_numDA</b> 3

       <b>-new_intent</b> INTENT: DA elements will have intent INTENT
              e.g. <b>-new_intent</b> NIFTI_INTENT_FTEST

       <b>-new_dtype</b>
              TYPE : set datatype to TYPE e.g. <b>-new_dtype</b> NIFTI_TYPE_FLOAT32

       <b>-new_ndim</b> NUMDIMS : set Dimensionality to NUMDIMS (see <b>-new_dims</b>)

       <b>-new_dims</b> D0...D5 : set dims[] to these 6 values
              e.g. <b>-new_ndim</b> 2 <b>-new_dims</b> 7 2 0 0 0 0

       <b>-new_data</b>
              : allocate space for data in created dataset

       <b>----------------------------------------</b>

              comparison options

       <b>-approx_gifti</b>
              : approximate comparison of GIFTI dsets

              This compares all data elements of the two GIFTI structures.  The attributes, MetaData,  etc.  are
              ignored if they do not pertain directly to the data.

              The comparisons allow for small, fractional differences, which depend on the datatype.

       <b>-compare_gifti</b>
              : specifies to compare two GIFTI datasets

              This compares all elements of the two GIFTI structures.  The attributes, LabelTabels, MetaData are
              compared,  and then each of the included DataArray elements.  All sub-structures of the DataArrays
              are compared, except for the actual 'data', which requires the '-compare_data' flag.

              There must be exactly 2 input datasets to use this option.  See example #7 for sample usage.

       <b>-compare_data</b>
              : flag to request comparison of the data

              Data comparison is done per DataArray element.

              Comparing data is a separate operation from comparing GIFTI.  Neither implies the other.

       <b>-compare_verb</b> LEVEL
              : set the verbose level of comparisons

       Data comparison is done per DataArray element.
              Setting the

              verb level will have the following effect:

              0 : quiet, only return whether there was a difference 1 : show whether there was a difference 2  :
              show whether there was a difference per DataArray 3 : show all differences

       <b>----------------------------------------</b>

              MetaData copy options

       <b>-copy_gifti_meta</b> MD_NAME
              : copy MetaData with name MD_NAME

              e.g. <b>-copy_gifti_meta</b> AFNI_History

              Copy  the  MetaData  with  the given name from the first input dataset to the second (last).  This
              applies to MetaData at the GIFTI level (not in the DataArray elements).

       <b>-copy_DA_meta</b> MD_NAME
              : copy MetaData with name MD_NAME

              e.g. <b>-copy_DA_meta</b> intent_p1

              Copy the MetaData with the given name from the first input dataset to  the  second  (last).   This
              applies to MetaData at DataArray level.

              This  will  apply to all DataArray elements, unless the <b>-DA_index_list</b> option is used to specify a
              zero-based index list.

              see also <b>-DA_index_list</b>

       <b>------------------------------------------------------------</b> see the GIfTI community web site at:

              <a href="http://www.nitrc.org/projects/gifti">http://www.nitrc.org/projects/gifti</a>

       R Reynolds, National Institutes of Health <b>------------------------------------------------------------</b>

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       The full documentation for <b>gifti_tool</b> is maintained as a Texinfo manual.   If  the  <b>info</b>  and  <b>gifti_tool</b>
       programs are properly installed at your site, the command

              <b>info</b> <b>gifti_tool</b>

       should give you access to the complete manual.

gifti_tool version 1.3, 24 December 2009            June 2022                                      <u><a href="../man1/GIFTI_TOOL.1.html">GIFTI_TOOL</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>