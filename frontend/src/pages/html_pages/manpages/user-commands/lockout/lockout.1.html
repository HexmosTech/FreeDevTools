<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>lockout - avoid slacking and impose productivity and discipline on yourself</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/lockout">lockout_0.2.3-7_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       lockout - avoid slacking and impose productivity and discipline on yourself

</pre><h4><b>WARNING</b></h4><pre>
       This  program  is  VERY DANGEROUS.  If it fails, you may end up not knowing the root password to your own
       computer (in which case you need to boot into single-user mode).  There are  no  known  reports  of  this
       actually  happening,  but  we don't know how stupid you are.  Also, you should probably not run this on a
       multi-user system.

</pre><h4><b>SYNOPSIS</b></h4><pre>
        lockout lock HhMm ⎪ Hh ⎪ Mm
        lockout lock HH:MM
        lockout lock HH:MMam ⎪ HH:MMpm
        lockout lock HHam ⎪ HHpm
        lockout lock

        lockout unlock [force]

        lockout status

</pre><h4><b>DESCRIPTION</b></h4><pre>
       Lockout is a tool that imposes discipline on you so that you get some work done.   For  example,  lockout
       can  be  used  to  install  a  firewall  that  does not let you browse the Web.  Lockout changes the root
       password for a specified duration; this prevents you from secretly ripping down  the  firewall  and  then
       browsing  the  Web  anyway.  In case of an emergency, you can reboot your computer to undo the effects of
       lockout and to restore the original root password.

       Obviously, <b>lockout</b> <b>lock</b> and <b>lockout</b> <b>unlock</b> can only be run by root.  <b>lockout</b> <b>status</b> can  be  run  by  any
       user.

       <b>lockout</b> without any parameters shows a brief help message.

       <b>lockout</b> <b>lock</b> takes one optional parameter.  If no parameter is given, you are dropped in interactive mode
       and  asked  for  the  duration  of the lock or the time at which the lock should be lifted.  You can also
       supply this as a parameter on the command line.  Lockout  understands  various  time  formats.   You  can
       specify  a  delay,  e.g., <u>3h</u> (3 hours), <u>1h30m</u> (1 hour and 30 minutes), or <u>90m</u> (1 hour and 30 minutes), or
       you can specify absolute time, e.g., <u>2pm</u>, <u>2:30am</u>, <u>15:30</u>, etc.  You will be asked to confirm the  time  at
       which  lockout  will  unlock  your  system.  If you type "yes", lockout executes <u>/etc/lockout/lock.sh</u> and
       changes the root password to something completely random.  <u>/etc/lockout/lock.sh</u> is a  shell  script  that
       you  write.   It takes measures to make sure you stop slacking.  For example, it could install a firewall
       that prevents outgoing connections to port 80.  See the "EXAMPLES" section below.

       <b>lockout</b> <b>unlock</b> takes an optional <u>force</u> parameter.   Without  any  parameters,  <b>lockout</b>  <b>lock</b>  will  check
       whether  it  is  time  to unlock the system and, if so, executes <u>/etc/lockout/unlock.sh</u>, which is a shell
       script that you write.  It should undo the effects of <u>/etc/lockout/lock.sh</u>, executed when the system  was
       locked.   If  you  pass  the <u>force</u> parameter to <b>lockout</b> <b>unlock</b>, lockout will forcibly unlock your system,
       whether it was really time for that or not.  <b>lockout</b> <b>unlock</b> should be called every minute by  cron.   See
       "CONFIGURATION".

       <b>lockout</b> <b>status</b> will print out the time at which the system is going to be unlocked.

</pre><h4><b>CONFIGURATION</b></h4><pre>
       /etc/cron.d/lockout <b>must</b> contain the following two entries:

           */1 * * * *         root    /usr/bin/lockout unlock &gt;/dev/null 2&gt;&amp;1
           @reboot             root    /usr/bin/lockout unlock force &gt;/dev/null 2&gt;&amp;1

       The  examples  that  follow assume you are using <u><a href="../man8/sudo.8.html">sudo</a></u>(8) and you have a file, <u>/etc/lockout/sudoers.normal</u>
       which is the normal <u><a href="file:/etc/sudoers">/etc/sudoers</a></u> file, and <u>/etc/lockout/sudoers.lock</u>, which is the <u><a href="file:/etc/sudoers">/etc/sudoers</a></u> file when
       lockout   locks   your   computer.    This   example   also   assumes   you   are   using    <u><a href="../man8/iptables.8.html">iptables</a></u>(8).
       <u>/var/lib/iptables/active</u>  should  contain  your default firewall rules, and <u>/var/lib/iptables/work</u> should
       contain the firewall rules that enforce discipline.  See below for an example.

       <u>/etc/lock/lock.sh</u> imposes discipline.  For example:

           #!<a href="file:/bin/sh">/bin/sh</a>
           /etc/init.d/iptables load work
           cp /etc/lockout/sudoers.lock <a href="file:/etc/sudoers">/etc/sudoers</a>

       <u>/etc/lock/unlock.sh</u> undoes these effects.  For example:

           #!<a href="file:/bin/sh">/bin/sh</a>
           /etc/init.d/iptables restart
           cp /etc/lockout/sudoers.normal <a href="file:/etc/sudoers">/etc/sudoers</a>

       Your <u>/var/lib/iptables/work</u> may look something like this:

           *filter
           :INPUT ACCEPT [1047:99548]
           :FORWARD ACCEPT [0:0]
           :OUTPUT ACCEPT [1104:120792]

           # allow incoming packets from localhost, ntp,
           # and existing connections
           -A INPUT -i lo -j ACCEPT
           -A INPUT -p udp -m udp --source-port ntp -m state --state ESTABLISHED -j ACCEPT
           -A INPUT -m state --state ESTABLISHED -j ACCEPT
           -A INPUT -p tcp -j DROP
           -A INPUT -p udp -j DROP

           # allow outgoing connections for email and DNS
           -A OUTPUT -d 127.0.0.1/8 -j ACCEPT
           -A OUTPUT -p tcp -m tcp --dport smtp -j ACCEPT
           -A OUTPUT -p tcp -m tcp --dport domain -j ACCEPT
           -A OUTPUT -p udp -m udp --dport domain -j ACCEPT
           -A OUTPUT -j DROP
           COMMIT

</pre><h4><b>EXAMPLES</b></h4><pre>
           lockout lock 2h30m   [locks out for 2h and 30m]
           lockout lock 90m     [locks out for 1h and 30m]
           lockout lock 3pm     [locks out until 3pm]
           lockout lock 3:20am  [locks out until 3:20am]
           lockout lock 15:20   [locks out until 3:20pm]

           lockout status       [shows when the system is going to be unlocked]

</pre><h4><b>FILES</b></h4><pre>
       <u>/etc/lockout/lock.sh</u>: executed when running <b>lockout</b> <b>lock</b>

       <u>/etc/lockout/unlock.sh</u>: executed when running <b>lockout</b> <b>unlock</b>

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <u><a href="../man8/usermod.8.html">usermod</a></u>(8), <u><a href="../man8/iptables.8.html">iptables</a></u>(8), <u><a href="../man1/passwd.1.html">passwd</a></u>(1), <u><a href="../man8/cron.8.html">cron</a></u>(8), <u><a href="../man1/crontab.1.html">crontab</a></u>(1)

</pre><h4><b>BUGS</b></h4><pre>
       Arguably, a program that changes the root password to something random  with  the  possibility  of  never
       recovering the original password might be considered a bug by itself.  Other than that, no known bugs.

</pre><h4><b>AUTHOR</b></h4><pre>
       Thomer M. Gil, <a href="http://thomer.com/lockout/">http://thomer.com/lockout/</a>

lockout                                            2004-09-08                                         <u><a href="../man1/LOCKOUT.1.html">LOCKOUT</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>