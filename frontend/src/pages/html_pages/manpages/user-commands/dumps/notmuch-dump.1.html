<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>notmuch-dump - creates a plain-text dump of the tags of each message</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/notmuch">notmuch_0.38.3-5ubuntu1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       notmuch-dump - creates a plain-text dump of the tags of each message

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>notmuch</b> <b>dump</b> [--gzip] [--format=(batch-tag|sup)] [--output=&lt;<u>file</u>&gt;] [--] [&lt;<u>search-term</u>&gt; ...]

</pre><h4><b>DESCRIPTION</b></h4><pre>
       Dump tags for messages matching the given search terms.

       Output is to the given filename, if any, or to stdout.

       These  tags  are  the  only  data  in  the  notmuch  database  that  can't be recreated from the messages
       themselves. The output of notmuch dump is therefore the only critical thing  to  backup  (and  much  more
       friendly to incremental backup than the native database files.)

       See  <u>notmuch-search-terms</u> for details of the supported syntax for &lt;search-terms&gt;. With no search terms, a
       dump of all messages in the database will  be  generated.  A  <b>--</b>  argument  instructs  notmuch  that  the
       remaining arguments are search terms.

       Supported options for <b>dump</b> include

       <b>--gzip</b> Compress the output in a format compatible with <u><a href="../man1/gzip.1.html">gzip</a>(1).</u>

       <b>--format=(sup|batch-tag)</b>
              Notmuch  restore supports two plain text dump formats, both with one message-id per line, followed
              by a list of tags.

              <b>batch-tag</b>
                     The default <b>batch-tag</b> dump format is intended to more robust against malformed  message-ids
                     and tags containing whitespace or non-<u><a href="../man7/ascii.7.html">ascii</a>(7)</u> <u>characters.</u> <u>Each</u> <u>line</u> <u>has</u> <u>the</u> <u>form:</u>

                        +&lt;*encoded-tag*\ &gt; +&lt;*encoded-tag*\ &gt; ... -- id:&lt;*quoted-message-id*\ &gt;

                     <u>Tags</u> <u>are</u> <u>hex-encoded</u> <u>by</u> <u>replacing</u> <u>every</u> <u>byte</u> <u>not</u> <u>matching</u> <u>the</u> <u>regex</u> <b>[A-Za-z0-9@=.,_+-]</b> <u>with</u>
                     <b>%nn</b>  <u>where</u> <u>nn</u> <u>is</u> <u>the</u> <u>two</u> <u>digit</u> <u>hex</u> <u>encoding.</u> <u>The</u> <u>message</u> <u>ID</u> <u>is</u> <u>a</u> <u>valid</u> <u>Xapian</u> <u>query,</u> <u>quoted</u>
                     <u>using</u> <u>Xapian</u> <u>boolean</u> <u>term</u> <u>quoting</u> <u>rules:</u> <u>if</u> <u>the</u> <u>ID</u> <u>contains</u> <u>whitespace</u> <u>or</u> <u>a</u> <u>close</u> <u>paren</u>  <u>or</u>
                     <u>starts</u>  <u>with</u>  <u>a</u> <u>double</u> <u>quote,</u> <u>it</u> <u>must</u> <u>be</u> <u>enclosed</u> <u>in</u> <u>double</u> <u>quotes</u> <u>and</u> <u>double</u> <u>quotes</u> <u>inside</u>
                     <u>the</u> <u>ID</u> <u>must</u> <u>be</u> <u>doubled.</u> <u>The</u> <u>astute</u> <u>reader</u> <u>will</u> <u>notice</u> <u>this</u> <u>is</u> <u>a</u> <u>special</u> <u>case</u> <u>of</u>  <u>the</u>  <u>batch</u>
                     <u>input</u>  <u>format</u>  <u>for</u>  <u>notmuch-tag;</u>  <u>note</u>  <u>that</u>  <u>the</u>  <u>single</u> <u>message-id</u> <u>query</u> <u>is</u> <u>mandatory</u> <u>for</u>
                     <u>notmuch-restore.</u>

              <b>sup</b>    The <b>sup</b> dump file format is specifically chosen to be compatible with the format  of  files
                     produced  by  <u><a href="../man1/sup-dump.1.html">sup-dump</a>(1).</u>  <u>So</u>  <u>if</u>  <u>you've</u>  <u>previously</u>  <u>been</u>  <u>using</u>  <u>sup</u> <u>for</u> <u>mail,</u> <u>then</u> <u>the</u>
                     <u>notmuch-restore</u> <u>command</u> <u>provides</u> <u>you</u> <u>a</u> <u>way</u> <u>to</u> <u>import</u> <u>all</u> <u>of</u> <u>your</u> <u>tags</u>  <u>(or</u>  <u>labels</u>  <u>as</u>  <u>sup</u>
                     <u>calls</u> <u>them).</u> <u>Each</u> <u>line</u> <u>has</u> <u>the</u> <u>following</u> <u>form:</u>

                        &lt;*message-id*\ &gt; **(** &lt;*tag*\ &gt; ... **)**

                     <u>with</u>  <u>zero</u>  <u>or</u>  <u>more</u>  <u>tags</u>  <u>are</u>  <u>separated</u> <u>by</u> <u>spaces.</u> <u>Note</u> <u>that</u> <u>(malformed)</u> <u>message-ids</u> <u>may</u>
                     <u>contain</u> <u>arbitrary</u> <u>non-null</u> <u>characters.</u>  <u>Note</u>  <u>also</u>  <u>that</u>  <u>tags</u>  <u>with</u>  <u>spaces</u>  <u>will</u>  <u>not</u>  <u>be</u>
                     <u>correctly</u> <u>restored</u> <u>with</u> <u>this</u> <u>format.</u>

       <b>--include=(config|properties|tags)</b>
              Control what kind of metadata is included in the output.

              <b>config</b> Output  configuration data stored in the database. Each line starts with "#@ ", followed by
                     a space separated key-value pair.  Both key and value are hex encoded if needed.

              <b>properties</b>
                     Output per-message (key,value) metadata.  Each line  starts  with  "#=  ",  followed  by  a
                     message  id,  and  a space separated list of key=value pairs.  Ids, keys and values are hex
                     encoded if needed.  See <u>notmuch-properties</u> for more details.

              <b>tags</b>   Output per-message boolean metadata, namely tags. See <u>format</u> above for description  of  the
                     output.

              The default is to include all available types of data.  The option can be specified multiple times
              to select some subset. As of version 3 of the dump format, there is a header line of the following
              form:

                 #notmuch-dump &lt;*format*&gt;:&lt;*version*&gt; &lt;*included*&gt;

              where &lt;<u>included</u>&gt; is a comma separated list of the above options.

       <b>--output=&lt;filename&gt;</b>
              Write output to given file instead of stdout.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <u>notmuch</u>,  <u>notmuch-config</u>,  <u>notmuch-count</u>, <u>notmuch-hooks</u>, <u>notmuch-insert</u>, <u>notmuch-new</u>, <u>notmuch-properties</u>,
       <u>notmuch-reply</u>, <u>notmuch-restore</u>, <u>notmuch-search</u>, <u>notmuch-search-terms</u>, <u>notmuch-show</u>, <u>notmuch-tag</u>

</pre><h4><b>AUTHOR</b></h4><pre>
       Carl Worth and many others

</pre><h4><b>COPYRIGHT</b></h4><pre>
       2009-2024, Carl Worth and many others

0.38.3                                            Mar 11, 2025                                   <u><a href="../man1/NOTMUCH-DUMP.1.html">NOTMUCH-DUMP</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>