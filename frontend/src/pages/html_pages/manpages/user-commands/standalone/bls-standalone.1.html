<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>bls-standalone - build log scanner, standalone version</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/jammy/+package/bls-standalone">bls-standalone_0.20151231_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       bls-standalone - build log scanner, standalone version

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>bls-standalone</b> <b>--help</b>

       <b>bls-standalone</b>  [  <u>global</u>  <u>options</u>  ]  <b>check</b>  [  <b>--compiledrulesfile</b>  <u>rulesfile</u> ] [ <b>--blhc</b> <u>blhc-program</u> ]
       <u>logfiles</u>

       <b>bls-standalone</b> [ <u>global</u> <u>options</u> ] <b>compile</b> [ <u>compile-options</u> ]

       <b>bls-standalone</b> [ <u>global</u> <u>options</u> ] <b>checkout</b>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       bls-standalone is the command line utility to run the build log scanner on manually  specified  logfiles,
       including support to manage the needed compiled rules definitions.

</pre><h4><b>GLOBAL</b> <b>OPTIONS</b></h4><pre>
       Global options can be given before the command, available options are:

       Options  can  be specified before the command. Each affects a different subset of commands and is ignored
       by other commands.

       <b>-v</b> <b>--verbose</b>
              increase verbosity

       <b>--libdir</b> <u>directory</u>
              specify the directory where the scan and compile binaries are looked for

       <b>--sharedir</b> <u>directory</u>
              specify the directory where the copy of the rules files and the  packaged  precompiled  rule  data
              resides.

</pre><h4><b>COMMANDS</b></h4><pre>
       bls-standalone has three commands: <b>check</b>, <b>compile</b> and <b>checkout</b>.

       <b>check</b> [ <b>--compiledrulesfile</b> <u>rulesfile</u> ] [ <b>--blhc</b> <u>blhc-program</u> ] <u>logfiles</u>
              This  command  runs  the  bls  scanner  and  the blhc scanner on the given build log files.  If no
              compiled rules file is given with <b>--compiledrulesfile</b> then a previously compiled one is looked for
              and if there is none than the one shipped together with the package is used.  <b>blhc</b> is also  called
              if it is found or specified with the <b>--blhcp</b> option. To silence a warning about it not being found
              set it to <b>NO</b>.

       <b>compile</b> [ <b>-o</b> <u>output-file</u> ] [ <b>--no-defaults</b>] [ <b>--ignorecheckout</b>] <u>additional</u> <u>rule</u> <u>descriptions</u>
              Compiles the checks into a compiled form.

              Unless  <b>-o</b>  is given to determine a different place, it is stored in a cache directory (determined
              by some environment variables) where the future <b>check</b> invocations  will  use  it  intsead  of  the
              packaged precompiled rules.

              Additional rule descriptions can be given as command line arguments.

              Rules  stored  in proper places of your home directory are looked at, too.  (To see where they are
              looked for, use <b>--verbose</b>.)

              Unless <b>--no-defaults</b> is given the contents of a previous <b>checkout</b> or the copy of the rules shipped
              with the package are used, too.

              If there are rules of the same name, those given as command  line  arguments  override  local  and
              original ones and local ones override original ones.

       <b>checkout</b>
              Check  out  the current rules used for the non-standalone build scanner into a directory where the
              next <b>compile</b> run will use them instead of the shipped rules.

              Currently this checks out parts of the QA svn repository.  This URL  might  get  outdated  in  the
              future.   If the bls-standalone version you use and the non-standlone bls version get out of sync,
              those rules might contain things that your bls-stanalone cannot handle.

</pre><h4><b>WRITING</b> <b>RULES</b></h4><pre>
       Some far too short guide to writing new description files:

       The non-standalone build log scanner is only run for builds deemed successful.  So checks for things that
       should usually make a build fail makes often not much sense (a test-suite generating false  positives  is
       often more likely than catching an error ignored inproperly).

       The  filename  is  the  tag  produced  for  the test. Finding a good name is often the hardest part about
       writing new checks.

       Most of the description file is actually the html code describing what the finding usually  means  to  be
       displayed  on  ⟨<a href="http://qa.debian.org/bls/">http://qa.debian.org/bls/</a>⟩ with the exception of the lines starting with ## at the top of
       the file.

       The description should contain the following information:

   <b>What</b> <b>did</b> <b>the</b> <b>check</b> <b>found?</b>
       Make it easy for people to find what was matched. Makes it easier to  find  the  issue,  less  likely  to
       disregard it as false-positive if it is not, and less time wasting if it actually is a false positive.

   <b>Why</b> <b>is</b> <b>what</b> <b>is</b> <b>found</b> <b>a</b> <b>problem?</b>
       Even  the most serious flaws can easily be disregarded as minor issues due to ignorance.  And some things
       are only dangerous in some sitations  and  don't  require  the  highest  priority  in  other  situations.
       Distingushing both cases is hard and some more words in the description about it can help a lot.

   <b>What</b> <b>can</b> <b>be</b> <b>done</b> <b>against</b> <b>it?</b>
       Some  hints  how  to  avoid the problem both help the one due to fix it some time looking for a solution.
       This is especially useful to help people fixing it properly instead  of  only  hiding  the  problem  more
       thoroughly.

       The actual ## directives at the start of the file are:

   <b>Merge:</b>
       This line tells that this check triggers if other checks appear at the same line.

       There are currently only two forms supported:

        <b>##Merge:</b> <b>same</b> <u>tagname1</u> <u>tagname2</u>

       and

        <b>##Merge:</b> <b>same</b> <u>tagname1</u> <u>tagname2a</u> <b>or</b> <u>tagname2b</u>

   <b>Match:</b>
       This  is  a  regular  expression  describing what to match each line of the build log against to find the
       issue, prefixed with <b>regexp:</b>.  As an extension to the regular syntax there is a atom \/  which  specifies
       that  once  a line matches up to this part, no check that does not have a \/ at this place is supposed to
       match this line.  (This is an optimisation to heavily trim down the compile state machine,  but  it  also
       can be used to avoid false-positives).

       As all regular expressions of all checks are compiled into a single finite state machine, checks that are
       very  specific  at the start of the line are quite cheap while checks not specific at the start are often
       quite expensive.  The size of the state machine output by the <b>compile</b> command is a good  measurement  how
       expensive the specific check is.

   <b>Since:</b>
       If  there  are  new rules then the information at ⟨<a href="http://qa.debian.org/bls/">http://qa.debian.org/bls/</a>⟩ might be outdated until all
       logs are rescanned with the new version.  For each log scanned by the non-standalone  build  log  scanner
       the  version number of the used rules is remembered.  The number specified with the <b>Since</b> field tells the
       web report generated where to place warnings that information about this check might be outdated.

   <b>Extract:</b>
       This tells how to extract information from the matched file to be showed together with the  matched  line
       (like a filename something was found in).

       There are currently following forms supported here:

        <b>##Extract:</b> <b>simple</b> <b>0</b> <u>endcount</u> <b>'</b><u>endchar</u><b>'</b>
        <b>##Extract:</b> <b>simple</b> <b>0</b> <b>'</b><u>reset</u><b>'</b> <u>endcount</u> <b>'</b><u>endchar</u><b>'</b>
        <b>##Extract:</b> <b>simple</b> <u>startcount</u> <b>'</b><u>startchar</u><b>'</b> <u>endcount</u> <b>'</b><u>endchar</u><b>'</b>
        <b>##Extract:</b> <b>simple</b> <u>startcount</u> <b>'</b><u>startchar</u><b>'</b> <b>'</b><u>reset</u><b>'</b> <u>endcount</u> <b>'</b><u>endchar</u><b>'</b>

       Where  <u>startchar</u>  is a character to look for for the start of the extracted area (after the  <u>startcount</u>th
       occurrence).  <u>resetchar</u> is a character to abort extraction.  <u>endchar</u> is a character to look for  for  the
       end of the extracted area (after the  <u>endcount</u>th occurrence).

       For example:
        <b>##Extract:</b>  <b>simple</b>  <b>2</b>  <b>'|'</b>  <b>'/'</b>  <b>1</b> <b>'|'</b> means to extract the content between the 2nd and 3rd pipe symbol,
       unless there is a slash in between.

   <b>Action:</b>
       describes what to do if a switch is matched.  This can be used to set variables referenced in other rules
       to generate context-sensitive rules.

   <b>Condition:</b>
       add conditions (on variables set by <b>##Action</b>).  If the condition is not met, the generating of a  finding
       is supressed.

</pre><h4><b>CEVEATS</b></h4><pre>
       While  compiling  all  matches  into a single finite state machine produces very fast results, it is only
       feasible while the state machine does not grow too much.  So  care  has  to  be  taken  to  not  use  too
       expensive searches.

       Some checks (especially context specific ones) are quite unreliable.  The non-standalone build log checks
       do  not  include  some  findings for the summary unless they appear on multiple architectures, which bls-
       standalone obviously cannot do.

       bls is optimized to be fast.  Do not run it with rules files you do not trust.  (Only the content of  log
       files scanned is supposed to be untrusted data).

       blhc  is  quite  slow  which  is  luckily  not  that noticeable if not scanning the logfiles of the whole
       archive. If you test new rules on a larger set of logfiles, using <b>--blhc=NO</b> can speed things up  quite  a
       bit.

       blhc does not report line numbers so bls-standalone cannot report them for those findings.

       Note  that  checking  the  logs  of  a dpkg-buildpackage -b run and a dpkg-buildpackage -B run can make a
       difference (so if you cannot reproduce a E-binary-arch-produces-all make sure you check the correct  type
       of log).

</pre><h4><b>REPORTING</b> <b>BUGS</b></h4><pre>
       Report bugs or wishlist requests to the Debian BTS
       (e.g. by using <b>reportbug</b> <b>bls-standalone</b> under Debian)
       or directly to <a href="mailto:brlink@debian.org">brlink@debian.org</a>

</pre><h4><b>COPYRIGHT</b></h4><pre>
       Copyright © 2013,2014,2015 Bernhard R. Link ⟨<a href="http://www.brlink.eu">http://www.brlink.eu</a>⟩
       This  is  free  software;  see  the  source  for  copying  conditions. There is NO warranty; not even for
       MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <a href="../man1/blhc.1.html">blhc</a>(1)

bls-standalone                                     2015-12-31                                  <u><a href="../man1/BLS-STANDALONE.1.html">BLS-STANDALONE</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>