<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>grn - embed Gremlin images in groff documents</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/groff">groff_1.23.0-7_amd64</a> <br><br><pre>
</pre><h4><b>Name</b></h4><pre>
       grn - embed Gremlin images in <u>groff</u> documents

</pre><h4><b>Synopsis</b></h4><pre>
       <b>grn</b> [<b>-C</b>] [<b>-T</b> <u>dev</u>] [<b>-M</b> <u>dir</u>] [<b>-F</b> <u>dir</u>] [<u>file</u> ...]

       <b>grn</b> <b>-?</b>
       <b>grn</b> <b>--help</b>

       <b>grn</b> <b>-v</b>
       <b>grn</b> <b>--version</b>

</pre><h4><b>Description</b></h4><pre>
       <u>grn</u>  is  a preprocessor for including <u>gremlin</u> pictures in <u><a href="../man1/troff.1.html">troff</a></u>(1) input.  <u>grn</u> writes to standard output,
       processing only input lines between two that start with <b>.GS</b>  and  <b>.GE</b>.   Those  lines  must  contain  <u>grn</u>
       commands  (see  below).   These  macros request a <u>gremlin</u> file; the picture in that file is converted and
       placed in the <u>troff</u> input stream.  <b>.GS</b> may be called with a <b>C</b>, <b>L</b>, or <b>R</b>  argument  to  center,  left-,  or
       right-justify  the  whole  <u>gremlin</u>  picture  (the  default  is  to center).  If no <u>file</u> is mentioned, the
       standard input is read.  At the end of the picture, the position on the page is the bottom of the <u>gremlin</u>
       picture.  If the <u>grn</u> entry is ended with <b>.GF</b> instead of <b>.GE</b>, the position is  left  at  the  top  of  the
       picture.

       Currently only the <u>me</u> macro package has support for <b>.GS</b>, <b>.GE</b>, and <b>.GF</b>.

       <u>grn</u>  produces  drawing escape sequences that use <u>groff</u>'s color scheme extension (<b>\D'F</b> ...<b>'</b>), and thus may
       not work with other <u>troff</u>s.

   <u><b>grn</b></u> <b>commands</b>
       Each input line between <b>.GS</b> and <b>.GE</b> may have one <u>grn</u> command.  Commands consist of  one  or  two  strings
       separated by white space, the first string being the command and the second its operand.  Commands may be
       upper- or lowercase and abbreviated down to one character.

       Commands  that  affect  a  picture's  environment  (those listed before “<b>default</b>”, see below) are only in
       effect for the current picture: the environment is reinitialized to the defaults at the start of the next
       picture.  The commands are as follows.

       <b>1</b> <u>N</u>
       <b>2</b> <u>N</u>
       <b>3</b> <u>N</u>
       <b>4</b> <u>N</u>    Set <u>gremlin</u>'s text size number 1 (2, 3, or 4) to <u>N</u> points.  The default is 12  (16,  24,  and  36,
              respectively).

       <b>roman</b> <u>f</u>
       <b>italics</b> <u>f</u>
       <b>bold</b> <u>f</u>
       <b>special</b> <u>f</u>
              Set  the  roman (italics, bold, or special) font to <u>troff</u>'s font <u>f</u> (either a name or number).  The
              default is R (I, B, and S, respectively).

       <b>l</b> <u>f</u>
       <b>stipple</b> <u>f</u>
              Set the stipple font to <u>troff</u>'s stipple font <u>f</u> (name or  number).   The  command  <b>stipple</b>  may  be
              abbreviated  down  as  far  as  “<b>st</b>” (to avoid confusion with “<b>special</b>”).  There is <u>no</u> default for
              stipples (unless one is set by the “<b>default</b>” command), and it is  invalid  to  include  a  <u>gremlin</u>
              picture with polygons without specifying a stipple font.

       <b>x</b> <u>N</u>
       <b>scale</b> <u>N</u>
              Magnify  the  picture  (in  addition  to  any default magnification) by <u>N</u>, a floating-point number
              larger than zero.  The command <b>scale</b> may be abbreviated down to “<b>sc</b>”.

       <b>narrow</b> <u>N</u>
       <b>medium</b> <u>N</u>
       <b>thick</b> <u>N</u>
              Set the thickness of <u>gremlin</u>'s narrow (medium and thick, respectively) lines  to  <u>N</u>  times  0.15pt
              (this  value  can  be  changed  at compile time).  The default is 1.0 (3.0 and 5.0, respectively),
              which corresponds to 0.15pt (0.45pt and 0.75pt, respectively).  A thickness value of zero  selects
              the  smallest  available  line  thickness.   Negative  values  cause  the  line  thickness  to  be
              proportional to the current point size.

       <b>pointscale</b> [<b>off</b>|<b>on</b>]
              Scale text to match the picture.  Gremlin text is usually printed in the point size specified with
              the commands <b>1</b>, <b>2</b>, <b>3</b>, or <b>4</b>, regardless of any scaling factors in the picture.  Setting  <b>pointscale</b>
              will  cause the point sizes to scale with the picture (within <u>troff</u>'s limitations, of course).  An
              operand of anything but <b>off</b> will turn text scaling on.

       <b>default</b>
              Reset the picture environment defaults to the settings in the current picture.  This is  meant  to
              be  used as a global parameter setting mechanism at the beginning of the <u>troff</u> input file, but can
              be used at any time to reset the default settings.

       <b>width</b> <u>N</u>
              Force the picture to be <u>N</u> inches wide.  This overrides any scaling factors  present  in  the  same
              picture.  “<b>width</b> <b>0</b>” is ignored.

       <b>height</b> <u>N</u>
              Force the picture to be <u>N</u> inches high, overriding other scaling factors.  If both <b>width</b> and <b>height</b>
              are  specified,  the tighter constraint will determine the scale of the picture.  <b>height</b> and <b>width</b>
              commands are not saved with a “<b>default</b>” command.  They will, however, affect point size scaling if
              that option is set.

       <b>file</b> <u>name</u>
              Get picture from <u>gremlin</u> file <u>name</u> located the current directory (or in the library directory; see
              the <b>-M</b> option above).  If multiple <b>file</b> commands are  given,  the  last  one  controls.   If  <u>name</u>
              doesn't exist, an error message is reported and processing continues from the <b>.GE</b> line.

   <b>Usage</b> <b>with</b> <u><b>groff</b></u>
       Since  <u>grn</u>  is a preprocessor, it has no access to elements of formatter state, such as indentation, line
       length, type size, or register values.  Consequently, no <u>troff</u> input can be placed between  the  <b>.GS</b>  and
       <b>.GE</b>  macros.   However, <u>gremlin</u> text elements are subsequently processed by <u>troff</u>, so anything valid in a
       single line of <u>troff</u> input is valid in a line of <u>gremlin</u> text (barring the dot control character  “.”  at
       the beginning of a line).  Thus, it is possible to have equations within a <u>gremlin</u> figure by including in
       the <u>gremlin</u> file <u>eqn</u> expressions enclosed by previously defined delimiters (e.g., “$$”).

       When  using <u>grn</u> along with other preprocessors, it is best to run <u><a href="../man1/tbl.1.html">tbl</a></u>(1) before <u>grn</u>, <u><a href="../man1/pic.1.html">pic</a></u>(1), and/or <u>ideal</u>
       to avoid  overworking  <u>tbl</u>.   <u><a href="../man1/eqn.1.html">eqn</a></u>(1)  should  always  be  run  last.   <u><a href="../man1/groff.1.html">groff</a></u>(1)  will  automatically  run
       preprocessors in the correct order.

       A picture is considered an entity, but that doesn't stop <u>troff</u> from trying to break it up if it falls off
       the end of a page.  Placing the picture between “keeps” in the <u>me</u> macros will ensure proper placement.

       <u>grn</u>  uses  <u>troff</u>'s  registers  <b>g1</b>  through <b>g9</b> and sets registers <b>g1</b> and <b>g2</b> to the width and height of the
       <u>gremlin</u> figure (in device units) before entering the <b>.GS</b> macro (this is for those  who  want  to  rewrite
       these macros).

   <b>Gremlin</b> <b>file</b> <b>format</b>
       There exist two distinct <u>gremlin</u> file formats: the original format for AED graphic terminals, and the Sun
       or  X11  version.   An  extension  used  by  the  Sun/X11 version allowing reference points with negative
       coordinates is <u>not</u> compatible with the AED version.  As long as a <u>gremlin</u> file does not contain  negative
       coordinates,  either  format  will  be  read  correctly  by  either version of <u>gremlin</u> or <u>grn</u>.  The other
       difference in Sun/X11 format is the use of names for picture objects (e.g., <b>POLYGON</b>,  <b>CURVE</b>)  instead  of
       numbers.  Files representing the same picture are shown below.

                                         sungremlinfile        gremlinfile
                                         0 240.00 128.00       0 240.00 128.00
                                         CENTCENT              2
                                         240.00 128.00         240.00 128.00
                                         185.00 120.00         185.00 120.00
                                         240.00 120.00         240.00 120.00
                                         296.00 120.00         296.00 120.00
                                         *                     -1.00 -1.00
                                         2 3                   2 3
                                         10 A Triangle         10 A Triangle
                                         POLYGON               6
                                         224.00 416.00         224.00 416.00
                                         96.00 160.00          96.00 160.00
                                         384.00 160.00         384.00 160.00
                                         *                     -1.00 -1.00
                                         5 1                   5 1
                                         0                     0
                                         -1                    -1

       • The  first line of each <u>gremlin</u> file contains either the string “<b>gremlinfile</b>” (AED) or “<b>sungremlinfile</b>”
         (Sun/X11).

       • The second line of the file contains an orientation and  <u>x</u>  and  <u>y</u>  values  for  a  positioning  point,
         separated  by spaces.  The orientation, either <b>0</b> or <b>1</b>, is ignored by the Sun/X11 version.  <b>0</b> means that
         <u>gremlin</u> will display things in horizontal format (a drawing area wider than it is  tall,  with  a  menu
         across  the  top).   <b>1</b> means that <u>gremlin</u> will display things in vertical format (a drawing area taller
         than it is wide, with a menu on the left side).  <u>x</u> and <u>y</u> are floating-point values giving a positioning
         point to be used when this file is read into another file.  The stuff on this  line  really  isn't  all
         that important; a value of “<b>1</b> <b>0.00</b> <b>0.00</b>” is suggested.

       • The  rest  of  the  file  consists  of  zero  or  more  element specifications.  After the last element
         specification is a line containing the string “<b>-1</b>”.

       • Lines longer than 127 characters are truncated to that length.

   <b>Element</b> <b>specifications</b>
       • The first line of each element contains a single decimal number giving the type of the element (AED) or
         its name (Sun/X11).

                                     <u>gremlin</u> File Format: Object Type Specification
                                ─────────────────────────────────────────────────────────
                                AED Number   Sun/X11 Name           Description
                                     <b>0</b>       <b>BOTLEFT</b>        bottom-left-justified text
                                     <b>1</b>       <b>BOTRIGHT</b>       bottom-right-justified text
                                     <b>2</b>       <b>CENTCENT</b>       center-justified text
                                     <b>3</b>       <b>VECTOR</b>         vector
                                     <b>4</b>       <b>ARC</b>            arc
                                     <b>5</b>       <b>CURVE</b>          curve
                                     <b>6</b>       <b>POLYGON</b>        polygon
                                     <b>7</b>       <b>BSPLINE</b>        b-spline
                                     <b>8</b>       <b>BEZIER</b>         Bézier
                                    <b>10</b>       <b>TOPLEFT</b>        top-left-justified text
                                    <b>11</b>       <b>TOPCENT</b>        top-center-justified text
                                    <b>12</b>       <b>TOPRIGHT</b>       top-right-justified text
                                    <b>13</b>       <b>CENTLEFT</b>       left-center-justified text
                                    <b>14</b>       <b>CENTRIGHT</b>      right-center-justified text
                                    <b>15</b>       <b>BOTCENT</b>        bottom-center-justified text

       • After the object type comes a variable number of lines, each specifying a point  used  to  display  the
         element.   Each line contains an x-coordinate and a y-coordinate in floating-point format, separated by
         spaces.  The list of points is terminated by a line containing the string “<b>-1.0</b> <b>-1.0</b>” (AED) or a single
         asterisk, “<b>*</b>” (Sun/X11).

       • After the points comes a line containing two decimal values, giving the brush and size for the element.
         The brush determines the style in which things are drawn.  For vectors, arcs, and curves there are  six
         valid brush values.

                                                <b>1</b>   thin dotted lines
                                                <b>2</b>   thin dot-dashed lines
                                                <b>3</b>   thick solid lines
                                                <b>4</b>   thin dashed lines
                                                <b>5</b>   thin solid lines
                                                <b>6</b>   medium solid lines

         For polygons, one more value, 0, is valid.  It specifies a polygon with an invisible border.  For text,
         the brush selects a font as follows.

                                              <b>1</b>   roman (R font in <u>troff</u>)
                                              <b>2</b>   italics (I font in <u>troff</u>)
                                              <b>3</b>   bold (B font in <u>troff</u>)
                                              <b>4</b>   special (S font in <u>troff</u>)

         If  you're  using <u>grn</u> to run your pictures through <u>groff</u>, the font is really just a starting font.  The
         text string can contain formatting sequences like “\fI” or “\d” which may change the font (as  well  as
         do  many  other  things).  For text, the size field is a decimal value between 1 and 4.  It selects the
         size of the font in which the text will be drawn.  For polygons, this size field is  interpreted  as  a
         stipple  number  to  fill  the  polygon with.  The number is used to index into a stipple font at print
         time.

       • The last line of each element contains a decimal number and a string  of  characters,  separated  by  a
         single  space.   The  number is a count of the number of characters in the string.  This information is
         used only for text elements, and contains the text string.  There can be spaces inside the  text.   For
         arcs,  curves,  and  vectors, the character count is zero (<b>0</b>), followed by exactly one space before the
         newline.

   <b>Coordinates</b>
       <u>gremlin</u> was designed for AED terminals, and its  coordinates  reflect  the  AED  coordinate  space.   For
       vertical  pictures,  <u>x</u>  values  range  116  to 511, and <u>y</u> values from 0 to 483.  For horizontal pictures,
       <u>x</u> values range from 0 to 511, and <u>y</u> values from 0 to 367.  Although you needn't absolutely stick to  this
       range, you'll get better results if you at least stay in this vicinity.  Also, point lists are terminated
       by  a  point of (-1, -1), so you shouldn't ever use negative coordinates.  <u>gremlin</u> writes out coordinates
       using the <u><a href="../man3/printf.3.html">printf</a></u>(3) format “%f1.2”; it's probably a good idea to use the  same  format  if  you  want  to
       modify the <u>grn</u> code.

   <b>Sun/X11</b> <b>coordinates</b>
       There  is  no  restriction  on  the range of coordinates used to create objects in the Sun/X11 version of
       <u>gremlin</u>.  However, files with negative coordinates <u>will</u> cause problems if displayed on the AED.

</pre><h4><b>Options</b></h4><pre>
       <b>-?</b> and <b>--help</b> display a usage message,  while  <b>-v</b>  and  <b>--version</b>  show  version  information;  all  exit
       afterward.

       <b>-C</b>     Recognize <b>.GS</b> and <b>.GE</b> (and <b>.GF</b>) even when followed by a character other than space or newline.

       <b>-F</b> <u>dir</u> Search  <u>dir</u>  for  subdirectories <u>dev</u>name (<u>name</u> is the name of the output driver) for the <u>DESC</u> file
              before the default font directories <u>/usr/share/groff/site-font</u>, <u><a href="file:/usr/share/groff/1.23.0/font">/usr/share/groff/1.23.0/font</a></u>,  and
              <u>/usr/lib/font</u>.

       <b>-M</b> <u>dir</u> Prepend  <u>dir</u>  to  the  search  path  for  <u>gremlin</u>  files.   The default search path is the current
              directory, the home directory, <u><a href="file:/usr/share/groff/site-tmac">/usr/share/groff/site-tmac</a></u>,  and  <u><a href="file:/usr/share/groff/1.23.0/tmac">/usr/share/groff/1.23.0/tmac</a></u>,  in
              that order.

       <b>-T</b> <u>dev</u> Prepare  device  output  using  output driver <u>dev</u>.  The default is <b>ps</b>.  See <u><a href="../man1/groff.1.html">groff</a></u>(1) for a list of
              valid devices.

</pre><h4><b>Files</b></h4><pre>
       <u>/usr/share/groff/1.23.0/font/dev</u>name<u>/DESC</u>
              describes the output device <u>name</u>.

</pre><h4><b>Authors</b></h4><pre>
       David Slattengren and Barry Roitblat wrote the original Berkeley  <u>grn</u>.   Daniel  Senderowicz  and  Werner
       Lemberg modified it for <u>groff</u>.

</pre><h4><b>See</b> <b>also</b></h4><pre>
       <u><a href="../man1/gremlin.1.html">gremlin</a></u>(1), <u><a href="../man1/groff.1.html">groff</a></u>(1), <u><a href="../man1/pic.1.html">pic</a></u>(1), <u><a href="../man1/ideal.1.html">ideal</a></u>(1)

groff 1.23.0                                    26 December 2024                                          <u><a href="../man1/grn.1.html">grn</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>