<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>lxc-copy - copy an existing container.</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/lxc">lxc_6.0.3-1ubuntu1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       lxc-copy - copy an existing container.

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>lxc-copy</b> {-n, --name <u>name</u>} [-P, --lxcpath <u>path</u>] {-N, --newname <u>newname</u>} [-p, --newpath <u>newpath</u>] [-B,
                --backingstorage <u>backingstorage</u>] [-s, --snapshot] [-a, --allowrunning] [-K, --keepname] [-D,
                --keepdata] [-M, --keepmac] [-L, --fssize <u>size</u> <u>[unit]</u>] [-- hook arguments]
       <b>lxc-copy</b> {-n, --name <u>name</u>} [-P, --lxcpath <u>path</u>] [-N, --newname <u>newname</u>] [-p, --newpath <u>newpath</u>] {-e,
                --ephemeral} [-B, --backingstorage <u>backingstorage</u>] [-s, --snapshot] [-a, --allowrunning] [-K,
                --keepname] [-D, --keepdata] [-M, --keepmac] [-L, --fssize <u>size</u> <u>[unit]</u>] [-- hook arguments]
       <b>lxc-copy</b> {-n, --name <u>name</u>} [-P, --lxcpath <u>path</u>] [-N, --newname <u>newname</u>] [-p, --newpath <u>newpath</u>] {-e,
                --ephemeral} [-B, --backingstorage <u>backingstorage</u>] [-s, --snapshot] [-t, --tmpfs] [-K,
                --keepname] [-M, --keepmac] [-- hook arguments]
       <b>lxc-copy</b> {-n, --name <u>name</u>} [-P, --lxcpath <u>path</u>] {-N, --newname <u>newname</u>} [-p, --newpath <u>newpath</u>] {-R,
                --rename}

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>lxc-copy</b> creates and optionally starts (ephemeral or non-ephemeral) copies of existing containers.

       <b>lxc-copy</b>  creates copies of existing containers. Copies can be complete clones of the original container.
       In this case the whole root filesystem of the container is simply copied to the new  container.  Or  they
       can  be  snapshots, i.e. small copy-on-write copies of the original container. In this case the specified
       backing storage for the copy must support snapshots. This currently includes btrfs, lvm (lvm  devices  do
       not support snapshots of snapshots.), overlay, and zfs.

       The  copy's  backing storage will be of the same type as the original container. overlay snapshots of di‐
       rectory backed containers are exempted from this rule.

       When the <u>-e</u> flag is specified an ephemeral snapshot of the original container  is  created  and  started.
       Ephemeral  containers will have <b>lxc.ephemeral</b> <b>=</b> <b>1</b> set in their config file and will be destroyed on shut‐
       down. When <u>-e</u> is used in combination with <u>-D</u> a non-ephemeral snapshot of the original container is creat‐
       ed and started.  Ephemeral containers can also be placed on a tmpfs with <u>-t</u> flag. NOTE: If  an  ephemeral
       container that is placed on a tmpfs is rebooted all changes made to it will currently be lost!

       When <u>-e</u> is specified and no newname is given via <u>-N</u> a random name for the snapshot will be chosen.

       Containers created and started with <u>-e</u> can have custom mounts. These are specified with the <u>-m</u> flag. Cur‐
       rently  two  types of mounts are supported: <u>bind</u>, and <u>overlay</u>. Mount types are specified as suboptions to
       the <u>-m</u> flag and can be specified multiple times separated by commas. <u>overlay</u> mounts are currently  speci‐
       fied in the format <u>-m</u> <u>overlay=/src:/dest</u>. When no destination <u>dest</u> is specified <u>dest</u> will be identical to
       <u>src</u>.   Read-only  <u>bind</u>  mounts  are  specified  <u>-m</u>  <u>bind=/src:/dest:ro</u>  and  read-write  <u>bind</u>  mounts  <u>-m</u>
       <u>bind=/src:/dest:rw</u>. Read-write <u>bind</u> mounts are the default and <u>rw</u> can be missing when a read-write  mount
       is wanted. When <u>dest</u> is missing <u>dest</u> will be identical to <u>src</u>. An example for multiple mounts would be <u>-m</u>
       <u>bind=/src1:/dest1:ro,bind=/src2:ro,overlay=/src3:/dest3</u>.

       The mounts, their options, and formats supported via the <u>-m</u> flag are subject to change.

</pre><h4><b>OPTIONS</b></h4><pre>
       <b>-N,--newname</b> <u>newname</u>
              The name for the copy.

       <b>-p,--newpath</b> <u>newpath</u>
              The path for the copy.

       <b>-R,--rename</b>
              Rename the original container.

       <b>-s,--snapshot</b>
              Create  a  snapshot of the original container. The backing storage for the copy must support snap‐
              shots. This currently includes btrfs, lvm, overlay, and zfs.

       <b>-a,--allowrunning</b>
              Allow the creation of a Snapshot of an already running container.  This may cause data  corruption
              or data loss depending on the used filesystem and applications. Use with care.

       <b>-F,--foreground</b>
              Run  the  snapshot  in  the foreground. The snapshots console will be attached to the current tty.
              (This option can only be specified in conjunction with <u>-e</u>.)

       <b>-d,</b> <b>--daemon</b>
              Run the snapshot as a daemon (This is the default mode for ephemeral containers.). As the contain‐
              er has no more tty, if an error occurs nothing will be displayed, the log  file  can  be  used  to
              check the error. (This option can only be specified in conjunction with <u>-e</u>.)

       <b>-m,</b> <b>--mount</b> <u>mounttype</u>
              Specify  a  mount  for a snapshot The <u>opts</u> argument for the mount type can by of type {bind, over‐
              lay}. For example <b>-m</b> <b>bind=/src:/dest:ro,overlay=/src:/dest</b> (This  option  can  currently  only  be
              specified in conjunction with <u>-e</u>.).

       <b>-t,</b> <b>--tmpfs</b>
              When  this  option is specified the ephemeral container will be placed on a tmpfs. NOTE: Rebooting
              an ephemeral container that is located on a tmpfs will currently cause all changes made to  it  to
              be  lost. This flag will only work for ephemeral containers created with the <u>-e</u> flag. The original
              container, from which the ephemeral snapshot is created, must be stored as a simple directory.

       <b>-B,</b> <b>--backingstorage</b> <u>backingstorage</u>
              Specify the backing storage type to be used  for  the  copy  where  'backingstorage'  is  of  type
              'btrfs', 'dir', 'lvm', 'loop', 'overlay', or 'zfs'.

       <b>-L,</b> <b>--fssize</b> <u>size</u> <u>[unit]</u>
              Specify the size for an 'lvm' filesystem.

       <b>-K,</b> <b>--keepname</b>
              When this option is specified the hostname of the original container will be kept for the copy.

       <b>-D,</b> <b>--keepdata</b>
              When this option is specified with <u>-e</u> a non-ephemeral container is created and started.

       <b>-M,</b> <b>--keepmac</b>
              When this option is specified the MAC address of the original container will be kept for the copy.

</pre><h4><b>COPY</b> <b>HOOK</b></h4><pre>
       If  the container being copied has one or more <u>lxc.hook.clone</u> specified, then the specified hooks will be
       called for the new container. The first 3 arguments passed to the clone hook will be the container  name,
       a  section ('lxc'), and the hook type ('clone'). Extra arguments passed to <b>lxc-copy</b> will be passed to the
       hook program starting at argument 4. The <u>LXC_ROOTFS_MOUNT</u> environment variable gives the path under which
       the container's root filesystem is mounted. The configuration file pathname is stored in <u>LXC_CONFIG_FILE</u>,
       the new container name in <u>LXC_NAME</u>, the old container name in <u>LXC_SRC_NAME</u>, and the  path  or  device  on
       which the rootfs is located is in <u>LXC_ROOTFS_PATH</u>.

</pre><h4><b>COMMON</b> <b>OPTIONS</b></h4><pre>
       These options are common to most of lxc commands.

       <b>-?,</b> <b>-h,</b> <b>--help</b>
              Print a longer usage message than normal.

       <b>--usage</b>
              Give the usage message

       <b>-q,</b> <b>--quiet</b>
              mute on

       <b>-P,</b> <b>--lxcpath=</b><u>PATH</u>
              Use an alternate container path. The default is /var/lib/lxc.

       <b>-o,</b> <b>--logfile=</b><u>FILE</u>
              Output to an alternate log <u>FILE</u>. The default is no log.

       <b>-l,</b> <b>--logpriority=</b><u>LEVEL</u>
              Set  log priority to <u>LEVEL</u>. The default log priority is ERROR. Possible values are : FATAL, ALERT,
              CRIT, WARN, ERROR, NOTICE, INFO, DEBUG, TRACE.

              Note that this option is setting the priority of the events log in the alternate log file.  It  do
              not have effect on the ERROR events log on stderr.

       <b>-n,</b> <b>--name=</b><u>NAME</u>
              Use container identifier <u>NAME</u>.  The container identifier format is an alphanumeric string.

       <b>--rcfile=</b><u>FILE</u>
              Specify  the  configuration file to configure the virtualization and isolation functionalities for
              the container.

              This configuration file if present will be used even if there  is  already  a  configuration  file
              present in the previously created container (via lxc-create).

       <b>--version</b>
              Show the version number.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man7/lxc.7.html">lxc</a></b>(7),  <b><a href="../man1/lxc-create.1.html">lxc-create</a></b>(1),  <b><a href="../man1/lxc-copy.1.html">lxc-copy</a></b>(1), <b><a href="../man1/lxc-destroy.1.html">lxc-destroy</a></b>(1), <b><a href="../man1/lxc-start.1.html">lxc-start</a></b>(1), <b><a href="../man1/lxc-stop.1.html">lxc-stop</a></b>(1), <b><a href="../man1/lxc-execute.1.html">lxc-execute</a></b>(1), <b>lxc-con‐</b>
       <b><a href="../man1/sole.1.html">sole</a></b>(1), <b><a href="../man1/lxc-monitor.1.html">lxc-monitor</a></b>(1),  <b><a href="../man1/lxc-wait.1.html">lxc-wait</a></b>(1),  <b><a href="../man1/lxc-cgroup.1.html">lxc-cgroup</a></b>(1),  <b><a href="../man1/lxc-ls.1.html">lxc-ls</a></b>(1),  <b><a href="../man1/lxc-info.1.html">lxc-info</a></b>(1),  <b><a href="../man1/lxc-freeze.1.html">lxc-freeze</a></b>(1),  <b>lxc-un‐</b>
       <b><a href="../man1/freeze.1.html">freeze</a></b>(1), <b><a href="../man1/lxc-attach.1.html">lxc-attach</a></b>(1), <b><a href="../man5/lxc.conf.5.html">lxc.conf</a></b>(5)

                                                   2025-05-10                                        <u><a href="../man1/lxc-copy.1.html">lxc-copy</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>