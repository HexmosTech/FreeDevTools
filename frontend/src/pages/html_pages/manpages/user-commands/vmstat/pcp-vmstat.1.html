<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>pcp-vmstat, pmstat - high-level system performance overview</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/pcp">pcp_6.3.3-1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       <b>pcp-vmstat</b>, <b>pmstat</b> - high-level system performance overview

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>pcp</b> [<u>pcp</u> <u>options</u>] <b>vmstat</b> [<u>interval</u> [<u>samples</u>]]

       <b>pmstat</b>  [<b>-gLlPVxz?</b>]   [<b>-a</b> <u>archive</u>] [<b>-A</b> <u>align</u>] [<b>-h</b> <u>host</u>] [<b>-H</b> <u>file</u>] [<b>-n</b> <u>pmnsfile</u>] [<b>-O</b> <u>offset</u>] [<b>-p</b> <u>port</u>] [<b>-s</b>
       <u>samples</u>] [<b>-S</b> <u>starttime</u>] [<b>-t</b> <u>interval</u>] [<b>-T</b> <u>endtime</u>] [<b>-Z</b> <u>timezone</u>]

       <b>pcp-vmstat</b> ...

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>pmstat</b> provides a one line summary of system performance every <u>interval</u> unit of time (the  default  is  5
       seconds).  <b>pmstat</b> is intended to monitor system performance at the highest level, after which other tools
       may  be  used  to  examine  subsystems in which potential performance problems may be observed in greater
       detail.

       <b>pcp-vmstat</b> is a simple wrapper for use with the <b><a href="../man1/pcp.1.html">pcp</a></b>(1) command, providing a more  familiar  command  line
       format  for  some  users.   It  also  enables the extended reporting option by default, see the <u>-x</u> option
       below.

       Multiple hosts may be monitored by supplying more  than  one  host  with  multiple  <b>-h</b>  flags  (for  live
       monitoring)  or by providing a name of the hostlist file, where each line contain one host name, with <b>-H,</b>
       or multiple <b>-a</b> flags (for retrospective monitoring from sets of archives).

       By default, <b>pmstat</b> fetches metrics by connecting to the Performance Metrics Collector  Daemon  (PMCD)  on
       the  local  host.   If the <b>-L</b> option is specified, then <b><a href="../man1/pmcd.1.html">pmcd</a></b>(1) is bypassed, and metrics are fetched from
       PMDAs on the local host using the stand-alone <b>PM_CONTEXT_LOCAL</b> variant of <b><a href="../man3/pmNewContext.3.html">pmNewContext</a></b>(3).  When  the  <b>-h</b>
       option is specified, <b>pmstat</b> connects to the <b><a href="../man1/pmcd.1.html">pmcd</a></b>(1) on <u>host</u> and fetches metrics from there.  As mentioned
       above, multiple hosts may be monitored by supplying multiple <b>-h</b> flags.

       Alternatively,  if the <b>-a</b> option is used, the metrics are retrieved from the Performance Co-Pilot archive
       files identified by <u>archive</u>, which is a comma-separated list of names, each of which may be the base name
       of an archive or the name of a directory containing one or more archives.  Multiple sets of archives  may
       be  replayed  by  supplying multiple <b>-a</b> flags.  When the <b>-a</b> flag is used, the <b>-P</b> flag may also be used to
       pause the output after each interval.

       Stand-alone mode can only connect to the local host, using a set of archives implies  a  host  name,  and
       nominating a host precludes using an archive, so the options <b>-L</b>, <b>-a</b> and <b>-h</b> are mutually exclusive.

       <b>pmstat</b>  may  relinquish its own timing control, and operate under the control of a <b><a href="../man1/pmtime.1.html">pmtime</a></b>(1) process that
       uses a GUI dialog to provide timing control.  In this case, either the <b>-g</b> option should be used to  start
       <b>pmstat</b>  as  the  sole  client  of  a  new <b><a href="../man1/pmtime.1.html">pmtime</a></b>(1) instance, or <b>-p</b> should be used to attach <b>pmstat</b> to an
       existing <b><a href="../man1/pmtime.1.html">pmtime</a></b>(1) instance via the IPC channel identified by the <u>port</u> argument.

       The <b>-S</b>, <b>-T</b>, <b>-O</b> and <b>-A</b> options may be used to define a time window to restrict the samples retrieved,  set
       an  initial  origin within the time window, or specify a ``natural'' alignment of the sample times; refer
       to <b><a href="../man1/PCPIntro.1.html">PCPIntro</a></b>(1) for a complete description of these options.

</pre><h4><b>OPTIONS</b></h4><pre>
       The available command line options are:

       <b>-a</b> <u>archive</u>, <b>--archive</b>=<u>archive</u>
            Performance metric values are retrieved from the set of Performance  Co-Pilot  (PCP)  archive  files
            identified  by  the <u>archive</u> argument, which is a comma-separated list of names, each of which may be
            the base name of an archive or the name of a directory containing one or more archives.

       <b>-A</b> <u>align</u>, <b>--align</b>=<u>align</u>
            Force the initial sample to be aligned on the boundary of a  natural  time  unit  <u>align</u>.   Refer  to
            <b><a href="../man1/PCPIntro.1.html">PCPIntro</a></b>(1) for a complete description of the syntax for <u>align</u>.

       <b>-g</b>, <b>--guimode</b>
            Start <b>pmstat</b> as the client of a new <b><a href="../man1/pmtime.1.html">pmtime</a></b>(1) server process for replay of archived performance data
            using the <b><a href="../man1/pmtime.1.html">pmtime</a></b>(1) graphical user interface.

       <b>-h</b> <u>host</u>, <b>--host</b>=<u>host</u>
            Fetch performance metrics from <b><a href="../man1/pmcd.1.html">pmcd</a></b>(1) on <u>host</u>, rather than from the default localhost.

       <b>-H</b> <u>path</u>, <b>--hostsfile</b>=<u>path</u>
            Specify  the  <u>path</u>  to  a  file containing a set of hostnames where <b><a href="../man1/pmcd.1.html">pmcd</a></b>(1) is running , rather than
            using the default localhost.

       <b>-K</b> <u>spec</u>, <b>--spec-local</b>=<u>spec</u>
            When fetching metrics from a local context (see <b>-L</b>), the <b>-K</b> option may be used to  control  the  DSO
            PMDAs  that  should  be  made  accessible.   The  <u>spec</u>  argument conforms to the syntax described in
            <b><a href="../man3/pmSpecLocalPMDA.3.html">pmSpecLocalPMDA</a></b>(3).  More than one <b>-K</b> option may be used.

       <b>-l</b>, <u>--suffix</u>
            Prints the last 7 characters of a hostname in summaries involving more than one host (when more than
            one <b>-h</b> option has been specified on the command line).

       <b>-L</b>, <b>--local-PMDA</b>
            Use a local context to collect metrics from DSO PMDAs on the local host without PMCD.  See also <b>-K</b>.

       <b>-n</b> <u>pmnsfile</u>, <b>--namespace</b>=<u>pmnsfile</u>
            Load an alternative Performance Metrics Name Space (<b><a href="../man5/PMNS.5.html">PMNS</a></b>(5)) from the file <u>pmnsfile</u>.

       <b>-O</b> <u>origin</u>, <b>--origin</b>=<u>origin</u>
            When reporting archived metrics, start reporting at <u>origin</u> within the time window (see <b>-S</b>  and  <b>-T</b>).
            Refer to <b><a href="../man1/PCPIntro.1.html">PCPIntro</a></b>(1) for a complete description of the syntax for <u>origin</u>.

       <b>-p</b> <u>port</u>, <b>--guiport</b>=<u>port</u>
            Attach  <b>pmstat</b> to an existing <b><a href="../man1/pmtime.1.html">pmtime</a></b>(1) time control process instance via the IPC channel identified
            by the <u>port</u> argument.  This option is normally only used by other tools, e.g.  <b><a href="../man1/pmchart.1.html">pmchart</a></b>(1), when they
            launch <b>pmstat</b> with synchronized time control.

       <b>-P</b>, <b>--pause</b>
            Pause between updates for archive replay.

       <b>-s</b> <u>samples</u>, <b>--samples</b>=<u>samples</u>
            The <u>samples</u> option defines the number of samples to be retrieved and reported.  If <u>samples</u> is  0  or
            <b>-s</b> is not specified, <b>pmstat</b> will sample and report continuously - this is the default behavior.

       <b>-S</b> <u>starttime</u>, <b>--start</b>=<u>starttime</u>
            When  reporting  archived metrics, the report will be restricted to those records logged at or after
            <u>starttime</u>.  Refer to <b><a href="../man1/PCPIntro.1.html">PCPIntro</a></b>(1) for a complete description of the syntax for <u>starttime</u>.

       <b>-t</b> <u>interval</u>, <b>--interval</b>=<u>interval</u>
            Set the reporting <u>interval</u> to something other than the default 5  seconds.   The  <u>interval</u>  argument
            follows  the  syntax  described  in <b><a href="../man1/PCPIntro.1.html">PCPIntro</a></b>(1), and in the simplest form may be an unsigned integer
            (the implied units in this case are seconds).

       <b>-T</b> <u>endtime</u>, <b>--finish</b>=<u>endtime</u>
            When reporting archived metrics, the report will be restricted to those records logged before or  at
            <u>endtime</u>.

       <b>-V</b>, <b>--version</b>
            Display version number and exit.

       <b>-x</b>, <u>--xcpu</u>
            The extended CPU metrics option, causes three additional CPU metrics to be reported, namely wait for
            I/O ("wa"), virtualisation steal time ("st"), and virtual guest time ("gu").

       <b>-z</b>, <b>--hostzone</b>
            Change  the  reporting  timezone  to  the  local  timezone  at  the  host  that is the source of the
            performance metrics, as identified via either the <b>-h</b> or <b>-a</b> options.

       <b>-Z</b> <u>timezone</u>, <b>--timezone</b>=<u>timezone</u>
            By default, <b>pmtime</b> reports the time of day according to the  local  timezone  on  the  system  where
            <b>pmstat</b>  is  run.   The  <b>-Z</b>  option changes the timezone to <u>timezone</u> in the format of the environment
            variable TZ as described in <b><a href="../man7/environ.7.html">environ</a></b>(7).

       <b>-?</b>, <b>--help</b>
            Display usage message and exit.

</pre><h4><b>OUTPUT</b></h4><pre>
       The output from <b>pmstat</b> is directed to standard output, and the columns in the report are  interpreted  as
       follows:

       <b>loadavg</b>   The <u>1</u> <u>minute</u> load average.

       <b>memory</b>    The  <b>swpd</b>  column  indicates  average swap space used during the interval, in Kbytes.  The <b>free</b>
                 column indicates average free memory during the interval, in Kbytes.  The <b>buff</b> column indicates
                 average buffer memory in use during the  interval,  in  Kbytes.   The  <b>cache</b>  column  indicates
                 average cached memory in use during the interval, in Kbytes.

                 If the values become large, they are reported as Mbytes (<b>m</b> suffix) or Gbytes (<b>g</b> suffix).

       <b>swap</b>      The  metrics in this area of the kernel instrumentation are of varying value.  We try to report
                 the average number of <b>pages</b> that are paged in (<b>pi</b>) and out (<b>po</b>) per second during the interval.
                 If the corresponding page swapping metrics are unavailable, we  report  the  average  rate  per
                 second  of  swap  <b>operations</b>  in  (<b>si</b>)  and out (<b>so</b>) during the interval.  It is normal for the
                 ``in'' values to be non-zero, but the system is suffering memory stress if the  ``out''  values
                 are non-zero over an extended period.

                 If  the values become large, they are reported as thousands of operations per second (<b>K</b> suffix)
                 or millions of operations per second (<b>M</b> suffix).

       <b>io</b>        The <b>bi</b> and <b>bo</b> columns indicate the average rate per second of  block  input  and  block  output
                 operations  (respectfully)  during  the interval.  Unless all file systems have a 1 Kbyte block
                 size, these rates do not directly indicate Kbytes transferred.

                 If the values become large, they are reported as thousands of operations per second (<b>K</b>  suffix)
                 or millions of operations per second (<b>M</b> suffix).

       <b>system</b>    Interrupt  rate  (<b>in</b>)  and context switch rate (<b>cs</b>).  Rates are expressed as average operations
                 per second during the interval.  Note that the interrupt rate is  normally  at  least  <u>HZ</u>  (the
                 clock interrupt rate, usually 100) interrupts per second.

                 If  the values become large, they are reported as thousands of operations per second (<b>K</b> suffix)
                 or millions of operations per second (<b>M</b> suffix).

       <b>cpu</b>       Percentage of CPU time spent executing user and "nice user" code  (<b>us</b>),  system  and  interrupt
                 processing code (<b>sy</b>), idle loop (<b>id</b>).

       If  any  values for the associated performance metrics are unavailable, the value appears as ``?'' in the
       output.

</pre><h4><b>FILES</b></h4><pre>
       <u>$PCP_VAR_DIR/pmns/*</u>
            default PMNS specification files

       <u>$PCP_VAR_DIR/config/pmlogger/config.pmstat</u>
            <b><a href="../man1/pmlogger.1.html">pmlogger</a></b>(1) configuration for creating an archive suitable for replay with <b>pmstat</b>

</pre><h4><b>PCP</b> <b>ENVIRONMENT</b></h4><pre>
       Environment variables with the prefix <b>PCP_</b> are used to parameterize the file and directory names used  by
       PCP.   On  each  installation, the file <u>/etc/pcp.conf</u> contains the local values for these variables.  The
       <b>$PCP_CONF</b> variable may be used to specify an alternative configuration file, as described in <b><a href="../man5/pcp.conf.5.html">pcp.conf</a></b>(5).

       For environment variables affecting PCP tools, see <b><a href="../man3/pmGetOptions.3.html">pmGetOptions</a></b>(3).

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man1/PCPIntro.1.html">PCPIntro</a></b>(1), <b><a href="../man1/pmclient.1.html">pmclient</a></b>(1), <b><a href="../man1/pmtime.1.html">pmtime</a></b>(1), <b><a href="../man3/PMAPI.3.html">PMAPI</a></b>(3), <b><a href="../man3/pmNewContext.3.html">pmNewContext</a></b>(3), <b><a href="../man5/pcp.conf.5.html">pcp.conf</a></b>(5), <b><a href="../man5/pcp.env.5.html">pcp.env</a></b>(5) and <b><a href="../man5/PMNS.5.html">PMNS</a></b>(5).

Performance Co-Pilot                                   PCP                                             <u><a href="../man1/PMSTAT.1.html">PMSTAT</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>