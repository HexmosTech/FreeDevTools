<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>stubby - a local DNS Privacy stub resolver</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/stubby">stubby_1.6.0-3.2_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       stubby - a local DNS Privacy stub resolver

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>stubby</b> [<b>-C</b> <u>file</u>] [<b>-ghilV</b>] [<b>-v</b> <u>loglevel</u>]

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>stubby</b>  acts  as  a local DNS Privacy stub resolver, using DNS-over-TLS. Stubby encrypts DNS queries sent
       from the local machine to a DNS Privacy resolver, increasing end user privacy.

       <b>stubby</b> is in the early stages of development but is suitable for technical/advanced users.

       <b>stubby</b> provides DNS Privacy by running as a daemon that listens on the loopback address for DNS  queries,
       and  forwards  those queries out over TLS.  The default configuration provides Strict Privacy, and uses a
       subset           of           available           DNS           Privacy           servers.            See
       <u>https://dnsprivacy.org/wiki/display/DP/DNS+Privacy+Test+Servers</u>

</pre><h4><b>OPTIONS</b></h4><pre>
       <b>-C</b> <u>file</u>
              Read  settings  from  the configuration file <u>file</u>. If this option is not given, <b>stubby</b> looks for a
              configuration file at <u><a href="file:~/.stubby.yml">~/.stubby.yml</a></u>.  If this is not present, <b>stubby</b>  falls  back  to  the  global
              configuration file <u>/etc/stubby/stubby.yml</u>.

       <b>-g</b>     Run <b>stubby</b> as a daemon.

       <b>-h</b>     Print a usage message and exit.

       <b>-i</b>     Read the configuration, validate the contents, pretty-print them to the standard output and exit.

       <b>-l</b>     Enable all logging. Equivalent to <b>-v</b> <b>7</b>.

       <b>-v</b> <u>loglevel</u>
              Enable logging. All logging messages at or below <u>loglevel</u> are printed to standard error:

              0: EMERG
                     The system is unusable

              1: ALERT
                     Action must be taken immediately

              2: CRIT
                     Critical conditions

              3: ERROR
                     Error conditions

              4: WARN
                     Warning conditions

              5: NOTICE
                     Normal, but significant, conditions

              6: INFO
                     Information messages

              7: DEBUG
                     Debug-level messages

       <b>-V</b>     Print the <b>stubby</b> version and exit.

</pre><h4><b>CONFIGURATION</b></h4><pre>
       The configuration file is in YAML. An example config is:

              resolution_type: GETDNS_RESOLUTION_STUB
              dns_transport_list:
                - GETDNS_TRANSPORT_TLS
              tls_authentication: GETDNS_AUTHENTICATION_REQUIRED
              tls_query_padding_blocksize: 256
              edns_client_subnet_private : 1
              idle_timeout: 10000
              listen_addresses:
                - 127.0.0.1
                -  0::1
              round_robin_upstreams: 1
              upstream_recursive_servers:
                - address_data: 145.100.185.15
                  tls_auth_name: "dnsovertls.sinodun.com"
                  tls_pubkey_pinset:
                    - digest: "sha256"
                      value: 62lKu9HsDVbyiPenApnc4sfmSYTHOVfFgL3pyB+cBL4=
                - address_data: 145.100.185.16
                  tls_auth_name: "dnsovertls1.sinodun.com"
                  tls_pubkey_pinset:
                    - digest: "sha256"
                      value: cE2ecALeE5B+urJhDrJlVFmf38cJLAvqekONvjvpqUA=
                - address_data: 185.49.141.37
                  tls_auth_name: "getdnsapi.net"
                  tls_pubkey_pinset:
                    - digest: "sha256"
                      value: foxZRnIh9gZpWnl+zEiKa0EJ2rdCGroMWm02gaxSc9Q=
                - address_data: 2001:610:1:40ba:145:100:185:15
                  tls_auth_name: "dnsovertls.sinodun.com"
                  tls_pubkey_pinset:
                    - digest: "sha256"
                      value: 62lKu9HsDVbyiPenApnc4sfmSYTHOVfFgL3pyB+cBL4=
                - address_data: 2001:610:1:40ba:145:100:185:16
                  tls_auth_name: "dnsovertls1.sinodun.com"
                  tls_pubkey_pinset:
                    - digest: "sha256"
                      value: cE2ecALeE5B+urJhDrJlVFmf38cJLAvqekONvjvpqUA=
                - address_data: 2a04:b900:0:100::38
                  tls_auth_name: "getdnsapi.net"
                  tls_pubkey_pinset:
                    - digest: "sha256"
                      value: foxZRnIh9gZpWnl+zEiKa0EJ2rdCGroMWm02gaxSc9Q=

       The  configuration  items  are  as  follow.  Some take constant values from the <b>getdns</b> library underlying
       <b>stubby</b> and further explanation  of  their  values  may  be  found  in  the  <b>getdns</b>  documentation  or  at
       <u><a href="http://www.getdnsapi.net">http://www.getdnsapi.net</a></u>

       <b>resolution_type</b> <u>resolution</u>.
              This  must  be set to <u>GETDNS_RESOLUTION_STUB</u> for historic reasons.  <b>stubby</b> will exit with an error
              if any other setting is used.

       <b>dns_transport_list</b> <u>list</u>
              Set  the  list  of  transport  types  to  be  used.  For  DNS  Privacy  this  must   be   set   to
              <u>GETDNS_TRANSPORT_TLS</u>. Clear text transports are <u>GETDNS_TRANSPORT_TCP</u> and <u>GETDNS_TRANSPORT_UDP</u>

       <b>tls_authentication</b> <u>type</u>
              Set   the   type   of  authentication  required.  For  Strict  Privacy,  this  should  be  set  to
              <u>GETDNS_AUTHENTICATION_REQUIRED</u>.  For  Opportunistic  mode,  remove  this   setting   or   set   to
              <u>GETDNS_AUTHENTICATION_NONE</u>.   In  Opportunistic  mode  authentication  of  the  nameserver  is not
              required and fallback to clear text transports is permitted if they are in <u>dns_transport_list</u>

       <b>tls_query_padding_blocksize</b> <u>blocksize</u>
              Use the EDNS0 padding option to pad DNS queries to hide their size.

       <b>edns_client_subnet_private</b> <u>0</u> or <u>1</u>
              If 1, use EDNS0 Client Subnet privacy so the client s ubnet is not sent to authoritative servers.

       <b>idle_timeout</b> <u>timeout</u>
              Use an EDNS0 Keepalive idle timeout of <u>timeout</u> milliseconds unless overridden by the server.  This
              keeps idle TLS connections open to avoid the overhead of opening a new connection for every query.

       <b>round_robin_upstreams</b> <u>0</u> or <u>1</u>
              If  1,  round robin queries across all the configured upstream servers. Without this option <b>stubby</b>
              will use each upstream server sequentially until it becomes unavailable and then move  on  to  use
              the next.

       <b>upstream_recursive_servers</b> <u>server</u> <u>list</u>
              Specify  the  upstream servers that <b>stubby</b> is to use. Each item in the list contains the following
              items:

              <b>address_data</b> <u>address</u>
                     IPv4 or IPv6 address of the server.

              <b>tls_auth_name</b> <u>name</u>
                     This is the authentication  domain  name  that  will  be  verified  against  the  presented
                     certificate.

              <b>tls_pubkey_pinset</b> <u>pinset</u>
                     The  sha256  SPKI  pinset  for  the  server.  This  is  also verified against the presented
                     certificate. This contains two items:

                     <b>digest</b> <u>type</u>
                            The type of the key digest.

                     <b>value</b> <u>keyval</u>
                            The key value.

</pre><h4><b>FILES</b></h4><pre>
       <u><a href="file:~/.stubby.yml">~/.stubby.yml</a></u>
       <u>/etc/stubby/stubby.yml</u>

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <u>https://getdnsapi.net/</u>
       <u>https://dnsprivacy.org/wiki/display/DP/DNS+Privacy+Daemon+-+Stubby</u>

                                                                                                       <u><a href="../man1/STUBBY.1.html">STUBBY</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>