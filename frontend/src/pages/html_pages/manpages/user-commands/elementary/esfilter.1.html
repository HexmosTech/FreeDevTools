<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>esfilter — Output a filtered or truncated version of an elementary stream</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/tstools">tstools_1.13~git20151030-6_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       esfilter — Output a filtered or truncated version of an elementary stream

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>esfilter</b>  <b>-copy</b>  |  <b>-filter</b>  |  <b>-strip</b>  [<b>-err</b>  <b>stdout</b>]  [<b>-err</b>  <b>stderr</b>]  [<b>-verbose</b>  |  <b>-v</b>]  [<b>-quiet</b>  | <b>-q</b>]
                [<b>-host</b> <u>dest_ip</u>[:<u>port</u>]] [<b>-max</b>  <u>max_frames</u>  |  <b>-m</b>  <u>max_frames</u>]  [<b>-freq</b>  <u>keep_frequency</u>]  [<b>-allref</b>]
                [<b>-tsout</b>] [<b>-pes</b> | <b>-ts</b>] [<b>-h264</b> | <b>-avc</b> | <b>-h262</b>] <u>in_file</u> | <b>-stdin</b> <u>out_file</u> | <b>-stdout</b>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       Output  a  filtered or truncated version of an elementary stream.  The input is either H.264 (MPEG-4/AVC)
       or H.262 (MPEG-2).  The output is either an elementary stream, or an H.222 transport stream

       If output is to an H.222 Transport Stream, then fixed values for the PMT PID (0x66) and video PID  (0x68)
       are used.

   <b>Files</b>
       <u>in_file</u>
               is the input elementary stream (but see <b>-stdin</b> below).

       <u>out_file</u>
               is  the  output stream, either an equivalent elementary stream, or an H.222 Transport Stream (but
               see <b>-stdout</b> and <b>-host</b> below).

   <b>Actions</b>
       <b>-copy</b>   Copy the input data to the output file (mostly useful as a way of truncating data with <b>-max</b>)

       <b>-filter</b>
               Filter  data  from  input  to  output,  aiming  to  keep  every  <u>keep_frequency</u>th  frame   (where
               <u>keep_frequency</u> is specified by <b>-freq</b>).

       <b>-strip</b>  For  H.264,  output  just  the IDR and I pictures, for H.262, output just the I pictures, but see
               <b>-allref</b> below.

   <b>Switches</b>
       <b>-err</b> <b>stdout</b>
               Write error messages to standard output (the default)

       <b>-err</b> <b>stderr</b>
               Write error messages to standard error (Unix traditional)

       <b>-stdin</b>  Input from standard input, instead of a file

       <b>-v</b>, <b>-verbose</b>
               Output extra information about packets

       <b>-q</b>, <b>-quiet</b>
               Only output error messages

       <b>-host</b> <u>dest_ip</u>[:<u>port</u>]
               Writes output (over TCP/IP) to the named <u>host</u>, instead of  to  a  named  file.  If  <u>port</u>  is  not
               specified, it defaults to 88. Implies <b>-tsout</b>.

       <b>-max</b> <u>max_frames</u>, <b>-m</b> <u>max_frames</u>
               Maximum number of frames to read (for <b>-filter</b> and <b>-strip</b>), or ES units/NAL units (for <b>-copy</b>).

       <b>-freq</b> <u>keep_frequency</u>
               Specify the frequency of frames to try to keep with -filter. Defaults to 8.

       <b>-allref</b>
               With <b>-strip</b>, keep all reference pictures (H.264) or all I and P pictures (H.262)

       <b>-tsout</b>  Output data as Transport Stream PES packets (the default is as Elementary Stream)

       <b>-pes</b>, <b>-ts</b>
               The  input  file  is  TS  or  PS, to be read via the PES-&gt;ES reading mechanisms. Not allowed with
               <b>-stdin</b>.

   <b>Stream</b> <b>type:</b>
       If input is from a file, then the program will look at the start of the file to determine if  the  stream
       is  H.264  or  H.262  data. This process may occasionally come to the wrong conclusion, in which case the
       user can override the choice using the following switches.

       If input is from standard input (via -stdin), then it is not possible for the program  to  make  its  own
       decision  on  the input stream type.  Instead, it defaults to H.262, and relies on the user indicating if
       this is wrong.

       <b>-h264</b>, <b>-avc</b>
               Force the program to treat the input as MPEG-4/AVC.

       <b>-h262</b>   Force the program to treat the input as MPEG-2.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <u><a href="../man1/esdots.1.html">esdots</a></u>(1),

Debian                                          October 28, 2015                                     <u><a href="../man1/ESFILTER.1.html">ESFILTER</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>