<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>notmuch-insert - add a message to the maildir and notmuch database</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/notmuch">notmuch_0.38.3-5ubuntu1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       notmuch-insert - add a message to the maildir and notmuch database

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>notmuch</b> <b>insert</b> [option ...] [+&lt;<u>tag</u>&gt;|-&lt;<u>tag</u>&gt; ...]

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>notmuch</b>  <b>insert</b>  reads  a message from standard input and delivers it into the maildir directory given by
       configuration option <u>database.mail_root</u>, then incorporates the message into the notmuch database.  It  is
       an alternative to using a separate tool to deliver the message then running <u>notmuch-new</u> afterwards.

       The  new  message  will  be  tagged with the tags specified by the <u>new.tags</u> configuration option, then by
       operations specified on the command-line: tags prefixed by '+' are added while those prefixed by '-'  are
       removed.

       If  the  new  message  is a duplicate of an existing message in the database (it has same Message-ID), it
       will be added to the maildir folder and notmuch database, but the tags will not be changed.

       The <b>insert</b> command supports hooks. See <u>notmuch-hooks</u> for more details on hooks.

       Option arguments must appear before any tag operation arguments.  Supported options for <b>insert</b> include

       <b>--folder=&lt;folder&gt;</b>
              Deliver the message to the specified folder, relative to the  top-level  directory  given  by  the
              value  of  <u>database.mail_root</u>.  The  default  is  the  empty string, which means delivering to the
              top-level directory.

       <b>--create-folder</b>
              Try to create the folder named by the <b>--folder</b> option, if it does not exist. Otherwise the  folder
              must already exist for mail delivery to succeed.

       <b>--keep</b> Keep  the message file if indexing fails, and keep the message indexed if applying tags or maildir
              flag synchronization fails. Ignore these errors and return exit status 0  to  indicate  successful
              mail delivery.

       <b>--no-hooks</b>
              Prevent hooks from being run.

       <b>--world-readable</b>
              When  writing mail to the mailbox, allow it to be read by users other than the current user.  Note
              that this does not override umask.  By default, delivered mail is only  readable  by  the  current
              user.

       <b>--decrypt=(true|nostash|auto|false)</b>
              If  <b>true</b>  and  the  message  is encrypted, try to decrypt the message while indexing, stashing any
              session keys discovered.  If <b>auto</b>, and notmuch already knows about a session key for the  message,
              it  will  try decrypting using that session key but will not try to access the user's secret keys.
              If decryption is successful, index the cleartext itself.  Either way, the message is always stored
              to disk in its original form (ciphertext).

              <b>nostash</b> is the same as <b>true</b> except that it will not stash newly-discovered  session  keys  in  the
              database.

              Be  aware  that the index is likely sufficient (and a stashed session key is certainly sufficient)
              to reconstruct the cleartext of the message itself, so please  ensure  that  the  notmuch  message
              index  is adequately protected. DO NOT USE <b>--decrypt=true</b> or <b>--decrypt=nostash</b> without considering
              the security of your index.

              See also <u>index.decrypt</u> in <u>notmuch-config</u>.

</pre><h4><b>CONFIGURATION</b></h4><pre>
       Indexing is influenced by the configuration options <u>index.decrypt</u> and <u>index.header.&lt;prefix&gt;</u>.  Tagging  is
       controlled by options <u>new.tags</u> and <u>maildir.synchronize_flags</u>.  See <u>notmuch-config</u> for details.

</pre><h4><b>EXIT</b> <b>STATUS</b></h4><pre>
       This  command  returns  exit  status 0 on successful mail delivery, non-zero otherwise. The default is to
       indicate failed mail delivery on any errors, including message file delivery to the  filesystem,  message
       indexing  to  Notmuch database, changing tags, and synchronizing tags to maildir flags. The <b>--keep</b> option
       may be used to settle for successful message file delivery.

       This command supports the following special exit status code for errors most likely to  be  temporary  in
       nature, e.g. failure to get a database write lock.

       <b>75</b> <b>(EX_TEMPFAIL)</b>
              A temporary failure occurred; the user is invited to retry.

       The exit status of the <b>post-insert</b> hook does not affect the exit status of the <b>insert</b> command.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <u>notmuch</u>,  <u>notmuch-config</u>,  <u>notmuch-count</u>,  <u>notmuch-dump</u>,  <u>notmuch-hooks</u>,  <u>notmuch-reply</u>, <u>notmuch-restore</u>,
       <u>notmuch-search</u>, <u>notmuch-search-terms</u>, <u>notmuch-show</u>, <u>notmuch-tag</u>

</pre><h4><b>AUTHOR</b></h4><pre>
       Carl Worth and many others

</pre><h4><b>COPYRIGHT</b></h4><pre>
       2009-2024, Carl Worth and many others

0.38.3                                            Mar 11, 2025                                 <u><a href="../man1/NOTMUCH-INSERT.1.html">NOTMUCH-INSERT</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>