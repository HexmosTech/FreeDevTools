<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>t.rast.aggregate   -  Aggregates  temporally  the  maps  of a space time raster dataset by a user defined</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/grass-doc">grass-doc_8.4.1-1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       <b>t.rast.aggregate</b>   -  Aggregates  temporally  the  maps  of a space time raster dataset by a user defined
       granularity.

</pre><h4><b>KEYWORDS</b></h4><pre>
       temporal, aggregation, raster, time

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>t.rast.aggregate</b>
       <b>t.rast.aggregate</b> <b>--help</b>
       <b>t.rast.aggregate</b>  [-<b>n</b>]  <b>input</b>=<u>name</u>  <b>output</b>=<u>name</u>  <b>basename</b>=<u>string</u>    [<b>suffix</b>=<u>string</u>]    <b>granularity</b>=<u>string</u>
       <b>method</b>=<u>string</u>   [<b>offset</b>=<u>integer</u>]    [<b>nprocs</b>=<u>integer</u>]    [<b>file_limit</b>=<u>integer</u>]   [<b>sampling</b>=<u>name</u>[,<u>name</u>,...]]
       [<b>where</b>=<u>sql_query</u>]   [--<b>overwrite</b>]  [--<b>help</b>]  [--<b>verbose</b>]  [--<b>quiet</b>]  [--<b>ui</b>]

   <b>Flags:</b>
       <b>-n</b>
           Register Null maps

       <b>--overwrite</b>
           Allow output files to overwrite existing files

       <b>--help</b>
           Print usage summary

       <b>--verbose</b>
           Verbose module output

       <b>--quiet</b>
           Quiet module output

       <b>--ui</b>
           Force launching GUI dialog

   <b>Parameters:</b>
       <b>input</b>=<u>name</u> <b>[required]</b>
           Name of the input space time raster dataset

       <b>output</b>=<u>name</u> <b>[required]</b>
           Name of the output space time raster dataset

       <b>basename</b>=<u>string</u> <b>[required]</b>
           Basename of the new generated output maps
           Either a numerical suffix or the start time (s-flag) separated by an underscore will be  attached  to
           create a unique identifier

       <b>suffix</b>=<u>string</u>
           Suffix  to  add  at  basename: set ’gran’ for granularity, ’time’ for the full time format, ’num’ for
           numerical suffix with a specific number of digits (default %05)
           Default: <u>gran</u>

       <b>granularity</b>=<u>string</u> <b>[required]</b>
           Aggregation granularity, format absolute time "x years, x  months,  x  weeks,  x  days,  x  hours,  x
           minutes, x seconds" or an integer value for relative time

       <b>method</b>=<u>string</u> <b>[required]</b>
           Aggregate operation to be performed on the raster maps
           Options:  <u>average,</u> <u>count,</u> <u>median,</u> <u>mode,</u> <u>minimum,</u> <u>min_raster,</u> <u>maximum,</u> <u>max_raster,</u> <u>stddev,</u> <u>range,</u> <u>sum,</u>
           <u>variance,</u> <u>diversity,</u> <u>slope,</u> <u>offset,</u> <u>detcoeff,</u> <u>quart1,</u> <u>quart3,</u> <u>perc90,</u> <u>quantile,</u> <u>skewness,</u> <u>kurtosis</u>
           Default: <u>average</u>

       <b>offset</b>=<u>integer</u>
           Offset that is used to create the output map ids, output map id is generated as: basename_  (count  +
           offset)
           Default: <u>0</u>

       <b>nprocs</b>=<u>integer</u>
           Number of r.series processes to run in parallel
           Default: <u>1</u>

       <b>file_limit</b>=<u>integer</u>
           The maximum number of open files allowed for each r.series process
           Default: <u>1000</u>

       <b>sampling</b>=<u>name[,name</u>,...]
           The method to be used for sampling the input dataset
           Options: <u>equal,</u> <u>overlaps,</u> <u>overlapped,</u> <u>starts,</u> <u>started,</u> <u>finishes,</u> <u>finished,</u> <u>during,</u> <u>contains</u>
           Default: <u>contains</u>

       <b>where</b>=<u>sql_query</u>
           WHERE conditions of SQL statement without ’where’ keyword used in the temporal GIS framework
           Example: start_time &gt; ’2001-01-01 12:30:00’

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <u>t.rast.aggregate</u>  temporally  aggregates  space  time raster datasets by a specific temporal granularity.
       This module support <u>absolute</u> and <u>relative</u> <u>time</u>. The temporal granularity of absolute time can be <u>seconds,</u>
       <u>minutes,</u> <u>hours,</u> <u>days,</u> <u>weeks,</u> <u>months</u> or <u>years</u>. Mixing of granularities eg. "1 year, 3 months  5  days"  is
       not supported. In case of relative time the temporal unit of the input space time raster dataset is used.
       The granularity must be specified with an integer value.

       This  module  is  sensitive  to  the  current  region and mask settings, hence spatial extent and spatial
       resolution. In case the registered raster maps of the input space  time  raster  dataset  have  different
       spatial  resolutions,  the  default  nearest  neighbor  resampling  method  is  used  for runtime spatial
       aggregation.

</pre><h4><b>NOTES</b></h4><pre>
       The raster module <u>r.series</u> is used internally. Hence all aggregate methods of <u>r.series</u> are supported. See
       the r.series manual page for details.

       This module will shift the start date for each aggregation process depending  on  the  provided  temporal
       granularity. The following shifts will performed:

           •   <u>granularity</u>  <u>years</u>: will start at the first of January, hence 14-08-2012 00:01:30 will be shifted
               to 01-01-2012 00:00:00

           •   <u>granularity</u> <u>months</u>: will start at the first day of a month, hence 14-08-2012 will be  shifted  to
               01-08-2012 00:00:00

           •   <u>granularity</u> <u>weeks</u>: will start at the first day of a week (Monday), hence 14-08-2012 01:30:30 will
               be shifted to 13-08-2012 01:00:00

           •   <u>granularity</u>  <u>days</u>:  will  start  at  the  first  hour of a day, hence 14-08-2012 00:01:30 will be
               shifted to 14-08-2012 00:00:00

           •   <u>granularity</u> <u>hours</u>: will start at the first minute of a hour, hence 14-08-2012  01:30:30  will  be
               shifted to 14-08-2012 01:00:00

           •   <u>granularity</u>  <u>minutes</u>:  will start at the first second of a minute, hence 14-08-2012 01:30:30 will
               be shifted to 14-08-2012 01:30:00

       The specification of the temporal relation between the aggregation intervals and the raster map layers is
       always formulated from the aggregation interval  viewpoint.  Hence,  the  relation  <u>contains</u>  has  to  be
       specified to aggregate map layer that are temporally located in an aggregation interval.

       Parallel  processing  is  supported  in  case  that  more  than one interval is available for aggregation
       computation. Internally several <u>r.series</u> modules will be started, depending on the  number  of  specified
       parallel processes (<u>nprocs</u>) and the number of intervals to aggregate.

</pre><h4><b>EXAMPLES</b></h4><pre>
   <b>Aggregation</b> <b>of</b> <b>monthly</b> <b>data</b> <b>into</b> <b>yearly</b> <b>data</b>
       In this example the user is going to aggregate monthly data into yearly data, running:
       t.rast.aggregate input=tempmean_monthly output=tempmean_yearly \
                        basename=tempmean_year \
                        granularity="1 years" method=average
       t.support input=tempmean_yearly \
                 title="Yearly precipitation" \
                 description="Aggregated precipitation dataset with yearly resolution"
       t.info tempmean_yearly
        +-------------------- Space Time Raster Dataset -----------------------------+
        |                                                                            |
        +-------------------- Basic information -------------------------------------+
        | Id: ........................ tempmean_yearly@climate_2000_2012
        | Name: ...................... tempmean_yearly
        | Mapset: .................... climate_2000_2012
        | Creator: ................... lucadelu
        | Temporal type: ............. absolute
        | Creation time: ............. 2014-11-27 10:25:21.243319
        | Modification time:.......... 2014-11-27 10:25:21.862136
        | Semantic type:.............. mean
        +-------------------- Absolute time -----------------------------------------+
        | Start time:................. 2009-01-01 00:00:00
        | End time:................... 2013-01-01 00:00:00
        | Granularity:................ 1 year
        | Temporal type of maps:...... interval
        +-------------------- Spatial extent ----------------------------------------+
        | North:...................... 320000.0
        | South:...................... 10000.0
        | East:.. .................... 935000.0
        | West:....................... 120000.0
        | Top:........................ 0.0
        | Bottom:..................... 0.0
        +-------------------- Metadata information ----------------------------------+
        | Raster register table:...... raster_map_register_514082e62e864522a13c8123d1949dea
        | North-South resolution min:. 500.0
        | North-South resolution max:. 500.0
        | East-west resolution min:... 500.0
        | East-west resolution max:... 500.0
        | Minimum value min:.......... 7.370747
        | Minimum value max:.......... 8.81603
        | Maximum value min:.......... 17.111387
        | Maximum value max:.......... 17.915511
        | Aggregation type:........... average
        | Number of registered maps:.. 4
        |
        | Title: Yearly precipitation
        | Monthly precipitation
        | Description: Aggregated precipitation dataset with yearly resolution
        | Dataset with monthly precipitation
        | Command history:
        | # 2014-11-27 10:25:21
        | t.rast.aggregate input="tempmean_monthly"
        |     output="tempmean_yearly" basename="tempmean_year" granularity="1 years"
        |     method="average"
        |
        | # 2014-11-27 10:26:21
        | t.support input=tempmean_yearly \
        |        title="Yearly precipitation" \
        |        description="Aggregated precipitation dataset with yearly resolution"
        +----------------------------------------------------------------------------+

   <b>Different</b> <b>aggregations</b> <b>and</b> <b>map</b> <b>name</b> <b>suffix</b> <b>variants</b>
       Examples of resulting naming schemes for different aggregations when using the <b>suffix</b> option:

   <b>Weekly</b> <b>aggregation</b>
       t.rast.aggregate input=daily_temp output=weekly_avg_temp \
         basename=weekly_avg_temp method=average granularity="1 weeks"
       t.rast.list weekly_avg_temp
       name|mapset|start_time|end_time
       weekly_avg_temp_2003_01|climate|2003-01-03 00:00:00|2003-01-10 00:00:00
       weekly_avg_temp_2003_02|climate|2003-01-10 00:00:00|2003-01-17 00:00:00
       weekly_avg_temp_2003_03|climate|2003-01-17 00:00:00|2003-01-24 00:00:00
       weekly_avg_temp_2003_04|climate|2003-01-24 00:00:00|2003-01-31 00:00:00
       weekly_avg_temp_2003_05|climate|2003-01-31 00:00:00|2003-02-07 00:00:00
       weekly_avg_temp_2003_06|climate|2003-02-07 00:00:00|2003-02-14 00:00:00
       weekly_avg_temp_2003_07|climate|2003-02-14 00:00:00|2003-02-21 00:00:00
       Variant with <b>suffix</b> set to granularity:
       t.rast.aggregate input=daily_temp output=weekly_avg_temp \
         basename=weekly_avg_temp suffix=gran method=average \
         granularity="1 weeks"
       t.rast.list weekly_avg_temp
       name|mapset|start_time|end_time
       weekly_avg_temp_2003_01_03|climate|2003-01-03 00:00:00|2003-01-10 00:00:00
       weekly_avg_temp_2003_01_10|climate|2003-01-10 00:00:00|2003-01-17 00:00:00
       weekly_avg_temp_2003_01_17|climate|2003-01-17 00:00:00|2003-01-24 00:00:00
       weekly_avg_temp_2003_01_24|climate|2003-01-24 00:00:00|2003-01-31 00:00:00
       weekly_avg_temp_2003_01_31|climate|2003-01-31 00:00:00|2003-02-07 00:00:00
       weekly_avg_temp_2003_02_07|climate|2003-02-07 00:00:00|2003-02-14 00:00:00
       weekly_avg_temp_2003_02_14|climate|2003-02-14 00:00:00|2003-02-21 00:00:00

   <b>Monthly</b> <b>aggregation</b>
       t.rast.aggregate input=daily_temp output=monthly_avg_temp \
         basename=monthly_avg_temp suffix=gran method=average \
         granularity="1 months"
       t.rast.list monthly_avg_temp
       name|mapset|start_time|end_time
       monthly_avg_temp_2003_01|climate|2003-01-01 00:00:00|2003-02-01 00:00:00
       monthly_avg_temp_2003_02|climate|2003-02-01 00:00:00|2003-03-01 00:00:00
       monthly_avg_temp_2003_03|climate|2003-03-01 00:00:00|2003-04-01 00:00:00
       monthly_avg_temp_2003_04|climate|2003-04-01 00:00:00|2003-05-01 00:00:00
       monthly_avg_temp_2003_05|climate|2003-05-01 00:00:00|2003-06-01 00:00:00
       monthly_avg_temp_2003_06|climate|2003-06-01 00:00:00|2003-07-01 00:00:00

   <b>Yearly</b> <b>aggregation</b>
       t.rast.aggregate input=daily_temp output=yearly_avg_temp \
         basename=yearly_avg_temp suffix=gran method=average \
         granularity="1 years"
       t.rast.list yearly_avg_temp
       name|mapset|start_time|end_time
       yearly_avg_temp_2003|climate|2003-01-01 00:00:00|2004-01-01 00:00:00
       yearly_avg_temp_2004|climate|2004-01-01 00:00:00|2005-01-01 00:00:00

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
        <u>t.rast.aggregate.ds,</u> <u>t.rast.extract,</u> <u>t.info,</u> <u>r.series,</u> <u>g.region,</u> <u>r.mask</u>

       Temporal data processing Wiki

</pre><h4><b>AUTHOR</b></h4><pre>
       Sören Gebbert, Thünen Institute of Climate-Smart Agriculture

</pre><h4><b>SOURCE</b> <b>CODE</b></h4><pre>
       Available at: t.rast.aggregate source code (history)

       Accessed: Friday Apr 04 01:21:14 2025

       Main index | Temporal index | Topics index | Keywords index | Graphical index | Full index

       © 2003-2025 GRASS Development Team, GRASS GIS 8.4.1 Reference Manual

GRASS 8.4.1                                                                             <u><a href="../man1grass/t.rast.aggregate.1grass.html">t.rast.aggregate</a></u>(1grass)
</pre>
 </div>
</div></section>
</div>
</body>
</html>