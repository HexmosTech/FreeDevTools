<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>t.rast.neighbors  - Performs a neighborhood analysis for each map in a space time raster dataset.</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/grass-doc">grass-doc_8.4.1-1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       <b>t.rast.neighbors</b>  - Performs a neighborhood analysis for each map in a space time raster dataset.

</pre><h4><b>KEYWORDS</b></h4><pre>
       temporal, aggregation, raster, time

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>t.rast.neighbors</b>
       <b>t.rast.neighbors</b> <b>--help</b>
       <b>t.rast.neighbors</b>   [-<b>nr</b>]   <b>input</b>=<u>name</u>   <b>output</b>=<u>name</u>   [<b>where</b>=<u>sql_query</u>]    [<b>size</b>=<u>integer</u>]   <b>method</b>=<u>string</u>
       <b>basename</b>=<u>string</u>  [<b>suffix</b>=<u>string</u>]   [<b>semantic_labels</b>=<u>string</u>]   [<b>nprocs</b>=<u>integer</u>]   [--<b>overwrite</b>]   [--<b>help</b>]
       [--<b>verbose</b>]  [--<b>quiet</b>]  [--<b>ui</b>]

   <b>Flags:</b>
       <b>-n</b>
           Register Null maps

       <b>-r</b>
           Ignore the current region settings and use the raster map regions

       <b>--overwrite</b>
           Allow output files to overwrite existing files

       <b>--help</b>
           Print usage summary

       <b>--verbose</b>
           Verbose module output

       <b>--quiet</b>
           Quiet module output

       <b>--ui</b>
           Force launching GUI dialog

   <b>Parameters:</b>
       <b>input</b>=<u>name</u> <b>[required]</b>
           Name of the input space time raster dataset

       <b>output</b>=<u>name</u> <b>[required]</b>
           Name of the output space time raster dataset

       <b>where</b>=<u>sql_query</u>
           WHERE conditions of SQL statement without ’where’ keyword used in the temporal GIS framework
           Example: start_time &gt; ’2001-01-01 12:30:00’

       <b>size</b>=<u>integer</u>
           Neighborhood size
           Default: <u>3</u>

       <b>method</b>=<u>string</u> <b>[required]</b>
           Aggregate operation to be performed on the raster maps
           Options:  <u>average,</u>  <u>median,</u>  <u>mode,</u>  <u>minimum,</u> <u>maximum,</u> <u>range,</u> <u>stddev,</u> <u>sum,</u> <u>count,</u> <u>variance,</u> <u>diversity,</u>
           <u>interspersion,</u> <u>quart1,</u> <u>quart3,</u> <u>perc90,</u> <u>quantile</u>
           Default: <u>average</u>

       <b>basename</b>=<u>string</u> <b>[required]</b>
           Basename of the new generated output maps
           A numerical suffix separated by an underscore will be attached to create a unique identifier

       <b>suffix</b>=<u>string</u>
           Suffix to add at basename: set ’gran’ for granularity, ’time’ for the full  time  format,  ’num’  for
           numerical suffix with a specific number of digits (default %05)
           Default: <u>gran</u>

       <b>semantic_labels</b>=<u>string</u>
           Set semantic labels
           Options: <u>input,</u> <u>method</u>
           Default: <u>input</u>
           <b>input</b>: copy semantic labels from input to output
           <b>method</b>: append method name to input label if existing, otherwise use method name

       <b>nprocs</b>=<u>integer</u>
           Number of r.neighbor processes to run in parallel
           Default: <u>1</u>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <u>t.rast.neighbors</u>  performs  r.neighbors  computations on the maps of a space time raster dataset (STRDS).
       This module supports a subset of options that are available in r.neighbors. The size of the  neighborhood
       and the aggregation method can be chosen.

       The  user must provide an input and an output space time raster dataset and the basename of the resulting
       raster maps. The resulting STRDS will have the same temporal resolution as the input dataset.   All  maps
       will be processed using the current region settings.

       The  user  can  select  a  subset of the input space time raster dataset for processing using a SQL WHERE
       statement. The number of CPU’s to be used for parallel processing can be specified with the <u>nprocs</u> option
       to speedup the computation on multi-core system.

       Semantic labels are needed to relate output raster maps to input raster maps.  E.g.  with  <u>method=stddev</u>,
       the  user  needs  to  know  the  spatial extent, the time stamp and the semantic label to determine which
       stddev map corresponds to which input map.

</pre><h4><b>EXAMPLE</b></h4><pre>
       To smooth the maps contained in a space time dataset run:
       t.rast.neighbors input=tempmean_monthly output=smooth_tempmean_monthly \
                        basename=tmean_smooth size=5 method=average nprocs=4
       # show some info about the new space time dataset
       t.info smooth_tempmean_monthly
        +-------------------- Space Time Raster Dataset -----------------------------+
        |                                                                            |
        +-------------------- Basic information -------------------------------------+
        | Id: ........................ smooth_tempmean_monthly@climate_2000_2012
        | Name: ...................... smooth_tempmean_monthly
        | Mapset: .................... climate_2000_2012
        | Creator: ................... lucadelu
        | Temporal type: ............. absolute
        | Creation time: ............. 2014-11-27 11:41:36.444579
        | Modification time:.......... 2014-11-27 11:41:39.978232
        | Semantic type:.............. mean
        +-------------------- Absolute time -----------------------------------------+
        | Start time:................. 2009-01-01 00:00:00
        | End time:................... 2013-01-01 00:00:00
        | Granularity:................ 1 month
        | Temporal type of maps:...... interval
        +-------------------- Spatial extent ----------------------------------------+
        | North:...................... 320000.0
        | South:...................... 10000.0
        | East:.. .................... 935000.0
        | West:....................... 120000.0
        | Top:........................ 0.0
        | Bottom:..................... 0.0
        +-------------------- Metadata information ----------------------------------+
        | Raster register table:...... raster_map_register_ea1c9a83524e41a784d72744b08c6107
        | North-South resolution min:. 500.0
        | North-South resolution max:. 500.0
        | East-west resolution min:... 500.0
        | East-west resolution max:... 500.0
        | Minimum value min:.......... -6.428905
        | Minimum value max:.......... 18.867296
        | Maximum value min:.......... 4.247691
        | Maximum value max:.......... 28.767953
        | Aggregation type:........... None
        | Number of registered maps:.. 48
        |
        | Title:
        | Monthly precipitation
        | Description:
        | Dataset with monthly precipitation
        | Command history:
        | # 2014-11-27 11:41:36
        | t.rast.neighbors input="tempmean_monthly"
        |     output="smooth_tempmean_monthly" basename="tmean_smooth" size="5"
        |     method="average" nprocs="4"
        |
        +----------------------------------------------------------------------------+
       # now compare the values between the original and the smoothed dataset
       t.rast.list input=smooth_tempmean_monthly columns=name,start_time,min,max
       name|start_time|min|max
       tmean_smooth_1|2009-01-01 00:00:00|-3.361714|7.409861
       tmean_smooth_2|2009-02-01 00:00:00|-1.820261|7.986794
       tmean_smooth_3|2009-03-01 00:00:00|2.912971|11.799684
       ...
       tmean_smooth_46|2012-10-01 00:00:00|9.38767|18.709297
       tmean_smooth_47|2012-11-01 00:00:00|1.785653|10.911189
       tmean_smooth_48|2012-12-01 00:00:00|1.784212|11.983857
       t.rast.list input=tempmean_monthly columns=name,start_time,min,max
       name|start_time|min|max
       2009_01_tempmean|2009-01-01 00:00:00|-3.380823|7.426054
       2009_02_tempmean|2009-02-01 00:00:00|-1.820261|8.006386
       2009_03_tempmean|2009-03-01 00:00:00|2.656992|11.819274
       ...
       2012_10_tempmean|2012-10-01 00:00:00|9.070884|18.709297
       2012_11_tempmean|2012-11-01 00:00:00|1.785653|10.911189
       2012_12_tempmean|2012-12-01 00:00:00|1.761019|11.983857

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
        <u>r.neighbors,</u> <u>t.rast.aggregate.ds,</u> <u>t.rast.extract,</u> <u>t.info,</u> <u>g.region,</u> <u>r.mask</u>

</pre><h4><b>AUTHOR</b></h4><pre>
       Sören Gebbert, Thünen Institute of Climate-Smart Agriculture

</pre><h4><b>SOURCE</b> <b>CODE</b></h4><pre>
       Available at: t.rast.neighbors source code (history)

       Accessed: Friday Apr 04 01:21:14 2025

       Main index | Temporal index | Topics index | Keywords index | Graphical index | Full index

       © 2003-2025 GRASS Development Team, GRASS GIS 8.4.1 Reference Manual

GRASS 8.4.1                                                                             <u><a href="../man1grass/t.rast.neighbors.1grass.html">t.rast.neighbors</a></u>(1grass)
</pre>
 </div>
</div></section>
</div>
</body>
</html>