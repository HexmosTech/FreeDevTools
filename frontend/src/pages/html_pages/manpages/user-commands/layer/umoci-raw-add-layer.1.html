<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>umoci raw add-layer - add a layer archive verbatim to an image</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/umoci">umoci_0.4.7+ds-4_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       umoci raw add-layer - add a layer archive verbatim to an image

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>umoci</b>    <b>raw</b>    <b>add-layer</b>    <b>--image</b>=<u>image</u>    [<b>--tag</b>=<u>tag</u>]    [<b>--no-history</b>]   [<b>--history.comment</b>=<u>comment</u>]
       [<b>--history.created_by</b>=<u>created_by</u>] [<b>--history.author</b>=<u>author</u>] [<b>--history-created</b>=<u>date</u>] <u>new-layer.tar</u>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       Adds the uncompressed layer archive referenced by <u>new-layer.tar</u> verbatim to the image.  Note  that  since
       this is done verbatim, no changes are made to the layer and thus any OCI-specific <b>tar</b> extensions (such as
       <b>.wh.</b>  whiteout  files) will be included unmodified. Use of this command is therefore only recommended for
       expert users, and more novice users should look at <b><a href="../man1/umoci-repack.1.html">umoci-repack</a></b>(1) to create their layers.

       At the moment, <b>umoci</b> <b>raw</b> <b>add-layer</b> only supports appending layers to the end of the image layer list.

</pre><h4><b>OPTIONS</b></h4><pre>
       The global options are defined in <b><a href="../man1/umoci.1.html">umoci</a></b>(1).

       <b>--image</b>=<u>image</u>[:<u>tag</u>]
         The source tag to use as the base of the image containing the new layer.
         <u>image</u> must be a path to a valid OCI image and <u>tag</u> must be a valid tag in
         the image. If <u>tag</u> is not provided it defaults to "latest".

       <b>--tag</b>=<u>tag</u>
         The destination tag to use for the newly created image. <u>tag</u> must be a valid
         tag in the image. If <u>tag</u> is not provided it defaults to the <u>tag</u> specified
         in <b>--image</b> (overwriting it).

       <b>--no-history</b>
         Causes no history entry to be added for this operation. <b>This</b> <b>is</b> <b>not</b>
         <b>recommended</b> <b>for</b> <b>use</b> <b>with</b> <b><a href="../man1/umoci-raw-add-layer.1.html">umoci-raw-add-layer</a>(1),</b> <b>since</b> <b>it</b> <b>results</b> <b>in</b> <b>the</b>
         <b>history</b> <b>not</b> <b>including</b> <b>all</b> <b>of</b> <b>the</b> <b>image</b> <b>layers</b> <b>--</b> <b>and</b> <b>thus</b> <b>will</b> <b>cause</b>
         <b>confusion</b> <b>with</b> <b>tools</b> <b>that</b> <b>look</b> <b>at</b> <b>image</b> <b>history.</b>

       <b>--history.comment</b>=<u>comment</u>
         Comment for the history entry corresponding to this modification of the image
         If unspecified, <b><a href="../man1/umoci.1.html">umoci</a></b>(1) will generate an implementation-dependent value.

       <b>--history.created_by</b>=<u>created_by</u>
         CreatedBy entry for the history entry corresponding to this modification of
         the image. If unspecified, <b><a href="../man1/umoci.1.html">umoci</a></b>(1) will generate an
         implementation-dependent value.

       <b>--history.author</b>=<u>author</u>
         Author value for the history entry corresponding to this modification of the
         image. If unspecified, this value will be the image's author value <b>after</b>
         any modifications were made by this call of <b><a href="../man1/umoci-config.1.html">umoci-config</a></b>(1).

       <b>--history-created</b>=<u>date</u>
         Creation date for the history entry corresponding to this modifications of
         the image. This must be an ISO8601 formatted timestamp (see <b><a href="../man1/date.1.html">date</a></b>(1)). If
         unspecified, the current time is used.

</pre><h4><b>EXAMPLE</b></h4><pre>
       The following takes an existing diff directory, creates a new archive from it and then inserts it into an
       existing image. Note that the new archive is <u>not</u> compressed (<b>umoci</b> will compress the archive for you).

       % tar cfC diff-layer.tar diff/ .
       % umoci raw add-layer --image oci:foo diff-layer.tar

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man1/umoci.1.html">umoci</a></b>(1), <b><a href="../man1/umoci-repack.1.html">umoci-repack</a></b>(1)

raw                                                   umoci                            <u><a href="../man1/umoci-raw-add-layer.1.html">umoci-raw-add-layer</a>(1)</u>(#)
</pre>
 </div>
</div></section>
</div>
</body>
</html>