<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>dh_gnustep - perform various actions for GNUstep packages</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/gnustep-make">gnustep-make_2.9.2-6_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       dh_gnustep - perform various actions for GNUstep packages

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>dh_gnustep</b> [<u>debhelper</u> <u>options</u>] [<b>--app</b>] [<b>--appsupport</b>] [<b>--bundle</b>] [<b>--bundle-dir=</b><u>directory</u>] [<b>--bug-script</b>]
       [<b>--game</b>] [<b>--move-to=</b><u>package</u>] [<b>--no-cleanup</b>] [<b>--no-move</b>]

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>dh_gnustep</b> is a program based on <b><a href="../man7/debhelper.7.html">debhelper</a></b>(7) that is responsible for doing GNUstep-specific
       modifications, such as moving files in the GNUstep hierarchy to Filesystem Hierarchy Standard
       (FHS)-compliant locations.  It also adds bug-script symlinks for GNUstep applications, removes some build
       system artifacts and adds additional dependendcies to packages that need it.

       For brevity and because the GNUstep directories discussed are fairly long and cause readability issues
       when this manpage is being displayed on a typical terminal, the standard GNUstep variables are used as
       placeholders as follows:

       <b>GNUSTEP_SYSTEM_LIBRARY</b>
         <u><a href="file:/usr/lib/">/usr/lib/</a>${DEB_HOST_MULTIARCH}/GNUstep</u>

       <b>GNUSTEP_SYSTEM_HEADERS</b>
         <u><a href="file:/usr/include/">/usr/include/</a>${DEB_HOST_MULTIARCH}/GNUstep</u>

       <b>GNUSTEP_SYSTEM_APPS</b>
         <u><a href="file:/usr/lib/">/usr/lib/</a>${DEB_HOST_MULTIARCH}/GNUstep/Applications</u>

       <b>GNUSTEP_SYSTEM_APPLICATION_SUPPORT</b>
         <u><a href="file:/usr/lib/">/usr/lib/</a>${DEB_HOST_MULTIARCH}/GNUstep/ApplicationSupport</u>

       <b>GNUSTEP_SYSTEM_BUNDLES</b>
         <u><a href="file:/usr/lib/">/usr/lib/</a>${DEB_HOST_MULTIARCH}/GNUstep/Bundles</u>

       <b>dh_gnustep</b> must be run after <b><a href="../man1/dh_bugfiles.1.html">dh_bugfiles</a></b>(1) but before <b><a href="../man1/dh_link.1.html">dh_link</a></b>(1).  Normally you would use an
       "override_dh_link" target but you should remember to invoke <b><a href="../man1/dh_link.1.html">dh_link</a></b>(1) as the last command in the recipe.
       This is mandatory so that the created links are made policy-compliant.  Using the
       "execute_before_dh_link" target avoids this extra step.  This program makes the following changes (all
       move operations can be cancelled with the <b>--no-move</b> option):

       arch-indep directories:
           Moves architecture-independent directories in <b>GNUSTEP_SYSTEM_LIBRARY</b> to <u><a href="file:/usr/share">/usr/share</a></u>.

       library resources:
           Moves library resources (<b>GNUSTEP_SYSTEM_LIBRARY/Libraries</b>) to <u>/usr/share/GNUstep/Libraries</u>.

       frameworks:
           Moves   framework   headers   to   <b>GNUSTEP_SYSTEM_HEADERS/Frameworks</b>   and   framework  resources  to
           <u>/usr/share/GNUstep/Frameworks</u>.

       applications:
           Moves application resource bundles to <u>/usr/share/GNUstep</u>.  This is not done by default  and  requires
           specifying the <b>--app</b> option.

       application support:
           Moves    application    support    (<b>GNUSTEP_SYSTEM_APPLICATION_SUPPORT</b>)    bundles'    resources   to
           <u>/usr/share/GNUstep</u>.  This is not done by default and requires specifying the <b>--appsupport</b> option.

       bundles:
           Moves bundles' (by default at <b>GNUSTEP_SYSTEM_BUNDLES</b>) resources to <u>/usr/share/GNUstep</u>.  This  is  not
           done by default and requires specifying the <b>--bundle</b> option.  The <b>--bundle-dir</b> option can be used for
           alternative non-standard directories.

       bug-script symlinks:
           By  default,  <b>dh_gnustep</b>  will  install  a bug-script symlink for any package with a name ending with
           ".app", pointing to <u>/usr/share/bug/gnustep-back-common</u>, so that the system and user GNUstep  backends
           are  reported  as package-specific information to the BTS when submitting bugs.  It will also add the
           appropriate dependency (via the <u>${misc:Depends}</u> substitution variable).

           Note that <b>dh_gnustep</b> will not handle any other bug  files  and  it  expects  <b><a href="../man1/dh_bugfiles.1.html">dh_bugfiles</a></b>(1)  to  have
           completed  its  job  in  order  to  handle  the case when the bug-script symlink must be installed as
           <u>/usr/share/bug/package/script</u> (when there are <u>bug-control</u> or <u>bug-presubj</u> files).  If an existing  bug
           script  is  detected,  <b>dh_gnustep</b> will emit a warning as a package can have only one bug-script file.
           In    such    situations    the    only    solution    is    to    integrate    the    contents    of
           <u>/usr/share/bug/gnustep-back-common</u> into the existing script.

       build system artifacts:
           By  default,  <b>dh_gnustep</b> will delete <u>stamp.make</u> files which are created and (unfortunately) installed
           by <u>gnustep-make</u> for many project types.  Likewise, it will  delete  <u>dependencies</u>  files  created  and
           installed  for GNUstep documentation projects.  The number and type of the deleted files are recorded
           in the build log if <b>DH_QUIET</b> is not set.

       additional dependencies:
           For packages providing files in either <b>GNUSTEP_SYSTEM_LIBRARY</b> or  <b>GNUSTEP_SYSTEM_HEADERS</b>,  <b>dh_gnustep</b>
           will  automatically  add  the  necessary dependency for the multiarch layout (via the <u>${misc:Depends}</u>
           substitution variable).

</pre><h4><b>OPTIONS</b></h4><pre>
       <b>dh_gnustep</b> accepts the common <b><a href="../man7/debhelper.7.html">debhelper</a></b>(7) options, and some specific  ones.   If  you  use  any  of  the
       options  below,  make  sure  to  build-depend on gnustep-make (&gt;= 2.9.2-2) if that version is not already
       satisfied in the current stable/oldstable release.  Some options are implemented in subsequent  releases,
       as documented below.

       <b>--app</b>
           Move     "Resources",     i.e.     the     resource     bundle     of     a    GNUstep    application
           (<b>GNUSTEP_SYSTEM_APPS/Foo.app/Resources</b>) to  the  architecture-independent  <u>/usr/share/GNUstep/Foo.app</u>
           and make the necessary symlink.  The automatically generated <u>.desktop</u> file is deleted.  If the binary
           package contains more than one app, they are processed independently.

           Care  shhould  be taken when using this option because some apps contain architecture-dependent files
           in their resource bundle.  Another important point to pay  attention  to:  if  this  is  an  existing
           package which does not have its resources moved to <u><a href="file:/usr/share">/usr/share</a></u>, a <u>maintscript</u> is required because dpkg
           will  not  switch  a  directory  to a symlink (and vice-versa).  <b>dh_gnustep</b> does not handle this, see
           <b><a href="../man1/dpkg-maintscript-helper.1.html">dpkg-maintscript-helper</a></b>(1).

           This option is incompatible with <b>--no-move</b> and for multi-binary packages  sometimes  should  be  used
           with the appropriate <b>-p</b> option.

       <b>--appsupport</b>
           Move  the  "Resources"  directories  of  all  bundles  found in <b>GNUSTEP_SYSTEM_APPLICATION_SUPPORT</b> to
           <u><a href="file:/usr/share">/usr/share</a></u>, as subdirectories to the parent directory.  If the package ships  several  bundles  under
           <b>GNUSTEP_SYSTEM_APPLICATION_SUPPORT/Palettes</b>,     they     are     moved    as    subdirectories    to
           <u>/usr/share/GNUstep/Palettes</u>.

           Note that bundles' resources sometimes contain architecture-dependent files in which  case  the  best
           approach is to move the architecture-independent files manually.

           This option was introduced in gnustep-make/2.9.2-3 and like <b>--app</b> it is incompatible with <b>--no-move</b>.

       <b>--bundle</b>
       <b>--bundle-dir=</b><u>directory</u>
           Move  the  "Resources"  directory  of  all bundles found in <b>GNUSTEP_SYSTEM_BUNDLES</b> (or an alternative
           directory under <b>GNUSTEP_SYSTEM_LIBRARY</b> if the <b>--bundle-dir</b> option is specified)  to  <u><a href="file:/usr/share">/usr/share</a></u>.   If
           the  package  installs  bundles  in  a  subdirectory,  the  same  subdirectory  will be created under
           <u>/usr/share/GNUstep</u>.

           This  option  was  introduced  in  gnustep-make/2.9.2-4  and  it  is  incompatible  with   <b>--no-move</b>.
           Furthermore,  <b>--bundle</b>  and  <b>--bundle-dir</b> are mutually exclusive.  If the package installs bundles in
           the standard Bundles directory and in another non-standard directory, you'll have to  run  <b>dh_gnustep</b>
           twice with different arguments if you need to move all of the resource bundles.

       <b>--bug-script</b>
           Install bug-script symlink for the package even if its name does not end with ".app".  Typically this
           should  be  done  for apps which are installed for some reason with tools or other stuff in a package
           with a different name (such as <u>gnustep-examples</u> or  <u>gnustep-dl2</u>).   It  can  also  be  done  for  GUI
           bundles, themes, palettes, etc.  You probably want to use the <b>-p</b> option as well, otherwise <b>dh_gnustep</b>
           will add bug script symlinks for all binary packages.

       <b>--game</b>
           This option must be used together with <b>--app</b>.  It does everything that <b>--app</b> does as described above,
           and  additionally  moves  the  symlink to the executable from <u><a href="file:/usr/bin">/usr/bin</a></u> to <u><a href="file:/usr/games">/usr/games</a></u>.  If <u><a href="file:/usr/bin">/usr/bin</a></u> is
           found empty afterwards, the directory is deleted.

       <b>--move-to=</b><u>package</u>
           This option must be used together with <b>--app</b>, <b>--appsupport</b> or <b>--bundle</b>/<b>--bundle-dir</b> (or any  kind  of
           combination  of these options).  If <b>--app</b> is specified, move the resource bundle of an application to
           another architecture-independent <u>package</u>.  If <b>--appsupport</b> is given, move the "Resources" directories
           of all bundles found in <b>GNUSTEP_SYSTEM_APPLICATION_SUPPORT</b> to  <u>/usr/share/GNUstep</u>  in  the  specified
           <u>package</u>.    If   <b>--bundle</b>   is  specified,  move  the  "Resources"  directories  of  all  bundles  in
           <b>GNUSTEP_SYSTEM_BUNDLES</b> (or an alternative directory if <b>--bundle-dir</b> is used) to <u>/usr/share/GNUstep</u> in
           the specified <u>package</u>.

           If <b>--app</b>, <b>--appsupport</b> and <b>--bundle</b> are used together, all resource bundles are moved to the  package
           specified by the option's argument, there is no way to split them in different packages.  The current
           implementation  will handle more than one app per binary package but it will fail with a multi-binary
           source package containing more than one ".app" binary package.  Likewise,  if  the  package  contains
           more  than one ApplicationSupport directory, they will be processed independently as expected but the
           build is likely to fail if they are in different binary packages.

           Use with caution; see the EXAMPLES section for working examples.

       <b>--no-cleanup</b>
           Do not delete <u>stamp.make</u> and <u>dependencies</u> files.

       <b>--no-move</b>
           Do not perform any move operations.  Setting the DEB_GNUSTEP_NO_MOVE environment variable to  a  non-
           empty, non-zero value has the same effect.

</pre><h4><b>EXAMPLES</b></h4><pre>
         execute_before_dh_link:
                 dh_gnustep -pgnustep-dl2 --no-move --bug-script
                 dh_gnustep --remaining-packages

       Do not move any files for the <u>gnustep-dl2</u> package (as that's already handled manually) but install a bug-
       script symlink because the package contains an application and a Gorm palette.

         execute_before_dh_link:
         ifeq (,$(filter lynkeos.app-common,$(shell dh_listpackages)))
                 rm -rf debian/tmp$(GNUSTEP_SYSTEM_APPS)/Lynkeos.app/Resources
                 dh_gnustep
         else
                 dh_gnustep --app --move-to=lynkeos.app-common
         endif

       Move  the  <u>lynkeos.app</u>  resource bundle to the architecture-independent package <u>lynkeos.app-common</u>.  When
       doing a full build (arch:all + arch:any), the make  conditional  is  false  so  the  move  is  done  when
       operating on <u>lynkeos.app</u>.  During an arch:any build, no move is being done but the <u>lynkeos.app</u> package is
       processed  with  the the default <b>dh_gnustep</b> behaviour, gaining a bug-script symlink and cleaning up build
       artifacts.  The deletion of the Resources directory is to eliminate a  <b><a href="../man1/dh_missing.1.html">dh_missing</a></b>(1)  error.   During  an
       arch:all build the move is done while processing the <u>lynkeos.app-common</u> package.

         override_dh_link:
                 dh_gnustep --app --game
                 dh_link

       Move  the  app's  resource  bundle  to  <u><a href="file:/usr/share">/usr/share</a></u>  and  the  symlink  to the executable from <u><a href="file:/usr/bin">/usr/bin</a></u> to
       <u>/user/games</u>.  Additionally, assuming the binary package  name  ends  with  ".app",  create  a  bug-script
       symlink pointing to <u>/usr/share/bug/gnustep-back-common</u>.  Finally, delete the <u>stamp.make</u> file from the app
       bundle.

         execute_before_dh_link:
         ifneq (,$(filter gnustep-gui-runtime,$(shell dh_listpackages)))
                 dh_gnustep -pgnustep-gui-runtime --app \
                   --bundle-dir=ColorPickers --move-to=gnustep-gui-common
                 dh_gnustep --remaining-packages
         else
                 dh_gnustep --app --bundle-dir=ColorPickers \
                   --move-to=gnustep-gui-common
         endif

       Move the resource bundles of two apps and the resources of all ColorPickers' bundles to <u><a href="file:/usr/share">/usr/share</a></u> in the
       <u>gnustep-gui-common</u> package.  Note that <b>dh_gnustep</b> will automatically figure out that the package they are
       being  moved  from  is  <u>gnustep-gui-runtime</u>  and  there  is  no  need  to use debhelper's <b>-p</b> option.  The
       conditional is only necessary to support full builds so that the symlinks are created in the <u>gnustep-gui-</u>
       <u>runtime</u> package.

</pre><h4><b>BUGS</b></h4><pre>
       Should implement <b>-X</b> option.

       Should do something with Java classes --  make  a  jar  file  and  move  from  Library/Libraries/Java  to
       <a href="file:/usr/share/java">/usr/share/java</a> -- to comply with Java policy.

</pre><h4><b>CONFORMS</b> <b>TO</b></h4><pre>
       Debian Policy, version 4.7.0

       FHS, version 3.0

       Multiarch specification, &lt;https://wiki.ubuntu.com/MultiarchSpec&gt;

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man7/debhelper.7.html">debhelper</a></b>(7), <b><a href="../man1/dh_link.1.html">dh_link</a></b>(1), <b><a href="../man1/dh_bugfiles.1.html">dh_bugfiles</a></b>(1)

       This program is not part of debhelper.

</pre><h4><b>AUTHORS</b></h4><pre>
       Hubert Chan &lt;<a href="mailto:uhoreg@debian.org">uhoreg@debian.org</a>&gt;

       Yavor Doganov &lt;<a href="mailto:yavor@gnu.org">yavor@gnu.org</a>&gt;

perl v5.40.0                                       2025-01-28                                      <u><a href="../man1/DH_GNUSTEP.1.html">DH_GNUSTEP</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>