<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>fai-mirror - create and manage a partial mirror for FAI</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/fai-server">fai-server_6.0.5ubuntu1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       fai-mirror - create and manage a partial mirror for FAI

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>fai-mirror</b> [OPTION]...  DIRECTORY

</pre><h4><b>DESCRIPTION</b></h4><pre>
       This  command  creates  a  partial mirror of Debian packages. It can be used to create the fai CD or as a
       local mirror when you can't download the whole Debian mirror. By default  the  mirror  will  contain  all
       packages of all classes used in the configuration space (/srv/fai/config/package_config).

</pre><h4><b>OPTIONS</b></h4><pre>
       <b>-a</b> <b>ARCH</b>
              Download packages from architecture ARCH. If not specified, use native architecture of host.

       <b>-B</b>     Do  not  add  packages  included  in  base.tar.xz  and packages defined in /etc/fai/NFSROOT to the
              mirror. By default all these packages are included in the  mirror.  This  will  explicitly  remove
              packages from the mirror that are already in base.tar.xz.

       <b>-b</b>     Create  the  mirror  only  from  packages  names  in /srv/fai/config. Do not include packages from
              /etc/fai/NFSROOT, but also do not remove packages that are in base.tar.xz. This is useful if  your
              partial  mirror  does  not  match  the  Linux distribution of the nfsroot, or if you do not have a
              nfsroot yet.

       <b>-C</b> <b>CFDIR</b>
              Use CFDIR as the configuration directory. Default is /etc/fai. You can also  set  the  environment
              variable FAI_ETC_DIR.

       <b>-c</b> <u>CLASS[,CLASS]</u>
              Use only this list of classes for building the mirror. Can't be used in conjunction with -x.

       <b>-h</b>     Show simple help and version.

       <b>-m</b> <u>MAX</u> Set the number of packages to NUM. This overwrites the variable MAXPACKAGES.

       <b>-x</b> <u>CLASS[,CLASS]</u>
              Exclude these classes. Do not add the packages of these classes to the mirror.

       <b>-s</b>  <b>DIRECTORY</b>
              Override the value of FAI_CONFIGDIR set in nfsroot.conf.

       <b>-P</b>  <b>FILE</b>
              Copy  an APT preferences file into the cache config before creating the mirror. Using this you can
              set pin priority for packages to a certain release.

       <b>-p</b>     Preserve existing sources.list. NOT YET IMPLEMENTED.

       <b>-V</b>     Read variable definitions from class/*.var if used in package_config/&lt;classes&gt;.

       <b>-v</b>     Create verbose output.

</pre><h4><b>EXAMPLES</b></h4><pre>
          # fai-mirror -v /files/scratch/mirror

       Creates a partial mirror in the directory /files/scratch/mirror using all classes.

          # fai-mirror -v -cDEFAULT,DEMO /debmirror

       Creates a partial mirror containing all packages used in the classes DEFAULT and DEMO.

          # fai-mirror -v -cDEFAULT,AMD64 /srv/debmirror-amd64

       Will create a mirror including packages for amd64 architecture defined for classes DEFAULT and AMD64. You
       can also run this on a non amd64 host.

</pre><h4><b>NOTES</b></h4><pre>
       You only need root permissions if you access the official Debian mirror via NFS. By default, the variable
       MAXPACKAGES is set to 1, so conflicting packages can also be added to  the  mirror.  Setting  this  to  a
       higher number (e.g. 99999) reduces the time for creating the mirror, but some packages may be missing.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       This program is part of FAI (Fully Automatic Installation).  The FAI homepage is https://fai-project.org.

       <b><a href="../man8/fai-make-nfsroot.8.html">fai-make-nfsroot</a></b>(8), <b><a href="../man8/install_packages.8.html">install_packages</a></b>(8)

</pre><h4><b>FILES</b></h4><pre>
       <u>/etc/fai/fai.conf</u>
              The FAI configuration file.

       <u>/etc/fai/nfsroot.conf</u>
              The FAI configuration file for the nfsroot.
       <u>/etc/fai/apt/sources.list</u>
              Package resource definition for FAI.
       <u>/srv/fai/config/package_config/</u>
              The FAI package configuration directory. This directory is defined by the variable FAI_CONFIGDIR.
       <u>$NFSROOT/var/tmp/base-pkgs.lis</u>
              The list of packages included in base.tar.xz inside the nfsroot.
       <u>$NFSROOT/var/tmp/packages.nfsroot</u>
              Additional packages that were added to the nfsroot by the configuration file /etc/fai/NFSROOT.

</pre><h4><b>AUTHOR</b></h4><pre>
       Thomas Lange &lt;<a href="mailto:lange@cs.uni-koeln.de">lange@cs.uni-koeln.de</a>&gt;

FAI 5.0                                           November 2015                                    <u><a href="../man1/fai-mirror.1.html">fai-mirror</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>