<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ffe - flat file extractor</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/ffe">ffe_0.3.9-1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       ffe - flat file extractor

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>ffe</b> [<u>options</u>]...

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>ffe</b>  is  a program for extracting fields from flat file records and displaying them in different formats.
       <b>ffe</b> relies on the configuration file to control input file structure and the output format.

</pre><h4><b>OPTIONS</b></h4><pre>
       <b>ffe</b> accepts the following options:

       <b>-c</b>, <b>--configuration=</b><u>file</u>
              Read the configuration from <u>file</u>, default is <a href="file:~/.fferc.">~/.fferc.</a>

       <b>-s</b>, <b>--structure=</b><u>STRUCTURE</u>
              Input file is processed using the structure <u>STRUCTURE</u>.

       <b>-p</b>, <b>--print=</b><u>FORMAT</u>
              Use output format <u>FORMAT</u> for printing. All printing can be suppressed using  format  <b>no</b>.  Original
              data is printed using format <b>raw</b>.

       <b>-o</b>, <b>--output=</b><u>NAME</u>
              Write output to <u>NAME</u> instead of standard output.

       <b>-f</b>, <b>--field-list=</b><u>LIST</u>
              Print only fields and constants specified in comma separated list <u>LIST</u>.

       <b>-e</b>, <b>--expression=</b><u>EXPRESSION</u>
              Print only those records for which the <u>EXPRESSION</u> evaluates to true.

       <b>-a</b>, <b>--and</b>
              Expressions are combined with logical and, default is logical or.

       <b>-X</b>, <b>--casecmp</b>
              Expressions are evaluated case insensitive.

       <b>-v</b>, <b>--invert-match</b>
              Print only those records which don't match the expression.

       <b>-l</b>, <b>--loose</b>
              An invalid input line does not cause program to abort.

       <b>-r</b>, <b>--replace=</b><u>FIELD</u>=<u>VALUE</u>
              Replace  <u>FIELD</u>s  contents with <u>VALUE</u> in output. <u>VALUE</u> can contain same directives as output option
              <b>data</b>.

       <b>-d</b>, <b>--debug</b>
              All invalid input lines are written to file ffe_error_&lt;pid&gt;.log.

       <b>-I</b>, <b>--info</b>
              Show the structure information in configuration file and exit.

       <b>-?</b>, <b>--help</b>
              List all available options and their meanings and exit.

       <b>-V</b>, <b>--version</b>
              Show version of program and exit.

       All remaining arguments are names of input files; if no input files  are  specified,  then  the  standard
       input is read.

   <b>Expressions</b> <b>(option</b> <b>-e,</b> <b>--expression)</b>
       Expression can be used to select specific records comparing field values.

       If  the  <u>value</u>  starts with string "file:" then the rest of the <u>value</u> is considered as a file name. Every
       line in the file is used as value in comparison. Record will be selected if one or more values  evaluates
       true.

       Expression notation:

       <u>field</u><b>=</b><u>value</u>
              A record will be selected if the field <u>field</u> is equal to the value <u>value</u>.

       <u>field</u><b>^</b><u>value</u>
              A record will be selected if the field <u>field</u> starts with the value <u>value</u>.

       <u>field</u><b>~</b><u>value</u>
              A record will be selected if the field <u>field</u> contains the value <u>value</u>.

       <u>field</u><b>!</b><u>value</u>
              A record will be selected if the field <u>field</u> is not equal to the value <u>value</u>.

       <u>field</u><b>?</b><u>value</u>
              A record will be selected if the field <u>field</u> matches the regular expression in <u>value</u>.

</pre><h4><b>FFE</b> <b>CONFIGURATION</b></h4><pre>
       <b>ffe</b>  uses  the configuration file for extracting fields from the input file and for formatting the fields
       for output. Every line or binary block of the input file is considered as a record. Default configuration
       file is <b><a href="file:~/.fferc">~/.fferc</a></b> but another file can be given with '-c' option.

       Configuration file for <b>ffe</b> is a text file. The file may contain empty lines. Commands are case-sensitive.
       Comments  begin  with  the  #-character and end at the end of the line. The <u>string</u> and  <u>char</u>  definitions
       can  be  enclosed  in  double  quotation  '"' characters. <u>char</u> is a single character. <u>string</u> and <u>char</u> can
       contain following escape codes: '\a','\b','\t','\n','\v','\f', '\r', '\"' and '\#'. Character '\' can  be
       escaped as '\\'.

       Command  Substitution  allows  the output of a command to replace parts of the configuration file. Syntax
       for command substitution is:
       `<u>command</u>`
       The <u>command</u> is executed and the `<u>command</u>` is substituted with the standard output of  the  command,  with
       any trailing newlines deleted. Command substitutions may not be nested.

       Before executing the <u>command</u> ffe sets few environment variables:

       <b>FFE_STRUCTURE</b>
              The name of the structure given using -s,--structure.

       <b>FFE_OUIPUT</b>
              The name of the output file given using -o,--output.

       <b>FFE_FORMAT</b>
              The name of the output format given using -p,--print.

       <b>FFE_FIRST_FILE</b>
              The name of the first input file.

       <b>FFE_FILES</b>
              A list of all input files.

       If variable is already set it will not be replaced.

   <b>Input</b> <b>file</b> <b>structure</b>
       Input file structures are specified with keyword <b>structure</b>:

       <b>structure</b> <u>name</u> {options...}

       Options must be ended with newline, options are:

       <b>type</b> <b>fixed</b>|<b>binary</b>|<b>separated</b> [<u>char</u>] [<b>*</b>]
              Fields  in  the  input  are  fixed  length  text fields, fixed length binary fields or text fields
              separated by <u>char</u>. If * is given, multiple sequential separators are considered  as  one.  Default
              separator is comma.

       <b>quoted</b> [<u>char</u>]
              Fields  may be quoted with <u>char</u>, default quotation mark is double quotation mark '"'.  A quotation
              mark is assumed to be escaped as \<u>char</u> or doubling the mark as  <u>charchar</u>  in  input.  Non  escaped
              quotation marks are not preserved in output.

       <b>header</b> <b>first</b>|<b>all</b>|<b>no</b>
              Controls  the occurrence of the header line. Default is no. If set as first or all, the first line
              of the first input file is considered as header line containing the names  of  the  fields.  First
              means  that only the first file has a header, all means that all files have a header, although the
              names are still taken from the header of the first file. Header  line  is  handled  according  the
              record  definition,  meaning  that  the  name  positions,  separators etc. are the same as for the
              fields.

       <b>output</b> <u>name</u>
              All records belonging this structure are printed according output format <u>name</u>. Default is  to  use
              output named as 'default'.

       <b>record</b> <u>name</u> {options...}
              Defines one record for a structure. A structure can contain several record types.

   <b>Record</b> <b>options:</b>
       <b>id</b> <u>position</u> <u>string</u>

       <b>rid</b> <u>position</u> <u>regexp</u>
              Identifies  a  record  in  the  input file. Records are identified by the <u>string</u> or by the regular
              expression in <u>regexp</u> in input record position <u>position</u>. For fixed  length  and  binary  input  the
              <u>position</u>  is  the byte position of the input record and for separated input the <u>position</u> means the
              <u>position</u>'th field of the input record. Positions start from one.

              <b>Id</b>'s are required only if input structure contains several record  types  with  equal  lengths  or
              field counts. Non printable characters can be escaped as <b>\xnn</b> where <b>nn</b> is the hexadecimal value of
              the character.

              A  record  definition  can contain several <b>id</b>'s, then all <b>id</b>'d must match the input line (<b>id</b>'s are
              combined with logical and).

              In a multi-record binary structure every record must have at least one <b>id</b>.

       <b>field</b> <u>name</u>|<b>FILLER</b>|<b>*</b> [<u>length</u>]|<b>*</b> [<u>lookup</u>]|<b>*</b> [<u>output</u>]
              Specifies one field in a text  input  structure.  <u>length</u>  is  mandatory  for  fixed  length  input
              structure  except  for the last field. If the last field of a fixed length input structure has a <b>*</b>
              in place of <u>length</u> then the last field can have arbitrary length.

              Length is also used for printing fields in fixed length format using the <b>%D</b> or <b>%D</b>  directive.  The
              order of fields in configuration file is essential, it specifies the field order in a record.

              If  '*' is given instead of the name,  then the 'name' will be the ordinal number of the field, or
              if the 'header' option has value 'first' or 'all', then the name of the field will taken from  the
              header line (first line of the input).

              If  <u>lookup</u>  is given then the fields contents is used to  make a lookup in lookup table <u>lookup</u>. If
              length is not needed (separated format) but lookup is needed, use asterisk (*) in place of  length
              definition.

              If <u>output</u> is given field is printed using output <u>output</u>. Use asterisk in place of lookup if lookup
              is not needed.

              Naming the field as FILLER causes field not to be printed in output.

       <b>field</b> <u>name</u>|<b>FILLER</b>|<b>*</b> [<u>length</u>]|<u>type</u> [<u>lookup</u>]|<b>*</b> [<u>output</u>]
              Specifies  one  field  in  a  binary  input structure. All other features are same as for the text
              structure except the <u>type</u> parameter.  <u>type</u> specifies field data type and length and can  have  the
              following values:

              <b>char</b> Printable character.

              <b>short</b> Short integer having current system length and byte order.

              <b>int</b> Integer having current system length and byte order.

              <b>long</b> Long integer having current system length and byte order.

              <b>llong</b> Long long integer having current system length and byte order.

              <b>ushort</b> Unsigned short integer having current system length and byte order.

              <b>uint</b> Unsigned integer having current system length and byte order.

              <b>ulong</b> Unsigned long integer having current system length and byte order.

              <b>ullong</b> Unsigned long long integer having current system length and byte order.

              <b>int8</b> 8 bit integer.

              <b>int16_be</b> Big endian 16 bit integer.

              <b>int32_be</b> Big endian 32 bit integer.

              <b>int64_be</b> Big endian 64 bit integer.

              <b>int16_le</b> Little endian 16 bit integer.

              <b>int32_le</b> Little endian 32 bit integer.

              <b>int64_le</b> Little endian 64 bit integer.

              <b>uint8</b> Unsigned 8 bit integer.

              <b>uint16_be</b> Unsigned big endian 16 bit integer.

              <b>uint32_be</b> Unsigned big endian 32 bit integer.

              <b>uint64_be</b> Unsigned big endian 64 bit integer.

              <b>uint16_le</b> Unsigned little endian 16 bit integer.

              <b>uint32_le</b> Unsigned little endian 32 bit integer.

              <b>uint64_le</b> Unsigned little endian 64 bit integer.

              <b>float</b> Float having current system length and byte order.

              <b>float_be</b> Float having current system length and big endian byte order.

              <b>float_le</b> Float having current system length and little endian byte order.

              <b>double</b> Double having current system length and byte order.

              <b>double_be</b> Double having current system length and big endian byte order.

              <b>double_le</b> Double having current system length and little endian byte order.

              <b>bcd_be_</b><u>len</u> Bcd number having length <u>len</u> and nybbles in big endian order.

              <b>bcd_le_</b><u>len</u> Bcd number having length <u>len</u> and nybbles in little endian order.

              <b>hex_be_</b><u>len</u> Hexadecimal data in big endian order having length <u>len</u>.

              <b>hex_le_</b><u>len</u> Hexadecimal data in little endian order having length <u>len</u>.

              If  <u>length</u> is given instead of the <u>type</u>, then the field is assumed to be a printable string having
              length <u>length</u>. String is printed until <u>length</u> characters are printed or NULL character is found.

              Bcd number (<b>bcd_be_</b><u>len</u> and <b>bcd_le_</b><u>len</u>) is printed until <u>len</u> bytes are  read  or  a  nybble  having
              hexadecimal  value  <b>f</b>  is  found.  Bcd  number  having  big endian order is printed in order: most
              significant nybble first and least significant nybble second and bcd number having  little  endian
              order  is  printed  in  order:  least significant nybble first and most significant nybble second.
              Bytes are always read in big endian order.

              Hexadecimal data (<b>hex_be_</b><u>len</u> and <b>hex_le_</b><u>len</u>) is printed as hexadecimal values. Big endian data  is
              printed starting from the lower address and little endian data starting from the upper address.

       <b>field-count</b> <u>number</u>
              Same  effect as having <b>field</b> <b>*</b> <u>number</u> times. Because length is not specified, this works only with
              separated structure.

       <b>fields-from</b> <u>record</u>
              Fields for this record are the same as for record <u>record</u>.

       <b>output</b> <u>name</u>
              This record is printed according output format <u>name</u>. Default is to use output format specified  in
              the structure.

       <b>level</b> <u>number</u> [<u>element_name</u>|*] [<u>group_name</u>]
              Level  can  be used if the contents of a file should be printed as hierarchical multi-level nested
              form document. Use * instead of the element name if it is not needed. number is the level  of  the
              record,  starting  from  number  one  (highest  level),  <u>element_name</u>  is the name for the record,
              <u>group_name</u> is used to group records in the  same  and  lower  levels.  Only  <u>number</u>  is  mandatory
              parameter.

       <b>record-length</b> <b>strict</b>|<b>minimum</b>

              <b>strict</b>  Input  record  length  and field count must match the record definition in order to get it
              processed. This is default value.

              <b>minimum</b> Input record length and field count can be the same or longer as defined for  the  record.
              The rest of the input line is ignored.

   <b>Output</b> <b>definitions</b>
       There  can  be  several  output  definitions  in the configuration file. Format can be selected with '-p'
       option. Default format is named as 'default'.

       <b>output</b> <u>name</u>|<b>default</b> {options...}
              Defines one output format. Output named as 'default' will be used if none is given  for  structure
              or record, or none is given with option '-p'.

              There  is  two predefined output formats <b>no</b> and <b>raw</b>. <b>no</b> suppresses all printing and <b>raw</b> prints the
              original input data.

   <b>Output</b> <b>options</b>
       Pictures in output definition can contain printf-style %-directives:

       <b>%f</b>     Name of the input file.

       <b>%s</b>     Name of the current structure.

       <b>%r</b>     Name of the current record.

       <b>%o</b>     Input record number in current file.

       <b>%O</b>     Input record number starting from the first file.

       <b>%i</b>     Byte offset of the current record in the current file. Starts from zero.

       <b>%I</b>     Byte offset of the current record starting from the first file. Starts from zero.

       <b>%n</b>     Field name.

       <b>%t</b>     Field contents, without leading and trailing whitespaces.

       <b>%d</b>     Field contents. Binary integer is printed as a decimal value. Floating point number is printed  in
              the  style  <b>[-]ddd.ddd</b>,  where  the  number  of digits after the decimal-point character is 6. Bcd
              number is printed as a decimal number and hexadecimal data as consecutive hexadecimal values.

       <b>%D</b>     Field contents, right padded to the field length (requires length definition for the field).

       <b>%C</b>     Field contents, right padded to the field length  (requires  length  definition  for  the  field).
              Output field is cut if input field is longer that field length.

       <b>%x</b>     Unsigned hexadecimal value of a binary integer. Other fields are printed using directive <b>%d</b>.

       <b>%l</b>     Value from lookup.

       <b>%L</b>     Value from lookup, right padded to the field length (requires length definition for the field).

       <b>%e</b>     Does  not  print  anything, causes still the "field empty" check to be performed. Can be used when
              only the names of non-empty fields should be printed.

       <b>%p</b>     Fields start position in a record. For fixed structure this is field's byte position in the  input
              line and for separated structure this is the ordinal number of the field. Starts from one.

       <b>%h</b>     Hexadecimal  dump  of  a field. Byte values are printed as consecutive <b>xnn</b> values, where the <b>nn</b> is
              the hexadecimal value of a byte. Data is printed before any endian conversion.

       <b>%g</b>     Group name given by the keyword <b>group_name</b> in record definition.

       <b>%m</b>     Element name given by the keyword <b>element_name</b> in record definition.

       <b>%%</b>     Percent sign.

       <b>file_header</b> <u>picture</u>
              Picture is printed once before file contents.

       <b>file_trailer</b> <u>picture</u>
              Picture is printed once after file contents.

       <b>header</b> <u>picture</u>
              If specified, then the header line describing the field names is  printed  before  records.  Every
              field  name is printed according the <u>picture</u> using the same separator and fields length as defined
              for the fields. <u>Picture</u> can contain only <b>%n</b> directive.

       <b>data</b> <u>picture</u>
              Field contents is printed according <u>picture</u>.

       <b>lookup</b> <u>picture</u>
              If field is mapped to lookup table, this picture will be used instead of picture from <b>data</b> option.
              If not given, then picture from <b>data</b> will be used.

       <b>separator</b> <u>string</u>
              All  fields are terminated by <u>string</u>, except the last field of the record. Default is not to print
              separator.

       <b>record_header</b> <u>picture</u>
              <u>picture</u> is printed before the record content. Default is not to print header.

       <b>record_trailer</b> <u>picture</u>
              <u>picture</u> is printed after the record content. Default is newline.

       <b>justify</b> <b>left</b>|<b>right</b>|<u>char</u>
              Fields are left or right justified. <u>char</u> justifies output according the first occurrence  of  <u>char</u>
              in the data picture. Default is left.

       <b>indent</b> <u>string</u>
              Record contents is intended by <u>string</u>. Field contents is intended by two times the <u>string</u>. Default
              is not to indent.

       <b>field-list</b> <u>name1</u>,<u>name2</u>,...
              Only  fields  or  constants  named as <u>name1</u>,<u>name2</u>,... are printed, same effect as has '-f' option.
              Default is to print all the fields. Fields are also printed in the same order as they are listed.

       <b>no-data-print</b> <b>yes</b>|<b>no</b>
              When set as no and <b>field-list</b> is given, suppresses printing of <b>record_header</b> and <b>record_trailer</b> in
              case where current record contains none of the fields specified in <b>field-list</b>.

       <b>field-empty-print</b> <b>yes</b>|<b>no</b>
              When set as no,  nothing  is  printed  for  fields  which  consist  entirely  of  characters  from
              <b>empty-chars</b>.  If none of the fields of a record are printed then the printing of <b>record_trailer</b> is
              also suppressed. Default is yes.

       <b>empty-chars</b> <u>string</u>
              <u>string</u> specifies a set of characters which define an  "empty"  field.  Default  is  "  \f\n\r\t\v"
              (space, form-feed, newline, carriage return, horizontal tab and vertical tab).

       <b>output-file</b> <u>file</u>
              Output  is  written  to  <u>file</u>  instead of the default output. If - is given the standard output is
              used.

       <b>group_header</b> <u>string</u>
              If a record has a level and group name defined, <u>string</u> is printed before the first record  in  the
              same group or if the group name has changed in the same level

       <b>group_trailer</b> <u>string</u>
              If  a  record  has  a  level  and group name defined, <u>string</u> is printed after the records in lower
              levels or if the group name has changed in the same level or if a higher level record is found.

       <b>element_header</b> <u>string</u>
              If record has a level and header name defined, <u>string</u> is printed before the records contents.

       <b>element_header</b> <u>string</u>
              If record has a level and header name defined, <u>string</u> is printed after the records contents.

       <b>hex-caps</b> <b>yes</b>|<b>no</b>
              Print hexadecimal numbers in capital letters. Default is no.

   <b>Lookup</b> <b>definitions</b>
       <b>lookup</b> <u>name</u> {options...}
              Defines one lookup table.

   <b>Lookup</b> <b>options:</b>
       <b>search</b> <b>exact</b>|<b>longest</b>
              The search type for lookup table.

       <b>default-value</b> <u>value</u>
               <u>value</u> is printed if the lookup is not successful.

       <b>pair</b> <u>key</u> <u>value</u>
              One key/value pair for the lookup table.

       <b>file</b> <u>name</u> [<u>separator</u>]
              Key/value pairs are read from file <u>name</u>. Every line is considered as a key/value pair separated by
              <u>separator</u>. Default separator is semicolon.

   <b>Constants</b>
       Additional to input fields constants values can be printed using option <b>-f</b>,<b>--field-list</b> or output  option
       <b>field-list</b>. Constant will be printed using <b>data</b> output option.

       Constants are specified as

       <b>const</b> <u>name</u> <u>value</u>
              when the <u>name</u> appears in a field list, <u>value</u> will be printed for every record as the <u>name</u> were one
              of the input fields.

   <b>Input</b> <b>Preprocessor</b>
       It  is  possible  to  define an input preprosessor for <b>ffe</b>. An input preprocessor is simply an executable
       program which writes the contents of the input file to standard output which will be read by <b>ffe</b>. If  the
       input preprosessor does not write any characters on its standard output, then <b>ffe</b> uses the original file.

       To set up an input preprocessor, set the <b>FFEOPEN</b> environment variable to a command line which will invoke
       your  input preprocessor. This command line should include one occurrence of the string <b>%s</b>, which will be
       replaced by the input filename when the input preprocessor command is invoked.

       The input preprocessor is not used if <b>ffe</b> is reading standard input.

</pre><h4><b>EXAMPLES</b></h4><pre>
       Example of fixed length flat file containing fields 'FirstName','LastName' and 'Age':

       John     Ripper       23
       Scott    Tiger        45
       Mary     Moore        41

       This file can be printed in XML with the following configuration:

       structure personnel {
           type fixed
           output XML
           record person {
               field FirstName 9
               field LastName  13
               field Age 2
           }
       }

       output XML {
           file_header "&lt;?xml version=\"1.0\" encoding=\"ISO-8859-1\"?&gt;\n"
           data "&lt;%n&gt;%d&lt;/%n&gt;\n"
           record_header "&lt;%r&gt;\n"
           record_trailer "&lt;/%r&gt;\n"
           indent " "
       }

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       More examples in Texinfo manual. If the <b>info</b> and <b>ffe</b> are properly installed, the command

              <b>info</b> <b>ffe</b>

       should give more information.

</pre><h4><b>AUTHOR</b></h4><pre>
       Timo Savinen &lt;<a href="mailto:tjsa@iki.fi">tjsa@iki.fi</a> &gt;

Timo Savinen                                       2011-04-06                                             <u><a href="../man1/FFE.1.html">FFE</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>