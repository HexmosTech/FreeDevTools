<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>black-primer - CI tool to check a number of projects in parallel using black</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/black">black_25.1.0-2_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       black-primer - CI tool to check a number of projects in parallel using black

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>black-primer</b>  is  a  tool  built  for  CI  (and  humans) to have <b>black</b> <b>--check</b> a number of Git accessible
       projects in parallel. Projects are configured in <b>primer.json</b>

</pre><h4><b>RUN</b> <b>FLOW</b></h4><pre>
       ‚Ä¢ Ensure we have <b>black</b> + <b>git</b> installed

       ‚Ä¢ Load projects from <b>primer.json</b>

       ‚Ä¢ Run projects in parallel with <b>--worker</b> workers (defaults to CPU  count / 2)

         ‚Ä¢ Checkout projects

         ‚Ä¢ Run black and record result

         ‚Ä¢ Clean up repository checkout _(can optionally be disabled via <b>--keep</b>)

       ‚Ä¢ Display results summary to screen

       ‚Ä¢ Default to cleaning up <b>--work-dir</b> (which defaults to tempfile  schematics)

       ‚Ä¢ Return - 0 for successful run - &lt; 0 for environment / internal error - &gt; 0 for  each  project  with  an
         error

</pre><h4><b>SPEED</b> <b>UP</b> <b>RUNS</b></h4><pre>
       If you're running locally yourself to test black on lots of code try:

       ‚Ä¢ Using <b>-k</b> / <b>--keep</b> + <b>-w</b> / <b>--work-dir</b> so you don't have to re-checkout the repo each run

</pre><h4><b>CLI</b> <b>ARGUMENTS</b></h4><pre>
          Usage: black-primer [OPTIONS]

           primer - prime projects for blackening...

          Options:
           -c, --config PATH      JSON config file path  [default: /Users/cooper/repos/
                                  black/src/black_primer/primer.json]

           --debug                Turn on debug logging  [default: False]
           -k, --keep             Keep workdir + repos post run  [default: False]
           -L, --long-checkouts   Pull big projects to test  [default: False]
           -R, --rebase           Rebase project if already checked out  [default:
                                  False]

           -w, --workdir PATH     Directory path for repo checkouts  [default: /var/fol
                                  ders/tc/hbwxh76j1hn6gqjd2n2sjn4j9k1glp/T/primer.20200
                                  517125229]

           -W, --workers INTEGER  Number of parallel worker coroutines  [default: 2]
           -h, --help             Show this message and exit.

       ## Primer config file

       The  config  file  is in JSON format. Its main element is the <u>"projects"</u> dictionary and each parameter is
       explained below:

          {
           "projects": {
             "00_Example": {
               "cli_arguments": "List of extra CLI arguments to pass Black for this project",
               "expect_formatting_changes": "Boolean to indicate that the version of Black is expected to cause changes",
               "git_clone_url": "URL you would pass `git clone` to check out this repo",
               "long_checkout": "Boolean to have repo skipped by default unless `--long-checkouts` is specified",
               "py_versions": "List of major Python versions to run this project with - all will do as you'd expect - run on ALL versions"
             },
             "aioexabgp": {
               "cli_arguments": [],
               "expect_formatting_changes": true,
               "git_clone_url": "https://github.com/cooperlees/aioexabgp.git",
               "long_checkout": false,
               "py_versions": ["all", "3.8"]
             }
           }
          }

       An      example      primer      config       file       is       used       by       Black       [here](
       &lt;https://github.com/psf/black/blob/master/src/black_primer/primer.json&gt; )

</pre><h4><b>EXAMPLE</b> <b>RUN</b></h4><pre>
          cooper-mbp:black cooper$ <a href="file:~/venvs/b/bin/black-primer">~/venvs/b/bin/black-primer</a>
          [2020-05-17 13:06:40,830] INFO: 4 projects to run Black over (lib.py:270)
          [2020-05-17 13:06:44,215] INFO: Analyzing results (lib.py:285)
          -- primer results üìä --

          3 / 4 succeeded (75.0%) ‚úÖ
          1 / 4 FAILED (25.0%) üí©
           - 0 projects disabled by config
           - 0 projects skipped due to Python version
           - 0 skipped due to long checkout

          Failed projects:

          ## flake8-bugbear:
           - Returned 1
           - stdout:
          --- tests/b303_b304.py      2020-05-17 20:04:09.991227 +0000
          +++ tests/b303_b304.py      2020-05-17 20:06:42.753851 +0000
          @@ -26,11 +26,11 @@
               maxint = 5  # this is okay
               # the following should not crash
               (a, b, c) = list(<a href="../man3/range.3.html">range</a>(3))
               # it is different than this
               a, b, c = list(<a href="../man3/range.3.html">range</a>(3))
          -    a, b, c, = list(<a href="../man3/range.3.html">range</a>(3))
          +    a, b, c = list(<a href="../man3/range.3.html">range</a>(3))
               # and different than this
               (a, b), c = list(<a href="../man3/range.3.html">range</a>(3))
               a, *b, c = [1, 2, 3, 4, 5]
               b[1:3] = [0, 0]

          would reformat tests/b303_b304.py
          Oh no! üí• üíî üí•
          1 file would be reformatted, 22 files would be left unchanged.

</pre><h4><b>COPYRIGHT</b></h4><pre>
       2018 ≈Åukasz Langa
</pre>
 </div>
</div></section>
</div>
</body>
</html>