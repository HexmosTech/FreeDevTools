<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>piv-tool - smart card utility for HSPD-12 PIV cards</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/opensc">opensc_0.26.1-1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       piv-tool - smart card utility for HSPD-12 PIV cards

</pre><h4><b>SYNOPSIS</b></h4><pre>

       <b>piv-tool</b> [<u>OPTIONS</u>]

       The <b>piv-tool</b> utility can be used from the command line to perform miscellaneous smart card operations on
       a HSPD-12 PIV smart card as defined in NIST 800-73-3. It is intended for use with test cards only. It can
       be used to load objects, and generate key pairs, as well as send arbitrary APDU commands to a card after
       having authenticated to the card using the card key provided by the card vendor.

</pre><h4><b>OPTIONS</b></h4><pre>
       <b>--serial</b>
           Print the card serial number derived from the CHUID object, if any. Output is in hex byte format.

       <b>--name</b>, <b>-n</b>
           Print the name of the inserted card (driver)

       <b>--admin</b> <u>argument</u>, <b>-A</b> <u>argument</u>
           Authenticate to the card using a 2DES, 3DES or AES key. The <u>argument</u> of the form

                {A|M}:<u>ref</u>:<u>alg</u>

           is required, were A uses "EXTERNAL AUTHENTICATION" and M uses "MUTUAL AUTHENTICATION".  <u>ref</u> is
           normally 9B, and <u>alg</u> is 03 for 3DES, 01 for 2DES, 08 for AES-128, 0A for AES-192 or 0C for AES-256.
           The key is provided by the card vendor. The environment variable <u>PIV_EXT_AUTH_KEY</u> must point to
           either a binary file matching the length of the key or a text file containing the key in the format:
           XX:XX:XX:XX:XX:XX:XX:XX:XX:XX:XX:XX:XX:XX:XX:XX:XX:XX:XX:XX:XX:XX:XX:XX

       <b>--genkey</b> <u>argument</u>, <b>-G</b> <u>argument</u>
           Generate a key pair on the card and output the public key. The <u>argument</u> of the form

               <u>ref</u>:<u>alg</u>

           is required, where <u>ref</u> is 9A, 9C, 9D or 9E and <u>alg</u> is 06, 07, 11 or 14 for RSA 1024, RSA 2048, ECC
           256 or ECC 384 respectively.

       <b>--object</b> <u>ContainerID</u>, <b>-O</b> <u>ContainerID</u>
           Load an object onto the card. The <u>ContainerID</u> is as defined in NIST 800-73-n without leading 0x.
           Example: CHUID object is 3000

       <b>--cert</b> <u>ref</u>, <b>-C</b> <u>ref</u>
           Load a certificate onto the card.  <u>ref</u> is 9A, 9C, 9D or 9E

       <b>--compresscert</b> <u>ref</u>, <b>-Z</b> <u>ref</u>
           Load a certificate that has been gzipped onto the card.  <u>ref</u> is 9A, 9C, 9D or 9E

       <b>--out</b> <u>file</u>, <b>-o</b> <u>file</u>
           Output file for any operation that produces output.

       <b>--in</b> <u>file</u>, <b>-i</b> <u>file</u>
           Input file for any operation that requires an input file.

       <b>--key-slots-discovery</b> <u>file</u>
           Print properties of the key slots. Needs 'admin' authentication.

       <b>--send-apdu</b> <u>apdu</u>, <b>-s</b> <u>apdu</u>
           Sends an arbitrary APDU to the card in the format AA:BB:CC:DD:EE:FF.... This option may be repeated.

       <b>--reader</b> <u>arg</u>, <b>-r</b> <u>arg</u>
           Number of the reader to use. By default, the first reader with a present card is used. If <u>arg</u> is an
           ATR, the reader with a matching card will be chosen.

       <b>--wait</b>, <b>-w</b>
           Wait for a card to be inserted

       <b>--verbose</b>, <b>-v</b>
           Causes <b>piv-tool</b> to be more verbose. Specify this flag several times to enable debug output in the
           opensc library.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man1/opensc-tool.1.html">opensc-tool</a></b>(1)

</pre><h4><b>AUTHORS</b></h4><pre>
       <b>piv-tool</b> was written by Douglas E. Engert &lt;<a href="mailto:deengert@gmail.com">deengert@gmail.com</a>&gt;.

opensc                                             03/22/2025                                        <u><a href="../man1/PIV-TOOL.1.html">PIV-TOOL</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>