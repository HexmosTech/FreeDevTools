<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>v.db.update  - Updates a column in the attribute table connected to a vector map.</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/grass-doc">grass-doc_8.4.1-1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       <b>v.db.update</b>  - Updates a column in the attribute table connected to a vector map.

</pre><h4><b>KEYWORDS</b></h4><pre>
       vector, attribute table, database, attribute update, type casting

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>v.db.update</b>
       <b>v.db.update</b> <b>--help</b>
       <b>v.db.update</b>  <b>map</b>=<u>name</u>  <b>layer</b>=<u>string</u> <b>column</b>=<u>name</u>  [<b>value</b>=<u>string</u>]   [<b>query_column</b>=<u>name</u>]   [<b>where</b>=<u>sql_query</u>]
       [<b>sqliteextra</b>=<u>name</u>]   [--<b>help</b>]  [--<b>verbose</b>]  [--<b>quiet</b>]  [--<b>ui</b>]

   <b>Flags:</b>
       <b>--help</b>
           Print usage summary

       <b>--verbose</b>
           Verbose module output

       <b>--quiet</b>
           Quiet module output

       <b>--ui</b>
           Force launching GUI dialog

   <b>Parameters:</b>
       <b>map</b>=<u>name</u> <b>[required]</b>
           Name of vector map
           Or data source for direct OGR access

       <b>layer</b>=<u>string</u> <b>[required]</b>
           Layer number or name
           Vector features can have category values in different layers. This number determines which  layer  to
           use. When used with direct OGR access this is the layer name.
           Default: <u>1</u>

       <b>column</b>=<u>name</u> <b>[required]</b>
           Name of attribute column to update

       <b>value</b>=<u>string</u>
           Literal value to update the column with

       <b>query_column</b>=<u>name</u>
           Name of other attribute column to query, can be combination of columns (e.g. co1+col2)

       <b>where</b>=<u>sql_query</u>
           WHERE conditions of SQL statement without ’where’ keyword
           Example: income &lt; 1000 and population &gt;= 10000

       <b>sqliteextra</b>=<u>name</u>
           Name of SQLite extension file for extra functions (SQLite backend only)

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <u>v.db.update</u>  assigns  a  new value to a column in the attribute table connected to a given map. The <u>value</u>
       parameter allows updating with a literal value. Alternatively, with the  <u>qcol</u>  parameter  values  can  be
       copied  from  another  column  in  the table or be the result of a combination or transformation of other
       columns.

</pre><h4><b>NOTES</b></h4><pre>
       <u>v.db.update</u> is just a front-end to <u>db.execute</u> to allow easier usage.

       For complex SQL UPDATE statements, <u>db.execute</u> should be used.

</pre><h4><b>EXAMPLES</b></h4><pre>
   <b>Replacing</b> <b>of</b> <b>NULL</b> <b>values</b>
       In this example, selectively display lakes without (blue) and with NULL (red) are shown to find out which
       type is undefined. In the original map there are lakes missing FTYPE attribute which are  wetlands  along
       streams. These NULL attributes are replaced with the landuse type WETLAND:
       g.copy vect=lakes,mylakes
       v.db.select mylakes
       v.db.select mylakes where="FTYPE IS NULL"
       # display the lakes, show undefined FTYPE lakes in red
       g.region vector=mylakes
       d.mon wx0
       d.vect mylakes where="FTYPE NOT NULL" type=area col=blue
       d.vect mylakes where="FTYPE IS NULL" type=area col=red
       # replace NULL with FTYPE WETLAND
       v.db.update mylakes col=FTYPE value=WETLAND \
                   where="FTYPE IS NULL"
       v.db.select mylakes

   <b>Updating</b> <b>of</b> <b>columns</b> <b>with</b> <b>on</b> <b>the</b> <b>fly</b> <b>calculation</b>
       Spearfish  example:  adding  new  column,  copying  values  from  another  table  column  with on the fly
       calculation:
       g.copy vect=fields,myfields
       v.db.addcolumn myfields col="polynum integer"
       v.db.update myfields col=polynum qcol="cat*2"
       v.db.select myfields

   <b>Type</b> <b>casting</b>
       Type cast (type conversion) of strings to double precision (unsupported by DBF driver):
       g.copy vect=geodetic_pts,mygeodetic_pts
       v.db.update mygeodetic_pts col=zval qcol="CAST(z_value AS double precision)" \
                   where="z_value &lt;&gt; ’N/A’"

   <b>Updating</b> <b>of</b> <b>columns</b> <b>with</b> <b>on</b> <b>the</b> <b>fly</b> <b>calculation</b> <b>(SQLite</b> <b>extended</b> <b>functions)</b>
       Note: this requires SQLite extended functions. For  details  see  the  GRASS  GIS  Wiki  (compilation  of
       libsqlitefunctions.so and libsqlitefunctions.dll).

       North  Carolina data set example: adding new column, copying values from another table column with on the
       fly calculation:
       g.copy vect=precip_30ynormals,myprecip_30ynormals
       v.db.addcolumn myprecip_30ynormals column="logjuly double precision"
       v.db.update myprecip_30ynormals column="logjuly" query_column="log(jul)" \
         sqliteextra=$HOME/sqlite_extensions/libsqlitefunctions.so
       v.db.select myprecip_30ynormals columns=jul,logjuly
       jul|logjuly
       132.842|4.88916045210132
       127|4.84418708645859
       124.206|4.82194147751127
       104.648|4.65060233738593
       98.298|4.58800368106618
       ...

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
        <u>db.execute,</u> <u>v.db.addcolumn,</u> <u>v.db.addtable,</u> <u>v.db.connect,</u> <u>v.db.droptable,</u> <u>v.db.join,</u> <u>v.db.select</u>

        <u>GRASS</u> <u>SQL</u> <u>interface</u>

</pre><h4><b>AUTHOR</b></h4><pre>
       Moritz Lennert (<a href="mailto:mlennert@club.worldonline.be">mlennert@club.worldonline.be</a>)

</pre><h4><b>SOURCE</b> <b>CODE</b></h4><pre>
       Available at: v.db.update source code (history)

       Accessed: Friday Apr 04 01:21:13 2025

       Main index | Vector index | Topics index | Keywords index | Graphical index | Full index

       © 2003-2025 GRASS Development Team, GRASS GIS 8.4.1 Reference Manual

GRASS 8.4.1                                                                                  <u><a href="../man1grass/v.db.update.1grass.html">v.db.update</a></u>(1grass)
</pre>
 </div>
</div></section>
</div>
</body>
</html>