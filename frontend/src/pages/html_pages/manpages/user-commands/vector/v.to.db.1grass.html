<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>v.to.db  - Populates attribute values from vector features.</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/grass-doc">grass-doc_8.4.1-1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       <b>v.to.db</b>  - Populates attribute values from vector features.

</pre><h4><b>KEYWORDS</b></h4><pre>
       vector,  attribute  table,  database,  area,  azimuth,  bounding box, category, compactness, coordinates,
       fractal, geometry, length, perimeter, sides, sinuous, slope

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>v.to.db</b>
       <b>v.to.db</b> <b>--help</b>
       <b>v.to.db</b>     [-<b>phsc</b>]     <b>map</b>=<u>name</u>      [<b>layer</b>=<u>string</u>]       [<b>type</b>=<u>string</u>[,<u>string</u>,...]]       <b>option</b>=<u>string</u>
       <b>columns</b>=<u>name</u>[,<u>name</u>,...]         [<b>units</b>=<u>string</u>]          [<b>query_layer</b>=<u>string</u>]          [<b>query_column</b>=<u>name</u>]
       [<b>separator</b>=<u>character</u>]   [--<b>overwrite</b>]  [--<b>help</b>]  [--<b>verbose</b>]  [--<b>quiet</b>]  [--<b>ui</b>]

   <b>Flags:</b>
       <b>-p</b>
           Print only

       <b>-h</b>
           Print header

       <b>-s</b>
           Only print SQL statements

       <b>-c</b>
           Print also totals for option length, area, or count

       <b>--overwrite</b>
           Allow output files to overwrite existing files

       <b>--help</b>
           Print usage summary

       <b>--verbose</b>
           Verbose module output

       <b>--quiet</b>
           Quiet module output

       <b>--ui</b>
           Force launching GUI dialog

   <b>Parameters:</b>
       <b>map</b>=<u>name</u> <b>[required]</b>
           Name of vector map
           Or data source for direct OGR access

       <b>layer</b>=<u>string</u>
           Layer number or name (write to)
           Vector features can have category values in different layers. This number determines which  layer  to
           use. When used with direct OGR access this is the layer name.
           Default: <u>1</u>

       <b>type</b>=<u>string[,string</u>,...]
           Feature type
           For coor valid point/centroid, for length valid line/boundary
           Options: <u>point,</u> <u>line,</u> <u>boundary,</u> <u>centroid</u>
           Default: <u>point,line,boundary,centroid</u>

       <b>option</b>=<u>string</u> <b>[required]</b>
           Value to upload
           Options:  <u>cat,</u>  <u>area,</u>  <u>compact,</u>  <u>fd,</u> <u>perimeter,</u> <u>length,</u> <u>count,</u> <u>coor,</u> <u>start,</u> <u>end,</u> <u>sides,</u> <u>query,</u> <u>slope,</u>
           <u>sinuous,</u> <u>azimuth,</u> <u>bbox</u>
           <b>cat</b>: insert new row for each category if doesn’t exist yet
           <b>area</b>: area size
           <b>compact</b>: compactness of an area, calculated as compactness = perimeter / (2 * sqrt(PI * area))
           <b>fd</b>: fractal dimension of boundary defining a polygon, calculated  as  fd  =  2  *  (log(perimeter)  /
           log(area))
           <b>perimeter</b>: perimeter length of an area
           <b>length</b>: line length
           <b>count</b>: number of features for each category
           <b>coor</b>: point coordinates, X,Y or X,Y,Z
           <b>start</b>: line/boundary starting point coordinates, X,Y or X,Y,Z
           <b>end</b>: line/boundary end point coordinates, X,Y or X,Y,Z
           <b>sides</b>: categories of areas on the left and right side of the boundary, ’query_layer’ is used for area
           category
           <b>query</b>:  result  of  a  database  query  for  all  records  of the geometry (or geometries) from table
           specified by ’query_layer’ option
           <b>slope</b>: slope steepness of vector line or boundary
           <b>sinuous</b>: line sinuousity, calculated as line length / distance between end points
           <b>azimuth</b>: line azimuth, calculated as angle between North direction and endnode direction at startnode
           <b>bbox</b>: bounding box of area, N,S,E,W

       <b>columns</b>=<u>name[,name</u>,...] <b>[required]</b>
           Name of attribute column(s) to populate
           Name of attribute column(s)

       <b>units</b>=<u>string</u>
           Units
           Options: <u>miles,</u> <u>feet,</u> <u>meters,</u> <u>kilometers,</u> <u>acres,</u> <u>hectares,</u> <u>radians,</u> <u>degrees</u>

       <b>query_layer</b>=<u>string</u>
           Query layer number or name (read from)
           Vector features can have category values in different layers. This number determines which  layer  to
           use. When used with direct OGR access this is the layer name.
           Default: <u>1</u>

       <b>query_column</b>=<u>name</u>
           Name of attribute column used for ’query’ option
           E.g. ’cat’, ’count(*)’, ’sum(val)’

       <b>separator</b>=<u>character</u>
           Field separator for print mode
           Special characters: pipe, comma, space, tab, newline
           Default: <u>pipe</u>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <u>v.to.db</u>  loads  vector  map features or metrics into a database table, or prints them (or the SQL queries
       used to obtain them) in a form of a human-readable report. For uploaded/printed category values  ’-1’  is
       used  for ’no category’ and ’null’/’-’ if category cannot be found or multiple categories were found. For
       line azimuths ’-1’ is used for closed lines (start equals end).

</pre><h4><b>NOTES</b></h4><pre>
       Measures of lengths and areas are always reported in meters, unless the <u>unit</u> parameter is set.  The units
       <u>miles</u>, <u>feet</u>, <u>meters</u> and <u>kilometers</u> are square for <u>option=area</u>.

       Feet and acre units are always reported in their common versions (i.e. the  International  Foot,  exactly
       5280  feet  in  a  mile),  even when the coordinate reference system’s standard map unit is the US Survey
       foot.

       When calculating perimeters in Latitude-Longitude CRS, the geodesic  distance  between  the  vertices  is
       used.

       When  using  <u>option=coor</u> on a vector area map, only coordinates of centroids with unique category will be
       reported.

       When using <u>option=bbox</u> on a vector area map with more than one feature per category  value,  the  results
       corresponds to the bounding box of all features of same category taken together.

       Line  azimuth  is  calculated as angle from the North direction to the line endnode direction at the line
       statnode. By default it’s reported in decimal degrees (0-360, CW) but it also may be repored  in  radians
       with  <u>unit=radians</u>.  Azimuth value <b>-1</b> is used to report closed line with it’s startnode and endnode being
       in same place. Azimuth values make sense only if every vector line has only one entry in database (unique
       CAT value).

       If the module is apparently slow <u>and</u>  the  map  attributes  are  stored  in  an  external  DBMS  such  as
       PostgreSQL, it is highly recommended to create an index on the key (category) column.

       Uploading  the  vector  map  attributes  to  a database requires a table attached to a given input vector
       <u>layer</u>. The <b>print</b> <b>only</b> (<b>-p</b>) mode doesn’t require a table. Use <u>db.execute</u>  or  <u>v.db.addtable</u>  to  create  a
       table if needed.

       Updating  the  table  has  to  be done column-wise. The <u>column</u> will be created in the table if it doesn’t
       already exist, except when using the <b>print</b> <b>only</b> (<b>-p</b>) mode. If the <u>column</u> exists, the <b>--overwrite</b> flag  is
       required to overwrite it.

</pre><h4><b>EXAMPLES</b></h4><pre>
   <b>Updating</b> <b>attribute</b> <b>tables</b>
       Upload category numbers to attribute table (used for new map):
       v.to.db map=soils type=centroid option=cat

       Upload polygon areas to corresponding centroid record in the attribute table:
       v.to.db map=soils type=centroid option=area columns=area_size unit=h

       Upload line lengths (in meters) of each vector line to attribute table (use <u>v.category</u> in case of missing
       categories):
       v.to.db map=roads option=length type=line columns=linelength units=me

       Upload x and y coordinates from vector geometry to attribute table:
       v.to.db map=pointsmap option=coor columns=x,y

       Upload x, y and z coordinates from vector geometry to attribute table:
       v.to.db map=pointsmap option=coor columns=x,y,z

       Transfer attributes from a character column (with numeric contents) to a new integer column:
       v.db.addcolumn usa_income_employment2002 col="FIPS_NUM integer"
       v.to.db usa_income_employment2002 option=query columns=FIPS_NUM query_column=STATE_FIPS

       Upload category numbers of left and right area, to an attribute table of boundaries common for the areas:
       # add categories for boundaries of the input vector map, in layer 2:
       v.category soils out=mysoils layer=2 type=boundary option=add
       # add a table with columns named "left" and "right" to layer 2 of the input
       # vector map:
       v.db.addtable mysoils layer=2 columns="left integer,right integer"
       # upload categories of left and right areas:
       v.to.db mysoils option=sides columns=left,right layer=2
       # display the result:
       v.db.select mysoils layer=2

       Compute  DL,  the  Fractal  Dimension (Mandelbrot, 1982), of the boundary defining a polygon based on the
       formula:
        D = 2 * (log perimeter) / (log area):

       g.copy vect=soils,mysoils
       v.db.addcolumn mysoils col="d double precision"
       v.to.db mysoils option=fd column="d"
       g.region vector=mysoils res=50
       v.to.rast input=mysoils output=soils_fd type=area use=attr attribute_column=d
       r.colors map=soils_fd color=gyr
       d.mon wx0
       d.rast.leg soils_fd
       d.vect mysoils type=boundary

   <b>Printing</b> <b>reports</b>
       Report x,y,z coordinates of points in the input vector map:
       v.to.db -p bugsites option=coor type=point
       Report all area sizes of the input vector map:
       v.to.db -p soils option=area type=boundary units=h

       Report all area sizes of the input vector map, in hectares, sorted by category number (requires GNU  <u>sort</u>
       utility installed):
       v.to.db -p soils option=area type=boundary units=h | sort -n

       Report all line lengths of the input vector map, in kilometers:
       v.to.db -p roads option=length type=line units=k

       Report number of features for each category in the input vector map:
       v.to.db -p roads option=count type=line

</pre><h4><b>REFERENCES</b></h4><pre>
           •   Mandelbrot, B. B. (1982). The fractal geometry of nature. New York: W. H. Freeman.

           •   Xu, Y. F. &amp; Sun, D. A. (2005). Geotechnique 55, No. 9, 691-695

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
         <u>d.what.vect,</u> <u>db.execute,</u> <u>v.category,</u> <u>v.db.addtable,</u> <u>v.db.addcolumn,</u> <u>v.db.connect,</u> <u>v.distance,</u> <u>v.report,</u>
       <u>v.univar,</u> <u>v.what</u>

</pre><h4><b>AUTHORS</b></h4><pre>
       Radim Blazek, ITC-irst, Trento, Italy
       Line sinuousity implemented by Wolf Bergenheim

</pre><h4><b>SOURCE</b> <b>CODE</b></h4><pre>
       Available at: v.to.db source code (history)

       Accessed: Friday Apr 04 01:20:37 2025

       Main index | Vector index | Topics index | Keywords index | Graphical index | Full index

       © 2003-2025 GRASS Development Team, GRASS GIS 8.4.1 Reference Manual

GRASS 8.4.1                                                                                      <u><a href="../man1grass/v.to.db.1grass.html">v.to.db</a></u>(1grass)
</pre>
 </div>
</div></section>
</div>
</body>
</html>