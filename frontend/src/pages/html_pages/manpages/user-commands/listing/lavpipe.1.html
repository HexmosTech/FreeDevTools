<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>lavpipe - creates raw YUV streams from pipe list scripts</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/mjpegtools">mjpegtools_2.1.0+debian-8.1build1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       lavpipe - creates raw YUV streams from pipe list scripts

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>lavpipe</b> [<b>-o</b> <u>num</u>] [<b>-n</b> <u>num</u>] <u>pipe-list</u>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       lavpipe  reads a script file called 'pipe list' that is of a similar structure as the edit lists that can
       be fed into lav2yuv.  For info about the pipe list format see below.

       The pipe list defines several video sources and filters that are combined by lavpipe to produce a  single
       output  YUV  stream  on stdout (which for example can be compressed and stored to disk via <b><a href="../man1/mpeg2enc.1.html">mpeg2enc</a></b>(1) or
       <b><a href="../man1/yuv2lav.1.html">yuv2lav</a></b>(1)).

</pre><h4><b>OPTIONS</b></h4><pre>
       The command line options are used to output a specific part of the resulting video  stream.   That  means
       you can tell lavpipe how many frames to skip and how many frames to deliver from that point on.

       <b>-o</b> <u>num</u> This  is  the frame offset of the output video. The first <u>num</u> frames of the resulting video simply
              are neither calculated nor written to stdout. This value defaults to 0.

       <b>-n</b> <u>num</u> This is the frame count. If the input files or streams defined in the pipe list  script  are  long
              enough,  the output will be of exactly <u>num</u> frames length. A value of 0 means that all frames until
              the last one as defined in the pipe list will be written out, as long as there's some input (0  is
              the default).

       <u>pipe-list</u>
              This is name of the pipe list file that lavpipe will 'execute'.  For information about this file's
              format see below.

       <b>-?</b>     Display a synopsis of the command syntax.

</pre><h4><b>EXAMPLES</b></h4><pre>
       lavpipe -o 100 -n 25 film.pli
              would  calculate  and output to stdout frames 100 to 124 as defined in film.pli (in PAL this would
              be the 5th second of the film).

       lavpipe input.pli | yuv2lav -q80 output.avi
              would save the movie assembled by lavpipe as a single AVI file.

</pre><h4><b>USAGE</b></h4><pre>
       In this section the format of lavpipe's input files the pipe list scripts is explained. If you need  some
       examples  or  a  more  detailed  tutorial, please read the <b><a href="../man1/mjpegtools.1.html">mjpegtools</a></b>(1) manpage's section about <b>CREATING</b>
       <b>MOVIE</b> <b>TRANSITIONS</b>. and the file <u>README.lavpipe</u> that should be included in the  distribution.   Also  feel
       free to contact us via the mailing list (see below).

       A  pipe  list contains of two parts: the YUV <b>source</b> <b>list</b> and after this, as many <b>sequence</b> <b>descriptions</b> as
       wanted. It always begins with the following two lines:

       <b>LAV</b> <b>Pipe</b> <b>List</b>
              This is the first line in every pipe list script. It is used as a simple test  if  lavpipe  really
              was given a pipe list script and not your PhD thesis as input.

       <b>NTSC</b>|<b>PAL</b>
              This  is the second line in every pipe list and can be either PAL or NTSC, depending on what video
              standard you use. I don't remember if this is used at the moment.

       Now follows the <b>source</b> <b>list</b>:

       <u>num</u>    This is the number of input commands. lavpipe will read the next <u>num</u> lines and interpret  them  as
              input stream commands.

       <u>command</u> (<u>num</u> times)
              This  is  a  valid command line with two variables $o and $n that will be replaced by lavpipe with
              the offset and number of frames that the program has to output. Example:
              <b>lav2yuv</b> <b>-o</b> <b>$o</b> <b>-f</b> <b>$n</b> <b>input.avi</b>

       Thus, an example <b>source</b> <b>list</b> could look like this:
       <b>2</b>
       <b>lav2yuv</b> <b>-o</b> <b>$o</b> <b>-f</b> <b>$n</b> <b>scene1.avi</b>
       <b>lav2yuv</b> <b>-o</b> <b>$o</b> <b>-f</b> <b>$n</b> <b>scene2.avi</b>

       after this you can append as many <b>sequence</b> <b>descriptions</b> as needed. Each of them is built up as follows:

       <u>num</u>    The number of frames that this sequence will last.

       <u>num</u>    The number of inputs that will be used in this sequence.  This number must of course be less  than
              or equal to the number of inputs that are defined above.

       <u>idx</u> [<u>ofs</u>] (<u>num</u> times)
              These  are  the indices to the sources that are defined at the beginning of the file (first source
              is 0) with an optional frame offset (i.e. sequence starts with frame number <u>ofs</u> of this input.)  -
              this value defaults to 0. Example:
              <b>0</b> <b>150</b>

       <u>command</u>
              This  is  a  valid  command  line to a YUV filter tool that reads <u>num</u> input streams and writes one
              output stream, combining its inputs. Optionally, the filter tool can be given the two  $o  and  $n
              variables that will be replaced by lavpipe as in the source commands (see above). For further info
              read <u>README.lavpipe</u> or the documentation for the filter programs (if available). An example filter
              could look like this:
              <b>transist.flt</b> <b>-o</b> <b>0</b> <b>-O</b> <b>255</b> <b>-s</b> <b>$o</b> <b>-n</b> <b>$n</b> <b>-d</b> <b>50</b>
              And  if  the sequence only has one input that simply should be copied to the output, you can use a
              dash instead of a command line:
              <b>-</b>

       And here's an example for a  complete  pipe  list  that  implements  a  transistion  from  scene1.avi  to
       scene2.avi

       <b>REMOVE</b> <b>THE</b> <b>COMMENTS</b> <b>AFTER</b> <b>The</b> <b>#</b>

       <b>LAV</b> <b>Pipe</b> <b>List</b>
       <b>PAL</b>
       <b>2</b>
       <b>lav2yuv</b> <b>-o</b> <b>$o</b> <b>-f</b> <b>$n</b> <b>scene1.avi</b>
       <b>lav2yuv</b> <b>-o</b> <b>$o</b> <b>-f</b> <b>$n</b> <b>scene2.avi</b>
       <b>50</b>            # first sequence: 50 frames
       <b>1</b>             #   contains one input:
       <b>0</b> <b>0</b>           #     scene1.avi, offset 0
       <b>-</b>             #   simple output
       <b>25</b>            # second sequence: 25 frames
       <b>2</b>             #   contains two inputs:
       <b>0</b> <b>50</b>          #     scene1.avi, offset 50
       <b>1</b>             #     scene2.avi, offset 0
       <b>transist.flt</b> <b>-o</b> <b>0</b> <b>-O</b> <b>255</b> <b>-s</b> <b>$o</b> <b>-n</b> <b>$n</b> <b>-d</b> <b>50</b> # transistion
       <b>50</b>            # third sequence: 50 frames
       <b>1</b>             #   contains one input:
       <b>1</b> <b>25</b>          #     scene2.avi, offset 25
       <b>-</b>             #   simple output

</pre><h4><b>BUGS</b></h4><pre>
       I'm sure there are enough of them. lavpipe often accepts malformed pipe lists and then writes out a video
       that was all but intended - without warning.

       <b>The</b>  <b>mention</b>  <b>of</b> <b>$n</b> <b>above</b> <b>is</b> <b>wrong.</b> <b>At</b> <b>one</b> <b>time</b> <b>there</b> <b>were</b> <b>two</b> <b>parameters</b> <b>but</b> <b>now</b> <b>a</b> <b>program</b> <b>is</b> <b>allowed</b> <b>to</b>
       <b>produce</b> <b>as</b> <b>many</b> <b>frames</b> <b>as</b> <b>it</b> <b>wants.</b> <b>THe</b> <b>author</b> <b>of</b> <b>the</b> <b>program</b> <b>hard</b> <b>coded,</b> <b>for</b> <b>reasons</b> <b>unknown,</b> <b>$n</b>  <b>to</b>  <b>be</b>
       <b>0.</b>

</pre><h4><b>NOTES</b></h4><pre>
       There are also some serious limitations in the system, such as frame-by-frame processing. But as the goal
       when  writing  lavpipe was the simplicity of the pipeline, other tools will have to be written to do more
       interesting tasks.
       But I want to note that it is very well possible to write a pipe list that combines  several  files,  and
       then  use  that  pipe  list  as an input for another pipe list by simply using the lavpipe command in the
       source list (see above) - this can be already used to do some nice things, if you have some nice filters.

       <b>Comments</b> <b>are</b> <b>NOT</b> <b>allowed</b> <b>in</b> <b>pipelist</b> <b>files.</b> <b>The</b> <b>comments</b> <b>(text</b> <b>after</b> <b>#)</b> <b>above</b> <b>are</b> <b>for</b> <b>illustration</b> <b>only.</b>

</pre><h4><b>AUTHOR</b></h4><pre>
       This man page was written by Philipp Zabel.
       If you have questions, remarks, problems or you just want to contact the  developers,  the  main  mailing
       list for the MJPEG-tools is:
         <u><a href="mailto:mjpeg-users@lists.sourceforge.net">mjpeg-users@lists.sourceforge.net</a></u>

       For more info, see our website at
              <u><a href="http://mjpeg.sourceforge.net">http://mjpeg.sourceforge.net</a></u>

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man1/lav2yuv.1.html">lav2yuv</a></b>(1), <b><a href="../man1/lavplay.1.html">lavplay</a></b>(1), <b><a href="../man1/lavrec.1.html">lavrec</a></b>(1), <b><a href="../man1/mpeg2enc.1.html">mpeg2enc</a></b>(1), <b><a href="../man1/yuv2lav.1.html">yuv2lav</a></b>(1), <b><a href="../man1/yuvscaler.1.html">yuvscaler</a></b>(1)

MJPEG Tools Team                                   2 June 2001                                        <u><a href="../man1/lavpipe.1.html">lavpipe</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>