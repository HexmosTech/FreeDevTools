<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>This article applies to: ‚úîÔ∏è .NET Core 3.1 SDK and later versions</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/dotnet-host-9.0">dotnet-host-9.0_9.0.7-0ubuntu1~25.04.1_amd64</a> <br><br><pre>
</pre><h4><b>dotnet</b> <b>watch</b></h4><pre>
       <b>This</b> <b>article</b> <b>applies</b> <b>to:</b> ‚úîÔ∏è .NET Core 3.1 SDK and later versions

</pre><h4><b>NAME</b></h4><pre>
       dotnet-watch  -  Restarts  or  hot reloads the specified application, or runs a specified dotnet command,
       when changes in source code are detected.

</pre><h4><b>SYNOPSIS</b></h4><pre>
              dotnet watch [&lt;command&gt;]
                [--list]
                [--no-hot-reload] [--non-interactive]
                [--project &lt;PROJECT&gt;]
                [-q|--quiet] [-v|--verbose]
                [--version]
                [--] &lt;forwarded arguments&gt;

              dotnet watch -?|-h|--help

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The <b>dotnet</b> <b>watch</b> command is a file watcher.  When it detects a change, it runs the <b>dotnet</b> <b>run</b> command  or
       a  specified  <b>dotnet</b>  command.  If it runs <b>dotnet</b> <b>run</b>, and the change is supported for hot reload, it hot
       reloads the specified application.  If the change isn‚Äôt supported, it  restarts  the  application.   This
       process enables fast iterative development from the command line.

       While  running  <b>dotnet</b> <b>watch</b>, you can force the app to rebuild and restart by pressing Ctrl+R in the com‚Äê
       mand shell.  This feature is available only while the app is running.  For example,  if  you  run  <b>dotnet</b>
       <b>watch</b>  on  a  console  app that ends before you press Ctrl+R, pressing Ctrl+R has no effect.  However, in
       that case <b>dotnet</b> <b>watch</b> is still watching files and will restart the app if a file is updated.

   <b>Response</b> <b>compression</b>
       If <b>dotnet</b> <b>watch</b> runs for an app that uses response compression, the tool can‚Äôt inject the browser refresh
       script.  The .NET 7 and later version of the tool displays a warning message like the following:

              warn: Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware[4]

              Unable to configure browser refresh script injection on the response.  This may have  been  caused
              by the response‚Äôs Content-Encoding: `br'.  Consider disabling response compression.

       As  an  alternative to disabling response compression, manually add the browser refresh JavaScript refer‚Äê
       ence to the app‚Äôs pages:

              @if (Environment.GetEnvironmentVariable("__ASPNETCORE_BROWSER_TOOLS") is not null)
              {
                  &lt;script src="/_framework/aspnetcore-browser-refresh.js"&gt;&lt;/script&gt;
              }

</pre><h4><b>ARGUMENTS</b></h4><pre>
       ‚Ä¢ <b>&lt;command&gt;</b>

         In .NET 7 SDK and earlier, <b>dotnet</b> <b>watch</b> can run any command that is  dispatched  via  the  <b>dotnet</b>  exe‚Äê
         cutable,  such as built-in CLI commands and global tools.  If you can run <b>dotnet</b> <b>&lt;command&gt;</b>, you can run
         <b>dotnet</b> <b>watch</b> <b>&lt;command&gt;</b>.

         In .NET 8 SDK and later, <b>dotnet</b> <b>watch</b> can run <b>dotnet</b> <b>run</b>, <b>dotnet</b> <b>build</b>, or <b>dotnet</b> <b>test</b>.   Specify  <b>run</b>,
         <b>build</b>, or <b>test</b> for <b>&lt;command&gt;</b>.

         If the child command isn‚Äôt specified, the default is <b>run</b> for <b>dotnet</b> <b>run</b>.

       ‚Ä¢ <b>&lt;forwarded</b> <b>arguments&gt;</b>

         Arguments  provided after a double dash (<b>--</b>) are passed to the child <b>dotnet</b> process.  If you‚Äôre running
         <b>dotnet</b> <b>watch</b> <b>run</b>, these arguments are options for dotnet run.  If you‚Äôre  running  <b>dotnet</b>  <b>watch</b>  <b>test</b>,
         these arguments are options for dotnet test.

</pre><h4><b>OPTIONS</b></h4><pre>
       ‚Ä¢ <b>--list</b>

         Lists all discovered files without starting the watcher.

       ‚Ä¢ <b>--no-hot-reload</b>

         Suppress hot reload for supported apps.

       ‚Ä¢ <b>--non-interactive</b>

         Runs  <b>dotnet</b>  <b>watch</b>  in  non-interactive mode.  Use this option to prevent console input from being re‚Äê
         quested.  When hot reload is enabled and a rude edit  is  detected,  dotnet  watch  restarts  the  app.
         Available since .NET 7 SDK.

       ‚Ä¢ <b>--project</b> <b>&lt;PATH&gt;</b>

         Specifies the path of the project file to run (folder only or including the project file name).  If not
         specified, it defaults to the current directory.

       ‚Ä¢ <b>-q|--quiet</b>

         Suppresses  all  output  that is generated by the <b>dotnet</b> <b>watch</b> command except warnings and errors.  The
         option is not passed on to child commands.  For example, output from <b>dotnet</b> <b>restore</b> and <b>dotnet</b> <b>run</b> con‚Äê
         tinues to be output.

       ‚Ä¢ <b>-v|--verbose</b>

         Shows verbose output for debugging.

       ‚Ä¢ <b>--version</b>

         Shows the version of <b>dotnet</b> <b>watch</b>.

       ‚Ä¢ <b>--</b>

         The double-dash option (`‚Äì') can be used to delimit <b>dotnet</b> <b>watch</b> options from arguments  that  will  be
         passed  to  the  child  process.   Its use is optional.  When the double-dash option isn‚Äôt used, <b>dotnet</b>
         <b>watch</b> considers the first unrecognized argument to be the beginning of arguments that  it  should  pass
         into the child <b>dotnet</b> process.

</pre><h4><b>ENVIRONMENT</b> <b>VARIABLES</b></h4><pre>
       <b>dotnet</b> <b>watch</b> uses the following environment variables:

       ‚Ä¢ <b>DOTNET_HOTRELOAD_NAMEDPIPE_NAME</b>

         This  value  is  configured  by <b>dotnet</b> <b>watch</b> when the app is to be launched, and it specifies the named
         pipe.

       ‚Ä¢ <b>DOTNET_USE_POLLING_FILE_WATCHER</b>

         When set to <b>1</b> or <b>true</b>, <b>dotnet</b> <b>watch</b> uses a polling file  watcher  instead  of  &lt;xref:System.IO.FileSys‚Äê
         temWatcher?displayProperty=nameWithType&gt;.   Polling  is required for some file systems, such as network
         shares,  Docker  mounted  volumes,  and  other  virtual  file  systems.    The   &lt;xref:Microsoft.Exten‚Äê
         sions.FileProviders.PhysicalFileProvider&gt;   class  uses  <b>DOTNET_USE_POLLING_FILE_WATCHER</b>  to  determine
         whether    the    &lt;xref:Microsoft.Extensions.FileProviders.PhysicalFileProvider.Watch%2A?displayProper‚Äê
         ty=nameWithType&gt;  method  will  rely  on the &lt;xref:Microsoft.Extensions.FileProviders.Physical.Polling‚Äê
         FileChangeToken&gt;.

       ‚Ä¢ <b>DOTNET_WATCH</b>

         <b>dotnet</b> <b>watch</b> sets this variable to <b>1</b> on all child processes that it launches.

       ‚Ä¢ <b>DOTNET_WATCH_AUTO_RELOAD_WS_HOSTNAME</b>

         As part of <b>dotnet</b> <b>watch</b>, the browser refresh server mechanism reads this value to  determine  the  Web‚Äê
         Socket  host  environment.   The value <b>127.0.0.1</b> is replaced by <b>localhost</b>, and the <b>http://</b> and <b>https://</b>
         schemes are replaced with <b>ws://</b> and <b>wss://</b> respectively.

       ‚Ä¢ <b>DOTNET_WATCH_ITERATION</b>

         <b>dotnet</b> <b>watch</b> sets this variable to <b>1</b> and increments by one each time a file is changed and the  command
         restarts or hot reloads the application.

       ‚Ä¢ <b>DOTNET_WATCH_SUPPRESS_BROWSER_REFRESH</b>

         When set to <b>1</b> or <b>true</b>, <b>dotnet</b> <b>watch</b> won‚Äôt refresh browsers when it detects file changes.

       ‚Ä¢ <b>DOTNET_WATCH_SUPPRESS_EMOJIS</b>

         With  the  .NET SDK 6.0.300 and later, <b>dotnet</b> <b>watch</b> emits non-ASCII characters to the console, as shown
         in the following example:

                dotnet watch üî• Hot reload enabled. For a list of supported edits, see https://aka.ms/dotnet/hot-reload.
                  üí° Press "Ctrl + R" to restart.
                dotnet watch üîß Building...
                dotnet watch üöÄ Started
                dotnet watch ‚åö Exited
                dotnet watch ‚è≥ Waiting for a file to change before restarting dotnet...

         On certain console hosts, these characters may appear garbled.  To avoid seeing garbled characters, set
         this variable to <b>1</b> or <b>true</b>.

       ‚Ä¢ <b>DOTNET_WATCH_SUPPRESS_LAUNCH_BROWSER</b>

         When set to <b>1</b> or <b>true</b>, <b>dotnet</b> <b>watch</b> won‚Äôt launch or refresh browsers for web  apps  that  have  <b>launch‚Äê</b>
         <b>Browser</b> configured in <u>launchSettings.json</u>.

       ‚Ä¢ <b>DOTNET_WATCH_SUPPRESS_MSBUILD_INCREMENTALISM</b>

         By default, <b>dotnet</b> <b>watch</b> optimizes the build by avoiding certain operations, such as running restore or
         re-evaluating  the  set  of  watched files on every file change.  If this variable is set to <b>1</b> or <b>true</b>,
         these optimizations are disabled.

       ‚Ä¢ <b>DOTNET_WATCH_SUPPRESS_STATIC_FILE_HANDLING</b>

         When set to <b>1</b> or <b>true</b>, <b>dotnet</b> <b>watch</b> won‚Äôt do special handling for static content files.   <b>dotnet</b>  <b>watch</b>
         sets MSBuild property <b>DotNetWatchContentFiles</b> to <b>false</b>.

       ‚Ä¢ <b>DOTNET_WATCH_RESTART_ON_RUDE_EDIT</b>

         When set to <b>1</b> or <b>true</b>, <b>dotnet</b> <b>watch</b> will always restart on rude edits instead of asking.

   <b>Files</b> <b>watched</b> <b>by</b> <b>default</b>
       <b>dotnet</b>  <b>watch</b>  watches all items in the <b>Watch</b> item group in the project file.  By default, this group in‚Äê
       cludes all items in the <b>Compile</b> and <b>EmbeddedResource</b> groups.  <b>dotnet</b> <b>watch</b> also scans the entire graph of
       project references and watches all files within those projects.

       By default, the <b>Compile</b> and <b>EmbeddedResource</b> groups include all files matching the  following  glob  pat‚Äê
       terns:

       ‚Ä¢ <b>**/*.cs</b>

       ‚Ä¢ <b>*.csproj</b>

       ‚Ä¢ <b>**/*.resx</b>

       ‚Ä¢ Content files in web apps: <b>wwwroot/**</b>

       By  default, <u>.config</u>, and <u>.json</u> files don‚Äôt trigger a dotnet watch restart because the configuration sys‚Äê
       tem has its own mechanisms for handling configuration changes.

       Files can be added to the watch list or removed from the list by editing the project file.  Files can  be
       specified individually or by using glob patterns.

   <b>Watch</b> <b>additional</b> <b>files</b>
       More  files can be watched by adding items to the <b>Watch</b> group.  For example, the following markup extends
       that group to include JavaScript files:

              &lt;ItemGroup&gt;
                &lt;Watch Include="**\*.js" Exclude="node_modules\**\*;**\*.js.map;obj\**\*;bin\**\*" /&gt;
              &lt;/ItemGroup&gt;

   <b>Ignore</b> <b>specified</b> <b>files</b>
       <b>dotnet</b> <b>watch</b> will ignore <b>Compile</b> and <b>EmbeddedResource</b> items that have  the  <b>Watch="false"</b>  attribute,  as
       shown in the following example:

              &lt;ItemGroup&gt;
                &lt;Compile Update="Generated.cs" Watch="false" /&gt;
                &lt;EmbeddedResource Update="Strings.resx" Watch="false" /&gt;
              &lt;/ItemGroup&gt;

       <b>dotnet</b>  <b>watch</b>  will ignore project references that have the <b>Watch="false"</b> attribute, as shown in the fol‚Äê
       lowing example:

              &lt;ItemGroup&gt;
                &lt;ProjectReference Include="..\ClassLibrary1\ClassLibrary1.csproj" Watch="false" /&gt;
              &lt;/ItemGroup&gt;

   <b>Advanced</b> <b>configuration</b>
       <b>dotnet</b> <b>watch</b> performs a design-time build to find items to watch.  When this build is run,  <b>dotnet</b>  <b>watch</b>
       sets the property <b>DotNetWatchBuild=true</b>.  This property can be used as shown in the following example:

              &lt;ItemGroup Condition="'$(DotNetWatchBuild)'=='true'"&gt;
                &lt;!-- only included in the project when dotnet-watch is running --&gt;
              &lt;/ItemGroup&gt;

   <b>Hot</b> <b>Reload</b>
       Starting  in .NET 6, <b>dotnet</b> <b>watch</b> includes support for <u>hot</u> <u>reload</u>.  Hot reload is a feature that lets you
       apply changes to a running app without having to rebuild and restart it.  The  changes  may  be  to  code
       files  or static assets, such as stylesheet files and JavaScript files.  This feature streamlines the lo‚Äê
       cal development experience, as it gives immediate feedback when you modify your app.

       For information about app types and .NET versions that support hot reload, see Supported .NET app  frame‚Äê
       works and scenarios.

   <b>Rude</b> <b>edits</b>
       When  a file is modified, <b>dotnet</b> <b>watch</b> determines if the app can be hot reloaded.  If it can‚Äôt be hot re‚Äê
       loaded, the change is called a <u>rude</u> <u>edit</u> and <b>dotnet</b> <b>watch</b> asks if you want to restart the app:

              dotnet watch ‚åö Unable to apply hot reload because of a rude edit.
                ‚ùî Do you want to restart your app - Yes (y) / No (n) / Always (a) / Never (v)?

       ‚Ä¢ <b>Yes</b>: Restarts the app.

       ‚Ä¢ <b>No</b>: Leaves the app running without the changes applied.

       ‚Ä¢ <b>Always</b>: Restarts the app and doesn‚Äôt prompt anymore for rude edits.

       ‚Ä¢ <b>Never</b>: Leaves the app running without the changes applied and doesn‚Äôt prompt anymore for rude edits.

       For information about what kinds of changes are considered rude edits, see Edit code and continue  debug‚Äê
       ging and Unsupported changes to code.

       To  disable hot reload when you run <b>dotnet</b> <b>watch</b>, use the <b>--no-hot-reload</b> option, as shown in the follow‚Äê
       ing example:

       <b>.NET</b> <b>CLI</b> <b>dotnet</b> <b>watch</b> <b>--no-hot-reload</b>

</pre><h4><b>EXAMPLES</b></h4><pre>
       ‚Ä¢ Run <b>dotnet</b> <b>run</b> for the project in the current directory whenever source code changes:

                dotnet watch

         Or:

                dotnet watch run

       ‚Ä¢ Run <b>dotnet</b> <b>test</b> for the project in the current directory whenever source code changes:

                dotnet watch test

       ‚Ä¢ Run <b>dotnet</b> <b>run</b> <b>--project</b> <b>./HelloWorld.csproj</b> whenever source code changes:

                dotnet watch run --project  ./HelloWorld.csproj

       ‚Ä¢ Run <b>dotnet</b> <b>run</b> <b>--</b> <b>arg0</b> for the project in the current directory whenever source code changes:

                dotnet watch run -- arg0

         Or:

                dotnet watch -- run arg0

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       ‚Ä¢ Tutorial: Develop ASP.NET Core apps using a file watcher

       ‚Ä¢ Hot reload in Visual Studio

       ‚Ä¢ Hot reload supported apps

       ‚Ä¢ Hot reload supported code changes

       ‚Ä¢ Hot reload test execution

       ‚Ä¢ Hot reload support for ASP.NET Core

                                                   2024-10-02                                    <u><a href="../man1/dotnet-watch.1.html">dotnet-watch</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>