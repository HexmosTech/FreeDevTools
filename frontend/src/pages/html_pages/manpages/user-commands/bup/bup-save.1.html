<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>bup-save - create a new bup backup set</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/bup-doc">bup-doc_0.33.7-1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       bup-save - create a new bup backup set

</pre><h4><b>SYNOPSIS</b></h4><pre>
       bup save [-r <u>host</u>:<u>path</u>] &lt;-t|-c|-n <u>name</u>&gt; [-#] [-f <u>indexfile</u>] [-v] [-q] [--smaller=<u>maxsize</u>] &lt;paths...&gt;;

</pre><h4><b>DESCRIPTION</b></h4><pre>
       bup  save  saves the contents of the given files or paths into a new backup set and optionally names that
       backup set.

       Note that in order to refer to your backup set later (i.e. for  restoration),  you  must  either  specify
       --name (the normal case), or record the tree or commit id printed by --tree or --commit.

       Before  trying  to  save  files  using  bup save, you should first update the index using bup index.  The
       reasons for separating the two steps are described in the man page for <a href="../man1/bup-index.1.html">bup-index</a>(1).

       By default, metadata will be saved for every path, and the metadata for any unindexed parent  directories
       of  indexed  paths  will  be  taken  directly from the filesystem.  However, if --strip, --strip-path, or
       --graft is specified, metadata will not be saved for the root directory (<u>/</u>).  See <a href="../man1/bup-restore.1.html">bup-restore</a>(1) for more
       information about the handling of metadata.

</pre><h4><b>OPTIONS</b></h4><pre>
       -r, --remote=<u>host</u>:<u>path</u>
              save the backup set to the given remote server.  If <u>path</u> is omitted, uses the default path on  the
              remote  server  (you  still need to include the `:').  The connection to the remote server is made
              with SSH.  If you’d like to specify which port, user or private key to use for the SSH connection,
              we recommend you use the <a href="file:~/.ssh/config">~/.ssh/config</a> file.

       -t, --tree
              after creating the backup set, print out the git tree id of the resulting backup.

       -c, --commit
              after creating the backup set, print out the git commit id of the resulting backup.

       -n, --name=<u>name</u>
              after creating the backup set, create a git branch named <u>name</u> so that the backup can  be  accessed
              using  that  name.   If <u>name</u> already exists, the new backup will be considered a descendant of the
              old <u>name</u>.  (Thus, you can continually create new backup sets with the same name,  and  later  view
              the history of that backup set to see how files have changed over time.)

       -d, --date=<u>date</u>
              specify the date of the backup, in seconds since the epoch, instead of the current time.

       -f, --indexfile=<u>indexfile</u>
              use a different index filename instead of $BUP_DIR/bupindex.

       -v, --verbose
              increase  verbosity  (can be used more than once).  With one -v, prints every directory name as it
              gets backed up.  With two -v, also prints every filename.

       -q, --quiet
              disable progress messages.

       --smaller=<u>maxsize</u>
              don’t back up files &gt;= <u>maxsize</u> bytes.  You can use this to run  frequent  incremental  backups  of
              your  small  files, which can usually be backed up quickly, and skip over large ones (like virtual
              machine images) which take longer.  Then you can back up the large files less frequently.   Use  a
              suffix like k, M, or G to specify multiples of 1024, 1024*1024, 1024*1024*1024 respectively.

       --bwlimit=<u>bytes/sec</u>
              don’t  transmit  more than <u>bytes/sec</u> bytes per second to the server.  This is good for making your
              backups not suck up all your network bandwidth.  Use a suffix like k, M, or G to specify multiples
              of 1024, 1024*1024, 1024*1024*1024 respectively.

       --strip
              strips the path that is given from all files and directories.

              A directory <u>/root/chroot/etc</u> saved with “bup save -n chroot --strip /root/chroot” would  be  saved
              as  <u><a href="file:/etc">/etc</a></u>.   Note  that  currently, metadata will not be saved for the root directory (<u>/</u>) when this
              option is specified.

       --strip-path=<u>path-prefix</u>
              strips the given path prefix <u>path-prefix</u> from all files and directories.

              A directory <u>/root/chroot/webserver/etc</u> saved with “bup save -n webserver --strip-path=/root/chroot
              /root/chroot/webserver/etc” would be saved as <u>/webserver/etc</u>.  Note that currently, metadata  will
              not be saved for the root directory (<u>/</u>) when this option is specified.

       --graft=<u>old_path</u>=<u>new_path</u>
              a graft point <u>old_path</u>=<u>new_path</u> (can be used more than once).

              A  directory  <u>/root/chroot/a/etc</u>  saved with “bup save -n chroot --graft /root/chroot/a=/chroot/a”
              would be saved as <u>/chroot/a/etc</u>.  Note that currently, metadata will not be  saved  for  the  root
              directory (<u>/</u>) when this option is specified.

       -<u>#</u>, --compress=<u>#</u>
              set the compression level to # (a value from 0-9, where 9 is the highest and 0 is no compression).
              The default is 1 (fast, loose compression)

</pre><h4><b>EXAMPLES</b></h4><pre>
              $ bup index -ux <a href="file:/etc">/etc</a>
              Indexing: 1981, done.

              $ bup save -r myserver: -n my-pc-backup --bwlimit=50k <a href="file:/etc">/etc</a>
              Reading index: 1981, done.
              Saving: 100.00% (998/998k, 1981/1981 files), done.

              $ ls /home/joe/chroot/httpd
              bin var

              $ bup index -ux /home/joe/chroot/httpd
              Indexing: 1337, done.

              $ bup save --strip -n joes-httpd-chroot /home/joe/chroot/httpd
              Reading index: 1337, done.
              Saving: 100.00% (998/998k, 1337/1337 files), done.

              $ bup ls joes-httpd-chroot/latest/
              bin/
              var/

              $ bup save --strip-path=/home/joe/chroot -n joes-chroot \
                   /home/joe/chroot/httpd
              Reading index: 1337, done.
              Saving: 100.00% (998/998k, 1337/1337 files), done.

              $ bup ls joes-chroot/latest/
              httpd/

              $ bup save --graft /home/joe/chroot/httpd=/http-chroot \
                   -n joe
                   /home/joe/chroot/httpd
              Reading index: 1337, done.
              Saving: 100.00% (998/998k, 1337/1337 files), done.

              $ bup ls joe/latest/
              http-chroot/

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <a href="../man1/bup-index.1.html">bup-index</a>(1), <a href="../man1/bup-split.1.html">bup-split</a>(1), <a href="../man1/bup-on.1.html">bup-on</a>(1), <a href="../man1/bup-restore.1.html">bup-restore</a>(1), <a href="../man5/ssh_config.5.html">ssh_config</a>(5)

</pre><h4><b>BUP</b></h4><pre>
       Part of the <a href="../man1/bup.1.html">bup</a>(1) suite.

</pre><h4><b>AUTHORS</b></h4><pre>
       Avery Pennarun <a href="mailto:apenwarr@gmail.com">apenwarr@gmail.com</a>

Bup 0.33.7                                         2025-01-11                                        <u><a href="../man1/bup-save.1.html">bup-save</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>