<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>sbcast - transmit a file to the nodes allocated to a Slurm job.</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/slurm-client">slurm-client_24.11.3-2_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       sbcast - transmit a file to the nodes allocated to a Slurm job.

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>sbcast</b> [-CfFjpstvV] SOURCE DEST

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>sbcast</b> is used to transmit a file to all nodes allocated to the currently active Slurm job.  This command
       should  only  be  executed  from within a Slurm batch job or within the shell spawned after a Slurm job's
       resource allocation.  <b>SOURCE</b> is the name of a file on  the  current  node.   <b>DEST</b>  should  be  the  fully
       qualified  pathname  for  the file copy to be created on each node.  If a fully qualified pathname is not
       provided, the file will be created in the directory specified in the  <b>BcastParameters</b>  parameter  in  the
       slurm.conf  file  (if available) otherwise it will be created in the current working directory from which
       the sbcast command is invoked.  <b>DEST</b> should be on a file system local to that node.  Note  that  parallel
       file  systems  <u>may</u>  provide better performance than <b>sbcast</b> can provide, although performance will vary by
       file size, degree of parallelism, and network type.

</pre><h4><b>OPTIONS</b></h4><pre>
       <b>-C</b>, <b>--compress</b>[=<u>library</u>]
              Compress the file being transmitted.  The optional argument specifies the data compression library
              to be used.  Supported values are "lz4" (default) and "none".  Some compression libraries  may  be
              unavailable  on  some  systems.  The default compression library (and enabling compression itself)
              may be set in the slurm.conf file using the BcastParameters option.

       <b>--exclude</b>=&lt;<u>NONE</u>|<u>path1</u>,<u>...</u>,<u>pathN</u>&gt;
              Comma-separated  list  of  absolute  directory  paths  to  be  excluded  when  autodetecting   and
              broadcasting  executable  shared  object  dependencies.  If  the  keyword "<u>NONE</u>" is configured, no
              directory paths will be excluded. The default value is that of slurm.conf  <b>BcastExclude</b>  and  this
              option overrides it. See also <b>--send-libs</b>.

       <b>-f</b>, <b>--force</b>
              If  the  destination  file  (and the destination library directory when using <b>--send-libs</b>) already
              exists, replace it.

       <b>-j</b>, <b>--jobid</b>=&lt;<u>jobID</u>[.<u>stepID</u>]&gt;
              Specify the job ID to use with optional step ID. If run inside an allocation this is  unneeded  as
              the job ID will read from the environment.

       <b>-Z</b>, <b>--no-allocation</b>
              Transmit  files  to a list of nodes regardless of what jobs they may be running.  This can only be
              done by SlurmUser/root.

              <b>--nodelist</b> must be used with this option.

       <b>-w</b>, <b>--nodelist</b>=&lt;<u>node_name_list</u>&gt;
              List of hosts to transmit files to. These nodes must be a subset of the targeted job, or the <b>--no-</b>
              <b>allocation</b> option must be used.

       <b>-p</b>, <b>--preserve</b>
              Preserves modification times, access times, and modes from the original file.

       <b>--send-libs</b>[=<u>yes</u>|<u>no</u>]
              If set to  <u>yes</u>  (or  no  argument),  autodetect  and  broadcast  the  executable's  shared  object
              dependencies  to  allocated  compute  nodes.  The  files  are  placed in a directory alongside the
              executable.  This  overrides  the  default  behavior  configured  in  slurm.conf  <b>SbcastParameters</b>
              <b>send_libs</b>. See also <b>--exclude</b>.

       <b>-s</b>, <b>--size</b>=&lt;<u>size</u>&gt;
              Specify  the  block  size  used  for  file  broadcast.   The  size can have a suffix of <u>k</u> or <u>m</u> for
              kilobytes or megabytes respectively (defaults to bytes).  This size subject to rounding and  range
              limits  to  maintain  good  performance.   The default value is the file size or 8MB, whichever is
              smaller.  This value may need to be set on systems with very limited memory.

       <b>-t</b>, <b>--timeout</b>=&lt;<u>seconds</u>&gt;
              Specify the message timeout in seconds.  The  default  value  is  <u>MessageTimeout</u>  as  reported  by
              "scontrol  show  config".   Setting  a  higher  value  may  be necessitated by relatively slow I/O
              performance on the compute node disks.

       <b>-F</b>, <b>--treewidth</b>=&lt;<u>number</u>&gt;
              Specify the treewidth of messages used for file transfer.  Maximum value is currently 64. A  value
              of "off" disables the fanout.

       <b>-v</b>, <b>--verbose</b>
              Provide detailed event logging through program execution.

       <b>-V</b>, <b>--version</b>
              Print version information and exit.

</pre><h4><b>PERFORMANCE</b></h4><pre>
       Executing  <b>sbcast</b>  sends a remote procedure call to <b>slurmctld</b>. If enough calls from <b>sbcast</b> or other Slurm
       client commands that send remote procedure calls to the <b>slurmctld</b> daemon come in at once, it  can  result
       in a degradation of performance of the <b>slurmctld</b> daemon, possibly resulting in a denial of service.

       Do not run <b>sbcast</b> or other Slurm client commands that send remote procedure calls to <b>slurmctld</b> from loops
       in  shell  scripts or other programs. Ensure that programs limit calls to <b>sbcast</b> to the minimum necessary
       for the information you are trying to gather.

</pre><h4><b>ENVIRONMENT</b> <b>VARIABLES</b></h4><pre>
       Some <b>sbcast</b> options may be set via environment variables.  These environment variables, along with  their
       corresponding  options,  are  listed  below.  (Note:  Command  line  options  will  always override these
       settings.)

       <b>SBCAST_COMPRESS</b>     <b>-C,</b> <b>--compress</b>

       <b>SBCAST_EXCLUDE</b>      <b>--exclude</b>=&lt;<u>NONE</u>|<u>path1</u>,<u>...</u>,<u>pathN</u>&gt;

       <b>SBCAST_FANOUT</b>       <b>-F</b> <u>number</u>, <b>--fanout</b>=<u>number</u>

       <b>SBCAST_FORCE</b>        <b>-f,</b> <b>--force</b>

       <b>SBCAST_SEND_LIBS</b>    <b>--send-libs</b>[=<u>yes|no</u>]

       <b>SBCAST_PRESERVE</b>     <b>-p,</b> <b>--preserve</b>

       <b>SBCAST_SIZE</b>         <b>-s</b> <u>size</u>, <b>--size</b>=<u>size</u>

       <b>SBCAST_TIMEOUT</b>      <b>-t</b> <u>seconds</u>, <b>--timeout</b>=<u>seconds</u>

       <b>SLURM_CONF</b>          The location of the Slurm configuration file.

       <b>SLURM_DEBUG_FLAGS</b>   Specify debug flags for sbcast to use. See DebugFlags in the <b><a href="../man5/slurm.conf.5.html">slurm.conf</a></b>(5)  man  page
                           for  a full list of flags. The environment variable takes precedence over the setting
                           in the slurm.conf.

</pre><h4><b>AUTHORIZATION</b></h4><pre>
       When using SlurmDBD, users who have an AdminLevel defined (Operator or Admin) are given the authority  to
       invoke sbcast on other users jobs.

</pre><h4><b>EXAMPLES</b></h4><pre>
       Using a batch script, transmit local file <b>my.prog</b> to <b>/tmp/my.proc</b> on the local nodes and then execute it.

       $ cat my.job
       #!<a href="file:/bin/bash">/bin/bash</a>
       sbcast my.prog /tmp/my.prog
       srun /tmp/my.prog

       $ sbatch --nodes=8 my.job
       srun: jobid 12345 submitted

</pre><h4><b>COPYING</b></h4><pre>
       Copyright  (C)  2006-2010  The  Regents  of the University of California.  Produced at Lawrence Livermore
       National Laboratory (cf, DISCLAIMER).
       Copyright (C) 2010-2022 SchedMD LLC.

       This   file   is   part   of   Slurm,   a   resource    management    program.     For    details,    see
       &lt;https://slurm.schedmd.com/&gt;.

       Slurm  is  free  software;  you  can  redistribute it and/or modify it under the terms of the GNU General
       Public License as published by the Free Software Foundation; either version 2 of the License, or (at your
       option) any later version.

       Slurm is distributed in the hope that it will be useful, but  WITHOUT  ANY  WARRANTY;  without  even  the
       implied  warranty  of  MERCHANTABILITY  or  FITNESS  FOR A PARTICULAR PURPOSE. See the GNU General Public
       License for more details.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man1/srun.1.html">srun</a></b>(1)

September 2024                                   Slurm Commands                                        <u><a href="../man1/sbcast.1.html">sbcast</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>