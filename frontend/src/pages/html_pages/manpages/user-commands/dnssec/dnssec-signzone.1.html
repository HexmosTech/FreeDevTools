<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>dnssec-signzone - DNSSEC zone signing tool</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/bind9-utils">bind9-utils_9.20.4-3ubuntu1.2_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       dnssec-signzone - DNSSEC zone signing tool

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>dnssec-signzone</b>  [<b>-a</b>] [<b>-c</b> class] [<b>-d</b> directory] [<b>-D</b>] [<b>-E</b> engine] [<b>-e</b> end-time] [<b>-f</b> output-file] [<b>-F</b>] [<b>-g</b>]
       [<b>-G</b> <b>sync-records</b>] [<b>-h</b>] [<b>-i</b> interval] [<b>-I</b> input-format] [<b>-j</b> jitter] [<b>-J</b> filename] [<b>-K</b> directory] [<b>-k</b>  key]
       [<b>-L</b>  serial]  [<b>-M</b>  maxttl] [<b>-N</b> soa-serial-format] [<b>-o</b> origin] [<b>-O</b> output-format] [<b>-P</b>] [<b>-Q</b>] [<b>-q</b>] [<b>-R</b>] [<b>-S</b>]
       [<b>-s</b> start-time] [<b>-T</b> ttl] [<b>-t</b>] [<b>-u</b>] [<b>-v</b> level] [<b>-V</b>]  [<b>-X</b>  extended  end-time]  [<b>-x</b>]  [<b>-z</b>]  [<b>-3</b>  salt]  [<b>-H</b>
       iterations] [<b>-A</b>] {zonefile} [key...]

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>dnssec-signzone</b>  signs  a  zone; it generates NSEC and RRSIG records and produces a signed version of the
       zone. The security status of delegations from the signed zone (that  is,  whether  the  child  zones  are
       secure) is determined by the presence or absence of a <b>keyset</b> file for each child zone.

</pre><h4><b>OPTIONS</b></h4><pre>
       <b>-a</b>     This option verifies all generated signatures.

       <b>-c</b> <b>class</b>
              This option specifies the DNS class of the zone.

       <b>-C</b>     This  option  sets compatibility mode, in which a <b>keyset-zonename</b> file is generated in addition to
              <b>dsset-zonename</b> when signing a zone, for use by older versions of <b>dnssec-signzone</b>.

       <b>-d</b> <b>directory</b>
              This option indicates the directory where BIND 9 should look for <b>dsset-</b> or <b>keyset-</b> files.

       <b>-D</b>     This option indicates that only those record types automatically managed by <b>dnssec-signzone</b>, i.e.,
              RRSIG, NSEC, NSEC3 and NSEC3PARAM records, should be included in the output.  If smart signing  (‚Äê
              <u>-S</u>) is used, DNSKEY records are also included.  The resulting file can be included in the original
              zone file with <b>$INCLUDE</b>. This option cannot be combined with <u>-O</u> <u>raw</u> or serial-number updating.

       <b>-E</b> <b>engine</b>
              This option specifies the hardware to use for cryptographic operations, such as a secure key store
              used for signing, when applicable.

              When  BIND  9  is  built  with OpenSSL, this needs to be set to the OpenSSL engine identifier that
              drives the cryptographic accelerator or hardware service module (usually <b>pkcs11</b>).

       <b>-F</b>     This options turns on FIPS (US Federal Information Processing Standards) mode  if  the  underlying
              crytographic library supports running in FIPS mode.

       <b>-g</b>     This option indicates that DS records for child zones should be generated from a <b>dsset-</b> or <b>keyset-</b>
              file. Existing DS records are removed.

       <b>-G</b> <b>sync-records</b>
              This  option  indicates  which  CDS  and  CDNSKEY  records  should be generated. <b>sync-records</b> is a
              comma-separated string with the following allowed items:  <b>cdnskey</b>,  and  <b>cds:&lt;digest-type&gt;</b>,  where
              <b>digest-type</b>  is  an  allowed  algorithm  such  as  SHA-256  (2),  or  SHA-384  (4).  Only works in
              combination with smart signing (<b>-S</b>).

       <b>-J</b> <b>filename</b>
              This option tells <b>dnssec-signzone</b> to read the journal from the given file when  loading  the  zone
              file.

       <b>-K</b> <b>directory</b>
              This  option  specifies  the directory to search for DNSSEC keys. If not specified, it defaults to
              the current directory.

       <b>-k</b> <b>key</b> This option tells BIND 9 to treat the specified key as a key-signing key, ignoring any key  flags.
              This option may be specified multiple times.

       <b>-M</b> <b>maxttl</b>
              This option sets the maximum TTL for the signed zone. Any TTL higher than <b>maxttl</b> in the input zone
              is  reduced to <b>maxttl</b> in the output. This provides certainty as to the largest possible TTL in the
              signed zone, which is useful to know when rolling keys. The maxttl is the  longest  possible  time
              before  signatures  that  have been retrieved by resolvers expire from resolver caches. Zones that
              are signed with this option should be configured to use a  matching  <b>max-zone-ttl</b>  in  <u>named.conf</u>.
              (Note:  This  option  is  incompatible  with <u>-D</u>, because it modifies non-DNSSEC data in the output
              zone.)

       <b>-s</b> <b>start-time</b>
              This option specifies the date and time when the generated RRSIG records become valid. This can be
              either an absolute or relative  time.  An  absolute  start  time  is  indicated  by  a  number  in
              YYYYMMDDHHMMSS  notation;  20000530144500 denotes 14:45:00 UTC on May 30th, 2000. A relative start
              time is indicated by <b>+N</b>, which is N seconds from the current time. If no <b>start-time</b> is  specified,
              the current time minus 1 hour (to allow for clock skew) is used.

       <b>-e</b> <b>end-time</b>
              This  option  specifies  the  date  and  time  when  the  generated  RRSIG records expire. As with
              <b>start-time</b>, an absolute time is indicated in YYYYMMDDHHMMSS notation. A time relative to the start
              time is indicated with <b>+N</b>, which is N seconds from the start time. A time relative to the  current
              time  is  indicated  with  <b>now+N</b>.  If no <b>end-time</b> is specified, 30 days from the start time is the
              default.  <b>end-time</b> must be later than <b>start-time</b>.

       <b>-X</b> <b>extended</b> <b>end-time</b>
              This option specifies the date and time when the generated RRSIG  records  for  the  DNSKEY  RRset
              expire.  This  is  to  be  used  in  cases  when the DNSKEY signatures need to persist longer than
              signatures on other records; e.g., when the private component of the KSK is kept offline  and  the
              KSK signature is to be refreshed manually.

              As with <b>end-time</b>, an absolute time is indicated in YYYYMMDDHHMMSS notation. A time relative to the
              start  time  is  indicated with <b>+N</b>, which is N seconds from the start time. A time relative to the
              current time is indicated with <b>now+N</b>. If no <b>extended</b> <b>end-time</b> is specified, the value of  <b>end-time</b>
              is  used  as  the  default. (<b>end-time</b>, in turn, defaults to 30 days from the start time.) <b>extended</b>
              <b>end-time</b> must be later than <b>start-time</b>.

       <b>-f</b> <b>output-file</b>
              This option indicates the name of the output file containing the signed zone. The  default  is  to
              append  <b>.signed</b> to the input filename. If <b>output-file</b> is set to <b>-</b>, then the signed zone is written
              to the standard output, with a default output format of <b>full</b>.

       <b>-h</b>     This option prints a short summary of the options and arguments to <b>dnssec-signzone</b>.

       <b>-V</b>     This option prints version information.

       <b>-i</b> <b>interval</b>
              This option indicates that, when a previously signed zone is  passed  as  input,  records  may  be
              re-signed. The <b>interval</b> option specifies the cycle interval as an offset from the current time, in
              seconds.  If  a  RRSIG  record  expires after the cycle interval, it is retained; otherwise, it is
              considered to be expiring soon and it is replaced.

              The default cycle interval is one quarter of the difference between the signature  end  and  start
              times.  So  if  neither <b>end-time</b> nor <b>start-time</b> is specified, <b>dnssec-signzone</b> generates signatures
              that are valid for 30 days, with a cycle interval of 7.5 days. Therefore, if  any  existing  RRSIG
              records are due to expire in less than 7.5 days, they are replaced.

       <b>-I</b> <b>input-format</b>
              This  option  sets the format of the input zone file. Possible formats are <b>text</b> (the default), and
              <b>raw</b>. This option is primarily intended to be used for dynamic signed zones,  so  that  the  dumped
              zone  file  in  a  non-text  format containing updates can be signed directly.  This option is not
              useful for non-dynamic zones.

       <b>-j</b> <b>jitter</b>
              When signing a zone with a fixed signature lifetime, all RRSIG  records  issued  at  the  time  of
              signing expire simultaneously. If the zone is incrementally signed, i.e., a previously signed zone
              is  passed as input to the signer, all expired signatures must be regenerated at approximately the
              same time. The <b>jitter</b> option specifies a jitter window that is used  to  randomize  the  signature
              expire time, thus spreading incremental signature regeneration over time.

              Signature  lifetime  jitter also, to some extent, benefits validators and servers by spreading out
              cache expiration, i.e., if large numbers of RRSIGs do not expire at the same time from all caches,
              there is less congestion than if all validators need to refetch at around the same time.

       <b>-L</b> <b>serial</b>
              When writing a signed zone to "raw" format, this option sets the  "source  serial"  value  in  the
              header  to  the  specified  <b>serial</b>  number.  (This  is  expected  to be used primarily for testing
              purposes.)

       <b>-n</b> <b>ncpus</b>
              This option specifies the number of threads to use. By default, one thread  is  started  for  each
              detected CPU.

       <b>-N</b> <b>soa-serial-format</b>
              This  option  sets the SOA serial number format of the signed zone. Possible formats are <b>keep</b> (the
              default), <b>increment</b>, <b>unixtime</b>, and <b>date</b>.

              <b>keep</b>   This format indicates that the SOA serial number should not be modified.

              <b>increment</b>
                     This format increments the SOA serial number using <u>RFC</u> <u>1982</u> arithmetic.

              <b>unixtime</b>
                     This format sets the SOA serial number to the number of seconds since the beginning of  the
                     Unix  epoch,  unless  the  serial number is already greater than or equal to that value, in
                     which case it is simply incremented by one.

              <b>date</b>   This format sets the SOA serial number to today's date, in YYYYMMDDNN  format,  unless  the
                     serial  number  is  already greater than or equal to that value, in which case it is simply
                     incremented by one.

       <b>-o</b> <b>origin</b>
              This option sets the zone origin. If not specified, the name of the zone file is assumed to be the
              origin.

       <b>-O</b> <b>output-format</b>
              This option sets the format of the output file containing the signed zone.  Possible  formats  are
              <b>text</b>  (the default), which is the standard textual representation of the zone; <b>full</b>, which is text
              output in a format suitable for processing by external scripts; and <b>raw</b> and <b>raw=N</b>, which store the
              zone in binary formats for rapid loading by <u>named</u>. <b>raw=N</b> specifies the format version of  the  raw
              zone file: if N is 0, the raw file can be read by any version of <u>named</u>; if N is 1, the file can be
              read by release 9.9.0 or higher. The default is 1.

       <b>-P</b>     This option disables post-sign verification tests.

              The  post-sign  verification  tests  ensure  that  for each algorithm in use there is at least one
              non-revoked self-signed KSK key, that all revoked KSK keys are self-signed, and that  all  records
              in the zone are signed by the algorithm. This option skips these tests.

       <b>-Q</b>     This option removes signatures from keys that are no longer active.

              Normally,  when a previously signed zone is passed as input to the signer, and a DNSKEY record has
              been removed and replaced with a new one, signatures from the old key that are still within  their
              validity  period  are retained. This allows the zone to continue to validate with cached copies of
              the old DNSKEY RRset. The <u>-Q</u> option forces <b>dnssec-signzone</b> to remove signatures from keys that are
              no longer active. This enables ZSK rollover using the  procedure  described  in  <u>RFC</u>  <u>6781#4.1.1.1</u>
              ("Pre-Publish Key Rollover").

       <b>-q</b>     This  option  enables  quiet  mode, which suppresses unnecessary output. Without this option, when
              <b>dnssec-signzone</b> is run it prints three pieces of information to standard  output:  the  number  of
              keys  in  use;  the  algorithms  used  to  verify  the  zone was signed correctly and other status
              information; and the filename  containing  the  signed  zone.  With  the  option  that  output  is
              suppressed, leaving only the filename.

       <b>-R</b>     This option removes signatures from keys that are no longer published.

              This option is similar to <u>-Q</u>, except it forces <b>dnssec-signzone</b> to remove signatures from keys that
              are  no  longer  published.  This  enables  ZSK  rollover  using  the  procedure  described in <u>RFC</u>
              <u>6781#4.1.1.2</u> ("Double Signature Zone Signing Key Rollover").

       <b>-S</b>     This option enables smart signing, which instructs <b>dnssec-signzone</b> to search  the  key  repository
              for keys that match the zone being signed, and to include them in the zone if appropriate.

              When a key is found, its timing metadata is examined to determine how it should be used, according
              to the following rules. Each successive rule takes priority over the prior ones:
                 If  no  timing  metadata has been set for the key, the key is published in the zone and used to
                 sign the zone.

                 If the key's publication date is set and is in the past, the key is published in the zone.

                 If the key's activation date is set and is in the past, the key  is  published  (regardless  of
                 publication date) and used to sign the zone.

                 If  the key's revocation date is set and is in the past, and the key is published, then the key
                 is revoked, and the revoked key is used to sign the zone.

                 If either the key's unpublication or deletion date is set and in  the  past,  the  key  is  NOT
                 published or used to sign the zone, regardless of any other metadata.

                 If the key's sync publication date is set and is in the past, synchronization records (type CDS
                 and/or CDNSKEY) are created.

                 If  the  key's  sync deletion date is set and is in the past, synchronization records (type CDS
                 and/or CDNSKEY) are removed.

       <b>-T</b> <b>ttl</b> This option specifies a TTL to be used for new DNSKEY records imported into the zone from the  key
              repository. If not specified, the default is the TTL value from the zone's SOA record. This option
              is  ignored when signing without <u>-S</u>, since DNSKEY records are not imported from the key repository
              in that case. It is also ignored if there are any pre-existing DNSKEY records at the zone apex, in
              which case new records' TTL values are set to match them, or if any of the imported DNSKEY records
              had a default TTL value. In the event of a conflict between  TTL  values  in  imported  keys,  the
              shortest one is used.

       <b>-t</b>     This option prints statistics at completion.

       <b>-u</b>     This  option  updates  the  NSEC/NSEC3  chain when re-signing a previously signed zone.  With this
              option, a zone signed with NSEC can be switched to NSEC3, or a  zone  signed  with  NSEC3  can  be
              switched  to  NSEC  or  to  NSEC3  with different parameters. Without this option, <b>dnssec-signzone</b>
              retains the existing chain when re-signing.

       <b>-v</b> <b>level</b>
              This option sets the debugging level.

       <b>-x</b>     This option indicates that BIND 9 should only sign  the  DNSKEY,  CDNSKEY,  and  CDS  RRsets  with
              key-signing keys, and should omit signatures from zone-signing keys.

       <b>-z</b>     This  option  indicates  that  BIND  9 should ignore the KSK flag on keys when determining what to
              sign. This causes KSK-flagged keys to sign all records, not just the DNSKEY RRset.

       <b>-3</b> <b>salt</b>
              This option generates an NSEC3 chain with the given hex-encoded salt. A dash (-) can  be  used  to
              indicate that no salt is to be used when generating the NSEC3 chain.

              <b>NOTE:</b>
                 <b>-3</b>  <b>-</b>  is  the  recommended configuration. Adding salt provides no practical benefits.  See <u>RFC</u>
                 <u>9276</u>.

       <b>-H</b> <b>iterations</b>
              This option indicates that,  when  generating  an  NSEC3  chain,  BIND  9  should  use  this  many
              iterations. The default is 0.

              <b>WARNING:</b>
                 Values   greater   than  0  cause  interoperability  issues  and  also  increase  the  risk  of
                 CPU-exhausting DoS attacks.  See <u>RFC</u> <u>9276</u>.

       <b>-A</b>     This option indicates that, when generating an NSEC3 chain, BIND 9 should set the OPTOUT  flag  on
              all NSEC3 records and should not generate NSEC3 records for insecure delegations.

              <b>WARNING:</b>
                 Do  not  use  this  option  unless  all  its  implications are fully understood. This option is
                 intended only for extremely large zones (comparable to <b>com.</b>) with  sparse  secure  delegations.
                 See <u>RFC</u> <u>9276</u>.

       <b>-AA</b>    This  option turns the OPTOUT flag off for all records. This is useful when using the <u>-u</u> option to
              modify an NSEC3 chain which previously had OPTOUT set.

       <b>zonefile</b>
              This option sets the file containing the zone to be signed.

       <b>key</b>    This option specifies which keys should be used to sign the zone. If no keys  are  specified,  the
              zone  is  examined  for  DNSKEY records at the zone apex. If these records are found and there are
              matching private keys in the current directory, they are used for signing.

</pre><h4><b>EXAMPLE</b></h4><pre>
       The following command signs the <b>example.com</b> zone with the ECDSAP256SHA256 key generated by  <u>dnssec-keygen</u>
       (Kexample.com.+013+17247). Because the <u>-S</u> option is not being used, the zone's keys must be in the master
       file (<b>db.example.com</b>). This invocation looks for <b>dsset</b> files in the current directory, so that DS records
       can be imported from them (<u>-g</u>).

          % dnssec-signzone -g -o example.com db.example.com \
          Kexample.com.+013+17247
          db.example.com.signed
          %

       In  the  above  example,  <b>dnssec-signzone</b>  creates  the  file  <b>db.example.com.signed</b>. This file should be
       referenced in a zone statement in the <u>named.conf</u> file.

       This example re-signs a previously signed zone with default parameters.  The private keys are assumed  to
       be in the current directory.

          % cp db.example.com.signed db.example.com
          % dnssec-signzone -o example.com db.example.com
          db.example.com.signed
          %

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <u><a href="../man8/dnssec-keygen.8.html">dnssec-keygen</a>(8)</u>, BIND 9 Administrator Reference Manual, <u>RFC</u> <u>4033</u>, <u>RFC</u> <u>6781</u>.

</pre><h4><b>AUTHOR</b></h4><pre>
       Internet Systems Consortium

</pre><h4><b>COPYRIGHT</b></h4><pre>
       2025, Internet Systems Consortium

9.20.4-3ubuntu1.2-Ubuntu                           2024-12-03                                 <u><a href="../man1/DNSSEC-SIGNZONE.1.html">DNSSEC-SIGNZONE</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>