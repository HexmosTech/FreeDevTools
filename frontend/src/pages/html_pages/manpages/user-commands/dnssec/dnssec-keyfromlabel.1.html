<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>dnssec-keyfromlabel - DNSSEC key generation tool</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/bind9-utils">bind9-utils_9.20.4-3ubuntu1.2_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       dnssec-keyfromlabel - DNSSEC key generation tool

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>dnssec-keyfromlabel</b>  {<b>-l</b> label} [<b>-3</b>] [<b>-a</b> algorithm] [<b>-A</b> date/offset] [<b>-c</b> class] [<b>-D</b> date/offset] [<b>-D</b> sync
       date/offset] [<b>-E</b> engine] [<b>-f</b> flag] [<b>-G</b>] [<b>-I</b> date/offset] [<b>-i</b> interval] [<b>-k</b>] [<b>-K</b> directory] [<b>-L</b>  ttl]  [<b>-M</b>
       tag_min:tag_max]  [<b>-n</b> nametype] [<b>-P</b> date/offset] [<b>-P</b> sync date/offset] [<b>-p</b> protocol] [<b>-R</b> date/offset] [<b>-S</b>
       key] [<b>-t</b> type] [<b>-v</b> level] [<b>-V</b>] [<b>-y</b>] {name}

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>dnssec-keyfromlabel</b> generates a pair of key files that reference a key object stored in  a  cryptographic
       hardware  service module (HSM). The private key file can be used for DNSSEC signing of zone data as if it
       were a conventional signing key created by <u>dnssec-keygen</u>, but the key material is stored within  the  HSM
       and the actual signing takes place there.

       The  <b>name</b> of the key is specified on the command line. This must match the name of the zone for which the
       key is being generated.

</pre><h4><b>OPTIONS</b></h4><pre>
       <b>-a</b> <b>algorithm</b>
              This option selects the cryptographic algorithm. The value of <b>algorithm</b> must be  one  of  RSASHA1,
              NSEC3RSASHA1, RSASHA256, RSASHA512, ECDSAP256SHA256, ECDSAP384SHA384, ED25519, or ED448.

              These  values  are  case-insensitive. In some cases, abbreviations are supported, such as ECDSA256
              for ECDSAP256SHA256 and ECDSA384 for ECDSAP384SHA384. If RSASHA1 is specified along  with  the  <u>-3</u>
              option, then NSEC3RSASHA1 is used instead.

              This  option  is  mandatory  except  when using the <u>-S</u> option, which copies the algorithm from the
              predecessory key.

              Changed in version 9.12.0: The default value RSASHA1 for newly generated keys was removed.

       <b>-3</b>     This option uses an NSEC3-capable algorithm to generate a DNSSEC key. If this option is used  with
              an  algorithm  that has both NSEC and NSEC3 versions, then the NSEC3 version is used; for example,
              <b>dnssec-keygen</b> <b>-3a</b> <b>RSASHA1</b> specifies the NSEC3RSASHA1 algorithm.

       <b>-E</b> <b>engine</b>
              This option specifies the cryptographic hardware to use.

              When BIND 9 is built with OpenSSL, this needs to be set to  the  OpenSSL  engine  identifier  that
              drives the cryptographic accelerator or hardware service module (usually <b>pkcs11</b>).

       <b>-l</b> <b>label</b>
              This option specifies the label for a key pair in the crypto hardware.

              When  BIND  9  is  built with OpenSSL-based PKCS#11 support, the label is an arbitrary string that
              identifies a particular key. It may be preceded by an optional OpenSSL engine name, followed by  a
              colon, as in <b>pkcs11:keylabel</b>.

       <b>-n</b> <b>nametype</b>
              This  option specifies the owner type of the key. The value of <b>nametype</b> must either be ZONE (for a
              DNSSEC zone key (KEY/DNSKEY)), HOST or ENTITY (for a key associated with a host (KEY)), USER  (for
              a key associated with a user (KEY)), or OTHER (DNSKEY). These values are case-insensitive.

       <b>-C</b>     This  option  enables  compatibility mode, which generates an old-style key, without any metadata.
              By default, <b>dnssec-keyfromlabel</b> includes the key's creation date in the metadata stored  with  the
              private  key;  other  dates may be set there as well, including publication date, activation date,
              etc. Keys that include this data may be incompatible with older versions of BIND;  the  <u>-C</u>  option
              suppresses them.

       <b>-c</b> <b>class</b>
              This  option  indicates that the DNS record containing the key should have the specified class. If
              not specified, class IN is used.

       <b>-f</b> <b>flag</b>
              This option sets the specified flag in  the  <b>flag</b>  field  of  the  KEY/DNSKEY  record.   The  only
              recognized flags are KSK (Key-Signing Key) and REVOKE.

       <b>-G</b>     This  option generates a key, but does not publish it or sign with it. This option is incompatible
              with <u>-P</u> and <u>-A</u>.

       <b>-h</b>     This option prints a short summary of the options and arguments to <b>dnssec-keyfromlabel</b>.

       <b>-K</b> <b>directory</b>
              This option sets the directory in which the key files are to be written.

       <b>-k</b>     This option generates KEY records rather than DNSKEY records.

       <b>-L</b> <b>ttl</b> This option sets the default TTL to use for this key when it is converted into a DNSKEY  RR.  This
              is  the  TTL used when the key is imported into a zone, unless there was already a DNSKEY RRset in
              place, in which case the existing TTL would take precedence. Setting the default TTL to <b>0</b> or  <b>none</b>
              removes it.

       <b>-M</b> <b>tag_min:tag_max</b>
              This  option sets the range of key tag values that <b>dnssec-keyfromlabel</b> will accept. If the key tag
              of the new key or the key tag of the revoked version of the new key is outside this range, the new
              key will be rejected.  This is designed  to  be  used  when  generating  keys  in  a  multi-signer
              scenario,  where  each operator is given a range of key tags to prevent collisions among different
              operators.  The valid values for <b>tag_min</b> and <b>tag_max</b> are [0..65535].  The default allows  all  key
              tag values to be accepted.

       <b>-p</b> <b>protocol</b>
              This  option  sets the protocol value for the key. The protocol is a number between 0 and 255. The
              default is 3 (DNSSEC). Other possible values for this argument are listed  in  <u>RFC</u>  <u>2535</u>  and  its
              successors.

       <b>-S</b> <b>key</b> This  option  generates  a  key  as an explicit successor to an existing key. The name, algorithm,
              size, and type of the key are set to match the predecessor. The activation date of the new key  is
              set  to  the  inactivation date of the existing one. The publication date is set to the activation
              date minus the prepublication interval, which defaults to 30 days.

       <b>-t</b> <b>type</b>
              This option indicates the type of the key. <b>type</b> must be one of AUTHCONF,  NOAUTHCONF,  NOAUTH,  or
              NOCONF.  The default is AUTHCONF. AUTH refers to the ability to authenticate data, and CONF to the
              ability to encrypt data.

       <b>-v</b> <b>level</b>
              This option sets the debugging level.

       <b>-V</b>     This option prints version information.

       <b>-y</b>     This option allows DNSSEC key files to be generated even if the key ID would collide with that  of
              an  existing  key,  in  the event of either key being revoked. (This is only safe to enable if <u>RFC</u>
              <u>5011</u> trust anchor maintenance is not used with either of the keys involved.)

</pre><h4><b>TIMING</b> <b>OPTIONS</b></h4><pre>
       Dates can be expressed in the format YYYYMMDD or YYYYMMDDHHMMSS (which is  the  format  used  inside  key
       files),  or  'Day Mon DD HH:MM:SS YYYY' (as printed by <b>dnssec-settime</b> <b>-p</b>), or UNIX epoch time (as printed
       by <b>dnssec-settime</b> <b>-up</b>), or the literal <b>now</b>.

       The argument can be followed by <b>+</b> or <b>-</b> and an offset from the given time. The literal <b>now</b> can be  omitted
       before  an offset. The offset can be followed by one of the suffixes <b>y</b>, <b>mo</b>, <b>w</b>, <b>d</b>, <b>h</b>, or <b>mi</b>, so that it is
       computed in years (defined as 365 24-hour days, ignoring leap  years),  months  (defined  as  30  24-hour
       days), weeks, days, hours, or minutes, respectively. Without a suffix, the offset is computed in seconds.

       To explicitly prevent a date from being set, use <b>none</b>, <b>never</b>, or <b>unset</b>.

       All these formats are case-insensitive.

       <b>-P</b> <b>date/offset</b>
              This  option sets the date on which a key is to be published to the zone. After that date, the key
              is included in the zone but is not used to sign it. If not set, and if the <u>-G</u> option has not  been
              used, the default is the current date.

              <b>sync</b> <b>date/offset</b>
                     This  option  sets  the date on which CDS and CDNSKEY records that match this key are to be
                     published to the zone.

       <b>-A</b> <b>date/offset</b>
              This option sets the date on which the key is to  be  activated.  After  that  date,  the  key  is
              included  in the zone and used to sign it. If not set, and if the <u>-G</u> option has not been used, the
              default is the current date.

       <b>-R</b> <b>date/offset</b>
              This option sets the date on which the key is to be revoked. After that date, the key  is  flagged
              as revoked. It is included in the zone and is used to sign it.

       <b>-I</b> <b>date/offset</b>
              This  option  sets  the  date on which the key is to be retired. After that date, the key is still
              included in the zone, but it is not used to sign it.

       <b>-D</b> <b>date/offset</b>
              This option sets the date on which the key is to be deleted. After that date, the key is no longer
              included in the zone. (However, it may remain in the key repository.)

              <b>sync</b> <b>date/offset</b>
                     This option sets the date on which the CDS and CDNSKEY records that match this key  are  to
                     be deleted.

       <b>-i</b> <b>interval</b>
              This  option  sets  the  prepublication  interval  for  a  key.  If  set, then the publication and
              activation dates must be separated by at least this much time. If the activation date is specified
              but the publication date is not, the publication date  defaults  to  this  much  time  before  the
              activation  date;  conversely,  if  the publication date is specified but not the activation date,
              activation is set to this much time after publication.

              If the key  is  being  created  as  an  explicit  successor  to  another  key,  then  the  default
              prepublication interval is 30 days; otherwise it is zero.

              As  with  date  offsets, if the argument is followed by one of the suffixes <b>y</b>, <b>mo</b>, <b>w</b>, <b>d</b>, <b>h</b>, or <b>mi</b>,
              the interval is measured in years, months, weeks, days, hours, or minutes, respectively. Without a
              suffix, the interval is measured in seconds.

</pre><h4><b>GENERATED</b> <b>KEY</b> <b>FILES</b></h4><pre>
       When <b>dnssec-keyfromlabel</b> completes successfully, it prints a string of the form <b>Knnnn.+aaa+iiiii</b>  to  the
       standard output. This is an identification string for the key files it has generated.

       • <b>nnnn</b> is the key name.

       • <b>aaa</b> is the numeric representation of the algorithm.

       • <b>iiiii</b> is the key identifier (or footprint).

       <b>dnssec-keyfromlabel</b>  creates  two  files,  with  names  based on the printed string. <b>Knnnn.+aaa+iiiii.key</b>
       contains the public key, and <b>Knnnn.+aaa+iiiii.private</b> contains the private key.

       The <b>.key</b> file contains a DNS KEY record that can be inserted into  a  zone  file  (directly  or  with  an
       $INCLUDE statement).

       The  <b>.private</b>  file  contains algorithm-specific fields. For obvious security reasons, this file does not
       have general read permission.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <u><a href="../man8/dnssec-keygen.8.html">dnssec-keygen</a>(8)</u>, <u><a href="../man8/dnssec-signzone.8.html">dnssec-signzone</a>(8)</u>, BIND 9 Administrator Reference Manual, <u>RFC</u> <u>4034</u>, <u>RFC</u> <u>7512</u>.

</pre><h4><b>AUTHOR</b></h4><pre>
       Internet Systems Consortium

</pre><h4><b>COPYRIGHT</b></h4><pre>
       2025, Internet Systems Consortium

9.20.4-3ubuntu1.2-Ubuntu                           2024-12-03                             <u><a href="../man1/DNSSEC-KEYFROMLABEL.1.html">DNSSEC-KEYFROMLABEL</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>