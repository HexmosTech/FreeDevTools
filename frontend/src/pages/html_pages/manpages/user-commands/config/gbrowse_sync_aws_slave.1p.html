<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>gbrowse_sync_aws_slave.pl - Synchronize local file system to GBrowse slave volume.</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/gbrowse">gbrowse_2.56+dfsg-12build4_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       gbrowse_sync_aws_slave.pl - Synchronize local file system to GBrowse slave volume.

</pre><h4><b>SYNOPSIS</b></h4><pre>
        % sudo gbrowse_sync_aws_slave.pl --conf     /etc/gbrowse2/aws_balancer.conf \
                                         --mysql    /var/lib/mysql \
                                         --postgres /var/lib/postgresql

        syncing data....done
        data stored in snapshot(s) snap-12345
        updated conf file, previous version in /etc/gbrowse2/aws_balancer.conf.bak

</pre><h4><b>DESCRIPTION</b></h4><pre>
       This script is run in conjunction with Amazon Web Server-based GBrowse render slave load balancing, which
       is described in more detail in the manual page for gbrowse_aws_balancer.pl.

       The gbrowse_sync_aws_script.pl script should be run on the GBrowse master machine each time you add a new
       database to an existing data source, or if you add a whole new data source. What it does is to prepare a
       new Amazon EBS snapshot containing a copy of all the data needed for the GBrowse slave to run. This
       snapshot is then attached to new slave instances.

       After running, it updates the conf file with the current versions of the slave AMI and the data
       snapshot(s).

        % sudo gbrowse_sync_aws_script.pl --conf     /etc/gbrowse2/aws_balancer.conf \
                                          --mysql    /var/lib/mysql \
                                          --postgres /var/lib/postgresql

       The --conf argument is required. The script will create a snapshot of the appropriate size, mount it on a
       temporary staging instance, and rsync a copy of your gbrowse databases directory (e.g.
       /var/lib/gbrowse2/databases) to the snapshot. If you have created mysql or postgres databases, you must
       also give the paths to their database file directories, as shown in the example.

       Note that ALL your mysql and postgres data files located on the master machine will be copied; not just
       those used for track display.

</pre><h4><b>ENVIRONMENT</b> <b>VARIABLES</b></h4><pre>
       The following environment variables are used if the corresponding command line options are not present:

        EC2_ACCESS_KEY AWS EC2 access key EC2_SECRET_KEY AWS EC2 secret key

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       VM::EC2, VM::EC2::Staging::Manager

</pre><h4><b>AUTHOR</b></h4><pre>
       Lincoln Stein, <a href="mailto:lincoln.stein@gmail.com">lincoln.stein@gmail.com</a>

       Copyright (c) 2013 Ontario Institute for Cancer Research

       This package and its accompanying libraries is free software; you can redistribute it and/or modify it
       under the terms of the GPL (either version 1, or at your option, any later version) or the Artistic
       License 2.0.  Refer to LICENSE for the full license text. In addition, please see DISCLAIMER.txt for
       disclaimers of warranty.

perl v5.40.0                                       2024-10-20                         <u><a href="../man1p/GBROWSE_SYNC_AWS_SLAVE.1p.html">GBROWSE_SYNC_AWS_SLAVE</a></u>(1p)
</pre>
 </div>
</div></section>
</div>
</body>
</html>