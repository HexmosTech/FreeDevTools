<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>cavern - process raw survey data</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/survex">survex_1.4.16-1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       cavern - process raw survey data

</pre><h4><b>SYNOPSIS</b></h4><pre>
          <b>cavern</b> [<u>OPTIONS</u>] <u>SURVEY_DATA_FILE</u>...

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>cavern</b> is the Survex data processing engine.

       <b>cavern</b>  is  a  command  line  tool, but if you're not a fan of working from the command line you can open
       unprocessed survey data files with <b>aven</b> and it will run <b>cavern</b> for you, and if  successful,  display  the
       processed  data.   If there are any warnings and errors, <b>aven</b> will show a log window with the output with
       clickable links to open the affected file at the problematic line.

       If multiple survey data files are listed on the command line, they are processed in order  from  left  to
       right.  Settings are reset to their defaults before processing each file.

       Each  <u>SURVEY_DATA_FILE</u>  must  be unprocessed survey data in a format which Survex supports, either native
       format (<b>.svx</b>) or Compass format (<b>.mak</b>, <b>.dat</b> or <b>.clp</b>), or Walls format (<b>.wpj</b> or <b>.srv</b>).

       Support for Compass <b>.clp</b> was added in Survex 1.4.6; support for Walls was added in Survex 1.4.9.

</pre><h4><b>OPTIONS</b></h4><pre>
       <b>-o,</b> <b>--output=</b><u>OUTPUT</u>
              Sets location for output files.

       <b>-q,</b> <b>--quiet</b>
              Only show a brief summary (<b>--quiet</b> <b>--quiet</b> or <b>-qq</b> will display warnings and errors only).

       <b>-s,</b> <b>--no-auxiliary-files</b>
              do not create .err file.

       <b>-w,</b> <b>--warnings-are-errors</b>
              turn warnings into errors.

       <b>--log</b>  Send screen output to a .log file.

       <b>-v,</b> <b>--3d-version=</b><u>3D_VERSION</u>
              Specify the 3d file format version to output.  By default the latest version is written,  but  you
              can  override this to produce a 3d file which can be read by software which doesn't understand the
              latest 3d file format version.  Note that any  information  which  the  specified  format  version
              didn't support will be omitted.

       <b>--help</b> display short help and exit

       <b>--version</b>
              output version information and exit

</pre><h4><b>OUTPUT</b></h4><pre>
       If  there were no errors during processing, cavern produces two output files, with the extensions <b>.3d</b> and
       <b>.err</b> (unless <b>--no-auxiliary-files</b> is specified in which case only the <b>.3d</b> file is produced).

       These two files are always created with their respective extensions.  By default they are created in  the
       current directory, with the same base filename as the first <u>SURVEY_DATA_FILE</u> listed on the command line.

       E.g.  if  you  process the data file <b>entrance.svx</b> with the command <b>cavern</b> <b>entrance</b> or <b>cavern</b> <b>entrance.svx</b>
       then the files <b>entrance.3d</b> and <b>entrance.err</b> will be created.

       You can change the directory and/or base filename using the <b>--output</b> command line option.  If you specify
       a directory then output files will go there instead of the current directory, but still use the  basename
       of  the first <u>SURVEY_DATA_FILE</u>.  If you specify a filename which is not a directory (note that it doesn't
       need to actually exist as a file) then the directory this file is in is used, and also  the  basename  of
       the filename is used instead of the basename of the first <u>SURVEY_DATA_FILE</u>.

       Details of the output files:

       <b>.3d</b>    This is a binary file format containing the adjusted survey data and associated meta data.

       <b>.err</b>   This is a text file which contains statistics about each traverse in the survey which is part of a
              loop.  It includes various statistics for each traverse:

              <b>Original</b> <b>length</b>
                     This  is the measured length of the traverse (for a "normal" or "diving" survey this is the
                     sum of the tape readings after applying calibration corrections).

              <b>Number</b> <b>of</b> <b>legs</b>
                     The number of survey legs in the traverse

              <b>Moved</b>  How much one end of the traverse moved by relative to the other after loop closure

              <b>Moved</b> <b>per</b> <b>leg</b>
                     <u>Moved</u> / <u>Number</u> <u>of</u> <u>legs</u>

              <b>Percentage</b> <b>error</b>
                     (<u>Moved</u> / <u>Original</u> <u>length</u>) as a percentage.  This seems to be a popular measure of how  good
                     or bad a misclosure is, but it's a problematic one because a longer traverse will naturally
                     tend  to  have a lower percentage error so you can't just compare values between traverses.
                     We recommend using the <u>E</u>, <u>H</u> and <u>V</u> values instead.

              <b>Error</b> <b>(</b><u>E</u><b>)</b>
                     This isn't labelled in the <u>.err</u> file but is the value on a line by itself.   In  <b>aven</b>  it's
                     the  value  used by <u>Colour</u> <u>by</u> <u>Error</u>.  It is <u>Moved</u> divided by the standard deviation for the
                     traverse based on the standard errors specified for the instruments.   This  tells  us  how
                     plausible  it  is  that  the  misclosure  is  just due to random errors.  It is a number of
                     standard deviations, so the <u>68-95-99.7</u> <u>rule</u> applies - e.g. approximately 99.7% of traverses
                     should have a value of 3.0 or less (assuming the specified instrument  standard  deviations
                     are realistic).

              <b>Horizontal</b> <b>Error</b> <b>(</b><u>H</u><b>)</b>
                     This is like <u>E</u> but only considers the horizontal component.  In <b>aven</b> it's the value used by
                     <u>Colour</u>  <u>by</u>  <u>Horizontal</u>  <u>Error</u>.  You can identify suspect traverses by looking at <u>E</u> and then
                     compare <u>H</u> and <u>V</u> to see what sort of blunder might explain the misclosure.  For example,  if
                     <u>H</u> is small but <u>V</u> is large it could be a clino reading or plumb with an incorrect sign, or a
                     tape  blunder on a plumbed leg; if <u>H</u> is large but <u>V</u> is small it could be a compass blunder,
                     or a tape blunder of a nearly-flat leg.

              <b>Vertical</b> <b>Error</b> <b>(</b><u>V</u><b>)</b>
                     This is like <u>E</u> but only considers the vertical component.  In <b>aven</b> it's the value  used  by
                     <u>Colour</u> <u>by</u> <u>Vertical</u> <u>Error</u>.

              This  information is now also present in the <b>.3d</b> file so you can view the survey coloured by these
              errors, but the <b>.err</b> file can still be useful as you can sort it using <b>sorterr</b>  to  get  a  ranked
              list of the sections of survey with the worst misclosure errors.

       Cavern also reports a range of statistics at the end of a successful run:

       • The highest and lowest stations and the height difference between them

       • The  East-West and North-South ranges, and the Northernmost, Southernmost, Easternmost, and Westernmost
         stations.

       • The total length of the survey (before and after adjustment).  This total excludes survey legs  flagged
         as <b>SURFACE</b>, <b>DUPLICATE</b>, or <b>SPLAY</b>.

       • The number of stations and legs. Note that a <b>*equate</b> is counted as a leg in this statistic.

       • The  number of each size of node in the network (where size is number of connections to a station) i.e.
         a one node is the end of a dead-end traverse, a two-node is a  typical  station  in  the  middle  of  a
         traverse, a three-node is a T-junction etc.

       • How long the processing took and how much CPU time was used.

       If you successfully processed your data by loading it into <b>aven</b> then you can see this log output by using
       <b>File-&gt;Show</b> <b>Log</b> (also available as an icon in the toolbar).

   <b>Error</b> <b>Messages</b>
       There  are  many  different  error  messages that you can get when processing data.  Along with the error
       message, a location is reported.  For an error like "file not found" this only reports the filename,  but
       usually it will give the filename and line number of the offending line, and in many cases also an offset
       or span within the line.

       The  format  of  the location data follows that used by the GCC compiler so if your text editor can parse
       errors from GCC then you should be able to set it to allow you to jump to  the  file  and  line  of  each
       error.

       One  common  cause of errors and warnings are typing mistakes.  Another is your survey data not being all
       attached to fixed points (which is a warning since Survex 1.4.10, but was an error prior to this; in this
       situation, Survex will list at least one station in each piece of survey data which is not connected).

       We try to make error and warning messages self-explanatory, but welcome feedback on cases where you get a
       message which seems unclear.

       Generally you want to look at the first reported error first as there can be a cascade effect  where  one
       error  triggers  another.   Cavern will stop after more than 50 errors.  This usually indicates something
       like the incorrect data order being specified and deluging the user with error  messages  in  such  cases
       usually makes the actual problem less clear.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man1/aven.1.html">aven</a></b>(1), <b><a href="../man1/diffpos.1.html">diffpos</a></b>(1), <b><a href="../man1/dump3d.1.html">dump3d</a></b>(1), <b><a href="../man1/extend.1.html">extend</a></b>(1), <b><a href="../man1/sorterr.1.html">sorterr</a></b>(1), <b><a href="../man1/survexport.1.html">survexport</a></b>(1)

</pre><h4><b>COPYRIGHT</b></h4><pre>
       1998-2025

                                                  Feb 21, 2025                                         <u><a href="../man1/CAVERN.1.html">CAVERN</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>