<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ibd2sdi - InnoDB utility for extracting serialized dictionary information (SDI) from an InnoDB tablespace</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/mysql-server-core">mysql-server-core_8.4.5-0ubuntu0.2_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       ibd2sdi - InnoDB utility for extracting serialized dictionary information (SDI) from an InnoDB tablespace

</pre><h4><b>SYNOPSIS</b></h4><pre>

       <b>ibd2sdi</b> <b>[</b><u>options</u><b>]</b> <u>file_name1</u> <b>[</b><u>file_name2</u> <u>file_name3</u> <u>...]</u>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>ibd2sdi</b> is a utility for extracting serialized dictionary information (SDI) from InnoDB tablespace files.
       SDI data is present in all persistent InnoDB tablespace files.

       <b>ibd2sdi</b> can be run on file-per-table tablespace files (*.ibd files), general tablespace files (*.ibd
       files), system tablespace files (ibdata* files), and the data dictionary tablespace (mysql.ibd). It is
       not supported for use with temporary tablespaces or undo tablespaces.

       <b>ibd2sdi</b> can be used at runtime or while the server is offline. During DDL operations, ROLLBACK
       operations, and undo log purge operations related to SDI, there may be a short interval of time when
       <b>ibd2sdi</b> fails to read SDI data stored in the tablespace.

       <b>ibd2sdi</b> performs an uncommitted read of SDI from the specified tablespace. Redo logs and undo logs are
       not accessed.

       Invoke the <b>ibd2sdi</b> utility like this:

           ibd2sdi [<u>options</u>] <u>file_name1</u> [<u>file_name2</u> <u>file_name3</u> <u>...</u>]

       <b>ibd2sdi</b> supports multi-file tablespaces like the InnoDB system tablespace, but it cannot be run on more
       than one tablespace at a time. For multi-file tablespaces, specify each file:

           ibd2sdi ibdata1 ibdata2

       The files of a multi-file tablespace must be specified in order of the ascending page number. If two
       successive files have the same space ID, the later file must start with the last page number of the
       previous file + 1.

       <b>ibd2sdi</b> outputs SDI (containing id, type, and data fields) in JSON format.  ibd2sdi Options

       <b>ibd2sdi</b> supports the following options:

       •   <b>--help</b>, <b>-h</b>
           ┌─────────────────────┬─────────┐
           │ <b>Command-Line</b> <b>Format</b> │ --help  │
           ├─────────────────────┼─────────┤
           │ <b>Type</b>                │ Boolean │
           ├─────────────────────┼─────────┤
           │ <b>Default</b> <b>Value</b>       │ false   │
           └─────────────────────┴─────────┘

           Display a help message and exit. For example:

               Usage: ./ibd2sdi [-v] [-c &lt;strict-check&gt;] [-d &lt;dump file name&gt;] [-n] filename1 [filenames]
               See <a href="http://dev.mysql.com/doc/refman/8.4/en/ibd2sdi.html">http://dev.mysql.com/doc/refman/8.4/en/ibd2sdi.html</a> for usage hints.
                 -h, --help          Display this help and exit.
                 -v, --version       Display version information and exit.
                 -#, --debug[=name]  Output debug log. See
                                     <a href="http://dev.mysql.com/doc/refman/8.4/en/dbug-package.html">http://dev.mysql.com/doc/refman/8.4/en/dbug-package.html</a>
                 -d, --dump-file=name
                                     Dump the tablespace SDI into the file passed by user.
                                     Without the filename, it will default to stdout
                 -s, --skip-data     Skip retrieving data from SDI records. Retrieve only id
                                     and type.
                 -i, --id=#          Retrieve the SDI record matching the id passed by user.
                 -t, --type=#        Retrieve the SDI records matching the type passed by
                                     user.
                 -c, --strict-check=name
                                     Specify the strict checksum algorithm by the user.
                                     Allowed values are innodb, crc32, none.
                 -n, --no-check      Ignore the checksum verification.
                 -p, --pretty        Pretty format the SDI output.If false, SDI would be not
                                     human readable but it will be of less size
                                     (Defaults to on; use --skip-pretty to disable.)
               Variables (--variable-name=value)
               and boolean options {FALSE|TRUE}  Value (after reading options)
               --------------------------------- ----------------------------------------
               debug                             (No default value)
               dump-file                         (No default value)
               skip-data                         FALSE
               id                                0
               type                              0
               strict-check                      crc32
               no-check                          FALSE
               pretty                            TRUE

       •   <b>--version</b>, <b>-v</b>
           ┌─────────────────────┬───────────┐
           │ <b>Command-Line</b> <b>Format</b> │ --version │
           ├─────────────────────┼───────────┤
           │ <b>Type</b>                │ Boolean   │
           ├─────────────────────┼───────────┤
           │ <b>Default</b> <b>Value</b>       │ false     │
           └─────────────────────┴───────────┘

           Display version information and exit. For example:

               ibd2sdi  Ver 8.4.4 for Linux on x86_64 (Source distribution)

       •   <b>--debug[=</b><u>debug_options</u><b>]</b>, <b>-#</b> <b>[</b><u>debug_options</u><b>]</b>
           ┌─────────────────────┬─────────────────┐
           │ <b>Command-Line</b> <b>Format</b> │ --debug=options │
           ├─────────────────────┼─────────────────┤
           │ <b>Type</b>                │ String          │
           ├─────────────────────┼─────────────────┤
           │ <b>Default</b> <b>Value</b>       │ [none]          │
           └─────────────────────┴─────────────────┘

           Prints a debug log. For debug options, refer to Section 7.9.4, “The DBUG Package”.

               ibd2sdi --debug=d:t /tmp/ibd2sdi.trace

           This option is available only if MySQL was built using <b>WITH_DEBUG</b>. MySQL release binaries provided by
           Oracle are <u>not</u> built using this option.

       •   <b>--dump-file=</b>, <b>-d</b>
           ┌─────────────────────┬──────────────────┐
           │ <b>Command-Line</b> <b>Format</b> │ --dump-file=file │
           ├─────────────────────┼──────────────────┤
           │ <b>Type</b>                │ File name        │
           ├─────────────────────┼──────────────────┤
           │ <b>Default</b> <b>Value</b>       │ [none]           │
           └─────────────────────┴──────────────────┘

           Dumps serialized dictionary information (SDI) into the specified dump file. If a dump file is not
           specified, the tablespace SDI is dumped to stdout.

               ibd2sdi --dump-file=<u>file_name</u> ../data/test/t1.ibd

       •   <b>--skip-data</b>, <b>-s</b>
           ┌─────────────────────┬─────────────┐
           │ <b>Command-Line</b> <b>Format</b> │ --skip-data │
           ├─────────────────────┼─────────────┤
           │ <b>Type</b>                │ Boolean     │
           ├─────────────────────┼─────────────┤
           │ <b>Default</b> <b>Value</b>       │ false       │
           └─────────────────────┴─────────────┘

           Skips retrieval of data field values from the serialized dictionary information (SDI) and only
           retrieves the id and type field values, which are primary keys for SDI records.

               $&gt; <b>ibd2sdi</b> <b>--skip-data</b> <b>../data/test/t1.ibd</b>
               ["ibd2sdi"
               ,
               {
                    "type": 1,
                    "id": 330
               }
               ,
               {
                    "type": 2,
                    "id": 7
               }
               ]

       •   <b>--id=</b><u>#</u>, <b>-i</b> <u>#</u>
           ┌─────────────────────┬─────────┐
           │ <b>Command-Line</b> <b>Format</b> │ --id=#  │
           ├─────────────────────┼─────────┤
           │ <b>Type</b>                │ Integer │
           ├─────────────────────┼─────────┤
           │ <b>Default</b> <b>Value</b>       │ 0       │
           └─────────────────────┴─────────┘

           Retrieves serialized dictionary information (SDI) matching the specified table or tablespace object
           id. An object id is unique to the object type. Table and tablespace object IDs are also found in the
           id column of the mysql.tables and mysql.tablespace data dictionary tables. For information about data
           dictionary tables, see Section 16.1, “Data Dictionary Schema”.

               $&gt; <b>ibd2sdi</b> <b>--id=7</b> <b>../data/test/t1.ibd</b>
               ["ibd2sdi"
               ,
               {
                    "type": 2,
                    "id": 7,
                    "object":
                         {
                   "mysqld_version_id": 80003,
                   "dd_version": 80003,
                   "sdi_version": 1,
                   "dd_object_type": "Tablespace",
                   "dd_object": {
                       "name": "test/t1",
                       "comment": "",
                       "options": "",
                       "se_private_data": "flags=16417;id=2;server_version=80003;space_version=1;",
                       "engine": "InnoDB",
                       "files": [
                           {
                               "ordinal_position": 1,
                               "filename": "./test/t1.ibd",
                               "se_private_data": "id=2;"
                           }
                       ]
                   }
               }
               }
               ]

       •   <b>--type=</b><u>#</u>, <b>-t</b> <u>#</u>
           ┌─────────────────────┬──────────────┐
           │ <b>Command-Line</b> <b>Format</b> │ --type=#     │
           ├─────────────────────┼──────────────┤
           │ <b>Type</b>                │ Enumeration  │
           ├─────────────────────┼──────────────┤
           │ <b>Default</b> <b>Value</b>       │ 0            │
           ├─────────────────────┼──────────────┤
           │ <b>Valid</b> <b>Values</b>        │              │
           │                     │            1 │
           │                     │              │
           │                     │            2 │
           └─────────────────────┴──────────────┘

           Retrieves serialized dictionary information (SDI) matching the specified object type. SDI is provided
           for table (type=1) and tablespace (type=2) objects.

           This example shows output for a tablespace ts1 in the test database:

               $&gt; <b>ibd2sdi</b> <b>--type=2</b> <b>../data/test/ts1.ibd</b>
               ["ibd2sdi"
               ,
               {
                    "type": 2,
                    "id": 7,
                    "object":
                         {
                   "mysqld_version_id": 80003,
                   "dd_version": 80003,
                   "sdi_version": 1,
                   "dd_object_type": "Tablespace",
                   "dd_object": {
                       "name": "test/ts1",
                       "comment": "",
                       "options": "",
                       "se_private_data": "flags=16417;id=2;server_version=80003;space_version=1;",
                       "engine": "InnoDB",
                       "files": [
                           {
                               "ordinal_position": 1,
                               "filename": "./test/ts1.ibd",
                               "se_private_data": "id=2;"
                           }
                       ]
                   }
               }
               }
               ]

           Due to the way in which InnoDB handles default value metadata, a default value may be present and
           non-empty in <b>ibd2sdi</b> output for a given table column even if it is not defined using DEFAULT.
           Consider the two tables created using the following statements, in the database named i:

               CREATE TABLE t1 (c <a href="../man16/VARCHAR.16.html">VARCHAR</a>(16) NOT NULL);
               CREATE TABLE t2 (c <a href="../man16/VARCHAR.16.html">VARCHAR</a>(16) NOT NULL DEFAULT "Sakila");

           Using <b>ibd2sdi</b>, we can see that the default_value for column c is nonempty and is in fact padded to
           length in both tables, like this:

               $&gt; <b>ibd2sdi</b> <b>../data/i/t1.ibd</b>  <b>|</b> <b>grep</b> <b>-m1</b> <b>'\"default_value\"'</b> <b>|</b> <b>cut</b> <b>-b34-</b> <b>|</b> <b>sed</b> <b>-e</b> <b>s/,//</b>
               "AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA\nAAAAAAAAAAA="
               $&gt; <b>ibd2sdi</b> <b>../data/i/t2.ibd</b>  <b>|</b> <b>grep</b> <b>-m1</b> <b>'\"default_value\"'</b> <b>|</b> <b>cut</b> <b>-b34-</b> <b>|</b> <b>sed</b> <b>-e</b> <b>s/,//</b>
               "BlNha2lsYQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA\nAAAAAAAAAAA="

           Examination of <b>ibd2sdi</b> output may be easier using a JSON-aware utility like <b>jq</b>[1], as shown here:

               $&gt; <b>ibd2sdi</b> <b>../data/i/t1.ibd</b>  <b>|</b> <b>jq</b> <b>'.[1]["object"]["dd_object"]["columns"][0]["default_value"]'</b>
               "AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA\nAAAAAAAAAAA="
               $&gt; <b>ibd2sdi</b> <b>../data/i/t2.ibd</b>  <b>|</b> <b>jq</b> <b>'.[1]["object"]["dd_object"]["columns"][0]["default_value"]'</b>
               "BlNha2lsYQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA\nAAAAAAAAAAA="

           For more information, see the <b>MySQL</b> <b>Internals</b> <b>documentation</b>[2].

       •   <b>--strict-check</b>, <b>-c</b>
           ┌─────────────────────┬──────────────────────────┐
           │ <b>Command-Line</b> <b>Format</b> │ --strict-check=algorithm │
           ├─────────────────────┼──────────────────────────┤
           │ <b>Type</b>                │ Enumeration              │
           ├─────────────────────┼──────────────────────────┤
           │ <b>Default</b> <b>Value</b>       │ crc32                    │
           ├─────────────────────┼──────────────────────────┤
           │ <b>Valid</b> <b>Values</b>        │                          │
           │                     │            crc32         │
           │                     │                          │
           │                     │            innodb        │
           │                     │                          │
           │                     │            none          │
           └─────────────────────┴──────────────────────────┘

           Specifies a strict checksum algorithm for validating the checksum of pages that are read. Options
           include innodb, crc32, and none.

           In this example, the strict version of the innodb checksum algorithm is specified:

               ibd2sdi --strict-check=innodb ../data/test/t1.ibd

           In this example, the strict version of crc32 checksum algorithm is specified:

               ibd2sdi -c crc32 ../data/test/t1.ibd

           If you do not specify the <b>--strict-check</b> option, validation is performed against non-strict innodb,
           crc32 and none checksums.

       •   <b>--no-check</b>, <b>-n</b>
           ┌─────────────────────┬────────────┐
           │ <b>Command-Line</b> <b>Format</b> │ --no-check │
           ├─────────────────────┼────────────┤
           │ <b>Type</b>                │ Boolean    │
           ├─────────────────────┼────────────┤
           │ <b>Default</b> <b>Value</b>       │ false      │
           └─────────────────────┴────────────┘

           Skips checksum validation for pages that are read.

               ibd2sdi --no-check ../data/test/t1.ibd

       •   <b>--pretty</b>, <b>-p</b>
           ┌─────────────────────┬──────────┐
           │ <b>Command-Line</b> <b>Format</b> │ --pretty │
           ├─────────────────────┼──────────┤
           │ <b>Type</b>                │ Boolean  │
           ├─────────────────────┼──────────┤
           │ <b>Default</b> <b>Value</b>       │ false    │
           └─────────────────────┴──────────┘

           Outputs SDI data in JSON pretty print format. Enabled by default. If disabled, SDI is not human
           readable but is smaller in size. Use --skip-pretty to disable.

               ibd2sdi --skip-pretty ../data/test/t1.ibd

</pre><h4><b>COPYRIGHT</b></h4><pre>
       Copyright © 1997, 2025, Oracle and/or its affiliates.

       This documentation is free software; you can redistribute it and/or modify it only under the terms of the
       GNU General Public License as published by the Free Software Foundation; version 2 of the License.

       This documentation is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without
       even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General
       Public License for more details.

       You should have received a copy of the GNU General Public License along with the program; if not, write
       to the Free Software Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA or see
       <a href="http://www.gnu.org/licenses/">http://www.gnu.org/licenses/</a>.

</pre><h4><b>NOTES</b></h4><pre>
        1. jq
           https://stedolan.github.io/jq/

        2. MySQL Internals documentation
           https://dev.mysql.com/doc/dev/mysql-server/latest/

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       For  more information, please refer to the MySQL Reference Manual, which may already be installed locally
       and which is also available online at <a href="http://dev.mysql.com/doc/">http://dev.mysql.com/doc/</a>.

</pre><h4><b>AUTHOR</b></h4><pre>
       Oracle Corporation (<a href="http://dev.mysql.com/">http://dev.mysql.com/</a>).

MySQL 8.4                                          03/13/2025                                         <u><a href="../man1/IBD2SDI.1.html">IBD2SDI</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>