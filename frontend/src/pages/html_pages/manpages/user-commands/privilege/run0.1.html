<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>run0 - Elevate privileges</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/systemd">systemd_257.4-1ubuntu3.1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       run0 - Elevate privileges

</pre><h4><b>SYNOPSIS</b></h4><pre>

       <b>run0</b> [OPTIONS...] [COMMAND...]

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>run0</b> may be used to temporarily and interactively acquire elevated or different privileges. It serves a
       similar purpose as <b><a href="../man8/sudo.8.html">sudo</a></b>(8), but operates differently in a couple of key areas:

       â€¢   No execution or security context credentials are inherited from the caller into the invoked commands,
           as they are invoked from a fresh, isolated service forked off by the service manager.

       â€¢   Authentication takes place via <b>polkit</b>[1], thus isolating the authentication prompt from the terminal
           (if possible).

       â€¢   An independent pseudo-tty is allocated for the invoked command, detaching its lifecycle and isolating
           it for security.

       â€¢   No SetUID/SetGID file access bit functionality is used for the implementation.

       Altogether this should provide a safer and more robust alternative to the <b>sudo</b> mechanism, in particular
       in OS environments where SetUID/SetGID support is not available (for example by setting the
       <u>NoNewPrivileges=</u> variable in <b><a href="../man5/systemd-system.conf.5.html">systemd-system.conf</a></b>(5)).

       Any session invoked via <b>run0</b> will run through the "systemd-run0" PAM stack.

       Note that <b>run0</b> is implemented as an alternative multi-call invocation of <b><a href="../man1/systemd-run.1.html">systemd-run</a></b>(1). That is, <b>run0</b> is
       a symbolic link to <b>systemd-run</b> executable file, and it behaves as <b>run0</b> if it is invoked through the
       symbolic link, otherwise behaves as <b>systemd-run</b>.

</pre><h4><b>OPTIONS</b></h4><pre>
       The following options are understood:

       <b>--unit=</b>
           Use this unit name instead of an automatically generated one.

           Added in version 256.

       <b>--property=</b>
           Sets a property of the service unit that is created. This option takes an assignment in the same
           format as <b><a href="../man1/systemctl.1.html">systemctl</a></b>(1)'s <b>set-property</b> command.

           Added in version 256.

       <b>--description=</b>
           Provide a description for the service unit that is invoked. If not specified, the command itself will
           be used as a description. See <u>Description=</u> in <b><a href="../man5/systemd.unit.5.html">systemd.unit</a></b>(5).

           Added in version 256.

       <b>--slice=</b>
           Make the new .service unit part of the specified slice, instead of user.slice.

           Added in version 256.

       <b>--slice-inherit</b>
           Make the new .service unit part of the slice the <b>run0</b> itself has been invoked in. This option may be
           combined with <b>--slice=</b>, in which case the slice specified via <b>--slice=</b> is placed within the slice the
           <b>run0</b> command is invoked in.

           Example: consider <b>run0</b> being invoked in the slice foo.slice, and the <b>--slice=</b> argument is bar. The
           unit will then be placed under foo-bar.slice.

           Added in version 256.

       <b>--user=</b>, <b>-u</b>, <b>--group=</b>, <b>-g</b>
           Switches to the specified user/group instead of root.

           Added in version 256.

       <b>--nice=</b>
           Runs the invoked session with the specified nice level.

           Added in version 256.

       <b>--chdir=</b>, <b>-D</b>
           Runs the invoked session with the specified working directory. If not specified defaults to the
           client's current working directory if switching to the root user, or the target user's home directory
           otherwise.

           Added in version 256.

       <b>--setenv=</b><u>NAME</u><b>[=</b><u>VALUE</u><b>]</b>
           Runs the invoked session with the specified environment variable set. This parameter may be used more
           than once to set multiple variables. When "=" and <u>VALUE</u> are omitted, the value of the variable with
           the same name in the invoking environment will be used.

           Added in version 256.

       <b>--background=</b><u>COLOR</u>
           Change the terminal background color to the specified ANSI color as long as the session lasts. If not
           specified, the background will be tinted in a reddish tone when operating as root, and in a yellowish
           tone when operating under another UID, as reminder of the changed privileges. The color specified
           should be an ANSI X3.64 SGR background color, i.e. strings such as "40", "41", ..., "47", "48;2;...",
           "48;5;...". See <b>ANSI</b> <b>Escape</b> <b>Code</b> <b>(Wikipedia)</b>[2] for details. Set to an empty string to disable.

           Example: "--background=44" for a blue background.

           Added in version 256.

       <b>--pty</b>, <b>--pipe</b>
           Request allocation of a pseudo TTY for the <b>run0</b> session (in case of <b>--pty</b>), or request passing the
           caller's STDIO file descriptors directly through (in case of <b>--pipe</b>). If neither switch is specified,
           or if both switches are specified, the mode will be picked automatically: if standard input, standard
           output and standard error output are all connected to a TTY then a pseudo TTY is allocated, otherwise
           the relevant file descriptors are passed through directly.

           Added in version 257.

       <b>--shell-prompt-prefix=</b><u>STRING</u>
           Set a shell prompt prefix string. This ultimately controls the <u>$SHELL_PROMPT_PREFIX</u> environment
           variable for the invoked program, which is typically imported into the shell prompt. By default â€“ if
           emojis are supported â€“ a superhero emoji is shown (ðŸ¦¸). This default may also be changed (or turned
           off) by passing the <u>$SYSTEMD_RUN_SHELL_PROMPT_PREFIX</u> environment variable to <u>run0</u>, see below. Set to
           an empty string to disable shell prompt prefixing.

           Added in version 257.

       <b>--machine=</b>
           Execute operation in a local container. Specify a container name to connect to.

           Added in version 256.

       <b>--no-ask-password</b>
           Do not query the user for authentication for privileged operations.

       <b>-h</b>, <b>--help</b>
           Print a short help text and exit.

       <b>--version</b>
           Print a short version string and exit.

       All command line arguments after the first non-option argument become part of the command line of the
       launched process. If no command line is specified an interactive shell is invoked. The shell to invoke
       may be controlled via <b>--setenv=SHELL=...</b>  and currently defaults to the <u>originating</u> <u>user's</u> shell (i.e.
       not the target user's!) if operating locally, or <a href="file:/bin/sh">/bin/sh</a> when operating with <b>--machine=</b>.

</pre><h4><b>EXIT</b> <b>STATUS</b></h4><pre>
       On success, 0 is returned. If <b>run0</b> failed to start the session or the specified command fails, a non-zero
       return value will be returned.

</pre><h4><b>ENVIRONMENT</b> <b>VARIABLES</b></h4><pre>
       As with <b>systemd-run</b>, the session will inherit the system environment from the service manager. In
       addition, the following environment variables will be set:

       <u>$TERM</u>
           Copied from the <u>$TERM</u> of the caller. Can be overridden with <b>--setenv=</b>

           Added in version 256.

       <u>$SUDO_USER</u>
           Set to the username of the originating user.

           Added in version 256.

       <u>$SUDO_UID</u>
           Set to the numeric UNIX user id of the originating user.

           Added in version 256.

       <u>$SUDO_GID</u>
           Set to the primary numeric UNIX group id of the originating session.

           Added in version 256.

       <u>$SHELL_PROMPT_PREFIX</u>
           By default set to the superhero emoji (if supported), but may be overridden with the
           <u>$SYSTEMD_RUN_SHELL_PROMPT_PREFIX</u> environment variable (see below), or the <b>--shell-prompt-prefix=</b>
           switch (see above).

           Added in version 257.

       The following variables may be passed to <b>run0</b>:

       <u>$SYSTEMD_RUN_SHELL_PROMPT_PREFIX</u>
           If set, overrides the default shell prompt prefix that <b>run0</b> sets for the invoked shell (the superhero
           emoji). Set to an empty string to disable shell prompt prefixing.

           Added in version 257.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man1/systemd.1.html">systemd</a></b>(1), <b><a href="../man1/systemd-run.1.html">systemd-run</a></b>(1), <b><a href="../man8/sudo.8.html">sudo</a></b>(8), <b><a href="../man1/machinectl.1.html">machinectl</a></b>(1)

</pre><h4><b>NOTES</b></h4><pre>
        1. polkit
           https://www.freedesktop.org/wiki/Software/polkit

        2. ANSI Escape Code (Wikipedia)
           https://en.wikipedia.org/wiki/ANSI_escape_code#SGR_(Select_Graphic_Rendition)_parameters

systemd 257.4                                                                                            <u><a href="../man1/RUN0.1.html">RUN0</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>