<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>priv_wrapper - A library to disable resource limits and other privilege dropping.</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/libpriv-wrapper">libpriv-wrapper_1.0.1-4_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       priv_wrapper - A library to disable resource limits and other privilege dropping.

</pre><h4><b>SYNOPSIS</b></h4><pre>
       LD_PRELOAD=libpriv_wrapper.so PRIV_WRAPPER=1 [PRIV_WRAPPER_CHROOT_DISABLE=1]
       [PRIV_WRAPPER_PRCTL_DISABLE=&lt;options&gt;] [PRIV_WRAPPER_SETRLIMIT_DISABLE=&lt;options&gt;]

</pre><h4><b>DESCRIPTION</b></h4><pre>
       priv_wrapper aims to help running processes which are dropping privileges or are restricting resources in
       test environments. It can disable chroot, prctl, pledge and setrlmit system calls. A disabled call always
       succeeds (i.e. returns 0) and does nothing. The system call pledge exists only on OpenBSD.

</pre><h4><b>ENVIRONMENT</b> <b>VARIABLES</b></h4><pre>
       <b>PRIV_WRAPPER</b>
           This variable activates priv_wrapper when set to <u>1</u>.

       <b>PRIV_WRAPPER_DISABLE_DEEPBIND</b>
           This allows you to disable deep binding in priv_wrapper. This is useful for running valgrind tools or
           sanitizers like (address, undefined, thread).

       <b>PRIV_WRAPPER_CHROOT_DISABLE</b>
           If this is set to <u>1</u> then chroot() system call will be disabled.

       <b>PRIV_WRAPPER_PRCTL_DISABLE</b>
           prctl calls can be disabled using this environment variable. You can either disable all calls using
           PRIV_WRAPPER_PRCTL_DISABLE=ALL or special options using e.g.
           PRIV_WRAPPER_PRCTL_DISABLE=PR_SET_SECCOMP|PR_SET_NO_NEW_PRIVS

       Supported options are:

       PR_SET_SECCOMP PR_SET_NO_NEW_PRIVS PR_SET_DUMPABLE

       <b>PRIV_WRAPPER_SETRLIMIT_DISABLE</b>
           Either all resource limits can be disabled using PRIV_WRAPPER_SETRLIMIT_DISABLE=ALL or you can pick
           specific resources using e.g:

       PRIV_WRAPPER_SETRLIMIT_DISABLE=RLIMIT_STACK|RLIMIT_CORE

       Supported options are:

       RLIMIT_CPU RLIMIT_FSIZE RLIMIT_DATA RLIMIT_STACK RLIMIT_CORE RLIMIT_RSS RLIMIT_NOFILE RLIMIT_AS
       RLIMIT_NPROC RLIMIT_MEMLOCK RLIMIT_LOCKS RLIMIT_SIGPENDING RLIMIT_MSGQUEUE RLIMIT_NICE RLIMIT_RTPRIO
       RLIMIT_RTTIME RLIMIT_NLIMITS

       <b>PRIV_WRAPPER_PLEDGE_DISABLE</b>
           If this is set to <u>1</u> then pledge() system call will be disabled.

       <b>PRIV_WRAPPER_DEBUGLEVEL</b>
           If you need to see what is going on in priv_wrapper itself or try to find a bug, you can enable
           logging support in priv_wrapper if you built it with debug symbols.

           •   0 = ERROR

           •   1 = WARNING

           •   2 = DEBUG

           •   3 = TRACE

</pre><h4><b>EXAMPLE</b></h4><pre>
       LD_PRELOAD=libpriv_wrapper.so PRIV_WRAPPER=1
       PRIV_WRAPPER_PRCTL_DISABLE="PR_SET_SECCOMP|PR_SET_NO_NEW_PRIVS"

       LD_PRELOAD=libpriv_wrapper.so PRIV_WRAPPER=1 PRIV_WRAPPER_CHROOT_DISABLE=1 PRIV_WRAPPER_PRCTL_DISABLE=ALL
       PRIV_WRAPPER_SETRLIMIT_DISABLE="RLIMIT_CPU|RLIMIT_DATA|RLIMIT_NLIMITS"

</pre><h4><b>AUTHOR</b></h4><pre>
       Samba Team

                                                   2024-11-06                                    <u><a href="../man1/PRIV_WRAPPER.1.html">PRIV_WRAPPER</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>