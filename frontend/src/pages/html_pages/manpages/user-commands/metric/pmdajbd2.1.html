<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>pmdajbd2 - journal block device (JBD) performance metrics domain agent (PMDA)</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/pcp">pcp_6.3.3-1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       <b>pmdajbd2</b> - journal block device (JBD) performance metrics domain agent (PMDA)

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>$PCP_PMDAS_DIR/jbd2/pmdajbd2</b> [<b>-d</b> <u>domain</u>] [<b>-l</b> <u>logfile</u>] [<b>-j</b> <u>path</u>] [<b>-U</b> <u>username</u>]

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>pmdajbd2</b> is a Performance Metrics Domain Agent (PMDA) which extracts performance metrics from the Journal
       Block  Device  subsystem  (version  2)  in the Linux kernel.  These metrics are exported by the kernel in
       procfs files, one file per block device.  The JBD2 subsystem is used  by  several  filesystems  including
       ext3, ext4 and ocfs2.

       The  <b>jbd2</b>  PMDA exports metrics that measure detailed journal transaction information, such as time spent
       waiting and locked, request rates, blocks used and so on.

       A brief description of the <b>pmdajbd2</b> command line options follows (these are only  relevant  when  running
       the PMDA as a daemon, and not as a shared library):

       <b>-d</b>   It  is  absolutely  crucial  that the performance metrics <u>domain</u> number specified here is unique and
            consistent.  That is, <u>domain</u> should be different for every PMDA on the one host, and the same <u>domain</u>
            number should be used for the same PMDA on all hosts.

       <b>-l</b>   Location of the log file.  By default, when running as a daemon a log file named <u>jbd2.log</u> is written
            in the current directory of when <b>pmdajbd2</b> is started, i.e.   <b>$PCP_LOG_DIR/pmcd</b>.   If  the  log  file
            cannot be created or is not writable, output is written to the standard error instead.  When running
            in  shared  library  mode, and diagnostic information will be written into the <b>pmcd</b> log file, namely
            <b>$PCP_LOG_DIR/pmcd/pmcd.log</b>.

       <b>-j</b>   Allows an alternate path to the jbd2  statistics  files  to  be  specified.   The  default  path  is
            <u><a href="file:/proc/fs/jbd2">/proc/fs/jbd2</a></u>.

       <b>-U</b>   User account under which to run the agent.  The default is the unprivileged "pcp" account in current
            versions of PCP, but in older versions the superuser account ("root") was used by default.

</pre><h4><b>INSTALLATION</b></h4><pre>
       This  PMDA  is  installed  by default and in the shared library mode (rather than as a separate daemon to
       <b><a href="../man1/pmcd.1.html">pmcd</a></b>(1)).  Thus, the names, help text and values for  the  jbd2  performance  metrics  should  always  be
       available.

       If you do not use these metrics you can remove this PMDA, do the following as root:

            # cd $PCP_PMDAS_DIR/jbd2
            # ./Remove

       If you want to enable the installation again, do the following as root:

            # cd $PCP_PMDAS_DIR/jbd2
            # ./Install

       <b>pmdajbd2</b>  is  launched  by <b><a href="../man1/pmcd.1.html">pmcd</a></b>(1) and should never be executed directly.  The Install and Remove scripts
       notify <b><a href="../man1/pmcd.1.html">pmcd</a></b>(1) when the agent is installed or removed.

</pre><h4><b>FILES</b></h4><pre>
       <b>$PCP_PMCDCONF_PATH</b>
                 command line options used to launch <b>pmdajbd2</b>
       <b>$PCP_PMDAS_DIR/jbd2/help</b>
                 default help text file for the jbd2 metrics
       <b>$PCP_PMDAS_DIR/jbd2/Install</b>
                 installation script for the <b>pmdajbd2</b> agent
       <b>$PCP_PMDAS_DIR/jbd2/Remove</b>
                 undo installation script for the <b>pmdajbd2</b> agent
       <b>$PCP_LOG_DIR/pmcd/jbd2.log</b>
                 default log file for error messages and other information from <b>pmdajbd2</b>

</pre><h4><b>PCP</b> <b>ENVIRONMENT</b></h4><pre>
       Environment variables with the prefix <b>PCP_</b> are used to parameterize the file and directory names used  by
       PCP.   On  each  installation, the file <u>/etc/pcp.conf</u> contains the local values for these variables.  The
       <b>$PCP_CONF</b> variable may be used to specify an alternative configuration file, as described in <b><a href="../man5/pcp.conf.5.html">pcp.conf</a></b>(5).

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man1/PCPIntro.1.html">PCPIntro</a></b>(1), <b><a href="../man1/pmcd.1.html">pmcd</a></b>(1), <b><a href="../man5/pcp.conf.5.html">pcp.conf</a></b>(5) and <b><a href="../man5/pcp.env.5.html">pcp.env</a></b>(5).

Performance Co-Pilot                                   PCP                                           <u><a href="../man1/PMDAJBD2.1.html">PMDAJBD2</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>