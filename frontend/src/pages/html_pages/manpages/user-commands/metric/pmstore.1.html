<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>pmstore - modify performance metric values</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/pcp">pcp_6.3.3-1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       <b>pmstore</b> - modify performance metric values

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>pmstore</b> [<b>-fFLV?</b>]  [<b>-h</b> <u>host</u>] [<b>-i</b> <u>instances</u>] [<b>-K</b> <u>spec</u>] [<b>-n</b> <u>pmnsfile</u>] <u>metricname</u> <u>value</u>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       Under  certain  circumstances,  it  is useful to be able to modify the values of performance metrics, for
       example to re-initialize counters or to assign new values to metrics that act as control variables.

       <b>pmstore</b> changes the current values for the  nominated  instances  of  a  single  performance  metric,  as
       identified  by <u>metricname</u> and the list of instance identifiers following the <b>-i</b> argument.  <u>instances</u> must
       be a single argument, with elements of the list separated by commas and/or white space.  By  default  all
       instances of <u>metricname</u> will be updated.

       Normally  <b>pmstore</b>  operates on the default Performance Metrics Name Space (PMNS), see <b><a href="../man5/PMNS.5.html">PMNS</a></b>(5), however if
       the <b>-n</b> option is specified an alternative namespace is loaded from the file <u>pmnsfile</u>.

       Unless directed to another host by the <b>-h</b> option, <b>pmstore</b>  will  interact  with  the  Performance  Metric
       Collector Daemon (PMCD) on the local host.

       The  <b>-L</b>  option  causes  <b>pmstore</b>  to use a local context to store to metrics from PMDAs on the local host
       without PMCD.  Only some metrics are available in  this  mode.   The  <b>-h</b>  and  <b>-L</b>  options  are  mutually
       exclusive.

       The <b>-f</b> option forces the given value to be stored, even if there is no current value set.

       The  interpretation of <u>value</u> is dependent on the syntax used in its specification and the underlying data
       type of <u>metricname</u>, as follows.

       1.  If the metric has an <b>integer</b> type, then <u>value</u> should be an optional leading hyphen,  followed  either
           by  decimal  digits  or  ``0x''  and  some  hexadecimal digits.  ``0X'' is also acceptable in lieu of
           ``0x''.  See <b><a href="../man3/strtol.3.html">strtol</a></b>(3) and the related routines.

       2.  If the metric has a <b>floating</b> <b>point</b> type, then <u>value</u> should be  either  in  the  form  of  an  integer
           described above, or a fixed point number, or a number in scientific notation.  See <b><a href="../man3/strtod.3.html">strtod</a></b>(3).

       3.  If the metric has a <b>string</b> type, then <u>value</u> is interpreted as a literal string of ASCII characters.

       4.  If the metric has any other type (i.e.  <b>PM_TYPE_EVENT</b> or <b>PM_TYPE_AGGREGATE</b>) then no encoding of <u>value</u>
           from the command line makes sense, and the values of these metrics cannot be modified with <b>pmstore</b>.

       The output reports the old value and the new value for each updated instance of the requested metric.

       When  using the <b>-L</b> option to fetch metrics from a local context, the <b>-K</b> option may be used to control the
       DSO PMDAs that should be made accessible.   The  <u>spec</u>  argument  conforms  to  the  syntax  described  in
       <b><a href="../man3/pmSpecLocalPMDA.3.html">pmSpecLocalPMDA</a></b>(3).  More than one <b>-K</b> option may be used.

       Normally  <b>pmstore</b>  will  report the old value (as initially retrieved using <b><a href="../man3/pmFetch.3.html">pmFetch</a></b>(3)) and the new value
       from the command line.  The <b>-F</b> option forces another <b><a href="../man3/pmFetch.3.html">pmFetch</a></b>(3) after the  <b><a href="../man3/pmStore.3.html">pmStore</a></b>(3)  and  the  returned
       value  is  reported as the new value.  This is useful in cases where <u>metricname</u> is a metric that provides
       different semantics for the store operation, e.g. to increment the  current  value  or  reset  a  counter
       (independent of the <u>value</u> from the command line).

</pre><h4><b>OPTIONS</b></h4><pre>
       The available command line options are:

       <b>-f</b>, <b>--force</b>
            Store the value even if no current value set.

       <b>-F</b>, <b>--fetch</b>
            Report the metric value after setting it.

       <b>-i</b> <u>insts</u>, <b>--insts</b>=<u>insts</u>
            Restrict store to the comma-separated list of instances.

       <b>-h</b> <u>host</u>, <b>--host</b>=<u>host</u>
            Connect to <b><a href="../man1/pmcd.1.html">pmcd</a></b>(1) on <u>host</u>, rather than on the default localhost.

       <b>-K</b> <u>spec</u>, <b>--spec-local</b>=<u>spec</u>
            When  fetching  metrics  from a local context (see <b>-L</b>), the <b>-K</b> option may be used to control the DSO
            PMDAs that should be made accessible.  The  <u>spec</u>  argument  conforms  to  the  syntax  described  in
            <b><a href="../man3/pmSpecLocalPMDA.3.html">pmSpecLocalPMDA</a></b>(3).  More than one <b>-K</b> option may be used.

       <b>-L</b>, <b>--local-PMDA</b>
            Use a local context to collect metrics from DSO PMDAs on the local host without PMCD.  See also <b>-K</b>.

       <b>-n</b> <u>pmnsfile</u>, <b>--namespace</b>=<u>pmnsfile</u>
            Normally  <b>pmcd</b>  loads the default Performance Metrics Name Space (PMNS) from <b>$PCP_VAR_DIR/pmns/root</b>,
            however if the <b>-n</b> option is specified an alternative namespace is loaded from the file <u>pmnsfile</u>.

       <b>-V</b>, <b>--version</b>
            Display version number and exit.

       <b>-?</b>, <b>--help</b>
            Display usage message and exit.

</pre><h4><b>DIAGNOSTICS</b></h4><pre>
       Two messages indicate a mismatch between the internal data type for <u>metricname</u> and the <u>value</u> provided.

       The value "???" is out of range for the data type (PM_TYPE_...)

       The value "???" is incompatible with the data type (PM_TYPE_...)

</pre><h4><b>PCP</b> <b>ENVIRONMENT</b></h4><pre>
       Environment variables with the prefix <b>PCP_</b> are used to parameterize the file and directory names used  by
       PCP.   On  each  installation, the file <u>/etc/pcp.conf</u> contains the local values for these variables.  The
       <b>$PCP_CONF</b> variable may be used to specify an alternative configuration file, as described in <b><a href="../man5/pcp.conf.5.html">pcp.conf</a></b>(5).

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man1/pmcd.1.html">pmcd</a></b>(1), <b><a href="../man1/pminfo.1.html">pminfo</a></b>(1), <b><a href="../man1/pmval.1.html">pmval</a></b>(1), <b><a href="../man3/PMAPI.3.html">PMAPI</a></b>(3), <b><a href="../man3/pmFetch.3.html">pmFetch</a></b>(3), <b><a href="../man3/pmSpecLocalPMDA.3.html">pmSpecLocalPMDA</a></b>(3), <b><a href="../man3/pmStore.3.html">pmStore</a></b>(3), <b><a href="../man3/strtod.3.html">strtod</a></b>(3),  <b><a href="../man3/strtol.3.html">strtol</a></b>(3)
       and <b><a href="../man5/PMNS.5.html">PMNS</a></b>(5).

Performance Co-Pilot                                   PCP                                            <u><a href="../man1/PMSTORE.1.html">PMSTORE</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>