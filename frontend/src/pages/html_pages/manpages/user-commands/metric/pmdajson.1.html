<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>pmdajson - JSON PMDA</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/pcp">pcp_6.3.3-1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       <b>pmdajson</b> - JSON PMDA

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>pmdajson</b>  is  a  Performance  Metrics  Domain  Agent  (PMDA) which exports metrics from arbitrary sources
       generating JavaScript Object Notation (JSON) syntax.

       At least one pair of JSON inputs are required for <b>pmdajson</b>  to  provide  metrics  for  PCP  clients;  one
       describing  metric  metadata and one containing metric values data.  Metadata is read once from a file at
       PMDA startup while the data is read every time a request for metric values is made by a PCP client.   The
       data  is  read either from a JSON file or an external command generating JSON output.  More than one pair
       of JSON inputs can be used to  support  arbitrary  number  of  metric  sources  in  different  configured
       directories.

       The overall JSON format description is at <b><a href="http://www.json.org/">http://www.json.org/</a></b>.

</pre><h4><b>JSON</b> <b>DATA</b> <b>SOURCES</b></h4><pre>
       <b>pmdajson</b> reads a mandatory JSON configuration file

           • $PCP_PMDAS_DIR<u>/json/config.json</u>

       This file can contain the following PMDA options using the JSON syntax:

           • directory_list
           • trusted_directory_list

       <b>pmdajson</b>  searches the directories listed for these options looking for files named <u>metadata.json</u> and (by
       default) <u>data.json</u>.  The JSON metadata files describe the metric names, types, and other details  of  the
       associated  JSON  metric  data.   The  JSON  data  file name is configurable, and can also be an external
       command instead of a periodically updated (by external tools) data file.

       Each of these found JSON file/command pairs form a <u>JSON</u> <u>data</u> <u>source</u>.

       For example, let us assume the following simple JSON data file that contains values for two metrics,  one
       of type string and one numeric:

         {
           "string_value": "testing, 1, 2, 3",
           "read_count": 0
         }

       For these metrics the metadata file needed by <b>pmdajson</b> would be:

         {
           "metrics": [
             {
               "name": "string_value",
               "pointer": "/string_value",
               "type": "string"
             },
             {
               "name": "read_count",
               "pointer": "/read_count",
               "type": "integer",
               "description": "Times values read"
             }
           ]
         }

       For  further  details  on  the  JSON metadata format and options, see the README file included as part of
       <b>pmdajson</b> installation.

</pre><h4><b>SECURITY</b> <b>MODEL</b></h4><pre>
       JSON data sources listed for the <u>directory_list</u> option are not trusted, meaning that if external commands
       to generate the needed JSON data are used, these commands are run as user <b>nobody</b>.

       JSON data sources listed for the <u>trusted_directory_list</u> option are  trusted,  meaning  that  if  external
       commands to generate the needed JSON data are used, these commands are run as user <b>root</b>.

       For  further  details  on  security  and  description  on  running external commands, see the README file
       included as part of <b>pmdajson</b> installation.

</pre><h4><b>INSTALLATION</b></h4><pre>
       Install the JSON PMDA by using the Install script as root:

           <b>#</b> <b>cd</b> <b>$PCP_PMDAS_DIR/json</b>
           <b>#</b> <b>./Install</b>

       To uninstall, do the following as root:

           <b>#</b> <b>cd</b> <b>$PCP_PMDAS_DIR/json</b>
           <b>#</b> <b>./Remove</b>

       <b>pmdajson</b> is launched by <b><a href="../man1/pmcd.1.html">pmcd</a></b>(1) and should never be executed directly.  The Install  and  Remove  scripts
       notify <b><a href="../man1/pmcd.1.html">pmcd</a></b>(1) when the agent is installed or removed.

</pre><h4><b>FILES</b></h4><pre>
       $PCP_PMDAS_DIR<u>/json/README</u>
              additional documentation for <b>pmdajson</b> used JSON files

       $PCP_PMDAS_DIR<u>/json/config.json</u>
              configuration file for the <b>pmdajson</b> agent

       $PCP_PMDAS_DIR<u>/json/Install</u>
              installation script for the <b>pmdajson</b> agent

       $PCP_PMDAS_DIR<u>/json/Remove</u>
              undo installation script for the <b>pmdajson</b> agent

       $PCP_LOG_DIR<u>/pmcd/json.log</u>
              default log file for messages from the <b>pmdajson</b> agent

</pre><h4><b>PCP</b> <b>ENVIRONMENT</b></h4><pre>
       Environment  variables with the prefix <b>PCP_</b> are used to parameterize the file and directory names used by
       PCP.  On each installation, the file <u>/etc/pcp.conf</u> contains the local values for  these  variables.   The
       <b>$PCP_CONF</b> variable may be used to specify an alternative configuration file, as described in <b><a href="../man5/pcp.conf.5.html">pcp.conf</a></b>(5).

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man1/PCPIntro.1.html">PCPIntro</a></b>(1), <b><a href="../man1/pmcd.1.html">pmcd</a></b>(1) and <b><a href="../man1/pminfo.1.html">pminfo</a></b>(1).

Performance Co-Pilot                                   PCP                                           <u><a href="../man1/PMDAJSON.1.html">PMDAJSON</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>