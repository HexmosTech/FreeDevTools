<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ecaccess-ectrans-request - Request a new ECtrans transfer</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/ecaccess">ecaccess_4.0.1-1.1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       ecaccess-ectrans-request - Request a new ECtrans transfer

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>ecaccess-ectrans-request</b> <b>-version|-help|-manual</b>

       <b>ecaccess-ectrans-request</b> <b>[-debug]</b> <b>[-gateway</b> <u>name</u><b>]</b> <b>[-target</b> <u>file-name</u><b>]</b> <b>[-retryCount</b> <u>number</u><b>]</b>
       <b>[-retryFrequency</b> <u>frequency</u><b>]</b> <b>[-priority</b> <u>priority</u><b>]</b> <b>[-lifeTime</b> <u>duration</u><b>]</b> <b>[-mailTo</b> <u>email</u><b>]</b> <b>[-onSuccess]</b>
       <b>[-onFailure]</b> <b>[-onRetry]</b> <b>[-deleteSource]</b> <b>[-keep]</b> <b>[-reject</b>|<b>-append</b>|<b>-resume</b>|<b>-overwrite]</b> <b>[-maximumDuration</b>
       <u>duration</u><b>]</b> <b>[-minimumDuration</b> <u>duration</u><b>]</b> <b>[-minimumRate</b> <u>rate</u><b>]</b> <u>association-name</u><b>[</b><u>@protocol</u><b>]</b> <u>source</u>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       Allow Member State users to initiate file transfers between ECMWF and Member State servers. The ECaccess
       Server will spool the ECMWF file specified by the <u>source</u> parameter in the user's ECtrans transfer queue:
       if the connection between the ECMWF and Member State gateways is down or if any error occurs, the file
       will be kept in the spool area at ECMWF and you can resume the transfer through the web interface or with
       the <b>ecaccess-ectrans-restart</b> command. If required the transfer can be retried automatically (see the
       <b>-retryCount</b> and <b>-retryFrequency</b> options to tailor the retry mechanism).

       The <b>-reject</b>, <b>-append</b>, <b>-resume</b> and <b>-overwrite</b> options are mutually exclusive and determine what to do if
       there is an existing target file. The <b>-mailTo</b> option specifies an <u>email</u> address to be notified in case of
       a successful (option <b>-onSuccess</b>) and/or a failed transfer (option <b>-onFailure</b>).

       When a request has been spooled successfully, an <u>ectrans-id</u> is returned immediately. The <u>ectrans-id</u> can
       be used to reference the transfer, using the web interface or with the <b>ecaccess-ectrans-delete</b>, <b>ecaccess-</b>
       <b>ectrans-list</b> or <b>ecaccess-ectrans-restart</b> commands.

</pre><h4><b>ARGUMENTS</b></h4><pre>
       <u>association-name</u><b>[</b><u>@protocol</u><b>]</b>
               The ECtrans Association with optionaly the name of the protocol to use.

       <u>source</u>  Name of the file at ECMWF to spool in ECtrans.

</pre><h4><b>OPTIONS</b></h4><pre>
       <b>-gateway</b> <u>name</u>
               This  is  the  <u>name</u>  of  the  ECaccess  Gateway where the ECtrans Association <u>association-name</u> is
               defined. It is by default the Gateway you are connected to. In order to  get  the  name  of  your
               current  Gateway  you can use the <b>ecaccess-gateway-name</b> command. When using the commands at ECMWF
               the default Gateway is always "ecaccess.ecmwf.int".

       <b>-target</b> <u>file-name</u>
               Defines the target <u>file-name</u> (default: same as <u>source</u>).

       <b>-retryCount</b> <u>number</u>
               Defines the <u>number</u> of retries (default: 144).

       <b>-retryFrequency</b> <u>frequency</u>
               Defines the <u>frequency</u> of retries in seconds (default: 600 seconds).

       <b>-priority</b> <u>priority</u>
               Defines the transmission <u>priority</u> 0-99 (default: 99).

       <b>-lifeTime</b> <u>duration</u>
               Defines the lifetime of the request (default: 7 days). The  <u>duration</u>  is  specified  in  [w]eeks,
               [d]ays, [h]ours, [m]inutes or [s]econds (e.g. <u>1w</u> or <u>2d</u>).

       <b>-mailTo</b> <u>email</u>
               Defines the target <u>email</u> address (default: &lt;user-id&gt;@ecmwf.int).

       <b>-onSuccess</b>
               Allow sending a mail when the transfer is successful.

       <b>-onFailure</b>
               Allow sending a mail when the transfer has failed.

       <b>-onRetry</b>
               Allow sending a mail when the transfer is retried.

       <b>-deleteSource</b>
               Allow deleting the original <u>source</u> file once it is safe in the spool.

       <b>-keep</b>   Allow  keeping  the request in the spool until the duration specified in the <b>-lifeTime</b> option has
               passed. By default a successful transfer is removed from the spool.

       <b>-reject</b> Allow failing if there is an existing target file (default).

       <b>-append</b> Allow appending if there is an existing target file.

       <b>-resume</b> Allow resuming if there is an existing target file.

       <b>-overwrite</b>
               Allow overwriting if there is an existing target file.

       <b>-maximumDuration</b> <u>duration</u>
               Define the maximum transfer <u>duration</u>. The <u>duration</u> is  specified  in  [w]eeks,  [d]ays,  [h]ours,
               [m]inutes or [s]econds (e.g. <u>10m</u> or <u>1h</u>). A value &lt;=0 will deactivate the feature (default: 12h).

       <b>-minimumDuration</b> <u>duration</u>
               Allow  setting  the  <u>duration</u>  before  to  control  a transmission (e.g. for the first 10 minutes
               ECtrans don't try to check the transfer rate, which allow not to enforce  some  minimum  transfer
               rates  for very small files). The <u>duration</u> is specified in [w]eeks, [d]ays, [h]ours, [m]inutes or
               [s]econds (e.g. <u>30s</u> or <u>10m</u>). A value &lt;=0 will deactivate the feature (default: 10m).

       <b>-minimumRate</b> <u>rate</u>
               Allow setting a minimum transfer <u>rate</u> for a transmission  (expressed  in  bytes/s).  This  is  an
               average  value, not the transmission <u>rate</u> at one particular moment in time (e.g. if a big file is
               stuck for 5 minutes but then transmit much faster later on then it will  not  be  interrupted  as
               long  as the overall transfer rate is above the minimum). A value &lt;=0 will deactivate the feature
               (default: 10240).

       <b>-version</b>
               Display version number and exits.

       <b>-help</b>   Print a brief help message and exits.

       <b>-manual</b> Prints the manual page and exits.

       <b>-retry</b> <u>count</u>
               Number of SSL connection retries per 5s to ECMWF. This parameter only apply to  the  initial  SSL
               connection  initiated by the command to the ECMWF server. It does not apply to all the subsequent
               requests made afteward as it is mainly targeting errors that can happen from time to time  during
               the SSL handshake. Default is no retry.

       <b>-debug</b>  Display the SOAP and SSL messages exchanged.

</pre><h4><b>EXAMPLES</b></h4><pre>
       <b>ecaccess-ectrans-request</b> <b>-lifeTime</b> <u>2d</u> <b>-overwrite</b> <b>-onFailure</b> <b>-onRetry</b> <u>test@genericFtp</u> <u>ec:test.txt</u>

       Request  a file transfer of the <u>ec:test.txt</u> file to the default gateway with the association <u>test</u> and the
       protocol <u>genericFtp</u>. If the target file already exists then the original file is deleted. If the transfer
       is retried or fail then an email is sent to the default email address (&lt;user-id&gt;@ecmwf.int). After 2 days
       the file is removed from the spool (whatever the status of the transmission is).

       <b>ecaccess-ectrans-request</b> <b>-minimumDuration</b> <u>10m</u>  <b>-maximumDuration</b>  <u>35m</u>  <b>-minimumRate</b>  <u>8192</u>  <u>test@genericFtp</u>
       <u>ec:test.txt</u>

       After  10  minutes ECtrans will start to control the transfer rate. If after 35 minutes the file is still
       not transmitted or if at a certain point in time the average transmission rate  is  less  than  8Kbytes/s
       then  the transmission will be canceled.  If canceled, the transmission will be retried 144 times (with a
       10 minutes interval).

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b>ecaccess-ectrans-delete</b>, <b>ecaccess-ectrans-list</b>, <b>ecaccess-ectrans-restart</b> and <b>ecaccess</b>.

perl v5.32.0                                       2021-01-05                       <u><a href="../man1p/ECACCESS-ECTRANS-REQUEST.1p.html">ECACCESS-ECTRANS-REQUEST</a></u>(1p)
</pre>
 </div>
</div></section>
</div>
</body>
</html>