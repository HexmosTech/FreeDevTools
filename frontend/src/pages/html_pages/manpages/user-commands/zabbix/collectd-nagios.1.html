<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>collectd-nagios - Nagios plugin for querying collectd</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/collectd-utils">collectd-utils_5.12.0-22.1build2_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       collectd-nagios - Nagios plugin for querying collectd

</pre><h4><b>SYNOPSIS</b></h4><pre>
       collectd-nagios <b>-s</b> <u>socket</u> <b>-n</b> <u>value_spec</u> <b>-H</b> <u>hostname</u> <u>[options]</u>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       This small program is the glue between collectd and nagios. collectd collects various performance
       statistics which it provides via the "unixsock plugin", see <b><a href="../man5/collectd-unixsock.5.html">collectd-unixsock</a></b>(5). This program is called
       by Nagios, connects to the UNIX socket and reads the values from collectd. It then returns <b>OKAY</b>, <b>WARNING</b>
       or <b>CRITICAL</b> depending on the values and the ranges provided by Nagios.

</pre><h4><b>ARGUMENTS</b> <b>AND</b> <b>OPTIONS</b></h4><pre>
       The following arguments and options are required and understood by collectd-nagios. The order of the
       arguments generally doesn't matter, as long as no argument is passed more than once.

       <b>-s</b> <u>socket</u>
           Path of the UNIX socket opened by collectd's "unixsock plugin".

       <b>-n</b> <u>value_spec</u>
           The value to read from collectd. The argument is in the form "plugin[-instance]/type[-instance]".

       <b>-H</b> <u>hostname</u>
           Hostname to query the values for.

       <b>-d</b> <u>data_source</u>
           Each  <u>value_spec</u>  may be made of multiple "data sources". With this option you can select one or more
           data sources. To select multiple data sources simply specify this  option  again.  If  multiple  data
           sources  are  examined  they  are  handled  according to the consolidation function given with the <b>-g</b>
           option.

       <b>-g</b> <b>none</b><u>|</u><b>average</b><u>|</u><b>sum</b>
           When multiple data sources are selected from a value spec, they can be handled differently  depending
           on this option. The values of the following meaning:

           <b>none</b>
               No  consolidation  if  done  and  the  warning  and  critical  regions  are applied to each value
               independently.

           <b>average</b>
               The warning and critical ranges are applied to the average of all values.

           <b>sum</b> The warning and critical ranges are applied to the sum of all values.

           <b>percentage</b>
               The warning and critical ranges are applied to the ratio (in percent) of the first value and  the
               sum  of  all values. A warning is returned if the first value is not defined or if all values sum
               up to zero.

       <b>-c</b> <u>range</u>
       <b>-w</b> <u>range</u>
           Set the critical (<b>-c</b>) and warning (<b>-w</b>) ranges. These options  mostly  follow  the  normal  syntax  of
           Nagios plugins. The general format is "<u>min</u><b>:</b><u>max</u>". If a value is smaller than <u>min</u> or bigger than <u>max</u>, a
           <u>warning</u> or <u>critical</u> status is returned, otherwise the status is <u>success</u>.

           The  tilde sign (<b>~</b>) can be used to explicitly specify infinity. If <b>~</b> is used as a <u>min</u> value, negative
           infinity is used. In case of <u>max</u>, it is interpreted as positive infinity.

           If the first character of the <u>range</u> is the at sign (<b>@</b>), the meaning of the range  will  be  inverted.
           I. e.  all  values <u>within</u> the range will yield a <u>warning</u> or <u>critical</u> status, while all values <u>outside</u>
           the range will result in a <u>success</u> status.

           <u>min</u> (and the colon) may be omitted, <u>min</u> is then assumed to be zero. If  <u>max</u>  (but  not  the  trailing
           colon) is omitted, <u>max</u> is assumed to be positive infinity.

       <b>-m</b>  If  this  option  is  given,  "Not  a  Number"  (NaN)  is  treated  as <u>critical</u>. By default, the <u>none</u>
           consolidation reports NaNs as <u>warning</u>. Other consolidations simply ignore NaN values.

</pre><h4><b>RETURN</b> <b>VALUE</b></h4><pre>
       As usual for Nagios plugins, this program writes a short, one line status message to STDOUT  and  signals
       success  or  failure  with its return value. It exits with a return value of <b>0</b> for <u>success</u>, <b>1</b> for <u>warning</u>
       and <b>2</b> for <u>critical</u>. If the values are not available or some  other  error  occurred,  it  returns  <b>3</b>  for
       <u>unknown</u>.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man1/collectd.1.html">collectd</a></b>(1), <b><a href="../man5/collectd.conf.5.html">collectd.conf</a></b>(5), <b><a href="../man5/collectd-unixsock.5.html">collectd-unixsock</a></b>(5), &lt;<a href="http://nagios.org/">http://nagios.org/</a>&gt;

</pre><h4><b>AUTHOR</b></h4><pre>
       Florian Forster &lt;octo at collectd.org&gt;

5.12.0.git                                         2025-03-16                                 <u><a href="../man1/COLLECTD-NAGIOS.1.html">COLLECTD-NAGIOS</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>