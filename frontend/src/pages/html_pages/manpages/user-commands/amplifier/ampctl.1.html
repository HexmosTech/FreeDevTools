<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ampctl - control radio amplifiers</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/libhamlib-utils">libhamlib-utils_4.6.2-1build1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       ampctl - control radio amplifiers

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>ampctl</b> [<b>-hiIlLuV</b>] [<b>-m</b> <u>id</u>] [<b>-r</b> <u>device</u>] [<b>-s</b> <u>baud</u>] [<b>-t</b> <u>char</u>] [<b>-C</b> <u>parm=val</u>] [<b>-v</b>[<b>-Z</b>]] [<b>command</b>|<b>-</b>]

</pre><h4><b>DESCRIPTION</b></h4><pre>
       Control  radio  amplifiers.  <b>ampctl</b> accepts <b>commands</b> from the command line as well as in interactive mode
       if none are provided on the command line.

       Keep in mind that Hamlib is BETA level  software.   While  a  lot  of  backend  libraries  lack  complete
       amplifier support, the basic functions are usually well supported.

       Please  report  bugs and provide feedback at the e-mail address given in the <b>BUGS</b> section below.  Patches
       and code enhancements sent to the same address are welcome.

</pre><h4><b>OPTIONS</b></h4><pre>
       This program follows the usual GNU command line syntax.  Short options that take an argument may have the
       value follow immediately or be separated by a space.  Long options starting with two dashes (‘-’) require
       an ‘=’ between the option and any argument.

       Here is a summary of the supported options:

       <b>-m</b>, <b>--model</b>=<u>id</u>
              Select amplifier model number.

              See model list (use “ampctl -l”).

              <b>Note</b>: <b>ampctl</b> (or third party software using the C API) will use amplifier model 2 for  <b>NET</b>  <b>ampctl</b>
              (communicating with <b>ampctld</b>).

       <b>-r</b>, <b>--amp-file</b>=<u>device</u>
              Use <u>device</u> as the file name of the port connected to the amplifier.

              Often  a  serial  port,  but  could be a USB to serial adapter.  Typically <u>/dev/ttyS0</u>, <u>/dev/ttyS1</u>,
              <u>/dev/ttyUSB0</u>, etc. on Linux, <u>COM1</u>, <u>COM2</u>, etc. on MS Windows.  The BSD flavors and  Mac  OS/X  have
              their own designations.  See your system's documentation.

       <b>-s</b>, <b>--serial-speed</b>=<u>baud</u>
              Set serial speed to <u>baud</u> rate.

              Uses maximum serial speed from amplifier backend capabilities (set by <b>-m</b> above) as the default.

       <b>-t</b>, <b>--send-cmd-term</b>=<u>char</u>
              Change the termination <u>char</u> for text protocol when using the <b>send_cmd</b> command.

              The  default  value is ASCII CR (‘0x0D’).  ASCII non-printing characters can be given as the ASCII
              number in hexadecimal format prepended with “0x”.  You may pass an empty string for no termination
              char.  The string “-1” tells <b>ampctl</b> to switch to binary protocol.

              For example, to specify a command terminator for Kenwood style text  commands  pass  “-t  ';'”  to
              ampctl.  See <b>EXAMPLE</b> below.

       <b>-L</b>, <b>--show-conf</b>
              List all config parameters for the amplifier defined with <b>-m</b> above.

       <b>-C</b>, <b>--set-conf</b>=<u>parm=val</u>[<u>,parm=val</u>]
              Set amplifier configuration parameter(s), e.g.  <u>stop_bits=2</u>.

              Use the <b>-L</b> option above for a list of configuration parameters for a given model number.

       <b>-u</b>, <b>--dump-caps</b>
              Dump capabilities for the amplifier defined with <b>-m</b> above and exit.

       <b>-l</b>, <b>--list</b>
              List all amplifier model numbers defined in <b>Hamlib</b> and exit.

              The list is sorted by model number.

              <b>Note</b>:  In  Linux  the  list  can  be scrolled back using <b>Shift-PageUp</b>/<b>Shift-PageDown</b>, or using the
              scrollbars of a virtual terminal in X or the cmd window in Windows.  The output can  be  piped  to
              <b><a href="../man1/more.1.html">more</a></b>(1) or <b><a href="../man1/less.1.html">less</a></b>(1), e.g. “ampctl -l | more”.

       <b>-i</b>, <b>--read-history</b>
              Read previously saved command and argument history from a file (default <u>$HOME/.ampctl_history</u>) for
              the current session.

              Available when <b>ampctl</b> is built with Readline support (see READLINE below).

              <b>Note</b>:  To  read  a  history  file stored in another directory, set the <b>AMPCTL_HIST_DIR</b> environment
              variable, e.g. “AMPCTL_HIST_DIR=<a href="file:~/tmp">~/tmp</a> ampctl -i”.  When AMPCTL_HIST_DIR is not set, the  value  of
              <b>HOME</b> is used.

       <b>-I</b>, <b>--save-history</b>
              Write  current  session  (and  previous  session(s),  if  <b>-i</b> option is given) command and argument
              history to a file (default <u>$HOME/.ampctl_history</u>) at the end of the current session.

              Complete commands with arguments are saved as a single line to be recalled  and  used  or  edited.
              Available when <b>ampctl</b> is built with Readline support (see <b>READLINE</b> below).

              <b>Note</b>:  To write a history file in another directory, set the <b>AMPCTL_HIST_DIR</b> environment variable,
              e.g. “AMPCTL_HIST_DIR=<a href="file:~/tmp">~/tmp</a> ampctl -IRq.  When AMPCTL_HIST_DIR is not set, the value  of  <b>HOME</b>  is
              used.

       <b>-v</b>, <b>--verbose</b>
              Set verbose mode, cumulative (see <b>DIAGNOSTICS</b> below).

       <b>-Z</b>, <b>--debug-time-stamps</b>
              Enable time stamps for the debug messages.

              Use only in combination with the <b>-v</b> option as it generates no output on its own.

       <b>-h</b>, <b>--help</b>
              Show a summary of these options and exit.

       <b>-V</b>, <b>--version</b>
              Show version of <b>ampctl</b> and exit.

       <b>-</b>      Stop option processing and read commands from standard input.

              See <b>Standard</b> <b>Input</b> below.

       <b>Note</b>:  Some  options  may  not  be implemented by a given backend and will return an error.  This is most
       likely to occur with the <b>--set-conf</b> and <b>--show-conf</b> options.

       Please note that the backend for the amplifier to be controlled, or the amplifier itself may not  support
       some commands.  In that case, the operation will fail with a <b>Hamlib</b> error code.

</pre><h4><b>COMMANDS</b></h4><pre>
       Commands  can  be  entered  either  as  a  single  char, or as a long command name.  The commands are not
       prefixed with a dash as the options are.  They may be typed in when in interactive mode  or  provided  as
       argument(s)  in  command  line  interface  mode.  In interactive mode commands and their arguments may be
       entered on a single line:

           <b>F</b> <b>14250000</b>

       Since most of the <b>Hamlib</b> operations have a <b>set</b> and a <b>get</b> method, an upper case letter will often be  used
       for  a  <b>set</b>  method whereas the corresponding lower case letter refers to the <b>get</b> method.  Each operation
       also has a long name; in interactive mode, prepend a backslash, ‘\’, to enter a long command name.

       Example: Use “\dump_caps” to see what capabilities this amplifier and backend support.

              <b>Note</b>: The backend for the amplifier to be controlled, or the amplifier itself may not support some
              commands. In that case, the operation will fail with a <b>Hamlib</b> error message.

       A simple example using commands saved to a file (typed text shown in bold):

           $ <b>cat</b> <b>&lt;&lt;.EOF.</b> <b>&gt;cmds.txt</b>
           &gt; <b>#</b> <b>File</b> <b>of</b> <b>commands</b>
           &gt; <b>F</b> <b>14250000</b>
           &gt; <b>f</b>
           &gt; <b>l</b> <b>PWRINPUT</b>
           &gt; <b>l</b> <b>PWRFORWARD</b>
           &gt; <b>l</b> <b>SWR</b>
           &gt; <b>\dump_caps</b>
           &gt; <b>.EOF.</b>

           $ <b>ampctl</b> <b>-m1</b> <b>-</b> <b>&lt;cmds.txt</b>

           Amplifier command: # File of commands

           Amplifier command: F 14250000

           Amplifier command: f
           Frequency(Hz): 14250000

           Amplifier command: l PWRINPUT
           Level Value: 0

           Amplifier command: l PWRFORWARD
           Level Value: 1499

           Amplifier command: l SWR
           Level Value: 1.000000

           Amplifier command: \dump_caps
           Caps dump for model:    1
           Model name:             Dummy
           Mfg name:               Hamlib
           Backend version:        0.1
           Backend copyright:      LGPL
           Backend status:         Alpha
           Amp type:               Other
           Port type:              None
           Write delay:            0mS, timeout 0mS, 0 retries
           Post Write delay:       0mS
           Has priv data:          N
           Get level: SWR NH PF PWRINPUT PWRFORWARD PWRREFLECTED PWRPEAK FAULT
           Has Init:               Y
           Has Cleanup:            Y
           Has Open:               Y
           Has Close:              Y
           Can set Conf:           N
           Can get Conf:           N
           Can Reset:              Y
           Can get Info:           Y

           Overall backend warnings: 0

           Amplifier command:

           $

   <b>ampctl</b> <b>Commands</b>
       A summary of commands is included below (In the case of <b>set</b> commands  the  quoted  italicized  string  is
       replaced  by  the  value in the description.  In the case of <b>get</b> commands the quoted italicized string is
       the key name of the value returned.):

       <b>Q</b>|<b>q</b>, exit ampctl
              Exit ampctl in interactive mode.

              When ampctl is controlling the amplifier directly, will close  the  amplifier  backend  and  port.
              When  ampctl  is  connected  to  ampctld  (amplifier model 2), the TCP/IP connection to ampctld is
              closed and ampctld remains running, available for another TCP/IP network connection.

       <b>F</b>, <b>set_freq</b> '<u>Frequency</u>'
              Set '<u>Frequency</u>', in Hz.

              Frequency may be a floating point or integer value.

       <b>f</b>, <b>get_freq</b>
              Get '<u>Frequency</u>', in Hz.

              Returns an integer value.

       <b>l</b>, <b>get_level</b> '<u>Level</u>'
              Get '<u>Level</u> <u>Value</u>'.

              Returns Level Value as a float or integer for the Level token given.

              <b>Note</b>: Passing a ‘?’ (query) as the first argument instead of a Level token  will  return  a  space
              separated  list  of  amplifier  backend  supported  get  level  tokens.  Use this to determine the
              supported levels of a given amplifier backend.

       <b>w</b>, <b>send_cmd</b> '<u>Cmd</u>'
              Send a raw command string to the amplifier.

              This is useful for testing and troubleshooting amplifier commands and responses when developing  a
              backend.

              For  binary  protocols enter values as \0xAA\0xBB.  Expect a '<u>Reply</u>' from the amplifier which will
              likely be a binary block or an ASCII string  depending  on  the  amplifier's  protocol  (see  your
              amplifier's computer control documentation).

              The  command terminator, set by the <b>send-cmd-term</b> option above, will terminate each command string
              sent to the amplifier.  This character should not be a part of the input string.

       <b>dump_state</b>
              Return certain state information about the amplifier backend.

       <b>1</b>, <b>dump_caps</b>
              Not a real amplifier remote command, it just dumps capabilities, i.e. what the backend knows about
              this model, and what it can do.

              TODO: Ensure this is in a consistent format so it can be read into a hash, dictionary,  etc.   Bug
              reports requested.

              <b>Note</b>:  This  command  will produce many lines of output so be very careful if using a fixed length
              array!  For example, running this command against the Dummy backend results in a number  of  lines
              of text output.

       <b>_</b>, <b>get_info</b>
              Return information from the amplifier backend.

       <b>R</b>, <b>reset</b> '<u>Reset</u>'
              Perform amplifier '<u>Reset</u>'.

              Reset  is  an  integer  value:  ‘0’ = None, ‘1’ = Memory reset, ‘2’ = Fault reset, ‘3’ = Amplifier
              reset.

       <b>set_powerstat</b> '<u>Power</u> <u>Status</u>'
              Set '<u>Power</u> <u>Status</u>'.

              Power Status is an integer value: ‘0’ = Power Off, ‘1’ = Power On,  ‘2’  =  Power  Standby  (enter
              standby), ‘4’ = Power Operate (leave standby).

       <b>get_powerstat</b>
              Get '<u>Power</u> <u>Status</u>' as in <b>set_powerstat</b> above.

       <b>Y</b>, <b>set_ant</b> '<u>Antenna</u>' '<u>Option</u>'
              Set '<u>Antenna</u>' and '<u>Option</u>'.

              Number is 1-based antenna# (‘1’, ‘2’, ‘3’, ...).

                  1 = A/1
                  2 = B/2
                  3 = C/3

</pre><h4><b>READLINE</b></h4><pre>
       If  <b>Readline</b>  library  development  files are found at configure time, <b>ampctl</b> will be conditionally built
       with Readline support for command and argument  entry.   Readline  command  key  bindings  are  at  their
       defaults  as  described  in  the  Readline manual.   <b>ampctl</b>  sets  the name “ampctl” which can be used in
       Conditional Init Constructs in the Readline Init File (<u>$HOME/.inputrc</u> by default) for custom  keybindings
       unique to <b>ampctl</b>.

       Command  history is available with Readline support as described in the Readline History manual.  Command
       and argument strings are stored as single lines even when arguments are prompted for input  individually.
       Commands and arguments are not validated and are stored as typed with values separated by a single space.

       Normally   session   history   is  not  saved,  however,  use  of  either  of  the  <b>-i</b>/<b>--read-history</b>  or
       <b>-I</b>/<b>--save-history</b> options when starting <b>ampctl</b> will cause any previously saved  history  to  be  read  in
       and/or  the  current and any previous session history (assuming the <b>-i</b> and <b>-I</b> options are given together)
       will be written out when <b>ampctl</b> is closed.  Each option is mutually exclusive, i.e. either may  be  given
       separately  or in combination.  This is useful to save a set of commands and then read them later but not
       write the modified history for a consistent set of test commands in interactive mode, for example.

       History is stored in <u>$HOME/.ampctl_history</u> by default although the destination directory may  be  changed
       by  setting  the  <b>AMPCTL_HIST_DIR</b>  environment variable.  When AMPCTL_HIST_DIR is unset, the value of the
       <b>HOME</b> environment variable is used instead.  Only the destination directory may be changed at this time.

       If Readline support is not found at configure  time  the  original  internal  command  handler  is  used.
       Readline  is  not  used for <b>ampctl</b> commands entered on the command line regardless if Readline support is
       built in or not.

       <b>Note</b>: Readline support is not included in the MS Windows 32 or 64  bit  binary  builds  supplied  by  the
       Hamlib  Project.   Running <b>ampctl</b> on the MS Windows platform in the ‘cmd’ shell does give session command
       line history, however, it is not saved to disk between sessions.

</pre><h4><b>DIAGNOSTICS</b></h4><pre>
       The <b>-v</b>, <b>--verbose</b> option allows different levels of diagnostics to be output to <b>stderr</b> and correspond  to
       -v for <b>BUG</b>, -vv for <b>ERR</b>, -vvv for <b>WARN</b>, -vvvv for <b>VERBOSE</b>, or -vvvvv for <b>TRACE</b>.

       A  given  verbose  level is useful for providing needed debugging information to the email address below.
       For example, TRACE output shows all of the values sent to and received from the amplifier which  is  very
       useful for amplifier backend library development and may be requested by the developers.

</pre><h4><b>EXIT</b> <b>STATUS</b></h4><pre>
       <b>ampctl</b> exits with:

       <b>0</b>      if all operations completed normally;

       <b>1</b>      if there was an invalid command line option or argument;

       <b>2</b>      if an error was returned by <b>Hamlib</b>.

</pre><h4><b>EXAMPLES</b></h4><pre>
       Start <b>ampctl</b> for am Elecraft KPA-1500 using a USB to serial adapter on Linux in interactive mode:

           $ <b>ampctl</b> <b>-m</b> <b>201</b> <b>-r</b> <b>/dev/ttyUSB1</b>

       Start <b>ampctl</b> for an Elecraft KPA-1500 using COM1 on MS Windows while generating TRACE output to <u>stderr</u>:

           &gt; <b>ampctl</b> <b>-m</b> <b>201</b> <b>-r</b> <b>COM1</b> <b>-vvvvv</b>

       Connect  to  a running <b>ampctld</b> with amplifier model 2 (“NET ampctl”) on the local host and specifying the
       TCP port, setting frequency and mode:

           $ <b>ampctl</b> <b>-m</b> <b>2</b> <b>-r</b> <b>localhost:4531</b> <b>F</b> <b>7253500</b>

</pre><h4><b>BUGS</b></h4><pre>
       This almost empty section...

       Report bugs to:

              Hamlib Developer mailing list

</pre><h4><b>COPYING</b></h4><pre>
       This file is part of Hamlib, a project to develop a library that simplifies radio, rotator, and amplifier
       control functions for developers of software primarily of interest to radio amateurs and those interested
       in radio communications.

       Copyright © 2000-2011 Stephane Fillod
       Copyright © 2000-2018 the Hamlib Group (various contributors)
       Copyright © 2010-2020 Nate Bargmann

       This is free software; see the file COPYING for copying conditions.  There is NO warranty; not  even  for
       MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man1/less.1.html">less</a></b>(1), <b><a href="../man1/more.1.html">more</a></b>(1), <b><a href="../man1/ampctld.1.html">ampctld</a></b>(1), <b><a href="../man7/hamlib.7.html">hamlib</a></b>(7)

</pre><h4><b>COLOPHON</b></h4><pre>
       Links to the Hamlib Wiki, Git repository, release archives, and daily snapshot archives are available via
       hamlib.org.

Hamlib                                             2020-09-08                                          <u><a href="../man1/AMPCTL.1.html">AMPCTL</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>