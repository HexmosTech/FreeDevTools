<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>r.clump   - Recategorizes data in a raster map by grouping cells that form physically discrete areas into</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/grass-doc">grass-doc_8.4.1-1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       <b>r.clump</b>   - Recategorizes data in a raster map by grouping cells that form physically discrete areas into
       unique categories.

</pre><h4><b>KEYWORDS</b></h4><pre>
       raster, statistics, reclass, clumps

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>r.clump</b>
       <b>r.clump</b> <b>--help</b>
       <b>r.clump</b>    [-<b>dg</b>]    <b>input</b>=<u>name</u>[,<u>name</u>,...]      [<b>output</b>=<u>name</u>]       [<b>title</b>=<u>string</u>]       [<b>threshold</b>=<u>float</u>]
       [<b>minsize</b>=<u>integer</u>]   [--<b>overwrite</b>]  [--<b>help</b>]  [--<b>verbose</b>]  [--<b>quiet</b>]  [--<b>ui</b>]

   <b>Flags:</b>
       <b>-d</b>
           Clump also diagonal cells
           Clumps are also traced along diagonal neighboring cells

       <b>-g</b>
           Print only the number of clumps in shell script style

       <b>--overwrite</b>
           Allow output files to overwrite existing files

       <b>--help</b>
           Print usage summary

       <b>--verbose</b>
           Verbose module output

       <b>--quiet</b>
           Quiet module output

       <b>--ui</b>
           Force launching GUI dialog

   <b>Parameters:</b>
       <b>input</b>=<u>name[,name</u>,...] <b>[required]</b>
           Name of input raster map(s)

       <b>output</b>=<u>name</u>
           Name for output raster map

       <b>title</b>=<u>string</u>
           Title for output raster map

       <b>threshold</b>=<u>float</u>
           Threshold to identify similar cells
           Valid range: 0 = identical to &lt; 1 = maximal difference
           Default: <u>0</u>

       <b>minsize</b>=<u>integer</u>
           Minimum clump size in cells
           Clumps smaller than minsize will be merged to form larger clumps
           Default: <u>1</u>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <u>r.clump</u>  finds  all  areas  of contiguous cell category values (connected components) in the input raster
       map. NULL values in the input are ignored. It assigns a unique category value to each such area ("clump")
       in the resulting output raster map.

       Category distinctions in the input raster map are preserved.  This means that if distinct category values
       are adjacent, they will NOT be clumped  together.  The  user  can  run  <u>r.reclass</u>  prior  to  <u>r.clump</u>  to
       recategorize cells and reassign cell category values.

       <u>r.clump</u>  can  also perform "fuzzy" clumping where neighboring cells that are not identical but similar to
       each other are clumped together. Here, the spectral distance between two cells is scaled to the range [0,
       1] and compared to the <u>threshold</u> value. Cells are clumped  together  if  their  spectral  distance  is  ≤
       <u>threshold</u>.  The result is very sensitive to this <u>threshold</u> value, a recommended start value is 0.01, then
       increasing or decreasing this value according to the desired output.  Once a suitable threshold has  been
       determined, noise can be reduced by merging small clumps with the <u>minsize</u> option.

       <u>r.clump</u>  can  also  use multiple raster maps of any kind (CELL, FCELL, DCELL) as input. In this case, the
       spectral distance between cells is used to determine the similarity of two cells. This means  that  input
       maps  must  be metric: the difference cell 1 - cell 2 must make sense. Categorical maps, e.g. land cover,
       can not be used in this case.  Examples for valid input maps are satellite imagery,  vegetation  indices,
       elevation, climatic parameters etc.

</pre><h4><b>NOTES</b></h4><pre>
       By  default,  the  resulting  clumps are connected only by their four direct neighbors (left, right, top,
       bottom). The <u>-d</u> flag activates also diagonal clump tracing.

       <u>r.clump</u> works properly with raster map that contains only "fat" areas (more than a single cell in width).
       Linear elements (lines that are a single cell wide) may or may not be clumped together depending  on  the
       direction  of  the  line  -  horizontal  and vertical lines of cells are considered to be contiguous, but
       diagonal lines of cells are not considered to be contiguous and are broken up into separate clumps unless
       the <u>-d</u> flag is used.

       A random color table and other support files are generated for the output raster map.

</pre><h4><b>EXAMPLES</b></h4><pre>
   <b>Clumping</b> <b>of</b> <b>a</b> <b>raster</b> <b>map</b>
       Perform clumping on "lakes" map (North Carolina sample dataset) and  report  area  sizes  for  each  lake
       individually rather by waterbody type:
       g.region raster=lakes -p
       # report sizes by waterbody type
       r.report lakes units=h
       # clump per raster polygon
       r.clump lakes out=lakes_individual
       # report sizes by individual waterbody
       r.report lakes_individual units=h
       <u>Figure:</u> <u>Clumping</u> <u>of</u> <u>rasterized</u> <u>lakes:</u> <u>original</u> <u>lakes</u> <u>map</u> <u>(left)</u> <u>and</u> <u>clumped</u> <u>lakes</u> <u>map</u> <u>(right)</u>

   <b>Fuzzy</b> <b>clumping</b> <b>on</b> <b>Landsat</b> <b>bands</b>
       Perform fuzzy clumping on Landsat 7 2002 imagery (North Carolina sample dataset)
       g.region raster=lsat7_2002_10 -p
       r.clump in=lsat7_2002_10,lsat7_2002_20,lsat7_2002_30,lsat7_2002_40,lsat7_2002_50,lsat7_2002_70 \
               out=lsat7_2002_clump threshold=0.045
       # reduce noise
       r.clump in=lsat7_2002_10,lsat7_2002_20,lsat7_2002_30,lsat7_2002_40,lsat7_2002_50,lsat7_2002_70 \
               out=lsat7_2002_clump_min10 threshold=0.045 minsize=10
       <u>Figure:</u>  <u>Fuzzy</u>  <u>clumping</u> <u>on</u> <u>Landsat</u> <u>bands:</u> <u>original</u> <u>RGB</u> <u>composite</u> <u>(left),</u> <u>fuzzy</u> <u>clumped</u> <u>map</u> <u>(middle),</u> <u>and</u>
       <u>fuzzy</u> <u>clumped</u> <u>with</u> <u>minsize</u> <u>map</u> <u>(right)</u>

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
        <u>r.buffer,</u> <u>r.distance,</u> <u>r.grow,</u> <u>r.mapcalc,</u> <u>r.mfilter,</u>  <u>r.neighbors,</u>  <u>r.to.vect,</u>  <u>r.reclass,</u>  <u>r.statistics,</u>
       <u>r.support</u>

</pre><h4><b>AUTHORS</b></h4><pre>
       Michael Shapiro, U.S. Army Construction Engineering Research Laboratory
       Markus Metz (diagonal clump tracing, fuzzy clumping)

</pre><h4><b>SOURCE</b> <b>CODE</b></h4><pre>
       Available at: r.clump source code (history)

       Accessed: Friday Apr 04 01:19:02 2025

       Main index | Raster index | Topics index | Keywords index | Graphical index | Full index

       © 2003-2025 GRASS Development Team, GRASS GIS 8.4.1 Reference Manual

GRASS 8.4.1                                                                                      <u><a href="../man1grass/r.clump.1grass.html">r.clump</a></u>(1grass)
</pre>
 </div>
</div></section>
</div>
</body>
</html>