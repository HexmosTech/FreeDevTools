<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>r.univar  - Calculates univariate statistics from the non-null cells of a raster map.</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/grass-doc">grass-doc_8.4.1-1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       <b>r.univar</b>  - Calculates univariate statistics from the non-null cells of a raster map.
       Statistics  include  number  of  cells  counted, minimum and maximum cell values, range, arithmetic mean,
       population variance, standard deviation, coefficient of variation, and sum.

</pre><h4><b>KEYWORDS</b></h4><pre>
       raster, statistics, univariate statistics, zonal statistics, parallel

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>r.univar</b>
       <b>r.univar</b> <b>--help</b>
       <b>r.univar</b>  [-<b>getr</b>]  <b>map</b>=<u>name</u>[,<u>name</u>,...]   [<b>zones</b>=<u>name</u>]    [<b>output</b>=<u>name</u>]     [<b>percentile</b>=<u>float</u>[,<u>float</u>,...]]
       [<b>nprocs</b>=<u>integer</u>]   [<b>separator</b>=<u>character</u>]   [--<b>overwrite</b>]  [--<b>help</b>]  [--<b>verbose</b>]  [--<b>quiet</b>]  [--<b>ui</b>]

   <b>Flags:</b>
       <b>-g</b>
           Print the stats in shell script style

       <b>-e</b>
           Calculate extended statistics

       <b>-t</b>
           Table output format instead of standard output format

       <b>-r</b>
           Use the native resolution and extent of the raster map, instead of the current region

       <b>--overwrite</b>
           Allow output files to overwrite existing files

       <b>--help</b>
           Print usage summary

       <b>--verbose</b>
           Verbose module output

       <b>--quiet</b>
           Quiet module output

       <b>--ui</b>
           Force launching GUI dialog

   <b>Parameters:</b>
       <b>map</b>=<u>name[,name</u>,...] <b>[required]</b>
           Name of raster map(s)

       <b>zones</b>=<u>name</u>
           Raster map used for zoning, must be of type CELL

       <b>output</b>=<u>name</u>
           Name for output file (if omitted or "-" output to stdout)

       <b>percentile</b>=<u>float[,float</u>,...]
           Percentile to calculate (requires extended statistics flag)
           Options: <u>0-100</u>
           Default: <u>90</u>

       <b>nprocs</b>=<u>integer</u>
           Number of threads for parallel computing
           Default: <u>1</u>

       <b>separator</b>=<u>character</u>
           Field separator
           Special characters: pipe, comma, space, tab, newline
           Default: <u>pipe</u>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <u>r.univar</u>  calculates  the univariate statistics of one or several raster map(s). This includes the number
       of cells counted, minimum and maximum cell values, range, arithmetic mean, population variance,  standard
       deviation,   coefficient   of  variation,  and  sum.  Statistics  are  calculated  separately  for  every
       category/zone found in the <b>zones</b> input map if given.  If the <b>-e</b> extended statistics flag is given the 1st
       quartile, median, 3rd quartile, and given <b>percentile</b> are calculated.  If the <b>-g</b> flag is given the results
       are presented in a format suitable for use in a shell script.  If the <b>-t</b> flag is given  the  results  are
       presented  in  tabular format with the given field separator. The table can immediately be converted to a
       vector attribute table which can then be linked to a vector, e.g.  the  vector  that  was  rasterized  to
       create the <b>zones</b> input raster.

       When multiple input maps are given to <u>r.univar</u>, the overall statistics are calculated. This is useful for
       a  time  series  of  the  same  variable,  as well as for the case of a segmented/tiled dataset. Allowing
       multiple raster maps to be specified saves the user from using a temporary raster map for the  result  of
       <u>r.series</u> or <u>r.patch</u>.

</pre><h4><b>NOTES</b></h4><pre>
       As  with  most  GRASS raster modules, <u>r.univar</u> operates on the raster array defined by the current region
       settings, not the original extent and resolution of the input map. See <u>g.region</u>, but also the  wiki  page
       on the computational region to understand the impact of the region settings on the calculations.

       This  module  can  use large amounts of system memory when the <b>-e</b> extended statistics flag is used with a
       very large region setting. If the region is too large the module should exit  gracefully  with  a  memory
       allocation  error.  Basic  statistics can be calculated using any size input region.  Extended statistics
       can be calculated using <u>r.stats.quantile</u>.

       Without a <b>zones</b> input raster, the <u>r.quantile</u> module will be significantly more efficient for  calculating
       percentiles with large maps.

       For  calculating  univariate  statistics  from  a  raster  map  based  on  vector polygon map and uploads
       statistics to new attribute columns, see <u>v.rast.stats</u>.

   <b>PERFORMANCE</b>
       <u>r.univar</u> supports parallel processing using OpenMP. The user can specify the number of threads to be used
       with the <b>nprocs</b> parameter.  However, parallelization is disabled when the MASK is set.

       Due to the differences in summation order, users may encounter small floating points  discrepancies  when
       <u>r.univar</u>  is run on very large raster files when different <b>nprocs</b> parameters are used. However, since the
       work allocation among threads is static, users should expect to have the same results when run  with  the
       same number of threads.
       <u>Figure:</u>  <u>Benchmark</u> <u>shows</u> <u>execution</u> <u>time</u> <u>for</u> <u>different</u> <u>number</u> <u>of</u> <u>cells</u> <u>and</u> <u>cores.</u> <u>See</u> <u>benchmark</u> <u>scripts</u> <u>in</u>
       <u>source</u> <u>code.</u>

</pre><h4><b>EXAMPLES</b></h4><pre>
   <b>Univariate</b> <b>statistics</b>
       In this example, the raster map elevation in the North Carolina  sample  dataset  is  used  to  calculate
       univariate statistics:
       g.region raster=elevation -p
       # standard output, along with extended statistics
       r.univar -e elevation percentile=98
       total null and non-null cells: 2025000
       total null cells: 0
       Of the non-null cells:
       ----------------------
       n: 2025000
       minimum: 55.5788
       maximum: 156.33
       range: 100.751
       mean: 110.375
       mean of absolute values: 110.375
       standard deviation: 20.3153
       variance: 412.712
       variation coefficient: 18.4057 %
       sum: 223510266.558102
       1st quartile: 94.79
       median (even number of cells): 108.88
       3rd quartile: 126.792
       98th percentile: 147.727
       # script style output, along with extended statistics
       r.univar -ge elevation percentile=98
       n=2025000
       null_cells=0
       cells=2025000
       min=55.5787925720215
       max=156.329864501953
       range=100.751071929932
       mean=110.375440275606
       mean_of_abs=110.375440275606
       stddev=20.3153233205981
       variance=412.712361620436
       coeff_var=18.4056555243368
       sum=223510266.558102
       first_quartile=94.79
       median=108.88
       third_quartile=126.792
       percentile_98=147.727

   <b>Zonal</b> <b>statistics</b>
       In  this example, the raster polygon map basins in the North Carolina sample dataset is used to calculate
       raster statistics for zones for elevation raster map:
       g.region raster=basins -p
       This will set and print computational region in the format:
       projection: 99 (Lambert Conformal Conic)
       zone:       0
       datum:      nad83
       ellipsoid:  a=6378137 es=0.006694380022900787
       north:      228500
       south:      215000
       west:       630000
       east:       645000
       nsres:      10
       ewres:      10
       rows:       1350
       cols:       1500
       cells:      2025000
       Check basin’s IDs using:
       r.category basins
       This will print them in the format:
       2
       4
       6
       8
       10
       12
       14
       16
       18
       20
       22
       24
       26
       28
       30
       Visualization of them underlying elevation map can be created as:
       d.mon wx0
       d.rast map=elevation
       r.colors map=elevation color=grey
       d.rast map=basins
       r.colors map=basins color=bgyr
       d.legend raster=basins use=2,4,6,8,10,12,14,16,18,20,22,24,26,28,30
       d.barscale
       <u>Figure:</u> <u>Zones</u> <u>(basins,</u> <u>opacity:</u> <u>60%)</u> <u>with</u> <u>underlying</u> <u>elevation</u> <u>map</u> <u>for</u> <u>North</u> <u>Carolina</u> <u>sample</u> <u>dataset.</u>

       Then statistics for elevation can be calculated separately for every zone, i.e. basin found in the  <b>zones</b>
       parameter:
       r.univar -t map=elevation zones=basins separator=comma \
                output=basin_elev_zonal.csv
       This will print information in the format:
       zone,label,non_null_cells,null_cells,min,max,range,mean,mean_of_abs,
       stddev,variance,coeff_var,sum,sum_abs2,,116975,0,55.5787925720215,
       133.147018432617,77.5682258605957,92.1196971445722,92.1196971445722,
       15.1475301152556,229.447668592576,16.4433129773355,10775701.5734863,
       10775701.57348634,,75480,0,61.7890930175781,110.348838806152,
       48.5597457885742,83.7808205765268,83.7808205765268,11.6451777476995,
       135.610164775515,13.8995747088232,6323776.33711624,6323776.33711624
       6,,1137,0,66.9641571044922,83.2070922851562,16.2429351806641,
       73.1900814395257,73.1900814395257,4.15733292896409,17.2834170822492,
       5.68018623179036,83217.1225967407,83217.12259674078,,80506,
       0,67.4670791625977,147.161514282227, ...
       Comma  Separated  Values (CSV) file is best viewed through a spreadsheet program such as Microsoft Excel,
       Libre/Open Office Calc or Google Docs:
       <u>Figure:</u> <u>Raster</u> <u>statistics</u> <u>for</u> <u>zones</u> <u>(basins,</u> <u>North</u> <u>Carolina</u> <u>sample</u>  <u>dataset)</u>  <u>viewed</u>  <u>through</u>  <u>Libre/Open</u>
       <u>Office</u> <u>Calc.</u>

</pre><h4><b>TODO</b></h4><pre>
       To be implemented <u>mode,</u> <u>skewness,</u> <u>kurtosis</u>.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
          <u>g.region,</u>   <u>r3.univar,</u>   <u>r.mode,</u>   <u>r.quantile,</u>  <u>r.series,</u>  <u>r.stats,</u>  <u>r.stats.quantile,</u>  <u>r.stats.zonal,</u>
       <u>r.statistics,</u> <u>v.rast.stats,</u> <u>v.univar</u>

</pre><h4><b>AUTHORS</b></h4><pre>
       Hamish Bowman, Otago University, New Zealand
       Extended statistics by Martin Landa
       Multiple input map support by Ivan Shmakov
       Zonal loop by Markus Metz

</pre><h4><b>SOURCE</b> <b>CODE</b></h4><pre>
       Available at: r.univar source code (history)

       Accessed: Friday Apr 04 01:19:45 2025

       Main index | Raster index | Topics index | Keywords index | Graphical index | Full index

       © 2003-2025 GRASS Development Team, GRASS GIS 8.4.1 Reference Manual

GRASS 8.4.1                                                                                     <u><a href="../man1grass/r.univar.1grass.html">r.univar</a></u>(1grass)
</pre>
 </div>
</div></section>
</div>
</body>
</html>