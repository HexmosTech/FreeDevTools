<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>eqn - format mathematics (equations) for groff or MathML</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/groff-base">groff-base_1.23.0-7_amd64</a> <br><br><pre>
</pre><h4><b>Name</b></h4><pre>
       eqn - format mathematics (equations) for <u>groff</u> or MathML

</pre><h4><b>Synopsis</b></h4><pre>
       <b>eqn</b> [<b>-CNrR</b>] [<b>-</b>d <u>xy</u>] [<b>-f</b> <u>F</u>] [<b>-m</b> <u>n</u>] [<b>-M</b> <u>dir</u>] [<b>-p</b> <u>n</u>] [<b>-s</b> <u>n</u>] [<b>-T</b> <u>dev</u>] [<u>file</u> ...]

       <b>eqn</b> <b>--help</b>

       <b>eqn</b> <b>-v</b>
       <b>eqn</b> <b>--version</b>

</pre><h4><b>Description</b></h4><pre>
       The  GNU  implementation  of  <u>eqn</u>  is part of the <u><a href="../man7/groff.7.html">groff</a></u>(7) document formatting system.  <u>eqn</u> is a <u><a href="../man1/troff.1.html">troff</a></u>(1)
       preprocessor that translates expressions in its own language,  embedded  in  <u><a href="../man7/roff.7.html">roff</a></u>(7)  input  files,  into
       mathematical notation typeset by <u><a href="../man1/troff.1.html">troff</a></u>(1).  It copies each <u>file</u>'s contents to the standard output stream,
       translating  each  <u>equation</u>  between  lines starting with <b>.EQ</b> and <b>.EN</b>, or within a pair of user-specified
       delimiters.  Normally, <u>eqn</u> is not executed directly by the user, but invoked by specifying the <b>-e</b>  option
       to  <u><a href="../man1/groff.1.html">groff</a></u>(1).   While  GNU <u>eqn</u>'s input syntax is highly compatible with AT&amp;T <u>eqn</u>, the output <u>eqn</u> produces
       cannot be processed by AT&amp;T <u>troff</u>; GNU <u>troff</u> (or a <u>troff</u> implementing relevant GNU  extensions)  must  be
       used.  If no <u>file</u> operands are given on the command line, or if <u>file</u> is “<b>-</b>”, <u>eqn</u> reads the standard input
       stream.

       Unless the <b>-R</b> option is used, <u>eqn</u> searches for the file <u>eqnrc</u> in the directories given with the <b>-M</b> option
       first,  then in <u><a href="file:/usr/share/groff/site-tmac">/usr/share/groff/site-tmac</a></u>, and finally in the standard macro directory <u><a href="file:/usr/share/groff/">/usr/share/groff/</a></u>
       <u>1.23.0/tmac</u>.  If it exists and is readable, <u>eqn</u> processes it before any input files.

       This man page primarily discusses the differences between GNU <u>eqn</u> and AT&amp;T <u>eqn</u>.  Most of the new features
       of the GNU <u>eqn</u> input language are based on TeX.  There are some references to the differences between TeX
       and GNU <u>eqn</u> below; these may safely be ignored if you do not know TeX.

       Three points are worth special note.

       • GNU <u>eqn</u> emits Presentation MathML output when invoked with the “<b>-T</b> <b>MathML</b>” option.

       • GNU <u>eqn</u> does not support terminal devices well, though it may suffice for simple inputs.

       • GNU <u>eqn</u> sets the input token “<b>...</b>” as an ellipsis on the text baseline, not the three centered dots  of
         AT&amp;T <u>eqn</u>.  Set an ellipsis on the math axis with the GNU extension macro <b>cdots</b>.

   <b>Anatomy</b> <b>of</b> <b>an</b> <b>equation</b>
       <u>eqn</u> input consists of tokens.  Consider a form of Newton's second law of motion.  The input

              .EQ
              F =
              m a
              .EN

       becomes <u>F</u>=<u>ma</u>.  Each of <b>F</b>, <b>=</b>, <b>m</b>, and <b>a</b> is a token.  Spaces and newlines are interchangeable; they separate
       tokens but do not break lines or produce space in the output.

       The following input characters not only separate tokens, but manage their grouping and spacing as well.

       <b>{</b> <b>}</b>    Braces  perform  grouping.   Whereas “<b>e</b> <b>sup</b> <b>a</b> <b>b</b>” expresses “(<u>e</u> to the <u>a</u>) times <u>b</u>”, “<b>e</b> <b>sup</b> <b>{</b> <b>a</b> <b>b</b> <b>}</b>”
              means “<u>e</u> to the (<u>a</u> times <u>b</u>)”.  When immediately preceded by a “<b>left</b>” or “<b>right</b>” primitive, a brace
              loses its special meaning.

       <b>^</b> <b>~</b>    are the <u>half</u> <u>space</u> and <u>full</u> <u>space,</u> respectively.  Use them to tune the appearance of the output.

       Tab and leader characters separate tokens as well as advancing the drawing position to the next tab stop,
       but are seldom used in <u>eqn</u> input.  When they occur, they must appear  at  the  outermost  lexical  scope.
       This roughly means that they can't appear within braces that are necessary to disambiguate the input; <u>eqn</u>
       will  diagnose  an  error  in this event.  (See subsection “Macros” below for additional token separation
       rules.)

       Other tokens are primitives, macros, an argument  to  either  of  the  foregoing,  or  components  of  an
       equation.

       <u>Primitives</u>  are  fundamental  keywords  of  the  <u>eqn</u>  language.   They  can  configure  an  aspect of the
       preprocessor's state, as when setting a “global” font selection  or  type  size  (<b>gfont</b>  and  <b>gsize</b>),  or
       declaring  or  deleting macros (“<b>define</b>” and <b>undef</b>); these are termed <u>commands.</u>  Other primitives perform
       formatting operations on the tokens after them (as with <b>fat</b>, <b>over</b>, <b>sqrt</b>, or <b>up</b>).

       Equation <u>components</u> include mathematical variables, constants,  numeric  literals,  and  operators.   <u>eqn</u>
       remaps some input character sequences to <u>groff</u> special character escape sequences for economy in equation
       entry and to ensure that glyphs from an unstyled font are used; see <u><a href="../man7/groff_char.7.html">groff_char</a></u>(7).

              +   \[pl]                '    \[fm]
              -   \[mi]                &lt;=   \[&lt;=]
              =   \[eq]                &gt;=   \[&gt;=]

       <u>Macros</u> permit primitives, components, and other macros to be collected and referred to by a single token.
       Predefined  macros  make  convenient  the  preparation  of  <u>eqn</u>  input  in  a  form resembling its spoken
       expression; for example, consider <b>cos</b>, <b>hat</b>, <b>inf</b>, and <b>lim</b>.

   <b>Spacing</b> <b>and</b> <b>typeface</b>
       GNU <u>eqn</u> imputes types to the components of an equation, adjusting the spacing between  them  accordingly.
       Recognized  types  are  as  follows; most affect spacing only, whereas the “<b>letter</b>” subtype of “<b>ordinary</b>”
       also assigns a style.

         ordinary      character such as “1”, “a”, or “!”
           letter      character to be italicized by default
           digit       <u>n/a</u>
         operator      large operator such as “Σ”
         binary        binary operator such as “+”
         relation      relational operator such as “=”
         opening       opening bracket such as “(”
         closing       closing bracket such as “)”
         punctuation   punctuation character such as “,”
         inner         sub-formula contained within brackets
         suppress      component to which automatic spacing is not applied

       Two primitives apply types to equation components.

       <b>type</b> <u>t</u> <u>e</u>
              Apply type <u>t</u> to expression <u>e</u>.

       <b>chartype</b> <u>t</u> <u>text</u>
              Assign each character in (unquoted) <u>text</u> type <u>t</u>, persistently.

       <u>eqn</u> sets up spacings and styles as if by the following commands.

              chartype "letter"      abcdefghiklmnopqrstuvwxyz
              chartype "letter"      ABCDEFGHIKLMNOPQRSTUVWXYZ
              chartype "letter"      \[*a]\[*b]\[*g]\[*d]\[*e]\[*z]
              chartype "letter"      \[*y]\[*h]\[*i]\[*k]\[*l]\[*m]
              chartype "letter"      \[*n]\[*c]\[*o]\[*p]\[*r]\[*s]
              chartype "letter"      \[*t]\[*u]\[*f]\[*x]\[*q]\[*w]
              chartype "binary"      *\[pl]\[mi]
              chartype "relation"    &lt;&gt;\[eq]\[&lt;=]\[&gt;=]
              chartype "opening"     {([
              chartype "closing"     })]
              chartype "punctuation" ,;:.
              chartype "suppress"    ^~

       <u>eqn</u> assigns all other ordinary and special <u>roff</u> characters, including numerals 0–9, the “<b>ordinary</b>”  type.
       (The  “<b>digit</b>”  type is not used, but is available for customization.)  In keeping with common practice in
       mathematical typesetting, lowercase, but not uppercase, Greek letters are assigned the “<b>letter</b>”  type  to
       style them in italics.  The macros for producing ellipses, “<b>...</b>”, <b>cdots</b>, and <b>ldots</b>, use the “<b>inner</b>” type.

   <b>Primitives</b>
       <u>eqn</u>  supports without alteration the AT&amp;T <u>eqn</u> primitives <b>above</b>, <b>back</b>, <b>bar</b>, <b>bold</b>, <b>define</b>, <b>down</b>, <b>fat</b>, <b>font</b>,
       <b>from</b>, <b>fwd</b>, <b>gfont</b>, <b>gsize</b>, <b>italic</b>, <b>left</b>, <b>lineup</b>, <b>mark</b>, <b>matrix</b>, <b>ndefine</b>, <b>over</b>,  <b>right</b>,  <b>roman</b>,  <b>size</b>,  <b>sqrt</b>,
       <b>sub</b>, <b>sup</b>, <b>tdefine</b>, <b>to</b>, <b>under</b>, and <b>up</b>.

   <b>New</b> <b>primitives</b>
       The  GNU  extension  primitives  “<b>type</b>”  and  <b>chartype</b> are discussed in subsection “Spacing and typeface”
       above; “<b>set</b>” in subsection “Customization” below; and <b>grfont</b> and <b>gbfont</b> in subsection “Fonts” below.   In
       the following synopses, <u>X</u> can be any character not appearing in the parameter thus bracketed.

       <u>e1</u> <b>accent</b> <u>e2</u>
              Set <u>e2</u> as an accent over <u>e1</u>.  <u>e2</u> is assumed to be at the appropriate height for a lowercase letter
              without  an  ascender;    <u>eqn</u>  vertically shifts it depending on <u>e1</u>'s height.  For example, <b>hat</b> is
              defined as follows.

                     accent { "^" }

              <b>dotdot</b>, <b>dot</b>, <b>tilde</b>, <b>vec</b>, and <b>dyad</b> are also defined using the <b>accent</b> primitive.

       <b>big</b> <u>e</u>  Enlarge the expression <u>e</u>; semantics like those of CSS “large” are intended.  In <u>troff</u> output,  the
              type size is increased by 5 scaled points.  MathML output emits the following.

                     &lt;mstyle mathsize='big'&gt;

       <b>copy</b> <u>file</u>
       <b>include</b> <u>file</u>
              Interpolate  the  contents  of <u>file</u>, omitting lines beginning with <b>.EQ</b> or <b>.EN</b>.  If a relative path
              name, <u>file</u> is sought relative to the current working directory.

       <b>ifdef</b> <u>name</u> <u>X</u> <u>anything</u> <u>X</u>
              If <u>name</u> is defined as a primitive or macro, interpret <u>anything</u>.

       <b>nosplit</b> <u>text</u>
              As "<u>text</u>", but since <u>text</u> is not quoted it is subject to macro expansion; it is not split  up  and
              the spacing between characters not adjusted per subsection “Spacing and typeface” above.

       <u>e</u> <b>opprime</b>
              As  <b>prime</b>,  but set the prime symbol as an operator on <u>e</u>.  In the input “<b>A</b> <b>opprime</b> <b>sub</b> <b>1</b>”, the “1”
              is tucked under the prime  as  a  subscript  to  the  “A”  (as  is  conventional  in  mathematical
              typesetting),  whereas  when  <b>prime</b>  is  used, the “1” is a subscript to the prime character.  The
              precedence of <b>opprime</b> is the same as that of <b>bar</b> and  “<b>under</b>”,  and  higher  than  that  of  other
              primitives  except <b>accent</b> and <b>uaccent</b>.  In unquoted text, a neutral apostrophe (<b>'</b>) that is not the
              first character on the input line is treated like <b>opprime</b>.

       <b>sdefine</b> <u>name</u> <u>X</u> <u>anything</u> <u>X</u>
              As “<b>define</b>”, but <u>name</u> is not recognized as a macro if called with arguments.

       <u>e1</u> <b>smallover</b> <u>e2</u>
              As <b>over</b>, but reduces the type size of <u>e1</u> and <u>e2</u>, and puts less vertical space between  <u>e1</u>  and  <u>e2</u>
              and  the  fraction  bar.   The  <b>over</b> primitive corresponds to the TeX <b>\over</b> primitive in displayed
              equation styles; <b>smallover</b> corresponds to <b>\over</b> in non-display (“inline”) styles.

       <b>space</b> <u>n</u>
              Set extra vertical spacing around the equation, replacing  the  default  values,  where  <u>n</u>  is  an
              integer in hundredths of an em.  If positive, <u>n</u> increases vertical spacing before the equation; if
              negative,  it  does  so  after  the  equation.  This primitive provides an interface to <u>groff</u>'s <b>\x</b>
              escape sequence, but with the opposite sign convention.  It has no effect if the equation is  part
              of a <u><a href="../man1/pic.1.html">pic</a></u>(1) picture.

       <b>special</b> <u>troff-macro</u> <u>e</u>
              Construct  an  object  by  calling  <u>troff-macro</u> on <u>e</u>.  The <u>troff</u> string <b>0s</b> contains the <u>eqn</u> output
              for <u>e</u>, and the registers <b>0w</b>, <b>0h</b>, <b>0d</b>, <b>0skern</b>, and <b>0skew</b> the width, height, depth,  subscript  kern,
              and  skew  of <u>e</u>, respectively.  (The <u>subscript</u> <u>kern</u> of an object indicates how much a subscript on
              that object should be “tucked in”, or placed to the left relative to a  non-subscripted  glyph  of
              the  same  size.   The  <u>skew</u>  of  an object is how far to the right of the center of the object an
              accent over it should be placed.)  The macro must modify <b>0s</b> so that it outputs the desired result,
              returns the drawing position to the text baseline at the beginning of <u>e</u>, and updates the foregoing
              registers to correspond to the new dimensions of the result.

              Suppose you want a construct that “cancels” an expression by drawing a diagonal line through it.

                     .de Ca
                     .  ds 0s \
                     \Z'\\*(0s'\
                     \v'\\n(0du'\
                     \D'l \\n(0wu -\\n(0hu-\\n(0du'\
                     \v'\\n(0hu'
                     ..
                     .EQ
                     special Ca "x \[mi] 3 \[pl] x" ~ 3
                     .EN

              We use the <b>\[mi]</b> and <b>\[pl]</b> special characters instead of + and - because  they  are  part  of  the
              argument to a <u>troff</u> macro, so <u>eqn</u> does not transform them to mathematical glyphs for us.  Here's a
              more  complicated  construct that draws a box around an expression; the bottom of the box rests on
              the text baseline.  We define the <u>eqn</u> macro <b>box</b> to wrap the call of the <u>troff</u> macro <b>Bx</b>.

                     .de Bx
                     .ds 0s \
                     \Z'\\h'1n'\\*[0s]'\
                     \v'\\n(0du+1n'\
                     \D'l \\n(0wu+2n 0'\
                     \D'l 0 -\\n(0hu-\\n(0du-2n'\
                     \D'l -\\n(0wu-2n 0'\
                     \D'l 0 \\n(0hu+\\n(0du+2n'\
                     \h'\\n(0wu+2n'
                     .nr 0w +2n
                     .nr 0d +1n
                     .nr 0h +1n
                     ..
                     .EQ
                     define box ' special Bx $1 '
                     box(foo) ~ "bar"
                     .EN

       <b>split</b> <b>"</b><u>text</u><b>"</b>
              As <u>text</u>, but since <u>text</u> is quoted, it is not subject to macro expansion; it is split  up  and  the
              spacing between characters adjusted per subsection “Spacing and typeface” above.

       <u>e1</u> <b>uaccent</b> <u>e2</u>
              Set  <u>e2</u> as an accent under <u>e1</u>.  <u>e2</u> is assumed to be at the appropriate height for a letter without
              a descender;  <u>eqn</u> vertically shifts it depending  on  whether  <u>e1</u>  has  a  descender.   <b>utilde</b>  is
              predefined using <b>uaccent</b> as a tilde accent below the baseline.

       <b>undef</b> <u>name</u>
              Remove definition of macro or primitive <u>name</u>, making it undefined.

       <b>vcenter</b> <u>e</u>
              Vertically center <u>e</u> about the <u>math</u> <u>axis</u>, a horizontal line upon which fraction bars and characters
              such  as  “+” and “−” are aligned.  MathML already behaves this way, so <u>eqn</u> ignores this primitive
              when producing that output format.  The built-in <b>sum</b> macro is defined as if by the following.

                     define sum ! { type "operator" vcenter size +5 \(*S } !

   <b>Extended</b> <b>primitives</b>
       GNU <u>eqn</u> extends the syntax of some AT&amp;T <u>eqn</u> primitives, introducing one deliberate incompatibility.

       <b>delim</b> <b>on</b>
              <u>eqn</u> recognizes an “<b>on</b>” argument  to  the  <b>delim</b>  primitive  specially,  restoring  any  delimiters
              previously  disabled  with “<b>delim</b> <b>off</b>”.  If delimiters haven't been specified, neither command has
              effect.  Few <u>eqn</u> documents are expected  to  use  “o”  and  “n”  as  left  and  right  delimiters,
              respectively.  If yours does, consider swapping them, or select others.

       <b>col</b> <u>n</u> <b>{</b> ... <b>}</b>
       <b>ccol</b> <u>n</u> <b>{</b> ... <b>}</b>
       <b>lcol</b> <u>n</u> <b>{</b> ... <b>}</b>
       <b>rcol</b> <u>n</u> <b>{</b> ... <b>}</b>
       <b>pile</b> <u>n</u> <b>{</b> ... <b>}</b>
       <b>cpile</b> <u>n</u> <b>{</b> ... <b>}</b>
       <b>lpile</b> <u>n</u> <b>{</b> ... <b>}</b>
       <b>rpile</b> <u>n</u> <b>{</b> ... <b>}</b>
              The  integer  value  <u>n</u> (in hundredths of an em) increases the vertical spacing between rows, using
              <u>groff</u>'s <b>\x</b> escape sequence (the value has no effect in MathML mode).  Negative values are accepted
              but have no effect.  If more than one <u>n</u> occurs in a matrix or pile, the largest is used.

   <b>Customization</b>
       When <u>eqn</u> generates <u>troff</u> input,  the  appearance  of  equations  is  controlled  by  a  large  number  of
       parameters.   They  have  no  effect  when  generating  MathML,  which  delegates typesetting to a MathML
       rendering engine.  Configure these parameters with the <b>set</b> primitive.

       <b>set</b> <u>p</u> <u>n</u>
              assigns parameter <u>p</u> the integer value <u>n</u>; <u>n</u> is interpreted in units of hundredths of an  em  unless
              otherwise stated.  For example,

                     set x_height 45

              says that <u>eqn</u> should assume that the font's x-height is 0.45 ems.

              Available  parameters  are  as  follows;  defaults  are  shown  in  parentheses.   We intend these
              descriptions to be expository rather than rigorous.

              <b>minimum_size</b>     sets a floor for the type size (in scaled points) at which equations are set (<b>5</b>).

              <b>fat_offset</b>       The <b>fat</b> primitive emboldens  an  equation  by  overprinting  two  copies  of  the
                               equation  horizontally  offset by this amount (<b>4</b>).  In MathML mode, components to
                               which <b>fat_offset</b> applies instead use the following.
                                      &lt;mstyle mathvariant='double-struck'&gt;

              <b>over_hang</b>        A fraction bar is longer by twice this amount than the maximum of the  widths  of
                               the  numerator  and  denominator;  in other words, it overhangs the numerator and
                               denominator by at least this amount (<b>0</b>).

              <b>accent_width</b>     When <b>bar</b> or <b>under</b> is applied to a single character, the line is this  long  (<b>31</b>).
                               Normally, <b>bar</b> or <b>under</b> produces a line whose length is the width of the object to
                               which it applies; in the case of a single character, this tends to produce a line
                               that looks too long.

              <b>delimiter_factor</b> Extensible delimiters produced with the <b>left</b> and <b>right</b> primitives have a combined
                               height and depth of at least this many thousandths of twice the maximum amount by
                               which  the  sub-equation  that  the delimiters enclose extends away from the axis
                               (<b>900</b>).

              <b>delimiter_shortfall</b>
                               Extensible delimiters produced with the <b>left</b> and <b>right</b> primitives have a combined
                               height and depth not less than the difference of  twice  the  maximum  amount  by
                               which the sub-equation that the delimiters enclose extends away from the axis and
                               this amount (<b>50</b>).

              <b>null_delimiter_space</b>
                               This much horizontal space is inserted on each side of a fraction (<b>12</b>).

              <b>script_space</b>     The width of subscripts and superscripts is increased by this amount (<b>5</b>).

              <b>thin_space</b>       This  amount of space is automatically inserted after punctuation characters.  It
                               also configures the width of the space produced by the <b>^</b> token (<b>17</b>).

              <b>medium_space</b>     This amount of space is automatically inserted on either side of binary operators
                               (<b>22</b>).

              <b>thick_space</b>      This amount of space is automatically inserted on either side of  relations.   It
                               also configures the width of the space produced by the <b>~</b> token (<b>28</b>).

              <b>x_height</b>         The height of lowercase letters without ascenders such as “x” (<b>45</b>).

              <b>axis_height</b>      The  height  above  the  baseline of the center of characters such as “+” and “−”
                               (<b>26</b>).  It is important that this value is correct for the font you are using.

              <b>default_rule_thickness</b>
                               This should be set to the thickness of the <b>\[ru]</b> character, or the  thickness  of
                               horizontal lines produced with the <b>\D</b> escape sequence (<b>4</b>).

              <b>num1</b>             The <b>over</b> primitive shifts up the numerator by at least this amount (<b>70</b>).

              <b>num2</b>             The <b>smallover</b> primitive shifts up the numerator by at least this amount (<b>36</b>).

              <b>denom1</b>           The <b>over</b> primitive shifts down the denominator by at least this amount (<b>70</b>).

              <b>denom2</b>           The <b>smallover</b> primitive shifts down the denominator by at least this amount (<b>36</b>).

              <b>sup1</b>             Normally superscripts are shifted up by at least this amount (<b>42</b>).

              <b>sup2</b>             Superscripts  within  superscripts  or  upper  limits  or numerators of <b>smallover</b>
                               fractions are shifted up by at least this amount (<b>37</b>).  Conventionally,  this  is
                               less than <b>sup1</b>.

              <b>sup3</b>             Superscripts  within  denominators  or square roots or subscripts or lower limits
                               are shifted up by at least this amount (<b>28</b>).  Conventionally, this is  less  than
                               <b>sup2</b>.

              <b>sub1</b>             Subscripts are normally shifted down by at least this amount (<b>20</b>).

              <b>sub2</b>             When  there  is both a subscript and a superscript, the subscript is shifted down
                               by at least this amount (<b>23</b>).

              <b>sup_drop</b>         The baseline of a superscript is no more than this much  below  the  top  of  the
                               object on which the superscript is set (<b>38</b>).

              <b>sub_drop</b>         The  baseline of a subscript is at least this much below the bottom of the object
                               on which the subscript is set (<b>5</b>).

              <b>big_op_spacing1</b>  The baseline of an upper limit is at least this much above the top of the  object
                               on which the limit is set (<b>11</b>).

              <b>big_op_spacing2</b>  The  baseline  of  a  lower  limit  is at least this much below the bottom of the
                               object on which the limit is set (<b>17</b>).

              <b>big_op_spacing3</b>  The bottom of an upper limit is at least this much above the top of the object on
                               which the limit is set (<b>20</b>).

              <b>big_op_spacing4</b>  The top of a lower limit is at least this much below the bottom of the object  on
                               which the limit is set (<b>60</b>).

              <b>big_op_spacing5</b>  This much vertical space is added above and below limits (<b>10</b>).

              <b>baseline_sep</b>     The  baselines of the rows in a pile or matrix are normally this far apart (<b>140</b>).
                               Usually equal to the sum of <b>num1</b> and <b>denom1</b>.

              <b>shift_down</b>       The midpoint between the top baseline and the bottom baseline in a matrix or pile
                               is shifted down by this much from the axis (<b>26</b>).  Usually equal to <b>axis_height</b>.

              <b>column_sep</b>       This much space is added between columns in a matrix (<b>100</b>).

              <b>matrix_side_sep</b>  This much space is added at each side of a matrix (<b>17</b>).

              <b>draw_lines</b>       If non-zero, <u>eqn</u> draws lines using the <u>troff</u> <b>\D</b> escape sequence, rather than  the
                               <b>\l</b>  escape  sequence  and  the  <b>\[ru]</b> special character.  The <u>eqnrc</u> file sets the
                               default: <b>1</b> on <b>ps</b>, <b>html</b>, and the X11 devices, otherwise <b>0</b>.

              <b>body_height</b>      is the presumed height of an equation above  the  text  baseline;  <u>eqn</u>  adds  any
                               excess as extra pre-vertical line spacing with <u>troff</u>'s <b>\x</b> escape sequence (<b>85</b>).

              <b>body_depth</b>       is the presumed depth of an equation below the text baseline; <u>eqn</u> adds any excess
                               as extra post-vertical line spacing with <u>troff</u>'s <b>\x</b> escape sequence (<b>35</b>).

              <b>nroff</b>            If  non-zero,  then <b>ndefine</b> behaves like <b>define</b> and <b>tdefine</b> is ignored, otherwise
                               <b>tdefine</b> behaves like <b>define</b> and <b>ndefine</b> is ignored.   The  <u>eqnrc</u>  file  sets  the
                               default: <b>1</b> on <b>ascii</b>, <b>latin1</b>, <b>utf8</b>, and <b>cp1047</b> devices, otherwise <b>0</b>.

   <b>Macros</b>
       In  GNU  <u>eqn</u>,  macros  can  take  arguments.   A  word  defined by any of the <b>define</b>, <b>ndefine</b>, or <b>tdefine</b>
       primitives followed immediately by  a  left  parenthesis  is  treated  as  a  <u>parameterized</u>  <u>macro</u>  <u>call:</u>
       subsequent  tokens  up to a matching right parenthesis are treated as comma-separated arguments.  In this
       context only, commas and parentheses also serve as token separators.  A macro argument is not  terminated
       by  a  comma  inside parentheses nested within it.  In a macro definition, <b>$</b><u>n</u>, where <u>n</u> is between 1 and 9
       inclusive, is replaced by the <u>n</u>th argument; if there are fewer  than  <u>n</u>  arguments,  it  is  replaced  by
       nothing.

   <b>Predefined</b> <b>macros</b>
       GNU  <u>eqn</u>  supports the predefined macros offered by AT&amp;T <u>eqn</u>: <b>and</b>, <b>approx</b>, <b>arc</b>, <b>cos</b>, <b>cosh</b>, <b>del</b>, <b>det</b>, <b>dot</b>,
       <b>dotdot</b>, <b>dyad</b>, <b>exp</b>, <b>for</b>, <b>grad</b>, <b>half</b>, <b>hat</b>, <b>if</b>, <b>inter</b>, <b>Im</b>, <b>inf</b>,  <b>int</b>,  <b>lim</b>,  <b>ln</b>,  <b>log</b>,  <b>max</b>,  <b>min</b>,  <b>nothing</b>,
       <b>partial</b>,  <b>prime</b>,  <b>prod</b>,  <b>Re</b>, <b>sin</b>, <b>sinh</b>, <b>sum</b>, <b>tan</b>, <b>tanh</b>, <b>tilde</b>, <b>times</b>, <b>union</b>, <b>vec</b>, <b>==</b>, <b>!=</b>, <b>+=</b>, <b>-&gt;</b>, <b>&lt;-</b>, <b>&lt;&lt;</b>,
       <b>&gt;&gt;</b>, and “<b>...</b>”.  The lowercase classical Greek letters are available as <b>alpha</b>, <b>beta</b>, <b>chi</b>, <b>delta</b>,  <b>epsilon</b>,
       <b>eta</b>,  <b>gamma</b>,  <b>iota</b>, <b>kappa</b>, <b>lambda</b>, <b>mu</b>, <b>nu</b>, <b>omega</b>, <b>omicron</b>, <b>phi</b>, <b>pi</b>, <b>psi</b>, <b>rho</b>, <b>sigma</b>, <b>tau</b>, <b>theta</b>, <b>upsilon</b>,
       <b>xi</b>, and <b>zeta</b>.  Spell them with an initial capital letter (<b>Alpha</b>) or in full capitals  (<b>ALPHA</b>)  to  obtain
       uppercase forms.

       GNU  <u>eqn</u>  further  defines the macros <b>cdot</b>, <b>cdots</b>, and <b>utilde</b> (all discussed above), <b>dollar</b>, which sets a
       dollar sign, and <b>ldots</b>, which sets an ellipsis on the text baseline.

   <b>Fonts</b>
       <u>eqn</u> uses up to three typefaces to set an equation: italic (oblique), roman (upright), and  bold.   Assign
       each  a  <u>groff</u> typeface with the primitives <b>gfont</b>, <b>grfont</b>, and <b>gbfont.</b>  The defaults are the styles <b>I</b>, <b>R</b>,
       and <b>B</b> (applied to the current font family).  The <b>chartype</b> primitive (see above) sets a character's  type,
       which  determines the face used to set it.  The “<b>letter</b>” type is set in italics; others are set in roman.
       Use the <b>bold</b> primitive to select an (upright) bold style.

       <b>gbfont</b> <u>f</u>
              Select <u>f</u> as the bold font.  This is a GNU extension.

       <b>gfont</b> <u>f</u>
              Select <u>f</u> as the italic font.

       <b>grfont</b> <u>f</u>
              Select <u>f</u> as the roman font.  This is a GNU extension.

</pre><h4><b>Options</b></h4><pre>
       <b>--help</b> displays a usage message, while <b>-v</b> and <b>--version</b> show version information; all exit afterward.

       <b>-C</b>     Recognize <b>.EQ</b> and <b>.EN</b> even when followed by a character other than space or newline.

       <b>-d</b> <u>xy</u>  Specify delimiters <u>x</u> for left and <u>y</u> for right ends of equations not bracketed by <b>.EQ</b>/<b>.EN</b>.  <u>x</u> and <u>y</u>
              need not be distinct.  Any “<b>delim</b> <u>xy</u>” statements in the source file override this option.

       <b>-f</b> <u>F</u>   is equivalent to “<b>gfont</b> <u>F</u>”.

       <b>-m</b> <u>n</u>   is equivalent to “<b>set</b> <b>minimum_size</b> <u>n</u>”.

       <b>-M</b> <u>dir</u> Search <u>dir</u> for <u>eqnrc</u> before those listed in section “Description” above.

       <b>-N</b>     Prohibit newlines within delimiters.  This option  allows  <u>eqn</u>  to  recover  better  from  missing
              closing delimiters.

       <b>-p</b> <u>n</u>   Set  sub- and superscripts <u>n</u> points smaller than the surrounding text.  This option is deprecated.
              <u>eqn</u> normally sets sub- and superscripts at 70% of the type size of the surrounding text.

       <b>-r</b>     Reduce the type size of subscripts at most once relative to the base type size for the equation.

       <b>-R</b>     Don't load <u>eqnrc</u>.

       <b>-s</b> <u>n</u>   is equivalent to “<b>gsize</b> <u>n</u>”.  This option is deprecated.

       <b>-T</b> <u>dev</u> Prepare output for the device <u>dev</u>.  In most cases, the effect of this is to  define  a  macro  <u>dev</u>
              with a value of <b>1</b>; <u>eqnrc</u> uses this to provide definitions appropriate for the device.  However, if
              the  specified  driver is “MathML”, the output is MathML markup rather than <u>troff</u> input, and <u>eqnrc</u>
              is not loaded at all.  The default output device is <b>ps</b>.

</pre><h4><b>Files</b></h4><pre>
       <u><a href="file:/usr/share/groff/1.23.0/tmac/eqnrc">/usr/share/groff/1.23.0/tmac/eqnrc</a></u>
              Initialization file.

</pre><h4><b>MathML</b> <b>mode</b> <b>limitations</b></h4><pre>
       MathML is designed on the assumption that it cannot know the exact physical characteristics of the  media
       and  devices  on which it will be rendered.  It does not support control of motions and sizes to the same
       degree <u>troff</u> does.

       • <u>eqn</u> customization parameters have no effect on generated MathML.

       • The <b>special</b>, <b>up</b>, <b>down</b>, <b>fwd</b>, and <b>back</b> primitives cannot be implemented, and yield  a  MathML  “&lt;merror&gt;”
         message instead.

       • The <b>vcenter</b> primitive is silently ignored, as centering on the math axis is the MathML default.

       • Characters  that  <u>eqn</u> sets extra large in <u>troff</u> mode—notably the integral sign—may appear too small and
         need to have their “&lt;mstyle&gt;” wrappers adjusted by hand.

       As in its <u>troff</u> mode, <u>eqn</u> in MathML mode leaves the <b>.EQ</b> and  <b>.EN</b>  tokens  in  place,  but  emits  nothing
       corresponding  to  <b>delim</b>  delimiters.  They can, however, be recognized as character sequences that begin
       with “&lt;math&gt;”, end with “&lt;/math&gt;”, and do not cross line boundaries.

</pre><h4><b>Caveats</b></h4><pre>
       Tokens must be double-quoted in <u>eqn</u> input if they are  not  to  be  recognized  as  names  of  macros  or
       primitives,  or  if  they are to be interpreted by <u>troff</u>.  In particular, short ones, like “<b>pi</b>” and “<b>PI</b>”,
       can collide with <u>troff</u> identifiers.  For instance, the <u>eqn</u> command “<b>gfont</b> <b>PI</b>”  does  not  select  <u>groff</u>'s
       Palatino italic font for the global italic face; you must use “<b>gfont</b> <b>"PI"</b>” instead.

       Delimited  equations are set at the type size current at the beginning of the input line, not necessarily
       that immediately preceding the opening delimiter.

       Unlike TeX, <u>eqn</u> does not inherently distinguish displayed and inline equation styles; see  the  <b>smallover</b>
       primitive  above.   However,  macro  packages  frequently  define <b>EQ</b> and <b>EN</b> macros such that the equation
       within is displayed.  These macros may  accept  arguments  permitting  the  equation  to  be  labeled  or
       captioned; see the package's documentation.

</pre><h4><b>Bugs</b></h4><pre>
       <u>eqn</u>  abuses  terminology—its  “equations”  can  be  inequalities,  bare  expressions,  or  unintelligible
       gibberish.  But there's no changing it now.

       In <u>nroff</u> mode, lowercase Greek letters are rendered in roman instead of italic style.

       In MathML mode, the <b>mark</b> and <b>lineup</b> features don't work.  These could, in  theory,  be  implemented  with
       “&lt;maligngroup&gt;” elements.

       In  MathML mode, each digit of a numeric literal gets a separate “&lt;mn&gt;&lt;/mn&gt;” pair, and decimal points are
       tagged with “&lt;mo&gt;&lt;/mo&gt;”.  This is allowed by the specification, but inefficient.

</pre><h4><b>Examples</b></h4><pre>
       We first illustrate <u>eqn</u> usage with a trigonometric identity.

              .EQ
              sin ( alpha + beta ) = sin alpha cos beta + cos alpha sin beta
              .EN

       It can be convenient to set up delimiters if mathematical content will appear frequently in running text.

              .EQ
              delim $$
              .EN
              Having cached a table of logarithms,
              the property $ln ( x y ) = ln x + ln y$ sped calculations.

       The quadratic formula illustrates use of fractions and radicals, and affords an opportunity  to  use  the
       full space token <b>~</b>.

              .EQ
              x = { - b ~ \[+-] ~ sqrt { b sup 2 - 4 a c } } over { 2 a }
              .EN

       Alternatively,  we could define the plus-minus sign as a binary operator.  Automatic spacing puts 0.06 em
       less space on either side of the plus-minus than ~ does, this being the difference between the widths  of
       the  <b>medium_space</b>  parameter  used by binary operators and that of the full space.  Independently, we can
       define a macro “frac” for setting fractions.

              .EQ
              chartype "binary" \[+-]
              define frac ! { $1 } over { $2 } !
              x = frac(- b \[+-] sqrt { b sup 2 - 4 a c }, 2 a)
              .EN

</pre><h4><b>See</b> <b>also</b></h4><pre>
       “Typesetting Mathematics—User's Guide” (2nd edition), by Brian W. Kernighan and Lorinda L. Cherry,  1978,
       AT&amp;T Bell Laboratories Computing Science Technical Report No. 17.

       <u>The</u>  <u>TeXbook</u>,  by  Donald  E. Knuth, 1984, Addison-Wesley Professional.  Appendix G discusses many of the
       parameters from section “Customization” above in greater detail.

       <u><a href="../man7/groff_char.7.html">groff_char</a></u>(7), particularly subsections “Logical symbols”, “Mathematical symbols”,  and  “Greek  glyphs”,
       documents a variety of special character escape sequences useful in mathematical typesetting.

       <u><a href="../man1/groff.1.html">groff</a></u>(1), <u><a href="../man1/troff.1.html">troff</a></u>(1), <u><a href="../man1/pic.1.html">pic</a></u>(1), <u><a href="../man5/groff_font.5.html">groff_font</a></u>(5)

groff 1.23.0                                    26 December 2024                                          <u><a href="../man1/eqn.1.html">eqn</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>