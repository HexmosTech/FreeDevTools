<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>2ping - A bi-directional ping utility</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/2ping">2ping_4.5-1.2_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       2ping - A bi-directional ping utility

</pre><h4><b>SYNOPSIS</b></h4><pre>
       2ping [<u>options</u>] <u>--listen</u> | host/IP [host/IP [...]]

</pre><h4><b>DESCRIPTION</b></h4><pre>
       2ping  is  a  bi-directional  ping  utility.  It uses 3-way pings (akin to TCP SYN, SYN/ACK, ACK) and af‐
       ter-the-fact state comparison between a 2ping listener and a 2ping client to  determine  which  direction
       packet loss occurs.

       To  use  2ping,  start  a listener on a known stable network host.  The relative network stability of the
       2ping listener host should not be in question, because while 2ping can determine whether packet  loss  is
       occurring inbound or outbound relative to an endpoint, that will not help you determine the cause if both
       of the endpoints are in question.

       Once  the  listener  is  started, start 2ping in client mode and tell it to connect to the listener.  The
       ends will begin pinging each other and displaying network statistics.  If packet loss occurs, 2ping  will
       wait  a few seconds (default 10, configurable with <u>--inquire-wait</u>) before comparing notes between the two
       endpoints to determine which direction the packet loss is occurring.

       To quit 2ping on the client or listener ends, enter ^C, and a list of statistics will be  displayed.   To
       get a short inline display of statistics without quitting, enter ^\ or send the process a QUIT signal.

</pre><h4><b>OPTIONS</b></h4><pre>
       ping-compatible options (long option names are 2ping-specific):

       <b>--audible,</b> <b>-a</b>
              Audible ping.

       <b>--adaptive,</b> <b>-A</b>
              Adaptive  ping.  Interpacket interval adapts to round-trip time, so that effectively not more than
              one (or more, if preload is set) unanswered probe is present in the network.  On networks with low
              rtt this mode is essentially equivalent to flood mode.

       <b>--count=</b><u>count</u>, -c <u>count</u>
              Stop after sending <u>count</u> ping requests.

       <b>--flood,</b> <b>-f</b>
              Flood ping.  For every ping sent a period “.” is printed, while for ever ping received a backspace
              is printed.  This provides a rapid display of how many pings are being dropped.   If  interval  is
              not  given,  it  sets  interval to zero and outputs pings as fast as they come back or one hundred
              times per second, whichever is more.

              2ping-specific notes: Detected outbound/inbound loss responses are printed as “&gt;” and “&lt;”, respec‐
              tively.  Receive errors are printed as “E”.  Due to the asynchronous nature of  2ping,  successful
              responses (backspaces) may overwrite these loss and error characters.

       <b>--interval=</b><u>interval</u>, -i <u>interval</u>
              Wait  <u>interval</u>  seconds  between sending each ping.  The default is to wait for one second between
              each ping normally, or not to wait in flood mode.

       <b>--interface-address=</b><u>address</u>, -I <u>address</u>
              Set source IP address.  When in listener mode, this option may be specified multiple  to  bind  to
              multiple  IP addresses.  When in client mode, this option may only be specified once, and all out‐
              bound pings will be bound to this source IP.

              2ping-specific notes: This option only takes an IP address, not a device name.  Note that in  lis‐
              tener mode, if the machine has an interface with multiple IP addresses and an request comes in via
              a  sub  IP,  the reply still leaves via the interface’s main IP.  So either this option – or (pre‐
              ferred) listening on all IPs individually via the Python “netifaces” module – must be used if  you
              would like to respond via an interface’s sub-IP.

       <b>--preload=</b><u>count</u>, -l <u>count</u>
              If specified, 2ping sends that many packets not waiting for reply.

       <b>--pattern=</b><u>hex_bytes</u>, -p <u>hex_bytes</u>
              You  may  specify up to 16 “pad” bytes to fill out the packets you send.  This is useful for diag‐
              nosing data-dependent problems in a network.  For example, <u>--pattern=ff</u> will cause the sent packet
              pad area to be filled with all ones.

              2ping-specific notes: This pads the portion of the packet that does not contain the active payload
              data.  If the active payload data is larger than the minimum packet size  (<u>--min-packet-size</u>),  no
              padding will be sent.

       <b>--quiet,</b> <b>-q</b>
              Quiet output.  Nothing is displayed except the summary lines at startup time and when finished.

       <b>--packetsize-compat=</b><u>bytes</u>, -s <u>bytes</u>
              ping compatibility; this will set <u>--min-packet-size</u> to this plus 8 bytes.

       <b>--verbose,</b> <b>-v</b>
              Verbose output.  In 2ping, this prints decodes of packets that are sent and received.

       <b>--version,</b> <b>-V</b>
              Show version and exit.

       <b>--deadline=</b><u>seconds</u>, -w <u>seconds</u>
              Specify  a  timeout, in seconds, before 2ping exits regardless of how many pings have been sent or
              received.  Due to blocking, this may occur up to one second after the deadline specified.

       2ping-specific options:

       <b>--help,</b> <b>-h</b>
              Print a synposis and exit.

       <b>--ipv4,</b> <b>-4</b>
              Limit binds to IPv4.  In client mode, this forces resolution of dual-homed hostnames to  the  IPv4
              address.   (Without <u>--ipv4</u> or <u>--ipv6</u>, the first result will be used as specified by your operating
              system, usually the AAAA address on IPv6-routable machines, or the  A  address  on  IPv4-only  ma‐
              chines.) In listener mode, this filters out any non-IPv4 <u>--interface-address</u> binds, either through
              hostname resolution or explicit passing.

       <b>--ipv6,</b> <b>-6</b>
              Limit  binds  to IPv6.  In client mode, this forces resolution of dual-homed hostnames to the IPv6
              address.  (Without <u>-4</u> or <u>-6</u>, the first result will be used as specified by your operating  system,
              usually  the  AAAA  address on IPv6-routable machines, or the A address on IPv4-only machines.) In
              listener mode, this filters out any non-IPv6 <u>--interface-address</u> binds,  either  through  hostname
              resolution or explicit passing.

       <b>--all-interfaces</b>
              Deprecated.   In  listener mode, all addresses will be listened to by default if the Python “neti‐
              faces” module is installed, unless overridden by one or more <u>--interface-address</u> invocations.

       <b>--auth=</b><u>key</u>
              Set a shared key, send cryptographic hashes with each packet,  and  require  cryptographic  hashes
              from peer packets signed with the same shared key.

       <b>--auth-digest=</b><u>digest</u>
              When <u>--auth</u> is used, specify the digest type to compute the cryptographic hash.  Valid options are
              hmac-md5 (default), hmac-sha1, hmac-sha256 and hmac-sha512.

       <b>--debug</b>
              Print (lots of) debugging information.

       <b>--encrypt=</b><u>key</u>
              Set  a  shared key, encrypt 2ping packets, and require encrypted packets from peers encrypted with
              the same shared key.  Requires the PyCryptodome or PyCrypto module.

       <b>--encrypt-method=</b><u>method</u>
              When <u>--encrypt</u>  is  used,  specify  the  method  used  to  encrypt  packets.   Valid  options  are
              hkdf-aes256-cbc (default).

       <b>--fuzz=</b><u>percent</u>
              Simulate corruption of incoming packets, with a <u>percent</u> probability each bit will be flipped.  Af‐
              ter fuzzing, the packet checksum will be recalculated, and then the checksum itself will be fuzzed
              (but at a lower probability).

       <b>--inquire-wait=</b><u>secs</u>
              Wait  at  least  <u>secs</u>  seconds  before inquiring about a lost packet.  Default is 10 seconds.  UDP
              packets can arrive delayed or out of order, so it is best to give it some  time  before  inquiring
              about a lost packet.

       <b>--listen</b>
              Start  as a listener.  The listener will not send out ping requests at regular intervals, and will
              instead wait for the far end to initiate ping requests.  A listener is required as the remote  end
              for a client.  When run as a listener, a SIGHUP will reload the configuration on all interfaces.

       <b>--loopback</b>
              Use one or more client/listener pairs of UNIX datagram sockets.  Mainly for testing purposes.

       <b>--loopback-pairs=</b><u>pairs</u>
              Number of pairs to generate when using <u>--loopback</u>.

       <b>--min-packet-size=</b><u>min</u>
              Set  the minimum total payload size to <u>min</u> bytes, default 128.  If the payload is smaller than <u>min</u>
              bytes, padding will be added to the end of the packet.

       <b>--max-packet-size=</b><u>max</u>
              Set the maximum total payload size to <u>max</u> bytes, default 512, absolute minimum 64.  If the payload
              is larger than <u>max</u> bytes, information will be rearranged and sent in future packets when possible.

       <b>--nagios=</b><u>wrta</u>,<u>wloss%</u>,<u>crta</u>,<u>closs%</u>
              Produce output suitable for use in a Nagios check.  If <u>--count</u> is not  specified,  defaults  to  5
              pings.   A  warning  condition  (exit code 1) will be returned if average RTT exceeds <u>wrta</u> or ping
              loss exceeds <u>wloss%</u>.  A critical condition (exit code 2) will be returned if average  RTT  exceeds
              <u>crta</u> or ping loss exceeds <u>closs%</u>.

       <b>--no-3way</b>
              Do  not perform 3-way pings.  Used most often when combined with <u>--listen</u>, as the listener is usu‐
              ally the one to determine whether a ping reply should become a 3-way ping.

              Strictly speaking, a 3-way ping is not necessary for determining directional packet  loss  between
              the client and the listener.  However, the extra leg of the 3-way ping allows for extra chances to
              determine packet loss more efficiently.  Also, with 3-way ping disabled, the listener will receive
              no  client  performance  indicators, nor will the listener be able to determine directional packet
              loss that it detects.

       <b>--no-match-packet-size</b>
              When sending replies, 2ping will try to match the packet size of the  received  packet  by  adding
              padding if necessary, but will not exceed <u>--max-packet-size</u>.  <u>--no-match-packet-size</u> disables this
              behavior, always setting the minimum to <u>--min-packet-size</u>.

       <b>--no-send-version</b>
              Do not send the current running version of 2ping with each packet.

       <b>--notice=</b><u>text</u>
              Send  arbitrary  notice  <u>text</u>  with each packet.  If the remote peer supports it, this may be dis‐
              played to the user.

       <b>--packet-loss=</b><u>out:in</u>
              Simulate random packet loss outbound and inbound.  For example, <u>25:10</u> means a 25%  chance  of  not
              sending  a  packet, and a 10% chance of ignoring a received packet.  A single number without colon
              separation means use the same percentage for both outbound and inbound.

       <b>--port=</b><u>port</u>
              Use UDP port <u>port</u>, either a numeric port number or a service name string.  With <u>--listen</u>, this  is
              the port to bind as, otherwise this is the port to send to.  Default is UDP port 15998.

              When  port  <u>“-1”</u>  is specified, a random unused high port is picked.  This is useful for automated
              unit and functional testing, but not for normal use.

       <b>--send-monotonic-clock</b>
              Send a monotonic clock value with each packet.  Peer time (if sent by the peer) can be viewed with
              <u>--verbose</u>.

       <b>--send-random=</b><u>bytes</u>
              Send random data to the peer, up to <u>bytes</u>.  The number of bytes will be limited by other  factors,
              up  to  <u>--max-packet-size</u>.  If this data is to be used for trusted purposes, it should be combined
              with <u>--auth</u> for HMAC authentication.

       <b>--send-time</b>
              Send the host time (wall clock) with each packet.  Peer time (if sent by the peer) can  be  viewed
              with <u>--verbose</u>.

       <b>--srv</b>  In  client  mode,  causes hostnames to be looked up via DNS SRV records.  If the SRV query returns
              multiple record targets, they will all be pinged in parallel; priority and weight are not  consid‐
              ered.   The  record’s  port  will  be  used  instead  of  <u>--port</u>.  This functionality requires the
              dnspython module to be installed.

       <b>--srv-service=</b><u>service</u>
              When combined with <u>--srv</u>, service name to be used for SRV lookups.  Default service is “2ping”.

       <b>--stats=</b><u>interval</u>
              Print a line of brief current statistics every <u>interval</u> seconds.  The same line can be printed  on
              demand by entering ^\ or sending the QUIT signal to the 2ping process.

       <b>--subtract-peer-host-latency</b>
              If  a  peer  sends  its  host latency (the amount of time it spends between receiving a packet and
              sending out a reply), subtract it from RTT calculations.

</pre><h4><b>BUGS</b></h4><pre>
       None known, many assumed.

</pre><h4><b>AUTHOR</b></h4><pre>
       2ping was written by Ryan Finnie &lt;<a href="mailto:ryan@finnie.org">ryan@finnie.org</a>&gt;.

</pre><h4><b>AUTHORS</b></h4><pre>
       Ryan Finnie.

                                                                                                        <u><a href="../man1/2PING.1.html">2PING</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>