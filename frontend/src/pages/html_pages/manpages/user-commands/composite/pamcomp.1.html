<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>pamcomp - composite (overlay) two Netpbm images together</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/netpbm">netpbm_11.09.02-2_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       pamcomp - composite (overlay) two Netpbm images together

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>pamcomp</b>

       [<b>-align=</b>{<b>left</b>  |  <b>center</b>  |  <b>right</b>  | <b>beyondleft</b> | <b>beyondright</b>}] [<b>-valign=</b>{<b>top</b> | <b>middle</b> | <b>bottom</b>| <b>above</b> |
       <b>below</b>}]  [<b>-xoff=</b><u>X</u>]  [<b>-yoff=</b><u>Y</u>]  [<b>-alpha=</b><u>alpha-pgmfile</u>]  [<b>-invert</b>]  [<b>-opacity=</b><u>opacity</u>]   [<b>-mixtransparency</b>]
       [<b>-linear</b>] <u>overlay_file</u> [<u>underlying_file</u> [<u>output_file</u>]]

       Minimum unique abbreviation of option is acceptable.  You may use double hyphens instead of single hyphen
       to  denote  options.  You may use white space in place of the equals sign to separate an option name from
       its value.

</pre><h4><b>DESCRIPTION</b></h4><pre>
       This program is part of <b><a href="../man1/Netpbm.1.html">Netpbm</a></b>(1).

       <b>pamcomp</b> reads two images and produces a composite image with one of the images overlayed on  top  of  the
       other,  possible  translucently.  The images need not be the same size.  The input and outputs are Netpbm
       format image files.

       In its simplest use, <b>pamcomp</b> simply places the image in the file <u>overlay_file</u> on top of the image in  the
       file <u>underlying_file</u>, blocking out the part of <u>underlying_file</u> beneath it.

       If  you  add the <b>-alpha</b> option, then <b>pamcomp</b> uses the image in file <u>alpha-pgmfile</u> as a transparency mask,
       which means it determines the level of transparency of each point in the overlay image.  The transparency
       mask must have the same dimensions as the overlay image.  In places where the transparency  mask  defines
       the overlay image to be opaque, the composite output contains only the contents of the overlay image; the
       underlying image is totally blocked out.  In places where the transparency mask defines the overlay image
       to  be  transparent,  the composite output contains none of the overlay image; the underlying image shows
       through completely.  In places  where  the  transparency  mask  shows  a  value  in  between  opaque  and
       transparent  (translucence),  the  composite  image  contains  a  mixture  of  the  overlay image and the
       underlying image and the level of translucence determines how much of each.

       The transparency mask is a PGM file in which a white  pixel  represents  opaqueness  and  a  black  pixel
       transparency.  Anything in between is translucent.  (Like any Netpbm program, <b>pamcomp</b> will see a PBM file
       as if it is PGM).

       If  the  overlay  image is a PAM image of tuple type RGB_ALPHA or GRAYSCALE_ALPHA, then the overlay image
       contains transparency information itself and <b>pamcomp</b> uses it  the  same  way  as  the  transparency  mask
       described  above.   If  you  supply  both  an  overlay  image  that  has  transparency  information and a
       transparency mask, <b>pamcomp</b> multiplies the two opacities to get the opacity of the overlay pixel.

       Before Netpbm 10.25 (October 2004), <b>pamcomp</b> did not recognize the transparency information in a PAM image
       -- it just ignored it.  So people had to make appropriate transparency masks in  order  to  have  a  non-
       opaque  overlay.   Some  Netpbm  programs  that  convert  from  image  formats  that contain transparency
       information are not able to create RGB_ALPHA or GRAYSCALE_ALPHA PAM output, so you have to  use  the  old
       method  --  extract  the transparency information from the original into a separate transparency mask and
       use that as input to <b>pamcomp</b>.

       The output image is always of the same dimensions as the underlying image.  <b>pamcomp</b> uses  only  parts  of
       the overlay image that fit within the underlying image.

       The  output  image is a PAM image.  Its tuples are color, grayscale, or black and white, whichever is the
       "highest" format between the two input images.  The maxval of the output is the least common multiple  of
       the maxvals of the input, up to the maximum possible PAM maxval, 65535.

       The output has an opacity channel if and only if the underlying image does, and then the opacities are as
       described  under the <b>-mixtransparency</b> option.  Before Netpbm 10.56 (September 2011), the output never has
       an opacity channel.

       To specify where on the underlying image to place the overlay image, use the <b>-align</b>, <b>-valign</b>, <b>-xoff</b>,  and
       <b>-yoff</b>  options.   Without  these  options,  the default horizontal position is flush left and the default
       vertical position is flush top.

       The overlay image, in the position you specify, need  not  fit  entirely  within  the  underlying  image.
       <b>pamcomp</b>  uses only the parts of the overlay image that appear above the underlying image.  It is possible
       to specify positioning such that <u>none</u> of the overlay image is over  the  underlying  image  --  i.e.  the
       overlay is out of frame.  If you do that, <b>pamcomp</b> issues a warning.

        The  overlay  and underlying images may be of different formats (e.g. overlaying a PBM text image over a
       full color PPM image) and have different maxvals.  The output image has the more general of the two input
       formats and a maxval that is the least common multiple the two maxvals (or the maximum  maxval  allowable
       by the format, if the LCM is more than that).

</pre><h4><b>ARGUMENTS</b></h4><pre>
       The <u>overlay_file</u> argument is the name of the file containing the
         overly image, while <u>underlying_file</u> is the name of the file
         containing the underlying image.  For either, you may specify '-'
         to indicate Standard Input, and <u>underlying</u> file defaults to Standard
         Input.  Make sure you aren't specifying (or defaulting) Standard Input as
         both.

       Note that there may be a third input file, identified by an <b>-alphafile</b> option.

       The <u>output_file</u> argument is the name of the file to which
         <b>pamcomp</b> writes the output, creating or truncating it first.  You may
         specify '-' to indicate Standard Output, in which
         case <b>pamcomp</b> does not truncate it.  Note that <b>pamcomp</b> is
         unusual among Netpbm programs, as a historical accident, in having an output
         file argument; Netpbm programs normally write to Standard Output only.

</pre><h4><b>OPTIONS</b></h4><pre>
       In  addition  to  the options common to all programs based on libnetpbm (most notably <b>-quiet</b>, see  Common
       Options ), <b>pamcomp</b> recognizes the following command line options:

       <b>-align=</b><u>alignment</u>
              This option selects the basic horizontal position  of  the  overlay  image  with  respect  to  the
              underlying  image,  in  syntax reminiscent of HTML.  <b>left</b> means flush left, <b>center</b> means centered,
              and <b>right</b> means flush right.

              The <b>-xoff</b> option modifies this position.

              <b>beyondleft</b> means just out of frame to the left -- the right edge of the overlay is flush with  the
              left  edge  of  the  underlying  image.   <b>beyondright</b> means just out of frame to the right.  These
              alignments are useful only if you add a <b>-xoff</b> option.    These two values  were  added  in  Netpbm
              10.10 (October 2002).

              The default is <b>left</b>.

       <b>-valign=</b><u>alignment</u>
              This  option  selects  the  basic  vertical  position  of  the  overlay  image with respect to the
              underlying image, in syntax reminiscent of HTML.  <b>top</b> means flush top, <b>middle</b> means centered,  and
              <b>bottom</b> means flush bottom.

              The <b>-yoff</b> option modifies this position.

              <b>above</b>  means  just out of frame to the top -- the bottom edge of the overlay is flush with the top
              edge of the underlying image.  <b>below</b> means just out of frame to the bottom.  These alignments  are
              useful  only  if  you  add  a  <b>-yoff</b> option.  These two values were added in Netpbm 10.10 (October
              2002).

              The default is <b>top</b>.

       <b>-xoff=</b><u>x</u>
              This option modifies the  horizontal  positioning  of  the  overlay  image  with  respect  to  the
              underlying  image  as  selected  by the <b>-align</b> option.  <b>pamcomp</b> shifts the overlay image from that
              basic position <u>x</u> pixels to the right.  <u>x</u> can be negative to indicate shifting to the left.

              The overlay need not fit entirely (or at all) on the underlying  image.   <b>pamcomp</b>  uses  only  the
              parts that lie over the underlying image.

              Before  Netpbm  10.10 (October 2002), <b>-xoff</b> was mutually exclusive with <b>-align</b> and always measured
              from the left edge.

       <b>-yoff=</b><u>y</u>
              This option modifies the vertical positioning of the overlay image with respect to the  underlying
              image  as  selected  by  the  <b>-valign</b>  option.   <b>pamcomp</b>  shifts the overlay image from that basic
              position <u>y</u> pixels downward.  <u>y</u> can be negative to indicate shifting upward.

              The overlay need not fit entirely (or at all) on the underlying  image.   <b>pamcomp</b>  uses  only  the
              parts that lie over the underlying image.

              Before  Netpbm 10.10 (October 2002), <b>-xoff</b> was mutually exclusive with <b>-valign</b> and always measured
              from the top edge.

       <b>-alpha=</b><u>alpha-pgmfile</u>
              This option names a file that contains the transparency mask.  If you don't specify  this  option,
              there  is  no  transparency  mask, which is equivalent to having a transparency mask specify total
              opaqueness everywhere.

              You can specify <b>-</b> as the value of this option and the transparency mask will  come  from  Standard
              Input.  If you do this, don't specify Standard Input as the source of any other input image.

       <b>-invert</b>
              This  option  inverts the sense of the values in the transparency mask, which effectively switches
              the roles of the overlay image and the underlying image in places where the two intersect.

       <b>-opacity=</b><u>opacity</u>
              This option tells how opaque the overlay image is to be, i.e. how  much  of  the  composite  image
              should be from the overlay image, as opposed to the underlying image.  <u>opacity</u> is a floating point
              number,  with  1.0  meaning  the  overlay  image  is  totally opaque and 0.0 meaning it is totally
              transparent.  The default is 1.0.

              If you specify a transparency mask (the <b>-alpha</b> option), <b>pamcomp</b> uses the product  of  the  opacity
              indicated  by  the  transparency  mask (as modified by the <b>-invert</b> option, as a fraction, and this
              opacity value.  The <b>-invert</b> option does not apply to this opacity value.

              As a simple opacity value, the value makes sense only  if  it  is  between  0  and  1,  inclusive.
              However,  <b>pamcomp</b>  accepts  all values and performs the same arithmetic computation using whatever
              value you provide.  An opacity value less than zero means the underlay image  is  intensified  and
              then  the  overlay  image  is "subtracted" from it.  An opacity value greater than unity means the
              overlay image is intensified and the underlay image subtracted from it.  In either  case,  <b>pamcomp</b>
              clips  the  resulting  color  component  intensities  so they are nonnegative and don't exceed the
              output image's maxval.

              This may seem like a strange thing to do, but it has uses.  You can use it to brighten  or  darken
              or saturate or desaturate areas of the underlay image.  See  <b>this</b> <b><a href="../man1/description.1.html">description</a></b>(1) of the technique.

              This  option  was added in Netpbm 10.6 (July 2002).  Before Netpbm 10.15 (April 2003), values less
              than zero or greater than unity were not allowed.

       <b>-mixtransparency</b>
              This option controls what <b>pamcomp</b> does where both the underlying and overlay image are non-opaque.

              By default, the  output  image  has  the  same  transparency  as  the  underlying  image  and  the
              transparency of the underlying image has no effect on the composition of color.

              But with this option, <b>pamcomp</b> composes the image according to a plastic transparency metaphor: the
              underlying  and overlay images are plastic slides.  The output image is the slide you get when you
              stack up those two slides.  So the transparency of the output is a combination of the transparency
              of the inputs and the  transparency  of  the  underlying  image  affects  the  underlying  image's
              contribution to the output image's color.

              Unlike the metaphorical slide, a PAM pixel has a color even where it is completely transparent, so
              <b>pamcomp</b>  departs  from  the  metaphor  in  that  case  and makes the output color identical to the
              underlying image.

              This option was new in Netpbm 10.56 (September 2011).  Before that, the output  is  always  opaque
              and the <b>pamcomp</b> ignores the transparency of the underlying image.

       <b>-linear</b>
              This  option  indicates  that  the  inputs are not true Netpbm images but rather a light-intesity-
              proportional variation.  This is relevant only when you mix pixels, using the <b>-opacity</b> option or a
              transparency mask (the <b>-alpha</b> option).

              The transparency mask and <b>-opacity</b> values indicate a fraction of the light intensity of  a  pixel.
              But the PNM and PNM-equivalent PAM image formats represent intensities with gamma-adjusted numbers
              that  are  not linearly proportional to intensity.  So <b>pamcomp</b>, by default, performs a calculation
              on each sample read from its input and each sample written to its output to convert between  these
              gamma-adjusted numbers and internal intensity-proportional numbers.

              Sometimes  you  are  not  working with true PNM or PAM images, but rather a variation in which the
              sample values are in fact directly proportional to intensity.  If so, use the  <b>-linear</b>  option  to
              tell <b>pamcomp</b> this.  <b>pamcomp</b> then will skip the conversions.

              The  conversion  takes  time.  And the difference between intensity-proportional values and gamma-
              adjusted values may be small enough that you would barely see a difference in the  result  if  you
              just  pretended  that  the  gamma-adjusted values were in fact intensity-proportional.  So just to
              save time, at the expense of some image quality, you can specify <b>-linear</b> even when you  have  true
              PPM input and expect true PPM output.

              For  the first 13 years of Netpbm's life, until Netpbm 10.20 (January 2004), <b>pamcomp</b>'s predecessor
              <b>pnmcomp</b> always treated the PPM samples as intensity-proportional even though they  were  not,  and
              drew  few complaints.  So using <b>-linear</b> as a lie is a reasonable thing to do if speed is important
              to you.

              Another technique to consider is to convert your PNM image to the linear variation with  <b>pnmgamma</b>,
              run <b>pamcomp</b> on it and other transformations that like linear PNM, and then convert it back to true
              PNM with <b>pnmgamma</b> <b>-ungamma</b>.  <b>pnmgamma</b> is often faster than <b>pamcomp</b> in doing the conversion.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man1/pammixmulti.html.1.html">pammixmulti.html</a></b>(1) mixes together two or more images of the same size, in various ways.

       <b><a href="../man1/ppmmix.1.html">ppmmix</a></b>(1) and <b><a href="../man1/pnmpaste.1.html">pnmpaste</a></b>(1) are simpler, less general versions of the same tool.

       <b><a href="../man1/ppmcolormask.1.html">ppmcolormask</a></b>(1) and <b><a href="../man1/pbmmask.1.html">pbmmask</a></b>(1), and <b><a href="../man1/pambackground.1.html">pambackground</a></b>(1) can help with generating a transparency mask.

       <b><a href="../man1/pnmcomp.1.html">pnmcomp</a></b>(1) is an older program that runs faster, but has less function.

       <b><a href="../man1/pnm.1.html">pnm</a></b>(1)

</pre><h4><b>HISTORY</b></h4><pre>
       <b>pamcomp</b>  was  new  in Netpbm 10.21 (March 2004).  Its predecessor, <b>pnmcomp</b>, was one of the first programs
       added to Netpbm when the project went global in 1993.

</pre><h4><b>AUTHOR</b></h4><pre>
       Copyright (C) 1992 by David Koblas (<u><a href="mailto:koblas@mips.com">koblas@mips.com</a></u>).

</pre><h4><b>DOCUMENT</b> <b>SOURCE</b></h4><pre>
       This manual page was generated by the Netpbm tool 'makeman' from HTML source.  The  master  documentation
       is at

              <b><a href="http://netpbm.sourceforge.net/doc/pamcomp.html">http://netpbm.sourceforge.net/doc/pamcomp.html</a></b>

netpbm documentation                             13 August 2011                           <u>Pamcomp</u> <u>User</u> <u><a href="../man1/Manual.1.html">Manual</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>