<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>xsm - X Session Manager</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/x11-session-utils">x11-session-utils_7.7+6build2_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       xsm - X Session Manager

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>xsm</b> [-display <u>display</u>] [-session <u>sessionName</u>] [-verbose]

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <u>xsm</u>  is  a  session manager.  A session is a group of applications, each of which has a particular state.
       <u>xsm</u> allows you to create arbitrary  sessions  -  for  example,  you  might  have  a  "light"  session,  a
       "development"  session,  or  an  "xterminal" session.  Each session can have its own set of applications.
       Within a session, you can perform a "checkpoint" to save application state, or a "shutdown" to save state
       and exit the session.  When you log back in to the system, you can load a specific session, and  you  can
       delete sessions you no longer want to keep.

       Some  session  managers  simply  allow  you to manually specify a list of applications to be started in a
       session.  <u>xsm</u> is more powerful because it lets you run applications and have  them  automatically  become
       part of the session.  On a simple level, <u>xsm</u> is useful because it gives you this ability to easily define
       which applications are in a session.  The true power of <u>xsm</u>, however, can be taken advantage of when more
       and more applications learn to save and restore their state.

</pre><h4><b>OPTIONS</b></h4><pre>
       <b>-display</b> <u>display</u>
               Causes <u>xsm</u> to connect to the specified X display.

       <b>-session</b> <u>sessionName</u>
               Causes <u>xsm</u> to load the specified session, bypassing the session menu.

       <b>-verbose</b>
               Turns on debugging information.

</pre><h4><b>SETUP</b></h4><pre>
   <b>.xsession</b> <b>file</b>
       Using <u>xsm</u> requires a change to your <u>.xsession</u> file:

       The  last  program executed by your <u>.xsession</u> file should be <u>xsm</u>.  With this configuration, when the user
       chooses to shut down the session using <u>xsm</u>, the session will truly be over.

       Since the goal of the session manager is to restart clients when logging into a session,  your  .xsession
       file,  in general, should not directly start up applications.  Rather, the applications should be started
       within a session.  When <u>xsm</u> shuts down the session, <u>xsm</u> will know to restart  these  applications.   Note
       however  that  there  are  some  types  of  applications that are not "session aware".  <u>xsm</u> allows you to
       manually add these applications to your session (see the section titled <u>Client</u> <u>List</u>).

   <b>SM_SAVE_DIR</b> <b>environment</b> <b>variable</b>
       If the <u>SM_SAVE_DIR</u> environment variable is defined,  <u>xsm</u>  will  save  all  configuration  files  in  this
       directory.   Otherwise, they will be stored in the user's home directory.  Session aware applications are
       also encouraged to save their checkpoint files in the <u>SM_SAVE_DIR</u> directory, although the user should not
       depend on this convention.

   <b>Default</b> <b>Startup</b> <b>Applications</b>
       The first time <u>xsm</u> is started, it will need to locate a list of applications to start up.   For  example,
       this  list might include a window manager, a session management proxy, and an xterm.  <u>xsm</u> will first look
       for the file <u>.xsmstartup</u> in the user's home directory.  If that file does not exist, it will look for the
       <u>system.xsm</u> file that was set up at installation time.  Note that <u>xsm</u> provides a "fail safe"  option  when
       the  user  chooses  a  session  to  start up.  The fail safe option simply loads the default applications
       described above.

       Each line in the startup file should contain a command to start an application.  A  sample  startup  file
       might look this:

       &lt;start of file&gt;
       twm
       smproxy
       xterm
       &lt;end of file&gt;

</pre><h4><b>STARTING</b> <b>A</b> <b>SESSION</b></h4><pre>
       When  <u>xsm</u>  starts  up,  it  first  checks  to see if the user previously saved any sessions.  If no saved
       sessions exist, <u>xsm</u> starts up a set of default applications (as described above  in  the  section  titled
       <u>Default</u>  <u>Startup</u>  <u>Applications</u>).   If  at  least  one  session  exists, a session menu is presented.  The
       <b>-session</b> option forces the specified <u>sessionName</u> session to be loaded, bypassing the session menu.

   <b>The</b> <b>session</b> <b>menu</b>
       The session menu presents the user with a list of sessions to choose  from.   The  user  can  change  the
       currently selected session with the mouse, or by using the up and down arrows on the keyboard.  Note that
       sessions which are locked (i.e. running on a different display) can not be loaded or deleted.

       The following operations can be performed from the session menu:

       <b>Load</b> <b>Session</b>          Pressing  this  button  will  load  the currently selected session.  Alternatively,
                             hitting the Return key will also load the currently selected session, or  the  user
                             can double click a session from the list.

       <b>Delete</b> <b>Session</b>        This  operation  will  delete the currently selected session, along with all of the
                             application checkpoint files associated with  the  session.   After  pressing  this
                             button,  the  user  will  be  asked  to  press the button a second time in order to
                             confirm the operation.

       <b>Default/Fail</b> <b>Safe</b>     <u>xsm</u> will start up a set of default applications (as described above in the  section
                             titled  <u>Default</u> <u>Startup</u> <u>Applications</u>).  This is useful when the user wants to start
                             a fresh session, or if the session configuration files were corrupted and the  user
                             wants a "fail safe" session.

       <b>Cancel</b>                Pressing  this  button  will  cause  <u>xsm</u>  to exit.  It can also be used to cancel a
                             "Delete Session" operation.

</pre><h4><b>CONTROLLING</b> <b>A</b> <b>SESSION</b></h4><pre>
       After <u>xsm</u> determines which session to load, it brings up its main window, then starts up all applications
       that are part of the session.  The title bar for the session manager's main window will contain the  name
       of the session that was loaded.

       The following options are available from <u>xsm</u>'s main window:

       <b>Client</b> <b>List</b>       Pressing  this  button  brings up a window containing a list of all clients that are in
                         the current session.  For each client, the host machine that the client is  running  on
                         is  presented.  As clients are added and removed from the session, this list is updated
                         to reflect the changes.  The user is able to control how these  clients  are  restarted
                         (see below).

                         By  pressing  the  <b>View</b>  <b>Properties</b>  button,  the  user can view the session management
                         properties associated with the currently selected client.

                         By pressing the <b>Clone</b> button, the user can start a copy of the selected application.

                         By pressing the <b>Kill</b> <b>Client</b> button, the user can remove a client from the session.

                         By selecting a restart hint from the <b>Restart</b>  <b>Hint</b>  menu,  the  user  can  control  the
                         restarting of a client.  The following hints are available:

                         <b>-</b> The <b>Restart</b> <b>If</b> <b>Running</b> hint indicates that the client should be restarted in the next
                         session if it is connected to the session manager at the end of the current session.

                         <b>-</b>  The  <b>Restart</b>  <b>Anyway</b>  hint indicates that the client should be restarted in the next
                         session even if it exits before the current session is terminated.

                         <b>-</b> The <b>Restart</b> <b>Immediately</b> hint is similar to the <b>Restart</b> <b>Anyway</b> hint, but in  addition,
                         the client is meant to run continuously.  If the client exits, the session manager will
                         try to restart it in the current session.

                         <b>-</b>  The <b>Restart</b> <b>Never</b> hint indicates that the client should not be restarted in the next
                         session.

                         Note that all X applications may not be "session aware".   Applications  that  are  not
                         session  aware  are  ones that do not support the X Session Management Protocol or they
                         can not be detected by the Session Management Proxy (see the section titled <u>THE</u> <u>PROXY</u>).
                         <u>xsm</u> allows the user to manually add such applications to the session.   The  bottom  of
                         the <u>Client</u> <u>List</u> window contains a text entry field in which application commands can be
                         typed in.  Each command should go on its own line.  This information will be saved with
                         the  session  at  checkpoint or shutdown time.  When the session is restarted, <u>xsm</u> will
                         restart these applications in addition to the regular "session aware" applications.

                         Pressing the <b>Done</b> button removes the <b>Client</b> <b>List</b> window.

       <b>Session</b> <b>Log...</b>    The Session Log window presents useful information about  the  session.   For  example,
                         when  a  session is restarted, all of the restart commands will be displayed in the log
                         window.

       <b>Checkpoint</b>        By performing a checkpoint, all applications that are in the session are asked to  save
                         their state.  Not every application will save its complete state, but at a minimum, the
                         session  manager is guaranteed that it will receive the command required to restart the
                         application (along with all command line options).  A window manager  participating  in
                         the  session  should  guarantee  that  the applications will come back up with the same
                         window configurations.

                         If the session being checkpointed was never assigned a name, the user will be  required
                         to  specify  a  session name.  Otherwise, the user can perform the checkpoint using the
                         current session name, or a new session name can be  specified.   If  the  session  name
                         specified already exists, the user will be given the opportunity to specify a different
                         name or to overwrite the already existing session.  Note that a session which is locked
                         can not be overwritten.

                         When  performing  a  checkpoint,  the  user  must specify a <b>Save</b> <b>Type</b> which informs the
                         applications in the session how much state they should save.

                         The <b>Local</b> type indicates that the application should save enough information to restore
                         the state as seen by the user.  It should not affect the state as seen by other  users.
                         For  example,  an  editor  would create a temporary file containing the contents of its
                         editing buffer, the location of the cursor, etc...

                         The <b>Global</b> type indicates that the  application  should  commit  all  of  its  data  to
                         permanent,  globally accessible storage.  For example, the editor would simply save the
                         edited file.

                         The <b>Both</b> type indicates that the application should do both of these.  For example, the
                         editor would save the edited file, then create a temporary file with  information  such
                         as the location of the cursor, etc...

                         In addition to the <b>Save</b> <b>Type</b>, the user must specify an <b>Interact</b> <b>Style</b>.

                         The  <b>None</b>  type  indicates that the application should not interact with the user while
                         saving state.

                         The <b>Errors</b> type indicates that the application may interact with the user  only  if  an
                         error condition arises.

                         The <b>Any</b> type indicates that the application may interact with the user for any purpose.
                         Note that <u>xsm</u> will only allow one application to interact with the user at a time.

                         After  the checkpoint is completed, <u>xsm</u> will, if necessary, display a window containing
                         the list of applications which did not report a successful save of state.

       <b>Shutdown</b>          A shutdown provides all of the options found in a  checkpoint,  but  in  addition,  can
                         cause  the  session  to exit.  Note that if the interaction style is <b>Errors</b> or <b>Any</b>, the
                         user may cancel the shutdown.  The user may also cancel the  shutdown  if  any  of  the
                         applications report an unsuccessful save of state.

                         The user may choose to shutdown the session with our without performing a checkpoint.

</pre><h4><b>HOW</b> <u><b>XSM</b></u> <b>RESPONDS</b> <b>TO</b> <b>SIGNALS</b></h4><pre>
       <u>xsm</u>  will  respond  to  a  SIGTERM  signal  by performing a shutdown with the following options: fast, no
       interaction, save type local.  This allows the user's session to  be  saved  when  the  system  is  being
       shutdown.  It can also be used to perform a remote shutdown of a session.

       <u>xsm</u>  will  respond  to  a  SIGUSR1  signal  by  performing  a  checkpoint  with the following options: no
       interaction, save type local.  This signal can be used to perform a remote checkpoint of a session.

</pre><h4><b>THE</b> <b>PROXY</b></h4><pre>
       Since not all applications have been ported to support the X Session Management Protocol, a proxy service
       exists to allow "old" clients to work with the session manager.  In order for  the  proxy  to  detect  an
       application joining a session, one of the following must be true:

       -  The  application  maps  a  top  level  window containing the <b>WM_CLIENT_LEADER</b> property.  This property
       provides a pointer to the client leader window which contains  the  <b>WM_CLASS</b>,  <b>WM_NAME</b>,  <b>WM_COMMAND</b>,  and
       <b>WM_CLIENT_MACHINE</b> properties.

       or ...

       - The application maps a top level window which does not contain the <b>WM_CLIENT_LEADER</b> property.  However,
       this top level window contains the <b>WM_CLASS</b>, <b>WM_NAME</b>, <b>WM_COMMAND</b>, and <b>WM_CLIENT_MACHINE</b> properties.

       An  application that support the <b>WM_SAVE_YOURSELF</b> protocol will receive a <b>WM_SAVE_YOURSELF</b> client message
       each time the session manager issues a checkpoint or shutdown.   This  allows  the  application  to  save
       state.   If  an  application  does not support the <b>WM_SAVE_YOURSELF</b> protocol, then the proxy will provide
       enough information to the session manager to restart the application (using  <b>WM_COMMAND</b>),  but  no  state
       will be restored.

</pre><h4><b>REMOTE</b> <b>APPLICATIONS</b></h4><pre>
       <u>xsm</u> requires a remote execution protocol in order to restart applications on remote machines.  Currently,
       <u>xsm</u> supports the <u>rstart</u> protocol.  In order to restart an application on remote machine <b>X</b>, machine <b>X</b> must
       have <u>rstart</u> installed.  In the future, additional remote execution protocols may be supported.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <a href="../man1/smproxy.1.html">smproxy</a>(1), <a href="../man1/rstart.1.html">rstart</a>(1)

</pre><h4><b>AUTHORS</b></h4><pre>
       Ralph Mor, X Consortium
       Jordan Brown, Quarterdeck Office Systems

X Version 11                                        xsm 1.0.5                                             <u><a href="../man1/XSM.1.html">XSM</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>