<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>dh_pypy - calculates PyPy dependencies, adds maintainer scripts to byte compile files, etc.</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/jammy/+package/dh-python">dh-python_5.20220403_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       dh_pypy - calculates PyPy dependencies, adds maintainer scripts to byte compile files, etc.

</pre><h4><b>SYNOPSIS</b></h4><pre>
          dh_pypy -p PACKAGE [-V [X.Y][-][A.B]] DIR [-X REGEXPR]

</pre><h4><b>DESCRIPTION</b></h4><pre>
   <b>QUICK</b> <b>GUIDE</b> <b>FOR</b> <b>MAINTAINERS</b>
          • build-depend on pypy and dh-python,

          • add <u>${pypy:Depends}</u> to Depends

          • build module/application using its standard build system,

          • install files to the standard locations,

          • add <u>pypy</u> to dh's --with option, or:

          • call <b>dh_pypy</b> in the <u>binary-*</u> target,

   <b>NOTES</b>
   <b>dependencies</b>
       dh_pypy tries to translate Python dependencies from the <u>requires.txt</u> file to Debian dependencies. In many
       cases,  this  works without any additional configuration because dh_pypy comes with a build-in mapping of
       Python module names to Debian packages that is periodically  regenerated  from  the  Debian  archive.  By
       default, the version information in the Python dependencies is discarded. If you want dh_pypy to generate
       more  strict  dependencies  (e.g.  to  avoid  ABI  problems),  or  if the automatic mapping does not work
       correctly for your package, you have to provide dh_pypy with additional  rules  for  the  translation  of
       Python module to Debian package dependencies.

       For  a  package  <u>pypy-foo</u>  that  depends on a package <u>pypy-bar</u>, there are two files that may provide such
       rules:

       1. If the <u>pypy-foo</u> source package ships with a <u>debian/pypy-overrides</u> file, this file is used  by  dh_pypy
          during the build of <u>pypy-foo</u>.

       2. If  the <u>pypy-bar</u> source package ships with a <u>debian/pypy-bar.pydist</u> file (and uses dh_pypy), this file
          will be included in the binary package as <u>/usr/share/dh-python/dist/pypy/pypy-bar</u>. During the build of
          <u>pypy-foo</u>, dh_pypy will then find and use the file.

       Both files have the same format described in <u>/usr/share/doc/dh-python/README.PyDist</u>. If all you  want  is
       to  generate  versioned  dependencies  (and  assuming that the <u>pypy-bar</u> package provides the <u>pybar</u> Python
       module), in most cases it will be sufficient to put the line <b>pybar</b> <b>pypy-bar;</b> <b>PEP386</b> into  either  of  the
       above files.

   <b>namespace</b> <b>feature</b>
       dh_pypy  parses  Egg's namespace_packages.txt files (in addition to --namespace command line argument(s))
       and drops empty __init__.py files from binary package. pypycompile will regenerate them at  install  time
       and  pypyclean will remove them at uninstall time (if they're no longer used in installed packages). It's
       still a good idea to provide __init__.py file in one of binary packages (even if all other  packages  use
       this feature).

   <b>private</b> <b>dirs</b>
       <u>/usr/share/foo</u>, <u>/usr/share/games/foo</u>, <u>/usr/lib/foo</u> and <u>/usr/lib/games/foo</u> private directories are scanned
       for  Python  files  by  default (where <u>foo</u> is binary package name). If your package ships Python files in
       some other directory, add another dh_pypy call in debian/rules with directory name as an argument  -  you
       can use different set of options in this call. If you need to change options for a private directory that
       is checked by default, invoke dh_pypy with --skip-private option and add another call with a path to this
       directory and new options.

   <b>debug</b> <b>packages</b>
       In  binary  packages  which name ends with <u>-dbg</u>, all files in <u>/usr/lib/pypy/dist-packages/</u> directory that
       have extensions different than <u>so</u> or <u>h</u> are removed by default. Use --no-dbg-cleaning  option  to  disable
       this feature.

   <b>overriding</b> <b>supported</b> <b>/</b> <b>default</b> <b>PyPy</b> <b>versions</b>
       If  you  want  to  override  system's list of supported PyPy versions or the default one (f.e. to build a
       package that includes symlinks for older version of PyPy or compile .py files only for given  interpreter
       version), you can do that via <u>DEBPYPY_SUPPORTED</u> and/or <u>DEBPYPY_DEFAULT</u> env. variables.

</pre><h4><b>OPTIONS</b></h4><pre>
       <b>--version</b>
              show program's version number and exit

       <b>-h</b>, <b>--help</b>
              show help message and exit

       <b>--no-guessing-deps</b>
              disable guessing dependencies

       <b>--no-dbg-cleaning</b>
              do not remove any files from debug packages

       --no-ext-rename do not add magic tags nor multiarch tuples to extension file names

       <b>--no-shebang-rewrite</b>
              do not rewrite shebangs

       <b>--skip-private</b>
              don't check private directories

       <b>-v</b>, <b>--verbose</b>
              turn verbose mode on

       <b>-i</b>, <b>--indep</b>
              act on architecture independent packages

       <b>-a</b>, <b>--arch</b>
              act on architecture dependent packages

       <b>-q</b>, <b>--quiet</b>
              be quiet

       <b>-p</b> <u>PACKAGE</u>, <b>--package=</b><u>PACKAGE</u>
              act on the package named PACKAGE

       <b>-N</b> <u>NO_PACKAGE</u>, <b>--no-package=</b><u>NO_PACKAGE</u>
              do not act on the specified package

       <b>-X</b> <u>REGEXPR</u>, <b>--exclude=</b><u>REGEXPR</u>
              exclude  items that match given REGEXPR. You may use this option multiple times to build up a list
              of things to exclude.

       <b>--compile-all</b>
              compile all files from given private directory in postinst/rtupdate not just the ones provided  by
              the package (i.e. do not pass the --package parameter to py3compile/py3clean)

       <b>--accept-upstream-versions</b>
              accept upstream versions while translating Python dependencies into Debian ones

       <b>--depends=</b><u>DEPENDS</u>
              translate  given requirements into Debian dependencies and add them to ${pypy:Depends}. Use it for
              missing items in requires.txt

       <b>--depends-sections=</b><u>SECTIONS</u>
              translate requirements from given sections of requres.txt file into Debian  dependencies  and  add
              them to ${pypy:Depends}.

       <b>--recommends=</b><u>RECOMMENDS</u>
              translate given requirements into Debian dependencies and add them to ${pypy:Recommends}

       <b>--recommends-sections=</b><u>SECTIONS</u>
              translate  requirements  from  given sections of requres.txt file into Debian dependencies and add
              them to ${pypy:Recommends}.

       <b>--suggests=</b><u>SUGGESTS</u>
              translate given requirements into Debian dependencies and add them to ${pypy:Suggests}

       <b>--suggests-sections=</b><u>SECTIONS</u>
              translate requirements from given sections of requres.txt file into Debian  dependencies  and  add
              them to ${pypy:Suggests}.

       <b>--requires=</b><u>FILENAME</u>
              translate requirements from given file(s) into Debian dependencies and add them to ${pypy:Depends}

       <b>--shebang=</b><u>COMMAND</u>
              use given command as shebang in scripts

       <b>--ignore-shebangs</b>
              do not translate shebangs into Debian dependencies

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       • /usr/share/doc/dh-python/README.PyDist

       • <a href="../man1/pybuild.1.html">pybuild</a>(1)

       • <u><a href="http://deb.li/dhpy">http://deb.li/dhpy</a></u> - most recent version of this document

</pre><h4><b>AUTHOR</b></h4><pre>
       Piotr Ożarowski, 2013

                                                                                                      <u><a href="../man1/DH_PYPY.1.html">DH_PYPY</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>