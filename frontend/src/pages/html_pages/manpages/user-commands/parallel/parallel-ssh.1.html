<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>parallel-ssh — parallel ssh program</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/pssh">pssh_2.3.5-2_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       parallel-ssh — parallel ssh program

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>parallel-ssh</b> [<b>-vAiIP</b>] [<b>-h</b> <u>hosts_file</u>] [<b>-H</b> [<u>user</u>@]<u>host</u>[:<u>port</u>]] [<b>-g</b> <u>pattern</u>] [<b>-l</b> <u>user</u>] [<b>-p</b> <u>par</u>] [<b>-o</b> <u>outdir</u>]
       [<b>-e</b> <u>errdir</u>] [<b>-t</b> <u>timeout</u>] [<b>-O</b> <u>options</u>] [<b>-x</b> <u>args</u>] [<b>-X</b> <u>arg</u>] <u>command</u> <u>...</u>

       <b>parallel-ssh</b>  <b>-I</b>  [<b>-vAiIP</b>]  [<b>-h</b>  <u>hosts_file</u>]  [<b>-H</b> [<u>user</u>@]<u>host</u>[:<u>port</u>]] [<b>-g</b> <u>pattern</u>] [<b>-l</b> <u>user</u>] [<b>-p</b> <u>par</u>] [<b>-o</b>
       <u>outdir</u>] [<b>-e</b> <u>errdir</u>] [<b>-t</b> <u>timeout</u>] [<b>-O</b> <u>options</u>] [<b>-x</b> <u>args</u>] [<b>-X</b> <u>arg</u>] [<u>command</u> <u>...</u>]

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>parallel-ssh</b> is a program for executing ssh in parallel on a number of hosts.  It provides features  such
       as  sending  input to all of the processes, passing a password to ssh, saving output to files, and timing
       out.

       The PSSH_NODENUM, PSSH_NUMNODES, PSSH_HOST environment variables  are  sent  to  the  remote  host.   The
       PSSH_NODENUM  variable  is assigned a unique number for each ssh connection, starting with 0 and counting
       up.  The PSSH_NUMNODES variable is assigned the total number of node being used. The  PSSH_HOST  variable
       is  assigned  the  name  of  the  host  as specified in the hosts list.  Note that sshd drops environment
       variables by default, so sshd_config on the remote host must include the line:
              AcceptEnv PSSH_NODENUM PSSH_NUMNODES PSSH_HOST

</pre><h4><b>OPTIONS</b></h4><pre>
       <b>-h</b> <u>host_file</u>
       <b>--hosts</b> <u>host_file</u>
              Read hosts from the given <u>host_file</u>.  Lines in the host file are of  the  form  [<u>user</u>@]<u>host</u>[:<u>port</u>]
              and  can  include blank lines and comments (lines beginning with "#").  If multiple host files are
              given (the <b>-h</b> option is used more than once), then parallel-ssh behaves as though these files were
              concatenated together.  If a host is specified multiple times, then parallel-ssh will connect  the
              given number of times.

       <b>-H</b>     [<u>user</u>@]<u>host</u>[:<u>port</u>]
       <b>--host</b> [<u>user</u>@]<u>host</u>[:<u>port</u>]
       <b>-H</b>     "[<u>user</u>@]<u>host</u>[:<u>port</u>] [ [<u>user</u>@]<u>host</u>[:<u>port</u> ] ... ]"
       <b>--host</b> "[<u>user</u>@]<u>host</u>[:<u>port</u>] [ [<u>user</u>@]<u>host</u>[:<u>port</u> ] ... ]"
              Add the given host strings to the list of hosts.  This option may be given multiple times, and may
              be used in conjunction with the <b>-h</b> option.

       <b>-g</b> <u>pattern</u>
       <b>--host-glob</b> <u>pattern</u>
              Filter  hosts  with  glob pattern <u>pattern</u>.  This uses the same syntax as shell globs. Make sure to
              quote the pattern to prevent shell from expanding it. Examples are "*web*" and "company_*".

       <b>-l</b> <u>user</u>
       <b>--user</b> <u>user</u>
              Use the given username as the default for any host entries that don't specifically specify a user.

       <b>-p</b> <u>parallelism</u>
       <b>--par</b> <u>parallelism</u>
              Use the given number as the maximum number of concurrent connections.

       <b>-t</b> <u>timeout</u>
       <b>--timeout</b> <u>timeout</u>
              Make connections time out after the given number of seconds.  With a value of 0, parallel-ssh will
              not timeout any connections.

       <b>-o</b> <u>outdir</u>
       <b>--outdir</b> <u>outdir</u>
              Save  standard  output  to  files  in  the  given  directory.    Filenames   are   of   the   form
              [<u>user</u>@]<u>host</u>[:<u>port</u>][.<u>num</u>]  where  the  user  and  port  are only included for hosts that explicitly
              specify them.  The number is a counter that is incremented each time for hosts that are  specified
              more than once.

       <b>-e</b> <u>errdir</u>
       <b>--errdir</b> <u>errdir</u>
              Save  standard  error to files in the given directory.  Filenames are of the same form as with the
              <b>-o</b> option.

       <b>-x</b> <u>args</u>
       <b>--extra-args</b> <u>args</u>
              Passes extra SSH command-line arguments (see the <b><a href="../man1/ssh.1.html">ssh</a></b>(1) man page for more  information  about  SSH
              arguments).  This option may be specified multiple times.  The arguments are processed to split on
              whitespace,  protect  text  within quotes, and escape with backslashes.  To pass arguments without
              such processing, use the <b>-X</b> option instead.

       <b>-X</b> <u>arg</u>
       <b>--extra-arg</b> <u>arg</u>
              Passes a single SSH command-line argument (see the <b><a href="../man1/ssh.1.html">ssh</a></b>(1) man page for more information about  SSH
              arguments).   Unlike  the  <b>-x</b>  option,  no processing is performed on the argument, including word
              splitting.  To pass multiple command-line arguments, use the option once for each argument.

       <b>-O</b> <u>options</u>
       <b>--options</b> <u>options</u>
              SSH options in the format used in the SSH configuration file (see the <b><a href="../man5/ssh_config.5.html">ssh_config</a></b>(5) man  page  for
              more information).  This option may be specified multiple times.

       <b>-A</b>
       <b>--askpass</b>
              Prompt  for a password and pass it to ssh.  The password may be used for either to unlock a key or
              for password authentication.  The password is transferred in a fairly secure manner (e.g., it will
              not show up in argument lists).  However,  be  aware  that  a  root  user  on  your  system  could
              potentially intercept the password.

       <b>-i</b>
       <b>--inline</b>
              Display standard output and standard error as each host completes.

       <b>--inline-stdout</b>
              Display standard output (but not standard error) as each host completes.

       <b>-v</b>
       <b>--verbose</b>
              Include error messages from ssh with the <b>-i</b> and <b>-e</b> options.

       <b>-I</b>
       <b>--send-input</b>
              Read input and send to each ssh process.  Since ssh allows a command script to be sent on standard
              input, the <b>-I</b> option may be used in lieu of the command argument.

       <b>-P</b>
       <b>--print</b>
              Display  output as it arrives.  This option is of limited usefulness because output from different
              hosts are interleaved.

</pre><h4><b>EXAMPLES</b></h4><pre>
       Connect to host1 and host2, and print "hello, world" from each:
              parallel-ssh -i -H "host1 host2" echo "hello, world"

       Print "hello, world" from each host specified in the file hosts.txt:
              parallel-ssh -i -h hosts.txt echo "hello, world"

       Run a command as root with a prompt for the root password:
              parallel-ssh -i -h hosts.txt -A -l root echo hi

       Run a long command without timing out:
              parallel-ssh -i -h hosts.txt -t 0 sleep 10000

       If the file hosts.txt has a large number of entries, say 100, then the parallelism option may also be set
       to 100 to ensure that the commands are run concurrently:
              parallel-ssh -i -h hosts.txt -p 100 -t 0 sleep 10000

       Run a command without checking or saving host keys:
              parallel-ssh -i -H host1 -H host2 -x "-O StrictHostKeyChecking=no -O  UserKnownHostsFile=/dev/null
              -O GlobalKnownHostsFile=/dev/null" echo hi

       Print the node number for each connection (this will print 0, 1, and 2):
              parallel-ssh -i -H host1 -H host1 -H host2 'echo $PSSH_NODENUM'

</pre><h4><b>TIPS</b></h4><pre>
       If  you  have  a  set of hosts that you connect to frequently with specific options, it may be helpful to
       create an alias such as:
              alias parallel-ssh_servers="parallel-ssh -h /path/to/server_list.txt -l root -A"

       Note that when an ssh command is terminated, it does not kill remote processes (OpenSSH bug #396 has been
       open since 2002).  One workaround is to instruct ssh to allocate a pseudo-terminal, which makes it behave
       more like a normal interactive ssh session.  To do this, use parallel-ssh's "-x" option to pass "-tt"  to
       ssh.  For example:
              parallel-ssh -i -x "-tt" -h hosts.txt -t 10 sleep 1000
       will ensure that all of the sleep commands will terminate (with SIGHUP) after the 10 second timeout.

       By  default,  ssh  uses full buffering for non-interactive commands.  Line buffering may be preferable to
       full buffering if you intend to look at the files in an output directory as a  command  is  running.   To
       switch ssh to use line buffering, use its "-tt" option (which allocates a pseudo-terminal) using the "-x"
       option in parallel-ssh.

       The  ssh_config  file  can  include  an arbitrary number of Host sections.  Each host entry specifies ssh
       options which apply only to the given host.  Host  definitions  can  even  behave  like  aliases  if  the
       HostName  option  is included.  This ssh feature, in combination with parallel-ssh host files, provides a
       tremendous amount of flexibility.

</pre><h4><b>EXIT</b> <b>STATUS</b></h4><pre>
       The exit status codes from parallel-ssh are as follows:

       <b>0</b>      Success

       <b>1</b>      Miscellaneous error

       <b>2</b>      Syntax or usage error

       <b>3</b>      At least one process was killed by a signal or timed out.

       <b>4</b>      All processes completed, but at least one ssh process reported an error (exit status 255).

       <b>5</b>      There were no ssh errors, but at least one remote command had a non-zero exit status.

</pre><h4><b>AUTHORS</b></h4><pre>
       Written by Brent N. Chun &lt;<a href="mailto:bnc@theether.org">bnc@theether.org</a>&gt; and Andrew McNabb &lt;<a href="mailto:amcnabb@mcnabbs.org">amcnabb@mcnabbs.org</a>&gt;.

       https://github.com/lilydjwg/parallel-ssh

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man1/ssh.1.html">ssh</a></b>(1), <b><a href="../man5/ssh_config.5.html">ssh_config</a></b>(5), <b><a href="../man1/parallel-scp.1.html">parallel-scp</a></b>(1), <b><a href="../man1/parallel-rsync.1.html">parallel-rsync</a></b>(1), <b><a href="../man1/parallel-slurp.1.html">parallel-slurp</a></b>(1), <b><a href="../man1/parallel-nuke.1.html">parallel-nuke</a></b>(1),

                                                January 24, 2012                                 <u><a href="../man1/parallel-ssh.1.html">parallel-ssh</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>