<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>save_binary_logs - Concatenating binary or relay logs from the specified file/position to the end of the</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/mha4mysql-node">mha4mysql-node_0.58-2_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       save_binary_logs - Concatenating binary or relay logs from the specified file/position to the end of the
       log. This command is automatically executed from MHA Manager on failover, and manual execution should not
       be needed normally.

</pre><h4><b>SYNOPSIS</b></h4><pre>
       # Test

       $ save_binary_logs --command=test  --binlog_dir=/var/lib/mysql --start_file=mysqld-bin.000002

       # Saving binary logs

       $ save_binary_logs --command=save --binlog_dir=/var/lib/mysql --start_file=mysqld-bin.000002
       --start_pos=312  --output_file=/var/tmp/aggregate.binlog

       # Saving relay logs

       $ save_binary_logs --command=save --start_file=mysqld-relay-bin.000002 --start_pos=312
       --relay_log_info=/var/lib/mysql/relay-log.info --output_file=/var/tmp/aggregate.binlog

       save_binary_logs concatenates binary or relay logs from the specified log file/position to the end of the
       log. This tool is intended to be invoked from the master failover script(MHA Manager), and manual
       execution is normally not needed.

</pre><h4><b>DESCRIPTION</b></h4><pre>
       Suppose that master is crashed and the latest slave server has received binary logs up to
       mysqld-bin.000002:312. It is likely that master has more binary logs. If it is not sent to the slave,
       slaves will lose all binlogs from mysqld-bin.000002:312. The purpose of the save_binary_logs is to save
       binary logs that are not replicated to slaves. If master is reachable through SSH and binary logs are
       readable, saving binary logs is possible.

       Here is an example:

       $ save_binary_logs --command=save --start_file=mysqld-bin.000002 --start_pos=312
       --output_file=/var/tmp/aggregate.binlog

       Then all binary logs starting from mysqld-bin.000002:312 are concatenated and stored into
       /var/tmp/aggregate.binlog. If you have binary logs up to mysqld-bin.000004, the following mysqlbinlog
       outputs are written.

       mysqld-bin.000002:Format Description Event(FDE), plus from 312 to the tail mysqld-bin.000003:from 0 to
       the tail, excluding FDE mysqld-bin.000004:from 0 to the tail, excluding FDE

perl v5.36.0                                       2023-10-03                               <u><a href="../man1p/SAVE_BINARY_LOGS.1p.html">SAVE_BINARY_LOGS</a></u>(1p)
</pre>
 </div>
</div></section>
</div>
</body>
</html>