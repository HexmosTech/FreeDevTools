<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>This  manual  page  is part of the POSIX Programmer's Manual.  The Linux implementation of this interface</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/manpages-posix">manpages-posix_2017a-2_all</a> <br><br><pre>
</pre><h4><b>PROLOG</b></h4><pre>
       This  manual  page  is part of the POSIX Programmer's Manual.  The Linux implementation of this interface
       may differ (consult the corresponding Linux manual page for details of Linux behavior), or the  interface
       may not be implemented on Linux.

</pre><h4><b>NAME</b></h4><pre>
       set — set or unset options and positional parameters

</pre><h4><b>SYNOPSIS</b></h4><pre>
       set <b>[</b>-abCefhmnuvx<b>]</b> <b>[</b>-o <u>option</u><b>]</b> <b>[</b><u>argument</u>...<b>]</b>

       set <b>[</b>+abCefhmnuvx<b>]</b> <b>[</b>+o <u>option</u><b>]</b> <b>[</b><u>argument</u>...<b>]</b>

       set -- <b>[</b><u>argument</u>...<b>]</b>

       set -o

       set +o

</pre><h4><b>DESCRIPTION</b></h4><pre>
       If  no <u>option</u>s or <u>argument</u>s are specified, <u>set</u> shall write the names and values of all shell variables in
       the collation sequence of the current locale. Each <u>name</u> shall start on a separate line, using the format:

           "%s=%s\n", &lt;<u>name</u>&gt;, &lt;<u>value</u>&gt;

       The <u>value</u> string shall be written with appropriate quoting; see  the  description  of  shell  quoting  in
       <u>Section</u>  <u>2.2</u>,  <u>Quoting</u>.   The output shall be suitable for reinput to the shell, setting or resetting, as
       far as possible, the variables that are currently set; read-only variables cannot be reset.

       When options are specified, they shall set or unset attributes of the shell,  as  described  below.  When
       <u>argument</u>s are specified, they cause positional parameters to be set or unset, as described below. Setting
       or  unsetting  attributes  and positional parameters are not necessarily related actions, but they can be
       combined in a single invocation of <u>set</u>.

       The <u>set</u> special built-in shall support the Base Definitions volume of POSIX.1‐2017, <u>Section</u> <u>12.2</u>, <u>Utility</u>
       <u>Syntax</u> <u>Guidelines</u> except that options can be specified with  either  a  leading  &lt;hyphen-minus&gt;  (meaning
       enable the option) or &lt;plus-sign&gt; (meaning disable it) unless otherwise specified.

       Implementations  shall  support the options in the following list in both their &lt;hyphen-minus&gt; and &lt;plus-
       sign&gt; forms. These options can also be specified as options to <u>sh</u>.

       <b>-a</b>    When this option is on, the <u>export</u> attribute shall be set for each variable to which an  assignment
             is  performed;  see the Base Definitions volume of POSIX.1‐2017, <u>Section</u> <u>4.23</u>, <u>Variable</u> <u>Assignment</u>.
             If the assignment precedes a utility name in a command, the <u>export</u> attribute shall not  persist  in
             the  current  execution  environment after the utility completes, with the exception that preceding
             one of the special built-in utilities causes the <u>export</u> attribute to persist after the built-in has
             completed. If the assignment does not precede a utility name in the command, or if  the  assignment
             is  a  result of the operation of the <u>getopts</u> or <u>read</u> utilities, the <u>export</u> attribute shall persist
             until the variable is unset.

       <b>-b</b>    This option shall be supported if  the  implementation  supports  the  User  Portability  Utilities
             option.  It  shall cause the shell to notify the user asynchronously of background job completions.
             The following message is written to standard error:

                 "[%d]%c %s%s\n", &lt;<u>job-number</u>&gt;, &lt;<u>current</u>&gt;, &lt;status&gt;, &lt;job-name&gt;

             where the fields shall be as follows:

             &lt;<u>current</u>&gt;   The character <b>'+'</b> identifies the job that would be used as a default for the <u>fg</u>  or  <u>bg</u>
                         utilities; this job can also be specified using the <u>job_id</u> <b>"%+"</b> or <b>"%%"</b>.  The character
                         <b>'-'</b> identifies the job that would become the default if the current default job were to
                         exit; this job can also be specified using the <u>job_id</u> <b>"%-"</b>.  For other jobs, this field
                         is  a  &lt;space&gt;.   At most one job can be identified with <b>'+'</b> and at most one job can be
                         identified with <b>'-'</b>.  If there is any suspended job, then the current job  shall  be  a
                         suspended  job.  If  there  are at least two suspended jobs, then the previous job also
                         shall be a suspended job.

             &lt;<u>job-number</u>&gt;
                         A number that can be used to identify the process group to the <u>wait</u>, <u>fg</u>, <u>bg</u>,  and  <u>kill</u>
                         utilities. Using these utilities, the job can be identified by prefixing the job number
                         with <b>'%'</b>.

             &lt;<u>status</u>&gt;    Unspecified.

             &lt;<u>job-name</u>&gt;  Unspecified.

             When  the shell notifies the user a job has been completed, it may remove the job's process ID from
             the list of those known in the current shell execution environment; see <u>Section</u> <u>2.9.3.1</u>,  <u>Examples</u>.
             Asynchronous notification shall not be enabled by default.

       <b>-C</b>    (Uppercase  C.)  Prevent  existing  files  from  being  overwritten  by the shell's <b>'&gt;'</b> redirection
             operator (see <u>Section</u> <u>2.7.2</u>, <u>Redirecting</u> <u>Output</u>); the <b>"&gt;|"</b> redirection operator shall override this
             <u>noclobber</u> option for an individual file.

       <b>-e</b>    When this option is on, when any command fails (for any of the reasons  listed  in  <u>Section</u>  <u>2.8.1</u>,
             <u>Consequences</u>  <u>of</u>  <u>Shell</u>  <u>Errors</u>  or  by  returning  an  exit  status  greater than zero), the shell
             immediately shall exit, as if by executing the <u>exit</u> special built-in  utility  with  no  arguments,
             with the following exceptions:

              1. The  failure of any individual command in a multi-command pipeline shall not cause the shell to
                 exit. Only the failure of the pipeline itself shall be considered.

              2. The <b>-e</b> setting shall be ignored when executing the compound list following  the  <b>while</b>,  <b>until</b>,
                 <b>if</b>, or <b>elif</b> reserved word, a pipeline beginning with the <b>!</b>  reserved word, or any command of an
                 AND-OR list other than the last.

              3. If  the  exit  status  of  a compound command other than a subshell command was the result of a
                 failure while <b>-e</b> was being ignored, then <b>-e</b> shall not apply to this command.

             This requirement applies to the shell environment and each  subshell  environment  separately.  For
             example, in:

                 set -e; (false; echo one) | cat; echo two

             the  <u>false</u>  command  causes  the  subshell to exit without executing <u>echo</u> <u>one</u>; however, <u>echo</u> <u>two</u> is
             executed because the exit status of the pipeline <u>(false;</u> <u>echo</u> <u>one)</u> <u>|</u> <u>cat</u> is zero.

       <b>-f</b>    The shell shall disable pathname expansion.

       <b>-h</b>    Locate and remember utilities invoked by functions as those functions are  defined  (the  utilities
             are normally located when the function is executed).

       <b>-m</b>    This  option  shall  be  supported  if  the  implementation supports the User Portability Utilities
             option. All jobs shall be run in their own process groups. Immediately before the  shell  issues  a
             prompt  after  completion  of  the  background  job,  a  message  reporting  the exit status of the
             background job shall be written to standard error. If a foreground job stops, the shell shall write
             a message to standard error to that  effect,  formatted  as  described  by  the  <u>jobs</u>  utility.  In
             addition,  if a job changes status other than exiting (for example, if it stops for input or output
             or is stopped by a SIGSTOP signal), the shell shall write a similar message  immediately  prior  to
             writing the next prompt. This option is enabled by default for interactive shells.

       <b>-n</b>    The shell shall read commands but does not execute them; this can be used to check for shell script
             syntax errors. An interactive shell may ignore this option.

       <b>-o</b>    Write the current settings of the options to standard output in an unspecified format.

       <b>+o</b>    Write  the  current  option settings to standard output in a format that is suitable for reinput to
             the shell as commands that achieve the same options settings.

       <b>-o</b> <u>option</u>
             This option is supported if the system supports the User Portability Utilities option. It shall set
             various options, many of which shall be equivalent to the  single  option  letters.  The  following
             values of <u>option</u> shall be supported:

             <u>allexport</u> Equivalent to <b>-a</b>.

             <u>errexit</u>   Equivalent to <b>-e</b>.

             <u>ignoreeof</u> Prevent  an  interactive  shell  from  exiting  on  end-of-file.  This  setting  prevents
                       accidental logouts when &lt;control&gt;‐D is entered. A user shall explicitly <u>exit</u> to leave the
                       interactive shell.

             <u>monitor</u>   Equivalent to <b>-m</b>.  This option is supported if the system supports the  User  Portability
                       Utilities option.

             <u>noclobber</u> Equivalent to <b>-C</b> (uppercase C).

             <u>noglob</u>    Equivalent to <b>-f</b>.

             <u>noexec</u>    Equivalent to <b>-n</b>.

             <u>nolog</u>     Prevent  the  entry of function definitions into the command history; see <u>Command</u> <u>History</u>
                       <u>List</u>.

             <u>notify</u>    Equivalent to <b>-b</b>.

             <u>nounset</u>   Equivalent to <b>-u</b>.

             <u>verbose</u>   Equivalent to <b>-v</b>.

             <u>vi</u>        Allow shell command line editing using the built-in <u>vi</u> editor.  Enabling  <u>vi</u>  mode  shall
                       disable any other command line editing mode provided as an implementation extension.

                       It need not be possible to set <u>vi</u> mode on for certain block-mode terminals.

             <u>xtrace</u>    Equivalent to <b>-x</b>.

       <b>-u</b>    When the shell tries to expand an unset parameter other than the <b>'@'</b> and <b>'*'</b> special parameters, it
             shall  write  a  message  to  standard  error  and  the  expansion shall fail with the consequences
             specified in <u>Section</u> <u>2.8.1</u>, <u>Consequences</u> <u>of</u> <u>Shell</u> <u>Errors</u>.

       <b>-v</b>    The shell shall write its input to standard error as it is read.

       <b>-x</b>    The shell shall write to standard error a trace for each command after it expands the  command  and
             before it executes it. It is unspecified whether the command that turns tracing off is traced.

       The  default for all these options shall be off (unset) unless stated otherwise in the description of the
       option or unless the shell was invoked with them on; see <u>sh</u>.

       The remaining arguments shall be assigned in order to the positional parameters.  The  special  parameter
       <b>'#'</b> shall be set to reflect the number of positional parameters. All positional parameters shall be unset
       before any new values are assigned.

       If the first argument is <b>'-'</b>, the results are unspecified.

       The special argument <b>"--"</b> immediately following the <u>set</u> command name can be used to delimit the arguments
       if  the  first  argument begins with <b>'+'</b> or <b>'-'</b>, or to prevent inadvertent listing of all shell variables
       when there are no arguments. The command <u>set</u> <b>--</b> without <u>argument</u> shall unset  all  positional  parameters
       and set the special parameter <b>'#'</b> to zero.

</pre><h4><b>OPTIONS</b></h4><pre>
       See the DESCRIPTION.

</pre><h4><b>OPERANDS</b></h4><pre>
       See the DESCRIPTION.

</pre><h4><b>STDIN</b></h4><pre>
       Not used.

</pre><h4><b>INPUT</b> <b>FILES</b></h4><pre>
       None.

</pre><h4><b>ENVIRONMENT</b> <b>VARIABLES</b></h4><pre>
       None.

</pre><h4><b>ASYNCHRONOUS</b> <b>EVENTS</b></h4><pre>
       Default.

</pre><h4><b>STDOUT</b></h4><pre>
       See the DESCRIPTION.

</pre><h4><b>STDERR</b></h4><pre>
       The standard error shall be used only for diagnostic messages.

</pre><h4><b>OUTPUT</b> <b>FILES</b></h4><pre>
       None.

</pre><h4><b>EXTENDED</b> <b>DESCRIPTION</b></h4><pre>
       None.

</pre><h4><b>EXIT</b> <b>STATUS</b></h4><pre>
        0    Successful completion.

       &gt;0    An invalid option was specified, or an error occurred.

</pre><h4><b>CONSEQUENCES</b> <b>OF</b> <b>ERRORS</b></h4><pre>
       Default.

       <u>The</u> <u>following</u> <u>sections</u> <u>are</u> <u>informative.</u>

</pre><h4><b>APPLICATION</b> <b>USAGE</b></h4><pre>
       Application  writers  should  avoid  relying  on  <u>set</u>  <b>-e</b> within functions. For example, in the following
       script:

           set -e
           start() {
               some_server
               echo some_server started successfully
           }
           start || echo &gt;&amp;2 some_server failed

       the <b>-e</b> setting is ignored within the function body (because the function is a command in an  AND-OR  list
       other   than   the   last).   Therefore,   if   <u>some_server</u>  fails,  the  function  carries  on  to  echo
       <b>"some_server</b>started<b>successfully"</b>,  and  the  exit  status  of  the  function   is   zero   (which   means
       <b>"some_server</b>failed" is not output).

</pre><h4><b>EXAMPLES</b></h4><pre>
       Write out all variables and their values:

           set

       Set $1, $2, and $3 and set <b>"$#"</b> to 3:

           set c a b

       Turn on the <b>-x</b> and <b>-v</b> options:

           set -xv

       Unset all positional parameters:

           set --

       Set $1 to the value of <u>x</u>, even if it begins with <b>'-'</b> or <b>'+'</b>:

           set -- "$x"

       Set the positional parameters to the expansion of <u>x</u>, even if <u>x</u> expands with a leading <b>'-'</b> or <b>'+'</b>:

           set -- $x

</pre><h4><b>RATIONALE</b></h4><pre>
       The  <u>set</u>  -- form is listed specifically in the SYNOPSIS even though this usage is implied by the Utility
       Syntax Guidelines. The explanation of this feature removes any ambiguity about whether the  <u>set</u>  --  form
       might be misinterpreted as being equivalent to <u>set</u> without any options or arguments. The functionality of
       this  form has been adopted from the KornShell. In System V, <u>set</u> -- only unsets parameters if there is at
       least one argument; the only way to unset all parameters is to use <u>shift</u>.  Using  the  KornShell  version
       should  not  affect  System  V  scripts  because  there should be no reason to issue it without arguments
       deliberately; if it were issued as, for example:

           set -- "$@"

       and there were in fact no arguments resulting from <b>"$@"</b>, unsetting the parameters would have no result.

       The <u>set</u> + form in early proposals was omitted as being an unnecessary duplication of <u>set</u>  alone  and  not
       widespread historical practice.

       The  <u>noclobber</u>  option  was  changed  to allow <u>set</u> <b>-C</b> as well as the <u>set</u> <b>-o</b> <u>noclobber</u> option. The single-
       letter version was added so that the historical <b>"$-"</b> paradigm would not be  broken;  see  <u>Section</u>  <u>2.5.2</u>,
       <u>Special</u> <u>Parameters</u>.

       The description of the <b>-e</b> option is intended to match the behavior of the 1988 version of the KornShell.

       The <b>-h</b> flag is related to command name hashing. See <u>hash</u>.

       The following <u>set</u> flags were omitted intentionally with the following rationale:

       <b>-k</b>    The  <b>-k</b>  flag was originally added by the author of the Bourne shell to make it easier for users of
             pre-release versions of the shell. In  early  versions  of  the  Bourne  shell  the  construct  <u>set</u>
             <u>name</u>=<u>value</u>  had  to  be  used  to assign values to shell variables. The problem with <b>-k</b> is that the
             behavior affects parsing, virtually precluding writing any compilers. To explain  the  behavior  of
             <b>-k</b>,  it  is  necessary  to  describe  the  parsing  algorithm, which is implementation-defined. For
             example:

                 set -k; echo <u>name</u>=<u>value</u>

             and:

                 set -k
                 echo <u>name</u>=<u>value</u>

             behave differently. The interaction with functions is even more complex. What is more, the <b>-k</b>  flag
             is never needed, since the command line could have been reordered.

       <b>-t</b>    The  <b>-t</b>  flag is hard to specify and almost never used. The only known use could be done with here-
             documents. Moreover, the behavior with <u>ksh</u> and <u>sh</u> differs. The reference page says  that  it  exits
             after  reading  and  executing  one  command.  What  is  one command? If the input is <u>date</u>;<u>date</u>, <u>sh</u>
             executes both <u>date</u> commands while <u>ksh</u> does only the first.

       Consideration was given to rewriting <u>set</u> to simplify its confusing syntax. A specific suggestion was that
       the <u>unset</u> utility should be used to unset options instead of using the non-<u>getopt</u>()-able +<u>option</u>  syntax.
       However,  the  conclusion  was reached that the historical practice of using +<u>option</u> was satisfactory and
       that there was no compelling reason to modify such widespread historical practice.

       The <b>-o</b> option was adopted from the KornShell to address user needs. In addition to its generally friendly
       interface, <b>-o</b> is needed to provide the <u>vi</u> command line editing mode, for which historical practice yields
       no single-letter option name. (Although it might have been possible to  invent  such  a  letter,  it  was
       recognized  that  other  editing modes would be developed and <b>-o</b> provides ample name space for describing
       such extensions.)

       Historical implementations are inconsistent in the format used for <b>-o</b> option  status  reporting.  The  <b>+o</b>
       format without an option-argument was added to allow portable access to the options that can be saved and
       then later restored using, for instance, a dot script.

       Historically, <u>sh</u> did trace the command <u>set</u> <b>+x</b>, but <u>ksh</u> did not.

       The  <u>ignoreeof</u> setting prevents accidental logouts when the end-of-file character (typically &lt;control&gt;‐D)
       is entered. A user shall explicitly <u>exit</u> to leave the interactive shell.

       The <u>set</u> <b>-m</b> option was added to apply only to the UPE because it applies primarily to interactive use, not
       shell script applications.

       The ability to do asynchronous notification became available in the 1988 version  of  the  KornShell.  To
       have it occur, the user had to issue the command:

           trap "jobs -n" CLD

       The  C  shell  provides  two different levels of an asynchronous notification capability. The environment
       variable <u>notify</u> is analogous to what is done in <u>set</u> <b>-b</b> or <u>set</u> <b>-o</b> <u>notify</u>.  When set, it notifies the  user
       immediately of background job completions. When unset, this capability is turned off.

       The other notification ability comes through the built-in utility <u>notify</u>.  The syntax is:

           notify <b>[</b>%job ... <b>]</b>

       By  issuing  <u>notify</u>  with  no  operands, it causes the C shell to notify the user asynchronously when the
       state of the current job changes. If given operands, <u>notify</u> asynchronously informs the user of changes in
       the states of the specified jobs.

       To add asynchronous notification to the POSIX shell, neither the KornShell extensions to <u>trap</u>, nor the  C
       shell  <u>notify</u>  environment variable seemed appropriate (<u>notify</u> is not a proper POSIX environment variable
       name).

       The <u>set</u> <b>-b</b> option was selected as a compromise.

       The <u>notify</u> built-in was considered to have more functionality than was required for  simple  asynchronous
       notification.

       Historically,  some  shells  applied  the  <b>-u</b> option to all parameters including <u>$@</u> and <u>$*</u>.  The standard
       developers felt that this was a misfeature since it is normal and common for <u>$@</u> and  <u>$*</u>  to  be  used  in
       shell  scripts regardless of whether they were passed any arguments. Treating these uses as an error when
       no arguments are passed reduces the value of <b>-u</b> for its intended purpose of finding spelling mistakes  in
       variable names and uses of unset positional parameters.

</pre><h4><b>FUTURE</b> <b>DIRECTIONS</b></h4><pre>
       None.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <u>Section</u> <u>2.14</u>, <u>Special</u> <u>Built-In</u> <u>Utilities</u>, <u>hash</u>

       The  Base  Definitions  volume  of POSIX.1‐2017, <u>Section</u> <u>4.23</u>, <u>Variable</u> <u>Assignment</u>, <u>Section</u> <u>12.2</u>, <u>Utility</u>
       <u>Syntax</u> <u>Guidelines</u>

</pre><h4><b>COPYRIGHT</b></h4><pre>
       Portions of this text are reprinted and reproduced in electronic form from IEEE Std 1003.1-2017, Standard
       for Information  Technology  --  Portable  Operating  System  Interface  (POSIX),  The  Open  Group  Base
       Specifications  Issue  7, 2018 Edition, Copyright (C) 2018 by the Institute of Electrical and Electronics
       Engineers, Inc and The Open Group.  In the event of any discrepancy between this version and the original
       IEEE and The Open Group Standard, the original IEEE and The Open Group Standard is the referee  document.
       The original Standard can be obtained online at <a href="http://www.opengroup.org/unix/online.html">http://www.opengroup.org/unix/online.html</a> .

       Any  typographical  or formatting errors that appear in this page are most likely to have been introduced
       during  the  conversion  of  the  source  files  to  man  page  format.  To  report  such   errors,   see
       https://www.kernel.org/doc/man-pages/reporting_bugs.html .

IEEE/The Open Group                                   2017                                           <u><a href="../man1POSIX/SET.1POSIX.html">SET</a></u>(1POSIX)
</pre>
 </div>
</div></section>
</div>
</body>
</html>