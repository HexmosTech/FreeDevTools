<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>This  manual  page  is part of the POSIX Programmer's Manual.  The Linux implementation of this interface</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/manpages-posix">manpages-posix_2017a-2_all</a> <br><br><pre>
</pre><h4><b>PROLOG</b></h4><pre>
       This  manual  page  is part of the POSIX Programmer's Manual.  The Linux implementation of this interface
       may differ (consult the corresponding Linux manual page for details of Linux behavior), or the  interface
       may not be implemented on Linux.

</pre><h4><b>NAME</b></h4><pre>
       xargs — construct argument lists and invoke utility

</pre><h4><b>SYNOPSIS</b></h4><pre>
       xargs <b>[</b>-ptx<b>]</b> <b>[</b>-E <u>eofstr</u><b>]</b> <b>[</b>-I <u>replstr</u>|-L <u>number</u>|-n <u>number</u><b>]</b>
           <b>[</b>-s <u>size</u><b>]</b> <b>[</b><u>utility</u> <b>[</b><u>argument</u>...<b>]]</b>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The  <u>xargs</u>  utility  shall  construct  a  command  line  consisting  of the <u>utility</u> and <u>argument</u> operands
       specified followed by as many arguments read in sequence from standard input as fit in length and  number
       constraints  specified  by  the options. The <u>xargs</u> utility shall then invoke the constructed command line
       and wait for its completion. This sequence shall be repeated until one of the following occurs:

        *  An end-of-file condition is detected on standard input.

        *  An argument consisting of just the logical end-of-file string (see the <b>-E</b> <u>eofstr</u> option) is found  on
           standard  input  after  double-quote  processing,  &lt;apostrophe&gt;  processing,  and  &lt;backslash&gt;-escape
           processing (see next paragraph). All arguments up to but not including  the  argument  consisting  of
           just the logical end-of-file string shall be used as arguments in constructed command lines.

        *  An invocation of a constructed command line returns an exit status of 255.

       The  application  shall  ensure  that  arguments  in the standard input are separated by unquoted &lt;blank&gt;
       characters, unescaped &lt;blank&gt; characters, or &lt;newline&gt; characters. A string of zero or  more  non-double-
       quote  (<b>'"'</b>)  characters and non-&lt;newline&gt; characters can be quoted by enclosing them in double-quotes. A
       string of zero or more non-&lt;apostrophe&gt; (<b>'\''</b>) characters and non-&lt;newline&gt; characters can be  quoted  by
       enclosing  them  in &lt;apostrophe&gt; characters. Any unquoted character can be escaped by preceding it with a
       &lt;backslash&gt;.  The utility named by <u>utility</u> shall be executed one or more times until the  end-of-file  is
       reached  or  the logical end-of file string is found. The results are unspecified if the utility named by
       <u>utility</u> attempts to read from its standard input.

       The generated command line length shall be the sum of the size in bytes of  the  utility  name  and  each
       argument  treated  as  strings,  including  a  null  byte terminator for each of these strings. The <u>xargs</u>
       utility shall limit the command line length such that when the command  line  is  invoked,  the  combined
       argument  and  environment  lists  (see  the  <u>exec</u> family of functions in the System Interfaces volume of
       POSIX.1‐2017) shall not exceed {ARG_MAX}-2048 bytes. Within this constraint, if neither the <b>-n</b> nor the <b>-s</b>
       option is specified, the default command line length shall be at least {LINE_MAX}.

</pre><h4><b>OPTIONS</b></h4><pre>
       The <u>xargs</u> utility shall conform to the Base Definitions volume of  POSIX.1‐2017,  <u>Section</u>  <u>12.2</u>,  <u>Utility</u>
       <u>Syntax</u> <u>Guidelines</u>.

       The following options shall be supported:

       <b>-E</b> <u>eofstr</u> Use <u>eofstr</u> as the logical end-of-file string. If <b>-E</b> is not specified, it is unspecified whether
                 the  logical  end-of-file  string is the &lt;underscore&gt; character (<b>'_'</b>) or the end-of-file string
                 capability is disabled. When  <u>eofstr</u>  is  the  null  string,  the  logical  end-of-file  string
                 capability shall be disabled and &lt;underscore&gt; characters shall be taken literally.

       <b>-I</b> <u>replstr</u>
                 Insert  mode:  <u>utility</u>  is executed for each logical line from standard input. Arguments in the
                 standard input shall be separated only  by  unescaped  &lt;newline&gt;  characters,  not  by  &lt;blank&gt;
                 characters.  Any  unquoted  unescaped &lt;blank&gt; characters at the beginning of each line shall be
                 ignored. The resulting argument shall be inserted in <u>arguments</u> in place of each  occurrence  of
                 <u>replstr</u>.   At  least  five  arguments  in  <u>arguments</u>  can each contain one or more instances of
                 <u>replstr</u>.  Each of these constructed arguments cannot grow larger than an implementation-defined
                 limit greater than or equal to 255 bytes. Option <b>-x</b> shall be forced on.

       <b>-L</b> <u>number</u> The <u>utility</u> shall be executed for each non-empty <u>number</u> lines of arguments from standard input.
                 The last invocation of <u>utility</u> shall be with fewer lines of  arguments  if  fewer  than  <u>number</u>
                 remain.  A  line is considered to end with the first &lt;newline&gt; unless the last character of the
                 line is an unescaped &lt;blank&gt;; a trailing unescaped &lt;blank&gt; signals  continuation  to  the  next
                 non-empty line, inclusive.

       <b>-n</b> <u>number</u> Invoke  <u>utility</u>  using  as  many standard input arguments as possible, up to <u>number</u> (a positive
                 decimal integer) arguments maximum. Fewer arguments shall be used if:

                  *  The command line length accumulated exceeds  the  size  specified  by  the  <b>-s</b>  option  (or
                     {LINE_MAX} if there is no <b>-s</b> option).

                  *  The last iteration has fewer than <u>number</u>, but not zero, operands remaining.

       <b>-p</b>        Prompt  mode:  the user is asked whether to execute <u>utility</u> at each invocation. Trace mode (<b>-t</b>)
                 is turned on to write the command instance to be executed, followed by  a  prompt  to  standard
                 error.  An  affirmative  response read from <b>/dev/tty</b> shall execute the command; otherwise, that
                 particular invocation of <u>utility</u> shall be skipped.

       <b>-s</b> <u>size</u>   Invoke <u>utility</u> using as many standard input arguments  as  possible  yielding  a  command  line
                 length less than <u>size</u> (a positive decimal integer) bytes. Fewer arguments shall be used if:

                  *  The total number of arguments exceeds that specified by the <b>-n</b> option.

                  *  The total number of lines exceeds that specified by the <b>-L</b> option.

                  *  End-of-file is encountered on standard input before <u>size</u> bytes are accumulated.

                 Values  of  <u>size</u>  up  to  at  least  {LINE_MAX}  bytes  shall  be  supported, provided that the
                 constraints specified in the DESCRIPTION are met. It shall not be  considered  an  error  if  a
                 value  larger  than that supported by the implementation or exceeding the constraints specified
                 in the DESCRIPTION is given;  <u>xargs</u>  shall  use  the  largest  value  it  supports  within  the
                 constraints.

       <b>-t</b>        Enable trace mode. Each generated command line shall be written to standard error just prior to
                 invocation.

       <b>-x</b>        Terminate  if a constructed command line will not fit in the implied or specified size (see the
                 <b>-s</b> option above).

</pre><h4><b>OPERANDS</b></h4><pre>
       The following operands shall be supported:

       <u>utility</u>   The name of the utility to be  invoked,  found  by  search  path  using  the  <u>PATH</u>  environment
                 variable,  described  in  the  Base  Definitions volume of POSIX.1‐2017, <u>Chapter</u> <u>8</u>, <u>Environment</u>
                 <u>Variables</u>.  If <u>utility</u> is omitted, the default shall  be  the  <u>echo</u>  utility.  If  the  <u>utility</u>
                 operand  names  any  of  the  special  built-in  utilities  in  <u>Section</u>  <u>2.14</u>, <u>Special</u> <u>Built-In</u>
                 <u>Utilities</u>, the results are undefined.

       <u>argument</u>  An initial option or operand for the invocation of <u>utility</u>.

</pre><h4><b>STDIN</b></h4><pre>
       The standard input shall be a text file. The results are  unspecified  if  an  end-of-file  condition  is
       detected immediately following an escaped &lt;newline&gt;.

</pre><h4><b>INPUT</b> <b>FILES</b></h4><pre>
       The file <b>/dev/tty</b> shall be used to read responses required by the <b>-p</b> option.

</pre><h4><b>ENVIRONMENT</b> <b>VARIABLES</b></h4><pre>
       The following environment variables shall affect the execution of <u>xargs</u>:

       <u>LANG</u>      Provide a default value for the internationalization variables that are unset or null. (See the
                 Base  Definitions  volume  of POSIX.1‐2017, <u>Section</u> <u>8.2</u>, <u>Internationalization</u> <u>Variables</u> for the
                 precedence  of  internationalization  variables  used  to  determine  the  values   of   locale
                 categories.)

       <u>LC_ALL</u>    If  set  to a non-empty string value, override the values of all the other internationalization
                 variables.

       <u>LC_COLLATE</u>
                 Determine the locale for the behavior  of  ranges,  equivalence  classes,  and  multi-character
                 collating  elements  used  in  the  extended  regular expression defined for the <b>yesexpr</b> locale
                 keyword in the <u>LC_MESSAGES</u> category.

       <u>LC_CTYPE</u>  Determine the locale for the interpretation of sequences of bytes of text  data  as  characters
                 (for example, single-byte as opposed to multi-byte characters in arguments and input files) and
                 the  behavior  of  character  classes  used  in the extended regular expression defined for the
                 <b>yesexpr</b> locale keyword in the <u>LC_MESSAGES</u> category.

       <u>LC_MESSAGES</u>
                 Determine the locale used to process affirmative responses, and the locale used to  affect  the
                 format and contents of diagnostic messages and prompts written to standard error.

       <u>NLSPATH</u>   Determine the location of message catalogs for the processing of <u>LC_MESSAGES</u>.

       <u>PATH</u>      Determine the location of <u>utility</u>, as described in the Base Definitions volume of POSIX.1‐2017,
                 <u>Chapter</u> <u>8</u>, <u>Environment</u> <u>Variables</u>.

</pre><h4><b>ASYNCHRONOUS</b> <b>EVENTS</b></h4><pre>
       Default.

</pre><h4><b>STDOUT</b></h4><pre>
       Not used.

</pre><h4><b>STDERR</b></h4><pre>
       The  standard  error shall be used for diagnostic messages and the <b>-t</b> and <b>-p</b> options. If the <b>-t</b> option is
       specified, the <u>utility</u> and its constructed argument list shall be written to standard error, as  it  will
       be  invoked,  prior  to invocation. If <b>-p</b> is specified, a prompt of the following format shall be written
       (in the POSIX locale):

           "?..."

       at the end of the line of the output from <b>-t</b>.

</pre><h4><b>OUTPUT</b> <b>FILES</b></h4><pre>
       None.

</pre><h4><b>EXTENDED</b> <b>DESCRIPTION</b></h4><pre>
       None.

</pre><h4><b>EXIT</b> <b>STATUS</b></h4><pre>
       The following exit values shall be returned:

           0   All invocations of <u>utility</u> returned exit status zero.

       1‐125   A command line meeting the specified requirements could not be assembled,  one  or  more  of  the
               invocations of <u>utility</u> returned a non-zero exit status, or some other error occurred.

         126   The utility specified by <u>utility</u> was found but could not be invoked.

         127   The utility specified by <u>utility</u> could not be found.

</pre><h4><b>CONSEQUENCES</b> <b>OF</b> <b>ERRORS</b></h4><pre>
       If  a command line meeting the specified requirements cannot be assembled, the utility cannot be invoked,
       an invocation of the utility is terminated by a signal, or an invocation of the utility exits  with  exit
       status  255, the <u>xargs</u> utility shall write a diagnostic message and exit without processing any remaining
       input.

       <u>The</u> <u>following</u> <u>sections</u> <u>are</u> <u>informative.</u>

</pre><h4><b>APPLICATION</b> <b>USAGE</b></h4><pre>
       The 255 exit status allows a utility being used by <u>xargs</u> to tell  <u>xargs</u>  to  terminate  if  it  knows  no
       further invocations using the current data stream will succeed. Thus, <u>utility</u> should explicitly <u>exit</u> with
       an appropriate value to avoid accidentally returning with 255.

       Note  that  since  input  is  parsed  as  lines,  &lt;blank&gt; characters separate arguments, and &lt;backslash&gt;,
       &lt;apostrophe&gt;, and double-quote characters are used for quoting, if <u>xargs</u> is used to bundle the output  of
       commands  like  <u>find</u>  <u>dir</u> <b>-print</b> or <u>ls</u> into commands to be executed, unexpected results are likely if any
       filenames contain &lt;blank&gt;, &lt;newline&gt;, or quoting characters. This can be solved by using find to  call  a
       script  that converts each file found into a quoted string that is then piped to <u>xargs</u>, but in most cases
       it is preferable just to have <u>find</u> do  the  argument  aggregation  itself  by  using  <b>-exec</b>  with  a  <b>'+'</b>
       terminator  instead  of <b>';'</b>.  Note that the quoting rules used by <u>xargs</u> are not the same as in the shell.
       They were not made consistent here because existing applications depend on the  current  rules.  An  easy
       (but  inefficient)  method that can be used to transform input consisting of one argument per line into a
       quoted form  that  <u>xargs</u>  interprets  correctly  is  to  precede  each  non-&lt;newline&gt;  character  with  a
       &lt;backslash&gt;.  More efficient alternatives are shown in Example 2 and Example 5 below.

       On  implementations  with  a  large  value  for  {ARG_MAX},  <u>xargs</u>  may produce command lines longer than
       {LINE_MAX}.  For invocation of utilities, this is not a problem. If <u>xargs</u> is being used to create a  text
       file, users should explicitly set the maximum command line length with the <b>-s</b> option.

       The  <u>command</u>,  <u>env</u>, <u>nice</u>, <u>nohup</u>, <u>time</u>, and <u>xargs</u> utilities have been specified to use exit code 127 if an
       error occurs so that applications can distinguish ``failure to find a utility''  from  ``invoked  utility
       exited  with  an  error  indication''. The value 127 was chosen because it is not commonly used for other
       meanings; most utilities use small values for ``normal error conditions'' and the values above 128 can be
       confused with termination due to receipt of a signal. The value 126 was chosen in  a  similar  manner  to
       indicate that the utility could be found, but not invoked. Some scripts produce meaningful error messages
       differentiating  the  126  and  127  cases.  The  distinction  between exit codes 126 and 127 is based on
       KornShell practice that uses 127 when all attempts to <u>exec</u> the utility fail with <b>[ENOENT]</b>, and  uses  126
       when any attempt to <u>exec</u> the utility fails for any other reason.

</pre><h4><b>EXAMPLES</b></h4><pre>
        1. The  following  command  combines  the  output  of the parenthesized commands (minus the &lt;apostrophe&gt;
           characters) onto one line, which is then appended to the file log. It assumes that the  expansion  of
           <b>"$0</b>$*" does not include any &lt;apostrophe&gt; or &lt;newline&gt; characters.

               (logname; date; printf "'%s'\n$0 $*") | xargs -E "" &gt;&gt;log

        2. The  following  command  invokes  <u>diff</u> with successive pairs of arguments originally typed as command
           line arguments. It assumes there are no embedded &lt;newline&gt; characters in the elements of the original
           argument list.

               printf "%s\n$@" | sed 's/[^[:alnum:]]/\\&amp;/g' |
                   xargs -E "" -n 2 -x diff

        3. In the following commands, the user  is  asked  which  files  in  the  current  directory  (excluding
           dotfiles)  are  to  be  archived.  The files are archived into <b>arch</b>; <u>a</u>, one at a time or <u>b</u>, many at a
           time. The commands assume that no filenames contain &lt;blank&gt;, &lt;newline&gt;, &lt;backslash&gt;, &lt;apostrophe&gt;, or
           double-quote characters.

               a. ls | xargs -E "" -p -L 1 ar -r arch

               b. ls | xargs -E "" -p -L 1 | xargs -E "" ar -r arch

        4. The following command invokes <u>command1</u> one or more times with  multiple  arguments,  stopping  if  an
           invocation of <u>command1</u> has a non-zero exit status.

               xargs -E "" sh -c 'command1 "$@" || exit 255' sh &lt; xargs_input

        5. On  XSI-conformant  systems, the following command moves all files from directory <b>$1</b> to directory <b>$2</b>,
           and echoes each move command just  before  doing  it.  It  assumes  no  filenames  contain  &lt;newline&gt;
           characters and that neither <b>$1</b> nor <b>$2</b> contains the sequence <b>"{}"</b>.

               ls -A "$1" | sed -e 's/"/"\\""/g' -e 's/.*/"&amp;"/' |
                   xargs -E "" -I {} -t mv "$1"/{} "$2"/{}

</pre><h4><b>RATIONALE</b></h4><pre>
       The <u>xargs</u> utility was usually found only in System V-based systems; BSD systems included an <u>apply</u> utility
       that  provided  functionality similar to <u>xargs</u> <b>-n</b> <u>number</u>.  The SVID lists <u>xargs</u> as a software development
       extension. This volume of POSIX.1‐2017 does not share the view that it is used only for development,  and
       therefore it is not optional.

       The classic application of the <u>xargs</u> utility is in conjunction with the <u>find</u> utility to reduce the number
       of  processes  launched by a simplistic use of the <u>find</u> <b>-exec</b> combination. The <u>xargs</u> utility is also used
       to enforce an upper limit on memory required to launch a process. With this basis in mind, this volume of
       POSIX.1‐2017 selected only the minimal features required.

       Although the 255 exit status is mostly an accident of historical implementations,  it  allows  a  utility
       being  used by <u>xargs</u> to tell <u>xargs</u> to terminate if it knows no further invocations using the current data
       stream shall succeed. Any non-zero exit status from a utility falls  into  the  1‐125  range  when  <u>xargs</u>
       exits.  There  is  no  statement of how the various non-zero utility exit status codes are accumulated by
       <u>xargs</u>.  The value could be the addition of all codes, their highest value, the last one  received,  or  a
       single  value  such  as  1.  Since no algorithm is arguably better than the others, and since many of the
       standard utilities say little more (portably) than ``pass/fail'', no new algorithm was invented.

       Several other <u>xargs</u> options were removed because simple alternatives already exist within this volume  of
       POSIX.1‐2017.  For  example, the <b>-i</b> <u>replstr</u> option can be just as efficiently performed using a shell <b>for</b>
       loop. Since <u>xargs</u> calls an <u>exec</u> function with each input line, the <b>-i</b> option does not usually exploit the
       grouping capabilities of <u>xargs</u>.

       The requirement that <u>xargs</u> never produces command lines such that invocation of <u>utility</u>  is  within  2048
       bytes  of  hitting the POSIX <u>exec</u> {ARG_MAX} limitations is intended to guarantee that the invoked utility
       has room to modify its environment variables and command line arguments  and  still  be  able  to  invoke
       another  utility. Note that the minimum {ARG_MAX} allowed by the System Interfaces volume of POSIX.1‐2017
       is 4096 bytes and the minimum value allowed by this volume of POSIX.1‐2017 is 2048 bytes; therefore,  the
       2048  bytes  difference seems reasonable. Note, however, that <u>xargs</u> may never be able to invoke a utility
       if the environment passed in to <u>xargs</u> comes close to using {ARG_MAX} bytes.

       The version of <u>xargs</u> required by this volume of POSIX.1‐2017 is required to wait for  the  completion  of
       the invoked command before invoking another command. This was done because historical scripts using <u>xargs</u>
       assumed  sequential  execution.  Implementations  wanting  to  provide  parallel operation of the invoked
       utilities are encouraged to add an option  enabling  parallel  invocation,  but  should  still  wait  for
       termination of all of the children before <u>xargs</u> terminates normally.

       The  <b>-e</b>  option  was  omitted  from  the  ISO POSIX‐2:1993 standard in the belief that the <u>eofstr</u> option-
       argument was recognized only when it was on a line by itself and before quote and escape processing  were
       performed,  and that the logical end-of-file processing was only enabled if a <b>-e</b> option was specified. In
       that case, a simple <u>sed</u> script could be used to duplicate the  <b>-e</b>  functionality.  Further  investigation
       revealed that:

        *  The logical end-of-file string was checked for after quote and escape processing, making a <u>sed</u> script
           that provided equivalent functionality much more difficult to write.

        *  The default was to perform logical end-of-file processing with an &lt;underscore&gt; as the logical end-of-
           file string.

       To  correct  this  misunderstanding,  the <b>-E</b> <u>eofstr</u> option was adopted from the X/Open Portability Guide.
       Users should note that the description of the <b>-E</b> option matches historical documentation of the <b>-e</b> option
       (which was not adopted because it did not support the Utility  Syntax  Guidelines),  by  saying  that  if
       <u>eofstr</u>  is  the  null  string, logical end-of-file processing is disabled.  Historical implementations of
       <u>xargs</u> actually did not disable logical end-of-file processing; they treated a null argument found in  the
       input as a logical end-of-file string. (A null <u>string</u> argument could be generated using single or double-
       quotes (<b>''</b> or <b>""</b>).  Since this behavior was not documented historically, it is considered to be a bug.

       The  <b>-I</b>,  <b>-L</b>,  and  <b>-n</b> options are mutually-exclusive. Some implementations use the last one specified if
       more than one is given on a command line; other implementations treat  combinations  of  the  options  in
       different ways.

</pre><h4><b>FUTURE</b> <b>DIRECTIONS</b></h4><pre>
       None.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <u>Chapter</u> <u>2</u>, <u>Shell</u> <u>Command</u> <u>Language</u>, <u>diff</u>, <u>echo</u>, <u>find</u>

       The  Base  Definitions  volume  of  POSIX.1‐2017, <u>Chapter</u> <u>8</u>, <u>Environment</u> <u>Variables</u>, <u>Section</u> <u>12.2</u>, <u>Utility</u>
       <u>Syntax</u> <u>Guidelines</u>

       The System Interfaces volume of POSIX.1‐2017, <u>exec</u>

</pre><h4><b>COPYRIGHT</b></h4><pre>
       Portions of this text are reprinted and reproduced in electronic form from IEEE Std 1003.1-2017, Standard
       for Information  Technology  --  Portable  Operating  System  Interface  (POSIX),  The  Open  Group  Base
       Specifications  Issue  7, 2018 Edition, Copyright (C) 2018 by the Institute of Electrical and Electronics
       Engineers, Inc and The Open Group.  In the event of any discrepancy between this version and the original
       IEEE and The Open Group Standard, the original IEEE and The Open Group Standard is the referee  document.
       The original Standard can be obtained online at <a href="http://www.opengroup.org/unix/online.html">http://www.opengroup.org/unix/online.html</a> .

       Any  typographical  or formatting errors that appear in this page are most likely to have been introduced
       during  the  conversion  of  the  source  files  to  man  page  format.  To  report  such   errors,   see
       https://www.kernel.org/doc/man-pages/reporting_bugs.html .

IEEE/The Open Group                                   2017                                         <u><a href="../man1POSIX/XARGS.1POSIX.html">XARGS</a></u>(1POSIX)
</pre>
 </div>
</div></section>
</div>
</body>
</html>