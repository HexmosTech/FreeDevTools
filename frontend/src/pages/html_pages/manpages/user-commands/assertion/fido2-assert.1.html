<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>fido2-assert — get/verify a FIDO2 assertion</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/fido2-tools">fido2-tools_1.15.0-1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       fido2-assert — get/verify a FIDO2 assertion

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>fido2-assert</b> <b>-G</b> [<b>-bdhpruvw</b>] [<b>-t</b> <u>option</u>] [<b>-i</b> <u>input_file</u>] [<b>-o</b> <u>output_file</u>] <u>device</u>
       <b>fido2-assert</b> <b>-V</b> [<b>-dhpv</b>] [<b>-i</b> <u>input_file</u>] <u>key_file</u> [<u>type</u>]

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>fido2-assert</b> gets or verifies a FIDO2 assertion.

       The input of <b>fido2-assert</b> is defined by the parameters of the assertion to be obtained/verified.  See the
       “INPUT FORMAT” section for details.

       The  output  of <b>fido2-assert</b> is defined by the result of the selected operation.  See the “OUTPUT FORMAT”
       section for details.

       If an assertion is successfully obtained or verified,  <b>fido2-assert</b>  exits  0.   Otherwise,  <b>fido2-assert</b>
       exits 1.

       The options are as follows:

       <b>-G</b>      Tells <b>fido2-assert</b> to obtain a new assertion from <u>device</u>.

       <b>-V</b>      Tells  <b>fido2-assert</b>  to  verify an assertion using the PEM-encoded public key in <u>key_file</u> of type
               <u>type</u>, where <u>type</u> may be <u>es256</u> (denoting ECDSA over NIST  P-256  with  SHA-256),  <u>rs256</u>  (denoting
               2048-bit  RSA  with  PKCS#1.5 padding and SHA-256), or <u>eddsa</u> (denoting EDDSA over Curve25519 with
               SHA-512).  If <u>type</u> is not specified, <u>es256</u> is assumed.

       <b>-b</b>      Request the credential's “largeBlobKey”, a 32-byte symmetric key  associated  with  the  asserted
               credential.

       <b>-h</b>      If  obtaining  an  assertion, enable the FIDO2 hmac-secret extension.  If verifying an assertion,
               check whether the extension data bit was signed by the authenticator.

       <b>-d</b>      Causes <b>fido2-assert</b> to emit debugging output on <u>stderr</u>.

       <b>-i</b> <u>input_file</u>
               Tells <b>fido2-assert</b> to read the parameters of the assertion from <u>input_file</u> instead of <u>stdin</u>.

       <b>-o</b> <u>output_file</u>
               Tells <b>fido2-assert</b> to write output on <u>output_file</u> instead of <u>stdout</u>.

       <b>-p</b>      If obtaining an assertion, request user presence.  If verifying an assertion, check  whether  the
               user presence bit was signed by the authenticator.

       <b>-r</b>      Obtain  an  assertion  using  a  resident  credential.  If <b>-r</b> is specified, <b>fido2-assert</b> will not
               expect a credential id in its input, and may output multiple  assertions.   Resident  credentials
               are called “discoverable credentials” in CTAP 2.1.

       <b>-t</b> <u>option</u>
               Toggles  a  key/value  <u>option</u>,  where  <u>option</u>  is  a string of the form “key=value”.  The options
               supported at present are:

               <b>up</b>=<u>true|false</u>
                       Asks the authenticator for user presence to be enabled or disabled.

               <b>uv</b>=<u>true|false</u>
                       Asks the authenticator for user verification to be enabled or disabled.

               <b>pin</b>=<u>true|false</u>
                       Tells <b>fido2-assert</b> whether to prompt for a PIN and request user verification.

               The <b>-t</b> option may be specified multiple times.

       <b>-u</b>      Obtain an assertion using U2F.  By default, <b>fido2-assert</b> will  use  FIDO2  if  supported  by  the
               authenticator, and fallback to U2F otherwise.

       <b>-v</b>      If  obtaining  an  assertion,  prompt  the  user for a PIN and request user verification from the
               authenticator.  If verifying an assertion, check whether the user verification bit was signed  by
               the authenticator.

       <b>-w</b>      Tells  <b>fido2-assert</b> that the first line of input when obtaining an assertion shall be interpreted
               as unhashed client data.  This is required by Windows Hello, which  calculates  the  client  data
               hash internally.

       If a <u>tty</u> is available, <b>fido2-assert</b> will use it to obtain the PIN.  Otherwise, <u>stdin</u> is used.

</pre><h4><b>INPUT</b> <b>FORMAT</b></h4><pre>
       The  input  of  <b>fido2-assert</b>  consists  of base64 blobs and UTF-8 strings separated by newline characters
       ('\n').

       When obtaining an assertion, <b>fido2-assert</b> expects its input to consist of:

             1.   client data hash (base64 blob);
             2.   relying party id (UTF-8 string);
             3.   credential id, if credential not resident (base64 blob);
             4.   hmac salt, if the FIDO2 hmac-secret extension is enabled (base64 blob);

       When verifying an assertion, <b>fido2-assert</b> expects its input to consist of:

             1.   client data hash (base64 blob);
             2.   relying party id (UTF-8 string);
             3.   authenticator data (base64 blob);
             4.   assertion signature (base64 blob);

       UTF-8 strings passed to <b>fido2-assert</b> must not contain embedded newline or NUL characters.

</pre><h4><b>OUTPUT</b> <b>FORMAT</b></h4><pre>
       The output of <b>fido2-assert</b> consists of base64 blobs and UTF-8 strings  separated  by  newline  characters
       ('\n').

       For each generated assertion, <b>fido2-assert</b> outputs:

             1.   client data hash (base64 blob);
             2.   relying party id (UTF-8 string);
             3.   authenticator data (base64 blob);
             4.   assertion signature (base64 blob);
             5.   user id, if credential resident (base64 blob);
             6.   hmac secret, if the FIDO2 hmac-secret extension is enabled (base64 blob);
             7.   the  credential's  associated  32-byte  symmetric  key  (“largeBlobKey”), if requested (base64
                  blob).

       When verifying an assertion, <b>fido2-assert</b> produces no output.

</pre><h4><b>EXAMPLES</b></h4><pre>
       Assuming <u>cred</u> contains a <u>es256</u> credential created according  to  the  steps  outlined  in  <u><a href="../man1/fido2-cred.1.html">fido2-cred</a></u>(1),
       obtain an assertion from an authenticator at <u>/dev/hidraw5</u> and verify it:

             <b>$</b> <b>echo</b> <b>assertion</b> <b>challenge</b> | <b>openssl</b> <b>sha256</b> <b>-binary</b> | <b>base64</b> <b>&gt;</b> <b>assert_param</b>
             <b>$</b> <b>echo</b> <b>relying</b> <b>party</b> <b>&gt;&gt;</b> <b>assert_param</b>
             <b>$</b> <b>head</b> <b>-1</b> <b>cred</b> <b>&gt;&gt;</b> <b>assert_param</b>
             <b>$</b> <b>tail</b> <b>-n</b> <b>+2</b> <b>cred</b> <b>&gt;</b> <b>pubkey</b>
             <b>$</b> <b>fido2-assert</b> <b>-G</b> <b>-i</b> <b>assert_param</b> <b>/dev/hidraw5</b> | <b>fido2-assert</b> <b>-V</b> <b>pubkey</b> <b>es256</b>

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <u><a href="../man1/fido2-cred.1.html">fido2-cred</a></u>(1), <u><a href="../man1/fido2-token.1.html">fido2-token</a></u>(1)

Debian                                            July 3, 2023                                   <u><a href="../man1/FIDO2-ASSERT.1.html">FIDO2-ASSERT</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>