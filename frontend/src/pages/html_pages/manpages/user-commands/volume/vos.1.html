<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>vos - Introduction to the vos command suite</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/openafs-client">openafs-client_1.8.13.2-1ubuntu1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       vos - Introduction to the vos command suite

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The commands in the <b>vos</b> command suite are the administrative interface to the Volume Server and Volume
       Location (VL) Server. System administrators use <b>vos</b> commands to create, move, delete, replicate, back up
       and examine volumes, among other operations. The VL Server automatically records in the Volume Location
       Database (VLDB) changes in volume status and location that result from <b>vos</b> commands.

       The operations invoked by most <b>vos</b> commands are idempotent, meaning that if an operation is interrupted
       by a network, server machine, or process outage, then a subsequent attempt at the same operation
       continues from the interruption point, rather than starting over at the beginning of the operation.
       Before executing a command, the Volume and VL Servers check the current state of the volumes and VLDB
       records to be altered by the command. If they are already in the desired end state (or a consistent
       intermediate state), there is no need to repeat the internal steps that brought them there. Idempotency
       does not apply if the command issuer explicitly interrupts the operation with the Ctrl-C command or
       another interrupt signal. In that case, the volume is left locked and the administrator must use the <b>vos</b>
       <b>unlock</b> command to unlock it before proceeding.

       It is important that the VLDB accurately indicate the status of the volumes on file server machines at
       all times. <b><a href="../man5/vldb.DB0.5.html">vldb.DB0</a></b>(5) and <b><a href="../man5/afs_volume_header.5.html">afs_volume_header</a></b>(5) describe the information recorded in the VLDB and volume
       headers, respectively. If a <b>vos</b> command changes volume status, it automatically records the change in the
       corresponding VLDB entry. The most common cause of discrepancies between the VLDB and volume status on
       file server machines is interrupted operations; to restore consistency, use the <b>vos</b> <b>syncserv</b> and <b>vos</b>
       <b>syncvldb</b> commands.

       There are several categories of commands in the vos command suite:

       •   Commands  to  create, move, and rename volumes: <b>vos</b> <b>backup</b>, <b>vos</b> <b>backupsys</b>, <b>vos</b> <b>changeloc</b>, <b>vos</b> <b>create</b>,
           <b>vos</b> <b>move</b>, and <b>vos</b> <b>rename</b>.

       •   Commands to remove VLDB volume records or volumes or both: <b>vos</b> <b>delentry</b>, <b>vos</b> <b>remove</b>, and <b>vos</b> <b>zap</b>.

       •   Commands to edit or display VLDB server entries: <b>vos</b> <b>changeaddr</b>, <b>vos</b> <b>listaddrs</b> <b>vos</b> <b>setaddrs</b>, and  <b>vos</b>
           <b>remaddrs</b>.

       •   Commands to create, size, and restore dump files: <b>vos</b> <b>dump</b>, <b>vos</b> <b>restore</b>, and <b>vos</b> <b>size</b>.

       •   Commands to administer replicated volumes: <b>vos</b> <b>addsite</b>, <b>vos</b> <b>release</b>, and <b>vos</b> <b>remsite</b>.

       •   Commands  to  display  VLDB  records,  volume  headers,  or  both: <b>vos</b> <b>examine</b>, <b>vos</b> <b>listvldb</b>, and <b>vos</b>
           <b>listvol</b>.

       •   Commands to display information about partitions that house volumes: <b>vos</b> <b>listpart</b> and <b>vos</b> <b>partinfo</b>.

       •   Commands to restore consistency between the VLDB and volume headers: <b>vos</b> <b>syncserv</b> and <b>vos</b> <b>syncvldb</b>.

       •   Commands to lock and unlock VLDB entries: <b>vos</b> <b>lock</b>, <b>vos</b> <b>unlock</b>, and <b>vos</b> <b>unlockvldb</b>.

       •   A command to report Volume Server status: <b>vos</b> <b>status</b>.

       •   A command to end Volume Server transactions: <b>vos</b> <b>endtrans</b>.

       •   A command to change volume fields: <b>vos</b> <b>setfields</b>.

       •   Commands to obtain help: <b>vos</b> <b>apropos</b> and <b>vos</b> <b>help</b>.

</pre><h4><b>CAUTIONS</b></h4><pre>
       Currently, the maximum quota for a volume is 2 terabytes (2^41 bytes). Note that this  only  affects  the
       volume's  quota;  a  volume may grow much larger if the volume quota is disabled. However, volumes over 2
       terabytes in size may be impractical to move, and may have their size incorrectly reported by some tools,
       such as <b><a href="../man1/fs_listquota.1.html">fs_listquota</a></b>(1).

</pre><h4><b>OPTIONS</b></h4><pre>
       The following arguments and flags are available on many commands in the <b>vos</b> suite. The reference page for
       each command also lists them, but they are described here in greater detail.

       <b>-cell</b> &lt;<u>cell</u> <u>name</u>&gt;
           Names the cell in which to run the command. It is acceptable to  abbreviate  the  cell  name  to  the
           shortest form that distinguishes it from the other entries in the <u>/etc/openafs/CellServDB</u> file on the
           local  machine.  If the <b>-cell</b> argument is omitted, the command interpreter determines the name of the
           local cell by reading the following in order:

           •   The value of the AFSCELL environment variable.

           •   The local <u>/etc/openafs/ThisCell</u> file.

           •   The local <u>/etc/openafs/server/ThisCell</u> file.

           Do not combine the <b>-cell</b> and <b>-localauth</b> options. A command on which the <b>-localauth</b> flag  is  included
           always  runs in the local cell (as defined in the server machine's local <u>/etc/openafs/server/ThisCell</u>
           file), whereas a command on which the <b>-cell</b> argument is included runs in the specified foreign cell.

       <b>-config</b> &lt;<u>config</u> <u>directory</u>&gt;
           The location of the directory to use to obtain configuration information, including  the  CellServDB.
           This  is  primarily  provided  for  testing  purposes.   If  the <b>-config</b> and <b>-localauth</b> arguments are
           omitted, the command interpreter searches for the configuration information in the following order:

           •   The <u>/etc/openafs</u> directory.

           •   The <u>/etc/openafs/server</u> directory.

       <b>-help</b>
           Prints a command's online help message on the standard output stream. Do not combine this  flag  with
           any  of  the  command's other options; when it is provided, the command interpreter ignores all other
           options, and only prints the help message.

       <b>-localauth</b>
           Constructs a server ticket using the server encryption key with the highest key version number in the
           local <u>/etc/openafs/server/KeyFile</u> file. The <b>vos</b> command interpreter presents the ticket, which  never
           expires, to the Volume Server and VL Server during mutual authentication.

           Use  this flag only when issuing a command on a server machine; client machines do not usually have a
           <u>/etc/openafs/server/KeyFile</u> file.  The issuer of a command that includes this flag must be logged  on
           to  the  server  machine as the local superuser "root". The flag is useful for commands invoked by an
           unattended application program, such as a process controlled by the UNIX <b>cron</b> utility or  by  a  cron
           entry  in  the machine's <u>/etc/openafs/BosConfig</u> file. It is also useful if an administrator is unable
           to authenticate to AFS but is logged in as the local superuser <b>root</b>.

           Do not combine the <b>-cell</b> and <b>-localauth</b> options. A command on which the <b>-localauth</b> flag  is  included
           always  runs in the local cell (as defined in the server machine's local <u>/etc/openafs/server/ThisCell</u>
           file), whereas a command on which the <b>-cell</b> argument is included runs in the specified foreign  cell.
           Also, do not combine the <b>-localauth</b> and <b>-noauth</b> flags.

       <b>-noauth</b>
           Establishes  an  unauthenticated  connection to the Volume Server and VL Server, in which the servers
           treat the issuer as the unprivileged user "anonymous". It is useful only when authorization  checking
           is  disabled  on the server machine (during the installation of a file server machine or when the <b>bos</b>
           <b>setauth</b> command has been used during other  unusual  circumstances).  In  normal  circumstances,  the
           servers  allow  only  privileged  users  to issue commands that change the status of a volume or VLDB
           record, and refuses to perform such an action even if the <b>-noauth</b> flag is provided.  Do  not  combine
           the <b>-noauth</b> and <b>-localauth</b> flags.

       <b>-partition</b> &lt;<u>partition</u> <u>name</u>&gt;
           Identifies the AFS server partition on a file server machine that houses, or is to house, the volumes
           of  interest,  or  about  which  to  list information. The <b>vos</b> command interpreter accepts any of the
           following four name formats:

              /vicepa     =     vicepa      =      a      =      0
              /vicepb     =     vicepb      =      b      =      1

           After /vicepz (for which the index is 25) comes

              /vicepaa    =     vicepaa     =      aa     =      26
              /vicepab    =     vicepab     =      ab     =      27

           and so on through

              /vicepiv    =     vicepiv     =      iv     =      255

           The <b>-frompartition</b> and <b>-topartition</b> arguments to the <b>vos</b> <b>move</b> command also accept this notation.

       <b>-server</b> &lt;<u>machine</u> <u>name</u>&gt;
           Identifies the file server machine that houses, or is to house, the volumes or AFS server  partitions
           of interest. Provide the machine's IP address in dotted decimal format, its fully qualified host name
           (for   example,  "fs1.example.com"),  or  the  shortest  abbreviated  form  of  its  host  name  that
           distinguishes it from  other  machines.  Successful  use  of  an  abbreviated  form  depends  on  the
           availability  of a name resolution service (such as the Domain Name Service or a local host table) at
           the time the command is issued.

           The <b>-fromserver</b> and <b>-toserver</b> arguments to the <b>vos</b> <b>move</b> command also accept these name formats.

       <b>-noresolve</b>
           Shows all servers as IP addresses instead of the DNS name.  This  is  very  useful  when  the  server
           address is registered as 127.0.0.1 or when dealing with multi-homed servers. The <b>-noresolve</b> option is
           available in OpenAFS versions 1.4.8 or later and 1.5.35 or later.

       <b>-verbose</b>
           Produces  on the standard output stream a detailed trace of the command's execution. If this argument
           is omitted, only warnings and error messages appear.

</pre><h4><b>PRIVILEGE</b> <b>REQUIRED</b></h4><pre>
       To issue most vos commands, the issuer must be listed in the <u>/etc/openafs/server/UserList</u>  file  on  each
       server  machine  that  houses or is to house an affected volume, and on each database server machine. The
       most predictable performance results if all database server and file server machines in the cell share  a
       common <u>UserList</u> file.  Alternatively, if the <b>-localauth</b> flag is included, the issuer must be logged on to
       a server machine as the local superuser "root".

       To issue a vos command that only displays information, no privilege is required.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man1/vos_addsite.1.html">vos_addsite</a></b>(1), <b><a href="../man1/vos_apropos.1.html">vos_apropos</a></b>(1), <b><a href="../man1/vos_backup.1.html">vos_backup</a></b>(1), <b><a href="../man1/vos_backupsys.1.html">vos_backupsys</a></b>(1), <b><a href="../man1/vos_changeaddr.1.html">vos_changeaddr</a></b>(1), <b><a href="../man1/vos_convertROtoRW.1.html">vos_convertROtoRW</a></b>(1),
       <b><a href="../man1/vos_clone.1.html">vos_clone</a></b>(1),  <b><a href="../man1/vos_copy.1.html">vos_copy</a></b>(1), <b><a href="../man1/vos_create.1.html">vos_create</a></b>(1), <b><a href="../man1/vos_delentry.1.html">vos_delentry</a></b>(1), <b><a href="../man1/vos_dump.1.html">vos_dump</a></b>(1), <b><a href="../man1/vos_endtrans.1.html">vos_endtrans</a></b>(1), <b><a href="../man1/vos_examine.1.html">vos_examine</a></b>(1),
       <b><a href="../man1/vos_help.1.html">vos_help</a></b>(1),   <b><a href="../man1/vos_listaddrs.1.html">vos_listaddrs</a></b>(1),   <b><a href="../man1/vos_listpart.1.html">vos_listpart</a></b>(1),   <b><a href="../man1/vos_listvldb.1.html">vos_listvldb</a></b>(1),    <b><a href="../man1/vos_listvol.1.html">vos_listvol</a></b>(1),    <b><a href="../man1/vos_lock.1.html">vos_lock</a></b>(1),
       <b><a href="../man1/vos_move.1.html">vos_move</a></b>(1),    <b><a href="../man1/vos_partinfo.1.html">vos_partinfo</a></b>(1),    <b><a href="../man1/vos_release.1.html">vos_release</a></b>(1),    <b><a href="../man1/vos_remove.1.html">vos_remove</a></b>(1),    <b><a href="../man1/vos_remsite.1.html">vos_remsite</a></b>(1),   <b><a href="../man1/vos_rename.1.html">vos_rename</a></b>(1),
       <b><a href="../man1/vos_restore.1.html">vos_restore</a></b>(1),   <b><a href="../man1/vos_setfields.1.html">vos_setfields</a></b>(1),   <b><a href="../man1/vos_shadow.1.html">vos_shadow</a></b>(1),   <b><a href="../man1/vos_size.1.html">vos_size</a></b>(1),    <b><a href="../man1/vos_status.1.html">vos_status</a></b>(1),    <b><a href="../man1/vos_syncserv.1.html">vos_syncserv</a></b>(1),
       <b><a href="../man1/vos_syncvldb.1.html">vos_syncvldb</a></b>(1), <b><a href="../man1/vos_unlock.1.html">vos_unlock</a></b>(1), <b><a href="../man1/vos_unlockvldb.1.html">vos_unlockvldb</a></b>(1), <b><a href="../man1/vos_zap.1.html">vos_zap</a></b>(1), <b><a href="../man5/CellServDB.5.html">CellServDB</a></b>(5), <b><a href="../man5/UserList.5.html">UserList</a></b>(5)

</pre><h4><b>COPYRIGHT</b></h4><pre>
       IBM Corporation 2000. &lt;<a href="http://www.ibm.com/">http://www.ibm.com/</a>&gt; All Rights Reserved.

       This  documentation  is covered by the IBM Public License Version 1.0.  It was converted from HTML to POD
       by software written by Chas Williams and Russ Allbery, based on  work  by  Alf  Wachsmann  and  Elizabeth
       Cassell.

OpenAFS                                            2025-03-21                                             <u><a href="../man1/VOS.1.html">VOS</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>