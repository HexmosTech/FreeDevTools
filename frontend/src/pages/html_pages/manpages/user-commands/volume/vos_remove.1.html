<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>vos_remove - Removes a volume from a site</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/openafs-client">openafs-client_1.8.13.2-1ubuntu1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       vos_remove - Removes a volume from a site

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>vos</b> <b>remove</b> [<b>-server</b> &lt;<u>machine</u> <u>name</u>&gt;]
           [<b>-partition</b> &lt;<u>partition</u> <u>name</u>&gt;]
           <b>-id</b> &lt;<u>volume</u> <u>name</u> <u>or</u> <u>ID</u>&gt;
           [<b>-cell</b> &lt;<u>cell</u> <u>name</u>&gt;]
           [<b>-noauth</b>] [<b>-localauth</b>]
           [<b>-verbose</b>] [<b>-encrypt</b>] [<b>-noresolve</b>]
           [<b>-config</b> &lt;<u>config</u> <u>directory</u>&gt;]
           [<b>-help</b>]

       <b>vos</b> <b>remo</b> [<b>-s</b> &lt;<u>machine</u> <u>name</u>&gt;]
           [<b>-p</b> &lt;<u>partition</u> <u>name</u>&gt;]
           <b>-i</b> &lt;<u>volume</u> <u>name</u> <u>or</u> <u>ID</u>&gt;
           [<b>-c</b> &lt;<u>cell</u> <u>name</u>&gt;]
           [<b>-noa</b>] [<b>-l</b>] [<b>-v</b>] [<b>-e</b>] [<b>-nor</b>]
           [<b>-co</b> &lt;<u>config</u> <u>directory</u>&gt;]
           [<b>-h</b>]

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The <b>vos</b> <b>remove</b> command removes the indicated volume from the partition on which it resides. The Volume
       Location Database (VLDB) record is altered appropriately, as described in the following paragraphs. Use
       this command to remove any of the three types of volumes; the effect depends on the type.

       •   If  the <b>-id</b> argument names the read/write volume (that is, specifies the volume's base name), both it
           and the associated backup volume are removed from the partition that houses  them.  The  <b>-server</b>  and
           <b>-partition</b>  arguments are optional, because there can be only one read/write site. When the volume is
           removed, the site information is also removed from the VLDB entry. The read/write and  backup  volume
           ID numbers no longer appear in the output from the <b>vos</b> <b>listvldb</b> or <b>vos</b> <b>examine</b> commands, but they are
           preserved  internally.  Read-only  sites,  if  any,  are not affected, but cannot be changed unless a
           read/write site is again defined. The site count  reported  by  the  <b>vos</b>  <b>examine</b>  and  <b>vos</b>  <b>listvldb</b>
           commands  as  "number  of  sites" decrements by one. The entire VLDB entry is removed if there are no
           read-only sites.

       •   If the <b>-id</b> argument names a read-only volume, it is removed from the partition that  houses  it,  and
           the corresponding site information is removed from the VLDB entry. The site count reported by the <b>vos</b>
           <b>examine</b>  and <b>vos</b> <b>listvldb</b> commands as "number of sites" decrements by one for each volume you remove.
           If there is more than one read-only site, the <b>-server</b> argument (and optionally  <b>-partition</b>  argument)
           must  be  used  to  specify  the site from which to remove the volume. If there is only one read-only
           site, the <b>-id</b> argument is sufficient; if there is also no read/write volume in this case, the  entire
           VLDB entry is removed.

       •   If  the  <b>-id</b>  argument  names  a  backup volume, it is removed from the partition that houses it. The
           <b>-server</b> and <b>-partition</b> arguments are optional, because there can be only one backup site. The  backup
           volume  ID  number  no  longer  appears  in  the  output  from  the  <b>vos</b>  <b>listvldb</b>  command or in the
           corresponding portion of the output from the <b>vos</b> <b>examine</b> command, but is preserved internally.

       This command is the most appropriate one for removing volumes in almost all cases.  Other  commands  that
       remove  only volumes or only VLDB entries (such as the <b>vos</b> <b>delentry</b>, <b>vos</b> <b>remsite</b> and <b>vos</b> <b>zap</b> commands) by
       definition can put the volumes and VLDB out of sync. Use them only in the special circumstances mentioned
       on their reference pages. Like the <b>vos</b> <b>delentry</b> command, this command can remove a  VLDB  entry  when  no
       corresponding volumes exist on the file server machine. Like the <b>vos</b> <b>zap</b> command, this command can remove
       a  volume  that  does  not  have  a  VLDB  entry, as long as the volume is online, <b>-server</b> and <b>-partition</b>
       arguments are provided, and the <b>-id</b> argument specifies the volume's ID number.

</pre><h4><b>OPTIONS</b></h4><pre>
       <b>-server</b> &lt;<u>server</u> <u>name</u>&gt;
           Identifies the file server machine that houses the volume to remove. It is necessary  only  when  the
           <b>-id</b> argument names a read-only volume that exists at multiple sites. Provide the machine's IP address
           or  its  host  name  (either  fully qualified or using an unambiguous abbreviation). For details, see
           <b><a href="../man1/vos.1.html">vos</a></b>(1).

       <b>-partition</b> &lt;<u>partition</u> <u>name</u>&gt;
           Identifies the partition (on the file server machine specified by the <b>-server</b> argument)  that  houses
           the  volume  to  remove.  Provide  the  partition's  complete name with preceding slash (for example,
           "/vicepa") or use one of the three acceptable abbreviated forms. For details, see <b><a href="../man1/vos.1.html">vos</a></b>(1).

           Including this argument is necessary only when the <b>-id</b> argument names a read-only volume that  exists
           at multiple sites. Provide the <b>-server</b> argument along with this one.

       <b>-id</b> &lt;<u>volume</u> <u>name</u> <u>or</u> <u>id</u>&gt;
           Identifies  the  volume  to remove, either by its complete name or volume ID number. If identifying a
           read-only or backup volume by name, include the appropriate extension (".readonly" or ".backup").

       <b>-cell</b> &lt;<u>cell</u> <u>name</u>&gt;
           Names the cell in which to run the command. Do not combine this argument with  the  <b>-localauth</b>  flag.
           For more details, see <b><a href="../man1/vos.1.html">vos</a></b>(1).

       <b>-noauth</b>
           Assigns  the  unprivileged  identity  "anonymous"  to  the  issuer. Do not combine this flag with the
           <b>-localauth</b> flag. For more details, see <b><a href="../man1/vos.1.html">vos</a></b>(1).

       <b>-localauth</b>
           Constructs a server ticket using a key from  the  local  <u>/etc/openafs/server/KeyFile</u>  file.  The  <b>vos</b>
           command  interpreter  presents  it  to  the  Volume  Server  and Volume Location Server during mutual
           authentication. Do not combine this flag with the <b>-cell</b> argument or <b>-noauth</b> flag. For  more  details,
           see <b><a href="../man1/vos.1.html">vos</a></b>(1).

       <b>-verbose</b>
           Produces  on the standard output stream a detailed trace of the command's execution. If this argument
           is omitted, only warnings and error messages appear.

       <b>-encrypt</b>
           Encrypts the command so that the operation's results are not transmitted across the network in  clear
           text. This option is available in OpenAFS versions 1.4.11 or later and 1.5.60 or later.

       <b>-noresolve</b>
           Shows  all  servers  as  IP  addresses  instead  of the DNS name. This is very useful when the server
           address is registered as 127.0.0.1 or when dealing with multi-homed servers. This option is available
           in OpenAFS versions 1.4.8 or later and 1.5.35 or later.

       <b>-config</b> &lt;<u>configuration</u> <u>directory</u>&gt;
           Set the location of the configuration directory to be used. This defaults to <u>/etc/openafs</u>, except  if
           <b>-localauth</b> is specified, in which case the default is <u>/etc/openafs/server</u>. This option allows the use
           of alternative configuration locations for testing purposes.

       <b>-help</b>
           Prints the online help for this command. All other valid options are ignored.

</pre><h4><b>EXAMPLES</b></h4><pre>
       The following example removes the read/write volume "user.terry" and its backup version, if any.

          % vos remove  -id user.terry

       The following example removes the read-only volume "root.afs.readonly" from one of its sites, the <u>/vicepa</u>
       partition on the file server machine "fs1.example.com".

          % vos remove fs1.example.com  a  root.afs.readonly

</pre><h4><b>PRIVILEGE</b> <b>REQUIRED</b></h4><pre>
       The  issuer  must  be  listed  in the <u>/etc/openafs/server/UserList</u> file on the machine specified with the
       <b>-server</b> argument and on each database server machine. If the <b>-localauth</b> flag is included, the issuer must
       instead be logged on to a server machine as the local superuser "root".

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man1/vos.1.html">vos</a></b>(1), <b><a href="../man1/vos_delentry.1.html">vos_delentry</a></b>(1), <b><a href="../man1/vos_remsite.1.html">vos_remsite</a></b>(1), <b><a href="../man1/vos_zap.1.html">vos_zap</a></b>(1)

</pre><h4><b>COPYRIGHT</b></h4><pre>
       IBM Corporation 2000. &lt;<a href="http://www.ibm.com/">http://www.ibm.com/</a>&gt; All Rights Reserved.

       This documentation is covered by the IBM Public License Version 1.0.  It was converted from HTML  to  POD
       by  software  written  by  Chas  Williams  and Russ Allbery, based on work by Alf Wachsmann and Elizabeth
       Cassell.

OpenAFS                                            2025-03-21                                      <u><a href="../man1/VOS_REMOVE.1.html">VOS_REMOVE</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>