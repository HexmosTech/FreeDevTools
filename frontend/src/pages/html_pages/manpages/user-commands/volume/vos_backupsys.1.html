<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>vos_backupsys - Creates a backup volume for several read/write volumes</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/openafs-client">openafs-client_1.8.13.2-1ubuntu1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       vos_backupsys - Creates a backup volume for several read/write volumes

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>vos</b> <b>backupsys</b> [<b>-prefix</b> &lt;<u>common</u> <u>prefix</u> <u>on</u> <u>volume(s)</u>&gt;+]
           [<b>-server</b> &lt;<u>machine</u> <u>name</u>&gt;]
           [<b>-partition</b> &lt;<u>partition</u> <u>name</u>&gt;]
           [<b>-exclude</b>] [<b>-xprefix</b> &lt;<u>negative</u> <u>prefix</u> <u>on</u> <u>volume(s)</u>&gt;+]
           [<b>-dryrun</b>] [<b>-cell</b> &lt;<u>cell</u> <u>name</u>&gt;]
           [<b>-noauth</b>] [<b>-localauth</b>]
           [<b>-verbose</b>] [<b>-encrypt</b>] [<b>-noresolve</b>]
           [<b>-config</b> &lt;<u>config</u> <u>directory</u>&gt;]
           [<b>-help</b>]

       <b>vos</b> <b>backups</b> [<b>-pr</b> &lt;<u>common</u> <u>prefix</u> <u>on</u> <u>volume(s)</u>&gt;+]
           [<b>-s</b> &lt;<u>machine</u> <u>name</u>&gt;] [<b>-pa</b> &lt;<u>partition</u> <u>name</u>&gt;]
           [<b>-ex</b>] [<b>-x</b> &lt;<u>negative</u> <u>prefix</u> <u>on</u> <u>volume(s)</u>&gt;+] [<b>-d</b>]
           [<b>-c</b> &lt;<u>cell</u> <u>name</u>&gt;] [<b>-noa</b>] [<b>-l</b>] [<b>-v</b>]
           [<b>-en</b>] [<b>-nor</b>]
           [<b>-co</b> &lt;<u>config</u> <u>directory</u>&gt;]
           [<b>-h</b>]

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The <b>vos</b> <b>backupsys</b> command clones each indicated read/write volume to create a backup version, placing
       each clone at the same site as its read/write source version. It assigns each clone the same name as the
       read/write source, adding a ".backup" extension. It assigns the volume ID number already allocated for
       the backup version in the Volume Location Database (VLDB). If a backup version already exists for a given
       volume, the new clone replaces it.

       To clone every read/write volume listed in the VLDB, omit all of the command's options. Otherwise,
       combine the command's options to clone various groups of volumes. The options use one of two basic
       criteria to select volumes: location (the <b>-server</b> and <b>-partition</b> arguments) or presence in the volume
       name of one of a set of specified character strings (the <b>-prefix</b>, <b>-exclude</b>, and <b>-xprefix</b> options).

       To clone only volumes that reside on one file server machine, include the <b>-server</b> argument. To clone only
       volumes that reside on one partition, combine the <b>-server</b> and <b>-partition</b> arguments. The <b>-partition</b>
       argument can also be used alone to clone volumes that reside on the indicated partition on every file
       server machine. These arguments can be combined with those that select volumes based on their names.

       Combine the <b>-prefix</b>, -exclude, and <b>-xprefix</b> options (with or without the <b>-server</b> and <b>-partition</b>
       arguments) in the indicated ways to select volumes based on character strings contained in their names:

       •   To  clone  every  read/write  volume  at  the  specified location whose name includes one of a set of
           specified character strings (for example, begins with "user." or includes the string "afs"), use  the
           <b>-prefix</b> argument or combine the <b>-xprefix</b> and <b>-exclude</b> options.

       •   To  clone every read/write volume at the specified location except those whose name includes one of a
           set of specified character strings, use the <b>-xprefix</b> argument or combine  the  <b>-prefix</b>  and  <b>-exclude</b>
           options.

       •   To clone every read/write volume at the specified location whose name includes one of one of a set of
           specified  character  strings,  except  those whose names include one of a different set of specified
           character strings, combine the <b>-prefix</b> and <b>-xprefix</b> arguments. The command  creates  a  list  of  all
           volumes  that  match  the  <b>-prefix</b> argument and then removes from the list the volumes that match the
           <b>-xprefix</b> argument. For effective results,  the  strings  specified  by  the  <b>-xprefix</b>  argument  must
           designate a subset of the volumes specified by the <b>-prefix</b> argument.

           If  the <b>-exclude</b> flag is combined with the <b>-prefix</b> and <b>-xprefix</b> arguments, the command creates a list
           of all volumes that do not match the <b>-prefix</b> argument and then adds to  the  list  any  volumes  that
           match  the  <b>-xprefix</b> argument. As when the <b>-exclude</b> flag is not used, the result is effective only if
           the strings specified by the <b>-xprefix</b> argument designate a subset of the  volumes  specified  by  the
           <b>-prefix</b> argument.

       The  <b>-prefix</b>  and  <b>-xprefix</b>  arguments  both accept multiple values, which can be used to define disjoint
       groups of volumes. Each value can be one of two types:

       •   A simple character string, which matches volumes whose name begin with the string. All characters are
           interpreted literally (that is, characters that potentially  have  special  meaning  to  the  command
           shell, such as the period, have only their literal meaning).

       •   A  regular expression, which matches volumes whose names contain the expressions. Place a caret ("^")
           at the beginning of the expression, and enclose the entire string in single quotes  ('').  Explaining
           regular  expressions  is  outside  the  scope  of  this  reference page; see the UNIX manual page for
           <b><a href="../man5/regexp.5.html">regexp</a></b>(5) or  (for  a  brief  introduction)  <b><a href="../man8/backup_addvolentry.8.html">backup_addvolentry</a></b>(8).  As  an  example,  the  following
           expression matches volumes that have the string "aix" anywhere in their names:

              -prefix  '^.*aix'

       To  display  a list of the volumes to be cloned, without actually cloning them, include the <b>-dryrun</b> flag.
       To display a statement that summarizes the criteria being used to select  volume,  include  the  <b>-verbose</b>
       flag.

       This  command  can  be used to clone a single read/write volume; specify its complete name as the <b>-prefix</b>
       argument. However, it is more efficient to use the <b>vos</b> <b>backup</b> command, which employs a  more  streamlined
       technique for finding a single volume.

</pre><h4><b>OPTIONS</b></h4><pre>
       <b>-prefix</b> &lt;<u>common</u> <u>prefix</u>&gt;
           Specifies  one  or more simple character strings or regular expressions of any length; a volume whose
           name includes the string is placed on the set of volumes to be cloned. Include field separators (such
           as periods) if appropriate. This argument can be  combined  with  any  combination  of  the  <b>-server</b>,
           <b>-partition</b>, <b>-exclude</b>, and <b>-xprefix</b> options.

       <b>-server</b> &lt;<u>machine</u> <u>name</u>&gt;
           Identifies the file server machine where each read/write source volume resides. Provide the machine's
           IP  address  or  its  host  name  (either  fully qualified or using an unambiguous abbreviation). For
           details, see <b><a href="../man1/vos.1.html">vos</a></b>(1).

           This argument can be combined with any combination of the <b>-prefix</b>, <b>-partition</b>, <b>-exclude</b>, and <b>-xprefix</b>
           options.

       <b>-partition</b> &lt;<u>partition</u> <u>name</u>&gt;
           Identifies the partition where  each  read/write  source  volume  resides.  Provide  the  partition's
           complete  name  with  preceding  slash  (for  example,  "/vicepa") or use one of the three acceptable
           abbreviated forms. For details, see <b><a href="../man1/vos.1.html">vos</a></b>(1).

           This argument can be combined with any combination of the <b>-prefix</b>, <b>-server</b>,  <b>-exclude</b>,  and  <b>-xprefix</b>
           options.

       <b>-exclude</b>
           Reverses  the  meaning  of  the  <b>-prefix</b>  or  <b>-xprefix</b>  argument.  This flag can be combined with any
           combination of the <b>-prefix</b>, <b>-server</b>, <b>-partition</b>, and <b>-xprefix</b> options.

       <b>-xprefix</b> &lt;<u>negative</u> <u>prefix</u>&gt;
           Specifies a simple character string or regular expression of any length; a volume whose name includes
           the string is removed from the set of volumes  to  be  cloned.  Include  field  separators  (such  as
           periods)  if appropriate. This argument can be combined with any combination of the <b>-prefix</b>, <b>-server</b>,
           <b>-partition</b>, and <b>-exclude</b> options.

       <b>-dryrun</b>
           Displays on the standard output stream a list of the volumes to be cloned, without  actually  cloning
           them.

       <b>-cell</b> &lt;<u>cell</u> <u>name</u>&gt;
           Names  the  cell  in which to run the command. Do not combine this argument with the <b>-localauth</b> flag.
           For more details, see <b><a href="../man1/vos.1.html">vos</a></b>(1).

       <b>-noauth</b>
           Assigns the unprivileged identity "anonymous" to the issuer.  Do  not  combine  this  flag  with  the
           <b>-localauth</b> flag. For more details, see <b><a href="../man1/vos.1.html">vos</a></b>(1).

       <b>-localauth</b>
           Constructs  a  server  ticket  using  a  key from the local <u>/etc/openafs/server/KeyFile</u> file. The <b>vos</b>
           command interpreter presents it to the  Volume  Server  and  Volume  Location  Server  during  mutual
           authentication.  Do  not combine this flag with the <b>-cell</b> argument or <b>-noauth</b> flag. For more details,
           see <b><a href="../man1/vos.1.html">vos</a></b>(1).

       <b>-verbose</b>
           Produces on the standard output stream a detailed trace of the command's execution. If this  argument
           is omitted, only warnings and error messages appear.

       <b>-encrypt</b>
           Encrypts  the command so that the operation's results are not transmitted across the network in clear
           text. This option is available in OpenAFS versions 1.4.11 or later and 1.5.60 or later.

       <b>-noresolve</b>
           Shows all servers as IP addresses instead of the DNS name.  This  is  very  useful  when  the  server
           address is registered as 127.0.0.1 or when dealing with multi-homed servers. This option is available
           in OpenAFS versions 1.4.8 or later and 1.5.35 or later.

       <b>-config</b> &lt;<u>configuration</u> <u>directory</u>&gt;
           Set  the location of the configuration directory to be used. This defaults to <u>/etc/openafs</u>, except if
           <b>-localauth</b> is specified, in which case the default is <u>/etc/openafs/server</u>. This option allows the use
           of alternative configuration locations for testing purposes.

       <b>-help</b>
           Prints the online help for this command. All other valid options are ignored.

</pre><h4><b>OUTPUT</b></h4><pre>
       The command generates the following messages on the standard output stream to confirm that the  operation
       was successful:

          done
          Total volumes backed up: &lt;number_cloned&gt;; failed to backup: &lt;failures&gt;

       If the <b>-dryrun</b> flag is included, a list of the volumes to be backed up precedes the standard confirmation
       messages.

       If the <b>-verbose</b> flag is included but not the <b>-dryrun</b> flag, the following messages appear for each volume.
       The output concludes with the standard confirmation messages.

          Creating backup volume for &lt;volume_name&gt; on &lt;date/time&gt;
          {Recloning backup volume | Creating a new backup clone} &lt;backup_volumeID&gt; . . .done

       If  both  the <b>-dryrun</b> and <b>-verbose</b> flags are included, the output begins with a statement summarizing the
       criteria being used to select  the  volumes,  followed  by  a  list  of  the  volumes  and  the  standard
       confirmation  messages.  The  format of the criteria summary statement depends on which other options are
       provided:

       •   If only the <b>-prefix</b> argument is provided, or the <b>-xprefix</b> and <b>-exclude</b> options are combined:

              Would have backed up volumes which are prefixed with &lt;string&gt; [or &lt;string&gt;] . .

       •   If only the <b>-xprefix</b> argument is provided, or the <b>-prefix</b> and <b>-exclude</b> options are combined:

              Would have backed up volumes which are not prefixed with &lt;string&gt; [nor &lt;string&gt;] . .

       •   If the <b>-prefix</b> and <b>-xprefix</b> arguments are combined:

              Would have backed up volumes which are prefixed with &lt;string&gt; [or &lt;string&gt;] \
                 removing those which are prefixed with &lt;x_string&gt; [or &lt;x_string&gt;] . .

       •   If the <b>-prefix</b>, <b>-xprefix</b>, and <b>-exclude</b> options are provided:

              Would have backed up volumes which are not prefixed with &lt;string&gt; [nor &lt;string&gt;] \
                 adding those which are prefixed with &lt;x_string&gt; [or &lt;x_string&gt;] . .

</pre><h4><b>EXAMPLES</b></h4><pre>
       The following example creates a backup version of every read/write volume listed in the cell's VLDB whose
       name begins with the string <b>user</b>.

          % vos backupsys -prefix user

       The following example, appropriate in the Example Corporation cell, creates a  backup  version  of  every
       read/write volume on the file server machine "fs3.example.com".

          % vos backupsys -server fs3.example.com

       The  following  example,  appropriate in the Example Organization cell, creates a backup version of every
       read/write volume on the file server machine "db1.example.org"  except  those  whose  name  includes  the
       string "temp".

          % vos backupsys  -server db1.example.org -prefix '^.*temp'

       The following example creates a backup version of every volume listed in the cell's VLDB, excluding those
       whose   names  contain  the  string  "source",  but  including  those  whose  names  contain  the  string
       "source.current".

          % vos backupsys  -prefix '^.*source' -exclude -xprefix '^.*source\.current'

</pre><h4><b>PRIVILEGE</b> <b>REQUIRED</b></h4><pre>
       The issuer must be listed in the <u>/etc/openafs/server/UserList</u> file on  the  machine  specified  with  the
       <b>-server</b> argument and on each database server machine. If the <b>-localauth</b> flag is included, the issuer must
       instead be logged on to a server machine as the local superuser "root".

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man8/backup_addvolentry.8.html">backup_addvolentry</a></b>(8), <b><a href="../man1/vos.1.html">vos</a></b>(1), <b><a href="../man1/vos_backup.1.html">vos_backup</a></b>(1)

       UNIX manual page for <b><a href="../man5/regexp.5.html">regexp</a></b>(5)

</pre><h4><b>COPYRIGHT</b></h4><pre>
       IBM Corporation 2000. &lt;<a href="http://www.ibm.com/">http://www.ibm.com/</a>&gt; All Rights Reserved.

       This  documentation  is covered by the IBM Public License Version 1.0.  It was converted from HTML to POD
       by software written by Chas Williams and Russ Allbery, based on  work  by  Alf  Wachsmann  and  Elizabeth
       Cassell.

OpenAFS                                            2025-03-21                                   <u><a href="../man1/VOS_BACKUPSYS.1.html">VOS_BACKUPSYS</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>