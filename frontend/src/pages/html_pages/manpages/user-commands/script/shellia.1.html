<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>shellia - library for interactive shell scripts</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/shellia">shellia_5.9_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       shellia - library for interactive shell scripts

</pre><h4><b>SYNOPSIS</b></h4><pre>
          <u>script.using.shellia</u> [<b>-i|-s|-m</b>] [<b>-d</b> <u>debug-runtime-config</u>] [<b>-a</b>] [--] [<u>script-specific-options</u>]

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>shellia</b>  is  a library that allows to run shell scripts interactive and helps to familiarize oneself with
       large shell scripts, find the cause of unexpected behaviour in  shell  scripts,  and  run  shell  scripts
       silently, while checking them <b>step</b> by <b>step</b>.

       A <u>script.using.shellia</u> can be called with option <b>-i</b> to run in <b>interactive-mode</b>.  This means that the user
       can start <b>steps</b> of the script.

       If  the <u>script.using.shellia</u> uses <b>check-mode</b>, output and return values of internal <b>steps</b> are checked.  If
       something unexpected happens, the script can either stop or ask the user what to do.

</pre><h4><b>OPTIONS</b></h4><pre>
   <b>General</b> <b>options</b>
       <b>-i</b>     use <b>interactive-mode</b>

       <b>-s</b>     be silent

       <b>-m</b>     minimal control

       <b>-d</b> <u>debug-runtime-config</u>
              Turn <b>debug-mode</b> on from the beginning. You also may  turn  debug  on  and  off  while  running  in
              <b>interactive-mode</b>.

       <b>-a</b>     Use only ascii without colour in <b>interactive-mode</b> and <b>logging-mode</b>

</pre><h4><b>EXAMPLE</b></h4><pre>
       Be  aware  that  the  <b>step</b>  sizes in the examples listed below are only reasonable to demonstrate shellia
       features and for no other purpose.  Please read <a href="../man7/shellia.7.html">shellia</a>(7) <b>NOTES</b>, to learn about a reasonable <b>step</b> size.

   <b>Basic</b> <b>features</b>
       On   <b>debian</b>   systems   the   following    described    script    <u>hello_world</u>    may    be    found    at
       <u>/usr/share/doc/shellia/examples/hello_world</u>.

       If called without option, it will just print the words <u>hello</u> and <u>world</u>:

          $ /usr/share/doc/shellia/examples/hello_world
          hello
          world

       If called with option <b>-i</b>, you will have some interactive choices:

          $ /usr/share/doc/shellia/examples/hello_world -i
          === hello_world ===
          1 echo "hello"
          2 echo "world"
          c continue without questionsq quit
          ? [1]

       Entering  <u>1</u> would execute the first <b>step</b> and print the word <u>hello</u>.  Actually, because <u>1</u> is preselected as
       shown in the last line, just entering <u>RETURN</u>, would do the same.  Step <u>2</u> is equivalent to <b>step</b> <u>1</u>.   After
       <b>step</b>  <u>2</u> the preselection would change to <u>q</u>.  <u>q</u> means <u>quit</u> and can be pressed anytime to leave the current
       <b>step</b> level, Which would leave the shell script in our case.  Instead of entering <u>1</u>, <u>2</u> and <u>q</u>, <u>c</u> could have
       been entered to continue automatically.

       A discussion of the source of this shell script can be found in <a href="../man3/shellia.3.html">shellia</a>(3) <b>Basic</b> <b>features</b>.

   <b>Interactive-mode</b>
       In <b>Basic</b> <b>features</b> all <b>steps</b> shown in <b>Interactive-mode</b> have been at the same level.   In  <b>Interactive-mode</b>
       muliple levels are supported.

       On    <b>debian</b>    systems    the   following   described   script   <u>hello_world_fun</u>   may   be   found   at
       <u>/usr/share/doc/shellia/examples/hello_world_fun</u>.

       If called without <b>shellia</b> specific option, but with the name "Test User", the output will be:

          $ /usr/share/doc/shellia/examples/hello_world_fun "Test User"
          hello Test User

       If additionally called with option <b>-i</b>, you will have some interactive choices:

          $ /usr/share/doc/shellia/examples/hello_world_fun -i -- "Test User"
          === hello_world_fun ===
          1 say_hello -i -- "Test User"
          i toggle -i flag
          q quit?
          [1]

       Entering <u>i</u> turns <b>-i</b> on and off as shown above and in the next line:

          1 say_hello -- "Test User"

       If we would press <u>1</u> while <b>-i</b> is off, the function <u>say_hello</u> would be executed at once.  Pressing <u>1</u>  while
       <b>-i</b>  is on would start function <u>say_hello</u> in <b>interactive-mode</b> and display the following menu with <b>steps</b> in
       a deeper level:

          === hello_world_fun/say_hello ===
          1 name="Test User"
          2 echo "hello $name"
          c continue without questions
          q quit?
          [1]

       In the heading we can see, the name of the current function.  Because we have to  start  with  the  first
       <b>step</b>  in  this  function again <u>1</u> is preselected.  To run all <b>steps</b> in this function we can press <u>c</u>. After
       executing, we will return to the previous menu and can press <u>RETURN</u> to select the preselected <u>quit</u>.

       A discussion of the source of this shell script can be found in <a href="../man3/shellia.3.html">shellia</a>(3) <b>Interactive-mode</b>.

   <b>Debug-mode</b>
       Each   <u>debug-statement</u>   in   a   <u>script-using-shellia</u>   has   additionally   to   the   <b>debug-output</b>   a
       <b>debug-statement-level</b>, and a <b>debug-statement-topic</b> with the defaults <u>1</u> and <u>none</u>.

       At  runtime  the script gets a <b>debug-runtime-level</b> and a <b>debug-runtime-topic</b> list with the defaults <u>0</u> and
       empty.

       The  <b>debug-output</b>  will  be  shown  if  the,  the  <b>debug-runtime-level</b>  is  higher  or   equal   to   the
       <b>debug-statement-level</b>  and  either  the  <b>debug-statement-topic</b> is in the <b>debug-runtime-topic</b> list, or the
       <b>debug-runtime-topic</b> list is empty.

       On    <b>debian</b>    systems    the    example    script     <u>hello_world_debug</u>     may     be     found     at
       <u>/usr/share/doc/shellia/examples/hello_world_debug</u>.

       In  the header of the script we can read, that the used <b>debug-topics</b> are <u>none</u>, <u>start</u> and <u>end</u> and that the
       higest <b>debug-level</b> is 3.

       To see all <b>debug-output</b>  we  can  start  with  an  empty  <b>debug-runtime-topic</b>  list  and  the  very  high
       <b>debug-runtime-level</b> <u>99</u>:

          $ /usr/share/doc/shellia/examples/hello_world_debug -d 99
          DEBUG main program
          DEBUG say_hello function start
          hello world
          DEBUG say_hello function end

       To see only the <b>debug-topics</b> <u>none</u> and <u>start</u> in <b>interactive-mode</b> we can call:

          $ /usr/share/doc/shellia/examples/hello_world_debug -d "99 none start"
          === hello_world_debug ===
          1 dbg "main program"
          2 say_hello_world
          d ... change dbg: 99 none start
          c continue without questions
          q quit
          ? [1]

       If  we  now change our mind, to not see the <b>debug-topic</b> <u>start</u> anymore and to change the  <b>debug-level</b> <u>2</u> we
       can change this by entering <u>d</u> <u>start</u> <u>2</u> before continuing with <u>c</u>:

          ? [1] d start 2
          === hello_world_debug ===
          1 dbg "main program"
          2 say_hello_world
          d ... change dbg: 2 none
          c continue without questions
          q quit
          ? [1] c
          DEBUG main program
          hello world

       The <b>interactive-mode</b> can be used to turn on <b>debug-output</b> only in <b>steps</b> where we need it.

   <b>Log-mode</b>
       If the <u>script-using-shellia</u> creates a logfile  as  described  in  <a href="../man3/shellia.3.html">shellia</a>(3)  <b>logfile-mode</b>,  the  created
       logfile  has  some  features as shown in the example script <u>hello_world_log</u>.  On <b>debian</b> systems it may be
       found at <u>/usr/share/doc/shellia/examples/hello_world_log</u>.  The example script will automatically  display
       the logfile at the end.

       First we call it without options:

          $ /usr/share/doc/shellia/examples/hello_world_log "shellia user"
          hello shellia user
          --- LOGFILE ---
          |hello_world_log
          ||hello_world_log/say_hello
          ||s:hello shellia user
          ---------------

       The  first  line  shows  how  the script is called.  The second line shows the output of the script <u>hello</u>
       <u>shellia</u> <u>user</u> Then the logfile is displayed in two lines starting with dashes.   The  first  line  of  the
       logfile  has  one  bar,  indicating  that  we  are  in  the first level, which is the main script in file
       <u>hello_world_log</u> The second line of the logfile has two  bars,  indicating  we  are  in  the  next  level,
       followed  by  the filename and the function name.  The third line is from the same function and show with
       an <u>s:</u>, that stdout <u>hello</u> <u>shellia</u> <u>user</u> has been created by this function.

       We will now run the same script with all debug output enabled to see  debug  information  with  the  word
       <u>DEBUG</u> added

          $ /usr/share/doc/shellia/examples/hello_world_log -d 99 "shellia user"
          DEBUG main program begin
          DEBUG function say_hello called with 1 arguments
          hello shellia user
          DEBUG function say_hello end
          DEBUG main program end
          --- LOGFILE ---
          |hello_world_log
          |DEBUG main program begin
          ||hello_world_log/say_hello
          ||DEBUG function say_hello called with 1 arguments
          ||s:hello shellia user
          ||DEBUG function say_hello end
          |DEBUG main program end
          ---------------

       Another  way  is to start in interactive mode, manually select the function with <u>2</u>, continue all steps in
       the function with <u>c</u> and then quit with <u>q</u>.  Now also the interactive input and output will be  logged  and
       the logfile will be too large, to display it here.

   <b>variable</b> <b>in</b> <b>Interactive-mode</b>
       If you see <u>$&lt;var&gt;</u> in interactive mode, the meaning is like <u>\${var}</u>, but you can press <b>v</b> to see the actual
       value of the variable.  If you press <b>v</b> again, the name of the variable is shown as before.

</pre><h4><b>NOTES</b></h4><pre>
       <b>shellia</b>  is  tested  successful with <u>bash</u>, <u>dash</u>, <u>busybox</u> <u>sh</u>, <u>mksh</u> and <u>posh</u>.  To use <b>shellia</b> with <u>posh</u> the
       nounset option (<u>set</u> <u>-o</u> <u>nounset</u> or <u>set</u> <u>-u</u>) is not supported because of Bug #913718 (posh can not use  "$@"
       together  with  set -u). Because of Bug #910275 (posh does never execute an "EXIT trap", if it is created
       with the "trap" command in a sub shell) remaining files named "/tmp/shellia.??????????" should be deleted
       manual, after using <b>shellia</b> with <u>posh</u>.  <b>shellia</b> can not be used  in  <u>ksh</u>,  because  the  shell  does  not
       support the <u>local</u> command.

</pre><h4><b>ERROR</b> <b>MESSAGES</b></h4><pre>
       <b>ERROR:</b> <b>ia</b> <b>premature</b> <b>exit</b> <b>of</b> <u>command</u> <b>unchecked</b> <b>output:</b> <u>unchecked</u> <u>output</u>
          Before output of a <u>command</u> issued with <b>check-mode</b> can be printed, it will be collected and checked. If
          the  <u>script.using.shellia</u> exits premature, the already collected <u>unchecked</u> <u>output</u> is printed with this
          error message.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <a href="../man3/shellia.3.html">shellia</a>(3), <a href="../man7/shellia.7.html">shellia</a>(7)

</pre><h4><b>AUTHOR</b></h4><pre>
       <a href="mailto:bernd.schumacher@hpe.com">bernd.schumacher@hpe.com</a>

       License: GNU General Public License, version 3

</pre><h4><b>COPYRIGHT</b></h4><pre>
       Bernd Schumacher &lt;<a href="mailto:bernd.schumacher@hpe.com">bernd.schumacher@hpe.com</a>&gt; (2007-2020)

0.1                                                2020-08-07                                         <u><a href="../man1/SHELLIA.1.html">SHELLIA</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>