<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>poncho_package_run - wrapper script that executes Python script within an isolated Conda environment</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/coop-computing-tools">coop-computing-tools_7.14.5-1build1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       <b>poncho_package_run</b> - wrapper script that executes Python script within an isolated Conda environment

</pre><h4><b>SYNOPSIS</b></h4><pre>
       poncho_package_run [options] --environment <u>&lt;file&gt;</u> <u>&lt;command</u> <u>and</u> <u>args</u> <u>...&gt;</u>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The  <b>poncho_package_run</b>  tool  acts  as  a  wrapper script for a Python task, running the task within the
       specified Conda environment. <b>poncho_package_run</b> can be utilized on different  machines  within  the  Work
       Queue system to unpack and activate a Conda environment, and run a task within the isolated environment.

       The  --environment <u>&lt;file&gt;</u> argument is the name of the Conda environment as a tarball file in which to run
       the Python task.  The --environment <u>&lt;file&gt;</u> argument is the name of the Conda  environment  as  a  tarball
       file  in  which  to  run  the  Python task.  command and args (the COMMAND) are interpreted as ARGV for a
       command to be run inside the Conda environment.

       By default, the conda environment is unpacked into a temporary directory which is removed at the  end  of
       execution.  If  the  --unpack-to <u>&lt;dir&gt;</u> is given, then the environment is unpacked to <u>&lt;dir&gt;</u>, and it is not
       removed at the end of execution. Further (even simultaneous) executions of  python_package_run  will  not
       unpack  the  environment  if <u>&lt;dir&gt;</u> is already populated. Instances of python_package_run coordinate via a
       writing lock. By default, the wait for a writing lock is 300 seconds, but this can be modified  with  the
       --wait-for-lock <u>&lt;secs&gt;</u> option.

       If  the  argument  to  --unpack-to  does not exist, then it is created as an empty directory. If it is an
       existing directory, but it is not empty, then unpacking is not  performed,  regardless  on  whether  this
       directory contains a valid conda environment.

</pre><h4><b>OPTIONS</b></h4><pre>
        <b>-e,--environment=</b><u>&lt;file&gt;</u>
                 Conda environment as a tar file. (Required.)

        <b>-u,--unpack-to=</b><u>&lt;dir&gt;</u>
                    Directory to unpack the environment. If not given, a temporary directory is used.

        <b>-w,--wait-for-lock=</b><u>&lt;secs&gt;</u>
               Number of seconds to wait to get a writing lock on <u>&lt;dir&gt;</u>. Default is 300.

        <b>-d,--debug</b>
               Print debug messages.

        <b>--help-env-creation</b>
               Show instructions to create conda environments as tar files.

        <b>-h,--help</b>
                              Show the help screen.

</pre><h4><b>EXIT</b> <b>STATUS</b></h4><pre>
       On success, returns 0. On failure, returns non-zero.

</pre><h4><b>EXAMPLE</b></h4><pre>
       poncho_package_run --environment example_venv.tar.gz python3 example.py

       This  will  run  the command python3 example.py within the Conda environment in example_venv.tar.gz. Note
       that this command can be performed either locally, on the same  machine  that  analyzed  the  script  and
       created  the environment, or remotely, on a different machine that contains the Conda environment tarball
       and the example.py script.

       poncho_package_run --unpack-to my_persistent_env --environment example_venv.tar.gz python3 example.py

       The previous command will run faster the second time it is executed, as the environment is only  unpacked
       once to my_persistent_env.

</pre><h4><b>COPYRIGHT</b></h4><pre>
       The  Cooperative  Computing  Tools are Copyright (C) 2022 The University of Notre Dame.  This software is
       distributed under the GNU General Public License.  See the file COPYING for details.

CCTools 7.14.5 FINAL                                                                       <u><a href="../man1/poncho_package_run.1.html">poncho_package_run</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>