<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>pmgetopt - Performance Co-Pilot shell script option parser</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/pcp">pcp_6.3.3-1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       <b>pmgetopt</b> - Performance Co-Pilot shell script option parser

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>$PCP_BINADM_DIR/pmgetopt</b> [<b>-u?</b>]  [<b>-c</b> <u>file</u>] [<b>-p</b> <u>name</u>] [<b>--</b>] [<u>parameters</u>]

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>pmgetopt</b>  is  used  to  perform command line option parsing for shell scripts used in the Performance Co-
       Pilot (PCP toolkit).  It is also used to generate usage messages for those scripts.

       The parameters given to <b>pmgetopt</b> take two forms: initially,  options  specific  to  <b>pmgetopt</b>  itself  are
       passed  in,  and  terminated  using  the -- mechanism.  Thereafter, all of the parameters passed into the
       shell script should be passed (usually this is simply the "$@" variable).

</pre><h4><b>OPTIONS</b></h4><pre>
       The available command line options are:

       <b>-c</b>=<u>file</u>, <b>--config</b>=<u>file</u>
            A configuration <u>file</u> in the format described below is passed to <b>pmconfig</b> using this option.  If this
            option is omitted, then <b>pmconfig</b> will read its configuration from the standard input stream.

       <b>-p</b>=<u>name</u>, <b>--progname</b>=<u>name</u>
            When parsing the calling shell scripts parameters, error and usage messages will contain  the  given
            program <u>name</u> rather than referring to <b>pmgetopt</b> itself as the source of the error.

       <b>-u</b>, <b>--usage</b>
            A  usage  message  appropriate  for  the calling shell script to present as its own can be generated
            using the option.

       <b>-?</b>, <b>--help</b>
            Display the usage message for <b>pmgetopt</b> itself and exit.

       <b>pmgetopt</b> parses the given parameters, and produces output in  a  format  suitable  for  sourcing  in  the
       calling  shell  script.   When both short and long forms of an argument are allowed by the specification,
       <b>pmgetopt</b> will always indicate the short form for simpler shell processing.  If  arguments  are  presented
       that do not match the configuration, a request for a usage message (-?) will be generated for the calling
       script  to  respond  to.  Any non-option parameters will be echoed back to the calling script preceded by
       the double-hyphen delimiter.  Thus a script should stop handling options when this delimiter is detected,
       and begin the handling of any non-option arguments.

       Unlike with the shell built-in <u>getopt</u> command, variables like $OPTARG are not set and the calling  script
       will  typically employ use of the shell built-in <u>eval</u>, <u>set</u> and positional <u>shift</u> commands to ensure option
       processing occurs correctly.

</pre><h4><b>CONFIGURATION</b></h4><pre>
       The configuration format used by <b>pmgetopt</b> is intended to closely reflect the usage message which would be
       generated in the presence of invalid arguments (or the <b>-?</b>, <b>--help</b> option).

       There are primarily two types of configuration line - commands and options.  Commands allow  metadata  to
       be passed into the option processing process, and options are the allowable command line options that the
       shell  script  will  accept.  Command lines are preceded by the hash character, whereas option lines will
       always begin with a hyphen (either single or double).  Any other line in  the  configuration,  which  may
       include  usage  headers  or  descriptive  text,  has  no  impact on the option parsing and will be copied
       unmodified into the usage message.

       The set of commands is: <u>getopt</u> (provide short-argument option specification manually, if not present this
       will be generated from the options presented), <u>usage</u> (provide short one-line summary used at the head  of
       the  usage  message,  which  will  be  prefixed  by the <u>progname</u> before reporting), and <u>end</u> which informs
       <b>pmgetopt</b> to stop processing further commands and options - any subsequent text encountered will be simply
       appended to the usage message.

       A short-hand notation exists for each of the standard PCP options, as described in <b><a href="../man1/PCPIntro.1.html">PCPIntro</a></b>(1).   If  any
       of  these  options  (e.g  <b>--host</b>)  appears  as a single word on any line, it will be transformed into the
       appropriate option for the shell script, including all metadata about that option (whether it accepts  an
       argument, both short and long option forms, and so on).

       Use  of  the  equals  symbol  ("=") indicates the presence of a required argument to any option, for both
       short and long forms.  Any non-standard option must be accompanied by a  non-empty  description  of  that
       argument.

</pre><h4><b>EXAMPLES</b></h4><pre>
       As an example, the following is a valid configuration:

            <b>#</b> <b>Usage:</b> <b>[options]</b> <b>node...</b>

            <b>Options:</b>
                <b>--archive</b>
                <b>-d,</b> <b>--delay</b>            <b>pause</b> <b>between</b> <b>updates</b> <b>for</b> <b>archive</b> <b>replay</b>
                <b>--host</b>
                <b>--interval</b>
                <b>-i=INST,</b> <b>--insts=INST</b>  <b>comma-separated</b> <b>metrics</b> <b>instance</b> <b>list</b>
                <b>-r</b>                     <b>output</b> <b>raw</b> <b>counters</b> <b>(no</b> <b>rate</b> <b>conversion)</b>
                <b>--width=N</b>              <b>set</b> <b>the</b> <b>width</b> <b>of</b> <b>each</b> <b>column</b> <b>of</b> <b>output</b>
                <b>--timezone</b>
                <b>--help</b>

       This configuration will produce the following usage message, when run as shown.

            <b>$</b> <b>pmgetopt</b> <b>--usage</b> <b>--progname=clusterstat</b> <b>--</b> <b>"$@"</b>
            <b>Usage:</b> <b>clusterstat</b> <b>[options]</b> <b>node...</b>

            <b>Options:</b>
              <b>-a</b> <b>FILE,</b> <b>--archive=FILE</b>
                                    <b>metrics</b> <b>source</b> <b>is</b> <b>a</b> <b>PCP</b> <b>archive</b>
              <b>-d,</b> <b>--delay</b>           <b>pause</b> <b>between</b> <b>updates</b> <b>for</b> <b>archive</b> <b>replay</b>
              <b>-h</b> <b>HOST,</b> <b>--host=HOST</b>  <b>metrics</b> <b>source</b> <b>is</b> <b>PMCD</b> <b>on</b> <b>host</b>
              <b>-t</b> <b>DELTA,</b> <b>--interval=DELTA</b>
                                    <b>sampling</b> <b>interval</b>
              <b>-i</b> <b>INST,</b> <b>--insts=INST</b> <b>comma-separated</b> <b>metrics</b> <b>instance</b> <b>list</b>
              <b>-r</b>                    <b>output</b> <b>raw</b> <b>counters</b> <b>(no</b> <b>rate</b> <b>conversion)</b>
              <b>--width=N</b>             <b>set</b> <b>the</b> <b>width</b> <b>of</b> <b>each</b> <b>column</b> <b>of</b> <b>output</b>
              <b>-Z</b> <b>TZ,</b> <b>--timezone=TZ</b>  <b>set</b> <b>reporting</b> <b>timezone</b>
              <b>-?,</b> <b>--help</b>            <b>show</b> <b>this</b> <b>usage</b> <b>message</b> <b>and</b> <b>exit</b>

       Several  examples  of  <b>pmgetopt</b> use form part of the PCP toolkit, in particular the <b><a href="../man1/pcp.1.html">pcp</a></b>(1) and <b><a href="../man1/pmlogmv.1.html">pmlogmv</a></b>(1)
       scripts provide good reference examples.

</pre><h4><b>PCP</b> <b>ENVIRONMENT</b></h4><pre>
       Environment variables with the prefix <b>PCP_</b> are used to parameterize the file and directory names used  by
       PCP.   On  each  installation, the file <u>/etc/pcp.conf</u> contains the local values for these variables.  The
       <b>$PCP_CONF</b> variable may be used to specify an alternative configuration file, as described in <b><a href="../man5/pcp.conf.5.html">pcp.conf</a></b>(5).

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man1/pcp.1.html">pcp</a></b>(1), <b><a href="../man1/pmlogmv.1.html">pmlogmv</a></b>(1), <b><a href="../man3/pmgetopt_r.3.html">pmgetopt_r</a></b>(3), <b><a href="../man5/pcp.conf.5.html">pcp.conf</a></b>(5) and <b><a href="../man5/pcp.env.5.html">pcp.env</a></b>(5).

Performance Co-Pilot                                   PCP                                           <u><a href="../man1/PMGETOPT.1.html">PMGETOPT</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>