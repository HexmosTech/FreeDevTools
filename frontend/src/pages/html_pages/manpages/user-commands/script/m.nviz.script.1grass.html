<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>m.nviz.script  - Creates fly-through script to run in NVIZ.</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/grass-doc">grass-doc_8.4.1-1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       <b>m.nviz.script</b>  - Creates fly-through script to run in NVIZ.

</pre><h4><b>KEYWORDS</b></h4><pre>
       miscellaneous, graphics, raster, raster3d, vector, visualization

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>m.nviz.script</b>
       <b>m.nviz.script</b> <b>--help</b>
       <b>m.nviz.script</b>   [-<b>fckoe</b>]   <b>input</b>=<u>name</u>  <b>output</b>=<u>name</u>   [<b>name</b>=<u>string</u>]    [<b>route</b>=<u>east,north</u>[,<u>east,north</u>,...]]
       <b>dist</b>=<u>float</u> <b>ht</b>=<u>float</u> <b>frames</b>=<u>integer</u>  [<b>start</b>=<u>integer</u>]    [--<b>overwrite</b>]   [--<b>help</b>]   [--<b>verbose</b>]   [--<b>quiet</b>]
       [--<b>ui</b>]

   <b>Flags:</b>
       <b>-f</b>
           Full render -- Save images

       <b>-c</b>
           Fly at constant elevation (ht)

       <b>-k</b>
           Include command in the script to output a KeyFrame file

       <b>-o</b>
           Render images off-screen

       <b>-e</b>
           Enable vector and sites drawing

       <b>--overwrite</b>
           Allow output files to overwrite existing files

       <b>--help</b>
           Print usage summary

       <b>--verbose</b>
           Verbose module output

       <b>--quiet</b>
           Quiet module output

       <b>--ui</b>
           Force launching GUI dialog

   <b>Parameters:</b>
       <b>input</b>=<u>name</u> <b>[required]</b>
           Name of input raster map

       <b>output</b>=<u>name</u> <b>[required]</b>
           Name of output script

       <b>name</b>=<u>string</u>
           Prefix of output images (default = NVIZ)

       <b>route</b>=<u>east,north[,east,north</u>,...]
           Route coordinates (east,north)

       <b>dist</b>=<u>float</u> <b>[required]</b>
           Camera layback distance (in map units)

       <b>ht</b>=<u>float</u> <b>[required]</b>
           Camera height above terrain

       <b>frames</b>=<u>integer</u> <b>[required]</b>
           Number of frames

       <b>start</b>=<u>integer</u>
           Start frame number (default=0)

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The  <u>m.nviz.script</u>  program  allows  the  user  to  easily create a script that can be run in NVIZ to fly
       through a terrain.  The NVIZ flight path  can  be  supplied  on  the  command  line  as  comma  separated
       coordinates.  The  program  optionally allows a KeyFrame file to created (after running the script). This
       KeyFrame file can be loaded into the <u>Keyframe</u> <u>Animation</u> panel for fine tuning or editing.

       The script generated by <u>m.nviz.script</u> can be run from the NVIZ command line (nviz script=script_name)  or
       after NVIZ is started by selecting <u>Scripting-&gt;Play</u> <u>Script</u>.

</pre><h4><b>OPTIONS</b></h4><pre>
   <b>Flags:</b>
       <b>-f</b>
           Full render
           The script will draw all loaded NVIZ data and save scene to PPM image.

       <b>-c</b>
           Flay at constant elevation
           With  this  flag the camera will be set to an elevation given by the <u>ht=</u> parameter. The default is to
           fly at <u>ht=</u> above the topography (i.e. camera height = elevation + ht)

       <b>-k</b>
           Output KeyFrame file
           Generate a KeyFrame file that can be loaded from the NVIZ <u>Keyframe</u> <u>Animation</u> panel. The KeyFrame file
           is automatically assigned the script name with a <u>.kanimator</u> extension.

       <b>-o</b>
           Render the animation in an off-screen context

       <b>-e</b>
           Enable vector and sites drawing

   <b>Parameters:</b>
       <b>input</b>
           The name of the GRASS raster map with elevation data.
           This should be the same file that will be loaded in NVIZ.

       <b>output</b>
           The name of the NVIZ script to create.

       <b>name</b>
           The prefix for output images if running in full render mode (<u>-f</u>).
           The defulat preifix is NVIZ (eg. NVIZ0000.ppm).

       <b>dist</b>
           The distance of the camera behind the center of view.

       <b>ht</b>
           The height of the camera above the center of view.
           If the the <u>-c</u> flag is set, the height represents the actual camera height.

       <b>frames</b>
           The number of frames in the animation.

       <b>start</b>
           The starting frame number (default = 0).
           This option may be useful in full render mode when creating an animation in sections. For example the
           user may wish to start at frame number 2000.

       <b>route</b>
           The comma separated geographic coordinates for keyframe locations.

</pre><h4><b>EXAMPLE</b></h4><pre>
       To interactively create an NVIZ animation from raster elev.rast with 500 frames and the camera set to  50
       meters above and 250 meters behind the scene, run the following:
       g.region raster=elevation.dem
       d.rast elevation.dem
       m.nviz.script -k input=elevation.dem output=nviz.script dist=2400 ht=1220 frames=1000
       In  the  above  the  example the user is prompted to select the route from the GRASS monitor.  The output
       script, ’nviz.script.nvscr’, can then be run in NVIZ:
       nviz elevation=elevation.dem script=nviz.script.nvscr

</pre><h4><b>NOTES</b> <b>/</b> <b>HINTS</b></h4><pre>
       The user must select at least four key-frame locations (points) otherwise an error is generated.

       If the GRASS region is changed the <u>m.nviz.script</u> command must be re-run.

       The current GRASS region and the user supplied parameters are included as a comment at  the  top  of  the
       output script. This information can be used to easily re-create the animation.

       The camera position is calculated backwards from the supplied position(s). It is possible that the camera
       position  will  lie  outside  the  current  window,  in which case a non-fatal error is generated (Error:
       selected point is outside region).  This error can result in jerky movements during  the  animation.   To
       correct this problem reduce the <u>dist=</u> parameter or increase the current region.

   <b>Loading</b> <b>the</b> <b>script</b> <b>into</b> <b>NVIZ</b>
       The  user  can  run  the  script  at  arbitrary  resolution. To re-run it at higher spatial resolution or
       different settings, the user first loads the  surface  and  sets  the  resolution,  lighting,  etc.  Then
       internally  the  script  generated  by  <u>m.nviz.script</u> is run. Alternatively, the user can run nviz with a
       previuosly saved state and the <u>m.nviz.script</u> generated script:
       nviz state=saved.state script=nviz.script.nvscr

   <b>Keyframe</b> <b>animator</b> <b>script</b>
       Running the script generated by <u>m.nviz.script</u> within NVIZ, a new script for kanimator (keyframe animator)
       is created. The kanimator panel offers fine  tuning  of  the  speed  (frame  rate)  as  well  as  editing
       individual  frames or inserting new frames. This new kanimator script has to be loaded from the Kanimator
       panel in NVIZ. In the Kanimator panel there are Save and Load button which allow the  user  to  save  and
       re-load  a  kanimator  script.  Once loaded, the key frames will appear in the GUI and can then be edited
       there.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
        <u>wxGUI</u> <u>3D</u> <u>viewer</u> <u>(NVIZ)</u>

</pre><h4><b>AUTHOR</b></h4><pre>
       Bob Covill

</pre><h4><b>SOURCE</b> <b>CODE</b></h4><pre>
       Available at: m.nviz.script source code (history)

       Accessed: Friday Apr 04 01:20:44 2025

       Main index | Miscellaneous index | Topics index | Keywords index | Graphical index | Full index

       © 2003-2025 GRASS Development Team, GRASS GIS 8.4.1 Reference Manual

GRASS 8.4.1                                                                                <u><a href="../man1grass/m.nviz.script.1grass.html">m.nviz.script</a></u>(1grass)
</pre>
 </div>
</div></section>
</div>
</body>
</html>