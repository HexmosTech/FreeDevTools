<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ndctl-wait-scrub - wait for an Address Range Scrub (ARS) operation to complete</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/ndctl">ndctl_77-2.2ubuntu2_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       ndctl-wait-scrub - wait for an Address Range Scrub (ARS) operation to complete

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <u>ndctl</u> <u>wait-scrub</u> [&lt;bus-id&gt; &lt;bus-id2&gt; ... &lt;bus-idN&gt;] [&lt;options&gt;]

</pre><h4><b>DESCRIPTION</b></h4><pre>
       NVDIMM Address Range Scrub is a capability provided by platform firmware that allows for the discovery of
       memory errors by system software. It enables system software to pre-emptively avoid accesses that could
       lead to uncorrectable memory error handling events, and it otherwise allows memory errors to be
       enumerated.

       The kernel provides a <a href="../man2/POLL.2.html">POLL</a>(2) capable sysfs file (<u>scrub</u>) to indicate the state of ARS. The <u>scrub</u> file
       maintains a running count of ARS runs that have taken place. While a current run is in progress a <u>+</u>
       character is emitted along with the current count. The <u>ndctl</u> <u>wait-scrub</u> operation waits for <u>scrub</u>, across
       all specified buses, to indicate not in-progress at least once.

</pre><h4><b>EXAMPLE</b></h4><pre>
       Wait for scrub on all nvdimm buses in the system. The json listing report at the end only includes the
       buses that support ARS operations.

           # ndctl wait-scrub
           [
             {
               "provider":"nfit_test.1",
               "dev":"ndbus3",
               "scrub_state":"idle"
             },
             {
               "provider":"nfit_test.0",
               "dev":"ndbus2",
               "scrub_state":"idle"
             }
           ]

       When specifying an individual bus, or if there is only one bus in the system, the command reports whether
       ARS support is available.

           # ndctl wait-scrub e820
           error waiting for scrub completion: Operation not supported

</pre><h4><b>OPTIONS</b></h4><pre>
       -v, --verbose
           Emit debug messages for the ARS wait process

</pre><h4><b>COPYRIGHT</b></h4><pre>
       Copyright Â© 2016 - 2022, Intel Corporation. License GPLv2: GNU GPL version 2
       <a href="http://gnu.org/licenses/gpl.html">http://gnu.org/licenses/gpl.html</a>. This is free software: you are free to change and redistribute it.
       There is NO WARRANTY, to the extent permitted by law.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <a href="../man1/ndctl-start-scrub.1.html">ndctl-start-scrub</a>(1), ACPI &lt;<a href="http://www.uefi.org/sites/default/files/resources/ACPI">http://www.uefi.org/sites/default/files/resources/ACPI</a>%206_2_A_Sept29.pdf&gt;
       6.2 Specification Section 9.20.7.2 Address Range Scrubbing (ARS) Overview"

ndctl                                              2024-11-01                                <u><a href="../man1/NDCTL-WAIT-SCRUB.1.html">NDCTL-WAIT-SCRUB</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>