<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ndctl-start-scrub - start an Address Range Scrub (ARS) operation</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/ndctl">ndctl_77-2.2ubuntu2_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       ndctl-start-scrub - start an Address Range Scrub (ARS) operation

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <u>ndctl</u> <u>start-scrub</u> [&lt;bus-id&gt; &lt;bus-id2&gt; ... &lt;bus-idN&gt;] [&lt;options&gt;]

</pre><h4><b>DESCRIPTION</b></h4><pre>
       NVDIMM Address Range Scrub is a capability provided by platform firmware that allows for the discovery of
       memory errors by system software. It enables system software to pre-emptively avoid accesses that could
       lead to uncorrectable memory error handling events, and it otherwise allows memory errors to be
       enumerated.

       The kernel provides a sysfs file (<u>scrub</u>) that when written with the string "1\n" initiates an ARS
       operation. The <u>ndctl</u> <u>start-scrub</u> operation starts an ARS, across all specified buses, and the kernel in
       turn proceeds to scrub every persistent memory address region on the specified buses.

</pre><h4><b>EXAMPLE</b></h4><pre>
       Start a scrub on all nvdimm buses in the system. The json listing report only includes the buses that
       support ARS operations.

           # ndctl start-scrub
           [
             {
               "provider":"nfit_test.1",
               "dev":"ndbus3",
               "scrub_state":"active"
             },
             {
               "provider":"nfit_test.0",
               "dev":"ndbus2",
               "scrub_state":"active"
             }
           ]

       When specifying an individual bus, or if there is only one bus in the system, the command reports whether
       ARS support is available.

           # ndctl start-scrub e820
           error starting scrub: Operation not supported

</pre><h4><b>OPTIONS</b></h4><pre>
       -v, --verbose
           Emit debug messages for the ARS start process

</pre><h4><b>COPYRIGHT</b></h4><pre>
       Copyright Â© 2016 - 2022, Intel Corporation. License GPLv2: GNU GPL version 2
       <a href="http://gnu.org/licenses/gpl.html">http://gnu.org/licenses/gpl.html</a>. This is free software: you are free to change and redistribute it.
       There is NO WARRANTY, to the extent permitted by law.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <a href="../man1/ndctl-wait-scrub.1.html">ndctl-wait-scrub</a>(1), ACPI &lt;<a href="http://www.uefi.org/sites/default/files/resources/ACPI">http://www.uefi.org/sites/default/files/resources/ACPI</a>%206_2_A_Sept29.pdf&gt; 6.2
       Specification Section 9.20.7.2 Address Range Scrubbing (ARS) Overview"

ndctl                                              2024-11-01                               <u><a href="../man1/NDCTL-START-SCRUB.1.html">NDCTL-START-SCRUB</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>