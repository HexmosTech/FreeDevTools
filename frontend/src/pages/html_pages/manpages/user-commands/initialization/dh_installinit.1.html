<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>dh_installinit - install service init files into package build directories</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/debhelper">debhelper_13.24.1ubuntu2_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       dh_installinit - install service init files into package build directories

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>dh_installinit</b> [<u>debhelper</u> <u>options</u>] [<b>--name=</b><u>name</u>] [<b>-n</b>] [<b>-R</b>] [<b>-r</b>] [<b>-d</b>] [<b>--</b> <u>params</u>]

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>dh_installinit</b> is a debhelper program that is responsible for installing init scripts with associated
       defaults files.  In compatibility levels up to and including 10, <b>dh_installinit</b> will also install some
       systemd related files provided by the debian packaging (see the "FILES" section below).  In compatibility
       levels up to and including 11, <b>dh_installinit</b> will also handle upstart jobs provided in the debian
       packaging (see the "FILES" for more information on this as well).

       It also automatically generates the <u>postinst</u> and <u>postrm</u> and <u>prerm</u> commands needed to set up the symlinks
       in <u>/etc/rc*.d/</u> to start and stop the init scripts.

       In compat 10 or earlier: If a package only ships a systemd service file and no sysvinit script is
       provided, you may want to exclude the call to dh_installinit for that package (e.g. via <b>-N</b>).  Otherwise,
       you may get warnings from lintian about init.d scripts not being included in the package.

</pre><h4><b>FILES</b></h4><pre>
       debian/<u>package</u>.init
           If this exists, it is installed into etc/init.d/<u>package</u> in the package build directory.

       debian/<u>package</u>.default
           If this exists, it is installed into etc/default/<u>package</u> in the package build directory.

       debian/<u>package</u>.upstart
           In  compatibility level 11, this file will trigger an error with a reminder about ensuring the proper
           removal of the upstart file in the previous package version.  Please consider using the "rm_conffile"
           feature from <b><a href="../man1/dh_installdeb.1.html">dh_installdeb</a></b>(1) to ensure the proper removal of previous upstart files.

           In compatibility level 10, if this file exists, it is installed  into  etc/init/<u>package</u>.conf  in  the
           package build directory.

       debian/<u>package</u>.service
           If  this  exists,  it  is  installed into <u>usr/lib/systemd/system/package.service</u> in the package build
           directory. Only used in compat levels 10 and below.

       debian/<u>package</u>.tmpfile
           If this exists, it is installed into usr/lib/tmpfiles.d/<u>package</u>.conf in the package build  directory.
           Only used in compat levels 10 and below.

</pre><h4><b>OPTIONS</b></h4><pre>
       <b>-n</b>, <b>--no-scripts</b>
           Do not modify <u>postinst</u>/<u>postrm</u>/<u>prerm</u> scripts.

       <b>-o</b>, <b>--only-scripts</b>
           Only  modify  <u>postinst</u>/<u>postrm</u>/<u>prerm</u>  scripts, do not actually install any init script, default files,
           upstart job or systemd service file. May be useful  if  the  file  is  shipped  and/or  installed  by
           upstream in a way that doesn't make it easy to let <b>dh_installinit</b> find it.

           <b>Caveat</b>:  This  will  bypass  all the regular checks and <u>unconditionally</u> modify the scripts.  You will
           almost certainly want to use this with <b>-p</b>  to  limit,  which  packages  are  affected  by  the  call.
           Example:

            override_dh_installinit:
                   dh_installinit -pfoo --only-scripts
                   dh_installinit --remaining

       <b>-R</b>, <b>--restart-after-upgrade</b>
           Do  not stop the init script until after the package upgrade has been completed.  This is the default
           behaviour in compat 10.

           In early compat levels, the default was to stop the script in the <u>prerm</u>, and starts it again  in  the
           <u>postinst</u>.

           This  can be useful for daemons that should not have a possibly long downtime during upgrade. But you
           should make sure that the daemon will not get confused by  the  package  being  upgraded  while  it's
           running before using this option.

       <b>--no-restart-after-upgrade</b>
           Undo  a  previous  <b>--restart-after-upgrade</b>  (or  the  default of compat 10).  If no other options are
           given, this will cause the service to be stopped in  the  <u>prerm</u>  script  and  started  again  in  the
           <u>postinst</u> script.

       <b>-r</b>, <b>--no-stop-on-upgrade</b>, <b>--no-restart-on-upgrade</b>
           Do not stop init script on upgrade.  This has the side-effect of not restarting the service as a part
           of the upgrade.

           If you want to restart the service with minimal downtime, please use <b>--restart-after-upgrade</b> (default
           in  compat  10 or later).  If you want the service to be restarted but be stopped during the upgrade,
           then please use <b>--no-restart-after-upgrade</b> (note the "after-upgrade").

           Note that the <b>--no-restart-on-upgrade</b> alias is deprecated and will be removed in compat 12.  This  is
           to  avoid confusion with the <b>--no-restart-after-upgrade</b> option.  The <b>--no-stop-on-upgrade</b> variant was
           introduced in debhelper 10.2 (included in Debian stretch).

       <b>--no-start</b>
           Do not start the init script on install or upgrade, or stop it on removal.   Only  call  <b>update-rc.d</b>.
           Useful for rcS scripts.

       <b>--no-enable</b>
           Disable  the  init  script  on  purge,  but  do not enable them on install.  This implies a versioned
           dependency on <b>init-system-helpers</b> <b>(&gt;=</b> <b>1.51)</b> as it is the first  (functional)  version  that  supports
           <b>update-rc.d</b> <b>&lt;script&gt;</b> <b>defaults-disabled</b>.

           <b>Note</b>  that this option does not affect whether the services are started.  Please remember to also use
           <b>--no-start</b> if the service should not be started.

           Cannot be combined with <b>-u</b><u>params</u>, <b>--update-rcd-params=</b><u>params</u>, or <b>--</b> <u>params</u>.

       <b>-d</b>, <b>--remove-d</b>
           Remove trailing <b>d</b> from the name of the package, and use the result for the filename the  upstart  job
           file  is  installed  as  in  <u>etc/init/</u>  ,  and  for  the  filename the init script is installed as in
           etc/init.d and the default file is installed as in <u>etc/default/</u>. This may be useful for daemons  with
           names ending in <b>d</b>. (Note: this takes precedence over the <b>--init-script</b> parameter described below.)

       <b>-u</b><u>params</u> <b>--update-rcd-params=</b><u>params</u>
       <b>--</b> <u>params</u>
           Pass  <u>params</u>  to  <b><a href="../man8/update-rc.d.8.html">update-rc.d</a></b>(8).  If not specified, <b>defaults</b> (or <b>defaults-disabled</b> with <b>--no-enable</b>)
           will be passed to <b><a href="../man8/update-rc.d.8.html">update-rc.d</a></b>(8).

           Cannot be combined with <b>--no-enable</b>.

       <b>--name=</b><u>name</u>
           Install the init script (and default file) as well as  upstart  job  file  using  the  filename  <u>name</u>
           instead  of  the  default  filename,  which  is  the  package  name.  When  this  parameter  is used,
           <b>dh_installinit</b>    looks    for     and     installs     files     named     <u>debian/package.name.init</u>,
           <u>debian/package.name.default</u> and <u>debian/package.name.upstart</u> instead of the usual <u>debian/package.init</u>,
           <u>debian/package.default</u> and <u>debian/package.upstart</u>.

       <b>--init-script=</b><u>scriptname</u>
           Use <u>scriptname</u> as the filename the init script is installed as in <u>etc/init.d/</u> (and also use it as the
           filename  for  the defaults file, if it is installed). If you use this parameter, <b>dh_installinit</b> will
           look to see if a file in the <u>debian/</u> directory exists that looks like <u>package.scriptname</u>  and  if  so
           will install it as the init script in preference to the files it normally installs.

           This  parameter  is deprecated, use the <b>--name</b> parameter instead. This parameter is incompatible with
           the use of upstart jobs.

       <b>--error-handler=</b><u>function</u>
           Call the named shell <u>function</u> if running the init script fails. The function should  be  provided  in
           the <u>prerm</u> and <u>postinst</u> scripts, before the <b>#DEBHELPER#</b> token.

</pre><h4><b>NOTES</b></h4><pre>
       Note  that  this  command  is  not  idempotent.  <b><a href="../man1/dh_prep.1.html">dh_prep</a></b>(1)  should be called between invocations of this
       command. Otherwise, it may cause multiple instances of the same text to be added to maintainer scripts.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man7/debhelper.7.html">debhelper</a></b>(7), <b><a href="../man1/dh_installsystemd.1.html">dh_installsystemd</a></b>(1)

       This program is a part of debhelper.

</pre><h4><b>AUTHORS</b></h4><pre>
       Joey Hess &lt;<a href="mailto:joeyh@debian.org">joeyh@debian.org</a>&gt;

       Steve Langasek &lt;<a href="mailto:steve.langasek@canonical.com">steve.langasek@canonical.com</a>&gt;

       Michael Stapelberg &lt;<a href="mailto:stapelberg@debian.org">stapelberg@debian.org</a>&gt;

13.24.1ubuntu2                                     2025-02-11                                  <u><a href="../man1/DH_INSTALLINIT.1.html">DH_INSTALLINIT</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>