<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>dh_linktree - create symlink trees to embed files from other packages</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/dh-linktree">dh-linktree_0.9_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       dh_linktree - create symlink trees to embed files from other packages

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>dh_linktree</b> [<u>debhelper</u> <u>options</u>] [<b>-A</b>] [<b>-X</b><u>item</u>] [<u>action</u> <u>source</u> <u>destination</u> ...]

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>dh_linktree</b> is a debhelper program that creates symlink trees in package build directories. The symlinks
       points to files provided by other packages and which have to be present during build. As such you have to
       put the packages providing the destination files in the build dependencies. For any symlink it creates,
       it will add to <b>${misc:Depends}</b> the dependency that is required to ensure that the target of the symlink
       is available.

</pre><h4><b>RATIONALE</b></h4><pre>
       This tool has been developed to handle the case of embedded libraries written in interpreted languages
       (javascript, PHP, etc.). You usually want to replace the embedded copy by the packaged one except if they
       are not compatible. Since both versions evolve separately, you might have to frequently switch between
       the embedded version and the packaged one.

       If the embedded library had been replaced by a symlink to the top-level directory, you would have to add
       code to the preinst/postinst every time that you switch from one to the other (to replace the real
       directory with a symlink and vice-versa). With a symlink tree, dpkg is doing everything by itself.

       Since symlink trees are created statically at build-time, they are not very future-proof and have a risk
       to miss some files introduced by a newer version of the package providing the file tree which is
       duplicated. That's why the generated dependencies generally ensure that the same upstream version be used
       at run-time than at build-time.

</pre><h4><b>USAGE</b></h4><pre>
       <b>dh_linktree</b> accepts arguments by set of 3. One action followed by source and destination
       file/directories. Symlinking files works just like <b>dh_link</b> but symlinking directories will recreate the
       same directory hierarchy and all individual files will be turned into symlinks.

       The source files are the already existing files that will be symlinked from.  The destination files are
       the symlinks that will be created.

       Be sure you <b>do</b> specify the full filename to both the source and destination files (unlike what you would
       do if you were using something like <b><a href="../man1/ln.1.html">ln</a></b>(1)).

       <b>dh_linktree</b> will generate symlinks that comply with Debian policy: absolute when policy says they should
       be absolute, and relative links with as short a path as possible. It will also create any subdirectories
       it needs to to put the symlinks in.

       Note that <b>dh_linktree</b> will not be executed automatically by <b>dh</b>, you need to use <b>dh</b> <b>$@</b> <b>--with</b> <b>linktree</b> to
       get it hooked in the list of dh_* commands automatically executed by <b>dh</b>.

</pre><h4><b>FILES</b></h4><pre>
       debian/<u>package</u>.linktrees
           Lists  source  and destination trees to be symlinked. Each line consists of 3 fields: the action, the
           source directory, the destination directory.  should be put on its own  line,  with  the  source  and
           destination separated by whitespace.

</pre><h4><b>OPTIONS</b></h4><pre>
       <b>-X</b><u>item</u>, <b>--exclude=</b><u>item</u>
           Do not create symlinks for files that contain <u>item</u> anywhere in their filename.

       <u>action</u> <u>source</u> <u>destination</u> ...
           If the action is "embed" create a symlink tree named <u>destination</u> with all files within it pointing to
           the corresponding file in <u>source</u>. It generates a strong dependency ("exactly same upstream version").

           The  "embed-weakdep"  action  is  like  "embed", except it generates a weak dependency ("at least the
           current upstream version").

           The "deduplicate" action will not create new  files  but  it  will  replace  existing  files  in  the
           destination  directory  with  symlinks to the corresponding source file provided that both files have
           the same content.  It generates a strong dependency.

           The "replace" action is like "deduplicate" except that it does replace existing files even  if  their
           content  is different from the content of the source files. It generates a weak dependency ("at least
           the current upstream version") on the basis that you already assume that both version are compatible,
           otherwise you would have used "deduplicate" or "embed".

</pre><h4><b>EXAMPLES</b></h4><pre>
        dh_linktree embed usr/share/javascript/jquery usr/share/wordpress/plugin-jquery

       Make <u>plugin-jquery</u> be a symlink tree to <u>jquery</u>.

</pre><h4><b>ERRORS</b></h4><pre>
        dpkg-query: no path found matching pattern /some/file.
        [...]
        dh_linktree: error: dpkg --search -- /some/file [...] gave error exit status 1

       You get this error when the source tree contains files (here <u>/some/file</u>) that are not  managed  by  dpkg.
       <b>dh_linktree</b> can't generate a correct dependency for a file that is unknown to dpkg and thus fails.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man7/debhelper.7.html">debhelper</a></b>(7)

       This program is a part of debhelper.

</pre><h4><b>AUTHOR</b></h4><pre>
       Raphael Hertzog &lt;<a href="mailto:hertzog@debian.org">hertzog@debian.org</a>&gt; Joey Hess &lt;<a href="mailto:joeyh@debian.org">joeyh@debian.org</a>&gt;

dh_linktree 0.9                                    2022-04-25                                     <u><a href="../man1/DH_LINKTREE.1.html">DH_LINKTREE</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>