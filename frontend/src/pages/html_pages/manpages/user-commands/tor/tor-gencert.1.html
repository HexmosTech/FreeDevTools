<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>tor-gencert - Generate certs and keys for Tor directory authorities</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/tor">tor_0.4.8.14-1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       tor-gencert - Generate certs and keys for Tor directory authorities

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>tor-gencert</b> [-h|--help] [-v] [-r|--reuse] [--create-identity-key] [-i <u>id_file</u>] [-c <u>cert_file</u>] [-m <u>num</u>]
       [-a <u>address</u>:<u>port</u>]

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>tor-gencert</b> generates certificates and private keys for use by Tor directory authorities running the v3
       Tor directory protocol, as used by Tor 0.2.0 and later. If you are not running a directory authority, you
       don’t need to use tor-gencert.

       Every directory authority has a long term authority <u>identity</u> <u>key</u> (which is distinct from the identity key
       it uses as a Tor server); this key should be kept offline in a secure location. It is used to certify
       shorter-lived <u>signing</u> <u>keys</u>, which are kept online and used by the directory authority to sign votes and
       consensus documents.

       After you use this program to generate a signing key and a certificate, copy those files to the keys
       subdirectory of your Tor process, and send Tor a SIGHUP signal. DO NOT COPY THE IDENTITY KEY.

</pre><h4><b>OPTIONS</b></h4><pre>
       <b>-v</b>
           Display verbose output.

       <b>-h</b> or <b>--help</b>
           Display help text and exit.

       <b>-r</b> or <b>--reuse</b>
           Generate a new certificate, but not a new signing key. This can be used to change the address or
           lifetime associated with a given key.

       <b>--create-identity-key</b>
           Generate a new identity key. You should only use this option the first time you run tor-gencert; in
           the future, you should use the identity key that’s already there.

       <b>-i</b> <u>FILENAME</u>
           Read the identity key from the specified file. If the file is not present and --create-identity-key
           is provided, create the identity key in the specified file. Default: "./authority_identity_key"

       <b>-s</b> <u>FILENAME</u>
           Write the signing key to the specified file. Default: "./authority_signing_key"

       <b>-c</b> <u>FILENAME</u>
           Write the certificate to the specified file. Default: "./authority_certificate"

       <b>-m</b> <u>NUM</u>
           Number of months that the certificate should be valid. Default: 12.

       <b>--passphrase-fd</b> <u>FILEDES</u>
           Filedescriptor to read the passphrase from. Ends at the first NUL or newline. Default: read from the
           terminal.

       <b>-a</b> <u>address</u>:<u>port</u>
           If provided, advertise the address:port combination as this authority’s preferred directory port in
           its certificate. If the address is a hostname, the hostname is resolved to an IP before it’s
           published.

</pre><h4><b>BUGS</b></h4><pre>
       This probably doesn’t run on Windows. That’s not a big issue, since we don’t really want authorities to
       be running on Windows anyway.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man1/tor.1.html">tor</a></b>(1)

       See also the "dir-spec.txt" file, distributed with Tor.

</pre><h4><b>AUTHOR</b></h4><pre>
       <b>Tor</b> <b>Project,</b> <b>Inc.</b>
           Author.

Tor                                                02/05/2025                                     <u><a href="../man1/TOR-GENCERT.1.html">TOR-GENCERT</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>