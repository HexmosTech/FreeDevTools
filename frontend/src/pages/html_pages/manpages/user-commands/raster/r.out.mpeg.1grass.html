<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>r.out.mpeg  - Converts raster map series to MPEG movie.</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/grass-doc">grass-doc_8.4.1-1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       <b>r.out.mpeg</b>  - Converts raster map series to MPEG movie.

</pre><h4><b>KEYWORDS</b></h4><pre>
       raster, export, output, animation

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>r.out.mpeg</b>
       <b>r.out.mpeg</b> <b>--help</b>
       <b>r.out.mpeg</b>      [-<b>c</b>]     <b>view1</b>=<u>name</u>[,<u>name</u>,...]      [<b>view2</b>=<u>name</u>[,<u>name</u>,...]]       [<b>view3</b>=<u>name</u>[,<u>name</u>,...]]
       [<b>view4</b>=<u>name</u>[,<u>name</u>,...]]  <b>output</b>=<u>name</u>  [<b>quality</b>=<u>integer</u>]   [--<b>overwrite</b>]  [--<b>help</b>]  [--<b>verbose</b>]  [--<b>quiet</b>]
       [--<b>ui</b>]

   <b>Flags:</b>
       <b>-c</b>
           Convert on the fly, uses less disk space
           Requires r.out.ppm with stdout option

       <b>--overwrite</b>
           Allow output files to overwrite existing files

       <b>--help</b>
           Print usage summary

       <b>--verbose</b>
           Verbose module output

       <b>--quiet</b>
           Quiet module output

       <b>--ui</b>
           Force launching GUI dialog

   <b>Parameters:</b>
       <b>view1</b>=<u>name[,name</u>,...] <b>[required]</b>
           Name of input raster map(s) for view no.1

       <b>view2</b>=<u>name[,name</u>,...]
           Name of input raster map(s) for view no.2

       <b>view3</b>=<u>name[,name</u>,...]
           Name of input raster map(s) for view no.3

       <b>view4</b>=<u>name[,name</u>,...]
           Name of input raster map(s) for view no.4

       <b>output</b>=<u>name</u> <b>[required]</b>
           Name for output file

       <b>quality</b>=<u>integer</u>
           Quality factor (1 = highest quality, lowest compression)
           Options: <u>1-5</u>
           Default: <u>3</u>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <u>r.out.mpeg</u> is a tool for combining a series of GRASS raster maps into a single  MPEG-1  (Motion  Pictures
       Experts  Group)  format  file.   MPEG-1  is  a  "lossy"  video compression format, so the quality of each
       resulting frame of the animation will be much diminished from the original raster image.   The  resulting
       output  file  may  then  be  viewed  using  your favorite mpeg-format viewing program.  MPEG-2 and MPEG-4
       provide much better quality animations.

       The user may define up to four "views", or sub-windows, to animate simultaneously.  e.g., View 1 could be
       rainfall, View 2 flooded areas, View 3 damage to bridges or levees, View 4  other  economic  damage,  all
       animated  as a time series. A black border 2 pixels wide is drawn around each view. There is an arbitrary
       limit of 400 files per view (400 animation frames).   Temporary  files  are  created  in  the  conversion
       process, so lack of adequate tmp space could also limit the number of frames you are able to convert.

       The  environment  variable  GMPEG_SIZE  is checked for a value to use as the dimension, in pixels, of the
       longest dimension of the animation image.  If GMPEG_SIZE is not set, the animation size defaults  to  the
       rows  &amp;  columns  in  the current GRASS region, scaling if necessary to a default minimum size of 200 and
       maximum of 500.  These size defaults are overridden when using the <b>-c</b> flag (see below). The resolution of
       the current GRASS region is maintained, independent of image size.  Playback programs have to decode  the
       compressed  data  "on-the-fly",  therefore smaller dimensioned animations will provide higher frame rates
       and smoother animations.

       UNIX - style wild cards may be used with the command line version in place of a raster map name, but wild
       cards must be quoted.

       A quality value of <b>quality=1</b> will yield higher quality images, but with  less  compression  (larger  MPEG
       file  size). Compression ratios will vary depending on the number of frames in the animation, but an MPEG
       produced using <b>quality=5</b> will usually be about 60% the size of the MPEG produced using <b>quality=1</b>.

</pre><h4><b>EXAMPLES</b></h4><pre>
       r.out.mpeg view1="rain[1-9]","rain1[0-2]" view2="temp*"

       If the number of files differs for each view, the view with the fewest files will determine the number of
       frames in the animation.

       With <b>-c</b> flag the module converts "on the fly", uses less disk space by using <u>r.out.ppm</u> with stdout option
       to convert frames as needed instead of converting all frames to  ppm  before  encoding.   Only  use  when
       encoding a single view.  Use of this option also overrides any size defaults, using the <b>CURRENTLY</b> <b>DEFINED</b>
       <b>GRASS</b> <b>REGION</b> <b>for</b> <b>the</b> <b>output</b> <b>size</b>. So be careful to set region to a reasonable size prior to encoding.

</pre><h4><b>KNOWN</b> <b>ISSUES</b></h4><pre>
       MPEG  images  must  be  16-pixel  aligned  for  successful  compression,  so if the rows &amp; columns of the
       calculated image size (scaled, with borders added) are not evenly divisible by  16,  a  few  rows/columns
       will  be  cut  off the bottom &amp; right sides of the image. The MPEG format is optimized to recognize image
       MOTION, so abrupt changes from one frame to another will cause a "noisy" encoding.

</pre><h4><b>NOTES</b></h4><pre>
       This program requires the program <u>mpeg_encode</u> (aka <u>ppmtompeg</u>):

       MPEG-1 Video Software Encoder
       (Version 1.3; March 14, 1994)

       Lawrence A. Rowe, Kevin Gong, Ketan Patel, and Dan  Wallach  Computer  Science  Division-EECS,  Univ.  of
       Calif. at Berkeley

       Available from Berkeley: <a href="http://biowiki.org/BerkeleyMpegEncoder">http://biowiki.org/BerkeleyMpegEncoder</a> (Wayback machine)
       or as part of the netpbm package (<u>ppmtompeg</u>): https://netpbm.sourceforge.net

       Use of the <b>-c</b> flag requires the <u>r.out.ppm</u> GRASS module with the <b>stdout</b> option.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <u>r.out.ppm</u>

</pre><h4><b>AUTHOR</b></h4><pre>
       Bill Brown, U.S. Army Construction Engineering Research Laboratories

</pre><h4><b>SOURCE</b> <b>CODE</b></h4><pre>
       Available at: r.out.mpeg source code (history)

       Accessed: Friday Apr 04 01:19:19 2025

       Main index | Raster index | Topics index | Keywords index | Graphical index | Full index

       Â© 2003-2025 GRASS Development Team, GRASS GIS 8.4.1 Reference Manual

GRASS 8.4.1                                                                                   <u><a href="../man1grass/r.out.mpeg.1grass.html">r.out.mpeg</a></u>(1grass)
</pre>
 </div>
</div></section>
</div>
</body>
</html>