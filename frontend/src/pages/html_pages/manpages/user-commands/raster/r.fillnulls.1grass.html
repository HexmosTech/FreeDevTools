<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>r.fillnulls  - Fills no-data areas in raster maps using spline interpolation.</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/grass-doc">grass-doc_8.4.1-1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       <b>r.fillnulls</b>  - Fills no-data areas in raster maps using spline interpolation.

</pre><h4><b>KEYWORDS</b></h4><pre>
       raster, surface, elevation, interpolation, splines, no-data filling

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>r.fillnulls</b>
       <b>r.fillnulls</b> <b>--help</b>
       <b>r.fillnulls</b>  <b>input</b>=<u>name</u>  <b>output</b>=<u>name</u>  <b>method</b>=<u>string</u>   [<b>tension</b>=<u>float</u>]    [<b>smooth</b>=<u>float</u>]    [<b>edge</b>=<u>integer</u>]
       [<b>npmin</b>=<u>integer</u>]   [<b>segmax</b>=<u>integer</u>]   [<b>lambda</b>=<u>float</u>]   [<b>memory</b>=<u>memory</u>  <u>in</u>  <u>MB</u>]    [--<b>overwrite</b>]   [--<b>help</b>]
       [--<b>verbose</b>]  [--<b>quiet</b>]  [--<b>ui</b>]

   <b>Flags:</b>
       <b>--overwrite</b>
           Allow output files to overwrite existing files

       <b>--help</b>
           Print usage summary

       <b>--verbose</b>
           Verbose module output

       <b>--quiet</b>
           Quiet module output

       <b>--ui</b>
           Force launching GUI dialog

   <b>Parameters:</b>
       <b>input</b>=<u>name</u> <b>[required]</b>
           Name of input raster map

       <b>output</b>=<u>name</u> <b>[required]</b>
           Name for output raster map

       <b>method</b>=<u>string</u> <b>[required]</b>
           Interpolation method to use
           Options: <u>bilinear,</u> <u>bicubic,</u> <u>rst</u>
           Default: <u>rst</u>

       <b>tension</b>=<u>float</u>
           Spline tension parameter
           Default: <u>40.</u>

       <b>smooth</b>=<u>float</u>
           Spline smoothing parameter
           Default: <u>0.1</u>

       <b>edge</b>=<u>integer</u>
           Width of hole edge used for interpolation (in cells)
           Options: <u>2-100</u>
           Default: <u>3</u>

       <b>npmin</b>=<u>integer</u>
           Minimum number of points for approximation in a segment (&gt;segmax)
           Options: <u>2-10000</u>
           Default: <u>600</u>

       <b>segmax</b>=<u>integer</u>
           Maximum number of points in a segment
           Options: <u>2-10000</u>
           Default: <u>300</u>

       <b>lambda</b>=<u>float</u>
           Tykhonov regularization parameter (affects smoothing)
           Used in bilinear and bicubic spline interpolation
           Default: <u>0.01</u>

       <b>memory</b>=<u>memory</u> <u>in</u> <u>MB</u>
           Maximum memory to be used (in MB)
           Cache size for raster rows
           Default: <u>300</u>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <u>r.fillnulls</u>  fills NULL pixels (no data areas) in input raster map and stores filled data to a new output
       raster map. The fill areas are interpolated from the no data  area  boundaries  buffer  using  <u>v.surf.rst</u>
       regularized  spline  interpolation  with  tension (<b>method=rst</b>) or <u>r.resamp.bspline</u> cubic or linear spline
       interpolation with Tykhonov regularization.

</pre><h4><b>NOTES</b></h4><pre>
       Each area boundary buffer is set to three times the map resolution to get nominally three  points  around
       the  edge.  This  way  the algorithm interpolates into the hole with a trained slope and curvature at the
       edges, in order to avoid that such a flat plane is generated in a hole. The width of  edge  area  can  be
       adjusted by changing the edge parameter.

       During the interpolation following warning may occur when using the RST method:

        Warning: strip exists with insufficient data
       Warning:  taking  too  long to find points for interpolation--please change the region to area where your
       points are

       This warning is generated if large data holes exist within the surface.  As the idea of <u>r.fillnulls</u> is to
       fill such holes, the user may ignore the warning. The interpolation will be continued. However, the  user
       may pay attention to below notes.

       If  interpolation  fails,  temporary raster and vector maps are left in place to allow unfilled map holes
       (NULL areas) to be identified and manually repaired.

       When using the default RST method, the algorithm is based on <u>v.surf.rst</u> regularized splines with  tension
       interpolation  module  which  interpolates  the  raster cell values for NULL data areas from the boundary
       values of the NULL data area. An eventual raster MASK is respected during the NULL data area(s)  filling.
       The  interpolated  values  are  patched  into the NULL data area(s) of the input map and saved into a new
       raster map.  Otherwise, either the linear or cubic spline interpolation with Tykhonov regularization  can
       be selected (based on <u>r.resamp.bspline</u>).

</pre><h4><b>WARNING</b></h4><pre>
       Depending on the shape of the NULL data area(s) problems may occur due to an insufficient number of input
       cell  values  for the interpolation process. Most problems will occur if a NULL data area reaches a large
       amount of the map boundary. The user will have to carefully check the result using <u>r.mapcalc</u>  (generating
       a  difference  map  to  the input map and applying the "differences" color table with <u>r.colors</u>) and/or to
       query individual cell values.

       RST method stores temporary maps on hard disk. It will require at least as much free space as  one  extra
       input raster map takes.

</pre><h4><b>EXAMPLE</b></h4><pre>
       In  this  example,  the  SRTM  elevation map in the North Carolina sample dataset is filtered for outlier
       elevation values; missing pixels are then re-interpolated to obtain a complete elevation map:
       g.region raster=elev_srtm_30m -p
       d.mon wx0
       d.histogram elev_srtm_30m
       # remove SRTM outliers, i.e. SRTM below 50m (esp. lakes), leading to no data areas
       r.mapcalc "elev_srtm_30m_filt = if(elev_srtm_30m &lt; 50.0, null(), elev_srtm_30m)"
       d.histogram elev_srtm_30m_filt
       d.rast elev_srtm_30m_filt
       # using the default RST method to fill these holes in DEM
       r.fillnulls input=elev_srtm_30m_filt output=elev_srtm_30m_rst tension=20
       # using the bilinear method to fill these holes in DEM
       r.fillnulls input=elev_srtm_30m_filt output=elev_srtm_30m_bilin method=bilinear
       d.histogram elev_srtm_30m_rst
       d.rast elev_srtm_30m_rst
       d.erase
       d.histogram elev_srtm_30m_bilin
       d.rast elev_srtm_30m_bilin
       r.mapcalc "diff_rst_bilin = elev_srtm_30m_rst - elev_srtm_30m_bilin"
       r.colors diff_rst_bilin color=differences
       r.univar -e diff_rst_bilin
       d.erase
       d.rast diff_rst_bilin
       d.legend diff_rst_bilin

</pre><h4><b>REFERENCES</b></h4><pre>
           •   Mitas, L., Mitasova, H.,  1999,  Spatial  Interpolation.  In:  P.Longley,  M.F.  Goodchild,  D.J.
               Maguire,  D.W.Rhind  (Eds.), Geographical Information Systems: Principles, Techniques, Management
               and Applications, Wiley, pp.481-492

           •   Mitasova H., Mitas L.,  Brown W.M.,    D.P.  Gerdes,  I.   Kosinovsky,  Baker,  T.1995,  Modeling
               spatially   and   temporally  distributed  phenomena:  New  methods  and  tools  for  GRASS  GIS.
               <u>International</u> <u>Journal</u> <u>of</u> <u>GIS</u>, 9 (4), special issue on Integrating GIS and Environmental modeling,
               433-446.

           •   Mitasova H.  and Mitas L. 1993: Interpolation by Regularized Spline with Tension: I.  Theory  and
               Implementation, <u>Mathematical</u> <u>Geology</u> 25, 641-655.

           •   Mitasova  H.   and  Hofierka  L.  1993:  Interpolation  by  Regularized  Spline with Tension: II.
               Application to Terrain Modeling and Surface Geometry Analysis, <u>Mathematical</u> <u>Geology</u> 25, 657-667.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
        <u>r.fill.dir,</u> <u>r.mapcalc,</u> <u>r.resamp.bspline,</u> <u>v.surf.bspline,</u> <u>v.surf.rst,</u> <u>v.fill.holes</u>

</pre><h4><b>AUTHORS</b></h4><pre>
       Markus Neteler, University of Hannover and Fondazione Edmund Mach
       Improvement by Hamish Bowman, NZ

</pre><h4><b>SOURCE</b> <b>CODE</b></h4><pre>
       Available at: r.fillnulls source code (history)

       Accessed: Friday Apr 04 01:21:11 2025

       Main index | Raster index | Topics index | Keywords index | Graphical index | Full index

       © 2003-2025 GRASS Development Team, GRASS GIS 8.4.1 Reference Manual

GRASS 8.4.1                                                                                  <u><a href="../man1grass/r.fillnulls.1grass.html">r.fillnulls</a></u>(1grass)
</pre>
 </div>
</div></section>
</div>
</body>
</html>