<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>pkextractogr - extract pixel values from raster image from a (vector or raster) sample</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/pktools">pktools_2.6.7.6+ds-6build4_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       pkextractogr - extract pixel values from raster image from a (vector or raster) sample

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>pkextractogr</b> <b>-i</b> <u>input</u> [<b>-s</b> <u>sample</u> | <b>-rand</b> <u>number</u> | <b>-grid</b> <u>size</u>] <b>-o</b> <u>output</u> [<u>options</u>]

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>pkextractogr</b> extracts pixel values from an input raster dataset, based on the locations you provide via a
       sample  file.   Alternatively,  a  random sample or systematic grid of points can also be extracted.  The
       sample can be a vector file with points or polygons.  In the case of polygons, you can either extract the
       values for all raster pixels that are covered by the polygons, or extract a single value for each polygon
       such as the centroid, mean, median, etc.  As output, a new copy of the vector file is created with an ex‐
       tra attribute for the extracted pixel value.  For each raster band in the input  image,  a  separate  at‐
       tribute  is created.  For instance, if the raster dataset contains three bands, three attributes are cre‐
       ated (b0, b1 and b2).

       A typical usage of <b>pkextractogr</b> is to prepare a training sample for one of the classifiers implemented in
       pktools.

       Overview of the possible extraction rules:
       Extraction rule   Output features
       point             Extract all pixel values  covered  by
                         the polygon (option <b>-polygon</b> not set)
                         or extract a pixel on the surface op‐
                         tion (<b>-polygon</b> set).
       allpoints         Extract  all  pixel values covered by
                         the polygon.
       centroid          Extract pixel value at  the  centroid
                         of the polygon.
       mean              Extract  average  of all pixel values
                         within the polygon.
       stdev             Extract  standard  deviation  of  all
                         pixel values within the polygon.
       median            Extract  median  of  all pixel values
                         within the polygon.
       min               Extract minimum value of  all  pixels
                         within the polygon.
       max               Extract  maximum  value of all pixels
                         within the polygon.
       sum               Extract sum of the values of all pix‐
                         els within the polygon.
       mode              Extract the mode  of  classes  within
                         the polygon (classes must be set with
                         the option class).
       proportion        Extract proportion of class(es) with‐
                         in  the  polygon (classes must be set
                         with the option class).
       count             Extract count of class(es) within the
                         polygon (classes must be set with the
                         option class).
       percentile        Extract percentile as defined by  op‐
                         tion  perc  (e.g,  95th percentile of
                         values covered by polygon).

</pre><h4><b>OPTIONS</b></h4><pre>
       <b>-i</b> <u>filename</u>, <b>--input</b> <u>filename</u>
              Raster input dataset containing band information

       <b>-s</b> <u>sample</u>, <b>--sample</b> <u>sample</u>
              OGR vector dataset with features to be extracted from input data.  Output  will  contain  features
              with input band information included.  Sample image can also be GDAL raster dataset.

       <b>-ln</b> <u>layer</u>, <b>--ln</b> <u>layer</u>
              Layer name(s) in sample (leave empty to select all)

       <b>-rand</b> <u>number</u>, <b>--random</b> <u>number</u>
              Create simple random sample of points.  Provide number of points to generate

       <b>-grid</b> <u>size</u>, <b>--grid</b> <u>size</u>
              Create systematic grid of points.  Provide cell grid size (in projected units, e.g,. m)

       <b>-o</b> <u>filename</u>, <b>--output</b> <u>filename</u>
              Output sample dataset Output sample dataset

       <b>-c</b> <u>class</u>, <b>--class</b> <u>class</u>
              Class(es)  to  extract from input sample image.  Leave empty to extract all valid data pixels from
              sample dataset.  Make sure to set classes if rule is set to mode, proportion or count.

       <b>-t</b> <u>threshold</u>, <b>--threshold</b> <u>threshold</u>
              Probability threshold for selecting samples (randomly).  Provide probability in percentage (&gt;0) or
              absolute (&lt;0).  Use a single threshold per vector sample layer.  If using raster land  cover  maps
              as  a  sample  dataset,  you can provide a threshold value for each class (e.g. <b>-t</b> <u>80</u> <b>-t</b> <u>60</u>).  Use
              value 100 to select all pixels for selected class(es)

       <b>-perc</b> <u>percentile</u>, <b>--perc</b> <u>percentile</u>
              Percentile value used for rule percentile

       <b>-f</b> <u>format</u>, <b>--f</b> <u>format</u>
              Output sample dataset format

       <b>-ft</b> <u>fieldType</u>, <b>--ftype</b> <u>fieldType</u>
              Field type (only Real or Integer)

       <b>-lt</b> <u>labelType</u>, <b>--ltype</b> <u>labelType</u>
              Label type: In16 or String

       <b>-b</b> <u>band</u>, <b>--band</b> <u>band</u>
              Band index(es) to extract.  Leave empty to use all bands

       <b>-sband</b> <u>band</u>, <b>--startband</b> <u>band</u>
              Start band sequence number

       <b>-eband</b> <u>band</u>, <b>--endband</b> <u>band</u>
              End band sequence number

       <b>-r</b> <u>rule</u>, <b>--rule</b> <u>rule</u>
              Rule how to report image information per feature (only for vector sample).  point (value  at  each
              point  or  at  centroid  if  polygon), centroid, mean, stdev, median, proportion, count, min, max,
              mode, sum, percentile.

       <b>-bndnodata</b> <u>band</u>, <b>--bndnodata</b> <u>band</u>
              Band(s) in input image to check if pixel is valid (used for srcnodata)

       <b>-srcnodata</b> <u>value</u>, <b>--srcnodata</b> <u>value</u>
              Invalid value(s) for input image

       <b>-tp</b> <u>threshold</u>, <b>--thresholdPolygon</b> <u>threshold</u>
              (absolute) threshold for selecting samples in each polygon

       <b>-buf</b> <u>value</u>, <b>--buffer</b> <u>value</u>
              Buffer for calculating statistics for point features

       <b>-circ</b>, <b>--circular</b>
              Use a circular disc kernel buffer (for vector point sample datasets only, use in combination  with
              buffer option)

       <b>-v</b> <u>level</u>, <b>--verbose</b> <u>level</u>
              Verbose mode if &gt; 0

                                                 01 January 2025                                 <u><a href="../man1/pkextractogr.1.html">pkextractogr</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>