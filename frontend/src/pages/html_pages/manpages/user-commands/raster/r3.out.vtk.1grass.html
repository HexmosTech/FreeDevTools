<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>r3.out.vtk  - Converts 3D raster maps into the VTK-ASCII format.</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/grass-doc">grass-doc_8.4.1-1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       <b>r3.out.vtk</b>  - Converts 3D raster maps into the VTK-ASCII format.

</pre><h4><b>KEYWORDS</b></h4><pre>
       raster3d, export, output, voxel, VTK

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>r3.out.vtk</b>
       <b>r3.out.vtk</b> <b>--help</b>
       <b>r3.out.vtk</b>    [-<b>psmocl</b>]     [<b>input</b>=<u>name</u>[,<u>name</u>,...]]      [<b>output</b>=<u>name</u>]      [<b>null</b>=<u>float</u>]     [<b>top</b>=<u>string</u>]
       [<b>bottom</b>=<u>string</u>]       [<b>rgbmaps</b>=<u>name</u>[,<u>name</u>,...]]        [<b>vectormaps</b>=<u>name</u>[,<u>name</u>,...]]        [<b>zscale</b>=<u>float</u>]
       [<b>precision</b>=<u>integer</u>]   [--<b>overwrite</b>]  [--<b>help</b>]  [--<b>verbose</b>]  [--<b>quiet</b>]  [--<b>ui</b>]

   <b>Flags:</b>
       <b>-p</b>
           Create VTK pointdata instead of VTK celldata (celldata is default)

       <b>-s</b>
           Create 3D elevation output with a top and a bottom surface, both raster maps are required.

       <b>-m</b>
           Use 3D raster mask (if exists) with input maps

       <b>-o</b>
           Scale factor affects the origin

       <b>-c</b>
           Correct the coordinates to match the VTK-OpenGL precision

       <b>-l</b>
           Do not convert the top-bottom resolution in case of lat long projection to meters

       <b>--overwrite</b>
           Allow output files to overwrite existing files

       <b>--help</b>
           Print usage summary

       <b>--verbose</b>
           Verbose module output

       <b>--quiet</b>
           Quiet module output

       <b>--ui</b>
           Force launching GUI dialog

   <b>Parameters:</b>
       <b>input</b>=<u>name[,name</u>,...]
           3D raster map(s) to be converted to VTK-ASCII data format

       <b>output</b>=<u>name</u>
           Name for VTK-ASCII output file

       <b>null</b>=<u>float</u>
           Float value to represent no data cell/points
           Default: <u>-99999.99</u>

       <b>top</b>=<u>string</u>
           Top surface 2D raster map

       <b>bottom</b>=<u>string</u>
           Bottom surface 2D raster map

       <b>rgbmaps</b>=<u>name[,name</u>,...]
           Three (R,G,B) 3D raster maps to create RGB values [redmap,greenmap,bluemap]

       <b>vectormaps</b>=<u>name[,name</u>,...]
           Three (x,y,z) 3D raster maps to create vector values [xmap,ymap,zmap]

       <b>zscale</b>=<u>float</u>
           Scale factor for elevation
           Default: <u>1.0</u>

       <b>precision</b>=<u>integer</u>
           Number of significant digits (floating point only)
           Options: <u>0-20</u>
           Default: <u>12</u>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The module <u>r3.out.vtk</u> outputs 3D raster maps into VTK-ASCII format.  Maps are valid 3D raster maps in the
       current mapset search path. The <u>output</u> parameter is the name of a VTK-ASCII file which will be written in
       the  current  working  directory.  If  <u>output</u> is not specified then standard output (stdout) is used. The
       module is sensitive to region settings (set with <u>g.region</u>).

</pre><h4><b>NOTES</b></h4><pre>
       This module generates <u>structured</u> <u>points</u> with <u>celldata</u> (default) or <u>pointdata</u>. If top and bottom  surfaces
       are  requested an <u>unstructured</u> <u>grid</u> with <u>celldata</u> or a <u>structured</u> <u>grid</u> with <u>pointdata</u> is generated.  This
       data is put in a simple VTK-ASCII file. Neither XML nor binary output are supported. It  is  possible  to
       choose  more then one 3D raster map to be written in the VTK-ASCII file. Each <u>celldata</u> is named as the 3D
       raster map it represents. The user can visualize this file with the  <u>VTK</u>  <u>Toolkit</u>,  <u>ParaView</u>  and  <u>MayaVi</u>
       which are based on VTK. In case of 3D raster map with partially no data, the threshold filter in ParaView
       can  be  used  to  visualize the valid data. Just filter all data which is greater/lesser than the chosen
       null value in the VTK-ASCII file.

       The top and bottom region values are expected in meters.  If a Latitude-Longitude  (LL)  coordinates  are
       used, the elevation value for each voxel will be converted into degrees.

       The <u>input</u>, <u>rgbmaps</u> and <u>vectormaps</u> parameters are optional, so only the geometry can be exported.

       If  the  user  defines  <u>top</u>  and <u>bottom</u> and the 2D and 3D region values differ, the 2D resolution will be
       adjusted to the 3D resolution. The elevation maps are expected in meters.  If  Lat/Long  coordinates  are
       used,  the  elevation  will automatically converted into degree.  If the surface and bottom maps are in a
       different unit than meters, use the scale parameter to convert them into meters.

       The RGB voxel data can be created from 2D raster maps (Landsat TM images) with <u>r.to.rast3</u>. The values  of
       the RGB maps must be within 0 and 255. If not, the values are automatically set to 0 and warnings will be
       printed to stderr.

       The  vector  data  is created from three 3D raster maps. Each map represents a vector component.  So x, y
       and z components are required in this order. This data can be visualized  with  Glyph3d  or  StreamTracer
       filters within Paraview.

       If  the <u>-c</u> flag is used and the data should be visualised together with other data exported via <u>*.out.vtk</u>
       modules, be sure the <u>-c</u> flag was also set in these modules. But this will only work with  data  from  the
       SAME location (the reference point for the coordinates transformation is based on the center point of the
       default region).

   <b>Difference</b> <b>between</b> <b>point-</b> <b>and</b> <b>celldata</b>
       <u>r3.out.vtk</u> can export 3D raster maps with different representations.

           •   <u>pointdata</u> -- the cells/values are represented by the center of the cell. Instead of cells, points
               are created. Each point can hold different values, but the user can only visualize one value at a
               time.

           •   <u>celldata</u>  The  cells are created with the same height, width and depth as in GRASS. Each cell can
               hold different values, but the user can only visualize one value at a time.

</pre><h4><b>EXAMPLES</b></h4><pre>
   <b>Simple</b> <b>Spearfish</b> <b>example</b>
       g.region -d
       g.region res=150 res3=150 t=80 b=0 tbres=10
       r.mapcalc "bottom = 1800. - elevation.10m"
       # synthetic data, could be geological structures:
       r3.mapcalc "map3d = row()+col()+depth()"
       #export of volume to VTK:
       r3.out.vtk -s input=map3d top=elevation.10m bottom=bottom output=/tmp/out.vtk
       # visualize in paraview or other VTK viewer:
       paraview --data=/tmp/out.vtk

   <b>Spearfish</b> <b>example</b> <b>with</b> <b>RGB</b> <b>data</b>
       #set the region
       g.region -d
       g.region n=4926970 s=4914857 w=591583 e=607793 res=50 res3=50 t=80 b=0 tbres=10
       #create a bottom surface
       r.mapcalc "bottom = 1800. - elevation.10m"
       # synthetic data, could be geological structures:
       r3.mapcalc "map3d = row()+col()+depth()"
       #get some satellite images with r.in.onearth
       r.in.onearth -l output=Sat tmband=Red
       r.in.onearth -l output=Sat tmband=IR1
       r.in.onearth -l output=Sat tmband=IR2
       #Convert the 2D maps to 3D raster maps with r.to.rast3
       r.to.rast3 input=SatLandsatTM_Red output=SatLandsatTM_Red
       r.to.rast3 input=SatLandsatTM_IR1 output=SatLandsatTM_IR1
       r.to.rast3 input=SatLandsatTM_IR2 output=SatLandsatTM_IR2
       #export of volume to VTK:
       r3.out.vtk -s rgbmaps=SatLandsatTM_IR1,SatLandsatTM_IR2,SatLandsatTM_Red
       input=map3d top=elevation.10m bottom=bottom output=/tmp/out.vtk
       # visualize in paraview or other VTK viewer:
       paraview --data=/tmp/out.vtk

   <b>Spearfish</b> <b>example</b> <b>with</b> <b>vector</b> <b>data</b>
       # set the region
       g.region -d
       g.region n=4926970 s=4914857 w=591583 e=607793 res=50 res3=50 t=80 b=0 tbres=10
       # create a bottom surface
       r.mapcalc "bottom = 1800. - elevation.10m"
       # synthetic data, could be geological structures:
       r3.mapcalc "map3d = row()+col()+depth()"
       # synthetic vector data, could be groundwater stream vectors
       r3.mapcalc "x_part = sin(row())"
       r3.mapcalc "y_part = cos(col())"
       r3.mapcalc "z_part = sin(depth())"
       # export the stuff data to VTK:
       r3.out.vtk -s vectormaps=x_part,y_part,z_part input=map3d top=elevation.10m
       bottom=bottom output=/tmp/out.vtk
       # visualize in paraview or other VTK viewer:
       paraview --data=/tmp/out.vtk
       # Now use the Glyph and Stream-Trace Filter to get nice vectors and streamlines

   <b>Slovakia3d</b> <b>example</b>
       #reduce resolution:
       g.region -dp3 res=1000 res3=1000
       r.mapcalc "bottom = 100"
       #export of volume to VTK:
       r3.out.vtk -s in=precip3d.500z50 top=dem500 bottom=bottom \
          output=/path/to/slovakia3d.vtk
       # visualize in paraview or other VTK viewer:
       paraview --data=/path/to/slovakia3d.vtk
       # set Display style to ’surface#
       # set Actor Control z to 10

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
        <u>r.out.vtk,</u> <u>r3.out.ascii,</u> <u>g.region</u>

</pre><h4><b>AUTHOR</b></h4><pre>
       Sören Gebbert

</pre><h4><b>SOURCE</b> <b>CODE</b></h4><pre>
       Available at: r3.out.vtk source code (history)

       Accessed: Friday Apr 04 01:20:08 2025

       Main index | 3D raster index | Topics index | Keywords index | Graphical index | Full index

       © 2003-2025 GRASS Development Team, GRASS GIS 8.4.1 Reference Manual

GRASS 8.4.1                                                                                   <u><a href="../man1grass/r3.out.vtk.1grass.html">r3.out.vtk</a></u>(1grass)
</pre>
 </div>
</div></section>
</div>
</body>
</html>