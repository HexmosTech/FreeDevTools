<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>gbp-buildpackage-rpm - Build RPM packages from a Git repository</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/git-buildpackage-rpm">git-buildpackage-rpm_0.9.37_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       gbp-buildpackage-rpm - Build RPM packages from a Git repository

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>gbp</b> <b>buildpackage-rpm</b> [<b>--git-[no-]ignore-new</b>] [<b>--git-tag</b>] [<b>--git-verbose</b>] [<b>--git-color=</b>[auto|on|off]]
                            [<b>--git-color-scheme=</b> <u>COLOR_SCHEME</u>] [<b>--git-notify=</b>[auto|on|off]] [<b>--git-tmp-dir</b>=
                            <u>DIRECTORY</u>] [<b>--git-vendor</b>= <u>VENDOR</u>] [<b>--git-native</b>[auto|on|off]]
                            [<b>--git-upstream-branch=</b> <u>TREEISH</u>] [<b>--git-packaging-branch=</b> <u>BRANCH_NAME</u>]
                            [<b>--git-ignore-branch</b>] [<b>--git-[no-]submodules</b>] [<b>--git-builder=</b> <u>BUILD_CMD</u>]
                            [<b>--git-cleaner=</b> <u>CLEAN_CMD</u>] [<b>--git-[no-]sign-tags</b>] [<b>--git-keyid=</b> <u>GPG-KEYID</u>]
                            [<b>--git-posttag=</b> <u>COMMAND</u>] [<b>--git-postbuild=</b> <u>COMMAND</u>] [<b>--git-postexport=</b> <u>COMMAND</u>]
                            [<b>--git-prebuild=</b> <u>COMMAND</u>] [<b>--git-preexport=</b> <u>COMMAND</u>] [<b>--git-[no-]build</b>]
                            [<b>--git-[no-]hooks</b>] [<b>--git-packaging-tag=</b> <u>TAG-FORMAT</u>] [<b>--git-upstream-tag=</b> <u>TAG-</u>
                            <u>FORMAT</u>] [<b>--git-force-create</b>] [<b>--git-no-create-orig</b>] [<b>--git-upstream-tree=</b>
                            <u>[TAG|BRANCH|TREEISH]</u>] [<b>--git-tarball-dir=</b> <u>DIRECTORY</u>] [<b>--git-compression-level=</b>
                            <u>LEVEL</u>] [<b>--git-export-dir=</b> <u>DIRECTORY</u>] [<b>--git-export=</b> <u>TREEISH</u>] [<b>--git-packaging-dir=</b>
                            <u>DIRECTORY</u>] [<b>--git-spec-file=</b> <u>FILEPATH</u>] [<b>--git-export-sourcedir</b>= <u>DIRECTORY</u>]
                            [<b>--git-export-specdir</b>= <u>DIRECTORY</u>] [<b>--git-[no-]pristine-tar</b>]
                            [<b>--git-[no-]pristine-tar-commit</b>] [<b>--git-tag-only</b>] [<b>--git-retag</b>] [<b>--git-mock</b>]
                            [<b>--git-dist</b>= <u>DISTRIBUTION</u>] [<b>--git-arch</b>= <u>ARCHITECTURE</u>] [<b>--git-mock-options</b>= <u>OPTIONS</u>]
                            [<b>--git-mock-root</b>= <u>ROOT</u>] [<b>--git-spec-vcs-tag</b>= <u>TAG_FORMAT</u>]

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>gbp</b> <b>buildpackage-rpm</b>  is  used  to build RPM packages from a Git repository. It is an RPM counterpart for
       the <b>gbp</b> <b>buildpackage</b> tool that is designed for building Debian packages.

       <b>gbp</b> <b>buildpackage-rpm</b> will, in order:

       • Verify that it is being executed from the proper location.

       • Verify that the repository doesn't contain any uncommitted source changes.

       • Verify that it is being executed from the correct branch.

       • Export packaging files to a separate build area.

       • Create an orig source tarball if it doesn't exist.

       • Call <a href="../man1/rpmbuild.1.html">rpmbuild</a>(1) (or the application specified via <b>--git-builder</b>), passing along all command line argu‐
         ments that don't start with --git-.

       • (Optionally) tag the tree after a successful build.

       • (Optionally) call a post build hook - e.g. to run <b>rpmlint</b>.

       • (Optionally) call a post tag hook - e.g. to push the results to a remote repository after creating  the
         tag.

</pre><h4><b>OPTIONS</b></h4><pre>
       <b>--git-[no-]ignore-new</b>
              Don't  abort  if  there  are  uncommitted changes in the source tree or the current branch doesn't
              match the <u>PACKAGING-BRANCH</u>.

       <b>--git-tag</b>
              Add a git tag after a successful build.

       <b>--git-builder=</b><u>BUILD_CMD</u>
              Use <u>BUILD_CMD</u> instead of <b>rpmbuild</b> <b>-ba</b>.

       <b>--git-cleaner=</b><u>CLEAN_CMD</u>
              Use <u>CLEAN_CMD</u>.

       <b>--git-verbose</b>
              Verbose execution

       <b>--git-color=</b>[auto|on|off]
              Whether to use colored output.

       <b>--git-color-scheme=</b><u>COLOR_SCHEME</u>
              Colors to use in output (when color is enabled). The  format  for  COLOR_SCHEME  is  '&lt;debug&gt;:&lt;in‐
              fo&gt;:&lt;warning&gt;:&lt;error&gt;'.  Numerical values and color names are accepted, empty fields imply the de‐
              fault  color.  For  example --git-color-scheme='cyan:34::' would show debug messages in cyan, info
              messages in blue and other messages in default (i.e. warning and error messages in red).

       <b>--git-notify=</b>[auto|on|off]
              Whether to send a desktop notification after the build.

       <b>--git-tmp-dir</b>=<u>DIRECTORY</u>
              Base directory under which temporary directories are created.

       <b>--git-vendor</b>=<u>VENDOR</u>
              Distribution vendor name.

       <b>--git-native=</b>[auto|on|off]
              Define the 'nativity' of a package. The default value <u>auto</u> makes  <b>gbp</b> <b>buildpackage-rpm</b>  to  guess.
              Guessing is based on the existence of upstream branch.

       <b>--git-upstream-branch</b>=<u>BRANCH_NAME</u>
              Branch  to  build  the  orig  tarball from if <b>--git-upstream-tree</b> is set to <u>BRANCH</u>. Default is <u>up‐</u>
              <u>stream</u>.

       <b>--git-packaging-branch</b>=<u>BRANCH_NAME</u>
              If you're not on this branch when invoking <b>gbp</b> <b>buildpackage-rpm</b> it will fail. Default  is  <u>master</u>.
              This  is  done  to make sure you don't accidentally release from a topic branch. Not being on this
              branch will be ignored when using <b>--git-ignore-new</b>.

       <b>--git-ignore-branch</b>
              Don't check if the current branch matches <u>PACKAGING-BRANCH</u>.

       <b>--git-[no-]submodules</b>
              Include git submodules in the orig tarball.

       <b>--git-[no-]sign-tags</b>
              GPG sign all created tags.

       <b>--git-keyid=</b><u>GPG-KEYID</u>
              Use this keyid for gpg signing tags.

       <b>--git-posttag=</b><u>COMMAND</u>
              Execute <u>COMMAND</u> after tagging a new version.

              Exported environment variables are: <b>GBP_TAG</b> (the name  of  the  generated  tag),  <b>GBP_BRANCH</b>  (the
              branch the package was built from) and <b>GBP_SHA1</b> (the sha1 of the commit the tag was created at).

       <b>--git-postbuild=</b><u>COMMAND</u>
              Execute <u>COMMAND</u> after successful build.

              Exported  environment  variables  are:  <b>GBP_CHANGES_FILE</b> (the name of the generated changes file),
              <b>GBP_BUILD_DIR</b> (the build dir).

       <b>--git-preexport=</b><u>COMMAND</u>
              Execute <u>COMMAND</u> before exporting the source tree.

              Exported environment variables are: <b>GBP_GIT_DIR</b> (the repository the package is being built  from),
              <b>GBP_TMP_DIR</b> (the temporary directory where the sources have been initially exported).

       <b>--git-postexport=</b><u>COMMAND</u>
              Execute <u>COMMAND</u> after exporting the source tree.

              Exported  environment variables are: <b>GBP_GIT_DIR</b> (the repository the package is being built from),
              <b>GBP_TMP_DIR</b> (the temporary directory where the sources have been initially exported).

       <b>--git-prebuild=</b><u>COMMAND</u>
              Execute <u>COMMAND</u> from the build directory before calling rpmbuild or the application specified  via
              <b>--git-builder</b>.

              Exported  environment variables are: <b>GBP_GIT_DIR</b> (the repository the package is being built from),
              <b>GBP_BUILD_DIR</b> (the build dir).

       <b>--git-[no-]build</b>
              Enable builder. Note: <b>--git-no-build</b> causes the postbuild hook to be disabled, too.

       <b>--git-[no-]hooks</b>
              Enable running all (cleaner, preexport, postexport, prebuild, postbuild, and posttag) hooks. Note:
              the <b>--git-builder</b> command is not affected by this option.

       <b>--git-packaging-tag=</b><u>TAG-FORMAT</u>
              Use this tag format when tagging released versions of the package.

       <b>--git-upstream-tag=</b><u>TAG-FORMAT</u>
              Use this tag format when looking for tags of upstream versions, default is <u>upstream/%(version)s</u>.

       <b>--git-force-create</b>
              Force creation of an orig tarball (overwriting a pre-existing one if present).

       <b>--git-no-create-orig</b>
              Don't try to create any orig tarball.

       <b>--git-export-dir=</b><u>DIRECTORY</u>
              Export the packaging files from the current branch head (or the treeish object given via <b>--git-ex‐</b>
              <b>port</b> to <u>DIRECTORY</u> before building.

       <b>--git-export-sourcedir</b>=<u>DIRECTORY</u> , <b>--git-export-specdir</b>=<u>DIRECTORY</u>
              Subdirectories under export directory where packaging files are exported. The  default  build  op‐
              tions of rpmbuild builder are also adjusted accordingly.

       <b>--git-export=</b><u>TREEISH</u>
              Instead  of exporting the current branch head, export the treeish object <u>TREEISH</u>. The special name
              <u>INDEX</u> exports the current index, <u>WC</u>) exports all files in the current working directory.

       <b>--git-packaging-dir=</b><u>DIRECTORY</u>
              Subdirectory that contains the RPM packaging files.

       <b>--git-spec-file=</b><u>FILEPATH</u>
              Relative path to the spec file to use. Special value <u>auto</u> causes  <b>gbp</b> <b>buildpackage-rpm</b>  to  search
              and  guess.  Other values cause the <b>--git-packaging-dir</b> option to be ignored: the directory of the
              spec file is used, instead.

       <b>--git-upstream-tree=</b><u>[TAG|BRANCH|TREEISH]</u>
              How to find the upstream sources used to generate the tarball.  <u>TAG</u> looks at a  tag  corresponding
              to  the  version  in  the  changelog.  <u>BRANCH</u> looks at the upstream branch given via the <b>--git-up‐</b>
              <b>stream-branch</b> option. Other values are interpreted as treeishs.

              This doesn't have any effect if <b>--git-pristine-tar</b> is being used.

       <b>--git-tarball-dir=</b><u>DIRECTORY</u>
              Search for original tarballs in <u>DIRECTORY</u> instead of generating them.

       <b>--git-compression-level=</b><u>LEVEL</u>
              Specifies the upstream tarball compression level if an upstream tarball needs to be built.

       <b>--git-tag-only</b>
              Don't build, only tag and run post-tag hooks.

       <b>--git-retag</b>
              Don't fail tag operations if a tag with the same version already exists, but, overwrite the exist‐
              ing tag, instead.

       <b>--git-pristine-tar</b>
              Use pristine-tar when generating the upstream tarball if it doesn't exist.

       <b>--git-pristine-tar-commit</b>
              Commit the pristine-tar delta to the pristine-tar branch if a new tarball was  generated  and  the
              pristine-tar data isn't already there.

       <b>--git-mock</b>
              Use mock to build the rpms by invoking <b>gbp-builder-mock</b>.

       <b>--git-dist</b>
              Build for this distribution when using mock (e.g.: epel-6).

       <b>--git-arch</b>
              Build  for  this  architecture when using mock, default is to build for the current host architec‐
              ture.

       <b>--git-mock-root</b>
              The mock root to use. Defaults to <u>DIST</u>-<u>ARCH</u> from above.

       <b>--git-mock-options</b>
              Additional options to pass to mock. Default is to pass no additional options.

       <b>--git-spec-vcs-tag</b>=<u>TAG_FORMAT</u>
              <b>gbp</b> <b>buildpackage-rpm</b> always automatically sets/updates the 'VCS:' tag in the spec file  after  ex‐
              porting. This option defines the format string for the 'VCS:' tag. An empty value causes no 'VCS:'
              tag to be inserted and possible old 'VCS:' tag to be removed. Otherwise, the old 'VCS:' tag is up‐
              dated  or  a new 'VCS:' tag is added if one does not exist. In the format string '%(tagname)s' ex‐
              pands to the long tag name (from git-describe) and '%(commit)s' expans to the sha1 of the exported
              commit.

</pre><h4><b>EXAMPLES</b></h4><pre>
       Only build a source RPM with <b>rpmbuild</b>

             <b>gbp</b> <b>buildpackage-rpm</b> -bs

       Build an RPM package with <b>rpmbuild</b> on a custom branch with the uncommitted changes included.

             <b>gbp</b> <b>buildpackage-rpm</b> --git-ignore-branch --git-export=WC

</pre><h4><b>CONFIGURATION</b> <b>FILES</b></h4><pre>
       Several <u>gbp.conf</u> files are parsed  to  set  defaults  for  the  above  command-line  arguments.  See  the
       <b><a href="../man5/gbp.conf.5.html">gbp.conf</a></b>(5) manpage for details.

       All options in the config files are specified without the 'git-' prefix.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man1/gbp-import-srpm.1.html">gbp-import-srpm</a></b>(1),  <b><a href="../man1/gbp-pq-rpm.1.html">gbp-pq-rpm</a></b>(1), <b><a href="../man1/gbp-rpm-ch.1.html">gbp-rpm-ch</a></b>(1), <b><a href="../man8/rpmbuild.8.html">rpmbuild</a></b>(8), <b><a href="../man1/mock.1.html">mock</a></b>(1), <b><a href="../man5/gbp.conf.5.html">gbp.conf</a></b>(5), <b><a href="../man1/debuild.1.html">debuild</a></b>(1), <b><a href="../man1/git.1.html">git</a></b>(1),
       <b><a href="../man1/pristine-tar.1.html">pristine-tar</a></b>(1), The Git-Buildpackage Manual ⟨file:///usr/share/doc/git-buildpackage/manual-html/
       index.html⟩

</pre><h4><b>AUTHOR</b></h4><pre>
       Markus Lehtonen &lt;<a href="mailto:markus.lehtonen@linux.intel.com">markus.lehtonen@linux.intel.com</a>&gt;

                                                 9 January 2025                          <u><a href="../man1/gbp-buildpackage-rpm.1.html">gbp-buildpackage-rpm</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>