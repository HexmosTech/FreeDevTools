<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>samtools-reset - removes the alignment information added by aligners and updates flags accordingly</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/samtools">samtools_1.21-1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       samtools-reset - removes the alignment information added by aligners and updates flags accordingly

</pre><h4><b>SYNOPSIS</b></h4><pre>
       samtools  reset  [<b>-o</b>  <u>FILE</u>] [<b>-x,--remove-tag</b> <u>STR</u>] [<b>--keep-tag</b> <u>STR</u>] [<b>--reject-PG</b> <u>pgid</u>] [<b>--no-RG</b>] [<b>--no-PG</b>]
       [<b>--dupflag</b>] [...]

</pre><h4><b>DESCRIPTION</b></h4><pre>
       Removes the alignment information added by the aligner. CIGAR and reference data are removed.  Flags  are
       updated  as unmapped, non-duplicate and as not a proper pair.  If the alignment was in reverse direction,
       data and its quality values are reversed and complemented and the reverse flag is  reset.   Supplementary
       and secondary alignment data are discarded.

       Aux  tags  that  will be retained in output can be controlled by keep-tag and remove-tag/x. These options
       take tags as comma separated lists.  Aux tags AS, CC, CG, CP, H1, H2, HI, H0, IH, MC, MD, MQ, NM, SA  and
       TS are removed by default, this can be overridden using keep-tag.

       PG  and  RG  tags  from input are written on the output by default.  CO lines are not retained after this
       operation.

       The sort order is unchanged, so users may consider combining this with <b>samtools</b> <b>collate</b> or <b>sort</b> <b>-n</b> if  it
       is a requirement to group pairs of sequences together.

</pre><h4><b>OPTIONS</b></h4><pre>
       <b>-o</b> <u>FILE</u> Output file to which reset data is to be written. If not given, standard output will be used.

       <b>-x</b> <u>STR</u><b>,</b> <b>--remove-tag</b> <u>STR</u>
               Read  tag(s)  to  exclude  from  output (repeatable) [null].  This can be a single tag or a comma
               separated list.  Alternatively the option itself can be repeated multiple times.

               If the list starts with a `^' then it is negated and treated as a  request  to  remove  all  tags
               except those in <u>STR</u>. The list may be empty, so <b>-x</b> <b>^</b> will remove all tags.

       <b>--keep-tag</b> <u>STR</u>
               This  keeps  <u>only</u> tags listed in <u>STR</u> and is directly equivalent to <b>--remove-tag</b> <b>^</b><u>STR</u>.  Specifying
               an empty list will remove all tags.  If both  <b>--keep-tag</b>  and  <b>--remove-tag</b>  are  specified  then
               <b>--keep-tag</b> has precedence.

       <b>--reject-PG</b> <u>pgid</u>
               The  PG  line  which has the ID matching <u>pgid</u> and all subsequent PG lines will be removed. If the
               option itself is absent, the default, all PG entries will be in output.

       <b>--no-RG</b> RG lines in input will be discarded with this option. By default, RG lines  will  be  present  in
               output.

               With this option, RG aux tags will also be discarded.

       <b>--no-PG</b> Do not add a @PG line to the header of the output file listing the <b>reset</b> command.  By default the
               PG entry for reset will be present in the output.

       <b>--dupflag</b>
               Keep the duplicate flag as it is. This option is absent by default and alignments are marked non-
               duplicates.

       <b>-@,--thread</b> <u>N</u>
               This gives the number of worker threads to be used.

       <b>-O,--output-fmt</b> <u>FMT[,options]</u>
               Sets the format of the output file and any associated format-specific options.  If this option is
               not present, the format is identified from the output file name extension.

</pre><h4><b>EXAMPLES</b></h4><pre>
       Basic usage, to reset the data:

         samtools reset -o out.bam in.bam

       To keep aux tags RG and BC in the output:

         samtools reset -o out.sam --keep-tag RG,BC in.bam

       To discard PG entries from 'bwa_index' onwards,

         samtools reset -o out.sam --reject-PG=bwa_index

       To set output format for use within a pipeline:

         samtools collate -O -u input.cram | \
           samtools reset --output-fmt BAM,level=0 | \
           myaligner -I bam -o out.bam

</pre><h4><b>AUTHOR</b></h4><pre>
       Written by Vasudeva Sarma of the Wellcome Sanger Institute.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <u><a href="../man1/samtools.1.html">samtools</a></u>(1), <u><a href="../man1/samtools-collate.1.html">samtools-collate</a></u>(1)

       Samtools website: &lt;<a href="http://www.htslib.org/">http://www.htslib.org/</a>&gt;

samtools-1.21                                   12 September 2024                              <u><a href="../man1/samtools-reset.1.html">samtools-reset</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>