<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>pmdaoracle - Oracle database PMDA</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/pcp">pcp_6.3.3-1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       <b>pmdaoracle</b> - Oracle database PMDA

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>pmdaoracle</b>  is  a  Performance  Co-Pilot  PMDA which extracts live performance data from a running Oracle
       database.

</pre><h4><b>INSTALLATION</b></h4><pre>
       <b>pmdaoracle</b> uses a configuration file from (in this order):
       •   /etc/pcpdbi.conf
       •   $PCP_PMDAS_DIR/oracle/oracle.conf
       •   ./oracle.conf

       This file  can  contain  overridden  values  (Perl  code)  for  the  settings  listed  at  the  start  of
       pmdaoracle.pl, for example:
       •   $username - username to connect to the database [default: 'SYSTEM']
       •   $password - password to connect to the database [default: 'manager']
       •   $host - host the database is running on [default: 'localhost']
       •   $port - port the database is listening on [default: '1521']
       •   $os_user - operating system username (PMDA will run with the corresponding user id) [default: oracle]
       •   @sids - an array of $ORACLE_SID database identifiers [default: ('master')]

       In  order  to test your local settings, a simple script is provided that will connect and disconnect from
       the  database  -  verifying  fundamental  configuration  is  in  place  before  continuing  on.   If  the
       <b>$PCP_PMDAS_DIR/oracle/connect.pl</b>  script  cannot connect, do not proceed with installation of the PMDA as
       it will be unsuccessful.  Correct your local settings first.

       Once this is setup, you can access the names and values for the oracle performance metrics by  doing  the
       following as root:

           <b>#</b> <b>cd</b> <b>$PCP_PMDAS_DIR/oracle</b>
           <b>#</b> <b>./Install</b>

       To uninstall, the following must be done as root:

           <b>#</b> <b>cd</b> <b>$PCP_PMDAS_DIR/oracle</b>
           <b>#</b> <b>./Remove</b>

       <b>pmdaoracle</b>  is  launched by <u><a href="../man1/pmcd.1.html">pmcd</a></u>(1) and should never be executed directly. The Install and Remove scripts
       notify <u><a href="../man1/pmcd.1.html">pmcd</a></u>(1) when the agent is installed or removed.

</pre><h4><b>CONNECTION</b> <b>STATE</b></h4><pre>
       By default, <b>pmdaoracle</b> will aggressively attempt to maintain persistent connections to Oracle  to  ensure
       timely responses to its queries, and will automatically re-connect if a connection drops.

       However,  in  certain circumstances this may be undesirable, so a manual <b><a href="../man3/pmStore.3.html">pmStore</a></b>(3) mechanism is provided
       to explicitly control disconnecting and reconnecting to an  Oracle  instance.   This  can  be  used,  for
       example,  to  ensure  that  <b>pmdaoracle</b>  is  not  connected at shutdown, to ensure a clean Oracle shutdown
       process.

       The <b>pmstore</b> <b>(1)</b> command can be used to disconnect and reconnect.  Using the individual instances  of  the
       oracle.control.connected  metric,  one  can  set  the  connection  state  to  either  up (1) or down (0).
       Additionally, <b><a href="../man1/pminfo.1.html">pminfo</a></b>(1) can report on the current status of Oracle connections.

            # pminfo ‐f oracle.control.connected

            oracle.control.connected
                inst [0 or "master"] value 1

            # pmstore oracle.control.connected 0
            oracle.control.connected inst [0 or "master"] old value=1 new value=0

</pre><h4><b>FILES</b></h4><pre>
       <b>/etc/pcpdbi.conf</b>
           configuration file for all PCP database monitors
       <b>$PCP_PMDAS_DIR/oracle/oracle.conf</b>
           configuration file for <b>pmdaoracle</b>
       <b>$PCP_PMDAS_DIR/oracle/sample.conf</b>
           example configuration file for <b>pmdaoracle</b> using $LD_LIBRARY_PATH
       <b>$PCP_PMDAS_DIR/oracle/connect.pl</b>
           configuration test script for <b>Oracle</b> database connectivity
       <b>$PCP_PMDAS_DIR/oracle/Install</b>
           installation script for the <b>pmdaoracle</b> agent
       <b>$PCP_PMDAS_DIR/oracle/Remove</b>
           undo installation script for the <b>pmdaoracle</b> agent
       <b>$PCP_LOG_DIR/pmcd/oracle.log</b>
           default log file for error messages from <b>pmdaoracle</b>

</pre><h4><b>PCP</b> <b>ENVIRONMENT</b></h4><pre>
       Environment variables with the prefix <b>PCP_</b> are used to parameterize the file and directory names used  by
       <b>PCP</b>.  On  each  installation,  the file <b>/etc/pcp.conf</b> contains the local values for these variables.  The
       <b>$PCP_CONF</b> variable may be used to specify an alternative configuration file, as described in <u><a href="../man5/pcp.conf.5.html">pcp.conf</a></u>(5).

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man1/PCPIntro.1.html">PCPIntro</a></b>(1), <b><a href="../man1/pmdadbping.1.html">pmdadbping</a></b>(1), <b><a href="../man1/pminfo.1.html">pminfo</a></b>(1), <b><a href="../man1/pmstore.1.html">pmstore</a></b>(1), <b><a href="../man3/DBI.3.html">DBI</a></b>(3) and <b><a href="../man3/pmStore.3.html">pmStore</a></b>(3).

Performance Co-Pilot                                   PCP                                         <u><a href="../man1/PMDAORACLE.1.html">PMDAORACLE</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>