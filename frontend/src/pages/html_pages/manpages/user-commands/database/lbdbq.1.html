<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>lbdbq - query program for the little brother's database</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/lbdb">lbdb_0.56-1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       lbdbq - query program for the little brother's database

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>lbdbq</b> <u>something</u>
       <b>lbdbq</b> [<b>-v</b>|<b>--version</b>|<b>-h</b>|<b>--help</b>]

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>lbdbq</b>  is the client program for the little brother's database. It will attempt to invoke various modules
       to gather information about persons matching <u>something</u>.  E.g., it may look at a list  of  addresses  from
       which you have received mail, it may look at YP maps, or it may try to finger <u>something</u>@<u>&lt;various</u> <u>hosts&gt;</u>.

       The behavior is configurable: Upon startup, <b>lbdbq</b> will source the shell scripts:
              <u>/etc/lbdb.rc</u>
              <u>$XDG_CONFIG_HOME/lbdb/config</u>
              <u>$HOME/.lbdbrc</u>
              <u>$HOME/.lbdb/lbdbrc</u>
              <u>$HOME/.lbdb/rc</u>
       if they exist.

       They can be used to set the following global variables:

       <b>MODULES_PATH</b>
              a space separated list of directories, where <b>lbdbq</b> should look for modules.

       <b>METHODS</b>
              a space separated list of the modules to use.

       <b>SORT_OUTPUT</b>
              If  you  set this to <u>false</u> or <u>no</u>, lbdbq won't sort the addresses but returns them in reverse order
              (which means that the most recent address in m_inmail database is first). If you set this to <u>name</u>,
              lbdbq sorts the output by real name.  If you set this to  <u>comment</u>,  it  sort  the  output  by  the
              comment  (for example the date in <b>m_inmail</b>).  <u>reverse_comment</u> realizes the same as <u>comment</u>, but in
              reverse order, so the most recent timestamp of m_inmail may be on top. If you set  SORT_OUTPUT  to
              <u>address</u>, lbdbq sorts the output by addresses (that's the default).

       <b>KEEP_DUPES</b>
              If  you  set  this to <u>true</u> or <u>yes</u>, lbdbq won't remove duplicate addresses with different real name
              comment fields.

       Note that there <u>are</u> defaults, so you should most probably modify these variables  using  constructs  like
       this:
              MODULES_PATH="$MODULES_PATH $HOME/lbdb_modules"

       Additionally, modules may have configuration variables of their own.

</pre><h4><b>MODULES</b></h4><pre>
       Currently, the following modules are supplied with lbdb:

       <b>m_finger</b>
              This  module  will  use finger to find out something more about a person.  The list of hosts do be
              asked is configurable; use the  <b>M_FINGER_HOSTS</b>  variable.  Note  that  "localhost"  will  mean  an
              invocation  of  your  local  <b><a href="../man1/finger.1.html">finger</a></b>(1)  binary, and should thus work even if you don't provide the
              finger service to the network.  <b>m_finger</b> tries to find  out  the  machines  mail  domain  name  in
              <u>/etc/mailname</u>,  by  parsing  a <u>sendmail.cf</u> file (if it finds one) and by reading <u><a href="file:/etc/hostname">/etc/hostname</a></u> and
              <u>/etc/HOSTNAME</u>.  If you know that this fails on your  machine,  or  you  want  to  force  lbdbq  to
              consider  some other name to be the local mail domain name (misconfigured SUNs come to mind here),
              you can specify a name using the <b>MAIL_DOMAIN_NAME</b> variable. If this variable is  set  by  you,  no
              probing will be done by <b>lbdbq</b>.

       <b>m_inmail</b>
              This  module  will  look  up  user  name  fragments  in  a list of mail addresses created by <b><a href="../man1/lbdbfetchaddr.1.html">lbdb-</a></b>
              <b><a href="../man1/lbdbfetchaddr.1.html">fetchaddr</a></b>(1).  By default this  uses  <u>$XDG_DATA_HOME/lbdb/m_inmail.db</u>,  which  is  overridden,  if
              <u>$HOME/.lbdb/m_inmail.utf-8</u>  exists (the old default) as its database file, but this can be changed
              using <b>INMAIL_DB</b> variable (but do not forget to change this in  the  <b><a href="../man1/lbdb-fetchaddr.1.html">lbdb-fetchaddr</a></b>(1)  call  using
              option -f, too).

       <b>m_passwd</b>
              This  module  searches for matching entries in your local <a href="file:/etc/passwd">/etc/passwd</a> file. It evaluates the local
              machine mail domain in the same way <b>m_finger</b> does.  If you set <b>PASSWD_IGNORESYS=true</b>, this  module
              ignores  all  system  accounts  and  only  finds  UIDs  between 1000 and 29999 (all other UIDs are
              reserved on a Debian system).

       <b>m_yppasswd</b>
              This module searches for matching entries in the NIS password database using the  command  ``ypcat
              passwd''.

       <b>m_nispasswd</b>
              This module searches for matching entries in the NIS+ password database using the command ``niscat
              passwd.org_dir''.

       <b>m_getent</b>
              This  module  searches  for matching entries in whatever password database is configured using the
              command ``getent passwd''.

       <b>m_pgp2</b>, <b>m_pgp5</b>, <b>m_gpg</b>
              These modules scan your PGP 2.*, PGP 5.* or GnuPG public key ring for data. They use the  programs
              <b><a href="../man1/pgp.1.html">pgp</a></b>(1), <b><a href="../man1/pgpk.1.html">pgpk</a></b>(1), or <b><a href="../man1/gpg.1.html">gpg</a></b>(1) to get the data.

       <b>m_fido</b> This   module   searches   your   Fido   nodelist,   stored  in  <u>$HOME/.lbdb/nodelist</u>  created  by
              <b><a href="../man1/nodelist2lbdb.1.html">nodelist2lbdb</a></b>(1).

       <b>m_abook</b>
              This module uses the program <b><a href="../man1/abook.1.html">abook</a></b>(1), a  text  based  address  book  application  to  search  for
              addresses.   You  can define multiple abook address books by setting the variable <b>ABOOK_FILES</b> to a
              space separated list.

       <b>m_goobook</b>
              This module uses the program <b><a href="../man1/goobook.1.html">goobook</a></b>(1), a tool to access Google contacts via command line.

       <b>m_addr_email</b>
              This module uses the program <b><a href="../man1/addr-email.1.html">addr-email</a></b>(1),  a  text  based  frontend  to  the  Tk  <b><a href="../man1/addressbook.1.html">addressbook</a></b>(1)
              application.

       <b>m_muttalias</b>
              This  module  searches  the  variable  <b>MUTTALIAS_FILES</b>  (a  space  separated  list)  of  files  in
              <b>MUTT_DIRECTORY</b>  that  contain  mutt  aliases.   File  names  without  leading  slash   will   have
              <b>MUTT_DIRECTORY</b>  (defaults to <b>$HOME</b><u>/.mutt</u> or <b>$HOME</b>, if <b>$HOME</b><u>/.mutt</u> does not exist) prepended before
              the file name.  Absolute file names (beginning with <u>/</u>) will be taken direct.

       <b>m_pine</b> This module searches <b><a href="../man1/pine.1.html">pine</a></b>(1) addressbook files for aliases.  To realize this it first inspects the
              variable <b>PINERC</b>.  If it isn't set, the default `<u>/etc/pine.conf</u>  <u>/etc/pine.conf.fixed</u>  <u>.pinerc</u>'  is
              used.   To  suppress inspecting the <b>PINERC</b> variable, set it to <u>no</u>.  It than takes all <b>address-book</b>
              and <b>global-address-book</b> entries from these pinerc files and adds  the  contents  of  the  variable
              <b>PINE_ADDRESSBOOKS</b>  to  the  list,  which  defaults to `<u>/etc/addressbook</u> <u>.addressbook</u>'.  Then these
              addressbooks are searched for aliases.  All filenames without leading slash are searched in <b>$HOME</b>.

       <b>m_palm</b> This module searches the Palm address database using  the  <b>Palm::<a href="../man3pm/PDB.3pm.html">PDB</a></b>(3pm)  and  <b>Palm::<a href="../man3pm/Address.3pm.html">Address</a></b>(3pm)
              Perl modules from CPAN.  It searches in the variable <b>PALM_ADDRESS_DATABASE</b> or if this isn't set in
              <u>$HOME/.jpilot/AddressDB.pdb</u>.

       <b>m_gnomecard</b>
              This module searches for addresses in your GnomeCard database files.  The variable <b>GNOMECARD_FILES</b>
              is  a  whitespace  separated  list  of  GnomeCard data files.  If this variable isn't defined, the
              module searches in <b>$HOME</b><u>/.gnome/GnomeCard</u> for the GnomeCard database or at  least  falls  back  to
              <b>$HOME</b><u>/.gnome/GnomeCard.gcrd</u>.   If  a  filename  does  not  start with a slash, it is prefixed with
              <b>$HOME/</b>.

       <b>m_bbdb</b> This module searches for addresses in your (X)Emacs  BBDB  (big  brother  database).   It  doesn't
              access  <a href="file:~/.bbdb">~/.bbdb</a>  directly  (yet)  but  calls  <b><a href="../man1/emacs.1.html">emacs</a></b>(1) or <b><a href="../man1/xemacs.1.html">xemacs</a></b>(1) with a special mode to get the
              information (so don't expect too much performance in this module).  You can  configure  the  <b>EMACS</b>
              variable  to  tell  this  module  which  emacsen  to use.  Otherwise it will fall back to <b>emacs</b> or
              <b>xemacs.</b>

       <b>m_ldap</b> This module queries an LDAP server using the <b>Net::<a href="../man3pm/LDAP.3pm.html">LDAP</a></b>(3pm) Perl modules from  CPAN.   It  can  be
              configured  using  an external resource file <u>/etc/lbdb_ldap.rc</u> or <u>$XDG_CONFIG_HOME/lbdb/ldap.rc</u> or
              <u>$HOME/.lbdb/ldap.rc</u> or <u>$HOME/.mutt_ldap_query.rc</u>.  You can explicitly define a LDAP query in  this
              file  or  you can use one or more of the predefined queries from the <b>%ldap_server_db</b> in this file.
              For this you have to define a space separated list of  nicknames  from  entries  in  the  variable
              <b>LDAP_NICKS</b>.

       <b>m_wanderlust</b>
              This  module  searches  for  addresses  stored  in  your  <u>$WANDERLUST_ADDRESSES</u>  (or by default in
              <u>$HOME/.addresses</u>) file, an addressbook of <b>WanderLust</b>.

       <b>m_osx_addressbook</b>
              This module queries the OS X AddressBook.  It is only available on OS X systems.

       <b>m_evolution</b>
              This module queries the Ximian Evolution address book.   It  depends  on  the  program  <b>evolution-</b>
              <b>addressbook-export</b>, which is shipped with evolution.

       <b>m_vcf</b>  This  module  uses  a  bundled  little perl program named vcquery to search for addresses from the
              space-separated set of vCard files defined in <u>$VCF_FILES</u>.

       <b>m_khard</b>
              This module searches a CardDAV address book via <b><a href="../man1/khard.1.html">khard</a></b>(1).

       <b>m_mu</b>   This module uses the program <b><a href="../man1/mu-cfind.1.html">mu-cfind</a></b>(1), which searches in the index file  generated  by  the  mu
              tool.   You  can  filter  the  results  with  the  variables <b>MU_AFTER</b> (the number of seconds since
              1970-01-01 UTC) and <b>MU_PERSONAL</b> (set to <u>true</u> or <u>yes</u>, remember to  invoke  <b><a href="../man1/mu-index.1.html">mu-index</a></b>(1)  with  <u>--my-</u>
              <u>address</u>)

       Feel  free to create your own modules to query other database resources, YP maps, and the like.  <b>m_finger</b>
       should be a good example of how to do it.

       If you create your own modules or have other changes and feel that they  could  be  helpful  for  others,
       don't hesitate to submit them to the author for inclusion in later releases.

       Finally, to use <b>lbdbq</b> from mutt, add the following line to your <u>$HOME/.muttrc:</u>
           set query_command="lbdbq %s"

</pre><h4><b>OPTIONS</b></h4><pre>
       -v | --version
              Print version number of lbdbq.

       -h | --help
              Print short help of lbdbq.

</pre><h4><b>FILES</b></h4><pre>
       <u>/etc/lbdb.rc</u>
       <u>$XDG_CONFIG_HOME/lbdb/config</u>
       <u>$HOME/.lbdbrc</u>
       <u>$HOME/.lbdb/lbdbrc</u>
       <u>$HOME/.lbdb/rc</u>
       <u>/usr/libexec/lbdb/*</u>
       <u>$XDG_DATA_HOME/lbdb/m_inmail.db</u>
       <u>$HOME/.lbdb/m_inmail.utf-8</u>
       <u>$HOME/.lbdb/nodelist</u>

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man1/finger.1.html">finger</a></b>(1),  <b><a href="../man1/ypcat.1.html">ypcat</a></b>(1), <b><a href="../man1/niscat.1.html">niscat</a></b>(1), <b><a href="../man1/getent.1.html">getent</a></b>(1), <b><a href="../man1/pgp.1.html">pgp</a></b>(1), <b><a href="../man1/pgpk.1.html">pgpk</a></b>(1), <b><a href="../man1/gpg.1.html">gpg</a></b>(1), <b><a href="../man1/lbdb-fetchaddr.1.html">lbdb-fetchaddr</a></b>(1), <b><a href="../man1/nodelist2lbdb.1.html">nodelist2lbdb</a></b>(1),
       <b><a href="../man1/mutt_ldap_query.1.html">mutt_ldap_query</a></b>(1), <b><a href="../man1/abook.1.html">abook</a></b>(1), <b><a href="../man1/goobook.1.html">goobook</a></b>(1),  <b><a href="../man1/addr-email.1.html">addr-email</a></b>(1),  <b><a href="../man1/addressbook.1.html">addressbook</a></b>(1),  <b><a href="../man1/mutt.1.html">mutt</a></b>(1),  <b><a href="../man1/pine.1.html">pine</a></b>(1),  <b><a href="../man1/emacs.1.html">emacs</a></b>(1),
       <b><a href="../man1/xemacs.1.html">xemacs</a></b>(1), <b>Palm::<a href="../man3pm/PDB.3pm.html">PDB</a></b>(3pm), <b>Palm::<a href="../man3pm/Address.3pm.html">Address</a></b>(3pm), <b>Net::<a href="../man3pm/LDAP.3pm.html">LDAP</a></b>(3pm).

</pre><h4><b>CREDITS</b></h4><pre>
       Most  of  the  really  interesting code of this program (namely, the RFC 822 address parser used by lbdb-
       fetchaddr) was stolen from Michael Elkins' mutt mail user agent. Additional credits go  to  Brandon  Long
       for putting the query functionality into mutt.

       Many  thanks to the authors of the several modules and extensions: Ross Campbell &lt;<a href="mailto:rcampbel@us.oracle.com">rcampbel@us.oracle.com</a>&gt;
       (m_abook, m_yppasswd), Marc de Courville &lt;<a href="mailto:marc@courville.org">marc@courville.org</a>&gt; (m_ldap,  mutt_ldap_query),  Brendan  Cully
       &lt;<a href="mailto:brendan@kublai.com">brendan@kublai.com</a>&gt; (m_osx_addressbook, m_vcf), Gabor Fleischer &lt;<a href="mailto:flocsy@mtesz.hu">flocsy@mtesz.hu</a>&gt; (m_pine), Rick Frankel
       &lt;<a href="mailto:rick@rickster.com">rick@rickster.com</a>&gt;   (m_gnomecard),   Utz-Uwe   Haus  &lt;<a href="mailto:haus@uuhaus.de">haus@uuhaus.de</a>&gt;  (m_bbdb,  m_nispasswd),  Torsten
       Jerzembeck &lt;<a href="mailto:toje@nightingale.ms.sub.org">toje@nightingale.ms.sub.org</a>&gt; (m_addr_email), Adrian Likins  &lt;<a href="mailto:alikins@redhat.com">alikins@redhat.com</a>&gt;  (m_getent),
       Gergely  Nagy  &lt;<a href="mailto:algernon@debian.org">algernon@debian.org</a>&gt;  (m_wanderlust),  Dave  Pearson &lt;<a href="mailto:davep@davep.org">davep@davep.org</a>&gt; (m_palm, lbdb.el),
       Brian  Salter-Duke  &lt;<a href="mailto:b_duke@bigpond.net.au">b_duke@bigpond.net.au</a>&gt;  (m_muttalias),   Fran√ßois   Charlier   &lt;<a href="mailto:fcharlier@ploup.net">fcharlier@ploup.net</a>&gt;
       (m_goobook), and Colin Watson &lt;<a href="mailto:cjwatson@debian.org">cjwatson@debian.org</a>&gt; (m_khard)

</pre><h4><b>AUTHOR</b></h4><pre>
       The  lbdb  package  was initially written by Thomas Roessler &lt;<a href="mailto:roessler@guug.de">roessler@guug.de</a>&gt; and is now maintained and
       heavily extended by Roland Rosenfeld &lt;<a href="mailto:roland@spinnaker.de">roland@spinnaker.de</a>&gt;.

Unix                                              January 2025                                          <u><a href="../man1/LBDBQ.1.html">LBDBQ</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>