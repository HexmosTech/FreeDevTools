<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>rasqlinsert - write argus(8) data into mysql database tables.</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/argus-client">argus-client_3.0.8.2-6.2ubuntu5_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       <b>rasqlinsert</b> - write <b><a href="../man8/argus.8.html">argus</a>(8)</b> data into mysql database tables.

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>rasqlinsert</b> [<b>raoptions</b>] [<b>--</b> <u>filter-expression</u>]

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>Rasqlinsert</b> writes <b>argus</b> data into a mysql database.

       The  principal  function  of  <b>rasqlinsert</b>   is  to  insert  and update flow data attributes, into a MySQL
       database table. Using the same syntax and strategies for all  other  ra*  programs,  <b>rasqlinsert</b>  creates
       databases  and  database  tables,  based on the print specification on the either the command-line or the
       .rarc file.

       The concept is that where a ra* program would print fields to standard out  in  ascii,  <b>rasqlinsert</b>  will
       insert those fields into the database as attributes.  The flow key, as defined by the "-m fields" option,
       provides  the  definition  of any keys that would be used in the schema.  A "-m none" option, will remove
       the use of any DBMS keys for  inserted  data,  and  is  the  method  to  use  when  inserting  streaming,
       unprocessed, primitive argus data into a database table.

       The  schema  is  important  for  database  utility  and performance. You can use MySQL querys against the
       attributes that you insert into the tables, such searching and sorting  on  IP  addresses,  time,  packet
       counts,  etc....   While  <b>rasqlinsert</b> does not limit you to the number of attributes (columns) per record
       you provide, the RDBMS performance will quide you as to how many fields are useful.

       <b>Rasqlinsert</b> by default, includes the actual binary argus 'record' in the schema, and inserts and  updates
       the binary record when needed.  This enables a large number of fucnctions that extend beyond simple RDBMS
       schema's that are useful.  Adding the 'record' is expensive, and some will elect to not use this feature.
       This can be controlled using the option '-s -record' as a print field option in the standard <b>ra.1</b> command
       line.   When  the 'record' attribute is present, <b>rasql.1</b> can read the records directly from the database,
       to provide additional processing on the database table contents.

       When keys are used, the database will enforce that any insertions meet the relaitional requirements, i.e.
       that the keys be unique.  This requirement demands a sense of caching and key tracking, which <b>rasqlinsert</b>
       is specifically designed to provide.

       <b>Rasqlinsert</b> by default, will append data to existing tables, without checking the schema for consistency.
       If your schema has keys, and you attempt to append new records to an existing  table,  there  is  a  high
       likelyhood  for error, as <b>rasqlinsert</b> will attempt to insert a record that collides with an existing flow
       key.  Use the "-M cache" option to cause <b>rasqlinsert</b> to reference the table contents prior to aggregation
       and insertion.

       The binary data <b>rasqlinsert</b> inserts by default, is read using <b>rasql</b>.

</pre><h4><b>RASQLINSERT</b> <b>SPECIFIC</b> <b>OPTIONS</b></h4><pre>
       <b>Rasqlinsert</b>, like all ra based clients, supports a number of <b>ra</b>  <b>options</b>  including  filtering  of  input
       argus records through a terminating filter expression.  <b><a href="../man1/Rasqlinsert.1.html">Rasqlinsert</a>(1)</b> specific options are:

       <b>-M</b> <b>cache</b>
           This  causes  <b>rasqlinsert</b>  to use the database table as its persistent cache store. This mechanism is
           used to control memory use when dealing with large amounts of data and flow keys.

       <b>-M</b> <b>drop</b>
           This causes <b>rasqlinsert</b> to drop any pre-existing database table that has the same name as the  target
           table name, on startup.

</pre><h4><b>INVOCATION</b></h4><pre>
       This  invocation  writes  aggregated  <b><a href="../man8/argus.8.html">argus</a>(8)</b>  data  from  the <u>file</u> into a database table.  The standard
       5-tuple fields, 'saddr daddr proto sport dport' are  used  as  keys  for  each  entry.  <b>rasqlinsert</b>  will
       aggregate all the data prior to inserting the data into the database:

          <b>rasqlinsert</b> -r file -w mysql://user@localhost/db/table

       Because  aggregation  can  require  a  lot  of  memory, <b>rasqlinsert</b> provides an option '-M cache' to have
       <b>rasqlinsert</b> use the database table as the persistent cache store for the aggregation.  With this example,
       the standard 5-tuple fields, Â´saddr daddr proto sport dport' are still used as keys for each  entry,  but
       <b>rasqlinsert</b>  will  aggregate  data  over short spans of time as it reads the data from the file, and then
       commit the data to the database.  If additional data arrives that matches that unique  flow,  <b>rasqlinsert</b>
       will fetch the entry from the database, aggregate, and then update the data entry in the database.

          <b>rasqlinsert</b> -M cache -r file -w mysql://user@localhost/db/table

       <b>rasqlinsert</b>  can  provide  the  same function for streaming data read directly from an argus data source.
       This allows <b>rasqlinsert</b> to reassemble all status records for an individual flow, such that the  resulting
       table has only a single entry for each communciation relationship seen.

          <b>rasqlinsert</b> -M cache -S argus -w mysql://user@localhost/db/table

       This  invocation  writes  <b><a href="../man8/argus.8.html">argus</a>(8)</b>  data  from  the  <u>file</u>  into a database table, without aggregation, by
       specifying no relational key in the data.

          <b>rasqlinsert</b> -m none -r file -w mysql://user@localhost/db/table

       This invocation writes <b><a href="../man8/argus.8.html">argus</a>(8)</b> data from the <u>stream</u> into a database table, without modification.

          <b>rasqlinsert</b> -m none -S argus -w mysql://user@localhost/db/table

       This invocation writes <b><a href="../man8/argus.8.html">argus</a>(8)</b> data from the <u>stream</u> into a daily database table,  without  modification.
       <b>rasqlinsert</b>  will generate table names based on time and insert its data relative to the timestamps found
       in the flow records it processes.  In this specific example, "-M time 1d" specifies daily tables.

          <b>rasqlinsert</b> -m none -S argus -w mysql://user@localhost/db/table_%Y_%m_%d -M time 1d

</pre><h4><b>COPYRIGHT</b></h4><pre>
       Copyright (c) 2000-2016 QoSient. All rights reserved.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man1/rasql.1.html">rasql</a>(1),</b> <b><a href="../man1/ra.1.html">ra</a>(1),</b> <b><a href="../man5/rarc.5.html">rarc</a>(5),</b> <b><a href="../man8/argus.8.html">argus</a>(8),</b>

</pre><h4><b>AUTHORS</b></h4><pre>
       Carter Bullard (<a href="mailto:carter@qosient.com">carter@qosient.com</a>).

rasqlinsert 3.0.8                                12 August 2009                                   <u><a href="../man1/RASQLINSERT.1.html">RASQLINSERT</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>