<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>v.db.reconnect.all   -  Reconnects  attribute tables for all vector maps from the current mapset to a new</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/grass-doc">grass-doc_8.4.1-1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       <b>v.db.reconnect.all</b>   -  Reconnects  attribute tables for all vector maps from the current mapset to a new
       database.

</pre><h4><b>KEYWORDS</b></h4><pre>
       vector, attribute table, database, DBF, SQLite

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>v.db.reconnect.all</b>
       <b>v.db.reconnect.all</b> <b>--help</b>
       <b>v.db.reconnect.all</b>     [-<b>cd</b>]      [<b>old_database</b>=<u>name</u>]        [<b>old_schema</b>=<u>name</u>]        [<b>new_driver</b>=<u>string</u>]
       [<b>new_database</b>=<u>name</u>]   [<b>new_schema</b>=<u>name</u>]   [--<b>help</b>]  [--<b>verbose</b>]  [--<b>quiet</b>]  [--<b>ui</b>]

   <b>Flags:</b>
       <b>-c</b>
           Copy attribute tables to the target database if not exist

       <b>-d</b>
           Delete attribute tables from the source database

       <b>--help</b>
           Print usage summary

       <b>--verbose</b>
           Verbose module output

       <b>--quiet</b>
           Quiet module output

       <b>--ui</b>
           Force launching GUI dialog

   <b>Parameters:</b>
       <b>old_database</b>=<u>name</u>
           Name of source database

       <b>old_schema</b>=<u>name</u>
           Name of source database schema
           Do not use this option if schemas are not supported by driver/database server

       <b>new_driver</b>=<u>string</u>
           Name for target driver

       <b>new_database</b>=<u>name</u>
           Name for target database

       <b>new_schema</b>=<u>name</u>
           Name for target database schema
           Do not use this option if schemas are not supported by driver/database server

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <u>v.db.reconnect.all</u>  changes  database  connection  of all layers of all vector maps in the current mapset
       from the source (<b>old_database</b>) to the target (<b>new_database</b>) database.  If  a  link  does  not  match  the
       <b>old_database</b> it is left untouched.

       If  no new database is given, the default datase of the mapset is used as printed by db.connect -g. If no
       old database is given, all layers without a link in the new database will be liniked to the new database.
       If an old database is given, only links in the old database will be changed.

       Optionally attribute tables in <b>new_database</b> can be created  if  not  exist  by  <b>-c</b>  flag.  In  this  case
       <u>v.db.reconnect.all</u> also tries to create an index on key column (usually "cat" column).

</pre><h4><b>NOTES</b></h4><pre>
       The  value  of  the  <b>old_database</b>  option  needs to be the exact string which appears as the fourth field
       printed by v.db.connect -g.
       v.db.connect -g map=census
       1/census|census|cat|/home/user/grassdata/nc_spm_base/PERMANENT/dbf/|dbf
       <u>v.db.reconnect.all</u>  respect  also  variables  to  be  substituted.  In  the   example   above,   database
       /home/user/grassdata/nc_spm_base/PERMANENT/dbf/        can        be        also        defined        as
       ’$GISDBASE/$LOCATION_NAME/$MAPSET/dbf/’ (see examples).

       Attribute tables from <b>old_database</b> are after  reconnecting  left  untouched.  <u>v.db.reconnect.all</u>  deletes
       those tables automatically only when <b>-d</b> flag is given.

       Also  note  that  <u>v.db.reconnect.all</u>  doesn’t change default database driver or database (db.connect -p).
       Default database connection settings for newly created attribute data can be defined by <u>db.connect</u>.

</pre><h4><b>EXAMPLES</b></h4><pre>
       In the examples below are assumed, that attribute tables are  linked  to  the  vector  maps  through  DBF
       database driver.

   <b>Reconnect</b> <b>DBF</b> <b>attribute</b> <b>tables</b> <b>to</b> <b>SQLite</b> <b>database</b>
       Reconnect DBF attribute tables linked to the vector maps in the current mapset to SQLite database:
       v.db.reconnect.all old_database=’$GISDBASE/$LOCATION_NAME/$MAPSET/dbf/’ \
        new_driver=sqlite new_database=’$GISDBASE/$LOCATION_NAME/$MAPSET/sqlite/sqlite.db’
       If  attribute  table  doesn’t exist in the target database (<b>new_database</b>) then the module prints an error
       message.

   <b>Convert</b> <b>DBF</b> <b>attribute</b> <b>tables</b> <b>to</b> <b>SQLite</b> <b>database</b>
       For coping DBF tables to SQLite database and reconnecting them for all vector maps in the current  mapset
       must be defined also <b>-c</b> flag.
       v.db.reconnect.all -c old_database=’$GISDBASE/$LOCATION_NAME/$MAPSET/dbf/’ \
        new_driver=sqlite new_database=’$GISDBASE/$LOCATION_NAME/$MAPSET/sqlite/sqlite.db’
       or alternatively
       # set default connection (sqlite)
       db.connect -d
       # verify default connection
       db.connect -g
       # reconnect
       v.db.reconnect.all -c old_database=’$GISDBASE/$LOCATION_NAME/$MAPSET/dbf/’
       To  automatically  remove  original  DBF attribute tables after reconnecting the vector maps use <b>-d</b> flag.
       Note that attribute tables will be deleted <u>permanently</u> from the source database. This  option  should  be
       used very carefully!

   <b>Convert</b> <b>GRASS</b> <b>6</b> <b>vector</b> <b>map</b> <b>to</b> <b>GRASS</b> <b>7</b> <b>including</b> <b>attribute</b> <b>transfer</b> <b>from</b> <b>DBF</b> <b>to</b> <b>SQLite</b>
       To become usable in GRASS 7, all vector maps in a mapset need to be updated:
       # first rebuild topology for all vector maps
       v.build.all
       # set new default db connection (to SQLite default)
       db.connect -d
       # copy attribute tables from old DB to new SQLite DB, delete old tables in DBF format
       v.db.reconnect.all -cd

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
        <u>v.db.connect,</u> <u>db.connect,</u> <u>db.copy,</u> <u>db.createdb,</u> <u>db.droptable</u>

        <u>GRASS</u> <u>SQL</u> <u>interface</u>

</pre><h4><b>AUTHORS</b></h4><pre>
       Radim Blazek
       Major update by Martin Landa, Czech Technical University in Prague, Czech Republic

</pre><h4><b>SOURCE</b> <b>CODE</b></h4><pre>
       Available at: v.db.reconnect.all source code (history)

       Accessed: Friday Apr 04 01:21:13 2025

       Main index | Vector index | Topics index | Keywords index | Graphical index | Full index

       © 2003-2025 GRASS Development Team, GRASS GIS 8.4.1 Reference Manual

GRASS 8.4.1                                                                           <u><a href="../man1grass/v.db.reconnect.all.1grass.html">v.db.reconnect.all</a></u>(1grass)
</pre>
 </div>
</div></section>
</div>
</body>
</html>