<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>borg-import-tar - Create a backup archive from a tarball</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/borgbackup2">borgbackup2_2.0.0b14-3build1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       borg-import-tar - Create a backup archive from a tarball

</pre><h4><b>SYNOPSIS</b></h4><pre>
       borg [common options] import-tar [options] NAME TARFILE

</pre><h4><b>DESCRIPTION</b></h4><pre>
       This command creates a backup archive from a tarball.

       When giving '-' as path, Borg will read a tar stream from standard input.

       By  default  (--tar-filter=auto)  Borg  will  detect  whether  the  file  is compressed based on its file
       extension and pipe the file through an appropriate filter:

       • .tar.gz or .tgz: gzip -d

       • .tar.bz2 or .tbz: bzip2 -d

       • .tar.xz or .txz: xz -d

       • .tar.zstd or .tar.zst: zstd -d

       • .tar.lz4: lz4 -d

       Alternatively, a --tar-filter program may be explicitly specified. It should read  compressed  data  from
       stdin and output an uncompressed tar stream on stdout.

       Most documentation of borg create applies. Note that this command does not support excluding files.

       A <b>--sparse</b> option (as found in borg create) is not supported.

       About tar formats and metadata conservation or loss, please see <b>borg</b> <b>export-tar</b>.

       import-tar reads these tar formats:

       • BORG: borg specific (PAX-based)

       • PAX: POSIX.1-2001

       • GNU: GNU tar

       • POSIX.1-1988 (ustar)

       • UNIX V7 tar

       • SunOS tar with extended attributes

       To  import  multiple  tarballs  into a single archive, they can be simply concatenated (e.g. using "cat")
       into a single file, and imported with an <b>--ignore-zeros</b> option to skip through the stop  markers  between
       them.

</pre><h4><b>OPTIONS</b></h4><pre>
       See <u><a href="../man1/borg-common.1.html">borg-common</a>(1)</u> for common options of Borg commands.

   <b>arguments</b>
       <b>NAME</b>   specify the archive name

       <b>TARFILE</b>
              input tar file. "-" to read from stdin instead.

   <b>options</b>
       <b>--tar-filter</b>
              filter program to pipe data through

       <b>-s</b>, <b>--stats</b>
              print statistics for the created archive

       <b>--list</b> output verbose list of items (files, dirs, ...)

       <b>--filter</b> <u>STATUSCHARS</u>
              only display items with the given status characters

       <b>--json</b> output stats as JSON (implies --stats)

       <b>--ignore-zeros</b>
              ignore zero-filled blocks in the input tarball

   <b>Archive</b> <b>options</b>
       <b>--comment</b> <u>COMMENT</u>
              add a comment text to the archive

       <b>--timestamp</b> <u>TIMESTAMP</u>
              manually   specify   the   archive  creation  date/time  (yyyy-mm-ddThh:mm:ss[(+|-)HH:MM]  format,
              (+|-)HH:MM is the  UTC  offset,  default:  local  time  zone).  Alternatively,  give  a  reference
              file/directory.

       <b>--chunker-params</b> <u>PARAMS</u>
              specify    the   chunker   parameters   (ALGO,   CHUNK_MIN_EXP,   CHUNK_MAX_EXP,   HASH_MASK_BITS,
              HASH_WINDOW_SIZE). default: buzhash,19,23,21,4095

       <b>-C</b> <u>COMPRESSION</u>, <b>--compression</b> <u>COMPRESSION</u>
              select compression algorithm, see the output of the "borg help compression" command for details.

</pre><h4><b>EXAMPLES</b></h4><pre>
          # export as uncompressed tar
          $ borg export-tar Monday Monday.tar

          # import an uncompressed tar
          $ borg import-tar Monday Monday.tar

          # exclude some file types, compress using gzip
          $ borg export-tar Monday Monday.tar.gz --exclude '*.so'

          # use higher compression level with gzip
          $ borg export-tar --tar-filter="gzip -9" Monday Monday.tar.gz

          # copy an archive from repoA to repoB
          $ borg -r repoA export-tar --tar-format=BORG archive - | borg -r repoB import-tar archive -

          # export a tar, but instead of storing it on disk, upload it to remote site using curl
          $ borg export-tar Monday - | curl --data-binary @- https://somewhere/to/POST

          # remote extraction via "tarpipe"
          $ borg export-tar Monday - | ssh somewhere "cd extracted; tar x"

   <b>Archives</b> <b>transfer</b> <b>script</b>
       Outputs a script that copies all archives from repo1 to repo2:

          for N I T in `borg list --format='{archive} {id} {time:%Y-%m-%dT%H:%M:%S}{NL}'`
          do
            echo "borg -r repo1 export-tar --tar-format=BORG aid:$I - | borg -r repo2 import-tar --timestamp=$T $N -"
          done

       Kept:

       • archive name, archive timestamp

       • archive contents (all items with metadata and data)

       Lost:

       • some archive metadata (like the original commandline, execution time, etc.)

       Please note:

       • all data goes over that pipe, again and again for every archive

       • the pipe is dumb, there is no data or transfer time reduction there due to deduplication

       • maybe add compression

       • pipe over ssh for remote transfer

       • no special sparse file support

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <u><a href="../man1/borg-common.1.html">borg-common</a>(1)</u>

</pre><h4><b>AUTHOR</b></h4><pre>
       The Borg Collective

                                                   2025-01-03                                 <u><a href="../man1/BORG-IMPORT-TAR.1.html">BORG-IMPORT-TAR</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>