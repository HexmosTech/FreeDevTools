<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>nvme-wdc-cap-diag - Retrieve WDC device's diagnostic log and save to file.</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/nvme-cli">nvme-cli_2.11-2_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       nvme-wdc-cap-diag - Retrieve WDC device's diagnostic log and save to file.

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <u>nvme</u> <u>wdc</u> <u>cap-diag</u> &lt;device&gt; [--output-file=&lt;FILE&gt;, -o &lt;FILE&gt;] [--transfer-size=&lt;SIZE&gt;, -s &lt;SIZE&gt;]

</pre><h4><b>DESCRIPTION</b></h4><pre>
       For the NVMe device given, sends the WDC Vendor Unique Capture-Diagnostics request and saves the result
       to a file.

       The &lt;device&gt; parameter is mandatory NVMe character device (ex: /dev/nvme0).

       This will only work on WDC devices supporting this feature. Results for any other device are undefined.

</pre><h4><b>OPTIONS</b></h4><pre>
       -o &lt;FILE&gt;, --output-file=&lt;FILE&gt;
           Output file; defaults to device serial number followed by "cap_diag" suffix

       -s &lt;SIZE&gt;, --transfer-size=&lt;SIZE&gt;
           Transfer size; defaults to 0x10000 (65536 decimal) bytes

</pre><h4><b>EXAMPLES</b></h4><pre>
       •   Gets the capture diagnostics log from the device and saves to default file in current directory (e.g.
           STM00019F3F9cap_diag.bin):

               # nvme wdc cap-diag /dev/nvme0

       •   Gets the capture diagnostics log from the device and saves to defined file in current directory (e.g.
           testSTM00019F3F9cap_diag.bin):

               # nvme wdc cap-diag /dev/nvme0 -o test

       •   Gets the capture diagnostics log from the device and saves to defined file with pathname (e.g.
           /tmp/testSTM00019F3F9cap_diag.bin):

               # nvme wdc cap-diag /dev/nvme0 -o /tmp/test

       •   Gets the capture diagnostics log from the device transferring the data in 64k chunks and saves to
           default file in current directory (e.g. STM00019F3F9internal_fw_log.bin):

               # nvme wdc cap-diag /dev/nvme0 -s 0x10000

       •   Gets the capture diagnostics log from the device transferring the data in 16k chunks and saves to
           default file in current directory (e.g. STM00019F3F9internal_fw_log.bin):

               # nvme wdc cap-diag /dev/nvme0 -s 16384

</pre><h4><b>NVME</b></h4><pre>
       Part of the nvme-user suite.

NVMe                                               02/16/2025                               <u><a href="../man1/NVME-WDC-CAP-DIAG.1.html">NVME-WDC-CAP-DIAG</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>