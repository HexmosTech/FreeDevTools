<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>tio - a serial device I/O tool</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/tio">tio_3.8-1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       tio - a serial device I/O tool

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>tio</b> [<u>&lt;options&gt;</u>] <u>&lt;tty-device|profile|tid&gt;</u>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>tio</b>  is  a  serial  device  tool  which  features  a  straightforward command-line and configuration file
       interface to easily connect to serial TTY devices for basic I/O operations.

</pre><h4><b>OPTIONS</b></h4><pre>
       <b>-b</b>, <b>--baudrate</b> <u>&lt;bps&gt;</u>

              Set baud rate [bps] (default: 115200).

       <b>-d</b>, <b>--databits</b> 5<b>|</b>6<b>|</b>7<b>|</b>8

              Set data bits (default: 8).

       <b>-f</b>, <b>--flow</b> hard<b>|</b>soft<b>|</b>none

              Set flow control (default: none).

       <b>-s</b>, <b>--stopbits</b> 1<b>|</b>2

              Set stop bits (default: 1).

       <b>-p</b>, <b>--parity</b> odd<b>|</b>even<b>|</b>none<b>|</b>mark<b>|</b>space

              Set parity (default: none).

              Note: With <b>mark</b> parity the parity bit is always 0. With <b>space</b> parity the parity bit is  always  1.
              Not all platforms support <b>mark</b> and <b>space</b> parity.

       <b>-o</b>, <b>--output-delay</b> <u>&lt;ms&gt;</u>

              Set output delay [ms] inserted between each sent character (default: 0).

       <b>-O</b>, <b>--output-line-delay</b> <u>&lt;ms&gt;</u>

              Set output delay [ms] inserted between each sent line (default: 0).

           <b>--line-pulse-duration</b> <u>&lt;duration&gt;</u>

              Set  the pulse duration [ms] of each serial port line using the following key value pair format in
              the duration field: &lt;key&gt;=&lt;value&gt;

              Each key represents a serial line. The following keys are available:

              <b>DTR</b>     Data Terminal Ready

              <b>RTS</b>     Request To Send

              <b>CTS</b>     Clear To Send

              <b>DSR</b>     Data Set Ready

              <b>DCD</b>     Data Carrier Detect

              <b>RI</b>      Ring Indicator

              If defining more than one key value pair, the pairs must be comma separated.

              The default pulse duration for each line is 100 ms.

       <b>-a,</b> <b>--auto-connect</b> <b>new|latest|direct</b>

              Automatically connect to serial device according to one of the following strategies:

              <b>new</b>       Automatically connect to first new appearing serial device.

              <b>latest</b>    Automatically connect to latest registered serial device.

              <b>direct</b>    Connect directly to specified TTY device.

              All the listed strategies  automatically  reconnects  according  to  strategy  if  device  is  not
              available or connection is lost.

              Default value is "direct".

           <b>--exclude-devices</b> <u>&lt;pattern&gt;</u>

              Exclude devices by pattern ('*' and '?' supported).

           <b>--exclude-drivers</b> <u>&lt;pattern&gt;</u>

              Exclude drivers by pattern ('*' and '?' supported).

           <b>--exclude-tids</b> <u>&lt;pattern&gt;</u>

              Exclude topology IDs by pattern ('*' and '?' supported).

       <b>-n</b>, <b>--no-reconnect</b>

              Do not reconnect.

              This  means  that  tio  will exit if it fails to connect to device or an established connection is
              lost.

       <b>-e</b>, <b>--local-echo</b>

              Enable local echo.

       <b>-t</b>, <b>--timestamp</b>

              Enable line timestamp.

           <b>--timestamp-format</b> <u>&lt;format&gt;</u>

              Set timestamp format to any of the following timestamp formats:

              <b>24hour</b>          24-hour format ("hh:mm:ss.sss")

              <b>24hour-start</b>    24-hour format relative to start time

              <b>24hour-delta</b>    24-hour format relative to previous timestamp

              <b>iso8601</b>         ISO8601 format ("YYYY-MM-DDThh:mm:ss.sss")

              <b>epoch</b>           Seconds since Unix epoch (1970-01-01)

              Default format is <b>24hour</b>

           <b>--timestamp-timeout</b> <u>&lt;ms&gt;</u>

              Set timestamp timeout value in milliseconds.

              This value only takes effect in hex output mode where timestamps are only  printed  after  elapsed
              timeout time of no output activity from tty device.

              Default value is 200.

       <b>-l</b>, <b>--list</b>

              List available targets (serial devices, TIDs, configuration profiles).

       <b>-L</b>, <b>--log</b>

              Enable log to file.

              The  log  file  will  be  automatically  named  using  the  following  format  tio_TARGET_YYYY-MM-
              DDTHH:MM:SS.log. Target being the command line target such as tty-device,  tid,  or  configuration
              profile.

              The filename can be manually set using the --log-file option.

           <b>--log-file</b> <u>&lt;filename&gt;</u>

              Set log filename.

           <b>--log-directory</b> <u>&lt;path&gt;</u>

              Set log directory path in which to save automatically named log files.

           <b>--log-append</b>

              Append to log file.

           <b>--log-strip</b>

              Strip control characters and escape sequences from log.

       <b>-m</b>, <b>--map</b> <u>&lt;flags&gt;</u>

              Map  (replace,  translate)  characters  on  input  to  the serial device or output from the serial
              device. The following mapping flags are supported:

              <b>ICRNL</b>       Map CR to NL on input (unless IGNCR is set)

              <b>IGNCR</b>       Ignore CR on input

              <b>IFFESCC</b>     Map FF to ESC-c on input

              <b>INLCR</b>       Map NL to CR on input

              <b>INLCRNL</b>     Map NL to CR-NL on input

              <b>IMSB2LSB</b>    Map MSB bit order to LSB on input

              <b>OCRNL</b>       Map CR to NL on output

              <b>ODELBS</b>      Map DEL to BS on output

              <b>ONLCRNL</b>     Map NL to CR-NL on output

              <b>OLTU</b>        Map lowercase characters to uppercase on output

              <b>ONULBRK</b>     Map nul (zero) to send break signal on output

              <b>OIGNCR</b>      Ignore CR on output

              If defining more than one flag, the flags must be comma separated.

           <b>--input-mode</b> normal|hex|line

              Set input mode.

              In normal mode input characters are sent immediately as they are typed.

              In hex input mode bytes can be sent by typing the <b>two-character</b> <b>hexadecimal</b> representation of  the
              1 byte value, e.g.: to send <u>0xA</u> you must type <u>0a</u> or <u>0A</u>.

              In  line  input  mode  input  characters  are  sent when you press enter. The only editing feature
              supported in this mode is backspace.

              Default value is "normal".

           <b>--output-mode</b> normal|hex|hexN

              Set output mode.

              In hex mode each incoming byte is printed out as a 1 byte hex value.

              In hexN mode, N is a number less than or equal to 4096 which defines how many hex values  will  be
              printed before a line break.

              Default value is "normal".

       <b>-c</b>, <b>--color</b> 0..255|bold|none|list

              Colorize  tio text using ANSI color code value ranging from 0 to 255 or use "none" for no color or
              use "bold" to apply bold formatting to existing system color.

              Use "list" to print a list of available ANSI color codes.

              Default value is "bold".

       <b>-S</b>, <b>--socket</b> <u>&lt;socket&gt;</u>

              Redirect I/O to socket.

              Any input from clients connected to the socket is sent on the serial port as  if  entered  at  the
              terminal  where  tio  is  running (except that <b>ctrl-t</b> sequences are not recognized), and any input
              from the serial port is multiplexed to the terminal and all connected clients.

              Sockets remain open while the serial port is disconnected, and writes will block.

              Various socket types are supported using the following prefixes in the socket field:

              <b>unix:&lt;filename&gt;</b>     Unix Domain Socket (file)

              <b>inet:&lt;port&gt;</b>         Internet Socket (network)

              <b>inet6:&lt;port&gt;</b>        Internet IPv6 Socket (network)

              If port is 0 or no port is provided default port 3333 is used.

              At present there is a hardcoded limit of 16 clients connected at one time.

           <b>--rs-485</b>

              Enable RS-485 mode.

           <b>--rs-485-config</b> <u>&lt;config&gt;</u>

              Set the RS-485 configuration using the following key or key value pair format in the configuration
              field:

              <b>RTS_ON_SEND=value</b>             Set logical level (0 or 1) for RTS pin when sending

              <b>RTS_AFTER_SEND=value</b>          Set logical level (0 or 1) for RTS pin after sending

              <b>RTS_DELAY_BEFORE_SEND=value</b>   Set RTS delay (ms) before sending

              <b>RTS_DELAY_AFTER_SEND=value</b>    Set RTS delay (ms) after sending

              <b>RX_DURING_TX</b>                  Receive data even while sending data

              If defining more than one key or key value pair, they must be comma separated.

       <b>--alert</b> <b>none|bell|blink</b>

              Set alert action on connect/disconnect.

              It will sound the bell once or blink once on successful connect. Likewise it will sound  the  bell
              twice or blink twice on disconnect.

              Default value is "none".

       <b>--mute</b>

              Mute tio messages.

       <b>--script</b> <u>&lt;string&gt;</u>

              Run script from string.

       <b>--script-file</b> <u>&lt;filename&gt;</u>

              Run script from file with filename.

       <b>--script-run</b> <b>once|always|never</b>

              Run script on connect once, always, or never.

              Default value is "always".

       <b>--exec</b> <u>&lt;command&gt;</u>

              Execute shell command with I/O redirected to device

       <b>-v</b>, <b>--version</b>

              Display program version.

       <b>-h</b>, <b>--help</b>

              Display help.

</pre><h4><b>KEY</b> <b>COMMANDS</b></h4><pre>
       In session, all key strokes are forwarded to the serial device except the following key sequence: a
       prefix key (default: ctrl-t) followed by a command key. These sequences are intercepted as key commands:

       <b>ctrl-t</b> <b>?</b>        List available key commands

       <b>ctrl-t</b> <b>b</b>        Send serial break (triggers SysRq on Linux, etc.)

       <b>ctrl-t</b> <b>c</b>        Show configuration (baudrate, databits, etc.)

       <b>ctrl-t</b> <b>e</b>        Toggle local echo mode

       <b>ctrl-t</b> <b>f</b>        Toggle log to file

       <b>ctrl-t</b> <b>F</b>        Flush  data  I/O  buffers (discard data written but not transmitted and data received but
                       not read)

       <b>ctrl-t</b> <b>g</b>        Toggle serial port line

       <b>ctrl-t</b> <b>i</b>        Toggle input mode

       <b>ctrl-t</b> <b>l</b>        Clear screen

       <b>ctrl-t</b> <b>L</b>        Show line states (DTR, RTS, CTS, DSR, DCD, RI)

       <b>ctrl-t</b> <b>m</b>        Change mapping of characters on input or output

       <b>ctrl-t</b> <b>o</b>        Toggle output mode

       <b>ctrl-t</b> <b>p</b>        Pulse serial port line

       <b>ctrl-t</b> <b>q</b>        Quit

       <b>ctrl-t</b> <b>r</b>        Run script

       <b>ctrl-t</b> <b>R</b>        Execute shell command with I/O redirected to device

       <b>ctrl-t</b> <b>s</b>        Show TX/RX statistics

       <b>ctrl-t</b> <b>t</b>        Toggle line timestamp mode

       <b>ctrl-t</b> <b>v</b>        Show version

       <b>ctrl-t</b> <b>x</b>        Send file using the XMODEM-1K or XMODEM-CRC protocol (prompts for file name and protocol)

       <b>ctrl-t</b> <b>y</b>        Send file using the YMODEM protocol (prompts for file name)

       <b>ctrl-t</b> <b>ctrl-t</b>   Send ctrl-t character

</pre><h4><b>SCRIPT</b> <b>API</b></h4><pre>
       Tio suppots Lua scripting to easily automate interaction with the tty device.

       In addition to the standard Lua API tio makes the following functions available:

       <b>expect(string,</b> <b>timeout)</b>
             Expect string - waits  for  string  to  match  or  timeout  before  continuing.   Supports  regular
             expressions. Special characters must be escaped with '\\'.  Timeout is in milliseconds, defaults to
             0 meaning it will wait forever.

             Returns 1 on successful match, 0 on timeout, or -1 on error.

             On successful match it also returns the match string as second return value.

       <b>read(size,</b> <b>timeout)</b>
             Read  from  serial device. If timeout is 0 or not provided it will wait forever until data is ready
             to read.

             Returns number of bytes read on success, 0 on timeout, or -1 on error.

             On success, returns read string as second return value.  Also emits a single  timestamp  to  stdout
             and log file per options.timestamp and options.log.

       <b>read_line(timeout)</b>
             Read  line  from  serial device. If timeout is 0 or not provided it will wait forever until data is
             ready to read.

             Returns number of bytes read on success, 0 on timeout, or -1 on error.

             On success, returns the string that was read as second return value.  Also emits a single timestamp
             to stdout and log file per options.timestamp and options.log.

       <b>write(string)</b>
             Write string to serial device.

             Returns number of bytes written on success or -1 on error.

       <b>send(file,</b> <b>protocol)</b>
             Send file using x/y-modem protocol.

             Protocol can be any of XMODEM_1K, XMODEM_CRC, YMODEM.

       <b>tty_search()</b>
             Search for serial devices.

             Returns a table of number indexed tables, one for each serial device found.  Each of  these  tables
             contains the serial device information accessible via the following string indexed elements "path",
             "tid", "uptime", "driver", "description".

             Returns nil if no serial devices are found.

       <b>set{line=state,</b> <b>...}</b>
             Set state of one or multiple tty modem lines.

             Line can be any of DTR, RTS, CTS, DSR, CD, RI

             State is high, low, or toggle.

       <b>sleep(seconds)</b>
             Sleep for seconds.

       <b><a href="../manms/msleep.ms.html">msleep</a>(ms)</b>
             Sleep for milliseconds.

       <b>exit(code)</b>
             Exit with exit code.

</pre><h4><b>CONFIGURATION</b> <b>FILE</b></h4><pre>
       Options  can  be  set  via configuration file using the INI format. <b>tio</b> uses the configuration file first
       found in the following locations in the order listed:

       <u>$XDG_CONFIG_HOME/tio/config</u>

       <u>$HOME/.config/tio/config</u>

       <u>$HOME/.tioconfig</u>

       Labels can be used to group settings into named configuration profiles which can be  activated  from  the
       command-line when starting tio.

       <b>tio</b>  will  try  to  match  the user input to a configuration profile by name or by pattern to get the TTY
       device and other options.

       Options without any label change the default options.

       Any options set via command-line will override options set in the configuration file.

       The following configuration file options are available:

       <b>pattern</b>                  Pattern matching user input. This pattern can be an extended regular  expression
                                with a single group.

       <b>device</b>                   TTY device to open. If it contains a "%s" it is substituted with the first group
                                match.

       <b>baudrate</b>                 Set baud rate

       <b>databits</b>                 Set data bits

       <b>flow</b>                     Set flow control

       <b>stopbits</b>                 Set stop bits

       <b>parity</b>                   Set parity

       <b>output-delay</b>             Set output character delay

       <b>output-line-delay</b>        Set output line delay

       <b>line-pulse-duration</b>      Set line pulse duration

       <b>no-reconnect</b>             Do not reconnect

       <b>log</b>                      Enable log to file

       <b>log-file</b>                 Set log filename

       <b>log-directory</b>            Set log directory path in which to save automatically named log files.

       <b>log-append</b>               Append to log file

       <b>log-strip</b>                Enable strip of control and escape sequences from log

       <b>local-echo</b>               Enable local echo

       <b>timestamp</b>                Enable line timestamp

       <b>timestamp-format</b>         Set timestamp format

       <b>timestamp-timeout</b>        Set timestamp timeout

       <b>map</b>                      Map characters on input or output

       <b>color</b>                    Colorize tio text using ANSI color code ranging from 0 to 255

       <b>input-mode</b>               Set input mode

       <b>output-mode</b>              Set output mode

       <b>socket</b>                   Set socket to redirect I/O to

       <b>prefix-ctrl-key</b>          Set prefix ctrl key (a..z or 'none', default: t)

       <b>rs-485</b>                   Enable RS-485 mode

       <b>rs-485-config</b>            Set RS-485 configuration

       <b>alert</b>                    Set alert action on connect/disconnect

       <b>mute</b>                     Mute tio messages

       <b>script</b>                   Run script from string

       <b>script-file</b>              Run script from file

       <b>script-run</b>               Run script on connect

       <b>exec</b>                     Execute shell command with I/O redirected to device

       It  is  possible to include the content of other configuration files using the include directive like so:
       "[include &lt;file&gt;]".

</pre><h4><b>CONFIGURATION</b> <b>FILE</b> <b>EXAMPLES</b></h4><pre>
       To change the default configuration simply set options like so:

              [default]
              baudrate = 9600
              databits = 8
              parity = none
              stopbits = 1
              color = 10
              line-pulse-duration = DTR=200,RTS=400

       Named configuration profiles can be added via labels:

              [rpi3]
              device = /dev/serial/by-id/usb-FTDI_TTL232R-3V3_FTGQVXBL-if00-port0
              baudrate = 115200
              color = 11

       Activate the configuration profile by name:

              $ tio rpi3

       Which is equivalent to:

              $ tio -b 115200 -c 11 /dev/serial/by-id/usb-FTDI_TTL232R-3V3_FTGQVXBL-if00-port0

       A configuration profile can also be activated by its pattern which supports regular expressions:

              [usb-devices]
              pattern = ^usb([0-9]*)
              device = /dev/ttyUSB%m1
              baudrate = 115200

       Activate the configuration profile by pattern match:

              $ tio usb12

       Which becomes equivalent to:

              $ tio -b 115200 /dev/ttyUSB12

       It is also possible to combine use of configuration profile and command-line options. For example:

              $ tio -l -t usb12

</pre><h4><b>EXAMPLES</b></h4><pre>
       Typical use is without options:

              $ tio /dev/ttyUSB0

       Which corresponds to the commonly used default options:

              $ tio -b 115200 -d 8 -f none -s 1 -p none /dev/ttyUSB0

       It is recommended to connect serial TTY devices by ID:

              $ tio /dev/serial/by-id/usb-FTDI_TTL232R-3V3_FTGQVXBL-if00-port0

       Using serial devices by ID ensures that tio automatically reconnects to the correct serial device  if  it
       is disconnected and then reconnected.

       Redirect serial device I/O to Unix file socket for scripting:

              $ tio -S unix:/tmp/tio-socket0 /dev/ttyUSB0

       Then, to issue a command via the file socket simply do:

              $ echo "ls -la" | nc -UN /tmp/tio-socket0 &gt; /dev/null

       Or use the expect command to script an interaction:

              #!/usr/bin/expect -f

              set timeout -1
              log_user 0

              spawn nc -UN /tmp/tio-socket0
              set uart $spawn_id

              send -i $uart "date\n"
              expect -i $uart "prompt&gt; "
              send -i $uart "ls -la\n"
              expect -i $uart "prompt&gt; "

       It is also possible to use tio's own simpler expect/send script functionality to e.g. automate logins:

              $  tio  --script  'expect("login:  ");  write("root\n");  expect("Password:  ");  write("root\n")'
              /dev/ttyUSB0

       Redirect device I/O to network file socket for remote TTY sharing:

              $ tio --socket inet:4444 /dev/ttyUSB0

       Then, use netcat to connect to the shared TTY session over network (assuming tio is hosted on IP
       10.0.0.42):

              $ nc -N 10.0.0.42 4444

       Pipe command to the serial device:

              $ echo "ls -la" | tio /dev/serial/by-id/usb-FTDI_TTL232R-3V3_FTGQVXBL-if00-port0

       Pipe command to serial device and wait for line response within 1 second:

              $ echo "*IDN?" | tio /dev/ttyACM0 --script "expect('\r\n', 1000)" --mute

       Likewise, to pipe data from file to the serial device:

              $ cat data.bin | tio /dev/serial/by-id/usb-FTDI_TTL232R-3V3_FTGQVXBL-if00-port0

       Enable RS-485 mode:

              $ tio --rs-485 --rs-485-config=RTS_ON_SEND=1,RX_DURING_TX /dev/ttyUSB0

       Manipulate DTR and RTS lines upon first connect to reset connected microcontroller:

              $  tio  --script   "set{DTR=high,RTS=low};   <a href="../man100/msleep.100.html">msleep</a>(100);   set{RTS=toggle}"   --script-run   once
              /dev/ttyUSB0

</pre><h4><b>WEBSITE</b></h4><pre>
       Visit https://tio.github.io

</pre><h4><b>AUTHOR</b></h4><pre>
       Maintained by Martin Lund &lt;<a href="mailto:martin.lund@keep-it-simple.com">martin.lund@keep-it-simple.com</a>&gt;.

tio 3.8                                            2024-11-30                                             <u><a href="../man1/tio.1.html">tio</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>