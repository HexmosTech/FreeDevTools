<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>usb_modeswitch - control the mode of 'multi-state' USB devices</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/usb-modeswitch">usb-modeswitch_2.6.1-4ubuntu1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       usb_modeswitch - control the mode of 'multi-state' USB devices

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>usb_modeswitch</b> [<b>-heWQDIvpVPmM23rwKdHSOBGTNALnsRiuagft</b>] [<b>-c</b> <u>filename</u><b>]</b>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       Several  new  USB  devices  have  their  proprietary  Windows drivers onboard, most of them WWAN and WLAN
       dongles. When plugged in for the first time, they act like a  flash  storage  and  start  installing  the
       Windows  driver  from  there. If the driver is installed, it makes the storage device disappear and a new
       device, mainly composite (e.g. with modem ports), shows up.

       On Linux, in most cases the drivers are available as kernel modules, such  as  "usbserial"  or  "option".
       However,  the device initially binds to "usb-storage" by default. <b>usb_modeswitch</b> can then send a provided
       bulk message (most likely a mass storage command) to the device; this message has  to  be  determined  by
       analyzing the actions of the Windows driver.

       In  some cases, USB control commands are used for switching. These cases are handled by custom functions,
       and no bulk message needs to be provided.

       Usually, the program is distributed with a set of configurations for many known devices, which  allows  a
       fully  automatic  handling of a device upon insertion, made possible by combining usb_modeswitch with the
       wrapper script <b>usb_modeswitch_dispatcher</b> which is launched by the udev daemon.  This  requires  a  Linux-
       flavoured system though.

       Note that <b>usb_modeswitch</b> itself has no specific Linux dependencies.

</pre><h4><b>OPTIONS</b></h4><pre>
       This  program  follows  the  usual  GNU  command  line syntax, with long options starting with two dashes
       ('--').  A summary of options is included below.

       <b>-h</b> <b>--help</b> Show summary of options.

       <b>-e</b> <b>--version</b>
                 Print version information and exit

       <b>-v</b> <b>--default-vendor</b> <b>NUM</b>
                 Vendor ID to look for (mandatory), usually given as hex number  (example:  0x12d1).   Each  USB
                 device is identified by a number officially assigned to the vendor by the USB association and a
                 number for the respective model (product ID) chosen by the vendor

       <b>-p</b> <b>--default-product</b> <b>NUM</b>
                 Product ID to look for (mandatory)

       <b>-V</b> <b>--target-vendor</b> <b>NUM</b>
                 Target  vendor  ID.  When  given  will  be  searched for and detected initially for information
                 purposes. If success checking (option -s) is active, providing target IDs  (vendor/product)  or
                 target class is recommended

       <b>-j</b> <b>--find-mbim</b>
                 Return configuration number with MBIM interface and exit.

       <b>-P</b> <b>--target-product</b> <b>NUM</b>
                 Target product ID

       <b>-b</b> <b>--bus-num</b> <b>NUM</b>

       <b>-g</b> <b>--device-num</b> <b>NUM</b>
                 If bus and device number are provided, the handling of a specific device on a specific USB port
                 is  guaranteed,  in  contrast to using only the USB ID. This is important if there are multiple
                 similar devices on a system

       <b>-C</b> <b>--target-class</b> <b>NUM</b>
                 Target Device Class according to the  USB  specification.  Some  devices  keep  their  original
                 vendor/product  ID  after  successful  switching. To prevent them from being treated again, the
                 device class can be checked.  For unswitched devices  it  is  always  8  (storage  class),  for
                 switched  modems it is often 0xff (vendor specific). In composite modes, the class of the first
                 interface is watched

       <b>-m</b> <b>--message-endpoint</b> <b>NUM</b>
                 A specific endpoint to use for data transfers. Only for testing purposes; usually endpoints are
                 determined from the device attributes

       <b>-M</b> <b>--message-content</b> <b>STRING</b>
                 A bulk message to send as a switching command. Provided as a hexadecimal string

       <b>-2</b>  <b>--message-content2</b> <b>STRING</b>

       <b>-3</b>  <b>--message-content3</b> <b>STRING</b>
                 Additional bulk messages to send as switching commands. Provided as hexadecimal strings.   When
                 used  with  mass  storage  commands, setting <b>--need-response</b> is strongly advised to comply with
                 specifications and to avoid likely errors

       <b>-w</b> <b>--release-delay</b> <b>&lt;milliseconds&gt;</b>
                 After issuing all bulk messages, wait for  the  given  time  before  releasing  the  interface.
                 Required for some modems on older systems (especially after an EJECT message)

       <b>-n</b> <b>--need-response</b>
                 Obsolete. CSW is always attempted to being read after mass storage transfers. No downside

       <b>-r</b> <b>--response-endpoint</b> <b>NUM</b>
                 Try  to  read  the response to a storage command from there. Only for testing purposes; usually
                 endpoints are determined from the device attributes

       <b>-K</b> <b>--std-eject</b>
                 Apply the standard SCSI sequence of  "Allow  Medium  Removal"  and  "Eject".  Implies  <b>-n</b>.  One
                 'Message'  can be added with <b>-M</b> that will be transmitted after the eject sequence. Used by many
                 modems

       <b>-d</b> <b>--detach-only</b>
                 Just detach  the  current  driver.  This  is  sufficient  for  some  early  devices  to  switch
                 successfully.  Otherwise  this  feature  can  be  used  as  a 'scalpel' for special cases, like
                 separating the driver from individual interfaces

       <b>-H</b> <b>--huawei-mode</b>
                 Send a special control message used by older Huawei devices

       <b>-J</b> <b>--huawei-new-mode</b>
                 Send a specific bulk message used by all newer Huawei devices

       <b>-X</b> <b>--huawei-alt-mode</b>
                 Send an alternative bulk message to Huawei devices

       <b>-S</b> <b>--sierra-mode</b>
                 Send a special control message used by Sierra devices

       <b>-G</b> <b>--gct-mode</b>
                 Send a special control message used by GCT chipsets

       <b>-T</b> <b>--kobil-mode</b>
                 Send a special control message used by Kobil devices

       <b>-N</b> <b>--sequans-mode</b>
                 Send a special control message used by Sequans chipset

       <b>-A</b> <b>--mobileaction-mode</b>
                 Send a special control message used by the MobileAction device

       <b>-B</b> <b>--qisda-mode</b>
                 Send a special control message used by Qisda devices

       <b>-E</b> <b>--quanta-mode</b>
                 Send a special control message used by Quanta devices

       <b>-F</b> <b>--pantech-mode</b> <b>NUM</b>
                 Send a special control message used by Pantech devices.  Value NUM  will  be  used  in  control
                 message as 'wValue'

       <b>-Z</b> <b>--blackberry-mode</b>
                 Send a special control message used by some newer Blackberry devices

       <b>-S</b> <b>--option-mode</b>
                 Send a special control message used by all Option devices

       <b>-O</b> <b>--sony-mode</b>
                 Apply a special sequence used by Sony Ericsson devices. Implies option --check-success

       <b>-L</b> <b>--cisco-mode</b>
                 Send a sequence of bulk messages used by Cisco devices

       <b>-R</b> <b>--reset-usb</b>
                 Send  a  USB  reset  command  to the device. Can be combined with any switching method or stand
                 alone. It is always done as the last step of all device interactions.  Few devices need  it  to
                 complete the switching; apart from that it may be useful during testing

       <b>-c</b> <b>--config-file</b> <b>FILENAME</b>
                 Use  a  specific  config  file.  If  any  ID  or  switching  options  are given as command line
                 parameters, this option is ignored.  In that case all mandatory parameters have to be  provided
                 on the command line

       <b>-f</b> <b>--long-config</b> <b>STRING</b>
                 Provide device details in config file syntax as a multiline string on the command line

       <b>-t</b> <b>--stdinput</b>
                 Read  the  device  details  in  config  file syntax from standard input, e.g. redirected from a
                 command pipe (multiline text)

       <b>-Q</b> <b>--quiet</b>
                 Don't show progress or error messages

       <b>-W</b> <b>--verbose</b>
                 Print all settings before running and show libusb debug messages

       <b>-D</b> <b>--sysmode</b>
                 Changes the behaviour of the program slightly. A success message including the effective target
                 device ID is put out and a syslog notice is issued.  Mainly  for  integration  with  a  wrapper
                 script

       <b>-s</b> <b>--check-success</b> <b>&lt;seconds&gt;</b>
                 After  switching,  keep  checking  for the result up to the given time. If target IDs or target
                 class were provided, their appearance indicates certain success. Otherwise the disconnection of
                 the original device is rated as likely proof

       <b>-I</b> <b>--inquire</b>
                 Obsolete. Formerly obtained SCSI attributes, now ignored

       <b>-i</b> <b>--interface</b> <b>NUM</b>
                 Select initial USB interface (default: 0). Only for testing purposes

       <b>-u</b> <b>--configuration</b> <b>NUM</b>
                 Select USB configuration (applied after any other possible switching actions)

       <b>-a</b> <b>--altsetting</b> <b>NUM</b>
                 Select alternative USB interface setting (applied after switching). Mainly for testing

</pre><h4><b>AUTHOR</b></h4><pre>
       This manual page was originally written by Didier  Raboud  (<a href="mailto:didier@raboud.com">didier@raboud.com</a>)  for  the  <b>Debian</b>  system.
       Additions  made  by  Josua  Dietze. Permission is granted to copy, distribute and/or modify this document
       under the terms of the GNU General Public License, Version 2 or any later version published by  the  Free
       Software Foundation.

       The    complete    text    of    the   current   GNU   General   Public   License   can   be   found   in
       <a href="http://www.gnu.org/licenses/gpl.txt">http://www.gnu.org/licenses/gpl.txt</a>

                                                                                               <u><a href="../man1/USB_MODESWITCH.1.html">USB_MODESWITCH</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>