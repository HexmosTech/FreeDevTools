<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ampboot - Qualcomm Atheros AR7x00 Powerline Device Bootstrapper</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/plc-utils-extra">plc-utils-extra_0.0.6+git20250218.cbf52f68-1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       ampboot - Qualcomm Atheros AR7x00 Powerline Device Bootstrapper

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>ampboot</b> [<u>options</u>] -<b>N</b> <u>file</u> -<b>P</b> <u>file</u> [<u>device</u>] [<u>device</u>] [...]

</pre><h4><b>DESCRIPTION</b></h4><pre>
       Download  and start runtime firmware on a local powerline device when it is in bootloader mode.  A device
       remains in bootloader mode when it cannot load firmware from flash memory  for  some  reason.   This  can
       happen  if  the device has no flash memory or the flash memory is either blank or corrupted.  You can use
       this progrm to start a device or start the device and then, once runtime firmware starts,  program  flash
       memory.

       The bootloader only recognizes a subset of Atheros message types.  This program uses that subset to write
       runtime  firmware and parameters into SDRAM then start firmware execution.  Optionally, it can proceed to
       download the same firmware and parameters again and commit them to flash memory.

       Starting a device is a three phase operation.  The first phase writes an SDRAM configuration program into
       TCM and executes it.  The second phase writes runtime firmware and parameters as images into SDRAM.   The
       third phase starts firmware execution.  Once the runtime firmware starts, the device is operational.

       Flashing  a  device  is  a two phase operation.  The first phase downloads runtime firmare and parameters
       under firmware control into scratch buffers.  The second  phase  instructs  the  firmware  to  write  the
       scratch buffers to flash memory and reboot the device.  After flashing the device is self-sustaining.

       This program is part of the Qualcomm Atheros Powerline Toolkit.  See the <b>plc</b> man page for an overview and
       installation instructions.

</pre><h4><b>OPTIONS</b></h4><pre>
       -<b>e</b>     Redirects  stderr  messages  to  stdout.   By  convention status and error messages are printed on
              stderr while primary program output is printed on stdout.  This option prints all output on stdout
              in cases where this is desired.

       -<b>F</b>[<b>F</b>]  Write previously downloaded MAC and PIB to NVRAM using VS_MOD_NVM.  Adding  a  second  <b>F</b>  here  or
              another  -<b>F</b>  anywhere  on  the command line will <b>force-flash</b> a blank or corrupted NVRAM.  Firmware
              loaded from NVRAM will treat force-flash as an error.  This option can be used to  create  factory
              settings  but  cannot  be  used  to  change them once created.  Subsequent use creates and updates
              operational settings that can be erased using a factory reset.

       -<b>i</b> <u>interface</u>
              Select the host Ethernet interface.  All requests are  sent  via  this  host  interface  and  only
              reponses  received  via this host interface are recognized.  The default interface is <b>eth1</b> because
              most people use <b>eth0</b> as their principle network connection; however, if environment  string  "PLC"
              is defined then it takes precedence over the default interface.  This option then takes precedence
              over either default.

       -<b>N</b> <u>filename</u>
              Read  the  named NVM file and write it to the device.  This option and argument are required.  Any
              file having an invalid NVM file format will  be  rejected.   No  assumptions  are  made  based  on
              filename and no filename conventions are enforced.

       -<b>P</b> <u>filename</u>
              Read  the  named PIB file and write it to the device.  This option and argument are required.  Any
              file having an invalid PIB file format will  be  rejected.   No  assumptions  are  made  based  on
              filename and no filename conventions are enforced.

       -<b>q</b>     Suppresses status messages on stderr.

       -<b>t</b> <u>milliseconds</u>
              Read  timeout  in  milliseconds.   Values range from 0 through UINT_MAX.  This is the maximum time
              allowed for a response.  The default is shown in brackets on the program menu.

       -<b>v</b>     Prints additional information on stdout.  In  particular,  this  option  dumps  outgoing  Ethernet
              packets on stdout.

       -<b>?</b>,--<b>help</b>
              Print  program  help  summary  on  stdout.  This option takes precedence over other options on the
              command line.

       -<b>!</b>,--<b>version</b>
              Print program version information on stdout.  This option takes precedence over other  options  on
              the  command line.  Use this option when sending screen dumps to Atheros Technical Support so that
              they know exactly which version of the Linux Toolkit you are using.

</pre><h4><b>ARGUMENTS</b></h4><pre>
       <u>device</u> The Ethernet hardware address of some powerline device.  More than one address may be specified on
              the command line.  If more than one address is specified then operations  are  performed  on  each
              device in turn.  The default address is <b>local</b>.  as explained in the <b>DEVICES</b> section.

</pre><h4><b>DEVICES</b></h4><pre>
       Powerline  device  addresses  are 12 hexadecimal digits in upper, lower or mixed case.  Individual octets
       may be separated by colons, for clarity, but colons  are  not  required.   For  example,  "00b052000001",
       "00:b0:52:00:00:01" and "00b052:000001" are valid and equivalent.

       A <b>local</b> device is any Atheros Powerline Device connected directly to a host Ethernet interface.  A <b>remote</b>
       device is any Atheros Powerline Device at the far end of a powerline connection.  A <b>foreign</b> device is any
       powerline device not manufactured by Atheros.

       Common  device  addresses have symbolic names that can be used in place of the actual address value.  The
       following symbolic addresses are recognized by this program and most other toolkit programs.

       <b>all</b>    Equivalent to "broadcast", described next.

       <b>broadcast</b>
              A synonym for the Ethernet broadcast address,  <b>FF:FF:FF:FF:FF:FF</b>.   All  devices,  whether  local,
              remote or foreign will respond to this address.

       <b>local</b>  A  synonym  for the Qualcomm Atheros Local Management Address (LMA), <b>00:B0:52:00:00:01</b>.  All local
              Atheros devices will respond to this address but remote and foreign devices will not.

</pre><h4><b>REFERENCES</b></h4><pre>
       See the Qualcomm Atheros HomePlug AV Firmware Technical Reference Manual for technical information.   See
       the Qualcomm Atheros Powerline Toolkit Online Documetation for practical information and examples.

</pre><h4><b>EXAMPLES</b></h4><pre>
       The  -<b>N</b> and -<b>P</b> options are always required.  Their order is not important.  Tne MAC address is not needed
       because devices default to address 00:B0:52:00:00:01 (the program default address)  in  bootloader  mode.
       Once  this  operation  completes,  firmware  is  running in SDRAM but the NVRAM, if present, has not been
       programmed.  This operation is common for flash-less devices.  If we reset the device at this point  then
       the device will return to bootloader mode.

          ampboot -N test.nvm -P test.pib
          # eth0 00:B0:52:00:00:01 Write SDRAM Configuration
          # eth0 00:B0:52:00:00:01 Written.
          # eth0 00:B0:52:00:00:01 Write to device memory
          # eth0 00:B0:52:00:00:01 Written.
          # eth0 00:B0:52:00:00:01 Write to device memory
          # eth0 00:B0:52:00:00:01 Written.
          # eth0 00:B0:52:00:00:01 Start Firmware
          # eth0 00:B0:52:00:00:01 Started.

       The  next  example  does  the  same thing but performs the extra steps needed to program NVRAM.  It first
       downloads the firmware image from file <b>test.nvm</b> and the parameter block image from  file  <b>test.pib</b>  using
       VS_WR_MEM  then  starts  firmware  execution  using  VS_ST_MAC.   Once  runtime  firmware has started, it
       downloads the same firmware image and parameter block image (again) using VS_WR_MOD and commits  them  to
       NVRAM using VS_MOD_NVM.

          ampboot -N test.nvm -P test.pib -F
          # eth0 00:B0:52:00:00:01 Write SDRAM Configuration
          # eth0 00:B0:52:00:00:01 Written.
          # eth0 00:B0:52:00:00:01 Write to device memory
          # eth0 00:B0:52:00:00:01 Written.
          # eth0 00:B0:52:00:00:01 Write to device memory
          # eth0 00:B0:52:00:00:01 Written.
          # eth0 00:B0:52:00:00:01 Start Firmware
          # eth0 00:B0:52:00:00:01 Started.
          # eth0 00:B0:52:00:00:01 Write MAC as module
          # eth0 00:B0:52:00:00:01 Written.
          # eth0 00:B0:52:00:00:01 Write PIB as module
          # eth0 00:B0:52:00:00:01 Written.
          # eth0 00:B0:52:00:00:01 Flash Device
          # eth0 00:B0:52:00:00:01 Flashed.

</pre><h4><b>DISCLAIMER</b></h4><pre>
       Atheros  HomePlug  AV Vendor Specific Management Message structure and content is proprietary to Qualcomm
       Atheros, Ocala FL USA.  Consequently, public information may not be available.  Qualcomm Atheros reserves
       the right to modify message structure and content in future firmware releases without any  obligation  to
       notify or compensate users of this program.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b>plc</b>(<b>1</b>), <b>amptool</b>(<b>1</b>), <b>chknvm</b>(<b>1</b>), <b>chkpib</b>(<b>1</b>), <b>modpib</b>(<b>1</b>)

</pre><h4><b>CREDITS</b></h4><pre>
        Charles Maier

open-plc-utils-0.0.3                              November 2013                                       <u><a href="../man1/ampboot.1.html">ampboot</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>