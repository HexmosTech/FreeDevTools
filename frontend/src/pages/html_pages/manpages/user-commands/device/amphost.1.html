<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>amphost - Qualcomm Atheros Powerline Device Host Emulator</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/plc-utils-extra">plc-utils-extra_0.0.6+git20250218.cbf52f68-1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       amphost - Qualcomm Atheros Powerline Device Host Emulator

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>amphost</b> [<b>options</b>] <b>-N</b> <u>file</u> <b>-P</b> <u>file</u> <b>-n</b> <u>file</u> <b>-p</b> <u>file</u>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       Wait for VS_HST_ACTION.IND messages from a local device and service them as described in the QCA Firmware
       Technical  Reference  Manual.   This  program  can  be  used  to  demonstrate  or verify proper powerline
       device/host interaction for flash-less devices.  This implementation is not  production  grade  and  will
       stop  dead  -  like  a bug! - when things go wrong.  Consider using the Qualcomm Atheros Embedded API for
       real-time, production-grade applications.

       Host emulation applies to flash-less device designs where a local host processor provides the  persistent
       storage.   The local host can provide a wide range of intelligent storage functions for a device but this
       program offers one.  Options -<b>N</b> and -<b>P</b> name  existing  files  that  store  the  factory  default  runtime
       firmware  and  parameters,  respectively.   Options  -<b>n</b>  and  -<b>p</b>  name scratch files that will store user
       firmware and parameters, respectively.  This is similiar to the standard Atheros NVRAM scheme but is  not
       the same.

       To use the program, connect a flash-less device to the host via ethernet then start this program with the
       correct  filenames.   The  program  will  automatically  respond  to  device  requests to download memory
       configuration, firmware and/or parameters and upload firmware or and/or parameters under device  control.
       See the Qualcomm Atheros Firmware Technical Reference Manual for more information.

       This program is part of the Qualcomm Atheros Powerline Toolkit.  See the <b>plc</b> man page for an overview and
       installation instructions.

</pre><h4><b>OPTIONS</b></h4><pre>
       -<b>F</b>[<b>F</b>]  Flash  NVRAM  once  downloaded  firmware  has  started.  The same firmware and PIB are downloaded,
              again, using VS_WR_MOD and written to NVRAM using VS_MOD_NVM.  Adding a second <b>F</b> here  or  another
              -<b>F</b> anywhere on the command line will perform a forced flash.  When no NVRAM is present, normal and
              force  flash  cause  the  device to upload to the host.  When blank or corrupted NVRAM is present,
              forced flash writes to NVRAM.  This operation will fail when no NVRAM is present.

       <b>-i</b> <u>interface</u>
              Select the host Ethernet interface.  All requests are  sent  via  this  host  interface  and  only
              reponses  received  via this host interface are recognized.  The default interface is <b>eth1</b> because
              most people use <b>eth0</b> as their principle network connection; however, if environment  string  "PLC"
              is defined then it takes precedence over the default interface.  This option then takes precedence
              over either default.

       -<b>N</b> <u>filename</u>
              Use  this  file  to download firmware when requested by the local device.  The file must exist and
              have a valid NVM file format or it will be rejected.  No assumptions are made  based  on  filename
              and no filename conventions are enforced.  The program will not over-write this file.  This option
              and argument are required.

       -<b>n</b> <u>filename</u>
              Use  this  file  to store firmware uploaded from the local device.  The file need not exist but an
              error will occur if it cannot be created or written.  If firmware is uploaded to this file, it  is
              used  for subsequent firmware downloads unless the device requests a factory reset.  In that case,
              the file specified by option -<b>N</b> is used.  This option and argument are optional.  If omitted  then
              the default filename <b>user.pib</b> will be used.

       -<b>P</b> <u>filename</u>
              Use  this file to download parameters when requested by the local device.  The file must exist and
              have a valid PIB file format or it will be rejected.  No assumptions are made  based  on  filename
              and no filename conventions are enforced.  The program will not over-write this file.  This option
              and argument are required.

       -<b>p</b> <u>filename</u>
              Use  this file to store parameters uploaded from the local device.  The file need not exist but an
              error will occur if it cannot be created or written.  Once parameters are uploaded to  this  file,
              it is used for subsequent parameter downloads unless the device requests a factory reset.  In that
              case, the file specified by option -<b>P</b> is used.  This option and argument are optional.  If omitted
              then the default filename <b>user.nvm</b> will be used.

       -<b>q</b>     Suppress status messages on stderr.

       -<b>t</b> <u>milliseconds</u>
              Read  timeout  in  milliseconds.   Values range from 0 through UINT_MAX.  This is the maximum time
              allowed for a response.  The default is shown in brackets on the program menu.

       -<b>v</b>     Print additional information on stdout.  In  particular,  this  option  will  print  incoming  and
              outgoing Ethernet frames on stdout.

       -<b>?</b>, --<b>help</b>
              Print  program  help  summary  on  stdout.  This option takes precedence over other options on the
              command line.

       -<b>!</b>, --<b>version</b>
              Print program version information on stdout.  This option takes precedence over other  options  on
              the  command line.  Use this option when sending screen dumps to Atheros Technical Support so that
              they know exactly which version of the Linux Toolkit you are using.

</pre><h4><b>ARGUMENTS</b></h4><pre>
       None.

</pre><h4><b>REFERENCES</b></h4><pre>
       See the Qualcomm Atheros HomePlug AV Firmware Technical Reference Manual for more information.

</pre><h4><b>EXAMPLES</b></h4><pre>
       The following command starts the host emulator.  The -<b>N</b> and -<b>P</b> options are always required.  Their  order
       is not important.

          # amphost -N test.nvm -P test.pib -n temp.nvm -p temp.pib
          eth1 00:B0:52:00:00:01 Waiting for Host Action Requests

          eth1 00:B0:52:00:00:01 Host Action Request is (4) configure memory.
          eth1 00:B0:52:00:00:01 Write Memory (00000040:15752)
          eth1 00:B0:52:00:00:01 Wrote mac-release-X.nvm
          eth1 00:B0:52:00:00:01 Started BootLoader

          eth1 00:B0:52:00:00:01 Host Action Request is (0) initialize device.
          eth1 00:B0:52:00:00:01 Write Memory (00000040:15752)
          eth1 00:B0:52:00:00:01 Wrote mac-release-X.nvm
          eth1 00:B0:52:00:00:01 Started BootLoader
          eth1 00:B0:52:00:00:01 Write Memory (00204000:1013952)
          eth1 00:B0:52:00:00:01 Wrote mac-release-X.nvm
          eth1 00:B0:52:00:00:01 Write Memory (01F00000:11400)
          eth1 00:B0:52:00:00:01 Wrote AR7400-WallAdapter-HomePlugAV_NorthAmerica.pib
          eth1 00:B0:52:00:00:03 Started INT7400-MAC-0-0-1008-00-63-20100227-AUTO-D

</pre><h4><b>DISCLAIMER</b></h4><pre>
       Atheros  HomePlug  AV  Vendor  Specific  Management Message Entry structure and content is proprietary to
       Qualcomm Atheros, Ocala FL USA.  Consequently, public information may not be available.  Qualcomm Atheros
       reserves the right to modify message structure and  content  in  future  firmware  releases  without  any
       obligation to notify or compensate users of this program.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b>plc</b>(<b>1</b>), <b>ampboot</b>(<b>1</b>), <b>amptool</b>(<b>1</b>),

</pre><h4><b>CREDITS</b></h4><pre>
        Charles Maier

open-plc-utils-0.0.3                              November 2013                                       <u><a href="../man1/amphost.1.html">amphost</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>