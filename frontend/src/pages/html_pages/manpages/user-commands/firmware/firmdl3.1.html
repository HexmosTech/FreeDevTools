<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>firmdl3 - A firmware downloader for the RCX.  Version 3.0.</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/brickos">brickos_0.9.0.dfsg-13_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       firmdl3 - A firmware downloader for the RCX.  Version 3.0.

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>firmdl3</b> [<u>options</u>] <u>srecfile</u>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       This manual page documents the <b>firmdl3</b> kernel download command.

       <b>firmdl3</b>  is  a  program which is used to download the brickOS kernel (firmware).  <b>firmdl3</b> Supports single
       and quad rate downloading (quad-rate is default).

       Quad-rate downloading is a feature that significantly reduces firmware download times.  It is implemented
       on top of a fast serial protocol that has a 2x baud rate with no complements or parity  bits.   The  fast
       protocol is enabled by a short firmware stub that reconfigures some control registers and tweaks some ROM
       program  state.   Once  the firmware stub is downloaded and executed, the ROM responds to the fast serial
       protocol, which the downloader then uses to transfer the  actual  firmware  file.   Because  the  initial
       firmware  stub  is  small,  all  but the most trivial programs see a download time improvement when using
       quad-speed downloading.

       The caveat to using quad-speed downloading is its sensitivity to lighting conditions.  Getting quad-speed
       downloading to work right might require some trial and error.  In addition  to  avoiding  harsh  lighting
       conditions, it is important to place the RCX around 4-12 inches from the IR tower.

</pre><h4><b>OPTIONS</b></h4><pre>
       This program follows the usual GNU command line syntax, with long options starting with two dashes (`-').
       The options supported by <b>firmdl3</b> are:

       <b>-h,</b> <b>--help</b>
              Show built-in help (summery of options)

       <b>-f,</b> <b>--fast</b>
              Use 'fast' (4x) download algorithm (default)

       <b>-s,</b> <b>--slow</b>
              Use 'slow' (1x) download algorithm (Use if experiencing download problems)

       <b>--tty={ttydevice}</b>
              Specify serial serial tty where IR tower is connected.

              NOTE: The environment variable RCXTTY may be used in place of -tty

       <b>--debug</b>
              Enable debugging. (Mostly displays raw bytes).

</pre><h4><b>ENVIRONMENT</b> <b>VARIABLES</b></h4><pre>
       <b>firmdl3</b>  will  respond  to  the  environment variable RCXTTY.  This should be set to the serial device to
       which the IR tower is connected.  Use of RCXTTY is equivalent the using the -tty command-line option.

</pre><h4><b>EXAMPLES</b></h4><pre>
       <b>firmdl3</b> is a simple command to use.  The following examples show most of the uses.

       <b>Ex1:</b> download the brickOS kernal to ttyS0.

          $ firmdl3 -tty=/dev/ttyS0 /usr/lib/brickos/brickOS.srec
          Transferring "Fast Download Image" to RCX...
          100%
          Transferring "/usr/lib/brickos/brickOS.srec" to RCX...
          100%
          $

       <b>Ex2:</b> download the brickOS kernal to ttyS1 (set env var 1st).

          $ export RCXTTY=/dev/ttyS1
          $ firmdl3 /usr/lib/brickos/brickOS.srec
          Transferring "Fast Download Image" to RCX...
          100%
          Transferring "/usr/lib/brickos/brickOS.srec" to RCX...
          100%
          $

       <b>Ex3:</b> download the brickOS kernal using slow protocol (assumes RCXTTY is already set).

          $ firmdl3 --slow /usr/lib/brickos/brickOS.srec
          Transferring "/usr/lib/brickos/brickOS.srec" to RCX...
          100%
          $

       NOTE: the missing indication of the "Fast Download Image" being sent.

       We'll leave the experiment of running <b>firmdl3</b> with --debug set as an exercise for you our reader...  (You
       really interested in seeing all the bytes fly by? ;-)

</pre><h4><b>ERROR</b> <b>MESSAGES</b></h4><pre>
       (excerpt from brickOS HOWTO)

       <b>delete</b> <b>firmware</b> <b>failed</b>
              Because  of  a  limitation  in  the  Lego  firmware, <b>firmdl3</b> cannot delete LegOS.  Instead, before
              downloading the new firmware, you must first stop the old LegOS program, and then  hold  down  the
              Prgm  button  while hitting the On/Off switch. This will delete the old LegOS firmware, allowing a
              new download.  Alternately, if you see no green light on the IR box and get this error message, it
              may indicate you have a dead battery in the IR tower.

       <b>/dev/ttyS0:</b> <b>Permission</b> <b>denied,</b> <b>com1:</b> <b>Permission</b> <b>denied,</b> <b>or</b> <b>a</b> <b>similar</b> <b>message.</b>
              The first part of the error message is the output port that <b>firmdl3</b> is trying  to  use.  This  can
              mean  two  things.  Either  you  have specified the wrong device or you have specified the correct
              device but do not have permission to access it.  If  it  is  an  access  problem,  speak  to  your
              sysadmin.   If  not,  you  can  use  the --tty argument to specify another device. For example, to
              specify the standard device under  linux,  try  ´firmdl3  --tty  /dev/ttyS0´.  Under  cygwin,  you
              probably probably want to use ´firmdl3 --tty com1´. If you discover that this is the case, you may
              wish to recompile <b>firmdl3</b> to make your setting the default.

       <b>/dev/ttyS0:</b> <b>Input/output</b> <b>error</b> <b>or</b> <b>a</b> <b>similar</b> <b>message.</b>
              You forgot to plug the tower in, most likely.

       <b>unlock</b> <b>firmware</b> <b>failed</b>
              This  indicates  that there was a slight corruption in the download. Clear brickOS and download it
              again.

       <b>no</b> <b>response</b> <b>from</b> <b>RCX</b>
              This error should be called "you forgot to turn on your RCX, moron." If I hadn't done it about  10
              million times, I'd submit the patch to change the error myself.

       If  <b>firmdl3</b>  gives  you repeated problems, you may want to try using the --slow argument, which will make
       your download much slower but can correct for certain errors caused by ambient light.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man1/dll.1.html">dll</a>(1)</b>

</pre><h4><b>AUTHOR</b></h4><pre>
       Laurent Demailly, Allen Martin, Markus Noga, Gavin Smyth, and Luis Villa  all  contributed  something  to
       some version of <b>firmdl3</b>.

       <b>firmdl3</b> <b>was</b> <b>written</b> <b>by:</b> Kekoa Proudfoot
       &lt;<a href="mailto:kekoa@graphics.stanford.edu">kekoa@graphics.stanford.edu</a>&gt; - 10/13/99

       This  manual  page  was written by Stephen M Moraco &lt;<a href="mailto:stephen@debian.org">stephen@debian.org</a>&gt;, for the Debian GNU/Linux system
       (but may be used by others).

brickOS                                         January  6, 2001                                      <u><a href="../man1/firmdl3.1.html">firmdl3</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>