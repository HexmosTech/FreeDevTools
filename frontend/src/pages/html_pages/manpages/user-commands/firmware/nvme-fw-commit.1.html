<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>nvme-fw-commit - Used to verify and commit a firmware image.</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/nvme-cli">nvme-cli_2.11-2_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       nvme-fw-commit - Used to verify and commit a firmware image.

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <u>nvme</u> <u>fw-commit</u> &lt;device&gt; [--slot=&lt;slot&gt; | -s &lt;slot&gt;]
                               [--action=&lt;action&gt; | -a &lt;action&gt;]
                               [--bpid=&lt;boot-partid&gt; | -b &lt;boot-partid&gt;]
                               [--output-format=&lt;fmt&gt; | -o &lt;fmt&gt;] [--verbose | -v]
                               [--timeout=&lt;timeout&gt; | -t &lt;timeout&gt;]

</pre><h4><b>DESCRIPTION</b></h4><pre>
       For the NVMe device given, send an nvme Firmware Commit admin command and provides the results.

       The Firmware Commit command is used to verify that a valid firmware image has been downloaded and to
       commit that revision to a specific firmware slot. The host may select the firmware image to commit on the
       next controller reset (CC.EN transitions from ‘1’ to ‘0’, a PCI function level reset, and/or other
       Controller or NVM Subsystem Reset) as part of this command. The currently executing firmware revision may
       be determined from the Firmware Revision field of the Identify Controller data structure as indicated in
       the Firmware Slot Information log page.

       No further action is automatically taken to reset the device, which is usually required to complete the
       activation process. If your kernel and driver are recent enough, you can commit the firmware by issuing a
       reset through Linux sysfs, for example:

            # echo 1 &gt; /sys/class/nvme/nvme0/device/reset

       If your kernel is not recent enough, you will need to remove and add the device some other way.

</pre><h4><b>OPTIONS</b></h4><pre>
       -a &lt;action&gt;, --action=&lt;action&gt;
           Commit Action: This field specifies the action that is taken on the image downloaded with the
           Firmware Image Download command or on a previously downloaded and placed image.
           ┌───────┬───────────────────────────────────────┐
           │ Value │ Definition                            │
           ├───────┼───────────────────────────────────────┤
           │ 0     │ Downloaded image replaces the image   │
           │       │ indicated by the Firmware Slot field. │
           │       │ This image is not activated.          │
           ├───────┼───────────────────────────────────────┤
           │ 1     │ Downloaded image replaces the image   │
           │       │ indicated by the Firmware Slot field. │
           │       │ This image is activated at the next   │
           │       │ reset.                                │
           ├───────┼───────────────────────────────────────┤
           │ 2     │ The image indicated by the Firmware   │
           │       │ Slot field is activated at the next   │
           │       │ reset.                                │
           ├───────┼───────────────────────────────────────┤
           │ 3     │ The image specified by the Firmware   │
           │       │ Slot field is requested to be         │
           │       │ activated immediately without reset.  │
           ├───────┼───────────────────────────────────────┤
           │ 6     │ Downloaded image replaces the Boot    │
           │       │ Partition specified by the Boot       │
           │       │ Partition ID field.                   │
           ├───────┼───────────────────────────────────────┤
           │ 7     │ Mark the Boot Partition specified in  │
           │       │ the BPID field as active and update   │
           │       │ BPINFO.ABPID.                         │
           └───────┴───────────────────────────────────────┘

       -s &lt;slot&gt;, --slot=&lt;slot&gt;
           Firmware Slot: Specifies the firmware slot that shall be used for the Commit Action, if applicable.
           If the value specified is 0h, then the controller shall choose the firmware slot (slot 1 – 7) to use
           for the operation.

       --bpid=&lt;boot-partid&gt;, -b &lt;boot-partid&gt;
           Specifies the Boot partition that shall be used for the Commit Action, if applicable (default: 0)

       -o &lt;fmt&gt;, --output-format=&lt;fmt&gt;
           Set the reporting format to <u>normal</u>, <u>json</u> or <u>binary</u>. Only one output format can be used at a time.

       -v, --verbose
           Increase the information detail in the output.

       -t &lt;timeout&gt;, --timeout=&lt;timeout&gt;
           Override default timeout value. In milliseconds.

</pre><h4><b>EXAMPLES</b></h4><pre>
       •   commit the last downloaded fw to slot 1.

               # nvme fw-commit /dev/nvme0 --slot=1 --action=2

</pre><h4><b>ALIAS</b></h4><pre>
       fw-activate

</pre><h4><b>NVME</b></h4><pre>
       Part of the nvme-user suite

NVMe                                               02/16/2025                                  <u><a href="../man1/NVME-FW-COMMIT.1.html">NVME-FW-COMMIT</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>