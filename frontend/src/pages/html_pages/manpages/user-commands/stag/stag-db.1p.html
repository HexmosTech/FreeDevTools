<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>stag-db - persistent storage and retrieval for stag data (xml, sxpr, itext)</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/libdata-stag-perl">libdata-stag-perl_0.14-3_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       stag-db - persistent storage and retrieval for stag data (xml, sxpr, itext)

</pre><h4><b>SYNOPSIS</b></h4><pre>
         stag-db -r person -k social_security_no -i ./person-idx myrecords.xml
         stag-db -i ./person-idx -q 999-9999-9999 -q 888-8888-8888

</pre><h4><b>DESCRIPTION</b></h4><pre>
       Builds a simple file-based database for persistent storage and retrieval of nodes from a stag compatible
       document.

       Imagine you have a very large file of data, in a stag compatible format such as XML. You want to index
       all the elements of type <b>person</b>; each person can be uniquely identified by <b>social_security_no</b>, which is a
       direct subnode of <b>person</b>

       The first thing to do is to build an index file, which will be stored in your current directory:

         stag-db -r person -k social_security_no -i ./person-idx myrecords.xml

       You can then use the index "person-idx" to retrieve <b>person</b> nodes by their social security number

         stag-db -i ./person-idx -q 999-9999-9999 &gt; some-person.xml

       You can export using different stag formats

         stag-db -i ./person-idx -q 999-9999-9999 -w sxpr &gt; some-person.xml

       You can retrieve multiple nodes (although these need to be rooted to make a valid file)

         stag-db -i ./person-idx -q 999-9999-9999 -q 888-8888-8888 -top personset

       Or you can use a list of IDs from a file (newline delimited)

         stag-db -i ./person-idx -qf my_ss_nmbrs.txt -top personset

   <b>ARGUMENTS</b>
       <u>-i</u> <u>INDEXFILE</u>

       This file will be used as the persistent index for storage/retrieval

       <u>-r</u> <u>RELATION-NAME</u>

       This is the name of the stag node (XML element) that will be stored in the index; for example, with the
       XML below you may want to use the node name <b>person</b> and the unique key <b>id</b>

         &lt;person_set&gt;
           &lt;person&gt;
             &lt;id&gt;...&lt;/id&gt;
           &lt;/person&gt;
           &lt;person&gt;
             &lt;id&gt;...&lt;/id&gt;
           &lt;/person&gt;
           ...
         &lt;/person_set&gt;

       This flag should only be used when you want to store data

       <u>-k</u> <u>UNIQUE-KEY</u>

       This node will be used as the unique/primary key for the data

       This node should be nested directly below the node that is being stored in the index - if it is more that
       one below, specify a path

       This flag should only be used when you want to store data

       <u>-u</u> <u>UNIQUE-KEY</u>

       Synonym for <b>-k</b>

       <u>-p</u> <u>PARSER</u>

       This can be the name of a stag supported format (xml, sxpr, itext) - XML is assumed by default

       It can also be a module name - this module is used to parse the input file into a stag stream; see
       Data::Stag::BaseGenerator for details on writing your own parsers/event generators

       This flag should only be used when you want to store data

       <u>-q</u> <u>QUERY-ID</u>

       Fetches the relation/node with unique key value equal to query-id

       Multiple arguments can be passed by specifying -q multple times

       This flag should only be used when you want to query data

       <u>-top</u> <u>NODE-NAME</u>

       If this is specified in conjunction with <b>-q</b> or <b>-qf</b> then all the query result nodes will be nested inside
       a node with this name (ie this provides a root for the resulting document tree)

       <u>-qf</u> <u>QUERY-FILE</u>

       This is a file of newline-seperated IDs; this is useful for querying the index in batch

       <u>-keys</u>

       This will write a list of all primary keys in the index

       <u>-w</u> <u>WRITER</u>

       This format will be used to write the data; can be any stag format (xml, sxpr, itext) - default XML.

       Can also be a module that catches the incoming stag event stream and does something with it (for example,
       this could be a module you write yourself that transforms the stag events into HTML)

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       Data::Stag

       For more complex stag to database mapping, see DBIx::DBStag and the scripts

       stag-storenode

       selectall_xml

perl v5.34.0                                       2022-06-12                                        <u><a href="../man1p/STAG-DB.1p.html">STAG-DB</a></u>(1p)
</pre>
 </div>
</div></section>
</div>
</body>
</html>