<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>restic-rewrite - Rewrite snapshots to exclude unwanted files</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/restic">restic_0.17.3-1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       restic-rewrite - Rewrite snapshots to exclude unwanted files

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>restic</b> <b>rewrite</b> <b>[flags]</b> <b>[snapshotID</b> <b>...]</b>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The  "rewrite"  command  excludes  files from existing snapshots. It creates new snapshots containing the
       same data as the original ones, but without the files you specify to exclude. All metadata  (time,  host,
       tags) will be preserved.

       The snapshots to rewrite are specified using the --host, --tag and --path options, or by providing a list
       of  snapshot  IDs.  Please note that specifying neither any of these options nor a snapshot ID will cause
       the command to rewrite all snapshots.

       The special tag 'rewrite' will be added to the new snapshots to distinguish them from the original  ones,
       unless  --forget is used. If the --forget option is used, the original snapshots will instead be directly
       removed from the repository.

       Please note that the --forget option only removes the snapshots and not the actual  data  stored  in  the
       repository. In order to delete the no longer referenced data, use the "prune" command.

</pre><h4><b>EXIT</b> <b>STATUS</b></h4><pre>
       Exit status is 0 if the command was successful.  Exit status is 1 if there was any error.  Exit status is
       10 if the repository does not exist.  Exit status is 11 if the repository is already locked.  Exit status
       is 12 if the password is incorrect.

</pre><h4><b>OPTIONS</b></h4><pre>
       <b>-n</b>, <b>--dry-run</b>[=false]      do not do anything, just print what would be done

       <b>-e</b>, <b>--exclude</b>=[]      exclude a <b>pattern</b> (can be specified multiple times)

       <b>--exclude-file</b>=[]      read exclude patterns from a <b>file</b> (can be specified multiple times)

       <b>--forget</b>[=false]      remove original snapshots after creating new ones

       <b>-h</b>, <b>--help</b>[=false]      help for rewrite

       <b>-H</b>,  <b>--host</b>=[]       only  consider  snapshots  for this <b>host</b> (can be specified multiple times) (default:
       $RESTIC_HOST)

       <b>--iexclude</b>=[]      same as --exclude <b>pattern</b> but ignores the casing of filenames

       <b>--iexclude-file</b>=[]      same as --exclude-file but ignores casing of <b>file</b>names in patterns

       <b>--new-host</b>=""      replace hostname

       <b>--new-time</b>=""      replace time of the backup

       <b>--path</b>=[]      only consider snapshots including this (absolute) <b>path</b> (can be specified  multiple  times,
       snapshots must include all specified paths)

       <b>--tag</b>=[]      only consider snapshots including <b>tag[,tag,...]</b> (can be specified multiple times)

</pre><h4><b>OPTIONS</b> <b>INHERITED</b> <b>FROM</b> <b>PARENT</b> <b>COMMANDS</b></h4><pre>
       <b>--cacert</b>=[]      <b>file</b> to load root certificates from (default: use system certificates or $RESTIC_CACERT)

       <b>--cache-dir</b>=""      set the cache <b>directory</b>. (default: use system default cache directory)

       <b>--cleanup-cache</b>[=false]      auto remove old cache directories

       <b>--compression</b>=auto       compression  mode  (only  available  for  repository  format  version 2), one of
       (auto|off|max) (default: $RESTIC_COMPRESSION)

       <b>--http-user-agent</b>=""      set a http user agent for outgoing http requests

       <b>--insecure-no-password</b>[=false]      use an empty password for the repository, must  be  passed  to  every
       restic command (insecure)

       <b>--insecure-tls</b>[=false]        skip  TLS  certificate  verification  when  connecting  to  the  repository
       (insecure)

       <b>--json</b>[=false]      set output mode to JSON for commands that support it

       <b>--key-hint</b>=""      <b>key</b> ID of key to try decrypting first (default: $RESTIC_KEY_HINT)

       <b>--limit-download</b>=0      limits downloads to a maximum <b>rate</b> in KiB/s. (default: unlimited)

       <b>--limit-upload</b>=0      limits uploads to a maximum <b>rate</b> in KiB/s. (default: unlimited)

       <b>--no-cache</b>[=false]      do not use a local cache

       <b>--no-extra-verify</b>[=false]      skip additional verification of data before upload (see documentation)

       <b>--no-lock</b>[=false]      do not lock the repository, this allows some operations on read-only repositories

       <b>-o</b>, <b>--option</b>=[]      set extended option (<b>key=value</b>, can be specified multiple times)

       <b>--pack-size</b>=0       set  target  pack  <b>size</b>  in  MiB,  created  pack  files  may  be   larger   (default:
       $RESTIC_PACK_SIZE)

       <b>--password-command</b>=""        shell   <b>command</b>   to   obtain   the   repository   password  from  (default:
       $RESTIC_PASSWORD_COMMAND)

       <b>-p</b>, <b>--password-file</b>=""      <b>file</b> to read the repository password from (default: $RESTIC_PASSWORD_FILE)

       <b>-q</b>, <b>--quiet</b>[=false]      do not output comprehensive progress report

       <b>-r</b>, <b>--repo</b>=""      <b>repository</b> to backup to or restore from (default: $RESTIC_REPOSITORY)

       <b>--repository-file</b>=""      <b>file</b> to read the repository location from (default: $RESTIC_REPOSITORY_FILE)

       <b>--retry-lock</b>=0s      retry to lock the repository if it is already locked, takes a value like  5m  or  2h
       (default: no retries)

       <b>--stuck-request-timeout</b>=5m0s      <b>duration</b> after which to retry stuck requests

       <b>--tls-client-cert</b>=""       path  to  a <b>file</b> containing PEM encoded TLS client certificate and private key
       (default: $RESTIC_TLS_CLIENT_CERT)

       <b>-v</b>, <b>--verbose</b>[=0]      be verbose (specify multiple times or a level using --verbose=n``, max level/times
       is 2)

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man1/restic.1.html">restic</a>(1)</b>

generated by <b>restic</b> <b>generate</b>                        Jan 2017                                    <u>restic</u> <u><a href="../man1/backup.1.html">backup</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>