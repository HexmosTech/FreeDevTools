<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>apksigcopier - copy/extract/patch android apk signatures & compare apks</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/apksigcopier">apksigcopier_1.1.1-1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       apksigcopier - copy/extract/patch android apk signatures &amp; compare apks

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>apksigcopier</b> copy [<u>options</u>] <u>signed_apk</u> <u>unsigned_apk</u> <u>output_apk</u>

       <b>apksigcopier</b> extract [<u>options</u>] <u>signed_apk</u> <u>output_dir</u>

       <b>apksigcopier</b> patch [<u>options</u>] <u>metadata_dir</u> <u>unsigned_apk</u> <u>output_apk</u>

       <b>apksigcopier</b> compare [<u>options</u>] <u>first_apk</u> <u>second_apk</u>

       <b>apksigcopier</b> --version

       <b>apksigcopier</b> --help

       <b>apksigcopier</b> [<u>command</u>] --help

</pre><h4><b>DESCRIPTION</b></h4><pre>
       A  command line tool for copying android APK signatures from a signed APK to an unsigned one (in order to
       verify reproducible builds).  It can also be used to compare two APKs with different signatures.

</pre><h4><b>COMMANDS</b></h4><pre>
   <b>copy</b>
       Copy (extract &amp; patch) signatures from signed to unsigned APK.

   <b>extract</b>
       Extract APK signatures from signed APK.

   <b>patch</b>
       Patch extracted APK signatures onto unsigned APK.

   <b>compare</b>
       Compare two APKs by copying the signature from the first to a copy of the second and checking if the  re‐
       sulting APK verifies.

       This command requires <a href="../man1/apksigner.1.html">apksigner</a>(1).

       NB: copying from an APK v1-signed with signflinger to an APK signed with apksigner works, whereas the re‐
       verse fails; see the FAQ in the README.

</pre><h4><b>OPTIONS</b></h4><pre>
   <b>copy/extract/patch</b>
       --v1-only [no|auto|yes]

       Whether  to expect only a v1 signature: <u>no</u> means a v2 signature is expected as well, <u>auto</u> means the pres‐
       ence of a v2 signature is detected automatically, and <u>yes</u> means a v2 signature is not expected  (and  ig‐
       nored if it does exist).  Default: <u>no</u>.

       You can also set the environment variable <b>APKSIGCOPIER_V1_ONLY</b> instead.

   <b>compare</b>
       --unsigned

       Accept unsigned <u>second_apk</u>.

       --min-sdk-version

       Passed to <a href="../man1/apksigner.1.html">apksigner</a>(1) when verifying.

       --verify-cmd

       Command (with arguments) used to verify APKs.  Default: <u>apksigner</u> <u>verify</u>.

</pre><h4><b>ENVIRONMENT</b> <b>VARIABLES</b></h4><pre>
       The following environment variables can be set to <u>1</u>, <u>yes</u>, or <u>true</u> to override the default behaviour.

   <b>APKSIGCOPIER_EXCLUDE_ALL_META</b>
       Exclude all metadata files, not just MANIFEST.MF.

   <b>APKSIGCOPIER_COPY_EXTRA_BYTES</b>
       Copy extra bytes after data (e.g. an existing v2 signature).

   <b>APKSIGCOPIER_SKIP_REALIGNMENT</b>
       Skip realignment of ZIP entries.

</pre><h4><b>EXAMPLES</b></h4><pre>
   <b>extract</b>
              $ mkdir meta
              $ apksigcopier extract signed.apk meta
              $ ls -1 meta
              8BEA2A77.RSA
              8BEA2A77.SF
              APKSigningBlock
              APKSigningBlockOffset
              MANIFEST.MF

   <b>patch</b>
              $ apksigcopier patch meta unsigned.apk out.apk

   <b>copy</b>
              $ apksigcopier copy signed.apk unsigned.apk out.apk

   <b>compare</b>
              $ apksigcopier compare foo-from-fdroid.apk foo-built-locally.apk
              $ apksigcopier compare foo.apk --unsigned foo-unsigned.apk

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <a href="../man1/apksigner.1.html">apksigner</a>(1)

</pre><h4><b>COPYRIGHT</b></h4><pre>
       Copyright  ©  2023  FC  Stegerman.   License  GPLv3+: GNU GPL version 3 or later &lt;https://gnu.org/licens‐
       es/gpl.html&gt;.  This is free software: you are free to change and redistribute it.  There is NO  WARRANTY,
       to the extent permitted by law.

</pre><h4><b>AUTHORS</b></h4><pre>
       FC Stegerman &lt;<a href="mailto:flx@obfusk.net">flx@obfusk.net</a>&gt;.

v1.1.1                                             2023-02-08                                    <u><a href="../man1/apksigcopier.1.html">apksigcopier</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>