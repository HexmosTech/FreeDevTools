<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>duplicity - Encrypted incremental backup to local or remote storage.</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/duplicity">duplicity_3.0.4-1build1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       duplicity - Encrypted incremental backup to local or remote storage.

</pre><h4><b>SYNOPSIS</b></h4><pre>
       For detailed descriptions for each action see chapter <b>ACTIONS</b>.

       <b>duplicity</b> <b>[backup|full|incremental]</b> <u>[options]</u> source_directory target_url

       <b>duplicity</b> <b>verify</b> <u>[options]</u> <u>[--compare-data]</u> <u>[--path-to-restore</u> <u>&lt;relpath&gt;]</u> <u>[--time</u> <u>time]</u> source_url
       target_directory

       <b>duplicity</b> <b>collection-status</b> <u>[options]</u> <u>[--file-changed</u> <u>&lt;relpath&gt;]</u> <u>[--show-changes-in-set</u> <u>&lt;index&gt;]</u>
       [--jsonstat]] target_url

       <b>duplicity</b> <b>list-current-files</b> <u>[options]</u> <u>[--time</u> <u>time]</u> target_url

       <b>duplicity</b> <b>[restore]</b> <u>[options]</u> <u>[--path-to-restore</u> <u>&lt;relpath&gt;]</u> <u>[--time</u> <u>time]</u> source_url target_directory

       <b>duplicity</b> <b>remove-older-than</b> <b>&lt;time&gt;</b> <u>[options]</u> <u>[--force]</u> target_url

       <b>duplicity</b> <b>remove-all-but-n-full</b> <b>&lt;count&gt;</b> <u>[options]</u> <u>[--force]</u> target_url

       <b>duplicity</b> <b>remove-all-inc-of-but-n-full</b> <b>&lt;count&gt;</b> <u>[options]</u> <u>[--force]</u> target_url

       <b>duplicity</b> <b>cleanup</b> <u>[options]</u> <u>[--force]</u> target_url

</pre><h4><b>DESCRIPTION</b></h4><pre>
       Duplicity incrementally backs up files and folders into tar-format volumes encrypted with GnuPG and
       places them to a remote (or local) storage backend.  See chapter <b>URL</b> <b>FORMAT</b> for a list of all supported
       backends and how to address them.  Because duplicity uses librsync, incremental backups are space
       efficient and only record the parts of files that have changed since the last backup.  Currently
       duplicity supports deleted files, full Unix permissions, uid/gid, directories, symbolic links, fifos,
       etc., but not hard links.

       If you are backing up the root directory /, remember to --exclude <a href="file:/proc">/proc</a>, or else duplicity will probably
       crash on the weird stuff in there.

</pre><h4><b>EXAMPLES</b></h4><pre>
       Here is an example of a backup, using sftp to back up /home/me to some_dir on the other.host machine:

              duplicity /home/me s<a href="ftp://uid">ftp://uid</a>@other.host/some_dir

       If the above is run repeatedly, the first will be a full backup, and subsequent ones will be incremental.
       To force a full backup, use the <u>full</u> action:

              duplicity full /home/me s<a href="ftp://uid">ftp://uid</a>@other.host/some_dir

       or enforcing a full every other time via <u>--full-if-older-than</u> <u>&lt;time&gt;</u> , e.g. a full every month:

              duplicity --full-if-older-than 1M /home/me s<a href="ftp://uid">ftp://uid</a>@other.host/some_dir

       Now suppose we accidentally delete /home/me and want to restore it the way it was at the time of last
       backup:

              duplicity s<a href="ftp://uid">ftp://uid</a>@other.host/some_dir /home/me

       Duplicity enters restore mode because the URL comes before the local directory.  If we wanted to restore
       just the file "Mail/article" in /home/me as it was three days ago into /home/me/restored_file:

              duplicity -t 3D --path-to-restore Mail/article s<a href="ftp://uid">ftp://uid</a>@other.host/some_dir
              /home/me/restored_file

       The following action compares the latest backup with the current files:

              duplicity verify s<a href="ftp://uid">ftp://uid</a>@other.host/some_dir /home/me

       Finally, duplicity recognizes several include/exclude options.  For instance, the following will backup
       the root directory, but exclude <a href="file:/mnt">/mnt</a>, <a href="file:/tmp">/tmp</a>, and <a href="file:/proc">/proc</a>:

              duplicity --exclude <a href="file:/mnt">/mnt</a> --exclude <a href="file:/tmp">/tmp</a> --exclude <a href="file:/proc">/proc</a> / file:///usr/local/backup

       Note that in this case the destination is the local directory /usr/local/backup.  The following will
       backup only the <a href="file:/home">/home</a> and <a href="file:/etc">/etc</a> directories under root:

              duplicity --include <a href="file:/home">/home</a> --include <a href="file:/etc">/etc</a> --exclude '**' / file:///usr/local/backup

       Duplicity can also access a repository via ftp.  If a user name is given, the environment variable
       FTP_PASSWORD is read to determine the password:

              FTP_PASSWORD=mypassword duplicity /local/dir <a href="ftp://user">ftp://user</a>@other.host/some_dir

</pre><h4><b>ACTIONS</b></h4><pre>
       Duplicity uses actions, which can be given in long or in short form and finetuned with options.
       The actions 'backup' or 'restore' can be implied from the order local path and remote url are given.
       Other actions need to be given explicitly.  For the rare case that the local path may be a valid
       duplicity action name you may append a '/' to the local path name so it can no longer be mistaken for an
       action.

       <b>NOTE:</b> The following explanations explain some but <b>not</b> all options that can be used in connection with
       that action.  Consult the OPTIONS section for more detailed descriptions.

       <b>backup,</b> <b>bu</b> <u>&lt;folder&gt;</u> <u>&lt;url&gt;</u>
              Perform  a backup. Duplicity automatically performs an incremental backup if old signatures can be
              found. Else a new backup chain is started.

       <b>full,</b> <b>fb</b> <u>&lt;folder&gt;</u> <u>&lt;url&gt;</u>
              Perform a full backup. A new backup chain is started even  if  signatures  are  available  for  an
              incremental backup.

       <b>incremental,</b> <b>ib</b> <u>&lt;folder&gt;</u> <u>&lt;url&gt;</u>
              If  this  is  requested  an  incremental backup will be performed.  Duplicity will abort if no old
              signatures can be found.

       <b>verify,</b> <b>vb</b> <u>[--compare-data]</u> <u>[--time</u> <u>&lt;time&gt;]</u> <u>[--path-to-restore</u> <u>&lt;rel_path&gt;]</u> <u>&lt;url&gt;</u> <u>&lt;local_path&gt;</u>
              Verify tests the integrity of the backup archives at the remote location by downloading each  file
              and checking both that it can restore the archive and that the restored file matches the signature
              of  that  file  stored  in  the  backup,  i.e. compares the archived file with its hash value from
              archival time. Verify does not actually restore and will not overwrite any local files.  Duplicity
              will  exit  with  a  non-zero  error  level  if any files do not match the signature stored in the
              archive for that file. On verbosity level 4 or higher, it will log a message for  each  file  that
              differs  from  the  stored  signature.  Files  must be downloaded to the local machine in order to
              compare them.  Verify does not compare the backed-up version of the file to the current local copy
              of the files unless the --compare-data option is used (see below).
              The <u>--path-to-restore</u> option restricts verify to that file or folder.  The  <u>--time</u>  option  allows
              one to select a backup to verify.  The <u>--compare-data</u> option enables data comparison (see below).

       <b>collection-status,</b> <b>st</b> <u>[--file-changed</u> <u>&lt;relpath&gt;]</u> <u>[--show-changes-in-set</u> <u>&lt;index&gt;]</u> <u>&lt;url&gt;</u>
              Summarize  the  status  of  the  backup  repository by printing the chains and sets found, and the
              number of volumes in each.
              The <u>--file-changed</u> option summarizes the changes to the file (in the most  recent  backup  chain).
              The <u>--show-changes-in-set</u> option summarizes all the file changes in the index:th backup set (where
              index 0 means the latest set, 1 means the next to latest, etc.).  <u>--jsonstat</u> prints the changes in
              json format and statistics from the jsonstat files if the backups were created with --jsonstat. If
              &lt;index&gt; is set to -1 statistics for the whole backup chain printed

       <b>list-current-files,</b> <b>ls</b> <u>[--time</u> <u>&lt;time&gt;]</u> <u>&lt;url&gt;</u>
              Lists  the  files contained in the most current backup or backup at time.  The information will be
              extracted from the signature files, not the archive data itself. Thus the whole archive  does  not
              have  to  be  downloaded, but on the other hand if the archive has been deleted or corrupted, this
              action will not detect it.

       <b>restore,</b> <b>rb</b> <u>[--path-to-restore</u> <u>&lt;relpath&gt;]</u> <u>[--time</u> <u>&lt;time&gt;]</u> <u>&lt;url&gt;</u> <u>&lt;target_folder&gt;</u>
              You can restore the full monty or selected folders/files from a specific time.  Use  the  relative
              path  as it is printed by <b>list-current-files</b>.  Usually not needed as duplicity enters restore mode
              when it detects that the URL comes before the local folder.

       <b>remove-older-than,</b> <b>ro</b> <u>&lt;time&gt;</u> <u>[--force]</u> <u>&lt;url&gt;</u>
              Delete all backup sets older than the given time.  Old backup sets will not be deleted  if  backup
              sets  newer  than  <u>time</u> depend on them.  See the <b>TIME</b> <b>FORMATS</b> section for more information.  Note,
              this action cannot be combined with backup or other actions, such  as  cleanup.   Note  also  that
              <u>--force</u> will be needed to delete the files instead of just listing them.

       <b>remove-all-but-n-full,</b> <b>ra</b> <u>&lt;count&gt;</u> <u>[--force]</u> <u>&lt;url&gt;</u>
              Delete  all  backups  sets that are older than the count:th last full backup (in other words, keep
              the last <u>count</u> full backups and associated incremental sets).  <u>count</u> must be larger than  zero.  A
              value  of  1  means that only the single most recent backup chain will be kept.  Note that <u>--force</u>
              will be needed to delete the files instead of just listing them.

       <b>remove-all-inc-of-but-n-full,</b> <b>ri</b> <u>&lt;count&gt;</u> <u>[--force]</u> <u>&lt;url&gt;</u>
              Delete incremental sets of all backups sets that are older than the count:th last full backup  (in
              other  words,  keep  only  old  full backups and not their increments).  <u>count</u> must be larger than
              zero. A value of 1 means that only the single most recent backup chain will be kept intact.   Note
              that <u>--force</u> will be needed to delete the files instead of just listing them.

       <b>cleanup,</b> <b>cl</b> <u>[--force]</u> <u>&lt;url&gt;</u>
              Delete  the  extraneous  duplicity  files  on the given backend.  Non-duplicity files, or files in
              complete data sets will not be deleted.  This should only be necessary after a  duplicity  session
              fails  or is aborted prematurely.  Note that <u>--force</u> will be needed to delete the files instead of
              just listing them.

</pre><h4><b>OPTIONS</b></h4><pre>
       <b>--allow-source-mismatch</b>
              Do not abort on attempts to use the same archive dir  or  remote  backend  to  back  up  different
              directories. duplicity will tell you if you need this switch.

       <b>--archive-dir</b> <u>path</u>
              The archive directory.

              <b>NOTE:</b>  This  option  changed  in 0.6.0.  The archive directory is now necessary in order to manage
              persistence for current and future enhancements.  As such, this option is now used only to  change
              the  location of the archive directory.  The archive directory should <b>not</b> be deleted, or duplicity
              will have to recreate it from the remote repository  (which  may  require  decrypting  the  backup
              contents).

              When  backing  up  or  restoring,  this option specifies that the local archive directory is to be
              created in <u>path</u>.  If the archive directory is not specified, the default will  be  to  create  the
              archive directory in <u><a href="file:~/.cache/duplicity/">~/.cache/duplicity/</a></u>.

              The archive directory can be shared between backups to multiple targets, because a subdirectory of
              the archive dir is used for individual backups (see <b>--name</b> ).

              The  combination of archive directory and backup name must be unique in order to separate the data
              of different backups.

              The interaction between the  <b>--archive-dir</b>  and  the  <b>--name</b>  options  allows  for  four  possible
              combinations for the location of the archive dir:

              1.     neither specified (default)
                      <a href="file:~/.cache/duplicity/">~/.cache/duplicity/</a><u>hash-of-url</u>

              2.     --archive-dir=/arch, no --name
                      /arch/<u>hash-of-url</u>

              3.     no --archive-dir, --name=foo
                      <a href="file:~/.cache/duplicity/foo">~/.cache/duplicity/foo</a>

              4.     --archive-dir=/arch, --name=foo
                      /arch/foo

       <b>--asynchronous-upload</b>
              <b>(DISCONTINUED)</b>  This  option  is  discontinued because of instability.  `--concurrency` is the new
              replacement.

       <b>--azure-blob-tier</b>
              Standard storage tier used for backup files (Hot|Cool|Archive).

       <b>--azure-max-single-put-size</b>
              Specify the number of the largest supported upload size where the Azure library makes only one put
              call. If the content size is known and below this value the Azure library will  only  perform  one
              put request to upload one block.  The number is expected to be in bytes.

       <b>--azure-max-block-size</b>
              Specify  the  number  for  the block size used by the Azure library to upload blobs if it is split
              into multiple blocks.  The maximum block size the service supports is 104857600 (100MiB)  and  the
              default is 4194304 (4MiB)

       <b>--azure-max-connections</b>
              Specify  the  number  of maximum connections to transfer one blob to Azure blob size exceeds 64MB.
              The default values is 2.

       <b>--b2-hide-files</b>
              Causes Duplicity to hide files in B2 instead of deleting them. Useful  in  combination  with  B2's
              lifecycle rules.

       <b>--backend-retry-delay</b> <u>number</u>
              Specifies the number of seconds that duplicity waits after an error has occurred before attempting
              to repeat the operation.

       <b>--cf-backend</b> <u>backend</u>
              Allows the explicit selection of a cloudfiles backend. Defaults to <b>pyrax</b>.  Alternatively you might
              choose <b>cloudfiles</b>.

       <b>--concurrency</b> <u>number</u>
              Give  the  number  of  background  process that should be use to run concurrent backend task. This
              decouples local operations like de/encrption,  volume  creation  etc.   from  transfering  to/from
              backends.   The  intended  end-result is a faster backup, because the local CPU and your bandwidth
              can be more consistently utilized. Use of this option implies additional need for  disk  space  in
              the  temporary  storage  location;  rather than needing to store only one volume at a time, enough
              storage space is required to store n+1 volumes.  Depending on the  backend  and  network  parallel
              operations  can  speed  up  things.  A good starting point for concurrency is 1-4. Check duplicity
              statistics for fine tuning.  In most cases this should not extend the number of CPUs minus one  of
              your system.

       <b>--config-dir</b> <u>path</u>
              Allows selection of duplicity's configuratin dir.  Defaults to <b><a href="file:~/.config/duplicity">~/.config/duplicity</a></b>.

       <b>--copy-blocksize</b> <u>kilos</u>
              Allows  selection  of blocksize in kilobytes to use in copying.  Increasing this may speed copying
              of large files.  Defaults to <b>128</b>.

       <b>--no-check-remote</b>
              Turn off validation of the remote manifest.  Checking is the default.  No checking will allow  you
              to  backup  without  the  private  key,  but  will  mean that the remote manifest may exist and be
              corrupted, leading to the possibility that the backup might not be recoverable.

       <b>--compare-data</b>
              Enable data comparison of regular files on action verify. This  conducts  a  verify  as  described
              above  to verify the integrity of the backup archives, but additionally compares restored files to
              those in target_directory.  Duplicity will not replace any files  in  target_directory.  Duplicity
              will  exit  with  a non-zero error level if the files do not correctly verify or if any files from
              the archive differ from those in target_directory. On verbosity level 4 or higher, it will  log  a
              message for each file that differs from its equivalent in target_directory.

       <b>--copy-links</b>
              Resolve  symlinks  during  backup.  Enabling this will resolve &amp; back up the symlink's file/folder
              data instead of the symlink itself, potentially increasing the size of the backup.

       <b>--dry-run</b>
              Calculate what would be done, but do not perform any backend actions

       <b>--encrypt-key</b> <u>key-id</u>
              When backing up, encrypt to the  given  public  key,  instead  of  using  symmetric  (traditional)
              encryption.   Can  be  specified  multiple  times.   The key-id can be given in any of the formats
              supported by GnuPG; see <b><a href="../man1/gpg.1.html">gpg</a></b>(1), section "HOW TO SPECIFY A USER ID" for details.

       <b>--encrypt-secret-keyring</b> <u>filename</u>
              This option can only be used with <b>--encrypt-key</b>, and changes the path to the  secret  keyring  for
              the encrypt key to <u>filename</u> This keyring is not used when creating a backup. If not specified, the
              default secret keyring is used which is usually located at .gnupg/secring.gpg

       <b>--encrypt-sign-key</b> <u>key-id</u>
              Convenience parameter. Same as <b>--encrypt-key</b> <u>key-id</u> <b>--sign-key</b> <u>key-id</u>.

       <b>--exclude</b> <u>shell_pattern</u>
              Exclude  the  file or files matched by <u>shell_pattern</u>.  If a directory is matched, then files under
              that directory will also be matched.  See the <b>FILE</b> <b>SELECTION</b> section for more information.

       <b>--exclude-device-files</b>
              Exclude all device files.  This can be useful for security/permissions reasons or if duplicity  is
              not handling device files correctly.

       <b>--exclude-filelist</b> <u>filename</u>
              Excludes the files listed in <u>filename,</u> with each line of the filelist interpreted according to the
              same rules as <b>--include</b> and <b>--exclude.</b>  See the <b>FILE</b> <b>SELECTION</b> section for more information.

       <b>--exclude-if-present</b> filename
              Exclude  directories  if  filename is present. Allows the user to specify folders that they do not
              wish  to  backup  by  adding  a  specified  file  (e.g.  ".nobackup")  instead  of  maintaining  a
              comprehensive exclude/include list.

       <b>--exclude-older-than</b> time
              Exclude any files whose modification date is earlier than the specified <u>time</u>.  This can be used to
              produce  a  partial backup that contains only recently changed files. See the <b>TIME</b> <b>FORMATS</b> section
              for more information.

       <b>--exclude-other-filesystems</b>
              Exclude files on file systems (identified by device number) other than the file system the root of
              the source directory is on.

       <b>--exclude-regexp</b> <u>regexp</u>
              Exclude files matching the given regexp.  Unlike the <b>--exclude</b> option, this option does not  match
              files in a directory it matches.  See the <b>FILE</b> <b>SELECTION</b> section for more information.

       <b>--files-from</b> <u>filename</u>
              Read  a  list  of  files  to  backup  from filename rather than searching the entire backup source
              directory. Operation is otherwise normal, just on  the  specified  subset  of  the  backup  source
              directory.

              Files  must  be  specified  one per line and relative to the backup source directory. Any absolute
              paths will raise an error. All characters per line are significant and  treated  as  part  of  the
              path,  including  leading  and  trailing  whitespace.  Lines  are  separated by newlines or nulls,
              depending on whether the <b>--null-separator</b> switch was given.

              It is not necessary to include the parent directory of listed files, their inclusion  is  implied.
              However,  the content of any explicitly listed directories is not implied. All required files must
              be listed when this option is used.

       <b>--file-prefix</b> <u>prefix</u>
       <b>--file-prefix-manifest</b> <u>prefix</u>
       <b>--file-prefix-archive</b> <u>prefix</u>
       <b>--file-prefix-signature</b> <u>prefix</u>
              Adds a prefix to either all files or only manifest, archive, signature files.   The  same  set  of
              prefixes must be passed in on backup and restore.
              If  both  global  and  type-specific  prefixes are set, global prefix will go before type-specific
              prefixes.

              See also <b>A</b> <b>NOTE</b> <b>ON</b> <b>FILENAME</b> <b>PREFIXES</b>

       <b>--path-to-restore</b> <u>path</u>
              This option may be given in restore mode, causing only <u>path</u> to be restored instead of  the  entire
              contents of the backup archive.  <u>path</u> should be given relative to the root of the directory backed
              up.

       <b>--filter-globbing</b>
       <b>--filter-ignorecase</b>
       <b>--filter-literal</b>
       <b>--filter-regexp</b>
       <b>--filter-strictcase</b>
              Change  the  interpretation  of  patterns  passed to the file selection condition option arguments
              <b>--exclude</b> and <b>--include</b> (and variations thereof, including file lists). These options  can  appear
              multiple  times  to  switch  between  shell  globbing  (default),  literal  strings,  and  regular
              expressions, case sensitive (default)  or  not.  The  specified  interpretation  applies  for  all
              subsequent selection conditions up until the next <b>--filter</b> option.

              See the <b>FILE</b> <b>SELECTION</b> section for more information.

       <b>--full-if-older-than</b> <u>time</u>
              Perform  a  full  backup  if an incremental backup is requested, but the latest full backup in the
              collection is older than the given <u>time</u>.  See the <b>TIME</b> <b>FORMATS</b> section for more information.

       <b>--force</b>
              Proceed even if data loss might result.  Duplicity will let the user  know  when  this  option  is
              required.

       <b>--ftp-passive</b>
              Use passive (PASV) data connections.  The default is to use passive, but to fallback to regular if
              the passive connection fails or times out.

       <b>--ftp-regular</b>
              Use regular (PORT) data connections.

       <b>--gio</b>  Use the GIO backend and interpret any URLs as GIO would.

       <b>--gpg-binary</b> <u>file_path</u>
              Allows  you  to force duplicity to use <u>file_path</u> as gpg command line binary. Can be an absolute or
              relative file path or a file name.  Default value is 'gpg'. The binary will be localized  via  the
              PATH environment variable.

       <b>--gpg-options</b><u>='options'</u>

              Allows  you  to  pass  options  to  gpg encryption. The <u>options</u> list should be of the form '--opt1
              --opt2=val2' where the string is quoted and the only spaces allowed are between options.

              <b>NOTE:</b> This options value should be bound with '=' as in

              --gpg-options='--gpg-option=value'

              See <b>ARGPARSE</b> <b>PROBLEM</b> for more detail.

       <b>--hidden-encrypt-key</b> <u>key-id</u>
              Same as <b>--encrypt-key</b>, but it hides user's key id from encrypted file. It uses the gpg's <b>--hidden-</b>
              <b>recipient</b> command to obfuscate the owner of the backup. On restore, gpg will automatically try all
              available secret keys in order to decrypt the backup. See <a href="../man1/gpg.1.html">gpg</a>(1) for more details.

       <b>--ignore-errors</b>
              Try to ignore certain errors if they happen. This option is only intended to allow the restoration
              of a backup in the face of certain problems that would otherwise cause the backup to fail.  It  is
              not  ever  recommended  to  use  this  option  unless you have a situation where you are trying to
              restore from backup and it is failing because of an issue which you want duplicity to ignore. Even
              then, depending on the issue, this option may not have an effect.

              Please note that while ignored errors will be logged, there will be no summary at the end  of  the
              operation  to tell you what was ignored, if anything. If this is used for emergency restoration of
              data, it is recommended that you run the backup in such a way that you can revisit the backup  log
              (look for lines containing the string IGNORED_ERROR).

              If you ever have to use this option for reasons that are not understood or understood but not your
              own  responsibility,  please  contact  duplicity  maintainers.  The  need to use this option under
              production circumstances would normally be considered a bug.

       <b>--imap-full-address</b> <u>email_address</u>
              The full email address of the user name when logging into an imap server.  If  not  supplied  just
              the user name part of the email address is used.

       <b>--imap-mailbox</b> <u>option</u>
              Allows you to specify a different mailbox.  The default is "INBOX".  Other languages may require a
              different mailbox than the default.

       <b>--idr-fakeroot</b>
              idrived  uses  the  concept  of a "fakeroot" directory, defined via the --idr-fakeroot=... switch.
              This can be an existing directory, or the directory is created at  runtime  on  the  root  of  the
              (host)  files system. (caveat: you have to have write access to the root!). Directories created at
              runtime are auto-removed on exit!
              So, in the above scheme, we could do:
                  duplicity --idr-fakeroot=nicepath idrived://DUPLICITY
              our files end-up at
                  &lt;MYBUCKET&gt;/DUPLICITY/nicepath

       <b>--idr-fakeroot</b>
              idrived uses the concept of a "fakeroot" directory, defined  via  the  --idr-fakeroot=...  switch.
              This  can  be  an  existing  directory,  or the directory is created at runtime on the root of the
              (host) files system. (caveat: you have to have write access to the root!). Directories created  at
              runtime are auto-removed on exit!
              So, in the above scheme, we could do:
                  duplicity --idr-fakeroot=nicepath idrived://DUPLICITY
              our files end-up at
                  &lt;MYBUCKET&gt;/DUPLICITY/nicepath

       <b>--include</b> <u>shell_pattern</u>
              Similar  to  <b>--exclude</b> but include matched files instead.  Unlike <b>--exclude</b>, this option will also
              match parent directories of matched files (although not necessarily their contents).  See the <b>FILE</b>
              <b>SELECTION</b> section for more information.

       <b>--include-filelist</b> <u>filename</u>
              Like <b>--exclude-filelist</b>, but include the listed files instead.  See the <b>FILE</b> <b>SELECTION</b> section for
              more information.

       <b>--include-regexp</b> <u>regexp</u>
              Include files matching the regular expression <u>regexp</u>.  Only files  explicitly  matched  by  <u>regexp</u>
              will be included by this option.  See the <b>FILE</b> <b>SELECTION</b> section for more information.

       <b>--jsonstat</b>
              Record  statistic  data similar to the default stats printed at the end of a backup job, addtional
              it includes some meta data about the backup chain e.g. when the full backup was  created  and  how
              many  incremental backups were made before.  Output format is json. It written to stdout at notice
              level (as classic stats) and the statistics are kept as a separte file next to  the  manifest  but
              with  "jsonstat"  as  extension.   <b>collection-status</b> <b>--show-changes-in-set</b> <b>&lt;index&gt;</b> <b>--jsonstat</b> adds
              data collected in the backup job and switch the output format to json.  If &lt;index&gt; is  set  to  -1
              statistics for the whole backup chain are printed.

       <b>--log-fd</b> <u>number</u>
              Write  specially-formatted  versions  of  output  messages  to the specified file descriptor.  The
              format used is designed to be easily consumable by other programs.

       <b>--log-file</b> <u>filename</u>
              Write specially-formatted versions of output messages to the specified file.  The format  used  is
              designed to be easily consumable by other programs.

       <b>--log-timestamp</b>
              Write the log with timestamp and log level before the message, similar to syslog.

       <b>--max-blocksize</b> <u>number</u>
              limits the maximum size of the blocks examined for changes during the diff process.

              By  default  the  integer  square root of file length is used as the librsync block size.  Minimum
              being 512 byte with no maximum unless --max-blocksize is supplied.  Block size is  rounded  up  to
              the nearest 512 byte boundary.

              If  you  specify  a larger max_blocksize, your difftar files will be larger, but your sigtar files
              will be smaller.  If you specify a smaller max_blocksize, the reverse occurs.

              The --max-blocksize option should be in multiples of 512.

              Max blocksize defaults to not supplied.

       <b>--mf-purge</b>
              Option for mediafire to purge files on delete instead of sending to trash.

       <b>--mp-segment-size</b> <u>megs</u>
              Swift backend segment size in megabytes

       <b>--name</b> <u>symbolicname</u>
              Set the symbolic name of the backup being operated on. The intent is to use a  separate  name  for
              each  logically distinct backup. For example, someone may use "home_daily_s3" for the daily backup
              of a home directory to Amazon S3. The structure of the  name  is  up  to  the  user,  it  is  only
              important  that  the  names  be  distinct.  The symbolic name is currently only used to affect the
              expansion of <b>--archive-dir</b> , but may be used for additional features in the future. Users  running
              more than one distinct backup are encouraged to use this option.

              If not specified, the default value is a hash of the backend URL.

       <b>--no-check-remote</b>
              Turn  off validation of the remote manifest.  Checking is the default.  No checking will allow you
              to backup without the private key, but will mean  that  the  remote  manifest  may  exist  and  be
              corrupted, leading to the possibility that the backup might not be recoverable.

       <b>--no-compression</b>
              Do not use GZip to compress files on remote system.

       <b>--no-encryption</b>
              Do not use GnuPG to encrypt files on remote system.

       <b>--no-print-statistics</b>
              By  default  duplicity  will print statistics about the current session after a successful backup.
              This switch disables that behavior.

       <b>--no-files-changed</b>
              By default duplicity will collect file names and change action in memory (add,  del,  chg)  during
              backup.  This can be quite expensive in memory use, especially with millions of small files.  This
              flag  turns  off that collection.  This means that the --file-changed option for collection-status
              will return nothing.

       <b>--null-separator</b>
              Use nulls (\0) instead of newlines (\n) as line separators,  which  may  help  when  dealing  with
              filenames  containing  newlines.   This  affects the expected format of the files specified by the
              --{include|exclude}-filelist switches and the --{files-from} option, as well as the format of  the
              directory statistics file.

       <b>--numeric-owner</b>
              On  restore always use the numeric uid/gid from the archive and not the archived user/group names,
              which is the default behaviour.  Recommended for restoring from live  cds  which  might  have  the
              users with identical names but different uids/gids.

       <b>--no-restore-ownership</b>
              Ignores  the uid/gid from the archive and keeps the current user's one.  Recommended for restoring
              data to mounted filesystem which do not support Unix ownership or when  root  privileges  are  not
              available.

       <b>--num-retries</b> <u>number</u>
              Number of retries to make on errors before giving up.

       <b>--par2-options</b><u>='options'</u>
              Verbatim options to pass to par2.

              <b>NOTE:</b> This options value should be bound with '=' as in

              --par2-options='-a -b'

              See <b>ARGPARSE</b> <b>PROBLEM</b> for more detail.

       <b>--par2-redundancy</b> <u>percent</u>
              Adjust the level of redundancy in <u>percent</u> for Par2 recovery files (default 10%).

       <b>--par2-volumes</b> <u>number</u>
              Number of Par2 volumes to create (default 1).

       <b>--progress</b>
              When  selected,  duplicity  will  output the current upload progress and estimated upload time. To
              annotate changes, it will perform a first dry-run before a full or incremental, and then runs  the
              real operation estimating the real upload progress.

       <b>--progress-rate</b> <u>number</u>
              Sets  the  update  rate  at  which  duplicity  will  output the upload progress messages (requires
              <b>--progress</b> option). Default is to print the status each 3 seconds.

       <b>--rename</b> <u>&lt;original</u> <u>path&gt;</u> <u>&lt;new</u> <u>path&gt;</u>
              Treats the path <u>orig</u> in the backup as if it were the path <u>new.</u>  Can be passed multiple  times.  An
              example:

              duplicity restore --rename Documents/metal Music/metal s<a href="ftp://uid">ftp://uid</a>@other.host/some_dir /home/me

       <b>--rsync-options</b><u>='options'</u>
              Allows  you  to  pass  options  to  the  rsync  backend.   The  <u>options</u> list should be of the form
              "opt1=parm1 opt2=parm2" where the option string is quoted and the only spaces allowed are  between
              options. The option string will be passed verbatim to rsync, after any internally generated option
              designating the remote port to use. Here is a possibly useful example:

              duplicity --rsync-options="--partial-dir=.rsync-partial" /home/me rsync://<a href="mailto:uid@other.host">uid@other.host</a>/some_dir

              <b>NOTE:</b> This options value should be bound with '=' as in

              --rsync-options='--partial-dir=.rsync-partial'

              See <b>ARGPARSE</b> <b>PROBLEM</b> for more detail.

       <b>--s3-endpoint-url</b> <u>url</u>
              Specifies the endpoint URL of the S3 storage.

       <b>--s3-multipart-chunk-size</b>
              Chunk  size  (in  MB,  default  is  20MB)  used  for S3 multipart uploads. Adjust this to maximize
              bandwidth usage. For example, a chunk size of 10MB and a volsize  of  100MB  would  result  in  10
              chunks per volume upload.

              <b>NOTE:</b> This value should optimally be an even multiple of your <b>--volsize</b> for optimal performance.

              See also <b>A</b> <b>NOTE</b> <b>ON</b> <b>AMAZON</b> <b>S3</b> below.

       <b>--s3-multipart-max-procs</b>
              Maximum  number  of  concurrent uploads when performing a multipart upload.  The default is 4. You
              can adjust this number to maximizing bandwidth and CPU utilization.

              <b>NOTE:</b> Too many concurrent uploads may have diminishing returns.

              See also <b>A</b> <b>NOTE</b> <b>ON</b> <b>AMAZON</b> <b>S3</b> below.

       <b>--s3-region-name</b>
              Specifies the region of the S3 storage. Usually mandatory if the bucket is created in  a  specific
              region.

       <b>--s3-unencrypted-connection</b>
              Disable SSL for connections to S3. This may be much faster, at some cost to confidentiality.

              With this option set, anyone between your computer and S3 can observe the traffic and will be able
              to  tell:  that  you  are  using  Duplicity,  the  name of the bucket, your AWS Access Key ID, the
              increment dates and the amount of data in each increment.

              This option affects only the connection, not the GPG encryption of  the  backup  increment  files.
              Unless that is disabled, an observer will not be able to see the file names or contents.

              See also <b>A</b> <b>NOTE</b> <b>ON</b> <b>AMAZON</b> <b>S3</b> below.

       <b>--s3-use-deep-archive</b>
              Store  volumes using Glacier Deep Archive S3 when uploading to Amazon S3. This storage class has a
              lower cost of storage but a higher per-request cost along with delays of up to 48 hours  from  the
              time  of  retrieval  request.  This  storage cost is calculated against a 180-day storage minimum.
              According to Amazon this storage is  ideal  for  data  archiving  and  long-term  backup  offering
              99.999999999%  durability.   To restore a backup you will have to manually migrate all data stored
              on AWS Glacier Deep Archive back to Standard S3 and wait for AWS to complete the migration.

              <b>NOTE:</b> Duplicity will store the manifest.gpg and sigtar.gpg files from full and incremental backups
              on AWS S3 standard storage to allow quick retrieval for later incremental backups, all other  data
              is stored in S3 Glacier Deep Archive.

       <b>--s3-use-glacier</b>
              Store volumes using Glacier Flexible Storage when uploading to Amazon S3. This storage class has a
              lower  cost  of storage but a higher per-request cost along with delays of up to 12 hours from the
              time of retrieval request. This storage cost is  calculated  against  a  90-day  storage  minimum.
              According  to  Amazon  this  storage  is  ideal  for  data archiving and long-term backup offering
              99.999999999% durability.  To restore a backup you will have to manually migrate all  data  stored
              on AWS Glacier back to Standard S3 and wait for AWS to complete the migration.

              <b>NOTE:</b> Duplicity will store the manifest.gpg and sigtar.gpg files from full and incremental backups
              on  AWS S3 standard storage to allow quick retrieval for later incremental backups, all other data
              is stored in S3 Glacier.

       <b>--s3-use-glacier-ir</b>
              Store volumes using Glacier Instant Retrieval when uploading to Amazon S3. This storage  class  is
              similar to Glacier Flexible Storage but offers instant retrieval at standard speeds.

              <b>NOTE:</b> Duplicity will store the manifest.gpg and sigtar.gpg files from full and incremental backups
              on  AWS S3 standard storage to allow quick retrieval for later incremental backups, all other data
              is stored in S3 Glacier.

       <b>--s3-use-ia</b>
              Store volumes using Standard - Infrequent Access when uploading to Amazon S3.  This storage  class
              has a lower storage cost but a higher per-request cost, and the storage cost is calculated against
              a  30-day  storage minimum. According to Amazon, this storage is ideal for long-term file storage,
              backups, and disaster recovery.

       <b>--s3-use-onezone-ia</b>
              Store volumes using One Zone - Infrequent Access when uploading to Amazon  S3.   This  storage  is
              similar to Standard - Infrequent Access, but only stores object data in one Availability Zone.

       <b>--s3-use-rrs</b>
              Store  volumes  using Reduced Redundancy Storage when uploading to Amazon S3.  This will lower the
              cost of  storage  but  also  lower  the  durability  of  stored  volumes  to  99.99%  instead  the
              99.999999999% durability offered by Standard Storage on S3.

       <b>--s3-use-server-side-kms-encryption</b>
       <b>--s3-kms-key-id</b> <u>key_id</u>
       <b>--s3-kms-grant</b> <u>grant</u>
              Enable server-side encryption using key management service.

       <b>--skip-if-no-change</b> <u>command</u>
              By  default  an empty incremental backup is created if no files have changed.  Setting this option
              will skip creating a backup if no data has changed.  Nothing  will  be  sent  to  the  target  nor
              information be cached.

       <b>--scp-command</b> <u>command</u>
              <b>(only</b> <b>ssh</b> <b>pexpect</b> <b>backend</b> <b>with</b> <b>--use-scp</b> <b>enabled)</b>
              The  <u>command</u>  will be used instead of "scp" to send or receive files.  To list and delete existing
              files, the sftp command is used.
              See also <b>A</b> <b>NOTE</b> <b>ON</b> <b>SSH</b> <b>BACKENDS</b> section <b>SSH</b> <b>pexpect</b> <b>backend</b>.

       <b>--sftp-command</b> <u>command</u>
              <b>(only</b> <b>ssh</b> <b>pexpect</b> <b>backend)</b>
              The <u>command</u> will be used instead of "sftp".
              See also <b>A</b> <b>NOTE</b> <b>ON</b> <b>SSH</b> <b>BACKENDS</b> section <b>SSH</b> <b>pexpect</b> <b>backend</b>.

       <b>--sign-key</b> <u>key-id</u>
              This option can be used when backing up, restoring or verifying.   When  backing  up,  all  backup
              files will be signed with keyid <u>key</u>.  When restoring, duplicity will signal an error if any remote
              file  is not signed with the given key-id. The key-id can be given in any of the formats supported
              by GnuPG; see <b><a href="../man1/gpg.1.html">gpg</a></b>(1), section "HOW TO SPECIFY A USER ID" for details.  Should  be  specified  only
              once because currently only <b>one</b> signing key is supported. Last entry overrides all other entries.
              See also <b>A</b> <b>NOTE</b> <b>ON</b> <b>SYMMETRIC</b> <b>ENCRYPTION</b> <b>AND</b> <b>SIGNING</b>

       <b>--ssh-askpass</b>
              Tells  the ssh backend to prompt the user for the remote system password, if it was not defined in
              target url and no FTP_PASSWORD env var is  set.   This  password  is  also  used  for  passphrase-
              protected ssh keys.

       <b>--ssh-options</b><u>='options'</u>
              Allows  you  to  pass  options  to the ssh backend.  Can be specified multiple times or as a space
              separated options list.  The <u>options</u> list should be of the  form  "-oOpt1='parm1'  -oOpt2='parm2'"
              where  the  option  string  is  quoted and the only spaces allowed are between options. The option
              string will be passed verbatim to both scp and sftp, whose command line  syntax  differs  slightly
              hence the options should therefore be given in the long option format described in <b><a href="../man5/ssh_config.5.html">ssh_config</a>(5)</b>.
              example of a list:
                     duplicity      --ssh-options="-oProtocol=2     -oIdentityFile='/my/backup/id'"     /home/me
                     scp://user@host/some_dir
              example with multiple parameters:
                     duplicity    --ssh-options="-oProtocol=2"    --ssh-options="-oIdentityFile='/my/backup/id'"
                     /home/me scp://user@host/some_dir

              <b>NOTE:</b>   The   <b>ssh</b>   <b>paramiko</b>   <b>backend</b>  currently  supports  only  the  <b>-i</b>  or  <b>-oIdentityFile</b>  or
              <b>-oUserKnownHostsFile</b> or <b>-oGlobalKnownHostsFile</b> settings. If  needed  provide  more  host  specific
              options via ssh_config file.

              <b>NOTE2:</b> This options value should be bound with '=' as in

              --ssh-options='-oProtocol=2 -oIdentityFile=/my/backup/id'

              See <b>ARGPARSE</b> <b>PROBLEM</b> for more detail.

       <b>--ssl-cacert-file</b> <u>file</u>
              <b>(only</b> <b>webdav</b> <b>&amp;</b> <b>lftp</b> <b>backend)</b> Provide a cacert file for ssl certificate verification.

              See also <b>A</b> <b>NOTE</b> <b>ON</b> <b>SSL</b> <b>CERTIFICATE</b> <b>VERIFICATION</b>.

       <b>--ssl-cacert-path</b> <u>path/to/certs/</u>
              <b>(only</b>  <b>webdav</b>  <b>backend</b>  <b>and</b>  <b>python</b>  <b>2.7.9+</b> <b>OR</b> <b>lftp+webdavs</b> <b>and</b> <b>a</b> <b>recent</b> <b>lftp)</b> Provide a path to a
              folder containing cacert files for ssl certificate verification.

              See also <b>A</b> <b>NOTE</b> <b>ON</b> <b>SSL</b> <b>CERTIFICATE</b> <b>VERIFICATION</b>.

       <b>--ssl-no-check-certificate</b>
              <b>(only</b> <b>webdav</b> <b>&amp;</b> <b>lftp</b> <b>backend)</b> Disable ssl certificate verification.

              See also <b>A</b> <b>NOTE</b> <b>ON</b> <b>SSL</b> <b>CERTIFICATE</b> <b>VERIFICATION</b>.

       <b>--swift-storage-policy</b>
              Use this storage policy when operating on Swift containers.

              See also <b>A</b> <b>NOTE</b> <b>ON</b> <b>SWIFT</b> <b>(OPENSTACK</b> <b>OBJECT</b> <b>STORAGE)</b> <b>ACCESS</b>.

       <b>--metadata-sync-mode</b> <u>mode</u>
              This option defaults to 'partial', but you can set it to 'full'

              Use 'partial' to avoid syncing metadata for backup chains that you are not  going  to  use.   This
              saves  time  when  restoring  for  the  first  time,  and  lets you restore an old backup that was
              encrypted with a different passphrase by supplying only the target passphrase.

              Use 'full' to sync metadata for all backup chains on the remote.

       <b>--tempdir</b> <u>directory</u>
              Use this existing directory for duplicity temporary files instead of the system default, which  is
              usually the <a href="file:/tmp">/tmp</a> directory. This option supersedes any environment variable.

              See also <b>ENVIRONMENT</b> <b>VARIABLES</b>.

       <b>-t</b> <u>time</u><b>,</b> <b>--time</b> <u>time</u><b>,</b> <b>--restore-time</b> <u>time</u>
              Specify the time from which to restore or list files.

              See section <b>TIME</b> <b>FORMATS</b> for details.

       <b>--time-separator</b> <u>char</u>
              Use <u>char</u> as the time separator in filenames instead of colon (":").

              <b>NOTE:</b> This option only applies to recovery and status style actions.  We no longer create or write
              filenames with time separators, but will read older backups that may need this option.

       <b>--timeout</b> <u>seconds</u>
              Use  <u>seconds</u> as the socket timeout value if duplicity begins to timeout during network operations.
              The default is 30 seconds.

       <b>--use-agent</b>
              If this option is specified, then <u>--use-agent</u> is passed to the GnuPG  encryption  process  and  it
              will  try  to connect to <b>gpg-agent</b> before it asks for a passphrase for <u>--encrypt-key</u> or <u>--sign-key</u>
              if needed.

              <b>NOTE:</b> Contrary to previous versions of duplicity, this option will also be honored by GnuPG 2  and
              newer  versions. If GnuPG 2 is in use, duplicity passes the option <u>--pinentry-mode=loopback</u> to the
              the gpg process unless <u>--use-agent</u> is specified on the duplicity command line. This has the effect
              that GnuPG 2 uses the agent only if <u>--use-agent</u> is given, just like GnuPG 1.

       <b>--verbosity</b> <u>level</u><b>,</b> <b>-v</b><u>level</u>
              Specify output verbosity level (log level).  Named levels and corresponding values are 0 Error,  2
              Warning, 4 Notice (default), 8 Info, 9 Debug (noisiest).
              <u>level</u> may also be
                     <b>a</b> <b>character:</b> e, w, n, i, d
                     <b>a</b> <b>word:</b> error, warning, notice, info, debug

       The  options -v4, -vn and -vnotice are functionally equivalent, as are the mixed/upper-case versions -vN,
       -vNotice and -vNOTICE.

       <b>--version</b>
              Print duplicity's version and quit.

       <b>--volsize</b> <u>number</u>
              Change the volume size to <u>number</u> MB. Default is 200MB.

       <b>--webdav-headers</b> <u>csv</u> <u>formatted</u> <u>key,value</u> <u>pairs</u>
              The input format is comma separated list of key,value pairs. Standard CSV encoding may be used.

              For example to set a Cookie use 'Cookie,name=value', or '"Cookie","name=value"'.

              You can set multiple headers, e.g. '"Cookie","name=value","Authorization","xxx"'.

</pre><h4><b>ENVIRONMENT</b> <b>VARIABLES</b></h4><pre>
       <b>TMPDIR,</b> <b>TEMP,</b> <b>TMP</b>
              In decreasing order of importance, specifies the directory to use for temporary  files  (inherited
              from Python's tempfile module).  Eventually the option <b>--tempdir</b> supersedes any of these.

       <b>FTP_PASSWORD</b>
              Supported  by most backends which are password capable. More secure than setting it in the backend
              url (which might be readable in the operating systems process listing to other users on  the  same
              machine).

       <b>PASSPHRASE</b>
              This  passphrase  is  passed  to  GnuPG.  If  this  is  not set, the user will be prompted for the
              passphrase.  GPG uses the AES encryption method for passphrase encryption.

       <b>SIGN_PASSPHRASE</b>
              The passphrase to be used for <b>--sign-key</b>.  If omitted <b>and</b> sign key is also  one  of  the  keys  to
              encrypt against <b>PASSPHRASE</b> will be reused instead.  Otherwise, if passphrase is needed but not set
              the user will be prompted for it.  GPG uses the AES encryption method for passphrase encryption.

              Other  environment  variables  may  be used to configure specific backends.  See the notes for the
              particular backend.

</pre><h4><b>URL</b> <b>FORMAT</b></h4><pre>
       Duplicity uses the URL format (as standard as possible) to define data locations.   Major  difference  is
       that the whole host section is optional for some backends.
       <b>NOTE:</b> If path starts with an extra '/' it usually denotes an absolute path on the backend.

       The generic format for a URL is:

              scheme://[[user[:password]@]host[:port]/][/]path

       or

              scheme://[/]path

       It  is  not  recommended  to expose the password on the command line since it could be revealed to anyone
       with permissions to do process listings, it is  permitted  however.   Consider  setting  the  environment
       variable <b>FTP_PASSWORD</b> instead, which is used by most, if not all backends, regardless of it's name.

       In  protocols  that  support  it,  the  path  may  be preceded by a single slash, '/path', to represent a
       relative path to the target home directory, or preceded by a double  slash,  '//path',  to  represent  an
       absolute filesystem path.

       <b>NOTE:</b>  Scheme (protocol) access may be provided by more than one backend.  In case the default backend is
       buggy or simply not working in a specific case it might be worth trying  an  alternative  implementation.
       Alternative  backends  can  be  selected by prefixing the scheme with the name of the alternative backend
       e.g. <b>ncftp+ftp://</b> and are mentioned below the scheme's syntax summary.

       Formats of each of the URL schemes follow:

       <b>Amazon</b> <b>Drive</b> <b>Backend</b>
              ad://some_dir

              See also <b>A</b> <b>NOTE</b> <b>ON</b> <b>AMAZON</b> <b>DRIVE</b>

       <b>Azure</b>  azure://container-name

              See also <b>A</b> <b>NOTE</b> <b>ON</b> <b>AZURE</b> <b>ACCESS</b>

       <b>B2</b>     b2://account_id[:application_key]@bucket_name/[folder/]

       <b>Box</b>    box:///some_dir[?config=path_to_config]

              See also <b>A</b> <b>NOTE</b> <b>ON</b> <b>BOX</b> <b>ACCESS</b>

       <b>Cloud</b> <b>Files</b> (Rackspace)
              cf+<a href="http://container_name">http://container_name</a>

              See also <b>A</b> <b>NOTE</b> <b>ON</b> <b>CLOUD</b> <b>FILES</b> <b>ACCESS</b>

       <b>Dropbox</b>
              dpbx:///some_dir

              Make sure to read <b>A</b> <b>NOTE</b> <b>ON</b> <b>DROPBOX</b> <b>ACCESS</b> first!

       <b>File</b> (local file system)
              file://[relative|/absolute]/local/path

       <b>FISH</b> (Files transferred over Shell protocol) over ssh
              fish://user[:pwd]@other.host[:port]/[relative|/absolute]_path

       <b>FTP</b>    ftp[s]://user[:password]@other.host[:port]/some_dir

              <b>NOTE:</b> use lftp+, ncftp+ prefixes to enforce a specific backend, default is lftp+ftp://...

       <b>Google</b> <b>Cloud</b> <b>Storage</b> (GCS via Interoperable Access)
              s3://bucket[/path]

              See <b>A</b> <b>NOTE</b> <b>ON</b> <b>GOOGLE</b> <b>CLOUD</b> <b>STORAGE</b> about <b>needed</b> endpoint option and env vars for authentication.

       <b>Google</b> <b>Docs</b>
              gdocs://user[:password]@other.host/some_dir

              <b>NOTE:</b> use pydrive+, gdata+ prefixes to enforce a specific backend, default is pydrive+gdocs://...

       <b>Google</b> <b>Drive</b>
              gdrive://&lt;service account' email address&gt;@developer.gserviceaccount.com/some_dir

              See also <b>A</b> <b>NOTE</b> <b>ON</b> <b>GDRIVE</b> <b>BACKEND</b> below.

       <b>HSI</b>    hsi://user[:password]@other.host/some_dir

       <b>hubiC</b>  cf+hubic://container_name

              See also <b>A</b> <b>NOTE</b> <b>ON</b> <b>HUBIC</b>

       <b>IMAP</b> <b>email</b> <b>storage</b>
              imap[s]://user[:password]@host.com[/from_address_prefix]

              See also <b>A</b> <b>NOTE</b> <b>ON</b> <b>IMAP</b>

       <b>MediaFire</b>
              mf://user[:password]@mediafire.com/some_dir

              See also <b>A</b> <b>NOTE</b> <b>ON</b> <b>MEDIAFIRE</b> <b>BACKEND</b> below.

       <b>MEGA.nz</b> <b>cloud</b> <b>storage</b> (only works for accounts created prior to November 2018, uses "megatools")
              mega://user[:password]@mega.nz/some_dir

              <b>NOTE:</b> if not given in the URL, relies on password being stored within $HOME/.megarc  (as  used  by
              the "megatools" utilities)

       <b>MEGA.nz</b> <b>cloud</b> <b>storage</b> (works for all MEGA accounts, uses "MEGAcmd" tools)
              megav2://user[:password]@mega.nz/some_dir  megav3://user[:password]@mega.nz/some_dir[?no_logout=1]
              (For latest MEGAcmd)

              <b>NOTE:</b> despite "MEGAcmd" no longer uses a configuration file,  for  convenience  storing  the  user
              password  this  backend  searches  it  in  the  $HOME/.megav2rc  file  (same  syntax  as  the  old
              $HOME/.megarc)
              [Login]
              Username = MEGA_USERNAME
              Password = MEGA_PASSWORD

       <b>multi</b>  multi:///path/to/config.json

              See also <b>A</b> <b>NOTE</b> <b>ON</b> <b>MULTI</b> <b>BACKEND</b> below.

       <b>OneDrive</b> <b>Backend</b>
              onedrive://some_dir See also <b>A</b> <b>NOTE</b> <b>ON</b> <b>ONEDRIVE</b> <b>BACKEND</b>

       <b>Par2</b> <b>Wrapper</b> <b>Backend</b>
              par2+scheme://[user[:password]@]host[:port]/[/]path

              See also <b>A</b> <b>NOTE</b> <b>ON</b> <b>PAR2</b> <b>WRAPPER</b> <b>BACKEND</b>

       <b>Public</b> <b>Cloud</b> <b>Archive</b> (OVH)
              pca://container_name[/prefix]

              See also <b>A</b> <b>NOTE</b> <b>ON</b> <b>PCA</b> <b>ACCESS</b>

       <b>pydrive</b>
              pydrive://&lt;service account' email address&gt;@developer.gserviceaccount.com/some_dir

              See also <b>A</b> <b>NOTE</b> <b>ON</b> <b>PYDRIVE</b> <b>BACKEND</b> below.

       <b>Rclone</b> <b>Backend</b>
              rclone://remote:/some_dir

              See also <b>A</b> <b>NOTE</b> <b>ON</b> <b>RCLONE</b> <b>BACKEND</b>

       <b>Rsync</b> <b>via</b> <b>daemon</b>
              rsync://user[:password]@host.com[:port]::[/]module/some_dir

       <b>Rsync</b> <b>over</b> <b>ssh</b> (only key auth)
              rsync://<a href="mailto:user@host.com">user@host.com</a>[:port]/[relative|/absolute]_path

       <b>S3</b> <b>storage</b> (Amazon)
              s3:///bucket_name[/path]

              See also <b>A</b> <b>NOTE</b> <b>ON</b> <b>AMAZON</b> <b>S3</b> below.

       <b>SCP/SFTP</b> Secure Copy Protocol/SSH File Transfer Protocol
              scp:/<a href="file:/..">/..</a> or
              s<a href="ftp://user">ftp://user</a>[:pwd]@other.host[:port]/[relative|/absolute]_path

              <b>defaults</b> are paramiko+scp:// and paramiko+sftp://
              <b>alternatively</b> try pexpect+scp://, pexpect+sftp://, lftp+sftp://
              See also <b>--ssh-askpass</b>, <b>--ssh-options</b> and <b>A</b> <b>NOTE</b> <b>ON</b> <b>SSH</b> <b>BACKENDS</b>.

       <b>slate</b>  slate://[slate-id]

              See also <b>A</b> <b>NOTE</b> <b>ON</b> <b>SLATE</b> <b>BACKEND</b>

       <b>Swift</b> (Openstack)
              swift://container_name[/prefix]

              See also <b>A</b> <b>NOTE</b> <b>ON</b> <b>SWIFT</b> <b>(OPENSTACK</b> <b>OBJECT</b> <b>STORAGE)</b> <b>ACCESS</b>

       <b>Tahoe-LAFS</b>
              tahoe://alias/directory

       <b>WebDAV</b> webdav[s]://user[:password]@other.host[:port]/some_dir

              <b>alternatively</b> try lftp+webdav[s]://

       <b>Optical</b> <b>media</b> <b>(ISO9660</b> <b>CD/DVD/Bluray</b> <b>using</b> <b>xorriso)</b>
              xorriso:///dev/byOpticalDrive[:/path/to/directory/on/iso]
              xorriso:///path/to/image.iso[:/path/to/directory/on/iso]

              See also <b>A</b> <b>NOTE</b> <b>ON</b> <b>THE</b> <b>XORRISO</b> <b>BACKEND</b>

</pre><h4><b>TIME</b> <b>FORMATS</b></h4><pre>
       duplicity uses time strings in two places.  Firstly, many of the files duplicity creates  will  have  the
       time in their filenames in the w3 datetime format as described in a w3 note at <a href="http://www.w3.org/TR/NOTE">http://www.w3.org/TR/NOTE</a>-
       datetime.   Basically  they  look  like "2001-07-15T04:09:38-07:00", which means what it looks like.  The
       "-07:00" section means the time zone is 7 hours behind UTC.
       Secondly, the <b>-t</b>, <b>--time</b>, and <b>--restore-time</b> options take a time string, which can be  given  in  any  of
       several formats:
       1.     the string "now" (refers to the current time)
       2.     a sequences of digits, like "123456890" (indicating the time in seconds after the epoch)
       3.     A string like "2002-01-25T07:00:00+02:00" in datetime format
       4.     An  interval,  which  is  a  number  followed  by  one  of  the  characters s, m, h, D, W, M, or Y
              (indicating seconds, minutes, hours, days, weeks, months, or years respectively), or a  series  of
              such  pairs.   In  this  case  the string refers to the time that preceded the current time by the
              length of the interval.  For instance, "1h78m" indicates the time that was one hour and 78 minutes
              ago.  The calendar here is unsophisticated: a month is always 30 days, a year is always 365  days,
              and a day is always 86400 seconds.
       5.     A  date  format  of  the  form  YYYY/MM/DD, YYYY-MM-DD, MM/DD/YYYY, or MM-DD-YYYY, which indicates
              midnight on the day in question, relative to  the  current  time  zone  settings.   For  instance,
              "2002/3/5", "03-05-2002", and "2002-3-05" all mean March 5th, 2002.

</pre><h4><b>FILE</b> <b>SELECTION</b></h4><pre>
       When  duplicity  is  run,  it  searches  through  the  given  source directory and backs up all the files
       specified by the file selection system, unless <b>--files-from</b> has been specified in which case  the  passed
       list of individual files is used instead.

       The file selection system comprises a number of file selection conditions, which are set using one of the
       following command line options:

              --exclude
              --exclude-device-files
              --exclude-if-present
              --exclude-filelist
              --exclude-regexp
              --include
              --include-filelist
              --include-regexp

       For  each individual file found in the source directory, the file selection conditions are checked in the
       order they are specified on the command line.  Should a selection  condition  match,  the  file  will  be
       included  or  excluded  accordingly  and  the file selection system will proceed to the next file without
       checking the remaining conditions.

       Earlier arguments therefore take precedence where multiple conditions match any given file, and are  thus
       usually  given  in  order of decreasing specificity.  If no selection conditions match a given file, then
       the file is implicitly included.

       For example,

              duplicity --include <a href="file:/usr">/usr</a> --exclude <a href="file:/usr">/usr</a> <a href="file:/usr">/usr</a> scp://user@host/backup

       is exactly the same as

              duplicity <a href="file:/usr">/usr</a> scp://user@host/backup

       because the <b>--include</b> directive matches all files in the backup source directory,  and  takes  precedence
       over the contradicting <b>--exclude</b> option as it comes first.

       As a more meaningful example,

              duplicity --include <a href="file:/usr/local/bin">/usr/local/bin</a> --exclude <a href="file:/usr/local">/usr/local</a> <a href="file:/usr">/usr</a> scp://user@host/backup

       would  backup  the <a href="file:/usr/local/bin">/usr/local/bin</a> directory (and its contents), but not /usr/local/doc. Note that this is
       not the same as simply specifying <a href="file:/usr/local/bin">/usr/local/bin</a> as the backup source, as other files and  folders  under
       <a href="file:/usr">/usr</a> will also be (implicitly) included.

       The  order  of  the  <b>--include</b> and <b>--exclude</b> arguments is important. In the previous example, if the less
       specific <b>--exclude</b> directive had precedence it would prevent the more specific  <b>--include</b>  from  matching
       any files.

       The  patterns  passed to the <b>--include</b>, <b>--exclude</b>, <b>--include-filelist</b>, and <b>--exclude-filelist</b> options are
       interpretted as <u>extended</u> <u>shell</u> <u>globbing</u> <u>patterns</u> by default. This  behaviour  can  be  changed  with  the
       following filter mode arguments:
              --filter-globbing
              --filter-literal
              --filter-regexp

       These  arguments  change  the  interpretation of the patterns used in selection conditions, affecting all
       subsequent file selection options passed on the command line. They may be  specified  multiple  times  in
       order to switch pattern interpretations as needed.

       Literal strings differ from globs in that the pattern must match the filename exactly. This can be useful
       where  filenames  contain characters which have special meaning in shell globs or regular expressions. If
       passing dynamically generated file lists to duplicity using the <b>--include-filelist</b> or  <b>--exclude-filelist</b>
       options,  then  the  use  of  <b>--filter-literal</b>  is  recommended  unless regular expression or globbing is
       specifically required.

       The regular  expression  language  used  for  selection  conditions  specified  with  <b>--include-regexp</b>  ,
       <b>--exclude-regexp</b> , or when <b>--filter-regexp</b> is in effect is as implemented by the Python standard library.

       Extended  shell  globbing  pattenrs  may contain: <b>*</b>, <b>**</b>, <b>?</b>, and <b>[...]</b>  (character ranges). As in a normal
       shell, <b>*</b> can be expanded to any string of characters  not  containing  "/",  <b>?</b>   expands  to  any  single
       character  except "/", and <b>[...]</b>  expands to a single character of those characters specified (ranges are
       acceptable).  The pattern <b>**</b> expands to any string of characters whether or not it contains "/".

       In addition to the above filter mode arguments, the following can be used in the same fashion  to  enable
       (default) or disable case sensitivity in the evaluation of file selection conditions:
              --filter-ignorecase
              --filter-strictcase

       An example of filter mode switching including case insensitivity is

              <b>--filter-ignorecase</b>       <b>--include</b>      <a href="file:/usr/bin/">/usr/bin/</a>*.PY      <b>--filter-literal</b>      <b>--filter-include</b>
              /usr/bin/special?file*name <b>--filter-strictcase</b> <b>--exclude</b> <a href="file:/usr/bin">/usr/bin</a>

       which would backup *.py, *.pY, *.Py, and  *.PY  files  under  <a href="file:/usr/bin">/usr/bin</a>  and  also  the  single  literally
       specified  file  with  globbing characters in the name. The use of <b>--filter-strictcase</b> is not technically
       necessary here, but is included as an example which may (depending  on  the  backup  source  path)  cause
       unexpected interactions between <b>--include</b> and <b>--exclude</b> options, should the directory portion of the path
       (<a href="file:/usr/bin">/usr/bin</a>) contain any uppercase characters.

       If  the  pattern  starts  with "ignorecase:" (case insensitive), then this prefix will be removed and any
       character in the string can be replaced with an upper- or lowercase version of itself. This prefix  is  a
       legacy  feature  supported  for  shell globbing selection conditions only, but for backward compatability
       reasons is otherwise considered part of the pattern itself (use <b>--filter-ignorecase</b> instead).

       Remember that you may need to quote patterns when typing them  into  a  shell,  so  the  shell  does  not
       interpret the globbing patterns or whitespace characters before duplicity sees them.

       Selection  patterns should generally be thought of <u>as</u> <u>filesystem</u> <u>paths</u> rather than arbitrary strings. For
       selection conditions using extended shell globbing patterns, the <b>--exclude</b> <u>pattern</u> option matches a  file
       if:

       1.     <u>pattern</u> can be expanded into the file's filename, or
       2.     the file is inside a directory matched by the option.

              Conversely, the <b>--include</b> <u>pattern</u> option matches a file if:

       1.     <u>pattern</u> can be expanded into the file's filename, or
       2.     the file is inside a directory matched by the option, or
       3.     the file is a directory which contains a file matched by the option.

              For example,

              <b>--exclude</b> <a href="file:/usr/local">/usr/local</a>

       matches  e.g.  <a href="file:/usr/local">/usr/local</a>,  <a href="file:/usr/local/lib">/usr/local/lib</a>,  and  /usr/local/lib/netscape.   It  is the same as --exclude
       <a href="file:/usr/local">/usr/local</a> --exclude '<a href="file:/usr/local/">/usr/local/</a>**'.
       On the other hand

              <b>--include</b> <a href="file:/usr/local">/usr/local</a>

       specifies that <a href="file:/usr">/usr</a>, <a href="file:/usr/local">/usr/local</a>, <a href="file:/usr/local/lib">/usr/local/lib</a>, and /usr/local/lib/netscape (but not  /usr/doc)  all  be
       backed  up.  Thus  you  don't have to worry about including parent directories to make sure that included
       subdirectories have somewhere to go.

       Finally,

              <b>--include</b> ignorecase:'<a href="file:/usr/">/usr/</a>[a-z0-9]foo/*/**.py'

       would match a file like /usR/5fOO/hello/there/world.py.  If it did match anything, it  would  also  match
       /usr.   If  there  is  no  existing file that the given pattern can be expanded into, the option will not
       match <a href="file:/usr">/usr</a> alone.

       This treatment of patterns in globbing and literal selection conditions as filesystem paths  reduces  the
       number  of  explicit  conditions  required.   However,  it  does  require that the paths described by all
       variants of the <b>--include</b> or  <b>--include</b>  option  are  fully  specified  relative  to  the  backup  source
       directory.

       For  selection  conditions using literal strings, the same logic applies except that scenario <b>1</b> is for an
       exact match of the pattern.

       For selection conditions using regular expressions the pattern  is  evaluated  as  a  regular  expression
       rather  than  a  filesystem  path.  Scenario <b>3</b> in the above therefore does not apply, the implications of
       which are discussed at the end of this section.

       The <b>--include-filelist</b>, and <b>--exclude-filelist</b>, options also introduce file selection  conditions.   They
       direct  duplicity  to  read  in  a  text  file  (either  ASCII  or  UTF-8),  each line of which is a file
       specification, and to include or exclude the matching files.  Lines are separated by newlines  or  nulls,
       depending on whether the --null-separator switch was given.

       Each  line  in  the  filelist  will  be  interpreted as a selection pattern in the same way <b>--include</b> and
       <b>--exclude</b> options are interpreted, except that lines starting  with  "+  "  are  interpreted  as  include
       directives, even if found in a filelist referenced by <b>--exclude-filelist</b>.  Similarly, lines starting with
       "- " exclude files even if they are found within an include filelist.

       For example, if file "list.txt" contains the lines:

              <a href="file:/usr/local">/usr/local</a>
              - /usr/local/doc
              <a href="file:/usr/local/bin">/usr/local/bin</a>
              + <a href="file:/var">/var</a>
              - <a href="file:/var">/var</a>

       then  <b>--include-filelist</b>  <b>list.txt</b>  would include <a href="file:/usr">/usr</a>, <a href="file:/usr/local">/usr/local</a>, and /usr/local/bin.  It would exclude
       /usr/local/doc, /usr/local/doc/python, etc.  It would also include <a href="file:/usr/local/man">/usr/local/man</a>, as  this  is  included
       within  /usr/local.   Finally,  it  is  undefined  what happens with /var.  A single file list should not
       contain conflicting file specifications.

       Each line in the filelist will be interpreted as per the current filter mode in the  same  way  <b>--include</b>
       and <b>--exclude</b> options are interpreted. For instance, if the file "list.txt" contains the lines:

              dir/foo
              + dir/bar
              - **

       Then  <b>--include-filelist</b>  <b>list.txt</b>  would  be  exactly the same as specifying <b>--include</b> <b>dir/foo</b> <b>--include</b>
       <b>dir/bar</b> <b>--exclude</b> <b>**</b> on the command line.

       Note that specifying very large numbers numbers of selection rules as filelists can incur  a  substantial
       performance  penalty  as  these  rules  will (potentially) be checked for every file in the backup source
       directory. If you need to backup arbitrary lists of specific files (i.e. not described by regexp patterns
       or shell globs) then <b>--files-from</b> is likely to be more performant.

       Finally, the <b>--include-regexp</b> and <b>--exclude-regexp</b> options allow files to be  included  and  excluded  if
       their  filenames  match  a  regular  expression.  Regular expression syntax is too complicated to explain
       here, but is covered in Python's library reference.  Unlike the  <b>--include</b>  and  <b>--exclude</b>  options,  the
       regular expression options don't match files containing or contained in matched files.  So for instance

              --include-regexp '[0-9]{7}(?!foo)'

       matches  any  files  whose  full  pathnames  contain 7 consecutive digits which aren't followed by 'foo'.
       However, it wouldn't match <a href="file:/home">/home</a> even if /home/ben/1234567 existed.

</pre><h4><b>A</b> <b>NOTE</b> <b>ON</b> <b>AMAZON</b> <b>DRIVE</b></h4><pre>
       1.     The API Keys used for Amazon Drive have not been granted production limits.   Amazon  do  not  say
              what  the  development  limits  are  and are not replying to to requests to whitelist duplicity. A
              related tool, acd_cli, was demoted to development limits, but continues to work  fine  except  for
              cases  of excessive usage. If you experience throttling and similar issues with Amazon Drive using
              this backend, please report them to the mailing list.
       2.     If you previously used the <b>acd+acdcli</b> backend, it is strongly recommended  to  update  to  the  <b>ad</b>
              backend  instead, since it interfaces directly with Amazon Drive. You will need to setup the OAuth
              once again, but can otherwise keep your backups and config.

</pre><h4><b>A</b> <b>NOTE</b> <b>ON</b> <b>AMAZON</b> <b>S3</b></h4><pre>
       Backing up to Amazon S3 utilizes the <b>boto3</b> library.

       The <b>boto3</b> backend does not support bucket creation.  This deliberate choice simplifies the code, and side
       steps problems related to region selection.  Additionally, it is probably not a  good  practice  to  give
       your  backup  role  bucket  creation  rights.  In most cases the role used for backups should probably be
       limited to specific buckets.

       The <b>boto3</b> backend only supports newer domain style buckets. Amazon  is  moving  to  deprecate  the  older
       bucket style, so migration is recommended.

       The  <b>boto3</b>  backend  does not currently support initiating restores from the glacier storage class.  When
       restoring a backup from glacier or glacier deep archive, the backup files must first be restored  out  of
       band.   There  are multiple options when restoring backups from cold storage, which vary in both cost and
       speed.  See Amazon's documentation for details.

       The following environment variables are <b>required</b> for authentication:
              <b>AWS_ACCESS_KEY_ID</b> (required),
              <b>AWS_SECRET_ACCESS_KEY</b> (required)
              or
              <b>BOTO_CONFIG</b> (required) pointing to a boto config file.
       For simplicity's sake we will document the use of the AWS_*  vars  only.   Research  <b>boto3</b>  documentation
       available in the web if you want to use  the config file.

       <b>boto3</b> <b>backend</b> example backup command line:

              AWS_ACCESS_KEY_ID=&lt;key_id&gt;       AWS_SECRET_ACCESS_KEY=&lt;access_key&gt;      duplicity      /some/path
              s3:///bucket/subfolder

       you may add <b>--s3-endpoint-url</b> (to access non Amazon S3 services  or  regional  endpoints)  and  may  need
       <b>--s3-region-name</b> (for buckets created in specific regions) and other <b>--s3-...</b>  options documented above.

</pre><h4><b>A</b> <b>NOTE</b> <b>ON</b> <b>AZURE</b> <b>ACCESS</b></h4><pre>
       The Azure backend requires the Microsoft Azure Storage Blobs client library for Python to be installed on
       the system.  See <b>REQUIREMENTS</b>.

       It  uses the environment variable <b>AZURE_CONNECTION_STRING</b> (required).  This string contains all necessary
       information such as Storage Account name and the key for authentication.  You can find  it  under  Access
       Keys for the storage account.

       Duplicity  will  take care to create the container when performing the backup.  Do not create it manually
       before.

       A container name (as given as the backup url) must be a valid  DNS  name,  conforming  to  the  following
       naming rules:

              1.     Container  names must start with a letter or number, and can contain only letters, numbers,
                     and the dash (-) character.
              2.     Every dash (-) character must be immediately preceded and followed by a letter  or  number;
                     consecutive dashes are not permitted in container names.
              3.     All letters in a container name must be lowercase.
              4.     Container names must be from 3 through 63 characters long.

       These  rules  come  from Azure; see https://docs.microsoft.com/en-us/rest/api/storageservices/naming-and-
       referencing-containers--blobs--and-metadata

</pre><h4><b>A</b> <b>NOTE</b> <b>ON</b> <b>BOX</b> <b>ACCESS</b></h4><pre>
       The box backend requires boxsdk with jwt support to be installed on the system.  See <b>REQUIREMENTS</b>.

       It uses the environment variable <b>BOX_CONFIG_PATH</b> (optional).  This string contains the path to box custom
       app's config.json. Either this environment variable or the <b>config</b> query parameter in the url need  to  be
       specified, if both are specified, query parameter takes precedence.

   <b>Create</b> <b>a</b> <b>Box</b> <b>custom</b> <b>app</b>
       In  order  to  use  box  backend,  user  need  to  create  a  box custom app in the box developer console
       (https://app.box.com/developers/console).

       After create a new custom app, please make sure it is configured as follow:

              1.     Choose "App Access Only" for "App Access Level"
              2.     Check "Write all files and folders stored in Box"
              3.     Generate a Public/Private Keypair

       The  user  also  need  to  grant   the   created   custom   app   permission   in   the   admin   console
       (https://app.box.com/master/custom-apps)  by clicking the "+" button and enter the client_id which can be
       found on the custom app's configuration page.

</pre><h4><b>A</b> <b>NOTE</b> <b>ON</b> <b>CLOUD</b> <b>FILES</b> <b>ACCESS</b></h4><pre>
       Pyrax is Rackspace's next-generation Cloud management API, including Cloud  Files  access.   The  cfpyrax
       backend requires the pyrax library to be installed on the system.  See <b>REQUIREMENTS</b>.

       Cloudfiles  is  Rackspace's  now  deprecated  implementation of OpenStack Object Storage protocol.  Users
       wishing to use Duplicity with Rackspace Cloud Files should migrate to the  new  Pyrax  plugin  to  ensure
       support.

       The backend requires python-cloudfiles to be installed on the system.  See <b>REQUIREMENTS</b>.

       It uses three environment variables for authentication: <b>CLOUDFILES_USERNAME</b> (required), <b>CLOUDFILES_APIKEY</b>
       (required), <b>CLOUDFILES_AUTHURL</b> (optional)

       If  <b>CLOUDFILES_AUTHURL</b>  is  unspecified it will default to the value provided by python-cloudfiles, which
       points to rackspace, hence this value <u>must</u> be set in order to use other cloud files providers.

</pre><h4><b>A</b> <b>NOTE</b> <b>ON</b> <b>DROPBOX</b> <b>ACCESS</b></h4><pre>
       1.     First of all Dropbox backend  requires  valid  authentication  token.  It  should  be  passed  via
              <b>DPBX_ACCESS_TOKEN</b> environment variable.
              To       obtain       it      please      create      'Dropbox      API'      application      at:
              https://www.dropbox.com/developers/apps/create
              Then visit app settings and just use 'Generated access token' under OAuth2 section.
              Alternatively you can let duplicity generate access token itself. In such  case  temporary  export
              <b>DPBX_APP_KEY</b>   <b>,</b>   <b>DPBX_APP_SECRET</b>   using  values  from  app  settings  page  and  run  duplicity
              interactively.
              It will print the URL that you need to open  in  the  browser  to  obtain  OAuth2  token  for  the
              application.  Just follow on-screen instructions and then put generated token to <b>DPBX_ACCESS_TOKEN</b>
              variable. Once done, feel free to unset <b>DPBX_APP_KEY</b> <b>and</b> <b>DPBX_APP_SECRET</b>

       2.     "some_dir" must already exist in the Dropbox folder. Depending on access token kind it may be:
                     <b>Full</b> <b>Dropbox:</b> path is absolute and starts from 'Dropbox' root folder.
                     <b>App</b> <b>Folder:</b> path is  related  to  application  folder.  Dropbox  client  will  show  it  in
                     <b><a href="file:~/Dropbox/Apps/">~/Dropbox/Apps/</a>&lt;app-name&gt;</b>

       3.     When  using  Dropbox  for storage, be aware that all files, including the ones in the Apps folder,
              will be synced to all connected computers.  You may prefer  to  use  a  separate  Dropbox  account
              specially  for  the  backups, and not connect any computers to that account. Alternatively you can
              configure selective sync on all computers to avoid syncing of backup files

</pre><h4><b>A</b> <b>NOTE</b> <b>ON</b> <b>FILENAME</b> <b>PREFIXES</b></h4><pre>
       Filename prefixes can be used in <b>multi</b> <b>backend</b> with <b>mirror</b> mode to define affinity rules. They  can  also
       be  used  in  conjunction  with  S3 lifecycle rules to transition archive files to Glacier, while keeping
       metadata (signature and manifest files) on S3.

       Duplicity does not require access to archive files except when restoring from backup.

</pre><h4><b>A</b> <b>NOTE</b> <b>ON</b> <b>GOOGLE</b> <b>CLOUD</b> <b>STORAGE</b> <b>(GCS</b> <b>via</b> <b>Interoperable</b> <b>Access)</b></h4><pre>
   <b>Overview</b>
       Duplicity access to GCS currently relies on it's Interoperability API (basically S3 for GCS).  This needs
       to actively be enabled before access is possible. For details read the next section <b>Preparations</b> below.

   <b>Preparations</b>
       1.     login on https://console.cloud.google.com/
       2.     go to <b>Cloud</b> <b>Storage-&gt;Settings-&gt;Interoperability</b>
       3.     create a <b>Service</b> <b>account</b> (if needed)
       4.     create <b>Service</b> <b>account</b> <b>HMAC</b> access key and secret (<b>!!instantly</b> <b>copy!!</b>  the secret, it can  NOT  be
              recovered later)
       5.     go to <b>Cloud</b> <b>Storage-&gt;Browser</b>
       6.     create a bucket
       7.     add permissions for <b>Service</b> <b>account</b> that was used to set up Interoperability access above

       Once  set  up  you  can  use  the  generated Interoperable Storage Access key and secret and pass them to
       duplicity as described in the next section.

   <b>Usage</b>
       The following examples show accessing GCS via S3 for a collection-status action.   The  shown  env  vars,
       options and url format can be applied for all other actions as well of course.

       using <b>boto3</b> supplying the <b>--s3-endpoint-url</b> manually.

              AWS_ACCESS_KEY_ID=&lt;keyid&gt;      AWS_SECRET_ACCESS_KEY=&lt;secret&gt;      duplicity     collection-status
              s3:///&lt;bucket&gt;/&lt;folder&gt; --s3-endpoint-url=https://storage.googleapis.com

</pre><h4><b>A</b> <b>NOTE</b> <b>ON</b> <b>GDRIVE</b> <b>BACKEND</b></h4><pre>
       GDrive: is a rewritten PyDrive: backend with less dependencies, and a simpler setup - it  uses  the  JSON
       keys downloaded directly from Google Cloud Console.

       Note  Google has 2 drive methods, `Shared(previously Team) Drives` and `My Drive`, both can be shared but
       require different addressing

       <b>For</b> <b>a</b> <b>Google</b> <b>Shared</b> <b>Drives</b> <b>folder</b>

       Share Drive ID specified as a query parameter, driveID,  in the backend URL.  Example:
             gdrive://developer.gserviceaccount.com/target-folder/?driveID=&lt;SHARED DRIVE ID&gt;

       <b>For</b> <b>a</b> <b>Google</b> <b>My</b> <b>Drive</b> <b>based</b> <b>shared</b> <b>folder</b>

       MyDrive folder ID specified as a query parameter, myDriveFolderID, in the backend URL Example
             export                            GOOGLE_SERVICE_ACCOUNT_URL=&lt;serviceaccount-name&gt;@&lt;serviceaccount-
       name&gt;.iam.gserviceaccount.com
             gdrive://${GOOGLE_SERVICE_ACCOUNT_URL}/&lt;target-folder-name-in-myDriveFolder&gt;?myDriveFolderID=root

       There  are  also  two  ways  to  authenticate  to  use  GDrive: with a regular account or with a "service
       account". With a service account, a separate account is created, that is only accessible with Google APIs
       and not a web login.  With a regular account, you can store backups in your normal Google Drive.

       To use a service account, go to the Google developers console  at  https://console.developers.google.com.
       Create a project, and make sure Drive API is enabled for the project. In the "Credentials" section, click
       "Create credentials", then select Service Account with JSON key.

       The GOOGLE_SERVICE_JSON_FILE environment variable needs to contain the path to the JSON file on duplicity
       invocation.

       export GOOGLE_SERVICE_JSON_FILE=&lt;path-to-serviceaccount-credentials.json&gt;

       The  alternative  is to use a regular account. To do this, start as above, but when creating a new Client
       ID,  select  "Create  OAuth  client  ID",  with  application  type  of  "Desktop   app".   Download   the
       client_secret.json  file  for  the  new  client,  and  set the GOOGLE_CLIENT_SECRET_JSON_FILE environment
       variable to the path to this file, and GOOGLE_CREDENTIALS_FILE to a path to a file where  duplicity  will
       keep the authentication token - this location must be writable.

       <b>NOTE:</b>  As  a  sanity  check,  GDrive  checks the host and username from the URL against the JSON key, and
       refuses to proceed if the addresses do not match. Either the email (for the service accounts)  or  Client
       ID (for regular OAuth accounts) must be present in the URL. See <b>URL</b> <b>FORMAT</b> above.

   <b>First</b> <b>run</b> <b>/</b> <b>OAuth</b> <b>2.0</b> <b>authorization</b>
       During the first run, you will be prompted to visit an URL in your browser to grant access to your Google
       Drive. A temporary HTTP-service will be started on a <b>local</b> <b>network</b> <b>interface</b> for this purpose (by default
       on  <a href="http://localhost">http://localhost</a>:8080/).   Ip-address/host  and  port  can  be  adjusted  if need be by providing the
       environment variables GOOGLE_OAUTH_LOCAL_SERVER_HOST, GOOGLE_OAUTH_LOCAL_SERVER_PORT respectively.

       If you are running duplicity in a remote location, you will need to make sure that you will  be  able  to
       access  the  above  HTTP-service  with  a  browser  utilizing  e.g. port forwarding or temporary firewall
       permission.

       The access credentials will be saved in the JSON file mentioned above for future use after  a  successful
       authorization.

</pre><h4><b>A</b> <b>NOTE</b> <b>ON</b> <b>HUBIC</b></h4><pre>
       The  hubic  backend requires the pyrax library to be installed on the system. See <b>REQUIREMENTS</b>.  You will
       need to set your credentials for hubiC in a file called <a href="file:~/.hubic_credentials">~/.hubic_credentials</a>, following this pattern:
              [hubic]
              email = your_email
              password = your_password
              client_id = api_client_id
              client_secret = api_secret_key
              redirect_uri = <a href="http://localhost/">http://localhost/</a>

</pre><h4><b>A</b> <b>NOTE</b> <b>ON</b> <b>IMAP</b></h4><pre>
       An IMAP account can be used as a target for the upload.  The userid may be  specified  and  the  password
       will be requested.
       The  <b>from_address_prefix</b>  may  be specified (and probably should be). The text will be used as the "From"
       address in the IMAP server.  Then on a restore (or list) action the <b>from_address_prefix</b> will  distinguish
       between different backups.

</pre><h4><b>A</b> <b>NOTE</b> <b>ON</b> <b>MEDIAFIRE</b> <b>BACKEND</b></h4><pre>
       This backend requires <b>mediafire</b> python library to be installed on the system. See <b>REQUIREMENTS</b>.

       Use URL escaping for username (and password, if provided via command line):

              mf://duplicity%<a href="mailto:40example.com@mediafire.com">40example.com@mediafire.com</a>/some_folder
       The destination folder will be created for you if it does not exist.

</pre><h4><b>A</b> <b>NOTE</b> <b>ON</b> <b>MULTI</b> <b>BACKEND</b></h4><pre>
       The multi backend allows duplicity to combine the storage available in more than one backend store (e.g.,
       you  can  store  across  a  google  drive  account and a onedrive account to get effectively the combined
       storage available in both).  The URL path specifies a JSON formatted config file containing a list of the
       backends it will use. The URL may also specify "query" parameters to configure  overall  behavior.   Each
       element  of  the  list  must  have a "url" element, and may also contain an optional "description" and an
       optional "env" list of environment variables used to configure that backend.
   <b>Query</b> <b>Parameters</b>
       Query parameters come after the file URL in standard HTTP format for example:
              multi:///path/to/config.json?mode=mirror&amp;onfail=abort
              multi:///path/to/config.json?mode=stripe&amp;onfail=continue
              multi:///path/to/config.json?onfail=abort&amp;mode=stripe
              multi:///path/to/config.json?onfail=abort
       Order does not matter, however unrecognized parameters are considered an error.

       <b>mode=</b><u>stripe</u>
              This mode (the default) performs round-robin access to the list of backends.  In  this  mode,  all
              backends must be reliable as a loss of one means a loss of one of the archive files.

       <b>mode=</b><u>mirror</u>
              This  mode  accesses  backends  as  a RAID1-store, storing every file in every backend and reading
              files from the first-successful backend.  A loss of any backend should result in no failure.  Note
              that  backends  added  later will only get new files and may require a manual sync with one of the
              other operating ones.

       <b>onfail=</b><u>continue</u>
              This setting (the default) continues all write operations in as best-effort. Any  failure  results
              in  the next backend tried. Failure is reported only when all backends fail a given operation with
              the error result from the last failure.

       <b>onfail=</b><u>abort</u>
              This setting considers any backend write failure as a terminating condition and reports the error.
              Data reading and listing operations are independent of this and will try with the next backend  on
              failure.
   <b>JSON</b> <b>File</b> <b>Example</b>
              [
               {
                "description": "a comment about the backend"
                "url": "abackend://<a href="mailto:myuser@domain.com">myuser@domain.com</a>/backup",
                "env": [
                  {
                   "name" : "MYENV",
                   "value" : "xyz"
                  },
                  {
                   "name" : "FOO",
                   "value" : "bar"
                  }
                 ],
                 "prefixes": ["prefix1_", "prefix2_"]
               },
               {
                "url": "file:///path/to/dir"
               }
              ]

</pre><h4><b>A</b> <b>NOTE</b> <b>ON</b> <b>ONEDRIVE</b> <b>BACKEND</b></h4><pre>
       onedrive://  works  with  both personal and business onedrive as well as sharepoint drives.  On first use
       you be provided with an URL to with a microsoft account. Open it in your web browser.

       After authenticating, copy the redirected URL back to duplicity. Duplicity will fetch a token  and  store
       it   in   <a href="file:~/.duplicity_onedrive_oauthtoken.json.">~/.duplicity_onedrive_oauthtoken.json.</a>   This   location  can  be  overridden  by  setting  the
       DUPLICITY_ONEDRIVE_TOKEN environment variable.

       Duplicity uses a default App ID registered with Microsoft Azure AD.  It will need to be  approved  by  an
       administrator of your Office365 Tenant on a business account.

   <b>Register</b> <b>and</b> <b>set</b> <b>your</b> <b>own</b> <b>microsoft</b> <b>app</b> <b>id</b>
       1.     visit https://portal.azure.com

       2.     Choose "Enterprise Applications", then "Create your own Application"

       3.     Input your application name and select "Register an application to integrate with Azure AD".

       4.     Continue      to      the      next      page      and     set     the     redirect     uri     to
              "https://login.microsoftonline.com/common/oauth2/nativeclient",  choosing  "Public  client/native"
              from the dropdown. Click create.

       5.     Find   the   application  id  in  "Enterprise  Applications"  and  set  the  environment  variable
              DUPLICITY_ONEDRIVE_CLIENT_ID to it.

              More   information   on   Microsoft   Apps   at:   https://learn.microsoft.com/en-us/azure/active-
              directory/develop/quickstart-register-app

   <b>Backup</b> <b>to</b> <b>a</b> <b>sharepoint</b> <b>site</b> <b>instead</b> <b>of</b> <b>onedrive</b>
       to use a sharepoint site you need to find and provide the site's tenant and site id.

       1.     Login with your Microsoft Account at https://&lt;o365_tenant&gt;.sharepoint.com/

       2.     Navigate to https://&lt;o365_tenant&gt;.sharepoint.com/sites/&lt;path_to_site&gt;/_api/site/id

       3.     Copy  the  disyplayed  UUID  (site_id) and set the DUPLICITY_ONEDRIVE_ROOT environment variable to
              "sites/&lt;o365_tenant&gt;.sharepoint.com,&lt;site_id&gt;/drive"

</pre><h4><b>A</b> <b>NOTE</b> <b>ON</b> <b>PAR2</b> <b>WRAPPER</b> <b>BACKEND</b></h4><pre>
       Par2 Wrapper Backend can be used in combination with all other backends to create  recovery  files.  Just
       add  <b>par2+</b>  before a regular scheme (e.g.  <u>par2+<a href="ftp://user">ftp://user</a>@host/dir</u> or <u>par2+s3+<a href="http://bucket_name">http://bucket_name</a></u> ). This
       will create par2 recovery files for each archive and upload them all to the wrapped backend.
       Before restoring, archives will be verified. Corrupt archives will be repaired on the fly  if  there  are
       enough recovery blocks available.
       Use <b>--par2-redundancy</b> <u>percent</u> to adjust the size (and redundancy) of recovery files in <u>percent.</u>

</pre><h4><b>A</b> <b>NOTE</b> <b>ON</b> <b>PCA</b> <b>ACCESS</b></h4><pre>
       PCA  is a long-term data archival solution by OVH. It runs a slightly modified version of Openstack Swift
       introducing latency in the data retrieval process.  It is a good pick for a <b>multi</b>  <b>backend</b>  configuration
       where receiving volumes while another backend is used to store manifests and signatures.

       The  backend  requires  python-switclient  to  be installed on the system.  python-keystoneclient is also
       needed to interact with OpenStack's Keystone Identity service.  See <b>REQUIREMENTS</b>.

       It uses  following  environment  variables  for  authentication:  <b>PCA_USERNAME</b>  (required),  <b>PCA_PASSWORD</b>
       (required),  <b>PCA_AUTHURL</b> (required), <b>PCA_USERID</b> (optional), <b>PCA_TENANTID</b> (optional, but either the tenant
       name or tenant id must be supplied) <b>PCA_REGIONNAME</b> (optional), <b>PCA_TENANTNAME</b> (optional, but  either  the
       tenant name or tenant id must be supplied)

       If  the  user  was  previously  authenticated,  the  following environment variables can be used instead:
       <b>PCA_PREAUTHURL</b> (required), <b>PCA_PREAUTHTOKEN</b> (required)

       If <b>PCA_AUTHVERSION</b> is unspecified, it will default to version 2.

</pre><h4><b>A</b> <b>NOTE</b> <b>ON</b> <b>PYDRIVE</b> <b>BACKEND</b></h4><pre>
       The pydrive backend requires Python PyDrive package to be installed on the system. See <b>REQUIREMENTS</b>.

       There are two ways to use PyDrive: with a regular account or with a "service  account".  With  a  service
       account,  a  separate  account  is created, that is only accessible with Google APIs and not a web login.
       With a regular account, you can store backups in your normal Google Drive.

       To use a service account, go to the Google developers console  at  https://console.developers.google.com.
       Create a project, and make sure Drive API is enabled for the project. Under "APIs and auth", click Create
       New Client ID, then select Service Account with P12 key.

       Download the .p12 key file of the account and convert it to the .pem format:
       openssl pkcs12 -in XXX.p12  -nodes -nocerts &gt; pydriveprivatekey.pem

       The  content  of  .pem  file  should  be  passed  to  <b>GOOGLE_DRIVE_ACCOUNT_KEY</b>  environment  variable for
       authentication.

       The email address of the account will be used as part of URL. See <b>URL</b> <b>FORMAT</b> above.

       The alternative is to use a regular account. To do this, start as above, but when creating a  new  Client
       ID,  select  "Installed  application" of type "Other". Create a file with the following content, and pass
       its filename in the <b>GOOGLE_DRIVE_SETTINGS</b> environment variable:
              client_config_backend: settings
              client_config:
                  client_id: &lt;Client ID from developers' console&gt;
                  client_secret: &lt;Client secret from developers' console&gt;
              save_credentials: True
              save_credentials_backend: file
              save_credentials_file: &lt;filename to cache credentials&gt;
              get_refresh_token: True

       In this scenario, the username and host parts of the URL play no role; only the path matters. During  the
       first  run,  you  will  be  prompted  to visit an URL in your browser to grant access to your drive. Once
       granted, you will receive a verification code to paste back into  Duplicity.  The  credentials  are  then
       cached in the file references above for future use.

</pre><h4><b>A</b> <b>NOTE</b> <b>ON</b> <b>RCLONE</b> <b>BACKEND</b></h4><pre>
       Rclone is a powerful command line program to sync files and directories to and from various cloud storage
       providers.

   <b>Usage</b>
       Once you have configured an rclone remote via

              rclone config

       and  successfully set up a remote (e.g. gdrive for Google Drive), assuming you can list your remote files
       with

              rclone ls gdrive:mydocuments

       you can start your backup with

              duplicity /mydocuments rclone://gdrive:/mydocuments

       Please note the slash after the second colon. Some storage provider will work with or without slash after
       colon, but some other will not. Since duplicity will complain about malformed  URL  if  a  slash  is  not
       present, always put it after the colon, and the backend will handle it for you.

   <b>Options</b>
       Note that all rclone options can be set by env vars as well. This is properly documented here

              https://rclone.org/docs/

       but  in a nutshell you need to take the long option name, strip the leading --, change - to _, make upper
       case and prepend RCLONE_. for example

              the equivalent of '--stats 5s' would be the env var RCLONE_STATS=5s

</pre><h4><b>A</b> <b>NOTE</b> <b>ON</b> <b>SLATE</b> <b>BACKEND</b></h4><pre>
       Three environment variables are used with the slate backend:
         1.  <b>`SLATE_API_KEY`</b> - Your slate API key
         2.  <b>`SLATE_SSL_VERIFY`</b> - either '1'(True) or '0'(False)  for  ssl  verification  (optional  -  True  by
       default)
         3.   <b>`PASSPHRASE`</b>  -  your gpg passhprase for encryption (optional - will be prompted if not set or not
       used at all if using the `--no-encryption` parameter)

       To use the slate backend, use the following scheme:
              slate://[slate-id]

       e.g. Full backup of current directory to slate:
              duplicity full . "slate://6920df43-5c3w-2x7i-69aw-2390567uav75"

       Here's                                              a                                               demo:
       https://gitlab.com/Shr1ftyy/duplicity/uploads/675664ef0eb431d14c8e20045e3fafb6/slate_demo.mp4

</pre><h4><b>A</b> <b>NOTE</b> <b>ON</b> <b>SSH</b> <b>BACKENDS</b></h4><pre>
       The  <u>ssh</u>  <u>backends</u> support <u>sftp</u> and <u>scp/ssh</u> transport protocols.  This is a known user-confusing issue as
       these are fundamentally different.  If you plan to access your backend via one  of  those  please  inform
       yourself  about  the  requirements  for a server to support <u>sftp</u> or <u>scp/ssh</u> access.  To make it even more
       confusing the user can choose between several ssh backends via  a  scheme  prefix:  paramiko+  (default),
       pexpect+, lftp+... .
       paramiko  &amp;  pexpect support <b>--use-scp</b>, <b>--ssh-askpass</b> and <b>--ssh-options</b>.  Only the <b>pexpect</b> backend allows
       one to define <b>--scp-command</b> and <b>--sftp-command</b>.
       <b>SSH</b> <b>paramiko</b> <b>backend</b> (default) is a complete  reimplementation  of  ssh  protocols  natively  in  python.
       Advantages  are speed and maintainability. Minor disadvantage is that extra packages are needed as listed
       in <b>REQUIREMENTS</b>.  In <u>sftp</u> (default) mode all operations are done via the according sftp commands. In  <u>scp</u>
       mode  (  <u>--use-scp</u>  ) though scp access is used for put/get operations but listing is done via ssh remote
       shell.
       <b>SSH</b> <b>pexpect</b> <b>backend</b> is the legacy ssh backend using the command line ssh  binaries  via  pexpect.   Older
       versions  used  <u>scp</u>  for  get  and  put  operations and <u>sftp</u> for list and delete operations.  The current
       version uses <u>sftp</u> for all four supported operations, unless the <u>--use-scp</u> option is used to revert to old
       behavior.
       <b>SSH</b> <b>lftp</b> <b>backend</b> is simply there because lftp can interact with the ssh cmd line binaries.  It  is  meant
       as a last resort in case the above options fail for some reason.

   <b>Why</b> <b>use</b> <b>sftp</b> <b>instead</b> <b>of</b> <b>scp?</b>
       The  change  to  sftp  was  made in order to allow the remote system to chroot the backup, thus providing
       better security and because it does not suffer from shell quoting issues like scp.   Scp  also  does  not
       support  any  kind  of  file  listing,  so  sftp or ssh access will always be needed in addition for this
       backend mode to work properly. Sftp does not have these limitations but needs an sftp service running  on
       the backend server, which is sometimes not an option.

</pre><h4><b>A</b> <b>NOTE</b> <b>ON</b> <b>SSL</b> <b>CERTIFICATE</b> <b>VERIFICATION</b></h4><pre>
       Certificate  verification  as implemented right now [02.2016] only in the webdav and lftp backends. older
       pythons 2.7.8- and older lftp binaries need a file based database of certification authority certificates
       (cacert file).
       Newer python 2.7.9+ and recent lftp versions however support the system default certificates (usually  in
       <a href="file:/etc/ssl/certs">/etc/ssl/certs</a>) and also giving an alternative ca cert folder via <b>--ssl-cacert-path</b>.
       The cacert file has to be a <b>PEM</b> formatted text file as currently provided by the <b>CURL</b> project. See
              <a href="http://curl.haxx.se/docs/caextract.html">http://curl.haxx.se/docs/caextract.html</a>
       After creating/retrieving a valid cacert file you should copy it to either
              <a href="file:~/.duplicity/cacert.pem">~/.duplicity/cacert.pem</a>
              <a href="file:~/duplicity_cacert.pem">~/duplicity_cacert.pem</a>
              /etc/duplicity/cacert.pem
       Duplicity searches it there in the same order and will fail if it can't find it.  You can however specify
       the option <b>--ssl-cacert-file</b> <u>&lt;file&gt;</u> to point duplicity to a copy in a different location.
       Finally there is the <b>--ssl-no-check-certificate</b> option to disable certificate verification altogether, in
       case  some  ssl  library  is  missing  or verification is not wanted. Use it with care, as even with self
       signed servers manually providing the private ca certificate is definitely the safer option.

</pre><h4><b>A</b> <b>NOTE</b> <b>ON</b> <b>SWIFT</b> <b>(OPENSTACK</b> <b>OBJECT</b> <b>STORAGE)</b> <b>ACCESS</b></h4><pre>
       Swift is the OpenStack Object Storage service.
       The backend requires python-switclient to be installed on  the  system.   python-keystoneclient  is  also
       needed to use OpenStack's Keystone Identity service.  See <b>REQUIREMENTS</b>.

       It uses following environment variables for authentication:

              <b>SWIFT_USERNAME</b> (required),
              <b>SWIFT_PASSWORD</b> (required),
              <b>SWIFT_AUTHURL</b> (required),
              <b>SWIFT_TENANTID</b>  or  <b>SWIFT_TENANTNAME</b>  (required  with  SWIFT_AUTHVERSION=2,  can  alternatively be
              defined in SWIFT_USERNAME like e.g. SWIFT_USERNAME="tenantname:user"),
              <b>SWIFT_PROJECT_ID</b> or <b>SWIFT_PROJECT_NAME</b> (required with SWIFT_AUTHVERSION=3),
              <b>SWIFT_USERID</b> (optional, required only for IBM Bluemix ObjectStorage),
              <b>SWIFT_REGIONNAME</b> (optional).

       If the user was previously authenticated, the  following  environment  variables  can  be  used  instead:
       <b>SWIFT_PREAUTHURL</b> (required), <b>SWIFT_PREAUTHTOKEN</b> (required)

       If <b>SWIFT_AUTHVERSION</b> is unspecified, it will default to version 1.

</pre><h4><b>A</b> <b>NOTE</b> <b>ON</b> <b>SYMMETRIC</b> <b>ENCRYPTION</b> <b>AND</b> <b>SIGNING</b></h4><pre>
       Signing  and  symmetrically  encrypt  at  the  same time with the gpg binary on the command line, as used
       within duplicity, is a specifically challenging issue.  Tests  showed  that  the  following  combinations
       proved working.
       1.  Setup  gpg-agent  properly. Use the option <b>--use-agent</b> and enter both passphrases (symmetric and sign
       key) in the gpg-agent's dialog.
       2. Use a <b>PASSPHRASE</b> for symmetric encryption of your choice but the signing key has an <b>empty</b> passphrase.
       3. The used <b>PASSPHRASE</b> for symmetric encryption and the passphrase of the signing key are identical.

</pre><h4><b>A</b> <b>NOTE</b> <b>ON</b> <b>THE</b> <b>XORRISO</b> <b>BACKEND</b></h4><pre>
       This backend uses the xorriso tool to append backups to optical media or ISO9660 images.

       Use the following environment variables for more settings:
              <b>XORRISO_PATH</b>, set an alternative path to the xorriso executable
              <b>XORRISO_WRITE_SPEED</b>, specify the speed for writing to the optical disc. One of [min, max]
              <b>XORRISO_ASSERT_VOLID</b>, specify the required volume ID of the ISO. Aborts when the actual volume  ID
              is different.
              <b>XORRISO_ARGS</b>,   for   expert   use   only.   Pass   arbitrary   arguments   to  xorriso.  Example:
              XORRISO_ARGS='-md5 all'

</pre><h4><b>ARGPARSE</b> <b>PROBLEM</b></h4><pre>
       Since we converted command line parsing from <b>optparse</b> to  <b>argparse</b>  one  bug  has  haunted  our  efforts.
       Values that look like options are interpreted as options.  That means that something like

       --gpg-options '--homedir=/home/user'

       is  not  treated as option and corresponding value, but as two different options leading --gpg-options to
       complain that it misses it's value.  To work around this problem, you will need to  bind  them  with  '='
       like so:

       --gpg-options="--homedir=/home/user"

       The argparse bug is here:

       https://github.com/python/cpython/issues/53580 .

       If  you feel inclined to go there and add a supporting comment to push for a fix. With enough upvotes the
       bug may be fixed.

       Note that in the bug report itself, the '=' workaround is never mentioned, but we have found this  to  be
       the cleanest and most readable of the workarounds we have seen.

</pre><h4><b>KNOWN</b> <b>ISSUES</b> <b>/</b> <b>BUGS</b></h4><pre>
       Hard links currently unsupported (they will be treated as non-linked regular files).

       Bad signatures will be treated as empty instead of logging appropriate error message.

</pre><h4><b>OPERATION</b> <b>AND</b> <b>DATA</b> <b>FORMATS</b></h4><pre>
       This  section  describes  duplicity's basic operation and the format of its data files.  It should not be
       necessary to read this section to use duplicity.

       The files used by duplicity to store backup data  are  tarfiles  in  GNU  tar  format.   For  incremental
       backups,  new  files  are  saved  normally in the tarfile.  But when a file changes, instead of storing a
       complete copy of the file, only a diff is stored, as generated by <b><a href="../man1/rdiff.1.html">rdiff</a></b>(1).  If a file is  deleted,  a  0
       length  file is stored in the tar.  It is possible to restore a duplicity archive "manually" by using <b>tar</b>
       and then <b>cp</b>, <b>rdiff</b>, and <b>rm</b> as necessary.  These duplicity archives have the extension <b>difftar</b>.

       Both full and incremental backup sets have the  same  format.   In  effect,  a  full  backup  set  is  an
       incremental  one generated from an empty signature (see below).  The files in full backup sets will start
       with <b>duplicity-full</b> while the incremental sets  start  with  <b>duplicity-inc</b>.   When  restoring,  duplicity
       applies  patches  in  order,  so  deleting,  for instance, a full backup set may make related incremental
       backup sets unusable.

       In order to determine which files have been deleted, and to calculate diffs for changed files,  duplicity
       needs to process information about previous sessions.  It stores this information in the form of tarfiles
       where  each  entry's data contains the signature (as produced by <b>rdiff</b>) of the file instead of the file's
       contents.  These signature sets have the extension <b>sigtar</b>.

       Signature files are not required to restore a backup set, but without an up-to-date signature,  duplicity
       cannot append an incremental backup to an existing archive.

       To  save  bandwidth,  duplicity  generates  full  signature  sets and incremental signature sets.  A full
       signature set is generated for each full backup, and an incremental  one  for  each  incremental  backup.
       These  start  with  <b>duplicity-full-signatures</b> and <b>duplicity-new-signatures</b> respectively. These signatures
       will be stored both locally and remotely.  The remote signatures  will  be  encrypted  if  encryption  is
       enabled.  The local signatures will not be encrypted and stored in the archive dir (see <b>--archive-dir</b>).

</pre><h4><b>REQUIREMENTS</b></h4><pre>
       Duplicity requires a POSIX-like operating system with a <b>python</b> interpreter version 3.8+ installed.  It is
       best used under GNU/Linux.

       Some  backends  also  require  additional  components  (probably  available as packages for your specific
       platform):

       <b>Amazon</b> <b>Drive</b> <b>backend</b>
              <b>python-requests</b> - <a href="http://python-requests.org">http://python-requests.org</a>
              <b>python-requests-oauthlib</b> - https://github.com/requests/requests-oauthlib

       <b>azure</b> <b>backend</b> (Azure Storage Blob Service)
              <b>Microsoft</b> <b>Azure</b> <b>Storage</b> <b>Blobs</b> <b>client</b> <b>library</b> <b>for</b> <b>Python</b> -  https://pypi.org/project/azure-storage-
              blob/

       <b>boto3</b> <b>backend</b> (S3 Amazon Web Services, Google Cloud Storage) (default)
              <b>boto3</b> <b>version</b> <b>1.x</b> - https://github.com/boto/boto3

       <b>box</b> <b>backend</b> (box.com)
              <b>boxsdk</b> - https://github.com/box/box-python-sdk

       <b>cfpyrax</b> <b>backend</b> (Rackspace Cloud) and <b>hubic</b> <b>backend</b> (hubic.com)
              <b>Rackspace</b> <b>CloudFiles</b> <b>Pyrax</b> <b>API</b> - <a href="http://docs.rackspace.com/sdks/guide/content/python.html">http://docs.rackspace.com/sdks/guide/content/python.html</a>

       <b>dpbx</b> <b>backend</b> (Dropbox)
              <b>Dropbox</b> <b>Python</b> <b>SDK</b> - https://www.dropbox.com/developers/reference/sdk

       <b>gdocs</b> <b>gdata</b> <b>backend</b> (legacy)
              <b>Google</b> <b>Data</b> <b>APIs</b> <b>Python</b> <b>Client</b> <b>Library</b> - <a href="http://code.google.com/p/gdata-python-client/">http://code.google.com/p/gdata-python-client/</a>

       <b>gdocs</b> <b>pydrive</b> <b>backend</b>(default)
              see pydrive backend

       <b>gio</b> <b>backend</b> (Gnome VFS API)
              <b>PyGObject</b> - <a href="http://live.gnome.org/PyGObject">http://live.gnome.org/PyGObject</a>
              <b>D-Bus</b> (dbus)- <a href="http://www.freedesktop.org/wiki/Software/dbus">http://www.freedesktop.org/wiki/Software/dbus</a>

       <b>lftp</b> <b>backend</b> (needed for ftp, ftps, fish [over ssh] - also supports sftp, webdav[s])
              <b>LFTP</b> <b>Client</b> - <a href="http://lftp.yar.ru/">http://lftp.yar.ru/</a>

       <b>MEGA</b> <b>backend</b> <b>(only</b> <b>works</b> <b>for</b> <b>accounts</b> <b>created</b> <b>prior</b> <b>to</b> <b>November</b> <b>2018)</b> (mega.nz)
              <b>megatools</b> <b>client</b> - https://github.com/megous/megatools

       <b>MEGA</b> <b>v2</b> <b>and</b> <b>v3</b> <b>backend</b> <b>(works</b> <b>for</b> <b>all</b> <b>MEGA</b> <b>accounts)</b> (mega.nz)
              <b>MEGAcmd</b> <b>client</b> - https://mega.nz/cmd

       <b>multi</b> <b>backend</b>
              <b>Multi</b> <b>--</b> <b>store</b> <b>to</b> <b>more</b> <b>than</b> <b>one</b> <b>backend</b>
              (also see <b>A</b> <b>NOTE</b> <b>ON</b> <b>MULTI</b> <b>BACKEND</b> ) below.

       <b>ncftp</b> <b>backend</b> (ftp, select via ncftp+ftp://)
              <b>NcFTP</b> - <a href="http://www.ncftp.com/">http://www.ncftp.com/</a>

       <b>OneDrive</b> <b>backend</b> (Microsoft OneDrive)
              <b>python-requests-oauthlib</b> - https://github.com/requests/requests-oauthlib

       <b>Par2</b> <b>Wrapper</b> <b>Backend</b>
              <b>par2cmdline</b> - <a href="http://parchive.sourceforge.net/">http://parchive.sourceforge.net/</a>

       <b>pydrive</b> <b>backend</b>
              <b>PyDrive</b> <b>--</b> <b>a</b> <b>wrapper</b> <b>library</b> <b>of</b> <b>google-api-python-client</b> - https://pypi.python.org/pypi/PyDrive
              (also see <b>A</b> <b>NOTE</b> <b>ON</b> <b>PYDRIVE</b> <b>BACKEND</b> ) below.

       <b>rclone</b> <b>backend</b>
              <b>rclone</b> - https://rclone.org/

       <b>rsync</b> <b>backend</b>
              <b>rsync</b> <b>client</b> <b>binary</b> - <a href="http://rsync.samba.org/">http://rsync.samba.org/</a>

       <b>ssh</b> <b>paramiko</b> <b>backend</b> (default)
              <b>paramiko</b>     (SSH2     for    python)    -    <a href="http://pypi.python.org/pypi/paramiko">http://pypi.python.org/pypi/paramiko</a>    (downloads);
              <a href="http://github.com/paramiko/paramiko">http://github.com/paramiko/paramiko</a> (project page)
              <b>pycrypto</b> (Python Cryptography Toolkit) - <a href="http://www.dlitz.net/software/pycrypto/">http://www.dlitz.net/software/pycrypto/</a>

       <b>ssh</b> <b>pexpect</b> <b>backend</b>(legacy)
              <b>sftp/scp</b> <b>client</b> <b>binaries</b> OpenSSH - <a href="http://www.openssh.com/">http://www.openssh.com/</a>
              <b>Python</b> <b>pexpect</b> <b>module</b> - <a href="http://pexpect.sourceforge.net/pexpect.html">http://pexpect.sourceforge.net/pexpect.html</a>

       <b>swift</b> <b>backend</b> <b>(OpenStack</b> <b>Object</b> <b>Storage)</b>
              <b>Python</b> <b>swiftclient</b> <b>module</b> - https://github.com/openstack/python-swiftclient/
              <b>Python</b> <b>keystoneclient</b> <b>module</b> - https://github.com/openstack/python-keystoneclient/

       <b>webdav</b> <b>backend</b>
              <b>certificate</b> <b>authority</b> <b>database</b> <b>file</b> for  ssl  certificate  verification  of  HTTPS  connections  -
              <a href="http://curl.haxx.se/docs/caextract.html">http://curl.haxx.se/docs/caextract.html</a>
              (also see <b>A</b> <b>NOTE</b> <b>ON</b> <b>SSL</b> <b>CERTIFICATE</b> <b>VERIFICATION</b>).
              <b>Python</b> <b>kerberos</b> <b>module</b> for kerberos authentication - https://github.com/02strich/pykerberos

       <b>MediaFire</b> <b>backend</b>
              <b>MediaFire</b> <b>Python</b> <b>Open</b> <b>SDK</b> - https://pypi.python.org/pypi/mediafire/

       <b>xorriso</b> <b>backend</b>
              <b>xorriso</b> - https://www.gnu.org/software/xorriso/

</pre><h4><b>AUTHOR</b></h4><pre>
       <b>Original</b> <b>Author</b> - Ben Escoto &lt;<a href="mailto:bescoto@stanford.edu">bescoto@stanford.edu</a>&gt;

       <b>Current</b> <b>Maintainer</b> - Kenneth Loafman &lt;<a href="mailto:kenneth@loafman.com">kenneth@loafman.com</a>&gt;

       <b>Continuous</b> <b>Contributors</b>
              Edgar Soldin, Mike Terry
       Most  backends  were  contributed  individually.   Information about their authorship may be found in the
       according file's header.
       Also we'd like to thank everybody posting issues to the mailing list or on launchpad, sending in  patches
       or contributing otherwise. Duplicity wouldn't be as stable and useful if it weren't for you.
       A  special  thanks  goes  to rsync.net, a Cloud Storage provider with explicit support for duplicity, for
       several monetary donations and for providing a special "duplicity friends" rate for their offsite  backup
       service.  Email <a href="mailto:info@rsync.net">info@rsync.net</a> for details.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man1/python.1.html">python</a>(1)</b>, <b><a href="../man1/rdiff.1.html">rdiff</a>(1)</b>.

Version 3.0.4                                   February 08, 2025                                   <u><a href="../man1/DUPLICITY.1.html">DUPLICITY</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>