<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>syrep - A file repository synchronization tool</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/syrep">syrep_0.9-5build2_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       syrep - A file repository synchronization tool

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>syrep</b> <b>[options...]</b> <b>--list</b> <u>SNAPSHOT</u> <b>...</b>

       <b>syrep</b> <b>[options...]</b> <b>--info</b> <u>SNAPSHOT</u> <b>...</b>

       <b>syrep</b> <b>[options...]</b> <b>--history</b> <u>SNAPSHOT</u> <b>...</b>

       <b>syrep</b> <b>[options...]</b> <b>--dump</b> <u>SNAPSHOT</u> <b>...</b>

       <b>syrep</b> <b>[options...]</b> <b>--update</b> <u>DIRECTORY</u> <b>...</b>

       <b>syrep</b> <b>[options...]</b> <b>--diff</b> <u>SNAPSHOT</u> <u>SNAPSHOT</u>

       <b>syrep</b> <b>[options...]</b> <b>--merge</b> <u>SNAPSHOT</u> <u>DIRECTORY</u>

       <b>syrep</b> <b>[options...]</b> <b>--merge</b> <u>PATCH</u> <u>DIRECTORY</u>

       <b>syrep</b> <b>[options...]</b> <b>--merge</b> <u>DIRECTORY</u> <u>DIRECTORY</u>

       <b>syrep</b> <b>[options...]</b> <b>--makepatch</b> <u>DIRECTORY</u> <u>SNAPSHOT</u>

       <b>syrep</b> <b>[options...]</b> <b>--extract</b> <u>SNAPSHOT</u> <b>...</b>

       <b>syrep</b> <b>[options...]</b> <b>--cleanup</b> <u>DIRECTORY</u> <b>...</b>

       <b>syrep</b> <b>[options...]</b> <b>--forget</b> <u>SNAPSHOT</u> <b>...</b>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       Syrep  is  a  generic  file  repository  synchronization  tool.  It may be used to synchronize large file
       hierarchies bidirectionally by exchanging patch files. Syrep is truely peer-to-peer, no  central  servers
       are  involved.  Synchronizations between more than two repositories are supported. The patch files may be
       transferred via offline media, e.g. removable hard disks or compact discs.

       Files are tracked by their message digests, currently MD5.

       Syrep was written to facilitate the synchronization of  two  large  digital  music  repositories  without
       direct network connection. Patch files of several gigabytes are common in this situation.

       Syrep is able to cope with 64 bit file sizes. (LFS)

       Syrep  is optimized for speed. It may make use of a message digest cache to accelerate the calculation of
       digests of a whole directory hierarchy.

       A syrep repository is a normal UNIX directory tree containing a special  directory  <u>.syrep</u>  with  a  file
       <u>current.syrep</u>  (called snapshot) which holds file system history data. A directory is turned into a syrep
       repository by running <b>--update</b>  on  it.  Snapshots  are  used  to  perform  basic  tasks  like  comparing
       repositories (command <b>--diff</b>) or creating patches between them (command <b>--make-patch</b>).

       Syrep  will  ignore  all  files  and directories that have the extended attribute <b>user.syrep</b> set to <b>omit</b>.
       Currently, this works on Linux only. Keep in mind, that only newer kernel versions and some  file  system
       support extended attributes. See <b><a href="../man5/attr.5.html">attr</a>(5)</b> for more information.

</pre><h4><b>GENERAL</b> <b>OPTIONS</b></h4><pre>
       Exactly  one  command  has  to  be  specified on the command line. On the other hand multiple options are
       allowed.

       <b>-v</b> | <b>--verbose</b> (option)
              Enable more verbose operation

       <b>-T</b> | <b>--local-temp</b> (option)
              Use temporary directory inside repository. This is very useful when the file repository you  apply
              patches  to  is  on  a  different  partition than <a href="file:/tmp">/tmp</a>, because files my be hard linked instead of
              copied. This requires a read-writable file system however.

       <b>--ignore-origin</b> (option)
              Normally syrep warns you if you update, merge or makepatch a repository with a  matching  snapshot
              not  generated  on the original host, and asks the user if he really wants to proceed. This option
              may be used to disable this question.

       <b>-z</b> | <b>--compress</b> (option)
              Compress output snapshots or patches. This may slow down syrep extraordinarily and is more or less
              useless if the data to compress is already compressed. I suggest using it for --update but not for
              --makepatch if the file repository contains MP3 or MPEG files only.

       <b>-p</b> | <b>--progress</b> (option)
              Show a rotating dash while executing operations

</pre><h4><b>GENERAL</b> <b>COMMANDS</b></h4><pre>
       <b>-h</b> | <b>--help</b> (command)
              Print help and exit

       <b>-V</b> | <b>--version</b> (command)
              Print version information and exit

</pre><h4><b>LISTING</b> <b>SNAPSHOT</b> <b>CONTENTS</b></h4><pre>
       <b>--list</b> (command)
              Command for listing the file log of a repository snapshot

       <b>--show-deleted</b> (option)
              Show deleted entries

       <b>--show-by-md</b> (option)
              Show files by message digests. This option collides with <b>--sort</b>.

       <b>--show-times</b> (option)
              Show first and last seen times

       <b>--sort</b> (option)
              Sort file listing chronologically. This option collides with <b>--show-by-md</b>.

</pre><h4><b>SHOWING</b> <b>SNAPSHOT</b> <b>INFORMATION</b></h4><pre>
       <b>--info</b> (command)
              Show information about a repository or snapshot, such as origin, current  timestamp  and  version,
              database size.

</pre><h4><b>SHOWING</b> <b>SNAPSHOT</b> <b>HISTORY</b></h4><pre>
       <b>--history</b> (command)
              Show the version and timestamp history of a snapshot's updates

</pre><h4><b>DUMPING</b> <b>SNAPSHOT</b> <b>CONTENTS</b></h4><pre>
       <b>--dump</b> (command)
              Show a structure dump of a repository or snapshot

</pre><h4><b>UPDATING</b> <b>A</b> <b>SNAPSHOT</b></h4><pre>
       <b>--update</b> (command)
              Update  or  create  a  snapshot for a repository directory. That is: iterate through the specified
              hierarchy and update the snapshot log information accordingly.

       <b>-S</b><u>STRING</u> | <b>--snapshot=</b><u>STRING</u> (option)
              Use the specified snapshot file instead of the one contained in the repository directory. This may
              be helpful if your file hierarchy is read only.

       <b>-C</b><u>STRING</u> | <b>--cache=</b><u>STRING</u> (option)
              Use the specified message digest cache file  instead  of  the  one  contained  in  the  repository
              directory.  This may be helpful if your file hierarchy is read only or when you plan to maintain a
              system wide message digest cache. In the latter case you should use <b>--no-purge</b> as well.

       <b>--no-cache</b> (option)
              Don't use a message digest cache.

       <b>--no-purge</b> (option)
              Don't purge obsolete entries from cache after update run.  The  may  be  useful  if  you  plan  to
              maintain a system wide message digest cache.

       <b>--ro-cache</b> (option)
              Use cache in a read only fashion

       <b>--check-dev</b> (option)
              Store  information  about  the device where the file resides when storing an entry about it in the
              message digest cache. Since nowadays device identifiers cannot be longer considered  stable,  this
              options defaults to off.

</pre><h4><b>SHOWING</b> <b>DIFFERENCES</b> <b>BETWEEN</b> <b>TWO</b> <b>SNAPSHOTS</b></h4><pre>
       <b>--diff</b> (command)
              Show difference between two repositories or snapshots

       <b>-s</b> | <b>--sizes</b> (option)
              Show the sizes of the files to copy. This works only when acting on a local repository and for the
              local files.

       <b>-H</b> | <b>--human-readable</b> (option)
              Only  useful  when  using with <b>-s</b>. When enabled shows file sizes in human readable form, i.e. "3.5
              MB" instead of "3670016".

</pre><h4><b>MERGING</b> <b>A</b> <b>SNAPSHOT,</b> <b>A</b> <b>PATCH</b> <b>OR</b> <b>A</b> <b>REPOSITORY</b> <b>INTO</b> <b>A</b> <b>REPOSITORY</b></h4><pre>
       <b>--merge</b> (command)
              Merge a snapshot, a patch or a repository into a repository. Afterwards, you should  run  <b>--update</b>
              on the repository to update the snapshot.

       <b>-q</b> | <b>--question</b> (option)
              Ask a question before each action

       <b>-P</b> | <b>--prune-empty</b> (option)
              Prune empty directories

       <b>--keep-trash</b> (option)
              Don't  empty  trash. Deleted files are copied into a trash folder inside the repository directory.
              If this option is specified this trash is not emptied when the operation is completed.

       <b>--check-md</b> (option)
              Check message digests of files before  deleting  or  replacing  them.  NB:  This  worsens  syrep's
              performance and is thus not enabled by default.

       <b>--always-copy</b> (option)
              As  default  syrep  tries  to hard link files instead of copying them. With this option syrep will
              always do a copy, regardless if a hard link is possible or not. This  is  especially  useful  when
              doing  bi-directory  merges.  NB:  This  worsens  syrep's  performance  and is thus not enabled by
              default.

</pre><h4><b>MAKING</b> <b>A</b> <b>PATCH</b> <b>FOR</b> <b>A</b> <b>SNAPSHOT</b> <b>AGAINST</b> <b>A</b> <b>DIRECTORY</b></h4><pre>
       <b>--makepatch</b> (command)
              Make a patch against the specified repository. The  patch  is  written  to  STDOUT  unless  <b>-o</b>  is
              specified.

       <b>-o</b><u>STRING</u> | <b>--output-file=</b><u>STRING</u> (option)
              Write output to specified file instead of STDOUT

       <b>--include-all</b> (option)
              Include files in patch which do exist on the other side under a different name

</pre><h4><b>EXTRACTING</b> <b>A</b> <b>SNAPSHOT'S</b> <b>CONTENTS</b></h4><pre>
       <b>--extract</b> (command)
              Extract the contents of a snapshot or patch to the local directory unless <b>-D</b> is specified.

       <b>-D</b><u>STRING</u> | <b>--output-directory=</b><u>STRING</u> (option)
              Write output to specified directory

</pre><h4><b>CLEANING</b> <b>UP</b> <b>A</b> <b>REPOSITORY</b></h4><pre>
       <b>--cleanup</b> (command)
              Remove syrep info from repository

       <b>-l</b><u>INT</u> | <b>--cleanup-level=</b><u>INT</u>
              1:  just  remove  temporary  data  and trash (default); 2: remove message digest cache as well; 3:
              remove all syrep data

</pre><h4><b>FORGETTING</b> <b>OUTDATED</b> <b>SNAPSHOT</b> <b>INFORMATION</b></h4><pre>
       <b>--forget</b> (command)
              Repackage the snapshot file dropping outdated information. Use this if your snapshot files get too
              large.

       <b>-R</b> <u>DAYS</u> | <b>--remember=</b><u>DAYS</u> (option)
              Information about how many days in the past should be kept? This defaults to 180 (half a year).

</pre><h4><b>REPOSITORIES,</b> <b>SNAPSHOTS</b> <b>AND</b> <b>PATCHES</b></h4><pre>
       A syrep file repository is a POSIX file hierarchy with some additional log data, which is used  to  track
       changes.  Normally  this  log data is saved as "snapshot" in the file <u>$(REPOSITORY)/.syrep/current.syrep</u>.
       You may create and update it by running  <b>--update</b>.  The  more  often  this  log  is  updated  the  better
       modifications may be tracked. Therefore this operation should be called at least once a day via <b><a href="../man8/cron.8.html">cron</a>(8)</b>

       Two  snapshots of two distinct repositories (possibly from different hosts) may be compared with <b>---diff</b>.
       This will show you which files should be copied or deleted from or to the other  repository.  <b>--makepatch</b>
       will  attach the data of the local missing in the remote repository to a snapshot and write it to a patch
       file. This file should be transferred to the other repository and applied there with <b>--merge</b>.

       Keep in mind that patches contain the snapshot data of the originating host. Because of that you may  use
       it  as  a  snapshot, e.g. by running <b>--diff</b> on it. On the other hand you are also able to merge snapshots
       without attached patch data to a repository. This  will  do  all  required  deletions  and  renames,  but
       naturally won't add any new data to the file tree.

       To  extract  the  contents  of  a patch you may use <b>--extract</b>. This will write all files contained in the
       patch or snapshot to the local directory, including snapshot log data. Files are named by  their  message
       digests.

</pre><h4><b>FILES</b></h4><pre>
       <u>$(REPOSITORY)/.syrep/current.syrep</u>  is  the current snapshot of the repository. It is created and updated
       by running <b>--update</b> on the directory. Use this file to create patches on other repositories against  this
       one. This file may be compressed by specifiying <b>--compress</b> when running <b>--update</b>.

       <u>$(REPOSITORY)/.syrep/md-cache</u>  is  the  message digest cache which may be used to accelerate the repeated
       operation of <b>---update</b>. It associates device numbers, inode numbers, file sizes  and  modification  times
       with  the  message  digest calculated for that file. The file is only valid on the host it was created on
       since it contains device numbers.

       <u>$(REPOSITORY)/.syrep/trash/</u> is the trash directory used by <b>--merge</b>. Files are moved in here on  deletion.
       After successful completion it is emptied unless <b>--keep-trash</b> is specified.

       <u>$(REPOSITORY)/.syrep/tmp/</u>  is  used  as temporary file space for extracting snaphots when option <b>--local-</b>
       <b>temp</b> is used.

</pre><h4><b>RETURN</b> <b>VALUES</b></h4><pre>
       <u>0</u> Success

       <u>Nonzero</u> Failure

</pre><h4><b>AUTHOR</b></h4><pre>
       Syrep was written by Lennart Poettering &lt;mzflerc (at) 0pointer (dot) de&gt;.

       Syrep is available at <b><a href="http://0pointer.de/lennart/projects/syrep/">http://0pointer.de/lennart/projects/syrep/</a></b>

       You are encouraged to improve this documentation, feel free to send me patches. This  is  free  software,
       after all.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man1/rsync.1.html">rsync</a>(1)</b>, <b><a href="../man8/cron.8.html">cron</a>(8)</b>, <b><a href="../man5/attr.5.html">attr</a>(5)</b>

</pre><h4><b>COMMENTS</b></h4><pre>
       This man page was written using <b><a href="../man1/xml2man.1.html">xml2man</a>(1)</b> by Oliver Kurth.

Manuals                                               User                                              <u><a href="../man1/syrep.1.html">syrep</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>