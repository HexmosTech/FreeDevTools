<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>x2gobroker{,-daemon,-ssh} - Session Broker for X2Go</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/x2gobroker-daemon">x2gobroker-daemon_0.0.4.3-4.3_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       x2gobroker{,-daemon,-ssh} - Session Broker for X2Go

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>x2gobroker</b> [ <u>options</u> ]

       <b>x2gobroker-daemon</b> [ <u>options</u> ]

       <b>x2gobroker-ssh</b> [ <u>options</u> ]

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>x2gobroker</b>  (resp. <b>x2gobroker-daemon</b>) is a Python Tornado based implementation of the X2Go Session Broker
       API. <b>x2gobroker-ssh</b> is the same application but designed for usage via SSH (as a command line tool).

       The HTTP(S) implementation of <b>x2gobroker</b> is normally executed either through the host's  init  system  or
       via the WSGI module in your httpd server. The SSH implementation is executed by X2Go clients through SSH.

       See the included README and TODO for further information on <b>x2gobroker</b>.

</pre><h4><b>GENERAL</b> <b>OPTIONS</b></h4><pre>
       <b>x2gobroker{,-daemon,-ssh}</b> accepts the following common options:

       <b>-M,</b> <b>--mode</b> <b>{HTTP|SSH}</b>
              Set  X2Go Session Broker into HTTP or SSH mode. If this option is omitted, then SSH is the default
              mode.  If <b>x2gobroker-daemon</b> is used as executable name, then the default mode is HTTP(S).

       <b>-C,</b> <b>--config</b> <b>FILENAME</b>
              Specify an alternative configuration file name, default is: <u>/etc/x2go/x2gobroker.conf</u>.

       <b>-d,</b> <b>--debug</b>
              Enable debugging code. This also makes http's POST method available as GET method, which then  al‐
              lows it to test the broker API through a normal web browser.

       <b>-h,</b> <b>--help</b>
              Display a help with all available command line options and exit.

</pre><h4><b>SSH</b> <b>MODE</b> <b>COMMAND</b> <b>LINE</b> <b>OPTIONS</b></h4><pre>
       <b>x2gobroker-ssh</b>,  i.e.,  when  run from the command line or via SSH, accepts/requires these additional op‐
       tions:

       <b>--task</b> <b>{listsessions,</b> <b>selectsession,</b> <b>setpass,</b> <b>testcon}</b>
              Specify the either of the known broker tasks (listsessions, selectsession, setpass, testcon). This
              parameter is compulsory, the command execution will fail if it is omitted.

       <b>--user</b> <b>USERNAME</b>
              If <b>x2gobroker</b> is run by the `magic' user (the x2gobroker account by default), then the  x2gobroker
              is allowed to change its user context and do queries on behalf of the user specified with this pa‐
              rameter.

       <b>--auth-cookie,</b> <b>--auth-id</b> <b>AUTHENTICATION_COOKIE</b>
              It  is  possible  to enforce a stronger authentication via an additional pre-shared authentication
              cookie. This authentication cookie must be stored in a client-side file so that  X2Go  Client  can
              access  it  and  then  pass  it  on to the X2Go Session Broker (via the X2Go Client option --auth-
              id=&lt;fullpath-to-file&gt;) while authenticating against the broker.

              The server-side cookie hash can be set in <u>/etc/x2go/x2gobroker.conf</u> (option: my-cookie). You  have
              to  set  the  option require-cookie-auth to true to enable the additional cookie comparison in the
              X2Go Session Broker.

       <b>--profile-id,</b> <b>--sid</b> <b>SESSION_PROFILE_ID</b>
              For the <u>selectsession</u> task the session profile ID has to be given as an additional parameter.

       <b>--backend</b> <b>BACKEND_NAME</b>
              Query another than the default broker backend.

</pre><h4><b>HTTP(S)</b> <b>DAEMON</b> <b>OPTIONS</b></h4><pre>
       <b>x2gobroker-daemon</b> in standalone HTTP(S) daemon mode accepts these additional options:

       <b>-b,</b> <b>--bind</b> <b>ADDRESS:PORT</b>
              The [address:]port that the Tornado http-engine will bind to (default: 127.0.0.1:8080).

       <b>-D,</b> <b>--daemonize</b>
              Fork this application to background and detach from the running terminal.

       <b>-P,</b> <b>--pidfile</b>
              Custom PID file location when daemonizing (default: <u>&lt;RUNDIR&gt;/x2gobroker/x2gobroker-daemon.pid</u>).

       <b>-L,</b> <b>--logdir</b>
              Directory where stdout/stderr will be redirected after having daemonized (default: <u>/var/log/x2gob‐</u>
              <u>roker/</u>).

       <b>-D,</b> <b>--drop-privileges</b>
              If started as root, drop privileges to uid X2GO_DAEMON_USER and gid X2GO_DAEMON_GROUP (as  config‐
              ured  in  <u>/etc/x2go/broker/defaults.conf</u>  on systemd systems or <u>/etc/defaults/python-x2gobroker</u> on
              SystemV systems).

</pre><h4><b>SECURITY</b> <b>NOTICE</b> <b>/</b> <b>DISCLAIMER</b></h4><pre>
       Users are advised to not misinterpret X2Go Session Broker's capabilities as a security feature. Even when
       using X2Go Session Broker, it is still possible for users to locally configure an X2Go  Client  with  any
       settings they want, and use that to connect. So if you're trying to keep users from running a certain ap‐
       plication  on  the  host,  using  X2Go Session Broker to "lock" the configuration is the *wrong* way. The
       users will still be able to run that application by creating their own, local configuration file and  us‐
       ing that.

       To  keep  users  from running an application on the server, you have to use <u>filesystem</u> <u>permissions</u> on the
       X2Go Server. In the simplest case, this means setting chmod 750 or 550 on the particular  application  on
       the  host,  and  making  sure  the users in question are not the owner and also not a member of the group
       specified for the application.

</pre><h4><b>FILES</b></h4><pre>
       /etc/x2go/x2gobroker.conf, /etc/x2go/broker/* (configuration files)

       /etc/default/python-x2gobroker, /etc/default/x2gobroker-daemon (environment for X2Go Session Broker  when
       run as a standalone daemon via SystemV or upstart)

       /var/log/x2gobroker/* (log files of X2Go Session Broker)

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b>/usr/share/doc/x2gobroker</b>

</pre><h4><b>AUTHOR</b></h4><pre>
       This manual has been written for the X2Go project by Mike Gabriel &lt;<a href="mailto:mike.gabriel@das-netzwerkteam.de">mike.gabriel@das-netzwerkteam.de</a>&gt;.

Version 0.0.4.x                                     Apr 2020                                       <u><a href="../man1/x2gobroker.1.html">x2gobroker</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>