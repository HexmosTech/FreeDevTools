<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>hsqueeze - Dynamic power management</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/ganeti-htools-3.1">ganeti-htools-3.1_3.1.0~rc2-2_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       hsqueeze - Dynamic power management

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>hsqueeze</b> {backend options...} [algorithm options...]  [reporting options...]

       <b>hsqueeze</b> --version

       Backend options:

       { <b>-L[</b> <u>path</u> <b>]</b> [-X]** | <b>-t</b> <u>data-file</u> }

       Algorithm options:

       <b>[</b> <b>--minimal-resources=*factor*</b> <b>]</b> <b>[</b> <b>--target-resources=*factor*</b> <b>]</b>

       Reporting options:

       <b>[</b> <b>-S</b> <b>*file*</b> <b>]</b> <b>[</b> <b>-C[*file*]</b> <b>]</b>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       hsqueeze  does  dynamic power management, by powering up or shutting down nodes, depending on the current
       load of the cluster.  Currently, only suggesting nodes is implemented.

   <b>ALGORITHM</b>
       hsqueeze considers all online non-master nodes with only externally mirrored instances as candidates  for
       being  taken  offline.   These  nodes  are  iteratively,  starting from the node with the least number of
       instances, added to the set of nodes to be put offline, if possible.  A set of  nodes  is  considered  as
       suitable  for being taken offline, if, after marking these nodes as offline, balancing the cluster by the
       algorithm used by <b><a href="../man1/hbal.1.html">hbal</a></b>(1) yields a situation where all instances are located on online  nodes,  and  each
       node has at least the target resources free for new instances.

       All  offline  nodes  with  a  tag  starting with htools:standby are considered candidates for being taken
       online.  Those nodes are taken online till balancing the cluster by the algorithm used by <b><a href="../man1/hbal.1.html">hbal</a></b>(1)  yields
       a situation where each node has at least the minimal resources free for new instances.

</pre><h4><b>OPTIONS</b></h4><pre>
       -L [<u>path</u>]
              Backend  specification: collect data directly from the master daemon, which is to be contacted via
              LUXI (an internal Ganeti protocol).  The option is described in the man page <b><a href="../man1/htools.1.html">htools</a></b>(1).

       -X     When using the Luxi backend, hsqueeze can also execute the given commands.

              The execution of the job series can be interrupted, see below for signal handling.

       -S <u>filename</u>, --save-cluster=*filename*
              If given, the state of the cluster before the squeezing is  saved  to  the  given  file  plus  the
              extension  "original"  (i.e.   <u>filename</u>.original),  and  the  state  at  the  end of the squeezing
              operation is saved to the given file plus the extension "squeezed" (i.e.  <u>filename</u>.squeezed).

       -C[<u>filename</u>], --print-commands[=*filename*]
              If given, a shell script containing the commands to squeeze or unsqueeze the cluster are saved  in
              a file with the given name; if no name is provided, they are printed to stdout.

       -t <u>datafile</u>, --text-data=*datafile*
              Backend  specification:  the  name  of  the  file  holding  node  and instance information (if not
              collecting LUXI).  This or one of the other backends must be selected.  The option is described in
              the man page <b><a href="../man1/htools.1.html">htools</a></b>(1).

       --minimal-resources=*factor*
              Specify the amount of resources to be free on each node for  hsqueeze  not  to  consider  onlining
              additional  nodes.   The  value  is reported a multiple of the standard instance specification, as
              taken from the instance policy.

       --target-resources=*factor*
              Specify the amount of resources to remain free on any node after squeezing.  The value is reported
              a multiple of the standard instance specification, as taken from the instance policy.

</pre><h4><b>REPORTING</b> <b>BUGS</b></h4><pre>
       Report bugs to the project's issue tracker or contact the developers using the Ganeti mailing list.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       Ganeti overview and  specifications:  <b><a href="../man7/ganeti.7.html">ganeti</a></b>(7)  (general  overview),  <b><a href="../man7/ganeti-os-interface.7.html">ganeti-os-interface</a></b>(7)  (guest  OS
       definitions), <b><a href="../man7/ganeti-extstorage-interface.7.html">ganeti-extstorage-interface</a></b>(7) (external storage providers).

       Ganeti  commands:  <b><a href="../man8/gnt-cluster.8.html">gnt-cluster</a></b>(8) (cluster-wide commands), <b><a href="../man8/gnt-job.8.html">gnt-job</a></b>(8) (job-related commands), <b><a href="../man8/gnt-node.8.html">gnt-node</a></b>(8)
       (node-related  commands),  <b><a href="../man8/gnt-instance.8.html">gnt-instance</a></b>(8)  (instance   commands),   <b><a href="../man8/gnt-os.8.html">gnt-os</a></b>(8)   (guest   OS   commands),
       <b><a href="../man8/gnt-storage.8.html">gnt-storage</a></b>(8)   (storage   commands),   <b><a href="../man8/gnt-group.8.html">gnt-group</a></b>(8)  (node  group  commands),  <b><a href="../man8/gnt-backup.8.html">gnt-backup</a></b>(8)  (instance
       import/export commands), <b><a href="../man8/gnt-debug.8.html">gnt-debug</a></b>(8) (debug commands).

       Ganeti daemons: <b><a href="../man8/ganeti-watcher.8.html">ganeti-watcher</a></b>(8) (automatic instance restarter), <b><a href="../man8/ganeti-cleaner.8.html">ganeti-cleaner</a></b>(8) (job queue  cleaner),
       <b><a href="../man8/ganeti-noded.8.html">ganeti-noded</a></b>(8) (node daemon), <b><a href="../man8/ganeti-rapi.8.html">ganeti-rapi</a></b>(8) (remote API daemon).

       Ganeti  htools: <b><a href="../man1/htools.1.html">htools</a></b>(1) (generic binary), <b><a href="../man1/hbal.1.html">hbal</a></b>(1) (cluster balancer), <b><a href="../man1/hspace.1.html">hspace</a></b>(1) (capacity calculation),
       <b><a href="../man1/hail.1.html">hail</a></b>(1) (IAllocator plugin), <b><a href="../man1/hscan.1.html">hscan</a></b>(1) (data gatherer from remote clusters), <b><a href="../man1/hinfo.1.html">hinfo</a></b>(1) (cluster information
       printer), <b><a href="../man7/mon-collector.7.html">mon-collector</a></b>(7) (data collectors interface).

</pre><h4><b>COPYRIGHT</b></h4><pre>
       Copyright (C) 2006-2015 Google Inc.  All rights reserved.

       Redistribution and use in source and binary forms, with or without modification, are  permitted  provided
       that the following conditions are met:

       1.   Redistributions  of  source code must retain the above copyright notice, this list of conditions and
       the following disclaimer.

       2.  Redistributions in binary form must reproduce the above copyright notice, this list of conditions and
       the following disclaimer in the documentation and/or other materials provided with the distribution.

       THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY  EXPRESS  OR  IMPLIED
       WARRANTIES,  INCLUDING,  BUT  NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A
       PARTICULAR PURPOSE ARE DISCLAIMED.  IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE  FOR
       ANY  DIRECT,  INDIRECT,  INCIDENTAL,  SPECIAL,  EXEMPLARY,  OR  CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT
       LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF  USE,  DATA,  OR  PROFITS;  OR  BUSINESS
       INTERRUPTION)  HOWEVER  CAUSED  AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR
       TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE  OF  THIS  SOFTWARE,  EVEN  IF
       ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.

Ganeti                                                                                               <u><a href="../man1/HSQUEEZE.1.html">HSQUEEZE</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>