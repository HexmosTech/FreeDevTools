<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>wasm2js - manual page for wasm2js 120</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/binaryen">binaryen_120-3_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       wasm2js - manual page for wasm2js 120

</pre><h4><b>DESCRIPTION</b></h4><pre>
       ================================================================================ wasm2js INFILE

       Transform                   .wasm/.wat                  files                  to                  asm.js
       ================================================================================

       wasm2js options: <b>----------------</b>

       <b>--output</b>,-o
              Output file (stdout if not specified)

       <b>--allow-asserts</b>
              Allow compilation of .wast testing asserts

       <b>--pedantic</b>
              Emulate WebAssembly trapping behavior

       <b>--emscripten</b>
              Emulate the glue in emscripten-compatible form (and not ES6 module form)

       <b>--deterministic</b>
              Replace WebAssembly trapping behavior deterministically (the default is to  not  care  about  what
              would trap in wasm, like a load out of bounds or integer divide by zero; with this flag, we try to
              be  deterministic  at least in what happens, which might or might not be to trap like wasm, but at
              least should not vary)

       <b>--symbols-file</b>
              Emit a symbols file that maps function indexes to their original names

       Optimization passes: <b>--------------------</b>

       <b>--abstract-type-refining</b>
              refine and merge abstract (never-created) types

       <b>--alignment-lowering</b>
              lower unaligned loads and stores to smaller aligned ones

       <b>--asyncify</b>
              async/await style transform, allowing pausing and resuming

       <b>--avoid-reinterprets</b>
              Tries to avoid reinterpret operations via more loads

       <b>--cfp</b>  propagate constant struct field values

       <b>--cfp-reftest</b>
              propagate constant struct field values, using ref.test

       <b>--coalesce-locals</b>
              reduce # of locals by coalescing

       <b>--coalesce-locals-learning</b>
              reduce # of locals by coalescing and learning

       <b>--code-folding</b>
              fold code, merging duplicates

       <b>--code-pushing</b>
              push code forward, potentially making it not always execute

       <b>--const-hoisting</b>
              hoist repeated constants to a local

       <b>--dae</b>  removes arguments to calls in an lto-like manner

       <b>--dae-optimizing</b>
              removes arguments to calls in an lto-like manner, and optimizes where we removed

       <b>--dce</b>  removes unreachable code

       <b>--dealign</b>
              forces all loads and stores to have alignment 1

       <b>--denan</b>
              instrument the wasm to convert NaNs into 0 at runtime

       <b>--dfo</b>  optimizes using the DataFlow SSA IR

       <b>--directize</b>
              turns indirect calls into direct ones

       <b>--discard-global-effects</b>
              discards global effect info

       <b>--duplicate-function-elimination</b>
              removes duplicate functions

       <b>--duplicate-import-elimination</b>
              removes duplicate imports

       <b>--dwarfdump</b>
              dump DWARF debug info sections from the read binary

       <b>--emit-target-features</b>
              emit the target features section in the output

       <b>--extract-function</b>
              leaves just one function (useful for debugging)

       <b>--extract-function-index</b>
              leaves just one function selected by index

       <b>--flatten</b>
              flattens out code, removing nesting

       <b>--fpcast-emu</b>
              emulates function pointer casts, allowing incorrect indirect calls to (sometimes) work

       <b>--func-metrics</b>
              reports function metrics

       <b>--generate-dyncalls</b>
              generate dynCall fuctions used by emscripten ABI

       <b>--generate-global-effects</b>
              generate global effect info (helps later passes)

       <b>--generate-i64-dyncalls</b>
              generate dynCall functions used by emscripten ABI, but  only  for  functions  with  i64  in  their
              signature (which cannot be invoked via the wasm table without JavaScript BigInt support).

       <b>--global-refining</b>
              refine the types of globals

       <b>--gsi</b>  globally optimize struct values

       <b>--gto</b>  globally optimize GC types

       <b>--gufa</b> Grand  Unified Flow Analysis: optimize the entire program using information about what content can
              actually appear in each location

       <b>--gufa-cast-all</b>
              GUFA plus add casts for all inferences

       <b>--gufa-optimizing</b>
              GUFA plus local optimizations in functions we modified

       <b>--heap-store-optimization</b>
              optimize heap (GC) stores

       <b>--heap2local</b>
              replace GC allocations with locals

       <b>--i64-to-i32-lowering</b>
              lower all uses of i64s to use i32s instead

       <b>--inline-main</b>
              inline __original_main into main

       <b>--inlining</b>
              inline functions (you probably want inlining-optimizing)

       <b>--inlining-optimizing</b>
              inline functions and optimizes where we inlined

       <b>--instrument-locals</b>
              instrument the build with code to intercept all loads and stores

       <b>--instrument-memory</b>
              instrument the build with code to intercept all loads and stores

       <b>--intrinsic-lowering</b>
              lower away binaryen intrinsics

       <b>--jspi</b> wrap imports and exports for JavaScript promise integration

       <b>--legalize-and-prune-js-interface</b>
              legalizes the import/export boundary and prunes when needed

       <b>--legalize-js-interface</b>
              legalizes i64 types on the import/export boundary

       <b>--licm</b> loop invariant code motion

       <b>--limit-segments</b>
              attempt to merge segments to fit within web limits

       <b>--local-cse</b>
              common subexpression elimination inside basic blocks

       <b>--local-subtyping</b>
              apply more specific subtypes to locals where possible

       <b>--log-execution</b>
              instrument the build with logging of where execution goes

       <b>--memory-packing</b>
              packs memory into separate segments, skipping zeros

       <b>--memory64-lowering</b>
              lower loads and stores to a 64-bit memory to instead use a 32-bit one

       <b>--merge-blocks</b>
              merges blocks to their parents

       <b>--merge-j2cl-itables</b>
              Merges itable structures into vtables to make types more compact

       <b>--merge-locals</b>
              merges locals when beneficial

       <b>--merge-similar-functions</b>
              merges similar functions when benefical

       <b>--metrics</b>
              reports metrics (with an optional title, <b>--metrics</b>[=<u>TITLE</u>])

       <b>--minify-imports</b>
              minifies import names (only those, and not export names), and emits a mapping to the minified ones

       <b>--minify-imports-and-exports</b>
              minifies both import and export names, and emits a mapping to the minified ones

       <b>--minify-imports-and-exports-and-modules</b>
              minifies both import and export names, and emits a mapping to the minified ones, and minifies  the
              modules as well

       <b>--minimize-rec-groups</b>
              Split types into minimal recursion groups

       <b>--mod-asyncify-always-and-only-unwind</b>
              apply the assumption that asyncify imports always unwind, and we never rewind

       <b>--mod-asyncify-never-unwind</b>
              apply the assumption that asyncify never unwinds

       <b>--monomorphize</b>
              creates specialized versions of functions

       <b>--monomorphize-always</b>
              creates specialized versions of functions (even if unhelpful)

       <b>--multi-memory-lowering</b>
              combines multiple memories into a single memory

       <b>--multi-memory-lowering-with-bounds-checks</b>
              combines  multiple memories into a single memory, trapping if the read or write is larger than the
              length of the memory's data

       <b>--name-types</b>
              (re)name all heap types

       <b>--nm</b>   name list

       <b>--no-full-inline</b>
              mark functions as no-inline (for full inlining only)

       <b>--no-inline</b>
              mark functions as no-inline

       <b>--no-partial-inline</b>
              mark functions as no-inline (for partial inlining only)

       <b>--once-reduction</b>
              reduces calls to code that only runs once

       <b>--optimize-added-constants</b>
              optimizes added constants into load/store offsets

       <b>--optimize-added-constants-propagate</b>
              optimizes added constants into load/store offsets, propagating them across locals too

       <b>--optimize-casts</b>
              eliminate and reuse casts

       <b>--optimize-for-js</b>
              early optimize of the instruction combinations for js

       <b>--optimize-instructions</b>
              optimizes instruction combinations

       <b>--optimize-j2cl</b>
              optimizes J2CL specific constructs.

       <b>--outlining</b>
              outline instructions

       <b>--pick-load-signs</b>
              pick load signs based on their uses

       <b>--poppify</b>
              Tranform Binaryen IR into Poppy IR

       <b>--post-emscripten</b>
              miscellaneous optimizations for Emscripten-generated code

       <b>--precompute</b>
              computes compile-time evaluatable expressions

       <b>--precompute-propagate</b>
              computes compile-time evaluatable expressions and propagates them through locals

       <b>--print</b>
              print in s-expression format

       <b>--print-call-graph</b>
              print call graph

       <b>--print-features</b>
              print options for enabled features

       <b>--print-full</b>
              print in full s-expression format

       <b>--print-function-map</b>
              print a map of function indexes to names

       <b>--print-minified</b>
              print in minified s-expression format

       <b>--propagate-debug-locs</b>
              propagate debug location from parents or previous siblings to child nodes

       <b>--propagate-globals-globally</b>
              propagate global values to other globals (useful for tests)

       <b>--remove-imports</b>
              removes imports and replaces them with nops

       <b>--remove-memory</b>
              removes memory segments

       <b>--remove-non-js-ops</b>
              removes operations incompatible with js

       <b>--remove-unused-brs</b>
              removes breaks from locations that are not needed

       <b>--remove-unused-module-elements</b>
              removes unused module elements

       <b>--remove-unused-names</b>
              removes names from locations that are never branched to

       <b>--remove-unused-nonfunction-module-elements</b>
              removes unused module elements that are not functions

       <b>--remove-unused-types</b>
              remove unused private GC types

       <b>--reorder-functions</b>
              sorts functions by access frequency

       <b>--reorder-functions-by-name</b>
              sorts functions by name (useful for debugging)

       <b>--reorder-globals</b>
              sorts globals by access frequency

       <b>--reorder-locals</b>
              sorts locals by access frequency

       <b>--rereloop</b>
              re-optimize control flow using the relooper algorithm

       <b>--roundtrip</b>
              write the module to binary, then read it

       <b>--rse</b>  remove redundant local.sets

       <b>--safe-heap</b>
              instrument loads and stores to check for invalid behavior

       <b>--separate-data-segments</b>
              write data segments to a file and strip them from the module

       <b>--set-globals</b>
              sets specified globals to specified values

       <b>--signature-pruning</b>
              remove params from function signature types where possible

       <b>--signature-refining</b>
              apply more specific subtypes to signature types where possible

       <b>--signext-lowering</b>
              lower sign-ext operations to wasm mvp and disable the sign extension feature

       <b>--simplify-globals</b>
              miscellaneous globals-related optimizations

       <b>--simplify-globals-optimizing</b>
              miscellaneous globals-related optimizations, and optimizes  where  we  replaced  global.gets  with
              constants

       <b>--simplify-locals</b>
              miscellaneous locals-related optimizations

       <b>--simplify-locals-nonesting</b>
              miscellaneous locals-related optimizations (no nesting at all; preserves flatness)

       <b>--simplify-locals-nostructure</b>
              miscellaneous locals-related optimizations (no structure)

       <b>--simplify-locals-notee</b>
              miscellaneous locals-related optimizations (no tees)

       <b>--simplify-locals-notee-nostructure</b>
              miscellaneous locals-related optimizations (no tees or structure)

       <b>--souperify</b>
              emit Souper IR in text form

       <b>--souperify-single-use</b>
              emit Souper IR in text form (single-use nodes only)

       <b>--spill-pointers</b>
              spill pointers to the C stack (useful for Boehm-style GC)

       <b>--ssa</b>  ssa-ify variables so that they have a single assignment

       <b>--ssa-nomerge</b>
              ssa-ify variables so that they have a single assignment, ignoring merges

       <b>--stack-check</b>
              enforce limits on llvm's __stack_pointer global

       <b>--string-gathering</b>
              gathers wasm strings to globals

       <b>--string-lowering</b>
              lowers wasm strings and operations to imports

       <b>--string-lowering-magic-imports</b>
              same as string-lowering, but encodes well-formed strings as magic imports

       <b>--string-lowering-magic-imports-assert</b>
              same as string-lowering-magic-imports, but raise a fatal error if there are invalid strings

       <b>--strip</b>
              deprecated; same as strip-debug

       <b>--strip-debug</b>
              strip debug info (including the names section)

       <b>--strip-dwarf</b>
              strip dwarf debug info

       <b>--strip-eh</b>
              strip EH instructions

       <b>--strip-producers</b>
              strip the wasm producers section

       <b>--strip-target-features</b>
              strip the wasm target features section

       <b>--stub-unsupported-js</b>
              stub out unsupported JS operations

       <b>--symbolmap</b>
              (alias for print-function-map)

       <b>--table64-lowering</b>
              lower 64-bit tables 32-bit ones

       <b>--trace-calls</b>
              instrument the build with code to intercept specific function calls

       <b>--translate-to-exnref</b>
              translate old Phase 3 EH instructions to new ones with exnref

       <b>--translate-to-new-eh</b>
              deprecated; same as translate-to-exnref

       <b>--trap-mode-clamp</b>
              replace trapping operations with clamping semantics

       <b>--trap-mode-js</b>
              replace trapping operations with js semantics

       <b>--tuple-optimization</b>
              optimize trivial tuples away

       <b>--type-finalizing</b>
              mark all leaf types as final

       <b>--type-merging</b>
              merge types to their supertypes where possible

       <b>--type-refining</b>
              apply more specific subtypes to type fields where possible

       <b>--type-ssa</b>
              create new nominal types to help other optimizations

       <b>--type-unfinalizing</b>
              mark all types as non-final (open)

       <b>--unsubtyping</b>
              removes unnecessary subtyping relationships

       <b>--untee</b>
              removes local.tees, replacing them with sets and gets

       <b>--vacuum</b>
              removes obviously unneeded code

       Optimization options: <b>---------------------</b>

       <b>-O</b>     execute default optimization passes (equivalent to <b>-Os</b>)

       <b>-O0</b>    execute no optimization passes

       <b>-O1</b>    execute <b>-O1</b> optimization passes (quick&amp;useful opts, useful for iteration builds)

       <b>-O2</b>    execute <b>-O2</b> optimization passes (most opts, generally gets most perf)

       <b>-O3</b>    execute <b>-O3</b> optimization passes (spends potentially a lot of time optimizing)

       <b>-O4</b>    execute  <b>-O4</b>  optimization passes (also flatten the IR, which can take a lot more time and memory,
              but is useful on more nested / complex / less-optimized input)

       <b>-Os</b>    execute default optimization passes, focusing on code size

       <b>-Oz</b>    execute default optimization passes, super-focusing on code size

       <b>--optimize-level</b>,-ol
              How much to focus on optimizing code

       <b>--shrink-level</b>,-s
              How much to focus on shrinking code size

       <b>--debuginfo</b>,-g
              Emit names section in wasm binary (or full debuginfo in wast)

       <b>--always-inline-max-function-size</b>,-aimfs
              Max size of functions that are always inlined (default 2, which is safe for use with <b>-Os</b> builds)

       <b>--flexible-inline-max-function-size</b>,-fimfs
              Max size of functions that are  inlined  when  lightweight  (no  loops  or  function  calls)  when
              optimizing aggressively for speed (<b>-O3</b>). Default: 20

       <b>--one-caller-inline-max-function-size</b>,-ocimfs Max size of functions that are
              inlined when there is only one caller (default <b>-1</b>, which means all such functions are inlined)

       <b>--inline-functions-with-loops</b>,-ifwl
              Allow inlining functions with loops

       <b>--partial-inlining-ifs</b>,-pii
              Number of ifs allowed in partial inlining (zero means partial inlining is disabled) (default: 0)

       <b>--ignore-implicit-traps</b>,-iit
              Optimize under the helpful assumption that no surprising traps occur (from load, div/mod, etc.)

       <b>--traps-never-happen</b>,-tnh
              Optimize  under  the  helpful  assumption  that no trap is reached at runtime (from load, div/mod,
              etc.)

       <b>--low-memory-unused</b>,-lmu
              Optimize under the helpful assumption that the low 1K of memory is not used by the application

       <b>--fast-math</b>,-ffm
              Optimize floats without handling corner cases of NaNs and rounding

       <b>--zero-filled-memory</b>,-uim
              Assume that an imported memory will be zero-initialized

       <b>--skip-pass</b>,-sp
              Skip a pass (do not run it)

       Tool options: <b>-------------</b>

       <b>--mvp-features</b>,-mvp
              Disable all non-MVP features

       <b>--all-features</b>,-all
              Enable all features

       <b>--detect-features</b>
              (deprecated - this flag does nothing)

       <b>--quiet</b>,-q
              Emit less verbose output and hide trivial warnings.

       <b>--experimental-poppy</b>
              Parse wast files as Poppy IR for testing purposes.

       <b>--enable-sign-ext</b>
              Enable sign extension operations

       <b>--disable-sign-ext</b>
              Disable sign extension operations

       <b>--enable-threads</b>
              Enable atomic operations

       <b>--disable-threads</b>
              Disable atomic operations

       <b>--enable-mutable-globals</b>
              Enable mutable globals

       <b>--disable-mutable-globals</b>
              Disable mutable globals

       <b>--enable-nontrapping-float-to-int</b>
              Enable nontrapping float-to-int operations

       <b>--disable-nontrapping-float-to-int</b>
              Disable nontrapping float-to-int operations

       <b>--enable-simd</b>
              Enable SIMD operations and types

       <b>--disable-simd</b>
              Disable SIMD operations and types

       <b>--enable-bulk-memory</b>
              Enable bulk memory operations

       <b>--disable-bulk-memory</b>
              Disable bulk memory operations

       <b>--enable-exception-handling</b>
              Enable exception handling operations

       <b>--disable-exception-handling</b>
              Disable exception handling operations

       <b>--enable-tail-call</b>
              Enable tail call operations

       <b>--disable-tail-call</b>
              Disable tail call operations

       <b>--enable-reference-types</b>
              Enable reference types

       <b>--disable-reference-types</b>
              Disable reference types

       <b>--enable-multivalue</b>
              Enable multivalue functions

       <b>--disable-multivalue</b>
              Disable multivalue functions

       <b>--enable-gc</b>
              Enable garbage collection

       <b>--disable-gc</b>
              Disable garbage collection

       <b>--enable-memory64</b>
              Enable memory64

       <b>--disable-memory64</b>
              Disable memory64

       <b>--enable-relaxed-simd</b>
              Enable relaxed SIMD

       <b>--disable-relaxed-simd</b>
              Disable relaxed SIMD

       <b>--enable-extended-const</b>
              Enable extended const expressions

       <b>--disable-extended-const</b>
              Disable extended const expressions

       <b>--enable-strings</b>
              Enable strings

       <b>--disable-strings</b>
              Disable strings

       <b>--enable-multimemory</b>
              Enable multimemory

       <b>--disable-multimemory</b>
              Disable multimemory

       <b>--enable-typed-continuations</b>
              Enable typed continuations

       <b>--disable-typed-continuations</b>
              Disable typed continuations

       <b>--enable-shared-everything</b>
              Enable shared-everything threads

       <b>--disable-shared-everything</b>
              Disable shared-everything threads

       <b>--enable-fp16</b>
              Enable float 16 operations

       <b>--disable-fp16</b>
              Disable float 16 operations

       <b>--enable-typed-function-references</b>
              Deprecated compatibility flag

       <b>--disable-typed-function-references</b>
              Deprecated compatibility flag

       <b>--no-validation</b>,-n
              Disables validation, assumes inputs are correct

       <b>--pass-arg</b>,-pa
              An argument passed along to optimization passes being run.  Must be in the form KEY@VALUE.  If KEY
              is the name of a pass then it applies to the closest instance of that pass before us.  If  KEY  is
              not the name of a pass then it is a global option that applies to all pass instances that read it.

       <b>--closed-world</b>,-cw
              Assume  code  outside  of the module does not inspect or interact with GC and function references,
              even if they are passed out. The outside may hold on to them  and  pass  them  back  in,  but  not
              inspect their contents or call them.

       <b>--preserve-type-order</b>
              Preserve the order of types from the input (useful for debugging and testing)

       <b>--generate-stack-ir</b>
              generate StackIR during writing

       <b>--optimize-stack-ir</b>
              optimize StackIR during writing

       <b>--print-stack-ir</b>
              print StackIR during writing

       <b>--no-stack-ir</b>
              do not use StackIR (even when it is the default)

       General options: <b>----------------</b>

       <b>--version</b>
              Output version information and exit

       <b>--help</b>,-h
              Show this help message and exit

       <b>--debug</b>,-d
              Print debug information to stderr

wasm2js 120                                       February 2025                                       <u><a href="../man1/WASM2JS.1.html">WASM2JS</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>