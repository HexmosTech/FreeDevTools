<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>mysql_ssl_rsa_setup - create SSL/RSA files</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/jammy/+package/mysql-server-core-8.0">mysql-server-core-8.0_8.0.43-0ubuntu0.22.04.1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       mysql_ssl_rsa_setup - create SSL/RSA files

</pre><h4><b>SYNOPSIS</b></h4><pre>

       <b>mysql_ssl_rsa_setup</b> <b>[</b><u>options</u><b>]</b>

</pre><h4><b>DESCRIPTION</b></h4><pre>
           <b>Note</b>

           <b>mysql_ssl_rsa_setup</b> is deprecated as of MySQL 8.0.34. Instead, consider using MySQL server to
           generate missing SSL and RSA files automatically at startup (see the section called “Automatic SSL
           and RSA File Generation”).

       This program creates the SSL certificate and key files and RSA key-pair files required to support secure
       connections using SSL and secure password exchange using RSA over unencrypted connections, if those files
       are missing.  <b>mysql_ssl_rsa_setup</b> can also be used to create new SSL files if the existing ones have
       expired.

           <b>Note</b>

           <b>mysql_ssl_rsa_setup</b> uses the <b>openssl</b> command, so its use is contingent on having OpenSSL installed on
           your machine.

           Another way to generate SSL and RSA files, for MySQL distributions compiled using OpenSSL, is to have
           the server generate them automatically. See Section 8.3.3.1, “Creating SSL and RSA Certificates and
           Keys using MySQL”.

           <b>Important</b>

           <b>mysql_ssl_rsa_setup</b> helps lower the barrier to using SSL by making it easier to generate the required
           files. However, certificates generated by <b>mysql_ssl_rsa_setup</b> are self-signed, which is not very
           secure. After you gain experience using the files created by <b>mysql_ssl_rsa_setup</b>, consider obtaining
           a CA certificate from a registered certificate authority.

       Invoke <b>mysql_ssl_rsa_setup</b> like this:

           mysql_ssl_rsa_setup [<u>options</u>]

       Typical options are <b>--datadir</b> to specify where to create the files, and <b>--verbose</b> to see the <b>openssl</b>
       commands that <b>mysql_ssl_rsa_setup</b> executes.

       <b>mysql_ssl_rsa_setup</b> attempts to create SSL and RSA files using a default set of file names. It works as
       follows:

        1. <b>mysql_ssl_rsa_setup</b> checks for the <b>openssl</b> binary at the locations specified by the PATH environment
           variable. If <b>openssl</b> is not found, <b>mysql_ssl_rsa_setup</b> does nothing. If <b>openssl</b> is present,
           <b>mysql_ssl_rsa_setup</b> looks for default SSL and RSA files in the MySQL data directory specified by the
           <b>--datadir</b> option, or the compiled-in data directory if the <b>--datadir</b> option is not given.

        2. <b>mysql_ssl_rsa_setup</b> checks the data directory for SSL files with the following names:

               ca.pem
               server-cert.pem
               server-key.pem

        3. If any of those files are present, <b>mysql_ssl_rsa_setup</b> creates no SSL files. Otherwise, it invokes
           <b>openssl</b> to create them, plus some additional files:

               ca.pem               Self-signed CA certificate
               ca-key.pem           CA private key
               server-cert.pem      Server certificate
               server-key.pem       Server private key
               client-cert.pem      Client certificate
               client-key.pem       Client private key

           These files enable secure client connections using SSL; see Section 8.3.1, “Configuring MySQL to Use
           Encrypted Connections”.

        4. <b>mysql_ssl_rsa_setup</b> checks the data directory for RSA files with the following names:

               private_key.pem      Private member of private/public key pair
               public_key.pem       Public member of private/public key pair

        5. If any of these files are present, <b>mysql_ssl_rsa_setup</b> creates no RSA files. Otherwise, it invokes
           <b>openssl</b> to create them. These files enable secure password exchange using RSA over unencrypted
           connections for accounts authenticated by the sha256_password or caching_sha2_password plugin; see
           Section 8.4.1.3, “SHA-256 Pluggable Authentication”, and Section 8.4.1.2, “Caching SHA-2 Pluggable
           Authentication”.

       For information about the characteristics of files created by <b>mysql_ssl_rsa_setup</b>, see Section 8.3.3.1,
       “Creating SSL and RSA Certificates and Keys using MySQL”.

       At startup, the MySQL server automatically uses the SSL files created by <b>mysql_ssl_rsa_setup</b> to enable
       SSL if no explicit SSL options are given other than <b>--ssl</b> (possibly along with ssl_cipher). If you prefer
       to designate the files explicitly, invoke clients with the <b>--ssl-ca</b>, <b>--ssl-cert</b>, and <b>--ssl-key</b> options at
       startup to name the ca.pem, server-cert.pem, and server-key.pem files, respectively.

       The server also automatically uses the RSA files created by <b>mysql_ssl_rsa_setup</b> to enable RSA if no
       explicit RSA options are given.

       If the server is SSL-enabled, clients use SSL by default for the connection. To specify certificate and
       key files explicitly, use the <b>--ssl-ca</b>, <b>--ssl-cert</b>, and <b>--ssl-key</b> options to name the ca.pem,
       client-cert.pem, and client-key.pem files, respectively. However, some additional client setup may be
       required first because <b>mysql_ssl_rsa_setup</b> by default creates those files in the data directory. The
       permissions for the data directory normally enable access only to the system account that runs the MySQL
       server, so client programs cannot use files located there. To make the files available, copy them to a
       directory that is readable (but <u>not</u> writable) by clients:

       •   For local clients, the MySQL installation directory can be used. For example, if the data directory
           is a subdirectory of the installation directory and your current location is the data directory, you
           can copy the files like this:

               cp ca.pem client-cert.pem client-key.pem ..

       •   For remote clients, distribute the files using a secure channel to ensure they are not tampered with
           during transit.

       If the SSL files used for a MySQL installation have expired, you can use <b>mysql_ssl_rsa_setup</b> to create
       new ones:

        1. Stop the server.

        2. Rename or remove the existing SSL files. You may wish to make a backup of them first. (The RSA files
           do not expire, so you need not remove them.  <b>mysql_ssl_rsa_setup</b> can see that they exist and does not
           overwrite them.)

        3. Run <b>mysql_ssl_rsa_setup</b> with the <b>--datadir</b> option to specify where to create the new files.

        4. Restart the server.

       <b>mysql_ssl_rsa_setup</b> supports the following command-line options, which can be specified on the command
       line or in the [mysql_ssl_rsa_setup] and [mysqld] groups of an option file. For information about option
       files used by MySQL programs, see Section 6.2.2.2, “Using Option Files”.

       •   <b>--help</b>, <b>?</b>
           ┌─────────────────────┬────────┐
           │ <b>Command-Line</b> <b>Format</b> │ --help │
           └─────────────────────┴────────┘

           Display a help message and exit.

       •   <b>--datadir=</b><u>dir_name</u>
           ┌─────────────────────┬────────────────────┐
           │ <b>Command-Line</b> <b>Format</b> │ --datadir=dir_name │
           ├─────────────────────┼────────────────────┤
           │ <b>Type</b>                │ Directory name     │
           └─────────────────────┴────────────────────┘

           The path to the directory that <b>mysql_ssl_rsa_setup</b> should check for default SSL and RSA files and in
           which it should create files if they are missing. The default is the compiled-in data directory.

       •   <b>--suffix=</b><u>str</u>
           ┌─────────────────────┬──────────────┐
           │ <b>Command-Line</b> <b>Format</b> │ --suffix=str │
           ├─────────────────────┼──────────────┤
           │ <b>Type</b>                │ String       │
           └─────────────────────┴──────────────┘

           The suffix for the Common Name attribute in X.509 certificates. The suffix value is limited to 17
           characters. The default is based on the MySQL version number.

       •   <b>--uid=name</b>, <b>-v</b>
           ┌─────────────────────┬────────────┐
           │ <b>Command-Line</b> <b>Format</b> │ --uid=name │
           └─────────────────────┴────────────┘

           The name of the user who should be the owner of any created files. The value is a user name, not a
           numeric user ID. In the absence of this option, files created by <b>mysql_ssl_rsa_setup</b> are owned by the
           user who executes it. This option is valid only if you execute the program as root on a system that
           supports the chown() system call.

       •   <b>--verbose</b>, <b>-v</b>
           ┌─────────────────────┬───────────┐
           │ <b>Command-Line</b> <b>Format</b> │ --verbose │
           └─────────────────────┴───────────┘

           Verbose mode. Produce more output about what the program does. For example, the program shows the
           <b>openssl</b> commands it runs, and produces output to indicate whether it skips SSL or RSA file creation
           because some default file already exists.

       •   <b>--version</b>, <b>-V</b>
           ┌─────────────────────┬───────────┐
           │ <b>Command-Line</b> <b>Format</b> │ --version │
           └─────────────────────┴───────────┘

           Display version information and exit.

</pre><h4><b>COPYRIGHT</b></h4><pre>
       Copyright © 1997, 2025, Oracle and/or its affiliates.

       This documentation is free software; you can redistribute it and/or modify it only under the terms of the
       GNU General Public License as published by the Free Software Foundation; version 2 of the License.

       This documentation is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without
       even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General
       Public License for more details.

       You should have received a copy of the GNU General Public License along with the program; if not, write
       to the Free Software Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA or see
       <a href="http://www.gnu.org/licenses/">http://www.gnu.org/licenses/</a>.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       For more information, please refer to the MySQL Reference Manual, which may already be installed locally
       and which is also available online at <a href="http://dev.mysql.com/doc/">http://dev.mysql.com/doc/</a>.

</pre><h4><b>AUTHOR</b></h4><pre>
       Oracle Corporation (<a href="http://dev.mysql.com/">http://dev.mysql.com/</a>).

MySQL 8.0                                          06/13/2025                             <u><a href="../man1/MYSQL_SSL_RSA_SETUP.1.html">MYSQL_SSL_RSA_SETUP</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>