<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ipmitool - utility for controlling IPMI-enabled devices</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/ipmitool">ipmitool_1.8.19-7.1ubuntu0.2_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       ipmitool - utility for controlling IPMI-enabled devices

</pre><h4><b>SYNOPSIS</b></h4><pre>
       [ &lt;options&gt; ] &lt;command&gt; [ &lt;sub-commands and sub-options&gt; ]

       &lt;options&gt;           := [ &lt;general-options&gt; | &lt;conditional-opts&gt; ]

       Any recognized option is accepted. Conditional options may be ignored or it's usage postponed until shell
       or exec processes relevant command.

       &lt;general-options&gt;   := [ -h | -V | -v | -I &lt;interface&gt; | -H &lt;address&gt; |
                                -d &lt;N&gt; | -p &lt;port&gt; | -c | -U &lt;username&gt; |
                                -L &lt;privlvl&gt; | -l &lt;lun&gt; | -m &lt;local_address&gt; |
                                -N &lt;sec&gt; | -R &lt;count&gt; | &lt;password-option&gt; |
                                &lt;oem-option&gt; | &lt;bridge-options&gt; ]

       &lt;conditional-opts&gt;  := [ &lt;lan-options&gt; | &lt;lanplus-options&gt; |
                                &lt;command-options&gt; ]
       Bridging:
       &lt;bridge-options&gt;    := -t &lt;target_address&gt; [ -b &lt;channel&gt; |
                              [ -T &lt;address&gt; | -B &lt;channel&gt; ] ]

       Options used with -I lan:
       &lt;lan-options&gt;       := [ -A &lt;authtype&gt; ]

       Options used with -I lanplus:
       &lt;lanplus-options&gt;   := [ -C &lt;ciphersuite&gt; | &lt;key-option&gt; ]

       Option groups setting same value:
       &lt;key-option&gt;        := [ -k &lt;key&gt; | -K | -y &lt;hex_key&gt; | -Y ]
       &lt;password-option&gt;   := [ -f &lt;password_file&gt; | -a | -P &lt;password&gt; | -E ]
       &lt;oem-option&gt;        := [ -o &lt;oemtype&gt; | -g | -s ]

       Options used with specific command &lt;command-options&gt;:
       &lt;options-sdr&gt;       := [ -S &lt;sdr_cache_file&gt; ]
       &lt;options-sel&gt;       := [ -O &lt;sel_oem&gt; ]
       &lt;options-sol&gt;       := [ -e &lt;sol_escape_char&gt; ]

</pre><h4><b>DESCRIPTION</b></h4><pre>
       This  program  lets  you  manage Intelligent Platform Management Interface (IPMI) functions of either the
       local system, via a kernel device driver, or a remote system,  using  IPMI  v1.5  and  IPMI  v2.0.  These
       functions  include printing FRU information, LAN configuration, sensor readings, and remote chassis power
       control.

       IPMI management of a local system interface requires a compatible IPMI kernel driver to be installed  and
       configured.   On  Linux  this driver is called <u>OpenIPMI</u> and it is included in standard distributions.  On
       Solaris this driver is called <u>BMC</u> and is included in Solaris 10.  Management of a remote station requires
       the IPMI-over-LAN interface to be enabled and configured.  Depending on the  particular  requirements  of
       each system it may be possible to enable the LAN interface using
       over the system interface.

</pre><h4><b>OPTIONS</b></h4><pre>
       <b>-a</b>     Prompt for the remote server password.

       <b>-A</b> &lt;<u>authtype</u>&gt;
              Specify an authentication type to use during IPMIv1.5 <u>lan</u> session activation.  Supported types are
              NONE, PASSWORD, MD2, MD5, or OEM.

       <b>-b</b> &lt;<u>channel</u>&gt;
              Set destination channel for bridged request.

       <b>-B</b> &lt;<u>channel</u>&gt;
              Set transit channel for bridged request (dual bridge).

       <b>-b</b> &lt;<u>channel</u>&gt;
              Set destination channel for bridged request.

       <b>-B</b> &lt;<u>channel</u>&gt;
              Set transit channel for bridged request. (dual bridge)

       <b>-c</b>     Present output in CSV (comma separated variable) format.  This is not available with all commands.

       <b>-C</b> &lt;<u>ciphersuite</u>&gt;
              The remote server authentication, integrity, and encryption algorithms to use for IPMIv2.0 <u>lanplus</u>
              connections.   See  table  22-20 in the IPMI v2.0 specification. The default is 17 which specifies
              RAKP-HMAC-SHA256 authentication, HMAC-SHA256-128 integrity, and AES-CBC-128 encryption algorithms.

              NOTE: In
              1.8.18 and earlier the default was 3, which was insecure and was not supported by some more recent
              BMC implementations.

       <b>-d</b> <u>N</u>   Use device number N to specify the /dev/ipmiN (or /dev/ipmi/N or /dev/ipmidev/N) device to use for
              in-band BMC communication.  Used to target a  specific  BMC  on  a  multi-node,  multi-BMC  system
              through the ipmi device driver interface.  Default is 0.

       <b>-e</b> &lt;<u>sol_escape_char</u>&gt;
              Use  supplied  character  for  SOL session escape character.  The default is to use <u>~</u> but this can
              conflict with ssh sessions.

       <b>-E</b>     The  remote  server  password  is  specified  by  the  environment   variable   <u>IPMI_PASSWORD</u>   or
              <u>IPMITOOL_PASSWORD</u>. The <u>IPMITOOL_PASSWORD</u> takes precedence.

       <b>-f</b> &lt;<u>password_file</u>&gt;
              Specifies  a  file  containing  the  remote  server  password.  If  this  option  is absent, or if
              password_file is empty, the password will default to NULL.

       <b>-g</b>     Deprecated. Use: -o intelplus

       <b>-h</b>     Get basic usage help from the command line.

       <b>-H</b> &lt;<u>address</u>&gt;
              Remote server address, can be IP address or hostname.  This option is required for <u>lan</u> and <u>lanplus</u>
              interfaces.

       <b>-I</b> &lt;<u>interface</u>&gt;
              Selects IPMI interface to use.  Supported interfaces that are compiled in are visible in the usage
              help output.

       <b>-k</b> &lt;<u>key</u>&gt;
              Use supplied Kg key for IPMIv2.0 authentication.  The default is not to use any Kg key.

       <b>-K</b>     Read Kg key from IPMI_KGKEY environment variable.

       <b>-l</b> &lt;<u>lun</u>&gt;
              Set destination lun for raw commands.

       <b>-L</b> &lt;<u>privlvl</u>&gt;
              Force session privilege level.   Can  be  CALLBACK,  USER,  OPERATOR,  ADMINISTRATOR.  Default  is
              ADMINISTRATOR.  This value is ignored and always set to ADMINISTRATOR when combined with <u>-t</u> <u>target</u>
              <u>address</u>.

       <b>-m</b> &lt;<u>local_address</u>&gt;
              Set  the  local  IPMB  address.  The local address defaults to 0x20 or is auto discovered on PICMG
              platforms when -m is not specified.  There should be no need  to  change  the  local  address  for
              normal operation.

       <b>-N</b> &lt;<u>sec</u>&gt;
              Specify  nr.  of  seconds between retransmissions of lan/lanplus messages.  Defaults are 2 seconds
              for lan and 1 second for lanplus interfaces.  Command <u>raw</u> uses fixed value of 15 seconds.  Command
              <u>sol</u> uses fixed value of 1 second.

       <b>-o</b> &lt;<u>oemtype</u>&gt;
              Select OEM type to support.  This usually involves minor hacks in place in the code to work around
              quirks in various BMCs from various manufacturers.  Use <u>-o</u> <u>list</u> to see a list of current supported
              OEM types.

       <b>-O</b> &lt;<u>sel</u> <u>oem</u>&gt;
              Open selected file and read OEM SEL event descriptions  to  be  used  during  SEL  listings.   See
              examples in contrib dir for file format.

       <b>-p</b> &lt;<u>port</u>&gt;
              Remote server UDP port to connect to.  Default is 623.

       <b>-P</b> &lt;<u>password</u>&gt;
              Remote  server password is specified on the command line.  If supported it will be obscured in the
              process list.  <b>Note!</b> Specifying the password as a command line option is not recommended.

       <b>-R</b> &lt;<u>count</u>&gt;
              Set the number of retries for lan/lanplus interface (default=4).  Command <u>raw</u> uses fixed value  of
              one try (no retries).  Command <u>hpm</u> uses fixed value of 10 retries.

       <b>-s</b>     Deprecated. Use: -o supermicro

       <b>-S</b> &lt;<u>sdr_cache_file</u>&gt;
              Use local file for remote SDR cache.  Using a local SDR cache can drastically increase performance
              for  commands that require knowledge of the entire SDR to perform their function.  Local SDR cache
              from a remote system can be created with the <u>sdr</u> <u>dump</u> command.

       <b>-t</b> &lt;<u>target_address</u>&gt;
              Bridge IPMI requests to the remote target address. Default is 32.  The <u>-L</u> <u>privlvl</u> option is always
              ignored and value set to ADMINISTRATOR.

       <b>-T</b> &lt;<u>address</u>&gt;
              Set transit address for bridge request (dual bridge).

       <b>-T</b> &lt;<u>transmit_address</u>&gt;
              Set transit address for bridge request. (dual bridge)

       <b>-U</b> &lt;<u>username</u>&gt;
              Remote server username, default is NULL user.

       <b>-v</b>     Increase verbose output level.  This option may be specified multiple times to increase the  level
              of debug output.  If given three times you will get hexdumps of all incoming and outgoing packets.
              Using  it  five  times provides details on request and expected reply processing. The <u>hpm</u> commands
              <u>targetcap</u> <u>compprop</u> <u>abort</u> <u>upgstatus</u> <u>rollback</u> <u>rollbackstatus</u> <u>selftestresult</u> increases the  verbosity
              level

       <b>-V</b>     Display version information.

       <b>-y</b> &lt;<u>hex</u> <u>key</u>&gt;
              Use supplied Kg key for IPMIv2.0 authentication. The key is expected in hexadecimal format and can
              be   used   to   specify   keys   with  non-printable  characters.  E.g.  '-k  PASSWORD'  and  '-y
              50415353574F5244' are equivalent.  The default is not to use any Kg key.

       <b>-Y</b>     Prompt for the Kg key for IPMIv2.0 authentication.

       <b>-z</b> &lt;<u>size</u>&gt;
              Change Size of Communication Channel. (OEM)

       If no password method is specified then
       will prompt the user for a password. If no password is entered at the prompt, the remote server  password
       will default to NULL.

</pre><h4><b>SECURITY</b></h4><pre>
       There  are  several  security  issues  be  be considered before enabling the IPMI LAN interface. A remote
       station has the ability to control a system's power state  as  well  as  being  able  to  gather  certain
       platform  information. To reduce vulnerability it is strongly advised that the IPMI LAN interface only be
       enabled in 'trusted' environments where system security is not an issue or where  there  is  a  dedicated
       secure 'management network'.

       Further  it  is  strongly  advised  that  you  should not enable IPMI for remote access without setting a
       password, and that that password should not be the same as any other password on that system.

       When an IPMI password is changed on a remote machine with the IPMIv1.5 <u>lan</u> interface the new password  is
       sent across the network as clear text.  This could be observed and then used to attack the remote system.
       It  is thus recommended that IPMI password management only be done over IPMIv2.0 <u>lanplus</u> interface or the
       system interface on the local station.

       For IPMI v1.5, the maximum password length is 16 characters;  longer  passwords  might  be  truncated  or
       rejected by the server, or rejected by

       For IPMI v2.0, the maximum password length is 20 characters; longer passwords will be rejected by

</pre><h4><b>COMMANDS</b></h4><pre>
       <u>help</u>   This can be used to get command-line help on
              commands. It may also be placed at the end of commands to get option usage help.

              &gt; ipmitool help
              Commands:
                      bmc          Deprecated. Use mc
                      channel      Configure Management Controller channels
                      chassis      Get chassis status and set power state
                      dcmi         Data Center Management Interface
                      delloem      Manage Dell OEM Extensions.
                      echo         Used to echo lines to stdout in scripts
                      ekanalyzer   run FRU-Ekeying analyzer using FRU files
                      event        Send events to MC
                      exec         Run list of commands from file
                      firewall     Configure Firmware Firewall
                      fru          Print built-in FRU and scan for FRU locators
                      fwum         Update IPMC using Kontron OEM Firmware Update Manager
                      gendev       Read/Write Device associated with Generic Device locators sdr
                      hpm          Update HPM components using PICMG HPM.1 file
                      i2c          Send an I2C Master Write-Read command and print response
                      ime          Upgrade/Query Intel ME firmware
                      isol         Configure and connect Intel IPMIv1.5 Serial-over-LAN
                      kontronoem   Manage Kontron OEM Extensions
                      lan          Configure LAN Channels
                      mc           Management Controller status and global enables
                      nm           Node Manager
                      pef          Configure Platform Event Filtering (PEF)
                      picmg        Run a PICMG/ATA extended command
                      power        Shortcut to chassis power commands
                      raw          Send a RAW IPMI request and print response
                      sdr          Print Sensor Data Repository entries and readings
                      sel          Print System Event Log (SEL)
                      sensor       Print detailed sensor information
                      session      Print session information
                      set          Set runtime variable for shell and exec
                      shell        Launch interactive IPMI shell
                      sol          Configure and connect IPMIv2.0 Serial-over-LAN
                      spd          Print SPD info from remote I2C device
                      sunoem       Manage Sun OEM Extensions
                      tsol         Configure and connect Tyan IPMIv1.5 Serial-over-LAN
                      user         Configure Management Controller users

       <u>channel</u>

              <u>authcap</u> &lt;<b>channel</b> <b>number</b>&gt; &lt;<b>max</b> <b>priv</b>&gt;

                     Displays  information  about the authentication capabilities of the selected channel at the
                     specified privilege level.

                     Possible privilege levels are:
                            <u>1</u>   Callback level
                            <u>2</u>   User level
                            <u>3</u>   Operator level
                            <u>4</u>   Administrator level
                            <u>5</u>   OEM Proprietary level
                            <u>15</u>   No access

              <u>info</u> [<b>channel</b> <b>number</b>]

                     Displays  information  about  the selected  channel.   If  no  channel  is  given  it  will
                     display information about the currently used channel.

                     &gt; ipmitool channel info
                     Channel 0xf info:
                       Channel Medium Type   : System Interface
                       Channel Protocol Type : KCS
                       Session Support       : session-less
                       Active Session Count  : 0
                       Protocol Vendor ID    : 7154

              <u>getaccess</u> &lt;<b>channel</b> <b>number</b>&gt; [&lt;<b>userid</b>&gt;]

                     Configure  the  given  userid  as  the default on the given channel number.  When the given
                     channel is subsequently used, the user is identified implicitly by the given userid.

                     <u>setaccess</u> &lt;<b>channel</b> <b>number</b>&gt; &lt;<b>userid</b>&gt; [&lt;<u>callin</u>=<b>on</b>|<b>off</b>&gt;]
                            [&lt;<u>ipmi</u>=<b>on</b>|<b>off</b>&gt;] [&lt;<u>link</u>=<b>on</b>|<b>off</b>&gt;] [&lt;<u>privilege</u>=<b>level</b>&gt;]

                            Configure user access information on the given channel for the given userid.

                     <u>getciphers</u> &lt;<u>ipmi</u>|<u>sol</u>&gt; [&lt;<b>channel</b>&gt;]

                            Displays the list of cipher suites supported for the given application (ipmi or sol)
                            on the given channel.

       <u>chassis</u>

              <u>status</u>

                     Status information related to power, buttons, cooling, drives and faults.

              <u>power</u>

                     <u>status</u>

                     <u>on</u>

                     <u>off</u>

                     <u>cycle</u>

                     <u>reset</u>

                     <u>diag</u>

                     <u>soft</u>

              <u>identify</u> [&lt;seconds&gt;|force]

                     Identify interval.
                     Default is 15 seconds.
                     0 - Off
                     force - To turn on indefinitely

              <u>policy</u>

                     What to do when power is restored.

                     <u>list</u>

                            Show available options.

                     <u>always-on</u>

                     <u>previous</u>

                     <u>always-off</u>

              <u>restart_cause</u>

                     Last restart cause.

              <u>poh</u>

                     Get power on hours.

              <u>bootdev</u>

                     <u>none</u>

                            Do not change boot device order.

                     <u>pxe</u>

                            Force PXE boot.

                     <u>disk</u>

                            Force boot from default Hard-drive.

                     <u>safe</u>

                            Force boot from default Hard-drive, request Safe Mode.

                     <u>diag</u>

                            Force boot from Diagnostic Partition.

                     <u>cdrom</u>

                            Force boot from CD/DVD.

                     <u>bios</u>

                            Force boot into BIOS Setup.

                     <u>floppy</u>

                            Force boot from Floppy/primary removable media.

              <u>bootmbox</u> <u>get</u> [text] [block &lt;<b>block#</b>&gt;]

                     Read the Boot Initiator Mailbox in hex dump or in text mode.

                     By default the whole mailbox is read. If block number is specified, that  particular  block
                     is  read. For block 0 or when the whole mailbox is read, the Boot Initiator IANA Enterprise
                     Number and the corresponding enterprise name are printed.

              <u>bootmbox</u> <u>set</u> text [block &lt;<b>block#</b>&gt;] &lt;<b>IANA_PEN</b>&gt; "&lt;<b>data_string</b>&gt;"

                     Write the specified &lt;block&gt; or the entire Boot Initiator  Mailbox  in  text  mode.   It  is
                     required  to  specify  a decimal IANA Enterprise Number recognized by the boot initiator on
                     the target system. Refer to your target system manufacturer for details. The  rest  of  the
                     arguments are a text string.

                     When  single  block  write is requested, the total length of &lt;data&gt; may not exceed 13 bytes
                     for block 0, or 16 bytes otherwise.

              <u>bootmbox</u> <u>set</u> [block &lt;<b>block#</b>&gt;] &lt;<b>IANA_PEN</b>&gt; &lt;<b>data_byte</b>&gt; [&lt;<b>data_byte</b>&gt; ...]

                     Same as above, but the arguments after IANA PEN are separate data byte values separated  by
                     spaces.

              <u>bootparam</u> <u>get</u> &lt;<b>opt_id</b>&gt; [&lt;<b>opt_param</b>&gt;]

                     Get value of system boot option number &lt;<b>opt_id</b>&gt;. Some boot options (e.g. option 7) can also
                     take an optional numeric parameter.

              <u>bootparam</u> <u>set</u> bootflag &lt;<b>device</b>&gt; [options=...]

                     Set a boot flag. Valid devices are:

                     <u>force_pxe</u>

                            Force PXE boot

                     <u>force_disk</u>

                            Force boot from default Hard-drive

                     <u>force_safe</u>

                            Force boot from default Hard-drive, request Safe Mode

                     <u>force_diag</u>

                            Force boot from Diagnostic Partition

                     <u>force_cdrom</u>

                            Force boot from CD/DVD

                     <u>force_bios</u>

                            Force boot into BIOS Setup

                     Valid options are:

                     <u>PEF</u>

                            Clear valid bit on reset/power cycle cause by PEF

                     <u>timeout</u>

                            Automatically clear boot flag valid bit on timeout

                     <u>watchdog</u>

                            Clear valid bit on reset/power cycle cause by watchdog

                     <u>reset</u>

                            Clear valid bit on push button reset/soft reset

                     <u>power</u>

                            Clear valid bit on power up via power push button or wake event

              <u>selftest</u>

                     Get the chassis self-test results

       <u>dcmi</u>

              <u>discover</u>

                     This command is used to discover supported capabilities in DCMI.

              <u>power</u> &lt;<b>command</b>&gt;

                     Platform power limit command options are:

                     <u>reading</u>

                            Get power related readings from the system.

                     <u>get_limit</u>

                            Get the configured power limits.

                     <u>set_limit</u>  &lt;<b>parameter</b>&gt; &lt;<b>value</b>&gt;

                            Set a power limit option.

                            Possible parameters/values are:

                            <u>action</u> &lt;<b>No</b> <b>Action</b> <b>|</b> <b>Hard</b> <b>Power</b> <b>Off</b> <b>&amp;</b> <b>Log</b> <b>Event</b> <b>to</b> <b>SEL</b> <b>|</b> <b>Log</b> <b>Event</b> <b>to</b> <b>SEL</b>&gt;

                                   Exception  Actions  are  taken as "No Action", "Hard Power Off system and log
                                   events to SEL", or "Log event to SEL only".

                            <u>limit</u> &lt;<b>number</b> <b>in</b> <b>Watts</b>&gt;

                                   Power Limit Requested in Watts.

                            <u>correction</u> &lt;<b>number</b> <b>in</b> <b>milliseconds</b>&gt;

                                   Correction Time Limit in milliseconds.

                            <u>sample</u> &lt;<b>number</b> <b>in</b> <b>seconds</b>&gt;

                                   Statistics Sampling period in seconds.

                     <u>activate</u>

                            Activate the set power limit.

                     <u>deactivate</u>

                            Deactivate the set power limit.

              <u>sensors</u>

                     Prints the available DCMI sensors.

              <u>asset_tag</u>

                     Prints the platforms asset tag.

              <u>set_asset_tag</u>  &lt;<b>string</b>&gt;

                     Sets the platforms asset tag

              <u>get_mc_id_string</u>

                     Get management controller identifier string.

              <u>set_mc_id_string</u>  &lt;<b>string</b>&gt;

                     Set management controller identifier string.  The maximum length is 64  bytes  including  a
                     null terminator.

              <u>thermalpolicy</u>  [&lt;<b>get</b> | <b>set</b>&gt;]

                     Thermal Limit policy get/set.

                     The commands are:

                     <u>Get</u>  &lt;<b>entityID</b>&gt; &lt;<b>instanceID</b>&gt;

                            Get Thermal Limit values.

                            <b>entityID</b>  is  the  physical  entity  that  a  sensor  or  device is associated with.
                            <b>instanceID</b> is a particular instance of an entity.  Entity Instance can be in one  of
                            two  ranges,  system-relative  or  device-relative.  For example, a system with four
                            processors could use  an  Entity  Instance  value  of  "0"  to  identify  the  first
                            processor.

                     <u>Set</u>  &lt;<b>entityID</b>&gt; &lt;<b>instanceID</b>&gt;

                            Set Thermal Limit values.

                            <b>entityID</b>  is  the  physical  entity  that  a  sensor  or  device is associated with.
                            <b>instanceID</b> is a particular instance of an entity.  Entity Instance can be in one  of
                            two  ranges,  system-relative  or  device-relative.  For example, a system with four
                            processors could use  an  Entity  Instance  value  of  "0"  to  identify  the  first
                            processor.

              <u>get_temp_reading</u>

                     Get Temperature Sensor Readings.

              <u>get_conf_param</u>

                     Get DCMI Configuration Parameters.

              <u>set_conf_param</u> &lt;<b>parameters</b>&gt;

                     Set DCMI Configuration Parameters.

                     The Configuration Parameters are:

                     <u>activate_dhcp</u>

                            Activate/restart DHCP

                     <u>dhcp_config</u>

                            Discover DHCP Configuration.

                     <u>init</u>

                            Set  DHCP  Initial  timeout  interval,  in seconds.  The recommended default is four
                            seconds.

                     <u>timeout</u>

                            Set DHCP Server contact timeout  interval,  in  seconds.   The  recommended  default
                            timeout is two minutes.

                     <u>retry</u>

                            Set DHCP Server contact retry interval, in seconds.  The recommended default timeout
                            is sixty-four seconds.

              <u>oob_discover</u>

                     Ping/Pong Message for DCMI Discovery.

       <u>delloem</u>

              The delloem commands provide information on Dell-specific features.

              <u>setled</u> <u>{b:d.f}</u> <u>{state..}</u>

                     Sets the drive backplane LEDs for a device.
                     {b:d.f} = PCI Address of device (eg. 06:00.0)
                     {state} = one or more of the following:
                            <u>online</u>  <u>|</u>  <u>present</u> <u>|</u> <u>hotspare</u> <u>|</u> <u>identify</u> <u>|</u> <u>rebuilding</u> <u>|</u> <u>fault</u> <u>|</u> <u>predict</u> <u>|</u> <u>critical</u> <u>|</u>
                            <u>failed</u>

              <u>lcd</u>
                     <u>set</u> <u>{mode}</u>|<u>{lcdqualifier}</u>|<u>{errordisplay}</u>

                            Allows you to set the LCD mode and user-defined string.

                     <u>lcd</u> <u>set</u> <u>mode</u>
                            <u>{none}</u>|<u>{modelname}</u>|<u>{ipv4address}</u>|<u>{macaddress}</u>|
                            <u>{systemname}</u>|<u>{servicetag}</u>|<u>{ipv6address}</u>|
                            <u>{ambienttemp}</u>|<u>{systemwatt}</u>|<u>{assettag}</u>|
                            <u>{userdefined}&lt;text&gt;</u>

                            Allows you to set the LCD display mode to any of the preceding parameters.

                     <u>lcd</u> <u>set</u> <u>lcdqualifier</u>
                            <u>{watt}</u>|<u>{btuphr}</u>|
                            <u>{celsius}</u>|<u>{fahrenheit}</u>

                            Allows you to set the unit for the system ambient temperature mode.

                     <u>lcd</u> <u>set</u> <u>errordisplay</u>
                            <u>{sel}</u>|<u>{simple}</u>

                            Allows you to set the error display.

                     <u>lcd</u> <u>info</u>

                            Displays the LCD screen information.

                     <u>lcd</u> <u>set</u> <u>vkvm</u>
                            <u>{active}</u>|<u>{inactive}</u>

                            Allows you to set the vKVM status to active or  inactive.  When  it  is  active  and
                            session is in progress, a message appears on LCD.

                     <u>lcd</u> <u>status</u>

                            Displays  the  LCD status for vKVM display active or inactive and Front Panel access
                            mode (viewandmodify, view-only or disabled).

              <u>mac</u>

                     Displays the information about the system NICs.

                     <u>mac</u> <u>list</u>

                            Displays the NIC MAC address and status of all NICs. It also displays the DRAC/iDRAC
                            MAC address.

                     <u>mac</u> <u>get</u>
                            <u>&lt;NIC</u> <u>number&gt;</u>

                            Displays the selected NICs MAC address and status.

              <u>lan</u>
                     Displays the information of Lan.

                     <u>lan</u> <u>set</u>
                            <u>&lt;Mode&gt;</u>

                            Sets the NIC selection mode (dedicated, shared with lom1,  shared  with  lom2,shared
                            with   lom3,shared   with   lom4,shared  with  failover  lom1,shared  with  failover
                            lom2,shared with failover lom3,shared with failover lom4,shared  with  Failover  all
                            loms, shared with Failover None).

                     <u>lan</u> <u>get</u>

                            Returns  the  current  NIC  selection mode (dedicated, shared with lom1, shared with
                            lom2, shared with lom3, shared with lom4,shared  with  failover  lom1,  shared  with
                            failover  lom2,shared  with  failover  lom3,shared  with  failover  lom4,shared with
                            Failover all loms,shared with Failover None).

                     <u>lan</u> <u>get</u> <u>active</u>

                            Returns the current active NIC (dedicated, LOM1, LOM2, LOM3 or LOM4).

              <u>powermonitor</u>

                     Displays power tracking statistics.

                     <u>powermonitor</u> <u>clear</u> <u>cumulativepower</u>

                            Reset cumulative power reading.

                     <u>powermonitor</u> <u>clear</u> <u>peakpower</u>

                            Reset peak power reading.

                     <u>powermonitor</u> <u>powerconsumption</u>
                            <u>&lt;watt&gt;</u>|<u>&lt;btuphr&gt;</u>
                            Displays the power consumption in watt or btuphr.

                     <u>powermonitor</u> <u>powerconsumptionhistory</u>
                            <u>&lt;watt&gt;</u>|<u>&lt;btuphr&gt;</u>
                            Displays the power consumption history in watt or btuphr.

                     <u>powermonitor</u> <u>getpowerbudget</u>
                            <u>&lt;watt&gt;</u>|<u>&lt;btuphr&gt;</u>
                            Displays the power cap in watt or btuphr.

                     <u>powermonitor</u> <u>setpowerbudget</u>
                            <u>&lt;val&gt;&lt;watt</u>|<u>btuphr</u>|<u>percent&gt;</u>
                            Allows you to set the  power cap in watt, BTU/hr or percentage.

                     <u>powermonitor</u> <u>enablepowercap</u>
                            Enables set power cap.

                     <u>powermonitor</u> <u>disablepowercap</u>

                            Disables set power cap.

              <u>vFlash</u> <u>info</u> <u>Card</u>

                     Shows Extended SD Card information.

       <u>echo</u>

              For echoing lines to stdout in scripts.

       <u>ekanalyzer</u> &lt;<b>command</b>&gt; &lt;<b>xx=filename1</b>&gt; &lt;<b>xx=filename2</b>&gt; [&lt;<b>rc=filename3</b>&gt;] <b>...</b>

              <u>NOTE</u> : This command can support a maximum of 8 files per command line

              <u>filename1</u> : binary file that stores FRU data of a Carrier or an AMC module

              <u>filename2</u> : binary file that stores FRU data of an AMC module.
                           These binary files can be generated from command:
                           <u>ipmitool</u> <u>fru</u> <u>read</u> <u>&lt;id&gt;</u> <u>&lt;filename&gt;</u>

              <u>filename3</u> : configuration file used for configuring On-Carrier Device ID
                     or OEM GUID. This file is optional.

              <u>xx</u> : indicates the type of the file. It can take the following value:

                     <u>oc</u> : On-Carrier device

                     <u>a1</u> : AMC slot A1

                     <u>a2</u> : AMC slot A2

                     <u>a3</u> : AMC slot A3

                     <u>a4</u> : AMC slot A4

                     <u>b1</u> : AMC slot B1

                     <u>b2</u> : AMC slot B2

                     <u>b3</u> : AMC slot B3

                     <u>b4</u> : AMC slot B4

                     <u>sm</u> : Shelf Manager

              The available commands for ekanalyzer are:

              <u>print</u> [&lt;<b>carrier</b> | <b>power</b> | <b>all</b>&gt;]

                     <u>carrier</u> (default) &lt;<b>oc=filename1</b>&gt; &lt;<b>oc=filename2</b>&gt; <b>...</b>

                            Display point to point physical connectivity between carriers and AMC modules.
                             Example:
                               &gt; ipmitool ekanalyzer print carrier oc=fru oc=carrierfru
                               From Carrier file: fru
                                  Number of AMC bays supported by Carrier: 2
                                  AMC slot B1 topology:
                                     Port 0 =====&gt; On Carrier Device ID 0, Port 16
                                     Port 1 =====&gt; On Carrier Device ID 0, Port 12
                                     Port 2 =====&gt; AMC slot B2, Port 2
                                  AMC slot B2 topology:
                                     Port 0 =====&gt; On Carrier Device ID 0, Port 3
                                     Port 2 =====&gt; AMC slot B1, Port 2
                               *-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*
                               From Carrier file: carrierfru
                                  On Carrier Device ID 0 topology:
                                     Port 0 =====&gt; AMC slot B1, Port 4
                                     Port 1 =====&gt; AMC slot B1, Port 5
                                     Port 2 =====&gt; AMC slot B2, Port 6
                                     Port 3 =====&gt; AMC slot B2, Port 7
                                  AMC slot B1 topology:
                                     Port 0 =====&gt; AMC slot B2, Port 0
                                  AMC slot B1 topology:
                                     Port 1 =====&gt; AMC slot B2, Port 1
                                  Number of AMC bays supported by Carrier: 2

                     <u>power</u> &lt;<b>xx=filename1</b>&gt; &lt;<b>xx=filename2</b>&gt; <b>...</b>

                            Display power supply information between carrier and AMC modules.

                     <u>all</u> &lt;<b>xx=filename</b>&gt; &lt;<b>xx=filename</b>&gt; <b>...</b>

                            Display both physical connectivity and power supply of each carrier and AMC modules.

              <u>frushow</u> &lt;<b>xx=filename</b>&gt;
                     Convert a binary FRU file into human readable text  format.  Use  -v  option  to  get  more
                     display information.

              <u>summary</u> [&lt;<b>match</b> | <b>unmatch</b> | <b>all</b>&gt;]

                     <u>match</u> (default) &lt;<b>xx=filename</b>&gt; &lt;<b>xx=filename</b>&gt; <b>...</b>
                            Display  only  matched  results of Ekeying match between an On-Carrier device and an
                            AMC module or between 2 AMC modules. Example:
                             &gt; ipmitool ekanalyzer summary match oc=fru b1=amcB1 a2=amcA2
                             On-Carrier Device vs AMC slot B1
                              AMC slot B1 port 0 ==&gt; On-Carrier Device 0 port 16
                               Matching Result
                               - From On-Carrier Device ID 0
                                -Channel ID 11 || Lane 0: enable
                                -Link Type: AMC.2 Ethernet
                                -Link Type extension: 1000BASE-BX (SerDES Gigabit) Ethernet link
                                -Link Group ID: 0 || Link Asym. Match: exact match
                               - To AMC slot B1
                                -Channel ID 0 || Lane 0: enable
                                -Link Type: AMC.2 Ethernet
                                -Link Type extension: 1000BASE-BX (SerDES Gigabit) Ethernet link
                                -Link Group ID: 0 || Link Asym. Match: exact match
                               *-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*
                              AMC slot B1 port 1 ==&gt; On-Carrier Device 0 port 12
                               Matching Result
                               - From On-Carrier Device ID 0
                                -Channel ID 6 || Lane 0: enable
                                -Link Type: AMC.2 Ethernet
                                -Link Type extension: 1000BASE-BX (SerDES Gigabit) Ethernet link
                                -Link Group ID: 0 || Link Asym. Match: exact match
                               - To AMC slot B1
                                -Channel ID 1 || Lane 0: enable
                                -Link Type: AMC.2 Ethernet
                                -Link Type extension: 1000BASE-BX (SerDES Gigabit) Ethernet link
                                -Link Group ID: 0 || Link Asym. Match: exact match
                               *-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*
                             On-Carrier Device vs AMC slot A2
                              AMC slot A2 port 0 ==&gt; On-Carrier Device 0 port 3
                               Matching Result
                               - From On-Carrier Device ID 0
                                -Channel ID 9 || Lane 0: enable
                                -Link Type: AMC.2 Ethernet
                                -Link Type extension: 1000BASE-BX (SerDES Gigabit) Ethernet link
                                -Link Group ID: 0 || Link Asym. Match: exact match
                               - To AMC slot A2
                                -Channel ID 0 || Lane 0: enable
                                -Link Type: AMC.2 Ethernet
                                -Link Type extension: 1000BASE-BX (SerDES Gigabit) Ethernet link
                                -Link Group ID: 0 || Link Asym. Match: exact match
                               *-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*
                             AMC slot B1 vs AMC slot A2
                              AMC slot A2 port 2 ==&gt; AMC slot B1 port 2
                               Matching Result
                               - From AMC slot B1
                                -Channel ID 2 || Lane 0: enable
                                -Link Type: AMC.3 Storage
                                -Link Type extension: Serial Attached SCSI (SAS/SATA)
                                -Link Group ID: 0 || Link Asym. Match: FC or SAS interface {exact match}
                               - To AMC slot A2
                                -Channel ID 2 || Lane 0: enable
                                -Link Type: AMC.3 Storage
                                -Link Type extension: Serial Attached SCSI (SAS/SATA)
                                -Link Group ID: 0 || Link Asym. Match: FC or SAS interface {exact match}
                             *-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*

                     <u>unmatch</u> &lt;<b>xx=filename</b>&gt; &lt;<b>xx=filename</b>&gt; <b>...</b>

                            Display the unmatched results of Ekeying match between an On-Carrier device  and  an
                            AMC module or between 2 AMC modules

                     <u>all</u> &lt;<b>xx=filename</b>&gt; &lt;<b>xx=filename</b>&gt; <b>...</b>

                            Display both matched result and unmatched results of Ekeying match between two cards
                            or two modules.

       <u>event</u>

              &lt;<b>predefined</b> <b>event</b> <b>number</b> <u>N</u>&gt;

                     Send  a  pre-defined test event to the System Event Log.  The following events are included
                     as a means to test the functionality of the System Event Log component of the BMC (an entry
                     will be added each time the event <u>N</u> command is executed).

                     Currently supported values for <u>N</u> are:
                     <u>1</u>    Temperature: Upper Critical: Going High
                     <u>2</u>    Voltage Threshold: Lower Critical: Going Low
                     <u>3</u>    Memory: Correctable ECC

                     <b>NOTE</b>: These pre-defined events will  likely  not  produce  "accurate"  SEL  records  for  a
                     particular  system  because  they  will not be correctly tied to a valid sensor number, but
                     they are sufficient to verify correct operation of the SEL.

              <u>file</u> &lt;<b>filename</b>&gt;

                     Event log records specified in &lt;<b>filename</b>&gt; will be added to the System Event Log.

                     The format of each line in the file is as follows:

                     &lt;{<u>EvM</u> <u>Revision</u>} {<u>Sensor</u> <u>Type</u>} {<u>Sensor</u> <u>Num</u>} {<u>Event</u> <u>Dir/Type</u>} {<u>Event</u> <u>Data</u> <u>0</u>} {<u>Event</u>  <u>Data</u>  <u>1</u>}
                     {<u>Event</u> <u>Data</u> <u>2</u>}&gt;[<u>#</u> <u>COMMENT</u>]

                     e.g.: 0x4 0x2 0x60 0x1 0x52 0x0 0x0 # Voltage threshold: Lower Critical: Going Low

                     <u>EvM</u>  <u>Revision</u> - The "Event Message Revision" is 0x04 for messages that comply with the IPMI
                     2.0 Specification and 0x03 for messages that comply with the IPMI 1.0 Specification.

                     <u>Sensor</u> <u>Type</u> - Indicates the Event Type or Class.

                     <u>Sensor</u> <u>Num</u> - Represents the 'sensor' within the management controller  that  generated  the
                     Event Message.

                     <u>Event</u> <u>Dir/Type</u> - This field is encoded with the event direction as the high bit (bit 7) and
                     the  event type as the low 7 bits.  Event direction is 0 for an assertion event and 1 for a
                     deassertion event.

                     See the IPMI 2.0 specification for further details on the definitions for each field.

              &lt;<b>sensorid</b>&gt; &lt;<b>list</b>&gt;

                     Get a list of all the  possible  Sensor  States  and  pre-defined  Sensor  State  Shortcuts
                     available for a particular sensor.   <b>sensorid</b> is the character string representation of the
                     sensor and must be enclosed in double quotes if it includes white space.  Several different
                     commands including
                     <u>sensor</u>  <u>list</u>  may  be used to obtain a list that includes the <b>sensorid</b> strings representing
                     the sensors on a given system.

                     &gt; ipmitool -I open event "PS 2T Fan Fault" list
                     Finding sensor PS 2T Fan Fault... ok
                     Sensor States:
                       State Deasserted
                       State Asserted
                     Sensor State Shortcuts:
                       present    absent
                       assert     deassert
                       limit      nolimit
                       fail       nofail
                       yes        no
                       on         off
                       up         down

              &lt;<b>sensorid</b>&gt; &lt;<b>sensor</b> <b>state</b>&gt; [&lt;<b>direction</b>&gt;]

                     Generate a custom event based on existing sensor information.  The optional event <b>direction</b>
                     <b>can</b> <b>be</b> <b>either</b> <u>assert</u> <b>(the</b> <b>default)</b> <b>or</b> <u>deassert</u><b>.</b>

                     &gt; ipmitool event "PS 2T Fan Fault" "State Asserted"
                     Finding sensor PS 2T Fan Fault... ok
                        0 | Pre-Init Time-stamp   | Fan PS 2T Fan Fault | State Asserted

                     &gt; ipmitool event "PS 2T Fan Fault" "State Deasserted"
                     Finding sensor PS 2T Fan Fault... ok
                        0 | Pre-Init Time-stamp   | Fan PS 2T Fan Fault | State Desserted

       <u>exec</u> &lt;<b>filename</b>&gt;

              Execute
              commands from <u>filename</u>.  Each line is a complete command.  The syntax of the commands are  defined
              by the COMMANDS section in this manpage.  Each line may have an optional comment at the end of the
              line, delimited with a `#' symbol.

              e.g., a command file with two lines:

              sdr list # get a list of sdr records
              sel list # get a list of sel records

       <u>firewall</u>

              This command supports the Firmware Firewall capability.  It may be used to add or remove security-
              based  restrictions  on  certain  commands/command  sub-functions  or to list the current firmware
              firewall restrictions set on any commands.  For  each  firmware  firewall  command  listed  below,
              parameters  may  be  included to cause the command to be executed with increasing granularity on a
              specific LUN, for a specific NetFn, for a specific  IPMI  Command,  and  finally  for  a  specific
              command's  sub-function  (see  Appendix  H in the IPMI 2.0 Specification for a listing of any sub-
              function numbers that may be associated with a particular command).

              Parameter syntax and dependencies are as follows:

              [&lt;<u>channel</u> <b>H</b>&gt;] [&lt;<u>lun</u> <b>L</b>&gt; [ &lt;<u>netfn</u> <b>N</b>&gt; [&lt;<u>command</u> <b>C</b> [&lt;<u>subfn</u> <b>S</b>&gt;]]]]

              Note that if "netfn &lt;<b>N</b>&gt;" is specified, then "lun &lt;<b>L</b>&gt;" must also be specified;  if "command &lt;<b>C</b>&gt;" is
              specified, then "netfn &lt;<b>N</b>&gt;" (and therefore "lun &lt;<b>L</b>&gt;") must also be specified, and so forth.

              "channel &lt;<b>H</b>&gt;" is an optional and standalone parameter.  If not specified, the requested  operation
              will  be  performed  on  the  current channel.  Note that command support may vary from channel to
              channel.

              Firmware firewall commands:

              <u>info</u> [&lt;<b>Parms</b> <b>as</b> <b>described</b> <b>above</b>&gt;]

                     List firmware firewall information for the specified LUN, NetFn, and Command (if  supplied)
                     on   the   current   or  specified  channel.   Listed  information  includes  the  support,
                     configurable, and enabled bits for the specified command or commands.

                     Some usage examples:

                     <u>info</u> [&lt;<b>channel</b> <b>H</b>&gt;] [&lt;<b>lun</b> <b>L</b>&gt;]

                            This command will  list  firmware  firewall  information  for  all  NetFns  for  the
                            specified LUN on either the current or the specified channel.

                     <u>info</u> [&lt;<b>channel</b> <b>H</b>&gt;] [&lt;<b>lun</b> <b>L</b>&gt; [ &lt;<b>netfn</b> <b>N</b>&gt; ]

                            This command will print out all command information for a single LUN/NetFn pair.

                     <u>info</u> [&lt;<b>channel</b> <b>H</b>&gt;] [&lt;<b>lun</b> <b>L</b>&gt; [ &lt;<b>netfn</b> <b>N</b>&gt; [&lt;<b>command</b> <b>C</b>] ]]

                            This   prints   out   detailed,  human-readable  information  showing  the  support,
                            configurable, and enabled bits for the specified command on the specified  LUN/NetFn
                            pair.  Information will be printed about each of the command subfunctions.

                     <u>info</u> [&lt;<b>channel</b> <b>H</b>&gt;] [&lt;<b>lun</b> <b>L</b>&gt; [ &lt;<b>netfn</b> <b>N</b>&gt; [&lt;<b>command</b> <b>C</b> [&lt;<b>subfn</b> <b>S</b>&gt;]]]]

                            Print out information for a specific sub-function.

              <u>enable</u> [&lt;<b>Parms</b> <b>as</b> <b>described</b> <b>above</b>&gt;]

                     This  command is used to enable commands for a given NetFn/LUN combination on the specified
                     channel.

              <u>disable</u> [&lt;<b>Parms</b> <b>as</b> <b>described</b> <b>above</b>&gt;] [<b>force</b>]

                     This command is used to disable commands for a given NetFn/LUN combination on the specified
                     channel.   Great care should be taken if using the "force" option so as not to disable  the
                     "Set Command Enables" command.

              <u>reset</u> [&lt;<b>Parms</b> <b>as</b> <b>described</b> <b>above</b>&gt;]

                     This  command may be used to reset the firmware firewall back to a state where all commands
                     and command sub-functions are enabled.

       <u>fru</u>

              <u>print</u>

                     Read all Field  Replaceable  Unit (FRU) inventory data  and  extract  such  information  as
                     serial number, part number, asset tags, and short strings describing the chassis, board, or
                     product.

              <u>read</u> &lt;<b>fru</b> <b>id</b>&gt; &lt;<b>fru</b> <b>file</b>&gt;

                     <b>fru</b>  <b>id</b>  is  the digit ID of the FRU (see output of 'fru print').  <b>fru</b> <b>file</b> is the absolute
                     pathname of a file in which to dump the binary FRU data pertaining  to  the  specified  FRU
                     entity.

              <u>write</u> &lt;<b>fru</b> <b>id</b>&gt; &lt;<b>fru</b> <b>file</b>&gt;

                     <b>fru</b>  <b>id</b>  is  the digit ID of the FRU (see output of 'fru print').  <b>fru</b> <b>file</b> is the absolute
                     pathname of a file from which to pull the binary  FRU  data  before  uploading  it  to  the
                     specified FRU.

              <u>upgEkey</u> &lt;<b>fru</b> <b>id</b>&gt; &lt;<b>fru</b> <b>file</b>&gt;

                     Update  a  multirecord FRU location.  <b>fru</b> <b>id</b> is the digit ID of the FRU (see output of 'fru
                     print').  <b>fru</b> <b>file</b> is the absolute pathname of a file from which to  pull  the  binary  FRU
                     data to upload into the specified multirecord FRU entity.

              <u>edit</u> &lt;<b>fru</b> <b>id</b>&gt;

                     This  command  provides interactive editing of some supported records, namely PICMG Carrier
                     Activation Record.  <b>fru</b> <b>id</b> is the digit ID of the FRU (see output of 'fru print');  default
                     is 0.

              <u>edit</u> &lt;<b>fru</b> <b>id</b>&gt; <b>field</b> &lt;<b>section</b>&gt; &lt;<b>index</b>&gt; &lt;<b>string</b>&gt;

                     This  command  may  be used to set a field string to a new value.  It replaces the FRU data
                     found at <b>index</b> in the specified <b>section</b> with the supplied <b>string</b>.

                     <b>fru</b> <b>id</b> is the digit ID of the FRU (see output of 'fru print').

                     &lt;<b>section</b>&gt; is a string which refers to FRU Inventory Information
                            Storage Areas and may be refer to:

                            <u>c</u> FRU Inventory Chassis Info Area

                            <u>b</u> FRU Inventory Board Info Area

                            <u>p</u> FRU Inventory Product Info Area

                     &lt;<b>index</b>&gt; specifies the field number. Field numbering starts on the first 'english text'
                     field type. For instance in the &lt;<b>board</b>&gt; info area field '0' is &lt;<b>Board</b> <b>Manufacturer</b>&gt; and
                     field '2' is &lt;<b>Board</b> <b>Serial</b> <b>Number</b>&gt;; see IPMI Platform Management FRU Information Storage
                     Definition v1.0 R1.1 for field locations.

                     &lt;<b>string</b>&gt; must be the same length as the string being replaced and must be 8-bit ASCII
                     (0xCx).

              <u>edit</u> &lt;<b>fru</b> <b>id</b>&gt; <b>oem</b> <b>iana</b> &lt;<b>record</b>&gt; &lt;<b>format</b>&gt; [&lt;<b>args</b>&gt;]

                     This command edits the data found in the multirecord area. Support for OEM specific records
                     is limited.

       <u>fwum</u>
              Update IPMC using Kontron OEM Firmware Update Manager.

              <u>info</u>
                     Show information about current firmware.

              <u>status</u>
                     Show status of each firmware bank present in the hardware.

              <u>download</u> &lt;<b>filename</b>&gt;

                     Download specified firmware.

              <u>upgrade</u> [<b>filename</b>]

                     Install firmware upgrade. If the filename is  specified,  the  file  is  downloaded  first,
                     otherwise the last firmware downloaded is used.

              <u>rollback</u>

                     Ask IPMC to rollback to previous version.

              <u>tracelog</u>

                     Show firmware upgrade log.

       <u>gendev</u>

              <u>list</u>

                     List All Generic Device Locators.

              <u>read</u> &lt;<b>sdr</b> <b>name</b>&gt; &lt;<b>file</b>&gt;

                     Read to file eeprom specify by Generic Device Locators.

              <u>write</u> &lt;<b>sdr</b> <b>name</b>&gt; &lt;<b>file</b>&gt;

                     Write from file eeprom specify by Generic Device Locators

       <u>hpm</u>
              PICMG HPM.1 Upgrade Agent

              <u>check</u>
                     Check the target information.

              <u>check</u> &lt;<b>filename</b>&gt;
                     Display both the existing target version and image version on the screen.

              <u>download</u> &lt;<b>filename</b>&gt;

                     Download specified firmware.

              <u>upgrade</u> &lt;<b>filename</b>&gt; [<b>all</b>] [<b>component</b> <b>&lt;x&gt;</b>] [<b>activate</b>]
                     Upgrade  the  firmware  using  a  valid  HPM.1  image  file. If no option is specified, the
                     firmware versions are checked  first  and  the  firmware  is  upgraded  only  if  they  are
                     different.

                     <u>all</u>
                            Upgrade  all  components  even  if the firmware versions are the same (use this only
                            after using "check" command).

                     <u>component</u> &lt;<b>x</b>&gt;
                            Upgrade only given component from the given file.
                            component 0 - BOOT
                            component 1 - RTK

                     <u>activate</u>
                            Activate new firmware right away.

              <u>activate</u>

                     Activate the newly uploaded firmware.

              <u>targetcap</u>

                     Get the target upgrade capabilities.

              <u>compprop</u> &lt;<b>id</b>&gt; &lt;<b>select</b>&gt;
                     Get the specified component properties. Valid component <b>id</b>: 0-7.   <b>Select</b>  can  be  one  of
                     following:
                     0 - General properties
                     1 - Current firmware version
                     2 - Description string
                     3 - Rollback firmware version
                     4 - Deferred firmware version

              <u>abort</u>

                     Abort the on-going firmware upgrade.

              <u>upgstatus</u>
                     Show status of the last long duration command.

              <u>rollback</u>
                     Perform manual rollback on the IPM Controller firmware.

              <u>rollbackstatus</u>

                     Show the rollback status.

              <u>selftestresult</u>

                     Query the self test results.

       <u>i2c</u> &lt;<b>i2caddr</b>&gt; &lt;<b>read</b> <b>bytes</b>&gt; [&lt;<b>write</b> <b>data</b>&gt;]

              This command may be used to execute raw I2C commands with the Master Write-Read IPMI command.

       <u>ime</u>

              <u>help</u>

                     Print usage information

              <u>info</u>

                     Displays information about the Manageability Engine (ME)

              <u>update</u> &lt;<b>file</b>&gt;

                     Upgrade the ME firmware with the specified image file
                     <b>WARNING</b> You MUST use a supported image provided by your board vendor

              <u>rollback</u>

                     Perform manual rollback of the ME firmware

       <u>isol</u>

              <u>info</u>

                     Retrieve information about the Intel IPMI v1.5 Serial-Over-LAN configuration.

              <u>set</u> &lt;<b>parameter</b>&gt; &lt;<b>value</b>&gt;

                     Configure parameters for Intel IPMI v1.5 Serial-over-LAN.

                     Valid parameters and values are:

                     <u>enabled</u>
                            true, false.

                     <u>privilege-level</u>
                            user, operator, admin, oem.

                     <u>bit-rate</u>
                            9.6, 19.2, 38.4, 57.6, 115.2.

              <u>activate</u>

                     Causes
                     to  enter Intel IPMI v1.5 Serial Over LAN mode. An RMCP+ connection is made to the BMC, the
                     terminal is set to raw mode, and user input is sent to the serial  console  on  the  remote
                     server.  On  exit,  the  SOL  payload  mode is deactivated and the terminal is reset to its
                     original settings.

                     Special escape sequences are provided to control the SOL session:

                            <u>~.</u>        Terminate connection

                            <u>~^Z</u>       Suspend <b>ipmitool</b>

                            <u>~^X</u>       Suspend <b>ipmitool</b>, but don't restore tty on restart

                            <u>~B</u>        Send break

                            <u>~~</u>        Send the escape character by typing it twice

                            <u>~?</u>        Print the supported escape sequences

                     Note that escapes are only recognized immediately after newline.

       <u>kontronoem</u>

              OEM commands specific to Kontron devices.

              <u>setsn</u>

                     Set FRU serial number.

              <u>setmfgdate</u>

                     Set FRU manufacturing date.

              <u>nextboot</u> &lt;<b>boot</b> <b>device</b>&gt;

                     Select the next boot order on the Kontron CP6012.

       <u>lan</u>

              These commands will allow you to configure IPMI LAN channels with network information so they  can
              be used with the
              <u>lan</u>  and  <u>lanplus</u>  interfaces.   <u>NOTE</u>: To determine on which channel the LAN interface is located,
              issue the `channel info <u>number</u>' command until you come across a  valid  802.3  LAN  channel.   For
              example:

              &gt; ipmitool -I open channel info 1
              Channel 0x1 info:
                Channel Medium Type   : 802.3 LAN
                Channel Protocol Type : IPMB-1.0
                Session Support       : session-based
                Active Session Count  : 8
                Protocol Vendor ID    : 7154

              <u>print</u> [&lt;<b>channel</b>&gt;]

                     Print  the   current   configuration   for   the   given  channel.   The default will print
                     information on the first found LAN channel.

              <u>set</u> &lt;<b>channel</b> <b>number</b>&gt; &lt;<b>command</b>&gt; &lt;<b>parameter</b>&gt;

                     Set the given command and parameter on  the  specified  channel.   Valid  command/parameter
                     options are:

                     <u>ipaddr</u> &lt;<b>x.x.x.x</b>&gt;

                            Set the IP address for this channel.

                     <u>netmask</u> &lt;<b>x.x.x.x</b>&gt;

                            Set the netmask for this channel.

                     <u>macaddr</u> &lt;<b>xx:xx:xx:xx:xx:xx</b>&gt;

                            Set the MAC address for this channel.

                     <u>defgw</u> <u>ipaddr</u> &lt;<b>x.x.x.x</b>&gt;

                            Set the default gateway IP address.

                     <u>defgw</u> <u>macaddr</u> &lt;<b>xx:xx:xx:xx:xx:xx</b>&gt;

                            Set the default gateway MAC address.

                     <u>bakgw</u> <u>ipaddr</u> &lt;<b>x.x.x.x</b>&gt;

                            Set the backup gateway IP address.

                     <u>bakgw</u> <u>macaddr</u> &lt;<b>xx:xx:xx:xx:xx:xx</b>&gt;

                            Set the backup gateway MAC address.

                     <u>password</u> &lt;<b>pass</b>&gt;

                            Set the null user password.

                     <u>snmp</u> &lt;<b>community</b> <b>string</b>&gt;

                            Set the SNMP community string.

                     <u>user</u>

                            Enable  user  access  mode  for  userid  1  (issue  the  `user'  command  to display
                            information about userids for a given channel).

                     <u>access</u> &lt;<b>on|off</b>&gt;

                            Set LAN channel access mode.

                     <u>alert</u> &lt;<b>on|off</b>&gt;

                            Enable or disable PEF alerting for this channel.

                     <u>ipsrc</u> &lt;<b>source</b>&gt;

                            Set the IP address source:
                            <u>none</u> unspecified
                            <u>static</u>    manually configured static IP address
                            <u>dhcp</u> address obtained by BMC running DHCP
                            <u>bios</u> address loaded by BIOS or system software

                     <u>arp</u> <u>respond</u> &lt;<b>on</b>|<b>off</b>&gt;

                            Set BMC generated ARP responses.

                     <u>arp</u> <u>generate</u> &lt;<b>on</b>|<b>off</b>&gt;

                            Set BMC generated gratuitous ARPs.

                     <u>arp</u> <u>interval</u> &lt;<b>seconds</b>&gt;

                            Set BMC generated gratuitous ARP interval.

                     <u>vlan</u> <u>id</u> &lt;<b>off</b>|<b>id</b>&gt;

                            Disable VLAN operation or enable VLAN and set the ID.
                            ID: value of the virtual lan identifier between 1 and 4094 inclusive.

                     <u>vlan</u> <u>priority</u> &lt;<b>priority</b>&gt;

                            Set the priority associated with VLAN frames.
                            ID: priority of the virtual lan frames between 0 and 7 inclusive.

                     <u>auth</u> &lt;<b>level</b>,<b>...</b>&gt; &lt;<b>type</b>,<b>...</b>&gt;

                            Set the valid  authtypes  for  a  given  auth level.
                            Levels: callback, user, operator, admin
                            Types: none, md2, md5, password, oem

                     <u>cipher_privs</u> &lt;<b>privlist</b>&gt;

                            Correlates cipher suite numbers with the maximum privilege level that is allowed  to
                            use  it.   In this way, cipher suites can restricted to users with a given privilege
                            level, so that, for example, administrators are required to use  a  stronger  cipher
                            suite than normal users.

                            The  format  of <u>privlist</u> is as follows.  Each character represents a privilege level
                            and the character position identifies the cipher suite  number.   For  example,  the
                            first character represents cipher suite 0, the second represents cipher suite 1, and
                            so on.  <u>privlist</u> must be 15 characters in length.

                            Characters used in <u>privlist</u> and their associated privilege levels are:

                            <u>X</u>    Cipher Suite Unused
                            <u>c</u>    CALLBACK
                            <u>u</u>    USER
                            <u>o</u>    OPERATOR
                            <u>a</u>    ADMIN
                            <u>O</u>    OEM

                            So,  to  set  the maximum privilege for cipher suite 0 to USER and suite 1 to ADMIN,
                            issue the following command:

                            &gt; ipmitool -I <u>interface</u> lan set <u>channel</u> cipher_privs uaXXXXXXXXXXXXX

                     <u>bad_pass_thresh</u> &lt;<b>thresh_num</b>&gt; &lt;<b>1|0</b>&gt; &lt;<b>reset_interval</b>&gt; &lt;<b>lockout_interval</b>&gt;

                            Sets the Bad Password Threshold.

                            &lt;<b>thresh_num</b>&gt; If non-zero,  this  value  determines  the  number  of  sequential  bad
                            passwords that will be allowed to be entered for the identified user before the user
                            is automatically disabled from access on the channel.

                            &lt;<b>1|0</b>&gt;  1 = generate a Session Audit sensor "Invalid password disable" event message.
                            0 = do not generate an event message when the user is disabled.

                            &lt;<b>reset_interval</b>&gt; Attempt Count Reset Interval. The interval, in tens of seconds, for
                            which the accumulated count of  bad  password  attempts  is  retained  before  being
                            automatically reset to zero.

                            &lt;<b>lockout_interval</b>&gt; User Lockout Interval. The interval, in tens of seconds, that the
                            user  will  remain  disabled after being disabled because the Bad Password Threshold
                            number was reached.

              <u>alert</u> <u>print</u> [&lt;<b>channel</b>&gt;] [&lt;<b>alert</b> <b>destination</b>&gt;]

                     Print alert information for the specified channel and destination.  The default will  print
                     all alerts for all alert destinations on the first found LAN channel.

              <u>alert</u> <u>set</u> &lt;<b>channel</b> <b>number</b>&gt; &lt;<b>alert</b> <b>destination</b>&gt; &lt;<b>command</b>&gt; &lt;<b>parameter</b>&gt;

                     Set  an alert on the given LAN channel and destination.   Alert Destinations are listed via
                     the '<u>lan</u> <u>alert</u> <u>print</u>' command.  Valid command/parameter options are:

                     <u>ipaddr</u> &lt;<b>x.x.x.x</b>&gt;

                            Set alert IP address.

                     <u>macaddr</u> &lt;<b>xx:xx:xx:xx:xx:xx</b>&gt;

                            Set alert MAC address.

                     <u>gateway</u> &lt;<b>default</b> <b>|</b> <b>backup</b>&gt;

                            Set the channel gateway to use for alerts.

                     <u>ack</u> &lt;<b>on</b> <b>|</b> <b>off</b>&gt;

                            Set Alert Acknowledge on or off.

                     <u>type</u> &lt;<b>pet</b> <b>|</b> <b>oem1</b> <b>|</b> <b>oem2</b>&gt;

                            Set the destination type as PET or OEM.

                     <u>time</u> &lt;<b>seconds</b>&gt;

                            Set ack timeout or unack retry interval.

                     <u>retry</u> &lt;<b>number</b>&gt;

                            Set the number of alert retries.

              <u>stats</u> <u>get</u> [&lt;<b>channel</b> <b>number</b>&gt;]

                     Retrieve information about the IP connections on the specified channel.  The  default  will
                     retrieve statistics on the first found LAN channel.

              <u>stats</u> <u>clear</u> [&lt;<b>channel</b> <b>number</b>&gt;]

                     Clear  all  IP/UDP/RMCP  Statistics  to 0 on the specified channel.  The default will clear
                     statistics on the first found LAN channel.

       <u>mc</u> <u>|</u> <u>bmc</u>

              <u>reset</u> &lt;<b>warm</b>|<b>cold</b>&gt;

                     Instructs the BMC to perform a warm or cold reset.

              <u>guid</u> [<b>smbios</b>|<b>rfc4122</b>|<b>ipmi</b>|<b>dump</b>]

                     Display the Management Controller Globally Unique IDentifier.

                     <u>auto</u>

                            This is the default behavior for

                            Try to automatically detect the encoding based on the value of the version field and
                            (for version 1) the timestamp. The version is considered valid if it is 1 through 5,
                            and the timestamp is valid if the year is past or equal to UNIX Epoch (1970) and  is
                            before or equal to the current year.

                            If multiple encodings happen to have valid version fields, then precedence takes the
                            one  with  version  1  and  a  valid  timestamp.  If  neither one has that, then the
                            precedence order is as follows: <u>smbios</u>, <u>ipmi</u>, <u>rfc4122</u>.

                            If neither encoding yields a valid version field, then
                            defaults to <u>dump</u> mode.

                            If this option is in use, then
                            will also print out the detected encoding  and  warn  regarding  IPMI  specification
                            violation if the encoding isn't <u>ipmi</u>.

                     <u>smbios</u>

                            Decode GUID as if it was sent by BMC as prescribed by SMBIOS specification.

                            <b>NOTE:</b>  This is a violation of IPMI specification, but many BMC implementations do it
                            this way. If your BMC's GUID is shown correctly using this option, you may  want  to
                            inform your BMC manufacturer that they have a bug.

                     <u>ipmi</u>

                            Decode  GUID  according to IPMI specification. It MUST show the correct GUID.  If it
                            doesn't, try other options and inform your BMC manufacturer of the bug.

                     <u>rfc4122</u> or <u>rfc</u>

                            Decode GUID as if it was sent by BMC as prescribed by RFC4122 specification.

                            <b>NOTE:</b> This is a violation of IPMI  specification.   If  your  BMC's  GUID  is  shown
                            correctly  using this option, you may want to inform your BMC manufacturer that they
                            have a bug.

                     <u>dump</u>

                            Dump as hex the data received from BMC in response to Get Device GUID  command.   No
                            decoding or interpretation is performed. First received byte is dumped first.

              <u>info</u>

                     Displays  information about the BMC hardware, including device revision, firmware revision,
                     IPMI version supported, manufacturer ID, and information on additional device support.

              <u>watchdog</u>

                     These commands allow a user to view and change the current state of the watchdog timer.

                     <u>get</u>

                            Show current Watchdog Timer settings and countdown state.

                     <u>reset</u>

                            Reset the Watchdog Timer to its most recent state and restart the countdown timer.

                     <u>off</u>

                            Turn off a currently running Watchdog countdown timer.

              <u>selftest</u>

                     Check on the basic health of the BMC by executing the Get Self  Test  results  command  and
                     report the results.

              <u>getenables</u>

                     Displays a list of the currently enabled options for the BMC.

              <u>setenables</u> &lt;<b>option</b>&gt;=[<u>on</u>|<u>off</u>]

                     Enables  or  disables  the  given  <u>option</u>.   This command is only supported over the system
                     interface according to the IPMI  specification.   Currently  supported  values  for  <u>option</u>
                     include:

                     <u>recv_msg_intr</u>

                            Receive Message Queue Interrupt

                     <u>event_msg_intr</u>

                            Event Message Buffer Full Interrupt

                     <u>event_msg</u>

                            Event Message Buffer

                     <u>system_event_log</u>

                            System Event Logging

                     <u>oem0</u>

                            OEM-Defined option #0

                     <u>oem1</u>

                            OEM-Defined option #1

                     <u>oem2</u>

                            OEM-Defined option #2

              <u>getsysinfo</u> &lt;<b>argument</b>&gt;
                     Retrieves system info from bmc for given argument.
                     See <u>setsysinfo</u> for argument definitions

              <u>setsysinfo</u>  &lt;<b>argument</b>&gt; &lt;<b>string</b>&gt;
                     Stores system info string to bmc for given argument

                     Possible arguments are:

                            <u>primary_os_name</u>     Primary Operating System Name

                            <u>os_name</u>             Operating System Name

                            <u>system_name</u>         System Name of Server

                            <u>delloem_os_version</u> Running version of operating system

                            <u>delloem_URL</u>        URL of BMC Webserver

              <u>chassis</u>

                     <u>status</u>

                            Displays  information regarding the high-level status of the system chassis and main
                            power subsystem.

                     <u>poh</u>

                            This command will return the Power-On Hours counter.

                     <u>identify</u> &lt;<b>interval</b>&gt;

                            Control the front panel identify  light.   Default interval is 15 seconds.  Use 0 to
                            turn off.  Use "force" to turn on indefinitely.

                     <u>restart_cause</u>

                            Query the chassis for the cause of the last system restart.

                     <u>selftest</u>

                            Check on the basic health of the BMC by executing the Get Self Test results  command
                            and report the results.

                     <u>policy</u>

                            Set the chassis power policy in  the  event  power failure.

                            <u>list</u>

                                   Return supported policies.

                            <u>always-on</u>

                                   Turn on when power is restored.

                            <u>previous</u>

                                   Returned to  previous  state  when  power  is restored.

                            <u>always-off</u>

                                   Stay off after power is restored.

                     <u>power</u>

                            Performs a chassis control  command  to  view  and change the power state.

                            <u>status</u>

                                   Show current chassis power status.

                            <u>on</u>

                                   Power up chassis.

                            <u>off</u>

                                   Power  down  chassis into soft off (S4/S5 state).  <b>WARNING</b>: This command does
                                   not initiate a clean shutdown of the operating system prior to powering  down
                                   the system.

                            <u>cycle</u>

                                   Provides  a  power off interval of at least 1 second.  No action should occur
                                   if chassis power is in S4/S5 state, but it  is  recommended  to  check  power
                                   state  first and only issue a power cycle command if the  system  power is on
                                   or in lower sleep state than S4/S5.

                            <u>reset</u>

                                   This command will perform a hard reset.

                            <u>diag</u>

                                   Pulse a diagnostic interrupt (NMI) directly to the processor(s).

                            <u>soft</u>

                                   Initiate a soft-shutdown of OS via ACPI.  This can be done  in  a  number  of
                                   ways,  commonly  by  simulating  an  overtemperture  or by simulating a power
                                   button press.  It is necessary for there to be Operating System  support  for
                                   ACPI and some sort of daemon watching for events for this soft power to work.

                     <u>bootdev</u> &lt;<b>device</b>&gt; [&lt;<u>clear-cmos</u>=<b>yes</b>|<b>no</b>&gt;] [&lt;<u>options</u>=<b>help,...</b>&gt;]

                            Request  the  system  to  boot  from  an  alternate boot device on next reboot.  The
                            <u>clear-cmos</u> option, if supplied, will instruct the BIOS to clear its CMOS on the next
                            reboot.  Various options may be used  to  modify  the  boot  device  settings.   Run
                            <u>"bootdev</u> <u>none</u> <u>options=help"</u> for a list of available boot device modifiers/options.

                            Currently supported values for &lt;device&gt; are:

                            <u>none</u>

                                   Do not change boot device

                            <u>pxe</u>

                                   Force PXE boot

                            <u>disk</u>

                                   Force boot from BIOS default boot device

                            <u>safe</u>

                                   Force boot from BIOS default boot device, request Safe Mode

                            <u>diag</u>

                                   Force boot from diagnostic partition

                            <u>cdrom</u>

                                   Force boot from CD/DVD

                            <u>bios</u>

                                   Force boot into BIOS setup

                            <u>floppy</u>

                                   Force boot from Floppy/primary removable media

                     <u>bootparam</u>

                            Get or set various system boot option parameters.

                            <u>get</u> &lt;<b>param</b> <b>#</b>&gt;

                                   Get boot parameter. Currently supported values for &lt;<b>param</b> <b>#</b>&gt; are:

                                   <u>0</u> - Set In Progress

                                   <u>1</u> - Service Partition Selector

                                   <u>2</u> - Service Partition Scan

                                   <u>3</u> - BMC Boot Flag Valid Bit Clearing

                                   <u>4</u> - Boot Info Acknowledge

                                   <u>5</u> - Boot Flags

                                   <u>6</u> - Boot Initiator Info

                                   <u>7</u> - Boot Initiator Mailbox

                            <u>set</u> &lt;<b>device</b>&gt; [&lt;<u>options</u>=<b>help,...</b>&gt;]

                                   Set boot device parameter used for next boot.  Various options may be used to
                                   change  when  the  the next boot device is cleared.  Run <u>"options=help"</u> for a
                                   list of available bootparam set device options.

                                   Currently supported bootparam <b>device</b> settings are:

                                   <u>force_pxe</u>

                                          Force PXE boot

                                   <u>force_disk</u>

                                          Force boot from default hard-drive

                                   <u>force_safe</u>

                                          Force boot from default hard-drive, request Safe Mode

                                   <u>force_diag</u>

                                          Force boot from diagnostic partition

                                   <u>force_cdrom</u>

                                          Force boot from CD/DVD

                                   <u>force_bios</u>

                                          Force boot into BIOS setup

                                   Currently supported bootparam <b>options</b> settings are associated with BMC Boot
                                   Valid Bit Clearing and are as follows:   Any option can be prefixed with
                                   "no-" to invert the sense of the operation.

                                   <u>PEF</u>

                                          Clear valid bit on reset/power cycle caused by PEF

                                   <u>timeout</u>

                                          Automatically clear boot flag valid bit if Chassis Control command  is
                                          not received within 60 seconds.

                                   <u>watchdog</u>

                                          Clear valid bit on reset/power cycle caused by watchdog timeout

                                   <u>reset</u>

                                          Clear valid bit on push button reset / soft-reset

                                   <u>power</u>

                                          Clear valid bit on power up via power push button or wake event

       <u>nm</u>

              <u>alert</u>

                     <u>clear</u> <u>dest</u> &lt;<b>dest</b>&gt;

                            Clear the Node Manager Alert lan destination.

                     <u>get</u>
                            Get the Node Manager Alert settings.

                     <u>set</u> <u>chan</u> &lt;<b>chan</b>&gt; <u>dest</u> &lt;<b>dest</b>&gt; <u>string</u> &lt;<b>string</b>&gt;

                            Set the Node Manager alert channel, lan destination, and alert string number.

              <u>capability</u>

                     Obtain the Node Manager power control capabilities and ranges.

              <u>control</u>

                     <u>enable</u>|<u>disable</u>

                            <u>global</u>

                                   Enable/disable all policies for all domains.

                            <u>per_domain</u> &lt;platform|CPU|Memory&gt;

                                   Enable/disable all policies of the specified domain.

                            <u>per_policy</u> &lt;0-7&gt;

                                   Enable/disable the policy for the specified domain/policy combination.

              <u>discover</u>

                     Discover  Node  Manager  presence  as well as the Node Manager version, revision, and patch
                     number.

              <u>policy</u>

                     <u>add</u>

                            <u>power</u> &lt;watts&gt; <u>policy_id</u> &lt;0-7&gt; [<u>correction</u> auto|soft|hard] <u>trig_lim</u> &lt;seconds&gt; <u>stats</u>
                            &lt;seconds&gt; [<u>domain</u> &lt;platform|CPU|Memory&gt;] <u>enable</u>|<u>disable</u>

                                   Add a new power policy, or overwrite  an  existing  policy.   The  <u>correction</u>
                                   parameter  is the aggressiveness of frequency limiting, default is auto.  The
                                   <u>trig_lim</u> is the correction time limit and must  be  at  least  6000  and  not
                                   greater than 65535.  The <u>stats</u> setting is the averaging period in seconds and
                                   ranges  from  1-65535.   If  domain  is not supplied a default of platform is
                                   used.

                            <u>inlet</u> &lt;temp&gt; <u>policy_id</u> &lt;0-7&gt; [<u>correction</u> auto|soft|hard] <u>trig_lim</u> &lt;seconds&gt; <u>stats</u>
                            &lt;seconds&gt; [<u>domain</u> &lt;platform|CPU|Memory&gt;] <u>enable</u>|<u>disable</u>

                                   Add a new inlet temp policy, or overwrite an existing policy.  The <u>correction</u>
                                   parameter is the aggressiveness of frequency limiting, default is auto.   The
                                   <u>trig_lim</u>  is  the  correction  time  limit  and must be at least 6000 and not
                                   greater than 65535.  The <u>stats</u> setting is the averaging period in seconds and
                                   ranges from 1-65535.  If domain is not supplied  a  default  of  platform  is
                                   used.

                     <u>get</u> <u>policy_id</u> &lt;0-7&gt;

                            Get a previously stored policy.

                     <u>limiting</u>

                            Report policy number if any policy is limiting power.

                     <u>remove</u> <u>policy_id</u> &lt;0-7&gt; [<u>domain</u> &lt;platform|CPU|Memory&gt;]

                            Remove a policy. If domain is not supplied a default of platform is used.

              <u>power</u> <u>min</u> &lt;minimum&gt; <u>max</u> &lt;maximum&gt; [<u>domain</u> &lt;platform|CPU|Memory&gt;]

                     Configure Node Manager power minimum and maximum power draw limits.  The <u>min</u> and <u>max</u> values
                     must be in the range of 0-65535.  If domain is not supplied a default of platform is used.

              <u>reset</u>

                     <u>comm</u> <u>policy_id</u> &lt;0-7&gt; [<u>domain</u> &lt;platform|CPU|Memory&gt;]

                            Reset Node Manager communication statistics.  If domain is not supplied a default of
                            platform is used.

                     <u>global</u>

                            Reset Node Manager global statistics.

                     <u>memory</u> <u>policy_id</u> &lt;0-7&gt; [<u>domain</u> &lt;platform|CPU|Memory&gt;]

                            Reset  Node  Manager  memory  throttling  statistics.   If  domain is not supplied a
                            default of platform is used.

                     <u>per_policy</u> <u>policy_id</u> &lt;0-7&gt; [<u>domain</u> &lt;platform|CPU|Memory&gt;]

                            Reset Node Manager per policy statistics.  If domain is not supplied  a  default  of
                            platform is used.

                     <u>requests</u> <u>policy_id</u> &lt;0-7&gt; [<u>domain</u> &lt;platform|CPU|Memory&gt;]

                            Reset  Node  Manager  unhandled  requests  statistics.   If domain is not supplied a
                            default of platform is used.

                     <u>response</u> <u>policy_id</u> &lt;0-7&gt; [<u>domain</u> &lt;platform|CPU|Memory&gt;]

                            Reset Node Manager response time statistics.  If domain is not supplied a default of
                            platform is used.

                     <u>throttling</u> <u>policy_id</u> &lt;0-7&gt; [<u>domain</u> &lt;platform|CPU|Memory&gt;]

                            Reset Node Manager throttling statistics.  If domain is not supplied  a  default  of
                            platform is used.

              <u>statistics</u>

                     <u>comm_fail</u>

                            Report Node Manager communication failure statistics.

                     <u>cpu_throttling</u>

                            Report Node Manager cpu throttling statistics.

                     <u>mem_throttling</u>

                            Report Node Manager memory throttling statistics.

                     <u>policy_power</u> <u>policy_id</u> &lt;0-7&gt; [<u>domain</u> &lt;platform|CPU|Memory&gt;]

                            Report  Node  Manager per policy power statistics (policy must be a power limit type
                            policy).  If domain is not supplied a default of platform is used.

                     <u>policy_temps</u> <u>policy_id</u> &lt;0-7&gt; [<u>domain</u> &lt;platform|CPU|Memory&gt;]

                            Report Node Manager per policy temp statistics (policy must be an inlet  temp  limit
                            policy).  If domain is not supplied a default of platform is used.

                     <u>policy_throt</u> <u>policy_id</u> &lt;0-7&gt; [<u>domain</u> &lt;platform|CPU|Memory&gt;]

                            Report  Node  Manager per policy throttling statistics.  If domain is not supplied a
                            default of platform is used.

                     <u>requests</u>

                            Report Node Manager unhandled requests statistics.

                     <u>response</u>

                            Report Node Manager response time statistics.

              <u>suspend</u>

                     <u>get</u> <u>policy_id</u> &lt;0-7&gt; [<u>domain</u> &lt;platform|CPU|Memory&gt;]

                            Get Node Manager policy suspend periods.  If domain is not  supplied  a  default  of
                            platform is used.

                     <u>set</u> <u>policy_id</u> &lt;0-7&gt; [<u>domain</u> &lt;platform|CPU|Memory&gt;] &lt;start&gt; &lt;stop&gt; &lt;repeat&gt;

                            Set  Node  Manager  policy  suspend periods.  If domain is not supplied a default of
                            platform is used.  The &lt;start&gt; and &lt;stop&gt; values must be  in  the  range  of  0-239,
                            which  is  the  number of minutes past midnight divided by 6.  The &lt;repeat&gt; value is
                            the daily recurrence pattern. Bit 0 is repeat every Monday, bit 1  is  repeat  every
                            Tuesday, on through bit 6 for Sunday.

              <u>threshold</u>

                     <u>get</u> <u>policy_id</u> &lt;0-7&gt; [<u>domain</u> &lt;platform|CPU|Memory&gt;]

                            Get  Node  Manager  policy  Alert  Threshold  settings.  If domain is not supplied a
                            default of platform is used.

                     <u>set</u> <u>policy_id</u> &lt;0-7&gt; [<u>domain</u> &lt;platform|CPU|Memory&gt;] <u>thresh_array</u>

                            Set Node Manager policy Alert Threshold values.  If domain is not supplied a default
                            of platform is used.  The <u>thresh_array</u> is 1, 2, or 3 integers that set  three  alert
                            threshold  settings.  The  setting  type  is a power or temperature value which must
                            match the type of policy.

       <u>pef</u>

              <u>info</u>

                     This command will query the BMC and print information about the PEF supported features.

              <u>status</u>

                     This command prints the current PEF status (the last SEL entry processed by the BMC, etc).

              <u>policy</u>

                     This command lists the PEF policy table entries.  Each  policy  entry  describes  an  alert
                     destination.   A  policy set is a collection of table entries.  PEF alert actions reference
                     policy sets.

              <u>list</u>

                     This command lists the PEF table entries.  Each PEF entry relates  a  sensor  event  to  an
                     action.   When  PEF  is  active,  each platform event causes the BMC to scan this table for
                     entries matching the event, and possible actions to be taken.   Actions  are  performed  in
                     priority order (higher criticality first).

       <u>picmg</u> &lt;<b>properties</b>&gt;

              Run  a  PICMG/ATA extended command. Get PICMG properties may be used to obtain and print Extension
              major version information, PICMG identifier, FRU Device ID and Max FRU Device ID.

              <u>addrinfo</u>

                     Get address information.  This command may return  information  on  the  Hardware  address,
                     IPMB-0 Address, FRU ID, Site/Entity ID, and Site/Entity Type.

              <u>frucontrol</u> &lt;<b>fru</b> <b>id</b>&gt; &lt;<b>options</b>&gt;

                     Set various control options:

                     <u>0x00</u>      - Cold Reset

                     <u>0x01</u>      - Warm Reset

                     <u>0x02</u>      - Graceful Reboot

                     <u>0x03</u>      - Issue Diagnostic Interrupt

                     <u>0x04</u>      - Quiesce [AMC only]

                     <u>0x05-0xFF</u> - Cold Reset

              <u>activate</u> &lt;<b>fru</b> <b>id</b>&gt;

                     Activate the specified FRU.

              <u>deactivate</u> &lt;<b>fru</b> <b>id</b>&gt;

                     Deactivate the specified FRU.

              <u>policy</u> <u>get</u> &lt;<b>fru</b> <b>id</b>&gt;

                     Get FRU activation policy.

              <u>policy</u> <u>set</u> &lt;<b>fru</b> <b>id</b>&gt; &lt;<b>lockmask</b>&gt; &lt;<b>lock</b>&gt;

                     Set  FRU  activation  policy.  <b>lockmask</b> is 1 or 0 to indicate action on the deactivation or
                     activation locked bit respectively.  <b>lock</b> is 1 or 0 to set/clear locked bit.

              <u>portstate</u> <b>set</b>|<b>getall</b>|<b>getgranted</b>|<b>getdenied</b> &lt;<b>parameters</b>&gt;
                     Get or set various port states.  See usage for parameter details.

       <u>power</u> &lt;<b>chassis</b> <b>power</b> <b>command</b>&gt;

              Shortcut to the <u>chassis</u> <u>power</u> commands.  See the <u>chassis</u> <u>power</u> commands for usage information.

       <u>raw</u> &lt;<b>netfn</b>&gt; &lt;<b>cmd</b>&gt; [&lt;<b>data</b>&gt;]

              This will allow you to execute raw IPMI commands.   For example to query the POH  counter  with  a
              raw command:

              &gt; ipmitool -v raw 0x0 0xf
              RAW REQ (netfn=0x0 cmd=0xf data_len=0)
              RAW RSP (5 bytes)
              3c 72 0c 00 00

              <b>Note</b>  that  the  OpenIPMI  driver  provided  by the Linux kernel will reject the Get Message, Send
              Message and Read  Event  Message  Buffer  commands  because  it  handles  the  message  sequencing
              internally.

       <u>sdr</u>

              <u>get</u> &lt;<b>id</b>&gt; ... [&lt;<b>id</b>&gt;]

                     Prints information for sensor data records specified by sensor id.

              <u>info</u>

                     This command will query the BMC for Sensor Data Record (SDR) Repository information.

              <u>type</u> [&lt;<b>sensor</b> <b>type</b>&gt;]

                     This command will display all records from the SDR Repository of a specific type.  Run with
                     type  <u>list</u>  (or  simply  with  no type) to see the list of available types.  For example to
                     query for all Temperature sensors:

                     &gt; ipmitool sdr type Temperature
                     Baseboard Temp   | 30h | ok  |  7.1 | 28 degrees C
                     FntPnl Amb Temp  | 32h | ok  | 12.1 | 24 degrees C
                     Processor1 Temp  | 98h | ok  |  3.1 | 57 degrees C
                     Processor2 Temp  | 99h | ok  |  3.2 | 53 degrees C

              <u>list</u> | <u>elist</u> [&lt;<b>all</b>|<b>full</b>|<b>compact</b>|<b>event</b>|<b>mcloc</b>|<b>fru</b>|<b>generic</b>&gt;]

                     This command will read the Sensor Data Records (SDR) and extract sensor  information  of  a
                     given type,  then query each sensor and print its name, reading, and status.  If invoked as
                     <u>elist</u>  then it will also print sensor number, entity id and instance, and asserted discrete
                     states.

                     The default output will only display <u>full</u> and <u>compact</u> sensor types, to see all sensors  use
                     the <u>all</u> type with this command.

                     Valid types are:

                            <u>all</u>

                                   All SDR records (Sensor and Locator)

                            <u>full</u>

                                   Full Sensor Record

                            <u>compact</u>

                                   Compact Sensor Record

                            <u>event</u>

                                   Event-Only Sensor Record

                            <u>mcloc</u>

                                   Management Controller Locator Record

                            <u>fru</u>

                                   FRU Locator Record

                            <u>generic</u>

                                   Generic SDR records

              <u>entity</u> &lt;<b>id</b>&gt;[.&lt;<b>instance</b>&gt;]

                     Displays  all  sensors  associated  with  an entity.  Get a list of valid entity ids on the
                     target system by issuing the <u>sdr</u> <u>elist</u> command.  A list of all entity ids can be  found  in
                     the IPMI specifications.

              <u>dump</u> &lt;<b>file</b>&gt;

                     Dumps  raw SDR data to a file.  This data file can then be used as a local SDR cache of the
                     remote managed system with the <u>-S</u> <u>&lt;file&gt;</u> option on the
                     command line.  This can greatly improve performance over system interface or remote LAN.

              <u>fill</u> <u>sensors</u>

                     Create the SDR Repository for  the  current  configuration.   Will  perform  a  'Clear  SDR
                     Repository' command so be careful.

              <u>fill</u> <u>file</u> &lt;<b>filename</b>&gt;

                     Fill  the  SDR Repository using records stored in a binary data file. Will perform a 'Clear
                     SDR Repository' command so be careful.

       <u>sel</u>

              NOTE: System Event Log (SEL) entry-times are displayed as `Pre-Init Time-stamp' if the  SEL  clock
              needs  to be set.  Ensure that the SEL clock is accurate by invoking the <u>sel</u> <u>time</u> <u>get</u> and <u>sel</u> <u>time</u>
              <u>set</u> <u>&lt;time</u> <u>string&gt;</u> commands.

              <u>info</u>

                     This command will query the BMC for information about the System Event Log  (SEL)  and  its
                     contents.

              <u>clear</u>

                     This command will clear the contents of the SEL.  It cannot be undone so be careful.

              <u>list</u> | <u>elist</u>

                     When this command is invoked without arguments, the entire contents of the System Event Log
                     are displayed.  If invoked as <u>elist</u> (extended list) it will also use the Sensor Data Record
                     entries to display the sensor ID for the sensor that caused each event.  <b>Note</b> this can take
                     a long time over the system interface.

                     &lt;<b>count</b>&gt; | <u>first</u> &lt;<b>count</b>&gt;

                            Displays  the  first <u>count</u> (least-recent) entries in the SEL.  If <u>count</u> is zero, all
                            entries are displayed.

                     <u>last</u> &lt;<b>count</b>&gt;

                            Displays the last <u>count</u> (most-recent) entries in the SEL.  If  <u>count</u>  is  zero,  all
                            entries are displayed.

              <u>delete</u> &lt;<b>SEL</b> <b>Record</b> <b>ID</b>&gt; ... &lt;<b>SEL</b> <b>Record</b> <b>ID</b>&gt;

                     Delete one or more SEL event records.

              <u>add</u> &lt;<b>filename</b> <b>ID</b>&gt;

                     Read  event  entries  from a file and add them to the SEL.  New SEL entries area added onto
                     the SEL after the last record in the SEL.  Record added is of type 2 and  is  automatically
                     timestamped.

              <u>get</u> &lt;<b>SEL</b> <b>Record</b> <b>ID</b>&gt;

                     Print information on the specified SEL Record entry.

              <u>save</u> &lt;<b>file</b>&gt;

                     Save SEL records to a text file that can be fed back into the <u>event</u> <u>file</u>
                     command.  This  can  be  useful  for  testing  Event  generation by building an appropriate
                     Platform Event Message file based on existing events.  Please see the  available  help  for
                     the 'event file ...' command for a description of the format of this file.

              <u>writeraw</u> &lt;<b>file</b>&gt;

                     Save  SEL  records  to  a file in raw, binary format.  This file can be fed back to the <u>sel</u>
                     <u>readraw</u>
                     command for viewing.

              <u>readraw</u> &lt;<b>file</b>&gt;

                     Read and display SEL records from a binary file.  Such a file can be created using the  <u>sel</u>
                     <u>writeraw</u>
                     command.

              <u>time</u>

                     <u>get</u>
                            Displays the SEL clock's current time.

                     <u>set</u> &lt;<b>time</b> <b>string</b>&gt;

                            Sets  the  SEL  clock.   Future  SEL  entries will use the time set by this command.
                            &lt;<b>time</b> <b>string</b>&gt; is using the locale's date / time format. It is recommended  that  the
                            SEL be cleared before setting the time.

       <u>sensor</u>

              <u>list</u>

                     Lists sensors and thresholds in a wide table format.

              <u>get</u> &lt;<b>id</b>&gt; ... [&lt;<b>id</b>&gt;]

                     Prints information for sensors specified by name.

              <u>thresh</u> &lt;<b>id</b>&gt; &lt;<b>threshold</b>&gt; &lt;<b>setting</b>&gt;

                     This  allows  you  to  set a particular sensor threshold value.  The sensor is specified by
                     name.

                     Valid <u>thresholds</u> are:
                            <u>unr</u>  Upper Non-Recoverable
                            <u>ucr</u>  Upper Critical
                            <u>unc</u>  Upper Non-Critical
                            <u>lnc</u>  Lower Non-Critical
                            <u>lcr</u>  Lower Critical
                            <u>lnr</u>  Lower Non-Recoverable

              <u>thresh</u> &lt;<b>id</b>&gt; <u>lower</u> &lt;<b>lnr</b>&gt; &lt;<b>lcr</b>&gt; &lt;<b>lnc</b>&gt;

                     This allows you to set all lower thresholds for a sensor at the same time.  The  sensor  is
                     specified  by  name  and the thresholds are listed in order of Lower Non-Recoverable, Lower
                     Critical, and Lower Non-Critical.

              <u>thresh</u> &lt;<b>id</b>&gt; <u>upper</u> &lt;<b>unc</b>&gt; &lt;<b>ucr</b>&gt; &lt;<b>unr</b>&gt;

                     This allows you to set all upper thresholds for a sensor at the same time.  The  sensor  is
                     specified  by  name  and  the  thresholds  are listed in order of Upper Non-Critical, Upper
                     Critical, and Upper Non-Recoverable.

       <u>session</u>

              <u>info</u> &lt;<b>active</b>|<b>all</b>|<b>id</b> <b>0xnnnnnnnn</b>|<b>handle</b> <b>0xnn</b>&gt;

                     Get information about the specified session(s).  You may identify sessions by their id,  by
                     their  handle  number, by their active status, or by using the keyword `all' to specify all
                     sessions.

       <u>set</u>

              <u>hostname</u> &lt;<b>host</b>&gt;

                     Session hostname.

              <u>username</u> &lt;<b>user</b>&gt;

                     Session username.

              <u>password</u> &lt;<b>pass</b>&gt;

                     Session password.

              <u>privlvl</u> &lt;<b>level</b>&gt;

                     Session privilege level force.

              <u>authtype</u> &lt;<b>type</b>&gt;

                     Authentication type force.

              <u>localaddr</u> &lt;<b>addr</b>&gt;

                     Local IPMB address.

              <u>targetaddr</u> &lt;<b>addr</b>&gt;

                     Remote target IPMB address.

              <u>port</u> &lt;<b>port</b>&gt;

                     Remote RMCP port.

              <u>csv</u> [<b>level</b>]

                     Enable output in comma separated format.  Affects following commands: <u>user</u>, <u>channel</u>,  <u>isol</u>,
                     <u>sunoem</u>, <u>sol</u>, <u>sensor</u>, <u>sdr</u>, <u>sel</u>, <u>session</u>.

              <u>verbose</u> [<b>verbose</b>]

                     Verbosity level.

       <u>shell</u>
              This command will launch an interactive shell which you can use to send multiple
              commands to a BMC and see the responses. This can be useful instead of running the full
              command  each  time.  Some  commands  will make use of a Sensor Data Record cache and you will see
              marked improvement in speed if these commands are able to reuse the same cache in a shell session.
              LAN sessions will send a periodic keepalive command to keep the IPMI session from timing out.

       <u>sol</u>

              <u>info</u> [&lt;<b>channel</b> <b>number</b>&gt;]

                     Retrieve information about the Serial-Over-LAN configuration on the specified channel.   If
                     no channel is given, it will display SOL configuration data for the currently used channel.

              <u>payload</u> &lt;<u>enable</u> | <u>disable</u> | <u>status</u>&gt; &lt;<b>channel</b> <b>number</b>&gt; &lt;<b>userid</b>&gt;

                     Enable, disable or show status of SOL payload for the user on the specified channel.

              <u>set</u> &lt;<b>parameter</b>&gt; &lt;<b>value</b>&gt; [&lt;<b>channel</b>&gt;]

                     Configure  parameters  for  Serial  Over  Lan.  If no channel is given, it will display SOL
                     configuration data for the currently used channel.   Configuration  parameter  updates  are
                     automatically guarded with the updates to the set-in-progress parameter.

                     Valid parameters and values are:

                     <u>set-in-progress</u>
                            set-complete set-in-progress commit-write

                     <u>enabled</u>
                            true false

                     <u>force-encryption</u>
                            true false

                     <u>force-authentication</u>
                            true false

                     <u>privilege-level</u>
                            user operator admin oem

                     <u>character-accumulate-level</u>
                            Decimal number given in 5 milliseconds increments

                     <u>character-send-threshold</u>
                            Decimal number

                     <u>retry-count</u>
                            Decimal number.  0 indicates no retries after packet is transmitted.

                     <u>retry-interval</u>
                            Decimal  number  in  10  millisecond increments.  0 indicates that retries should be
                            sent back to back.

                     <u>non-volatile-bit-rate</u>
                            serial, 19.2, 38.4, 57.6, 115.2.  Setting this value to serial  indicates  that  the
                            BMC should use the setting used by the IPMI over serial channel.

                     <u>volatile-bit-rate</u>
                            serial,  19.2,  38.4,  57.6, 115.2.  Setting this value to serial indicates that the
                            BMC should use the setting used by the IPMI over serial channel.

              <u>activate</u> [<u>usesolkeepalive</u> | <u>nokeepalive</u>] [<u>instance=&lt;number&gt;</u>]

                     Causes
                     to enter Serial Over LAN mode, and is only available when using the lanplus interface.   An
                     RMCP+  connection  is  made  to the BMC, the terminal is set to raw mode, and user input is
                     sent to the serial console on the remote server.  On exit, the  the  SOL  payload  mode  is
                     deactivated and the terminal is reset to its original settings.

                     If the instance is given, it will activate using the given instance number.  The default is
                     1.

                     Special escape sequences are provided to control the SOL session:

                            <u>~.</u>   Terminate connection

                            <u>~^Z</u>  Suspend ipmitool

                            <u>~^X</u>  Suspend ipmitool, but don't restore tty on restart

                            <u>~B</u>   Send break

                            <u>~~</u>   Send the escape character by typing it twice

                            <u>~?</u>   Print the supported escape sequences

                     Note that escapes are only recognized immediately after newline.

              <u>deactivate</u> [<u>instance=&lt;number&gt;</u>]

                     Deactivates  Serial  Over  LAN  mode  on  the  BMC.   Exiting  Serial  Over LAN mode should
                     automatically cause this command to be sent to the BMC, but in the case of an unintentional
                     exit from SOL mode, this command may be necessary to reset the state of the BMC.

                     If the instance is given, it will deactivate the given instance number.  The default is 1.

       <u>spd</u> &lt;<b>i2cbus</b>&gt; &lt;<b>i2caddr</b>&gt; [&lt;<b>channel</b>&gt;] [&lt;axread&gt;]

              This command may be used to read SPD (Serial Presence Detect) data using the I2C Master Write-Read
              IPMI command.

       <u>sunoem</u>

              <u>cli</u> [&lt;<b>command</b> <b>string</b>&gt; ...]

                     Execute the service processor command line interface commands.  Without any command string,
                     an interactive session is started in the service processor command line environment.  If  a
                     command  string  is  specified, the command string is executed on the service processor and
                     the connection is closed.

              <u>led</u>

                     These commands provide a way to get and set the  status  of  LEDs  on  a  Sun  Microsystems
                     server.   Use  'sdr list generic' to get a list of devices that are controllable LEDs.  The
                     <u>ledtype</u> parameter is optional and not necessary to provide on the command line unless it is
                     required by hardware.

                     <u>get</u> &lt;<b>sensorid</b>&gt; [&lt;<b>ledtype</b>&gt;]

                            Get status of a particular LED described by a Generic Device Locator record  in  the
                            SDR.  A sensorid of <u>all</u> will get the status of all available LEDS.

                     <u>set</u> &lt;<b>sensorid</b>&gt; &lt;<b>ledmode</b>&gt; [&lt;<b>ledtype</b>&gt;]

                            Set  status  of a particular LED described by a Generic Device Locator record in the
                            SDR.  A sensorid of <u>all</u> will set the status of all available LEDS to  the  specified
                            <u>ledmode</u> and <u>ledtype</u>.

                     LED Mode is required for set operations:
                            <u>OFF</u>         Off
                            <u>ON</u>          Steady On
                            <u>STANDBY</u>     100ms on 2900ms off blink rate
                            <u>SLOW</u>        1HZ blink rate
                            <u>FAST</u>        4HZ blink rate

                     LED Type is optional:
                            <u>OK2RM</u>       Ok to Remove
                            <u>SERVICE</u>     Service Required
                            <u>ACT</u>         Activity
                            <u>LOCATE</u>      Locate

              <u>nacname</u> &lt;<b>ipmi</b> <b>name</b>&gt;

                     Return the full NAC name of a target identified by ipmi name.

              <u>ping</u> &lt;<b>count</b>&gt; [&lt;<b>q</b>&gt;]

                     Send and receive count packets. Each packet is 64 bytes.

                     q - Quiet. Displays output only at the start and end of the process.

              <u>getval</u> &lt;<b>property</b> <b>name</b>&gt;

                     Returns value of specified ILOM property.

              <u>setval</u> &lt;<b>property</b> <b>name</b>&gt; &lt;<b>property</b> <b>value</b>&gt; [&lt;<b>timeout</b>&gt;]

                     Sets  value of ILOM  property. If timeout is not specified, the default value is 5 seconds.
                     NOTE: setval must be executed locally on host!

              <u>sshkey</u>

                     <u>set</u> &lt;<b>userid</b>&gt; &lt;<b>keyfile</b>&gt;

                            This command will allow you to specify an SSH key to use for a  particular  user  on
                            the  Service  Processor.  This key will be used for CLI logins to the SP and not for
                            IPMI sessions. View available users and their userids with the 'user list' command.

                     <u>del</u> &lt;<b>userid</b>&gt;

                            This command will delete the SSH key for a specified userid.

              <u>version</u>

                     Display the version of ILOM firmware.

              <u>getfile</u> &lt;<b>file</b> <b>identifier</b>&gt; &lt;<b>destination</b> <b>file</b> <b>name</b>&gt;

                     This command will return various files from service processor and store them  in  specified
                     destination file. Note that some files may not be present or be supported by your SP.

                     File identifiers:
                            <u>SSH_PUBKEYS</u>
                            <u>DIAG_PASSED</u>
                            <u>DIAG_FAILED</u>
                            <u>DIAG_END_TIME</u>
                            <u>DIAG_INVENTORY</u>
                            <u>DIAG_TEST_LOG</u>
                            <u>DIAG_START_TIME</u>
                            <u>DIAG_UEFI_LOG</u>
                            <u>DIAG_TEST_LOG</u>
                            <u>DIAG_LAST_LOG</u>
                            <u>DIAG_LAST_CMD</u>

              <u>getbehavior</u> &lt;<b>feature</b> <b>identifier</b>&gt;

                     This command will test if various ILOM features are enabled.

                     Feature identifiers:
                            <u>SUPPORTS_SIGNED_PACKAGES</u>
                            <u>REQUIRES_SIGNED_PACKAGES</u>

       <u>tsol</u>

              This command allows Serial-over-LAN sessions to be established with Tyan IPMIv1.5 SMDC such as the
              M3289 or M3290.  The default command run with no arguments will establish default SOL session back
              to local IP address.  Optional arguments may be supplied in any order.

              <u>&lt;ipaddr&gt;</u>

                     Send  receiver  IP address to SMDC which it will use to send serial traffic to.  By default
                     this detects the local IP address and establishes two-way session.   Format  of  ipaddr  is
                     XX.XX.XX.XX

              <u>port=NUM</u>

                     Configure UDP port to receive serial traffic on.  By default this is 6230.

              <u>ro|rw</u>

                     Confiure SOL session as read-only or read-write.  Sessions are read-write by default.

       <u>user</u>

              <u>summary</u>

                     Displays  a  summary of userid information, including maximum number of userids, the number
                     of enabled users, and the number of fixed names defined.

              <u>list</u>

                     Displays a list of user information for all defined userids.

              <u>set</u>

                     <u>name</u> &lt;<b>userid</b>&gt; &lt;<b>username</b>&gt;

                            Sets the username associated with the given userid.

                     <u>password</u> &lt;<b>userid</b>&gt; [&lt;<b>password</b>&gt; [&lt;<b>16|20</b>&gt;]]

                            Sets the password for the given userid.  If no password is given,  the  password  is
                            cleared  (set  to  the  NULL  password).   Be  careful  when removing passwords from
                            administrator-level accounts.   If  specified,  16  or  20  determines  the  maximum
                            password length.

              <u>disable</u> &lt;<b>userid</b>&gt;

                     Disables access to the BMC by the given userid.

              <u>enable</u> &lt;<b>userid</b>&gt;

                     Enables access to the BMC by the given userid.

              <u>priv</u> &lt;<b>userid</b>&gt; &lt;<b>privilege</b> <b>level</b>&gt; [&lt;<b>channel</b> <b>number</b>&gt;]

                     Set  user  privilege  level on the specified channel.  If the channel is not specified, the
                     current channel will be used.

              <u>test</u> &lt;<b>userid</b>&gt; &lt;<b>16</b>|<b>20</b>&gt; [&lt;<b>password</b>&gt;]

                     Determine whether a password has been stored as 16 or 20 bytes.

</pre><h4><b>OPEN</b> <b>INTERFACE</b></h4><pre>
       The
       <u>open</u> interface utilizes the OpenIPMI kernel device driver.  This driver is present in all modern 2.4  and
       all  2.6  kernels  and  it  should  be present in recent Linux distribution kernels.  There are also IPMI
       driver kernel patches for different kernel versions available from the OpenIPMI homepage.

       The required kernel modules is different for 2.4 and 2.6 kernels.  The following kernel modules  must  be
       loaded on a 2.4-based kernel in order for
       to work:

       <b>ipmi_msghandler</b>
              Incoming and outgoing message handler for IPMI interfaces.

       <b>ipmi_kcs_drv</b>
              An IPMI Keyboard Controller Style (KCS) interface driver for the message handler.

       <b>ipmi_devintf</b>
              Linux character device interface for the message handler.

       The following kernel modules must be loaded on a 2.6-based kernel in order for
       to work:

       <b>ipmi_msghandler</b>
              Incoming and outgoing message handler for IPMI interfaces.

       <b>ipmi_si</b>
              An IPMI system interface driver for the message handler.  This module supports various IPMI system
              interfaces such as KCS, BT, SMIC, and even SMBus in 2.6 kernels.

       <b>ipmi_devintf</b>
              Linux character device interface for the message handler.

       Once  the  required  modules are loaded there will be a dynamic character device entry that must exist at
       <b>/dev/ipmi0</b>.  For systems that use devfs or udev this will appear at <b>/dev/ipmi/0</b>.

       To create the device node first determine what dynamic major number it was  assigned  by  the  kernel  by
       looking in <b><a href="file:/proc/devices">/proc/devices</a></b> and checking for the <u>ipmidev</u> entry.  Usually if this is the first dynamic device
       it  will be major number <b>254</b> and the minor number for the first system interface is <b>0</b> so you would create
       the device entry with:

       <u>mknod</u> <u>/dev/ipmi0</u> <u>c</u> <u>254</u> <u>0</u>

       includes some sample initialization scripts that can perform this task automatically at start-up.

       In order to have
       use the OpenIPMI device interface you can specify it on the command line:

       &gt; ipmitool <b>-I</b> <u>open</u> &lt;<u>command</u>&gt;

</pre><h4><b>BMC</b> <b>INTERFACE</b></h4><pre>
       The ipmitool bmc interface utilizes the <u>bmc</u> device driver as provided by Solaris 10 and higher.  In order
       to force ipmitool to make use of this interface you can specify it on the command line:

       &gt; ipmitool <b>-I</b> <u>bmc</u> &lt;<u>command</u>&gt;

       The following files are associated with the bmc driver:

       <b>/platform/i86pc/kernel/drv/bmc</b>
              32-bit <b>ELF</b> kernel module for the bmc driver.

       <b>/platform/i86pc/kernel/drv/amd64/bmc</b>
              64-bit <b>ELF</b> kernel module for the bmc driver.

       <b>/dev/bmc</b>
              Character device node used to communicate with the bmc driver.

</pre><h4><b>LIPMI</b> <b>INTERFACE</b></h4><pre>
       The
       <u>lipmi</u> interface uses the Solaris 9 IPMI kernel device  driver.   It  has  been  superceeded  by  the  <u>bmc</u>
       interface on Solaris 10.  You can tell
       to use this interface by specifying it on the command line.

       &gt; ipmitool <b>-I</b> <u>lipmi</u> &lt;<u>expression</u>&gt;

</pre><h4><b>LAN</b> <b>INTERFACE</b></h4><pre>
       The
       <u>lan</u>  interface  communicates  with  the  BMC  over  an Ethernet LAN connection using UDP under IPv4.  UDP
       datagrams are formatted to contain IPMI request/response messages with a IPMI session  headers  and  RMCP
       headers.

       IPMI-over-LAN  uses  version  1  of  the  Remote Management Control Protocol (RMCP) to support pre-OS and
       OS-absent management.  RMCP is a request-response protocol delivered using UDP datagrams to port 623.

       The LAN interface is an authentication multi-session connection; messages delivered to the BMC  can  (and
       should)  be  authenticated  with  a  challenge/response protocol with either straight password/key or MD5
       message-digest algorithm.
       will attempt to connect with administrator privilege level as this is required to perform  chassis  power
       functions.

       You can tell
       to use the lan interface with the <b>-I</b> <u>lan</u> option:

       &gt; ipmitool <b>-I</b> <u>lan</u> <b>-H</b> &lt;<u>hostname</u>&gt; [<b>-U</b> &lt;<u>username</u>&gt;] [<b>-P</b> &lt;<u>password</u>&gt;] &lt;<u>command</u>&gt;

       A  hostname  must  be  given  on  the  command  line in order to use the lan interface with <b>ipmitool</b>. The
       password field is optional; if you do not provide a password on the command line,
       will attempt to connect without authentication.  If you specify a password it will use MD5 authentication
       if supported by the BMC and straight password/key  otherwise,  unless  overridden  with  a  command  line
       option.

</pre><h4><b>LANPLUS</b> <b>INTERFACE</b></h4><pre>
       Like  the  <u>lan</u> interface, the <u>lanplus</u> interface communicates with the BMC over an Ethernet LAN connection
       using UDP under IPv4.  The difference is that the <u>lanplus</u> interface uses the RMCP+ protocol as  described
       in  the  IPMI v2.0 specification.  RMCP+ allows for improved authentication and data integrity checks, as
       well as encryption and the ability to carry multiple types of payloads.  Generic Serial Over LAN  support
       requires RMCP+, so the
       <u>sol</u> <u>activate</u> command requires the use of the <u>lanplus</u> interface.

       RMCP+   session   establishment   uses  a  symmetric  challenge-response  protocol  called  RAKP  (<b>Remote</b>
       <b>Authenticated</b> <b>Key-Exchange</b> <b>Protocol</b>) which allows the negotiation of many options.
       does not yet allow the user to specify the value of every option, defaulting to the most obvious settings
       marked as required in the v2.0 specification.  Authentication and integrity HMACS are produced with SHA1,
       and encryption is performed with AES-CBC-128.  Role-level logins are not yet supported.

       must be linked with the <u>OpenSSL</u> library in order to perform the  encryption  functions  and  support  the
       <u>lanplus</u> interface.  If the required packages are not found it will not be compiled in and supported.

       You can tell
       to use the lanplus interface with the <b>-I</b> <u>lanplus</u> option:

       &gt; ipmitool <b>-I</b> <u>lanplus</u> <b>-H</b> &lt;<u>hostname</u>&gt; [<b>-U</b> &lt;<u>username</u>&gt;] [<b>-P</b> &lt;<u>password</u>&gt;] &lt;<u>command</u>&gt;

       A  hostname  must  be given on the command line in order to use the lan interface with <b>ipmitool</b>. With the
       exception of the <b>-A</b> and <b>-C</b> options the rest of the command line options are identical to those  available
       for the <u>lan</u> interface.

       The  <b>-C</b> option allows you specify the authentication, integrity, and encryption algorithms to use for for
       <u>lanplus</u> session based on the cipher suite ID found in the IPMIv2.0 specification  in  table  22-20.   The
       default  cipher  suite  is <u>17</u> which specifies RAKP-HMAC-SHA256 authentication, HMAC-SHA256-128 integrity,
       and AES-CBC-128 encryption algorithms.

</pre><h4><b>FREE</b> <b>INTERFACE</b></h4><pre>
       The
       <u>free</u> interface utilizes the FreeIPMI libfreeipmi drivers.

       You can tell
       to use the FreeIPMI interface with the -I option:

       &gt; ipmitool <b>-I</b> <u>free</u> &lt;<u>command</u>&gt;

</pre><h4><b>IMB</b> <b>INTERFACE</b></h4><pre>
       The
       <u>imb</u> interface supports the Intel IMB (Intel Inter-module Bus) Interface through the /dev/imb device.

       You can tell
       to use the IMB interface with the -I option:

       &gt; ipmitool <b>-I</b> <u>imb</u> &lt;<u>command</u>&gt;

</pre><h4><b>EXAMPLES</b></h4><pre>
       <u>Example</u> <u>1</u>: Listing remote sensors

              &gt; ipmitool -I lan -H 1.2.3.4 -f passfile sdr list
              Baseboard 1.25V  | 1.24 Volts        | ok
              Baseboard 2.5V   | 2.49 Volts        | ok
              Baseboard 3.3V   | 3.32 Volts        | ok

       <u>Example</u> <u>2</u>: Displaying status of a remote sensor

              &gt; ipmitool -I lan -H 1.2.3.4 -f passfile sensor get "Baseboard 1.25V"
              Locating sensor record...
              Sensor ID              : Baseboard 1.25V (0x10)
              Sensor Type (Analog)   : Voltage
              Sensor Reading         : 1.245 (+/- 0.039) Volts
              Status                 : ok
              Lower Non-Recoverable  : na
              Lower Critical         : 1.078
              Lower Non-Critical     : 1.107
              Upper Non-Critical     : 1.382
              Upper Critical         : 1.431
              Upper Non-Recoverable  : na

       <u>Example</u> <u>3</u>: Displaying the power status of a remote chassis

              &gt; ipmitool -I lan -H 1.2.3.4 -f passfile chassis power status
              Chassis Power is on

       <u>Example</u> <u>4</u>: Controlling the power on a remote chassis

              &gt; ipmitool -I lan -H 1.2.3.4 -f passfile chassis power on
              Chassis Power Control: Up/On

</pre><h4><b>FILES</b></h4><pre>
       <b>/usr/share/misc/enterprise-numbers.txt</b>
              system IANA PEN registry taken from https://www.iana.org/assignments/enterprise-numbers.txt

       <b><a href="file:~/.local/usr/share/misc/enterprise-numbers.txt">~/.local/usr/share/misc/enterprise-numbers.txt</a></b>
              user's override for the system IANA PEN registry, this file if it exists is loaded instead of  the
              system registry (see above).

</pre><h4><b>AUTHORS</b></h4><pre>
       Originally written by Duncan Laurie &lt;<a href="mailto:duncan@iceblink.org">duncan@iceblink.org</a>&gt;.
       Numerous contributors over time.

</pre><h4><b>BUGS</b></h4><pre>
       Any     bugs     found     in     <u>ipmitool</u>     please    report    via    <u>GitHub</u>    issue    system    at
       https://github.com/ipmitool/ipmitool/issues

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       IPMItool Homepage
              <a href="http://github.com/ipmitool/ipmitool">http://github.com/ipmitool/ipmitool</a>

       Intelligent Platform Management Interface Specification
              <a href="http://www.intel.com/design/servers/ipmi">http://www.intel.com/design/servers/ipmi</a>

       OpenIPMI Homepage
              <a href="http://openipmi.sourceforge.net">http://openipmi.sourceforge.net</a>

       FreeIPMI Homepage
              <a href="http://www.gnu.org/software/freeipmi/">http://www.gnu.org/software/freeipmi/</a>

Duncan Laurie                                                                                        <u><a href="../man1/ipmitool.1.html">ipmitool</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>