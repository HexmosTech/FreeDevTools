<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>flvmeta - manipulate or extract metadata in Adobe Flash Video files</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/flvmeta">flvmeta_1.2.2-1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       flvmeta - manipulate or extract metadata in Adobe Flash Video files

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>flvmeta</b> <u>INPUT_FILE</u>
       <b>flvmeta</b> <u>INPUT_FILE</u> <u>OUTPUT_FILE</u>
       <b>flvmeta</b> -D|--dump [<u>options</u>] <u>INPUT_FILE</u>
       <b>flvmeta</b> -F|--full-dump [<u>options</u>] <u>INPUT_FILE</u>
       <b>flvmeta</b> -C|--check [<u>options</u>] <u>INPUT_FILE</u>
       <b>flvmeta</b> -U|--update [<u>options</u>] <u>INPUT_FILE</u> [<u>OUTPUT_FILE</u>]

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>flvmeta</b>  is  a  command-line  utility  aimed  at  manipulating Adobe(tm) Flash Video files (FLV), through
       several commands, only one of which can be used for each invocation of the program.

       It possesses the ability to compute and inject a variety of values in the <u>onMetaData</u> event tag, including
       keyframe  indices  used  by  most  video  players  to  allow  random-access  seeking,  notably  for  HTTP
       pseudo-streamed  files  via a server-side module, by having the client send the file offset looked up for
       the nearest desired keyframe.
       Tools such as <b>flvmeta</b> must be used in the case the initial encoding process is  unable  to  inject  those
       metadata.

       It can also optionnally inject the <u>onLastSecond</u> event, used to signal the end of playback, for example to
       revert the player software to a `stopped' state.

       <b>flvmeta</b>  also has the ability to dump metadata and full file information to standard output, in a variety
       of textual output formats, including XML, YAML, and JSON.

       Finally, the program can analyze FLV files to detect  potential  problems  and  errors,  and  generate  a
       textual  report  as  a  raw format, as JSON, or as XML.  It has the ability to detect more than a hundred
       problems, going from harmless to potentially unplayable, using a few real world encountered issues.

       <b>flvmeta</b> can operate on arbitrarily large  files,  and  can  handle  FLV  files  using  extended  (32-bit)
       timestamps.  It can guess video frame dimensions for all known video codecs supported by the official FLV
       specification.

       Its  memory  usage remains minimal, as it uses a two-pass reading algorithm which permits the computation
       of all necessary tags without loading anything more than the file’s tags headers in memory.

</pre><h4><b>COMMANDS</b></h4><pre>
       Only one command can be specified for an invocation of <b>flvmeta</b>.  The chosen command determines  the  mode
       of execution of the program.

       By  default,  if  no command is specified, <b>flvmeta</b> will implicitly choose the command to use according to
       the presence of <u>INPUT_FILE</u> and <u>OUTPUT_FILE</u>.

       If only <u>INPUT_FILE</u> is present, the <b>--dump</b> command will be executed.

       If both <u>INPUT_FILE</u> and <u>OUTPUT_FILE</u> are present, the <b>--update</b> command will be executed.

       Here is a list of the supported commands:

   <b>-D,</b> <b>--dump</b>
       Dump a textual representation of the first <u>onMetaData</u> tag found in <u>INPUT_FILE</u> to  standard  output.   The
       default format is XML, unless specified otherwise.
       It is also possible to specify another event via the <b>--event</b> option, such as <u>onLastSecond</u>.

   <b>-F,</b> <b>--full-dump</b>
       Dump a textual representation of the whole contents of <u>INPUT_FILE</u> to standard output.  The default format
       is XML, unless specified otherwise.

   <b>-C,</b> <b>--check</b>
       Print  a  report  to  standard  output  listing  warnings  and  errors detected in <u>INPUT_FILE</u>, as well as
       potential incompatibilities, and information about the codecs used in the file.  The exit  code  will  be
       set to a non-zero value if there is at least one error in the file.

       The  output format can either be plain text, XML using the <b>--xml</b> option, or JSON using the <b>--json</b> option.
       It can also be disabled altogether using the <b>--quiet</b> option if  you  are  only  interested  in  the  exit
       status.

       Messages are divided into four specific levels of increasing importance:

       • <b>info</b>: informational messages that do not pertain to the file validity
       • <b>warning</b>:  messages  that inform of oddities to the flv format but that might not hamper file reading or
         playability, this is the default level
       • <b>error</b>: messages that inform of errors that might render the file impossible to play or stream correctly
       • <b>fatal</b>: messages that inform of errors that  make  further  file  reading  impossible  therefore  ending
         parsing completely

       The  <b>--level</b>  option  allows <b>flvmeta</b> to limit the display of messages to a minimum level among those, for
       example if the user is only interested in error messages and above.

       Each message or message template presented to the user is identified by a specific code of the  following
       format:

       [level][topic][id]

       • <b>level</b>  is  an  upper-case  letter that can be either I, W, E, F according to the aforementioned message
         levels
       • <b>topic</b> is a two-digit integer representing the general topic of the message
       • <b>id</b> is a unique three-digit identifier for the message, or message template if parameterized

       Messages can be related to the following topics :

       • <b>10</b> general flv file format
       • <b>11</b> file header
       • <b>12</b> previous tag size
       • <b>20</b> tag format
       • <b>30</b> tag types
       • <b>40</b> timestamps
       • <b>50</b> audio data
       • <b>51</b> audio codecs
       • <b>60</b> video data
       • <b>61</b> video codecs
       • <b>70</b> metadata
       • <b>80</b> AMF data
       • <b>81</b> keyframes
       • <b>82</b> cue points

       For example,  represents a Warning in topic 51 with the  id  050,  which  represents  a  warning  message
       related to audio codecs, in that case to signal that an audio tag has an unknown codec.

   <b>-U,</b> <b>--update</b>
       Update the given input file by inserting a computed <u>onMetaData</u> tag.  If <u>OUTPUT_FILE</u> is specified, it will
       be created or overwritten instead and the input file will not be modified.  If the original file is to be
       updated,  a  temporary file will be created in the default temp directory of the platform, and it will be
       copied over the original file at the end of the operation.  This is due to the fact that the output  file
       is written while the original file is being read due to the two-pass method.

       The  computed  metadata  contains  among  other  data  full  keyframe information, in order to allow HTTP
       pseudo-streaming and random-access seeking in the file.

       By default, an <u>onLastSecond</u> tag will be inserted, unless the <b>--no-last-second</b> option is specified.

       Normally overwritten by the update process, the  existing  metadata  found  in  the  input  file  can  be
       preserved by the <b>--preserve</b> option.

       It is also possible to insert custom string values with the <b>--add</b> option, which can be specified multiple
       times.

       By  default,  the update operation is performed without output, unless the <b>--verbose</b> option is specified,
       or the <b>--print-metadata</b> is used to print the newly written metadata to the standard output.

</pre><h4><b>OPTIONS</b></h4><pre>
   <b>DUMP</b>
       -d <u>FORMAT</u>, --dump-format=<u>FORMAT</u>
              specify dump format where <u>FORMAT</u> is `xml' (default), `json', `raw', or  `yaml'.   Also  applicable
              for the <b>--full-dump</b> command.

       -j, --json
              equivalent to <b>--dump-format=json</b>

       -r, --raw
              equivalent to <b>--dump-format=raw</b>

       -x, --xml
              equivalent to <b>--dump-format=xml</b>

       -y, --yaml
              equivalent to <b>--dump-format=yaml</b>

       -e <u>EVENT</u>, --event=<u>EVENT</u>
              specify the event to dump instead of <u>onMetaData</u>, for example <u>onLastSecond</u>

   <b>CHECK</b>
       -l <u>LEVEL</u>, --level=<u>LEVEL</u>
              print  only  messages  where  level  is  at least <u>LEVEL</u>.  The levels are, by ascending importance,
              `info', `warning' (default), `error', or `fatal'.

       -q, --quiet
              do not print messages, only return the status code

       -x, --xml
              generate an XML report instead of the default `compiler-friendly' text

       -j, --json
              generate a JSON report instead of the default `compiler-friendly' text

   <b>UPDATE</b>
       -m, --print-metadata
              print metadata to stdout after update using the format specified by the <b>--format</b> option

       -a <u>NAME=VALUE</u>, --add=<u>NAME=VALUE</u>
              add a metadata string value to the output file.  The name/value pair will be appended at  the  end
              of the <u>onMetaData</u> tag.

       -s, --no-lastsecond
              do not create the <u>onLastSecond</u> tag

       -p, --preserve
              preserve input file existing <u>onMetadata</u> tags

       -f, --fix
              fix invalid tags from the input file

       -i, --ignore
              ignore  invalid tags from the input file (the default behaviour is to stop the update process with
              an error)

       -t, --reset-timestamps
              reset timestamps so <u>OUTPUT_FILE</u> starts at zero.  This has been added because some  FLV  files  are
              produced  by  cutting  bigger  files,  and  the  software  doing  the  cutting does not resets the
              timestamps as required by the standard, which can cause playback issues.

       -k, –all-keyframes
              index all keyframe tags, including duplicate timestamps

   <b>GENERAL</b>
       -v, --verbose
              display informative messages

       -V, --version
              print version information and exit

       -h, --help
              display help on the program usage and exit

</pre><h4><b>FORMATS</b></h4><pre>
       The various XML formats used by <b>flvmeta</b> are precisely described by the following XSD schemas:

       • <a href="http://schemas.flvmeta.org/flv.xsd">http://schemas.flvmeta.org/flv.xsd</a>: describes the general organization of FLV files

       • <a href="http://schemas.flvmeta.org/Amf0.xsd">http://schemas.flvmeta.org/Amf0.xsd</a>:  describes  an  XML   representation   of   the   Adobe(TM)   AMF0
         serialization format

       • <a href="http://schemas.flvmeta.org/report.xsd">http://schemas.flvmeta.org/report.xsd</a>: describes the XML output format of the <b>--check</b> <b>--xml</b> command

</pre><h4><b>EXAMPLES</b></h4><pre>
       <b>flvmeta</b> <b>example.flv</b>

       Prints the onMetadata tag contents of example.flv as XML output.

       <b>flvmeta</b> <b>example.flv</b> <b>out.flv</b>

       Creates  a  file  named  out.flv containing updated metadata and an onLastSecond tag from the exemple.flv
       file.

       <b>flvmeta</b> <b>--check</b> <b>--xml</b> <b>--level=error</b> <b>example.flv</b>

       Checks the validity of the example.flv file and  prints  the  error  report  to  stdout  in  XML  format,
       displaying only errors and fatal errors.

       <b>flvmeta</b> <b>--full-dump</b> <b>--yaml</b> <b>example.flv</b>

       Prints the full contents of example.flv as YAML format to stdout.

       <b>flvmeta</b> <b>--update</b> <b>--no-last-second</b> <b>--show-metadata</b> <b>--json</b> <b>example.flv</b>

       Performs  an in-place update of example.flv by inserting computed onMetadata without an onLastSecond tag,
       and prints the newly inserted metadata on stdout as JSON.

</pre><h4><b>EXIT</b> <b>STATUS</b></h4><pre>
       • <b>0</b> flvmeta exited without error
       • <b>1</b> an error occurred when trying to open an input file

       • <b>2</b> the input file was not recognized as an FLV file
       • <b>3</b> an end-of-file condition was encountered unexpectedly
       • <b>4</b> a memory allocation error occurred during the run of the program

       • <b>5</b> an empty tag was encountered in an input file
       • <b>6</b> an error occurred when trying to open an output file

       • <b>7</b> an invalid tag was encountered in an input file
       • <b>8</b> an error was encountered while writing an output file
       • <b>9</b> the <b>--check</b> command reported an invalid file (one or more errors)

</pre><h4><b>BUGS</b></h4><pre>
       <b>flvmeta</b> does not support encrypted FLV files yet.

</pre><h4><b>AUTHOR</b></h4><pre>
       Marc Noirot &lt;<a href="mailto:marc.noirot@gmail.com">marc.noirot@gmail.com</a>&gt;

</pre><h4><b>COPYRIGHT</b></h4><pre>
       Copyright 2007-2016 Marc Noirot

       This is free software; see the source for copying  conditions.   There  is  NO  warranty;  not  even  for
       MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.

</pre><h4><b>CONTACT</b></h4><pre>
       Please report bugs to &lt;<a href="mailto:flvmeta-discussion@googlegroups.com">flvmeta-discussion@googlegroups.com</a>&gt;

flvmeta user manual                               January 2014                                        <u><a href="../man1/flvmeta.1.html">flvmeta</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>