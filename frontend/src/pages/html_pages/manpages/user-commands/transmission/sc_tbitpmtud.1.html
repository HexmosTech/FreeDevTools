<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>sc_tbitpmtud — scamper driver to test systems for responsiveness to ICMP packet too big messages</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/scamper">scamper_20211212-1.2build1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       sc_tbitpmtud — scamper driver to test systems for responsiveness to ICMP packet too big messages

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>sc_tbitpmtud</b>      [<b>-r</b>]      [<b>-a</b>     <u>address-file</u>]     [<b>-c</b>     <u>completed-file</u>]     [<b>-l</b>     <u>limit-per-file</u>]
                    [<b>-m</b> <u>maximum-transmission-unit</u>] [<b>-o</b> <u>output-file</u>] [<b>-p</b> <u>scamper-port</u>] [<b>-t</b> <u>log-file</u>] [<b>-w</b> <u>window</u>]

       <b>sc_tbitpmtud</b> [<b>-d</b> <u>dump-id</u>] [<b>-A</b> <u>ip2as-file</u>] [<b>-m</b> <u>maximum-transmission-unit</u>] [<u>file</u> <u>...</u>]

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The <b>sc_tbitpmtud</b> utility provides the ability to connect to a running <u><a href="../man1/scamper.1.html">scamper</a></u>(1) instance  and  use  that
       instance  to test end systems for their ability to perform Path MTU Discovery, with the output written to
       a file in warts format.  <b>sc_tbitpmtud</b> first tests a given system for responsiveness to ICMP echo packets,
       and then tests the given system's TCP stack response to ICMP packet too big messages.

       The options are as follows:

       <b>-</b>?      prints a list of command line options and a synopsis of each.

       <b>-a</b> <u>address-file</u>
               specifies the name of the input file which consists of a sequence of systems to test, one  system
               per line.

       <b>-A</b> <u>ip2as-file</u>
               specifies  the  name  of  a  file which consists of a mapping of prefixes to ASes, one prefix per
               line.

       <b>-c</b> <u>completed-file</u>
               specifies the name of a file to record IP addresses that have been tested.

       <b>-d</b> <u>dump-id</u>
               specifies the dump ID to use to analyze the collected data.  Currently, ID values 1  (mssresults)
               and  2  (asnresults) are valid, which report PMTUD behaviour according to the server's MSS or the
               server's origin ASN.

       <b>-l</b> <u>limit-per-file</u>
               specifies the number of tbit objects to record per warts file, before  opening  a  new  file  and
               placing new objects.

       <b>-m</b> <u>maximum</u> <u>transmission</u> <u>unit</u>
               specifies  the  pseudo  maximum transmission unit to use.  The available choices are 0, 256, 576,
               1280, 1480.  If 0 is chosen, <b>sc_tbitpmtud</b> will test each website with all available  MTU  choices
               in decreasing size.  The default MTU value tested is 1280.

       <b>-o</b> <u>output-file</u>
               specifies the name of the file to be written.  The output file will use the warts format.

       <b>-p</b> <u>scamper-port</u>
               specifies the port on the local host where <u><a href="../man1/scamper.1.html">scamper</a></u>(1) is accepting control socket connections.

       <b>-r</b>      shuffle the order in which websites are tested.

       <b>-t</b> <u>log-file</u>
               specifies the name of a file to log progress output from <b>sc_tbitpmtud</b> generated at run time.

       <b>-w</b> <u>window-size</u>
               specifies  the  maximum number of tests to conduct in parallel.  The window size value depends on
               the value of the -F parameter passed to the <u><a href="../man1/scamper.1.html">scamper</a></u>(1) instance.

</pre><h4><b>EXAMPLES</b></h4><pre>
       Use of this driver requires a <u><a href="../man1/scamper.1.html">scamper</a></u>(1) instance listening on a port  for  commands  with  a  configured
       firewall.   The  following  invocation  uses <u><a href="../man8/ipfw.8.html">ipfw</a></u>(8) firewall rules 1 to 100, with a corresponding window
       size of 100, and an unrestricted packets per second rate, as follows:

             <b>scamper</b> <b>-P</b> <b>31337</b> <b>-F</b> <b>ipfw:1-100</b> <b>-w</b> <b>100</b> <b>-p</b> <b>0</b>

       To test a set of web servers specified in a file named webservers.txt and formatted as follows:

          1,example.com 5063 192.0.2.1 <a href="http://www.example.com/">http://www.example.com/</a>
          1,example.com 5063 2001:DB8::1 <a href="http://www.example.com/">http://www.example.com/</a>
          1,example.com 5063 2001:DB8::2 https://www.example.com/

       the following command will test all servers for responsiveness to ICMP packet too big messages and record
       raw data into webservers_00.warts, webservers_01.warts, etc:

             <b>sc_tbitpmtud</b> <b>-a</b> <b>webservers.txt</b> <b>-p</b> <b>31337</b> <b>-o</b> <b>webservers</b>

       The webservers.txt file is required to be formatted as above.  The format is: numeric ID to pass to tbit,
       a label for the webserver, the size of the object to be fetched, the IP address to contact, and  the  URL
       to use.

       To characterize PMTUD behaviour according to the server's advertised MSS value:

             <b>sc_tbitpmtud</b> <b>-d</b> <b>mssresults</b> <b>webservers_*.warts</b>

       Given  files  with  IPv4  prefixes  in  prefix2as4.txt  and  IPv6 prefixes in prefix2as6.txt formatted as
       follows:

          2001:DB8::     48     64496
          2001:DB8:1::   48     64497
          192.0.2.0      24     64498

       the following command will characterize PMTUD behaviour according to the origin ASN of the server:

             <b>sc_tbitpmtud</b> <b>-d</b> <b>asnresults</b> <b>-A</b> <b>prefix2as4.txt</b> <b>-A</b> <b>prefix2as6.txt</b> <b>webservers_*.warts</b>

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <u><a href="../man1/scamper.1.html">scamper</a></u>(1), <u><a href="../man1/sc_wartsdump.1.html">sc_wartsdump</a></u>(1), <u><a href="../man1/sc_warts2json.1.html">sc_warts2json</a></u>(1), <u><a href="../man5/warts.5.html">warts</a></u>(5),

       M. Luckie and  B.  Stasiewicz,  <u>Measuring</u>  <u>Path</u>  <u>MTU</u>  <u>Discovery</u>  <u>Behaviour</u>,  Proc.  ACM/SIGCOMM  Internet
       Measurement Conference 2010.

       A.  Medina,  M. Allman, and S. Floyd, <u>Measuring</u> <u>Interactions</u> <u>between</u> <u>Transport</u> <u>Protocols</u> <u>and</u> <u>Middleboxes</u>,
       Proc. ACM/SIGCOMM Internet Measurement Conference 2004.

</pre><h4><b>AUTHORS</b></h4><pre>
       <b>sc_tbitpmtud</b> was written by Matthew Luckie &lt;<a href="mailto:mjl@luckie.org.nz">mjl@luckie.org.nz</a>&gt;.  Ben Stasiewicz  contributed  an  initial
       implementation of the Path MTU Discovery TBIT test to scamper, building on the work of Medina et al.

Debian                                            March 1, 2018                                  <u><a href="../man1/SC_TBITPMTUD.1.html">SC_TBITPMTUD</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>