<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>kup-server - kernel.org upload server utility</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/kup-server">kup-server_0.3.6-4_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       kup-server - kernel.org upload server utility

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The  program  <b>kup-server</b> is expected to be the receiver of an ssh shell, configured with the following or
       similar options in <a href="file:~/.ssh/authorized_keys">~/.ssh/authorized_keys</a>:

              command="/usr/bin/kup-server",no-agent-forwarding,no-port-forwarding,no-pty,no-user-rc,no-
              X11-forwarding ssh-rsa AAAA[...]

       Each user should have their own UID, as Unix user permissions are used for specific tree access  control.
       On  the  client  side,  a  corresponding  client-side  utility <b>kup</b> is used to initiate the connection and
       perform the uploads.

</pre><h4><b>GLOBAL</b> <b>CONFIG</b></h4><pre>
       The configuration file for <b>kup-server</b>  is  located  in  /etc/kup/kup-server.cfg  and  has  the  following
       options:

       <b>[paths]</b>
              All paths in this section should be disjoint. Do not combine any of them into one directory.

       <b>data_path</b> = <u>/var/lib/kup/pub</u>
              Path for public consumption, e.g. served via http or rsync.

       <b>git_path</b> = <u>/var/cache/git</u>
              This  is  the  path where git trees (for the TAR and DIFF options) are available.  Those should be
              readonly for the uploaders.

       <b>lock_file</b> = <u>/run/kup/lock</u>
              A common lock file for data_path.  No program should  modify  the  content  in  data_path  without
              holding an flock on this file.  Should be readonly for the uploaders.

       <b>tmp_path</b> = <u>/var/cache/kup/tmp/</u>
              tmp_path can be either:

              1.  a  directory writable by every user and with the sticky bit set (typically mode 1777 or 1770).
              In that case, DO NOT end the path with a slash, or:

              2. A directory containing an empty directory for each user (named for that user),  owned  by  that
              user and mode 0700. In this case, DO end the path with a slash.

              In  either case, this directory tree <b>MUST</b> be on the same filesystem as <b>data_path</b>, since the script
              expects tocreate files in this directory and rename() them into data_path.

       <b>pgp_path</b> = <u>/var/lib/kup/pgp</u>
              A directory containing a GnuPG public keyring for each user, named &lt;user&gt;.gpg  and  readable  (but
              not writable) by that user.

       <b>[limits]</b>
              All sizes are in bytes, all times in seconds.

       <b>max_data</b> = <u>8589934592</u>
              Max size of uploaded data.

       <b>bufsiz</b> = <u>262144</u>
              Buffer size when reading data.

       <b>timeout_command</b> = <u>30</u>
              How long to wait for a command to time out.

       <b>timeout_data</b> = <u>300</u>
              Must read at least bufsiz bytes in this timespan.

       <b>timeout_compress</b> = <u>900</u>
              Uncompressing tarballs must take at most this long.

       <b>timeout_compress_cpu</b> = <u>900</u>
              Each compression command must take at most this long in CPU time.

       <b>[compressors]</b>
              This  section  allows  specifying  the  compressors  to  use  when creating compressed versions of
              uploaded content.

       <b>use</b> = <u>gz,</u> <u>xz</u>
              A comma-separated list of file extensions to create (minus the leading dot).  For  each  extension
              specified,  you  will need to add a matching section specifying which command and flags to use for
              decompression and which for compression. Make sure to configure the decompress command  to  output
              to stdout. E.g.:

              [gz]
              compress_command = /bin/pigz -9
              decompress_command = <a href="file:/bin/gzip">/bin/gzip</a> -cd

              [xz]
              compress_command = <a href="file:/bin/xz">/bin/xz</a> -9 -T0
              decompress_command = <a href="file:/bin/xz">/bin/xz</a> -cd

</pre><h4><b>AUTHOR</b></h4><pre>
       Written by H. Peter Anvin &lt;<a href="mailto:hpa@zytor.com">hpa@zytor.com</a>&gt;.

</pre><h4><b>COPYRIGHT</b></h4><pre>
       Copyright Â© 2011 Intel Corporation

       This  program  is  free  software;  you  can  redistribute it and/or modify it under the terms of the GNU
       General Public License as published by the Free Software  Foundation,  Inc.;  either  version  2  of  the
       License,  or (at your option) any later version; incorporated herein by reference.  There is NO warranty;
       not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man1/kup.1.html">kup</a></b>(1)

kernel.org upload server utility                      2011                                         <u><a href="../man1/KUP-SERVER.1.html">KUP-SERVER</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>