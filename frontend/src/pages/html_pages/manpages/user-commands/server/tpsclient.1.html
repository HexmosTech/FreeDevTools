<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>tpsclient - TPS testing tool to exercise TPS server functionality, simulating a smart card</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/jammy/+package/pki-tps-client">pki-tps-client_11.0.0-1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       <b>tpsclient</b> - TPS testing tool to exercise TPS server functionality, simulating a smart card

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>tpsclient</b> &lt; &lt;script-file-name&gt;
       <b>tpsclient</b>

       Note this tool currently works to simulate Secure Channel Protocol 01 , GP201 tokens. Support for SCP02/GP211 is planned in future versions.

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The <b>tpsclient</b> command provides a way to exercise the TPS server without a hardware token, through the use
       of a simple script file containing commands to the <b>tpsclient</b> engine.

</pre><h4><b>OPTIONS</b></h4><pre>
       The only option is whether or not to provide a script file. Not providing the script argument will launch
       the  program  in  interactive mode, though this is not recommended. The best way to interact with the TPS
       server is to provide a simple script file to <b>tpsclient</b>.

</pre><h4><b>OPERATIONS</b></h4><pre>
       The Operations are contained within the <b>tpsclient</b> script file. Some sample scripts are provided below.

</pre><h4><b>EXAMPLES</b></h4><pre>
       <b>tpsclient</b>

       This command will simply run the program in interactive mode. Commands will have to  be  issued  manually
       with this mode one by one, and thus is not recommended.

       List of commands inside interactive mode:

       Output&gt; Available Operations:
       Output&gt; op=debug filename=&lt;filename&gt; - enable debugging
       Output&gt; op=help
       Output&gt; op=ra_enroll uid=&lt;uid&gt; pwd=&lt;pwd&gt; num_threads=&lt;number of threads&gt; secureid_pin=&lt;secureid_pin&gt; keygen=&lt;true|false&gt; - Enrollment Via RA
       Output&gt; op=ra_reset_pin uid=&lt;uid&gt; pwd=&lt;pwd&gt; num_threads=&lt;number of threads&gt; secureid_pin=&lt;secureid_pin&gt; new_pin=&lt;new_pin&gt; - Reset Pin Via RA
       Output&gt; op=ra_update uid=&lt;uid&gt; pwd=&lt;pwd&gt; num_threads=&lt;number of threads&gt; secureid_pin=&lt;secureid_pin&gt; new_pin=&lt;new_pin&gt; - Reset Pin Via RA
       Output&gt; op=token_set &lt;name&gt;=&lt;value&gt; - Set Token Value
       Output&gt; op=token_status - Print Token Status
       Output&gt; op=var_get name=&lt;name&gt; - Get Value of Variable
       Output&gt; op=var_list - List All Variables
       Output&gt; op=var_set name=&lt;name&gt; value=&lt;value&gt; - Set Value to Variable

       <b>tpsclient</b> &lt; format.txt

       <b>tpsclient</b> &lt; enroll.txt

</pre><h4><b>format.txt</b> <b>contents:</b></h4><pre>
       # Set the host name of the TPS server
       op=var_set name=ra_host value=localhost.localdomain

       # Set the port where the TPS server is listening
       op=var_set name=ra_port value=8080

       # Set the URL on the TPS that responds to client token operation requests
       op=var_set name=ra_uri value=/tps/tps

       # Set the cuid number of our virtual token and some other values needed by TPS
       op=token_set cuid=40906145C76224192D2B msn=01020304 app_ver=6FBBC105 key_info=0101 major_ver=1 minor_ver=1

       # Set the global platform auth key for the virtual token
       op=token_set auth_key=404142434445464748494a4b4c4d4e4f

       # Set the global platform mac key for the virtual token
       op=token_set mac_key=404142434445464748494a4b4c4d4e4f

       # Set the global platform kek key for the virtual token
       op=token_set kek_key=404142434445464748494a4b4c4d4e4f

       #Issue the actual request to format our token to the TPS server.
       # Within this command we must provide the authentication userid, authentication password, and virtual token PIN value to proceed
       # Also, the "extensions" consist of extra info evaluated by TPS. In this case we declare the "type" of our virtual token.
       # The TPS uses the type to control the flow of the operation.

       op=ra_format uid=user1 pwd=secret123 new_pin=secret123 num_threads=1  extensions=tokenType=userKey

       # Exit the operation and leave the program

       op=exit

</pre><h4><b>enroll.txt</b> <b>contents:</b></h4><pre>
       # Set the host name of the TPS server
       op=var_set name=ra_host value=localhost.localdomain

       # Set the port where the TPS server is listening
       op=var_set name=ra_port value=8080

       # Set the URL on the TPS that responds to client token operation requests
       op=var_set name=ra_uri value=/tps/tps

       # Set the cuid number of our virtual token and some other values needed by TPS
       op=token_set cuid=40906145C76224192D2B msn=01020304 app_ver=6FBBC105 key_info=0101 major_ver=1 minor_ver=1

       # Set the global platform auth key for the virtual token
       op=token_set auth_key=404142434445464748494a4b4c4d4e4f

       # Set the global platform mac key for the virtual token
       op=token_set mac_key=404142434445464748494a4b4c4d4e4f

       # Set the global platform kek key for the virtual token
       op=token_set kek_key=404142434445464748494a4b4c4d4e4f

       #Issue the actual request to format our token to the TPS server.
       # Within this command we must provide the authentication userid, authentication password, and virtual token PIN value to proceed
       # Also, the "extensions" consist of extra info evaluated by TPS. In this case we declare the "type" of our virtual token.
       # The TPS uses the type to control the flow of the operation.

       op=ra_enroll uid=user1 pwd=secret123 new_pin=secret123 num_threads=1  extensions=tokenType=userKey

</pre><h4><b>COPYRIGHT</b></h4><pre>
       Copyright  (c)  2014  Red  Hat,  Inc.  This  is  licensed under the GNU General Public License, version 2
       (GPLv2). A copy of this license is available at <a href="http://www.gnu.org/licenses/old-licenses/gpl-2.0.txt">http://www.gnu.org/licenses/old-licenses/gpl-2.0.txt</a>.

version 10.2                                       Jul 8, 2015                                      <u><a href="../man1/tpsclient.1.html">tpsclient</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>