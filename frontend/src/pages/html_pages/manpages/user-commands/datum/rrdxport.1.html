<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>rrdxport - Export data in XML format based on data from one or several RRD</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/rrdtool">rrdtool_1.7.2-4.2ubuntu2_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       rrdxport - Export data in XML format based on data from one or several RRD

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>rrdtool</b> <b>xport</b> [<b>-s</b>|<b>--start</b> <u>seconds</u>] [<b>-e</b>|<b>--end</b> <u>seconds</u>] [<b>-m</b>|<b>--maxrows</b> <u>rows</u>] [<b>--step</b> <u>value</u>] [<b>--json</b>]
       [<b>-t</b>|<b>--showtime</b>] [<b>--enumds</b>] [<b>--daemon</b>|<b>-d</b> <u>address</u>] [<b>DEF:</b><u>vname</u><b>=</b><u>rrd</u><b>:</b><u>ds-name</u><b>:</b><u>CF</u>] [<b>CDEF:</b><u>vname</u><b>=</b><u>rpn-expression</u>]
       [<b>XPORT:</b><u>vname</u>[<b>:</b><u>legend</u>]]

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The <b>xport</b> function's main purpose is to write an XML formatted representation of the data stored in one
       or several <b>RRD</b>s. It can also extract numerical reports.

       If no <u>XPORT</u> statements are found, there will be no output.

       <b>-s</b>|<b>--start</b> <u>seconds</u> (default end-1day)
           The  time when the exported range should begin. Time in seconds since epoch (1970-01-01) is required.
           Negative numbers are relative to the current time. By default one day worth of data will be  printed.
           See also "AT-STYLE TIME SPECIFICATION" in rrdfetch for a detailed explanation on how to specify time.

           See "OUTPUT FORMAT" below for details on how this affects the output.

       <b>-e</b>|<b>--end</b> <u>seconds</u> (default now)
           The  time  when  the exported range should end. Time in seconds since epoch.  See also "AT-STYLE TIME
           SPECIFICATION" in rrdfetch for a detailed explanation on how to specify time.

           See "OUTPUT FORMAT" below for details on how this affects the output.

       <b>-m</b>|<b>--maxrows</b> <u>rows</u> (default 400 rows)
           This works like the <b>-w</b>|<b>--width</b> parameter of <u>rrdgraph</u>.  In fact  it  is  exactly  the  same,  but  the
           parameter was renamed to describe its purpose in this module. See <u>rrdgraph</u> documentation for details.

       <b>--step</b> <u>value</u> (default automatic)
           See rrdgraph documentation.

       <b>--daemon</b>|<b>-d</b> <u>address</u>
           Address of the rrdcached daemon. If specified, a "flush" command is sent to the server before reading
           the  RRD  files.  This  allows <b>rrdtool</b> to return fresh data even if the daemon is configured to cache
           values for a long time.  For a list of accepted formats, see the <b>-l</b> option in the rrdcached manual.

             rrdtool xport --daemon unix:/var/run/rrdcached.sock ...

       <b>-t</b>|<b>--showtime</b>
           include the time into each data row.

       <b>--json</b>
           produce json formatted output (instead of xml)

       <b>--enumds</b>
           The generated xml should contain the data values in enumerated tags.

            &lt;v0&gt;val&lt;/v0&gt;&lt;v1&gt;val&lt;/v1&gt;

       <b>DEF:</b><u>vname</u><b>=</b><u>rrd</u><b>:</b><u>ds-name</u><b>:</b><u>CF</u>
           See <u>rrdgraph</u> documentation.

       <b>CDEF:</b><u>vname</u><b>=</b><u>rpn-expression</u>
           See <u>rrdgraph</u> documentation.

       <b>XPORT:</b><u>vname</u>[<b>:</b><u>legend</u>]
           At least one <u>XPORT</u> statement  should  be  present.  The  values  referenced  by  <u>vname</u>  are  printed.
           Optionally add a legend.

</pre><h4><b>OUTPUT</b> <b>FORMAT</b></h4><pre>
       The output is enclosed in an <b>xport</b> element and contains two blocks. The first block is enclosed by a <b>meta</b>
       element and contains some meta data. The second block is enclosed by a <b>data</b> element and contains the data
       rows.

       Let's assume that the <u>xport</u> command looks like this:

         rrdtool xport \
                 --start now-1h --end now \
                 DEF:xx=host-inout.lo.rrd:output:AVERAGE \
                 DEF:yy=host-inout.lo.rrd:input:AVERAGE \
                 CDEF:aa=xx,yy,+,8,* \
                 XPORT:xx:"out bytes" \
                 XPORT:aa:"in and out bits"

       The resulting meta data section is (the values will depend on the RRD characteristics):

         &lt;meta&gt;
           &lt;start&gt;1020611700&lt;/start&gt;
           &lt;step&gt;300&lt;/step&gt;
           &lt;end&gt;1020615600&lt;/end&gt;
           &lt;rows&gt;14&lt;/rows&gt;
           &lt;columns&gt;2&lt;/columns&gt;
           &lt;legend&gt;
             &lt;entry&gt;out bytes&lt;/entry&gt;
             &lt;entry&gt;in and out bits&lt;/entry&gt;
           &lt;/legend&gt;
         &lt;/meta&gt;

       The resulting data section is:

         &lt;data&gt;
           &lt;row&gt;&lt;t&gt;1020611700&lt;/t&gt;&lt;v&gt;3.4000000000e+00&lt;/v&gt;&lt;v&gt;5.4400000000e+01&lt;/v&gt;&lt;/row&gt;
           &lt;row&gt;&lt;t&gt;1020612000&lt;/t&gt;&lt;v&gt;3.4000000000e+00&lt;/v&gt;&lt;v&gt;5.4400000000e+01&lt;/v&gt;&lt;/row&gt;
           &lt;row&gt;&lt;t&gt;1020612300&lt;/t&gt;&lt;v&gt;3.4000000000e+00&lt;/v&gt;&lt;v&gt;5.4400000000e+01&lt;/v&gt;&lt;/row&gt;
           &lt;row&gt;&lt;t&gt;1020612600&lt;/t&gt;&lt;v&gt;3.4113333333e+00&lt;/v&gt;&lt;v&gt;5.4581333333e+01&lt;/v&gt;&lt;/row&gt;
           &lt;row&gt;&lt;t&gt;1020612900&lt;/t&gt;&lt;v&gt;3.4000000000e+00&lt;/v&gt;&lt;v&gt;5.4400000000e+01&lt;/v&gt;&lt;/row&gt;
           &lt;row&gt;&lt;t&gt;1020613200&lt;/t&gt;&lt;v&gt;3.4000000000e+00&lt;/v&gt;&lt;v&gt;5.4400000000e+01&lt;/v&gt;&lt;/row&gt;
           &lt;row&gt;&lt;t&gt;1020613500&lt;/t&gt;&lt;v&gt;3.4000000000e+00&lt;/v&gt;&lt;v&gt;5.4400000000e+01&lt;/v&gt;&lt;/row&gt;
           &lt;row&gt;&lt;t&gt;1020613800&lt;/t&gt;&lt;v&gt;3.4000000000e+00&lt;/v&gt;&lt;v&gt;5.4400000000e+01&lt;/v&gt;&lt;/row&gt;
           &lt;row&gt;&lt;t&gt;1020614100&lt;/t&gt;&lt;v&gt;3.4000000000e+00&lt;/v&gt;&lt;v&gt;5.4400000000e+01&lt;/v&gt;&lt;/row&gt;
           &lt;row&gt;&lt;t&gt;1020614400&lt;/t&gt;&lt;v&gt;3.4000000000e+00&lt;/v&gt;&lt;v&gt;5.4400000000e+01&lt;/v&gt;&lt;/row&gt;
           &lt;row&gt;&lt;t&gt;1020614700&lt;/t&gt;&lt;v&gt;3.7333333333e+00&lt;/v&gt;&lt;v&gt;5.9733333333e+01&lt;/v&gt;&lt;/row&gt;
           &lt;row&gt;&lt;t&gt;1020615000&lt;/t&gt;&lt;v&gt;3.4000000000e+00&lt;/v&gt;&lt;v&gt;5.4400000000e+01&lt;/v&gt;&lt;/row&gt;
           &lt;row&gt;&lt;t&gt;1020615300&lt;/t&gt;&lt;v&gt;3.4000000000e+00&lt;/v&gt;&lt;v&gt;5.4400000000e+01&lt;/v&gt;&lt;/row&gt;
           &lt;row&gt;&lt;t&gt;1020615600&lt;/t&gt;&lt;v&gt;NaN&lt;/v&gt;&lt;v&gt;NaN&lt;/v&gt;&lt;/row&gt;
         &lt;/data&gt;

       All  the  statistics  in  the  output  will  use the same step. The first sample will be the first sample
       starting immediately after <b>--start</b>. The last sample will be the one ending at or immediately after <b>--end</b>.

       Each sample has a timestamp and one or more values. The timestamps associated with  a  value  in  RRDtool
       ALWAYS  represent  the  time the sample was taken. Since any value you sample will represent some sort of
       past state your sampling apparatus has gathered, the timestamp will always be at the end of the  sampling
       period.

       RRDtool  does  not  store the actual samples, but does internal resampling of the values presented to it.
       Nevertheless when a data value is presented with a single timestamp the timestamp is at the  end  of  the
       period  the  value  represents.  Note that the timestamp itself is outside the period the sample is valid
       for. For more details about this, see PDP calculation explanation.

       So the time range for a sample with a  timestamp  is  actually  from  "timestamp  -  step"  inclusive  to
       "timestamp" exclusive.

       The first line of the sample output:

           &lt;row&gt;&lt;t&gt;1020611700&lt;/t&gt;&lt;v&gt;3.4000000000e+00&lt;/v&gt;&lt;v&gt;5.4400000000e+01&lt;/v&gt;&lt;/row&gt;

       therefore  means  that  the  values  for the interval 1020611400 to 1020611699 were 3.4 and 54.4 for "out
       bytes" and "in and out bits" respectively, because the value was taken at 1020611700.

</pre><h4><b>EXAMPLE</b> <b>1</b></h4><pre>
         rrdtool xport \
                 DEF:out=if1-inouts.rrd:outoctets:AVERAGE \
                 XPORT:out:"out bytes"

</pre><h4><b>EXAMPLE</b> <b>2</b></h4><pre>
         rrdtool xport \
                 DEF:out1=if1-inouts.rrd:outoctets:AVERAGE \
                 DEF:out2=if2-inouts.rrd:outoctets:AVERAGE \
                 CDEF:sum=out1,out2,+ \
                 XPORT:out1:"if1 out bytes" \
                 XPORT:out2:"if2 out bytes" \
                 XPORT:sum:"output sum"

</pre><h4><b>ENVIRONMENT</b> <b>VARIABLES</b></h4><pre>
       The following environment variables may be used to change the behavior of "rrdtool xport":

       <b>RRDCACHED_ADDRESS</b>
           If this environment variable is set it will have the same effect as specifying the "--daemon"  option
           on the command line. If both are present, the command line argument takes precedence.

</pre><h4><b>AUTHOR</b></h4><pre>
       Tobias Oetiker &lt;<a href="mailto:tobi@oetiker.ch">tobi@oetiker.ch</a>&gt;

1.7.2                                              2025-03-04                                        <u><a href="../man1/RRDXPORT.1.html">RRDXPORT</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>