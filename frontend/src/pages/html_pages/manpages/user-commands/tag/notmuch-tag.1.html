<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>notmuch-tag - add/remove tags for all messages matching the search terms</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/notmuch">notmuch_0.38.3-5ubuntu1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       notmuch-tag - add/remove tags for all messages matching the search terms

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>notmuch</b> <b>tag</b> [options ...] +&lt;<u>tag</u>&gt;|-&lt;<u>tag</u>&gt; [--] &lt;<u>search-term</u>&gt; ...

       <b>notmuch</b> <b>tag</b> <b>--batch</b> [--input=&lt;<u>filename</u>&gt;]

</pre><h4><b>DESCRIPTION</b></h4><pre>
       Add/remove tags for all messages matching the search terms.

       See <u>notmuch-search-terms</u> for details of the supported syntax for &lt;<u>search-term</u>&gt;.

       Tags  prefixed  by  '+' are added while those prefixed by '-' are removed.  For each message, tag changes
       are applied in the order they appear on the command line.

       The beginning of the search terms is recognized by the first argument that begins with  neither  '+'  nor
       '-'.  Support  for  an  initial search term beginning with '+' or '-' is provided by allowing the user to
       specify a "--" argument to separate the tags from the search terms.

       <b>notmuch</b> <b>tag</b> updates  the  maildir  flags  according  to  tag  changes  if  the  <b>maildir.synchronize_flags</b>
       configuration option is enabled. See <u>notmuch-config</u> for details.

       Supported options for <b>tag</b> include

       <b>--remove-all</b>
              Remove  all  tags  from  each  message  matching  the search terms before applying the tag changes
              appearing on the command line.  This means setting the tags of each message  to  the  tags  to  be
              added. If there are no tags to be added, the messages will have no tags.

       <b>--batch</b>
              Read  batch  tagging  operations  from  a  file  (stdin  by default).  This is more efficient than
              repeated <b>notmuch</b> <b>tag</b> invocations. See <u>TAG</u> <u>FILE</u> <u>FORMAT</u> below for the input format. This  option  is
              not compatible with specifying tagging on the command line.

       <b>--input=&lt;filename&gt;</b>
              Read input from given file, instead of from stdin. Implies <b>--batch</b>.

</pre><h4><b>TAG</b> <b>FILE</b> <b>FORMAT</b></h4><pre>
       The input must consist of lines of the format:

       +&lt;<u>tag</u>&gt;|-&lt;<u>tag</u>&gt; [...] [--] &lt;<u>query</u>&gt;

       Each  line  is  interpreted similarly to <b>notmuch</b> <b>tag</b> command line arguments. The delimiter is one or more
       spaces ' '. Any characters in &lt;<u>tag</u>&gt; <b>may</b> be hex-encoded with %NN where NN is the hexadecimal value of  the
       character.  To  hex-encode a character with a multi-byte UTF-8 encoding, hex-encode each byte. Any spaces
       in &lt;tag&gt; <b>must</b> be hex-encoded as %20. Any characters that are not part of &lt;<u>tag</u>&gt; <b>must</b> <b>not</b> be hex-encoded.

       In the future tag:"tag with spaces" style quoting may be supported for &lt;<u>tag</u>&gt; as well; for this reason all
       double quote characters in &lt;<u>tag</u>&gt; <b>should</b> be hex-encoded.

       The &lt;<u>query</u>&gt; should be quoted using Xapian boolean term quoting rules: if a term contains whitespace or  a
       close  paren  or  starts  with  a  double  quote, it must be enclosed in double quotes (not including any
       prefix) and double quotes inside the term must be doubled (see below for examples).

       Leading and trailing space ' ' is ignored. Empty lines and lines beginning with '#' are ignored.

   <b>EXAMPLE</b>
       The following shows a valid input to batch tagging. Note that only the isolated '*' acts as  a  wildcard.
       Also note the two different quotings of the tag <b>space</b> <b>in</b> <b>tags</b>

          +winner *
          +foo::bar%25 -- (One and Two) or (One and tag:winner)
          +found::it -- tag:foo::bar%
          # ignore this line and the next

          +space%20in%20tags -- Two
          # add tag '(tags)', among other stunts.
          +crazy{ +(tags) +&amp;are +#possible\ -- tag:"space in tags"
          +match*crazy -- tag:crazy{
          +some_tag -- id:"this is ""nauty)"""

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <u>notmuch</u>,   <u>notmuch-config</u>,   <u>notmuch-count</u>,  <u>notmuch-dump</u>,  <u>notmuch-hooks</u>,  <u>notmuch-insert</u>,  <u>notmuch-new</u>,
       <u>notmuch-reply</u>, <u>notmuch-restore</u>, <u>notmuch-search</u>, <u>notmuch-search-terms</u>, <u>notmuch-show</u>,

</pre><h4><b>AUTHOR</b></h4><pre>
       Carl Worth and many others

</pre><h4><b>COPYRIGHT</b></h4><pre>
       2009-2024, Carl Worth and many others

0.38.3                                            Mar 11, 2025                                    <u><a href="../man1/NOTMUCH-TAG.1.html">NOTMUCH-TAG</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>