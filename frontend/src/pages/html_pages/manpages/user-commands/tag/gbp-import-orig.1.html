<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>gbp-import-orig - Import an upstream source from tarball, or git tag and tarball, into a git repository</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/git-buildpackage">git-buildpackage_0.9.37_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       gbp-import-orig - Import an upstream source from tarball, or git tag and tarball, into a git repository

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>gbp</b> <b>import-orig</b> [<b>--version</b>] [<b>--help</b>] [<b>--verbose</b>] [<b>--color=</b>[auto|on|off]] [<b>--color-scheme=</b> <u>COLOR_SCHEME</u>]
                       [<b>--upstream-version=</b> <u>version</u>] [<b>--[no-]merge</b>] [<b>--merge-mode=</b> <u>[auto|merge|replace]</u>]
                       [<b>--upstream-branch=</b> <u>branch_name</u>] [<b>--debian-branch=</b> <u>branch_name</u>] [<b>--upstream-vcs-tag=</b> <u>tag-</u>
                       <u>format</u>] [<b>--[no-]sign-tags</b>] [<b>--keyid=</b> <u>gpg-keyid</u>] [<b>--upstream-tag=</b> <u>tag-format</u>] [<b>--filter=</b>
                       <u>pattern</u>]... [<b>--component=</b> <u>component</u>]... [<b>--[no-]pristine-tar</b>]
                       [<b>--[no-]filter-pristine-tar</b>] [<b>--[no-]symlink-orig</b>] [<b>--postimport=cmd</b>] [<b>--postunpack=cmd</b>]
                       [<b>--[no-]interactive</b>] [<b>--[no-]rollback</b>] [<b>--upstream-signatures=</b>[auto|on|off]] <u>filename</u> |
                       <u>url</u> | <b>--uscan</b>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>gbp</b> <b>import-orig</b>  imports upstream sources into a Git repository optionally linking to upstream's git his‐
       tory. It can import from three sources:

       1.  <u>filename</u>: A file in the local file system. Gzip, bzip2, lzma and  xz  compressed  tar  archives,  zip
           archives and already unpacked source trees are supported.

       2.  <u>url</u>:  The tarball is downloaded from a <u>http</u> or <u>https</u> <u>url</u>.  This needs the python3-request package in‐
           stalled.

       3.  <b>--uscan</b>: The latest upstream or specified version is fetched via <b>uscan</b> relying on <u>debian/watch</u>.

       If the tarballs name is already of the form <u>package-name_version.orig.tar.gz</u>, the version information  is
       determined from the tarball's filename, otherwise it can be given on the command line via <b>--upstream-ver‐</b>
       <b>sion</b>.  If  the source package name or version can't be determined, <b>gbp</b> <b>import-orig</b> will prompt for it un‐
       less <b>--no-interactive</b> is given.

       The sources are placed on the upstream branch (default: <u>upstream</u>), tagged  and  merged  onto  the  debian
       branch  (default:  <u>master</u>). This is either done using plain <b>git</b> <b>merge</b> or by creating a new tree that con‐
       sists of the new upstream version plus the <u>debian/</u> directory. The later is used  for  source  format  3.0
       (quilt) packages since direct modifications of the upstream sources are not allowed in that format and so
       a  1:1  replacement  of  the  upstream  sources  is  almost  always  desired.  It  can be tweaked via the
       <b>--merge-mode</b>.

       When using the <b>--upstream-vcs-tag</b> option the tag matching the version of the  imported  release  will  be
       added  as  additinoal  parent  of the commit created for the imported tarball. This ties the upstream git
       commit history to the Debian packaging history and allows for e.g. easy  cherry-picking  of  patches  and
       comparision of upstream git and the upstream tarball.

       In  case  of an error <b>gbp</b> <b>import-orig</b> will rollback (undo) all changes it has done to the repository (see
       the <b>--rollback</b> option).

       Note that for projects using multiple tarballs the name of the additional components needs to  be  speci‐
       fied via the <b>--component</b> command line option or via <u>gbp.conf</u> (see below for details).

</pre><h4><b>OPTIONS</b></h4><pre>
       <b>--version</b>
              Print version of the program, i.e. version of the git-buildpackage suite

       <b>-v</b>, <b>--verbose</b>
              Verbose execution

       <b>-h</b>, <b>--help</b>
              Print help and exit

       <b>--color=</b>[auto|on|off]
              Whether to use colored output.

       <b>--color-scheme=</b><u>COLOR_SCHEME</u>
              Colors  to  use  in  output  (when color is enabled). The format for COLOR_SCHEME is '&lt;debug&gt;:&lt;in‐
              fo&gt;:&lt;warning&gt;:&lt;error&gt;'.  Numerical values and color names are accepted, empty fields imply the de‐
              fault color. For example, <b>--git-color-scheme=</b>'cyan:34::' would show debug messages in  cyan,  info
              messages in blue and other messages in default (i.e. warning and error messages in red).

       <b>--upstream-version</b>=<u>version</u>, <b>-u</b><u>version</u>
              The upstream version number. With <b>--uscan</b>, passed to uscan as <b>--download-debversion</b>

       <b>--[no-]merge</b>
              Merge the upstream branch to the Debian branch after import

       <b>--merge-mode=</b><u>[auto|merge|replace]</u>
              How to fold the newly imported upstream source to the Debian packaging branch after import.

              <u>merge</u> does a Git <b>merge</b> leaving you on your own in case of merge conflict resolution.

              <u>replace</u> mode on the other hand makes the head of the Debian packaging branch identical to the new‐
              ly imported tree but preserves the content of the <u>debian/</u> directory while keeping the current head
              as well as the newly imported tree as parents of the generated commit. This is similar to a <b>theirs</b>
              merge strategy while preserving <u>debian/</u>.

              The default is <u>auto</u> which uses <u>replace</u> for 3.0 (quilt) packages and <u>merge</u> otherwise.

       <b>--upstream-branch</b>=<u>branch_name</u>
              The branch in the Git repository the upstream sources are put onto. Default is <u>upstream</u>.

       <b>--debian-branch</b>=<u>branch_name</u>
              The  branch in the Git repository the Debian package is being developed on, default is <u>master</u>. Af‐
              ter importing the new sources on the upstream branch, <b>gbp</b> <b>import-orig</b> will try to  merge  the  new
              version onto this branch.

       <b>--upstream-vcs-tag</b>=<u>tag-format</u>
              Add  <u>tag-format</u>  as  additional parent to the commit of the upstream tarball. Useful when upstream
              uses git and you want to link to its revision history. The <u>tag-format</u> can be a pattern similar  to
              what <b>--upstream-tag</b> supports.

       <b>--[no-]sign-tags</b>
              GPG sign all created tags.

       <b>--keyid=</b><u>gpg-keyid</u>
              Use this <u>keyid</u> for gpg signing tags.

       <b>--upstream-tag=</b><u>tag-format</u>
              Use this tag format when tagging upstream versions, default is <u>upstream/%(version)s</u>.

       <b>--import-msg=</b><u>msg-format</u>
              Use this format string for the commit message when importing upstream versions, default is <u>New</u> <u>up‐</u>
              <u>stream</u> <u>version</u> <u>%(version)s</u>.

       <b>--filter=</b><u>pattern</u>
              Filter out files glob-matching <u>pattern</u>. This option can be given multiple times.

       <b>--component=</b><u>COMPONENT</u>
              When importing the upstream tarball also look for an additional tarball with component name <u>COMPO‐</u>
              <u>NENT</u>.  E.g. in <u>hello-debhelper_1.0.orig-foo.tar.gz</u> the component would be <u>foo</u>. The additional tar‐
              ball is expected to be in the same directory than the upstream tarball and to use  the  same  com‐
              pression type. You also need to specify the components when using <b>--uscan</b>.

              Using  additional  original  tarballs is a feature of the 3.0 (quilt) source format. See the <b>dpkg-</b>
              <b>source</b> manpage for details. This is currently considered an experimental feature and might  change
              incompatibly.

       <b>--[no-]pristine-tar</b>
              Generate <b>pristine-tar</b> delta file.

       <b>--[no-]filter-pristine-tar</b>
              If using a filter, also filter the files out of the tarball passed to <b>pristine-tar</b>.

       <b>--[no-]symlink-orig</b>
              Whether  to  create and keep a symlink from the upstream tarball to a Debian policy conformant up‐
              stream tarball name located in <u>../</u>.

              This is a good idea if not using <b>pristine-tar</b> since it avoids creating a new tarball with  a  dif‐
              ferent md5sum.

       <b>--postimport=</b><u>cmd</u>
              Run <u>cmd</u> after the import. The hook gets the following environment variables passed:

              <b>GBP_BRANCH</b>
                     The name of the Debian packaging branch

              <b>GBP_TAG</b>
                     The name of the just created upstream tag

              <b>GBP_UPSTREAM_VERSION</b>
                     The just imported upstream version

              <b>GBP_DEBIAN_VERSION</b>
                     The Debian version of the package with a Debian revision of '-1'

       <b>--postunpack=</b><u>cmd</u>
              Run  <u>cmd</u> after the import. This can be useful to e.g. convert or remove certain files prior to the
              import.  The hook gets passed the following environment variables:

              <b>GBP_TMP_DIR</b>
                     The temporary directory the tarballs are unapcked into.

              <b>GBP_SOURCES_DIR</b>
                     The temporary directory where the unpacked sources are.

              <b>GBP_GIT_DIR</b>
                     The directory of the git repository where the tarball will be imported into.

       <b>--uscan</b>
              Use <b>uscan</b> to fetch new upstream version. The version can be specified with <b>--upstream-version</b>

       <b>--[no-]interactive</b>
              Run command interactively, i.e. ask package name and version if needed.

       <b>--[no-]rollback</b>
              Rollback changes in case of an error.

       <b>--upstream-signatures=</b>[auto|on|off]
              Whether upstream signatures should be imported as well (when using pristine-tar). <u>off</u>  turns  this
              off  completely  while  <u>on</u>  always tries to import a signature (which can be useful if you want to
              fail if e.g. <b>uscan</b> did not fetch a signature). The default <u>auto</u> means to import a  signature  file
              if present but do nothing otherwise.

</pre><h4><b>EXAMPLES</b></h4><pre>
       Download and import a new upstream version using the information from <u>debian/watch</u>

             <b>gbp</b> <b>import-orig</b> --uscan

       Fetch tarball from an URL

             <b>gbp</b> <b>import-orig</b> https://debian.example.com/sid/upstream-tarball-0.1.tar.gz

       Import a local tarball

             <b>gbp</b> <b>import-orig</b> ../upstream-tarball-0.1.tar.gz

</pre><h4><b>CONFIGURATION</b> <b>FILES</b></h4><pre>
       Several  <u>gbp.conf</u>  files  are  parsed  to  set  defaults  for  the  above command-line arguments. See the
       <b><a href="../man5/gbp.conf.5.html">gbp.conf</a></b>(5) manpage for details.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man1/gbp-buildpackage.1.html">gbp-buildpackage</a></b>(1),  <b><a href="../man1/gbp-import-dsc.1.html">gbp-import-dsc</a></b>(1),  <b><a href="../man1/gbp-import-dscs.1.html">gbp-import-dscs</a></b>(1),  <b><a href="../man1/gbp-dch.1.html">gbp-dch</a></b>(1),  <b><a href="../man5/gbp.conf.5.html">gbp.conf</a></b>(5),  <b><a href="../man1/uscan.1.html">uscan</a></b>(1),   <b>de‐</b>
       <b><a href="../man1/build.1.html">build</a></b>(1), <b><a href="../man1/git.1.html">git</a></b>(1), <b><a href="../man1/pristine-tar.1.html">pristine-tar</a></b>(1), The Git-Buildpackage Manual ⟨file:///usr/share/doc/git-buildpackage/
       manual-html/index.html⟩

</pre><h4><b>AUTHOR</b></h4><pre>
       Guido Günther &lt;<a href="mailto:agx@sigxcpu.org">agx@sigxcpu.org</a>&gt;

                                                 9 January 2025                               <u><a href="../man1/gbp-import-orig.1.html">gbp-import-orig</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>