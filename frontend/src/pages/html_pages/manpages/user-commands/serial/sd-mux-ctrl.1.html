<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>sd-mux-ctrl - control software for sd-mux devices</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/sd-mux-ctrl">sd-mux-ctrl_0.0.3-3_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       sd-mux-ctrl - control software for sd-mux devices

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>sd-mux-ctrl</b>  <b>[-liuortdspcmvexn?]</b>  <b>[-l|--list]</b>  <b>[-i|--info]</b>  <b>[-u|--status]</b>  <b>[-o|--show-serial]</b>  <b>[-r|--set-</b>
       <b>serial=STRING]</b>  <b>[-t|--init]</b>  <b>[-d|--dut]</b>  <b>[-s|--ts]</b>   <b>[-p|--pins=INT]</b>   <b>[-c|--tick]</b>   <b>[-y|--dyper1=STRING]</b>
       <b>[-z|--dyper2=STRING]</b>      <b>[-m|--tick-time=INT]</b>      <b>[-v|--device-id=INT]</b>      <b>[-e|--device-serial=STRING]</b>
       <b>[-x|--vendor=INT]</b> <b>[-a|--product=INT]</b> <b>[-k|--device-type=STRING]</b> <b>[-n|--invert]</b> <b>[-?|--help]</b> <b>[--usage]</b>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <u>sd-mux-ctrl</u> is a tool for controlling multiple sd-mux devices. This tool along with the  device  supports
       the following actions:
         1. <b>connect</b> SD card to DUT (Device Under Test) or to TS (Test Server)
         2. <b>connect</b> one USB port to DUT or TS
         3. <b>power</b> off/on connected DUT
         4. <b>reset</b> connected DUT by power disconnecting and reconnecting after specified timeout

       After  manufacturing,  each new sd-mux device has VENDOR ID set to 0x0403 which is the ID of FTDI company
       of whose chip (FT245RL) the device is based.  Before first real use, the device should be given a  unique
       serial  number.  To do that <b>--set-serial</b> command must be executed. <b>--set-serial</b> command writes additional
       information and one of them is VENDOR ID.  Since then the device  may  be  used  without  using  <b>--vendor</b>
       option which is necessary until the correct VENDOR ID is set.

</pre><h4><b>OPTIONS</b></h4><pre>
       -m, --tick-time
         Set period (in milliseconds) for <b>--tick</b> command.

       -v, --device-id
         Point  at  device  which  is  to  be used with selected command. Argument for this option is an integer
         number which is the ID of wanted device. It may be found in the result of <b>--list</b> command.  This  method
         is  not recommended for common usage as the ID may change after disconnecting and reconnecting devices.
         This method may be helpful in particular situations when serial number is not a reliable way of  device
         addressing.

       -e, --device-serial
         Point  at  device which is to be used with selected command. Argument for this option is a string which
         is the serial number of wanted device. It may be found in the result of <b>--list</b> command.   This  is  the
         recommended way of addressing devices.

       -x, --vendor
         Set VENDOR ID of devices which are to be used by sd-mux-ctrl. Default value is 0x04e8 which is assigned
         to SAMSUNG Electronics Company. Default PRODUCT ID is equal to 0x6001 - the default FTDI value.

       -a, --product
         Set PRODUCT ID of devices which are to be used by sd-mux-ctrl. Default value is 0x6001.

       -k, --device-type
         Set  device type of sd-mux. It can be either "sd-mux" or "sd-wire". This setting is used to distinguish
         one type of SD-MUX from another. "sd-mux" is a type of standard, full-sized SD-MUX  board,  while  "sd-
         wire"  is  a  type of miniaturized version of SD-MUX with functionality reduced to SD card multiplexing
         only.

       -n, --invert
         Invert bits given in argument of <b>--pins</b> command. Useful for debugging purposes.

       -h, --help
         Print short help and exit.

       --usage
         Print list of command and options and exit.

</pre><h4><b>COMMANDS</b></h4><pre>
   <b>-l,</b> <b>--list</b>
         Print list of all connected sd-mux devices and exit. It takes  optional  <b>--vendor</b>  <b>--product</b>  arguments
         that  allow  one  to  use  other  VENDOR  and  PRODUCT IDs then the default ones.  The default value is
         0x04e8:6001 which belongs to SAMSUNG Electronics Company.  VENDOR and PRODUCT IDs are used to  discover
         all  connected  sd-mux devices. This is very important in post production (sd-mux device) phase, before
         first use.

   <b>-i,</b> <b>--info</b>
         Print detailed information about selected device (<b>--device-serial</b>). Sample output of this command:

          VID:     0x04e8
          PID:     0x6001
          Release: 0x0600
          Bus Powered:  90 mA
          Manufacturer: SRPOL
          Product:      sd-mux
          Serial:       odroid_u3_1
          Checksum      : ea57
          Internal EEPROM
          PNP: 1
          Channel A has Mode UART VCP
          C0 Function: TXLED
          C1 Function: RXLED
          C2 Function: TXDEN
          C3 Function: PWREN
          C4 Function: SLEEP

         Shape of this output depends on libftdi library so may change along with library changes.

   <b>-u,</b> <b>--status</b>
         Print current state of selected device. Example command with output:

         $ <b>sd-mux-ctrl</b> <b>--status</b> <b>--device-serial</b> <b>odroid_u3_1</b>
         <b>USB</b> <b>connected</b> <b>to:</b> <b>DUT</b>
         <b>SD</b> <b>connected</b> <b>to:</b> <b>DUT</b>
         $

         Or:

         $ <b>sd-mux-ctrl</b> <b>--status</b> <b>--device-serial</b> <b>odroid_u3_1</b>
         <b>Device</b> <b>not</b> <b>initialized!</b>
         $

         when the device is not initialized after connecting to a host.

   <b>-o,</b> <b>--show-serial</b>
         Print serial number of selected device. Use <b>--device-id</b> to select wanted device. This  command  outputs
         only  serial  number,  without  end of line.  This command is useful actually only for scripts. Example
         command with output:

         [sd-mux-ctrl-0.0.1]$ <b>sudo</b> <b>sd-mux-ctrl</b> <b>--device-id=0</b> <b>--show-serial</b>
         <b>minnow_max_1</b>[sd-mux-ctrl-0.0.1]$

   <b>-r,</b> <b>--set-serial</b>
         Set serial number of selected device. Use <b>--device-id</b>  or  <b>--device-serial</b>  to  select  wanted  device.
         Following example changes device's serial number from <b>AL018T40</b> to <b>odroid_u3_1</b> :

         [rpm]$ <b>sudo</b> <b>sd-mux-ctrl</b> <b>--device-serial=AL018T40</b> <b>--vendor=0x403</b> <b>--set-serial=odroid_u3_1</b>

         <b>--set-serial</b>  command does actually a little bit more than setting a serial number.  It also writes new
         values of VENDOR ID, Product and Manufacturer.  <b>VENDOR</b> <b>ID</b> <b>(VID)</b> is set to <b>0x04e8</b>  (SAMSUNG  Electronics
         Company),  Product  is  set to <b>sd-mux</b> and <b>Manufacturer</b> is set to <b>SRPOL</b> which is a short name of Samsung
         R&amp;D Poland.

   <b>-t,</b> <b>--init</b>
         Set connected device into well defined state. After powering up, sd-mux device is in random state.   SD
         card and USB may be connected either to DUT or TS. SD card and USB are not tied together so one of them
         may  be  connected to DUT and the other one may be connected to TS. All combinations are possible.  The
         most important thing here is power steering. As we use bistable, two-coil relay we have  to  make  sure
         that  in stable state both coils are disconnected from power.  Unfortunately after connecting sd-mux to
         USB host, state of power control lines is unknown so we have  to  set  them  into  correct  one.   Init
         command powers off DUT and connects USB and SD card to TS. Example:

         [rpm]$ <b>sudo</b> <b>sd-mux-ctrl</b> <b>--device-serial=odroid_u3_1</b> <b>--init</b>

   <b>-d,</b> <b>--dut</b>
         Connect  USB  port  and  SD  card  to  a DUT (Device Under Test) and power it on.  After executing this
         command the DUT should start and load image from SD card mounted in the sd-mux device.

         <b>Note</b> that some devices won't  (re)start  after  execution  of  this  command.  This  is  caused  by  SD
         multiplexer chip.  When SD is connected to TS then it is actually connected to USB SD card reader.  The
         reader  powers  up  SD card and some part of the voltage is transmitted to the DUT through SD mux chip.
         To force restart one must invoke <b>--tick</b> command after <b>--dut</b> is executed.  Odroid U3 is  an  example  of
         device with such behavior.

         $ <b>sudo</b> <b>sd-mux-ctrl</b> <b>--device-serial=odroid_u3_1</b> <b>--dut</b>
         $ <b>sudo</b> <b>sd-mux-ctrl</b> <b>--device-serial=odroid_u3_1</b> <b>--tick</b>

   <b>-s,</b> <b>--ts</b>
         Connect  USB  port and SD card to a TS (Test Server) and powers off the DUT (Device Under Test).  After
         executing this command SD card is connected to SD card reader at the TS side.

         $ <b>sudo</b> <b>sd-mux-ctrl</b> <b>--device-serial=odroid_u3_1</b> <b>--ts</b>

   <b>-p,</b> <b>--pins</b>
         Set FTDI chip (FT245RL) pins to given state. <b>--pins</b> takes 8  bit  word  as  an  argument  and  optional
         <b>--invert</b> argument inverts all bits in the given word.  This value, after optional inverting, is written
         to FT245RL D0-D7 pins.

         $ <b>sudo</b> <b>sd-mux-ctrl</b> <b>--device-serial=odroid_u3_1</b> <b>--pins=0x69</b> <b>--invert</b>

   <b>-c,</b> <b>--tick</b>
         Disconnect power from the Device Under Test and reconnect again after 1000 ms.  If <b>--tick-time</b> is used,
         then 1000ms is replaced with number of milliseconds given in <b>--tick-time</b> argument.

         $ <b>sudo</b> <b>sd-mux-ctrl</b> <b>--device-serial=odroid_u3_1</b> <b>--tick</b> <b>--tick-time=2000</b>

   <b>-y,</b> <b>--dyper1</b>
         Disconnect  or  connect  terminals  of dynamic jumper. Argument "on" connects and "off" disconnects the
         terminals.

         $ <b>sudo</b> <b>sd-mux-ctrl</b> <b>--device-serial=odroid_u3_1</b> <b>--dyper1</b> <b>on</b>

   <b>-z,</b> <b>--dyper2</b>
         Disconnect or connect terminals of dynamic jumper. Argument "on" connects  and  "off"  disconnects  the
         terminals.

         $ <b>sudo</b> <b>sd-mux-ctrl</b> <b>--device-serial=odroid_u3_1</b> <b>--dyper2</b> <b>on</b>

</pre><h4><b>AUTHOR</b></h4><pre>
       Adam Malinowski &lt;<a href="mailto:a.malinowsk2@partner.samsung.com">a.malinowsk2@partner.samsung.com</a>&gt;.

</pre><h4><b>REPORTING</b> <b>BUGS</b></h4><pre>
       Please, report bugs to Adam Malinowski &lt;<a href="mailto:a.malinowsk2@partner.samsung.com">a.malinowsk2@partner.samsung.com</a>&gt;.

Tizen                                              March 2018                                     <u><a href="../man1/SD-MUX-CTRL.1.html">SD-MUX-CTRL</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>