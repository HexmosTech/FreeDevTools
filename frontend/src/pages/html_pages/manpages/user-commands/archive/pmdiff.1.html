<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>pmdiff - compares archives and report significant differences</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/pcp">pcp_6.3.3-1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       <b>pmdiff</b> - compares archives and report significant differences

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>pmdiff</b>  [<b>-dzV?</b>]   [<b>-B</b>  <u>starttime</u>] [<b>-E</b> <u>endtime</u>] [<b>-p</b> <u>precision</u>] [<b>-q</b> <u>thres</u>] [<b>-S</b> <u>starttime</u>] [<b>--skip-excluded</b>]
       [<b>--skip-missing</b>] [<b>-T</b> <u>endtime</u>] [<b>-x</b> <u>metric</u>] [<b>-X</b> <u>file</u>] [<b>-Z</b> <u>timezone</u>] <u>archive1</u> [<u>archive2</u>]

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>pmdiff</b> compares the average values for every metric in either one or two sets of  archives,  in  a  given
       time window, for changes that are likely to be of interest when searching for performance regressions.

       The  archive specifiers <u>archive1</u> and <u>archive2</u> may be comma-separated lists of names, each of which may be
       the base name of an archive or the name of a directory containing one or more archives. Each  archive  in
       the  resulting  set of archives must have been previously created using <b><a href="../man1/pmlogger.1.html">pmlogger</a></b>(1).  The <b><a href="../man1/pmlogsummary.1.html">pmlogsummary</a></b>(1)
       utility is used to obtain the average values used for comparison.

       There are two sorts of invocation of the tool: with either one or two sets of archives.

       In the first case, the only sensible command line requires use of all four time window arguments.   These
       are  specified  using  the  same  time  window  format  described  in <b><a href="../man1/PCPIntro.1.html">PCPIntro</a></b>(1), and are <b>-S</b>/<b>--start</b> and
       <b>-T</b>/<b>--finish</b> for the start and end times of the first time window of interest  in  the  archive  set,  and
       <b>-B</b>/<b>--before</b> and <b>-E</b>/<b>--end</b> for the start and end times of the second time window of interest.

       In the second case, with two sets of archives, the <b>-B</b>/<b>--before</b> and <b>-E</b>/<b>--end</b> options might be unnecessary.
       This might be the case, for example, when comparing the same time window of two consecutive days (usually
       two separate sets of archives), or a time window on the same day of different weeks.

       In  either  case,  <b>pmdiff</b> produces a sorted summary of those metrics in the specified window whose values
       have deviated the most from a minimal threshold.  The level of deviation is calculated  by  dividing  the
       average  value  of  each  metric  in both logs, and then calculating whether the ratio falls outside of a
       range considered normal.  This ratio can be adjusted using the <b>-q</b>/<b>--threshold</b> option, and by  default  it
       is  2 (i.e. report all metrics with average values that have more than doubled in the two time windows or
       more than halved in the two time windows).

       If the baseline value is zero and the comparison value is non-zero, the  ratio  is  reported  as  ``|+|''
       (infinitely  large).   If  the  comparison value is zero and the baseline value is non-zero, the ratio is
       reported as ``|-|'' (infinitely small).

       Reported metrics are sorted in ascending ratio order.

       Should any metrics be present in one window but missing from the other, a diagnostic  will  be  displayed
       listing each missing metric and the archive set from which it was missing.

       Metrics with counter semantics are converted to rates before being evaluated.

</pre><h4><b>OPTIONS</b></h4><pre>
       The available command line options are:

       <b>-d</b>, <b>--keep</b>
            Debug mode, keep intermediate files.

       <b>-B</b> <u>time</u>, <b>--begin</b>=<u>time</u>
            Start <u>time</u> for the second time window.

       <b>-E</b> <u>time</u>, <b>--end</b>=<u>time</u>
            End <u>time</u> for the second time window.

       <b>-p</b> <u>precision</u>, <b>--precision</b>=<u>precision</u>
            Print all floating point numbers with <u>precision</u> digits after the decimal place.

       <b>-q</b> <u>threshold</u>, <b>--threshold</b>=<u>threshold</u>
            Change the <u>threshold</u> for interesting metrics, see above for more details.

       <b>-S</b> <u>time</u>, <b>--start</b>=<u>time</u>
            Start <u>time</u> of the first time window.

       <b>-T</b> <u>time</u>, <b>--finish</b>=<u>time</u>
            End <u>time</u> of the first time window.

       <b>-V</b>, <b>--version</b>
            Display version number and exit.

       <b>-x</b> <u>metric</u>
            Compare  each  <u>metric</u> in each archive set in the time windows specified to a given <b><a href="../man1/egrep.1.html">egrep</a></b>(1) pattern,
            excluding those that match from the report output.

       <b>-X</b> <u>file</u>
            Allows a <u>file</u> to be specified which containing <b><a href="../man1/egrep.1.html">egrep</a></b>(1) patterns which are  applied  to  the  metric
            names to optionally exclude some from the report.

       <b>-z</b>, <b>--hostzone</b>
            Use the local timezone from the given archive set.

       <b>-Z</b> <u>timezone</u>, <b>--timezone</b>=<u>timezone</u>
            Changes  the timezone in the archive labels to <u>timezone</u> in the format of the environment variable <b>TZ</b>
            as described in <b><a href="../man7/environ.7.html">environ</a></b>(7).

       <b>-?</b>, <b>--help</b>
            Display usage message and exit.

       <b>--skip-excluded</b>
            Cull the list of names of metrics being excluded from the output.

       <b>--skip-missing</b>
            By default, <b>pmdiff</b> will report the names of any metrics that are in one  archive  set  but  not  the
            other.  This option suppresses that reporting.

</pre><h4><b>FILES</b></h4><pre>
       <u>$PCP_LOG_DIR/pmlogger/&lt;hostname&gt;</u>
            Default  directory  for  PCP  archives  containing performance metric values collected from the host
            <u>hostname</u>.

</pre><h4><b>PCP</b> <b>ENVIRONMENT</b></h4><pre>
       Environment variables with the prefix <b>PCP_</b> are used to parameterize the file and directory names used  by
       PCP.   On  each  installation, the file <u>/etc/pcp.conf</u> contains the local values for these variables.  The
       <b>$PCP_CONF</b> variable may be used to specify an alternative configuration file, as described in <b><a href="../man5/pcp.conf.5.html">pcp.conf</a></b>(5).

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man1/PCPIntro.1.html">PCPIntro</a></b>(1), <b><a href="../man1/pmlogger.1.html">pmlogger</a></b>(1), <b><a href="../man1/pmlogsummary.1.html">pmlogsummary</a></b>(1), <b><a href="../man1/egrep.1.html">egrep</a></b>(1), <b><a href="../man5/pcp.conf.5.html">pcp.conf</a></b>(5) and <b><a href="../man5/pcp.env.5.html">pcp.env</a></b>(5).

Performance Co-Pilot                                   PCP                                             <u><a href="../man1/PMDIFF.1.html">PMDIFF</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>