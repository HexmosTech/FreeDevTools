<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>pmlogsummary - calculate averages of metrics stored in a set of PCP archives</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/pcp">pcp_6.3.3-1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       <b>pmlogsummary</b> - calculate averages of metrics stored in a set of PCP archives

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>pmlogsummary</b>  [<b>-abfFHiIlmMNsvVxyz?</b>]   [<b>-B</b> <u>nbins</u>] [<b>-n</b> <u>pmnsfile</u>] [<b>-p</b> <u>precision</u>] [<b>-S</b> <u>starttime</u>] [<b>-T</b> <u>endtime</u>]
       [<b>-Z</b> <u>timezone</u>] <u>archive</u> [<u>metricname</u> ...]

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>pmlogsummary</b> prints statistical information about metrics of numeric type contained within the files of a
       set of Performance Co-Pilot (PCP) archives.  The default output prints time averages for both counter and
       non-counter metrics.  The set of archives is identified by <u>archive</u>, which is a  comma-separated  list  of
       names, each of which may be the base name of an archive or the name of a directory containing one or more
       archives.  The archives are typically created using <b><a href="../man1/pmlogger.1.html">pmlogger</a></b>(1).

       The  metrics  of interest are named in the <u>metricname</u> arguments.  If <u>metricname</u> is a non-leaf node in the
       Performance Metrics Name Space (<b><a href="../man5/PMNS.5.html">PMNS</a></b>(5)), then <b>pmlogsummary</b> will recursively descend the PMNS and  report
       on all leaf nodes.  If no <u>metricname</u> argument is given, the root of the namespace is used.

       Metrics with counter semantics are converted to rates before being evaluated.

</pre><h4><b>OPTIONS</b></h4><pre>
       The available command line options are:

       <b>-a</b>, <b>--all</b>
            Print all information.  This is equivalent to <b>-blmMy</b>.

       <b>-b</b>   Print both forms of averaging, that is both stochastic and time averaging.

       <b>-B</b> <u>nbins</u>, <b>--bins</b>=<u>nbins</u>
            Print  the  approximate  distribution  of  values,  using  histogram  bins such that the value range
            (minimum - maximum) for each metric is divided equally into <u>nbins</u> bins, and each bin accumulates the
            frequency of observed values in the corresponding range.  Refer to  the  ``OUTPUT  FORMAT''  section
            below for a description of how the distribution of values is reported).

       <b>-f</b>   Spreadsheet  format  -  the  tab  character  is  used to delimit each field printed.  This option is
            intended to allow <b>pmlogsummary</b> output to be imported directly into common spreadsheet applications.

       <b>-F</b>   Spreadsheet format - the comma character is used to delimit each  field  printed.   This  option  is
            intended  to  allow <b>pmlogsummary</b> output to be imported directly into common spreadsheet applications
            which support the Comma Separated Value (.csv) format.

       <b>-H</b>, <b>--header</b>
            Print a one-line header at the start showing what each field represents.

       <b>-i</b>, <b>--mintime</b>
            Also print the time at which the minimum  value  was  logged.   The  format  of  this  timestamp  is
            described in the ``OUTPUT FORMAT'' section below.

       <b>-I</b>, <b>--maxtime</b>
            Also  print  the  time  at  which  the  maximum  value  was logged.  The format of this timestamp is
            described in the ``OUTPUT FORMAT'' section below.

       <b>-l</b>, <b>--label</b>
            Also print the archive label, showing the archive format version, the time and date  for  the  start
            and  end  of  the  archive  time window, and the host from which the performance metrics values were
            collected.

       <b>-m</b>, <b>--minimum</b>
            Also print the minimum logged value for each metric.

       <b>-M</b>, <b>--maximum</b>
            Also print the maximum logged value for each metric.

       <b>-n</b> <u>pmnsfile</u>, <b>--namespace</b>=<u>pmnsfile</u>
            Load an alternative Performance Metrics Name Space (<b><a href="../man5/PMNS.5.html">PMNS</a></b>(5)) from the file <u>pmnsfile</u>.

       <b>-N</b>   Suppress any warnings resulting from individual archive fetches (default).

       <b>-p</b> <u>precision</u>, <b>--precision</b>=<u>precision</u>
            Print all floating point numbers with <u>precision</u> digits after the decimal place.

       <b>-s</b>, <b>--sum</b>
            Print (only) the sum of all logged values for each metric.

       <b>-S</b> <u>starttime</u>, <b>--start</b>=<u>starttime</u>
            Set the <u>starttime</u> of the time window.  Refer to <b><a href="../man1/PCPIntro.1.html">PCPIntro</a></b>(1) for a complete description of the syntax
            for <u>starttime</u>.

       <b>-T</b> <u>endtime</u>, <b>--finish</b>=<u>endtime</u>
            Set the <u>endtime</u> of the time window.  Refer to <b><a href="../man1/PCPIntro.1.html">PCPIntro</a></b>(1) for a complete description of  the  syntax
            for <u>endtime</u>.

       <b>-v</b>, <b>--verbose</b>
            Report (verbosely) on warnings resulting from individual archive fetches.

       <b>-V</b>, <b>--version</b>
            Display version number and exit.

       <b>-x</b>   Print stochastic averages instead of the default (time averages).

       <b>-y</b>, <b>--samples</b>
            Also print the number of samples encountered in the set of archives for each metric.

       <b>-z</b>, <b>--hostzone</b>
            Change the timezone to the local timezone at the host that is the source of the performance metrics,
            as specified in the label record of the archive.

       <b>-Z</b> <u>timezone</u>, <b>--timezone</b>=<u>timezone</u>
            By default, <b>pmlogsummary</b> reports the time of day according to the local timezone on the system where
            <b>pmlogsummary</b>  is  run.  Change the timezone to <u>timezone</u> in the format of the environment variable <b>TZ</b>
            as described in <b><a href="../man7/environ.7.html">environ</a></b>(7).

       <b>-?</b>, <b>--help</b>
            Display usage message and exit.

</pre><h4><b>OUTPUT</b> <b>FORMAT</b></h4><pre>
       The <b>pmlogsummary</b> output format is spartan as it is intended to be  post-processed  with  standard  tools.
       This  means  that  there  is  no annotation associated with each output field which would make processing
       harder.  The intention is that <b>pmlogsummary</b> output be massaged into a format  which  can  be  used  by  a
       spreadsheet program, is suitable for inclusion in a web page, or whatever.

       For each metric, <b>pmlogsummary</b> produces a single output line as follows:

          <u>metricname</u>  <u>value(s)</u> <u>units</u>

       For metrics with multiple instances, <b>pmlogsummary</b> produces multiple lines of output as follows:

          <u>metricname</u> ["<u>instance</u> <u>1</u>"] <u>value(s)</u> <u>units</u>
          <u>metricname</u> ["<u>instance</u> <u>2</u>"] <u>value(s)</u> <u>units</u>
          <u>metricname</u> ["<u>instance</u> <u>N</u>"] <u>value(s)</u> <u>units</u>

       The printed <u>value(s)</u> for each metric always follow this order: stochastic average, time average, minimum,
       minimum  timestamp, maximum, maximum timestamp, count, [bin 1 range], bin 1 count, ... [bin <u>nbins</u> range],
       bin <u>nbins</u> count.  The individual values for each metric are space-separated  (unless  the  <b>-f</b>  option  is
       used).

       All  counter  metrics  which are measured in units of time will be converted to seconds before being rate
       converted and used in the <b>pmlogsummary</b> calculations.  The values calculated for these  metrics  are  also
       printed in seconds.

       The units will be displayed in the format described by <b><a href="../man3/pmUnitsStr.3.html">pmUnitsStr</a></b>(3).

       Given either of the <b>-i</b> or <b>-I</b> options, <b>pmlogsummary</b> produces two different timestamp formats, depending on
       the  interval  over  which  it  is  run.  For an interval greater than 24 hours, the date is displayed in
       addition to the time at which the maxima and/or minima occurred.  If the extent of the data being checked
       is less than 24 hours, a more precise format is used (time is displayed with millisecond  precision,  but
       without the date).

</pre><h4><b>NOTES</b></h4><pre>
       The average for an individual metric is calculated as follows:

       Non-counter  metrics  are  averaged  using stochastic averaging - each observation has an equal weighting
       towards the calculation of the average (the sum of all values divided by the total number of values,  for
       each metric).

       Counter  metrics are averaged using time averaging (by default), but the <b>-x</b> option can be used to specify
       that counters be averaged using the stochastic method instead.  When calculating a time average, the  sum
       of  the product of each sample value multiplied by the time difference between each sample, is divided by
       the total time over which that metric was logged.

       Counter metrics whose measurements do not span 90% of the set of archives will be printed with the metric
       name prefixed by an asterisk (*).

</pre><h4><b>EXAMPLES</b></h4><pre>
       $ pmlogsummary -aN -p 1 -B 3 surf network.interface.out.bytes
       Log Label (Log Format Version 1)
       Performance metrics from host www.sgi.com
         commencing Tue Jan 14 20:50:50.317 1997
         ending     Wed Jan 29 10:13:07.387 1997
       network.interface.out.bytes ["xpi0"] 202831.3 202062.5 20618.7 \
            1235067.7 971 [&lt;=425435.0] 912 [&lt;=830251.4] 42 [&lt;=1235067.7] \
            17 byte / sec
       network.interface.out.bytes ["xpi1"] 0.0 0.0 0.0 0.0 1033 [&lt;=0.0] \
            1033 [] 0 [] 0 byte / sec
       network.interface.out.bytes ["et0"] 0.0 0.0 0.0 0.0 1033 [&lt;=0.0] \
            1033 [] 0 [] 0 byte / sec
       network.interface.out.bytes ["lo0"] 899.0 895.2 142.6 9583.1 1031 \
            [&lt;=3289.4] 1027 [&lt;=6436.2] 3 [&lt;=9583.1] 1 byte / sec

       A description of each field in the first line of statistical output, which describes one instance of  the
       network.interface.out.bytes metric, follows:
                            ┌───────────────┬───────────────────────────────────────────┐
                            │     Field     │                  Meaning                  │
                            ├───────────────┼───────────────────────────────────────────┤
                            │ ["xpi0"]      │ instance name                             │
                            │ 202831.3      │ stochastic average                        │
                            │ 202062.5      │ time average                              │
                            │ 20618.7       │ minimum value                             │
                            │ 1235067.7     │ maximum value                             │
                            │ 971           │ total number of values for this instance  │
                            │ [&lt;=425435.0]  │ range for first bin  (20618.7-425435.0)   │
                            │ 912           │ number of values in first bin             │
                            │ [&lt;=830251.4]  │ range for second bin  (425435.0-830251.4) │
                            │ 42            │ number of values in second bin            │
                            │ [&lt;=1235067.7] │ range for third bin  (830251.4-1235067.7) │
                            │ 17            │ number of values in third bin             │
                            │ byte / sec    │ base units for this metric                │
                            └───────────────┴───────────────────────────────────────────┘

</pre><h4><b>FILES</b></h4><pre>
       <u>$PCP_VAR_DIR/pmns/*</u>
            default PMNS specification files

       <u>$PCP_LOG_DIR/pmlogger/&lt;hostname&gt;</u>
            Default  directory  for  PCP  archives  containing performance metric values collected from the host
            <u>&lt;hostname&gt;</u>.

</pre><h4><b>PCP</b> <b>ENVIRONMENT</b></h4><pre>
       Environment variables with the prefix <b>PCP_</b> are used to parameterize the file and directory names used  by
       PCP.   On  each  installation, the file <u>/etc/pcp.conf</u> contains the local values for these variables.  The
       <b>$PCP_CONF</b> variable may be used to specify an alternative configuration file, as described in <b><a href="../man5/pcp.conf.5.html">pcp.conf</a></b>(5).

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man1/PCPIntro.1.html">PCPIntro</a></b>(1), <b><a href="../man1/pmchart.1.html">pmchart</a></b>(1),  <b><a href="../man1/pmdumptext.1.html">pmdumptext</a></b>(1),  <b><a href="../man1/pmlogextract.1.html">pmlogextract</a></b>(1),  <b><a href="../man1/pmlogger.1.html">pmlogger</a></b>(1),  <b><a href="../man1/pmrep.1.html">pmrep</a></b>(1),  <b><a href="../man1/pmval.1.html">pmval</a></b>(1),  <b><a href="../man3/PMAPI.3.html">PMAPI</a></b>(3),
       <b><a href="../man3/pmUnitsStr.3.html">pmUnitsStr</a></b>(3) and <b><a href="../man5/PMNS.5.html">PMNS</a></b>(5).

Performance Co-Pilot                                   PCP                                       <u><a href="../man1/PMLOGSUMMARY.1.html">PMLOGSUMMARY</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>