<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>iostat2pcp - import iostat data and create a PCP archive</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/pcp-import-iostat2pcp">pcp-import-iostat2pcp_6.3.3-1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       <b>iostat2pcp</b> - import iostat data and create a PCP archive

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>iostat2pcp</b> [<b>-v</b>] [<b>-S</b> <u>start</u>] [<b>-t</b> <u>interval</u>] [<b>-V</b> <u>version</u>] [<b>-Z</b> <u>timezone</u>] <u>infile</u> <u>outfile</u>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>iostat2pcp</b>  reads  a text file created with <b><a href="../man1/iostat.1.html">iostat</a></b>(1) (<u>infile</u>) and translates this into a Performance Co-
       Pilot (PCP) archive with the basename <u>outfile</u>.  If <u>infile</u> is ``-'' then <u>iostat2pcp</u>  reads  from  standard
       input, allowing easy preprocessing of the <u><a href="../man1/iostat.1.html">iostat</a></u>(1) output with <u><a href="../man1/sed.1.html">sed</a></u>(1) or similar.

       The  resultant  PCP  archive may be used with all the PCP client tools to graph subsets of the data using
       <b><a href="../man1/pmchart.1.html">pmchart</a></b>(1), perform data reduction and reporting, filter with the PCP inference engine <b><a href="../man1/pmie.1.html">pmie</a></b>(1), etc.

       A series of physical files will be created with the prefix <u>outfile</u>.  These are <u>outfile</u><b>.0</b> (the performance
       data), <u>outfile</u><b>.meta</b> (the metadata that describes the performance  data)  and  <u>outfile</u><b>.index</b>  (a  temporal
       index to improve efficiency of replay operations for the archive).  If any of these files exists already,
       then <b>iostat2pcp</b> will <b>not</b> overwrite them and will exit with an error message.

       The  first  output sample from <u><a href="../man1/iostat.1.html">iostat</a></u>(1) contains a statistical summary since boot time and is ignored by
       <u>iostat2pcp</u>, so the first real data set is the second one in the <u><a href="../man1/iostat.1.html">iostat</a></u>(1) output.

       The best results are obtained when <u><a href="../man1/iostat.1.html">iostat</a></u>(1) was run with its own <b>-t</b>  flag,  so  each  output  sample  is
       prefixed  with  a timestamp.  Even better is <b>-t</b> with $<b>S_TIME_FORMAT=ISO</b> set in environment when <u><a href="../man1/iostat.1.html">iostat</a></u>(1)
       is run, in which case the timestamp includes the timezone.

       Note that if $<b>S_TIME_FORMAT=ISO</b> is <b>not</b> used with the <b>-t</b> option then <u><a href="../man1/iostat.1.html">iostat</a></u>(1)  may  produce  a  timestamp
       controlled  by  <b>LC_TIME</b> from the locale that is in a format <u>iostat2pcp</u> cannot parse.  The formats for the
       timestamp that <u>iostat2pcp</u> accepts are illustrated by these examples:

       <b>2013-07-06T21:34:39+1000</b>
           (for the $<b>S_TIME_FORMAT=ISO</b>).

       <b>2013-07-06</b> <b>21:34:39</b>
           (for some of the European formats, e.g. de_AT, de_BE, de_LU and en_DK.utf8).

       <b>06/07/13</b> <b>21:34:39</b>
           (for all of the $<b>LC_TIME</b> settings for English locales  outside  North  America,  e.g.  en_AU,  en_GB,
           en_IE, en_NZ, en_SG and en_ZA, and all the Spanish locales, e.g. es_ES, es_MX and es_AR).

       In  particular,  note  that  some  common  North American $<b>LC_TIME</b> settings will <b>not</b> work with <u>iostat2pcp</u>
       (namely, en_US, POSIX and C) because they use the MM/DD format which may be  incorrectly  converted  with
       the assumed DD/MM format.  This is another reason to recommend setting $<b>S_TIME_FORMAT=ISO</b>.

       If  there  are  no  timestamps in the input stream, <u>iostat2pcp</u> will try and deduce the sample interval if
       basic Disk data (<b>-d</b> option for <u><a href="../man1/iostat.1.html">iostat</a></u>(1)) is found.  If this fails, then the <b>-t</b> option  may  be  used  to
       specify  the  sample  <u>interval</u>  in  seconds.  This option is ignored if timestamps are found in the input
       stream.

       The <b>-S</b> option may be used to specify as start time for the first real sample in <u>infile</u>, where <u>start</u>  must
       have the format HH:MM:SS.  This option is ignored if timestamps are found in the input stream.

       The  <b>-V</b>  option  specifies  the  version  for  the  output  PCP  archive.  By default the archive version
       <b>$PCP_ARCHIVE_VERSION</b> (set to 3 in current PCP releases) is used, and the only values currently  supported
       for <u>version</u> are 2 or 3.

       The  <b>-Z</b>  option  may be used to specify a timezone.  It must have the format +HHMM (for hours and minutes
       East of UTC) or -HHMM (for hours and minutes West of UTC).  Note in particular that <b>neither</b> the  <b>zoneinfo</b>
       (aka Olson) format, e.g. Europe/Paris, nor the Posix <b>TZ</b> format, e.g.  EST+5 is allowed for the <b>-Z</b> option.
       This option is ignored if ISO timestamps are found in the input stream.  If the timezone is not specified
       and cannot be deduced, it defaults to ``UTC''.

       Some additional diagnostic output is generated with the <b>-v</b> option.

       <b>iostat2pcp</b>  is  a  Perl  script  that  uses  the PCP::LogImport Perl wrapper around the PCP <u>libpcp_import</u>
       library, and as such could be used as  an  example  to  develop  new  tools  to  import  other  types  of
       performance data and create PCP archives.

</pre><h4><b>OPTIONS</b></h4><pre>
       The available command line options are:

       <b>-S</b> <u>start</u>
            Specify the <u>start</u> time for the first sample.

       <b>-t</b> <u>interval</u>
            Specify the sample <u>interval</u> in seconds.

       <b>-v</b>   Print verbose output.

       <b>-Z</b> <u>timezone</u>
            Specify the <u>timezone</u> to use, see above.

</pre><h4><b>CAVEATS</b></h4><pre>
       <b>iostat2pcp</b>    requires   <u>infile</u>   to   have   been   created   by   the   version   of   <b><a href="../man1/iostat.1.html">iostat</a></b>(1)   from
       <b><a href="http://freshmeat.net/projects/sysstat">http://freshmeat.net/projects/sysstat</a></b>.

       <b>iostat2pcp</b> handles the <b>-c</b> (CPU), <b>-d</b>  (Disk),  <b>-x</b>  (eXtended  Disk)  and  <b>-p</b>  (Partition)  report  formats
       (including  their  <b>-k</b>,  <b>-m</b>,  <b>-z</b>  and  <b>ALL</b> variants), but does not accommodate the <b>-n</b> (Network Filesystem)
       report format from <b><a href="../man1/iostat.1.html">iostat</a></b>(1); this is a demand-driven limitation rather than a technical limitation.

</pre><h4><b>PCP</b> <b>ENVIRONMENT</b></h4><pre>
       Environment variables with the prefix <b>PCP_</b> are used to parameterize the file and directory names used  by
       PCP.   On  each  installation, the file <u>/etc/pcp.conf</u> contains the local values for these variables.  The
       <b>$PCP_CONF</b> variable may be used to specify an alternative configuration file, as described in <b><a href="../man5/pcp.conf.5.html">pcp.conf</a></b>(5).

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man1/iostat.1.html">iostat</a></b>(1),   <b><a href="../man1/pmchart.1.html">pmchart</a></b>(1),   <b><a href="../man1/pmie.1.html">pmie</a></b>(1),    <b><a href="../man1/pmlogger.1.html">pmlogger</a></b>(1),    <b><a href="../man1/sed.1.html">sed</a></b>(1),    <b>Date::<a href="../man3pm/Format.3pm.html">Format</a></b>(3pm),    <b>Date::<a href="../man3pm/Parse.3pm.html">Parse</a></b>(3pm),
       <b>PCP::<a href="../man3pm/LogImport.3pm.html">LogImport</a></b>(3pm) and <b><a href="../man3/LOGIMPORT.3.html">LOGIMPORT</a></b>(3).

Performance Co-Pilot                                   PCP                                         <u><a href="../man1/IOSTAT2PCP.1.html">IOSTAT2PCP</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>