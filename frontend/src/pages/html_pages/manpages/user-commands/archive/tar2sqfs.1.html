<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>tar2sqfs - create a SquashFS image from a tar archive</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/squashfs-tools-ng">squashfs-tools-ng_1.3.2-1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       tar2sqfs - create a SquashFS image from a tar archive

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>tar2sqfs</b> [<u>OPTIONS</u>...] <u>&lt;sqfsfile&gt;</u>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       Quickly and painlessly turn a tar ball into a SquashFS filesystem image.

       By default, the program reads the archive from standard input. Compressed archives are supported.

       Possible options:

       <b>--root-becomes</b>, <b>-r</b> &lt;dir&gt;
              If  set, only pack entries that are underneath the specified directory. The prefix is stripped and
              the meta data for the  directory  itself  is  copied  to  the  root  inode  (i.e.  the  ownership,
              permissions, extended attributes, modification time).

              If  this  option is not set, tar2sqfs implicitly treats <b>./</b> or absolute paths this way, i.e. if the
              archive contains an entry for <b>./</b>, it becomes the root node and the prefix  is  stripped  from  all
              paths (and similar for absolute paths and <b>/</b>).

       <b>--no-symlink-retarget</b>, <b>-S</b>
              If  --root-becomes  is  used,  link targets are adjusted if they are prefixed by the root path. By
              default, this is also done on symbolic links, that have a target that is prefixed by the root path
              and they are converted to aboluste paths with the prefix removed. However,  because  symlinks  can
              point across mount points, this may actually be intended for some use cases.

              This flag allows changing the default behaviour, so only hard links are retargeted.

       <b>--exclude</b>, <b>-E</b> &lt;pattern&gt;
              Test  paths  against  a given shell-style globbing pattern and exclude all matches, e.g. <b>--exclude</b>
              <b>boot/*</b> keeps the <b>boot</b> directory in the final SquashFS archive, but drops all of its contents.

       <b>--compressor</b>, <b>-c</b> &lt;name&gt;
              Select the compressor to use.  Run <b>tar2sqfs</b> <b>--help</b> to get a list of all available compressors  and
              the default selection.

       <b>--comp-extra</b>, <b>-X</b> &lt;options&gt;
              A comma separated list of extra options for the selected compressor. Specify <b>help</b> to get a list of
              available options.

       <b>--num-jobs</b>, <b>-j</b> &lt;count&gt;
              If libsquashfs was compiled with a thread pool based, parallel data compressor, this option can be
              used  to  set the number of compressor threads. If not set, the default is the number of available
              CPU cores.

       <b>--queue-backlog</b>, <b>-Q</b> &lt;count&gt;
              Maximum number of data blocks in the thread worker queue before the packer starts waiting for  the
              block  processors  to  catch up. Higher values result in higher memory consumption. Defaults to 10
              times the number of workers.

       <b>--block-size</b>, <b>-b</b> &lt;size&gt;
              Block size to use for SquashFS image.  Defaults to 131072.

       <b>--dev-block-size</b>, <b>-B</b> &lt;size&gt;
              Device block size to padd the image to.  Defaults to 4096.

       <b>--defaults</b>, <b>-d</b> &lt;options&gt;
              A comma separated list of default values for implicitly created directories.  The following values
              can be set:
              ┌───────────────┬────────────────────────────────────────┐
              │ <b>Option</b>        │ <b>Default</b>                                │
              ├───────────────┼────────────────────────────────────────┤
              │ uid=&lt;value&gt;   │ 0                                      │
              ├───────────────┼────────────────────────────────────────┤
              │ gid=&lt;value&gt;   │ 0                                      │
              ├───────────────┼────────────────────────────────────────┤
              │ mode=&lt;value&gt;  │ 0755                                   │
              ├───────────────┼────────────────────────────────────────┤
              │ mtime=&lt;value&gt; │ <b>$SOURCE_DATE_EPOCH</b> if set, 0 otherwise │
              └───────────────┴────────────────────────────────────────┘

       <b>--no-keep-time</b>, <b>-k</b>
              Replace the time stamps from the tar archive with default time stamps for all entries.

              The default behavior is to preserve the time stamps  from  the  archive  to  the  extent  possible
              (SquashFS  has  second  resolution  and 32 bit time stamps; tar can use extensions to specify much
              larger timestamps with arbitrary precision). The root inode (unless <b>--root-becomes</b>  is  used)  and
              the modification time on the SquashFS image itself will still be set to defaults.

       <b>--no-xattr</b>, <b>-x</b>
              Do not copy extended attributes from archive. Default behaviour is to copy all extended attributes
              and skip the ones that cannot be encoded in SquashFS.

       <b>--no-skip</b>, <b>-s</b>
              Abort if a tar record cannot be read instead of skipping it.

       <b>--exportable</b>, <b>-e</b>
              Generate an export table for NFS support.

       <b>--no-tail-packing</b>, <b>-T</b>
              Do not perform tail end packing on files that are larger than the specified block size.

       <b>--no-pad</b>
              Do  not  pad  the resulting image to device block size. May result in an image that cannot be loop
              mounted.

       <b>--force</b>, <b>-f</b>
              Overwrite the output file if it exists.

       <b>--quiet</b>, <b>-q</b>
              Do not print out progress reports.

       <b>--help</b>, <b>-h</b>
              Print help text and exit.

       <b>--version</b>, <b>-V</b>
              Print version information and exit.

</pre><h4><b>COMPATIBILITY</b></h4><pre>
       Currently the program can process v7 format, pre-POSIX  ustar,  POSIX  tar  and  GNU  tar  archives.  PAX
       extension headers are also supported. Global PAX headers are ignored.

       The  support  for  GNU tar is limited to a commonly used subset (i.e. some legacy extensions that GNU tar
       itself no longer generates are not supported; neither are multi volume archives).

       The input tar file can either be uncompressed, or stream compressed using <b>gzip</b>, <b>xz</b>, <b>zstd</b>  or  <b>bzip2</b>.  The
       program transparently auto-detects and unpacks any stream compressed archive. The exact list of supported
       compressors depends on the compile configuration.

       Extended  attributes  are  supported through the <b>SCHILY.xattr</b> extension (favoured by GNU tar and star) or
       through the <b>LIBARCHIVE.xattr</b> extension.

       If any unsupported section or extended attribute key is encountered in an archive, a warning  message  is
       written  to  stderr.  If the <b>--no-skip</b> option is set, processing aborts. By default, unknown sections and
       unsupported extended attributes are simply skipped after issuing a warning.

</pre><h4><b>ENVIRONMENT</b></h4><pre>
       If the command line switch <b>--defaults</b> is not used or no default mtime is  specified,  the  value  of  the
       environment variable <b>SOURCE_DATE_EPOCH</b> is used for all file and filesystem timestamps.

       If  <b>SOURCE_DATE_EPOCH</b>  is not set, not a parsable number or it is out of range, the timestamps default to
       0.

       Environment variables are only used if no explicit command line switches are set. Explicit  command  line
       switches are always preferred over the environment variables.

</pre><h4><b>EXAMPLES</b></h4><pre>
       Turn an uncompressed tar archive into a SquashFS image:

              tar2sqfs rootfs.sqfs &lt; rootfs.tar.gz

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <a href="../man1/gensquashfs.1.html">gensquashfs</a>(1), <a href="../man1/rdsquashfs.1.html">rdsquashfs</a>(1), <a href="../man1/sqfs2tar.1.html">sqfs2tar</a>(1)

</pre><h4><b>AUTHOR</b></h4><pre>
       Written by David Oberhollenzer.

</pre><h4><b>COPYRIGHT</b></h4><pre>
       Copyright    ©    2019   David   Oberhollenzer   License   GPLv3+:   GNU   GPL   version   3   or   later
       &lt;https://gnu.org/licenses/gpl.html&gt;.
       This is free software: you are free to change and redistribute it.  There is NO WARRANTY, to  the  extent
       permitted by law.

tar2sqfs                                            June 2019                                        <u><a href="../man1/TAR2SQFS.1.html">TAR2SQFS</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>