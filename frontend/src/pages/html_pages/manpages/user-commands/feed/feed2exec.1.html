<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>feed2exec - The programmable feed reader</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/feed2exec">feed2exec_0.22.0_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       feed2exec - The programmable feed reader

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>feed2exec</b> {add,ls,rm,fetch,import,export}

</pre><h4><b>DESCRIPTION</b></h4><pre>
       This command will take a configured set of feeds and fire specific plugin for every new item found in the
       feed.

</pre><h4><b>OPTIONS</b></h4><pre>
          <b>--version</b>
                 Show the version and exit.

          <b>--loglevel</b>
                 choose specific log level [default: WARNING]

          <b>-v</b>, <b>--verbose</b>
                 show what is happening (loglevel: VERBOSE)

          <b>-d</b>, <b>--debug</b>
                 show debugging information (loglevel: DEBUG)

          <b>--syslog</b> <u>LEVEL</u>
                 send LEVEL logs to syslog

          <b>--config</b> <u>TEXT</u>
                 use a different configuration file

          <b>--database</b> <u>DB</u>
                 use a different database

          <b>-h</b>, <b>--help</b>
                 Show this message and exit.

</pre><h4><b>EXAMPLES</b></h4><pre>
       Simple run with no side effects:

          feed2exec parse https://www.nasa.gov/rss/dyn/breaking_news.rss --output echo --args '{item.title}'

       Saving feed items to a Maildir folder:

          feed2exec add "NASA breaking news" https://www.nasa.gov/rss/dyn/breaking_news.rss --folder nasa
          feed2exec fetch

       This creates the equivalent of this configuration file in <b><a href="file:~/.config/feed2exec.ini">~/.config/feed2exec.ini</a></b>:

          [DEFAULT]
          output = feed2exec.plugins.maildir
          mailbox = <a href="file:~/Maildir">~/Maildir</a>

          [NASA breaking news]
          folder = nasa
          url = https://www.nasa.gov/rss/dyn/breaking_news.rss

       Send new feed items to Transmission:

          feed2exec add "Example torrent list" <a href="http://example.com/torrents/feed">http://example.com/torrents/feed</a> --output transmission --folder /srv/incoming

       Send new feed items to Mastodon, using the <u>toot</u> commandline client:

          feed2exec add "My site" <a href="http://example.com/blog/feed">http://example.com/blog/feed</a> --output exec --args 'toot post "{item.title} {item.link}"'

       Send new feed items to Twitter, using the tweet commandline client from <u>python-twitter</u>:

          feed2exec add "My site on twitter" <a href="http://example.com/blog/feed">http://example.com/blog/feed</a> --output exec --args 'tweet "{item.title:.40s} {item.link:.100s}"'

       Show feed contents:

          feed2exec add "NASA breaking news" https://www.nasa.gov/rss/dyn/breaking_news.rss --output echo --args "{item.title} {item.link}"
          feed2exec fetch

</pre><h4><b>COMMANDS</b></h4><pre>
       • <u>parse</u>

       • <u>fetch</u>

       • <u>add</u>

       • <u>ls</u>

       • <u>rm</u>

       • <u>import</u>

       • <u>export</u>

   <b>parse</b>
       Usage:

          parse URL
              [--output PLUGIN [--args ARG [ARG [...]]]
              [--filter PLUGIN] [--filter_args ARG [ARG [...]]]
              [--mailbox PATH] [--folder PATH]

       The  parse  command  loads  and  parses  a single feed, without touching the database. This is similar to
       calling <u>add</u> then <u>fetch</u> on a single feed, but the feed is not kept in the configuration. This is  designed
       to make quick tests with a new feed. The arguments are the same as the <u>add</u> command.

   <b>fetch</b>
       Usage:

          fetch [--parallel | -p | --jobs N | -j N] [--force | -f] [--pattern pattern]

       The  fetch  command  iterates through all the configured feeds or those matching the <b>pattern</b> substring if
       provided.

       Options:

          <b>--pattern</b> <u>TEXT</u>
                 only fetch feeds matching name or URL

          <b>--parallel</b>
                 parse feeds in the background to improve performance

          <b>-j</b>,<u>--jobs</u> <b>N</b>
                 start N jobs in parallel, implies <b>--parallel</b> which defaults to the number of CPUs  detected  on
                 the machine

          <b>-f</b>, <b>--force</b>
                 skip reading and writing the cache and will consider all entries as new

          <b>-n</b>, <b>--catchup</b>
                 tell output plugins plugins to simulate their actions

   <b>add</b>
       Usage:

          add NAME URL
              [--output PLUGIN [--args ARG [ARG [...]]]
              [--filter PLUGIN] [--filter_args ARG [ARG [...]]]
              [--mailbox PATH] [--folder PATH]

       The add command adds the given feed <b>NAME</b> that will be fetched from the provided <b>URL</b>.

       Options:

          <b>--output</b> <u>PLUGIN</u>
                 use  PLUGIN as an output module. defaults to <b>maildir</b> to store in a mailbox. use <b>null</b> or <b>echo</b> to
                 just fetch the feed without doing anything.  Modules  are  searched  in  the  <u>feed2exec.plugins</u>
                 package unless the name contains a dot in which case the whole Python search path is used.

          <b>--args</b> <u>ARGS</u>
                 pass  arguments ARGS to the output plugin. supports interpolation of feed parameters using, for
                 example <b>{title}</b>

          <b>--filter</b> <u>PLUGIN</u>
                 filter feed items through the PLUGIN filter plugin

          <b>--filter_args</b> <u>ARGS</u>
                 arguments passed to the filter plugin

          <b>--mailbox</b> <u>PATH</u>
                 folder to store email into, defaults to <b><a href="file:~/Maildir">~/Maildir</a></b>.

          <b>--folder</b> <u>PATH</u>
                 subfolder to store the email into

       Those parameters are documented more extensively in their equivalent settings in the configuration  file,
       see below.

   <b>ls</b>
       The <b>ls</b> command lists all configured feeds as JSON packets.

   <b>rm</b>
       Usage:

          rm NAME

       Remove the feed named <b>NAME</b> from the configuration.

   <b>import</b>
       Usage:

          import PATH

       Import  feeds  from the file named PATH. The file is expected to have <b>outline</b> elements and only the <b>title</b>
       and <b>xmlUrl</b> elements are imported, as <b>NAME</b> and <b>URL</b> parameters, respectively.

   <b>export</b>
       Usage:

          export PATH

       Export feeds into the file named PATH. The file will use the feed NAME elements as <b>title</b> and the  URL  as
       <b>xmlUrl</b>.

</pre><h4><b>FILES</b></h4><pre>
   <b>Configuration</b> <b>file</b>
       The   configuration   file   is   loaded  from  (and  written  to,  by  <b>add</b>)  <b><a href="file:~/.config/feed2exec.ini">~/.config/feed2exec.ini</a></b>  or
       <b>$XDG_CONFIG_HOME/feed2exec.ini</b>. It can also be specified with the <b>--config</b> commandline parameter. This is
       an example configuration snippet:

          [NASA breaking news]
          url = https://www.nasa.gov/rss/dyn/breaking_news.rss
          output = feed2exec.plugins.echo
          args = {title} {link}

       Naturally, those settings can be changed directly in the config file. Note  that  there  is  a  <b>[DEFAULT]</b>
       section  that can be used to apply settings to all feeds. For example, this will make all feeds store new
       items in a maildir subfolder:

          [DEFAULT]
          output = feed2exec.plugins.maildir
          folder = feeds

       This way individual feeds do not need to be individually configured.

       <b>NOTE:</b>
          feed2exec does not take care of adding the folder to “subscriptions” in the  mailbox.  it  is  assumed
          that  folders  are  auto-susbcribed or the user ignores subscription. if that is a problem, you should
          subscribe to the folder by hand in your email client when you add a new config. you can also subscribe
          to a folder (say <b>feeds</b> above) directly using the <b>doveadm</b> <b>mailbox</b> <b>subscribe</b> <b>feeds</b> command  in  Dovecot,
          for example.

       The following configuration parameters are supported:

          <b>name</b>   Human readable name for the feed. Equivalent to the <b>NAME</b> argument in the <b>add</b> command.

          <b>url</b>    Address  to  fetch  the  feed  from.  Can be HTTP or HTTPS, but also <b>file://</b> resources for test
                 purposes.

          <b>output</b> Output plugin to use. Equivalent to the <b>--output</b> option in the <b>add</b> command.

          <b>args</b>   Arguments to pass to the output plugin. Equivalent to the <b>--args</b> option in the <b>add</b> command.

          <b>filter</b> Filter plugin to use. Equivalent to the <b>--filter</b> option in the <b>add</b> command.

          <b>mailbox</b>
                 Store emails in that mailbox prefix. Defaults to <b><a href="file:~/Maildir">~/Maildir</a></b>.

          <b>folder</b> Subfolder to use when writing to a mailbox. By default, a <u>slugified</u> version of  the  feed  name
                 (where  spaces  and  special  character are replaced by <b>-</b>) is used. For example, the feed named
                 “NASA breaking news” would be stored in <b><a href="file:~/Maildir/nasa-breaking-news/">~/Maildir/nasa-breaking-news/</a></b>. Note  that  the  <b>mailbox</b>
                 prefix is used <b>only</b> if the <b>folder</b> path is relative.

          <b>catchup</b>
                 Skip  to the latest feed items. The feed is still read and parsed, and new feed items are added
                 to the database, but output plugins are never called.

          <b>pause</b>  Completely skip feed during fetch or parse. Similar to catchup, but doesn’t fetch the  feed  at
                 all and doesn’t touch the cache.

       Here is a more complete example configuration with all the settings used:

          # this section will apply to all feeds
          [DEFAULT]
          # special folder location for maildir. I use this when I have multiple
          # accounts synchronized with Offlineimap
          mailbox = <a href="file:~/Maildir/Remote/">~/Maildir/Remote/</a>

          # a feed to store NASA breaking news entry in a "nasa" subfolder
          # this also demonstrates the droptitle filter
          [NASA breaking news]
          url = https://www.nasa.gov/rss/dyn/breaking_news.rss
          folder = nasa
          filter = feed2exec.plugins.droptitle
          filter_args = trump

          # some maildir storage require dots to get subfolders. for example,
          # this will store messages in INBOX/feeds/images/ on Dovecot
          [NASA image of the day]
          url = https://www.nasa.gov/rss/dyn/lg_image_of_the_day.rss
          folder = .feeds.images

          # same feed, but save to wayback machine
          [NASA IOTD wayback]
          url = https://www.nasa.gov/rss/dyn/lg_image_of_the_day.rss
          output = feed2exec.plugins.wayback

          # this demonstrates the emptysummary filter, which fixes GitHub feeds
          # that lack a proper summary
          [restic]
          url = https://github.com/restic/restic/tags.atom
          filter = feed2exec.plugins.emptysummary

          # saving to a mbox folder, one file per feed instead of one file per item
          [International Space Station Reports]
          url = <a href="http://blogs.nasa.gov/stationreport/feed/">http://blogs.nasa.gov/stationreport/feed/</a>
          mailbox = <a href="file:~/Mail/">~/Mail/</a>
          folder = stationreport.mbx

          # simple generic exec call example: check for broken links using linkchecker
          [NASA linkchecker]
          url = https://www.nasa.gov/rss/dyn/breaking_news.rss
          output = feed2exec.plugins.exec
          args = linkchecker --check-extern --no-robots --recursion-level 1 --quiet '{item.link}'

          # same, but with a Ikiwiki RSS feed, which needs fixing
          [Ikiwiki linkchecker]
          url = <a href="http://ikiwiki.info/recentchanges/index.rss">http://ikiwiki.info/recentchanges/index.rss</a>
          output = feed2exec.plugins.exec
          filter = feed2exec.plugins.ikiwiki_recentchanges
          args = linkchecker --check-extern --no-robots --recursion-level 1 --quiet '{item.link}'

          # retweet hurricane news
          [NASA Hurricane breaking news]
          url = https://www.nasa.gov/rss/dyn/hurricaneupdate.rss
          output = feed2exec.plugins.exec
          args = tweet "{item.title:.40s} {item.link:.100s}"

          # same, but on the mastodon network
          #
          # we can have multiple entries with the same URL without problems, as
          # long as the feed name is different. it does mean that the feed will
          # be fetched and parsed multiple times, unfortunately.
          #
          # this could be improved to include the '{item.summary}' and extra markup,
          # for example.
          [NASA Hurricane breaking news - Mastodon]
          url = https://www.nasa.gov/rss/dyn/hurricaneupdate.rss
          output = feed2exec.plugins.exec
          # unfortunately, this will noisily report the URL of the posted link,
          # which you may not want. to avoid that, encourage upstream to do the
          # right thing: https://github.com/ihabunek/toot/issues/46 ... or use
          # another tool listed here:
          # https://github.com/tootsuite/documentation/blob/master/Using-Mastodon/Apps.md
          args = toot post "{item.title} {item.link}"
          # output is disabled here. feed will be fetched and parsed, but no
          # toot will be sent
          catchup = True

          # same, but on the Pump.io network
          [NASA Hurricane breaking news - Pump]
          url = https://www.nasa.gov/rss/dyn/hurricaneupdate.rss
          output = feed2exec.plugins.exec
          args = p post note "{item.title} {item.link}"

          # crude podcast client
          [NASA What up?]
          url = https://www.nasa.gov/rss/dyn/whats_up.rss
          output = feed2exec.plugins.exec
          # XXX: this doesn't handle errors properly: if there is a feed without
          # enclosures, the whole thing will crash.
          args = wget -P /srv/podcasts/nasa/ "{item.enclosures[0].href}"
          # feed is paused here. feed will not be fetched and parsed at all and
          # no post will be sent.
          pause = True

          # download torrents linked from a RSS feed
          [torrents]
          url = <a href="http://example.com/torrents.rss">http://example.com/torrents.rss</a>
          output = feed2exec.plugins.exec
          args = transmission-remote -a '{item.link}' -w '/srv/incoming'

          # same thing with an actual plugin
          [torrents]
          url = <a href="http://example.com/torrents.rss">http://example.com/torrents.rss</a>
          output = feed2exec.plugins.transmission
          args = seedbox.example.com
          folder = /srv/incoming

   <b>Cache</b> <b>database</b>
       The  feeds  cache  is  stored  in a <b>feed2exec.db</b> file. It is a SQLite database and can be inspected using
       standard sqlite tools. It is used to keep track of which feed and items have been processed. To clear the
       cache, you can simply remove the file, which will make the program process all feeds items  from  scratch
       again.  In  this  case, you should use the <b>--catchup</b> argument to avoid duplicate processing. You can also
       use the <b>null</b> output plugin to the same effect.

</pre><h4><b>LIMITATIONS</b></h4><pre>
       Feed support is only as good as <b>feedparser</b> library which isn’t as solid as I expected. In  particular,  I
       had issues with <u>feeds</u> <u>without</u> <u>dates</u> and <u>without</u> <u>guid</u>.

       Unit test coverage is incomplete, but still pretty decent, above 90%.

       The <b>exec</b> plugin itself is not well tested and may have serious security issues.

       API,  commandline  interface,  configuration file syntax and database format can be changed until the 1.0
       release is published, at which point normal <u>Semantic</u> <u>Versioning</u> semantics apply.

       The program is written mainly targeting Python 3.5 and 3.7, but should support later  releases  as  well.
       See the <b>setup.py</b> classification for an authoritative reference. Python 2.7 is not supported anymore.

       The  SQL  storage  layer  is  badly written and is known to trigger locking issues with SQLite when doing
       multiprocessing. The global LOCK object could be used to work around  this  issue  but  that  could  mean
       pretty bad coupling. A good inspiration may be the <u>beets</u> <u>story</u> <u>about</u> <u>this</u> <u>problem</u>. And of course, another
       alternative  would be to considering something like SQLalchemy instead of rolling our own ORM. There has,
       however, been some improvements to the locking recently, although that has been done with <u>thread</u>  instead
       of <u>process</u>-specific locks.

       Older  feed  items  are not purged from the database when they disappear from the feed, which may lead to
       database bloat in the long term. Similarly, there is no way for plugins to remove old entry  that  expire
       from the feed.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man1/feed2exec-plugins.1.html">feed2exec-plugins</a>(1)</b>, <b><a href="../man1/feed2imap.1.html">feed2imap</a>(1)</b>, <b><a href="../man1/rss2email.1.html">rss2email</a>(1)</b>

</pre><h4><b>AUTHOR</b></h4><pre>
       Antoine Beaupré

</pre><h4><b>COPYRIGHT</b></h4><pre>
       Copyright (C) 2016-2019  Antoine Beaupré

0.22.0                                            Mar 03, 2025                                      <u><a href="../man1/FEED2EXEC.1.html">FEED2EXEC</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>