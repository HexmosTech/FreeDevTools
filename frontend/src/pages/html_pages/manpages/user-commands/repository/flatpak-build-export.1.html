<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>flatpak-build-export - Create a repository from a build directory</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/flatpak">flatpak_1.16.0-2_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       flatpak-build-export - Create a repository from a build directory

</pre><h4><b>SYNOPSIS</b></h4><pre>

       <b>flatpak</b> <b>build-export</b> [OPTION...] LOCATION DIRECTORY [BRANCH]

</pre><h4><b>DESCRIPTION</b></h4><pre>
       Creates or updates a repository with an application build.  LOCATION is the location of the repository.
       DIRECTORY must be a finalized build directory. If BRANCH is not specified, it is assumed to be "master".

       If LOCATION exists, it is assumed to be an OSTree repository, otherwise a new OSTree repository is
       created at this location. The repository can be inspected with the <b>ostree</b> tool.

       The contents of DIRECTORY are committed on the branch with name app/APPNAME/ARCH/BRANCH, where ARCH is
       the architecture of the runtime that the application is using. A commit filter is used to enforce that
       only the contents of the files/ and export/ subdirectories and the metadata file are included in the
       commit, anything else is ignored.

       When exporting a flatpak to be published to the internet, <b>--collection-id=COLLECTION-ID</b> should be
       specified as a globally unique reverse DNS value to identify the collection of flatpaks this will be
       added to. Setting a globally unique collection ID allows the apps in the repository to be shared over
       peer to peer systems without needing further configuration.

       The build-update-repo command should be used to update repository metadata whenever application builds
       are added to a repository.

</pre><h4><b>OPTIONS</b></h4><pre>
       The following options are understood:

       <b>-h</b>, <b>--help</b>
           Show help options and exit.

       <b>-s</b>, <b>--subject=SUBJECT</b>
           One line subject for the commit message.

       <b>-b</b>, <b>--body=BODY</b>
           Full description for the commit message.

       <b>--collection-id=COLLECTION-ID</b>
           Set as the collection ID of the repository. Setting a globally unique collection ID allows the apps
           in the repository to be shared over peer to peer systems without needing further configuration. If
           exporting to an existing repository, the collection ID must match the existing configured collection
           ID for that repository.

       <b>--subset=SUBSET</b>
           Mark the commit to be included in the named subset. This will cause the commit to be put in the named
           subset summary (in addition to the main one), allowing users to see only this subset instead of the
           whole repo.

       <b>--arch=ARCH</b>
           Specify the architecture component of the branch to export. Only host compatible architectures can be
           specified; see <b>flatpak</b> <b>--supported-arches</b> for valid values.

       <b>--exclude=PATTERN</b>
           Exclude files matching PATTERN from the commit. This option can be used multiple times.

       <b>--include=PATTERN</b>
           Don't exclude files matching PATTERN from the commit, even if they match the <b>--exclude</b> patterns. This
           option can be used multiple times.

       <b>--metadata=FILENAME</b>
           Use the specified filename as metadata in the exported app instead of the default file (called
           metadata). This is useful if you want to commit multiple things from a single build tree, typically
           used in combination with <b>--files</b> and <b>--exclude</b>.

       <b>--files=SUBDIR</b>
           Use the files in the specified subdirectory as the file contents, rather than the regular files
           directory.

       <b>--timestamp=DATE</b>
           Use the specified ISO 8601 formatted date or NOW, for the current time, in the commit metadata and,
           if <b>--update-appstream</b> is used, the appstream data.

       <b>--end-of-life=REASON</b>
           Mark the build as end-of-life. REASON is a message that may be shown to users installing this build.

       <b>--end-of-life-rebase=ID</b>
           Mark the build as end-of-life. Unlike <b>--end-of-life</b>, this one takes an ID that supersedes the current
           one. By the user's request, the application data may be preserved for the new application.

       <b>--disable-fsync</b>
           Don't fsync when writing to the repository. This can result in data loss in exceptional situations,
           but can improve performance when working with temporary or test repositories.

       <b>--update-appstream</b>
           Update the appstream branch after the build.

       <b>--no-update-summary</b>
           Don't update the summary file after the new commit is added. This means the repository will not be
           useful for serving over http until build-update-repo has been run. This is useful is you want to do
           multiple repo operations before finally updating the summary.

       <b>--gpg-sign=KEYID</b>
           Sign the commit with this GPG key. This option can be used multiple times.

       <b>--gpg-homedir=PATH</b>
           GPG Homedir to use when looking for keyrings

       <b>-r</b>, <b>--runtime</b>
           Export a runtime instead of an app (this uses the usr subdir as files).

       <b>-v</b>, <b>--verbose</b>
           Print debug information during command processing.

       <b>--ostree-verbose</b>
           Print OSTree debug information during command processing.

</pre><h4><b>EXAMPLES</b></h4><pre>
       <b>$</b> <b>flatpak</b> <b>build-export</b> <b><a href="file:~/repos/gnome-calculator/">~/repos/gnome-calculator/</a></b> <b><a href="file:~/build/gnome-calculator/">~/build/gnome-calculator/</a></b> <b>org.gnome.Calculator</b>

           Commit: 9d0044ea480297114d03aec85c3d7ae3779438f9d2cb69d717fb54237acacb8c
           Metadata Total: 605
           Metadata Written: 5
           Content Total: 1174
           Content Written: 1
           Content Bytes Written: 305

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man1/ostree.1.html">ostree</a></b>(1), <b><a href="../man1/flatpak.1.html">flatpak</a></b>(1), <b><a href="../man1/flatpak-build-init.1.html">flatpak-build-init</a></b>(1), <b><a href="../man1/flatpak-build.1.html">flatpak-build</a></b>(1), <b><a href="../man1/flatpak-build-finish.1.html">flatpak-build-finish</a></b>(1), <b><a href="../man1/flatpak-buildsign.1.html">flatpak-build-</a></b>
       <b><a href="../man1/flatpak-buildsign.1.html">sign</a></b>(1), <b><a href="../man1/flatpak-build-update-repo.1.html">flatpak-build-update-repo</a></b>(1)

flatpak                                                                                   <u>FLATPAK</u> <u><a href="../man1/BUILD-EXPOR.1.html">BUILD-EXPOR</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>