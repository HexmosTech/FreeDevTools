<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>repopush - safely rsync a package repository to another location</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/repopush">repopush_0.1.0-4_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       repopush - safely rsync a package repository to another location

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>repopush</b> <b>[-Nv]</b> <u>/path/to/local/repo</u> <u>remote</u>

       <b>repopush</b> <b>[-Nv]</b> <b>[-f</b> <b>configfile]</b> <b>-s</b> <u>section</u>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The <b>repopush</b> tool is yet another program that helps with copying the various package files and repository
       metadata from one OS package repository to another, taking care to copy and remove files in such a way as
       to  never  have the remote repository present an inconsistent view. This is done by first copying the new
       package files, then copying the new metadata files, then removing the outdated metadata files,  and  only
       then removing the outdated package files.

       The  <b>repopush</b> tool supports APT and YUM repositories and figures out which one to handle by analyzing the
       contents of the local repository. This is one of the reasons why the latter must indeed be a directory on
       a locally-mounted filesystem.

       The <b>repopush</b> tool accepts the following command-line options:

       •   <b>-f</b> <u>configfile</u>
             If   the   <b>-s</b>   option   is   specified,   the   config   file   to   read.    The    default    is
           <u>$XDG_CONFIG_HOME</u><b>/repopush.conf</b> (with a <u>$HOME</u><b>/.config</b> default for <u>$XDG_CONFIG_HOME</u>).

       •   <b>-N</b>
             No-operation mode; display what would have been done.

       •   <b>-s</b> <u>section</u>
             The config file section to read the <b>local</b> and <b>remote</b> variables from.

       •   <b>-v</b>
             Verbose mode; display diagnostic output.

       There  are two ways to specify the <u>local</u> and <u>remote</u> parameters: directly on the command line or in a INI-
       style configuration file. If the <b>-s</b> option is specified, <b>repopush</b> will use the <b>confget</b> tool to  read  the
       configuration  file  (either  the  one  specified  by  the  <b>-f</b> option or a default one in the user's home
       directory), look for the specified section, and use the "local" and "remote" values from that section.

       As noted above, the <u>local</u> parameter should be a path to a directory. The <u>remote</u> parameter can be  in  any
       format that the <b>rsync</b> tool accepts.

</pre><h4><b>FILES</b></h4><pre>
       If  the <u>local</u> and <u>remote</u> parameters are specified on the command line, the operation of the <b>repopush</b> tool
       is not affected by any files.

       If a configuration section is specified via the <b>-s</b> option, <b>repopush</b> will look for  a  configuration  file
       (either one specified via the <b>-f</b> option or a default one in the user's home directory) and treat it as an
       INI-style  file  containing  one  or  more  sections.  See the documentation of the <b>confget</b> tool for more
       information about the supported format of the INI-style files.

</pre><h4><b>EXAMPLES</b></h4><pre>
       Test-run a repository update:

           repopush -Nv /var/lib/repos/infra www:/var/www/repo/infra

       Perform the actual update, a bit quieter:

           repopush /var/lib/repos/infra www:/var/www/repo/infra

       The same, but with the "to-www-infra" section specified in the <u>$HOME</u><b>/.config/repopush.conf</b> file:

           repopush -s to-www-infra

       To achieve the above result, the <b>repopush.conf</b> file should contain a section like this:

           [to-www-infra]
           local=/var/lib/repos/infra
           remote=www:/var/www/repo/infra

</pre><h4><b>HISTORY</b></h4><pre>
       The <b>repopush</b> tool was first written by Peter Pentchev in 2020. This manual page was created in 2021.

</pre><h4><b>AUTHORS</b></h4><pre>
       Peter Pentchev &lt;<a href="mailto:roam@ringlet.net">roam@ringlet.net</a>&gt;

                                                   2021-04-04                                        <u><a href="../man1/repopush.1.html">repopush</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>