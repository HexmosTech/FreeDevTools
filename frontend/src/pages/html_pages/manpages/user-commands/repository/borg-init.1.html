<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>borg-init - Initialize an empty repository</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/borgbackup">borgbackup_1.4.0-5_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       borg-init - Initialize an empty repository

</pre><h4><b>SYNOPSIS</b></h4><pre>
       borg [common options] init [options] [REPOSITORY]

</pre><h4><b>DESCRIPTION</b></h4><pre>
       This  command  initializes  an  empty  repository.  A repository is a filesystem directory containing the
       deduplicated data from zero or more archives.

   <b>Encryption</b> <b>mode</b> <b>TLDR</b>
       The encryption mode can only be configured when creating a new repository - you can neither configure  it
       on a per-archive basis nor change the encryption mode of an existing repository.

       Use <b>repokey</b>:

          borg init --encryption repokey /path/to/repo

       Or <b>repokey-blake2</b> depending on which is faster on your client machines (see below):

          borg init --encryption repokey-blake2 /path/to/repo

       Borg will:

       1. Ask you to come up with a passphrase.

       2. Create a borg key (which contains 3 random secrets. See <u>key_files</u>).

       3. Encrypt the key with your passphrase.

       4. Store  the encrypted borg key inside the repository directory (in the repo config).  This is why it is
          essential to use a secure passphrase.

       5. Encrypt and sign your backups to prevent anyone from reading or forging them unless they have the  key
          and  know  the passphrase. Make sure to keep a backup of your key <b>outside</b> the repository - do not lock
          yourself out by "leaving your keys inside your car" (see <u>borg_key_export</u>).   For  remote  backups  the
          encryption  is  done  locally - the remote machine never sees your passphrase, your unencrypted key or
          your unencrypted files.  Chunking and id generation are  also  based  on  your  key  to  improve  your
          privacy.

       6. Use  the key when extracting files to decrypt them and to verify that the contents of the backups have
          not been accidentally or maliciously altered.

   <b>Picking</b> <b>a</b> <b>passphrase</b>
       Make sure you use a good passphrase. Not too short, not too simple. The real encryption / decryption  key
       is  encrypted with / locked by your passphrase.  If an attacker gets your key, he can't unlock and use it
       without knowing the passphrase.

       Be careful with special or non-ascii characters in your passphrase:

       • Borg processes the passphrase as unicode (and encodes it as  utf-8),  so  it  does  not  have  problems
         dealing with even the strangest characters.

       • BUT: that does not necessarily apply to your OS / VM / keyboard configuration.

       So  better  use  a long passphrase made from simple ascii chars than one that includes non-ascii stuff or
       characters that are hard/impossible to enter on a different keyboard layout.

       You can change your passphrase for existing repos at any time, it won't affect the  encryption/decryption
       key or other secrets.

   <b>More</b> <b>encryption</b> <b>modes</b>
       Only use <b>--encryption</b> <b>none</b> if you are OK with anyone who has access to your repository being able to read
       your backups and tamper with their contents without you noticing.

       If  you  want "passphrase and having-the-key" security, use <b>--encryption</b> <b>keyfile</b>.  The key will be stored
       in your home directory (in <b><a href="file:~/.config/borg/keys">~/.config/borg/keys</a></b>).

       If you do <b>not</b> want to encrypt the contents of your backups, but still want to detect malicious  tampering
       use <b>--encryption</b> <b>authenticated</b>.  To normally work with <b>authenticated</b> repos, you will need the passphrase,
       but there is an emergency workaround, see <b>BORG_WORKAROUNDS=authenticated_no_key</b> docs.

       If  <b>BLAKE2b</b>  is faster than <b>SHA-256</b> on your hardware, use <b>--encryption</b> <b>authenticated-blake2</b>, <b>--encryption</b>
       <b>repokey-blake2</b> or <b>--encryption</b> <b>keyfile-blake2</b>. Note: for remote backups the hashing is done on your local
       machine.
                ┌──────────┬───────────────────────┬────────────────────────┬────────────────────────┐
                │ Hash/MAC │ Not encrypted no auth │ Not   encrypted,   but │ Encrypted   (AEAD   w/ │
                │          │                       │ authenticated          │ AES) and authenticated │
                ├──────────┼───────────────────────┼────────────────────────┼────────────────────────┤
                │ SHA-256  │ none                  │ <u>authenticated</u>          │ repokey keyfile        │
                ├──────────┼───────────────────────┼────────────────────────┼────────────────────────┤
                │ BLAKE2b  │ n/a                   │ <u>authenticated-blake2</u>   │ <u>repokey-blake2</u>         │
                │          │                       │                        │ <u>keyfile-blake2</u>         │
                └──────────┴───────────────────────┴────────────────────────┴────────────────────────┘

       Modes <u>marked</u> <u>like</u> <u>this</u> in the above table are new in Borg 1.1 and are not backwards-compatible with  Borg
       1.0.x.

       On  modern  Intel/AMD  CPUs  (except  very  cheap ones), AES is usually hardware-accelerated.  BLAKE2b is
       faster than SHA256 on Intel/AMD 64-bit CPUs (except AMD Ryzen and future CPUs with SHA extensions), which
       makes <u>authenticated-blake2</u> faster than <u>none</u> and <u>authenticated</u>.

       On modern ARM CPUs, NEON provides hardware acceleration for SHA256  making  it  faster  than  BLAKE2b-256
       there. NEON accelerates AES as well.

       Hardware acceleration is always used automatically when available.

       <u>repokey</u>   and   <u>keyfile</u>  use  AES-CTR-256  for  encryption  and  HMAC-SHA256  for  authentication  in  an
       encrypt-then-MAC (EtM) construction. The chunk ID hash is HMAC-SHA256 as  well  (with  a  separate  key).
       These modes are compatible with Borg 1.0.x.

       <u>repokey-blake2</u> and <u>keyfile-blake2</u> are also authenticated encryption modes, but use BLAKE2b-256 instead of
       HMAC-SHA256  for  authentication. The chunk ID hash is a keyed BLAKE2b-256 hash.  These modes are new and
       <u>not</u> compatible with Borg 1.0.x.

       <u>authenticated</u> mode uses no encryption, but authenticates repository contents through the same HMAC-SHA256
       hash as the <u>repokey</u> and <u>keyfile</u> modes (it uses it as the chunk ID hash). The key is stored like  <u>repokey</u>.
       This mode is new and <u>not</u> compatible with Borg 1.0.x.

       <u>authenticated-blake2</u>  is  like  <u>authenticated</u>,  but uses the keyed BLAKE2b-256 hash from the other blake2
       modes.  This mode is new and <u>not</u> compatible with Borg 1.0.x.

       <u>none</u> mode uses no encryption and no authentication. It uses SHA256 as chunk ID hash.  This  mode  is  not
       recommended, you should rather consider using an authenticated or authenticated/encrypted mode. This mode
       has  possible  denial-of-service  issues  when running <b>borg</b> <b>create</b> on contents controlled by an attacker.
       Use it only for new repositories where no encryption is wanted  <b>and</b>  when  compatibility  with  1.0.x  is
       important.  If  compatibility  with  1.0.x  is  not  important, use <u>authenticated-blake2</u> or <u>authenticated</u>
       instead.  This mode is compatible with Borg 1.0.x.

</pre><h4><b>OPTIONS</b></h4><pre>
       See <u><a href="../man1/borg-common.1.html">borg-common</a>(1)</u> for common options of Borg commands.

   <b>arguments</b>
       <b>REPOSITORY</b>
              repository to create

   <b>optional</b> <b>arguments</b>
       <b>-e</b> <u>MODE</u>, <b>--encryption</b> <u>MODE</u>
              select encryption key mode <b>(required)</b>

       <b>--append-only</b>
              create an append-only mode repository. Note that this only affects the low level structure of  the
              repository,  and running <u>delete</u> or <u>prune</u> will still be allowed. See <u>append_only_mode</u> in Additional
              Notes for more details.

       <b>--storage-quota</b> <u>QUOTA</u>
              Set storage quota of the new repository (e.g. 5G, 1.5T). Default: no quota.

       <b>--make-parent-dirs</b>
              create the parent directories of the repository directory, if they are missing.

</pre><h4><b>EXAMPLES</b></h4><pre>
          # Local repository, repokey encryption, BLAKE2b (often faster, since Borg 1.1)
          $ borg init --encryption=repokey-blake2 /path/to/repo

          # Local repository (no encryption)
          $ borg init --encryption=none /path/to/repo

          # Remote repository (accesses a remote borg via ssh)
          # repokey: stores the (encrypted) key into &lt;REPO_DIR&gt;/config
          $ borg init --encryption=repokey-blake2 user@hostname:backup

          # Remote repository (accesses a remote borg via ssh)
          # keyfile: stores the (encrypted) key into <a href="file:~/.config/borg/keys/">~/.config/borg/keys/</a>
          $ borg init --encryption=keyfile user@hostname:backup

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <u><a href="../man1/borg-common.1.html">borg-common</a>(1)</u>,  <u><a href="../man1/borg-create.1.html">borg-create</a>(1)</u>,   <u><a href="../man1/borg-delete.1.html">borg-delete</a>(1)</u>,   <u><a href="../man1/borg-check.1.html">borg-check</a>(1)</u>,   <u><a href="../man1/borg-list.1.html">borg-list</a>(1)</u>,   <u><a href="../man1/borg-key-import.1.html">borg-key-import</a>(1)</u>,
       <u><a href="../man1/borg-key-export.1.html">borg-key-export</a>(1)</u>, <u><a href="../man1/borg-key-change-passphrase.1.html">borg-key-change-passphrase</a>(1)</u>

</pre><h4><b>AUTHOR</b></h4><pre>
       The Borg Collective

                                                   2024-07-02                                       <u><a href="../man1/BORG-INIT.1.html">BORG-INIT</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>