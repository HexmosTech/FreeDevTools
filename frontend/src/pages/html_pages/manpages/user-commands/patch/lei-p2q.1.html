<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>lei-p2q - use a patch to generate a lei-q query</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/lei">lei_1.9.0-1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       lei-p2q - use a patch to generate a lei-q query

</pre><h4><b>SYNOPSIS</b></h4><pre>
       lei p2q [OPTIONS] (FILE|COMMIT)

       lei p2q [OPTIONS] (--stdin|-)

</pre><h4><b>DESCRIPTION</b></h4><pre>
       Given a patch, create a query that can be fed on stdin to <b><a href="../man1/lei-q.1.html">lei-q</a></b>(1).  This is useful for mapping the patch
       to associated messages of an inbox.

       The patch can be provided on stdin or as a file.  Alternatively, when an argument is given that does not
       point to an existing file, it is taken as a reference to a commit in the current git repository, and
       <b><a href="../man1/git-format-patch.1.html">git-format-patch</a></b>(1) is used to generate the patch.

</pre><h4><b>OPTIONS</b></h4><pre>
       -w PREFIX[,PREFIX]
       --want=PREFIX[,PREFIX]
           Search  prefixes  to use.  "dfpost" (post-image git blob ID) and "dfn" (file names from the diff) are
           the most useful.  Other available values are "dfa", "dfb", "dfctx", "dfhh", and "dfpre".

           Appending an integer to "dfpost" or "dfpre" indicates a minimum ID length, and  the  generated  query
           will  be for that value up through the default abbreviation length.  For example, if the repository's
           "core.abbrev" is set to "auto" and git calculates the default abbreviation  length  as  7,  "dfpost6"
           will   expand   a   post-image  blob  ID  of  e7b4b32  (seven  characters)  into  "dfpost:e7b4b32  OR
           dfpost:e7b4b3".

           This option may be given multiple times.

           Default: "dfpost7"

       --stdin
           Read message from stdin.  This is implicit if no arguments are given and stdin is a pipe  or  regular
           file.

       --debug
           Dump  output  that  shows the information collected for every prefix.  This information can be useful
           for seeing how a patch is processed, but the format should not be considered stable.

       --uri
           URI escape output for interacting with HTTP(S) public-inbox instances.

       -q
       --quiet
           Suppress feedback messages.

</pre><h4><b>EXAMPLES</b></h4><pre>
         # to search for all threads which touch a given thread:
         lei p2q $COMMIT_OID | lei q -t -o /tmp/results

         # to view results on a remote HTTP(S) public-inbox instance
         $BROWSER https://example.com/pub-inbox/?q=$(lei p2q --uri $COMMIT_OID)

         # to view unapplied patches for a given $FILE from the past year:
         echo \( rt:last.year.. AND dfn:$FILE \) AND NOT \( \
               $(git log -p --pretty=mboxrd --since=last.year $FILE |
                       lei p2q -F mboxrd )
               \) | lei q -o /tmp/unapplied

</pre><h4><b>CONTACT</b></h4><pre>
       Feedback welcome via plain-text mail to &lt;<a href="mailto:meta@public-inbox.org">mailto:meta@public-inbox.org</a>&gt;

       The      mail      archives      are      hosted      at       &lt;https://public-inbox.org/meta/&gt;       and
       &lt;<a href="http://4uok3hntl7oi7b4uf4rtfwefqeexfzil2w6kgk2jn5z2f764irre7byd.onion/meta/">http://4uok3hntl7oi7b4uf4rtfwefqeexfzil2w6kgk2jn5z2f764irre7byd.onion/meta/</a>&gt;

</pre><h4><b>COPYRIGHT</b></h4><pre>
       Copyright all contributors &lt;<a href="mailto:meta@public-inbox.org">mailto:meta@public-inbox.org</a>&gt;

       License: AGPL-3.0+ &lt;https://www.gnu.org/licenses/agpl-3.0.txt&gt;

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man1/lei-q.1.html">lei-q</a></b>(1)

public-inbox.git                                   1993-10-02                                         <u><a href="../man1/LEI-P2Q.1.html">LEI-P2Q</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>