<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>commit-patch - commit patches to Darcs, Git, Mercurial, Bazaar, Monotone, Subversion, or CVS repositories</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/commit-patch">commit-patch_2.6.2-2_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       commit-patch - commit patches to Darcs, Git, Mercurial, Bazaar, Monotone, Subversion, or CVS repositories

</pre><h4><b>SYNOPSIS</b></h4><pre>
       commit-patch [<b>--amend</b>] [<b>-m</b> <u>message</u>] [<b>-F</b> <u>message-file</u>] [<b>-v</b>] [<b>--dry-run</b>] [<u>patch-file</u>]

       commit-partial [<b>--amend</b>] [<b>-v</b>] [<b>--dry-run</b>] [<b>--retry</b>] [<u>file</u> ...]

</pre><h4><b>DESCRIPTION</b></h4><pre>
       Normally version control systems don't allow fine grained commits. <b>commit-patch</b> allows the user to
       control <u>exactly</u> what gets committed (or "recorded", in <u>Darcs</u> parlance) by letting the user supply a patch
       to be committed rather than using the files in the current working directory. If <u>patch-file</u> is not
       supplied on the command line then the patch will be read from standard input.

       <b>commit-partial</b> is like commit-patch except that it will create a patch from the current changes in the
       current working directory and launch your editor so that you can edit the patch and the commit message
       (using the <b>VISUAL</b> environment variable, or if that isn't set the <b>EDITOR</b> environment variable, or, if <u>that</u>
       isn't set, <b>vi</b>). Any files you specify will be passed to your version control's diff command.

       <b>commit-patch</b> currently supports the following version control systems: <u><b>Darcs</b></u>, <u><b>Git</b></u>, <u><b>Mercurial</b></u>, <u><b>Bazaar</b></u>,
       <u><b>Monotone</b></u>, <u><b>Subversion</b></u>, and <u><b>CVS</b></u>.

</pre><h4><b>OPTIONS</b></h4><pre>
       <b>-a</b>, <b>--amend</b> - Amend a previous commit. Currently only <u><b>Darcs</b></u> and <u><b>Git</b></u> support this option. When used with
       <u><b>Git</b></u> it will amend the previous commit. When used with <u><b>Darcs</b></u>, <u><b>Darcs</b></u> will ask you which patch you want to
       amend.

       <b>-m</b>, <b>--message</b>=<u>message</u> - An optional <u>message</u> to use as the commit text. If the message is multiple lines
       then <u>Darcs</u>, <u>Git</u>, and <u>Mercurial</u> will use the first line as the patch name and the rest as commit details.
       If the "-m" option is not specified then the result will be the same as whatever the underlying version
       control system would do if you didn't specify a message name on the command line. That is, <b>commit-patch</b>
       does not interfere with the patch naming process of the underlying version control system; <u>Darcs</u> will
       still ask you interactively; <u>CVS</u> and <u>Subversion</u> will still launch your editor.

       <b>-F</b>, <b>--message-file</b>=<u>filename</u> - You can optionally get the commit message from a file. This is generally
       only useful for scripting <b>commit-patch</b>.

       <b>-v</b>, <b>--verbose</b> - Turn on debugging. This will print the commands that <b>commit-patch</b> is running to get the
       patch committed.

       <b>-n</b>, <b>--dry-run</b> - Turn on more paranoid debugging. This will print the commands that <b>commit-patch</b> will run
       to get the patch committed but it won't actually run those commands.

       <b>-r</b>, <b>--retry</b> - Only available in <u>commit-partial</u>. This will reload the last patch that was attempted to be
       committed into your editor instead of the current changes in the directory. This is for cases where the
       patch fails to commit for some reason and you want to try to fix it instead of starting over.

</pre><h4><b>DIAGNOSTICS</b></h4><pre>
       <b>commit-patch</b> works by manipulating the working directory using "patch", "interdiff", and the underlying
       version control system's "diff".  If any part of the process fails, <b>commit-patch</b> will attempt to restore
       the working directory to the state it was before the command was run. Any errors from the underlying
       version control system or from patch will be printed.

</pre><h4><b>CAVEATS</b></h4><pre>
       The patch specified on the command line must originate from the same place as the current directory. That
       is, the following will not work:

         cvs diff -u &gt; ../a.patch
         cd ..
         commit-patch a.patch

       You <b>must</b> run <b>commit-patch</b> from the same directory that the original patch was based from.

       <u>Darcs</u>, <u>Git</u> and <u>Mercurial</u> put "a/" and "b/" in front of all the paths in the diff output. Don't worry
       about this; <b>commit-patch</b> takes it into account.

</pre><h4><b>EXAMPLES</b></h4><pre>
       Typical <u>CVS</u> usage:

         cvs diff -u &gt; a.patch
         emacs a.patch
         commit-patch a.patch

       <u>Mercurial</u> usage with a message specified:

         hg diff &gt; a.patch
         emacs a.patch
         commit-patch -m "This is a commit message" a.patch

       <u>Darcs</u> usage with a multi-line message specified:

         darcs diff -u &gt; a.patch
         emacs a.patch
         commit-patch -m 'This is the patch name
         Here are the patch details' a.patch

</pre><h4><b>AUTHORS</b></h4><pre>
       •   David Caldwell &lt;<a href="mailto:david@porkrind.org">david@porkrind.org</a>&gt;

       •   Jim Radford &lt;<a href="mailto:radford@blackbean.org">radford@blackbean.org</a>&gt;

</pre><h4><b>COPYRIGHT</b> <b>AND</b> <b>LICENSE</b></h4><pre>
       Copyright © 2003-2021 by David Caldwell and Jim Radford.

       <b>commit-patch</b>  is  distributed  under  the  GNU  General  Public  License.  See  the  COPYING  file in the
       distribution for more details.

</pre><h4><b>HISTORY</b></h4><pre>
       <b>commit-patch</b> was originally called "cvs-commit-patch" and was a  bash  script  written  in  2003  by  Jim
       Radford  (with  David Caldwell in the room drawing the procedure on a white board). David later converted
       it do "darcs-commit-patch", then integrated them back together into <b>commit-patch</b>. <u>Mercurial</u>  support  was
       then  added.  At  some  point David translated from bash into perl because funky bash quoting issues were
       causing problems with a repository that had a space in one of the directory names.

perl v5.40.0                                       2024-08-26                                    <u><a href="../man1/COMMIT-PATCH.1.html">COMMIT-PATCH</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>