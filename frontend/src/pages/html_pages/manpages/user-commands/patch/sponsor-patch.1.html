<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>sponsor-patch - Prepare, test-build, and sponsor an upload.</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/ubuntu-dev-tools">ubuntu-dev-tools_0.206_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       sponsor-patch - Prepare, test-build, and sponsor an upload.

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>sponsor-patch</b> [<u>options</u>] <u>bug</u>
       <b>sponsor-patch</b> <b>-h</b>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>sponsor-patch</b>  downloads  the  patch  or  Bazaar  branch linked to an Ubuntu bug, applies it, generates a
       review diff, (optionally) test builds it, runs <b><a href="../man1/lintian.1.html">lintian</a></b>(1) and, after review and confirmation, can  upload
       it.

       <b>sponsor-patch</b>  can  be  used  for  sponsoring  patches,  syncs and merges from Debian, SRUs, and creating
       debdiffs from patches.  If <u>bug</u> has multiple patches or branches linked, it will prompt the user to select
       one.  The same applies to bug tasks.  If the attached patch is not a debdiff, <b><a href="../man1/edit-patch.1.html">edit-patch</a></b>(1)  is  used  to
       apply it.

       Some obvious checks are performed, in particular:

       1.  <b><a href="../man1/update-maintainer.1.html">update-maintainer</a></b>(1)  is  run  on  the  source  package to ensure that the <b>Maintainer</b> field meets the
           Ubuntu policy.

       2.  The version number must be greater than the current version in the archive.  The <b>changes</b> file is also
           correctly generated to list all changes since the current version in the archive.

       3.  The changelog must automatically close the sponsorship bug.

       4.  The changelog target must be valid.

       5.  The changelog timestamp is touched.

       Should any checks (or the build) fail, the user has an option to edit the patched source and try building
       it again.

       Unless a working directory is specified, the sources and patches will  be  downloaded  into  a  temporary
       directory  in <b><a href="file:/tmp">/tmp</a></b>, which is removed once the script finishes running.  The output of the build tool will
       be placed in <u>workdir</u>/<b>buildresult/</b>.

       One of <b>--upload</b>, <b>--workdir</b>, or <b>--sponsor</b> must be specified.

</pre><h4><b>OPTIONS</b></h4><pre>
       <b>-b</b>, <b>--build</b>
              Build the package with the specified builder. Note for <b><a href="../man8/pbuilder.8.html">pbuilder</a></b>(8) and <b><a href="../man8/cowbuilder.8.html">cowbuilder</a></b>(8)  users:  This
              assumes  the common configuration, where the <b>ARCH</b> and <b>DIST</b> environment is read by <b><a href="../man5/pbuilderrc.5.html">pbuilderrc</a></b>(5) to
              select the correct base image.

       <b>-B</b> <u>BUILDER</u>, <b>--builder</b>=<u>BUILDER</u>
              Use the specify builder to build the package.  Supported  are  <b><a href="../man8/cowbuilder.8.html">cowbuilder</a></b>(8),  <b><a href="../man1/cowbuilder-dist.1.html">cowbuilder-dist</a></b>(1),
              <b><a href="../man8/pbuilder.8.html">pbuilder</a></b>(8), <b><a href="../man1/pbuilder-dist.1.html">pbuilder-dist</a></b>(1), and <b><a href="../man1/sbuild.1.html">sbuild</a></b>(1).  The default is <b><a href="../man8/pbuilder.8.html">pbuilder</a></b>(8).

       <b>-e</b>, <b>--edit</b>
              Launch a sub-shell to allow editing of the patched source before building.

       <b>-h</b>, <b>--help</b>
              Display a help message and exit.

       <b>-k</b> <u>KEY</u>, <b>--key</b>=<u>KEY</u>
              Specify a key ID for signing the upload.

       <b>-l</b> <u>INSTANCE</u>, <b>--lpinstance</b>=<u>INSTANCE</u>
              Use the specified instance of Launchpad (e.g. "staging"), instead of the default of "production".

       <b>--no-conf</b>
              Do not read any configuration files, or configuration from environment variables.

       <b>-s</b>, <b>--sponsor</b>
              Shortcut for sponsored uploads. Equivalent to <b>-b</b> <b>-u</b> <b>ubuntu</b>.

       <b>-u</b> <u>DEST</u>, <b>--upload</b>=<u>DEST</u>
              Upload to <u>DEST</u> with <b><a href="../man1/dput.1.html">dput</a></b>(1) (after confirmation).

       <b>-U</b>, <b>--update</b>
              Update the build environment before attempting to build.

       <b>-v</b>, <b>--verbose</b>
              Print more information.

       <b>-w</b> <u>DIR</u>, <b>--workdir</b>=<u>DIR</u>
              Use  the  specified  working  directory, creating it if necessary.  If <u>WORKDIR</u> is not specified, a
              temporary directory is created, which is deleted before <u>sponsor-patch</u> exits.

</pre><h4><b>ENVIRONMENT</b></h4><pre>
       All of the <b>CONFIGURATION</b> <b>VARIABLES</b> below are also supported as environment variables.  Variables  in  the
       environment take precedence to those in configuration files.

</pre><h4><b>CONFIGURATION</b> <b>VARIABLES</b></h4><pre>
       The  following variables can be set in the environment or in <b><a href="../man5/ubuntu-dev-tools.5.html">ubuntu-dev-tools</a></b>(5) configuration files.  In
       each case, the script-specific variable takes precedence over the package-wide variable.

       <b>SPONSOR_PATCH_BUILDER</b>, <b>UBUNTUTOOLS_BUILDER</b>
              The default value for <b>--builder</b>.

       <b>SPONSOR_PATCH_LPINSTANCE</b>, <b>UBUNTUTOOLS_LPINSTANCE</b>
              The default value for <b>--lpinstance</b>.

       <b>SPONSOR_PATCH_UPDATE_BUILDER</b>, <b>UBUNTUTOOLS_UPDATE_BUILDER</b>
              The default value for <b>--update</b>.

       <b>SPONSOR_PATCH_WORKDIR</b>, <b>UBUNTUTOOLS_WORKDIR</b>
              The default value for <b>--workdir</b>.

       <b>SPONSOR_PATCH_KEYID</b>, <b>UBUNTUTOOLS_KEYID</b>
              The default value for <b>--key</b>.

</pre><h4><b>EXAMPLES</b></h4><pre>
       Test-building and sponsoring an upload of bug <b>1234</b>:

              <b>sponsor-patch</b> <b>-s</b> <b>1234</b>

       Performing a test build of bug <b>1234</b> in your PPA:

              <b>sponsor-patch</b> <b>-u</b> <b>ppa:</b><u>user</u>/<u>ppa</u> <b>1234</b>

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man1/bzr.1.html">bzr</a></b>(1), <b><a href="../man1/debchange.1.html">debchange</a></b>(1), <b><a href="../man1/debdiff.1.html">debdiff</a></b>(1), <b><a href="../man1/dput.1.html">dput</a></b>(1), <b><a href="../man1/edit-patch.1.html">edit-patch</a></b>(1), <b><a href="../man1/lintian.1.html">lintian</a></b>(1), <b><a href="../man8/cowbuilder.8.html">cowbuilder</a></b>(8),  <b><a href="../man1/cowbuilder-dist.1.html">cowbuilder-dist</a></b>(1),
       <b><a href="../man8/pbuilder.8.html">pbuilder</a></b>(8), <b><a href="../man1/pbuilder-dist.1.html">pbuilder-dist</a></b>(1), <b><a href="../man1/sbuild.1.html">sbuild</a></b>(1), <b><a href="../man5/ubuntu-dev-tools.5.html">ubuntu-dev-tools</a></b>(5), <b><a href="../man1/update-maintainer.1.html">update-maintainer</a></b>(1)

</pre><h4><b>AUTHORS</b></h4><pre>
       <b>sponsor-patch</b>  was  written  by  Benjamin  Drung &lt;<a href="mailto:bdrung@ubuntu.com">bdrung@ubuntu.com</a>&gt;, and this manual page was written by
       Stefano Rivera &lt;<a href="mailto:stefanor@ubuntu.com">stefanor@ubuntu.com</a>&gt;.

       Both are released under the terms of the ISC License.

ubuntu-dev-tools                                September 21 2010                               <u><a href="../man1/sponsor-patch.1.html">sponsor-patch</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>