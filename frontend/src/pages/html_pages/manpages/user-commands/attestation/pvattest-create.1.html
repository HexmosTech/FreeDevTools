<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>pvattest create - Create an attestation measurement request</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/s390-tools">s390-tools_2.37.0-0ubuntu2_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       <b>pvattest</b> <b>create</b> - Create an attestation measurement request

</pre><h4><b>SYNOPSIS</b></h4><pre>
       pvattest create [OPTIONS] --host-key-document &lt;FILE&gt; --output &lt;FILE&gt; --arpk &lt;FILE&gt; &lt;--no-verify|--cert &lt;FILE&gt;&gt;

</pre><h4><b>DESCRIPTION</b></h4><pre>
       Create attestation measurement requests to attest an IBM Secure Execution guest.  Only build attestation
       requests in a trusted environment such as your Workstation. To avoid compromising the attestation do not
       publish the attestation request protection key and shred it after verification. Every

</pre><h4><b>OPTIONS</b></h4><pre>
       -k, --host-key-document &lt;FILE&gt;
           Use FILE as a host-key document. Can be specified multiple times and must be specified at least once.

       --no-verify
           Disable the host-key document verification. Does not require the host-key documents to be valid. Do
           not use for a production request unless you verified the host-key document beforehand.

       -C, --cert &lt;FILE&gt;
           Use FILE as a certificate to verify the host-key or keys. The certificates are used to establish a
           chain of trust for the verification of the host-key documents. Specify this option twice to specify
           the IBM Z signing key and the intermediate CA certificate (signed by the root CA).

       --crl &lt;FILE&gt;
           Use FILE as a certificate revocation list (CRL). The list is used to check whether a certificate of
           the chain of trust is revoked. Specify this option multiple times to use multiple CRLs.

       --offline
           Make no attempt to download CRLs.

       --root-ca &lt;ROOT_CA&gt;
           Use FILE as the root-CA certificate for the verification. If omitted, the system wide-root CAs
           installed on the system are used. Use this only if you trust the specified certificate.

       -o, --output &lt;FILE&gt;
           Write the generated request to FILE.

       -a, --arpk &lt;FILE&gt;
           Save the protection key as unencrypted GCM-AES256 key in FILE Do not publish this key, otherwise your
           attestation is compromised.

       --add-data &lt;FLAGS&gt;
           Specify additional data for the request. Additional data is provided by the Ultravisor and returned
           during the attestation request and is covered by the attestation measurement. Can be specified
           multiple times. Optional.

           Possible values:
               - <b>phkh-img</b>: Request the public host-key-hash of the key that decrypted the SE-image as
               additional-data.

               - <b>phkh-att</b>: Request the public host-key-hash of the key that decrypted the attestation request as
               additional-data.

               - <b>secret-store-hash</b>: Request a hash over all successful Add-secret requests and the lock state as
               additional-data.

               - <b>firmware-state</b>: Request the state of the firmware as additional-data.

       -h, --help
           Print help (see a summary with '-h').

</pre><h4><b>EXAMPLES</b></h4><pre>
       Create an attestation request with the protection key 'arp.key', write the request to 'arcb.bin', and
       verify the host-key document using the CA-signed key 'DigiCertCA.crt' and the intermediate key
       'IbmSigningKey.crt'.

              $ pvattest create -k hkd.crt --rpk arp.key -o attreq.bin --cert DigiCertCA.crt --cert IbmSigningKey.crt

       Create an attestation request with the protection key 'arp.key', write the request to 'arcb.bin', verify
       the host-key document using the CA-signed key 'DigiCertCA.crt' and the intermediate key
       'IbmSigningKey.crt', and instead of downloading the certificate revocation list use certificate
       revocation lists 'DigiCertCA.crl', 'IbmSigningKey.crl', and 'rootCA.crl'.

               $ pvattest create -k hkd.crt --arpk arp.key -o attreq.bin --cert DigiCertCA.crt --cert IbmSigningKey.crt --offline --crl DigiCertCA.crl --crl IbmSigningKey.crl --crl rootCA.crl

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man1/pvattest.1.html">pvattest</a></b>(1)

s390-tools                                         2024-12-05                                 <u><a href="../man1/pvattest-create.1.html">pvattest-create</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>