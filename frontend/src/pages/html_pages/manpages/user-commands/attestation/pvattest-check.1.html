<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>pvattest check - Check if the attestation result matches defined policies</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/s390-tools">s390-tools_2.37.0-0ubuntu2_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       <b>pvattest</b> <b>check</b> - Check if the attestation result matches defined policies

</pre><h4><b>SYNOPSIS</b></h4><pre>
       pvattest check [OPTIONS] &lt;IN&gt; &lt;OUT&gt;

</pre><h4><b>DESCRIPTION</b></h4><pre>
       After the attestation verification, check whether the attestation result complies with user-defined
       policies.

</pre><h4><b>OPTIONS</b></h4><pre>
       &lt;IN&gt;
           Specify the attestation response to check whether the policies are validated.

       &lt;OUT&gt;
           Specify the output file for the check result.

       --format &lt;FORMAT&gt;
           Define the output format.  [default: 'yaml']

           Possible values:
               - <b>yaml</b>: Use yaml format.

       -k, --host-key-document &lt;FILE&gt;
           Use FILE to check for a host-key document. Verifies that the attestation response contains the host-
           key hash of one of the specified host keys. The check fails if none of the host-keys match the hash
           in the response. This parameter can be specified multiple times.

       --host-key-check &lt;HOST_KEY_CHECKS&gt;
           Define the host-key check policy By default, all host-key hashes are checked, and it is not
           considered a failure if a hash is missing from the attestation response. Use this policy switch to
           trigger a failure if no corresponding hash is found. Requires at least one host-key document.

           Possible values:
               - <b>att-key-hash</b>: Check the host-key used for the attestation request.

               - <b>boot-key-hash</b>: Check the host-key used to the boot the image.

       -u, --user-data &lt;FILE&gt;
           Check if the provided user data matches the data from the attestation response.

       --secret &lt;FILE&gt;
           Use FILE to include as successful Add-secret request. Checks if the Attestation response contains the
           hash of all specified add secret requests-tags. The hash is sensible to the order in which the
           secrets where added. This means that if the order of adding here different from the order the add-
           secret requests where sent to the UV this check will fail even though the same secrets are included
           in the UV secret store. Can be specified multiple times.

       --secret-store-locked &lt;BOOL&gt;
           Check whether the guests secret store is locked or not. Compares the hash of the secret store state
           to the one calculated by this option and optionally specified add-secret-requests in the correct
           order. If the attestation response does not contain a secret store hash, this check fails.

           Required if add-secret-requests are specified.

       --firmware
           Check whether the firmware is supported by IBM. Requires internet access.

       --firmware-verify-url &lt;URL&gt;
           Specify the endpoint to use for firmware version verification. Use an endpoint you trust. Requires
           the <b>--firmware</b> option.

       -h, --help
           Print help (see a summary with '-h').

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man1/pvattest.1.html">pvattest</a></b>(1)

s390-tools                                         2024-12-05                                  <u><a href="../man1/pvattest-check.1.html">pvattest-check</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>