<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ccache - a fast C/C++ compiler cache</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/ccache">ccache_4.10.2-1build1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       ccache - a fast C/C++ compiler cache

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>ccache</b> [<u>ccache</u> <u>options</u>]
       <b>ccache</b> [<u>KEY</u>=<u>VALUE</u> ...] <u>compiler</u> [<u>compiler</u> <u>options</u>]
       <u>compiler</u> [<u>compiler</u> <u>options</u>]

       The first form takes options described in COMMAND LINE OPTIONS below. The second form invokes the
       compiler, optionally using configuration options as <u>KEY</u>=<u>VALUE</u> arguments. In the third form, ccache is
       masquerading as the compiler as described in RUN MODES.

</pre><h4><b>DESCRIPTION</b></h4><pre>
       Ccache is a compiler cache. It speeds up recompilation by caching the result of previous compilations and
       detecting when the same compilation is being done again.

       Ccache has been carefully written to always produce exactly the same compiler output that you would get
       without the cache. The only way you should be able to tell that you are using ccache is the speed.
       Currently known exceptions to this goal are listed under <u>CAVEATS</u>. If you discover an undocumented case
       where ccache changes the output of your compiler, please let us know.

</pre><h4><b>RUN</b> <b>MODES</b></h4><pre>
       There are two different ways to use ccache to cache a compilation:

        1. Prefix your compilation command with <b>ccache</b>. This method is most convenient if you just want to try
           out ccache or wish to use it for some specific projects. Example:

               ccache gcc -c example.c

        2. Let ccache masquerade as the compiler. This method is most useful when you wish to use ccache for all
           your compilations. To do this on a Debian system, it’s easiest to just prepend <b>/usr/lib/ccache</b> to
           your <b>PATH</b>. <b>/usr/lib/ccache</b> contains symlinks for all compilers currently installed as Debian
           packages.

           Alternatively, you can create any symlinks you like yourself like this:

               cp /usr/bin/ccache <a href="file:/usr/local/bin/">/usr/local/bin/</a>
               ln -s ccache /usr/local/bin/gcc
               ln -s ccache /usr/local/bin/g++

           On platforms that don’t support symbolic links you can simply copy ccache to the compiler name
           instead for a similar effect:

               cp /usr/bin/ccache /usr/local/bin/gcc
               cp /usr/bin/ccache /usr/local/bin/g++

           And so forth. This will work as long as the directory with symbolic links or ccache copies comes
           before the directory with the compiler (typically <b><a href="file:/usr/bin">/usr/bin</a></b>) in <b>PATH</b>.

               <b>Warning</b>

               The technique of letting ccache masquerade as the compiler works well, but currently doesn’t
               interact well with other tools that do the same thing. See <u>USING</u> <u>CCACHE</u> <u>WITH</u> <u>OTHER</u> <u>COMPILER</u>
               <u>WRAPPERS</u>.

</pre><h4><b>COMMAND</b> <b>LINE</b> <b>OPTIONS</b></h4><pre>
       These command line options only apply when you invoke ccache as “ccache”. When ccache masquerades as a
       compiler (as described in the previous section), the normal compiler options apply and you should refer
       to the compiler’s documentation.

   <b>Common</b> <b>options</b>
       <b>-c</b>, <b>--cleanup</b>
           Clean up the cache by removing not recently used cached files until the specified file number and
           cache size limits are not exceeded. This also recalculates the cache file count and size totals.
           Normally, there is no need to initiate cleanup manually as ccache keeps the cache below the specified
           limits at runtime and keeps statistics up to date on each compilation. Forcing a cleanup is mostly
           useful if you have modified the cache contents manually or believe that the cache size statistics may
           be inaccurate.

       <b>-C</b>, <b>--clear</b>
           Clear the entire cache, removing all cached files, but keeping the configuration file.

       <b>--config-path</b> <u>PATH</u>
           Let the command line options operate on configuration file <u>PATH</u> instead of the default. Using this
           option has the same effect as setting (overriding) the environment variable <b>CCACHE_CONFIGPATH</b>
           temporarily.

       <b>-d</b>, <b>--dir</b> <u>PATH</u>
           Let the command line options operate on cache directory <u>PATH</u> instead of the default. For example, to
           show statistics for a cache directory at <b>/shared/ccache</b> you can run <b>ccache</b> <b>-d</b> <b>/shared/ccache</b> <b>-s</b>.
           Using this option has the same effect as setting the environment variable <b>CCACHE_DIR</b> temporarily.

       <b>--evict-namespace</b> <u>NAMESPACE</u>
           Remove files created in the given <b>namespace</b> from the cache.

       <b>--evict-older-than</b> <u>AGE</u>
           Remove files used less recently than <u>AGE</u> from the cache. <u>AGE</u> should be an unsigned integer with a <b>d</b>
           (days) or <b>s</b> (seconds) suffix. If combined with <b>--evict-namespace</b>, only remove files within that
           namespace.

       <b>-h</b>, <b>--help</b>
           Print a summary of command line options.

       <b>-F</b> <u>NUM</u>, <b>--max-files</b> <u>NUM</u>
           Set the maximum number of files allowed in the cache to <u>NUM</u>. Use 0 for no limit. The value is stored
           in a configuration file in the cache directory and applies to all future compilations.

       <b>-M</b> <u>SIZE</u>, <b>--max-size</b> <u>SIZE</u>
           Set the maximum size of the files stored in the cache. <u>SIZE</u> should be a number followed by an
           optional suffix: kB, MB, GB, TB (decimal), KiB, MiB, GiB or TiB (binary). The default suffix is GiB.
           Use 0 for no limit. The value is stored in a configuration file in the cache directory and applies to
           all future compilations.

       <b>-X</b> <u>LEVEL</u>, <b>--recompress</b> <u>LEVEL</u>
           Recompress the cache to level <u>LEVEL</u> using the Zstandard algorithm. The level can be an integer, with
           the same semantics as the <b>compression_level</b> configuration option, or the special value <b>uncompressed</b>
           for no compression. See <u>[Cache</u> <u>compression]</u> for more information. This can potentially take a long
           time since all files in the cache need to be visited. Only files that are currently compressed with a
           different level than <u>LEVEL</u> will be recompressed.

       <b>--recompress-threads</b> <u>THREADS</u>
           Use up to <u>THREADS</u> threads when recompressing the cache. The default is to use one thread per CPU.

       <b>-o</b> <u>KEY=VALUE</u>, <b>--set-config</b> <u>KEY</u>=<u>VALUE</u>
           Set configuration option <u>KEY</u> to <u>VALUE</u> in the configuration file. See <u>CONFIGURATION</u> for more
           information.

       <b>-x</b>, <b>--show-compression</b>
           Print cache compression statistics. See <u>CACHE</u> <u>COMPRESSION</u> for more information. This can potentially
           take a long time since all files in the cache need to be visited.

       <b>-p</b>, <b>--show-config</b>
           Print current configuration options and from where they originate (environment variable,
           configuration file or compile-time default) in human-readable format.

       <b>--show-log-stats</b>
           Print statistics counters from the stats log in human-readable format. See <b>stats_log</b>. Use
           <b>-v</b>/<b>--verbose</b> once or twice for more details.

       <b>-s</b>, <b>--show-stats</b>
           Print a summary of configuration and statistics counters in human-readable format. Use <b>-v</b>/<b>--verbose</b>
           once or twice for more details.

       <b>-v</b>, <b>--verbose</b>
           Increase verbosity. The option can be given multiple times.

       <b>-V</b>, <b>--version</b>
           Print version and copyright information.

       <b>-z</b>, <b>--zero-stats</b>
           Zero the cache statistics (but not the configuration options).

   <b>Options</b> <b>for</b> <b>remote</b> <b>file-based</b> <b>storage</b>
       <b>--trim-dir</b> <u>PATH</u>
           Remove not recently used files from directory <u>PATH</u> until it is at most the size specified by
           <b>--trim-max-size</b>.

               <b>Warning</b>

               Don’t use this option to trim the local cache. To trim the local cache directory to a certain
               size, use <b>CCACHE_MAXSIZE=</b><u>SIZE</u> <b>ccache</b> <b>-c</b><u>.</u>

       <b>--trim-max-size</b> <u>SIZE</u>
           <u>Specify</u> <u>the</u> <u>maximum</u> <u>size</u> <u>for</u> <b>--trim-dir</b><u>.</u> <u>SIZE</u> <u>should</u> <u>be</u> <u>a</u> <u>number</u> <u>followed</u> <u>by</u> <u>an</u> <u>optional</u> <u>suffix:</u> <u>kB,</u>
           <u>MB,</u> <u>GB,</u> <u>TB</u> <u>(decimal),</u> <u>KiB,</u> <u>MiB,</u> <u>GiB</u> <u>or</u> <u>TiB</u> <u>(binary).</u> <u>The</u> <u>default</u> <u>suffix</u> <u>is</u> <u>GiB.</u> <u>Use</u> <u>0</u> <u>for</u> <u>no</u> <u>limit.</u>

       <b>--trim-method</b> <u>METHOD</u>
           <u>Specify</u> <u>the</u> <u>method</u> <u>to</u> <u>trim</u> <u>a</u> <u>directory</u> <u>with</u> <b>--trim-dir</b><u>.</u> <u>Possible</u> <u>values</u> <u>are:</u>

           <b>atime</b>
               <u>LRU</u> <u>(least</u> <u>recently</u> <u>used)</u> <u>using</u> <u>the</u> <u>file</u> <u>access</u> <u>timestamp.</u> <u>This</u> <u>is</u> <u>the</u> <u>default.</u>

           <b>mtime</b>
               <u>LRU</u> <u>(least</u> <u>recently</u> <u>used)</u> <u>using</u> <u>the</u> <u>file</u> <u>modification</u> <u>timestamp.</u>

       <b>--trim-recompress</b> <u>LEVEL</u>
           <u>Recompress</u> <u>to</u> <u>level</u> <u>LEVEL</u> <u>using</u> <u>the</u> <u>Zstandard</u> <u>algorithm</u> <u>when</u> <u>using</u> <b>--trim-dir</b><u>.</u> <u>The</u> <u>level</u> <u>can</u> <u>be</u> <u>an</u>
           <u>integer,</u> <u>with</u> <u>the</u> <u>same</u> <u>semantics</u> <u>as</u> <u>the</u> <b>compression_level</b> <u>configuration</u> <u>option,</u> <u>or</u> <u>the</u> <u>special</u> <u>value</u>
           <b>uncompressed</b> <u>for</u> <u>no</u> <u>compression.</u> <u>See</u> <u>[Cache</u> <u>compression]</u> <u>for</u> <u>more</u> <u>information.</u> <u>This</u> <u>can</u> <u>potentially</u>
           <u>take</u> <u>a</u> <u>long</u> <u>time</u> <u>since</u> <u>all</u> <u>files</u> <u>in</u> <u>the</u> <u>cache</u> <u>need</u> <u>to</u> <u>be</u> <u>visited.</u> <u>Only</u> <u>files</u> <u>that</u> <u>are</u> <u>currently</u>
           <u>compressed</u> <u>with</u> <u>a</u> <u>different</u> <u>level</u> <u>than</u> <u>LEVEL</u> <u>will</u> <u>be</u> <u>recompressed.</u>

       <b>--trim-recompress-threads</b> <u>THREADS</u>
           <u>Recompress</u> <u>using</u> <u>up</u> <u>to</u> <u>THREADS</u> <u>threads</u> <u>with</u> <b>--trim-recompress</b><u>.</u> <u>The</u> <u>default</u> <u>is</u> <u>to</u> <u>use</u> <u>one</u> <u>thread</u> <u>per</u>
           <u>CPU.</u>

   <b>Options</b> <b>for</b> <b>scripting</b> <b>or</b> <b>debugging</b>
       <b>--checksum-file</b> <u>PATH</u>
           Print the checksum (128 bit XXH3) of the file at <u>PATH</u> (<b>-</b> for standard input).

       <b>--extract-result</b> <u>PATH</u>
           Extract data stored in the result file at <u>PATH</u> (<b>-</b> for standard input). The data will be written to
           <b>ccache-result.*</b> files in to the current working directory. This option is only useful when debugging
           ccache and its behavior.

       <b>--format</b> <u>FORMAT</u>
           Specify format for <b>--print-log-stats</b> and <b>--print-stats</b>. Possible values are:

           <b>tab</b>
               Tab separated. This is the default.

           <b>json</b>
               JSON formatted.

       <b>-k</b> <u>KEY</u>, <b>--get-config</b> <u>KEY</u>
           Print the value of configuration option <u>KEY</u>. See <u>CONFIGURATION</u> for more information.

       <b>--hash-file</b> <u>PATH</u>
           Print the hash (160 bit BLAKE3) of the file at <u>PATH</u> (<b>-</b> for standard input). This is only useful when
           debugging ccache and its behavior.

       <b>--inspect</b> <u>PATH</u>
           Print the content of a result or manifest file at <u>PATH</u> (<b>-</b> for standard input) to standard output in
           human-readable format. File content embedded in a result file will however not be printed; use
           <b>--extract-result</b> to extract the file content. This option is only useful when debugging ccache and
           its behavior.

       <b>--print-log-stats</b>
           Print statistics counters from the stats log in machine-parsable (tab-separated or JSON) format. See
           <b>stats_log</b> and <b>--format</b>.

       <b>--print-stats</b>
           Print statistics counter IDs and corresponding values in machine-parsable (tab-separated or JSON)
           format. See <b>--format</b>.

       <b>--print-version</b>
           Print version and don’t do anything else.

   <b>Extra</b> <b>options</b>
       When run as a compiler, ccache usually just takes the same command line options as the compiler you are
       using. The only exception to this is the option <b>--ccache-skip</b>. That option can be used to tell ccache to
       avoid interpreting the next option in any way and to pass it along to the compiler as-is.

           <b>Note</b>

           <b>--ccache-skip</b> currently only tells ccache not to interpret the next option as a special compiler
           option — the option will still be included in the direct mode hash.

       The reason this can be important is that ccache does need to parse the command line and determine what is
       an input filename and what is a compiler option, as it needs the input filename to determine the name of
       the resulting object file (among other things). The heuristic ccache uses when parsing the command line
       is that any argument that exists as a file is treated as an input file name. By using <b>--ccache-skip</b> you
       can force an option to not be treated as an input file name and instead be passed along to the compiler
       as a command line option.

       Another case where <b>--ccache-skip</b> can be useful is if ccache interprets an option specially but shouldn’t,
       since the option has another meaning for your compiler than what ccache thinks.

       See also <b>ignore_options</b>.

</pre><h4><b>CONFIGURATION</b></h4><pre>
       Ccache’s default behavior can be overridden by options in configuration files, which in turn can be
       overridden by environment variables with names starting with <b>CCACHE_</b>. Ccache normally reads configuration
       from two files: first a system-level configuration file and secondly a cache-specific configuration file.
       The priorities of configuration options are as follows (where 1 is highest):

        1. Command line settings in <u>KEY</u>=<u>VALUE</u> form. Example:

               ccache debug=true compiler_check="%compiler% --version" gcc -c example.c

        2. Environment variables.

        3. The cache-specific configuration file (see below).

        4. The system (read-only) configuration file <b>&lt;sysconfdir&gt;/ccache.conf</b> (typically <b>/etc/ccache.conf</b> or
           <b>/usr/local/etc/ccache.conf</b>).

        5. Compile-time defaults.

       As a special case, if the environment variable <b>CCACHE_CONFIGPATH</b> is set it specifies the configuration
       file, and the system configuration file won’t be read.

   <b>Location</b> <b>of</b> <b>the</b> <b>configuration</b> <b>file</b>
       The location of the cache-specific configuration file is determined like this on non-Windows systems:

        1. If <b>CCACHE_CONFIGPATH</b> is set, use that path.

        2. Otherwise, if the environment variable <b>CCACHE_DIR</b> is set then use <b>$CCACHE_DIR/ccache.conf</b>.

        3. Otherwise, if <b>cache_dir</b> is set in the system configuration file then use <b>&lt;cache_dir&gt;/ccache.conf</b>.

        4. Otherwise, if there is a legacy <b>$HOME/.ccache</b> directory then use <b>$HOME/.ccache/ccache.conf</b>.

        5. Otherwise, if <b>XDG_CONFIG_HOME</b> is set then use <b>$XDG_CONFIG_HOME/ccache/ccache.conf</b>.

        6. Otherwise, use <b>$HOME/Library/Preferences/ccache/ccache.conf</b> (macOS) or
           <b>$HOME/.config/ccache/ccache.conf</b> (other systems).

       On Windows, this is the method used to find the configuration file:

        1. If <b>CCACHE_CONFIGPATH</b> is set, use that path.

        2. Otherwise, if the environment variable <b>CCACHE_DIR</b> is set then use <b>%CCACHE_DIR%/ccache.conf</b>.

        3. Otherwise, if <b>cache_dir</b> is set in the system configuration file then use <b>&lt;cache_dir&gt;\ccache.conf</b>. The
           system-wide configuration on Windows is <b>%ALLUSERSPROFILE%\ccache\ccache.conf</b> by default. The
           <b>ALLUSERSPROFILE</b> environment variable is usually <b>C:\ProgramData</b>.

        4. Otherwise, if there is a legacy <b>%USERPROFILE%\.ccache</b> directory then use
           <b>%USERPROFILE%\.ccache\ccache.conf</b>.

        5. Otherwise, use <b>%LOCALAPPDATA%\ccache\ccache.conf</b> if it exists.

        6. Otherwise, use <b>%APPDATA%\ccache\ccache.conf</b>.

       See also the <b>cache_dir</b> configuration option for how the cache directory location is determined.

   <b>Configuration</b> <b>value</b> <b>syntax</b>
       All configuration values support expansion of environment variables. The syntax is similar to POSIX shell
       syntax: <b>$VAR</b> or <b>${VAR}</b>. Both variants will expand to the value of the environment variable <b>VAR</b>.

       Two consecutive dollar signs (<b>$$</b>) will expand to a single dollar sign (<b>$</b>).

   <b>Configuration</b> <b>file</b> <b>syntax</b>
       Configuration files are in a simple “key = value” format, one option per line. Lines starting with a hash
       sign are comments. Blank lines are ignored, as is whitespace surrounding keys and values. Example:

           # Set maximum cache size to 10 GB:
           max_size = 10G

   <b>Boolean</b> <b>values</b>
       Some configuration options are boolean values (i.e. truth values). In a configuration file, such values
       must be set to the string <b>true</b> or <b>false</b>. For the corresponding environment variables, the semantics are a
       bit different:

       •   A set environment variable means “true” (even if set to the empty string).

       •   The following case-insensitive negative values are considered an error (instead of surprising the
           user): <b>0</b>, <b>false</b>, <b>disable</b> and <b>no</b>.

       •   An unset environment variable means “false”.

       Each boolean environment variable also has a negated form starting with <b>CCACHE_NO</b>. For example,
       <b>CCACHE_COMPRESS</b> can be set to force compression and <b>CCACHE_NOCOMPRESS</b> can be set to force no compression.

   <b>Configuration</b> <b>options</b>
       Below is a list of available configuration options. The corresponding environment variable name is
       indicated in parentheses after each configuration option key.

       <b>absolute_paths_in_stderr</b> (<b>CCACHE_ABSSTDERR</b>)
           This option specifies whether ccache should rewrite relative paths in the compiler’s standard error
           output to absolute paths. This can be useful if you use <b>base_dir</b> with a build system (e.g. CMake with
           the "Unix Makefiles" generator) that executes the compiler in a different working directory, which
           makes relative paths in compiler errors or warnings incorrect. The default is false.

       <b>base_dir</b> (<b>CCACHE_BASEDIR</b>)
           This option should be an absolute path to a directory. If set, ccache will rewrite absolute paths
           into paths relative to the current working directory, but only absolute paths that begin with
           <b>base_dir</b>. Cache results can then be shared for compilations in different directories even if the
           project uses absolute paths in the compiler command line. See also the discussion under <u>COMPILING</u> <u>IN</u>
           <u>DIFFERENT</u> <u>DIRECTORIES</u>. If set to the empty string (which is the default), no rewriting is done.

           A typical path to use as <b>base_dir</b> is your home directory or another directory that is a parent of
           your project directories. Don’t use <b>/</b> as the base directory since that will make ccache also rewrite
           paths to system header files, which typically is counterproductive.

           For example, say that Alice’s current working directory is <b>/home/alice/project1/build</b> and that she
           compiles like this:

               ccache gcc -I/usr/include/example -I/home/alice/project2/include -c /home/alice/project1/src/example.c

           Here is what ccache will actually execute for different <b>base_dir</b> values:

               # Current working directory: /home/alice/project1/build

               # With base_dir = /:
               gcc -I../../../../usr/include/example -I../../project2/include -c ../src/example.c

               # With base_dir = <a href="file:/home">/home</a> or /home/alice:
               gcc -I/usr/include/example -I../../project2/include -c ../src/example.c

               # With base_dir = /home/alice/project1 or /home/alice/project1/src:
               gcc -I/usr/include/example -I/home/alice/project2/include -c ../src/example.c

           If Bob has put <b>project1</b> and <b>project2</b> in <b>/home/bob/stuff</b> and both users have set <b>base_dir</b> to <b><a href="file:/home">/home</a></b> or
           <b><a href="file:/home/">/home/</a>$USER</b>, then Bob will get a cache hit (if they share ccache directory) since the actual command
           line will be identical to Alice’s command line:

               # Current working directory: /home/bob/stuff/project1/build

               # With base_dir = <a href="file:/home">/home</a> or /home/bob:
               gcc -I/usr/include/example -I../../project2/include -c ../src/example.c

           Without <b>base_dir</b> there will be a cache miss since the absolute paths will differ. With <b>base_dir</b> set
           to <b>/</b> there will be a cache miss since the relative path to <b>/usr/include/example</b> will be different.
           With <b>base_dir</b> set to <b>/home/bob/stuff/project1</b> there will a cache miss since the path to project2 will
           be a different absolute path.

               <b>Warning</b>

               Rewriting absolute paths to relative is kind of a brittle hack. It works OK in many cases, but
               there might be cases where things break. One known issue is that absolute paths are not
               reproduced in dependency files, which can mess up dependency detection in tools like Make and
               Ninja. If possible, use relative paths in the first place instead instead of using <b>base_dir</b>.

       <b>cache_dir</b> (<b>CCACHE_DIR</b>)
           This option specifies where ccache will keep its cached compiler outputs.

           On non-Windows systems, the default is <b>$HOME/.ccache</b> if such a directory exists, otherwise
           <b>$XDG_CACHE_HOME/ccache</b> if <b>XDG_CACHE_HOME</b> is set, otherwise <b>$HOME/Library/Caches/ccache</b> (macOS) or
           <b>$HOME/.config/ccache</b> (other systems).

           On Windows, the default is <b>%USERPROFILE%\.ccache</b> if such a directory exists, otherwise
           <b>%LOCALAPPDATA%\ccache</b>.

               <b>Warning</b>

               Previous ccache versions defaulted to storing the cache in <b>%APPDATA%\ccache</b> on Windows. This can
               result in large network file transfers of the cache in domain environments and similar problems.
               Please check this directory for cache directories and either delete them or the whole directory,
               or move them to the <b>%LOCALAPPDATA%\ccache</b> directory.

           See also <u>Location</u> <u>of</u> <u>the</u> <u>configuration</u> <u>file</u>.

       <b>compiler</b> (<b>CCACHE_COMPILER</b> or (deprecated) <b>CCACHE_CC</b>)
           This option can be used to force the name of the compiler to use. If set to the empty string (which
           is the default), ccache works it out from the command line.

       <b>compiler_check</b> (<b>CCACHE_COMPILERCHECK</b>)
           By default, ccache includes the modification time (“mtime”) and size of the compiler in the hash to
           ensure that results retrieved from the cache are accurate. If compiler plugins are used, these
           plugins will also be added to the hash. This option can be used to select another strategy. Possible
           values are:

           <b>content</b>
               Hash the content of the compiler binary. This makes ccache very slightly slower compared to
               <b>mtime</b>, but makes it cope better with compiler upgrades during a build bootstrapping process.

           <b>mtime</b>
               Hash the compiler’s mtime and size, which is fast. This is the default.

           <b>none</b>
               Don’t hash anything. This may be good for situations where you can safely use the cached results
               even though the compiler’s mtime or size has changed (e.g. if the compiler is built as part of
               your build system and the compiler’s source has not changed, or if the compiler only has changes
               that don’t affect code generation). You should only use <b>none</b> if you know what you are doing.

           <b>string:value</b>
               Hash <b>value</b>. This can for instance be a compiler revision number or another string that the build
               system generates to identify the compiler.

           <u>a</u> <u>command</u> <u>string</u>
               Hash the standard output and standard error output of the specified command. The string will be
               split on whitespace to find out the command and arguments to run. No other interpretation of the
               command string will be done, except that the special word <b>%compiler%</b> will be replaced with the
               path to the compiler. Several commands can be specified with semicolon as separator. Examples:

                   %compiler% -v

                   %compiler% -dumpmachine; %compiler% -dumpversion

               You should make sure that the specified command is as fast as possible since it will be run once
               for each ccache invocation.

               Identifying the compiler using a command is useful if you want to avoid cache misses when the
               compiler has been rebuilt but not changed.

               Another case is when the compiler (as seen by ccache) actually isn’t the real compiler but
               another compiler wrapper — in that case, the default <b>mtime</b> method will hash the mtime and size of
               the other compiler wrapper, which means that ccache won’t be able to detect a compiler upgrade.
               Using a suitable command to identify the compiler is thus safer, but it’s also slower, so you
               should consider continue using the <b>mtime</b> method in combination with the <b>prefix_command</b> option if
               possible. See <u>USING</u> <u>CCACHE</u> <u>WITH</u> <u>OTHER</u> <u>COMPILER</u> <u>WRAPPERS</u>.

       <b>compiler_type</b> (<b>CCACHE_COMPILERTYPE</b>)
           Ccache normally guesses the compiler type based on the compiler name. The <b>compiler_type</b> option lets
           you force a compiler type. This can be useful if the compiler has a non-standard name but is actually
           one of the known compiler types. Possible values are:

           <b>auto</b>
               Guess one of the types below based on the compiler name (following symlinks). This is the
               default.

           <b>clang</b>
               Clang-based compiler.

           <b>clang-cl</b>
               clang-cl.

           <b>gcc</b>
               GCC-based compiler.

           <b>icl</b>
               Intel compiler on Windows.

           <b>msvc</b>
               Microsoft Visual C++ (MSVC).

           <b>nvcc</b>
               NVCC (CUDA) compiler.

           <b>other</b>
               Any compiler other than the known types.

       <b>compression</b> (<b>CCACHE_COMPRESS</b> or <b>CCACHE_NOCOMPRESS</b>, see <u>Boolean</u> <u>values</u> above)
           If true, ccache will compress data it puts in the cache. However, this option has no effect on how
           files are retrieved from the cache; compressed and uncompressed results will still be usable
           regardless of this option. The default is true.

           Compression is done using the Zstandard algorithm. The algorithm is fast enough that there should be
           little reason to turn off compression to gain performance. One exception is if the cache is located
           on a compressed file system, in which case the compression performed by ccache of course is
           redundant.

           Compression will be disabled if file cloning (the <b>file_clone</b> option) or hard linking (the <b>hard_link</b>
           option) is enabled.

       <b>compression_level</b> (<b>CCACHE_COMPRESSLEVEL</b>)
           This option determines the level at which ccache will compress object files using the real-time
           compression algorithm Zstandard. It only has effect if <b>compression</b> is enabled (which it is by
           default). Zstandard is extremely fast for decompression and very fast for compression for lower
           compression levels. The default is 0.

           Semantics of <b>compression_level</b>:

           <b>&gt;</b> <b>0</b>
               A positive value corresponds to normal Zstandard compression levels. Lower levels (e.g. <b>1</b>) mean
               faster compression but worse compression ratio. Higher levels (e.g. <b>19</b>) mean slower compression
               but better compression ratio. The maximum possible value depends on the libzstd version, but at
               least up to 19 is available for all versions. Decompression speed is essentially the same for all
               levels. As a rule of thumb, use level 5 or lower since higher levels may slow down compilations
               noticeably. Higher levels are however useful when recompressing the cache with command line
               option <b>-X</b>/<b>--recompress</b>.

           <b>&lt;</b> <b>0</b>
               A negative value corresponds to Zstandard’s “ultra-fast” compression levels, which are even
               faster than level 1 but with less good compression ratios. For instance, level <b>-3</b> corresponds to
               <b>--fast=3</b> for the <b>zstd</b> command line tool. In practice, there is little use for levels lower than
               <b>-5</b> or so.

           <b>0</b> (default)
               The value <b>0</b> means that ccache will choose a suitable level, currently <b>1</b>.

           See the Zstandard documentation &lt;<a href="http://zstd.net">http://zstd.net</a>&gt; for more information.

       <b>cpp_extension</b> (<b>CCACHE_EXTENSION</b>)
           This option can be used to force a certain extension for the intermediate preprocessed file. The
           default is to automatically determine the extension to use for intermediate preprocessor files based
           on the type of file being compiled, but that sometimes doesn’t work. For example, when using the
           “aCC” compiler on HP-UX, set the cpp extension to <b>i</b>.

       <b>debug</b> (<b>CCACHE_DEBUG</b> or <b>CCACHE_NODEBUG</b>, see <u>Boolean</u> <u>values</u> above)
           If true, enable the debug mode. The debug mode creates per-object debug files that are helpful when
           debugging unexpected cache misses. Note however that ccache performance will be reduced slightly. See
           <u>CACHE</u> <u>DEBUGGING</u> for more information. The default is false.

       <b>debug_dir</b> (<b>CCACHE_DEBUGDIR</b>)
           Specifies where to write per-object debug files if the debug mode is enabled. If set to the empty
           string, the files will be written next to the object file. If set to a directory, the debug files
           will be written with full absolute paths in that directory, creating it if needed. The default is the
           empty string.

           For example, if <b>debug_dir</b> is set to <b>/example</b>, the current working directory is <b>/home/user</b> and the
           object file is <b>build/output.o</b> then the debug log will be written to
           <b>/example/home/user/build/output.o.ccache-log</b>. See also <u>CACHE</u> <u>DEBUGGING</u>.

       <b>debug_level</b> (<b>CCACHE_DEBUGLEVEL</b>)
           Specifies the amount of information that is written when the debug mode is enabled. See <u>CACHE</u>
           <u>DEBUGGING</u> for more information. The default is 2.

       <b>depend_mode</b> (<b>CCACHE_DEPEND</b> or <b>CCACHE_NODEPEND</b>, see <u>Boolean</u> <u>values</u> above)
           If true, the depend mode will be used. The default is false. See <u>The</u> <u>depend</u> <u>mode</u>.

       <b>direct_mode</b> (<b>CCACHE_DIRECT</b> or <b>CCACHE_NODIRECT</b>, see <u>Boolean</u> <u>values</u> above)
           If true, the direct mode will be used. The default is true. See <u>The</u> <u>direct</u> <u>mode</u>.

       <b>disable</b> (<b>CCACHE_DISABLE</b> or <b>CCACHE_NODISABLE</b>, see <u>Boolean</u> <u>values</u> above)
           When true, ccache will just call the real compiler, bypassing the cache completely. The default is
           false.

           It is also possible to disable ccache for a specific source code file by adding the string
           <b>ccache:disable</b> in a comment in the first 4096 bytes of the file.

       <b>extra_files_to_hash</b> (<b>CCACHE_EXTRAFILES</b>)
           This option is a list of paths to files that ccache will include in the the hash sum that identifies
           the build. The list separator is semicolon on Windows systems and colon on other systems.

       <b>file_clone</b> (<b>CCACHE_FILECLONE</b> or <b>CCACHE_NOFILECLONE</b>, see <u>Boolean</u> <u>values</u> above)
           If true, ccache will attempt to use file cloning (also known as “copy on write”, “CoW” or “reflinks”)
           to store and fetch cached compiler results. <b>file_clone</b> has priority over <b>hard_link</b>. The default is
           false.

           Files stored by cloning cannot be compressed, so the cache size will likely be significantly larger
           if this option is enabled. However, performance may be improved depending on the use case.

           Unlike the <b>hard_link</b> option, <b>file_clone</b> is completely safe to use, but not all file systems support
           the feature. For such file systems, ccache will fall back to use plain copying (or hard links if
           <b>hard_link</b> is enabled).

       <b>hard_link</b> (<b>CCACHE_HARDLINK</b> or <b>CCACHE_NOHARDLINK</b>, see <u>Boolean</u> <u>values</u> above)
           If true, ccache will attempt to use hard links to store and fetch cached object files. The default is
           false.

           Files stored via hard links cannot be compressed, so the cache size will likely be significantly
           larger if this option is enabled. However, performance may be improved depending on the use case.

               <b>Warning</b>

               Do not enable this option unless you are aware of these caveats:

           •   If the resulting file is modified, the file in the cache will also be modified since they share
               content, which corrupts the cache entry. As of version 4.0, ccache makes stored and fetched
               object files read-only as a safety measure. Furthermore, a simple integrity check is made for
               cached object files by verifying that their sizes are correct. This means that mistakes like
               <b>strip</b> <b>file.o</b> or <b>echo</b> <b>&gt;file.o</b> will be detected even if the object file is made writable, but a
               modification that doesn’t change the file size will not.

           •   Programs that don’t expect that files from two different identical compilations are hard links to
               each other can fail.

           •   Programs that rely on modification times (like <b>make</b>) can be confused if several users (or one
               user with several build trees) use the same cache directory. The reason for this is that the
               object files share i-nodes and therefore modification times. If <b>file.o</b> is in build tree <b>A</b>
               (hard-linked from the cache) and <b>file.o</b> then is produced by ccache in build tree <b>B</b> by
               hard-linking from the cache, the modification timestamp will be updated for <b>file.o</b> in build tree
               <b>A</b> as well. This can retrigger relinking in build tree <b>A</b> even though nothing really has changed.

       <b>hash_dir</b> (<b>CCACHE_HASHDIR</b> or <b>CCACHE_NOHASHDIR</b>, see <u>Boolean</u> <u>values</u> above)
           If true (which is the default), ccache will include the current working directory (CWD) in the hash
           that is used to distinguish two compilations when generating debug info (compiler option <b>-g</b> with
           variations). Exception: The CWD will not be included in the hash if <b>base_dir</b> is set (and matches the
           CWD) and the compiler option <b>-fdebug-prefix-map</b> is used. See also the discussion under <u>COMPILING</u> <u>IN</u>
           <u>DIFFERENT</u> <u>DIRECTORIES</u>.

           The reason for including the CWD in the hash by default is to prevent a problem with the storage of
           the current working directory in the debug info of an object file, which can lead ccache to return a
           cached object file that has the working directory in the debug info set incorrectly.

           You can disable this option to get cache hits when compiling the same source code in different
           directories if you don’t mind that CWD in the debug info might be incorrect.

       <b>ignore_headers_in_manifest</b> (<b>CCACHE_IGNOREHEADERS</b>)
           This option is a list of paths to files (or directories with headers) that ccache will <b>not</b> include in
           the manifest list that makes up the direct mode. Note that this can cause stale cache hits if those
           headers do indeed change. The list separator is semicolon on Windows systems and colon on other
           systems.

       <b>ignore_options</b> (<b>CCACHE_IGNOREOPTIONS</b>)
           This option is a space-delimited list of compiler options that ccache will ignore. Entries in the
           list can optionally end with an asterisk (<b>*</b>) to matching any option suffix. For example,
           <b>-fmessage-length=*</b> will match both <b>-fmessage-length=20</b> and <b>-fmessage-length=70</b>. A matching compiler
           option will neither be interpreted specially nor be part of the input hash. Ignoring a compiler
           option from the hash can be useful when you know it doesn’t affect the result (and ccache doesn’t
           know that), or when it does and you don’t care. See also <u>Extra</u> <u>options</u>.

       <b>inode_cache</b> (<b>CCACHE_INODECACHE</b> or <b>CCACHE_NOINODECACHE</b>, see <u>Boolean</u> <u>values</u> above)
           If true, ccache will cache source file hashes based on device, inode and timestamps. This reduces the
           time spent on hashing include files since the result can be reused between compilations. The default
           is true. The feature requires <b>temporary_dir</b> to be located on a local filesystem of a supported type.

               <b>Note</b>

               Support for the inode cache feature on Windows is experimental. On Windows the default is false.

       <b>keep_comments_cpp</b> (<b>CCACHE_COMMENTS</b> or <b>CCACHE_NOCOMMENTS</b>, see <u>Boolean</u> <u>values</u> above)
           If true, ccache will not discard the comments before hashing preprocessor output. The default is
           false. This can be used to check documentation with <b>-Wdocumentation</b>.

       <b>log_file</b> (<b>CCACHE_LOGFILE</b>)
           If set to a file path, ccache will write information on what it is doing to the specified file. This
           is useful for tracking down problems.

           If set to <b>syslog</b>, ccache will log using <b>syslog()</b> instead of to a file. If you use rsyslogd, you can
           add something like this to <b><a href="file:/etc/rsyslog.conf">/etc/rsyslog.conf</a></b> or a file in <b><a href="file:/etc/rsyslog.d">/etc/rsyslog.d</a></b>:

               # log ccache to file
               :programname, isequal, "ccache"         /var/log/ccache
               # remove from syslog
               &amp; ~

       <b>max_files</b> (<b>CCACHE_MAXFILES</b>)
           This option specifies the maximum number of files to keep in the cache. Use 0 for no limit (which is
           the default). See also <u>CACHE</u> <u>SIZE</u> <u>MANAGEMENT</u>.

       <b>max_size</b> (<b>CCACHE_MAXSIZE</b>)
           This option specifies the maximum size of the cache. Use 0 for no limit. The default value is 5G.
           Available suffixes: k, M, G, T (decimal) and Ki, Mi, Gi, Ti (binary). The default suffix is G. See
           also <u>CACHE</u> <u>SIZE</u> <u>MANAGEMENT</u>.

       <b>msvc_dep_prefix</b> (<b>CCACHE_MSVC_DEP_PREFIX</b>)
           This option specifies the prefix of included files output for MSVC compiler. The default prefix is
           “Note: including file:”. If you use a localized compiler, this should be set accordingly.

       <b>namespace</b> (<b>CCACHE_NAMESPACE</b>)
           If set, the namespace string will be added to the hashed data for each compilation. This will make
           the associated cache entries logically separate from cache entries with other namespaces, but they
           will still share the same storage space. Cache entries can also be selectively removed from the local
           cache with the command line option <b>--evict-namespace</b>, potentially in combination with
           <b>--evict-older-than</b>.

           For instance, if you use the same local cache for several disparate projects, you can use a unique
           namespace string for each one. This allows you to remove cache entries that belong to a certain
           project if you stop working with that project.

       <b>path</b> (<b>CCACHE_PATH</b>)
           If set, ccache will search directories in this list when looking for the real compiler. The list
           separator is semicolon on Windows systems and colon on other systems. If not set, ccache will look
           for the first executable matching the compiler name in the normal <b>PATH</b> that isn’t a symbolic link to
           ccache itself.

       <b>pch_external_checksum</b> (<b>CCACHE_PCH_EXTSUM</b> or <b>CCACHE_NOPCH_EXTSUM</b>, see <u>Boolean</u> <u>values</u> above)
           When this option is set, and ccache finds a precompiled header file, ccache will look for a file with
           the extension “.sum” added (e.g. “pre.h.gch.sum”), and if found, it will hash this file instead of
           the precompiled header itself to work around the performance penalty of hashing very large files.

       <b>prefix_command</b> (<b>CCACHE_PREFIX</b>)
           This option adds a list of prefixes (separated by space) to the command line that ccache uses when
           invoking the compiler. See also <u>USING</u> <u>CCACHE</u> <u>WITH</u> <u>OTHER</u> <u>COMPILER</u> <u>WRAPPERS</u>.

       <b>prefix_command_cpp</b> (<b>CCACHE_PREFIX_CPP</b>)
           This option adds a list of prefixes (separated by space) to the command line that ccache uses when
           invoking the preprocessor.

       <b>read_only</b> (<b>CCACHE_READONLY</b> or <b>CCACHE_NOREADONLY</b>, see <u>Boolean</u> <u>values</u> above)
           If true, ccache will attempt to use existing cached results, but it will not add new results to any
           cache backend. Statistics counters will still be updated, though, unless the <b>stats</b> option is set to
           <b>false</b>.

           If you are using this because your ccache directory is read-only, you need to set <b>temporary_dir</b> since
           ccache will fail to create temporary files otherwise. You may also want to set <b>stats</b> to <b>false</b> make
           ccache not even try to update stats files.

       <b>read_only_direct</b> (<b>CCACHE_READONLY_DIRECT</b> or <b>CCACHE_NOREADONLY_DIRECT</b>, see <u>Boolean</u> <u>values</u> above)
           Just like <b>read_only</b> except that ccache will only try to retrieve results from the cache using the
           direct mode, not the preprocessor mode. See documentation for <b>read_only</b> regarding using a read-only
           ccache directory.

       <b>recache</b> (<b>CCACHE_RECACHE</b> or <b>CCACHE_NORECACHE</b>, see <u>Boolean</u> <u>values</u> above)
           If true, ccache will not use any previously stored result. New results will still be cached, possibly
           overwriting any pre-existing results.

       <b>remote_only</b> (<b>CCACHE_REMOTE_ONLY</b> or <b>CCACHE_NOREMOTE_ONLY</b>, see <u>Boolean</u> <u>values</u> above)
           If true, ccache will only use remote storage. The default is false. Note that cache statistics
           counters will still be kept in the local cache directory unless <b>stats</b> is false. See also <u>Storage</u>
           <u>interaction</u>.

       <b>remote_storage</b> (<b>CCACHE_REMOTE_STORAGE</b>)
           This option specifies one or several storage backends (separated by space) to query after checking
           the local cache (unless <b>remote_only</b> is true). See <u>REMOTE</u> <u>STORAGE</u> <u>BACKENDS</u> for documentation of syntax
           and available backends.

           Examples:

           •   <b>file:/shared/nfs/directory</b>

           •   <b>file:///shared/nfs/one|read-only</b> <b>file:///shared/nfs/two</b>

           •   <b>file:///Z:/example/windows/folder</b>

           •   <b><a href="http://example.com/cache">http://example.com/cache</a></b>

           •   <b>redis://example.com</b>

                   <b>Note</b>

                   In previous ccache versions this option was called <b>secondary_storage</b>
                   (<b>CCACHE_SECONDARY_STORAGE</b>), which can still be used as an alias.

       <b>reshare</b> (<b>CCACHE_RESHARE</b> or <b>CCACHE_NORESHARE</b>, see <u>Boolean</u> <u>values</u> above)
           If true, ccache will write results to remote storage even for local storage cache hits. The default
           is false.

       <b>run_second_cpp</b> (<b>CCACHE_CPP2</b> or <b>CCACHE_NOCPP2</b>, see <u>Boolean</u> <u>values</u> above)
           If true, ccache will first run the preprocessor to preprocess the source code (see <u>The</u> <u>preprocessor</u>
           <u>mode</u>) and then on a cache miss run the compiler on the source code to get hold of the object file.
           This is the default.

           If false, ccache will first run preprocessor to preprocess the source code and then on a cache miss
           run the compiler on the <u>preprocessed</u> <u>source</u> <u>code</u> instead of the original source code. This makes
           cache misses slightly faster since the source code only has to be preprocessed once. The downside is
           that some compilers won’t produce the same result (for instance diagnostics warnings) when compiling
           preprocessed source code.

           A solution to the above mentioned downside is to set <b>run_second_cpp</b> to false and pass
           <b>-fdirectives-only</b> (for GCC) or <b>-frewrite-includes</b> (for Clang) to the compiler. This will cause the
           compiler to leave the macros and other preprocessor information, and only process the <b>#include</b>
           directives. When run in this way, the preprocessor arguments will be passed to the compiler since it
           still has to do <u>some</u> preprocessing (like macros).

           This option is ignored with MSVC, as there is no way to make it compile without preprocessing first.

       <b>sloppiness</b> (<b>CCACHE_SLOPPINESS</b>)
           By default, ccache tries to give as few false cache hits as possible. However, in certain situations
           it’s possible that you know things that ccache can’t take for granted. This option makes it possible
           to tell ccache to relax some checks in order to increase the hit rate. The value should be a
           comma-separated string with one or several of the following values:

           <b>clang_index_store</b>
               Ignore the Clang compiler option <b>-index-store-path</b> and its argument when computing the manifest
               hash. This is useful if you use Xcode, which uses an index store path derived from the local
               project path. Note that the index store won’t be updated correctly on cache hits if you enable
               this sloppiness.

           <b>file_stat_matches</b>
               Ccache normally examines a file’s contents to determine whether it matches the cached version.
               With this sloppiness set, ccache will consider a file as matching its cached version if the
               mtimes and ctimes match.

           <b>file_stat_matches_ctime</b>
               Ignore ctimes when <b>file_stat_matches</b> is enabled. This can be useful when backdating files' mtimes
               in a controlled way.

           <b>gcno_cwd</b>
               By default, ccache will include the current working directory in the hash when producing a <b>.gcno</b>
               file (when compiling with <b>-ftest-coverage</b>). This is because GCC 9+ includes the current working
               directory in the <b>.gcno</b> file. The <b>gcno_cwd</b> sloppiness makes ccache not hash the current working
               directory so that you can get cache hits when compiling in different directories, with the
               tradeoff of potentially getting an incorrect directory in the <b>.gcno</b> file. <b>gcno_cwd</b> also disables
               hashing of the current working directory if <b>-fprofile-abs-path</b> is used.

                   <b>Note</b>

                   <b>gcno_cwd</b> sloppiness will not have any effect when compiling with <b>--coverage</b> since that
                   implies <b>-fprofile-arcs</b> which always forces CWD to be included in the input hash.

           <b>incbin</b>
               By default, ccache will ignore all files containing an <b>.incbin</b> directive. While this is the
               correct behaviour as ccache does not detect incbin changes, this restriction can make some
               projects difficult to cache. This sloppiness will pretend the <b>.incbin</b> directive doesn’t exist and
               simply allow caching.

           <b>include_file_ctime</b>
               By default, ccache will disable caching if a source code file has a status change time (ctime)
               after the start of the ccache invocation. This sloppiness disables that check. See also <u>[Handling</u>
               <u>of</u> <u>newly</u> <u>created</u> <u>source</u> <u>files]</u>.

           <b>include_file_mtime</b>
               By default, ccache will disable caching if a source code file has a modification time (mtime)
               after the start of the ccache invocation. This sloppiness disables that check. See also <u>[Handling</u>
               <u>of</u> <u>newly</u> <u>created</u> <u>source</u> <u>files]</u>.

           <b>ivfsoverlay</b>
               Ignore the Clang compiler option <b>-ivfsoverlay</b> and its argument. This is useful if you use Xcode,
               which uses a virtual file system (VFS) for things like combining Objective-C and Swift code.

           <b>locale</b>
               Ccache includes the environment variables <b>LANG</b>, <b>LC_ALL</b>, <b>LC_CTYPE</b> and <b>LC_MESSAGES</b> in the hash by
               default since they may affect localization of compiler warning messages. Set this sloppiness to
               tell ccache not to do that.

           <b>modules</b>
               By default, ccache will not cache compilations if <b>-fmodules</b> is used since it cannot hash the
               state of compiler’s internal representation of relevant modules. This sloppiness allows caching
               in such a case. See <u>C++</u> <u>MODULES</u> for more information.

           <b>pch_defines</b>
               Be sloppy about <b>#define</b> directives when precompiling a header file. See <u>PRECOMPILED</u> <u>HEADERS</u> for
               more information.

           <b>random_seed</b>
               Ignore the <b>-frandom-seed</b> option and its arguments when computing the input hash. This is useful
               if your build system generates different seeds between builds and you are OK with reusing cached
               results.

           <b>system_headers</b>
               Only check non-system headers in direct mode. This can be useful if e.g. your system headers tend
               to change but you know that the changes don’t matter. Notes:

               •   This sloppiness is only supported for GCC-like compilers, not MSVC.

               •   System headers are still taken into account for preprocessed lookup.

               •   You can get stale cache hits if the system headers do change in incompatible ways.

               •   See also the <b>ignore_headers_in_manifest</b> setting.

           <b>time_macros</b>
               Ignore <b>__DATE__</b>, <b>__TIME__</b> and <b>__TIMESTAMP__</b> being present in the source code.

           See the discussion under <u>TROUBLESHOOTING</u> for more information.

       <b>stats</b> (<b>CCACHE_STATS</b> or <b>CCACHE_NOSTATS</b>, see <u>Boolean</u> <u>values</u> above)
           If true, ccache will update the statistics counters on each compilation. The default is true. If
           false, <u>[automatic</u> <u>cleanup]</u> will be disabled as well.

       <b>stats_log</b> (<b>CCACHE_STATSLOG</b>)
           If set to a file path, ccache will write statistics counter updates to the specified file. This is
           useful for getting statistics for individual builds. To show a summary of the current stats log, use
           <b>ccache</b> <b>--show-log-stats</b>.

               <b>Note</b>

               Lines in the stats log starting with a hash sign (<b>#</b>) are comments.

       <b>temporary_dir</b> (<b>CCACHE_TEMPDIR</b>)
           This option specifies where ccache will put temporary files. The default is
           <b>$XDG_RUNTIME_DIR/ccache-tmp</b> (typically <b><a href="file:/run/user/">/run/user/</a>&lt;UID&gt;/ccache-tmp</b>) if <b>XDG_RUNTIME_DIR</b> is set and the
           directory exists, otherwise <b>&lt;cache_dir&gt;<a href="file:/tmp">/tmp</a></b>.

               <b>Note</b>

               In previous versions of ccache, <b>CCACHE_TEMPDIR</b> had to be on the same filesystem as the <b>CCACHE_DIR</b>
               path, but this requirement has been relaxed.

       <b>umask</b> (<b>CCACHE_UMASK</b>)
           This option (an octal integer) specifies the umask for files and directories in the cache directory.
           This is mostly useful when you wish to share your cache with other users.

   <b>Disabling</b> <b>ccache</b>
       To disable ccache completely for all invocations, set <b>disable</b> <b>=</b> <b>true</b> (<b>CCACHE_DISABLE=1</b>). You can also
       disable ccache for a certain source code file by adding the string <b>ccache:disable</b> in a comment in the
       first 4096 bytes of the file. In the latter case the <b>Ccache</b> <b>disabled</b> statistics counter will be
       increased.

</pre><h4><b>REMOTE</b> <b>STORAGE</b> <b>BACKENDS</b></h4><pre>
       The <b>remote_storage</b> option lets you configure ccache to use one or several remote storage backends. By
       default, the local cache directory located in <b>cache_dir</b> will be queried first and remote storage second,
       but <b>remote_only</b> can be set to true to disable local storage. Note that cache statistics counters will
       still be kept in the local cache directory — remote storage backends only store compilation results and
       manifests.

       A remote storage backend is specified with a URL, optionally followed by a pipe (<b>|</b>) and a pipe-separated
       list of attributes. An attribute is <u>key</u>=<u>value</u> or just <u>key</u> as a short form of <u>key</u>=<b>true</b>. Attribute values
       must be percent-encoded &lt;https://en.wikipedia.org/wiki/Percent-encoding&gt; if they contain percent, pipe or
       space characters.

   <b>Attributes</b> <b>for</b> <b>all</b> <b>backends</b>
       These optional attributes are available for all remote storage backends:

       •   <b>read-only</b>: If <b>true</b>, only read from this backend, don’t write. The default is <b>false</b>.

       •   <b>shards</b>: A comma-separated list of names for sharding (partitioning) the cache entries using
           Rendezvous hashing &lt;https://en.wikipedia.org/wiki/Rendezvous_hashing&gt;, typically to spread the cache
           over a server cluster. When set, the storage URL must contain an asterisk (<b>*</b>), which will be replaced
           by one of the shard names to form a real URL. A shard name can optionally have an appended weight
           within parentheses to indicate how much of the key space should be associated with that shard. A
           shard with weight <b>w</b> will contain <b>w</b>/<b>S</b> of the cache, where <b>S</b> is the sum of all shard weights. A weight
           could for instance be set to represent the available memory for a memory cache on a specific server.
           The default weight is <b>1</b>.

           Examples:

           •   <b>redis://cache-*.example.com|shards=<a href="../man3/a.3.html">a</a>(3),<a href="../man1/b.1.html">b</a>(1),c(1.5)</b> will put 55% (3/5.5) of the cache on
               <b>redis://cache-a.example.com</b>, 18% (1/5.5) on <b>redis://cache-b.example.com</b> and 27% (1.5/5.5) on
               <b>redis://cache-c.example.com</b>.

           •   <b><a href="http://example.com/">http://example.com/</a>*|shards=alpha,beta</b> will put 50% of the cache on <b><a href="http://example.com/alpha">http://example.com/alpha</a></b> and
               50% on <b><a href="http://example.com/beta">http://example.com/beta</a></b>.

   <b>Storage</b> <b>interaction</b>
       The table below describes the interaction between local and remote storage on cache hits and misses if
       <b>remote_only</b> is false (which is the default):
       ┌───────────────┬────────────────┬──────────────────────────────┐
       │               │                │                              │
       │ <b>Local</b> <b>storage</b> │ <b>Remote</b> <b>storage</b> │ <b>What</b> <b>happens</b>                 │
       ├───────────────┼────────────────┼──────────────────────────────┤
       │               │                │                              │
       │ miss          │ miss           │ Compile, write to local,     │
       │               │                │ write to remote[1]           │
       ├───────────────┼────────────────┼──────────────────────────────┤
       │               │                │                              │
       │ miss          │ hit            │ Read from remote, write to   │
       │               │                │ local                        │
       ├───────────────┼────────────────┼──────────────────────────────┤
       │               │                │                              │
       │ hit           │ -              │ Read from local, don’t write │
       │               │                │ to remote[2]                 │
       └───────────────┴────────────────┴──────────────────────────────┘

       [1] Unless remote storage has attribute <b>read-only=true</b>.
       [2] Unless local storage is set to share its cache hits with the <b>reshare</b> option.

       If <b>remote_only</b> is true:
       ┌───────────────┬────────────────┬───────────────────────────┐
       │               │                │                           │
       │ <b>Local</b> <b>storage</b> │ <b>Remote</b> <b>storage</b> │ <b>What</b> <b>happens</b>              │
       ├───────────────┼────────────────┼───────────────────────────┤
       │               │                │                           │
       │ -             │ miss           │ Compile, write to remote, │
       │               │                │ don’t write to local      │
       ├───────────────┼────────────────┼───────────────────────────┤
       │               │                │                           │
       │ -             │ hit            │ Read from remote, don’t   │
       │               │                │ write to local            │
       └───────────────┴────────────────┴───────────────────────────┘

   <b>File</b> <b>storage</b> <b>backend</b>
       URL format: <b>file:DIRECTORY</b> or <b>file://[HOST]DIRECTORY</b>

       This backend stores data as separate files in a directory structure below <b>DIRECTORY</b>, similar (but not
       identical) to the local cache storage. A typical use case for this backend would be sharing a cache on an
       NFS directory. <b>DIRECTORY</b> must start with a slash. <b>HOST</b> can be the empty string or localhost. On Windows,
       <b>HOST</b> can also be the name of a server hosting a shared folder.

           <b>Important</b>

           ccache will not perform any cleanup of the storage — that has to be done by other means, for instance
           by running <b>ccache</b> <b>--trim-dir</b> periodically.

       Examples:

       •   <b>file:/shared/nfs/directory</b>

       •   <b>file:///shared/nfs/directory|umask=002|update-mtime=true</b>

       •   <b>file:///Z:/example/windows/folder</b>

       •   <b>file://example.com/shared/ccache%20folder</b>

       Optional attributes:

       •   <b>layout</b>: How to store file under the cache directory. Available values:

           •   <b>flat</b>: Store all files directly under the cache directory.

           •   <b>subdirs</b>: Store files in 256 subdirectories of the cache directory.

           The default is <b>subdirs</b>.

       •   <b>umask</b>: This attribute (an octal integer) overrides the umask to use for files and directories in the
           cache directory.

       •   <b>update-mtime</b>: If <b>true</b>, update the modification time (mtime) of cache entries that are read. The
           default is <b>false</b>.

   <b>HTTP</b> <b>storage</b> <b>backend</b>
       URL format: <b><a href="http://HOST">http://HOST</a>[:PORT][/PATH]</b>

       This backend stores data in an HTTP-compatible server. The required HTTP methods are <b>GET</b>, <b>PUT</b> and <b>DELETE</b>.

           <b>Important</b>

           ccache will not perform any cleanup of the storage — that has to be done by other means, for instance
           by running <b>ccache</b> <b>--trim-dir</b> periodically.

           <b>Note</b>

           HTTPS is not supported.

           <b>Tip</b>

           See How to set up HTTP storage &lt;https://ccache.dev/howto/http-storage.html&gt; for hints on how to set
           up an HTTP server for use with ccache.

       Examples:

       •   <b><a href="http://localhost">http://localhost</a></b>

       •   <b><a href="http://someusername">http://someusername</a>:<a href="mailto:p4ssw0rd@example.com">p4ssw0rd@example.com</a>/cache/</b>

       •   <b><a href="http://localhost">http://localhost</a>:8080|layout=bazel|connect-timeout=50</b>

       Optional attributes:

       •   <b>bearer-token</b>: Bearer token used to authorize the HTTP requests.

       •   <b>connect-timeout</b>: Timeout (in ms) for network connection. The default is 100.

       •   <b>keep-alive</b>: If <b>true</b>, keep the HTTP connection to the storage server open to avoid reconnects. The
           default is <b>true</b>.

       •   <b>layout</b>: How to map key names to the path part of the URL. Available values:

           •   <b>bazel</b>: Store values in a format compatible with the Bazel HTTP caching protocol. More
               specifically, the entries will be stored as 64 hex digits under the <b>/ac/</b> part of the cache.

                   <b>Note</b>

                   You may have to disable verification of action cache values in the server for this to work
                   since ccache entries are not valid action result metadata values.

           •   <b>flat</b>: Append the key directly to the path part of the URL (with a leading slash if needed).

           •   <b>subdirs</b>: Append the first two characters of the key to the URL (with a leading slash if needed),
               followed by a slash and the rest of the key. This divides the entries into 256 buckets.

           The default is <b>subdirs</b>.

       •   <b>operation-timeout</b>: Timeout (in ms) for HTTP requests. The default is 10000.

   <b>Redis</b> <b>storage</b> <b>backend</b>
       URL formats:

       <b>redis://[[USERNAME:]PASSWORD@]HOST[:PORT][/DBNUMBER]</b>
       <b>redis+unix:SOCKET_PATH[?db=DBNUMBER]</b>
       <b>redis+unix://[[USERNAME:]PASSWORD@localhost]SOCKET_PATH[?db=DBNUMBER]</b>

       This backend stores data in a Redis &lt;https://redis.io&gt; (or Redis-compatible) server. There are
       implementations for both memory-based and disk-based storage. <b>PORT</b> defaults to <b>6379</b> and <b>DBNUMBER</b> defaults
       to <b>0</b>.

           <b>Note</b>

           ccache will not perform any cleanup of the Redis storage, but you can configure LRU eviction
           &lt;https://redis.io/topics/lru-cache&gt;.

           <b>Tip</b>

           See How to set up Redis &lt;https://ccache.dev/howto/redis-storage.html&gt; storage"  for hints on setting
           up a Redis server for use with ccache.

           <b>Tip</b>

           You can set up a cluster of Redis servers using the <b>shards</b> attribute described in <u>REMOTE</u> <u>STORAGE</u>
           <u>BACKENDS</u>.

       Examples:

       •   <b>redis://localhost</b>

       •   <b>redis://<a href="mailto:p4ssw0rd@cache.example.com">p4ssw0rd@cache.example.com</a>:6379/0|connect-timeout=50</b>

       •   <b>redis+unix:/run/redis.sock</b>

       •   <b>redis+unix:///run/redis.sock</b>

       •   <b>redis+unix://p4ssw0rd@localhost/run/redis.sock?db=0</b>

       Optional attributes:

       •   <b>connect-timeout</b>: Timeout (in ms) for network connection. The default is 100.

       •   <b>operation-timeout</b>: Timeout (in ms) for Redis commands. The default is 10000.

</pre><h4><b>CACHE</b> <b>SIZE</b> <b>MANAGEMENT</b></h4><pre>
       By default, ccache has a 5 GB limit on the total size of files in the cache and no limit on the number of
       files. You can set different limits using the command line options <b>-M</b>/<b>--max-size</b> and <b>-F</b>/<b>--max-files</b>. Use
       the <b>-s</b>/<b>--show-stats</b> option to see the cache size and the currently configured limits (in addition to
       other various statistics).

       Cleanup can be triggered in two different ways: automatic and manual.

   <b>Automatic</b> <b>cleanup</b>
       After a new compilation result has been written to the local cache, ccache will trigger an automatic
       cleanup if <b>max_size</b> or <b>max_files</b> is exceeded. The cleanup removes cache entries in LRU (least recently
       used) order based on the modification time (mtime) of files in the cache. For this reason, ccache updates
       mtime of the cache files read on a cache hit to mark them as recently used.

   <b>Manual</b> <b>cleanup</b>
       You can run <b>ccache</b> <b>-c/--cleanup</b> to force cleanup of the whole cache. This will recalculate the cache size
       information and also make sure that the cache size does not exceed <b>max_size</b> and <b>max_files</b>.

</pre><h4><b>CACHE</b> <b>COMPRESSION</b></h4><pre>
       Ccache will by default compress all data it puts into the cache using the compression algorithm Zstandard
       &lt;<a href="http://zstd.net">http://zstd.net</a>&gt; (zstd) using compression level 1. The algorithm is fast enough that there should be
       little reason to turn off compression to gain performance. One exception is if the cache is located on a
       compressed file system, in which case the compression performed by ccache of course is redundant. See the
       documentation for the configuration options <b>compression</b> and <b>compression_level</b> for more information.

       You can use the command line option <b>-x</b>/<b>--show-compression</b> to print information related to compression.
       Example:

           Total data:           14.8 GB (16.0 GB disk blocks)
           Compressed data:      11.3 GB (30.6% of original size)
             Original size:      36.9 GB
             Compression ratio: 3.267 x  (69.4% space savings)
           Incompressible data:   3.5 GB

       Notes:

       •   The “disk blocks” size is the cache size when taking disk block size into account. This value should
           match the “Cache size” value from “ccache --show-stats”. The other size numbers refer to actual
           content sizes.

       •   “Compressed data” refers to result and manifest files stored in the cache.

       •   “Incompressible data” refers to files that are always stored uncompressed (triggered by enabling
           <b>file_clone</b> or <b>hard_link</b>) or unknown files (for instance files created by older ccache versions).

       •   The compression ratio is affected by <b>compression_level</b>.

       The cache data can also be recompressed to another compression level (or made uncompressed) with the
       command line option <b>-X</b>/<b>--recompress</b>. If you choose to disable compression by default or to use a low
       compression level, you can (re)compress newly cached data with a higher compression level after the build
       or at another time when there are more CPU cycles available, for instance every night. Full recompression
       potentially takes a lot of time, but only files that are currently compressed with a different level than
       the target level will be recompressed.

</pre><h4><b>CACHE</b> <b>STATISTICS</b></h4><pre>
       <b>ccache</b> <b>--show-stats</b> shows a summary of statistics, including cache size, cleanups (number of performed
       cleanups, either implicitly due to a cache size limit being reached or due to explicit <b>ccache</b> <b>-c</b> calls),
       overall hit rate, hit rate for direct/preprocessed modes and hit rate for local and remote storage.

       The summary also includes counters called “Errors” and “Uncacheable”, which are sums of more detailed
       counters. To see those detailed counters, use the <b>-v</b>/<b>--verbose</b> flag. The verbose mode can show the
       following counters:
       ┌────────────────────────────────────┬───────────────────────────────────────┐
       │                                    │                                       │
       │ <b>Counter</b>                            │ <b>Description</b>                           │
       ├────────────────────────────────────┼───────────────────────────────────────┤
       │                                    │                                       │
       │ Autoconf compile/link              │ Uncacheable compilation or linking by │
       │                                    │ an Autoconf test.                     │
       ├────────────────────────────────────┼───────────────────────────────────────┤
       │                                    │                                       │
       │ Bad compiler arguments             │ Malformed compiler argument, e.g.     │
       │                                    │ missing a value for a compiler option │
       │                                    │ that requires an argument or failure  │
       │                                    │ to read a file specified by a         │
       │                                    │ compiler option argument.             │
       ├────────────────────────────────────┼───────────────────────────────────────┤
       │                                    │                                       │
       │ Called for linking                 │ The compiler was called for linking,  │
       │                                    │ not compiling. Ccache only supports   │
       │                                    │ compilation of a single file, i.e.    │
       │                                    │ calling the compiler with the <b>-c</b>      │
       │                                    │ option to produce a single object     │
       │                                    │ file from a single source file.       │
       ├────────────────────────────────────┼───────────────────────────────────────┤
       │                                    │                                       │
       │ Called for preprocessing           │ The compiler was called for           │
       │                                    │ preprocessing, not compiling.         │
       ├────────────────────────────────────┼───────────────────────────────────────┤
       │                                    │                                       │
       │ Ccache disabled                    │ Ccache was disabled by a              │
       │                                    │ <b>ccache:disable</b> string in the source   │
       │                                    │ code file.                            │
       ├────────────────────────────────────┼───────────────────────────────────────┤
       │                                    │                                       │
       │ Could not use modules              │ Preconditions for using C++ MODULES   │
       │                                    │ were not fulfilled.                   │
       ├────────────────────────────────────┼───────────────────────────────────────┤
       │                                    │                                       │
       │ Could not use precompiled header   │ Preconditions for using precompiled   │
       │                                    │ headers were not fulfilled.           │
       ├────────────────────────────────────┼───────────────────────────────────────┤
       │                                    │                                       │
       │ Could not read or parse input file │ An input file could not be read or    │
       │                                    │ parsed (see the debug log for         │
       │                                    │ details).                             │
       ├────────────────────────────────────┼───────────────────────────────────────┤
       │                                    │                                       │
       │ Could not write to output file     │ The output path specified with <b>-o</b>     │
       │                                    │ could not be written to.              │
       ├────────────────────────────────────┼───────────────────────────────────────┤
       │                                    │                                       │
       │ Compilation failed                 │ The compilation failed. No result     │
       │                                    │ stored in the cache.                  │
       ├────────────────────────────────────┼───────────────────────────────────────┤
       │                                    │                                       │
       │ Compiler check failed              │ A compiler check program specified by │
       │                                    │ <b>compiler_check</b> (<b>CCACHE_COMPILERCHECK</b>) │
       │                                    │ failed.                               │
       ├────────────────────────────────────┼───────────────────────────────────────┤
       │                                    │                                       │
       │ Compiler output file missing       │ One of the files expected to be       │
       │                                    │ produced by the compiler was missing  │
       │                                    │ after compilation.                    │
       ├────────────────────────────────────┼───────────────────────────────────────┤
       │                                    │                                       │
       │ Compiler produced empty output     │ The compiler’s output file (typically │
       │                                    │ an object file) was empty after       │
       │                                    │ compilation.                          │
       ├────────────────────────────────────┼───────────────────────────────────────┤
       │                                    │                                       │
       │ Could not find the compiler        │ The compiler to execute could not be  │
       │                                    │ found.                                │
       ├────────────────────────────────────┼───────────────────────────────────────┤
       │                                    │                                       │
       │ Error hashing extra file           │ Failure reading a file specified by   │
       │                                    │ <b>extra_files_to_hash</b>                   │
       │                                    │ (<b>CCACHE_EXTRAFILES</b>).                  │
       ├────────────────────────────────────┼───────────────────────────────────────┤
       │                                    │                                       │
       │ Forced recache                     │ <b>CCACHE_RECACHE</b> was used to overwrite  │
       │                                    │ an existing result.                   │
       ├────────────────────────────────────┼───────────────────────────────────────┤
       │                                    │                                       │
       │ Input file modified during         │ An input file was modified during     │
       │ compilation                        │ compilation.                          │
       ├────────────────────────────────────┼───────────────────────────────────────┤
       │                                    │                                       │
       │ Internal error                     │ Unexpected failure, e.g. due to       │
       │                                    │ problems reading/writing the cache.   │
       ├────────────────────────────────────┼───────────────────────────────────────┤
       │                                    │                                       │
       │ Missing cache file                 │ A file was unexpectedly missing from  │
       │                                    │ the cache. This only happens in rare  │
       │                                    │ situations, e.g. if one ccache        │
       │                                    │ instance is about to get a file from  │
       │                                    │ the cache while another instance      │
       │                                    │ removed the file as part of cache     │
       │                                    │ cleanup.                              │
       ├────────────────────────────────────┼───────────────────────────────────────┤
       │                                    │                                       │
       │ Multiple source files              │ The compiler was called to compile    │
       │                                    │ multiple source files in one go. This │
       │                                    │ is not supported by ccache.           │
       ├────────────────────────────────────┼───────────────────────────────────────┤
       │                                    │                                       │
       │ No input file                      │ No input file was specified to the    │
       │                                    │ compiler.                             │
       ├────────────────────────────────────┼───────────────────────────────────────┤
       │                                    │                                       │
       │ Output to stdout                   │ The compiler was instructed to write  │
       │                                    │ its output to standard output using   │
       │                                    │ <b>-o</b> <b>-</b>. This is not supported by        │
       │                                    │ ccache.                               │
       ├────────────────────────────────────┼───────────────────────────────────────┤
       │                                    │                                       │
       │ Preprocessing failed               │ Preprocessing the source code using   │
       │                                    │ the compiler’s <b>-E</b> option failed.      │
       ├────────────────────────────────────┼───────────────────────────────────────┤
       │                                    │                                       │
       │ Unsupported code directive         │ Code like the assembler <b>.incbin</b>       │
       │                                    │ directive was found. This is not      │
       │                                    │ supported by ccache.                  │
       ├────────────────────────────────────┼───────────────────────────────────────┤
       │                                    │                                       │
       │ Unsupported compiler option        │ A compiler option not supported by    │
       │                                    │ ccache was found.                     │
       ├────────────────────────────────────┼───────────────────────────────────────┤
       │                                    │                                       │
       │ Unsupported environment variable   │ An environment variable not supported │
       │                                    │ by ccache was set.                    │
       ├────────────────────────────────────┼───────────────────────────────────────┤
       │                                    │                                       │
       │ Unsupported source language        │ A source language e.g. specified with │
       │                                    │ <b>-x</b> was unsupported by ccache.         │
       └────────────────────────────────────┴───────────────────────────────────────┘

</pre><h4><b>HOW</b> <b>CCACHE</b> <b>WORKS</b></h4><pre>
       The basic idea is to detect when you are compiling exactly the same code a second time and reuse the
       previously produced output. The detection is done by hashing different kinds of information that should
       be unique for the compilation and then using the hash sum to identify the cached output. Ccache uses
       BLAKE3, a very fast cryptographic hash algorithm, for the hashing. On a cache hit, ccache is able to
       supply all of the correct compiler outputs (including all warnings, dependency file, etc) from the cache.
       Data stored in the cache is checksummed with XXH3, an extremely fast non-cryptographic algorithm, to
       detect corruption.

       Ccache has two ways of gathering information used to look up results in the cache:

       •   the <b>preprocessor</b> <b>mode</b>, where ccache runs the preprocessor on the source code and hashes the result

       •   the <b>direct</b> <b>mode</b>, where ccache hashes the source code and include files directly

       The direct mode is generally faster since running the preprocessor has some overhead.

       If no previous result is detected (i.e., there is a cache miss) using the direct mode, ccache will fall
       back to the preprocessor mode unless the <b>depend</b> <b>mode</b> is enabled. In the depend mode, ccache never runs
       the preprocessor, not even on cache misses. Read more in <u>The</u> <u>depend</u> <u>mode</u> below.

   <b>Common</b> <b>hashed</b> <b>information</b>
       The following information is always included in the hash:

       •   the extension used by the compiler for a file with preprocessor output (normally <b>.i</b> for C code and
           <b>.ii</b> for C++ code)

       •   the compiler’s size and modification time (or other compiler-specific information specified by
           <b>compiler_check</b>)

       •   the name of the compiler

       •   the current directory (if <b>hash_dir</b> is enabled)

       •   contents of files specified by <b>extra_files_to_hash</b> (if any)

   <b>The</b> <b>preprocessor</b> <b>mode</b>
       In the preprocessor mode, the hash is formed of the common information and:

       •   the preprocessor output from running the compiler with <b>-E</b>

       •   the command line options except those that affect include files (<b>-I</b>, <b>-include</b>, <b>-D</b>, etc; the theory is
           that these command line options will change the preprocessor output if they have any effect at all)

       •   any standard error output generated by the preprocessor

       Based on the hash, the cached compilation result can be looked up directly in the cache.

   <b>The</b> <b>direct</b> <b>mode</b>
       In the direct mode, the hash is formed of the common information and:

       •   the input source file

       •   the compiler options

       Based on the hash, a data structure called “manifest” is looked up in the cache. The manifest contains:

       •   references to cached compilation results (object file, dependency file, etc) that were produced by
           previous compilations that matched the hash

       •   paths to the include files that were read at the time the compilation results were stored in the
           cache

       •   hash sums of the include files at the time the compilation results were stored in the cache

       The current contents of the include files are then hashed and compared to the information in the
       manifest. If there is a match, ccache knows the result of the compilation. If there is no match, ccache
       falls back to running the preprocessor. The output from the preprocessor is parsed to find the include
       files that were read. The paths and hash sums of those include files are then stored in the manifest
       along with information about the produced compilation result.

       There is a catch with the direct mode: header files that were used by the compiler are recorded, but
       header files that were <b>not</b> used, but would have been used if they existed, are not. So, when ccache
       checks if a result can be taken from the cache, it currently can’t check if the existence of a new header
       file should invalidate the result. In practice, the direct mode is safe to use in the absolute majority
       of cases.

       The direct mode will be disabled if any of the following holds:

       •   <b>direct_mode</b> is false

       •   a modification time of one of the include files is too new (needed to avoid a race condition)

       •   a compiler option not supported by the direct mode is used, for example:

           •   a <b>-Wp,*</b> compiler option other than <b>-Wp,-MD,&lt;path&gt;</b>, <b>-Wp,-MMD,&lt;path&gt;</b>, <b>-Wp,-D&lt;macro[=defn]&gt;</b> or
               <b>-Wp,-U&lt;macro&gt;</b>

           •   most uses of <b>-Xpreprocessor</b>

       •   the string <b>__TIME__</b> is present in the source code

   <b>The</b> <b>depend</b> <b>mode</b>
       If the depend mode is enabled, ccache will not use the preprocessor at all. The hash used to identify
       results in the cache will be based on the direct mode hash described above plus information about include
       files read from the dependency list generated by MSVC with <b>/showIncludes</b>, or the dependency file
       generated by other compilers with <b>-MD</b> or <b>-MMD</b>.

       Advantages:

       •   The ccache overhead of a cache miss will be much smaller.

       •   Not running the preprocessor at all can be good if compilation is performed remotely, for instance
           when using distcc or similar; ccache then won’t make potentially costly preprocessor calls on the
           local machine.

       Disadvantages:

       •   The cache hit rate will likely be lower since any change to compiler options or source code will make
           the hash different. Compare this with the default setup where ccache will fall back to the
           preprocessor mode, which is tolerant to some types of changes of compiler options and source code
           changes.

       •   If <b>-MD</b> is used, the manifest entries will include system header files as well, thus slowing down
           cache hits slightly, just as using <b>-MD</b> slows down make. This is also the case for MSVC with
           <b>/showIncludes</b>.

       •   If <b>-MMD</b> is used, the manifest entries will not include system header files, which means ccache will
           ignore changes in them.

       The depend mode will be disabled if any of the following holds:

       •   <b>depend_mode</b> is false.

       •   <b>run_second_cpp</b> is false.

       •   The compiler is not generating dependencies using <b>-MD</b> or <b>-MMD</b> (for MSVC, <b>/showIncludes</b> is added
           automatically if not specified by the user).

</pre><h4><b>HANDLING</b> <b>OF</b> <b>NEWLY</b> <b>CREATED</b> <b>SOURCE</b> <b>FILES</b></h4><pre>
       If modification time (mtime) or status change time (ctime) of the source file or one of the include files
       is equal to (or newer than) the time that ccache was invoked, ccache disables caching completely. This is
       done as a safety measure to avoid a race condition (see below). In practice, this is only a problem when
       using file systems with very low timestamp granularity. You can set <b>sloppiness</b> to
       <b>include_file_ctime,include_file_mtime</b> to opt out of the safety measure.

       For reference, the race condition mentioned above consists of these events:

        1. A source code file is read by ccache and added to the input hash.

        2. The source code file is modified.

        3. The compiler is executed and reads the modified source code.

        4. Ccache stores the compiler output in the cache associated with the incorrect key (based on the
           unmodified source code).

</pre><h4><b>CACHE</b> <b>DEBUGGING</b></h4><pre>
       To find out what information ccache actually is hashing, you can enable the debug mode via the
       configuration option <b>debug</b> or by setting <b>CCACHE_DEBUG</b> in the environment. This can be useful if you are
       investigating why you don’t get cache hits. Note that performance will be reduced slightly.

       When the debug mode is enabled, ccache will create up to five additional files next to the object file:
       ┌────────────────────────────────────────────┬─────────────┬──────────────────────────────┐
       │                                            │             │                              │
       │ <b>Filename</b>                                   │ <b>Debug</b> <b>level</b> │ <b>Description</b>                  │
       ├────────────────────────────────────────────┼─────────────┼──────────────────────────────┤
       │                                            │             │                              │
       │ <b>&lt;objectfile&gt;.&lt;timestamp&gt;.ccache-input-c</b>    │ 2           │ Binary input hashed by both  │
       │                                            │             │ the direct mode and the      │
       │                                            │             │ preprocessor mode.           │
       ├────────────────────────────────────────────┼─────────────┼──────────────────────────────┤
       │                                            │             │                              │
       │ <b>&lt;objectfile&gt;.&lt;timestamp&gt;.ccache-input-d</b>    │ 2           │ Binary input only hashed by  │
       │                                            │             │ the direct mode.             │
       ├────────────────────────────────────────────┼─────────────┼──────────────────────────────┤
       │                                            │             │                              │
       │ <b>&lt;objectfile&gt;.&lt;timestamp&gt;.ccache-input-p</b>    │ 2           │ Binary input only hashed by  │
       │                                            │             │ the preprocessor mode.       │
       ├────────────────────────────────────────────┼─────────────┼──────────────────────────────┤
       │                                            │             │                              │
       │ <b>&lt;objectfile&gt;.&lt;timestamp&gt;.ccache-input-text</b> │ 2           │ Human-readable combined      │
       │                                            │             │ diffable text version of the │
       │                                            │             │ three files above.           │
       ├────────────────────────────────────────────┼─────────────┼──────────────────────────────┤
       │                                            │             │                              │
       │ <b>&lt;objectfile&gt;.&lt;timestamp&gt;.ccache-log</b>        │ 1           │ Log for this object file.    │
       └────────────────────────────────────────────┴─────────────┴──────────────────────────────┘

       The timestamp format is <b>&lt;year&gt;&lt;month&gt;&lt;day&gt;_&lt;hour&gt;&lt;minute&gt;&lt;second&gt;_&lt;microsecond&gt;</b>.

       If you only need the log file, set <b>debug_level</b> (environment variable <b>CCACHE_DEBUGLEVEL</b>) to 1.

       If <b>debug_dir</b> (environment variable <b>CCACHE_DEBUGDIR</b>) is set, the files above will be written to that
       directory with full absolute paths instead of next to the object file.

       In the direct mode, ccache uses the 160 bit BLAKE3 hash of the “ccache-input-c” + “ccache-input-d” data
       (where <b>+</b> means concatenation), while the “ccache-input-c” + “ccache-input-p” data is used in the
       preprocessor mode.

       The “ccache-input-text” file is a combined text version of the three binary input files. It has three
       sections (“COMMON”, “DIRECT MODE” and “PREPROCESSOR MODE”), which is turn contain annotations that say
       what kind of data comes next.

       To debug why you don’t get an expected cache hit for an object file, you can do something like this:

        1. Enable <b>debug</b> (<b>CCACHE_DEBUG</b>).

        2. Build.

        3. Clean and build again.

        4. Compare the <b>&lt;objectfile&gt;.&lt;timestamp&gt;.ccache-input-text</b> files for the two builds. This together with
           the <b>&lt;objectfile&gt;.&lt;timestamp&gt;.ccache-log</b> files should give you some clues about what is happening.

</pre><h4><b>COMPILING</b> <b>IN</b> <b>DIFFERENT</b> <b>DIRECTORIES</b></h4><pre>
       Some information included in the hash that identifies a unique compilation can contain absolute paths:

       •   The preprocessed source code may contain absolute paths to include files if the compiler option <b>-g</b> is
           used or if absolute paths are given to <b>-I</b> and similar compiler options.

       •   Paths specified by compiler options (such as <b>-I</b>, <b>-MF</b>, etc) on the command line may be absolute.

       •   The source code file path may be absolute, and that path may substituted for <b>__FILE__</b> macros in the
           source code or included in warnings emitted to standard error by the preprocessor.

       This means that if you compile the same code in different locations, you can’t share compilation results
       between the different build directories since you get cache misses because of the absolute build
       directory paths that are part of the hash.

       Here’s what can be done to enable cache hits between different build directories:

       •   If you build with <b>-g</b> (or similar) to add debug information to the object file, you must either:

           •   use the compiler option <b>-fdebug-prefix-map=&lt;old&gt;=&lt;new&gt;</b> for relocating debug info to a common
               prefix (e.g. <b>-fdebug-prefix-map=$PWD=.</b>); or

           •   set <b>hash_dir</b> <b>=</b> <b>false</b>.

       •   If you use absolute paths anywhere on the command line (e.g. the source code file path or an argument
           to compiler options like <b>-I</b> and <b>-MF</b>), you must set <b>base_dir</b> to an absolute path to a “base
           directory”. Ccache will then rewrite absolute paths under that directory to relative before computing
           the hash.

</pre><h4><b>PRECOMPILED</b> <b>HEADERS</b></h4><pre>
       Ccache has support for precompiled headers with GCC and Clang. However, you have to do some things to
       make it work properly:

       •   You must set <b>sloppiness</b> to <b>pch_defines,time_macros</b>. The reason is that ccache can’t tell whether
           <b>__TIME__</b>, <b>__DATE__</b> or <b>__TIMESTAMP__</b> is used when using a precompiled header. Further, it can’t detect
           changes in <b>#define</b>s in the source code because of how preprocessing works in combination with
           precompiled headers.

       •   You may also want to include <b>include_file_mtime,include_file_ctime</b> in <b>sloppiness</b>. See <u>HANDLING</u> <u>OF</u>
           <u>NEWLY</u> <u>CREATED</u> <u>SOURCE</u> <u>FILES</u>.

       •   You must either:

           •   use the compiler option <b>-include</b> to include the precompiled header (i.e., don’t use <b>#include</b> in
               the source code to include the header; the filename itself must be sufficient to find the header,
               i.e. <b>-I</b> paths are not searched); or

           •   (for the Clang compiler) use the compiler option <b>-include-pch</b> to include the PCH file generated
               from the precompiled header; or

           •   (for the GCC compiler) add the compiler option <b>-fpch-preprocess</b> when compiling.

       •   If you use Clang, you must compile with <b>-fno-pch-timestamp</b>.

       If you don’t do this, either the non-precompiled version of the header file will be used (if available)
       or ccache will fall back to running the real compiler and increase the statistics counter “Preprocessing
       failed” (if the non-precompiled header file is not available).

</pre><h4><b>C++</b> <b>MODULES</b></h4><pre>
       Ccache has support for Clang’s <b>-fmodules</b> option. In practice ccache only additionally hashes
       <b>module.modulemap</b> files; it does not know how Clang handles its cached binary form of modules so those are
       ignored. This should not matter in practice: as long as everything else (including <b>module.modulemap</b>
       files) is the same the cached result should work. Still, you must set <b>sloppiness</b> to <b>modules</b> to allow
       caching.

       You must use both <b>direct</b> <b>mode</b> and <b>depend</b> <b>mode</b>. When using the preprocessor mode Clang does not provide
       enough information to allow hashing of <b>module.modulemap</b> files.

</pre><h4><b>SHARING</b> <b>A</b> <b>LOCAL</b> <b>CACHE</b></h4><pre>
       A group of developers can increase the cache hit rate by sharing a local cache directory. To share a
       local cache without unpleasant side effects, the following conditions should to be met:

       •   Use the same cache directory.

       •   Make sure that the configuration option <b>hard_link</b> is false (which is the default).

       •   Make sure that all users are in the same group.

       •   Set the configuration option <b>umask</b> to <b>002</b>. This ensures that cached files are accessible to everyone
           in the group.

       •   Make sure that all users have write permission in the entire cache directory (and that you trust all
           users of the shared cache).

       •   Make sure that the setgid bit is set on all directories in the cache. This tells the filesystem to
           inherit group ownership for new directories. The following command might be useful for this:

               find $CCACHE_DIR -type d | xargs chmod g+s

       The reason to avoid the hard link mode is that the hard links cause unwanted side effects, as all links
       to a cached file share the file’s modification timestamp. This results in false dependencies to be
       triggered by timestamp-based build systems whenever another user links to an existing file. Typically,
       users will see that their libraries and binaries are relinked without reason.

       You may also want to make sure that a base directory is set appropriately, as discussed in a previous
       section.

</pre><h4><b>SHARING</b> <b>A</b> <b>CACHE</b> <b>ON</b> <b>NFS</b></h4><pre>
       It is possible to put the cache directory on an NFS filesystem (or similar filesystems), but keep in mind
       that:

       •   Having the cache on NFS may slow down compilation. Make sure to do some benchmarking to see if it’s
           worth it.

       •   Ccache hasn’t been tested very thoroughly on NFS.

       A tip is to set <b>temporary_dir</b> to a directory on the local host to avoid NFS traffic for temporary files.

       It is recommended to use the same operating system version when using a shared cache. If operating system
       versions are different then system include files will likely be different and there will be few or no
       cache hits between the systems. One way of improving cache hit rate in that case is to set <b>sloppiness</b> to
       <b>system_headers</b> to ignore system headers.

       An alternative to putting the main cache directory on NFS is to set up a remote storage file cache.

</pre><h4><b>USING</b> <b>CCACHE</b> <b>WITH</b> <b>OTHER</b> <b>COMPILER</b> <b>WRAPPERS</b></h4><pre>
       The recommended way of combining ccache with another compiler wrapper (such as “distcc”) is by letting
       ccache execute the compiler wrapper. This is accomplished by defining <b>prefix_command</b>, for example by
       setting the environment variable <b>CCACHE_PREFIX</b> to the name of the wrapper (e.g. <b>distcc</b>). Ccache will then
       prefix the command line with the specified command when running the compiler. To specify several prefix
       commands, set <b>prefix_command</b> to a colon-separated list of commands.

       Unless you set <b>compiler_check</b> to a suitable command (see the description of that configuration option),
       it is not recommended to use the form <b>ccache</b> <b>anotherwrapper</b> <b>compiler</b> <b>args</b> as the compilation command.
       It’s also not recommended to use the masquerading technique for the other compiler wrapper. The reason is
       that by default, ccache will in both cases hash the mtime and size of the other wrapper instead of the
       real compiler, which means that:

       •   Compiler upgrades will not be detected properly.

       •   The cached results will not be shared between compilations with and without the other wrapper.

       Another minor thing is that if <b>prefix_command</b> is used, ccache will not invoke the other wrapper when
       running the preprocessor, which increases performance. You can use <b>prefix_command_cpp</b> if you also want to
       invoke the other wrapper when doing preprocessing (normally by adding <b>-E</b>).

</pre><h4><b>CAVEATS</b></h4><pre>
       •   The direct mode fails to pick up new header files in some rare scenarios. See <u>The</u> <u>direct</u> <u>mode</u> above.

</pre><h4><b>TROUBLESHOOTING</b></h4><pre>
   <b>General</b>
       A general tip for getting information about what ccache is doing is to enable debug logging by setting
       the configuration option <b>debug</b> (or the environment variable <b>CCACHE_DEBUG</b>); see <u>CACHE</u> <u>DEBUGGING</u> for more
       information. Another way of keeping track of what is happening is to check the output of <b>ccache</b> <b>-s</b>.

   <b>Performance</b>
       Ccache has been written to perform well out of the box, but sometimes you may have to do some adjustments
       of how you use the compiler and ccache in order to improve performance.

       Since ccache works best when I/O is fast, put the cache directory on a fast storage device if possible.
       Having lots of free memory so that files in the cache directory stay in the disk cache is also
       preferable.

       A good way of monitoring how well ccache works is to run <b>ccache</b> <b>-s</b> before and after your build and then
       compare the statistics counters. Here are some common problems and what may be done to increase the hit
       rate:

       •   If the counter for preprocessed cache hits has been incremented instead of the one for direct cache
           hits, ccache has fallen back to preprocessor mode, which is generally slower. Some possible reasons
           are:

           •   The source code has been modified in such a way that the preprocessor output is not affected.

           •   Compiler arguments that are hashed in the direct mode but not in the preprocessor mode have
               changed (<b>-I</b>, <b>-include</b>, <b>-D</b>, etc) and they didn’t affect the preprocessor output.

           •   The compiler option <b>-Xpreprocessor</b> or <b>-Wp,*</b> (except <b>-Wp,-MD,&lt;path&gt;</b>, <b>-Wp,-MMD,&lt;path&gt;</b>, and
               <b>-Wp,-D&lt;define&gt;</b>) is used.

           •   This was the first compilation with a new value of the base directory.

           •   A modification or status change time of one of the include files is too new . See <u>HANDLING</u> <u>OF</u>
               <u>NEWLY</u> <u>CREATED</u> <u>SOURCE</u> <u>FILES</u>.

           •   The <b>__TIME__</b> preprocessor macro is (potentially) being used. Ccache turns off direct mode if
               <b>__TIME__</b> is present in the source code. This is done as a safety measure since the string
               indicates that a <b>__TIME__</b> macro <u>may</u> affect the output. (To be sure, ccache would have to run the
               preprocessor, but the sole point of the direct mode is to avoid that.) If you know that <b>__TIME__</b>
               isn’t used in practise, or don’t care if ccache produces objects where <b>__TIME__</b> is expanded to
               something in the past, you can set <b>sloppiness</b> to <b>time_macros</b>.

           •   The <b>__DATE__</b> preprocessor macro is (potentially) being used and the date has changed. This is
               similar to how <b>__TIME__</b> is handled. If <b>__DATE__</b> is present in the source code, ccache hashes the
               current date in order to be able to produce the correct object file if the <b>__DATE__</b> macro affects
               the output. If you know that <b>__DATE__</b> isn’t used in practise, or don’t care if ccache produces
               objects where <b>__DATE__</b> is expanded to something in the past, you can set <b>sloppiness</b> to
               <b>time_macros</b>.

           •   The <b>__TIMESTAMP__</b> preprocessor macro is (potentially) being used and the source file’s
               modification time has changed. This is similar to how <b>__TIME__</b> is handled. If <b>__TIMESTAMP__</b> is
               present in the source code, ccache hashes the string representation of the source file’s
               modification time in order to be able to produce the correct object file if the <b>__TIMESTAMP__</b>
               macro affects the output. If you know that <b>__TIMESTAMP__</b> isn’t used in practise, or don’t care if
               ccache produces objects where <b>__TIMESTAMP__</b> is expanded to something in the past, you can set
               <b>sloppiness</b> to <b>time_macros</b>.

           •   The input file path has changed. Ccache includes the input file path in the direct mode hash to
               be able to take relative include files into account and to produce a correct object file if the
               source code includes a <b>__FILE__</b> macro.

       •   If a cache hit counter was not incremented even though the same code has been compiled and cached
           before, ccache has either detected that something has changed anyway or a cleanup has been performed
           (either explicitly or implicitly when a cache limit has been reached). Some perhaps unobvious things
           that may result in a cache miss are usage of <b>__TIME__</b>, <b>__DATE__</b> or <b>__TIMESTAMP__</b> macros, or use of
           automatically generated code that contains a timestamp, build counter or other volatile information.

       •   If “Multiple source files” has been incremented, it’s an indication that the compiler has been
           invoked on several source code files at once. Ccache doesn’t support that. Compile the source code
           files separately if possible.

       •   If “Unsupported compiler option” has been incremented, enable debug logging and check which compiler
           option was rejected.

       •   If “Preprocessing failed” has been incremented, one possible reason is that precompiled headers are
           being used. See <u>PRECOMPILED</u> <u>HEADERS</u> for how to remedy this.

       •   If “Could not use precompiled header” has been incremented, see <u>PRECOMPILED</u> <u>HEADERS</u>.

       •   If “Could not use modules” has been incremented, see <u>C++</u> <u>MODULES</u>.

   <b>Corrupt</b> <b>object</b> <b>files</b>
       It should be noted that ccache is susceptible to general storage problems. If a bad object file sneaks
       into the cache for some reason, it will of course stay bad. Some possible reasons for erroneous object
       files are bad hardware (disk drive, disk controller, memory, etc), buggy drivers or file systems, a bad
       <b>prefix_command</b> or compiler wrapper. If this happens, the easiest way of fixing it is this:

        1. Build so that the bad object file ends up in the build tree.

        2. Remove the bad object file from the build tree.

        3. Rebuild with <b>CCACHE_RECACHE</b> set.

       An alternative is to clear the whole cache with <b>ccache</b> <b>-C</b> if you don’t mind losing other cached results.

       There are no reported issues about ccache producing broken object files reproducibly. That doesn’t mean
       it can’t happen, so if you find a repeatable case, please report it.

</pre><h4><b>MORE</b> <b>INFORMATION</b></h4><pre>
       Credits, mailing list information, bug reporting instructions, source code, etc, can be found on ccache’s
       web site: https://ccache.dev.

</pre><h4><b>AUTHOR</b></h4><pre>
       Ccache was originally written by Andrew Tridgell and is currently developed and maintained by Joel
       Rosdahl. See AUTHORS.txt or AUTHORS.html and https://ccache.dev/credits.html for a list of contributors.

Ccache 4.10.2                                      2024-11-13                                          <u><a href="../man1/CCACHE.1.html">CCACHE</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>