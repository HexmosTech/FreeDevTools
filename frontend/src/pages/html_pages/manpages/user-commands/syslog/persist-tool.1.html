<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>persist-tool - Display the content of the persist file</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/syslog-ng-core">syslog-ng-core_4.8.1-4_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       persist-tool - Display the content of the persist file

</pre><h4><b>SYNOPSIS</b></h4><pre>

       <b>persist-tool</b> [command] [options]

</pre><h4><b>DESCRIPTION</b></h4><pre>
       NOTE: The persist-tool application is distributed with the syslog-ng system logging application, and is
       usually part of the syslog-ng package. The latest version of the syslog-ng application is available at
       the <b>official</b> <b>syslog-ng</b> <b>website</b>[1].

       This manual page is only an abstract, for the complete documentation of syslog-ng, see the <b>The</b> <b>syslog-ng</b>
       <b>Administrator</b> <b>Guide</b>[2].

       The <b>persist-tool</b> application is a utility that can be used to dump the content of the persist file, and
       manipulate its content.

           <b>Warning</b>

           Persist-tool is a special tool for syslog-ng experts. Do use the tool unless you know exactly what
           you are doing. Misconfiguring it will result in irrecoverable damage to the persist file, without any
           warning.

           <b>Note</b>

           Limitations:

           •   The persist-state functions can be used only with syslog-ng PE 5 LTS style persist file (SLP4).
               Older persist files are not supported.

           •   Wildcard characters are not supported in file/directory names.

</pre><h4><b>THE</b> <b>DUMP</b> <b>COMMAND</b></h4><pre>

       <b>dump</b> [options] [persist_file]

       Use the <b>dump</b> command to print the current content of the persist file in JSON format to the console.

       The <b>dump</b> command has the following options:

       <b>--help</b> or <b>-?</b>
           Display a brief help message.

       Example:

           persist-tool dump /usr/var/syslog-ng.persist

       The output looks like:

           run_id = { "value": "00 00 00 00 0C 00 00 00 " }
           host_id = { "value": "00 00 00 00 5F 49 2F 01 " }

</pre><h4><b>THE</b> <b>ADD</b> <b>COMMAND</b></h4><pre>

       <b>add</b> [options] [input_file]

       Use the <b>add</b> command to add or modify a specified state-entry in the persist file. The state-entry should
       be in the same format as the <b>dump</b> command displays it. If the given state-entry already exists, it will
       be updated. Otherwise, a new value will be added. If the given persist state is invalid, it will be
       skipped.

       To use the <b>add</b> command: use <b>persist-tool</b> <b>dump</b> to print the content of the current persist file, and
       redirect it to a file. Edit the content of this file. Use <b>persist-tool</b> <b>add</b> with this file to modify the
       persist.

       The <b>add</b> command has the following options:

       <b>--help</b> or <b>-?</b>
           Display a brief help message.

       <b>--output-dir=&lt;directory&gt;</b> or <b>-o</b>
           Required parameter. The directory where the persist file is located at. The name of the persist file
           stored in this directory must be syslog-ng.persist.

       Example:

           /usr/bin/persist-tool add dump_persist -o .

       The valid output looks like:

           log_reader_curpos(Application)      OK
           affile_sd_curpos(/var/aaa.txt)        OK

       The invalid output looks like:

           log_reader_curpos(Application)      OK
           wrong
                   FAILED (error: Invalid entry syntax)
           affile_sd_curpos(/var/aaa.txt)        OK

</pre><h4><b>FILES</b></h4><pre>
       /usr/bin/persist-tool

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man5/syslog-ng.conf.5.html">syslog-ng.conf</a></b>(5)

       <b><a href="../man8/syslog-ng.8.html">syslog-ng</a></b>(8)

           <b>Note</b>

           For the detailed documentation of see <b>The</b> <b>4.8</b> <b>Administrator</b> <b>Guide</b>[3]

           If you experience any problems or need help with syslog-ng, visit the <b>syslog-ng</b> <b>mailing</b> <b>list</b>[4].

           For news and notifications about of syslog-ng, visit the <b>syslog-ng</b> <b>blogs</b>[5].

</pre><h4><b>AUTHOR</b></h4><pre>
       This manual page was written by the Balabit Documentation Team &lt;<a href="mailto:documentation@balabit.com">documentation@balabit.com</a>&gt;.

</pre><h4><b>COPYRIGHT</b></h4><pre>
</pre><h4><b>NOTES</b></h4><pre>
        1. official syslog-ng website
           https://www.balabit.com/log-management

        2. <b>The</b> <b>syslog-ng</b> <b>Administrator</b> <b>Guide</b>
           https://www.balabit.com/support/documentation/

        3. <b>The</b>  <b>4.8</b> <b>Administrator</b> <b>Guide</b>
           https://www.balabit.com/documents/syslog-ng-ose-latest-guides/en/syslog-ng-ose-guide-admin/html/index.html

        4. <b>syslog-ng</b> <b>mailing</b> <b>list</b>
           https://lists.balabit.hu/mailman/listinfo/syslog-ng

        5. <b>syslog-ng</b> <b>blogs</b>
           https://syslog-ng.org/blogs/

4.8                                                03/16/2025                                    <u><a href="../man1/PERSIST-TOOL.1.html">PERSIST-TOOL</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>