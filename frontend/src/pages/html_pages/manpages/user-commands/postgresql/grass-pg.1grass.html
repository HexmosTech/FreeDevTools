<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PostgreSQL database driver enables GRASS to store vector attributes in PostgreSQL server.</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/grass-doc">grass-doc_8.4.1-1_all</a> <br><br><pre>
</pre><h4><b>PostgreSQL</b> <b>DATABASE</b> <b>DRIVER</b></h4><pre>
       PostgreSQL database driver enables GRASS to store vector attributes in PostgreSQL server.

</pre><h4><b>Creating</b> <b>a</b> <b>PostgreSQL</b> <b>database</b></h4><pre>
       A new database is created with createdb, see the PostgreSQL manual for details.

</pre><h4><b>Connecting</b> <b>GRASS</b> <b>to</b> <b>PostgreSQL</b></h4><pre>
       # example for connecting to a PostgreSQL server:
       db.connect driver=pg database=mydb
       db.login user=myname password=secret host=myserver.osgeo.org  # port=5432
       db.connect -p
       db.tables -p

   <b>Username</b> <b>and</b> <b>password</b>
       From the PostgresQL manual:

       The file <u>.pgpass</u> in a user’s home directory can contain passwords to be used if the connection requires a
       password  (and  no  password  has  been  specified  otherwise).  On  Microsoft  Windows the file is named
       <u>%APPDATA%\postgresql\pgpass.conf</u> (where <u>%APPDATA%</u> refers to the  Application  Data  subdirectory  in  the
       user’s  profile). Alternatively, a password file can be specified using the connection parameter passfile
       or the environment variable PGPASSFILE.  This file should contain lines of the following format:
       hostname:port:database:username:password

</pre><h4><b>Supported</b> <b>SQL</b> <b>commands</b></h4><pre>
       All SQL commands supported by PostgreSQL.  It’s not possible to use C-like escapes (with  backslash  like
       \n etc) within the SQL syntax.

</pre><h4><b>Operators</b> <b>available</b> <b>in</b> <b>conditions</b></h4><pre>
       All SQL operators supported by PostgreSQL.

</pre><h4><b>Adding</b> <b>an</b> <b>unique</b> <b>ID</b> <b>column</b></h4><pre>
       Import vector module require an unique ID column which can be generated as follows in a PostgreSQL table:
       db.execute sql="ALTER TABLE mytable ADD ID integer"
       db.execute sql="CREATE SEQUENCE mytable_seq"
       db.execute sql="UPDATE mytable SET ID = nextval(’mytable_seq’)"
       db.execute sql="DROP SEQUENCE mytable_seq"

</pre><h4><b>Attribute</b> <b>import</b> <b>into</b> <b>PostgreSQL</b></h4><pre>
       CSV import into PostgreSQL:
       \h copy
       COPY t1 FROM ’filename’ USING DELIMITERS ’,’;

</pre><h4><b>Geometry</b> <b>import</b> <b>from</b> <b>PostgreSQL</b> <b>table</b> <b>into</b> <b>GRASS</b></h4><pre>
       <u>v.in.db</u>  creates  a  new  vector  (points) map from a database table containing coordinates. See here for
       examples.

</pre><h4><b>PostGIS:</b> <b>PostgreSQL</b> <b>with</b> <b>vector</b> <b>geometry</b></h4><pre>
       PostGIS: adds geographic object support to PostgreSQL.

   <b>Example:</b> <b>Import</b> <b>from</b> <b>PostGIS</b>
       In an existing PostGIS database, create the following table:
       CREATE TABLE test
       (
        id serial NOT NULL,
        mytime timestamp DEFAULT now(),
        text varchar,
        wkb_geometry geometry,
        CONSTRAINT test_pkey PRIMARY KEY (id)
       ) WITHOUT OIDS;
       # insert value
       INSERT INTO test (text, wkb_geometry)
        VALUES (’Name’,geometryFromText(’POLYGON((600000 200000,650000
        200000,650000 250000,600000 250000,600000 200000))’,-1));
       # register geometry column
       select AddGeometryColumn (’postgis’, ’test’, ’geometry’, -1, ’GEOMETRY’, 2);
       GRASS can import this PostGIS polygon map as follows:
       v.in.ogr input="PG:host=localhost dbname=postgis user=neteler" layer=test \
                output=test type=boundary,centroid
       v.db.select test
       v.info -t test

   <b>Geometry</b> <b>Converters</b>
           •   PostGIS with shp2pgsql:
               shp2pgsql -D lakespy2 lakespy2 test &gt; lakespy2.sql

           •   e00pg: E00 to PostGIS filter, see also <u>v.in.e00</u>.

           •   GDAL/OGR ogrinfo and ogr2ogr: GIS vector format converter and library, e.g. ArcInfo or  SHAPE  to
               PostGIS.
               ogr2ogr -f "PostgreSQL" shapefile ??

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
        <u>db.connect,</u> <u>db.execute</u>

       Database management in GRASS GIS
       Help pages for database modules
       SQL support in GRASS GIS

</pre><h4><b>REFERENCES</b></h4><pre>
           •   PostgreSQL web site

           •   pgAdmin graphical user interface

           •   GDAL/OGR PostgreSQL driver documentation

</pre><h4><b>SOURCE</b> <b>CODE</b></h4><pre>
       Available at: PostgreSQL DATABASE DRIVER source code (history)

       Accessed: Friday Apr 04 01:18:40 2025

       Main index | Topics index | Keywords index | Graphical index | Full index

       © 2003-2025 GRASS Development Team, GRASS GIS 8.4.1 Reference Manual

GRASS 8.4.1                                                                                     <u><a href="../man1grass/grass-pg.1grass.html">grass-pg</a></u>(1grass)
</pre>
 </div>
</div></section>
</div>
</body>
</html>