<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>pmdapostgresql - PostgreSQL database PMDA</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/pcp">pcp_6.3.3-1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       <b>pmdapostgresql</b> - PostgreSQL database PMDA

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>pmdapostgresql</b>  is  a  Performance  Co-Pilot (PCP) Performance Metrics Domain Agent (PMDA) which extracts
       live performance data from a running PostgreSQL database server.

       Many of the statistics available from a PostgreSQL server may not be enabled by default.   Refer  to  the
       online documentation <b>https://www.postgresql.org/docs/current/static/monitoring-stats.html</b> which describes
       each of the available parameters related to statistics collection and how to enable them.

</pre><h4><b>CONFIGURATION</b></h4><pre>
       <b>pmdapostgresql</b> reads a mandatory ini-style configuration file:

              $PCP_PMDAS_DIR<u>/postgresql/postgresql.conf</u>

       This  file  currently contains only one section <b>[authentication]</b> which specifies values for the following
       settings (their default values are shown in parenthesis):

       <b>host</b> (<u>local</u>)   Hostname to connect to.

       <b>port</b> (<u>5432</u>)    Port number to use.

       <b>dbname</b> (<u>postgres</u>)
                      Database name.

       <b>username</b> (<u>postgres</u>)
                      Username to run as and to connect to the database.

       <b>password</b> (<u>password</u>)
                      Password to connect to the database.

       <b>osuser</b> (unset) Operating system user the PMDA runs as.

       The defaults (as above) will result in the PMDA running as the current user, using a UNIX  domain  socket
       connection to the PostgreSQL server on the localhost.

       If  <b>osuser</b>  is  not  specified  in the configuration file, the PMDA will run as the current user.  A host
       specification of <u>local</u> will use a UNIX domain socket, which uses peer authentication, see comments in the
       <b>pg_hba.conf</b> file.  In this case, the <b>osuser</b> setting should probably be set to <b>postgres</b>.

       It is generally not necessary to alter the default configuration file for monitoring the local PostgreSQL
       server instance with a default server configuration.  Note that the port number is required  even  for  a
       UNIX domain connection because it's used as the socket filename by the server.

</pre><h4><b>INSTALLATION</b></h4><pre>
       To install, the following must be done as root:

           <b>#</b> <b>cd</b> <b>$PCP_PMDAS_DIR/postgresql</b>
           <b>#</b> <b>./Install</b>

       To uninstall, the following must be done as root:

           <b>#</b> <b>cd</b> <b>$PCP_PMDAS_DIR/postgresql</b>
           <b>#</b> <b>./Remove</b>

       <b>pmdapostgresql</b>  is  launched  by  <b><a href="../man1/pmcd.1.html">pmcd</a></b>(1)  and should never be executed directly.  The <b>Install</b> and <b>Remove</b>
       scripts notify <b><a href="../man1/pmcd.1.html">pmcd</a></b>(1) when the agent is installed or removed.

       <b>pmdapostgresql</b> will automatically attempt to reconnect to the PostgreSQL server if its connection is lost
       - e.g. if the PostgreSQL service is restarted.

</pre><h4><b>SUPPORTED</b> <b>VERSIONS</b></h4><pre>
       This version of <b>pmdapostgresql</b> has been tested and verified  with  PostgreSQL  server  version  <b>10.2</b>  and
       earlier.   Later  versions  will  probably  also  work  correctly  because  the  PMDA  probes the various
       performance tables on start-up to determine the column ordering.  It also tolerates  missing  or  renamed
       tables and/or columns.

</pre><h4><b>FILES</b></h4><pre>
       $PCP_PMDAS_DIR<u>/postgresql/pmdapostgresql.conf</u>
            configuration file for the <b>pmdapostgresql</b> agent

       $PCP_PMDAS_DIR<u>/postgresql/Install</u>
            installation script for the <b>pmdapostgresql</b> agent

       $PCP_PMDAS_DIR<u>/postgresql/Remove</u>
            undo installation script for the <b>pmdapostgresql</b> agent

       $PCP_LOG_DIR<u>/pmcd/postgresql.log</u>
            default log file for messages from the <b>pmdapostgresql</b> agent

       Note  that  the  usual/default  value  for  <b>$PCP_PMDAS_DIR</b>  is  <b>/var/lib/pcp/pmdas</b>  and  the  default for
       <b>$PCP_LOG_DIR</b> is <b>/var/log/pcp</b> but these settings are platform dependent.

</pre><h4><b>PCP</b> <b>ENVIRONMENT</b></h4><pre>
       Environment variables with the prefix <b>PCP_</b> are used to parameterize the file and directory names used  by
       PCP.   On  each  installation, the file <u>/etc/pcp.conf</u> contains the local values for these variables.  The
       <b>$PCP_CONF</b> variable may be used to specify an alternative configuration file, as described in <b><a href="../man5/pcp.conf.5.html">pcp.conf</a></b>(5).

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man1/PCPIntro.1.html">PCPIntro</a></b>(1), <b><a href="../man1/pmcd.1.html">pmcd</a></b>(1) and <b>https://www.postgresql.org/docs/current/static/monitoring-stats.html</b>.

Performance Co-Pilot                                   PCP                                     <u><a href="../man1/PMDAPOSTGRESQL.1.html">PMDAPOSTGRESQL</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>