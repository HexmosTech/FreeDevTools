<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>virt-clone - clone existing virtual machine images</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/virt-install">virt-install_5.0.0-5_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       virt-clone - clone existing virtual machine images

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>virt-clone</b> [OPTION]...

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>virt-clone</b>  is  a  command  line  tool  for  cloning  existing  virtual  machine images using the <b>libvirt</b>
       hypervisor management library. It will copy the disk images of any existing virtual machine, and define a
       new guest with an identical virtual hardware configuration. Elements which  require  uniqueness  will  be
       updated to avoid a clash between old and new guests.

       By  default,  virt-clone  will  show  an  error  if  the  necessary information to clone the guest is not
       provided. The --auto-clone option will generate all needed input, aside from the source guest to clone.

       Please note, virt-clone does not change anything _inside_ the guest OS, it only duplicates disks and does
       host side changes. So things like changing passwords, changing static IP address,  etc  are  outside  the
       scope of this tool. For these types of changes, please see <b>virt-sysprep</b>.

</pre><h4><b>GENERAL</b> <b>OPTIONS</b></h4><pre>
       Most  options  are  not  required.  Minimum requirements are --original or --original-xml (to specify the
       guest to clone), --name, and appropriate storage options via -file.

       <b>--connect</b> <b>URI</b>
              Connect to a non-default hypervisor. See <a href="../man1/virt-install.1.html">virt-install</a>(1) for details

       <b>-o,</b> <b>--original</b> <b>ORIGINAL_GUEST</b>
              Name of the original guest to be cloned. This guest must be shut off.

       <b>--original-xml</b> <b>ORIGINAL_XML</b>
              Libvirt guest xml file to use as the original guest. The guest does not need to be defined on  the
              libvirt connection. This takes the place of the <b>--original</b> parameter.

       <b>--auto-clone</b>
              Generate a new guest name, and paths for new storage.

              An example of possible generated output:

                 Original name        : MyVM
                 Generated clone name : MyVM-clone

                 Original disk path   : /home/user/foobar.img
                 Generated disk path  : /home/user/foobar-clone.img

              If  generated  names  collide  with  existing  VMs  or  storage,  a  number  is  appended, such as
              foobar-clone-1.img, or MyVM-clone-3.

       <b>-n,</b> <b>--name</b> <b>NAME</b>
              Name of the new guest virtual machine instance. This must be unique amongst all  guests  known  to
              the hypervisor connection, including those not currently active.

       <b>-u,</b> <b>--uuid</b> <b>UUID</b>
              UUID  for  the  guest;  if none is given a random UUID will be generated. If you specify UUID, you
              should use a 32-digit hexadecimal number. UUID are intended to be unique across  the  entire  data
              center, and indeed world. Bear this in mind if manually specifying a UUID

       <b>-f,</b> <b>--file</b> <b>PATH</b>
              Path  to  the  file,  disk  partition,  or  logical volume to use as the backing store for the new
              guest's virtual disk. If the original guest has multiple disks, this parameter  must  be  repeated
              multiple times, once per disk in the original virtual machine.

       <b>--nvram</b> <b>NVRAMFILE</b>
              Optional  path to the new nvram VARS file, if no path is specified and the guest has nvram the new
              nvram path will be auto-generated. If the guest doesn't have nvram this option will be ignored.

       <b>--force-copy</b> <b>TARGET</b>
              Force cloning the passed disk target ('hdc',  'sda',  etc.).  By  default,  <b>virt-clone</b>  will  skip
              certain disks, such as those marked 'readonly' or 'shareable'.

       <b>--skip-copy</b> <b>TARGET</b>
              Skip  cloning  the  passed  disk  target  ('hdc',  'sda', etc.). By default, <b>virt-clone</b> will clone
              certain disk images, typically read/write devices. Use this to skip copying of a specific  device,
              so the new VM uses the same storage path as the original VM.

       <b>--nonsparse</b>
              Fully allocate the new storage if the path being cloned is a sparse file.  See <a href="../man1/virt-install.1.html">virt-install</a>(1) for
              more details on sparse vs. nonsparse.

       <b>--preserve-data</b>
              No  storage  is cloned: disk images specified by --file are preserved as is, and referenced in the
              new clone XML. This is useful if you want to  clone  a  VM  XML  template,  but  not  the  storage
              contents.

       <b>--reflink</b>
              Perform a lightweight copy. This is much faster if source images and destination images are all on
              the same btrfs filesystem. This only works for raw format disk images, any non-raw images will not
              attempt to use refink

       <b>-m,</b> <b>--mac</b> <b>MAC</b>
              Fixed  MAC address for the guest; If this parameter is omitted, or the value <b>RANDOM</b> is specified a
              suitable address will be randomly generated. Addresses are applied sequentially to the networks as
              they are listed in the original guest XML.

       <b>--print-xml</b>
              Print the generated clone XML and exit without cloning.

       <b>--replace</b>
              Before cloning, try a simple <b>virsh</b> <b>destroy</b> and <b>virsh</b> <b>undefine</b> on any existing VM with  the  passed
              <b>--name</b>.  If those operations fail (like when <b>virsh</b> <b>undefine</b> requires <b>--nvram</b> flag), the clone will
              fail and you will need to manually remove the existing VM.

       <b>-h,</b> <b>--help</b>
              Show the help message and exit

       <b>--version</b>
              Show program's version number and exit

       <b>--check</b>
              Enable or disable some validation checks. See <a href="../man1/virt-install.1.html">virt-install</a>(1) for more details.

       <b>-q,</b> <b>--quiet</b>
              Suppress non-error output.

       <b>-d,</b> <b>--debug</b>
              Print debugging information to the terminal when  running  the  install  process.   The  debugging
              information  is  also  stored  in  <b><a href="file:~/.cache/virt-manager/virt-clone.log">~/.cache/virt-manager/virt-clone.log</a></b>  even if this parameter is
              omitted.

</pre><h4><b>EXAMPLES</b></h4><pre>
       Clone the guest called <b>demo</b> on the default connection, auto generating a new name and disk clone path.

          # virt-clone \
               --original demo \
               --auto-clone

       Clone the guest called <b>demo</b> which has a single disk to copy

          # virt-clone \
               --original demo \
               --name newdemo \
               --file /var/lib/xen/images/newdemo.img

       Clone a QEMU guest with multiple disks

          # virt-clone \
               --connect qemu:///system \
               --original demo \
               --name newdemo \
               --file /var/lib/xen/images/newdemo.img \
               --file /var/lib/xen/images/newdata.img

       Clone a guest to a physical device which is at least  as  big  as  the  original  guests  disks.  If  the
       destination device is bigger, the new guest can do a filesystem resize when it boots.

          # virt-clone \
               --connect qemu:///system \
               --original demo \
               --name newdemo \
               --file /dev/HostVG/DemoVM \
               --mac 52:54:00:34:11:54

</pre><h4><b>BUGS</b></h4><pre>
       Please see  &lt;https://virt-manager.org/bugs&gt;

</pre><h4><b>COPYRIGHT</b></h4><pre>
       Copyright  (C)  Fujitsu  Limited,  Copyright  (C)  Red  Hat, Inc, and various contributors.  This is free
       software. You may redistribute  copies  of  it  under  the  terms  of  the  GNU  General  Public  License
       &lt;https://www.gnu.org/licenses/gpl.html&gt; .  There is NO WARRANTY, to the extent permitted by law.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man1/virt-sysprep.1.html">virt-sysprep</a>(1)</b>,      <b><a href="../man1/virsh.1.html">virsh</a>(1)</b>,     <b><a href="../man1/virt-install.1.html">virt-install</a>(1)</b>,     <b><a href="../man1/virt-manager.1.html">virt-manager</a>(1)</b>,     the     project     website
       &lt;https://virt-manager.org&gt;

                                                                                                   <u><a href="../man1/VIRT-CLONE.1.html">VIRT-CLONE</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>