<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>git-clone-subset - Clones a subset of a git repository</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/git-restore-mtime">git-restore-mtime_2022.12-1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       git-clone-subset - Clones a subset of a git repository

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>git-clone-subset</b> [<u>options</u>] <u>repository</u> <u>destination-dir</u> <u>pattern</u>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       Clones a <u>repository</u> into a <u>destination-dir</u> and prune from history all files except the ones matching
       <u>pattern</u> by running on the clone:
       <b>git</b> <b>filter-branch</b> <b>--prune-empty</b> <b>--tree-filter</b> <b>'git</b> <b>rm</b> <b>...'</b> <b>--</b> <b>--all</b>
       This effectively creates a clone with a subset of files (and history) of the original repository. The
       original repository is not modified.

       Useful for creating a new repository out of a set of files from another repository, migrating (only)
       their associated history. Very similar to:
       <b>git</b> <b>filter-branch</b> <b>--subdirectory-filter</b>
       But git-clone-subset works on a path pattern instead of just a single directory.

</pre><h4><b>OPTIONS</b></h4><pre>
       <b>-h</b>, <b>--help</b>
               show usage information.

       <u>repository</u>
               URL or local path to the git repository to be cloned.

       <u>destination-dir</u>
               Directory  to  create  the clone. Same rules for git-clone applies: it will be created if it does
               not exist and it must be empty otherwise.  But, unlike git-clone, this argument is not  optional:
               git-clone  uses  several  rules  to  determine the "friendly" basename of a cloned repo, and git-
               clone-subset will not risk parse its output, let alone predict the chosen name.

       <u>pattern</u> Glob pattern to match the desired files/dirs. It will be ultimately evaluated by a call to  bash,
               NOT git or sh, using extended glob '!(&lt;pattern&gt;)' rule. Quote it or escape it on command line, so
               it does not get evaluated prematurely by your current shell. Only a single pattern is allowed: if
               more  are  required,  use extglob's "|" syntax. Globs will be evaluated with bash's shopt dotglob
               set, so beware. Patterns should not contain spaces or special chars like " ' $ ( )  {  }  `,  not
               even quoted or escaped, since that might interfere with the !() syntax after pattern expansion.

               Pattern Examples:

               "*.png"
               "*.png|*icon*"
               "*.h|src/|lib"

</pre><h4><b>LIMITATIONS</b></h4><pre>
       Renames  are  NOT followed. As a workaround, list the rename history with 'git log --follow --name-status
       --format='%H' -- file | grep "^[RAD]"' and include all multiple names of a file in  the  pattern,  as  in
       "current_name|old_name|initial_name".  As  a  side  effect, if a different file has taken place of an old
       name, it will be preserved too, and there is no way around this using this tool.

       There is no (easy) way to keep some files in a dir: using 'dir/foo*' as pattern will not  work.  So  keep
       the  whole  dir and remove files afterwards, using git filter-branch and a (quite complex) combination of
       cloning, remote add, rebase, etc.

       Pattern matching is quite limited, and many of bash's escaping and quoting does not  work  properly  when
       pattern is expanded inside !().

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b>https://github.com/MestreLion/git-tools</b>

</pre><h4><b>AUTHOR</b></h4><pre>
       Rodrigo Silva (MestreLion) <a href="mailto:linux@rodrigosilva.com">linux@rodrigosilva.com</a>

                                                   2021-02-11                                <u><a href="../man1/GIT-CLONE-SUBSET.1.html">GIT-CLONE-SUBSET</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>