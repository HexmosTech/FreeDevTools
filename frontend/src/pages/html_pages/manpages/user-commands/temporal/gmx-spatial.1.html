<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>gmx-spatial - Calculate the spatial distribution function</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/gromacs-data">gromacs-data_2025.0-2_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       gmx-spatial - Calculate the spatial distribution function

</pre><h4><b>SYNOPSIS</b></h4><pre>
          gmx spatial [<b>-s</b> <u>[&lt;.tpr/.gro/...&gt;]</u>] [<b>-f</b> <u>[&lt;.xtc/.trr/...&gt;]</u>] [<b>-n</b> <u>[&lt;.ndx&gt;]</u>]
                      [<b>-b</b> <u>&lt;time&gt;</u>] [<b>-e</b> <u>&lt;time&gt;</u>] [<b>-dt</b> <u>&lt;time&gt;</u>] [<b>-[no]w</b>] [<b>-[no]pbc</b>]
                      [<b>-[no]div</b>] [<b>-ign</b> <u>&lt;int&gt;</u>] [<b>-bin</b> <u>&lt;real&gt;</u>] [<b>-nab</b> <u>&lt;int&gt;</u>]

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>gmx</b> <b>spatial</b> calculates the spatial distribution function and outputs it in a form that can be read by VMD
       as Gaussian98 cube format.  For a system of 32,000 atoms and a 50 ns trajectory, the SDF can be generated
       in about 30 minutes, with most of the time dedicated to the two runs through <b>trjconv</b> that are required to
       center  everything  properly.   This also takes a whole bunch of space (3 copies of the trajectory file).
       Still, the pictures are pretty and very informative when the fitted  selection  is  properly  made.   3-4
       atoms  in  a  widely  mobile group (like a free amino acid in solution) works well, or select the protein
       backbone in a stable folded structure to get the SDF of solvent and look at the  time-averaged  solvation
       shell.   It  is  also  possible  using this program to generate the SDF based on some arbitrary Cartesian
       coordinate. To do that, simply omit the preliminary <u>gmx</u> <u>trjconv</u> steps.

       Usage:

          1. Use <u>gmx</u> <u>make_ndx</u> to create a group containing the atoms around which you want the SDF

          2. <b>gmx</b> <b>trjconv</b> <b>-s</b> <b>a.tpr</b> <b>-f</b> <b>a.tng</b> <b>-o</b> <b>b.tng</b> <b>-boxcenter</b> <b>tric</b> <b>-ur</b> <b>compact</b> <b>-pbc</b> <b>none</b>

          3. <b>gmx</b> <b>trjconv</b> <b>-s</b> <b>a.tpr</b> <b>-f</b> <b>b.tng</b> <b>-o</b> <b>c.tng</b> <b>-fit</b> <b>rot+trans</b>

          4. run <b>gmx</b> <b>spatial</b> on the <b>c.tng</b> output of step #3.

          5. Load <b>grid.cube</b> into VMD and view as an isosurface.

       <b>Note</b> that systems such as micelles will require <b>gmx</b> <b>trjconv</b> <b>-pbc</b> <b>cluster</b> between steps 1 and 2.

   <b>Warnings</b>
       The SDF will be generated for a cube that contains all bins that have some non-zero occupancy.   However,
       the  preparatory  <b>-fit</b>  <b>rot+trans</b>  option  to  <u>gmx</u>  <u>trjconv</u> implies that your system will be rotating and
       translating in space (in order that the selected group does not). Therefore the values that are  returned
       will only be valid for some region around your central group/coordinate that has full overlap with system
       volume  throughout  the  entire translated/rotated system over the course of the trajectory.  It is up to
       the user to ensure that this is the case.

   <b>Risky</b> <b>options</b>
       To reduce the amount of space and time required, you can output only the coords that are going to be used
       in the first and subsequent run through <u>gmx</u> <u>trjconv</u>.  However, be sure  to  set  the  <b>-nab</b>  option  to  a
       sufficiently  high value since memory is allocated for cube bins based on the initial coordinates and the
       <b>-nab</b> option value.

</pre><h4><b>OPTIONS</b></h4><pre>
       Options to specify input files:

       <b>-s</b> <b>[&lt;.tpr/.gro/...&gt;]</b> <b>(topol.tpr)</b>
              Structure+mass(db): <u>tpr</u> <u>gro</u> <u>g96</u> <u>pdb</u> brk ent

       <b>-f</b> <b>[&lt;.xtc/.trr/...&gt;]</b> <b>(traj.xtc)</b>
              Trajectory: <u>xtc</u> <u>trr</u> <u>cpt</u> <u>gro</u> <u>g96</u> <u>pdb</u> <u>tng</u>

       <b>-n</b> <b>[&lt;.ndx&gt;]</b> <b>(index.ndx)</b> <b>(Optional)</b>
              Index file

       Other options:

       <b>-b</b> <b>&lt;time&gt;</b> <b>(0)</b>
              Time of first frame to read from trajectory (default unit ps)

       <b>-e</b> <b>&lt;time&gt;</b> <b>(0)</b>
              Time of last frame to read from trajectory (default unit ps)

       <b>-dt</b> <b>&lt;time&gt;</b> <b>(0)</b>
              Only use frame when t MOD dt = first time (default unit ps)

       <b>-[no]w</b> <b>(no)</b>
              View output <u>.xvg</u>, <u>.xpm</u>, <u>.eps</u> and <u>.pdb</u> files

       <b>-[no]pbc</b> <b>(no)</b>
              Use periodic boundary conditions for computing distances

       <b>-[no]div</b> <b>(yes)</b>
              Calculate and apply the divisor for bin occupancies based on atoms/minimal cube size. Set as  TRUE
              for visualization and as FALSE (<b>-nodiv</b>) to get accurate counts per frame

       <b>-ign</b> <b>&lt;int&gt;</b> <b>(-1)</b>
              Do  not  display  this  number  of  outer  cubes (positive values may reduce boundary speckles; -1
              ensures outer surface is visible)

       <b>-bin</b> <b>&lt;real&gt;</b> <b>(0.05)</b>
              Width of the bins (nm)

       <b>-nab</b> <b>&lt;int&gt;</b> <b>(16)</b>
              Number of additional bins to ensure proper memory allocation

</pre><h4><b>KNOWN</b> <b>ISSUES</b></h4><pre>
       â€¢ When the allocated memory is not large enough, an error may  occur  suggesting  the  use  of  the  <b>-nab</b>
         (Number of Additional Bins) option or increasing the <b>-nab</b> value.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man1/gmx.1.html">gmx</a>(1)</b>

       More information about GROMACS is available at &lt;<u><a href="http://www.gromacs.org/">http://www.gromacs.org/</a></u>&gt;.

</pre><h4><b>COPYRIGHT</b></h4><pre>
       2025, GROMACS development team

2025.0                                            Feb 10, 2025                                    <u><a href="../man1/GMX-SPATIAL.1.html">GMX-SPATIAL</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>