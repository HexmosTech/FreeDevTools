<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>pmdalustre - lustre filesystem statistics performance metrics domain agent (PMDA)</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/pcp">pcp_6.3.3-1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       <b>pmdalustre</b> - lustre filesystem statistics performance metrics domain agent (PMDA)

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>pmdalustre</b>  is  a  Performance Metrics Domain Agent (PMDA) which reads and exports metric values from the
       statistics interfaces of a Lustre filesystem.

       <b>pmdalustre</b> searches for statistics interfaces from several locations, which vary depending on the version
       of <b>Lustre</b> installed locally.

       Recent <b>Lustre</b> versions (v2.12 and later) export statistics from the kernel <b>debugfs</b> pseudo filesystem,  in
       the  directories  <b>/sys/kernel/debug/lustre/llite</b> and <b>/sys/kernel/debug/lnet</b>.  If these interfaces are not
       found during startup, <b>pmdalustre</b> will automatically check if the statistics interfaces are available from
       the <b>procfs</b> pseudo filesystem below the <b>/proc/fs/lustre/llite</b> and <b>/proc/sys/lnet</b> directories.   These  are
       the default locations of the statistics for <b>Lustre</b> versions less than <b>v2.12</b>.

       If  neither of the above filesystem interfaces are detected, or if the user wants to override the default
       locations,     <b>pmdalustre</b>     also     supports     an     optional     configuration     file      named
       <b>$PCP_PMDAS_DIR/lustre/lustre.conf</b>.   Note  that <b>$PCP_PMDAS_DIR</b> is set to <b>/var/lib/pcp/pmdas</b> on most Linux
       based  systems.  The  configuration  file  supports  <b><a href="../man1/perl.1.html">perl</a></b>(1)  variable  assignment  syntax.   An  example
       configuration file suitable for <b>Lustre</b> v2.12 and later is:

                    <b>$LLITE_PATH="/sys/kernel/debug/lustre/llite/";</b>
                    <b>$LNET_PATH="/sys/kernel/debug/lustre/lnet/";</b>

       See  comments  in  the  shipped <b>lustre.conf</b> file for further details.  By default, this file is installed
       with everything commented (and so it has no effect unless edited) because the built-in heuristics used by
       <b>pmdalustre</b> should suffice.

       Finally, overriding all of the above, the <b>LUSTRE_LLITE_PATH</b> and  <b>LUSTRE_LNET_PATH</b>  environment  variables
       may  be  set  (and  exported) to specify the directory locations of the statistics interfaces to be used.
       This mechanism using environment variables is intended to be used for development  and  testing  purposes
       only.

       The  <b>pmdalustre</b>  process  runs  as the root user because <b>debugfs</b> directories are not normally readable by
       unprivileged users.

</pre><h4><b>INSTALLATION</b></h4><pre>
       Install <b>pmdalustre</b> by using the <b>Install</b> script as the root user:

            # cd $PCP_PMDAS_DIR/lustre
            # ./Install

       If you want to undo the installation, do the following as root:

            # cd $PCP_PMDAS_DIR/lustre
            # ./Remove

       <b>pmdalustre</b> is launched by <u><a href="../man1/pmcd.1.html">pmcd</a></u>(1) and should never be executed directly. The Install and  Remove  scripts
       notify <u><a href="../man1/pmcd.1.html">pmcd</a></u>(1) when the agent is installed or removed.

</pre><h4><b>FILES</b></h4><pre>
       <b>$PCP_PMDAS_DIR/lustre/Install</b>
           installation script for the <b>pmdalustre</b> agent

       <b>$PCP_PMDAS_DIR/lustre/Remove</b>
           undo installation script for the <b>pmdalustre</b> agent

       <b>$PCP_LOG_DIR/pmcd/lustre.log</b>
           default log file for error messages from <b>pmdalustre</b>

       <b>$PCP_PMDAS_DIR/lustre/lustre.conf</b>
           Configuration file for over-riding default statistics directories used by <b>pmdalustre</b>.

</pre><h4><b>PCP</b> <b>ENVIRONMENT</b></h4><pre>
       Environment  variables with the prefix <b>PCP_</b> are used to parameterize the file and directory names used by
       <b>PCP</b>. On each installation, the file <b>/etc/pcp.conf</b> contains the local values  for  these  variables.   The
       <b>$PCP_CONF</b> variable may be used to specify an alternative configuration file, as described in <u><a href="../man5/pcp.conf.5.html">pcp.conf</a></u>(5).

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man1/PCPIntro.1.html">PCPIntro</a></b>(1), <b><a href="../man1/perl.1.html">perl</a></b>(1), <b><a href="../man1/pmcd.1.html">pmcd</a></b>(1) and <b><a href="../man1/llstat.1.html">llstat</a></b>(1).

Performance Co-Pilot                                   PCP                                         <u><a href="../man1/PMDALUSTRE.1.html">PMDALUSTRE</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>