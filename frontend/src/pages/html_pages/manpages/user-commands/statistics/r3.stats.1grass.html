<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>r3.stats  - Generates volume statistics for 3D raster maps.</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/grass-doc">grass-doc_8.4.1-1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       <b>r3.stats</b>  - Generates volume statistics for 3D raster maps.

</pre><h4><b>KEYWORDS</b></h4><pre>
       raster3d, statistics, voxel, volume

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>r3.stats</b>
       <b>r3.stats</b> <b>--help</b>
       <b>r3.stats</b> [-<b>ec</b>] <b>input</b>=<u>name</u>  [<b>nsteps</b>=<u>integer</u>]   [--<b>help</b>]  [--<b>verbose</b>]  [--<b>quiet</b>]  [--<b>ui</b>]

   <b>Flags:</b>
       <b>-e</b>
           Calculate statistics based on equal value groups

       <b>-c</b>
           Only print cell counts

       <b>--help</b>
           Print usage summary

       <b>--verbose</b>
           Verbose module output

       <b>--quiet</b>
           Quiet module output

       <b>--ui</b>
           Force launching GUI dialog

   <b>Parameters:</b>
       <b>input</b>=<u>name</u> <b>[required]</b>
           Name of input 3D raster map

       <b>nsteps</b>=<u>integer</u>
           Number of subranges to collect stats from
           Default: <u>20</u>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <u>r3.stats</u> calculates volume statistics for 3D raster maps.  Volumes are created on base of value subranges
       or  groups  of  equal  values.   The  default  number of subranges is 20 and can vary from 1 to infinite.
       Larger number of subranges will result in larger memory consumption.  The volumes are calculated in qubic
       meters. Null values are marked with "*".  If the flag <u>-e</u> is set, the number of subranges will be ignored.

</pre><h4><b>NOTES</b></h4><pre>
       As with most GRASS 3D raster map modules, <u>r3.stats</u> operates on the cell array defined by the  current  3D
       region settings, not the original extent and resolution of the input map. See <u>g.region</u>.

       The  region  setting  will  not effect the memory consumption of this module.  The number of subranges in
       case of value range calculation or the number of equal value groups effect the memory consumption and the
       calculation time.  The user can expect a huge time consumption to calculate the equal value groups  (flag
       <u>-e</u>) if large region settings occur for maps which have many equal value groups (&gt; 100000).

</pre><h4><b>EXAMPLES</b></h4><pre>
   <b>Lausanne</b> <b>FOSS4G</b> <b>2006</b> <b>3D</b> <b>demo</b> <b>dataset</b> <b>example</b>
       The  3D raster map <u>geology</u> has three values. Each value represents a specific geological layer, clay = 1,
       sand = 2 and bedrock = 3. To calculate the volume of each geological layer, we can use  the  flag  <u>-e</u>  to
       group equal values into single volumes.  <u>r3.stats</u> <u>geology</u> <u>-e</u> will produce the following output:

         num   |        value       |     volume    |   perc  |    count
             1             1.000000   300822000.000   50.13700        50137
             2             2.000000   101400000.000   16.90000        16900
             3             3.000000   197778000.000   32.96300        32963
             4                    *           0.000   0.00000            0
       Number of groups with equal values: 3
       Sum of non Null cells:
               Volume = 600000000.000
               Percentage = 100.000
               Count = 100000
       Sum of all cells:
               Volume = 600000000.000
               Percentage = 100.000
               Count = 100000

   <b>Generic</b> <b>example</b>
       #create a small 3D region
       g.region n=1000 s=0 e=2000 w=0 t=300 b=0 res3=100
       #create a raster3D map with row() and null values
       r3.mapcalc "volmap = if(row() == 5, null(), row())"
       #run r3.stats with a subrange of 10
       r3.stats input=volmap nsteps=10
       #the result should look like this
        num   | minimum &lt;= value   | value &lt; maximum    |     volume    |   perc  | cell count
             1          1.000000000          1.900000000    60000000.000   10.00000           60
             2          1.900000000          2.800000000    60000000.000   10.00000           60
             3          2.800000000          3.700000000    60000000.000   10.00000           60
             4          3.700000000          4.600000000    60000000.000   10.00000           60
             5          4.600000000          5.500000000           0.000   0.00000            0
             6          5.500000000          6.400000000    60000000.000   10.00000           60
             7          6.400000000          7.300000000    60000000.000   10.00000           60
             8          7.300000000          8.200000000    60000000.000   10.00000           60
             9          8.200000000          9.100000000    60000000.000   10.00000           60
            10          9.100000000         10.000000001    60000000.000   10.00000           60
            11                    *                    *    60000000.000   10.00000           60
       Sum of non Null cells:
               Volume = 540000000.000
               Percentage =  90.000
               Cell count = 540
       Sum of all cells:
               Volume = 600000000.000
               Percentage = 100.000
               Cell count = 600

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
        <u>g.region,</u> <u>r3.univar,</u> <u>r.stats,</u> <u>r.statistics,</u> <u>v.univar</u>

</pre><h4><b>AUTHOR</b></h4><pre>
       Sören Gebbert

</pre><h4><b>SOURCE</b> <b>CODE</b></h4><pre>
       Available at: r3.stats source code (history)

       Accessed: Friday Apr 04 01:20:08 2025

       Main index | 3D raster index | Topics index | Keywords index | Graphical index | Full index

       © 2003-2025 GRASS Development Team, GRASS GIS 8.4.1 Reference Manual

GRASS 8.4.1                                                                                     <u><a href="../man1grass/r3.stats.1grass.html">r3.stats</a></u>(1grass)
</pre>
 </div>
</div></section>
</div>
</body>
</html>