<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>buildah-manifest - Create and manipulate manifest lists and image indexes.</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/buildah">buildah_1.39.3+ds1-1syncable1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       buildah-manifest - Create and manipulate manifest lists and image indexes.

</pre><h4><b>SYNOPSIS</b></h4><pre>
       buildah manifest COMMAND [OPTIONS] [ARG...]

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The <b>buildah</b> <b>manifest</b> command provides subcommands which can be used to:

       * Create a working Docker manifest list or OCI image index.
       * Add an entry to a manifest list or image index for a specified image.
       * Add an entry to an image index for an artifact manifest referring to a file.
       * Add or update information about an entry in a manifest list or image index.
       * Delete a working container or an image.
       * Push a manifest list or image index to a registry or other location.

</pre><h4><b>SUBCOMMANDS</b></h4><pre>
       ┌──────────┬──────────────────────────────┬──────────────────────────────┐
       │ <b>Command</b>  │ <b>Man</b> <b>Page</b>                     │ <b>Description</b>                  │
       ├──────────┼──────────────────────────────┼──────────────────────────────┤
       │ add      │ <a href="../man1/buildah-manifest-add.1.html">buildah-manifest-add</a>(1)      │ Add  an image or artifact to │
       │          │                              │ a  manifest  list  or  image │
       │          │                              │ index.                       │
       ├──────────┼──────────────────────────────┼──────────────────────────────┤
       │ annotate │ <a href="../man1/buildah-manifest-annotate.1.html">buildah-manifest-annotate</a>(1) │ Add  or  update  information │
       │          │                              │ about an image  or  artifact │
       │          │                              │ in  a manifest list or image │
       │          │                              │ index.                       │
       ├──────────┼──────────────────────────────┼──────────────────────────────┤
       │ create   │ <a href="../man1/buildah-manifest-create.1.html">buildah-manifest-create</a>(1)   │ Create a  manifest  list  or │
       │          │                              │ image index.                 │
       ├──────────┼──────────────────────────────┼──────────────────────────────┤
       │ exists   │ <a href="../man1/buildah-manifest-exists.1.html">buildah-manifest-exists</a>(1)   │ Check  if  a  manifest  list │
       │          │                              │ exists in local storage.     │
       ├──────────┼──────────────────────────────┼──────────────────────────────┤
       │ inspect  │ <a href="../man1/buildah-manifest-inspect.1.html">buildah-manifest-inspect</a>(1)  │ Display the  contents  of  a │
       │          │                              │ manifest   list   or   image │
       │          │                              │ index.                       │
       ├──────────┼──────────────────────────────┼──────────────────────────────┤
       │ push     │ <a href="../man1/buildah-manifest-push.1.html">buildah-manifest-push</a>(1)     │ Push  a  manifest  list   or │
       │          │                              │ image index to a registry or │
       │          │                              │ other location.              │
       ├──────────┼──────────────────────────────┼──────────────────────────────┤
       │ remove   │ <a href="../man1/buildah-manifest-remove.1.html">buildah-manifest-remove</a>(1)   │ Remove   an   image  from  a │
       │          │                              │ manifest   list   or   image │
       │          │                              │ index.                       │
       ├──────────┼──────────────────────────────┼──────────────────────────────┤
       │ rm       │ <a href="../man1/buildah-manifest-rm.1.html">buildah-manifest-rm</a>(1)       │ Remove  manifest  list  from │
       │          │                              │ local storage.               │
       └──────────┴──────────────────────────────┴──────────────────────────────┘

</pre><h4><b>EXAMPLES</b></h4><pre>
   <b>Building</b> <b>a</b> <b>multi-arch</b> <b>manifest</b> <b>list</b> <b>from</b> <b>a</b> <b>Containerfile</b>
       Assuming the <b>Containerfile</b> uses <b>RUN</b> instructions, the host needs a way to  execute  non-native  binaries.
       Configuring  this  is  beyond  the  scope of this example.  Building a multi-arch manifest list <b>shazam</b> in
       parallel across 4-threads can be done like this:

           $ platarch=linux/amd64,linux/ppc64le,linux/arm64,linux/s390x
           $ buildah build --jobs=4 --platform=$platarch --manifest shazam .

       <b>Note:</b> The <b>--jobs</b> argument is optional, and the <b>--manifest</b> option should be used instead of the<b>-t</b> or <b>--tag</b>
       options.

   <b>Assembling</b> <b>a</b> <b>multi-arch</b> <b>manifest</b> <b>from</b> <b>separately</b> <b>built</b> <b>images</b>
       Assuming <b>example.com/example/shazam:$arch</b> images are built separately on other hosts and  pushed  to  the
       <b>example.com</b> registry.  They may be combined into a manifest list, and pushed using a simple loop:

           $ REPO=example.com/example/shazam
           $ buildah manifest create $REPO:latest
           $ for IMGTAG in amd64 s390x ppc64le arm64; do
                     buildah manifest add $REPO:latest docker://$REPO:IMGTAG;
                 done
           $ buildah manifest push --all $REPO:latest

       <b>Note:</b>  The  <b>add</b>  instruction  argument  order is <b>&lt;manifest&gt;</b> then <b>&lt;image&gt;</b>.  Also, the <b>--all</b> push option is
       required to ensure all contents are pushed, not just the native platform/arch.

   <b>Removing</b> <b>and</b> <b>tagging</b> <b>a</b> <b>manifest</b> <b>list</b> <b>before</b> <b>pushing</b>
       Special care is needed when removing and pushing manifest lists, as opposed to the contents.  You  almost
       always  want  to use the <b>manifest</b> <b>rm</b> and <b>manifest</b> <b>push</b> <b>--all</b> subcommands.  For example, a rename and push
       could be performed like this:

           $ buildah tag localhost/shazam example.com/example/shazam
           $ buildah manifest rm localhost/shazam
           $ buildah manifest push --all example.com/example/shazam

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <a href="../man1/buildah.1.html">buildah</a>(1),  <a href="../man1/buildah-manifest-create.1.html">buildah-manifest-create</a>(1),  <a href="../man1/buildah-manifest-add.1.html">buildah-manifest-add</a>(1),  <a href="../man1/buildah-manifest-remove.1.html">buildah-manifest-remove</a>(1),  <a href="../man1/buildahmanifest-annotate.1.html">buildah-</a>
       <a href="../man1/buildahmanifest-annotate.1.html">manifest-annotate</a>(1), <a href="../man1/buildah-manifest-inspect.1.html">buildah-manifest-inspect</a>(1), <a href="../man1/buildah-manifest-push.1.html">buildah-manifest-push</a>(1), <a href="../man1/buildah-manifest-rm.1.html">buildah-manifest-rm</a>(1)

buildah                                          September 2019                              <u><a href="../man1/buildah-manifest.1.html">buildah-manifest</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>