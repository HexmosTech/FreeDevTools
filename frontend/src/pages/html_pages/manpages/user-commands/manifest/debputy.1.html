<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>debputy - Manifest style Debian-based package builder</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/dh-debputy">dh-debputy_0.1.67_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       debputy - Manifest style Debian-based package builder

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>debputy</b> [<u>general</u> <u>options</u> ] <b>command</b> <b>...</b> [ <u>command</u> <u>options</u> ]

       <b>debputy</b> <b>migrate-from-dh</b> [<b>--apply-changes</b>] [<b>--acceptable-migration-issues=</b><u>issue</u>[,<u>issue</u>,...]]

       <b>debputy</b> <b>lint</b> [<b>--auto-fix</b>]

       <b>debputy</b> <b>reformat</b> [<b>--no-auto-fix</b>]

       <b>debputy</b> <b>check-manifest</b> [<b>--debputy-manifest=</b><u>path/to/debputy.manifest</u>]

       <b>debputy</b> <b>lsp</b> <b>editor-config</b> [<u>NAME</u>]

       <b>debputy</b> <b>lsp</b> <b>server</b> [<b>--tcp|--ws</b> [<b>--host</b> <u>BIND-ADDRESS</u>] [<b>--port</b> <u>PORT</u>]]

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The <b>debputy</b> program is a manifest style Debian-based package builder. This man page documents some of the
       user facing commands.

       If you are using <b>debputy</b> with a screen reader, consider setting the environment variable
       <b>OPTIMIZE_FOR_SCREEN_READER</b> to 1. This will make many <b>debputy</b> commands remove a lot of irrelevant visual
       rendering. Especially ASCII art style rendering that will just be annoying to listen to. Additionally,
       some output will be described with text to replace the visual rendering.

   <b>Commands</b>
       check-manifest
           The  <b>check-manifest</b>  command  will  cause  <b>debputy</b>  to  parse the manifest and examine it for obvious
           mistakes.

           Note that the command will <u>not</u> catch all mistakes as some problems can  only  be  detected  during  a
           build.  As  an  example,  <b>check-manifest</b> can detect mistyped manifest variables but not typos in path
           names for installation rules.

       migrate-from-dh
           The <b>migrate-from-dh</b> command will attempt to migrate the current package to <b>debputy</b>.

           For this command to be successful, it must be run from the root of an unpacked Debian source  package
           and the package should be using the <b>dh</b> sequencer.

           If  you  are  looking  to  migrate  to  <b>debputy</b>  from  <b>dh</b>,  you  may  want  to  have  a  look  at the
           <b>GETTING-STARTED-WITH-dh-debputy.md</b> file (in the source root or in <u><a href="file:/usr/share/doc/">/usr/share/doc/</a></u>). That document  is
           a how-to guide that as extended advice on migration from <b>dh</b>.

           The  migration  can  rerun  with  newer version of <b>debputy</b> that might provide more features since the
           previous one even inside the same level of adoption. As an example, <b>debputy/0.1.21</b> added support  for
           automatic relationship substvars. Re-running the migrator for an already migrated package can be used
           to detect any unnecessary explicit relationship substvars as unnecessary.

           The  default  migration  target  is  based on existing features in the packaging where present. As an
           example, a build-dependency on <b>dh-sequence-zz-debputy-rrr</b> will  make  the  migration  tool  only  run
           migrators  relevant  for  <b>dh-sequence-zz-debputy-rrr</b>  (assuming no other markers are present). If the
           migration cannot identify any target markers, it has a built-in default target.  The  default  target
           will  change  over time as <b>debputy</b> and the migrator mature. The <b>--migration-target</b> option can be used
           to overrule this automatic detection. This can be useful  both  to  expand  on  the  migration  level
           without performing any changes or to choose a non default initial migration level.

           Generally,  the  migration  tool can take you from "less adoption" towards "more adoption" of <b>debputy</b>
           but not the inverse. As an example, migrating from <b>dh-sequence-zz-debputy-rrr</b> towards <b>dh-sequence-zz-</b>
           <b>debputy</b> is supposed, but the reverse is not. Use  of  version  control  is  recommended  for  undoing
           transition if necessary.

           If  any  migrations  involve  creating  a  new  or  changing an existing <u>debian/debputy.manifest</u>, the
           migration tool will first write a draft to <u>debian/debputy.manifest.new</u>. From there, it may be renamed
           to <u>debian/debputy.manifest</u> automatically depending on <b>--apply-changes</b> or <b>--no-apply-changes</b>.

           It supports the following options:

           <b>--migration-target</b> <u>TARGET-NAME</u>
               Explicitly define how far the migration should go. This will override the  detected  or  built-in
               default as the desired migration target.

               See "INTEGRATION LEVELS" for details about the concrete levels of integration that can be used.

           <b>--acceptable-migration-issues</b> <u>NAME[,...,NAME]</u>, <b>--acceptable-migration-issues=ALL</b>
               The  migration may detect unsupported features in the package. Some, but not all, of these can be
               reduced to a warning by passing <b>--acceptable-migration-issues</b> with  the  name  of  the  issue  as
               provided in the error message. The special value <b>ALL</b> in all upper case will cause all issues that
               can be reduced to a warning to be reduced to a warning.

               This  is  only useful to reduce issues to warnings if you are reasonable sure that you can remove
               the feature or convert it to something that <b>debputy</b> supports.

               In some cases, it might be helpful to comment out the offending feature and re-run the  migration
               rather   than   using   <b>--acceptable.migration-issues</b>.  As  an  example,  if  a  single  line  of
               <u>debian/install</u> file is problematic, commenting it out will have <b>debputy</b> migrate the rest  of  the
               file for you leaving you only to manually migrate a single line.

           <b>--apply-changes</b>, <b>--no-act</b>, <b>--no-apply-changes</b>
               These  options  decide  whether  the  migration  tool  should perform destructive actions such as
               overwriting  the  existing  <b>debian/debputy.manifest</b>  and  deleting  packaging  files  that   have
               successfully migrated.

               The default is currently to not perform destructive actions as the migration tool does not detect
               version  control systems. If support for detecting version control systems is added, this default
               may change.

               Note that the migration may replace <b>debian/debputy.manifest.new</b> regardless of this option as that
               is its output for the updated draft manifest.

               The <b>--no-act</b> is an alias of <b>--no-apply-changes</b> to match the name that <b>debhelper</b> commands use.

       reformat
           <u>Note:</u> <u>This</u> <u>subcommand</u> <u>needs</u> <u>optional</u> <u>dependencies</u> <u>to</u> <u>work</u> <u>from</u> <u><b>Recommends</b></u> <u>or</u> <u><b>Suggests</b></u>

           Apply the formatting style on the packaging files.

           This is the same style that <b>debputy</b> <b>lsp</b> <b>server</b> would have applied if requested to reformat the files.

           The <b>debputy</b> tool reacts to having a <b>X-Style</b> field in <u>debian/control</u> from where you can pick  a  named
           style.  The  recommended  style  is  <b>black</b>, which is named such to match the <b>black</b> code formatter for
           <b>Python</b> (which imposes a style that evolves over time).

           For packages that does not have the <b>X-Style</b> field, <b>debputy</b> will result to looking up  the  maintainer
           (and  possibly  co-maintainers) for known style preferences in its built-in configuration. If <b>debputy</b>
           can derive a style that all parties would agree too (or the team style  for  packaging  teams),  then
           that style will be used.

           The  <b>black</b>  style  started  as  similar to that of <b>wrap-and-sort</b> <b>-ast</b>, since that was one of the most
           common styles according to &lt;https://bugs.debian.org/895570&gt;, but the style is expected to evolve over
           time and the two styles may diverge over time.

           The command accepts the following options:

           <b>--style=black</b>
               Override the package style and use the <b>black</b> style. Any auto-detection or <b>X-Style</b> setting will be
               ignored.

           <b>--auto-fix</b>, <b>--no-auto-fix</b>
               Decide whether any changes should be fixed automatically.

               Either way, a difference (<b>diff</b> <b>-u</b>) is displayed to stdout if any changes were detected.

           <b>--linter-exit-code</b>, <b>--no-linter-exit-code</b>
               There is a convention among linter tools to return  a  non-zero  exit  code  for  "issues".   The
               <b>--linter-exit-code</b> will enforce this behavior while the <b>--no-linter-exit-code</b> will disable it.

               The  <b>debputy</b> program will use exit code <b>2</b> for "issues" as a "linter exit code" when linting based
               exit codes are active.

               Not having a linter based exit code can be useful if you want to run the tool programmatically to
               perform the action and you only want the exit code to tell whether there was a problem  providing
               the results.

               If  you rely on the exit code, you are recommended to explicitly pass the relevant variant of the
               flag even if the current default matches your wishes.

           <b>--unknown-or-unsupported-style-is-ok</b>, <b>--missing-style-is-ok</b>
               By default, <b>debputy</b> <b>reformat</b> will exit with an error when it cannot determine which style to use.
               This is generally what you want for "per package" CI or other lint checks to inform you that  the
               reformatting will not work.

               However, for "cross package" pipelines, like the default Debian Salsa CI pipeline, having <b>debputy</b>
               <b>reformat</b>  automatically work when a style is set and doing nothing otherwise is preferable, since
               the pipeline can then provide a <b>debputy</b> <b>reformat</b> job for all  consumers  without  worrying  about
               breaking their pipelines.

               It  can  also  be  useful for scripts or automated mass-edits where you want <b>debputy</b> to fixup the
               changes you did if there is a known style without being hampered by the  packages  that  have  no
               known style.

               The <b>--missing-style-is-ok</b> is a deprecated name since it does not correctly imply that unsupported
               styles are also considered ok.

           <b>--supported-style-is-required</b>
               Exit  with  an  error  if  no supported style can be found. This is the default behavior but this
               option can be used to override settings to disable it. The error does not distinguish between  no
               style found or an unsupported style found (both lead to an error).

               If you rely on the exit code, please set this option explicitly.

       lint
           <u>Note:</u> <u>This</u> <u>subcommand</u> <u>needs</u> <u>optional</u> <u>dependencies</u> <u>to</u> <u>work</u> <u>from</u> <u><b>Recommends</b></u> <u>or</u> <u><b>Suggests</b></u>

           Run  the  linting  tooling  for  Debian  packaging files.  This will run a linter to check the Debian
           packaging files. This command is useful for CI or  for  when  you  cannot  use  the  language  server
           feature.  It  provides  the same diagnostics as <b>debputy</b> <b>lsp</b> <b>server</b> would but without requiring an LSP
           capable editor as intermediate.  The output is only intended for human consumption.  Machine readable
           is not a goal at this time.

           The <b>debputy</b> <b>lint</b> command is a form of static analysis and will not load nor  execute  code  from  the
           code  it  is  scanning.  It  is a security bug for <b>debputy</b> <b>lint</b> to violate this principle directly or
           indirectly. Therefore, <b>debputy</b> can only provide diagnostics from libraries and tools that takes  this
           principle  seriously.  It  also  means that <b>debputy</b> will likely have false-positives for self-hosting
           code, since it is not allowed to load the self-hosted code.

           Note that at the time of writing, the <b>debputy.manifest</b> file is only <b>partially</b> supported. If you  have
           <u>debian/debputy.manifest</u>,  please also run <b>debputy</b> <b>check-manifest</b> to get more thorough checks for that
           file  for  now.  The  <b>lint</b>  command  will  inform  you  about  this  issue  in  the   output   if   a
           <u>debian/debputy.manifest</u> file is detected.

           Some relevant options for this subcommand include:

           <b>--auto-fix</b>
               If  <b>debputy</b>  is  aware of one "obvious" solution to the issue, just apply it. This will apply the
               changes directly to the file. Use of version control for the Debian packaging is recommended when
               using this option in case you want to undo the result.

           <b>--spellcheck</b>
               Include spellchecking in the linting results. These are by default omitted, since they are slower
               and there are often false-positives.

               <u>Caveat</u>: Before version 0.1.55 of <b>debputy</b>, <b>--auto-fix</b> with  <b>--spellcheck</b>  would  auto-correct  all
               spelling  mistakes  with  a single correction available.  This can be suboptimal behavior in some
               cases. As of 0.1.55, <b>debputy</b> no longer automatically applies typo fixes for free text fields when
               <b>--auto-fix</b> <b>--spellcheck</b>. Instead, they will be reported as not being fixable  automatically  (but
               instead have a "[LSP interactive quickfix]" tag associated with them).

           <b>--linter-exit-code</b>, <b>--no-linter-exit-code</b>
               There is a convention among linter tools to return a non-zero exit code for "severe issues".  The
               <b>--linter-exit-code</b> will enforce this behavior while the <b>--no-linter-exit-code</b> will disable it.

               The  <b>debputy</b> program will use exit code <b>2</b> for "severe issue" as a "linter exit code" when linting
               based exit codes are active.

               Not having a linter based exit code can be useful if you want to run the tool programmatically to
               display the results and you only want the exit code to tell whether there was a problem providing
               the results.

               If you rely on the exit code, you are recommended to explicitly pass the relevant variant of  the
               flag even if the current default matches your wishes.

           <b>--lint-report-format</b> <u>term|junit-xml</u>
               Choose  the  output  format of the resulting report. The <b>term</b> report is a terminal output report.
               The <b>junit-xml</b> writes the output to an XML in a JUnit 4 format  (should  be  compatible  with  the
               xunit2  family  of JUnit4 style input). This is useful for GitLab CI pipelines to get the results
               imported via GitLab's <b>junit</b> CI pipeline feature.

           <b>--report-output</b> <u>DEST</u>
               For reports that generate file system artifacts, choose where the output should be placed.

               Ignored with a warning for formats that do not generate file system  outputs  such  as  the  <b>term</b>
               report format.

           <b>--warn-about-check-manifest</b>, <b>--no-warn-about-check-manifest</b>
               Whether  <b>debputy</b>  <b>lint</b>  should  remind you that it has short comings in regards to validating the
               <b>debian/debputy.manifest</b> file. The warning will only appear if the manifest file exists.  That is,
               the options have no effect either way when the file is not present.

               The <b>--no-warn-about-check-manifest</b> is mostly used for  generic  pipelines  that  separately  call
               <b>debputy</b>  <b>check-manifest</b>  to  ensure  that  the  manifest is also validated or for cases where the
               limitation is known and accepted.

           A short comparison of <b>debputy</b> <b>lint</b> vs. other tools:

           <b>debputy</b> <b>lsp</b> <b>server</b>
               The language server feature from <b>debputy</b> <b>lsp</b> <b>server</b> provides an interactive and online version of
               the linting from  <b>debputy</b>  <b>lint</b>  directly  in  any  LSP  capable  editor  with  the  proper  glue
               configuration.  The  LSP  feature  gives  you  instant gratification, some additional editor-only
               features and interactive choices of available quickfixes.

               The "downside" of the <b>debputy</b> <b>lsp</b> <b>server</b> feature is that it requires a  LSP  capable  editor  and
               each editor has their own glue configuration. Since the <b>debputy</b> language server is new, almost no
               editor  has  built-in  glue configuration meaning it has a steeper learning curve to get started.
               Additionally, some times you want the checks for CI checks or the current state  of  the  package
               without  having  to open each file in an editor. Here <b>debputy</b> <b>lint</b> covers the same issues without
               the need for anything else.

           <b>lintian</b>
               The primary difference between the <b>debputy</b> linter and <b>lintian</b> is that <b>lintian</b> works  on  "binary"
               artifacts.  Even  the  source  checks of <b>lintian</b> checks the packaged version of the source rather
               than the files you are directly working. This means that you have to do  a  package  "build"  for
               lintian  to  spot  any  changes, which causes slow feedback loops. Additionally, <b>debputy</b> <b>lint</b> can
               provide feedback regardless of whether your package can currently build. Accordingly, you can get
               help and hints even for problems that would prevent a package build. By  nature  of  how  <b>lintian</b>
               works, you can only get hints from lintian on matters that does not break the package build.

               On  the  flip  side, because <b>lintian</b> is checking the assembled artifacts, it can check for issues
               that are only visible after a package build. Additionally, <b>lintian</b> also checks for issues in  the
               upstream  sources  to  some extent. Checking upstream artifacts and the resulting Debian packages
               are not in scope for <b>debputy</b> <b>lint</b> as the <b>debputy</b> <b>lint</b> is intended to be a mirror of the  language
               server diagnostics.

               In  summary:  Use  <b>debputy</b> <b>lint</b> (or <b>debputy</b> <b>lsp</b> <b>server</b>) for short feedback loops. Use <b>lintian</b> for
               slower but more thorough checks on resulting packages.

           <b>lintian-brush</b>
               The <b>lintian-brush</b> has a broader scope than <b>debputy</b> <b>lint</b>. If you are a happy  <b>lintian-brush</b>  user,
               odds  are  that <b>debputy</b> <b>lint</b> will not do a lot for you. Though, <b>debputy</b> <b>lsp</b> <b>server</b> might still be
               relevant as the language server provides additional editor related features.

       lsp server
           <u>Note:</u> <u>This</u> <u>subcommand</u> <u>needs</u> <u>optional</u> <u>dependencies</u> <u>to</u> <u>work</u> <u>from</u> <u><b>Recommends</b></u> <u>or</u> <u><b>Suggests</b></u>

           Start the <b>debputy</b> language server (per <b>Language</b> <b>Server</b> <b>Protocol</b> specification).

           Many modern editors can delegate language support to  a  <b>Language</b>  <b>Server</b>  or  indirectly  via  other
           features like supporting <b>youcompleteme</b> (which in turn can delegate to a language server). The <b>debputy</b>
           tool  provides  one  for many common packaging formats via the <b>lsp</b> <b>server</b> subcommand for file formats
           such as <b>debian/control</b>, <b>debian/changelog</b> and <b>debian/copyright</b> (DEP-5).

           You will often need some editor specific glue configuration to link a given file format  or  name  to
           the  language  server.  The  <b>debputy</b> <b>lsp</b> <b>editor-config</b> might provide an example glue snippet for your
           editor. In that glue configuration, you will need to provide a command.  Often,  <b>debputy</b>  <b>lsp</b>  <b>server</b>
           will suffice (using the stdio transport). See <b>debputy</b> <b>lsp</b> <b>server</b> <b>--help</b> for other integration options
           such as TCP (<b>--tcp</b>) or websocket (<b>--ws</b>) plus related supporting options.

           The  <b>debputy</b>  <b>lsp</b> <b>server</b> command provides several features including a form of static analysis in the
           form of "as-you-type" diagnostics. For the diagnostics, is <b>debputy</b> <b>lsp</b> <b>server</b> not  allowed  load  nor
           execute  code  from  the  code it is scanning. It is a security bug for <b>debputy</b> <b>lsp</b> <b>server</b> to violate
           this principle directly or indirectly. Therefore, <b>debputy</b> can only provide diagnostics from libraries
           and tools that takes this principle seriously. It also means that <b>debputy</b>  will  likely  have  false-
           positives for self-hosting code, since it is not allowed to load the self-hosted code.

           This  security  principle  also  applies to hover docs, completion suggestions and other trivial code
           editing or  viewing  features.  However,  it  is  not  universal,  since  certain  LSP  features  are
           deliberately  designed to run the code you are viewing. As an example, <b>debputy</b> <b>lsp</b> <b>server</b> can provide
           a "code lens" (LSP term) for building the current package. On activation of the  code  lens,  <b>debputy</b>
           will  trigger code from the package to be run and that is expected. The critical points here are that
           the user must explicitly trigger the feature and it must use terms commonly associated  with  running
           code such as <b>build</b>, <b>run</b> or <b>execute</b> (non-exhaustive list).

           If  you  need  to  debug  an issue with the language server, the TCP integration (<b>--tcp</b>) can be quite
           helpful. In this mode, you run <b>debputy</b> <b>lsp</b> <b>server</b> <b>--tcp</b> in a terminal before  starting  your  editor.
           This  means you have direct and unfiltered access to the <b>debputy</b> command and its output.  Remember to
           update your editor to use TCP integration rather than stdio integration (and remember  to  swap  back
           when  you are done). Check the <b>debputy</b> <b>lsp</b> <b>server</b> <b>--help</b> if you need a different bind address for the
           language server.

           If you can choose the language ID for a given file, you are recommended to use the file name relative
           to the source root (such as <b>debian/control</b>). The service does account for some known variations  such
           as  <b>debian-control</b>  (as  used  by  <b>eglot</b> from <b>emacs</b>) and <b>debcontrol</b> (as used by <b>vim</b>). See <b>debputy</b> <b>lsp</b>
           <b>features</b> for a list of known language IDs along with their aliases.

           When properly set up, the language server will  offer  a  variety  of  features  such  as  completion
           suggestions, hover documentation, "as you type" diagnostics, quickfixes, etc.  Please see <b>debputy</b> <b>lsp</b>
           <b>features</b> for the full list of features per format. That command will also help identify mandatory and
           optional dependencies for the <b>debputy</b> <b>lsp</b> <b>server</b> command.

           Note  many  of  the  features  are  subject to the editor supporting them, correct language IDs being
           passed to <b>debputy</b>, etc.

           Options for this subcommand

           <b>--ignore-language-ids</b>
               When provided, <b>debputy</b> will ignore any language  ID  that  the  editor  provides  for  any  file.
               Instead,  <b>debputy</b>  will  only  rely  on  the  file name for determining how to interpret the file
               content.

               Since <b>debputy</b> supports multiple file formats, it is needs to know what kind of file it is working
               with. The editor is supposed to provide this via a "Language ID" attribute. This enables you as a
               user in the editor to override the file format and have  proper  editor  support  no  matter  the
               filename.  Unfortunately,  most  Debian packaging files do not have a language ID assigned in the
               LSP specification, so editors either provide a custom language ID or no custom language ID at all
               (that is, an empty string).

               When the editor does not provide a language ID for file, <b>debputy</b> will since 0.1.25  automatically
               attempt  to  derive  the  language  from  the  filename. With this option (introduced in 0.1.29),
               <b>debputy</b> will always derive the language from the filename even if the editor provided a  language
               ID. This can be helpful if your editor is providing language IDs that <b>debputy</b> does not recognize.

               As an example, in <b>emacs</b> with <b>eglot</b> the language ID is derived from the name of the buffer's major
               mode.  If  you  tried to use <b>debputy</b> <b>lsp</b> <b>server</b> with a major mode that <b>debputy</b> does not recognize
               then without this option, <b>debputy</b> would "silently" do nothing. With this option,  it  would  have
               worked provided the filename matched <b>debputy</b>'s expectation no matter the major mode.

               On   the   downside,   <b>debputy</b>   will  not  provide  correct  advice  unless  the  paths  matches
               <u>.../debian/filename</u>.  This can provide issues with some setups  where  the  debian  directory  is
               implicit such as some "packaging-only" repos or some editor scratch pads.

           <b>--force-locale=XX</b>
               When provided, <b>debputy</b> will always use the provided locale code for deciding the localization.

               By  default,  the  editor  <u>may</u>  provide a locale, which is then used. Alternatively, <b>debputy</b> will
               attempt to guess the desired localization from defaults (like the  <b>LC_ALL</b>  variable).  With  this
               option, you can override both of these and instead directly pick the locale you want.

               Note  that  <b>debputy</b> will default to using US English for strings that are not translated into the
               desired locale (no matter how that locale was chosen). If you still see untranslated strings with
               this options, check you have the relevant translations installed and  that  the  locale  code  is
               correct.

           <b>--tcp</b> or <b>--ws</b>
               By  default,  the <b>debputy</b> language server will use <b>stdio</b> for communication with the editor. These
               options provide either the TCP integration mode (<b>--tcp</b>) or the websocket integration mode (<b>--ws</b>).
               In this mode, the <b>--host</b> and <b>--port</b> options can be used to choose the bind address.

               These options are mutually exclusive.

               The <b>--ws</b> option requires <b>python3-websockets</b> Debian package.

           <b>--host</b> <u>HOSTNAME</u>, <b>--port</b> <u>PORT</u>
               With <b>--tcp</b> or <b>--ws</b>, these option determines the bind address. The default is 127.0.0.1  for  host
               and 2087 for the port.

               In  integration  modes that does not need a bind address (such as the <b>stdio</b> mode), this option is
               ignored.

       lsp editor-config [EDITOR]
           Provide an example configuration glue for using the <b>debputy</b> <b>lsp</b>  <b>server</b>  with  the  given  editor  if
           known. If <u>EDITOR</u> is not provided, then list the names of editors that <b>debputy</b> knows about.

           The  snippets  are maintained on a best effort basis for editors without built-in config glue for the
           <b>debputy</b>    <b>lsp</b>    <b>server</b>.    Please    file    an    issue    (or     a     merge     request)     at
           &lt;https://salsa.debian.org/debian/debputy&gt; if a snippet needs to be updated, added or removed.

       lsp features
           List in a human readable format details about what language IDs are handled by the <b>debputy</b> <b>lsp</b> <b>server</b>
           along with what features are provided for each file format/language ID.

           The  command  can  also be used to determine if all the relevant dependencies have been installed for
           the language server and linting features. It will also  check  for  optional  dependencies  that  can
           enhance the feature set.

       tool-support
           These  commands  are  intended  for  other  tools  to consume the output. Output is generally JSON by
           default or supported via <b>--output-format=json</b>.

           export-reference-data [DATASET]
               The <b>export-reference-data</b> command export reference data. If provided, only the named dataset will
               be exported.  Otherwise, all datasets will be exported.

               The reference data includes descriptions of the keywords used in the data set, which  is  helpful
               to understand the data.

           supports-tool-command &lt;COMMAND&gt;
               Tests  whether  <b>debputy</b>  knows  about  the  named  command.  Returns  successfully  if  known and
               unsuccessfully if not known.

           annotate-debian-directory
               The <b>annotate-debian-directory</b> command will make <b>debputy</b> scan  the  <u>debian/</u>  directory  for  known
               packaging files and annotate them with information.

               Identifying  known  packaging  files is done on a best effort basis and <b>debputy</b> has the following
               sources of information:

               Data from plugins
                   Any installed <b>debputy</b> plugin can provide data about known packaging files. Most of  <b>debputy</b>'s
                   "built-in"  rules  are  stored  in  the  <b>debputy-documentation</b> or the <b>debhelper-documentation</b>
                   plugin. These are installed in <u>/usr/share/debputy/debputy/plugins/</u> by default. If any of  the
                   data  in  there  is  wrong, please file a bug or a bug against the package providing the data
                   (often <b>debputy</b> or <b>debhelper</b>).

                   If the plugin provides the relevant data, <b>debputy</b> will expose  <b>install-pattern</b>  and  <b>install-</b>
                   <b>path</b>,  which  are  best-effort guesses for the file is installed (or where files listed in it
                   will be installed). Please check the <b>config-features</b> and <b>file-categories</b> for the file to  see
                   when these field are applicable (and which case it is).

                   Note  that  some  files  can  be  matched  multiple times. As an example <u>debian/changelog</u> and
                   <u>debian/copyright</u> will generally appear once per package, because they are installed  in  each
                   package.

               Dynamic data from <b><a href="../man7/debhelper.7.html">debhelper</a></b>(7) (via <b><a href="../man1/dh_assistant.1.html">dh_assistant</a></b>(1)&gt;)
                   Additionally, <b>debputy</b> will ask <b>dh_assistant</b> to resolve all relevant helper commands and their
                   relevant  config  snippets.  This data will be cross referenced with the plugin provided data
                   where possible. This will detect files that <b>debputy</b> (and its plugins) does  not  know  about,
                   but it cannot provide any additional information.

                   This  part requires <b>debhelper</b> <b>(&gt;=</b> <b>13.12~)</b> to work fully. With older versions, the output will
                   include an <b>issues</b> attribute denoting that <b>dh_assistant</b> returned non-zero. Additionally,  with
                   <b>debhelper</b>  <b>(&gt;=</b>  <b>13.16~)</b>  the  command will also provide data about files associated with some
                   <b>dh_</b>-commands not active with the current set of <b>dh</b> addons.

                   When <b>dh_assistant</b> <b>list-guessed-dh-config-files</b> is missing a file, it is typically because the
                   command that uses that config file is not introspectable. Typically, that  can  be  fixed  by
                   patching the command to include a command line a la:

                       # INTROSPECTABLE: CONFIG-FILES pkgfile(foo)

                   Assuming  the command uses <b>pkgfile($package,</b> <b>"foo")</b> from Debian::Debhelper::Dh_Lib to look up
                   the config file.

                   Notable case that will likely not work is <u>debian/foo.service</u> where there is no <b>foo</b> package in
                   <u>debian/control</u> but <u>debian/rules</u> calls <b>dh_installsystemd</b> <b>--name</b> <b>foo</b>. This  holds  equally  for
                   all  debhelper  config  files  and related commands. Here, the resulting file (if detected at
                   all) might be associated with the wrong package.

       plugin list [<u>TOPIC</u>]
       plugin show <b>TOPIC</b> <b>identifier</b>
           These commands provides access to features that are provided by plugins (Note: many <b>debputy</b>  features
           are plugin provided, so these commands also covers a lot of "built-in" features).

           These  commands  will  access  features of all plugins <b>available</b> even if the current package will not
           activate all of these plugins. Unless otherwise stated, all output is intended to be  human  readable
           rather than machine readable. Formatting may change between any version.

           Many  of  the  <b>list</b>  subcommands  also  provide  a  csv  format. Note this output is <b>not</b> intended for
           scripting as the output is subject to change - both in form of format availability and  content.  The
           csv  output  is  intended as an aid to users of screen readers for which csv files are easier to deal
           with than visually rendered tables. If you need a stable format of  some  particular  output,  please
           file  a  feature  request  at  &lt;https://salsa.debian.org/debian/debputy/-/issues&gt;  or  via  <b>reportbug</b>
           <b>debputy</b>.

           You can use <b>debputy</b> <b>plugin</b> <b>list</b> <b>--help</b> and <b>debputy</b>  <b>plugin</b>  <b>show</b>  <b>--help</b>  to  see  which  topics  are
           applicable for each subcommand.

           Noteworthy topics include:

           plugins
               This topic provides a listing of all plugins that <b>debputy</b> is aware of.

               This topic can only used with <b>plugin</b> <b>list</b> and not with <b>plugin</b> <b>show</b>.

           pluggable-manifest-rules (aliases: pmr, p-m-r)
               The  <b>debputy</b>  manifest  provides  a  number  of places where the packager can provide a number of
               different rules such as <b>install</b> vs. <b>install-doc</b> vs. <b>install-examples</b> under <b>installations:</b>.  These
               are called pluggable manifest rules and this topic provides insights to which rules are available
               where.

               When  used  with  <b>list</b>,  <b>debputy</b> will list all pluggable manifest rules available. When used with
               <b>show</b>, a rule name must be provided and <b>debputy</b> will then provide details about  the  rule.  These
               details  include attributes available (where applicable) and any reference documentation provided
               by the plugin.

               As an example, here is how you get the details about the install rule:

                   debputy plugin show pluggable-manifest-rules install

               When a rule name is ambiguous, <b>debputy</b> will ask that you use <b>rule-type::rule-name</b> instead of just
               <b>rule-name</b>.  As an example:

                   debputy plugin show pluggable-manifest-rules TransformationRule::remove
                   debputy plugin show pluggable-manifest-rules DpkgMaintscriptHelperCommand::remove

               Note the type names (such as <b>TransformationRule</b>) are currently an implementation detail  and  may
               change in the future.

           packager-provided-files (aliases: ppf, p-p-f)
               This  topic  provides details about all "packager provided files". Packager provided files can be
               put into <u>debian</u> from where <b>debputy</b> will pick them up and install them somewhere in  the  package.
               While this command shows all possible variants (by their stems), the <b>used-packager-provided-files</b>
               topic will <b>list</b> real files matched.

               When  used with <b>list</b>, <b>debputy</b> will list all the packager provided files that <b>debputy</b> knows about.
               When used with <b>show</b>, some additional details will be given.

               In a few cases, the packager provided file will be processed first (as an example  <u>debian/symbols</u>
               will be passed to <b>dpkg-gensymbols</b> and the processed version will then be installed instead).

           used-packager-provided-files (aliases: uppf, u-p-p-f)
               This topic provides a list of all packager provided files used in this source package. This topic
               differs  from <b>packager-provided-files</b> in that it only shows files in actual use whereas the other
               topic lists all known stems.

               The listing will potentially include files that <b>debputy</b> could have picked up, but will not do  so
               during  a  package build because the relevant plugin is not explicitly requested (typically via a
               Build-Depends). These cases are placed in a separate table and will be clearly marked.

               This topic can only used with <b>plugin</b> <b>list</b> and not with <b>plugin</b> <b>show</b>.

               This topic only works when the command is run from the root of an unpacked Debian source  package
               (as <b>debputy</b> needs to read <u>debian/control</u> and scan the <u>debian/</u> directory).

           metadata-detectors
               This  topic  provides  a  listing  of  all  "metadata  detectors". These are plugin provided code
               snippets that scan the final form  of  the  package  and  add  substvars  (for  <b>dpkg-gencontrol</b>),
               generate maintscript snippets, or/and declare triggers.

               This topic can only used with <b>plugin</b> <b>list</b> and not with <b>plugin</b> <b>show</b>.

           manifest-variables
               This  topic  covers <b>plugin</b> <b>provided</b> manifest variables. The listing will list the common manifest
               variables by default along with their values in source context (if possible). Some of the special
               case manifest variables are hidden by default (use <b>debputy</b> <b>plugin</b> <b>list</b> <b>manifest-variables</b>  <b>--help</b>
               to see the filter options).

               When  used  with <b>show</b> <b>VARIABLE</b>, <b>debputy</b> will list the reference documentation (if provided by the
               plugin) related to the value along with a few other details.

               As implied above, this will only show <b>plugin</b> <b>provided</b> variables. Any manifest variables  provided
               directly in the manifest is <b>not</b> covered by these commands.

           automatic-discard-rules
               This  topic  covers  automatic  discard  rules,  which  are  rules that automatically filters out
               (discards) sources from installation rules by default.  The listing will list all  the  available
               automatic  discard  rules. The <b>show</b> <b>RULE</b> command will show reference documentation and an example
               of what the rule reacts to (if these have been provided by the plugin).

               As an example:

                   debputy plugin show automatic-discard-rules la-files

           type-mappings
               This topic cover type mappings that explains how some non-trivial types  are  interpreted.  These
               covers  types  like <b>FileSystemMatchRule</b> and <b>FileSystemMode</b>, which are used by other features such
               as pluggable manifest rules.

               When used with <b>show</b> <b>NAME</b>, any plugin provided documentation and example inputs will be  displayed
               for that rule.

       autopkgtest-test-runner
           The  <b>autopkgtest-test-runner</b>  command  is intended to be used by <b>autodep8</b> or from autopkgtests to run
           the tests of plugins in installed mode.

       internal-command
           This is for internal-only usage only.  Any subcommand under <b>internal-command</b> may disappear or  change
           options between any release without any warning.

</pre><h4><b>GENERAL</b> <b>OPTIONS</b></h4><pre>
       The following options general options or root level options are available.

       <b>-h</b>, <b>--help</b>
           Print usage information and exits.

           The information printed depends on which subcommands appear prior to this option.

       <b>--version</b>
           Prints version information and exists.

           Cannot be used with subcommands.

       <b>-d</b>, <b>--debug</b>
           Enable debug logging and raw stack traces on errors.

           Some warnings become errors as a consequence.

           It  is  also  possible  to  set  the environment variable <b>DEBPUTY_DEBUG</b> to <b>1</b>, which also enable debug
           logging. In general, the two methods are the same. However, there  may  be  some  subtle  differences
           involving  early  initialization,  where the two might differ. Note that <b>DEBPUTY_DEBUG</b> must be set to
           exactly <b>1</b> to enable debug logging that matches <b>--debug</b>.

       <b>--no-pager</b>
           Some subcommands will in their default output format pipe it to a pager to give you a  more  pleasant
           experience  if  standard  out  is a terminal. Examples include many of the <b>plugin</b> <b>list</b> commands. This
           option will disable the pager feature.

           Most option formats via <b>--output-format</b> will imply <b>--no-pager</b> as well for  subcommands  that  support
           that option.

           Note:  Assuming  the environment has no pager configuration at all, <b>debputy</b> will use <b><a href="../man1/less.1.html">less</a></b>(1) with the
           <b>LESS</b> environment variable set to <b>-FRMQSX</b>. Notable, the <b>-F</b>  option  will  cause  <b>less</b>  to  immediately
           terminate if the output fits on the screen.

       <b>--plugin</b> <u>REQUIRED_PLUGIN</u>
           This  option  causes  <u>REQUIRED_PLUGIN</u> to be loaded as a part of the commands execution if the command
           needs to load plugin data. For commands that load all plugins by  default,  this  option  causes  the
           command  to  fail  if <u>REQUIRED_PLUGIN</u> cannot be loaded. For commands that are restrictive about which
           plugins are loaded, subcommand will  load  <u>REQUIRED_PLUGIN</u>  in  addition  other  plugins  that  would
           normally be loaded.

           The  <u>REQUIRED_PLUGIN</u>  can  either  be  a  plugin  name  or  a filename. The <b>debputy</b> program considers
           parameter with a forward slash as a filename. Otherwise, the parameter is  interpreted  as  a  plugin
           name. When given a plugin name, <b>debputy</b> will search for the plugin in its plugin search path and load
           it  from  there. When given a file name, <b>debputy</b> will read that file as a plugin and use the basename
           minus any <b>.json</b> or <b>.json.in</b> extension as the plugin name.

           For packages that need a plugin that they provide themselves during their build process, this  option
           can  be  useful  to  tell  <b>debputy</b> about it. For the build itself, usually you want to use <b>dh_debputy</b>
           <b>--plugin</b> <b>path/to/plugin.json</b>. But this option can still be useful for <b>debputy</b> <b>check-manifest</b> etc.

           The other use-case is to load a plugin not installed into the plugin search directories. Notably, you
           can use this to shadow an existing plugin, which can be useful  for  debugging  and  developing  your
           plugin changes.

           This  option  cannot  be used with bundled plugins. As an example, both <b>--plugin</b> <b>debputy</b> and <b>--plugin</b>
           <b>path/to/a/debputy.json</b> will result in an error.

       <b>--debputy-manifest</b> <u>FILE</u>
           If the command needs to parse a manifest, have it read <u>FILE</u> instead of <b>debian/debputy.manifest</b>.

           Note this is mostly for testing as other features might not work correctly if  the  manifest  is  not
           aligned with the current working directory.

</pre><h4><b>FILES</b></h4><pre>
       <u>debian/debputy.manifest</u>
           Please see <u>/usr/share/doc/dh-debputy/MANIFEST-FORMAT.md.gz</u> for details on the format.

           If     you     are     converting     your     first     package,    you    may    want    to    read
           <u>/usr/share/doc/dh-debputy/GETTING-STARTED-WITH-dh-debputy.md.gz</u> first.

           Unlike most debhelper like tools, this file is per source package rather  than  per  binary  package.
           Therefore,  you  <u>cannot</u>  use  <u>debian/package.debputy.manifest</u>  to  provide a specialized manifest for
           <u>package</u>. Instead, all the needed parts should be written into the manifest itself.

           The  <b>--debputy-manifest</b>  option  can  be  used  to  have  <b>debputy</b>   process   manifest   other   than
           <u>debian/debputy.manifest</u>,  which  may  be useful for testing or running <b>debputy</b> <b>check-manifest</b> but not
           much else.

</pre><h4><b>INTEGRATION</b> <b>LEVELS</b></h4><pre>
       The <b>debputy</b> has multiple levels of integrations, which defines how much of the packaging that <b>debputy</b>  is
       handling relative to the default <b>dh</b> sequence. The following integrations levels are available:

       dh-sequence-zz-debputy-rrr
           This  integration  level replaces the minimal number of commands necessary to provide <b>Rules-Requires-</b>
           <b>Root:</b> <b>no</b> support for <b>any</b> package (even  those  needing  static  ownership).  The  sequence  is  often
           compatible  with  other  <b>debhelper</b>  sequences. To use this <b>debputy</b> integration level, any custom file
           ownership and mode <u>should</u> be migrated to the <b>debian/debputy.manifest</b>. Custom binary  package  version
           (<b>-v</b> to <b>dpkg-gencontrol</b>) is supported via the manifest.

           This migration level corresponds to a <b>Build-Depends</b> on <b>dh-sequence-zz-debputy-rrr</b>.

           The following debhelper commands are removed:

           -   dh_fixperms

           -   dh_shlibdeps

           -   dh_gencontrol

           -   dh_md5sums

           -   dh_builddeb

           Note the following <b>debputy</b> features are disabled in this integration mode:

           -   Installation  rule  (the <b>installations</b> keyword in the manifest). Any installation of content that
               should go resulting <b>.deb</b> or <b>.udeb</b> should happen via <b>debhelper</b>'s mechanisms such as <b>dh_install</b>.

           -   Metadata detectors from plugins. Instead, substvars, maintscripts and triggers  are  handled  and
               generated per <b>debhelper</b> conventions.

       dh-sequence-zz-debputy
           With  this  integration  level,  <b>debputy</b>  will take over all installation of files into the packages.
           This will replace basically all commands  after  the  <b>dh_auto_install</b>  command  in  the  standard  <b>dh</b>
           sequence.  This also makes the integration level incompatible with many debhelper add-ons, since they
           expect to run after <b>dh_auto_install</b> and assume contents will be materialized into <u>debian/package</u>.

           This migration level corresponds to a <b>Build-Depends</b> on <b>dh-sequence-debputy</b> or <b>dh-sequence-zz-debputy</b>.

</pre><h4><b>REPORTING</b> <b>BUGS</b></h4><pre>
       If  you  found  a bug, please report it at &lt;https://salsa.debian.org/debian/debputy/-/issues&gt;. For Debian
       users, you can also use <b>report</b> <b>debputy</b> if you prefer using the Debian Bug Tracker.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man1/dh_debputy.1.html">dh_debputy</a></b>(1)

</pre><h4><b>AUTHOR</b></h4><pre>
       Niels Thykier &lt;<a href="mailto:niels@thykier.net">niels@thykier.net</a>&gt;

perl v5.40.1                                       2025-03-13                                         <u><a href="../man1/debputy.1.html">debputy</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>