<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ps2ts — Extract a program stream from a Transport Stream</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/tstools">tstools_1.13~git20151030-6_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       ps2ts — Extract a program stream from a Transport Stream

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>ps2ts</b>  <b>-pid</b>  <u>pid</u>  |  <b>-video</b>  |  <b>-audio</b>  [<b>-err</b>  <b>stdout</b>]  [<b>-err</b>  <b>stderr</b>]  [<b>-verbose</b>  |  <b>-v</b>]  [<b>-quiet</b>  | <b>-q</b>]
             [<b>-max</b> <u>max_pkts</u> | <b>-m</b> <u>max_pkts</u>] [<b>-dvd</b> | <b>-notdvd</b> | <b>-nodvd</b>] [<b>-vstream</b> <u>vstream_no</u>] [<b>-astream</b> <u>astream_no</u>]
             [<b>-ac3stream</b>  <u>ac3stream_no</u>]  [<b>-host</b>  <u>host</u>[:port]]  [<b>-vpid</b>  <u>vpid_no</u>]   [<b>-apid</b>   <u>apid_no</u>]   [<b>-noaudio</b>]
             [<b>-pmt</b>           <u>pmt_pid_no</u>]          [<b>-prepeat</b>          <u>pat_freq</u>]          [<b>-pad</b>          <u>pad_pkts</u>]
             [<b>-h264</b> | <b>-avc</b> | <b>-h262</b> | <b>-mp42</b> | <b>-vtype</b> <u>video_type</u>] [<b>-dolby</b> <b>dvd</b> | <b>atsc</b>] <u>in_file</u> | <b>-stdin</b> <u>out_file</u>  |
             <b>-stdout</b>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       Convert an H.222 program stream to H.222 transport stream.

       This  program  does not make use of any Program Stream Map packets in the data (mainly because I have yet
       to see data with any). This means that the program has to determine the stream type of the data based  on
       the first few ES units.

       This  program  does  not  output  more  than  one  video and one audio stream. If the program stream data
       contains more than one of each, the first will be used, and the others ignored (with a message indicating
       this).

       It is assumed that the video stream will contain DTS values in its PES packets at  reasonable  intervals,
       which  can  be used as PCR values in the transport stream, and thus the video stream's PID can be used as
       the PCR PID in the transport stream.

   <b>Files</b>
       <u>in_file</u>
               is a file containing the program stream data (but see -stdin below)

       <u>out_file</u>
                is a transport stream file (but see -stdout and -host below)

   <b>input</b> <b>switches</b>
       <b>-stdin</b>  take input from &lt;stdin&gt;, instead of a named file

       <b>-dvd</b>    The PS data is from a DVD. This is the default.  This switch has no effect on MPEG-1 PS data.

       <b>-notdvd</b>, <b>-nodvd</b>
               The PS data is not from a DVD.  The DVD specification stores AC-3 (Dolby), DTS and other audio in
               a specialised manner in private_stream_1.

       <b>-vstream</b> <u>vstream_no</u>
               Take video from video stream <u>vstream_no</u> (0..7). The default is the first video stream found.

       <b>-astream</b> <u>astream_no</u>
               Take audio from audio stream <u>astream_no</u> (0..31). The default is  the  first  audio  stream  found
               (this includes private_stream_1 on non-DVD streams).

       <b>-ac3stream</b> <u>astream_no</u>
               Take audio from AC3 substream <u>ac3stream_no</u> (0..7), from private_stream_1. This implies -dvd.  (If
               audio  is  being  taken  from  a  substream,  the user is assumed to have determined which one is
               wanted, e.g., using psreport)

   <b>Output</b> <b>Switches</b>
       <b>-err</b> <b>stdout</b>
               Write error messages to standard output (the default)

       <b>-err</b> <b>stderr</b>
               Write error messages to standard error (Unix traditional)

       <b>-host</b> <u>host</u>[:Arport]
               Writes output (over TCP/IP) to the named &lt;host&gt;, instead of to a named file.  If  <u>&lt;port&gt;</u>  is  not
               specified, it defaults to 88.

       <b>-vpid</b> <u>vpid_no</u>
               <u>vpid_no</u>  <u>is</u>  <u>the</u>  <u>video</u>  <u>PID</u>  <u>to</u>  <u>use</u>  <u>for</u>  <u>the</u> <u>data.</u> Use '-vpid 0x&lt;pid&gt;' to specify a hex value.
               Defaults to 0x68.

       <b>-apid</b> <u>apid_no</u>
               <u>apid_no</u> is the audio PID to use for the data.  Use  '-apid  0x&lt;pid&gt;'  to  specify  a  hex  value.
               Defaults to 0x67.

       <b>-noaudio</b>
               Don't output the audio data

       <b>-pmt</b> <u>pmt_pid_no</u>
               <u>pmt_pid_no</u> <u>is</u> <u>the</u> <u>PMT</u> <u>PID</u> <u>to</u> <u>use.</u> Use '-pmt 0x&lt;pid&gt;' to specify a hex value.  Defaults to 0x66

       <b>-prepeat</b> <u>pat_freq</u>
               Output the program data (PAT/PMT) after every <u>pat_freq</u> PS packs. Defaults to 100.

       <b>-pad</b> <u>pad_pkts</u>
               Pad  the  start  with  <u>pad_pkts</u>  filler  TS packets, to allow a TS reader to synchronize with the
               datastream.  Defaults to 8.

   <b>General</b> <b>switches</b>
       <b>-v</b>, <b>-verbose</b>
               Print a 'v' for each video packet and an 'a' for each audio packet, as it is read

       <b>-q</b>, <b>-quiet</b>
               Only output error messages

       <b>-max</b> <u>max_pkts</u>, <b>-m</b> <u>max_pkts</u>
               Maximum number of PS packets to read.

   <b>Stream</b> <b>type</b>
       When the TS data is being output, it is flagged to indicate whether it conforms to H.262, H.264, etc.  It
       is important to get this right, as it will affect interpretation of the TS data.

       If  input  is from a file, then the program will look at the start of the file to determine if the stream
       is H.264 or H.262 data. This process may occasionally come to the wrong conclusion,  in  which  case  the
       user can override the choice using the following switches.

       If  input  is  from  standard input (via -stdin), then it is not possible for the program to make its own
       decision on the input stream type.  Instead, it defaults to H.262, and relies on the user  indicating  if
       this is wrong.

       <b>-h264</b>, <b>-avc</b>
               Force the program to treat the input as MPEG-4/AVC.

       <b>-h262</b>   Force the program to treat the input as MPEG-2.

       <b>-mp42</b>   Force the program to treat the input as MPEG-4/Part 2.

       <b>-vtype</b> <u>video_type</u>
               Force the program to treat the input as video of stream type &lt;type&gt; (e.g., 0x42 means AVS video).
               It is up to the user to specify a valid &lt;type&gt;.
       If  the audio stream being output is Dolby (AC-3), then the stream type used to output it differs for DVB
       (European) and ATSC (USA) data. It may be specified as follows:

       <b>-dolby</b> <b>dvb</b>
               Use stream type 0x06 (the default)

       <b>-dolby</b> <b>atsc</b>
               Use stream type 0x81

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <u><a href="../man1/esdots.1.html">esdots</a></u>(1),

Debian                                          October 28, 2015                                        <u><a href="../man1/ps2ts.1.html">ps2ts</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>