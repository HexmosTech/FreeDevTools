<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>podman-play-kube - Create containers, pods or volumes based on Kubernetes YAML</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/jammy/+package/podman">podman_3.4.4+ds1-1ubuntu1.22.04.3_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       podman-play-kube - Create containers, pods or volumes based on Kubernetes YAML

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>podman</b> <b>play</b> <b>kube</b> [<u>options</u>] <u>file.yml|-</u>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>podman</b>  <b>play</b>  <b>kube</b>  will  read  in  a  structured  file  of  Kubernetes  YAML.  It will then recreate the
       containers, pods or volumes described in the YAML.  Containers within a pod are then started and  the  ID
       of  the new Pod or the name of the new Volume is output. If the yaml file is specified as "-" then <b>podman</b>
       <b>play</b> <b>kube</b> will read the YAML file from stdin.  Using the <b>--down</b> command line option, it is  also  capable
       of  tearing down the pods created by a previous run of <b>podman</b> <b>play</b> <b>kube</b>.  Ideally the input file would be
       one created by Podman (see <a href="../man1/podman-generate-kube.1.html">podman-generate-kube</a>(1)).  This would guarantee a smooth import  and  expected
       results.

       Currently, the supported Kubernetes kinds are: - Pod - Deployment - PersistentVolumeClaim - ConfigMap

       <b>Kubernetes</b> <b>Pods</b> <b>or</b> <b>Deployments</b>

       Only  two  volume  types are supported by play kube, the <u>hostPath</u> and <u>persistentVolumeClaim</u> volume types.
       For the <u>hostPath</u> volume type, only the   <u>default</u>  <u>(empty)</u>,  <u>DirectoryOrCreate</u>,  <u>Directory</u>,  <u>FileOrCreate</u>,
       <u>File</u>,  and  <u>Socket</u>  subtypes  are  supported.  The <u>CharDevice</u> and <u>BlockDevice</u> subtypes are not supported.
       Podman interprets the value of <u>hostPath</u> <u>path</u> as a file path when it contains at least one forward  slash,
       otherwise  Podman treats the value as the name of a named volume. When using a <u>persistentVolumeClaim</u>, the
       value for <u>claimName</u> is the name for the Podman named volume.

       Note: When playing a kube YAML with init containers, the init container will be created  with  init  type
       value <b>always</b>.

       Note: <u>hostPath</u> volume types created by play kube will be given an SELinux private label (Z)

       Note: If the <b>:latest</b> tag is used, Podman will attempt to pull the image from a registry. If the image was
       built locally with Podman or Buildah, it will have <b>localhost</b> as the domain, in that case, Podman will use
       the image from the local store even if it has the <b>:latest</b> tag.

       <b>Kubernetes</b> <b>PersistentVolumeClaims</b>

       A  Kubernetes PersistentVolumeClaim represents a Podman named volume. Only the PersistentVolumeClaim name
       is required by Podman to create a volume. Kubernetes annotations can be used to make use of the available
       options for Podman volumes.

              • volume.podman.io/driver

              • volume.podman.io/device

              • volume.podman.io/type

              • volume.podman.io/uid

              • volume.podman.io/gid

              • volume.podman.io/mount-options

       Play kube is capable of building images on the fly given the correct directory layout and Containerfiles.
       This option is not available for remote clients yet. Consider the following excerpt from a YAML file:

              apiVersion: v1
              kind: Pod
              metadata:
              spec:
                containers:
                - command:
                  - top
                  - name: container
                    value: podman
                  image: foobar

       If there is a directory named <b>foobar</b> in the current working directory with a file named <b>Containerfile</b>  or
       <b>Dockerfile</b>,  Podman  play  kube will build that image and name it <b>foobar</b>.  An example directory structure
       for this example would look like:

              |- mykubefiles
                  |- myplayfile.yaml
                  |- foobar
                       |- Containerfile

       The build will consider <b>foobar</b> to be the context directory for the build. If there is an image  in  local
       storage called <b>foobar</b>, the image will not be built unless the <b>--build</b> flag is used.

       <b>Kubernetes</b> <b>ConfigMap</b>

       Kubernetes ConfigMap can be referred as a source of environment variables in Pods or Deployments.

       For example ConfigMap defined in following YAML:

              apiVersion: v1
              kind: ConfigMap
              metadata:
                name: foo
              data:
                  FOO: bar

       can be referred in a Pod in following way:

              apiVersion: v1
              kind: Pod
              metadata:
              spec:
                containers:
                - command:
                  - top
                  name: container-1
                  image: foobar
                  envFrom:
                    - configMapRef:
                    name: foo
                    optional: false

       and as a result environment variable <b>FOO</b> will be set to <b>bar</b> for container <b>container-1</b>.

</pre><h4><b>OPTIONS</b></h4><pre>
   <b>--authfile=</b><u><b>path</b></u>
       Path  of  the authentication file. Default is ${XDG_RUNTIME_DIR}/containers/auth.json, which is set using
       <b>podman</b> <b>login</b>.  If the authorization state is not found there, $HOME/.docker/config.json is checked, which
       is set using <b>docker</b> <b>login</b>.

       Note: You can also override the default path of the authentication file by setting the REGISTRY_AUTH_FILE
       environment variable. <b>export</b> <b>REGISTRY_AUTH_FILE=path</b>

   <b>--build</b>
       Build images even if they are found in the local storage.

   <b>--cert-dir=</b><u><b>path</b></u>
       Use  certificates  at  <u>path</u>  (*.crt,   *.cert,   *.key)   to   connect   to   the   registry.   (Default:
       /etc/containers/certs.d) Please refer to <a href="../man5/containers-certs.d.5.html">containers-certs.d</a>(5) for details. (This option is not available
       with the remote Podman client)

   <b>--configmap=</b><u><b>path</b></u>
       Use  Kubernetes  configmap  YAML  at  path to provide a source for environment variable values within the
       containers of the pod.

       Note: The <u>--configmap</u> option can be used multiple times or a comma-separated list of paths can be used to
       pass multiple Kubernetes configmap YAMLs.

   <b>--creds</b>
       The [username[:password]] to use to authenticate with the registry if required.  If one  or  both  values
       are  not  supplied,  a  command  line  prompt  will appear and the value can be entered.  The password is
       entered without echo.

   <b>--down</b>
       Tears down the pods that were created by a previous run of <b>play</b> <b>kube</b>.  The  pods  are  stopped  and  then
       removed.  Any volumes created are left intact.

   <b>--ip=</b><u><b>IP</b></u> <u><b>address</b></u>
       Assign  a static ip address to the pod. This option can be specified several times when play kube creates
       more than one pod.

   <b>--log-driver=driver</b>
       Set logging driver for all created containers.

   <b>--mac-address=</b><u><b>MAC</b></u> <u><b>address</b></u>
       Assign a static mac address to the pod. This option can be specified several times when play kube creates
       more than one pod.

   <b>--network=</b><u><b>mode</b></u><b>,</b> <b>--net</b>
       Change the network mode of the pod. The host and bridge network mode should be  configured  in  the  yaml
       file.  Valid <u>mode</u> values are:

              • <b>none</b>:  Create  a network namespace for the container but do not configure network interfaces for
                it, thus the container has no network connectivity.

              • <b>container:</b><u>id</u>: Reuse another container's network stack.

              • <b>network</b>: Connect to a user-defined network, multiple networks should be comma-separated.

              • <b>ns:</b><u>path</u>: Path to a network namespace to join.

              • <b>private</b>: Create a new namespace for the container. This will use the <b>bridge</b>  mode  for  rootfull
                containers and <b>slirp4netns</b> for rootless ones.

              • <b>slirp4netns[:OPTIONS,...]</b>:  use  <b><a href="../man1/slirp4netns.1.html">slirp4netns</a></b>(1)  to  create  a  user  network stack. This is the
                default for rootless containers. It is possible to specify these additional options:

                • <b>allow_host_loopback=true|false</b>: Allow the slirp4netns to reach the host loopback IP (<b>10.0.2.2</b>,
                  which is added to <b><a href="file:/etc/hosts">/etc/hosts</a></b> as <b>host.containers.internal</b> for  your  convenience).  Default  is
                  false.

                • <b>mtu=MTU</b>: Specify the MTU to use for this network. (Default is <b>65520</b>).

                • <b>cidr=CIDR</b>: Specify ip range to use for this network. (Default is <b>10.0.2.0/24</b>).

                • <b>enable_ipv6=true|false</b>: Enable IPv6. Default is false. (Required for <b>outbound_addr6</b>).

                • <b>outbound_addr=INTERFACE</b>:  Specify  the  outbound  interface slirp should bind to (ipv4 traffic
                  only).

                • <b>outbound_addr=IPv4</b>: Specify the outbound ipv4 address slirp should bind to.

                • <b>outbound_addr6=INTERFACE</b>: Specify the outbound interface slirp should bind  to  (ipv6  traffic
                  only).

                • <b>outbound_addr6=IPv6</b>: Specify the outbound ipv6 address slirp should bind to.

                • <b>port_handler=rootlesskit</b>:  Use  rootlesskit  for  port forwarding. Default.  Note: Rootlesskit
                  changes the source IP address of incoming packets to a IP address  in  the  container  network
                  namespace,  usually  <b>10.0.2.100</b>. If your application requires the real source IP address, e.g.
                  web server logs, use the slirp4netns port handler. The rootlesskit port handler is  also  used
                  for rootless containers when connected to user-defined networks.

                • <b>port_handler=slirp4netns</b>:  Use  the slirp4netns port forwarding, it is slower than rootlesskit
                  but preserves the correct source IP address. This port handler cannot be used for user-defined
                  networks.

   <b>--quiet,</b> <b>-q</b>
       Suppress output information when pulling images

   <b>--seccomp-profile-root=</b><u><b>path</b></u>
       Directory path for seccomp profiles (default: "/var/lib/kubelet/seccomp"). (This option is not  available
       with the remote Podman client)

   <b>--start=</b><u><b>true|false</b></u>
       Start the pod after creating it, set to false to only create it.

   <b>--tls-verify=</b><u><b>true|false</b></u>
       Require  HTTPS  and  verify certificates when contacting registries (default: true). If explicitly set to
       true, then TLS verification will be used. If set to false, then TLS verification will not be used. If not
       specified, TLS verification will be used unless the target registry is listed as an insecure registry  in
       registries.conf.

   <b>--help,</b> <b>-h</b>
       Print usage statement

</pre><h4><b>EXAMPLES</b></h4><pre>
       Recreate the pod and containers as described in a file called <b>demo.yml</b>

              $ podman play kube demo.yml
              52182811df2b1e73f36476003a66ec872101ea59034ac0d4d3a7b40903b955a6

       Recreate the pod and containers as described in a file <b>demo.yml</b> sent to stdin

              $ cat demo.yml | podman play kube -
              52182811df2b1e73f36476003a66ec872101ea59034ac0d4d3a7b40903b955a6

       Teardown the pod and containers as described in a file <b>demo.yml</b>

              $  podman play kube --down demo.yml
              Pods stopped:
              52182811df2b1e73f36476003a66ec872101ea59034ac0d4d3a7b40903b955a6
              Pods removed:
              52182811df2b1e73f36476003a66ec872101ea59034ac0d4d3a7b40903b955a6

       Provide  <b>configmap-foo.yml</b>  and  <b>configmap-bar.yml</b>  as  sources  for  environment  variables  within  the
       containers.

              $ podman play kube demo.yml --configmap configmap-foo.yml,configmap-bar.yml
              52182811df2b1e73f36476003a66ec872101ea59034ac0d4d3a7b40903b955a6

              $ podman play kube demo.yml --configmap configmap-foo.yml --configmap configmap-bar.yml
              52182811df2b1e73f36476003a66ec872101ea59034ac0d4d3a7b40903b955a6

       CNI network(s) can be specified as comma-separated list using <b>--network</b>

              $ podman play kube demo.yml --network cni1,cni2
              52182811df2b1e73f36476003a66ec872101ea59034ac0d4d3a7b40903b955a6

       Please take into account that CNI networks must be created first using <a href="../man1/podman-network-create.1.html">podman-network-create</a>(1).

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <a href="../man1/podman.1.html">podman</a>(1), <a href="../man1/podman-container.1.html">podman-container</a>(1), <a href="../man1/podman-pod.1.html">podman-pod</a>(1), <a href="../man1/podman-generate-kube.1.html">podman-generate-kube</a>(1),  <a href="../man1/podman-play.1.html">podman-play</a>(1),  <a href="../man1/podman-networkcreate.1.html">podman-network-</a>
       <a href="../man1/podman-networkcreate.1.html">create</a>(1), <a href="../man5/containers-certs.d.5.html">containers-certs.d</a>(5)

</pre><h4><b>HISTORY</b></h4><pre>
       December 2018, Originally compiled by Brent Baude (bbaude at redhat dot com)

                                                                                           <u><a href="../man1/podman-play-kube.1.html">podman-play-kube</a>(1)</u>()
</pre>
 </div>
</div></section>
</div>
</body>
</html>