<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>mysql-schema-diff - compare MySQL database schemas</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/libmysql-diff-perl">libmysql-diff-perl_0.60-1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       mysql-schema-diff - compare MySQL database schemas

</pre><h4><b>SYNOPSIS</b></h4><pre>
           mysql-schema-diff [B&lt;options&gt;] B&lt;database1&gt; B&lt;database2&gt;

           mysql-schema-diff --help

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <u>mysql-schema-diff</u> is a Perl script front-end to the CPAN &lt;<a href="http://www.perl.com/CPAN">http://www.perl.com/CPAN</a>&gt; module MySQL::Diff
       &lt;<a href="http://search.cpan.org/search">http://search.cpan.org/search</a>?module=MySQL::Diff&gt; which compares the data structures (i.e. schema /
       table definitions) of two MySQL &lt;<a href="http://www.mysql.com/">http://www.mysql.com/</a>&gt; databases, and returns the differences as a
       sequence of MySQL commands suitable for piping into <u>mysql</u> which will transform the structure of the first
       database to be identical to that of the second (<u>c.f.</u> <u>diff</u> and <u>patch</u>).

       Database structures can be compared whether they are files containing table definitions or existing
       databases, local or remote.

       <b>N.B.</b> The program makes <u>no</u> attempt to compare any of the data which may be stored in the databases.  It is
       purely for comparing the table definitions.  I have no plans to implement data comparison; it is a
       complex problem and I have no need of such functionality anyway.  However there is another program
       coldiff &lt;<a href="http://rossbeyer.net/software/mysql_coldiff/">http://rossbeyer.net/software/mysql_coldiff/</a>&gt; which does this, and is based on an older program
       called <u>datadiff</u> which seems to have vanished off the 'net.

       For PostgreSQL there are similar tools such as pgdiff &lt;<a href="http://pgdiff.sourceforge.net/">http://pgdiff.sourceforge.net/</a>&gt; and apgdiff
       &lt;<a href="http://apgdiff.startnet.biz/">http://apgdiff.startnet.biz/</a>&gt;.

</pre><h4><b>EXAMPLES</b></h4><pre>
         # compare table definitions in two files
         mysql-schema-diff db1.mysql db2.mysql

         # compare table definitions in a file 'db1.mysql' with a database 'db2'
         mysql-schema-diff db1.mysql db2

         # interactively upgrade schema of database 'db1' to be like the
         # schema described in the file 'db2.mysql'
         mysql-schema-diff -A db1 db2.mysql

         # compare table definitions in two databases on a remote machine
         mysql-schema-diff --host=remote.host.com --user=myaccount db1 db2

         # compare table definitions in a local database 'foo' with a
         # database 'bar' on a remote machine, when a file foo already
         # exists in the current directory
         mysql-schema-diff --host2=remote.host.com --password=secret db:foo bar

</pre><h4><b>OPTIONS</b></h4><pre>
       "-?,  --help"
           show usage

       "-A,  --apply"
           interactively patch database1 to match database2

       "-B,  --batch-apply"
           non-interactively patch database1 to match database2

       "-d,  --debug[=N]"
           enable debugging [level N, default 1]

       "-l,  --list-tables"
           output the list off all used tables

       "-o,  --only-both"
           only output changes for tables in both databases

       "-k,  --keep-old-tables"
           don't output DROP TABLE commands

       "-c,  --keep-old-columns"
           don't output DROP COLUMN commands

       "-n,  --no-old-defs"
           suppress comments describing old definitions

       "-t,  --table-re=REGEXP"
           restrict comparisons to tables matching REGEXP

       "-i,  --tolerant"
           ignore DEFAULT, AUTO_INCREMENT, COLLATE, and formatting changes

       "-S,  --single-transaction"
           perform        DB        dump        in        transaction       For       more       info       see:
           <a href="http://dev.mysql.com/doc/refman/en/mysqldump.html">http://dev.mysql.com/doc/refman/en/mysqldump.html</a>#option_mysqldump_single-transaction

       "-h,  --host=[hostname]"
           connect to host

       "-P,  --port=[port]"
           use this port for connection

       "-u,  --user=[user]"
           user for login if not current user

       "-p,  --password[=password]"
           password to use when connecting to server

       "-s,  --socket=..."
           socket to use when connecting to server

   <b>For</b> <b>&lt;databaseN&gt;</b> <b>only,</b> <b>where</b> <b>N</b> <b>==</b> <b>1</b> <b>or</b> <b>2</b>
       "--hostN=[hostN]"
           connect to host

       "--portN=[portN]"
           use this port for connection

       "--userN=[userN]"
           user for login if not current user

       "--passwordN[=passwordN]"
           password to use when connecting to server

       "--socketN=[socketN]"
           socket to use when connecting to server

</pre><h4><b>INTERNALS</b></h4><pre>
       For both of the database structures being compared, the following happens:

       •   If the argument is a valid filename, the file is used to create a temporary database which "mysqldump
           -d" is run on to obtain the table definitions in canonicalised form.  The temporary database is  then
           dropped.   (The  temporary  database  is  named "test_mysqldiff_temp_something" because default MySQL
           permissions allow anyone to create databases beginning with the prefix "test_".)

       •   If the argument is a database, "mysqldump -d" is run directly on it.

       •   Where authentication is required, the hostname, username, and password  given  by  the  corresponding
           options are used (type "mysql-schema-diff --help" for more information).

       •   Each  set  of  table  definitions  is  now parsed into tables, and fields and index keys within those
           tables; these are compared, and the differences outputted in the form of MySQL statements.

</pre><h4><b>BUGS,</b> <b>DEVELOPMENT,</b> <b>CONTRIBUTING</b></h4><pre>
       See &lt;<a href="http://adamspiers.org/computing/mysqldiff/">http://adamspiers.org/computing/mysqldiff/</a>&gt;.

</pre><h4><b>COPYRIGHT</b> <b>AND</b> <b>LICENSE</b></h4><pre>
       Copyright (c) 2000-2016 Adam Spiers. All  rights  reserved.  This  program  is  free  software;  you  can
       redistribute it and/or modify it under the same terms as Perl itself.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       MySQL::Diff, MySQL::Diff::Database, MySQL::Diff::Table, MySQL::Diff::Utils, mysql, mysqldump, mysqlshow

</pre><h4><b>AUTHOR</b></h4><pre>
       Adam Spiers &lt;<a href="mailto:mysqldiff@adamspiers.org">mysqldiff@adamspiers.org</a>&gt;

perl v5.26.2                                       2018-07-20                                      <u><a href="../man1p/MYSQLDIFF.1p.html">MYSQLDIFF</a></u>(1p)
</pre>
 </div>
</div></section>
</div>
</body>
</html>