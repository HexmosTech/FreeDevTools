<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>build - build SUSE Linux RPMs in a chroot environment</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/obs-build">obs-build_20210120-4_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       build - build SUSE Linux RPMs in a chroot environment

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>build</b> [<b>--clean</b>|<b>--no-init]</b> [<b>--repo</b> <u>dir_or_url</u>] [<b>--repo</b>...]  [<b>--root</b> <u>buildroot</u>] [<b>recipefile</b>]
       <b>build</b> <b>--help</b>
       <b>build</b> <b>--verify</b>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>build</b>  is  a  tool to build binary packages in a safe and reproducible way.  The default is to build in a
       chroot sandbox, but <b>build</b> also supports building in a virtual machine for better security.

       If a recipe file is specified on the command line, <b>build</b> will use this file and all other  files  in  the
       directory  for  building  the  package.  If no recipe argument is provided, build will search the current
       directory for a file.

       The <b>build</b> tool understands the following recipe file types:

       <b>spec</b>   A specfile used to generate rpms.

       <b>src.rpm</b>
              A source rpm, which will be unpacked for the build.

       <b>kiwi</b>   A kiwi config file used to generate a kiwi image.

       <b>dsc</b>    A dsc file used to generate Debian binary packages.

       <b>PKGBUILD</b>
              A file used to generate Arch Linux binary packages.

       <b>build.collax</b>
              A shell script used to generate a Collax binary package.

</pre><h4><b>OPTIONS</b></h4><pre>
       <b>--clean</b>
              Remove the build system and reinitialize it from scratch.

       <b>--no-init</b>
              Skip the build system initialization and start with build immediately.

       <b>--repo</b> <u>dir_or_url</u>
              Either a directory containing binary packages (optionally with  repository  metadata),  or  a  url
              pointing  to  some  remote  repository.  Multiple  <b>--repo</b> options can be used so create a specific
              repository layering. Note that packages are searched in the specified repository order,  i.e.  the
              first  repository  containing a package with a specific name wins regardless of the version.  As a
              special form, 'zypp://reponame' can be used to specify a system repository. 'zypp://' selects  all
              enabled  system  repositories.  This is also the default if BUILD_RPMS is not set and no <b>--rpms</b> or
              <b>--repo</b> option is used.

       <b>--dist</b> <u>distribution</u>
              Set the distribution. If this option is not given,  build  tries  to  guess  the  distribution  by
              looking  at the available packages.  The specified distribution can either be a string like "11.2"
              or "sles9", "debian7", or the pathname of the build configuration to use.

       <b>--root</b> <u>buildroot</u>
              Specifies where the build system is set up. Overrides the BUILD_ROOT enviroment variable.

       <b>--help</b> Print a short help text.

       <b>--norootforbuild</b>
              Force  building  with  user  abuild.  Otherwise,  <b>build</b>   searches   the   recipe   file   for   a
              "needsrootforbuild" hint to decide what user to use.

       <b>--list-state</b>
              list  packages that would be used to create a fresh build root.  Does not create the build root or
              perform a build.

       <b>--rpms</b> <u>path1</u><b>:</b><u>path2</u><b>:</b><u>path3</u>...
              Where build can find the packages needed to create the build system.  This  option  overrides  the
              BUILD_RPMS environment variable. This option is deprecated, use <b>--repo</b> instead.

       <b>--arch</b> <u>arch1</u><b>:</b><u>arch2</u><b>:</b><u>arch3</u>...
              What architectures to select from the RPMs.  <b>build</b> automatically sets this to a sensible value for
              your host if you do not specify this option so you should almost never need it.

</pre><h4><b>RPM</b> <b>BUILD</b> <b>SPECIFIC</b> <b>OPTIONS</b></h4><pre>
       <b>--useusedforbuild</b>
              Tell  build not to do dependency expansion, but to extract the list of packages to install from "#
              usedforbuild" lines or, if none are found, from all "BuildRequires" lines.  This option is  useful
              if you want to re-build a package from a srcrpm with exactly the same packages used for the srcrpm
              build.

       <b>--stage</b>
              Pass a stage option to rpmbuild. The default is <b>-ba</b>.

       <b>--target</b>
              Call rpmbuild with a target option. This can be used for cross building.

       <b>--verify</b>
              Verify the files in an existing build system.

</pre><h4><b>VIRTUAL</b> <b>MACHINE</b> <b>SPECIFIC</b> <b>OPTIONS</b></h4><pre>
       <b>--xen</b> <b>--kvm</b> <b>--uml</b> <b>--qemu</b> <b>--emulator</b> <b>--zvm</b> <b>--lxc</b>
              Sets a specific vm type.

       <b>--vm-type</b> <u>type</u>
              As above.

       <b>--vm-disk</b> <u>file</u>
              Specifies  the  location  of  the disk image to use. If this option is not given, <u>buildroot</u><b>.img</b> is
              used (e.g. /var/tmp/build-root.img).

       <b>--vm-disk-size</b> <u>size_in_mb</u>
              Specify the size of the disk image to create.

       <b>--vm-disk-filesystem</b> <u>type</u>
              Sets the filesystem type to use when creating the disk image. The  default  is  to  use  the  ext3
              filesystem.

       <b>--vm-swap</b> <u>file</u>
              Specifies  the  location  of  the swap file to use. If this option is not given, <u>buildroot</u><b>.swap</b> is
              used (e.g. /var/tmp/build-root.swap).

       <b>--vm-swap-size</b> <u>size_in_mb</u>
              Specify the size of the swap file to create.

       <b>--vm-memory</b> <u>size_in_mb</u>
              Sets the desired memory size of the virtual machine.

       <b>--vm-kernel</b> <u>kernel_file</u>
              Set a specific kernel to boot in the virtual machine.

       <b>--vm-initrd</b> <u>initrd_file</u>
              Set a specific kernel to boot in the virtual machine.

       <b>--vm-disk-clean</b>
              Force the recreation of the disk image.

       <b>--vm-telnet</b> <b>PORT</b>
              Is forwarding PORT to a telnet session inside of the VM.  Specify also needed extra  packages  via
              -x parameter, usually: <u>--vm-telnet</u> <u>1234</u> <u>-x</u> <u>telnet-server</u> <u>-x</u> <u>net-tools</u>
                 And connect from the host via: <u>telnet</u> <u>localhost</u> <u>1234</u>
                 NOTE: The telnet server gets started after all packages got installed.

</pre><h4><b>RECIPE</b> <b>FILE</b> <b>OPTIONS</b></h4><pre>
       The <b>build</b> command interprets some special control comments in the recipe file:

       <b>#</b> <b>norootforbuild</b>
       <b>#</b> <b>needsrootforbuild</b>
              <b>build</b>  uses  either  user  <u>root</u>  or user <u>abuild</u> in the build system to do the build.  For non-SUSE
              distros as well as since SUSE 10.2, the default build user is <u>abuild.</u>  For 10.2  and  before,  the
              default  build  user is <u>root.</u>  These two flags in the spec file allow to deviate from the defaults
              and force-set the build user to <u>abuild</u> and  <u>root</u>  (for  <u>#</u> <u>norootforbuild</u>  and  <u>#</u> <u>needsrootforbuild</u>
              respectively.

       <b>#</b> <b>needsbinariesforbuild</b>
              provide  the  binary  rpms that have been used to set up the build root in <u>/.build.binaries</u> within
              the build root.

</pre><h4><b>ENVIRONMENT</b></h4><pre>
       <b>BUILD_ROOT</b>
              The directory where build should install the chrooted build system.  "/var/tmp/build-root" is used
              by default. See the <b>--root</b> option.

       <b>BUILD_RPMS</b>
              This can be used instead of the <b>--rpms</b> option. Deprecated.

       <b>BUILD_RPM_BUILD_STAGE</b>
              The rpm build stage (-ba, -bb, ...).  This is just passed through to rpm, check  the  rpm  manpage
              for  a  complete list and descriptions.  "-ba" is the default. You should probably use the <b>--stage</b>
              option instead.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man8/rpm.8.html">rpm</a></b>(8),<b><a href="../man8/dpkg.8.html">dpkg</a></b>(8),<b><a href="../man8/pacman.8.html">pacman</a></b>(8),<b><a href="../man8/kiwi.8.html">kiwi</a></b>(8)

       <b>Maximum</b> <b>RPM</b>:
              <u><a href="http://www.rpm.org/max-rpm/">http://www.rpm.org/max-rpm/</a></u>

       <b>cross</b> <b>distribution</b> <b>packaging</b>:
              <u><a href="http://en.opensuse.org/openSUSE">http://en.opensuse.org/openSUSE</a>:Build_Service_cross_distribution_howto</u>

       <b>openSUSE</b> <b>packaging</b> <b>standards</b> <b>and</b> <b>guidelines</b>:
              <u><a href="http://en.opensuse.org/Portal">http://en.opensuse.org/Portal</a>:Packaging</u>

                                 (c) 1997-2018 SUSE Linux AG Nuernberg, Germany                         <u><a href="../man1/BUILD.1.html">BUILD</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>