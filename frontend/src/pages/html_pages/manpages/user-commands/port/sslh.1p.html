<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>sslh - Switch incoming connection between SSH and SSL/HTTPS servers</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/libnet-proxy-perl">libnet-proxy-perl_0.13-2_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       sslh - Switch incoming connection between SSH and SSL/HTTPS servers

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>sslh</b> [ <b>-v</b> ] [ <b>-p</b> <u>[host:]port</u> ] [ <b>-t</b> <u>timeout</u> ]
            [ <b>--ssh</b> <u>[host:]port</u> ] [ <b>--ssl</b> <u>[host:]port</u> ]

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>sslh</b> is a simple script that lets you switch an incoming connection on a single port between distinct SSH
       and SSL/HTTPS servers.

       <b>sslh</b> listens for connections on a port and is able to redirect them either to an HTTPS web server or a
       SSH server.

       This lets one setup both a HTTPS web server and a SSH server and access them through the same host+port.

</pre><h4><b>OPTIONS</b></h4><pre>
       The program follows the usual GNU command line syntax, with long options starting with two dashes.

       <b>-p</b>, <b>--port</b> <u>[host:]port</u>
           The  port  the  proxy  will  listen  to.  If no port is given, 443 is used by default.  If no host is
           given, "localhost" is used by default.

       <b>-s</b>, <b>--ssh</b> <u>[host:]port</u>
           The SSH server which the  SSH  connections  must  be  forwarded  to.   If  omitted,  the  default  is
           <u>localhost:22</u>.

       <b>-l</b>, <b>--ssl</b>, <b>--https</b> <u>[host:]port</u>
           The  HTTPS  server  which  the  HTTPS  connections  must be forwarded to.  If omitted, the default is
           <u>localhost:443</u>.

       <b>-t</b>, <b>--timeout</b> <u>delay</u>
           Timeout in seconds before a silent incoming connection is considered as a SSH connection. The  number
           can be fractional.

           The default is <u>2</u>seconds.

       <b>-v</b>, <b>--verbose</b>
           Verbose output.  This option can be used several times for more verbose output.

</pre><h4><b>EXAMPLE</b> <b>OF</b> <b>USE</b></h4><pre>
       Is this tool actually useful? Yes.

       For example one can use it to access both a SSH server and a secure web server via a corporate proxy that
       only  accepts  to  relay  connections to port 443. Creating a tunnel that passes SSH connection through a
       CONNECT-enabled web proxy is easy with <b>connect-tunnel</b> (also included in the "Net::Proxy" distribution).

       The proxy will let both SSH and HTTPS connections out (since they all point to port 443),  and  the  home
       server  will  connect those incoming connections to the appropriate server. This only requires to run the
       HTTPS server on a non standard port (not 443).

</pre><h4><b>TECHNICAL</b> <b>NOTE</b></h4><pre>
       How can this proxy find out what kind of protocol is using a TCP connection to port  443,  without  being
       connected (yet) to the server?  We actually rely on a slight difference between the SSL and SSH protocols
       (found thanks to <b>ethereal</b>):

       SSH Once  the  TCP  connection  is  established,  the  server  speaks  first, presenting itself by saying
           something like:

               SSH-2.0-OpenSSH_3.6.1p2 Debian 1:3.6.1p2-1

       SSL With SSL, it's always the client that speaks first.

       This means that <b>sslh</b> can be used with any pair of protocols/services that share this property (the client
       speaks first for one and the server speaks first for the other).

</pre><h4><b>AUTHORS</b></h4><pre>
       Original idea and C version
           Frédéric Plé "&lt;frederic.ple+<a href="mailto:sslh@gmail.com">sslh@gmail.com</a>&gt;".

       Perl versions
           Philippe 'BooK' Bruhat "&lt;<a href="mailto:book@cpan.org">book@cpan.org</a>&gt;".

</pre><h4><b>SCRIPT</b> <b>HISTORY</b></h4><pre>
       Version 0.01 of the script was a quick hack designed in 2003 as a proof of concept.

       Version 0.02 (and higher) are based on "Net::Proxy", and included  with  the  "Net::Proxy"  distribution.
       Version 0.02 didn't work, though.

       Version 0.03 correctly initialised the "in" connector.

       Version  0.04  lets the proxy listen on any address (instead of "localhost", which is still the default).
       Thanks to Dieter Voegtli for spotting this.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       Net::Proxy, Net::Proxy::Connector::dual.

</pre><h4><b>COPYRIGHT</b></h4><pre>
       Copyright 2003-2008, Philippe Bruhat. All rights reserved.

</pre><h4><b>LICENSE</b></h4><pre>
       This module is free software; you can redistribute it or modify it under the same terms as Perl itself.

perl v5.38.2                                       2024-05-15                                           <u><a href="../man1p/SSLH.1p.html">SSLH</a></u>(1p)
</pre>
 </div>
</div></section>
</div>
</body>
</html>