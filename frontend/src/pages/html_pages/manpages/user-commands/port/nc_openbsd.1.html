<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>nc — arbitrary TCP and UDP connections and listens</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/netcat-openbsd">netcat-openbsd_1.228-1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       nc — arbitrary TCP and UDP connections and listens

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>nc</b> [<b>-46bCDdFhklNnrStUuvZz</b>] [<b>-I</b> <u>length</u>] [<b>-i</b> <u>interval</u>] [<b>-M</b> <u>ttl</u>] [<b>-m</b> <u>minttl</u>] [<b>-O</b> <u>length</u>] [<b>-P</b> <u>proxy_username</u>]
          [<b>-p</b>  <u>source_port</u>]  [<b>-q</b>  <u>seconds</u>]  [<b>-s</b> <u>sourceaddr</u>] [<b>-T</b> <u>keyword</u>] [<b>-V</b> <u>rtable</u>] [<b>-W</b> <u>recvlimit</u>] [<b>-w</b> <u>timeout</u>]
          [<b>-X</b> <u>proxy_protocol</u>] [<b>-x</b> <u>proxy_address</u>[:<u>port</u>]] [<u>destination</u>] [<u>port</u>]

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The <b>nc</b> (or <b>netcat</b>) utility is used for  just  about  anything  under  the  sun  involving  TCP,  UDP,  or
       Unix-domain  sockets.   It  can  open  TCP connections, send UDP packets, listen on arbitrary TCP and UDP
       ports, do port scanning, and deal with both IPv4 and IPv6.  Unlike  <u><a href="../man1/telnet.1.html">telnet</a></u>(1),  <b>nc</b>  scripts  nicely,  and
       separates  error  messages  onto  standard error instead of sending them to standard output, as <u><a href="../man1/telnet.1.html">telnet</a></u>(1)
       does with some.

       Common uses include:

             <b>•</b>   simple TCP proxies
             <b>•</b>   shell-script based HTTP clients and servers
             <b>•</b>   network daemon testing
             <b>•</b>   a SOCKS or HTTP ProxyCommand for <u><a href="../man1/ssh.1.html">ssh</a></u>(1)
             <b>•</b>   and much, much more

       The options are as follows:

       <b>-4</b>      Use IPv4 addresses only.

       <b>-6</b>      Use IPv6 addresses only.

       <b>-b</b>      Allow broadcast.

       <b>-C</b>      Send CRLF as line-ending.  Each line feed (LF) character from the input data is  translated  into
               CR+LF  before being written to the socket.  Line feed characters that are already preceded with a
               carriage return (CR) are not translated.  Received data is not affected.

       <b>-D</b>      Enable debugging on the socket.

       <b>-d</b>      Do not attempt to read from stdin.

       <b>-F</b>      Pass the first connected socket  using  <u><a href="../man2/sendmsg.2.html">sendmsg</a></u>(2)  to  stdout  and  exit.   This  is  useful  in
               conjunction  with  <b>-X</b> to have <b>nc</b> perform connection setup with a proxy but then leave the rest of
               the connection to another program (e.g. <u><a href="../man1/ssh.1.html">ssh</a></u>(1) using the  <u><a href="../man5/ssh_config.5.html">ssh_config</a></u>(5)  <b>ProxyUseFdpass</b>  option).
               Cannot be used with <b>-U</b>.

       <b>-h</b>      Print out the <b>nc</b> help text and exit.

       <b>-I</b> <u>length</u>
               Specify the size of the TCP receive buffer.

       <b>-i</b> <u>interval</u>
               Sleep  for  <u>interval</u>  seconds  between lines of text sent and received.  Also causes a delay time
               between connections to multiple ports.

       <b>-k</b>      When a connection is completed, listen for another one.  Requires <b>-l</b>.  When  used  together  with
               the  <b>-u</b> option, the server socket is not connected and it can receive UDP datagrams from multiple
               hosts.

       <b>-l</b>      Listen for an incoming connection rather than initiating a connection  to  a  remote  host.   The
               <u>destination</u>  and  <u>port</u>  to  listen  on can be specified either as non-optional arguments, or with
               options <b>-s</b> and <b>-p</b> respectively.  Cannot be used  together  with  <b>-x</b>  or  <b>-z</b>.   Additionally,  any
               timeouts specified with the <b>-w</b> option are ignored.

       <b>-M</b> <u>ttl</u>  Set the TTL / hop limit of outgoing packets.

       <b>-m</b> <u>minttl</u>
               Ask the kernel to drop incoming packets whose TTL / hop limit is under <u>minttl</u>.

       <b>-N</b>      <u><a href="../man2/shutdown.2.html">shutdown</a></u>(2) the network socket after EOF on the input.  Some servers require this to finish their
               work.

       <b>-n</b>      Do  not  perform domain name resolution.  If a name cannot be resolved without DNS, an error will
               be reported.

       <b>-O</b> <u>length</u>
               Specify the size of the TCP send buffer.

       <b>-P</b> <u>proxy_username</u>
               Specifies a username to present to a proxy server that requires authentication.  If  no  username
               is  specified  then authentication will not be attempted.  Proxy authentication is only supported
               for HTTP CONNECT proxies at present.

       <b>-p</b> <u>source_port</u>
               Specify the source port <b>nc</b> should use, subject to privilege restrictions and availability.

       <b>-q</b> <u>seconds</u>
               after EOF on stdin, wait the specified number of <u>seconds</u> and then quit. If <u>seconds</u>  is  negative,
               wait forever (default).  Specifying a non-negative <u>seconds</u> implies <b>-N</b>.

       <b>-r</b>      Choose  source and/or destination ports randomly instead of sequentially within a range or in the
               order that the system assigns them.

       <b>-S</b>      Enable the RFC 2385 TCP MD5 signature option.

       <b>-s</b> <u>sourceaddr</u>
               Set the source address  to  send  packets  from,  which  is  useful  on  machines  with  multiple
               interfaces.   For  Unix-domain  datagram  sockets,  specifies  the local temporary socket file to
               create and use so that datagrams can be received.  Cannot be used together with <b>-x</b>.

       <b>-T</b> <u>keyword</u>
               Change the IPv4 TOS/IPv6 traffic class value.  <u>keyword</u>  may  be  one  of  <b>critical</b>,  <b>inetcontrol</b>,
               <b>lowcost</b>,  <b>lowdelay</b>,  <b>netcontrol</b>, <b>throughput</b>, <b>reliability</b>, or one of the DiffServ Code Points: <b>ef</b>,
               <b>af11</b> ... <b>af43</b>, <b>cs0</b> ... <b>cs7</b>; or a number in either hex or decimal.

       <b>-t</b>      Send RFC 854 DON'T and WON'T responses to RFC 854 DO and WILL requests.  This makes  it  possible
               to use <b>nc</b> to script telnet sessions.

       <b>-U</b>      Use  Unix-domain  sockets.   Cannot be used together with <b>-F</b> or <b>-x</b>.  On Linux, if the name starts
               with an at symbol (`@') it is read as an abstract namespace socket: the leading `@'  is  replaced
               with a <b>NUL</b> byte before binding or connecting.  For details, see <b><a href="../man7/unix.7.html">unix</a></b>(7).

       <b>-u</b>      Use  UDP  instead  of  TCP.   Cannot  be  used  together with <b>-x</b>.  For Unix-domain sockets, use a
               datagram socket instead of a stream socket.   If  a  Unix-domain  socket  is  used,  a  temporary
               receiving socket is created in <u><a href="file:/tmp">/tmp</a></u> unless the <b>-s</b> flag is given.

       <b>-V</b> <u>rtable</u>
               Set the routing table to be used.

       <b>-v</b>      Produce more verbose output.

       <b>-W</b> <u>recvlimit</u>
               Terminate after receiving <u>recvlimit</u> packets from the network.

       <b>-w</b> <u>timeout</u>
               Connections  which  cannot be established or are idle timeout after <u>timeout</u> seconds.  The <b>-w</b> flag
               has no effect on the <b>-l</b> option, i.e. <b>nc</b> will listen forever for a connection, with or without the
               <b>-w</b> flag.  The default is no timeout.

       <b>-X</b> <u>proxy_protocol</u>
               Use <u>proxy_protocol</u> when talking to the proxy server.  Supported protocols are <b>4</b>  (SOCKS  v.4),  <b>5</b>
               (SOCKS  v.5)  and  <b>connect</b>  (HTTPS  proxy).  If the protocol is not specified, SOCKS version 5 is
               used.

       <b>-x</b> <u>proxy_address</u>[:<u>port</u>]
               Connect to <u>destination</u> using a proxy at <u>proxy_address</u> and <u>port</u>.  If <u>port</u> is  not  specified,  the
               well-known port for the proxy protocol is used (1080 for SOCKS, 3128 for HTTPS).  An IPv6 address
               can  be specified unambiguously by enclosing <u>proxy_address</u> in square brackets.  A proxy cannot be
               used with any of the options <b>-lsuU</b>.

       <b>-Z</b>      DCCP mode.

       <b>-z</b>      Only scan for listening daemons, without sending any data to them.  Cannot be used together  with
               <b>-l</b>.

       <u>destination</u>  can  be  a  numerical IP address or a symbolic hostname (unless the <b>-n</b> option is given).  In
       general, a destination must be specified, unless the <b>-l</b> option is given (in which case the local host  is
       used).   For  Unix-domain  sockets,  a  destination  is required and is the socket path to connect to (or
       listen on if the <b>-l</b> option is given).

       <u>port</u> can be specified as a numeric port number or as a service name.  Port ranges  may  be  specified  as
       numeric  port numbers of the form <u>nn</u>-<u>mm</u>.  In general, a destination port must be specified, unless the <b>-U</b>
       option is given.  For some options, the value 0 requests that the system choose a port number.

</pre><h4><b>CLIENT/SERVER</b> <b>MODEL</b></h4><pre>
       It is quite simple to build a very basic  client/server  model  using  <b>nc</b>.   On  one  console,  start  <b>nc</b>
       listening on a specific port for a connection.  For example:

             <b>$</b> <b>nc</b> <b>-l</b> <b>1234</b>

       <b>nc</b> is now listening on port 1234 for a connection.  On a second console (or a second machine), connect to
       the machine and port being listened on:

             <b>$</b> <b>nc</b> <b>-N</b> <b>127.0.0.1</b> <b>1234</b>

       There  should  now  be  a  connection  between  the  ports.  Anything typed at the second console will be
       concatenated to the first, and vice-versa.  After the connection has been set up, <b>nc</b> does not really care
       which side is being used as a ‘server’ and which side is being used as a ‘client’.  The connection may be
       terminated using an EOF (‘^D’), as the <b>-N</b> flag was given.

       There is no <b>-c</b> or <b>-e</b> option in this netcat, but you still can execute a command  after  connection  being
       established  by  redirecting  file  descriptors.  Be  cautious here because opening a port and let anyone
       connected execute arbitrary command on your site is DANGEROUS. If you really need to do this, here is  an
       example:

       On ‘server’ side:

             <b>$</b> <b>rm</b> <b>-f</b> <b>/tmp/f;</b> <b>mkfifo</b> <b>/tmp/f</b>
             <b>$</b> <b>cat</b> <b>/tmp/f</b> | <b><a href="file:/bin/sh">/bin/sh</a></b> <b>-i</b> <b>2&gt;&amp;1</b> | <b>nc</b> <b>-l</b> <b>127.0.0.1</b> <b>1234</b> <b>&gt;</b> <b>/tmp/f</b>

       On ‘client’ side:

             <b>$</b> <b>nc</b> <b>host.example.com</b> <b>1234</b>
             <b>$</b> <b>(shell</b> <b>prompt</b> <b>from</b> <b>host.example.com)</b>

       By  doing  this,  you  create  a  fifo  at /tmp/f and make nc listen at port 1234 of address 127.0.0.1 on
       ‘server’ side, when a ‘client’ establishes a connection successfully to that port, <a href="file:/bin/sh">/bin/sh</a> gets  executed
       on ‘server’ side and the shell prompt is given to ‘client’ side.

       When connection is terminated, <b>nc</b> quits as well. Use <b>-k</b> if you want it keep listening, but if the command
       quits  this  option  won't restart it or keep <b>nc</b> running. Also don't forget to remove the file descriptor
       once you don't need it anymore:

             <b>$</b> <b>rm</b> <b>-f</b> <b>/tmp/f</b>

</pre><h4><b>DATA</b> <b>TRANSFER</b></h4><pre>
       The example in the previous section  can  be  expanded  to  build  a  basic  data  transfer  model.   Any
       information  input  into  one end of the connection will be output to the other end, and input and output
       can be easily captured in order to emulate file transfer.

       Start by using <b>nc</b> to listen on a specific port, with output captured into a file:

             <b>$</b> <b>nc</b> <b>-l</b> <b>1234</b> <b>&gt;</b> <b>filename.out</b>

       Using a second machine, connect to the listening  <b>nc</b>  process,  feeding  it  the  file  which  is  to  be
       transferred:

             <b>$</b> <b>nc</b> <b>-N</b> <b>host.example.com</b> <b>1234</b> <b>&lt;</b> <b>filename.in</b>

       After the file has been transferred, the connection will close automatically.

</pre><h4><b>TALKING</b> <b>TO</b> <b>SERVERS</b></h4><pre>
       It  is sometimes useful to talk to servers “by hand” rather than through a user interface.  It can aid in
       troubleshooting, when it might be necessary to verify what data  a  server  is  sending  in  response  to
       commands issued by the client.  For example, to retrieve the home page of a web site:

             $ printf "GET / HTTP/1.0\r\n\r\n" | nc host.example.com 80

       Note that this also displays the headers sent by the web server.  They can be filtered, using a tool such
       as <u><a href="../man1/sed.1.html">sed</a></u>(1), if necessary.

       More  complicated  examples  can  be  built up when the user knows the format of requests required by the
       server.  As another example, an email may be submitted to an SMTP server using:

             $ nc [-C] localhost 25 &lt;&lt; EOF
             HELO host.example.com
             MAIL FROM:&lt;<a href="mailto:user@host.example.com">user@host.example.com</a>&gt;
             RCPT TO:&lt;<a href="mailto:user2@host.example.com">user2@host.example.com</a>&gt;
             DATA
             Body of email.
             .
             QUIT
             EOF

</pre><h4><b>PORT</b> <b>SCANNING</b></h4><pre>
       It may be useful to know which ports are open and running services on a target machine.  The <b>-z</b> flag  can
       be  used  to tell <b>nc</b> to report open ports, rather than initiate a connection. Usually it's useful to turn
       on verbose output to stderr by use this option in conjunction with <b>-v</b> option.

       For example:

             $ nc -zv host.example.com 20-30
             Connection to host.example.com 22 port [tcp/ssh] succeeded!
             Connection to host.example.com 25 port [tcp/smtp] succeeded!

       The port range was specified to limit the search to ports 20 - 30, and is  scanned  by  increasing  order
       (unless the <b>-r</b> flag is set).

       You can also specify a list of ports to scan, for example:

             $ nc -zv host.example.com http 20 22-23
             nc: connect to host.example.com 80 (tcp) failed: Connection refused
             nc: connect to host.example.com 20 (tcp) failed: Connection refused
             Connection to host.example.com port [tcp/ssh] succeeded!
             nc: connect to host.example.com 23 (tcp) failed: Connection refused

       The ports are scanned by the order you given (unless the <b>-r</b> flag is set).

       Alternatively,  it  might  be  useful to know which server software is running, and which versions.  This
       information is often contained within the greeting banners.  In order to retrieve these, it is  necessary
       to  first  make a connection, and then break the connection when the banner has been retrieved.  This can
       be accomplished by specifying a small timeout with the <b>-w</b> flag, or perhaps by issuing a "QUIT" command to
       the server:

             $ echo "QUIT" | nc host.example.com 20-30
             SSH-1.99-OpenSSH_3.6.1p2
             Protocol mismatch.
             220 host.example.com IMS SMTP Receiver Version 0.84 Ready

</pre><h4><b>EXAMPLES</b></h4><pre>
       Open a TCP connection to port 42 of host.example.com, using port 31337 as the source port, with a timeout
       of 5 seconds:

             <b>$</b> <b>nc</b> <b>-p</b> <b>31337</b> <b>-w</b> <b>5</b> <b>host.example.com</b> <b>42</b>

       Open a UDP connection to port 53 of host.example.com:

             <b>$</b> <b>nc</b> <b>-u</b> <b>host.example.com</b> <b>53</b>

       Open a TCP connection to port 42 of host.example.com using 10.1.2.3 as the IP for the local  end  of  the
       connection:

             <b>$</b> <b>nc</b> <b>-s</b> <b>10.1.2.3</b> <b>host.example.com</b> <b>42</b>

       Create and listen on a Unix-domain stream socket:

             <b>$</b> <b>nc</b> <b>-lU</b> <b>/var/tmp/dsocket</b>

       Connect to port 42 of host.example.com via an HTTP proxy at 10.2.3.4, port 8080.  This example could also
       be used by <u><a href="../man1/ssh.1.html">ssh</a></u>(1); see the <b>ProxyCommand</b> directive in <u><a href="../man5/ssh_config.5.html">ssh_config</a></u>(5) for more information.

             <b>$</b> <b>nc</b> <b>-x10.2.3.4:8080</b> <b>-Xconnect</b> <b>host.example.com</b> <b>42</b>

       The  same  example  again,  this  time  enabling  proxy authentication with username “ruser” if the proxy
       requires it:

             <b>$</b> <b>nc</b> <b>-x10.2.3.4:8080</b> <b>-Xconnect</b> <b>-Pruser</b> <b>host.example.com</b> <b>42</b>

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <u><a href="../man1/cat.1.html">cat</a></u>(1), <u><a href="../man1/ssh.1.html">ssh</a></u>(1)

</pre><h4><b>AUTHORS</b></h4><pre>
       Original implementation by *Hobbit* &lt;<u><a href="mailto:hobbit@avian.org">hobbit@avian.org</a></u>&gt;.
       Rewritten with IPv6 support by
       Eric Jackson &lt;<u><a href="mailto:ericj@monkey.org">ericj@monkey.org</a></u>&gt;.
       Modified for Debian port by Aron Xu ⟨<a href="mailto:aron@debian.org">aron@debian.org</a>⟩.

</pre><h4><b>CAVEATS</b></h4><pre>
       UDP port scans using the <b>-uz</b> combination of flags will always report success irrespective of  the  target
       machine's  state.   However,  in  conjunction  with  a traffic sniffer either on the target machine or an
       intermediary device, the <b>-uz</b> combination could be useful for communications diagnostics.  Note  that  the
       amount  of  UDP  traffic  generated  may be limited either due to hardware resources and/or configuration
       settings.

Debian                                            April 1, 2024                                            <u><a href="../man1/NC.1.html">NC</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>