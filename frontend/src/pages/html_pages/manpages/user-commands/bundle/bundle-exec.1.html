<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>bundle-exec - Execute a command in the context of the bundle</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/ruby-bundler">ruby-bundler_2.6.3-1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       <b>bundle-exec</b> - Execute a command in the context of the bundle

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>bundle</b> <b>exec</b> [--keep-file-descriptors] [--gemfile=GEMFILE] <u>command</u>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       This command executes the command, making all gems specified in the [<b><a href="../man5/Gemfile.5.html">Gemfile</a>(5)</b>][<a href="../man5/Gemfile.5.html">Gemfile</a>(5)] available to
       <b>require</b> in Ruby programs.

       Essentially, if you would normally have run something like <b>rspec</b> <b>spec/my_spec.rb</b>, and you want to use the
       gems specified in the [<b><a href="../man5/Gemfile.5.html">Gemfile</a>(5)</b>][<a href="../man5/Gemfile.5.html">Gemfile</a>(5)] and installed via bundle <a href="../man1/install.1.html">install</a>(1) <u>bundle-install.1.html</u>,
       you should run <b>bundle</b> <b>exec</b> <b>rspec</b> <b>spec/my_spec.rb</b>.

       Note that <b>bundle</b> <b>exec</b> does not require that an executable is available on your shell's <b>$PATH</b>.

</pre><h4><b>OPTIONS</b></h4><pre>
       <b>--keep-file-descriptors</b>
              Passes  all  file  descriptors  to the new processes. Default is true from bundler version 2.2.26.
              Setting it to false is now deprecated.

       <b>--gemfile=GEMFILE</b>
              Use the specified gemfile instead of [<b><a href="../man5/Gemfile.5.html">Gemfile</a>(5)</b>][<a href="../man5/Gemfile.5.html">Gemfile</a>(5)].

</pre><h4><b>BUNDLE</b> <b>INSTALL</b> <b>--BINSTUBS</b></h4><pre>
       If you use the <b>--binstubs</b> flag in bundle <a href="../man1/install.1.html">install</a>(1)  <u>bundle-install.1.html</u>,  Bundler  will  automatically
       create a directory (which defaults to <b>app_root/bin</b>) containing all of the executables available from gems
       in the bundle.

       After using <b>--binstubs</b>, <b>bin/rspec</b> <b>spec/my_spec.rb</b> is identical to <b>bundle</b> <b>exec</b> <b>rspec</b> <b>spec/my_spec.rb</b>.

</pre><h4><b>ENVIRONMENT</b> <b>MODIFICATIONS</b></h4><pre>
       <b>bundle</b>  <b>exec</b> makes a number of changes to the shell environment, then executes the command you specify in
       full.

       •   make sure that it's still possible to shell out to <b>bundle</b> from inside a  command  invoked  by  <b>bundle</b>
           <b>exec</b> (using <b>$BUNDLE_BIN_PATH</b>)

       •   put the directory containing executables (like <b>rails</b>, <b>rspec</b>, <b>rackup</b>) for your bundle on <b>$PATH</b>

       •   make  sure  that  if  bundler  is  invoked  in  the  subshell,  it  uses the same <b>Gemfile</b> (by setting
           <b>BUNDLE_GEMFILE</b>)

       •   add <b>-rbundler/setup</b> to <b>$RUBYOPT</b>, which makes sure that Ruby programs invoked in the subshell can  see
           the gems in the bundle

       It also modifies Rubygems:

       •   disallow loading additional gems not in the bundle

       •   modify the <b>gem</b> method to be a no-op if a gem matching the requirements is in the bundle, and to raise
           a <b>Gem::LoadError</b> if it's not

       •   Define  <b>Gem.refresh</b> to be a no-op, since the source index is always frozen when using bundler, and to
           prevent gems from the system leaking into the environment

       •   Override <b>Gem.bin_path</b> to use the gems in the bundle, making system executables work

       •   Add all gems in the bundle into Gem.loaded_specs

       Finally, <b>bundle</b> <b>exec</b> also implicitly modifies <b>Gemfile.lock</b> if the lockfile and the Gemfile do not  match.
       Bundler  needs  the Gemfile to determine things such as a gem's groups, <b>autorequire</b>, and platforms, etc.,
       and that information isn't stored in the lockfile. The Gemfile and lockfile must be synced  in  order  to
       <b>bundle</b> <b>exec</b> successfully, so <b>bundle</b> <b>exec</b> updates the lockfile beforehand.

   <b>Loading</b>
       By  default,  when attempting to <b>bundle</b> <b>exec</b> to a file with a ruby shebang, Bundler will <b>Kernel.load</b> that
       file instead of using <b>Kernel.exec</b>. For the vast majority of cases, this is a performance improvement.  In
       a  rare few cases, this could cause some subtle side-effects (such as dependence on the exact contents of
       <b>$0</b> or <b>__FILE__</b>) and the optimization can be disabled by enabling the <b>disable_exec_load</b> setting.

   <b>Shelling</b> <b>out</b>
       Any Ruby code that opens a subshell (like <b>system</b>, backticks, or <b>%x{}</b>) will automatically use the  current
       Bundler  environment. If you need to shell out to a Ruby command that is not part of your current bundle,
       use the <b>with_unbundled_env</b> method with a block. Any subshells created inside the block will be given  the
       environment present before Bundler was activated. For example, Homebrew commands run Ruby, but don't work
       inside a bundle:

           Bundler.with_unbundled_env do
             `brew install wget`
           end

       Using  <b>with_unbundled_env</b>  is  also  necessary if you are shelling out to a different bundle. Any Bundler
       commands run in a subshell will inherit the current Gemfile, so commands that need to run in the  context
       of a different bundle also need to use <b>with_unbundled_env</b>.

           Bundler.with_unbundled_env do
             Dir.chdir "/other/bundler/project" do
               `bundle exec ./script`
             end
           end

       Bundler provides convenience helpers that wrap <b>system</b> and <b>exec</b>, and they can be used like this:

           Bundler.clean_system('brew install wget')
           Bundler.clean_exec('brew install wget')

</pre><h4><b>RUBYGEMS</b> <b>PLUGINS</b></h4><pre>
       At  present,  the  Rubygems plugin system requires all files named <b>rubygems_plugin.rb</b> on the load path of
       <u>any</u> installed gem when any Ruby code requires <b>rubygems.rb</b>. This includes executables installed  into  the
       system, like <b>rails</b>, <b>rackup</b>, and <b>rspec</b>.

       Since  Rubygems  plugins  can  contain arbitrary Ruby code, they commonly end up activating themselves or
       their dependencies.

       For instance, the <b>gemcutter</b> <b>0.5</b> gem depended on <b>json_pure</b>. If you had that version of gemcutter installed
       (even if you <u>also</u> had a newer version without this problem), Rubygems would activate  <b>gemcutter</b>  <b>0.5</b>  and
       <b>json_pure</b> <b>&lt;latest&gt;</b>.

       If your <a href="../man5/Gemfile.5.html">Gemfile</a>(5) also contained <b>json_pure</b> (or a gem with a dependency on <b>json_pure</b>), the latest version
       on  your  system  might  conflict  with  the  version in your <a href="../man5/Gemfile.5.html">Gemfile</a>(5), or the snapshot version in your
       <b>Gemfile.lock</b>.

       If this happens, bundler will say:

           You have already activated json_pure 1.4.6 but your Gemfile
           requires json_pure 1.4.3. Consider using bundle exec.

       In this situation, you almost certainly want to remove  the  underlying  gem  with  the  problematic  gem
       plugin.  In  general,  the authors of these plugins (in this case, the <b>gemcutter</b> gem) have released newer
       versions that are more careful in their plugins.

       You can find a list of all the gems containing gem plugins by running

           ruby -e "puts Gem.find_files('rubygems_plugin.rb')"

       At the very least, you should remove all but the newest version of each gem plugin, and also  remove  all
       gem plugins that you aren't using (<b>gem</b> <b>uninstall</b> <b>gem_name</b>).

                                                  January 2025                                    <u><a href="../man1/BUNDLE-EXEC.1.html">BUNDLE-EXEC</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>