<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>vgdb - intermediary between Valgrind and GDB or a shell</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/valgrind">valgrind_3.24.0-0ubuntu2_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       vgdb - intermediary between Valgrind and GDB or a shell

</pre><h4><b>SYNOPSIS</b></h4><pre>

       <b>vgdb</b> [<u>options</u>]

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>vgdb</b> ("Valgrind to GDB") is used as an intermediary between Valgrind and GDB or a shell. It has three
       usage modes:

        1. As a standalone utility, it is used from a shell command line to send monitor commands to a process
           running under Valgrind. For this usage, the vgdb OPTION(s) must be followed by the monitor command to
           send. To send more than one command, separate them with the <b>-c</b> option.

        2. In combination with GDB "target remote |" command, it is used as the relay application between GDB
           and the Valgrind gdbserver. For this usage, only OPTION(s) can be given, but no COMMAND can be given.

        3. In the <b>--multi</b> mode, vgdb uses the extended remote protocol to communicate with GDB. This allows you
           to view output from both valgrind and GDB in the GDB session. This is accomplished via the "target
           extended-remote | vgdb --multi". In this mode you no longer need to start valgrind yourself. vgdb
           will start up valgrind when gdb tells it to run a new program. For this usage, the vgdb OPTIONS(s)
           can also include <b>--valgrind</b> and <b>--vargs</b> to describe how valgrind should be started.

</pre><h4><b>OPTIONS</b></h4><pre>
       <b>--pid=&lt;number&gt;</b>
           Specifies the PID of the process to which vgdb must connect to. This option is useful in case more
           than one Valgrind gdbserver can be connected to. If the <b>--pid</b> argument is not given and multiple
           Valgrind gdbserver processes are running, vgdb will report the list of such processes and then exit.

       <b>--vgdb-prefix</b>
           Must be given to both Valgrind and vgdb if you want to change the default prefix for the FIFOs (named
           pipes) used for communication between the Valgrind gdbserver and vgdb.

       <b>--wait=&lt;number&gt;</b>
           Instructs vgdb to search for available Valgrind gdbservers for the specified number of seconds. This
           makes it possible start a vgdb process before starting the Valgrind gdbserver with which you intend
           the vgdb to communicate. This option is useful when used in conjunction with a <b>--vgdb-prefix</b> that is
           unique to the process you want to wait for. Also, if you use the <b>--wait</b> argument in the GDB "target
           remote" command, you must set the GDB remotetimeout to a value bigger than the --wait argument value.
           See option <b>--max-invoke-ms</b> (just below) for an example of setting the remotetimeout value.

       <b>--max-invoke-ms=&lt;number&gt;</b>
           Gives the number of milliseconds after which vgdb will force the invocation of gdbserver embedded in
           Valgrind. The default value is 100 milliseconds. A value of 0 disables forced invocation. The forced
           invocation is used when vgdb is connected to a Valgrind gdbserver, and the Valgrind process has all
           its threads blocked in a system call.

           If you specify a large value, you might need to increase the GDB "remotetimeout" value from its
           default value of 2 seconds. You should ensure that the timeout (in seconds) is bigger than the
           <b>--max-invoke-ms</b> value. For example, for <b>--max-invoke-ms=5000</b>, the following GDB command is suitable:

                   (gdb) set remotetimeout 6

       <b>--cmd-time-out=&lt;number&gt;</b>
           Instructs a standalone vgdb to exit if the Valgrind gdbserver it is connected to does not process a
           command in the specified number of seconds. The default value is to never time out.

       <b>--port=&lt;portnr&gt;</b>
           Instructs vgdb to use tcp/ip and listen for GDB on the specified port nr rather than to use a pipe to
           communicate with GDB. Using tcp/ip allows one to have GDB running on one computer and debugging a
           Valgrind process running on another target computer. Example:

               # On the target computer, start your program under valgrind using
               valgrind --vgdb-error=0 prog
               # and then in another shell, run:
               vgdb --port=1234

           On the computer which hosts GDB, execute the command:

               gdb prog
               (gdb) target remote targetip:1234

           where targetip is the ip address or hostname of the target computer.

       <b>--vgdb-multi</b>
           Makes vgdb start in extended-remote mode and to wait for gdb to tell us what to run.

       <b>--valgrind</b>
           The path to valgrind to use, in extended-remote mode. If not specified, the system valgrind will be
           launched.

       <b>--vargs</b>
           Options to run valgrind with, in extended-remote mode. For example <b>-q</b>. Everything following <b>--vargs</b>
           will be provided as arguments to valgrind as is.

       <b>-c</b>
           To give more than one command to a standalone vgdb, separate the commands by an option <b>-c</b>. Example:

               vgdb v.set log_output -c leak_check any

       <b>-l</b>
           Instructs a standalone vgdb to report the list of the Valgrind gdbserver processes running and then
           exit.

       <b>-T</b>
           Instructs vgdb to add timestamps to vgdb information messages.

       <b>-D</b>
           Instructs a standalone vgdb to show the state of the shared memory used by the Valgrind gdbserver.
           vgdb will exit after having shown the Valgrind gdbserver shared memory state.

       <b>-d</b>
           Instructs vgdb to produce debugging output. Give multiple <b>-d</b> args to increase the verbosity. When
           giving <b>-d</b> to a relay vgdb, you better redirect the standard error (stderr) of vgdb to a file to avoid
           interaction between GDB and vgdb debugging output.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <a href="../man1/valgrind.1.html">valgrind</a>(1), $INSTALL/share/doc/valgrind/html/index.html or
       <a href="http://www.valgrind.org/docs/manual/index.html">http://www.valgrind.org/docs/manual/index.html</a>,

       <b>Debugging</b> <b>your</b> <b>program</b> <b>using</b> <b>Valgrind's</b> <b>gdbserver</b> <b>and</b> <b>GDB</b>[1] <b>vgdb</b>[2], <b>Valgrind</b> <b>monitor</b> <b>commands</b>[3].

</pre><h4><b>AUTHOR</b></h4><pre>
       Philippe Waroquiers.

</pre><h4><b>NOTES</b></h4><pre>
        1. Debugging your program using Valgrind's gdbserver and GDB
           <a href="http://www.valgrind.org/docs/manual/manual-core-adv.html">http://www.valgrind.org/docs/manual/manual-core-adv.html</a>#manual-core-adv.gdbserver

        2. vgdb
           <a href="http://www.valgrind.org/docs/manual/manual-core-adv.html">http://www.valgrind.org/docs/manual/manual-core-adv.html</a>#manual-core-adv.vgdb

        3. Valgrind monitor commands
           <a href="http://www.valgrind.org/docs/manual/manual-core-adv.html">http://www.valgrind.org/docs/manual/manual-core-adv.html</a>#manual-core-adv.valgrind-monitor-commands

Release 3.24.0                                     03/19/2025                                            <u><a href="../man1/VGDB.1.html">VGDB</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>