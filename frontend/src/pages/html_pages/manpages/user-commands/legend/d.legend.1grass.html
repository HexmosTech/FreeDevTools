<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>d.legend  - Displays a legend for a 2D or 3D raster map in the active frame of the graphics monitor.</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/grass-doc">grass-doc_8.4.1-1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       <b>d.legend</b>  - Displays a legend for a 2D or 3D raster map in the active frame of the graphics monitor.

</pre><h4><b>KEYWORDS</b></h4><pre>
       display, cartography, legend

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>d.legend</b>
       <b>d.legend</b> <b>--help</b>
       <b>d.legend</b>   [-<b>vctnsfdbl</b>]    [<b>raster</b>=<u>name</u>]     [<b>raster_3d</b>=<u>name</u>]    [<b>title</b>=<u>string</u>]    [<b>title_fontsize</b>=<u>float</u>]
       [<b>lines</b>=<u>integer</u>]   [<b>thin</b>=<u>integer</u>]   [<b>units</b>=<u>string</u>]   [<b>labelnum</b>=<u>integer</u>]   [<b>label_values</b>=<u>float</u>[,<u>float</u>,...]]
       [<b>label_step</b>=<u>float</u>]       [<b>digits</b>=<u>integer</u>]       [<b>at</b>=<u>bottom,top,left,right</u>]        [<b>use</b>=<u>float</u>[,<u>float</u>,...]]
       [<b>range</b>=<u>min,max</u>]     [<b>color</b>=<u>name</u>]     [<b>font</b>=<u>string</u>]    [<b>fontsize</b>=<u>float</u>]    [<b>path</b>=<u>name</u>]    [<b>charset</b>=<u>string</u>]
       [<b>border_color</b>=<u>name</u>]   [<b>bgcolor</b>=<u>name</u>]   [--<b>help</b>]  [--<b>verbose</b>]  [--<b>quiet</b>]  [--<b>ui</b>]

   <b>Flags:</b>
       <b>-v</b>
           Do not show category labels

       <b>-c</b>
           Do not show category numbers

       <b>-t</b>
           Draw legend ticks for labels

       <b>-n</b>
           Skip categories with no label

       <b>-s</b>
           Draw smooth gradient

       <b>-f</b>
           Flip legend

       <b>-d</b>
           Add histogram to smoothed legend

       <b>-b</b>
           Show background

       <b>-l</b>
           Use logarithmic scale

       <b>--help</b>
           Print usage summary

       <b>--verbose</b>
           Verbose module output

       <b>--quiet</b>
           Quiet module output

       <b>--ui</b>
           Force launching GUI dialog

   <b>Parameters:</b>
       <b>raster</b>=<u>name</u>
           Name of raster map

       <b>raster_3d</b>=<u>name</u>
           Name of 3D raster map

       <b>title</b>=<u>string</u>
           Legend title

       <b>title_fontsize</b>=<u>float</u>
           Title font size
           Default: Same as fontsize
           Options: <u>1-360</u>

       <b>lines</b>=<u>integer</u>
           Number of text lines (useful for truncating long legends)
           Options: <u>0-1000</u>
           Default: <u>0</u>

       <b>thin</b>=<u>integer</u>
           Thinning factor (thin=10 gives cats 0,10,20...)
           Options: <u>1-1000</u>
           Default: <u>1</u>

       <b>units</b>=<u>string</u>
           Units to display after labels (e.g. meters)

       <b>labelnum</b>=<u>integer</u>
           Number of text labels for smooth gradient legend
           Options: <u>2-100</u>
           Default: <u>5</u>

       <b>label_values</b>=<u>float[,float</u>,...]
           Specific values to draw ticks

       <b>label_step</b>=<u>float</u>
           Display label every step

       <b>digits</b>=<u>integer</u>
           Number of digits after decimal point
           Options: <u>0-6</u>

       <b>at</b>=<u>bottom,top,left,right</u>
           Size and placement as percentage of screen coordinates (0,0 is lower left)
           bottom,top,left,right
           Options: <u>0-100</u>

       <b>use</b>=<u>float[,float</u>,...]
           List of discrete category numbers/values for legend

       <b>range</b>=<u>min,max</u>
           Use a subset of the map range for the legend (min,max)

       <b>color</b>=<u>name</u>
           Text color
           Either a standard color name or R:G:B triplet
           Default: <u>black</u>

       <b>font</b>=<u>string</u>
           Font name

       <b>fontsize</b>=<u>float</u>
           Font size
           Default: Auto-scaled
           Options: <u>1-360</u>

       <b>path</b>=<u>name</u>
           Path to font file

       <b>charset</b>=<u>string</u>
           Text encoding (only applicable to TrueType fonts)

       <b>border_color</b>=<u>name</u>
           Border color
           Either a standard color name, R:G:B triplet, or "none"
           Default: <u>black</u>

       <b>bgcolor</b>=<u>name</u>
           Background color
           Either a standard color name, R:G:B triplet, or "none"
           Default: <u>white</u>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <u>d.legend</u> displays a legend for a user-specified raster map or 3D raster map layer in the active frame  on
       the graphics monitor.

       The  legend’s  default  size  is  based  on  the dimensions of the active frame, specifically its height.
       <u>d.legend</u> will only obscure those portions of the active frame that directly underlie the legend.

</pre><h4><b>NOTES</b></h4><pre>
       When using the <b>at</b> to size &amp; place the legend, a user may create a horizontal legend  by  making  the  box
       wider than it is tall.

       Raster  maps based on floating point values will display smoothed, from greatest to smallest value, while
       categorical raster maps will display in order, from top to bottom.  Horizontal  legends  will  always  be
       smoothed.  If  the  box  is  defined  with  inverted  y-values  or  an  inverted  <b>range</b>,  the legend will
       automatically flip. If this is not the desired result, the <b>-f</b> flag may be used to flip it back.

       If the user attempts to display a very long legend in a relatively short display frame,  the  legend  may
       appear  in  unreadably  small text, or even revert to a smooth gradient legend. Use the <b>lines</b>, <b>thin</b>, <b>use</b>,
       <b>range</b>, and/or <b>-n</b> options to reduce the number of categories to be displayed, or the <b>-s</b> flag  to  force  a
       smooth gradient legend.

       The  <b>lines</b>  option  will  display  the  first number of categories, as defined by <u>value</u>, contained in the
       raster map. When used with the <b>-n</b> flag, it takes on a new meaning: "up to category  #".  When  used  with
       both  <b>thin</b>  and the <b>-n</b> flag, its meaning becomes more obscure. When using <b>lines</b>, auto-scaled text similar
       to "4 of 16 categories" will be placed at the bottom of the legend.

       The <b>thin</b> option sets the thinning factor. For raster  maps  with  a  0th  category,  <b>thin=</b><u>10</u>  gives  cats
       [0,10,20,...]. For raster maps starting at category 1, <b>thin=</b><u>10</u> gives cats [1,11,21,...].

       The   <b>use</b>   option   lets   the   user   create   a   legend   made  up  of  arbitrary  category  values.
       e.g. <b>use=</b><u>1000,100,10,0,-10,-100,-1000</u>

       The <b>range</b> option lets the user define the minimum and maximum categories to be used in the legend. It may
       also be used to define the limits of a smooth gradient legend created from a raster  containing  floating
       point  values. Note the color scale will remain faithful to the category values as defined with <u>r.colors</u>,
       and the <b>range</b> may be extended to the limits defined by the <u>r.colors</u> color map.

       The flag <b>-n</b> is useful for categorial maps, as  it  suppresses  the  drawing  of  non-existing  categories
       (otherwise the full range is shown).

       Vertical legends produced with <u>d.legend</u> will place text labels to the right of the legend box, horizontal
       legends  will  place text below. This text will be auto-scaled to fit within the frame, reducing the size
       of the legend if necessary. Legends positioned with the <b>at</b> option will not auto-scale text, in  order  to
       provide  more  control  to the user.  Smaller text may be obtained in this case by reducing the height of
       the box or by using the <b>fontsize</b> option. The <b>-c</b> and <b>-v</b> flags may be  used  to  suppress  the  display  of
       category  numbers  and  labels  respectively,  or used together to suppress all text of categorial raster
       maps.

       The text produced from floating-point raster maps will automatically  create  output  with  a  meaningful
       number  of  significant  digits. For very small values, numbers will be expressed in scientific notation,
       e.g. "1.7e-9". Option <b>digits</b> can be used to determine  how  many  digits  after  decimal  point  will  be
       displayed.

       When  the  <b>-d</b>  flag  is used to display a histogram distribution along side the smoothed gradient legend,
       note that the statistics are calculated on the <u>current</u> <u>computational</u> <u>region</u>  settings  set  by  <u>g.region</u>.
       The  default  <b>range</b>  however covers the entire natural bounds of the input map.  If the histogram appears
       empty, check your region settings.

       If the raster map’s <u>units</u> metadata has been set with the <u>r.support</u> module then it will be displayed along
       side the legend.

       The option <b>title</b> will display the custom title at the top of the legend.  In case of vertical legend  the
       title  is  aligned  to  the left edge of legend, in case of horizontal legend the title is aligned to the
       center. <b>title_fontsize</b> can be used to set the size of legend title. By default the legend title font size
       is the same as labels font size.

       There are different options to customize displayed labels. The <b>labelnum</b> set the number  of  labels  which
       are  displayed  in  regular  intervals. The <b>label_values</b> will specify the values where the labels will be
       displayed. The <b>label_step</b> will display labels at values which are divisible by this value.

       The flag <b>-t</b> will show ticks at labels.

       The flag <b>-b</b> will show the background. Options <b>bgcolor</b> and <b>border_color</b> can be used to choose the color of
       border and background fill.

       The flag <b>-l</b> will switch to logarithmic scale. In case this flag is used, the provided step in  <b>label_step</b>
       is interpreted in the logarithmic space.

</pre><h4><b>EXAMPLE</b></h4><pre>
       Displaying the legend along with a histogram (North Carolina Sample dataset):
       g.region raster=elevation -p
       d.rast elevation
       d.legend -d elevation
       Displaying the legend with custom labels and background:
       g.region raster=elevation -p
       d.rast elevation
       d.legend raster=elevation -t label_step=20 label_values=108 title=Legend -b bgcolor=255:255:204 border_color=gray
       Displaying the legend with logarithmic scale:
       g.region raster=elevation -p
       r.watershed -a elevation=elevation threshold=1000 accumulation=flowacc
       d.rast flowacc
       d.legend raster=flowacc -t -l label_step=1

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
         <u>d.barscale,</u>  <u>d.colortable,</u>  <u>d.font,</u>  <u>d.grid,</u>  <u>d.rast,</u>  <u>d.rast.leg,</u>  <u>d.text,</u> <u>d.vect.thematic,</u> <u>r.reclass,</u>
       <u>r.stats,</u> <u>r3.stats</u>

</pre><h4><b>AUTHORS</b></h4><pre>
       Bill Brown, U.S. Army Construction Engineering Research Laboratories
       Late 2002: Rewrite of much of the code. Hamish Bowman, Otago University, New Zealand
       Additional improvements from various authors

</pre><h4><b>SOURCE</b> <b>CODE</b></h4><pre>
       Available at: d.legend source code (history)

       Accessed: Friday Apr 04 01:18:48 2025

       Main index | Display index | Topics index | Keywords index | Graphical index | Full index

       © 2003-2025 GRASS Development Team, GRASS GIS 8.4.1 Reference Manual

GRASS 8.4.1                                                                                     <u><a href="../man1grass/d.legend.1grass.html">d.legend</a></u>(1grass)
</pre>
 </div>
</div></section>
</div>
</body>
</html>