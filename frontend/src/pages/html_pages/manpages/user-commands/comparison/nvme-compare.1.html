<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>nvme-compare - Send an NVMe Compare command, provide results</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/nvme-cli">nvme-cli_2.11-2_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       nvme-compare - Send an NVMe Compare command, provide results

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <u>nvme-compare</u> &lt;device&gt; [--start-block=&lt;slba&gt; | -s &lt;slba&gt;]
                               [--block-count=&lt;nlb&gt; | -c &lt;nlb&gt;]
                               [--data-size=&lt;size&gt; | -z &lt;size&gt;]
                               [--metadata-size=&lt;metasize&gt; | -y &lt;metasize&gt;]
                               [--ref-tag=&lt;reftag&gt; | -r &lt;reftag&gt;]
                               [--data=&lt;data-file&gt; | -d &lt;data-file&gt;]
                               [--metadata=&lt;meta&gt; | -M &lt;meta&gt;]
                               [--prinfo=&lt;prinfo&gt; | -p &lt;prinfo&gt;]
                               [--app-tag-mask=&lt;appmask&gt; | -m &lt;appmask&gt;]
                               [--app-tag=&lt;apptag&gt; | -a &lt;apptag&gt;]
                               [--limited-retry | -l]
                               [--force-unit-access | -f]
                               [--dir-type=&lt;type&gt; | -T &lt;type&gt;]
                               [--dir-spec=&lt;spec&gt; | -S &lt;spec&gt;]
                               [--dsm=&lt;dsm&gt; | -D &lt;dsm&gt;]
                               [--show-command | -V]
                               [--dry-run | -w]
                               [--latency | -t]
                               [--storage-tag&lt;storage-tag&gt; | -g &lt;storage-tag&gt;]
                               [--storage-tag-check | -C]
                               [--force]
                               [--output-format=&lt;fmt&gt; | -o &lt;fmt&gt;] [--verbose | -v]
                               [--timeout=&lt;timeout&gt;]

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The Compare command reads the logical blocks specified by the command from the medium and compares the
       data read to a comparison data buffer transferred as part of the command. If the data read from the
       controller and the comparison data buffer are equivalent with no miscompares, then the command completes
       successfully. If there is any miscompare, the command completes with an error of Compare Failure. If
       metadata is provided, then a comparison is also performed for the metadata.

</pre><h4><b>OPTIONS</b></h4><pre>
       -s &lt;slba&gt;, --start-block=&lt;slba&gt;
           64-bit address of the first block to access.

       -c &lt;nlb&gt;, --block-count=&lt;nlb&gt;
           Number of blocks to be accessed (zero-based).

       -z &lt;size&gt;, --data-size=&lt;size&gt;
           Size of data to be compared in bytes.

       -y &lt;metasize&gt;, --metadata-size=&lt;metasize&gt;
           Size of metadata to be transferred in bytes.

       -r &lt;reftag&gt;, --ref-tag=&lt;reftag&gt;
           Reference Tag for Protection Information

       -d &lt;data-file&gt;, --data=&lt;data-file&gt;
           Data file.

       -M &lt;meta&gt;, --metadata=&lt;meta&gt;
           Metadata file.

       -p &lt;prinfo&gt;, --prinfo=&lt;prinfo&gt;
           Protection Information and check field.
           ┌─────┬───────────────────────────────────────┐
           │ Bit │ Description                           │
           ├─────┼───────────────────────────────────────┤
           │ 3   │ PRACT: Protection Information Action. │
           │     │ When set to 1, PI is                  │
           │     │ stripped/inserted on read/write when  │
           │     │ the block format’s metadata size is   │
           │     │ 8. When set to 0, metadata is passes. │
           ├─────┼───────────────────────────────────────┤
           │ 2:0 │ PRCHK: Protection Information Check:  │
           ├─────┼───────────────────────────────────────┤
           │ 2   │ Set to 1 enables checking the guard   │
           │     │ tag                                   │
           ├─────┼───────────────────────────────────────┤
           │ 1   │ Set to 1 enables checking the         │
           │     │ application tag                       │
           ├─────┼───────────────────────────────────────┤
           │ 0   │ Set to 1 enables checking the         │
           │     │ reference tag                         │
           └─────┴───────────────────────────────────────┘

       -m &lt;appmask&gt;, --app-tag-mask=&lt;appmask&gt;
           App Tag Mask for Protection Information

       -a &lt;apptag&gt;, --app-tag=&lt;apptag&gt;
           App Tag for Protection Information

       -l, --limited-retry
           Number of limited attempts to media.

       -f, --force-unit-access
           FUA option to guarantee that data is stored to media.

       -T &lt;type&gt;, --dir-type=&lt;type&gt;
           Optional directive type. The nvme-cli only enforces the value be in the defined range for the
           directive type, though the NVMe specification (1.3a) defines only one directive, 01h, for write
           stream identifiers.

       -S &lt;spec&gt;, --dir-spec=&lt;spec&gt;
           Optional field for directive specifics. When used with write streams, this value is defined to be the
           write stream identifier. The nvme-cli will not validate the stream requested is within the
           controller’s capabilities.

       -D &lt;dsm&gt;, --dsm=&lt;dsm&gt;
           The optional data set management attributes for this command. The argument for this is the least
           significant 8 bits of the DSM field in a write command; the most significant 16 bits of the field
           come from the directive specific field, if used. This may be used to set attributes for the LBAs
           being written, like access frequency, type, latency, among other things, as well as yet to be defined
           types. Please consult the NVMe specification for detailed breakdown of how to use this field.

       -V, --show-cmd
           Print out the command to be sent.

       -w, --dry-run
           Do not actually send the command. If want to use --dry-run option, --show-cmd option <u>must</u> be set.
           Otherwise --dry-run option will be <u>ignored</u>.

       -t, --latency
           Print out the latency the IOCTL took (in us).

       -g &lt;storage-tag&gt;, --storage-tag=&lt;storage-tag&gt;
           Variable Sized Expected Logical Block Storage Tag(ELBST).

       -C, --storage-tag-check
           This flag enables Storage Tag field checking as part of end-to-end data protection processing.

       --force
           Ignore namespace is currently busy and performed the operation even though.

       -o &lt;fmt&gt;, --output-format=&lt;fmt&gt;
           Set the reporting format to <u>normal</u>, <u>json</u> or <u>binary</u>. Only one output format can be used at a time.

       -v, --verbose
           Increase the information detail in the output.

       --timeout=&lt;timeout&gt;
           Override default timeout value. In milliseconds.

</pre><h4><b>EXAMPLES</b></h4><pre>
       No examples yet.

</pre><h4><b>NVME</b></h4><pre>
       Part of the nvme-user suite

NVMe                                               02/16/2025                                    <u><a href="../man1/NVME-COMPARE.1.html">NVME-COMPARE</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>