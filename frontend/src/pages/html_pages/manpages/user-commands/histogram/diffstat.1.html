<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>diffstat - make histogram from diff-output</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/diffstat">diffstat_1.67-1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       <b>diffstat</b> - make histogram from diff-output

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>diffstat</b> <u>[options]</u> <u>[file-specifications]</u>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       This  program  reads  the  output  of  <b>diff</b>  and  displays  a histogram of the insertions, deletions, and
       modifications per-file.  <b>Diffstat</b> is a program that is useful for reviewing large, complex  patch  files.
       It  reads from one or more input files which contain output from <b>diff</b>, producing a histogram of the total
       lines changed for each file referenced.

       If the input filename ends with “.bz2”, “.gz”, “.lzma”, “.xz”, “.zst”, “.z” or “.Z”, <b>diffstat</b>  will  read
       the  uncompressed data via a pipe from the corresponding program.  It also can infer the compression type
       from files piped via the standard input.

       <b>Diffstat</b> recognizes the most popular types of output from <b>diff</b>:

          unified
                 preferred by the <b>patch</b> utility.

          context
                 best for readability, but not very compact.

          default
                 not good for much, but simple to generate.

       <b>Diffstat</b> detects the lines that are output by <b>diff</b> to tell which files are compared, and then counts  the
       markers  in the first column that denote the type of change (insertion, deletion or modification).  These
       are shown in the histogram as "+", "-" and "!" characters.

       If no filename is given on the command line, <b>diffstat</b> reads the differences from the standard input.

</pre><h4><b>OPTIONS</b></h4><pre>
       <b>-b</b>     ignore lines matching "Binary files XXX and YYY differ" in the <b>diff</b>

       <b>-c</b>     prefix each line of output with "#", making it a comment-line for shell scripts.

       <b>-C</b>     add SGR color escape sequences to highlight the histogram.

       <b>-D</b> <u>destination</u>
              specify a directory containing files which can be referred  to  as  the  result  of  applying  the
              differences.   <b>diffstat</b> will count the lines in the corresponding files (after adjusting the names
              by the <b>-p</b> option) to obtain the total number of lines in each file.

              The remainder, after subtracting modified and deleted lines, is shown as "unchanged lines".

       <b>-d</b>     The debug prints a lot of information.  It is normally compiled-in, but can be suppressed.

       <b>-e</b> <u>file</u>
              redirect standard error to <u>file</u>.

       <b>-E</b>     strip out ANSI escape sequences on each line before parsing the differences.  This allows <b>diffstat</b>
              to be used with <b>colordiff</b>.

       <b>-f</b> <u>format</u>
              specify the format of the histogram.

              0  for concise, which shows only the value and a single histogram code for  each  of  insert  (+),
                 delete (-) or modify (!)

              1  for normal output,

              2  to fill in the histogram with dots,

              4  to print each value with the histogram.

              Any  nonzero  value  gives a histogram.  The dots and individual values can be combined, e.g., <b>-f6</b>
              gives both.

       <b>-h</b>     prints the usage message and exits.

       <b>-k</b>     suppress the merging of filenames in the report.

       <b>-K</b>     attempt to improve the annotation of "only" files by looking for a match in the resulting  set  of
              files and inferring whether the file was added or removed.

              This  does not currently work in combination with <b>-R</b> because <b>diffstat</b> maintains only the resulting
              set of files.

       <b>-l</b>     lists only the filenames.  No histogram is generated.

       <b>-m</b>     merge insert/delete counts from each "chunk" of the patch file  to  approximate  a  count  of  the
              modified lines.

       <b>-n</b> <u>number</u>
              specify  the  minimum  width  used  for  filenames.  If you do not specify this, <b>diffstat</b> uses the
              length of the longest filename, after stripping common prefixes.

       <b>-N</b> <u>number</u>
              specify the maximum width used for filenames.  Names longer than this limit are truncated  on  the
              left.  If you do not specify this, <b>diffstat</b> next checks the <b>-n</b> option.

       <b>-o</b> <u>file</u>
              redirect standard output to <u>file</u>.

       <b>-p</b> <u>number</u>
              override the logic that strips common pathnames, simulating the <b>patch</b> "-p" option.

              If  you  do  not  give a <b>-p</b> option, <b>diffstat</b> examines the differences and strips the common prefix
              from the pathnames.  This is not what <b>patch</b> does.

       <b>-q</b>     suppress the "0 files changed" message for empty diffs.

       <b>-r</b>  <b>code</b>
              provides optional rounding of the data shown in  histogram,  rather  than  truncating  with  error
              adjustments.

              0  is  the  default.   No  rounding  is  performed,  but accumulated errors are added to following
                 columns.

              1  rounds the data

              2  rounds the data and adjusts the histogram to ensure that it displays something if there are any
                 differences even if those would normally be rounded to zero.

       <b>-R</b>     Assume patch was created with old and new files swapped.

       <b>-s</b>     show only the summary line, e.g., number of insertions and deletions.

       <b>-S</b> <u>source</u>
              this is like the <b>-D</b> option, but specifies a location where the  original  files  (before  applying
              differences) can be found.

       <b>-t</b>     overrides  the  histogram,  generates  output  of comma separated values for the number of changed
              lines found in the differences for each file: inserted, deleted and modified.

              If <b>-S</b> or <b>-D</b> options are given, the number of unchanged lines precedes the number of changes.

       <b>-T</b>     prints the numbers that the <b>-t</b> option would show, between the pathname and histogram.

              The width of the number of changes is determined by the largest value (but at least 3).  The width
              given in the <b>-w</b> option is separate from the width of these numbers.

       <b>-u</b>     suppress the sorting of filenames in the report.

       <b>-v</b>     show progress, e.g., if the output is redirected  to  a  file,  write  progress  messages  to  the
              standard error.

       <b>-V</b>     prints the current version number and exits.

       <b>-w</b> <u>number</u>
              specify  the maximum width of the histogram.  The histogram will never be shorter than 10 columns,
              just in case the filenames get too large.

              The default is 80 columns, unless the output is to a terminal.  In that case, the default width is
              the terminal's width.

</pre><h4><b>ENVIRONMENT</b></h4><pre>
       <b>Diffstat</b> runs in a POSIX environment.

       You can override the compiled-in paths  of  programs  used  for  decompressing  input  files  by  setting
       environment variables corresponding to their name:

              DIFFSTAT_BZCAT_PATH
              DIFFSTAT_BZIP2_PATH
              DIFFSTAT_COMPRESS_PATH
              DIFFSTAT_GZIP_PATH
              DIFFSTAT_LZCAT_PATH
              DIFFSTAT_PCAT_PATH
              DIFFSTAT_UNCOMPRESS_PATH
              DIFFSTAT_XZ_PATH
              DIFFSTAT_ZCAT_PATH
              DIFFSTAT_ZSTD_PATH

       However,  <b>diffstat</b>  assumes  that the resulting program uses the same command-line options, e.g., "-c" to
       decompress to the standard output.

</pre><h4><b>FILES</b></h4><pre>
       <b>Diffstat</b> is a single binary module, which uses no auxiliary files.

</pre><h4><b>BUGS</b></h4><pre>
       <b>Diffstat</b> makes a lot of assumptions about the format of <b>diff</b>'s output.

       There is no way to obtain a filename from the standard <b>diff</b> between two files with no  options.   Context
       diffs work, as well as unified diffs.

       There's  no  easy  way  to  determine  the degree of overlap between the "before" and "after" displays of
       modified lines.  <b>diffstat</b> simply counts the number of inserted and deleted lines to approximate  modified
       lines for the <b>-m</b> option.

</pre><h4><b>AUTHORS</b></h4><pre>
       Thomas Dickey &lt;<a href="mailto:dickey@invisible-island.net">dickey@invisible-island.net</a>&gt;.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man1/diff.1.html">diff</a></b>(1), <b><a href="../man1/patch.1.html">patch</a></b>(1).

1.67                                               2024-11-11                                        <u><a href="../man1/DIFFSTAT.1.html">DIFFSTAT</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>