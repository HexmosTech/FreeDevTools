<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>tsget - Time Stamping HTTP/HTTPS client</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/openssl">openssl_3.4.1-1ubuntu3_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       tsget - Time Stamping HTTP/HTTPS client

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>tsget</b> <b>-h</b> <u>server_url</u> [<b>-e</b> <u>extension</u>] [<b>-o</b> <u>output</u>] [<b>-v</b>] [<b>-d</b>] [<b>-k</b> <u>private_key.pem</u>] [<b>-p</b> <u>key_password</u>] [<b>-c</b>
       <u>client_cert.pem</u>] [<b>-C</b> <u>CA_certs.pem</u>] [<b>-P</b> <u>CA_path</u>] [<b>-r</b> <u>files</u>] [<b>-g</b> <u>EGD_socket</u>] [<u>request</u> ...]

</pre><h4><b>DESCRIPTION</b></h4><pre>
       This command can be used for sending a timestamp request, as specified in RFC 3161, to a timestamp server
       over HTTP or HTTPS and storing the timestamp response in a file. It cannot be used for creating the
       requests and verifying responses, you have to use <b><a href="../man1/openssl-ts.1.html">openssl-ts</a></b>(1) to do that. This command can send several
       requests to the server without closing the TCP connection if more than one requests are specified on the
       command line.

       This command sends the following HTTP request for each timestamp request:

               POST url HTTP/1.1
               User-Agent: OpenTSA tsget.pl/&lt;version&gt;
               Host: &lt;host&gt;:&lt;port&gt;
               Pragma: no-cache
               Content-Type: application/timestamp-query
               Accept: application/timestamp-reply
               Content-Length: length of body

               ...binary request specified by the user...

       It expects a response of type application/timestamp-reply, which is written to a file without any
       interpretation.

</pre><h4><b>OPTIONS</b></h4><pre>
       <b>-h</b> <u>server_url</u>
           The URL of the HTTP/HTTPS server listening for timestamp requests.

       <b>-e</b> <u>extension</u>
           If  the  <b>-o</b>  option  is not given this argument specifies the extension of the output files. The base
           name of the output file will be the same as those of the input  files.  Default  extension  is  <u>.tsr</u>.
           (Optional)

       <b>-o</b> <u>output</u>
           This option can be specified only when just one request is sent to the server. The timestamp response
           will  be  written  to the given output file. '-' means standard output. In case of multiple timestamp
           requests or the absence of this argument the names of the output files will be derived from the names
           of the input files and the default or specified extension argument. (Optional)

       <b>-v</b>  The name of the currently processed request is printed on standard error. (Optional)

       <b>-d</b>  Switches on verbose mode for the underlying perl module WWW::Curl::Easy.  You can see detailed  debug
           messages for the connection. (Optional)

       <b>-k</b> <u>private_key.pem</u>
           (HTTPS)  In  case  of certificate-based client authentication over HTTPS <u>private_key.pem</u> must contain
           the private key of the user. The private key file can optionally be protected by a passphrase. The <b>-c</b>
           option must also be specified. (Optional)

       <b>-p</b> <u>key_password</u>
           (HTTPS) Specifies the passphrase for the private key specified by the <b>-k</b> argument. If this option  is
           omitted and the key is passphrase protected, it will be prompted for. (Optional)

       <b>-c</b> <u>client_cert.pem</u>
           (HTTPS)  In  case  of certificate-based client authentication over HTTPS <u>client_cert.pem</u> must contain
           the X.509 certificate of the user.  The <b>-k</b> option must also be  specified.  If  this  option  is  not
           specified no certificate-based client authentication will take place. (Optional)

       <b>-C</b> <u>CA_certs.pem</u>
           (HTTPS)  The  trusted  CA  certificate  store.  The  certificate chain of the peer's certificate must
           include one of the CA certificates specified in this file.  Either option <b>-C</b> or  option  <b>-P</b>  must  be
           given in case of HTTPS. (Optional)

       <b>-P</b> <u>CA_path</u>
           (HTTPS)  The  path  containing  the  trusted  CA  certificates  to verify the peer's certificate. The
           directory must be prepared with <b><a href="../man1/openssl-rehash.1.html">openssl-rehash</a></b>(1). Either option <b>-C</b> or option <b>-P</b>  must  be  given  in
           case of HTTPS. (Optional)

       <b>-r</b> <u>files</u>
           See "Random State Options" in <b><a href="../man1/openssl.1.html">openssl</a></b>(1) for more information.

       <b>-g</b> <u>EGD_socket</u>
           The name of an EGD socket to get random data from. (Optional)

       <u>request</u> ...
           List  of  files containing RFC 3161 DER-encoded timestamp requests. If no requests are specified only
           one request will be sent to the server and it will be read from the standard input.  (Optional)

</pre><h4><b>ENVIRONMENT</b> <b>VARIABLES</b></h4><pre>
       The <b>TSGET</b> environment variable can optionally contain default arguments. The content of this variable  is
       added to the list of command line arguments.

</pre><h4><b>EXAMPLES</b></h4><pre>
       The examples below presume that <u>file1.tsq</u> and <u>file2.tsq</u> contain valid timestamp requests, tsa.opentsa.org
       listens  at port 8080 for HTTP requests and at port 8443 for HTTPS requests, the TSA service is available
       at the /tsa absolute path.

       Get a timestamp response for <u>file1.tsq</u> over HTTP, output is written to <u>file1.tsr</u>:

         tsget -h <a href="http://tsa.opentsa.org">http://tsa.opentsa.org</a>:8080/tsa file1.tsq

       Get a timestamp response for <u>file1.tsq</u> and <u>file2.tsq</u> over HTTP showing progress,  output  is  written  to
       <u>file1.reply</u> and <u>file2.reply</u> respectively:

         tsget -h <a href="http://tsa.opentsa.org">http://tsa.opentsa.org</a>:8080/tsa -v -e .reply \
               file1.tsq file2.tsq

       Create  a  timestamp  request,  write  it  to  <u>file3.tsq</u>, send it to the server and write the response to
       <u>file3.tsr</u>:

         openssl ts -query -data file3.txt -cert | tee file3.tsq \
               | tsget -h <a href="http://tsa.opentsa.org">http://tsa.opentsa.org</a>:8080/tsa \
               -o file3.tsr

       Get a timestamp response for <u>file1.tsq</u> over HTTPS without client authentication:

         tsget -h https://tsa.opentsa.org:8443/tsa \
               -C cacerts.pem file1.tsq

       Get a timestamp response for <u>file1.tsq</u> over HTTPS with certificate-based client authentication  (it  will
       ask for the passphrase if <u>client_key.pem</u> is protected):

         tsget -h https://tsa.opentsa.org:8443/tsa -C cacerts.pem \
               -k client_key.pem -c client_cert.pem file1.tsq

       You  can  shorten  the  previous  command  line  if  you  make use of the <b>TSGET</b> environment variable. The
       following commands do the same as the previous example:

         TSGET='-h https://tsa.opentsa.org:8443/tsa -C cacerts.pem \
               -k client_key.pem -c client_cert.pem'
         export TSGET
         tsget file1.tsq

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man1/openssl.1.html">openssl</a></b>(1), <b><a href="../man1/openssl-ts.1.html">openssl-ts</a></b>(1), WWW::Curl::Easy, &lt;https://www.rfc-editor.org/rfc/rfc3161.html&gt;

</pre><h4><b>COPYRIGHT</b></h4><pre>
       Copyright 2006-2020 The OpenSSL Project Authors. All Rights Reserved.

       Licensed under the Apache License 2.0 (the "License").  You may not use this file  except  in  compliance
       with  the  License.   You  can  obtain  a  copy  in  the  file  LICENSE  in the source distribution or at
       &lt;https://www.openssl.org/source/license.html&gt;.

3.4.1                                              2025-04-03                                        <u><a href="../man1SSL/TSGET.1SSL.html">TSGET</a></u>(1SSL)
</pre>
 </div>
</div></section>
</div>
</body>
</html>