<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>inotifywatch, fsnotifywatch - gather filesystem access statistics using inotify or fanotify</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/inotify-tools">inotify-tools_4.23.9.0-2_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       inotifywatch, fsnotifywatch - gather filesystem access statistics using inotify or fanotify

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>inotifywatch</b> [<b>-hvzrPqf</b>] [<b>-e</b> &lt;event&gt; ] [<b>-t</b> &lt;seconds&gt; ] [<b>-a</b> &lt;event&gt; ] [<b>-d</b> &lt;event&gt; ] &lt;file&gt; [ ... ]

       <b>fsnotifywatch</b> [<b>-hvzrPqfIFS</b>] [<b>-e</b> &lt;event&gt; ] [<b>-t</b> &lt;seconds&gt; ] [<b>-a</b> &lt;event&gt; ] [<b>-d</b> &lt;event&gt; ] &lt;file&gt; [ ... ]

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>inotifywatch</b>  listens  for  filesystem  events using Linux's <b><a href="../man7/inotify.7.html">inotify</a>(7)</b> interface, then outputs a summary
       count of the events received on each file or directory.

       <b>fsnotifywatch</b> is similar to <b>inotifywatch</b> but it is using Linux's <b><a href="../man7/fanotify.7.html">fanotify</a>(7)</b>  interface  by  default.  If
       explicitly specified, it uses the <b><a href="../man7/inotify.7.html">inotify</a>(7)</b> interface.

</pre><h4><b>OUTPUT</b></h4><pre>
       <b>inotifywatch</b> and <b>fsnotifywatch</b> will output a table on standard out with one column for each type of event
       and  one  row  for  each  watched  file or directory.  The table will show the amount of times each event
       occurred for each watched file or directory.  Output can be sorted by a particular event using the <b>-a</b>  or
       <b>-d</b> options.

       Some diagnostic information will be output on standard error.

</pre><h4><b>OPTIONS</b></h4><pre>
       <b>-h,</b> <b>--help</b>
              Output some helpful usage information.

       <b>-v,</b> <b>--verbose</b>
              Output some extra information on standard error during execution.

       <b>@&lt;file&gt;</b>
              When  watching  a  directory tree recursively, exclude the specified file from being watched.  The
              file must be specified with a relative or  absolute  path  according  to  whether  a  relative  or
              absolute  path  is  given for watched directories.  If a specific path is explicitly both included
              and excluded, it will always be watched.

              <b>Note:</b> If you need to watch a directory or file whose name starts with @, give the absolute path.

       <b>--fromfile</b> <b>&lt;file&gt;</b>
              Read filenames to watch or exclude from a file, one filename per line.  If filenames begin with  @
              they  are  excluded as described above.  If &lt;file&gt; is `-', filenames are read from standard input.
              Use this option if you need to watch too many files to pass in as command line arguments.

       <b>-z,</b> <b>--zero</b>
              Output table rows and columns even if all elements are zero.  By default,  rows  and  columns  are
              only output if they contain non-zero elements.  Using this option when watching for every event on
              a lot of files can result in a <u>lot</u> of output!

       <b>--exclude</b> <b>&lt;pattern&gt;</b>
              Do  not  process  any  events  for  the  subset of files whose filenames match the specified POSIX
              regular expression, case sensitive.

       <b>--excludei</b> <b>&lt;pattern&gt;</b>
              Do not process any events for the subset of  files  whose  filenames  match  the  specified  POSIX
              regular expression, case insensitive.

       <b>--include</b> <b>&lt;pattern&gt;</b>
              Process  events  only  for  the  subset of files whose filenames match the specified POSIX regular
              expression, case sensitive.

       <b>--includei</b> <b>&lt;pattern&gt;</b>
              Process events only for the subset of files whose filenames  match  the  specified  POSIX  regular
              expression, case insensitive.

       <b>-r,</b> <b>--recursive</b>
              Watch  all  subdirectories  of  any  directories  passed  as  arguments.   Watches  will be set up
              recursively to an unlimited depth.  Symbolic links are not  traversed.   If  new  directories  are
              created within watched directories they will automatically be watched.

              <b>Warning:</b>  If  you  use  this option while watching the root directory of a large tree, it may take
              quite a while until all inotify watches are established, and events will not be received  in  this
              time.  Also, since one inotify watch will be established per subdirectory, it is possible that the
              maximum  amount  of inotify watches per user will be reached.  The default maximum is 8192; it can
              be increased by writing to <b><a href="file:/proc/sys/fs/inotify/max_user_watches">/proc/sys/fs/inotify/max_user_watches</a></b>.

       <b>-P,</b> <b>--no-dereference</b>
              Do not follow symlinks.

       <b>-t</b> <b>&lt;seconds&gt;,</b> <b>--timeout</b> <b>&lt;seconds&gt;</b>
              Listen only for the specified amount of seconds.   If  not  specified,  inotifywatch  will  gather
              statistics until receiving an interrupt signal by (for example) pressing CONTROL-C at the console.

       <b>-e</b> <b>&lt;event&gt;,</b> <b>--event</b> <b>&lt;event&gt;</b>
              Listen  for specific event(s) only.  The events which can be listened for are listed in the <b>EVENTS</b>
              section.  This option can be specified more than once.  If omitted, all events are listened for.

       <b>-a</b> <b>&lt;event&gt;,</b> <b>--ascending</b> <b>&lt;event&gt;</b>
              Sort output ascending by event counts for the specified event.  Sortable  events  include  `total'
              and  all  the  events  listed  in  the  <b>EVENTS</b>  section  except  `move'  and `close' (you must use
              `moved_to', `moved_from', `close_write' or `close_nowrite'  instead).   The  default  is  to  sort
              descending by `total'.

       <b>-d</b> <b>&lt;event&gt;,</b> <b>--descending</b> <b>&lt;event&gt;</b>
              Sort  output  descending by event counts for the specified event.  Sortable events include `total'
              and all the events listed  in  the  <b>EVENTS</b>  section  except  `move'  and  `close'  (you  must  use
              `moved_to',  `moved_from',  `close_write'  or  `close_nowrite'  instead).   The default is to sort
              descending by `total'.

</pre><h4><b>EXIT</b> <b>STATUS</b></h4><pre>
       <b>0</b>      The program executed successfully.

       <b>1</b>      An error occurred in execution of the program.

</pre><h4><b>EVENTS</b></h4><pre>
       The following events are valid for use with the <b>-e</b> option:

       <b>access</b> A watched file or a file within a watched directory was read from.

       <b>modify</b> A watched file or a file within a watched directory was written to.

       <b>attrib</b> The metadata of a watched file or a file within a watched directory was modified.   This  includes
              timestamps, file permissions, extended attributes etc.

       <b>close_write</b>
              A  watched  file  or  a file within a watched directory was closed, after being opened in writable
              mode.  This does not necessarily imply the file was written to.

       <b>close_nowrite</b>
              A watched file or a file within a watched directory was closed, after being  opened  in  read-only
              mode.

       <b>close</b>  A  watched  file or a file within a watched directory was closed, regardless of how it was opened.
              Note that this is actually implemented simply by listening for both <b>close_write</b> and <b>close_nowrite,</b>
              hence all close events received will be output as one of these, not <b>CLOSE.</b>

       <b>open</b>   A watched file or a file within a watched directory was opened.

       <b>moved_to</b>
              A file or directory was moved into a watched directory.  This event occurs even  if  the  file  is
              simply moved from and to the same directory.

       <b>moved_from</b>
              A  file  or  directory  was moved from a watched directory.  This event occurs even if the file is
              simply moved from and to the same directory.

       <b>move</b>   A file or directory was moved from or  to  a  watched  directory.   Note  that  this  is  actually
              implemented  simply by listening for both <b>moved_to</b> and <b>moved_from,</b> hence all close events received
              will be output as one or both of these, not <b>MOVE.</b>

       <b>move_self</b>
              A watched file or directory was moved. After this event, the file or directory is no longer  being
              watched.

       <b>create</b> A file or directory was created within a watched directory.

       <b>delete</b> A file or directory within a watched directory was deleted.

       <b>delete_self</b>
              A  watched  file  or  directory  was deleted.  After this event the file or directory is no longer
              being watched.  Note that this event can occur even if it is not explicitly being listened for.

       <b>unmount</b>
              The filesystem on which a watched file or directory resides was unmounted.  After this  event  the
              file  or  directory  is no longer being watched.  Note that this event can occur even if it is not
              explicitly being listened to.

   <b>fsnotifywatch</b>
       The following additional options are available:

       <b>-I,</b> <b>--inotify</b>
              Watch using inotify.

       <b>-F,</b> <b>--fanotify</b>
              Watch using fanotify (default).  fanotify support for reporting  events  with  inotify  compatible
              information  was  added  in  kernel v5.9.  With older kernels the command will fail.  As of kernel
              v5.12, fanotify requires admin privileges.

       <b>-S,</b> <b>--filesystem</b>
              Watch entire filesystem of any directories passed as arguments using fanotify.

</pre><h4><b>EXAMPLE</b></h4><pre>
       Watching the `<a href="file:~/.beagle">~/.beagle</a>' directory for 60 seconds:

       % inotifywatch -v -e access -e modify -t 60 -r <a href="file:~/.beagle">~/.beagle</a>
       Establishing watches...
       Setting up watch(es) on /home/rohan/.beagle
       OK, /home/rohan/.beagle is now being watched.
       Total of 302 watches.
       Finished establishing watches, now collecting statistics.
       Will listen for events for 60 seconds.
       total  access  modify  filename
       1436   1074    362     /home/rohan/.beagle/Indexes/FileSystemIndex/PrimaryIndex/
       1323   1053    270     /home/rohan/.beagle/Indexes/FileSystemIndex/SecondaryIndex/
       303    116     187     /home/rohan/.beagle/Indexes/KMailIndex/PrimaryIndex/
       261    74      187     /home/rohan/.beagle/TextCache/
       206    0       206     /home/rohan/.beagle/Log/
       42     0       42      /home/rohan/.beagle/Indexes/FileSystemIndex/Locks/
       18     6       12      /home/rohan/.beagle/Indexes/FileSystemIndex/
       12     0       12      /home/rohan/.beagle/Indexes/KMailIndex/Locks/
       3      0       3       /home/rohan/.beagle/TextCache/54/
       3      0       3       /home/rohan/.beagle/TextCache/bc/
       3      0       3       /home/rohan/.beagle/TextCache/20/
       3      0       3       /home/rohan/.beagle/TextCache/62/
       2      2       0       /home/rohan/.beagle/Indexes/KMailIndex/SecondaryIndex/

</pre><h4><b>CAVEATS</b></h4><pre>
       When using inotifywatch, the filename that is outputted is not guaranteed to be up to date after  a  move
       because  it  is  the  inode  that  is  being monitored. Additionally, none of the observed operations are
       guaranteed to have been performed on the filename inotifywatch was instructed to monitor  in  cases  when
       the file is known by several names in the filesystem.

</pre><h4><b>BUGS</b></h4><pre>
       There are race conditions in the recursive directory watching code which can cause events to be missed if
       they occur in a directory immediately after that directory is created.  This is probably not fixable.

       It is assumed the inotify event queue will never overflow.

</pre><h4><b>AUTHORS</b></h4><pre>
       inotifywatch was started by Rohan McGovern, and is currently maintained by Eric Curtin and Radu Voicilas.
       https://www.openhub.net/p/inotify-tools/contributors/summary   gives   you   a   more  complete  list  of
       contributors.

       inotifywatch   is   part   of   inotify-tools.    The    inotify-tools    website    is    located    at:
       <u>https://github.com/inotify-tools/inotify-tools/wiki</u>

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <a href="../man1/inotifywait.1.html">inotifywait</a>(1), <a href="../man7/inotify.7.html">inotify</a>(7)

inotifywatch 4.23.9.0                              2023-09-12                                    <u><a href="../man1/inotifywatch.1.html">inotifywatch</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>