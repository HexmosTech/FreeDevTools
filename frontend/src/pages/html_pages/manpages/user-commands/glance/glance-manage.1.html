<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>glance-manage - Glance Management Utility</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/glance-common">glance-common_30.0.0-0ubuntu1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       glance-manage - Glance Management Utility

</pre><h4><b>GLANCE</b> <b>MANAGEMENT</b> <b>UTILITY</b></h4><pre>
       <b>Author</b> OpenStack Glance Project Team

       <b>Contact</b>
              <u><a href="mailto:glance@lists.launchpad.net">glance@lists.launchpad.net</a></u>

       <b>Date</b>   2019-04-10

       <b>Copyright</b>
              OpenStack Foundation

       <b>Version</b>
              18.0.0

       <b>Manual</b> <b>section</b>
              1

       <b>Manual</b> <b>group</b>
              cloud computing

   <b>SYNOPSIS</b>
          glance-manage [options]

   <b>DESCRIPTION</b>
       glance-manage  is  a  utility  for  managing and configuring a Glance installation.  One important use of
       glance-manage is to setup the database. To do this run:

          glance-manage db_sync

       Note: glance-manage commands can be run either like this:

          glance-manage db sync

       or with the db commands concatenated, like this:

          glance-manage db_sync

   <b>COMMANDS</b>
       <b>db</b>     This is the prefix for the commands below when used with a space rather than a _. For example  "db
              version".

       <b>db_version</b>
              This will print the current migration level of a glance database.

       <b>db_upgrade</b> <b>[VERSION]</b>
              This will take an existing database and upgrade it to the specified VERSION.

       <b>db_version_control</b>
              Place the database under migration control.

       <b>db_sync</b> <b>[VERSION]</b>
              Place an existing database under migration control and upgrade it to the specified VERSION.

       <b>db_expand</b>
              Run this command to expand the database as the first step of a rolling upgrade process.

       <b>db_migrate</b>
              Run this command to migrate the database as the second step of a rolling upgrade process.

       <b>db_contract</b>
              Run this command to contract the database as the last step of a rolling upgrade process.

       <b>db_export_metadefs</b> <b>[PATH</b> <b>|</b> <b>PREFIX]</b>
              Export  the  metadata  definitions  into  json  format. By default the definitions are exported to
              /etc/glance/metadefs directory.  <b>Note:</b> <b>this</b> <b>command</b> <b>will</b> <b>overwrite</b> <b>existing</b> <b>files</b> <b>in</b> <b>the</b>  <b>supplied</b>
              <b>or</b> <b>default</b> <b>path.</b>

       <b>db_load_metadefs</b> <b>[PATH]</b>
              Load  the  metadata definitions into glance database. By default the definitions are imported from
              /etc/glance/metadefs directory.

       <b>db_unload_metadefs</b>
              Unload the metadata definitions. Clears the  contents  of  all  the  glance  db  tables  including
              metadef_namespace_resource_types,     metadef_tags,    metadef_objects,    metadef_resource_types,
              metadef_namespaces and metadef_properties.

       <b>db_purge</b>
              Purge deleted rows older than a given age from glance db tables.

              This command interprets the following options when it is invoked:

              <b>--max_rows</b>
                     Purge deleted rows older than age in days (default value if not specified: 100)

              <b>--age_in_days</b>
                     Limit number of records to delete (default value if not specified: 30 days)

              WARNING: This function is useful primarily in test  systems.  We  do  not  recommend  its  use  in
              production  systems  unless you have reviewed OpenStack Security Note <u>OSSN-0075</u> and understand the
              risk involved.

       <b>db_purge_images_table</b>
              Purge deleted rows older than a given age from images db tables.

              This command interprets the following options when it is invoked:

              <b>--max_rows</b>
                     Purge deleted rows older than age in days (default value if not specified: 100)

              <b>--age_in_days</b>
                     Limit number of records to delete (default value if not specified: 30 days)

              WARNING: This function is useful primarily in test  systems.  We  do  not  recommend  its  use  in
              production  systems  unless you have reviewed OpenStack Security Note <u>OSSN-0075</u> and understand the
              risk involved.

   <b>OPTIONS</b>
       <b>General</b> <b>Options</b>

       <b>-h,</b> <b>--help</b>
              Show the help message and exit

       <b>--version</b>
              Print the version number and exit

       <b>-v,</b> <b>--verbose</b>
              Print more verbose output

       <b>--noverbose</b>
              Disable verbose output

       <b>-d,</b> <b>--debug</b>
              Print debugging output (set logging level to DEBUG instead of default WARNING level)

       <b>--nodebug</b>
              Disable debugging output

       <b>--use-syslog</b>
              Use syslog for logging

       <b>--nouse-syslog</b>
              Disable the use of syslog for logging

       <b>--syslog-log-facility</b> <b>SYSLOG_LOG_FACILITY</b>
              syslog facility to receive log lines

       <b>--config-dir</b> <b>DIR</b>
              Path to a config directory to pull *.conf files from. This  file  set  is  sorted,  to  provide  a
              predictable parse order if individual options are over-ridden. The set is parsed after the file(s)
              specified  via  previous  --config-file, arguments hence over-ridden options in the directory take
              precedence. This means that configuration from files in a specified config-dir  will  always  take
              precedence over configuration from files specified by --config-file, regardless to argument order.

       <b>--config-file</b> <b>PATH</b>
              Path  to  a config file to use. Multiple config files can be specified by using this flag multiple
              times, for example, --config-file &lt;file1&gt; --config-file  &lt;file2&gt;.  Values  in  latter  files  take
              precedence.

       <b>--log-config-append</b> <b>PATH</b> <b>--log-config</b> <b>PATH</b>
              The  name  of  logging  configuration file. It does not disable existing loggers, but just appends
              specified logging configuration to any other existing  logging  options.  Please  see  the  Python
              logging  module  documentation for details on logging configuration files. The log-config name for
              this option is deprecated.

       <b>--log-format</b> <b>FORMAT</b>
              A logging.Formatter log message format string which may use any of the available logging.LogRecord
              attributes. Default: None

       <b>--log-date-format</b> <b>DATE_FORMAT</b>
              Format string for %(asctime)s in log records. Default: None

       <b>--log-file</b> <b>PATH,</b> <b>--logfile</b> <b>PATH</b>
              (Optional) Name of log file to output to. If not set, logging will go to stdout.

       <b>--log-dir</b> <b>LOG_DIR,</b> <b>--logdir</b> <b>LOG_DIR</b>
              (Optional) The directory to keep log files in (will be prepended to --log-file)

   <b>SEE</b> <b>ALSO</b>
       • <u>OpenStack</u> <u>Glance</u>

   <b>BUGS</b>
       • Glance bugs are tracked in Launchpad so you can view current bugs at <u>OpenStack</u> <u>Glance</u>

   <b>CONFIGURATION</b>
       The following paths are searched for a <b>glance-manage.conf</b> file in the following order:

       • <b><a href="file:~/.glance">~/.glance</a></b>

       • <b>~/</b>

       • <b>/etc/glance</b>

       • <b><a href="file:/etc">/etc</a></b>

       All options set in <b>glance-manage.conf</b> override those set in <b>glance-api.conf</b>.

</pre><h4><b>AUTHOR</b></h4><pre>
       OpenStack

</pre><h4><b>COPYRIGHT</b></h4><pre>
       2010-present, OpenStack Foundation.

30.0.0                                            Apr 03, 2025                                  <u><a href="../man1/GLANCE-MANAGE.1.html">GLANCE-MANAGE</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>