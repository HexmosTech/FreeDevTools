<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>cloud_sql_proxy - connect securely to a 2nd generation cloud sql database</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/cloudsql-proxy">cloudsql-proxy_1.33.14-1build1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       cloud_sql_proxy - connect securely to a 2nd generation cloud sql database

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>cloud_sql_proxy</b>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The  Cloud SQL Proxy allows simple, secure connectivity to Google Cloud SQL. It is a long-running process
       that opens local sockets (either TCP or Unix sockets) according to the parameters passed to it.  A  local
       application connects to a Cloud SQL instance by using the corresponding socket.

   <b>Authorization</b>
       By  default, the proxy will authenticate under the default service account of the Compute Engine VM it is
       running on. Therefore, the VM must have at  least  the  sqlservice.admin  API scope  and  the  associated
       project  must  have  the  SQL  Admin  API  enabled.   The default service account must also have at least
       <b>WRITER/EDITOR</b> privileges to any projects of target SQL instances.

       •   On Google Compute Engine, the default service account is used.  The Cloud SQL API must be enabled for
           the VM.

       •   When the gcloud command-line tool is installed on the local machine, the <u>active</u> <u>account</u> is  used  for
           authentication.  Run <u>'gcloud</u> <u>auth</u> <u>list'</u> to see which accounts are installed on your local machine and
           <u>'gcloud</u> <u>config</u> <u>list</u> <u>account'</u> to view the active account.

       •   To configure the proxy using a service account,  pass  the  <b>-credential_file</b>  parameter  or  set  the
           <b>GOOGLE_APPLICATION_CREDENTIALS</b>  environment  variable.   This  will  override  gcloud  or GCE (Google
           Compute Engine) credentials, if they exist.

</pre><h4><b>OPTIONS</b></h4><pre>
   <b>General</b>
       <b>-quiet</b> Disable log messages (e.g. when new connections are established).  <b>WARNING:</b> this  option  disables
              ALL  logging output (including connection errors), which will likely make debugging difficult. The
              <u>-quiet</u> flag takes precedence over the <u>-verbose</u> flag.

       <b>-verbose</b>
              When explicitly set to false, disable log messages that are  not  errors  nor  first-time  startup
              messages (e.g. when new connections are established
               or closed without errors).

       <b>-version</b>
              Print the version of the proxy and exit

   <b>Connection</b>
       <b>-credential_file</b>
              If provided, this json file will be used to retrieve Service Account credentials.  You may set the
              <b>GOOGLE_APPLICATION_CREDENTIALS</b> environment variable for the same effect.

       <b>-token</b> When set, the proxy uses this Bearer token for authorization

       <b>-max_connections</b>
              If  provided,  the  maximum  number  of  connections to establish before refusing new connections.
              Defaults to 0 (no limit)

       <b>-instances</b>
              To connect to a specific list of instances, set the instances parameter to a comma-separated  list
              of ully qualified instance connection strings <b>(project:region:name).</b>  For example:
                     -instances=my-project:my-region:my-instance

              For  connectivity  over  TCP,  you  must  specify  a  tcp port as part of the instance string. For
              example, the following example opens a loopback TCP socket on port 3306, which will be proxied  to
              connect to the instance <u>'my-instance'</u> in project <u>'my-project':</u>
                     -instances=my-project:my-region:my-instance=tcp:3306

              When connecting over TCP, the -instances parameter is required.

              Supplying  INSTANCES  environment variable achieves the same effect.  One can use that to keep k8s
              manifest files constant across multiple environments. If the name has the  suffix  <b>'=tcp:port',</b>  a
              TCP  server  is opened on the specified port to proxy to that instance. Otherwise, one socket file
              per instance is opened in <u>dir.</u>  You may use <b>INSTANCES</b> environment variable for  the  same  effect.
              Using both will use value from flag. Not compatible with <u>-fuse</u>

       <b>-instances_metadata</b>
              When  running  on  GCE  (Google  Compute  Engine)  you  can  avoid the need to specify the list of
              instances on the command line by using the Metadata server. This parameter specifies a path  to  a
              metadata  value  which  is  then  polled  for  a comma-separated list of fully qualified instances
              <b>(project:region:name)</b> to connect to in the exactly the  same  way  as  the  <u>-instances</u>  parameter.
              Updates  to the metadata value will be observed and acted on by the Proxy. For example, to use the
              instance metadata value named <u>cloud-sql-instances</u> you would provide <u>instance/attributes/cloud-sql-</u>
              <u>instances.</u>

       <b>-check_region</b>
              If specified, the <u>region</u> portion of the  connection  string  is  required  for  Unix  socket-based
              connections.

       <b>-projects</b>
              To direct the proxy to open connections for each Cloud SQL Instance in the comma-separated list of
              projects specified, set the projects parameter:
                     -projects=my-project

       <b>-refresh_config_throttle</b>
              If  set,  this  flag specifies the amount of forced sleep between successive API calls in order to
              protect client API quota. Minimum allowed value is 1s

       <b>-dir</b>   When using Unix sockets (the default for systems which support them), the Proxy places the sockets
              representing database instances in the directory specified by the <u>-dir</u> parameter.

       <b>-fuse</b>  If your local environment has FUSE installed,  you  can  specify  the  <u>-fuse</u>  flag  to  avoid  the
              requirement  to  specify  instances  in advance. Mount a directory at <u>dir</u> using FUSE for accessing
              instances. Note that the directory at <u>dir</u> must be empty before  this  program  is  started.   With
              <b>FUSE,</b>  any attempts to open a Unix socket in the directory specified by <u>-dir</u> automatically creates
              that socket and connects to the corresponding instance.

       <b>-fuse_tmp</b>
              Used as a temporary directory if <u>-fuse</u> is set. Note that files in this directory  can  be  removed
              automatically by this program.

   <b>Automatic</b> <b>instance</b> <b>discovery</b>
       If the Google Cloud SQL is installed on the local machine and no instance connection flags are specified,
       the proxy connects to all instances in the gcloud tool's active project. Run <u>'gcloud</u> <u>config</u> <u>list</u> <u>project'</u>
       to display the active project.

</pre><h4><b>FILES</b></h4><pre>
       <b>Credentials</b>
              By  default  user  account credentials are acquired by <u>gcloud</u> <u>auth</u> <u>login</u> and stored locally on the
              system.  <u>gcloud</u> <u>auth</u> <u>activate-service-account</u> authorizes access using a service account.  As  with
              <u>gcloud</u> <u>init</u> and <u>gcloud</u> <u>auth</u> <u>login,</u> this command saves the service account credentials to the local
              system on successful completion and sets the specified account as the active account in your Cloud
              SDK  configuration.   To  configure  the  proxy using a service account, pass the <u>-credential_file</u>
              parameter or set the <b>GOOGLE_APPLICATION_CREDENTIALS</b>  environment  variable.   This  will  override
              gcloud or GCE (Google Compute Engine) credentials, if they exist.

       <b>sockets</b> <b>directory</b>
              When using Unix sockets (the default for systems which support them), the Proxy places the sockets
              rep‐  resenting database instances in the directory specified by the <u>-dir</u> parameter. With <b>FUSE</b> one
              can also interact with the proxy using thius directory to specify instances of cloud SQL databases
              to connect to on the fly.

       <b>/dev/fuse</b>
              Optional functionality can be enabled (  <u>--fuse</u>  )  with  access  to  <b>/dev/fuse</b>  as  well  as  the
              <b>fusermount</b> binary.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man1/fusermount.1.html">fusermount</a></b>(1), <b><a href="../man8/mount.8.html">mount</a>(8),</b> <b><a href="../man8/mount.fuse.8.html">mount.fuse</a>(8),</b> <b><a href="../man1/ulockmgr_server.1.html">ulockmgr_server</a>(1),</b> <b><a href="../man1/mysql.1.html">mysql</a>(1),</b> <b><a href="../man1/postgres.1.html">postgres</a>(1).</b>

</pre><h4><b>BUGS</b></h4><pre>
       The upstream issue reporting system is at github

</pre><h4><b>AUTHOR</b></h4><pre>
       Manoj Srivastava &lt;<a href="mailto:srivasta@google.com">srivasta@google.com</a>&gt;

Debian                                             2018-05-10                                 <u><a href="../man1/cloud_sql_proxy.1.html">cloud_sql_proxy</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>