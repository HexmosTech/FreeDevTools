<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>db5.3_deadlock - Detect and abort deadlocks</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/db5.3-util">db5.3-util_5.3.28+dfsg2-9_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       db5.3_deadlock - Detect and abort deadlocks

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>db5.3_deadlock</b> [-Vv] [-a e | m | n | o | W | w | y] [-h home] [-L file] [-t sec.usec]

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The db5.3_deadlock utility traverses the database environment lock region, and aborts a lock request each
       time it detects a deadlock or a lock request that has timed out. By default, in the case of a deadlock, a
       random lock request is chosen to be aborted.

       This  utility  should  be  run  as  a background daemon, or the underlying Berkeley DB deadlock detection
       interfaces should be called in some other way, whenever there are multiple threads or processes accessing
       a database and at least one of them is modifying it.

</pre><h4><b>OPTIONS</b></h4><pre>
       <b>-a</b>     When a deadlock is detected, abort the locker:

              m      with the most locks

              n      with the fewest locks

              o      with the oldest lock

              W      with the most write locks

              w      with the fewest write locks

              y      with the youngest lock

              When lock or transaction timeouts have been specified:

              e      abort any lock request that has timed out

       <b>-h</b>     Specify a home directory for the database environment; by default, the current  working  directory
              is used.

       <b>-L</b>     Log  the  execution  of  the db5.3_deadlock utility to the specified file in the following format,
              where <u>###</u> is the process ID, and the date is the time the utility was started.

       db_deadlock: ### Wed Jun 15 01:23:45 EDT 1995

               This file will be removed if the db5.3_deadlock utility exits gracefully.

       <b>-t</b>      Check the database environment every <b>sec</b> seconds plus <b>usec</b> microseconds to see if a  process  has
               been forced to wait for a lock; if one has, review the database environment lock structures.

       <b>-V</b>      Write the library version number to the standard output, and exit.

       <b>-v</b>      Run in verbose mode, generating messages each time the detector runs.

       If the <b>-t</b> option is not specified, db5.3_deadlock will run once and exit.

       The  db5.3_deadlock  utility  uses  a  Berkeley  DB  environment  (as  described  for  the <b>-h</b> option, the
       environment variable <b>DB_HOME</b>, or because the utility was run in a  directory  containing  a  Berkeley  DB
       environment).   In  order  to  avoid  environment  corruption  when  using  a  Berkeley  DB  environment,
       db5.3_deadlock should always be given the chance to detach from the environment and exit gracefully.   To
       cause  db5.3_deadlock  to release all environment resources and exit cleanly, send it an interrupt signal
       (SIGINT).

       The db5.3_deadlock utility does not attempt to create the Berkeley DB shared memory regions  if  they  do
       not  already exist.  The application which creates the region should be started first, and then, once the
       region is created, the db5.3_deadlock utility should be started.

       The DB_ENV-&gt;lock_detect method is the  underlying  method  used  by  the  db_deadlock  utility.  See  the
       db_deadlock  utility  source  code  for an example of using DB_ENV-&gt;lock_detect in a IEEE/ANSI Std 1003.1
       (POSIX) environment.

       The db5.3_deadlock utility exits 0 on success, and &gt;0 if an error occurs.

</pre><h4><b>ENVIRONMENT</b></h4><pre>
       <b>DB_HOME</b>
              If the <b>-h</b> option is not specified and the environment variable DB_HOME is set, it is used  as  the
              path of the database home, as described in DB_ENV-&gt;open.

</pre><h4><b>AUTHORS</b></h4><pre>
       Sleepycat  Software,  Inc.  This  manual page was created based on the HTML documentation for db_deadlock
       from Sleepycat, by Thijs Kinkhorst &lt;<a href="mailto:thijs@kinkhorst.com">thijs@kinkhorst.com</a>&gt;, for the Debian  system  (but  may  be  used  by
       others).

                                                 28 January 2005                               <u><a href="../man1/DB5.3_DEADLOCK.1.html">DB5.3_DEADLOCK</a></u>(1)
</pre>
 </div>
</div></section>
</div>
</body>
</html>