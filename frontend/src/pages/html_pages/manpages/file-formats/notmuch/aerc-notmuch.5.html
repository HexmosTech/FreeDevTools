<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>aerc-notmuch - notmuch configuration for aerc(1)</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/aerc">aerc_0.20.0-2_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       aerc-notmuch - notmuch configuration for <b><a href="../man1/aerc.1.html">aerc</a></b>(1)

</pre><h4><b>SYNOPSIS</b></h4><pre>
       aerc supports using the notmuch email system as a backend, for fast indexing and searching.

       For  this  to  be  enabled,  aerc  needs  to  be  built  with  notmuch support. Refer to the installation
       instructions for details.

</pre><h4><b>CONFIGURATION</b></h4><pre>
       Basic Notmuch configuration may be done interactively with the <b>:new-account</b> command.

       In <u>accounts.conf</u> (see <b><a href="../man5/aerc-accounts.5.html">aerc-accounts</a></b>(5)), the following notmuch-specific options are available:

       <b>check-mail-cmd</b> = <u>&lt;command&gt;</u>
           Command to run in conjunction with <b>check-mail</b> option.

           Example:
               check-mail-cmd = mbsync -a

       <b>check-mail-timeout</b> = <u>&lt;duration&gt;</u>
           Timeout for the <b>check-mail-cmd</b>. The command will be stopped if it does not complete in this  interval
           and an error will be displayed. Increase from the default if repeated errors occur

           Default: <u>10s</u>

       <b>source</b> = notmuch://<u>&lt;path&gt;</u>
           The  <b>source</b> indicates the path to the directory containing your notmuch database (usually a <u>.notmuch/</u>
           folder).

           The path portion of the URL following <u>notmuch://</u> must be either an absolute path prefixed by <u>/</u>  or  a
           path relative to your home directory prefixed with <u>~</u>. For example:

               source = notmuch:///home/me/mail

               source = notmuch://<a href="file:~/mail">~/mail</a>

       <b>query-map</b> = <u>&lt;file&gt;</u>
           Path to a file containing a mapping from display name to notmuch query in the form of <b>&lt;NAME&gt;</b>=<u>&lt;QUERY&gt;</u>.

           Multiple  entries  can  be  specified,  one  per line. Lines starting with <u>#</u> are ignored and serve as
           comments.

           e.g. inbox=tag:inbox and not tag:archived

       <b>exclude-tags</b> = <u>&lt;tag1,tag2,tag3...&gt;</u>
           Comma separated list of tags which will be excluded from query results, unless  explicitly  mentioned
           in the query.

           This can for example be useful if you use an <u>archive</u> or <u>spam</u> tag.

       <b>maildir-store</b> = <u>&lt;path&gt;</u>
           Path  to  the  maildir store containing the message files backing the notmuch database. This is often
           the same as the notmuch database path. If specified, this  option  will  be  used  by  aerc  to  list
           available folders and enable commands such as <b>:delete</b> and <b>:archive</b>.

           N.B.:  aerc  will  still  always  show messages and not files (under notmuch, a single message can be
           represented by several files), which makes the semantics of certain commands as <b>move</b>  ambiguous.  Use
           <b>multi-file-strategy</b> to tell aerc how to resolve these ambiguities.

       <b>maildir-account-path</b> = <u>&lt;path&gt;</u>
           Path to the maildir account relative to the <b>maildir-store</b>.

           This  could be used to achieve traditional maildir one tab per account behavior. The note on <b>maildir-</b>
           <b>store</b> also applies to this option.

       <b>multi-file-strategy</b> = <u>&lt;strategy&gt;</u>
           Strategy for file operations (e.g., move, copy, delete) on  messages  that  are  backed  by  multiple
           files. Possible values:

           •   <b>refuse</b> (default): Refuse to act.
           •   <b>act-all</b>: Act on all files.
           •   <b>act-one</b>: Act on one of the files, arbitrarily chosen, and ignore the
       rest.
           •   <b>act-one-delete-rest</b>: Like <b>act-one</b>, but delete the remaining files.
           •   <b>act-dir</b>: Act on all files within the current folder and ignore the rest.
       Note that this strategy only works within the maildir directories; in other
           directories, it behaves like <b>refuse</b>.
           •   <b>act-dir-delete-rest</b>: Like <b>act-dir</b>, but delete the remaining files.

           Note  that  the strategy has no effect on cross-account operations. Copying a message across accounts
           will always copy a single file, arbitrarily chosen. Moving a message across accounts will always copy
           a single file, arbitrarily chosen, and refuse to delete multiple files from the source account.

</pre><h4><b>USAGE</b></h4><pre>
       Notmuch shows slightly different behavior than for example imap. Some commands are slightly different  in
       semantics and mentioned below:

       <b>cf</b> <u>&lt;notmuch</u> <u>query&gt;</u>
           The change folder command allows for arbitrary notmuch queries. Performing a <b>:cf</b> command will perform
           a new top-level notmuch query.

       <b>filter</b> <u>&lt;notmuch</u> <u>query&gt;</u>
           The  filter  command for notmuch backends takes in arbitrary notmuch queries. It applies the query on
           the  set  of  messages  shown  in  the  message  list.  This  can  be  used  to  perform   successive
           filters/queries. It is equivalent to performing a set of queries concatenated with "and".

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man1/aerc.1.html">aerc</a></b>(1) <b><a href="../man5/aerc-accounts.5.html">aerc-accounts</a></b>(5) <b><a href="../man5/aerc-smtp.5.html">aerc-smtp</a></b>(5) <b><a href="../man5/aerc-maildir.5.html">aerc-maildir</a></b>(5)

</pre><h4><b>AUTHORS</b></h4><pre>
       Originally  created  by  Drew  DeVault and maintained by Robin Jarry who is assisted by other open source
       contributors. For more information about aerc development, see <u>https://sr.ht/~rjarry/aerc/</u>.

                                                   2025-05-31                                    <u><a href="../man5/AERC-NOTMUCH.5.html">AERC-NOTMUCH</a></u>(5)
</pre>
 </div>
</div></section>
</div>
</body>
</html>