<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>gitprotocol-common - Things common to various protocols</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/git-man">git-man_2.50.0-1ubuntu2_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       gitprotocol-common - Things common to various protocols

</pre><h4><b>SYNOPSIS</b></h4><pre>
       &lt;over-the-wire-protocol&gt;

</pre><h4><b>DESCRIPTION</b></h4><pre>
       This document defines things common to various over-the-wire protocols and file formats used in Git.

</pre><h4><b>ABNF</b> <b>NOTATION</b></h4><pre>
       ABNF notation as described by RFC 5234 is used within the protocol documents, except the following
       replacement core rules are used:

             HEXDIG    =  DIGIT / "a" / "b" / "c" / "d" / "e" / "f"

       We also define the following common rules:

             NUL       =  %x00
             zero-id   =  40*"0"
             obj-id    =  40*(HEXDIGIT)

             refname  =  "HEAD"
             refname /=  "refs/" &lt;see discussion below&gt;

       A refname is a hierarchical octet string beginning with "refs/" and not violating the
       <u>git-check-ref-format</u> command’s validation rules. More specifically, they:

        1. They can include slash <b>/</b> for hierarchical (directory) grouping, but no slash-separated component can
           begin with a dot ..

        2. They must contain at least one <b>/</b>. This enforces the presence of a category like <b>heads/</b>, <b>tags/</b> etc.
           but the actual names are not restricted.

        3. They cannot have two consecutive dots .. anywhere.

        4. They cannot have ASCII control characters (i.e. bytes whose values are lower than \040, or \177 <b>DEL</b>),
           space, tilde <b>~</b>, caret <b>^</b>, colon <b>:</b>, question-mark ?, asterisk <b>*</b>, or open bracket [ anywhere.

        5. They cannot end with a slash <b>/</b> or a dot ..

        6. They cannot end with the sequence <b>.lock</b>.

        7. They cannot contain a sequence <b>@</b>{.

        8. They cannot contain a <b>\\</b>.

</pre><h4><b>PKT-LINE</b> <b>FORMAT</b></h4><pre>
       Much (but not all) of the payload is described around pkt-lines.

       A pkt-line is a variable length binary string. The first four bytes of the line, the pkt-len, indicates
       the total length of the line, in hexadecimal. The pkt-len includes the 4 bytes used to contain the
       length’s hexadecimal representation.

       A pkt-line MAY contain binary data, so implementors MUST ensure pkt-line parsing/formatting routines are
       8-bit clean.

       A non-binary line SHOULD BE terminated by an LF, which if present MUST be included in the total length.
       Receivers MUST treat pkt-lines with non-binary data the same whether or not they contain the trailing LF
       (stripping the LF if present, and not complaining when it is missing).

       The maximum length of a pkt-line’s data component is 65516 bytes. Implementations MUST NOT send pkt-line
       whose length exceeds 65520 (65516 bytes of payload + 4 bytes of length data).

       Implementations SHOULD NOT send an empty pkt-line ("0004").

       A pkt-line with a length field of 0 ("0000"), called a flush-pkt, is a special case and MUST be handled
       differently than an empty pkt-line ("0004").

             pkt-line     =  data-pkt / flush-pkt

             data-pkt     =  pkt-len pkt-payload
             pkt-len      =  4*(HEXDIG)
             pkt-payload  =  (pkt-len - 4)*(OCTET)

             flush-pkt    = "0000"

       Examples (as C-style strings):

             pkt-line          actual value
             ---------------------------------
             "0006a\n"         "a\n"
             "0005a"           "a"
             "000bfoobar\n"    "foobar\n"
             "0004"            ""

</pre><h4><b>GIT</b></h4><pre>
       Part of the <b><a href="../man1/git.1.html">git</a></b>(1) suite

Git 2.50.0                                         07/03/2025                              <u><a href="../man5/GITPROTOCOL-COMMON.5.html">GITPROTOCOL-COMMON</a></u>(5)
</pre>
 </div>
</div></section>
</div>
</body>
</html>