<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>mbox - Format for mail message storage.</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/neomutt">neomutt_20250510+dfsg-2_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       mbox - Format for mail message storage.

</pre><h4><b>DESCRIPTION</b></h4><pre>
       This document describes the format traditionally used by Unix hosts to store mail messages locally.  <b>mbox</b>
       files  typically  reside  in the system's mail spool, under various names in users' Mail directories, and
       under the name <b>mbox</b> in users' home directories.

       An <b>mbox</b> is a text file containing an arbitrary number of e-mail messages.  Each  message  consists  of  a
       postmark, followed by an e-mail message formatted according to <b>RFC822</b>, <b>RFC2822</b>.  The file format is line-
       oriented.  Lines are separated by line feed characters (ASCII 10).

       A  postmark  line  consists of the four characters "From", followed by a space character, followed by the
       message's envelope sender address, followed by whitespace, and followed by a time stamp.   This  line  is
       often called From_ line.

       The  sender  address is expected to be <b>addr-spec</b> as defined in <b>RFC2822</b> 3.4.1.  The date is expected to be
       <b>date-time</b> as output by <b><a href="../man3/asctime.3.html">asctime</a></b>(3).  For compatibility  reasons  with  legacy  software,  two-digit  years
       greater  than or equal to 70 should be interpreted as the years 1970+, while two-digit years less than 70
       should be interpreted as the years 2000-2069.  Software reading files  in  this  format  should  also  be
       prepared to accept non-numeric timezone information such as "CET DST" for Central European Time, daylight
       saving time.

       Example:

        &gt;From <a href="mailto:example@example.com">example@example.com</a> Fri Jun 23 02:56:55 2000

       In  order  to  avoid  misinterpretation  of  lines in message bodies which begin with the four characters
       "From", followed by a space character, the mail delivery agent must quote any occurrence of  "From  "  at
       the start of a body line.

       There are two different quoting schemes, the first (<b>MBOXO</b>) only quotes plain "From " lines in the body by
       prepending  a '&gt;' to the line; the second (<b>MBOXRD</b>) also quotes already quoted "From " lines by prepending
       a '&gt;' (i.e. "&gt;From ", "&gt;&gt;From ", ...).  The later has the advantage that lines like

        &gt;From the command line you can use the '-p' option

       aren't dequoted wrongly as a <b>MBOXRD</b>-MDA would turn the line into

        &gt;&gt;From the command line you can use the '-p' option

       before storing it.  Besides <b>MBOXO</b> and <b>MBOXRD</b> there is also <b>MBOXCL</b> which is <b>MBOXO</b> with a "Content-Length:"
       field with the number of bytes in  the  message  body;  some  MUAs  (like  <b><a href="../man1/neomutt.1.html">neomutt</a></b>(1))  do  automatically
       transform  <b>MBOXO</b>  mailboxes  into <b>MBOXCL</b> ones when ever they write them back as <b>MBOXCL</b> can be read by any
       <b>MBOXO</b>-MUA without any problems.

       If the modification-time (usually determined via <b><a href="../man2/stat.2.html">stat</a></b>(2)) of a nonempty <b>mbox</b> file  is  greater  than  the
       access-time  the  file  has new mail.  Many MUAs place a Status: header in each message to indicate which
       messages have already been read.

</pre><h4><b>LOCKING</b></h4><pre>
       Since <b>mbox</b> files are frequently accessed by multiple programs in parallel, <b>mbox</b>  files  should  generally
       not be accessed without locking.

       Three different locking mechanisms (and combinations thereof) are in general use:

       •      <b><a href="../man2/fcntl.2.html">fcntl</a></b>(2)  locking  is  mostly used on recent, POSIX-compliant systems.  Use of this locking method
              is, in particular, advisable if <b>mbox</b> files are accessed through the  Network  File  System  (NFS),
              since it seems the only way to reliably invalidate NFS clients' caches.

       •      <b><a href="../man2/flock.2.html">flock</a></b>(2) locking is mostly used on BSD-based systems.

       If  multiple  methods are combined, implementers should make sure to use the non-blocking variants of the
       <b><a href="../man2/fcntl.2.html">fcntl</a></b>(2) and <b><a href="../man2/flock.2.html">flock</a></b>(2) system calls in order to avoid deadlocks.

       If multiple methods are combined, an <b>mbox</b> file must not be considered to have  been  successfully  locked
       before  all  individual  locks  were  obtained.   When  one  of  the individual locking methods fails, an
       application should release all locks it acquired successfully, and restart the entire  locking  procedure
       from the beginning, after a suitable delay.

       The locking mechanism used on a particular system is a matter of local policy, and should be consistently
       used by all applications installed on the system which access <b>mbox</b> files.  Failure to do so may result in
       loss of e-mail data, and in corrupted <b>mbox</b> files.

</pre><h4><b>FILES</b></h4><pre>
       <u><a href="file:/var/spool/mail/">/var/spool/mail/</a></u>$LOGNAME
              <b>$LOGNAME</b>'s incoming mail folder.

       $HOME<u>/mbox</u>
              user's archived mail messages, in his <b>$HOME</b> directory.

       $HOME<u>/Mail/</u>
              A directory in user's <b>$HOME</b> directory which is commonly used to hold <b>mbox</b> format folders.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man1/neomutt.1.html">neomutt</a></b>(1),  <b><a href="../man2/fcntl.2.html">fcntl</a></b>(2),  <b><a href="../man2/flock.2.html">flock</a></b>(2),  <b><a href="../man2/link.2.html">link</a></b>(2),  <b><a href="../man2/stat.2.html">stat</a></b>(2),  <b><a href="../man3/asctime.3.html">asctime</a></b>(3),  <b><a href="../man5/maildir.5.html">maildir</a></b>(5),  <b><a href="../man5/mmdf.5.html">mmdf</a></b>(5), <b>RFC822</b>, <b>RFC976</b>,
       <b>RFC2822</b>

</pre><h4><b>AUTHOR</b></h4><pre>
       Thomas Roessler &lt;<a href="mailto:roessler@does-not-exist.org">roessler@does-not-exist.org</a>&gt;, Urs Janssen &lt;<a href="mailto:urs@tin.org">urs@tin.org</a>&gt;

</pre><h4><b>HISTORY</b></h4><pre>
       The <b>mbox</b> format occurred in Version 6 AT&amp;T Unix.
       A variant of this format was documented in <b>RFC976</b>.

Unix                                               2002-02-19                                            <u><a href="../man5/mbox.5.html">mbox</a></u>(5)
</pre>
 </div>
</div></section>
</div>
</body>
</html>