<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>lei-mail-formats - description of mail formats supported by lei</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/lei">lei_1.9.0-1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       lei-mail-formats - description of mail formats supported by lei

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b><a href="../man1/lei-q.1.html">lei-q</a></b>(1) supports writing to several existing mail formats for interoperability with existing mail user
       agents (MUA); below is an overview of them to help users choose.

</pre><h4><b>Maildir</b></h4><pre>
       The default output format when given a filesystem path, it supports parallel read-write access.
       Performance is acceptable for smaller directories, but degrades as mailboxes get larger.  Speed and
       scalability are limited by kernel and filesystem performance due to the use of small files and large
       number of syscalls.

       See also: &lt;https://cr.yp.to/proto/maildir.html&gt; and &lt;https://wiki2.dovecot.org/MailboxFormat/Maildir&gt;

</pre><h4><b>Mbox</b> <b>family</b></h4><pre>
       The mbox family consists of several incompatible formats.  Locking for parallel access is supported, but
       may not be compatible across tools.  With compression (e.g. <b><a href="../man1/gzip.1.html">gzip</a></b>(1)), they require the least amount of
       space while offering good read-only performance.

       Keyword updates ("Status:" and/or "X-Status:" headers) generally require rewriting the entire mbox.

       See also: &lt;https://www.loc.gov/preservation/digital/formats/fdd/fdd000383.shtml&gt;, <b><a href="../man5/mbox.5.html">mbox</a></b>(5)

   <b>mboxo</b>
       The traditional BSD format.  It quotes "From " to "&gt;From ", but lines already beginning with "&gt;From " do
       not get quoted, thus automatic reversibility is not guaranteed.  MUAs which favor "mboxcl" or "mboxcl2"
       may convert these automatically to their preferred format.

       Truncation is undetectable unless compressed with gzip or similar.

   <b>mboxrd</b>
       An evolution of "mboxo", but quotes "From " lines prefixed with any number of "&gt;" characters and is thus
       fully reversible.

       This format is emitted by <b>PublicInbox::<a href="../man3pm/WWW.3pm.html">WWW</a></b>(3pm) with gzip.  Since git 2.10, "git am
       --patch-format=mboxrd" reads this format.  "git log" and "git format-patch --stdout" can also generate
       this format with the "--pretty=mboxrd" switch.

       As with uncompressed "mboxo", uncompressed mboxrd are vulnerable to undetectable truncation.

       It gracefully degrades to being treated as "mboxo" by MUAs unaware of the format as excessive "&gt;From "
       quoting is recognizable to humans.

   <b>mboxcl</b>
       "mboxo" with a "Content-Length:" header, "From " lines remain quoted to retain readability with "mboxo"
       and "mboxrd" MUAs.  However, it is easy to corrupt these files when using tools which are not aware of
       "Content-Length:" and write out updates as "mboxo".

       <b><a href="../man1/mutt.1.html">mutt</a></b>(1) will convert "mboxo" and "mboxrd" to mboxcl upon opening.

       See also: &lt;https://www.jwz.org/doc/content-length.html&gt;

   <b>mboxcl2</b>
       Like "mboxcl", but without "From " any quoting.  It is wholly incompatible with MUAs which only handle
       "mboxo" and/or "mboxrd".  This is format is generated by <b><a href="../man1/mutt.1.html">mutt</a></b>(1) when writing to a new mbox.

</pre><h4><b>MH</b></h4><pre>
       Not yet supported, locking semantics (or lack thereof) appear to make it unsuitable for parallel access.
       It is widely-supported by a variety of MUAs and mailing list managers, however.

</pre><h4><b>MMDF</b></h4><pre>
       Not yet supported, and it's unclear if current usage/support makes it worth supporting.

</pre><h4><b>IMAP</b></h4><pre>
       Depending on the IMAP server software and configuration, IMAP servers may use any (or combination) of the
       aforementioned formats or a non-standard database backend.  Currently, lei uses Mail::IMAPClient which
       has acceptable performance over low-latency links.  Performance over high-latency links is currently
       poor.

</pre><h4><b>eml</b></h4><pre>
       A single raw message file.  "eml" is not an output format for lei, but accepted by as an "--input-format"
       ("-F") for read-only commands such as <b><a href="../man1/lei-tag.1.html">lei-tag</a></b>(1) and <b><a href="../man1/lei-import.1.html">lei-import</a></b>(1).

       Since "eml" is the suffix for the "message/rfc822" MIME type (according to the "mime.types" file), lei
       will infer the type based on the ".eml" suffix if "--input-format" is unspecified

       ".patch"-suffixed files generated by <b><a href="../man1/git-format-patch.1.html">git-format-patch</a></b>(1) (without "--stdout") are "eml" files with the
       addition of an mbox "From " header.  <b><a href="../man1/lei.1.html">lei</a></b>(1) removes "From " lines to treat them as "eml" when reading
       these for compatibility with "<a href="../man1/git-am.1.html">git-am</a>(1)" and similar tools.

</pre><h4><b>COPYRIGHT</b></h4><pre>
       Copyright 2021 all contributors &lt;<a href="mailto:meta@public-inbox.org">mailto:meta@public-inbox.org</a>&gt;

       License: AGPL-3.0+ &lt;<a href="http://www.gnu.org/licenses/agpl-3.0.txt">http://www.gnu.org/licenses/agpl-3.0.txt</a>&gt;

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man1/lei.1.html">lei</a></b>(1), <b><a href="../man1/lei-q.1.html">lei-q</a></b>(1), <b><a href="../man1/lei-convert.1.html">lei-convert</a></b>(1), <b><a href="../man7/lei-overview.7.html">lei-overview</a></b>(7)

public-inbox.git                                   1993-10-02                                <u><a href="../man5/LEI-MAIL-FORMATS.5.html">LEI-MAIL-FORMATS</a></u>(5)
</pre>
 </div>
</div></section>
</div>
</body>
</html>