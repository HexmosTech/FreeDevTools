<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>thinkfan.conf.legacy - the old, backwards-compatible config syntax for thinkfan thinkfan(1)</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/thinkfan">thinkfan_1.3.1-6_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       thinkfan.conf.legacy - the old, backwards-compatible config syntax for thinkfan <b><a href="../man1/thinkfan.1.html">thinkfan</a></b>(1)

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The  thinkfan  config file specifies one or more temperature input(s), exactly one fan to control and the
       fan levels.  A fan level associates a certain fan speed to a lower and an upper  temperature  bound.   If
       the temperature reaches the upper bound, we switch to the next fan level, and if it drops below the lower
       bound,  we  switch  to  the  previous  fan  level.  Temperature bounds can either be a single temperature
       (<u>simple</u> <u>mode</u>) or consist of multiple temperatures (<u>complex</u> <u>mode</u>).  In simple mode, only  the  highest  of
       all  known  temperature  is compared to the upper &amp; lower bound.  If you have devices with very different
       temperature ratings (e.g. CPU vs.  mechanical hard drives),  you  should  specify  correction  values  to
       equalize  their  temperature  ranges,  or better: use complex mode.  In complex mode, the upper and lower
       bounds of each fan level are specified for each sensor individually.  Thinkfan then switches to the  next
       fan  level  if one of the upper bounds is reached, and to the previous fan level if all temperatures have
       dropped below their respective lower bounds.

</pre><h4><b>THERMAL</b> <b>SENSORS</b></h4><pre>
       Multiple sensor keywords can be combined in one config file, but note that the  ordering  is  significant
       with   respect   to   the  upper  and  lower  fan  level  bounds  if  you  use  <u>complex</u>  <u>mode</u>.   I.e.  if
       <b>/proc/acpi/ibm/thermal</b> contains 16 temperatures and you specify an  <b>hwmon</b>  sensor  after  the  <b>tp_thermal</b>
       statement,  the  <b>hwmon</b>  sensor  will  be  the  17th  temperature.   After  each  sensor path, an optional
       <u>correction-value</u> can be specified.  This value (can be negative)  is  always  added  to  the  temperature
       reading  from  that sensor.  Correction values should be specified if you use <b>Simple</b> <b>Mode</b> with components
       that have a different temperature rating, like hard disks and CPUs.  Note though  that  <b>Complex</b>  <b>Mode</b>  is
       generally  the better solution since it gives you full control over fan levels and temperature ranges for
       each sensor, instead of just adding a fixed value to equalize temperature ranges.

       <b>tp_thermal</b> <b>/proc/acpi/ibm/thermal</b> [ <b>(</b><u>correction-value</u> ...<b>)</b> ]
              Use the thermal sensors provided by the <b>thinkpad_acpi</b> kernel  module  on  older  thinkpads.  These
              normally  reside  in <b>/proc/acpi/ibm/thermal,</b> so this keyword will hardly be used with other paths.
              This file usually contains 8-16 temperatures, some of which may be reserved for removable hardware
              or completely unused. Unused temperature slots always contain the  value  -128.  Since  this  file
              contains  all  temperatures  the  <b>thinkpad_acpi</b>  module knows about, there cannot be more than one
              <b>tp_thermal</b> statement in a config file.

       <b>hwmon</b> <u>sysfs-path</u> [ <b>(</b><u>correction-value</u><b>)</b> ]
              Use a standard hwmon temperature input that may be  provided  by  all  kinds  of  kernel  drivers.
              <u>sysfs-path</u> is usually a file named ‘temp*_input’, somewhere under <a href="file:/sys">/sys</a>, so you can search for them
              e.g.  with ‘find <a href="file:/sys">/sys</a> -type f -name "temp*_input"’.  Each of these files contains one temperature,
              so you need to add a <b>hwmon</b> statement for each device whose temperature you wish to control.

       <b>atasmart</b> <u>device-path</u> [ <b>(</b><u>correction-value</u><b>)</b> ]
              NOTE: only available if thinkfan was compiled with USE_ATASMART enabled.

              Read the temperature directly from a hard  disk  using  S.M.A.R.T.  See  also  the  <b>-d</b>  option  in
              <b><a href="../man1/thinkfan.1.html">thinkfan</a></b>(1)  that  prevents  thinkfan  from  waking  up  sleeping (mechanical) disks to read their
              temperature.

       <b>nv_thermal</b> <u>pci-bus-id</u> [ <b>(</b><u>correction-value</u><b>)</b> ]
              NOTE: only available if thinkfan was compiled with USE_NVML enabled.

              Read the temperature of an nVidia graphics card from the proprietary nVidia driver. This does  not
              work  with  the  open-source  Nouveau  driver,  it  depends specifially on libnvidia-ml.so that is
              usually installed with the binary nVidia driver.  The correct <u>pci-bus-id</u> can  be  retrieved  using
              e.g.  lspci  with:  ‘lspci  |  grep  -i vga’.  Most open-source graphics drivers (radeon, nouveau,
              possibly others too) can instead be used with the <b>hwmon</b> keyword described above.

</pre><h4><b>FANS</b></h4><pre>
       Currently, thinkfan can control only one fan at a time.  In theory, you can run multiple instances of the
       program simultaneously (with multiple config files) to control multiple fans, but that requires  enabling
       DANGEROUS  mode  and  will  likely  break  most  init  scripts.  It is an error to have more than one fan
       statement per config file.

       <b>tp_fan</b> <b>/proc/acpi/ibm/fan</b>
              Use the fan control provided by the <b>thinkpad_acpi</b> kernel module, which needs to be loaded with the
              option <b>fan_control=1</b>.  The path is defined by the <b>thinkpad_acpi</b>  kernel  module  and  will  hardly
              change.  Besides  the  fan  levels  ranging  from 0 to 7, it also supports the <b>disengaged</b> and <b>auto</b>
              modes.

              The <b>auto</b> mode should delegate fan control to the firmware, so it can be regarded  as  a  ‘default’
              mode that does not change the fan behavior.  This is useful for example if you only want to change
              the fan behavior at high and/or low temperatures.

              The <b>disengaged</b> or <b>full-speed</b> mode effectively disables the fan RPM limiter.  Fan speed will slowly
              ramp  up  until  the fan uses the maximum electrical power available from the embedded controller.
              Use this only to prevent potentially destructive overheating, since it runs  the  fan  outside  of
              specifications and wears its bearings down quickly.

       <b>pwm_fan</b> <u>sysfs-path</u>
              Control  a  sysfs  PWM  fan.   Many hwmon drivers that provide a ‘temp*_input’ file also allow fan
              control, although there may also be drivers that are specific to either temperature reading or fan
              control.  You can search for a PWM control file e.g. with ‘find <a href="file:/sys">/sys</a> -type f -name "pwm?"’.   Note
              that with PWM, fan levels usually range from 0 to 255, although besides a file like <b>pwm1</b> there may
              also  be  <b>pwm1_min</b>  and  <b>pwm1_max</b>  that  specify  different  (soft  or  recommended?) limits for a
              particular fan.

</pre><h4><b>FAN</b> <b>LEVELS</b></h4><pre>
       Defining the fan levels is the meat of the config file. Here you make  use  of  your  previously  defined
       temperature  inputs  to  set  the  lower  and upper bounds for the fan speeds.  You cannot mix simple fan
       levels with complex fan levels.  The general syntax of a simple fan level is:

              <b>(</b> <u>fan-level</u> [<b>,</b>] <u>lower-bound</u> [<b>,</b>] <u>upper-bound</u> <b>)</b>

       The <u>fan-level</u> is either a numeric value (0-7 or 0-255, depending on whether a  <b>tp_fan</b>  or  a  <b>pwm_fan</b>  is
       used)  or a string enclosed in double quotes.  When a <b>tp_fan</b> is used, specifying <b>0</b> has the same effect as
       specifying <b>"level</b> <b>0</b>".  In addition to the numeric fan levels,  <b>tp_fan</b>  also  supports  <b>"level</b>  <b>auto"</b>  and
       <b>"level</b>  <b>disengaged"</b>  or <b>"level</b> <b>full-speed"</b>.  See above for an explanation of what these mean.  The format
       of <u>lower-bound</u> and <u>upper-bound</u> depends on whether you want to use <b>Simple</b> <b>Mode</b> or <b>Complex</b> <b>Mode.</b>

   <b>Simple</b> <b>Mode</b>
       In simple mode, the <u>lower-bound</u> and <u>upper-bound</u> of a fan level are each specified as a single temperature
       value.  Both are compared only to the highest temperature found in all of the configured thermal sensors.
       Using this mode of operation makes sense e.g. if all temperature readings come from  the  on-DIE  thermal
       sensors  of  a  multicore processor.  The fan speed will affect all of these temperatures in the same way
       because they share a single thermal connection to the heatsink, so it makes sense to ignore all  but  the
       highest  of  these  temperatures.  As a rule of thumb, if your thermal sensors cover multiple devices you
       should use Complex Mode, or at least specify correction  values  to  account  for  different  temperature
       ratings.

   <b>Complex</b> <b>Mode</b>
       In complex mode, both the <u>lower-bound</u> and <u>upper-bound</u> are lists of temperatures, the length of which must
       match  the  number  of temperature readings thinkfan knows about.  Each bound must be enclosed in braces,
       with individual values separated by commas or spaces, so the specific syntax of a complex mode fan  level
       is:

              <b>{</b> <u>fan-level</u>
                  <b>(</b> <u>lower-1</u> [<u>lower-2</u> ...] <b>)</b>
                  <b>(</b> <u>upper-1</u> [<u>upper-2</u> ...] <b>)</b>
              <b>}</b>

       The optional commas have been omitted here for readability, and the curly braces are interchangeable with
       round braces.  Note that it is not possible to mix simple fan levels with complex fan levels.

       Complex  mode  is generally the preferred mode of operation since it allows you to specify precisely what
       the fan should to to keep each component within its specified temperature range.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man1/thinkfan.1.html">thinkfan</a></b>(1)

       Example    configs    shipped     with     the     source     distribution,     also     available     at
       <u>https://github.com/vmatare/thinkfan/tree/master/examples</u>.

thinkfan 1.3.1                                     2020-04-09                            <u><a href="../man5/THINKFAN.CONF.LEGACY.5.html">THINKFAN.CONF.LEGACY</a></u>(5)
</pre>
 </div>
</div></section>
</div>
</body>
</html>