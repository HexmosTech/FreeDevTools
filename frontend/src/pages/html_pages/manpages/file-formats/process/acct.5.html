<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>acct - process accounting file</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/manpages">manpages_6.9.1-1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       acct - process accounting file

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>#include</b> <b>&lt;sys/acct.h&gt;</b>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       If the kernel is built with the process accounting option enabled (<b>CONFIG_BSD_PROCESS_ACCT</b>), then calling
       <b><a href="../man2/acct.2.html">acct</a></b>(2) starts process accounting, for example:

           acct("/var/log/pacct");

       When  process accounting is enabled, the kernel writes a record to the accounting file as each process on
       the system terminates.  This record contains information about the terminated process, and is defined  in
       <u>&lt;sys/acct.h&gt;</u> as follows:

           #define ACCT_COMM 16

           typedef u_int16_t comp_t;

           struct acct {
               char ac_flag;           /* Accounting flags */
               u_int16_t ac_uid;       /* Accounting user ID */
               u_int16_t ac_gid;       /* Accounting group ID */
               u_int16_t ac_tty;       /* Controlling terminal */
               u_int32_t ac_btime;     /* Process creation time
                                          (seconds since the Epoch) */
               comp_t    ac_utime;     /* User CPU time */
               comp_t    ac_stime;     /* System CPU time */
               comp_t    ac_etime;     /* Elapsed time */
               comp_t    ac_mem;       /* Average memory usage (kB) */
               comp_t    ac_io;        /* Characters transferred (unused) */
               comp_t    ac_rw;        /* Blocks read or written (unused) */
               comp_t    ac_minflt;    /* Minor page faults */
               comp_t    ac_majflt;    /* Major page faults */
               comp_t    ac_swaps;     /* Number of swaps (unused) */
               u_int32_t ac_exitcode;  /* Process termination status
                                          (see <a href="../man2/wait.2.html">wait</a>(2)) */
               char      ac_comm[ACCT_COMM+1];
                                       /* Command name (basename of last
                                          executed command; null-terminated) */
               char      ac_pad[<u>X</u>];    /* padding bytes */
           };

           enum {          /* Bits that may be set in ac_flag field */
               AFORK = 0x01,           /* Has executed fork, but no exec */
               ASU   = 0x02,           /* Used superuser privileges */
               ACORE = 0x08,           /* Dumped core */
               AXSIG = 0x10            /* Killed by a signal */
           };

       The  <u>comp_t</u>  data  type  is  a  floating-point value consisting of a 3-bit, base-8 exponent, and a 13-bit
       mantissa.  A value, <u>c</u>, of this type can be converted to a (long) integer as follows:

           v = (c &amp; 0x1fff) &lt;&lt; (((c &gt;&gt; 13) &amp; 0x7) * 3);

       The <u>ac_utime</u>, <u>ac_stime</u>, and <u>ac_etime</u> fields measure  time  in  "clock  ticks";  divide  these  values  by
       <u>sysconf(_SC_CLK_TCK)</u> to convert them to seconds.

   <b>Version</b> <b>3</b> <b>accounting</b> <b>file</b> <b>format</b>
       Since  Linux  2.6.8,  an  optional  alternative  version  of  the  accounting file can be produced if the
       <b>CONFIG_BSD_PROCESS_ACCT_V3</b> option is set when building the kernel.  With this option is set, the  records
       written  to  the  accounting  file contain additional fields, and the width of <u>c_uid</u> and <u>ac_gid</u> fields is
       widened from 16 to 32 bits (in line with the increased size of UID and GIDs in Linux 2.4 and later).  The
       records are defined as follows:

           struct acct_v3 {
               char      ac_flag;      /* Flags */
               char      ac_version;   /* Always set to ACCT_VERSION (3) */
               u_int16_t ac_tty;       /* Controlling terminal */
               u_int32_t ac_exitcode;  /* Process termination status */
               u_int32_t ac_uid;       /* Real user ID */
               u_int32_t ac_gid;       /* Real group ID */
               u_int32_t ac_pid;       /* Process ID */
               u_int32_t ac_ppid;      /* Parent process ID */
               u_int32_t ac_btime;     /* Process creation time */
               float     ac_etime;     /* Elapsed time */
               comp_t    ac_utime;     /* User CPU time */
               comp_t    ac_stime;     /* System time */
               comp_t    ac_mem;       /* Average memory usage (kB) */
               comp_t    ac_io;        /* Characters transferred (unused) */
               comp_t    ac_rw;        /* Blocks read or written
                                          (unused) */
               comp_t    ac_minflt;    /* Minor page faults */
               comp_t    ac_majflt;    /* Major page faults */
               comp_t    ac_swaps;     /* Number of swaps (unused) */
               char      ac_comm[ACCT_COMM]; /* Command name */
           };

</pre><h4><b>VERSIONS</b></h4><pre>
       Although it is present on most systems, it is not standardized, and the  details  vary  somewhat  between
       systems.

</pre><h4><b>STANDARDS</b></h4><pre>
       None.

</pre><h4><b>HISTORY</b></h4><pre>
       glibc 2.6.

       Process accounting originated on BSD.

</pre><h4><b>NOTES</b></h4><pre>
       Records in the accounting file are ordered by termination time of the process.

       Up  to  and  including Linux 2.6.9, a separate accounting record is written for each thread created using
       the NPTL threading library; since Linux 2.6.10, a single accounting record  is  written  for  the  entire
       process on termination of the last thread in the process.

       The  <u><a href="file:/proc/sys/kernel/acct">/proc/sys/kernel/acct</a></u>  file,  described  in  <b><a href="../man5/proc.5.html">proc</a></b>(5),  defines settings that control the behavior of
       process accounting when disk space runs low.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man1/lastcomm.1.html">lastcomm</a></b>(1), <b><a href="../man2/acct.2.html">acct</a></b>(2), <b><a href="../man8/accton.8.html">accton</a></b>(8), <b><a href="../man8/sa.8.html">sa</a></b>(8)

Linux man-pages 6.9.1                              2024-05-02                                            <u><a href="../man5/acct.5.html">acct</a></u>(5)
</pre>
 </div>
</div></section>
</div>
</body>
</html>