<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>startup-config - configuration file for l2tpns</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/l2tpns">l2tpns_2.4.1-3_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       startup-config - configuration file for l2tpns

</pre><h4><b>SYNOPSIS</b></h4><pre>
       /etc/l2tpns/startup-config

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>startup-config</b> is the configuration file for <b>l2tpns</b>

       The format is plain text, in the same format as accepted by the configuration mode of l2tpns’s telnet ad‐
       ministrative interface.  Comments are indicated by either the character # or !.

   <b>SETTINGS</b>
       Settings are specified with

       <b>set</b> variable value

       A list of the possible configuration directives follows.  Each of these should be set by a line like:

       <b>set</b> <u>configstring</u> <u>“value”</u>
       <b>set</b> <u>ipaddress</u> <u>192.168.1.1</u>
       <b>set</b> <u>boolean</u> <u>true</u>

       The following variables may be set:

       <b>accounting_dir</b> (string)

              If set to a directory, then every 5 minutes the current usage for every connected use will be dumped to a file in this directory. Each file dumped begins with a header, where each line is prefixed by #. Following the header is a single line for every connected user, fields separated by a space.

              The fields are username, ip, qos, uptxoctets, downrxoctets, origin (optional). The qos field is 1 if a standard user, and 2 if the user is throttled. The origin field is dump if account_all_origin is set to true (origin value: L=LAC data, R=Remote LNS data, P=PPPOE data).

       <b>account_all_origin</b> (boolean)

              If set to true, all origin of the usage is dumped to the accounting file (LAC+Remote LNS+PPPOE)(default false).

       <b>allow_duplicate_users</b> (boolean)

              Allow multiple logins with the same username. If false (the default), any prior session with the same username will be dropped when a new session is established.

       <b>auth_tunnel_change_addr_src</b> (boolean)

              This parameter authorize to change the source IP of the tunnels l2tp. This parameter can be used when the remotes BAS/LAC are l2tpns server configured in cluster mode, but that the interface to remote LNS are not clustered (the tunnel can be coming from different source IP) (default: no).

       <b>bind_address</b> (ip address)

              It's the listen address of the l2tp udp protocol sent and received to LAC. This address is also assigned to the tun interface if no iftun_address is specified. Packets containing user traffic should be routed via this address if given, otherwise the primary address of the machine.

       <b>bind_multi_address</b> (ip address)

              This parameter permit one to listen several address of the l2tp udp protocol (and set several address to the tun interface).

              WHEN this parameter is set, It OVERWRITE the parameters "bind_address" and "iftun_address".

              these can be interesting when you want do load-balancing in cluster mode of the uploaded from the LAC. For example you can set a bgp.prepend(MY_AS) for Address1 on LNS1 and a bgp.prepend(MY_AS) for Address2 on LNS2 (see BGP AS-path prepending).

              example of use with 2 address:

              set bind_multi_address "64.14.13.41, 64.14.13.42"

       <b>cluster_address</b> (ip address)

              Multicast cluster address (default: 239.192.13.13). See the section on Clustering for more information.

       <b>cluster_port</b> (int)

              UDP cluster port (default: 32792). See the section on Clustering for more information.

       <b>cluster_interface</b> (string)

              Interface for cluster packets (default: eth0).

       <b>cluster_mcast_ttl</b> (int)

              TTL for multicast packets (default: 1).

       <b>cluster_hb_interval</b> (int)

              Interval in tenths of a second between cluster heartbeat/pings.

       <b>cluster_hb_timeout</b> (int)

              Cluster heartbeat timeout in tenths of a second. A new master will be elected when this interval has been passed without seeing a heartbeat from the master.

       <b>cluster_master_min_adv</b> (int)

              Determines the minimum number of up to date slaves required before the master will drop routes (default: 1).

       <b>debug</b> (int)

              Set the level of debugging messages written to the log file. The value should
              be between 0 and 5, with 0 being no debugging, and 5 being the highest.
              A rough description of the levels is:

              - 0. Critical Errors - Things are probably broken
              - 1. Errors - Things might have gone wrong, but probably will recover
              - 2. Warnings - Just in case you care what is not quite perfect
              - 3. Information - Parameters of control packets
              - 4. Calls - For tracing the execution of the code
              - 5. Packets - Everything, including a hex dump of all packets processed... probably twice

              Note that the higher you set the debugging level, the slower the program will run. Also, at level 5 a LOT of information will be logged. This should only ever be used for working out why it doesn't work at all.

       <b>dump_speed</b> (boolean)

              If set to true, then the current bandwidth utilization will be logged every second. Even if this is disabled, you can see this information by running the uptime command on the CLI.

       <b>disable_sending_hello</b> (boolean)

              Disable l2tp sending HELLO message for Apple compatibility. Some OS X implementation of l2tp no manage the L2TP "HELLO message". (default: no).

       <b>echo_timeout</b> (int)

              Time between last packet sent and LCP ECHO generation (default: 10 (seconds)).

       <b>guest_account</b>

              Allow multiple logins matching this specific username.

       <b>icmp_rate</b> (int)

              Maximum number of host unreachable ICMP packets to send per second.

       <b>idle_echo_timeout</b> (int)

              Drop sessions who have not responded within idle_echo_timeout seconds (default: 240 (seconds))

       <b>iftun_address</b> (ip address)

              This parameter is used when you want a tun interface address different from the address of "bind_address" (For use in cases of specific configuration). If no address is given to iftun_address and bind_address, 1.1.1.1 is used.

       <b>l2tp_mtu</b> (int)

              MTU of interface for L2TP traffic (default: 1500). Used to set link MRU and adjust TCP MSS.

       <b>l2tp_secret</b> (string)

       The secret used by l2tpns for authenticating tunnel request.  Must be the same as the LAC, or authentica‐
       tion will fail.  Only actually be used if the LAC requests authentication.

       <b>lock_pages</b> (boolean)

       Keep all pages mapped by the l2tpns process in memory.

       <b>log_file</b> (string)

       This  will  be  where  all logging and debugging information is written to.This may be either a filename,
       such as /var/log/l2tpns, or the string syslog:facility, where facility is any one of the  syslog  logging
       facilities, such as local5.

       <b>multi_read_count</b> (int)

       Number  of  packets to read off each of the UDP and TUN fds when returned as readable by select (default:
       10).  Avoids incurring the unnecessary system call overhead of select on busy servers.

       <b>packet_limit</b> (int&gt;

       Maximum number of packets of downstream traffic to be handled each tenth of a second per session.  If ze‐
       ro, no limit is applied (default: 0).  Intended as a DoS prevention mechanism and not  a  general  throt‐
       tling control (packets are dropped, not queued).

       <b>peer_address</b> (ip address)

       Address to send to clients as the default gateway.

       <b>pid_file</b> (string)

       If set, the process id will be written to the specified file.  The value must be an absolute path.

       <b>ppp_keepalive</b> (boolean)

       Change this value to no to force generation of LCP ECHO every echo_timeout seconds, even there are activ‐
       ity on the link (default: yes)

       <b>ppp_restart_time</b> (int) <b>ppp_max_configure</b> (int) <b>ppp_max_failure</b> (int)

       PPP counter and timer values, as described in Section 4.1 of RFC1661.

       <u>ppp_restart_time</u>, Restart timer for PPP protocol negotiation in seconds (default: 3).

       <u>ppp_max_configure</u>, Number of configure requests to send before giving up (default: 10).

       <u>ppp_max_failure</u>, Number of Configure-Nak requests to send before sending a Configure-Reject (default: 5).

       <b>primary_dns</b> (ip address), <b>secondary_dns</b> (ip address)

       Whenever a PPP connection is established, DNS servers will be sent to the user, both a primary and a sec‐
       ondary.  If either is set to 0.0.0.0, then that one will not be sent.

       <b>primary_radius</b> (ip address), <b>secondary_radius</b> (ip address)

       Sets  the RADIUS servers used for both authentication and accounting.  If the primary server does not re‐
       spond, then the secondary RADIUS server will be tried.

       Note: in addition to the source IP address and identifier, the RADIUS server must include the source port
       when detecting duplicates to suppress (in order to cope with a large number of  sessions  coming  on-line
       simultaneously l2tpns uses a set of udp sockets, each with a separate identifier).

       <b>primary_radius_port</b> (short), <b>secondary_radius_port</b> (short)

       Sets  the  authentication ports for the primary and secondary RADIUS servers.  The accounting port is one
       more than the authentication port.  If no RADIUS ports are given, the  authentication  port  defaults  to
       1812, and the accounting port to 1813.

       <b>radius_accounting</b> (boolean)

       If set to true, then RADIUS accounting packets will be sent.  This means that a <b>Start</b> record will be sent
       when  the  session  is  successfully  authenticated,  and  a <b>Stop</b> record will be sent when the session is
       closed.

       <b>radius_interim</b> (int)

       If radius_accounting is on, defines the interval between sending of RADIUS interim accounting records (in
       seconds).

       <b>radius_secret</b> (string)

       This secret will be used in all RADIUS queries.  If this is not set then RADIUS queries will fail.

       <b>radius_authtypes</b> (string)

       A comma separated list of supported RADIUS authentication methods (“pap” or “chap”), in order of  prefer‐
       ence (default “pap”).

       <b>radius_dae_port</b> (short)

       Port for DAE RADIUS (Packet of Death/Disconnect, Change of Authorization) requests (default: 3799).

       <b>radius_bind_min</b>, <b>radius_bind_max</b> (int)

       Define  a  port range in which to bind sockets used to send and receive RADIUS packets.  Must be at least
       RADIUS_FDS (64) wide.  Simplifies firewalling of RADIUS ports (default: dynamically assigned).

       <b>random_device</b> (string)

       Path to random data source (default /dev/urandom).  Use "" to use the rand() library function.

       <b>scheduler_fifo</b> (boolean)

       Sets the scheduling policy for the l2tpns process to SCHED_FIFO.  This causes the kernel  to  immediately
       preempt  any currently running SCHED_OTHER (normal) process in favour of l2tpns when it becomes runnable.
       Ignored on uniprocessor systems.

       <b>send_garp</b> (boolean)

       Determines whether or not to send a gratuitous ARP for the bind_address when the server is ready to  han‐
       dle traffic (default: true).  This value is ignored if BGP is configured.

       <b>tundevicename</b> (string)

       Name of the tun interface (default: “tun0”).

       <b>throttle_speed</b> (int)

       Sets  the default speed (in kbits/s) which sessions will be limited to.  If this is set to 0, then throt‐
       tling will not be used at all.  Note: You can set this by the CLI, but changes will not affect  currently
       connected users.

       <b>throttle_buckets</b> (int)

       Number  of token buckets to allocate for throttling.  Each throttled session requires two buckets (in and
       out).

   <b>DHCPv6</b> <b>And</b> <b>IPv6</b> <b>SETTINGS</b>
       <b>dhcp6_preferred_lifetime</b> (int)

       The preferred lifetime for the IPv6 address and the IPv6 prefix address, expressed in  units  of  seconds
       (see rfc3315).

       <b>dhcp6_valid_lifetime</b> (int)

       The  valid  lifetime for the IPv6 address and the IPv6 prefix address, expressed in units of seconds (see
       rfc3315).

       <b>dhcp6_server_duid</b> (int)

       DUID Based on Link-layer Address (DUID-LL) (see rfc3315).

       <b>primary_ipv6_dns</b>, <b>secondary_ipv6_dns</b> (Ipv6 address)

       IPv6 DNS servers will be sent to the user (see rfc3646).

       <b>default_ipv6_domain_list</b> (string)

       The Domain Search List (ex: “fdn.fr”) (see rfc3646).

       <b>ipv6_prefix</b> (Ipv6 address)

       Enable negotiation of IPv6.  This forms the the first 64 bits of the client allocated address.   The  re‐
       maining 64 come from the allocated IPv4 address and 4 bytes of 0.

   <b>LAC</b> <b>SETTINGS</b>
       <b>bind_address_remotelns</b> (ip address)

       Address  of  the  interface to listen the remote LNS tunnels.  If no address is given, all interfaces are
       listened (Any Address).

       <b>bind_portremotelns</b> (short)

       Port to bind for the Remote LNS (default: 65432).

       A static REMOTES LNS configuration can be entered by the command:

       <b>setforward</b> <u>MASK</u> <u>IP</u> <u>PORT</u> <u>SECRET</u>

       where MASK specifies the mask of users who have forwarded to remote LNS (ex: “/<a href="mailto:friendISP@company.com">friendISP@company.com</a>”).

       where IP specifies the IP of the remote LNS (ex: “66.66.66.55”).

       where PORT specifies the L2TP Port of the remote LNS (Normally should be 1701) (ex: 1701).

       where SECRET specifies the secret password the remote LNS (ex: mysecret).

       The static REMOTE LNS configuration can be used when the friend ISP not have a proxied Radius.

       If a proxied Radius is used, It will return the RADIUS attributes:

       Tunnel-Type:1 = L2TP
       Tunnel-Medium-Type:1 = IPv4
       Tunnel-Password:1 = “LESECRETL2TP”
       Tunnel-Server-Endpoint:1 = “88.xx.xx.x1”
       Tunnel-Assignment-Id:1 = “friendisp_lns1”
       Tunnel-Type:2 += L2TP
       Tunnel-Medium-Type:2 += IPv4
       Tunnel-Password:2 += “LESECRETL2TP”
       Tunnel-Server-Endpoint:2 += “88.xx.xx.x2”
       Tunnel-Assignment-Id:2 += “friendisp_lns2”

   <b>PPPOE</b> <b>SETTINGS</b>
       <b>pppoe_if_to_bind</b> (string)

       PPPOE server interface to bind (ex: “eth0.12”), If not specified the server PPPOE is  not  enabled.   For
       the  pppoe  clustering,  all  the  interfaces PPPOE of the clusters must use the same HW address (MAC ad‐
       dress).

       <b>pppoe_service_name</b> (string)

       PPPOE service name (default: NULL).

       <b>pppoe_ac_name</b> (string)

       PPPOE access concentrator name (default: “l2tpns-pppoe”).

       <b>pppoe_only_equal_svc_name</b> (boolean)

       If set to yes, the PPPOE server only accepts clients with a “service-name”  different  from  NULL  and  a
       “service-name” equal to server “service-name” (default: no).

   <b>BGP</b> <b>ROUTING</b>
       The routing configuration section is entered by the command

       <b>router</b> <b>bgp</b> <u>as</u>

       where <u>as</u> specifies the local AS number.

       Subsequent  lines  prefixed with <b>neighbour</b> <u>peer</u> define the attributes of BGP neighhbours.  Valid commands
       are:

       <b>neighbour</b> <u>peer</u> <b>remote-as</b> <u>as</u>

       <b>neighbour</b> <u>peer</u> <b>timers</b> <u>keepalive</u> <u>hold</u>

       Where <u>peer</u> specifies the BGP neighbour as either a hostname or IP address, <u>as</u> is the remote AS number and
       <u>keepalive</u>, <u>hold</u> are the timer values in seconds.

   <b>NAMED</b> <b>ACCESS</b> <b>LISTS</b>
       Named access lists may be defined with either of

       <b>ip</b> <b>access-list</b> <b>standard</b> <u>name</u>
       <b>ip</b> <b>access-list</b> <b>extended</b> <u>name</u>

       Subsequent lines starting with permit or deny define the body of the access-list.

   <b>Standard</b> <b>Access</b> <b>Lists</b>
       Standard access lists are defined with:

       {<b>permit</b>|<b>deny</b>} <u>source</u> [<u>dest</u>]

       Where <u>source</u> and <u>dest</u> specify IP matches using one of:

       <u>address</u> <u>wildard</u>
       <b>host</b> <u>address</u>
       <b>any</b>

       <u>address</u> and <u>wildard</u> are in dotted-quad notation, bits in the <u>wildard</u> indicate which address bits  in  <u>ad‐</u>
       <u>dress</u> are relevant to the match (0 = exact match; 1 = don’t care).

       The shorthand `host address' is equivalent to `<u>address</u> <b>0.0.0.0</b>'; `<b>any</b>' to `<b>0.0.0.0</b> <b>255.255.255.255</b>'.

   <b>Extended</b> <b>Access</b> <b>Lists</b>
       Extended access lists are defined with:

       {<b>permit</b>|<b>deny</b>} <u>proto</u> <u>source</u> [<u>ports</u>] <u>dest</u> [<u>ports</u>] [<u>flags</u>]

       Where <u>proto</u> is one of <b>ip</b>, <b>tcp</b> or <b>udp</b>, and <u>source</u> and <u>dest</u> are as described above for standard lists.

       For TCP and UDP matches, source and destination may be optionally followed by a ports specification:

       {<b>eq|neq|gt|lt</b>} <u>port</u>
       <b>range</b> <u>from</u> <u>to</u>

       <u>flags</u> may be one of:

       {<b>match-any|match-all</b>} {<b>+|-</b>}{<b>fin|syn|rst|psh|ack|urg</b>} ...

              Match packets with any or all of the tcp flags set (+) or clear (-).

       <b>established</b>

              Match "established" TCP connections: packets with RST or ACK set, and SYN clear.

       <b>fragments</b>

              Match IP fragments. May not be specified on rules with layer 4 matches.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <a href="../man8/l2tpns.8.html">l2tpns</a>(8), <a href="../man8/nsctl.8.html">nsctl</a>(8)

</pre><h4><b>AUTHORS</b></h4><pre>
       l2tpns developers &lt;<a href="mailto:l2tpns@lists.ffdn.org">l2tpns@lists.ffdn.org</a>&gt;.

Configuration file for l2tpns                   January 31, 2021                               <u><a href="../man5/STARTUP-CONFIG.5.html">STARTUP-CONFIG</a></u>(5)
</pre>
 </div>
</div></section>
</div>
</body>
</html>