<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>nilfs_cleanerd.conf - nilfs_cleanerd(8) configuration file</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/nilfs-tools">nilfs-tools_2.2.11-2_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       nilfs_cleanerd.conf - <a href="../man8/nilfs_cleanerd.8.html">nilfs_cleanerd</a>(8) configuration file

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The  <u>nilfs_cleanerd.conf</u>  file  is  the  configuration file for the <b><a href="../man8/nilfs_cleanerd.8.html">nilfs_cleanerd</a></b>(8) which reclaims disk
       space of the NILFS2 filesystem.  This file specifies the parameters related to  garbage  collection  (GC)
       and behaviour of the daemon program.

       The  file  contains keyword argument pairs or keyword-only directives, one per line.  Lines starting with
       '#' are interpreted as comments.  The comment lines and empty lines are ignored.

</pre><h4><b>PARAMETERS</b></h4><pre>
       The possible keywords and their meanings are as follows (keywords and arguments are both case-sensitive):

       <b>protection_period</b>
              Specify the period during which each checkpoint  is  protected  from  the  garbage  collector  (in
              seconds).   NILFS2  GC never deletes checkpoints and their blocks whose duration time is less than
              the value.  The default value is 3600, meaning one hour.

       <b>min_clean_segments</b>
              Specify the minimum number of clean segments. A value of 0  means  continuous  cleaning.  A  value
              greater than 0 means pause cleaning until less than min_clean_segments are available.

       <b>max_clean_segments</b>
              Specify  the  maximum number of clean segments. If min_clean_segments is 0, this value is ignored.
              If  more  than  max_clean_segments  are   available   cleaning   is   paused   until   less   than
              min_clean_segments are available.

       <b>min_clean_segments</b>   and  <b>max_clean_segments</b>  may  be  followed  by  a  percent  sign  or  the  following
       multiplicative suffixes: kB 1000, K 1024, MB 1000*1000, M 1024*1024, GB 1000*1000*1000, G 1024*1024*1024,
       and so on for T, P, E.  If the argument is followed by a percent sign,  it  represents  a  disk  capacity
       ratio.

       The  default  values  of  <b>min_clean_segments</b>  and  <b>max_clean_segments</b>  are  10  percent  and  20  percent
       respectively.

       <b>clean_check_interval</b>
              Specify the interval to wait between checks of min_clean_segments.  If  min_clean_segments  is  0,
              this value is ignored.  The default value is 10.

       <b>selection_policy</b>
              Specify  the  GC policy. At present, only the `<b>timestamp</b>' policy, which reclaims segments in order
              from oldest to newest, is support.

       <b>nsegments_per_clean</b>
              Specify the number of segments reclaimed by a single cleaning step.  The default value is 2.

       <b>mc_nsegments_per_clean</b>
              Specify the number  of  segments  reclaimed  by  a  single  cleaning  step  if  clean  segments  &lt;
              min_clean_segments.  The default value is 4.

       <b>cleaning_interval</b>
              Specify the cleaning interval in seconds.  The default value is 5.

       <b>mc_cleaning_interval</b>
              Specify  the  cleaning  interval  in  seconds if clean segments &lt; min_clean_segments.  The default
              value is 1.

       <b>retry_interval</b>
              Specify retry interval in seconds.  This value provides the  retry  interval  of  GC  in  case  of
              resource shortages.  The default value is 60.

       <b>use_mmap</b>
              Specify  whether  to  use  <b><a href="../man2/mmap.2.html">mmap</a></b>(2)  for  reading  segments.  At present, this option is enabled if
              supported regardless of this directive.

       <b>use_set_suinfo</b>
              Specify whether to use the set_suinfo ioctl  if  it  is  supported.  This  is  necessary  for  the
              <b>min_reclaimable_blocks</b> feature. By disabling this switch <b>min_reclaimable_blocks</b> is also disabled.

       <b>min_reclaimable_blocks</b>
              Specify the minimum number of reclaimable blocks in a segment before it can be cleaned.

       <b>mc_min_reclaimable_blocks</b>
              Specify  the  minimum number of reclaimable blocks in a segment before it can be cleaned. if clean
              segments &lt; min_clean_segments.

       <b>min_reclaimable_blocks</b> and <b>mc_min_reclaimable_blocks</b> may be followed by a percent sign or  the  following
       multiplicative suffixes: kB 1000, K 1024, MB 1000*1000, M 1024*1024, GB 1000*1000*1000, G 1024*1024*1024,
       and  so on for T, P, E.  If the argument is followed by a percent sign, it represents the ratio of blocks
       in a segment.

       The default values of <b>min_reclaimable_blocks</b> and <b>mc_min_reclaimable_blocks</b> are 10 percent and  1  percent
       respectively.

       <b>log_priority</b>
              Gives the verbosity level that is used when logging messages from <b><a href="../man8/nilfs_cleanerd.8.html">nilfs_cleanerd</a></b>(8).  The possible
              values are: <b>emerg</b>, <b>alert</b>, <b>crit</b>, <b>err</b>, <b>warning</b>, <b>notice</b>, <b>info</b>, and <b>debug</b>.  The default is <b>info</b>.

       Since  nilfs-utils 2.1, subsecond value can be specified for time interval parameters in decimal fraction
       format.     This    applies    to     <b>protection_period</b>,     <b>clean_check_interval</b>,     <b>cleaning_interval</b>,
       <b>mc_cleaning_interval</b>, and <b>retry_interval</b>.

</pre><h4><b>FILES</b></h4><pre>
       <u>/etc/nilfs_cleanerd.conf</u>
              Configuration file for <b><a href="../man8/nilfs_cleanerd.8.html">nilfs_cleanerd</a></b>(8).

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man8/nilfs_cleanerd.8.html">nilfs_cleanerd</a></b>(8).

nilfs-utils version 2.2                             Apr 2014                              <u><a href="../man5/NILFS_CLEANERD.CONF.5.html">NILFS_CLEANERD.CONF</a></u>(5)
</pre>
 </div>
</div></section>
</div>
</body>
</html>