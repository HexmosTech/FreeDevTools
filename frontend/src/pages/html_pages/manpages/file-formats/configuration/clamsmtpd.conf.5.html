<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>clamsmtpd.conf — the configuration file for clamsmtpd(8)</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/clamsmtp">clamsmtp_1.10-18_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       clamsmtpd.conf — the configuration file for <u><a href="../man8/clamsmtpd.8.html">clamsmtpd</a></u>(8)

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <u><a href="../man8/clamsmtpd.8.html">clamsmtpd</a></u>(8)  reads  a  configuration file when starting up. The location of the file is dependent on how
       you compiled clamsmtp but it should usually be in either the <u><a href="file:/usr/local/etc/">/usr/local/etc/</a></u>  or  <u><a href="file:/etc/">/etc/</a></u>  directories.  If
       <u><a href="../man8/clamsmtpd.8.html">clamsmtpd</a></u>(8)  does not find its configuration file it'll print a warning when it starts up along with the
       location it's expecting to find it in. You can also specify a different location for  a  config  file  by
       passing the <b>-f</b> argument to <u><a href="../man8/clamsmtpd.8.html">clamsmtpd</a></u>(8)

       The  settings  are specified one per line. The setting names come first, followed by a colon and then the
       value. Comments start with the '#' character on a line  of  their  own.  Whitespace  is  ignored  at  the
       beginning of line, end of line and around the colons.

       A sample configuration file can be found in the <u>doc/</u> directory of the clamsmtp distribution.

</pre><h4><b>SETTINGS</b></h4><pre>
       The various settings are as follows:

       <u>Action</u>      This option controls what <u><a href="../man8/clamsmtpd.8.html">clamsmtpd</a></u>(8) does when it finds a virus. The options are:

                   <u>bounce</u>  Bounce  the  email.  In  most  cases this is not a good idea since many viruses spoof
                   sender addresses.

                   <u>drop</u> Silently drop the email. Recommended.

                   <u>pass</u> Pass on the email. Inserts an 'X-Virus-Infected' header.

                   [ Default: drop ]

       <u>ClamAddress</u>
                   Specifies the address to connect to <u><a href="../man8/clamd.8.html">clamd</a></u>(8) on. See syntax of addresses below.

                   [ Default: <u>/var/run/clamav/clamd</u> ]

       <u>Header</u>      A header to add to scanned messages. Put an empty value to suppress adding a header. You  can
                   include the following special formatting characters in the string to include special values:

                   <u>%i</u> Client IP Address

                   <u>%l</u> Local IP Address

                   <u>%d</u> Current Date

                   You can also include the standard \r or \n escapes.

                   [ Default: 'X-Virus-Scanned: ClamAV using ClamSMTP' ]

       <u>KeepAlives</u>  On  slow  connections  the  server  will  sometimes  timeout  before <u><a href="../man8/clamsmtpd.8.html">clamsmtpd</a></u>(8) is finished
                   scanning the file. This option sends NOOP's to the  server  to  keep  the  connection  alive.
                   Specify the number of seconds, or 0 to disable.

                   [ Default: 0 ]

       <u>Listen</u>      The address and port to listen for SMTP connections on. See syntax of addresses below.

                   [ Default: port 10025 on all local IP addresses ]

       <u>PidFile</u>     Specifies  a  location  for  the  a  process id file to be written to. This file contains the
                   process id of <b>clamsmtpd.conf</b> and can be used to stop the daemon. If the <b>-p</b> argument is passed
                   on the command line, then this setting will be ignored.

                   [ Default: none ]

       <u>Quarantine</u>  Quarantine files that contain viruses by leaving them in  the  <u>TempDirectory</u>  directory.  The
                   file names look like this (where X is a random character or number): <u>virus.XXXXXX</u>

                   [ Default: off ]

       <u>MaxConnections</u>
                   Specifies  the  maximum  number  of connections to accept at once.  <u><a href="../man8/clamd.8.html">clamd</a></u>(8) also needs to be
                   setup to accept at least this number of connections.

                   [ Default: 64 ]

       <u>OutAddress</u>  The address of the SMTP server to send email  to  once  it's  been  scanned.  See  syntax  of
                   addreses below.

                   [ Required ]

       <u>TempDirectory</u>
                   The  directory to write temp files to. This directory needs to be accessible to both <u><a href="../man8/clamd.8.html">clamd</a></u>(8)
                   and <u><a href="../man8/clamsmtpd.8.html">clamsmtpd</a></u>(8)

                   [ Default: <u><a href="file:/tmp">/tmp</a></u> ]

       <u>TimeOut</u>     The number of seconds to wait while reading data from network connections.

                   [ Default: 180 seconds ]

       <u>TransparentProxy</u>
                   This option enables transparent proxy support, which allows you to  route  all  SMTP  traffic
                   that's  going  through  a  gateway  through  clamsmtp which will then send it on to its final
                   destination. This setup usually involves firewall rules which redirect traffic  to  clamsmtp,
                   and the setup varies from OS to OS.

                   [ Default: off ]

       <u>User</u>        The user to run as. If this option is specified then <u><a href="../man8/clamsmtpd.8.html">clamsmtpd</a></u>(8) must be started as root. It
                   will  then  drop root privileges and run as the specified user. The user can either be a name
                   or a numerical user id.

                   [ Optional ]

       <u>VirusAction</u>
                   This is a command to run when a virus is found. See the VIRUS ACTION section in  <u><a href="../man8/clamsmtpd.8.html">clamsmtpd</a></u>(8)
                   for a discussion of this option.

                   [ Default: off ]

       <u>XClient</u>     Send  an  XCLIENT  command  to  the  receiving  server.  This is useful for forwarding client
                   addresses and connection info to servers that support this feature.

                   [ Default: off ]

</pre><h4><b>ADDRESSES</b></h4><pre>
       Addresses can be specified in multiple formats:

       <b>•</b>   Unix local addresses can be specified by specifying their full path.  (ie: '/var/run/clamav/clamd').

       <b>•</b>   IP addresses can be specified using dotted  notation  with  a  colon  before  the  port  number  (ie:
           '127.0.0.1:3310').

       <b>•</b>   IPv6 addresses are implemented but disabled. The code needs testing.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <u><a href="../man8/clamsmtpd.8.html">clamsmtpd</a></u>(8)

</pre><h4><b>AUTHOR</b></h4><pre>
       Stef Walter &lt;<a href="mailto:stef@memberwebs.com">stef@memberwebs.com</a>&gt;

clamsmtp                                         September, 2004                               <u><a href="../man5/clamsmtpd.conf.5.html">clamsmtpd.conf</a></u>(5)
</pre>
 </div>
</div></section>
</div>
</body>
</html>