<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>mpd_sima.cfg - mpd-sima configuration.</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/mpd-sima">mpd-sima_0.18.2-3_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       mpd_sima.cfg - mpd-sima configuration.

</pre><h4><b>DESCRIPTION</b></h4><pre>
       This  manual  page  documents briefly <b>mpd-sima</b> configuration options available in user configuration file
       (see <u>FILES</u>).

</pre><h4><b>EXAMPLES</b></h4><pre>
   <b>File</b> <b>tags</b> <b>queue</b> <b>mode</b> <b>(offline</b> <b>mode).</b>
       Here is an example of autoqueue using file tags only.

          [MPD]
          # Uses defaults for MPD connection
          #host = localhost
          #port = 6600
          #password = s3cr3t

          [sima] # Setup internal plugins
          # Tags plugin falls back to Random if nothing is found then Crop the queue
          internal = Tags, Random, Crop
          history_duration = 48  # 48h / 24 = 2 days
          queue_length = 2       # triggers autoqueue when 2 tracks remains to play

          [tags]
          # Look for files with tagged with genre "electronica" OR "IDM" OR "glitch"
          genre = electronica, IDM, glitch

          [crop]
          # keep 30 played tracks in playlist
          consume = 30

   <b>Album</b> <b>queue</b> <b>mode</b> <b>using</b> <b>last.fm</b> <b>recommendations</b> <b>(online</b> <b>mode).</b>
       Here is an example of album queue configuration using online recommendations system.

          [sima]
          history_duration = 96  # 4 days in hours, get a larger history for album mode
          queue_length = 5

          [crop]
          consume = 20

          [lastfm]
          queue_mode = album
          album_to_add = 1

</pre><h4><b>CONFIGURATION</b> <b>FILE</b></h4><pre>
       The configuration file consists of sections, led by  a  <b>[section]</b>  header  and  followed  by  <b>name:</b> <b>value</b>
       entries, with continuations in the style of <u>RFC</u> <u>822</u> (see section 3.1.1, “LONG HEADER FIELDS”); <b>name=value</b>
       is  also  accepted. Lines beginning with <b>'#'</b> or <b>';'</b> are ignored and may be used to provide comments (<u>Nota</u>
       <u>Bene:</u> inline comment are possible using <b>'#'</b>).

       The default values are used in the options lists below.

   <b>MPD</b> <b>section</b>
       This section is meant to configure MPD access, MPD host address / port and password if necessary.

       <b>[MPD]</b>

       <b>host=localhost</b>
              Set MPD host. Use IP or FQDN.

       <b>port=6600</b>
              Set host port to access MPD to.

       <b>password=s3cr3t</b>
              Set MPD password to use. Do not use this option if  you  don't  have  enabled  password  protected
              access on your MPD server.

   <b>log</b> <b>section</b>
       Configure logging.

       <b>[log]</b>

       <b>logfile=</b>
              File to log to, usually in dæmon mode.Default (empty or unset) is to log to stdin/stdout.

       <b>verbosity=info</b>
              Logging verbosity among debug, info, warning, error.

   <b>Process</b> <b>daemonization</b>
       Configure process daemon.

       <b>[daemon]</b>

       <b>daemon=false</b>
              Whether to daemonize process or not.

       <b>pidfile=</b>
              Where to store process ID.

   <b>sima</b> <b>section</b>
       Core mpd-sima configuration.

       <b>[sima]</b>

       <b>internal=Lastfm,</b> <b>Random,</b> <b>Crop</b>
              mpd-sima's plugin management for internal source plugin and contrib (ie. external plugins).

              Plugins list is a comma separated string list.

              Optional  plugin's configuration lays in its own section.  For instance a "AwesomePlugin" declared
              here gets its configuration from the corresponding section "[awesomeplugin]".

              The default list of plugins to load at startup: Lastfm,Random,Crop.

              Crop is an utility plugin, it does not queue any tracks (cf. below).

              Random will queue a track at random if other plugins did not return any tracks.

              You can add, combine here as many plugins you want.

              The priority may be used to order them.

       <b>history_duration=8</b>
              How far to look back in history to avoid to play twice the same track/title (duration in hours).

              The history_duration is also used to give priority to not recently played  artists.  Artist/tracks
              not in the scope of history have higther priority.

       <b>queue_length=2</b>
              Threshold value triggering queue process.

       <b>musicbrainzid=true</b>
              Use  MusicBrainzIdentifier  to search music (mainly for artists). Default is True, switch to False
              if you don't have MusicBrainzIdentifier set for at least 80% of you music library.

              Consider using these metadata as it enhances a lot artist/album/tracks identification. Use  Picard
              to tag your file: <u>https://picard.musicbrainz.org/</u>.

       <b>repeat_disable_queue=true</b>
              Prevent disabling queuing in repeat play mode.

       <b>single_disable_queue=true</b>
              Prevent disabling queuing in single play mod

   <b>Crop</b> <b>section</b>
       crop plugin's configuration:

       <b>[crop]</b>

       <b>consume=10</b>
              How  many  played tracks to keep in the queue. Allows you to maintain a fixed length queue. Set to
              some negative integer to keep all played tracks.

       <b>priority=10</b>
              Plugin priority

   <b>Random</b> <b>section</b>
       When no similar tracks are found, falling back to random queuing.

       Random plugin's configuration:

       <b>[random]</b>

       <b>track_to_add=1</b>
              How many track(s) to add.

       <b>flavour=sensible</b>
              Different mode, aka random flavour, are available: <b>pure</b>, <b>sensible</b>,

                 • <b>pure</b>: pure random choice, even among recently played track.

                 • <b>sensible</b>: use play history to filter chosen tracks.

       <b>priority=50</b>
              Plugin priority

   <b>LastFm</b> <b>section</b>
       LastFM plugin's configuration.

       <b>[lastfm]</b>

       <b>queue_mode=track</b>
          Queue mode to use among track, top and album (see <u>QUEUE</u> <u>MODE</u> <u>section</u> for info about queue modes).

       <b>max_art=20</b>
          Maximum number of similar artist to retrieve from local media library. When set to something  superior
          to zero, it tries to get as much similar artists from media library.

       <b>depth=1</b>
              How  many artists to base on similar artists search. The first is the last played artist and so on
              back in the history. Highter depth generates wider suggestions, it might help  to  reduce  looping
              over same artists.

       <b>single_album=false</b>
              Prevent  from  queueing  a track from the same album (it often happens with OST). Only relevant in
              "track" queue mode.

       <b>track_to_add=1</b>
              How many track(s) to add. Only relevant in <b>top</b> and <b>track</b> queue modes. This is  actually  an  upper
              limit, min(<b>max_art</b>, <b>track_to_add</b>) will be used.

       <b>album_to_add=1</b>
              How many album(s) to add. Only relevant in <b>album</b> queue modes.

       <b>track_to_add_from_album=0</b>
              How  many  track(s) to add from each selected albums. Only relevant in <b>album</b> queue modes. When set
              to 0 or lower the whole album is queued.

       <b>cache=True</b>
              Whether or not to use on-disk persistent http cache.When set to "true", sima will use a persistent
              cache  for   its   http   client.   The   cache   is   written   along   with   the   dbfile   in:
              <b>$XDG_DATA_HOME/mpd_sima/http/WEB_SERVICE</b>. If set to "false", caching is still done but in memory.

       <b>priority=100</b>
              Plugin priority

   <b>Genre</b> <b>section</b>
       Genre plugin's configuration.

       This plugin permits offline autoqueuing based on files genre tag only.

       It will try to queue tracks with similar genres (track's genre being read from tags).

       <b>[genre]</b>

       <b>queue_mode=track</b>
              Queue mode to use among track, album (see <u>QUEUE</u> <u>MODE</u> <u>section</u> for more info).

       <b>single_album=false</b>
              Prevent  from  queueing  a track from the same album (it often happens with OST). Only relevant in
              "track" queue mode.

       <b>priority=80</b>
              Plugin priority

       <b>track_to_add=1</b>
              How many track(s) to add.

       <b>album_to_add=1</b>
              How many album(s) to add. Only relevant in <b>album</b> queue mode.

   <b>Tags</b> <b>section</b>
       Tags plugin's configuration. There is no default configuration for this plugin, it does not work  out  of
       the box.

       This  plugin permits offline autoqueuing based on files tags only.  Supported tags are <b>'comment'</b>, <b>'date'</b>,
       <b>'genre'</b>, <b>'label'</b> and <b>'originaldate'</b>.

       In addition to supported tags above you can use an MPD filter. Please refer to MPD protocol documentation
       for more.

       All tag entries in this section are ANDed as a single MPD filter to  look  for  titles  in  the  library.
       Moreover,  for  each  tags,  comma  separated values are also ORed. For instance setting "<b>genre=rock</b>" and
       "<b>date=1982,1983,1984,1985,1986,1987,1988,1989</b>" will end up looking for track tagged with genre  <b>rock</b>  and
       date  within  1982  through  1989.  Using an MPD filter to replace <b>date</b> you can achieve the same with the
       following setting: "<b>genre=rock</b>" and "<b>filter=(date</b> <b>=~</b> <b>'198[2-9]+')</b>" (provided your MPD server was compiled
       with libpcre).

       <b>[tags]</b>

       <b>queue_mode=track</b>
              Queue mode to use among track, album (see <u>QUEUE</u> <u>MODES</u> <u>section</u> for info).

       <b>single_album=false</b>
              Prevent from queueing a track from the same album (it often happens with OST).  Only  relevant  in
              "track" queue mode.

       <b>filter=</b>
              You can use here any valid MPD filter as defined in MPD protocol documentation.

       <b>comment=</b>

       <b>date=</b>

       <b>genre=</b>

       <b>label=</b>

       <b>originaldate=</b>

       <b>priority=80</b>
              Plugin priority

       <b>track_to_add=1</b>
              How many track(s) to add.

       <b>album_to_add=1</b>
              How many album(s) to add. Only relevant in <b>album</b> queue mode.

</pre><h4><b>QUEUE</b> <b>MODES</b></h4><pre>
       Different queue modes are available with some plugins (check for <b>queue_mode</b> presence in plugin config).

       mpd-sima tries preferably to chose among unplayed artists or at least not recently played artist.

       <b>track</b>  Queue a similar track chosen at random from a similar artist.

       <b>top</b>    Queue a track from a similar artist, chosen among "top tracks" according to last.fm data mining.

       <b>album</b>  Queue a whole album chosen at random from a similar artist.

              <u>Nota</u> <u>Bene:</u> Due to the track point of view of database build upon tracks tags an album lookup for a
              specific  artist will return albums as soon as this artist appears in a single track of the album.
              For instance looking for album from "The Velvet Underground" will fetch  "Last  Days"  and  "Juno"
              OSTs  because the band appears on the soundtrack of these two movies. A solution is for you to set
              AlbumArtists tag to something different than the actual artist of  the  track.  For  compilations,
              OSTs etc. a strong convention is to use "Various Artists" for this tag.

              mpd-sima  is  currently  looking  for AlbumArtists tags and avoid album where this tag is set with
              "Various Artists". If a single track within an album is found with AlbumArtists:"Various  Artists"
              the complete album is skipped and won't be queued.

</pre><h4><b>FILES</b></h4><pre>
       <b>$</b><u>{XDG_CONFIG_HOME</u><b>}/mpd_sima/mpd_sima.cfg</b>
              Configuration file.

       <b>$</b><u>{XDG_DATA_HOME</u><b>}/mpd_sima/sima.db</b>
              SQLite internal DB file. Stores play history and blocklists.

       <b>$</b><u>{XDG_DATA_HOME</u><b>}/mpd_sima/WEB_SERVICE/</b>
              HTTP cache.

       Usually  <b>XDG_DATA_HOME</b> is set to <b>$</b><u>{HOME</u><b>}/.local/share</b> and <b>XDG_CONFIG_HOME</b> to <b>$</b><u>{HOME</u><b>}/.config</b> (for regular
       users).  You may override them using command line option <b>--var-dir</b> and <b>--config</b> (cf. <b><a href="../man1/mpd-sima.1.html">mpd-sima</a>(1)</b>)

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man1/mpc.1.html">mpc</a>(1)</b>, <b><a href="../man1/mpd.1.html">mpd</a>(1)</b>

</pre><h4><b>FEEDBACK/BUGS</b></h4><pre>
       The maintainer would  be  more  than  happy  to  ear  from  you,  don't  hesitate  to  send  feedback,  ‐
       <u>https://kaliko.me/contact/</u>

       XMPP users are welcome to join the dedicated chat room at <u><a href="mailto:kaliko.me@conf.azylum.org">kaliko.me@conf.azylum.org</a></u>

</pre><h4><b>AUTHOR</b></h4><pre>
       kaliko

</pre><h4><b>COPYRIGHT</b></h4><pre>
       2009-2024, kaliko

                                                  Dec 16, 2024                                   <u><a href="../man5/MPD_SIMA.CFG.5.html">MPD_SIMA.CFG</a></u>(5)
</pre>
 </div>
</div></section>
</div>
</body>
</html>