<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>direvent.conf - configuration file for direvent(8).</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/direvent">direvent_5.2-1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       direvent.conf - configuration file for <b><a href="../man8/direvent.8.html">direvent</a></b>(8).

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The configuration file consists of statements and comments.

       There  are  three classes of lexical tokens: keywords, values, and separators. Blanks, tabs, newlines and
       comments, collectively called <u>white</u> <u>space</u> are ignored except as they serve to separate tokens. Some white
       space is required to separate otherwise adjacent keywords and values.

</pre><h4><b>COMMENTS</b></h4><pre>
       Comments may appear anywhere where white space may appear in the configuration file.  There are two kinds
       of comments: single-line and multi-line comments.  Single-line comments start with <b>#</b> or <b>//</b>  and  continue
       to the end of the line:

           # This is a comment
           // This too is a comment

       <u>Multi-line</u>  <b>or</b>  <u>C-style</u>  comments  start  with the two characters <b>/*</b> (slash, star) and continue until the
       first occurrence of <b>*/</b> (star, slash).

       Multi-line comments cannot be nested.  However, single-line comments may well  appear  within  multi-line
       ones.

   <b>Pragmatic</b> <b>Comments</b>
       Pragmatic  comments are similar to the usual single-line comments, except that they cause some changes in
       the way the configuration is parsed.  Pragmatic comments begin with a  <b>#</b>  sign  and  end  with  the  next
       physical newline character.

       <b>#include</b> <b>&lt;</b><u>FILE</u><b>&gt;</b>
       <b>#include</b> <u>FILE</u>
              Include  the  contents  of  the  file  <u>FILE</u>.   If <u>FILE</u> is an absolute file name, the named file is
              included.  An error message will be issued if it does not exist.

              If <u>FILE</u> contains wildcard characters (<b>*</b>, <b>[</b>, <b>]</b>, or <b>?</b>),  it  is  interpreted  as  a  shell  globbing
              pattern  and  all  files  matching  that  pattern  are  included, in lexicographical order.  If no
              matching files are found, the directive is replaced with an empty line.

              Otherwise, the form with angle brackets searches for file in the include search  path,  while  the
              second  one  looks  for it in the current working directory first, and, if not found there, in the
              include search path.  If the file is not found, an error message will be issued.

              The order of directories is as follows.  First, <b>direvent</b>  scans  any  directories  given  with  <b>-I</b>
              options,  in the same order as given on the command line, and then the directories in the standard
              include search path.  The latter is defined at compile time and can be inspected in the output  of
              the <b>--help</b> option.

       <b>#include_once</b> <b>&lt;</b><u>FILE</u><b>&gt;</b>
       <b>#include_once</b> FILE
              Same  as  <b>#include</b>,  except that, if the <u>FILE</u> (or any of the files it expands to) has already been
              included, it will not be included again.

       <b>#line</b> <u>num</u>
       <b>#line</b> <u>num</u> <b>"</b><u>FILE</u><b>"</b>
              This line causes the parser to believe, for purposes of error diagnostics, that the line number of
              the next source line is given by <u>num</u> and the current input file is named by <u>FILE</u>. If the latter is
              absent, the remembered file name does not change.

       <b>#</b> <u>num</u> <b>"</b><u>FILE</u><b>"</b>
              This is a  special  form  of  the  <b>#line</b>  statement,  understood  for  compatibility  with  the  C
              preprocessor.

</pre><h4><b>STATEMENTS</b></h4><pre>
   <b>Simple</b> <b>statement</b>
       A  <u>simple</u>  <u>statement</u>  consists  of  a  keyword  and  value separated by any amount of whitespace.  Simple
       statement is terminated with a semicolon (<b>;</b>).

       The following is a simple statement:

           pidfile /var/run/direvent.pid;

       See below for a list of valid simple statements.

       A <u>value</u> can be one of the following:

       <u>number</u> A number is a sequence of decimal digits.

       <u>boolean</u>
              A boolean value is one of the following: <b>yes</b>, <b>true</b>, <b>t</b> or <b>1</b>, meaning <u>true</u>, and <b>no</b>,  <b>false</b>,  <b>nil</b>,  <b>0</b>
              meaning <u>false</u>.

       <u>unquoted</u> <u>string</u>
              An  unquoted  string may contain letters, digits, and any of the following characters: <b>_</b>, <b>-</b>, <b>.</b>, <b>/</b>,
              <b>@</b>, <b>*</b>, <b>:</b>.

       <u>quoted</u> <u>string</u>
              A quoted string is any  sequence  of  characters  enclosed  in  double-quotes  (<b>"</b>).   A  backslash
              appearing  within  a  quoted string introduces an <u>escape</u> <u>sequence</u>, which is replaced with a single
              character according to the following rules:

                      <u>Sequence</u>  <u>Expansion</u>               <u>ASCII</u>
                      <b>\\</b>        <b>\</b>                       134
                      <b>\"</b>        <b>"</b>                       042
                      <b>\a</b>        audible bell            007
                      <b>\b</b>        backspace               010
                      <b>\f</b>        form-feed               014
                      <b>\n</b>        new line                012
                      <b>\r</b>        charriage return        015
                      <b>\t</b>        horizontal tabulation   011
                      <b>\v</b>        vertical tabulation     013

              In addition, the sequence <b>\</b><u>newline</u> is removed from the string.  This  allows  one  to  split  long
              strings over several physical lines, e.g.:

                  "a long string may be\
                   split over several lines"

              If  the  character  following  a  backslash  is not one of those specified above, the backslash is
              ignored and a warning is issued.

              Two or more adjacent quoted strings are concatenated,  which  gives  another  way  to  split  long
              strings  over  several  lines  to  improve  readability.  The following fragment produces the same
              result as the example above:

                  "a long string may be"
                  " split over several lines"

       <u>Here-document</u>
              A <u>here-document</u> is a special construct that allows one to introduce  strings  of  text  containing
              embedded newlines.

              The  <b>&lt;&lt;</b><u>word</u>  construct  instructs  the  parser  to  read  all  the  following lines up to the line
              containing only <u>word</u>, with possible  trailing  blanks.   Any  lines  thus  read  are  concatenated
              together into a single string.  For example:

                  &lt;&lt;EOT
                  A multiline
                  string
                  EOT

              The  body of a here-document is interpreted the same way as a double-quoted string, unless <u>word</u> is
              preceded by a backslash (e.g.  <b>&lt;&lt;\EOT</b>) or enclosed in double-quotes, in which  case  the  text  is
              read as is, without interpretation of escape sequences.

              If <u>word</u> is prefixed with <b>-</b> (a dash), then all leading tab characters are stripped from input lines
              and  the  line  containing  <u>word</u>.   Furthermore,  <b>-</b>  is  followed  by  a single space, all leading
              whitespace is stripped from them.  This allows one to indent here-documents in a natural  fashion.
              For example:

                  &lt;&lt;- TEXT
                      The leading whitespace will be
                      ignored when reading these lines.
                  TEXT

              It  is important that the terminating delimiter be the only token on its line.  The only exception
              to this rule is allowed if a here-document appears as the last element of a  statement.   In  this
              case a semicolon can be placed on the same line with its terminating delimiter, as in:

                   help-text &lt;&lt;-EOT
                       A sample help text.
                   EOT;

       <u>list</u>   A  comma-separated  list  of  values,  enclosed  in  parentheses.   The  following example shows a
              statement whose value is a list of strings:

                  option (wait, stderr);

              In any context where a list is appropriate, a single value is allowed without being a member of  a
              list: it is equivalent to a list with a single member.  This means that, e.g.

                  option wait;

              is equivalent to

                  option (wait);

   <b>Block</b> <b>Statement</b>
       A  block  statement  introduces  a logical group of statements.  It consists of a keyword, followed by an
       optional value, called a <b>tag</b>, and a sequence of statements enclosed in curly  braces,  as  shown  in  the
       example below:

           watcher {
               path <a href="file:/etc">/etc</a>;
               event create;
           }

       The closing curly brace may be followed by a semicolon, although this is not required.

</pre><h4><b>MACRO</b> <b>EXPANSION</b></h4><pre>
       Arguments  of  some  statements  undergo  macro  expansion  before  use.   During the macro expansion any
       occurrence of <b>${NAME}</b> is replaced by the value of macro <b>NAME</b>.  Macro names follow the  usual  convention:
       they  begin  with  a letter and contain letters digits and underscores.  The curly braces around the <b>NAME</b>
       are optional.  They are required only if the macro reference is followed by a character that is not to be
       interpreted as part of its name, as in <b>${command}string</b>.

       The following macros are defined:

       <b>file</b>   Name of the file covered by the event.

       <b>genev_code</b>
              Generic (system-independent) event code.  It is a bitwise <b>OR</b> of the event codes represented  as  a
              decimal number.

       <b>genev_name</b>
              Generic  event  name.   If  several  generic events are reported simultaneously, the value of this
              variable is a list of event names separated by space characters.  Each name corresponds to  a  bit
              in <b>genev_code</b>.

       <b>self_test_pid</b>
              The  PID of the external command started with the <b>--self-test</b> (<b>-T</b>) option.  If <b>direvent</b> is started
              without this option, this variable is not defined.

       <b>sysev_code</b>
              System-dependent event code.  It is a bitwise <b>OR</b> of the  event  codes  represented  as  a  decimal
              number.

       <b>sysev_name</b>
              System-dependent event name.  If several events are reported, the value of this variable is a list
              of  event names separated by space characters.  Each name corresponds to a bit in <b>sysev_code</b>.  See
              the section <b>SYSTEM</b> <b>DEPENDENCIES</b> in <b><a href="../man8/direvent.8.html">direvent</a></b>(8), for a list of system-dependent event names.

</pre><h4><b>GENERAL</b> <b>SETTINGS</b></h4><pre>
       <b>user</b> <u>NAME</u>;
              Sets the user to run as.  <u>NAME</u> must be a name of an existing user.

       <b>foreground</b> <u>BOOL</u>;
              Run in foreground.

       <b>pidfile</b> <u>FILE</u>;
              Upon successful startup store the PID of the daemon process in <u>FILE</u>.

       <b>debug</b> <u>NUMBER</u>;
              Set debug level.  Valid <u>NUMBER</u> values are <b>0</b> (no debug) to <b>3</b> (maximum verbosity).

</pre><h4><b>LOGGING</b></h4><pre>
       While connected to the terminal <b>direvent</b> outputs its diagnostics and debugging messages to  the  standard
       error.   After disconnecting from the controlling terminal it closes the first three file descriptors and
       directs all its output to the <b>syslog</b>.  When running in foreground mode, its messages are sent both to the
       standard error and to the <b>syslog</b>.

       The following configuration statement controls the <b>syslog</b> output:

         <b>syslog</b> <b>{</b>
             <b>facility</b> <u>STRING</u><b>;</b>
             <b>tag</b> <u>STRING</u><b>;</b>
             <b>print-priority</b> <u>BOOL</u><b>;</b>
         <b>}</b>

       The statements are:

       <b>facility</b> <u>STRING</u>;
              Set <b>syslog</b> facility.  <u>STRING</u> is one of the following: <b>user</b>, <b>daemon</b>, <b>auth</b> or <b>authpriv</b>, <b>mail</b>,  <b>cron</b>,
              <b>local0</b> through <b>local7</b> (case-insensitive), or a facility number.

       <b>tag</b> <u>STRING</u>;
              Tag syslog messages with <u>STRING</u>.  Normally the messages are tagged with the program name.

       <b>print-priority</b> <u>BOOL</u>;
              Prefix each message with its priority.

       An example <b>syslog</b> statement:

           syslog {
               facility local0;
               print-priority yes;
           }

</pre><h4><b>WATCHER</b></h4><pre>
       The  <b>watcher</b>  statement  configures  a  single  event  watcher.   A watcher can control several events in
       multiple pathnames.  Any number of <b>watcher</b> statements is allowed in the configuration file, each  one  of
       them declaring a separate watcher.

         <b>watcher</b> <b>{</b>
             <b>path</b> <u>PATHNAME</u> [<b>recursive</b> [<u>NUMBER</u>]];
             <b>file</b> <u>STRING-LIST</u><b>;</b>
             <b>event</b> <u>STRING-LIST</u><b>;</b>
             <b>command</b> <u>STRING</u><b>;</b>
             <b>user</b> <u>NAME</u><b>;</b>
             <b>timeout</b> <u>NUMBER</u><b>;</b>
             <b>option</b> <u>STRING-LIST</u><b>;</b>
             <b>environ</b> <u>ENV-SPEC</u><b>;</b>
         <b>}</b>

       The statements within a <b>watcher</b> block are:

       <b>path</b> <u>PATHNAME</u> [<b>recursive</b> [<u>NUMBER</u>]];
              Defines  a  pathname  to  watch.   <u>PATHNAME</u>  must be the name of an existing directory in the file
              system.  The watcher will watch events occurring for all files  within  that  directory.   If  the
              optional <b>recursive</b> clause is specified, this directory will be watched recursively, i.e.  when any
              subdirectory  is  created  in  it,  <b>direvent</b> will set up a watcher for files in this subdirectory.
              This new watcher will be an exact copy of the parent watcher, excepting for  the  pathnames.   The
              optional  <u>NUMBER</u>  parameter  defines a cut-off nesting level for recursive watching.  If supplied,
              the recursive behaviour will apply only to the directories that are nested below that level.

              Any number of <b>path</b> statements can appear in a <b>watcher</b> block.  At least one <b>path</b> must be defined.

       <b>file</b> <u>STRING-LIST</u>;
              Selects which files are eligible for monitoring.  The argument is a list of globbing patterns  (in
              the  sense  of  <b><a href="../man3/fnmatch.3.html">fnmatch</a></b>(3))  and/or extended regular expressions ( <b><a href="../man7/regex.7.html">regex</a></b>(7)) one of which the file
              name must match in order for the watcher to act on it.  Regular expressions must be surrounded  by
              a pair of slashes, optionally followed by the following flags:

              <b>b</b>      Use basic regular expressions.

              <b>i</b>      Enable case-insensitive matching.

                     A  pattern  or  regular  expression prefixed with <b>!</b> matches file names that don't match the
                     pattern without <b>!</b>.

       <b>event</b> <u>STRING-LIST</u>;
              Configures the filesystem events to watch for in the directories declared by the <b>path</b>  statements.
              The  argument  is  a  list  of  event  names.   Both generic and system-dependent event namess are
              allowed.  Multiple <b>event</b> statements accumulate.   A  missing  <b>event</b>  statements  means  watch  all
              events.  For example:

                  event (open,delete);

       <b>command</b> <u>STRING</u>;
              Defines  a  command  to  execute  on event.  <u>STRING</u> is a command line just as you would type it in
              <b><a href="../man1/sh.1.html">sh</a></b>(1).  It may contain <b>macro</b> <b>variables</b>, which will be expanded prior to execution.  For example:

                  command "/bin/prog -event $genev_name -file $file";

              See the section <b>HANDLER</b> <b>ENVIRONMENT</b> in <b><a href="../man8/direvent.8.html">direvent</a></b>(8), for a detailed discussion of how  the  command
              is executed.

       <b>user</b> <u>STRING</u>;
              Run command as this user.

       <b>timeout</b> <u>NUMBER</u>;
              Terminate the command if it runs longer than <u>NUMBER</u> seconds.  The default is 5 seconds.

       <b>option</b> <u>STRING-LIST</u>;
              A list of additional options.  The following options are defined:

                       <b>shell</b>  Invoke the handler command as <b><a href="file:/bin/sh">/bin/sh</a></b> <b>-c</b> <b>"</b><u>command</u><b>"</b>.

                       <b>wait</b>   Wait for the program to terminate before handling next event from the event queue.
                              Normally the program runs asynchronously.

                       <b>stdout</b> Capture  the standard output of the command and redirect it to the <b>syslog</b> with the
                              <b>LOG_INFO</b> priority.

                       <b>stderr</b> Capture the standard error of the command and redirect it to the <b>syslog</b>  with  the
                              <b>LOG_ERR</b> priority.

       <b>environ</b> <u>ENV-SPEC</u>;
              Modify command environment.  By default the command inherits the environment of <b>direvent</b> augmented
              with the following variables:

                 <b>DIREVENT_SYSEV_CODE</b>
                        The system-dependent event code (see the <b>${sysev_code}</b> variable).

                 <b>DIREVENT_SYSEV_NAME</b>
                        The system-dependent event name or names (see the <b>${sysev_name}</b> variable).

                 <b>DIREVENT_GENEV_CODE</b>
                        The generic event code (see the <b>${genev_code}</b> variable).

                 <b>DIREVENT_GENEV_NAME</b>
                        The generic event name or names (see the <b>${genev_name}</b> variable).

                 <b>DIREVENT_FILE</b>
                        The name of the affected file relative to the current working directory (see the <b>${file}</b>
                        variable).

              The  <b>environ</b> statement allows for trimming the environment.  Its argument is a list of one or more
              of the folloeing environment modification directives:

                 <b>-</b> (a single dash)
                        Clear the inherited environment, but  retain  the  variables  added  by  <b>direvent</b>.   The
                        removed environment variables can be selectively restored by the directives that follow.
                        This must be the first directive in the list.

                 <b>--</b> (double-dash)
                        Clear  the  entire environment, including the variables added by <b>direvent</b>.  This must be
                        the first directive in the list.

                 <b>-</b><u>NAME</u>  Unset the variable <u>NAME</u>.

                 <b>-</b><u>NAME</u><b>=</b><u>VAL</u>
                        Unset the environment variable <u>NAME</u> only if its value is <u>VAL</u>.

                 <u>NAME</u>   Restore the environment variable <u>NAME</u>.  This directive is useful after <b>-</b> or <b>--</b> to retain
                        some variables from the environment.

                 <u>NAME</u><b>=</b><u>VALUE</u>
                        Define environment variable <u>NAME</u> to the <u>VALUE</u>.  <u>VALUE</u> can contain macro variables, which
                        will be expanded prior to the assignment.

                 <u>NAME</u><b>+=</b><u>VALUE</u>
                        Retain the variable <u>NAME</u> and append <u>VALUE</u> to its existing value.  If no such variable is
                        present in the environment, it will be created and assigned the <b>VALUE</b>.  If <b>VALUE</b>  begins
                        with  a  punctuation character, this character is removed from it before the assignment.
                        This is convenient  for using this construct with environment variables like <b>PATH</b>, e.g.:

                            PATH+=:<a href="file:/sbin">/sbin</a>

                        In this example, if <b>PATH</b> exists, <b>:<a href="file:/sbin">/sbin</a></b> will be appended to it.  Otherwise, it  will  be
                        created and assigned the value <b><a href="file:/sbin">/sbin</a></b>.

                        The <u>VALUE</u> can contain macro variables, which will be expanded prior to the assignment.

                 <u>NAME</u><b>=+</b><u>VALUE</u>
                        Retain  the  variable <u>NAME</u> and prepend <u>VALUE</u> to its existing value.  If no such variable
                        is present in the environment, it will be created and assigned the <u>VALUE</u>.  In this case,
                        if <u>VALUE</u> ends with a punctuation character, this  character  will  be  removed  from  it
                        before the assignment.

                        The <u>VALUE</u> can contain macro variables, which will be expanded prior to the assignment.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man8/direvent.8.html">direvent</a></b>(8).

</pre><h4><b>COPYRIGHT</b></h4><pre>
       Copyright © 2012, 2013 Sergey Poznyakoff
       License GPLv3+: GNU GPL version 3 or later &lt;<a href="http://gnu.org/licenses/gpl.html">http://gnu.org/licenses/gpl.html</a>&gt;
       This  is  free software: you are free to change and redistribute it.  There is NO WARRANTY, to the extent
       permitted by law.

DIREVENT                                          June 20, 2016                                 <u><a href="../man5/DIREVENT.CONF.5.html">DIREVENT.CONF</a></u>(5)
</pre>
 </div>
</div></section>
</div>
</body>
</html>