<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>slapo-constraint - Attribute Constraint Overlay to slapd</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/slapd">slapd_2.6.9+dfsg-2ubuntu1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       slapo-constraint - Attribute Constraint Overlay to slapd

</pre><h4><b>SYNOPSIS</b></h4><pre>
       /etc/ldap/slapd.conf

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The  constraint  overlay is used to ensure that attribute values match some constraints beyond basic LDAP
       syntax.  Attributes can have multiple constraints placed upon  them,  and  all  must  be  satisfied  when
       modifying an attribute value under constraint.

       This  overlay  is  intended to be used to force syntactic regularity upon certain string represented data
       which have well known canonical forms, like telephone numbers, post codes, FQDNs, etc.

       It constrains only LDAP <u>add</u>, <u>modify</u> and <u>rename</u> commands and only seeks to control  the  <u>add</u>  and  <u>replace</u>
       values of <u>modify</u> and <u>rename</u> requests.

       No constraints are applied for operations performed with the <u>relax</u> control set.

</pre><h4><b>CONFIGURATION</b></h4><pre>
       This <b>slapd.conf</b> option applies to the constraint overlay.  It should appear after the <b>overlay</b> directive.

       <b>constraint_attribute</b> <b>&lt;attribute_name&gt;[,...]</b> <b>&lt;type&gt;</b> <b>&lt;value&gt;</b> <b>[&lt;extra&gt;</b> <b>[...]]</b>
              Specifies  the  constraint  which  should apply to the comma-separated attribute list named as the
              first parameter.  Six types of constraint are currently supported - <b>regex</b>, <b>negregex</b>, <b>size</b>,  <b>count</b>,
              <b>uri</b>, and <b>set</b>.

              The  parameter  following  the  <b>regex</b>  or  <b>negregex</b>  type  is a Unix style regular expression (See
              <b><a href="../man7/regex.7.html">regex</a></b>(7) ). The parameter following the <b>uri</b> type is an LDAP URI. The URI will be  evaluated  using
              an  internal  search.  It must not include a hostname, and it must include a list of attributes to
              evaluate.

              The parameter following the <b>set</b> type is a string that is interpreted according to  the  syntax  in
              use for ACL sets.  This allows one to construct constraints based on the contents of the entry.

              The <b>size</b> type can be used to enforce a limit on an attribute length, and the <b>count</b> type limits the
              number of values of an attribute.

              Extra parameters can occur in any order after those described above.

              <b>&lt;extra&gt;</b> <b>:</b> <b>restrict=&lt;uri&gt;</b>

              This  extra  parameter allows one to restrict the application of the corresponding constraint only
              to entries that match the <u>base</u>, <u>scope</u> and <u>filter</u> portions of the LDAP URI.  The <u>base</u>, if  present,
              must  be  within  the  naming  context  of  the database.  The <u>scope</u> is only used when the <u>base</u> is
              present; it defaults to <b>base</b>.  The other parameters of the URI are not allowed.

       Any attempt to add or modify an attribute named as part of the  constraint  overlay  specification  which
       does not fit the constraint listed will fail with a LDAP_CONSTRAINT_VIOLATION error.

</pre><h4><b>EXAMPLES</b></h4><pre>
              overlay constraint
              constraint_attribute jpegPhoto size 131072
              constraint_attribute userPassword count 3
              constraint_attribute mail regex ^[[:alnum:]]+@mydomain.com$
              constraint_attribute mail negregex ^[[:alnum:]]+@notallowed.com$
              constraint_attribute title uri
                ldap:///dc=catalog,dc=example,dc=com?title?sub?(objectClass=titleCatalog)
              constraint_attribute cn,sn,givenName set
                "(this/givenName + [ ] + this/sn) &amp; this/cn"
                restrict="ldap:///ou=People,dc=example,dc=com??sub?(objectClass=inetOrgPerson)"

       A  specification  like  the  above  would reject any <b>mail</b> attribute which did not look like <b>&lt;alphanumeric</b>
       <b>string&gt;@mydomain.com</b> or that looks like <b>&lt;alphanumeric</b> <b>string&gt;@notallowed.com</b>.  It would also  reject  any
       <b>title</b>  attribute  whose  values were not listed in the <b>title</b> attribute of any <b>titleCatalog</b> entries in the
       given scope. (Note that  the  "dc=catalog,dc=example,dc=com"  subtree  ought  to  reside  in  a  separate
       database,  otherwise  the initial set of titleCatalog entries could not be populated while the constraint
       is in effect.)  Finally, it requires the values of the attribute <b>cn</b> to be constructed by  pairing  values
       of  the  attributes  <b>sn</b>  and  <b>givenName</b>,  separated  by  a  space,  but only for entries derived from the
       objectClass <b>inetOrgPerson</b>.

</pre><h4><b>FILES</b></h4><pre>
       /etc/ldap/slapd.conf
              default slapd configuration file

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man5/slapd.conf.5.html">slapd.conf</a></b>(5), <b><a href="../man5/slapd-config.5.html">slapd-config</a></b>(5),

</pre><h4><b>ACKNOWLEDGEMENTS</b></h4><pre>
       This module was written in 2005 by Neil Dunbar of Hewlett-Packard and subsequently extended by Howard Chu
       and  Emmanuel  Dreyfus.   <b>OpenLDAP</b>  <b>Software</b>  is  developed  and  maintained  by  The  OpenLDAP   Project
       &lt;<a href="http://www.openldap.org/">http://www.openldap.org/</a>&gt;.   <b>OpenLDAP</b>  <b>Software</b>  is  derived  from  the  University of Michigan LDAP 3.3
       Release.

OpenLDAP 2.6.9+dfsg-2ubuntu1                       2024/11/26                                <u><a href="../man5/SLAPO-CONSTRAINT.5.html">SLAPO-CONSTRAINT</a></u>(5)
</pre>
 </div>
</div></section>
</div>
</body>
</html>