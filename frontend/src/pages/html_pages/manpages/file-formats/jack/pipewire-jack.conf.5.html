<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>pipewire-jack.conf - jack.conf</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/pipewire-bin">pipewire-bin_1.4.5-1ubuntu2_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       pipewire-jack.conf - jack.conf

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The PipeWire JACK client configuration file.

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <u>$XDG_CONFIG_HOME/pipewire/jack.conf</u>

       <u>/etc/pipewire/jack.conf</u>

       <u>/usr/share/pipewire/jack.conf</u>

       <u>/usr/share/pipewire/jack.conf.d/</u>

       <u>/etc/pipewire/jack.conf.d/</u>

       <u>$XDG_CONFIG_HOME/pipewire/jack.conf.d/</u>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       Configuration for PipeWire JACK clients.

       The configuration file format and lookup logic is the same as for <b><a href="../man5/pipewire.conf.5.html">pipewire.conf</a>(5)</b>.

       Drop-in configuration files jack.conf.d/*.conf can be used, and are recommended. See <b><a href="../man5/pipewire.conf.5.html">pipewire.conf</a>(5)</b>.

</pre><h4><b>CONFIGURATION</b> <b>FILE</b> <b>SECTIONS</b></h4><pre>
       <b>jack.properties</b>
           JACK client configuration.

       <b>jack.rules</b>
           JACK client match rules.

       In addition, the PipeWire context configuration sections may also be specified, see <b><a href="../man5/pipewire.conf.5.html">pipewire.conf</a>(5)</b>.

</pre><h4><b>JACK</b> <b>PROPERTIES</b></h4><pre>
       The configuration file can contain an extra JACK specific section called jack.properties like this:

       # <a href="file:~/.config/pipewire/jack.conf.d/custom.conf">~/.config/pipewire/jack.conf.d/custom.conf</a>

       jack.properties = {
           #rt.prio             = 88
           #node.latency        = 1024/48000
           #node.lock-quantum   = true
           #node.force-quantum  = 0
           #jack.show-monitor   = true
           #jack.merge-monitor  = true
           #jack.show-midi      = true
           #jack.short-name     = false
           #jack.filter-name    = false
           #jack.filter-char    = " "
           #
           # allow:           Don't restrict self connect requests
           # fail-external:   Fail self connect requests to external ports only
           # ignore-external: Ignore self connect requests to external ports only
           # fail-all:        Fail all self connect requests
           # ignore-all:      Ignore all self connect requests
           #jack.self-connect-mode  = allow
           #jack.locked-process     = true
           #jack.default-as-system  = false
           #jack.fix-midi-events    = true
           #jack.global-buffer-size = false
           #jack.passive-links      = false
           #jack.max-client-ports   = 768
           #jack.fill-aliases       = false
           #jack.writable-input     = false
           #jack.flag-midi2         = false
       }

       See stream.properties in <b><a href="../man5/pipewire-client.conf.5.html">pipewire-client.conf</a>(5)</b> for an explanation of the generic node properties.

       It is also possible to have per-client settings, see Match Rules below.

       <b>rt.prio</b>
           To limit the realtime priority that jack clients can acquire.

       <b>node.latency</b>
           To force a specific minimum buffer size for the JACK applications, configure:

           node.latency = 1024/48000

            This configures a buffer-size of 1024 samples at 48KHz. If the graph is running at a different
           sample rate, the buffer-size will be adjusted accordingly.

       <b>node.lock-quantum</b>
           To make sure that no automatic quantum is changes while JACK applications are running, configure:

           node.lock-quantum = true

            The quantum can then only be changed by metadata or when an application is started with node.force-
           quantum. JACK Applications will also be able to use jack_set_buffersize() to override the quantum.

       <b>node.force-quantum</b>
           To force the quantum to a certain value and avoid changes to it:

           node.force-quantum = 1024

            The quantum can then only be changed by metadata or when an application is started with node.force-
           quantum (or JACK applications that use jack_set_buffersize() to override the quantum).

       <b>jack.show-monitor</b>
           Show the Monitor client and its ports.

       <b>jack.merge-monitor</b>
           Exposes the capture ports and monitor ports on the same JACK device client. This is how JACK presents
           monitor ports to the clients. The default is however <u>not</u> to merge them together because this results
           in more user friendly user interfaces, usually. An extra client with a Monitor suffix is created that
           contains the monitor ports.

           For example, this is (part of) the output of jack_lsp with the default setting (jack.merge-monitor =
           false):

           Compare:

           jack.merge-monitor = true   jack.merge-monitor = false    Built-in Audio Analog Stereo:playback_FL
           Built-in Audio Analog Stereo:playback_FL    Built-in Audio Analog Stereo:monitor_FL   Built-in Audio
           Analog Stereo Monitor:monitor_FL    Built-in Audio Analog Stereo:playback_FR   Built-in Audio Analog
           Stereo:playback_FR    Built-in Audio Analog Stereo:monitor_FR   Built-in Audio Analog Stereo
           Monitor:monitor_FR

       <b>jack.show-midi</b>
           Show the MIDI clients and their ports.

       <b>jack.short-name</b>
           To use shorter names for the device client names use jack.short-name = true. Compare:

           jack.short-name = true   jack.short-name = false    HDA Intel PCH:playback_FL   Built-in Audio Analog
           Stereo:playback_FL    HDA Intel PCH Monitor:monitor_FL   Built-in Audio Analog Stereo
           Monitor:monitor_FL    HDA Intel PCH:playback_FR   Built-in Audio Analog Stereo:playback_FR    HDA
           Intel PCH Monitor:monitor_FR   Built-in Audio Analog Stereo Monitor:monitor_FR

       <b>jack.filter-name</b>

       <b>jack.filter-char</b>
           Will replace all special characters with jack.filter-char. For clients the special characters are
           ()[].:*$ and for ports they are ()[].*$. Use this option when a client is not able to deal with the
           special characters. (and older version of PortAudio was known to use the client and port names as a
           regex, and thus failing when there are regex special characters in the name).

       <b>jack.self-connect-mode</b>
           Restrict a client from making connections to and from itself. Possible values and their meaning are
           summarized as:

           Value   Behavior    allow   Don't restrict self connect requests.    fail-external   Fail self
           connect requests to external ports only.    ignore-external   Ignore self connect requests to
           external ports only.    fail-all   Fail all self connect requests.    ignore-all   Ignore all self
           connect requests.

       <b>jack.locked-process</b>
           Make sure the process and callbacks can not be called at the same time. This is the normal operation
           but it can be disabled in case a specific client can handle this.

       <b>jack.default-as-system</b>
           Name the default source and sink as system and number the ports to maximize compatibility with JACK
           programs.

           jack.default-as-system = false   jack.default-as-system = true    HDA Intel PCH:playback_FL
           system:playback_1    HDA Intel PCH Monitor:monitor_FL   system:monitor_1    HDA Intel PCH:playback_FR
           system:playback_2    HDA Intel PCH Monitor:monitor_FR   system:monitor_2

       <b>jack.fix-midi-events</b>
           Fix NoteOn events with a 0 velocity to NoteOff. This is standard behaviour in JACK and is thus
           enabled by default to maximize compatibility. Especially LV2 plugins do not allow NoteOn with 0
           velocity.

       <b>jack.global-buffer-size</b>
           When a client has this option, buffersize changes will be applied globally and permanently for all
           PipeWire clients using the metadata.

       <b>jack.passive-links</b>
           Makes JACK clients make passive links. This option only works when the server link-factory was
           configured with the allow.link.passive option.

       <b>jack.max-client-ports</b>
           Limit the number of allowed ports per client to this value.

       <b>jack.fill-aliases</b>
           Automatically set the port alias1 and alias2 on the ports.

       <b>jack.writable-input</b>
           Makes the input buffers writable. This is the default because some JACK clients write to the input
           buffer. This however can cause corruption in other clients when they are also reading from the
           buffer.

           Set this to true to avoid buffer corruption if you are only dealing with non-buggy clients.

       <b>jack.flag-midi2</b>
           Use the new JACK MIDI2 port flag on MIDI2 (UMP) ports. This is disabled by default because most JACK
           apps don't know about this flag yet and refuse to show the port.

           Set this to true for applications that know how to handle MIDI2 ports.

</pre><h4><b>MATCH</b> <b>RULES</b></h4><pre>
       jack.rules provides an update-props action that takes an object with properties that are updated on the
       client and node object of the jack client.

       Add a jack.rules section in the config file like this:

       # <a href="file:~/.config/pipewire/jack.conf.d/custom.conf">~/.config/pipewire/jack.conf.d/custom.conf</a>

       jack.rules = [
           {
               matches = [
                   {
                       # all keys must match the value. ! negates. ~ starts regex.
                       application.process.binary = "jack_simple_client"
                   }
               ]
               actions = {
                   update-props = {
                       node.latency = 512/48000
                   }
               }
           }
           {
               matches = [
                   {
                       client.name = "catia"
                   }
               ]
               actions = {
                   update-props = {
                       jack.merge-monitor = true
                   }
               }
           }
       ]

        Will set the latency of jack_simple_client to 512/48000 and makes Catia see the monitor client merged
       with the playback client.

</pre><h4><b>ENVIRONMENT</b> <b>VARIABLES</b></h4><pre>
       See <b><a href="../man1/pipewire.1.html">pipewire</a>(1)</b> for common environment variables. Many of these also apply to JACK client applications.

       Environment variables can be used to control the behavior of the PipeWire JACK client library.

       <b>PIPEWIRE_NOJACK</b>

       <b>PIPEWIRE_INTERNAL</b>
           When any of these variables is set, the JACK client library will refuse to open a client. The
           PIPEWIRE_INTERNAL variable is set by the PipeWire main daemon to avoid self connections.

       <b>PIPEWIRE_PROPS</b>
           Adds/overrides the properties specified in the jack.conf file. Check out the output of this:

           &gt; PIPEWIRE_PROPS='{ jack.short-name=true jack.merge-monitor=true }' jack_lsp
           ...
           HDA Intel PCH:playback_FL
           HDA Intel PCH:monitor_FL
           HDA Intel PCH:playback_FR
           HDA Intel PCH:monitor_FR
           ...

       <b>PIPEWIRE_LATENCY</b>

           PIPEWIRE_LATENCY=&lt;samples&gt;/&lt;rate&gt; &lt;application&gt;

            A quick way to configure the maximum buffer-size for a client. It will run this client with the
           specified buffer-size (or smaller).

           PIPEWIRE_LATENCY=256/48000 jack_lsp is equivalent to `PIPEWIRE_PROPS='{ node.latency=256/48000 }'
           jack_lsp`

           A better way to start a jack session in a specific buffer-size is to force it with:

           pw-metadata -n settings 0 clock.force-quantum &lt;quantum&gt;

            This always works immediately and the buffer size will not change until the quantum is changed back
           to 0.

       <b>PIPEWIRE_RATE</b>

           PIPEWIRE_RATE=1/&lt;rate&gt; &lt;application&gt;

           A quick way to configure the rate of the graph. It will try to switch the samplerate of the graph.
           This can usually only be done with the graph is idle and the rate is part of the allowed sample
           rates.

           PIPEWIRE_RATE=1/48000 jack_lsp is equivalent to `PIPEWIRE_PROPS='{ node.rate=1/48000 }' jack_lsp`

           A better way to start a jack session in a specific rate is to force the rate with:

           pw-metadata -n settings 0 clock.force-rate &lt;rate&gt;

            This always works and the samplerate does not need to be in the allowed rates. The rate will also
           not change until it is set back to 0.

       <b>PIPEWIRE_QUANTUM</b>

           PIPEWIRE_QUANTUM=&lt;buffersize&gt;/&lt;rate&gt; &lt;application&gt;

           Is similar to using PIPEWIRE_LATENCY=&lt;buffersize&gt;/&lt;rate&gt; and PIPEWIRE_RATE=1/&lt;rate&gt; (see above),
           except that it is not just a suggestion but it actively <u>forces</u> the graph to change the rate and
           quantum. It can be used to set both a buffersize and samplerate at the same time.

           When 2 applications force a quantum, the last one wins. When the winning app is stopped, the quantum
           of the previous app is restored.

       <b>PIPEWIRE_LINK_PASSIVE</b>

           PIPEWIRE_LINK_PASSIVE=true qjackctl

            Make this client create passive links only. All links created by the client will be marked passive
           and will not keep the sink/source busy.

           You can use this to link filters to devices. When there is no client connected to the filter, only
           passive links remain between the filter and the device and the device will become idle and suspended.

       <b>PIPEWIRE_NODE</b>

           PIPEWIRE_NODE=&lt;id&gt; &lt;application&gt;

            Will sort the ports so that only the ports of the node with &lt;id&gt; are listed. You can use this to
           force an application to only deal with the ports of a certain node, for example when auto connecting.

</pre><h4><b>AUTHORS</b></h4><pre>
       The PipeWire Developers &lt;https://gitlab.freedesktop.org/pipewire/pipewire/issues&gt;; PipeWire is available
       from &lt;https://pipewire.org&gt;

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man1/pw-jack.1.html">pw-jack</a>(1)</b>, <b><a href="../man5/pipewire.conf.5.html">pipewire.conf</a>(5)</b>

PipeWire                                              1.4.5                                <u><a href="../man5/pipewire-jack.conf.5.html">pipewire-jack.conf</a></u>(5)
</pre>
 </div>
</div></section>
</div>
</body>
</html>