<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>generic - Postfix generic table format</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/postfix">postfix_3.10.2-1ubuntu1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       generic - Postfix generic table format

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>postmap</b> <b>/etc/postfix/generic</b>

       <b>postmap</b> <b>-q</b> <b>"</b><u>string</u><b>"</b> <b>/etc/postfix/generic</b>

       <b>postmap</b> <b>-q</b> <b>-</b> <b>/etc/postfix/generic</b> <b>&lt;</b><u>inputfile</u>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The  optional  <b><a href="../man5/generic.5.html">generic</a></b>(5) table specifies an address mapping that applies when mail is delivered. This is
       the opposite of <b><a href="../man5/canonical.5.html">canonical</a></b>(5) mapping, which applies when mail is received.

       Typically, one would use the <b><a href="../man5/generic.5.html">generic</a></b>(5) table on a system that does not have a valid Internet domain name
       and that uses something like <u>localdomain.local</u> instead.  The <b><a href="../man5/generic.5.html">generic</a></b>(5) table is then used by the <b><a href="../man8/smtp.8.html">smtp</a></b>(8)
       client to transform local mail addresses into valid Internet mail addresses when  mail  has  to  be  sent
       across the Internet.  See the EXAMPLE section at the end of this document.

       The <b><a href="../man5/generic.5.html">generic</a></b>(5) mapping affects both message header addresses (i.e. addresses that appear inside messages)
       and message envelope addresses (for example, the addresses that are used in SMTP protocol commands).

       Normally,  the  <b><a href="../man5/generic.5.html">generic</a></b>(5)  table  is  specified  as  a  text file that serves as input to the <b><a href="../man1/postmap.1.html">postmap</a></b>(1)
       command.  The result, an indexed file in <b>dbm</b> or <b>db</b> format, is used for fast searching by the mail system.
       Execute the command "<b>postmap</b>  <b>/etc/postfix/generic</b>"  to  rebuild  an  indexed  file  after  changing  the
       corresponding text file.

       When  the  table  is  provided via other means such as NIS, LDAP or SQL, the same lookups are done as for
       ordinary indexed files.

       Alternatively, the table can be provided as a regular-expression map where patterns are given as  regular
       expressions,  or lookups can be directed to a TCP-based server. In those cases, the lookups are done in a
       slightly different way as described below under "REGULAR EXPRESSION TABLES" or "TCP-BASED TABLES".

</pre><h4><b>CASE</b> <b>FOLDING</b></h4><pre>
       The search string is folded to lowercase before database lookup. As of Postfix 2.3, the search string  is
       not case folded with database types such as regexp: or pcre: whose lookup fields can match both upper and
       lower case.

</pre><h4><b>TABLE</b> <b>FORMAT</b></h4><pre>
       The input format for the <b><a href="../man1/postmap.1.html">postmap</a></b>(1) command is as follows:

       <u>pattern</u> <u>result</u>
              When <u>pattern</u> matches a mail address, replace it by the corresponding <u>result</u>.

       blank lines and comments
              Empty  lines  and  whitespace-only  lines  are  ignored,  as  are lines whose first non-whitespace
              character is a `#'.

       multi-line text
              A logical line starts with non-whitespace text. A line that starts  with  whitespace  continues  a
              logical line.

</pre><h4><b>TABLE</b> <b>SEARCH</b> <b>ORDER</b></h4><pre>
       With  lookups  from  indexed  files such as DB or DBM, or from networked tables such as NIS, LDAP or SQL,
       each <u>user</u>@<u>domain</u> query produces a sequence of query patterns as described below.

       Each query pattern is sent to each specified lookup table before trying the next query pattern,  until  a
       match is found.

       <u>user</u>@<u>domain</u> <u>address</u>
              Replace <u>user</u>@<u>domain</u> by <u>address</u>. This form has the highest precedence.

       <u>user</u> <u>address</u>
              Replace  <u>user</u>@<u>site</u>  by  <u>address</u>  when  <u>site</u>  is  equal  to  $<b>myorigin</b>,  when  <u>site</u>  is  listed  in
              $<b>mydestination</b>, or when it is listed in $<b>inet_interfaces</b> or $<b>proxy_interfaces</b>.

       @<u>domain</u> <u>address</u>
              Replace other addresses in <u>domain</u> by <u>address</u>.  This form has the lowest precedence.

</pre><h4><b>RESULT</b> <b>ADDRESS</b> <b>REWRITING</b></h4><pre>
       The lookup result is subject to address rewriting:

       •      When the result has the form @<u>otherdomain</u>, the result becomes the same <u>user</u> in <u>otherdomain</u>.

       •      When "<b>append_at_myorigin=yes</b>", append "<b>@$myorigin</b>" to addresses without "@domain".

       •      When "<b>append_dot_mydomain=yes</b>", append "<b>.$mydomain</b>" to addresses without ".domain".

</pre><h4><b>ADDRESS</b> <b>EXTENSION</b></h4><pre>
       When a mail address localpart contains the optional  recipient  delimiter  (e.g.,  <u>user+foo</u>@<u>domain</u>),  the
       lookup order becomes: <u>user+foo</u>@<u>domain</u>, <u>user</u>@<u>domain</u>, <u>user+foo</u>, <u>user</u>, and @<u>domain</u>.

       The  <b>propagate_unmatched_extensions</b>  parameter  controls whether an unmatched address extension (<u>+foo</u>) is
       propagated to the result of table lookup.

</pre><h4><b>REGULAR</b> <b>EXPRESSION</b> <b>TABLES</b></h4><pre>
       This section describes how the table lookups change when the table  is  given  in  the  form  of  regular
       expressions.  For  a  description  of  regular  expression  lookup  table  syntax, see <b><a href="../man5/regexp_table.5.html">regexp_table</a></b>(5) or
       <b><a href="../man5/pcre_table.5.html">pcre_table</a></b>(5).

       Each pattern is a regular expression that is applied  to  the  entire  address  being  looked  up.  Thus,
       <u>user@domain</u>  mail  addresses  are  not  broken  up  into their <u>user</u> and <u>@domain</u> constituent parts, nor is
       <u>user+foo</u> broken up into <u>user</u> and <u>foo</u>.

       Patterns are applied in the order as specified in the table, until a pattern is found  that  matches  the
       search string.

       Results  are  the  same  as  with  indexed  file  lookups, with the additional feature that parenthesized
       substrings from the pattern can be interpolated as <b>$1</b>, <b>$2</b> and so on.

</pre><h4><b>TCP-BASED</b> <b>TABLES</b></h4><pre>
       This section describes how the table lookups change when lookups are directed to a TCP-based server.  For
       a  description  of the TCP client/server lookup protocol, see <b><a href="../man5/tcp_table.5.html">tcp_table</a></b>(5).  This feature is available in
       Postfix 2.5 and later.

       Each lookup operation uses the entire address once.  Thus, <u>user@domain</u> mail addresses are not  broken  up
       into their <u>user</u> and <u>@domain</u> constituent parts, nor is <u>user+foo</u> broken up into <u>user</u> and <u>foo</u>.

       Results are the same as with indexed file lookups.

</pre><h4><b>EXAMPLE</b></h4><pre>
       The following shows a generic mapping with an indexed file.  When mail is sent to a remote host via SMTP,
       this  replaces  <u><a href="mailto:his@localdomain.local">his@localdomain.local</a></u>  by his ISP mail address, replaces <u><a href="mailto:her@localdomain.local">her@localdomain.local</a></u> by her ISP
       mail address, and replaces other local addresses by his ISP account, with an address extension of  <u>+local</u>
       (this example assumes that the ISP supports "+" style address extensions).

       /etc/postfix/main.cf:
           smtp_generic_maps = hash:/etc/postfix/generic

       /etc/postfix/generic:
           <a href="mailto:his@localdomain.local">his@localdomain.local</a>   <a href="mailto:hisaccount@hisisp.example">hisaccount@hisisp.example</a>
           <a href="mailto:her@localdomain.local">her@localdomain.local</a>   <a href="mailto:heraccount@herisp.example">heraccount@herisp.example</a>
           @localdomain.local      hisaccount+<a href="mailto:local@hisisp.example">local@hisisp.example</a>

       Execute  the command "<b>postmap</b> <b>/etc/postfix/generic</b>" whenever the table is changed.  Instead of <b>hash</b>, some
       systems use <b>dbm</b> database files. To find out what tables your system supports use  the  command  "<b>postconf</b>
       <b>-m</b>".

</pre><h4><b>BUGS</b></h4><pre>
       The table format does not understand quoting conventions.

</pre><h4><b>CONFIGURATION</b> <b>PARAMETERS</b></h4><pre>
       The  following  <b>main.cf</b>  parameters  are  especially  relevant.  The text below provides only a parameter
       summary. See <b><a href="../man5/postconf.5.html">postconf</a></b>(5) for more details including examples.

       <b>smtp_generic_maps</b> <b>(empty)</b>
              Optional lookup tables that perform address rewriting in the Postfix  SMTP  client,  typically  to
              transform  a  locally  valid  address  into  a globally valid address when sending mail across the
              Internet.

       <b>propagate_unmatched_extensions</b> <b>(canonical,</b> <b>virtual)</b>
              What address lookup tables copy an address extension from the lookup key to the lookup result.

       Other parameters of interest:

       <b>inet_interfaces</b> <b>(all)</b>
              The local network interface addresses that this mail system receives mail on.

       <b>proxy_interfaces</b> <b>(empty)</b>
              The remote network interface addresses that this mail system receives mail on by way of a proxy or
              network address translation unit.

       <b>mydestination</b> <b>($myhostname,</b> <b>localhost.$mydomain,</b> <b>localhost)</b>
              The list of domains that are delivered via the $local_transport mail delivery transport.

       <b>myorigin</b> <b>($myhostname)</b>
              The domain name that locally-posted mail appears to come from, and that  locally  posted  mail  is
              delivered to.

       <b>owner_request_special</b> <b>(yes)</b>
              Enable  special  treatment  for  owner-<u>listname</u>  entries  in  the <b><a href="../man5/aliases.5.html">aliases</a></b>(5) file, and don't split
              owner-<u>listname</u> and <u>listname</u>-request address localparts when the recipient_delimiter is set to "-".

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <a href="../man1/postmap.1.html">postmap</a>(1), Postfix lookup table manager
       <a href="../man5/postconf.5.html">postconf</a>(5), configuration parameters
       <a href="../man8/smtp.8.html">smtp</a>(8), Postfix SMTP client

</pre><h4><b>README</b> <b>FILES</b></h4><pre>
       Use "<b>postconf</b> <b>readme_directory</b>" or "<b>postconf</b> <b>html_directory</b>" to locate this information.
       ADDRESS_REWRITING_README, address rewriting guide
       DATABASE_README, Postfix lookup table overview
       STANDARD_CONFIGURATION_README, configuration examples

</pre><h4><b>LICENSE</b></h4><pre>
       The Secure Mailer license must be distributed with this software.

</pre><h4><b>HISTORY</b></h4><pre>
       A genericstable feature appears in the Sendmail MTA.

       This feature is available in Postfix 2.2 and later.

</pre><h4><b>AUTHOR(S)</b></h4><pre>
       Wietse Venema
       IBM T.J. Watson Research
       P.O. Box 704
       Yorktown Heights, NY 10598, USA

       Wietse Venema
       Google, Inc.
       111 8th Avenue
       New York, NY 10011, USA

                                                                                                      <u><a href="../man5/GENERIC.5.html">GENERIC</a></u>(5)
</pre>
 </div>
</div></section>
</div>
</body>
</html>