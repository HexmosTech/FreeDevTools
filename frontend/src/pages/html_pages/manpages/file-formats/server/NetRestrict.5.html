<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NetRestrict - Defines interfaces not to register with AFS servers</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/openafs-client">openafs-client_1.8.13.2-1ubuntu1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       NetRestrict - Defines interfaces not to register with AFS servers

</pre><h4><b>DESCRIPTION</b></h4><pre>
       There are two <u>NetRestrict</u> files, one for an AFS client and one for an AFS File Server or database server.
       The AFS client <u>NetRestrict</u> file specifies the IP addresses that the client should not register with the
       File Servers it connects to.  The server <u>NetRestrict</u> file specifies what interfaces should not be
       registered with AFS Database Servers or used to talk to other database servers.

   <b>FORMAT</b>
       The <u>NetRestrict</u> file is in ASCII format. One IP address appears on each line, in dotted decimal format.
       To specify a network instead, use a slash ("/") followed by a subnet length.  The order of the addresses
       is not significant.

   <b>Client</b> <b>NetRestrict</b>
       The <u>NetRestrict</u> file, if present in a client machine's <u>/etc/openafs</u> directory, defines the IP addresses
       of the interfaces that the local Cache Manager does not register with a File Server when first
       establishing a connection to it. For an explanation of how the File Server uses the registered
       interfaces, see <b><a href="../man5/NetInfo.5.html">NetInfo</a></b>(5).

       As it initializes, the Cache Manager constructs a list of interfaces to register, from the
       <u>/etc/openafs/NetInfo</u> file if it exists, or from the list of interfaces configured with the operating
       system otherwise.  The Cache Manager then removes from the list any addresses that appear in the
       <u>NetRestrict</u> file, if it exists. The Cache Manager records the resulting list in kernel memory.

       To display the addresses the Cache Manager is currently registering with File Servers, use the <b>fs</b>
       <b>getclientaddrs</b> command.

   <b>Server</b> <b>NetRestrict</b>
       The <u>NetRestrict</u> file, if present in the <u>/var/lib/openafs/local</u> directory, defines the following:

       •   On  a  file  server  machine, the local interfaces that the File Server (<b>fileserver</b> process) does not
           register in the Volume Location Database (VLDB) at initialization time.

       •   On a database server machine, the local interfaces that the Ubik synchronization library does not use
           when communicating with the database server processes running on other database server machines.

       As  it  initializes,  the  File  Server  constructs  a  list  of  interfaces  to   register,   from   the
       <u>/var/lib/openafs/local/NetInfo</u>  file  if  it  exists,  or from the list of interfaces configured with the
       operating system otherwise. The File Server then removes from the list any addresses that appear  in  the
       <u>NetRestrict</u>   file,   if   it   exists.   The   File   Server   records   the   resulting   list  in  the
       <u>/var/lib/openafs/local/sysid</u> file and registers the interfaces in the VLDB. The database server processes
       use a similar procedure when initializing, to determine which interfaces to use  for  communication  with
       the peer processes on other database machines in the cell.

       To display the File Server interface addresses registered in the VLDB, use the <b>vos</b> <b>listaddrs</b> command.

</pre><h4><b>EXAMPLES</b></h4><pre>
       If  the  File Server should not use the IP address 192.168.1.1 on one of its private interfaces, then the
       <u>NetRestrict</u> file should contain the following:

          196.168.1.1

       In order to prevent the usage of any 192.168/16 addresses on its local interfaces, the  <u>NetRestrict</u>  file
       should contain:

          196.168.0.0/16

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man5/NetInfo.5.html">NetInfo</a></b>(5), <b><a href="../man5/sysid.5.html">sysid</a></b>(5), <b><a href="../man5/vldb.DB0.5.html">vldb.DB0</a></b>(5), <b><a href="../man8/fileserver.8.html">fileserver</a></b>(8), <b><a href="../man1/fs_getclientaddrs.1.html">fs_getclientaddrs</a></b>(1) <b><a href="../man1/vos_listaddrs.1.html">vos_listaddrs</a></b>(1)

</pre><h4><b>COPYRIGHT</b></h4><pre>
       IBM Corporation 2000. &lt;<a href="http://www.ibm.com/">http://www.ibm.com/</a>&gt; All Rights Reserved.

       This  documentation  is covered by the IBM Public License Version 1.0.  It was converted from HTML to POD
       by software written by Chas Williams and Russ Allbery, based on  work  by  Alf  Wachsmann  and  Elizabeth
       Cassell.

OpenAFS                                            2025-03-21                                     <u><a href="../man5/NETRESTRICT.5.html">NETRESTRICT</a></u>(5)
</pre>
 </div>
</div></section>
</div>
</body>
</html>