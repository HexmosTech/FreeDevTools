<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NetInfo - Defines machine interfaces to register with AFS servers</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/openafs-client">openafs-client_1.8.13.2-1ubuntu1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       NetInfo - Defines machine interfaces to register with AFS servers

</pre><h4><b>DESCRIPTION</b></h4><pre>
       There are two <u>NetInfo</u> files, one for an AFS client and one for an AFS File Server or database server.
       The AFS client <u>NetInfo</u> file specifies the IP addresses that the client should register with the File
       Servers it connects to.  The server <u>NetInfo</u> file specifies what interfaces should be registered with AFS
       Database Servers or used to talk to other database servers.

   <b>Client</b> <b>NetInfo</b>
       The client <u>NetInfo</u> file lists the IP addresses of one or more of the local machine's network interfaces.
       If it exists in the <u>/etc/openafs</u> directory when the Cache Manager initializes, the Cache Manager uses its
       contents as the basis for a list of local interfaces. Otherwise, the Cache Manager uses the list of
       interfaces configured with the operating system. It then removes from the list any addresses that appear
       in the <u>/etc/openafs/NetRestrict</u> file, if it exists. The Cache Manager records the resulting list in
       kernel memory. The first time it establishes a connection to a File Server, it registers the list with
       the File Server.

       The File Server uses the addresses when it initiates a remote procedure call (RPC) to the Cache Manager
       (as opposed to responding to an RPC sent by the Cache Manager). There are two common circumstances in
       which the File Server initiates RPCs: when it breaks callbacks and when it pings the client machine to
       verify that the Cache Manager is still accessible.

       The <u>NetInfo</u> file is in ASCII format. One of the machine's IP addresses appears on each line, in dotted
       decimal format.  To match a network instead of an individual address, use a slash ("/") followed a subnet
       length.  The File Server initially uses the address that matches first in the list. The order of the
       remaining addresses is not significant: if an RPC to the first interface fails, the File Server
       simultaneously sends RPCs to all of the other interfaces in the list.  Whichever interface replies first
       is the one to which the File Server then sends pings and RPCs to break callbacks.

       To prohibit the Cache Manager absolutely from using one or more addresses, list them in the <u>NetRestrict</u>
       file. To display the addresses the Cache Manager is currently registering with File Servers, use the <b>fs</b>
       <b>getclientaddrs</b> command. To replace the current list of interfaces with a new one between reboots of the
       client machine, use the <b>fs</b> <b>setclientaddrs</b> command.

   <b>Server</b> <b>NetInfo</b>
       The server <u>NetInfo</u> file, if present in the <u>/var/lib/openafs/local</u> directory, defines the following:

       •   On a file server machine, the local interfaces that the File Server (<b>fileserver</b> process) can register
           in the Volume Location Database (VLDB) at initialization time.

       •   On  a  database  server  machine, the local interfaces that the Ubik database synchronization library
           uses when communicating with the database server processes running on other database server machines.

       If the <u>NetInfo</u> file exists when the File Server initializes, the File Server uses  its  contents  as  the
       basis for a list of interfaces to register in the VLDB. Otherwise, it uses the list of network interfaces
       configured  with  the  operating  system.  It then removes from the list any addresses that appear in the
       <u>/var/lib/openafs/local/NetRestrict</u> file, if it exists. The File Server records the resulting list in  the
       <u>/var/lib/openafs/local/sysid</u> file and registers the interfaces in the VLDB. The database server processes
       use  a  similar  procedure when initializing, to determine which interfaces to use for communication with
       the peer processes on other database machines in the cell.

       The <u>NetInfo</u> file is in ASCII format. One of the machine's IP addresses appears on each  line,  in  dotted
       decimal format.  To match a network instead of an individual address, use a slash ("/") followed a subnet
       length.  The order of the addresses is not significant.

       Optionally,  the File Server can be forced to use an IP address that does not belong to one of the server
       interfaces. To do this, add a line to the <u>NetInfo</u> file with the IP address prefixed with "f" and a space.
       This is useful when the File Server is on the internal side of a NAT firewall.

       To display the File Server interface addresses registered in the VLDB, use the <b>vos</b> <b>listaddrs</b> command.

</pre><h4><b>EXAMPLES</b></h4><pre>
       If the File Server is on the internal side of a NAT firewall, where it serves internal clients using  the
       IP  address  192.168.1.123  and  external  clients using the IP address 10.1.1.321, then the <u>NetInfo</u> file
       should contain the following:

          192.168.1.123
          f 10.1.1.321

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man5/NetRestrict.5.html">NetRestrict</a></b>(5),  <b><a href="../man5/sysid.5.html">sysid</a></b>(5),  <b><a href="../man5/vldb.DB0.5.html">vldb.DB0</a></b>(5),   <b><a href="../man8/fileserver.8.html">fileserver</a></b>(8),   <b><a href="../man1/fs_getclientaddrs.1.html">fs_getclientaddrs</a></b>(1),   <b><a href="../man1/fs_setclientaddrs.1.html">fs_setclientaddrs</a></b>(1),
       <b><a href="../man1/vos_listaddrs.1.html">vos_listaddrs</a></b>(1)

</pre><h4><b>COPYRIGHT</b></h4><pre>
       IBM Corporation 2000. &lt;<a href="http://www.ibm.com/">http://www.ibm.com/</a>&gt; All Rights Reserved.

       This  documentation  is covered by the IBM Public License Version 1.0.  It was converted from HTML to POD
       by software written by Chas Williams and Russ Allbery, based on  work  by  Alf  Wachsmann  and  Elizabeth
       Cassell.

OpenAFS                                            2025-03-21                                         <u><a href="../man5/NETINFO.5.html">NETINFO</a></u>(5)
</pre>
 </div>
</div></section>
</div>
</body>
</html>