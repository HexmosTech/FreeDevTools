<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>interfaces-bridge - Bridge extensions for the interfaces(5) file format</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/ifupdown-ng">ifupdown-ng_0.12.1-7_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       <b>interfaces-bridge</b> - Bridge extensions for the <a href="../man5/interfaces.5.html">interfaces</a>(5) file format

</pre><h4><b>DESCRIPTION</b></h4><pre>
       Linux  has  support  for  Ethernet bridging interfaces which act like an Ethernet switch within the Linux
       Kernel. The following options allow to set up  Ethernet  bridges  and  adding  configured  interfaces  to
       bridges.

       See <b><a href="../man8/ip-link.8.html">ip-link</a></b>(8) for more details about the options listed below.

</pre><h4><b>BRIDGE-RELATED</b> <b>OPTIONS</b></h4><pre>
       <b>bridge-ports</b> <u>list</u> <u>of</u> <u>interfaces</u>
           A  space separated list of interfaces which should be configured as member interfaces of this bridge.
           This option must be set for the bridge to be configured.

       <b>bridge-hw</b> <u>MAC</u> <u>address</u>
           Denotes the <u>MAC</u> <u>address</u> the bridge should use.

       <b>bridge-ageing</b> <u>seconds</u>
           Denotes the time in seconds after which a MAC address will be removed from  the  Forwarding  DataBase
           (FDB) after not having seen a frame with this source address.

       <b>bridge-vlan-aware</b> <u>bool</u>
           Denotes wether or not the bridge should be aware of 802.1q VLANs. <u>bool</u> can be given as <u>yes</u>/<u>no</u> or <u>0</u>/<u>1</u>.
           The defaul is <u>no</u>. See related options for configuring vlan-aware bridges, below.

</pre><h4><b>SPANNING</b> <b>TREE</b> <b>RELATED</b> <b>BRIDGE</b> <b>OPTIONS</b></h4><pre>
       <b>bridge-stp</b> <u>state</u>
           Activates or deactivates IEEE 802.1d Spanning Tree Protocol (STP) support of the bridge. Valid values
           are <u>on</u>/<u>off</u>.

       <b>bridge-bridgeprio</b> <u>priority</u>
           Sets  the  bridge's  priority  to <u>priority</u>. The priority value is a number between 0 and 65535. Lower
           priority values are better. The bridge with the lowest priority will be elected <u>root</u> <u>bridge</u>.

       <b>bridge-fd</b> <u>seconds</u>
           Denotes the bridge forward delay in seconds. Valid values are between 2 and 30.

       <b>bridge-hello</b> <u>seconds</u>
           Denotes the bridge hello time in seconds. Valid values are between 1 and 10.

       <b>bridge-maxage</b> <u>seconds</u>
           Denotes the seconds until another bridge is considerd dead after reception  of  its  last  STP  hello
           message. Valid values are between 6 and 40.

</pre><h4><b>OPTIONS</b> <b>FOR</b> <b>VLAN-AWARE-BRIDGES</b></h4><pre>
       The following options only have an effect on vlan-aware bridges and their ports.

       All settings can be applied on the bridge interface itself and all member port iface stanzas.  If applied
       on  the  bridge  interface  they  take  effect  for the bridge interface itself and might be inherited to
       <u>bridge-ports</u> depending on the compatibility settings configured in <b><a href="../man5/ifupdown-ng.conf.5.html">ifupdown-ng.conf</a></b>(5).

       Configuring VLAN options on the bridge interface might be required for setting up a VLAN interface to one
       of the VLANs carried within the bridge. See the EXAMPLES section for an example for this scenario.

       See <b><a href="../man5/ifupdown-ng.conf.5.html">ifupdown-ng.conf</a></b>(5) for more information about compatiblity settings mentioned below.

       <b>bridge-access</b> <u>vlan</u> <u>ID</u>
           Configure the given <u>vlan</u>  <u>ID</u>  for  untagged  ingress  and  egress  on  this  interface.   The  common
           description for this kind of configuration is called "access port".

       <b>bridge-pvid</b> <u>vlan</u> <u>ID</u>
           Denotes  the  <u>vlan</u> <u>ID</u> to considered a PVID at ingress. Any untagged frames received on this interface
           will be assigned to this <u>vlan</u> <u>ID</u>.  The default PVID is <u>1</u>.

           If compatibility to ifupdown2 bridge port inheritance is active a <u>bridge-pvid</u> set on the bridge  will
           be inherited to any interface configured in <u>bridge-ports</u> without a <u>bridge-pvid</u> set.

       <b>bridge-vids</b> <u>list</u> <u>of</u> <u>vlan</u> <u>IDs</u>
           Denotes the space separated list of VLANs to be allowed tagged ingress/egress on this interface.

           If  compatibility to ifupdown2 bridge port inheritance is active a <u>bridge-vids</u> set on the bridge will
           be inherited to any interface configured in <u>bridge-ports</u> without <u>bridge-vids</u> set.

       <b>bridge-allow-untagged</b> <u>bool</u>
           Denotes wether or not the bridge should allow untagged frames on ingress as well as egress. If set to
           <u>no</u> untagged frames will be droppped on ingress and none will be sent. <u>bool</u> can be given as <u>yes</u>/<u>no</u>  or
           <u>0</u>/<u>1</u>.  The defaul is <u>yes</u>.

</pre><h4><b>EXAMPLES</b></h4><pre>
       A simple layer 2 only bridge:

           auto br0
           iface br0
                bridge-ports eth0 veth-vm1 tap0
                bridge-fd 0
                bridge-stp off

       A bridge with layer 3 configuration:

           auto br0
           iface br0
                bridge-ports eth0 veth-vm1 tap0
                bridge-fd 0
                bridge-stp off
                #
                address 192.0.2.42/24
                address 2001:db8::42/64

       A layer 2 only vlan-aware bridge:

           auto bond0
           iface bond0
                bond-members eth0 eth1
                bridge-vids 23 42 84 1337

           auto br0
           iface br0
                bridge-ports bond0

       A vlan-aware bridge with a VLAN interface on top:

           auto eth0
           iface eth0
                bridge-vids 23 42 84 1337

           auto br0
           iface br0
                bridge-ports eth0
                bridge-vlan-aware yes
                bridge-vids 42

           auto vlan42
           iface vlan42
                vlan-raw-device br0
                #
                address 192.0.2.42/24
                address 2001:db8::42/64

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man5/interfaces.5.html">interfaces</a></b>(5) <b><a href="../man5/ifupdown-ng.conf.5.html">ifupdown-ng.conf</a></b>(5) <b><a href="../man8/ip-link.8.html">ip-link</a></b>(8) <b><a href="../man8/bridge.8.html">bridge</a></b>(8)

</pre><h4><b>AUTHORS</b></h4><pre>
       Maximilian Wilhelm &lt;<a href="mailto:max@sdn.clinic">max@sdn.clinic</a>&gt;

                                                   2025-03-25                               <u><a href="../man5/interfaces-bridge.5.html">interfaces-bridge</a></u>(5)
</pre>
 </div>
</div></section>
</div>
</body>
</html>