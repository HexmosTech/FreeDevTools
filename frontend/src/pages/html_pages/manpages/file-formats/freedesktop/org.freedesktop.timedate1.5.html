<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>org.freedesktop.timedate1 - The D-Bus interface of systemd-timedated</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/systemd">systemd_257.7-1ubuntu3_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       org.freedesktop.timedate1 - The D-Bus interface of systemd-timedated

</pre><h4><b>INTRODUCTION</b></h4><pre>
       <b><a href="../man8/systemd-timedated.service.8.html">systemd-timedated.service</a></b>(8) is a system service that can be used to control the system time and related
       settings. This page describes the D-Bus interface.

</pre><h4><b>THE</b> <b>D-BUS</b> <b>API</b></h4><pre>
       The service exposes the following interfaces on the bus:

           node /org/freedesktop/timedate1 {
             interface org.freedesktop.timedate1 {
               methods:
                 SetTime(in  x usec_utc,
                         in  b relative,
                         in  b interactive);
                 SetTimezone(in  s timezone,
                             in  b interactive);
                 SetLocalRTC(in  b local_rtc,
                             in  b fix_system,
                             in  b interactive);
                 SetNTP(in  b use_ntp,
                        in  b interactive);
                 ListTimezones(out as timezones);
               properties:
                 readonly s Timezone = '...';
                 readonly b LocalRTC = ...;
                 @org.freedesktop.DBus.Property.EmitsChangedSignal("false")
                 readonly b CanNTP = ...;
                 readonly b NTP = ...;
                 @org.freedesktop.DBus.Property.EmitsChangedSignal("false")
                 readonly b NTPSynchronized = ...;
                 @org.freedesktop.DBus.Property.EmitsChangedSignal("false")
                 readonly t TimeUSec = ...;
                 @org.freedesktop.DBus.Property.EmitsChangedSignal("false")
                 readonly t RTCTimeUSec = ...;
             };
             interface org.freedesktop.DBus.Peer { ... };
             interface org.freedesktop.DBus.Introspectable { ... };
             interface org.freedesktop.DBus.Properties { ... };
           };

   <b>Methods</b>
       Use <b>SetTime()</b> to change the system clock. Pass a value of microseconds since the UNIX epoch (1 Jan 1970
       UTC). If <u>relative</u> is true, the passed usec value will be added to the current system time. If it is
       false, the current system time will be set to the passed usec value. If the system time is set with this
       method, the RTC will be updated as well.

       Use <b>SetTimezone()</b> to set the system timezone. Pass a value like "Europe/Berlin" to set the timezone.
       Valid timezones are listed in /usr/share/zoneinfo/zone.tab. If the RTC is configured to be maintained in
       local time, it will be updated accordingly.

       Use <b>SetLocalRTC()</b> to control whether the RTC is in local time or UTC. It is strongly recommended to
       maintain the RTC in UTC. However, some OSes (Windows) maintain the RTC in local time, which might make it
       necessary to enable this feature. Note that this might create various problems as daylight changes could
       be missed. If <u>fix_system</u> is "true", the time from the RTC is read again and the system clock is adjusted
       according to the new setting. If <u>fix_system</u> is "false", the system time is written to the RTC taking the
       new setting into account. Use <u>fix_system=true</u> in installers and livecds where the RTC is probably more
       reliable than the system time. Use <u>fix_system=false</u> in configuration UIs that are run during normal
       operation and where the system clock is probably more reliable than the RTC.

       Use <b>SetNTP()</b> to control whether the system clock is synchronized with the network using
       systemd-timesyncd. This will enable and start or disable and stop the chosen time synchronization
       service.

       <b>ListTimezones()</b> returns a list of time zones known on the local system as an array of names
       ("["Africa/Abidjan", "Africa/Accra", ..., "UTC"]").

   <b>Properties</b>
       <u>Timezone</u> shows the currently configured time zone.  <u>LocalRTC</u> shows whether the RTC is configured to use
       UTC (false), or the local time zone (true).  <u>CanNTP</u> shows whether a service to perform time
       synchronization over the network is available, and <u>NTP</u> shows whether such a service is enabled.

       <u>NTPSynchronized</u> shows whether the kernel reports the time as synchronized (c.f.  <b><a href="../man3/adjtimex.3.html">adjtimex</a></b>(3)).  <u>TimeUSec</u>
       and <u>RTCTimeUSec</u> show the current time on the system and in the RTC. The purpose of those three properties
       is to allow remote clients to access this information over D-Bus. Local clients can access the
       information directly.

       Whenever the <u>Timezone</u> and <u>LocalRTC</u> settings are changed via the daemon, <b>PropertyChanged</b> signals are sent
       out to clients which have subscribed.

       Note that this service will not inform you about system time changes. Use <b><a href="../man3/timerfd.3.html">timerfd</a></b>(3) with <b>CLOCK_REALTIME</b>
       and <b>TFD_TIMER_CANCEL_ON_SET</b> for that.

   <b>Security</b>
       The <u>interactive</u> boolean parameters can be used to control whether <b>polkit</b>[1] should interactively ask the
       user for authentication credentials if required.

       The polkit action for <b>SetTimezone()</b> is org.freedesktop.timedate1.set-timezone. For <b>SetLocalRTC()</b> it is
       org.freedesktop.timedate1.set-local-rtc, for <b>SetTime()</b> it is org.freedesktop.timedate1.set-time and for
       <b>SetNTP()</b> it is org.freedesktop.timedate1.set-ntp.  <b>ListTimezones()</b> does not require any privileges.

</pre><h4><b>EXAMPLES</b></h4><pre>
       <b>Example</b> <b>1.</b> <b>Introspect</b> <b>org.freedesktop.timedate1</b> <b>on</b> <b>the</b> <b>bus</b>

           $ gdbus introspect --system \
             --dest org.freedesktop.timedate1 \
             --object-path /org/freedesktop/timedate1

</pre><h4><b>VERSIONING</b></h4><pre>
       These D-Bus interfaces follow <b>the</b> <b>usual</b> <b>interface</b> <b>versioning</b> <b>guidelines</b>[2].

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man1/systemd.1.html">systemd</a></b>(1), <b><a href="../man8/systemd-timedate.service.8.html">systemd-timedate.service</a></b>(8), <b><a href="../man1/timedatectl.service.1.html">timedatectl.service</a></b>(1), <b>More</b> <b>information</b> <b>on</b> <b>how</b> <b>the</b> <b>system</b> <b>clock</b>
       <b>and</b> <b>RTC</b> <b>interact</b>[3]

</pre><h4><b>NOTES</b></h4><pre>
        1. polkit
           https://www.freedesktop.org/software/polkit/docs/latest/

        2. the usual interface versioning guidelines
           https://0pointer.de/blog/projects/versioning-dbus.html

        3. More information on how the system clock and RTC interact
           https://lists.freedesktop.org/archives/systemd-devel/2011-May/002526.html

systemd 257.7                                                                       <u><a href="../man5/ORG.FREEDESKTOP.TIMEDATE1.5.html">ORG.FREEDESKTOP.TIMEDATE1</a></u>(5)
</pre>
 </div>
</div></section>
</div>
</body>
</html>