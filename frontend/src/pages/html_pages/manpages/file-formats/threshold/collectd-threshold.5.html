<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>collectd-threshold - Documentation of collectd's Threshold plugin</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/collectd-core">collectd-core_5.12.0-23ubuntu2_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       collectd-threshold - Documentation of collectd's Threshold plugin

</pre><h4><b>SYNOPSIS</b></h4><pre>
        LoadPlugin "threshold"
        &lt;Plugin "threshold"&gt;
          &lt;Type "foo"&gt;
            WarningMin    0.00
            WarningMax 1000.00
            FailureMin    0.00
            FailureMax 1200.00
            Invert false
            Instance "bar"
          &lt;/Type&gt;
        &lt;/Plugin&gt;

</pre><h4><b>DESCRIPTION</b></h4><pre>
       Starting with version 4.3.0 <u>collectd</u> has support for <b>monitoring</b>. By that we mean that the values are not
       only stored or sent somewhere, but that they are judged and, if a problem is recognized, acted upon. The
       only action the <u>Threshold</u> <u>plugin</u> takes itself is to generate and dispatch a <u>notification</u>. Other plugins
       can register to receive notifications and perform appropriate further actions.

       Since systems and what you expect them to do differ a lot, you can configure <u>thresholds</u> for your values
       freely. This gives you a lot of flexibility but also a lot of responsibility.

       Every time a value is out of range, a notification is dispatched. This means that the idle percentage of
       your CPU needs to be less then the configured threshold only once for a notification to be generated.
       There's no such thing as a moving average or similar - at least not now.

       Also, all values that match a threshold are considered to be relevant or "interesting". As a consequence
       collectd will issue a notification if they are not received for <b>Timeout</b> iterations. The <b>Timeout</b>
       configuration option is explained in section "GLOBAL OPTIONS" in <b><a href="../man5/collectd.conf.5.html">collectd.conf</a></b>(5). If, for example,
       <b>Timeout</b> is set to "2" (the default) and some hosts sends its CPU statistics to the server every 60
       seconds, a notification will be dispatched after about 120 seconds. It may take a little longer because
       the timeout is checked only once each <b>Interval</b> on the server.

       When a value comes within range again or is received after it was missing, an "OKAY-notification" is
       dispatched.

</pre><h4><b>CONFIGURATION</b></h4><pre>
       Here is a configuration example to get you started. Read below for more information.

        LoadPlugin "threshold"
        &lt;Plugin "threshold"&gt;
          &lt;Type "foo"&gt;
            WarningMin    0.00
            WarningMax 1000.00
            FailureMin    0.00
            FailureMax 1200.00
            Invert false
            Instance "bar"
          &lt;/Type&gt;

          &lt;Plugin "interface"&gt;
            Instance "eth0"
            &lt;Type "if_octets"&gt;
              FailureMax 10000000
              DataSource "rx"
            &lt;/Type&gt;
          &lt;/Plugin&gt;

          &lt;Host "hostname"&gt;
            &lt;Type "cpu"&gt;
              Instance "idle"
              FailureMin 10
            &lt;/Type&gt;

            &lt;Plugin "memory"&gt;
              &lt;Type "memory"&gt;
                Instance "cached"
                WarningMin 100000000
              &lt;/Type&gt;
            &lt;/Plugin&gt;

            &lt;Type "load"&gt;
               DataSource "midterm"
               FailureMax 4
               Hits 3
               Hysteresis 3
            &lt;/Type&gt;
          &lt;/Host&gt;
        &lt;/Plugin&gt;

       There are basically two types of configuration statements: The "Host", "Plugin", and "Type" blocks select
       the value for which a threshold should be configured. The "Plugin" and "Type" blocks may be specified
       further using the "Instance" option. You can combine the block by nesting the blocks, though they must be
       nested in the above order, i.e. "Host" may contain either "Plugin" and "Type" blocks, "Plugin" may only
       contain "Type" blocks and "Type" may not contain other blocks. If multiple blocks apply to the same value
       the most specific block is used.

       The other statements specify the threshold to configure. They <b>must</b> be included in a "Type" block.
       Currently the following statements are recognized:

       <b>FailureMax</b> <u>Value</u>
       <b>WarningMax</b> <u>Value</u>
           Sets  the  upper  bound  of  acceptable values. If unset defaults to positive infinity. If a value is
           greater than <b>FailureMax</b> a <b>FAILURE</b> notification  will  be  created.  If  the  value  is  greater  than
           <b>WarningMax</b> but less than (or equal to) <b>FailureMax</b> a <b>WARNING</b> notification will be created.

       <b>FailureMin</b> <u>Value</u>
       <b>WarningMin</b> <u>Value</u>
           Sets the lower bound of acceptable values. If unset defaults to negative infinity. If a value is less
           than  <b>FailureMin</b>  a  <b>FAILURE</b>  notification  will be created. If the value is less than <b>WarningMin</b> but
           greater than (or equal to) <b>FailureMin</b> a <b>WARNING</b> notification will be created.

       <b>DataSource</b> <u>DSName</u>
           Some data sets have more than one "data source". Interesting examples are the "if_octets"  data  set,
           which  has  received ("rx") and sent ("tx") bytes and the "disk_ops" data set, which holds "read" and
           "write" operations. The system load data set, "load",  even  has  three  data  sources:  "shortterm",
           "midterm", and "longterm".

           Normally,  all data sources are checked against a configured threshold. If this is undesirable, or if
           you want to specify different limits for each data source, you can use the <b>DataSource</b> option to  have
           a threshold apply only to one data source.

       <b>Invert</b> <b>true</b>|<b>false</b>
           If  set  to  <b>true</b>  the  range  of  acceptable  values is inverted, i.e. values between <b>FailureMin</b> and
           <b>FailureMax</b> (<b>WarningMin</b> and <b>WarningMax</b>) are not okay. Defaults to <b>false</b>.

       <b>Persist</b> <b>true</b>|<b>false</b>
           Sets how often notifications are generated. If set to <b>true</b> one notification  will  be  generated  for
           each  value that is out of the acceptable range. If set to <b>false</b> (the default) then a notification is
           only generated if a value is out of range but the previous value was okay.

           This applies to missing values, too: If set to <b>true</b> a notification about a missing value is generated
           once every <b>Interval</b> seconds. If set to <b>false</b> only one such notification is generated until the  value
           appears again.

       <b>PersistOK</b> <b>true</b>|<b>false</b>
           Sets  how  OKAY  notifications  act. If set to <b>true</b> one notification will be generated for each value
           that is in the acceptable range. If set to <b>false</b> (the default) then a notification is only  generated
           if a value is in range but the previous value was not.

       <b>Percentage</b> <b>true</b>|<b>false</b>
           If set to <b>true</b>, the minimum and maximum values given are interpreted as percentage value, relative to
           the  other data sources. This is helpful for example for the "df" type, where you may want to issue a
           warning when less than 5 % of the total space is available. Defaults to <b>false</b>.

       <b>Hits</b> <u>Value</u>
           Sets the number of occurrences which the threshold must be raised before to dispatch any notification
           or, in other words, the number of <b>Interval</b>s that the threshold must  be  match  before  dispatch  any
           notification.

       <b>Hysteresis</b> <u>Value</u>
           Sets  the  hysteresis  value  for  threshold.  The hysteresis is a method to prevent flapping between
           states, until a new received value for a  previously  matched  threshold  down  below  the  threshold
           condition  (<b>WarningMax</b>,  <b>FailureMin</b>  or  everything  else)  minus  the  hysteresis value, the failure
           (respectively warning) state will be keep.

       <b>Interesting</b> <b>true</b>|<b>false</b>
           If set to <b>true</b> (the default), a notification with severity "FAILURE" will be created when a  matching
           value  list is no longer updated and purged from the internal cache. When this happens depends on the
           <u>interval</u> of the value list and the global <b>Timeout</b> setting. See the <b>Interval</b> and <b>Timeout</b>  settings  in
           <b><a href="../man5/collectd.conf.5.html">collectd.conf</a></b>(5) for details. If set to <b>false</b>, this event will be ignored.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man1/collectd.1.html">collectd</a></b>(1), <b><a href="../man5/collectd.conf.5.html">collectd.conf</a></b>(5)

</pre><h4><b>AUTHOR</b></h4><pre>
       Florian Forster &lt;octo at collectd.org&gt;

5.12.0.git                                         2025-08-07                              <u><a href="../man5/COLLECTD-THRESHOLD.5.html">COLLECTD-THRESHOLD</a></u>(5)
</pre>
 </div>
</div></section>
</div>
</body>
</html>