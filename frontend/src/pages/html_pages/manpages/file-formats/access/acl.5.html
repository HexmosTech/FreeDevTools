<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>acl — Access Control Lists</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/acl">acl_2.3.2-2_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       acl — Access Control Lists

</pre><h4><b>DESCRIPTION</b></h4><pre>
       This  manual  page  describes  POSIX  Access  Control  Lists,  which are used to define more fine-grained
       discretionary access rights for files and directories.

</pre><h4><b>ACL</b> <b>TYPES</b></h4><pre>
       Every object can be thought of as having associated with it an ACL that governs the discretionary  access
       to that object; this ACL is referred to as an access ACL. In addition, a directory may have an associated
       ACL  that  governs the initial access ACL for objects created within that directory; this ACL is referred
       to as a default ACL.

</pre><h4><b>ACL</b> <b>ENTRIES</b></h4><pre>
       An ACL consists of a set of ACL entries. An ACL entry specifies the access permissions on the  associated
       object  for  an  individual  user  or a group of users as a combination of read, write and search/execute
       permissions.

       An ACL entry contains an entry tag type, an optional entry tag qualifier, and a set of  permissions.   We
       use the term qualifier to denote the entry tag qualifier of an ACL entry.

       The  qualifier  denotes  the  identifier  of a user or a group, for entries with tag types of ACL_USER or
       ACL_GROUP, respectively. Entries with tag  types  other  than  ACL_USER  or  ACL_GROUP  have  no  defined
       qualifiers.

       The following entry tag types are defined:

             ACL_USER_OBJ    The ACL_USER_OBJ entry denotes access rights for the file owner.

             ACL_USER        ACL_USER  entries  denote  access  rights  for  users  identified  by  the  entry's
                             qualifier.

             ACL_GROUP_OBJ   The ACL_GROUP_OBJ entry denotes access rights for the file group.

             ACL_GROUP       ACL_GROUP entries denote  access  rights  for  groups  identified  by  the  entry's
                             qualifier.

             ACL_MASK        The ACL_MASK entry denotes the maximum access rights that can be granted by entries
                             of type ACL_USER, ACL_GROUP_OBJ, or ACL_GROUP.

             ACL_OTHER       The ACL_OTHER entry denotes access rights for processes that do not match any other
                             entry in the ACL.

       When an access check is performed, the ACL_USER_OBJ and ACL_USER entries are tested against the effective
       user  ID.  The  effective  group  ID,  as  well  as  all  supplementary  group IDs are tested against the
       ACL_GROUP_OBJ and ACL_GROUP entries.

</pre><h4><b>VALID</b> <b>ACLs</b></h4><pre>
       A valid ACL contains exactly one entry with each of the ACL_USER_OBJ, ACL_GROUP_OBJ,  and  ACL_OTHER  tag
       types. Entries with ACL_USER and ACL_GROUP tag types may appear zero or more times in an ACL. An ACL that
       contains  entries  of  ACL_USER or ACL_GROUP tag types must contain exactly one entry of the ACL_MASK tag
       type. If an ACL contains no entries of ACL_USER or ACL_GROUP tag types, the ACL_MASK entry is optional.

       All user ID qualifiers must be unique among all entries of ACL_USER tag type, and all group IDs  must  be
       unique among all entries of ACL_GROUP tag type.

         The  <b>acl_get_file</b>() function returns an ACL with zero ACL entries as the default ACL of a directory, if
       the directory is not associated with a default ACL. The <b>acl_set_file</b>() function also accepts an ACL  with
       zero  ACL  entries  as  a  valid  default  ACL  for directories, denoting that the directory shall not be
       associated with a default ACL. This is equivalent to using the <b>acl_delete_def_file</b>() function.

</pre><h4><b>CORRESPONDENCE</b> <b>BETWEEN</b> <b>ACL</b> <b>ENTRIES</b> <b>AND</b> <b>FILE</b> <b>PERMISSION</b> <b>BITS</b></h4><pre>
       The permissions defined by ACLs are a superset of the permissions specified by the file permission bits.

       There is a correspondence between the file owner, group, and other permissions and specific ACL  entries:
       the owner permissions correspond to the permissions of the ACL_USER_OBJ entry. If the ACL has an ACL_MASK
       entry,  the group permissions correspond to the permissions of the ACL_MASK entry.  Otherwise, if the ACL
       has no ACL_MASK entry, the group permissions correspond to the permissions of  the  ACL_GROUP_OBJ  entry.
       The other permissions correspond to the permissions of the ACL_OTHER entry.

       The file owner, group, and other permissions always match the permissions of the corresponding ACL entry.
       Modification  of  the file permission bits results in the modification of the associated ACL entries, and
       modification of these ACL entries results in the modification of the file permission bits.

</pre><h4><b>OBJECT</b> <b>CREATION</b> <b>AND</b> <b>DEFAULT</b> <b>ACLs</b></h4><pre>
       The access ACL of a file object is initialized when the object  is  created  with  any  of  the  <b>creat</b>(),
       <b>mkdir</b>(),  <b>mknod</b>(),  <b>mkfifo</b>(),  or  <b>open</b>() functions. If a default ACL is associated with a directory, the
       <u>mode</u> parameter to the functions creating file objects and the default ACL of the directory  are  used  to
       determine the ACL of the new object:

       1.   The new object inherits the default ACL of the containing directory as its access ACL.

       2.   The  access  ACL entries corresponding to the file permission bits are modified so that they contain
            no permissions that are not contained in the permissions specified by the <u>mode</u> parameter.

       If no default ACL is associated with a directory, the <u>mode</u>  parameter  to  the  functions  creating  file
       objects and the file creation mask (see <u><a href="../man2/umask.2.html">umask</a></u>(2)) are used to determine the ACL of the new object:

       1.   The   new  object  is  assigned  an  access  ACL  containing  entries  of  tag  types  ACL_USER_OBJ,
            ACL_GROUP_OBJ, and ACL_OTHER. The permissions of these entries are set to the permissions  specified
            by the file creation mask.

       2.   The  access  ACL entries corresponding to the file permission bits are modified so that they contain
            no permissions that are not contained in the permissions specified by the <u>mode</u> parameter.

</pre><h4><b>ACCESS</b> <b>CHECK</b> <b>ALGORITHM</b></h4><pre>
       A process may request read, write, or execute/search access to a file object protected  by  an  ACL.  The
       access check algorithm determines whether access to the object will be granted.

       1.   <b>If</b> the effective user ID of the process matches the user ID of the file object owner, <b>then</b>

                  <b>if</b> the ACL_USER_OBJ entry contains the requested permissions, access is granted,

                  <b>else</b> access is denied.

       2.   <b>else</b>  <b>if</b>  the  effective user ID of the process matches the qualifier of any entry of type ACL_USER,
            <b>then</b>

                  <b>if</b> the matching ACL_USER entry and the  ACL_MASK  entry  contain  the  requested  permissions,
                  access is granted,

                  <b>else</b> access is denied.

       3.   <b>else</b>  <b>if</b>  the effective group ID or any of the supplementary group IDs of the process match the file
            group or the qualifier of any entry of type ACL_GROUP, <b>then</b>

                  <b>if</b> the ACL contains an ACL_MASK entry, <b>then</b>

                        <b>if</b> the ACL_MASK entry and any of the matching ACL_GROUP_OBJ or ACL_GROUP entries contain
                        the requested permissions, access is granted,

                        <b>else</b> access is denied.

                  <b>else</b> (note that there can be no ACL_GROUP entries without an ACL_MASK entry)

                        <b>if</b> the ACL_GROUP_OBJ entry contains the requested permissions, access is granted,

                        <b>else</b> access is denied.

       4.   <b>else</b> <b>if</b> the ACL_OTHER entry contains the requested permissions, access is granted.

       5.   <b>else</b> access is denied.

</pre><h4><b>ACL</b> <b>TEXT</b> <b>FORMS</b></h4><pre>
       A long and a short text form for representing ACLs is defined. In both forms, ACL entries are represented
       as three colon separated fields: an ACL entry tag type, an ACL entry  qualifier,  and  the  discretionary
       access permissions. The first field contains one of the following entry tag type keywords:

             <b>user</b>    A  <b>user</b>  ACL  entry  specifies  the access granted to either the file owner (entry tag type
                     ACL_USER_OBJ) or a specified user (entry tag type ACL_USER).

             <b>group</b>   A <b>group</b> ACL entry specifies the access granted to either the file  group  (entry  tag  type
                     ACL_GROUP_OBJ) or a specified group (entry tag type ACL_GROUP).

             <b>mask</b>    A  <b>mask</b> ACL entry specifies the maximum access which can be granted by any ACL entry except
                     the <b>user</b> entry for the file owner and the <b>other</b> entry (entry tag type ACL_MASK).

             <b>other</b>   An <b>other</b> ACL entry specifies the access granted to any process that does not match any <b>user</b>
                     or <b>group</b> ACL entries (entry tag type ACL_OTHER).

       The second field contains the user or group identifier of the user or group associated with the ACL entry
       for entries of entry tag type ACL_USER or  ACL_GROUP,  and  is  empty  for  all  other  entries.  A  user
       identifier can be a user name or a user ID number in decimal form. A group identifier can be a group name
       or a group ID number in decimal form.

       The  third  field  contains  the  discretionary  access  permissions.  The read, write and search/execute
       permissions are represented by the <b>r</b>, <b>w</b>, and <b>x</b> characters, in this order. Each  of  these  characters  is
       replaced by the <b>-</b> character to denote that a permission is absent in the ACL entry.  When converting from
       the text form to the internal representation, permissions that are absent need not be specified.

       White  space  is permitted at the beginning and end of each ACL entry, and immediately before and after a
       field separator (the colon character).

   <b>LONG</b> <b>TEXT</b> <b>FORM</b>
       The long text form contains one ACL entry per line. In addition, a number sign (<b>#</b>) may  start  a  comment
       that  extends  until  the  end of the line. If an ACL_USER, ACL_GROUP_OBJ or ACL_GROUP ACL entry contains
       permissions that are not also contained in the ACL_MASK entry, the entry is followed by  a  number  sign,
       the  string  “effective:”, and the effective access permissions defined by that entry. This is an example
       of the long text form:

             user::rw-
             user:lisa:rw-         #effective:r--
             group::r--
             group:toolies:rw-     #effective:r--
             mask::r--

             other::r--
   <b>SHORT</b> <b>TEXT</b> <b>FORM</b>
       The short text form is a sequence of ACL entries separated by commas, and is used for input. Comments are
       not supported. Entry tag type keywords may either appear in their full unabbreviated form,  or  in  their
       single  letter  abbreviated  form.  The  abbreviation for <b>user</b> is <b>u</b>, the abbreviation for <b>group</b> is <b>g</b>, the
       abbreviation for <b>mask</b> is <b>m</b>, and the abbreviation for <b>other</b> is <b>o</b>.  The permissions may contain at most one
       each of the following characters in any order: <b>r</b>, <b>w</b>, <b>x</b>.  These are examples of the short text form:

             u::rw-,u:lisa:rw-,g::r--,g:toolies:rw-,m::r--,o::r--
             g:toolies:rw,u:lisa:rw,u::wr,g::r,o::r,m::r

</pre><h4><b>RATIONALE</b></h4><pre>
       IEEE 1003.1e draft 17 defines Access Control Lists that include entries of tag type ACL_MASK, and defines
       a mapping between file permission bits that is not constant. The  standard  working  group  defined  this
       relatively  complex  interface  in  order to ensure that applications that are compliant with IEEE 1003.1
       (“POSIX.1”) will still function as expected on systems with ACLs. The IEEE 1003.1e draft 17 contains  the
       rationale for choosing this interface in section B.23.

</pre><h4><b>CHANGES</b> <b>TO</b> <b>THE</b> <b>FILE</b> <b>UTILITIES</b></h4><pre>
       On  a  system that supports ACLs, the file utilities <u><a href="../man1/ls.1.html">ls</a></u>(1), <u><a href="../man1/cp.1.html">cp</a></u>(1), and <u><a href="../man1/mv.1.html">mv</a></u>(1) change their behavior in the
       following way:

       <b>•</b>   For files that have a default ACL or an access ACL that contains more than  the  three  required  ACL
           entries,  the  <u><a href="../man1/ls.1.html">ls</a></u>(1)  utility  in  the long form produced by <b>ls</b> <b>-l</b> displays a plus sign (<b>+</b>) after the
           permission string.

       <b>•</b>   If the <b>-p</b> flag is specified, the <u><a href="../man1/cp.1.html">cp</a></u>(1) utility also preserves ACLs.   If  this  is  not  possible,  a
           warning is produced.

       <b>•</b>     The <u><a href="../man1/mv.1.html">mv</a></u>(1) utility always preserves ACLs. If this is not possible, a warning is produced.

       The  effect  of  the <u><a href="../man1/chmod.1.html">chmod</a></u>(1) utility, and of the <u><a href="../man2/chmod.2.html">chmod</a></u>(2) system call, on the access ACL is described in
       “CORRESPONDENCE BETWEEN ACL ENTRIES AND FILE PERMISSION BITS”.

</pre><h4><b>STANDARDS</b></h4><pre>
       The IEEE 1003.1e draft 17 (“POSIX.1e”) document describes several security extensions to the IEEE  1003.1
       standard.  While  the  work  on  1003.1e  has  been abandoned, many UNIX style systems implement parts of
       POSIX.1e draft 17, or of earlier drafts.

       Linux Access Control Lists implement the full set of functions and utilities defined for  Access  Control
       Lists in POSIX.1e, and several extensions.  The implementation is fully compliant with POSIX.1e draft 17;
       extensions  are  marked  as  such.  The Access Control List manipulation functions are defined in the ACL
       library (libacl, -lacl). The POSIX compliant interfaces are declared in the <b>&lt;sys/acl.h&gt;</b>  header.   Linux-
       specific extensions to these functions are declared in the <b>&lt;acl/libacl.h&gt;</b> header.

</pre><h4><b>NOTES</b></h4><pre>
   <b>DENIED</b> <b>PERMISSIONS</b> <b>AND</b> <b>LINUX</b> <b>USER</b> <b>NAMESPACES</b>
       While  ACLs can be used to deny processes permissions based on the groups they are in, this is considered
       bad practice.  Privileged helpers such as <u><a href="../man1/newuidmap.1.html">newuidmap</a></u>(1) can give  unprivileged  processes  access  to  the
       <u><a href="../man2/setgroups.2.html">setgroups</a></u>(2)  system  call,  which  allows  them  to  drop  supplementary  group  membership  and  render
       restrictions based on that membership ineffective.  For further details, see <u><a href="../man7/user_namespaces.7.html">user_namespaces</a></u>(7).

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <u><a href="../man1/chmod.1.html">chmod</a></u>(1), <u><a href="../man2/creat.2.html">creat</a></u>(2), <u><a href="../man1/getfacl.1.html">getfacl</a></u>(1), <u><a href="../man1/ls.1.html">ls</a></u>(1), <u><a href="../man2/mkdir.2.html">mkdir</a></u>(2),  <u><a href="../man2/mkfifo.2.html">mkfifo</a></u>(2),  <u><a href="../man2/mknod.2.html">mknod</a></u>(2),  <u><a href="../man8/mount.8.html">mount</a></u>(8),  <u><a href="../man2/open.2.html">open</a></u>(2),  <u><a href="../man1/setfacl.1.html">setfacl</a></u>(1),
       <u><a href="../man2/stat.2.html">stat</a></u>(2), <u><a href="../man1/umask.1.html">umask</a></u>(1)

   <b>POSIX</b> <b>1003.1e</b> <b>DRAFT</b> <b>17</b>
       <u>https://wt.tuxomania.net/publications/posix.1e/download.html</u>

   <b>POSIX</b> <b>1003.1e</b> <b>FUNCTIONS</b> <b>BY</b> <b>CATEGORY</b>
       <b>ACL</b> <b>storage</b> <b>management</b>
            <u><a href="../man3/acl_dup.3.html">acl_dup</a></u>(3), <u><a href="../man3/acl_free.3.html">acl_free</a></u>(3), <u><a href="../man3/acl_init.3.html">acl_init</a></u>(3)

       <b>ACL</b> <b>entry</b> <b>manipulation</b>
            <u><a href="../man3/acl_copy_entry.3.html">acl_copy_entry</a></u>(3), <u><a href="../man3/acl_create_entry.3.html">acl_create_entry</a></u>(3), <u><a href="../man3/acl_delete_entry.3.html">acl_delete_entry</a></u>(3), <u><a href="../man3/acl_get_entry.3.html">acl_get_entry</a></u>(3), <u><a href="../man3/acl_valid.3.html">acl_valid</a></u>(3)

            <u><a href="../man3/acl_add_perm.3.html">acl_add_perm</a></u>(3),   <u><a href="../man3/acl_calc_mask.3.html">acl_calc_mask</a></u>(3),   <u><a href="../man3/acl_clear_perms.3.html">acl_clear_perms</a></u>(3),  <u><a href="../man3/acl_delete_perm.3.html">acl_delete_perm</a></u>(3),  <u><a href="../man3/acl_get_permset.3.html">acl_get_permset</a></u>(3),
            <u><a href="../man3/acl_set_permset.3.html">acl_set_permset</a></u>(3)

            <u><a href="../man3/acl_get_qualifier.3.html">acl_get_qualifier</a></u>(3), <u><a href="../man3/acl_get_tag_type.3.html">acl_get_tag_type</a></u>(3), <u><a href="../man3/acl_set_qualifier.3.html">acl_set_qualifier</a></u>(3), <u><a href="../man3/acl_set_tag_type.3.html">acl_set_tag_type</a></u>(3)

       <b>ACL</b> <b>manipulation</b> <b>on</b> <b>an</b> <b>object</b>
            <u><a href="../man3/acl_delete_def_file.3.html">acl_delete_def_file</a></u>(3), <u><a href="../man3/acl_get_fd.3.html">acl_get_fd</a></u>(3), <u><a href="../man3/acl_get_file.3.html">acl_get_file</a></u>(3), <u><a href="../man3/acl_set_fd.3.html">acl_set_fd</a></u>(3), <u><a href="../man3/acl_set_file.3.html">acl_set_file</a></u>(3)

       <b>ACL</b> <b>format</b> <b>translation</b>
            <u><a href="../man3/acl_copy_entry.3.html">acl_copy_entry</a></u>(3), <u><a href="../man3/acl_copy_ext.3.html">acl_copy_ext</a></u>(3), <u><a href="../man3/acl_from_text.3.html">acl_from_text</a></u>(3), <u><a href="../man3/acl_to_text.3.html">acl_to_text</a></u>(3), <u><a href="../man3/acl_size.3.html">acl_size</a></u>(3)

   <b>POSIX</b> <b>1003.1e</b> <b>FUNCTIONS</b> <b>BY</b> <b>AVAILABILITY</b>
       The first group of functions is supported on most systems with POSIX-like access control lists, while the
       second group is supported on fewer systems.  For applications that will be ported  the  second  group  is
       best avoided.

       <u><a href="../man3/acl_delete_def_file.3.html">acl_delete_def_file</a></u>(3),   <u><a href="../man3/acl_dup.3.html">acl_dup</a></u>(3),   <u><a href="../man3/acl_free.3.html">acl_free</a></u>(3),  <u><a href="../man3/acl_from_text.3.html">acl_from_text</a></u>(3),  <u><a href="../man3/acl_get_fd.3.html">acl_get_fd</a></u>(3),  <u><a href="../man3/acl_get_file.3.html">acl_get_file</a></u>(3),
       <u><a href="../man3/acl_init.3.html">acl_init</a></u>(3), <u><a href="../man3/acl_set_fd.3.html">acl_set_fd</a></u>(3), <u><a href="../man3/acl_set_file.3.html">acl_set_file</a></u>(3), <u><a href="../man3/acl_to_text.3.html">acl_to_text</a></u>(3), <u><a href="../man3/acl_valid.3.html">acl_valid</a></u>(3)

       <u><a href="../man3/acl_add_perm.3.html">acl_add_perm</a></u>(3),    <u><a href="../man3/acl_calc_mask.3.html">acl_calc_mask</a></u>(3),     <u><a href="../man3/acl_clear_perms.3.html">acl_clear_perms</a></u>(3),     <u><a href="../man3/acl_copy_entry.3.html">acl_copy_entry</a></u>(3),     <u><a href="../man3/acl_copy_ext.3.html">acl_copy_ext</a></u>(3),
       <u><a href="../man3/acl_copy_int.3.html">acl_copy_int</a></u>(3),    <u><a href="../man3/acl_create_entry.3.html">acl_create_entry</a></u>(3),   <u><a href="../man3/acl_delete_entry.3.html">acl_delete_entry</a></u>(3),   <u><a href="../man3/acl_delete_perm.3.html">acl_delete_perm</a></u>(3),   <u><a href="../man3/acl_get_entry.3.html">acl_get_entry</a></u>(3),
       <u><a href="../man3/acl_get_permset.3.html">acl_get_permset</a></u>(3), <u><a href="../man3/acl_get_qualifier.3.html">acl_get_qualifier</a></u>(3), <u><a href="../man3/acl_get_tag_type.3.html">acl_get_tag_type</a></u>(3), <u><a href="../man3/acl_set_permset.3.html">acl_set_permset</a></u>(3),  <u><a href="../man3/acl_set_qualifier.3.html">acl_set_qualifier</a></u>(3),
       <u><a href="../man3/acl_set_tag_type.3.html">acl_set_tag_type</a></u>(3), <u><a href="../man3/acl_size.3.html">acl_size</a></u>(3)

   <b>LINUX</b> <b>EXTENSIONS</b>
       These non-portable extensions are available on Linux systems.

       <u><a href="../man3/acl_check.3.html">acl_check</a></u>(3),    <u><a href="../man3/acl_cmp.3.html">acl_cmp</a></u>(3),   <u><a href="../man3/acl_entries.3.html">acl_entries</a></u>(3),   <u><a href="../man3/acl_equiv_mode.3.html">acl_equiv_mode</a></u>(3),   <u><a href="../man3/acl_error.3.html">acl_error</a></u>(3),   <u><a href="../man3/acl_extended_fd.3.html">acl_extended_fd</a></u>(3),
       <u><a href="../man3/acl_extended_file.3.html">acl_extended_file</a></u>(3),       <u><a href="../man3/acl_extended_file_nofollow.3.html">acl_extended_file_nofollow</a></u>(3),       <u><a href="../man3/acl_from_mode.3.html">acl_from_mode</a></u>(3),       <u><a href="../man3/acl_get_perm.3.html">acl_get_perm</a></u>(3),
       <u><a href="../man3/acl_to_any_text.3.html">acl_to_any_text</a></u>(3)

</pre><h4><b>AUTHOR</b></h4><pre>
       Andreas Gruenbacher, &lt;<a href="mailto:andreas.gruenbacher@gmail.com">andreas.gruenbacher@gmail.com</a>&gt;

Linux ACL                                        March 23, 2002                                           <u><a href="../man5/ACL.5.html">ACL</a></u>(5)
</pre>
 </div>
</div></section>
</div>
</body>
</html>