<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>tmpfs - a virtual memory filesystem</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/manpages">manpages_6.9.1-1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       tmpfs - a virtual memory filesystem

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The <b>tmpfs</b> facility allows the creation of filesystems whose contents reside in virtual memory.  Since the
       files on such filesystems typically reside in RAM, file access is extremely fast.

       The filesystem is automatically created when mounting a filesystem with the type <b>tmpfs</b> via a command such
       as the following:

           $ sudo mount -t tmpfs -o size=10M tmpfs /mnt/mytmpfs

       A <b>tmpfs</b> filesystem has the following properties:

       •  The filesystem can employ swap space when physical memory pressure demands it.

       •  The  filesystem  consumes  only  as  much  physical  memory and swap space as is required to store the
          current contents of the filesystem.

       •  During a remount operation (<u>mount</u> <u>-o</u> <u>remount</u>), the filesystem size can be changed (without losing  the
          existing contents of the filesystem).

       If a <b>tmpfs</b> filesystem is unmounted, its contents are discarded (lost).

   <b>Mount</b> <b>options</b>
       The <b>tmpfs</b> filesystem supports the following mount options:

       <b>size</b>=<u>bytes</u>
              Specify  an upper limit on the size of the filesystem.  The size is given in bytes, and rounded up
              to entire pages.  The limit is removed if the size is <b>0</b>.

              The size may have a <b>k</b>, <b>m</b>, or <b>g</b> suffix for Ki, Mi, Gi (binary kilo (kibi), binary mega (mebi),  and
              binary giga (gibi)).

              The size may also have a % suffix to limit this instance to a percentage of physical RAM.

              The default, when neither <b>size</b> nor <b>nr_blocks</b> is specified, is <u>size=50%</u>.

       <b>nr_blocks</b>=<u>blocks</u>
              The same as <b>size</b>, but in blocks of <b>PAGE_CACHE_SIZE</b>.

              Blocks may be specified with <b>k</b>, <b>m</b>, or <b>g</b> suffixes like <b>size</b>, but not a % suffix.

       <b>nr_inodes</b>=<u>inodes</u>
              The  maximum  number  of  inodes  for  this  instance.   The default is half of the number of your
              physical RAM pages, or (on a machine with highmem) the number of lowmem RAM  pages,  whichever  is
              smaller.  The limit is removed if the number is <b>0</b>.

              Inodes may be specified with <b>k</b>, <b>m</b>, or <b>g</b> suffixes like <b>size</b>, but not a % suffix.

       <b>noswap</b>(since Linux 6.4)
              Disables swap.  Remounts must respect the original settings.  By default swap is enabled.

       <b>mode</b>=<u>mode</u>
              Set initial permissions of the root directory.

       <b>gid</b>=<u>gid</u> (since Linux 2.5.7)
              Set the initial group ID of the root directory.

       <b>uid</b>=<u>uid</u> (since Linux 2.5.7)
              Set the initial user ID of the root directory.

       <b>huge</b>=<u>huge_option</u> (since Linux 4.7.0)
              Set   the   huge   table   memory   allocation   policy   for  all  files  in  this  instance  (if
              <b>CONFIG_TRANSPARENT_HUGEPAGE</b> is enabled).

              The <u>huge_option</u> value is one of the following:

              <b>never</b>  Do not allocate huge pages.  This is the default.

              <b>always</b> Attempt to allocate huge pages every time a new page is needed.

              <b>within_size</b>
                     Only allocate huge page if it will be fully within <u>i_size</u>.   Also  respect  <b><a href="../man2/fadvise.2.html">fadvise</a></b>(2)  and
                     <b><a href="../man2/madvise.2.html">madvise</a></b>(2) hints

              <b>advise</b> Only allocate huge pages if requested with <b><a href="../man2/fadvise.2.html">fadvise</a></b>(2) or <b><a href="../man2/madvise.2.html">madvise</a></b>(2).

              <b>deny</b>   For use in emergencies, to force the huge option off from all mounts.

              <b>force</b>  Force the huge option on for all mounts; useful for testing.

       <b>mpol</b>=<u>mpol_option</u> (since Linux 2.6.15)
              Set the NUMA memory allocation policy for all files in this instance (if <b>CONFIG_NUMA</b> is enabled).

              The <u>mpol_option</u> value is one of the following:

              <b>default</b>
                     Use the process allocation policy (see <b><a href="../man2/set_mempolicy.2.html">set_mempolicy</a></b>(2)).

              <b>prefer</b>:<u>node</u>
                     Preferably allocate memory from the given <u>node</u>.

              <b>bind</b>:<u>nodelist</u>
                     Allocate memory only from nodes in <u>nodelist</u>.

              <b>interleave</b>
                     Allocate from each node in turn.

              <b>interleave</b>:<u>nodelist</u>
                     Allocate from each node of <u>in</u> turn.

              <b>local</b>  Preferably allocate memory from the local node.

              In  the  above, <u>nodelist</u> is a comma-separated list of decimal numbers and ranges that specify NUMA
              nodes.  A range is a pair of hyphen-separated decimal  numbers,  the  smallest  and  largest  node
              numbers in the range.  For example, <u>mpol=bind:0-3,5,7,9-15</u>.

</pre><h4><b>VERSIONS</b></h4><pre>
       The  <b>tmpfs</b>  facility  was  added  in Linux 2.4, as a successor to the older <b>ramfs</b> facility, which did not
       provide limit checking or allow for the use of swap space.

</pre><h4><b>NOTES</b></h4><pre>
       In order for user-space tools and applications to create <b>tmpfs</b> filesystems, the kernel must be configured
       with the <b>CONFIG_TMPFS</b> option.

       The <b>tmpfs</b> filesystem supports extended attributes (see <b><a href="../man7/xattr.7.html">xattr</a></b>(7)), but <u>user</u> extended  attributes  are  not
       permitted.

       An  internal shared memory filesystem is used for System V shared memory (<b><a href="../man2/shmget.2.html">shmget</a></b>(2)) and shared anonymous
       mappings (<b><a href="../man2/mmap.2.html">mmap</a></b>(2) with the <b>MAP_SHARED</b> and <b>MAP_ANONYMOUS</b> flags).  This filesystem is available  regardless
       of whether the kernel was configured with the <b>CONFIG_TMPFS</b> option.

       A  <b>tmpfs</b>  filesystem  mounted  at  <u><a href="file:/dev/shm">/dev/shm</a></u>  is  used  for  the  implementation  of  POSIX  shared memory
       (<b><a href="../man7/shm_overview.7.html">shm_overview</a></b>(7)) and POSIX semaphores (<b><a href="../man7/sem_overview.7.html">sem_overview</a></b>(7)).

       The amount of memory consumed by all <b>tmpfs</b> filesystems is shown in the <u>Shmem</u> field of  <u><a href="file:/proc/meminfo">/proc/meminfo</a></u>  and
       in the <u>shared</u> field displayed by <b><a href="../man1/free.1.html">free</a></b>(1).

       The <b>tmpfs</b> facility was formerly called <b>shmfs</b>.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man1/df.1.html">df</a></b>(1), <b><a href="../man1/du.1.html">du</a></b>(1), <b><a href="../man2/memfd_create.2.html">memfd_create</a></b>(2), <b><a href="../man2/mmap.2.html">mmap</a></b>(2), <b><a href="../man2/set_mempolicy.2.html">set_mempolicy</a></b>(2), <b><a href="../man3/shm_open.3.html">shm_open</a></b>(3), <b><a href="../man8/mount.8.html">mount</a></b>(8)

       The          kernel          source         files         <u>Documentation/filesystems/tmpfs.txt</u>         and
       <u>Documentation/admin-guide/mm/transhuge.rst</u>.

Linux man-pages 6.9.1                              2024-05-02                                           <u><a href="../man5/tmpfs.5.html">tmpfs</a></u>(5)
</pre>
 </div>
</div></section>
</div>
</body>
</html>