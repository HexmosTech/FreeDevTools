<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>script - This module executes a user-provided script (or binary!)</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/yambar">yambar_1.11.0-1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       script - This module executes a user-provided script (or binary!)

</pre><h4><b>DESCRIPTION</b></h4><pre>
       This module executes a user-provided script (or binary!) that writes tags on its stdout.

       Scripts can be run in two modes: yambar polled, or continuously. In the yambar polled mode, the script is
       expected  to  write  one  set  of  tags  and  then  exit.  Yambar  will  execute the script again after a
       configurable amount of time.

       In continuous mode, the script is executed once. It will typically run in a loop, sending an updated  tag
       set whenever it needs, or wants to. The last tag set is used (displayed) by yambar until a new tag set is
       received. This mode is intended to be used by scripts that depends on non-polling methods to update their
       state.

       Tag  sets,  or <u>transactions</u>, are separated by an empty line (e.g. <b>echo</b> <b>""</b>). The empty line is required to
       commit (update) the tag even for only one transaction.

       Each <u>tag</u> is a single line on the format:

           name|type|value

       Where <u>name</u> is what you also use to refer to the tag in the yambar configuration, <u>type</u> is one of  the  tag
       types defined in <b><a href="../man5/yambar-tags.5.html">yambar-tags</a></b>(5), and <u>value</u> is the tag’s value.

       Example:

           var1|string|hello
           var2|int|13
             &lt;empty&gt;
           var1|string|world
           var2|int|37
             &lt;empty&gt;

       The  example  above  consists  of two transactions. Each transaction has two tags: one string tag and one
       integer tag. The second transaction replaces  the  tags  from  the  first  transaction.  Note  that  both
       transactions need to be terminated with an empty line.

       Supported <u>types</u> are:

       •   string
       •   int
       •   bool
       •   float
       •   range:n-m (e.g. <b>var|range:0-100|57</b>)

</pre><h4><b>TAGS</b></h4><pre>
       User defined.

</pre><h4><b>CONFIGURATION</b></h4><pre>
       ┌───────────────┬─────────────────┬─────┬───────────────────────────────────────────────────────────────┐
       │ <b>Name</b>          │ <b>Type</b>            │ <b>Req</b> │ <b>Description</b>                                                   │
       ├───────────────┼─────────────────┼─────┼───────────────────────────────────────────────────────────────┤
       │ path          │ string          │ yes │ Path  to script/binary to execute. Must either be an absolute │
       │               │                 │     │ path, or start with <b>~/</b>.                                       │
       ├───────────────┼─────────────────┼─────┼───────────────────────────────────────────────────────────────┤
       │ args          │ list of strings │ no  │ Arguments to pass to the script/binary.                       │
       ├───────────────┼─────────────────┼─────┼───────────────────────────────────────────────────────────────┤
       │ poll-interval │ integer         │ no  │ Number of milliseconds between each script run. If unset,  or │
       │               │                 │     │ set to 0, continuous mode is used.                            │
       └───────────────┴─────────────────┴─────┴───────────────────────────────────────────────────────────────┘

</pre><h4><b>EXAMPLES</b></h4><pre>
       Here is an "hello world" example script:

           #!<a href="file:/bin/sh">/bin/sh</a>

           while true; do
               echo "test|string|hello"
               echo ""
               sleep 3

               echo "test|string|world"
               echo ""
               sleep 3
           done

       This  script  runs  in  continuous mode, and will emit a single string tag, <u>test</u>, and alternate its value
       between <b>hello</b> and <b>world</b> every three seconds.

       A corresponding yambar configuration could look like this:

           bar:
             left:
               - script:
                   path: /path/to/script.sh
                   args: []
                   content: {string: {text: "{test}"}}

       Another example use case of this module could be to display currently playing song or  other  media  from
       players that support MPRIS (Media Player Remote Interfacing Specification):

           bar:
             center:
               - script:
                   path: /usr/bin/playerctl
                   args:
                     - "--follow"
                     - "metadata"
                     - "-f"
                     - |
                       status|string|{{status}}
                       artist|string|{{artist}}
                       title|string|{{title}}
                   content:
                     map:
                       conditions:
                         status == Paused: {empty: {}}
                         status == Playing:
                           content: {string: {text: "{artist} - {title}"}}

       The  above  snippet  runs  a  <u>playerctl</u>  utility  in <u>--follow</u> mode, reacting to media updates on DBUS and
       outputting status, artist and title of media being played in a format that is recognized by  yambar.  See
       <u>playerctl</u> documentation for more available metadata fields and control over which players get used.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man5/yambar-modules.5.html">yambar-modules</a></b>(5), <b><a href="../man5/yambar-particles.5.html">yambar-particles</a></b>(5), <b><a href="../man5/yambar-tags.5.html">yambar-tags</a></b>(5), <b><a href="../man5/yambar-decorations.5.html">yambar-decorations</a></b>(5)

                                                   2024-04-20                           <u><a href="../man5/yambar-modules-script.5.html">yambar-modules-script</a></u>(5)
</pre>
 </div>
</div></section>
</div>
</body>
</html>