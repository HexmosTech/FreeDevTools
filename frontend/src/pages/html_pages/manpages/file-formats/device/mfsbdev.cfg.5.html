<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>mfsbdev.cfg - MooseFS block device daemon config file</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/moosefs-client">moosefs-client_4.57.5-1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       mfsbdev.cfg - <b>MooseFS</b> block device daemon config file

</pre><h4><b>DESCRIPTION</b></h4><pre>
       This is the config file that can be read by the <b>mfbsdev</b> tool if the <b>-i</b> option was supplied along with the
       <b>start</b>  command.  The file contains definitions of block devices (one per line) that should be initialized
       when <b>mfsbdev</b> tool is started.

       It is strongly recommended to not create this file from scratch. Instead, it's best  to  create  all  the
       necessary devices using <b>mfsbdev</b> command and its parameters, as described in <b><a href="../man8/mfsbdev.8.html">mfsbdev</a></b>(8) and then list them
       with  the  <b>mfsbdev</b> <b>list</b> <b>-i</b> command and use the output to create a config file.  The following description
       is provided so it explains the content of the config file and allows to adjust it if necessary.

</pre><h4><b>FORMAT</b></h4><pre>
       Empty lines and lines that start with a semicolon (<b>;</b>) or hash (<b>#</b>) sign  are  ignored.  Every  other  line
       should match the format:

       <u>path</u> [ <u>device</u>|<b>*</b> [ <u>linkname</u>|<b>*</b> [ <u>size</u>|<b>*</b> [ <u>bsize</u>|<b>*</b> [ <u>flags</u> ]]]]]

       <u>path</u>  information  is obligatory and should be a path to a file on MooseFS that will be used as the block
       device; the path should be relative to MooseFS root or path defined with <b>-S</b> option when starting <b>mfsbdev</b>,
       not your local file system root

       <u>device</u> information is optional, if supplied should point to a network block device path (eg.  /dev/nbd1);
       if not present or <b>*</b> is supplied, first available block device will be used

       <u>linkname</u>  information  is  optional,  if  supplied  should  indicate the name of symbolic link created in
       '/dev/mfs', pointing at the network block device created by the map command;  if  not  present  or  <b>*</b>  is
       supplied, default link name will be used

       <u>size</u>  information  is optional, if supplied indicates block device size; if not present or <b>*</b> is supplied,
       the size of the file indicated by the first parameter is used

       <u>bsize</u> information is optional, if supplied indicates block size; if not present or <b>*</b>  is  supplied,  4096
       bytes block is used

       <u>flags</u>  information  is  optional, can contain the following flags (separated by comma if more than one is
       listed) <b>ro</b> - read only device, <b>rw</b> read/write device, <b>lock</b> - device requires an appropriate type  of  lock
       (shared  for  <b>ro</b>,  exlusive  for <b>rw</b>), <b>nolock</b> - device does not require a lock (will try to obtain it, but
       will ignore failure); if nothing is supplied, the default of <b>rw</b>, <b>lock</b>  is  assumed;  if  two  conflicting
       flags are supplied (i.e. <b>ro</b> and <b>rw</b> or <b>lock</b> and <b>nolock</b>) the last one wins

</pre><h4><b>EXAMPLES</b></h4><pre>
       Create  read/write  devices  with  default block device path, default linkname, using file size as device
       size, with default block size:

       <b>my_devices/device1</b>

       <b>my_devices/device2</b> <b>*</b> <b>*</b> <b>*</b> <b>*</b> <b>rw</b>

       Create read only devices with specific parameters:

       <b>my_devices/device1</b> <b>/dev/nbd3</b> <b>mfsdevice1</b> <b>67108864</b> <b>1024</b> <b>ro</b>

       <b>my_devices/device2</b> <b>/dev/nbd7</b> <b>mfsdevice2</b> <b>64MiB</b> <b>1024</b> <b>ro,nolock</b>

</pre><h4><b>REPORTING</b> <b>BUGS</b></h4><pre>
       Report bugs to &lt;<a href="mailto:bugs@moosefs.com">bugs@moosefs.com</a>&gt;.

</pre><h4><b>COPYRIGHT</b></h4><pre>
       Copyright (C) 2025 Jakub Kruszona-Zawadzki, Saglabs SA

       This file is part of MooseFS.

       MooseFS is free software; you can redistribute it and/or modify it under the terms  of  the  GNU  General
       Public License as published by the Free Software Foundation, version 2 (only).

       MooseFS  is  distributed  in  the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the
       implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR  PURPOSE.  See  the  GNU  General  Public
       License for more details.

       You  should  have  received a copy of the GNU General Public License along with MooseFS; if not, write to
       the Free Software Foundation, Inc., 51 Franklin St, Fifth Floor, Boston,  MA  02111-1301,  USA  or  visit
       <a href="http://www.gnu.org/licenses/gpl-2.0.html">http://www.gnu.org/licenses/gpl-2.0.html</a>

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man8/mfsmount.8.html">mfsmount</a></b>(8), <b><a href="../man8/mfsbdev.8.html">mfsbdev</a></b>(8)

MooseFS 4.57.5-1                                  February 2025                                   <u><a href="../man5/mfsbdev.cfg.5.html">mfsbdev.cfg</a></u>(5)
</pre>
 </div>
</div></section>
</div>
</body>
</html>