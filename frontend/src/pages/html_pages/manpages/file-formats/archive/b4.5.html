<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>B4 - Work with code submissions in a public-inbox archive</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/b4">b4_0.14.2-2_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       B4 - Work with code submissions in a public-inbox archive

</pre><h4><b>SYNOPSIS</b></h4><pre>
       b4 {mbox,am,shazam,pr,diff,ty,kr,prep,send,trailers} [options]

</pre><h4><b>DESCRIPTION</b></h4><pre>
       This is a helper utility to work with patches and pull requests made available via a public-inbox archive
       like lore.kernel.org. It's written to make it simpler to participate in patch-based workflows, like those
       used in the Linux kernel development.

       The  name  "b4"  was  chosen for ease of typing and because B-4 was the precursor to Lore and Data in the
       Star Trek universe.

       Full documentation is available on <u>https://b4.docs.kernel.org/</u>.

</pre><h4><b>SUBCOMMANDS</b></h4><pre>
       Maintainer-oriented:

       • <u>mbox</u>: Download a thread as an mbox file

       • <u>am</u>: Create an mbox file that is ready to git-am

       • <u>shazam</u>: Apply patch series to git repositories

       • <u>pr</u>: Work with pull requests

       • <u>ty</u>: Create templated replies for processed patches and pull requests

       • <u>diff</u>: Show range-diff style diffs between patch versions

       • <u>kr</u>: (STUB) Operate on patatt-compatible keyrings

       Contributor-oriented:

       • <u>prep</u>: prepare your series for submission

       • <u>trailers</u>: retrieve and apply code-review trailers

       • <u>send</u>: send your series for review on distribution lists

       For full options and what they do, please see <b>b4</b> <b>--help</b> and <b>b4</b> <b>subcommand</b> <b>--help</b>.

   <b>b4</b> <b>mbox</b>
       This command allows retrieving entire threads from a remote  public-inbox  instance.  You  can  open  the
       resulting  mbox file with most mail clients for actions like replying to conversations or reviewing patch
       submissions.

       You can provide the message either as a msgid, as full URL to a public-inbox archive, or you can pipe  it
       on stdin.

       For options and their descriptions, see <b>b4</b> <b>mbox</b> <b>--help</b>.

       <u>Examples</u>

       <b>b4</b> <b>mbox</b> <b>[msgid]</b>
              Download  a  thread from the default public-inbox server and save it in the current directory as a
              .mbox file.

       <b>b4</b> <b>mbox</b> <b>-m</b> <b><a href="file:~/Mail">~/Mail</a></b> <b>[msgid]</b>
              Download a thread from your <a href="file:~/Mail">~/Mail</a> folder and save it in the current directlry as a .mbox file.

       <b>b4</b> <b>mbox</b> <b>-fo</b> <b><a href="file:~/Mail">~/Mail</a></b> <b>[public-inbox-url]</b>
              Download the thread from this public-inbox server, and add it to your existing mailbox,  filtering
              out any dupes already in your mailbox folder.

   <b>b4</b> <b>am</b>
       This  command allows retrieving threads from a public-inbox instance and preparing them for applying to a
       git repository using the "git am" command. It will automatically perform the following operations:

       • pick the latest submitted version of the series (it can check for newer threads using <b>-c</b> as well)

       • check DKIM signatures and patatt attestation on all patches and code review messages

       • collate all submitted code-review trailers (Reviewed-by, Acked-by, etc) and put them  into  the  commit
         message

       • add your own Signed-off-by trailer (with <b>-s</b>)

       • reroll  series  from  partial updates (e.g. someone submits a v2 of a single patch instead of rerolling
         the entire series)

       • guess where in the tree history the patches belong, if the exact commit-base is not specified (with <b>-g</b>)

       • prepare the tree for a 3-way merge (with <b>-3</b>)

       • cherry-pick a subset of patches from a large series (with <b>-P</b>)

       Note: Unless you intend to do some preparatory  work  on  the  series  before  applying  it  to  the  git
       repository (e.g. a 3-way merge), you should consider using <b>b4</b> <b>shazam</b> to apply the retrieved series.

       For options and their descriptions, see <b>b4</b> <b>am</b> <b>--help</b>.

       <u>Examples</u>

       <b>b4</b> <b>am</b> <b>-sl</b> <b>[msgid]</b>
              Download a thread from the default public-inbox server, apply any follow-up trailers, add your own
              Signed-Off-By  trailer  plus  a  Link:  trailer  indicating the origin of the patch, then save the
              resulting .mbox file in the current directory ready to be applied by "git am".

       <b>b4</b> <b>am</b> <b>-sl</b> <b>-P</b> <b>1-3</b> <b>[msgid]</b>
              Same as the previous example, but pick only patches 1,2,3 from the entire series.

       <b>b4</b> <b>am</b> <b>-3</b> <b>[msgid]</b>
              Download the series and prepare the local git tree for a 3-way merge by ensuring  that  all  index
              blobs exist.

       <b>b4</b> <b>am</b> <b>--check</b> <b>[msgid]</b>
              Download  the  series  and  show  if  it  passes the checks. You can specify the command using the
              <b>b4.am-perpatch-check-cmd</b> configuration option. For the Linux kernel, the default will be the  most
              common <b>checkpatch.pl</b> set of options.

   <b>b4</b> <b>shazam</b>
       This is very similar to <b>b4</b> <b>am</b>, but will also apply patches directly to the current git tree using <b>git</b> <b>am</b>.
       Alternatively,  when  used  with  <b>-H</b>,  it can fetch the patch series into <b>FETCH_HEAD</b> as if it were a pull
       request, ready to review and merge. B4 uses the cover letter as a template for the merge commit.

       If you want to automatically invoke git-merge, you can use <b>-M</b> instead of <b>-H</b>. B4  automatically  opens  up
       the editor allowing you to edit the merge commit message.

       Note:  the  <b>-M</b>  and  <b>-H</b> options work best for series that have the <b>base-commit</b> info matching an object in
       your local tree.

       For options and their descriptions, see <b>b4</b> <b>shazam</b> <b>--help</b>.

       <u>Examples</u>

       <b>b4</b> <b>shazam</b> <b>-sl</b> <b>-M</b> <b>[msgid]</b>
              Download a thread from the default public-inbox server, apply any follow-up trailers, add your own
              Signed-Off-By trailer plus a Link: trailer with the origin of the patch, then merge this commit to
              the current git repository using the cover letter as the merge commit template.

       <b>b4</b> <b>shazam</b> <b>-sl</b> <b>-M</b> <b>--merge-base</b> <b>v6.4-rc4</b> <b>[msgid]</b>
              Same as the previous example, but forces the merge-base  to  be  the  commit-ish  object  provided
              instead of the one listed in the patch series itself.

   <b>b4</b> <b>pr</b>
       This  command  is  for  working  with  pull  requests  submitted  using <b>git-request-pull</b>. It provides the
       following benefits as opposed to using git directly:

       • it can check if the pull is already applied before performing a git fetch

       • it checks the signature on the tag or tip commit specified in the pull request

       • it can track applied pull requests and send replies to submitters using <b>b4</b> <b>ty</b>

       For options and their descriptions, see <b>b4</b> <b>pr</b> <b>--help</b>.

       <u>Examples</u>

       <b>b4</b> <b>pr</b> <b>[msgid]</b>
              Download the message with the pull-request and apply it to the current git tree.

   <b>b4</b> <b>ty</b>
       If you've retrieved and applied  some  patches  to  your  tree,  you  should  be  able  to  fire  up  the
       “auto-thankanator”, which uses patch-id and commit subject tracking to figure out which series from those
       you  have  retrieved  you  already  applied  to  your tree. The process is usually pretty fast and fairly
       accurate.

       To send mails directly using <b>-S</b>, you should have a  configured  <b>[sendemail]</b>  section  somewhere  in  your
       applicable  git  configuration  files. By default, <b>b4</b> <b>ty</b> writes out .thanks files in the current directly
       that you can edit and sent out using a command like <b>mutt</b> <b>-f</b> <b>thanks.file</b>.

       For options and their descriptions, see <b>b4</b> <b>ty</b> <b>--help</b>.

       <u>Examples</u>

       <b>b4</b> <b>ty</b> <b>-a</b> <b>-S</b>
              Locate any retrieved series that you have applied to the  current  git  repository  and  send  out
              thanks to all members of the conversation.

       <b>b4</b> <b>ty</b> <b>-a</b> <b>-S</b> <b>--dry-run</b>
              Same as above, but instead of actually sending it out show what the message is going to be, first.

   <b>b4</b> <b>diff</b>
       The  diff  subcommand  allows  comparing  two  different  revisions  of  the  same patch series using <b>git</b>
       <b>range-diff</b>. Note, that in order to perform the range-diff comparison,  both  revisions  need  to  cleanly
       apply to the current tree, which may not always be possible to achieve.

       For options and their descriptions, see <b>b4</b> <b>diff</b> <b>--help</b>.

       <u>Examples</u>

       <b>b4</b> <b>diff</b> <b>[msgid-of-vN]</b>
              Retrieves the thread matching the msgid specified and attempts to auto-locate the previous version
              of the series. If successful, shows the output of <b>git</b> <b>range-diff</b> comparing the patch differences.

   <b>b4</b> <b>kr</b>
       This subcommand allows maintaining a local keyring of contributor keys.

       Note: this part of b4 is under active development with improvements planned for the near future.

       For options and their descriptions, see <b>b4</b> <b>kr</b> <b>--help</b>.

       <u>Examples</u>

       <b>b4</b> <b>kr</b> <b>--show-keys</b> <b>[msgid]</b>
              Retrieve the thread specified and show any cryptographic keys used to attest the patches.

   <b>b4</b> <b>prep,</b> <b>trailers,</b> <b>send</b>
       These  commands  allow  preparing  and  submitting  a  patch  series for review on the mailing list. Full
       documentation is available online at the following address:

       <u>https://b4.docs.kernel.org/en/latest/contributor/overview.html</u>

       For options, see the output of <b>b4</b> <b>prep</b> <b>--help</b>, <b>b4</b> <b>trailers</b> <b>--help</b> and <b>b4</b> <b>send</b> <b>--help</b>.

       <u>Examples</u>

       <b>b4</b> <b>prep</b> <b>-n</b> <b>my-new-feature</b> <b>-f</b> <b>v6.4-rc4</b>
              Start a new branch, forking it from the tag <b>v6.4-rc4</b>, and prepare it for adding more patches.

       <b>b4</b> <b>prep</b> <b>--edit-cover</b>
              Edit the cover letter for the current series. This  step  isn't  required  for  most  single-patch
              submissions.

       <b>b4</b> <b>prep</b> <b>--auto-to-cc</b>
              Find  all addresses that need to receive a copy of the patch series submission and add them to the
              cover letter.

       <b>b4</b> <b>prep</b> <b>--check</b>
              Run the configured checks on your series to identify any potential  problems.  For  Linux  kernel,
              this runs <b>checkpatch.pl</b> with the recommended set of parameters.

       <b>b4</b> <b>send</b> <b>-o</b> <b>/tmp/outdir</b>
              Generate the patches that b4 is going to send out and save them into the directory specified. This
              allows you to review the series before actually sending them.

       <b>b4</b> <b>send</b> <b>--preview-to</b> <b>[<a href="mailto:addr1@example.com">addr1@example.com</a></b> <b><a href="mailto:addr2@example.com">addr2@example.com</a>]</b>
              Send a "preview" version of the series for someone to check before submitting it upstream.

       <b>b4</b> <b>trailers</b> <b>-u</b>
              Retrieve any code-review trailers provided for your series and apply them to the current branch.

</pre><h4><b>CONFIGURATION</b></h4><pre>
       B4   configuration   is  handled  via  <a href="../man1/git-config.1.html">git-config</a>(1),  so  you  can  store  it  in  either  the  toplevel
       <b>$HOME/.gitconfig</b> file, or in a per-repository .git/config file if your workflow changes per project.

       To     see     configuration      options      available,      see      online      documentation      at
       <u>https://b4.docs.kernel.org/en/latest/config.html</u>

</pre><h4><b>PROXYING</b> <b>REQUESTS</b></h4><pre>
       Commands  making  remote  HTTP  requests  may  be  configured  to  use a proxy by setting the <b>HTTPS_PROXY</b>
       environment variable, as described in <u>https://docs.python-requests.org/en/latest/user/advanced/#proxies</u>.

</pre><h4><b>SUPPORT</b></h4><pre>
       Please   email   <u><a href="mailto:tools@kernel.org">tools@kernel.org</a></u>   with   support   requests,   or   browse   the   list   archive    at
       <u>https://lore.kernel.org/tools</u>.

</pre><h4><b>AUTHOR</b></h4><pre>
       <a href="mailto:mricon@kernel.org">mricon@kernel.org</a>

       License: GPLv2+

</pre><h4><b>COPYRIGHT</b></h4><pre>
       The Linux Foundation and contributors

0.14.2                                             2024-06-14                                              <u><a href="../man5/B4.5.html">B4</a></u>(5)
</pre>
 </div>
</div></section>
</div>
</body>
</html>