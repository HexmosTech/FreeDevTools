<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>af_archive -- format of archive files in the Attribute Filesystem</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/shapetools">shapetools_1.4pl6-16.1build1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       af_archive -- format of archive files in the <u>Attribute</u> <u>Filesystem</u>

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>#include</b> <b>&lt;atfs.h&gt;</b>
       <b>#include</b> <b>&lt;afsys.h&gt;</b>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       AtFS  archive  files  are  used  to  store  the data and attributes of non-busy ASOs.  Beside these, some
       attributes (including all user defined attributes) of busy ASOs are stored in AtFS archive files.

       AtFS maintains two archive files for each line of development, one to hold the  standard-  and  the  user
       defined  attributes  and the other to hold the data and change notes.  These files are stored either in a
       subdirectory named AtFS or in a explicitly named directory  somewhere  in  your  file  system.   The  two
       archive files are named
            Attr/&lt;filename&gt;          (attributes) and
            Data/&lt;filename&gt;          (data).

       This  manual contains a short, exemplary description of the archive structure.  All data in AtFS-archives
       are stored as ASCII-strings.  The archives contain keywords and keyletters. These are set in <b>boldface</b>  in
       the  following description.  Strings of the form <u>&lt;field&gt;</u> describe the purpose of the appropriate field in
       the archive.

       Here's the structure (the attributes file first):

                                                    The Header, ...

       <b>^BARHD</b>   &lt;archive_format_version&gt;   &lt;no_of_revisions&gt;   &lt;size_of_data&gt;

                                                    ... the name ..

       <b>^BI</b>   &lt;hostname&gt;   &lt;path&gt;   &lt;name&gt;   &lt;type&gt;   &lt;variant(unused)&gt;

                                                 ... and the owner ..

       <b>^BO</b>   &lt;owner's_name&gt;   &lt;owner's_host&gt;   &lt;owner's_domain&gt;

                               ... followed by some attributes for the busy version ...

       <b>^BP</b>   &lt;gen_&gt;   &lt;rev_of_physical_predecessor&gt;
       <b>^BL</b>   &lt;locker's_name&gt;   &lt;locker's_host&gt;   &lt;locker's_domain&gt;   &lt;date_of_last_lock_change&gt;

                                 ... and the revision list, that contains all standard
                                         attributes for non-busy versions. ...

       <b>^BR</b>   &lt;generation&gt;   &lt;revision&gt;   &lt;state&gt;   &lt;mode&gt;   &lt;variant(unused)&gt;
            <b>^BA</b>   &lt;author's_name&gt;   &lt;_host&gt;   &lt;_domain&gt;   &lt;locker's_name&gt;   &lt;_host&gt;   &lt;_domain&gt;
            <b>^BT</b>   &lt;date_of_last_modification&gt;   &lt;_last_access&gt;   &lt;_last_status_change&gt;   ...
                                        ...   &lt;_saving&gt;   &lt;_locking&gt;
            <b>^BM</b>   &lt;kind_of_representation&gt;   &lt;size_of_file&gt;   &lt;size_of_delta&gt;   ...
                      ...   &lt;gen_&gt;   &lt;rev_of_phys._successor&gt;   &lt;gen_&gt;   &lt;rev_of_phys._predecessor&gt;
       <b>^BR</b> <b>...</b>
       <b>^BR</b> <b>...</b>

                             ... Now follows the list of lists of user defined attributes
                         ("-2 -2" indicates the busy version; "@" stands for a null byte). ...

       <b>^BUSEG</b>
       <b>^BU</b> <b>-2</b> <b>-2</b>
       machine=vax@data=fs@@
       <b>^BU</b>   &lt;gen&gt;   &lt;rev&gt;
       name=value@@
       <b>^BU</b> <b>...</b>

       The structure of the datafile:

       Data are represented either by deltas or by complete data-chunks...

       <b>^BDATA</b>   &lt;archive_format_version&gt;

       <b>^BN</b>   &lt;gen&gt;   &lt;rev&gt;   &lt;size_of_note&gt;
       --- empty log message ---

       <b>^BD</b>   &lt;gen&gt;   &lt;rev&gt;   &lt;kind_of_representation&gt;   &lt;size_of_data&gt;
       A typical delta looks like:
       @67723@@@@44@67756@^A14@some text@6635@ and so on.
       Deltas are indicated by a "1" at the "kind_of_representation" field.

       <b>^BN</b>   &lt;gen&gt;   &lt;rev&gt;   &lt;size_of_note&gt;
       This is a log message

       <b>^BD</b>   &lt;gen&gt;   &lt;rev&gt;   &lt;kind_of_representation&gt;   &lt;size_of_data&gt;
       A "0" at the "kind_of_representation" field indicates that this
       version is stored completely.

       <b>^BN</b> <b>...</b>

       <b>^BD</b> <b>...</b>

</pre><h4><b>AUTHOR</b></h4><pre>
       Andreas Lampen, Tech. Univ. Berlin (<a href="mailto:andy@cs.tu-berlin.de">andy@cs.tu-berlin.de</a>)

22.8.125                                                                                           <u><a href="../man5/af_archive.5.html">af_archive</a></u>(5)
</pre>
 </div>
</div></section>
</div>
</body>
</html>