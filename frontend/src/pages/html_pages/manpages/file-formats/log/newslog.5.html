<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>newslog - Description of INN log files</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/inn2">inn2_2.7.3-1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       newslog - Description of INN log files

</pre><h4><b>DESCRIPTION</b></h4><pre>
       Most log files created by Usenet programs reside in the <u>pathlog</u> directory set in <u>inn.conf</u> and have a
       ".log" extension.  Several versions are usually kept with an additional extension such as ".1", ".2",
       etc. -- the higher the number, the older the log.  These old versions are stored in <u>pathlog</u>/OLD; they may
       be compressed and thus may have a ".1.gz", ".2.gz", etc. extension, up to ".nn.gz" where "nn" is the
       number of old logs kept by <b>scanlogs</b> which is set by <u>logcycles</u> in <u>inn.conf</u>.

       The <b>scanlogs</b> script and related utilities are responsible for rotating and compressing these files.  Some
       log files always have data (like <u>news.notice</u>), others only have data if there is a problem (like
       <u>news.err</u>), and others are only created if a particular program is used (like <u>send-uucp.log</u> used by <b>send-</b>
       <b>uucp</b>) or if a configuration parameter is set (like <u>innfeed.log</u> used by <b>innfeed</b> when <u>debug-level</u> is set in
       <u>innfeed.conf</u>).

       Besides, the <b>innstat</b> script monitors the size of all log files.

       Here are the log files used by INN:

       <u>control.log</u>
           This  file  maintains  a  count  of the number of newgroup and rmgroup control messages seen for each
           newsgroup.  The count is of the number of control messages with the indicated  arguments,  regardless
           if  they  were  actually  processed.  All control arguments, including invalid ones, are counted.  An
           example of lines which can be found in that log file is:

               3 Control: newgroup foo.bar moderated
               3 Control: rmgroup misc.removed
               1 Control: newgroup misc.created

           This file is updated by <b>tally.control</b>, which is invoked by <b>scanlogs</b> if either one of  these  two  log
           files exists in <u>pathlog</u>:

               newgroup.log
               rmgroup.log

           These  two  log  files  contain a summary line describing the control message and the action taken by
           <b>controlchan</b>, followed by the article indented by four spaces, and a blank line.  Whereas these  files
           are rotated, <u>control.log</u> is not rotated so as to keep the count of seen control messages.

           Note that other control log files are also rotated by <b>scanlogs</b>, if they exist, but their contents are
           not summarized.  Here are their names:

               checkgroups.log
               default.log
               ihave.log
               miscctl.log
               sendme.log
               sendsys.log
               senduuname.log
               version.log

           In order to create these files, the &lt;type&gt; and &lt;action&gt; fields of relevant <u>control.ctl</u> entries should
           be correctly set.  For instance:

               Type            Action              Meaning
               ----            ------              -------
               all             log=miscctl         Log all messages by default.
               newgroup        doit=newgroup       Create group and log message.
               newgroup        log=newgroup        Log message.
               rmgroup         verify-*=rmgroup    PGP verify, remove group
                                                   and log message.
               checkgroups     doit=checkgroups    Process and log message.

       <u>controlbatch.log</u>
           The <b>controlbatch</b> program appends all status messages to this file.  It is rotated by <b>scanlogs</b>.

       <u>errlog</u>
           This  file  contains  the  standard output and standard error of any program spawned by <b>innd</b>, such as
           channel feeds configured in <u>newsfeeds</u>.  This file should normally be empty.  <b>scanlogs</b> will print  the
           50  first  lines  of  this  log  file  if it is non-empty so that they appear in daily Usenet reports
           generated by <b>news.daily</b>.  Then, <b>scanlogs</b> rotates this log file.

       <u>expire.log</u>
           By default, when <b>news.daily</b> is going to expire old news articles, it writes the name of  the  program
           it  invokes,  followed  by "start" and the time it has started.  Any output from that program is then
           written, indented by four spaces.  Then, the name of the program is written, followed  by  "end"  and
           the time it has ended.

           Programs  called,  if needed, are in order: <b>expireover</b>, <b>ctlinnd</b> (with the "lowmark" option), <b>expirerm</b>
           and <b>expire</b>.  Removed articles are listed in <u>expire.list</u> and low marks for each newsgroup (that is  to
           say the number of the oldest article available in the newsgroup) in <u>expire.lastlowmark</u>.

           After the expiry process, <b>scanlogs</b> rotates <u>expire.log</u>.

       <u>innfeed.log</u>
           When  <u>debug-level</u> is set in <u>innfeed.conf</u>, <b>innfeed</b> appends debugging messages to this file.  Note that
           the name of this file can be changed with the <u>log-file</u> parameter in <u>innfeed.conf</u>.  Be that as it may,
           the right log file is rotated by <b>scanlogs</b>.

           Additionally, the <u>innfeed-delayed.conf</u> file is also looked at, to find another possible log  file  to
           rotate when <a href="../man8/delayer.8.html">delayer</a>(8) is used with <b>innfeed</b>.

           <b>innfeed</b> also logs its status in <u>innfeed.status</u> (or the name set in <u>status-file</u>) if <u>gen-html</u> is set to
           false but this log file is not processed by <b>scanlogs</b>.

       <u>news</u>
           This file logs articles received by <b>innd</b>.  Typical lines are:

               Aug 25 13:37:41.839 + news.server.fr &lt;<a href="mailto:cancel.4066@foo.com">cancel.4066@foo.com</a>&gt;
                   1658 a.peer other.server.org inpaths!
               Aug 25 13:37:41.839 c news.server.fr &lt;<a href="mailto:cancel.4066@foo.com">cancel.4066@foo.com</a>&gt;
                   Cancelling &lt;<a href="mailto:m070725@foo.com">m070725@foo.com</a>&gt;
               Aug 25 13:37:54.638 - a.peer &lt;<a href="mailto:23k82@bar.net">23k82@bar.net</a>&gt; 437 Poison newsgroup

           The  first one indicates that an article from "news.server.fr" has been accepted ("+").  Its Message-
           ID  is  "&lt;<a href="mailto:cancel.4066@foo.com">cancel.4066@foo.com</a>&gt;"  and  we  will  send  the  article  to  two   peers   ("a.peer"   and
           "other.server.org",  as  specified  in <u>newsfeeds</u>) and "inpaths!" (see <b>ninpaths</b> for more details about
           it).   The  second  line  mentions  that  this  previous  article  is  a  cancel  message  ("c")  for
           "&lt;<a href="mailto:m070725@foo.com">m070725@foo.com</a>&gt;"  and  that  it  has  been  processed  (indeed,  <b>controlchan</b> processes all control
           articles except for cancels which are handled by <b>innd</b>).  The third line indicates  that  the  article
           whose  Message-ID  is  "&lt;<a href="mailto:23k82@bar.net">23k82@bar.net</a>&gt;"  has  been  rejected  ("-") because it is posted to a poison
           newsgroup (a Perl or a Python filter located in <u>pathfilter</u> must have brought that reject along).

           See the "LOGGING" section of the <a href="../man8/innd.8.html">innd</a>(8) man page for more information about the format of  this  log
           file.

           <b>innreport</b> summarizes the rejected articles reported in this file and <b>scanlogs</b> rotates it.

       <u>news.crit</u>
           All  critical  error  messages  issued  by  <b>innd</b> are appended to this file via syslog.  This log file
           should normally be empty.  <b>scanlogs</b> will print the first 50 lines of this log file if it is non-empty
           so that they appear in daily Usenet reports generated by <b>news.daily</b>.  Then, <b>scanlogs</b> rotates this log
           file.

           You should have the following line in your system <u>syslog.conf</u> file, using a  tab  character  for  the
           delimiter:

               news.crit           &lt;pathlog&gt;/news.crit

           (A typical entry is shown; it should agree with <u>pathlog</u> in <u>inn.conf</u> and be tab-delimited.)

       <u>news.err</u>
           All  major  error messages issued by <b>innd</b> are appended to this file via syslog.  This log file should
           normally be empty.  <b>scanlogs</b> will print the first 50 lines of this log file if  it  is  non-empty  so
           that  they  appear  in daily Usenet reports generated by <b>news.daily</b>.  Then, <b>scanlogs</b> rotates this log
           file.

           You should have the following line in your system <u>syslog.conf</u> file, using a  tab  character  for  the
           delimiter:

               news.err            &lt;pathlog&gt;/news.err

           (A typical entry is shown; it should agree with <u>pathlog</u> in <u>inn.conf</u> and be tab-delimited.)

       <u>news.notice</u>
           All  standard  error  messages  and  status  messages  issued  by <b>innd</b>, <b>innfeed</b>, <b>nnrpd</b> and some other
           programs are appended to this file via syslog.  <b>scanlogs</b> uses the Perl script <b>innreport</b> to  summarize
           this  file.   <b>innreport</b>  will also print the first <u>max_unknown</u> unknown lines of this log file if such
           unrecognized lines are found in <u>news.notice</u> so that they appear in daily Usenet reports generated  by
           <b>news.daily</b>.  This parameter can be set in <u>innreport.conf</u>.  Then, <b>scanlogs</b> rotates this log file.

           You  should  have  the  following line in your system <u>syslog.conf</u> file, using a tab character for the
           delimiter:

               news.notice         -&lt;pathlog&gt;/news.notice

           (A typical entry is shown; it should agree with <u>pathlog</u> in <u>inn.conf</u> and be tab-delimited.)

           The minus sign as the  first  character  for  the  path  to  <u>news.notice</u>  instructs  syslogd  not  to
           synchronize  the  log  file  to  disk  every  time  there  is  a new log entry (it otherwise degrades
           performance).  Depending on the syslog daemon you are  using,  log  synchronization  may  already  be
           disabled by default (that is for instance the case for rsyslogd or syslog-ng).

       <u>nntpsend.log</u>
           The <b>nntpsend</b> program appends all status messages to this file.  It is rotated by <b>scanlogs</b>.

       <u>perl-nocem.log</u>
           The  <b>perl-nocem</b>  program  appends  all  status  messages  to  this file if the syslog facility is not
           available or the <b>-l</b> flag is passed to <b>perl-nocem</b> (otherwise, the syslog facility  is  used  in  which
           case   status  messages  are  appended  to  a  file  usually  named  <u>news.notice</u>  in  <u>pathlog</u>).   The
           <u>perl-nocem.log</u> file is processed by <b>innreport</b> and rotated by <b>scanlogs</b>.

       <u>send-ihave.log</u>
           The <b>send-ihave</b> program appends all status messages to this file.  It is rotated by <b>scanlogs</b>.

       <u>send-uucp.log</u>
           The <b>send-uucp</b> program appends all status messages to this file.  It is rotated by <b>scanlogs</b>.

       <u>unwanted.log</u>
           This log maintains a count of the number of articles that were rejected because they were  posted  to
           newsgroups  that  do not exist at the local site.  This file is updated by <b>innreport</b> while processing
           the <u>news.notice</u> log file and it is maintained in reverse numeric order  (the  most  popular  rejected
           group  first).  This file is not rotated so as to keep the count of the articles posted to newsgroups
           which are absent from the <u>active</u> file of the news server.

           Note that <u>logtrash</u> has to be set to true in <u>inn.conf</u> for this file to be generated.

       Finally, these files are also rotated by <b>scanlogs</b>, if they exist, but their contents are not  summarized.
       Here are their names:

           badcontrol.log
           badpgp.log
           failedpgp.log

       They can be used by programs which PGP verify articles.

</pre><h4><b>HISTORY</b></h4><pre>
       Written  by  Landon  Curt  Noll  &lt;<a href="mailto:chongo@toad.com">chongo@toad.com</a>&gt;  and  Rich $alz &lt;<a href="mailto:rsalz@uunet.uu.net">rsalz@uunet.uu.net</a>&gt; for InterNetNews.
       Rewritten and converted to POD by Julien Elie.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <a href="../man5/control.ctl.5.html">control.ctl</a>(5), <a href="../man8/ctlinnd.8.html">ctlinnd</a>(8), <a href="../man8/delayer.8.html">delayer</a>(8),  <a href="../man8/expire.8.html">expire</a>(8),  <a href="../man8/expireover.8.html">expireover</a>(8),  <a href="../man8/expirerm.8.html">expirerm</a>(8),  <a href="../man5/inn.conf.5.html">inn.conf</a>(5),  <a href="../man8/innd.8.html">innd</a>(8),
       <a href="../man5/innfeed.conf.5.html">innfeed.conf</a>(5),  <a href="../man8/innreport.8.html">innreport</a>(8),  <a href="../man5/innreport.conf.5.html">innreport.conf</a>(5),  <a href="../man8/news.daily.8.html">news.daily</a>(8),  <a href="../man8/nnrpd.8.html">nnrpd</a>(8),  <a href="../man8/nntpsend.8.html">nntpsend</a>(8), <a href="../man8/scanlogs.8.html">scanlogs</a>(8),
       <a href="../man8/send-ihave.8.html">send-ihave</a>(8), <a href="../man8/send-uucp.8.html">send-uucp</a>(8), <a href="../man5/syslog.conf.5.html">syslog.conf</a>(5), <a href="../man8/tally.control.8.html">tally.control</a>(8).

INN 2.7.3                                          2025-05-19                                         <u><a href="../man5/NEWSLOG.5.html">NEWSLOG</a></u>(5)
</pre>
 </div>
</div></section>
</div>
</body>
</html>