<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>/etc/sysconfig/o2cb - Cluster configuration file for the o2cb cluster stack.</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/ocfs2-tools">ocfs2-tools_1.8.8-3build1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       /etc/sysconfig/o2cb - Cluster configuration file for the <b>o2cb</b> cluster stack.

</pre><h4><b>SYNOPSIS</b></h4><pre>
       The  configuration  file  <b>/etc/sysconfig/o2cb</b>  stores  the active cluster stack, its name and the various
       cluster timeouts for the <b>o2cb</b> cluster stack.

</pre><h4><b>DESCRIPTION</b></h4><pre>
       This file can be populated using the <u>o2cb</u> init script. An example of  the  same  is  illustrated  in  the
       examples section.

       The list of configurable parameters in this file are:

       <b>O2CB_STACK</b>
              Name  of  the  cluster  stack.  The  possible values are <b>o2cb</b>, <b>pcmk</b> and <b>cman</b>.  <b>o2cb</b> is the default
              cluster stack of the <b>OCFS2</b> file system. <b>pcmk</b> (Pacemaker) and <b>cman</b> (rgmanager) are  the  two  other
              cluster stacks that are supported by the same file system.

       <b>O2CB_BOOTCLUSTER</b>
              Name  of  the  active  cluster.  While  /etc/ocfs2/cluster.conf  can hold descriptions of multiple
              clusters, only one can be active at any one time. The name of that  active  cluster  is  specified
              here.  The  name  itself  can  be  up  to  16  alphanumeric characters [0-9A-Za-z] with no special
              characters.

       The remaining configurable parameters (cluster timeouts) are only relevant for the  <b>o2cb</b>  cluster  stack.
       These  cluster  timeouts are used by the <b>o2cb</b> cluster stack to determine whether a node is dead or alive.
       The default timeouts are just a guide and may need to be tweaked depending on the hardware  the  software
       is running on.

       The various <u>cluster</u> <u>timeouts</u> for the <b>o2cb</b> cluster stack are:

       <b>O2CB_HEARTBEAT_THRESHOLD</b>
              The  disk  heartbeat  timeout  is  the number of two second iterations before a node is considered
              dead. The exact formula used to convert the timeout in seconds to the number of iterations  is  as
              follows:

                  O2CB_HEARTBEAT_THRESHOLD = (((timeout in seconds) / 2) + 1)

              For  example,  to specify a 60 sec timeout, set it to 31. For 120 secs, set it to 61.  The default
              for this timeout is 60 secs (O2CB_HEARTBEAT_THRESHOLD = 31).

              While it defaults to 60 secs, multipath users typically set it to 120 secs.

       <b>O2CB_IDLE_TIMEOUT_MS</b>
              The network idle timeout specifies the  time  in  milliseconds  before  a  network  connection  is
              considered  dead.  While  it defaults to 30000 ms, network bonding users typically set it to 60000
              ms.

       <b>O2CB_KEEPALIVE_DELAY_MS</b>
              The network keepalive specifies the maximum delay in milliseconds before  a  keepalive  packet  is
              sent to another node to check whether it is alive or not. It defaults to 2000 ms.

       <b>O2CB_RECONNECT_DELAY_MS</b>
              The  network  reconnect  specifies  the  minimum  delay  in  milliseconds between repeated connect
              attempts. It defaults to 2000 ms.

</pre><h4><b>EXAMPLE</b></h4><pre>
       The example below illustrates populating the o2cb sysconfig file using the <u>o2cb</u> init script.

       $ service o2cb configure
       Configuring the O2CB driver.

       This will configure the on-boot properties of the O2CB driver.
       The following questions will determine whether the driver is loaded on
       boot.  The current values will be shown in brackets ('[]').  Hitting
       &lt;ENTER&gt; without typing an answer will keep that current value.  Ctrl-C
       will abort.

       Load O2CB driver on boot (y/n) [n]: y
       Cluster stack backing O2CB [o2cb]:
       Cluster to start on boot (Enter "none" to clear) [ocfs2]: webcluster
       Specify heartbeat dead threshold (&gt;=7) [31]: 62
       Specify network idle timeout in ms (&gt;=5000) [30000]: 60000
       Specify network keepalive delay in ms (&gt;=1000) [2000]:
       Specify network reconnect delay in ms (&gt;=2000) [2000]:
       Writing O2CB configuration: OK

       $ cat /etc/sysconfig/o2cb
       #
       # This is a configuration file for automatic startup of the O2CB
       # driver.  It is generated by running /etc/init.d/o2cb configure.
       # On Debian based systems the preferred method is running
       # 'dpkg-reconfigure ocfs2-tools'.
       #

       # O2CB_ENABLED: 'true' means to load the driver on boot.
       O2CB_ENABLED=true

       # O2CB_STACK: The name of the cluster stack backing O2CB.
       O2CB_STACK=o2cb

       # O2CB_BOOTCLUSTER: If not empty, the name of a cluster to start.
       O2CB_BOOTCLUSTER=webcluster

       # O2CB_HEARTBEAT_THRESHOLD: Iterations before a node is considered dead.
       O2CB_HEARTBEAT_THRESHOLD=62

       # O2CB_IDLE_TIMEOUT_MS: Time in ms before a network connection is considered dead.
       O2CB_IDLE_TIMEOUT_MS=60000

       # O2CB_KEEPALIVE_DELAY_MS: Max time in ms before a keepalive packet is sent
       O2CB_KEEPALIVE_DELAY_MS=2000

       # O2CB_RECONNECT_DELAY_MS: Min time in ms between connection attempts
       O2CB_RECONNECT_DELAY_MS=2000

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man7/o2cb.7.html">o2cb</a>(7)</b> <b><a href="../man8/o2cb.8.html">o2cb</a>(8)</b> <b><a href="../man5/ocfs2.cluster.conf.5.html">ocfs2.cluster.conf</a>(5)</b>

</pre><h4><b>AUTHORS</b></h4><pre>
       Oracle Corporation

</pre><h4><b>COPYRIGHT</b></h4><pre>
       Copyright Â© 2004, 2012 Oracle. All rights reserved.

Version 1.8.8                                     January 2012                            <u>/etc/sysconfig/<a href="../man5/o2cb.5.html">o2cb</a></u>(5)
</pre>
 </div>
</div></section>
</div>
</body>
</html>