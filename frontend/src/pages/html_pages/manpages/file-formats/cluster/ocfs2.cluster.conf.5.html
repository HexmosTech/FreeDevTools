<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>/etc/ocfs2/cluster.conf - Cluster configuration file for the o2cb cluster stack.</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/ocfs2-tools">ocfs2-tools_1.8.8-3build1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       /etc/ocfs2/cluster.conf - Cluster configuration file for the <b>o2cb</b> cluster stack.

</pre><h4><b>SYNOPSIS</b></h4><pre>
       The  cluster layout of the <b>o2cb</b> cluster stack is specified in <u>/etc/ocfs2/cluster.conf</u>.  It lists the name
       of the cluster, the nodes comprising that cluster and its heartbeat regions.  The cluster  stack  expects
       this file to be the same on all nodes in that cluster.

       This  file  should  be populated using the <b><a href="../man8/o2cb.8.html">o2cb</a>(8)</b> cluster configuration utility. A sample of the same is
       shown in the example section.

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The configuration file is divided into three types of stanzas, each with a list of parameters and values.
       The three stanza types are <u>cluster</u>, <u>node</u> and <u>heartbeat</u>. While a configuration file can store  definitions
       of  multiple  clusters,  the <b>o2cb</b> cluster stack allows only one cluster to be active at any one time. The
       name of this active cluster is stored in /etc/sysconfig/o2cb [<b><a href="../man5/o2cb.sysconfig.5.html">o2cb.sysconfig</a>(5)</b>].

       The <b>cluster</b> <b>stanza</b> specifies the name of the cluster, number  of  nodes  and  the  heartbeat  mode.   The
       cluster name can include up to 16 alphanumeric characters [0-9A-Za-z]. No special characters are allowed.

                     ┌────────────────┬────────────────────────────────────────────────────────┐
                     │ <b>Parameters</b>     │ <b>Description</b>                                            │
                     ├────────────────┼────────────────────────────────────────────────────────┤
                     │ <b>node_count</b>     │ Number of nodes in the cluster                         │
                     ├────────────────┼────────────────────────────────────────────────────────┤
                     │ <b>heartbeat_mode</b> │ <b>local</b> or <b>global</b> heartbeat                              │
                     ├────────────────┼────────────────────────────────────────────────────────┤
                     │ <b>name</b>           │ Cluster name (up to 16 alphanumeric chars [0-9A-Za-z]) │
                     └────────────────┴────────────────────────────────────────────────────────┘

       The  <b>node</b> <b>stanza</b> specifies the node name that is part of the cluster alongwith its IPv4 address, port and
       node number.  The node name must match the hostname. The  domain  name  is  not  required.  For  example,
       appserver1.company.com  can  be  appserver1.  The  IPv4  address need not be the one associated with that
       hostname. As in, any valid IPv4 address on that node can be used. The <b>o2cb</b> cluster stack will not attempt
       to match the node name (hostname) with the specified IPv4 address.  A  low-latency  private  interconnect
       address is recommended for best performance.

                     ┌────────────┬────────────────────────────────────────────────────────────┐
                     │ <b>Parameters</b> │ <b>Description</b>                                                │
                     ├────────────┼────────────────────────────────────────────────────────────┤
                     │ <b>ip_port</b>    │ IPv4 port                                                  │
                     ├────────────┼────────────────────────────────────────────────────────────┤
                     │ <b>ip_address</b> │ IPv4 address (private interconnect recommended)            │
                     ├────────────┼────────────────────────────────────────────────────────────┤
                     │ <b>number</b>     │ Node number (0 - 254)                                      │
                     ├────────────┼────────────────────────────────────────────────────────────┤
                     │ <b>name</b>       │ Node name (<u>hostname</u> without the domain name)               │
                     ├────────────┼────────────────────────────────────────────────────────────┤
                     │ <b>cluster</b>    │ Cluster name (should match the name in the cluster stanza) │
                     └────────────┴────────────────────────────────────────────────────────────┘

       The  <b>heartbeat</b>  <b>stanza</b> specifies the global heartbeat region UUIDs. A cluster can have up to 32 heartbeat
       regions. This is an optional stanza and is only required if the global  heartbeat  mode  is  enabled.  In
       other  words, the regions are only used if <b>heartbeat_mode</b> <b>=</b> <b>global</b> is in the <u>cluster</u> stanza. If not, this
       stanza is ignored.

                     ┌────────────┬────────────────────────────────────────────────────────────┐
                     │ <b>Parameters</b> │ <b>Description</b>                                                │
                     ├────────────┼────────────────────────────────────────────────────────────┤
                     │ <b>region</b>     │ Heartbeat region UUID                                      │
                     ├────────────┼────────────────────────────────────────────────────────────┤
                     │ <b>cluster</b>    │ Cluster name (should match the name in the cluster stanza) │
                     └────────────┴────────────────────────────────────────────────────────────┘

       While manual editing is not recommended, users doing so must follow  the  format  strictly.   The  stanza
       should  start  at  the  first column and end with a colon. The parameters must start after a tab. A blank
       line must demarcate each stanza. Care should be taken to avoid stray white-spaces.

</pre><h4><b>EXAMPLE</b></h4><pre>
       The example below illustrates populating a cluster.conf with a cluster called webcluster, having 3  nodes
       and 3 global heartbeat regions, using the <b><a href="../man8/o2cb.8.html">o2cb</a>(8)</b> utility.

       $ o2cb add-cluster webcluster

       $ o2cb add-node webcluster node7 --ip 192.168.0.107 --number 7
       $ o2cb add-node webcluster node6 --ip 192.168.0.106 --number 6
       $ o2cb add-node webcluster node10 --ip 192.168.0.110 --number 10

       $ o2cb add-heartbeat webcluster /dev/sdg1
       $ o2cb add-heartbeat webcluster /dev/sdk1
       $ o2cb add-heartbeat webcluster /dev/sdh1

       $ o2cb heartbeat-mode webcluster global

       $ o2cb list-cluster webcluster
       heartbeat:
               region = 77D95EF51C0149D2823674FCC162CF8B
               cluster = webcluster

       heartbeat:
               region = DCDA2845177F4D59A0F2DCD8DE507CC3
               cluster = webcluster

       heartbeat:
               region = BBA1DBD0F73F449384CE75197D9B7098
               cluster = webcluster

       node:
               ip_port = 7777
               ip_address = 192.168.0.107
               number = 7
               name = node7
               cluster = webcluster

       node:
               ip_port = 7777
               ip_address = 192.168.0.106
               number = 6
               name = node6
               cluster = webcluster

       node:
               ip_port = 7777
               ip_address = 192.168.0.110
               number = 10
               name = node10
               cluster = webcluster

       cluster:
               node_count = 3
               heartbeat_mode = global
               name = webcluster

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man7/o2cb.7.html">o2cb</a>(7)</b> <b><a href="../man8/o2cb.8.html">o2cb</a>(8)</b> <b><a href="../man5/o2cb.sysconfig.5.html">o2cb.sysconfig</a>(5)</b>

</pre><h4><b>AUTHORS</b></h4><pre>
       Oracle Corporation

</pre><h4><b>COPYRIGHT</b></h4><pre>
       Copyright © 2004, 2012 Oracle. All rights reserved.

Version 1.8.8                                     January 2012                        <u>/etc/ocfs2/<a href="../man5/cluster.conf.5.html">cluster.conf</a></u>(5)
</pre>
 </div>
</div></section>
</div>
</body>
</html>