<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>/proc/locks - current file locks and leases</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/manpages">manpages_6.9.1-1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       <a href="file:/proc/locks">/proc/locks</a> - current file locks and leases

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <u><a href="file:/proc/locks">/proc/locks</a></u>
              This file shows current file locks (<b><a href="../man2/flock.2.html">flock</a></b>(2) and <b><a href="../man2/fcntl.2.html">fcntl</a></b>(2)) and leases (<b><a href="../man2/fcntl.2.html">fcntl</a></b>(2)).

              An example of the content shown in this file is the following:

                  1: POSIX  ADVISORY  READ  5433 08:01:7864448 128 128
                  2: FLOCK  ADVISORY  WRITE 2001 08:01:7864554 0 EOF
                  3: FLOCK  ADVISORY  WRITE 1568 00:2f:32388 0 EOF
                  4: POSIX  ADVISORY  WRITE 699 00:16:28457 0 EOF
                  5: POSIX  ADVISORY  WRITE 764 00:16:21448 0 0
                  6: POSIX  ADVISORY  READ  3548 08:01:7867240 1 1
                  7: POSIX  ADVISORY  READ  3548 08:01:7865567 1826 2335
                  8: OFDLCK ADVISORY  WRITE -1 08:01:8713209 128 191

              The fields shown in each line are as follows:

              [1]  The ordinal position of the lock in the list.

              [2]  The lock type.  Values that may appear here include:

                   <b>FLOCK</b>  This is a BSD file lock created using <b><a href="../man2/flock.2.html">flock</a></b>(2).

                   <b>OFDLCK</b> This is an open file description (OFD) lock created using <b><a href="../man2/fcntl.2.html">fcntl</a></b>(2).

                   <b>POSIX</b>  This is a POSIX byte-range lock created using <b><a href="../man2/fcntl.2.html">fcntl</a></b>(2).

              [3]  Among the strings that can appear here are the following:

                   <b>ADVISORY</b>
                          This is an advisory lock.

                   <b>MANDATORY</b>
                          This is a mandatory lock.

              [4]  The type of lock.  Values that can appear here are:

                   <b>READ</b>   This is a POSIX or OFD read lock, or a BSD shared lock.

                   <b>WRITE</b>  This is a POSIX or OFD write lock, or a BSD exclusive lock.

              [5]  The PID of the process that owns the lock.

                   Because  OFD  locks are not owned by a single process (since multiple processes may have file
                   descriptors that refer to the same open file description), the value -1 is displayed in  this
                   field  for  OFD  locks.   (Before  Linux  4.14,  a bug meant that the PID of the process that
                   initially acquired the lock was displayed instead of the value -1.)

              [6]  Three colon-separated subfields that identify the major and minor device  ID  of  the  device
                   containing  the filesystem where the locked file resides, followed by the inode number of the
                   locked file.

              [7]  The byte offset of the first byte of the lock.  For BSD locks, this value is always 0.

              [8]  The byte offset of the last byte of the lock.  <b>EOF</b> in this field means that the lock  extends
                   to the end of the file.  For BSD locks, the value shown is always <u>EOF</u>.

              Since Linux 4.9, the list of locks shown in <u><a href="file:/proc/locks">/proc/locks</a></u> is filtered to show just the locks for the
              processes in the PID namespace (see <b><a href="../man7/pid_namespaces.7.html">pid_namespaces</a></b>(7)) for which the <u><a href="file:/proc">/proc</a></u> filesystem was mounted.
              (In the initial PID namespace, there is no filtering of the records shown in this file.)

              The <b><a href="../man8/lslocks.8.html">lslocks</a></b>(8) command provides a bit more information about each lock.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man5/proc.5.html">proc</a></b>(5)

Linux man-pages 6.9.1                              2024-05-02                                      <u><a href="../man5/proc_locks.5.html">proc_locks</a></u>(5)
</pre>
 </div>
</div></section>
</div>
</body>
</html>