<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>doas.conf — doas configuration file</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/opendoas">opendoas_6.8.2-1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       doas.conf — doas configuration file

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The  <u><a href="../man1/doas.1.html">doas</a></u>(1)  utility  executes  commands  as  other  users  according  to  the  rules  in  the <b>doas.conf</b>
       configuration file.

       The rules have the following format:

             <b>permit</b>|<b>deny</b> [<u>options</u>] <u>identity</u> [<b>as</b> <u>target</u>] [<b>cmd</b> <u>command</u> [<b>args</b> ...]]

       Rules consist of the following parts:

       <b>permit</b>|<b>deny</b>  The action to be taken if this rule matches.

       <u>options</u>      Options are:

                    <b>nopass</b>   The user is not required to enter a password.

                    <b>nolog</b>    Do not log successful command execution to <u><a href="../man8/syslogd.8.html">syslogd</a></u>(8).

                    <b>persist</b>  After the user successfully authenticates, do not ask for a password again for some
                             time.

                    <b>keepenv</b>  Environment variables other than those listed in <u><a href="../man1/doas.1.html">doas</a></u>(1) are retained when creating
                             the environment for the new process.

                    <b>setenv</b> <b>{</b> [<u>variable</u> <u>...</u>] [<u>variable=value</u> <u>...</u>] <b>}</b>
                             Keep or set the space-separated specified variables.  Variables may also be removed
                             with a leading ‘-’ or set using the latter syntax.  If the first character of <u>value</u>
                             is a ‘$’ then the value to be set is taken from the existing  environment  variable
                             of  the indicated name.  This option is processed after the default environment has
                             been created.

       <u>identity</u>     The username to match.  Groups may be specified by prepending a colon  (‘:’).   Numeric  IDs
                    are also accepted.

       <b>as</b> <u>target</u>    The  target  user  the  running  user  is allowed to run the command as.  The default is all
                    users.

       <b>cmd</b> <u>command</u>  The command the user is allowed or denied to run.  The default is all commands.  Be  advised
                    that  it  is  best  to  specify  absolute  paths.   If  a relative path is specified, only a
                    restricted PATH will be searched.

       <b>args</b> [<u>argument</u> <u>...</u>]
                    Arguments to command.  The command arguments provided  by  the  user  need  to  match  those
                    specified.  The keyword <b>args</b> alone means that command must be run without any arguments.

       The last matching rule determines the action taken.  If no rule matches, the action is denied.

       Comments  can  be  put anywhere in the file using a hash mark (‘#’), and extend to the end of the current
       line.

       The following quoting rules apply:

       <b>-</b>   The text between a pair of double quotes (‘"’) is taken as is.

       <b>-</b>   The backslash character (‘\’) escapes the next character,  including  new  line  characters,  outside
           comments; as a result, comments may not be extended over multiple lines.

       <b>-</b>   If quotes or backslashes are used in a word, it is not considered a keyword.

</pre><h4><b>FILES</b></h4><pre>
       <u>/etc/doas.conf</u>                              <u><a href="../man1/doas.1.html">doas</a></u>(1) configuration file.
       <u>/usr/share/doc/opendoas/examples/doas.conf</u>  Example configuration file.

</pre><h4><b>EXAMPLES</b></h4><pre>
       The  following  example  permits  user  aja  to  install packages from a preferred mirror; group wheel to
       execute commands as any user while keeping the environment variables PS1 and SSH_AUTH_SOCK and  unsetting
       ENV;  permits  tedu  to  run  procmap  as  root  without a password; and additionally permits root to run
       unrestricted commands as itself while retaining the original PATH.

             permit persist setenv { PKG_CACHE PKG_PATH } aja cmd pkg_add
             permit setenv { -ENV PS1=$DOAS_PS1 SSH_AUTH_SOCK } :wheel
             permit nopass tedu as root cmd /usr/sbin/procmap
             permit nopass keepenv setenv { PATH } root as root

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <u><a href="../man1/doas.1.html">doas</a></u>(1), <u><a href="../man8/syslogd.8.html">syslogd</a></u>(8)

</pre><h4><b>HISTORY</b></h4><pre>
       The <b>doas.conf</b> configuration file first appeared in OpenBSD 5.8.

</pre><h4><b>AUTHORS</b></h4><pre>
       Ted Unangst &lt;<u><a href="mailto:tedu@openbsd.org">tedu@openbsd.org</a></u>&gt;

Debian                                           October 9, 2020                                    <u><a href="../man5/DOAS.CONF.5.html">DOAS.CONF</a></u>(5)
</pre>
 </div>
</div></section>
</div>
</body>
</html>