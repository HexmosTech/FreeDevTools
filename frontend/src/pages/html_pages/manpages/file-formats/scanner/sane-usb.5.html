<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>sane-usb - USB configuration tips for SANE</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libsane-common">libsane-common_1.3.1-4build1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       sane-usb - USB configuration tips for SANE

</pre><h4><b>DESCRIPTION</b></h4><pre>
       This  manual  page contains information on how to access scanners with a USB interface. It focuses on two
       main topics: getting the scanner detected by the operating system kernel and using it with SANE.

       This page applies to USB most backends and  scanners,  as  they  use  the  generic  sanei_usb  interface.
       However,  there  is one exception: USB Scanners supported by the <b><a href="../man5/sane-microtek2.5.html">sane-microtek2</a></b>(5) backend need a special
       USB kernel driver.

</pre><h4><b>QUICK</b> <b>START</b></h4><pre>
       This is a short HOWTO-like section. For the full details, read the following sections. The goal  of  this
       section is to get the scanner detected by <b><a href="../man1/sane-find-scanner.1.html">sane-find-scanner</a></b>(1).

       Run  <b><a href="../man1/sane-find-scanner.1.html">sane-find-scanner</a></b>(1).   If  it  lists  your scanner with the correct vendor and product ids, you are
       done. See section <b>SANE</b> <b>ISSUES</b> for details on how to go on.

       <b><a href="../man1/sane-find-scanner.1.html">sane-find-scanner</a></b>(1) doesn't list your scanner? Does it work as root?  If  yes,  there  is  a  permission
       issue.  See the <b>LIBUSB</b> section for details.

       Nothing  is  found  even  as  root? Check that your kernel supports USB and that libusb is installed (see
       section <b>LIBUSB</b>).

</pre><h4><b>USB</b> <b>ACCESS</b> <b>METHODS</b></h4><pre>
       For accessing USB devices, the USB library libusb is used. There used to exist another method  to  access
       USB  devices:  the kernel scanner driver. The kernel scanner driver method is deprecated and shouldn't be
       used anymore. It may be removed from SANE at any time. In Linux,  the  kernel  scanner  driver  has  been
       removed in the 2.6.* kernel series. Only libusb access is documented in this manual page.

</pre><h4><b>LIBUSB</b></h4><pre>
       SANE  can  only  use  libusb  0.1.6  or  newer.  It  needs  to  be  installed at build-time. Modern Linux
       distributions and other operating systems come with libusb.

       Libusb can only access your scanner if it's not claimed by the kernel scanner driver. If you want to  use
       libusb,  unload the kernel driver (e.g. rmmod scanner under Linux) or disable the driver when compiling a
       new kernel. For Linux, your kernel needs support for the USB filesystem (usbfs). For kernels  older  than
       2.4.19,  replace  "usbfs"  with "usbdevfs" because the name has changed. This filesystem must be mounted.
       That's done automatically at boot time, if <u><a href="file:/etc/fstab">/etc/fstab</a></u> contains a line like this:

              none /proc/bus/usb usbfs defaults  0  0

       The permissions for the device files used by libusb must be adjusted for user access. Otherwise only root
       can use SANE devices. For <u>Linux</u>, the devices are located in <u>/proc/bus/usb/</u> or in <u>/dev/bus/usb</u>, if you use
       udev. There are directories named e.g. "001" (the bus name)  containing  files  "001",  "002"  etc.  (the
       device  files).  The  right  device  files  can  be  found out by running: <u>scanimage</u> <u>-L:</u> as root. Setting
       permissions with <b><a href="../man1/chmod.1.html">chmod</a></b>(1) is not permanent, however. They will be reset after reboot  or  replugging  the
       scanner.

       Usually  <b><a href="../man7/udev.7.html">udev</a></b>(7) or for older distributions the hotplug utilities are used, which support dynamic setting
       of access permissions. SANE comes  with  udev  and  hotplug  scripts  in  the  directory  <u>tools/udev</u>  and
       <u>tools/hotplug</u>.   They  can  be  used  for  setting  permissions, see <u>/usr/share/doc/libsane/README.linux</u>,
       <u>tools/README</u> and the <u>README</u> in the <u>tools/hotplug</u> directory for more details.

       For the <b>BSDs</b>, the device files used by libusb are named <u>/dev/ugen*</u>.  Use <b><a href="../man1/chmod.1.html">chmod</a></b>(1)  to  apply  appropriate
       permissions.

</pre><h4><b>SANE</b> <b>ISSUES</b></h4><pre>
       This  section assumes that your scanner is detected by <b><a href="../man1/sane-find-scanner.1.html">sane-find-scanner</a></b>(1).  It doesn't make sense to go
       on, if this is not the case. While <b><a href="../man1/sane-find-scanner.1.html">sane-find-scanner</a></b>(1)  is  able  to  detect  any  USB  scanner,  actual
       scanning  will  only  work  if  the  scanner  is supported by a SANE backend. Information on the level of
       support can be found on the SANE  webpage  (<u><a href="http://www.sane-project.org/">http://www.sane-project.org/</a></u>),  and  the  individual  backend
       manpages.

       Most  backends  can  detect  USB scanners automatically using "usb" configuration file lines. This method
       allows one to identify scanners by the USB vendor and product  numbers.   The  syntax  for  specifying  a
       scanner this way is:

              usb <u>VENDOR</u> <u>PRODUCT</u>

       where  <u>VENDOR</u>  is  the USB vendor id, and <u>PRODUCT</u> is the USB product id of the scanner. Both ids are non-
       negative integer numbers in decimal or hexadecimal format. The correct values for  these  fields  can  be
       found  by  running <b><a href="../man1/sane-find-scanner.1.html">sane-find-scanner</a></b>(1), looking into the syslog (e.g., <u>/var/log/messages</u>) or under Linux
       by issuing the command <u>cat</u> <u>/proc/bus/usb/devices</u>.  This is an example of a config file line:

              usb 0x055f 0x0006

       would have the effect that all USB devices in the system with a vendor id of 0x55f and a  product  id  of
       0x0006 would be probed and recognized by the backend.

       If  your  scanner  is  not  detected  automatically,  it may be necessary to edit the appropriate backend
       configuration file before using SANE for the first time.  For a detailed description  of  each  backend's
       configuration file, please refer to the relevant backend manual page (e.g.  <b><a href="../man5/sane-mustek_usb.5.html">sane-mustek_usb</a></b>(5) for Mustek
       USB scanners).

       Do  <b>not</b>  create  a  symlink  from  <u>/dev/scanner</u>  to  the USB device because this link is used by the SCSI
       backends. The scanner may be confused if it receives SCSI commands.

</pre><h4><b>ENVIRONMENT</b></h4><pre>
       <b>SANE_DEBUG_SANEI_USB</b>
              If the library was compiled with debug support enabled, this  environment  variable  controls  the
              debug  level  for  the  USB  I/O  subsystem.  E.g., a value of 128 requests all debug output to be
              printed.  Smaller levels reduce verbosity. Values greater  than  4  enable  libusb  debugging  (if
              available). Example: <u>export</u> <u>SANE_DEBUG_SANEI_USB=4</u>.

       <b>SANE_USB_WORKAROUND</b>
              If  your scanner does not work when plugged into a USB3 port, try setting the environment variable
              <b>SANE_USB_WORKAROUND</b> to 1. This  may  work  around  issues  which  happen  with  particular  kernel
              versions. Example: <u>export</u> <u>SANE_USB_WORKAROUND=1.</u>

       <b>SANE_XEROX_USB_HALT_WORKAROUND</b>
              If  your  old  (pre-2010)  Xerox / Samsung / HP scanner is detected only once and subsequent usage
              requires replugging the cable, try setting the environment variable <b>SANE_XEROX_USB_HALT_WORKAROUND</b>
              to 1. This may work around issues which happen with particular USB  controllers.  Example:  <u>export</u>
              <u>SANE_XEROX_USB_HALT_WORKAROUND=1.</u>

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man7/sane.7.html">sane</a></b>(7), <b><a href="../man1/sane-find-scanner.1.html">sane-find-scanner</a></b>(1), <b>sane-"backendname"</b>(5), <b><a href="../man5/sane-scsi.5.html">sane-scsi</a></b>(5)

</pre><h4><b>AUTHOR</b></h4><pre>
       Henning Meier-Geinitz &lt;<u><a href="mailto:henning@meier-geinitz.de">henning@meier-geinitz.de</a></u>&gt;

                                                   14 Jul 2008                                       <u><a href="../man5/sane-usb.5.html">sane-usb</a></u>(5)
</pre>
 </div>
</div></section>
</div>
</body>
</html>