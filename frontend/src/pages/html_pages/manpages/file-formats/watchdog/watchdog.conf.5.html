<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>watchdog.conf - configuration file for the watchdog daemon</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/watchdog">watchdog_5.16-1.1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       watchdog.conf - configuration file for the watchdog daemon

</pre><h4><b>DESCRIPTION</b></h4><pre>
       This file carries all configuration options for the Linux watchdog daemon.  Each option has to be written
       on  a  line  for itself. Comments start with '#'.  Blanks are ignored except after the '=' sign. An empty
       text after the '=' sign disables the feature as long as that makes sense.

</pre><h4><b>OPTIONS</b></h4><pre>
       interval = &lt;interval&gt;
              Set the highest possible interval between two writes  to  the  watchdog  device.   The  device  is
              triggered  after  each  check  regardless of the time it took. After finishing all checks watchdog
              goes to sleep for a full cycle of &lt;interval&gt; seconds.  Default  value  is  1  second.  The  kernel
              drivers  typically  expects  a  write  command every minute otherwise the system will be rebooted.
              Therefore an interval of more than a minute can only be used with the  force  command-line  option
              [--force | -f].

       logtick = &lt;logtick&gt;
              If  you  enable  verbose logging, a message is written into the syslog or a logfile. While this is
              nice, it is not necessary to get a message every interval which really fills  up  disk  and  needs
              CPU. logtick allows adjustment of the number of intervals skipped before a log message is written.
              If  you  use  logtick  =  60  and  interval = 10, only every 10 minutes (600 seconds) a message is
              written. This may make the exact time of a crash harder to find but greatly reduces disk usage and
              administrator nerves if you're looking for a  particular  syslog  entry  in  between  of  watchdog
              messages.

       max-load-1 = &lt;load1&gt;
              Set  the  maximal  allowed load average for a 1 minute span. Once this load average is reached the
              system is rebooted. Default value is 0. That means the load average check is disabled. Be  careful
              not to set this parameter too low. To set a value less then the predefined minimal value of 2, you
              have to use the -f command line option.

       max-load-5 = &lt;load5&gt;
              Set  the  maximal  allowed load average for a 5 minute span. Once this load average is reached the
              system is rebooted. Default value is 3/4*max-load-1.  Be careful not to this parameter too low. To
              set a value less then the predefined minimal value of 2, you have  to  use  the  -f  command  line
              option.

       max-load-15 = &lt;load15&gt;
              Set  the  maximal allowed load average for a 15 minute span. Once this load average is reached the
              system is rebooted. Default value is 1/2*max-load-1.  Be careful not to this parameter too low. To
              set a value less then the predefined minimal value of 2, you have  to  use  the  -f  command  line
              option.

       min-memory = &lt;minpage&gt;
              Set  the minimal amount of memory that has to stay free. Note that this is in memory pages (4kB on
              x86). Default value is 0 pages which means this test is disabled. The page size is taken from  the
              system  include files.  The usable memory is computed from MemFree + Buffers + Cached since buffer
              and cache use typically expand to use most free memory but the kernel will reclaim this as needed.
              NOTE: If this measure gets below a few tens of MB then the system will page swap aggressively have
              poorer file system performance due to the lack of caching.  This is a 'passive' test and works  by
              reading <a href="file:/proc/meminfo">/proc/meminfo</a>

       allocatable-memory = &lt;minpage&gt;
              Set the minimum amount of allocatable memory available on the system.  Note that this is in pages.
              Default  value  is 0 pages which means the test is disabled.  As with min-memory, the page size is
              taken from the system include files. This is an 'active'  test  and  it  works  by  attempting  to
              memory-map a block of the configured size.

       max-swap = &lt;maxpage&gt;
              Set  the maximum amount of swap use. Note that this is in memory pages (4kB on x86). Default value
              is 0 pages which means this test is disabled. Often this should be a large  portion  of  available
              swap,  but remember that paging 1GB of swap can take several/tens of seconds.  This is a 'passive'
              test and works by reading <a href="file:/proc/meminfo">/proc/meminfo</a>

       watchdog-device = &lt;device&gt;
              Set the watchdog device name, typically /dev/watchdog. Default is to disable keep  alive  support.
              This  should  be tested by running the daemon from the command line before configuring it to start
              automatically on booting.

       watchdog-refresh-use-settimeout = &lt;auto|yes|no&gt;
              Refresh watchdog timer by  setting  its  timeout  instead  of  using  a  normal  watchdog  refresh
              operation.  Might  help  if your watchdog trips by itself when the first timeout interval elapses.
              Default is 'auto' for IT87 fix-up but this can be disabled with 'no' or forced for  other  modules
              with 'yes'.

       watchdog-refresh-ignore-errors = &lt;yes|no&gt;
              Ignore  errors reported by writing to the watchdog device. Typically this is used for systems that
              have broken implementations of the IPMI driver to avoid a reboot loop.

       watchdog-timeout = &lt;timeout&gt;
              Set the watchdog device timeout during startup.  If not set, a default is used that should be  set
              to the kernel timer margin at compile time.

       temperature-sensor = &lt;temp-virtual-file&gt;
              Set  the temperature sensor name. This is normally a 'virtual file' under <a href="file:/sys">/sys</a> and it contains the
              temperature in milli-Celsius. Usually these are generated by the <b>sensors</b> package, but take care as
              device enumeration may not be fixed. Default is to disable temperature checking. Multiple  sensors
              can  be  used  by  having  repeated temperature-sensor entries. Due to the enumeration problem any
              missing temp sensor is simply ignored and not treated as a reboot trigger.

       max-temperature = &lt;temp&gt;
              Set the maximal allowed temperature in Celsius. Once this temperature is  reached  the  system  is
              stopped.  Default  value is 90 C. Watchdog will issue warnings once the temperature increases 90%,
              95% and 98% of this temperature.

       temp-power-off = &lt;yes|no&gt;
              Set the watchdog action on overheating. Yes option (default) is  to  power  the  machine  off,  no
              option is to halt machine and allow Ctrl-Alt-Del reboot.

       file = &lt;filename&gt;
              Set  file  name  for  file  mode.   This option can be given as often as you like to check several
              files.

       change = &lt;mtime&gt;
              Set the change interval time for file mode. This options always belongs to  the  active  filename,
              that is when finding a 'change =' line watchdog assumes it belongs to the most recently read 'file
              ='  line.   They  don't  necessarily  have to follow each other directly. But you cannot specify a
              'change =' before a 'file ='.  The default is to only stat the file and don't  look  for  changes.
              Using  this  feature  to  monitor  changes  in /var/log/messages might require some special syslog
              daemon configuration, e.g. rsyslog needs "$ActionWriteAllMarkMessages on" to be set to  make  sure
              the marks are written no matter what.

       pidfile = &lt;pidfilename&gt;
              Set  pidfile  name  for  daemon test mode.  This option can be given as often as you like to check
              several daemons, assuming they write their post-forking PID to the specified files.

       ping = &lt;ip-addr&gt;
              Set IPv4 address for ping mode.  This option can  be  used  more  than  once  to  check  different
              connections.

       ping-count = &lt;ping-per-interval&gt;
              Set  the  number of ping attempts in each 'interval' of time. Default is 3 and it completes on the
              first successful ping.

       interface = &lt;if-name&gt;
              Set interface name for network mode.  This option can be used more than once  to  check  different
              interfaces. Note it is only possible to check physical interfaces, and not aliased IP interfaces.

       test-binary = &lt;testbin&gt;
              Execute the given binary to do some user defined tests.

       test-timeout = &lt;timeout in seconds&gt;
              User defined tests may only run for &lt;timeout&gt; seconds. Set to 0 for unlimited.

       repair-binary = &lt;repbin&gt;
              Execute the given binary in case of a problem instead of shutting down the system.

       repair-timeout = &lt;timeout in seconds&gt;
              repair  command  may  only  run for &lt;timeout&gt; seconds. Set to 0 for 'unlimited', but note that the
              hardware timer is not refreshed in this case so the system will hard-reset at some point.

       retry-timeout = &lt;timeout in seconds&gt;
              Allow most error conditions to persist for &lt;timeout&gt; seconds. Set to 0 for immediate action  (like
              softboot behaviour).

       repair-maximum = &lt;count&gt;
              This  allows  no more then &lt;count&gt; repair attempts against a given fault that report success (i.e.
              return 0), but fail to clear the fault, before a reboot is initiated anyway. If set to zero then a
              repairable fault can always be blocked by a repair  program  reporting  success  (previous  daemon
              behaviour).

       softboot-option = &lt;yes|no&gt;
              This acts like the -b / --softboot command line and simply sets the retry timeout to zero.

       admin = &lt;mail-address&gt;
              Email  address  to  send  admin  mail to. That is, who shall be notified that the machine is being
              halted or rebooted. Default is 'root'. If you want to disable  notification  via  email  just  set
              admin to en empty string.

       realtime = &lt;yes|no&gt;
              If set to yes watchdog will lock itself into memory so it is never swapped out.

       priority = &lt;schedule priority&gt;
              Set the schedule priority for realtime mode passed to sched_setscheduler().

       test-directory = &lt;test directory&gt;
              Set  the  directory  to  run  user test/repair scripts.  Default is '/etc/watchdog.d' See the Test
              Directory section in <a href="../man8/watchdog.8.html">watchdog</a>(8) for more information.

       log-dir = &lt;log directory&gt;
              Set the log directory to capture the standard output and standard  error  from  repair-binary  and
              test-binary execution. Default is '/var/log/watchdog'.

       sigterm-delay = &lt;time in seconds&gt;
              Set  the  time  on  shut  down  between  first  sending SIGTERM to all processes, and then sending
              SIGKILL. Default is 5 seconds which is generally enough,  but  systems  with  large  databases  or
              virtual machines might need longer.

       verbose = &lt;level&gt;
              This  overrides  the command line --verbose option. Generally the verbose mode is only enabled for
              debugging as it creates a lot of syslog chatter, so use this option with  consideration.  Zero  is
              "normal"  operation  (quiet), while 1 is typically used for debugging. Values of 2 or more usually
              generate far too many messages.

       heartbeat-file = &lt;filename&gt;
              For debugging this allows a rolling set of status values to be kept on disk

       heartbeat-stamps = &lt;interval&gt;
              For debugging this sets the number of entries in the &lt;heartbeat-file&gt;

       log-killed-pids = &lt;yes|no&gt;
              This acts like enabling 'verbose' logging, but only for a system  reboot,  where  it  enables  the
              logging  of the PID values for all processes that are being killed. The results are written to the
              killall5.log file in the log directory (if at all possible) in this case.  Intended for  debugging
              cases  where  you  would  like  to  know  what  was running at the point the machine triggered the
              watchdog, but don't want syslog filling up with the usual chatter of activity.

</pre><h4><b>FILES</b></h4><pre>
       <u>/etc/watchdog.conf</u>
              The watchdog configuration file

       <u>/etc/watchdog.d</u>
              A directory containing test-or-repair commands. See the Test Directory section in <a href="../man8/watchdog.8.html">watchdog</a>(8)  for
              more information.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man8/watchdog.8.html">watchdog</a></b>(8)

4th Berkeley Distribution                         February 2019                                 <u><a href="../man5/WATCHDOG.CONF.5.html">WATCHDOG.CONF</a></u>(5)
</pre>
 </div>
</div></section>
</div>
</body>
</html>