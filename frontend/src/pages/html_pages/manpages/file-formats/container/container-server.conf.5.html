<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>container-server.conf - configuration file for the OpenStack Swift container server</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/swift-container">swift-container_2.35.0-0ubuntu1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       <b>container-server.conf</b> - configuration file for the OpenStack Swift container server

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>container-server.conf</b>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       This is the configuration file used by the container server and other container background services, such
       as; replicator, updater, auditor and sync.

       The  configuration  file  follows the python-pastedeploy syntax. The file is divided into sections, which
       are enclosed by square brackets. Each section will contain a certain number of key/value parameters which
       are described later.

       Any line that begins with a '#' symbol is ignored.

       You    can    find    more    information    about    python-pastedeploy    configuration    format    at
       <u>https://docs.pylonsproject.org/projects/pastedeploy/en/latest/#config-format</u>

</pre><h4><b>GLOBAL</b> <b>SECTION</b></h4><pre>
       This  is  indicated  by section named [DEFAULT]. Below are the parameters that are acceptable within this
       section.

       <b>bind_ip</b>
              IP address the container server should bind to. The default is 0.0.0.0 which will make it bind  to
              all available addresses.

       <b>bind_port</b>
              TCP port the container server should bind to. The default is 6201.

       <b>keep_idle</b>
              Value to set for socket TCP_KEEPIDLE. The default value is 600.

       <b>bind_timeout</b>
              Timeout to bind socket. The default is 30.

       <b>backlog</b>
              TCP backlog.  Maximum number of allowed pending connections. The default value is 4096.

       <b>workers</b>
              The number of pre-forked processes that will accept connections.  Zero means no fork.  The default
              is  auto  which  will  make  the  server  try to match the number of effective cpu cores if python
              multiprocessing is available (included with most python distributions &gt;= 2.6) or fallback to  one.
              It's  worth  noting that individual workers will use many eventlet co-routines to service multiple
              concurrent requests.

       <b>max_clients</b>
              Maximum number of clients one worker can process simultaneously (it will actually  <a href="../man2/accept.2.html">accept</a>(2)  N  +
              1).  Setting  this  to  one  (1) will only handle one request at a time, without accepting another
              request concurrently.  The default is 1024.

       <b>allowed_sync_hosts</b>
              This is a comma separated list of hosts allowed in the X-Container-Sync-To field  for  containers.
              This  is the old-style of using container sync. It is strongly recommended to use the new style of
              a separate container-sync-realms.conf -- see container-sync-realms.conf-sample  allowed_sync_hosts
              = 127.0.0.1

       <b>user</b>   The system user that the container server will run as. The default is swift.

       <b>swift_dir</b>
              Swift configuration directory. The default is /etc/swift.

       <b>devices</b>
              Parent directory of where devices are mounted. Default is /srv/node.

       <b>mount_check</b>
              Whether  or  not  check  if  the  devices  are mounted to prevent accidentally writing to the root
              device. The default is set to true.

       <b>disable_fallocate</b>
              Disable pre-allocate disk space for a file. The default is false.

       <b>log_name</b>
              Label used when logging. The default is swift.

       <b>log_facility</b>
              Syslog log facility. The default is LOG_LOCAL0.

       <b>log_level</b>
              Logging level. The default is INFO.

       <b>log_address</b>
              Logging address. The default is /dev/log.

       <b>log_max_line_length</b>
              The following caps the length of log lines to the value given; no limit if set to 0, the default.

       <b>log_custom_handlers</b>
              Comma separated list of functions to call to setup custom log  handlers.   functions  get  passed:
              conf, name, log_to_console, log_route, fmt, logger, adapted_logger. The default is empty.

       <b>log_udp_host</b>
              If set, log_udp_host will override log_address.

       <b>log_udp_port</b>
              UDP log port, the default is 514.

       <b>log_statsd_host</b>
              StatsD  server. IPv4/IPv6 addresses and hostnames are supported. If a hostname resolves to an IPv4
              and IPv6 address, the IPv4 address will be used.

       <b>log_statsd_port</b>
              The default is 8125.

       <b>log_statsd_default_sample_rate</b>
              The default is 1.

       <b>log_statsd_sample_rate_factor</b>
              The default is 1.

       <b>log_statsd_metric_prefix</b>
              The default is empty.

       <b>db_preallocation</b>
              If you don't mind the extra disk space usage in overhead, you can turn this on to preallocate disk
              space with SQLite databases to decrease fragmentation.  The default is false.

       <b>eventlet_debug</b>
              Debug mode for eventlet library. The default is false.

       <b>fallocate_reserve</b>
              You can set fallocate_reserve to the number of bytes  or  percentage  of  disk  space  you'd  like
              fallocate  to  reserve,  whether there is space for the given file size or not. Percentage will be
              used if the value ends with a '%'.  The default is 1%.

       <b>nice_priority</b>
              Modify scheduling priority of server processes. Niceness values range from -20 (most favorable  to
              the process) to 19 (least favorable to the process).  The default does not modify priority.

       <b>ionice_class</b>
              Modify  I/O  scheduling  class  of server processes. I/O niceness class values are IOPRIO_CLASS_RT
              (realtime), IOPRIO_CLASS_BE (best-effort) and IOPRIO_CLASS_IDLE  (idle).   The  default  does  not
              modify class and priority.  Work only with ionice_priority.

       <b>ionice_priority</b>
              Modify  I/O  scheduling priority of server processes. I/O niceness priority is a number which goes
              from 0 to 7. The higher the value, the lower the I/O priority  of  the  process.  Work  only  with
              ionice_class.  Ignored if IOPRIO_CLASS_IDLE is set.

</pre><h4><b>PIPELINE</b> <b>SECTION</b></h4><pre>
       This  is  indicated  by section name [pipeline:main]. Below are the parameters that are acceptable within
       this section.

       <b>pipeline</b>
              It is used when you need to apply a number of filters. It  is  a  list  of  filters  ended  by  an
              application.  The normal pipeline is "healthcheck recon container-server".

</pre><h4><b>APP</b> <b>SECTION</b></h4><pre>
       This  is  indicated  by section name [app:container-server]. Below are the parameters that are acceptable
       within this section.

       <b>use</b>    Entry point for paste.deploy for the container server. This is  the  reference  to  the  installed
              python egg.  This is normally <b>egg:swift#container</b>.

       <b>set</b> <b>log_name</b>
              Label used when logging. The default is container-server.

       <b>set</b> <b>log_facility</b>
              Syslog log facility. The default is LOG_LOCAL0.

       <b>set</b> <b>log_level</b>
              Logging level. The default is INFO.

       <b>set</b> <b>log_requests</b>
              Enables request logging. The default is True.

       <b>set</b> <b>log_address</b>
              Logging address. The default is /dev/log.

       <b>node_timeout</b>
              Request timeout to external services. The default is 3 seconds.

       <b>conn_timeout</b>
              Connection timeout to external services. The default is 0.5 seconds.

       <b>allow_versions</b>
              The default is false.

       <b>replication_server</b>
              Configure  parameter  for  creating  specific  server.  To handle all verbs, including replication
              verbs, do not specify "replication_server" (this is the default). To only handle replication,  set
              to a True value (e.g. "True" or "1"). To handle only non-replication verbs, set to "False". Unless
              you   have   a   separate   replication   network,   you   should   not   specify  any  value  for
              "replication_server".

       <b>nice_priority</b>
              Modify scheduling priority of server processes. Niceness values range from -20 (most favorable  to
              the process) to 19 (least favorable to the process).  The default does not modify priority.

       <b>ionice_class</b>
              Modify  I/O  scheduling  class  of server processes. I/O niceness class values are IOPRIO_CLASS_RT
              (realtime), IOPRIO_CLASS_BE (best-effort) and IOPRIO_CLASS_IDLE  (idle).   The  default  does  not
              modify class and priority.  Work only with ionice_priority.

       <b>ionice_priority</b>
              Modify  I/O  scheduling priority of server processes. I/O niceness priority is a number which goes
              from 0 to 7. The higher the value, the lower the I/O priority  of  the  process.  Work  only  with
              ionice_class.  Ignored if IOPRIO_CLASS_IDLE is set.

</pre><h4><b>FILTER</b> <b>SECTION</b></h4><pre>
       Any  section  that  has  its  name prefixed by "filter:" indicates a filter section.  Filters are used to
       specify configuration parameters for specific swift middlewares.  Below are  the  filters  available  and
       respective acceptable parameters.

       <b>[filter:healthcheck]</b>

          <b>use</b>    Entry  point  for  paste.deploy  for  the  healthcheck middleware. This is the reference to the
                 installed python egg.  This is normally <b>egg:swift#healthcheck</b>.

          <b>disable_path</b>
                 An optional filesystem path which, if present, will cause the healthcheck URL  to  return  "503
                 Service Unavailable" with a body of "DISABLED BY FILE".

       <b>[filter:recon]</b>

          <b>use</b>    Entry  point  for paste.deploy for the recon middleware. This is the reference to the installed
                 python egg.  This is normally <b>egg:swift#recon</b>.

          <b>recon_cache_path</b>
                 The recon_cache_path simply sets the directory where stats for a  few  items  will  be  stored.
                 Depending on the method of deployment you may need to create this directory manually and ensure
                 that swift has read/write. The default is /var/cache/swift.

       <b>[filter:xprofile]</b>

          <b>use</b>    Entry  point  for  paste.deploy  for  the  xprofile  middleware.  This  is the reference to the
                 installed python egg.  This is normally <b>egg:swift#xprofile</b>.

          <b>profile_module</b>
                 This option enable you to switch profilers which should inherit from python standard  profiler.
                 Currently the supported value can be 'cProfile', 'eventlet.green.profile' etc.

          <b>log_filename_prefix</b>
                 This  prefix  will  be  used to combine process ID and timestamp to name the profile data file.
                 Make sure the executing user has permission to write into this path (missing path segments will
                 be created, if necessary).  If you enable profiling in more than one type of daemon,  you  must
                 override it with an unique value like, the default is /var/log/swift/profile/account.profile.

          <b>dump_interval</b>
                 The  profile data will be dumped to local disk based on above naming rule in this interval. The
                 default is 5.0.

          <b>dump_timestamp</b>
                 Be careful, this option will enable profiler to dump data into the file with time  stamp  which
                 means there will be lots of files piled up in the directory.  The default is false

          <b>path</b>   This is the path of the URL to access the mini web UI. The default is __profile__.

          <b>flush_at_shutdown</b>
                 Clear the data when the wsgi server shutdown. The default is false.

          <b>unwind</b> Unwind the iterator of applications. Default is false.

</pre><h4><b>ADDITIONAL</b> <b>SECTIONS</b></h4><pre>
       The  following  sections are used by other swift-container services, such as replicator, updater, auditor
       and sync.

       <b>[container-replicator]</b>

          <b>log_name</b>
                 Label used when logging. The default is container-replicator.

          <b>log_facility</b>
                 Syslog log facility. The default is LOG_LOCAL0.

          <b>log_level</b>
                 Logging level. The default is INFO.

          <b>log_address</b>
                 Logging address. The default is /dev/log.

          <b>per_diff</b>
                 Maximum number of database rows that will be sync'd in a single HTTP replication  request.  The
                 default is 1000.

          <b>max_diffs</b>
                 This  caps  how  long the replicator will spend trying to sync a given database per pass so the
                 other databases don't get starved. The default is 100.

          <b>concurrency</b>
                 Number of replication workers to spawn. The default is 8.

          <b>run_pause</b> <b>[deprecated]</b>
                 Time in seconds to wait between replication passes. The default is 30.

          <b>interval</b>
                 Replaces run_pause with the more standard "interval", which means the  replicator  won't  pause
                 unless it takes less than the interval set. The default is 30.

          <b>node_timeout</b>
                 Request timeout to external services. The default is 10 seconds.

          <b>conn_timeout</b>
                 Connection timeout to external services. The default is 0.5 seconds.

          <b>reclaim_age</b>
                 Time elapsed in seconds before an container can be reclaimed. The default is 604800 seconds.

          <b>rsync_compress</b>
                 Allow  rsync  to  compress  data which is transmitted to destination node during sync. However,
                 this is applicable only when destination node is in a different region than the local one.  The
                 default is false.

          <b>rsync_module</b>
                 Format  of the rsync module where the replicator will send data. See etc/rsyncd.conf-sample for
                 some usage examples.

          <b>recon_cache_path</b>
                 Path to recon cache directory. The default is /var/cache/swift.

          <b>nice_priority</b>
                 Modify scheduling priority of server processes. Niceness values range from -20 (most  favorable
                 to the process) to 19 (least favorable to the process).  The default does not modify priority.

          <b>ionice_class</b>
                 Modify  I/O scheduling class of server processes. I/O niceness class values are IOPRIO_CLASS_RT
                 (realtime), IOPRIO_CLASS_BE (best-effort) and IOPRIO_CLASS_IDLE (idle).  The default  does  not
                 modify class and priority.  Work only with ionice_priority.

          <b>ionice_priority</b>
                 Modify  I/O  scheduling  priority  of server processes. I/O niceness priority is a number which
                 goes from 0 to 7. The higher the value, the lower the I/O priority of the  process.  Work  only
                 with ionice_class.  Ignored if IOPRIO_CLASS_IDLE is set.

       <b>[container-updater]</b>

          <b>log_name</b>
                 Label used when logging. The default is container-updater.

          <b>log_facility</b>
                 Syslog log facility. The default is LOG_LOCAL0.

          <b>log_level</b>
                 Logging level. The default is INFO.

          <b>log_address</b>
                 Logging address. The default is /dev/log.

          <b>interval</b>
                 Minimum time for a pass to take. The default is 300 seconds.

          <b>concurrency</b>
                 Number of updater workers to spawn. The default is 4.

          <b>node_timeout</b>
                 Request timeout to external services. The default is 3 seconds.

          <b>conn_timeout</b>
                 Connection timeout to external services. The default is 0.5 seconds.

          <b>containers_per_second</b>
                 Maximum  containers updated per second. Should be tuned according to individual system specs. 0
                 is unlimited. The default is 50.

          <b>slowdown</b> <b>[deprecated]</b>
                 Slowdown will sleep that amount between containers. The default is 0.01 seconds. Deprecated  in
                 favor of containers_per_second

          <b>account_suppression_time</b>
                 Seconds to suppress updating an account that has generated an error. The default is 60 seconds.

          <b>recon_cache_path</b>
                 Path to recon cache directory. The default is /var/cache/swift.

          <b>nice_priority</b>
                 Modify  scheduling priority of server processes. Niceness values range from -20 (most favorable
                 to the process) to 19 (least favorable to the process).  The default does not modify priority.

          <b>ionice_class</b>
                 Modify I/O scheduling class of server processes. I/O niceness class values are  IOPRIO_CLASS_RT
                 (realtime),  IOPRIO_CLASS_BE  (best-effort) and IOPRIO_CLASS_IDLE (idle).  The default does not
                 modify class and priority.  Work only with ionice_priority.

          <b>ionice_priority</b>
                 Modify I/O scheduling priority of server processes. I/O niceness priority  is  a  number  which
                 goes  from  0  to 7. The higher the value, the lower the I/O priority of the process. Work only
                 with ionice_class.  Ignored if IOPRIO_CLASS_IDLE is set.

       <b>[container-auditor]</b>

          <b>log_name</b>
                 Label used when logging. The default is container-auditor.

          <b>log_facility</b>
                 Syslog log facility. The default is LOG_LOCAL0.

          <b>log_level</b>
                 Logging level. The default is INFO.

          <b>log_address</b>
                 Logging address. The default is /dev/log.

          <b>interval</b>
                 Will audit, at most, 1 container per device per interval. The default is 1800 seconds.

          <b>containers_per_second</b>
                 Maximum containers audited per second. Should be tuned according to individual system specs.  0
                 is unlimited. The default is 200.

          <b>recon_cache_path</b>
                 Path to recon cache directory. The default is /var/cache/swift.

          <b>nice_priority</b>
                 Modify  scheduling priority of server processes. Niceness values range from -20 (most favorable
                 to the process) to 19 (least favorable to the process).  The default does not modify priority.

          <b>ionice_class</b>
                 Modify I/O scheduling class of server processes. I/O niceness class values are  IOPRIO_CLASS_RT
                 (realtime),  IOPRIO_CLASS_BE  (best-effort) and IOPRIO_CLASS_IDLE (idle).  The default does not
                 modify class and priority.  Work only with ionice_priority.

          <b>ionice_priority</b>
                 Modify I/O scheduling priority of server processes. I/O niceness priority  is  a  number  which
                 goes  from  0  to 7. The higher the value, the lower the I/O priority of the process. Work only
                 with ionice_class.  Ignored if IOPRIO_CLASS_IDLE is set.

       <b>[container-sync]</b>

          <b>log_name</b>
                 Label used when logging. The default is container-sync.

          <b>log_facility</b>
                 Syslog log facility. The default is LOG_LOCAL0.

          <b>log_level</b>
                 Logging level. The default is INFO.

          <b>log_address</b>
                 Logging address. The default is /dev/log.

          <b>sync_proxy</b>
                 If you need to use an HTTP Proxy, set it here; defaults to no proxy.

          <b>interval</b>
                 Will audit, at most, each container once per interval. The default is 300 seconds.

          <b>container_time</b>
                 Maximum amount of time to spend syncing each container per pass. The default is 60 seconds.

          <b>conn_timeout</b>
                 Connection timeout to external services. The default is 5 seconds.

          <b>request_tries</b>
                 Server errors from requests will be retried by default. The default is 3.

          <b>internal_client_conf_path</b>
                 Internal client config file path.

          <b>nice_priority</b>
                 Modify scheduling priority of server processes. Niceness values range from -20 (most  favorable
                 to the process) to 19 (least favorable to the process).  The default does not modify priority.

          <b>ionice_class</b>
                 Modify  I/O scheduling class of server processes. I/O niceness class values are IOPRIO_CLASS_RT
                 (realtime), IOPRIO_CLASS_BE (best-effort) and IOPRIO_CLASS_IDLE (idle).  The default  does  not
                 modify class and priority.  Work only with ionice_priority.

          <b>ionice_priority</b>
                 Modify  I/O  scheduling  priority  of server processes. I/O niceness priority is a number which
                 goes from 0 to 7. The higher the value, the lower the I/O priority of the  process.  Work  only
                 with ionice_class.  Ignored if IOPRIO_CLASS_IDLE is set.

</pre><h4><b>DOCUMENTATION</b></h4><pre>
       More  in  depth documentation about the swift-container-server and also OpenStack Swift as a whole can be
       found             at             <b>https://docs.openstack.org/swift/latest/admin_guide.html</b>             and
       <b>https://docs.openstack.org/swift/latest/</b>

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man1/swift-container-server.1.html">swift-container-server</a>(1)</b>

Linux                                               8/26/2011                           <u><a href="../man5/container-server.conf.5.html">container-server.conf</a></u>(5)
</pre>
 </div>
</div></section>
</div>
</body>
</html>