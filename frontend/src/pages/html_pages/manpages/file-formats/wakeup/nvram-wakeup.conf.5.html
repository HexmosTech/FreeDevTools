<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>nvram-wakeup.conf - the configuration file for NVRAM WakeUp.</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/nvram-wakeup">nvram-wakeup_1.1-5_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       nvram-wakeup.conf - the configuration file for NVRAM WakeUp.

</pre><h4><b>DESCRIPTION</b></h4><pre>
       This   file  can be passed to the program NVRAM WakeUp (see <b><a href="../man8/nvram-wakeup.8.html">nvram-wakeup</a></b>(8) for more information) via the
       <b>--configfile</b> option.

       It might look as follows:

              # nvram-wakeup.conf
              #
              #  This is an example configuration for MSI MS-6351

              need_reboot = ON_ANY_CHANGE # All changes take effect
                                          # after a reboot

              addr_chk_h  = 0x30          # These are adresses of
              addr_chk_l  = 0x31          # the checksum bytes

              addr_stat   = 0x55          # Status byte
              shift_stat  = 3             # The position of the
                                          # status bit in the byte

              addr_day    = 0x56          # Day and time
              addr_hour   = 0x57
              addr_min    = 0x58
              addr_sec    = 0x59

</pre><h4><b>SYNTAX</b></h4><pre>
       Any empty line or a line containing only space characters is ignored.

       Anything after and including a # character is treated as a comment and is ignored.

       The options must have the form <u>NAME</u> = <u>VALUE</u> with or without spaces before <u>NAME</u>, after <u>VALUE</u> or around the
       equal sign.  Valid options are described below.

       The options may appear in any order. The same option must not appear twice.

</pre><h4><b>OPTIONS</b></h4><pre>
       <b>bcd</b>         = (<u>ON|OFF</u>), default <u>OFF</u>

              indicates if the board uses BCD notation for storing values.

              BCD  is the  so called Binary  Coded Decimal  notation (actually, it is `packed BCD', in the plain
              BCD they waste whole byte per digit.) in this notation the decimal numbers 0..99 are stored  using
              four bits for  every digit,  e.g. 24 would be stored as 0x24  (the  4 is stored in  the lower four
              bits and the 2 is stored in the upper four bits).

       <b>addr_chk_h</b>  = (<u>0x00</u>|...|<u>0x71</u>), default: <u>undefined</u>
       <b>addr_chk_l</b>  = (<u>0x00</u>|...|<u>0x71</u>), default: <u>undefined</u>
       <b>addr_stat</b>   = (<u>0x00</u>|...|<u>0x71</u>), default: <u>undefined</u>
       <b>addr_mon</b>    = (<u>0x00</u>|...|<u>0x71</u>), default: <u>undefined</u>
       <b>addr_day</b>    = (<u>0x00</u>|...|<u>0x71</u>), default: <u>undefined</u>
       <b>addr_hour</b>   = (<u>0x00</u>|...|<u>0x71</u>), default: <u>undefined</u>
       <b>addr_min</b>    = (<u>0x00</u>|...|<u>0x71</u>), default: <u>undefined</u>
       <b>addr_sec</b>    = (<u>0x00</u>|...|<u>0x71</u>), default: <u>undefined</u>

              Addresses   of   the    bytes    where   the   checksum    (lower   resp.  higher  bytes),  status
              (enabled/disabled), month, day,  hour,  minute  and second  are stored in the nvram.

              <b>addr_chk_h</b>, <b>addr_chk_l</b> and <b>addr_stat</b> must be defined. All other may stay undefined.  That   means,
              the board  doesn't store them (e.g.  because it stores that value in RTC alarm registers)

       <b>addr_chk_h2</b> = (<u>0x00</u>|...|<u>0x71</u>), default: <u>undefined</u>
       <b>addr_chk_l2</b> = (<u>0x00</u>|...|<u>0x71</u>), default: <u>undefined</u>

              There  are  some  boards which have two checksums.  Since I haven't seen many of them yet, I don't
              know if they need special handling

       <b>addr_wdays</b>  = (<u>0x00</u>|...|<u>0x71</u> ), default: <u>undefined</u>

              The address of the byte  containing a weekday vector.  Currently,  I  know  of  only  two  boards,
              which store a weekday vector (Asus SP98-X and SP97-X).

       <b>rtc_time</b>    = (<u>ON</u>|<u>OFF</u>), default: <u>OFF</u>

              indicates if we have to set the the RTC alarm time accordingly.

       <b>rtc_mon</b>     = (<u>0x00</u>|...|<u>0x71</u>|<u>0x7F</u>), default: <u>undefined</u>
       <b>rtc_day</b>     = (<u>0x00</u>|...|<u>0x71</u>|<u>0x7F</u>), default: <u>undefined</u>

              similar  to  <b>addr_mon</b>/<b>addr_day</b>,  but    stored   in   BCD and not affecting the checksum. In  most
              cases, the day is stored in the RTC register D (<u>0x7F</u>), but there are  also  some   boards,   which
              store  it somewhere  in the nvram (address &lt;= <u>0x71</u>).

              If  <b>rtc_day</b>  is &gt;= <u>0x72</u>, you will need a kernel patch: in &lt;kernel-src&gt;/drivers/char/nvram.c change
              the line
                     #define NVRAM_BYTES 128-RTC_FIRST_BYTE
              to
                     #define NVRAM_BYTES 128
              in newer kernels (beginning with 2.4.20) it is the line
                     #define NVRAM_BYTES (128-NVRAM_FIRST_BYTE)
              which must be changed to
                     #define NVRAM_BYTES 128

       <b>reset_mon</b>   = (<u>ON</u>|<u>OFF</u>), default: <u>OFF</u>
       <b>reset_day</b>   = (<u>ON</u>|<u>OFF</u>), default: <u>OFF</u>

              on some boards  we have to set the value of <b>rtc_mon</b> resp. <b>rtc_day</b> to <u>0</u> when disabling  the  wakeup
              feature.

       <b>nr_stat</b>     = <u>1</u> (just on/off)
       <b>nr_mon</b>      = <u>4</u> (   0..12   )
       <b>nr_day</b>      = <u>5</u> (   0..31   )
       <b>nr_rtc_mon</b>  = <u>5</u> (0x00...0x12)
       <b>nr_rtc_day</b>  = <u>6</u> (0x00...0x31)
       <b>nr_wdays</b>    = <u>7</u> ( 1 per day )
       <b>nr_hour</b>     = <u>5</u> (   0..23   )
       <b>nr_min</b>      = <u>6</u> (   0..59   )
       <b>nr_sec</b>      = <u>6</u> (   0..59   )

              Number   of  bits  needed for  the status,  month, day,  rtc_day, weekday vector,   hour,   minute
              and  second.   These  values  are a priori motherboard independent but depend on  the  BCD/non-BCD
              notation.

       <b>shift_stat</b>  = (<u>0</u>|...|<u>7</u>), default: <u>0</u>
       <b>shift_mon</b>   = (<u>0</u>|...|<u>4</u>), default: <u>0</u>
       <b>shift_day</b>   = (<u>0</u>|...|<u>3</u>), default: <u>0</u>
       <b>shift_wdays</b> = (<u>0</u>|...|<u>1</u>), default: <u>0</u>
       <b>shift_hour</b>  = (<u>0</u>|...|<u>3</u>), default: <u>0</u>
       <b>shift_min</b>   = (<u>0</u>|...|<u>2</u>), default: <u>0</u>
       <b>shift_sec</b>   = (<u>0</u>|...|<u>2</u>), default: <u>0</u>

              Indicates,  by how many  bits the value is  shifted  to the left in  the byte, e.g.  the  value of
              the day (5 bits)  could be stored in the bits marked with an "x" of a byte:
                  000xxxxx  -&gt; <b>shift_day</b> = <u>0</u>
                  00xxxxx0  -&gt; <b>shift_day</b> = <u>1</u>
                  0xxxxx00  -&gt; <b>shift_day</b> = <u>2</u>
                  xxxxx000  -&gt; <b>shift_day</b> = <u>3</u>

       <b>need_reboot</b>  = (<u>OFF</u>|<u>ON_STAT</u>|<u>ON_SEC</u>|<u>ON_MIN</u>|<u>ON_HOUR</u>
                          |<u>ON_DAY</u>|<u>ON_MON</u>|<u>ON_WDAYS</u>|<u>ON_ANY_CHANGE</u>|...),
                       default: <u>OFF</u>

              Here "..." means any or-ed combination of multiple <u>ON_XXX</u> values.

              Some  boards  need  a  reboot  for changes in nvram to take effect.  Some of them  need  a  reboot
              after _any_ change,  some  of them only after the status  bit  was changed.  Anyway,  now  we  are
              able to define when a board needs a reboot:

              <u>OFF</u>    means, the board never needs it

              <u>ON_ANY_CHANGE</u>
                     means, the board needs it after _any_ change on nvram.

              <u>ON_STAT</u>
                     means, reboot only if the status bit is changed

              <u>ON_STAT</u>|<u>ON_SEC</u>
                     means, reboot whenever the status or the second are changed.

              The  idea  behind  this is  if <b>nvram-wakeup</b> decides that we need to reboot, it will exit with exit
              status <u>1</u> (instead of <u>0</u>).  So the script which runs <b>nvram-wakeup</b> could  react  on  this.   We  also
              print it to <b>stderr</b>, so if <b>nvram-wakeup</b> is run directly on the command line, the user  could  react
              appropriately.

       <b>upper_method</b>    = (<u>OFF</u>|<u>INTEL</u>|<u>DS1685</u>|<u>VT82Cxxx</u>|<u>VT8235_37</u>), default: <u>OFF</u>

              indicates  if  upper  nvram  must be used and if yes, which method to use to access it.  Note that
              upper nvram can only be read if --directisa parameter is specified.  Possible values:

              <u>OFF</u>    upper nvram disabled (default)

              <u>INTEL</u>  access upper nvram by a method used by most (if not all) Intel chipsets with ICH, ICH2,  C-
                     ICH, ...

                     (datasheets at <a href="http://intel.com/design/chipsets/datashts/">http://intel.com/design/chipsets/datashts/</a>)

              <u>DS1685</u> access upper nvram by a method used by the Dallas Semiconductor DS1685/DS1687 chips.

                     (datasheet at <a href="http://www.farnell.com/datasheets/4182.pdf">http://www.farnell.com/datasheets/4182.pdf</a>)

              <u>VT82Cxxx</u>
                     access  upper  nvram  by  a  method  used  by  VIA's  VT82C686A "Super South" South Bridge.
                     Reported to work with VT82C686A, VT82C686B, VT82C596, nVidia nForce2, ATI RADEON  9100  IGP
                     (= RS300), AMD-8111.

                     (datasheet at <a href="http://www.viatech.com/pdf/productinfo/686a.pdf">http://www.viatech.com/pdf/productinfo/686a.pdf</a>)
                     (datasheet                             at                            <a href="http://www.amd.com/us">http://www.amd.com/us</a>-
                     en/assets/content_type/white_papers_and_tech_docs/24674.pdf)

              <u>VT8235_37</u>
                     access upper nvram by a method used by VIA's VT8235/37 South  Bridges.   Reported  to  work
                     with VT8233 as well.

                     (no official source)

       <b>chk_method</b>    = (<u>DELL</u>|<u>FSC</u>), default: <u>undefined</u>

              indicates which algorithm for calculation of the checksum must be used.  Possible values:

              <u>undefined</u>
                     Majority of mainboards use the same algorithm (just addition of values).  This algorithm is
                     used if no <b>chk_method</b> option is specified.

              <u>DELL</u>   This method is used by many Dell mainboards (addition of negative values).

              <u>FSC</u>    Fujitsu-Siemens  uses   yet  another  algorithm.  I don't know it and they consider it as a
                     company secret. Thus this method is not implemented.

</pre><h4><b>OBSCURE</b> <b>OPTIONS</b></h4><pre>
       <b>rtc_mon_0_is_c0</b>   = (<u>ON</u>|<u>OFF</u>), default: <u>OFF</u>
       <b>rtc_day_0_is_c0</b>   = (<u>ON</u>|<u>OFF</u>), default: <u>OFF</u>

              on some boards  we have to store the value <u>0xC0</u> instead of <u>0</u> in <b>rtc_mon</b> resp. <b>rtc_day</b>.  If you use
              one of this two options, don't forget to set <b>nr_rtc_mon</b> resp. <b>nr_rtc_day</b> to <u>8</u>.

       <b>day_hack</b>          = (<u>1</u>|...|<u>4</u>), default: <u>undefined</u>

              on some boards the value of <b>addr_day</b> is split over the day and the status byte. In those cases the
              lower <b>day_hack</b> bits of the day value are stored in the highest bits of the  status  byte  and  the
              rest is stored in the day byte.

       <b>day_no_bcd</b>        = (<u>ON</u>|<u>OFF</u>), default: <u>OFF</u>
              on  some  boards  the  value  of <b>addr_day</b> is not stored in BCD, although everything else is.  This
              option has no effect is the option <b>bcd</b> is not enabled.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man8/nvram-wakeup.8.html">nvram-wakeup</a></b>(8)

</pre><h4><b>HOMEPAGE</b></h4><pre>
       <a href="http://sf.net/projects/nvram-wakeup/">http://sf.net/projects/nvram-wakeup/</a>

</pre><h4><b>AUTHOR</b></h4><pre>
       Written by Sergei Haller &lt;<a href="mailto:Sergei.Haller@math.uni-giessen.de">Sergei.Haller@math.uni-giessen.de</a>&gt;.

</pre><h4><b>REPORTING</b> <b>BUGS</b></h4><pre>
       Report  bugs  at  the  bug  tracking  system  (see  HOMEPAGE)  or  on  the  mailing  list   <b>nvram-wakeup-</b>
       <b><a href="mailto:devel@lists.sourceforge.net">devel@lists.sourceforge.net</a></b>

</pre><h4><b>COPYRIGHT</b></h4><pre>
       Copyright © 2001-2004 Sergei Haller.

       This  program  is  free  software;  you  can  redistribute it and/or modify it under the terms of the GNU
       General Public License as published by the Free Software Foundation; either version 2 of the License,  or
       (at your option) any later version.

       This  program  is  distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even
       the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General  Public
       License for more details.

       You  should have received a copy of the GNU General Public License along with this program; if not, write
       to the Free Software Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA

Linux                                              Jan 16 2004                              <u><a href="../man5/nvram-wakeup.conf.5.html">nvram-wakeup.conf</a></u>(5)
</pre>
 </div>
</div></section>
</div>
</body>
</html>