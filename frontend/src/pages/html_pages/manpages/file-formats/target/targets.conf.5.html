<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>targets.conf - Linux SCSI Target Configuration File</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/tgt">tgt_1.0.85-1.3ubuntu1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       targets.conf - Linux SCSI Target Configuration File

</pre><h4><b>DESCRIPTION</b></h4><pre>
       tgt-admin uses /etc/tgt/targets.conf to initialize tgtd configuration, by default. Its layout uses a
       HTML-like structure, with a hierarchy of nested tags to define targets and LUNs.

</pre><h4><b>CONFIGURATION</b> <b>FILE</b> <b>SYNTAX</b></h4><pre>
       Global directives configure options that are global to tgtd's configuration, as well as defining exported
       targets, via target sections.

       Target sections contain directives specific to one target device. They define each target's exported LUNs
       via "backing-store" and "direct-store" directives, as well as other target-wide options.

       LUN directives ("backing-store" and "direct-store") may contain options specific to a single exported
       logical unit.

</pre><h4><b>GLOBAL</b> <b>DIRECTIVES</b></h4><pre>
       With the exception of target directives, each of these should occur at most once.

       <b>&lt;target</b> <b>&lt;IQN&gt;&gt;</b>
           Defines a the start of a target definition. IQN is an ISCSI Qualified Name such as
           "iqn.2001-04.com.example:storage1".

           Within this block should be target-level directives, as documented below.

           The target definition ends with "&lt;/target&gt;"

       <b>default-driver</b> <b>&lt;lld&gt;</b>
           Instead of specifying a driver type for each target, default-driver defines a default low-level
           driver for all exported targets. It may be overriden on a per-target basis. Valid lld values are
           "iscsi" or "iser". Since iscsi is assumed if this directive is not present, it is only generally
           needed if iser is the desired default.

       <b>include</b> <b>&lt;path&gt;</b>
           Include the configuration from another configuration file. Wildcards are allowed, so an example like
           "include /etc/tgt/xen/*.conf" is allowed.

       <b>ignore-errors</b> <b>yes</b>
           Errors from tgtadm will be ignored. Default is no.

       <b>control-port</b> <b>&lt;port&gt;</b>
           Define a different local socket key for communicating with tgtd. Defaults to 0. This is only
           generally useful if multiple instances of tgtd are in use.

       <b>iSNSServerIP</b> <b>&lt;addr&gt;</b>
           Define the address of the iSNS server in IPv4 dotted-quad address format. Required when using iSNS,
           otherwise ignored.

       <b>iSNSAccessControl</b> <b>&lt;value&gt;</b>
           Set iSNS access control. Valid values are "On" or "Off". Required when using iSNS, otherwise ignored.

       <b>iSNSServerPort</b> <b>&lt;port&gt;</b>
           Set a different iSNS server port. Default is 3205. Optional when using iSNS, otherwise ignored.

       <b>iSNS</b> <b>On</b>
           Enable iSNS. Only valid value is "On". Default is off.

       <b>incomingdiscoveryuser</b> <b>&lt;user&gt;</b> <b>&lt;userpassword&gt;</b>
           Define iscsi incoming discovery authentication setting. If no value is given, no authentication is
           performed.

       <b>outgoingdiscoveryuser</b> <b>&lt;user&gt;</b> <b>&lt;userpassword&gt;</b>
           Define iscsi outgoing discovery authentication setting. If no value is given, no authentication is
           performed.

</pre><h4><b>TARGET-LEVEL</b> <b>DIRECTIVES</b></h4><pre>
       Each target may export multiple block devices, or logical units (LUNs). For the purposes of LUN
       numbering, backing-store directives are processed before direct-store directives.

       <b>backing-store</b> <b>&lt;path&gt;</b>
           Defines a logical unit (LUN) exported by the target. This may specify either a regular file, or a
           block device.

       <b>direct-store</b> <b>&lt;path&gt;</b>
           Defines a direct mapped logical unit (LUN) with the same properties as the physical device (such as
           VENDOR_ID, SERIAL_NUM, etc.)

       <b>driver</b> <b>&lt;lld&gt;</b>
           Define the low-level driver to use for this target, either "iscsi" or "iser" (without quotes). This
           overrides the "default-driver" global directive.

       <b>initiator-address</b> <b>&lt;addr&gt;</b>
           Allows connections only from the specified IP address. Defaults to ALL if no initiator-address
           directive is specified.

       <b>initiator-name</b> <b>&lt;addr&gt;</b>
           Allows connections only from the specified initiator name.

       <b>incominguser</b> <b>&lt;user&gt;</b> <b>&lt;userpassword&gt;</b>
           Define iscsi incoming authentication setting. If no "incominguser" is specified, it is not used. This
           directive may be used multiple times per target.

       <b>outgoinguser</b> <b>&lt;user&gt;</b> <b>&lt;userpassword&gt;</b>
           Define iscsi outgoing authentication setting. If no "outgoinguser" is specified, it is not used. This
           directive may be used multiple times per target.

       <b>controller_tid</b> <b>&lt;val&gt;</b>
           Define the tid of the controller. Default is next available integer.

</pre><h4><b>LUN-LEVEL</b> <b>DIRECTIVES</b></h4><pre>
       All of these may be listed at the target level (and apply to all LUNs) or within an individual LUN's
       definition, if it is defined using the container-style, multi-line definition, rather than single-line
       definition format:

           &lt;backing-store /dev/sdb1&gt;
             # LUN directives go here
           &lt;/backing-store&gt;

           &lt;direct-store /dev/sdb1&gt;
             # LUN directives go here
           &lt;/direct-store&gt;

       It is recommended to use either single-line or container-style LUN definitions within a target. Mixing
       styles can cause parser errors.

       <b>write-cache</b> <b>&lt;val&gt;</b>
           "on" or "off", default on.

       <b>scsi_id</b> <b>&lt;val&gt;</b>

       <b>scsi_sn</b> <b>&lt;val&gt;</b>

       <b>vendor_id</b> <b>&lt;val&gt;</b>

       <b>product_id</b> <b>&lt;val&gt;</b>

       <b>product_rev</b> <b>&lt;val&gt;</b>

       <b>sense_format</b> <b>&lt;val&gt;</b>

       <b>removable</b> <b>&lt;val&gt;</b>

       <b>path</b> <b>&lt;val&gt;</b>

       <b>mode_page</b> <b>&lt;val&gt;</b>

       <b>readonly</b> <b>&lt;val&gt;</b>

       <b>device-type</b> <b>&lt;val&gt;</b>

       <b>bs-type</b> <b>&lt;val&gt;</b>

       <b>allow-in-use</b> <b>&lt;val&gt;</b>

       <b>block-size</b> <b>&lt;val&gt;</b>
           Specify the block size for this LUN.

       <b>lbppbe</b> <b>&lt;val&gt;</b>
           Specify the Logical blocks per physical block exponent. By default TGTD will set the lbppbe to
           automatically match the underlying filesystem. Use this parameter to override that setting.

           This is an internal option that should not be set directly.

       <b>la_lba</b> <b>&lt;val&gt;</b>
           Specify the lowest aligned logical block address. This is an internal option that should not be set
           directly.

       <b>optimal_xfer_gran</b> <b>&lt;val&gt;</b>
           Specify the optimal transfer granularity, to be reflected in the Block Limits VPD. This is an
           internal option that should not be set directly.

       <b>optimal_xfer_len</b> <b>&lt;val&gt;</b>
           Specify the optimal transfer length, to be reflected in the Block Limits VPD. This is an internal
           option that should not be set directly.

       <b>params</b> <b>&lt;vals&gt;</b>
           Pass additional parameters to tgtadm.

</pre><h4><b>CONFIGURATION</b> <b>FILE</b> <b>EXAMPLE</b></h4><pre>
           Example configuration file:

           &lt;target iqn.2007-04.com.example:san.monitoring&gt;
             backing-store /dev/san/monitoring

             # if no "incominguser" is specified, it is not used
             incominguser backup secretpass12

             # defaults to ALL if no "initiator-address" is specified
             initiator-address 192.168.1.2
           &lt;/target&gt;

           &lt;target iqn.2007-02.com.example:san.xen1&gt;
             backing-store /dev/san/xen1-disk1 # LUN1
             direct-store /dev/san/xen1-disk2  # LUN2

             initiator-address 192.168.1.2     # Allowed IP
             initiator-address 192.168.5.6     # Allowed IP

             incominguser user1 secretpass12
             incominguser user2 secretpass23

             outgoinguser userA secretpassA
           &lt;/target&gt;

           &lt;target iqn.2007-02.com.example:san.xen2&gt;
             backing-store /dev/san/xen2
           &lt;/target&gt;

           &lt;target iqn.2007-06.com.example:san.vmware1&gt;
             backing-store /dev/san/vmware1
           &lt;/target&gt;

</pre><h4><b>FILES</b></h4><pre>
       <b>/etc/tgt/targets.conf</b>
           Configuration file for tgt-admin.

       <b>/usr/share/doc/tgt/examples/targets.conf.example</b>
           Example configuration file for tgt-admin.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <a href="../man8/tgtd.8.html">tgtd</a>(8), <a href="../man8/tgtadm.8.html">tgtadm</a>(8), <a href="../man8/tgtimg.8.html">tgtimg</a>(8), <a href="../man8/tgt-setup-lun.8.html">tgt-setup-lun</a>(8).  <b>https://github.com/fujita/tgt</b>

</pre><h4><b>REPORTING</b> <b>BUGS</b></h4><pre>
       Report bugs to &lt;<a href="mailto:stgt@vger.kernel.org">stgt@vger.kernel.org</a>&gt;

[FIXME: source]                                    11/19/2024                                    <u><a href="../man5/TARGETS.CONF.5.html">TARGETS.CONF</a></u>(5)
</pre>
 </div>
</div></section>
</div>
</body>
</html>