<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>kgb.conf -- KGB bot configuration file</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/kgb-bot">kgb-bot_1.61-1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       kgb.conf -- KGB bot configuration file

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <u>kgb.conf</u> is the main configuration file of the KGB bot. Its location is in <u>/etc/kgb-bot/</u> unless changed
       with the <b>--conf</b> command line option. See <b><a href="../man1/kgb-bot.1.html">kgb-bot</a></b>(1).

       The file format is YAML. Elaborate example configuration is at the end of this document.

</pre><h4><b>Settings</b></h4><pre>
   <b>soap</b>
       A map with the following possible keys:

       <b>server_addr</b>
           IP address to listen to. Defaults to 127.0.0.1.

           For making KGB bot listen on all addresses, set the value to 0.0.0.0.

       <b>server_port</b>
           Port to listen to.

       <b>service_name</b>
           SOAP service name. Defaults to "KGB".

   <b>pid_dir</b>
       Directory to store PID file to. Defaults to <u>/var/run/kgb-bot/</u>.

   <b>include</b>
       Path  to  file with additional configuration. May be a path to a directory, in which case all files in it
       ending with ".conf" are loaded, in alphabetical order.

   <b>min_protocol_version</b>
       Minimum version of the protocol that will be supported by the server. Defaults to 1. Protocol  version  0
       has no authentication.

   <b>queue_limit</b>
       When  messages are sent to IRC, there is certain rate limitting, which may prevent the message to be sent
       right away. In this case messages are enqueued, and this parameter configures the size of the queue. When
       the queue is full client requests are rejected.

   <b>repositories</b>
       A map with keys project names and values maps with project details:

       password
           Password used for authenticating all requests from this project.

       private
           If true, disables commit announces to 'broadcast' IRC channels.

   <b>networks</b>
       A map with keys network names and values map of network configuration, containing the following items:

       server
           IP address/hostname of the IRC server to connect to.

       use_ssl
           Whether to use SSL when connecting to the IRC server. Defaults to 1.

       port
           Port number to connect to.

           Defaults to 6697 when <b>use_ssl</b> is true and 6667 otherwise.

       nick
           Bot's nick on the network.

       ircname
           The full name of the bot on the network.

       username
           The username presented to the network.

       password
           A password for the network.

       nickserv_password
           A password for Nick server identification.

       flood
           If defined to a true value, the built-in rate-limitting feature of the IRC component will  be  turned
           off. <b>WARNING</b>: this may cause the bot to be kicked off the IRC network. Use only when you control both
           the bot and the IRC network (e.g. when testing).

   <b>channels</b>
       A list of channels. Each element is a map and represents the channel's configuration:

       name
           Channel name, e.g. "#commits". <b>Mandatory</b>.

       network
           Network name, as described in the <b>networks</b> map. <b>Mandatory</b>.

       broadcast
           Enables broadcasting all commit notifications to this channel.

       repos
           A list of project names, as described in the <b>repositories</b> map. Mandatory unless broadcast is enabled.

       smart_answers
           Each channel can contain separate list of smart answers, see below.

   <b>smart_answers</b>
       A list of strings to be used as replies when the bot is addressed on IRC.

   <b>smart_answers_polygen</b>
       If set to a true value, <b><a href="../man1/polygen.1.html">polygen</a></b>(1) will be used to generate replies when the bot is addressed on IRC.

   <b>debug</b>
       Enables logging of additional diagnostic information.

   <b>admins</b>
       A  list  of  IRC  masks,  used to determine if a given IRC nick is bot administrator. Note that currently
       these nicks have no additional power.

   <b>colors</b>
       A map of colors to be used when painting commit messages. The following keys are recognized:

       revision
           Commit ID. Default: none.

       path
           Changed path. Default: teal.

           Depending on the action performed to the path, additional coloring is made:

           addition
               Used for added paths. Default: green.

           modification
               Used for modified paths. Default: teal.

           deletion
               Used for deleted paths. Default: bold red.

           replacement
               Used for replaced paths (a Subversion concept). Default: brown.

           prop_change
               Used for paths with changed  properties  (a  Subversion  concept),  combined  with  other  colors
               depending on the action -- addition, modification or replacement.  Default: underline.

       author
           Commit author. Default: green.

       branch
           Commit branch. Default: brown.

       module
           Project module. Default: purple.

       web URL to commit information. Default: silver.

       separator
           The separator before the commit log. Default: none.

   <b>webhook</b>
       A map for enabling GitLab webook support. Possible keys:

       enabled
           Enable webhhok support by setting this to 1.

       allowed_networks
           A list of allowed IP networks. Required.

   <b>short_url_service</b> <u><b>name</b></u>
       The  name  of  a WWW::Shorten module to use for URL-shortening. The leading "WWW::Shorten::" part must be
       omitted.

       Default: none

       Example: Debli

</pre><h4><b>EXAMPLE</b> <b>CONFGURATION</b></h4><pre>
        # vim: filetype=yaml
        ---
        soap:
          server_addr: 127.0.0.1
          server_port: 9999
          service_name: KGB
        queue_limit: 150
        log_file: "/var/log/kgb-bot.log"
        include: "/etc/kgb-bot/kgb.conf.d"
        repositories:
          # just a name to identify it
          foo:
            # needs to be the same on the client
            password: supersecret
            # private repositories aren't announced to broadcast channels
            # private: yes
        # Some witty answer for people that talk to the bot
        #smart_answers:
        #  - "I won't speak with you!"
        #  - "Do not disturb!"
        #  - "Leave me alone, I am buzy!"
        # Admins are allowed some special !commands (currently only !version)
        #admins:
        #  - some!irc@mask
        #  - some!other@host
        networks:
          freenode:
            nick: KGB
            ircname: KGB bot
            username: kgb
            password: ~
            nickserv_password: ~
            server: irc.freenode.net
            port: 6667
        channels:
        # a broadcast channel
          - name: '#commits'
            network: freenode
            broadcast: yes
        # a channel, tied to one or several repositories
          - name: '#foo'
            network: freenode
            repos:
              - foo
            # Can also be set per-channel
            #smart_answers:
            #  - "I'm in ur channel, watching ur commits!"
            #  - "I am not listening"
            #  - "Shut up! I am buzy watching you."
        pid_dir: /var/run/kgb-bot
        # anything less is rejected
        min_protocol_ver: 1
        # default colors:
        colors:
         repository: bold
         revision: bold
         author: green
         branch: brown
         module: purple
         path: teal
         addition: green
         modification: teal
         deletion: "bold red"
         replacement: reverse
         prop_change: underline
         web: silver
        # you can combine them like "bold red" (ouch!)
        # available colors: black, navy, green, red, brown, purple, orange, yellow,
        #  lime, teal, aqua, blue, fuchsia, gray, silver, white
        # available modifiers: bold underline reverse
        webhook:
         enabled: 1
         allowed_networks:
          - 127.0.0.1
        short_url_service: Debli

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man1/kgb-bot.1.html">kgb-bot</a></b>(1), <b><a href="../man1/kgb-client.1.html">kgb-client</a></b>(1)

</pre><h4><b>AUTHOR</b></h4><pre>
       Damyan Ivanov <a href="mailto:dmn@debian.org">dmn@debian.org</a>

</pre><h4><b>COPYRIGHT</b> <b>&amp;</b> <b>LICENSE</b></h4><pre>
       Copyright (C) 2012, 2013 Damyan Ivanov

       This program is free software; you can redistribute it and/or modify  it  under  the  terms  of  the  GNU
       General  Public License as published by the Free Software Foundation; either version 2 of the License, or
       (at your option) any later version.

       This program is distributed in the hope that it will be useful, but WITHOUT ANY  WARRANTY;  without  even
       the  implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public
       License for more details.

       You should have received a copy of the GNU General Public License along with this program; if not,  write
       to the Free Software Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.

perl v5.40.0                                       2024-09-20                                       <u><a href="../man5p/KGB.CONF.5p.html">KGB.CONF</a></u>(5p)
</pre>
 </div>
</div></section>
</div>
</body>
</html>