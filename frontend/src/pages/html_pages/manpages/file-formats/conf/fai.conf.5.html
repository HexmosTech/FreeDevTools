<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>fai.conf - FAI Configuration</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/fai-client">fai-client_6.4.3ubuntu1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       fai.conf - FAI Configuration

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>/etc/fai/fai.conf</b>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The configuration for a target host consists of two parts:

       •      The  <u>NFSROOT</u>,  a  very  basic  yet  complete  root file system, which is exported to clients.  The
              NFSROOT is built using <b><a href="../man8/fai-make-nfsroot.8.html">fai-make-nfsroot</a></b>(8).

       •      The <u>configuration</u> <u>space</u>, which is loaded as one of the first steps of a FAI  run.   Several  tools
              and  protocols  are  supported  for  maintaining  and  accessing  the  configuration  space.   See
              <b>FAI_CONFIG_SRC</b> below.

       <b>fai.conf</b> defines the essential options to successfully start a FAI run.  It must be valid  <b><a href="../man1/bash.1.html">bash</a></b>(1)  code.
       This configuration file is NOT copied into the nfsroot by fai-make-nfsroot.

</pre><h4><b>VARIABLES</b></h4><pre>
       <b>FAI_CONFIG_SRC</b>
              This  variable  defines how to access the configuration space. It defines the protocol, the server
              and the location of the config space.

              For an initial installation of a client this variable is defined by using <a href="../man8/fai-chboot.8.html">fai-chboot</a>(8).   If  you
              do a fai softupdate, you can set the value in /etc/fai/fai.conf or by using the option --cspace.

       The following protocols and URL schemes are currently supported:

       •      NFS: nfs://[server]/&lt;exported directory&gt;

              If the server is not specified, FAI tries to extract the server name from the nfsroot mount.

              Example: nfs://faiserver/srv/fai/config

       •      Local directory: file://&lt;directory&gt;

              The directory has to be an absolute path. So, this URL always starts with three slashes like this:
              file:///

       •      Detect directory: detect://

              Check several places on a local storage. First check /media/data/config, otherwise use the default
              when booting an ISO (/var/lib/fai/config).

       •      CVS: cvs[+ssh]://&lt;user&gt;@&lt;host&gt;/&lt;cvs root&gt; &lt;module&gt;[=&lt;tag&gt;]

              The config space is received from a cvs checkout.

       •      Subversion: svn[+(file|http|https|ssh)]://[&lt;user&gt;@]&lt;host&gt;/&lt;repository&gt;

              The  config  space  checked  out  from  a  subversion  repository using several protocol variants.
              Checkouts without a user name are also supported.

       •      Git: git[+&lt;protocol&gt;]://&lt;git path&gt;

              You can specify the branch by adding #&lt;branchname&gt; without a whitspace before the #.

              Example: git+ssh:://user@servername/srv/git/..../fai.git#branchname

              The config space checked out from a git repository, host can be empty. Also supported is git+http.

       •      Mercurial: hg+(http|https)://&lt;hg path&gt;

       •      HTTP: (http|https|scp|sftp)://&lt;server&gt;/&lt;filename&gt; where &lt;filename&gt; is a (compressed) tar archive.

              The config space  will  be  downloaded  from  the  given  location  via  the  specified  protocol.
              &lt;filename&gt;  will  be  extracted  by  <a href="../man8/ftar.8.html">ftar</a>(8),  and thus needs to have a recognized suffix, such as
              .tar.gz or tar.xz.

       <b>LOGUSER</b> Account name on the install server to save log files and call
              <b><a href="../man8/fai-chboot.8.html">fai-chboot</a></b>(8).  At the end of an installation, <b><a href="../man8/fai.8.html">fai</a></b>(8) may connect  to  the  install  server  using
              <b>FAI_LOGPROTO</b>  (see  below)  to  store  the  generated  log  files  and  to change the network boot
              configuration of the target host.  By default calling <a href="../man8/fai-setup.8.html">fai-setup</a>(8) will  set  up  ssh  access  for
              <b>LOGUSER</b> so the install client can save the log files onto the server.

              This  will  not  be  passed  onto  the  fai  clients.  To  enable  this  on  the fai clients check
              /srv/fai/config/class/FAIBASE.var to activate the transfer of logfiles to the server.

              This account should have write permissions for /srv/tftp/fai.  For  example,  you  can  use  write
              permissions  for the group linuxadm. chgrp linuxadm /srv/tftp/fai;chmod g+w /srv/tftp/fai.  If the
              variable is undefined, this feature is disabled.

       <b>FAI_LOGPROTO</b> Protocol for saving logs
              Supported values are: ssh (default), rsh, ftp and none. This will only be used if also <b>LOGUSER</b>  is
              set.

              ssh: Use the scp command to copy the log files to the log server.

              rsh: Use the rcp command to copy the log files to the log server.

              ftp:  This  option saves logs to the remote FTP server defined by the $LOGSERVER variable ($SERVER
              value is used if not set). Connection to the FTP server is done as user  $LOGUSER  using  password
              $LOGPASSWD.   The  FTP  server log directory is defined in $LOGREMOTEDIR. These variables are also
              defined in file server. All files in the directory /tmp/fai are copied to the FTP server following
              this example:

                ftp://$LOGUSER:$LOGPASSWD@$LOGSERVER/$LOGREMOTEDIR/

              none: Don't save the log files to the install server.

       <b>FAI_DEBMIRROR</b> Access Debian mirror via NFS-mounted directory
              If  defined,  FAI  mounts  the   NFS   share   to   $MNTPOINT   during   installation.    Example:
              installserver:/srv/debianmirror

       <b>FAI_MONITOR_PORT</b>
              The  port  to  which  FAI sents messages, if the fai-monitor is running. Default to 4711. See also
              <a href="../man8/fai-monitor.8.html">fai-monitor</a>(8). This variable has to be set inside the nfsroot before the configuration  space  is
              available.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man8/fai.8.html">fai</a></b>(8), <b><a href="../man8/fai-make-nfsroot.8.html">fai-make-nfsroot</a></b>(8), <b><a href="../man8/fai-setup.8.html">fai-setup</a></b>(8), <b><a href="../man1/fai-mirror.1.html">fai-mirror</a></b>(1), <b><a href="../man8/fai-cd.8.html">fai-cd</a></b>(8)

       This  file  is part of FAI (Fully Automatic Installation).  See the FAI manual for more information.  The
       FAI homepage is https://fai-project.org.

</pre><h4><b>AUTHOR</b></h4><pre>
       This man page was written by Michael Tautschnig &lt;<a href="mailto:mt@debian.org">mt@debian.org</a>&gt;.

FAI 4.0                                           December 2013                                      <u><a href="../man5/fai.conf.5.html">fai.conf</a></u>(5)
</pre>
 </div>
</div></section>
</div>
</body>
</html>