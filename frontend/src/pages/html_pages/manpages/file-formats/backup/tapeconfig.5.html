<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>tapeconfig - Defines parameters for tape devices and backup data files</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/openafs-client">openafs-client_1.8.13.2-1ubuntu1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       tapeconfig - Defines parameters for tape devices and backup data files

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The <u>tapeconfig</u> file defines basic configuration parameters for all of the tape devices or backup data
       files available for backup operations on a Tape Coordinator machine. The file is in ASCII format and must
       reside in the local <u>/var/lib/openafs/backup</u> directory. The instruction for each tape device or backup
       data file appears on its own line and each has the following format:

          [&lt;capacity&gt; &lt;filemark_size&gt;] &lt;device_name&gt; &lt;port_offset&gt;

       where

       &lt;capacity&gt;
           Specifies  the  capacity  of the tapes used with a tape device, or the amount of data to write into a
           backup data file. The Tape Coordinator refers to this value in two circumstances:

           •   When the capacity field of a tape or backup data file's label is  empty  (because  the  tape  has
               never  been  labeled).  The  Tape  Coordinator  records  this value on the label and uses it when
               determining how much data it can write to the tape or file during a <b>backup</b> <b>dump</b> or <b>backup</b>  <b>savedb</b>
               operation.  If  there  is  already  a  capacity  value on the label, the Tape Coordinator uses it
               instead.

           •   When the <b>-size</b> argument is omitted the first time the <b>backup</b> <b>labeltape</b> command is used on a given
               tape or file.  The Tape Coordinator copies this value into the label's capacity field.

           The Tape Coordinator uses this capacity value or the one on the Backup System tape label to track how
           much space remains as it writes data to a tape or backup data file. The appropriate value  to  record
           for  a  tape  depends  on  the  size  of  the  tapes  usually used in the device and whether it has a
           compression mode; for suggested values, see the <u>OpenAFS</u> <u>Administration</u> <u>Guide</u> chapter  on  configuring
           the  Backup  System.  If  using a value obtained from the <b>fms</b> command, reduce it by 10% to 15% before
           recording it in the file.

           For a backup data file, it is best to provide a value that helps the Tape Coordinator avoid  reaching
           the  end-of-file  (EOF)  unexpectedly.  Make  it  at  least somewhat smaller than the amount of space
           available on the partition housing the file when the dump operation begins, and never larger than the
           maximum file size allowed by the operating system.

           Specify a (positive) integer or decimal value followed by a letter  than  indicates  units,  with  no
           intervening  space.  In  a  decimal  number,  the  number  of digits after the decimal point must not
           translate to fractions of bytes. The maximum acceptable value is 2048 GB (2 TB). The acceptable units
           letters are as follows; if the letter is omitted, the default is kilobytes.

           •   "k" or "K" for kilobytes (KB).

           •   "m" or "M" for megabytes (MB).

           •   "g" or "G" for gigabytes (GB).

           •   "t" or "T" for terabytes (TB).

           If this field is omitted, the Tape Coordinator uses the maximum acceptable value (2048 GB or  2  TB).
           Either leave both this field and the &lt;filemark_size&gt; field empty, or provide a value in both of them.

       &lt;filemark_size&gt;
           Specifies  the size of a tape device's filemarks (also called end-of-file or EOF marks), which is set
           by the device's manufacturer. In a dump to tape,  the  Tape  Coordinator  inserts  filemarks  at  the
           boundary  between the data from each volume, so the filemark size affects how much space is available
           for actual data.

           The appropriate value to record for a tape depends on the size of  the  tapes  usually  used  in  the
           device  and  whether  it has a compression mode; for suggested values, see the <u>OpenAFS</u> <u>Administration</u>
           <u>Guide</u> chapter on configuring the Backup System. If using a  value  obtained  from  the  <b>fms</b>  command,
           increase it by 10% to 15% before recording it in the file.

           For  backup  data files, record a value of 0 (zero). The Tape Coordinator actually ignores this field
           for backup data files, because it does not use filemarks when writing to a file.

           Use the same notation as for the &lt;capacity&gt; field, but note that the default units  is  bytes  rather
           than kilobytes. The maximum acceptable value is 2048 GB.

           If  this  field  is empty, the Tape Coordinator uses the value 0 (zero). Either leave both this field
           and the &lt;capacity&gt; field empty, or provide a value in both of them.

       &lt;device_name&gt;
           Specifies the complete pathname of the tape device or backup data file. The  format  of  tape  device
           names  depends  on  the  operating  system, but on UNIX systems device names generally begin with the
           string <u><a href="file:/dev/">/dev/</a></u>. For a backup data file, this field defines the complete pathname; for a  discussion  of
           suggested naming conventions see the description of the "FILE" instruction in <b><a href="../man5/butc.5.html">butc</a></b>(5).

       &lt;port_offset&gt;
           Specifies the port offset number associated with this combination of Tape Coordinator and tape device
           or backup data file.

           Acceptable  values  are the integers 0 through 58510 (the Backup System can track a maximum of 58,511
           port offset numbers).  Each value must be unique among the cell's Tape Coordinators, but  any  number
           of  them  can  be  associated  with  a  single  machine.  Port  offset  numbers  need not be assigned
           sequentially, and can appear in any order in the <u>tapeconfig</u> file. Assign port offset 0  to  the  Tape
           Coordinator  for  the tape device or backup data file used most often for backup operations; doing so
           will allow the operator to omit the <b>-portoffset</b> argument from the largest possible number  of  <b>backup</b>
           commands.

</pre><h4><b>PRIVILEGE</b> <b>REQUIRED</b></h4><pre>
       Creating  the file requires UNIX "w" (write) and "x" (execute) permissions on the <u>/var/lib/openafs/backup</u>
       directory. Editing the file requires UNIX "w" (write) permission on the file.

</pre><h4><b>EXAMPLES</b></h4><pre>
       The following example tapeconfig file configures three tape devices and a backup  data  file.  The  first
       device  has device name <u>/dev/rmt/0h</u>, and is assigned port offset 0 because it will be the most frequently
       used device for all backup operations in the cell. Its default tape capacity is 2 GB and filemark size is
       1 MB. The <u>/dev/rmt/3h</u> drive has half the capacity but a much smaller filemark size; its port offset is 3.
       The third device listed, <u>/dev/rmt/4h</u>, has the same capacity and filemark size as the first device and  is
       assigned  port offset 2. Port offset 4 is assigned to the backup data file <u>/dev/FILE</u>, which is actually a
       symbolic link to the actual file located elsewhere on the local disk. The Tape Coordinator writes  up  to
       1.5 GB into the file; as recommended, the filemark size is set to zero.

          2G 1M /dev/rmt/0h 0
          1g 4k /dev/rmt/3h 3
          2G 1m /dev/rmt/4h 2
          1.5G 0 /dev/FILE 4

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man8/backup_addhost.8.html">backup_addhost</a></b>(8), <b><a href="../man8/backup_dump.8.html">backup_dump</a></b>(8), <b><a href="../man8/backup_labeltape.8.html">backup_labeltape</a></b>(8), <b><a href="../man8/backup_savedb.8.html">backup_savedb</a></b>(8), <b><a href="../man8/butc.8.html">butc</a></b>(8), <b><a href="../man8/fms.8.html">fms</a></b>(8)

</pre><h4><b>COPYRIGHT</b></h4><pre>
       IBM Corporation 2000. &lt;<a href="http://www.ibm.com/">http://www.ibm.com/</a>&gt; All Rights Reserved.

       This  documentation  is covered by the IBM Public License Version 1.0.  It was converted from HTML to POD
       by software written by Chas Williams and Russ Allbery, based on  work  by  Alf  Wachsmann  and  Elizabeth
       Cassell.

OpenAFS                                            2025-03-21                                      <u><a href="../man5/TAPECONFIG.5.html">TAPECONFIG</a></u>(5)
</pre>
 </div>
</div></section>
</div>
</body>
</html>