<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>just-mrrc - The format of the configuration used by just-mr(1)</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/justbuild">justbuild_1.5.1-1ubuntu2_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       just-mrrc - The format of the configuration used by <b><a href="../man1/just-mr.1.html">just-mr</a></b>(1)

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The  file  is  read  as JSON.  Any other serialization describing the same JSON object is equivalent.  We
       assume, that in JSON objects, each key occurs at most once; it is implementation defined how  repetitions
       of the same key are treated.

   <b>Location</b> <b>objects</b>
       A <u>location</u> is a JSON object with the keys <u>"root"</u>, <u>"path"</u>, and <u>"base"</u>.

       The value for key <u>"root"</u> is either <u>"workspace"</u>, <u>"home"</u>, or <u>"system"</u>, which have the following meanings:

       • <u>"workspace"</u>  refers  to  the  root of the workspace in which the just-mr invocation was issued (not the
         workspace of the requested main repository).  This location root is ignored if <b>just-mr</b> was not  invoked
         from inside a workspace.

       • <u>"home"</u> refers to the user’s home directory.

       • <u>"system"</u> refers to the system root <u>/</u>.

       The value for key <u>"path"</u> is the relative path of the item to locate within the location root.

       The  value  for  key  <u>"base"</u> is a relative path within the location root.  This path is only relevant for
       locations of config files.  If such a config  file  contains  relative  paths,  those  will  be  resolved
       relative to the specified base.  If omitted, the default value <u>"."</u> is used.

   <b>The</b> <b>just-mrrc</b> <b>format</b>
       The just-mrrc is given by a JSON object.

       • The  value  for  the  key <u>"config</u> <u>lookup</u> <u>order"</u> is a JSON list of location objects, specifying where to
         look for multi-repository configurations  (see  <b><a href="../man5/just-mr-repository-config.5.html">just-mr-repository-config</a></b>(5)  for  more  detail).   The
         lookup is performed in the same order the location objects appear in the list.

       • The  value  for  the key <u>"absent"</u>, if provided, is a JSON list of location objects to search for a file
         specifying the list of absent repositories.

       • The value for the key <u>"local</u> <u>build</u> <u>root"</u> is a single location object, specifying the path to use as the
         local build root.  For more details, see <b><a href="../man1/just-mr.1.html">just-mr</a></b>(1).

       • The value for the key <u>"checkout</u> <u>locations"</u> is a single location object, specifying the path to the file
         describing checkout locations and additional mirror locations.  For more details, see <b><a href="../man1/just-mr.1.html">just-mr</a></b>(1).

       • The value for the key <u>"distdirs"</u> is a JSON list of location  objects,  specifying  where  to  look  for
         distribution  files  (usually collected via the subcommand <b>fetch</b>).  The lookup is performed in the same
         order the location objects appear in the list.  For more details, see <b><a href="../man1/just-mr.1.html">just-mr</a></b>(1).

       • The value for the key <u>"just"</u> is a single location object, specifying the path to the  <b>justbuild</b>  binary
         to use for execution, if <b>just-mr</b> is used as a launcher.

       • The  value  for the key <u>"git"</u> is a single location object, specifying the path to the git binary to use
         in the instances when <b>just-mr</b> needs to shell out.

       • The value for the key <u>"local</u> <u>launcher"</u>, if given, is list of strings  setting  the  default  for  local
         launcher  for <b>just-mr</b>; command-line arguments take precedence over the value in the configuration file.
         If the key <u>"local</u> <u>launcher"</u> is absent, the default <u>["env",</u> <u>"--"]</u> is assumed.

       • The value for the key <u>"log</u> <u>limit"</u>, if given, sets the default value for the  log  limit,  that  can  be
         overridden by the command-line options.

       • The value for the key <u>"restrict</u> <u>stderr</u> <u>log</u> <u>limit"</u>, if given, sets the default value for the restriction
         of the log limit on console; this value can be overridden by the command-line option.

       • The value <u>"log</u> <u>files"</u>, if given, has to be a list of location objects, specifying additional log files,
         on top of those specified on the command line.

       • The  value  for the key <u>"remote</u> <u>execution"</u> is a JSON object specifying the remote execution options for
         <b>just-mr</b>.
       For subkey <u>"address"</u> the value is a string specifying the remote execution address in a NAME:PORT format.
       For subkey <u>"compatible"</u> the value is a flag which specifies whether the remote endpoint uses the original
       remote execution protocol.
       Each subkey value can be overwritten by its corresponding command-line argument.

       • The value for the key <u>"remote</u> <u>serve"</u> is a JSON object specifying the remote serve options for <b>just-mr</b>.
       For subkey <u>"address"</u> the value is a string specifying the remote serve address in a NAME:PORT format.
       Each subkey value can be overwritten by its corresponding command-line argument.

       • The value for the key <u>"authentication"</u> is a JSON object specifying client-side  authentication  options
         for <b>just-mr</b>.
       For  subkey  <u>"ca</u> <u>cert"</u> the value is a single location object specifying the path to a TLS CA certificate.
       For subkey <u>"client</u> <u>cert"</u> the value is a single location object  specifying  the  path  to  a  TLS  client
       certificate.
       For subkey <u>"client</u> <u>key"</u> the value is a single location object specifying the path to a TLS client key.
       Each subkey value can be overwritten by its corresponding command-line argument.

       • The  value  for  the key <u>"remote-execution</u> <u>properties"</u>, if provided, has to be a list of strings.  Each
         entry is forwarded as --remote-execution-property to the invocation of the build tool,  if  <b>just-mr</b>  is
         used as a launcher.

       • The  value  for  the  key  <u>"max</u> <u>attempts"</u>, if provided, has to be a number.  If a remote procedure call
         (rpc) returns grpc::StatusCode::UNAVAILABLE, that rpc is retried at most this number of times.

       • The value for the key <u>"initial</u> <u>backoff</u> <u>seconds"</u>, if provided, has to be a number.  Before  retrying  an
         rpc  the  second  time,  the  client  will  wait  the  given amount of seconds plus a jitter, to better
         distribute the workload.

       • The value for the key <u>"max</u> <u>backoff</u> <u>seconds"</u>, if provided, has to be a number.  Normally, on  subsequent
         retries,  the  backoff  time  is doubled; this number specifies the maximal time between attempts of an
         rpc, not counting the jitter.

       • The value for the key <u>"just</u> <u>files"</u> is a  JSON  object.   The  keys  correspond  to  options  that  some
         <b>justbuild</b>  subcommands  accept  and  require  a file as argument.  For each key, the value is a list of
         location objects.  When <b>just-mr</b> is used as a launcher and the invoked subcommand is  known  to  support
         this option, this option is set in the <b>justbuild</b> invocation with the first matching entry, if any.  The
         supported options are <u>"config"</u> and <u>endpoint-configuration</u>.

       • The  value  for the key <u>"just</u> <u>args"</u> is a JSON object.  Its keys are <b>justbuild</b> subcommands and its value
         is a JSON list of strings.  For the  corresponding  subcommand,  these  strings  are  prefixed  to  the
         <b>justbuild</b> argument vector (after all other options provided through the rc file), if <b>just-mr</b> is used as
         a launcher.

       • The  value for the key <u>"rc</u> <u>files"</u>, if given, is a list of location objects.  For those location objects
         that refer to an existing file, this file is read as an additional rc file overlaying the given rc file
         in the specified order; the value of "rc files" in the overlaying files is ignored.
       In this way, an rc file committed to a repository  can  be  allowed  to  set  a  sensible  configuration,
       remote-execution  and  serve end points, etc.  This is particularly useful when simultaneously working on
       several projects with different settings.

</pre><h4><b>EXAMPLE</b></h4><pre>
       An example just-mrrc file could look like the following:

              { "rc files":
                [ {"root": "workspace", "path": "rc.json"}
                , {"root": "workspace", "path": "etc/rc.json"}
                ]
              , "config lookup order":
                [ {"root": "workspace", "path": "repos.json"}
                , {"root": "workspace", "path": "etc/repos.json"}
                , {"root": "home", "path": ".just-repos.json"}
                , {"root": "system", "path": "etc/just-repos.json"}
                ]
              , "absent":
                [ {"root": "workspace", "path": "etc/absent.json"}
                , {"root": "home", "path": ".just-absent"}
                ]
              , "local build root": {"root": "home", "path": ".cache/just"}
              , "checkout locations": {"root": "home", "path": ".just-local.json"}
              , "local launcher": ["env", "--"]
              , "log limit": 5
              , "restrict stderr log limit": 4
              , "log files": [{"root": "home", "path": ".log/just/latest-invocation"}]
              , "distdirs": [{"root": "home", "path": ".distfiles"}]
              , "just": {"root": "system", "path": "usr/bin/justbuild"}
              , "git": {"root": "system", "path": "usr/bin/git"}
              , "remote execution": {"address": "10.0.0.1:8980"}
              , "remote-execution properties": ["image:development-v1.2.3"]
              , "just args":
                { "build": ["-J", "64"]
                , "install": ["-J", "64", "--remember"]
                , "install-cas": ["--remember"]
                }
              , "just files":
                { "config":
                  [ {"root": "workspace", "path": "etc/config.json"}
                  , {"root": "home", "path": ".just-config"}
                  ]
                }
              }

</pre><h4><b>See</b> <b>also</b></h4><pre>
       <b><a href="../man1/just-mr.1.html">just-mr</a></b>(1), <b><a href="../man5/just-mr-repository-config.5.html">just-mr-repository-config</a></b>(5)

                                                                                                    <u><a href="../man5/JUST-MRRC.5.html">JUST-MRRC</a></u>(5)
</pre>
 </div>
</div></section>
</div>
</body>
</html>