<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ocf_heartbeat_rkt - rkt container resource agent.</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/resource-agents-extra">resource-agents-extra_4.16.0-3ubuntu1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       ocf_heartbeat_rkt - rkt container resource agent.

</pre><h4><b>SYNOPSIS</b></h4><pre>

       <b>rkt</b> [start | stop | monitor | meta-data | validate-all]

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The rkt HA resource agent creates and launches a container based off a supplied image. Containers managed
       by this agent are both created and removed upon the agent's start and stop actions.

</pre><h4><b>SUPPORTED</b> <b>PARAMETERS</b></h4><pre>
       <b>image</b>
           The image to base this container off of.

           (required, string, no default)

       <b>name</b>
           The name to give the created container. By default this will be that resource's instance name.

           (optional, string, no default)

       <b>allow_pull</b>
           Allow the image to be pulled from the configured registry when the image does not exist locally.
           NOTE, this can drastically increase the time required to start the container if the image repository
           is pulled over the network.

           (optional, boolean, no default)

       <b>run_opts</b>
           Add options to be appended to the 'rkt run' command which is used when creating the container during
           the start action. This option allows users to do things such as setting a custom entry point and
           injecting environment variables into the newly created container.

           NOTE: Do not explicitly specify the --name argument in the run_opts. This agent will set --name using
           either the resource's instance or the name provided in the 'name' argument of this agent.

           (optional, string, no default)

       <b>run_cmd</b>
           Specify a command to launch within the container once it has initialized.

           (optional, string, no default)

       <b>mount_points</b>
           A comma separated list of directories that the container is expecting to use. The agent will ensure
           they exist by running 'mkdir -p'

           (optional, string, no default)

       <b>monitor_cmd</b>
           Specify the full path of a command to launch within the container to check the health of the
           container. This command must return 0 to indicate that the container is healthy. A non-zero return
           code will indicate that the container has failed and should be recovered.

           Note: Using this method for monitoring processes inside a container is not recommended, as rkt tries
           to track processes running inside the container and does not deal well with many short-lived
           processes being spawned. Ensure that your container monitors its own processes and terminates on
           fatal error rather than invoking a command from the outside.

           (optional, string, no default)

       <b>force_kill</b>
           Kill a container immediately rather than waiting for it to gracefully shutdown

           (optional, boolean, no default)

</pre><h4><b>SUPPORTED</b> <b>ACTIONS</b></h4><pre>
       This resource agent supports the following actions (operations):

       <b>start</b>
           Starts the resource. Suggested minimum timeout: 90s.

       <b>stop</b>
           Stops the resource. Suggested minimum timeout: 90s.

       <b>monitor</b>
           Performs a detailed status check. Suggested minimum timeout: 30s. Suggested interval: 30s.

       <b>meta-data</b>
           Retrieves resource agent metadata (internal use only). Suggested minimum timeout: 5s.

       <b>validate-all</b>
           Performs a validation of the resource configuration. Suggested minimum timeout: 30s.

</pre><h4><b>EXAMPLE</b> <b>CRM</b> <b>SHELL</b></h4><pre>
       The following is an example configuration for a rkt resource using the <b><a href="../man8/crm.8.html">crm</a></b>(8) shell:

           primitive p_rkt ocf:heartbeat:rkt \
             params \
               image=<u>string</u> \
             op monitor timeout="30s" interval="30s" depth="0"

</pre><h4><b>EXAMPLE</b> <b>PCS</b></h4><pre>
       The following is an example configuration for a rkt resource using <b><a href="../man8/pcs.8.html">pcs</a></b>(8)

           pcs resource create p_rkt ocf:heartbeat:rkt \
             image=<u>string</u> \
             op monitor timeout="30s" interval="30s" OCF_CHECK_LEVEL="0"

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="http://clusterlabs.org/">http://clusterlabs.org/</a></b>

</pre><h4><b>AUTHOR</b></h4><pre>
       <b>ClusterLabs</b> <b>contributors</b> <b>(see</b> <b>the</b> <b>resource</b> <b>agent</b> <b>source</b> <b>for</b> <b>information</b> <b>about</b> <b>individual</b> <b>authors)</b>

resource-agents 4.16.0-3ubuntu                     06/25/2025                               <u><a href="../man7/OCF_HEARTBEAT_RKT.7.html">OCF_HEARTBEAT_RKT</a></u>(7)
</pre>
 </div>
</div></section>
</div>
</body>
</html>