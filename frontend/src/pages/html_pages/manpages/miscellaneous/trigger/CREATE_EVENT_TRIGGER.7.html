<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CREATE_EVENT_TRIGGER - define a new event trigger</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/postgresql-client-17">postgresql-client-17_17.5-1build1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       CREATE_EVENT_TRIGGER - define a new event trigger

</pre><h4><b>SYNOPSIS</b></h4><pre>
       CREATE EVENT TRIGGER <u>name</u>
           ON <u>event</u>
           [ WHEN <u>filter_variable</u> IN (<u>filter_value</u> [, ... ]) [ AND ... ] ]
           EXECUTE { FUNCTION | PROCEDURE } <u>function_name</u>()

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>CREATE</b> <b>EVENT</b> <b>TRIGGER</b> creates a new event trigger. Whenever the designated event occurs and the WHEN
       condition associated with the trigger, if any, is satisfied, the trigger function will be executed. For a
       general introduction to event triggers, see Chapter 38. The user who creates an event trigger becomes its
       owner.

</pre><h4><b>PARAMETERS</b></h4><pre>
       <u>name</u>
           The name to give the new trigger. This name must be unique within the database.

       <u>event</u>
           The name of the event that triggers a call to the given function. See Section 38.1 for more
           information on event names.

       <u>filter_variable</u>
           The name of a variable used to filter events. This makes it possible to restrict the firing of the
           trigger to a subset of the cases in which it is supported. Currently the only supported
           <u>filter_variable</u> is TAG.

       <u>filter_value</u>
           A list of values for the associated <u>filter_variable</u> for which the trigger should fire. For TAG, this
           means a list of command tags (e.g., 'DROP FUNCTION').

       <u>function_name</u>
           A user-supplied function that is declared as taking no argument and returning type event_trigger.

           In the syntax of CREATE EVENT TRIGGER, the keywords FUNCTION and PROCEDURE are equivalent, but the
           referenced function must in any case be a function, not a procedure. The use of the keyword PROCEDURE
           here is historical and deprecated.

</pre><h4><b>NOTES</b></h4><pre>
       Only superusers can create event triggers.

       Event triggers are disabled in single-user mode (see <b><a href="../man1/postgres.1.html">postgres</a></b>(1)) as well as when event_triggers is set
       to false. If an erroneous event trigger disables the database so much that you can't even drop the
       trigger, restart with event_triggers set to false to temporarily disable event triggers, or in
       single-user mode, and you'll be able to do that.

</pre><h4><b>EXAMPLES</b></h4><pre>
       Forbid the execution of any DDL command:

           CREATE OR REPLACE FUNCTION abort_any_command()
             RETURNS event_trigger
            LANGUAGE plpgsql
             AS $$
           BEGIN
             RAISE EXCEPTION 'command % is disabled', tg_tag;
           END;
           $$;

           CREATE EVENT TRIGGER abort_ddl ON ddl_command_start
              EXECUTE FUNCTION abort_any_command();

</pre><h4><b>COMPATIBILITY</b></h4><pre>
       There is no <b>CREATE</b> <b>EVENT</b> <b>TRIGGER</b> statement in the SQL standard.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       ALTER EVENT TRIGGER (<b><a href="../man7/ALTER_EVENT_TRIGGER.7.html">ALTER_EVENT_TRIGGER</a></b>(7)), DROP EVENT TRIGGER (<b><a href="../man7/DROP_EVENT_TRIGGER.7.html">DROP_EVENT_TRIGGER</a></b>(7)), CREATE FUNCTION
       (<b><a href="../man7/CREATE_FUNCTION.7.html">CREATE_FUNCTION</a></b>(7))

PostgreSQL 17.5                                       2025                               <u>CREATE</u> <u>EVENT</u> <u><a href="../man7/TRIGGER.7.html">TRIGGER</a></u>(7)
</pre>
 </div>
</div></section>
</div>
</body>
</html>