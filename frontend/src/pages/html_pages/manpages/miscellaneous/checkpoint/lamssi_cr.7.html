<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>lamssi_checkpoint_restart - overview of LAM's MPI checkpoint / restart SSI modules</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/lam-runtime">lam-runtime_7.1.4-7.2_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       lamssi_checkpoint_restart - overview of LAM's MPI checkpoint / restart SSI modules

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The  "kind"  for  checkpoint  /  restart SSI modules is "cr".  Specifically, the string "cr" (without the
       quotes) is the prefix that should be used with the  <u>mpirun</u>  command  line  with  the  <u>-ssi</u>  switch.   For
       example:

       mpirun -ssi cr blcr C my_mpi_program

       LAM/MPI  can  involuntarily checkpoint and restart parallel MPI jobs.  Doing so requires that LAM/MPI was
       compiled with thread support and that back-end checkpointing systems are available at run-time.  MPI jobs
       will  have  to  run  with  at  least  MPI_THREAD_SERIALIZED  support.   If  a  job  elects  to  run  with
       checkpoint/restart support and an available cr module is found, the job's thread level will automatically
       be promoted to MPI_THREAD_SERIALIZED.  See the User's Guide for more details.

   <b>Checkpoint</b> <b>Phases</b>
       LAM defines three phases for checkpoint / restart support in each MPI process:

       Checkpoint.
           When the checkpoint request arrives, before the actual checkpoint occurs.

       Continue.
           After a checkpoint has successfully completed, in the same process as the checkpoint was invoked in.

       Restart
           After a checkpoint has successfully completed, in a new / restarted process.

       The  Continue  and  Restart  phases are identical except for the process in which they are invoked -- the
       Continue phase is invoked in the same process as the Checkpoint phase was invoked.  The Restart phase  is
       only invoked in newly restarted processes.

</pre><h4><b>AVAILABLE</b> <b>MODULES</b></h4><pre>
       LAM  currently  has two cr modules: <u>blcr</u> and <u>self</u>.  In order for an MPI job to be able to be checkpointed
       and restarted, all of its MPI SSI modules must support checkpoint/restart.  Currently, this  means  using
       the  <u>crtcp</u>  RPI module or the <u>gm</u> RPI module when compiled with <u>gm_get()</u> support (see the User's Guide for
       more details).

   <b>blcr</b> <b>CR</b> <b>Module</b>
       The Berkeley Lab Checkpoint/Restart (BLCR) single-node checkpointer is a software  system  from  Lawrence
       Berkeley Labs.  See the project web page for more details: <u><a href="http://www.nersc.gov/research/ftg/checkpoint/">http://www.nersc.gov/research/ftg/checkpoint/</a></u>.

       The <u>blcr</u> module has one SSI parameter:

       cr_blcr_priority
           <u>blcr</u>'s default priority is 50.

   <b>self</b> <b>CR</b> <b>Module</b>
       The <u>self</u> module, when used with checkpoint/restart SSI modules, will invoke the user-defined functions to
       save  and restore checkpoints. It is simply a mechanism for user-defined functions to be invoked at LAM's
       Checkpoint, Continue, and Restart phases. Hence, the only data that is saved  during  the  checkpoint  is
       what is written in the user's checkpoint function. No MPI library state is saved at all.

       As  such,  the  model  for  the  <u>self</u>  module  is  slightly different than, for example, the <u>blcr</u> module.
       Specifically, the Restart function is not invoked in the same process  image  of  the  process  that  was
       checkpointed. The Restart phase is invoked during <b>MPI_INIT</b> of a new instance of the application (i.e., it
       starts over from main()).

       Multiple SSI parameters are available:

       cr_self_user_prefix
           Specify  a  string prefix for the name of the checkpoint, continue, and restart functions that should
           be invoked by LAM.  That is, specifying "-ssi cr_self_user_prefix foo" means that LAM expects to find
           three functions at run-time: int foo_checkpoint(), int foo_continue(), and int  foo_restart().   This
           is a convenience parameter that can be used instead of the three parameters listed below.

       cr_self_user_checkpoint
           Name of the user function to invoke during the Checkpoint phase.

       cr_self_user_continue
           Name of the user function to invoke during the Continue phase.

       cr_self_user_restart
           Name of the user function to invoke during the Restart phase.

       If none of these parameters are specified and the <u>self</u> module is selected, it will use the default prefix
       <u>lam_cr_self</u>

       Finally, the usual priority SSI parameter is also available:

       cr_self_priority
           <u>self</u>'s default priority is 25.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <a href="../man7/lamssi.7.html">lamssi</a>(7), <a href="../man1/mpirun.1.html">mpirun</a>(1), LAM User's Guide

LAM 7.1.4                                          July, 2007                                       <u><a href="../man7/lamssi_cr.7.html">lamssi_cr</a></u>(7)
</pre>
 </div>
</div></section>
</div>
</body>
</html>