<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ocf_linbit_drbd-attr - import DRBD state change events as transient node attributes</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/drbd-utils">drbd-utils_9.22.0-1.1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       ocf_linbit_drbd-attr - import DRBD state change events as transient node attributes

</pre><h4><b>SYNOPSIS</b></h4><pre>

       <b>drbd-attr</b> [start | stop | monitor | meta-data | validate-all]

</pre><h4><b>DESCRIPTION</b></h4><pre>
       This listens for DRBD state change events, and sets or deletes transient node attributes based on the
       "promotion_score" and "may_promote" values as presented by the DRBD events2 interface.

       Optionally using a dampening delay, see attrd_updater for details.

       To be used as a clone on all DRBD nodes. The idea is to start DRBD outside of pacemaker, use DRBD
       auto-promote, and add location constraints for the Filesystem or other resource agents which are using
       DRBD.

</pre><h4><b>SUPPORTED</b> <b>PARAMETERS</b></h4><pre>
       <b>dampening_delay</b>
           To be used as dampening delay in attrd_updater.

           (optional, integer, default 5)

       <b>attr_name_prefix</b>
           The attributes will be named "*prefix*-drbd_resource_name". You can chose that prefix here.

           (optional, string, default "drbd-promotion-score")

       <b>record_event_details</b>
           It may be convenient to know which event lead to the current score. This setting toggles the
           recording of the event. The attributes will be named "*prefix*:event-details-drbd_resource_name".

           (optional, boolean, default false)

</pre><h4><b>SUPPORTED</b> <b>ACTIONS</b></h4><pre>
       This resource agent supports the following actions (operations):

       <b>start</b>
           Starts the resource. Suggested minimum timeout: 20s.

       <b>stop</b>
           Stops the resource. Suggested minimum timeout: 20s.

       <b>monitor</b>
           Performs a detailed status check. Suggested minimum timeout: 20s. Suggested interval: 60s.

       <b>validate-all</b>
           Performs a validation of the resource configuration. Suggested minimum timeout: 20s.

       <b>meta-data</b>
           Retrieves resource agent metadata (internal use only). Suggested minimum timeout: 5s.

</pre><h4><b>EXAMPLE</b> <b>CRM</b> <b>SHELL</b></h4><pre>
       The following is an example configuration for a drbd-attr resource using the <b><a href="../man8/crm.8.html">crm</a></b>(8) shell:

           primitive p_drbd-attr ocf:linbit:drbd-attr \
             op monitor timeout="20s" interval="60s" depth="0"

</pre><h4><b>EXAMPLE</b> <b>PCS</b></h4><pre>
       The following is an example configuration for a drbd-attr resource using <b><a href="../man8/pcs.8.html">pcs</a></b>(8)

           pcs resource create p_drbd-attr ocf:linbit:drbd-attr \
             op monitor timeout="20s" interval="60s" depth="0"

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b>https://docs.linbit.com/</b>, <b>https://clusterlabs.org/</b>, <b>https://www.linbit.com/drbd-community/</b>

</pre><h4><b>AUTHORS</b></h4><pre>
       <b>LINBIT</b> <b>HA</b> <b>Solutions</b> <b>GmbH</b>

drbd-pacemaker 9.22.0                              07/17/2024                             <u><a href="../man7/OCF_LINBIT_DRBD-ATT.7.html">OCF_LINBIT_DRBD-ATT</a></u>(7)
</pre>
 </div>
</div></section>
</div>
</body>
</html>