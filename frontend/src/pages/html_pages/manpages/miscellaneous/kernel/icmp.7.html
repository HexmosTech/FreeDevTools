<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>icmp - Linux IPv4 ICMP kernel module.</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/manpages">manpages_6.9.1-1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       icmp - Linux IPv4 ICMP kernel module.

</pre><h4><b>DESCRIPTION</b></h4><pre>
       This  kernel  protocol module implements the Internet Control Message Protocol defined in RFC 792.  It is
       used to signal error conditions and for diagnosis.  The user doesn't interact directly with this  module;
       instead  it  communicates  with  the  other protocols in the kernel and these pass the ICMP errors to the
       application layers.  The kernel ICMP module also answers ICMP requests.

       A user protocol may receive ICMP packets for all local sockets by opening a raw socket with the  protocol
       <b>IPPROTO_ICMP</b>.   See  <b><a href="../man7/raw.7.html">raw</a></b>(7)  for more information.  The types of ICMP packets passed to the socket can be
       filtered using the <b>ICMP_FILTER</b> socket option.  ICMP packets are always processed by the kernel too,  even
       when passed to a user socket.

       Linux limits the rate of ICMP error packets to each destination.  <b>ICMP_REDIRECT</b> and <b>ICMP_DEST_UNREACH</b> are
       also limited by the destination route of the incoming packets.

   <b><a href="file:/proc">/proc</a></b> <b>interfaces</b>
       ICMP  supports  a  set of <u><a href="file:/proc">/proc</a></u> interfaces to configure some global IP parameters.  The parameters can be
       accessed by reading or writing files in the directory <u><a href="file:/proc/sys/net/ipv4/">/proc/sys/net/ipv4/</a></u>.  Most of these parameters  are
       rate  limitations  for  specific  ICMP  types.  Linux 2.2 uses a token bucket filter to limit ICMPs.  The
       value is the timeout in jiffies until the token bucket filter is cleared after a burst.   A  jiffy  is  a
       system dependent unit, usually 10ms on i386 and about 1ms on alpha and ia64.

       <u>icmp_destunreach_rate</u> (Linux 2.2 to Linux 2.4.9)
              Maximum  rate to send ICMP Destination Unreachable packets.  This limits the rate at which packets
              are sent to  any  individual  route  or  destination.   The  limit  does  not  affect  sending  of
              <b>ICMP_FRAG_NEEDED</b> packets needed for path MTU discovery.

       <u>icmp_echo_ignore_all</u> (since Linux 2.2)
              If this value is nonzero, Linux will ignore all <b>ICMP_ECHO</b> requests.

       <u>icmp_echo_ignore_broadcasts</u> (since Linux 2.2)
              If this value is nonzero, Linux will ignore all <b>ICMP_ECHO</b> packets sent to broadcast addresses.

       <u>icmp_echoreply_rate</u> (Linux 2.2 to Linux 2.4.9)
              Maximum rate for sending <b>ICMP_ECHOREPLY</b> packets in response to <b>ICMP_ECHOREQUEST</b> packets.

       <u>icmp_errors_use_inbound_ifaddr</u> (Boolean; default: disabled; since Linux 2.6.12)
              If disabled, ICMP error messages are sent with the primary address of the exiting interface.

              If  enabled,  the message will be sent with the primary address of the interface that received the
              packet that caused the ICMP error.  This is the behavior that  many  network  administrators  will
              expect from a router.  And it can make debugging complicated network layouts much easier.

              Note that if no primary address exists for the interface selected, then the primary address of the
              first non-loopback interface that has one will be used regardless of this setting.

       <u>icmp_ignore_bogus_error_responses</u> (Boolean; default: disabled; since Linux 2.2)
              Some  routers violate RFC1122 by sending bogus responses to broadcast frames.  Such violations are
              normally logged via a kernel warning.  If this parameter is enabled, the kernel will not give such
              warnings, which will avoid log file clutter.

       <u>icmp_paramprob_rate</u> (Linux 2.2 to Linux 2.4.9)
              Maximum rate for sending <b>ICMP_PARAMETERPROB</b> packets.  These packets are sent when a packet arrives
              with an invalid IP header.

       <u>icmp_ratelimit</u> (integer; default: 1000; since Linux 2.4.10)
              Limit the maximum rates for sending ICMP packets whose type matches <u>icmp_ratemask</u> (see  below)  to
              specific  targets.   0  to  disable any limiting, otherwise the minimum space between responses in
              milliseconds.

       <u>icmp_ratemask</u> (integer; default: see below; since Linux 2.4.10)
              Mask made of ICMP types for which rates are being limited.

              Significant bits: IHGFEDCBA9876543210
              Default mask:     0000001100000011000 (0x1818)

              Bit definitions (see the Linux kernel source file <u>include/linux/icmp.h</u>):
                   0 Echo Reply
                   3 Destination Unreachable *
                   4 Source Quench *
                   5 Redirect
                   8 Echo Request
                   B Time Exceeded *
                   C Parameter Problem *
                   D Timestamp Request
                   E Timestamp Reply
                   F Info Request
                   G Info Reply
                   H Address Mask Request
                   I Address Mask Reply

       The bits marked with an asterisk are rate limited by default (see the default mask above).

       <u>icmp_timeexceed_rate</u> (Linux 2.2 to Linux 2.4.9)
              Maximum rate for sending <b>ICMP_TIME_EXCEEDED</b> packets.  These packets are sent to prevent loops when
              a packet has crossed too many hops.

       <u>ping_group_range</u> (two integers; default: see below; since Linux 2.6.39)
              Range of the group IDs (minimum and maximum group IDs, inclusive) that are allowed to create  ICMP
              Echo sockets.  The default is "1 0", which means no group is allowed to create ICMP Echo sockets.

</pre><h4><b>VERSIONS</b></h4><pre>
       Support for the <b>ICMP_ADDRESS</b> request was removed in Linux 2.2.

       Support for <b>ICMP_SOURCE_QUENCH</b> was removed in Linux 2.2.

</pre><h4><b>NOTES</b></h4><pre>
       As  many  other implementations don't support <b>IPPROTO_ICMP</b> raw sockets, this feature should not be relied
       on in portable programs.

       <b>ICMP_REDIRECT</b> packets are not sent when Linux is not acting as a router.  They  are  also  accepted  only
       from the old gateway defined in the routing table and the redirect routes are expired after some time.

       The  64-bit  timestamp returned by <b>ICMP_TIMESTAMP</b> is in milliseconds since the Epoch, 1970-01-01 00:00:00
       +0000 (UTC).

       Linux ICMP internally uses a raw socket to send ICMPs.  This raw socket may appear in  <b><a href="../man8/netstat.8.html">netstat</a></b>(8)  output
       with a zero inode.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man7/ip.7.html">ip</a></b>(7), <b><a href="../man8/rdisc.8.html">rdisc</a></b>(8)

       RFC 792 for a description of the ICMP protocol.

Linux man-pages 6.9.1                              2024-05-02                                            <u><a href="../man7/icmp.7.html">icmp</a></u>(7)
</pre>
 </div>
</div></section>
</div>
</body>
</html>