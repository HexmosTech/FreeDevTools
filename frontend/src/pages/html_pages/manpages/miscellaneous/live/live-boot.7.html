<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>live-boot - System Boot Components</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/open-infrastructure-system-boot">open-infrastructure-system-boot_20190301-lts1-5_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       <b>live-boot</b> - System Boot Components

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>live-boot</b> contains the components that configure a live system during the boot process (early userspace).

       live-boot  is  a hook for the initramfs-tools, used to generate a initramfs capable to boot live systems,
       such as those created by <u><a href="../man7/live-helper.7.html">live-helper</a></u>(7). This includes the Live systems ISOs, netboot tarballs,  and  usb
       stick images.

       At  boot  time  it  will  look  for  a  (read-only)  medium  containing  a "/live" directory where a root
       filesystems (often a compressed filesystem image like squashfs) is stored. If found,  it  will  create  a
       writable environment, using aufs, to boot the system from.

</pre><h4><b>CONFIGURATION</b></h4><pre>
       <b>live-boot</b> can be configured through a boot parameter or a configuration file.

       To  configure  the live-boot parameters used by default in a live image, see the --bootappend-live option
       in the <u><a href="../man1/lb_config.1.html">lb_config</a></u>(1) manual page.

   <b>Kernel</b> <b>Parameters</b>
       <b>live-boot</b> is only activated if 'boot=live' was used as a kernel parameter.

       In addition, there are some more boot parameters to influence the behaviour, see below.

   <b>Configuration</b> <b>Files</b>
       <b>live-boot</b> can be configured (but not activated) through configuration files. Those files  can  be  placed
       either  in  the  root  filesystem  itself  (/etc/live/boot.conf,  /etc/live/boot/*), or on the live media
       (live/boot.conf, live/boot/*).  These environment variables can only be set in the configuration files:

       <b>DISABLE_CDROM</b>=[<u>true</u>|<u>false</u>]
              Disable support for booting from CD-ROMs.  If set to  '<u>y</u>'  mkinitramfs  will  build  an  initramfs
              without the kernel modules for reading CD-ROMs.

       <b>DISABLE_FAT</b>=[<u>true</u>|<u>false</u>]
              Disable  support  for  booting  from  FAT  file  systems.  If set to '<u>y</u>' mkinitramfs will build an
              initramfs without the kernel module vfat and some nls_* modules.

       <b>DISABLE_FUSE</b>=[<u>true</u>|<u>false</u>]
              Disable support for booting from FUSE-based file systems.  If set to '<u>y</u>' mkinitramfs will build an
              initramfs without the kernel module fuse and file systems that depend on it  (like  curlftpfs  and
              httpfs2).

       <b>DISABLE_NTFS</b>=[<u>true</u>|<u>false</u>]
              Disable  support  for  booting  from  NTFS  file systems.  If set to '<u>y</u>' mkinitramfs will build an
              initramfs without the kernel module ntfs.

       <b>DISABLE_USB</b>=[<u>true</u>|<u>false</u>]
              Disable support for booting from USB devices.  If set to '<u>y</u>' mkinitramfs will build  an  initramfs
              without the kernel module sd_mod.

       <b>MINIMAL</b>=[<u>true</u>|<u>false</u>]
              Build  a  minimal  initramfs.  If set to '<u>y</u>' mkinitramfs will build an initramfs without some udev
              scripts and without rsync.

       <b>PERSISTENCE_FSCK</b>=[<u>true</u>|<u>false</u>]
              Run fsck on persistence filesystem on boot. Will attempt to repair errors. The execution log  will
              be saved in /var/log/live/fsck.log.

       <b>FSCKFIX</b>=[<u>true</u>|<u>false</u>]
              If  PERSISTENCE_FSCK  or  forcefsck are set, will pass -y to fsck to stop it from asking questions
              interactively and assume yes to all queries.

</pre><h4><b>OPTIONS</b></h4><pre>
       <b>live-boot</b> currently features the following parameters.

       <b>access</b>=<u>ACCESS</u>
           Set the accessibility level for physically or visually impaired users. ACCESS must be one of v1,  v2,
           v3,  m1,  or  m2.  v1=lesser visual impairment, v2=moderate visual impairment, v3=blindness, m1=minor
           motor difficulties, m2=moderate motor difficulties.

       <b>console</b>=<u>TTY,SPEED</u>
           Set the default console to be used with the "live-getty" option. Example: "console=ttyS0,115200"

       <b>debug</b>
           Makes initramfs boot process more verbose.
           Use: debug=1
           Without setting debug to a value the messages may not be shown.

       <b>fetch</b>=<u>URL</u>

       <b>httpfs</b>=<u>URL</u>
           Another form of netboot by downloading a squashfs image from a given URL.  The  fetch  method  copies
           the  image to RAM and the httpfs method uses FUSE and httpfs2 to mount the image in place. Copying to
           RAM requires more memory and might take a long time for large images. However, it is more  likely  to
           work  correctly because it does not require networking afterwards and the system operates faster once
           booted because it does not require to contact the server anymore.
           Due to current limitations in busybox's wget and DNS resolution, an URL can not  contain  a  hostname
           but an IP address only.
           Not working: <a href="http://example.com/path/to/your_filesystem.squashfs">http://example.com/path/to/your_filesystem.squashfs</a>
           Working: <a href="http://1.2.3.4/path/to/your_filesystem.squashfs">http://1.2.3.4/path/to/your_filesystem.squashfs</a>
           Also  note that therefore it's currently not possible to fetch an image from a name-based virtualhost
           of an httpd if it is sharing the IP address with the main httpd instance.
           You may also use the live ISO image in place of the squashfs image.

       <b>iscsi</b>=<u>server-ip[,server-port];target-name</u>
           Boot from an iSCSI target that has an ISO or disk live image as one of its LUNs. The specified target
           is searched for a LUN which looks like a live medium. If  you  use  the  <b>iscsitarget</b>  software  iSCSI
           target solution your ietd.conf might look like this:
           # The target-name you specify in the iscsi= parameter
           Target &lt;target-name&gt;
             Lun 0 Path=&lt;path-to-your-live-image.iso&gt;,Type=fileio,IOMode=ro
             # If you want to boot multiple machines you might want to look at tuning some parameters like
             # Wthreads or MaxConnections

       <b>findiso</b>=<u>/PATH/TO/IMAGE</u>
           Look  for  the  specified ISO file on all disks where it usually looks for the .squashfs file (so you
           don't have to know the device name as in fromiso=....).

       <b>forcefsck</b>
           Run fsck on persistence filesystem on boot. Will attempt to repair errors. The execution log will  be
           saved in /var/log/live/fsck.log.

       <b>fromiso</b>=<u>/PATH/TO/IMAGE</u>
           Use  a  filesystem  from  within  an  ISO image that's available on live-media. The first part of the
           argument should be the block device where the image is stored, followed  by  the  path  and  filename
           (e.g. fromiso=/dev/sda1/live/image.iso).
           Alternatively,   it   can   be   used   to   boot   from   an  ISO  embedded  into  an  initrd  (e.g.
           fromiso=/live/image.iso).

       <b>ignore_uuid</b>
           Do not check that any UUID embedded in the initramfs matches the discovered medium. live-boot may  be
           told to generate a UUID by setting LIVE_GENERATE_UUID=1 when building the initramfs.

       <b>verify-checksums</b>
           If  specified, an MD5 sum is calculated on the live media during boot and compared to the value found
           in md5sum.txt found in the root directory of the live media.

       <b>ip</b>=[<u>DEVICE</u>]:[<u>CLIENT_IP</u>]:[<u>NETMASK</u>]:[<u>GATEWAY_IP</u>]:[<u>NAMESERVER</u>]
       [,[<u>DEVICE</u>]:[<u>CLIENT_IP</u>]:[<u>NETMASK</u>]:[<u>GATEWAY_IP</u>]:[<u>NAMESERVER</u>]]
           Let you specify the name(s) and the options of the interface(s) that should  be  configured  at  boot
           time.  Do  not specify this if you want to use dhcp (default). It will be changed in a future release
           to       mimic       official       kernel        boot        param        specification        (e.g.
           ip=10.0.0.1::10.0.0.254:255.255.255.0::eth0,:::::eth1:dhcp).

       <b>ip</b>=[<u>frommedia</u>]
           If  this  variable is set, dhcp and static configuration are just skipped and the system will use the
           (must be) media-preconfigured /etc/network/interfaces instead.

       <b>live-media-uuid</b>=<u>UUID</u>
           Override UUID embedded in the initramfs.

       <b>live-media-mount-opts</b>=<u>OPTS</u>
           This specific which mount opts to use for mounting live-media.  Default: ro,noatime

       {<b>live-media</b>|<b>bootfrom</b>}=<u>DEVICE</u>
           If you specify one of this two equivalent forms, live-boot will first try to find this device for the
           "/live" directory where the read-only root filesystem should reside. If it  did  not  find  something
           usable, the normal scan for block devices is performed.
           Instead  of specifying an actual device name, the keyword 'removable' can be used to limit the search
           of acceptable live media to removable type only. Note that if you want to further restrict the  media
           to usb mass storage only, you can use the 'removable-usb' keyword.

       {<b>live-media-encryption</b>|<b>encryption</b>}=<u>TYPE</u>
           live-boot  will mount the encrypted rootfs TYPE, asking the passphrase, useful to build paranoid live
           systems :-). TYPE supported so far is "aes" for loop-aes encryption type.

       <b>live-media-offset</b>=<u>BYTES</u>
           This way you could tell live-boot that your image starts at offset BYTES in the  above  specified  or
           autodiscovered  device,  this could be useful to hide the live system ISO or image inside another ISO
           or image, to create "clean" images.

       <b>live-media-path</b>=<u>PATH</u>
           Sets the path to the live filesystem on the medium. By default, it is set to '/live' and  you  should
           not change that unless you have customized your media accordingly.

       <b>live-media-timeout</b>=<u>SECONDS</u>
           Set  the  timeout  in seconds for the device specified by "live-media=" to become ready before giving
           up.

       <b>module</b>=<u>NAME</u>
           Instead of using the default optional file "filesystem.module" (see  below)  another  file  could  be
           specified  without  the  extension  ".module";  it  should be placed on "/live" directory of the live
           medium.

       <b>netboot</b>[=nfs|cifs]
           This tells live-boot to perform a network mount. The parameter "nfsroot=" (with optional "nfsopts="),
           should specify where is the location of the root filesystem.  With no args, will try cifs first,  and
           if it fails nfs.

       <b>nfsopts</b>=
           This lets you specify custom nfs options.

       <b>nofastboot</b>
           This  parameter disables the default disabling of filesystem checks in /etc/fstab. If you have static
           filesystems on your harddisk and you want them to be  checked  at  boot  time,  use  this  parameter,
           otherwise they are skipped.

       <b>nopersistence</b>
           disables  the "persistence" feature, useful if the bootloader (like syslinux) has been installed with
           persistence enabled.

       <b>noeject</b>
           Do not prompt to eject the live medium.

       <b>ramdisk-size</b>
           This parameter defines a custom ramdisk size (it's the '-o size' option of tmpfs mount). By  default,
           there  is no ramdisk size set, so the default of mount applies (currently 50% of available RAM). Note
           that this option has currently no effect when booting with toram.

       <b>overlay-size</b>=<u>SIZE</u>
           The size of the tmpfs mount (used for the upperdir union root mount) in  bytes,  and  rounded  up  to
           entire  pages.  This  option  accepts  a  suffix  %  to limit the instance to that percentage of your
           physical RAM or a suffix k, m or g for Ki, Mi, Gi (binary kilo (kibi), binary mega (mebi) and  binary
           giga (gibi)). By default, 50% of available RAM will be used.

       <b>swap=true</b>
           This parameter enables usage of local swap partitions.

       <b>persistence</b>
           live-boot  will  probe  devices  for persistence media. These can be partitions (with the correct GPT
           name), filesystems (with the correct label) or image files (with the correct file name). Overlays are
           labeled/named "persistence" (see <u><a href="../man5/persistence.conf.5.html">persistence.conf</a></u>(5)). Overlay image files are named "persistence".

       <b>persistence-encryption</b>=<u>TYPE1</u>,<u>TYPE2</u> ... <u>TYPEn</u>
           This option determines which types of encryption that are allowed to be used when probing devices for
           persistence media. If "none" is in the list, we allow unencrypted media; if "luks" is in the list, we
           allow LUKS-encrypted media. Whenever a device containing encrypted media is probed the user  will  be
           prompted for the passphrase. The default value is "none".

       <b>persistence-media</b>={<u>removable</u>|<u>removable-usb</u>}
           If  you  specify  the  keyword  'removable',  live-boot  will  try  to find persistence partitions on
           removable media only. Note that if you want to further restrict the media to usb mass  storage  only,
           you can use the 'removable-usb' keyword.

       <b>persistence-method</b>=<u>TYPE1</u>,<u>TYPE2</u> ... <u>TYPEn</u>
           This  option  determines  which  types of persistence media we allow. If "overlay" is in the list, we
           consider overlays (i.e. "live-rw" and "home-rw"). The default is "overlay".

       <b>persistence-path</b>=<u>PATH</u>
           live-boot will look for persistency files in the root directory of a partition, with this  parameter,
           the  path  can be configured so that you can have multiple directories on the same partition to store
           persistency files.

       <b>persistence-read-only</b>
           Filesystem changes are not saved back to persistence media. In particular, overlays and  netboot  NFS
           mounts are mounted read-only.

       <b>persistence-storage</b>=<u>TYPE1</u>,<u>TYPE2</u> ... <u>TYPEn</u>
           This  option  determines  which types of persistence storage to consider when probing for persistence
           media. If "filesystem" is in the list, filesystems with matching labels will be used; if "file" is in
           the list, all filesystems will be probed for archives and image files with  matching  filenames.  The
           default is "file,filesystem".

       <b>persistence-label</b>=<u>LABEL</u>
           live-boot  will  use the name "LABEL" instead of "persistence" when searching for persistent storage.
           LABEL can be any valid filename, partition label, or GPT name.

       <b>noeject</b>
           This option causes live-boot to reboot without attempting to eject the media and without  asking  the
           user to remove the boot media.

       <b>showmounts</b>
           This  parameter  will  make  live-boot  to  show  on  "/"  the  ro filesystems (mostly compressed) on
           "/lib/live". This is not enabled by default because could  lead  to  problems  by  applications  like
           "mono" which store binary paths on installation.

       <b>silent</b>
           If  you  boot  with the normal quiet parameter, live-boot hides most messages of its own. When adding
           silent, it hides all.

       <b>todisk</b>=<u>DEVICE</u>
           Adding this parameter, live-boot will try to copy the entire read-only media to the specified  device
           before  mounting  the root filesystem. It probably needs a lot of free space. Subsequent boots should
           then skip this step and just specify the "live-media=DEVICE" boot parameter with the same DEVICE used
           this time.

       <b>toram</b>
           Adding this parameter, live-boot will try to copy the whole read-only media  to  the  computer's  RAM
           before mounting the root filesystem. This could need a lot of ram, according to the space used by the
           read-only media.

       <b>union</b>=overlay|aufs
           By default, live-boot uses overlay. With this parameter, you can switch to aufs.

</pre><h4><b>FILES</b> <b>(old)</b></h4><pre>
       <b>/etc/live.conf</b>
           Some variables can be configured via this config file (inside the live system).

       <b>live/filesystem.module</b>
           This    optional   file   (inside   the   live   media)   contains   a   list   of   white-space   or
           carriage-return-separated file names corresponding to disk images in the "/live" directory.  If  this
           file  exists,  only  images listed here will be merged into the root aufs, and they will be loaded in
           the order listed here. The first entry in this file will be the "lowest" point in the aufs,  and  the
           last file in this list will be on the "top" of the aufs, directly below /overlay.  Without this file,
           any images in the "/live" directory are loaded in alphanumeric order.

</pre><h4><b>FILES</b></h4><pre>
       <b>/etc/live/boot.conf</b>

       <b>/etc/live/boot/*</b>

       <b>live/boot.conf</b>

       <b>live/boot/*</b>

       <b>persistence.conf</b>

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <u><a href="../man5/persistence.conf.5.html">persistence.conf</a></u>(5)

       <u><a href="../man7/live-build.7.html">live-build</a></u>(7)

       <u><a href="../man7/live-config.7.html">live-config</a></u>(7)

       <u><a href="../man7/live-tools.7.html">live-tools</a></u>(7)

</pre><h4><b>HOMEPAGE</b></h4><pre>
       More  information  about  live-boot  and  the  Live  Systems  project  can  be  found  on the homepage at
       &lt;<u><a href="http://live-systems.org/">http://live-systems.org/</a></u>&gt; and in the manual at &lt;<u><a href="http://live-systems.org/manual/">http://live-systems.org/manual/</a></u>&gt;.

</pre><h4><b>BUGS</b></h4><pre>
       Bugs can be reported by submitting a bugreport for the live-boot package in the Bug  Tracking  System  at
       &lt;<u><a href="http://bugs.debian.org/">http://bugs.debian.org/</a></u>&gt;   or  by  writing  a  mail  to  the  Live  Systems  mailing  list  at  &lt;<u>debian-</u>
       <u><a href="mailto:live@lists.debian.org">live@lists.debian.org</a></u>&gt;.

</pre><h4><b>AUTHOR</b></h4><pre>
       live-boot was written by Daniel Baumann &lt;<u><a href="mailto:mail@daniel-baumann.ch">mail@daniel-baumann.ch</a></u>&gt;.

5.0~a5-1                                           2015-09-22                                       <u><a href="../man7/LIVE-BOOT.7.html">LIVE-BOOT</a></u>(7)
</pre>
 </div>
</div></section>
</div>
</body>
</html>