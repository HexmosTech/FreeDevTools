<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>provider-keymgmt - The KEYMGMT library <-> provider functions</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/openssl">openssl_3.5.0-2ubuntu1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       provider-keymgmt - The KEYMGMT library &lt;-&gt; provider functions

</pre><h4><b>SYNOPSIS</b></h4><pre>
        #include &lt;openssl/core_dispatch.h&gt;

        /*
         * None of these are actual functions, but are displayed like this for
         * the function signatures for functions that are offered as function
         * pointers in OSSL_DISPATCH arrays.
         */

        /* Key object (keydata) creation and destruction */
        void *OSSL_FUNC_keymgmt_new(void *provctx);
        void OSSL_FUNC_keymgmt_free(void *keydata);

        /* Generation, a more complex constructor */
        void *OSSL_FUNC_keymgmt_gen_init(void *provctx, int selection,
                                         const OSSL_PARAM params[]);
        int OSSL_FUNC_keymgmt_gen_set_template(void *genctx, void *template);
        int OSSL_FUNC_keymgmt_gen_get_params(void *genctx, OSSL_PARAM params[]);
        int OSSL_FUNC_keymgmt_gen_set_params(void *genctx, const OSSL_PARAM params[]);
        const OSSL_PARAM *OSSL_FUNC_keymgmt_gen_gettable_params(void *genctx,
                                                                void *provctx);
        const OSSL_PARAM *OSSL_FUNC_keymgmt_gen_settable_params(void *genctx,
                                                                void *provctx);
        void *OSSL_FUNC_keymgmt_gen(void *genctx, OSSL_CALLBACK *cb, void *cbarg);
        void OSSL_FUNC_keymgmt_gen_cleanup(void *genctx);

        /* Key loading by object reference, also a constructor */
        void *OSSL_FUNC_keymgmt_load(const void *reference, size_t *reference_sz);

        /* Key object information */
        int OSSL_FUNC_keymgmt_get_params(void *keydata, OSSL_PARAM params[]);
        const OSSL_PARAM *OSSL_FUNC_keymgmt_gettable_params(void *provctx);
        int OSSL_FUNC_keymgmt_set_params(void *keydata, const OSSL_PARAM params[]);
        const OSSL_PARAM *OSSL_FUNC_keymgmt_settable_params(void *provctx);

        /* Key object content checks */
        int OSSL_FUNC_keymgmt_has(const void *keydata, int selection);
        int OSSL_FUNC_keymgmt_match(const void *keydata1, const void *keydata2,
                                    int selection);

        /* Discovery of supported operations */
        const char *OSSL_FUNC_keymgmt_query_operation_name(int operation_id);

        /* Key object import and export functions */
        int OSSL_FUNC_keymgmt_import(void *keydata, int selection, const OSSL_PARAM params[]);
        const OSSL_PARAM *OSSL_FUNC_keymgmt_import_types(int selection);
        const OSSL_PARAM *OSSL_FUNC_keymgmt_import_types_ex(void *provctx, int selection);
        int OSSL_FUNC_keymgmt_export(void *keydata, int selection,
                                     OSSL_CALLBACK *param_cb, void *cbarg);
        const OSSL_PARAM *OSSL_FUNC_keymgmt_export_types(int selection);
        const OSSL_PARAM *OSSL_FUNC_keymgmt_export_types_ex(void *provctx, int selection);

        /* Key object duplication, a constructor */
        void *OSSL_FUNC_keymgmt_dup(const void *keydata_from, int selection);

        /* Key object validation */
        int OSSL_FUNC_keymgmt_validate(const void *keydata, int selection, int checktype);

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The KEYMGMT operation doesn't have much public visibility in OpenSSL libraries, it's rather an internal
       operation that's designed to work in tandem with operations that use private/public key pairs.

       Because the KEYMGMT operation shares knowledge with the operations it works with in tandem, they must
       belong to the same provider.  The OpenSSL libraries will ensure that they do.

       The primary responsibility of the KEYMGMT operation is to hold the provider side key data for the OpenSSL
       library EVP_PKEY structure.

       All "functions" mentioned here are passed as function pointers between <u>libcrypto</u> and the provider in
       <b><a href="../man3/OSSL_DISPATCH.3.html">OSSL_DISPATCH</a></b>(3) arrays via <b><a href="../man3/OSSL_ALGORITHM.3.html">OSSL_ALGORITHM</a></b>(3) arrays that are returned by the provider's
       <b>provider_query_operation()</b> function (see "Provider Functions" in <b><a href="../man7/provider-base.7.html">provider-base</a></b>(7)).

       All these "functions" have a corresponding function type definition named <b>OSSL_FUNC_{name}_fn</b>, and a
       helper function to retrieve the function pointer from a <b><a href="../man3/OSSL_DISPATCH.3.html">OSSL_DISPATCH</a></b>(3) element named <b>OSSL_FUNC_{name}</b>.
       For example, the "function" <b>OSSL_FUNC_keymgmt_new()</b> has these:

        typedef void *(OSSL_FUNC_keymgmt_new_fn)(void *provctx);
        static ossl_inline OSSL_FUNC_keymgmt_new_fn
            OSSL_FUNC_keymgmt_new(const OSSL_DISPATCH *opf);

       <b><a href="../man3/OSSL_DISPATCH.3.html">OSSL_DISPATCH</a></b>(3) arrays are indexed by numbers that are provided as macros in <b><a href="../man7/openssl-core_dispatch.h.7.html">openssl-core_dispatch.h</a></b>(7),
       as follows:

        OSSL_FUNC_keymgmt_new                  OSSL_FUNC_KEYMGMT_NEW
        OSSL_FUNC_keymgmt_free                 OSSL_FUNC_KEYMGMT_FREE

        OSSL_FUNC_keymgmt_gen_init             OSSL_FUNC_KEYMGMT_GEN_INIT
        OSSL_FUNC_keymgmt_gen_set_template     OSSL_FUNC_KEYMGMT_GEN_SET_TEMPLATE
        OSSL_FUNC_keymgmt_gen_get_params       OSSL_FUNC_KEYMGMT_GEN_GET_PARAMS
        OSSL_FUNC_keymgmt_gen_gettable_params  OSSL_FUNC_KEYMGMT_GEN_GETTABLE_PARAMS
        OSSL_FUNC_keymgmt_gen_set_params       OSSL_FUNC_KEYMGMT_GEN_SET_PARAMS
        OSSL_FUNC_keymgmt_gen_settable_params  OSSL_FUNC_KEYMGMT_GEN_SETTABLE_PARAMS
        OSSL_FUNC_keymgmt_gen                  OSSL_FUNC_KEYMGMT_GEN
        OSSL_FUNC_keymgmt_gen_cleanup          OSSL_FUNC_KEYMGMT_GEN_CLEANUP

        OSSL_FUNC_keymgmt_load                 OSSL_FUNC_KEYMGMT_LOAD

        OSSL_FUNC_keymgmt_get_params           OSSL_FUNC_KEYMGMT_GET_PARAMS
        OSSL_FUNC_keymgmt_gettable_params      OSSL_FUNC_KEYMGMT_GETTABLE_PARAMS
        OSSL_FUNC_keymgmt_set_params           OSSL_FUNC_KEYMGMT_SET_PARAMS
        OSSL_FUNC_keymgmt_settable_params      OSSL_FUNC_KEYMGMT_SETTABLE_PARAMS

        OSSL_FUNC_keymgmt_query_operation_name OSSL_FUNC_KEYMGMT_QUERY_OPERATION_NAME

        OSSL_FUNC_keymgmt_has                  OSSL_FUNC_KEYMGMT_HAS
        OSSL_FUNC_keymgmt_validate             OSSL_FUNC_KEYMGMT_VALIDATE
        OSSL_FUNC_keymgmt_match                OSSL_FUNC_KEYMGMT_MATCH

        OSSL_FUNC_keymgmt_import               OSSL_FUNC_KEYMGMT_IMPORT
        OSSL_FUNC_keymgmt_import_types         OSSL_FUNC_KEYMGMT_IMPORT_TYPES
        OSSL_FUNC_keymgmt_import_types_ex      OSSL_FUNC_KEYMGMT_IMPORT_TYPES_EX
        OSSL_FUNC_keymgmt_export               OSSL_FUNC_KEYMGMT_EXPORT
        OSSL_FUNC_keymgmt_export_types         OSSL_FUNC_KEYMGMT_EXPORT_TYPES
        OSSL_FUNC_keymgmt_export_types_ex      OSSL_FUNC_KEYMGMT_EXPORT_TYPES_EX

        OSSL_FUNC_keymgmt_dup                  OSSL_FUNC_KEYMGMT_DUP

   <b>Key</b> <b>Objects</b>
       A key object is a collection of data for an asymmetric key, and is represented as <u>keydata</u> in this manual.

       The exact contents of a key object are defined by the provider, and it is assumed that different
       operations in one and the same provider use the exact same structure to represent this collection of
       data, so that for example, a key object that has been created using the KEYMGMT interface that we
       document here can be passed as is to other provider operations, such as <b>OP_signature_sign_init()</b> (see
       <b><a href="../man7/provider-signature.7.html">provider-signature</a></b>(7)).

       With some of the KEYMGMT functions, it's possible to select a specific subset of data to handle, governed
       by the bits in a <u>selection</u> indicator.  The bits are:

       <b>OSSL_KEYMGMT_SELECT_PRIVATE_KEY</b>
           Indicating that the private key data in a key object should be considered.

       <b>OSSL_KEYMGMT_SELECT_PUBLIC_KEY</b>
           Indicating that the public key data in a key object should be considered.

       <b>OSSL_KEYMGMT_SELECT_DOMAIN_PARAMETERS</b>
           Indicating that the domain parameters in a key object should be considered.

       <b>OSSL_KEYMGMT_SELECT_OTHER_PARAMETERS</b>
           Indicating that other parameters in a key object should be considered.

           Other  parameters  are  key parameters that don't fit any other classification.  In other words, this
           particular selector bit works as a last resort bit bucket selector.

       Some selector bits have also been combined for easier use:

       <b>OSSL_KEYMGMT_SELECT_ALL_PARAMETERS</b>
           Indicating that all key object parameters should be considered, regardless  of  their  more  granular
           classification.

           This       is       a       combination       of       <b>OSSL_KEYMGMT_SELECT_DOMAIN_PARAMETERS</b>      and
           <b>OSSL_KEYMGMT_SELECT_OTHER_PARAMETERS</b>.

       <b>OSSL_KEYMGMT_SELECT_KEYPAIR</b>
           Indicating that both the whole key pair in a key object should be considered, i.e. the combination of
           public and private key.

           This is a combination of <b>OSSL_KEYMGMT_SELECT_PRIVATE_KEY</b> and <b>OSSL_KEYMGMT_SELECT_PUBLIC_KEY</b>.

       <b>OSSL_KEYMGMT_SELECT_ALL</b>
           Indicating that everything in a key object should be considered.

       The exact interpretation of those bits or how they combine is left to each function where you can specify
       a selector.

       It's left to the provider implementation to decide what is reasonable to  do  with  regards  to  received
       selector  bits  and how to do it.  Among others, an implementation of <b>OSSL_FUNC_keymgmt_match()</b> might opt
       to not compare the private half if it has compared the public half, since a match of one half  implies  a
       match of the other half.

   <b>Constructing</b> <b>and</b> <b>Destructing</b> <b>Functions</b>
       <b>OSSL_FUNC_keymgmt_new()</b> should create a provider side key object.  The provider context <u>provctx</u> is passed
       and may be incorporated in the key object, but that is not mandatory.

       <b>OSSL_FUNC_keymgmt_free()</b> should free the passed <u>keydata</u>.

       <b>OSSL_FUNC_keymgmt_gen_init()</b>,  <b>OSSL_FUNC_keymgmt_gen_set_template()</b>,  <b>OSSL_FUNC_keymgmt_gen_get_params()</b>,
       <b>OSSL_FUNC_keymgmt_gen_gettable_params()</b>,                              <b>OSSL_FUNC_keymgmt_gen_set_params()</b>,
       <b>OSSL_FUNC_keymgmt_gen_settable_params()</b>, <b>OSSL_FUNC_keymgmt_gen()</b> and <b>OSSL_FUNC_keymgmt_gen_cleanup()</b> work
       together as a more elaborate context based key object constructor.

       <b>OSSL_FUNC_keymgmt_gen_init()</b>  should  create  the  key  object  generation context and initialize it with
       <u>selections</u>, which will determine what kind of contents the key object to be generated  should  get.   The
       <u>params</u>,   if   not   NULL,   should   be   set   on   the   context   in   a   manner  similar  to  using
       <b>OSSL_FUNC_keymgmt_set_params()</b>.

       <b>OSSL_FUNC_keymgmt_gen_set_template()</b> should add <u>template</u> to the context <u>genctx</u>.  The <u>template</u> is  assumed
       to  be  a  key  object  constructed with the same KEYMGMT, and from which content that the implementation
       chooses can be used as a template for the key object to be generated.  Typically, the generation of a DSA
       or DH key would get the domain parameters from this <u>template</u>.

       <b>OSSL_FUNC_keymgmt_gen_get_params()</b> should retrieve parameters into <u>params</u> in the  key  object  generation
       context <u>genctx</u>.

       <b>OSSL_FUNC_keymgmt_gen_gettable_params()</b>  should  return a constant array of descriptor <b><a href="../man3/OSSL_PARAM.3.html">OSSL_PARAM</a></b>(3), for
       parameters that <b>OSSL_FUNC_keymgmt_gen_get_params()</b> can handle.

       <b>OSSL_FUNC_keymgmt_gen_set_params()</b> should set  additional  parameters  from  <u>params</u>  in  the  key  object
       generation context <u>genctx</u>.

       <b>OSSL_FUNC_keymgmt_gen_settable_params()</b>  should  return a constant array of descriptor <b><a href="../man3/OSSL_PARAM.3.html">OSSL_PARAM</a></b>(3), for
       parameters that <b>OSSL_FUNC_keymgmt_gen_set_params()</b> can handle.

       <b>OSSL_FUNC_keymgmt_gen()</b> should perform the key object generation itself,  and  return  the  result.   The
       callback  <u>cb</u>  should  be  called  at  regular intervals with indications on how the key object generation
       progresses.

       <b>OSSL_FUNC_keymgmt_gen_cleanup()</b> should clean up and free the key object generation context <u>genctx</u>

       <b>OSSL_FUNC_keymgmt_load()</b> creates a provider side key object based on a <u>reference</u> object with  a  size  of
       <u>reference_sz</u>  bytes,  that  only  the  provider  knows  how  to  interpret,  but that may come from other
       operations.  Outside the provider, this reference is simply an array of bytes.

       At  least  one  of  <b>OSSL_FUNC_keymgmt_new()</b>,  <b>OSSL_FUNC_keymgmt_gen()</b>  and  <b>OSSL_FUNC_keymgmt_load()</b>  are
       mandatory,   as   well   as   <b>OSSL_FUNC_keymgmt_free()</b>   and  <b>OSSL_FUNC_keymgmt_has()</b>.  Additionally,  if
       <b>OSSL_FUNC_keymgmt_gen()</b> is present, <b>OSSL_FUNC_keymgmt_gen_init()</b> and <b>OSSL_FUNC_keymgmt_gen_cleanup()</b> must
       be present as well.

   <b>Key</b> <b>Object</b> <b>Information</b> <b>Functions</b>
       <b>OSSL_FUNC_keymgmt_get_params()</b> should extract information data associated with  the  given  <u>keydata</u>,  see
       "Common Information Parameters".

       <b>OSSL_FUNC_keymgmt_gettable_params()</b>  should  return  a  constant  array  of descriptor <b><a href="../man3/OSSL_PARAM.3.html">OSSL_PARAM</a></b>(3), for
       parameters that <b>OSSL_FUNC_keymgmt_get_params()</b> can handle.

       If <b>OSSL_FUNC_keymgmt_gettable_params()</b> is present, <b>OSSL_FUNC_keymgmt_get_params()</b> must also  be  present,
       and vice versa.

       <b>OSSL_FUNC_keymgmt_set_params()</b>  should  update  information  data  associated with the given <u>keydata</u>, see
       "Common Information Parameters".

       <b>OSSL_FUNC_keymgmt_settable_params()</b> should return a  constant  array  of  descriptor  <b><a href="../man3/OSSL_PARAM.3.html">OSSL_PARAM</a></b>(3),  for
       parameters that <b>OSSL_FUNC_keymgmt_set_params()</b> can handle.

       If  <b>OSSL_FUNC_keymgmt_settable_params()</b>  is present, <b>OSSL_FUNC_keymgmt_set_params()</b> must also be present,
       and vice versa.

   <b>Key</b> <b>Object</b> <b>Checking</b> <b>Functions</b>
       <b>OSSL_FUNC_keymgmt_query_operation_name()</b> should return the  name  of  the  supported  algorithm  for  the
       operation  <u>operation_id</u>.   This is similar to <b>provider_query_operation()</b> (see <b><a href="../man7/provider-base.7.html">provider-base</a></b>(7)), but only
       works as an advisory.  If this function is not present, or returns NULL, the caller  is  free  to  assume
       that  there's  an algorithm from the same provider, of the same name as the one used to fetch the keymgmt
       and try to use that.

       <b>OSSL_FUNC_keymgmt_has()</b> should check whether the given <u>keydata</u> contains the subsets of data indicated  by
       the  <u>selector</u>.  A combination of several selector bits must consider all those subsets, not just one.  An
       implementation is, however, free to consider an empty subset of data to still  be  a  valid  subset.  For
       algorithms  where  some selection is not meaningful such as <b>OSSL_KEYMGMT_SELECT_DOMAIN_PARAMETERS</b> for RSA
       keys the function should just return 1 as the selected subset is not really missing in the key.

       <b>OSSL_FUNC_keymgmt_validate()</b> should check if  the  <u>keydata</u>  contains  valid  data  subsets  indicated  by
       <u>selection</u>.   Some  combined  selections  of  data subsets may cause validation of the combined data.  For
       example,  the  combination  of  <b>OSSL_KEYMGMT_SELECT_PRIVATE_KEY</b>  and  <b>OSSL_KEYMGMT_SELECT_PUBLIC_KEY</b>  (or
       <b>OSSL_KEYMGMT_SELECT_KEYPAIR</b>  for  short) is expected to check that the pairwise consistency of <u>keydata</u> is
       valid. The <u>checktype</u> parameter controls what type of check is performed on the subset of data. Two  types
       of  check  are  defined:  <b>OSSL_KEYMGMT_VALIDATE_FULL_CHECK</b>  and  <b>OSSL_KEYMGMT_VALIDATE_QUICK_CHECK</b>.   The
       interpretation of how much checking is performed in a full  check  versus  a  quick  check  is  key  type
       specific.  Some  providers may have no distinction between a full check and a quick check. For algorithms
       where some selection is not meaningful such as <b>OSSL_KEYMGMT_SELECT_DOMAIN_PARAMETERS</b>  for  RSA  keys  the
       function should just return 1 as there is nothing to validate for that selection.

       <b>OSSL_FUNC_keymgmt_match()</b> should check if the data subset indicated by <u>selection</u> in <u>keydata1</u> and <u>keydata2</u>
       match.   It  is  assumed  that  the  caller  has ensured that <u>keydata1</u> and <u>keydata2</u> are both owned by the
       implementation of this function.

   <b>Key</b> <b>Object</b> <b>Import,</b> <b>Export</b> <b>and</b> <b>Duplication</b> <b>Functions</b>
       <b>OSSL_FUNC_keymgmt_import()</b> should import data indicated by <u>selection</u> into <u>keydata</u> with values taken  from
       the <b><a href="../man3/OSSL_PARAM.3.html">OSSL_PARAM</a></b>(3) array <u>params</u>.

       <b>OSSL_FUNC_keymgmt_export()</b>  should  extract  values  indicated  by  <u>selection</u>  from  <u>keydata</u>,  create  an
       <b><a href="../man3/OSSL_PARAM.3.html">OSSL_PARAM</a></b>(3) array with them and call <u>param_cb</u> with that array as well as the given <u>cbarg</u>.

       <b>OSSL_FUNC_keymgmt_import_types()</b> and <b>OSSL_FUNC_keymgmt_import_types_ex()</b> should return a  constant  array
       of    descriptor    <b><a href="../man3/OSSL_PARAM.3.html">OSSL_PARAM</a></b>(3)    for    data    indicated   by   <u>selection</u>,   for   parameters   that
       <b>OSSL_FUNC_keymgmt_import()</b>     can     handle.       Either      <b>OSSL_FUNC_keymgmt_import_types()</b>      or
       <b>OSSL_FUNC_keymgmt_import_types_ex()</b>,  must  be  implemented,  if  <b>OSSL_FUNC_keymgmt_import_types_ex()</b>  is
       implemented, then it is preferred over <b>OSSL_FUNC_keymgmt_import_types()</b>.  Providers that are supposed  to
       be    backward    compatible    with    OpenSSL    3.0    or    3.1    must    continue    to   implement
       <b>OSSL_FUNC_keymgmt_import_types()</b>.

       <b>OSSL_FUNC_keymgmt_export_types()</b> and <b>OSSL_FUNC_keymgmt_export_types_ex()</b> should return a  constant  array
       of descriptor <b><a href="../man3/OSSL_PARAM.3.html">OSSL_PARAM</a></b>(3) for data indicated by <u>selection</u>, that the <b>OSSL_FUNC_keymgmt_export()</b> callback
       can  expect  to receive.  Either <b>OSSL_FUNC_keymgmt_export_types()</b> or <b>OSSL_FUNC_keymgmt_export_types_ex()</b>,
       must be implemented, if <b>OSSL_FUNC_keymgmt_export_types_ex()</b> is implemented, then  it  is  preferred  over
       <b>OSSL_FUNC_keymgmt_export_types()</b>.  Providers that are supposed to be backward compatible with OpenSSL 3.0
       or 3.1 must continue to implement <b>OSSL_FUNC_keymgmt_export_types()</b>.

       <b>OSSL_FUNC_keymgmt_dup()</b>  should  duplicate  data  subsets  indicated  by  <u>selection</u> or the whole key data
       <u>keydata_from</u> and create a new provider side key object with the data.

   <b>Common</b> <b>Information</b> <b>Parameters</b>
       See <b><a href="../man3/OSSL_PARAM.3.html">OSSL_PARAM</a></b>(3) for further details on the parameters structure.

       Common information parameters currently recognised by all built-in keymgmt algorithms are as follows:

       "bits" (<b>OSSL_PKEY_PARAM_BITS</b>) &lt;integer&gt;
           The value should be the cryptographic length of the cryptosystem to which the key belongs,  in  bits.
           The definition of cryptographic length is specific to the key cryptosystem.

       "max-size" (<b>OSSL_PKEY_PARAM_MAX_SIZE</b>) &lt;integer&gt;
           The  value  should  be  the  maximum  size  that a caller should allocate to safely store a signature
           (called <u>sig</u> in <b><a href="../man7/provider-signature.7.html">provider-signature</a></b>(7)), the result of  asymmetric  encryption  /  decryption  (<u>out</u>  in
           <b><a href="../man7/provider-asym_cipher.7.html">provider-asym_cipher</a></b>(7), a derived secret (<u>secret</u> in <b><a href="../man7/provider-keyexch.7.html">provider-keyexch</a></b>(7), and similar data).

           Providers need to implement this parameter in order to properly support various use cases such as CMS
           signing.

           Because  an  EVP_KEYMGMT  method  is  always  tightly  bound to another method (signature, asymmetric
           cipher, key exchange, ...) and  must  be  of  the  same  provider,  this  number  only  needs  to  be
           synchronised with the dimensions handled in the rest of the same provider.

       "security-bits" (<b>OSSL_PKEY_PARAM_SECURITY_BITS</b>) &lt;integer&gt;
           The  value  should  be  the number of security bits of the given key.  Bits of security is defined in
           SP800-57.

       "mandatory-digest" (<b>OSSL_PKEY_PARAM_MANDATORY_DIGEST</b>) &lt;UTF8 string&gt;
           If there is a mandatory digest for performing a signature operation with keys from this keymgmt, this
           parameter should get its name as value.

           When  <b>EVP_PKEY_get_default_digest_name()</b>  queries  this  parameter  and  it's  filled   in   by   the
           implementation, its return value will be 2.

           If  the  keymgmt implementation fills in the value "" or "UNDEF", <b><a href="../man3/EVP_PKEY_get_default_digest_name.3.html">EVP_PKEY_get_default_digest_name</a></b>(3)
           will place the string "UNDEF" into its argument <u>mdname</u>.  This signifies  that  no  digest  should  be
           specified with the corresponding signature operation.

       "default-digest" (<b>OSSL_PKEY_PARAM_DEFAULT_DIGEST</b>) &lt;UTF8 string&gt;
           If  there  is a default digest for performing a signature operation with keys from this keymgmt, this
           parameter should get its name as value.

           When  <b><a href="../man3/EVP_PKEY_get_default_digest_name.3.html">EVP_PKEY_get_default_digest_name</a></b>(3)  queries  this  parameter  and  it's  filled  in   by   the
           implementation,  its  return  value  will  be  1.   Note  that if <b>OSSL_PKEY_PARAM_MANDATORY_DIGEST</b> is
           responded to as well, <b><a href="../man3/EVP_PKEY_get_default_digest_name.3.html">EVP_PKEY_get_default_digest_name</a></b>(3) ignores the response to this parameter.

           If the keymgmt implementation fills in the value "" or  "UNDEF",  <b><a href="../man3/EVP_PKEY_get_default_digest_name.3.html">EVP_PKEY_get_default_digest_name</a></b>(3)
           will  place  the  string  "UNDEF"  into its argument <u>mdname</u>.  This signifies that no digest has to be
           specified with the corresponding signature operation, but may be specified as an option.

       The OpenSSL FIPS provider also supports the following parameters:

       "fips-indicator" (<b>OSSL_PKEY_PARAM_FIPS_APPROVED_INDICATOR</b>) &lt;integer&gt;
           A getter that returns 1 if the operation is FIPS approved, or 0 otherwise.  This may  be  used  after
           calling  <b>OSSL_FUNC_keymgmt_gen()</b> function. It may return 0 if either the "key-check", or "sign-check"
           are set to 0.

       "key-check" (<b>OSSL_PKEY_PARAM_FIPS_KEY_CHECK</b>) &lt;integer&gt;
           If  required   this   parameter   should   be   set   using   <b>OSSL_FUNC_keymgmt_gen_set_params()</b>   or
           <b>OSSL_FUNC_keymgmt_gen_init()</b>.   The  default value of 1 causes an error during the init if the key is
           not FIPS approved (e.g. The key has a security strength of less than 112 bits).  Setting  this  to  0
           will ignore the error and set the approved "fips-indicator" to 0.  This option breaks FIPS compliance
           if it causes the approved "fips-indicator" to return 0.

       "sign-check" (<b>OSSL_PKEY_PARAM_FIPS_SIGN_CHECK</b>) &lt;integer&gt;
           If  required  this parameter should be set before the <b>OSSL_FUNC_keymgmt_gen()</b> function. This value is
           not supported by all keygen algorithms.  The default value of 1 will cause an error if the  generated
           key  is  not  allowed  to  be  used for signing.  Setting this to 0 will ignore the error and set the
           approved "fips-indicator" to 0.  This option breaks FIPS compliance if it causes the approved  "fips-
           indicator" to return 0.

</pre><h4><b>RETURN</b> <b>VALUES</b></h4><pre>
       <b>OSSL_FUNC_keymgmt_new()</b>  and <b>OSSL_FUNC_keymgmt_dup()</b> should return a valid reference to the newly created
       provider side key object, or NULL on failure.

       <b>OSSL_FUNC_keymgmt_import()</b>,      <b>OSSL_FUNC_keymgmt_export()</b>,      <b>OSSL_FUNC_keymgmt_get_params()</b>      and
       <b>OSSL_FUNC_keymgmt_set_params()</b> should return 1 for success or 0 on error.

       <b>OSSL_FUNC_keymgmt_validate()</b> should return 1 on successful validation, or 0 on failure.

       <b>OSSL_FUNC_keymgmt_has()</b>  should  return  1  if  all  the selected data subsets are contained in the given
       <u>keydata</u> or 0 otherwise.

       <b>OSSL_FUNC_keymgmt_query_operation_name()</b> should return a pointer  to  a  string  matching  the  requested
       operation, or NULL if the same name used to fetch the keymgmt applies.

       <b>OSSL_FUNC_keymgmt_gettable_params()</b>                and                <b>OSSL_FUNC_keymgmt_settable_params()</b>
       <b>OSSL_FUNC_keymgmt_import_types()</b>, <b>OSSL_FUNC_keymgmt_import_types_ex()</b>,  <b>OSSL_FUNC_keymgmt_export_types()</b>,
       <b>OSSL_FUNC_keymgmt_export_types_ex()</b> should always return a constant <b><a href="../man3/OSSL_PARAM.3.html">OSSL_PARAM</a></b>(3) array.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man3/EVP_PKEY_get_size.3.html">EVP_PKEY_get_size</a></b>(3),       <b><a href="../man3/EVP_PKEY_get_bits.3.html">EVP_PKEY_get_bits</a></b>(3),       <b><a href="../man3/EVP_PKEY_get_security_bits.3.html">EVP_PKEY_get_security_bits</a></b>(3),       <b><a href="../man7/provider.7.html">provider</a></b>(7),
       <b><a href="../man7/EVP_PKEY-X25519.7.html">EVP_PKEY-X25519</a></b>(7),    <b><a href="../man7/EVP_PKEY-X448.7.html">EVP_PKEY-X448</a></b>(7),    <b><a href="../man7/EVP_PKEY-ED25519.7.html">EVP_PKEY-ED25519</a></b>(7),    <b><a href="../man7/EVP_PKEY-ED448.7.html">EVP_PKEY-ED448</a></b>(7),    <b><a href="../man7/EVP_PKEY-EC.7.html">EVP_PKEY-EC</a></b>(7),
       <b><a href="../man7/EVP_PKEY-RSA.7.html">EVP_PKEY-RSA</a></b>(7),     <b><a href="../man7/EVP_PKEY-DSA.7.html">EVP_PKEY-DSA</a></b>(7),     <b><a href="../man7/EVP_PKEY-DH.7.html">EVP_PKEY-DH</a></b>(7),     <b><a href="../man7/EVP_PKEY-ML-DSA.7.html">EVP_PKEY-ML-DSA</a></b>(7),     <b><a href="../man7/EVP_PKEY-ML-KEM.7.html">EVP_PKEY-ML-KEM</a></b>(7),
       <b><a href="../man7/EVP_PKEY-SLH-DSA.7.html">EVP_PKEY-SLH-DSA</a></b>(7).

</pre><h4><b>HISTORY</b></h4><pre>
       The KEYMGMT interface was introduced in OpenSSL 3.0.

       Functions <b>OSSL_FUNC_keymgmt_import_types_ex()</b>, and <b>OSSL_FUNC_keymgmt_export_types_ex()</b>  were  added  with
       OpenSSL 3.2.

       The  functions  <b>OSSL_FUNC_keymgmt_gen_get_params()</b> and <b>OSSL_FUNC_keymgmt_gen_gettable_params()</b> were added
       in OpenSSL 3.4.

       The parameters "sign-check" and "fips-indicator" were added in OpenSSL 3.4.

       Support for the <b>ML-DSA</b>, <b>ML-KEM</b> and <b>SLH-DSA</b> algorithms was added in OpenSSL 3.5.

</pre><h4><b>COPYRIGHT</b></h4><pre>
       Copyright 2019-2025 The OpenSSL Project Authors. All Rights Reserved.

       Licensed under the Apache License 2.0 (the "License").  You may not use this file  except  in  compliance
       with  the  License.   You  can  obtain  a  copy  in  the  file  LICENSE  in the source distribution or at
       &lt;https://www.openssl.org/source/license.html&gt;.

3.5.0                                              2025-06-04                             <u><a href="../man7SSL/PROVIDER-KEYMGMT.7SSL.html">PROVIDER-KEYMGMT</a></u>(7SSL)
</pre>
 </div>
</div></section>
</div>
</body>
</html>