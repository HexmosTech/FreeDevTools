<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>provider-skeymgmt - The SKEYMGMT library <-> provider functions</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/openssl">openssl_3.5.0-2ubuntu1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       provider-skeymgmt - The SKEYMGMT library &lt;-&gt; provider functions

</pre><h4><b>SYNOPSIS</b></h4><pre>
        #include &lt;openssl/core_dispatch.h&gt;

        /*
         * None of these are actual functions, but are displayed like this for
         * the function signatures for functions that are offered as function
         * pointers in OSSL_DISPATCH arrays.
         */

        /* Key object destruction */
        void OSSL_FUNC_skeymgmt_free(void *keydata);

        /* Key object import and export functions */
        void *OSSL_FUNC_skeymgmt_import(void *provctx, int selection,
                                        const OSSL_PARAM params[]);
        int OSSL_FUNC_skeymgmt_export(void *keydata, int selection,
                                      OSSL_CALLBACK *param_cb, void *cbarg);
        void *OSSL_FUNC_skeymgmt_generate(void *provctx,
                                          const OSSL_PARAM params[]);
        const OSSL_PARAM *OSSL_FUNC_skeymgmt_gen_settable_params(void *provctx);
        const OSSL_PARAM *OSSL_FUNC_skeymgmt_imp_settable_params(void *provctx);
        const char *OSSL_FUNC_skeymgmt_get_key_id(void *keydata);

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The SKEYMGMT operation doesn't have much public visibility in the OpenSSL libraries, rather it is an
       internal operation that is designed to work with operations that use opaque symmetric keys objects.

       The SKEYMGMT operation shares knowledge with the operations it works with, therefore the SKEYMGMT and the
       algorithms which use it must belong to the same provider.  The OpenSSL libraries will ensure that they
       do.

       The primary responsibility of the SKEYMGMT operation is to hold the provider side key data for the
       OpenSSL library EVP_SKEY structure.

       All "functions" mentioned here are passed as function pointers between <u>libcrypto</u> and the provider in
       <b><a href="../man3/OSSL_DISPATCH.3.html">OSSL_DISPATCH</a></b>(3) arrays via <b><a href="../man3/OSSL_ALGORITHM.3.html">OSSL_ALGORITHM</a></b>(3) arrays that are returned by the provider's
       <b>provider_query_operation()</b> function (see "Provider Functions" in <b><a href="../man7/provider-base.7.html">provider-base</a></b>(7)).

       All these "functions" have a corresponding function type definition named <b>OSSL_FUNC_{name}_fn</b>, and a
       helper function to retrieve the function pointer from a <b><a href="../man3/OSSL_DISPATCH.3.html">OSSL_DISPATCH</a></b>(3) element named <b>OSSL_FUNC_{name}</b>.

       <b><a href="../man3/OSSL_DISPATCH.3.html">OSSL_DISPATCH</a></b>(3) arrays are indexed by numbers that are provided as macros in <b><a href="../man7/openssl-core_dispatch.h.7.html">openssl-core_dispatch.h</a></b>(7),
       as follows:

        OSSL_FUNC_skeymgmt_free                 OSSL_FUNC_SKEYMGMT_FREE

        OSSL_FUNC_skeymgmt_import               OSSL_FUNC_SKEYMGMT_IMPORT
        OSSL_FUNC_skeymgmt_export               OSSL_FUNC_SKEYMGMT_EXPORT

        OSSL_FUNC_skeymgmt_generate             OSSL_FUNC_SKEYMGMT_GENERATE

        OSSL_FUNC_skeymgmt_get_key_id           OSSL_FUNC_SKEYMGMT_GET_KEY_ID
        OSSL_FUNC_skeymgmt_imp_settable_params  OSSL_FUNC_SKEYMGMT_IMP_SETTABLE_PARAMS
        OSSL_FUNC_skeymgmt_gen_settable_params  OSSL_FUNC_SKEYMGMT_GEN_SETTABLE_PARAMS

       The SKEYMGMT management is inspired by KEYMGMT but is simpler.

   <b>Key</b> <b>Objects</b>
       A key object is a collection of data for an symmetric key, and is represented as <u>keydata</u> in this manual.

       The exact contents of a key object are defined by the provider, and it is assumed that different
       operations in one and the same provider use the exact same structure to represent this collection of
       data, so that for example, a key object that has been created using the SKEYMGMT interface can be passed
       as is to other algorithms from the same provider operations, such as <b>OSSL_FUNC_mac_init_opaque()</b> (see
       <b><a href="../man7/provider-mac.7.html">provider-mac</a></b>(7)).

       With the export SKEYMGMT function, it's possible to select a specific subset of data to handle, governed
       by the bits in a <u>selection</u> indicator.  The bits are:

       <b>OSSL_SKEYMGMT_SELECT_SECRET_KEY</b>
           Indicating that the secret key raw bytes in a key object should be included.

       <b>OSSL_SKEYMGMT_SELECT_PARAMETERS</b>
           Indicating that the parameters in a key object should be included.

       Combined selector bits are also defined for easier use:

       <b>OSSL_SKEYMGMT_SELECT_ALL</b>
           Indicating that everything in a key object should be included.

       The exact interpretation of those bits or how they combine is left to each function where you can specify
       a selector.

   <b>Destructing</b> <b>Function</b>
       <b>OSSL_FUNC_skeymgmt_free()</b> should free the passed <u>keydata</u>.

   <b>Key</b> <b>Object</b> <b>Import</b> <b>and</b> <b>Export</b> <b>Functions</b>
       <b>OSSL_FUNC_skeymgmt_import()</b>  should  import  data  into  <u>keydata</u> with values taken from the <b><a href="../man3/OSSL_PARAM.3.html">OSSL_PARAM</a></b>(3)
       array <u>params</u>. It allocates the <u>keydata</u> object (there is no separate allocation function).

       <b>OSSL_FUNC_skeymgmt_imp_settable_params()</b> returns a list  of  parameters  that  can  be  provided  to  the
       <b>OSSL_FUNC_skeymgmt_import()</b> function.

       <b>OSSL_FUNC_skeymgmt_export()</b>  should  extract  values  indicated  by  <u>selection</u>  from  <u>keydata</u>,  create an
       <b><a href="../man3/OSSL_PARAM.3.html">OSSL_PARAM</a></b>(3) array with them and call <u>param_cb</u> with that array as well as the given <u>cbarg</u>.   The  passed
       <b><a href="../man3/OSSL_PARAM.3.html">OSSL_PARAM</a></b>(3) array is transient and is freed upon the return from <u>param_cb</u>.

   <b>Key</b> <b>Object</b> <b>Generation</b> <b>Functions</b>
       <b>OSSL_FUNC_skeymgmt_generate()</b>  creates  a  new  key  according to the values taken from the <b><a href="../man3/OSSL_PARAM.3.html">OSSL_PARAM</a></b>(3)
       array <u>params</u>. It allocates the <u>keydata</u> object.

       <b>OSSL_FUNC_skeymgmt_gen_settable_params()</b> returns a list  of  parameters  that  can  be  provided  to  the
       <b>OSSL_FUNC_skeymgmt_generate()</b> function.

   <b>Key</b> <b>Object</b> <b>Information</b> <b>functions</b>
       <b>OSSL_FUNC_skeymgmt_get_key_id()</b>  returns  a  NUL-terminated  string  identifying  the particular key. The
       returned string will be freed by a call to <b>EVP_SKEY_free()</b> so callers need to copy it themselves if  they
       want  to preserve the value past the key lifetime.  The purpose of this function is providing a printable
       string that can help users to access the specific key.  The content of this string is provider-specific.

   <b>Common</b> <b>Import</b> <b>and</b> <b>Export</b> <b>Parameters</b>
       See <b><a href="../man3/OSSL_PARAM.3.html">OSSL_PARAM</a></b>(3) for further details on the parameters structure.

       Common information parameters currently recognised by built-in skeymgmt algorithms are as follows:

       "raw-bytes" (<b>SKEY_PARAM_RAW_BYTES</b>) &lt;octet string&gt;
           The value represents symmetric key as a byte array.

       "key-length" (<b>SKEY_PARAM_KEY_LENGTH</b>) &lt;integer&gt;
           The value is the byte length of the given key.

</pre><h4><b>RETURN</b> <b>VALUES</b></h4><pre>
       <b>OSSL_FUNC_skeymgmt_import()</b> and <b>OSSL_FUNC_skeymgmt_generate()</b> return a pointer to an allocated object  on
       success and NULL on error.

       <b>OSSL_FUNC_skeymgmt_export()</b> returns 1 for success or 0 on error.

       <b>OSSL_FUNC_skeymgmt_get_key_id()</b> returns a pointer to a 0-terminated string or NULL.

       <b>OSSL_FUNC_skeymgmt_gen_settable_params()</b>  and  <b>OSSL_FUNC_skeymgmt_imp_settable_params()</b> return references
       to an array of <b>OSSL_PARAM</b> which can be NULL if there are no settable parameters.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man7/provider.7.html">provider</a></b>(7), <b><a href="../man3/EVP_SKEY.3.html">EVP_SKEY</a></b>(3), <b><a href="../man3/EVP_KEYMGMT.3.html">EVP_KEYMGMT</a></b>(3)

</pre><h4><b>HISTORY</b></h4><pre>
       The SKEYMGMT interface was introduced in OpenSSL 3.5.

</pre><h4><b>COPYRIGHT</b></h4><pre>
       Copyright 2024-2025 The OpenSSL Project Authors. All Rights Reserved.

       Licensed under the Apache License 2.0 (the "License").  You may not use this file  except  in  compliance
       with  the  License.   You  can  obtain  a  copy  in  the  file  LICENSE  in the source distribution or at
       &lt;https://www.openssl.org/source/license.html&gt;.

3.5.0                                              2025-06-04                            <u><a href="../man7SSL/PROVIDER-SKEYMGMT.7SSL.html">PROVIDER-SKEYMGMT</a></u>(7SSL)
</pre>
 </div>
</div></section>
</div>
</body>
</html>