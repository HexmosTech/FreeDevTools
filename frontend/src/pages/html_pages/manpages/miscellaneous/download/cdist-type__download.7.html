<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>cdist-type__download - Download a file</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/cdist">cdist_7.0.0-5_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       cdist-type__download - Download a file

</pre><h4><b>DESCRIPTION</b></h4><pre>
       By default type will try to use <b>curl</b>, <b>fetch</b> or <b>wget</b>.  If download happens in target (see <b>--download</b>) then
       type will fallback to (and install) <b>wget</b>.

       If  download  happens in local machine, then environment variables like <b>{http,https,ftp}_proxy</b> etc can be
       used on cdist execution (<b>http_proxy=foo</b> <b>cdist</b> <b>config</b> <b>...</b>).

       To change downloaded file's owner, group or  permissions,  use  <b>require='__download/path/to/file'</b>  <b>__file</b>
       <b>...</b>.

</pre><h4><b>REQUIRED</b> <b>PARAMETERS</b></h4><pre>
       <b>url</b>    File's URL.

</pre><h4><b>OPTIONAL</b> <b>PARAMETERS</b></h4><pre>
       <b>destination</b>
              Downloaded file's destination in target. If unset, <b>$__object_id</b> is used.

       <b>sum</b>    Supported formats: <b>cksum</b> output without file name, MD5, SHA1 and SHA256.

              Type  tries  to  detect hash format with regexes, but prefixes <b>cksum:</b>, <b>md5:</b>, <b>sha1:</b> and <b>sha256:</b> are
              also supported.

              Checksum have two purposes - state check and  post-download  verification.   In  state  check,  if
              destination  checksum  mismatches,  then  content  of URL will be downloaded to temporary file. If
              downloaded temporary file's checksum matches, then it will be moved to destination (overwritten).

              For local downloads it is expected that usable utilities for checksum  calculation  exist  in  the
              system.

       <b>download</b>
              If <b>local</b> (default), then file is downloaded to local storage and copied to target host. If <b>remote</b>,
              then download happens in target.

              For local downloads it is expected that usable utilities for downloading exist in the system. Type
              will try to use <b>curl</b>, <b>fetch</b> or <b>wget</b>.

       <b>cmd-get</b>
              Command  used  for downloading.  Command must output to <b>stdout</b>.  Parameter will be used for <b>printf</b>
              and must include only one format specification <b>%s</b> which will become URL.  For example: <b>wget</b>  <b>-O</b>  <b>-</b>
              <b>'%s'</b>.

       <b>cmd-sum</b>
              Command  used for checksum calculation.  Command output and <b>--sum</b> parameter must match.  Parameter
              will be used for <b>printf</b> and must include only  one  format  specification  <b>%s</b>  which  will  become
              destination.  For example: <b>md5sum</b> <b>'%s'</b> <b>|</b> <b>awk</b> <b>'{print</b> <b>$1}'</b>.

       <b>onchange</b>
              Execute this command after download.

</pre><h4><b>EXAMPLES</b></h4><pre>
          __directory /opt/cpma

          require='__directory/opt/cpma' \
              __download /opt/cpma/cnq3.zip \
                  --url https://cdn.playmorepromode.com/files/cnq3/cnq3-1.51.zip \
                  --sum 46da3021ca9eace277115ec9106c5b46

          require='__download/opt/cpma/cnq3.zip' \
              __unpack /opt/cpma/cnq3.zip \
                  --backup-destination \
                  --preserve-archive \
                  --destination /opt/cpma/server

</pre><h4><b>AUTHORS</b></h4><pre>
       Ander Punnar &lt;ander-at-kvlt-dot-ee&gt;

</pre><h4><b>COPYING</b></h4><pre>
       Copyright  (C)  2021  Ander  Punnar.  You can redistribute it and/or modify it under the terms of the GNU
       General Public License as published by the Free Software Foundation, either version 3 of the License,  or
       (at your option) any later version.

</pre><h4><b>COPYRIGHT</b></h4><pre>
       ungleich GmbH 2021

7.0.0                                             Sep 11, 2024                           <u>CDIST-TYPE</u><b>__</b><u><a href="../man7/DOWNLOAD.7.html">DOWNLOAD</a></u>(7)
</pre>
 </div>
</div></section>
</div>
</body>
</html>