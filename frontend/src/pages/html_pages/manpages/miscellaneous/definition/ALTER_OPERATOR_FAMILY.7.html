<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ALTER_OPERATOR_FAMILY - change the definition of an operator family</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/postgresql-client-17">postgresql-client-17_17.5-1build1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       ALTER_OPERATOR_FAMILY - change the definition of an operator family

</pre><h4><b>SYNOPSIS</b></h4><pre>
       ALTER OPERATOR FAMILY <u>name</u> USING <u>index_method</u> ADD
         {  OPERATOR <u>strategy_number</u> <u>operator_name</u> ( <u>op_type</u>, <u>op_type</u> )
                     [ FOR SEARCH | FOR ORDER BY <u>sort_family_name</u> ]
          | FUNCTION <u>support_number</u> [ ( <u>op_type</u> [ , <u>op_type</u> ] ) ]
                     <u>function_name</u> [ ( <u>argument_type</u> [, ...] ) ]
         } [, ... ]

       ALTER OPERATOR FAMILY <u>name</u> USING <u>index_method</u> DROP
         {  OPERATOR <u>strategy_number</u> ( <u>op_type</u> [ , <u>op_type</u> ] )
          | FUNCTION <u>support_number</u> ( <u>op_type</u> [ , <u>op_type</u> ] )
         } [, ... ]

       ALTER OPERATOR FAMILY <u>name</u> USING <u>index_method</u>
           RENAME TO <u>new_name</u>

       ALTER OPERATOR FAMILY <u>name</u> USING <u>index_method</u>
           OWNER TO { <u>new_owner</u> | CURRENT_ROLE | CURRENT_USER | SESSION_USER }

       ALTER OPERATOR FAMILY <u>name</u> USING <u>index_method</u>
           SET SCHEMA <u>new_schema</u>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>ALTER</b> <b>OPERATOR</b> <b>FAMILY</b> changes the definition of an operator family. You can add operators and support
       functions to the family, remove them from the family, or change the family's name or owner.

       When operators and support functions are added to a family with <b>ALTER</b> <b>OPERATOR</b> <b>FAMILY</b>, they are not part
       of any specific operator class within the family, but are just “loose” within the family. This indicates
       that these operators and functions are compatible with the family's semantics, but are not required for
       correct functioning of any specific index. (Operators and functions that are so required should be
       declared as part of an operator class, instead; see CREATE OPERATOR CLASS (<b><a href="../man7/CREATE_OPERATOR_CLASS.7.html">CREATE_OPERATOR_CLASS</a></b>(7)).)
       PostgreSQL will allow loose members of a family to be dropped from the family at any time, but members of
       an operator class cannot be dropped without dropping the whole class and any indexes that depend on it.
       Typically, single-data-type operators and functions are part of operator classes because they are needed
       to support an index on that specific data type, while cross-data-type operators and functions are made
       loose members of the family.

       You must be a superuser to use <b>ALTER</b> <b>OPERATOR</b> <b>FAMILY</b>. (This restriction is made because an erroneous
       operator family definition could confuse or even crash the server.)

       <b>ALTER</b> <b>OPERATOR</b> <b>FAMILY</b> does not presently check whether the operator family definition includes all the
       operators and functions required by the index method, nor whether the operators and functions form a
       self-consistent set. It is the user's responsibility to define a valid operator family.

       Refer to Section 36.16 for further information.

</pre><h4><b>PARAMETERS</b></h4><pre>
       <u>name</u>
           The name (optionally schema-qualified) of an existing operator family.

       <u>index_method</u>
           The name of the index method this operator family is for.

       <u>strategy_number</u>
           The index method's strategy number for an operator associated with the operator family.

       <u>operator_name</u>
           The name (optionally schema-qualified) of an operator associated with the operator family.

       <u>op_type</u>
           In an OPERATOR clause, the operand data type(s) of the operator, or NONE to signify a prefix
           operator. Unlike the comparable syntax in <b>CREATE</b> <b>OPERATOR</b> <b>CLASS</b>, the operand data types must always
           be specified.

           In an ADD FUNCTION clause, the operand data type(s) the function is intended to support, if different
           from the input data type(s) of the function. For B-tree comparison functions and hash functions it is
           not necessary to specify <u>op_type</u> since the function's input data type(s) are always the correct ones
           to use. For B-tree sort support functions, B-Tree equal image functions, and all functions in GiST,
           SP-GiST and GIN operator classes, it is necessary to specify the operand data type(s) the function is
           to be used with.

           In a DROP FUNCTION clause, the operand data type(s) the function is intended to support must be
           specified.

       <u>sort_family_name</u>
           The name (optionally schema-qualified) of an existing btree operator family that describes the sort
           ordering associated with an ordering operator.

           If neither FOR SEARCH nor FOR ORDER BY is specified, FOR SEARCH is the default.

       <u>support_number</u>
           The index method's support function number for a function associated with the operator family.

       <u>function_name</u>
           The name (optionally schema-qualified) of a function that is an index method support function for the
           operator family. If no argument list is specified, the name must be unique in its schema.

       <u>argument_type</u>
           The parameter data type(s) of the function.

       <u>new_name</u>
           The new name of the operator family.

       <u>new_owner</u>
           The new owner of the operator family.

       <u>new_schema</u>
           The new schema for the operator family.

       The OPERATOR and FUNCTION clauses can appear in any order.

</pre><h4><b>NOTES</b></h4><pre>
       Notice that the DROP syntax only specifies the “slot” in the operator family, by strategy or support
       number and input data type(s). The name of the operator or function occupying the slot is not mentioned.
       Also, for DROP FUNCTION the type(s) to specify are the input data type(s) the function is intended to
       support; for GiST, SP-GiST and GIN indexes this might have nothing to do with the actual input argument
       types of the function.

       Because the index machinery does not check access permissions on functions before using them, including a
       function or operator in an operator family is tantamount to granting public execute permission on it.
       This is usually not an issue for the sorts of functions that are useful in an operator family.

       The operators should not be defined by SQL functions. An SQL function is likely to be inlined into the
       calling query, which will prevent the optimizer from recognizing that the query matches an index.

       Before PostgreSQL 8.4, the OPERATOR clause could include a RECHECK option. This is no longer supported
       because whether an index operator is “lossy” is now determined on-the-fly at run time. This allows
       efficient handling of cases where an operator might or might not be lossy.

</pre><h4><b>EXAMPLES</b></h4><pre>
       The following example command adds cross-data-type operators and support functions to an operator family
       that already contains B-tree operator classes for data types int4 and int2.

           ALTER OPERATOR FAMILY integer_ops USING btree ADD

             -- int4 vs int2
             OPERATOR 1 &lt; (int4, int2) ,
             OPERATOR 2 &lt;= (int4, int2) ,
             OPERATOR 3 = (int4, int2) ,
             OPERATOR 4 &gt;= (int4, int2) ,
             OPERATOR 5 &gt; (int4, int2) ,
             FUNCTION 1 btint42cmp(int4, int2) ,

             -- int2 vs int4
             OPERATOR 1 &lt; (int2, int4) ,
             OPERATOR 2 &lt;= (int2, int4) ,
             OPERATOR 3 = (int2, int4) ,
             OPERATOR 4 &gt;= (int2, int4) ,
             OPERATOR 5 &gt; (int2, int4) ,
             FUNCTION 1 btint24cmp(int2, int4) ;

       To remove these entries again:

           ALTER OPERATOR FAMILY integer_ops USING btree DROP

             -- int4 vs int2
             OPERATOR 1 (int4, int2) ,
             OPERATOR 2 (int4, int2) ,
             OPERATOR 3 (int4, int2) ,
             OPERATOR 4 (int4, int2) ,
             OPERATOR 5 (int4, int2) ,
             FUNCTION 1 (int4, int2) ,

             -- int2 vs int4
             OPERATOR 1 (int2, int4) ,
             OPERATOR 2 (int2, int4) ,
             OPERATOR 3 (int2, int4) ,
             OPERATOR 4 (int2, int4) ,
             OPERATOR 5 (int2, int4) ,
             FUNCTION 1 (int2, int4) ;

</pre><h4><b>COMPATIBILITY</b></h4><pre>
       There is no <b>ALTER</b> <b>OPERATOR</b> <b>FAMILY</b> statement in the SQL standard.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       CREATE OPERATOR FAMILY (<b><a href="../man7/CREATE_OPERATOR_FAMILY.7.html">CREATE_OPERATOR_FAMILY</a></b>(7)), DROP OPERATOR FAMILY (<b><a href="../man7/DROP_OPERATOR_FAMILY.7.html">DROP_OPERATOR_FAMILY</a></b>(7)),
       CREATE OPERATOR CLASS (<b><a href="../man7/CREATE_OPERATOR_CLASS.7.html">CREATE_OPERATOR_CLASS</a></b>(7)), ALTER OPERATOR CLASS (<b><a href="../man7/ALTER_OPERATOR_CLASS.7.html">ALTER_OPERATOR_CLASS</a></b>(7)), DROP
       OPERATOR CLASS (<b><a href="../man7/DROP_OPERATOR_CLASS.7.html">DROP_OPERATOR_CLASS</a></b>(7))

PostgreSQL 17.5                                       2025                              <u>ALTER</u> <u>OPERATOR</u> <u><a href="../man7/FAMILY.7.html">FAMILY</a></u>(7)
</pre>
 </div>
</div></section>
</div>
</body>
</html>