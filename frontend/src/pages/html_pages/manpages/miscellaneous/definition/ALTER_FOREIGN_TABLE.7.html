<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ALTER_FOREIGN_TABLE - change the definition of a foreign table</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/postgresql-client-17">postgresql-client-17_17.5-1build1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       ALTER_FOREIGN_TABLE - change the definition of a foreign table

</pre><h4><b>SYNOPSIS</b></h4><pre>
       ALTER FOREIGN TABLE [ IF EXISTS ] [ ONLY ] <u>name</u> [ * ]
           <u>action</u> [, ... ]
       ALTER FOREIGN TABLE [ IF EXISTS ] [ ONLY ] <u>name</u> [ * ]
           RENAME [ COLUMN ] <u>column_name</u> TO <u>new_column_name</u>
       ALTER FOREIGN TABLE [ IF EXISTS ] <u>name</u>
           RENAME TO <u>new_name</u>
       ALTER FOREIGN TABLE [ IF EXISTS ] <u>name</u>
           SET SCHEMA <u>new_schema</u>

       where <u>action</u> is one of:

           ADD [ COLUMN ] <u>column_name</u> <u>data_type</u> [ COLLATE <u>collation</u> ] [ <u>column_constraint</u> [ ... ] ]
           DROP [ COLUMN ] [ IF EXISTS ] <u>column_name</u> [ RESTRICT | CASCADE ]
           ALTER [ COLUMN ] <u>column_name</u> [ SET DATA ] TYPE <u>data_type</u> [ COLLATE <u>collation</u> ]
           ALTER [ COLUMN ] <u>column_name</u> SET DEFAULT <u>expression</u>
           ALTER [ COLUMN ] <u>column_name</u> DROP DEFAULT
           ALTER [ COLUMN ] <u>column_name</u> { SET | DROP } NOT NULL
           ALTER [ COLUMN ] <u>column_name</u> SET STATISTICS <u>integer</u>
           ALTER [ COLUMN ] <u>column_name</u> SET ( <u>attribute_option</u> = <u>value</u> [, ... ] )
           ALTER [ COLUMN ] <u>column_name</u> RESET ( <u>attribute_option</u> [, ... ] )
           ALTER [ COLUMN ] <u>column_name</u> SET STORAGE { PLAIN | EXTERNAL | EXTENDED | MAIN | DEFAULT }
           ALTER [ COLUMN ] <u>column_name</u> OPTIONS ( [ ADD | SET | DROP ] <u>option</u> ['<u>value</u>'] [, ... ])
           ADD <u>table_constraint</u> [ NOT VALID ]
           VALIDATE CONSTRAINT <u>constraint_name</u>
           DROP CONSTRAINT [ IF EXISTS ]  <u>constraint_name</u> [ RESTRICT | CASCADE ]
           DISABLE TRIGGER [ <u>trigger_name</u> | ALL | USER ]
           ENABLE TRIGGER [ <u>trigger_name</u> | ALL | USER ]
           ENABLE REPLICA TRIGGER <u>trigger_name</u>
           ENABLE ALWAYS TRIGGER <u>trigger_name</u>
           SET WITHOUT OIDS
           INHERIT <u>parent_table</u>
           NO INHERIT <u>parent_table</u>
           OWNER TO { <u>new_owner</u> | CURRENT_ROLE | CURRENT_USER | SESSION_USER }
           OPTIONS ( [ ADD | SET | DROP ] <u>option</u> ['<u>value</u>'] [, ... ])

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>ALTER</b> <b>FOREIGN</b> <b>TABLE</b> changes the definition of an existing foreign table. There are several subforms:

       ADD COLUMN
           This form adds a new column to the foreign table, using the same syntax as <b>CREATE</b> <b>FOREIGN</b> <b>TABLE</b>.
           Unlike the case when adding a column to a regular table, nothing happens to the underlying storage:
           this action simply declares that some new column is now accessible through the foreign table.

       DROP COLUMN [ IF EXISTS ]
           This form drops a column from a foreign table. You will need to say CASCADE if anything outside the
           table depends on the column; for example, views. If IF EXISTS is specified and the column does not
           exist, no error is thrown. In this case a notice is issued instead.

       SET DATA TYPE
           This form changes the type of a column of a foreign table. Again, this has no effect on any
           underlying storage: this action simply changes the type that PostgreSQL believes the column to have.

       SET/DROP DEFAULT
           These forms set or remove the default value for a column. Default values only apply in subsequent
           <b>INSERT</b> or <b>UPDATE</b> commands; they do not cause rows already in the table to change.

       SET/DROP NOT NULL
           Mark a column as allowing, or not allowing, null values.

       SET STATISTICS
           This form sets the per-column statistics-gathering target for subsequent <b>ANALYZE</b> operations. See the
           similar form of <b>ALTER</b> <b>TABLE</b> for more details.

       SET ( <u>attribute_option</u> = <u>value</u> [, ... ] )
       RESET ( <u>attribute_option</u> [, ... ] )
           This form sets or resets per-attribute options. See the similar form of <b>ALTER</b> <b>TABLE</b> for more details.

       SET STORAGE
           This form sets the storage mode for a column. See the similar form of <b>ALTER</b> <b>TABLE</b> for more details.
           Note that the storage mode has no effect unless the table's foreign-data wrapper chooses to pay
           attention to it.

       ADD <u>table_constraint</u> [ NOT VALID ]
           This form adds a new constraint to a foreign table, using the same syntax as <b>CREATE</b> <b>FOREIGN</b> <b>TABLE</b>.
           Currently only CHECK constraints are supported.

           Unlike the case when adding a constraint to a regular table, nothing is done to verify the constraint
           is correct; rather, this action simply declares that some new condition should be assumed to hold for
           all rows in the foreign table. (See the discussion in <b>CREATE</b> <b>FOREIGN</b> <b>TABLE</b>.) If the constraint is
           marked NOT VALID, then it isn't assumed to hold, but is only recorded for possible future use.

       VALIDATE CONSTRAINT
           This form marks as valid a constraint that was previously marked as NOT VALID. No action is taken to
           verify the constraint, but future queries will assume that it holds.

       DROP CONSTRAINT [ IF EXISTS ]
           This form drops the specified constraint on a foreign table. If IF EXISTS is specified and the
           constraint does not exist, no error is thrown. In this case a notice is issued instead.

       DISABLE/ENABLE [ REPLICA | ALWAYS ] TRIGGER
           These forms configure the firing of trigger(s) belonging to the foreign table. See the similar form
           of <b>ALTER</b> <b>TABLE</b> for more details.

       SET WITHOUT OIDS
           Backward compatibility syntax for removing the oid system column. As oid system columns cannot be
           added anymore, this never has an effect.

       INHERIT <u>parent_table</u>
           This form adds the target foreign table as a new child of the specified parent table. See the similar
           form of <b>ALTER</b> <b>TABLE</b> for more details.

       NO INHERIT <u>parent_table</u>
           This form removes the target foreign table from the list of children of the specified parent table.

       OWNER
           This form changes the owner of the foreign table to the specified user.

       OPTIONS ( [ ADD | SET | DROP ] <u>option</u> ['<u>value</u>'] [, ... ] )
           Change options for the foreign table or one of its columns.  ADD, SET, and DROP specify the action to
           be performed.  ADD is assumed if no operation is explicitly specified. Duplicate option names are not
           allowed (although it's OK for a table option and a column option to have the same name). Option names
           and values are also validated using the foreign data wrapper library.

       RENAME
           The RENAME forms change the name of a foreign table or the name of an individual column in a foreign
           table.

       SET SCHEMA
           This form moves the foreign table into another schema.

       All the actions except RENAME and SET SCHEMA can be combined into a list of multiple alterations to apply
       in parallel. For example, it is possible to add several columns and/or alter the type of several columns
       in a single command.

       If the command is written as ALTER FOREIGN TABLE IF EXISTS ...  and the foreign table does not exist, no
       error is thrown. A notice is issued in this case.

       You must own the table to use <b>ALTER</b> <b>FOREIGN</b> <b>TABLE</b>. To change the schema of a foreign table, you must also
       have CREATE privilege on the new schema. To alter the owner, you must be able to SET ROLE to the new
       owning role, and that role must have CREATE privilege on the table's schema. (These restrictions enforce
       that altering the owner doesn't do anything you couldn't do by dropping and recreating the table.
       However, a superuser can alter ownership of any table anyway.) To add a column or alter a column type,
       you must also have USAGE privilege on the data type.

</pre><h4><b>PARAMETERS</b></h4><pre>
       <u>name</u>
           The name (possibly schema-qualified) of an existing foreign table to alter. If ONLY is specified
           before the table name, only that table is altered. If ONLY is not specified, the table and all its
           descendant tables (if any) are altered. Optionally, * can be specified after the table name to
           explicitly indicate that descendant tables are included.

       <u>column_name</u>
           Name of a new or existing column.

       <u>new_column_name</u>
           New name for an existing column.

       <u>new_name</u>
           New name for the table.

       <u>data_type</u>
           Data type of the new column, or new data type for an existing column.

       <u>table_constraint</u>
           New table constraint for the foreign table.

       <u>constraint_name</u>
           Name of an existing constraint to drop.

       CASCADE
           Automatically drop objects that depend on the dropped column or constraint (for example, views
           referencing the column), and in turn all objects that depend on those objects (see Section 5.15).

       RESTRICT
           Refuse to drop the column or constraint if there are any dependent objects. This is the default
           behavior.

       <u>trigger_name</u>
           Name of a single trigger to disable or enable.

       ALL
           Disable or enable all triggers belonging to the foreign table. (This requires superuser privilege if
           any of the triggers are internally generated triggers. The core system does not add such triggers to
           foreign tables, but add-on code could do so.)

       USER
           Disable or enable all triggers belonging to the foreign table except for internally generated
           triggers.

       <u>parent_table</u>
           A parent table to associate or de-associate with this foreign table.

       <u>new_owner</u>
           The user name of the new owner of the table.

       <u>new_schema</u>
           The name of the schema to which the table will be moved.

</pre><h4><b>NOTES</b></h4><pre>
       The key word COLUMN is noise and can be omitted.

       Consistency with the foreign server is not checked when a column is added or removed with ADD COLUMN or
       DROP COLUMN, a NOT NULL or CHECK constraint is added, or a column type is changed with SET DATA TYPE. It
       is the user's responsibility to ensure that the table definition matches the remote side.

       Refer to <b>CREATE</b> <b>FOREIGN</b> <b>TABLE</b> for a further description of valid parameters.

</pre><h4><b>EXAMPLES</b></h4><pre>
       To mark a column as not-null:

           ALTER FOREIGN TABLE distributors ALTER COLUMN street SET NOT NULL;

       To change options of a foreign table:

           ALTER FOREIGN TABLE myschema.distributors OPTIONS (ADD opt1 'value', SET opt2 'value2', DROP opt3);

</pre><h4><b>COMPATIBILITY</b></h4><pre>
       The forms ADD, DROP, and SET DATA TYPE conform with the SQL standard. The other forms are PostgreSQL
       extensions of the SQL standard. Also, the ability to specify more than one manipulation in a single <b>ALTER</b>
       <b>FOREIGN</b> <b>TABLE</b> command is an extension.

       <b>ALTER</b> <b>FOREIGN</b> <b>TABLE</b> <b>DROP</b> <b>COLUMN</b> can be used to drop the only column of a foreign table, leaving a
       zero-column table. This is an extension of SQL, which disallows zero-column foreign tables.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       CREATE FOREIGN TABLE (<b><a href="../man7/CREATE_FOREIGN_TABLE.7.html">CREATE_FOREIGN_TABLE</a></b>(7)), DROP FOREIGN TABLE (<b><a href="../man7/DROP_FOREIGN_TABLE.7.html">DROP_FOREIGN_TABLE</a></b>(7))

PostgreSQL 17.5                                       2025                                <u>ALTER</u> <u>FOREIGN</u> <u><a href="../man7/TABLE.7.html">TABLE</a></u>(7)
</pre>
 </div>
</div></section>
</div>
</body>
</html>