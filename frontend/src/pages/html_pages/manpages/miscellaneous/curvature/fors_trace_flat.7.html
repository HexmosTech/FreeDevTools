<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>fors_trace_flat - Determine spectral curvature model</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/noble/+package/cpl-plugin-fors-doc">cpl-plugin-fors-doc_5.5.7+dfsg-2build1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       fors_trace_flat - Determine spectral curvature model

</pre><h4><b>SYNOPSIS</b></h4><pre>
       esorex <b>fors_trace_flat</b> [OPTIONS] FILE.sof

</pre><h4><b>DESCRIPTION</b></h4><pre>
       This  recipe  is  used  to  trace the edges of MOS/MXU flat field slit spectra and determine the spectral
       curvature solution. The input master flat field image, product of the recipe fors_flat, is expected to be
       oriented with horizontal dispersion direction and red wavelengths on the right side.

       The input slits location table should be the product of the recipe fors_detect_spectra.

       The input master flat image is shifted one pixel down and is subtracted  from  the  original  image.  The
       result  is  a vertical gradient map. Next, the negative values are forced positive, to obtain an absolute
       gradient map. The map is passed with a horizontal median filter, and after that the  gradient  peaks  are
       traced  starting  from the slits positions listed in the input slits location table. The number of pixels
       to the left and to the right of the reference pixel is trivially  derived  from  the  specified  spectral
       range and spectral dispersion.

       The  output  spectral  curvature  table  contains the coefficients of the polynomial fitting of the found
       traces, while the output trace table contains the traced spectral edges positions in CCD (Y)  coordinates
       for each spectrum, and their comparison with their modeling. A spatial map is also created, where to each
       CCD  pixel  is  assigned  the value of the spatial coordinate along the slit (in pixel). For more details
       please refer to the FORS Pipeline UserÂ´s Manual.

       Note that specifying an input GRISM_TABLE will set some of the recipe configuration parameters to default
       values valid for a particular grism.

       Again, see the pipeline manual for more details.

       In the table below the MXU acronym can be alternatively read as MOS.

       Input files:

         DO category:               Type:       Explanation:         Required:
         MASTER_SCREEN_FLAT_MXU     Calib       Master flat frame       Y
         SLIT_LOCATION_DETECT_MXU   Calib       Slits location          Y
         GRISM_TABLE                Calib       Grism table             .

       Output files:

         DO category:               Data type:  Explanation:
         CURV_TRACES_MXU            FITS table  Flat field tracings
         CURV_COEFF_MXU             FITS table  Spectral curvature table
         SPATIAL_MAP_MXU            FITS image  Map of spatial coordinate

</pre><h4><b>OPTIONS</b></h4><pre>
       <b>--dispersion</b> <u>&lt;float&gt;</u>
              Expected spectral dispersion (Angstrom/pixel) (float; default: 0.0). The full name of this  option
              for the EsoRex configuration file is <b>fors.fors_trace_flat.dispersion</b> [default = <u>0.0</u>].

       <b>--startwavelength</b> <u>&lt;float&gt;</u>
              Start  wavelength  in  spectral extraction (float; default: 0.0). The full name of this option for
              the EsoRex configuration file is <b>fors.fors_trace_flat.startwavelength</b> [default = <u>0.0</u>].

       <b>--endwavelength</b> <u>&lt;float&gt;</u>
              End wavelength in spectral extraction (float; default: 0.0). The full name of this option for  the
              EsoRex configuration file is <b>fors.fors_trace_flat.endwavelength</b> [default = <u>0.0</u>].

       <b>--cdegree</b> <u>&lt;int&gt;</u>
              Degree  of  spectral  curvature polynomial (int; default: 0). The full name of this option for the
              EsoRex configuration file is <b>fors.fors_trace_flat.cdegree</b> [default = <u>0</u>].

       <b>--cmode</b> <u>&lt;int&gt;</u>
              Interpolation mode of curvature solution applicable to MOS-like data (0 = no  interpolation,  1  =
              fill  gaps,  2  =  global  model)  (int;  default: 1). The full name of this option for the EsoRex
              configuration file is <b>fors.fors_trace_flat.cmode</b> [default = <u>1</u>].

       Note that it is possible to create a configuration file containing these  options,  along  with  suitable
       default values. Please refer to the details provided by the 'esorex --help' command.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       The full documentation for the fors pipeline can be downloaded as a PDF file using the following URL:

              <b><a href="ftp://ftp.eso.org/pub/dfs/pipelines/fors/fors-pipeline-manual-4.9.pdf">ftp://ftp.eso.org/pub/dfs/pipelines/fors/fors-pipeline-manual-4.9.pdf</a></b>

       An    overview    over    the    existing    ESO    pipelines    can   be   found   on   the   web   page
       <b>https://www.eso.org/sci/software/pipelines/</b>.

       Basic documentation about the EsoRex program can be found at the esorex (1) man page.

       It  is  possible  to  call   the   pipelines   from   python   using   the   python-cpl   package.    See
       <b>https://packages.python.org/python-cpl/index.html</b> for further information.

       The  other  recipes  of  the  fors  pipeline  are <u><a href="../man7/fors_align_sky.7.html">fors_align_sky</a></u>(7), <u><a href="../man7/fors_align_sky_lss.7.html">fors_align_sky_lss</a></u>(7), <u><a href="../man7/fors_bias.7.html">fors_bias</a></u>(7),
       <u><a href="../man7/fors_calib.7.html">fors_calib</a></u>(7),    <u><a href="../man7/fors_config.7.html">fors_config</a></u>(7),    <u><a href="../man7/fors_dark.7.html">fors_dark</a></u>(7),    <u><a href="../man7/fors_detect_objects.7.html">fors_detect_objects</a></u>(7),     <u><a href="../man7/fors_detect_spectra.7.html">fors_detect_spectra</a></u>(7),
       <u><a href="../man7/fors_extract.7.html">fors_extract</a></u>(7),  <u><a href="../man7/fors_extract_objects.7.html">fors_extract_objects</a></u>(7), <u><a href="../man7/fors_extract_slits.7.html">fors_extract_slits</a></u>(7), <u><a href="../man7/fors_flatfield.7.html">fors_flatfield</a></u>(7), <u><a href="../man7/fors_img_science.7.html">fors_img_science</a></u>(7),
       <u><a href="../man7/fors_img_screen_flat.7.html">fors_img_screen_flat</a></u>(7),      <u><a href="../man7/fors_img_sky_flat.7.html">fors_img_sky_flat</a></u>(7),      <u><a href="../man7/fors_normalise_flat.7.html">fors_normalise_flat</a></u>(7),      <u><a href="../man7/fors_photometry.7.html">fors_photometry</a></u>(7),
       <u><a href="../man7/fors_pmos_calib.7.html">fors_pmos_calib</a></u>(7),  <u><a href="../man7/fors_pmos_extract.7.html">fors_pmos_extract</a></u>(7),  <u><a href="../man7/fors_pmos_science.7.html">fors_pmos_science</a></u>(7),  <u><a href="../man7/fors_remove_bias.7.html">fors_remove_bias</a></u>(7), <u><a href="../man7/fors_resample.7.html">fors_resample</a></u>(7),
       <u><a href="../man7/fors_science.7.html">fors_science</a></u>(7),  <u><a href="../man7/fors_spec_mflat.7.html">fors_spec_mflat</a></u>(7),  <u><a href="../man7/fors_subtract_sky.7.html">fors_subtract_sky</a></u>(7),  <u><a href="../man7/fors_subtract_sky_lss.7.html">fors_subtract_sky_lss</a></u>(7),  <u><a href="../man7/fors_sumflux.7.html">fors_sumflux</a></u>(7),
       <u><a href="../man7/fors_wave_calib.7.html">fors_wave_calib</a></u>(7), <u><a href="../man7/fors_wave_calib_lss.7.html">fors_wave_calib_lss</a></u>(7), <u><a href="../man7/fors_zeropoint.7.html">fors_zeropoint</a></u>(7)

</pre><h4><b>VERSION</b></h4><pre>
       fors_trace_flat 5.5.7

</pre><h4><b>AUTHOR</b></h4><pre>
       Carlo Izzo &lt;<a href="mailto:usd-help@eso.org">usd-help@eso.org</a>&gt;

</pre><h4><b>BUG</b> <b>REPORTS</b></h4><pre>
       Please  report  any  problems  to  <a href="mailto:usd-help@eso.org">usd-help@eso.org</a>. Alternatively, you may send a report to the ESO User
       Support Department &lt;<a href="mailto:usd-help@eso.org">usd-help@eso.org</a>&gt;.

</pre><h4><b>LICENSE</b></h4><pre>
       This file is currently part of the FORS Instrument Pipeline Copyright  (C)  2002-2010  European  Southern
       Observatory

       This  program  is  free  software;  you  can  redistribute it and/or modify it under the terms of the GNU
       General Public License as published by the Free Software Foundation; either version 2 of the License,  or
       (at your option) any later version.

       This  program  is  distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even
       the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU  General  Public
       License for more details.

       You  should have received a copy of the GNU General Public License along with this program; if not, write
       to the Free Software Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA  02110-1301  USA

fors_trace_flat                                       5.5.7                                   <u><a href="../man7/FORS_TRACE_FLAT.7.html">FORS_TRACE_FLAT</a></u>(7)
</pre>
 </div>
</div></section>
</div>
</body>
</html>