<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>libpipewire-module-echo-cancel - Echo Cancel</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libpipewire-0.3-modules">libpipewire-0.3-modules_1.4.5-1ubuntu2_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       libpipewire-module-echo-cancel - Echo Cancel

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The echo-cancel module performs echo cancellation.

       The module creates virtual echo-cancel-capture source and echo-cancel-playback sink nodes and the
       associated streams.

       The echo-cancel module is mostly used in video or audio conference applications. When the other
       participants talk and the audio is going out to the speakers, the signal will be picked up again by the
       microphone and sent back to the other participants (along with your talking), resulting in an echo. This
       is annoying because the other participants will hear their own echo from you.

       Conceptually the echo-canceler is composed of 4 streams:

       .--------.     .---------.     .--------.     .----------.     .-------.
       |  mic   | --&gt; | capture | --&gt; |        | --&gt; |  source  | --&gt; |  app  |
                                      | cancel |
       .--------.     .---------.     |        |     .----------.     .---------.
       |  app   | --&gt; |  sink   | --&gt; |        | --&gt; | playback | --&gt; | speaker |

       • A capture stream that captures audio from a microphone.

       • A  Sink  that takes the signal containing the data that should be canceled out from the capture stream.
         This is where the application (video conference application) send the audio  to  and  it  contains  the
         signal from the other participants that are speaking and that needs to be cancelled out.

       • A  playback  stream  that  just passes the signal from the Sink to the speaker. This is so that you can
         hear the other participants. It is also the signal that gets picked  up  by  the  microphone  and  that
         eventually needs to be removed again.

       • A  Source  that exposes the echo-canceled data captured from the capture stream. The data from the sink
         stream and capture stream are correlated and the signal from  the  sink  stream  is  removed  from  the
         capture stream data. This data then goes into the application (the conference application) and does not
         contain the echo from the other participants anymore.

</pre><h4><b>MODULE</b> <b>NAME</b></h4><pre>
       libpipewire-module-echo-cancel

</pre><h4><b>MODULE</b> <b>OPTIONS</b></h4><pre>
       Options specific to the behavior of this module

       • capture.props = {}: properties to be passed to the capture stream

       • source.props = {}: properties to be passed to the source stream

       • sink.props = {}: properties to be passed to the sink stream

       • playback.props = {}: properties to be passed to the playback stream

       • library.name  =  &lt;str&gt;: the echo cancellation library Currently supported: aec/libspa-aec-webrtc. Leave
         unset to use the default method (aec/libspa-aec-webrtc).

       • aec.args = &lt;str&gt;: arguments to pass to the echo cancellation method

       • monitor.mode: Instead of making a sink, make a stream that captures  from  the  monitor  ports  of  the
         default sink.

</pre><h4><b>GENERAL</b> <b>OPTIONS</b></h4><pre>
       Options with well-known behavior:

       • <b>audio.rate</b>

       • <b>audio.channels</b>

       • <b>audio.position</b>

       • <b>media.class</b>

       • <b>node.latency</b>

       • <b>node.name</b>

       • <b>node.description</b>

       • <b>node.group</b>

       • <b>node.link.group</b>

       • <b>node.virtual</b>

       • <b>node.latency</b>

       • <b>remote.name</b>

</pre><h4><b>EXAMPLE</b> <b>CONFIGURATION</b></h4><pre>
        # <a href="file:~/.config/pipewire/pipewire.conf.d/my-echo-cancel.conf">~/.config/pipewire/pipewire.conf.d/my-echo-cancel.conf</a>

        context.modules = [
         {   name = libpipewire-module-echo-cancel
             args = {
                 # library.name  = aec/libspa-aec-webrtc
                 # node.latency = 1024/48000
                 # monitor.mode = false
                 capture.props = {
                    node.name = "Echo Cancellation Capture"
                 }
                 source.props = {
                    node.name = "Echo Cancellation Source"
                 }
                 sink.props = {
                    node.name = "Echo Cancellation Sink"
                 }
                 playback.props = {
                    node.name = "Echo Cancellation Playback"
                 }
             }
         }
       ]

PipeWire                                              1.4.5                    <u><a href="../man7/libpipewire-module-echo-cancel.7.html">libpipewire-module-echo-cancel</a></u>(7)
</pre>
 </div>
</div></section>
</div>
</body>
</html>