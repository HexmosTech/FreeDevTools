<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>visir_util_detect_shift - 2012</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/noble/+package/cpl-plugin-visir-doc">cpl-plugin-visir-doc_4.4.2+dfsg-1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       visir_util_detect_shift - 2012

</pre><h4><b>SYNOPSIS</b></h4><pre>
       esorex <b>visir_util_detect_shift</b> [OPTIONS] FILE.sof

</pre><h4><b>DESCRIPTION</b></h4><pre>
       Detects beams in a background subtracted multi-beam image, determines the shifts between different images
       and their correlation. Images can be rejected if their correlation is bad.

       The  files  listed  in  the  Set  Of  Frames (sof-file) must be tagged: VISIR-chopnod-corrected-file.fits
       BKG_CORRECTED bad-pixel-mask.fits STATIC_MASK The output consists of single beam images of  the  size  of
       the throw. The shifts will be written int CRPIX[12].

</pre><h4><b>OPTIONS</b></h4><pre>
       <b>--template</b> <u>&lt;str&gt;</u>
              Correlation template used to detect shifts and reject bad images.  If none given an averaged image
              is  used (str; default: ´NONE´). The full name of this option for the EsoRex configuration file is
              <b>visir.visir_util_detect_shift.template</b> [default = <u>NONE</u>].

       <b>--min-correlation</b> <u>&lt;float&gt;</u>
              Minimal correlation to the template required to be accepted (float; default: 0.5). The  full  name
              of  this option for the EsoRex configuration file is <b>visir.visir_util_detect_shift.min-correlation</b>
              [default = <u>0.5</u>].

       <b>--max-shift</b> <u>&lt;float&gt;</u>
              Maximal allowed object shift for an image to be accepted (float; default: 10.0). The full name  of
              this  option for the EsoRex configuration file is <b>visir.visir_util_detect_shift.max-shift</b> [default
              = <u>10.0</u>].

       <b>--max-mad</b> <u>&lt;float&gt;</u>
              Maximal allowed median absolute deviation for an image to be  accepted.   &lt;=  0  equals  no  limit
              (float;  default:  0.0).  The  full  name  of  this  option  for  the EsoRex configuration file is
              <b>visir.visir_util_detect_shift.max-mad</b> [default = <u>0.0</u>].

       <b>--naverage</b> <u>&lt;int&gt;</u>
              Number of planes to average before attempting to detect the shifts.  (int; default: 1).  The  full
              name  of  this  option for the EsoRex configuration file is <b>visir.visir_util_detect_shift.naverage</b>
              [default = <u>1</u>].

       <b>--method</b> <u>&lt;str&gt;</u>
              Method to determine beam shifts.  xcorrelate: use the cross correlation shift.  brightest: use the
              position of the brightest pixel (str; default: ´xcorrelate´). The full name of this option for the
              EsoRex configuration file is <b>visir.visir_util_detect_shift.method</b> [default = <u>xcorrelate</u>].

       <b>--no-shift</b> <u>&lt;bool&gt;</u>
              Sets whether to apply the determined shifts in following recipes. Set to TRUE of shifts appear too
              large. (bool; default: False). The full name of this option for the EsoRex configuration  file  is
              <b>visir.visir_util_detect_shift.no-shift</b> [default = <u>False</u>].

       <b>--no-reject</b> <u>&lt;bool&gt;</u>
              If  true  images  with  bad statistics will not be rejected and no shift correction is done (bool;
              default:  True).  The  full  name  of  this  option  for  the   EsoRex   configuration   file   is
              <b>visir.visir_util_detect_shift.no-reject</b> [default = <u>True</u>].

       <b>--beampos</b> <u>&lt;str&gt;</u>
              Define  the  positions  of  the beams. These positions are cut by the window to extract the single
              beam images.  Format: sign:x,y,window;sign:x,y,window;...   where sign is "pos" or "neg" depending
              on whether the beam is positive or negative.  The window is optional and defines the size  of  the
              cut  image around the beam. The default window is the chop throw.  E.g.: pos:50,60;neg:50,160;  By
              default autodetection is attempted.  (str; default: ´NONE´). The full name of this option for  the
              EsoRex configuration file is <b>visir.visir_util_detect_shift.beampos</b> [default = <u>NONE</u>].

       <b>--eccmax</b> <u>&lt;float&gt;</u>
              The  maximum  eccentricity  allowed  in the combination of the three (in parallel nod/chopping) or
              four (in perpendicular nod/chopping) beams.  In parallel  mode,  three  perfectly  aligned  points
              spaced  with  the chopnod throw will have eccentricity 0, while in perpedicular mode a square with
              the chopnod throw as the side length will have eccentricity 0 (float; default: 3.0). The full name
              of this option for the EsoRex configuration file is <b>visir.visir_util_detect_shift.eccmax</b>  [default
              = <u>3.0</u>].

       Note  that  it  is  possible to create a configuration file containing these options, along with suitable
       default values. Please refer to the details provided by the 'esorex --help' command.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       The full documentation for the visir pipeline can be downloaded as a PDF file using the following URL:

              <b><a href="ftp://ftp.eso.org/pub/dfs/pipelines/visir/visir-pipeline-manual-1.4.pdf">ftp://ftp.eso.org/pub/dfs/pipelines/visir/visir-pipeline-manual-1.4.pdf</a></b>

       An   overview   over   the   existing   ESO   pipelines    can    be    found    on    the    web    page
       <b>https://www.eso.org/sci/software/pipelines/</b>.

       Basic documentation about the EsoRex program can be found at the esorex (1) man page.

       It   is   possible   to   call   the   pipelines   from   python   using  the  python-cpl  package.   See
       <b>https://packages.python.org/python-cpl/index.html</b> for further information.

       The other recipes of the visir  pipeline  are  <u><a href="../man7/visir_img_dark.7.html">visir_img_dark</a></u>(7),  <u><a href="../man7/visir_img_ff.7.html">visir_img_ff</a></u>(7),  <u><a href="../man7/visir_img_reduce.7.html">visir_img_reduce</a></u>(7),
       <u><a href="../man7/visir_img_trans.7.html">visir_img_trans</a></u>(7),      <u><a href="../man7/visir_old_img_combine.7.html">visir_old_img_combine</a></u>(7),      <u><a href="../man7/visir_old_img_phot.7.html">visir_old_img_phot</a></u>(7),      <u><a href="../man7/visir_old_spc_obs.7.html">visir_old_spc_obs</a></u>(7),
       <u><a href="../man7/visir_old_spc_obs_ech.7.html">visir_old_spc_obs_ech</a></u>(7),   <u><a href="../man7/visir_old_spc_phot.7.html">visir_old_spc_phot</a></u>(7),   <u><a href="../man7/visir_old_spc_phot_ech.7.html">visir_old_spc_phot_ech</a></u>(7),    <u><a href="../man7/visir_old_spc_wcal.7.html">visir_old_spc_wcal</a></u>(7),
       <u><a href="../man7/visir_old_spc_wcal_ech.7.html">visir_old_spc_wcal_ech</a></u>(7),  <u><a href="../man7/visir_old_util_destripe.7.html">visir_old_util_destripe</a></u>(7),  <u><a href="../man7/visir_spc_reduce.7.html">visir_spc_reduce</a></u>(7),  <u><a href="../man7/visir_util_apply_calib.7.html">visir_util_apply_calib</a></u>(7),
       <u><a href="../man7/visir_util_clip.7.html">visir_util_clip</a></u>(7),    <u><a href="../man7/visir_util_convert_weight.7.html">visir_util_convert_weight</a></u>(7),    <u><a href="../man7/visir_util_img_std_cat.7.html">visir_util_img_std_cat</a></u>(7),    <u><a href="../man7/visir_util_join.7.html">visir_util_join</a></u>(7),
       <u><a href="../man7/visir_util_qc.7.html">visir_util_qc</a></u>(7),      <u><a href="../man7/visir_util_repack.7.html">visir_util_repack</a></u>(7),      <u><a href="../man7/visir_util_run_swarp.7.html">visir_util_run_swarp</a></u>(7),     <u><a href="../man7/visir_util_spc_std_cat.7.html">visir_util_spc_std_cat</a></u>(7),
       <u><a href="../man7/visir_util_spc_txt2fits.7.html">visir_util_spc_txt2fits</a></u>(7), <u><a href="../man7/visir_util_undistort.7.html">visir_util_undistort</a></u>(7)

</pre><h4><b>VERSION</b></h4><pre>
       visir_util_detect_shift 4.4.2

</pre><h4><b>AUTHOR</b></h4><pre>
       Find beam positions and reject bad images &lt;Julian Tayor&gt;

</pre><h4><b>BUG</b> <b>REPORTS</b></h4><pre>
       Please report any problems to Julian Tayor. Alternatively, you may send a report to the ESO User  Support
       Department &lt;<a href="mailto:usd-help@eso.org">usd-help@eso.org</a>&gt;.

</pre><h4><b>LICENSE</b></h4><pre>
       This  file  is  part  of  the  VISIR  Instrument  Pipeline Copyright (C) https://support.eso.org European
       Southern Observatory

       This program is free software; you can redistribute it and/or modify  it  under  the  terms  of  the  GNU
       General  Public License as published by the Free Software Foundation; either version 2 of the License, or
       (at your option) any later version.

       This program is distributed in the hope that it will be useful, but WITHOUT ANY  WARRANTY;  without  even
       the  implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public
       License for more details.

       You should have received a copy of the GNU General Public License along with this program; if not,  write
       to the Free Software Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA  02111-1307  USA

visir_util_detect_shift                               4.4.2                           <u><a href="../man7/VISIR_UTIL_DETECT_SHIFT.7.html">VISIR_UTIL_DETECT_SHIFT</a></u>(7)
</pre>
 </div>
</div></section>
</div>
</body>
</html>