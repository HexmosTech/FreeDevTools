<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>cmake-qt - CMake Qt Features Reference</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/cmake-data">cmake-data_3.31.6-2ubuntu4_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       cmake-qt - CMake Qt Features Reference

</pre><h4><b>INTRODUCTION</b></h4><pre>
       CMake  can  find  and  use  Qt  4,  Qt  5 and Qt 6 libraries. The Qt 4 libraries are found by the <u>FindQt4</u>
       find-module shipped with CMake, whereas the Qt  5  and  Qt  6  libraries  are  found  using  "Config-file
       Packages"  shipped  with  Qt 5 and Qt 6. See <u><a href="../man7/cmake-packages.7.html">cmake-packages</a>(7)</u> for more information about CMake packages,
       and see <u>the</u> <u>Qt</u> <u>cmake</u> <u>manual</u> for your Qt version.

       Qt 4, Qt 5 and Qt 6 may be used together in the same <u>CMake</u> <u>buildsystem</u>:

          cmake_minimum_required(VERSION 3.16 FATAL_ERROR)

          project(Qt4_5_6)

          set(CMAKE_AUTOMOC ON)

          find_package(Qt6 COMPONENTS Widgets DBus REQUIRED)
          add_executable(publisher publisher.cpp)
          target_link_libraries(publisher Qt6::Widgets Qt6::DBus)

          find_package(Qt5 COMPONENTS Gui DBus REQUIRED)
          add_executable(subscriber1 subscriber1.cpp)
          target_link_libraries(subscriber1 Qt5::Gui Qt5::DBus)

          find_package(Qt4 REQUIRED)
          add_executable(subscriber2 subscriber2.cpp)
          target_link_libraries(subscriber2 Qt4::QtGui Qt4::QtDBus)

       A CMake target may not link to more than one Qt version.  A diagnostic is issued if this is attempted  or
       results from transitive target dependency evaluation.

</pre><h4><b>QT</b> <b>BUILD</b> <b>TOOLS</b></h4><pre>
       Qt relies on some bundled tools for code generation, such as <b>moc</b> for meta-object code generation, <b>uic</b> for
       widget  layout  and  population,  and <b>rcc</b> for virtual file system content generation.  These tools may be
       automatically invoked by <u><a href="../man1/cmake.1.html">cmake</a>(1)</u> if the appropriate conditions are met.  The automatic  tool  invocation
       may be used with Qt version 4 to 6.

   <b>AUTOMOC</b>
       The  <u>AUTOMOC</u>  target property controls whether <u><a href="../man1/cmake.1.html">cmake</a>(1)</u> inspects the C++ files in the target to determine
       if they require <b>moc</b> to be run, and to create rules to execute <b>moc</b> at the appropriate time.

       If a macro from <u>AUTOMOC_MACRO_NAMES</u> is found in a header file, <b>moc</b> will be run on the file.   The  result
       will  be  put  into  a  file  named  according  to  <b>moc_&lt;basename&gt;.cpp</b>.   If  the macro is found in a C++
       implementation file, the moc output will be put into a file named according to <b>&lt;basename&gt;.moc</b>,  following
       the  Qt conventions.  The <b>&lt;basename&gt;.moc</b> must be included by the user in the C++ implementation file with
       a preprocessor <b>#include</b>.

       Included <b>moc_*.cpp</b> and <b>*.moc</b> files will be generated in the <b>&lt;AUTOGEN_BUILD_DIR&gt;/include</b>  directory  which
       is automatically added to the target's <u>INCLUDE_DIRECTORIES</u>.

       • This differs from CMake 3.7 and below; see their documentation for details.

       • For <u>multi</u> <u>configuration</u> <u>generators</u>, the include directory is <b>&lt;AUTOGEN_BUILD_DIR&gt;/include_&lt;CONFIG&gt;</b>.

       • See <u>AUTOGEN_BUILD_DIR</u>.

       Not  included  <b>moc_&lt;basename&gt;.cpp</b>  files will be generated in custom folders to avoid name collisions and
       included   in   a   separate   file   which   is    compiled    into    the    target,    named    either
       <b>&lt;AUTOGEN_BUILD_DIR&gt;/mocs_compilation.cpp</b> or <b>&lt;AUTOGEN_BUILD_DIR&gt;/mocs_compilation_$&lt;CONFIG&gt;.cpp</b>.

       • See <u>AUTOGEN_BUILD_DIR</u>.

       The  <b>moc</b> command line will consume the <u>COMPILE_DEFINITIONS</u> and <u>INCLUDE_DIRECTORIES</u> target properties from
       the target it is being invoked for, and for the appropriate build configuration.

       The <u>AUTOMOC</u> target property may be pre-set  for  all  following  targets  by  setting  the  <u>CMAKE_AUTOMOC</u>
       variable.   The  <u>AUTOMOC_MOC_OPTIONS</u>  target property may be populated to set options to pass to <b>moc</b>. The
       <u>CMAKE_AUTOMOC_MOC_OPTIONS</u> variable may be populated to pre-set the options for all following targets.

       Additional macro names to search for can be added to <u>AUTOMOC_MACRO_NAMES</u>.

       Additional <b>moc</b> dependency file names can be extracted from source code by using <u>AUTOMOC_DEPEND_FILTERS</u>.

       Source C++ files can be excluded  from  <u>AUTOMOC</u>  processing  by  enabling  <u>SKIP_AUTOMOC</u>  or  the  broader
       <u>SKIP_AUTOGEN</u>.

   <b>AUTOUIC</b>
       The  <u>AUTOUIC</u>  target property controls whether <u><a href="../man1/cmake.1.html">cmake</a>(1)</u> inspects the C++ files in the target to determine
       if they require <b>uic</b> to be run, and to create rules to execute <b>uic</b> at the appropriate time.

       If a preprocessor <b>#include</b> directive is found which matches <b>&lt;path&gt;ui_&lt;basename&gt;.h</b>,  and  a  <b>&lt;basename&gt;.ui</b>
       file  exists,  then  <b>uic</b>  will  be  executed to generate the appropriate file.  The <b>&lt;basename&gt;.ui</b> file is
       searched for in the following places

       1. <b>&lt;source_dir&gt;/&lt;basename&gt;.ui</b>

       2. <b>&lt;source_dir&gt;/&lt;path&gt;&lt;basename&gt;.ui</b>

       3. <b>&lt;AUTOUIC_SEARCH_PATHS&gt;/&lt;basename&gt;.ui</b>

       4. <b>&lt;AUTOUIC_SEARCH_PATHS&gt;/&lt;path&gt;&lt;basename&gt;.ui</b>

       where <b>&lt;source_dir&gt;</b> is the directory of the C++ file and <u>AUTOUIC_SEARCH_PATHS</u>  is  a  list  of  additional
       search paths.

       The  generated  generated  <b>ui_*.h</b>  files are placed in the <b>&lt;AUTOGEN_BUILD_DIR&gt;/include</b> directory which is
       automatically added to the target's <u>INCLUDE_DIRECTORIES</u>.

       • This differs from CMake 3.7 and below; see their documentation for details.

       • For <u>multi</u> <u>configuration</u> <u>generators</u>, the include directory is <b>&lt;AUTOGEN_BUILD_DIR&gt;/include_&lt;CONFIG&gt;</b>.

       • See <u>AUTOGEN_BUILD_DIR</u>.

       The <u>AUTOUIC</u> target property may be pre-set  for  all  following  targets  by  setting  the  <u>CMAKE_AUTOUIC</u>
       variable.   The  <u>AUTOUIC_OPTIONS</u>  target  property  may  be populated to set options to pass to <b>uic</b>.  The
       <u>CMAKE_AUTOUIC_OPTIONS</u> variable may be populated to pre-set the options for all  following  targets.   The
       <u>AUTOUIC_OPTIONS</u>  source  file property may be set on the <b>&lt;basename&gt;.ui</b> file to set particular options for
       the file.  This overrides options from the <u>AUTOUIC_OPTIONS</u> target property.

       A target may populate the <u>INTERFACE_AUTOUIC_OPTIONS</u> target property with options that should be used when
       invoking <b>uic</b>.  This must be consistent with the <u>AUTOUIC_OPTIONS</u> target property content of  the  depender
       target.   The  <u>CMAKE_DEBUG_TARGET_PROPERTIES</u>  variable  may  be  used  to track the origin target of such
       <u>INTERFACE_AUTOUIC_OPTIONS</u>.  This means that a library which provides an  alternative  translation  system
       for Qt may specify options which should be used when running <b>uic</b>:

          add_library(KI18n klocalizedstring.cpp)
          target_link_libraries(KI18n Qt6::Core)

          # KI18n uses the tr2i18n() function instead of tr().  That function is
          # declared in the klocalizedstring.h header.
          set(autouic_options
            -tr tr2i18n
            -include klocalizedstring.h
          )

          set_property(TARGET KI18n APPEND PROPERTY
            INTERFACE_AUTOUIC_OPTIONS ${autouic_options}
          )

       A  consuming  project linking to the target exported from upstream automatically uses appropriate options
       when <b>uic</b> is run by <u>AUTOUIC</u>, as a result of linking with the <u>IMPORTED</u> target:

          set(CMAKE_AUTOUIC ON)
          # Uses a libwidget.ui file:
          add_library(LibWidget libwidget.cpp)
          target_link_libraries(LibWidget
            KF5::KI18n
            Qt5::Widgets
          )

       Source  files  can  be  excluded  from  <u>AUTOUIC</u>  processing  by  enabling  <u>SKIP_AUTOUIC</u>  or  the  broader
       <u>SKIP_AUTOGEN</u>.

   <b>AUTORCC</b>
       The  <u>AUTORCC</u>  target  property  controls whether <u><a href="../man1/cmake.1.html">cmake</a>(1)</u> creates rules to execute <b>rcc</b> at the appropriate
       time on source files which have the suffix <b>.qrc</b>.

          add_executable(myexe main.cpp resource_file.qrc)

       The <u>AUTORCC</u> target property may be pre-set  for  all  following  targets  by  setting  the  <u>CMAKE_AUTORCC</u>
       variable.   The  <u>AUTORCC_OPTIONS</u>  target  property  may  be populated to set options to pass to <b>rcc</b>.  The
       <u>CMAKE_AUTORCC_OPTIONS</u> variable may be populated to pre-set the options for all  following  targets.   The
       <u>AUTORCC_OPTIONS</u>  source file property may be set on the <b>&lt;name&gt;.qrc</b> file to set particular options for the
       file.  This overrides options from the <u>AUTORCC_OPTIONS</u> target property.

       Source  files  can  be  excluded  from  <u>AUTORCC</u>  processing  by  enabling  <u>SKIP_AUTORCC</u>  or  the  broader
       <u>SKIP_AUTOGEN</u>.

</pre><h4><b>THE</b> <b>&lt;ORIGIN&gt;_AUTOGEN</b> <b>TARGET</b></h4><pre>
       The  <b>moc</b>  and  <b>uic</b>  tools are executed as part of a synthesized <u>The</u> <u>&lt;ORIGIN&gt;_autogen</u> <u>target</u> <u>custom</u> <u>target</u>
       generated by CMake.  By default that <u>The</u> <u>&lt;ORIGIN&gt;_autogen</u> <u>target</u> target inherits the dependencies of  the
       <b>&lt;ORIGIN&gt;</b>   target   (see   <u>AUTOGEN_ORIGIN_DEPENDS</u>).    Target  dependencies  may  be  added  to  the  <u>The</u>
       <u>&lt;ORIGIN&gt;_autogen</u> <u>target</u> target by adding them to the <u>AUTOGEN_TARGET_DEPENDS</u> target property.

       <b>NOTE:</b>
          If Qt 5.15 or later is used and the  generator  is  either  <u>Ninja</u>  or  <u>Makefile</u>  <u>Generators</u>,  see  <u>The</u>
          <u>&lt;ORIGIN&gt;_autogen_timestamp_deps</u> <u>target</u>.

</pre><h4><b>THE</b> <b>&lt;ORIGIN&gt;_AUTOGEN_TIMESTAMP_DEPS</b> <b>TARGET</b></h4><pre>
       If  Qt  5.15  or  later  is  used  and  the  generator  is  either  <u>Ninja</u>  or  <u>Makefile</u>  <u>Generators</u>,  the
       <b>&lt;ORIGIN&gt;_autogen_timestamp_deps</b> target is also created in addition to  the  <u>The</u>  <u>&lt;ORIGIN&gt;_autogen</u>  <u>target</u>
       target.   This target does not have any sources or commands to execute, but it has dependencies that were
       previously inherited by the pre-Qt 5.15 <u>The</u> <u>&lt;ORIGIN&gt;_autogen</u>  <u>target</u>  target.   These  dependencies  will
       serve  as a list of order-only dependencies for the custom command, without forcing the custom command to
       re-execute.

</pre><h4><b>VISUAL</b> <b>STUDIO</b> <b>GENERATORS</b></h4><pre>
       When using the <u>Visual</u> <u>Studio</u> <u>generators</u>, CMake generates a <b>PRE_BUILD</b> <u>custom</u> <u>command</u> instead  of  the  <u>The</u>
       <u>&lt;ORIGIN&gt;_autogen</u>  <u>target</u>  <u>custom</u> <u>target</u> (for <u>AUTOMOC</u> and <u>AUTOUIC</u>).  This isn't always possible though and
       an <u>The</u> <u>&lt;ORIGIN&gt;_autogen</u> <u>target</u> <u>custom</u> <u>target</u> is used, when either

       • the <b>&lt;ORIGIN&gt;</b> target depends on <u>GENERATED</u> files which  aren't  excluded  from  <u>AUTOMOC</u>  and  <u>AUTOUIC</u>  by
         <u>SKIP_AUTOMOC</u>, <u>SKIP_AUTOUIC</u>, <u>SKIP_AUTOGEN</u> or <u>CMP0071</u>

       • <u>AUTOGEN_TARGET_DEPENDS</u> lists a source file

       • <u>CMAKE_GLOBAL_AUTOGEN_TARGET</u> is enabled

</pre><h4><b>QTMAIN.LIB</b> <b>ON</b> <b>WINDOWS</b></h4><pre>
       The  Qt  4  and  5  <u>IMPORTED</u>  targets  for the QtGui libraries specify that the qtmain.lib static library
       shipped with Qt will be linked by all dependent executables which have the <u>WIN32_EXECUTABLE</u> enabled.

       To disable this behavior, enable the <b>Qt5_NO_LINK_QTMAIN</b>  target  property  for  Qt  5  based  targets  or
       <b>QT4_NO_LINK_QTMAIN</b> target property for Qt 4 based targets.

          add_executable(myexe WIN32 main.cpp)
          target_link_libraries(myexe Qt4::QtGui)

          add_executable(myexe_no_qtmain WIN32 main_no_qtmain.cpp)
          set_property(TARGET main_no_qtmain PROPERTY QT4_NO_LINK_QTMAIN ON)
          target_link_libraries(main_no_qtmain Qt4::QtGui)

</pre><h4><b>COPYRIGHT</b></h4><pre>
       2000-2024 Kitware, Inc. and Contributors

3.31.6                                           August 09, 2025                                     <u><a href="../man7/CMAKE-QT.7.html">CMAKE-QT</a></u>(7)
</pre>
 </div>
</div></section>
</div>
</body>
</html>