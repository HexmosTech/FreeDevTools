<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ocf_heartbeat_sfex - Manages exclusive access to shared storage using Shared Disk File EXclusiveness</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/resource-agents-extra">resource-agents-extra_4.16.0-3ubuntu1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       ocf_heartbeat_sfex - Manages exclusive access to shared storage using Shared Disk File EXclusiveness
       (SF-EX)

</pre><h4><b>SYNOPSIS</b></h4><pre>

       <b>sfex</b> [start | stop | monitor | meta-data | validate-all]

</pre><h4><b>DESCRIPTION</b></h4><pre>
       Resource script for SF-EX. It manages a shared storage medium exclusively .

</pre><h4><b>SUPPORTED</b> <b>PARAMETERS</b></h4><pre>
       <b>device</b>
           Block device path that stores exclusive control data.

           (required, string, no default)

       <b>index</b>
           Location in block device where exclusive control data is stored. 1 or more is specified. Default is
           1.

           (optional, integer, default 1)

       <b>collision_timeout</b>
           Waiting time when a collision of lock acquisition is detected. Default is 1 second.

           (optional, integer, default 1)

       <b>monitor_interval</b>
           Monitor interval(sec). Default is 10 seconds

           (optional, integer, default 10)

       <b>lock_timeout</b>
           Valid term of lock(sec). Default is 100 seconds. The lock_timeout is calculated by the following
           formula.

           lock_timeout = monitor_interval + "The expiration time of the lock"

           We suggest 90 seconds as a default value of the "The expiration time of the lock", but you should
           change it in consideration of access delay to the shared disk and the switch time of the multipath
           driver.

           The lock timeout have an impact on start action timeout because start action timeout value is
           calculated by the following formula.

           start timeout = collision_timeout + lock_timeout + "safety margin"

           The "safety margin" is decided within the range of about 10-20 seconds(It depends on your system
           requirement).

           (optional, integer, default 100)

</pre><h4><b>SUPPORTED</b> <b>ACTIONS</b></h4><pre>
       This resource agent supports the following actions (operations):

       <b>start</b>
           Starts the resource. Suggested minimum timeout: 120s.

       <b>stop</b>
           Stops the resource. Suggested minimum timeout: 20s.

       <b>monitor</b>
           Performs a detailed status check. Suggested minimum timeout: 10s. Suggested interval: 10s.

       <b>meta-data</b>
           Retrieves resource agent metadata (internal use only). Suggested minimum timeout: 5s.

       <b>validate-all</b>
           Performs a validation of the resource configuration. Suggested minimum timeout: 5s.

</pre><h4><b>EXAMPLE</b> <b>CRM</b> <b>SHELL</b></h4><pre>
       The following is an example configuration for a sfex resource using the <b><a href="../man8/crm.8.html">crm</a></b>(8) shell:

           primitive p_sfex ocf:heartbeat:sfex \
             params \
               device=<u>string</u> \
             op monitor depth="0" timeout="10s" interval="10s"

</pre><h4><b>EXAMPLE</b> <b>PCS</b></h4><pre>
       The following is an example configuration for a sfex resource using <b><a href="../man8/pcs.8.html">pcs</a></b>(8)

           pcs resource create p_sfex ocf:heartbeat:sfex \
             device=<u>string</u> \
             op monitor OCF_CHECK_LEVEL="0" timeout="10s" interval="10s"

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="http://clusterlabs.org/">http://clusterlabs.org/</a></b>

</pre><h4><b>AUTHOR</b></h4><pre>
       <b>ClusterLabs</b> <b>contributors</b> <b>(see</b> <b>the</b> <b>resource</b> <b>agent</b> <b>source</b> <b>for</b> <b>information</b> <b>about</b> <b>individual</b> <b>authors)</b>

resource-agents 4.16.0-3ubuntu                     06/25/2025                              <u><a href="../man7/OCF_HEARTBEAT_SFEX.7.html">OCF_HEARTBEAT_SFEX</a></u>(7)
</pre>
 </div>
</div></section>
</div>
</body>
</html>