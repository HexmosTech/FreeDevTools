<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The path: module provides functions for manipulating and testing filesystem paths.</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/jammy/+package/elvish">elvish_0.17.0-1ubuntu0.1_amd64</a> <br><br><pre>
</pre><h4><b>Introduction</b></h4><pre>
       The path: module provides functions for manipulating and testing filesystem paths.

       Function usages are given in the same format as in the reference doc for the builtin module.

</pre><h4><b>Functions</b></h4><pre>
   <b>path:abs</b> <b>{#path:abs}</b>
              path:abs $path

       Outputs $path converted to an absolute path.

              ~&gt; cd ~
              ~&gt; path:abs bin
              ▶ /home/user/bin

   <b>path:base</b> <b>{#path:base}</b>
              path:base $path

       Outputs the last element of $path.  This is analogous to the POSIX basename command.  See the Go documen‐
       tation (https://pkg.go.dev/path/filepath#Base) for more details.

              ~&gt; path:base <a href="file:~/bin">~/bin</a>
              ▶ bin

   <b>path:clean</b> <b>{#path:clean}</b>
              path:clean $path

       Outputs  the  shortest  version  of $path equivalent to $path by purely lexical processing.  This is most
       useful for eliminating unnecessary relative path elements such as . and .. without asking the OS to eval‐
       uate the path name.  See the Go documentation (https://pkg.go.dev/path/filepath#Clean) for more details.

              ~&gt; path:clean .<a href="file:/../bin">/../bin</a>
              ▶ ..<a href="file:/bin">/bin</a>

   <b>path:dir</b> <b>{#path:dir}</b>
              path:dir $path

       Outputs all but the last element of $path, typically the path’s enclosing directory.  See the Go documen‐
       tation (https://pkg.go.dev/path/filepath#Dir) for more details.  This is analogous to the  POSIX  dirname
       command.

              ~&gt; path:dir /a/b/c/something
              ▶ /a/b/c

   <b>path:eval-symlinks</b> <b>{#path:eval-symlinks}</b>
              ~&gt; mkdir bin
              ~&gt; ln -s bin sbin
              ~&gt; path:eval-symlinks ./sbin/a_command
              ▶ bin/a_command

       Outputs  $path  after  resolving any symbolic links.  If $path is relative the result will be relative to
       the current directory, unless one of the components is an absolute symbolic link.   This  function  calls
       path:clean  on  the  result before outputting it.  This is analogous to the external realpath or readlink
       command found on many systems.  See the Go documentation  (https://pkg.go.dev/path/filepath#EvalSymlinks)
       for more details.

   <b>path:ext</b> <b>{#path:ext}</b>
              ext $path

       Outputs  the  file name extension used by $path (including the separating period).  If there is no exten‐
       sion the empty string is output.  See the  Go  documentation  (https://pkg.go.dev/path/filepath#Ext)  for
       more details.

              ~&gt; path:ext hello.elv
              ▶ .elv

   <b>path:is-abs</b> <b>{#path:is-abs}</b>
              is-abs $path

       Outputs  $true  if  the  path is an absolute path.  Note that platforms like Windows have different rules
       than  UNIX  like  platforms  for  what  constitutes  an  absolute  path.   See   the   Go   documentation
       (https://pkg.go.dev/path/filepath#IsAbs) for more details.

              ~&gt; path:is-abs hello.elv
              ▶ false
              ~&gt; path:is-abs /hello.elv
              ▶ true

   <b>path:is-dir</b> <b>{#path:is-dir}</b>
              is-dir &amp;follow-symlink=$false $path

       Outputs  $true  if the path resolves to a directory.  If the final element of the path is a symlink, even
       if it points to a directory, it still outputs $false since a symlink is not a directory.  Setting  option
       &amp;follow-symlink  to  true will cause the last element of the path, if it is a symlink, to be resolved be‐
       fore doing the test.

              ~&gt; touch not-a-dir
              ~&gt; path:is-dir not-a-dir
              ▶ false
              ~&gt; path:is-dir <a href="file:/tmp">/tmp</a>
              ▶ true

       See also path:is-regular.

   <b>path:is-regular</b> <b>{#path:is-regular}</b>
              is-regular &amp;follow-symlink=$false $path

       Outputs $true if the path resolves to a regular file.  If the final element of the  path  is  a  symlink,
       even if it points to a regular file, it still outputs $false since a symlink is not a regular file.  Set‐
       ting  option  &amp;follow-symlink  to true will cause the last element of the path, if it is a symlink, to be
       resolved before doing the test.

       <b>Note:</b> This isn’t named is-file because a UNIX file may be a “bag of bytes” or may be a named pipe, device
       special file (e.g.  /dev/tty), etc.

              ~&gt; touch not-a-dir
              ~&gt; path:is-regular not-a-dir
              ▶ true
              ~&gt; path:is-dir <a href="file:/tmp">/tmp</a>
              ▶ false

       See also path:is-dir.

   <b>path:temp-dir</b> <b>{#path:temp-dir}</b>
              temp-dir &amp;dir='' $pattern?

       Creates a new directory and outputs its name.

       The &amp;dir option determines where the directory will be created; if it is an empty string (the default), a
       system-dependent directory suitable for storing temporary files will be used.  The $pattern argument  de‐
       termines  the name of the directory, where the last star will be replaced by a random string; it defaults
       to elvish-*.

       It is the caller’s responsibility to remove the directory if it is intended to be temporary.

              ~&gt; path:temp-dir
              ▶ /tmp/elvish-RANDOMSTR
              ~&gt; path:temp-dir x-
              ▶ /tmp/x-RANDOMSTR
              ~&gt; path:temp-dir 'x-*.y'
              ▶ /tmp/x-RANDOMSTR.y
              ~&gt; path:temp-dir &amp;dir=.
              ▶ elvish-RANDOMSTR
              ~&gt; path:temp-dir &amp;dir=/some/dir
              ▶ /some/dir/elvish-RANDOMSTR

   <b>path:temp-file</b> <b>{#path:temp-file}</b>
              temp-file &amp;dir='' $pattern?

       Creates a new file and outputs a file object opened for reading and writing.

       The &amp;dir option determines where the file will be created; if it is an empty string (the default), a sys‐
       tem-dependent directory suitable for storing temporary files will be used.  The $pattern argument  deter‐
       mines  the  name  of  the  file,  where the last star will be replaced by a random string; it defaults to
       elvish-*.

       It is the caller’s responsibility to close the file with file:close.  The caller should also  remove  the
       file if it is intended to be temporary (with rm $f[name]).

              ~&gt; f = path:temp-file
              ~&gt; put $f[name]
              ▶ /tmp/elvish-RANDOMSTR
              ~&gt; echo hello &gt; $f
              ~&gt; cat $f[name]
              hello
              ~&gt; f = path:temp-file x-
              ~&gt; put $f[name]
              ▶ /tmp/x-RANDOMSTR
              ~&gt; f = path:temp-file 'x-*.y'
              ~&gt; put $f[name]
              ▶ /tmp/x-RANDOMSTR.y
              ~&gt; f = path:temp-file &amp;dir=.
              ~&gt; put $f[name]
              ▶ elvish-RANDOMSTR
              ~&gt; f = path:temp-file &amp;dir=/some/dir
              ~&gt; put $f[name]
              ▶ /some/dir/elvish-RANDOMSTR

Elvish 0.17.0                                     Nov 18, 2024                                    <u><a href="../man7/elvish-path.7.html">elvish-path</a></u>(7)
</pre>
 </div>
</div></section>
</div>
</body>
</html>