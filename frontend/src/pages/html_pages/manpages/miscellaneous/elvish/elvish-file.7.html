<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The file: module provides utilities for manipulating file objects.</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/jammy/+package/elvish">elvish_0.17.0-1ubuntu0.1_amd64</a> <br><br><pre>
</pre><h4><b>Introduction</b></h4><pre>
       The file: module provides utilities for manipulating file objects.

       Function usages are given in the same format as in the reference doc for the builtin module.

</pre><h4><b>Functions</b></h4><pre>
   <b>file:close</b> <b>{#file:close}</b>
              file:close $file

       Closes a file opened with open.

       See also file:open.

   <b>file:open</b> <b>{#file:open}</b>
              file:open $filename

       Opens  a file.  Currently, open only supports opening a file for reading.  File must be closed with close
       explicitly.  Example:

              ~&gt; cat a.txt
              This is
              a file.
              ~&gt; use file
              ~&gt; f = (file:open a.txt)
              ~&gt; cat &lt; $f
              This is
              a file.
              ~&gt; close $f

       See also file:close.

   <b>file:pipe</b> <b>{#file:pipe}</b>
              file:pipe

       Create a new pipe that can be used in redirections.  A pipe contains a read-end and write-end.  Each pipe
       object is a pseudo-map with fields r (the read-end file object) and w (the write-end).

       When redirecting command input from a pipe with &lt;, the read-end is used.  When redirecting command output
       to a pipe with &gt;, the write-end is used.  Redirecting both input and output with &lt;&gt; to a pipe is not sup‐
       ported.

       Pipes have an OS-dependent buffer, so writing to a pipe without an active  reader  does  not  necessarily
       block.  Pipes <b>must</b> be explicitly closed with file:close.

       Putting values into pipes will cause those values to be discarded.

       Examples (assuming the pipe has a large enough buffer):

              ~&gt; p = (file:pipe)
              ~&gt; echo 'lorem ipsum' &gt; $p
              ~&gt; head -n1 &lt; $p
              lorem ipsum
              ~&gt; put 'lorem ipsum' &gt; $p
              ~&gt; file:close $p[w] # close the write-end
              ~&gt; head -n1 &lt; $p # blocks unless the write-end is closed
              ~&gt; file:close $p[r] # close the read-end

       See also file:close.

   <b>file:truncate</b> <b>{#file:truncate}</b>
              file:truncate $filename $size

       changes  the  size  of the named file.  If the file is a symbolic link, it changes the size of the link’s
       target.  The size must be an integer between 0 and 2^64-1.

Elvish 0.17.0                                     Nov 18, 2024                                    <u><a href="../man7/elvish-file.7.html">elvish-file</a></u>(7)
</pre>
 </div>
</div></section>
</div>
</body>
</html>