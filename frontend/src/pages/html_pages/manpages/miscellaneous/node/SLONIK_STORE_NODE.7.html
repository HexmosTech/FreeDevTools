<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>STORE NODE - Initialize Slony-I node</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/slony1-2-doc">slony1-2-doc_2.2.11-6_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       STORE NODE - Initialize Slony-I node

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>STORE</b> <b>NODE</b> <b>(options);</b>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       Initialize a new node and add it to the configuration of an existing cluster.

       The  initialization  process consists of creating the cluster namespace in the new node (the database it‐
       self must already exist), loading all the base tables, functions, procedures and initializing  the  node.
       The existing configuration of the rest of the cluster is copied from the ‘event node’.

       ID = ival
              The unique, immutable numeric ID number of the new node.

              Note that the ID is <u>immutable</u> because it is used as the basis for inter-node event communications.

       COMMENT = 'description'
              A descriptive text added to the node entry in the table “sl_node” [not available as a man page]

       SPOOLNODE = boolean
              Specifies  that  the  new  node  is a virtual spool node for file archiving of replication log. If
              true, slonik will not attempt to initialize a database with the replication schema.
              <b>Warning</b>

              Never use the SPOOLNODE value - no released version of Slony-I has ever behaved in the fashion de‐
              scribed in the preceding fashion. Log shipping, as it finally emerged in 1.2.11, does not  require
              initializing ‘spool nodes’.

       EVENT NODE = ival
              The  ID of the node used to create the configuration event that tells all existing nodes about the
              new node. It must be the ID of a pre-existing node in the cluster, not the ID of the new node.

       This uses “schemadocinitializelocalnode(p_comment integer, p_local_node_id text)” [not available as a man
       page] and “schemadocenablenode(p_no_id integer)” [not available as a man page].

</pre><h4><b>EXAMPLE</b></h4><pre>
            STORE NODE ( ID = 2, COMMENT = 'Node 2', EVENT NODE = 1 );

</pre><h4><b>LOCKING</b> <b>BEHAVIOUR</b></h4><pre>
       This command creates a new namespace and configures tables therein; no public objects  should  be  locked
       during the duration of this.

</pre><h4><b>SLONIK</b> <b>EVENT</b> <b>CONFIRMATION</b> <b>BEHAVIOUR</b></h4><pre>
       Slonik  waits for the command submitted to the previous event node to be confirmed on the specified event
       node before submitting this command.

</pre><h4><b>VERSION</b> <b>INFORMATION</b></h4><pre>
       This command was introduced in Slony-I 1.0. The <b>SPOOLNODE</b> parameter was introduced in  version  1.1,  but
       was  vestigial  in  that  version.  The described functionality for <b>SPOOLNODE</b> arrived in version 1.2, but
       <b>SPOOLNODE</b> was not used for this purpose. In later versions, hopefully <b>SPOOLNODE</b> will be unavailable.

       In version 2.0, the default value for <b>EVENT</b> <b>NODE</b> was removed, so a node must be specified.

                                                19 September 2024                           <u>SLONIK</u> <u>STORE</u> <u><a href="../man7/NODE.7.html">NODE</a></u>(7)
</pre>
 </div>
</div></section>
</div>
</body>
</html>