<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ocf_heartbeat_NodeUtilization - Node Utilization</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/resource-agents-extra">resource-agents-extra_4.16.0-3ubuntu1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       ocf_heartbeat_NodeUtilization - Node Utilization

</pre><h4><b>SYNOPSIS</b></h4><pre>

       <b>NodeUtilization</b> [start | stop | monitor | meta-data | validate-all]

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The Node Utilization agent detects system parameters like available CPU, host memory and hypervisor
       memory availability, and adds them into the CIB for each node using crm_attribute. Run the agent as a
       clone resource to have it populate these parameters on each node. Note: Setting hv_memory only works with
       Xen at the moment, using the xl or xm command line tools.

</pre><h4><b>SUPPORTED</b> <b>PARAMETERS</b></h4><pre>
       <b>dynamic</b>
           If set, parameters will be updated if there are differences between the HA parameters and the system
           values when running the monitor action. If not set, the parameters will be set once when the resource
           instance starts.

           (optional, boolean, default true)

       <b>utilization_cpu</b>
           Enable setting node CPU utilization limit.

           (optional, boolean, default true)

       <b>utilization_cpu_reservation</b>
           Subtract this value when setting the CPU utilization parameter.

           (optional, integer, default 1)

       <b>utilization_host_memory</b>
           Enable setting available host memory.

           (optional, boolean, default true)

       <b>utilization_host_memory_reservation</b>
           Subtract this value when setting host memory utilization, in MB.

           (optional, integer, default 512)

       <b>utilization_hv_memory</b>
           Enable setting available hypervisor memory.

           (optional, boolean, default true)

       <b>utilization_hv_memory_reservation</b>
           Subtract this value when setting hypervisor memory utilization, in MB.

           (optional, integer, default 512)

</pre><h4><b>SUPPORTED</b> <b>ACTIONS</b></h4><pre>
       This resource agent supports the following actions (operations):

       <b>start</b>
           Starts the resource. Suggested minimum timeout: 90s.

       <b>stop</b>
           Stops the resource. Suggested minimum timeout: 100s.

       <b>monitor</b>
           Performs a detailed status check. Suggested minimum timeout: 20s. Suggested interval: 60s.

       <b>meta-data</b>
           Retrieves resource agent metadata (internal use only). Suggested minimum timeout: 5s.

       <b>validate-all</b>
           Performs a validation of the resource configuration. Suggested minimum timeout: 30s.

</pre><h4><b>EXAMPLE</b> <b>CRM</b> <b>SHELL</b></h4><pre>
       The following is an example configuration for a NodeUtilization resource using the <b><a href="../man8/crm.8.html">crm</a></b>(8) shell:

           primitive p_NodeUtilization ocf:heartbeat:NodeUtilization \
             op monitor timeout="20s" interval="60s"

</pre><h4><b>EXAMPLE</b> <b>PCS</b></h4><pre>
       The following is an example configuration for a NodeUtilization resource using <b><a href="../man8/pcs.8.html">pcs</a></b>(8)

           pcs resource create p_NodeUtilization ocf:heartbeat:NodeUtilization \
             op monitor timeout="20s" interval="60s"

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="http://clusterlabs.org/">http://clusterlabs.org/</a></b>

</pre><h4><b>AUTHOR</b></h4><pre>
       <b>ClusterLabs</b> <b>contributors</b> <b>(see</b> <b>the</b> <b>resource</b> <b>agent</b> <b>source</b> <b>for</b> <b>information</b> <b>about</b> <b>individual</b> <b>authors)</b>

resource-agents 4.16.0-3ubuntu                     06/25/2025                            <u><a href="../man7/OCF_HEARTBEAT_NODEUT.7.html">OCF_HEARTBEAT_NODEUT</a></u>(7)
</pre>
 </div>
</div></section>
</div>
</body>
</html>