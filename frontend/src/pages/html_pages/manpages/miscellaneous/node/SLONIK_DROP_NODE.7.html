<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DROP NODE - Remove the node from participating in the replication</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/slony1-2-doc">slony1-2-doc_2.2.11-6_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       DROP NODE - Remove the node from participating in the replication

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>DROP</b> <b>NODE</b> <b>(options);</b>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       Drop a node. This command removes the specified node entirely from the replication systems configuration.
       If the replication daemon is still running on that node (and processing events), it will attempt to unin‐
       stall the replication system and terminate itself.

       ID = ival
              Node  ID  of the node to remove. This may be represented either by a single node id or by a quoted
              comma separated list of nodes

       EVENT NODE = ival
              Node ID of the node to generate the event.

       This uses “schemadocdropnode(p_no_ids integer[])” [not available as a man page].

       When you invoke <b>DROP</b> <b>NODE</b>, one of the steps is to run <b>UNINSTALL</b> <b>NODE</b>.

</pre><h4><b>EXAMPLE</b></h4><pre>
            DROP NODE ( ID = 2, EVENT NODE = 1 );
             DROP NODE (ID='3,4,5', EVENT NODE=1);

</pre><h4><b>LOCKING</b> <b>BEHAVIOUR</b></h4><pre>
       When dropping triggers off of application tables, this will require exclusive access to  each  replicated
       table on the node being discarded.

</pre><h4><b>DANGEROUS/UNINTUITIVE</b> <b>BEHAVIOUR</b></h4><pre>
       If  you  are  using  connections that cache query plans (this is particularly common for Java application
       frameworks with connection pools), the connections may cache query plans that include the  pre-<b>DROP</b>  <b>NODE</b>
       state of things, and you will get error messages indicating missing OIDs [“[MISSING TEXT]” [not available
       as a man page]].

       After dropping a node, you may also need to recycle connections in your application.

       You cannot submit this to an <b>EVENT</b> <b>NODE</b> that is the number of the node being dropped; the request must go
       to some node that will remain in the cluster.

</pre><h4><b>SLONIK</b> <b>EVENT</b> <b>CONFIRMATION</b> <b>BEHAVIOUR</b></h4><pre>
       Slonik  waits  until nodes (other than the one being dropped) are caught up with non-SYNC events from all
       other nodes before submitting the DROP NODE command.

</pre><h4><b>VERSION</b> <b>INFORMATION</b></h4><pre>
       This command was introduced in Slony-I 1.0

       In version 2.0, the default value for <b>EVENT</b> <b>NODE</b> was removed, so a node must be specified.

       In version 2.2, support for dropping multiple nodes in a single command was introduced

                                                19 September 2024                            <u>SLONIK</u> <u>DROP</u> <u><a href="../man7/NODE.7.html">NODE</a></u>(7)
</pre>
 </div>
</div></section>
</div>
</body>
</html>