<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>fi_tcp - Provider that runs over TCP/IP</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libfabric-dev">libfabric-dev_2.1.0-1.1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       fi_tcp - Provider that runs over TCP/IP

</pre><h4><b>OVERVIEW</b></h4><pre>
       The  tcp  provider  is  usable  on  all  operation  systems  supported  by  libfabric.   It runs over TCP
       (SOCK_STREAM) sockets, and includes the ability to leverage operation specific features, such as  support
       for  zero-copy and io_uring.  The provider implements a custom protocol over TCP/IP needed to support the
       libfabric communication APIs.

</pre><h4><b>SUPPORTED</b> <b>FEATURES</b></h4><pre>
       The following features are supported

       <u>Endpoint</u> <u>types</u>
              <u>FI_EP_MSG</u> <u>FI_EP_RDM</u>

       <u>Endpoint</u> <u>capabilities</u>
              <u>FI_MSG</u>, <u>FI_RMA</u>, <u>FI_TAGGED</u>, <u>FI_RMA_PMEM</u>, <u>FI_RMA_EVENT</u>, <u>FI_MULTI_RECV</u>, <u>FI_DIRECTED_RECV</u>

       <u>Shared</u> <u>Rx</u> <u>Context</u>
              The tcp provider supports shared receive context

</pre><h4><b>RUNTIME</b> <b>PARAMETERS</b></h4><pre>
       The tcp provider may be configured using several environment variables.  A subset of supported  variables
       is  defined  below.  For a full list, use the fi_info utility application.  For example, `fi_info -g tcp'
       will show all environment variables defined for the tcp provider.

       <u>FI_TCP_IFACE</u>
              A specific network interface can be requested with this variable

       <u>FI_TCP_PORT_LOW_RANGE/FI_TCP_PORT_HIGH_RANGE</u>
              These variables are used to set the range of ports to be used by the tcp provider for its  passive
              endpoint  creation.   This  is  useful where only a range of ports are allowed by firewall for tcp
              connections.

       <u>FI_TCP_TX_SIZE</u>
              Transmit context size.  This is the number of transmit requests that an application  may  post  to
              the provider before receiving -FI_EAGAIN.  Default: 256 for msg endpoints, 64k for rdm.

       <u>FI_TCP_RX_SIZE</u>
              Receive  context size.  This is the number of receive buffers that the application may post to the
              provider.  Default: 256 for msg endpoints, 64k for rdm.

       <u>FI_TCP_MAX_INJECT</u>
              Maximum size of inject messages and the maximum size of an unexpected message that may be buffered
              at the receiver.  Default 128 bytes.

       <u>FI_TCP_STAGING_SBUF_SIZE</u>
              Size of buffer used to coalesce iovec’s or send requests before posting to the kernel.  The  stag‐
              ing buffer is used when the socket is busy and cannot accept new data.  In that case, the data can
              be  queued  in  the staging buffer until the socket resumes sending.  This optimizes transfering a
              series of back-to-back small messages to the same target.  Default: 9000 bytes.  Set to 0 to  dis‐
              able.

       <u>FI_TCP_PREFETCH_RBUF_SIZE</u>
              Size of the buffer used to prefetch received data from the kernel.  When starting to receive a new
              message,  the  provider will request that the kernel fill the prefetch buffer and process received
              data from there.  This reduces the number of kernel calls needed to receive a series of small mes‐
              sages.  Default: 9000 bytes.  Set to 0 to disable.

       <u>FI_TCP_ZEROCOPY_SIZE</u>
              Lower threshold where zero copy transfers will be used, if supported by the platform, set to -1 to
              disable.  Default: disabled.

       <u>FI_TCP_TRACE_MSG</u>
              If enabled, will log transport message information on all sent and  received  messages.   Must  be
              paired with FI_LOG_LEVEL=trace to print the message details.

       <u>FI_TCP_IO_URING</u>
              Uses  io_uring  for  socket operations if available, rather than going through the standard socket
              APIs (i.e. connect, accept, send, recv).  Default: disabled.

</pre><h4><b>NOTES</b></h4><pre>
       The tcp provider supports both msg and rdm endpoints directly.  Support for rdm  endpoints  is  available
       starting at libfabric version v1.18.0, and comes from the merge back of the net provider found in libfab‐
       ric  versions  v1.16 and v1.17.  For compatibility with older libfabric versions, the tcp provider may be
       paired with the ofi_rxm provider as an alternative solution for rdm endpoint support.  It is  recommended
       that  applications  that do not need wire compatibility with older versions of libfabric use the rdm end‐
       point support directly from the tcp provider.  This will provide the best performance.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man7/fabric.7.html">fabric</a></b>(7), <b><a href="../man7/fi_provider.7.html">fi_provider</a></b>(7), <b><a href="../man3/fi_getinfo.3.html">fi_getinfo</a></b>(3)

</pre><h4><b>AUTHORS</b></h4><pre>
       OpenFabrics.

Libfabric Programmer’s Manual                      2024-12-10                                          <u><a href="../man7/fi_tcp.7.html">fi_tcp</a></u>(7)
</pre>
 </div>
</div></section>
</div>
</body>
</html>