<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>apt-patterns - Syntax and semantics of apt search patterns</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/apt">apt_3.1.3_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       apt-patterns - Syntax and semantics of apt search patterns

</pre><h4><b>DESCRIPTION</b></h4><pre>
       Starting with version 2.0, <b>APT</b> provides support for patterns, which can be used to query the apt cache
       for packages.

</pre><h4><b>LOGIC</b> <b>PATTERNS</b></h4><pre>
       These patterns provide the basic means to combine other patterns into more complex expressions, as well
       as ?true and ?false patterns.

       ?and(PATTERN, PATTERN, ...), PATTERN PATTERN ...
           Selects objects where all specified patterns match.

       ?false, ~F
           Selects nothing.

       ?not(PATTERN), !PATTERN
           Selects objects where PATTERN does not match.

       ?or(PATTERN, PATTERN, ...), PATTERN | PATTERN | ...
           Selects objects where at least one of the specified patterns match.

       ?true, ~T
           Selects all objects.

       (PATTERN)
           Selects the same as PATTERN, can be used to work around precedence, for example,
           (~ramd64|~ri386)~nfoo

</pre><h4><b>NARROWING</b> <b>PATTERNS</b></h4><pre>
       ?all-versions(PATTERN)
           Selects packages where all versions match PATTERN. When matching versions instead, same as PATTERN.

       ?any-version(PATTERN)
           Selects any version where the pattern matches on the version.

           For example, while ?and(?<a href="../man1/version.1.html">version</a>(1),?<a href="../man2/version.2.html">version</a>(2)) matches a package which has one version containing 1
           and one version containing 2, ?any-version(?and(?<a href="../man1/version.1.html">version</a>(1),?<a href="../man2/version.2.html">version</a>(2))) restricts the ?and to act
           on the same version.

       ?narrow(PATTERN...)
           Selects any version matching all PATTERNs, short for ?any-version(?and(PATTERN...)).

</pre><h4><b>PACKAGE</b> <b>PATTERNS</b></h4><pre>
       These patterns select specific packages.

       ?architecture(WILDCARD), ~rWILDCARD
           Selects packages matching the specified architecture, which may contain wildcards using any.

       ?automatic, ~M
           Selects packages that were installed automatically.

       ?broken, ~b
           Selects packages that have broken dependencies.

       ?config-files, ~c
           Selects packages that are not fully installed, but have solely residual configuration files left.

       ?essential, ~E
           Selects packages that have Essential: yes set in their control file.

       ?exact-name(NAME)
           Selects packages with the exact specified name.

       ?garbage, ~g
           Selects packages that can be removed automatically.

       ?installed, ~i
           Selects packages that are currently installed. Since version 2.5.4, narrowing this pattern (see
           narrowing patterns above) makes it only match installed versions (see version patterns below).

       ?name(REGEX), ~nREGEX
           Selects packages where the name matches the given regular expression.

       ?obsolete, ~o
           Selects packages that no longer exist in repositories.

       ?phasing
           Selects packages that will be kept back in upgrades due to phasing.

       ?upgradable, ~U
           Selects packages that can be upgraded (have a newer candidate).

       ?virtual, ~v
           Selects all virtual packages; that is packages without a version. These exist when they are
           referenced somewhere in the archive, for example because something depends on that name.

</pre><h4><b>VERSION</b> <b>PATTERNS</b></h4><pre>
       These patterns select specific versions of a package.

       ?archive(REGEX), ~AREGEX
           Selects versions that come from the archive that matches the specified regular expression. Archive,
           here, means the values after a= in <b>apt-cache</b> <b>policy</b>.

       ?codename(REGEX)
           Selects versions that come from the codename that matches the specified regular expression. Codename,
           here, means the values after n= in <b>apt-cache</b> <b>policy</b>.

       ?installed, ~i
           Selects package versions that are currently installed. Versions prior to 2.5.4 only matched at the
           package level, hence ?any-version(?installed?version(2.0))matched even if 2.0 was not installed, but
           another version was.

       ?origin(REGEX), ~OREGEX
           Selects versions that come from the origin that matches the specified regular expression. Origin,
           here, means the values after o= in <b>apt-cache</b> <b>policy</b>.

       ?section(REGEX), ~sREGEX
           Selects versions where the section matches the specified regular expression.

       ?source-package(REGEX), ~eREGEX
           Selects versions where the source package name matches the specified regular expression.

       ?source-version(REGEX)
           Selects versions where the source package version matches the specified regular expression.

       ?version(REGEX), ~VREGEX
           Selects versions where the version string matches the specified regular expression.

       ?priority(NAME), ~pNAME
           Selects versions where the Priority string equals the given name.

       ?security
           Selects packages that are a security update or succeed a security update.

</pre><h4><b>PACKAGE</b> <b>RELATIONSHIP</b> <b>PATTERNS</b></h4><pre>
       These patterns match specific package versions that depend/conflict with some other packages.

       ?depends(PATTERN), ~DPATTERN, ?pre-depends(PATTERN), ~DPre-Depends:PATTERN, ?suggests(PATTERN),
       ~DSuggests:PATTERN, ?recommends(PATTERN), ~DRecommends:PATTERN, ?conflicts(PATTERN), ~DConflicts:PATTERN,
       ?replaces(PATTERN), ~DReplaces:PATTERN, ?obsoletes(PATTERN), ~DObsoletes:PATTERN, ?breaks(PATTERN),
       ~DBreaks:PATTERN, ?enhances(PATTERN), ~DEnhances:PATTERN
           Selects versions depending/pre-depending/suggesting/recommending/conflicting/etc on/with/ packages
           matching PATTERN.

       ?reverse-<u>depType</u>(PATTERN), ~R<u>DepType</u>:PATTERN
           Opposite of ?depends and friends - selects all packages that have reverse-dependencies (versions)
           matching PATTERN.

           <u>depType</u> is one of the dependency types such as depends, so that we don't have to repeat the entire
           list from the first paragraph here.

</pre><h4><b>EXAMPLES</b></h4><pre>
       apt remove ?garbage
           Remove all packages that are automatically installed and no longer needed - same as apt autoremove

       apt purge ?config-files
           Purge all packages that only have configuration files left

       apt list '~i !~M (~slibs|~sperl|~spython)'
           List all manually-installed packages in sections matching libs, perl, or python.

</pre><h4><b>MIGRATING</b> <b>FROM</b> <b>APTITUDE</b></h4><pre>
       Patterns in apt are heavily inspired by patterns in aptitude, but with some tweaks:

       •   Syntax is uniform: If there is an opening parenthesis after a term, it is always assumed to be the
           beginning of an argument list.

           In aptitude, a syntactic form "?foo(bar)" could mean "?and(?foo,bar)" if foo does not take an
           argument. In APT, this will cause an error.

       •   Not all patterns are supported.

       •   Some additional patterns are available, for example, for finding gstreamer codecs.

       •   Escaping terms with ~ is not supported.

       •   A trailing comma is allowed in argument lists

       •   ?narrow accepts infinite arguments

       •   foo cannot be used as a shortform for ?name(foo), as this can cause typos to go unnoticed: Consider
           ?and(...,~poptional): this requires the package to have required priority, but if you do not type the
           ~, it would require the package name to contain poptional.

       •   Dependency types for ~D and related operators need to be specified in the canonical case.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man8/apt-get.8.html">apt-get</a></b>(8), <b><a href="../man8/apt.8.html">apt</a></b>(8)

</pre><h4><b>BUGS</b></h4><pre>
       <b>APT</b> <b>bug</b> <b>page</b>[1]. If you wish to report a bug in APT, please see /usr/share/doc/debian/bug-reporting.txt
       or the <b><a href="../man1/reportbug.1.html">reportbug</a></b>(1) command.

</pre><h4><b>AUTHOR</b></h4><pre>
       APT was written by the APT team &lt;<a href="mailto:apt@packages.debian.org">apt@packages.debian.org</a>&gt;.

</pre><h4><b>AUTHORS</b></h4><pre>
       <b>Jason</b> <b>Gunthorpe</b>

       <b>APT</b> <b>team</b>

</pre><h4><b>NOTES</b></h4><pre>
        1. APT bug page
           https://bugs.debian.org/src:apt

APT 3.1.3                                        22 October 2024                                 <u><a href="../man7/APT-PATTERNS.7.html">APT-PATTERNS</a></u>(7)
</pre>
 </div>
</div></section>
</div>
</body>
</html>