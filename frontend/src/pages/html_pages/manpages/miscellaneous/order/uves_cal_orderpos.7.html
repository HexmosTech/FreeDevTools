<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>uves_cal_orderpos - Defines echelle order positions</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/noble/+package/cpl-plugin-uves-doc">cpl-plugin-uves-doc_6.1.8+dfsg-2build3_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       uves_cal_orderpos - Defines echelle order positions

</pre><h4><b>SYNOPSIS</b></h4><pre>
       esorex <b>uves_cal_orderpos</b> [OPTIONS] FILE.sof

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The recipe defines the order positions in an echelle image. The orders are initially detected by means of
       a Hough transformation, the orders are then traced, and the positions are finally fitted with a global
       polynomial.

       Expected input frames are narrow flat fields, ORDER_FLAT_xxx, or standard stars, STANDARD_xxx, where xxx
       is ´BLUE´ or ´RED´, and optionally for each chip a DRS setup table (DRS_TABLE_BLUE, DRS_TABLE_REDL,
       DRS_TABLE_REDU) or guess order table (ORDER_GUESS_TAB_BLUE, ORDER_GUESS_TAB_REDL, ORDER_GUESS_TAB_REDU,
       or, for backward compatibility, ORDER_TABLE_BLUE, ORDER_TABLE_REDL, ORDER_TABLE_REDU). The recipe
       processes only the first raw frame found.

       Output is one (or two if input is a red frame) order table(s) (UVES: ORDER_TABLE_(BLUE|REDL|REDU);
       FLAMES: FIB_ORDEF_(REDL|REDU) contaning the columns: X                : Position along x Order
       : Relative order number Y                : Order line centroid location Yfit             : The fitted
       order location dY               : Uncertainty of Y dYfit_Square     : Variance of Yfit Residual         :
       Y - Yfit Residual_Square  : Residual^2 OrderRMS         : Root mean squared residual of initial
                          one-dimensional linear fit of order

       The bivariate fit polynomial itself is stored in table extension no. 2.

       The 3rd table extension contains a table that defines the active fibre traces and their positions (for
       support of FLAMES/UVES)

</pre><h4><b>OPTIONS</b></h4><pre>
       <b>--backsubdegx</b> <u>&lt;int&gt;</u>
              Degree  (in  x)  of polynomial used to estimate the background (mode=poly). (int; default: 2). The
              full    name    of    this     option     for     the     EsoRex     configuration     file     is
              <b>uves_cal_orderpos.preproc.backsubdegx</b> [default = <u>2</u>].

       <b>--backsubdegy</b> <u>&lt;int&gt;</u>
              Degree  (in  y)  of polynomial used to estimate the background (mode=poly). (int; default: 2). The
              full    name    of    this     option     for     the     EsoRex     configuration     file     is
              <b>uves_cal_orderpos.preproc.backsubdegy</b> [default = <u>2</u>].

       <b>--backsubgrid</b> <u>&lt;int&gt;</u>
              Number  of  grid points (in x- and y-direction) used to estimate the background (mode=poly). (int;
              default:  50).  The  full  name  of  this  option   for   the   EsoRex   configuration   file   is
              <b>uves_cal_orderpos.preproc.backsubgrid</b> [default = <u>50</u>].

       <b>--backsubkappa</b> <u>&lt;float&gt;</u>
              The  value  of  kappa  in  the  one-sided  kappa-sigma  clipping  used  to estimate the background
              (mode=poly). (float; default: 4.0). The full name of this option for the EsoRex configuration file
              is <b>uves_cal_orderpos.preproc.backsubkappa</b> [default = <u>4.0</u>].

       <b>--backsubradiusy</b> <u>&lt;int&gt;</u>
              The height (in pixels) of the background sampling window is (2*radiusy + 1). This parameter is not
              corrected for  binning.  (int;  default:  2).  The  full  name  of  this  option  for  the  EsoRex
              configuration file is <b>uves_cal_orderpos.preproc.backsubradiusy</b> [default = <u>2</u>].

       <b>--debug</b> <u>&lt;bool&gt;</u>
              Whether  or  not  to save intermediate results to local directory (bool; default: False). The full
              name of this option for the EsoRex configuration file is <b>uves.debug</b> [default = <u>False</u>].

       <b>--defpol1</b> <u>&lt;int&gt;</u>
              The degree of the bivarite fit (cross dispersion direction). If negative, the degree is  optimized
              to give the best fit (int; default: -1). The full name of this option for the EsoRex configuration
              file is <b>uves_cal_orderpos.reject.defpol1</b> [default = <u>-1</u>].

       <b>--defpol2</b> <u>&lt;int&gt;</u>
              The  degree  of  the bivarite fit (order number). If negative, the degree is optimized to give the
              best fit (int; default: -1). The full name of this option for the  EsoRex  configuration  file  is
              <b>uves_cal_orderpos.reject.defpol2</b> [default = <u>-1</u>].

       <b>--kappa</b> <u>&lt;float&gt;</u>
              Used  for  kappa-sigma  clipping  of  the  final  polynomial fit. If negative, no clipping is done
              (float; default: 4.0). The full  name  of  this  option  for  the  EsoRex  configuration  file  is
              <b>uves_cal_orderpos.reject.kappa</b> [default = <u>4.0</u>].

       <b>--maxgap</b> <u>&lt;float&gt;</u>
              If  the order line drops below detection threshold, the order tracing algorithm will try to jump a
              gap of maximum size ´maxgap´ multiplied by the image width (float; default: 0.2). The full name of
              this option for the EsoRex configuration file is <b>uves_cal_orderpos.trace.maxgap</b> [default = <u>0.2</u>].

       <b>--maxrms</b> <u>&lt;float&gt;</u>
              When fitting the orders with straight lines, this is the  maximum  allowed  RMS  relative  to  the
              median  RMS  of  all  orders  (float; default: 100.0). The full name of this option for the EsoRex
              configuration file is <b>uves_cal_orderpos.reject.maxrms</b> [default = <u>100.0</u>].

       <b>--maxslope</b> <u>&lt;float&gt;</u>
              Maximum possible line slope (float; default: 0.2). The full name of this  option  for  the  EsoRex
              configuration file is <b>uves_cal_orderpos.hough.maxslope</b> [default = <u>0.2</u>].

       <b>--minslope</b> <u>&lt;float&gt;</u>
              Minimum  possible  line  slope.  This  should be the ´physical´ slope on the chip, i.e. not taking
              binning factors into account, which is handled by the recipe (float; default: 0.0). The full  name
              of  this  option  for the EsoRex configuration file is <b>uves_cal_orderpos.hough.minslope</b> [default =
              <u>0.0</u>].

       <b>--minthresh</b> <u>&lt;float&gt;</u>
              The minimum threshold value is (min + minthres*(max - min)). Here ´min´ and ´max´ are  the  lowest
              and  highest  pixel values in the central bin of the order (float; default: 0.2). The full name of
              this option for the EsoRex configuration  file  is  <b>uves_cal_orderpos.trace.minthresh</b>  [default  =
              <u>0.2</u>].

       <b>--mmethod</b> <u>&lt;str&gt;</u>
              Background  subtraction method. If equal to ´median´ the background is sampled using the median of
              a sub-window. If ´minimum´,  the  minimum  sub-window  value  is  used.  If  ´no´,  no  background
              subtraction  is  done.   (str;  default:  ´median´).  The  full name of this option for the EsoRex
              configuration file is <b>uves_cal_orderpos.preproc.mmethod</b> [default = <u>median</u>].

       <b>--plotter</b> <u>&lt;str&gt;</u>
              Any plots produced by the recipe are redirected to the command specified by  this  parameter.  The
              plotting  command must contain the substring ´gnuplot´ and must be able to parse gnuplot syntax on
              its standard input. Valid examples of such a command may include ´gnuplot  -persist´  and  ´cat  &gt;
              mygnuplot$$.gp´.  A finer control of the plotting options can be obtained by writing an executable
              script, e.g.  my_gnuplot.pl, that executes gnuplot after setting the desired gnuplot options (e.g.
              set terminal pslatex color). To turn off plotting, set  this  parameter  to  ´no´  (str;  default:
              ´no´).  The  full name of this option for the EsoRex configuration file is <b>uves.plotter</b> [default =
              <u>no</u>].

       <b>--process_chip</b> <u>&lt;str&gt;</u>
              For RED arm data process the redl, redu, or both chip(s) (str; default: ´both´). The full name  of
              this option for the EsoRex configuration file is <b>uves.process_chip</b> [default = <u>both</u>].

       <b>--pthres</b> <u>&lt;float&gt;</u>
              In  automatic mode, or if the number of orders to detect is read from a guess table, the detection
              of new lines stops when the intensity of a candidate line drops to less than  ´pthres´  times  the
              intensity  of the previous detection.  (float; default: 0.2). The full name of this option for the
              EsoRex configuration file is <b>uves_cal_orderpos.hough.pthres</b> [default = <u>0.2</u>].

       <b>--radx</b> <u>&lt;int&gt;</u>
              Half X size of median filtering window (int; default: 2). The full name of  this  option  for  the
              EsoRex configuration file is <b>uves_cal_orderpos.preproc.radx</b> [default = <u>2</u>].

       <b>--rady</b> <u>&lt;int&gt;</u>
              Half  Y  size  of  median filtering window (int; default: 1). The full name of this option for the
              EsoRex configuration file is <b>uves_cal_orderpos.preproc.rady</b> [default = <u>1</u>].

       <b>--samplewidth</b> <u>&lt;int&gt;</u>
              Separation of sample traces (used by Hough transform) in input image (int; default: 50). The  full
              name  of  this  option  for  the  EsoRex configuration file is <b>uves_cal_orderpos.hough.samplewidth</b>
              [default = <u>50</u>].

       <b>--sloperes</b> <u>&lt;int&gt;</u>
              Resolution (width in pixels) of Hough space (int; default: 120). The full name of this option  for
              the EsoRex configuration file is <b>uves_cal_orderpos.hough.sloperes</b> [default = <u>120</u>].

       <b>--tracestep</b> <u>&lt;int&gt;</u>
              The  step  size  used when tracing the orders (int; default: 10). The full name of this option for
              the EsoRex configuration file is <b>uves_cal_orderpos.trace.tracestep</b> [default = <u>10</u>].

       <b>--use_guess_tab</b> <u>&lt;int&gt;</u>
              If a Guess order table is provided this parameter set how it is used:0: No usage, 1: use it to set
              lower/upper Y raws where order are searched 2: the order table try to fully match the guess  (int;
              default:   1).   The   full   name   of   this   option  for  the  EsoRex  configuration  file  is
              <b>uves_cal_orderpos.preproc.use_guess_tab</b> [default = <u>1</u>].

       Note that it is possible to create a configuration file containing these  options,  along  with  suitable
       default values. Please refer to the details provided by the 'esorex --help' command.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       The full documentation for the uves pipeline can be downloaded as a PDF file using the following URL:

              <b><a href="ftp://ftp.eso.org/pub/dfs/pipelines/uves/uves-pipeline-manual-6.1.8.pdf">ftp://ftp.eso.org/pub/dfs/pipelines/uves/uves-pipeline-manual-6.1.8.pdf</a></b>

       An    overview    over    the    existing    ESO    pipelines    can   be   found   on   the   web   page
       <b>https://www.eso.org/sci/software/pipelines/</b>.

       Basic documentation about the EsoRex program can be found at the esorex (1) man page.

       It  is  possible  to  call   the   pipelines   from   python   using   the   python-cpl   package.    See
       <b>https://packages.python.org/python-cpl/index.html</b> for further information.

       The   other   recipes   of   the   uves   pipeline  are  <u><a href="../man7/flames_cal_mkmaster.7.html">flames_cal_mkmaster</a></u>(7),  <u><a href="../man7/flames_cal_orderpos.7.html">flames_cal_orderpos</a></u>(7),
       <u><a href="../man7/flames_cal_predict.7.html">flames_cal_predict</a></u>(7),   <u><a href="../man7/flames_cal_prep_sff_ofpos.7.html">flames_cal_prep_sff_ofpos</a></u>(7),   <u><a href="../man7/flames_cal_wavecal.7.html">flames_cal_wavecal</a></u>(7),   <u><a href="../man7/flames_obs_redchain.7.html">flames_obs_redchain</a></u>(7),
       <u><a href="../man7/flames_obs_scired.7.html">flames_obs_scired</a></u>(7),  <u><a href="../man7/flames_utl_unpack.7.html">flames_utl_unpack</a></u>(7),  <u><a href="../man7/uves_cal_cd_align.7.html">uves_cal_cd_align</a></u>(7), <u><a href="../man7/uves_cal_mbias.7.html">uves_cal_mbias</a></u>(7), <u><a href="../man7/uves_cal_mdark.7.html">uves_cal_mdark</a></u>(7),
       <u><a href="../man7/uves_cal_mflat.7.html">uves_cal_mflat</a></u>(7),      <u><a href="../man7/uves_cal_mflat_combine.7.html">uves_cal_mflat_combine</a></u>(7),       <u><a href="../man7/uves_cal_mkmaster.7.html">uves_cal_mkmaster</a></u>(7),       <u><a href="../man7/uves_cal_predict.7.html">uves_cal_predict</a></u>(7),
       <u><a href="../man7/uves_cal_response.7.html">uves_cal_response</a></u>(7),  <u><a href="../man7/uves_cal_tflat.7.html">uves_cal_tflat</a></u>(7),  <u><a href="../man7/uves_cal_wavecal.7.html">uves_cal_wavecal</a></u>(7), <u><a href="../man7/uves_obs_redchain.7.html">uves_obs_redchain</a></u>(7), <u><a href="../man7/uves_obs_scired.7.html">uves_obs_scired</a></u>(7),
       <u><a href="../man7/uves_utl_ima_arith.7.html">uves_utl_ima_arith</a></u>(7), <u><a href="../man7/uves_utl_remove_crh_single.7.html">uves_utl_remove_crh_single</a></u>(7)

</pre><h4><b>VERSION</b></h4><pre>
       uves_cal_orderpos 6.1.8

</pre><h4><b>AUTHOR</b></h4><pre>
       Jonas M. Larsen &lt;<a href="mailto:cpl@eso.org">cpl@eso.org</a>&gt;

</pre><h4><b>BUG</b> <b>REPORTS</b></h4><pre>
       Please report any problems to <a href="mailto:cpl@eso.org">cpl@eso.org</a>. Alternatively, you may send a report to the ESO  User  Support
       Department &lt;<a href="mailto:usd-help@eso.org">usd-help@eso.org</a>&gt;.

</pre><h4><b>LICENSE</b></h4><pre>
       This  file  is  part  of  the FLAMES/UVES Pipeline Copyright (C) 2004, 2005, 2006, 2007 European Southern
       Observatory

       This program is free software; you can redistribute it and/or modify  it  under  the  terms  of  the  GNU
       General  Public License as published by the Free Software Foundation; either version 2 of the License, or
       (at your option) any later version.

       This program is distributed in the hope that it will be useful, but WITHOUT ANY  WARRANTY;  without  even
       the  implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public
       License for more details.

       You should have received a copy of the GNU General Public License along with this program; if not,  write
       to the Free Software Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA  02111-1307  USA

uves_cal_orderpos                                     6.1.8                                 <u><a href="../man7/UVES_CAL_ORDERPOS.7.html">UVES_CAL_ORDERPOS</a></u>(7)
</pre>
 </div>
</div></section>
</div>
</body>
</html>