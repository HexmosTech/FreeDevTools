<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SharedREADME - Description of Bobcat’s shared memory classes</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libbobcat-dev">libbobcat-dev_6.07.01-2_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       SharedREADME - Description of Bobcat’s shared memory classes

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The following shared memory classes are available:

       o      <b><a href="../man3bobcat/SharedBlock.3bobcat.html">SharedBlock</a></b>(3bobcat)

              The  class  <b><a href="../man3bobcat/SharedBlock.3bobcat.html">SharedBlock</a></b>(3bobcat)  defines a small object consisting of a <b>SharedMutex</b> and a (shared
              segment) id. If offers functionality to set and retrieve the  id,  and  to  lock  and  unlock  the
              <b>SharedMutex</b>. <b>SharedBlock</b> objects are used by <b><a href="../man3bobcat/SharedSegment.3bobcat.html">SharedSegment</a></b>(3bobcat) objects to keep track of which
              segments actually contain the shared memory data. It’s a bookkeeping helper class.

       o      <b><a href="../man3bobcat/SharedSegment.3bobcat.html">SharedSegment</a></b>(3bobcat)

              The class <b>SharedSegment</b> (cf. figure <u>images/sharedsegment1.jpg</u>) interfaces to actual shared memory.
              Its  main  member  function  is the static member <u>create</u>, returning a pointer to a newly allocated
              <u>SharedMemory</u> object.

              The member <u>create</u> receives as its input parameters the number of blocks, the size of the  segments
              allocated by <b>SharedSegment</b>, and the segment’s access mode (as used by, e.g., <b><a href="../man1/chmod.1.html">chmod</a></b>(1)). It returns
              a pointer to the allocated <u>SharedSegment</u>, and its ID (set using a pointer to an <u>int</u>, passed as its
              first parameter).

              Although the <b>SharedSegment</b> class defines an array of a single <b><a href="../man3bobcat/SharedBlock.3bobcat.html">SharedBlock</a></b>(3bobcat) object, in fact
              it  will  contain  <u>d_nBlocks</u> <b>SharedBlock</b> objects. The member <u>create</u> first allocates a block of raw
              memory of the required total size. Next it initializes the first part of this raw, shared  memory,
              using  the  <u>SharedSegment</u>  constructor and placement new. Next, the remaining amount of raw shared
              memory is initialized with <u>d_nBlocks</u> <u>-</u> <u>1</u> <b>SharedBlock</b>  objects,  again  using  placement  new  (cf.
              figure <u>images/sharedsegment2.jpg</u>).

       o      <b><a href="../man3bobcat/SharedPos.3bobcat.html">SharedPos</a></b>(3bobcat)

              The  class  <b><a href="../man3bobcat/SharedPos.3bobcat.html">SharedPos</a></b>(3bobcat) monitors position information in the shared memory segments managed
              by <b>SharedSegment</b> objects. <b>SharedPos</b> only has a default constructor,  but  offers  a  <b>reset</b>  member
              receiving at construction time a pointer to a <b>SharedSegment</b> object.

       o      <b><a href="../man3bobcat/SharedMemory.3bobcat.html">SharedMemory</a></b>(3bobcat)

              The  class  <b><a href="../man3bobcat/SharedMemory.3bobcat.html">SharedMemory</a></b>(3bobcat) offers the standard interface to shared memory, defining members
              like <u>read,</u> <u>get,</u> <u>write</u> and <u>put</u>. It interfaces to a  <u>SharedSegment</u>  object,  and  uses  a  <u>SharedPos</u>
              object to keep track of the <u>SharedMemory’s</u> offsets.

              A  <b>SharedMemory</b>  object  itself  resides  in a program’s working memory, and not in the computer’s
              shared memory area. At any time the <b>SharedMemory</b> object only loads at most one actual block of the
              shared memory block managed by <b>SharedSegment</b>. The current position in the shared memory managed by
              <b>SharedSegment</b> is monitored by the <b>SharedMemory</b>’s <u>SharedBlock</u> <u>d_pos</u> member.

              Following read/write operations the offset is updated accordingly. There’s only one offset,  which
              is  used  by  <u>[IO]?SharedStream</u> objects when requesting or updating offsets. a <b>SharedMemory</b> object
              offers safeguards against inappropriate use. E.g., if no memory has been allocated yet it may thow
              exceptions. Also, offsets can never exceed the <u>SharedMemory’s</u> maximum possible offset.

       o      <b><a href="../man3bobcat/SharedMutex.3bobcat.html">SharedMutex</a></b>(3bobcat)

              The class <b>SharedMutex</b> implements a non-recursive mutex that can be stored  in  shared  memory.  It
              merely  offers  <u>lock</u>  and <u>unlock</u> members. Within one thread <u>lock</u> should never be called repeatedly
              unless <u>unlock</u> is called first. The <u>unlock</u> member may safely repeatedly be called; once  the  mutex
              has been unlocked, repeated requests to unlock the mutex are simply ignored. When a <b>SharedMutex</b> is
              destroyed  it  calls  <u>unlock</u>.  Use <u>SharedMemory’s</u> <u>install</u> member to define a <b>SharedMutex</b> object in
              shared memory, and use <u>ptr-&gt;~SharedMutex()</u> (with <u>SharedMutex</u>  <u>*ptr</u>  pointing  at  the  <u>SharedMutex</u>
              object) to destroy it again.

       o      <b><a href="../man3bobcat/SharedCondition.3bobcat.html">SharedCondition</a></b>(3bobcat)

              The class <b>SharedCondition</b> implements a condition variable and an associated mutex, both created in
              shared   memory  controlled  by  a  <b>SharedMemory</b>  object.  It  offers  all  the  functionality  of
              <u>std::condition_variable</u>. A <b>SharedCondition</b> object itself is defined in a thread’s working  memory,
              but  interfaces  to  a  <u>`Condition’</u>  object  containing a condition variable and a mutex which are
              installed in shared memory. The size of this <u>`Condition’</u> object is returned by the  static  member
              <u>SharedCondition::size</u>.   <b>SharedCondition</b>  members  ensure  that  the  thread  has  access  to  the
              <u>`Condition’</u> object, and that the shared memory’s offset has not changed when  returning  from  the
              <b>SharedCondition’s</b> members.

       o      <b><a href="../man3bobcat/SharedBuf.3bobcat.html">SharedBuf</a></b>(3bobcat)

              The  class  <b>SharedBuf</b>  implements  a  <u>std::streambuf</u>  specialization interfacing to a <u>SharedMemory</u>
              object. In addition to a default constructor which is an empty stub the class offers  constructors
              which  immediately  interface  to  a  <u>SharedMemory</u>  object, as well as a member to (re)associate a
              <b>SharedBuf</b> object with a <u>SharedMemory</u> object.

       o      <b>SharedStream,</b> <b>ISharedStream,</b> <b><a href="../man3bobcat/OSharedStream.3bobcat.html">OSharedStream</a></b>(3bobcat)

              These  stream  classes  offer  stream-facilities  operating  on  shared  memory  maintained  by  a
              <u>SharedMemory</u> object. The <b>SharedStream</b> class uses the <u>SharedMemory’s</u> <u>seek</u> member for both <u>seekp</u> and
              <u>seekg</u>,  and uses <u>SharedMemory’s</u> <u>offset</u> member for both <u>tellp</u> and <u>tellg</u>. All shared stream objects,
              including <b>ISharedStream</b>, offer a member to initialize a <u>SharedCondition</u>

              An overview of currently defined shared memory segments is shown  by  the  command  <u>ipcs</u>  <u>-ma</u>.  To
              remove  a  defined  shared memory segment the command <u>ipcrm</u> <u>-m</u> <u>&lt;id&gt;</u> can be used, where <u>&lt;id&gt;</u> is the
              shared memory segment’s ID.

</pre><h4><b>EXAMPLE</b></h4><pre>
       See the <b><a href="../man3bobcat/sharedstream.3bobcat.html">sharedstream</a></b>(3bobcat) man page.

</pre><h4><b>FILES</b></h4><pre>
       Images referred to in this man-page are located in the source distribution in <u>bobcat/documents/images</u>, or
       they can be found in the standard location of documentation files in your distribution  (e.g.,  they  are
       located in <u>/usr/share/doc/libbobcat6/images</u>).

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man7/bobcat.7.html">bobcat</a></b>(7),   <b><a href="../man1/ipcs.1.html">ipcs</a></b>(1),  <b><a href="../man1/ipcrm.1.html">ipcrm</a></b>(1),  <b><a href="../man3bobcat/isharedstream.3bobcat.html">isharedstream</a></b>(3bobcat),  <b><a href="../man3bobcat/osharedstream.3bobcat.html">osharedstream</a></b>(3bobcat),  <b><a href="../man3bobcat/sharedblock.3bobcat.html">sharedblock</a></b>(3bobcat),
       <b><a href="../man3bobcat/sharedcondition.3bobcat.html">sharedcondition</a></b>(3bobcat),      <b><a href="../man3bobcat/sharedmemory.3bobcat.html">sharedmemory</a></b>(3bobcat),      <b><a href="../man3bobcat/sharedmutex.3bobcat.html">sharedmutex</a></b>(3bobcat),      <b><a href="../man3bobcat/sharedpos.3bobcat.html">sharedpos</a></b>(3bobcat),
       <b><a href="../man3bobcat/sharedsegment.3bobcat.html">sharedsegment</a></b>(3bobcat), <b><a href="../man3bobcat/sharedstream.3bobcat.html">sharedstream</a></b>(3bobcat), <b><a href="../man3bobcat/sharedbuf.3bobcat.html">sharedbuf</a></b>(3bobcat)

</pre><h4><b>BUGS</b></h4><pre>
       None Reported.

</pre><h4><b>BOBCAT</b> <b>PROJECT</b> <b>FILES</b></h4><pre>
       o      <u>https://fbb-git.gitlab.io/bobcat/</u>: gitlab project page;

       Debian Bobcat project files:

       o      <u>libbobcat6</u>: debian package containing the shared library, changelog and copyright note;

       o      <u>libbobcat-dev</u>:  debian package containing the static library, headers, manual pages, and developer
              info;

</pre><h4><b>BOBCAT</b></h4><pre>
       Bobcat is an acronym of `Brokken’s Own Base Classes And Templates’.

</pre><h4><b>COPYRIGHT</b></h4><pre>
       This is free software, distributed under the terms of the GNU General Public License (GPL).

</pre><h4><b>AUTHOR</b></h4><pre>
       Frank B. Brokken (<b><a href="mailto:f.b.brokken@rug.nl">f.b.brokken@rug.nl</a></b>).

libbobcat-dev_6.07.01                               2005-2025                              <u><a href="../man7bobcat/SharedREADME.7bobcat.html">SharedREADME</a></u>(7bobcat)
</pre>
 </div>
</div></section>
</div>
</body>
</html>