<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RELEASE_SAVEPOINT - release a previously defined savepoint</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/postgresql-client-17">postgresql-client-17_17.5-1build1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       RELEASE_SAVEPOINT - release a previously defined savepoint

</pre><h4><b>SYNOPSIS</b></h4><pre>
       RELEASE [ SAVEPOINT ] <u>savepoint_name</u>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>RELEASE</b> <b>SAVEPOINT</b> releases the named savepoint and all active savepoints that were created after the
       named savepoint, and frees their resources. All changes made since the creation of the savepoint that
       didn't already get rolled back are merged into the transaction or savepoint that was active when the
       named savepoint was created. Changes made after <b>RELEASE</b> <b>SAVEPOINT</b> will also be part of this active
       transaction or savepoint.

</pre><h4><b>PARAMETERS</b></h4><pre>
       <u>savepoint_name</u>
           The name of the savepoint to release.

</pre><h4><b>NOTES</b></h4><pre>
       Specifying a savepoint name that was not previously defined is an error.

       It is not possible to release a savepoint when the transaction is in an aborted state; to do that, use
       ROLLBACK TO SAVEPOINT (<b><a href="../man7/ROLLBACK_TO_SAVEPOINT.7.html">ROLLBACK_TO_SAVEPOINT</a></b>(7)).

       If multiple savepoints have the same name, only the most recently defined unreleased one is released.
       Repeated commands will release progressively older savepoints.

</pre><h4><b>EXAMPLES</b></h4><pre>
       To establish and later release a savepoint:

           BEGIN;
               INSERT INTO table1 VALUES (3);
               SAVEPOINT my_savepoint;
               INSERT INTO table1 VALUES (4);
               RELEASE SAVEPOINT my_savepoint;
           COMMIT;

       The above transaction will insert both 3 and 4.

       A more complex example with multiple nested subtransactions:

           BEGIN;
               INSERT INTO table1 VALUES (1);
               SAVEPOINT sp1;
               INSERT INTO table1 VALUES (2);
               SAVEPOINT sp2;
               INSERT INTO table1 VALUES (3);
               RELEASE SAVEPOINT sp2;
               INSERT INTO table1 VALUES (4))); -- generates an error

       In this example, the application requests the release of the savepoint sp2, which inserted 3. This
       changes the insert's transaction context to sp1. When the statement attempting to insert value 4
       generates an error, the insertion of 2 and 4 are lost because they are in the same, now-rolled back
       savepoint, and value 3 is in the same transaction context. The application can now only choose one of
       these two commands, since all other commands will be ignored:

           ROLLBACK;
           ROLLBACK TO SAVEPOINT sp1;

       Choosing <b>ROLLBACK</b> will abort everything, including value 1, whereas <b>ROLLBACK</b> <b>TO</b> <b>SAVEPOINT</b> <b>sp1</b> will retain
       value 1 and allow the transaction to continue.

</pre><h4><b>COMPATIBILITY</b></h4><pre>
       This command conforms to the SQL standard. The standard specifies that the key word SAVEPOINT is
       mandatory, but PostgreSQL allows it to be omitted.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man7/BEGIN.7.html">BEGIN</a></b>(7), <b><a href="../man7/COMMIT.7.html">COMMIT</a></b>(7), <b><a href="../man7/ROLLBACK.7.html">ROLLBACK</a></b>(7), ROLLBACK TO SAVEPOINT (<b><a href="../man7/ROLLBACK_TO_SAVEPOINT.7.html">ROLLBACK_TO_SAVEPOINT</a></b>(7)), <b><a href="../man7/SAVEPOINT.7.html">SAVEPOINT</a></b>(7)

PostgreSQL 17.5                                       2025                                  <u>RELEASE</u> <u><a href="../man7/SAVEPOINT.7.html">SAVEPOINT</a></u>(7)
</pre>
 </div>
</div></section>
</div>
</body>
</html>