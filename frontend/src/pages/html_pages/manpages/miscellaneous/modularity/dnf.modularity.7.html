<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>dnf.modularity - Modularity in DNF</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/noble/+package/dnf">dnf_4.14.0-4.1ubuntu1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       dnf.modularity - Modularity in DNF

       Modularity  is  new  way  of  building,  organizing  and  delivering  packages.   For  more  details see:
       <u>https://docs.pagure.org/modularity/</u>

</pre><h4><b>DEFINITIONS</b></h4><pre>
       <b>modulemd</b>
              Every repository can contain <b>modules</b> metadata  with  modulemd  documents.   These  documents  hold
              metadata about modules such as <b>Name</b>, <b>Stream</b> or list of packages.

       <b>(non-modular)</b> <b>package</b>
              Package that doesn't belong to a module.

       <b>modular</b> <b>package</b>
              Package  that  belongs to a module. It is listed in modulemd under the <b>artifacts</b> section.  Modular
              packages can be also identified by having <b>%{modularitylabel}</b> RPM header set.

       <b>(module)</b> <b>stream</b>
              Stream is a collection of packages, a virtual repository. It is identified with  <b>Name</b>  and  <b>Stream</b>
              from modulemd separated with colon, for example "postgresql:9.6".

              Module  streams  can  be  <b>active</b>  or  <b>inactive</b>. <b>active</b> means the RPM packages from this stream are
              included in the set of available packages.  Packages  from  <b>inactive</b>  streams  are  filtered  out.
              Streams are <b>active</b> either if marked as <b>default</b> or if they are explicitly <b>enabled</b> by a user action.
              Streams  that satisfy dependencies of <b>default</b> or <b>enabled</b> streams are also considered <b>active</b>.  Only
              one stream of a particular module can be <b>active</b> at a given point in time.

</pre><h4><b>PACKAGE</b> <b>FILTERING</b></h4><pre>
       Without modules, packages with the highest version are used by default.

       Module streams can distribute packages with lower versions than available in the  repositories  available
       to  the  operating  system.  To  make  such packages available for installs and upgrades, the non-modular
       packages are filtered out when their name or provide matches against a  modular  package  name  from  any
       enabled, default, or dependent stream. Modular source packages will not cause non-modular binary packages
       to be filtered out.

   <b>Demodularized</b> <b>rpms</b>
       Contains  names of RPMs excluded from package filtering for particular module stream. When defined in the
       latest active module, non-modular RPMs with the same name or provide which were previously  filtered  out
       will reappear.

</pre><h4><b>HOTFIX</b> <b>REPOSITORIES</b></h4><pre>
       In  special  cases,  a  user wants to cherry-pick individual packages provided outside module streams and
       make them available on along with packages from the active streams.   Under  normal  circumstances,  such
       packages  are  filtered  out or rejected from getting on the system by Fail-safe mechanisms.  To make the
       system use packages from a repository regardless of their modularity, specify <b>module_hotfixes=true</b> in the
       .repo file. This protects the repository from package filtering.

       Please note the hotfix packages do not override module packages,  they  only  become  part  of  available
       package set. It's the package <b>Epoch</b>, <b>Version</b> and <b>Release</b> what determines if the package is the latest.

</pre><h4><b>FAIL-SAFE</b> <b>MECHANISMS</b></h4><pre>
   <b>Repositories</b> <b>with</b> <b>module</b> <b>metadata</b> <b>are</b> <b>unavailable</b>
       When  a repository with module metadata is unavailable, package filtering must keep working.  Non-modular
       RPMs must remain unavailable and must never get on the system.

       This happens when:

       • user disables a repository via <b>--disablerepo</b> or uses <b>--repoid</b>

       • user removes a .repo file from disk

       • repository is not available and has <b>skip_if_unavailable=true</b>

       DNF keeps copies of the latest modulemd for every active stream and uses  them  if  there's  no  modulemd
       available for the stream.  This keeps package filtering working correctly.

       The  copies  are  made any time a transaction is resolved and started.  That includes RPM transactions as
       well as any <b>dnf</b> <b>module</b> <b>&lt;enable|disable|reset&gt;</b> operations.

       When the fail-safe data is used, dnf show such modules as part of @modulefailsafe repository.

   <b>Orphaned</b> <b>modular</b> <b>packages</b>
       All packages that are built as a part of a module  have  <b>%{modularitylabel}</b>  RPM  header  set.   If  such
       package  becomes  part  of  RPM  transaction  and  cannot  be associated with any available modulemd, DNF
       prevents from getting it on the system (package is available, but cannot be installed,  upgraded,  etc.).
       Packages from Hotfix repositories or Commandline repository are not affected by Fail-safe mechanisms.

</pre><h4><b>AUTHOR</b></h4><pre>
       See AUTHORS in DNF source distribution.

</pre><h4><b>COPYRIGHT</b></h4><pre>
       2012-2024, Red Hat, Licensed under GPLv2+

4.14.0                                            Mar 09, 2024                                 <u><a href="../man7/DNF.MODULARITY.7.html">DNF.MODULARITY</a></u>(7)
</pre>
 </div>
</div></section>
</div>
</body>
</html>