<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CREATE_CONVERSION - define a new encoding conversion</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/postgresql-client-17">postgresql-client-17_17.5-1build1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       CREATE_CONVERSION - define a new encoding conversion

</pre><h4><b>SYNOPSIS</b></h4><pre>
       CREATE [ DEFAULT ] CONVERSION <u>name</u>
           FOR <u>source_encoding</u> TO <u>dest_encoding</u> FROM <u>function_name</u>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>CREATE</b> <b>CONVERSION</b> defines a new conversion between two character set encodings.

       Conversions that are marked DEFAULT can be used for automatic encoding conversion between client and
       server. To support that usage, two conversions, from encoding A to B <u>and</u> from encoding B to A, must be
       defined.

       To be able to create a conversion, you must have EXECUTE privilege on the function and CREATE privilege
       on the destination schema.

</pre><h4><b>PARAMETERS</b></h4><pre>
       DEFAULT
           The DEFAULT clause indicates that this conversion is the default for this particular source to
           destination encoding. There should be only one default encoding in a schema for the encoding pair.

       <u>name</u>
           The name of the conversion. The conversion name can be schema-qualified. If it is not, the conversion
           is defined in the current schema. The conversion name must be unique within a schema.

       <u>source_encoding</u>
           The source encoding name.

       <u>dest_encoding</u>
           The destination encoding name.

       <u>function_name</u>
           The function used to perform the conversion. The function name can be schema-qualified. If it is not,
           the function will be looked up in the path.

           The function must have the following signature:

               conv_proc(
                   integer,  -- source encoding ID
                   integer,  -- destination encoding ID
                   cstring,  -- source string (null terminated C string)
                   internal, -- destination (fill with a null terminated C string)
                   integer,  -- source string length
                   boolean   -- if true, don't throw an error if conversion fails
               ) RETURNS integer;

           The return value is the number of source bytes that were successfully converted. If the last argument
           is false, the function must throw an error on invalid input, and the return value is always equal to
           the source string length.

</pre><h4><b>NOTES</b></h4><pre>
       Neither the source nor the destination encoding can be SQL_ASCII, as the server's behavior for cases
       involving the SQL_ASCII “encoding” is hard-wired.

       Use <b>DROP</b> <b>CONVERSION</b> to remove user-defined conversions.

       The privileges required to create a conversion might be changed in a future release.

</pre><h4><b>EXAMPLES</b></h4><pre>
       To create a conversion from encoding UTF8 to LATIN1 using <b>myfunc</b>:

           CREATE CONVERSION myconv FOR 'UTF8' TO 'LATIN1' FROM myfunc;

</pre><h4><b>COMPATIBILITY</b></h4><pre>
       <b>CREATE</b> <b>CONVERSION</b> is a PostgreSQL extension. There is no <b>CREATE</b> <b>CONVERSION</b> statement in the SQL standard,
       but a <b>CREATE</b> <b>TRANSLATION</b> statement that is very similar in purpose and syntax.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       ALTER CONVERSION (<b><a href="../man7/ALTER_CONVERSION.7.html">ALTER_CONVERSION</a></b>(7)), CREATE FUNCTION (<b><a href="../man7/CREATE_FUNCTION.7.html">CREATE_FUNCTION</a></b>(7)), DROP CONVERSION
       (<b><a href="../man7/DROP_CONVERSION.7.html">DROP_CONVERSION</a></b>(7))

PostgreSQL 17.5                                       2025                                  <u>CREATE</u> <u><a href="../man7/CONVERSION.7.html">CONVERSION</a></u>(7)
</pre>
 </div>
</div></section>
</div>
</body>
</html>