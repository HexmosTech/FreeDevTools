<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>flames_cal_mkmaster - Creates a master flat frame to support FIBER mode data reduction</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/noble/+package/cpl-plugin-uves-doc">cpl-plugin-uves-doc_6.1.8+dfsg-2build3_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       flames_cal_mkmaster - Creates a master flat frame to support FIBER mode data reduction

</pre><h4><b>SYNOPSIS</b></h4><pre>
       esorex <b>flames_cal_mkmaster</b> [OPTIONS] FILE.sof

</pre><h4><b>DESCRIPTION</b></h4><pre>
       This recipe creates a composite master flat frame to reduce FIBER mode data by: 1) Group each input raw
       flat frame per grating setting. Then for each set: 1a) subtracts the master bias frame from each flat
       field frame, 1b) divides each flat field frame by the exposure time for that frame, 1c) takes the median
       of all bias subtracted, normalized raw flat frames, 1d) optionally subtracts the master dark frame, and
       1e) subtracts the background to get the bias subtracted, optionally dark subtracted, normalized,
       background subtracted master flat-field frame.

       2) Creates a synthetic master frame resulting from the coaddition of each master flat frame obtained by
       each set Symbolically,
        masterflat = median( (flat_i - masterbias)/exptime_i ) - masterdark/exptime
                   - background.

       The input flat field frames must have same tag which must match (SFLAT_(BLUE|RED), for example SFLAT_BLUE
       or FLAT_RED. Also, a master bias (MASTER_BIAS_xxxx) and ordertable (ORDER_TABLE_xxxx) must be provided
       for each chip (xxxx = BLUE, REDL, REDU). A master dark frame (MASTER_(P)DARK_xxxx) may optionally be
       provided. On blue input the recipe computes one master flat field frame; on red input the recipe produces
       a master flat field frame for each chip (MASTER_SFLAT_xxxx).

</pre><h4><b>OPTIONS</b></h4><pre>
       <b>--backsub.mmethod</b> <u>&lt;str&gt;</u>
              Background  measuring method. If equal to ´median´ the background is sampled using the median of a
              subwindow. If ´minimum´, the subwindow minimum value is used. If ´no´, no  background  subtraction
              is done.  (str; default: ´median´). The full name of this option for the EsoRex configuration file
              is <b>flames_cal_mkmaster.backsub.mmethod</b> [default = <u>median</u>].

       <b>--backsub.npoints</b> <u>&lt;int&gt;</u>
              This  is  the  number of columns in interorder space used to sample the background. (int; default:
              82).   The   full   name   of   this   option   for   the    EsoRex    configuration    file    is
              <b>flames_cal_mkmaster.backsub.npoints</b> [default = <u>82</u>].

       <b>--backsub.radiusy</b> <u>&lt;int&gt;</u>
              The height (in pixels) of the background sampling window is (2*radiusy + 1). This parameter is not
              corrected  for  binning.  (int;  default:  2).  The  full  name  of  this  option  for  the EsoRex
              configuration file is <b>flames_cal_mkmaster.backsub.radiusy</b> [default = <u>2</u>].

       <b>--backsub.sdegree</b> <u>&lt;int&gt;</u>
              Degree of interpolating splines. Currently only degree = 1 is supported  (int;  default:  1).  The
              full  name of this option for the EsoRex configuration file is <b>flames_cal_mkmaster.backsub.sdegree</b>
              [default = <u>1</u>].

       <b>--backsub.smoothx</b> <u>&lt;float&gt;</u>
              If spline interpolation is used to measure the background,  the  x-radius  of  the  post-smoothing
              window  is  (smoothx  *  image_width).   Here,  ´image_width´ is the image width after binning. If
              negative, the default values are used: (25.0/4096) for blue flat-field frames, (50.0/4096) for red
              flat-field frames, (300.0/4096) for blue science frames and (300.0/4096) for red  science  frames.
              (float;  default:  -1.0).  The  full  name  of  this  option  for the EsoRex configuration file is
              <b>flames_cal_mkmaster.backsub.smoothx</b> [default = <u>-1.0</u>].

       <b>--backsub.smoothy</b> <u>&lt;float&gt;</u>
              If spline interpolation is used to measure the background,  the  y-radius  of  the  post-smoothing
              window  is  (smoothy  * image_height).  Here, ´image_height´ is the image height after binning. If
              negative, the default values are used: (100.0/2048) for blue flat-field frames,  (300.0/2048)  for
              red  flat-field  frames,  (200.0/2048)  for  blue  science frames and (500.0/2048) for red science
              frames. (float; default: -1.0). The full name of this option for the EsoRex configuration file  is
              <b>flames_cal_mkmaster.backsub.smoothy</b> [default = <u>-1.0</u>].

       <b>--debug</b> <u>&lt;bool&gt;</u>
              Whether  or  not  to save intermediate results to local directory (bool; default: False). The full
              name of this option for the EsoRex configuration file is <b>uves.debug</b> [default = <u>False</u>].

       <b>--norm_method</b> <u>&lt;str&gt;</u>
              Method used to build master frame  (str; default: ´exptime´). The full name of this option for the
              EsoRex configuration file is <b>flames_cal_mkmaster.norm_method</b> [default = <u>exptime</u>].

       <b>--plotter</b> <u>&lt;str&gt;</u>
              Any plots produced by the recipe are redirected to the command specified by  this  parameter.  The
              plotting  command must contain the substring ´gnuplot´ and must be able to parse gnuplot syntax on
              its standard input. Valid examples of such a command may include ´gnuplot  -persist´  and  ´cat  &gt;
              mygnuplot$$.gp´.  A finer control of the plotting options can be obtained by writing an executable
              script, e.g.  my_gnuplot.pl, that executes gnuplot after setting the desired gnuplot options (e.g.
              set terminal pslatex color). To turn off plotting, set  this  parameter  to  ´no´  (str;  default:
              ´no´).  The  full name of this option for the EsoRex configuration file is <b>uves.plotter</b> [default =
              <u>no</u>].

       <b>--process_chip</b> <u>&lt;str&gt;</u>
              For RED arm data process the redl, redu, or both chip(s) (str; default: ´both´). The full name  of
              this option for the EsoRex configuration file is <b>uves.process_chip</b> [default = <u>both</u>].

       Note  that  it  is  possible to create a configuration file containing these options, along with suitable
       default values. Please refer to the details provided by the 'esorex --help' command.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       The full documentation for the uves pipeline can be downloaded as a PDF file using the following URL:

              <b><a href="ftp://ftp.eso.org/pub/dfs/pipelines/uves/uves-pipeline-manual-6.1.8.pdf">ftp://ftp.eso.org/pub/dfs/pipelines/uves/uves-pipeline-manual-6.1.8.pdf</a></b>

       An   overview   over   the   existing   ESO   pipelines    can    be    found    on    the    web    page
       <b>https://www.eso.org/sci/software/pipelines/</b>.

       Basic documentation about the EsoRex program can be found at the esorex (1) man page.

       It   is   possible   to   call   the   pipelines   from   python   using  the  python-cpl  package.   See
       <b>https://packages.python.org/python-cpl/index.html</b> for further information.

       The  other  recipes   of   the   uves   pipeline   are   <u><a href="../man7/flames_cal_orderpos.7.html">flames_cal_orderpos</a></u>(7),   <u><a href="../man7/flames_cal_predict.7.html">flames_cal_predict</a></u>(7),
       <u><a href="../man7/flames_cal_prep_sff_ofpos.7.html">flames_cal_prep_sff_ofpos</a></u>(7),    <u><a href="../man7/flames_cal_wavecal.7.html">flames_cal_wavecal</a></u>(7),   <u><a href="../man7/flames_obs_redchain.7.html">flames_obs_redchain</a></u>(7),   <u><a href="../man7/flames_obs_scired.7.html">flames_obs_scired</a></u>(7),
       <u><a href="../man7/flames_utl_unpack.7.html">flames_utl_unpack</a></u>(7),  <u><a href="../man7/uves_cal_cd_align.7.html">uves_cal_cd_align</a></u>(7),  <u><a href="../man7/uves_cal_mbias.7.html">uves_cal_mbias</a></u>(7),  <u><a href="../man7/uves_cal_mdark.7.html">uves_cal_mdark</a></u>(7),   <u><a href="../man7/uves_cal_mflat.7.html">uves_cal_mflat</a></u>(7),
       <u><a href="../man7/uves_cal_mflat_combine.7.html">uves_cal_mflat_combine</a></u>(7),      <u><a href="../man7/uves_cal_mkmaster.7.html">uves_cal_mkmaster</a></u>(7),      <u><a href="../man7/uves_cal_orderpos.7.html">uves_cal_orderpos</a></u>(7),     <u><a href="../man7/uves_cal_predict.7.html">uves_cal_predict</a></u>(7),
       <u><a href="../man7/uves_cal_response.7.html">uves_cal_response</a></u>(7), <u><a href="../man7/uves_cal_tflat.7.html">uves_cal_tflat</a></u>(7), <u><a href="../man7/uves_cal_wavecal.7.html">uves_cal_wavecal</a></u>(7),  <u><a href="../man7/uves_obs_redchain.7.html">uves_obs_redchain</a></u>(7),  <u><a href="../man7/uves_obs_scired.7.html">uves_obs_scired</a></u>(7),
       <u><a href="../man7/uves_utl_ima_arith.7.html">uves_utl_ima_arith</a></u>(7), <u><a href="../man7/uves_utl_remove_crh_single.7.html">uves_utl_remove_crh_single</a></u>(7)

</pre><h4><b>VERSION</b></h4><pre>
       flames_cal_mkmaster 6.1.8

</pre><h4><b>AUTHOR</b></h4><pre>
       Andrea Modigliani &lt;<a href="mailto:cpl@eso.org">cpl@eso.org</a>&gt;

</pre><h4><b>BUG</b> <b>REPORTS</b></h4><pre>
       Please  report  any problems to <a href="mailto:cpl@eso.org">cpl@eso.org</a>. Alternatively, you may send a report to the ESO User Support
       Department &lt;<a href="mailto:usd-help@eso.org">usd-help@eso.org</a>&gt;.

</pre><h4><b>LICENSE</b></h4><pre>
       This file is part of the FLAMES/UVES Pipeline Copyright (C) 2004,  2005,  2006,  2007  European  Southern
       Observatory

       This  program  is  free  software;  you  can  redistribute it and/or modify it under the terms of the GNU
       General Public License as published by the Free Software Foundation; either version 2 of the License,  or
       (at your option) any later version.

       This  program  is  distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even
       the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General  Public
       License for more details.

       You  should have received a copy of the GNU General Public License along with this program; if not, write
       to the Free Software Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA  02111-1307  USA

flames_cal_mkmaster                                   6.1.8                               <u><a href="../man7/FLAMES_CAL_MKMASTER.7.html">FLAMES_CAL_MKMASTER</a></u>(7)
</pre>
 </div>
</div></section>
</div>
</body>
</html>