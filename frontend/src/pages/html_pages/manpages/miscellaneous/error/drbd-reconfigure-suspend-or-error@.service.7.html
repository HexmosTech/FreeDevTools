<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>drbd-reconfigure-suspend-or-error@.service - System unit to re-configure specific DRBD aspects</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/drbd-utils">drbd-utils_9.22.0-1.1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       drbd-reconfigure-suspend-or-error@.service - System unit to re-configure specific DRBD aspects

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>drbd-reconfigure-suspend-or-error@</b><u>RESNAME</u><b>.service</b>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       If a disk fails or a replication link goes down and as a consequence DRBD loses "quorum" or access to
       good data, DRBD can be configured to either <u>suspend-io</u> or return <u>io-errors</u>.

       <u>io-errors</u> allow file systems and applications to notice and stop themselves or be unmounted. The
       assumption is that some other node(s) will still have good data and some cluster manager or other
       monitoring entity will notice the situation and try to bring up services there.

       <u>suspend-io</u> allows the problematic incident to be hidden from file systems and applications, they would
       just block until access to good data is restored. This can be useful to cope with supposedly short
       "network hickup" like incidents without causing service restarts.

       But if IO is "suspended" (blocked, frozen, also known as "un-interruptible sleep" or "D state"),
       applications cannot be killed, file systems cannot be unmounted.

       If some other node was told to take over services meanwhile, we need to demote DRBD on the "frozen" node
       before we can re-integrate it.

       In these scenarios it may be useful to configure DRBD for <u>suspend-io</u> during normal operation, so it would
       mask intermittent problems, but if services had been taken over by some other partition of nodes in the
       storage cluster, reconfigure for <u>io-error</u>, to be able to bring down services and unmount file systems
       before trying to re-integrate this node.

       This service reconfigures <u>RESNAME</u> for <u>suspend-io</u> when started and for <u>io-error</u> when stopped.

       You should test a lot and maybe talk to LINBIT support before using this.

       See also the <b>DRBD</b> <b>User’s</b> <b>Guide</b>[1]

</pre><h4><b>AUTHORS</b></h4><pre>
       <b>LINBIT</b> <b>HA</b> <b>Solutions</b> <b>GmbH</b> <b>https://linbit.com</b>

</pre><h4><b>NOTES</b></h4><pre>
        1. DRBD User’s Guide
           https://linbit.com/drbd-user-guide/drbd-guide-9_0-en/

drbd-utils                                         2024-07-17                              <u><a href="../man7/DRBD-RECONFIGURE-S.7.html">DRBD-RECONFIGURE-S</a></u>(7)
</pre>
 </div>
</div></section>
</div>
</body>
</html>