<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>error::pass4 - systemtap pass-4 errors</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/systemtap-doc">systemtap-doc_5.1-5_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       error::pass4 - systemtap pass-4 errors

</pre><h4><b>DESCRIPTION</b></h4><pre>
       Errors that occur during pass 4 (compilation) have generally only a few causes:

       kernel or OS version changes
              The  systemtap  runtime and embedded-C fragments in the tapset library are designed to be portable
              across a wide range of OS versions.  However, incompatibilities can occur  when  some  OS  changes
              occur,  such  as  kernel  modifications  that  change  functions,  types,  or macros referenced by
              systemtap.   Upstream  (git://sourceware.org/git/systemtap.git)  builds  of  systemtap  are  often
              quickly  updated  to include relevant fixes, so try getting or making an updated build.  Reworded:
              <b>build</b> <b>systemtap</b> <b>from</b> <b>git</b> <b>for</b> <b>use</b> <b>with</b> <b>very</b> <b>young</b> <b>kernels</b>.   If  the  issue  persists,  report  the
              problem to the systemtap developers.

       buggy embedded-C code
              Embedded-C code in your own guru-mode script cannot be checked by systemtap, and is passed through
              verbatim to the compiler.  Errors in such snippets of code may be found during the pass-4 compiler
              invocation, though may be hard to identify by the compiler errors.

       incompatible embedded-C code
              The  interface standards between systemtap-generated code and embedded-C code occasionally change.
              For example, before version 1.8, arguments were passed using macros <u>THIS-&gt;foo</u> and <u>THIS-&gt;</u><b>__</b><u>retvalue</u>
              but from version 1.8 onward, using <u>STAP_ARG_foo</u> and <u>STAP_RETVALUE</u>.  Adjust your embedded-C code to
              current standards, or use the <u>stap</u> <u>--compatible=VERSION</u> option to make systemtap use  a  different
              one.

       compiler bugs and mysteries
              Messages such as "internal compiler error" suggest compiler problems.  These should be reported to
              the compiler developers in the form of a preprocessed <u>.i</u> file, plus the compiler command line.  To
              gather relevant information, run

              stap -k --vp 0003 -p4 ....

              Systemtap  will  report the saved temporary directory, and the compiler command line it attempted.
              Go to the directory to find he main generated file <u>stap_NNNNN_src.c</u>.  Force the compiler  to  pro‚Äê
              duce a preprocessed file with:

              make -C <a href="file:/lib/modules/">/lib/modules/</a>`uname -r`/build M=`pwd` stap_NNNNN_src.i

              (note the <u>.i</u> suffix), and the compiler command line should be in the file <u>.stap_NNNNN_src.i.cmd</u>.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <u><a href="../man1/stap.1.html">stap</a></u>(1),
       <u>error::<a href="../man7stap/reporting.7stap.html">reporting</a></u>(7stap)

                                                                                             <u>ERROR::<a href="../man7stap/PASS4.7stap.html">PASS4</a></u>(7stap)
</pre>
 </div>
</div></section>
</div>
</body>
</html>