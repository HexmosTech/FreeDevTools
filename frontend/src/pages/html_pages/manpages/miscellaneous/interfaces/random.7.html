<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>random - overview of interfaces for obtaining randomness</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/manpages">manpages_6.9.1-1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       random - overview of interfaces for obtaining randomness

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The  kernel  random-number  generator relies on entropy gathered from device drivers and other sources of
       environmental noise to seed a cryptographically secure pseudorandom number  generator  (CSPRNG).   It  is
       designed for security, rather than speed.

       The following interfaces provide access to output from the kernel CSPRNG:

       •  The  <u>/dev/urandom</u>  and  <u>/dev/random</u>  devices,  both  described  in <b><a href="../man4/random.4.html">random</a></b>(4).  These devices have been
          present on Linux since early times, and are also available on many other systems.

       •  The Linux-specific <b><a href="../man2/getrandom.2.html">getrandom</a></b>(2) system call, available since Linux 3.17.  This  system  call  provides
          access  either  to  the same source as <u>/dev/urandom</u> (called the <u>urandom</u> source in this page) or to the
          same source as <u>/dev/random</u> (called the <u>random</u> source in  this  page).   The  default  is  the  <u>urandom</u>
          source;  the  <u>random</u>  source  is selected by specifying the <b>GRND_RANDOM</b> flag to the system call.  (The
          <b><a href="../man3/getentropy.3.html">getentropy</a></b>(3) function provides a slightly more portable interface on top of <b><a href="../man2/getrandom.2.html">getrandom</a></b>(2).)

   <b>Initialization</b> <b>of</b> <b>the</b> <b>entropy</b> <b>pool</b>
       The kernel collects bits of entropy from the environment.  When a sufficient number of  random  bits  has
       been collected, the entropy pool is considered to be initialized.

   <b>Choice</b> <b>of</b> <b>random</b> <b>source</b>
       Unless  you are doing long-term key generation (and most likely not even then), you probably shouldn't be
       reading from the <u>/dev/random</u> device or employing <b><a href="../man2/getrandom.2.html">getrandom</a></b>(2) with the <b>GRND_RANDOM</b> flag.  Instead, either
       read from the <u>/dev/urandom</u> device or employ <b><a href="../man2/getrandom.2.html">getrandom</a></b>(2) without the <b>GRND_RANDOM</b> flag.  The cryptographic
       algorithms used for the <u>urandom</u> source are quite conservative,  and  so  should  be  sufficient  for  all
       purposes.

       The  disadvantage  of  <b>GRND_RANDOM</b>  and  reads  from  <u>/dev/random</u>  is that the operation can block for an
       indefinite period of time.  Furthermore, dealing with the partially fulfilled  requests  that  can  occur
       when using <b>GRND_RANDOM</b> or when reading from <u>/dev/random</u> increases code complexity.

   <b>Monte</b> <b>Carlo</b> <b>and</b> <b>other</b> <b>probabilistic</b> <b>sampling</b> <b>applications</b>
       Using  these  interfaces  to  provide  large  quantities  of  data  for  Monte Carlo simulations or other
       programs/algorithms which are doing probabilistic sampling will be slow.  Furthermore, it is unnecessary,
       because such applications do  not  need  cryptographically  secure  random  numbers.   Instead,  use  the
       interfaces  described  in  this  page  to obtain a small amount of data to seed a user-space pseudorandom
       number generator for use by such applications.

   <b>Comparison</b> <b>between</b> <b>getrandom,</b> <b>/dev/urandom,</b> <b>and</b> <b>/dev/random</b>
       The following table summarizes the behavior of  the  various  interfaces  that  can  be  used  to  obtain
       randomness.   <b>GRND_NONBLOCK</b>  is a flag that can be used to control the blocking behavior of <b><a href="../man2/getrandom.2.html">getrandom</a></b>(2).
       The final column of the table considers the case that can occur in early boot time when the entropy  pool
       is not yet initialized.
       ┌───────────────┬──────────────┬────────────────┬────────────────────┐
       │ <b>Interface</b>     │ <b>Pool</b>         │ <b>Blocking</b>       │ <b>Behavior</b> <b>when</b> <b>pool</b> │
       │               │              │ <b>behavior</b>       │ <b>is</b> <b>not</b> <b>yet</b> <b>ready</b>   │
       ├───────────────┼──────────────┼────────────────┼────────────────────┤
       │ <u>/dev/random</u>   │ Blocking     │ If entropy too │ Blocks until       │
       │               │ pool         │ low, blocks    │ enough entropy     │
       │               │              │ until there is │ gathered           │
       │               │              │ enough entropy │                    │
       │               │              │ again          │                    │
       ├───────────────┼──────────────┼────────────────┼────────────────────┤
       │ <u>/dev/urandom</u>  │ CSPRNG       │ Never blocks   │ Returns output     │
       │               │ output       │                │ from uninitialized │
       │               │              │                │ CSPRNG (may be low │
       │               │              │                │ entropy and        │
       │               │              │                │ unsuitable for     │
       │               │              │                │ cryptography)      │
       ├───────────────┼──────────────┼────────────────┼────────────────────┤
       │ <b>getrandom</b>()   │ Same as      │ Does not block │ Blocks until pool  │
       │               │ <u>/dev/urandom</u> │ once is pool   │ ready              │
       │               │              │ ready          │                    │
       ├───────────────┼──────────────┼────────────────┼────────────────────┤
       │ <b>getrandom</b>()   │ Same as      │ If entropy too │ Blocks until pool  │
       │ <b>GRND_RANDOM</b>   │ <u>/dev/random</u>  │ low, blocks    │ ready              │
       │               │              │ until there is │                    │
       │               │              │ enough entropy │                    │
       │               │              │ again          │                    │
       ├───────────────┼──────────────┼────────────────┼────────────────────┤
       │ <b>getrandom</b>()   │ Same as      │ Does not block │ <b>EAGAIN</b>             │
       │ <b>GRND_NONBLOCK</b> │ <u>/dev/urandom</u> │ once is pool   │                    │
       │               │              │ ready          │                    │
       ├───────────────┼──────────────┼────────────────┼────────────────────┤
       │ <b>getrandom</b>()   │ Same as      │ <b>EAGAIN</b> if not  │ <b>EAGAIN</b>             │
       │ <b>GRND_RANDOM</b> + │ <u>/dev/random</u>  │ enough entropy │                    │
       │ <b>GRND_NONBLOCK</b> │              │ available      │                    │
       └───────────────┴──────────────┴────────────────┴────────────────────┘

   <b>Generating</b> <b>cryptographic</b> <b>keys</b>
       The amount of seed material required to generate a cryptographic key equals the effective key size of the
       key.  For example, a 3072-bit RSA or Diffie-Hellman private key has an effective key size of 128 bits (it
       requires  about  2^128  operations  to  break)  so a key generator needs only 128 bits (16 bytes) of seed
       material from <u>/dev/random</u>.

       While some safety margin above that minimum is reasonable,  as  a  guard  against  flaws  in  the  CSPRNG
       algorithm, no cryptographic primitive available today can hope to promise more than 256 bits of security,
       so  if any program reads more than 256 bits (32 bytes) from the kernel random pool per invocation, or per
       reasonable reseed interval (not less than  one  minute),  that  should  be  taken  as  a  sign  that  its
       cryptography is <u>not</u> skillfully implemented.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man2/getrandom.2.html">getrandom</a></b>(2), <b><a href="../man3/getauxval.3.html">getauxval</a></b>(3), <b><a href="../man3/getentropy.3.html">getentropy</a></b>(3), <b><a href="../man4/random.4.html">random</a></b>(4), <b><a href="../man4/urandom.4.html">urandom</a></b>(4), <b><a href="../man7/signal.7.html">signal</a></b>(7)

Linux man-pages 6.9.1                              2024-05-02                                          <u><a href="../man7/random.7.html">random</a></u>(7)
</pre>
 </div>
</div></section>
</div>
</body>
</html>