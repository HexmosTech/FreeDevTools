<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ocf_heartbeat_aws-vpc-route53 - Update Route53 VPC record for AWS EC2</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/resource-agents-extra">resource-agents-extra_4.16.0-3ubuntu1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       ocf_heartbeat_aws-vpc-route53 - Update Route53 VPC record for AWS EC2

</pre><h4><b>SYNOPSIS</b></h4><pre>

       <b>aws-vpc-route53</b> [start | stop | monitor | meta-data | validate-all]

</pre><h4><b>DESCRIPTION</b></h4><pre>
       Update Route53 record of Amazon Webservices EC2 by updating an entry in a hosted zone ID table.

       AWS instances will require policies which allow them to update Route53 ARecords: { "Version":
       "2012-10-17", "Statement": [ { "Sid": "Stmt1471878724000", "Effect": "Allow", "Action": [
       "route53:ChangeResourceRecordSets", "route53:GetChange", "route53:ListResourceRecordSets", ], "Resource":
       [ "*" ] } ] }

       Example Cluster Configuration:

       Use a configuration in "crm configure edit" which looks as follows. Replace hostedzoneid, fullname and
       profile with the appropriate values:

       primitive res_route53 ocf:heartbeat:aws-vpc-route53 params hostedzoneid=EX4MPL3EX4MPL3
       fullname=service.cloud.example.corp. profile=cluster op start interval=0 timeout=180 op stop interval=0
       timeout=180 op monitor interval=300 timeout=180 meta target-role=Started

</pre><h4><b>SUPPORTED</b> <b>PARAMETERS</b></h4><pre>
       <b>awscli</b>
           Path to command line tools for AWS

           (optional, string, default "/usr/bin/aws")

       <b>auth_type</b>
           Authentication type "key" for AccessKey and SecretAccessKey set via "aws configure", or "role" to use
           AWS Policies.

           (optional, string, default "key")

       <b>profile</b>
           The name of the AWS CLI profile of the root account. This profile will have to use the "text" format
           for CLI output. The file /root/.aws/config should have an entry which looks like:

           [profile cluster] region = us-east-1 output = text

           "cluster" is the name which has to be used in the cluster configuration. The region has to be the
           current one. The output has to be "text".

           (optional, string, default "default")

       <b>hostedzoneid</b>
           Hosted zone ID of Route 53. This is the table of the Route 53 record.

           (required, string, no default)

       <b>fullname</b>
           The full name of the service which will host the IP address. Example: service.cloud.example.corp.
           Note: The trailing dot is important to Route53!

           (required, string, no default)

       <b>ip</b>
           IP (local (default), public or secondary private IP address (e.g. 10.0.0.1).

           A secondary private IP can be setup with the awsvip agent.

           (optional, string, default "local")

       <b>ttl</b>
           Time to live for Route53 ARECORD

           (optional, string, default "10")

       <b>curl_retries</b>
           curl retries before failing

           (optional, integer, default 3)

       <b>curl_sleep</b>
           curl sleep between tries

           (optional, integer, default 1)

</pre><h4><b>SUPPORTED</b> <b>ACTIONS</b></h4><pre>
       This resource agent supports the following actions (operations):

       <b>start</b>
           Starts the resource. Suggested minimum timeout: 180s.

       <b>stop</b>
           Stops the resource. Suggested minimum timeout: 180s.

       <b>monitor</b>
           Performs a detailed status check. Suggested minimum timeout: 180s. Suggested interval: 300s.

       <b>validate-all</b>
           Performs a validation of the resource configuration. Suggested minimum timeout: 5s.

       <b>meta-data</b>
           Retrieves resource agent metadata (internal use only). Suggested minimum timeout: 5s.

</pre><h4><b>EXAMPLE</b> <b>CRM</b> <b>SHELL</b></h4><pre>
       The following is an example configuration for a aws-vpc-route53 resource using the <b><a href="../man8/crm.8.html">crm</a></b>(8) shell:

           primitive p_aws-vpc-route53 ocf:heartbeat:aws-vpc-route53 \
             params \
               hostedzoneid=<u>string</u> \
               fullname=<u>string</u> \
             op monitor depth="0" timeout="180s" interval="300s"

</pre><h4><b>EXAMPLE</b> <b>PCS</b></h4><pre>
       The following is an example configuration for a aws-vpc-route53 resource using <b><a href="../man8/pcs.8.html">pcs</a></b>(8)

           pcs resource create p_aws-vpc-route53 ocf:heartbeat:aws-vpc-route53 \
             hostedzoneid=<u>string</u> \
             fullname=<u>string</u> \
             op monitor OCF_CHECK_LEVEL="0" timeout="180s" interval="300s"

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="http://clusterlabs.org/">http://clusterlabs.org/</a></b>

</pre><h4><b>AUTHOR</b></h4><pre>
       <b>ClusterLabs</b> <b>contributors</b> <b>(see</b> <b>the</b> <b>resource</b> <b>agent</b> <b>source</b> <b>for</b> <b>information</b> <b>about</b> <b>individual</b> <b>authors)</b>

resource-agents 4.16.0-3ubuntu                     06/25/2025                             <u><a href="../man7/OCF_HEARTBEAT_AWS-V.7.html">OCF_HEARTBEAT_AWS-V</a></u>(7)
</pre>
 </div>
</div></section>
</div>
</body>
</html>