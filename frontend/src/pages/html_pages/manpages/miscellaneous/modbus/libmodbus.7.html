<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>libmodbus - a fast and portable Modbus library</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/jammy/+package/libmodbus-dev">libmodbus-dev_3.1.6-2_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       libmodbus - a fast and portable Modbus library

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>#include</b> <b>&lt;modbus.h&gt;</b>

       <b>cc</b> `pkg-config --cflags --libs libmodbus` <u>files</u>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       libmodbus is a library to send/receive data with a device which respects the Modbus protocol. This
       library contains various backends to communicate over different networks (eg. serial in RTU mode or
       Ethernet in TCP/IPv6). The <a href="http://www.modbus.org">http://www.modbus.org</a> site provides documentation about the protocol at
       <a href="http://www.modbus.org/specs.php">http://www.modbus.org/specs.php</a>.

       libmodbus provides an abstraction of the lower communication layers and offers the same API on all
       supported platforms.

       This documentation presents an overview of libmodbus concepts, describes how libmodbus abstracts Modbus
       communication with different hardware and platforms and provides a reference manual for the functions
       provided by the libmodbus library.

   <b>Contexts</b>
       The Modbus protocol contains many variants (eg. serial RTU or Ethernet TCP), to ease the implementation
       of a variant, the library was designed to use a backend for each variant. The backends are also a
       convenient way to fulfill other requirements (eg. real-time operations). Each backend offers a specific
       function to create a new <u>modbus_t</u> context. The <u>modbus_t</u> context is an opaque structure containing all
       necessary information to establish a connection with other Modbus devices according to the selected
       variant.

       You can choose the best context for your needs among:

       <b>RTU</b> <b>Context</b>

           The RTU backend (Remote Terminal Unit) is used in serial communication and makes use of a compact,
           binary representation of the data for protocol communication. The RTU format follows the
           commands/data with a cyclic redundancy check checksum as an error check mechanism to ensure the
           reliability of data. Modbus RTU is the most common implementation available for Modbus. A Modbus RTU
           message must be transmitted continuously without inter-character hesitations (extract from Wikipedia,
           Modbus, <a href="http://en.wikipedia.org/wiki/Modbus">http://en.wikipedia.org/wiki/Modbus</a> (as of Mar. 13, 2011, 20:51 GMT).

           The Modbus RTU framing calls a slave, a device/service which handle Modbus requests, and a master, a
           client which send requests. The communication is always initiated by the master.

           Many Modbus devices can be connected together on the same physical link so before sending a message,
           you must set the slave (receiver) with <b><a href="../man3/modbus_set_slave.3.html">modbus_set_slave</a></b>(3). If you’re running a slave, its slave
           number will be used to filter received messages.

           The libmodbus implementation of RTU isn’t time based as stated in original Modbus specification,
           instead all bytes are sent as fast as possible and a response or an indication is considered complete
           when all expected characters have been received. This implementation offers very fast communication
           but you must take care to set a response timeout of slaves less than response timeout of master
           (ortherwise other slaves may ignore master requests when one of the slave is not responding).

           Create a Modbus RTU context
               <b><a href="../man3/modbus_new_rtu.3.html">modbus_new_rtu</a></b>(3)

           Set the serial mode
               <b><a href="../man3/modbus_rtu_get_serial_mode.3.html">modbus_rtu_get_serial_mode</a></b>(3) <b><a href="../man3/modbus_rtu_set_serial_mode.3.html">modbus_rtu_set_serial_mode</a></b>(3) <b><a href="../man3/modbus_rtu_get_rts.3.html">modbus_rtu_get_rts</a></b>(3)
               <b><a href="../man3/modbus_rtu_set_rts.3.html">modbus_rtu_set_rts</a></b>(3) <b><a href="../man3/modbus_rtu_set_custom_rts.3.html">modbus_rtu_set_custom_rts</a></b>(3) <b><a href="../man3/modbus_rtu_get_rts_delay.3.html">modbus_rtu_get_rts_delay</a></b>(3)
               <b><a href="../man3/modbus_rtu_set_rts_delay.3.html">modbus_rtu_set_rts_delay</a></b>(3)

       <b>TCP</b> <b>(IPv4)</b> <b>Context</b>

           The TCP backend implements a Modbus variant used for communications over TCP/IPv4 networks. It does
           not require a checksum calculation as lower layer takes care of the same.

           Create a Modbus TCP context
               <b><a href="../man3/modbus_new_tcp.3.html">modbus_new_tcp</a></b>(3)

       <b>TCP</b> <b>PI</b> <b>(IPv4</b> <b>and</b> <b>IPv6)</b> <b>Context</b>

           The TCP PI (Protocol Independent) backend implements a Modbus variant used for communications over
           TCP IPv4 and IPv6 networks. It does not require a checksum calculation as lower layer takes care of
           the same.

           Contrary to the TCP IPv4 only backend, the TCP PI backend offers hostname resolution but it consumes
           about 1Kb of additional memory.

           Create a Modbus TCP context
               <b><a href="../man3/modbus_new_tcp_pi.3.html">modbus_new_tcp_pi</a></b>(3)

       <b>Common</b>

           Before using any libmodbus functions, the caller must allocate and initialize a <u>modbus_t</u> context with
           functions explained above, then the following functions are provided to modify and free a <u>context</u>:

           Free libmodbus context
               <b><a href="../man3/modbus_free.3.html">modbus_free</a></b>(3)

           Set slave ID
               <b><a href="../man3/modbus_set_slave.3.html">modbus_set_slave</a></b>(3)

           Enable debug mode
               <b><a href="../man3/modbus_set_debug.3.html">modbus_set_debug</a></b>(3)

           Timeout settings
               <b><a href="../man3/modbus_get_byte_timeout.3.html">modbus_get_byte_timeout</a></b>(3) <b><a href="../man3/modbus_set_byte_timeout.3.html">modbus_set_byte_timeout</a></b>(3) <b><a href="../man3/modbus_get_response_timeout.3.html">modbus_get_response_timeout</a></b>(3)
               <b><a href="../man3/modbus_set_response_timeout.3.html">modbus_set_response_timeout</a></b>(3) <b><a href="../man3/modbus_get_indication_timeout.3.html">modbus_get_indication_timeout</a></b>(3) <b><a href="../man3/modbus_set_indication_timeout.3.html">modbus_set_indication_timeout</a></b>(3)

           Error recovery mode
               <b><a href="../man3/modbus_set_error_recovery.3.html">modbus_set_error_recovery</a></b>(3)

           Setter/getter of internal socket
               <b><a href="../man3/modbus_set_socket.3.html">modbus_set_socket</a></b>(3) <b><a href="../man3/modbus_get_socket.3.html">modbus_get_socket</a></b>(3)

           Information about header
               <b><a href="../man3/modbus_get_header_length.3.html">modbus_get_header_length</a></b>(3)

           Macros for data manipulation

               •   MODBUS_GET_HIGH_BYTE(data), extracts the high byte from a byte

               •   MODBUS_GET_LOW_BYTE(data), extracts the low byte from a byte

               •   MODBUS_GET_INT64_FROM_INT16(tab_int16, index), builds an int64 from the four first int16
                   starting at tab_int16[index]

               •   MODBUS_GET_INT32_FROM_INT16(tab_int16, index), builds an int32 from the two first int16
                   starting at tab_int16[index]

               •   MODBUS_GET_INT16_FROM_INT8(tab_int8, index), builds an int16 from the two first int8 starting
                   at tab_int8[index]

               •   MODBUS_SET_INT16_TO_INT8(tab_int8, index, value), set an int16 value into the two first bytes
                   starting at tab_int8[index]

               •   MODBUS_SET_INT32_TO_INT16(tab_int16, index, value), set an int32 value into the two first
                   int16 starting at tab_int16[index]

               •   MODBUS_SET_INT64_TO_INT16(tab_int16, index, value), set an int64 value into the four first
                   int16 starting at tab_int16[index]

           Handling of bits and bytes
               <b><a href="../man3/modbus_set_bits_from_byte.3.html">modbus_set_bits_from_byte</a></b>(3) <b><a href="../man3/modbus_set_bits_from_bytes.3.html">modbus_set_bits_from_bytes</a></b>(3) <b><a href="../man3/modbus_get_byte_from_bits.3.html">modbus_get_byte_from_bits</a></b>(3)

           Set or get float numbers
               <b><a href="../man3/modbus_get_float_abcd.3.html">modbus_get_float_abcd</a></b>(3) <b><a href="../man3/modbus_set_float_abcd.3.html">modbus_set_float_abcd</a></b>(3) <b><a href="../man3/modbus_get_float_badc.3.html">modbus_get_float_badc</a></b>(3)
               <b><a href="../man3/modbus_set_float_badc.3.html">modbus_set_float_badc</a></b>(3) <b><a href="../man3/modbus_get_float_cdab.3.html">modbus_get_float_cdab</a></b>(3) <b><a href="../man3/modbus_set_float_cdab.3.html">modbus_set_float_cdab</a></b>(3)
               <b><a href="../man3/modbus_get_float_dcba.3.html">modbus_get_float_dcba</a></b>(3) <b><a href="../man3/modbus_set_float_dcba.3.html">modbus_set_float_dcba</a></b>(3) <b><a href="../man3/modbus_get_float.3.html">modbus_get_float</a></b>(3) (deprecated)
               <b><a href="../man3/modbus_set_float.3.html">modbus_set_float</a></b>(3) (deprecated)

   <b>Connection</b>
       The following functions are provided to establish and close a connection with Modbus devices:

       Establish a connection
           <b><a href="../man3/modbus_connect.3.html">modbus_connect</a></b>(3)

       Close a connection
           <b><a href="../man3/modbus_close.3.html">modbus_close</a></b>(3)

       Flush a connection
           <b><a href="../man3/modbus_flush.3.html">modbus_flush</a></b>(3)

   <b>Client</b>
       The Modbus protocol defines different data types and functions to read and write them from/to remote
       devices. The following functions are used by the clients to send Modbus requests:

       Read data
           <b><a href="../man3/modbus_read_bits.3.html">modbus_read_bits</a></b>(3) <b><a href="../man3/modbus_read_input_bits.3.html">modbus_read_input_bits</a></b>(3) <b><a href="../man3/modbus_read_registers.3.html">modbus_read_registers</a></b>(3) <b><a href="../man3/modbus_read_input_registers.3.html">modbus_read_input_registers</a></b>(3)
           <b><a href="../man3/modbus_report_slave_id.3.html">modbus_report_slave_id</a></b>(3)

       Write data
           <b><a href="../man3/modbus_write_bit.3.html">modbus_write_bit</a></b>(3) <b><a href="../man3/modbus_write_register.3.html">modbus_write_register</a></b>(3) <b><a href="../man3/modbus_write_bits.3.html">modbus_write_bits</a></b>(3) <b><a href="../man3/modbus_write_registers.3.html">modbus_write_registers</a></b>(3)

       Write and read data
           <b><a href="../man3/modbus_write_and_read_registers.3.html">modbus_write_and_read_registers</a></b>(3)

       Raw requests
           <b><a href="../man3/modbus_send_raw_request.3.html">modbus_send_raw_request</a></b>(3) <b><a href="../man3/modbus_receive_confirmation.3.html">modbus_receive_confirmation</a></b>(3)

       Reply an exception
           <b><a href="../man3/modbus_reply_exception.3.html">modbus_reply_exception</a></b>(3)

   <b>Server</b>
       The server is waiting for request from clients and must answer when it is concerned by the request.

       In TCP mode, you must not use the usual <b><a href="../man3/modbus_connect.3.html">modbus_connect</a></b>(3) to establish the connection but a pair of
       accept/listen calls
           <b><a href="../man3/modbus_tcp_listen.3.html">modbus_tcp_listen</a></b>(3) <b><a href="../man3/modbus_tcp_accept.3.html">modbus_tcp_accept</a></b>(3) <b><a href="../man3/modbus_tcp_pi_listen.3.html">modbus_tcp_pi_listen</a></b>(3) <b><a href="../man3/modbus_tcp_pi_accept.3.html">modbus_tcp_pi_accept</a></b>(3)

       then the data can be received with
           <b><a href="../man3/modbus_receive.3.html">modbus_receive</a></b>(3)

       and a response can be send with
           <b><a href="../man3/modbus_reply.3.html">modbus_reply</a></b>(3) <b><a href="../man3/modbus_reply_exception.3.html">modbus_reply_exception</a></b>(3)

       To handle the mapping of your Modbus data, you must use: <b><a href="../man3/modbus_mapping_new.3.html">modbus_mapping_new</a></b>(3) <b><a href="../man3/modbus_mapping_free.3.html">modbus_mapping_free</a></b>(3)

</pre><h4><b>ERROR</b> <b>HANDLING</b></h4><pre>
       The libmodbus functions handle errors using the standard conventions found on POSIX systems. Generally,
       this means that upon failure a libmodbus function shall return either a NULL value (if returning a
       pointer) or a negative value (if returning an integer), and the actual error code shall be stored in the
       <u>errno</u> variable.

       The <b>modbus_strerror()</b> function is provided to translate libmodbus-specific error codes into error message
       strings; for details refer to <b><a href="../man3/modbus_strerror.3.html">modbus_strerror</a></b>(3).

</pre><h4><b>MISCELLANEOUS</b></h4><pre>
       The <u>LIBMODBUS_VERSION_STRING</u> constant indicates the libmodbus version the program has been compiled
       against. The variables <u>libmodbus_version_major</u>, <u>libmodbus_version_minor</u>, <u>libmodbus_version_micro</u> give the
       version the program is linked against.

</pre><h4><b>AUTHORS</b></h4><pre>
       The libmodbus documentation was written by Stéphane Raimbault &lt;<a href="mailto:stephane.raimbault@gmail.com">stephane.raimbault@gmail.com</a>&gt;

</pre><h4><b>RESOURCES</b></h4><pre>
       Main web site: <a href="http://www.libmodbus.org/">http://www.libmodbus.org/</a>

       Report bugs on the issue tracker at <a href="http://github.com/stephane/libmodbus/issues">http://github.com/stephane/libmodbus/issues</a>.

</pre><h4><b>COPYING</b></h4><pre>
       Free use of this software is granted under the terms of the GNU Lesser General Public License (LGPL
       v2.1+). For details see the file COPYING.LESSER included with the libmodbus distribution.

libmodbus v3.1.6                                   12/09/2019                                       <u><a href="../man7/LIBMODBUS.7.html">LIBMODBUS</a></u>(7)
</pre>
 </div>
</div></section>
</div>
</body>
</html>