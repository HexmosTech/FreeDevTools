<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>openssl-qlog - OpenSSL qlog tracing functionality</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/openssl">openssl_3.5.0-2ubuntu1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       openssl-qlog - OpenSSL qlog tracing functionality

</pre><h4><b>DESCRIPTION</b></h4><pre>
       OpenSSL has unstable support for generating logs in the qlog logging format, which can be used to obtain
       diagnostic data for QUIC connections. The data generated includes information on packets sent and
       received and the frames contained within them, as well as loss detection and other events.

       The qlog output generated by OpenSSL can be used to obtain diagnostic visualisations of a given QUIC
       connection using tools such as <b>qvis</b>.

       <b>WARNING:</b> The output of OpenSSL's qlog functionality uses an unstable format based on a draft
       specification. qlog output is not subject to any format stability or compatibility guarantees at this
       time, and <b>will</b> change in incompatible ways in future versions of OpenSSL. See <b>FORMAT</b> <b>STABILITY</b> below for
       details.

</pre><h4><b>USAGE</b></h4><pre>
       When OpenSSL is built with qlog support, qlog is enabled at run time by setting the standard <b>QLOGDIR</b>
       environment variable to point to a directory where qlog files should be written. Once set, any QUIC
       connection established by OpenSSL will have a qlog file written automatically to the specified directory.

       Log files are generated in the <u>.sqlog</u> format based on JSON-SEQ (RFC 7464).

       The filenames of generated log files under the specified <b>QLOGDIR</b> use the following structure:

           {connection_odcid}_{vantage_point_type}.sqlog

       where <b>{connection_odcid}</b> is the lowercase hexadecimal encoding of a QUIC connection's Original
       Destination Connection ID, which is the Destination Connection ID used in the header of the first Initial
       packet sent as part of the connection process, and <b>{vantage_point_type}</b> is either "client" or "server",
       reflecting the perspective of the endpoint producing the qlog output.

       The qlog functionality can be disabled at OpenSSL build time using the <u>no-unstable-qlog</u> configure flag.

</pre><h4><b>SUPPORTED</b> <b>EVENT</b> <b>TYPES</b></h4><pre>
       The following event types are currently supported:

       <b>connectivity:connection_started</b>
       <b>connectivity:connection_state_updated</b>
       <b>connectivity:connection_closed</b>
       <b>transport:parameters_set</b>
       <b>transport:packet_sent</b>
       <b>transport:packet_received</b>
       <b>recovery:packet_lost</b>

</pre><h4><b>FILTERS</b></h4><pre>
       By  default,  all  supported event types are logged. The <b>OSSL_QFILTER</b> environment variable can be used to
       configure a filter specification which determines which event types are to be logged. Each event type can
       be turned on and off individually. The filter specification is a space-separated list  of  terms  listing
       event  types  to  enable  or  disable.  The  terms  are applied in order, thus the effects of later terms
       override the effects of earlier terms.

   <b>Examples</b>
       Here are some example filter specifications:

       "*" (or "+*")
           Enable all supported qlog event types.

       "-*"
           Disable all qlog event types.

       "* -transport:packet_received"
           Enable all qlog event types, but disable the <b>transport:packet_received</b> event type.

       "-* transport:packet_sent"
           Disable all qlog event types, except for the <b>transport:packet_sent</b> event type.

       "-* connectivity:* transport:parameters_set"
           Disable all qlog event types, except for <b>transport:parameters_set</b> and all supported  event  types  in
           the <b>connectivity</b> category.

   <b>Filter</b> <b>Syntax</b> <b>Specification</b>
       Formally, the format of the filter specification in ABNF is as follows:

           filter              = *filter-term

           filter-term         = add-sub-term

           add-sub-term        = ["-" / "+"] specifier

           specifier           = global-specifier / qualified-specifier

           global-specifier    = wildcard

           qualified-specifier = component-specifier ":" component-specifier

           component-specifier = name / wildcard

           wildcard            = "*"

           name                = 1*(ALPHA / DIGIT / "_" / "-")

       Filter terms are interpreted as follows:

       "+*" (or "*")
           Enables all event types.

       "-*"
           Disables all event types.

       "+foo:*" (or "foo:*")
           Enables all event types in the <b>foo</b> category.

       "-foo:*"
           Disables all event types in the <b>foo</b> category.

       "+foo:bar" (or "foo:bar")
           Enables a specific event type <b>foo:bar</b>.

       "-foo:bar"
           Disables a specific event type <b>foo:bar</b>.

       Partial wildcard matches are not supported at this time.

   <b>Default</b> <b>Configuration</b>
       If  the  <b>OSSL_QFILTER</b>  environment  variable is not set or set to the empty string, this is equivalent to
       enabling all event types (i.e., it is equivalent to a filter of "*"). Note that the  <b>QLOGDIR</b>  environment
       variable must also be set to enable qlog.

</pre><h4><b>FORMAT</b> <b>STABILITY</b></h4><pre>
       The  OpenSSL  qlog  functionality  currently implements a draft version of the qlog specification. Future
       revisions to the qlog specification in advance  of  formal  standardisation  are  expected  to  introduce
       incompatible  and  breaking changes to the qlog format. The OpenSSL qlog functionality will transition to
       producing output in this format in the future once standardisation is complete.

       Because of this, the qlog output of OpenSSL <b>will</b> change in incompatible and breaking ways in the  future,
       including  in  non-major  releases  of OpenSSL. The qlog output of OpenSSL is considered unstable and not
       subject to any format stability or compatibility guarantees at this time.

       Users of the OpenSSL qlog functionality must be aware that the  output  may  change  arbitrarily  between
       releases  and  that  the  preservation  of  compatibility  with  any  given  tool between releases is not
       guaranteed.

   <b>Aims</b>
       The OpenSSL draft qlog functionality is primarily intended for use in  conjunction  with  the  qvis  tool
       &lt;https://qvis.quictools.info/&gt;.  In  terms of format compatibility, the output format of the OpenSSL qlog
       functionality is expected to track what is supported by qvis. As such, future changes to  the  output  of
       the  OpenSSL  qlog  functionality  are  expected  to track changes in qvis as they occur, and reflect the
       versions of qlog currently supported by qvis.

       This means that prior to the finalisation of the qlog standard, in the event of a disparity  between  the
       current  draft  and  what  qvis  supports,  the  OpenSSL  qlog  functionality will generally aim for qvis
       compatibility over compliance with the latest draft.

       As  such,  OpenSSL's  qlog  functionality  currently  implements  qlog  version   0.3   as   defined   in
       <b>draft-ietf-quic-qlog-main-schema-05</b>   and   <b>draft-ietf-quic-qlog-quic-events-04</b>.   These   revisions  are
       intentionally used instead of more recent revisions due to their qvis compatibility.

</pre><h4><b>LIMITATIONS</b></h4><pre>
       The OpenSSL implementation of qlog currently has the following limitations:

       •   Not all event types defined by the draft specification are implemented.

       •   Only the JSON-SEQ (<b>.sqlog</b>) output format is supported.

       •   Only the <b>QLOGDIR</b> environment variable is supported for configuring the  qlog  output  directory.  The
           standard <b>QLOGFILE</b> environment variable is not supported.

       •   There is no API for programmatically enabling or controlling the qlog functionality.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man7/openssl-quic.7.html">openssl-quic</a></b>(7), <b><a href="../man7/openssl-env.7.html">openssl-env</a></b>(7)

</pre><h4><b>HISTORY</b></h4><pre>
       This functionality was added in OpenSSL 3.3.

</pre><h4><b>COPYRIGHT</b></h4><pre>
       Copyright 2024 The OpenSSL Project Authors. All Rights Reserved.

       Licensed  under  the  Apache License 2.0 (the "License").  You may not use this file except in compliance
       with the License.  You can obtain  a  copy  in  the  file  LICENSE  in  the  source  distribution  or  at
       &lt;https://www.openssl.org/source/license.html&gt;.

3.5.0                                              2025-06-04                                 <u><a href="../man7SSL/OPENSSL-QLOG.7SSL.html">OPENSSL-QLOG</a></u>(7SSL)
</pre>
 </div>
</div></section>
</div>
</body>
</html>