<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ALTER_SUBSCRIPTION - change the definition of a subscription</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/postgresql-client-17">postgresql-client-17_17.5-1build1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       ALTER_SUBSCRIPTION - change the definition of a subscription

</pre><h4><b>SYNOPSIS</b></h4><pre>
       ALTER SUBSCRIPTION <u>name</u> CONNECTION '<u>conninfo</u>'
       ALTER SUBSCRIPTION <u>name</u> SET PUBLICATION <u>publication_name</u> [, ...] [ WITH ( <u>publication_option</u> [= <u>value</u>] [, ... ] ) ]
       ALTER SUBSCRIPTION <u>name</u> ADD PUBLICATION <u>publication_name</u> [, ...] [ WITH ( <u>publication_option</u> [= <u>value</u>] [, ... ] ) ]
       ALTER SUBSCRIPTION <u>name</u> DROP PUBLICATION <u>publication_name</u> [, ...] [ WITH ( <u>publication_option</u> [= <u>value</u>] [, ... ] ) ]
       ALTER SUBSCRIPTION <u>name</u> REFRESH PUBLICATION [ WITH ( <u>refresh_option</u> [= <u>value</u>] [, ... ] ) ]
       ALTER SUBSCRIPTION <u>name</u> ENABLE
       ALTER SUBSCRIPTION <u>name</u> DISABLE
       ALTER SUBSCRIPTION <u>name</u> SET ( <u>subscription_parameter</u> [= <u>value</u>] [, ... ] )
       ALTER SUBSCRIPTION <u>name</u> SKIP ( <u>skip_option</u> = <u>value</u> )
       ALTER SUBSCRIPTION <u>name</u> OWNER TO { <u>new_owner</u> | CURRENT_ROLE | CURRENT_USER | SESSION_USER }
       ALTER SUBSCRIPTION <u>name</u> RENAME TO <u>new_name</u>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>ALTER</b> <b>SUBSCRIPTION</b> can change most of the subscription properties that can be specified in CREATE
       SUBSCRIPTION (<b><a href="../man7/CREATE_SUBSCRIPTION.7.html">CREATE_SUBSCRIPTION</a></b>(7)).

       You must own the subscription to use <b>ALTER</b> <b>SUBSCRIPTION</b>. To rename a subscription or alter the owner, you
       must have CREATE permission on the database. In addition, to alter the owner, you must be able to SET
       ROLE to the new owning role. If the subscription has password_required=false, only superusers can modify
       it.

       When refreshing a publication we remove the relations that are no longer part of the publication and we
       also remove the table synchronization slots if there are any. It is necessary to remove these slots so
       that the resources allocated for the subscription on the remote host are released. If due to network
       breakdown or some other error, PostgreSQL is unable to remove the slots, an error will be reported. To
       proceed in this situation, the user either needs to retry the operation or disassociate the slot from the
       subscription and drop the subscription as explained in DROP SUBSCRIPTION (<b><a href="../man7/DROP_SUBSCRIPTION.7.html">DROP_SUBSCRIPTION</a></b>(7)).

       Commands <b>ALTER</b> <b>SUBSCRIPTION</b> <b>...</b> <b>REFRESH</b> <b>PUBLICATION</b>, <b>ALTER</b> <b>SUBSCRIPTION</b> <b>...</b> <b>{SET|ADD|DROP}</b> <b>PUBLICATION</b>
       <b>...</b>  with refresh option as true and <b>ALTER</b> <b>SUBSCRIPTION</b> <b>...</b> <b>SET</b> <b>(failover</b> <b>=</b> <b>true|false)</b> cannot be
       executed inside a transaction block.

       Commands <b>ALTER</b> <b>SUBSCRIPTION</b> <b>...</b> <b>REFRESH</b> <b>PUBLICATION</b> and <b>ALTER</b> <b>SUBSCRIPTION</b> <b>...</b> <b>{SET|ADD|DROP}</b> <b>PUBLICATION</b>
       <b>...</b>  with refresh option as true also cannot be executed when the subscription has two_phase commit
       enabled, unless copy_data is false. See column subtwophasestate of pg_subscription to know the actual
       two-phase state.

</pre><h4><b>PARAMETERS</b></h4><pre>
       <u>name</u>
           The name of a subscription whose properties are to be altered.

       CONNECTION '<u>conninfo</u>'
           This clause replaces the connection string originally set by CREATE SUBSCRIPTION
           (<b><a href="../man7/CREATE_SUBSCRIPTION.7.html">CREATE_SUBSCRIPTION</a></b>(7)). See there for more information.

       SET PUBLICATION <u>publication_name</u>
       ADD PUBLICATION <u>publication_name</u>
       DROP PUBLICATION <u>publication_name</u>
           These forms change the list of subscribed publications.  SET replaces the entire list of publications
           with a new list, ADD adds additional publications to the list of publications, and DROP removes the
           publications from the list of publications. We allow non-existent publications to be specified in ADD
           and SET variants so that users can add those later. See CREATE SUBSCRIPTION (<b><a href="../man7/CREATE_SUBSCRIPTION.7.html">CREATE_SUBSCRIPTION</a></b>(7))
           for more information. By default, this command will also act like REFRESH PUBLICATION.

           <u>publication_option</u> specifies additional options for this operation. The supported options are:

           refresh (boolean)
               When false, the command will not try to refresh table information.  REFRESH PUBLICATION should
               then be executed separately. The default is true.

           Additionally, the options described under REFRESH PUBLICATION may be specified, to control the
           implicit refresh operation.

       REFRESH PUBLICATION
           Fetch missing table information from publisher. This will start replication of tables that were added
           to the subscribed-to publications since <b>CREATE</b> <b>SUBSCRIPTION</b> or the last invocation of <b>REFRESH</b>
           <b>PUBLICATION</b>.

           <u>refresh_option</u> specifies additional options for the refresh operation. The supported options are:

           copy_data (boolean)
               Specifies whether to copy pre-existing data in the publications that are being subscribed to when
               the replication starts. The default is true.

               Previously subscribed tables are not copied, even if a table's row filter WHERE clause has since
               been modified.

               See Notes for details of how copy_data = true can interact with the origin parameter.

               See the binary parameter of <b>CREATE</b> <b>SUBSCRIPTION</b> for details about copying pre-existing data in
               binary format.

       ENABLE
           Enables a previously disabled subscription, starting the logical replication worker at the end of the
           transaction.

       DISABLE
           Disables a running subscription, stopping the logical replication worker at the end of the
           transaction.

       SET ( <u>subscription_parameter</u> [= <u>value</u>] [, ... ] )
           This clause alters parameters originally set by CREATE SUBSCRIPTION (<b><a href="../man7/CREATE_SUBSCRIPTION.7.html">CREATE_SUBSCRIPTION</a></b>(7)). See
           there for more information. The parameters that can be altered are slot_name, synchronous_commit,
           binary, streaming, disable_on_error, password_required, run_as_owner, origin, and failover. Only a
           superuser can set password_required = false.

           When altering the slot_name, the failover and two_phase property values of the named slot may differ
           from the counterpart failover and two_phase parameters specified in the subscription. When creating
           the slot, ensure the slot properties failover and two_phase match their counterpart parameters of the
           subscription. Otherwise, the slot on the publisher may behave differently from what these
           subscription options say: for example, the slot on the publisher could either be synced to the
           standbys even when the subscription's failover option is disabled or could be disabled for sync even
           when the subscription's failover option is enabled.

       SKIP ( <u>skip_option</u> = <u>value</u> )
           Skips applying all changes of the remote transaction. If incoming data violates any constraints,
           logical replication will stop until it is resolved. By using the <b>ALTER</b> <b>SUBSCRIPTION</b> <b>...</b> <b>SKIP</b> command,
           the logical replication worker skips all data modification changes within the transaction. This
           option has no effect on the transactions that are already prepared by enabling two_phase on the
           subscriber. After the logical replication worker successfully skips the transaction or finishes a
           transaction, the LSN (stored in pg_subscription.subskiplsn) is cleared. See Section 29.6 for the
           details of logical replication conflicts.

           <u>skip_option</u> specifies options for this operation. The supported option is:

           lsn (pg_lsn)
               Specifies the finish LSN of the remote transaction whose changes are to be skipped by the logical
               replication worker. The finish LSN is the LSN at which the transaction is either committed or
               prepared. Skipping individual subtransactions is not supported. Setting NONE resets the LSN.

       <u>new_owner</u>
           The user name of the new owner of the subscription.

       <u>new_name</u>
           The new name for the subscription.

       When specifying a parameter of type boolean, the = <u>value</u> part can be omitted, which is equivalent to
       specifying TRUE.

</pre><h4><b>EXAMPLES</b></h4><pre>
       Change the publication subscribed by a subscription to insert_only:

           ALTER SUBSCRIPTION mysub SET PUBLICATION insert_only;

       Disable (stop) the subscription:

           ALTER SUBSCRIPTION mysub DISABLE;

</pre><h4><b>COMPATIBILITY</b></h4><pre>
       <b>ALTER</b> <b>SUBSCRIPTION</b> is a PostgreSQL extension.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       CREATE SUBSCRIPTION (<b><a href="../man7/CREATE_SUBSCRIPTION.7.html">CREATE_SUBSCRIPTION</a></b>(7)), DROP SUBSCRIPTION (<b><a href="../man7/DROP_SUBSCRIPTION.7.html">DROP_SUBSCRIPTION</a></b>(7)), CREATE
       PUBLICATION (<b><a href="../man7/CREATE_PUBLICATION.7.html">CREATE_PUBLICATION</a></b>(7)), ALTER PUBLICATION (<b><a href="../man7/ALTER_PUBLICATION.7.html">ALTER_PUBLICATION</a></b>(7))

PostgreSQL 17.5                                       2025                                 <u>ALTER</u> <u><a href="../man7/SUBSCRIPTION.7.html">SUBSCRIPTION</a></u>(7)
</pre>
 </div>
</div></section>
</div>
</body>
</html>