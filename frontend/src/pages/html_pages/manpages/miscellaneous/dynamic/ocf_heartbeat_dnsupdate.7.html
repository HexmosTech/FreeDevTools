<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ocf_heartbeat_dnsupdate - IP take-over via dynamic DNS update</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/resource-agents-extra">resource-agents-extra_4.16.0-3ubuntu1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       ocf_heartbeat_dnsupdate - IP take-over via dynamic DNS update

</pre><h4><b>SYNOPSIS</b></h4><pre>

       <b>dnsupdate</b> [start | stop | status | monitor | meta-data | validate-all]

</pre><h4><b>DESCRIPTION</b></h4><pre>
       This resource agent manages IP take-over via dynamic DNS updates.

</pre><h4><b>SUPPORTED</b> <b>PARAMETERS</b></h4><pre>
       <b>hostname</b>
           Either the hostname whose IP address will need to be updated (in case of type=A) or alias whose
           hostname will need to be updated (in case of type=CNAME).

           (unique, required, string, no default)

       <b>type</b>
           The type of DNS record that need to be updated (A or CNAME).

           (optional, string, default "A")

       <b>ip</b>
           IP address to set.

           (optional, string, no default)

       <b>cname</b>
           The CNAME whose hostname address will need to be updated.

           (optional, string, no default)

       <b>ttl</b>
           Time to live, in seconds, for the DNS record. This affects how soon DNS updates propagate. It should
           be a reasonable compromise between update speed and DNS server load.

           If using booth, the ticket timeout is a good start.

           (optional, integer, default 300)

       <b>keyfile</b>
           The file containing the shared secret needed to update the DNS record. Please see the nsupdate man
           page for the exact syntax.

           (optional, string, no default)

       <b>server</b>
           Which DNS server to send these updates for. When no server is provided, this defaults to the promoted
           server for the correct zone.

           (optional, string, no default)

       <b>serverport</b>
           Port number on the DNS server.

           Note: due to a limitation in the nsupdate command, this option will only take effect if you also
           specify the DNS server!

           (optional, integer, default 53)

       <b>nsupdate_opts</b>
           Additional options to be passed to nsupdate.

           (optional, string, no default)

       <b>unregister_on_stop</b>
           Whether or not to actively remove records on stop. This is not needed for normal operation, since the
           site taking over the IP address will delete all previous records.

           (optional, boolean, default false)

</pre><h4><b>SUPPORTED</b> <b>ACTIONS</b></h4><pre>
       This resource agent supports the following actions (operations):

       <b>start</b>
           Starts the resource. Suggested minimum timeout: 30s.

       <b>stop</b>
           Stops the resource. Suggested minimum timeout: 30s.

       <b>status</b>
           Performs a status check. Suggested minimum timeout: 30s. Suggested interval: 10s.

       <b>monitor</b>
           Performs a detailed status check. Suggested minimum timeout: 30s. Suggested interval: 10s.

       <b>meta-data</b>
           Retrieves resource agent metadata (internal use only). Suggested minimum timeout: 5s.

       <b>validate-all</b>
           Performs a validation of the resource configuration. Suggested minimum timeout: 5s.

</pre><h4><b>EXAMPLE</b> <b>CRM</b> <b>SHELL</b></h4><pre>
       The following is an example configuration for a dnsupdate resource using the <b><a href="../man8/crm.8.html">crm</a></b>(8) shell:

           primitive p_dnsupdate ocf:heartbeat:dnsupdate \
             params \
               hostname=<u>string</u> \
             op monitor depth="0" timeout="30s" interval="10s"

</pre><h4><b>EXAMPLE</b> <b>PCS</b></h4><pre>
       The following is an example configuration for a dnsupdate resource using <b><a href="../man8/pcs.8.html">pcs</a></b>(8)

           pcs resource create p_dnsupdate ocf:heartbeat:dnsupdate \
             hostname=<u>string</u> \
             op monitor OCF_CHECK_LEVEL="0" timeout="30s" interval="10s"

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="http://clusterlabs.org/">http://clusterlabs.org/</a></b>

</pre><h4><b>AUTHOR</b></h4><pre>
       <b>ClusterLabs</b> <b>contributors</b> <b>(see</b> <b>the</b> <b>resource</b> <b>agent</b> <b>source</b> <b>for</b> <b>information</b> <b>about</b> <b>individual</b> <b>authors)</b>

resource-agents 4.16.0-3ubuntu                     06/25/2025                            <u><a href="../man7/OCF_HEARTBEAT_DNSUPD.7.html">OCF_HEARTBEAT_DNSUPD</a></u>(7)
</pre>
 </div>
</div></section>
</div>
</body>
</html>