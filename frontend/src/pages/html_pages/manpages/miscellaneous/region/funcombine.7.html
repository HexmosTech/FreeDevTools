<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FunCombine - Combining Region and Table Filters</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libfuntools-dev">libfuntools-dev_1.4.8-1.1build2_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       FunCombine - Combining Region and Table Filters

</pre><h4><b>SYNOPSIS</b></h4><pre>
       This  document  discusses the conventions for combining region and table filters, especially with regards
       to the comma operator.

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>Comma</b> <b>Conventions</b>

       Filter specifications consist of a series of boolean expressions, separated by commas. These  expressions
       can  be  table  filters,  spatial  region  filters,  or combinations thereof. Unfortunately, common usage
       requires that the comma operator must act differently in different situations. Therefore, while  its  use
       is intuitive in most cases, commas can be a source of confusion.

       According  to  long-standing  usage  in  IRAF,  when a comma separates two table filters, it takes on the
       meaning of a boolean <b>and</b>. Thus:

         foo.fits[pha==1,pi==2]

       is equivalent to:

         foo.fits[pha==1 &amp;&amp; pi==2]

       When a comma separates two spatial region filters, however, it has traditionally taken on the meaning  of
       a boolean <b>or</b>. Thus:

         foo.fits[circle(10,10,3),ellipse(20,20,8,5)]

       is equivalent to:

         foo.fits[circle(10,10,3) ⎪⎪ ellipse(20,20,8,5)]

       (except that in the former case, each region is given a unique id in programs such as funcnts).

       Region and table filters can be combined:

         foo.fits[circle(10,10,3),pi=1:5]

       or even:

         foo.fits[pha==1&amp;&amp;circle(10,10,3),pi==2&amp;&amp;ellipse(20,20,8,5)]

       In  these cases, it is not obvious whether the command should utilize an <b>or</b> or <b>and</b> operator. We therefore
       arbitrarily chose to implement the following rule:

       •   if both expressions contain a region, the operator used is <b>or</b>.

       •   if one (or both) expression(s) does not contain a region, the operator used is <b>and</b>.

       This rule handles the cases of pure regions and pure column filters properly.  It  unambiguously  assigns
       the boolean <b>and</b> to all mixed cases. Thus:

         foo.fits[circle(10,10,3),pi=1:5]

       and

         foo.fits[pi=1:5,circle(10,10,3)]

       both are equivalent to:

         foo.fits[circle(10,10,3) &amp;&amp; pi=1:5]

       [NB: This arbitrary rule <b>replaces</b> <b>the</b> <b>previous</b> <b>arbitrary</b> <b>rule</b> (pre-funtools 1.2.3) which stated:

       •   if the 2nd expression contains a region, the operator used is <b>or</b>.

       •   if the 2nd expression does not contain a region, the operator used is <b>and</b>.

       In that scenario, the <b>or</b> operator was implied by:

         pha==4,circle 5 5 1

       while the <b>and</b> operator was implied by

         circle 5 5 1,pha==4

       Experience  showed  that  this  non-commutative  treatment of the comma operator was confusing and led to
       unexpected results.]

       The comma rule must be considered provisional: comments and complaints are welcome to  help  clarify  the
       matter.  Better  still,  we  recommend  that  the  comma operator be avoided in such cases in favor of an
       explicit boolean operator.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       See <a href="../man7/funtools.7.html">funtools</a>(7) for a list of Funtools help pages

version 1.4.5                                    April 14, 2011                                    <u><a href="../man7/funcombine.7.html">funcombine</a></u>(7)
</pre>
 </div>
</div></section>
</div>
</body>
</html>