<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>amanda-interactivity - Configuring Interactivity with Amanda Amanda</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/amanda-common">amanda-common_3.5.4-2_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       amanda-interactivity - Configuring Interactivity with Amanda Amanda

</pre><h4><b>DESCRIPTION</b></h4><pre>
       Amanda uses interactivity to ask user to load specific volumes when they are needed. This manual page
       describes the interactivity modules included with Amanda.

       This is a <u>user-level</u> description of the API, and does not address details that are only of concern to
       developers of new interactivity plugins. For that purpose, consult the Amanda source code, perldoc
       'Amanda::Interactivity' and <a href="http://wiki.zmanda.com">http://wiki.zmanda.com</a>.

</pre><h4><b>DEFINING</b> <b>INTERACTIVITY</b></h4><pre>
       Interactivity is specified in <b><a href="../man5/amanda.conf.5.html">amanda.conf</a></b>(5) as follows:

       define interactivity $interactivity_name {
          comment "$comment"
          plugin "$pluginname"
          property "$PROPERTY_NAME" "$PROPERTY_VALUE"
          ...
       }
       and then referenced in the global section as

         interactivity "$interactivity_name"

       Interactivity properties, like Amanda configuration parameters, are insensitive to case, and - (dash) and
       _ (underscore) may be used interchangeably.

       See the individual plugin sections, below for properties applicable to each plugin.

</pre><h4><b>INTERACTIVITY</b> <b>MODULES</b></h4><pre>
       Amanda provides three interactivity modules, <u>tty</u>, <u>email</u> and <u>tty_email</u>.

   <b>TTY</b>
       The <u>tty</u> interactivity module uses the tty to communicate with the user, it works only if a terminal is
       available, which is the case if amanda is executed from a command line.

       When promted for a volume, the user must put the requested volume in the changer and type &lt;enter&gt;. User
       can type the name of another changer if the volume is available in that changer. Typing 'abort' will
       abort the operation.

   <b>EMAIL</b>
       The <u>email</u> interactivity module uses email to send requests to the user, and reads replies from the
       filesystem.

       The <u>email</u> module has many properties:

       check-file

           If set, amanda will check this file for user input.  The user can touch the file to tell amanda that
           the requested volume was inserted in the changer.  If the user writes the name of a changer into the
           file, Amanda will use that changer.  If the user writes the word 'abort' into the file, the scan will
           be aborted.

       check-file-delay

           Default: 10. This integer property indicates the time in seconds between each check of the
           check-file.

       mailto

           Default: global value of <b>mailto</b>.  The email addresses to which the email should be sent.  If multiple
           addresses are given, they should be separated by spaces.

       resend-delay

           Default 0. The time in seconds between emails.  Amanda will resend the same email at this frequency,
           which can be useful if <b>mailto</b> is a pager or phone.  If set to 0, only one email is sent.

   <b>TTY_EMAIL</b>
       The <u>tty_email</u> interactivity module uses the <u>tty</u> module if a terminal is available and uses the <u>email</u>
       module otherwise. Its properties are a combination of properties from each module.

</pre><h4><b>EXAMPLE</b></h4><pre>
         define interactivity "by-tty-or-email" {
           comment "Send email on runs from cron; use terminal on command line"
           plugin "tty_email"
           property "mailto" "admin1" "admin2" "me@home"
           property "resend-delay" "1800"               #every 30 minutes
           property "check-file" "/tmp/email_input"
           property "check-file-delay" "10"             #every 10 seconds
         }

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man8/amanda.8.html">amanda</a></b>(8), <b><a href="../man5/amanda.conf.5.html">amanda.conf</a></b>(5)

       The Amanda Wiki: : <a href="http://wiki.zmanda.com/">http://wiki.zmanda.com/</a>

</pre><h4><b>AUTHOR</b></h4><pre>
       <b>Jean-Louis</b> <b>Martineau</b> &lt;<a href="mailto:martineau@zmanda.com">martineau@zmanda.com</a>&gt;
           Zmanda, Inc. (<a href="http://www.zmanda.com">http://www.zmanda.com</a>)

Amanda 3.5.4                                       01/25/2025                             <u><a href="../man7/AMANDA-INTERACTIVIT.7.html">AMANDA-INTERACTIVIT</a></u>(7)
</pre>
 </div>
</div></section>
</div>
</body>
</html>