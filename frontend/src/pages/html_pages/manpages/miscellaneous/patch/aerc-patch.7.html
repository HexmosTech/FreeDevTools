<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>aerc-patch - local patch management for aerc(1)</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/aerc">aerc_0.20.0-2_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       aerc-patch - local patch management for <b><a href="../man1/aerc.1.html">aerc</a></b>(1)

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>aerc</b>  provides  support  for  managing local patch sets. In an email-based software development workflow,
       there are usually many different locally applied patch series for testing  and  reviewing.  Managing  the
       local  repository  can thus be challenging. With the local patch management system, <b>aerc</b> facilitates this
       bookkeeping process.

       When applying a patch set, <b>aerc</b> creates a tag for those commits. With this tag,  the  patch  set  can  be
       tracked  and  later  dropped  if  needed. Patches are stored in a project data structure which also keeps
       track of the directory where the repository is. Multiple code bases can be tracked by defining a separate
       project for each.

</pre><h4><b>COMMANDS</b></h4><pre>
       The following <b>:patch</b> sub-commands are supported:

       <b>:patch</b> <b>init</b> [<b>-f</b>] [<u>&lt;project&gt;</u>]
           Creates a new project <u>&lt;project&gt;</u>. If <u>&lt;project&gt;</u> is not defined, <b>aerc</b> will use the last element  of  the
           current  directory  path.  It  also  performs  a  search  for  a  supported repository in the current
           directory.

           <b>-f</b>: Overwrite an existing project.

       <b>:patch</b> <b>list</b> [<b>-a</b>]
       <b>:patch</b> <b>ls</b> [<b>-a</b>]
           Lists the current project with the tracked patch sets.

           <b>-a</b>: Lists all projects.

       <b>:patch</b> <b>apply</b> [<b>-c</b> <u>&lt;cmd&gt;</u>] [<b>-w</b> <u>&lt;commit-ish&gt;</u>] <u>&lt;tag&gt;</u>
           Applies the selected message(s) to the repository of the current project. It uses the  <b>:pipe</b>  command
           for this and keeps track of the applied patch.

           Completions  for  the  <u>&lt;tag&gt;</u>  are  available  based  on  the  subject lines of the selected or marked
           messages.

           <b>-c</b> <u>&lt;cmd&gt;</u>: Apply patches with the provided <u>&lt;cmd&gt;</u>. Any occurrence of '%r' in the command string will be
           replaced with the root directory of the current project. Note that this approach is  not  recommended
           in  general  and should only be used for very specific purposes, i.e. when a maintainer is applying a
           patch set via a separate script to deal with git trailers.

           <b>aerc</b> will propose completions for the <u>&lt;tag&gt;</u> based on the subject lines  of  the  selected  or  marked
           messages.

           Example:
               :patch apply -c "git -C %r am -3" fix_v2

           <b>-w</b>  <u>&lt;commit-ish&gt;</u>:  Create  a  linked  worktree  for the current project at <u>&lt;commit-ish&gt;</u> and apply the
           patches to the linked worktree. A new project is created to store the worktree information. When this
           project is deleted, the worktree will be deleted as well.

           Example:
               :patch apply -w origin/master fix_v2

       <b>:patch</b> <b>drop</b> <u>&lt;tag&gt;</u>
           Drops the patch <u>&lt;tag&gt;</u> from the repository.

       <b>:patch</b> <b>rebase</b> [<u>&lt;commit-ish&gt;</u>]
           Rebases the patch data on commit <u>&lt;commit-ish&gt;</u>.

           If the <u>&lt;commit-ish&gt;</u> is omitted, <b>aerc</b> will use the base commit of the current project for the rebase.

       <b>:patch</b> <b>find</b> [<b>-f</b>] <u>&lt;commit-hash&gt;</u>
           Searches the messages in the current folder of the current account for the  message  associated  with
           this <u>commit</u> <u>hash</u> based on the subject line.

           If  a Message-ID is linked to a commit (i.e. when <b>:patch</b> <b>apply</b> was used) then <b>find</b> will first perform
           a search for the Message-ID.

           <b>-f</b>: Filter the message list instead of just showing the search results. Only  effective  when  search
           for Message-ID was not successful.

       <b>:patch</b> <b>cd</b>
           Changes the working directory to the root directory of the current project.

       <b>:patch</b> <b>term</b> [<u>&lt;cmd&gt;</u>]
           Opens a shell (or runs <u>&lt;cmd&gt;</u>) in the working directory of the current project.

       <b>:patch</b> <b>switch</b> <u>&lt;project&gt;</u>
           Switches the context to <u>&lt;project&gt;</u>.

       <b>:patch</b> <b>unlink</b> [<u>&lt;project&gt;</u>]
           Deletes  all  patch  tracking  data  for <u>&lt;project&gt;</u> and unlinks it from a repository. If no project is
           provided, the current project is deleted.

       <b>:patch</b>
           Root command for path management. Use it to run the sub-commands.

</pre><h4><b>GETTING</b> <b>STARTED</b></h4><pre>
       Make sure you have an initialized project (see <b>:patch</b> <b>init</b>).

       Now, there are two ways to get patches under the local patch management system:

       •   Apply patches with the <b>:patch</b> <b>apply</b> command. This will automatically create a new tag for the applied
           commits.

       •   Use <b>:patch</b> <b>rebase</b>. If there are some existing local patches in the  commit  history  that  should  be
           managed by <b>aerc</b>, you can run <b>:patch</b> <b>rebase</b> <b>&lt;commit-ish&gt;</b> and set the <u>&lt;commit-ish&gt;</u> to the commit before
           the  first  patch that you want to include. For a <b>git</b> repository which has an upstream called <b>origin</b>,
           you would run <b>:patch</b> <b>rebase</b> <b>origin/master</b>.

</pre><h4><b>EXAMPLE</b></h4><pre>
       The following example demonstrates how to manage the local patch sets.

       First, a project needs to be initialized. This is done by changing into the working directory  where  the
       project's  repository  is  located.  For  this  example, let's assume we have a project called <u>bar</u> in the
       directory <u>/home/user/foo/bar</u>.

           :cd /home/user/foo/bar

       and then creating a new project with

           :patch init

       If no name is provided to <b>:patch</b> <b>init</b>, <b>aerc</b> will use the last  element  of  the  working  directory  path
       (here: <u>bar</u>).

       Now the patch tracking is ready for action. Go to the message list, mark a patch series and apply it:

           :patch apply fix_v2

       This will apply the selected patch set and assigns the <u>fix_v2</u> tag to those commits. The tag helps to keep
       the  commits  grouped  together, and will be helpful when we want to drop this exact patch set at a later
       point.

       With <b>:patch</b> <b>list</b> you can verify that the patch set was correctly applied.

       If there is a change in the underlying repository (e.g. by rebasing  to  upstream),  the  hashes  of  the
       applied  local  commits  can change. <b>:patch</b> <b>list</b> can detect such a change and will then propose to rebase
       the internal data. To do this, run

           :patch rebase

       This will open an editor where you can adjust the correct tags again. You could also  change  the  rebase
       point by providing an optional argument (e.g. a commit hash, or even <u>HEAD~3</u> or <u>origin/master</u>, etc.).

       To drop a patch set, use the tag that was assigned during applying:

           :patch drop fix_v2

       And to delete the project data in <b>aerc</b>:

           :patch unlink bar

</pre><h4><b>SUPPORTED</b> <b>REVISION</b> <b>CONTROL</b> <b>SYSTEMS</b></h4><pre>
       The supported revision control systems are currently: <b>git</b>.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man1/aerc.1.html">aerc</a></b>(1)

</pre><h4><b>AUTHORS</b></h4><pre>
       Originally  created  by  Drew  DeVault and maintained by Robin Jarry who is assisted by other open source
       contributors. For more information about aerc development, see <u>https://sr.ht/~rjarry/aerc/</u>.

                                                   2025-05-31                                      <u><a href="../man7/AERC-PATCH.7.html">AERC-PATCH</a></u>(7)
</pre>
 </div>
</div></section>
</div>
</body>
</html>