<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>groff - GNU roff language reference</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/groff">groff_1.23.0-9_amd64</a> <br><br><pre>
</pre><h4><b>Name</b></h4><pre>
       groff - GNU <u>roff</u> language reference

</pre><h4><b>Description</b></h4><pre>
       <u>groff</u>  is  short  for  GNU <u>roff</u>, a free reimplementation of the AT&amp;T device-independent <u>troff</u> typesetting
       system.  See <u><a href="../man7/roff.7.html">roff</a></u>(7) for a survey of and background on <u>roff</u> systems.

       This document is intended as a reference.  The primary <u>groff</u> manual, <u>Groff:</u>  <u>The</u>  <u>GNU</u>  <u>Implementation</u>  <u>of</u>
       <u>troff</u>, by Trent A. Fisher and Werner Lemberg, is a better resource for learners, containing many examples
       and  much  discussion.   It  is  written  in  Texinfo; you can browse it interactively with “info groff”.
       Additional formats, including plain text, HTML,  DVI,  and  PDF,  may  be  available  in  <u><a href="file:/usr/share/doc/">/usr/share/doc/</a></u>
       <u>groff-base</u>.

       <u>groff</u> is also a name for an extended dialect of the <u>roff</u> language.  We use “roff” to denote features that
       are  universal,  or  nearly  so,  among implementations of this family.  We apply the term “groff” to the
       language documented here, the GNU implementation of the overall system, the project  that  develops  that
       system, and the command of that name.

       GNU  <u>troff</u>,  installed on this system as <u><a href="../man1/troff.1.html">troff</a></u>(1), is the <u>formatter:</u> a program that reads device and font
       descriptions (<u><a href="../man5/groff_font.5.html">groff_font</a></u>(5)), interprets the <u>groff</u> language expressed in text input files, and translates
       that input into a device-independent output format (<u><a href="../man5/groff_out.5.html">groff_out</a></u>(5)) that is usually then post-processed  by
       an output driver to produce PostScript, PDF, HTML, DVI, or terminal output.

</pre><h4><b>Input</b> <b>format</b></h4><pre>
       Input  to GNU <u>troff</u> is organized into lines separated by the Unix newline character (U+000A), and must be
       in one of two character encodings it can recognize: IBM code page 1047 on EBCDIC systems, and ISO Latin-1
       (8859-1) otherwise.  Use of ISO 646-1991:IRV (“US-ASCII”) or (equivalently) the “Basic Latin”  subset  of
       ISO  10646  (“Unicode”)  is recommended; see <u><a href="../man7/groff_char.7.html">groff_char</a></u>(7).  The <u><a href="../man1/preconv.1.html">preconv</a></u>(1) preprocessor transforms other
       encodings, including UTF-8, to satisfy <u>troff</u>'s requirements.

</pre><h4><b>Syntax</b> <b>characters</b></h4><pre>
       Several input characters are syntactically significant to <u>groff</u>.

       .   A dot at the beginning of an input line marks it as a <u>control</u> <u>line.</u>  It can also follow the  <b>.el</b>  and
           <b>.nop</b>  requests,  and  the  condition in <b>.if</b>, <b>.ie</b>, and <b>.while</b> requests.  The control character invokes
           requests and calls macros by the name that follows it.   The  <b>.cc</b>  request  can  change  the  control
           character.

       '   The  neutral apostrophe is the <u>no-break</u> <u>control</u> <u>character,</u> recognized where the control character is.
           It suppresses the (first) break implied by the <b>.bp</b>, <b>.cf</b>, <b>.fi</b>, <b>.fl</b>, <b>.in</b>, <b>.nf</b>, <b>.rj</b>, <b>.sp</b>, <b>.ti</b>, and  <b>.trf</b>
           requests.   The requested operation takes effect at the next break.  It makes <b>.br</b> nilpotent.  The no-
           break control character can be changed with the <b>.c2</b> request.  When formatted, “<b>'</b>” may be typeset as a
           typographical quotation mark; use the <b>\[aq]</b> special character escape sequence  to  format  a  neutral
           apostrophe glyph.

       "   The  neutral  double quote can be used to enclose arguments to macros and strings, and is required if
           those arguments contain space or tab characters.  In the  <b>.ds</b>,  <b>.ds1</b>,  <b>.as</b>,  and  <b>.as1</b>  requests,  an
           initial  neutral  double  quote  in the second argument is stripped off to allow embedding of leading
           spaces.  To include a double quote inside a quoted argument, use the <b>\[dq]</b> special  character  escape
           sequence (which also serves to typeset the glyph in text).

       \   A backslash introduces an escape sequence.  The escape character can be changed with the <b>.ec</b> request;
           <b>.eo</b>  disables escape sequence recognition.  Use the <b>\[rs]</b> special character escape sequence to format
           a backslash glyph, and <b>\e</b> to typeset the glyph of the current escape character.

       (   An opening parenthesis is special only in certain escape sequences; when recognized, it introduces an
           argument of exactly two characters.  <u>groff</u> offers the more flexible square bracket syntax.

       [   An opening bracket is special only in certain escape sequences; when  recognized,  it  introduces  an
           argument (list) of any length, not including a closing bracket.

       ]   A  closing  bracket  is  special only when an escape sequence using an opening bracket as an argument
           delimiter is being interpreted.  It ends the argument (list).

       Additionally, the Control+A character (U+0001) in text is interpreted as a <u>leader</u> (see below).

       Horizontal white space characters are significant to  <u>groff,</u>  but  trailing  spaces  on  text  lines  are
       ignored.

       <u>space</u>   Space   characters   separate   arguments   in  request  invocations,  macro  calls,  and  string
               interpolations.  In text, they separate words.  Multiple adjacent space characters in text  cause
               <u>groff</u> to attempt end-of-sentence detection on the preceding word (and trailing punctuation).  The
               amount  of  space  between words and sentences is controlled by the <b>.ss</b> request.  When filling is
               enabled (the default), a line may be  broken  at  a  space.   When  adjustment  is  enabled  (the
               default), inter-word spaces are expanded until the output line reaches the configured length.  An
               adjustable  but  non-breaking space is available with <b>\~</b>.  To get a space of fixed width, use one
               of the escape sequences ‘<b>\</b> ’ (the escape character followed by a space), <b>\0</b>, <b>\|</b>, <b>\^</b>, or  <b>\h</b>;  see
               section “Escape sequences” below.

       <u>newline</u> In  text, a newline puts an inter-word space onto the output and, if filling is enabled, triggers
               end-of-sentence recognition on the preceding text.  See section “Line continuation” below.

       <u>tab</u>     A tab character in text causes the drawing position to advance to the next defined tab stop.

</pre><h4><b>Tabs</b> <b>and</b> <b>leaders</b></h4><pre>
       The formatter interprets input horizontal tab characters (“tabs”) and  Control+A  characters  (“leaders”)
       into movements to the next tab stop.  Tabs simply move to the next tab stop; leaders place enough periods
       to  fill  the space.  Tab stops are by default located every half inch measured from the drawing position
       corresponding to the beginning of the input line; see section  “Page  geometry”  of  <u><a href="../man7/roff.7.html">roff</a></u>(7).   Tabs  and
       leaders do not cause breaks and therefore do not interrupt filling.  Tab stops can be configured with the
       <b>ta</b> request, and tab and leader glyphs with the <b>tc</b> and <b>lc</b> requests, respectively.

</pre><h4><b>Line</b> <b>continuation</b></h4><pre>
       When  filling  is  enabled,  input and output line breaks generally do not correspond.  The <u>roff</u> language
       therefore distinguishes input and output line continuation.

       A backslash <b>\</b> immediately followed by a newline, sometimes discussed as <b>\</b><u>newline</u>, suppresses the  effects
       of  that newline on the input.  The next input line thus retains the classification of its predecessor as
       a control or text line.  <b>\</b><u>newline</u> is useful for managing  line  lengths  in  the  input  during  document
       maintenance;  you  can  break  an input line in the middle of a request invocation, macro call, or escape
       sequence.  Input line continuation is invisible to the formatter, with two  exceptions:  the  <b>|</b>  operator
       recognizes the new input line, and the input line counter register <b>.c</b> is incremented.

       The  <b>\c</b>  escape  sequence continues an <u>output</u> line.  Nothing on the input line after it is formatted.  In
       contrast to <b>\</b><u>newline</u>, a line after <b>\c</b> is treated  as  a  new  input  line,  so  a  control  character  is
       recognized  at  its  beginning.  The visual results depend on whether filling is enabled.  An intervening
       control line that causes a break overrides <b>\c</b>, flushing out the pending output line  in  the  usual  way.
       The  register <b>.int</b> contains a positive value if the last output line was continued with <b>\c</b>; this datum is
       associated with the environment.

</pre><h4><b>Colors</b></h4><pre>
       <u>groff</u> supports color output with a variety of color spaces and up to 16 bits per channel.  Some  devices,
       particularly  terminals,  may  be more limited.  When color support is enabled, two colors are current at
       any given time: the <u>stroke</u> <u>color,</u> with which glyphs, rules (lines), and geometric  objects  like  circles
       and polygons are drawn, and the <u>fill</u> <u>color,</u> which can be used to paint the interior of a closed geometric
       figure.   The  <b>color</b>,  <b>defcolor</b>, <b>gcolor</b>, and <b>fcolor</b> requests; <b>\m</b> and <b>\M</b> escape sequences; and <b>.color</b>, <b>.m</b>,
       and <b>.M</b> registers exercise color support.

       Each output device has a color named “<b>default</b>”, which cannot be redefined.  A device's default stroke and
       fill colors are not necessarily the same.  For the <b>dvi</b>, <b>html</b>, <b>pdf</b>, <b>ps</b>, and <b>xhtml</b>  output  devices,  <u>troff</u>
       automatically  loads  a  macro  file  defining  many  color names at startup.  By the same mechanism, the
       devices supported by <u><a href="../man1/grotty.1.html">grotty</a></u>(1) recognize the eight standard ISO  6429/ECMA-48  color  names  (also  known
       vulgarly as “ANSI colors”).

</pre><h4><b>Measurements</b></h4><pre>
       Numeric  parameters  that  specify  measurements  are  expressed as integers or decimal fractions with an
       optional <u>scaling</u> <u>unit</u> suffixed.  A scaling unit is a letter that immediately follows the last digit of  a
       number.  Digits after the decimal point are optional.

       Measurements are scaled by the scaling unit and stored internally (with any fractional part discarded) in
       basic  units.   The device resolution can therefore be obtained by storing a value of “<b>1i</b>” to a register.
       The only constraint on the basic unit is that it is at least as small as any other unit.

       <b>u</b>      Basic unit.
       <b>i</b>      Inch; defined as 2.54 centimeters.
       <b>c</b>      Centimeter.
       <b>p</b>      Point; a typesetter's unit used for measuring type size.  There are 72 points to an inch.
       <b>P</b>      Pica; another typesetter's unit.  There are 6 picas to an inch and 12 points to a pica.
       <b>s</b>, <b>z</b>   Scaled points and multiplication by the output device's <u>sizescale</u> parameter, respectively.
       <b>f</b>      Multiplication by 65,536; scales decimal fractions in the  interval  [0,  1]  to  16-bit  unsigned
              integers.

       The magnitudes of other scaling units depend on the text formatting parameters in effect.

       <b>m</b>      Em; an em is equal to the current type size in points.
       <b>n</b>      En; an en is one-half em.
       <b>v</b>      Vee; distance between text baselines.
       <b>M</b>      Hundredth of an em.

   <b>Motion</b> <b>quanta</b>
       An  output  device's basic unit <b>u</b> is not necessarily its smallest addressable length; <b>u</b> can be smaller to
       avoid problems with integer roundoff.  The  minimum  distances  that  a  device  can  work  with  in  the
       horizontal  and  vertical  directions  are  termed  its <u>motion</u> <u>quanta,</u> stored in the <b>.H</b> and <b>.V</b> registers,
       respectively.  Measurements are rounded to applicable motion quanta.  Half-quantum fractions round toward
       zero.

   <b>Default</b> <b>units</b>
       A general-purpose register (one created or updated with the <b>nr</b> request; see section “Registers” below) is
       implicitly dimensionless, or reckoned in basic units if interpreted in a measurement context.  But it  is
       convenient  for  many  requests  and  escape sequences to infer a scaling unit for an argument if none is
       specified.  An explicit scaling unit (not after  a  closing  parenthesis)  can  override  an  undesirable
       default.   Effectively,  the  default unit is suffixed to the expression if a scaling unit is not already
       present.  GNU <u>troff</u>'s use of integer arithmetic should also be kept in mind; see below.

</pre><h4><b>Numeric</b> <b>expressions</b></h4><pre>
       A <u>numeric</u> <u>expression</u> evaluates to an integer.  The following operators are recognized.

             +   addition
             -   subtraction
             *   multiplication
             /   truncating division
             %   modulus
       ────────────────────────────────────────────
       unary +   assertion, motion, incrementation
       unary -   negation, motion, decrementation
       ────────────────────────────────────────────
             ;   scaling
            &gt;?   maximum
            &lt;?   minimum
       ────────────────────────────────────────────
             &lt;   less than
             &gt;   greater than
            &lt;=   less than or equal
            &gt;=   greater than or equal
             =   equal
            ==   equal
       ────────────────────────────────────────────
             &amp;   logical conjunction (“and”)
             :   logical disjunction (“or”)
             !   logical complementation (“not”)
       ────────────────────────────────────────────
           ( )   precedence
       ────────────────────────────────────────────
             |   boundary-relative motion

       <u>troff</u> provides a set of mathematical and logical  operators  familiar  to  programmers—as  well  as  some
       unusual  ones—but  supports  only  integer arithmetic.  (Provision is made for interpreting and reporting
       decimal fractions in certain cases.)  The internal data type used for  computing  results  is  usually  a
       32-bit  signed  integer, which suffices to represent magnitudes within a range of ±2 billion.  (If that's
       not enough, see <u><a href="../man5/groff_tmac.5.html">groff_tmac</a></u>(5) for the <u>62bit.tmac</u> macro package.)

       Arithmetic infix operators perform a function on the numeric expressions to their left  and  right;  they
       are  <b>+</b>  (addition),  <b>-</b>  (subtraction),  <b>*</b>  (multiplication),  <b>/</b>  (truncating  division), and <b>%</b> (modulus).
       <u>Truncating</u> <u>division</u> rounds to the integer nearer to zero, no matter how  large  the  fractional  portion.
       Overflow and division (or modulus) by zero are errors and abort evaluation of a numeric expression.

       Arithmetic  unary operators operate on the numeric expression to their right; they are <b>-</b> (negation) and <b>+</b>
       (assertion—for completeness; it does nothing).  The unary minus must often be used  with  parentheses  to
       avoid confusion with the decrementation operator, discussed below.

       The  sign of the modulus of operands of mixed signs is determined by the sign of the first.  Division and
       modulus operators satisfy the following property: given a dividend <u>a</u> and a divisor <u>b</u>, a quotient <u>q</u> formed
       by “<b>(a</b> <b>/</b> <b>b)</b>” and a remainder <u>r</u> by “<b>(a</b> <b>%</b> <b>b)</b>”, then <u>qb</u> + <u>r</u> = <u>a</u>.

       GNU <u>troff</u>'s scaling operator, used with parentheses as <b>(</b><u>c</u><b>;</b><u>e</u><b>)</b>, evaluates a numeric expression <u>e</u> using <u>c</u> as
       the default scaling unit.  If <u>c</u> is omitted, scaling units are ignored in the evaluation of <u>e</u>.  GNU  <u>troff</u>
       also provides a pair of operators to compute the extrema of two operands: <b>&gt;?</b> (maximum) and <b>&lt;?</b> (minimum).

       Comparison  operators comprise <b>&lt;</b> (less than), <b>&gt;</b> (greater than), <b>&lt;=</b> (less than or equal), <b>&gt;=</b> (greater than
       or equal), and <b>=</b> (equal).  <b>==</b> is a synonym for <b>=</b>.  When evaluated, a comparison is replaced with  “<b>0</b>”  if
       it is false and “<b>1</b>” if true.  In the <u>roff</u> language, positive values are true, others false.

       We can operate on truth values with the logical operators <b>&amp;</b> (logical conjunction or “and”) and <b>:</b> (logical
       disjunction  or  “or”).   They  evaluate  as  comparison operators do.  A logical complementation (“not”)
       operator, <b>!,</b> works only within “<b>if</b>”, “<b>ie</b>”, and “<b>while</b>” requests.  Furthermore, <b>!</b> is  recognized  only  at
       the  beginning  of  a numeric expression not contained by another numeric expression.  In other words, it
       must be the “outermost” operator.  Including it elsewhere in the expression produces  a  warning  in  the
       “<b>number</b>”  category  (see  <u><a href="../man1/troff.1.html">troff</a></u>(1)),  and  its  expression  evaluates false.  This unfortunate limitation
       maintains compatibility with AT&amp;T <u>troff</u>.  Test a numeric expression for falsity  by  comparing  it  to  a
       false value.

       The  <u>roff</u>  language has no operator precedence: expressions are evaluated strictly from left to right, in
       contrast  to  schoolhouse  arithmetic.   Use  parentheses  <b>(</b>  <b>)</b>  to  impose  a  desired  precedence  upon
       subexpressions.

       For  many  requests  and escape sequences that cause motion on the page, the unary operators <b>+</b> and <b>-</b> work
       differently when leading a numeric expression.  They then indicate  a  motion  relative  to  the  drawing
       position: positive is down in vertical contexts, right in horizontal ones.

       <b>+</b>  and <b>-</b> are also treated differently by the following requests and escape sequences: <b>bp</b>, <b>in</b>, <b>ll</b>, <b>pl</b>, <b>pn</b>,
       <b>po</b>, <b>ps</b>, <b>pvs</b>, <b>rt</b>, <b>ti</b>, <b>\H</b>, <b>\R</b>, and <b>\s</b>.  Here, leading plus and minus  signs  serve  as  incrementation  and
       decrementation  operators,  respectively.   To negate an expression, subtract it from zero or include the
       unary minus in parentheses with its argument.

       A leading <b>|</b> operator indicates a motion relative not to the drawing position  but  to  a  boundary.   For
       horizontal  motions, the measurement specifies a distance relative to a drawing position corresponding to
       the beginning of the <u>input</u> line.  By default, tab stops  reckon  movements  in  this  way.   Most  escape
       sequences  do not; <b>|</b> tells them to do so.  For vertical motions, the <b>|</b> operator specifies a distance from
       the first text baseline on the page or in the current diversion, using the current vertical spacing.

       The <b>\B</b> escape sequence tests its argument for validity as a numeric expression.

       A register interpolated as an operand in a numeric expression must have an Arabic format;  luckily,  this
       is the default.

       Due  to  the  way  arguments  are  parsed,  spaces  are  not  allowed  in  numeric expressions unless the
       (sub)expression containing them is surrounded by parentheses.

</pre><h4><b>Identifiers</b></h4><pre>
       An <u>identifier</u> labels a GNU <u>troff</u> datum such as a register, name (macro, string, or diversion),  typeface,
       color,  special  character, character class, environment, or stream.  Valid identifiers consist of one or
       more ordinary characters.  An <u>ordinary</u> <u>character</u> is an input character that is not the escape  character,
       a leader, tab, newline, or invalid as GNU <u>troff</u> input.

       Invalid  input characters are subset of control characters (from the sets “C0 Controls” and “C1 Controls”
       as Unicode describes them).  When <u>troff</u> encounters one  in  an  identifier,  it  produces  a  warning  in
       category  “<b>input</b>”  (see  section  “Warnings”  in  <u><a href="../man1/troff.1.html">troff</a></u>(1)).   They are removed during interpretation: an
       identifier “foo”, followed by an invalid character and then “bar”, is processed as “foobar”.

       On a machine using the ISO 646, 8859, or 10646 character encodings, invalid input  characters  are  <b>0x00</b>,
       <b>0x08</b>,  <b>0x0B</b>,  <b>0x0D</b>–<b>0x1F</b>,  and  <b>0x80</b>–<b>0x9F</b>.   On  an  EBCDIC  host,  they  are <b>0x00</b>–<b>0x01</b>, <b>0x08</b>, <b>0x09</b>, <b>0x0B</b>,
       <b>0x0D</b>–<b>0x14</b>, <b>0x17</b>–<b>0x1F</b>, and <b>0x30</b>–<b>0x3F</b>.  Some of these code points are used by <u>troff</u> internally,  making  it
       non-trivial  to  extend  the  program  to  accept UTF-8 or other encodings that use characters from these
       ranges.

       An identifier with a closing bracket (“]”) in  its  name  can't  be  accessed  with  bracket-form  escape
       sequences  that expect an identifier as a parameter.  Similarly, the identifier “(” can't be interpolated
       <u>except</u> with bracket forms.

       If you begin a macro, string, or diversion name with either of the characters “[” or “]”,  you  foreclose
       use of the <u><a href="../man1/refer.1.html">refer</a></u>(1) preprocessor, which recognizes “.[” and “.]” as bibliographic reference delimiters.

       The escape sequence <b>\A</b> tests its argument for validity as an identifier.

       How  GNU <u>troff</u> handles the interpretation of an undefined identifier depends on the context.  There is no
       way to invoke an undefined request; such  syntax  is  interpreted  as  a  macro  call  instead.   If  the
       identifier  is  interpreted  as  a  string, macro, or diversion, <u>troff</u> emits a warning in category “<b>mac</b>”,
       defines it as empty, and interpolates nothing.  If the identifier is interpreted  as  a  register,  <u>troff</u>
       emits  a  warning  in  category  “<b>reg</b>”, initializes it to zero, and interpolates that value.  See section
       “Warnings” in <u><a href="../man1/troff.1.html">troff</a></u>(1), and subsection “Interpolating registers” and section “Strings” below.  Attempting
       to use an undefined typeface, style, special character, color, character class,  environment,  or  stream
       generally provokes an error diagnostic.

       Identifiers  for  requests,  macros, strings, and diversions share one name space; special characters and
       character classes another.  No other object types do.

</pre><h4><b>Control</b> <b>characters</b></h4><pre>
       Control characters are recognized only at the beginning of an input line, or  at  the  beginning  of  the
       branch of a control structure request; see section “Control structures” below.

       A  few requests cause a break implicitly; use the no-break control character to prevent the break.  Break
       suppression is its sole behavioral distinction.  Employing  the  no-break  control  character  to  invoke
       requests that don't cause breaks is harmless but poor style.

       The  control  character  “<b>.</b>”  and  the  no-break  control character “<b>'</b>” can be changed with the <b>cc</b> and <b>c2</b>
       requests, respectively.  Within a macro definition, register <b>.br</b> indicates the control character used  to
       call it.

</pre><h4><b>Invoking</b> <b>requests</b></h4><pre>
       A  control character is optionally followed by tabs and/or spaces and then an identifier naming a request
       or macro.  The invocation of an unrecognized request is interpreted as a macro call.   Defining  a  macro
       with  the same name as a request replaces the request.  Deleting a request name with the <b>rm</b> request makes
       it unavailable.  The <b>als</b> request can alias requests, permitting them to be wrapped  or  non-destructively
       replaced.  See section “Strings” below.

       There is no inherent limit on argument length or quantity.  Most requests take one or more arguments, and
       ignore any they do not expect.  A request may be separated from its arguments by tabs or spaces, but only
       spaces  can separate an argument from its successor.  Only one between arguments is necessary; any excess
       is ignored.  GNU <u>troff</u> does not allow tabs for argument separation.

       Generally, a space <u>within</u> a request argument is not relevant, not meaningful, or is supported by  bespoke
       provisions,  as with the <b>tl</b> request's delimiters.  Some requests, like <b>ds</b>, interpret the remainder of the
       control line as a single argument.  See section “Strings” below.

       Spaces and tabs immediately after a control character  are  ignored.   Commonly,  authors  structure  the
       source of documents or macro files with them.

</pre><h4><b>Calling</b> <b>macros</b></h4><pre>
       If  a  macro of the desired name does not exist when called, it is created, assigned an empty definition,
       and a warning in category “<b>mac</b>” is emitted.  Calling an undefined  macro  <u>does</u>  end  a  macro  definition
       naming it as its end macro (see section “Writing macros” below).

       To  embed  spaces <u>within</u> a macro argument, enclose the argument in neutral double quotes ‘<b>"</b>’.  Horizontal
       motion escape sequences are sometimes a better choice for arguments to be formatted as text.

       The foregoing raises the question of how to embed neutral double quotes or backslashes in macro arguments
       when <u>those</u> characters are desired as literals.  In GNU <u>troff</u>, the special character escape sequence <b>\[rs]</b>
       produces a backslash and <b>\[dq]</b> a neutral double quote.

       In GNU <u>troff</u>'s AT&amp;T compatibility mode, these characters remain available as <b>\(rs</b> and <b>\(dq</b>, respectively.
       AT&amp;T <u>troff</u> did not consistently define these special characters, but  its  descendants  can  be  made  to
       support  them.  See <u><a href="../man5/groff_font.5.html">groff_font</a></u>(5).  If even that is not feasible, see the “Calling Macros” section of the
       <u>groff</u> Texinfo manual for the complex macro argument quoting rules of AT&amp;T <u>troff</u>.

</pre><h4><b>Using</b> <b>escape</b> <b>sequences</b></h4><pre>
       Whereas requests must occur on control lines, escape sequences can occur intermixed  with  text  and  may
       appear in arguments to requests, macros, and other escape sequences.  An escape sequence is introduced by
       the escape character, a backslash <b>\</b>.  The next character selects the escape's function.

       Escape  sequences  vary  in length.  Some take an argument, and of those, some have different syntactical
       forms for a one-character, two-character, or arbitrary-length argument.  Others accept <u>only</u> an arbitrary-
       length argument.  In  the  former  scheme,  a  one-character  argument  follows  the  function  character
       immediately,  an  opening  parenthesis “<b>(</b>” introduces a two-character argument (no closing parenthesis is
       used), and an argument of arbitrary length is enclosed in brackets “<b>[]</b>”.  In the latter scheme, the  user
       selects  a  delimiter  character.   A  few  escape  sequences  are idiosyncratic, and support both of the
       foregoing conventions (<b>\s</b>), designate their own termination sequence (<b>\?</b>), consume input until  the  next
       newline (<b>\!</b>, <b>\"</b>, <b>\#</b>), or support an additional modifier character (<b>\s</b> again, and <b>\n</b>).

       If  an escape character is followed by a character that does not identify a defined operation, the escape
       character is ignored (producing a diagnostic of the “<b>escape</b>” warning category, which is  not  enabled  by
       default) and the following character is processed normally.

       Escape sequence interpolation is of higher precedence than escape sequence argument interpretation.  This
       rule affords flexibility in using escape sequences to construct parameters to other escape sequences.

       The  escape  character  can be interpolated (<b>\e</b>).  Requests permit the escape mechanism to be deactivated
       (<b>eo</b>) and restored, or the escape character changed (<b>ec</b>), and to save and restore it (<b>ecs</b> and <b>ecr</b>).

</pre><h4><b>Delimiters</b></h4><pre>
       Some escape sequences that require parameters use delimiters.  The neutral  apostrophe  <b>'</b>  is  a  popular
       choice and shown in this document.  The neutral double quote <b>"</b> is also commonly seen.  Letters, numerals,
       and  leaders  can be used.  Punctuation characters are likely better choices, except for those defined as
       infix operators in numeric expressions; see below.

       The following escape sequences don't take arguments and thus are allowed as delimiters: <b>\</b><u>space</u>,  <b>\%</b>,  <b>\|</b>,
       <b>\^</b>,  <b>\{</b>,  <b>\}</b>, <b>\'</b>, <b>\`</b>, <b>\-</b>, <b>\_</b>, <b>\!</b>, <b>\?</b>, <b>\)</b>, <b>\/</b>, <b>\,</b>, <b>\&amp;</b>, <b>\:</b>, <b>\~</b>, <b>\0</b>, <b>\a</b>, <b>\c</b>, <b>\d</b>, <b>\e</b>, <b>\E</b>, <b>\p</b>, <b>\r</b>, <b>\t</b>, and <b>\u</b>.
       However, using them this way is discouraged; they can make the input confusing to read.

       A few escape sequences, <b>\A</b>, <b>\b</b>, <b>\o</b>, <b>\w</b>, <b>\X</b>, and <b>\Z</b>, accept a newline as a delimiter.  Newlines that serve
       as delimiters continue to be recognized as input line terminators.  Use  of  newlines  as  delimiters  in
       escape sequences is also discouraged.

       Finally, the escape sequences <b>\D</b>, <b>\h</b>, <b>\H</b>, <b>\l</b>, <b>\L</b>, <b>\N</b>, <b>\R</b>, <b>\s</b>, <b>\S</b>, <b>\v</b>, and <b>\x</b> prohibit many delimiters.

              • the numerals 0–9 and the decimal point “<b>.</b>”

              • the (single-character) operators <b>+-/*%&lt;&gt;=&amp;:()</b>

              • any escape sequences other than <b>\%</b>, <b>\:</b>, <b>\{</b>, <b>\}</b>, <b>\'</b>, <b>\`</b>, <b>\-</b>, <b>\_</b>, <b>\!</b>, <b>\/</b>, <b>\c</b>, <b>\e</b>, and <b>\p</b>

       Delimiter  syntax  is  complex  and flexible primarily for historical reasons; the foregoing restrictions
       need be kept in mind mainly when using <u>groff</u> in AT&amp;T compatibility mode.  GNU <u>troff</u> keeps  track  of  the
       nesting  depth  of  escape  sequence  interpolations,  so  the only characters you need to avoid using as
       delimiters are those that appear in the arguments you input, not  any  that  result  from  interpolation.
       Typically, <b>'</b> works fine.  See section “Implementation differences” in <u><a href="../man7/groff_diff.7.html">groff_diff</a></u>(7).

</pre><h4><b>Dummy</b> <b>characters</b></h4><pre>
       As  discussed in <u><a href="../man7/roff.7.html">roff</a></u>(7), the first character on an input line is treated specially.  Further, formatting
       a glyph has many consequences on formatter state (see section “Environments”  below).   Occasionally,  we
       want  to  escape this context or embrace some of those consequences without actually rendering a glyph to
       the output.  <b>\&amp;</b> interpolates a dummy character, which is  constitutive  of  output  but  invisible.   Its
       presence  alters  the  interpretation  context  of  a  subsequent  input  character,  and  enjoys several
       applications: preventing the insertion of extra space  after  an  end-of-sentence  character,  preventing
       interpretation  of  a control character at the beginning of an input line, preventing kerning between two
       glyphs, and permitting the <b>tr</b> request to remap a character to “nothing”.  <b>\)</b> works  as  <b>\&amp;</b>  does,  except
       that it does not cancel a pending end-of-sentence state.

</pre><h4><b>Control</b> <b>structures</b></h4><pre>
       <u>groff</u>  has  “if”  and  “while” control structures like other languages.  However, the syntax for grouping
       multiple input lines in the branches or bodies of these structures is unusual.

       They have a common form: the request name is (except for <b>.el</b> “else”) followed by a conditional expression
       <u>cond-expr</u>; the remainder of the line, <u>anything</u>, is interpreted as if it were an input line.  Any quantity
       of spaces between arguments to requests serves only to separate them;  leading  spaces  in  <u>anything</u>  are
       therefore  not seen.  <u>anything</u> effectively <u>cannot</u> be omitted; if <u>cond-expr</u> is true and <u>anything</u> is empty,
       the newline at the end of the control line is interpreted as a blank line (and  therefore  a  blank  text
       line).

       It  is  frequently desirable for a control structure to govern more than one request, macro call, or text
       line, or a combination of the foregoing.  The opening and  closing  brace  escape  sequences  <b>\{</b>  and  <b>\}</b>
       perform  such grouping.  Brace escape sequences outside of control structures have no meaning and produce
       no output.

       <b>\{</b> should appear (after optional spaces and tabs) immediately subsequent  to  the  request's  conditional
       expression.   <b>\}</b>  should  appear  on  a  line  with  other occurrences of itself as necessary to match <b>\{</b>
       sequences.  It can be preceded by a control character, spaces, and tabs.  Input after any quantity of  <b>\}</b>
       sequences on the same line is processed only if all the preceding conditions to which they correspond are
       true.  Furthermore, a <b>\}</b> closing the body of a <b>.while</b> request must be the last such escape sequence on an
       input line.

   <b>Conditional</b> <b>expressions</b>
       The  <b>.if</b>,  <b>.ie</b>,  and  <b>.while</b>  requests  test  the truth values of numeric expressions.  They also support
       several additional Boolean  operators;  the  members  of  this  expanded  class  are  termed  <u>conditional</u>
       <u>expressions</u>; their truth values are as shown below.

       <u><b>cond-expr</b></u>...   <b>...is</b> <b>true</b> <b>if...</b>
       ──────────────────────────────────────────────────────────────────────────────────────────────────────────
            <b>'</b><u>s1</u><b>'</b><u>s2</u><b>'</b>   <u>s1</u> produces the same formatted output as <u>s2</u>.
                <b>c</b> <u>g</u>   a glyph <u>g</u> is available.
                <b>d</b> <u>m</u>   a string, macro, diversion, or request <u>m</u> is defined.
                  <b>e</b>   the current page number is even.
                <b>F</b> <u>f</u>   a font named <u>f</u> is available.
                <b>m</b> <u>c</u>   a color named <u>c</u> is defined.
                  <b>n</b>   the formatter is in <u>nroff</u> mode.
                  <b>o</b>   the current page number is odd.
                <b>r</b> <u>n</u>   a register named <u>n</u> is defined.
                <b>S</b> <u>s</u>   a font style named <u>s</u> is available.
                  <b>t</b>   the formatter is in <u>troff</u> mode.
                  <b>v</b>   n/a (historical artifact; always false).

       If  the  first  argument to an <b>.if</b>, <b>.ie</b>, or <b>.while</b> request begins with a non-alphanumeric character apart
       from <b>!</b> (see below); it performs an <u>output</u> <u>comparison</u> <u>test.</u>  Shown first in the table  above,  the  <u>output</u>
       <u>comparison</u>  <u>operator</u>  interpolates  a true value if formatting its comparands <u>s1</u> and <u>s2</u> produces the same
       output commands.  Other delimiters can be used in place of the neutral apostrophes.  <u>troff</u> formats <u>s1</u> and
       <u>s2</u> in separate environments; after the comparison, the resulting data are discarded.  The resulting glyph
       properties, including font family, style, size, and slant, must match, but not necessarily  the  requests
       and/or  escape  sequences used to obtain them.  Motions must match in orientation and magnitude to within
       the applicable horizontal or vertical motion quantum of the device, after rounding.

       Surround the comparands with <b>\?</b> to avoid formatting them; this causes them to be  compared  character  by
       character, as with string comparisons in other programming languages.  Since comparands protected with <b>\?</b>
       are read in copy mode, they need not even be valid <u>groff</u> syntax.  The escape character is still lexically
       recognized, however, and consumes the next character.

       The  above  operators  can't be combined with most others, but a leading “<b>!</b>”, not followed immediately by
       spaces or tabs, complements an expression.  Spaces and tabs are optional immediately after the “<b>c</b>”,  “<b>d</b>”,
       “<b>F</b>”,  “<b>m</b>”,  “<b>r</b>”,  and  “<b>S</b>”  operators,  but  right  after “<b>!</b>”, they end the predicate and the conditional
       evaluates true.  (This bizarre behavior maintains compatibility with AT&amp;T <u>troff</u>.)

</pre><h4><b>Syntax</b> <b>reference</b> <b>conventions</b></h4><pre>
       In the following request and escape sequence specifications,  most  argument  names  were  chosen  to  be
       descriptive.  A few denotations may require introduction.

              <u>c</u>         denotes a single input character.
              <u>font</u>      a font either specified as a font name or a numeric mounting position.
              <u>anything</u>  all  characters  up  to  the  end  of  the  line, to the ending delimiter for the escape
                        sequence, or within <b>\{</b> and <b>\}</b>.   Escape  sequences  may  generally  be  used  freely  in
                        <u>anything</u>, except when it is read in copy mode.
              <u>message</u>   is  a  character sequence to be emitted on the standard error stream.  Special character
                        escape sequences are <u>not</u> interpreted.
              <u>n</u>         is a numeric expression that evaluates to a non-negative integer.
              <u>npl</u>       is a numeric expression constituting a count of subsequent <u>productive</u> input lines;  that
                        is,  those  that  directly  produce  formatted output.  Text lines produce output, as do
                        control lines containing requests like <b>.tl</b> or escape sequences like <b>\D</b>.  Macro calls are
                        not themselves productive, but their interpolated contents can be.
              <u>±N</u>        is a numeric expression with a meaning dependent on its sign.

       If a numeric expression presented as <u>±N</u> starts with a ‘<b>+</b>’ sign, an increment in the amount  of  of  <u>N</u>  is
       applied  to  the  value  applicable  to  the request or escape sequence.  If it starts with a ‘<b>-</b>’ sign, a
       decrement of magnitude <u>N</u> is applied instead.  Without a sign, <u>N</u> replaces any existing value.   A  leading
       minus  sign  in <u>N</u> is always interpreted as a decrementation operator, not an algebraic sign.  To assign a
       register a negative value or the negated value of another  register,  enclose  it  with  its  operand  in
       parentheses  or  subtract it from zero.  If a prior value does not exist (the register was undefined), an
       increment or decrement is applied as if to 0.

</pre><h4><b>Request</b> <b>short</b> <b>reference</b></h4><pre>
       Not all details of request behavior are outlined here.  See the <u>groff</u> Texinfo manual or, for features new
       to GNU <u>troff</u>, <u><a href="../man7/groff_diff.7.html">groff_diff</a></u>(7).

       <b>.ab</b>       Abort processing; exit with failure status.
       <b>.ab</b> <u>message</u>
                 Abort processing; write <u>message</u> to the standard error stream and exit with failure status.
       <b>.ad</b>       Enable output line alignment and adjustment using the mode stored in <b>\n[.j]</b>.
       <b>.ad</b> <u>c</u>     Enable output line alignment and adjustment in mode <u>c</u> (<u>c</u>=<b>b</b>,<b>c</b>,<b>l</b>,<b>n</b>,<b>r</b>).  Sets <b>\n[.j]</b>.
       <b>.af</b> <u>register</u> <u>c</u>
                 Assign format <u>c</u> to <u>register</u>, where <u>c</u> is “<b>i</b>”, “<b>I</b>”, “<b>a</b>”, “<b>A</b>”, or a  sequence  of  decimal  digits
                 whose  quantity  denotes  the  minimum  width  in  digits  to  be  used  when  the  register is
                 interpolated.  “<b>i</b>” and “<b>a</b>” indicate Roman numerals and basic Latin  alphabetics,  respectively,
                 in the lettercase specified.  The default is <b>0</b>.
       <b>.aln</b> <u>new</u> <u>old</u>
                 Create alias (additional name) <u>new</u> for existing register named <u>old</u>.
       <b>.als</b> <u>new</u> <u>old</u>
                 Create alias (additional name) <u>new</u> for existing request, string, macro, or diversion <u>old</u>.
       <b>.am</b> <u>macro</u> Append to <u>macro</u> until <b>..</b> is encountered.
       <b>.am</b> <u>macro</u> <u>end</u>
                 Append to <u>macro</u> until <b>.</b><u>end</u> is called.
       <b>.am1</b> <u>macro</u>
                 Same as <b>.am</b> but with compatibility mode switched off during macro expansion.
       <b>.am1</b> <u>macro</u> <u>end</u>
                 Same as <b>.am</b> but with compatibility mode switched off during macro expansion.
       <b>.ami</b> <u>macro</u>
                 Append to a macro whose name is contained in the string <u>macro</u> until <b>..</b> is encountered.
       <b>.ami</b> <u>macro</u> <u>end</u>
                 Append  to  a  macro indirectly.  <u>macro</u> and <u>end</u> are strings whose contents are interpolated for
                 the macro name and the end macro, respectively.
       <b>.ami1</b> <u>macro</u>
                 Same as <b>.ami</b> but with compatibility mode switched off during macro expansion.
       <b>.ami1</b> <u>macro</u> <u>end</u>
                 Same as <b>.ami</b> but with compatibility mode switched off during macro expansion.
       <b>.as</b> <u>name</u>  Create string <u>name</u> with empty contents; no operation if <u>name</u> already exists.
       <b>.as</b> <u>name</u> <u>contents</u>
                 Append <u>contents</u> to string <u>name</u>.
       <b>.as1</b> <u>string</u>
       <b>.as1</b> <u>string</u> <u>contents</u>
                 As <b>.as</b>, but with compatibility mode disabled when <u>contents</u> interpolated.
       <b>.asciify</b> <u>diversion</u>
                 Unformat ASCII characters, spaces, and some escape sequences in <u>diversion</u>.
       <b>.backtrace</b>
                 Write the state of the input stack to  the  standard  error  stream.   See  the  <b>-b</b>  option  of
                 <u><a href="../man1/groff.1.html">groff</a></u>(1).
       <b>.bd</b> <u>font</u>  Stop emboldening font <u>font.</u>
       <b>.bd</b> <u>font</u> <u>n</u>
                 Embolden <u>font</u> by overstriking its glyphs offset by <u>n</u>-1 units.  See register <b>.b</b>.
       <b>.bd</b> <u>special-font</u> <u>font</u>
                 Stop emboldening <u>special-font</u> when <u>font</u> is selected.
       <b>.bd</b> <u>special-font</u> <u>font</u> <u>n</u>
                 Embolden  <u>special-font,</u> overstriking its glyphs offset by <u>n</u>-1 units when <u>font</u> is selected.  See
                 register <b>.b</b>.
       <b>.blm</b>      Unset blank line macro (trap).  Restore default handling of blank lines.
       <b>.blm</b> <u>name</u> Set blank line macro (trap) to <u>name</u>.
       <b>.box</b>      Stop directing output to current diversion; any pending output line is discarded.
       <b>.box</b> <u>name</u> Direct output to diversion <u>name</u>, omitting a partially collected line.
       <b>.boxa</b>     Stop appending output to current diversion; any pending output line is discarded.
       <b>.boxa</b> <u>name</u>
                 Append output to diversion <u>name</u>, omitting a partially collected line.
       <b>.bp</b>       Break page and start a new one.
       <b>.bp</b> <u>±N</u>    Break page, starting a new one numbered <u>±N</u>.
       <b>.br</b>       Break output line.
       <b>.brp</b>      Break output line; adjust if applicable.
       <b>.break</b>    Break out of a while loop.
       <b>.c2</b>       Reset no-break control character to “<b>'</b>”.
       <b>.c2</b> <u>o</u>     Recognize ordinary character <u>o</u> as no-break control character.
       <b>.cc</b>       Reset control character to ‘<b>.</b>’.
       <b>.cc</b> <u>o</u>     Recognize ordinary character <u>o</u> as the control character.
       <b>.ce</b>       Break, center the output of the next productive input line without filling, and break again.
       <b>.ce</b> <u>npl</u>   Break, center the output of the next <u>npl</u> productive input lines  without  filling,  then  break
                 again.  If <u>npl</u> ≤ 0, stop centering.
       <b>.cf</b> <u>file</u>  Copy contents of <u>file</u> without formatting to the (top-level) diversion.
       <b>.cflags</b> <u>n</u> <u>c1</u> <u>c2</u> ...
                 Assign properties encoded by <u>n</u> to characters <u>c1</u>, <u>c2</u>, and so on.
       <b>.ch</b> <u>name</u>  Unplant page location trap <u>name</u>.
       <b>.ch</b> <u>name</u> <u>vpos</u>
                 Change  page  location trap <u>name</u> planted by <b>.wh</b> by moving its location to <u>vpos</u> (default scaling
                 unit <b>v</b>).
       <b>.char</b> <u>c</u> <u>contents</u>
                 Define ordinary or special character <u>c</u> as <u>contents</u>.
       <b>.chop</b> <u>object</u>
                 Remove the last character from the macro, string, or diversion named <u>object</u>.
       <b>.class</b> <u>name</u> <u>c1</u> <u>c2</u> ...
                 Define a (character) class <u>name</u> comprising the characters or range expressions <u>c1</u>, <u>c2</u>,  and  so
                 on.
       <b>.close</b> <u>stream</u>
                 Close the <u>stream</u>.
       <b>.color</b>    Enable output of color-related device-independent output commands.
       <b>.color</b> <u>n</u>  If  <u>n</u>  is  zero, disable output of color-related device-independent output commands; otherwise,
                 enable them.
       <b>.composite</b> <u>from</u> <u>to</u>
                 Map glyph name <u>from</u> to glyph name <u>to</u> while constructing a composite glyph name.
       <b>.continue</b> Finish the current iteration of a while loop.
       <b>.cp</b>       Enable compatibility mode.
       <b>.cp</b> <u>n</u>     If <u>n</u> is zero, disable compatibility mode, otherwise enable it.
       <b>.cs</b> <u>font</u> <u>n</u> <u>m</u>
                 Set constant character width mode for <u>font</u> to <u>n</u>/36 ems with em <u>m</u>.
       <b>.cu</b>       Continuously underline the output of the next productive input line.
       <b>.cu</b> <u>npl</u>   Continuously underline the output of the next <u>npl</u>  productive  input  lines.   If  <u>npl</u>=0,  stop
                 continuously underlining.
       <b>.da</b>       Stop appending output to current diversion.
       <b>.da</b> <u>name</u>  Append output to diversion <u>name</u>.
       <b>.de</b> <u>macro</u> Define  or  redefine  <u>macro</u>  until  “<b>..</b>”  occurs  at the start of a control line in the current
                 conditional block.
       <b>.de</b> <u>macro</u> <u>end</u>
                 Define or redefine <u>macro</u> until <u>end</u> is invoked or called at the start of a control line  in  the
                 current conditional block.
       <b>.de1</b> <u>macro</u>
                 As <b>.de</b>, but disable compatibility mode during macro expansion.
       <b>.de1</b> <u>macro</u> <u>end</u>
                 As “<b>.de</b> <u>macro</u> <u>end</u>”, but disable compatibility mode during macro expansion.
       <b>.defcolor</b> <u>ident</u> <u>scheme</u> <u>color-component</u> ...
                 Define  a  color  named  <u>ident.</u>   <u>scheme</u>  identifies a color space and determines the number of
                 required <u>color-component</u>s; it must be one of “<b>rgb</b>” (three components),  “<b>cmy</b>”  (three),  “<b>cmyk</b>”
                 (four),  or “<b>gray</b>” (one).  “<b>grey</b>” is accepted as a synonym of “<b>gray</b>”.  The color components can
                 be encoded as a single hexadecimal value starting with <b>#</b> or <b>##</b>.  The former indicates that each
                 component is in the range 0–255 (0–FF), the latter the range 0–65,535 (0–FFFF).  Alternatively,
                 each color component can be specified as a decimal fraction in the range 0–1, interpreted using
                 a default scaling unit of “<b>f</b>”, which multiplies its value by 65,536 (but clamps it at  65,535).
                 Each  output device has a color named “<b>default</b>”, which cannot be redefined.  A device's default
                 stroke and fill colors are not necessarily the same.
       <b>.dei</b> <u>macro</u>
                 Define macro indirectly.  As <b>.de</b>, but use interpolation of string <u>macro</u>  as  the  name  of  the
                 defined macro.
       <b>.dei</b> <u>macro</u> <u>end</u>
                 Define  macro indirectly.  As <b>.de</b>, but use interpolations of strings <u>macro</u> and <u>end</u> as the names
                 of the defined and end macros.
       <b>.dei1</b> <u>macro</u>
                 As <b>.dei</b>, but disable compatibility mode during macro expansion.
       <b>.dei1</b> <u>macro</u> <u>end</u>
                 As <b>.dei</b> <u>macro</u> <u>end</u>, but disable compatibility mode during macro expansion.
       <b>.device</b> <u>anything</u>
                 Write <u>anything</u>, read in copy mode, to <u>troff</u> output as a device  control  command.   An  initial
                 neutral double quote is stripped to allow embedding of leading spaces.
       <b>.devicem</b> <u>name</u>
                 Write contents of macro or string <u>name</u> to <u>troff</u> output as a device control command.
       <b>.di</b>       Stop directing output to current diversion.
       <b>.di</b> <u>name</u>  Direct output to diversion <u>name</u>.
       <b>.do</b> <u>name</u> ...
                 Interpret  the  string,  request,  diversion,  or  macro  <u>name</u>  (along with any arguments) with
                 compatibility mode disabled.  Compatibility mode is restored (only if it was active)  when  the
                 <u>expansion</u> of <u>name</u> is interpreted.
       <b>.ds</b> <u>name</u>  Create empty string <u>name</u>.
       <b>.ds</b> <u>name</u> <u>contents</u>
                 Create a string <u>name</u> containing <u>contents</u>.
       <b>.ds1</b> <u>name</u>
       <b>.ds1</b> <u>name</u> <u>contents</u>
                 As <b>.ds</b>, but with compatibility mode disabled when <u>contents</u> interpolated.
       <b>.dt</b>       Clear diversion trap.
       <b>.dt</b> <u>vertical-position</u> <u>name</u>
                 Set the diversion trap to macro <u>name</u> at <u>vertical-position</u> (default scaling unit <b>v</b>).
       <b>.ec</b>       Recognize <b>\</b> as the escape character.
       <b>.ec</b> <u>o</u>     Recognize ordinary character <u>o</u> as the escape character.
       <b>.ecr</b>      Restore escape character saved with <b>.ecs</b>.
       <b>.ecs</b>      Save the escape character.
       <b>.el</b> <u>anything</u>
                 Interpret  <u>anything</u>  as  if  it  were  an  input  line  if  the  conditional  expression of the
                 corresponding <b>.ie</b> request was false.
       <b>.em</b> <u>name</u>  Call macro <u>name</u> after the end of input.
       <b>.eo</b>       Disable the escape mechanism in interpretation mode.
       <b>.ev</b>       Pop environment stack, returning to previous one.
       <b>.ev</b> <u>env</u>   Push current environment onto stack and switch to <u>env</u>.
       <b>.evc</b> <u>env</u>  Copy environment <u>env</u> to the current one.
       <b>.ex</b>       Exit with successful status.
       <b>.fam</b>      Set default font family to previous value.
       <b>.fam</b> <u>name</u> Set default font family to <u>name</u>.
       <b>.fc</b>       Disable field mechanism.
       <b>.fc</b> <u>a</u>     Set field delimiter to <u>a</u> and pad glyph to space.
       <b>.fc</b> <u>a</u> <u>b</u>   Set field delimiter to <u>a</u> and pad glyph to <u>b</u>.
       <b>.fchar</b> <u>c</u> <u>contents</u>
                 Define fallback character (or glyph) <u>c</u> as <u>contents</u>.
       <b>.fcolor</b>   Restore previous fill color.
       <b>.fcolor</b> <u>c</u> Set fill color to <u>c</u>.
       <b>.fi</b>       Enable filling of output lines; a pending output line is broken.  Sets <b>\n[.u]</b>.
       <b>.fl</b>       Flush output buffer.
       <b>.fp</b> <u>pos</u> <u>id</u>
                 Mount font with font description file name <u>id</u> at non-negative position <u>n</u>.
       <b>.fp</b> <u>pos</u> <u>id</u> <u>font-description-file-name</u>
                 Mount font with <u>font-description-file-name</u> as name <u>id</u> at non-negative position <u>n</u>.
       <b>.fschar</b> <u>f</u> <u>c</u> <u>anything</u>
                 Define fallback character (or glyph) <u>c</u> for font <u>f</u> as string <u>anything</u>.
       <b>.fspecial</b> <u>font</u>
                 Reset list of special fonts for <u>font</u> to be empty.
       <b>.fspecial</b> <u>font</u> <u>s1</u> <u>s2</u> ...
                 When the current font is <u>font</u>, then the fonts <u>s1</u>, <u>s2</u>, ... are special.
       <b>.ft</b>
       <b>.ft</b> <b>P</b>     Select previous font mounting position (abstract style or font); same as <b>\f[]</b> or <b>\fP</b>.
       <b>.ft</b> <u>font</u>  Select typeface <u>font,</u> which can be a mounting position, abstract style, or font name;  same  as
                 <b>\f[</b><u>font</u><b>]</b> escape sequence.  <u>font</u> cannot be <b>P</b>.
       <b>.ftr</b> <u>font1</u> <u>font2</u>
                 Translate <u>font1</u> to <u>font2</u>.
       <b>.fzoom</b> <u>font</u>
       <b>.fzoom</b> <u>font</u> <b>0</b>
                 Stop magnifying <u>font</u>.
       <b>.fzoom</b> <u>font</u> <u>z</u>
                 Set zoom factor for <u>font</u> to <u>z</u> (in thousandths; default: 1000).
       <b>.gcolor</b>   Restore previous stroke color.
       <b>.gcolor</b> <u>c</u> Set stroke color to <u>c</u>.
       <b>.hc</b>       Reset the hyphenation character to <b>\%</b> (the default).
       <b>.hc</b> <u>char</u>  Change the hyphenation character to <u>char</u>.
       <b>.hcode</b> <u>c1</u> <u>code1</u> [<u>c2</u> <u>code2</u>] ...
                 Set the hyphenation code of character <u>c1</u> to <u>code1</u>, that of <u>c2</u> to <u>code2</u>, and so on.
       <b>.hla</b> <u>lang</u> Set the hyphenation language to <u>lang</u>.
       <b>.hlm</b> <u>n</u>    Set the maximum quantity of consecutive hyphenated lines to <u>n</u>.
       <b>.hpf</b> <u>pattern-file</u>
                 Read hyphenation patterns from <u>pattern-file</u>.
       <b>.hpfa</b> <u>pattern-file</u>
                 Append hyphenation patterns from <u>pattern-file</u>.
       <b>.hpfcode</b> <u>a</u> <u>b</u> [<u>c</u> <u>d</u>] ...
                 Define mappings for character codes in hyphenation pattern files read with <b>.hpf</b> and <b>.hpfa</b>.
       <b>.hw</b> <u>word</u> ...
                 Define hyphenation overrides for each <u>word;</u> a hyphen “<b>-</b>” indicates a hyphenation point.
       <b>.hy</b>       Set automatic hyphenation mode to <b>1</b>.
       <b>.hy</b> <b>0</b>     Disable automatic hyphenation; same as <b>.nh</b>.
       <b>.hy</b> <u>mode</u>  Set automatic hyphenation mode to <u>mode</u>; see section “Hyphenation” below.
       <b>.hym</b>      Set the (right) hyphenation margin to <b>0</b> (the default).
       <b>.hym</b> <u>length</u>
                 Set the (right) hyphenation margin to <u>length</u> (default scaling unit <b>m</b>).
       <b>.hys</b>      Set the hyphenation space to <b>0</b> (the default).
       <b>.hys</b> <u>hyphenation-space</u>
                 Suppress automatic hyphenation in adjustment modes “<b>b</b>” or “<b>n</b>” if the line can be justified with
                 the addition of up to <u>hyphenation-space</u> to each inter-word space (default scaling unit <b>m</b>).
       <b>.ie</b> <u>cond-expr</u> <u>anything</u>
                 If  <u>cond-expr</u>  is  true,  interpret  <u>anything</u>  as if it were an input line, otherwise skip to a
                 corresponding <b>.el</b> request.
       <b>.if</b> <u>cond-expr</u> <u>anything</u>
                 If <u>cond-expr</u> is true, then interpret <u>anything</u> as if it were an input line.
       <b>.ig</b>       Ignore input (except for side effects of <b>\R</b> on auto-incrementing registers) until  “<b>..</b>”  occurs
                 at the start of a control line in the current conditional block.
       <b>.ig</b> <u>end</u>   Ignore  input  (except  for  side  effects  of <b>\R</b> on auto-incrementing registers) until <b>.</b><u>end</u> is
                 called at the start of a control line in the current conditional block.
       <b>.in</b>       Set indentation amount to previous value.
       <b>.in</b> <u>±N</u>    Set indentation to <u>±N</u> (default scaling unit <b>m</b>).
       <b>.it</b>       Cancel any pending input line trap.
       <b>.it</b> <u>npl</u> <u>name</u>
                 Set (or replace) an input line trap in the environment, calling macro <u>name</u>, after the next  <u>npl</u>
                 productive  input  lines  have  been  read.   Lines interrupted with the <b>\c</b> escape sequence are
                 counted separately.
       <b>.itc</b>      Cancel any pending input line trap.
       <b>.itc</b> <u>npl</u> <u>name</u>
                 As <b>.it</b>, except that input lines interrupted with the <b>\c</b> escape sequence are not counted.
       <b>.kern</b>     Enable pairwise kerning.
       <b>.kern</b> <u>n</u>   If <u>n</u> is zero, disable pairwise kerning, otherwise enable it.
       <b>.lc</b>       Unset leader repetition character.
       <b>.lc</b> <u>c</u>     Set leader repetition character to <u>c</u> (default: “<b>.</b>”).
       <b>.length</b> <u>reg</u> <u>anything</u>
                 Compute the number of characters of <u>anything</u> and store the count in the register <u>reg</u>.
       <b>.linetabs</b> Enable line-tabs mode (calculate tab positions relative to beginning of output line).
       <b>.linetabs</b> <b>0</b>
                 Disable line-tabs mode.
       <b>.lf</b> <u>n</u>     Set number of next input line to <u>n</u>.
       <b>.lf</b> <u>n</u> <u>file</u>
                 Set number of next input line to <u>n</u> and input file name to <u>file</u>.
       <b>.lg</b> <u>m</u>     Set ligature mode to <u>m</u> (<b>0</b> = disable, <b>1</b> = enable, <b>2</b> = enable for two-letter ligatures only).
       <b>.ll</b>       Set line length to previous value.  Does not affect a pending output line.
       <b>.ll</b> <u>±N</u>    Set line length to <u>±N</u> (default length 6.5<b>i</b>, default scaling unit <b>m</b>).  Does not affect a pending
                 output line.
       <b>.lsm</b>      Unset the leading space macro (trap).  Restore default handling of lines with leading spaces.
       <b>.lsm</b> <u>name</u> Set the leading space macro (trap) to <u>name</u>.
       <b>.ls</b>       Change to the previous value of additional intra-line skip.
       <b>.ls</b> <u>n</u>     Set additional intra-line skip value to <u>n</u>, i.e., <u>n</u>-1 blank lines are inserted after  each  text
                 output line.
       <b>.lt</b>       Set length of title lines to previous value.
       <b>.lt</b> <u>±N</u>    Set length of title lines (default length 6.5<b>i</b>, default scaling unit <b>m</b>).
       <b>.mc</b>       Cease writing margin character.
       <b>.mc</b> <u>c</u>     Begin writing margin character <u>c</u> to the right of each output line.
       <b>.mc</b> <u>c</u> <u>d</u>   Begin  writing  margin  character <u>c</u> on each output line at distance <u>d</u> to the right of the right
                 margin (default distance 10<b>p</b>, default scaling unit <b>m</b>).
       <b>.mk</b>       Mark vertical drawing position in an internal register; see <b>.rt</b>.
       <b>.mk</b> <u>register</u>
                 Mark vertical drawing position in <u>register</u>.
       <b>.mso</b> <u>file</u> As <b>.so</b>, except that <u>file</u> is sought in the <u>tmac</u> directories.
       <b>.msoquiet</b> <u>file</u>
                 As <b>.mso</b>, but no warning is emitted if <u>file</u> does not exist.
       <b>.na</b>       Disable output line adjustment.
       <b>.ne</b>       Break page if distance to next page location trap is less than one vee.
       <b>.ne</b> <u>d</u>     Break page if distance to next page location trap is less  than  distance  <u>d</u>  (default  scaling
                 unit <b>v</b>).
       <b>.nf</b>       Disable filling of output lines; a pending output line is broken.  Clears <b>\n[.u]</b>.
       <b>.nh</b>       Disable automatic hyphenation; same as “<b>.hy</b> <b>0</b>”.
       <b>.nm</b>       Deactivate output line numbering.
       <b>.nm</b> <u>±N</u>
       <b>.nm</b> <u>±N</u> <u>m</u>
       <b>.nm</b> <u>±N</u> <u>m</u> <u>s</u>
       <b>.nm</b> <u>±N</u> <u>m</u> <u>s</u> <u>i</u>
                 Activate  output line numbering: number the next output line <u>±N,</u> writing numbers every <u>m</u> lines,
                 with <u>s</u> numeral widths (<b>\0</b>) between the line number and the output (default  1),  and  indenting
                 the line number by <u>i</u> numeral widths (default 0).
       <b>.nn</b>       Suppress numbering of the next output line to be numbered with <b>nm</b>.
       <b>.nn</b> <u>n</u>     Suppress  numbering  of  the  next  <u>n</u>  output  lines  to  be  numbered with <b>nm</b>.  If <u>n</u>=0, cancel
                 suppression.
       <b>.nop</b> <u>anything</u>
                 Interpret <u>anything</u> as if it were an input line.
       <b>.nr</b> <u>reg</u> <u>±N</u>
                 Define or update register <u>reg</u> with value <u>N</u>.
       <b>.nr</b> <u>reg</u> <u>±N</u> <u>I</u>
                 Define or update register <u>reg</u> with value <u>N</u> and auto-increment <u>I</u>.
       <b>.nroff</b>    Make the conditional expressions <b>n</b> true and <b>t</b> false.
       <b>.ns</b>       Enable <u>no-space</u> <u>mode</u>, ignoring <b>.sp</b> requests until a glyph or <b>\D</b> primitive is output.  See <b>.rs</b>.
       <b>.nx</b>       Immediately jump to end of current file.
       <b>.nx</b> <u>file</u>  Stop formatting current file and begin reading <u>file.</u>
       <b>.open</b> <u>stream</u> <u>file</u>
                 Open <u>file</u> for writing and associate the stream named <u>stream</u> with it.  Unsafe request;  disabled
                 by default.
       <b>.opena</b> <u>stream</u> <u>file</u>
                 As <b>.open</b>, but append to <u>file.</u>  Unsafe request; disabled by default.
       <b>.os</b>       Output vertical distance that was saved by the <b>.sv</b> request.
       <b>.output</b> <u>contents</u>
                 Emit  <u>contents</u>  directly  to  intermediate output, allowing leading whitespace if <u>string</u> starts
                 with <b>"</b> (which is stripped off).
       <b>.pc</b>       Reset page number character to ‘<b>%</b>’.
       <b>.pc</b> <u>c</u>     Page number character.
       <b>.pev</b>      Report the state of the current environment followed by that of all other environments  to  the
                 standard error stream.
       <b>.pi</b> <u>program</u>
                 Pipe output to <u>program</u> (<u>nroff</u> only).  Unsafe request; disabled by default.
       <b>.pl</b>       Set page length to default 11<b>i</b>.  The current page length is stored in register <b>.p</b>.
       <b>.pl</b> <u>±N</u>    Change page length to <u>±N</u> (default scaling unit <b>v</b>).
       <b>.pm</b>       Report,  to the standard error stream, the names and sizes in bytes of defined macros, strings,
                 and diversions.
       <b>.pn</b> <u>±N</u>    Next page number <u>N</u>.
       <b>.pnr</b>      Write the names and contents of all defined registers to the standard error stream.
       <b>.po</b>       Change to previous page offset.  The current page offset is available in register <b>.o</b>.
       <b>.po</b> <u>±N</u>    Page offset <u>N</u>.
       <b>.ps</b>       Return to previous type size.
       <b>.ps</b> <u>±N</u>    Set/increase/decrease the type size to/by <u>N</u> scaled points (a non-positive resulting  type  size
                 is set to 1 u); also see <b>\s[</b><u>±N</u><b>]</b>.
       <b>.psbb</b> <u>file</u>
                 Retrieve  the bounding box of the PostScript image found in <u>file,</u> which must conform to Adobe's
                 Document Structuring Conventions (DSC).  See registers <b>llx</b>, <b>lly</b>, <b>urx</b>, <b>ury</b>.
       <b>.pso</b> <u>command-line</u>
                 Execute <u>command-line</u> with <u><a href="../man3/popen.3.html">popen</a></u>(3) and interpolate its output.   Unsafe  request;  disabled  by
                 default.
       <b>.ptr</b>      Report names and positions of all page location traps to the standard error stream.
       <b>.pvs</b>      Change to previous post-vertical line spacing.
       <b>.pvs</b> <u>±N</u>   Change post-vertical line spacing according to <u>±N</u> (default scaling unit <b>p</b>).
       <b>.rchar</b> <u>c1</u> <u>c2</u> ...
                 Remove definition of each ordinary or special character <u>c1</u>, <u>c2</u>, ... defined by a <b>.char</b>, <b>.fchar</b>,
                 or <b>.schar</b> request.
       <b>.rd</b> <u>prompt</u>
                 Read insertion.
       <b>.return</b>   Return from a macro.
       <b>.return</b> <u>anything</u>
                 Return twice, namely from the macro at the current level and from the macro one level higher.
       <b>.rfschar</b> <u>f</u> <u>c1</u> <u>c2</u> ...
                 Remove the font-specific definitions of glyphs <u>c1</u>, <u>c2</u>, ... for font <u>f</u>.
       <b>.rj</b> <u>npl</u>   Break,  right-align  the  output  of the next productive input line without filling, then break
                 again.
       <b>.rj</b> <u>npl</u>   Break, right-align the output of the next <u>npl</u> productive  input  lines  without  filling,  then
                 break again.  If <u>npl</u> ≤ 0, stop right-aligning.
       <b>.rm</b> <u>name</u>  Remove request, macro, diversion, or string <u>name</u>.
       <b>.rn</b> <u>old</u> <u>new</u>
                 Rename request, macro, diversion, or string <u>old</u> to <u>new</u>.
       <b>.rnn</b> <u>reg1</u> <u>reg2</u>
                 Rename register <u>reg1</u> to <u>reg2</u>.
       <b>.rr</b> <u>ident</u> Remove register <u>ident</u>.
       <b>.rs</b>       Restore spacing; disable no-space mode.  See <b>.ns</b>.
       <b>.rt</b>       Return <u>(upward</u> <u>only)</u> to vertical position marked by <b>.mk</b> on the current page.
       <b>.rt</b> <u>N</u>     Return <u>(upward</u> <u>only)</u> to vertical position <u>N</u> (default scaling unit <b>v</b>).
       <b>.schar</b> <u>c</u> <u>contents</u>
                 Define global fallback character (or glyph) <u>c</u> as <u>contents</u>.
       <b>.shc</b>      Reset the soft hyphen character to <b>\[hy]</b>.
       <b>.shc</b> <u>c</u>    Set the soft hyphen character to <u>c</u>.
       <b>.shift</b> <u>n</u>  In a macro definition, left-shift arguments by <u>n</u> positions.
       <b>.sizes</b> <u>s1</u> <u>s2</u> ... <u>sn</u> [<b>0</b>]
                 Set  available  type  sizes  similarly  to  the  <b>sizes</b>  directive  in  a <u>DESC</u> file.  Each <u>s</u>i is
                 interpreted in units of scaled points (<b>z</b>).
       <b>.so</b> <u>file</u>  Replace the request's control line with the contents of <u>file</u>, “sourcing” it.
       <b>.soquiet</b> <u>file</u>
                 As <b>.so</b>, but no warning is emitted if <u>file</u> does not exist.
       <b>.sp</b>       Break and move the next text baseline down by one vee, or until springing a page location trap.
       <b>.sp</b> <u>dist</u>  Break and move the next text baseline down by <u>dist</u>, or until springing  a  page  location  trap
                 (default  scaling  unit  <b>v</b>).  A negative <u>dist</u> will not reduce the position of the text baseline
                 below zero.  Prefixing <u>dist</u> with the <b>|</b> operator moves to a position relative to  the  page  top
                 for  positive  <u>N</u>, and the bottom if <u>N</u> is negative; in all cases, one line height (vee) is added
                 to <u>dist</u>.  <u>dist</u> is ignored inside a diversion.
       <b>.special</b>  Reset global list of special fonts to be empty.
       <b>.special</b> <u>s1</u> <u>s2</u> ...
                 Fonts <u>s1</u>, <u>s2</u>, etc. are special and are searched for glyphs not in the current font.
       <b>.spreadwarn</b>
                 Toggle the spread warning on and off (the default) without changing its value.
       <b>.spreadwarn</b> <u>N</u>
                 Emit a <b>break</b> warning if the additional space inserted  for  each  space  between  words  in  an
                 adjusted output line is greater than or equal to <u>N</u>.  A negative <u>N</u> is treated as 0.  The default
                 scaling unit is <b>m</b>.  At startup, <b>.spreadwarn</b> is inactive and <u>N</u> is 3 m<b>.</b>
       <b>.ss</b> <u>n</u>     Set minimal inter-word spacing to <u>n</u> 12ths of current font's space width.
       <b>.ss</b> <u>n</u> <u>m</u>   As “<b>.ss</b> <u>n</u>”, and set additional inter-sentence space to <u>m</u> 12ths of current font's space width.
       <b>.stringdown</b> <u>stringvar</u>
                 Replace each byte in the string named <u>stringvar</u> with its lowercase version.
       <b>.stringup</b> <u>stringvar</u>
                 Replace each byte in the string named <u>stringvar</u> with its uppercase version.
       <b>.sty</b> <u>n</u> <u>style</u>
                 Associate abstract <u>style</u> with font position <u>n</u>.
       <b>.substring</b> <u>str</u> <u>start</u> [<u>end</u>]
                 Replace  the  string  named  <u>str</u>  with  its  substring  bounded  by  the indices <u>start</u> and <u>end</u>,
                 inclusive.  Negative indices count backwards from the end of the string.
       <b>.sv</b>       As <b>.ne</b>, but save 1 v for output with <b>.os</b> request.
       <b>.sv</b> <u>d</u>     As <b>.ne</b>, but save distance <u>d</u> for later output with <b>.os</b> request (default scaling unit <b>v</b>).
       <b>.sy</b> <u>command-line</u>
                 Execute <u>command-line</u> with <u><a href="../man3/system.3.html">system</a></u>(3).  Unsafe request; disabled by default.
       <b>.ta</b> <u>n1</u> <u>n2</u> ... <u>n</u>n <b>T</b> <u>r1</u> <u>r2</u> ... <u>r</u>n
                 Set tabs at positions <u>n1</u>, <u>n2</u>, ..., <u>n</u>n, then set tabs at <u>n</u>n+<u>m</u>×<u>r</u>n+<u>r1</u> through <u>n</u>n+<u>m</u>×<u>r</u>n+<u>r</u>n, where  <u>m</u>
                 increments  from  0, 1, 2, ... to the output line length.  Each <u>n</u> argument can be prefixed with
                 a “<b>+</b>” to place the tab stop <u>ni</u> at a distance relative to the previous, <u>n</u>(<u>i</u>-1).   Each  argument
                 <u>ni</u> or <u>ri</u> can be suffixed with a letter to align text within the tab column bounded by tab stops
                 <u>i</u> and <u>i</u>+1; “<b>L</b>” for left-aligned (the default), “<b>C</b>” for centered, and “<b>R</b>” for right-aligned.
       <b>.tag</b>
       <b>.taga</b>     Reserved for internal use.
       <b>.tc</b>       Unset tab repetition character.
       <b>.tc</b> <u>c</u>     Set tab repetition character to <u>c</u> (default: none).
       <b>.ti</b> <u>±N</u>    Temporarily indent next output line (default scaling unit <b>m</b>).
       <b>.tkf</b> <u>font</u> <u>s1</u> <u>n1</u> <u>s2</u> <u>n2</u>
                 Enable track kerning for <u>font</u>.
       <b>.tl</b> <b>'</b><u>left</u><b>'</b><u>center</u><b>'</b><u>right</u><b>'</b>
                 Format three-part title.
       <b>.tm</b> <u>message</u>
                 Write <u>message,</u> followed by a newline, to the standard error stream.
       <b>.tm1</b> <u>message</u>
                 As  <b>.tm</b>,  but  an  initial  neutral  double quote in <u>message</u> is removed, allowing it to contain
                 leading spaces.
       <b>.tmc</b> <u>message</u>
                 As <b>.tm1</b>, without emitting a newline.
       <b>.tr</b> <u>abcd</u>...
                 Translate ordinary or special characters <u>a</u> to <u>b</u>, <u>c</u> to <u>d</u>, and so on prior to output.
       <b>.trf</b> <u>file</u> Transparently output the contents of <u>file.</u>  Unlike <b>.cf</b>, invalid input characters  in  <u>file</u>  are
                 rejected.
       <b>.trin</b> <u>abcd</u>...
                 As <b>.tr</b>, except that <b>.asciify</b> ignores the translation when a diversion is interpolated.
       <b>.trnt</b> <u>abcd</u>...
                 As <b>.tr</b>, except that translations are suppressed in the argument to <b>\!</b>.
       <b>.troff</b>    Make the conditional expressions <b>t</b> true and <b>n</b> false.
       <b>.uf</b> <u>font</u>  Set underline font used by <b>.ul</b> to <u>font.</u>
       <b>.ul</b>       Underline (italicize in <u>troff</u> mode) the output of the next productive input line.
       <b>.ul</b> <u>npl</u>   Underline  (italicize  in  <u>troff</u>  mode)  the  output of the next <u>npl</u> productive input line.  If
                 <u>npl</u>=0, stop underlining.
       <b>.unformat</b> <u>diversion</u>
                 Unformat space characters and tabs in <u>diversion</u>, preserving font information.
       <b>.vpt</b>      Enable vertical position traps.
       <b>.vpt</b> <b>0</b>    Disable vertical position traps.
       <b>.vs</b>       Change to previous vertical spacing.
       <b>.vs</b> <u>±N</u>    Set vertical spacing to <u>±N</u> (default scaling unit <b>p</b>).
       <b>.warn</b>     Enable all warning categories.
       <b>.warn</b> <b>0</b>   Disable all warning categories.
       <b>.warn</b> <u>n</u>   Enable warnings in categories whose codes sum to <u>n</u>; see <u><a href="../man1/troff.1.html">troff</a></u>(1).
       <b>.warnscale</b> <u>su</u>
                 Set scaling unit used in certain warnings to <u>su</u> (one of <b>u</b>, <b>i</b>, <b>c</b>, <b>p</b>, or <b>P</b>; default: <b>i</b>).
       <b>.wh</b> <u>vpos</u>  Remove visible page location trap at <u>vpos</u> (default scaling unit <b>v</b>).
       <b>.wh</b> <u>vpos</u> <u>name</u>
                 Plant macro <u>name</u> as page location trap at <u>vpos</u> (default scaling unit <b>v</b>), removing  any  visible
                 trap already there.
       <b>.while</b> <u>cond-expr</u> <u>anything</u>
                 Repeatedly execute <u>anything</u> unless and until <u>cond-expr</u> evaluates false.
       <b>.write</b> <u>stream</u> <u>anything</u>
                 Write <u>anything</u> to the stream named <u>stream</u>.
       <b>.writec</b> <u>stream</u> <u>anything</u>
                 Similar to <b>.write</b> without emitting a final newline.
       <b>.writem</b> <u>stream</u> <u>xx</u>
                 Write contents of macro or string <u>xx</u> to the stream named <u>stream</u>.

</pre><h4><b>Escape</b> <b>sequence</b> <b>short</b> <b>reference</b></h4><pre>
       The  escape  sequences  <b>\"</b>,  <b>\#</b>, <b>\$</b>, <b>\*</b>, <b>\?</b>, <b>\a</b>, <b>\e</b>, <b>\n</b>, <b>\t</b>, <b>\g</b>, <b>\V</b>, and <b>\</b><u>newline</u> are interpreted even in
       copy mode.

       <b>\"</b>     Comment.  Everything up to the end of the line is ignored.
       <b>\#</b>     Comment.  Everything up to and including the next newline is ignored.
       <b>\*</b><u>s</u>    Interpolate string with one-character name <u>s</u>.
       <b>\*(</b><u>st</u>  Interpolate string with two-character name <u>st</u>.
       <b>\*[</b><u>string</u><b>]</b>
              Interpolate string with name <u>string</u> (of arbitrary length).
       <b>\*[</b><u>string</u> <u>arg</u> ...<b>]</b>
              Interpolate string with name <u>string</u> (of arbitrary length), taking <u>arg</u> ... as arguments.
       <b>\$0</b>    Interpolate name by which currently executing macro was invoked.
       <b>\$</b><u>n</u>    Interpolate macro or string parameter numbered <u>n</u> (1≤<u>n</u>≤9).
       <b>\$(</b><u>nn</u>  Interpolate macro or string parameter numbered <u>nn</u> (01≤<u>nn</u>≤99).
       <b>\$[</b><u>nnn</u><b>]</b>
              Interpolate macro or string parameter numbered <u>nnn</u> (<u>nnn</u>≥1).
       <b>\$*</b>    Interpolate concatenation of all macro or string parameters, separated by spaces.
       <b>\$@</b>    Interpolate concatenation of all macro or string parameters, with each surrounded by double quotes
              and separated by spaces.
       <b>\$^</b>    Interpolate concatenation of all macro or string parameters as if they were arguments to  the  <b>.ds</b>
              request.
       <b>\'</b>     is a synonym for <b>\[aa]</b>, the acute accent special character.
       <b>\`</b>     is a synonym for <b>\[ga]</b>, the grave accent special character.
       <b>\-</b>     is a synonym for <b>\[-]</b>, the minus sign special character.
       <b>\_</b>     is a synonym for <b>\[ul]</b>, the underrule special character.
       <b>\%</b>     Control hyphenation.
       <b>\!</b>     Transparent  line.   The remainder of the input line is interpreted (1) when the current diversion
              is read; or (2) if in the top-level diversion, by the postprocessor (if any).
       <b>\?</b><u>anything</u><b>\?</b>
              Transparently embed <u>anything</u>, read in copy mode, in a  diversion,  or  unformatted  as  an  output
              comparand in a conditional expression.
       <b>\</b><u>space</u> Move right one word space.
       <b>\~</b>     Insert an unbreakable, adjustable space.
       <b>\0</b>     Move right by the width of a numeral in the current font.
       <b>\|</b>     Move one-sixth em to the right on typesetters.
       <b>\^</b>     Move one-twelfth em to the right on typesetters.
       <b>\&amp;</b>     Interpolate a dummy character.
       <b>\)</b>     Interpolate a dummy character that is transparent to end-of-sentence recognition.
       <b>\/</b>     Apply  italic  correction.   Use  between an immediately adjacent oblique glyph on the left and an
              upright glyph on the right.
       <b>\,</b>     Apply left italic correction.  Use between an immediately adjacent upright glyph on the  left  and
              an oblique glyph on the right.
       <b>\:</b>     Non-printing break point (similar to <b>\%</b>, but never produces a hyphen glyph).
       <b>\</b><u>newline</u>
              Continue current input line on the next.
       <b>\{</b>     Begin conditional input.
       <b>\}</b>     End conditional input.
       <b>\(</b><u>gl</u>   Interpolate glyph with two-character name <u>gl</u>.
       <b>\[</b><u>glyph</u><b>]</b>
              Interpolate glyph with name <u>glyph</u> (of arbitrary length).
       <b>\[</b><u>base-char</u> <u>comp</u> ...<b>]</b>
              Interpolate composite glyph constructed from <u>base-char</u> and each component <u>comp</u>.
       <b>\[char</b><u>nnn</u><b>]</b>
              Interpolate glyph of eight-bit encoded character <u>nnn</u>, where 0≤<u>nnn</u>≤255.
       <b>\[u</b><u>nnnn</u>[<u>n</u>[<u>n</u>]]<b>]</b>
              Interpolate glyph of Unicode character with code point <u>nnnn</u>[<u>n</u>[<u>n</u>]] in uppercase hexadecimal.
       <b>\[u</b><u>base-char</u>[<b>_</b><u>combining-component</u>]...<b>]</b>
              Interpolate composite glyph from Unicode character <u>base-char</u> and <u>combining-components</u>.
       <b>\a</b>     Interpolate a leader in copy mode.
       <b>\A'</b><u>anything</u><b>'</b>
              Interpolate 1 if <u>anything</u> is a valid identifier, and 0 otherwise.
       <b>\b'</b><u>string</u><b>'</b>
              Build bracket: pile a sequence of glyphs corresponding to each character in <u>string</u> vertically, and
              center it vertically on the output line.
       <b>\B'</b><u>anything</u><b>'</b>
              Interpolate 1 if <u>anything</u> is a valid numeric expression, and 0 otherwise.
       <b>\c</b>     Continue output line at next input line.
       <b>\C'</b><u>glyph</u><b>'</b>
              As <b>\[</b><u>glyph</u><b>]</b>, but compatible with other <u>troff</u> implementations.
       <b>\d</b>     Move downward ½ em on typesetters.
       <b>\D'</b><u>drawing-command</u><b>'</b>
              See subsection “Drawing commands” below.
       <b>\e</b>     Interpolate the escape character.
       <b>\E</b>     As <b>\e</b>, but not interpreted in copy mode.
       <b>\fP</b>    Select previous font mounting position (abstract style or font); same as “<b>.ft</b>” or “<b>.ft</b> <b>P</b>”.
       <b>\f</b><u>F</u>    Select  font  mounting  position,  abstract  style,  or  font with one-character name or one-digit
              position <u>F</u>.  <u>F</u> cannot be <b>P</b>.
       <b>\f(</b><u>ft</u>  Select font mounting position, abstract style,  or  font  with  two-character  name  or  two-digit
              position <u>ft</u>.
       <b>\f[</b><u>font</u><b>]</b>
              Select  font  mounting  position,  abstract  style, or font with arbitrarily long name or position
              <u>font</u>.  <u>font</u> cannot be <b>P</b>.
       <b>\f[]</b>   Select previous font mounting position (abstract style or font).
       <b>\F</b><u>f</u>    Set default font family to that with one-character name <u>f</u>.
       <b>\F(</b><u>fm</u>  Set default font family to that with two-character name <u>fm</u>.
       <b>\F[</b><u>fam</u><b>]</b>
              Set default font family to that with arbitrarily long name <u>fam</u>.
       <b>\F[]</b>   Set default font family to previous value.
       <b>\g</b><u>r</u>    Interpolate format of register with one-character name <u>r</u>.
       <b>\g(</b><u>rg</u>  Interpolate format of register with two-character name <u>rg</u>.
       <b>\g[</b><u>reg</u><b>]</b>
              Interpolate format of register with arbitrarily long name <u>reg</u>.
       <b>\h'</b><u>N</u><b>'</b>  Horizontally move the drawing position by <u>N</u> ems (or specified units); <b>|</b>  may  be  used.   Positive
              motion is rightward.
       <b>\H'</b><u>N</u><b>'</b>  Set height of current font to <u>N</u> scaled points (or specified units).
       <b>\k</b><u>r</u>    Mark horizontal position in one-character register name <u>r</u>.
       <b>\k(</b><u>rg</u>  Mark horizontal position in two-character register name <u>rg</u>.
       <b>\k[</b><u>reg</u><b>]</b>
              Mark horizontal position in register with arbitrarily long name <u>reg</u>.
       <b>\l'</b><u>N</u>[<u>c</u>]<b>'</b>
              Draw horizontal line of length <u>N</u> with character <b>c</b> (default: <b>\[ru]</b>; default scaling unit <b>m</b>).
       <b>\L'</b><u>N</u>[<u>c</u>]<b>'</b>
              Draw vertical line of length <u>N</u> with character <b>c</b> (default: <b>\[br]</b>; default scaling unit <b>v</b>).
       <b>\m</b><u>c</u>    Set stroke color to that with one-character name <u>c</u>.
       <b>\m(</b><u>cl</u>  Set stroke color to that with two-character name <u>cl</u>.
       <b>\m[</b><u>color</u><b>]</b>
              Set stroke color to that with arbitrarily long name <u>color</u>.
       <b>\m[]</b>   Restore previous stroke color.
       <b>\M</b><u>c</u>    Set fill color to that with one-character name <u>c</u>.
       <b>\M(</b><u>cl</u>  Set fill color to that with two-character name <u>cl</u>.
       <b>\M[</b><u>color</u><b>]</b>
              Set fill color to that with arbitrarily long name <u>color</u>.
       <b>\M[]</b>   Restore previous fill color.
       <b>\n</b><u>r</u>    Interpolate contents of register with one-character name <u>r</u>.
       <b>\n(</b><u>rg</u>  Interpolate contents of register with two-character name <u>rg</u>.
       <b>\n[</b><u>reg</u><b>]</b>
              Interpolate contents of register with arbitrarily long name <u>reg</u>.
       <b>\N'</b><u>n</u><b>'</b>  Interpolate glyph with index <u>n</u> in the current font.
       <b>\o'</b><u>abc</u>...<b>'</b>
              Overstrike centered glyphs of characters <u>a</u>, <u>b</u>, <u>c</u>, and so on.
       <b>\O0</b>    At the outermost suppression level, disable emission of glyphs and geometric objects to the output
              driver.
       <b>\O1</b>    At  the outermost suppression level, enable emission of glyphs and geometric objects to the output
              driver.
       <b>\O2</b>    At the outermost suppression level, enable glyph and geometric primitive emission  to  the  output
              driver  and  write  to  the  standard  error  stream  the page number, four bounding box registers
              enclosing glyphs written since the previous <b>\O</b> escape sequence,  the  page  offset,  line  length,
              image file name (if any), horizontal and vertical device motion quanta, and input file name.
       <b>\O3</b>    Begin a nested suppression level.
       <b>\O4</b>    End a nested suppression level.
       <b>\O[5</b><u>Pfile</u><b>]</b>
              At  the  outermost  suppression  level,  write  the  name  <u>file</u>  to  the  standard error stream at
              position <u>P</u>, which must be one of <b>l</b>, <b>r</b>, <b>c</b>, or <b>i</b>.
       <b>\p</b>     Break output line at next word boundary; adjust if applicable.
       <b>\r</b>     Move “in reverse” (upward) 1 em.
       <b>\R'</b><u>name</u> <u>±N</u><b>'</b>
              Set, increment, or decrement register <u>name</u> by <u>N</u>.
       <b>\s</b><u>±N</u>   Set/increase/decrease the type size to/by <u>N</u> scaled points.  <u>N</u> must be a single digit;  0  restores
              the  previous  type  size.   (In compatibility mode only, a non-zero <u>N</u> must be in the range 4–39.)
              Otherwise, as <b>.ps</b> request.
       <b>\s(</b><u>±N</u>
       <b>\s</b><u>±</u><b>(</b><u>N</u>  Set/increase/decrease the type size to/by <u>N</u> scaled points; <u>N</u> is a two-digit  number  ≥1.   As  <b>.ps</b>
              request.
       <b>\s[</b><u>±N</u><b>]</b>
       <b>\s</b><u>±</u><b>[</b><u>N</u><b>]</b>
       <b>\s'</b><u>±N</u><b>'</b>
       <b>\s</b><u>±</u><b>'</b><u>N</u><b>'</b> Set/increase/decrease the type size to/by <u>N</u> scaled points.  As <b>.ps</b> request.
       <b>\S'</b><u>N</u><b>'</b>  Slant output glyphs by <u>N</u> degrees; the direction of text flow is positive.
       <b>\t</b>     Interpolate a tab in copy mode.
       <b>\u</b>     Move upward ½ em on typesetters.
       <b>\v'</b><u>N</u><b>'</b>  Vertically  move  the  drawing  position  by <u>N</u> vees (or specified units); <b>|</b> may be used.  Positive
              motion is downward.
       <b>\V</b><u>e</u>    Interpolate contents of environment variable with one-character name <u>e</u>.
       <b>\V(</b><u>ev</u>  Interpolate contents of environment variable with two-character name <u>ev</u>.
       <b>\V[</b><u>env</u><b>]</b>
              Interpolate contents of environment variable with arbitrarily long name <u>env</u>.
       <b>\w'</b><u>anything</u><b>'</b>
              Interpolate width of <u>anything</u>, formatted in a dummy environment.
       <b>\x'</b><u>N</u><b>'</b>  Increase vertical spacing of pending output line by <u>N</u> vees (or specified units;  negative  before,
              positive after).
       <b>\X'</b><u>anything</u><b>'</b>
              Write <u>anything</u> to <u>troff</u> output as a device control command.  Within <u>anything</u>, the escape sequences
              <b>\&amp;</b>, <b>\)</b>, <b>\%</b>, and <b>\:</b> are ignored; <b>\</b><u>space</u> and <b>\~</b> are converted to single space characters; and <b>\\</b> has
              its escape character stripped.  So that the basic Latin subset of the Unicode character set can be
              reliably  encoded  in  <u>anything,</u>  the  special character escape sequences <b>\-</b>, <b>\[aq]</b>, <b>\[dq]</b>, <b>\[ga]</b>,
              <b>\[ha]</b>, <b>\[rs]</b>, and <b>\[ti]</b> are mapped  to  basic  Latin  characters;  see  <u><a href="../man7/groff_char.7.html">groff_char</a></u>(7).   For  this
              transformation, character translations and special character definitions are ignored.
       <b>\Y</b><u>n</u>    Write contents of macro or string <u>n</u> to <u>troff</u> output as a device control command.
       <b>\Y(</b><u>nm</u>  Write contents of macro or string <u>nm</u> to <u>troff</u> output as a device control command.
       <b>\Y[</b><u>name</u><b>]</b>
              Write contents of macro or string <u>name</u> to <u>troff</u> output as a device control command.
       <b>\z</b><u>c</u>    Format character <u>c</u> with zero width—without advancing the drawing position.
       <b>\Z'</b><u>anything</u><b>'</b>
              Save the drawing position, format <u>anything</u>, then restore it.

   <b>Drawing</b> <b>commands</b>
       Drawing  commands  direct  the  output device to render geometrical objects rather than glyphs.  Specific
       devices may support only a subset, or may feature additional ones; consult the man page  for  the  output
       driver in use.  Terminal devices in particular implement almost none.

       Rendering  starts  at  the drawing position; when finished, the drawing position is left at the rightmost
       point of the object, even for closed figures, except where noted.  GNU  <u>troff</u>  draws  stroked  (outlined)
       objects  with  the stroke color, and shades filled ones with the fill color.  See section “Colors” above.
       Coordinates <u>h</u> and <u>v</u> are horizontal and vertical motions relative to  the  drawing  position  or  previous
       point  in  the  command.  The default scaling unit for horizontal measurements (and diameters of circles)
       is <b>m</b>; for vertical ones, <b>v</b>.

       Circles, ellipses, and polygons can be drawn stroked or filled.  These are independent properties; if you
       want a filled, stroked figure, you must draw the same figure twice using each drawing command.  A  filled
       figure  is  always smaller than an outlined one because the former is drawn only within its defined area,
       whereas strokes have a line thickness (set with <b>\D't'</b>).

       <b>\D'~</b> <u>h1</u> <u>v1</u> ... <u>hn</u> <u>vn</u><b>'</b>
              Draw B-spline to each point in sequence, leaving drawing position at (<u>hn</u>, <u>vn</u>).
       <b>\D'a</b> <u>hc</u> <u>vc</u> <u>h</u> <u>v</u><b>'</b>
              Draw circular arc centered at (<u>hc</u>, <u>vc</u>) counterclockwise from  the  drawing  position  to  a  point
              (<u>h</u>,  <u>v</u>)  relative  to  the  center.   (<u>hc</u>,  <u>vc</u>) is adjusted to the point nearest the perpendicular
              bisector of the arc's chord.
       <b>\D'c</b> <u>d</u><b>'</b>
              Draw circle of diameter <u>d</u> with its leftmost point at the drawing position.
       <b>\D'C</b> <u>d</u><b>'</b>
              As <b>\D'C'</b>, but the circle is filled.
       <b>\D'e</b> <u>h</u> <u>v</u><b>'</b>
              Draw ellipse of width <u>h</u> and height <u>v</u> with its leftmost point at the drawing position.
       <b>\D'E</b> <u>h</u> <u>v</u><b>'</b>
              As <b>\D'e'</b>, but the ellipse is filled.
       <b>\D'l</b> <u>h</u> <u>v</u><b>'</b>
              Draw line from the drawing position to (<u>h</u>, <u>v</u>).
       <b>\D'p</b> <u>h1</u> <u>v1</u> ... <u>hn</u> <u>vn</u><b>'</b>
              Draw polygon with vertices at drawing position and each point in sequence.  GNU <u>troff</u>  closes  the
              polygon  by  drawing  a  line  from (<u>hn</u>, <u>vn</u>) back to the initial drawing position.  Afterward, the
              drawing position is left at (<u>hn</u>, <u>vn</u>).
       <b>\D'P</b> <u>h1</u> <u>v1</u> ... <u>hn</u> <u>vn</u><b>'</b>
              As <b>\D'p'</b>, but the polygon is filled.
       <b>\D't</b> <u>n</u><b>'</b>
              Set stroke thickness of geometric objects to to <u>n</u> basic units.   A  zero  <u>n</u>  selects  the  minimal
              supported  thickness.  A negative <u>n</u> selects a thickness proportional to the type size; this is the
              default.

   <b>Device</b> <b>control</b> <b>commands</b>
       The <b>.device</b> and <b>.devicem</b> requests, and <b>\X</b> and <b>\Y</b> escape sequences, enable documents to  pass  information
       directly to a postprocessor.  These are useful for exercising device-specific capabilities that the <u>groff</u>
       language  does  not  abstract or generalize; such functions include the embedding of hyperlinks and image
       files.  Device-specific functions are documented in each output driver's man page.

</pre><h4><b>Strings</b></h4><pre>
       <u>groff</u> supports strings primarily for user convenience.  Conventionally, if one would define a macro  only
       to interpolate a small amount of text, without invoking requests or calling any other macros, one defines
       a string instead.  Only one string is predefined by the language.

       \*[<b>.T</b>]    Contains the name of the output device (for example, “<b>utf8</b>” or “<b>pdf</b>”<b>).</b>

       The  <b>.ds</b>  request  creates  a  string with a specified name and contents.  If the identifier named by <b>.ds</b>
       already exists as an alias, the target of the alias is  redefined.   If  <b>.ds</b>  is  called  with  only  one
       argument,  the  named string becomes empty.  Otherwise, <u>troff</u> stores the remainder of the control line in
       copy mode; see subsection “Copy mode” below.

       The <b>\*</b> escape sequence dereferences a string's name, interpolating its contents.  If the  name  does  not
       exist,  it is defined as empty, nothing is interpolated, and a warning in category “<b>mac</b>” is emitted.  See
       section “Warnings” in <u><a href="../man1/troff.1.html">troff</a></u>(1).  The bracketed interpolation form accepts arguments that are  handled  as
       macro  arguments  are;  see  section  “Calling  macros” above.  In contrast to macro calls, however, if a
       closing bracket <b>]</b> occurs in a string argument, that argument must be enclosed in double  quotes.   <b>\*</b>  is
       interpreted  even  in  copy mode.  When defining strings, argument interpolations must be escaped if they
       are to reference parameters from the calling context; see section “Parameters” below.

       An initial neutral double quote <b>"</b> in the string contents  is  stripped  to  allow  embedding  of  leading
       spaces.   Any  other  <b>"</b>  is  interpreted  literally,  but  it is wise to use the special character escape
       sequence <b>\[dq]</b> instead if the string might be interpolated as part  of  a  macro  argument;  see  section
       “Calling  macros” above.  Strings are not limited to a single input line of text.  <b>\</b><u>newline</u> works just as
       it does elsewhere.  The resulting string is stored <u>without</u> the newlines.  Care is therefore required when
       interpolating strings while filling is disabled.  It is not possible to embed a newline in a string  that
       will  be  interpreted  as  such  when  the  string  is  interpolated.   To achieve that effect, use <b>\*</b> to
       interpolate a macro instead.

       The <b>.as</b> request is similar to <b>.ds</b> but appends to a string instead of redefining it.   If  <b>.as</b>  is  called
       with only one argument, no operation is performed (beyond dereferencing the string).

       Because  strings are similar to macros, they too can be defined to suppress AT&amp;T <u>troff</u> compatibility mode
       enablement when interpolated; see section “Compatibility mode” below.  The <b>.ds1</b> request defines a  string
       that suspends compatibility mode when the string is later interpolated.  <b>.as1</b> is likewise similar to <b>.as</b>,
       with compatibility mode suspended when the appended portion of the string is later interpolated.

       <b>Caution:</b> Unlike other requests, the second argument to these requests consumes the remainder of the input
       line,  including  trailing  spaces.   Ending string definitions (and appendments) with a comment, even an
       empty one, prevents unwanted space from creeping into them during source document maintenance.

       Several requests exist to perform rudimentary string operations.  Strings can be  queried  (<b>.length</b>)  and
       modified  (<b>.chop</b>,  <b>.substring</b>,  <b>.stringup</b>,  <b>.stringdown</b>),  and  their  names  can  be manipulated through
       renaming, removal, and aliasing (<b>.rn</b>, <b>.rm</b>, <b>.als).</b>

       When a request, macro, string, or diversion is aliased, redefinitions  and  appendments  “write  through”
       alias  names.   To  replace an alias with a separately defined object, you must use the <b>rm</b> request on its
       name first.

</pre><h4><b>Registers</b></h4><pre>
       In the <u>roff</u> language, numbers can be stored in  <u>registers.</u>   Many  built-in  registers  exist,  supplying
       anything  from  the date to details of formatting parameters.  You can also define your own.  See section
       “Identifiers” above for information on constructing a valid name for a register.

       Define registers and update their values with the <b>nr</b> request or the <b>\R</b> escape sequence.

       Registers can also  be  incremented  or  decremented  by  a  configured  amount  at  the  time  they  are
       interpolated.   The  value  of the increment is specified with a third argument to the <b>.nr</b> request, and a
       special interpolation syntax, <b>\n</b><u>±</u> is used to alter and then retrieve  the  register's  value.   Together,
       these  features  are  called  <u>auto-increment</u>.   (A  negative  auto-increment  can be considered an “auto-
       decrement”.)

       Many predefined registers are available.  In  the  following  presentation,  the  register  interpolation
       syntax  <b>\n[</b><u>name</u><b>]</b>  is  used to refer to a register <u>name</u> to clearly distinguish it from a string or request
       <u>name</u>.  The register name space is separate from that used for requests, macros, strings, and  diversions.
       Bear in mind that the symbols <b>\n[]</b> are <u>not</u> part of the register name.

   <b>Read-only</b> <b>registers</b>
       Predefined  registers  whose  identifiers start with a dot are read-only.  Many are Boolean-valued.  Some
       are string-valued, meaning that they interpolate text.  A  register  name  (without  the  dot)  is  often
       associated with a request of the same name; exceptions are noted.

       \n[<b>.$</b>]         Count of arguments passed to currently interpolated macro or string.
       \n[<b>.a</b>]         Amount of extra post-vertical line space; see <b>\x</b>.
       \n[<b>.A</b>]         Approximate output is being formatted (Boolean-valued); see <u>troff</u> <b>-a</b> option.
       \n[<b>.b</b>]         Font emboldening offset; see <b>.bd</b>.
       \n[<b>.br</b>]        The  normal  control character was used to call the currently interpolated macro (Boolean-
                      valued).
       \n[<b>.c</b>]         Input line number; see <b>.lf</b> and register “<b>c.</b>”.
       \n[<b>.C</b>]         Compatibility mode is enabled (Boolean-valued); see <b>.cp</b>.   Always  false  when  processing
                      <b>.do</b>; see register <b>.cp</b>.
       \n[<b>.cdp</b>]       Depth  of  last  glyph  formatted  in the environment; positive if glyph extends below the
                      baseline.
       \n[<b>.ce</b>]        Count of output lines remaining to be centered.
       \n[<b>.cht</b>]       Height of last glyph formatted in the environment; positive if  glyph  extends  above  the
                      baseline.
       \n[<b>.color</b>]     Color output is enabled (Boolean-valued).
       \n[<b>.cp</b>]        Within <b>.do</b>, the saved value of compatibility mode; see register <b>.C</b>.
       \n[<b>.csk</b>]       Skew  of  the last glyph formatted in the environment; skew is how far to the right of the
                      center of a glyph the center of an accent over that glyph should be placed.
       \n[<b>.d</b>]         Vertical drawing position in diversion.
       \n[<b>.ev</b>]        Name of environment (string-valued).
       \n[<b>.f</b>]         Mounting position of selected font; see <b>.ft</b> and <b>\f</b>.
       \n[<b>.F</b>]         Name of input file (string-valued); see <b>.lf</b>.
       \n[<b>.fam</b>]       Name of default font family (string-valued).
       \n[<b>.fn</b>]        Resolved name of selected font (string-valued); see <b>.ft</b> and <b>\f</b>.
       \n[<b>.fp</b>]        Next non-zero free font mounting position index.
       \n[<b>.g</b>]         Always true in GNU <u>troff</u> (Boolean-valued).
       \n[<b>.h</b>]         Text baseline high-water mark on page or in diversion.
       \n[<b>.H</b>]         Horizontal motion quantum of output device in basic units.
       \n[<b>.height</b>]    Font height; see <b>\H</b>.
       \n[<b>.hla</b>]       Hyphenation language in environment (string-valued).
       \n[<b>.hlc</b>]       Count of immediately preceding consecutive hyphenated lines in environment.
       \n[<b>.hlm</b>]       Maximum quantity of consecutive hyphenated lines allowed in environment.
       \n[<b>.hy</b>]        Automatic hyphenation mode in environment.
       \n[<b>.hym</b>]       Hyphenation margin in environment.
       \n[<b>.hys</b>]       Hyphenation space adjustment threshold in environment.
       \n[<b>.i</b>]         Indentation amount; see <b>.in</b>.
       \n[<b>.in</b>]        Indentation amount applicable to the pending output line; see <b>.ti</b>.
       \n[<b>.int</b>]       Previous output line was “interrupted” or continued with <b>\c</b> (Boolean-valued).
       \n[<b>.j</b>]         Adjustment mode encoded as an integer; see <b>.ad</b> and  <b>.na</b>.   Do  not  interpret  or  perform
                      arithmetic on its value.
       \n[<b>.k</b>]         Horizontal drawing position relative to indentation.
       \n[<b>.kern</b>]      Pairwise kerning is enabled (Boolean-valued).
       \n[<b>.l</b>]         Line length; see <b>.ll</b>.
       \n[<b>.L</b>]         Line spacing; see <b>.ls</b>.
       \n[<b>.lg</b>]        Ligature mode.
       \n[<b>.linetabs</b>]  Line-tabs mode is enabled (Boolean-valued).
       \n[<b>.ll</b>]        Line length applicable to the pending output line.
       \n[<b>.lt</b>]        Title length.
       \n[<b>.m</b>]         Stroke  color  (string-valued);  see  <b>.gcolor</b>  and  <b>\m</b>.   Empty if the stroke color is the
                      default.
       \n[<b>.M</b>]         Fill color (string-valued); see <b>.fcolor</b> and <b>\M</b>.  Empty if the fill color is the default.
       \n[<b>.n</b>]         Length of formatted output on previous output line.
       \n[<b>.ne</b>]        Amount of vertical space required by last <b>.ne</b> that caused a trap to be  sprung;  also  see
                      register <b>.trunc</b>.
       \n[<b>.nm</b>]        Output line numbering is enabled (Boolean-valued).
       \n[<b>.nn</b>]        Count of output lines remaining to have numbering suppressed.
       \n[<b>.ns</b>]        No-space mode is enabled (Boolean-valued).
       \n[<b>.o</b>]         Page offset; see <b>.po</b>.
       \n[<b>.O</b>]         Output suppression nesting level; see <b>\O</b>.
       \n[<b>.p</b>]         Page length; see <b>.pl</b>.
       \n[<b>.P</b>]         The page is selected for output (Boolean-valued); see <u>troff</u> <b>-o</b> option.
       \n[<b>.pe</b>]        Page ejection is in progress (Boolean-valued).
       \n[<b>.pn</b>]        Number of the next page.
       \n[<b>.ps</b>]        Type size in scaled points.
       \n[<b>.psr</b>]       Most recently requested type size in scaled points; see <b>.ps</b> and <b>\s</b>.
       \n[<b>.pvs</b>]       Post-vertical line spacing.
       \n[<b>.R</b>]         Count of available unused registers; always 10,000 in GNU <u>troff</u>.
       \n[<b>.rj</b>]        Count of lines remaining to be right-aligned.
       \n[<b>.s</b>]         Type size in points as a decimal fraction (string-valued); see <b>.ps</b> and <b>\s</b>.
       \n[<b>.slant</b>]     Slant of font in degrees; see <b>\S</b>.
       \n[<b>.sr</b>]        Most recently requested type size in points as a decimal fraction (string-valued); see <b>.ps</b>
                      and <b>\s</b>.
       \n[<b>.ss</b>]        Size of minimal inter-word space in twelfths of the space width of the selected font.
       \n[<b>.sss</b>]       Size  of  additional  inter-sentence  space in twelfths of the space width of the selected
                      font.
       \n[<b>.sty</b>]       Selected abstract style (string-valued); see <b>.ft</b> and <b>\f</b>.
       \n[<b>.t</b>]         Distance to next vertical position trap; see <b>.wh</b> and <b>.ch</b>.
       \n[<b>.T</b>]         An output device was explicitly selected (Boolean-valued); see <u>troff</u> <b>-T</b> option.
       \n[<b>.tabs</b>]      Representation of tab settings suitable for use as argument to <b>.ta</b> (string-valued).
       \n[<b>.trunc</b>]     Amount of vertical space truncated by the most recently sprung vertical position trap, or,
                      if the trap was sprung by an <b>.ne</b>, minus the amount of vertical  motion  produced  by  <b>.ne</b>;
                      also see register <b>.ne</b>.
       \n[<b>.u</b>]         Filling is enabled (Boolean-valued); see <b>.fi</b> and <b>.nf</b>.
       \n[<b>.U</b>]         Unsafe mode is enabled (Boolean-valued); see <u>troff</u> <b>-U</b> option.
       \n[<b>.v</b>]         Vertical line spacing; see <b>.vs</b>.
       \n[<b>.V</b>]         Vertical motion quantum of the output device in basic units.
       \n[<b>.vpt</b>]       Vertical position traps are enabled (Boolean-valued).
       \n[<b>.w</b>]         Width of previous glyph formatted in the environment.
       \n[<b>.warn</b>]      Sum of the numeric codes of enabled warning categories.
       \n[<b>.x</b>]         Major version number of the running <u>troff</u> formatter.
       \n[<b>.y</b>]         Minor version number of the running <u>troff</u> formatter.
       \n[<b>.Y</b>]         Revision number of the running <u>troff</u> formatter.
       \n[<b>.z</b>]         Name  of  diversion  (string-valued).   Empty  if  output  is  directed  to  the top-level
                      diversion.
       \n[<b>.zoom</b>]      Zoom multiplier of current font (in thousandths; zero if no magnification); see <b>.fzoom</b>.

   <b>Writable</b> <b>predefined</b> <b>registers</b>
       Several registers are predefined but also modifiable; some are updated  upon  interpretation  of  certain
       requests  or  escape sequences.  Date- and time-related registers are set to the local time as determined
       by <u><a href="../man3/localtime.3.html">localtime</a></u>(3) when the formatter launches.  This initialization can be overridden by  <u>SOURCE_DATE_EPOCH</u>
       and <u>TZ</u>; see section “Environment” of <u><a href="../man1/groff.1.html">groff</a></u>(1).

       \n[<b>$$</b>]         Process ID of <u>troff</u>.
       \n[<b>%</b>]          Page number.
       \n[<b>c.</b>]         Input line number.
       \n[<b>ct</b>]         Union of character types of each glyph rendered into dummy environment by <b>\w</b>.
       \n[<b>dl</b>]         Width of last closed diversion.
       \n[<b>dn</b>]         Height of last closed diversion.
       \n[<b>dw</b>]         Day of the week (1–7; 1 is Sunday).
       \n[<b>dy</b>]         Day of the month (1–31).
       \n[<b>hours</b>]      Count of hours elapsed since midnight (0–23).
       \n[<b>hp</b>]         Horizontal drawing position relative to start of input line.
       \n[<b>llx</b>]        Lower-left <u>x</u> coordinate (in PostScript units) of PostScript image; see <b>.psbb</b>.
       \n[<b>lly</b>]        Lower-left <u>y</u> coordinate (in PostScript units) of PostScript image; see <b>.psbb</b>.
       \n[<b>ln</b>]         Output line number; see <b>.nm</b>.
       \n[<b>lsn</b>]        Count of leading spaces on input line.
       \n[<b>lss</b>]        Amount of horizontal space corresponding to leading spaces on input line.
       \n[<b>minutes</b>]    Count of minutes elapsed in the hour (0–59).
       \n[<b>mo</b>]         Month of the year (1–12).
       \n[<b>nl</b>]         Vertical drawing position.
       \n[<b>opmaxx</b>]
       \n[<b>opmaxy</b>]
       \n[<b>opminx</b>]
       \n[<b>opminy</b>]     These  four  registers  mark  the  top  left- and bottom right-hand corners of a rectangle
                      encompassing all formatted output on the page.  They are reset to -1 by <b>\O0</b> or <b>\O1</b>.
       \n[<b>rsb</b>]        As register <b>sb</b>, adding maximum glyph height to measurement.
       \n[<b>rst</b>]        As register <b>st</b>, adding maximum glyph depth to measurement.
       \n[<b>sb</b>]         Maximum displacement of text baseline below its original  position  after  rendering  into
                      dummy environment by <b>\w</b>.
       \n[<b>seconds</b>]    Count of seconds elapsed in the minute (0–60).
       \n[<b>skw</b>]        Skew of last glyph rendered into dummy environment by <b>\w</b>.
       \n[<b>slimit</b>]     The  maximum  depth  of <u>troff</u>'s internal input stack.  If ≤0, there is no limit: recursion
                      can continue until available memory is exhausted.  The default is 1,000.
       \n[<b>ssc</b>]        Subscript correction of last glyph rendered into dummy environment by <b>\w</b>.
       \n[<b>st</b>]         Maximum displacement of text baseline above its original  position  after  rendering  into
                      dummy environment by <b>\w</b>.
       \n[<b>systat</b>]     Return value of <u>system()</u> function; see <b>.sy</b>.
       \n[<b>urx</b>]        Upper-right <u>x</u> coordinate (in PostScript units) of PostScript image; see <b>.psbb</b>.
       \n[<b>ury</b>]        Upper-right <u>y</u> coordinate (in PostScript units) of PostScript image; see <b>.psbb</b>.
       \n[<b>year</b>]       Gregorian year.
       \n[<b>yr</b>]         Gregorian year minus 1900.

</pre><h4><b>Using</b> <b>fonts</b></h4><pre>
       In  digital  typography,  a  <u>font</u>  is a collection of characters in a specific typeface that a device can
       render as glyphs at a desired size.  (Terminals and some output devices have fonts that  render  at  only
       one  or two sizes.  As examples of the latter, take the <u>groff</u> <b>lj4</b> device's Lineprinter, and <b>lbp</b>'s Courier
       and Elite faces.)  A <u>roff</u> formatter can change typefaces at any point in the text.  The basic faces are a
       set of <u>styles</u> combining upright and slanted shapes with normal and heavy stroke weights: “<b>R</b>”,  “<b>I</b>”,  “<b>B</b>”,
       and  “<b>BI</b>”—these  stand  for  <u>roman,</u> <u>bold,</u> <u>italic,</u> and <u>bold-italic.</u>  For linguistic text, GNU <u>troff</u> groups
       typefaces into <u>families</u> containing each of these styles.  (Font designers prepare families such that  the
       styles share esthetic properties.)  A <u>text</u> <u>font</u> is thus often a family combined with a style, but it need
       not be: consider the <b>ps</b> and <b>pdf</b> devices' <b>ZCMI</b> (Zapf Chancery Medium italic)—often, no other style of Zapf
       Chancery  Medium is provided.  On typesetting devices, at least one <u>special</u> <u>font</u> is available, comprising
       <u>unstyled</u> glyphs for mathematical operators and other purposes.

       Like AT&amp;T <u>troff,</u> GNU <u>troff</u> does not itself load or manipulate a digital font file; instead it works  with
       a  <u>font</u>  <u>description</u>  <u>file</u>  that  characterizes  it,  including  its  glyph  repertoire  and  the <u>metrics</u>
       (dimensions) of each glyph.  This information permits the  formatter  to  accurately  place  glyphs  with
       respect  to  each  other.   Before  using a font description, the formatter associates it with a <u>mounting</u>
       <u>position,</u> a place in an ordered list of available typefaces.  So that a document  need  not  be  strongly
       coupled  to  a  specific font family, in GNU <u>troff</u> an output device can associate a style in the abstract
       sense with a mounting position.  Thus the default family  can  be  combined  with  a  style  dynamically,
       producing a <u>resolved</u> <u>font</u> <u>name.</u>

       Fonts  often have trademarked names, and even Free Software fonts can require renaming upon modification.
       <u>groff</u> maintains a convention that a device's serif font family is given the name <b>T</b> (“Times”),  its  sans-
       serif  family  <b>H</b>  (“Helvetica”),  and its monospaced family <b>C</b> (“Courier”).  Historical inertia has driven
       <u>groff</u>'s font identifiers to short uppercase abbreviations of font names, as with <b>TR</b>, <b>TB</b>, <b>TI</b>, <b>TBI</b>,  and  a
       special font <b>S</b>.

       The  default family used with abstract styles can be changed at any time; initially, it is <b>T</b>.  Typically,
       abstract styles are arranged in the first four mounting positions in the order shown above.  The  default
       mounting  position, and therefore style, is always <b>1</b> (<b>R</b>).  By issuing appropriate formatter instructions,
       you can override these defaults before your document writes its first glyph.

       Terminal output devices cannot change font families and lack special fonts.  They support  style  changes
       by overstriking, or by altering ISO 6429/ECMA-48 <u>graphic</u> <u>renditions</u> (character cell attributes).

</pre><h4><b>Hyphenation</b></h4><pre>
       When filling, <u>groff</u> hyphenates words as needed at user-specified and automatically determined hyphenation
       points.   Explicitly hyphenated words such as “mother-in-law” are always eligible for breaking after each
       of their hyphens.  The hyphenation character <b>\%</b> and non-printing break point <b>\:</b> escape sequences  may  be
       used  to  control  the  hyphenation  and breaking of individual words.  The <b>.hw</b> request sets user-defined
       hyphenation points for specified  words  at  any  subsequent  occurrence.   Otherwise,  <u>groff</u>  determines
       hyphenation points automatically by default.

       Several  requests  influence  automatic  hyphenation.  Because conventions vary, a variety of hyphenation
       modes is available to the <b>.hy</b> request; these determine whether hyphenation will apply to a word prior  to
       breaking a line at the end of a page (more or less; see below for details), and at which positions within
       that word automatically determined hyphenation points are permissible.  The default is “<b>1</b>” for historical
       reasons,  but  this  is  not  an  appropriate  value  for the English hyphenation patterns used by <u>groff</u>;
       localization macro files loaded by <u>troffrc</u> and macro packages often override it.

       <b>0</b>      disables hyphenation.

       <b>1</b>      enables hyphenation except after the first and before the last character of a word.

       The remaining values “imply” <b>1</b>; that is, they enable hyphenation under the same conditions  as  “<b>.hy</b>  <b>1</b>”,
       and then apply or lift restrictions relative to that basis.

       <b>2</b>      disables  hyphenation  of  the  last  word  on a page.  (Hyphenation is prevented if the next page
              location trap is closer to the vertical drawing position than the next  text  baseline  would  be.
              See section “Traps” below.)

       <b>4</b>      disables hyphenation before the last two characters of a word.

       <b>8</b>      disables hyphenation after the first two characters of a word.

       <b>16</b>     enables hyphenation before the last character of a word.

       <b>32</b>     enables hyphenation after the first character of a word.

       Apart  from  value  2,  restrictions  imposed  by  the hyphenation mode are <u>not</u> respected for words whose
       hyphenations have been specified with the hyphenation character (“<b>\%</b>” by default) or the <b>.hw</b> request.

       Nonzero values are additive.  For example, mode 12 causes <u>groff</u> to hyphenate neither the last two nor the
       first two characters of a word.  Some values  cannot  be  used  together  because  they  contradict;  for
       instance,  values  4  and  16, and values 8 and 32.  As noted, it is superfluous to add 1 to any non-zero
       even mode.

       The places within a word that are eligible for  hyphenation  are  determined  by  language-specific  data
       (<b>.hla</b>,  <b>.hpf</b>, and <b>.hpfa</b>) and lettercase relationships (<b>.hcode</b> and <b>.hpfcode</b>).  Furthermore, hyphenation of
       a word might be suppressed due to a limit on consecutive hyphenated lines (<b>.hlm</b>), a minimum  line  length
       threshold (<b>.hym</b>), or because the line can instead be adjusted with additional inter-word space (<b>.hys</b>).

</pre><h4><b>Localization</b></h4><pre>
       The set of hyphenation patterns is associated with the hyphenation language set by the <b>.hla</b> request.  The
       <b>.hpf</b>  request  is  usually  invoked  by  a  localization file loaded by the <u>troffrc</u> file.  <u>groff</u> provides
       localization files for several languages; see <u><a href="../man5/groff_tmac.5.html">groff_tmac</a></u>(5).

</pre><h4><b>Writing</b> <b>macros</b></h4><pre>
       The <b>.de</b> request defines a macro named for its argument.  If that name already exists  as  an  alias,  the
       target  of  the  alias  is redefined; see section “Strings” above.  <u>troff</u> enters “copy mode” (see below),
       storing subsequent input lines as the definition.  If the optional second argument is not specified,  the
       definition  ends  with  the control line “<b>..</b>” (two dots).  Alternatively, a second argument names a macro
       whose call syntax ends the definition; this “end macro” is then called  normally.   Spaces  or  tabs  are
       permitted  after  the  first  control  character  in  the  line  containing  this ending token, but a tab
       immediately after the token prevents its recognition as the end of a macro definition.  Macro definitions
       can be nested if they use distinct end macros or if their ending tokens are sufficiently escaped.  An end
       macro need not be defined until it is called.  This fact enables  a  nested  macro  definition  to  begin
       inside one macro and end inside another.

       Variants  of  <b>.de</b>  disable  compatibility  mode  and/or  indirect  the  names of the macros specified for
       definition or termination: these are <b>.de1</b>, <b>.dei</b>, and <b>.dei1</b>.  Append to macro definitions with <b>.am</b>,  <b>.am1</b>,
       <b>.ami</b>,  and  <b>.ami1</b>.   The  <b>.als</b>,  <b>.rm</b>,  and  <b>.rn</b>  requests create an alias of, remove, and rename a macro,
       respectively.  <b>.return</b> stops the execution of a macro immediately, returning to the enclosing context.

   <b>Parameters</b>
       Macro call and string interpolation parameters can be accessed using escape sequences starting with “<b>\$</b>”.
       The <b>\n[.$]</b> read-only register stores the count of parameters available to a macro or  string;  its  value
       can  be  changed  by the <b>.shift</b> request, which dequeues parameters from the current list.  The <b>\$0</b> escape
       sequence interpolates the name by which a macro was called.  Applying string  interpolation  to  a  macro
       does not change this name.

   <b>Copy</b> <b>mode</b>
       When  <u>troff</u>  processes  certain  requests,  most  importantly  those which define or append to a macro or
       string, it does so in <u>copy</u> <u>mode</u>: it copies the characters of the  definition  into  a  dedicated  storage
       region,  interpolating  the  escape  sequences <b>\n</b>, <b>\g</b>, <b>\$</b>, <b>\*</b>, <b>\V</b>, and <b>\?</b> normally; interpreting <b>\</b><u>newline</u>
       immediately; discarding comments <b>\"</b> and <b>\#</b>; interpolating the current leader, escape,  or  tab  character
       with  <b>\a</b>,  <b>\e</b>,  and  <b>\t</b>,  respectively;  and  storing all other escape sequences in an encoded form.  The
       complement of copy mode—a <u>roff</u> formatter's behavior when not defining or appending to a macro, string, or
       diversion—where all macros are interpolated, requests  invoked,  and  valid  escape  sequences  processed
       immediately upon recognition, can be termed <u>interpretation</u> <u>mode</u>.

       The  escape  character, <b>\</b> by default, can escape itself.  This enables you to control whether a given <b>\n</b>,
       <b>\g</b>, <b>\$</b>, <b>\*</b>, <b>\V</b>, or <b>\?</b> escape sequence is interpreted at the time the macro containing it is  defined,  or
       later when the macro is called.

       You  can  think  of  <b>\\</b> as a “delayed” backslash; it is the escape character followed by a backslash from
       which the escape character has removed its special meaning.  Consequently, <b>\\</b> is not an  escape  sequence
       in  the  usual  sense.   In any escape sequence <b>\</b><u>X</u> that <u>troff</u> does not recognize, the escape character is
       ignored and <u>X</u> is output.  An unrecognized escape sequence causes a warning in category “<b>escape</b>”, with two
       exceptions, <b>\\</b> being one.  The other is <b>\.</b>, which escapes the control character.  It is  used  to  permit
       nested  macro  definitions  to  end  without  a  named macro call to conclude them.  Without a syntax for
       escaping the control character, this would not be possible.  <u>roff</u> documents should not use the <b>\\</b>  or  <b>\.</b>
       character  sequences  outside  of copy mode; they serve only to obfuscate the input.  Use <b>\e</b> to represent
       the escape character, <b>\[rs]</b> to obtain a backslash glyph, and <b>\&amp;</b> before <b>.</b> and <b>'</b> where <u>troff</u>  expects  them
       as control characters if you mean to use them literally.

       Macro definitions can be nested to arbitrary depth.  In “<b>\\</b>”, each escape character is interpreted twice—
       once  in copy mode, when the macro is defined, and once in interpretation mode, when the macro is called.
       This fact  leads  to  exponential  growth  in  the  quantity  of  escape  characters  required  to  delay
       interpolation  of  <b>\n</b>,  <b>\g</b>, <b>\$</b>, <b>\*</b>, <b>\V</b>, and <b>\?</b> at each nesting level.  An alternative is to use <b>\E</b>, which
       represents an escape character that is not interpreted in copy mode.  Because <b>\.</b> is  not  a  true  escape
       sequence,  we  can't use <b>\E</b> to keep “<b>..</b>” from ending a macro definition prematurely.  If the multiplicity
       of backslashes complicates maintenance, use end macros.

</pre><h4><b>Traps</b></h4><pre>
       <u>Traps</u> are locations in the output, or conditions on the input that, when reached  or  fulfilled,  call  a
       specified  macro.   A <u>vertical</u> <u>position</u> <u>trap</u> calls a macro when the formatter's vertical drawing position
       reaches or passes, in the downward direction, a certain location on the output page or  in  a  diversion.
       Its  applications include setting page headers and footers, body text in multiple columns, and footnotes.
       These traps can occur at a given location on the page (<b>.wh</b>, <b>.ch</b>); at a  given  location  in  the  current
       diversion  (<b>.dt</b>)—together,  these  are  known  as  vertical position traps, which can be disabled and re-
       enabled (<b>.vpt</b>).

       A diversion is not formatted in the context of a page, so it lacks page location traps;  instead  it  can
       have a <u>diversion</u> <u>trap.</u>  There can exist at most one such vertical position trap per diversion.

       Other  kinds  of  trap  can  be  planted  at a blank line (<b>.blm</b>); at a line with leading space characters
       (<b>.lsm</b>); after a certain number of productive input lines (<b>.it</b>, <b>.itc</b>); or  at  the  end  of  input  (<b>.em</b>).
       Macros  called by traps are passed no arguments.  Setting a trap is also called <u>planting</u> one.  It is said
       that a trap is <u>sprung</u> if its condition is fulfilled.

       Registers associated with trap management include vertical position trap  enablement  status  (<b>\n[.vpt]</b>),
       distance  to  the  next trap (<b>\n[.t]</b>), amount of needed (<b>.ne</b>-requested) space that caused the most recent
       vertical position trap to be sprung (<b>\n[.ne]</b>), amount of needed space truncated from the amount requested
       (<b>\n[.trunc]</b>), page ejection status (<b>\n[.pe]</b>), and leading space count (<b>\n[.lsn]</b>) with  its  corresponding
       amount of motion (<b>\n[.lss]</b>).

   <b>Page</b> <b>location</b> <b>traps</b>
       A <u>page</u> <u>location</u> <u>trap</u> is a vertical position trap that applies to the page; that is, to undiverted output.
       Many can be present; manage them with the <b>wh</b> and <b>ch</b> requests.  Non-negative page locations given to these
       requests  set  the  trap  relative  to  the top of the page; negative values set the trap relative to the
       bottom of the page.  It is not possible to plant a trap less than one basic unit from the page bottom:  a
       location of “-0” is interpreted as “0”, the top of the page.  An existing <u>visible</u> trap (see below) at the
       same location is removed; this is <b>.wh</b>'s sole function if its second argument is missing.

       A  trap is sprung only if it is <u>visible,</u> meaning that its location is reachable on the page and it is not
       hidden by another trap at the same location already planted there.  (A trap planted at  “20i”  or  “-30i”
       will not be sprung on a page of length “11i”.)

       A  trap  above the top or at or below the bottom of the page can be made visible by either moving it into
       the page area or increasing the page length so that the trap is on the page.  Negative trap values always
       use the <u>current</u> page length; they are not converted to an absolute vertical position.  Use <b>.ptr</b>  to  dump
       page location traps to the standard error stream; their positions are reported in basic units.

   <b>The</b> <b>implicit</b> <b>page</b> <b>trap</b>
       An <u>implicit</u> <u>page</u> <u>trap</u> always exists in the top-level diversion; it works like a trap in some ways but not
       others.   Its  purpose is to eject the current page and start the next one.  It has no name, so it cannot
       be moved or deleted with <b>wh</b> or <b>ch</b> requests.  You cannot hide it by placing another trap at its  location,
       and  can  move it only by redefining the page length with <b>.pl</b>.  Its operation is suppressed when vertical
       page traps are disabled with the <b>vpt</b> request.

</pre><h4><b>Diversions</b></h4><pre>
       In <u>roff</u> systems it is possible to format text as if for output, but instead of  writing  it  immediately,
       one  can  <u>divert</u>  the  formatted text into a named storage area.  It is retrieved later by specifying its
       name after a control character.  The same name space is used for  such  <u>diversions</u>  as  for  strings  and
       macros; see section “Identifiers” above.  Such text is sometimes said to be “stored in a macro”, but this
       coinage  obscures  the important distinction between macros and strings on one hand and diversions on the
       other; the former store <u>unformatted</u> input text, and the latter capture <u>formatted</u> output.  Diversions also
       do not interpret arguments.  Applications of diversions include “keeps” (preventing  a  page  break  from
       occurring  at  an  inconvenient  place by forcing a set of output lines to be set as a group), footnotes,
       tables of contents, and indices.  For orthogonality it is  said  that  GNU  <u>troff</u>  is  in  the  <u>top-level</u>
       <u>diversion</u>  if  no  diversion  is active (that is, formatted output is being “diverted” immediately to the
       output device.

       Dereferencing an undefined diversion will create an empty one  of  that  name  and  cause  a  warning  in
       category  <b>mac</b>  to  be emitted.  (see section “Warnings” in <u><a href="../man1/troff.1.html">troff</a></u>(1)).  A diversion does not exist for the
       purpose of testing with the <b>d</b> conditional operator until its  initial  definition  ends  (see  subsection
       “Conditional expressions” above).

       The  <b>di</b>  request creates a diversion, including any partially collected line.  <b>da</b> appends to a diversion,
       creating one if it does not already exist.  If the diversion's name  already  exists  as  an  alias,  the
       target  of  the  alias  is  replaced  or  appended  to;  see section “Strings” above.  <b>box</b> and <b>boxa</b> works
       similarly, but ignore partially collected lines.  Call any of these macros again without an  argument  to
       end the diversion.

       Diversions can be nested.  The registers <b>.d</b>, <b>.z</b>, <b>dn</b>, and <b>dl</b> report information about the current (or last
       closed) diversion.  <b>.h</b> is meaningful in diversions, including the top level.

       The  <b>\!</b>   and  <b>\?</b>   escape  sequences  and  <b>output</b>  request escape from a diversion, the first two to the
       enclosing level and the last to the top level.  This facility is termed <u>transparent</u> <u>embedding</u>.

       The <b>asciify</b> and <b>unformat</b> requests reprocess diversions.

</pre><h4><b>Punning</b> <b>names</b></h4><pre>
       Macros, strings, and diversions share a name space; see section  “Identifiers”  above.   Internally,  the
       same  mechanism  is  used  to store them.  You can thus call a macro with string interpolation syntax and
       vice versa.  Interpolating a string does not hide existing macro  arguments.   The  sequence  <b>\\</b>  can  be
       placed  at  the  end of a line in a macro definition or, within a macro definition, immediately after the
       interpolation of a macro as a string to suppress the effect of a newline.

</pre><h4><b>Environments</b></h4><pre>
       Environments store most of the parameters that control text processing.  A default environment named  “<b>0</b>”
       exists when <u>troff</u> starts up; it is modified by formatting-related requests and escape sequences.

       You  can  create  new environments and switch among them.  Only one is current at any given time.  Active
       environments are managed using a <u>stack,</u> a data structure supporting “push”  and  “pop”  operations.   The
       current  environment  is at the top of the stack.  The same environment name can be pushed onto the stack
       multiple times, possibly interleaved with others.  Popping the environment stack  does  not  destroy  the
       current  environment;  it  remains  accessible by name and can be made current again by pushing it at any
       time.  Environments cannot be renamed or deleted, and can only be modified when current.  To inspect  the
       environment stack, use the <b>pev</b> request; see section “Debugging” below.

       Environments store the following information.

       • a partially collected line, if any

       • data about the most recently output glyph and line (registers <b>.cdp</b>, <b>.cht</b>, <b>.csk</b>, <b>.n</b>, <b>.w</b>)

       • typeface parameters (size, family, style, height and slant, inter-word and inter-sentence space sizes)

       • page  parameters  (line  length,  title  length,  vertical  spacing,  line  spacing,  indentation, line
         numbering, centering, right-alignment, underlining, hyphenation parameters)

       • filling enablement; adjustment enablement and mode

       • tab stops; tab, leader, escape, control, no-break control, hyphenation, and margin characters

       • input line traps

       • stroke and fill colors

       The <b>ev</b> request pushes to and pops from the environment stack, while  <b>evc</b>  copies  a  named  environment's
       contents to the current one.

</pre><h4><b>Underlining</b></h4><pre>
       In  <u>RUNOFF</u>  (see <u><a href="../man7/roff.7.html">roff</a></u>(7)), underlining, even of lengthy passages, was straightforward because only fixed-
       pitch printing devices were targeted.  Typesetter output posed a greater challenge.  There exists a <u>groff</u>
       request <b>.ul</b> (see above) that underlines subsequent source lines on terminal devices, but on  typesetters,
       it  selects an italic font style instead.  The <u>ms</u> macro package (see <u><a href="../man7/groff_ms.7.html">groff_ms</a></u>(7)) offers a macro <b>.UL</b>, but
       it too produces the desired effect only on typesetters, and has other limitations.

       One could adapt <u>ms</u>'s approach to the construction of a macro as follows.
              .de UNDERLINE
              . ie n \\$1\f[I]\\$2\f[P]\\$3
              . el \\$1\Z'\\$2'\v'.25m'\D'l \w'\\$2'u 0'\v'-.25m'\\$3
              ..
       If <u><a href="../man1/doclifter.1.html">doclifter</a></u>(1) makes trouble, change the  macro  name  <b>UNDERLINE</b>  into  some  2-letter  word,  like  <b>Ul</b>.
       Moreover, change the form of the font selection escape sequence from <b>\f[P]</b> to <b>\fP</b>.

   <b>Underlining</b> <b>without</b> <b>macro</b> <b>definitions</b>
       If one does not want to use macro definitions, e.g., when <u>doclifter</u> gets lost, use the following.
              .ds u1 before
              .ds u2 in
              .ds u3 after
              .ie n \*[u1]\f[I]\*[u2]\f[P]\*[u3]
              .el \*[u1]\Z'\*[u2]'\v'.25m'\D'l \w'\*[u2]'u 0'\v'-.25m'\*[u3]
       When  using  <u>doclifter</u>,  it  might  be necessary to change syntax forms such as <b>\[xy]</b> and <b>\*[xy]</b> to those
       supported by AT&amp;T <u>troff</u>: <b>\*(xy</b> and <b>\(xy</b>, and so on.

       Then these lines could look like
              .ds u1 before
              .ds u2 in
              .ds u3 after
              .ie n \*[u1]\fI\*(u2\fP\*(u3
              .el \*(u1\Z'\*(u2'\v'.25m'\D'l \w'\*(u2'u 0'\v'-.25m'\*(u3

       The result looks like
              before <u>in</u> after

   <b>Underlining</b> <b>by</b> <b>overstriking</b> <b>with</b> <b>\(ul</b>
       The <b>\z</b> escape sequence writes a glyph without advancing  the  drawing  position,  enabling  overstriking.
       Thus, <b>\z</b><u>c</u><b>\(ul</b> formats <u>c</u> with an underrule glyph on top of it.  Video terminals implement the underrule by
       setting a character cell's underline attribute, so this technique works in both <u>nroff</u> and <u>troff</u> modes.

       Long  words may then look intimidating in the input; a clarifying approach might be to use the input line
       continuation escape sequence <b>\</b><u>newline</u> to place each underlined character on its own input line.  Thus,
              .nf
              \&amp;\fB: ${\fIvar\fR\c
              \zo\(ul\
              \zp\(ul\c
              \&amp;\fIvalue\fB}
              .fi
       produces
              <b>:</b> <b>${</b><u>varopvalue</u><b>}</b>
       as output.

</pre><h4><b>Compatibility</b> <b>mode</b></h4><pre>
       The differences between the <u>roff</u> language recognized by GNU <u>troff</u> and that of AT&amp;T <u>troff</u>, as well as  the
       device,  font, and device-independent intermediate output formats described by CSTR #54 are documented in
       <u><a href="../man7/groff_diff.7.html">groff_diff</a></u>(7).  <u>groff</u> provides an AT&amp;T compatibility mode.  The <b>.cp</b> request and registers <b>.C</b> and <b>.cp</b>  set
       and test the enablement of this mode.

</pre><h4><b>Debugging</b></h4><pre>
       Preprocessors  use  the  <b>.lf</b> request to preserve the identities of line numbers and names of input files.
       <u>groff</u> emits a variety of error diagnostics and supports several categories  of  warning;  the  output  of
       these can be selectively suppressed with <b>.warn</b> (and see the <b>-E</b>, <b>-w</b>, and <b>-W</b> options of <u><a href="../man1/troff.1.html">troff</a></u>(1)).  A trace
       of  the  formatter's  input  processing  stack  can  be emitted when errors or warnings occur by means of
       <u><a href="../man1/troff.1.html">troff</a></u>(1)'s <b>-b</b> option, or produced on demand with the <b>.backtrace</b> request.  <b>.tm</b>, <b>.tmc</b>, and <b>.tm1</b> can be used
       to emit customized diagnostic messages or for instrumentation while troubleshooting.  <b>.ex</b> and  <b>.ab</b>  cause
       early  termination  with  successful  and  error exit codes respectively, to halt further processing when
       continuing would be fruitless.  Examine the state of the formatter with  requests  that  write  lists  of
       defined  names—macros,  strings,  and  diversions—(<b>.pm</b>);  environments (<b>.pev</b>), registers (<b>.pnr</b>), and page
       location traps (<b>.ptr</b>) to the standard error stream.

</pre><h4><b>Authors</b></h4><pre>
       This document was written by by Trent  A.  Fisher,  Werner  Lemberg,  and  G. Branden Robinson.   Section
       “Underlining” was primarily written by Bernd Warken.

</pre><h4><b>See</b> <b>also</b></h4><pre>
       <u>Groff:</u>  <u>The</u>  <u>GNU</u>  <u>Implementation</u>  <u>of</u>  <u>troff</u>,  by Trent A. Fisher and Werner Lemberg, is the primary <u>groff</u>
       manual.  You can browse it interactively with “info groff”.

       “Troff User's Manual” by Joseph F. Ossanna, 1976  (revised  by  Brian  W.  Kernighan,  1992),  AT&amp;T  Bell
       Laboratories  Computing  Science  Technical Report No. 54, widely called simply “CSTR #54”, documents the
       language, device and font description file formats, and  device-independent  output  format  referred  to
       collectively in <u>groff</u> documentation as “AT&amp;T <u>troff</u>”.

       “A  Typesetter-independent  TROFF”  by Brian W. Kernighan, 1982, AT&amp;T Bell Laboratories Computing Science
       Technical Report No. 97 (CSTR #97), provides additional insights into the  device  and  font  description
       file formats and device-independent output format.

       <u><a href="../man1/groff.1.html">groff</a></u>(1)
              is  the  preferred  interface  to  the <u>groff</u> system; it manages the pipeline that carries a source
              document through preprocessors, the <u>troff</u> formatter, and an output driver to viewable or printable
              form.  It also exhaustively lists the man pages provided with the GNU <u>roff</u> system.

       <u><a href="../man7/groff_char.7.html">groff_char</a></u>(7)
              discusses character encoding issues, escape sequences that produce glyphs, and enumerates  <u>groff</u>'s
              predefined special character escape sequences.

       <u><a href="../man7/groff_diff.7.html">groff_diff</a></u>(7)
              covers  differences between the GNU <u>troff</u> formatter, its device and font description file formats,
              its device-independent output format, and those of AT&amp;T <u>troff</u>, whose design it reimplements.

       <u><a href="../man5/groff_font.5.html">groff_font</a></u>(5)
              describes the formats of the files that describe devices (<u>DESC</u>) and fonts.

       <u><a href="../man5/groff_tmac.5.html">groff_tmac</a></u>(5)
              surveys macro packages provided with <u>groff</u>, describes how documents can take  advantage  of  them,
              offers  guidance  on  writing  macro  packages  and  using  diversions,  and  includes  historical
              information on macro package naming conventions.

       <u><a href="../man7/roff.7.html">roff</a></u>(7)
              presents a detailed history of <u>roff</u> systems and summarizes concepts common to them.

groff 1.23.0                                       3 June 2025                                          <u><a href="../man7/groff.7.html">groff</a></u>(7)
</pre>
 </div>
</div></section>
</div>
</body>
</html>