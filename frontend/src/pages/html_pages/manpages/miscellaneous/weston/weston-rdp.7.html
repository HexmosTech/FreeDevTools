<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>weston-rdp - the RDP backend for Weston</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/weston">weston_14.0.2-1build1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       weston-rdp - the RDP backend for Weston

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>weston</b> <b>--backend=rdp</b>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The  RDP  backend  allows  to  run a <b>weston</b> environment without the need of specific graphic hardware, or
       input devices. Users can interact with <b>weston</b> only by connecting using the RDP protocol.

       The RDP backend uses FreeRDP to implement the RDP part, it acts as a RDP server  listening  for  incoming
       connections.  It  supports  different  codecs  for  encoding  the graphical content. Depending on what is
       supported by the RDP client, the backend will encode images  using  remoteFx  codec,  NS  codec  or  will
       fallback to raw bitmapUpdate.

       On the security part, the backend supports RDP security or TLS, keys and certificates must be provided to
       the  backend  depending  on  which  kind of security is requested. The RDP backend will announce security
       options based on which files have been given.

       The RDP backend is multi-seat aware, so if two clients connect on the backend, they will  get  their  own
       seat.

</pre><h4><b>CONFIGURATION</b></h4><pre>
       The RDP backend uses the following entries from <b>weston.ini</b>.

   <b>Section</b> <b>rdp</b>
       <b>refresh-rate</b>=<u>rate</u>
              Specifies the desktop redraw rate in Hz. If unspecified, the default is 60Hz. Changing this may be
              useful  if you have a faster than 60Hz display, or if you want to reduce updates to reduce network
              traffic.

       <b>tls-key</b>=<u>file</u>
              The file containing the key for doing TLS security. To have TLS security you also need to  ship  a
              file containing a certificate.

       <b>tls-cert</b>=<u>file</u>
              The  file containing the certificate for doing TLS security. To have TLS security you also need to
              ship a key file.

</pre><h4><b>OPTIONS</b></h4><pre>
       When the RDP backend is loaded, <b>weston</b> will understand the following additional command line options.

       <b>--address</b>=<u>address</u>
              The IP address on which the RDP backend will listen for RDP connections. By default it listens  on
              0.0.0.0.

       <b>--port</b>=<u>port</u>
              The TCP port to listen on for connections, it defaults to 3389.

       <b>--no-clients-resize</b>
              By  default  when  a  client connects on the RDP backend, it will instruct weston to resize to the
              dimensions of the client's announced resolution. When this option is set, weston  will  force  the
              client to resize to its own resolution.

       <b>--no-remotefx-codec</b>
              The  RemoteFX  compression  codec  is enabled by default, but it may be necessary to disable it to
              work around incompatibilities between implementations. This option may be removed  in  the  future
              when all known issues are resolved.

       <b>--rdp4-key</b>=<u>file</u>
              The  file  containing the RSA key for doing RDP security. As RDP security is known to be insecure,
              this option should be avoided in production.

       <b>--rdp-tls-key</b>=<u>file</u>
              The file containing the key for doing TLS security. To have TLS security you also need to  ship  a
              file containing a certificate.

       <b>--rdp-tls-cert</b>=<u>file</u>
              The  file containing the certificate for doing TLS security. To have TLS security you also need to
              ship a key file.

       <b>--external-listener-fd</b>=<u>fd</u>
              Specifies a file descriptor inherited from the process that launched weston to be listened on  for
              client  connections.  Only  local  (such  as  AF_VSOCK)  sockets  should  be used, as this will be
              considered to be a local connection by the RDP backend, and TLS and RDP security will be bypassed.

</pre><h4><b>Generating</b> <b>cryptographic</b> <b>material</b> <b>for</b> <b>the</b> <b>RDP</b> <b>backend</b></h4><pre>
       To generate a key file to use for RDP security, you need the <b>winpr-makecert</b> utility shipped with FreeRDP:

       $ winpr-makecert -rdp -silent -n rdp-security

       This will create a rdp-security.key file.

       You can generate a key and certificate file to use with TLS security using a typical <b>openssl</b> invocations:

       $ openssl genrsa -out tls.key 2048
       Generating RSA private key, 2048 bit long modulus
       [...]
       $ openssl req -new -key tls.key -out tls.csr
       [...]
       $ openssl x509 -req -days 365 -signkey tls.key -in tls.csr -out tls.crt
       [...]

       You will get the tls.key and tls.crt files to use with the RDP backend.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man1/weston.1.html">weston</a></b>(1)

Weston 14.0.2                                      2017-12-14                                      <u><a href="../man7/WESTON-RDP.7.html">WESTON-RDP</a></u>(7)
</pre>
 </div>
</div></section>
</div>
</body>
</html>