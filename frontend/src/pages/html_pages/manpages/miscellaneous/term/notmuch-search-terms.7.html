<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>notmuch-search-terms - syntax for notmuch queries</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/notmuch">notmuch_0.39-1ubuntu1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       notmuch-search-terms - syntax for notmuch queries

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>notmuch</b> <b>count</b> [option ...] &lt;<u>search-term</u>&gt; ...

       <b>notmuch</b> <b>dump</b> [--gzip] [--format=(batch-tag|sup)] [--output=&lt;<u>file</u>&gt;] [--] [&lt;<u>search-term</u>&gt; ...]

       <b>notmuch</b> <b>reindex</b> [option ...] &lt;<u>search-term</u>&gt; ...

       <b>notmuch</b> <b>search</b> [option ...] &lt;<u>search-term</u>&gt; ...

       <b>notmuch</b> <b>show</b> [option ...] &lt;<u>search-term</u>&gt; ...

       <b>notmuch</b> <b>tag</b> +&lt;<u>tag</u>&gt; ... -&lt;<u>tag</u>&gt; [--] &lt;<u>search-term</u>&gt; ...

</pre><h4><b>DESCRIPTION</b></h4><pre>
       Several notmuch commands accept a common syntax for search terms.

       The  search  terms  can consist of free-form text (and quoted phrases) which will match all messages that
       contain all of the given terms/phrases in the body, the subject,  or  any  of  the  sender  or  recipient
       headers.

       As a special case, a search string consisting of exactly a single asterisk ("*") will match all messages.

   <b>Search</b> <b>prefixes</b>
       In  addition  to  free  text, the following prefixes can be used to force terms to match against specific
       portions of an email, (where &lt;brackets&gt; indicate user-supplied values).

       Some of the prefixes with &lt;regex&gt; forms can be also used to restrict the results  to  those  whose  value
       matches a regular expression (see <u><a href="../man7/regex.7.html">regex</a>(7))</u> <u>delimited</u> <u>with</u> <u>//,</u> <u>for</u> <u>example:</u>

          notmuch search 'from:"/bob@.*[.]example[.]com/"'

       <b>body:&lt;word-or-quoted-phrase&gt;</b>
              Match terms in the body of messages.

       <b>from:&lt;name-or-address&gt;</b> <b>or</b> <b>from:/&lt;regex&gt;/</b>
              The <b>from:</b> prefix is used to match the name or address of the sender of an email message.

       <b>to:&lt;name-or-address&gt;</b>
              The  <b>to:</b>  prefix  is  used  to  match the names or addresses of any recipient of an email message,
              (whether To, Cc, or Bcc).

       <b>subject:&lt;word-or-quoted-phrase&gt;</b> <b>or</b> <b>subject:/&lt;regex&gt;/</b>
              Any term prefixed with <b>subject:</b> will match only text from the subject of an email. Searching for a
              phrase in the subject is supported by including quotation marks  around  the  phrase,  immediately
              following <b>subject:</b>.

       <b>attachment:&lt;word&gt;</b>
              The <b>attachment:</b> prefix can be used to search for specific filenames (or extensions) of attachments
              to email messages.

       <b>mimetype:&lt;word&gt;</b>
              The  <b>mimetype:</b> prefix will be used to match text from the content-types of MIME parts within email
              messages (as specified by the sender).

       <b>tag:&lt;tag&gt;</b> <b>or</b> <b>tag:/&lt;regex&gt;/</b> <b>or</b> <b>is:&lt;tag&gt;</b> <b>or</b> <b>is:/&lt;regex&gt;/</b>
              For <b>tag:</b> and <b>is:</b> valid tag values include <b>inbox</b> and <b>unread</b> by default for new  messages  added  by
              <u>notmuch-new</u> as well as any other tag values added manually with <u>notmuch-tag</u>.

       <b>id:&lt;message-id&gt;</b> <b>or</b> <b>mid:&lt;message-id&gt;</b> <b>or</b> <b>mid:/&lt;regex&gt;/</b>
              For  <b>id:</b>  and  <b>mid:</b>, message ID values are the literal contents of the Message-ID: header of email
              messages, but without the '&lt;', '&gt;' delimiters.

       <b>thread:&lt;thread-id&gt;</b>
              The <b>thread:</b> prefix can be used with the thread ID values that are generated internally by  notmuch
              (and  do  not appear in email messages). These thread ID values can be seen in the first column of
              output from <u>notmuch-search</u>

       <b>thread:{&lt;notmuch</b> <b>query&gt;}</b>
              Threads may be searched for indirectly by providing an arbitrary notmuch query in <b>{}</b>. For example,
              the following returns threads containing a message from mallory and one (not necessarily the  same
              message) with Subject containing the word "crypto".

                 % notmuch search 'thread:"{from:mallory}" and thread:"{subject:crypto}"'

              The  performance of such queries can vary wildly. To understand this, the user should think of the
              query <b>thread:{&lt;something&gt;}</b> as expanding to all of the thread IDs which match <b>&lt;something&gt;</b>;  notmuch
              then performs a second search using the expanded query.

       <b>path:&lt;directory-path&gt;</b> <b>or</b> <b>path:&lt;directory-path&gt;/**</b> <b>or</b> <b>path:/&lt;regex&gt;/</b>
              The  <b>path:</b>  prefix  searches for email messages that are in particular directories within the mail
              store. The directory must be specified relative to the top-level maildir (and without the  leading
              slash).  By  default, <b>path:</b> matches messages in the specified directory only. The "/**" suffix can
              be used to match messages in the specified  directory  and  all  its  subdirectories  recursively.
              <b>path:""</b>  matches  messages  in  the  root  of  the  mail  store and, likewise, <b>path:**</b> matches all
              messages.

              <b>path:</b> will find a message if <u>any</u> copy of that message is in the specific directory.

       <b>folder:&lt;maildir-folder&gt;</b> <b>or</b> <b>folder:/&lt;regex&gt;/</b>
              The <b>folder:</b> prefix searches for email messages by maildir or MH folder. For MH-style folders, this
              is equivalent to <b>path:</b>. For maildir, this includes messages in the "new" and "cur" subdirectories.
              The exact syntax for maildir folders depends on your mail configuration. For maildir++,  <b>folder:""</b>
              matches  the  inbox  folder (which is the root in maildir++), other folder names always start with
              ".", and nested folders are separated by "."s, such as <b>folder:.classes.topology</b>. For "file system"
              maildir, the inbox is typically <b>folder:INBOX</b> and nested folders are separated by slashes, such  as
              <b>folder:classes/topology</b>.

              <b>folder:</b> will find a message if <u>any</u> copy of that message is in the specific folder.

       <b>date:&lt;since&gt;..&lt;until&gt;</b> <b>or</b> <b>date:&lt;date&gt;</b>
              The  <b>date:</b>  prefix  can  be used to restrict the results to only messages within a particular time
              range (based on the Date: header).

              See <b>DATE</b> <b>AND</b> <b>TIME</b> <b>SEARCH</b> below for details on the  range  expression,  and  supported  syntax  for
              &lt;since&gt; and &lt;until&gt; date and time expressions.

              The  time  range  can also be specified using timestamps without including the date prefix using a
              syntax of:

              &lt;initial-timestamp&gt;..&lt;final-timestamp&gt;

              Each timestamp is a number representing the number  of  seconds  since  1970-01-01  00:00:00  UTC.
              Specifying a time range this way is considered legacy and predates the date prefix.

       <b>lastmod:&lt;initial-revision&gt;..&lt;final-revision&gt;</b>
              The  <b>lastmod:</b>  prefix  can  be used to restrict the result by the database revision number of when
              messages were last modified (tags were added/removed or filenames changed). Negative revisions are
              interpreted relative to the most recent database revision (see <u>count</u> <u>--lastmod</u>). This  is  usually
              used  in conjunction with the <b>--uuid</b> argument to <u>notmuch-search</u> to find messages that have changed
              since an earlier query.

       <b>query:&lt;name&gt;</b>
              The <b>query:</b> prefix allows queries to refer to previously saved queries added with <u>notmuch-config</u>.

       <b>property:&lt;key&gt;=&lt;value&gt;</b>
              The <b>property:</b> prefix  searches  for  messages  with  a  particular  &lt;key&gt;=&lt;value&gt;  property  pair.
              Properties  are  used  internally by notmuch (and extensions) to add metadata to messages. A given
              key can be present on a given message with several different values.  See  <u>notmuch-properties</u>  for
              more details.

       <b>sexp:&lt;subquery&gt;</b>
              The  <b>sexp:</b>  prefix  allows  subqueries in the format documented in <u>notmuch-sexp-queries</u>. Note that
              subqueries containing spaces must be quoted, and any embedded double quotes must be  escaped  (see
              <u>Quoting</u>).

       User defined prefixes are also supported, see <u>notmuch-config</u> for details.

   <b>Operators</b>
       In addition to individual terms, multiple terms can be combined with Boolean operators (<b>and</b>, <b>or</b>, <b>not</b>, and
       <b>xor</b>).  Each  term  in  the query will be implicitly connected by a logical AND if no explicit operator is
       provided (except that terms with a common prefix will be implicitly combined  with  OR).   The  shorthand
       '-&lt;term&gt;'  can  be  used  for  'not  &lt;term&gt;'  but  unfortunately  this  does  not work at the start of an
       expression.  Parentheses can also be used to control the combination of the Boolean operators,  but  will
       have  to  be  protected  from interpretation by the shell, (such as by putting quotation marks around any
       parenthesized expression).

       In addition to the standard boolean  operators,  Xapian  provides  several  operators  specific  to  text
       searching.

          notmuch search term1 NEAR term2

       will return results where term1 is within 10 words of term2. The threshold can be set like this:

          notmuch search term1 NEAR/2 term2

       The search

          notmuch search term1 ADJ term2

       will  return  results where term1 is within 10 words of term2, but in the same order as in the query. The
       threshold can be set the same as with NEAR:

          notmuch search term1 ADJ/7 term2

   <b>Stemming</b>
       <b>Stemming</b> in notmuch means that these searches

          notmuch search detailed
          notmuch search details
          notmuch search detail

       will all return identical results, because Xapian first "reduces" the  term  to  the  common  stem  (here
       'detail') and then performs the search.

       There are two ways to turn this off: a search for a capitalized word will be performed unstemmed, so that
       one  can  search  for  "John"  and not get results for "Johnson"; phrase searches are also unstemmed (see
       below for details).  Stemming is currently only supported  for  English.  Searches  for  words  in  other
       languages will be performed unstemmed.

   <b>Wildcards</b>
       It  is  possible  to  use  a  trailing  '*'  as  a wildcard. A search for 'wildc*' will match 'wildcard',
       'wildcat', etc.

   <b>Boolean</b> <b>and</b> <b>Probabilistic</b> <b>Prefixes</b>
       Xapian (and hence notmuch) prefixes are either <b>boolean</b>, supporting  exact  matches  like  "<u>tag:inbox</u>"  or
       <b>probabilistic</b>, supporting a more flexible <b>term</b> based searching. Certain <b>special</b> prefixes are processed by
       notmuch  in  a  way  not  strictly  fitting  either  of  Xapian's built in styles. The prefixes currently
       supported by notmuch are as follows.

       <b>Boolean</b>
              <b>tag:</b>, <b>id:</b>, <b>thread:</b>, <b>folder:</b>, <b>path:</b>, <b>property:</b>

       <b>Probabilistic</b>
              <b>body:</b>, <b>to:</b>, <b>attachment:</b>, <b>mimetype:</b>

       <b>Special</b>
              <b>from:</b>, <b>query:</b>, <b>subject:</b>, <b>sexp:</b>

   <b>Terms</b> <b>and</b> <b>phrases</b>
       In general Xapian distinguishes between lists of terms and  <b>phrases</b>.  Phrases  are  indicated  by  double
       quotes  (but  beware  you probably need to protect those from your shell) and insist that those unstemmed
       words occur in that order. One useful, but  initially  surprising  feature  is  that  the  following  are
       equivalent ways to write the same phrase.

       • "a list of words"

       • a-list-of-words

       • a/list/of/words

       • a.list.of.words

       Both  parenthesised  lists  of  terms  and quoted phrases are ok with probabilistic prefixes such as <b>to:</b>,
       <b>from:</b>, and <b>subject:</b>.  For prefixes supporting regex search, the parenthesised list should be quoted.   In
       particular

          subject:"(pizza free)"

       is equivalent to

          subject:pizza and subject:free

       Both of these will match a subject "Free Delicious Pizza" while

          subject:"pizza free"

       will not.

   <b>Quoting</b>
       Double quotes are also used by the notmuch query parser to protect boolean terms, regular expressions, or
       subqueries containing spaces or other special characters, e.g.

          tag:"a tag"

          folder:"/^.*/(Junk|Spam)$/"

          thread:"{from:mallory and date:2009}"

       As with phrases, you need to protect the double quotes from the shell e.g.

          % notmuch search 'folder:"/^.*/(Junk|Spam)$/"'
          % notmuch search 'thread:"{from:mallory and date:2009}" and thread:{to:mallory}'

       Double quotes within query strings need to be doubled to escape them.

          % notmuch search 'tag:"""quoted tag"""'
          % notmuch search 'sexp:"(or ""wizard"" ""php"")"'

</pre><h4><b>DATE</b> <b>AND</b> <b>TIME</b> <b>SEARCH</b></h4><pre>
       notmuch  understands  a  variety  of  standard  and  natural  ways of expressing dates and times, both in
       absolute terms ("2012-10-24") and in relative terms ("yesterday"). Any number of relative  terms  can  be
       combined  ("1  hour 25 minutes") and an absolute date/time can be combined with relative terms to further
       adjust it. A non-exhaustive description of the syntax supported for absolute and relative terms is  given
       below.

   <b>The</b> <b>range</b> <b>expression</b>
       date:&lt;since&gt;..&lt;until&gt;

       The  above  expression restricts the results to only messages from &lt;since&gt; to &lt;until&gt;, based on the Date:
       header.

       &lt;since&gt; and &lt;until&gt; can describe imprecise times, such as "yesterday".  In this case, &lt;since&gt; is taken as
       the earliest time it could describe (the beginning of yesterday) and &lt;until&gt; is taken as the latest  time
       it could describe (the end of yesterday). Similarly, date:january..february matches from the beginning of
       January to the end of February.

       If  specifying  a time range using timestamps in conjunction with the date prefix, each timestamp must be
       preceded by @ (ASCII hex 40). As above, each timestamp is a number representing  the  number  of  seconds
       since 1970-01-01 00:00:00 UTC. For example:
          date:@&lt;initial-timestamp&gt;..@&lt;final-timestamp&gt;

       Currently,  spaces  in  range  expressions are not supported. You can replace the spaces with '_', or (in
       most cases) '-', or (in some cases) leave the spaces out altogether. Examples in this man page use spaces
       for clarity.

       Open-ended ranges are supported. I.e. it's possible to specify date:..&lt;until&gt; or  date:&lt;since&gt;..  to  not
       limit the start or end time, respectively.

   <b>Single</b> <b>expression</b>
       date:&lt;expr&gt;  works  as  a  shorthand  for date:&lt;expr&gt;..&lt;expr&gt;.  For example, date:monday matches from the
       beginning of Monday until the end of Monday.

   <b>Relative</b> <b>date</b> <b>and</b> <b>time</b>
       [N|number] (years|months|weeks|days|hours|hrs|minutes|mins|seconds|secs) [...]

       All refer to past, can be repeated and will be accumulated.

       Units can be abbreviated to any length, with the otherwise ambiguous single m being m for minutes  and  M
       for months.

       Number  can  also  be  written  out  one,  two,  ..., ten, dozen, hundred.  Additionally, the unit may be
       preceded by "last" or "this" (e.g., "last week" or "this month").

       When combined with absolute date and time, the relative date and time specification will be relative from
       the specified absolute date and time.

       Examples: 5M2d, two weeks

   <b>Supported</b> <b>absolute</b> <b>time</b> <b>formats</b>
       • H[H]:MM[:SS] [(am|a.m.|pm|p.m.)]

       • H[H] (am|a.m.|pm|p.m.)

       • HHMMSS

       • now

       • noon

       • midnight

       • Examples: 17:05, 5pm

   <b>Supported</b> <b>absolute</b> <b>date</b> <b>formats</b>
       • YYYY-MM[-DD]

       • DD-MM[-[YY]YY]

       • MM-YYYY

       • M[M]/D[D][/[YY]YY]

       • M[M]/YYYY

       • D[D].M[M][.[YY]YY]

       • D[D][(st|nd|rd|th)] Mon[thname] [YYYY]

       • Mon[thname] D[D][(st|nd|rd|th)] [YYYY]

       • Wee[kday]

       Month names can be abbreviated at three or more characters.

       Weekday names can be abbreviated at three or more characters.

       Examples: 2012-07-31, 31-07-2012, 7/31/2012, August 3

   <b>Time</b> <b>zones</b>
       • (+|-)HH:MM

       • (+|-)HH[MM]

       Some time zone codes, e.g. UTC, EET.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <u>notmuch</u>,  <u>notmuch-config</u>,  <u>notmuch-count</u>,  <u>notmuch-dump</u>,  <u>notmuch-hooks</u>,   <u>notmuch-insert</u>,   <u>notmuch-new</u>,
       <u>notmuch-properties</u>,   <u>notmuch-reindex</u>,   <u>notmuch-reply</u>,  <u>notmuch-restore</u>,  <u>notmuch-search</u>,  <u>notmuch-show</u>,
       <u>notmuch-tag</u>

</pre><h4><b>AUTHOR</b></h4><pre>
       Carl Worth and many others

</pre><h4><b>COPYRIGHT</b></h4><pre>
       2009-2025, Carl Worth and many others

0.39                                              May 01, 2025                           <u><a href="../man7/NOTMUCH-SEARCH-TERMS.7.html">NOTMUCH-SEARCH-TERMS</a></u>(7)
</pre>
 </div>
</div></section>
</div>
</body>
</html>