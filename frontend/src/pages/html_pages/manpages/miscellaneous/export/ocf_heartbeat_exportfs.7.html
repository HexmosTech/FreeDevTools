<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ocf_heartbeat_exportfs - Manages NFS exports</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/resource-agents-extra">resource-agents-extra_4.16.0-3ubuntu1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       ocf_heartbeat_exportfs - Manages NFS exports

</pre><h4><b>SYNOPSIS</b></h4><pre>

       <b>exportfs</b> [start | stop | monitor | meta-data | validate-all]

</pre><h4><b>DESCRIPTION</b></h4><pre>
       Exportfs uses the exportfs command to add/remove nfs exports. It does NOT manage the nfs server daemon.
       It depends on Linux specific NFS implementation details, so is considered not portable to other platforms
       yet.

</pre><h4><b>SUPPORTED</b> <b>PARAMETERS</b></h4><pre>
       <b>clientspec</b>
           The client specification allowing remote machines to mount the directory (or directories) over NFS.

           Note: it follows the format defined in "man exportfs". For example, in the use case to export the
           directory(-ies) for multiple subnets, please do config a dedicated primitive for each subnet CIDR ip
           address, and do not attempt to use multiple CIDR ip addresses in a space separated list, like in
           /etc/exports.

           (required, string, no default)

       <b>options</b>
           The options to pass to exportfs for the exported directory or directories.

           (optional, string, no default)

       <b>directory</b>
           The directory or directories to be exported using NFS. Multiple directories are separated by white
           space.

           (required, string, no default)

       <b>fsid</b>
           The fsid option to pass to exportfs. This can be a unique positive integer, a UUID (assuredly sans
           comma characters), or the special string "root" which is functionally identical to numeric fsid of 0.
           If multiple directories are being exported, then they are assigned ids sequentially starting with
           this fsid (fsid, fsid+1, fsid+2, ...). Obviously, in that case the fsid must be an integer. 0 (root)
           identifies the export as the root of an NFSv4 pseudofilesystem -- avoid this setting unless you
           understand its special status. This value will override any fsid provided via the options parameter.

           (optional, string, no default)

       <b>unlock_on_stop</b>
           Relinquish NFS locks associated with this filesystem when the resource stops. Enabling this parameter
           is highly recommended unless the path exported by this exportfs resource is also exported by a
           different resource.

           Note: Unlocking is only possible on Linux systems where /proc/fs/nfsd/unlock_filesystem exists and is
           writable. If your system does not fulfill this requirement (on account of having an nonrecent kernel,
           for example), you may set this parameter to 0 to silence the associated warning.

           (optional, boolean, default 1)

       <b>wait_for_leasetime_on_stop</b>
           When stopping (unexporting), wait out the NFSv4 lease time. Only after all leases have expired does
           the NFS kernel server relinquish all server-side handles on the exported filesystem. If this exportfs
           resource manages an export that resides on a mount point designed to fail over along with the NFS
           export itself, then enabling this parameter will ensure such failover is working properly. Note that
           when this parameter is set, your stop timeout MUST accommodate for the wait period. This parameter is
           safe to disable if none of your NFS clients are using NFS version 4 or later.

           (optional, boolean, default 0)

       <b>rmtab_backup</b>
           Back up those entries from the NFS rmtab that apply to the exported directory, to the specified
           backup file. The filename is interpreted as relative to the exported directory. This backup is
           required if clients are connecting to the export via NFSv3 over TCP. Note that a configured monitor
           operation is required for this functionality.

           To disable rmtab backups, set this parameter to the special string "none".

           (optional, string, default ".rmtab")

</pre><h4><b>SUPPORTED</b> <b>ACTIONS</b></h4><pre>
       This resource agent supports the following actions (operations):

       <b>start</b>
           Starts the resource. Suggested minimum timeout: 40s.

       <b>stop</b>
           Stops the resource. Suggested minimum timeout: 120s.

       <b>monitor</b>
           Performs a detailed status check. Suggested minimum timeout: 20s. Suggested interval: 10s.

       <b>meta-data</b>
           Retrieves resource agent metadata (internal use only). Suggested minimum timeout: 5s.

       <b>validate-all</b>
           Performs a validation of the resource configuration. Suggested minimum timeout: 30s.

</pre><h4><b>EXAMPLE</b> <b>CRM</b> <b>SHELL</b></h4><pre>
       The following is an example configuration for a exportfs resource using the <b><a href="../man8/crm.8.html">crm</a></b>(8) shell:

           primitive p_exportfs ocf:heartbeat:exportfs \
             params \
               clientspec=<u>string</u> \
               directory=<u>string</u> \
             op monitor depth="0" timeout="20s" interval="10s"

</pre><h4><b>EXAMPLE</b> <b>PCS</b></h4><pre>
       The following is an example configuration for a exportfs resource using <b><a href="../man8/pcs.8.html">pcs</a></b>(8)

           pcs resource create p_exportfs ocf:heartbeat:exportfs \
             clientspec=<u>string</u> \
             directory=<u>string</u> \
             op monitor OCF_CHECK_LEVEL="0" timeout="20s" interval="10s"

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="http://clusterlabs.org/">http://clusterlabs.org/</a></b>

</pre><h4><b>AUTHOR</b></h4><pre>
       <b>ClusterLabs</b> <b>contributors</b> <b>(see</b> <b>the</b> <b>resource</b> <b>agent</b> <b>source</b> <b>for</b> <b>information</b> <b>about</b> <b>individual</b> <b>authors)</b>

resource-agents 4.16.0-3ubuntu                     06/25/2025                            <u><a href="../man7/OCF_HEARTBEAT_EXPORT.7.html">OCF_HEARTBEAT_EXPORT</a></u>(7)
</pre>
 </div>
</div></section>
</div>
</body>
</html>