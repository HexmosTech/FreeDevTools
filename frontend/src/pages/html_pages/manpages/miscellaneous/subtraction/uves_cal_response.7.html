<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>uves_cal_response - Determines response function and quantum efficiency</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/noble/+package/cpl-plugin-uves-doc">cpl-plugin-uves-doc_6.1.8+dfsg-2build3_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       uves_cal_response - Determines response function and quantum efficiency

</pre><h4><b>SYNOPSIS</b></h4><pre>
       esorex <b>uves_cal_response</b> [OPTIONS] FILE.sof

</pre><h4><b>DESCRIPTION</b></h4><pre>
       This recipe reduces a standard star frame (STANDARD_xxx or STANDARD_xxx, where xxx = BLUE, RED) using a
       combination (depending on recipe parameters and provided input frames) of the steps:
         - bias subtraction,
         - dark subtraction,
         - background subtraction,
         - extraction/cosmic ray removal,
         - flat-field correction,
         - wavelength rebinning,
         - sky subtraction,
         - order merging.

        Expected input for this recipe is an raw std star frame, STANDARD_xxx or order table(s) for each chip,
       ORDER_TABLE_xxxx (where xxxx=BLUE, REDL, REDU), line table(s) for each chip, LINE_TABLE_xxxx, a master
       bias frame, MASTER_BIAS_xxxx, a master flat, MASTER_FLAT_xxxx, a reference standard star flux table,
       FLUX_STD_TABLE, a table describing the atmospheric extintion, EXTCOEFF_TABLE, and the catalog indicating
       points to fit the response, RESP_FIT_POINTS_CATALOG.

       Two reductions are performed, the first using optimal extraction (used to compute the instrument response
       function), the second using linear extraction (used to get the Quantum Detection Efficiency)

       For each chip (xxxx = BLUE, REDL, REDU) the recipe produces
         INSTR_RESPONSE_FINE_xxxx          Response curve
         RED_STD_xxxx                 Reduced spectrum
         EFFICIENCY_TABLE_xxxx        Efficiency table
         BKG_STD_xxxx                 The subtracted background

</pre><h4><b>OPTIONS</b></h4><pre>
       <b>--debug</b> <u>&lt;bool&gt;</u>
              Whether  or  not  to save intermediate results to local directory (bool; default: False). The full
              name of this option for the EsoRex configuration file is <b>uves.debug</b> [default = <u>False</u>].

       <b>--efficiency.reduce.best</b> <u>&lt;bool&gt;</u>
              (optimal extraction only) If false (fastest), the spectrum is extracted only once. If true (best),
              the spectrum is extracted twice, the second time using improved variance estimates  based  on  the
              first  iteration.  Better  variance estimates slightly improve the obtained signal to noise but at
              the cost of increased execution time (bool; default: True). The full name of this option  for  the
              EsoRex configuration file is <b>uves_cal_response.efficiency.reduce.best</b> [default = <u>True</u>].

       <b>--efficiency.reduce.extract.method</b> <u>&lt;str&gt;</u>
              Extraction method. &lt;average | linear | weighted | optimal&gt; (str; default: ´linear´). The full name
              of       this       option       for       the       EsoRex       configuration       file      is
              <b>uves_cal_response.efficiency.reduce.extract.method</b> [default = <u>linear</u>].

       <b>--efficiency.reduce.ffmethod</b> <u>&lt;str&gt;</u>
              Flat-fielding method. If set to ´pixel´,  flat-fielding  is  done  in  pixel-pixel  space  (before
              extraction);  if  set  to  ´extract´, flat- fielding is performed in pixel-order space (i.e. after
              extraction). If set to ´no´, no flat-field correction is done, in  which  case  reduce.rebin.scale
              should  be  set to true to ensure flux conservation (both for response and science data). &lt;pixel |
              extract | no&gt; (str; default: ´no´). The full name of this option for the EsoRex configuration file
              is <b>uves_cal_response.efficiency.reduce.ffmethod</b> [default = <u>no</u>].

       <b>--efficiency.reduce.merge</b> <u>&lt;str&gt;</u>
              Order merging method. If ´optimal´, the flux in the overlapping region is set  to  the  (optimally
              computed,  using  the  uncertainties)  average  of single order spectra. If ´sum´, the flux in the
              overlapping region is computed as the sum of the single order spectra.If ´noappend´  the  spectrum
              is  simply  rebinned  but  not  merged.If  flat-fielding is done, method ´optimal´ is recommended,
              otherwise ´sum´. &lt;optimal | sum | noappend&gt; (str; default: ´sum´). The full name  of  this  option
              for the EsoRex configuration file is <b>uves_cal_response.efficiency.reduce.merge</b> [default = <u>sum</u>].

       <b>--paccuracy</b> <u>&lt;float&gt;</u>
              The pointing accuracy (in arcseconds) used to identify the observed star with a catalogue star. If
              the  angular  separation  is  less  than this number, the identification is made. (float; default:
              60.0).   The   full   name   of   this   option   for   the   EsoRex   configuration    file    is
              <b>uves_cal_response.efficiency.paccuracy</b> [default = <u>60.0</u>].

       <b>--plotter</b> <u>&lt;str&gt;</u>
              Any  plots  produced  by the recipe are redirected to the command specified by this parameter. The
              plotting command must contain the substring ´gnuplot´ and must be able to parse gnuplot syntax  on
              its  standard  input.  Valid  examples of such a command may include ´gnuplot -persist´ and ´cat &gt;
              mygnuplot$$.gp´. A finer control of the plotting options can be obtained by writing an  executable
              script, e.g.  my_gnuplot.pl, that executes gnuplot after setting the desired gnuplot options (e.g.
              set  terminal  pslatex  color).  To  turn  off plotting, set this parameter to ´no´ (str; default:
              ´no´). The full name of this option for the EsoRex configuration file is <b>uves.plotter</b>  [default  =
              <u>no</u>].

       <b>--process_chip</b> <u>&lt;str&gt;</u>
              For  RED arm data process the redl, redu, or both chip(s) (str; default: ´both´). The full name of
              this option for the EsoRex configuration file is <b>uves.process_chip</b> [default = <u>both</u>].

       <b>--reduce.backsub.mmethod</b> <u>&lt;str&gt;</u>
              Background measuring method. If equal to ´median´ the background is sampled using the median of  a
              subwindow.  If  ´minimum´, the subwindow minimum value is used. If ´no´, no background subtraction
              is done.  (str; default: ´median´). The full name of this option for the EsoRex configuration file
              is <b>uves_cal_response.reduce.backsub.mmethod</b> [default = <u>median</u>].

       <b>--reduce.backsub.npoints</b> <u>&lt;int&gt;</u>
              This is the number of columns in interorder space used to sample the  background.  (int;  default:
              82).    The    full    name    of   this   option   for   the   EsoRex   configuration   file   is
              <b>uves_cal_response.reduce.backsub.npoints</b> [default = <u>82</u>].

       <b>--reduce.backsub.radiusy</b> <u>&lt;int&gt;</u>
              The height (in pixels) of the background sampling window is (2*radiusy + 1). This parameter is not
              corrected for  binning.  (int;  default:  2).  The  full  name  of  this  option  for  the  EsoRex
              configuration file is <b>uves_cal_response.reduce.backsub.radiusy</b> [default = <u>2</u>].

       <b>--reduce.backsub.sdegree</b> <u>&lt;int&gt;</u>
              Degree  of  interpolating  splines.  Currently only degree = 1 is supported (int; default: 1). The
              full    name    of    this     option     for     the     EsoRex     configuration     file     is
              <b>uves_cal_response.reduce.backsub.sdegree</b> [default = <u>1</u>].

       <b>--reduce.backsub.smoothx</b> <u>&lt;float&gt;</u>
              If  spline  interpolation  is  used  to measure the background, the x-radius of the post-smoothing
              window is (smoothx * image_width).  Here, ´image_width´ is  the  image  width  after  binning.  If
              negative, the default values are used: (25.0/4096) for blue flat-field frames, (50.0/4096) for red
              flat-field  frames,  (300.0/4096) for blue science frames and (300.0/4096) for red science frames.
              (float; default: -1.0). The full name  of  this  option  for  the  EsoRex  configuration  file  is
              <b>uves_cal_response.reduce.backsub.smoothx</b> [default = <u>-1.0</u>].

       <b>--reduce.backsub.smoothy</b> <u>&lt;float&gt;</u>
              If  spline  interpolation  is  used  to measure the background, the y-radius of the post-smoothing
              window is (smoothy * image_height).  Here, ´image_height´ is the image height  after  binning.  If
              negative,  the  default values are used: (100.0/2048) for blue flat-field frames, (300.0/2048) for
              red flat-field frames, (200.0/2048) for blue science  frames  and  (500.0/2048)  for  red  science
              frames.  (float; default: -1.0). The full name of this option for the EsoRex configuration file is
              <b>uves_cal_response.reduce.backsub.smoothy</b> [default = <u>-1.0</u>].

       <b>--reduce.extract.best</b> <u>&lt;bool&gt;</u>
              (optimal extraction only) If false (fastest), the spectrum is extracted only once. If true (best),
              the spectrum is extracted twice, the second time using improved variance estimates  based  on  the
              first  iteration.  Better  variance estimates slightly improve the obtained signal to noise but at
              the cost of increased execution time (bool; default: True). The full name of this option  for  the
              EsoRex configuration file is <b>uves_cal_response.reduce.extract.best</b> [default = <u>True</u>].

       <b>--reduce.extract.chunk</b> <u>&lt;int&gt;</u>
              In  optimal extraction mode, the chunk size (in pixels) used for fitting the analytical profile (a
              fit of the analytical profile to single bins would suffer from  low  statistics).  (int;  default:
              32).    The    full    name    of   this   option   for   the   EsoRex   configuration   file   is
              <b>uves_cal_response.reduce.extract.chunk</b> [default = <u>32</u>].

       <b>--reduce.extract.kappa</b> <u>&lt;float&gt;</u>
              In optimal extraction mode, this is the threshold for bad (i.e.  hot/cold) pixel rejection.  If  a
              pixel  deviates  more than kappa*sigma (where sigma is the uncertainty of the pixel flux) from the
              inferred spatial profile, its weight is set  to  zero.  Range:  [-1,100].  If  this  parameter  is
              negative,  no rejection is performed. (float; default: 10.0). The full name of this option for the
              EsoRex configuration file is <b>uves_cal_response.reduce.extract.kappa</b> [default = <u>10.0</u>].

       <b>--reduce.extract.method</b> <u>&lt;str&gt;</u>
              Extraction method. (2d/optimal not supported  by  uves_cal_wavecal,  weighted  supported  only  by
              uves_cal_wavecal,  2d not supported by uves_cal_response) (str; default: ´optimal´). The full name
              of this option  for  the  EsoRex  configuration  file  is  <b>uves_cal_response.reduce.extract.method</b>
              [default = <u>optimal</u>].

       <b>--reduce.extract.oversample</b> <u>&lt;int&gt;</u>
              The  oversampling  factor  used  for the virtual resampling algorithm. If negative, the value 5 is
              used for S/N &lt;=200, and the value 10 is used if the estimated S/N is &gt; 200 (int; default: -1). The
              full    name    of    this     option     for     the     EsoRex     configuration     file     is
              <b>uves_cal_response.reduce.extract.oversample</b> [default = <u>-1</u>].

       <b>--reduce.extract.profile</b> <u>&lt;str&gt;</u>
              In optimal extraction mode, the kind of profile to use. ´gauss´ gives a Gaussian profile, ´moffat´
              gives  a  Moffat  profile  with  beta=4  and  a possible linear sky contribution. ´virtual´ uses a
              virtual resampling algorithm (i.e. measures and  uses  the  actual  object  profile).   ´constant´
              assumes a constant spatial profile and allows optimal extraction of wavelength calibration frames.
              ´auto´ will automatically select the best method based on the estimated S/N of the object. For low
              S/N,  ´moffat´ or ´gauss´ are recommended (for robustness). For high S/N, ´virtual´ is recommended
              (for accuracy). In the case of virtual resampling, a precise determination of the order  positions
              is  required;  therefore  the order-definition is repeated using the (assumed non-low S/N) science
              frame (str; default: ´auto´). The full name of this option for the EsoRex  configuration  file  is
              <b>uves_cal_response.reduce.extract.profile</b> [default = <u>auto</u>].

       <b>--reduce.extract.skymethod</b> <u>&lt;str&gt;</u>
              In  optimal extraction mode, the sky subtraction method to use.  ´median´ estimates the sky as the
              median of pixels along the slit (ignoring pixels close to the object), whereas  ´optimal´  does  a
              chi  square  minimization  along  the  slit to obtain the best combined object and sky levels. The
              optimal method gives the most accurate sky determination but is also a bit slower than the  median
              method  (str;  default: ´optimal´). The full name of this option for the EsoRex configuration file
              is <b>uves_cal_response.reduce.extract.skymethod</b> [default = <u>optimal</u>].

       <b>--reduce.ffmethod</b> <u>&lt;str&gt;</u>
              Flat-fielding method. If set to ´pixel´,  flat-fielding  is  done  in  pixel-pixel  space  (before
              extraction);  if  set  to  ´extract´, flat- fielding is performed in pixel-order space (i.e. after
              extraction). If set to ´no´, no flat-field correction is done, in  which  case  reduce.rebin.scale
              should  be  set  to  true  to  ensure flux conservation (both for response and science data) (str;
              default: ´extract´).  The  full  name  of  this  option  for  the  EsoRex  configuration  file  is
              <b>uves_cal_response.reduce.ffmethod</b> [default = <u>extract</u>].

       <b>--reduce.merge</b> <u>&lt;str&gt;</u>
              Order  merging  method.  If ´optimal´, the flux in the overlapping region is set to the (optimally
              computed, using the uncertainties) average of single order spectra. If  ´sum´,  the  flux  in  the
              overlapping  region is computed as the sum of the single order spectra. If ´noappend´ the spectrum
              is simply rebinned but not merged.If flat-fielding  is  done,  method  ´optimal´  is  recommended,
              otherwise  ´sum´.  (str;  default:  ´optimal´).  The  full  name  of  this  option  for the EsoRex
              configuration file is <b>uves_cal_response.reduce.merge</b> [default = <u>optimal</u>].

       <b>--reduce.merge_delt1</b> <u>&lt;float&gt;</u>
              Order merging left hand (short wavelength) cut. To reduce the amount of order overlapping  regions
              we  allow  to cut short and long wavelength ranges. This may reduce the ripple possibly introduced
              by the order  merging.  Suggested  values  are:  10  (W&lt;=390),  12  (390&lt;W&lt;=437,  520&lt;W&lt;=564),  14
              (437&lt;W&lt;=520,  564&lt;W)   (float;  default:  0.0).  The  full  name  of  this  option  for the EsoRex
              configuration file is <b>uves_cal_response.reduce.merge_delt1</b> [default = <u>0.0</u>].

       <b>--reduce.merge_delt2</b> <u>&lt;float&gt;</u>
              Order merging right hand (long wavelength) cut. To reduce the amount of order overlapping  regions
              we  allow  to cut short and long wavelength ranges. This may reduce the ripple possibly introduced
              by the order merging. Suggested values is 4 (float; default: 0.0). The full name  of  this  option
              for the EsoRex configuration file is <b>uves_cal_response.reduce.merge_delt2</b> [default = <u>0.0</u>].

       <b>--reduce.objoffset</b> <u>&lt;float&gt;</u>
              Offset (in pixels) of extraction slit with respect to center of order.  For optimal extraction the
              full  slit is offset. For linear/average extraction, reduce.objoffset is ignored if reduce.objslit
              [default -1.0] is negative. In this case the offset is automatically determined by  measuring  the
              actual  object  position.  (float;  default:  0.0).  The  full  name of this option for the EsoRex
              configuration file is <b>uves_cal_response.reduce.objoffset</b> [default = <u>0.0</u>].

       <b>--reduce.objslit</b> <u>&lt;float&gt;</u>
              Object window size (in pixels), ignored for optimal extraction. The value must be smaller than the
              total slit length. If negative, the default value (half of full slit length) is  used.  The  upper
              and lower sky windows are defined as the part of the full slit (if any) outside the object window.
              The center of the object window is determined by the offset parameter. (float; default: -1.0). The
              full  name  of  this  option for the EsoRex configuration file is <b>uves_cal_response.reduce.objslit</b>
              [default = <u>-1.0</u>].

       <b>--reduce.rebin.scale</b> <u>&lt;bool&gt;</u>
              Whether or not to multiply by the factor dx/dlambda (pixels per wavelength) during  the  rebinning
              to  conserve  the  flux.  This  option  is  disabled  as  default  because applying the flat field
              correction already ensures flux  conservation.  Therefore  this  parameter  should  be  TRUE  (for
              response  and  science data) only if reduce.ffmethd = no. (bool; default: False). The full name of
              this option for the EsoRex configuration file is <b>uves_cal_response.reduce.rebin.scale</b>  [default  =
              <u>False</u>].

       <b>--reduce.rebin.wavestep</b> <u>&lt;float&gt;</u>
              The bin size used for BLUE/REDL data (in w.l.u.) in wavelength space.  If negative, a step size of
              2/3  *  (  average pixel size ) is used.  (float; default: -1.0). The full name of this option for
              the EsoRex configuration file is <b>uves_cal_response.reduce.rebin.wavestep</b> [default = <u>-1.0</u>].

       <b>--reduce.rebin.wavestep_redu</b> <u>&lt;float&gt;</u>
              The bin size used for REDU data (in w.l.u.) in wavelength space. If negative, a step size of 2/3 *
              ( average pixel size ) is used. (float; default: -1.0). The full  name  of  this  option  for  the
              EsoRex configuration file is <b>uves_cal_response.reduce.rebin.wavestep_redu</b> [default = <u>-1.0</u>].

       <b>--reduce.skysub</b> <u>&lt;bool&gt;</u>
              Do sky-subtraction (only applicable to linear and average extractions)? (bool; default: True). The
              full  name  of  this  option  for the EsoRex configuration file is <b>uves_cal_response.reduce.skysub</b>
              [default = <u>True</u>].

       <b>--reduce.slitlength</b> <u>&lt;float&gt;</u>
              Extraction slit length (in pixels). If negative, the value inferred from the raw frame  header  is
              used  (float;  default:  -1.0).  The full name of this option for the EsoRex configuration file is
              <b>uves_cal_response.reduce.slitlength</b> [default = <u>-1.0</u>].

       <b>--reduce.tiltcorr</b> <u>&lt;bool&gt;</u>
              If enabled (recommended), the provided dispersion solutions obtained at different  slit  positions
              are  interpolated  linearly  at  the  actually  measured  position  of  the  object/sky. Line tilt
              correction is currently not supported for 2d extraction, in which  case  the  dispersion  solution
              obtained  at  the  middle of the slit is always used. (bool; default: True). The full name of this
              option for the EsoRex configuration file is <b>uves_cal_response.reduce.tiltcorr</b> [default = <u>True</u>].

       Note that it is possible to create a configuration file containing these  options,  along  with  suitable
       default values. Please refer to the details provided by the 'esorex --help' command.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       The full documentation for the uves pipeline can be downloaded as a PDF file using the following URL:

              <b><a href="ftp://ftp.eso.org/pub/dfs/pipelines/uves/uves-pipeline-manual-6.1.8.pdf">ftp://ftp.eso.org/pub/dfs/pipelines/uves/uves-pipeline-manual-6.1.8.pdf</a></b>

       An    overview    over    the    existing    ESO    pipelines    can   be   found   on   the   web   page
       <b>https://www.eso.org/sci/software/pipelines/</b>.

       Basic documentation about the EsoRex program can be found at the esorex (1) man page.

       It  is  possible  to  call   the   pipelines   from   python   using   the   python-cpl   package.    See
       <b>https://packages.python.org/python-cpl/index.html</b> for further information.

       The   other   recipes   of   the   uves   pipeline  are  <u><a href="../man7/flames_cal_mkmaster.7.html">flames_cal_mkmaster</a></u>(7),  <u><a href="../man7/flames_cal_orderpos.7.html">flames_cal_orderpos</a></u>(7),
       <u><a href="../man7/flames_cal_predict.7.html">flames_cal_predict</a></u>(7),   <u><a href="../man7/flames_cal_prep_sff_ofpos.7.html">flames_cal_prep_sff_ofpos</a></u>(7),   <u><a href="../man7/flames_cal_wavecal.7.html">flames_cal_wavecal</a></u>(7),   <u><a href="../man7/flames_obs_redchain.7.html">flames_obs_redchain</a></u>(7),
       <u><a href="../man7/flames_obs_scired.7.html">flames_obs_scired</a></u>(7),  <u><a href="../man7/flames_utl_unpack.7.html">flames_utl_unpack</a></u>(7),  <u><a href="../man7/uves_cal_cd_align.7.html">uves_cal_cd_align</a></u>(7), <u><a href="../man7/uves_cal_mbias.7.html">uves_cal_mbias</a></u>(7), <u><a href="../man7/uves_cal_mdark.7.html">uves_cal_mdark</a></u>(7),
       <u><a href="../man7/uves_cal_mflat.7.html">uves_cal_mflat</a></u>(7),      <u><a href="../man7/uves_cal_mflat_combine.7.html">uves_cal_mflat_combine</a></u>(7),      <u><a href="../man7/uves_cal_mkmaster.7.html">uves_cal_mkmaster</a></u>(7),       <u><a href="../man7/uves_cal_orderpos.7.html">uves_cal_orderpos</a></u>(7),
       <u><a href="../man7/uves_cal_predict.7.html">uves_cal_predict</a></u>(7),  <u><a href="../man7/uves_cal_tflat.7.html">uves_cal_tflat</a></u>(7),  <u><a href="../man7/uves_cal_wavecal.7.html">uves_cal_wavecal</a></u>(7),  <u><a href="../man7/uves_obs_redchain.7.html">uves_obs_redchain</a></u>(7), <u><a href="../man7/uves_obs_scired.7.html">uves_obs_scired</a></u>(7),
       <u><a href="../man7/uves_utl_ima_arith.7.html">uves_utl_ima_arith</a></u>(7), <u><a href="../man7/uves_utl_remove_crh_single.7.html">uves_utl_remove_crh_single</a></u>(7)

</pre><h4><b>VERSION</b></h4><pre>
       uves_cal_response 6.1.8

</pre><h4><b>AUTHOR</b></h4><pre>
       Jonas M. Larsen &lt;<a href="mailto:cpl@eso.org">cpl@eso.org</a>&gt;

</pre><h4><b>BUG</b> <b>REPORTS</b></h4><pre>
       Please report any problems to <a href="mailto:cpl@eso.org">cpl@eso.org</a>. Alternatively, you may send a report to the ESO  User  Support
       Department &lt;<a href="mailto:usd-help@eso.org">usd-help@eso.org</a>&gt;.

</pre><h4><b>LICENSE</b></h4><pre>
       This  file  is  part  of  the FLAMES/UVES Pipeline Copyright (C) 2004, 2005, 2006, 2007 European Southern
       Observatory

       This program is free software; you can redistribute it and/or modify  it  under  the  terms  of  the  GNU
       General  Public License as published by the Free Software Foundation; either version 2 of the License, or
       (at your option) any later version.

       This program is distributed in the hope that it will be useful, but WITHOUT ANY  WARRANTY;  without  even
       the  implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public
       License for more details.

       You should have received a copy of the GNU General Public License along with this program; if not,  write
       to the Free Software Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA  02111-1307  USA

uves_cal_response                                     6.1.8                                 <u><a href="../man7/UVES_CAL_RESPONSE.7.html">UVES_CAL_RESPONSE</a></u>(7)
</pre>
 </div>
</div></section>
</div>
</body>
</html>