<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>zpoolprops — properties of ZFS storage pools</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/zfsutils-linux">zfsutils-linux_2.3.2-1ubuntu3_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       zpoolprops — properties of ZFS storage pools

</pre><h4><b>DESCRIPTION</b></h4><pre>
       Each  pool  has  several  properties  associated with it.  Some properties are read-only statistics while
       others are configurable and change the behavior of the pool.

       User properties have no effect on ZFS behavior.  Use them to annotate pools in a way that  is  meaningful
       in your environment.  For more information about user properties, see the “User Properties” section.

       The following are read-only properties:

       <b>allocated</b>         Amount  of  storage  used  within  the  pool.   See  <b>fragmentation</b>  and  <b>free</b>  for more
                         information.

       <b>bcloneratio</b>       The ratio of the total amount of storage that would be required to store all the cloned
                         blocks without cloning to  the  actual  storage  used.   The  <b>bcloneratio</b>  property  is
                         calculated as:

                         ((<b>bclonesaved</b> <b>+</b> <b>bcloneused</b>) <b>*</b> <b>100</b>) <b>/</b> <b>bcloneused</b>

       <b>bclonesaved</b>       The amount of additional storage that would be required if block cloning was not used.

       <b>bcloneused</b>        The amount of storage used by cloned blocks.

       <b>capacity</b>          Percentage  of pool space used.  This property can also be referred to by its shortened
                         column name, <b>cap</b>.

       <b>dedupcached</b>       Total  size  of  the  deduplication  table  currently  loaded  into   the   ARC.    See
                         <u><a href="../man8/zpool-prefetch.8.html">zpool-prefetch</a></u>(8).

       <b>dedup_table_size</b>  Total on-disk size of the deduplication table.

       <b>expandsize</b>        Amount  of  uninitialized  space within the pool or device that can be used to increase
                         the total capacity of the pool.  On whole-disk vdevs, this is the space beyond the  end
                         of  the GPT – typically occurring when a LUN is dynamically expanded or a disk replaced
                         with a larger one.  On partition vdevs, this is the space  appended  to  the  partition
                         after it was added to the pool – most likely by resizing it in-place.  The space can be
                         claimed for the pool by bringing it online with <b>autoexpand=on</b> or using <b>zpool</b> <b>online</b> <b>-e</b>.

       <b>fragmentation</b>     The  amount  of fragmentation in the pool.  As the amount of space <b>allocated</b> increases,
                         it becomes more difficult to locate  <b>free</b>  space.   This  may  result  in  lower  write
                         performance compared to pools with more unfragmented free space.

       <b>free</b>              The  amount  of  free  space  available in the pool.  By contrast, the <u><a href="../man8/zfs.8.html">zfs</a></u>(8) <b>available</b>
                         property describes how much new data can be written to  ZFS  filesystems/volumes.   The
                         zpool  <b>free</b> property is not generally useful for this purpose, and can be substantially
                         more than the zfs <b>available</b>  space.   This  discrepancy  is  due  to  several  factors,
                         including   raidz   parity;   zfs  reservation,  quota,  refreservation,  and  refquota
                         properties; and space set aside by <b>spa_slop_shift</b> (see <u><a href="../man4/zfs.4.html">zfs</a></u>(4) for more information).

       <b>freeing</b>           After a file system or snapshot is destroyed, the space it was using is returned to the
                         pool asynchronously.  <b>freeing</b> is the amount of space remaining to be  reclaimed.   Over
                         time <b>freeing</b> will decrease while <b>free</b> increases.

       <b>guid</b>              A unique identifier for the pool.

       <b>health</b>            The  current  health  of  the  pool.   Health  can be one of <b>ONLINE</b>, <b>DEGRADED</b>, <b>FAULTED</b>,
                         <b>OFFLINE,</b> <b>REMOVED</b>, <b>UNAVAIL</b>.

       <b>last_scrubbed_txg</b>
                         Indicates the transaction group (TXG) up to which the most recent scrub  operation  has
                         checked and repaired the dataset.  This provides insight into the data integrity status
                         of their pool at a specific point in time.  <u><a href="../man8/zpool-scrub.8.html">zpool-scrub</a></u>(8) can utilize this property to
                         scan only data that has changed since the last scrub completed, when given the <b>-C</b> flag.
                         This property is not updated when performing an error scrub with the <b>-e</b> flag.

       <b>leaked</b>            Space  not  released  while  <b>freeing</b> due to corruption, now permanently leaked into the
                         pool.

       <b>load_guid</b>         A unique identifier for the  pool.   Unlike  the  <b>guid</b>  property,  this  identifier  is
                         generated  every  time  we load the pool (i.e. does not persist across imports/exports)
                         and never changes while the pool is loaded (even if a <b>reguid</b> operation takes place).

       <b>size</b>              Total size of the storage pool.

       <b>unsupported@</b><u>guid</u>  Information  about  unsupported  features  that  are  enabled   on   the   pool.    See
                         <u><a href="../man7/zpool-features.7.html">zpool-features</a></u>(7) for details.

       The  space  usage  properties  report  actual physical space available to the storage pool.  The physical
       space can be different from the total amount of space that any contained datasets can actually use.   The
       amount  of  space used in a raidz configuration depends on the characteristics of the data being written.
       In addition, ZFS reserves some space for internal accounting that the <u><a href="../man8/zfs.8.html">zfs</a></u>(8) command takes into  account,
       but  the  <b>zpoolprops</b>  command does not.  For non-full pools of a reasonable size, these effects should be
       invisible.  For small pools, or pools that are close to being completely full,  these  discrepancies  may
       become more noticeable.

       The following property can be set at creation time and import time:

       <b>altroot</b>
               Alternate  root  directory.   If  set, this directory is prepended to any mount points within the
               pool.  This can be used when examining an unknown pool where the mount points cannot be  trusted,
               or  in  an  alternate  boot environment, where the typical paths are not valid.  <b>altroot</b> is not a
               persistent property.  It is valid only while the system is up.  Setting <b>altroot</b> defaults to using
               <b>cachefile</b>=<b>none</b>, though this may be overridden using an explicit setting.

       The following property can be set only at import time:

       <b>readonly</b>=<b>on</b>|<b>off</b>
               If set to <b>on</b>, the pool will be imported in read-only mode.  This property can also be referred to
               by its shortened column name, <b>rdonly</b>.

       The following properties can be set at creation time and import time, and later changed  with  the  <b>zpool</b>
       <b>set</b> command:

       <b>ashift</b>=<u>ashift</u>
               Pool  sector  size exponent, to the power of <b>2</b> (internally referred to as <b>ashift</b>).  Values from 9
               to 16, inclusive, are valid; also, the value 0 (the  default)  means  to  auto-detect  using  the
               kernel's  block  layer  and a ZFS internal exception list.  I/O operations will be aligned to the
               specified size boundaries.  Additionally, the minimum (disk)  write  size  will  be  set  to  the
               specified  size,  so this represents a space/performance trade-off.  For optimal performance, the
               pool sector size should be greater than or equal to the sector size of the underlying disks.  The
               typical case for setting this property is when performance is important and the underlying  disks
               use 4KiB sectors but report 512B sectors to the OS (for compatibility reasons); in that case, set
               <b>ashift</b>=<b>12</b>  (which is <b>1&lt;&lt;12</b> = <b>4096</b>).  When set, this property is used as the default hint value in
               subsequent vdev operations (add, attach and replace).  Changing this value will  not  modify  any
               existing  vdev,  not even on disk replacement; however it can be used, for instance, to replace a
               dying 512B sectors disk with a newer 4KiB sectors  device:  this  will  probably  result  in  bad
               performance but at the same time could prevent loss of data.

       <b>autoexpand</b>=<b>on</b>|<b>off</b>
               Controls  automatic pool expansion when the underlying LUN is grown.  If set to <b>on</b>, the pool will
               be resized according to the size of the expanded device.  If the device is part of  a  mirror  or
               raidz  then  all  devices within that mirror/raidz group must be expanded before the new space is
               made available to the pool.  The default behavior is <b>off</b>.  This property can also be referred  to
               by its shortened column name, <b>expand</b>.

       <b>autoreplace</b>=<b>on</b>|<b>off</b>
               Controls  automatic  device  replacement.  If set to <b>off</b>, device replacement must be initiated by
               the administrator by using the <b>zpool</b> <b>replace</b> command.  If set to <b>on</b>, any new device, found in the
               same physical location as a device  that  previously  belonged  to  the  pool,  is  automatically
               formatted  and  replaced.  The default behavior is <b>off</b>.  This property can also be referred to by
               its shortened column name, <b>replace</b>.  Autoreplace can also be used with virtual disks (like device
               mapper) provided that you use  the  /dev/disk/by-vdev  paths  setup  by  vdev_id.conf.   See  the
               <u><a href="../man8/vdev_id.8.html">vdev_id</a></u>(8) manual page for more details.  Autoreplace and autoonline require the ZFS Event Daemon
               be configured and running.  See the <u><a href="../man8/zed.8.html">zed</a></u>(8) manual page for more details.

       <b>autotrim</b>=<b>on</b>|<b>off</b>
               When  set to <b>on</b> space which has been recently freed, and is no longer allocated by the pool, will
               be periodically trimmed.  This allows block device vdevs which support BLKDISCARD, such as  SSDs,
               or  file  vdevs  on  which  the  underlying file system supports hole-punching, to reclaim unused
               blocks.  The default value for this property is <b>off</b>.

               Automatic TRIM does not immediately reclaim blocks after a free.  Instead, it will optimistically
               delay allowing smaller ranges to be aggregated into a few larger ones.  These can then be  issued
               more  efficiently to the storage.  TRIM on L2ARC devices is enabled by setting <b>l2arc_trim_ahead</b> <b>&gt;</b>
               <b>0</b>.

               Be aware that automatic trimming of recently freed data blocks can put significant stress on  the
               underlying  storage  devices.   This  will vary depending of how well the specific device handles
               these commands.  For lower-end devices it is often possible to achieve most of  the  benefits  of
               automatic  trimming  by  running  an  on-demand  (manual)  TRIM periodically using the <b>zpool</b> <b>trim</b>
               command.

       <b>bootfs</b>=<b>(unset)</b>|<u>pool</u>[/<u>dataset</u>]
               Identifies the default bootable dataset for the root pool.  This property is expected to  be  set
               mainly  by  the installation and upgrade programs.  Not all Linux distribution boot processes use
               the bootfs property.

       <b>cachefile</b>=<u>path</u>|<b>none</b>
               Controls the location of where the pool configuration is cached.  Discovering all pools on system
               startup requires a cached copy of the configuration data that is stored on the root file  system.
               All  pools  in  this  cache are automatically imported when the system boots.  Some environments,
               such as install and clustering, need to cache this information in a different  location  so  that
               pools  are  not automatically imported.  Setting this property caches the pool configuration in a
               different location that can later be imported with <b>zpool</b> <b>import</b> <b>-c</b>.  Setting it to the value <b>none</b>
               creates a temporary pool that is never cached,  and  the  ""  (empty  string)  uses  the  default
               location.

               Multiple  pools  can  share  the same cache file.  Because the kernel destroys and recreates this
               file when pools are added and removed, care should be taken when attempting to access this  file.
               When the last pool using a <b>cachefile</b> is exported or destroyed, the file will be empty.

       <b>comment</b>=<u>text</u>
               A  text  string  consisting  of  printable  ASCII  characters that will be stored such that it is
               available even if the pool becomes faulted.  An administrator can provide additional  information
               about a pool using this property.

       <b>compatibility</b>=<b>off</b>|<b>legacy</b>|<u>file</u>[,<u>file</u>]…
               Specifies  that  the pool maintain compatibility with specific feature sets.  When set to <b>off</b> (or
               unset) compatibility is disabled (all features may be enabled); when set to  <b>legacy</b>  no  features
               may  be enabled.  When set to a comma-separated list of filenames (each filename may either be an
               absolute path, or relative to  <u>/etc/zfs/compatibility.d</u>  or  <u>/usr/share/zfs/compatibility.d</u>)  the
               lists  of  requested  features  are read from those files, separated by whitespace and/or commas.
               Only features present in all files may be enabled.

               See <u><a href="../man7/zpool-features.7.html">zpool-features</a></u>(7), <u><a href="../man8/zpool-create.8.html">zpool-create</a></u>(8) and <u><a href="../man8/zpool-upgrade.8.html">zpool-upgrade</a></u>(8) for more information on the operation
               of compatibility feature sets.

       <b>dedup_table_quota</b>=<u>number</u>|<b>none</b>|<b>auto</b>
               This property sets a limit on the on-disk size of the pool's dedup table.  Entries  will  not  be
               added  to  the  dedup  table  once  this size is reached; if a dedup table already exists, and is
               larger than this size, they will not be removed as  part  of  setting  this  property.   Existing
               entries will still have their reference counts updated.

               The  actual  size limit of the table may be above or below the quota, depending on the actual on-
               disk size of the entries (which may be approximated for purposes of calculating the quota).  That
               is, setting a quota size of 1M may result in the maximum size being slightly below,  or  slightly
               above,  that value.  Set to <b>'none'</b> to disable.  In automatic mode, which is the default, the size
               of a dedicated dedup vdev is used as the quota limit.

               The <b>dedup_table_quota</b> property works for both legacy and fast dedup tables.

       <b>dedupditto</b>=<u>number</u>
               This property is deprecated and no longer has any effect.

       <b>delegation</b>=<b>on</b>|<b>off</b>
               Controls whether a non-privileged user is granted access based on the dataset permissions defined
               on the dataset.  See <u><a href="../man8/zfs.8.html">zfs</a></u>(8) for more information on ZFS delegated administration.

       <b>failmode</b>=<b>wait</b>|<b>continue</b>|<b>panic</b>
               Controls the system behavior in the event  of  catastrophic  pool  failure.   This  condition  is
               typically  a result of a loss of connectivity to the underlying storage device(s) or a failure of
               all devices within the pool.  The behavior of such an event is determined as follows:

               <b>wait</b>      Blocks all I/O access until the device connectivity is recovered  and  the  errors  are
                         cleared with <b>zpool</b> <b>clear</b>.  This is the default behavior.

               <b>continue</b>  Returns  EIO  to  any  new  write I/O requests but allows reads to any of the remaining
                         healthy devices.  Any write requests that have yet to be committed  to  disk  would  be
                         blocked.

               <b>panic</b>     Prints out a message to the console and generates a system crash dump.

       <b>feature@</b><u>feature_name</u>=<b>enabled</b>
               The  value  of  this  property  is  the current state of <u>feature_name</u>.  The only valid value when
               setting  this  property  is  <b>enabled</b>  which  moves  <u>feature_name</u>  to  the  enabled  state.    See
               <u><a href="../man7/zpool-features.7.html">zpool-features</a></u>(7) for details on feature states.

       <b>listsnapshots</b>=<b>on</b>|<b>off</b>
               Controls whether information about snapshots associated with this pool is output when <b>zfs</b> <b>list</b> is
               run  without  the <b>-t</b> option.  The default value is <b>off</b>.  This property can also be referred to by
               its shortened name, <b>listsnaps</b>.

       <b>multihost</b>=<b>on</b>|<b>off</b>
               Controls whether a pool activity check should be performed during <b>zpool</b> <b>import</b>.  When a  pool  is
               determined  to  be  active  it  cannot  be  imported,  even with the <b>-f</b> option.  This property is
               intended to be used in failover configurations where multiple hosts have  access  to  a  pool  on
               shared storage.

               Multihost  provides  protection on import only.  It does not protect against an individual device
               being used in multiple pools, regardless of the type of vdev.  See  the  discussion  under  <b>zpool</b>
               <b>create</b>.

               When  this  property  is  on,  periodic  writes to storage occur to show the pool is in use.  See
               <b>zfs_multihost_interval</b> in the <u><a href="../man4/zfs.4.html">zfs</a></u>(4) manual page.  In order to enable  this  property  each  host
               must  set  a  unique  hostid.  See <u><a href="../man1/genhostid.1.html">genhostid</a></u>(1) <u><a href="../man8/zgenhostid.8.html">zgenhostid</a></u>(8) <u><a href="../man4/spl.4.html">spl</a></u>(4) for additional details.  The
               default value is <b>off</b>.

       <b>version</b>=<u>version</u>
               The current on-disk version of the pool.  This  can  be  increased,  but  never  decreased.   The
               preferred method of updating pools is with the <b>zpool</b> <b>upgrade</b> command, though this property can be
               used  when  a  specific  version  is  needed for backwards compatibility.  Once feature flags are
               enabled on a pool this property will no longer have a value.

   <b>User</b> <b>Properties</b>
       In addition to the standard native properties, ZFS supports arbitrary user properties.   User  properties
       have no effect on ZFS behavior, but applications or administrators can use them to annotate pools.

       User  property  names  must  contain  a colon ("<b>:</b>") character to distinguish them from native properties.
       They may contain lowercase letters, numbers, and the following punctuation characters: colon ("<b>:</b>"),  dash
       ("<b>-</b>"),  period ("<b>.</b>"), and underscore ("<b>_</b>").  The expected convention is that the property name is divided
       into two portions such as <u>module</u>:<u>property</u>, but this namespace is not  enforced  by  ZFS.   User  property
       names can be at most 255 characters, and cannot begin with a dash ("<b>-</b>").

       When  making  programmatic  use of user properties, it is strongly suggested to use a reversed DNS domain
       name for the <u>module</u> component of property names to reduce the  chance  that  two  independently-developed
       packages use the same property name for different purposes.

       The  values  of  user properties are arbitrary strings and are never validated.  All of the commands that
       operate on properties (<b>zpool</b> <b>list</b>, <b>zpool</b> <b>get</b>, <b>zpool</b> <b>set</b>, and so forth) can be  used  to  manipulate  both
       native  properties  and  user properties.  Use <b>zpool</b> <b>set</b> <u>name</u>= to clear a user property.  Property values
       are limited to 8192 bytes.

OpenZFS                                         November 18, 2024                                  <u><a href="../man7/ZPOOLPROPS.7.html">ZPOOLPROPS</a></u>(7)
</pre>
 </div>
</div></section>
</div>
</body>
</html>