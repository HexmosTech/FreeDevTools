<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ocf_heartbeat_oracle - Manages an Oracle Database instance</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/resource-agents-extra">resource-agents-extra_4.16.0-3ubuntu1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       ocf_heartbeat_oracle - Manages an Oracle Database instance

</pre><h4><b>SYNOPSIS</b></h4><pre>

       <b>oracle</b> [start | stop | status | monitor | meta-data | validate-all]

</pre><h4><b>DESCRIPTION</b></h4><pre>
       Resource script for oracle. Manages an Oracle Database instance as an HA resource.

</pre><h4><b>SUPPORTED</b> <b>PARAMETERS</b></h4><pre>
       <b>sid</b>
           The Oracle SID (aka ORACLE_SID).

           (unique, required, string, no default)

       <b>home</b>
           The Oracle home directory (aka ORACLE_HOME). If not specified, then the SID along with its home
           should be listed in /etc/oratab.

           (optional, string, no default)

       <b>user</b>
           The Oracle owner (aka ORACLE_OWNER). If not specified, then it is set to the owner of file
           $ORACLE_HOME/dbs/*${ORACLE_SID}.ora. If this does not work for you, just set it explicitely.

           (optional, string, no default)

       <b>monuser</b>
           Monitoring user name. Every connection as sysdba is logged in an audit log. This can result in a
           large number of new files created. A new user is created (if it doesn't exist) in the start action
           and subsequently used in monitor. It should have very limited rights. Make sure that the password for
           this user does not expire.

           (optional, string, default "OCFMON")

       <b>monpassword</b>
           Password for the monitoring user. Make sure that the password for this user does not expire. Need to
           explicitly set a password to a new monitor user for the security reason.

           (optional, string, default "OCFMON")

       <b>monprofile</b>
           Profile used by the monitoring user. If the profile does not exist, it will be created with a
           non-expiring password.

           (optional, string, default "OCFMONPROFILE")

       <b>ipcrm</b>
           Sometimes IPC objects (shared memory segments and semaphores) belonging to an Oracle instance might
           be left behind which prevents the instance from starting. It is not easy to figure out which shared
           segments belong to which instance, in particular when more instances are running as same user.

           What we use here is the "oradebug" feature and its "ipc" trace utility. It is not optimal to parse
           the debugging information, but I am not aware of any other way to find out about the IPC information.
           In case the format or wording of the trace report changes, parsing might fail. There are some
           precautions, however, to prevent stepping on other peoples toes. There is also a dumpinstipc option
           which will make us print the IPC objects which belong to the instance. Use it to see if we parse the
           trace file correctly.

           Three settings are possible:

           - none: don't mess with IPC and hope for the best (beware: you'll probably be out of luck, sooner or
           later)

           - instance: try to figure out the IPC stuff which belongs to the instance and remove only those
           (default; should be safe)

           - orauser: remove all IPC belonging to the user which runs the instance (don't use this if you run
           more than one instance as same user or if other apps running as this user use IPC)

           The default setting "instance" should be safe to use, but in that case we cannot guarantee that the
           instance will start. In case IPC objects were already left around, because, for instance, someone
           mercilessly killing Oracle processes, there is no way any more to find out which IPC objects should
           be removed. In that case, human intervention is necessary, and probably _all_ instances running as
           same user will have to be stopped. The third setting, "orauser", guarantees IPC objects removal, but
           it does that based only on IPC objects ownership, so you should use that only if every instance runs
           as separate user.

           Please report any problems. Suggestions/fixes welcome.

           (optional, string, default "instance")

       <b>clear_backupmode</b>
           The clear of the backup mode of ORACLE.

           (optional, boolean, default false)

       <b>shutdown_method</b>
           How to stop Oracle is a matter of taste it seems. The default method ("checkpoint/abort") is:

           alter system checkpoint; shutdown abort;

           This should be the fastest safe way bring the instance down. If you find "shutdown abort"
           distasteful, set this attribute to "immediate" in which case we will

           shutdown immediate;

           If you still think that there's even better way to shutdown an Oracle instance we are willing to
           listen.

           (optional, string, default "checkpoint/abort")

</pre><h4><b>SUPPORTED</b> <b>ACTIONS</b></h4><pre>
       This resource agent supports the following actions (operations):

       <b>start</b>
           Starts the resource. Suggested minimum timeout: 120s.

       <b>stop</b>
           Stops the resource. Suggested minimum timeout: 120s.

       <b>status</b>
           Performs a status check. Suggested minimum timeout: 5s.

       <b>monitor</b>
           Performs a detailed status check. Suggested minimum timeout: 30s. Suggested interval: 120s.

       <b>validate-all</b>
           Performs a validation of the resource configuration. Suggested minimum timeout: 5s.

       <b>methods</b>
           Suggested minimum timeout: 5s.

       <b>meta-data</b>
           Retrieves resource agent metadata (internal use only). Suggested minimum timeout: 5s.

</pre><h4><b>EXAMPLE</b> <b>CRM</b> <b>SHELL</b></h4><pre>
       The following is an example configuration for a oracle resource using the <b><a href="../man8/crm.8.html">crm</a></b>(8) shell:

           primitive p_oracle ocf:heartbeat:oracle \
             params \
               sid=<u>string</u> \
             op monitor depth="0" timeout="30s" interval="120s"

</pre><h4><b>EXAMPLE</b> <b>PCS</b></h4><pre>
       The following is an example configuration for a oracle resource using <b><a href="../man8/pcs.8.html">pcs</a></b>(8)

           pcs resource create p_oracle ocf:heartbeat:oracle \
             sid=<u>string</u> \
             op monitor OCF_CHECK_LEVEL="0" timeout="30s" interval="120s"

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="http://clusterlabs.org/">http://clusterlabs.org/</a></b>

</pre><h4><b>AUTHOR</b></h4><pre>
       <b>ClusterLabs</b> <b>contributors</b> <b>(see</b> <b>the</b> <b>resource</b> <b>agent</b> <b>source</b> <b>for</b> <b>information</b> <b>about</b> <b>individual</b> <b>authors)</b>

resource-agents 4.16.0-3ubuntu                     06/25/2025                            <u><a href="../man7/OCF_HEARTBEAT_ORACLE.7.html">OCF_HEARTBEAT_ORACLE</a></u>(7)
</pre>
 </div>
</div></section>
</div>
</body>
</html>