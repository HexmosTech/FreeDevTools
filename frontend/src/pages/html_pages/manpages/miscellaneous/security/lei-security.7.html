<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>lei - security information</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/lei">lei_1.9.0-1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       lei - security information

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b><a href="../man1/lei.1.html">lei</a></b>(1) is intended for use with both publicly-archived and "private" mail in personal mailboxes.  This
       document is intended to give an overview of security implications and lower^Wmanage user expectations.

</pre><h4><b>DESCRIPTION</b></h4><pre>
       lei expects to be run as a regular user on a Unix-like system.  It expects a case-sensitive filesystem
       with standard Unix permissions support.

       It does not use POSIX ACLs, extended attributes, nor any other security-related functions which require
       non-standard Perl modules.

       There is preliminary support for "virtual users", but it is incomplete and undocumented.

</pre><h4><b>INTERNAL</b> <b>FILES</b></h4><pre>
       lei runs with a umask of 077 to prevent other users on the system from accessing each other's mail.

       The git storage and Xapian databases are located at "$XDG_DATA_HOME/lei/store" (typically
       "<a href="file:~/.local/share/lei/store">~/.local/share/lei/store</a>").  Any personal mail imported will reside here, so this should be on an
       encrypted filesystem or block device.

       "$XDG_RUNTIME_DIR/lei" (typically "<a href="file:/run/user/">/run/user/</a>$UID/lei" or "/tmp/lei-$UID") contain the socket used to
       access the lei daemon.  It must only be accessible to the owner (mode 0700).

       "$XDG_CACHE_HOME/lei" (typically "<a href="file:~/.cache/lei">~/.cache/lei</a>") will contain IMAP and Maildir folder names which could
       leak sensitive information as well as git repository names.

       "$XDG_DATA_HOME/lei/saved-searches" (typically "<a href="file:~/.local/share/lei/saved-searches">~/.local/share/lei/saved-searches</a>") will contain
       aforementioned folder names as well as (removable) search history.

       The configuration for lei resides at "$XDG_CONFIG_HOME/lei/config" (typically "<a href="file:~/.config/lei/config">~/.config/lei/config</a>").
       It may contain sensitive pathnames and hostnames in the config if a user chooses to configure them.

       lei itself will never write credentials to the filesystem.  However, <b><a href="../man1/git-credential.1.html">git-credential</a></b>(1) may be configured
       to do so.  lei will only read "<a href="file:~/.netrc">~/.netrc</a>" if "--netrc" is used (and it will never write to "<a href="file:~/.netrc">~/.netrc</a>").

       "$XDG_CACHE_HOME/public-inbox" (typically "<a href="file:~/.cache/public-inbox">~/.cache/public-inbox</a>") can contain data and Inline::C-built
       modules which can be shared with public-facing <b><a href="../man8/public-inbox-daemon.8.html">public-inbox-daemon</a></b>(8) instances; so no private data
       should be in "public-inbox" paths.

</pre><h4><b>EXTERNAL</b> <b>FILES</b></h4><pre>
       Locations set by <b><a href="../man1/lei-add-external.1.html">lei-add-external</a></b>(1) can be shared with public-facing <b><a href="../man8/public-inbox-daemon.8.html">public-inbox-daemon</a></b>(8) processes.
       They may reside on shared storage and may be made world-readable to other users on the local system.

</pre><h4><b>CORE</b> <b>DUMPS</b></h4><pre>
       In case any process crashes, a core dumps may contain passwords or contents of sensitive messages.
       Please report these so they can be fixed (see "CONTACT").

</pre><h4><b>NETWORK</b> <b>ACCESS</b></h4><pre>
       lei currently uses the <b><a href="../man1/curl.1.html">curl</a></b>(1) and <b><a href="../man1/git.1.html">git</a></b>(1) executables in $PATH for HTTP and HTTPS network access.
       Interactive authentication for HTTP and HTTPS is not-yet-supported since all currently supported
       HTTP/HTTPS sources are PublicInbox::WWW instances.

       The Mail::IMAPClient library is used for IMAP and IMAPS.  Net::NNTP (standard library) is used for NNTP
       and NNTPS.

       Mail::IMAPClient and Net::NNTP will use IO::Socket::SSL for TLS if available.  In turn, IO::Socket::SSL
       uses the widely-installed OpenSSL library.

       STARTTLS will be attempted if advertised by the server unless IMAPS or NNTPS are used.  "-c
       imap.starttls=0" and "-c nntp.startls=0" may be used to disable STARTTLS.

       IO::Socket::Socks will be used if "-c imap.proxy" or "-c nntp.proxy" point to a "socks5h://$HOST:$PORT"
       address (common for Tor).

       The "--netrc" switch may be passed to curl and used for NNTP/IMAP access (via Net::Netrc).

</pre><h4><b>CREDENTIAL</b> <b>DATA</b></h4><pre>
       lei uses <b><a href="../man1/git-credential.1.html">git-credential</a></b>(1) to prompt users for IMAP and NNTP usernames and passwords.  These passwords
       are not encrypted in memory and get transferred across processes via anonymous UNIX sockets and pipes.
       They may be exposed via syscall tracing tools (e.g. <b><a href="../man1/strace.1.html">strace</a></b>(1)), kernel and hardware bugs/attacks.

       While credentials are not written to the filesystem by default, it is possible for them to end up on disk
       if processes are swapped out.  Use of an encrypted swap partition is recommended.

</pre><h4><b>AUTHENTICATION</b> <b>METHODS</b></h4><pre>
       LOGIN (username + password) is known to work over IMAP(S), as does AUTH=ANONYMOUS (which is used by
       <b><a href="../man1/public-inbox-imapd.1.html">public-inbox-imapd</a></b>(1) as part of our test suite).  AUTHINFO may work for NNTP, but is untested.  Testers
       will be needed for other authentication methods.

</pre><h4><b>DENIAL-OF-SERVICE</b> <b>VECTORS</b></h4><pre>
       lei uses the same MIME parsing library as <b><a href="../man1/public-inbox-mda.1.html">public-inbox-mda</a></b>(1) with limits header sizes, parts, nesting
       and boundary limits similar to those found in SpamAssassin and postfix.

       Email address parsing is handled by Email::Address::XS if available, but may fall back to regular
       expressions which favor speed and predictable execution times over correctness.

</pre><h4><b>ENCRYPTED</b> <b>EMAILS</b></h4><pre>
       Not yet supported, but it should eventually be possible to configure decryption and indexing of encrypted
       messages and attachments.  When supported, decrypted terms will be stored in Xapian DBs under
       "$XDG_DATA_HOME/lei/store".

</pre><h4><b>CONTACT</b></h4><pre>
       Feedback welcome via plain-text mail to &lt;<a href="mailto:meta@public-inbox.org">mailto:meta@public-inbox.org</a>&gt;

       The mail archives are hosted at &lt;https://public-inbox.org/meta/&gt; and
       &lt;<a href="http://4uok3hntl7oi7b4uf4rtfwefqeexfzil2w6kgk2jn5z2f764irre7byd.onion/meta/">http://4uok3hntl7oi7b4uf4rtfwefqeexfzil2w6kgk2jn5z2f764irre7byd.onion/meta/</a>&gt;

</pre><h4><b>COPYRIGHT</b></h4><pre>
       Copyright all contributors &lt;<a href="mailto:meta@public-inbox.org">mailto:meta@public-inbox.org</a>&gt;

       License: AGPL-3.0+ &lt;https://www.gnu.org/licenses/agpl-3.0.txt&gt;

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man7/lei-overview.7.html">lei-overview</a></b>(7), <b><a href="../man1/lei.1.html">lei</a></b>(1)

public-inbox.git                                   1993-10-02                                    <u><a href="../man7/LEI-SECURITY.7.html">LEI-SECURITY</a></u>(7)
</pre>
 </div>
</div></section>
</div>
</body>
</html>