<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>qemu-cpu-models - QEMU CPU Models</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/qemu-system-common">qemu-system-common_10.0.2+ds-1ubuntu2_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       qemu-cpu-models - QEMU CPU Models

</pre><h4><b>SYNOPSIS</b></h4><pre>
       QEMU CPU Modelling Infrastructure manual

</pre><h4><b>DESCRIPTION</b></h4><pre>
   <b>Recommendations</b> <b>for</b> <b>KVM</b> <b>CPU</b> <b>model</b> <b>configuration</b> <b>on</b> <b>x86</b> <b>hosts</b>
       The  information that follows provides recommendations for configuring CPU models on x86 hosts. The goals
       are to maximise performance, while protecting guest OS against various CPU hardware flaws, and optionally
       enabling live migration between hosts with heterogeneous CPU models.

   <b>Two</b> <b>ways</b> <b>to</b> <b>configure</b> <b>CPU</b> <b>models</b> <b>with</b> <b>QEMU</b> <b>/</b> <b>KVM</b>
       1. <b>Host</b> <b>passthrough</b>

          This passes the host CPU model features, model, stepping, exactly to the  guest.  Note  that  KVM  may
          filter  out  some  host  CPU  model  features  if  they  cannot be supported with virtualization. Live
          migration is unsafe when this mode is used as libvirt / QEMU cannot guarantee a stable CPU is  exposed
          to  the  guest  across  hosts.  This  is  the  recommended  CPU to use, provided live migration is not
          required.

       2. <b>Named</b> <b>model</b>

          QEMU comes with a number of predefined named CPU models, that typically refer to specific  generations
          of  hardware  released by Intel and AMD.  These allow the guest VMs to have a degree of isolation from
          the host CPU, allowing greater flexibility in live migrating between hosts  with  differing  hardware.
          @end table

       In  both  cases,  it  is  possible  to optionally add or remove individual CPU features, to alter what is
       presented to the guest by default.

       Libvirt supports a third way to configure CPU models known as "Host model".  This uses  the  QEMU  "Named
       model"  feature,  automatically  picking  a CPU model that is similar the host CPU, and then adding extra
       features to approximate the host model as closely as possible. This does not guarantee  the  CPU  family,
       stepping, etc will precisely match the host CPU, as they would with "Host passthrough", but gives much of
       the benefit of passthrough, while making live migration safe.

   <b>ABI</b> <b>compatibility</b> <b>levels</b> <b>for</b> <b>CPU</b> <b>models</b>
       The  x86_64  architecture  has a number of <u>ABI</u> <u>compatibility</u> <u>levels</u> defined. Traditionally most operating
       systems and toolchains would only target the original baseline ABI. It is expected that in future OS  and
       toolchains  are  likely  to target newer ABIs. The table that follows illustrates which ABI compatibility
       levels can be satisfied by the QEMU CPU models. Note that the table only lists the long term  stable  CPU
       model  versions  (eg  Haswell-v4).   In addition to what is listed, there are also many CPU model aliases
       which resolve to a different CPU model version, depending on the machine type is in use.

   <b>x86-64</b> <b>ABI</b> <b>compatibility</b> <b>levels</b>
                                 ┌───────────────────────┬──────────┬────┬────┬────┐
                                 │ Model                 │ baseline │ v2 │ v3 │ v4 │
                                 ├───────────────────────┼──────────┼────┼────┼────┤
                                 │ 486-v1                │          │    │    │    │
                                 ├───────────────────────┼──────────┼────┼────┼────┤
                                 │ Broadwell-v1          │ ✅       │ ✅ │ ✅ │    │
                                 ├───────────────────────┼──────────┼────┼────┼────┤
                                 │ Broadwell-v2          │ ✅       │ ✅ │ ✅ │    │
                                 ├───────────────────────┼──────────┼────┼────┼────┤
                                 │ Broadwell-v3          │ ✅       │ ✅ │ ✅ │    │
                                 ├───────────────────────┼──────────┼────┼────┼────┤
                                 │ Broadwell-v4          │ ✅       │ ✅ │ ✅ │    │
                                 ├───────────────────────┼──────────┼────┼────┼────┤
                                 │ Cascadelake-Server-v1 │ ✅       │ ✅ │ ✅ │ ✅ │
                                 ├───────────────────────┼──────────┼────┼────┼────┤
                                 │ Cascadelake-Server-v2 │ ✅       │ ✅ │ ✅ │ ✅ │
                                 ├───────────────────────┼──────────┼────┼────┼────┤
                                 │ Cascadelake-Server-v3 │ ✅       │ ✅ │ ✅ │ ✅ │
                                 ├───────────────────────┼──────────┼────┼────┼────┤
                                 │ Cascadelake-Server-v4 │ ✅       │ ✅ │ ✅ │ ✅ │
                                 ├───────────────────────┼──────────┼────┼────┼────┤
                                 │ Cascadelake-Server-v5 │ ✅       │ ✅ │ ✅ │ ✅ │
                                 ├───────────────────────┼──────────┼────┼────┼────┤
                                 │ Conroe-v1             │ ✅       │    │    │    │
                                 ├───────────────────────┼──────────┼────┼────┼────┤
                                 │ Cooperlake-v1         │ ✅       │ ✅ │ ✅ │ ✅ │
                                 ├───────────────────────┼──────────┼────┼────┼────┤
                                 │ Cooperlake-v2         │ ✅       │ ✅ │ ✅ │ ✅ │
                                 ├───────────────────────┼──────────┼────┼────┼────┤
                                 │ Denverton-v1          │ ✅       │ ✅ │    │    │
                                 ├───────────────────────┼──────────┼────┼────┼────┤
                                 │ Denverton-v2          │ ✅       │ ✅ │    │    │
                                 ├───────────────────────┼──────────┼────┼────┼────┤
                                 │ Denverton-v3          │ ✅       │ ✅ │    │    │
                                 ├───────────────────────┼──────────┼────┼────┼────┤
                                 │ Dhyana-v1             │ ✅       │ ✅ │ ✅ │    │
                                 ├───────────────────────┼──────────┼────┼────┼────┤
                                 │ Dhyana-v2             │ ✅       │ ✅ │ ✅ │    │
                                 ├───────────────────────┼──────────┼────┼────┼────┤
                                 │ EPYC-Genoa-v1         │ ✅       │ ✅ │ ✅ │ ✅ │
                                 ├───────────────────────┼──────────┼────┼────┼────┤
                                 │ EPYC-Milan-v1         │ ✅       │ ✅ │ ✅ │    │
                                 ├───────────────────────┼──────────┼────┼────┼────┤
                                 │ EPYC-Milan-v2         │ ✅       │ ✅ │ ✅ │    │
                                 ├───────────────────────┼──────────┼────┼────┼────┤
                                 │ EPYC-Rome-v1          │ ✅       │ ✅ │ ✅ │    │
                                 ├───────────────────────┼──────────┼────┼────┼────┤
                                 │ EPYC-Rome-v2          │ ✅       │ ✅ │ ✅ │    │
                                 ├───────────────────────┼──────────┼────┼────┼────┤
                                 │ EPYC-Rome-v3          │ ✅       │ ✅ │ ✅ │    │
                                 ├───────────────────────┼──────────┼────┼────┼────┤
                                 │ EPYC-Rome-v4          │ ✅       │ ✅ │ ✅ │    │
                                 ├───────────────────────┼──────────┼────┼────┼────┤
                                 │ EPYC-v1               │ ✅       │ ✅ │ ✅ │    │
                                 ├───────────────────────┼──────────┼────┼────┼────┤
                                 │ EPYC-v2               │ ✅       │ ✅ │ ✅ │    │
                                 ├───────────────────────┼──────────┼────┼────┼────┤
                                 │ EPYC-v3               │ ✅       │ ✅ │ ✅ │    │
                                 ├───────────────────────┼──────────┼────┼────┼────┤
                                 │ EPYC-v4               │ ✅       │ ✅ │ ✅ │    │
                                 ├───────────────────────┼──────────┼────┼────┼────┤
                                 │ GraniteRapids-v1      │ ✅       │ ✅ │ ✅ │ ✅ │
                                 ├───────────────────────┼──────────┼────┼────┼────┤
                                 │ Haswell-v1            │ ✅       │ ✅ │ ✅ │    │
                                 ├───────────────────────┼──────────┼────┼────┼────┤
                                 │ Haswell-v2            │ ✅       │ ✅ │ ✅ │    │
                                 ├───────────────────────┼──────────┼────┼────┼────┤
                                 │ Haswell-v3            │ ✅       │ ✅ │ ✅ │    │
                                 ├───────────────────────┼──────────┼────┼────┼────┤
                                 │ Haswell-v4            │ ✅       │ ✅ │ ✅ │    │
                                 ├───────────────────────┼──────────┼────┼────┼────┤
                                 │ Icelake-Server-v1     │ ✅       │ ✅ │ ✅ │ ✅ │
                                 ├───────────────────────┼──────────┼────┼────┼────┤
                                 │ Icelake-Server-v2     │ ✅       │ ✅ │ ✅ │ ✅ │
                                 ├───────────────────────┼──────────┼────┼────┼────┤
                                 │ Icelake-Server-v3     │ ✅       │ ✅ │ ✅ │ ✅ │
                                 ├───────────────────────┼──────────┼────┼────┼────┤
                                 │ Icelake-Server-v4     │ ✅       │ ✅ │ ✅ │ ✅ │
                                 ├───────────────────────┼──────────┼────┼────┼────┤
                                 │ Icelake-Server-v5     │ ✅       │ ✅ │ ✅ │ ✅ │
                                 ├───────────────────────┼──────────┼────┼────┼────┤
                                 │ Icelake-Server-v6     │ ✅       │ ✅ │ ✅ │ ✅ │
                                 ├───────────────────────┼──────────┼────┼────┼────┤
                                 │ IvyBridge-v1          │ ✅       │ ✅ │    │    │
                                 ├───────────────────────┼──────────┼────┼────┼────┤
                                 │ IvyBridge-v2          │ ✅       │ ✅ │    │    │
                                 ├───────────────────────┼──────────┼────┼────┼────┤
                                 │ KnightsMill-v1        │ ✅       │ ✅ │ ✅ │    │
                                 ├───────────────────────┼──────────┼────┼────┼────┤
                                 │ Nehalem-v1            │ ✅       │ ✅ │    │    │
                                 ├───────────────────────┼──────────┼────┼────┼────┤
                                 │ Nehalem-v2            │ ✅       │ ✅ │    │    │
                                 ├───────────────────────┼──────────┼────┼────┼────┤
                                 │ Opteron_G1-v1         │ ✅       │    │    │    │
                                 ├───────────────────────┼──────────┼────┼────┼────┤
                                 │ Opteron_G2-v1         │ ✅       │    │    │    │
                                 ├───────────────────────┼──────────┼────┼────┼────┤
                                 │ Opteron_G3-v1         │ ✅       │    │    │    │
                                 ├───────────────────────┼──────────┼────┼────┼────┤
                                 │ Opteron_G4-v1         │ ✅       │ ✅ │    │    │
                                 ├───────────────────────┼──────────┼────┼────┼────┤
                                 │ Opteron_G5-v1         │ ✅       │ ✅ │    │    │
                                 ├───────────────────────┼──────────┼────┼────┼────┤
                                 │ Penryn-v1             │ ✅       │    │    │    │
                                 ├───────────────────────┼──────────┼────┼────┼────┤
                                 │ SandyBridge-v1        │ ✅       │ ✅ │    │    │
                                 ├───────────────────────┼──────────┼────┼────┼────┤
                                 │ SandyBridge-v2        │ ✅       │ ✅ │    │    │
                                 ├───────────────────────┼──────────┼────┼────┼────┤
                                 │ SapphireRapids-v1     │ ✅       │ ✅ │ ✅ │ ✅ │
                                 ├───────────────────────┼──────────┼────┼────┼────┤
                                 │ SapphireRapids-v2     │ ✅       │ ✅ │ ✅ │ ✅ │
                                 ├───────────────────────┼──────────┼────┼────┼────┤
                                 │ Skylake-Client-v1     │ ✅       │ ✅ │ ✅ │    │
                                 ├───────────────────────┼──────────┼────┼────┼────┤
                                 │ Skylake-Client-v2     │ ✅       │ ✅ │ ✅ │    │
                                 ├───────────────────────┼──────────┼────┼────┼────┤
                                 │ Skylake-Client-v3     │ ✅       │ ✅ │ ✅ │    │
                                 ├───────────────────────┼──────────┼────┼────┼────┤
                                 │ Skylake-Client-v4     │ ✅       │ ✅ │ ✅ │    │
                                 ├───────────────────────┼──────────┼────┼────┼────┤
                                 │ Skylake-Server-v1     │ ✅       │ ✅ │ ✅ │ ✅ │
                                 ├───────────────────────┼──────────┼────┼────┼────┤
                                 │ Skylake-Server-v2     │ ✅       │ ✅ │ ✅ │ ✅ │
                                 ├───────────────────────┼──────────┼────┼────┼────┤
                                 │ Skylake-Server-v3     │ ✅       │ ✅ │ ✅ │ ✅ │
                                 ├───────────────────────┼──────────┼────┼────┼────┤
                                 │ Skylake-Server-v4     │ ✅       │ ✅ │ ✅ │ ✅ │
                                 ├───────────────────────┼──────────┼────┼────┼────┤
                                 │ Skylake-Server-v5     │ ✅       │ ✅ │ ✅ │ ✅ │
                                 ├───────────────────────┼──────────┼────┼────┼────┤
                                 │ Snowridge-v1          │ ✅       │ ✅ │    │    │
                                 ├───────────────────────┼──────────┼────┼────┼────┤
                                 │ Snowridge-v2          │ ✅       │ ✅ │    │    │
                                 ├───────────────────────┼──────────┼────┼────┼────┤
                                 │ Snowridge-v3          │ ✅       │ ✅ │    │    │
                                 ├───────────────────────┼──────────┼────┼────┼────┤
                                 │ Snowridge-v4          │ ✅       │ ✅ │    │    │
                                 ├───────────────────────┼──────────┼────┼────┼────┤
                                 │ Westmere-v1           │ ✅       │ ✅ │    │    │
                                 ├───────────────────────┼──────────┼────┼────┼────┤
                                 │ Westmere-v2           │ ✅       │ ✅ │    │    │
                                 ├───────────────────────┼──────────┼────┼────┼────┤
                                 │ athlon-v1             │          │    │    │    │
                                 ├───────────────────────┼──────────┼────┼────┼────┤
                                 │ core2duo-v1           │ ✅       │    │    │    │
                                 ├───────────────────────┼──────────┼────┼────┼────┤
                                 │ coreduo-v1            │          │    │    │    │
                                 ├───────────────────────┼──────────┼────┼────┼────┤
                                 │ kvm32-v1              │          │    │    │    │
                                 ├───────────────────────┼──────────┼────┼────┼────┤
                                 │ kvm64-v1              │ ✅       │    │    │    │
                                 ├───────────────────────┼──────────┼────┼────┼────┤
                                 │ n270-v1               │          │    │    │    │
                                 ├───────────────────────┼──────────┼────┼────┼────┤
                                 │ pentium-v1            │          │    │    │    │
                                 ├───────────────────────┼──────────┼────┼────┼────┤
                                 │ pentium2-v1           │          │    │    │    │
                                 ├───────────────────────┼──────────┼────┼────┼────┤
                                 │ pentium3-v1           │          │    │    │    │
                                 ├───────────────────────┼──────────┼────┼────┼────┤
                                 │ phenom-v1             │ ✅       │    │    │    │
                                 ├───────────────────────┼──────────┼────┼────┼────┤
                                 │ qemu32-v1             │          │    │    │    │
                                 ├───────────────────────┼──────────┼────┼────┼────┤
                                 │ qemu64-v1             │ ✅       │    │    │    │
                                 └───────────────────────┴──────────┴────┴────┴────┘

   <b>Preferred</b> <b>CPU</b> <b>models</b> <b>for</b> <b>Intel</b> <b>x86</b> <b>hosts</b>
       The following CPU models are preferred for  use  on  Intel  hosts.   Administrators  /  applications  are
       recommended  to  use  the  CPU model that matches the generation of the host CPUs in use. In a deployment
       with a mixture of host CPU models between machines, if live migration compatibility is required, use  the
       newest CPU model that is compatible across all desired hosts.

       <b>ClearwaterForest</b>
              Intel Xeon Processor (ClearwaterForest, 2025)

       <b>SierraForest,</b> <b>SierraForest-v2</b>
              Intel   Xeon   Processor   (SierraForest,  2024),  SierraForest-v2  mitigates  the  GDS  and  RFDS
              vulnerabilities with stepping 3.

       <b>GraniteRapids,</b> <b>GraniteRapids-v2</b>
              Intel Xeon Processor (GraniteRapids, 2024)

       <b>Cascadelake-Server,</b> <b>Cascadelake-Server-noTSX</b>
              Intel Xeon Processor (Cascade Lake, 2019), with "stepping" levels 6 or 7 only.  (The Cascade  Lake
              Xeon processor with <u>stepping</u> <u>5</u> <u>is</u> <u>vulnerable</u> <u>to</u> <u>MDS</u> <u>variants</u>.)

       <b>Skylake-Server,</b> <b>Skylake-Server-IBRS,</b> <b>Skylake-Server-IBRS-noTSX</b>
              Intel Xeon Processor (Skylake, 2016)

       <b>Skylake-Client,</b> <b>Skylake-Client-IBRS,</b> <b>Skylake-Client-noTSX-IBRS}</b>
              Intel Core Processor (Skylake, 2015)

       <b>Broadwell,</b> <b>Broadwell-IBRS,</b> <b>Broadwell-noTSX,</b> <b>Broadwell-noTSX-IBRS</b>
              Intel Core Processor (Broadwell, 2014)

       <b>Haswell,</b> <b>Haswell-IBRS,</b> <b>Haswell-noTSX,</b> <b>Haswell-noTSX-IBRS</b>
              Intel Core Processor (Haswell, 2013)

       <b>IvyBridge,</b> <b>IvyBridge-IBR</b>
              Intel Xeon E3-12xx v2 (Ivy Bridge, 2012)

       <b>SandyBridge,</b> <b>SandyBridge-IBRS</b>
              Intel Xeon E312xx (Sandy Bridge, 2011)

       <b>Westmere,</b> <b>Westmere-IBRS</b>
              Westmere E56xx/L56xx/X56xx (Nehalem-C, 2010)

       <b>Nehalem,</b> <b>Nehalem-IBRS</b>
              Intel Core i7 9xx (Nehalem Class Core i7, 2008)

       <b>Penryn</b> Intel Core 2 Duo P9xxx (Penryn Class Core 2, 2007)

       <b>Conroe</b> Intel Celeron_4x0 (Conroe/Merom Class Core 2, 2006)

   <b>Important</b> <b>CPU</b> <b>features</b> <b>for</b> <b>Intel</b> <b>x86</b> <b>hosts</b>
       The  following  are  important CPU features that should be used on Intel x86 hosts, when available in the
       host CPU. Some of them require explicit configuration to enable, as they are not included by  default  in
       some,  or  all,  of  the  named CPU models listed above. In general all of these features are included if
       using "Host passthrough" or "Host model".

       <b>pcid</b>   Recommended to mitigate the cost of the Meltdown (CVE-2017-5754) fix.

              Included by default in Haswell, Broadwell &amp; Skylake Intel CPU models.

              Should be explicitly turned on for Westmere, SandyBridge, and IvyBridge  Intel  CPU  models.  Note
              that some desktop/mobile Westmere CPUs cannot support this feature.

       <b>spec-ctrl</b>
              Required to enable the Spectre v2 (CVE-2017-5715) fix.

              Included by default in Intel CPU models with -IBRS suffix.

              Must be explicitly turned on for Intel CPU models without -IBRS suffix.

              Requires the host CPU microcode to support this feature before it can be used for guest CPUs.

       <b>stibp</b>  Required to enable stronger Spectre v2 (CVE-2017-5715) fixes in some operating systems.

              Must be explicitly turned on for all Intel CPU models.

              Requires the host CPU microcode to support this feature before it can be used for guest CPUs.

       <b>ssbd</b>   Required to enable the CVE-2018-3639 fix.

              Not included by default in any Intel CPU model.

              Must be explicitly turned on for all Intel CPU models.

              Requires the host CPU microcode to support this feature before it can be used for guest CPUs.

       <b>pdpe1gb</b>
              Recommended to allow guest OS to use 1GB size pages.

              Not included by default in any Intel CPU model.

              Should be explicitly turned on for all Intel CPU models.

              Note that not all CPU hardware will support this feature.

       <b>md-clear</b>
              Required  to  confirm  the  MDS  (CVE-2018-12126,  CVE-2018-12127, CVE-2018-12130, CVE-2019-11091)
              fixes.

              Not included by default in any Intel CPU model.

              Must be explicitly turned on for all Intel CPU models.

              Requires the host CPU microcode to support this feature before it can be used for guest CPUs.

       <b>mds-no</b> Recommended to inform the guest OS that the host is <u>not</u> vulnerable to  any  of  the  MDS  variants
              ([MFBDS] CVE-2018-12130, [MLPDS] CVE-2018-12127, [MSBDS] CVE-2018-12126).

              This  is  an  MSR (Model-Specific Register) feature rather than a CPUID feature, therefore it will
              not appear in the Linux <b><a href="file:/proc/cpuinfo">/proc/cpuinfo</a></b> in the host or guest.  Instead, the host kernel uses  it  to
              populate the MDS vulnerability file in <b>sysfs</b>.

              So  it  should  only  be  enabled  for  VMs  if  the  host  reports  @code{Not  affected}  in  the
              <b><a href="file:/sys/devices/system/cpu/vulnerabilities/mds">/sys/devices/system/cpu/vulnerabilities/mds</a></b> file.

       <b>taa-no</b> Recommended to  inform  the  guest  that  the  host  is  <b>not</b>  vulnerable  to  CVE-2019-11135,  TSX
              Asynchronous Abort (TAA).

              This  is also an MSR feature, therefore it does not show up in the Linux <b><a href="file:/proc/cpuinfo">/proc/cpuinfo</a></b> in the host
              or guest.

              It  should  only  be   enabled   for   VMs   if   the   host   reports   <b>Not</b>   <b>affected</b>   in   the
              <b><a href="file:/sys/devices/system/cpu/vulnerabilities/tsx_async_abort">/sys/devices/system/cpu/vulnerabilities/tsx_async_abort</a></b> file.

       <b>tsx-ctrl</b>
              Recommended  to  inform the guest that it can disable the Intel TSX (Transactional Synchronization
              Extensions) feature; or, if the processor  is  vulnerable,  use  the  Intel  VERW  instruction  (a
              processor-level  instruction  that  performs  checks on memory access) as a mitigation for the TAA
              vulnerability.  (For details, refer to Intel's <u>deep</u> <u>dive</u> <u>into</u> <u>MDS</u>.)

              Expose this to the guest OS if and only if: (a) the host has TSX enabled; <u>and</u> (b)  the  guest  has
              <b>rtm</b> CPU flag enabled.

              By disabling TSX, KVM-based guests can avoid paying the price of mitigating TSX-based attacks.

              Note  that  <b>tsx-ctrl</b>  is  also  an  MSR  feature,  therefore  it  does  not  show  up in the Linux
              <b><a href="file:/proc/cpuinfo">/proc/cpuinfo</a></b> in the host or guest.

              To validate that Intel TSX is indeed disabled for the guest, there are two ways: (a) check for the
              <u>absence</u>     of     <b>rtm</b>      in      the      guest's      <b><a href="file:/proc/cpuinfo">/proc/cpuinfo</a></b>;      or      (b)      the
              <b><a href="file:/sys/devices/system/cpu/vulnerabilities/tsx_async_abort">/sys/devices/system/cpu/vulnerabilities/tsx_async_abort</a></b>   file   in   the   guest   should  report
              <b>Mitigation:</b> <b>TSX</b> <b>disabled</b>.

       <b>bhi-no</b> Recommended to inform the guest that the host is <b>not</b> vulnerable to CVE-2022-0001,  Branch  History
              Injection (BHI).

              This  is also an MSR feature, therefore it does not show up in the Linux <b><a href="file:/proc/cpuinfo">/proc/cpuinfo</a></b> in the host
              or guest.

              It  should  only  be  enabled  for  VMs  if  the  host  reports   <b>BHI:</b>   <b>Not</b>   <b>affected</b>   in   the
              <b><a href="file:/sys/devices/system/cpu/vulnerabilities/spectre_v2">/sys/devices/system/cpu/vulnerabilities/spectre_v2</a></b> file.

       <b>gds-no</b> Recommended  to  inform  the  guest that the host is <b>not</b> vulnerable to CVE-2022-40982, Gather Data
              Sampling (GDS).

              This is also an MSR feature, therefore it does not show up in the Linux <b><a href="file:/proc/cpuinfo">/proc/cpuinfo</a></b> in the  host
              or guest.

              It   should   only   be   enabled   for   VMs   if   the   host   reports   <b>Not</b>  <b>affected</b>  in  the
              <b><a href="file:/sys/devices/system/cpu/vulnerabilities/gather_data_sampling">/sys/devices/system/cpu/vulnerabilities/gather_data_sampling</a></b> file.

       <b>rfds-no</b>
              Recommended to inform the guest that the host is <b>not</b> vulnerable to CVE-2023-28746,  Register  File
              Data Sampling (RFDS).

              This  is also an MSR feature, therefore it does not show up in the Linux <b><a href="file:/proc/cpuinfo">/proc/cpuinfo</a></b> in the host
              or guest.

              It  should  only  be   enabled   for   VMs   if   the   host   reports   <b>Not</b>   <b>affected</b>   in   the
              <b><a href="file:/sys/devices/system/cpu/vulnerabilities/reg_file_data_sampling">/sys/devices/system/cpu/vulnerabilities/reg_file_data_sampling</a></b> file.

   <b>Preferred</b> <b>CPU</b> <b>models</b> <b>for</b> <b>AMD</b> <b>x86</b> <b>hosts</b>
       The  following  CPU  models  are  preferred  for  use  on  AMD  hosts.  Administrators / applications are
       recommended to use the CPU model that matches the generation of the host CPUs in  use.  In  a  deployment
       with  a mixture of host CPU models between machines, if live migration compatibility is required, use the
       newest CPU model that is compatible across all desired hosts.

       <b>EPYC,</b> <b>EPYC-IBPB</b>
              AMD EPYC Processor (2017)

       <b>Opteron_G5</b>
              AMD Opteron 63xx class CPU (2012)

       <b>Opteron_G4</b>
              AMD Opteron 62xx class CPU (2011)

       <b>Opteron_G3</b>
              AMD Opteron 23xx (Gen 3 Class Opteron, 2009)

       <b>Opteron_G2</b>
              AMD Opteron 22xx (Gen 2 Class Opteron, 2006)

       <b>Opteron_G1</b>
              AMD Opteron 240 (Gen 1 Class Opteron, 2004)

   <b>Important</b> <b>CPU</b> <b>features</b> <b>for</b> <b>AMD</b> <b>x86</b> <b>hosts</b>
       The following are important CPU features that should be used on AMD x86 hosts, when available in the host
       CPU. Some of them require explicit configuration to enable, as they are not included by default in  some,
       or  all,  of  the  named  CPU models listed above. In general all of these features are included if using
       "Host passthrough" or "Host model".

       <b>ibpb</b>   Required to enable the Spectre v2 (CVE-2017-5715) fix.

              Included by default in AMD CPU models with -IBPB suffix.

              Must be explicitly turned on for AMD CPU models without -IBPB suffix.

              Requires the host CPU microcode to support this feature before it can be used for guest CPUs.

       <b>stibp</b>  Required to enable stronger Spectre v2 (CVE-2017-5715) fixes in some operating systems.

              Must be explicitly turned on for all AMD CPU models.

              Requires the host CPU microcode to support this feature before it can be used for guest CPUs.

       <b>virt-ssbd</b>
              Required to enable the CVE-2018-3639 fix

              Not included by default in any AMD CPU model.

              Must be explicitly turned on for all AMD CPU models.

              This should be provided  to  guests,  even  if  amd-ssbd  is  also  provided,  for  maximum  guest
              compatibility.

              Note  for  some  QEMU / libvirt versions, this must be force enabled when when using "Host model",
              because this is a virtual feature that doesn't exist in the physical host CPUs.

       <b>amd-ssbd</b>
              Required to enable the CVE-2018-3639 fix

              Not included by default in any AMD CPU model.

              Must be explicitly turned on for all AMD CPU models.

              This provides higher performance than <b>virt-ssbd</b> so should be exposed to guests whenever  available
              in  the  host.  <b>virt-ssbd</b>  should none the less also be exposed for maximum guest compatibility as
              some kernels only know about <b>virt-ssbd</b>.

       <b>amd-no-ssb</b>
              Recommended to indicate the host is not vulnerable CVE-2018-3639

              Not included by default in any AMD CPU model.

              Future hardware generations of CPU will not be vulnerable to CVE-2018-3639,  and  thus  the  guest
              should  be  told not to enable its mitigations, by exposing amd-no-ssb. This is mutually exclusive
              with virt-ssbd and amd-ssbd.

       <b>pdpe1gb</b>
              Recommended to allow guest OS to use 1GB size pages

              Not included by default in any AMD CPU model.

              Should be explicitly turned on for all AMD CPU models.

              Note that not all CPU hardware will support this feature.

   <b>Default</b> <b>x86</b> <b>CPU</b> <b>models</b>
       The default QEMU CPU models are designed such that they can run on all hosts.  If an application does not
       wish to do perform any host compatibility checks before launching guests, the default  is  guaranteed  to
       work.

       The  default  CPU  models  will, however, leave the guest OS vulnerable to various CPU hardware flaws, so
       their use is strongly discouraged.  Applications should follow the earlier guidance to setup a better CPU
       configuration, with host passthrough recommended if live migration is not needed.

       <b>qemu32,</b> <b>qemu64</b>
              QEMU Virtual CPU version 2.5+ (32 &amp; 64 bit variants)

       <b>qemu64</b> is used for x86_64 guests and <b>qemu32</b> is used for i686 guests, when no <b>-cpu</b> argument  is  given  to
       QEMU, or no <b>&lt;cpu&gt;</b> is provided in libvirt XML.

   <b>Other</b> <b>non-recommended</b> <b>x86</b> <b>CPUs</b>
       The  following  CPUs  models  are  compatible  with  most  AMD  and  Intel  x86 hosts, but their usage is
       discouraged, as they expose a very limited featureset, which prevents guests having optimal performance.

       <b>kvm32,</b> <b>kvm64</b>
              Common KVM processor (32 &amp; 64 bit variants).

              Legacy models just for historical compatibility with ancient QEMU versions.

       <b>486,</b> <b>athlon,</b> <b>phenom,</b> <b>coreduo,</b> <b>core2duo,</b> <b>n270,</b> <b>pentium,</b> <b>pentium2,</b> <b>pentium3</b>
              Various very  old  x86  CPU  models,  mostly  predating  the  introduction  of  hardware  assisted
              virtualization, that should thus not be required for running virtual machines.

   <b>Syntax</b> <b>for</b> <b>configuring</b> <b>CPU</b> <b>models</b>
       The  examples  below illustrate the approach to configuring the various CPU models / features in QEMU and
       libvirt.

   <b>QEMU</b> <b>command</b> <b>line</b>
       Host passthrough:

          qemu-system-x86_64 -cpu host

       Host passthrough with feature customization:

          qemu-system-x86_64 -cpu host,vmx=off,...

       Named CPU models:

          qemu-system-x86_64 -cpu Westmere

       Named CPU models with feature customization:

          qemu-system-x86_64 -cpu Westmere,pcid=on,...

   <b>Libvirt</b> <b>guest</b> <b>XML</b>
       Host passthrough:

          &lt;cpu mode='host-passthrough'/&gt;

       Host passthrough with feature customization:

          &lt;cpu mode='host-passthrough'&gt;
              &lt;feature name="vmx" policy="disable"/&gt;
              ...
          &lt;/cpu&gt;

       Host model:

          &lt;cpu mode='host-model'/&gt;

       Host model with feature customization:

          &lt;cpu mode='host-model'&gt;
              &lt;feature name="vmx" policy="disable"/&gt;
              ...
          &lt;/cpu&gt;

       Named model:

          &lt;cpu mode='custom'&gt;
              &lt;model name="Westmere"/&gt;
          &lt;/cpu&gt;

       Named model with feature customization:

          &lt;cpu mode='custom'&gt;
              &lt;model name="Westmere"/&gt;
              &lt;feature name="pcid" policy="require"/&gt;
              ...
          &lt;/cpu&gt;

   <b>Supported</b> <b>CPU</b> <b>model</b> <b>configurations</b> <b>on</b> <b>MIPS</b> <b>hosts</b>
       QEMU supports variety of MIPS CPU models:

   <b>Supported</b> <b>CPU</b> <b>models</b> <b>for</b> <b>MIPS32</b> <b>hosts</b>
       The following CPU models are supported for use  on  MIPS32  hosts.   Administrators  /  applications  are
       recommended  to  use  the  CPU model that matches the generation of the host CPUs in use. In a deployment
       with a mixture of host CPU models between machines, if live migration compatibility is required, use  the
       newest CPU model that is compatible across all desired hosts.

       <b>mips32r6-generic</b>
              MIPS32 Processor (Release 6, 2015)

       <b>P5600</b>  MIPS32 Processor (P5600, 2014)

       <b>M14K,</b> <b>M14Kc</b>
              MIPS32 Processor (M14K, 2009)

       <b>74Kf</b>   MIPS32 Processor (74K, 2007)

       <b>34Kf</b>   MIPS32 Processor (34K, 2006)

       <b>24Kc,</b> <b>24KEc,</b> <b>24Kf</b>
              MIPS32 Processor (24K, 2003)

       <b>4Kc,</b> <b>4Km,</b> <b>4KEcR1,</b> <b>4KEmR1,</b> <b>4KEc,</b> <b>4KEm</b>
              MIPS32 Processor (4K, 1999)

   <b>Supported</b> <b>CPU</b> <b>models</b> <b>for</b> <b>MIPS64</b> <b>hosts</b>
       The  following  CPU  models  are  supported  for  use on MIPS64 hosts.  Administrators / applications are
       recommended to use the CPU model that matches the generation of the host CPUs in  use.  In  a  deployment
       with  a mixture of host CPU models between machines, if live migration compatibility is required, use the
       newest CPU model that is compatible across all desired hosts.

       <b>I6400</b>  MIPS64 Processor (Release 6, 2014)

       <b>Loongson-2E</b>
              MIPS64 Processor (Loongson 2, 2006)

       <b>Loongson-2F</b>
              MIPS64 Processor (Loongson 2, 2008)

       <b>Loongson-3A1000</b>
              MIPS64 Processor (Loongson 3, 2010)

       <b>Loongson-3A4000</b>
              MIPS64 Processor (Loongson 3, 2018)

       <b>mips64dspr2</b>
              MIPS64 Processor (Release 2, 2006)

       <b>MIPS64R2-generic,</b> <b>5KEc,</b> <b>5KEf</b>
              MIPS64 Processor (Release 2, 2002)

       <b>20Kc</b>   MIPS64 Processor (20K, 2000

       <b>5Kc,</b> <b>5Kf</b>
              MIPS64 Processor (5K, 1999)

       <b>VR5432</b> MIPS64 Processor (VR, 1998)

       <b>R4000</b>  MIPS64 Processor (MIPS III, 1991)

   <b>Supported</b> <b>CPU</b> <b>models</b> <b>for</b> <b>nanoMIPS</b> <b>hosts</b>
       The following CPU models are supported for use on nanoMIPS  hosts.   Administrators  /  applications  are
       recommended  to  use  the  CPU model that matches the generation of the host CPUs in use. In a deployment
       with a mixture of host CPU models between machines, if live migration compatibility is required, use  the
       newest CPU model that is compatible across all desired hosts.

       <b>I7200</b>  MIPS I7200 (nanoMIPS, 2018)

   <b>Preferred</b> <b>CPU</b> <b>models</b> <b>for</b> <b>MIPS</b> <b>hosts</b>
       The following CPU models are preferred for use on different MIPS hosts:

       <b>MIPS</b> <b>III</b>
              R4000

       <b>MIPS32R2</b>
              34Kf

       <b>MIPS64R6</b>
              I6400

       <b>nanoMIPS</b>
              I7200

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       The HTML documentation of QEMU for more precise information and Linux user mode emulator invocation.

</pre><h4><b>AUTHOR</b></h4><pre>
       The QEMU Project developers

</pre><h4><b>COPYRIGHT</b></h4><pre>
       2025, The QEMU Project Developers

10.0.2                                            Jul 02, 2025                                <u><a href="../man7/QEMU-CPU-MODELS.7.html">QEMU-CPU-MODELS</a></u>(7)
</pre>
 </div>
</div></section>
</div>
</body>
</html>