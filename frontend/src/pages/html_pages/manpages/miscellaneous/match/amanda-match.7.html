<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>amanda-match - Common Amanda Match Expression</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/amanda-common">amanda-common_3.5.4-2_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       amanda-match - Common Amanda Match Expression

</pre><h4><b>DESCRIPTION</b></h4><pre>
       Several Amanda commands allow the user to specify dumps using "match expressions". This manual page
       describes the syntax of these expressions.

       In some places, only certain match expressions are allowed. However, several commands take a dump
       specification ("dumpspec") consisting of a sequence of several expressions intended to match particular
       dumps in the catalog. Other applications take a DLE specification which indicates a set of DLEs to be
       operated on. These formats are described below.

       An expression can be disabled be preceding it with the '=' character, in that case, an exact match is
       used.

       Many program have an '--exact-match' argument that disable expression and exact match are used.

</pre><h4><b>HOST</b> <b>&amp;</b> <b>DISK</b> <b>EXPRESSIONS</b></h4><pre>
       The hosts and disks match by word. Each word is a glob expression, and words are separated by the
       character '.' for host expressions and '/' for disk expressions. You can anchor the expression on the
       left with a '^' or on the right with a '$'. The matcher is case insensitive for hosts but case sensitive
       for disks. A match succeeds if all words in the expression match contiguous words in the host or disk.

       If the disk is a UNC ("\\windows\share") then all '\' are converted to '/' before the match. Using '\' is
       complicated because of the extra quoting required by the shell and amanda. It's easier to use '/' because
       it requires less quoting ("//windows/share")

       The special characters follow. Note that the shell interprets some of these characters, so when used on
       the command line, they must be escaped appropriately for the shell.

       dot (.)
           word separator for a host

       /
           word separator for a disk

       \
           word separator for a UNC disk

       ^
           anchor at left of word

       $
           anchor at right of word

       ?
           match exactly one character except the separator

       *
           match zero or more characters except the separator

       **
           match zero or more characters including the separator

       [...]
           match exactly one of the characters enclosed by the brackets.

       [!...]
           match exactly one character that is not enclosed by the brackets.

   <b>Examples</b>
       hosta
           Will match hosta, foo.hosta.org, and hoSTA.dOMAIna.ORG but not hostb.

       host
           Will match host but not hosta.

       host?
           Will match hosta and hostb, but not host or hostabc.

       ho*na
           Will match hoina but not ho.aina.org.

       ho**na
           Will match hoina and ho.aina.org.

       ^hosta
           Will match hosta but not foo.hosta.org.

       sda*
           Will match /dev/sda1 and /dev/sda12.

       <a href="file:/opt">/opt</a>
           Will match the disk opt but not the host opt.

       (note dots:) .opt.
           Will match the host opt but not the disk opt.

       /
           Will match the disk / but no other disk.

       <a href="file:/usr">/usr</a>
           Will match the disks <a href="file:/usr">/usr</a> and /usr/local.

       <a href="file:/usr">/usr</a>$
           Will match the disks <a href="file:/usr">/usr</a> but not /usr/local.

       share
           Will match the disks \\windows1\share and \\windows2\share.

       share*
           Will match the disks \\windows\share1 and \\windows\share2.

       //windows/share
           Will match the disk \\windows\share.

</pre><h4><b>DATESTAMP</b> <b>EXPRESSIONS</b></h4><pre>
       A datestamp expression is either a prefix of the datestamp, or a range expression (separated by '-')
       matching several prefixes. A leading ^ is removed, while arailing $ will force an exact match.

   <b>Examples</b>
       20001212-14
           match all dates beginning with 20001212, 20001213 or 20001214

       20001212-4
           same as previous

       20001212-24
           match all dates between 20001212 and 20001224

       2000121
           match all dates that start with 2000121 (20001210-20001219)

       2
           match all dates that start with 2 (20000101-29991231)

       2000-10
           match all dates between 20000101-20101231

       200010$
           match only 200010

</pre><h4><b>LEVEL</b> <b>EXPRESSIONS</b></h4><pre>
       Level expressions are either prefix matches e.g., "1", which matches "1", "10", and "123", absolute
       matches e.g., "3$" which only matches "3", or a range e.g., "3-5" which only matches levels 3, 4, and 5.

</pre><h4><b>DUMP</b> <b>SPECIFICATIONS</b></h4><pre>
       A dump specification is used to select one or more dumps from the catalog. It consists of a sequence of
       match expressions in the order host, disk, datestamp, and level. Note that some commands do not take a
       level argument, out of historical accident. Note, too, that the datestamp expression matches the time
       that the dump was made on the Amanda client, rather than the date it was moved to tape.

   <b>Examples</b>
       amtool MyConfig ^vpdesktop$
           all dumps of host "vpdesktop"

       amtool MyConfig '*' /var/stage
           All dumps of /var/stage on any host

       amtool MyConfig www1 <a href="file:/var/www">/var/www</a> '*' www2 <a href="file:/var/www">/var/www</a> '*'
           All dumps of <a href="file:/var/www">/var/www</a> on www1 and www2 (assuming amtool does not require a level argument)

</pre><h4><b>DLE</b> <b>SPECIFICATIONS</b></h4><pre>
       A DLE specification is used to select one or more DLEs. It consists of a sequence of match expressions.
       The first must be a host, and subsequent expressions will be experimentally matched against both hosts
       and disks in the <b><a href="../man5/disklist.5.html">disklist</a></b>(5), preferring hosts. This dynamic matching process can lead to odd behavior in
       extreme cases (e.g., where a disk and a host have the same name), but for most uses does exactly what is
       expected.

   <b>Examples</b>
       amtool MyConfig vpdesktop /home/anderson
           /home/anderson on host vpdesktop

       amtool MyConfig '*' ^<a href="file:/etc">/etc</a> '*' ^<a href="file:/var">/var</a>
           All DLEs matching ^<a href="file:/var">/var</a> or ^<a href="file:/etc">/etc</a> on any host

       amtool MyConfig web1 www web2 www
           If no host matches "www", all DLEs matching www on hosts web1 and web2. If a host matches "www", then
           all DLEs on hosts www, web1, and web2.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man8/amanda.8.html">amanda</a></b>(8), <b><a href="../man8/amanda.8.html">amanda</a></b>(8), <b><a href="../man8/amfetchdump.8.html">amfetchdump</a></b>(8), <b><a href="../man8/amrestore.8.html">amrestore</a></b>(8), <b><a href="../man8/amadmin.8.html">amadmin</a></b>(8), <b><a href="../man8/amvault.8.html">amvault</a></b>(8), <b><a href="../man8/amflush.8.html">amflush</a></b>(8), <b><a href="../man8/amdump.8.html">amdump</a></b>(8)

       The Amanda Wiki: : <a href="http://wiki.zmanda.com/">http://wiki.zmanda.com/</a>

</pre><h4><b>AUTHOR</b></h4><pre>
       <b>Dustin</b> <b>J.</b> <b>Mitchell</b> &lt;<a href="mailto:dustin@zmanda.com">dustin@zmanda.com</a>&gt;
           Zmanda, Inc. (<a href="http://www.zmanda.com">http://www.zmanda.com</a>)

Amanda 3.5.4                                       01/25/2025                                    <u><a href="../man7/AMANDA-MATCH.7.html">AMANDA-MATCH</a></u>(7)
</pre>
 </div>
</div></section>
</div>
</body>
</html>