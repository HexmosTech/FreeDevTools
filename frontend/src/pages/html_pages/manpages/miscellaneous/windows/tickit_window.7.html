<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TickitWindow - a window for drawing operations and input</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libtickit-dev">libtickit-dev_0.4.3-2_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       TickitWindow - a window for drawing operations and input

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>#include</b> <b>&lt;tickit.h&gt;</b>

       <b>typedef</b> <b>struct</b> <u>TickitWindow</u><b>;</b>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       A  <b>TickitWindow</b>  instance  represents a rectangular region of the screen. Windows are constructed as sub-
       divisions of existing windows, ultimately coming from a special "root  window"  is  that  represents  the
       entire  area  of the terminal. Each window allows drawing to its region of the screen by responding to an
       event that signifies damage to that area that needs to be repainted, and has other events that  represent
       user input.

       A window occupies a given size and position within its parent (apart from the root window, which occupies
       the entire terminal). Conceptually a window can be placed outside of the bounds of its parent, though any
       drawing  output  is  clipped  to  the  parent (and its parent, hierarchially, all the way to the root). A
       window may be hidden, at which point none of its output affects the screen, nor  will  it  receive  input
       events.

       The  child  windows  of  a given parent form an ordered list, the order of which can be modified. Drawing
       operations on a window only take effect if there are no  higher  siblings  that  would  obscure  it.  The
       stacking order also affects the way that windows receive mouse events, with higher-level window shielding
       lower ones from receiving an event at a given cell.

       Each  window  tracks  whether  a single child window has the "input focus"; this is the child window that
       will be informed of keyboard input events. The innermost window following the focus chain gets the  first
       chance to react to the event, followed by successively outer ones if it remains unhandled.

       Newly-exposed areas of windows are tracked by the root window, ready to be rendered by expose events. The
       root  window  itself  will  expose  new  areas  caused by terminal resizes, and the entire root window is
       entirely exposed initially, to allow the application to run its initial rendering on startup. Each window
       stores a <b>TickitPen</b> instance that can be used to apply a default style to any  rendering  operations  that
       take place within it or its children.

</pre><h4><b>FUNCTIONS</b></h4><pre>
       A  new  top-level  <b>TickitWindow</b>  instance  to  represent  the  entire  terminal  is  created  by  calling
       <b><a href="../man3/tickit_get_rootwin.3.html">tickit_get_rootwin</a></b>(3)  on  the  toplevel  <b>Tickit</b>  instance,  further  sub-divided  into   regions   using
       <b><a href="../man3/tickit_window_new.3.html">tickit_window_new</a></b>(3).  A  window  instance stores a reference count to make it easier for applications to
       manage the lifetime of windows. A new window starts with a count of one, and it  can  be  adjusted  using
       <b><a href="../man3/tickit_window_ref.3.html">tickit_window_ref</a></b>(3) and <b><a href="../man3/tickit_window_unref.3.html">tickit_window_unref</a></b>(3). When the count reaches zero the instance is destroyed. A
       window can also be immediately removed from its parent with <b><a href="../man3/tickit_window_close.3.html">tickit_window_close</a></b>(3).

       The  ancestry  of  a  window  can be queried using <b><a href="../man3/tickit_window_parent.3.html">tickit_window_parent</a></b>(3) and <b><a href="../man3/tickit_window_root.3.html">tickit_window_root</a></b>(3). The
       stored child windows can be queried by using <b><a href="../man3/tickit_window_children.3.html">tickit_window_children</a></b>(3) and <b><a href="../man3/tickit_window_get_children.3.html">tickit_window_get_children</a></b>(3).
       The backing terminal can be queried with <b><a href="../man3/tickit_window_get_term.3.html">tickit_window_get_term</a></b>(3).

       The stacking order of a window  among  its  siblings  can  be  controlled  using  <b><a href="../man3/tickit_window_raise.3.html">tickit_window_raise</a></b>(3),
       <b><a href="../man3/tickit_window_raise_to_front.3.html">tickit_window_raise_to_front</a></b>(3),    <b><a href="../man3/tickit_window_lower.3.html">tickit_window_lower</a></b>(3)    and   <b><a href="../man3/tickit_window_lower_to_back.3.html">tickit_window_lower_to_back</a></b>(3).   Its
       visibility can be controlled using <b><a href="../man3/tickit_window_show.3.html">tickit_window_show</a></b>(3) and  <b><a href="../man3/tickit_window_hide.3.html">tickit_window_hide</a></b>(3),  and  queried  using
       <b><a href="../man3/tickit_window_is_visible.3.html">tickit_window_is_visible</a></b>(3).

       The  position of a window within its parent can be queried using <b><a href="../man3/tickit_window_get_geometry.3.html">tickit_window_get_geometry</a></b>(3) and within
       the  terminal  as  a  whole  using   <b><a href="../man3/tickit_window_get_abs_geometry.3.html">tickit_window_get_abs_geometry</a></b>(3).   It   can   be   resized   using
       <b><a href="../man3/tickit_window_resize.3.html">tickit_window_resize</a></b>(3),      moved      using     <b><a href="../man3/tickit_window_reposition.3.html">tickit_window_reposition</a></b>(3),     or     both     using
       <b><a href="../man3/tickit_window_set_geometry.3.html">tickit_window_set_geometry</a></b>(3).

       A window can be given the input focus using <b><a href="../man3/tickit_window_take_focus.3.html">tickit_window_take_focus</a></b>(3), and can be queried to see if  it
       has  the  focus  using  <b><a href="../man3/tickit_window_is_focused.3.html">tickit_window_is_focused</a></b>(3).  Windows  normally  only  invoke  focus events about
       themselves,  but  can  be  made  to  invoke  events   about   children   windows   as   well   by   using
       <b><a href="../man3/tickit_window_set_focus_child_notify.3.html">tickit_window_set_focus_child_notify</a></b>(3).  When  a  window  has  the  input  focus,  the properties of the
       terminal      cursor       can       be       set       using       <b><a href="../man3/tickit_window_set_cursor_position.3.html">tickit_window_set_cursor_position</a></b>(3),
       <b><a href="../man3/tickit_window_set_cursor_visible.3.html">tickit_window_set_cursor_visible</a></b>(3) and <b><a href="../man3/tickit_window_set_cursor_shape.3.html">tickit_window_set_cursor_shape</a></b>(3).

       The  <b>TickitPen</b>  instance  associated  with  each  window  for  drawing  purposes  can  be  obtained using
       <b><a href="../man3/tickit_window_get_pen.3.html">tickit_window_get_pen</a></b>(3), and replaced using <b><a href="../man3/tickit_window_set_pen.3.html">tickit_window_set_pen</a></b>(3). This pen  is  used  during  expose
       events,  which  can  be requested using <b><a href="../man3/tickit_window_expose.3.html">tickit_window_expose</a></b>(3). Pending expose events and other activity
       are performed by calling <b><a href="../man3/tickit_window_flush.3.html">tickit_window_flush</a></b>(3) on the root window instance.

       While most drawing operations are performed in a deferred manner using expose events,  scrolling  of  the
       terminal  content can be directly requested using <b><a href="../man3/tickit_window_scrollrect.3.html">tickit_window_scrollrect</a></b>(3), <b><a href="../man3/tickit_window_scroll.3.html">tickit_window_scroll</a></b>(3) or
       <b><a href="../man3/tickit_window_scroll_with_children.3.html">tickit_window_scroll_with_children</a></b>(3).

</pre><h4><b>EVENTS</b></h4><pre>
       A window instance stores a list of event handlers. Each event handler is associated with one  event  type
       and  stores  a  function  pointer,  and  an arbitrary pointer containing user data. Event handlers may be
       installed using <b><a href="../man3/tickit_window_bind_event.3.html">tickit_window_bind_event</a></b>(3) and removed using <b><a href="../man3/tickit_window_unbind_event_id.3.html">tickit_window_unbind_event_id</a></b>(3).

       The event types recognised are:

       <b>TICKIT_WINDOW_ON_DESTROY</b>
              The window instance is being destroyed.

       <b>TICKIT_WINDOW_ON_KEY</b>
              A key has been pressed on the keyboard while this window has input  focus  (or  is  set  to  steal
              input).  <u>info</u>  will  point to a structure defined the same as the <b>TICKIT_EV_KEY</b> event described in
              <b><a href="../man7/tickit_term.7.html">tickit_term</a></b>(7).

       <b>TICKIT_WINDOW_ON_MOUSE</b>
              A mouse button has been pressed or released, the mouse cursor moved while dragging  a  button,  or
              the wheel has been scrolled while the cursor is within the bounds of this window (or the window is
              set to steal input), or certain kinds of mouse dragging behaviour have happened.

              <u>info</u>  will  point  to  a  structure  defined  the  same  as the <b>TICKIT_EV_MOUSE</b> event described in
              <b><a href="../man7/tickit_term.7.html">tickit_term</a></b>(7), except that the position given by the <u>line</u> and <u>col</u> fields will be relative to  the
              window, rather than the terminal as a whole.

              In  addition  to  the  basic  mouse events found at the terminal layer, there are a few additional
              kinds of events that occur during mouse dragging. These give information about mouse drag  motions
              within a window or between different windows.

              <b>TICKIT_MOUSEEV_DRAG_START</b>
                     A  dragging motion has started. This event is delivered just before the <b>TICKIT_MOUSEEV_DRAG</b>
                     event, and gives the original position of the mouse before it started  dragging  (i.e.  the
                     position of the press event).

              <b>TICKIT_MOUSEEV_DRAG_OUTSIDE</b>
                     A  dragging  motion  that  was started within this window has now moved outside it. In this
                     case, the position given by the event will be somewhere outside the bounds of the window it
                     is delivered to. This event is delivered directly to the source  window;  i.e.  the  window
                     that handled the <b>TICKIT_MOUSEEV_DRAG_START</b> event.

              <b>TICKIT_MOUSEEV_DRAG_DROP</b>
                     A  dragging  motion has stopped by the mouse button being released. This event is delivered
                     normally at the position of the mouse cursor.

              <b>TICKIT_MOUSEEV_DRAG_STOP</b>
                     A dragging motion has stopped by the mouse button being released. This event  is  delivered
                     directly  to  the source window; i.e. the window that handled the <b>TICKIT_MOUSEEV_DRAG_START</b>
                     event.   If   that   is   a   different   window   than   the   one   that   received   the
                     <b>TICKIT_MOUSEEV_DRAG_STOP</b> event then the position may be outside the bounds of the window.

       <b>TICKIT_WINDOW_ON_GEOMCHANGE</b>
              At  least  one  of  the fields of the window geometry have been changed, meaning it now occupies a
              different area of the screen. <u>info</u> will point to a structure defined as:

              <b>typedef</b> <b>struct</b> <b>{</b>
                  <b>TickitRect</b> <u>rect</u><b>;</b>
                  <b>TickitRect</b> <u>oldrect</u><b>;</b>
              <b>}</b> <u>TickitGeomchangeEventInfo</u><b>;</b>

              <u>rect</u> gives the new geometry of the window relative to its parent, and <u>oldrect</u> gives  the  previous
              geometry.

       <b>TICKIT_WINDOW_ON_EXPOSE</b>
              An  area  of  the  window  needs to be re-rendered because it has now been freshly exposed; either
              because of stacking or visibility changes of this or sibling windows, a cascaded expose  event  on
              its parent, or due to a call to <b>tickit_window_expose</b>(). <u>info</u> will point to a structure defined as:

              <b>typedef</b> <b>struct</b> <b>{</b>
                  <b>TickitRect</b> <u>rect</u><b>;</b>
                  <b>TickitRenderBuffer</b> <b>*</b><u>rb</u><b>;</b>
              <b>}</b> <u>TickitExposeEventInfo</u><b>;</b>

              <u>rect</u>  gives  the  region  of  the  window that needs to be redrawn. This will always be inside the
              window's bounds. If multiple pending  regions  need  to  be  exposed,  they  are  output  in  non-
              overlapping  segments.  The  handling function or functions should then use the <b>TickitRenderBuffer</b>
              instance given by the <u>rb</u> field to draw the required contents of the window to. This instance  will
              already be set up with the appropriate drawing pen, clipping rectangle and hole regions to account
              for the window hierarchy.

       <b>TICKIT_WINDOW_ON_FOCUS</b>
              This  window has either gained or lost the input focus, or a child of it has an this window is set
              to also notify on that case by using <b>tickit_window_set_focus_child_notify</b>(). <u>info</u> will point to  a
              structure defined as:

              <b>typedef</b> <b>struct</b> <b>{</b>
                  <b>TickitFocusEventType</b> <u>type</u><b>;</b>
                  <b>TickitWindow</b> <b>*</b><u>win</u><b>;</b>
              <b>}</b> <u>TickitFocusEventInfo</u><b>;</b>

              <u>type</u>  takes  onw  of  the values <b>TICKIT_FOCUSEV_IN</b> or <b>TICKIT_FOCUSEV_OUT</b>. <u>win</u> will normally be the
              window that is invoking the event, except for the case of notifications about child windows, where
              it will indicate which child has changed focus. When a focus change  happens,  the  window  losing
              focus   receives   its  <b>TICKIT_FOCUSEV_OUT</b>  event  before  the  window  gaining  it  receives  its
              <b>TICKIT_FOCUSEV_IN</b>.

</pre><h4><b>CONTROLS</b></h4><pre>
       A window instance has a number of runtime-configuration control options that affect its behaviour.  These
       can  be  set  using  <b><a href="../man3/tickit_window_setctl_int.3.html">tickit_window_setctl_int</a></b>(3),  and  queried  using  <b><a href="../man3/tickit_window_getctl_int.3.html">tickit_window_getctl_int</a></b>(3).  The
       individual controls have human-readable string names that can be obtained by <b><a href="../man3/tickit_windowctl_name.3.html">tickit_windowctl_name</a></b>(3) and
       searched by name using <b><a href="../man3/tickit_windowctl_lookup.3.html">tickit_windowctl_lookup</a></b>(3). The type of a control  option  can  be  queried  using
       <b><a href="../man3/tickit_windowctl_type.3.html">tickit_windowctl_type</a></b>(3).

       The  options  are  given  in  an  enumeration  called  <b>TickitWindowCtl</b>.  The following control values are
       recognised:

       <b>TICKIT_WINCTL_CURSORBLINK</b> <b>(bool)</b>
              The value is a boolean indicating whether the terminal text cursor should blink while this  window
              has the input focus.

       <b>TICKIT_WINCTL_CURSORSHAPE</b> <b>(int)</b>
              The  value  is  an  integer  from  the  <b>TickitCursorShape</b>  enumeration  indicating  what shape the
              terminal's text cursor should be while this window has the input focus. Values are:

              <b>TICKIT_CURSORSHAPE_BLOCK</b>
                     A solid block filling the entire cell.

              <b>TICKIT_CURSORSHAPE_UNDER</b>
                     An underline below the character.

              <b>TICKIT_CURSORSHAPE_LEFT_BAR</b>
                     A vertical bar to the left of the character.

       <b>TICKIT_WINCTL_CURSORVIS</b> <b>(bool)</b>
              The value is a boolean indicating whether the terminal text cursor should be  visible  while  this
              window has the input focus.

       <b>TICKIT_WINCTL_FOCUS_CHILD_NOTIFY</b> <b>(bool)</b>
              The  value is a boolean indicating whether the window will receive <b>TICKIT_EV_FOCUS</b> events when its
              child windows change focus states (when true), or whether the only focus events  it  will  receive
              are ones relating to itself directly (when false).

       <b>TICKIT_WINCTL_STEAL_INPUT</b> <b>(bool)</b>
              The  value  is  a  boolean indicating whether the window will receive all key events on its parent
              first, while it is the front-most child of its parent, even before the sibling that  actually  has
              input  focus  receives  them.  Additionally,  the window will receive all mouse events, even those
              outside of its geometry. This option is useful when implementing popup windows such as menu bars.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man7/tickit.7.html">tickit</a></b>(7), <b><a href="../man7/tickit_term.7.html">tickit_term</a></b>(7), <b><a href="../man7/tickit_renderbuffer.7.html">tickit_renderbuffer</a></b>(7), <b><a href="../man7/tickit_rect.7.html">tickit_rect</a></b>(7)

                                                                                                <u><a href="../man7/TICKIT_WINDOW.7.html">TICKIT_WINDOW</a></u>(7)
</pre>
 </div>
</div></section>
</div>
</body>
</html>