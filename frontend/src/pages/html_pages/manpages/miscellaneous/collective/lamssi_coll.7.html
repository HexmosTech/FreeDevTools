<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>lamssi_collectives - overview of LAM's MPI collective SSI modules</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/lam-runtime">lam-runtime_7.1.4-7.2_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       lamssi_collectives - overview of LAM's MPI collective SSI modules

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The  "kind"  for collectives SSI modules is "coll".  Specifically, the string "coll" (without the quotes)
       is the prefix that should be used with the <u>mpirun</u> command line with the <u>-ssi</u> switch.  For example:

       mpirun -ssi coll_base_crossover 4 C my_mpi_program

       LAM currently has three coll modules:

       <u>lam_basic</u>
           A full implementation of MPI collectives on intracommunicators.  The algorithms are the same as  were
           in  the LAM 6.5 series.  Collectives on intercommunicators are undefined, and will result in run-time
           errors.

       <u>impi</u>
           Collective functions for IMPI communicators.  These are mostly un-implemented; only the basics exist:
           <u>MPI_BARRIER</u> and <u>MPI_REDUCE</u>.

       <u>shmem</u>
           Shared memory collectives.

       <u>smp</u> SMP-aware collectives (based on the MagPIe algorithms).  The following algorithms  provide  SMP-aware
           performance  on  multiprocessors: <u>MPI_ALLREDUCE</u>, <u>MPI_ALLTOALL</u>, <u>MPI_ALLTOALLV</u>, <u>MPI_BARRIER</u>, <u>MPI_BCAST</u>,
           <u>MPI_GATHER</u>,  <u>MPI_GATHERV</u>,  <u>MPI_REDUCE</u>,  <u>MPI_SCATTER</u>,  and  <u>MPI_SCATTERV</u>.   Note  that  the  reduction
           algorithms  must be specifically enabled by marking the operations as associative before they will be
           used.  All other MPI collectives will fall back to their <u>lam_basic</u> equivalents.

       More collective modules are likely to be implemented in the future.

</pre><h4><b>COLL</b> <b>MODULE</b> <b>PARAMETERS</b></h4><pre>
       In the discussion below, the parameters are discussed in terms of  <u>kind</u>  and  <u>value</u>.   Unlike  other  SSI
       module  kinds,  since  coll  modules  are selected on a per-communicator basis, the <u>kind</u> and <u>value</u> may be
       specified as attributes to a parent communicator.

       Need to write much more here.

   <b>Selecting</b> <b>a</b> <b>coll</b> <b>module</b>
       coll modules are selected on a per-communicator basis.   They  are  selected  when  the  communicator  is
       created,  and  remain  the  active coll module for the life of that communicator.  For example, different
       coll modules may be assigned to MPI_COMM_WORLD and MPI_COMM_SELF.  In most cases LAM/MPI will select  the
       best  coll  module automatically.  For example, when a communicator spans multiple nodes and at least one
       node has multiple MPI processes, the <u>smp</u> module will automatically be selected.

       However, the <u>LAM_MPI_SSI_COLL</u> keyval can be used to set an attribute on a communicator that  is  used  to
       create  a new communicator.  The attribute should have the value of the string name of the coll module to
       use.  If that module cannot be used, an MPI exception will occur.  This attribute is only examined on the
       parent communicator when a new communicator is created.

   <b>coll</b> <b>SSI</b> <b>Parameters</b>
       The coll modules accept several parameters:

       coll_associative
           Because of specific wording in the  MPI  standard,  LAM/MPI  can  effectively  not  assume  that  any
           reduction operator is associative (at least, not without additional overhead).  Hence, LAM/MPI relies
           on   the  user  to  indicate  that  certain  operations  are  associative.   If  the  user  sets  the
           <u>coll_associative</u> SSI parameter to 1, LAM/MPI may assume that the reduction  operator  is  assocative,
           and  may  be able to optimize the overall reduction operation.  If it is 0 or undefined, LAM/MPI will
           assume that the reduction operation is <b>not</b> associative,  and  will  use  strict  linear  ordering  of
           reduction operations (regardless of data locality).  This attribute is checked every time a reduction
           operator is invoked.  The User's Guide contains more information on this topic.

       coll_crossover
           This  parameter  determines  the  maximum  number of processes in a communicator that will use linear
           algorithms.  This SSI parameter is only checked during <u>MPI_INIT</u>.

       coll_reduce_crossover
           During reduction operations, it makes sense to use the number of bytes to be transferred rather  than
           the  number  of processes as a metric whether to use linear or logrithmic algorithms.  This parameter
           indicates the maxmimum number of bytes to be transferred by each process by a linear algorithm.  This
           SSI parameter is only checked during <u>MPI_INIT</u>.

   <b>Notes</b> <b>on</b> <b>the</b> <b>smp</b> <b>coll</b> <b>Module</b>
       The <u>smp</u> coll module is based on the algorithms from the MagPIe project.  It is not  yet  complete;  there
       are  still  more  algorithms that can be optmized for SMP-aware execution -- by the time that LAM/MPI was
       frozen in preparation for release, only some of the algorithms had been completed.  It is  expected  that
       future versions of LAM/MPI will have more SMP-optimized algorithms.

       The User's Guide contains much more detail about the <u>smp</u> module.  In particular, the <u>coll_associative</u> SSI
       parameter  must  be  1  for  the SMP-aware reduction algorithms to be used.  If it is 0 or undefined, the
       corresponding <u>lam_basic</u> algorithms will be used.  The <u>coll_associative</u>  attribute  is  checked  at  every
       invocation of the reduction algorithms.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <a href="../man7/lamssi.7.html">lamssi</a>(7), <a href="../man1/mpirun.1.html">mpirun</a>(1), LAM User's Guide

LAM 7.1.4                                          July, 2007                                     <u><a href="../man7/lamssi_coll.7.html">lamssi_coll</a></u>(7)
</pre>
 </div>
</div></section>
</div>
</body>
</html>