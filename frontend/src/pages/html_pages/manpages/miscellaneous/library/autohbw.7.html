<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>libautohbw.so - An interposer library for redirecting heap allocations</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/plucky/+package/libmemkind-dev">libmemkind-dev_1.14.0-3.1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       libautohbw.so - An interposer library for redirecting heap allocations

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>LD_PRELOAD=libautohbw.so</b> command {arguments ...}

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>AutoHBW</b>  library  <b>(libautohbw.so)</b>  is  an  interposer  library  for redirecting heap allocations <b>(malloc,</b>
       <b>calloc,</b> <b>realloc,</b> <b>valloc,</b> <b>posix_memalign,</b> <b>memlign)</b> to high-bandwidth <b>(HBW)</b> memory.  Consequently,  AutoHBW
       library  can  be  used to automatically allocate high-bandwidth memory without any modification to source
       code of an application.

       For instance, the following command-line runs existing binary <a href="file:/bin/ls">/bin/ls</a> with AutoHBW library, automatically
       redirecting heap allocations (larger than a given threshold) to high-bandwidth memory.

              <b>LD_PRELOAD=libautohbw.so</b> <a href="file:/bin/ls">/bin/ls</a>

</pre><h4><b>ENVIRONMENT</b></h4><pre>
       The behavior of AutoHBW library is controlled by the following environment variables.

       <b>AUTO_HBW_SIZE=x:[y]</b>
       Indicates that any allocation larger than <u>x</u> and smaller than <u>y</u> should be allocated in HBW memory.  <u>x</u>  and
       <u>y</u> can be followed by a K, M, or G to indicate the size in Kilo/Memga/Giga bytes (e.g., 4K, 3M, 2G).

       Examples:

       AUTO_HBW_SIZE=4K
              # allocations larger than 4K allocated in HBW

       AUTO_HBW_SIZE=1M:5M
              # allocations between 1M and 5M allocated in HBW

       <b>AUTO_HBW_LOG=level</b>
       Sets the value of logging (printing) <u>level.</u>  If <u>level</u> is:

       -1     no messages are printed

       0      no allocations messages are printed but INFO messages are printed

       1      a log message is printed for each allocation (Default)

       2      a  log  message  is  printed  for  each allocation with a backtrace.  Redirect this output and use
              <b>autohbw_get_src_lines.pl</b> to find source lines  for  each  allocation.  Your  application  must  be
              compiled with <b>-g</b> to see source lines.

       Notes:

              1.  Logging adds extra overhead. Therefore, for performance critical runs, logging level should be
              0

              2. The amount of free memory printed with log messages is only approximate -- e.g. pages that  are
              not touched yet are excluded

       Examples:

       AUTO_HBW_LOG=1

       <b>AUTO_HBW_MEM_TYPE=memory_type</b>
       Sets  the  type  of  memory  type  that  should  be  automatically  allocated.  By  default, this type is
       MEMKIND_HBW_PREFERRED, if MCDRAM is found in your system; otherwise, the default is MEMKIND_DEFAULT.  The
       names  of memory types are defined in <b><a href="../man3/memkind.3.html">memkind</a>(3)</b> man page.  <b>memory_type</b> has to be one of <b>MEMKIND_DEFAULT,</b>
       <b>MEMKIND_HUGETLB,</b>    <b>MEMKIND_INTERLEAVE,</b>    <b>MEMKIND_HBW,</b>    <b>MEMKIND_HBW_PREFERRED,</b>    <b>MEMKIND_HBW_HUGETLB,</b>
       <b>MEMKIND_HBW_PREFERRED_HUGETLB,</b>  <b>MEMKIND_HBW_GBTLB</b> <b>(DEPRECATED),</b> <b>MEMKIND_HBW_PREFERRED_GBTLB</b> <b>(DEPRECATED),</b>
       <b>MEMKIND_GBTLB</b> <b>(DEPRECATED),</b> <b>MEMKIND_HBW_INTERLEAVE</b>

       If you are requesting any huge TLB pages, please make sure that the requested type is  currently  enabled
       in your OS.

       Examples:

       AUTO_HBW_MEM_TYPE=MEMKIND_HBW_PREFERRED
              # (default, if MCDRAM present)

       AUTO_HBW_MEM_TYPE=MEMKIND_DEFAULT
              # (default, if MCDRAM absent)

       AUTO_HBW_MEM_TYPE=MEMKIND_HBW_HUGETLB

       AUTO_HBW_MEM_TYPE=MEMKIND_HUGETLB

       <b>AUTO_HBW_DEBUG=0|1|2</b>
       Set the debug message printing level. Default is 0. This is mainly for development.

</pre><h4><b>NOTES</b></h4><pre>
       It  is  possible  to temporarily disable/enable automatic HBW allocations by calling disableAutoHBW() and
       enableAutoHBW() in source code. To call these routines, please include <b>autohbw_api.h</b> header file and link
       with -lautohbw.

       If  high-bandwidth  memory  is  not  physically  present  in  your  system,  the   environment   variable
       <b>MEMKIND_HBW_NODES</b> must be set to indicate the high-bandwidth node as indicated in <b><a href="../man3/memkind.3.html">memkind</a>(3).</b>

</pre><h4><b>EXAMPLES</b></h4><pre>
       The  following  will  run  <a href="file:/bin/ls">/bin/ls</a>  with  AutoHBW library. Make sure that paths to both libautohbw.so and
       libmemkind.so are included in <b>LD_LIBRARY_PATH.</b>

              <b>LD_PRELOAD=libautohbw.so</b> <a href="file:/bin/ls">/bin/ls</a> -l

       To run with MPI, a shell script must be created, with the correct LD_PRELOAD command for each  rank.  For
       example,  if  we  put <b>LD_PRELOAD=libautohbw.so</b> <b><a href="file:/bin/ls">/bin/ls</a></b> in a shell script named autohbw_test.sh, it can be
       executed with 2 MPI ranks as:

              <b>mpirun</b> <b>-n</b> <b>2</b> <b>./autohbw_test.sh</b>

</pre><h4><b>COPYRIGHT</b></h4><pre>
       Copyright (C) 2014 - 2020 Intel Corporation. All rights reserved.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man3/memkind.3.html">memkind</a>(3)</b> <b><a href="../man3/malloc.3.html">malloc</a></b>(3), <b><a href="../man8/numactl.8.html">numactl</a></b>(8),

Intel Corporation                                  2016-07-28                                         <u><a href="../man7/AUTOHBW.7.html">AUTOHBW</a></u>(7)
</pre>
 </div>
</div></section>
</div>
</body>
</html>