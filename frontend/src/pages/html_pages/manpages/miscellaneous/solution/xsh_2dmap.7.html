<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>xsh_2dmap - Creates a wavelength and spatial resampling solution, a clean arc line list</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/noble/+package/cpl-plugin-xshoo-doc">cpl-plugin-xshoo-doc_3.5.3+dfsg-1build4_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       xsh_2dmap - Creates a wavelength and spatial resampling solution, a clean arc line list

</pre><h4><b>SYNOPSIS</b></h4><pre>
       esorex <b>xsh_2dmap</b> [OPTIONS] FILE.sof

</pre><h4><b>DESCRIPTION</b></h4><pre>
       This recipe creates a wavelength and spatial resampling solution, a clean arc line list.

        a residual map and a wave map.

       Input Frames:
         Raw Frame (Tag = WAVE_arm)
         Arc Line List (Tag = ARC_LINE_LIST_arm)
         Order Table (Tag = ORDER_TAB_EDGES_arm)
         Master Bias (Tag = MASTER_BIAS_arm)
         [poly mode] Wave Solution (Tag = WAVE_TAB_GUESS_arm)
         [poly mode] Theoretical Map (Tag = THEO_TAB_MULT_arm)
         [physical model mode] model cfg table (Tag = XSH_MOD_CFG_OPT_FMT_arm)
         [OPTIONAL] Master Dark (Tag = MASTER_DARK_arm)
         [OPTIONAL] Non-linear Bad Pixel Map (Tag = BP_MAP_NL_arm)
         [OPTIONAL] Reference Bad Pixel Map (Tag = BP_MAP_RP_arm)
         [OPTIONAL] Reference list to monitor line intensity (Tag = ARC_LINE_LIST_INTMON_arm)
        Prepare the frames.

       For UVB,VIS:
          Subtract Master Bias.

          Subtract Master Dark.

       For NIR:
         Subtract ON OFF
         Compute Wavelength Solution, clean arc line list, residual table, wave map
         Products:
          Wavelength table solution, PRO.CATG = WAVE_TAB_2D_arm [poly mode]
          A Residual tab, PRO.CATG=WAVE_RESID_TAB_SLIT_arm
          A Wavelelength image map, PRO.CATG=WAVE_MAP_arm. [if model-wavemap-compute=TRUE]
          A Slit image map, PRO.CATG=SLIT_MAP_NIR [if model-wavemap-compute=TRUE]
          A Dispersion solution table, PRO.CATG=DISP_TAB_NIR
          An Arc frame in pre format bias subtracted,
          PRO.CATG=WAVE_ON_arm
          The optimized model cfg frame, PRO.CATG=XSH_MOD_CFG_OPT_2D_arm [if physical model mode].

</pre><h4><b>OPTIONS</b></h4><pre>
       <b>--keep-temp</b> <u>&lt;str&gt;</u>
              If  ´no´,  temporary files are deleted. (str; default: ´no´). The full name of this option for the
              EsoRex configuration file is <b>xsh.xsh_2dmap.keep-temp</b> [default = <u>no</u>].

       <b>--debug-level</b> <u>&lt;str&gt;</u>
              Additional xshooter debug level. One of ´none´, ´low´, ´medium´, ´high´  (str;  default:  ´none´).
              The  full  name  of  this  option  for  the EsoRex configuration file is <b>xsh.xsh_2dmap.debug-level</b>
              [default = <u>none</u>].

       <b>--time-stamp</b> <u>&lt;bool&gt;</u>
              Add timestamp to product file name. (bool; default: False). The full name of this option  for  the
              EsoRex configuration file is <b>xsh.xsh_2dmap.time-stamp</b> [default = <u>False</u>].

       <b>--decode-bp</b> <u>&lt;int&gt;</u>
              Integer  representation  of  the  bits to be considered bad when decoding the bad pixel mask pixel
              values.   Most frequent codes relevant for the user:   0: good pixel,   8:  pick-up  noise,    16:
              cosmic-ray  removed,    32:  cosmic-ray unremoved,   128: calibration file defect, 256: hot pixel,
              512:  dark  pixel,    4096:  A/D  converted  saturation,  32768:  non  linear  pixel,     1048576:
              extrapolated   flux   in  NIR,  4194304:  Interpolated  flux  during  extraction.  (int;  default:
              2144337919).  The  full  name  of   this   option   for   the   EsoRex   configuration   file   is
              <b>xsh.xsh_2dmap.decode-bp</b> [default = <u>2144337919</u>].

       <b>--pre-overscan-corr</b> <u>&lt;int&gt;</u>
              pre-overscan  correction.  0: no correction 1: mean overscan correction 2: mean prescan correction
              3: (mean pre+mean overscan)/2 correction (int; default: 1). The full name of this option  for  the
              EsoRex configuration file is <b>xsh.xsh_2dmap.pre-overscan-corr</b> [default = <u>1</u>].

       <b>--detectarclines-fit-win-hsize</b> <u>&lt;int&gt;</u>
              Half  window  size  (HWS)  in  pixels for the line 2D fitting window (total window size = 2*HWS+1)
              (int;  default:  6).  The  full  name  of  this  option  for  the  EsoRex  configuration  file  is
              <b>xsh.xsh_2dmap.detectarclines-fit-win-hsize</b> [default = <u>6</u>].

       <b>--detectarclines-search-win-hsize</b> <u>&lt;int&gt;</u>
              Half  window  size  (HWS)  in  pixels  for the line search box around the expected position (total
              window size = 2*HWS+1) [bin units] (int; default: 3). The full name of this option for the  EsoRex
              configuration file is <b>xsh.xsh_2dmap.detectarclines-search-win-hsize</b> [default = <u>3</u>].

       <b>--detectarclines-running-median-hsize</b> <u>&lt;int&gt;</u>
              Half  window  size  in pixels (HWS) for the running median box (int; default: 0). The full name of
              this option for the EsoRex configuration file is <b>xsh.xsh_2dmap.detectarclines-running-median-hsize</b>
              [default = <u>0</u>].

       <b>--detectarclines-wavesol-deg-lambda</b> <u>&lt;int&gt;</u>
              Degree in lambda in the  polynomial  solution  X=f(lambda,order,slit)  and  Y=f(lambda,order,slit)
              (POLY  mode)  (int; default: 5). The full name of this option for the EsoRex configuration file is
              <b>xsh.xsh_2dmap.detectarclines-wavesol-deg-lambda</b> [default = <u>5</u>].

       <b>--detectarclines-wavesol-deg-order</b> <u>&lt;int&gt;</u>
              Degree in order in the polynomial solution X=f(lambda,order,slit) and Y=f(lambda,order,slit) (POLY
              mode) (int; default: 4). The full name of  this  option  for  the  EsoRex  configuration  file  is
              <b>xsh.xsh_2dmap.detectarclines-wavesol-deg-order</b> [default = <u>4</u>].

       <b>--detectarclines-wavesol-deg-slit</b> <u>&lt;int&gt;</u>
              Degree  in slit in the polynomial solution X=f(lambda,order,slit) and Y=f(lambda,order,slit) (POLY
              mode) (int; default: 1). The full name of  this  option  for  the  EsoRex  configuration  file  is
              <b>xsh.xsh_2dmap.detectarclines-wavesol-deg-slit</b> [default = <u>1</u>].

       <b>--detectarclines-min-sn</b> <u>&lt;float&gt;</u>
              Minimum  signal-to-noise  ratio  to  filter lines [xsh_predict: UVB,VIS=5,NIR=4; xsh_2dmap: UVB=3,
              VIS=6, NIR=10] (float; default: 5.0). The full name of this option for  the  EsoRex  configuration
              file is <b>xsh.xsh_2dmap.detectarclines-min-sn</b> [default = <u>5.0</u>].

       <b>--detectarclines-find-lines-center</b> <u>&lt;str&gt;</u>
              Method  used  to  find  the  center of the lines: gaussian, barycenter.  Gaussian method applies a
              Gaussian  fit  to  the  line.  Barycenter  method  computes  the  line  centroid.  (str;  default:
              ´gaussian´).   The   full   name   of   this   option   for   the  EsoRex  configuration  file  is
              <b>xsh.xsh_2dmap.detectarclines-find-lines-center</b> [default = <u>gaussian</u>].

       <b>--detectarclines-clip-sigma</b> <u>&lt;float&gt;</u>
              Kappa value in sigma clipping during the polynomial solution  fit  (POLY  mode)  (float;  default:
              2.0).    The    full    name   of   this   option   for   the   EsoRex   configuration   file   is
              <b>xsh.xsh_2dmap.detectarclines-clip-sigma</b> [default = <u>2.0</u>].

       <b>--detectarclines-clip-niter</b> <u>&lt;int&gt;</u>
              Number of iterations in sigma clipping during  the  polynomial  solution  fit  (POLY  mode)  (int;
              default:   0).   The   full   name   of   this   option  for  the  EsoRex  configuration  file  is
              <b>xsh.xsh_2dmap.detectarclines-clip-niter</b> [default = <u>0</u>].

       <b>--detectarclines-clip-frac</b> <u>&lt;float&gt;</u>
              Minimal fractions of bad pixel allowed in sigma clipping duringthe polynomial solution  fit  (POLY
              mode)  (float;  default:  0.7).  The full name of this option for the EsoRex configuration file is
              <b>xsh.xsh_2dmap.detectarclines-clip-frac</b> [default = <u>0.7</u>].

       <b>--dispersol-deg-x</b> <u>&lt;int&gt;</u>
              Degree in X in the polynomial dispersion solution lambda=f(X,Y) and slit=f(X,Y) (int; default: 4).
              The full name of this option for the EsoRex configuration  file  is  <b>xsh.xsh_2dmap.dispersol-deg-x</b>
              [default = <u>4</u>].

       <b>--dispersol-deg-y</b> <u>&lt;int&gt;</u>
              Degree in Y in the polynomial dispersion solution lambda=f(X,Y) and slit=f(X,Y) (int; default: 5).
              The  full  name  of this option for the EsoRex configuration file is <b>xsh.xsh_2dmap.dispersol-deg-y</b>
              [default = <u>5</u>].

       <b>--model-maxit</b> <u>&lt;int&gt;</u>
              Number/10 of annealing iterations (physical model mode). (int; default: 500).  The  full  name  of
              this option for the EsoRex configuration file is <b>xsh.xsh_2dmap.model-maxit</b> [default = <u>500</u>].

       <b>--model-anneal-factor</b> <u>&lt;float&gt;</u>
              Multiplier  applied  to  the  automatic  parameter  ranges  (i.e.  when  scenario!=0). For routine
              operations should be 1.0. (physical model mode). (float; default: 1.0).  The  full  name  of  this
              option for the EsoRex configuration file is <b>xsh.xsh_2dmap.model-anneal-factor</b> [default = <u>1.0</u>].

       <b>--model-scenario</b> <u>&lt;int&gt;</u>
              selects  preset  flag  and  range combinations appropriate to common scenarios:   0 - No scenario,
              input cfg flags and limitsused.  1 - scenario appropriate for the startuprecipe (large ranges  for
              parameters  affecting  single ph exposures, dist coeff fixed)  2 - Like 1, but includes parameters
              affecting all ph positions  3 - Scenario for use in  fine  tuning  cfg  to  match  routine  single
              pinhole  exposures.   All  parameters  affecting 1ph exposures except dist coeffs are included and
              parameter ranges are small. (For use by predict in 1ph case).  4 - Like 3 but includes  parameters
              affecting  all  ph  positions (Standard for use by predict in 9ph case and 2dmap).  (int; default:
              4). The full name of this option for the EsoRex configuration file is <b>xsh.xsh_2dmap.model-scenario</b>
              [default = <u>4</u>].

       Note that it is possible to create a configuration file containing these  options,  along  with  suitable
       default values. Please refer to the details provided by the 'esorex --help' command.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       The full documentation for the xshoo pipeline can be downloaded as a PDF file using the following URL:

              <b><a href="ftp://ftp.eso.org/pub/dfs/pipelines/xshoo/xshoo-pipeline-manual-12.1.pdf">ftp://ftp.eso.org/pub/dfs/pipelines/xshoo/xshoo-pipeline-manual-12.1.pdf</a></b>

       An    overview    over    the    existing    ESO    pipelines    can   be   found   on   the   web   page
       <b>https://www.eso.org/sci/software/pipelines/</b>.

       Basic documentation about the EsoRex program can be found at the esorex (1) man page.

       It  is  possible  to  call   the   pipelines   from   python   using   the   python-cpl   package.    See
       <b>https://packages.python.org/python-cpl/index.html</b> for further information.

       The  other  recipes  of  the  xshoo  pipeline  are  <u><a href="../man7/xsh_cfg_recover.7.html">xsh_cfg_recover</a></u>(7), <u><a href="../man7/xsh_flexcomp.7.html">xsh_flexcomp</a></u>(7), <u><a href="../man7/xsh_geom_ifu.7.html">xsh_geom_ifu</a></u>(7),
       <u><a href="../man7/xsh_lingain.7.html">xsh_lingain</a></u>(7),    <u><a href="../man7/xsh_mbias.7.html">xsh_mbias</a></u>(7),    <u><a href="../man7/xsh_mdark.7.html">xsh_mdark</a></u>(7),    <u><a href="../man7/xsh_mflat.7.html">xsh_mflat</a></u>(7),    <u><a href="../man7/xsh_orderpos.7.html">xsh_orderpos</a></u>(7),    <u><a href="../man7/xsh_predict.7.html">xsh_predict</a></u>(7),
       <u><a href="../man7/xsh_respon_slit_nod.7.html">xsh_respon_slit_nod</a></u>(7),  <u><a href="../man7/xsh_respon_slit_offset.7.html">xsh_respon_slit_offset</a></u>(7),  <u><a href="../man7/xsh_respon_slit_stare.7.html">xsh_respon_slit_stare</a></u>(7),  <u><a href="../man7/xsh_scired_ifu_offset.7.html">xsh_scired_ifu_offset</a></u>(7),
       <u><a href="../man7/xsh_scired_ifu_offset_drl.7.html">xsh_scired_ifu_offset_drl</a></u>(7),            <u><a href="../man7/xsh_scired_ifu_stare.7.html">xsh_scired_ifu_stare</a></u>(7),            <u><a href="../man7/xsh_scired_ifu_stare_drl.7.html">xsh_scired_ifu_stare_drl</a></u>(7),
       <u><a href="../man7/xsh_scired_slit_nod.7.html">xsh_scired_slit_nod</a></u>(7),    <u><a href="../man7/xsh_scired_slit_offset.7.html">xsh_scired_slit_offset</a></u>(7),    <u><a href="../man7/xsh_scired_slit_stare.7.html">xsh_scired_slit_stare</a></u>(7),   <u><a href="../man7/xsh_util_physmod.7.html">xsh_util_physmod</a></u>(7),
       <u><a href="../man7/xsh_wavecal.7.html">xsh_wavecal</a></u>(7)

</pre><h4><b>VERSION</b></h4><pre>
       xsh_2dmap 3.5.3

</pre><h4><b>AUTHOR</b></h4><pre>
       R. Haigron, P. Bristow, D. Bramich, A. Modigliani &lt;<a href="mailto:amodigli@eso.org">amodigli@eso.org</a>&gt;

</pre><h4><b>BUG</b> <b>REPORTS</b></h4><pre>
       Please report any problems to <a href="mailto:amodigli@eso.org">amodigli@eso.org</a>. Alternatively, you may send a  report  to  the  ESO  User
       Support Department &lt;<a href="mailto:usd-help@eso.org">usd-help@eso.org</a>&gt;.

</pre><h4><b>LICENSE</b></h4><pre>
       This file is part of the X-shooter Instrument Pipeline Copyright (C) 2006 European Southern Observatory

       This  program  is  free  software;  you  can  redistribute it and/or modify it under the terms of the GNU
       General Public License as published by the Free Software Foundation; either version 2 of the License,  or
       (at your option) any later version.

       This  program  is  distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even
       the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General  Public
       License for more details.

       You  should have received a copy of the GNU General Public License along with this program; if not, write
       to the Free Software Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA

xsh_2dmap                                             3.5.3                                         <u><a href="../man7/XSH_2DMAP.7.html">XSH_2DMAP</a></u>(7)
</pre>
 </div>
</div></section>
</div>
</body>
</html>