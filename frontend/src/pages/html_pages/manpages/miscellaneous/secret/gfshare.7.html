<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>gfshare - explanation of Shamir Secret Sharing in gf(2**8)</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libgfshare-bin">libgfshare-bin_2.0.0-7_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       gfshare - explanation of Shamir Secret Sharing in gf(2**8)

</pre><h4><b>SYNOPSIS</b></h4><pre>
       In  simple  terms,  this package provides a library for implementing the sharing of secrets and two tools
       for simple use-cases of the algorithm.  The library implements what  is  known  as  Shamir's  method  for
       secret  sharing in the Galois Field 2**8.  In slightly simpler words, this is N-of-M secret-sharing byte-
       by-byte.  Essentially this allows us to split a secret S into any M shares <a href="../man1/S.1.html">S</a>(1) to S(M) such that  any  N
       of those shares can be used to reconstruct S but any less than N shares yields no information whatsoever.

</pre><h4><b>EXAMPLE</b> <b>USE</b> <b>CASE</b></h4><pre>
       Alice  has a GPG secret key on a usb keyring. If she loses that keyring, she will have to revoke the key.
       This sucks because she go to conferences lots and is scared that  she  will,  eventually,  lose  the  key
       somewhere.  So,  if,  instead  she needed both her laptop and the usb keyring in order to have her secret
       key, losing one or the other does not compromise her gpg key. Now, if she splits the key  into  a  3-of-5
       share,  put  one  share  on  her  desktop,  one  on the laptop, one on her server at home, and two on the
       keyring, then the keyring-plus-any-machine will yield the secret gpg key, but if she loses  the  keyring,
       She  can reconstruct the gpg key (and thus make a new share, rendering the shares on the lost usb keyring
       worthless) with her three machines at home.

</pre><h4><b>THE</b> <b>PRINCIPLES</b> <b>BEHIND</b> <b>SHAMIR'S</b> <b>METHOD</b></h4><pre>
       What Shamir's method relies on  is  the  creation  of  a  random  polynomial,  the  sampling  of  various
       coordinates  along the curve of the polynomial and then the interpolation of those points in order to re-
       calculate the y-intercept of the polynomial in order to reconstruct the secret. Consider the formula  for
       a  straight  line:  <b>Y</b>  <b>=</b>  <b>Mx</b>  <b>+</b> <b>C</b>. This formula (given values for M and C) uniquely defines a line in two
       dimensions and such a formula is a polynomial of order 1.   Any  line  in  two  dimensions  can  also  be
       uniquely  defined  by  stating  any  two points along the line. The number of points required to uniquely
       define a polynomial is thus one higher than the order of the polynomial. So a line needs two points where
       a quadratic curve needs three, a cubic curve four, etc.

       When we create a N-of-M share, we encode the secret as the y-intercept of a polynomial of order N-1 since
       such a polynomial needs N points to uniquely define it. Let us consider the situation where N  is  2:  We
       need  a  polynomial  of  order  1  (a straight line). Let us also consider the secret to be 9, giving the
       formula for our polynomial as: <b>Y</b> <b>=</b> <b>Ax</b> <b>+</b> <b>9</b>. We now pick a random coefficient for the graph, we'll use 3 in
       this example. This yields the final polynomial: <b>Sx</b> <b>=</b> <b>3x</b> <b>+</b> <b>9</b>. Thus the share of the secret at point  x  is
       easily  calculated.   We want some number of shares to give out to our secret-keepers; let's choose three
       as this number. We now need to select three points on the graph for our shares.  For  simplicity's  sake,
       let us choose 1, 2 and 3. This makes our shares have the values 12, 15 and 18. No single share gives away
       any  information  whatsoever about the value of the coefficient A and thus no single share can be used to
       reconstruct the secret.

       Now, consider the shares as coordinates (1, 12) (2, 15) and (3, 18) - again, no single share  is  of  any
       use,  but  any two of the shares uniquely define a line in two-dimensional space. Let us consider the use
       of the second and third shares.  They give us the pair of simulaneous equations: <b>15</b> <b>=</b> <b>2M</b> <b>+</b> <b>S</b> and <b>18</b> <b>=</b>  <b>3M</b>
       <b>+</b> <b>S</b>. We can trivially solve these equations for A and S and thus recover our secret of 9.

       Solving  simultaneous equations isn't ideal for our use due to its complexity, so we use something called
       a '<u>Lagrange</u> <u>Interpolating</u> <u>Polynomial</u>'. Such a polynomial is defined  as  being  the  polynomial  P(x)  of
       degree  n-1  which passes through the n points (x1, y1 = f(x1)) ... (xn, yn = f(xn)). There is a long and
       complex formula which can then be used to interpolate the  y-intercept  of  P(x)  given  the  n  sets  of
       coordinates.        There        is        a        good        explanation        of       this       at
       <a href="http://mathworld.wolfram.com/LagrangeInterpolatingPolynomial.html">http://mathworld.wolfram.com/LagrangeInterpolatingPolynomial.html</a>.

</pre><h4><b>OKAY,</b> <b>SO</b> <b>WHAT</b> <b>IS</b> <b>A</b> <b>GALOIS</b> <b>FIELD</b> <b>THEN?</b></h4><pre>
       A Galois Field is essentially a finite set of values. In particular, the  field  we  are  using  in  this
       library  is  gf(2**8)  or  <a href="../man256/gf.256.html">gf</a>(256)  which is the values 0 to 255.  This is, cunningly enough, exactly the
       field of a byte and is thus rather convenient for use in  manipulating  arbitrary  amounts  of  data.  In
       particular,  performing the share in <a href="../man256/gf.256.html">gf</a>(256) has the property of yielding shares of exactly the same size
       as the secret. Mathematics within this field has various properties which we can use to great effect.  In
       particular,  addition  in  any  Galois  Field  of  the  form  gf(2**n)  is directly equivalent to bitwise
       exclusive-or (an operation computers are quite fast at indeed). Also, given that <b>(X</b> <b>op</b> <b>Y)</b> <b>mod</b>  <b>F</b>  <b>==</b>  <b>((X</b>
       <b>mod</b> <b>F)</b> <b>op</b> <b>(Y</b> <b>mod</b> <b>F))</b> <b>mod</b> <b>F</b> we can perform maths on values inside the field and keep them within the field
       trivially by truncating them to the relevant number of bits (eight).

</pre><h4><b>OKAY,</b> <b>SO</b> <b>WHY</b> <b>IS</b> <b>THERE</b> <b>NO</b> <b>MULTIPLICATION</b> <b>IN</b> <b>THIS</b> <b>IMPLEMENTATION?</b></h4><pre>
       For speed reasons, this implementation uses log and exp as lookup tables to perform multiplication in the
       field.  Since <b>exp(</b> <b>log(X)</b> <b>+</b> <b>log(Y)</b> <b>)</b> <b>==</b> <b>X</b> <b>*</b> <b>Y</b> and since table lookups are much faster than multiplication
       and then truncation to fit in a byte, this is a faster but still 100% correct way to do the maths.

</pre><h4><b>AUTHOR</b></h4><pre>
       Written by Daniel Silverstone.

</pre><h4><b>REPORTING</b> <b>BUGS</b></h4><pre>
       Report bugs against the libgfshare product on www.launchpad.net.

</pre><h4><b>COPYRIGHT</b></h4><pre>
       libgfshare is copyright Â© 2006 Daniel Silverstone.
       This is free software. You may redistribute copies of  it  under  the  terms  of  the  MIT  licence  (the
       COPYRIGHT file in the source distribution).  There is NO WARRANTY, to the extent permitted by law.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <a href="../man1/gfsplit.1.html">gfsplit</a>(1), <a href="../man1/gfcombine.1.html">gfcombine</a>(1), <a href="../man3/libgfshare.3.html">libgfshare</a>(3)

2.0.0                                             February 2006                                       <u><a href="../man7/GFSHARE.7.html">GFSHARE</a></u>(7)
</pre>
 </div>
</div></section>
</div>
</body>
</html>