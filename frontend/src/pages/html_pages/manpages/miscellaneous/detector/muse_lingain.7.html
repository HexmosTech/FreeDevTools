<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>muse_lingain - Compute the gain and a model of the residual non-linearity for each detector quadrant</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/noble/+package/cpl-plugin-muse-doc">cpl-plugin-muse-doc_2.8.7+dfsg-3_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       muse_lingain - Compute the gain and a model of the residual non-linearity for each detector quadrant

</pre><h4><b>SYNOPSIS</b></h4><pre>
       esorex <b>muse_lingain</b> [OPTIONS] FILE.sof

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The  recipe  uses  the bias and flat field images of a detector monitoring exposure sequence to determine
       the detector gain in counts/ADU and to model the residual non-linearity for each  of  the  four  detector
       quadrants  of  all  IFUs.  All  measurements  done by the recipe are done on the illuminated parts of the
       detector, i.e. on the slices. The location of the slices is taken from the given trace table, which is  a
       mandatory  input.  Using  the traces of the slices on the detector a set of measurement windows is placed
       along these traces. The data used for the determination of the gain and the residual non-linearity is the
       taken from these windows. Bad pixels indicated by an, optionally, provided bad pixel  table,  or  flagged
       during  the  preprocessing (bias subtraction) of the input data are excluded from the measurements. Local
       measurements of the read-out-noise, the signal and the gain are calculated for each  of  the  measurement
       windows.  Using  these  measurements  the  gain  for each detector quadrant is computed as the zero-order
       coefficient of a 1st order polynomial fitted to the binned gain measurements as a function of the  signal
       level.  The  residual  non-linearity  is  modelled  by  a  (high) order polynomial which is fitted to the
       fractional percentage deviation of the count rate from an expected constant count rate (the linear  case)
       as function of the signal level. (Not yet implemented!)

</pre><h4><b>OPTIONS</b></h4><pre>
       <b>--nifu</b> <u>&lt;int&gt;</u>
              IFU  to handle. If set to 0, all IFUs are processed serially. If set to -1, all IFUs are processed
              in parallel. (int; default: 0). The full name of this option for the EsoRex configuration file  is
              <b>muse.muse_lingain.nifu</b> [default = <u>0</u>].

       <b>--ybox</b> <u>&lt;int&gt;</u>
              Size  of  windows along the traces of the slices. (int; default: 50). The full name of this option
              for the EsoRex configuration file is <b>muse.muse_lingain.ybox</b> [default = <u>50</u>].

       <b>--xgap</b> <u>&lt;int&gt;</u>
              Extra offset from tracing edge. (int; default: 3). The full name of this  option  for  the  EsoRex
              configuration file is <b>muse.muse_lingain.xgap</b> [default = <u>3</u>].

       <b>--xborder</b> <u>&lt;int&gt;</u>
              Extra  offset  from  the  detector edge used for the selection of slices.  (int; default: 10). The
              full name of this option for the EsoRex configuration file is <b>muse.muse_lingain.xborder</b> [default =
              <u>10</u>].

       <b>--order</b> <u>&lt;int&gt;</u>
              Order of the polynomial used to fit the non-linearity residuals. (int; default: 12). The full name
              of this option for the EsoRex configuration file is <b>muse.muse_lingain.order</b> [default = <u>12</u>].

       <b>--toffset</b> <u>&lt;float&gt;</u>
              Exposure time offset in seconds to apply to linearity flat fields.  (float; default:  0.018).  The
              full name of this option for the EsoRex configuration file is <b>muse.muse_lingain.toffset</b> [default =
              <u>0.018</u>].

       <b>--fluxtol</b> <u>&lt;float&gt;</u>
              Tolerance  value for the overall flux consistency check of a pair of flat fields. The value is the
              maximum relative offset. (float; default: 0.01). The full name  of  this  option  for  the  EsoRex
              configuration file is <b>muse.muse_lingain.fluxtol</b> [default = <u>0.01</u>].

       <b>--sigma</b> <u>&lt;float&gt;</u>
              Sigma  value  used  for signal value clipping. (float; default: 3.0). The full name of this option
              for the EsoRex configuration file is <b>muse.muse_lingain.sigma</b> [default = <u>3.0</u>].

       <b>--signalmin</b> <u>&lt;float&gt;</u>
              Minimum signal value in log(ADU) used for the  gain  analysis  and  the  non-linearity  polynomial
              model.  (float;  default:  0.0). The full name of this option for the EsoRex configuration file is
              <b>muse.muse_lingain.signalmin</b> [default = <u>0.0</u>].

       <b>--signalmax</b> <u>&lt;float&gt;</u>
              Maximum signal value in log(ADU) used for the  gain  analysis  and  the  non-linearity  polynomial
              model.  (float;  default:  4.9). The full name of this option for the EsoRex configuration file is
              <b>muse.muse_lingain.signalmax</b> [default = <u>4.9</u>].

       <b>--signalbin</b> <u>&lt;float&gt;</u>
              Size of a signal bin in log10(ADU) used for the gain analysis  and  the  non-linearity  polynomial
              model.  (float;  default:  0.1). The full name of this option for the EsoRex configuration file is
              <b>muse.muse_lingain.signalbin</b> [default = <u>0.1</u>].

       <b>--gainlimit</b> <u>&lt;float&gt;</u>
              Minimum signal value [ADU] used for fitting the gain relation. (float; default: 100.0).  The  full
              name  of  this  option for the EsoRex configuration file is <b>muse.muse_lingain.gainlimit</b> [default =
              <u>100.0</u>].

       <b>--gainsigma</b> <u>&lt;float&gt;</u>
              Sigma value for gain value clipping. (float; default: 3.0). The full name of this option  for  the
              EsoRex configuration file is <b>muse.muse_lingain.gainsigma</b> [default = <u>3.0</u>].

       <b>--ctsmin</b> <u>&lt;float&gt;</u>
              Minimum  signal  value in log(counts) to consider for the non-linearity analysis. (float; default:
              3.0). The full name of this option for the EsoRex configuration file  is  <b>muse.muse_lingain.ctsmin</b>
              [default = <u>3.0</u>].

       <b>--ctsmax</b> <u>&lt;float&gt;</u>
              Maximum  signal  value in log(counts) to consider for the non-linearity analysis. (float; default:
              4.9). The full name of this option for the EsoRex configuration file  is  <b>muse.muse_lingain.ctsmax</b>
              [default = <u>4.9</u>].

       <b>--ctsbin</b> <u>&lt;float&gt;</u>
              Size  of a signal bin in log10(counts) used for the non-linearity analysis. (float; default: 0.1).
              The full name of this  option  for  the  EsoRex  configuration  file  is  <b>muse.muse_lingain.ctsbin</b>
              [default = <u>0.1</u>].

       <b>--linearmin</b> <u>&lt;float&gt;</u>
              Lower limit of desired linear range in log10(counts). (float; default: 2.5). The full name of this
              option for the EsoRex configuration file is <b>muse.muse_lingain.linearmin</b> [default = <u>2.5</u>].

       <b>--linearmax</b> <u>&lt;float&gt;</u>
              Upper limit of desired linear range in log10(counts). (float; default: 3.0). The full name of this
              option for the EsoRex configuration file is <b>muse.muse_lingain.linearmax</b> [default = <u>3.0</u>].

       <b>--merge</b> <u>&lt;bool&gt;</u>
              Merge  output  products  from  different IFUs into a common file. (bool; default: False). The full
              name of this option for the  EsoRex  configuration  file  is  <b>muse.muse_lingain.merge</b>  [default  =
              <u>False</u>].

       Note  that  it  is  possible to create a configuration file containing these options, along with suitable
       default values. Please refer to the details provided by the 'esorex --help' command.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       The full documentation for the muse pipeline can be downloaded as a PDF file using the following URL:

              <b><a href="ftp://ftp.eso.org/pub/dfs/pipelines/muse/muse-pipeline-cookbook-2.8.7.pdf">ftp://ftp.eso.org/pub/dfs/pipelines/muse/muse-pipeline-cookbook-2.8.7.pdf</a></b>

       An   overview   over   the   existing   ESO   pipelines    can    be    found    on    the    web    page
       <b>https://www.eso.org/sci/software/pipelines/</b>.

       Basic documentation about the EsoRex program can be found at the esorex (1) man page.

       It   is   possible   to   call   the   pipelines   from   python   using  the  python-cpl  package.   See
       <b>https://packages.python.org/python-cpl/index.html</b> for further information.

       The  other  recipes  of  the  muse   pipeline   are   <u><a href="../man7/muse_ampl.7.html">muse_ampl</a></u>(7),   <u><a href="../man7/muse_astrometry.7.html">muse_astrometry</a></u>(7),   <u><a href="../man7/muse_bias.7.html">muse_bias</a></u>(7),
       <u><a href="../man7/muse_create_sky.7.html">muse_create_sky</a></u>(7), <u><a href="../man7/muse_dark.7.html">muse_dark</a></u>(7), <u><a href="../man7/muse_exp_align.7.html">muse_exp_align</a></u>(7), <u><a href="../man7/muse_exp_combine.7.html">muse_exp_combine</a></u>(7), <u><a href="../man7/muse_flat.7.html">muse_flat</a></u>(7), <u><a href="../man7/muse_geometry.7.html">muse_geometry</a></u>(7),
       <u><a href="../man7/muse_illum.7.html">muse_illum</a></u>(7),        <u><a href="../man7/muse_lsf.7.html">muse_lsf</a></u>(7),        <u><a href="../man7/muse_qi_mask.7.html">muse_qi_mask</a></u>(7),       <u><a href="../man7/muse_scibasic.7.html">muse_scibasic</a></u>(7),       <u><a href="../man7/muse_scipost.7.html">muse_scipost</a></u>(7),
       <u><a href="../man7/muse_scipost_apply_astrometry.7.html">muse_scipost_apply_astrometry</a></u>(7),   <u><a href="../man7/muse_scipost_calibrate_flux.7.html">muse_scipost_calibrate_flux</a></u>(7),    <u><a href="../man7/muse_scipost_combine_pixtables.7.html">muse_scipost_combine_pixtables</a></u>(7),
       <u><a href="../man7/muse_scipost_correct_dar.7.html">muse_scipost_correct_dar</a></u>(7),            <u><a href="../man7/muse_scipost_correct_rv.7.html">muse_scipost_correct_rv</a></u>(7),            <u><a href="../man7/muse_scipost_make_cube.7.html">muse_scipost_make_cube</a></u>(7),
       <u><a href="../man7/muse_scipost_raman.7.html">muse_scipost_raman</a></u>(7),         <u><a href="../man7/muse_scipost_subtract_sky.7.html">muse_scipost_subtract_sky</a></u>(7),         <u><a href="../man7/muse_scipost_subtract_sky_simple.7.html">muse_scipost_subtract_sky_simple</a></u>(7),
       <u><a href="../man7/muse_standard.7.html">muse_standard</a></u>(7), <u><a href="../man7/muse_twilight.7.html">muse_twilight</a></u>(7), <u><a href="../man7/muse_wavecal.7.html">muse_wavecal</a></u>(7)

</pre><h4><b>VERSION</b></h4><pre>
       muse_lingain 2.8.7

</pre><h4><b>AUTHOR</b></h4><pre>
       Ralf Palsa &lt;https://support.eso.org&gt;

</pre><h4><b>BUG</b> <b>REPORTS</b></h4><pre>
       Please  report  any  problems to https://support.eso.org. Alternatively, you may send a report to the ESO
       User Support Department &lt;<a href="mailto:usd-help@eso.org">usd-help@eso.org</a>&gt;.

</pre><h4><b>LICENSE</b></h4><pre>
       This file is part of the MUSE Instrument Pipeline Copyright (C) 2005, 2019 European Southern Observatory

       This program is free software; you can redistribute it and/or modify  it  under  the  terms  of  the  GNU
       General  Public License as published by the Free Software Foundation; either version 2 of the License, or
       (at your option) any later version.

       This program is distributed in the hope that it will be useful, but WITHOUT ANY  WARRANTY;  without  even
       the  implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public
       License for more details.

       You should have received a copy of the GNU General Public License along with this program; if not,  write
       to the Free Software Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA  02111-1307  USA

muse_lingain                                          2.8.7                                      <u><a href="../man7/MUSE_LINGAIN.7.html">MUSE_LINGAIN</a></u>(7)
</pre>
 </div>
</div></section>
</div>
</body>
</html>