<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>cdist-type__letsencrypt_cert - Get an SSL certificate from Let's Encrypt</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/cdist">cdist_7.0.0-5_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       cdist-type__letsencrypt_cert - Get an SSL certificate from Let's Encrypt

</pre><h4><b>DESCRIPTION</b></h4><pre>
       Automatically obtain a Let's Encrypt SSL certificate using Certbot.

       This  type attempts to setup automatic renewals always. In many Linux distributions, that is the case out
       of the box, see: <u>https://certbot.eff.org/docs/using.html#automated-renewals</u>

       For Alpine Linux and Arch Linux, we setup a system-wide  cronjob  that  attempts  to  renew  certificates
       daily.

       If you are using FreeBSD, we configure <a href="../man8/periodic.8.html">periodic</a>(8) as recommended by the port mantainer, so there will be
       a weekly attempt at renewal.

       If  your  OS  is not mentioned here or on Certbot's docs as having support for automated renewals, please
       make sure you check your OS and possibly patch this type so the system-wide cronjob is installed.

</pre><h4><b>REQUIRED</b> <b>PARAMETERS</b></h4><pre>
       <b>object</b> <b>id</b>
              A cert name. If domain parameter is not specified then it is used as a domain to  be  included  in
              the certificate.

       <b>admin-email</b>
              Where to send Let's Encrypt emails like "certificate needs renewal".

</pre><h4><b>OPTIONAL</b> <b>PARAMETERS</b></h4><pre>
       <b>state</b>  'present' or 'absent', defaults to 'present' where:

              <b>present</b>
                     if the certificate does not exist, it will be obtained

              <b>absent</b> the certificate will be removed

       <b>webroot</b>
              The  path  to  your webroot, as set up in your webserver config. If this parameter is not present,
              Certbot will be run in standalone mode.

</pre><h4><b>OPTIONAL</b> <b>MULTIPLE</b> <b>PARAMETERS</b></h4><pre>
       <b>domain</b> Domains to be included in the certificate. When specified then object id is not used as a domain.

       <b>deploy-hook</b>
              Command to be executed only when the certificate associated with this <b>$__object_id</b>  is  issued  or
              renewed.   You  can  specify it multiple times, but any failure will prevent further commands from
              being executed.

              For this command, the shell variable <b>$RENEWED_LINEAGE</b> will point to the config  live  subdirectory
              (for  example, <b>/etc/letsencrypt/live/${__object_id}</b>) containing the new certificates and keys; the
              shell variable <b>$RENEWED_DOMAINS</b> will contain a space-delimited list of renewed certificate domains
              (for example, <b>example.com</b> <b>www.example.com</b>)

       <b>pre-hook</b>
              Command to be run in a shell before obtaining any  certificates.   You  can  specify  it  multiple
              times, but any failure will prevent further commands from being executed.

              Note  these  run  regardless  of  which  certificate  is  attempted,  you may want to manage these
              system-wide hooks with <b>__file</b> in <b>/etc/letsencrypt/renewal-hooks/pre/</b>.

              Intended primarily for renewal, where it can be used to temporarily shut  down  a  webserver  that
              might  conflict  with the standalone plugin. This will only be called if a certificate is actually
              to be obtained/renewed.

       <b>post-hook</b>
              Command to be run in a shell after attempting to obtain/renew certificates.  You  can  specify  it
              multiple times, but any failure will prevent further commands from being executed.

              Note  these  run  regardless  of  which  certificate  was  attempted, you may want to manage these
              system-wide hooks with <b>__file</b> in <b>/etc/letsencrypt/renewal-hooks/post/</b>.

              Can be used to deploy renewed certificates, or  to  restart  any  servers  that  were  stopped  by
              --pre-hook. This is only run if an attempt was made to obtain/renew a certificate.

</pre><h4><b>BOOLEAN</b> <b>PARAMETERS</b></h4><pre>
       <b>staging</b>
              Obtain a test certificate from a staging server.

</pre><h4><b>MESSAGES</b></h4><pre>
       <b>change</b> Certificate was changed.

       <b>create</b> Certificate was created.

       <b>remove</b> Certificate was removed.

</pre><h4><b>EXAMPLES</b></h4><pre>
          # use object id as domain
          __letsencrypt_cert example.com \
              --admin-email <a href="mailto:root@example.com">root@example.com</a> \
              --deploy-hook "service nginx reload" \
              --webroot /data/letsencrypt/root

          # domain parameter is specified so object id is not used as domain
          # and example.com needs to be included again with domain parameter
          __letsencrypt_cert example.com \
              --admin-email <a href="mailto:root@example.com">root@example.com</a> \
              --domain example.com \
              --domain foo.example.com \
              --domain bar.example.com \
              --deploy-hook "service nginx reload" \
              --webroot /data/letsencrypt/root

</pre><h4><b>AUTHORS</b></h4><pre>
       Nico Schottelius &lt;<u>nico-cdist--@--schottelius.org</u>&gt;
       Kamila Součková &lt;<u>kamila--@--ksp.sk</u>&gt;
       Darko Poljak &lt;<u>darko.poljak--@--gmail.com</u>&gt;
       Ľubomír Kučera &lt;lubomir.kucera.jr at gmail.com&gt;
       Evilham &lt;<u><a href="mailto:contact@evilham.com">contact@evilham.com</a></u>&gt;

</pre><h4><b>COPYING</b></h4><pre>
       Copyright  (C)  2017-2021  Nico  Schottelius,  Kamila  Součková, Darko Poljak and Ľubomír Kučera. You can
       redistribute it and/or modify it under the terms of the GNU General Public License as  published  by  the
       Free Software Foundation, either version 3 of the License, or (at your option) any later version.

</pre><h4><b>COPYRIGHT</b></h4><pre>
       ungleich GmbH 2021

7.0.0                                             Sep 11, 2024                   <u>CDIST-TYPE</u><b>__</b><u><a href="../man7/LETSENCRYPT_CERT.7.html">LETSENCRYPT_CERT</a></u>(7)
</pre>
 </div>
</div></section>
</div>
</body>
</html>