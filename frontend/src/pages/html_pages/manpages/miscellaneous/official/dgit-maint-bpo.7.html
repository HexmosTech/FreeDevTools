<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>dgit - tips for maintaining official Debian backports</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/dgit">dgit_13.11_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       dgit - tips for maintaining official Debian backports

</pre><h4><b>INTRODUCTION</b></h4><pre>
       This document describes elements of a workflow for using <b>dgit</b> to maintain an official Debian backport.
       We do not assume that whoever uploads the package to Debian unstable is using <b>dgit</b>.

</pre><h4><b>GENERAL</b> <b>TIPS</b></h4><pre>
       The first time a package is backported for any particular Debian release, you will have to pass the --new
       option to dgit.

</pre><h4><b>TERMINOLOGY</b></h4><pre>
       Let the <u>master</u> branch contain the packaging history uploaded to Debian unstable, and the <u>bookworm-bpo</u>
       branch be where you prepare your uploads to the <b>bookworm-backports</b> suite.

       A <b>merging</b> backports workflow means that each time an upload migrates to Debian testing and you want to
       prepare an upload to <b>bookworm-backports</b>, you do something like this:

           % git checkout bookworm-bpo
           % git merge master
           % dch --bpo
           % # any other changes needed for backporting
           % git commit -a
           % # try a build

       A <b>rebasing</b> backports workflow means that you throw away the history of the <u>bookworm-bpo</u> branch each time
       a new version migrates to Debian testing, something equivalent to this:

           % git checkout -B bookworm-bpo master
           % dch --bpo
           % # any other changes needed for backporting
           % git commit -a
           % # try a build

       If you use a merging backports workflow, your changelog contains entries for each previous upload to
       <b>bookworm-backports</b>; in a rebasing workflow, it contains only the latest.

</pre><h4><b>CHOOSING</b> <b>BETWEEN</b> <b>THE</b> <b>TWO</b> <b>WORKFLOWS</b></h4><pre>
       If backporting involves making no (additional) changes to the upstream source, whether you use a merging
       or rebasing backports workflow is a matter of personal preference.  There are good arguments in favour of
       both workflows fitting the semantics of the <b>*-backports</b> suites.

       If you have to make changes to the upstream source to make the package work on machines running Debian
       stable, it is advisable to choose a rebasing workflow.  This ensures that dgit can automatically update
       the debian/patches directory without any manual intervention.

</pre><h4><b>TIPS</b> <b>FOR</b> <b>A</b> <b>MERGING</b> <b>WORKFLOW</b></h4><pre>
   <b>Use</b> <b>dgit's</b> <b>branches</b>
       If you do not yourself upload the package to Debian unstable, it is usually easiest to use dgit's
       branches, and ignore the configured Vcs-Git repository.

       You would use

           % dgit clone foo bookworm

       for a new backport of package 'foo' to <b>bookworm-backports</b>, and then

           % dgit fetch bookworm
           % git merge dgit/dgit/bookworm

       when new versions migrate to Debian testing.

</pre><h4><b>TIPS</b> <b>FOR</b> <b>A</b> <b>REBASING</b> <b>WORKFLOW</b></h4><pre>
   <b>Use</b> <b>dgit's</b> <b>branches</b>
       If you do not yourself upload the package to Debian unstable, it is usually easiest to use dgit's
       branches, and ignore the configured Vcs-Git repository.  For each new version from Debian testing, you
       would

           % dgit fetch bookworm
           % git checkout -B bookworm-bpo dgit/dgit/bookworm
           % # use <a href="../man1/git-cherry-pick.1.html">git-cherry-pick</a>(1) to (re)apply any needed backporting fixes

   <b>Overwriting</b>
       <b>dgit</b> <b>push</b> tries hard to prevent you from accidentally overwriting uploads that it thinks aren't
       represented in the git history you are trying to upload.  This is mainly to prevent accidentally
       overwriting NMUs.

       With a rebasing backports workflow, dgit will think that every upload of a new version from Debian
       testing might be accidentally overwriting uploads.  You will need to explicitly indicate the upload to
       <b>bookworm-backports</b> you wish to overwrite.

       Suppose that the last upload to <b>bookworm-backports</b> was versioned <u>1.2.2-1~bpo10+1</u> and you have now
       prepared <u>1.2.3-1~bpo10+1</u> for upload.  When you <b>dgit</b> <b>push</b>, you will need to pass
       <u>--trust-changelog=1.2.2-1~bpo10+1</u>.

       Alternatively, you can perform the pseudomerge that <u>--trust-changelog</u> would have done yourself:

           % dgit fetch bookworm-backports
           % git merge -s ours dgit/dgit/bookworm-backports
           % dgit push-source

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man1/dgit.1.html">dgit</a></b>(1), <b><a href="../man7/dgit.7.html">dgit</a></b>(7), https://backports.debian.org/

</pre><h4><b>AUTHOR</b></h4><pre>
       This manpage was written and is maintained by Sean Whitton &lt;<a href="mailto:spwhitton@spwhitton.name">spwhitton@spwhitton.name</a>&gt;.

perl v5.40.1                                     Debian Project                                <u><a href="../man7/dgit-maint-bpo.7.html">dgit-maint-bpo</a></u>(7)
</pre>
 </div>
</div></section>
</div>
</body>
</html>