<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>lei - an overview of lei</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/lei">lei_1.9.0-1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       lei - an overview of lei

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b><a href="../man1/lei.1.html">lei</a></b>(1) is a local email interface for public-inbox and personal mail.  This document provides some basic
       examples.

</pre><h4><b>LEI</b> <b>STORE</b></h4><pre>
       lei has writable local storage based on <b><a href="../man5/public-inbox-v2-format.5.html">public-inbox-v2-format</a></b>(5).  Commands will automatically
       initialize the store behind the scenes if needed, but you can call <b><a href="../man1/lei-init.1.html">lei-init</a></b>(1) directly if you want to
       use a store location other than the default "$XDG_DATA_HOME/lei/store".

       The <b><a href="../man1/lei-import.1.html">lei-import</a></b>(1) command provides the primary interface for importing messages into the local storage.
       In addition, other commands, such as <b><a href="../man1/lei-q.1.html">lei-q</a></b>(1) and <b><a href="../man1/lei-blob.1.html">lei-blob</a></b>(1), use the local store to memoize messages
       from remotes.

   <b>EXAMPLES</b>
       $ lei import mboxrd:t.mbox.gz
           Import the messages from a gzipped mboxrd into the local storage.

       $ lei blob 59ec517f9
           Show  message  with  the git blob OID of 59ec517f9.  If a message with that OID isn't found, check if
           the current git repository has the blob, trying to reconstruct it from a message if needed.

       $ lei blob 59ec517f9 | lei tag -F eml +kw:flagged +L:next
           Set the "flagged" keyword and "next" label on the message with the blob OID of 59ec517f9.

</pre><h4><b>EXTERNALS</b></h4><pre>
       In addition to the above store, lei can make read-only  queries  to  "externals":  inboxes  and  external
       indices.   An  external  can  be  registered  by passing a URL or local path to <b><a href="../man1/lei-add-external.1.html">lei-add-external</a></b>(1).  For
       existing local paths, the external needs to be indexed with  <b><a href="../man1/public-inbox-index.1.html">public-inbox-index</a></b>(1)  (in  the  case  of  a
       regular inbox) or <b><a href="../man1/public-inbox-extindex.1.html">public-inbox-extindex</a></b>(1) (in the case of an external index).

</pre><h4><b>SYNCHRONIZATION</b></h4><pre>
       lei  currently  has  primitive  mail  synchronization  abilities;  see <b><a href="../man7/lei-mail-sync-overview.7.html">lei-mail-sync-overview</a></b>(7) for more
       details.

   <b>EXAMPLES</b>
       $ lei add-external https://public-inbox.org/meta/
           Add a remote external for public-inbox's inbox.

       $ lei add-external --mirror https://public-inbox.org/meta/ path
           Clone &lt;https://public-inbox.org/meta/&gt; to "path", index it with <b><a href="../man1/public-inbox-index.1.html">public-inbox-index</a></b>(1), and add it  as
           a local external.

</pre><h4><b>SEARCHING</b></h4><pre>
       The  <b><a href="../man1/lei-q.1.html">lei-q</a></b>(1)  command searches the local store and externals.  The search prefixes match those available
       via <b><a href="../man1/public-inbox-httpd.1.html">public-inbox-httpd</a></b>(1).

   <b>EXAMPLES</b>
       $ lei q s:lei s:skeleton
           Search for messages whose subject includes "lei" and "skeleton".

       $ lei q -t s:lei s:skeleton
           Do the same, but also report unmatched messages that are in the same thread as a matched message.

       $ lei q -t -o /tmp/mdir --mua=mutt s:lei s:skeleton
           Write results to a Maildir at "mdir".  Mutt will be invoked to open  mfolder  ("mutt  -f  %f")  while
           results are being fetched and written.

       $ lei q kw:flagged L:next
           Search for all flagged messages that also have a "next" label.

       $ lei p2q HEAD | lei q -tt -o /tmp/mdir
           Search  for  messages  that have post-image git blob IDs that match those of the current repository's
           HEAD commit, writing them to the Maildir directory "mdir" and flagging  the  messages  that  were  an
           exact match.

       $ git show -s HEAD | lei lcat
           Display a local message for the public-inbox link contained in a commit message.

       $ lei q -f text m:MESSAGE-ID | lei rediff -U5
           Feed  a  message  containing  a diff to <b><a href="../man1/lei-rediff.1.html">lei-rediff</a></b>(1) to regenerate its diff with five context lines.
           Unless "--git-dir" is specified, this requires  the  current  working  directory  to  be  within  the
           associated code repository.

</pre><h4><b>PERFORMANCE</b> <b>NOTES</b></h4><pre>
       Inline::C  is required, lei runs as a background daemon to reduce startup costs and can provide real-time
       <b><a href="../man2/kqueue.2.html">kqueue</a></b>(2)/<b><a href="../man7/inotify.7.html">inotify</a></b>(7) Maildir  monitoring.   IO::KQueue  (p5-IO-KQueue  on  FreeBSD)  and  Linux::Inotify2
       (liblinux-inotify2-perl  and  perl-Linux-Inotify2  in  .deb  and  .rpm-based  distros,  respectively) are
       recommended.

       Socket::MsgHdr is optional (libsocket-msghdr-perl in Debian), and further improves  startup  performance.
       Its effect is most felt when using shell completion.

</pre><h4><b>BASH</b> <b>COMPLETION</b></h4><pre>
       Preliminary  Bash  completion for lei is provided in "contrib/completion/".  Contributions adding support
       for other shells, as well as improvements to the existing Bash completion, are welcome.

</pre><h4><b>UPGRADING</b></h4><pre>
       Since lei runs as a daemon, <b><a href="../man1/lei-daemon-kill.1.html">lei-daemon-kill</a></b>(1) is required to kill the daemon so it can  load  new  code.
       It will be restarted with the next invocation of any lei command.

</pre><h4><b>CAVEATS</b></h4><pre>
       IMAP  and  NNTP  client  performance  is poor on high-latency connections.  It will hopefully be fixed in
       2022.

</pre><h4><b>CONTACT</b></h4><pre>
       Feedback welcome via plain-text mail to &lt;<a href="mailto:meta@public-inbox.org">mailto:meta@public-inbox.org</a>&gt;

       The      mail      archives      are      hosted      at       &lt;https://public-inbox.org/meta/&gt;       and
       &lt;<a href="http://4uok3hntl7oi7b4uf4rtfwefqeexfzil2w6kgk2jn5z2f764irre7byd.onion/meta/">http://4uok3hntl7oi7b4uf4rtfwefqeexfzil2w6kgk2jn5z2f764irre7byd.onion/meta/</a>&gt;

</pre><h4><b>COPYRIGHT</b></h4><pre>
       Copyright all contributors &lt;<a href="mailto:meta@public-inbox.org">mailto:meta@public-inbox.org</a>&gt;

       License: AGPL-3.0+ &lt;https://www.gnu.org/licenses/agpl-3.0.txt&gt;

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man7/lei-mail-sync-overview.7.html">lei-mail-sync-overview</a></b>(7)

public-inbox.git                                   1993-10-02                                    <u><a href="../man7/LEI-OVERVIEW.7.html">LEI-OVERVIEW</a></u>(7)
</pre>
 </div>
</div></section>
</div>
</body>
</html>