<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>xsh_cfg_recover - Optimizes a model configuration to match data taken after a major format change</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/noble/+package/cpl-plugin-xshoo-doc">cpl-plugin-xshoo-doc_3.5.3+dfsg-1build4_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       xsh_cfg_recover - Optimizes a model configuration to match data taken after a major format change

</pre><h4><b>SYNOPSIS</b></h4><pre>
       esorex <b>xsh_cfg_recover</b> [OPTIONS] FILE.sof

</pre><h4><b>DESCRIPTION</b></h4><pre>
       This recipe creates a wavelength solution and an order table.

         Input Frames :
           - [UVB, VIS] A RAW frame (Format = RAW, Tag = FMTCHK_arm)
           - [NIR] Two RAW frames (Format = RAW, Tag = FMTCHK_arm_ON,FMTCHK_arm_OFF)
           - The old model cfg table (Format = TABLE, Tag = XSH_MOD_CFG_TAB_arm)
           - A ref. line list. The model computes corresponding positions
             (Format = TABLE, Tag = ARC_LINE_LIST_arm)
           - [UVB,VIS,OPTIONAL] A master bias (Format = PRE, Tag = MASTER_BIAS_arm)
           - [UVB,VIS,OPTIONAL] A master dark (Format = PRE, Tag = MASTER_DARK_arm)
           - [OPTIONAL-Required if method=pm,peaks]
            An order table (Format = TABLE, Tag = ORDER_TAB_CENTR_arm)
           - [OPTIONAL-Required if first-anneal=TRUE]
             A table with measured line positions (Format = TABLE, Tag = XSH_MEASCOORD_arm)
         Products :
           - if first-anneal=FALSE &amp; last-step=FALSE
             nothing
           - if first-anneal=TRUE &amp; last-step=FALSE
             an optimized model configuration, PRO.CATG=XSH_MOD_CFG_arm
           - if last-step=TRUE
             an optimized model configuration, PRO.CATG=XSH_MOD_FAN_arm
             an optimized model configuration, PRO.CATG=XSH_MOD_CFG_OPT_arm
             an quality control table, PRO.CATG=MODEL_GUESS_XY_arm
             the model theoretical map corresponding to the optimized model config,
             PRO.CATG=THEO_TAB_MULT_arm, THEO_TAB_IFU_arm, and THEO_TAB_SING_arm

</pre><h4><b>OPTIONS</b></h4><pre>
       <b>--keep-temp</b> <u>&lt;str&gt;</u>
              If  ´no´,  temporary files are deleted. (str; default: ´no´). The full name of this option for the
              EsoRex configuration file is <b>xsh.xsh_cfg_recover.keep-temp</b> [default = <u>no</u>].

       <b>--debug-level</b> <u>&lt;str&gt;</u>
              Additional xshooter debug level. One of ´none´, ´low´, ´medium´, ´high´  (str;  default:  ´none´).
              The  full name of this option for the EsoRex configuration file is <b>xsh.xsh_cfg_recover.debug-level</b>
              [default = <u>none</u>].

       <b>--time-stamp</b> <u>&lt;bool&gt;</u>
              Add timestamp to product file name. (bool; default: False). The full name of this option  for  the
              EsoRex configuration file is <b>xsh.xsh_cfg_recover.time-stamp</b> [default = <u>False</u>].

       <b>--decode-bp</b> <u>&lt;int&gt;</u>
              Integer  representation  of  the  bits to be considered bad when decoding the bad pixel mask pixel
              values.   Most frequent codes relevant for the user:   0: good pixel,   8:  pick-up  noise,    16:
              cosmic-ray  removed,    32:  cosmic-ray unremoved,   128: calibration file defect, 256: hot pixel,
              512:  dark  pixel,    4096:  A/D  converted  saturation,  32768:  non  linear  pixel,     1048576:
              extrapolated   flux   in  NIR,  4194304:  Interpolated  flux  during  extraction.  (int;  default:
              2144337919).  The  full  name  of   this   option   for   the   EsoRex   configuration   file   is
              <b>xsh.xsh_cfg_recover.decode-bp</b> [default = <u>2144337919</u>].

       <b>--first-anneal</b> <u>&lt;bool&gt;</u>
              Run  first  annealing  (TRUE)  or  not  (FALSE)See  recipe man-page % Input frames (bool; default:
              False).   The   full   name   of   this   option   for   the   EsoRex   configuration   file    is
              <b>xsh.xsh_cfg_recover.first-anneal</b> [default = <u>False</u>].

       <b>--arm</b> <u>&lt;str&gt;</u>
              Arm  setting:   (str;  default:  ´vis´). The full name of this option for the EsoRex configuration
              file is <b>xsh.xsh_model_compute.arm</b> [default = <u>vis</u>].

       <b>--name_i</b> <u>&lt;str&gt;</u>
              Filename with wavelength,x,y,order:  (str; default: ´line_xy_ord.txt´).  The  full  name  of  this
              option   for   the   EsoRex   configuration   file   is  <b>xsh.xsh_model_compute.name_i</b>  [default  =
              <u>line_xy_ord.txt</u>].

       <b>--niter</b> <u>&lt;int&gt;</u>
              No of iterations for first anneal (int; default: 100000). The full name of  this  option  for  the
              EsoRex configuration file is <b>xsh.xsh_model_compute.niter</b> [default = <u>100000</u>].

       <b>--coord_frame</b> <u>&lt;int&gt;</u>
              Co-ordinate  frame for centroids (0=raw,1=pre) (int; default: 1). The full name of this option for
              the EsoRex configuration file is <b>xsh.xsh_model_compute.coord_frame</b> [default = <u>1</u>].

       <b>--last-step</b> <u>&lt;bool&gt;</u>
              Run last step (TRUE) or not (FALSE)See recipe man-page % Input frames (bool; default: False).  The
              full  name  of  this  option  for  the  EsoRex configuration file is <b>xsh.xsh_cfg_recover.last-step</b>
              [default = <u>False</u>].

       <b>--plot</b> <u>&lt;bool&gt;</u>
              Display plot (TRUE) or not (FALSE) (bool; default: False). The full name of this  option  for  the
              EsoRex configuration file is <b>xsh.xsh_cfg_recover.plot</b> [default = <u>False</u>].

       <b>--ima_tresh_min</b> <u>&lt;float&gt;</u>
              Min  thresh  raw  image.  (float;  default:  40.0).  The  full  name of this option for the EsoRex
              configuration file is <b>xsh.xsh_cfg_recover.ima_thresh_min</b> [default = <u>40.0</u>].

       <b>--cor_prescan</b> <u>&lt;bool&gt;</u>
              Correct for prescan (bool;  default:  False).  The  full  name  of  this  option  for  the  EsoRex
              configuration file is <b>xsh.xsh_cfg_recover.cor_prescan</b> [default = <u>False</u>].

       <b>--method</b> <u>&lt;str&gt;</u>
              Model  predictions correction method. safefit: safe fitgfit: 2D Gaussian line fitpeaks: line peaks
              detectionpm: line peaks detection &amp; pattern match (str; default: ´safefit´). The full name of this
              option for the EsoRex configuration file is <b>xsh.xsh_cfg_recover.method</b> [default = <u>safefit</u>].

       <b>--offx</b> <u>&lt;float&gt;</u>
              X offset to model predictions (float; default: 0.0). The full name of this option for  the  EsoRex
              configuration file is <b>xsh.xsh_cfg_recover.offx</b> [default = <u>0.0</u>].

       <b>--offy</b> <u>&lt;float&gt;</u>
              Y  offset  to model predictions (float; default: 0.0). The full name of this option for the EsoRex
              configuration file is <b>xsh.xsh_cfg_recover.offy</b> [default = <u>0.0</u>].

       <b>--slit</b> <u>&lt;int&gt;</u>
              Extraction slit (int; default: 5). The full name of this option for the EsoRex configuration  file
              is <b>xsh.xsh_cfg_recover.slit</b> [default = <u>5</u>].

       <b>--gfit_box_sy</b> <u>&lt;int&gt;</u>
              Gauss  fit  Y  search box size for lines on actual frame (int; default: 20). The full name of this
              option for the EsoRex configuration file is <b>xsh.xsh_cfg_recover.gfit_box_sy</b> [default = <u>20</u>].

       <b>--peak_line_fwhm</b> <u>&lt;int&gt;</u>
              The FWHM used in line convolution, in pixel units (int; default: 4). The full name of this  option
              for the EsoRex configuration file is <b>xsh.xsh_cfg_recover.peak_line_fwhm</b> [default = <u>4</u>].

       <b>--peak_kappa</b> <u>&lt;float&gt;</u>
              The  kappa value, used to identify line peaks if max&gt;kappa*stdev+median, max is a valid peak where
              max, stdev,median are computed on the extracted spectrum (float; default: 5.0). The full  name  of
              this option for the EsoRex configuration file is <b>xsh.xsh_cfg_recover.peak_kappa</b> [default = <u>5.0</u>].

       <b>--peak_factor</b> <u>&lt;float&gt;</u>
              Relative Intensity threshold factor for line peaks detection (float; default: 10.0). The full name
              of  this  option  for  the EsoRex configuration file is <b>xsh.xsh_cfg_recover.peak_factor</b> [default =
              <u>10.0</u>].

       <b>--peak_match_x</b> <u>&lt;int&gt;</u>
              Radii for line peaks matches (int; default: 10). The full name  of  this  option  for  the  EsoRex
              configuration file is <b>xsh.xsh_cfg_recover.peak_match_x</b> [default = <u>10</u>].

       <b>--peak_match_y</b> <u>&lt;int&gt;</u>
              Radii  for  line  peaks  matches  (int;  default: 20). The full name of this option for the EsoRex
              configuration file is <b>xsh.xsh_cfg_recover.peak_match_y</b> [default = <u>20</u>].

       <b>--pm_ord_sel</b> <u>&lt;int&gt;</u>
              From   guess   line   and   peaks   positions   are   extracted   the   ones    in    the    range
              [ord_min,ord_min+pm_ord_sel]   (int;  default:  1).  The  full  name of this option for the EsoRex
              configuration file is <b>xsh.xsh_cfg_recover.pm_ord_sel</b> [default = <u>1</u>].

       <b>--pm_radius</b> <u>&lt;float&gt;</u>
              Search radius applied in final pattern matching (data units). (float;  default:  20.0).  The  full
              name  of this option for the EsoRex configuration file is <b>xsh.xsh_cfg_recover.pm_radius</b> [default =
              <u>20.0</u>].

       <b>--pm_tolerance</b> <u>&lt;float&gt;</u>
              Max relative difference of angles and scales from their median value for match acceptance. (float;
              default:  0.1).  The  full  name  of  this  option  for   the   EsoRex   configuration   file   is
              <b>xsh.xsh_cfg_recover.pm_tolerance</b> [default = <u>0.1</u>].

       <b>--anneal_niter</b> <u>&lt;int&gt;</u>
              Simulated  annealing  iterations (int; default: 1000). The full name of this option for the EsoRex
              configuration file is <b>xsh.xsh_cfg_recover.anneal_niter</b> [default = <u>1000</u>].

       Note that it is possible to create a configuration file containing these  options,  along  with  suitable
       default values. Please refer to the details provided by the 'esorex --help' command.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       The full documentation for the xshoo pipeline can be downloaded as a PDF file using the following URL:

              <b><a href="ftp://ftp.eso.org/pub/dfs/pipelines/xshoo/xshoo-pipeline-manual-12.1.pdf">ftp://ftp.eso.org/pub/dfs/pipelines/xshoo/xshoo-pipeline-manual-12.1.pdf</a></b>

       An    overview    over    the    existing    ESO    pipelines    can   be   found   on   the   web   page
       <b>https://www.eso.org/sci/software/pipelines/</b>.

       Basic documentation about the EsoRex program can be found at the esorex (1) man page.

       It  is  possible  to  call   the   pipelines   from   python   using   the   python-cpl   package.    See
       <b>https://packages.python.org/python-cpl/index.html</b> for further information.

       The   other   recipes   of   the  xshoo  pipeline  are  <u><a href="../man7/xsh_2dmap.7.html">xsh_2dmap</a></u>(7),  <u><a href="../man7/xsh_flexcomp.7.html">xsh_flexcomp</a></u>(7),  <u><a href="../man7/xsh_geom_ifu.7.html">xsh_geom_ifu</a></u>(7),
       <u><a href="../man7/xsh_lingain.7.html">xsh_lingain</a></u>(7),    <u><a href="../man7/xsh_mbias.7.html">xsh_mbias</a></u>(7),    <u><a href="../man7/xsh_mdark.7.html">xsh_mdark</a></u>(7),    <u><a href="../man7/xsh_mflat.7.html">xsh_mflat</a></u>(7),    <u><a href="../man7/xsh_orderpos.7.html">xsh_orderpos</a></u>(7),    <u><a href="../man7/xsh_predict.7.html">xsh_predict</a></u>(7),
       <u><a href="../man7/xsh_respon_slit_nod.7.html">xsh_respon_slit_nod</a></u>(7),  <u><a href="../man7/xsh_respon_slit_offset.7.html">xsh_respon_slit_offset</a></u>(7),  <u><a href="../man7/xsh_respon_slit_stare.7.html">xsh_respon_slit_stare</a></u>(7),  <u><a href="../man7/xsh_scired_ifu_offset.7.html">xsh_scired_ifu_offset</a></u>(7),
       <u><a href="../man7/xsh_scired_ifu_offset_drl.7.html">xsh_scired_ifu_offset_drl</a></u>(7),            <u><a href="../man7/xsh_scired_ifu_stare.7.html">xsh_scired_ifu_stare</a></u>(7),            <u><a href="../man7/xsh_scired_ifu_stare_drl.7.html">xsh_scired_ifu_stare_drl</a></u>(7),
       <u><a href="../man7/xsh_scired_slit_nod.7.html">xsh_scired_slit_nod</a></u>(7),    <u><a href="../man7/xsh_scired_slit_offset.7.html">xsh_scired_slit_offset</a></u>(7),    <u><a href="../man7/xsh_scired_slit_stare.7.html">xsh_scired_slit_stare</a></u>(7),   <u><a href="../man7/xsh_util_physmod.7.html">xsh_util_physmod</a></u>(7),
       <u><a href="../man7/xsh_wavecal.7.html">xsh_wavecal</a></u>(7)

</pre><h4><b>VERSION</b></h4><pre>
       xsh_cfg_recover 3.5.3

</pre><h4><b>AUTHOR</b></h4><pre>
       A. Modigliani, P. Bristow &lt;<a href="mailto:amodigli@eso.org">amodigli@eso.org</a>&gt;

</pre><h4><b>BUG</b> <b>REPORTS</b></h4><pre>
       Please report any problems to <a href="mailto:amodigli@eso.org">amodigli@eso.org</a>. Alternatively, you may send a  report  to  the  ESO  User
       Support Department &lt;<a href="mailto:usd-help@eso.org">usd-help@eso.org</a>&gt;.

</pre><h4><b>LICENSE</b></h4><pre>
       This file is part of the X-shooter Instrument Pipeline Copyright (C) 2006 European Southern Observatory

       This  program  is  free  software;  you  can  redistribute it and/or modify it under the terms of the GNU
       General Public License as published by the Free Software Foundation; either version 2 of the License,  or
       (at your option) any later version.

       This  program  is  distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even
       the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General  Public
       License for more details.

       You  should have received a copy of the GNU General Public License along with this program; if not, write
       to the Free Software Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA

xsh_cfg_recover                                       3.5.3                                   <u><a href="../man7/XSH_CFG_RECOVER.7.html">XSH_CFG_RECOVER</a></u>(7)
</pre>
 </div>
</div></section>
</div>
</body>
</html>