<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>muse_scibasic  -  Remove  the  instrumental  signature from the data of each CCD and convert them from an</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/noble/+package/cpl-plugin-muse-doc">cpl-plugin-muse-doc_2.8.7+dfsg-3_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       muse_scibasic  -  Remove  the  instrumental  signature from the data of each CCD and convert them from an
       image into a pixel table.

</pre><h4><b>SYNOPSIS</b></h4><pre>
       esorex <b>muse_scibasic</b> [OPTIONS] FILE.sof

</pre><h4><b>DESCRIPTION</b></h4><pre>
       Processing handles each raw input image separately: it trims  the  raw  data  and  records  the  overscan
       statistics,  subtracts the bias (taking account of the overscan, if --overscan is not "none"), optionally
       detects cosmic rays (note that by default cosmic ray rejection is handled in the post processing  recipes
       while  the  data is reformatted into a datacube, so that the default setting is cr="none" here), converts
       the images from adu to count, subtracts the dark, divides by the flat-field, and (optionally)  propagates
       the   integrated   flux  value  from  the  twilight-sky  cube.  The  reduced  image  is  then  saved  (if
       --saveimage=true). The input calibrations geometry table, trace table, and wavelength  calibration  table
       are  used  to  assign  3D  coordinates  to  each CCD-based pixel, thereby creating a pixel table for each
       exposure. If --skylines contains one or more wavelengths for (bright and isolated)  sky  emission  lines,
       these  lines  are  used  to correct the wavelength calibration using an offset. The data is then cut to a
       useful wavelength range (if --crop=true). If an ILLUM exposure was given as input, it  is  then  used  to
       correct  the  relative  illumination  between  all slices of one IFU. For this, the data of each slice is
       multiplied by the normalized median flux of that slice in the ILLUM exposure. As last step, the  data  is
       divided  by  the  normalized twilight cube (if given), using the 3D coordinate of each pixel in the pixel
       table to interpolate the twilight correction onto  the  data.  This  pre-reduced  pixel  table  for  each
       exposure is then saved to disk.

</pre><h4><b>OPTIONS</b></h4><pre>
       <b>--nifu</b> <u>&lt;int&gt;</u>
              IFU  to handle. If set to 0, all IFUs are processed serially. If set to -1, all IFUs are processed
              in parallel. (int; default: 0). The full name of this option for the EsoRex configuration file  is
              <b>muse.muse_scibasic.nifu</b> [default = <u>0</u>].

       <b>--overscan</b> <u>&lt;str&gt;</u>
              If this is "none", stop when detecting discrepant overscan levels (see ovscsigma), for "offset" it
              assumes  that  the  mean  overscan  level  represents  the  real  offset in the bias levels of the
              exposures involved, and adjusts the data accordingly; for "vpoly", a  polynomial  is  fit  to  the
              vertical  overscan  and subtracted from the whole quadrant. (str; default: ´vpoly´). The full name
              of this option for the EsoRex configuration file is <b>muse.muse_scibasic.overscan</b> [default = <u>vpoly</u>].

       <b>--ovscreject</b> <u>&lt;str&gt;</u>
              This influences how values are rejected when computing overscan statistics. Either no rejection at
              all ("none"), rejection using the DCR algorithm ("dcr"), or rejection using an iterative  constant
              fit ("fit"). (str; default: ´dcr´). The full name of this option for the EsoRex configuration file
              is <b>muse.muse_scibasic.ovscreject</b> [default = <u>dcr</u>].

       <b>--ovscsigma</b> <u>&lt;float&gt;</u>
              If  the  deviation  of  mean  overscan levels between a raw input image and the reference image is
              higher than |ovscsigma x stdev|, stop the processing. If overscan="vpoly", this is used  as  sigma
              rejection  level  for  the  iterative polynomial fit (the level comparison is then done afterwards
              with |100 x stdev| to guard against incompatible settings).  Has no effect for  overscan="offset".
              (float;  default:  30.0).  The  full  name  of  this  option  for the EsoRex configuration file is
              <b>muse.muse_scibasic.ovscsigma</b> [default = <u>30.0</u>].

       <b>--ovscignore</b> <u>&lt;int&gt;</u>
              The number of pixels of the overscan adjacent to the data section of the CCD that are ignored when
              computing statistics or fits. (int; default: 3). The full name  of  this  option  for  the  EsoRex
              configuration file is <b>muse.muse_scibasic.ovscignore</b> [default = <u>3</u>].

       <b>--crop</b> <u>&lt;bool&gt;</u>
              Automatically  crop  the  output  pixel  tables  in  wavelength  depending  on the expected useful
              wavelength range of the active instrument mode (4750-9350  Angstrom  for  nominal  mode  and  NFM,
              4700-9350  Angstrom  for  nominal AO mode, and 4600-9350 Angstrom for the extended modes).  (bool;
              default:  True).  The  full  name  of  this  option  for  the   EsoRex   configuration   file   is
              <b>muse.muse_scibasic.crop</b> [default = <u>True</u>].

       <b>--cr</b> <u>&lt;str&gt;</u>
              Type  of cosmic ray cleaning to use (for quick-look data processing).  (str; default: ´none´). The
              full name of this option for the EsoRex configuration file  is  <b>muse.muse_scibasic.cr</b>  [default  =
              <u>none</u>].

       <b>--xbox</b> <u>&lt;int&gt;</u>
              Search  box  size  in x. Only used if cr=dcr. (int; default: 15). The full name of this option for
              the EsoRex configuration file is <b>muse.muse_scibasic.xbox</b> [default = <u>15</u>].

       <b>--ybox</b> <u>&lt;int&gt;</u>
              Search box size in y. Only used if cr=dcr. (int; default: 40). The full name of  this  option  for
              the EsoRex configuration file is <b>muse.muse_scibasic.ybox</b> [default = <u>40</u>].

       <b>--passes</b> <u>&lt;int&gt;</u>
              Maximum  number  of cleaning passes. Only used if cr=dcr. (int; default: 2). The full name of this
              option for the EsoRex configuration file is <b>muse.muse_scibasic.passes</b> [default = <u>2</u>].

       <b>--thres</b> <u>&lt;float&gt;</u>
              Threshold for detection gap in factors  of  standard  deviation.  Only  used  if  cr=dcr.  (float;
              default:   5.8).   The   full   name   of  this  option  for  the  EsoRex  configuration  file  is
              <b>muse.muse_scibasic.thres</b> [default = <u>5.8</u>].

       <b>--combine</b> <u>&lt;str&gt;</u>
              Type of combination to use. Note that in most cases, science exposures cannot easily  be  combined
              on  the CCD level, so this should usually be kept as "none"! This does not pay attention about the
              type of input data, and will combine all raw inputs! (str; default: ´none´). The full name of this
              option for the EsoRex configuration file is <b>muse.muse_scibasic.combine</b> [default = <u>none</u>].

       <b>--nlow</b> <u>&lt;int&gt;</u>
              Number of minimum pixels to reject with minmax (int; default: 1). The full name of this option for
              the EsoRex configuration file is <b>muse.muse_scibasic.nlow</b> [default = <u>1</u>].

       <b>--nhigh</b> <u>&lt;int&gt;</u>
              Number of maximum pixels to reject with minmax (int; default: 1). The full name of this option for
              the EsoRex configuration file is <b>muse.muse_scibasic.nhigh</b> [default = <u>1</u>].

       <b>--nkeep</b> <u>&lt;int&gt;</u>
              Number of pixels to keep with minmax (int; default: 1). The full  name  of  this  option  for  the
              EsoRex configuration file is <b>muse.muse_scibasic.nkeep</b> [default = <u>1</u>].

       <b>--lsigma</b> <u>&lt;float&gt;</u>
              Low sigma for pixel rejection with sigclip (float; default: 3.0). The full name of this option for
              the EsoRex configuration file is <b>muse.muse_scibasic.lsigma</b> [default = <u>3.0</u>].

       <b>--hsigma</b> <u>&lt;float&gt;</u>
              High  sigma  for  pixel rejection with sigclip (float; default: 3.0). The full name of this option
              for the EsoRex configuration file is <b>muse.muse_scibasic.hsigma</b> [default = <u>3.0</u>].

       <b>--scale</b> <u>&lt;bool&gt;</u>
              Scale the individual images to a common exposure  time  before  combining  them.  (bool;  default:
              True).  The full name of this option for the EsoRex configuration file is <b>muse.muse_scibasic.scale</b>
              [default = <u>True</u>].

       <b>--saveimage</b> <u>&lt;bool&gt;</u>
              Save the pre-processed CCD-based image of each input exposure before  it  is  transformed  into  a
              pixel table. (bool; default: True). The full name of this option for the EsoRex configuration file
              is <b>muse.muse_scibasic.saveimage</b> [default = <u>True</u>].

       <b>--skylines</b> <u>&lt;str&gt;</u>
              List  of wavelengths of sky emission lines (in Angstrom) to use as reference for wavelength offset
              correction using a Gaussian fit. It can contain  multiple  (isolated)  lines,  as  comma-separated
              list,  individual  shifts  are  then  combined into one weighted average offset.  Set to "none" to
              deactivate. (str; default: ´5577.339,6300.304´). The full name  of  this  option  for  the  EsoRex
              configuration file is <b>muse.muse_scibasic.skylines</b> [default = <u>5577.339,6300.304</u>].

       <b>--skyhalfwidth</b> <u>&lt;float&gt;</u>
              Half-width  of  the  extraction  box (in Angstrom) around each sky emission line. (float; default:
              5.0).   The   full   name   of   this   option   for   the   EsoRex    configuration    file    is
              <b>muse.muse_scibasic.skyhalfwidth</b> [default = <u>5.0</u>].

       <b>--skybinsize</b> <u>&lt;float&gt;</u>
              Size  of  the bins (in Angstrom per pixel) for the intermediate spectrum to do the Gaussian fit to
              each sky emission line. (float; default: 0.1). The  full  name  of  this  option  for  the  EsoRex
              configuration file is <b>muse.muse_scibasic.skybinsize</b> [default = <u>0.1</u>].

       <b>--skyreject</b> <u>&lt;str&gt;</u>
              Sigma  clipping  parameters  for  the  intermediate  spectrum  to  do the Gaussian fit to each sky
              emission line. Up to three comma-separated numbers can be given, which  are  interpreted  as  high
              sigma-clipping limit (float), low limit (float), and number of iterations (integer), respectively.
              (str;  default:  ´15.,15.,1´).  The  full name of this option for the EsoRex configuration file is
              <b>muse.muse_scibasic.skyreject</b> [default = <u>15.,15.,1</u>].

       <b>--resample</b> <u>&lt;bool&gt;</u>
              Resample the input science data into 2D spectral images using  all  supplied  calibrations  for  a
              visual  check.  Note  that  the  image  produced  will  show  small  wiggles  even  when the input
              calibrations are good and were applied successfully! (bool; default: False). The full name of this
              option for the EsoRex configuration file is <b>muse.muse_scibasic.resample</b> [default = <u>False</u>].

       <b>--dlambda</b> <u>&lt;float&gt;</u>
              Wavelength step (in Angstrom per pixel) to use for resampling. (float; default:  1.25).  The  full
              name  of  this  option  for the EsoRex configuration file is <b>muse.muse_scibasic.dlambda</b> [default =
              <u>1.25</u>].

       <b>--merge</b> <u>&lt;bool&gt;</u>
              Merge output products from different IFUs into a common file. (bool;  default:  False).  The  full
              name  of  this  option  for  the  EsoRex configuration file is <b>muse.muse_scibasic.merge</b> [default =
              <u>False</u>].

       Note that it is possible to create a configuration file containing these  options,  along  with  suitable
       default values. Please refer to the details provided by the 'esorex --help' command.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       The full documentation for the muse pipeline can be downloaded as a PDF file using the following URL:

              <b><a href="ftp://ftp.eso.org/pub/dfs/pipelines/muse/muse-pipeline-cookbook-2.8.7.pdf">ftp://ftp.eso.org/pub/dfs/pipelines/muse/muse-pipeline-cookbook-2.8.7.pdf</a></b>

       An    overview    over    the    existing    ESO    pipelines    can   be   found   on   the   web   page
       <b>https://www.eso.org/sci/software/pipelines/</b>.

       Basic documentation about the EsoRex program can be found at the esorex (1) man page.

       It  is  possible  to  call   the   pipelines   from   python   using   the   python-cpl   package.    See
       <b>https://packages.python.org/python-cpl/index.html</b> for further information.

       The   other   recipes   of   the   muse  pipeline  are  <u><a href="../man7/muse_ampl.7.html">muse_ampl</a></u>(7),  <u><a href="../man7/muse_astrometry.7.html">muse_astrometry</a></u>(7),  <u><a href="../man7/muse_bias.7.html">muse_bias</a></u>(7),
       <u><a href="../man7/muse_create_sky.7.html">muse_create_sky</a></u>(7), <u><a href="../man7/muse_dark.7.html">muse_dark</a></u>(7), <u><a href="../man7/muse_exp_align.7.html">muse_exp_align</a></u>(7), <u><a href="../man7/muse_exp_combine.7.html">muse_exp_combine</a></u>(7), <u><a href="../man7/muse_flat.7.html">muse_flat</a></u>(7), <u><a href="../man7/muse_geometry.7.html">muse_geometry</a></u>(7),
       <u><a href="../man7/muse_illum.7.html">muse_illum</a></u>(7),       <u><a href="../man7/muse_lingain.7.html">muse_lingain</a></u>(7),        <u><a href="../man7/muse_lsf.7.html">muse_lsf</a></u>(7),        <u><a href="../man7/muse_qi_mask.7.html">muse_qi_mask</a></u>(7),        <u><a href="../man7/muse_scipost.7.html">muse_scipost</a></u>(7),
       <u><a href="../man7/muse_scipost_apply_astrometry.7.html">muse_scipost_apply_astrometry</a></u>(7),    <u><a href="../man7/muse_scipost_calibrate_flux.7.html">muse_scipost_calibrate_flux</a></u>(7),   <u><a href="../man7/muse_scipost_combine_pixtables.7.html">muse_scipost_combine_pixtables</a></u>(7),
       <u><a href="../man7/muse_scipost_correct_dar.7.html">muse_scipost_correct_dar</a></u>(7),            <u><a href="../man7/muse_scipost_correct_rv.7.html">muse_scipost_correct_rv</a></u>(7),            <u><a href="../man7/muse_scipost_make_cube.7.html">muse_scipost_make_cube</a></u>(7),
       <u><a href="../man7/muse_scipost_raman.7.html">muse_scipost_raman</a></u>(7),         <u><a href="../man7/muse_scipost_subtract_sky.7.html">muse_scipost_subtract_sky</a></u>(7),         <u><a href="../man7/muse_scipost_subtract_sky_simple.7.html">muse_scipost_subtract_sky_simple</a></u>(7),
       <u><a href="../man7/muse_standard.7.html">muse_standard</a></u>(7), <u><a href="../man7/muse_twilight.7.html">muse_twilight</a></u>(7), <u><a href="../man7/muse_wavecal.7.html">muse_wavecal</a></u>(7)

</pre><h4><b>VERSION</b></h4><pre>
       muse_scibasic 2.8.7

</pre><h4><b>AUTHOR</b></h4><pre>
       Peter Weilbacher &lt;https://support.eso.org&gt;

</pre><h4><b>BUG</b> <b>REPORTS</b></h4><pre>
       Please report any problems to https://support.eso.org. Alternatively, you may send a report  to  the  ESO
       User Support Department &lt;<a href="mailto:usd-help@eso.org">usd-help@eso.org</a>&gt;.

</pre><h4><b>LICENSE</b></h4><pre>
       This file is part of the MUSE Instrument Pipeline Copyright (C) 2005, 2019 European Southern Observatory

       This  program  is  free  software;  you  can  redistribute it and/or modify it under the terms of the GNU
       General Public License as published by the Free Software Foundation; either version 2 of the License,  or
       (at your option) any later version.

       This  program  is  distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even
       the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General  Public
       License for more details.

       You  should have received a copy of the GNU General Public License along with this program; if not, write
       to the Free Software Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA  02111-1307  USA

muse_scibasic                                         2.8.7                                     <u><a href="../man7/MUSE_SCIBASIC.7.html">MUSE_SCIBASIC</a></u>(7)
</pre>
 </div>
</div></section>
</div>
</body>
</html>