<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>cupt_functionselectors - syntax of functional selectors in cupt package manager</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/cupt">cupt_2.10.4+nmu2build2_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       cupt_functionselectors - syntax of functional selectors in cupt package manager

</pre><h4><b>AIM</b></h4><pre>
       Functional selectors are used for fine-grained selection of versions. While standard mechanisms provide a
       way  to select versions by package name, version string and/or distribution, functional selectors embed a
       microlanguage to select versions by their various properties.

</pre><h4><b>SYNTAX</b></h4><pre>
       Functional selector expression (FSE) consists of <b>function</b> <b>name</b> and <b>list</b> <b>of</b> <b>arguments</b>:

       '<u>function_name</u>(<u>argument1</u>, <u>argument2</u>, ... <u>argumentN</u>)'

       Every argument can be a FSE itself or a string. Arguments are separated by  the  comma  (,).   Additional
       whitespace  characters  (space, tab, newline) are allowed (and ignored by parser) anywhere except between
       the function name and the opening bracket.

       If the argument is a string and contains commas or round brackets,  the  argument  should  be  quoted  by
       placing the / character around it ('/<u>argument</u>/').

       If the function receives no arguments, arguments bracked may be omitted: '<u>function_name</u>' is an equivalent
       to '<u>function_name</u>()'.

       The  expression  '<u>argument1</u>  &amp;  <u>argument2</u>  &amp; ... &amp; <u>argumentN</u>' is a special short form for 'and(<u>argument1</u>,
       <u>argument2</u>, ...  <u>argumentN</u>)'. Similarly, the expression '<u>argument1</u> | <u>argument2</u> | ...  |  <u>argumentN</u>'  is  a
       special short form for 'or(<u>argument1</u>, <u>argument2</u>, ...  <u>argumentN</u>)'

</pre><h4><b>FUNCTION</b> <b>REFERENCE</b></h4><pre>
   <b>Logic</b> <b>functions</b>
       Receive FSEs as arguments.

       ┌──────────────────────────────┬────────────────┬──────────────────────────────────────────┐
       │  <b>Function</b> <b>name</b> <b>and</b> <b>arguments</b> │ <b>Argument</b> <b>count</b> │ <b>Returns</b> <b>versions</b> <b>which...</b>                │
       ├──────────────────────────────┼────────────────┼──────────────────────────────────────────┤
       │  and(<u>fse1</u>, <u>fse2</u>, ... <u>fseN</u>)   │ ≥ 1            │ satisfy all of the <u>fse1</u>..<u>fseN</u>            │
       ├──────────────────────────────┼────────────────┼──────────────────────────────────────────┤
       │  or(<u>fse1</u>, <u>fse2</u>, ... <u>fseN</u>)    │ ≥ 1            │ satisfy any of the <u>fse1</u>..<u>fseN</u>            │
       ├──────────────────────────────┼────────────────┼──────────────────────────────────────────┤
       │  not(<u>fse</u>)                    │ 1              │ don't satisfy <u>fse</u>                        │
       ├──────────────────────────────┼────────────────┼──────────────────────────────────────────┤
       │  xor(<u>fse1</u>, <u>fse2</u>)             │ 2              │ satisfy either <u>fse1</u> or <u>fse2</u> but not both │
       └──────────────────────────────┴────────────────┴──────────────────────────────────────────┘

   <b>Package</b> <b>property</b> <b>functions</b>
       ┌────────────────────────────────────┬─────────────┬────────────────────────────────────────────┬─────────────────────────────────┐
       │  <b>Function</b> <b>name</b> <b>and</b> <b>arguments</b>       │ <b>Short</b> <b>alias</b> │ <b>Returns</b> <b>versions</b> <b>which...</b>                  │ <b>Notes</b>                           │
       ├────────────────────────────────────┼─────────────┼────────────────────────────────────────────┼─────────────────────────────────┤
       │  package:name(<u>regex</u>)               │ Pn          │ package name matches <u>regex</u>                 │                                 │
       ├────────────────────────────────────┼─────────────┼────────────────────────────────────────────┼─────────────────────────────────┤
       │  package:installed()               │ Pi          │ belong to to installed packages            │ applies only to binary versions │
       ├────────────────────────────────────┼─────────────┼────────────────────────────────────────────┼─────────────────────────────────┤
       │  package:automatically-installed() │ Pai         │ belong to automatically installed packages │ applies only to binary versions │
       └────────────────────────────────────┴─────────────┴────────────────────────────────────────────┴─────────────────────────────────┘

   <b>Common</b> <b>version</b> <b>property</b> <b>functions</b>
       Apply to source and binary versions.

       ┌──────────────────────────────┬─────────────┬────────────────────────────────────────────────────────────────────────────────────┐
       │  <b>Function</b> <b>name</b> <b>and</b> <b>arguments</b> │ <b>Short</b> <b>alias</b> │ <b>Returns</b> <b>versions</b> <b>which...</b>                                                          │
       ├──────────────────────────────┼─────────────┼────────────────────────────────────────────────────────────────────────────────────┤
       │  version(<u>regex</u>)              │ v           │ version string matches <u>regex</u>                                                       │
       ├──────────────────────────────┼─────────────┼────────────────────────────────────────────────────────────────────────────────────┤
       │  maintainer(<u>regex</u>)           │ m           │ maintainer matches <u>regex</u>                                                           │
       ├──────────────────────────────┼─────────────┼────────────────────────────────────────────────────────────────────────────────────┤
       │  priority(<u>regex</u>)             │ p           │ priority matches <u>regex</u>                                                             │
       ├──────────────────────────────┼─────────────┼────────────────────────────────────────────────────────────────────────────────────┤
       │  section(<u>regex</u>)              │ s           │ section matches <u>regex</u>                                                              │
       ├──────────────────────────────┼─────────────┼────────────────────────────────────────────────────────────────────────────────────┤
       │  trusted()                   │ t           │ come from at least one release with a valid cryptographic signature                │
       ├──────────────────────────────┼─────────────┼────────────────────────────────────────────────────────────────────────────────────┤
       │  field(<u>field_name</u>, <u>regex</u>)    │ f           │ value¹ of the non-standard (not recognized by Cupt) field <u>field_name</u> matches <u>regex</u> │
       └──────────────────────────────┴─────────────┴────────────────────────────────────────────────────────────────────────────────────┘

       ¹If  the version does not contain a field <u>field_name</u>, its value is assumed being empty string; and it can
       still match if regular expression matches empty string.

   <b>release-related</b> <b>functions</b>
       Functions from this family receive one string argument (<u>regex</u>) and return versions  which  come  from  at
       least one release where <u>property</u> (see the following table) matches the regular expression <u>regex</u>.

       ┌────────────────────┬─────────────┬───────────────────┐
       │  <b>Function</b> <b>name</b>     │ <b>Short</b> <b>alias</b> │ <u>Property</u>          │
       ├────────────────────┼─────────────┼───────────────────┤
       │  release:archive   │ Ra          │ archive           │
       ├────────────────────┼─────────────┼───────────────────┤
       │  release:codename  │ Rn          │ codename          │
       ├────────────────────┼─────────────┼───────────────────┤
       │  release:component │ Rc          │ component         │
       ├────────────────────┼─────────────┼───────────────────┤
       │  release:version   │ Rv          │ version           │
       ├────────────────────┼─────────────┼───────────────────┤
       │  release:vendor    │ Ro          │ vendor            │
       ├────────────────────┼─────────────┼───────────────────┤
       │  release:origin    │ Ru          │ origin (base URI) │
       └────────────────────┴─────────────┴───────────────────┘

   <b>Binary</b> <b>version</b> <b>property</b> <b>functions</b>
       Apply only to binary versions.

       ┌──────────────────────────────┬─────────────┬───────────────────────────────────────────────────────────┐
       │  <b>Function</b> <b>name</b> <b>and</b> <b>arguments</b> │ <b>Short</b> <b>alias</b> │ <b>Returns</b> <b>versions</b> <b>which...</b>                                 │
       ├──────────────────────────────┼─────────────┼───────────────────────────────────────────────────────────┤
       │  source-package(<u>regex</u>)       │ sp          │ source package matches <u>regex</u>                              │
       ├──────────────────────────────┼─────────────┼───────────────────────────────────────────────────────────┤
       │  source-version(<u>regex</u>)       │ sv          │ source version string matches <u>regex</u>                       │
       ├──────────────────────────────┼─────────────┼───────────────────────────────────────────────────────────┤
       │  essential()                 │ e           │ have 'Essential' flag set                                 │
       ├──────────────────────────────┼─────────────┼───────────────────────────────────────────────────────────┤
       │  important()                 │             │ have 'Important' flag set                                 │
       ├──────────────────────────────┼─────────────┼───────────────────────────────────────────────────────────┤
       │  installed()                 │ i           │ are installed in the system                               │
       ├──────────────────────────────┼─────────────┼───────────────────────────────────────────────────────────┤
       │  description(<u>regex</u>)          │ d           │ description matches <u>regex</u>                                 │
       ├──────────────────────────────┼─────────────┼───────────────────────────────────────────────────────────┤
       │  provides(<u>regex</u>)             │ o           │ provides at least one virtual package which matches <u>regex</u> │
       └──────────────────────────────┴─────────────┴───────────────────────────────────────────────────────────┘

   <b>Source</b> <b>version</b> <b>property</b> <b>functions</b>
       Apply only to source versions.

       ┌──────────────────────────────┬─────────────┬────────────────────────────────────────────────┐
       │  <b>Function</b> <b>name</b> <b>and</b> <b>arguments</b> │ <b>Short</b> <b>alias</b> │ <b>Returns</b> <b>versions</b> <b>which...</b>                      │
       ├──────────────────────────────┼─────────────┼────────────────────────────────────────────────┤
       │  uploaders(<u>regex</u>)            │ u           │ have at least one uploader which matches <u>regex</u> │
       └──────────────────────────────┴─────────────┴────────────────────────────────────────────────┘

   <b>Binary</b> <b>relation</b> <b>functions</b>
       Apply only to binary versions.

   <b>forward</b> <b>dependencies</b>
       Functions  from  this  family  receive  one  FSE-argument (<u>fse</u>) and return all versions which satisfy the
       dependency of type <u>relation</u> <u>type</u> for <u>fse</u> (see the following table).

       ┌────────────────┬─────────────┬───────────────┐
       │  <b>Function</b> <b>name</b> │ <b>Short</b> <b>alias</b> │ <u>Relation</u> <u>type</u> │
       ├────────────────┼─────────────┼───────────────┤
       │  pre-depends   │ Ypd         │ Pre-Depends   │
       ├────────────────┼─────────────┼───────────────┤
       │  depends       │ Yd          │ Depends       │
       ├────────────────┼─────────────┼───────────────┤
       │  recommends    │ Yr          │ Recommends    │
       ├────────────────┼─────────────┼───────────────┤
       │  suggests      │ Ys          │ Suggests      │
       ├────────────────┼─────────────┼───────────────┤
       │  enhances      │ Ye          │ Enhances      │
       ├────────────────┼─────────────┼───────────────┤
       │  conflicts     │ Yc          │ Conflicts     │
       ├────────────────┼─────────────┼───────────────┤
       │  breaks        │ Yb          │ Breaks        │
       ├────────────────┼─────────────┼───────────────┤
       │  replaces      │ Yrp         │ Replaces      │
       └────────────────┴─────────────┴───────────────┘

   <b>reverse</b> <b>dependencies</b>
       Functions from this family receive one FSE-argument (<u>fse</u>) and return all versions for which at least  one
       version from <u>fse</u> satisfies the dependency of type <u>relation</u> <u>type</u> (see the following table).

       ┌──────────────────────┬─────────────┬───────────────┐
       │  <b>Function</b> <b>name</b>       │ <b>Short</b> <b>alias</b> │ <u>Relation</u> <u>type</u> │
       ├──────────────────────┼─────────────┼───────────────┤
       │  reverse-pre-depends │ YRpd        │ Pre-Depends   │
       ├──────────────────────┼─────────────┼───────────────┤
       │  reverse-depends     │ YRd         │ Depends       │
       ├──────────────────────┼─────────────┼───────────────┤
       │  reverse-recommends  │ YRr         │ Recommends    │
       ├──────────────────────┼─────────────┼───────────────┤
       │  reverse-suggests    │ YRs         │ Suggests      │
       ├──────────────────────┼─────────────┼───────────────┤
       │  reverse-enhances    │ YRe         │ Enhances      │
       ├──────────────────────┼─────────────┼───────────────┤
       │  reverse-conflicts   │ YRc         │ Conflicts     │
       ├──────────────────────┼─────────────┼───────────────┤
       │  reverse-breaks      │ YRb         │ Breaks        │
       ├──────────────────────┼─────────────┼───────────────┤
       │  reverse-replaces    │ YRrp        │ Replaces      │
       └──────────────────────┴─────────────┴───────────────┘

   <b>Source</b> <b>relation</b> <b>functions</b>
   <b>forward</b> <b>dependencies</b>
       Apply only to source versions and return binary versions.

       Functions  from  this  family  receive  one  FSE-argument (<u>fse</u>) and return all versions which satisfy the
       build-time dependency of type <u>relation</u> <u>type</u> for <u>fse</u> (see the following table).

       ┌────────────────────────┬─────────────┬───────────────────────┐
       │  <b>Function</b> <b>name</b>         │ <b>Short</b> <b>alias</b> │ <u>Relation</u> <u>type</u>         │
       ├────────────────────────┼─────────────┼───────────────────────┤
       │  build-depends         │ Zbd         │ Build-Depends         │
       ├────────────────────────┼─────────────┼───────────────────────┤
       │  build-depends-indep   │ Zbdi        │ Build-Depends-Indep   │
       ├────────────────────────┼─────────────┼───────────────────────┤
       │  build-depends-arch    │             │ Build-Depends-Arch    │
       ├────────────────────────┼─────────────┼───────────────────────┤
       │  build-conflicts       │ Zbc         │ Build-Conflicts       │
       ├────────────────────────┼─────────────┼───────────────────────┤
       │  build-conflicts-indep │ Zbci        │ Build-Conflicts-Indep │
       ├────────────────────────┼─────────────┼───────────────────────┤
       │  build-conflicts-arch  │             │ Build-Conflicts-Arch  │
       └────────────────────────┴─────────────┴───────────────────────┘

   <b>reverse</b> <b>dependencies</b>
       Apply only to binary versions and return source versions.

       Functions from this family receive one FSE-argument (<u>fse</u>) and return all versions for which at least  one
       version from <u>fse</u> satisfies the build-dependency of type <u>relation</u> <u>type</u> (see the following table).

       ┌────────────────────────────────┬─────────────┬───────────────────────┐
       │  <b>Function</b> <b>name</b>                 │ <b>Short</b> <b>alias</b> │ <u>Relation</u> <u>type</u>         │
       ├────────────────────────────────┼─────────────┼───────────────────────┤
       │  reverse-build-depends         │ ZRbd        │ Build-Depends         │
       ├────────────────────────────────┼─────────────┼───────────────────────┤
       │  reverse-build-depends-indep   │ ZRbdi       │ Build-Depends-Indep   │
       ├────────────────────────────────┼─────────────┼───────────────────────┤
       │  reverse-build-depends-arch    │             │ Build-Depends-Arch    │
       ├────────────────────────────────┼─────────────┼───────────────────────┤
       │  reverse-build-conflicts       │ ZRbc        │ Build-Conflicts       │
       ├────────────────────────────────┼─────────────┼───────────────────────┤
       │  reverse-build-conflicts-indep │ ZRbci       │ Build-Conflicts-Indep │
       ├────────────────────────────────┼─────────────┼───────────────────────┤
       │  reverse-build-conflicts-arch  │             │ Build-Conflicts-Arch  │
       └────────────────────────────────┴─────────────┴───────────────────────┘

   <b>Metafunctions</b>
   <b>defining</b> <b>functions</b>
       The  function  <b>with</b>  defines  a user function with no parameters which can be used as FSE-argument in the
       subexpression.

       Syntax:

       with(<u>function_name</u>, <u>function_expression</u>, <u>subexpression</u>)

       ┌──────────────────────┬───────────────────────────────────────────────────────────────┐
       │  <b>Argument</b>            │ <b>Meaning</b>                                                       │
       ├──────────────────────┼───────────────────────────────────────────────────────────────┤
       │  <u>function_name</u>       │ user-defined function name, must start with an underscore (_) │
       ├──────────────────────┼───────────────────────────────────────────────────────────────┤
       │  <u>function_expression</u> │ FSE, function value                                           │
       ├──────────────────────┼───────────────────────────────────────────────────────────────┤
       │  <u>subexpression</u>       │ FSE which the defined function can be used in                 │
       └──────────────────────┴───────────────────────────────────────────────────────────────┘

       This function returns the value of <u>subexpression</u>.

   <b>recursing</b>
       The function <b>recursive</b> defines a recursive transformation FSE.

       Syntax:

       recursive(<u>subresult_function_name</u>, <u>initial_subresult</u>, <u>iterating_expression</u>)

       ┌──────────────────────────┬───────────────────────────────────────────────────────────────────────────────────────┐
       │  <b>Argument</b>                │ <b>Meaning</b>                                                                               │
       ├──────────────────────────┼───────────────────────────────────────────────────────────────────────────────────────┤
       │  <u>subresult_function_name</u> │ user-defined function name, must start with an underscore (_)                         │
       ├──────────────────────────┼───────────────────────────────────────────────────────────────────────────────────────┤
       │  <u>initial_subresult</u>       │ FSE, initial value of <u>subresult_function_name</u>                                         │
       ├──────────────────────────┼───────────────────────────────────────────────────────────────────────────────────────┤
       │  <u>subexpression</u>           │ FSE to compute on each recurse iteration, which <u>subresult_function_name</u> to be used in │
       └──────────────────────────┴───────────────────────────────────────────────────────────────────────────────────────┘

       The function works as follows:

              1. <u>subresult_function_name</u> defined as <u>initial_subresult</u>

              2. the value of <u>iterating_expression</u> is computed

              3. if this value is equal to <u>subresult_function_name()</u> its returned as function result

              4. <u>subresult_function_name</u> redefined as or(<u>subresult_function_name</u>, <u>iterating_expression</u>)

              5. go to step 2

   <b>mapping</b>
       The function <b>fmap</b> applies many functions to the same expression and combines their results.

       The expression

       fmap(<u>fse</u>, <u>function_name_1</u>, ..., <u>function_name_N</u>)

       is equivalent to

       or(<u>function_name_1</u>(<u>fse</u>), ..., <u>function_name_N</u>(<u>fse</u>))

   <b>Miscellaneous</b>
       ┌───────────────────────────────┬────────────────────────────────────────────────────────────────────────────────────────────────────────────┐
       │  <b>Function</b> <b>name</b> <b>and</b> <b>arguments</b>  │ <b>Value</b>                                                                                                      │
       ├───────────────────────────────┼────────────────────────────────────────────────────────────────────────────────────────────────────────────┤
       │  best(<u>fse</u>)                    │ filters out those versions from <u>fse</u> for which there are another version of the same package and higher pin │
       ├───────────────────────────────┼────────────────────────────────────────────────────────────────────────────────────────────────────────────┤
       │  binary-to-source(<u>binary_fse</u>) │ converts binary versions, selected by <u>binary_fse</u>, to their corresponding source versions                   │
       ├───────────────────────────────┼────────────────────────────────────────────────────────────────────────────────────────────────────────────┤
       │  source-to-binary(<u>source_fse</u>) │ converts source versions, selected by <u>source_fse</u>, to lists of their corresponding binary versions          │
       └───────────────────────────────┴────────────────────────────────────────────────────────────────────────────────────────────────────────────┘

Eugene V. Lyubimkin                                  44date                      <u>Functional</u> <u>selectors</u> <u>in</u> <u><a href="../man7/Cupt.7.html">Cupt</a></u>(7)
</pre>
 </div>
</div></section>
</div>
</body>
</html>