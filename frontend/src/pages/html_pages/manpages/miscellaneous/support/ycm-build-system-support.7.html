<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ycm-build-system-support - YCM Build System Support</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/ycm-cmake-modules">ycm-cmake-modules_0.13.0-3_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       ycm-build-system-support - YCM Build System Support

</pre><h4><b>YCM</b> <b>BUILD</b> <b>SYSTEM</b> <b>SUPPORT</b></h4><pre>
       YCM offers a few macros and Find scripts that can be used in your build system.

          • <u>Generic</u> <u>Modules</u> that add functionalities to CMake that might be useful in your project.

          • <u>Find</u> <u>Package</u> <u>Modules</u>, that help in finding software on the system.

          • <u>Packaging</u>  <u>Helper</u>  <u>Modules</u>, that are useful to simplify the generation of a package that can be used
            by other packages.

          • Support for new CMake features in older CMake versions.

          • Support for new features in CMake before these are actually released.

          • Support for 3rd party CMake modules.

       <b>SEE</b> <b>ALSO:</b>
          You can find for using YCM in your project in <u><a href="../man7/ycm-using.7.html">ycm-using</a>(7)</u>.

       YCM also offers functionalities to make a superbuild. Documentation for this can be found elsewhere.

       <b>SEE</b> <b>ALSO:</b>
          <u>YCM</u> <u>Superbuild</u>

</pre><h4><b>A</b> <b>PRACTICAL</b> <b>EXAMPLE</b></h4><pre>
       Suppose you have created a package that contains a library, called <b>TemplatePkg</b>. You want to package  this
       library,  providing versioning, installation rules for header as well as binary files and cmake files for
       finding and using the library within other projects.

       This is the code you need to add to your CMakeLists.txt:

          cmake_minimum_required(VERSION 3.12)
          project(TemplatePkg
                  LANGUAGES CXX
                  VERSION 0.0.1)

          include(GNUInstallDirs)

          # Set the output dir for binaries
          set(CMAKE_RUNTIME_OUTPUT_DIRECTORY ${CMAKE_CURRENT_BINARY_DIR}/${CMAKE_INSTALL_BINDIR})
          set(CMAKE_LIBRARY_OUTPUT_DIRECTORY ${CMAKE_CURRENT_BINARY_DIR}/${CMAKE_INSTALL_LIBDIR})
          set(CMAKE_ARCHIVE_OUTPUT_DIRECTORY ${CMAKE_CURRENT_BINARY_DIR}/${CMAKE_INSTALL_LIBDIR})

          # find and use YCM
          find_package(YCM REQUIRED)

          # Set a few
          set(${PROJECT_NAME}_BUILD_LIBDIR ${CMAKE_INSTALL_LIBDIR})
          set(${PROJECT_NAME}_BUILD_BINDIR ${CMAKE_INSTALL_BINDIR})
          set(${PROJECT_NAME}_BUILD_INCLUDEDIR ${CMAKE_SOURCE_DIR}/src)

          set(${PROJECT_NAME}_INSTALL_LIBDIR ${CMAKE_INSTALL_LIBDIR})
          set(${PROJECT_NAME}_INSTALL_BINDIR ${CMAKE_INSTALL_BINDIR})
          set(${PROJECT_NAME}_INSTALL_INCLUDEDIR ${CMAKE_INSTALL_INCLUDEDIR})

          # add sources
          add_subdirectory(src)

       So far nothing special. We have declared our library, added source codes and included YCM.

       We now need to instruct CMake to install the library and generate <b>CMake</b> (<b>FindTemplatePkg.cmake</b>) have also
       been generated so that <b>TemplatePkg</b> can be found using <b>CMake</b>.

          # include macro for installing packaging files and invoke it
          include(InstallBasicPackageFiles)
          install_basic_package_files(TemplatePkg
                                      VARS_PREFIX ${PROJECT_NAME}
                                      VERSION ${${PROJECT_NAME}_VERSION}
                                      COMPATIBILITY SameMajorVersion
                                      NO_CHECK_REQUIRED_COMPONENTS_MACRO)

       This function generates all the configuration files required for other packages to  locate  and  use  the
       library compiled by <b>TemplatePkg</b> and adds the required installation rules for these files.

       Finally we add uninstall rules:

          include(AddUninstallTarget)

       Now you can compile the package by simply doing:

          mkdir build
          cd build
          cmake ..
          make
          make install

       This  will  install  your package using <b><a href="file:/usr/local/">/usr/local/</a></b> as installation prefix.  You can change the prefix by
       changing the <b>CMAKE_INSTALL_PREFIX</b> variable, for example

          cmake -DCMAKE_INSTALL_PREFIX:PATH=/opt/ycm ..

       If you check inside the build directory or <b>&lt;prefix&gt;<a href="file:/lib">/lib</a></b> you should see that <b>make</b> <b>install</b>  has  built  the
       project  and installed header files and the library correctly. The file <b>TemplatePkgConfig.cmake</b> should be
       in <b>&lt;prefix&gt;/lib/cmake/TemplatePkg/</b>.  This file will be found by other packages when they call:

          find_package(TemplatePkg)

       Example code can be downloaded from <u>TemplatePkg</u> repository.

</pre><h4><b>COPYRIGHT</b></h4><pre>
       Copyright 2012-2021 Istituto Italiano di Tecnologia (IIT)

0.13.                                             Nov 05, 2023                       <u><a href="../man7/YCM-BUILD-SYSTEM-SUPPORT.7.html">YCM-BUILD-SYSTEM-SUPPORT</a></u>(7)
</pre>
 </div>
</div></section>
</div>
</body>
</html>