<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>cryptsetup-suspend - automatically suspend LUKS devices on system suspend</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/cryptsetup-suspend">cryptsetup-suspend_2.8.0-1ubuntu1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       cryptsetup-suspend - automatically suspend LUKS devices on system suspend

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <u>cryptsetup-suspend</u> brings support to automatically suspend LUKS devices before entering system suspend
       mode. Devices will be unlocked at system resume time, asking for passwords if required. The feature is
       enabled automatically by installing the <u>cryptsetup-suspend</u> package. No further configuration is required.

       <u>cryptsetup-suspend</u> supports all setups of LUKS devices that are supported by the <u>cryptsetup</u> packages. To
       do so, it depends on scripts from the Debian package <u>cryptsetup-initramfs</u>. See the INTERNALS section
       about details on how it works.

</pre><h4><b>SECURITY</b> <b>ASPECTS</b></h4><pre>
       Suspending LUKS devices basically means to remove the corresponding encryption keys from system memory.
       This protects against all sort of attacks that try to read out the memory from a suspended system, like
       for example cold-boot attacks.

       <u>cryptsetup-suspend</u> protects <u>only</u> the encryption keys of your LUKS devices against being read from the
       memory. Most likely there's more sensitive data in system memory, be it other kinds of private keys (e.g.
       OpenPGP, OpenSSH) or any kind of documents with sensitive content.

       The initramfs image is extracted in memory and left unencrypted (see the INTERNALS section) so all key
       material it might include, for instance key files copied using the hooks' <u>KEYFILE_PATTERN=</u> option, will
       remain unprotected.

</pre><h4><b>LIMITATIONS</b></h4><pre>
       The <u>cryptsetup-suspend</u> feature is limited to LUKS devices and doesn't work with <u>plain</u> <u>dm-crypt</u> or <u>tcrypt</u>
       devices.

</pre><h4><b>INTERNALS</b></h4><pre>
       <u>cryptsetup-suspend</u> consists of three parts: <b>cryptsetup-suspend</b>: A c program that takes a list of LUKS
       devices as arguments, suspends them via <u>luksSuspend</u> and suspends the system afterwards. ,
       <b>cryptsetup-suspend-wrapper</b>: A shell wrapper script which works the following way: 1. Disable swap and
       extract the initramfs into a tmpfs (the chroot), 2. Run (systemd) pre-suspend scripts, stop udev, freeze
       cgroups, 3. run cryptsetup-suspend in chroot, 4. resume initramfs devices inside chroot after resume, 5.
       resume non-initramfs devices outside chroot, 6. thaw groups, start udev, run (systemd) post-suspend
       scripts, 7. Unmount the tmpfs and re-enable swap , A systemd unit drop-in file that overrides the Exec
       property of systemd-suspend.service so that it invokes the script <b>cryptsetup-suspend-wrapper</b>.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <u><a href="../man8/cryptsetup.8.html">cryptsetup</a></u>(8), <u><a href="../man5/crypttab.5.html">crypttab</a></u>(5)

</pre><h4><b>AUTHOR</b></h4><pre>
       This manual page was written by Jonas Meurer &lt;<a href="mailto:jonas@freesources.org">jonas@freesources.org</a>&gt; in December 2019.

cryptsetup 2:2.8.0-1ubunt                          2025-07-25                              <u><a href="../man7/CRYPTSETUP-SUSPEND.7.html">CRYPTSETUP-SUSPEND</a></u>(7)
</pre>
 </div>
</div></section>
</div>
</body>
</html>