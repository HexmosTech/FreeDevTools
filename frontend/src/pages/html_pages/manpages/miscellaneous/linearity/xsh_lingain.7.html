<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>xsh_lingain - Computes detector's gain/linearity-map</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/noble/+package/cpl-plugin-xshoo-doc">cpl-plugin-xshoo-doc_3.5.3+dfsg-1build4_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       xsh_lingain - Computes detector's gain/linearity-map

</pre><h4><b>SYNOPSIS</b></h4><pre>
       esorex <b>xsh_lingain</b> [OPTIONS] FILE.sof

</pre><h4><b>DESCRIPTION</b></h4><pre>
       This recipe computes detector linearity coefficients and gain Input Frames :
         arm = UVB-VIS:
         - A set of n RAW linearity frames (Format=RAW, n &gt;=8, Tag = LINEARITY_arm_ON)
         - A set of n RAW bias frames (Format=RAW, n &gt;=1, Tag = LINEARITY_arm_OFF)
         arm = NIR:
         - A set of n RAW linearity on frames (Format=RAW, n &gt;=8, Tag = LINEARITY_arm_ON)
         - A set of n RAW linearity off frames (Format=RAW, n &gt;=8, Tag = LINEARITY_arm_OFF)
         - [OPTIONAL] a static bad pixel map (PRO.CATG=BP_MAP_RP_arm)
         Note: on and off frames are taken in pairs sequence: OFF-ON-ON-OFF,
         at least 16 frames.

       Products :
         - A linearity map table, PRO.CATG = BP_MAP_LIN_NIR
         - A gain table, PRO.CATG = GAIN_INFO
         - A cube cointaining the linearity coefficients, PRO.CATG = COEFFS_CUBE_arm
         - A linearity map image (RAW format), PRO.CATG = RAW_BP_MAP_NL_arm
         - A linearity map image (PRE format), PRO.CATG = BP_MAP_NL_arm

</pre><h4><b>OPTIONS</b></h4><pre>
       <b>--keep-temp</b> <u>&lt;str&gt;</u>
              If  ´no´,  temporary files are deleted. (str; default: ´no´). The full name of this option for the
              EsoRex configuration file is <b>xsh.xsh_lingain.keep-temp</b> [default = <u>no</u>].

       <b>--debug-level</b> <u>&lt;str&gt;</u>
              Additional xshooter debug level. One of ´none´, ´low´, ´medium´, ´high´  (str;  default:  ´none´).
              The  full  name  of  this  option for the EsoRex configuration file is <b>xsh.xsh_lingain.debug-level</b>
              [default = <u>none</u>].

       <b>--time-stamp</b> <u>&lt;bool&gt;</u>
              Add timestamp to product file name. (bool; default: False). The full name of this option  for  the
              EsoRex configuration file is <b>xsh.xsh_lingain.time-stamp</b> [default = <u>False</u>].

       <b>--decode-bp</b> <u>&lt;int&gt;</u>
              Integer  representation  of  the  bits to be considered bad when decoding the bad pixel mask pixel
              values.   Most frequent codes relevant for the user:   0: good pixel,   8:  pick-up  noise,    16:
              cosmic-ray  removed,    32:  cosmic-ray unremoved,   128: calibration file defect, 256: hot pixel,
              512:  dark  pixel,    4096:  A/D  converted  saturation,  32768:  non  linear  pixel,     1048576:
              extrapolated   flux   in  NIR,  4194304:  Interpolated  flux  during  extraction.  (int;  default:
              2144337919).  The  full  name  of   this   option   for   the   EsoRex   configuration   file   is
              <b>xsh.xsh_lingain.decode-bp</b> [default = <u>2144337919</u>].

       <b>--method</b> <u>&lt;str&gt;</u>
              Method to be used when computing GAIN. Methods appliable: &lt;PTC | MED&gt;.  By default PTC method will
              be  applied. (str; default: ´PTC´). The full name of this option for the EsoRex configuration file
              is <b>xshoo.xsh_lingain.method</b> [default = <u>PTC</u>].

       <b>--order</b> <u>&lt;int&gt;</u>
              Polynomial order for the fit (Linearity) (int; default: 3). The full name of this option  for  the
              EsoRex configuration file is <b>xshoo.xsh_lingain.order</b> [default = <u>3</u>].

       <b>--kappa</b> <u>&lt;float&gt;</u>
              Kappa  value  for  the  kappa-sigma  clipping  (Gain) (float; default: 3.0). The full name of this
              option for the EsoRex configuration file is <b>xshoo.xsh_lingain.kappa</b> [default = <u>3.0</u>].

       <b>--niter</b> <u>&lt;int&gt;</u>
              Number of iterations to compute rms (Gain) (int; default: 5). The full name of this option for the
              EsoRex configuration file is <b>xshoo.xsh_lingain.niter</b> [default = <u>5</u>].

       <b>--llx</b> <u>&lt;int&gt;</u>
              x coordinate of the lower-left point of the region of interest. If  not  modified,  default  value
              will  be  1. (int; default: -1). The full name of this option for the EsoRex configuration file is
              <b>xshoo.xsh_lingain.llx</b> [default = <u>-1</u>].

       <b>--lly</b> <u>&lt;int&gt;</u>
              y coordinate of the lower-left point of the region of interest. If  not  modified,  default  value
              will  be  1. (int; default: -1). The full name of this option for the EsoRex configuration file is
              <b>xshoo.xsh_lingain.lly</b> [default = <u>-1</u>].

       <b>--urx</b> <u>&lt;int&gt;</u>
              x coordinate of the upper-right point of the region of interest. If not  modified,  default  value
              will  be X dimension of the input image.  (int; default: -1). The full name of this option for the
              EsoRex configuration file is <b>xshoo.xsh_lingain.urx</b> [default = <u>-1</u>].

       <b>--ury</b> <u>&lt;int&gt;</u>
              y coordinate of the upper-right point of the region of interest. If not  modified,  default  value
              will  be Y dimension of the input image.  (int; default: -1). The full name of this option for the
              EsoRex configuration file is <b>xshoo.xsh_lingain.ury</b> [default = <u>-1</u>].

       <b>--ref_level</b> <u>&lt;int&gt;</u>
              User reference level (int;  default:  10000).  The  full  name  of  this  option  for  the  EsoRex
              configuration file is <b>xshoo.xsh_lingain.ref_level</b> [default = <u>10000</u>].

       <b>--intermediate</b> <u>&lt;bool&gt;</u>
              De-/Activate  intermediate  products  (bool; default: False). The full name of this option for the
              EsoRex configuration file is <b>xshoo.xsh_lingain.intermediate</b> [default = <u>False</u>].

       <b>--autocorr</b> <u>&lt;bool&gt;</u>
              De-/Activate the autocorr option (bool; default: False). The full name  of  this  option  for  the
              EsoRex configuration file is <b>xshoo.xsh_lingain.autocorr</b> [default = <u>False</u>].

       <b>--collapse</b> <u>&lt;bool&gt;</u>
              De-/Activate  the  collapse  option  (bool;  default:  True). The full name of this option for the
              EsoRex configuration file is <b>xshoo.xsh_lingain.collapse</b> [default = <u>True</u>].

       <b>--rescale</b> <u>&lt;bool&gt;</u>
              De-/Activate the image rescale option (bool; default: True). The full name of this option for  the
              EsoRex configuration file is <b>xshoo.xsh_lingain.rescale</b> [default = <u>True</u>].

       <b>--pix2pix</b> <u>&lt;bool&gt;</u>
              De-/Activate  the computation with pixel to pixel accuracy (bool; default: True). The full name of
              this option for the EsoRex configuration file is <b>xshoo.xsh_lingain.pix2pix</b> [default = <u>True</u>].

       <b>--bpmbin</b> <u>&lt;bool&gt;</u>
              De-/Activate the binary bpm option (bool; default: False). The full name of this  option  for  the
              EsoRex configuration file is <b>xshoo.xsh_lingain.bpmbin</b> [default = <u>False</u>].

       <b>--m</b> <u>&lt;int&gt;</u>
              Maximum  x-shift  for the autocorr (int; default: 26). The full name of this option for the EsoRex
              configuration file is <b>xshoo.xsh_lingain.m</b> [default = <u>26</u>].

       <b>--filter</b> <u>&lt;int&gt;</u>
              Upper limit of Median flux to be filtered (int; default: -1). The full name of this option for the
              EsoRex configuration file is <b>xshoo.xsh_lingain.filter</b> [default = <u>-1</u>].

       <b>--n</b> <u>&lt;int&gt;</u>
              Maximum y-shift for the autocorr (int; default: 26). The full name of this option for  the  EsoRex
              configuration file is <b>xshoo.xsh_lingain.n</b> [default = <u>26</u>].

       <b>--tolerance</b> <u>&lt;float&gt;</u>
              Tolerance  for  pair  discrimination  (float;  default: 0.1). The full name of this option for the
              EsoRex configuration file is <b>xshoo.xsh_lingain.tolerance</b> [default = <u>0.1</u>].

       <b>--pafgen</b> <u>&lt;bool&gt;</u>
              Generate PAF  file  (bool;  default:  False).  The  full  name  of  this  option  for  the  EsoRex
              configuration file is <b>xshoo.xsh_lingain.pafgen</b> [default = <u>False</u>].

       <b>--pafname</b> <u>&lt;str&gt;</u>
              Specific  name  for  PAF  file (str; default: ´xsh_lingain´). The full name of this option for the
              EsoRex configuration file is <b>xshoo.xsh_lingain.pafname</b> [default = <u>xsh_lingain</u>].

       <b>--exts</b> <u>&lt;int&gt;</u>
              Activate the multi-exts option. Choose -1 to process all extensions.  Choose an  extension  number
              to  process  the  appropriate  extension.  (int; default: 0). The full name of this option for the
              EsoRex configuration file is <b>xshoo.xsh_lingain.exts</b> [default = <u>0</u>].

       <b>--fpn_method</b> <u>&lt;str&gt;</u>
              Method for computing Fixed Pattern Noise (SMOOTH or HISTOGRAM) (str;  default:  ´HISTOGRAM´).  The
              full  name  of  this  option  for  the  EsoRex  configuration file is <b>xshoo.xsh_lingain.fpn_method</b>
              [default = <u>HISTOGRAM</u>].

       <b>--fpn_smooth</b> <u>&lt;int&gt;</u>
              template size in pixels for smoothing during  FPN  computation  (only  for  SMOOTH  method)  (int;
              default:   13).   The   full   name   of   this  option  for  the  EsoRex  configuration  file  is
              <b>xshoo.xsh_lingain.fpn_smooth</b> [default = <u>13</u>].

       <b>--saturation_limit</b> <u>&lt;float&gt;</u>
              all frames with mean saturation above the limit would not be used in linearity calculation (float;
              default:  65535.0).  The  full  name  of  this  option  for  the  EsoRex  configuration  file   is
              <b>xshoo.xsh_lingain.saturation_limit</b> [default = <u>65535.0</u>].

       <b>--gain_threshold</b> <u>&lt;float&gt;</u>
              all  frames  with  mean  flux  above  the  threshold would not be used in gain calculation (float;
              default:  65535.0).  The  full  name  of  this  option  for  the  EsoRex  configuration  file   is
              <b>xshoo.xsh_lingain.gain_threshold</b> [default = <u>65535.0</u>].

       <b>--coeffs_cube_split</b> <u>&lt;bool&gt;</u>
              if TRUE, the recipe writes as many COEFFS_CUBE_Pi (i=0..order) as the value of the order parameter
              in  a  separate  file  (bool;  default:  False).  The  full  name  of  this  option for the EsoRex
              configuration file is <b>xshoo.xsh_lingain.coeffs_cube_split</b> [default = <u>False</u>].

       <b>--llx1</b> <u>&lt;int&gt;</u>
              x coord of the lower-left point of the first field used  for  contamination  measurement.  If  not
              modified,  default  value  will  be  1.   (int; default: -1). The full name of this option for the
              EsoRex configuration file is <b>xshoo.xsh_lingain.llx1</b> [default = <u>-1</u>].

       <b>--lly1</b> <u>&lt;int&gt;</u>
              y coord of the lower-left point of the first field used  for  contamination  measurement.  If  not
              modified,  default  value  will  be  1.   (int; default: -1). The full name of this option for the
              EsoRex configuration file is <b>xshoo.xsh_lingain.lly1</b> [default = <u>-1</u>].

       <b>--urx1</b> <u>&lt;int&gt;</u>
              x coord of the upper-right point of the first field used for  contamination  measurement.  If  not
              modified,  default value will be X dimension of the input image. (int; default: -1). The full name
              of this option for the EsoRex configuration file is <b>xshoo.xsh_lingain.urx1</b> [default = <u>-1</u>].

       <b>--ury1</b> <u>&lt;int&gt;</u>
              y coord of the upper-right point of the first field used for  contamination  measurement.  If  not
              modified,  default value will be Y dimension of the input image. (int; default: -1). The full name
              of this option for the EsoRex configuration file is <b>xshoo.xsh_lingain.ury1</b> [default = <u>-1</u>].

       <b>--llx2</b> <u>&lt;int&gt;</u>
              x coord of the lower-left point of the second field used for  contamination  measurement.  If  not
              modified,  default  value  will  be  1.   (int; default: -1). The full name of this option for the
              EsoRex configuration file is <b>xshoo.xsh_lingain.llx2</b> [default = <u>-1</u>].

       <b>--lly2</b> <u>&lt;int&gt;</u>
              y coord of the lower-left point of the second field used for  contamination  measurement.  If  not
              modified,  default  value  will  be  1.   (int; default: -1). The full name of this option for the
              EsoRex configuration file is <b>xshoo.xsh_lingain.lly2</b> [default = <u>-1</u>].

       <b>--urx2</b> <u>&lt;int&gt;</u>
              x coord of the upper-right point of the second field used for contamination  measurement.  If  not
              modified,  default  value  will be half of the X dimension of the input image. (int; default: -1).
              The full name of this option for the EsoRex configuration file is <b>xshoo.xsh_lingain.urx2</b>  [default
              = <u>-1</u>].

       <b>--ury2</b> <u>&lt;int&gt;</u>
              y  coord  of  the upper-right point of the second field used for contamination measurement. If not
              modified, default value will be half of the Y dimension of the input image.  (int;  default:  -1).
              The  full name of this option for the EsoRex configuration file is <b>xshoo.xsh_lingain.ury2</b> [default
              = <u>-1</u>].

       <b>--llx3</b> <u>&lt;int&gt;</u>
              x coord of the lower-left point of the third field used  for  contamination  measurement.  If  not
              modified,  default  value  will  be  1.   (int; default: -1). The full name of this option for the
              EsoRex configuration file is <b>xshoo.xsh_lingain.llx3</b> [default = <u>-1</u>].

       <b>--lly3</b> <u>&lt;int&gt;</u>
              y coord of the lower-left point of the third field used  for  contamination  measurement.  If  not
              modified,  default  value  will be half of the Y dimension of the input image. (int; default: -1).
              The full name of this option for the EsoRex configuration file is <b>xshoo.xsh_lingain.lly3</b>  [default
              = <u>-1</u>].

       <b>--urx3</b> <u>&lt;int&gt;</u>
              x  coord  of  the  upper-right point of the third field used for contamination measurement. If not
              modified, default value will be half of X dimension of the image. (int;  default:  -1).  The  full
              name of this option for the EsoRex configuration file is <b>xshoo.xsh_lingain.urx3</b> [default = <u>-1</u>].

       <b>--ury3</b> <u>&lt;int&gt;</u>
              y  coord  of  the  upper-right point of the third field used for contamination measurement. If not
              modified, default value will be Y dimension of the image. (int; default: -1).  The  full  name  of
              this option for the EsoRex configuration file is <b>xshoo.xsh_lingain.ury3</b> [default = <u>-1</u>].

       <b>--llx4</b> <u>&lt;int&gt;</u>
              x  coord  of  the  lower-left point of the fourth field used for contamination measurement. If not
              modified, default value will be half of X dimension of the image. (int;  default:  -1).  The  full
              name of this option for the EsoRex configuration file is <b>xshoo.xsh_lingain.llx4</b> [default = <u>-1</u>].

       <b>--lly4</b> <u>&lt;int&gt;</u>
              y  coord  of  the  lower-left point of the fourth field used for contamination measurement. If not
              modified, default value will be half of the Y dimension of the input image.  (int;  default:  -1).
              The  full name of this option for the EsoRex configuration file is <b>xshoo.xsh_lingain.lly4</b> [default
              = <u>-1</u>].

       <b>--urx4</b> <u>&lt;int&gt;</u>
              x coord of the upper-right point of the fourth field used for contamination  measurement.  If  not
              modified,  default  value  will  be X dimension of the image. (int; default: -1). The full name of
              this option for the EsoRex configuration file is <b>xshoo.xsh_lingain.urx4</b> [default = <u>-1</u>].

       <b>--ury4</b> <u>&lt;int&gt;</u>
              y coord of the upper-right point of the fourth field used for contamination  measurement.  If  not
              modified,  default value will be Y dimension of the input image. (int; default: -1). The full name
              of this option for the EsoRex configuration file is <b>xshoo.xsh_lingain.ury4</b> [default = <u>-1</u>].

       <b>--llx5</b> <u>&lt;int&gt;</u>
              x coord of the lower-left point of the fifth field used  for  contamination  measurement.  If  not
              modified,  default  value  will be half of the X dimension of the input image. (int; default: -1).
              The full name of this option for the EsoRex configuration file is <b>xshoo.xsh_lingain.llx5</b>  [default
              = <u>-1</u>].

       <b>--lly5</b> <u>&lt;int&gt;</u>
              y  coord  of  the  lower-left  point of the fifth field used for contamination measurement. If not
              modified, default value will be 1.  (int; default: -1). The full  name  of  this  option  for  the
              EsoRex configuration file is <b>xshoo.xsh_lingain.lly5</b> [default = <u>-1</u>].

       <b>--urx5</b> <u>&lt;int&gt;</u>
              x  coord  of  the  upper-right point of the fifth field used for contamination measurement. If not
              modified, default value will be X dimension of the image. (int; default: -1).  The  full  name  of
              this option for the EsoRex configuration file is <b>xshoo.xsh_lingain.urx5</b> [default = <u>-1</u>].

       <b>--ury5</b> <u>&lt;int&gt;</u>
              y  coord  of  the  upper-right point of the fifth field used for contamination measurement. If not
              modified, default value will be half of Y dimension of the input image. (int;  default:  -1).  The
              full  name  of  this option for the EsoRex configuration file is <b>xshoo.xsh_lingain.ury5</b> [default =
              <u>-1</u>].

       Note that it is possible to create a configuration file containing these  options,  along  with  suitable
       default values. Please refer to the details provided by the 'esorex --help' command.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       The full documentation for the xshoo pipeline can be downloaded as a PDF file using the following URL:

              <b><a href="ftp://ftp.eso.org/pub/dfs/pipelines/xshoo/xshoo-pipeline-manual-12.1.pdf">ftp://ftp.eso.org/pub/dfs/pipelines/xshoo/xshoo-pipeline-manual-12.1.pdf</a></b>

       An    overview    over    the    existing    ESO    pipelines    can   be   found   on   the   web   page
       <b>https://www.eso.org/sci/software/pipelines/</b>.

       Basic documentation about the EsoRex program can be found at the esorex (1) man page.

       It  is  possible  to  call   the   pipelines   from   python   using   the   python-cpl   package.    See
       <b>https://packages.python.org/python-cpl/index.html</b> for further information.

       The   other  recipes  of  the  xshoo  pipeline  are  <u><a href="../man7/xsh_2dmap.7.html">xsh_2dmap</a></u>(7),  <u><a href="../man7/xsh_cfg_recover.7.html">xsh_cfg_recover</a></u>(7),  <u><a href="../man7/xsh_flexcomp.7.html">xsh_flexcomp</a></u>(7),
       <u><a href="../man7/xsh_geom_ifu.7.html">xsh_geom_ifu</a></u>(7),   <u><a href="../man7/xsh_mbias.7.html">xsh_mbias</a></u>(7),    <u><a href="../man7/xsh_mdark.7.html">xsh_mdark</a></u>(7),    <u><a href="../man7/xsh_mflat.7.html">xsh_mflat</a></u>(7),    <u><a href="../man7/xsh_orderpos.7.html">xsh_orderpos</a></u>(7),    <u><a href="../man7/xsh_predict.7.html">xsh_predict</a></u>(7),
       <u><a href="../man7/xsh_respon_slit_nod.7.html">xsh_respon_slit_nod</a></u>(7),  <u><a href="../man7/xsh_respon_slit_offset.7.html">xsh_respon_slit_offset</a></u>(7),  <u><a href="../man7/xsh_respon_slit_stare.7.html">xsh_respon_slit_stare</a></u>(7),  <u><a href="../man7/xsh_scired_ifu_offset.7.html">xsh_scired_ifu_offset</a></u>(7),
       <u><a href="../man7/xsh_scired_ifu_offset_drl.7.html">xsh_scired_ifu_offset_drl</a></u>(7),            <u><a href="../man7/xsh_scired_ifu_stare.7.html">xsh_scired_ifu_stare</a></u>(7),            <u><a href="../man7/xsh_scired_ifu_stare_drl.7.html">xsh_scired_ifu_stare_drl</a></u>(7),
       <u><a href="../man7/xsh_scired_slit_nod.7.html">xsh_scired_slit_nod</a></u>(7),    <u><a href="../man7/xsh_scired_slit_offset.7.html">xsh_scired_slit_offset</a></u>(7),    <u><a href="../man7/xsh_scired_slit_stare.7.html">xsh_scired_slit_stare</a></u>(7),   <u><a href="../man7/xsh_util_physmod.7.html">xsh_util_physmod</a></u>(7),
       <u><a href="../man7/xsh_wavecal.7.html">xsh_wavecal</a></u>(7)

</pre><h4><b>VERSION</b></h4><pre>
       xsh_lingain 3.5.3

</pre><h4><b>AUTHOR</b></h4><pre>
       Lander de Bilbao,A.Modigliani &lt;<a href="mailto:amodigli@eso.org">amodigli@eso.org</a>&gt;

</pre><h4><b>BUG</b> <b>REPORTS</b></h4><pre>
       Please report any problems to <a href="mailto:amodigli@eso.org">amodigli@eso.org</a>. Alternatively, you may send a  report  to  the  ESO  User
       Support Department &lt;<a href="mailto:usd-help@eso.org">usd-help@eso.org</a>&gt;.

</pre><h4><b>LICENSE</b></h4><pre>
       This file is part of the X-shooter Instrument Pipeline Copyright (C) 2006 European Southern Observatory

       This  program  is  free  software;  you  can  redistribute it and/or modify it under the terms of the GNU
       General Public License as published by the Free Software Foundation; either version 2 of the License,  or
       (at your option) any later version.

       This  program  is  distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even
       the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General  Public
       License for more details.

       You  should have received a copy of the GNU General Public License along with this program; if not, write
       to the Free Software Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA

xsh_lingain                                           3.5.3                                       <u><a href="../man7/XSH_LINGAIN.7.html">XSH_LINGAIN</a></u>(7)
</pre>
 </div>
</div></section>
</div>
</body>
</html>