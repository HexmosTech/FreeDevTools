<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>swaybar-protocol - JSON status line protocol for swaybar</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/sway">sway_1.10.1-2_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       swaybar-protocol - JSON status line protocol for swaybar

</pre><h4><b>SUMMARY</b></h4><pre>
       swaybar  defines  the following JSON protocol to specify what information is displayed in the status line
       on the right side of swaybar. The protocol comprises a header, that is  a  JSON  object,  followed  by  a
       newline  (<b>0x0A</b>),  followed  by  an  infinite  JSON  array that represents the information to display. All
       communication is done by writing the status line to standard output  and  reading  events  from  standard
       input.

</pre><h4><b>HEADER</b></h4><pre>
       The header is a JSON object with support for the following properties (only <u>version</u> is required):
       ┌──────────────┬───────────┬─────────┬────────────────────────┐
       │   <b>PROPERTY</b>   │ <b>DATA</b> <b>TYPE</b> │ <b>DEFAULT</b> │      <b>DESCRIPTION</b>       │
       ├──────────────┼───────────┼─────────┼────────────────────────┤
       │   version    │  integer  │    -    │ The  protocol  version │
       │              │           │         │ to   use.   Currently, │
       │              │           │         │ this must be <b>1</b>         │
       ├──────────────┼───────────┼─────────┼────────────────────────┤
       │ click_events │  boolean  │  false  │ Whether   to   receive │
       │              │           │         │ click            event │
       │              │           │         │ information         to │
       │              │           │         │ standard input         │
       ├──────────────┼───────────┼─────────┼────────────────────────┤
       │ cont_signal  │  integer  │ SIGCONT │ The    signal     that │
       │              │           │         │ swaybar should send to │
       │              │           │         │ continue processing    │
       ├──────────────┼───────────┼─────────┼────────────────────────┤
       │ stop_signal  │  integer  │ SIGSTOP │ The     signal    that │
       │              │           │         │ swaybar should send to │
       │              │           │         │ stop processing        │
       └──────────────┴───────────┴─────────┴────────────────────────┘

   <b>MINIMAL</b> <b>HEADER</b>
           {
                "version": 1
           }

   <b>FULL</b> <b>HEADER</b>
           {
                "version": 1,
                "click_events": true,
                "cont_signal": 18,
                "stop_signal": 19
           }

</pre><h4><b>BODY</b></h4><pre>
       The body is an infinite array, where each element of the array is a representation of the status line  at
       the  time  that  the  element  was written. Each element of the array is itself an array of JSON objects,
       where each object represents a block in the status line. Each block can  have  the  following  properties
       (only <u>full_text</u> is required):

       ┌───────────────────────┬───────────────────┬──────────────────────────────┐
       │       <b>PROPERTY</b>        │     <b>DATA</b> <b>TYPE</b>     │         <b>DESCRIPTION</b>          │
       ├───────────────────────┼───────────────────┼──────────────────────────────┤
       │       full_text       │      string       │ The   text   that   will  be │
       │                       │                   │ displayed. <b>If</b>  <b>missing,</b>  <b>the</b> │
       │                       │                   │ <b>block</b> <b>will</b> <b>be</b> <b>skipped.</b>       │
       ├───────────────────────┼───────────────────┼──────────────────────────────┤
       │      short_text       │      string       │ If  given and the text needs │
       │                       │                   │ to  be  shortened   due   to │
       │                       │                   │ space,    this    will    be │
       │                       │                   │ displayed     instead     of │
       │                       │                   │ <u>full_text</u>                    │
       ├───────────────────────┼───────────────────┼──────────────────────────────┤
       │         color         │      string       │ The  text  color  to  use in │
       │                       │                   │ #RRGGBBAA     or     #RRGGBB │
       │                       │                   │ notation                     │
       ├───────────────────────┼───────────────────┼──────────────────────────────┤
       │      background       │      string       │ The background color for the │
       │                       │                   │ block    in   #RRGGBBAA   or │
       │                       │                   │ #RRGGBB notation             │
       ├───────────────────────┼───────────────────┼──────────────────────────────┤
       │        border         │      string       │ The  border  color  for  the │
       │                       │                   │ block    in   #RRGGBBAA   or │
       │                       │                   │ #RRGGBB notation             │
       ├───────────────────────┼───────────────────┼──────────────────────────────┤
       │      border_top       │      integer      │ The height in pixels of  the │
       │                       │                   │ top border. The default is 1 │
       ├───────────────────────┼───────────────────┼──────────────────────────────┤
       │     border_bottom     │      integer      │ The  height in pixels of the │
       │                       │                   │ bottom border.  The  default │
       │                       │                   │ is 1                         │
       ├───────────────────────┼───────────────────┼──────────────────────────────┤
       │      border_left      │      integer      │ The  width  in pixels of the │
       │                       │                   │ left border. The default  is │
       │                       │                   │ 1                            │
       ├───────────────────────┼───────────────────┼──────────────────────────────┤
       │     border_right      │      integer      │ The  width  in pixels of the │
       │                       │                   │ right border. The default is │
       │                       │                   │ 1                            │
       ├───────────────────────┼───────────────────┼──────────────────────────────┤
       │       min_width       │ integer or string │ The minimum width to use for │
       │                       │                   │ the block. This  can  either │
       │                       │                   │ be  given  in  pixels  or  a │
       │                       │                   │ string can be given to allow │
       │                       │                   │ for  it  to  be   calculated │
       │                       │                   │ based  on  the  width of the │
       │                       │                   │ string.                      │
       ├───────────────────────┼───────────────────┼──────────────────────────────┤
       │         align         │      string       │ If the text  does  not  span │
       │                       │                   │ the full width of the block, │
       │                       │                   │ this  specifies how the text │
       │                       │                   │ should be aligned inside  of │
       │                       │                   │ the  block. This can be <u>left</u> │
       │                       │                   │ (default), <u>right</u>, or <u>center</u>. │
       ├───────────────────────┼───────────────────┼──────────────────────────────┤
       │         name          │      string       │ A name for the  block.  This │
       │                       │                   │ is only used to identify the │
       │                       │                   │ block  for  click events. If │
       │                       │                   │ set, each block should  have │
       │                       │                   │ a  unique  <u>name</u> and <u>instance</u> │
       │                       │                   │ pair.                        │
       ├───────────────────────┼───────────────────┼──────────────────────────────┤
       │       instance        │      string       │ The instance of the <u>name</u> for │
       │                       │                   │ the block. This is only used │
       │                       │                   │ to identify  the  block  for │
       │                       │                   │ click  events.  If set, each │
       │                       │                   │ block should have  a  unique │
       │                       │                   │ <u>name</u> and <u>instance</u> pair.      │
       ├───────────────────────┼───────────────────┼──────────────────────────────┤
       │        urgent         │      boolean      │ Whether  the block should be │
       │                       │                   │ displayed     as     urgent. │
       │                       │                   │ Currently  swaybar  utilizes │
       │                       │                   │ the colors set in  the  sway │
       │                       │                   │ config  for urgent workspace │
       │                       │                   │ buttons. See <b><a href="../man5/sway-bar.5.html">sway-bar</a></b>(5) for │
       │                       │                   │ more  information   on   bar │
       │                       │                   │ color configuration.         │
       ├───────────────────────┼───────────────────┼──────────────────────────────┤
       │       separator       │      boolean      │ Whether  the  bar  separator │
       │                       │                   │ should be  drawn  after  the │
       │                       │                   │ block.  See  <b><a href="../man5/sway-bar.5.html">sway-bar</a></b>(5) for │
       │                       │                   │ more information on  how  to │
       │                       │                   │ set the separator text.      │
       ├───────────────────────┼───────────────────┼──────────────────────────────┤
       │ separator_block_width │      integer      │ The   amount  of  pixels  to │
       │                       │                   │ leave blank after the block. │
       │                       │                   │ The separator text  will  be │
       │                       │                   │ displayed  centered  in this │
       │                       │                   │ gap.  The   default   is   9 │
       │                       │                   │ pixels.                      │
       ├───────────────────────┼───────────────────┼──────────────────────────────┤
       │        markup         │      string       │ The  type  of  markup to use │
       │                       │                   │ when parsing  the  text  for │
       │                       │                   │ the  block.  This can either │
       │                       │                   │ be <u>pango</u> or <u>none</u> (default).  │
       └───────────────────────┴───────────────────┴──────────────────────────────┘

       Other properties may be given and swaybar will  ignore  any  property  that  it  does  not  know.  It  is
       recommended to prefix any custom properties with an underscore to make it easier to distinguish them from
       protocol properties.

   <b>BODY</b> <b>EXAMPLE</b>
           [
                [
                     {
                          "full_text": "25%",
                          "min_width": "100%",
                          "urgent": false
                     },
                     {
                          "full_text": "Thu 30 May 2019 02:15:15"
                     }
                ],
                [
                     {
                          "full_text": "20%",
                          "min_width": "100%",
                          "urgent": false
                     },
                     {
                          "full_text": "Thu 30 May 2019 02:20:52"
                     }
                ],
                [
                     {
                          "full_text": "15%",
                          "min_width": "100%",
                          "urgent": true
                     },
                     {
                          "full_text": "Thu 30 May 2019 02:25:41"
                     }
                ],
                ...

   <b>FULL</b> <b>BLOCK</b> <b>EXAMPLE</b>
           {
                "full_text": "Thu 30 May 2019 02:09:15",
                "short_text": "02:09",
                "color": "#ccccccff",
                "background": "#111111ff",
                "border": "#222222ff",
                "border_top": 1,
                "border_bottom": 1,
                "border_left": 1,
                "border_right": 1,
                "min_width": 100,
                "align": "center",
                "name": "clock",
                "instance": "edt",
                "urgent": false,
                "separator": true,
                "separator_block_width": 5,
                "markup": "none"
           }

</pre><h4><b>CLICK</b> <b>EVENTS</b></h4><pre>
       If requested in the header, swaybar will write a JSON object, that can be read from standard in, when the
       user clicks on a block. The event object will have the following properties:

       ┌────────────┬───────────┬──────────────────────────────┐
       │  <b>PROPERTY</b>  │ <b>DATA</b> <b>TYPE</b> │         <b>DESCRIPTION</b>          │
       ├────────────┼───────────┼──────────────────────────────┤
       │    name    │  string   │ The  name  of  the block, if │
       │            │           │ set                          │
       ├────────────┼───────────┼──────────────────────────────┤
       │  instance  │  string   │ The instance of  the  block, │
       │            │           │ if set                       │
       ├────────────┼───────────┼──────────────────────────────┤
       │     x      │  integer  │ The   x  location  that  the │
       │            │           │ click occurred at            │
       ├────────────┼───────────┼──────────────────────────────┤
       │     y      │  integer  │ The  y  location  that   the │
       │            │           │ click occurred at            │
       ├────────────┼───────────┼──────────────────────────────┤
       │   button   │  integer  │ The  x11  button  number for │
       │            │           │ the  click.  If  the  button │
       │            │           │ does  not have an x11 button │
       │            │           │ mapping, this will be <u>0</u>.     │
       ├────────────┼───────────┼──────────────────────────────┤
       │   event    │  integer  │ The    event    code    that │
       │            │           │ corresponds  to  the  button │
       │            │           │ for the click                │
       ├────────────┼───────────┼──────────────────────────────┤
       │ relative_x │  integer  │ The x location of the  click │
       │            │           │ relative  to the top-left of │
       │            │           │ the block                    │
       ├────────────┼───────────┼──────────────────────────────┤
       │ relative_y │  integer  │ The y location of the  click │
       │            │           │ relative  to the top-left of │
       │            │           │ the block                    │
       ├────────────┼───────────┼──────────────────────────────┤
       │   width    │  integer  │ The width of  the  block  in │
       │            │           │ pixels                       │
       ├────────────┼───────────┼──────────────────────────────┤
       │   height   │  integer  │ The  height  of the block in │
       │            │           │ pixels                       │
       └────────────┴───────────┴──────────────────────────────┘

       <b>Differences</b> <b>from</b> <b>i3bar's</b> <b>protocol:</b>
       •   <u>button</u> may be <u>0</u> for buttons that do not have x11 button mappings
       •   <u>event</u> has been introduced to allow for non-x11 buttons to be represented
       •   The <u>modifiers</u> property is not currently added by swaybar

   <b>EXAMPLE</b>
           {
                "name": "clock",
                "instance": "edt",
                "x": 1900,
                "y": 10,
                "button": 1,
                "event": 274,
                "relative_x": 100,
                "relative_y": 8,
                "width": 120,
                "height": 18
           }

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man5/sway-bar.5.html">sway-bar</a></b>(5)

                                                   2025-02-04                                <u><a href="../man7/swaybar-protocol.7.html">swaybar-protocol</a></u>(7)
</pre>
 </div>
</div></section>
</div>
</body>
</html>