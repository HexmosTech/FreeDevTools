<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ocf_heartbeat_tomcat - Manages a Tomcat servlet environment instance</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/resource-agents-extra">resource-agents-extra_4.16.0-3ubuntu1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       ocf_heartbeat_tomcat - Manages a Tomcat servlet environment instance

</pre><h4><b>SYNOPSIS</b></h4><pre>

       <b>tomcat</b> [start | stop | status | monitor | meta-data | validate-all]

</pre><h4><b>DESCRIPTION</b></h4><pre>
       Resource script for Tomcat. It manages a Tomcat instance as a cluster resource.

</pre><h4><b>SUPPORTED</b> <b>PARAMETERS</b></h4><pre>
       <b>tomcat_name</b>
           The name of the resource, added as a Java parameter in JAVA_OPTS:

           -Dname=&lt;tomcat_name&gt; to Tomcat process on start. Used to ensure process is still running and must be
           unique.

           (unique, optional, string, default "tomcat")

       <b>script_log</b>
           Log file, used during start and stop operations.

           (unique, optional, string, default "/var/log/tomcat.log")

       <b>tomcat_stop_timeout</b>
           Time-out for stop operation. DEPRECATED

           (optional, integer, no default)

       <b>tomcat_suspend_trialcount</b>
           Maximum number of times to retry stop operation before suspending and killing Tomcat. DEPRECATED.
           Does not retry.

           (optional, integer, no default)

       <b>tomcat_user</b>
           The user who starts Tomcat.

           (optional, string, default "root")

       <b>statusurl</b>
           URL for state confirmation.

           (optional, string, default "<a href="http://127.0.0.1">http://127.0.0.1</a>:8080")

       <b>max_stop_time</b>
           Number of seconds to wait during a stop before drastic measures (force kill) are used on the tomcat
           process. This number MUST be less than your cluster stop timeout for the resource. The default value
           is five seconds before the timeout value of stop operation. When it is over this value, it stops a
           process in kill commands. This parameter is only effective on Tomcat 6 or later.

           (optional, integer, no default)

       <b>java_home</b>
           Home directory of Java.

           (required, string, no default)

       <b>java_opts</b>
           Java JVM options used on start and stop.

           (optional, string, no default)

       <b>catalina_home</b>
           Home directory of Tomcat.

           (required, string, no default)

       <b>catalina_base</b>
           Instance directory of Tomcat

           (unique, optional, string, no default)

       <b>catalina_out</b>
           Log file name of Tomcat

           (unique, optional, string, default "/logs/catalina.out")

       <b>catalina_pid</b>
           A PID file name for Tomcat.

           (unique, optional, string, no default)

       <b>force_systemd</b>
           Force use of systemd when available.

           (optional, string, default "0")

       <b>tomcat_start_script</b>
           Absolute path to the custom tomcat start script to use.

           (optional, string, no default)

       <b>tomcat_start_opts</b>
           Tomcat start options.

           (optional, string, no default)

       <b>catalina_opts</b>
           Catalina options, for the start operation only.

           (optional, string, no default)

       <b>catalina_tmpdir</b>
           Temporary directory of Tomcat

           (unique, optional, string, no default)

       <b>catalina_rotate_log</b>
           Rotate catalina.out flag.

           (optional, boolean, default NO)

       <b>catalina_rotatetime</b>
           catalina.out rotation interval (seconds).

           (optional, integer, default 86400)

       <b>java_endorsed_dirs</b>
           Java_endorsed_dirs of tomcat

           (unique, optional, string, no default)

       <b>logging_config</b>
           Logging_config of tomcat

           (unique, optional, string, no default)

       <b>logging_manager</b>
           Logging_manager of tomcat

           (unique, optional, string, no default)

</pre><h4><b>SUPPORTED</b> <b>ACTIONS</b></h4><pre>
       This resource agent supports the following actions (operations):

       <b>start</b>
           Starts the resource. Suggested minimum timeout: 60s.

       <b>stop</b>
           Stops the resource. Suggested minimum timeout: 120s.

       <b>status</b>
           Performs a status check. Suggested minimum timeout: 60s.

       <b>monitor</b>
           Performs a detailed status check. Suggested minimum timeout: 30s. Suggested interval: 10s.

       <b>meta-data</b>
           Retrieves resource agent metadata (internal use only). Suggested minimum timeout: 5s.

       <b>validate-all</b>
           Performs a validation of the resource configuration. Suggested minimum timeout: 5s.

</pre><h4><b>EXAMPLE</b> <b>CRM</b> <b>SHELL</b></h4><pre>
       The following is an example configuration for a tomcat resource using the <b><a href="../man8/crm.8.html">crm</a></b>(8) shell:

           primitive p_tomcat ocf:heartbeat:tomcat \
             params \
               java_home=<u>string</u> \
               catalina_home=<u>string</u> \
             op monitor depth="0" timeout="30s" interval="10s"

</pre><h4><b>EXAMPLE</b> <b>PCS</b></h4><pre>
       The following is an example configuration for a tomcat resource using <b><a href="../man8/pcs.8.html">pcs</a></b>(8)

           pcs resource create p_tomcat ocf:heartbeat:tomcat \
             java_home=<u>string</u> \
             catalina_home=<u>string</u> \
             op monitor OCF_CHECK_LEVEL="0" timeout="30s" interval="10s"

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="http://clusterlabs.org/">http://clusterlabs.org/</a></b>

</pre><h4><b>AUTHOR</b></h4><pre>
       <b>ClusterLabs</b> <b>contributors</b> <b>(see</b> <b>the</b> <b>resource</b> <b>agent</b> <b>source</b> <b>for</b> <b>information</b> <b>about</b> <b>individual</b> <b>authors)</b>

resource-agents 4.16.0-3ubuntu                     06/25/2025                            <u><a href="../man7/OCF_HEARTBEAT_TOMCAT.7.html">OCF_HEARTBEAT_TOMCAT</a></u>(7)
</pre>
 </div>
</div></section>
</div>
</body>
</html>