<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>syncthing-networking - Firewall Setup</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/syncthing">syncthing_1.29.5~ds1-2_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       syncthing-networking - Firewall Setup

</pre><h4><b>ROUTER</b> <b>SETUP</b></h4><pre>
   <b>Port</b> <b>Forwards</b>
       If  you  have  a NAT router which supports UPnP, the easiest way to get a working port forward is to make
       sure UPnP setting is enabled on both Syncthing and the router – Syncthing will try to handle the rest. If
       it succeeds you will see a message in the console saying:

          Created UPnP port mapping for external port XXXXX on UPnP device YYYYY.

       If this is not possible or desirable, you should set  up  a  port  forwarding  for  ports  <b>22000/TCP</b>  and
       <b>22000/UDP</b> (or whichever port is set in the <u>Sync</u> <u>Protocol</u> <u>Listen</u> <u>Address</u> setting).  The external forwarded
       ports and the internal destination ports have to be the same (e.g. 22000/TCP).

       Communication  in  Syncthing works both ways. Therefore if you set up port forwards for one device, other
       devices will be able to connect to it even when they are behind a NAT network or firewall.

       In the absence of port forwarding, <u>Relaying</u> may work well enough to get devices connected and synced, but
       will perform poorly in comparison to a direct connection.

   <b>Local</b> <b>Discovery</b>
       The router needs to allow/forward broad-/multicasts for local  discovery  to  work.   Usually  these  are
       allowed by default in a single local subnet, but may be blocked between different subnets or even between
       a bridged Wi-Fi and LAN.

       If  you  are  unable  to  set  up your router thus or your firewall as shown below, and your devices have
       static IP addresses, you can specify them directly by changing the default <b>dynamic</b> setting for  <u>Addresses</u>
       to something like: <b>tcp://192.168.1.xxx:22000,</b> <b>dynamic</b>.

</pre><h4><b>LOCAL</b> <b>FIREWALL</b></h4><pre>
       If  your  PC  has  a  local firewall, you will need to open the following ports for incoming and outgoing
       traffic:

       • Port <b>22000/TCP</b>: TCP based sync protocol traffic

       • Port <b>22000/UDP</b>: QUIC based sync protocol traffic

       • Port <b>21027/UDP</b>: for discovery broadcasts on IPv4 and multicasts on IPv6

       If you configured a custom port in the <u>Sync</u> <u>Protocol</u> <u>Listen</u>  <u>Address</u>  setting,  you  have  to  adapt  the
       firewall rules accordingly.

   <b>Uncomplicated</b> <b>Firewall</b> <b>(ufw)</b>
       If  you’re  using <b>ufw</b> on Linux and have installed the <u>Syncthing</u> <u>package</u> &lt;<b>https://apt.syncthing.net/</b>&gt;, you
       can allow the necessary ports by running:

          sudo ufw allow syncthing

       If you also want to allow external access to the Syncthing web GUI, run:

          sudo ufw allow syncthing-gui

       Allowing external access is <b>not</b>  necessary for a typical installation.

       You can then verify that the ports mentioned above are allowed:

          sudo ufw status verbose

       In case you installed Syncthing manually you can follow the <u>instructions</u> <u>to</u> <u>manually</u>  <u>add</u>  <u>the</u>  <u>syncthing</u>
       <u>preset</u> &lt;<b>https://github.com/syncthing/syncthing/tree/main/etc/firewall-ufw</b>&gt; to ufw.

   <b>Firewalld</b>
       If  you are using <u>Firewalld</u> &lt;<b>https://firewalld.org/</b>&gt; it has included support for syncthing (since version
       0.5.0, January 2018), and you can enable it with:

          sudo firewall-cmd --zone=public --add-service=syncthing --permanent
          sudo firewall-cmd --reload

       Similarly there is also a <b>syncthing-gui</b> service.

</pre><h4><b>REMOTE</b> <b>WEB</b> <b>GUI</b></h4><pre>
       To be able to access the web GUI from other computers, you need to change the <u>GUI</u> <u>Listen</u> <u>Address</u>  setting
       from the default <b>127.0.0.1:8384</b> to <b>0.0.0.0:8384</b>. You also need to open the port in your local firewall if
       you have one.

   <b>Tunneling</b> <b>via</b> <b>SSH</b>
       If you have SSH access to the machine running Syncthing but would rather not open the web GUI port to the
       outside world, you can access it through a SSH tunnel instead. You can start a tunnel with a command like
       the following:

          ssh -L 9999:localhost:8384 machine

       This  will bind to your local port 9999 and forward all connections from there to port 8384 on the target
       machine. This still works even if Syncthing is bound to listen on localhost only.

</pre><h4><b>VIA</b> <b>A</b> <b>PROXY</b></h4><pre>
       Syncthing can use a SOCKS5 proxy for outbound connections. Please see <u>Using</u> <u>Proxies</u>.

</pre><h4><b>AUTHOR</b></h4><pre>
       The Syncthing Authors

</pre><h4><b>COPYRIGHT</b></h4><pre>
       2014-2019, The Syncthing Authors

v1.29.3                                           Mar 19, 2025                           <u><a href="../man7/SYNCTHING-NETWORKING.7.html">SYNCTHING-NETWORKING</a></u>(7)
</pre>
 </div>
</div></section>
</div>
</body>
</html>