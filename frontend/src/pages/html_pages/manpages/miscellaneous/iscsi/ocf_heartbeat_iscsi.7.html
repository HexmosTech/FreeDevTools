<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ocf_heartbeat_iscsi - Manages a local iSCSI initiator and its connections to iSCSI targets</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/resource-agents-base">resource-agents-base_4.16.0-3ubuntu1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       ocf_heartbeat_iscsi - Manages a local iSCSI initiator and its connections to iSCSI targets

</pre><h4><b>SYNOPSIS</b></h4><pre>

       <b>iscsi</b> [start | stop | status | monitor | meta-data | validate-all]

</pre><h4><b>DESCRIPTION</b></h4><pre>
       OCF Resource Agent for iSCSI. Add (start) or remove (stop) iSCSI targets.

</pre><h4><b>SUPPORTED</b> <b>PARAMETERS</b></h4><pre>
       <b>portal</b>
           The iSCSI portal address in the form: {ip_address|hostname}[":"port]

           (required, string, no default)

       <b>target</b>
           The iSCSI target IQN.

           (unique, required, string, no default)

       <b>discovery_type</b>
           Target discovery type. Check the open-iscsi documentation for supported discovery types.

           (optional, string, default "sendtargets")

       <b>iscsiadm</b>
           open-iscsi administration utility binary.

           (optional, string, default "iscsiadm")

       <b>udev</b>
           If the next resource depends on the udev creating a device then we wait until it is finished. On a
           normally loaded host this should be done quickly, but you may be unlucky. If you are not using udev
           set this to "no", otherwise we will spin in a loop until a timeout occurs.

           (optional, string, default "yes")

       <b>try_recovery</b>
           If the iSCSI session exists but is currently inactive/broken, which is most probably due to network
           problems, the iSCSI layer will try to recover. If this parameter is set to true, we'll wait for the
           recovery to succeed. In that case the monitor operation can only time out so you should set the
           monitor op timeout attribute appropriately.

           (optional, boolean, default false)

</pre><h4><b>SUPPORTED</b> <b>ACTIONS</b></h4><pre>
       This resource agent supports the following actions (operations):

       <b>start</b>
           Starts the resource. Suggested minimum timeout: 120s.

       <b>stop</b>
           Stops the resource. Suggested minimum timeout: 120s.

       <b>status</b>
           Performs a status check. Suggested minimum timeout: 30s.

       <b>monitor</b>
           Performs a detailed status check. Suggested minimum timeout: 30s. Suggested interval: 120s.

       <b>validate-all</b>
           Performs a validation of the resource configuration. Suggested minimum timeout: 5s.

       <b>methods</b>
           Suggested minimum timeout: 5s.

       <b>meta-data</b>
           Retrieves resource agent metadata (internal use only). Suggested minimum timeout: 5s.

</pre><h4><b>EXAMPLE</b> <b>CRM</b> <b>SHELL</b></h4><pre>
       The following is an example configuration for a iscsi resource using the <b><a href="../man8/crm.8.html">crm</a></b>(8) shell:

           primitive p_iscsi ocf:heartbeat:iscsi \
             params \
               portal=<u>string</u> \
               target=<u>string</u> \
             op monitor depth="0" timeout="30s" interval="120s"

</pre><h4><b>EXAMPLE</b> <b>PCS</b></h4><pre>
       The following is an example configuration for a iscsi resource using <b><a href="../man8/pcs.8.html">pcs</a></b>(8)

           pcs resource create p_iscsi ocf:heartbeat:iscsi \
             portal=<u>string</u> \
             target=<u>string</u> \
             op monitor OCF_CHECK_LEVEL="0" timeout="30s" interval="120s"

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="http://clusterlabs.org/">http://clusterlabs.org/</a></b>

</pre><h4><b>AUTHOR</b></h4><pre>
       <b>ClusterLabs</b> <b>contributors</b> <b>(see</b> <b>the</b> <b>resource</b> <b>agent</b> <b>source</b> <b>for</b> <b>information</b> <b>about</b> <b>individual</b> <b>authors)</b>

resource-agents 4.16.0-3ubuntu                     06/25/2025                             <u><a href="../man7/OCF_HEARTBEAT_ISCSI.7.html">OCF_HEARTBEAT_ISCSI</a></u>(7)
</pre>
 </div>
</div></section>
</div>
</body>
</html>