<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ocf_heartbeat_iSCSILogicalUnit - Manages iSCSI Logical Units (LUs)</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/resource-agents-base">resource-agents-base_4.16.0-3ubuntu1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       ocf_heartbeat_iSCSILogicalUnit - Manages iSCSI Logical Units (LUs)

</pre><h4><b>SYNOPSIS</b></h4><pre>

       <b>iSCSILogicalUnit</b> [start | stop | status | monitor | meta-data | validate-all]

</pre><h4><b>DESCRIPTION</b></h4><pre>
       Manages iSCSI Logical Unit. An iSCSI Logical unit is a subdivision of an SCSI Target, exported via a
       daemon that speaks the iSCSI protocol.

</pre><h4><b>SUPPORTED</b> <b>PARAMETERS</b></h4><pre>
       <b>implementation</b>
           The iSCSI target daemon implementation. Must be one of "iet", "tgt", "lio", "lio-t", or "scst". If
           unspecified, an implementation is selected based on the availability of management utilities, with
           "iet" being tried first, then "tgt", then "lio", then "lio-t", then "scst".

           (optional, string, no default)

       <b>target_iqn</b>
           The iSCSI Qualified Name (IQN) that this Logical Unit belongs to.

           (required, string, no default)

       <b>lun</b>
           The Logical Unit number (LUN) exposed to initiators.

           (required, integer, no default)

       <b>path</b>
           The path to the block device exposed. Some implementations allow this to be a regular file, too.

           (required, string, no default)

       <b>scsi_id</b>
           The SCSI ID to be configured for this Logical Unit. The default is the resource name, truncated to 24
           bytes.

           (unique, optional, string, default "RESOURCE_ID")

       <b>scsi_sn</b>
           The SCSI serial number to be configured for this Logical Unit. The default is a hash of the resource
           name, truncated to 8 bytes, meaning 26 hex characters. If you are using XenServer with multipath as
           iSCSI client, you MUST make sure this value is set, or else XenServer multipath will not be able to
           access the LUN

           (unique, optional, string, default "b3a49b7f")

       <b>emulate_tpu</b>
           The SCSI UNMAP command to be configured for this Logical Unit. Setting this integer to 1 will enable
           TPU IOCTL emulation.

           (optional, integer, no default)

       <b>emulate_3pc</b>
           The SCSI EXTENDED COPY command to be configured for this Logical Unit. Setting this integer to 1 will
           enable 3PC IOCTL emulation.

           (optional, integer, no default)

       <b>emulate_caw</b>
           The SCSI Compare and Write command to be configured for this Logical Unit. Setting this integer to 1
           will enable CAW IOCTL emulation.

           (optional, integer, no default)

       <b>vendor_id</b>
           The SCSI vendor ID to be configured for this Logical Unit.

           (optional, string, no default)

       <b>product_id</b>
           The SCSI product ID to be configured for this Logical Unit.

           (optional, string, no default)

       <b>tgt_bstype</b>
           TGT specific backing store type. If you want to use aio, make sure your tgtadm is built against
           libaio. See <a href="../man8/tgtadm.8.html">tgtadm</a>(8).

           (optional, string, no default)

       <b>tgt_bsoflags</b>
           TGT specific backing store open flags (direct|sync). See <a href="../man8/tgtadm.8.html">tgtadm</a>(8).

           (optional, string, no default)

       <b>tgt_bsopts</b>
           TGT specific backing store options. See <a href="../man8/tgtadm.8.html">tgtadm</a>(8).

           (optional, string, no default)

       <b>tgt_device_type</b>
           TGT specific device type. See <a href="../man8/tgtadm.8.html">tgtadm</a>(8).

           (optional, string, no default)

       <b>additional_parameters</b>
           Additional LU parameters. A space-separated list of "name=value" pairs which will be passed through
           to the iSCSI daemon's management interface. The supported parameters are implementation dependent.
           Neither the name nor the value may contain whitespace.

           (optional, string, no default)

       <b>allowed_initiators</b>
           Allowed initiators. A space-separated list of initiators allowed to connect to this lun. Initiators
           may be listed in any syntax the target implementation allows. If this parameter is empty or not set,
           access to this lun will not be allowed from any initiator, if target is not in demo mode.

           This parameter is only necessary when using LIO.

           (optional, string, no default)

       <b>lio_iblock</b>
           LIO iblock device name, a number starting from 0.

           Using distinct values here avoids a warning in LIO "LEGACY: SHARED HBA"; and it is necessary when
           using multiple LUNs started at the same time (eg. on node failover) to prevent a race condition in
           tcm_core on mkdir() in /sys/kernel/config/target/core/.

           (optional, integer, default 0)

       <b>liot_bstype</b>
           LIO-T specific backing store type. If you want to use aio, set this to 'block'. If you want to use
           async IO, set this to 'fileio'. Async I/O works also with block devices, however - you need to
           understand the consequences. See <a href="../man8/targetcli.8.html">targetcli</a>(8). If using file backend, you need to create this file in
           advance. If you want to use SCSI Passthrough, set this to 'pscsi'. Do not use PSCSI unless you know
           exactly how it will be used.

           (optional, string, default "block")

</pre><h4><b>SUPPORTED</b> <b>ACTIONS</b></h4><pre>
       This resource agent supports the following actions (operations):

       <b>start</b>
           Starts the resource. Suggested minimum timeout: 10s.

       <b>stop</b>
           Stops the resource. Suggested minimum timeout: 10s.

       <b>status</b>
           Performs a status check. Suggested minimum timeout: 10s. Suggested interval: 10s.

       <b>monitor</b>
           Performs a detailed status check. Suggested minimum timeout: 10s. Suggested interval: 10s.

       <b>meta-data</b>
           Retrieves resource agent metadata (internal use only). Suggested minimum timeout: 5s.

       <b>validate-all</b>
           Performs a validation of the resource configuration. Suggested minimum timeout: 10s.

</pre><h4><b>EXAMPLE</b> <b>CRM</b> <b>SHELL</b></h4><pre>
       The following is an example configuration for a iSCSILogicalUnit resource using the <b><a href="../man8/crm.8.html">crm</a></b>(8) shell:

           primitive p_iSCSILogicalUnit ocf:heartbeat:iSCSILogicalUnit \
             params \
               target_iqn=<u>string</u> \
               lun=<u>integer</u> \
               path=<u>string</u> \
             op monitor timeout="10s" interval="10s" depth="0"

</pre><h4><b>EXAMPLE</b> <b>PCS</b></h4><pre>
       The following is an example configuration for a iSCSILogicalUnit resource using <b><a href="../man8/pcs.8.html">pcs</a></b>(8)

           pcs resource create p_iSCSILogicalUnit ocf:heartbeat:iSCSILogicalUnit \
             target_iqn=<u>string</u> \
             lun=<u>integer</u> \
             path=<u>string</u> \
             op monitor timeout="10s" interval="10s" OCF_CHECK_LEVEL="0"

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="http://clusterlabs.org/">http://clusterlabs.org/</a></b>

</pre><h4><b>AUTHOR</b></h4><pre>
       <b>ClusterLabs</b> <b>contributors</b> <b>(see</b> <b>the</b> <b>resource</b> <b>agent</b> <b>source</b> <b>for</b> <b>information</b> <b>about</b> <b>individual</b> <b>authors)</b>

resource-agents 4.16.0-3ubuntu                     06/25/2025                            <u><a href="../man7/OCF_HEARTBEAT_ISCSIL.7.html">OCF_HEARTBEAT_ISCSIL</a></u>(7)
</pre>
 </div>
</div></section>
</div>
</body>
</html>