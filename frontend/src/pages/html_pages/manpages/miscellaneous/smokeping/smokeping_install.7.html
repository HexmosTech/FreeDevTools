<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>smokeping_install - How to install SmokePing</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/smokeping">smokeping_2.8.2+ds-1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       smokeping_install - How to install SmokePing

</pre><h4><b>OVERVIEW</b></h4><pre>
       This document explains how to setup SmokePing at your site.

</pre><h4><b>DESCRIPTION</b></h4><pre>
   <b>Prerequisites</b>
       SmokePing does not stand alone. It relies on various other tools and services being present. Apart from a
       Unix OS and a working Perl installation you need the following components:

       RRDtool 1.2.x or later
           Smokeping  uses  RRDtool  for logging and graphing. If your linux distro provides an rrdtool  package
           with perl support, use this. If you want to get the latest and greatest version,  compile  your  own:
           &lt;<a href="http://oss.oetiker.ch/rrdtool/">http://oss.oetiker.ch/rrdtool/</a>&gt;

           Ubuntu:

            sudo apt install rrdtool librrds-perl libssl-dev

           RedHat:

            sudo yum install rrdtool perl-rrdtool openssl-devel

       FPing (optional)
           Go to &lt;<a href="http://www.fping.org/">http://www.fping.org/</a>&gt; to grab a copy.

           Note  that  fping  must  be installed setuid root. It seems that older versions of fping report round
           trip times in 0.1 milliseconds instead of 1 milliseconds as advertised ... SmokePing tries to  figure
           this out. It tells you when it starts ... let me know if it gets it wrong.

       EchoPing  (Optional)
           &lt;https://github.com/bortzmeyer/echoping/&gt;

           You need this to run the EchoPing probes

       Curl (Optional)
           &lt;<a href="http://curl.haxx.se/">http://curl.haxx.se/</a>&gt;

           You need this for the Curl probe.

       dig (Optional)
           &lt;<a href="http://www.isc.org/sw/bind/">http://www.isc.org/sw/bind/</a>&gt;

           You need this for the DNS probe.

       SSH (Optional)
           &lt;<a href="http://www.openssh.org/">http://www.openssh.org/</a>&gt;

           You need this for the SSH probe.

       Webserver
           &lt;<a href="http://httpd.apache.org/">http://httpd.apache.org/</a>&gt;

           Well  I won't get much into this. The important thing is, to have a webserver which allows you to run
           CGI and preferably FastCGI scripts. If you are using Apache I strongly  recommend  using  the  <u>suexec</u>
           system for running CGI scripts as a particular user.

           See                     &lt;<a href="http://httpd.apache.org/mod_fcgid/mod/mod_fcgid.html">http://httpd.apache.org/mod_fcgid/mod/mod_fcgid.html</a>&gt;                    and
           &lt;<a href="http://httpd.apache.org/docs/2.2/mod/mod_suexec.html">http://httpd.apache.org/docs/2.2/mod/mod_suexec.html</a>&gt; for more information on this.

       Perl 5.10.1 or later.
           If you still have an older version, maybe have a look at perlbrew.

           Ubuntu:

            sudo apt install perl

           RedHat:

            sudo yum install perl-core

   <b>Installation</b>
       Once the tools listed above are in place, you can start setting  up  SmokePing  itself.  Unpack  the  tar
       archive and run the included configure script:

        ./configure --prefix=/opt/smokeping

       Configure will verify that all the required perl modules are available.  If some are missing it will tell
       you to run the module build script.  Just follow the instructions on screen and then run configure again.
       Once it completes, you can run

        make install

       to finish your setup.

   <b>Configuration</b>
       Use  the  <u>etc/config.dist</u>  file  as  a  template  to  create  your own smokeping configuration file.  See
       smokeping_config for details.

       Installing the webinterface
           Copy the content of the <u>PREFIX/htdocs</u> directory to the place where your webserver expects  its  data.
           Maybe to <u>/var/www/smokeping</u>.

           Edit the <u>smokeping.fcgi</u> script to point to your smokeping_cgi script.

           If you have no FastCGI support in your webserver, you may want to use the <u>smokeping.cgi</u> script.

       <u>etc/basepage.html</u>
           Edit  the html template to your liking. Please do not remove the link to the SmokePing counter and my
           name from the template.  The content of the template will be rendered by smokeping.cgi.   This  means
           that  all  embedded  links  must be relative to smokeping.cgi.  If you are using HTTP authentication,
           then the template variable "authuser"  will  be  populated  from  the  $ENV{REMOTE_USER}  environment
           variable.

       <u>etc/smokemail</u>
           If you are going to use the <b>DYNAMIC</b> IP support, customize the contents of this file.

   <b>Starting</b> <b>the</b> <b>Smokeping</b> <b>Daemon</b>
       With  all  the  scaffolding in place, you can now launch the smokeping daemon and have it gather data for
       you. First you may want to run it in debug mode to see what it is doing

        ./bin/smokeping --config=/opt/smokeping/etc/config --debug

       once all is well, start it up as a daemon. I would recommend you enable the logfile option  so  that  you
       can see if it runs into trouble.

        ./bin/smokeping --config=/opt/smokeping/etc/config --logfile=smoke.log

       Once  the  system works, you may want to put a SmokePing startup script into your <u><a href="file:/etc/init.d">/etc/init.d</a></u> tree. Check
       out smokeping for further information.

       You can now open the smokeping.cgi webpage to look at your data.

       See the smokeping_cgi documentation on how to setup the smokeping web interface.

</pre><h4><b>COPYRIGHT</b></h4><pre>
       Copyright (c) 2001, 2011 by Tobias Oetiker. All right reserved.

</pre><h4><b>LICENSE</b></h4><pre>
       This program is free software; you can redistribute it and/or modify  it  under  the  terms  of  the  GNU
       General  Public License as published by the Free Software Foundation; either version 2 of the License, or
       (at your option) any later version.

       This program is distributed in the hope that it will be useful, but WITHOUT ANY  WARRANTY;  without  even
       the  implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public
       License for more details.

       You should have received a copy of the GNU General Public License along with this program; if not,  write
       to the Free Software Foundation, Inc., 675 Mass Ave, Cambridge, MA 02139, USA.

</pre><h4><b>AUTHOR</b></h4><pre>
       Tobias Oetiker &lt;<a href="mailto:tobi@oetiker.ch">tobi@oetiker.ch</a>&gt;

2.8.2                                              2024-02-04                               <u><a href="../man7/SMOKEPING_INSTALL.7.html">SMOKEPING_INSTALL</a></u>(7)
</pre>
 </div>
</div></section>
</div>
</body>
</html>