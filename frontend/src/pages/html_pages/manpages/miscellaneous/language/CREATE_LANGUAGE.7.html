<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CREATE_LANGUAGE - define a new procedural language</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/postgresql-client-17">postgresql-client-17_17.5-1build1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       CREATE_LANGUAGE - define a new procedural language

</pre><h4><b>SYNOPSIS</b></h4><pre>
       CREATE [ OR REPLACE ] [ TRUSTED ] [ PROCEDURAL ] LANGUAGE <u>name</u>
           HANDLER <u>call_handler</u> [ INLINE <u>inline_handler</u> ] [ VALIDATOR <u>valfunction</u> ]
       CREATE [ OR REPLACE ] [ TRUSTED ] [ PROCEDURAL ] LANGUAGE <u>name</u>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>CREATE</b> <b>LANGUAGE</b> registers a new procedural language with a PostgreSQL database. Subsequently, functions
       and procedures can be defined in this new language.

       <b>CREATE</b> <b>LANGUAGE</b> effectively associates the language name with handler function(s) that are responsible
       for executing functions written in the language. Refer to Chapter 56 for more information about language
       handlers.

       <b>CREATE</b> <b>OR</b> <b>REPLACE</b> <b>LANGUAGE</b> will either create a new language, or replace an existing definition. If the
       language already exists, its parameters are updated according to the command, but the language's
       ownership and permissions settings do not change, and any existing functions written in the language are
       assumed to still be valid.

       One must have the PostgreSQL superuser privilege to register a new language or change an existing
       language's parameters. However, once the language is created it is valid to assign ownership of it to a
       non-superuser, who may then drop it, change its permissions, rename it, or assign it to a new owner. (Do
       not, however, assign ownership of the underlying C functions to a non-superuser; that would create a
       privilege escalation path for that user.)

       The form of <b>CREATE</b> <b>LANGUAGE</b> that does not supply any handler function is obsolete. For backwards
       compatibility with old dump files, it is interpreted as <b>CREATE</b> <b>EXTENSION</b>. That will work if the language
       has been packaged into an extension of the same name, which is the conventional way to set up procedural
       languages.

</pre><h4><b>PARAMETERS</b></h4><pre>
       TRUSTED
           TRUSTED specifies that the language does not grant access to data that the user would not otherwise
           have. If this key word is omitted when registering the language, only users with the PostgreSQL
           superuser privilege can use this language to create new functions.

       PROCEDURAL
           This is a noise word.

       <u>name</u>
           The name of the new procedural language. The name must be unique among the languages in the database.

       HANDLER <u>call_handler</u>
           <u>call_handler</u> is the name of a previously registered function that will be called to execute the
           procedural language's functions. The call handler for a procedural language must be written in a
           compiled language such as C with version 1 call convention and registered with PostgreSQL as a
           function taking no arguments and returning the language_handler type, a placeholder type that is
           simply used to identify the function as a call handler.

       INLINE <u>inline_handler</u>
           <u>inline_handler</u> is the name of a previously registered function that will be called to execute an
           anonymous code block (<b>DO</b> command) in this language. If no <u>inline_handler</u> function is specified, the
           language does not support anonymous code blocks. The handler function must take one argument of type
           internal, which will be the <b>DO</b> command's internal representation, and it will typically return void.
           The return value of the handler is ignored.

       VALIDATOR <u>valfunction</u>
           <u>valfunction</u> is the name of a previously registered function that will be called when a new function
           in the language is created, to validate the new function. If no validator function is specified, then
           a new function will not be checked when it is created. The validator function must take one argument
           of type oid, which will be the OID of the to-be-created function, and will typically return void.

           A validator function would typically inspect the function body for syntactical correctness, but it
           can also look at other properties of the function, for example if the language cannot handle certain
           argument types. To signal an error, the validator function should use the <b>ereport()</b> function. The
           return value of the function is ignored.

</pre><h4><b>NOTES</b></h4><pre>
       Use <b>DROP</b> <b>LANGUAGE</b> to drop procedural languages.

       The system catalog pg_language (see Section 51.29) records information about the currently installed
       languages. Also, the psql command <b>\dL</b> lists the installed languages.

       To create functions in a procedural language, a user must have the USAGE privilege for the language. By
       default, USAGE is granted to PUBLIC (i.e., everyone) for trusted languages. This can be revoked if
       desired.

       Procedural languages are local to individual databases. However, a language can be installed into the
       template1 database, which will cause it to be available automatically in all subsequently-created
       databases.

</pre><h4><b>EXAMPLES</b></h4><pre>
       A minimal sequence for creating a new procedural language is:

           CREATE FUNCTION plsample_call_handler() RETURNS language_handler
               AS '$libdir/plsample'
               LANGUAGE C;
           CREATE LANGUAGE plsample
               HANDLER plsample_call_handler;

       Typically that would be written in an extension's creation script, and users would do this to install the
       extension:

           CREATE EXTENSION plsample;

</pre><h4><b>COMPATIBILITY</b></h4><pre>
       <b>CREATE</b> <b>LANGUAGE</b> is a PostgreSQL extension.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       ALTER LANGUAGE (<b><a href="../man7/ALTER_LANGUAGE.7.html">ALTER_LANGUAGE</a></b>(7)), CREATE FUNCTION (<b><a href="../man7/CREATE_FUNCTION.7.html">CREATE_FUNCTION</a></b>(7)), DROP LANGUAGE
       (<b><a href="../man7/DROP_LANGUAGE.7.html">DROP_LANGUAGE</a></b>(7)), <b><a href="../man7/GRANT.7.html">GRANT</a></b>(7), <b><a href="../man7/REVOKE.7.html">REVOKE</a></b>(7)

PostgreSQL 17.5                                       2025                                    <u>CREATE</u> <u><a href="../man7/LANGUAGE.7.html">LANGUAGE</a></u>(7)
</pre>
 </div>
</div></section>
</div>
</body>
</html>