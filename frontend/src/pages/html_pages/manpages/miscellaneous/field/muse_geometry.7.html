<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>muse_geometry  -  Compute  relative  location  of  the  slices  within  the field of view and measure the</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/noble/+package/cpl-plugin-muse-doc">cpl-plugin-muse-doc_2.8.7+dfsg-3_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       muse_geometry  -  Compute  relative  location  of  the  slices  within  the field of view and measure the
       instrumental PSF on the detectors.

</pre><h4><b>SYNOPSIS</b></h4><pre>
       esorex <b>muse_geometry</b> [OPTIONS] FILE.sof

</pre><h4><b>DESCRIPTION</b></h4><pre>
       Processing first works separately on each IFU of the raw input data (in parallel): it trims the raw  data
       and  records the overscan statistics, subtracts the bias and converts them from adu to count. Optionally,
       the dark can be subtracted and the data can be divided by the flat-field. The  data  of  all  input  mask
       exposures  is  then averaged. The averaged image together with the trace table and wavelength calibration
       as well as the line catalog are used to detect spots. The detection windows are used to measure the spots
       on all images of the sequence, the result is saved, with information on the measured PSF,  in  the  spots
       tables.  Then  properties  of all slices are computed, first separately on each IFU to determine the peak
       position of the mask for each slice and its angle, subsequently the width and horizontal position.  Then,
       the  result  of  all  IFUs is analyzed together to produce a refined horizontal position, applying global
       shifts to each IFU as needed. The vertical position is then determined using the known slice ordering  on
       the  sky;  the relative peak positions are put into sequence, taking into account the vertical offsets of
       the pinholes in the mask. The table is then cleaned up from intermediate  debug  data.  If  the  --smooth
       parameter  is  set  to  a  positive  value, it is used to do a sigma-clipped smoothing within each slicer
       stack, for a more regular appearance of the output table. The table is then saved.  As  a  last  optional
       step,  additional  raw input data is reduced using the newly geometry to produce an image of the field of
       view. If these exposures contain smooth features, they can be used as a visual check of  the  quality  of
       the geometrical calibration.

</pre><h4><b>OPTIONS</b></h4><pre>
       <b>--ifu1</b> <u>&lt;int&gt;</u>
              First IFU to analyze. (int; default: 1). The full name of this option for the EsoRex configuration
              file is <b>muse.muse_geometry.ifu1</b> [default = <u>1</u>].

       <b>--ifu2</b> <u>&lt;int&gt;</u>
              Last IFU to analyze. (int; default: 24). The full name of this option for the EsoRex configuration
              file is <b>muse.muse_geometry.ifu2</b> [default = <u>24</u>].

       <b>--sigma</b> <u>&lt;float&gt;</u>
              Sigma  detection  level for spot detection, in terms of median deviation above the median. (float;
              default:  2.2).  The  full  name  of  this  option  for   the   EsoRex   configuration   file   is
              <b>muse.muse_geometry.sigma</b> [default = <u>2.2</u>].

       <b>--centroid</b> <u>&lt;str&gt;</u>
              Type  of  centroiding  and  FWHM determination to use for all spot measurements: simple barycenter
              method or using a Gaussian fit. (str; default: ´gaussian´). The full name of this option  for  the
              EsoRex configuration file is <b>muse.muse_geometry.centroid</b> [default = <u>gaussian</u>].

       <b>--smooth</b> <u>&lt;float&gt;</u>
              Use  this  sigma-level  cut  for  smoothing  of  the output table within each slicer stack. Set to
              non-positive value to deactivate smoothing.  (float; default: 1.5). The full name of  this  option
              for the EsoRex configuration file is <b>muse.muse_geometry.smooth</b> [default = <u>1.5</u>].

       <b>--lambdamin</b> <u>&lt;float&gt;</u>
              When  passing  any  MASK_CHECK  frames  in  the  input,  use  this  lower  wavelength  cut  before
              reconstructing the image. (float; default: 6800.0). The full name of this option  for  the  EsoRex
              configuration file is <b>muse.muse_geometry.lambdamin</b> [default = <u>6800.0</u>].

       <b>--lambdamax</b> <u>&lt;float&gt;</u>
              When  passing  any  MASK_CHECK  frames  in  the  input,  use  this  upper  wavelength  cut  before
              reconstructing the image. (float; default: 7200.0). The full name of this option  for  the  EsoRex
              configuration file is <b>muse.muse_geometry.lambdamax</b> [default = <u>7200.0</u>].

       Note  that  it  is  possible to create a configuration file containing these options, along with suitable
       default values. Please refer to the details provided by the 'esorex --help' command.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       The full documentation for the muse pipeline can be downloaded as a PDF file using the following URL:

              <b><a href="ftp://ftp.eso.org/pub/dfs/pipelines/muse/muse-pipeline-cookbook-2.8.7.pdf">ftp://ftp.eso.org/pub/dfs/pipelines/muse/muse-pipeline-cookbook-2.8.7.pdf</a></b>

       An   overview   over   the   existing   ESO   pipelines    can    be    found    on    the    web    page
       <b>https://www.eso.org/sci/software/pipelines/</b>.

       Basic documentation about the EsoRex program can be found at the esorex (1) man page.

       It   is   possible   to   call   the   pipelines   from   python   using  the  python-cpl  package.   See
       <b>https://packages.python.org/python-cpl/index.html</b> for further information.

       The  other  recipes  of  the  muse   pipeline   are   <u><a href="../man7/muse_ampl.7.html">muse_ampl</a></u>(7),   <u><a href="../man7/muse_astrometry.7.html">muse_astrometry</a></u>(7),   <u><a href="../man7/muse_bias.7.html">muse_bias</a></u>(7),
       <u><a href="../man7/muse_create_sky.7.html">muse_create_sky</a></u>(7),  <u><a href="../man7/muse_dark.7.html">muse_dark</a></u>(7),  <u><a href="../man7/muse_exp_align.7.html">muse_exp_align</a></u>(7),  <u><a href="../man7/muse_exp_combine.7.html">muse_exp_combine</a></u>(7), <u><a href="../man7/muse_flat.7.html">muse_flat</a></u>(7), <u><a href="../man7/muse_illum.7.html">muse_illum</a></u>(7),
       <u><a href="../man7/muse_lingain.7.html">muse_lingain</a></u>(7),       <u><a href="../man7/muse_lsf.7.html">muse_lsf</a></u>(7),       <u><a href="../man7/muse_qi_mask.7.html">muse_qi_mask</a></u>(7),       <u><a href="../man7/muse_scibasic.7.html">muse_scibasic</a></u>(7),       <u><a href="../man7/muse_scipost.7.html">muse_scipost</a></u>(7),
       <u><a href="../man7/muse_scipost_apply_astrometry.7.html">muse_scipost_apply_astrometry</a></u>(7),    <u><a href="../man7/muse_scipost_calibrate_flux.7.html">muse_scipost_calibrate_flux</a></u>(7),   <u><a href="../man7/muse_scipost_combine_pixtables.7.html">muse_scipost_combine_pixtables</a></u>(7),
       <u><a href="../man7/muse_scipost_correct_dar.7.html">muse_scipost_correct_dar</a></u>(7),            <u><a href="../man7/muse_scipost_correct_rv.7.html">muse_scipost_correct_rv</a></u>(7),            <u><a href="../man7/muse_scipost_make_cube.7.html">muse_scipost_make_cube</a></u>(7),
       <u><a href="../man7/muse_scipost_raman.7.html">muse_scipost_raman</a></u>(7),         <u><a href="../man7/muse_scipost_subtract_sky.7.html">muse_scipost_subtract_sky</a></u>(7),         <u><a href="../man7/muse_scipost_subtract_sky_simple.7.html">muse_scipost_subtract_sky_simple</a></u>(7),
       <u><a href="../man7/muse_standard.7.html">muse_standard</a></u>(7), <u><a href="../man7/muse_twilight.7.html">muse_twilight</a></u>(7), <u><a href="../man7/muse_wavecal.7.html">muse_wavecal</a></u>(7)

</pre><h4><b>VERSION</b></h4><pre>
       muse_geometry 2.8.7

</pre><h4><b>AUTHOR</b></h4><pre>
       Peter Weilbacher &lt;https://support.eso.org&gt;

</pre><h4><b>BUG</b> <b>REPORTS</b></h4><pre>
       Please report any problems to https://support.eso.org. Alternatively, you may send a report  to  the  ESO
       User Support Department &lt;<a href="mailto:usd-help@eso.org">usd-help@eso.org</a>&gt;.

</pre><h4><b>LICENSE</b></h4><pre>
       This file is part of the MUSE Instrument Pipeline Copyright (C) 2005, 2019 European Southern Observatory

       This  program  is  free  software;  you  can  redistribute it and/or modify it under the terms of the GNU
       General Public License as published by the Free Software Foundation; either version 2 of the License,  or
       (at your option) any later version.

       This  program  is  distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even
       the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General  Public
       License for more details.

       You  should have received a copy of the GNU General Public License along with this program; if not, write
       to the Free Software Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA  02111-1307  USA

muse_geometry                                         2.8.7                                     <u><a href="../man7/MUSE_GEOMETRY.7.html">MUSE_GEOMETRY</a></u>(7)
</pre>
 </div>
</div></section>
</div>
</body>
</html>