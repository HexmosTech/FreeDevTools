<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>kafs - In-kernel AFS filesystem</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/kafs-client">kafs-client_0.5-5_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       kafs - In-kernel AFS filesystem

</pre><h4><b>DESCRIPTION</b></h4><pre>
       "kafs" is a network filesystem driver in the Linux kernel that is able to access AFS cells and the
       servers contained therein to locate the logical volumes that comprise the cell and the files contained in
       each volume.

       It supports transport over IPv4 UDP and IPv6 UDP and security based on Kerberos.  The authentication
       token is used to define the user for the purpose of providing access control as well as providing
       communications security.

       The filesystem is of type "afs" and the mount command can be used to mount afs volumes manually using the
       "-t" flag on <b><a href="../man8/mount.8.html">mount</a></b>(8).

</pre><h4><b>SETTING</b> <b>UP</b></h4><pre>
       The "kafs-client" package should be installed to so that systemd is configured to include a mount of AFS
       dynamic root on /afs.  Note that mounting /afs is not enabled by default, so if it is needed, then
       "systemd" should be told to enable it.  This can be done with the following step:

             systemctl enable afs.mount

       This will mount a special directory on "/afs" which will be populated by an automount directory for each
       cell listed in the configuration.  Doing a pathwalk into one of these directories will result in the
       "afs.cell" volume from the cell being mounted onto that directory.

       Local configuration should be placed in a file in the /etc/kafs/client.d/ directory.  This will be
       included from /etc/client.conf file.

       Typically in the local configuration, the local cell name would be specified and backup details of its
       Volume Location server addresses would be given.

       Also any overrides for the @sys filename substitution would be specified.  See <b><a href="../man5/kafs-client.conf.5.html">kafs-client.conf</a></b>(5).

</pre><h4><b>OPERATION</b></h4><pre>
       Once the kafs-client is set up (and if there's no local cell, this is practically zero-conf, provided the
       cells to be accessed are properly set up with AFSDB or SRV records in the DNS), the /afs directory can be
       accessed:

             ls /afs/&lt;cell&gt;/location/within/cell

       For example:

             ls /afs/rivendell.example.com/doc

       The user isn't limited to cells listed in /afs, but any cell can be tried by just substituting the name
       of the cell into the above formula.  It does require the target to have DNS-based configuration provided.

       Note that each logical volume gets a discrete superblock and links between volumes turn into kernel
       mountpoints that, if stepped on, cause the appropriate volume to be mounted over them.

</pre><h4><b>SECURITY</b></h4><pre>
       kafs supports Kerberos-based authentication and communication encryption through the use of Kerberos.
       "kinit" program can be use to authenticate with a Kerberos server:

             kinit <a href="mailto:myname@RIVENDELL.EXAMPLE.COM">myname@RIVENDELL.EXAMPLE.COM</a>

       and then the "aklog-kafs" program to get a ticket for the kernel filesystem to use:

             aklog-kafs rivendell.example.com

       This will be placed on the caller's session keyring and can be viewed there with:

             keyctl show

       Note that the default realm is assumed to be the same as the cell name, but in all upper case.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man1/aklog-kafs.1.html">aklog-kafs</a></b>(1), <b><a href="../man5/kafs-client.conf.5.html">kafs-client.conf</a></b>(5), <b><a href="../man1/keyctl.1.html">keyctl</a></b>(1), <b><a href="../man1/kinit.1.html">kinit</a></b>(1), <b><a href="../man7/rxrpc.7.html">rxrpc</a></b>(7), <b><a href="../man7/session-keyring.7.html">session-keyring</a></b>(7), <b><a href="../man1/systemctl.1.html">systemctl</a></b>(1)

</pre><h4><b>COPY</b> <b>RIGHT</b></h4><pre>
       Copyright (C) 2019 Red Hat, Inc. All Rights Reserved.

       Written by David Howells (<a href="mailto:dhowells@redhat.com">dhowells@redhat.com</a>)

       This program is free software; you can redistribute it and/or modify it under the terms of the GNU
       General Public License as published by the Free Software Foundation; either version 2 of the License, or
       (at your option) any later version.

0.5-5                                              2024-07-09                                            <u><a href="../man7/KAFS.7.html">KAFS</a></u>(7)
</pre>
 </div>
</div></section>
</div>
</body>
</html>