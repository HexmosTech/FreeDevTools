<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ocf_heartbeat_Filesystem - Manages filesystem mounts</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/resource-agents-extra">resource-agents-extra_4.16.0-3ubuntu1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       ocf_heartbeat_Filesystem - Manages filesystem mounts

</pre><h4><b>SYNOPSIS</b></h4><pre>

       <b>Filesystem</b> [start | stop | monitor | meta-data | validate-all]

</pre><h4><b>DESCRIPTION</b></h4><pre>
       Resource script for Filesystem. It manages a Filesystem on a shared storage medium.

       The standard monitor operation of depth 0 (also known as probe) checks if the filesystem is mounted. If
       you want deeper tests, set OCF_CHECK_LEVEL to one of the following values:

       10: read first 16 blocks of the device (raw read)

       This doesn't exercise the filesystem at all, but the device on which the filesystem lives. This is noop
       for non-block devices such as NFS, SMBFS, or bind mounts.

       20: test if a status file can be written and read

       The status file must be writable by root. This is not always the case with an NFS mount, as NFS exports
       usually have the "root_squash" option set. In such a setup, you must either use read-only monitoring
       (depth=10), export with "no_root_squash" on your NFS server, or grant world write permissions on the
       directory where the status file is to be placed.

</pre><h4><b>SUPPORTED</b> <b>PARAMETERS</b></h4><pre>
       <b>device</b>
           The name of block device for the filesystem, or -U, -L options for mount, or NFS mount specification.

           NOTE: On Linux /dev/disk/by-{uuid,label}/ are preferred to -U/-L.

           (required, string, no default)

       <b>directory</b>
           The mount point for the filesystem.

           (required, string, no default)

       <b>fstype</b>
           The type of filesystem to be mounted.

           (required, string, no default)

       <b>options</b>
           Any extra options to be given as -o options to mount.

           For bind mounts, add "bind" here and set fstype to "none". We will do the right thing for options
           such as "bind,ro".

           (optional, string, no default)

       <b>statusfile_prefix</b>
           The prefix to be used for a status file for resource monitoring with depth 20. If you don't specify
           this parameter, all status files will be created in a separate directory.

           (optional, string, default ".Filesystem_status/")

       <b>run_fsck</b>
           Specify how to decide whether to run fsck or not.

           "auto" : decide to run fsck depending on the fstype(default) "force" : always run fsck regardless of
           the fstype "no" : do not run fsck ever.

           (optional, string, default "auto")

       <b>fast_stop</b>
           Normally, we expect no users of the filesystem and the stop operation to finish quickly. If you
           cannot control the filesystem users easily and want to prevent the stop action from failing, then set
           this parameter to "no" and add an appropriate timeout for the stop operation.

           This defaults to "no" for GFS2 filesystems.

           (optional, boolean, default no)

       <b>force_clones</b>
           The use of a clone setup for local filesystems is forbidden by default. For special setups like
           glusterfs, cloning a mount of a local device with a filesystem like ext4 or xfs independently on
           several nodes is a valid use case.

           Only set this to "true" if you know what you are doing!

           (optional, boolean, default false)

       <b>force_unmount</b>
           This option allows specifying how to handle processes that are currently accessing the mount
           directory.

           "true" : Kill processes accessing mount point "safe" : Kill processes accessing mount point using
           methods that avoid functions that could potentially block during process detection "false" : Do not
           kill any processes.

           The 'safe' option uses shell logic to walk the /procs/ directory for pids using the mount point while
           the default option uses the fuser cli tool. fuser is known to perform operations that can potentially
           block if unresponsive nfs mounts are in use on the system.

           (optional, string, default "true")

       <b>term_signals</b>
           Signals (names or numbers, whitespace separated) to send processes during graceful termination phase
           in stop-action.

           (optional, string, default "TERM")

       <b>kill_signals</b>
           Signals (names or numbers, whitespace separated) to send processes during forceful killing phase in
           stop-action.

           (optional, string, default "KILL")

       <b>signal_delay</b>
           How many seconds to wait after sending term/kill signals to processes in stop-action.

           (optional, string, default "1")

</pre><h4><b>SUPPORTED</b> <b>ACTIONS</b></h4><pre>
       This resource agent supports the following actions (operations):

       <b>start</b>
           Starts the resource. Suggested minimum timeout: 60s.

       <b>stop</b>
           Stops the resource. Suggested minimum timeout: 60s.

       <b>monitor</b>
           Performs a detailed status check. Suggested minimum timeout: 40s. Suggested interval: 20s.

       <b>validate-all</b>
           Performs a validation of the resource configuration. Suggested minimum timeout: 5s.

       <b>meta-data</b>
           Retrieves resource agent metadata (internal use only). Suggested minimum timeout: 5s.

</pre><h4><b>EXAMPLE</b> <b>CRM</b> <b>SHELL</b></h4><pre>
       The following is an example configuration for a Filesystem resource using the <b><a href="../man8/crm.8.html">crm</a></b>(8) shell:

           primitive p_Filesystem ocf:heartbeat:Filesystem \
             params \
               device=<u>string</u> \
               directory=<u>string</u> \
               fstype=<u>string</u> \
             op monitor depth="0" timeout="40s" interval="20s"

</pre><h4><b>EXAMPLE</b> <b>PCS</b></h4><pre>
       The following is an example configuration for a Filesystem resource using <b><a href="../man8/pcs.8.html">pcs</a></b>(8)

           pcs resource create p_Filesystem ocf:heartbeat:Filesystem \
             device=<u>string</u> \
             directory=<u>string</u> \
             fstype=<u>string</u> \
             op monitor OCF_CHECK_LEVEL="0" timeout="40s" interval="20s"

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="http://clusterlabs.org/">http://clusterlabs.org/</a></b>

</pre><h4><b>AUTHOR</b></h4><pre>
       <b>ClusterLabs</b> <b>contributors</b> <b>(see</b> <b>the</b> <b>resource</b> <b>agent</b> <b>source</b> <b>for</b> <b>information</b> <b>about</b> <b>individual</b> <b>authors)</b>

resource-agents 4.16.0-3ubuntu                     06/25/2025                            <u><a href="../man7/OCF_HEARTBEAT_FILESY.7.html">OCF_HEARTBEAT_FILESY</a></u>(7)
</pre>
 </div>
</div></section>
</div>
</body>
</html>