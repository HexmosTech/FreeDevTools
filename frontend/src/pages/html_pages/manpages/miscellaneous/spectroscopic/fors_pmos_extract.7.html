<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>fors_pmos_extract - Extraction of scientific spectra</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/noble/+package/cpl-plugin-fors-doc">cpl-plugin-fors-doc_5.5.7+dfsg-2build1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       fors_pmos_extract - Extraction of scientific spectra

</pre><h4><b>SYNOPSIS</b></h4><pre>
       esorex <b>fors_pmos_extract</b> [OPTIONS] FILE.sof

</pre><h4><b>DESCRIPTION</b></h4><pre>
       This  recipe  is  used to reduce scientific spectra using the extraction mask and the products created by
       the recipe fors_mpol_calib. The spectra are bias subtracted, flat fielded (if a normalised flat field  is
       specified) and remapped eliminating the optical distortions. The wavelength calibration can be optionally
       upgraded  using  a  number of sky lines: if no sky lines catalog of wavelengths is specified, an internal
       one is used instead.

       If the alignment to the sky lines is performed, the input dispersion coefficients table is  upgraded  and
       saved to disk, and a new CCD wavelengths map is created.

       This  recipe  accepts  both  FORS1 and FORS2 frames. A grism table (typically depending on the instrument
       mode, and in particular on the grism used) may also be specified: this table contains  a  default  recipe
       parameter  setting to control the way spectra are extracted for a specific instrument mode, as it is used
       for automatic run of the pipeline on Paranal and in Garching. If this table is specified, it will  modify
       the  default  recipe parameter setting, with the exception of those parameters which have been explicitly
       modifyed on the command line. If a grism table is not specified, the input recipe parameters values  will
       always  be  read  from  the  command line, or from an esorex configuration file if present, or from their
       generic default values (that are rarely meaningful).

       Either a scientific or a standard star exposure can be specified in input.

       The acronym SCI on products should be read STD in case of standard stars observations.

       Input files:

         DO category:               Type:       Explanation:         Required:
         SCIENCE_PMOS                  Raw         Scientific exposure     Y
         or STANDARD_PMOS              Raw         Standard star exposure  Y
         MASTER_BIAS                   Calib       Master bias             Y
         GRISM_TABLE                   Calib       Grism table             .

         MASTER_SKYLINECAT             Calib       Sky lines catalog       .

         MASTER_NORM_FLAT_PMOS         Calib       Normalised flat field   .

         DISP_COEFF_PMOS               Calib       Inverse dispersion      Y
         CURV_COEFF_PMOS               Calib       Spectral curvature      Y
         SLIT_LOCATION_PMOS            Calib       Slits positions table   Y
         RETARDER_WAVEPLATE_CHROMATISM Calib       Chromatism correction   .

       Output files:

         DO category:               Data type:  Explanation:
         REDUCED_SCI_PMOS             FITS image  Extracted scientific spectra
         REDUCED_SKY_SCI_PMOS         FITS image  Extracted sky spectra
         REDUCED_ERROR_SCI_PMOS       FITS image  Errors on extracted spectra
         REDUCED_SCI_X_PMOS           FITS image  X Stokes parameter (and L)
         REDUCED_ERROR_X_PMOS         FITS image  Error on X Stokes parameter
         REDUCED_NUL_X_PMOS           FITS image  Null parameter for X
         REDUCED_POL_ANGLE_PMOS       FITS image  Direction of linear polarization
         REDUCED_POL_ANGLE_ERROR_PMOS FITS image  Error on polarization direction
         UNMAPPED_SCI_PMOS            FITS image  Sky subtracted scientific spectra
         MAPPED_SCI_PMOS              FITS image  Rectified scientific spectra
         MAPPED_ALL_SCI_PMOS          FITS image  Rectified science spectra with sky
         MAPPED_SKY_SCI_PMOS          FITS image  Rectified sky spectra
         UNMAPPED_SKY_SCI_PMOS        FITS image  Sky on CCD
         GLOBAL_SKY_SPECTRUM_PMOS     FITS table  Global sky spectrum
         OBJECT_TABLE_SCI_PMOS        FITS table  Positions of detected objects
         OBJECT_TABLE_POL_SCI_PMOS    FITS table  Positions of real objects

         Only if the sky-alignment of the wavelength solution is requested:
         DISP_COEFF_SCI_PMOS          FITS table  Upgraded dispersion coefficients
         WAVELENGTH_MAP_SCI_PMOS      FITS image  Upgraded wavelength map

</pre><h4><b>OPTIONS</b></h4><pre>
       <b>--dispersion</b> <u>&lt;float&gt;</u>
              Resampling step (Angstrom/pixel) (float; default: 0.0). The full  name  of  this  option  for  the
              EsoRex configuration file is <b>fors.fors_pmos_extract.dispersion</b> [default = <u>0.0</u>].

       <b>--skyalign</b> <u>&lt;int&gt;</u>
              Polynomial  order  for  sky  lines alignment, or -1 to avoid alignment (int; default: 0). The full
              name of this option for the EsoRex configuration file is <b>fors.fors_pmos_extract.skyalign</b>  [default
              = <u>0</u>].

       <b>--wcolumn</b> <u>&lt;str&gt;</u>
              Name  of  sky  line catalog table column with wavelengths (str; default: ´WLEN´). The full name of
              this option for the EsoRex configuration file is <b>fors.fors_pmos_extract.wcolumn</b> [default = <u>WLEN</u>].

       <b>--startwavelength</b> <u>&lt;float&gt;</u>
              Start wavelength in spectral extraction (float; default: 0.0). The full name of  this  option  for
              the EsoRex configuration file is <b>fors.fors_pmos_extract.startwavelength</b> [default = <u>0.0</u>].

       <b>--endwavelength</b> <u>&lt;float&gt;</u>
              End  wavelength in spectral extraction (float; default: 0.0). The full name of this option for the
              EsoRex configuration file is <b>fors.fors_pmos_extract.endwavelength</b> [default = <u>0.0</u>].

       <b>--flux</b> <u>&lt;bool&gt;</u>
              Apply flux conservation (bool; default: True). The  full  name  of  this  option  for  the  EsoRex
              configuration file is <b>fors.fors_pmos_extract.flux</b> [default = <u>True</u>].

       <b>--flatfield</b> <u>&lt;bool&gt;</u>
              Apply flat field (bool; default: False). The full name of this option for the EsoRex configuration
              file is <b>fors.fors_pmos_extract.flatfield</b> [default = <u>False</u>].

       <b>--skyglobal</b> <u>&lt;bool&gt;</u>
              Subtract global sky spectrum from CCD (bool; default: False). The full name of this option for the
              EsoRex configuration file is <b>fors.fors_pmos_extract.skyglobal</b> [default = <u>False</u>].

       <b>--skymedian</b> <u>&lt;bool&gt;</u>
              Sky  subtraction  from extracted slit spectra (bool; default: False). The full name of this option
              for the EsoRex configuration file is <b>fors.fors_pmos_extract.skymedian</b> [default = <u>False</u>].

       <b>--skylocal</b> <u>&lt;bool&gt;</u>
              Sky subtraction from CCD slit spectra (bool; default: True). The full name of this option for  the
              EsoRex configuration file is <b>fors.fors_pmos_extract.skylocal</b> [default = <u>True</u>].

       <b>--cosmics</b> <u>&lt;bool&gt;</u>
              Eliminate  cosmic  rays  hits  (only  if global sky subtraction is also requested) (bool; default:
              False).   The   full   name   of   this   option   for   the   EsoRex   configuration   file    is
              <b>fors.fors_pmos_extract.cosmics</b> [default = <u>False</u>].

       <b>--slit_margin</b> <u>&lt;int&gt;</u>
              Number of pixels to exclude at each slit in object detection and extraction (int; default: 3). The
              full  name  of this option for the EsoRex configuration file is <b>fors.fors_pmos_extract.slit_margin</b>
              [default = <u>3</u>].

       <b>--ext_radius</b> <u>&lt;int&gt;</u>
              Maximum extraction radius for detected objects (pixel) (int; default: 6). The full  name  of  this
              option for the EsoRex configuration file is <b>fors.fors_pmos_extract.ext_radius</b> [default = <u>6</u>].

       <b>--cont_radius</b> <u>&lt;int&gt;</u>
              Minimum  distance  at  which two objects of equal luminosity do not contaminate each other (pixel)
              (int;  default:  0).  The  full  name  of  this  option  for  the  EsoRex  configuration  file  is
              <b>fors.fors_pmos_extract.cont_radius</b> [default = <u>0</u>].

       <b>--ext_mode</b> <u>&lt;int&gt;</u>
              Object  extraction  method: 0 = aperture, 1 = Horne optimal extraction (int; default: 1). The full
              name of this option for the EsoRex configuration file is <b>fors.fors_pmos_extract.ext_mode</b>  [default
              = <u>1</u>].

       <b>--time_normalise</b> <u>&lt;bool&gt;</u>
              Normalise  output spectra by the exposure time (bool; default: True). The full name of this option
              for the EsoRex configuration file is <b>fors.fors_pmos_extract.time_normalise</b> [default = <u>True</u>].

       <b>--chromatism</b> <u>&lt;bool&gt;</u>
              Chromatism correction to polarization angles (bool; default: True). The full name of  this  option
              for the EsoRex configuration file is <b>fors.fors_pmos_extract.chromatism</b> [default = <u>True</u>].

       <b>--check</b> <u>&lt;bool&gt;</u>
              Create  intermediate  products (bool; default: False). The full name of this option for the EsoRex
              configuration file is <b>fors.fors_pmos_extract.check</b> [default = <u>False</u>].

       Note that it is possible to create a configuration file containing these  options,  along  with  suitable
       default values. Please refer to the details provided by the 'esorex --help' command.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       The full documentation for the fors pipeline can be downloaded as a PDF file using the following URL:

              <b><a href="ftp://ftp.eso.org/pub/dfs/pipelines/fors/fors-pipeline-manual-4.9.pdf">ftp://ftp.eso.org/pub/dfs/pipelines/fors/fors-pipeline-manual-4.9.pdf</a></b>

       An    overview    over    the    existing    ESO    pipelines    can   be   found   on   the   web   page
       <b>https://www.eso.org/sci/software/pipelines/</b>.

       Basic documentation about the EsoRex program can be found at the esorex (1) man page.

       It  is  possible  to  call   the   pipelines   from   python   using   the   python-cpl   package.    See
       <b>https://packages.python.org/python-cpl/index.html</b> for further information.

       The  other  recipes  of  the  fors  pipeline  are <u><a href="../man7/fors_align_sky.7.html">fors_align_sky</a></u>(7), <u><a href="../man7/fors_align_sky_lss.7.html">fors_align_sky_lss</a></u>(7), <u><a href="../man7/fors_bias.7.html">fors_bias</a></u>(7),
       <u><a href="../man7/fors_calib.7.html">fors_calib</a></u>(7),    <u><a href="../man7/fors_config.7.html">fors_config</a></u>(7),    <u><a href="../man7/fors_dark.7.html">fors_dark</a></u>(7),    <u><a href="../man7/fors_detect_objects.7.html">fors_detect_objects</a></u>(7),     <u><a href="../man7/fors_detect_spectra.7.html">fors_detect_spectra</a></u>(7),
       <u><a href="../man7/fors_extract.7.html">fors_extract</a></u>(7),  <u><a href="../man7/fors_extract_objects.7.html">fors_extract_objects</a></u>(7), <u><a href="../man7/fors_extract_slits.7.html">fors_extract_slits</a></u>(7), <u><a href="../man7/fors_flatfield.7.html">fors_flatfield</a></u>(7), <u><a href="../man7/fors_img_science.7.html">fors_img_science</a></u>(7),
       <u><a href="../man7/fors_img_screen_flat.7.html">fors_img_screen_flat</a></u>(7),      <u><a href="../man7/fors_img_sky_flat.7.html">fors_img_sky_flat</a></u>(7),      <u><a href="../man7/fors_normalise_flat.7.html">fors_normalise_flat</a></u>(7),      <u><a href="../man7/fors_photometry.7.html">fors_photometry</a></u>(7),
       <u><a href="../man7/fors_pmos_calib.7.html">fors_pmos_calib</a></u>(7),   <u><a href="../man7/fors_pmos_science.7.html">fors_pmos_science</a></u>(7),   <u><a href="../man7/fors_remove_bias.7.html">fors_remove_bias</a></u>(7),   <u><a href="../man7/fors_resample.7.html">fors_resample</a></u>(7),   <u><a href="../man7/fors_science.7.html">fors_science</a></u>(7),
       <u><a href="../man7/fors_spec_mflat.7.html">fors_spec_mflat</a></u>(7), <u><a href="../man7/fors_subtract_sky.7.html">fors_subtract_sky</a></u>(7), <u><a href="../man7/fors_subtract_sky_lss.7.html">fors_subtract_sky_lss</a></u>(7), <u><a href="../man7/fors_sumflux.7.html">fors_sumflux</a></u>(7),  <u><a href="../man7/fors_trace_flat.7.html">fors_trace_flat</a></u>(7),
       <u><a href="../man7/fors_wave_calib.7.html">fors_wave_calib</a></u>(7), <u><a href="../man7/fors_wave_calib_lss.7.html">fors_wave_calib_lss</a></u>(7), <u><a href="../man7/fors_zeropoint.7.html">fors_zeropoint</a></u>(7)

</pre><h4><b>VERSION</b></h4><pre>
       fors_pmos_extract 5.5.7

</pre><h4><b>AUTHOR</b></h4><pre>
       Carlo Izzo &lt;<a href="mailto:usd-help@eso.org">usd-help@eso.org</a>&gt;

</pre><h4><b>BUG</b> <b>REPORTS</b></h4><pre>
       Please  report  any  problems  to  <a href="mailto:usd-help@eso.org">usd-help@eso.org</a>. Alternatively, you may send a report to the ESO User
       Support Department &lt;<a href="mailto:usd-help@eso.org">usd-help@eso.org</a>&gt;.

</pre><h4><b>LICENSE</b></h4><pre>
       This file is currently part of the FORS Instrument Pipeline Copyright  (C)  2002-2010  European  Southern
       Observatory

       This  program  is  free  software;  you  can  redistribute it and/or modify it under the terms of the GNU
       General Public License as published by the Free Software Foundation; either version 2 of the License,  or
       (at your option) any later version.

       This  program  is  distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even
       the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU  General  Public
       License for more details.

       You  should have received a copy of the GNU General Public License along with this program; if not, write
       to the Free Software Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA  02110-1301  USA

fors_pmos_extract                                     5.5.7                                 <u><a href="../man7/FORS_PMOS_EXTRACT.7.html">FORS_PMOS_EXTRACT</a></u>(7)
</pre>
 </div>
</div></section>
</div>
</body>
</html>