<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ocf_heartbeat_IPaddr - Manages virtual IPv4 addresses (portable version)</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/resource-agents-extra">resource-agents-extra_4.16.0-3ubuntu1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       ocf_heartbeat_IPaddr - Manages virtual IPv4 addresses (portable version)

</pre><h4><b>SYNOPSIS</b></h4><pre>

       <b>IPaddr</b> [start | stop | monitor | meta-data | validate-all]

</pre><h4><b>DESCRIPTION</b></h4><pre>
       This script manages IP alias IP addresses It can add an IP alias, or remove one.

</pre><h4><b>SUPPORTED</b> <b>PARAMETERS</b></h4><pre>
       <b>ip</b>
           The IPv4 address to be configured in dotted quad notation, for example "192.168.1.1".

           (unique, required, string, no default)

       <b>nic</b>
           The base network interface on which the IP address will be brought online.

           If left empty, the script will try and determine this from the routing table.

           Do NOT specify an alias interface in the form eth0:1 or anything here; rather, specify the base
           interface only.

           Prerequisite:

           There must be at least one static IP address, which is not managed by the cluster, assigned to the
           network interface.

           If you can not assign any static IP address on the interface, modify this kernel parameter: sysctl -w
           net.ipv4.conf.all.promote_secondaries=1 (or per device)

           (optional, string, default "eth0")

       <b>cidr_netmask</b>
           The netmask for the interface in CIDR format. (ie, 24), or in dotted quad notation 255.255.255.0).

           If unspecified, the script will also try to determine this from the routing table.

           (optional, string, no default)

       <b>broadcast</b>
           Broadcast address associated with the IP. If left empty, the script will determine this from the
           netmask.

           (optional, string, no default)

       <b>iflabel</b>
           You can specify an additional label for your IP address here.

           (optional, string, no default)

       <b>lvs_support</b>
           Enable support for LVS Direct Routing configurations. In case a IP address is stopped, only move it
           to the loopback device to allow the local node to continue to service requests, but no longer
           advertise it on the network.

           (optional, boolean, default false)

       <b>local_stop_script</b>
           Script called when the IP is released

           (optional, string, no default)

       <b>local_start_script</b>
           Script called when the IP is added

           (optional, string, no default)

       <b>ARP_INTERVAL_MS</b>
           milliseconds between ARPs

           (optional, integer, default 500)

       <b>ARP_REPEAT</b>
           How many gratuitous ARPs to send out when bringing up a new address

           (optional, integer, default 10)

       <b>ARP_BACKGROUND</b>
           run in background (no longer any reason to do this)

           (optional, boolean, default yes)

       <b>ARP_NETMASK</b>
           netmask for ARP - in nonstandard hexadecimal format.

           (optional, string, default "ffffffffffff")

</pre><h4><b>SUPPORTED</b> <b>ACTIONS</b></h4><pre>
       This resource agent supports the following actions (operations):

       <b>start</b>
           Starts the resource. Suggested minimum timeout: 20s.

       <b>stop</b>
           Stops the resource. Suggested minimum timeout: 20s.

       <b>monitor</b>
           Performs a detailed status check. Suggested minimum timeout: 20s. Suggested interval: 5s.

       <b>validate-all</b>
           Performs a validation of the resource configuration. Suggested minimum timeout: 20s.

       <b>meta-data</b>
           Retrieves resource agent metadata (internal use only). Suggested minimum timeout: 5s.

</pre><h4><b>EXAMPLE</b> <b>CRM</b> <b>SHELL</b></h4><pre>
       The following is an example configuration for a IPaddr resource using the <b><a href="../man8/crm.8.html">crm</a></b>(8) shell:

           primitive p_IPaddr ocf:heartbeat:IPaddr \
             params \
               ip=<u>string</u> \
             op monitor depth="0" timeout="20s" interval="5s"

</pre><h4><b>EXAMPLE</b> <b>PCS</b></h4><pre>
       The following is an example configuration for a IPaddr resource using <b><a href="../man8/pcs.8.html">pcs</a></b>(8)

           pcs resource create p_IPaddr ocf:heartbeat:IPaddr \
             ip=<u>string</u> \
             op monitor OCF_CHECK_LEVEL="0" timeout="20s" interval="5s"

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="http://clusterlabs.org/">http://clusterlabs.org/</a></b>

</pre><h4><b>AUTHOR</b></h4><pre>
       <b>ClusterLabs</b> <b>contributors</b> <b>(see</b> <b>the</b> <b>resource</b> <b>agent</b> <b>source</b> <b>for</b> <b>information</b> <b>about</b> <b>individual</b> <b>authors)</b>

resource-agents 4.16.0-3ubuntu                     06/25/2025                            <u><a href="../man7/OCF_HEARTBEAT_IPADDR.7.html">OCF_HEARTBEAT_IPADDR</a></u>(7)
</pre>
 </div>
</div></section>
</div>
</body>
</html>