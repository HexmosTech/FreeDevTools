<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>groff_trace - macros for debugging GNU roff documents</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/groff">groff_1.23.0-9_amd64</a> <br><br><pre>
</pre><h4><b>Name</b></h4><pre>
       groff_trace - macros for debugging GNU <u>roff</u> documents

</pre><h4><b>Synopsis</b></h4><pre>
       <b>groff</b> <b>-m</b> <b>trace</b> [<u>option</u> ...] [<u>file</u> ...]

</pre><h4><b>Description</b></h4><pre>
       <u>trace</u>  is  a  macro package for the <u><a href="../man7/groff.7.html">groff</a></u>(7) document formatting system, designed as an aid for debugging
       documents written in its language.  It issues a message to the standard error stream upon  entry  to  and
       exit from each macro call.  This can ease the process of isolating errors in macro definitions.

       Activate  the  package  by  specifying the command-line option “<b>-m</b> <b>trace</b>” to the formatter program (often
       <u><a href="../man1/groff.1.html">groff</a></u>(1)).  You can achieve finer control by including the macro file within the document; invoke the <b>mso</b>
       request, as in “<b>.mso</b> <b>trace.tmac</b>”.  Only macros that are defined after this invocation are traced.  If the
       <b>trace-full</b> register is set to a true value, as with the command-line option “<b>-r</b>  <b>trace-full=1</b>”,  register
       and string assignments, along with some other requests, are traced also.  If another macro package should
       be traced as well, specify it after “<b>-m</b> <b>trace</b>” on the command line.

       The  macro  file  <u>trace.tmac</u>  is  unusual  because it does not contain any macros to be called by a user.
       Instead, <u>groff</u>'s macro definition and alteration facilities are wrapped such that they display diagnostic
       messages.

   <b>Limitations</b>
       Because <u>trace.tmac</u> wraps the <b>de</b> request (and its cousins), macro arguments are expanded one  level  more.
       This  causes  problems  if an argument uses four or more backslashes to delay interpretation of an escape
       sequence.  For example, the macro call
              .foo \\\\n[bar]
       normally passes “\\n[bar]” to macro “foo”, but with <b>de</b> redefined, it passes “\n[bar]” instead.

       The solution to this problem is to use <u>groff</u>'s <b>\E</b> escape  sequence,  an  escape  character  that  is  not
       interpreted in copy mode.
              .foo \En[bar]

</pre><h4><b>Examples</b></h4><pre>
       We  will  illustrate <u>trace.tmac</u> using the shell's “here document” feature to supply <u>groff</u> with a document
       on the standard input stream.  Since we are interested only  in  diagnostic  messages  appearing  on  the
       standard  error  stream,  we  discard  the  formatted output by redirecting the standard output stream to
       <u>/dev/null</u>.

   <b>Observing</b> <b>nested</b> <b>macro</b> <b>calls</b>
       Macro calls can be nested, even with themselves.  Tracing recurses along with them; this feature can help
       to detangle complex call stacks.

              $ <b>cat</b> <b>&lt;&lt;EOF</b> <b>|</b> <b>groff</b> <b>-m</b> <b>trace</b> <b>&gt;</b> <b>/dev/null</b>
              <b>.de</b> <b>countdown</b>
              <b>.</b> <b>nop</b> <b>\\$1</b>
              <b>.</b> <b>nr</b> <b>count</b> <b>(\\$1</b> <b>-</b> <b>1)</b>
              <b>.</b> <b>if</b> <b>\\n[count]</b> <b>.countdown</b> <b>\\n[count]</b>
              <b>..</b>
              <b>.countdown</b> <b>3</b>
              <b>blastoff</b>
              <b>EOF</b>
               *** .de countdown
               *** de trace enter: .countdown "3"
                *** de trace enter: .countdown "2"
                 *** de trace enter: .countdown "1"
                 *** trace exit: .countdown "1"
                *** trace exit: .countdown "2"
               *** trace exit: .countdown "3"

   <b>Tracing</b> <b>with</b> <b>the</b> <b>mso</b> <b>request</b>
       Now let us activate tracing within the document, not with a command-line option.  We might do  this  when
       using  a  macro  package  like  <u>ms</u>  or <u>mom</u>, where we may not want to be distracted by traces of macros we
       didn't write.

              $ <b>cat</b> <b>&lt;&lt;EOF</b> <b>|</b> <b>groff</b> <b>-ms</b> <b>&gt;</b> <b>/dev/null</b>
              <b>.LP</b>
              <b>This</b> <b>is</b> <b>my</b> <b>introductory</b> <b>paragraph.</b>
              <b>.mso</b> <b>trace.tmac</b>
              <b>.de</b> <b>Mymac</b>
              <b>..</b>
              <b>.Mymac</b>
              <b>.PP</b>
              <b>Let</b> <b>us</b> <b>review</b> <b>the</b> <b>existing</b> <b>literature.</b>
              <b>EOF</b>
               *** .de Mymac
               *** de trace enter: .Mymac
               *** trace exit: .Mymac

       As tracing was not yet active when the macros “LP” and “PP” were defined (by <u>s.tmac</u>),  their  calls  were
       not traced; contrast with the macro “Mymac”.

</pre><h4><b>Files</b></h4><pre>
       <u>/usr/share/groff/1.23.0/tmac/trace.tmac</u>
              implements the package.

</pre><h4><b>Authors</b></h4><pre>
       <u>trace.tmac</u>  was  written  by  James  Clark.   This  document  was  written by Bernd Warken and G. Branden
       Robinson.

</pre><h4><b>See</b> <b>also</b></h4><pre>
       <u>Groff:</u> <u>The</u> <u>GNU</u> <u>Implementation</u> <u>of</u> <u>troff</u>, by Trent A. Fisher and  Werner  Lemberg,  is  the  primary  <u>groff</u>
       manual.  You can browse it interactively with “info groff”.

       <u><a href="../man1/groff.1.html">groff</a></u>(1)
              gives an overview of the <u>groff</u> document formatting system.

       <u><a href="../man1/troff.1.html">troff</a></u>(1)
              supplies details of the <b>-m</b> command-line option.

       <u><a href="../man5/groff_tmac.5.html">groff_tmac</a></u>(5)
              offers a survey of <u>groff</u> macro packages.

       <u><a href="../man7/groff.7.html">groff</a></u>(7)
              is a reference manual for the <u>groff</u> language.

groff 1.23.0                                       3 June 2025                                    <u><a href="../man7/groff_trace.7.html">groff_trace</a></u>(7)
</pre>
 </div>
</div></section>
</div>
</body>
</html>