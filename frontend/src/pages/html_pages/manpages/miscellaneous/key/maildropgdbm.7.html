<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>maildropgdbm - GDBM/DB support in maildrop</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/maildrop">maildrop_3.1.8-2build1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       maildropgdbm - GDBM/DB support in maildrop

</pre><h4><b>SYNOPSIS</b></h4><pre>
       gdbmopen(filename, mode)

       gdbmclose

       gdbmfetch(key [,default])

       gdbmstore(key,value)

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The gdbm family of functions provides access to the GDBM library - a library of routines that manage
       simple database files. The library provides a way of quickly storing and looking up key/data pairs.

       GDBM support in <b>maildrop</b> is optional, and may not be available to you.

       GDBM support in <b>maildrop</b> can optionally be implemented using the DB library. This option is selected by
       the system administrator. If this is the case, these functions still work exactly as described below,
       except that they will operate on DB hash files, instead of GDBM files.

       To see whether GDBM or DB support is used, run the command "<b>maildrop</b> <b>-v"</b>.

       GDBM support is minimal, and simplistic. A filter file may have only one gdbm file open at the same time.
       However, the filter file can close the current gdbm file, and open another one. If another filter file is
       included using the include statement, the included filter file may open its own, separate, gdbm file.

       A GDBM file contains a list of key/value pairs. All keys in the GDBM file are unique. After storing an
       arbitrary key/value pair in the GDBM file, the value associated with the given key can be quickly located
       and retrieved.

   <b>gdbmclose</b> <b>-</b> <b>close</b> <b>gdbm</b> <b>file</b>
           gdbmclose

       This function closes the current GDBM file.

   <b>gdbmfetch</b> <b>-</b> <b>retrieve</b> <b>data</b>
           gdbmfetch (<u>key</u> [, <u>options</u>] [, <u>default</u>])

       This function retrieves the data for the given key.  <u>key</u> is the key to retrieve. The <b>gdbmfetch</b> function
       returns the data associated with this key. If the key does not exist in the GDBM file, <b>gdbmfetch</b> returns
       the <b>default</b> argument. If the <b>default</b> argument is not specified, <b>gdbmfetch</b> returns empty text. Please note
       that the <b>default</b> argument is not actually evaluated unless the key does not exist in the GDBM file.

       The <u>options</u> argument specifies additional <b>maildrop</b> value-added features. The following functionality is
       not available in the GDBM library, but is rather provided by <b>maildrop</b>.

       If the <u>options</u> argument is set to "D", and the key could not be found in the GDBM database, and the key
       is of the form "user@domain", <b>maildrop</b> will then attempt to look up the key "user@". If that key is also
       not found, <b>maildrop</b> finally looks up the key "domain".

       If "domain" is also not found, and domain is of the form "a.b.c.d.tld" (with variable number of
       period-separated sections), <b>maildrop</b> then attempts to look up the key "b.c.d.tld". If that key is not
       found, <b>maildrop</b> tries "c.d.tld", and so on, until a key is found, or there are no more subdomains to
       remove, at which point <b>gdbmfetch</b> will return either the <b>default</b> argument, or empty text.

       If the <u>options</u> argument is set to "D", and the key could not be found in the GDBM database, and the key
       is of the form "a.b.c.d.tld" (with variable number of period-separated sections), <b>maildrop</b> will also
       attempt to look up keys for successive higher-level domains in the GDBM database.

           <b>Note</b>

           GDBM databases are case sensitive. Make sure that the GDBM database is created using lowercase
           letters only, and use the <b>tolower</b>[1] function to convert the key to lowercase.

       If the <u>options</u> argument is "I", and the key is not in the GDBM database, and the key is of the form
       "w.x.y.z" (with variable number of period-separated sections), <b>maildrop</b> then tries to look up the key
       "w.x.y", then "w.x", until a key is found, or there are no more sections to remove. Use this feature to
       look up IP-address based GDBM lists.

           <b>Note</b>

           These features are implemented by brute force: if the query doesn't succeed, try again. Take note of
           potential denial-of-service attacks where key is set to a long text string consisting mostly of
           periods, which will result in numerous GDBM queries that will take an excessive amount of time to
           complete.

   <b>gdbmopen</b> <b>-</b> <b>open</b> <b>gdbm</b> <b>file</b>
           gdbmopen (<u>file</u> [, <u>mode</u>])

       <b>gdbmopen</b> opens the indicated GDBM file. The optional second argument specifies the following:

       "R"
           Open this GDBM file for reading.

       "W"
           Open this GDBM file for reading and writing.

       "C"
           Open this GDBM file for reading and writing. If the GBDM file doesn't exist, create it.

       "N"
           Create a new GDBM file. If the file exists, the existing file is deleted. The file is opened for
           reading and writing.

       The <u>mode</u> argument defaults to "R" is used. In embedded mode, only "R" is allowed.

       The GDBM library allows multiple processes to read the same GDBM file at the same time, but it does not
       allow multiple access when the GDBM file is open for writing. Using <b>flock</b>[2] or <b>dotlock</b>[3] is highly
       recommended.

       In delivery mode, <b>maildrop</b> runs from the recipient's home directory. Keep that in mind while specifying
       the filename.

       The gdbmopen function returns 0 if the GDBM file was successfully opened, non-zero otherwise.

   <b>gdbmstore</b> <b>-</b> <b>store</b> <b>data</b>
           gdbmstore(<u>key</u>, <u>value</u>)

       <u>key</u> is the key value to store in the GDBM file.  <u>value</u> is the value to store. If <u>key</u> already exists in
       the GDBM file, <u>value</u> replacest the old value. The <b>gdbmstore</b> function is only permitted if the GDBM file
       is opened for writing. If <u>gdbmopen</u> opened the GDBM file for reading only, <b>gdbmstore</b> will return -1.
       Otherwise, <b>gdbmstore</b> returns 0.

</pre><h4><b>AUTHOR</b></h4><pre>
       <b>Sam</b> <b>Varshavchik</b>
           Author

</pre><h4><b>NOTES</b></h4><pre>
        1. <b>tolower</b>
           <a href="http://www.courier-mta.org/maildrop/maildropfilter.html">http://www.courier-mta.org/maildrop/maildropfilter.html</a>#tolower

        2. <b>flock</b>
           <a href="http://www.courier-mta.org/maildrop/maildropfilter.html">http://www.courier-mta.org/maildrop/maildropfilter.html</a>#flock

        3. <b>dotlock</b>
           <a href="http://www.courier-mta.org/maildrop/maildropfilter.html">http://www.courier-mta.org/maildrop/maildropfilter.html</a>#dotlock

Courier Mail Server                                11/04/2020                                    <u><a href="../man7/MAILDROPGDBM.7.html">MAILDROPGDBM</a></u>(7)
</pre>
 </div>
</div></section>
</div>
</body>
</html>