<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ocf_heartbeat_gcp-ilb - Replies to health checks from Google Cloud</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/resource-agents-extra">resource-agents-extra_4.16.0-3ubuntu1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       ocf_heartbeat_gcp-ilb - Replies to health checks from Google Cloud

</pre><h4><b>SYNOPSIS</b></h4><pre>

       <b>gcp-ilb</b> [start | stop | monitor | meta-data | validate-all]

</pre><h4><b>DESCRIPTION</b></h4><pre>
       Resource Agent that wraps <a href="file:///usr/lib/w3m/cgi-bin/w3mman2html.cgi?nc">/usr/bin/nc</a> or /usr/bin/socat to reply to health checks in Google Cloud. See
       https://cloud.google.com/load-balancing/docs/health-checks for more information.

</pre><h4><b>SUPPORTED</b> <b>PARAMETERS</b></h4><pre>
       <b>port</b>
           Listening port for health-check probes. Default: 60000

           (optional, string, default "60000")

       <b>cat</b>
           Location of netcat (default: <a href="file:///usr/lib/w3m/cgi-bin/w3mman2html.cgi?nc">/usr/bin/nc</a> ) or socat (default: /usr/bin/socat ). If present, is used
           /usr/bin/socat. The recommended binary is socat, present in the following minimum versions if the
           package resource-agents: - SLES 12 SP4/SP5: resource-agents-4.3.018.a7fb5035-3.30.1. - SLES 15/15
           SP1: resource-agents-4.3.0184.6ee15eb2-4.13.1.

           (optional, string, default "nc")

       <b>log_enable</b>
           Logging with an external application is enabled (accepts "true" or "false"). The defaults are
           configured to call "gcloud logging" (see: https://cloud.google.com/sdk/gcloud/reference/logging).

           (optional, string, default "false")

       <b>log_cmd</b>
           External logging command. The defaults are configured to call "gcloud logging" (see:
           https://cloud.google.com/sdk/gcloud/reference/logging). This parameter should only have the binary
           that can be validated (e.g., gcloud). The rest of the command is formed with the additional
           parameters and the message being logged as follows: - log_cmd + log_params + "The message being
           logged" + log_end_params Using the gcloud command for Stackdriver logging, the parameters would be: -
           log_cmd = gcloud - log_params = logging write GCPILB - "This is a message being sent by the app" -
           log_end_params = (nothing in this case, this is reserved for use with other tools) Which would result
           in this valid command (where GCPILB is the name of the log): gcloud logging write GCPILB "This is a
           message being sent by the app"

           NOTE: Only the binary is validated for existence and no further checks are performed. The assumption
           is that only administrators with root access can configure this tool.

           (optional, string, default "gcloud")

       <b>log_params</b>
           Additional input for the logging application. See explanation for log_cmd

           (optional, string, default "logging write GCPILB")

       <b>log_end_params</b>
           Additional input for the logging application. Placed after the message being logged.

           (optional, string, no default)

</pre><h4><b>SUPPORTED</b> <b>ACTIONS</b></h4><pre>
       This resource agent supports the following actions (operations):

       <b>start</b>
           Starts the resource. Suggested minimum timeout: 10s.

       <b>stop</b>
           Stops the resource. Suggested minimum timeout: 30s.

       <b>monitor</b>
           Performs a detailed status check. Suggested minimum timeout: 30s. Suggested interval: 30s.

       <b>validate-all</b>
           Performs a validation of the resource configuration. Suggested minimum timeout: 5s.

       <b>meta-data</b>
           Retrieves resource agent metadata (internal use only). Suggested minimum timeout: 5s.

</pre><h4><b>EXAMPLE</b> <b>CRM</b> <b>SHELL</b></h4><pre>
       The following is an example configuration for a gcp-ilb resource using the <b><a href="../man8/crm.8.html">crm</a></b>(8) shell:

           primitive p_gcp-ilb ocf:heartbeat:gcp-ilb \
             op monitor depth="0" timeout="30s" interval="30s"

</pre><h4><b>EXAMPLE</b> <b>PCS</b></h4><pre>
       The following is an example configuration for a gcp-ilb resource using <b><a href="../man8/pcs.8.html">pcs</a></b>(8)

           pcs resource create p_gcp-ilb ocf:heartbeat:gcp-ilb \
             op monitor OCF_CHECK_LEVEL="0" timeout="30s" interval="30s"

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="http://clusterlabs.org/">http://clusterlabs.org/</a></b>

</pre><h4><b>AUTHOR</b></h4><pre>
       <b>ClusterLabs</b> <b>contributors</b> <b>(see</b> <b>the</b> <b>resource</b> <b>agent</b> <b>source</b> <b>for</b> <b>information</b> <b>about</b> <b>individual</b> <b>authors)</b>

resource-agents 4.16.0-3ubuntu                     06/25/2025                             <u><a href="../man7/OCF_HEARTBEAT_GCP-I.7.html">OCF_HEARTBEAT_GCP-I</a></u>(7)
</pre>
 </div>
</div></section>
</div>
</body>
</html>