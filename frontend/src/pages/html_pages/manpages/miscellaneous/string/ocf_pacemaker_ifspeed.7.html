<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ocf_pacemaker_ifspeed - Network interface speed monitor</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/pacemaker-resource-agents">pacemaker-resource-agents_3.0.0-2ubuntu1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       ocf_pacemaker_ifspeed - Network interface speed monitor

</pre><h4><b>SYNOPSIS</b></h4><pre>
       [<b>OCF_RESKEY_name</b>=string] [<b>OCF_RESKEY_iface</b>=string] [<b>OCF_RESKEY_ip</b>=string]
       [<b>OCF_RESKEY_bridge_ports</b>=string] [<b>OCF_RESKEY_weight_base</b>=integer] [<b>OCF_RESKEY_dampen</b>=integer]
       [<b>OCF_RESKEY_debug</b>=string]

       <b>ifspeed</b> [start | stop | monitor | meta-data | validate-all | reload-agent]

</pre><h4><b>DESCRIPTION</b></h4><pre>
       This agent's monitor action records the speed of a specified network interface as a node attribute. The
       attribute can be used in rules to prefer nodes based on network speeds. This agent can monitor physical
       interfaces, bonded interfaces, bridges, VLANs, or any combination thereof. For example: *) Bridge on top
       of one 10Gbps interface (eth2) and 802.3ad bonding (bond0) built on two 1Gbps interfaces (eth0 and eth1).
       *) Active-backup bonding built on top of one physical interface and one VLAN on another interface. For
       STP-enabled bridges, this agent tries to determine the network topology, and by default looks only on
       ports which are connected to an upstream switch. This can be overridden by 'bridge_ports' parameter.
       Active interfaces in this case are those in "forwarding" state. For balancing bonded interfaces, this
       agent uses 80% of the sum of the speeds of underlying "up" ports. For non-balancing bonded interfaces
       ("active-backup" and probably "broadcast"), only the speed of the currently active port is considered.

</pre><h4><b>SUPPORTED</b> <b>PARAMETERS</b></h4><pre>
       <b>OCF_RESKEY_name</b> = string [ifspeed]
           Attribute name

           Name of the node attribute to set

       <b>OCF_RESKEY_iface</b> = string []
           Network interface

           If this is set, monitor this network interface. One of iface or ip must be set.

       <b>OCF_RESKEY_ip</b> = string []
           IPv4 or IPv6 address

           If this is set instead of iface, monitor the interface that holds this IP address. The address may be
           specified in dotted-quad notation for IPv4 (for example, 192.168.1.1) or hexadecimal notation for
           IPv6 (for example, 2001:db8:DC28:0:0:FC57:D4C8:1FFF). One of iface or ip must be set.

       <b>OCF_RESKEY_bridge_ports</b> = string [detect]
           Bridge ports

           If set and iface is a bridge, consider these bridge ports (by default, all ports which have
           designated_bridge=root_id)

       <b>OCF_RESKEY_weight_base</b> = integer [1000]
           Weight of 1Gbps

           Relative weight of 1Gbps in interface speed. Can be used to tune how big attribute value will be.

       <b>OCF_RESKEY_dampen</b> = integer [5]
           Dampening interval

           The time to wait (dampening) for further changes to occur.

       <b>OCF_RESKEY_debug</b> = string [false]
           Verbose logging

           Log more verbosely.

</pre><h4><b>AUTHOR</b></h4><pre>
       <b>Andrew</b> <b>Beekhof</b> &lt;<a href="mailto:andrew@beekhof.net">andrew@beekhof.net</a>&gt;
           Author.

Pacemaker Configuration                            06/16/2025                            <u><a href="../man7/OCF_PACEMAKER_IFSPEE.7.html">OCF_PACEMAKER_IFSPEE</a></u>(7)
</pre>
 </div>
</div></section>
</div>
</body>
</html>