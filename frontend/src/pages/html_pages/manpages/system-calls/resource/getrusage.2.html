<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>getrusage - get resource usage</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/manpages-dev">manpages-dev_6.9.1-1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       getrusage - get resource usage

</pre><h4><b>LIBRARY</b></h4><pre>
       Standard C library (<u>libc</u>, <u>-lc</u>)

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>#include</b> <b>&lt;sys/resource.h&gt;</b>

       <b>int</b> <b>getrusage(int</b> <u>who</u><b>,</b> <b>struct</b> <b>rusage</b> <b>*</b><u>usage</u><b>);</b>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>getrusage</b>() returns resource usage measures for <u>who</u>, which can be one of the following:

       <b>RUSAGE_SELF</b>
              Return  resource  usage  statistics for the calling process, which is the sum of resources used by
              all threads in the process.

       <b>RUSAGE_CHILDREN</b>
              Return resource usage statistics for all children of the calling process that have terminated  and
              been  waited  for.  These statistics will include the resources used by grandchildren, and further
              removed descendants, if all of the intervening descendants waited on their terminated children.

       <b>RUSAGE_THREAD</b> (since Linux 2.6.26)
              Return resource usage statistics for the calling thread.  The <b>_GNU_SOURCE</b> feature test macro  must
              be  defined  (before including <u>any</u> header file) in order to obtain the definition of this constant
              from <u>&lt;sys/resource.h&gt;</u>.

       The resource usages are returned in the structure pointed to by <u>usage</u>, which has the following form:

           struct rusage {
               struct timeval ru_utime; /* user CPU time used */
               struct timeval ru_stime; /* system CPU time used */
               long   ru_maxrss;        /* maximum resident set size */
               long   ru_ixrss;         /* integral shared memory size */
               long   ru_idrss;         /* integral unshared data size */
               long   ru_isrss;         /* integral unshared stack size */
               long   ru_minflt;        /* page reclaims (soft page faults) */
               long   ru_majflt;        /* page faults (hard page faults) */
               long   ru_nswap;         /* swaps */
               long   ru_inblock;       /* block input operations */
               long   ru_oublock;       /* block output operations */
               long   ru_msgsnd;        /* IPC messages sent */
               long   ru_msgrcv;        /* IPC messages received */
               long   ru_nsignals;      /* signals received */
               long   ru_nvcsw;         /* voluntary context switches */
               long   ru_nivcsw;        /* involuntary context switches */
           };

       Not all fields are completed; unmaintained fields are set to  zero  by  the  kernel.   (The  unmaintained
       fields  are  provided  for compatibility with other systems, and because they may one day be supported on
       Linux.)  The fields are interpreted as follows:

       <u>ru_utime</u>
              This is the total amount of time spent executing in user mode, expressed in  a  <u>timeval</u>  structure
              (seconds plus microseconds).

       <u>ru_stime</u>
              This  is the total amount of time spent executing in kernel mode, expressed in a <u>timeval</u> structure
              (seconds plus microseconds).

       <u>ru_maxrss</u> (since Linux 2.6.32)
              This is the maximum resident set size used (in  kilobytes).   For  <b>RUSAGE_CHILDREN</b>,  this  is  the
              resident set size of the largest child, not the maximum resident set size of the process tree.

       <u>ru_ixrss</u> (unmaintained)
              This field is currently unused on Linux.

       <u>ru_idrss</u> (unmaintained)
              This field is currently unused on Linux.

       <u>ru_isrss</u> (unmaintained)
              This field is currently unused on Linux.

       <u>ru_minflt</u>
              The  number  of  page  faults  serviced  without any I/O activity; here I/O activity is avoided by
              “reclaiming” a page frame from the list of pages awaiting reallocation.

       <u>ru_majflt</u>
              The number of page faults serviced that required I/O activity.

       <u>ru_nswap</u> (unmaintained)
              This field is currently unused on Linux.

       <u>ru_inblock</u> (since Linux 2.6.22)
              The number of times the filesystem had to perform input.

       <u>ru_oublock</u> (since Linux 2.6.22)
              The number of times the filesystem had to perform output.

       <u>ru_msgsnd</u> (unmaintained)
              This field is currently unused on Linux.

       <u>ru_msgrcv</u> (unmaintained)
              This field is currently unused on Linux.

       <u>ru_nsignals</u> (unmaintained)
              This field is currently unused on Linux.

       <u>ru_nvcsw</u> (since Linux 2.6)
              The number of times a context switch resulted due to a process voluntarily giving up the processor
              before its time slice was completed (usually to await availability of a resource).

       <u>ru_nivcsw</u> (since Linux 2.6)
              The number of times a context switch resulted due to a higher priority process  becoming  runnable
              or because the current process exceeded its time slice.

</pre><h4><b>RETURN</b> <b>VALUE</b></h4><pre>
       On success, zero is returned.  On error, -1 is returned, and <u>errno</u> is set to indicate the error.

</pre><h4><b>ERRORS</b></h4><pre>
       <b>EFAULT</b> <u>usage</u> points outside the accessible address space.

       <b>EINVAL</b> <u>who</u> is invalid.

</pre><h4><b>ATTRIBUTES</b></h4><pre>
       For an explanation of the terms used in this section, see <b><a href="../man7/attributes.7.html">attributes</a></b>(7).
       ┌─────────────────────────────────────────────────────────────────────────────┬───────────────┬─────────┐
       │ <b>Interface</b>                                                                   │ <b>Attribute</b>     │ <b>Value</b>   │
       ├─────────────────────────────────────────────────────────────────────────────┼───────────────┼─────────┤
       │ <b>getrusage</b>()                                                                 │ Thread safety │ MT-Safe │
       └─────────────────────────────────────────────────────────────────────────────┴───────────────┴─────────┘

</pre><h4><b>STANDARDS</b></h4><pre>
       POSIX.1-2008.

       POSIX.1 specifies <b>getrusage</b>(), but specifies only the fields <u>ru_utime</u> and <u>ru_stime</u>.

       <b>RUSAGE_THREAD</b> is Linux-specific.

</pre><h4><b>HISTORY</b></h4><pre>
       POSIX.1-2001, SVr4, 4.3BSD.

       Before  Linux  2.6.9,  if  the disposition of <b>SIGCHLD</b> is set to <b>SIG_IGN</b> then the resource usages of child
       processes are automatically included in the value  returned  by  <b>RUSAGE_CHILDREN</b>,  although  POSIX.1-2001
       explicitly prohibits this.  This nonconformance is rectified in Linux 2.6.9 and later.

       The structure definition shown at the start of this page was taken from 4.3BSD Reno.

       Ancient  systems  provided  a  <b>vtimes</b>()  function  with  a  similar purpose to <b>getrusage</b>().  For backward
       compatibility, glibc (up until Linux 2.32) also  provides  <b>vtimes</b>().   All  new  applications  should  be
       written using <b>getrusage</b>().  (Since Linux 2.33, glibc no longer provides an <b>vtimes</b>() implementation.)

</pre><h4><b>NOTES</b></h4><pre>
       Resource usage metrics are preserved across an <b><a href="../man2/execve.2.html">execve</a></b>(2).

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man2/clock_gettime.2.html">clock_gettime</a></b>(2), <b><a href="../man2/getrlimit.2.html">getrlimit</a></b>(2), <b><a href="../man2/times.2.html">times</a></b>(2), <b><a href="../man2/wait.2.html">wait</a></b>(2), <b><a href="../man2/wait4.2.html">wait4</a></b>(2), <b><a href="../man3/clock.3.html">clock</a></b>(3), <b><a href="../man5/proc_pid_stat.5.html">proc_pid_stat</a></b>(5), <b><a href="../man5/proc_pid_io.5.html">proc_pid_io</a></b>(5)

Linux man-pages 6.9.1                              2024-05-02                                       <u><a href="../man2/getrusage.2.html">getrusage</a></u>(2)
</pre>
 </div>
</div></section>
</div>
</body>
</html>