<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>mkdir, mkdirat - create a directory</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/manpages-dev">manpages-dev_6.9.1-1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       mkdir, mkdirat - create a directory

</pre><h4><b>LIBRARY</b></h4><pre>
       Standard C library (<u>libc</u>, <u>-lc</u>)

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>#include</b> <b>&lt;sys/stat.h&gt;</b>

       <b>int</b> <b>mkdir(const</b> <b>char</b> <b>*</b><u>pathname</u><b>,</b> <b>mode_t</b> <u>mode</u><b>);</b>

       <b>#include</b> <b>&lt;<a href="file:/usr/include/fcntl.h">fcntl.h</a>&gt;</b>           /* Definition of AT_* constants */
       <b>#include</b> <b>&lt;sys/stat.h&gt;</b>

       <b>int</b> <b>mkdirat(int</b> <u>dirfd</u><b>,</b> <b>const</b> <b>char</b> <b>*</b><u>pathname</u><b>,</b> <b>mode_t</b> <u>mode</u><b>);</b>

   Feature Test Macro Requirements for glibc (see <b><a href="../man7/feature_test_macros.7.html">feature_test_macros</a></b>(7)):

       <b>mkdirat</b>():
           Since glibc 2.10:
               _POSIX_C_SOURCE &gt;= 200809L
           Before glibc 2.10:
               _ATFILE_SOURCE

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>mkdir</b>() attempts to create a directory named <u>pathname</u>.

       The  argument  <u>mode</u>  specifies  the  mode  for  the  new directory (see <b><a href="../man7/inode.7.html">inode</a></b>(7)).  It is modified by the
       process's <u>umask</u> in the usual way: in the absence of a default ACL, the mode of the created  directory  is
       (<u>mode</u>  &amp;  ~<u>umask</u>  &amp;  0777).  Whether other <u>mode</u> bits are honored for the created directory depends on the
       operating system.  For Linux, see NOTES below.

       The newly created directory will be owned by the effective user ID of  the  process.   If  the  directory
       containing  the  file  has  the  set-group-ID  bit  set,  or  if the filesystem is mounted with BSD group
       semantics (<u>mount</u> <u>-o</u> <u>bsdgroups</u> or, synonymously <u>mount</u> <u>-o</u> <u>grpid</u>), the new directory will inherit the  group
       ownership from its parent; otherwise it will be owned by the effective group ID of the process.

       If the parent directory has the set-group-ID bit set, then so will the newly created directory.

   <b>mkdirat()</b>
       The  <b>mkdirat</b>()  system  call  operates  in  exactly  the  same way as <b>mkdir</b>(), except for the differences
       described here.

       If the pathname given in <u>pathname</u> is relative, then it is interpreted relative to the directory  referred
       to  by  the  file  descriptor <u>dirfd</u> (rather than relative to the current working directory of the calling
       process, as is done by <b>mkdir</b>() for a relative pathname).

       If <u>pathname</u> is relative and <u>dirfd</u> is the special value <b>AT_FDCWD</b>, then <u>pathname</u> is interpreted relative to
       the current working directory of the calling process (like <b>mkdir</b>()).

       If <u>pathname</u> is absolute, then <u>dirfd</u> is ignored.

       See <b><a href="../man2/openat.2.html">openat</a></b>(2) for an explanation of the need for <b>mkdirat</b>().

</pre><h4><b>RETURN</b> <b>VALUE</b></h4><pre>
       <b>mkdir</b>() and <b>mkdirat</b>() return zero on success.  On error, -1 is returned and <u>errno</u> is set to indicate  the
       error.

</pre><h4><b>ERRORS</b></h4><pre>
       <b>EACCES</b> The  parent directory does not allow write permission to the process, or one of the directories in
              <u>pathname</u> did not allow search permission.  (See also <b><a href="../man7/path_resolution.7.html">path_resolution</a></b>(7).)

       <b>EBADF</b>  (<b>mkdirat</b>()) <u>pathname</u> is relative but <u>dirfd</u> is neither <b>AT_FDCWD</b> nor a valid file descriptor.

       <b>EDQUOT</b> The user's quota of disk blocks or inodes on the filesystem has been exhausted.

       <b>EEXIST</b> <u>pathname</u> already exists (not necessarily as a directory).  This includes the case  where  <u>pathname</u>
              is a symbolic link, dangling or not.

       <b>EFAULT</b> <u>pathname</u> points outside your accessible address space.

       <b>EINVAL</b> The  final  component  ("basename")  of the new directory's <u>pathname</u> is invalid (e.g., it contains
              characters not permitted by the underlying filesystem).

       <b>ELOOP</b>  Too many symbolic links were encountered in resolving <u>pathname</u>.

       <b>EMLINK</b> The number of links to the parent directory would exceed <b>LINK_MAX</b>.

       <b>ENAMETOOLONG</b>
              <u>pathname</u> was too long.

       <b>ENOENT</b> A directory component in <u>pathname</u> does not exist or is a dangling symbolic link.

       <b>ENOMEM</b> Insufficient kernel memory was available.

       <b>ENOSPC</b> The device containing <u>pathname</u> has no room for the new directory.

       <b>ENOSPC</b> The new directory cannot be created because the user's disk quota is exhausted.

       <b>ENOTDIR</b>
              A component used as a directory in <u>pathname</u> is not, in fact, a directory.

       <b>ENOTDIR</b>
              (<b>mkdirat</b>()) <u>pathname</u> is relative and <u>dirfd</u> is a file descriptor referring to a file other  than  a
              directory.

       <b>EPERM</b>  The filesystem containing <u>pathname</u> does not support the creation of directories.

       <b>EROFS</b>  <u>pathname</u> refers to a file on a read-only filesystem.

</pre><h4><b>VERSIONS</b></h4><pre>
       Under Linux, apart from the permission bits, the <b>S_ISVTX</b> <u>mode</u> bit is also honored.

   <b>glibc</b> <b>notes</b>
       On  older  kernels  where  <b>mkdirat</b>()  is unavailable, the glibc wrapper function falls back to the use of
       <b>mkdir</b>().  When <u>pathname</u> is a relative pathname, glibc constructs a pathname based on the symbolic link in
       <u><a href="file:/proc/self/fd">/proc/self/fd</a></u> that corresponds to the <u>dirfd</u> argument.

</pre><h4><b>STANDARDS</b></h4><pre>
       POSIX.1-2008.

</pre><h4><b>HISTORY</b></h4><pre>
       <b>mkdir</b>()
              SVr4, BSD, POSIX.1-2001.

       <b>mkdirat</b>()
              Linux 2.6.16, glibc 2.4.

</pre><h4><b>NOTES</b></h4><pre>
       There are many infelicities in the protocol underlying NFS.  Some of these affect <b>mkdir</b>().

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man1/mkdir.1.html">mkdir</a></b>(1), <b><a href="../man2/chmod.2.html">chmod</a></b>(2),  <b><a href="../man2/chown.2.html">chown</a></b>(2),  <b><a href="../man2/mknod.2.html">mknod</a></b>(2),  <b><a href="../man2/mount.2.html">mount</a></b>(2),  <b><a href="../man2/rmdir.2.html">rmdir</a></b>(2),  <b><a href="../man2/stat.2.html">stat</a></b>(2),  <b><a href="../man2/umask.2.html">umask</a></b>(2),  <b><a href="../man2/unlink.2.html">unlink</a></b>(2),  <b><a href="../man5/acl.5.html">acl</a></b>(5),
       <b><a href="../man7/path_resolution.7.html">path_resolution</a></b>(7)

Linux man-pages 6.9.1                              2024-05-02                                           <u><a href="../man2/mkdir.2.html">mkdir</a></u>(2)
</pre>
 </div>
</div></section>
</div>
</body>
</html>