<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>brk, sbrk - change data segment size</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/manpages-dev">manpages-dev_6.9.1-1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       brk, sbrk - change data segment size

</pre><h4><b>LIBRARY</b></h4><pre>
       Standard C library (<u>libc</u>, <u>-lc</u>)

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>#include</b> <b>&lt;<a href="file:/usr/include/unistd.h">unistd.h</a>&gt;</b>

       <b>int</b> <b>brk(void</b> <b>*</b><u>addr</u><b>);</b>
       <b>void</b> <b>*sbrk(intptr_t</b> <u>increment</u><b>);</b>

   Feature Test Macro Requirements for glibc (see <b><a href="../man7/feature_test_macros.7.html">feature_test_macros</a></b>(7)):

       <b>brk</b>(), <b>sbrk</b>():
           Since glibc 2.19:
               _DEFAULT_SOURCE
                   || ((_XOPEN_SOURCE &gt;= 500) &amp;&amp;
                       ! (_POSIX_C_SOURCE &gt;= 200112L))
           From glibc 2.12 to glibc 2.19:
               _BSD_SOURCE || _SVID_SOURCE
                   || ((_XOPEN_SOURCE &gt;= 500) &amp;&amp;
                       ! (_POSIX_C_SOURCE &gt;= 200112L))
           Before glibc 2.12:
               _BSD_SOURCE || _SVID_SOURCE || _XOPEN_SOURCE &gt;= 500

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>brk</b>()  and  <b>sbrk</b>()  change the location of the <u>program</u> <u>break</u>, which defines the end of the process's data
       segment (i.e., the program break is the first location after the end of the uninitialized data  segment).
       Increasing  the  program  break  has the effect of allocating memory to the process; decreasing the break
       deallocates memory.

       <b>brk</b>() sets the end of the data segment to the value specified by <u>addr</u>, when that value is reasonable, the
       system has enough memory, and the process does not exceed its maximum data size (see <b><a href="../man2/setrlimit.2.html">setrlimit</a></b>(2)).

       <b>sbrk</b>() increments the program's data space by <u>increment</u> bytes.  Calling <b>sbrk</b>() with an <u>increment</u> of 0 can
       be used to find the current location of the program break.

</pre><h4><b>RETURN</b> <b>VALUE</b></h4><pre>
       On success, <b>brk</b>() returns zero.  On error, -1 is returned, and <u>errno</u> is set to <b>ENOMEM</b>.

       On success, <b>sbrk</b>() returns the previous program break.  (If the break was increased, then this value is a
       pointer to the start of the newly allocated memory).  On error, <u>(void</u> <u>*)</u> <u>-1</u> is returned, and <u>errno</u> is set
       to <b>ENOMEM</b>.

</pre><h4><b>STANDARDS</b></h4><pre>
       None.

</pre><h4><b>HISTORY</b></h4><pre>
       4.3BSD; SUSv1, marked LEGACY in SUSv2, removed in POSIX.1-2001.

</pre><h4><b>NOTES</b></h4><pre>
       Avoid using <b>brk</b>() and <b>sbrk</b>(): the <b><a href="../man3/malloc.3.html">malloc</a></b>(3) memory allocation package is the portable and comfortable way
       of allocating memory.

       Various systems use various types for the argument  of  <b>sbrk</b>().   Common  are  <u>int</u>,  <u>ssize_t</u>,  <u>ptrdiff_t</u>,
       <u>intptr_t</u>.

   <b>C</b> <b>library/kernel</b> <b>differences</b>
       The return value described above for <b>brk</b>() is the behavior provided by the glibc wrapper function for the
       Linux  <b>brk</b>()  system call.  (On most other implementations, the return value from <b>brk</b>() is the same; this
       return value was also specified in SUSv2.)  However, the actual Linux system call returns the new program
       break on success.  On failure, the system call returns the current break.   The  glibc  wrapper  function
       does  some  work  (i.e.,  checks  whether the new break is less than <u>addr</u>) to provide the 0 and -1 return
       values described above.

       On Linux, <b>sbrk</b>() is implemented as a library function that uses the <b>brk</b>()  system  call,  and  does  some
       internal bookkeeping so that it can return the old break value.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man2/execve.2.html">execve</a></b>(2), <b><a href="../man2/getrlimit.2.html">getrlimit</a></b>(2), <b><a href="../man3/end.3.html">end</a></b>(3), <b><a href="../man3/malloc.3.html">malloc</a></b>(3)

Linux man-pages 6.9.1                              2024-05-02                                             <u><a href="../man2/brk.2.html">brk</a></u>(2)
</pre>
 </div>
</div></section>
</div>
</body>
</html>