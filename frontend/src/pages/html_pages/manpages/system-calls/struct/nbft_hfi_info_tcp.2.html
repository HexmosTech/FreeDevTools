<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>struct nbft_hfi_info_tcp - HFI Transport Info Descriptor - NVMe/TCP (Figure 13)</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libnvme-dev">libnvme-dev_1.15-2_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       struct nbft_hfi_info_tcp - HFI Transport Info Descriptor - NVMe/TCP (Figure 13)

</pre><h4><b>SYNOPSIS</b></h4><pre>
       struct nbft_hfi_info_tcp {
           <b>__u8</b> <b>structure_id;</b>
           <b>__u8</b> <b>version;</b>
           <b>__u8</b> <b>trtype;</b>
           <b>__u8</b> <b>trinfo_version;</b>
           <b>__le16</b> <b>hfi_index;</b>
           <b>__u8</b> <b>flags;</b>
           <b>__le32</b> <b>pci_sbdf;</b>
           <b>__u8</b> <b>mac_addr[6];</b>
           <b>__le16</b> <b>vlan;</b>
           <b>__u8</b> <b>ip_origin;</b>
           <b>__u8</b> <b>ip_address[16];</b>
           <b>__u8</b> <b>subnet_mask_prefix;</b>
           <b>__u8</b> <b>ip_gateway[16];</b>
           <b>__u8</b> <b>reserved1;</b>
           <b>__le16</b> <b>route_metric;</b>
           <b>__u8</b> <b>primary_dns[16];</b>
           <b>__u8</b> <b>secondary_dns[16];</b>
           <b>__u8</b> <b>dhcp_server[16];</b>
           <b>struct</b> <b>nbft_heap_obj</b> <b>host_name_obj;</b>
           <b>__u8</b> <b>reserved2[18];</b>
        };

</pre><h4><b>Members</b></h4><pre>
       structure_id
                   Structure   ID:   This   field   shall   be   set   to   7h   (i.e.,   HFI   Transport  Info;
                   #NBFT_DESC_HFI_TRINFO).

       version     Version: This field shall be set to 1h.

       trtype      HFI Transport Type, see <u>enum</u> <u>nbft_trtype</u>: This field shall be set  to  03h  (i.e.,  NVMe/TCP;
                   #NBFT_TRTYPE_TCP).

       trinfo_version
                   Transport  Info Version: Implementations compliant to this specification shall set this field
                   to 1h.

       hfi_index   HFI Descriptor Index: The value of the HFI Descriptor Index field of the HFI Descriptor  (see
                   <u>struct</u>  <u>nbft_hfi</u>.index)  whose  HFI  Transport  Info  Descriptor  Heap Object Reference field
                   indicates this HFI Transport Info Descriptor.

       flags       HFI Transport Flags, see <u>enum</u> <u>nbft_hfi_info_tcp_flags</u>.

       pci_sbdf    PCI Express Routing ID for the HFI Transport Function: This field indicates the  PCI  Express
                   Routing ID as specified in the PCI Express Base Specification.

       mac_addr    MAC  Address:  The  MAC  address  of  this  HFI,  in  EUI-48TM format, as defined in the IEEE
                   Guidelines for Use of Extended Unique Identifiers. This field shall  be  set  to  a  non-zero
                   value.

       vlan        VLAN:  If this field is set to a non-zero value, then this field contains the VLAN identifier
                   if the VLAN associated with this  HFI,  as  defined  in  IEEE  802.1q-2018.  If  no  VLAN  is
                   associated with this HFI, then this field shall be cleared to 0h.

       ip_origin   IP  Origin: If this field is set to a non-zero value, then this field indicates the source of
                   Ethernet L3 configuration information used by the driver for this interface. Valid values are
                   defined in the Win 32 API: NL_PREFIX_ORIGIN enumeration specification. This field  should  be
                   cleared to 0h if the IP Origin field is unused by driver.

       ip_address  IP  Address:  This  field indicates the IPv4 or IPv6 address of this HFI. This field shall be
                   set to a non-zero value.

       subnet_mask_prefix
                   Subnet Mask Prefix: This field indicates the IPv4 or IPv6 subnet mask in CIDR routing  prefix
                   notation.

       ip_gateway  IP  Gateway:  If this field is set to a non-zero value, this field indicates the IPv4 or IPv6
                   address of the IP gateway for this HFI. If this field is cleared to 0h, then no IP gateway is
                   specified.

       reserved1   Reserved.

       route_metric
                   Route Metric: If this field is set to a non-zero value, this field indicates the  cost  value
                   for  the  route  indicated  by  this HF. This field contains the value utilized by the pre-OS
                   driver when chosing among all available routes. Lower values relate to higher priority. Refer
                   to IETF RFC 4249.  If the pre-OS driver supports routing and did  not  configure  a  specific
                   route  metric for this interface, then the pre-OS driver should set this value to 500. If the
                   pre-OS driver does not support routing, then this field should be cleared to 0h.

       primary_dns Primary DNS: If this field is set to a non-zero value, this field indicates the IPv4 or  IPv6
                   address of the Primary DNS server for this HFI, if any, from byte offset 0h of the NBFT Table
                   Header. If this field is cleared to 0h, then no Primary DNS is specified.

       secondary_dns
                   Secondary  DNS:  If  this  field is set to a non-zero value, this field indicates the IPv4 or
                   IPv6 address of the Secondary DNS server for this HFI, if any, from byte  offset  0h  of  the
                   NBFT Table Header. If this field is cleared to 0h, then no Secondary DNS is specified.

       dhcp_server DHCP  Server:  If  the  DHCP Override bit is set to 1h, then this field indicates the IPv4 or
                   IPv6 address of the DHCP server used to assign this HFI address. If that bit  is  cleared  to
                   0h, then this field is reserved.

       host_name_obj
                   Host  Name  Heap  Object Reference: If this field is set to a non-zero value, then this field
                   indicates the location and size of a heap object containing a Host Name string.

       reserved2   Reserved.

August 2025                                 struct nbft_hfi_info_tcp                                  <u><a href="../man2/libnvme.2.html">libnvme</a></u>(2)
</pre>
 </div>
</div></section>
</div>
</body>
</html>