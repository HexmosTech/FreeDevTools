<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>close — delete a descriptor</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/freebsd-manpages">freebsd-manpages_12.2-2_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       close — delete a descriptor

</pre><h4><b>LIBRARY</b></h4><pre>
       Standard C Library (libc, -lc)

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>#include</b> <b>&lt;<a href="file:/usr/include/unistd.h">unistd.h</a>&gt;</b>

       <u>int</u>
       <b>close</b>(<u>int</u> <u>fd</u>);

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The <b>close</b>() system call deletes a descriptor from the per-process object reference table.  If this is the
       last  reference to the underlying object, the object will be deactivated.  For example, on the last close
       of a file the current <u>seek</u> pointer associated with the file is lost; on the last  close  of  a  <u><a href="../man2/socket.2.html">socket</a></u>(2)
       associated  naming  information  and  queued  data  are discarded; on the last close of a file holding an
       advisory lock the lock is released (see further <u><a href="../man2/flock.2.html">flock</a></u>(2)).  However, the semantics of System V  and  IEEE
       Std  1003.1-1988 (“POSIX.1”) dictate that all <u><a href="../man2/fcntl.2.html">fcntl</a></u>(2) advisory record locks associated with a file for a
       given process are removed when <u>any</u> file descriptor for that file is closed by that process.

       When a process exits, all associated file descriptors are freed, but since there is  a  limit  on  active
       descriptors  per  processes,  the <b>close</b>() system call is useful when a large quantity of file descriptors
       are being handled.

       When a process forks (see <u><a href="../man2/fork.2.html">fork</a></u>(2)), all descriptors for the new child process reference the same  objects
       as  they  did  in  the  parent  before the fork.  If a new process is then to be run using <u><a href="../man2/execve.2.html">execve</a></u>(2), the
       process would normally inherit these descriptors.  Most of the descriptors can be rearranged with <u><a href="../man2/dup2.2.html">dup2</a></u>(2)
       or deleted with <b>close</b>() before the <u><a href="../man2/execve.2.html">execve</a></u>(2) is attempted, but if some of these descriptors will still be
       needed if the execve fails, it is necessary to arrange for them to be closed if the execve succeeds.  For
       this reason, the call “<b>fcntl(d,</b> <b>F_SETFD,</b> <b>FD_CLOEXEC)</b>” is provided, which arranges that a descriptor  will
       be  closed  after  a successful execve; the call “<b>fcntl(d,</b> <b>F_SETFD,</b> <b>0)</b>” restores the default, which is to
       not close the descriptor.

</pre><h4><b>RETURN</b> <b>VALUES</b></h4><pre>
       The <b>close</b>() function returns the value 0 if successful; otherwise the value -1 is returned and the global
       variable <u>errno</u> is set to indicate the error.

</pre><h4><b>ERRORS</b></h4><pre>
       The <b>close</b>() system call will fail if:

       [EBADF]            The <u>fd</u> argument is not an active descriptor.

       [EINTR]            An interrupt was received.

       [ENOSPC]           The underlying object did not fit, cached data was lost.

       [ECONNRESET]       The underlying object was a stream socket that was shut down by the  peer  before  all
                          pending data was delivered.

       In case of any error except EBADF, the supplied file descriptor is deallocated and therefore is no longer
       valid.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <u><a href="../man2/accept.2.html">accept</a></u>(2), <u><a href="../man2/closefrom.2.html">closefrom</a></u>(2), <u><a href="../man2/execve.2.html">execve</a></u>(2), <u><a href="../man2/fcntl.2.html">fcntl</a></u>(2), <u><a href="../man2/flock.2.html">flock</a></u>(2), <u><a href="../man2/open.2.html">open</a></u>(2), <u><a href="../man2/pipe.2.html">pipe</a></u>(2), <u><a href="../man2/socket.2.html">socket</a></u>(2), <u><a href="../man2/socketpair.2.html">socketpair</a></u>(2)

</pre><h4><b>STANDARDS</b></h4><pre>
       The <b>close</b>() system call is expected to conform to ISO/IEC 9945-1:1990 (“POSIX.1”).

</pre><h4><b>HISTORY</b></h4><pre>
       The <b>close</b>() function appeared in Version 1 AT&amp;T UNIX.

Debian                                          December 1, 2017                                        <u><a href="../man2/CLOSE.2.html">CLOSE</a></u>(2)
</pre>
 </div>
</div></section>
</div>
</body>
</html>