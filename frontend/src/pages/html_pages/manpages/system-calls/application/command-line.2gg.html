<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>command-line - Golf documentation (running-application)</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/golf">golf_601.4.41-1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       command-line - Golf documentation (running-application)

</pre><h4><b>DESCRIPTION</b></h4><pre>
       A  Golf  application  can run as a web application or a command-line program, or both - such as when some
       requests can be either fulfilled through web interface or executed otherwise  (such  as  on  the  command
       line).  Note that Golf produces two separate executables: a <b>service</b> one and a command-line one - they are
       different because command-line program does not need the service library and thus is smaller.

       The name of the command-line executable is the same as the application name, and its  path  is  (assuming
       &lt;app name&gt; is the application name):

           /var/lib/gg/bld/&lt;app name&gt;/&lt;app name&gt;

       <b>OUTPUT</b>

       A  command-line  program  works  the same way as a service executable, and the output is the same, except
       that it is directed to stdout (standard output) and stderr (standard error).

       <b>EXIT</b> <b>CODE</b>

       To specify the exit code of a command-line program, use <b>exit-status</b>.  To  exit  the  program,  use  <b>exit-</b>
       <b>handler</b>, or otherwise the program will exit when it reaches the end of a <b>request</b>.

       <b>EXECUTING</b> <b>A</b> <b>REQUEST</b>

       Here is how to execute a request "add-stock" in application "stock" with parameters "name" having a value
       of "ABC" and "price" a value of "300":

           gg -r --app="/stock" --req="/add-stock?name=ABC&amp;price=300" --exec

       Note  that  you if specify parameters as part of the path, you could write the above the same way as in a
       URL:

           gg -r --app="/stock" --req="/add-stock/name=ABC/price=300" --exec

       You can generate the shell code to execute the above without using <b>gg</b> by omitting  "--exec"  option,  for
       instance:

           gg -r --app="/stock" --req="/add-stock/name=ABC/price=300"

       <b>INCLUDING</b> <b>A</b> <b>REQUEST</b> <b>BODY</b>

       You  can include a request body when executing a singe-run program. It is always included as the standard
       input (stdin) to the program.

       You must provide the length of this input and the type of input, as well as a  request  method  (such  as
       POST, PUT, PATCH, GET, DELETE or any other).

       Here  is  an example of using a request body to make a POST request on the command line - the application
       name is "json" and request name is "process". File "prices.json" is sent as request body:

           gg -r --app=/json --req='/process?act=get_total&amp;period=YTD' --method=POST --content=prices.json --content-type=application/json --exec

       You can generate the shell code for the above by omitting "--exec" option of <b>gg</b> utility.

       Note that you can also  include  any  other  headers  as  environment  variables  by  using  the  "HTTP_"
       convention,  where  custom  headers  are  capitalized with use of underscore for dashes and prefixed with
       "HTTP_", for example header "Golf-Header" would be set as:

           export HTTP_GOLF_HEADER="some value"

       You would set the "HTTP_" variable(s) prior to executing the program.

       <b>SUPPRESSING</b> <b>HTTP</b> <b>HEADER</b> <b>OUTPUT</b> <b>FOR</b> <b>THE</b> <b>ENTIRE</b> <b>APPLICATION</b>

       If you wish to suppress the output of HTTP headers for all requests, use "--silent-header" option in  "gg
       -r":

           gg -r --app="/stock" --req="/add-stock/name=ABC/price=300" --exec --silent-header

       This  will  suppress the output of HTTP headers (either the default or with <b>out-header</b>), or for any other
       case where headers are output. This has the same effect as <b>silent-header</b>, the only difference is that the
       environment variable applies to the entire application.

       <b>URL-ENCODING</b> <b>THE</b> <b>INPUT</b>

       Any data in "--req" option (and consequently  in  PATH_INFO  or  QUERY_STRING  environment  vairables  if
       calling directly from shell) must be formatted to be a valid URL; for example, data that contains special
       characters (like "&amp;" or "?") must be URL-encoded, for instance:

           gg -r --app="/stock" --req="/add-stock/name=ABC%3F/price=300"

       In this case, parameter "name" has value of "ABC?", where special character "?" is encoded as "%3F".

       To make sure all your input parameters are properly URL-encoded, you can use Golf's v1 code processor:

           $($(gg -l)/v1 -urlencode '&lt;your data&gt;')

       For instance, to encode "a?=b" as a parameter:

           gg -r --app="/stock" --req="/add-stock/name=$($(gg -l)/v1 -urlencode 'AB?')/price=300"

       If your parameters do not contain characters that need URL encoding, then you can skip this.

       <b>CGI</b>

       You can also use a command-line program with <b>CGI</b> (Common Gateway Interface).

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
        Running application

       <b>application-setup</b> <b>CGI</b> <b>command-line</b> <b>service</b> See all <b>documentation</b>

$DATE                                               $VERSION                                           <u><a href="../man2gg/GOLF.2gg.html">GOLF</a></u>(2gg)
</pre>
 </div>
</div></section>
</div>
</body>
</html>