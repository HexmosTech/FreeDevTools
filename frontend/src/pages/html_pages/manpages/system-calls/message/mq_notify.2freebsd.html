<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>mq_notify — notify process that a message is available (REALTIME)</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/freebsd-manpages">freebsd-manpages_12.2-2_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       mq_notify — notify process that a message is available (REALTIME)

</pre><h4><b>LIBRARY</b></h4><pre>
       POSIX Real-time Library (librt, -lrt)

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>#include</b> <b>&lt;<a href="file:/usr/include/mqueue.h">mqueue.h</a>&gt;</b>

       <u>int</u>
       <b>mq_notify</b>(<u>mqd_t</u> <u>mqdes</u>, <u>const</u> <u>struct</u> <u>sigevent</u> <u>*notification</u>);

</pre><h4><b>DESCRIPTION</b></h4><pre>
       If  the  argument  notification  is  not  NULL,  this system call will register the calling process to be
       notified of message arrival at an empty  message  queue  associated  with  the  specified  message  queue
       descriptor,  <u>mqdes</u>.   The notification specified by the <u>notification</u> argument will be sent to the process
       when the message queue transitions from empty to non-empty.   At  any  time,  only  one  process  may  be
       registered  for notification by a message queue.  If the calling process or any other process has already
       registered for notification of message arrival at the specified message  queue,  subsequent  attempts  to
       register for that message queue will fail.

       The  <u>notification</u>  argument  points  to a <u>sigevent</u> structure that defines how the calling process will be
       notified.  If <u>notification-&gt;sigev_notify</u> is SIGEV_NONE, then no signal will  be  posted,  but  the  error
       status  and  the  return  status  for  the  operation  will  be  set  appropriately.  For SIGEV_SIGNO and
       SIGEV_THREAD_ID notifications, the signal specified in <u>notification-&gt;sigev_signo</u>  will  be  sent  to  the
       calling  process  (SIGEV_SIGNO)  or  to  the  thread whose LWP ID is <u>notification-&gt;sigev_notify_thread_id</u>
       (SIGEV_THREAD_ID).  The information for the queued signal will include:

       <b>Member</b>      <b>Value</b>
       <u>si_code</u>     SI_MESGQ
       <u>si_value</u>    the value stored in <u>notification-&gt;sigev_value</u>
       <u>si_mqd</u>      <u>mqdes</u>

       If <u>notification</u> is NULL and the process is currently registered for notification by the specified message
       queue, the existing registration will be removed.

       When the notification is sent to the registered process, its registration is removed.  The message  queue
       then is available for registration.

       If  a  process  has  registered for notification of message arrival at a message queue and some thread is
       blocked in <b>mq_receive</b>() waiting to receive a message when a message arrives at the  queue,  the  arriving
       message  will  satisfy  the  appropriate <b>mq_receive</b>().  The resulting behavior is as if the message queue
       remains empty, and no notification will be sent.

</pre><h4><b>RETURN</b> <b>VALUES</b></h4><pre>
       Upon successful completion, the value 0 is returned; otherwise the value -1 is returned  and  the  global
       variable <u>errno</u> is set to indicate the error.

</pre><h4><b>ERRORS</b></h4><pre>
       The <b>mq_notify</b>() system call will fail if:

       [EBADF]            The <u>mqdes</u> argument is not a valid message queue descriptor.

       [EBUSY]            Process is already registered for notification by the message queue.

       [EINVAL]           The  asynchronous  notification method in <u>notification-&gt;sigev_notify</u> is invalid or not
                          supported.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <u><a href="../man2/mq_open.2.html">mq_open</a></u>(2), <u><a href="../man2/mq_send.2.html">mq_send</a></u>(2), <u><a href="../man2/mq_timedsend.2.html">mq_timedsend</a></u>(2), <u><a href="../man3/sigevent.3.html">sigevent</a></u>(3), <u><a href="../man3/siginfo.3.html">siginfo</a></u>(3)

</pre><h4><b>STANDARDS</b></h4><pre>
       The <b>mq_notify</b>() system call conforms to IEEE Std 1003.1-2004 (“POSIX.1”).

</pre><h4><b>HISTORY</b></h4><pre>
       Support for POSIX message queues first appeared in FreeBSD 7.0.

</pre><h4><b>COPYRIGHT</b></h4><pre>
       Portions of this text are reprinted and reproduced in electronic form from IEEE Std 1003.1, 2004 Edition,
       Standard for Information Technology -- Portable Operating System Interface (POSIX), The Open  Group  Base
       Specifications Issue 6, Copyright (C) 2001-2004 by the Institute of Electrical and Electronics Engineers,
       Inc  and  The Open Group.  In the event of any discrepancy between this version and the original IEEE and
       The Open Group Standard, the original IEEE and The Open Group Standard  is  the  referee  document.   The
       original Standard can be obtained online at <a href="http://www.opengroup.org/unix/online.html">http://www.opengroup.org/unix/online.html</a>.

Debian                                            July 15, 2016                                     <u><a href="../man2/MQ_NOTIFY.2.html">MQ_NOTIFY</a></u>(2)
</pre>
 </div>
</div></section>
</div>
</body>
</html>