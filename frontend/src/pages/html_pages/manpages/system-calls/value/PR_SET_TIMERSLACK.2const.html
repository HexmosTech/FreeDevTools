<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PR_SET_TIMERSLACK - set the "current" timer slack value for the calling thread</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/manpages-dev">manpages-dev_6.9.1-1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       PR_SET_TIMERSLACK - set the "current" timer slack value for the calling thread

</pre><h4><b>LIBRARY</b></h4><pre>
       Standard C library (<u>libc</u>, <u>-lc</u>)

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>#include</b> <b>&lt;<a href="file:/usr/include/linux/prctl.h">linux/prctl.h</a>&gt;</b>  /* Definition of <b>PR_*</b> constants */
       <b>#include</b> <b>&lt;sys/prctl.h&gt;</b>

       <b>int</b> <b>prctl(PR_SET_TIMERSLACK,</b> <b>unsigned</b> <b>long</b> <u>slack</u><b>);</b>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       Each  thread  has  two  associated  timer  slack  values: a "default" value, and a "current" value.  This
       operation sets the "current" timer slack value for the calling thread.  <u>slack</u> is an unsigned  long  value
       in  the  range [<b>1L</b>, <b>ULONG_MAX</b>].  If the nanosecond value supplied in <u>slack</u> is greater than zero, then the
       "current" value is set to this value.  If <u>slack</u> is <b>0L</b>, the "current" timer slack is reset to the thread's
       "default" timer slack value.

       The "current" timer slack is used by the kernel to group timer expirations for the  calling  thread  that
       are  close  to one another; as a consequence, timer expirations for the thread may be up to the specified
       number of nanoseconds late (but will never expire early).  Grouping timer  expirations  can  help  reduce
       system power consumption by minimizing CPU wake-ups.

       The  timer expirations affected by timer slack are those set by <b><a href="../man2/select.2.html">select</a></b>(2), <b><a href="../man2/pselect.2.html">pselect</a></b>(2), <b><a href="../man2/poll.2.html">poll</a></b>(2), <b><a href="../man2/ppoll.2.html">ppoll</a></b>(2),
       <b><a href="../man2/epoll_wait.2.html">epoll_wait</a></b>(2), <b><a href="../man2/epoll_pwait.2.html">epoll_pwait</a></b>(2), <b><a href="../man2/clock_nanosleep.2.html">clock_nanosleep</a></b>(2), <b><a href="../man2/nanosleep.2.html">nanosleep</a></b>(2),  and  <b><a href="../man2/futex.2.html">futex</a></b>(2)  (and  thus  the  library
       functions  implemented  via  futexes,  including  <b><a href="../man3/pthread_cond_timedwait.3.html">pthread_cond_timedwait</a></b>(3),  <b><a href="../man3/pthread_mutex_timedlock.3.html">pthread_mutex_timedlock</a></b>(3),
       <b><a href="../man3/pthread_rwlock_timedrdlock.3.html">pthread_rwlock_timedrdlock</a></b>(3), <b><a href="../man3/pthread_rwlock_timedwrlock.3.html">pthread_rwlock_timedwrlock</a></b>(3), and <b><a href="../man3/sem_timedwait.3.html">sem_timedwait</a></b>(3)).

       Timer slack is not applied to threads that  are  scheduled  under  a  real-time  scheduling  policy  (see
       <b><a href="../man2/sched_setscheduler.2.html">sched_setscheduler</a></b>(2)).

       When  a new thread is created, the two timer slack values are made the same as the "current" value of the
       creating thread.  Thereafter, a thread can adjust its "current" timer slack value via  <b>PR_SET_TIMERSLACK</b>.
       The  "default"  value  can't  be  changed.   The  timer slack values of <u>init</u> (PID 1), the ancestor of all
       processes, are 50,000 nanoseconds (50 microseconds).  The timer slack  value  is  inherited  by  a  child
       created via <b><a href="../man2/fork.2.html">fork</a></b>(2), and is preserved across <b><a href="../man2/execve.2.html">execve</a></b>(2).

</pre><h4><b>RETURN</b> <b>VALUE</b></h4><pre>
       On success, 0 is returned.  On error, -1 is returned, and <u>errno</u> is set to indicate the error.

</pre><h4><b>FILES</b></h4><pre>
       <u><a href="file:/proc/">/proc/</a></u>pid<u>/timerslack_ns</u>
              Since  Linux  4.6,  the "current" timer slack value of any process can be examined and changed via
              this file.

</pre><h4><b>STANDARDS</b></h4><pre>
       Linux.

</pre><h4><b>HISTORY</b></h4><pre>
       Linux 2.6.28.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man2/prctl.2.html">prctl</a></b>(2), <b><a href="../man2const/PR_GET_TIMERSLACK.2const.html">PR_GET_TIMERSLACK</a></b>(2const), <b><a href="../man5/proc_pid_timerslack_ns.5.html">proc_pid_timerslack_ns</a></b>(5)

Linux man-pages 6.9.1                              2024-06-02                          <u><a href="../man2const/PR_SET_TIMERSLACK.2const.html">PR_SET_TIMERSLACK</a></u>(2const)
</pre>
 </div>
</div></section>
</div>
</body>
</html>