<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>gettimeofday, settimeofday — get/set date and time</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/freebsd-manpages">freebsd-manpages_12.2-2_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       gettimeofday, settimeofday — get/set date and time

</pre><h4><b>LIBRARY</b></h4><pre>
       Standard C Library (libc, -lc)

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>#include</b> <b>&lt;sys/time.h&gt;</b>

       <u>int</u>
       <b>gettimeofday</b>(<u>struct</u> <u>timeval</u> <u>*tp</u>, <u>struct</u> <u>timezone</u> <u>*tzp</u>);

       <u>int</u>
       <b>settimeofday</b>(<u>const</u> <u>struct</u> <u>timeval</u> <u>*tp</u>, <u>const</u> <u>struct</u> <u>timezone</u> <u>*tzp</u>);

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The  system's  notion  of  the  current  Greenwich  time  and  the current time zone is obtained with the
       <b>gettimeofday</b>() system call, and set with the <b>settimeofday</b>()  system  call.   The  time  is  expressed  in
       seconds and microseconds since midnight (0 hour), January 1, 1970.  The resolution of the system clock is
       hardware  dependent,  and  the time may be updated continuously or in “ticks”.  If <u>tp</u> or <u>tzp</u> is NULL, the
       associated time information will not be returned or set.

       The structures pointed to by <u>tp</u> and <u>tzp</u> are defined in &lt;<u>sys/time.h</u>&gt; as:

       struct timeval {
               time_t          tv_sec;         /* seconds */
               suseconds_t     tv_usec;        /* and microseconds */
       };

       struct timezone {
               int     tz_minuteswest; /* minutes west of Greenwich */
               int     tz_dsttime;     /* type of dst correction */
       };

       The <u>timezone</u> structure indicates the  local  time  zone  (measured  in  minutes  of  time  westward  from
       Greenwich),  and  a flag that, if nonzero, indicates that Daylight Saving time applies locally during the
       appropriate part of the year.

       Only the super-user may set the time of day or time zone.  If the system is running at securelevel  &gt;=  2
       (see  <u><a href="../man8/init.8.html">init</a></u>(8)), the time may only be advanced or retarded by a maximum of one second.  This limitation is
       imposed to prevent a malicious super-user from setting arbitrary time stamps on files.  The  system  time
       can  be  adjusted  backwards without restriction using the <u><a href="../man2/adjtime.2.html">adjtime</a></u>(2) system call even when the system is
       secure.

</pre><h4><b>RETURN</b> <b>VALUES</b></h4><pre>
       Upon successful completion, the value 0 is returned; otherwise the value -1 is returned  and  the  global
       variable <u>errno</u> is set to indicate the error.

</pre><h4><b>ERRORS</b></h4><pre>
       The following error codes may be set in <u>errno</u>:

       [EINVAL]           The supplied <u>timeval</u> value is invalid.

       [EPERM]            A user other than the super-user attempted to set the time.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <u><a href="../man1/date.1.html">date</a></u>(1), <u><a href="../man2/adjtime.2.html">adjtime</a></u>(2), <u><a href="../man2/clock_gettime.2.html">clock_gettime</a></u>(2), <u><a href="../man3/ctime.3.html">ctime</a></u>(3), <u><a href="../man3/timeradd.3.html">timeradd</a></u>(3), <u><a href="../man7/clocks.7.html">clocks</a></u>(7), <u><a href="../man8/timed.8.html">timed</a></u>(8)

</pre><h4><b>HISTORY</b></h4><pre>
       The <b>gettimeofday</b>() system call appeared in 4.2BSD.

Debian                                           August 4, 2018                                  <u><a href="../man2/GETTIMEOFDAY.2.html">GETTIMEOFDAY</a></u>(2)
</pre>
 </div>
</div></section>
</div>
</body>
</html>