<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>signal - ANSI C signal handling</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/manpages-dev">manpages-dev_6.9.1-1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       signal - ANSI C signal handling

</pre><h4><b>LIBRARY</b></h4><pre>
       Standard C library (<u>libc</u>, <u>-lc</u>)

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>#include</b> <b>&lt;<a href="file:/usr/include/signal.h">signal.h</a>&gt;</b>

       <b>typedef</b> <b>void</b> <b>(*sighandler_t)(int);</b>

       <b>sighandler_t</b> <b>signal(int</b> <u>signum</u><b>,</b> <b>sighandler_t</b> <u>handler</u><b>);</b>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>WARNING</b>:  the  behavior  of <b>signal</b>() varies across UNIX versions, and has also varied historically across
       different versions of Linux.  <b>Avoid</b> <b>its</b> <b>use</b>: use <b><a href="../man2/sigaction.2.html">sigaction</a></b>(2) instead.  See <u>Portability</u> below.

       <b>signal</b>() sets the disposition of the signal <u>signum</u> to <u>handler</u>, which is either <b>SIG_IGN</b>, <b>SIG_DFL</b>,  or  the
       address of a programmer-defined function (a "signal handler").

       If the signal <u>signum</u> is delivered to the process, then one of the following happens:

       *  If the disposition is set to <b>SIG_IGN</b>, then the signal is ignored.

       *  If  the  disposition  is  set  to  <b>SIG_DFL</b>,  then  the  default action associated with the signal (see
          <b><a href="../man7/signal.7.html">signal</a></b>(7)) occurs.

       *  If the disposition is set to a function, then first either the disposition is reset to <b>SIG_DFL</b>, or the
          signal is blocked (see <u>Portability</u> below), and then  <u>handler</u>  is  called  with  argument  <u>signum</u>.   If
          invocation  of  the  handler caused the signal to be blocked, then the signal is unblocked upon return
          from the handler.

       The signals <b>SIGKILL</b> and <b>SIGSTOP</b> cannot be caught or ignored.

</pre><h4><b>RETURN</b> <b>VALUE</b></h4><pre>
       <b>signal</b>() returns the previous value of the signal handler.  On failure, it returns <b>SIG_ERR</b>, and <u>errno</u>  is
       set to indicate the error.

</pre><h4><b>ERRORS</b></h4><pre>
       <b>EINVAL</b> <u>signum</u> is invalid.

</pre><h4><b>VERSIONS</b></h4><pre>
       The  use  of  <u>sighandler_t</u> is a GNU extension, exposed if <b>_GNU_SOURCE</b> is defined; glibc also defines (the
       BSD-derived) <u>sig_t</u> if <b>_BSD_SOURCE</b> (glibc 2.19 and earlier) or <b>_DEFAULT_SOURCE</b> (glibc 2.19 and  later)  is
       defined.  Without use of such a type, the declaration of <b>signal</b>() is the somewhat harder to read:

           <b>void</b> <b>(</b> <b>*</b><u>signal</u><b>(int</b> <u>signum</u><b>,</b> <b>void</b> <b>(*</b><u>handler</u><b>)(int))</b> <b>)</b> <b>(int);</b>

   <b>Portability</b>
       The  only portable use of <b>signal</b>() is to set a signal's disposition to <b>SIG_DFL</b> or <b>SIG_IGN</b>.  The semantics
       when using <b>signal</b>() to establish a signal handler vary across systems  (and  POSIX.1  explicitly  permits
       this variation); <b>do</b> <b>not</b> <b>use</b> <b>it</b> <b>for</b> <b>this</b> <b>purpose.</b>

       POSIX.1  solved  the  portability mess by specifying <b><a href="../man2/sigaction.2.html">sigaction</a></b>(2), which provides explicit control of the
       semantics when a signal handler is invoked; use that interface instead of <b>signal</b>().

</pre><h4><b>STANDARDS</b></h4><pre>
       C11, POSIX.1-2008.

</pre><h4><b>HISTORY</b></h4><pre>
       C89, POSIX.1-2001.

       In the original UNIX systems, when a handler that was established  using  <b>signal</b>()  was  invoked  by  the
       delivery  of  a  signal,  the disposition of the signal would be reset to <b>SIG_DFL</b>, and the system did not
       block delivery of further instances of the signal.  This is equivalent to calling <b><a href="../man2/sigaction.2.html">sigaction</a></b>(2)  with  the
       following flags:

           sa.sa_flags = SA_RESETHAND | SA_NODEFER;

       System V  also provides these semantics for <b>signal</b>().  This was bad because the signal might be delivered
       again before the handler had a chance to reestablish itself.  Furthermore, rapid deliveries of  the  same
       signal could result in recursive invocations of the handler.

       BSD  improved  on  this  situation, but unfortunately also changed the semantics of the existing <b>signal</b>()
       interface while doing so.  On BSD, when a signal handler is invoked, the signal disposition is not reset,
       and further instances of the signal are blocked from being delivered  while  the  handler  is  executing.
       Furthermore, certain blocking system calls are automatically restarted if interrupted by a signal handler
       (see <b><a href="../man7/signal.7.html">signal</a></b>(7)).  The BSD semantics are equivalent to calling <b><a href="../man2/sigaction.2.html">sigaction</a></b>(2) with the following flags:

           sa.sa_flags = SA_RESTART;

       The situation on Linux is as follows:

       •  The kernel's <b>signal</b>() system call provides System V semantics.

       •  By  default,  in  glibc  2  and later, the <b>signal</b>() wrapper function does not invoke the kernel system
          call.  Instead, it calls <b><a href="../man2/sigaction.2.html">sigaction</a></b>(2) using flags that supply BSD semantics.  This default behavior is
          provided as long as a suitable feature test macro is defined: <b>_BSD_SOURCE</b> on glibc 2.19 and earlier or
          <b>_DEFAULT_SOURCE</b>  in  glibc  2.19  and  later.   (By   default,   these   macros   are   defined;   see
          <b><a href="../man7/feature_test_macros.7.html">feature_test_macros</a></b>(7)  for  details.)   If  such  a  feature test macro is not defined, then <b>signal</b>()
          provides System V semantics.

</pre><h4><b>NOTES</b></h4><pre>
       The effects of <b>signal</b>() in a multithreaded process are unspecified.

       According to POSIX, the behavior of a process is undefined after it ignores a <b>SIGFPE</b>, <b>SIGILL</b>, or  <b>SIGSEGV</b>
       signal that was not generated by <b><a href="../man2/kill.2.html">kill</a></b>(2) or <b><a href="../man3/raise.3.html">raise</a></b>(3).  Integer division by zero has undefined result.  On
       some  architectures it will generate a <b>SIGFPE</b> signal.  (Also dividing the most negative integer by -1 may
       generate <b>SIGFPE</b>.)  Ignoring this signal might lead to an endless loop.

       See <b><a href="../man2/sigaction.2.html">sigaction</a></b>(2) for details on what happens when the disposition <b>SIGCHLD</b> is set to <b>SIG_IGN</b>.

       See <b><a href="../man7/signal-safety.7.html">signal-safety</a></b>(7) for a list of the async-signal-safe functions that can be safely called from  inside
       a signal handler.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man1/kill.1.html">kill</a></b>(1),   <b><a href="../man2/alarm.2.html">alarm</a></b>(2),   <b><a href="../man2/kill.2.html">kill</a></b>(2),   <b><a href="../man2/pause.2.html">pause</a></b>(2),  <b><a href="../man2/sigaction.2.html">sigaction</a></b>(2),  <b><a href="../man2/signalfd.2.html">signalfd</a></b>(2),  <b><a href="../man2/sigpending.2.html">sigpending</a></b>(2),  <b><a href="../man2/sigprocmask.2.html">sigprocmask</a></b>(2),
       <b><a href="../man2/sigsuspend.2.html">sigsuspend</a></b>(2), <b><a href="../man3/bsd_signal.3.html">bsd_signal</a></b>(3), <b><a href="../man3/killpg.3.html">killpg</a></b>(3), <b><a href="../man3/raise.3.html">raise</a></b>(3), <b><a href="../man3/siginterrupt.3.html">siginterrupt</a></b>(3), <b><a href="../man3/sigqueue.3.html">sigqueue</a></b>(3), <b><a href="../man3/sigsetops.3.html">sigsetops</a></b>(3), <b><a href="../man3/sigvec.3.html">sigvec</a></b>(3),
       <b><a href="../man3/sysv_signal.3.html">sysv_signal</a></b>(3), <b><a href="../man7/signal.7.html">signal</a></b>(7)

Linux man-pages 6.9.1                              2024-05-02                                          <u><a href="../man2/signal.2.html">signal</a></u>(2)
</pre>
 </div>
</div></section>
</div>
</body>
</html>