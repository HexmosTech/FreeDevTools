<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>sigwaitinfo, sigtimedwait, rt_sigtimedwait - synchronously wait for queued signals</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/manpages-dev">manpages-dev_6.9.1-1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       sigwaitinfo, sigtimedwait, rt_sigtimedwait - synchronously wait for queued signals

</pre><h4><b>LIBRARY</b></h4><pre>
       Standard C library (<u>libc</u>, <u>-lc</u>)

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>#include</b> <b>&lt;<a href="file:/usr/include/signal.h">signal.h</a>&gt;</b>

       <b>int</b> <b>sigwaitinfo(const</b> <b>sigset_t</b> <b>*restrict</b> <u>set</u><b>,</b>
                       <b>siginfo_t</b> <b>*_Nullable</b> <b>restrict</b> <u>info</u><b>);</b>
       <b>int</b> <b>sigtimedwait(const</b> <b>sigset_t</b> <b>*restrict</b> <u>set</u><b>,</b>
                       <b>siginfo_t</b> <b>*_Nullable</b> <b>restrict</b> <u>info</u><b>,</b>
                       <b>const</b> <b>struct</b> <b>timespec</b> <b>*restrict</b> <u>timeout</u><b>);</b>

   Feature Test Macro Requirements for glibc (see <b><a href="../man7/feature_test_macros.7.html">feature_test_macros</a></b>(7)):

       <b>sigwaitinfo</b>(), <b>sigtimedwait</b>():
           _POSIX_C_SOURCE &gt;= 199309L

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>sigwaitinfo</b>() suspends execution of the calling thread until one of the signals in <u>set</u> is pending (If one
       of the signals in <u>set</u> is already pending for the calling thread, <b>sigwaitinfo</b>() will return immediately.)

       <b>sigwaitinfo</b>()  removes  the  signal  from the set of pending signals and returns the signal number as its
       function result.  If the <u>info</u> argument is not NULL, then the buffer that it points to is used to return a
       structure of type <u>siginfo_t</u> (see <b><a href="../man2/sigaction.2.html">sigaction</a></b>(2)) containing information about the signal.

       If multiple signals in <u>set</u> are pending for the caller, the signal that is retrieved by  <b>sigwaitinfo</b>()  is
       determined according to the usual ordering rules; see <b><a href="../man7/signal.7.html">signal</a></b>(7) for further details.

       <b>sigtimedwait</b>()  operates  in  exactly  the  same  way  as  <b>sigwaitinfo</b>() except that it has an additional
       argument, <u>timeout</u>, which specifies the interval for which the thread is suspended waiting for  a  signal.
       (This interval will be rounded up to the system clock granularity, and kernel scheduling delays mean that
       the interval may overrun by a small amount.)  This argument is a <b><a href="../man3/timespec.3.html">timespec</a></b>(3) structure.

       If  both  fields  of  this  structure  are  specified  as  0, a poll is performed: <b>sigtimedwait</b>() returns
       immediately, either with information about a signal that was pending for the caller, or with an error  if
       none of the signals in <u>set</u> was pending.

</pre><h4><b>RETURN</b> <b>VALUE</b></h4><pre>
       On  success,  both  <b>sigwaitinfo</b>()  and  <b>sigtimedwait</b>() return a signal number (i.e., a value greater than
       zero).  On failure both calls return -1, with <u>errno</u> set to indicate the error.

</pre><h4><b>ERRORS</b></h4><pre>
       <b>EAGAIN</b> No signal in <u>set</u> became pending within the <u>timeout</u> period specified to <b>sigtimedwait</b>().

       <b>EINTR</b>  The wait was interrupted by a signal handler; see <b><a href="../man7/signal.7.html">signal</a></b>(7).  (This handler was for a signal other
              than one of those in <u>set</u>.)

       <b>EINVAL</b> <u>timeout</u> was invalid.

</pre><h4><b>VERSIONS</b></h4><pre>
   <b>C</b> <b>library/kernel</b> <b>differences</b>
       On Linux, <b>sigwaitinfo</b>() is a library function implemented on top of <b>sigtimedwait</b>().

       The glibc wrapper functions for <b>sigwaitinfo</b>() and <b>sigtimedwait</b>() silently ignore attempts to wait for the
       two real-time signals that are used internally by the NPTL threading  implementation.   See  <b><a href="../man7/nptl.7.html">nptl</a></b>(7)  for
       details.

       The original Linux system call was named <b>sigtimedwait</b>().  However, with the addition of real-time signals
       in  Linux  2.2,  the fixed-size, 32-bit <u>sigset_t</u> type supported by that system call was no longer fit for
       purpose.  Consequently, a new system call, <b>rt_sigtimedwait</b>(), was added to support an  enlarged  <u>sigset_t</u>
       type.   The new system call takes a fourth argument, <u>size_t</u> <u>sigsetsize</u>, which specifies the size in bytes
       of the signal set in <u>set</u>.  This argument is currently required to have the value <u>sizeof(sigset_t)</u> (or the
       error <b>EINVAL</b>  results).   The  glibc  <b>sigtimedwait</b>()  wrapper  function  hides  these  details  from  us,
       transparently calling <b>rt_sigtimedwait</b>() when the kernel provides it.

</pre><h4><b>STANDARDS</b></h4><pre>
       POSIX.1-2008.

</pre><h4><b>HISTORY</b></h4><pre>
       POSIX.1-2001.

</pre><h4><b>NOTES</b></h4><pre>
       In  normal  usage,  the  calling program blocks the signals in <u>set</u> via a prior call to <b><a href="../man2/sigprocmask.2.html">sigprocmask</a></b>(2) (so
       that the default disposition for these signals does not occur if they become pending  between  successive
       calls  to  <b>sigwaitinfo</b>()  or  <b>sigtimedwait</b>())  and  does  not establish handlers for these signals.  In a
       multithreaded program, the signal should be blocked in all threads, in order to prevent the signal  being
       treated  according  to  its  default  disposition in a thread other than the one calling <b>sigwaitinfo</b>() or
       <b>sigtimedwait</b>()).

       The set of signals that is pending for a given thread is the union of the set of signals that is  pending
       specifically  for  that  thread  and  the  set of signals that is pending for the process as a whole (see
       <b><a href="../man7/signal.7.html">signal</a></b>(7)).

       Attempts to wait for <b>SIGKILL</b> and <b>SIGSTOP</b> are silently ignored.

       If multiple threads of a process  are  blocked  waiting  for  the  same  signal(s)  in  <b>sigwaitinfo</b>()  or
       <b>sigtimedwait</b>(),  then  exactly  one of the threads will actually receive the signal if it becomes pending
       for the process as a whole; which of the threads receives the signal is indeterminate.

       <b>sigwaitinfo</b>() or <b>sigtimedwait</b>(), can't be used to receive signals that are synchronously generated,  such
       as  the  <b>SIGSEGV</b>  signal  that results from accessing an invalid memory address or the <b>SIGFPE</b> signal that
       results from an arithmetic error.  Such signals can be caught only via signal handler.

       POSIX leaves the meaning of a  NULL  value  for  the  <u>timeout</u>  argument  of  <b>sigtimedwait</b>()  unspecified,
       permitting  the possibility that this has the same meaning as a call to <b>sigwaitinfo</b>(), and indeed this is
       what is done on Linux.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man2/kill.2.html">kill</a></b>(2), <b><a href="../man2/sigaction.2.html">sigaction</a></b>(2), <b><a href="../man2/signal.2.html">signal</a></b>(2), <b><a href="../man2/signalfd.2.html">signalfd</a></b>(2), <b><a href="../man2/sigpending.2.html">sigpending</a></b>(2), <b><a href="../man2/sigprocmask.2.html">sigprocmask</a></b>(2), <b><a href="../man3/sigqueue.3.html">sigqueue</a></b>(3),  <b><a href="../man3/sigsetops.3.html">sigsetops</a></b>(3),
       <b><a href="../man3/sigwait.3.html">sigwait</a></b>(3), <b><a href="../man3/timespec.3.html">timespec</a></b>(3), <b><a href="../man7/signal.7.html">signal</a></b>(7), <b><a href="../man7/time.7.html">time</a></b>(7)

Linux man-pages 6.9.1                              2024-05-02                                     <u><a href="../man2/sigwaitinfo.2.html">sigwaitinfo</a></u>(2)
</pre>
 </div>
</div></section>
</div>
</body>
</html>