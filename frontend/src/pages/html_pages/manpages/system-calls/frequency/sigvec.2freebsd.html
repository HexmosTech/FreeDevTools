<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>sigvec — software signal facilities</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/freebsd-manpages">freebsd-manpages_12.2-2_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       sigvec — software signal facilities

</pre><h4><b>LIBRARY</b></h4><pre>
       Standard C Library (libc, -lc)

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>#include</b> <b>&lt;<a href="file:/usr/include/signal.h">signal.h</a>&gt;</b>

       struct sigvec {
               void     (*sv_handler)();
               int      sv_mask;
               int      sv_flags;
       };

       <u>int</u>
       <b>sigvec</b>(<u>int</u> <u>sig</u>, <u>struct</u> <u>sigvec</u> <u>*vec</u>, <u>struct</u> <u>sigvec</u> <u>*ovec</u>);

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>This</b> <b>interface</b> <b>is</b> <b>made</b> <b>obsolete</b> <b>by</b> <u>sigaction</u>(<b>2</b>)<b>.</b>

       The  system  defines  a set of signals that may be delivered to a process.  Signal delivery resembles the
       occurrence of a hardware interrupt: the signal is blocked from further occurrence,  the  current  process
       context  is  saved,  and  a  new  one  is  built.   A  process may specify a <u>handler</u> to which a signal is
       delivered, or specify that a signal is to be <u>blocked</u> or <u>ignored</u>.  A  process  may  also  specify  that  a
       default  action  is to be taken by the system when a signal occurs.  Normally, signal handlers execute on
       the current stack of the process.  This may be changed, on a per-handler basis, so that signals are taken
       on a special <u>signal</u> <u>stack</u>.

       All signals have the same <u>priority</u>.  Signal routines execute with the signal that caused their invocation
       <u>blocked</u>, but other signals may yet occur.  A global <u>signal</u> <u>mask</u> defines  the  set  of  signals  currently
       blocked from delivery to a process.  The signal mask for a process is initialized from that of its parent
       (normally  0).  It may be changed with a <u><a href="../man2/sigblock.2.html">sigblock</a></u>(2) or <u><a href="../man2/sigsetmask.2.html">sigsetmask</a></u>(2) call, or when a signal is delivered
       to the process.

       When a signal condition arises for a process, the signal is added to a set of  signals  pending  for  the
       process.   If  the  signal  is  not currently <u>blocked</u> by the process then it is delivered to the process.
       When a signal is delivered, the current state of the process is saved, a new signal  mask  is  calculated
       (as  described below), and the signal handler is invoked.  The call to the handler is arranged so that if
       the signal handling routine returns normally the process will resume execution in the context from before
       the signal's delivery.  If the process wishes to resume in a different context, then it must  arrange  to
       restore the previous context itself.

       When  a  signal is delivered to a process a new signal mask is installed for the duration of the process'
       signal handler (or until a <u><a href="../man2/sigblock.2.html">sigblock</a></u>(2) or <u><a href="../man2/sigsetmask.2.html">sigsetmask</a></u>(2) call is made).  This mask is formed by taking the
       current signal mask, adding the signal to be delivered, and <u>or</u>'ing in the signal mask associated with the
       handler to be invoked.

       The <b>sigvec</b>() function assigns a handler for a specific signal.   If  <u>vec</u>  is  non-zero,  it  specifies  a
       handler routine and mask to be used when delivering the specified signal.  Further, if the SV_ONSTACK bit
       is  set  in <u>sv_flags</u>, the system will deliver the signal to the process on a <u>signal</u> <u>stack</u>, specified with
       <u><a href="../man2/sigaltstack.2.html">sigaltstack</a></u>(2).  If <u>ovec</u> is non-zero, the previous handling information for the signal is returned to the
       user.

       The following is a list of all signals with names as in the include file &lt;<u>signal.h</u>&gt;:

       <b>NAME</b>            <b>Default</b> <b>Action</b>          <b>Description</b>
       SIGHUP          terminate process       terminal line hangup
       SIGINT          terminate process       interrupt program
       SIGQUIT         create core image       quit program
       SIGILL          create core image       illegal instruction
       SIGTRAP         create core image       trace trap
       SIGABRT         create core image       <u><a href="../man3/abort.3.html">abort</a></u>(3) call (formerly SIGIOT)
       SIGEMT          create core image       emulate instruction executed
       SIGFPE          create core image       floating-point exception
       SIGKILL         terminate process       kill program
       SIGBUS          create core image       bus error
       SIGSEGV         create core image       segmentation violation
       SIGSYS          create core image       non-existent system call invoked
       SIGPIPE         terminate process       write on a pipe with no reader
       SIGALRM         terminate process       real-time timer expired
       SIGTERM         terminate process       software termination signal
       SIGURG          discard signal          urgent condition present on socket
       SIGSTOP         stop process            stop (cannot be caught or ignored)
       SIGTSTP         stop process            stop signal generated from keyboard
       SIGCONT         discard signal          continue after stop
       SIGCHLD         discard signal          child status has changed
       SIGTTIN         stop process            background read attempted from control terminal
       SIGTTOU         stop process            background write attempted to control terminal
       SIGIO           discard signal          I/O is possible on a descriptor (see <u><a href="../man2/fcntl.2.html">fcntl</a></u>(2))
       SIGXCPU         terminate process       cpu time limit exceeded (see <u><a href="../man2/setrlimit.2.html">setrlimit</a></u>(2))
       SIGXFSZ         terminate process       file size limit exceeded (see <u><a href="../man2/setrlimit.2.html">setrlimit</a></u>(2))
       SIGVTALRM       terminate process       virtual time alarm (see <u><a href="../man2/setitimer.2.html">setitimer</a></u>(2))
       SIGPROF         terminate process       profiling timer alarm (see <u><a href="../man2/setitimer.2.html">setitimer</a></u>(2))
       SIGWINCH        discard signal          Window size change
       SIGINFO         discard signal          status request from keyboard
       SIGUSR1         terminate process       User defined signal 1
       SIGUSR2         terminate process       User defined signal 2

       Once a signal handler is installed, it remains installed until another  <b>sigvec</b>()  call  is  made,  or  an
       <u><a href="../man2/execve.2.html">execve</a></u>(2)  is performed.  A signal-specific default action may be reset by setting <u>sv_handler</u> to SIG_DFL.
       The defaults are process termination, possibly with core  dump;  no  action;  stopping  the  process;  or
       continuing  the  process.   See the above signal list for each signal's default action.  If <u>sv_handler</u> is
       SIG_IGN current and pending instances of the signal are ignored and discarded.

       If a signal is caught during the system calls listed below, the call is normally restarted.  The call can
       be forced to terminate prematurely with an  EINTR  error  return  by  setting  the  SV_INTERRUPT  bit  in
       <u>sv_flags</u>.   The  affected  system calls include <u><a href="../man2/read.2.html">read</a></u>(2), <u><a href="../man2/write.2.html">write</a></u>(2), <u><a href="../man2/sendto.2.html">sendto</a></u>(2), <u><a href="../man2/recvfrom.2.html">recvfrom</a></u>(2), <u><a href="../man2/sendmsg.2.html">sendmsg</a></u>(2) and
       <u><a href="../man2/recvmsg.2.html">recvmsg</a></u>(2) on a communications channel or a slow device (such as a terminal, but not a regular file)  and
       during  a <u><a href="../man2/wait.2.html">wait</a></u>(2) or <u><a href="../man2/ioctl.2.html">ioctl</a></u>(2).  However, calls that have already committed are not restarted, but instead
       return a partial success (for example, a short read count).

       After a <u><a href="../man2/fork.2.html">fork</a></u>(2) or <u><a href="../man2/vfork.2.html">vfork</a></u>(2) all signals, the signal mask, the signal  stack,  and  the  restart/interrupt
       flags are inherited by the child.

       The  <u><a href="../man2/execve.2.html">execve</a></u>(2) system call reinstates the default action for all signals which were caught and resets all
       signals to be caught on the user stack.  Ignored signals remain ignored;  the  signal  mask  remains  the
       same; signals that interrupt system calls continue to do so.

</pre><h4><b>NOTES</b></h4><pre>
       The  mask  specified  in  <u>vec</u>  is  not allowed to block SIGKILL or SIGSTOP.  This is done silently by the
       system.

       The SV_INTERRUPT flag is not available in 4.2BSD, hence it should not be used if  backward  compatibility
       is needed.

</pre><h4><b>RETURN</b> <b>VALUES</b></h4><pre>
       The  <b>sigvec</b>()  function  returns  the  value  0 if successful; otherwise the value -1 is returned and the
       global variable <u>errno</u> is set to indicate the error.

</pre><h4><b>EXAMPLES</b></h4><pre>
       On the VAX-11 The handler routine can be declared:

             void handler(sig, code, scp)
             int sig, code;
             struct sigcontext *scp;

       Here <u>sig</u> is the signal number, into which the hardware faults and traps are mapped as defined below.  The
       <u>code</u> argument is either a constant as given below or, for compatibility mode faults, the code provided by
       the hardware (Compatibility mode faults are distinguished from the other SIGILL traps  by  having  PSL_CM
       set in the psl).  The <u>scp</u> argument is a pointer to the <u>sigcontext</u> structure (defined in &lt;<u>signal.h</u>&gt;), used
       to restore the context from before the signal.

</pre><h4><b>ERRORS</b></h4><pre>
       The  <b>sigvec</b>()  function  will  fail  and  no new signal handler will be installed if one of the following
       occurs:

       [EFAULT]           Either <u>vec</u> or <u>ovec</u> points to memory that is not a valid part of  the  process  address
                          space.

       [EINVAL]           The <u>sig</u> argument is not a valid signal number.

       [EINVAL]           An attempt is made to ignore or supply a handler for SIGKILL or SIGSTOP.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <u><a href="../man1/kill.1.html">kill</a></u>(1),  <u><a href="../man2/kill.2.html">kill</a></u>(2),  <u><a href="../man2/ptrace.2.html">ptrace</a></u>(2),  <u><a href="../man2/sigaction.2.html">sigaction</a></u>(2),  <u><a href="../man2/sigaltstack.2.html">sigaltstack</a></u>(2),  <u><a href="../man2/sigblock.2.html">sigblock</a></u>(2), <u><a href="../man2/sigpause.2.html">sigpause</a></u>(2), <u><a href="../man2/sigprocmask.2.html">sigprocmask</a></u>(2),
       <u><a href="../man2/sigsetmask.2.html">sigsetmask</a></u>(2), <u><a href="../man2/sigsuspend.2.html">sigsuspend</a></u>(2), <u><a href="../man3/setjmp.3.html">setjmp</a></u>(3), <u><a href="../man3/siginterrupt.3.html">siginterrupt</a></u>(3), <u><a href="../man3/signal.3.html">signal</a></u>(3), <u><a href="../man3/sigsetops.3.html">sigsetops</a></u>(3), <u><a href="../man4/tty.4.html">tty</a></u>(4)

</pre><h4><b>BUGS</b></h4><pre>
       This manual page is still confusing.

Debian                                           April 19, 1994                                        <u><a href="../man2/SIGVEC.2.html">SIGVEC</a></u>(2)
</pre>
 </div>
</div></section>
</div>
</body>
</html>