<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>send-file -  (web)</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/golf">golf_601.4.41-1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       send-file -  (web)

</pre><h4><b>PURPOSE</b></h4><pre>
       Send file to client.

</pre><h4><b>SYNTAX</b></h4><pre>
           send-file &lt;file&gt; [ headers \
               [ content-type &lt;content type&gt; ] \
               [ download [ &lt;download&gt; ] ] \
               [ etag [ &lt;etag&gt; ] ] \
               [ file-name &lt;file name&gt; ] \
               [ ( cache-control &lt;cache control&gt; ) | no-cache ] \
               [ status-id &lt;status id&gt; ] \
               [ status-text &lt;status text&gt; ] \
               [ custom &lt;header name&gt;=&lt;header value&gt; [ , ... ] ]
               ]

</pre><h4><b>DESCRIPTION</b></h4><pre>
       When a client requests download of a file, you can use send-file to provide &lt;file&gt;, which is its location
       on the server, and is either a full path or relative to the application home directory (see <b>directories</b>).
       Note  however  that you can never use dot-dot (i.e. "..") in &lt;file&gt; - this is a security measure to avoid
       path-traversal attacks. Thus the file name should never have ".." in it, and if it does, the program will
       <b>error</b> <b>out</b>.

       <b>HEADERS</b>

       The following are subclauses that allow setting any custom header:

           • &lt;content type&gt; is content type (such as "text/html" or "image/jpg" etc.) If you are sending a  file
           to  a client for download and you don't know its content type, you can use "application/octet-stream"
           for a generic binary file.

           • If "download" is used without boolean variable &lt;download&gt;, or if &lt;download&gt; evaluates to true, then
           the file is sent to a client for downloading - otherwise the default is to display file in client.

           • &lt;file name&gt; is the name of the file being sent to a client. This is not the local file name - it is
           the file name that client will use for its own purposes.

           • &lt;cache control&gt; is the cache control HTTP header. "no-cache" instructs the  client  not  to  cache.
           Only one of "cache-control" and "no-cache" can be used. An example of &lt;cache control&gt;:

               send-file "somepic.jpg" headers cache-control "max-age: 3600"

           •  If  "etag"  is  used  without boolean variable &lt;etag&gt;, or if &lt;etag&gt; evaluates to true, then "ETAG"
           header will be generated (a timestamp) and included, otherwise it is not. The time stamp is  of  last
           modification  date  of the file (and typically used to cache a file on client if it hasn't changed on
           the server). "etag" is useful to let the client know to download the file  only  once  if  it  hasn't
           changed, thus saving network and computing resources. ETAG header is used only for <b>send-file</b>.

           •  &lt;status  id&gt; and &lt;status text&gt; are status settings for the response, as strings (such as "425" for
           "status-id" and "Too early" for "status-text").

           • To set any type of generic HTTP header, use "custom" subclause, where  &lt;header  name&gt;  and  &lt;header
           value&gt;  represent  the  name and value of a single header. Multiple headers are separated by a comma.
           There is no limit on the maximum number of such headers, other than of the underyling HTTP  protocol.
           You must not use "custom" to set headers already set elsewhere (such as "etag" for instance), as that
           may cause unpredictable behavior. For instance this sets two custom headers:

               out-header use custom "CustomOption3"="CustomValue3", "Status"="418 I'm a teapot"

           "custom" subclause lets you use any custom headers that exist today or may be added in the future, as
           well as any headers of your own design.

       <b>COOKIES</b>

       Any cookies set prior to send-file (see <b>set-cookie</b> and <b>delete-cookie</b>) will be sent along with the file to
       the web client.

</pre><h4><b>EXAMPLES</b></h4><pre>
       To send a document back to the browser and show it (i.e. display):

           send-file "/home/golf/files/myfile.jpg" headers content-type "image/jpg"

       An example to display a PDF document:

           set-string pdf_doc="/home/mydir/myfile.pdf"
           send-file pdf_doc headers content-type "application/pdf"

       If  you  want to send a file for download (with the dialog), use "download" clause. This way the document
       is not displayed but the "Save As" (or similar)  window  shows  up,  for  example  to  download  a  "PDF"
       document:

           send-file "/home/user/file.pdf" headers download content-type "application/pdf"

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
        Web

       <b>call-web</b> <b>out-header</b> <b>send-file</b> <b>silent-header</b> See all <b>documentation</b>

$DATE                                               $VERSION                                           <u><a href="../man2gg/GOLF.2gg.html">GOLF</a></u>(2gg)
</pre>
 </div>
</div></section>
</div>
</body>
</html>