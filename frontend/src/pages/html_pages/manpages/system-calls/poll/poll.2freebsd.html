<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>poll — synchronous I/O multiplexing</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/freebsd-manpages">freebsd-manpages_12.2-2_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       poll — synchronous I/O multiplexing

</pre><h4><b>LIBRARY</b></h4><pre>
       Standard C Library (libc, -lc)

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>#include</b> <b>&lt;<a href="file:/usr/include/poll.h">poll.h</a>&gt;</b>

       <u>int</u>
       <b>poll</b>(<u>struct</u> <u>pollfd</u> <u>fds[]</u>, <u>nfds_t</u> <u>nfds</u>, <u>int</u> <u>timeout</u>);

       <u>int</u>
       <b>ppoll</b>(<u>struct</u> <u>pollfd</u> <u>fds[]</u>,             <u>nfds_t</u> <u>nfds</u>,             <u>const</u> <u>struct</u> <u>timespec</u> <u>*</u> <u>restrict</u> <u>timeout</u>,
           <u>const</u> <u>sigset_t</u> <u>*</u> <u>restrict</u> <u>newsigmask</u>);

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The <b>poll</b>() system call examines a set of file descriptors to see if some of them are ready for I/O.   The
       <u>fds</u>  argument  is  a  pointer to an array of pollfd structures as defined in &lt;<u>poll.h</u>&gt; (shown below).  The
       <u>nfds</u> argument determines the size of the <u>fds</u> array.

       struct pollfd {
           int    fd;       /* file descriptor */
           short  events;   /* events to look for */
           short  revents;  /* events returned */
       };

       The fields of <u>struct</u> <u>pollfd</u> are as follows:

       fd          File descriptor to poll.  If fd is equal to -1 then <u>revents</u> is cleared  (set  to  zero),  and
                   that pollfd is not checked.

       events      Events to poll for.  (See below.)

       revents     Events which may occur.  (See below.)

       The event bitmasks in <u>events</u> and <u>revents</u> have the following bits:

       POLLIN         Data other than high priority data may be read without blocking.

       POLLRDNORM     Normal data may be read without blocking.

       POLLRDBAND     Data with a non-zero priority may be read without blocking.

       POLLPRI        High priority data may be read without blocking.

       POLLOUT

       POLLWRNORM     Normal data may be written without blocking.

       POLLWRBAND     Data with a non-zero priority may be written without blocking.

       POLLERR        An  exceptional  condition  has  occurred  on  the  device or socket.  This flag is always
                      checked, even if not present in the <u>events</u> bitmask.

       POLLHUP        The device or socket has been disconnected.  This flag is  always  checked,  even  if  not
                      present  in  the <u>events</u> bitmask.  Note that POLLHUP and POLLOUT should never be present in
                      the <u>revents</u> bitmask at the same time.

       POLLNVAL       The file  descriptor  is  not  open,  or  in  capability  mode  the  file  descriptor  has
                      insufficient  rights.   This  flag  is  always  checked, even if not present in the <u>events</u>
                      bitmask.

       If <u>timeout</u> is neither zero nor INFTIM (-1), it  specifies  a  maximum  interval  to  wait  for  any  file
       descriptor  to  become  ready, in milliseconds.  If <u>timeout</u> is INFTIM (-1), the poll blocks indefinitely.
       If <u>timeout</u> is zero, then <b>poll</b>() will return without blocking.

       The <b>ppoll</b>() system call, unlike <b>poll</b>(), is used to safely wait until either a  set  of  file  descriptors
       becomes  ready  or  until  a signal is caught.  The <u>fds</u> and <u>nfds</u> arguments are identical to the analogous
       arguments of <b>poll</b>().  The <u>timeout</u> argument in <b>ppoll</b>() points to a <u>const</u> <u>struct</u> <u>timespec</u> which is  defined
       in  &lt;<u>sys/timespec.h</u>&gt;  (shown  below)  rather  than the <u>int</u> <u>timeout</u> used by <b>poll</b>().  A null pointer may be
       passed to indicate that <b>ppoll</b>() should wait indefinitely.  Finally, <u>newsigmask</u> specifies  a  signal  mask
       which is set while waiting for input.  When <b>ppoll</b>() returns, the original signal mask is restored.

       struct timespec {
               time_t  tv_sec;         /* seconds */
               long    tv_nsec;        /* and nanoseconds */
       };

</pre><h4><b>RETURN</b> <b>VALUES</b></h4><pre>
       The  <b>poll</b>()  system  call  returns  the  number  of descriptors that are ready for I/O, or -1 if an error
       occurred.  If the time limit expires, <b>poll</b>() returns 0.  If <b>poll</b>() returns with an error,  including  one
       due to an interrupted system call, the <u>fds</u> array will be unmodified.

</pre><h4><b>COMPATIBILITY</b></h4><pre>
       This  implementation differs from the historical one in that a given file descriptor may not cause <b>poll</b>()
       to return with an error.  In cases where this would have happened in the historical implementation  (e.g.
       trying  to  poll  a <u><a href="../man2/revoke.2.html">revoke</a></u>(2)ed descriptor), this implementation instead copies the <u>events</u> bitmask to the
       <u>revents</u> bitmask.  Attempting to perform I/O on this descriptor will then return an error.  This behaviour
       is believed to be more useful.

</pre><h4><b>ERRORS</b></h4><pre>
       An error return from <b>poll</b>() indicates:

       [EFAULT]           The <u>fds</u> argument points outside the process's allocated address space.

       [EINTR]            A signal was delivered before the time limit expired and before any  of  the  selected
                          events occurred.

       [EINVAL]           The specified time limit is invalid. One of its components is negative or too large.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <u><a href="../man2/accept.2.html">accept</a></u>(2), <u><a href="../man2/connect.2.html">connect</a></u>(2), <u><a href="../man2/kqueue.2.html">kqueue</a></u>(2), <u><a href="../man2/pselect.2.html">pselect</a></u>(2), <u><a href="../man2/read.2.html">read</a></u>(2), <u><a href="../man2/recv.2.html">recv</a></u>(2), <u><a href="../man2/select.2.html">select</a></u>(2), <u><a href="../man2/send.2.html">send</a></u>(2), <u><a href="../man2/write.2.html">write</a></u>(2)

</pre><h4><b>STANDARDS</b></h4><pre>
       The <b>poll</b>() function conforms to IEEE Std 1003.1-2001 (“POSIX.1”).  The <b>ppoll</b>() is not specified by POSIX.

</pre><h4><b>HISTORY</b></h4><pre>
       The  <b>poll</b>() function appeared in AT&amp;T System V UNIX.  This manual page and the core of the implementation
       was taken from NetBSD.  The <b>ppoll</b>() function first appeared in FreeBSD 11.0

</pre><h4><b>BUGS</b></h4><pre>
       The distinction between some of the fields in the <u>events</u>  and  <u>revents</u>  bitmasks  is  really  not  useful
       without STREAMS.  The fields are defined for compatibility with existing software.

Debian                                          February 27, 2019                                        <u><a href="../man2/POLL.2.html">POLL</a></u>(2)
</pre>
 </div>
</div></section>
</div>
</body>
</html>