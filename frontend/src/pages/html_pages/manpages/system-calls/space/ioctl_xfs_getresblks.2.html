<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ioctl_xfs_getresblks - query and set XFS free space reservation information</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/xfslibs-dev">xfslibs-dev_6.13.0-2ubuntu1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       ioctl_xfs_getresblks - query and set XFS free space reservation information

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>#include</b> <b>&lt;xfs/xfs_fs.h&gt;</b>

       <b>int</b> <b>ioctl(int</b> <u>fd</u><b>,</b> <b>XFS_IOC_GET_RESBLKS,</b> <b>struct</b> <b>xfs_fsop_resblks</b> <b>*</b><u>arg</u><b>);</b>
       <b>int</b> <b>ioctl(int</b> <u>fd</u><b>,</b> <b>XFS_IOC_SET_RESBLKS,</b> <b>struct</b> <b>xfs_fsop_resblks</b> <b>*</b><u>arg</u><b>);</b>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       Query  or  set  the free space reservation information.  These blocks are reserved by the filesystem as a
       final attempt  to  prevent  metadata  update  failures  due  to  insufficient  space.   Only  the  system
       administrator can use these ioctls, because overriding the defaults is extremely dangerous.

       This functionality is intended only for use by XFS filesystem developers.

       The reservation information is conveyed in a structure of the following form:

           struct xfs_fsop_resblks {
                __u64  resblks;
                __u64  resblks_avail;
           };

       <u>resblks</u> is the number of blocks that the filesystem will try to maintain to prevent critical out of space
       situations.

       <u>resblks_avail</u> is the number of reserved blocks remaining.

</pre><h4><b>RETURN</b> <b>VALUE</b></h4><pre>
       On error, -1 is returned, and <u>errno</u> is set to indicate the error.

</pre><h4><b>ERRORS</b></h4><pre>
       Error codes can be one of, but are not limited to, the following:

       <b>EFSBADCRC</b>
              Metadata checksum validation failed while performing the query.

       <b>EFSCORRUPTED</b>
              Metadata corruption was encountered while performing the query.

       <b>EINVAL</b> The specified allocation group number is not valid for this filesystem.

       <b>EIO</b>    An I/O error was encountered while performing the query.

       <b>EPERM</b>  Caller does not have permission to call this ioctl.

</pre><h4><b>CONFORMING</b> <b>TO</b></h4><pre>
       This API is specific to XFS filesystem on the Linux kernel.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man2/ioctl.2.html">ioctl</a></b>(2)

XFS                                                2019-06-17                            <u><a href="../man2/IOCTL-XFS-GETRESBLKS.2.html">IOCTL-XFS-GETRESBLKS</a></u>(2)
</pre>
 </div>
</div></section>
</div>
</body>
</html>