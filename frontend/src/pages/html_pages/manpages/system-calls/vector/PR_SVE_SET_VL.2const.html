<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PR_SVE_SET_VL - set the thread's SVE vector length</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/manpages-dev">manpages-dev_6.9.1-1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       PR_SVE_SET_VL - set the thread's SVE vector length

</pre><h4><b>LIBRARY</b></h4><pre>
       Standard C library (<u>libc</u>, <u>-lc</u>)

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>#include</b> <b>&lt;<a href="file:/usr/include/linux/prctl.h">linux/prctl.h</a>&gt;</b>  /* Definition of <b>PR_*</b> constants */
       <b>#include</b> <b>&lt;sys/prctl.h&gt;</b>

       <b>int</b> <b>prctl(PR_SVE_SET_VL,</b> <b>unsigned</b> <b>long</b> <u>val</u><b>);</b>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       Configure the thread's SVE vector length, as specified by <u>val</u>.

       The  bits  of  <u>val</u> corresponding to <b>PR_SVE_VL_LEN_MASK</b> must be set to the desired vector length in bytes.
       This is interpreted as an upper bound: the kernel will select the greatest available vector  length  that
       does   not   exceed   the   value   specified.    In   particular,   specifying  <b>SVE_VL_MAX</b>  (defined  in
       <u>&lt;asm/sigcontext.h&gt;)</u> for the <b>PR_SVE_VL_LEN_MASK</b> bits requests the maximum supported vector length.

       In addition, the other bits of <u>val</u> must be set to one of the following combinations of flags:

       <b>0L</b>     Perform the change immediately.  At the next <b><a href="../man2/execve.2.html">execve</a></b>(2) in the thread, the vector  length  will  be
              reset to the value configured in <u>/proc/sys/abi/sve_default_vector_length</u>.

       <b>PR_SVE_VL_INHERIT</b>
              Perform the change immediately.  Subsequent <b><a href="../man2/execve.2.html">execve</a></b>(2) calls will preserve the new vector length.

       <b>PR_SVE_SET_VL_ONEXEC</b>
              Defer  the change, so that it is performed at the next <b><a href="../man2/execve.2.html">execve</a></b>(2) in the thread.  Further <b><a href="../man2/execve.2.html">execve</a></b>(2)
              calls   will   reset   the   vector   length   to   the   value   configured   in   <u><a href="file:/proc/sys/abi/">/proc/sys/abi/</a></u>
              <u>sve_default_vector_length</u>.

       <b>PR_SVE_SET_VL_ONEXEC</b> <b>|</b> <b>PR_SVE_VL_INHERIT</b>
              Defer  the change, so that it is performed at the next <b><a href="../man2/execve.2.html">execve</a></b>(2) in the thread.  Further <b><a href="../man2/execve.2.html">execve</a></b>(2)
              calls will preserve the new vector length.

       In all cases, any previously pending deferred change is canceled.

       On  success,  a  nonnegative  value  is  returned  that  describes  the   <u>selected</u>   configuration.    If
       <b>PR_SVE_SET_VL_ONEXEC</b>  was included in <u>val</u>, then the configuration described by the return value will take
       effect at the next <b><a href="../man2/execve.2.html">execve</a></b>(2).  Otherwise, the configuration is already in effect when  the  <b>PR_SVE_SET_VL</b>
       call returns.  In either case, the value is encoded in the same way as the return value of <b>PR_SVE_GET_VL</b>.
       Note that there is no explicit flag in the return value corresponding to <b>PR_SVE_SET_VL_ONEXEC</b>.

       The configuration (including any pending deferred change) is inherited across <b><a href="../man2/fork.2.html">fork</a></b>(2) and <b><a href="../man2/clone.2.html">clone</a></b>(2).

</pre><h4><b>RETURN</b> <b>VALUE</b></h4><pre>
       On  success,  <b>PR_SVE_SET_VL</b> returns the nonnegative value described above.  On error, -1 is returned, and
       <u>errno</u> is set to indicate the error.

</pre><h4><b>ERRORS</b></h4><pre>
       <b>EINVAL</b> SVE is not available on this platform.

       <b>EINVAL</b> The value in the bits of <u>val</u> corresponding to <b>PR_SVE_VL_LEN_MASK</b> is outside the range [<b>SVE_VL_MIN</b>,
              <b>SVE_VL_MAX</b>] or is not a multiple of 16.

       <b>EINVAL</b> The other bits of <u>val</u> are invalid or unsupported.

</pre><h4><b>FILES</b></h4><pre>
       <u>/proc/sys/abi/sve_default_vector_length</u>

</pre><h4><b>STANDARDS</b></h4><pre>
       Linux.  arm64 only.

</pre><h4><b>HISTORY</b></h4><pre>
       Linux 4.15 (arm64).

</pre><h4><b>CAVEATS</b></h4><pre>
       Because  the  compiler  or  run-time  environment  may  be  using  SVE,  using  this  call  without   the
       <b>PR_SVE_SET_VL_ONEXEC</b>  flag may crash the calling process.  The conditions for using it safely are complex
       and system-dependent.  Don't use it unless you really know what you are doing.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man2/prctl.2.html">prctl</a></b>(2), <b><a href="../man2const/PR_SVE_GET_VL.2const.html">PR_SVE_GET_VL</a></b>(2const)

       For   more   information,    see    the    kernel    source    file    <u>Documentation/arm64/sve.rst</u>    (or
       <u>Documentation/arm64/sve.txt</u> before Linux 5.3).

Linux man-pages 6.9.1                              2024-06-02                              <u><a href="../man2const/PR_SVE_SET_VL.2const.html">PR_SVE_SET_VL</a></u>(2const)
</pre>
 </div>
</div></section>
</div>
</body>
</html>