<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>setuid, seteuid, setgid, setegid — set user and group ID</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/freebsd-manpages">freebsd-manpages_12.2-2_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       setuid, seteuid, setgid, setegid — set user and group ID

</pre><h4><b>LIBRARY</b></h4><pre>
       Standard C Library (libc, -lc)

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>#include</b> <b>&lt;<a href="file:/usr/include/unistd.h">unistd.h</a>&gt;</b>

       <u>int</u>
       <b>setuid</b>(<u>uid_t</u> <u>uid</u>);

       <u>int</u>
       <b>seteuid</b>(<u>uid_t</u> <u>euid</u>);

       <u>int</u>
       <b>setgid</b>(<u>gid_t</u> <u>gid</u>);

       <u>int</u>
       <b>setegid</b>(<u>gid_t</u> <u>egid</u>);

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The  <b>setuid</b>()  system  call sets the real and effective user IDs and the saved set-user-ID of the current
       process to the specified value.  The <b>setuid</b>() system call is permitted if the specified ID  is  equal  to
       the  real  user  ID  or  the effective user ID of the process, or if the effective user ID is that of the
       super user.

       The <b>setgid</b>() system call sets the real and effective group IDs and the saved set-group-ID of the  current
       process  to  the  specified value.  The <b>setgid</b>() system call is permitted if the specified ID is equal to
       the real group ID or the effective group ID of the process, or if the effective user ID is  that  of  the
       super user.

       The  <b>seteuid</b>() system call (<b>setegid</b>()) sets the effective user ID (group ID) of the current process.  The
       effective user ID may be set to the value of the real user ID or the saved set-user-ID (see <u><a href="../man2/intro.2.html">intro</a></u>(2)  and
       <u><a href="../man2/execve.2.html">execve</a></u>(2)); in this way, the effective user ID of a set-user-ID executable may be toggled by switching to
       the  real user ID, then re-enabled by reverting to the set-user-ID value.  Similarly, the effective group
       ID may be set to the value of the real group ID or the saved set-group-ID.

</pre><h4><b>RETURN</b> <b>VALUES</b></h4><pre>
       Upon successful completion, the value 0 is returned; otherwise the value -1 is returned  and  the  global
       variable <u>errno</u> is set to indicate the error.

</pre><h4><b>ERRORS</b></h4><pre>
       The system calls will fail if:

       [EPERM]            The  user is not the super user and the ID specified is not the real, effective ID, or
                          saved ID.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <u><a href="../man2/getgid.2.html">getgid</a></u>(2), <u><a href="../man2/getuid.2.html">getuid</a></u>(2), <u><a href="../man2/issetugid.2.html">issetugid</a></u>(2), <u><a href="../man2/setregid.2.html">setregid</a></u>(2), <u><a href="../man2/setreuid.2.html">setreuid</a></u>(2)

</pre><h4><b>STANDARDS</b></h4><pre>
       The  <b>setuid</b>()  and  <b>setgid</b>()  system  calls  are  compliant  with  the  ISO/IEC  9945-1:1990  (“POSIX.1”)
       specification with <b>_POSIX_SAVED_IDS</b> not defined with the permitted extensions from Appendix B.4.2.2.  The
       <b>seteuid</b>()  and  <b>setegid</b>() system calls are extensions based on the POSIX concept of <b>_POSIX_SAVED_IDS</b>, and
       have been proposed for a future revision of the standard.

</pre><h4><b>HISTORY</b></h4><pre>
       The <b>setuid</b>() function appeared in Version 1 AT&amp;T UNIX.  The <b>setgid</b>() function appeared in Version 4  AT&amp;T
       UNIX.

</pre><h4><b>SECURITY</b> <b>CONSIDERATIONS</b></h4><pre>
       Read  and  write  permissions  to files are determined upon a call to <u><a href="../man2/open.2.html">open</a></u>(2).  Once a file descriptor is
       open, dropping privilege does not affect the process's  read/write  permissions,  even  if  the  user  ID
       specified  has  no  read  or  write permissions to the file.  These files normally remain open in any new
       process executed, resulting in a user being able to read or modify potentially sensitive data.

       To prevent these files from remaining open after an <u><a href="../man3/exec.3.html">exec</a></u>(3) call, be sure to set the close-on-exec flag:

       void
       pseudocode(void)
       {
               int fd;
               /* ... */

               fd = open("/path/to/sensitive/data", O_RDWR | O_CLOEXEC);
               if (fd == -1)
                       err(1, "open");

               /* ... */
               execve(path, argv, environ);
       }

Debian                                          December 15, 2015                                      <u><a href="../man2/SETUID.2.html">SETUID</a></u>(2)
</pre>
 </div>
</div></section>
</div>
</body>
</html>