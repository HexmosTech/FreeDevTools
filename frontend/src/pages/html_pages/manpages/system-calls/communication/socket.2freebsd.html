<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>socket — create an endpoint for communication</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/freebsd-manpages">freebsd-manpages_12.2-2_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       socket — create an endpoint for communication

</pre><h4><b>LIBRARY</b></h4><pre>
       Standard C Library (libc, -lc)

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>#include</b> <b>&lt;sys/socket.h&gt;</b>

       <u>int</u>
       <b>socket</b>(<u>int</u> <u>domain</u>, <u>int</u> <u>type</u>, <u>int</u> <u>protocol</u>);

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The <b>socket</b>() system call creates an endpoint for communication and returns a descriptor.

       The  <u>domain</u>  argument  specifies a communications domain within which communication will take place; this
       selects the protocol family which should be used.   These  families  are  defined  in  the  include  file
       &lt;<u>sys/socket.h</u>&gt;.  The currently understood formats are:

             PF_LOCAL        Host-internal protocols (alias for PF_UNIX),
             PF_UNIX         Host-internal protocols,
             PF_INET         Internet version 4 protocols,
             PF_INET6        Internet version 6 protocols,
             PF_ROUTE        Internal routing protocol,
             PF_LINK         Link layer interface,
             PF_KEY          Internal key-management function,
             PF_NATM         Asynchronous transfer mode protocols,
             PF_NETGRAPH     Netgraph sockets,
             PF_IEEE80211    IEEE 802.11 wireless link-layer protocols (WiFi),
             PF_BLUETOOTH    Bluetooth protocols,
             PF_INET_SDP     OFED socket direct protocol (IPv4),
             PF_INET6_SDP    OFED socket direct protocol (IPv6)

       Each protocol family is connected to an address family, which has the same name except that the prefix is
       “AF_”  in  place  of  “PF_”.   Other  protocol  families  may be also defined, beginning with “PF_”, with
       corresponding address families.

       The socket has the indicated <u>type</u>, which specifies the semantics  of  communication.   Currently  defined
       types are:

             SOCK_STREAM     Stream socket,
             SOCK_DGRAM      Datagram socket,
             SOCK_RAW        Raw-protocol interface,
             SOCK_RDM        Reliably-delivered packet,
             SOCK_SEQPACKET  Sequenced packet stream

       A  SOCK_STREAM  type provides sequenced, reliable, two-way connection based byte streams.  An out-of-band
       data transmission mechanism may be supported.  A SOCK_DGRAM socket  supports  datagrams  (connectionless,
       unreliable  messages of a fixed (typically small) maximum length).  A SOCK_SEQPACKET socket may provide a
       sequenced, reliable, two-way connection-based data transmission  path  for  datagrams  of  fixed  maximum
       length;  a  consumer  may be required to read an entire packet with each read system call.  This facility
       may have protocol-specific properties.  SOCK_RAW sockets provide access to internal network protocols and
       interfaces.  The types SOCK_RAW, which is available only  to  the  super-user,  and  SOCK_RDM,  which  is
       planned, but not yet implemented, are not described here.

       Additionally, the following flags are allowed in the <u>type</u> argument:

             SOCK_CLOEXEC    Set close-on-exec on the new descriptor,
             SOCK_NONBLOCK   Set non-blocking mode on the new socket

       The <u>protocol</u> argument specifies a particular protocol to be used with the socket.  Normally only a single
       protocol  exists  to  support  a  particular  socket type within a given protocol family.  However, it is
       possible that many protocols may exist, in which case a particular protocol must  be  specified  in  this
       manner.  The protocol number to use is particular to the “communication domain” in which communication is
       to take place; see <u><a href="../man5/protocols.5.html">protocols</a></u>(5).

       The  <u>protocol</u>  argument may be set to zero (0) to request the default implementation of a socket type for
       the protocol, if any.

       Sockets of type SOCK_STREAM are full-duplex byte streams, similar to pipes.  A stream socket must be in a
       <u>connected</u> state before any data may be sent or received on it.  A connection to another socket is created
       with a <u><a href="../man2/connect.2.html">connect</a></u>(2) system call.  Once connected, data may be transferred using <u><a href="../man2/read.2.html">read</a></u>(2) and <u><a href="../man2/write.2.html">write</a></u>(2)  calls
       or  some  variant  of  the  <u><a href="../man2/send.2.html">send</a></u>(2) and <u><a href="../man2/recv.2.html">recv</a></u>(2) functions.  (Some protocol families, such as the Internet
       family, support the notion of an “implied connect”, which permits data to  be  sent  piggybacked  onto  a
       connect  operation by using the <u><a href="../man2/sendto.2.html">sendto</a></u>(2) system call.)  When a session has been completed a <u><a href="../man2/close.2.html">close</a></u>(2) may
       be performed.  Out-of-band data may also be transmitted as described in <u><a href="../man2/send.2.html">send</a></u>(2) and received as described
       in <u><a href="../man2/recv.2.html">recv</a></u>(2).

       The communications protocols used to implement a SOCK_STREAM ensure that data is not lost or  duplicated.
       If a piece of data for which the peer protocol has buffer space cannot be successfully transmitted within
       a  reasonable  length  of time, then the connection is considered broken and calls will indicate an error
       with -1 returns and with ETIMEDOUT as the specific code in the  global  variable  <u>errno</u>.   The  protocols
       optionally  keep  sockets  “warm”  by  forcing transmissions roughly every minute in the absence of other
       activity.  An error is then indicated if no response can be elicited on an otherwise idle connection  for
       an  extended  period  (e.g.  5  minutes).  By default, a SIGPIPE signal is raised if a process sends on a
       broken stream, but this behavior may be inhibited via <u><a href="../man2/setsockopt.2.html">setsockopt</a></u>(2).

       SOCK_SEQPACKET sockets employ the same system calls as SOCK_STREAM sockets.  The only difference is  that
       <u><a href="../man2/read.2.html">read</a></u>(2)  calls  will  return  only the amount of data requested, and any remaining in the arriving packet
       will be discarded.

       SOCK_DGRAM and SOCK_RAW sockets allow sending of datagrams to  correspondents  named  in  <u><a href="../man2/send.2.html">send</a></u>(2)  calls.
       Datagrams  are  generally  received  with  <u><a href="../man2/recvfrom.2.html">recvfrom</a></u>(2),  which  returns the next datagram with its return
       address.

       An <u><a href="../man2/fcntl.2.html">fcntl</a></u>(2) system call can be used to specify a process group to receive a SIGURG signal when  the  out-
       of-band  data  arrives.   It may also enable non-blocking I/O and asynchronous notification of I/O events
       via SIGIO.

       The operation of sockets is controlled by socket level <u>options</u>.  These options are defined  in  the  file
       &lt;<u>sys/socket.h</u>&gt;.   The  <u><a href="../man2/setsockopt.2.html">setsockopt</a></u>(2)  and  <u><a href="../man2/getsockopt.2.html">getsockopt</a></u>(2)  system  calls  are used to set and get options,
       respectively.

</pre><h4><b>RETURN</b> <b>VALUES</b></h4><pre>
       A -1 is returned if an error occurs, otherwise the return value is a descriptor referencing the socket.

</pre><h4><b>ERRORS</b></h4><pre>
       The <b>socket</b>() system call fails if:

       [EACCES]           Permission to create a socket of the specified type and/or protocol is denied.

       [EAFNOSUPPORT]     The address family (domain) is not supported or the specified domain is not  supported
                          by this protocol family.

       [EMFILE]           The per-process descriptor table is full.

       [ENFILE]           The system file table is full.

       [ENOBUFS]          Insufficient buffer space is available.  The socket cannot be created until sufficient
                          resources are freed.

       [EPERM]            User has insufficient privileges to carry out the requested operation.

       [EPROTONOSUPPORT]  The protocol type or the specified protocol is not supported within this domain.

       [EPROTOTYPE]       The socket type is not supported by the protocol.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <u><a href="../man2/accept.2.html">accept</a></u>(2),  <u><a href="../man2/bind.2.html">bind</a></u>(2),  <u><a href="../man2/connect.2.html">connect</a></u>(2),  <u><a href="../man2/getpeername.2.html">getpeername</a></u>(2),  <u><a href="../man2/getsockname.2.html">getsockname</a></u>(2),  <u><a href="../man2/getsockopt.2.html">getsockopt</a></u>(2),  <u><a href="../man2/ioctl.2.html">ioctl</a></u>(2), <u><a href="../man2/listen.2.html">listen</a></u>(2),
       <u><a href="../man2/read.2.html">read</a></u>(2), <u><a href="../man2/recv.2.html">recv</a></u>(2), <u><a href="../man2/select.2.html">select</a></u>(2), <u><a href="../man2/send.2.html">send</a></u>(2), <u><a href="../man2/shutdown.2.html">shutdown</a></u>(2), <u><a href="../man2/socketpair.2.html">socketpair</a></u>(2), <u><a href="../man2/write.2.html">write</a></u>(2), <u><a href="../man3/CMSG_DATA.3.html">CMSG_DATA</a></u>(3), <u><a href="../man3/getprotoent.3.html">getprotoent</a></u>(3),
       <u><a href="../man4/netgraph.4.html">netgraph</a></u>(4), <u><a href="../man5/protocols.5.html">protocols</a></u>(5)

       “An Introductory 4.3 BSD Interprocess Communication Tutorial”, <u>PS1</u>, 7.

       “BSD Interprocess Communication Tutorial”, <u>PS1</u>, 8.

</pre><h4><b>STANDARDS</b></h4><pre>
       The <b>socket</b>() function conforms to IEEE Std 1003.1-2008 (“POSIX.1”).  The POSIX  standard  specifies  only
       the AF_INET, AF_INET6, and AF_UNIX constants for address families, and requires the use of AF_* constants
       for  the  <u>domain</u> argument of <b>socket</b>().  The SOCK_CLOEXEC flag is expected to conform to the next revision
       of the POSIX standard.  The SOCK_RDM <u>type</u>, the PF_* constants, and other  address  families  are  FreeBSD
       extensions.

</pre><h4><b>HISTORY</b></h4><pre>
       The <b>socket</b>() system call appeared in 4.2BSD.

Debian                                           August 19, 2018                                       <u><a href="../man2/SOCKET.2.html">SOCKET</a></u>(2)
</pre>
 </div>
</div></section>
</div>
</body>
</html>