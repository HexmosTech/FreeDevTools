<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PR_MPX_ENABLE_MANAGEMENT,  PR_MPX_DISABLE_MANAGEMENT  -  enable  or  disable  kernel management of Memory</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/manpages-dev">manpages-dev_6.9.1-1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       PR_MPX_ENABLE_MANAGEMENT,  PR_MPX_DISABLE_MANAGEMENT  -  enable  or  disable  kernel management of Memory
       Protection eXtensions (MPX)

</pre><h4><b>LIBRARY</b></h4><pre>
       Standard C library (<u>libc</u>, <u>-lc</u>)

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>#include</b> <b>&lt;<a href="file:/usr/include/linux/prctl.h">linux/prctl.h</a>&gt;</b>  /* Definition of <b>PR_*</b> constants */
       <b>#include</b> <b>&lt;sys/prctl.h&gt;</b>

       <b>[[deprecated]]</b> <b>int</b> <b>prctl(PR_MPX_ENABLE_MANAGEMENT,</b> <b>0L,</b> <b>0L,</b> <b>0L,</b> <b>0L);</b>
       <b>[[deprecated]]</b> <b>int</b> <b>prctl(PR_MPX_DISABLE_MANAGEMENT,</b> <b>0L,</b> <b>0L,</b> <b>0L,</b> <b>0L);</b>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       Enable or disable kernel management of Memory Protection eXtensions (MPX) bounds tables.

       MPX is a hardware-assisted mechanism for performing bounds checking on pointers.  It consists of a set of
       registers storing bounds information and a set of special instruction prefixes that tell the CPU on which
       instructions it should do bounds enforcement.  There is a limited number  of  these  registers  and  when
       there  are  more  pointers  than registers, their contents must be "spilled" into a set of tables.  These
       tables are called "bounds tables" and the MPX <b>prctl</b>() operations control whether the kernel manages their
       allocation and freeing.

       When management is enabled, the kernel will take over allocation and freeing of the  bounds  tables.   It
       does this by trapping the #BR exceptions that result at first use of missing bounds tables and instead of
       delivering  the  exception  to user space, it allocates the table and populates the bounds directory with
       the location of the new table.  For freeing, the kernel checks to see if bounds tables  are  present  for
       memory which is not allocated, and frees them if so.

       Before  enabling MPX management using <b>PR_MPX_ENABLE_MANAGEMENT</b>, the application must first have allocated
       a user-space buffer for the bounds directory and placed the location of that  directory  in  the  <u>bndcfgu</u>
       register.

       These  calls  fail  if the CPU or kernel does not support MPX.  Kernel support for MPX is enabled via the
       <b>CONFIG_X86_INTEL_MPX</b> configuration option.  You can check whether the CPU supports MPX by looking for the
       <u>mpx</u> CPUID bit, like with the following command:

           cat <a href="file:/proc/cpuinfo">/proc/cpuinfo</a> | grep ' mpx '

       A thread may not switch in or out of long (64-bit) mode while MPX is enabled.

       All threads in a process are affected by these calls.

       The child of a <b><a href="../man2/fork.2.html">fork</a></b>(2) inherits the state of MPX management.  During <b><a href="../man2/execve.2.html">execve</a></b>(2), MPX management  is  reset
       to a state as if <b>PR_MPX_DISABLE_MANAGEMENT</b> had been called.

</pre><h4><b>RETURN</b> <b>VALUE</b></h4><pre>
       On success, 0 is returned.  On error, -1 is returned, and <u>errno</u> is set to indicate the error.

</pre><h4><b>ERRORS</b></h4><pre>
       <b>ENXIO</b>  The  kernel  or the CPU does not support MPX management.  Check that the kernel and processor have
              MPX support.

</pre><h4><b>STANDARDS</b></h4><pre>
       None.

</pre><h4><b>HISTORY</b></h4><pre>
       Linux 3.19.  Removed in Linux 5.4.  Only on x86.

       Due to a lack of  toolchain  support,  <b>PR_MPX_ENABLE_MANAGEMENT</b>  and  <b>PR_MPX_DISABLE_MANAGEMENT</b>  are  not
       supported in Linux 5.4 and later.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man2/prctl.2.html">prctl</a></b>(2)

       For further information on Intel MPX, see the kernel source file <u>Documentation/x86/intel_mpx.txt</u>.

Linux man-pages 6.9.1                              2024-06-01                        <u><a href="../man2/PR_MPX_ENABLE_MANAGEMENT.2.html">PR_MPX_ENABLE_MANAGEMENT</a></u>(2)
</pre>
 </div>
</div></section>
</div>
</body>
</html>