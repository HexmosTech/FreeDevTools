<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>read-file -  (files)</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/golf">golf_601.4.41-1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       read-file -  (files)

</pre><h4><b>PURPOSE</b></h4><pre>
       Read file into a string variable.

</pre><h4><b>SYNTAX</b></h4><pre>
           read-file &lt;file&gt; | ( file-id &lt;file id&gt; ) \
               to &lt;content&gt; \
               [ position &lt;position&gt; ] \
               [ length &lt;length&gt; ] \
               [ status &lt;status&gt; ] \
               [ end-of-file &lt;eof&gt; ]

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>WITHOUT</b> <b>FILE-ID</b>

       This is a simple method of reading a file. File named &lt;file&gt; is opened, data read, and file is closed.

       &lt;file&gt; can be a full path name, or a path relative to the application home directory (see <b>directories</b>).

       Data  read  is  stored into string &lt;content&gt;. Note that file can be binary or text and &lt;content&gt; may have
       null-bytes.

       If "position" and "length" clauses are not specified, read-file reads the entire &lt;file&gt; into &lt;content&gt;.

       If "position" clause is used, then reading  starts  at  byte  &lt;position&gt;,  otherwise  it  starts  at  the
       beginning of the file. Position of zero (0) represents the beginning of the file.

       If  "length"  clause  is  used,  then &lt;length&gt; number of bytes is read, otherwise the rest of the file is
       read. If &lt;length&gt;  is 0, &lt;content&gt; is empty string and &lt;status&gt; is 0.

       If "status" clause is used, then the number of bytes read is stored to &lt;status&gt;, unless  error  occurred,
       in  which  case  &lt;status&gt;  is  negative and has the error code. The error code can be GG_ERR_POSITION (if
       &lt;position&gt; is negative, outside the file, or file does not  support  it),  GG_ERR_READ  (if  &lt;length&gt;  is
       negative  or  there  is  an error reading file) or GG_ERR_OPEN if file cannot be opened. If the number of
       bytes read isn't what's requested, you can use "end-of-file" clause to get boolean &lt;eof&gt;, which  is  true
       if  the  end of file happened, or false if there is an error (in which case you can use "errno" clause in
       <b>get-req</b> to obtain the actual reason for error).

       <b>WITH</b> <b>FILE-ID</b>

       This method uses a &lt;file id&gt; that was created with <b>open-file</b>. You can then read (and  write)  file  using
       this  &lt;file  id&gt;  and the file stays open until <b>close-file</b> is called, or the <b>request</b> ends (i.e. Golf will
       automatically close any such open files).

       Data read is stored into string &lt;content&gt;. Note that file can be binary or text and  &lt;content&gt;  may  have
       null-bytes.

       If  "position"  clause is used, then data is read starting from byte &lt;position&gt; (with position of 0 being
       the first byte), otherwise reading starts from the current  file  position  determined  by  the  previous
       reads/writes  or  as  set by using "set" clause in <b>file-position</b>. Note that after each read or write, the
       file position is advanced by the number of bytes read or written.

       If "length" clause is used, then &lt;length&gt; number of bytes is read, otherwise the  rest  of  the  file  is
       read. If &lt;length&gt;  is 0, &lt;content&gt; is empty string and &lt;status&gt; is 0.

       Note that when you reach the end of file and no more bytes can be read, &lt;status&gt; is 0.

       If  "status"  clause is used, then the number of bytes read is stored to &lt;status&gt;, unless error occurred,
       in which case &lt;status&gt; has the error code. The error  code  can  be  GG_ERR_POSITION  (if  &lt;position&gt;  is
       negative,  outside  the file, or file does not support it), GG_ERR_READ (if &lt;length&gt; is negative or there
       is an error reading file) or GG_ERR_OPEN if file is not open. If the number of bytes  read  isn't  what's
       requested,  you  can  use  "end-of-file"  clause  to  get boolean &lt;eof&gt;, which is true if the end of file
       happened, or false if there is an error (in which case you can use "errno" clause in  <b>get-req</b>  to  obtain
       the actual reason for error).

</pre><h4><b>EXAMPLES</b></h4><pre>
       To read the entire file and create both the variable that holds its content and the status variable:

           read-file "/home/user/some_file" to file_content status st
           if-true st greater-than 0
               @Read:
               @&lt;hr/&gt;
               p-web file_content
               @&lt;hr/&gt;
           else-if
               @Could not read (&lt;&lt;print-format "%ld", st&gt;&gt;)
           end-if

       To read 10 bytes starting at position 20 (with position 0 being the first byte):

           read-file "/home/user/some_file" to file_content position 20 length 10

       See <b>open-file</b> for an example with "file-id" clause.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
        Files

       <b>change-mode</b>  <b>close-file</b>  <b>copy-file</b>  <b>delete-file</b> <b>file-position</b> <b>file-storage</b> <b>file-uploading</b> <b>lock-file</b> <b>open-</b>
       <b>file</b> <b>read-file</b> <b>read-line</b> <b>rename-file</b> <b>stat-file</b> <b>temporary-file</b> <b>uniq-file</b> <b>unlock-file</b>  <b>write-file</b>  See  all
       <b>documentation</b>

$DATE                                               $VERSION                                           <u><a href="../man2gg/GOLF.2gg.html">GOLF</a></u>(2gg)
</pre>
 </div>
</div></section>
</div>
</body>
</html>