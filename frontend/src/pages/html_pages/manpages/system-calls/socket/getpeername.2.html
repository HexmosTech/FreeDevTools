<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>getpeername - get name of connected peer socket</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/manpages-dev">manpages-dev_6.9.1-1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       getpeername - get name of connected peer socket

</pre><h4><b>LIBRARY</b></h4><pre>
       Standard C library (<u>libc</u>, <u>-lc</u>)

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>#include</b> <b>&lt;sys/socket.h&gt;</b>

       <b>int</b> <b>getpeername(int</b> <u>sockfd</u><b>,</b> <b>struct</b> <b>sockaddr</b> <b>*restrict</b> <u>addr</u><b>,</b>
                       <b>socklen_t</b> <b>*restrict</b> <u>addrlen</u><b>);</b>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>getpeername</b>() returns the address of the peer connected to the socket <u>sockfd</u>, in the buffer pointed to by
       <u>addr</u>.  The <u>addrlen</u> argument should be initialized to indicate the amount of space pointed to by <u>addr</u>.  On
       return  it contains the actual size of the name returned (in bytes).  The name is truncated if the buffer
       provided is too small.

       The returned address is truncated if the buffer provided is too small; in this case, <u>addrlen</u> will  return
       a value greater than was supplied to the call.

</pre><h4><b>RETURN</b> <b>VALUE</b></h4><pre>
       On success, zero is returned.  On error, -1 is returned, and <u>errno</u> is set to indicate the error.

</pre><h4><b>ERRORS</b></h4><pre>
       <b>EBADF</b>  The argument <u>sockfd</u> is not a valid file descriptor.

       <b>EFAULT</b> The <u>addr</u> argument points to memory not in a valid part of the process address space.

       <b>EINVAL</b> <u>addrlen</u> is invalid (e.g., is negative).

       <b>ENOBUFS</b>
              Insufficient resources were available in the system to perform the operation.

       <b>ENOTCONN</b>
              The socket is not connected.

       <b>ENOTSOCK</b>
              The file descriptor <u>sockfd</u> does not refer to a socket.

</pre><h4><b>STANDARDS</b></h4><pre>
       POSIX.1-2008.

</pre><h4><b>HISTORY</b></h4><pre>
       POSIX.1-2001, SVr4, 4.4BSD (first appeared in 4.2BSD).

</pre><h4><b>NOTES</b></h4><pre>
       For  stream sockets, once a <b><a href="../man2/connect.2.html">connect</a></b>(2) has been performed, either socket can call <b>getpeername</b>() to obtain
       the address of the peer socket.  On  the  other  hand,  datagram  sockets  are  connectionless.   Calling
       <b><a href="../man2/connect.2.html">connect</a></b>(2) on a datagram socket merely sets the peer address for outgoing datagrams sent with <b><a href="../man2/write.2.html">write</a></b>(2) or
       <b><a href="../man2/recv.2.html">recv</a></b>(2).   The  caller of <b><a href="../man2/connect.2.html">connect</a></b>(2) can use <b>getpeername</b>() to obtain the peer address that it earlier set
       for the socket.  However, the peer socket is unaware of this information, and  calling  <b>getpeername</b>()  on
       the  peer  socket  will  return  no useful information (unless a <b><a href="../man2/connect.2.html">connect</a></b>(2) call was also executed on the
       peer).  Note also that the receiver of a datagram can  obtain  the  address  of  the  sender  when  using
       <b><a href="../man2/recvfrom.2.html">recvfrom</a></b>(2).

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man2/accept.2.html">accept</a></b>(2), <b><a href="../man2/bind.2.html">bind</a></b>(2), <b><a href="../man2/getsockname.2.html">getsockname</a></b>(2), <b><a href="../man7/ip.7.html">ip</a></b>(7), <b><a href="../man7/socket.7.html">socket</a></b>(7), <b><a href="../man7/unix.7.html">unix</a></b>(7)

Linux man-pages 6.9.1                              2024-05-02                                     <u><a href="../man2/getpeername.2.html">getpeername</a></u>(2)
</pre>
 </div>
</div></section>
</div>
</body>
</html>