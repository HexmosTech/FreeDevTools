<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>getsockopt, setsockopt - get and set options on sockets</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/manpages-dev">manpages-dev_6.9.1-1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       getsockopt, setsockopt - get and set options on sockets

</pre><h4><b>LIBRARY</b></h4><pre>
       Standard C library (<u>libc</u>, <u>-lc</u>)

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>#include</b> <b>&lt;sys/socket.h&gt;</b>

       <b>int</b> <b>getsockopt(int</b> <u>sockfd</u><b>,</b> <b>int</b> <u>level</u><b>,</b> <b>int</b> <u>optname</u><b>,</b>
                      <b>void</b> <u>optval</u><b>[restrict</b> <b>*.</b><u>optlen</u><b>],</b>
                      <b>socklen_t</b> <b>*restrict</b> <u>optlen</u><b>);</b>
       <b>int</b> <b>setsockopt(int</b> <u>sockfd</u><b>,</b> <b>int</b> <u>level</u><b>,</b> <b>int</b> <u>optname</u><b>,</b>
                      <b>const</b> <b>void</b> <u>optval</u><b>[.</b><u>optlen</u><b>],</b>
                      <b>socklen_t</b> <u>optlen</u><b>);</b>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>getsockopt</b>()  and  <b>setsockopt</b>()  manipulate  options  for  the  socket referred to by the file descriptor
       <u>sockfd</u>.  Options may exist at multiple protocol levels; they are always present at the  uppermost  socket
       level.

       When  manipulating  socket options, the level at which the option resides and the name of the option must
       be specified.  To manipulate options at the sockets API level, <u>level</u>  is  specified  as  <b>SOL_SOCKET</b>.   To
       manipulate  options  at  any  other level the protocol number of the appropriate protocol controlling the
       option is supplied.  For example, to indicate that an option is to be interpreted by  the  <b>TCP</b>  protocol,
       <u>level</u> should be set to the protocol number of <b>TCP</b>; see <b><a href="../man3/getprotoent.3.html">getprotoent</a></b>(3).

       The arguments <u>optval</u> and <u>optlen</u> are used to access option values for <b>setsockopt</b>().  For <b>getsockopt</b>() they
       identify  a  buffer in which the value for the requested option(s) are to be returned.  For <b>getsockopt</b>(),
       <u>optlen</u> is a value-result argument, initially containing the size of the buffer pointed to by <u>optval</u>,  and
       modified  on  return  to  indicate  the  actual  size of the value returned.  If no option value is to be
       supplied or returned, <u>optval</u> may be NULL.

       <u>Optname</u> and any specified options are  passed  uninterpreted  to  the  appropriate  protocol  module  for
       interpretation.  The include file <u>&lt;sys/socket.h&gt;</u> contains definitions for socket level options, described
       below.   Options  at  other  protocol  levels vary in format and name; consult the appropriate entries in
       section 4 of the manual.

       Most socket-level options utilize an <u>int</u> argument for <u>optval</u>.  For <b>setsockopt</b>(), the argument  should  be
       nonzero to enable a boolean option, or zero if the option is to be disabled.

       For a description of the available socket options see <b><a href="../man7/socket.7.html">socket</a></b>(7) and the appropriate protocol man pages.

</pre><h4><b>RETURN</b> <b>VALUE</b></h4><pre>
       On  success,  zero  is  returned for the standard options.  On error, -1 is returned, and <u>errno</u> is set to
       indicate the error.

       Netfilter allows the programmer to define custom  socket  options  with  associated  handlers;  for  such
       options, the return value on success is the value returned by the handler.

</pre><h4><b>ERRORS</b></h4><pre>
       <b>EBADF</b>  The argument <u>sockfd</u> is not a valid file descriptor.

       <b>EFAULT</b> The  address  pointed  to  by  <u>optval</u>  is  not  in a valid part of the process address space.  For
              <b>getsockopt</b>(), this error may also be returned if <u>optlen</u> is not in a  valid  part  of  the  process
              address space.

       <b>EINVAL</b> <u>optlen</u>  invalid  in <b>setsockopt</b>().  In some cases this error can also occur for an invalid value in
              <u>optval</u> (e.g., for the <b>IP_ADD_MEMBERSHIP</b> option described in <b><a href="../man7/ip.7.html">ip</a></b>(7)).

       <b>ENOPROTOOPT</b>
              The option is unknown at the level indicated.

       <b>ENOTSOCK</b>
              The file descriptor <u>sockfd</u> does not refer to a socket.

</pre><h4><b>STANDARDS</b></h4><pre>
       POSIX.1-2008.

</pre><h4><b>HISTORY</b></h4><pre>
       POSIX.1-2001, SVr4, 4.4BSD (first appeared in 4.2BSD).

</pre><h4><b>BUGS</b></h4><pre>
       Several of the socket options should be handled at lower levels of the system.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man2/ioctl.2.html">ioctl</a></b>(2), <b><a href="../man2/socket.2.html">socket</a></b>(2), <b><a href="../man3/getprotoent.3.html">getprotoent</a></b>(3), <b><a href="../man5/protocols.5.html">protocols</a></b>(5), <b><a href="../man7/ip.7.html">ip</a></b>(7), <b><a href="../man7/packet.7.html">packet</a></b>(7), <b><a href="../man7/socket.7.html">socket</a></b>(7), <b><a href="../man7/tcp.7.html">tcp</a></b>(7), <b><a href="../man7/udp.7.html">udp</a></b>(7), <b><a href="../man7/unix.7.html">unix</a></b>(7)

Linux man-pages 6.9.1                              2024-05-02                                      <u><a href="../man2/getsockopt.2.html">getsockopt</a></u>(2)
</pre>
 </div>
</div></section>
</div>
</body>
</html>