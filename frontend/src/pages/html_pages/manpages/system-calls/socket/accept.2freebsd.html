<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>accept, accept4 — accept a connection on a socket</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/freebsd-manpages">freebsd-manpages_12.2-2_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       accept, accept4 — accept a connection on a socket

</pre><h4><b>LIBRARY</b></h4><pre>
       Standard C Library (libc, -lc)

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>#include</b> <b>&lt;sys/types.h&gt;</b>
       <b>#include</b> <b>&lt;sys/socket.h&gt;</b>

       <u>int</u>
       <b>accept</b>(<u>int</u> <u>s</u>, <u>struct</u> <u>sockaddr</u> <u>*</u> <u>restrict</u> <u>addr</u>, <u>socklen_t</u> <u>*</u> <u>restrict</u> <u>addrlen</u>);

       <u>int</u>
       <b>accept4</b>(<u>int</u> <u>s</u>, <u>struct</u> <u>sockaddr</u> <u>*</u> <u>restrict</u> <u>addr</u>, <u>socklen_t</u> <u>*</u> <u>restrict</u> <u>addrlen</u>, <u>int</u> <u>flags</u>);

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The argument <u>s</u> is a socket that has been created with <u><a href="../man2/socket.2.html">socket</a></u>(2), bound to an address with <u><a href="../man2/bind.2.html">bind</a></u>(2), and is
       listening  for  connections  after  a  <u><a href="../man2/listen.2.html">listen</a></u>(2).  The <b>accept</b>() system call extracts the first connection
       request on the queue of pending connections, creates a new socket, and allocates a  new  file  descriptor
       for  the  socket which inherits the state of the O_NONBLOCK and O_ASYNC properties and the destination of
       SIGIO and SIGURG signals from the original socket <u>s</u>.

       The <b>accept4</b>() system call is similar, but the O_NONBLOCK property of the new socket is instead determined
       by the SOCK_NONBLOCK flag in the <u>flags</u> argument, the O_ASYNC property is cleared, the signal  destination
       is  cleared and the close-on-exec flag on the new file descriptor can be set via the SOCK_CLOEXEC flag in
       the <u>flags</u> argument.

       If no pending connections are present on the queue, and  the  original  socket  is  not  marked  as  non-
       blocking,  <b>accept</b>()  blocks  the  caller until a connection is present.  If the original socket is marked
       non-blocking and no pending connections are present on the queue, <b>accept</b>() returns an error as  described
       below.   The  accepted  socket may not be used to accept more connections.  The original socket <u>s</u> remains
       open.

       The argument <u>addr</u> is a result argument that is filled-in with the address of the  connecting  entity,  as
       known  to the communications layer.  The exact format of the <u>addr</u> argument is determined by the domain in
       which the communication is occurring.   A  null  pointer  may  be  specified  for  <u>addr</u>  if  the  address
       information  is  not  desired; in this case, <u>addrlen</u> is not used and should also be null.  Otherwise, the
       <u>addrlen</u> argument is a value-result argument; it should initially contain the amount of space  pointed  to
       by  <u>addr</u>;  on  return it will contain the actual length (in bytes) of the address returned.  This call is
       used with connection-based socket types, currently with SOCK_STREAM.

       It is possible to <u><a href="../man2/select.2.html">select</a></u>(2) a socket for the purposes of doing an <b>accept</b>() by selecting it for read.

       For certain protocols which require an explicit confirmation, such as ISO or  DATAKIT,  <b>accept</b>()  can  be
       thought  of as merely dequeueing the next connection request and not implying confirmation.  Confirmation
       can be implied by a normal read or write on the new file descriptor, and  rejection  can  be  implied  by
       closing the new socket.

       For  some  applications, performance may be enhanced by using an <u><a href="../man9/accept_filter.9.html">accept_filter</a></u>(9) to pre-process incoming
       connections.

       When using <b>accept</b>(), portable programs should not rely on the O_NONBLOCK and O_ASYNC properties  and  the
       signal  destination  being inherited, but should set them explicitly using <u><a href="../man2/fcntl.2.html">fcntl</a></u>(2); <b>accept4</b>() sets these
       properties consistently, but may not be fully portable across Unix platforms.

</pre><h4><b>RETURN</b> <b>VALUES</b></h4><pre>
       These calls return -1 on error.  If they succeed, they return a non-negative integer that is a descriptor
       for the accepted socket.

</pre><h4><b>ERRORS</b></h4><pre>
       The <b>accept</b>() and <b>accept4</b>() system calls will fail if:

       [EBADF]            The descriptor is invalid.

       [EINTR]            The <b>accept</b>() operation was interrupted.

       [EMFILE]           The per-process descriptor table is full.

       [ENFILE]           The system file table is full.

       [ENOTSOCK]         The descriptor references a file, not a socket.

       [EINVAL]           <u><a href="../man2/listen.2.html">listen</a></u>(2) has not been called on the socket descriptor.

       [EFAULT]           The <u>addr</u> argument is not in a writable part of the user address space.

       [EWOULDBLOCK] or [EAGAIN]
                          The socket is marked non-blocking and no connections are present to be accepted.

       [ECONNABORTED]     A connection arrived, but it was closed while waiting on the listen queue.

       The <b>accept4</b>() system call will also fail if:

       [EINVAL]           The <u>flags</u> argument is invalid.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <u><a href="../man2/bind.2.html">bind</a></u>(2), <u><a href="../man2/connect.2.html">connect</a></u>(2), <u><a href="../man2/getpeername.2.html">getpeername</a></u>(2), <u><a href="../man2/getsockname.2.html">getsockname</a></u>(2), <u><a href="../man2/listen.2.html">listen</a></u>(2), <u><a href="../man2/select.2.html">select</a></u>(2), <u><a href="../man2/socket.2.html">socket</a></u>(2), <u><a href="../man9/accept_filter.9.html">accept_filter</a></u>(9)

</pre><h4><b>HISTORY</b></h4><pre>
       The <b>accept</b>() system call appeared in 4.2BSD.

       The <b>accept4</b>() system call appeared in FreeBSD 10.0.

Debian                                           October 9, 2014                                       <u><a href="../man2/ACCEPT.2.html">ACCEPT</a></u>(2)
</pre>
 </div>
</div></section>
</div>
</body>
</html>