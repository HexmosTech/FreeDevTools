<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>write-list -  (linked-list)</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/golf">golf_601.4.41-1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       write-list -  (linked-list)

</pre><h4><b>PURPOSE</b></h4><pre>
       Write key/value pair into a linked list.

</pre><h4><b>SYNTAX</b></h4><pre>
           write-list &lt;list&gt; key &lt;key&gt; \
               value &lt;value&gt; \
               [ append [ &lt;append&gt; ] ]

</pre><h4><b>DESCRIPTION</b></h4><pre>
       write-list  adds  a  pair of key/value strings to the linked &lt;list&gt;, specified with &lt;key&gt; and &lt;value&gt; (in
       "key" and "value" clauses, collectively called an "element").

       The key/value pair is added just prior to the list's current position, thus becoming a current element.

       If "append" clause is used without boolean variable &lt;append&gt;, or if &lt;append&gt; evaluates to true, then  the
       element is added at the end of the list, and the list's current element becomes the newly added one.

</pre><h4><b>EXAMPLES</b></h4><pre>
       Add a key/value pair to the end of the list:

           new-list mylist
           write-list mylist key "mykey" value "myvalue" append

       The  following  is a list that is process-scoped, i.e. it is a linked-list server, which can add, delete,
       read and position to various elements:

           %% /llsrv public
               // Create linked list just once for the life of the process
               do-once
               new-list t process-scope
               end-do-once

               // Get input parameters
               get-param op
               get-param key
               get-param data

               if-true op equal "add" // Add data to list
                   // Make a copy of key,data so they are Golf-allocated
                   write-list t key (key) value data append
                   @Added [&lt;&lt;print-out key&gt;&gt;] value [&lt;&lt;print-out data&gt;&gt;]

               else-if op equal "delete" // Delete first data and obtain the value deleted
                   position-list t first
                   read-list t key (key) value val status st
                   if-true st equal GG_ERR_EXIST
                       @Not found
                   else-if
                       // If found, then delete key and value
                       @Deleted key [&lt;&lt;print-out key&gt;&gt;], [&lt;&lt;print-out val&gt;&gt;]
                       delete-list t
                   end-if

               else-if op equal "next" // Position to next element
                   position-list t next status st
                   if-true st equal GG_OKAY
                       @Okay
                   else-if
                       @Not found
                   end-if

               else-if op equal "last" // Position to last element
                   position-list t last status st
                   if-true st equal GG_OKAY
                       @Okay
                   else-if
                       @Not found
                   end-if

               else-if op equal "previous" // Position to element
                   position-list t previous status st
                   if-true st equal GG_OKAY
                       @Okay
                   else-if
                       @Not found
                   end-if

               else-if op equal "first" // Get first element
                   position-list t first status st
                   if-true st equal GG_OKAY
                       @Okay
                   else-if
                       @Not found
                   end-if

               else-if op equal "query" // Get current element
                   read-list t key (key) value val status st
                   if-true st equal GG_ERR_EXIST
                       @Not found
                   else-if
                       @Key [&lt;&lt;print-out key&gt;&gt;], value [&lt;&lt;print-out val&gt;&gt;]
                   end-if

               else-if op equal "purge" // remove all, keep the list
                   purge-list t
               end-if
           %%

       Create application:

           sudo mgrg -i -u $(whoami) linkserver

       Start the server:

           mgrg -w 1 linkserver

       Try it out:

           gg -r --req="/llsrv/op=add/key=1/data=1" --exec --service
           gg -r --req="/llsrv/op=add/key=2/data=2" --exec --service
           gg -r --req="/llsrv/op=query" --exec --service
           gg -r --req="/llsrv/op=previous" --exec --service
           gg -r --req="/llsrv/op=query" --exec --service

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
        Linked list

       <b>delete-list</b> <b>get-list</b> <b>new-list</b> <b>position-list</b> <b>purge-list</b> <b>read-list</b> <b>write-list</b> See all <b>documentation</b>

$DATE                                               $VERSION                                           <u><a href="../man2gg/GOLF.2gg.html">GOLF</a></u>(2gg)
</pre>
 </div>
</div></section>
</div>
</body>
</html>