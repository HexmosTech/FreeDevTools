<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>shmctl — shared memory control</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/freebsd-manpages">freebsd-manpages_12.2-2_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       shmctl — shared memory control

</pre><h4><b>LIBRARY</b></h4><pre>
       Standard C Library (libc, -lc)

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>#include</b> <b>&lt;sys/types.h&gt;</b>
       <b>#include</b> <b>&lt;sys/ipc.h&gt;</b>
       <b>#include</b> <b>&lt;sys/shm.h&gt;</b>

       <u>int</u>
       <b>shmctl</b>(<u>int</u> <u>shmid</u>, <u>int</u> <u>cmd</u>, <u>struct</u> <u>shmid_ds</u> <u>*buf</u>);

</pre><h4><b>DESCRIPTION</b></h4><pre>
       Performs the action specified by <u>cmd</u> on the shared memory segment identified by <u>shmid</u>:

       IPC_STAT     Fetch the segment's <u>struct</u> <u>shmid_ds</u>, storing it in the memory pointed to by <u>buf</u>.

       IPC_SET      Changes  the  <u>shm_perm.uid</u>,  <u>shm_perm.gid</u>, and <u>shm_perm.mode</u> members of the segment's <u>struct</u>
                    <u>shmid_ds</u> to match those of the struct pointed to by <u>buf</u>.  The  calling  process's  effective
                    uid must match either <u>shm_perm.uid</u> or <u>shm_perm.cuid</u>, or it must have superuser privileges.

       IPC_RMID     Removes  the  segment from the system.  The removal will not take effect until all processes
                    having attached the segment  have  exited.   For  the  operation  to  succeed,  the  calling
                    process's  effective  uid must match <u>shm_perm.uid</u> or <u>shm_perm.cuid</u>, or the process must have
                    superuser privileges.  If the <u>kern.ipc.shm_allow_removed</u> <u><a href="../man3/sysctl.3.html">sysctl</a></u>(3) variable  is  set  to  0,
                    once  the IPC_RMID operation has taken place, no further processes will be allowed to attach
                    the segment.

       The <u>shmid_ds</u> structure is defined as follows:

       struct shmid_ds {
           struct ipc_perm shm_perm;   /* operation permission structure */
           size_t          shm_segsz;  /* size of segment in bytes */
           pid_t           shm_lpid;   /* process ID of last shared memory op */
           pid_t           shm_cpid;   /* process ID of creator */
           int             shm_nattch; /* number of current attaches */
           time_t          shm_atime;  /* time of last shmat() */
           time_t          shm_dtime;  /* time of last shmdt() */
           time_t          shm_ctime;  /* time of last change by shmctl() */
       };

</pre><h4><b>RETURN</b> <b>VALUES</b></h4><pre>
       The <b>shmctl</b>() function returns the value 0 if successful; otherwise the  value  -1  is  returned  and  the
       global variable <u>errno</u> is set to indicate the error.

</pre><h4><b>ERRORS</b></h4><pre>
       The <b>shmctl</b>() system call will fail if:

       [EINVAL]           Invalid operation, or no shared memory segment was found corresponding to <u>shmid</u>.

       [EPERM]            The  calling  process's  effective  uid  does  not  match the uid of the shared memory
                          segment's owner or creator.

       [EACCES]           Permission denied due to mismatch between operation and mode of shared memory segment.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <u><a href="../man2/shmat.2.html">shmat</a></u>(2), <u><a href="../man2/shmdt.2.html">shmdt</a></u>(2), <u><a href="../man2/shmget.2.html">shmget</a></u>(2), <u><a href="../man3/ftok.3.html">ftok</a></u>(3)

Debian                                          October 10, 2015                                       <u><a href="../man2/SHMCTL.2.html">SHMCTL</a></u>(2)
</pre>
 </div>
</div></section>
</div>
</body>
</html>