<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>modstat — get status of kernel module</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/freebsd-manpages">freebsd-manpages_12.2-2_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       modstat — get status of kernel module

</pre><h4><b>LIBRARY</b></h4><pre>
       Standard C Library (libc, -lc)

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>#include</b> <b>&lt;sys/param.h&gt;</b>
       <b>#include</b> <b>&lt;sys/module.h&gt;</b>

       <u>int</u>
       <b>modstat</b>(<u>int</u> <u>modid</u>, <u>struct</u> <u>module_stat</u> <u>*stat</u>);

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The <b>modstat</b>() system call writes the info for the kernel module referred to by <u>modid</u> into <u>stat</u>.

       struct module_stat {
               int         version;        /* set to <a href="../manmodule_stat/sizeof.module_stat.html">sizeof</a>(module_stat) */
               char        name[MAXMODNAME];
               int         refs;
               int         id;
               modspecific_t data;
       };
       typedef union modspecific {
               int         intval;
               u_int       uintval;
               long        longval;
               u_long      ulongval;
       } modspecific_t;

       version     This field is set to the size of the structure mentioned above by the code calling <b>modstat</b>(),
                   and not <b>modstat</b>() itself.

       name        The name of the module referred to by <u>modid</u>.

       refs        The number of modules referenced by <u>modid</u>.

       id          The id of the module specified in <u>modid</u>.

       data        Module specific data.

</pre><h4><b>RETURN</b> <b>VALUES</b></h4><pre>
       The  <b>modstat</b>()  function  returns  the  value 0 if successful; otherwise the value -1 is returned and the
       global variable <u>errno</u> is set to indicate the error.

</pre><h4><b>ERRORS</b></h4><pre>
       The information for the module referred to by <u>modid</u> is filled into  the  structure  pointed  to  by  <u>stat</u>
       unless:

       [ENOENT]           The module was not found (probably not loaded).

       [EINVAL]           The  version  specified  in  the <u>version</u> field of stat is not the proper version.  You
                          would need to rebuild world, the kernel, or your application, if  this  error  occurs,
                          given that you did properly fill in the <u>version</u> field.

       [EFAULT]           There  was  a  problem  copying  one,  some,  or  all  of  the fields into <u>stat</u> in the
                          <u><a href="../man9/copyout.9.html">copyout</a></u>(9) function.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <u><a href="../man2/kldfind.2.html">kldfind</a></u>(2), <u><a href="../man2/kldfirstmod.2.html">kldfirstmod</a></u>(2), <u><a href="../man2/kldload.2.html">kldload</a></u>(2),  <u><a href="../man2/kldnext.2.html">kldnext</a></u>(2),  <u><a href="../man2/kldstat.2.html">kldstat</a></u>(2),  <u><a href="../man2/kldsym.2.html">kldsym</a></u>(2),  <u><a href="../man2/kldunload.2.html">kldunload</a></u>(2),  <u><a href="../man2/modfind.2.html">modfind</a></u>(2),
       <u><a href="../man2/modfnext.2.html">modfnext</a></u>(2), <u><a href="../man2/modnext.2.html">modnext</a></u>(2), <u><a href="../man4/kld.4.html">kld</a></u>(4), <u><a href="../man8/kldstat.8.html">kldstat</a></u>(8)

</pre><h4><b>HISTORY</b></h4><pre>
       The <b>kld</b> interface first appeared in FreeBSD 3.0.

Debian                                            July 15, 2008                                       <u><a href="../man2/MODSTAT.2.html">MODSTAT</a></u>(2)
</pre>
 </div>
</div></section>
</div>
</body>
</html>