<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TIOCLINUX - ioctls for console terminal and virtual consoles</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/manpages-dev">manpages-dev_6.9.1-1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       TIOCLINUX - ioctls for console terminal and virtual consoles

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>#include</b> <b>&lt;<a href="file:/usr/include/linux/tiocl.h">linux/tiocl.h</a>&gt;</b>  /* Definition of <b>TIOCL_*</b> constants */
       <b>#include</b> <b>&lt;sys/ioctl.h&gt;</b>

       <b>int</b> <b>ioctl(int</b> <u>fd</u><b>,</b> <b>TIOCLINUX,</b> <b>void</b> <b>*</b><u>argp</u><b>);</b>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The  action  of the following ioctls depends on the first byte in the struct pointed to by <u>argp</u>, referred
       to here as the <u>subcode</u>.  These are legal only for the superuser or the owner of the current terminal.

       <b>subcode</b>=<b>0</b>
              Dump the screen.  Disappeared in Linux 1.1.92.  (With Linux 1.1.92 or later, read  from  <u>/dev/vcs</u>N
              or <u>/dev/vcsa</u>N instead.)

       <b>subcode</b>=<b>1</b>
              Get task information.  Disappeared in Linux 1.1.92.

       <b>subcode</b>=<b>TIOCL_SETSEL</b>
              Set selection.  <u>argp</u> points to a

                  struct {
                      char  subcode;
                      short xs, ys, xe, ye;
                      short sel_mode;
                  };

              <u>xs</u>  and <u>ys</u> are the starting column and row.  <u>xe</u> and <u>ye</u> are the ending column and row.  (Upper left
              corner is row=column=1.)  <u>sel_mode</u> is 0 for character-by-character selection, 1  for  word-by-word
              selection,  or  2 for line-by-line selection.  The indicated screen characters are highlighted and
              saved in a kernel buffer.

              Since Linux 6.7, using this subcode requires the <b>CAP_SYS_ADMIN</b> capability.

       <b>subcode</b>=<b>TIOCL_PASTESEL</b>
              Paste selection.  The characters in the selection buffer are written to <u>fd</u>.

              Since Linux 6.7, using this subcode requires the <b>CAP_SYS_ADMIN</b> capability.

       <b>subcode</b>=<b>TIOCL_UNBLANKSCREEN</b>
              Unblank the screen.

       <b>subcode</b>=<b>TIOCL_SELLOADLUT</b>
              Sets contents of a 256-bit look up  table  defining  characters  in  a  "word",  for  word-by-word
              selection.  (Since Linux 1.1.32.)

              Since Linux 6.7, using this subcode requires the <b>CAP_SYS_ADMIN</b> capability.

       <b>subcode</b>=<b>TIOCL_GETSHIFTSTATE</b>
              <u>argp</u>  points to a char which is set to the value of the kernel variable <u>shift_state</u>.  (Since Linux
              1.1.32.)

       <b>subcode</b>=<b>TIOCL_GETMOUSEREPORTING</b>
              <u>argp</u> points to a char which is set to the value of the kernel variable <u>report_mouse</u>.  (Since Linux
              1.1.33.)

       <b>subcode</b>=<b>8</b>
              Dump screen width and height, cursor position, and  all  the  character-attribute  pairs.   (Linux
              1.1.67 through Linux 1.1.91 only.  With Linux 1.1.92 or later, read from <u>/dev/vcsa*</u> instead.)

       <b>subcode</b>=<b>9</b>
              Restore  screen  width and height, cursor position, and all the character-attribute pairs.  (Linux
              1.1.67 through Linux 1.1.91 only.  With Linux 1.1.92 or later, write to <u>/dev/vcsa*</u> instead.)

       <b>subcode</b>=<b>TIOCL_SETVESABLANK</b>
              Handles the Power Saving feature of the new generation of monitors.  VESA screen blanking mode  is
              set to <u>argp[1]</u>, which governs what screen blanking does:

              <b>0</b>      Screen blanking is disabled.

              <b>1</b>      The current video adapter register settings are saved, then the controller is programmed to
                     turn  off  the vertical synchronization pulses.  This puts the monitor into "standby" mode.
                     If your monitor has an Off_Mode timer, then it will eventually power down by itself.

              <b>2</b>      The current settings are saved, then  both  the  vertical  and  horizontal  synchronization
                     pulses  are  turned  off.   This  puts the monitor into "off" mode.  If your monitor has no
                     Off_Mode timer, or if you want your monitor to power down immediately when the  blank_timer
                     times out, then you choose this option.  (<u>Caution:</u> Powering down frequently will damage the
                     monitor.)  (Since Linux 1.1.76.)

       <b>subcode</b>=<b>TIOCL_SETKMSGREDIRECT</b>
              Change  target  of  kernel messages ("console"): by default, and if this is set to <b>0</b>, messages are
              written to the currently active VT.  The VT to write  to  is  a  single  byte  following  <b>subcode</b>.
              (Since Linux 2.5.36.)

       <b>subcode</b>=<b>TIOCL_GETFGCONSOLE</b>
              Returns the number of VT currently in foreground.  (Since Linux 2.5.36.)

       <b>subcode</b>=<b>TIOCL_SCROLLCONSOLE</b>
              Scroll the foreground VT by the specified amount of <u>lines</u> down, or half the screen if <b>0</b>.  <u>lines</u> is
              *(((int32_t *)&amp;subcode) + 1).  (Since Linux 2.5.67.)

       <b>subcode</b>=<b>TIOCL_BLANKSCREEN</b>
              Blank the foreground VT, ignoring "pokes" (typing): can only be unblanked explicitly (by switching
              VTs, to text mode, etc.).  (Since Linux 2.5.71.)

       <b>subcode</b>=<b>TIOCL_BLANKEDSCREEN</b>
              Returns the number of VT currently blanked, <b>0</b> if none.  (Since Linux 2.5.71.)

       <b>subcode</b>=<b>16</b>
              Never used.

       <b>subcode</b>=<b>TIOCL_GETKMSGREDIRECT</b>
              Returns target of kernel messages.  (Since Linux 2.6.17.)

</pre><h4><b>RETURN</b> <b>VALUE</b></h4><pre>
       On  success,  0  is  returned  (except where indicated).  On failure, -1 is returned, and <u>errno</u> is set to
       indicate the error.

</pre><h4><b>ERRORS</b></h4><pre>
       <b>EINVAL</b> <u>argp</u> is invalid.

       <b>EPERM</b>  Insufficient permission.

</pre><h4><b>STANDARDS</b></h4><pre>
       Linux.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man2/ioctl.2.html">ioctl</a></b>(2), <b><a href="../man2/ioctl_console.2.html">ioctl_console</a></b>(2)

Linux man-pages 6.9.1                              2024-06-13                                  <u><a href="../man2const/TIOCLINUX.2const.html">TIOCLINUX</a></u>(2const)
</pre>
 </div>
</div></section>
</div>
</body>
</html>