<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>link, linkat — make a hard file link</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/freebsd-manpages">freebsd-manpages_12.2-2_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       link, linkat — make a hard file link

</pre><h4><b>LIBRARY</b></h4><pre>
       Standard C Library (libc, -lc)

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>#include</b> <b>&lt;<a href="file:/usr/include/unistd.h">unistd.h</a>&gt;</b>

       <u>int</u>
       <b>link</b>(<u>const</u> <u>char</u> <u>*name1</u>, <u>const</u> <u>char</u> <u>*name2</u>);

       <u>int</u>
       <b>linkat</b>(<u>int</u> <u>fd1</u>, <u>const</u> <u>char</u> <u>*name1</u>, <u>int</u> <u>fd2</u>, <u>const</u> <u>char</u> <u>*name2</u>, <u>int</u> <u>flag</u>);

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The  <b>link</b>()  system  call  atomically  creates  the  specified directory entry (hard link) <u>name2</u> with the
       attributes of the underlying object pointed at by <u>name1</u>.  If the link is successful: the  link  count  of
       the  underlying  object  is  incremented; <u>name1</u> and <u>name2</u> share equal access and rights to the underlying
       object.

       If <u>name1</u> is removed, the file <u>name2</u> is not deleted and  the  link  count  of  the  underlying  object  is
       decremented.

       The  object  pointed  at by the <u>name1</u> argument must exist for the hard link to succeed and both <u>name1</u> and
       <u>name2</u> must be in the same file system.  The <u>name1</u> argument may not be a directory.

       The <b>linkat</b>() system call is equivalent to <u>link</u> except in the case where either <u>name1</u> or <u>name2</u> or both are
       relative paths.  In this case a relative path <u>name1</u> is interpreted relative to the  directory  associated
       with  the  file  descriptor  <u>fd1</u> instead of the current working directory and similarly for <u>name2</u> and the
       file descriptor <u>fd2</u>.

       Values for <u>flag</u> are constructed by a bitwise-inclusive OR of flags from the following  list,  defined  in
       &lt;<u>fcntl.h</u>&gt;:

       AT_SYMLINK_FOLLOW
               If <u>name1</u> names a symbolic link, a new link for the target of the symbolic link is created.

       If  <b>linkat</b>()  is  passed  the  special  value  AT_FDCWD  in the <u>fd1</u> or <u>fd2</u> parameter, the current working
       directory is used for the respective <u>name</u> argument.  If  both  <u>fd1</u>  and  <u>fd2</u>  have  value  AT_FDCWD,  the
       behavior  is  identical  to  a call to <b>link</b>().  Unless <u>flag</u> contains the AT_SYMLINK_FOLLOW flag, if <u>name1</u>
       names a symbolic link, a new link is created for the symbolic link <u>name1</u> and not its target.

</pre><h4><b>RETURN</b> <b>VALUES</b></h4><pre>
       The <b>link</b>() function returns the value 0 if successful; otherwise the value -1 is returned and the  global
       variable <u>errno</u> is set to indicate the error.

</pre><h4><b>ERRORS</b></h4><pre>
       The <b>link</b>() system call will fail and no link will be created if:

       [ENOTDIR]          A component of either path prefix is not a directory.

       [ENAMETOOLONG]     A  component  of  either  pathname exceeded 255 characters, or entire length of either
                          path name exceeded 1023 characters.

       [ENOENT]           A component of either path prefix does not exist.

       [EOPNOTSUPP]       The file system containing the file named by <u>name1</u> does not support links.

       [EMLINK]           The link count of the file named by <u>name1</u> would exceed 32767.

       [EACCES]           A component of either path prefix denies search permission.

       [EACCES]           The requested link requires writing in a directory  with  a  mode  that  denies  write
                          permission.

       [ELOOP]            Too many symbolic links were encountered in translating one of the pathnames.

       [ENOENT]           The file named by <u>name1</u> does not exist.

       [EEXIST]           The link named by <u>name2</u> does exist.

       [EPERM]            The file named by <u>name1</u> is a directory.

       [EPERM]            The  file named by <u>name1</u> has its immutable or append-only flag set, see the <u><a href="../man2/chflags.2.html">chflags</a></u>(2)
                          manual page for more information.

       [EPERM]            The parent directory of the file named by <u>name2</u> has its immutable flag set.

       [EXDEV]            The link named by <u>name2</u> and the file named by <u>name1</u> are on different file systems.

       [ENOSPC]           The directory in which the entry for the new link is being placed cannot  be  extended
                          because there is no space left on the file system containing the directory.

       [EDQUOT]           The  directory  in which the entry for the new link is being placed cannot be extended
                          because the user's quota of disk blocks on the file system  containing  the  directory
                          has been exhausted.

       [EIO]              An  I/O  error  occurred  while reading from or writing to the file system to make the
                          directory entry.

       [EINTEGRITY]       Corrupted data was detected while reading from the file system.

       [EROFS]            The requested link requires writing in a directory on a read-only file system.

       [EFAULT]           One of the pathnames specified is outside the process's allocated address space.

       In addition to the errors returned by the <b>link</b>(), the <b>linkat</b>() system call may fail if:

       [EBADF]            The <u>name1</u> or <u>name2</u> argument does not specify an absolute  path  and  the  <u>fd1</u>  or  <u>fd2</u>
                          argument,  respectively,  is  neither  AT_FDCWD  nor  a valid file descriptor open for
                          searching.

       [EINVAL]           The value of the <u>flag</u> argument is not valid.

       [ENOTDIR]          The <u>name1</u> or <u>name2</u> argument is not an absolute path and <u>fd1</u> or <u>fd2</u>,  respectively,  is
                          neither AT_FDCWD nor a file descriptor associated with a directory.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <u><a href="../man2/chflags.2.html">chflags</a></u>(2), <u><a href="../man2/readlink.2.html">readlink</a></u>(2), <u><a href="../man2/symlink.2.html">symlink</a></u>(2), <u><a href="../man2/unlink.2.html">unlink</a></u>(2)

</pre><h4><b>STANDARDS</b></h4><pre>
       The  <b>link</b>()  system  call is expected to conform to ISO/IEC 9945-1:1990 (“POSIX.1”).  The <b>linkat</b>() system
       call follows The Open Group Extended API Set 2 specification.

</pre><h4><b>HISTORY</b></h4><pre>
       The <b>link</b>() function appeared in Version 1 AT&amp;T UNIX.  The <b>linkat</b>() system call appeared in FreeBSD 8.0.

       The <b>link</b>() system call traditionally allows the super-user to link directories which  corrupts  the  file
       system coherency.  This implementation no longer permits it.

Debian                                           March 30, 2020                                          <u><a href="../man2/LINK.2.html">LINK</a></u>(2)
</pre>
 </div>
</div></section>
</div>
</body>
</html>