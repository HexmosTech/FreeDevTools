<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>getpriority, setpriority - get/set program scheduling priority</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/manpages-dev">manpages-dev_6.9.1-1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       getpriority, setpriority - get/set program scheduling priority

</pre><h4><b>LIBRARY</b></h4><pre>
       Standard C library (<u>libc</u>, <u>-lc</u>)

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>#include</b> <b>&lt;sys/resource.h&gt;</b>

       <b>int</b> <b>getpriority(int</b> <u>which</u><b>,</b> <b>id_t</b> <u>who</u><b>);</b>
       <b>int</b> <b>setpriority(int</b> <u>which</u><b>,</b> <b>id_t</b> <u>who</u><b>,</b> <b>int</b> <u>prio</u><b>);</b>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The scheduling priority of the process, process group, or user, as indicated by <u>which</u> and <u>who</u> is obtained
       with  the  <b>getpriority</b>()  call  and set with the <b>setpriority</b>() call.  The process attribute dealt with by
       these system calls is the same attribute (also known as the "nice" value) that is dealt with by <b><a href="../man2/nice.2.html">nice</a></b>(2).

       The value <u>which</u> is one of <b>PRIO_PROCESS</b>, <b>PRIO_PGRP</b>, or <b>PRIO_USER</b>, and <u>who</u> is interpreted relative to <u>which</u>
       (a process identifier for <b>PRIO_PROCESS</b>, process group  identifier  for  <b>PRIO_PGRP</b>,  and  a  user  ID  for
       <b>PRIO_USER</b>).   A  zero  value for <u>who</u> denotes (respectively) the calling process, the process group of the
       calling process, or the real user ID of the calling process.

       The <u>prio</u> argument is a value in the range -20 to 19 (but see NOTES below), with  -20  being  the  highest
       priority  and  19  being the lowest priority.  Attempts to set a priority outside this range are silently
       clamped to the range.  The default priority is 0;  lower  values  give  a  process  a  higher  scheduling
       priority.

       The  <b>getpriority</b>()  call  returns  the  highest  priority  (lowest numerical value) enjoyed by any of the
       specified processes.  The <b>setpriority</b>() call sets the priorities of all of the specified processes to the
       specified value.

       Traditionally, only a privileged process could lower the  nice  value  (i.e.,  set  a  higher  priority).
       However, since Linux 2.6.12, an unprivileged process can decrease the nice value of a target process that
       has a suitable <b>RLIMIT_NICE</b> soft limit; see <b><a href="../man2/getrlimit.2.html">getrlimit</a></b>(2) for details.

</pre><h4><b>RETURN</b> <b>VALUE</b></h4><pre>
       On  success,  <b>getpriority</b>()  returns the calling thread's nice value, which may be a negative number.  On
       error, it returns -1 and sets <u>errno</u> to indicate the error.

       Since a successful call to <b>getpriority</b>() can legitimately return the value -1, it is necessary  to  clear
       <u>errno</u> prior to the call, then check <u>errno</u> afterward to determine if -1 is an error or a legitimate value.

       <b>setpriority</b>() returns 0 on success.  On failure, it returns -1 and sets <u>errno</u> to indicate the error.

</pre><h4><b>ERRORS</b></h4><pre>
       <b>EACCES</b> The caller attempted to set a lower nice value (i.e., a higher process priority), but did not have
              the required privilege (on Linux: did not have the <b>CAP_SYS_NICE</b> capability).

       <b>EINVAL</b> <u>which</u> was not one of <b>PRIO_PROCESS</b>, <b>PRIO_PGRP</b>, or <b>PRIO_USER</b>.

       <b>EPERM</b>  A  process  was  located, but its effective user ID did not match either the effective or the real
              user ID of the  caller,  and  was  not  privileged  (on  Linux:  did  not  have  the  <b>CAP_SYS_NICE</b>
              capability).  But see NOTES below.

       <b>ESRCH</b>  No process was located using the <u>which</u> and <u>who</u> values specified.

</pre><h4><b>STANDARDS</b></h4><pre>
       POSIX.1-2008.

</pre><h4><b>HISTORY</b></h4><pre>
       POSIX.1-2001, SVr4, 4.4BSD (these interfaces first appeared in 4.2BSD).

</pre><h4><b>NOTES</b></h4><pre>
       For further details on the nice value, see <b><a href="../man7/sched.7.html">sched</a></b>(7).

       <u>Note</u>: the addition of the "autogroup" feature in Linux 2.6.38 means that the nice value no longer has its
       traditional effect in many circumstances.  For details, see <b><a href="../man7/sched.7.html">sched</a></b>(7).

       A  child  created  by  <b><a href="../man2/fork.2.html">fork</a></b>(2)  inherits  its  parent's  nice  value.  The nice value is preserved across
       <b><a href="../man2/execve.2.html">execve</a></b>(2).

       The details on the condition for <b>EPERM</b> depend on the system.  The above description is what  POSIX.1-2001
       says,  and seems to be followed on all System V-like systems.  Linux kernels before Linux 2.6.12 required
       the real or effective user ID of the caller to match the real user of the process  <u>who</u>  (instead  of  its
       effective user ID).  Linux 2.6.12 and later require the effective user ID of the caller to match the real
       or  effective user ID of the process <u>who</u>.  All BSD-like systems (SunOS 4.1.3, Ultrix 4.2, 4.3BSD, FreeBSD
       4.3, OpenBSD-2.5, ...) behave in the same manner as Linux 2.6.12 and later.

   <b>C</b> <b>library/kernel</b> <b>differences</b>
       The getpriority system call returns nice values translated to the range 40..1, since  a  negative  return
       value  would  be  interpreted  as  an error.  The glibc wrapper function for <b>getpriority</b>() translates the
       value back according to the formula <u>unice</u> <u>=</u> <u>20</u> <u>-</u> <u>knice</u> (thus, the 40..1  range  returned  by  the  kernel
       corresponds to the range -20..19 as seen by user space).

</pre><h4><b>BUGS</b></h4><pre>
       According  to  POSIX,  the  nice  value  is a per-process setting.  However, under the current Linux/NPTL
       implementation of POSIX threads, the nice value is a per-thread attribute: different threads in the  same
       process  can  have  different  nice  values.   Portable  applications  should  avoid relying on the Linux
       behavior, which may be made standards conformant in the future.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man1/nice.1.html">nice</a></b>(1), <b><a href="../man1/renice.1.html">renice</a></b>(1), <b><a href="../man2/fork.2.html">fork</a></b>(2), <b><a href="../man7/capabilities.7.html">capabilities</a></b>(7), <b><a href="../man7/sched.7.html">sched</a></b>(7)

       <u>Documentation/scheduler/sched-nice-design.txt</u> in the Linux kernel source tree (since Linux 2.6.23)

Linux man-pages 6.9.1                              2024-05-02                                     <u><a href="../man2/getpriority.2.html">getpriority</a></u>(2)
</pre>
 </div>
</div></section>
</div>
</body>
</html>