<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>aio_fsync — asynchronous file synchronization (REALTIME)</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/freebsd-manpages">freebsd-manpages_12.2-2_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       aio_fsync — asynchronous file synchronization (REALTIME)

</pre><h4><b>LIBRARY</b></h4><pre>
       Standard C Library (libc, -lc)

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>#include</b> <b>&lt;<a href="file:/usr/include/aio.h">aio.h</a>&gt;</b>

       <u>int</u>
       <b>aio_fsync</b>(<u>int</u> <u>op</u>, <u>struct</u> <u>aiocb</u> <u>*iocb</u>);

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The  <b>aio_fsync</b>()  system  call  allows  the calling process to move all modified data associated with the
       descriptor <u>iocb-&gt;aio_fildes</u> to a permanent storage  device.   The  call  returns  immediately  after  the
       synchronization  request  has  been  enqueued  to the descriptor; the synchronization may or may not have
       completed at the time the call returns.

       The <u>op</u> argument can only be set to O_SYNC to cause all currently queued I/O operations to be completed as
       if by a call to <u><a href="../man2/fsync.2.html">fsync</a></u>(2).

       If _POSIX_PRIORITIZED_IO is defined, and the descriptor supports  it,  then  the  enqueued  operation  is
       submitted at a priority equal to that of the calling process minus <u>iocb-&gt;aio_reqprio</u>.

       The  <u>iocb</u>  pointer  may  be  subsequently used as an argument to <b>aio_return</b>() and <b>aio_error</b>() in order to
       determine return or error status for the enqueued operation while it is in progress.

       If the request could not be enqueued (generally due to  invalid  arguments),  the  call  returns  without
       having enqueued the request.

       The  <u>iocb-&gt;aio_sigevent</u>  structure  can  be used to request notification of the operation's completion as
       described in <u><a href="../man4/aio.4.html">aio</a></u>(4).

</pre><h4><b>RESTRICTIONS</b></h4><pre>
       The Asynchronous I/O Control Block structure pointed to by <u>iocb</u> must remain valid until the operation has
       completed.

       The asynchronous I/O control buffer <u>iocb</u> should be zeroed before the <b>aio_fsync</b>() call  to  avoid  passing
       bogus context information to the kernel.

       Modification of the Asynchronous I/O Control Block structure is not allowed while the request is queued.

</pre><h4><b>RETURN</b> <b>VALUES</b></h4><pre>
       The  <b>aio_fsync</b>()  function  returns the value 0 if successful; otherwise the value -1 is returned and the
       global variable <u>errno</u> is set to indicate the error.

</pre><h4><b>ERRORS</b></h4><pre>
       The <b>aio_fsync</b>() system call will fail if:

       [EAGAIN]           The request was not queued because of system resource limitations.

       [EINVAL]           The asynchronous notification method in <u>iocb-&gt;aio_sigevent.sigev_notify</u> is invalid  or
                          not supported.

       [EOPNOTSUPP]       Asynchronous  file  synchronization operations on the file descriptor <u>iocb-&gt;aio_fildes</u>
                          are unsafe and unsafe asynchronous I/O operations are disabled.

       [EINVAL]           A value of the <u>op</u> argument is not set to O_SYNC.

       The following conditions may be synchronously detected when the  <b>aio_fsync</b>()  system  call  is  made,  or
       asynchronously,  at  any  time thereafter.  If they are detected at call time, <b>aio_fsync</b>() returns -1 and
       sets <u>errno</u> appropriately; otherwise the <b>aio_return</b>() system call must be called, and will return -1,  and
       <b>aio_error</b>() must be called to determine the actual value that would have been returned in <u>errno</u>.

       [EBADF]            The <u>iocb-&gt;aio_fildes</u> argument is not a valid descriptor.

       [EINVAL]           This implementation does not support synchronized I/O for this file.

       If  the  request  is  successfully  enqueued,  but  subsequently  cancelled or an error occurs, the value
       returned by the <b>aio_return</b>() system call is per the <u><a href="../man2/read.2.html">read</a></u>(2) and <u><a href="../man2/write.2.html">write</a></u>(2)  system  calls,  and  the  value
       returned  by  the <b>aio_error</b>() system call is one of the error returns from the <u><a href="../man2/read.2.html">read</a></u>(2) or <u><a href="../man2/write.2.html">write</a></u>(2) system
       calls.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <u><a href="../man2/aio_cancel.2.html">aio_cancel</a></u>(2),   <u><a href="../man2/aio_error.2.html">aio_error</a></u>(2),   <u><a href="../man2/aio_read.2.html">aio_read</a></u>(2),   <u><a href="../man2/aio_return.2.html">aio_return</a></u>(2),    <u><a href="../man2/aio_suspend.2.html">aio_suspend</a></u>(2),    <u><a href="../man2/aio_waitcomplete.2.html">aio_waitcomplete</a></u>(2),
       <u><a href="../man2/aio_write.2.html">aio_write</a></u>(2), <u><a href="../man2/fsync.2.html">fsync</a></u>(2), <u><a href="../man3/sigevent.3.html">sigevent</a></u>(3), <u><a href="../man3/siginfo.3.html">siginfo</a></u>(3), <u><a href="../man4/aio.4.html">aio</a></u>(4)

</pre><h4><b>STANDARDS</b></h4><pre>
       The <b>aio_fsync</b>() system call is expected to conform to the IEEE Std 1003.1 (“POSIX.1”) standard.

</pre><h4><b>HISTORY</b></h4><pre>
       The <b>aio_fsync</b>() system call first appeared in FreeBSD 7.0.

Debian                                           August 19, 2016                                    <u><a href="../man2/AIO_FSYNC.2.html">AIO_FSYNC</a></u>(2)
</pre>
 </div>
</div></section>
</div>
</body>
</html>