<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>statfs — get file system statistics</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/freebsd-manpages">freebsd-manpages_12.2-2_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       statfs — get file system statistics

</pre><h4><b>LIBRARY</b></h4><pre>
       Standard C Library (libc, -lc)

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>#include</b> <b>&lt;sys/param.h&gt;</b>
       <b>#include</b> <b>&lt;sys/mount.h&gt;</b>

       <u>int</u>
       <b>statfs</b>(<u>const</u> <u>char</u> <u>*path</u>, <u>struct</u> <u>statfs</u> <u>*buf</u>);

       <u>int</u>
       <b>fstatfs</b>(<u>int</u> <u>fd</u>, <u>struct</u> <u>statfs</u> <u>*buf</u>);

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The  <b>statfs</b>() system call returns information about a mounted file system.  The <u>path</u> argument is the path
       name of any file within the mounted file system.  The <u>buf</u> argument is a pointer  to  a  <u>statfs</u>  structure
       defined as follows:

       typedef struct fsid { int32_t val[2]; } fsid_t; /* file system id type */

       /*
        * filesystem statistics
        */

       #define MFSNAMELEN      16              /* length of type name including null */
       #define MNAMELEN        1024            /* size of on/from name bufs */
       #define STATFS_VERSION  0x20140518      /* current version number */

       struct statfs {
       uint32_t f_version;             /* structure version number */
       uint32_t f_type;                /* type of filesystem */
       uint64_t f_flags;               /* copy of mount exported flags */
       uint64_t f_bsize;               /* filesystem fragment size */
       uint64_t f_iosize;              /* optimal transfer block size */
       uint64_t f_blocks;              /* total data blocks in filesystem */
       uint64_t f_bfree;               /* free blocks in filesystem */
       int64_t  f_bavail;              /* free blocks avail to non-superuser */
       uint64_t f_files;               /* total file nodes in filesystem */
       int64_t  f_ffree;               /* free nodes avail to non-superuser */
       uint64_t f_syncwrites;          /* count of sync writes since mount */
       uint64_t f_asyncwrites;         /* count of async writes since mount */
       uint64_t f_syncreads;           /* count of sync reads since mount */
       uint64_t f_asyncreads;          /* count of async reads since mount */
       uint64_t f_spare[10];           /* unused spare */
       uint32_t f_namemax;             /* maximum filename length */
       uid_t     f_owner;              /* user that mounted the filesystem */
       fsid_t    f_fsid;               /* filesystem id */
       char      f_charspare[80];          /* spare string space */
       char      f_fstypename[MFSNAMELEN]; /* filesystem type name */
       char      f_mntfromname[MNAMELEN];  /* mounted filesystem */
       char      f_mntonname[MNAMELEN];    /* directory on which mounted */
       };

       The flags that may be returned include:

       MNT_RDONLY       The file system is mounted read-only; Even the super-user may not write on it.

       MNT_NOEXEC       Files may not be executed from the file system.

       MNT_NOSUID       Setuid and setgid bits on files are not honored when they are executed.

       MNT_SYNCHRONOUS  All I/O to the file system is done synchronously.

       MNT_ASYNC        No file system I/O is done synchronously.

       MNT_SOFTDEP      Soft updates being done (see <u><a href="../man7/ffs.7.html">ffs</a></u>(7)).

       MNT_GJOURNAL     Journaling with gjournal is enabled (see <u><a href="../man8/gjournal.8.html">gjournal</a></u>(8)).

       MNT_SUIDDIR      Special handling of SUID bit on directories.

       MNT_UNION        Union with underlying file system.

       MNT_NOSYMFOLLOW  Symbolic links are not followed.

       MNT_NOCLUSTERR   Read clustering is disabled.

       MNT_NOCLUSTERW   Write clustering is disabled.

       MNT_MULTILABEL   Mandatory Access Control (MAC) support for individual objects (see <u><a href="../man4/mac.4.html">mac</a></u>(4)).

       MNT_ACLS         Access Control List (ACL) support enabled.

       MNT_LOCAL        The file system resides locally.

       MNT_QUOTA        The file system has quotas enabled on it.

       MNT_ROOTFS       Identifies the root file system.

       MNT_EXRDONLY     The file system is exported read-only.

       MNT_NOATIME      Updating of file access times is disabled.

       MNT_USER         The file system has been mounted by a user.

       MNT_EXPORTED     The file system is exported for both reading and writing.

       MNT_DEFEXPORTED  The file system is exported for both reading and writing to any Internet host.

       MNT_EXPORTANON   The file system maps all remote accesses to the anonymous user.

       MNT_EXKERB       The file system is exported with Kerberos uid mapping.

       MNT_EXPUBLIC     The file system is exported publicly (WebNFS).

       Fields  that are undefined for a particular file system are set to -1.  The <b>fstatfs</b>() system call returns
       the same information about an open file referenced by descriptor <u>fd</u>.

</pre><h4><b>RETURN</b> <b>VALUES</b></h4><pre>
       Upon successful completion, the value 0 is returned; otherwise the value -1 is returned  and  the  global
       variable <u>errno</u> is set to indicate the error.

</pre><h4><b>ERRORS</b></h4><pre>
       The <b>statfs</b>() system call fails if one or more of the following are true:

       [ENOTDIR]          A component of the path prefix of <u>path</u> is not a directory.

       [ENAMETOOLONG]     The  length  of  a  component  of  <u>path</u>  exceeds 255 characters, or the length of <u>path</u>
                          exceeds 1023 characters.

       [ENOENT]           The file referred to by <u>path</u> does not exist.

       [EACCES]           Search permission is denied for a component of the path prefix of <u>path</u>.

       [ELOOP]            Too many symbolic links were encountered in translating <u>path</u>.

       [EFAULT]           The <u>buf</u> or <u>path</u> argument points to an invalid address.

       [EIO]              An I/O error occurred while reading from or writing to the file system.

       [EINTEGRITY]       Corrupted data was detected while reading from the file system.

       The <b>fstatfs</b>() system call fails if one or more of the following are true:

       [EBADF]            The <u>fd</u> argument is not a valid open file descriptor.

       [EFAULT]           The <u>buf</u> argument points to an invalid address.

       [EIO]              An I/O error occurred while reading from or writing to the file system.

       [EINTEGRITY]       Corrupted data was detected while reading from the file system.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <u><a href="../man2/fhstatfs.2.html">fhstatfs</a></u>(2), <u><a href="../man2/getfsstat.2.html">getfsstat</a></u>(2)

</pre><h4><b>HISTORY</b></h4><pre>
       The <b>statfs</b>() system call first appeared in 4.4BSD.

Debian                                           March 30, 2020                                        <u><a href="../man2/STATFS.2.html">STATFS</a></u>(2)
</pre>
 </div>
</div></section>
</div>
</body>
</html>