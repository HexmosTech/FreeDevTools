<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>restart_syscall - restart a system call after interruption by a stop signal</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/manpages-dev">manpages-dev_6.9.1-1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       restart_syscall - restart a system call after interruption by a stop signal

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>long</b> <b>restart_syscall(void);</b>

       <u>Note</u>: There is no glibc wrapper for this system call; see NOTES.

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The  <b>restart_syscall</b>()  system  call  is  used  to  restart certain system calls after a process that was
       stopped by a signal (e.g., <b>SIGSTOP</b> or <b>SIGTSTP</b>) is later resumed after receiving a <b>SIGCONT</b>  signal.   This
       system call is designed only for internal use by the kernel.

       <b>restart_syscall</b>()  is  used  for  restarting  only those system calls that, when restarted, should adjust
       their time-related parametersâ€”namely <b><a href="../man2/poll.2.html">poll</a></b>(2)  (since  Linux  2.6.24),  <b><a href="../man2/nanosleep.2.html">nanosleep</a></b>(2)  (since  Linux  2.6),
       <b><a href="../man2/clock_nanosleep.2.html">clock_nanosleep</a></b>(2)  (since  Linux  2.6),  and  <b><a href="../man2/futex.2.html">futex</a></b>(2),  when  employed with the <b>FUTEX_WAIT</b> (since Linux
       2.6.22)  and  <b>FUTEX_WAIT_BITSET</b>  (since  Linux  2.6.31)  operations.   <b>restart_syscall</b>()   restarts   the
       interrupted  system  call with a time argument that is suitably adjusted to account for the time that has
       already elapsed  (including  the  time  where  the  process  was  stopped  by  a  signal).   Without  the
       <b>restart_syscall</b>() mechanism, restarting these system calls would not correctly deduct the already elapsed
       time when the process continued execution.

</pre><h4><b>RETURN</b> <b>VALUE</b></h4><pre>
       The return value of <b>restart_syscall</b>() is the return value of whatever system call is being restarted.

</pre><h4><b>ERRORS</b></h4><pre>
       <u>errno</u> is set as per the errors for whatever system call is being restarted by <b>restart_syscall</b>().

</pre><h4><b>STANDARDS</b></h4><pre>
       Linux.

</pre><h4><b>HISTORY</b></h4><pre>
       Linux 2.6.

</pre><h4><b>NOTES</b></h4><pre>
       There  is  no  glibc  wrapper for this system call, because it is intended for use only by the kernel and
       should never be called by applications.

       The kernel uses <b>restart_syscall</b>() to ensure that when a system call is restarted after a process has been
       stopped by a signal and then resumed by <b>SIGCONT</b>, then the time that the  process  spent  in  the  stopped
       state  is  counted  against  the  timeout interval specified in the original system call.  In the case of
       system calls that take a timeout argument and automatically restart after a stop signal plus <b>SIGCONT</b>, but
       which do not have the <b>restart_syscall</b>() mechanism built in, then, after the  process  resumes  execution,
       the  time  that  the  process  spent in the stop state is <u>not</u> counted against the timeout value.  Notable
       examples of system calls that suffer this problem are <b><a href="../man2/ppoll.2.html">ppoll</a></b>(2), <b><a href="../man2/select.2.html">select</a></b>(2), and <b><a href="../man2/pselect.2.html">pselect</a></b>(2).

       From user space, the operation of <b>restart_syscall</b>() is largely invisible: to the process  that  made  the
       system  call  that is restarted, it appears as though that system call executed and returned in the usual
       fashion.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man2/sigaction.2.html">sigaction</a></b>(2), <b><a href="../man2/sigreturn.2.html">sigreturn</a></b>(2), <b><a href="../man7/signal.7.html">signal</a></b>(7)

Linux man-pages 6.9.1                              2024-05-02                                 <u><a href="../man2/restart_syscall.2.html">restart_syscall</a></u>(2)
</pre>
 </div>
</div></section>
</div>
</body>
</html>