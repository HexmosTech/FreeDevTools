<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>lseek — reposition read/write file offset</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/freebsd-manpages">freebsd-manpages_12.2-2_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       lseek — reposition read/write file offset

</pre><h4><b>LIBRARY</b></h4><pre>
       Standard C Library (libc, -lc)

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>#include</b> <b>&lt;<a href="file:/usr/include/unistd.h">unistd.h</a>&gt;</b>

       <u>off_t</u>
       <b>lseek</b>(<u>int</u> <u>fildes</u>, <u>off_t</u> <u>offset</u>, <u>int</u> <u>whence</u>);

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The  <b>lseek</b>()  system  call  repositions  the  offset of the file descriptor <u>fildes</u> to the argument <u>offset</u>
       according to the directive <u>whence</u>.  The argument <u>fildes</u> must be an open  file  descriptor.   The  <b>lseek</b>()
       system call repositions the file position pointer associated with the file descriptor <u>fildes</u> as follows:

             If <u>whence</u> is SEEK_SET, the offset is set to <u>offset</u> bytes.

             If <u>whence</u> is SEEK_CUR, the offset is set to its current location plus <u>offset</u> bytes.

             If <u>whence</u> is SEEK_END, the offset is set to the size of the file plus <u>offset</u> bytes.

             If  <u>whence</u>  is  SEEK_HOLE, the offset is set to the start of the next hole greater than or equal to
             the supplied <u>offset</u>.  The definition of a hole is provided below.

             If <u>whence</u> is SEEK_DATA, the offset is set to the start of the next  non-hole  file  region  greater
             than or equal to the supplied <u>offset</u>.

       The  <b>lseek</b>()  system  call allows the file offset to be set beyond the end of the existing end-of-file of
       the file.  If data is later written at this point, subsequent reads of the data in the gap  return  bytes
       of  zeros  (until  data is actually written into the gap).  However, the <b>lseek</b>() system call does not, by
       itself, extend the size of a file.

       A "hole" is defined as a contiguous range of bytes in a file, all having the value of zero, but  not  all
       zeros  in  a  file  are  guaranteed to be represented as holes returned with SEEK_HOLE.  File systems are
       allowed to expose ranges of zeros with SEEK_HOLE, but not required to.  Applications can use SEEK_HOLE to
       optimise their behavior for ranges of zeros, but must not depend on it to find all such ranges in a file.
       Each file is presented as having a zero-size virtual hole at the very end of the file.  The existence  of
       a hole at the end of every data region allows for easy programming and also provides compatibility to the
       original  implementation  in Solaris.  It also causes the current file size (i.e., end-of-file offset) to
       be returned to indicate that there are no more holes past the supplied <u>offset</u>.  Applications  should  use
       <b>fpathconf</b>(<b>_</b><u>PC_MIN_HOLE_SIZE</u>)  or  <b>pathconf</b>(<b>_</b><u>PC_MIN_HOLE_SIZE</u>)  to  determine  if  a  file system supports
       SEEK_HOLE.  See <u><a href="../man2/pathconf.2.html">pathconf</a></u>(2).

       For file systems that do not supply information about holes, the file will be represented as  one  entire
       data region.

</pre><h4><b>RETURN</b> <b>VALUES</b></h4><pre>
       Upon  successful  completion, <b>lseek</b>() returns the resulting offset location as measured in bytes from the
       beginning of the file.  Otherwise, a value of -1 is returned and <u>errno</u> is set to indicate the error.

</pre><h4><b>ERRORS</b></h4><pre>
       The <b>lseek</b>() system call will fail and the file position pointer will remain unchanged if:

       [EBADF]            The <u>fildes</u> argument is not an open file descriptor.

       [EINVAL]           The <u>whence</u> argument is not a proper value  or  the  resulting  file  offset  would  be
                          negative for a non-character special file.

       [ENXIO]            For  SEEK_DATA,  there  are  no  more  data  regions past the supplied offset.  Due to
                          existence of the hole at the end of  the  file,  for  SEEK_HOLE  this  error  is  only
                          returned when the <u>offset</u> already points to the end-of-file position.

       [EOVERFLOW]        The resulting file offset would be a value which cannot be represented correctly in an
                          object of type <u>off_t</u>.

       [ESPIPE]           The <u>fildes</u> argument is associated with a pipe, socket, or FIFO.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <u><a href="../man2/dup.2.html">dup</a></u>(2), <u><a href="../man2/open.2.html">open</a></u>(2), <u><a href="../man2/pathconf.2.html">pathconf</a></u>(2)

</pre><h4><b>STANDARDS</b></h4><pre>
       The <b>lseek</b>() system call is expected to conform to IEEE Std 1003.1-2008 (“POSIX.1”).

       The SEEK_HOLE and SEEK_DATA directives, along with the ENXIO error, are extensions to that specification.

</pre><h4><b>HISTORY</b></h4><pre>
       The <b>lseek</b>() function appeared in Version 7 AT&amp;T UNIX.

</pre><h4><b>BUGS</b></h4><pre>
       If  the  <b>lseek</b>()  system call is operating on a device which is incapable of seeking, it will request the
       seek operation and return successfully, even though no seek was performed.  Because the  <u>offset</u>  argument
       will  be  stored unconditionally in the file descriptor of that device, there is no way to confirm if the
       seek operation succeeded or not (e.g. using the <b>ftell</b>() function).  Device types which are  known  to  be
       incapable of seeking include tape drives.

       The <b>lseek</b>() system call will not detect whether media are present in changeable media devices such as DVD
       or  Blu-ray  devices.   A  requested  seek  operation will therefore return sucessfully when no medium is
       present.

       This document's use of <u>whence</u> is incorrect English, but is maintained for historical reasons.

Debian                                            July 13, 2020                                         <u><a href="../man2/LSEEK.2.html">LSEEK</a></u>(2)
</pre>
 </div>
</div></section>
</div>
</body>
</html>