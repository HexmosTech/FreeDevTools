<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>pipe, pipe2 — create descriptor pair for interprocess communication</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/freebsd-manpages">freebsd-manpages_12.2-2_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       pipe, pipe2 — create descriptor pair for interprocess communication

</pre><h4><b>LIBRARY</b></h4><pre>
       Standard C Library (libc, -lc)

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>#include</b> <b>&lt;<a href="file:/usr/include/unistd.h">unistd.h</a>&gt;</b>

       <u>int</u>
       <b>pipe</b>(<u>int</u> <u>fildes[2]</u>);

       <u>int</u>
       <b>pipe2</b>(<u>int</u> <u>fildes[2]</u>, <u>int</u> <u>flags</u>);

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The  <b>pipe</b>() function creates a <u>pipe</u>, which is an object allowing bidirectional data flow, and allocates a
       pair of file descriptors.

       The <b>pipe2</b>() system call allows control over  the  attributes  of  the  file  descriptors  via  the  <u>flags</u>
       argument.   Values  for <u>flags</u> are constructed by a bitwise-inclusive OR of flags from the following list,
       defined in &lt;<u>fcntl.h</u>&gt;:

       O_CLOEXEC   Set the close-on-exec flag for the new file descriptors.

       O_NONBLOCK  Set the non-blocking flag for the ends of the pipe.

       If the <u>flags</u> argument is 0, the behavior is identical to a call to <b>pipe</b>().

       By convention, the first descriptor is normally used as the <u>read</u> <u>end</u> of  the  pipe,  and  the  second  is
       normally  the <u>write</u> <u>end</u>, so that data written to <u>fildes[1]</u> appears on (i.e., can be read from) <u>fildes[0]</u>.
       This allows the output of one program to be sent to another program: the source's standard output is  set
       up  to  be  the  write end of the pipe, and the sink's standard input is set up to be the read end of the
       pipe.  The pipe itself persists until all its associated descriptors are closed.

       A pipe that has had an end closed is considered <u>widowed</u>.  Writing on  such  a  pipe  causes  the  writing
       process to receive a SIGPIPE signal.  Widowing a pipe is the only way to deliver end-of-file to a reader:
       after the reader consumes any buffered data, reading a widowed pipe returns a zero count.

       The  bidirectional  nature  of  this  implementation  of pipes is not portable to older systems, so it is
       recommended to use the convention for using the endpoints in the traditional manner when using a pipe  in
       one direction.

</pre><h4><b>IMPLEMENTATION</b> <b>NOTES</b></h4><pre>
       The  <b>pipe</b>()  function  calls  the  <b>pipe2</b>()  system  call.   As a result, system call traces such as those
       captured by <u><a href="../man1/dtrace.1.html">dtrace</a></u>(1) or <u><a href="../man1/ktrace.1.html">ktrace</a></u>(1) will show calls to <b>pipe2</b>().

</pre><h4><b>RETURN</b> <b>VALUES</b></h4><pre>
       The <b>pipe</b>() function returns the value 0 if successful; otherwise the value -1 is returned and the  global
       variable <u>errno</u> is set to indicate the error.

</pre><h4><b>ERRORS</b></h4><pre>
       The <b>pipe</b>() and <b>pipe2</b>() system calls will fail if:

       [EFAULT]           <u>fildes</u> argument points to an invalid memory location.

       [EMFILE]           Too many descriptors are active.

       [ENFILE]           The system file table is full.

       [ENOMEM]           Not enough kernel memory to establish a pipe.

       The <b>pipe2</b>() system call will also fail if:

       [EINVAL]           The <u>flags</u> argument is invalid.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <u><a href="../man1/sh.1.html">sh</a></u>(1), <u><a href="../man2/fork.2.html">fork</a></u>(2), <u><a href="../man2/read.2.html">read</a></u>(2), <u><a href="../man2/socketpair.2.html">socketpair</a></u>(2), <u><a href="../man2/write.2.html">write</a></u>(2)

</pre><h4><b>HISTORY</b></h4><pre>
       The <b>pipe</b>() function appeared in Version 3 AT&amp;T UNIX.

       Bidirectional pipes were first used on AT&amp;T System V Release 4 UNIX.

       The <b>pipe2</b>() function appeared in FreeBSD 10.0.

       The <b>pipe</b>() function became a wrapper around <b>pipe2</b>() in FreeBSD 11.0.

Debian                                          December 1, 2017                                         <u><a href="../man2/PIPE.2.html">PIPE</a></u>(2)
</pre>
 </div>
</div></section>
</div>
</body>
</html>