<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>dup, dup2 — duplicate an existing file descriptor</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/freebsd-manpages">freebsd-manpages_12.2-2_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       dup, dup2 — duplicate an existing file descriptor

</pre><h4><b>LIBRARY</b></h4><pre>
       Standard C Library (libc, -lc)

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>#include</b> <b>&lt;<a href="file:/usr/include/unistd.h">unistd.h</a>&gt;</b>

       <u>int</u>
       <b>dup</b>(<u>int</u> <u>oldd</u>);

       <u>int</u>
       <b>dup2</b>(<u>int</u> <u>oldd</u>, <u>int</u> <u>newd</u>);

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The  <b>dup</b>()  system  call  duplicates  an  existing object descriptor and returns its value to the calling
       process (<u>newd</u> = <b>dup</b>(<u>oldd</u>)).  The argument <u>oldd</u> is a small non-negative integer index in  the  per-process
       descriptor  table.   The  new descriptor returned by the call is the lowest numbered descriptor currently
       not in use by the process.

       The object referenced by the descriptor does not distinguish between <u>oldd</u> and <u>newd</u> in any way.   Thus  if
       <u>newd</u>  and  <u>oldd</u> are duplicate references to an open file, <u><a href="../man2/read.2.html">read</a></u>(2), <u><a href="../man2/write.2.html">write</a></u>(2) and <u><a href="../man2/lseek.2.html">lseek</a></u>(2) calls all move a
       single pointer into the file, and append mode, non-blocking I/O and asynchronous I/O options  are  shared
       between  the references.  If a separate pointer into the file is desired, a different object reference to
       the file must be obtained by issuing an additional <u><a href="../man2/open.2.html">open</a></u>(2) system call.  The close-on-exec  flag  on  the
       new file descriptor is unset.

       In  <b>dup2</b>(),  the value of the new descriptor <u>newd</u> is specified.  If this descriptor is already in use and
       <u>oldd</u> ≠ <u>newd</u>, the descriptor is first deallocated as if the <u><a href="../man2/close.2.html">close</a></u>(2) system call had been used.   If  <u>oldd</u>
       is not a valid descriptor, then <u>newd</u> is not closed.  If <u>oldd</u> == <u>newd</u> and <u>oldd</u> is a valid descriptor, then
       <b>dup2</b>() is successful, and does nothing.

</pre><h4><b>RETURN</b> <b>VALUES</b></h4><pre>
       These  calls  return  the  new  file descriptor if successful; otherwise the value -1 is returned and the
       external variable <u>errno</u> is set to indicate the cause of the error.

</pre><h4><b>ERRORS</b></h4><pre>
       The <b>dup</b>() system call fails if:

       [EBADF]            The <u>oldd</u> argument is not a valid active descriptor

       [EMFILE]           Too many descriptors are active.

       The <b>dup2</b>() system call fails if:

       [EBADF]            The <u>oldd</u> argument is not a valid active descriptor or the <u>newd</u> argument is negative or
                          exceeds the maximum allowable descriptor number

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <u><a href="../man2/accept.2.html">accept</a></u>(2), <u><a href="../man2/close.2.html">close</a></u>(2), <u><a href="../man2/fcntl.2.html">fcntl</a></u>(2), <u><a href="../man2/getdtablesize.2.html">getdtablesize</a></u>(2), <u><a href="../man2/open.2.html">open</a></u>(2), <u><a href="../man2/pipe.2.html">pipe</a></u>(2), <u><a href="../man2/socket.2.html">socket</a></u>(2), <u><a href="../man2/socketpair.2.html">socketpair</a></u>(2), <u><a href="../man3/dup3.3.html">dup3</a></u>(3)

</pre><h4><b>STANDARDS</b></h4><pre>
       The <b>dup</b>() and <b>dup2</b>() system calls are expected to conform to ISO/IEC 9945-1:1990 (“POSIX.1”).

</pre><h4><b>HISTORY</b></h4><pre>
       The <b>dup</b>() function appeared in Version 3 AT&amp;T UNIX.  The <b>dup2</b>() function appeared in Version 7 AT&amp;T UNIX.

Debian                                          December 1, 2017                                          <u><a href="../man2/DUP.2.html">DUP</a></u>(2)
</pre>
 </div>
</div></section>
</div>
</body>
</html>