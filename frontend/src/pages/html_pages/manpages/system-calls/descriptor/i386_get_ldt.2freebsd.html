<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>i386_get_ldt, i386_set_ldt — manage i386 per-process Local Descriptor Table entries</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/freebsd-manpages">freebsd-manpages_12.2-2_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       i386_get_ldt, i386_set_ldt — manage i386 per-process Local Descriptor Table entries

</pre><h4><b>LIBRARY</b></h4><pre>
       Standard C Library (libc, -lc)

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>#include</b> <b>&lt;machine/segments.h&gt;</b>
       <b>#include</b> <b>&lt;machine/sysarch.h&gt;</b>

       <u>int</u>
       <b>i386_get_ldt</b>(<u>int</u> <u>start_sel</u>, <u>union</u> <u>descriptor</u> <u>*descs</u>, <u>int</u> <u>num_sels</u>);

       <u>int</u>
       <b>i386_set_ldt</b>(<u>int</u> <u>start_sel</u>, <u>union</u> <u>descriptor</u> <u>*descs</u>, <u>int</u> <u>num_sels</u>);

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The  <b>i386_get_ldt</b>()  system call returns a list of the i386 descriptors in the current process' LDT.  The
       <b>i386_set_ldt</b>() system call sets a list of i386  descriptors  in  the  current  process'  LDT.   For  both
       routines,  <u>start_sel</u> specifies the index of the selector in the LDT at which to begin and <u>descs</u> points to
       an array of <u>num_sels</u> descriptors to be set or returned.

       Each entry in the <u>descs</u> array can be either a segment_descriptor or gate_descriptor and  are  defined  in
       &lt;<u>i386/segments.h</u>&gt;.  These structures are defined by the architecture as disjoint bit-fields, so care must
       be taken in constructing them.

       If  <u>start_sel</u>  is  <u>LDT_AUTO_ALLOC</u>,  <u>num_sels</u>  is  1 and the descriptor pointed to by <u>descs</u> is legal, then
       <b>i386_set_ldt</b>() will allocate a descriptor and return its selector number.

       If <u>num_descs</u> is 1, <u>start_sels</u> is valid, and <u>descs</u> is NULL, then <b>i386_set_ldt</b>() will free that  descriptor
       (making it available to be reallocated again later).

       If  <u>num_descs</u>  is  0, <u>start_sels</u> is 0 and <u>descs</u> is NULL then, as a special case, <b>i386_set_ldt</b>() will free
       all descriptors.

</pre><h4><b>RETURN</b> <b>VALUES</b></h4><pre>
       Upon successful completion, <b>i386_get_ldt</b>() returns the number of descriptors currently in the  LDT.   The
       <b>i386_set_ldt</b>()  system  call  returns  the  first  selector  set  on  success.  If the kernel allocated a
       descriptor in the LDT, the allocated index is returned.  Otherwise, a value of -1  is  returned  and  the
       global variable <u>errno</u> is set to indicate the error.

</pre><h4><b>ERRORS</b></h4><pre>
       The <b>i386_get_ldt</b>() and <b>i386_set_ldt</b>() system calls will fail if:

       [EINVAL]           An inappropriate value was used for <u>start_sel</u> or <u>num_sels</u>.

       [EACCES]           The  caller  attempted to use a descriptor that would circumvent protection or cause a
                          failure.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       i386 Microprocessor Programmer's Reference Manual, Intel

</pre><h4><b>WARNING</b></h4><pre>
       You can really hose your process using this.

Debian                                          October 14, 2006                                 <u><a href="../man2/I386_GET_LDT.2.html">I386_GET_LDT</a></u>(2)
</pre>
 </div>
</div></section>
</div>
</body>
</html>