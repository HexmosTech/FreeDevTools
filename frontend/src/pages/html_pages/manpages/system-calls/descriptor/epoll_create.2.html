<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>epoll_create, epoll_create1 - open an epoll file descriptor</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/manpages-dev">manpages-dev_6.9.1-1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       epoll_create, epoll_create1 - open an epoll file descriptor

</pre><h4><b>LIBRARY</b></h4><pre>
       Standard C library (<u>libc</u>, <u>-lc</u>)

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>#include</b> <b>&lt;sys/epoll.h&gt;</b>

       <b>int</b> <b>epoll_create(int</b> <u>size</u><b>);</b>
       <b>int</b> <b>epoll_create1(int</b> <u>flags</u><b>);</b>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>epoll_create</b>()  creates  a  new  <b><a href="../man7/epoll.7.html">epoll</a></b>(7) instance.  Since Linux 2.6.8, the <u>size</u> argument is ignored, but
       must be greater than zero; see HISTORY.

       <b>epoll_create</b>() returns a file descriptor referring to the new epoll instance.  This  file  descriptor  is
       used  for  all the subsequent calls to the <b>epoll</b> interface.  When no longer required, the file descriptor
       returned by <b>epoll_create</b>() should be closed by using <b><a href="../man2/close.2.html">close</a></b>(2).  When all file descriptors referring to an
       epoll instance have been closed, the kernel destroys the instance and releases the  associated  resources
       for reuse.

   <b>epoll_create1()</b>
       If  <u>flags</u>  is 0, then, other than the fact that the obsolete <u>size</u> argument is dropped, <b>epoll_create1</b>() is
       the same as <b>epoll_create</b>().  The following value can be included in <u>flags</u> to obtain different behavior:

       <b>EPOLL_CLOEXEC</b>
              Set the close-on-exec (<b>FD_CLOEXEC</b>) flag on the new file descriptor.  See the  description  of  the
              <b>O_CLOEXEC</b> flag in <b><a href="../man2/open.2.html">open</a></b>(2) for reasons why this may be useful.

</pre><h4><b>RETURN</b> <b>VALUE</b></h4><pre>
       On  success,  these  system  calls  return  a  file  descriptor (a nonnegative integer).  On error, -1 is
       returned, and <u>errno</u> is set to indicate the error.

</pre><h4><b>ERRORS</b></h4><pre>
       <b>EINVAL</b> <u>size</u> is not positive.

       <b>EINVAL</b> (<b>epoll_create1</b>()) Invalid value specified in <u>flags</u>.

       <b>EMFILE</b> The per-process limit on the number of open file descriptors has been reached.

       <b>ENFILE</b> The system-wide limit on the total number of open files has been reached.

       <b>ENOMEM</b> There was insufficient memory to create the kernel object.

</pre><h4><b>STANDARDS</b></h4><pre>
       Linux.

</pre><h4><b>HISTORY</b></h4><pre>
       <b>epoll_create</b>()
              Linux 2.6, glibc 2.3.2.

       <b>epoll_create1</b>()
              Linux 2.6.27, glibc 2.9.

       In the initial <b>epoll_create</b>() implementation, the <u>size</u> argument informed the kernel of the number of file
       descriptors that the caller expected to add to the <b>epoll</b> instance.  The kernel used this information as a
       hint for the amount of space to initially allocate in internal data structures  describing  events.   (If
       necessary,  the  kernel would allocate more space if the caller's usage exceeded the hint given in <u>size</u>.)
       Nowadays, this hint is no longer required (the kernel dynamically  sizes  the  required  data  structures
       without  needing  the  hint),  but  <u>size</u>  must  still  be  greater than zero, in order to ensure backward
       compatibility when new <b>epoll</b> applications are run on older kernels.

       Prior to Linux 2.6.29, a <u>/proc/sys/fs/epoll/max_user_instances</u> kernel parameter limited live  epolls  for
       each real user ID, and caused <b>epoll_create</b>() to fail with <b>EMFILE</b> on overrun.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man2/close.2.html">close</a></b>(2), <b><a href="../man2/epoll_ctl.2.html">epoll_ctl</a></b>(2), <b><a href="../man2/epoll_wait.2.html">epoll_wait</a></b>(2), <b><a href="../man2/ioctl_eventpoll.2.html">ioctl_eventpoll</a></b>(2), <b><a href="../man7/epoll.7.html">epoll</a></b>(7)

Linux man-pages 6.9.1                              2024-06-12                                    <u><a href="../man2/epoll_create.2.html">epoll_create</a></u>(2)
</pre>
 </div>
</div></section>
</div>
</body>
</html>