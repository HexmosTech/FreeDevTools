<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HTTP::DAV::Resource - Represents and interfaces with WebDAV Resources</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libhttp-dav-perl">libhttp-dav-perl_0.50-1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       HTTP::DAV::Resource - Represents and interfaces with WebDAV Resources

</pre><h4><b>SYNOPSIS</b></h4><pre>
       Sample

</pre><h4><b>DESCRIPTION</b></h4><pre>
       Description here

</pre><h4><b>CONSTRUCTORS</b></h4><pre>
       <b>new</b> Returns a new resource represented by the URI.

           $r = HTTP::DAV::Resource-&gt;new(
                   -uri =&gt; $uri,
                   -LockedResourceList =&gt; $locks,
                   -Comms =&gt; $comms
                   -Client =&gt; $dav_client
                );

           On creation a Resource object needs 2 other objects passed in:

           1. a "ResourceList" Object. This list will be added to if you lock this Resource.

           2. a "Comms" Object. This object will be used for HTTP communication.

           2. a "HTTP::DAV" Object. This object is where all locks are stored

</pre><h4><b>METHODS</b></h4><pre>
       <b>get/GET</b>
           Performs an HTTP GET and returns a DAV::Response object.

            $response = $resource-&gt;get;
            print $resource-&gt;get_content if ($response-&gt;is_success);

       <b>put/PUT</b>
           Performs an HTTP PUT and returns a DAV::Response object.

           $response = $resource-&gt;put( $string );

           $string is be passed as the body.

            e.g.
            $response = $resource-&gt;put($string);
            print $resource-&gt;get_content if ($response-&gt;is_success);

           Will use a Lock header if this resource was previously locked.

       <b>copy</b>
           Not implemented

       <b>move</b>
           Not implemented

       <b>delete</b>
           Performs an HTTP DELETE and returns a DAV::Response object.

            $response = $resource-&gt;delete;
            print "Delete successful" if ($response-&gt;is_success);

           Will use a Lock header if this resource was previously locked.

       <b>options</b>
           Performs an HTTP OPTIONS and returns a DAV::Response object.

            $response = $resource-&gt;options;
            print "Yay for PUT!" if $resource-&gt;is_option("PUT");

       <b>mkcol</b>
           Performs a WebDAV MKCOL request and returns a DAV::Response object.

            $response = $resource-&gt;mkcol;
            print "MKCOL successful" if ($response-&gt;is_success);

           Will use a Lock header if this resource was previously locked.

       <b>proppatch</b>
           xxx

       <b>propfind</b>
           Performs a WebDAV PROPFIND request and returns a DAV::Response object.

            $response = $resource-&gt;propfind;
            if ($response-&gt;is_success) {
               print "PROPFIND successful\n";
               print $resource-&gt;get_property("displayname") . "\n";
            }

           A successful PROPFIND fills the object with much data about the Resource.  Including:
              displayname
              ...
              TODO

       <b>lock</b>
           Performs a WebDAV LOCK request and returns a DAV::Response object.

            $resource-&gt;lock(
                   -owner   =&gt; "Patrick Collins",
                   -depth   =&gt; "infinity"
                   -scope   =&gt; "exclusive",
                   -type    =&gt; "write"
                   -timeout =&gt; TIMEOUT',
                )

           lock takes the following arguments.

           <b>owner</b> - Indicates who locked this resource

           The default value is:
            DAV.pm/v$DAV::VERSION ($$)

            e.g. DAV.pm/v0.1 (123)

           If  you use a URL as the owner, the module will automatically indicate to the server that is is a URL
           (&lt;D:href&gt;http://...&lt;/D:href&gt;)

           <b>depth</b> - Indicates the depth of the lock.

           Legal values are 0 or infinity. (1 is not allowed).

           The default value is infinity.

           A lock value of 0 on a collection will lock just the collection but not it's members, whereas a  lock
           value of infinity will lock the collection and all of it's members.

           <b>scope</b> - Indicates the scope of the lock.

           Legal DAV values are "exclusive" or "shared".

           The default value is exclusive.

           See section 6.1 of RFC2518 for a description of shared vs. exclusive locks.

           <b>type</b> - Indicates the type of lock (read, write, etc)

           The only legal DAV value currently is "write".

           The default value is write.

           <b>timeout</b> - Indicates when the lock will timeout

           The timeout value may be one of, an Absolute Date, a Time Offset from now, or the word "infinity".

           The default value is "infinity".

           The following are all valid timeout values:

           Time Offset:
               30s          30 seconds from now
               10m          ten minutes from now
               1h           one hour from now
               1d           tomorrow
               3M           in three months
               10y          in ten years time

           Absolute Date:

               timeout at the indicated time &amp; date (UTC/GMT)
                  2000-02-31 00:40:33

               timeout at the indicated date (UTC/GMT)
                  2000-02-31

           You can use any of the Absolute Date formats specified in HTTP::Date (see perldoc HTTP::Date)

           Note: the DAV server may choose to ignore your specified timeout.

       <b>unlock</b>
           Performs a WebDAV UNLOCK request and returns a DAV::Response object.

            $response = $resource-&gt;unlock()
            $response = $resource-&gt;unlock( -force =&gt; 1 )
            $response = $resource-&gt;unlock(
               -token =&gt; "opaquelocktoken:1342-21423-2323" )

           This  method  will automatically use the correct locktoken If: header if this resource was previously
           locked.

           <b>force</b> - Synonymous to calling $resource-&gt;forcefully_unlock_all.

       <b>forcefully_unlock_all</b>
           Remove all locks from a resource and return the  last  DAV::Response  object.  This  method  take  no
           arguments.

           $response = $resource-&gt;forcefully_unlock_all;

           This  method will perform a lockdiscovery against the resource to determine all of the current locks.
           Then it will UNLOCK them one by one. unlock( -token =&gt; locktoken ).

           This unlock process is achievable because DAV does not enforce any security over locks.

           Note: this method returns the LAST unlock response (this is sufficient to indicate the success of the
           sequence of unlocks). If an unlock fails, it will bail and return that response.   For  instance,  In
           the  event  that  there  are  3  shared  locks  and the second unlock method fails, then you will get
           returned the unsuccessful second response. The 3rd unlock will not be attempted.

           Don't run with this knife, you could hurt someone (or yourself).

       <b>steal_lock</b>
           Removes all locks from a resource, relocks it in your name and returns the DAV::Response  object  for
           the lock command. This method takes no arguments.

           $response = $resource-&gt;steal_lock;

           Synonymous to <b>forcefully_unlock_all()</b> and then <b>lock()</b>.

       <b>lockdiscovery</b>
           Discover  the locks held against this resource and return a DAV::Response object. This method take no
           arguments.

            $response = $resource-&gt;lockdiscovery;
            @locks = $resource-&gt;get_locks if $response-&gt;is_success;

           This method is in fact a simplified version of <b>propfind()</b>.

       <b>as_string</b>
           Returns a string representation of the object. Mainly useful for  debugging  purposes.  It  takes  no
           arguments.

           print $resource-&gt;as_string

</pre><h4><b>ACCESSOR</b> <b>METHODS</b> <b>(get,</b> <b>set</b> <b>and</b> <b>is)</b></h4><pre>
       <b>is_option</b>
           Returns  a  boolean  indicating  whether this resource supports the option passed in as a string. The
           option match is case insensitive so, PUT and Put are should both work.

            if ($resource-&gt;is_option( "PUT" ) ) {
               $resource-&gt;put( ... )
            }

           Note: this routine automatically calls the <b>options()</b> routine which makes the request to  the  server.
           Subsequent  calls  to  is_option  will use the cached option list. To force a rerequest to the server
           call <b>options()</b>

       <b>is_locked</b>
           Returns a boolean indicating whether this resource is locked.

             @lock = $resource-&gt;is_locked( -owned=&gt;[1|0] );

           <b>owned</b> - this parameter is used to ask, is this resource locked by me?

           Note: You must have already called <b>propfind()</b> or <b>lockdiscovery()</b>

           e.g.  Is the resource locked at all?
            print "yes" if $resource-&gt;<b>is_locked()</b>;

           Is the resource locked by me?
            print "yes" if $resource-&gt;is_locked( -owned=&gt;1 );

           Is the resource locked by someone other than me?
            print "yes" if $resource-&gt;is_locked( -owned=&gt;0 );

       <b>is_collection</b>
           Returns a boolean indicating whether this resource is a collection.

            print "Directory" if ( $resource-&gt;is_collection );

           You must first have performed a propfind.

       <b>get_uri</b>
           Returns the URI object for this resource.

            print "URL is: " . $resource-&gt;get_uri()-&gt;as_string . "\n";

           See the URI manpage from the LWP libraries (perldoc URI)

       <b>get_property</b>
           Returns a property value. Takes a string as an argument.

            print $resource-&gt;get_property( "displayname" );

           You must first have performed a propfind.

       <b>get_options</b>
           Returns an array of options allowed on this resource.   Note:  If  $resource-&gt;options  has  not  been
           called then it will return an empty array.

           @options = $resource-&gt;get_options

       <b>get_content</b>
           Returns the resource's content/body as a string.  The content is typically the result of a GET.

           $content = $resource-&gt;get_content

       <b>get_content_ref</b>
           Returns the resource's content/body as a reference to a string.  This is useful and more efficient if
           the content is large.

           ${$resource-&gt;get_content_ref} =~ s/\bfoo\b/bar/g;

           Note: You must have already called <b>get()</b>

       <b>get_lock</b>
           Returns the DAV::Lock object if it exists. Requires opaquelocktoken passed as a parameter.

            $lock = $resource-&gt;get_lock( "opaquelocktoken:234214--342-3444" );

       <b>get_locks</b>
           Returns a list of any DAV::Lock objects held against the resource.

             @lock = $resource-&gt;get_locks( -owned=&gt;[1|0] );

           <b>owned</b> - this parameter indicates which locks you want.
            - '1', requests any of my locks. (Locked by this DAV instance).
            - '0' ,requests any locks not owned by us.
            - any other value or no value, requests ALL locks.

           Note: You must have already called <b>propfind()</b> or <b>lockdiscovery()</b>

           e.g.
            Give me my locks
             @lock = $resource-&gt;get_locks( -owned=&gt;1 );

            Give me all locks
             @lock = $resource-&gt;get_locks();

       <b>get_lockedresourcelist</b>
       <b>get_parentresourcelist</b>
       <b>get_comms</b>
       <b>set_parent_resourcelist</b>
           $resource-&gt;set_parent_resourcelist( $resourcelist )

           Sets  the  parent  resource  list  (ask  the  question,  which  collection  am  I  a member of?). See
           HTTP::DAV::ResourceList.

perl v5.40.0                                       2024-10-28                           <u>HTTP::DAV::<a href="../man3pm/Resource.3pm.html">Resource</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>