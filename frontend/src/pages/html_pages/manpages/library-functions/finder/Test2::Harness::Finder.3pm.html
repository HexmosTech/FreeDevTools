<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test2::Harness::Finder - Library that searches for test files</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libtest2-harness-perl">libtest2-harness-perl_1.000158-1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       Test2::Harness::Finder - Library that searches for test files

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The finder is responsible for locating test files that should be run. You can subclass the finder and
       instruct yath to use your subclass.

</pre><h4><b>SYNOPSIS</b></h4><pre>
   <b>USING</b> <b>A</b> <b>CUSTOM</b> <b>FINDER</b>
       To use Test2::Harness::Finder::MyFinder:

           $ yath test --finder MyFinder

       To use Another::Finder

           $ yath test --finder +Another::Finder

       By default "Test2::Harness::Finder::" is prefixed onto your custom finder, use '+' before the class name
       or prevent this.

   <b>SUBCLASSING</b>
           use parent 'Test2::Harness::Finder';
           use Test2::Harness::TestFile;

           # Custom finders may provide their own options if desired.
           # This is optional.
           use App::Yath::Options;
           option foo =&gt; (
               ...
           );

           # This is the main method to override.
           sub find_project_files {
               my $self = shift;
               my ($plugins, $settings, $search) = @_;

               return [
                   Test2::Harness::TestFile-&gt;new(...),
                   Test2::Harness::TestFile-&gt;new(...),
                   ...,
               ];
           }

</pre><h4><b>METHODS</b></h4><pre>
       These are important state methods, as well as utility methods for use in your subclasses.

       $bool = $finder-&gt;multi_project
           True if the "yath projects" command was used.

       $arrayref = $finder-&gt;find_files($plugins, $settings)
           This  is the main method. This method returns an arrayref of Test2::Harness::TestFile instances, each
           one representing a single test to run.

           $plugins is a list of plugins, some may be class names, others may be instances.

           $settings is an Test2::Harness::Settings instance.

           <b>Note:</b> In many cases it is better to override find_project_files() in your subclasses.

       $durations = $finder-&gt;duration_data
           This will fetch the durations data if any was provided. This is a hashref of relative test  paths  as
           keys where the value is the duration of the file (SHORT, MEDIUM or LONG).

           <b>Note:</b> The result is cached, see <b>pull_durations()</b> to refresh the data.

       @reasons = $finder-&gt;exclude_file($test)
           The  input  argument  should  be  an  Test2::Harness::Test instance. This will return a list of human
           readible reasons a test file should be excluded. If the file should not be excluded the list will  be
           empty.

           This  is  a  utility method that verifies the file is not in an exclude list/pattern. The reasons are
           provided back in case you need to inform the user.

       $bool = $finder-&gt;include_file($test)
           The input argument should be an Test2::Harness::Test instance. This is a  convenience  method  around
           exclude_file(), it will return true when exclude_file() returns an empty list.

       $arrayref = $finder-&gt;find_multi_project_files($plugins, $settings)
       $arrayref = $finder-&gt;find_project_files($plugins, $settings, $search)
           These do the heavy lifting for "find_files"

           The default find_files() implementation is this:

               sub find_files {
                   my $self = shift;
                   my ($plugins, $settings) = @_;

                   return $self-&gt;find_multi_project_files($plugins, $settings) if $self-&gt;multi_project;
                   return $self-&gt;find_project_files($plugins, $settings, $self-&gt;search);
               }

           Each one returns an arrayref of Test2::Harness::TestFile instances.

           Note that find_multi_project_files() uses find_project_files() internall, once per project directory.

           $plugins is a list of plugins, some may be class names, others may be instances.

           $settings is an Test2::Harness::Settings instance.

           $search is an arrayref of search paths.

       $finder-&gt;munge_settings($settings, $options)
           A callback that lets you munge settings and options.

       $finder-&gt;pull_durations
           This  will  fetch the durations data if ant was provided. This is a hashref of relative test paths as
           keys where the value is the duration of the file (SHORT, MEDIUM or LONG).

           <b>duration_data()</b> is a cached version of this. This method will refresh the cache for the other.

   <b>FROM</b> <b>SETTINGS</b>
       See App::Yath::Options::Finder for up to date documentation on these.

       $finder-&gt;default_search
       $finder-&gt;default_at_search
       $finder-&gt;durations
       $finder-&gt;maybe_durations
       $finder-&gt;exclude_files
       $finder-&gt;exclude_patterns
       $finder-&gt;no_long
       $finder-&gt;only_long
       $finder-&gt;search
       $finder-&gt;extensions

</pre><h4><b>SOURCE</b></h4><pre>
       The source code repository for Test2-Harness can be found at <u><a href="http://github.com/Test-More/Test2-Harness/">http://github.com/Test-More/Test2-Harness/</a></u>.

</pre><h4><b>MAINTAINERS</b></h4><pre>
       Chad Granum &lt;<a href="mailto:exodist@cpan.org">exodist@cpan.org</a>&gt;

</pre><h4><b>AUTHORS</b></h4><pre>
       Chad Granum &lt;<a href="mailto:exodist@cpan.org">exodist@cpan.org</a>&gt;

</pre><h4><b>COPYRIGHT</b></h4><pre>
       Copyright 2020 Chad Granum &lt;<a href="mailto:exodist7@gmail.com">exodist7@gmail.com</a>&gt;.

       This program is free software; you can redistribute it and/or modify it under  the  same  terms  as  Perl
       itself.

       See <u><a href="http://dev.perl.org/licenses/">http://dev.perl.org/licenses/</a></u>

perl v5.40.1                                       2025-05-23                        <u>Test2::Harness::<a href="../man3pm/Finder.3pm.html">Finder</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>