<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>"Commandable::Finder::SubAttributes" - find commands stored as subs with attributes</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libcommandable-perl">libcommandable-perl_0.14-1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       "Commandable::Finder::SubAttributes" - find commands stored as subs with attributes

</pre><h4><b>SYNOPSIS</b></h4><pre>
          use Commandable::Finder::SubAttributes;

          my $finder = Commandable::Finder::SubAttributes-&gt;new(
             package =&gt; "MyApp::Commands",
          );

          my $help_command = $finder-&gt;find_command( "help" );

          foreach my $command ( $finder-&gt;find_commands ) {
             ...
          }

</pre><h4><b>DESCRIPTION</b></h4><pre>
       This implementation of Commandable::Finder looks for functions that define commands, where each command
       is provided by an individual sub in a given package.

</pre><h4><b>ATTRIBUTES</b></h4><pre>
          use Commandable::Finder::SubAttributes ':attrs';

          sub command_example
             :Command_description("An example of a command")
          {
             ...
          }

       Properties about each command are stored as attributes on the named function, using Attribute::Storage.

       The following attributes are available on the calling package when imported with the ":attrs" symbol:

   <b>Command_description</b>
          :Command_description("description text")

       Gives a plain string description text for the command.

   <b>Command_arg</b>
          :Command_arg("argname", "description")

       Gives a named argument for the command and its description.

       If the name is suffixed by a "?", this argument is optional. (The "?" itself will be removed from the
       name).

       If the name is suffixed by "...", this argument is slurpy. (The "..." itself will be removed from the
       name).

   <b>Command_opt</b>
          :Command_opt("optname", "description")

          :Command_opt("optname", "description", "default")

       Gives a named option for the command and its description.

       If the name contains "|" characters it provides multiple name aliases for the same option.

       If the name field ends in a "=" character, a value is expected for the option. It can either be parsed
       from the next input token, or after an "=" sign of the same token:

          --optname VALUE
          --optname=VALUE

       If the name field ends in a "@" character, a value is expected for the option and can be specified
       multiple times. All the values will be collected into an ARRAY reference.

       If the name field ends in a "+" character, the option can be specified multiple times and the total count
       will be used as the value.

       If the name field ends in a "!" character, the option is negatable. An option name of "--no-OPTNAME" is
       recognised and will reset the value to "undef". By setting a default of some true value (e.g. 1) you can
       detect if this has happened.

       An optional third argument may be present to specify a default value, if not provided by the invocation.

</pre><h4><b>GLOBAL</b> <b>OPTION</b> <b>ATTRIBUTES</b></h4><pre>
       <u>Since</u> <u>version</u> <u>0.14</u> this module also allows attaching attributes to package variables in the package that
       stores the subroutines (often "main"), which will then be handled automatically as global options by the
       finder.

       Remember that these have to be <u>package</u> variables (i.e. declared with "our"); lexical variables (declared
       with "my") will not work.

          our $VERBOSE
             :GlobalOption("verbose|v+", "Increase the verbosity of status output");

       This often serves as a convenient alternative to modules like Getopt::Long, because it integrates with
       the "help" command automatically.

   <b>GlobalOption</b>
          :GlobalOption("optname", "description")

       Gives the name for this global option and its description. These are handled in the same way as for
       "Command_opt" given above, except that no default is handled here. Instead, if the variable already has a
       value that will be taken as its default.

</pre><h4><b>CONSTRUCTOR</b></h4><pre>
   <b>new</b>
          $finder = Commandable::Finder::SubAttributes-&gt;new( %args )

       Constructs a new instance of "Commandable::Finder::SubAttributes".

       Takes the following named arguments:

       package =&gt; STR
           The name of the package to look in for command subs.

       name_prefix =&gt; STR
           Optional.  Gives  the  name  prefix to use to filter for subs that actually provide a command, and to
           strip off to find the name of the command. Default "command_".

       underscore_to_hyphen =&gt; BOOL
           Optional. If true, sub names that contain underscores will be converted into hyphens. This  is  often
           useful  in  CLI systems, allowing commands to be typed with hyphenated names (e.g. "get-thing") while
           the Perl sub that implements it is named with an  underscores  (e.g.  "command_get_thing").  Defaults
           true, but can be disabled by passing a defined-but-false value such as 0 or ''.

       Any additional arguments are passed to the "configure" method to be used as configuration options.

   <b>new_for_caller</b>
   <b>new_for_main</b>
          $finder = Commandable::Finder::SubAttributes-&gt;new_for_caller( %args )
          $finder = Commandable::Finder::SubAttributes-&gt;new_for_main( %args )

       Convenient wrapper constructors that pass either the caller's package name or "main" as the package name.
       Combined with the "find_and_invoke_ARGV" method these are particularly convenient for wrapper scripts:

          #!<a href="file:///usr/lib/w3m/cgi-bin/w3mman2html.cgi?perl">/usr/bin/perl</a>

          use v5.14;
          use warnings;

          use Commandable::Finder::SubAttributes ':attrs';

          exit Commandable::Finder::SubAttributes-&gt;new_for_main
             -&gt;find_and_invoke_ARGV;

          # command subs go here...

</pre><h4><b>AUTHOR</b></h4><pre>
       Paul Evans &lt;<a href="mailto:leonerd@leonerd.org.uk">leonerd@leonerd.org.uk</a>&gt;

perl v5.40.0                                       2024-09-08             <u>Commandable::Fi...::<a href="../man3pm/SubAttributes.3pm.html">SubAttributes</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>