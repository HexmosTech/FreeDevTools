<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Unicode.pod - Working with unicode</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libhtml-formfu-perl">libhtml-formfu-perl_2.07000-2_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       Unicode.pod - Working with unicode

</pre><h4><b>VERSION</b></h4><pre>
       version 2.07

</pre><h4><b>DESCRIPTION</b></h4><pre>
       Working with unicode.

       For a practical example, see the Catalyst application in the "examples/unicode" directory in this
       distribution.

</pre><h4><b>ASSUMPTIONS</b></h4><pre>
       In this tutorial, we're assuming that all encodings are UTF-8. It's relatively simple to combine
       different encodings from different sources, but that's beyond the scope of this tutorial.

       For simplicity, we're also going to assume that you're using Catalyst for your web-framework, DBIx::Class
       for your database ORM, TT for your templating system, and YAML format "HTML::FormFu" configuration files,
       with YAML::XS installed. However, the principles we'll cover should translate to whatever technologies
       you chose to work with.

</pre><h4><b>BASICS</b></h4><pre>
       To make it short and sweet: you must decode all data going into your program, and encode all data coming
       from your program.

       Skip to "CHANGES REQUIRED" if you want to see what you need to do without any other explanation.

</pre><h4><b>INPUT</b></h4><pre>
   <b>Input</b> <b>parameters</b> <b>from</b> <b>the</b> <b>browser</b>
       If you're using "Catalyst", Catalyst::Plugin::Unicode will decode all input parameters sent from the
       browser to your application - see "Catalyst Configuration".

       If you're using some other framework or, in any case, you need to decode the input parameters yourself,
       please take a look at HTML::FormFu::Filter::Encode.

   <b>Data</b> <b>from</b> <b>the</b> <b>database</b>
       If you're using DBIx::Class, DBIx::Class::UTF8Columns is likely the best options, as it will decode all
       input retrieved from the database - see "DBIx::Class Configuration".

       In other cases (i.e. plain DBI), you still need to decode the string data coming from the database. This
       varies depending on the database server.  For MySQL, for instance, you can use the "mysql_enable_utf8"
       attribute: see DBD::mysql documentation for details.

   <b>Your</b> <b>template</b> <b>files</b>
       Set TT to decode all template files - see "TT Configuration".

   <b>HTML::FormFu's</b> <b>own</b> <b>template</b> <b>files</b>
       Set "HTML::FormFu" to decode all template files - see "HTML::FormFu Template Configuration".

   <b>HTML::FormFu</b> <b>form</b> <b>configuration</b> <b>files</b>
       If you're using "YAML" config files, your files will automatically be decoded by
       "load_config_file|HTML::FormFu/load_config_file" and
       "load_config_filestem|HTML::FormFu/load_config_filestem".

       If you have Config::General config files, your files will automatically be decoded by
       "load_config_file|HTML::FormFu/load_config_file" and
       "load_config_filestem|HTML::FormFu/load_config_filestem", which automatically sets Config::General's
       "-UTF8" setting.

   <b>Your</b> <b>perl</b> <b>source</b> <b>code</b>
       Any perl source files which contain Unicode characters must use the utf8 module.

</pre><h4><b>OUTPUT</b></h4><pre>
   <b>Data</b> <b>saved</b> <b>to</b> <b>the</b> <b>database</b>
       With "DBIx::Class", DBIx::Class::UTF8Columns will encode all data sent to the database - see "DBIx::Class
       Configuration".

   <b>HTML</b> <b>sent</b> <b>to</b> <b>the</b> <b>browser</b>
       With "Catalyst", Catalyst::Plugin::Unicode will encode all output sent from your application to the
       browser - see "Catalyst Configuration".

       In other circumstances you need to be sure to output your Unicode (decoded) strings in UTF-8. To do this
       you can encode your output before it's sent to the browser with something like:

           use utf8;
           if ( $output &amp;&amp; utf8::is_utf8($output) ){
               utf8::encode( $output ); # Encodes in-place
           }

       Another option is to set the "binmode" for "STDOUT":

           bindmode STDOUT, ':utf8';

       However, be sure to do this <b>only</b> when sending UTF-8 data: if you're serving images, PFD files, etc,
       "binmode" should remain set to ":raw".

</pre><h4><b>CHANGES</b> <b>REQUIRED</b></h4><pre>
   <b>Catalyst</b> <b>Configuration</b>
       Add Catalyst::Plugin::Unicode to the list of Catalyst plugins:

           use Catalyst qw( ConfigLoader Static::Simple Unicode );

   <b>DBIx::Class</b> <b>Configuration</b>
       Add DBIx::Class::UTF8Columns to the list of components loaded, for each table that has columns storing
       unicode:

           __PACKAGE__-&gt;load_components( qw( UTF8Columns HTML::FormFu PK::Auto Core ) );

       Pass each column name that will store unicode to utf8_columns():

           __PACKAGE__-&gt;utf8_columns( qw( lastname firstname ) );

   <b>TT</b> <b>Configuration</b>
       Tell TT to decode all template files, by adding the following to your application config in MyApp.pm

           package MyApp;
               use parent 'Catalyst';
           use Catalyst qw( ConfigLoader );

           MyApp-&gt;config({
               'View::TT' =&gt; {
                   ENCODING =&gt; 'UTF-8',
               },
           });

           1;

   <b>HTML::FormFu</b> <b>Template</b> <b>Configuration</b>
       Make "HTML::FormFu" tell TT to decode all template files, by adding the following to your "myapp.yml"
       Catalyst configuration file:

           package MyApp;
               use parent 'Catalyst';
           use Catalyst qw( ConfigLoader );

           MyApp-&gt;config({
               'Controller::HTML::FormFu' =&gt; {
                   constructor =&gt; {
                       tt_args =&gt; {
                           ENCODING =&gt; 'UTF-8',
                       },
                   },
               },
           });

           1;

       These above 2 examples should be combined, like so:

           package MyApp;
               use parent 'Catalyst';
           use Catalyst qw( ConfigLoader );

           MyApp-&gt;config({
               'Controller::HTML::FormFu' =&gt; {
                   constructor =&gt; {
                       tt_args =&gt; {
                           ENCODING =&gt; 'UTF-8',
                       },
                   },
               },
               'View::TT' =&gt; {
                   ENCODING =&gt; 'UTF-8',
               },
           });

           1;

</pre><h4><b>AUTHORS</b></h4><pre>
       Carl Franks "<a href="mailto:cfranks@cpan.org">cfranks@cpan.org</a>" Michele Beltrame "<a href="mailto:arthas@cpan.org">arthas@cpan.org</a>" (contributions)

</pre><h4><b>COPYRIGHT</b></h4><pre>
       This document is free, you can redistribute it and/or modify it under the same terms as Perl itself.

</pre><h4><b>AUTHOR</b></h4><pre>
       Carl Franks &lt;<a href="mailto:cpan@fireartist.com">cpan@fireartist.com</a>&gt;

</pre><h4><b>COPYRIGHT</b> <b>AND</b> <b>LICENSE</b></h4><pre>
       This software is copyright (c) 2018 by Carl Franks.

       This is free software; you can redistribute it and/or modify it under the same terms as the Perl 5
       programming language system itself.

perl v5.38.2                                       2024-04-10                 <u>HTML::FormFu::Manual::<a href="../man3pm/Unicode.3pm.html">Unicode</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>