<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>page_util_peg - page PEG transformation utilities</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/tcllib">tcllib_2.0+dfsg-4_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       page_util_peg - page PEG transformation utilities

</pre><h4><b>SYNOPSIS</b></h4><pre>
       package require <b>page::util::peg</b> <b>?0.2?</b>

       package require <b>snit</b>

       <b>::page::util::peg::symbolNodeOf</b> <u>tree</u> <u>node</u>

       <b>::page::util::peg::symbolOf</b> <u>tree</u> <u>node</u>

       <b>::page::util::peg::updateUndefinedDueRemoval</b> <u>tree</u>

       <b>::page::util::peg::flatten</b> <u>treequery</u> <u>tree</u>

       <b>::page::util::peg::getWarnings</b> <u>tree</u>

       <b>::page::util::peg::printWarnings</b> <u>msg</u>

       <b>::page::util::peg::peOf</b> <u>tree</u> <u>eroot</u>

       <b>::page::util::peg::printTclExpr</b> <u>pe</u>

________________________________________________________________________________________________________________

</pre><h4><b>DESCRIPTION</b></h4><pre>
       This  package  provides  a  few  common  operations  to PEG transformations.  They assume a <u>Normalized</u> <u>PE</u>
       <u>Grammar</u> <u>Tree</u> as input, see the package <b>page::util::norm::peg</b>, possibly augmented with  attributes  coming
       from transformations not in conflict with the base definition.

</pre><h4><b>API</b></h4><pre>
       <b>::page::util::peg::symbolNodeOf</b> <u>tree</u> <u>node</u>
              Given  an arbitrary expression <u>node</u> in the AST <u>tree</u> it determines the node (itself or an ancestor)
              containing the name of the nonterminal symbol the node belongs to, and returns its id. The  result
              is either the root of the tree (for the start expression), or a definition node.

       <b>::page::util::peg::symbolOf</b> <u>tree</u> <u>node</u>
              As <b>::page::util::peg::symbolNodeOf</b>, but returns the symbol name instead of the node.

       <b>::page::util::peg::updateUndefinedDueRemoval</b> <u>tree</u>
              The removal of nodes in the AST <u>tree</u> can cause symbols to lose one or more users.

                A used by B and C,
                B is reachable,
                C is not,

                so A now loses the node in the expression for C calling it,
                or rather, not calling it anymore.

              This command updates the cross-references and which nonterminals are now undefined.

       <b>::page::util::peg::flatten</b> <u>treequery</u> <u>tree</u>
              This  commands  flattens nested sequence and choice operators in the AST <u>tree</u>, re-using the <b>treeql</b>
              object <u>treequery</u> to run the query determining which nodes to cut.

       <b>::page::util::peg::getWarnings</b> <u>tree</u>
              This command looks at the attributes of the AST <u>tree</u> for problems  with  the  grammar  and  issues
              warnings.  They  do  not prevent us from writing the grammar, but still represent problems with it
              the user should be made aware of.

              The result of the command is a dictionary mapping nonterminal names to their associated warnings.

       <b>::page::util::peg::printWarnings</b> <u>msg</u>
              The argument of the command  is  a  dictionary  mapping  nonterminal  names  to  their  associated
              warnings, as generated by, for example, the command <b>::page::util::peg::getWarnings</b>.

              The  warnings contained therein are formatted and then printed via the log command <b>page_info</b>. This
              means that  this  command  can  be  used  only  from  within  a  plugin  managed  by  the  package
              <b>page::pluginmgr</b>.

       <b>::page::util::peg::peOf</b> <u>tree</u> <u>eroot</u>
              This  command  converts  the  parsing expression starting at the node <u>eroot</u> in the AST <u>tree</u> into a
              nested list. The exact syntax of this list specified by the package <b>grammar::peg</b>.

       <b>::page::util::peg::printTclExpr</b> <u>pe</u>
              This command converts the parsing expression contained in the nested list <u>pe</u>  into  a  Tcl  string
              which can be placed into a Tcl script.  See the package <b>grammar::peg</b> for the exact syntax of <u>pe</u>.

</pre><h4><b>BUGS,</b> <b>IDEAS,</b> <b>FEEDBACK</b></h4><pre>
       This  document,  and  the package it describes, will undoubtedly contain bugs and other problems.  Please
       report such in the category <u>page</u> of the <u>Tcllib</u> <u>Trackers</u>  [<a href="http://core.tcl.tk/tcllib/reportlist">http://core.tcl.tk/tcllib/reportlist</a>].   Please
       also report any ideas for enhancements you may have for either package and/or documentation.

       When proposing code changes, please provide <u>unified</u> <u>diffs</u>, i.e the output of <b>diff</b> <b>-u</b>.

       Note  further  that  <u>attachments</u>  are strongly preferred over inlined patches. Attachments can be made by
       going to the <b>Edit</b> form of the ticket immediately after its creation, and then using the left-most  button
       in the secondary navigation bar.

</pre><h4><b>KEYWORDS</b></h4><pre>
       PEG, page, parser generator, parsing expression grammar, text processing, transformation

</pre><h4><b>CATEGORY</b></h4><pre>
       Page Parser Generator

</pre><h4><b>COPYRIGHT</b></h4><pre>
       Copyright (c) 2007 Andreas Kupries &lt;<a href="mailto:andreas_kupries@users.sourceforge.net">andreas_kupries@users.sourceforge.net</a>&gt;

tcllib                                                 1.0                                   <u><a href="../man3tcl/page_util_peg.3tcl.html">page_util_peg</a></u>(3tcl)
</pre>
 </div>
</div></section>
</div>
</body>
</html>