<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CURLOPT_STREAM_WEIGHT - numerical stream weight</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libcurl4-doc">libcurl4-doc_8.14.1-1ubuntu2_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       CURLOPT_STREAM_WEIGHT - numerical stream weight

</pre><h4><b>SYNOPSIS</b></h4><pre>
       #include &lt;curl/curl.h&gt;

       CURLcode curl_easy_setopt(CURL *handle, CURLOPT_STREAM_WEIGHT, long weight);

</pre><h4><b>DESCRIPTION</b></h4><pre>
       Set the long <u>weight</u> to a number between 1 and 256.

       When  using  HTTP/2,  this  option sets the individual weight for this particular stream used by the easy
       <u>handle</u>. Setting and using weights only makes sense and is only usable when doing  multiple  streams  over
       the same connections, which thus implies that you use <u><a href="../man3/CURLMOPT_PIPELINING.3.html">CURLMOPT_PIPELINING</a>(3)</u>.

       This option can be set during transfer and causes the updated weight info get sent to the server the next
       time an HTTP/2 frame is sent to the server.

       See section 5.3 of RFC 7540 for protocol details.

       Streams  with  the same parent should be allocated resources proportionally based on their weight. If you
       have two streams going, stream A with weight 16 and stream B with weight 32, stream  B  gets  two  thirds
       (32/48) of the available bandwidth (assuming the server can send off the data equally for both streams).

</pre><h4><b>DEFAULT</b></h4><pre>
       16

</pre><h4><b>PROTOCOLS</b></h4><pre>
       This functionality affects http only

</pre><h4><b>EXAMPLE</b></h4><pre>
       int main(void)
       {
         CURL *curl = curl_easy_init();
         CURL *curl2 = curl_easy_init(); /* a second handle */
         if(curl) {
           curl_easy_setopt(curl, CURLOPT_URL, "https://example.com/one");
           curl_easy_setopt(curl, CURLOPT_STREAM_WEIGHT, 10L);

           /* the second has twice the weight */
           curl_easy_setopt(curl2, CURLOPT_URL, "https://example.com/two");
           curl_easy_setopt(curl2, CURLOPT_STREAM_WEIGHT, 20L);

           /* then add both to a multi handle and transfer them */
         }
       }

</pre><h4><b>AVAILABILITY</b></h4><pre>
       Added in curl 7.46.0

</pre><h4><b>RETURN</b> <b>VALUE</b></h4><pre>
       <u><a href="../man3/curl_easy_setopt.3.html">curl_easy_setopt</a>(3)</u> returns a CURLcode indicating success or error.

       CURLE_OK (0) means everything was OK, non-zero means an error occurred, see <u><a href="../man3/libcurl-errors.3.html">libcurl-errors</a>(3)</u>.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man3/CURLMOPT_PIPELINING.3.html">CURLMOPT_PIPELINING</a></b>(3), <b><a href="../man3/CURLOPT_PIPEWAIT.3.html">CURLOPT_PIPEWAIT</a></b>(3), <b><a href="../man3/CURLOPT_STREAM_DEPENDS.3.html">CURLOPT_STREAM_DEPENDS</a></b>(3), <b><a href="../man3/CURLOPT_STREAM_DEPENDS_E.3.html">CURLOPT_STREAM_DEPENDS_E</a></b>(3)

libcurl                                            2025-06-16                           <u><a href="../man3/CURLOPT_STREAM_WEIGHT.3.html">CURLOPT_STREAM_WEIGHT</a></u>(3)
</pre>
 </div>
</div></section>
</div>
</body>
</html>