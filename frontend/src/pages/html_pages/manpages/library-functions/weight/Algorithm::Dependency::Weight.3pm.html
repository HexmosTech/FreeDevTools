<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Algorithm::Dependency::Weight - Calculate dependency 'weights'</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libalgorithm-dependency-perl">libalgorithm-dependency-perl_1.110-1.3_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       Algorithm::Dependency::Weight - Calculate dependency 'weights'

</pre><h4><b>SYNOPSIS</b></h4><pre>
         # Create a source from a file
         my $Source = Algorithm::Dependency::Source-&gt;new( 'file.txt' );

         # Create a Weight algorithm object
         my $alg = Algorithm::Dependency::Weight-&gt;new( source =&gt; $Source );

         # Find the weight for a single item
         my $weight = $alg-&gt;weight('foo');
         print "The weight of 'foo' is $weight\n";

         # Or a group
         my $hash = $alg-&gt;weight_hash('foo', 'bar', 'baz');
         print "The weight of 'foo', 'bar', and 'bar' are $hash-&gt;{foo},"
             . " $hash-&gt;{bar} and $hash-&gt;{baz} respectively\n";

         # Or all of the items
         my $all = $alg-&gt;weight_all;
         print "The following is a list from heaviest to lightest:\n";
         foreach ( sort { $all-&gt;{$b} &lt;=&gt; $all-&gt;{$a} } keys %$all ) {
             print "$_: $all-&gt;{$_}\n";
         }

</pre><h4><b>DESCRIPTION</b></h4><pre>
       In dependency systems, it can often be very useful to calculate an aggregate or sum for one or all items.
       For example, to find the "naive install weight" of a Perl distribution (where "naive" means you treat
       each distribution equally), you would want the distribtion (1) + all its dependencies (n) + all <b>their</b>
       dependencies (n2) recursively downwards.

       If calculated using a normal Algorithm::Dependency object, the result would be (in a simple systems)
       equal to:

         # Create your normal (non-ordered alg:dep)
         my $dependency = Algorithm::Dependency-&gt;new( ... );

         # Find the naive weight for an item
         my $weight = scalar($dependency-&gt;schedule('itemname'));

       "Algorithm::Dependency::Weight" provides a way of doing this with a little more sophistication, and in a
       way that should work reasonable well across all the Algorithm::Dependency family.

       Please note that the this might be a little (or more than a little) slower than it could be for the
       limited case of generating weights for all of the items at once in a dependency system with no selected
       items and no circular dependencies. BUT you can at least rely on this class to do the job properly
       regardless of the particulars of the situation, which is probably more important.

   <b>METHODS</b>
   <b>new</b> <b>@params</b>
       The "new" constructor creates a new "Algorithm::Dependency::Weight" object. It takes a number of
       key/value pairs as parameters (although at the present time only one).

       source =&gt; $Source
           The  "source"  param  is mostly the same as for Algorithm::Dependency.  The one addition is that as a
           source you can provide an Algorithm::Dependency object,  and  the  Algorithm::Dependency::Source  for
           that will be used.

       Returns a new "Algorithm::Dependency::Weight" object, or "undef" on error.

   <b>source</b>
       The "source" accessor returns the source used for the weight calculations.

       This   will   be   either   the   one   passed  to  the  constructor,  or  the  source  from  inside  the
       "Algorithm::Dependency" object passed as the "source" param (<b>not</b> the object itself, <b>its</b> source).

   <b>weight</b> <b>$name</b>
       The "weight" method takes the name of a single item and calculates its weight based on the  configuration
       of the "Algorithm::Dependency::Weight" object.

       Returns  the weight as a scalar (which in the naive case will be an integer, but in more complex uses may
       be any real number), or "undef" on error.

   <b>weight_merged</b> <b>@names</b>
       The "weight_merged" method takes the name of a set of items and calculates an aggregated weight  for  the
       whole set.

       Returns the weight as a scalar, or "undef" on error.

   <b>weight_hash</b> <b>@names</b>
       The "weight_hash" method takes a list of item names, and calculates their weights.

       Returns a reference to a "HASH" with the item names as keys and weights as values, or "undef" on error.

   <b>weight_all</b>
       The "weight_all" method provides the one-shot method for getting the weights of all items at once. Please
       note that this does not do anything different or special, but is slightly faster than iterating yourself.

       Returns a reference to a "HASH" with the item names as keys and weights as values, or "undef" on error.

</pre><h4><b>TO</b> <b>DO</b></h4><pre>
       - Add support for non-naive weights via either custom code or method name

</pre><h4><b>SUPPORT</b></h4><pre>
       Bugs should be submitted via the CPAN bug tracker, located at

       &lt;<a href="http://rt.cpan.org/NoAuth/ReportBug.html">http://rt.cpan.org/NoAuth/ReportBug.html</a>?Queue=Algorithm-Dependency&gt;

       For general comments, contact the author.

</pre><h4><b>AUTHOR</b></h4><pre>
       Adam Kennedy &lt;<a href="mailto:adamk@cpan.org">adamk@cpan.org</a>&gt;

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       Algorithm::Dependency, Algorithm::Dependency::Source

</pre><h4><b>COPYRIGHT</b></h4><pre>
       Copyright 2003 - 2009 Adam Kennedy.

       This  program  is  free  software;  you can redistribute it and/or modify it under the same terms as Perl
       itself.

       The full text of the license can be found in the LICENSE file included with this module.

perl v5.38.2                                       2024-07-09                 <u>Algorithm::Dependency::<a href="../man3pm/Weight.3pm.html">Weight</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>