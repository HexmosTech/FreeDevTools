<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DateTime::Format::Natural - Parse informal natural language date/time strings</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libdatetime-format-natural-perl">libdatetime-format-natural-perl_1.21-1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       DateTime::Format::Natural - Parse informal natural language date/time strings

</pre><h4><b>SYNOPSIS</b></h4><pre>
        use DateTime::Format::Natural;

        $parser = DateTime::Format::Natural-&gt;new;

        $dt = $parser-&gt;parse_datetime($date_string);
        @dt = $parser-&gt;parse_datetime_duration($date_string);

        $date_string  = $parser-&gt;extract_datetime($extract_string);
        @date_strings = $parser-&gt;extract_datetime($extract_string);

        if ($parser-&gt;success) {
            # operate on $dt/@dt, for example:
            print $dt-&gt;strftime('%d.%m.%Y %H:%M:%S'), "\n";
        } else {
            warn $parser-&gt;error;
        }

        @traces = $parser-&gt;trace;

        # examples

        12:14 PM
        next tuesday at 2am
        tomorrow morning
        4pm yesterday
        10 weeks ago

        1st tuesday last november
        2nd friday in august
        final thursday in april

        for 3 hours
        monday to friday
        1 April 10 am to 1 May 8am

        jan 24, 2011 12:00

</pre><h4><b>DESCRIPTION</b></h4><pre>
       "DateTime::Format::Natural" parses informal natural language date/time strings.  In addition, parsable
       date/time substrings may be extracted from ordinary strings.

</pre><h4><b>CONSTRUCTOR</b></h4><pre>
   <b>new</b>
       Creates a new "DateTime::Format::Natural" object. Arguments to new() are options and not necessarily
       required.

        $parser = DateTime::Format::Natural-&gt;new(
                  datetime      =&gt; DateTime-&gt;new(...),
                  lang          =&gt; 'en',
                  format        =&gt; 'mm/dd/yy',
                  prefer_future =&gt; [0|1],
                  demand_future =&gt; [0|1],
                  time_zone     =&gt; 'floating',
                  daytime       =&gt; { morning   =&gt; 06,
                                     afternoon =&gt; 13,
                                     evening   =&gt; 20,
                                   },
        );

       •   "datetime"

           Overrides the present now with a DateTime object provided.

       •   "lang"

           Contains the language selected, currently limited to "en" (english).  Defaults to '"en"'.

       •   "format"

           Specifies the format of numeric dates.

           The format is used to influence how numeric dates are parsed. Given two numbers separated by a slash,
           the  month/day  order  expected  comes  from  this  option.  If  there is a third number, this option
           describes where to expect the year. When this format can't  be  used  to  interpret  the  date,  some
           unambiguous dates may be parsed, but there is no form guarantee.

           Current supported "month/day" formats: "dd/mm", "mm/dd".

           Current  supported  "year/month/day"  formats (with slashes): "dd/mm/yy", "dd/mm/yyyy", "mm/dd/yyyy",
           "yyyy/mm/dd".

           Note that all of the above formats with three units do also parse  with  dots  or  dashes  as  format
           separators.

           Furthermore, formats can be abbreviated as long as they remain unambiguous.

           Defaults to '"d/m/y"'.

       •   "prefer_future"

           Prefers future time and dates. Accepts a boolean, defaults to false.

       •   "demand_future"

           Demands future time and dates. Similar to "prefer_future", but stronger.  Accepts a boolean, defaults
           to false.

       •   "time_zone"

           The  time  zone  to  use  when  parsing and for output. Accepts any time zone recognized by DateTime.
           Defaults to 'floating'.

       •   "daytime"

           A hash reference consisting of customized daytime hours, which may be selectively changed.

</pre><h4><b>METHODS</b></h4><pre>
   <b>parse_datetime</b>
       Returns a DateTime object constructed from a natural language date/time string.

        $dt = $parser-&gt;parse_datetime($date_string);
        $dt = $parser-&gt;parse_datetime(string =&gt; $date_string);

       •   "string"

           The date string.

   <b>parse_datetime_duration</b>
       Returns one or two DateTime objects constructed from  a  natural  language  date/time  string  which  may
       contain  timespans/durations.  <u>Same</u>  interface  and options as parse_datetime(), but should be explicitly
       called in list context.

        @dt = $parser-&gt;parse_datetime_duration($date_string);
        @dt = $parser-&gt;parse_datetime_duration(string =&gt; $date_string);

   <b>extract_datetime</b>
       Returns parsable date/time substrings (also known as expressions) extracted from the string provided;  in
       scalar  context  only  the  first  parsable  substring  is returned, whereas in list context all parsable
       substrings are  returned.   Each  extracted  substring  can  then  be  passed  to  the  parse_datetime()/
       parse_datetime_duration() methods.

        $date_string  = $parser-&gt;extract_datetime($extract_string);
        @date_strings = $parser-&gt;extract_datetime($extract_string);
        # or
        $date_string  = $parser-&gt;extract_datetime(string =&gt; $extract_string);
        @date_strings = $parser-&gt;extract_datetime(string =&gt; $extract_string);

   <b>success</b>
       Returns a boolean indicating success or failure for parsing the date/time string given.

   <b>error</b>
       Returns the error message if the parsing did not succeed.

   <b>trace</b>
       Returns  one  or  two strings with the grammar keyword for the valid expression parsed, traces of methods
       which were called within the Calc class and a summary how often certain units have  been  modified.  More
       than one string is commonly returned for durations. Useful as a debugging aid.

</pre><h4><b>GRAMMAR</b></h4><pre>
       The  grammar  handling  has  been  rewritten to be easily extendable and hence everybody is encouraged to
       propose sensible new additions and/or changes.

       See the class DateTime::Format::Natural::Lang::EN if you're intending to hack a bit on the grammar guts.

</pre><h4><b>EXAMPLES</b></h4><pre>
       See the class DateTime::Format::Natural::Lang::EN for an overview of currently valid input.

</pre><h4><b>BUGS</b> <b>&amp;</b> <b>CAVEATS</b></h4><pre>
       parse_datetime()/parse_datetime_duration() always return one or two DateTime objects  regardless  whether
       the  parse  was  successful  or  not.  In  case  no  valid expression was found or a failure occurred, an
       unaltered DateTime object with its initial values  (most  often  the  "current"  now)  is  likely  to  be
       returned.  It  is  therefore recommended to use success() to assert that the parse did succeed (at least,
       for common uses), otherwise the absence of a parse failure cannot be guaranteed.

       parse_datetime() is not capable of handling durations.

</pre><h4><b>CREDITS</b></h4><pre>
       Thanks  to  Tatsuhiko  Miyagawa   for   the   initial   inspiration.   See   Miyagawa's   journal   entry
       &lt;<a href="http://use.perl.org/~miyagawa/journal/31378">http://use.perl.org/~miyagawa/journal/31378</a>&gt; for more information.

       Furthermore, thanks to (in order of appearance) who have contributed valuable suggestions and patches:

        Clayton L. Scott
        Dave Rolsky
        CPAN Author 'SEKIMURA'
        mike (pulsation)
        Mark Stosberg
        Tuomas Jormola
        Cory Watson
        Urs Stotz
        Shawn M. Moore
        Andreas J. König
        Chia-liang Kao
        Jonny Schulz
        Jesse Vincent
        Jason May
        Pat Kale
        Ankur Gupta
        Alex Bowley
        Elliot Shank
        Anirvan Chatterjee
        Michael Reddick
        Christian Brink
        Giovanni Pensa
        Andrew Sterling Hanenkamp
        Eric Wilhelm
        Kevin Field
        Wes Morgan
        Vladimir Marek
        Rod Taylor
        Tim Esselens
        Colm Dougan
        Chifung Fan
        Xiao Yafeng
        Roman Filippov
        David Steinbrunner
        Debian Perl Group
        Tim Bunce
        Ricardo Signes
        Felix Ostmann
        Jörn Clausen
        Jim Avera
        Olaf Alders
        Karen Etheridge
        Graham Ollis

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       dateparse, DateTime, Date::Calc, &lt;<a href="http://datetime.perl.org">http://datetime.perl.org</a>&gt;

</pre><h4><b>AUTHOR</b></h4><pre>
       Steven Schubiger &lt;<a href="mailto:schubiger@cpan.org">schubiger@cpan.org</a>&gt;

</pre><h4><b>LICENSE</b></h4><pre>
       This  program  is  free  software;  you may redistribute it and/or modify it under the same terms as Perl
       itself.

       See &lt;<a href="http://dev.perl.org/licenses/">http://dev.perl.org/licenses/</a>&gt;

perl v5.40.1                                       2025-05-21                     <u>DateTime::Format::<a href="../man3pm/Natural.3pm.html">Natural</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>