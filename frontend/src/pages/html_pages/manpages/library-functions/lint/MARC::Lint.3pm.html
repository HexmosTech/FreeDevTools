<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MARC::Lint - Perl extension for checking validity of MARC records</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libmarc-lint-perl">libmarc-lint-perl_1.53-2_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       MARC::Lint - Perl extension for checking validity of MARC records

</pre><h4><b>SYNOPSIS</b></h4><pre>
           use MARC::File::USMARC;
           use MARC::Lint;

           my $lint = new MARC::Lint;
           my $filename = shift;

           my $file = MARC::File::USMARC-&gt;in( $filename );
           while ( my $marc = $file-&gt;next() ) {
               $lint-&gt;check_record( $marc );

               # Print the title tag
               print $marc-&gt;title, "\n";

               # Print the errors that were found
               print join( "\n", $lint-&gt;warnings ), "\n";
           } # while

       Given the following MARC record:

           LDR 00000nam  22002538a 4500
           040    _aMdSSJTT
                  _cMdSSJTT
           040    _aMdSSJTT
                  _beng
                  _cMdSSJTT
           100 14 _aWall, Larry.
           110 1  _aO'Reilly &amp; Associates.
           245 90 _aProgramming Perl /
                  _aBig Book of Perl /
                  _cLarry Wall, Tom Christiansen &amp; Jon Orwant.
           250    _a3rd ed.
           250    _a3rd ed.
           260    _aCambridge, Mass. :
                  _bO'Reilly,
                  _r2000.
           590 4  _aPersonally signed by Larry.
           856 43 _u<a href="http://www.perl.com/">http://www.perl.com/</a>

       the following errors are generated:

           1XX: Only one 1XX tag is allowed, but I found 2 of them.
           100: Indicator 2 must be blank but it's "4"
           245: Indicator 1 must be 0 or 1 but it's "9"
           245: Subfield _a is not repeatable.
           040: Field is not repeatable.
           260: Subfield _r is not allowed.
           856: Indicator 2 must be blank, 0, 1, 2 or 8 but it's "3"

</pre><h4><b>DESCRIPTION</b></h4><pre>
       Module for checking validity of MARC records.  99% of the users will want to do something like is shown
       in the synopsis.  The other intrepid 1% will overload the "MARC::Lint" module's methods and provide their
       own special field-level checking.

       What this means is that if you have certain requirements, such as making sure that all 952 tags have a
       certain call number in them, you can write a function that checks for that, and still get all the
       benefits of the MARC::Lint framework.

</pre><h4><b>EXPORT</b></h4><pre>
       None.  Everything is done through objects.

</pre><h4><b>METHODS</b></h4><pre>
   <b>new()</b>
       No parms needed.  The "MARC::Lint" object is little more than a list of warnings and a bunch of rules.

   <b>warnings()</b>
       Returns a list of warnings found by "check_record()" and its brethren.

   <b>clear_warnings()</b>
       Clear the list of warnings for this linter object.  It's automatically called when you call
       "check_record()".

   <b>warn(</b> <b>$str</b> <b>[,</b> <b>$str...]</b> <b>)</b>
       Create a warning message, built from strings passed, like a "print" statement.

       Typically, you'll leave this to "check_record()", but industrious programmers may want to do their own
       checking as well.

   <b>check_record(</b> <b>$marc</b> <b>)</b>
       Does all sorts of lint-like checks on the MARC record <u>$marc</u>, both on the record as a whole, and on the
       individual fields &amp; subfields.

   <b>check_</b><u><b>xxx</b></u><b>(</b> <b>$field</b> <b>)</b>
       Various functions to check the different fields.  If the function doesn't exist, then it doesn't get
       checked.

   <b>check_020()</b>
       Looks at 020$a and reports errors if the check digit is wrong.  Looks at 020$z and validates number if
       hyphens are present.

       Uses Business::ISBN to do validation. Thirteen digit checking is currently done with the internal sub
       <b>_isbn13_check_digit()</b>, based on code from Business::ISBN.

       TO DO (check_020):

        Fix 13-digit ISBN checking.

   <b>_isbn13_check_digit($ean)</b>
       Internal sub to determine if 13-digit ISBN has a valid checksum. The code is taken from
       Business::ISBN::as_ean. It is expected to be temporary until Business::ISBN is updated to check 13-digit
       ISBNs itself.

   <b>check_041(</b> <b>$field</b> <b>)</b>
       Warns if subfields are not evenly divisible by 3 unless second indicator is 7 (future implementation
       would ensure that each subfield is exactly 3 characters unless ind2 is 7--since subfields are now
       repeatable. This is not implemented here due to the large number of records needing to be corrected.).
       Validates against the MARC Code List for Languages (&lt;<a href="http://www.loc.gov/marc/">http://www.loc.gov/marc/</a>&gt;) using the
       MARC::Lint::CodeData data pack to MARC::Lint (%LanguageCodes, %ObsoleteLanguageCodes).

   <b>check_043(</b> <b>$field</b> <b>)</b>
       Warns if each subfield a is not exactly 7 characters. Validates each code against the MARC code list for
       Geographic Areas (&lt;<a href="http://www.loc.gov/marc/">http://www.loc.gov/marc/</a>&gt;) using the MARC::Lint::CodeData data pack to MARC::Lint
       (%GeogAreaCodes, %ObsoleteGeogAreaCodes).

   <b>check_245(</b> <b>$field</b> <b>)</b>
        -Makes sure $a exists (and is first subfield).
        -Warns if last character of field is not a period
        --Follows LCRI 1.0C, Nov. 2003 rather than MARC21 rule
        -Verifies that $c is preceded by / (space-/)
        -Verifies that initials in $c are not spaced
        -Verifies that $b is preceded by :;= (space-colon, space-semicolon, space-equals)
        -Verifies that $h is not preceded by space unless it is dash-space
        -Verifies that data of $h is enclosed in square brackets
        -Verifies that $n is preceded by . (period)
         --As part of that, looks for no-space period, or dash-space-period (for replaced elipses)
        -Verifies that $p is preceded by , (no-space-comma) when following $n and . (period) when following other subfields.
        -Performs rudimentary article check of 245 2nd indicator vs. 1st word of 245$a (for manual verification).

        Article checking is done by internal _check_article method, which should work for 130, 240, 245, 440, 630, 730, and 830.

   <b>_check_article</b>
       Check of articles is based on code from Ian Hamilton. This version is more limited in that it focuses on
       English, Spanish, French, Italian and German articles. Certain possible articles have been removed if
       they are valid English non-articles. This version also disregards 008_language/041 codes and just uses
       the list of articles to provide warnings/suggestions.

       source for articles = &lt;<a href="http://www.loc.gov/marc/bibliographic/bdapp-e.html">http://www.loc.gov/marc/bibliographic/bdapp-e.html</a>&gt;

       Should work with fields 130, 240, 245, 440, 630, 730, and 830. Reports error if another field is passed
       in.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       Check the docs for MARC::Record.  All software links are there.

</pre><h4><b>TODO</b></h4><pre>
       •   Subfield 6

           For  subfield  6, it should always be the 1st subfield according to MARC 21 specifications. Perhaps a
           generic check should be added that warns if subfield 6 is not the 1st subfield.

       •   Subfield 8.

           This subfield could be the 1st or 2nd subfield, so the code that checks for  the  1st  few  subfields
           (check_245, check_250) should take that into account.

       •   Subfield 9

           This  subfield  is  not officially allowed in MARC, since it is locally defined. Some way needs to be
           made to allow messages/warnings about this subfield to be turned off (or otherwise deal with  records
           using/allowing locally defined subfield 9).

       •   008 length and presence check

           Currently,  008  validation  is  not  implemented in MARC::Lint, but is left to MARC::Errorchecks. It
           might be useful if MARC::Lint's basic validation checks included a verification that the  008  exists
           and  is  exactly 40 characters long. Additional 008-related checking and byte validation would remain
           in MARC::Errorchecks.

       •   ISBN and ISSN checking

           020  and  022  fields  are  validated  with  the  "Business::ISBN"  and   "Business::ISSN"   modules,
           respectively. Business::ISBN versions between 2 and 2.02_01 are incompatible with MARC::Lint.

       •   check_041 cleanup

           Splitting subfield code strings every 3 chars could probably be written more efficiently.

       •   check_245 cleanup

           The article checking in particular.

       •   Method for turning off checks

           Provide  a  way for users to skip checks more easily when using check_record, or a specific check_xxx
           method (e.g. skip article checking).

</pre><h4><b>LICENSE</b></h4><pre>
       This code may be distributed under the same terms as Perl itself.

       Please note that these modules are not  products  of  or  supported  by  the  employers  of  the  various
       contributors to the code.

perl v5.36.0                                       2022-10-14                                    <u>MARC::<a href="../man3pm/Lint.3pm.html">Lint</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>