<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>sd_bus_error_add_map, sd_bus_error_map, SD_BUS_ERROR_MAP, SD_BUS_ERROR_END - Additional sd-dbus error</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libsystemd-dev">libsystemd-dev_257.7-1ubuntu3_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       sd_bus_error_add_map, sd_bus_error_map, SD_BUS_ERROR_MAP, SD_BUS_ERROR_END - Additional sd-dbus error
       mappings

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>#include</b> <b>&lt;systemd/sd-bus.h&gt;</b>

       <b>typedef</b> <b>struct</b> <b>{</b>
               <b>const</b> <b>char</b> <b>*name;</b>
               <b>int</b> <b>code;</b>
               <b>...</b>
       <b>}</b> <b>sd_bus_error_map;</b>

       <b>SD_BUS_ERROR_MAP(</b><u>name</u><b>,</b> <u>code</u><b>)</b>

       <b>SD_BUS_ERROR_MAP_END</b>

       <b>int</b> <b>sd_bus_error_add_map(const</b> <b>sd_bus_error_map</b> <b>*</b><u>map</u><b>);</b>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The <b>sd_bus_error_add_map()</b> call may be used to register additional mappings for converting D-Bus errors
       to Linux <u>errno</u>-style errors. The mappings defined with this call are consulted by calls such as
       <b><a href="../man3/sd_bus_error_set.3.html">sd_bus_error_set</a></b>(3) or <b><a href="../man3/sd_bus_error_get_errno.3.html">sd_bus_error_get_errno</a></b>(3). By default, a number of generic, standardized mappings
       are known, as documented in <b><a href="../man3/sd-bus-errors.3.html">sd-bus-errors</a></b>(3). Use this call to add further, application-specific
       mappings.

       The function takes a pointer to an array of sd_bus_error_map structures. A reference to the specified
       array is added to the lookup tables for error mappings. Note that the structure is not copied, and that
       it is hence essential that the array stays available and constant during the entire remaining runtime of
       the process.

       The mapping array should be put together with a series of <b>SD_BUS_ERROR_MAP()</b> macro invocations that take
       a literal name string and a (positive) <u>errno</u>-style error number. The last entry of the array should be an
       invocation of the <b>SD_BUS_ERROR_MAP_END</b> macro. The array should not be put together without use of these
       two macros.

       Note that the call is idempotent: it is safe to invoke it multiple times with the parameter, which will
       only add the passed mapping array once.

       Note that the memory allocated by this call is not intended to be freed during the lifetime of the
       process. It should not be freed explicitly.

</pre><h4><b>RETURN</b> <b>VALUE</b></h4><pre>
       <b>sd_bus_error_add_map()</b> returns a positive value when the new array was added to the lookup tables. It
       returns zero when the same array was already added before. On error, a negative <u>errno</u>-style error code is
       returned. See below for known error codes.

   <b>Errors</b>
       Returned errors may indicate the following problems:

       <b>-EINVAL</b>
           The specified mapping array is invalid.

       <b>-ENOMEM</b>
           Memory allocation failed.

</pre><h4><b>NOTES</b></h4><pre>
       Functions described here are available as a shared library, which can be compiled against and linked to
       with the <b>libsystemd</b> <b><a href="../man1/pkg-config.1.html">pkg-config</a></b>(1) file.

       The code described here uses <b><a href="../man3/getenv.3.html">getenv</a></b>(3), which is declared to be not multi-thread-safe. This means that
       the code calling the functions described here must not call <b><a href="../man3/setenv.3.html">setenv</a></b>(3) from a parallel thread. It is
       recommended to only do calls to <b>setenv()</b> from an early phase of the program when no other threads have
       been started.

</pre><h4><b>HISTORY</b></h4><pre>
       <b>sd_bus_error_add_map()</b> was added in version 221.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man1/systemd.1.html">systemd</a></b>(1), <b><a href="../man3/sd-bus.3.html">sd-bus</a></b>(3), <b><a href="../man3/sd_bus_error.3.html">sd_bus_error</a></b>(3), <b><a href="../man3/sd-bus-errors.3.html">sd-bus-errors</a></b>(3), <b><a href="../man3/errno.3.html">errno</a></b>(3), <b><a href="../man3/strerror_r.3.html">strerror_r</a></b>(3)

systemd 257.7                                                                            <u><a href="../man3/SD_BUS_ERROR_ADD_MAP.3.html">SD_BUS_ERROR_ADD_MAP</a></u>(3)
</pre>
 </div>
</div></section>
</div>
</body>
</html>