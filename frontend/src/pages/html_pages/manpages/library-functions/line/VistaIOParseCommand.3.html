<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>VistaIOParseCommand - parse command line arguments</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libvistaio-dev">libvistaio-dev_1.2.19-3_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       VistaIOParseCommand - parse command line arguments

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>#include</b> <b>&lt;vistaio.h&gt;</b>

       <b>VistaIOBoolean</b> <b>VistaIOParseCommand</b> <b>(</b><u>noptions</u><b>,</b> <u>options</u><b>,</b> <u>argc</u><b>,</b> <u>argv</u><b>)</b>
              <b>int</b> <u>noptions</u><b>,</b> <b>*</b><u>argc</u><b>;</b>
              <b>VistaIOOptionDescRec</b> <u>options</u><b>[</b><u>noptions</u><b>];</b>
              <b>char</b> <b>*</b><u>argv</u><b>;</b>

</pre><h4><b>ARGUMENTS</b></h4><pre>
       <u>noptions</u>  Specifies the number of entries in the table of option descriptors.

       <u>options</u>   Specifies the location of the table of option descriptors.

       <u>argc</u>      Specifies  the  number  of  command  line  arguments  to  be  parsed, and returns the number of
                 arguments that were not recognized as valid options.

       <u>argv</u>      Specifies a vector of command line arguments  to  be  parsed,  and  returns  a  vector  of  the
                 arguments that were not recognized as valid options.

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>VistaIOParseCommand</b>  parses command line arguments according to a table that describes valid command line
       options. The <b><a href="../man3/VistaIOoption.3.html">VistaIOoption</a></b>(3) manual page describes this table's contents and specifies  the  forms  that
       command line options may take.  The <u>noptions</u> and <u>options</u> arguments specify the length and location of the
       table.

       The  <u>argc</u>  and  <u>argv</u>  arguments  to  <b>VistaIOParseCommand</b>  are normally identical to the parameters of the
       program's <b>main</b> function. (Note, however, that the address of <b>main</b>'s <u>argc</u> is passed rather than the actual
       value of <u>argc</u>.)

       <b>VistaIOParseCommand</b> uses the first command line argument, <u>argv</u>[0], in a call to  <b><a href="../man3/VistaIOSetProgramName.3.html">VistaIOSetProgramName</a></b>(3)
       to record the program's name for future error messages.

       The   remaining   command   line   arguments   are  then  processed  sequentially  from  <u>argv</u>[1]  through
       <u>argv</u>[*<u>argc</u> - 1]. An argument is examined to determine whether it is an initial substring  of  any  option
       keyword  defined  in  the  options  table. If so, arguments following the keyword may be parsed as values
       associated with the option. The values are stored at locations specified  by  the  options  table.  If  a
       variable  number  of values are associated with the option, <b>VistaIOParseCommand</b> will allocate a vector of
       the appropriate length for them.  Following  the  value  arguments,  <b>VistaIOParseCommand</b>  expects  either
       another option keyword or the end of the list of command line arguments.

       If  <b>VistaIOParseCommand</b>  encounters  an  argument  that could be an option keyword (based on its position
       among the command line arguments) but that isn't among the keywords  defined  in  the  table,  it  merely
       passes  over  it without complaint. Any such arguments that are not recognized are returned to the caller
       (see ``RETURN VALUES'', below).

       <b>VistaIOParseCommand</b> checks that each required option appears once in the  command  line,  and  that  each
       optional  option appears at most once. If an option appears more than once, a message is printed and only
       values supplied with the last appearance of the option are retained.  The  options  table  entry  for  an
       optional  option  may  specify the location of a <b>VistaIOBoolean</b> that is to be set to indicate whether the
       option was encountered. <b>VistaIOParseCommand</b> will set  the  <b>VistaIOBoolean</b>  to  <b>TRUE</b>  if  the  option  was
       encountered, and to <b>FALSE</b> otherwise.

       In  addition  to  the  options  specified by the options table, <b>VistaIOParseCommand</b> recognizes the option
       <b>-help</b>. When it encounters <b>-help</b>, <b>VistaIOParseCommand</b> ignores the remaining arguments on the command line,
       sets *<u>argc</u> to 1 to indicate that all arguments have been accounted for, and  returns  <b>FALSE</b>  to  indicate
       that  the  command  line parse was not completed successfully.  These returned indications normally cause
       the caller to print command usage information as shown in the code example below.

</pre><h4><b>RETURN</b> <b>VALUES</b></h4><pre>
       <b>VistaIOParseCommand</b> returns <b>FALSE</b> if an option that appears among the command line  arguments  lacks  the
       correct  number of values of the appropriate form.  It also returns <b>FALSE</b> if a required option is missing
       from the command line arguments. Finally, it returns <b>FALSE</b> if it encounters a  <b>-help</b>  option.  Otherwise,
       <b>VistaIOParseCommand</b>  returns  <b>TRUE</b>.  Thus,  <b>TRUE</b>  indicates  that the command were parsed successfully by
       <b>VistaIOParseCommand</b> and that the program may continue on that basis.

       <b>VistaIOParseCommand</b> also returns a revised <u>argv</u> containing only the command line arguments  that  it  did
       not  recognize  as  valid  options. In *<u>argc</u> it returns the number of such arguments. <b>VistaIOParseCommand</b>
       moves elements of the <u>argv</u> vector of strings so that all arguments that are not part of valid options are
       in the first *<u>argc</u> elements.  At minimum, there will be one: the program's name. Others might be  options
       that,  for  some  reason, the programmer chooses not to handle with <b>VistaIOParseCommand</b> — e.g., X Windows
       parameters that must be given to <b><a href="../man3Xt/XtDisplayInitialize.3Xt.html">XtDisplayInitialize</a></b>(3Xt) instead.

</pre><h4><b>EXAMPLES</b></h4><pre>
       The following code fragment parses command line arguments using <b>VistaIOParseCommand</b>.  Any  arguments  not
       recognized    by    <b>VistaIOParseCommand</b>    are    then   parsed   by   some   other   means   (e.g.,   by
       <b><a href="../man3Xt/XtDisplayInitialize.3Xt.html">XtDisplayInitialize</a></b>(3Xt)).  Finally, if any arguments remain, having not been  recognized  during  either
       parsing, they are printed along with information on the valid program options.

       <b>#include</b> <b>&lt;vistaio.h&gt;</b>

       <b>static</b> <b>VistaIOOptionDescRec</b> <b>options[]</b> <b>=</b> <b>{</b> <b>/*</b> <b>option</b> <b>table</b> <b>entries</b> <b>*/</b> <b>};</b>

       <b>int</b> <b>main</b> <b>(int</b> <b>argc,</b> <b>char</b> <b>*argv)</b>
       <b>{</b>
              <b>if</b> <b>(!</b> <b>VistaIOParseCommand</b> <b>(VistaIONumber</b> <b>(options),</b> <b>options,</b> <b>&amp;</b> <b>argc,</b> <b>argv))</b>
                     <b>goto</b> <b>Usage;</b>

              /* Parse arguments remaining in argv[1] ... argv[argc - 1]. */

              ...

              <b>if</b> <b>(argc</b> <b>&gt;</b> <b>1)</b> <b>{</b>
                     <b>VistaIOReportBadArgs</b> <b>(argc,</b> <b>argv);</b>
       <b>Usage:</b>
                     <b>VistaIOReportUsage</b> <b>(argv[0],</b> <b>VistaIONumber</b> <b>(options),</b> <b>options,</b> <b>NULL);</b>
                     <b>fprintf</b> <b>(stderr,</b> <b>"</b>    <b>plus</b> <b>any</b> <b>X</b> <b>Windows</b> <b>options.\n\n");</b>
                     <b>exit</b> <b>(1);</b>
              <b>}</b>

              ...

       <b>}</b>

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man3/VistaIOReportBadArgs.3.html">VistaIOReportBadArgs</a></b>(3), <b><a href="../man3/VistaIOReportUsage.3.html">VistaIOReportUsage</a></b>(3), <b><a href="../man3/VistaIOIdentifyFiles.3.html">VistaIOIdentifyFiles</a></b>(3), <b><a href="../man3/VistaIOoption.3.html">VistaIOoption</a></b>(3),

</pre><h4><b>DIAGNOSTICS</b></h4><pre>
       <b>VistaIOParseCommand</b>  reports  errors  in  command line options by printing directly to the standard error
       stream. Error reports include the program name obtained from <u>argv</u>[0]. The following messages may be  pro‐
       duced:

       ``Duplicate -<u>option</u> option; ignoring all but last.''
              The specified option was found more than once on the command line.

       ``Option -<u>option</u> has incorrect value <u>arg</u>.''
              One  of  the values associated with -<u>option</u> on the command line is <u>arg</u>, which is of the wrong form
              with respect to the type of value required.

       ``Option -<u>option</u> requires <u>m</u> value(s); found only <u>n</u>.''
              The option keyword -<u>option</u> must be followed by <u>n</u> values on the command line. Only <u>m</u> were  present,
              however.

       ``Option -<u>option</u> must be specified.''
              The option -<u>option</u> is required but it was not present on the command line.

       In addition, <b>VistaIOParseCommand</b> may invoke <b>VistaIOError</b> with the following message:

       ``Parsing of command options with <u>type</u> values is not implemented.''
              Options,  as  described  in  the options table, must take values that are of type <b>VistaIOBit</b>, <b>Vis‐</b>
              <b>taIOUByte</b>, <b>VistaIOSByte</b>, <b>VistaIOShort</b>, <b>VistaIOLong</b>, <b>VistaIOFloat</b>,  <b>VistaIODouble</b>,  <b>VistaIOBoolean</b>,
              or <b>VistaIOString</b>.  <b>VistaIOParseCommand</b> encountered a table entry describing an option of type <u>type</u>
              instead.

</pre><h4><b>AUTHOR</b></h4><pre>
       Art Pope &lt;<a href="mailto:pope@cs.ubc.ca">pope@cs.ubc.ca</a>&gt;

       Adaption to vistaio: Gert Wollny &lt;<a href="mailto:gw.fossdev@gmail.com">gw.fossdev@gmail.com</a>&gt;

VistaIO Version 1.2.14                            24 April 1993                           <u><a href="../man3/VistaIOParseCommand.3.html">VistaIOParseCommand</a></u>(3)
</pre>
 </div>
</div></section>
</div>
</body>
</html>