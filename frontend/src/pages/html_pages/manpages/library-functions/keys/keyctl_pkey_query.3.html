<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>keyctl_pkey_query - Query public key parameters</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libkeyutils-dev">libkeyutils-dev_1.6.3-6ubuntu1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       keyctl_pkey_query - Query public key parameters

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>#include</b> <b>&lt;keyutils.h&gt;</b>

       <b>long</b> <b>keyctl_pkey_query(key_serial_t</b> <u>key</u><b>,</b> <b>const</b> <b>char</b> <b>*</b><u>info</u><b>,</b>
                              <b>struct</b> <b>keyctl_pkey_query</b> <b>*</b><u>result</u><b>);</b>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>keyctl_pkey_query</b>()  queries  the  public key parameters associated with a kernel key that supports these
       operations (typically <b>asymmetric</b>-type).  The caller must have <b>search</b> permission on the target key  to  be
       able to query its parameters.

       When invoking the function, <u>key</u> indicates the key to be queried, <u>info</u> points to a space- or tab-separated
       string of "key[=value]" parameters and <u>result</u> points to a buffer in which the result will be placed.

       The  parameters  that  can  be  used  in  the  <u>info</u>  parameter  string  are dependent on the type of key.
       Parameters can specify such things as encoding types (such as  "enc=pkcs1");  see  <a href="../man7/asymmetric-key.7.html">asymmetric-key</a>(7)  for
       more information.

       If successful, the result is written into the following struct:

           struct keyctl_pkey_query {
                   unsigned int    supported_ops;
                   unsigned int    key_size;
                   unsigned short  max_data_size;
                   unsigned short  max_sig_size;
                   unsigned short  max_enc_size;
                   unsigned short  max_dec_size;
           };

       The <u>supported_ops</u> field contains a bitmask of the following constants:

           <b>KEYCTL_SUPPORTS_ENCRYPT</b>
           <b>KEYCTL_SUPPORTS_DECRYPT</b>
           <b>KEYCTL_SUPPORTS_SIGN</b>
           <b>KEYCTL_SUPPORTS_VERIFY</b>

       indicating  what  operations  are supported and thus which of the other <b>keyctl_pkey_*</b>() operations can be
       used with this key.

       The <u>key_size</u> field indicates the number of bits in the key  size  and  the  <u>max_data_size</u>,  <u>max_sig_size</u>,
       <u>max_enc_size</u>  and <u>max_dec_size</u> fields indicate the maximum sizes in bytes of a blob of data to be signed,
       a signature blob, a blob to be encrypted and a blob to be decrypted respectively.

</pre><h4><b>RETURN</b> <b>VALUE</b></h4><pre>
       On success <b>keyctl_pkey_query</b>() returns <b>0</b>.  On error, the value <b>-1</b> will be returned and  <u>errno</u>  will  have
       been set to an appropriate error.

</pre><h4><b>ERRORS</b></h4><pre>
       <b>ENOKEY</b> The key specified is invalid.

       <b>EKEYEXPIRED</b>
              The key specified has expired.

       <b>EKEYREVOKED</b>
              The key specified has been revoked.

       <b>EACCES</b> The key exists, but is not <b>searchable</b> by the calling process.

       <b>ENOPKG</b> Some  facility needed to complete the requested operation is not available.  This is most probably
              a requested or required digest or encryption algorithm.

       <b>EFAULT</b> Bad address.

</pre><h4><b>LINKING</b></h4><pre>
       This is a library function that can  be  found  in  <u>libkeyutils</u>.   When  linking,  <b>-lkeyutils</b>  should  be
       specified to the linker.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man1/keyctl.1.html">keyctl</a></b>(1), <b><a href="../man2/add_key.2.html">add_key</a></b>(2), <b><a href="../man2/keyctl.2.html">keyctl</a></b>(2), <b><a href="../man3/keyctl.3.html">keyctl</a></b>(3), <b><a href="../man3/keyctl_pkey_encrypt.3.html">keyctl_pkey_encrypt</a></b>(3), <b><a href="../man3/keyctl_pkey_sign.3.html">keyctl_pkey_sign</a></b>(3), <b><a href="../man7/asymmetrickey.7.html">asymmetric-</a></b>
       <b><a href="../man7/asymmetrickey.7.html">key</a></b>(7), <b><a href="../man7/keyrings.7.html">keyrings</a></b>(7), <b><a href="../man7/keyutils.7.html">keyutils</a></b>(7)

Linux                                              8 Nov 2018                               <u><a href="../man3/KEYCTL_PKEY_QUERY.3.html">KEYCTL_PKEY_QUERY</a></u>(3)
</pre>
 </div>
</div></section>
</div>
</body>
</html>