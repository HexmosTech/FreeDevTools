<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>keyctl_read - read a key</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libkeyutils-dev">libkeyutils-dev_1.6.3-6ubuntu1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       keyctl_read - read a key

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>#include</b> <b>&lt;keyutils.h&gt;</b>

       <b>long</b> <b>keyctl_read(key_serial_t</b> <u>key</u><b>,</b> <b>char</b> <b>*</b><u>buffer</u><b>,</b> <b>size_t</b> <u>buflen</u><b>);</b>

       <b>long</b> <b>keyctl_read_alloc(key_serial_t</b> <u>key</u><b>,</b> <b>void</b> <b>**_</b><u>buffer</u><b>);</b>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>keyctl_read</b>() reads the payload of a key if the key type supports it.

       The caller must have <b>read</b> permission on a key to be able to read it.

       <u>buffer</u>  and  <u>buflen</u>  specify the buffer into which the payload data will be placed.  If the buffer is too
       small, then the full size of the payload will be  returned,  and  the  contents  of  the  buffer  may  be
       overwritten in some undefined way.

       <b>keyctl_read_alloc</b>()  is similar to <b>keyctl_read</b>() except that it allocates a buffer big enough to hold the
       payload data and places the data in it.  If successful, a pointer to the buffer is  placed  in  <u>*_buffer</u>.
       The caller must free the buffer.

       <b>keyctl_read_alloc</b>()  adds  a NUL character after the data it retrieves, though this is not counted in the
       size value it returns.

</pre><h4><b>READING</b> <b>KEYRINGS</b></h4><pre>
       This call can be used to list the contents of a keyring.  The data is presented to the user as  an  array
       of <b>key_serial_t</b> values, each of which corresponds to a key to which the keyring holds a link.

       The  size  of  the  keyring  will  be sizeof(key_serial_t) multiplied by the number of keys.  The size of
       key_serial_t is invariant across different word sizes, though the byte-ordering is as appropriate for the
       kernel.

</pre><h4><b>RETURN</b> <b>VALUE</b></h4><pre>
       On success <b>keyctl_read</b>() returns the amount of data placed into the buffer.  If the buffer was too small,
       then the size of buffer required will be  returned,  and  the  contents  of  the  buffer  may  have  been
       overwritten in some undefined way.

       On success <b>keyctl_read_alloc</b>() returns the amount of data in the buffer.

       On error, both functions set <u>errno</u> to an appropriate code and return the value <b>-1</b>.

</pre><h4><b>ERRORS</b></h4><pre>
       <b>ENOKEY</b> The key specified is invalid.

       <b>EKEYEXPIRED</b>
              The key specified has expired.

       <b>EKEYREVOKED</b>
              The key specified had been revoked.

       <b>EACCES</b> The key exists, but is not <b>readable</b> by the calling process.

       <b>EOPNOTSUPP</b>
              The key type does not support reading of the payload data.

</pre><h4><b>LINKING</b></h4><pre>
       This  is  a  library  function  that  can  be  found  in <u>libkeyutils</u>.  When linking, <b>-lkeyutils</b> should be
       specified to the linker.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man1/keyctl.1.html">keyctl</a></b>(1), <b><a href="../man2/add_key.2.html">add_key</a></b>(2), <b><a href="../man2/keyctl.2.html">keyctl</a></b>(2), <b><a href="../man2/request_key.2.html">request_key</a></b>(2), <b><a href="../man3/keyctl.3.html">keyctl</a></b>(3), <b><a href="../man7/keyrings.7.html">keyrings</a></b>(7), <b><a href="../man7/keyutils.7.html">keyutils</a></b>(7)

Linux                                              21 Feb 2014                                    <u><a href="../man3/KEYCTL_READ.3.html">KEYCTL_READ</a></u>(3)
</pre>
 </div>
</div></section>
</div>
</body>
</html>