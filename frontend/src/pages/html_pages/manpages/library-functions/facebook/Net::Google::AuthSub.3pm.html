<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Net::Google::AuthSub - interact with sites that implement Google style AuthSub</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libnet-google-authsub-perl">libnet-google-authsub-perl_0.5-4_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       Net::Google::AuthSub - interact with sites that implement Google style AuthSub

</pre><h4><b>SYNOPSIS</b></h4><pre>
           my $auth = Net::Google::AuthSub-&gt;new;
           my $response = $auth-&gt;login($user, $pass);

           if ($response-&gt;is_success) {
               print "Hurrah! Logged in\n";
           } else {
               die "Login failed: ".$response-&gt;error."\n";
           }

           my %params = $auth-&gt;auth_params;
           $params{Content_Type}             = 'application/atom+xml; charset=UTF-8';
           $params{Content}                  = $xml;
           $params{'X-HTTP-Method-Override'} = 'DELETE';

           my $request = POST $url, %params;
           my $r = $user_agent-&gt;request( $request );

</pre><h4><b>ABOUT</b> <b>AUTHSUB</b></h4><pre>
       AuthSub is Google's method of authentication for their web services. It is also used by other web sites.

       You can read more about it here.

           <a href="http://code.google.com/apis/accounts/Authentication.html">http://code.google.com/apis/accounts/Authentication.html</a>

       A Google Group for AuthSub is here.

           <a href="http://groups.google.com/group/Google-Accounts-API">http://groups.google.com/group/Google-Accounts-API</a>

</pre><h4><b>DEALING</b> <b>WITH</b> <b>CAPTCHAS</b></h4><pre>
       If a login response fails then it may set the error code to 'CaptchRequired' and the response object will
       allow you to retrieve the "captchatoken" and "captchaurl" fields.

       The "captchaurl" will be the url to a captcha image or you can show the user the web page

           https://www.google.com/accounts/DisplayUnlockCaptcha

       Then retry the login attempt passing in the parameters "logintoken" (which is the value of
       "captchatoken") and "logincaptcha" which is the user's answer to the CAPTCHA.

           my $auth = Net::Google::AuthSub-&gt;new;
           my $res  = $auth-&gt;login($user, $pass);

           if (!$res-&gt;is_success &amp;&amp; $res-&gt;error eq 'CaptchaRequired') {
               my $answer = display_captcha($res-&gt;captchaurl);
               $auth-&gt;login($user, $pass, logintoken =&gt; $res-&gt;captchatoken, logincaptcha =&gt; $answer);
           }

       You can read more here

           <a href="http://code.google.com/apis/accounts/AuthForInstalledApps.html">http://code.google.com/apis/accounts/AuthForInstalledApps.html</a>#Using

</pre><h4><b>METHODS</b></h4><pre>
   <b>new</b> <b>[param[s]]</b>
       Return a new authorisation object. The options are

       url The base url of the web service to authenticate against.

           Defaults to "https://google.com/account"

       service
           Name of the Google service for which authorization is requested such as 'cl' for Calendar.

           Defaults to 'xapi' for calendar.

       source
           Short string identifying your application, for logging purposes.

           Defaults to 'Net::Google::AuthSub-&lt;VERSION&gt;'

       accountType
           Type of account to be authenticated.

           Defaults to 'HOSTED_OR_GOOGLE'.

       See <a href="http://code.google.com/apis/accounts/AuthForInstalledApps.html">http://code.google.com/apis/accounts/AuthForInstalledApps.html</a>#ClientLogin for more details.

   <b>login</b> <b>&lt;username&gt;</b> <b>&lt;password&gt;</b> <b>[opt[s]]</b>
       Login to google using your username and password.

       Can optionally take a hash of options which will override the default login params.

       Returns a "Net::Google::AuthSub::Response" object.

   <b>authorised</b>
       Whether or not we're authorised.

   <b>authorized</b>
       An alias for authorized.

   <b>auth</b> <b>&lt;username&gt;</b> <b>&lt;token&gt;</b>
       Use the AuthSub method for access.

       See <a href="http://code.google.com/apis/accounts/AuthForWebApps.html">http://code.google.com/apis/accounts/AuthForWebApps.html</a> for details.

   <b>auth_token</b> <b>[token]</b>
       Get or set the current auth token

   <b>auth_type</b> <b>[type]</b>
       Get or set the current auth type

       Returns either $Net::Google::AuthSub::CLIENT_LOGIN or $Net::Google::AuthSub::AUTH_SUB.

   <b>request_token</b> <b>&lt;next&gt;</b> <b>&lt;scope&gt;</b> <b>[option[s]]</b>
       Return a URI object representing the URL which the user should be directed to in order to aquire a single
       use token.

       The parameters are

       next (required)
           URL  the  user  should be redirected to after a successful login.  This value should be a page on the
           web application site, and can include query parameters.

       scope (required)
           URL identifying the service to be accessed. The resulting token will enable access to  the  specified
           service only. Some services may limit scope further, such as read-only access.

           For example

               <a href="http://www.google.com/calendar/feed">http://www.google.com/calendar/feed</a>

       secure
           Boolean  flag  indicating whether the authentication transaction should issue a secure token (1) or a
           non-secure token (0).  Secure tokens are available to registered applications only.

       session
           Boolean flag indicating whether the one-time-use token may be exchanged for a session  token  (1)  or
           not (0).

   <b>session_token</b>
       Exchange the temporary token for a long-lived session token.

       The single-use token is acquired by visiting the url generated by calling request_token.

       Returns the token if success and undef if failure.

   <b>revoke_token</b>
       Revoke  a  valid  session  token.  Session  tokens  have  no expiration date and will remain valid unless
       revoked.

       Returns 1 if success and undef if failure.

   <b>token_info</b>
       Call AuthSubTokenInfo to test whether a given session token is valid.  This method validates the token in
       the same way that a Google service would; application developers can use this method to verify that their
       application is getting valid tokens and handling them appropriately  without  involving  a  call  to  the
       Google  service.  It  can also be used to get information about the token, including next URL, scope, and
       secure status, as specified in the original token request.

       Returns a "Net::Google::AuthSub::Response" object on success or undef on failure.

   <b>auth_params</b>
       Return any parameters needed in an HTTP request to authorise your app.

</pre><h4><b>AUTHOR</b></h4><pre>
       Simon Wistow &lt;<a href="mailto:simon@thegestalt.org">simon@thegestalt.org</a>&gt;

</pre><h4><b>COPYRIGHT</b></h4><pre>
       Copyright, 2007 - Simon Wistow

       Released under the same terms as Perl itself

perl v5.36.0                                       2022-10-13                          <u>Net::Google::<a href="../man3pm/AuthSub.3pm.html">AuthSub</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>