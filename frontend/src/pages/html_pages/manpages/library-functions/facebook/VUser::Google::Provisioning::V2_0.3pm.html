<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>VUser::Google::Provisioning::V2_0 - Support for version 2.0 of the Google Provisioning API</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libvuser-google-api-perl">libvuser-google-api-perl_1.0.1-1.1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       VUser::Google::Provisioning::V2_0 - Support for version 2.0 of the Google Provisioning API

</pre><h4><b>SYNOPSIS</b></h4><pre>
        use VUser::Google::ApiProtocol::V2_0;
        use VUser::Google::Provisioning::V2_0;

        my $google = VUser::Google::ApiProtocol::V2_0-&gt;new(
            domain   =&gt; 'example.com',
            admin    =&gt; 'admin_user',
            password =&gt; 'secret',
        );

        my $api = VUser::Google::Provisioning::V2_0-&gt;new(
            google =&gt; $google,
        );

        ## Create user
        my $new_user = $api-&gt;CreateUser(
            userName    =&gt; 'fflintstone',
            givenName   =&gt; 'Fred',
            familyName  =&gt; 'Flintstone',
            password    =&gt; 'I&lt;3Wilma',
        );

        ## Retrieve a user
        my $user = $api-&gt;RetrieveUser('fflintstone');

        ## Retrieve all userr
        my @users = $api-&gt;RetrieveAllUsers();

        ## Update a user
        my $updated = $api-&gt;UpdateUser(
            userName   =&gt; 'fflintstone',
            givenName  =&gt; 'Fredrock',
            familyName =&gt; 'FlintStone',
            suspended  =&gt; 1,
            quota      =&gt; 2048,
        );

        ## Change password
        $updated = $api-&gt;ChangePassword('fflintstone', 'new-pass');

        $updated = $api-&gt;ChangePassword(
            'fflintstone',
            '51eea05d46317fadd5cad6787a8f562be90b4446',
            'SHA-1',
        );

        $updated = $api-&gt;ChangePassword(
            'fflintstone',
            'd27117a019717502efe307d110f5eb3d',
            'MD5',
        );

        ## Delete a user
        my $rc = $api-&gt;DeleteUser('fflintstone');

</pre><h4><b>DESCRIPTION</b></h4><pre>
       VUser::Google::Provisioning::V2_0 provides support for managing users using version 2.0 of the Google
       Provisioning API.

       In order to use the Google Provisioning API, you must turn on API support from the Google Apps for Your
       Domain control panel. The user that is used to create the VUser::Google::ApiProtocol object must have
       administrative privileges on the domain.

       <b>Note:</b> It's a good idea to log into the web control panel at least once as the API user in order to accept
       the the terms of service and admin terms.  If you don't, you'll get intermittent authentication errors
       when trying to use the API.

   <b>METHODS</b>
       Unless stated otherwise, these methods will <b>die()</b> if there is an API error.

       <u>CreateUser</u>

       <b>CreateUser()</b> takes a hash of create options and returns a VUser::Google::Provisioning::UserEntry object
       if the account was created. <b>CreateUser()</b> will <b>die()</b> if there is an error.

       The keys of the hash are:

       userName (required)
           The user name of the account to create

       givenName (required)
           The user's given name

       familyName (required)
           The user's family name

       password (required)
           The  user's  password.  If  hashFunctionName  is  also  set,  this  is the base16-encoded hash of the
           password. Otherwise, this is the user's plaintext password.

           Google required that passwords be, at least, six characters.

       hashFunctionName
           hashFunctionName must be <u>SHA-1</u> or <u>MD5</u>. If this is set, password is the base16-encoded password hash.

       quota
           The user's quota in MB.

           Not all domains will be allowed to set users' quotas. If that's the case, creation will still succeed
           but the quota will be set to the default for your domain.

       changePasswordAtNextLogin
           If set to a true value, e.g. 1, the user will be required to change their password the next time they
           login in. This is the default.  You may turn this off by setting changePasswordAtNextLogin to 0.

       admin
           If set to a true value, e.g. 1, the user will be granted administrative privileges.  A  false  value,
           e.g. 0, admin rights will be revoked. By default, users will not be granted admin rights.

       <u>RetrieveUser</u>

        my $user = $api-&gt;RetrieveUser('fflintstone');

       Retrieves     a     specified    user    by    the    user    name.    RetieveUser    will    return    a
       VUser::Google::Provisioning::UserEntry if the user exists and undef if it doesn't.

       <u>RetrieveUsers</u>

        my @users = ();

        my %results = $api-&gt;RetrieveUsers();
        @users = @{ $results{entries} };

        while ($results{next}) {
            %results = $api-&gt;RetrieveUsers($results{next});
            push @users, @{ $results{entries} };
        }

       Fetches one page of users starting at a given user name. Currently, a page is defined as 100 users.  This
       is useful if you plan on paginating the results yourself or if you have a very large number of users.

       The returned result is a hash with the following keys:

       entries
           A list reference containing the user accounts. Each entry is a VUser::Google::Provisioning::UserEntry
           object.

       next
           The  user  name for the start of the next page. This will be undefined ("undef") if there are no more
           pages.

       See <b>RetrieveAllUsers()</b> if you want to fetch all of the accounts at once.

       <u>RetrievePageOfUsers</u>

       This is a synonym for <b>RetrieveUsers()</b>

       <u>RetrieveAllUsers</u>

        my @users = $api-&gt;RetrieveAllUsers();

       Get   a   list   of   all   the   users   for   the   domain.   The   entries    in    the    list    are
       VUser::Google::Provisioning::UserEntry objects.

       <u>UpdateUser</u>

        my $updated = $api-&gt;UpdateUser(
            userName  =&gt; 'fflintstone',
            givenName =&gt; 'Fred',
            # ... other options
        );

       Updates an account. UpdateUser takes the same options as <b>CreateUser()</b> but only userName is required.

       <b>UpdateUser()</b> cannot be used to rename an account. See <b>RenameUser()</b>.

       <u>RenameUser</u>

        my $user_user = $api-&gt;RenameUser($oldname, $newname);

       Rename  an  account.  The  first  parameter  is  the  old  user  name;  the  second is the new user name.
       <b>RenameUser()</b> will die if the old name does not exist.

       <u>DeleteUser</u>

        my $rc = $api-&gt;DeleteUser('fflintstone');

       Deletes a given user. Returns true if the delete succeded and dies if there was an error.

       <u>ChangePassword</u>

        $updated = $api-&gt;ChangePassword('fflintstone', 'new-pass');

        $updated = $api-&gt;ChangePassword(
            'fflintstone',
            '51eea05d46317fadd5cad6787a8f562be90b4446',
            'SHA-1',
        );

        $updated = $api-&gt;ChangePassword(
            'fflintstone',
            'd27117a019717502efe307d110f5eb3d',
            'MD5',
        );

       Change a users password.

       ChangePassword takes the user name, password and, optionally, a hash function name. If the hash  function
       name is set, the password, is the base16-encoded password, otherwise it is the clear text password.

       Accepted values for the has function name are <u>MD5</u> and <u>SHA-1</u>.

       There is no difference between using this and using UpdateUser to change the user's password.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       •   VUser::Google::Provisioning

       •   VUser::Google::ApiProtocol::V2_0

       •   VUser::Google::EmailSettings::V2_0

       •   <a href="http://code.google.com/apis/apps/gdata_provisioning_api_v2.0_developers_protocol.html">http://code.google.com/apis/apps/gdata_provisioning_api_v2.0_developers_protocol.html</a>

           item *

           <a href="http://code.google.com/apis/apps/gdata_provisioning_api_v2.0_reference.html">http://code.google.com/apis/apps/gdata_provisioning_api_v2.0_reference.html</a>

</pre><h4><b>BUGS</b></h4><pre>
       Bugs may be reported at <a href="http://code.google.com/p/vuser/issues/list">http://code.google.com/p/vuser/issues/list</a>.

</pre><h4><b>AUTHOR</b></h4><pre>
       Randy Smith &lt;<a href="mailto:perlstalker@vuser.org">perlstalker@vuser.org</a>&gt;

</pre><h4><b>COPYRIGHT</b> <b>AND</b> <b>LICENSE</b></h4><pre>
       Copyright (C) 2009  Randall Smith

       This  program  is  free  software;  you  can  redistribute it and/or modify it under the terms of the GNU
       General Public License as published by the Free Software Foundation; either version 2 of the License,  or
       (at your option) any later version.

       This  program  is  distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even
       the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General  Public
       License for more details.

       You  should have received a copy of the GNU General Public License along with this program; if not, write
       to the Free Software Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.

perl v5.32.0                                       2021-01-09             <u>VUser::Google::Provisioning::<a href="../man3pm/V2_0.3pm.html">V2_0</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>