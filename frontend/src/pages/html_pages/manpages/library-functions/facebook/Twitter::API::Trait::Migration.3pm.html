<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Twitter::API::Trait::Migration - Migration support Net::Twitter/::Lite users</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libtwitter-api-perl">libtwitter-api-perl_1.0006-1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       Twitter::API::Trait::Migration - Migration support Net::Twitter/::Lite users

</pre><h4><b>VERSION</b></h4><pre>
       version 1.0006

</pre><h4><b>DESCRIPTION</b></h4><pre>
       Twitter::API is a rewrite of Net::Twitter. It's leaner, lighter, and has fasterXfewer dependencies, and
       less baggage. This trait helps Net::Twitter and Net::Twitter::Lite users migrate to Twitter::API by
       providing Net::Twitter compatible behavior where possible and warning politely where code should be
       changed.

</pre><h4><b>Migrating</b> <b>from</b> <b>Net::Twitter</b></h4><pre>
       Twitter::API requires a minimum perl version of 5.14.1. Make sure you have that.

       Just change your constructor call:

               my $client = Net::Twitter-&gt;new(
                       traits =&gt; [ qw/API::RESTv1_1 OAuth RetryOnError/ ],
                       consumer_key        =&gt; $key,
                       consumer_secret     =&gt; $secret,
                       access_token        =&gt; $token,
                       access_token_secret =&gt; $token_secret,
               );

       Becomes:

               my $client = Twitter::API-&gt;new_with_traits(
                       traits =&gt; [ qw/Migration ApiMethods RetryOnError/ ],
                       consumer_key        =&gt; $key,
                       consumer_secret     =&gt; $secret,
                       access_token        =&gt; $token,
                       access_token_secret =&gt; $token_secret,
               );

       Differences:

       •   replace "new" with "new_with_traits"

       •   replace trait "API::RESTv1_1" with "ApiMethods"

       •   drop trait "OAuth", Twitter::API's core includes it

       •   add the Migration trait so Twitter::API will handle oauth key management in a Net::Twitter compatible
           way and warn

   <b>Traits</b>
       Twitter::API supports the following traits:

       •   ApiMethods

       •   AppAuth

       •   DecodeHtmlEntities

       •   NormalizeBooleans

       •   RetryOnError

       •   Enchilada

       <b>ApiMethods</b> is a direct replacement for Net::Twitter's API::RESTv1_1 trait.

       Net::Twitter's   <b>InflateObjects</b>   trait   will  be  released  as  a  separate  distribution  to  minimize
       Twitter::API's dependencies.

       If you are using the Net::Twitter's <b>WrapResults</b> trait, Twitter::API provides a better way to  access  the
       what it provides. In list context, API calls return both the API call results and a Twitter::API::Context
       object  that  provides  the  same  accessors  and  attributes  <b>WrapResult</b>  provided, including the <b>result</b>
       accessor.

       So, if you had:

           my $r = $client-&gt;home_timeline;
           $r-&gt;result;
           $r-&gt;rate_limit_remaining;

       You can change that to:

           my ( $result, $context ) = $client-&gt;home_timeline;
           $result;
           $context-&gt;rate_limit_remaining;

       Or for the smallest change to your code:

           my ( undef, $r ) = $client-&gt;home_timeline;
           $r-&gt;result; i            # same as before
           $r-&gt;rate_limit_remaning; # same as before

       However, there is migration support for <b>WrapResult</b>. Call the constructor with option "wrap_result  =&gt;  1"
       and  Twitter::API  will  return  the  context  object, only, for API calls. This should give you the same
       behavior you had with <b>WrapResult</b> while you modify your code. Twitter::API will warn when this  option  is
       used. You may disale warnings with "$ENV{TWITTER_API_NO_MIGRATION_WARNINGS} = 1".

       If  you  are  using any other Net::Twitter traits, please contact the author of Twitter::API.  Additional
       traits may be added to Twitter::API or released as separate distributions.

       If you  are  using  "decode_html_entities  =&gt;  1"  in  Net::Twitter,  drop  that  option  and  add  trait
       <b>DecodeHtmlEntities</b>.  Traits  <b>AppAuth</b>  and  <b>RetryOnError</b> provide the same functionality in Twitter::API as
       their Net::Twitter counterparts. So, no changes required, there, if you're using them. (Although there is
       a change to one of <b>AppAuth</b>'s methods. See the "OAuth changes" discussion.)

       NormalizeBooleans is something you'll probably want. See the NormalizeBooleans documentation.

       Enchilda just bundles ApiMethods, NormalizeBooleans, RetryOnError, and DecodeHtmlEntities.

   <b>Other</b> <b>constructor</b> <b>options</b>
       Drop option "ssl =&gt; 1". It is no longer necessary. By default, all connections use SSL.

       If you are setting <b>useragent_lass</b> and/or <b>useragent_args</b> to customize the user agent, just construct  your
       own pass it to new with "user_agent =&gt; $custom_user_agent".

       If you are using <b>ua</b> to set a custom user agent, the attribute name has changed to <b>usre_agent</b>. So, pass it
       to new with "user_agent =&gt; $custom_user_agent".

       By  default, Twitter::API uses HTTP::Thin as its user agent. You should be able to use any user agent you
       like, as long as it has a <b>request</b> method that takes an HTTP::Request and returns an HTTP::Response.

       If  you  used  <b>clientname</b>,  <b>clientver</b>,  <b>clienturl</b>,  or  <b>useragent</b>,  see  "agent"  in   Twitter::API   and
       "default_headers" in Twitter::API. If all you're after is a custom User-Agent header, just pass "agent =&gt;
       $user_agent_string".   It  will  be  used  for  both User-Agent header and the X-Twitter-Client header on
       requests. If you want to  include  your  own  application  version  and  url,  pass  "default_headers  =&gt;
       \%my_request_headers".

   <b>OAuth</b> <b>changes</b>
       Net::Twitter  saved  request  and  access  tokens  in  the  client instance as part of the 3-legged OAuth
       handshake. That was a poor design decision. Twitter::API returns request and access tokens to the caller.
       It is the caller's responsibility to store and cache them appropriately. Hovever, transitional support is
       provided, with client instance storage, so your code can run unmodified while you make the transition.

       The following methods exist only for migration from Net::Twitter and will be removed in a future release.
       A  warning  is  issued   on   each   call   to   these   methods.    To   disable   the   warnings,   set
       "$ENV{TWITTER_API_NO_MIGRATION_WARNINGS} = 1".

       •   <b>get_authentication_url</b>

           replace with oauth_authentication_url
             or oauth_request_token and
             oauth_authentication_url

       •   <b>get_authorization_url</b>

           replace with oauth_authorization_url or
             oauth_request_token and
             oauth_authorization_url

       •   <b>get_access_token</b>

           replace with oauth_access_token

       If  you  are  using the <b>AppAuth</b> trait, replace <b>request_access_token</b> calls with <b>oauth2_token</b> calls. Method
       <b>oauth2_token</b> does not set the "access_token" attribute. Method  "request_access_token"  is  provided  for
       transitional  support,  only.  It  warns  like  the  OAuth  methods  discussed  above,  and  it  sets the
       "access_token" attribute so existing code should work as expected during migration. It will be removed in
       a future release.

</pre><h4><b>Migrating</b> <b>from</b> <b>Net::Twitter::Lite</b></h4><pre>
       The discussion, above applies for Net::Twitter::Lite with a few exceptions.

       Net::Twitter::Lite does not use traits. Change your constructor call from:

           my $client = Net::Twitter::Lite::WithAPIv1_1-&gt;new(%args);

       To:

           my $client = Twitter::API-&gt;new_with_traits(
               traits =&gt; [ qw/Migration ApiMethods/ ],
               %args,
           );

       If you're using the option <b>wrap_result</b>, see the discussion above about the Net::Twitter WrapResult trait.
       There is migration support for <b>wrap_result</b>.  It will be removed in a future release.

</pre><h4><b>AUTHOR</b></h4><pre>
       Marc Mims &lt;<a href="mailto:marc@questright.com">marc@questright.com</a>&gt;

</pre><h4><b>COPYRIGHT</b> <b>AND</b> <b>LICENSE</b></h4><pre>
       This software is copyright (c) 2015-2021 by Marc Mims.

       This is free software; you can redistribute it and/or modify it under  the  same  terms  as  the  Perl  5
       programming language system itself.

perl v5.32.1                                       2021-09-11                <u>Twitter::API::Trait::<a href="../man3pm/Migration.3pm.html">Migration</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>