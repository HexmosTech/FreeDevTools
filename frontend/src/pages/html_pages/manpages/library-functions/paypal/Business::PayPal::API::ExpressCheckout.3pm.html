<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Business::PayPal::API::ExpressCheckout - PayPal Express Checkout API</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libbusiness-paypal-api-perl">libbusiness-paypal-api-perl_0.77-2_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       Business::PayPal::API::ExpressCheckout - PayPal Express Checkout API

</pre><h4><b>VERSION</b></h4><pre>
       version 0.77

</pre><h4><b>SYNOPSIS</b></h4><pre>
         use Business::PayPal::API::ExpressCheckout;

         ## see Business::PayPal::API documentation for parameters
         my $pp = Business::PayPal::API::ExpressCheckout-&gt;new( ... );

         my %resp = $pp-&gt;SetExpressCheckout
                      ( OrderTotal =&gt; '55.43',   ## defaults to USD
                        ReturnURL  =&gt; '<a href="http://site.tld/return.html">http://site.tld/return.html</a>',
                        CancelURL  =&gt; '<a href="http://site.tld/cancellation.html">http://site.tld/cancellation.html</a>', );

         ... time passes, buyer validates the token with PayPal ...

         my %details = $pp-&gt;GetExpressCheckoutDetails($resp{Token});

         ## now ask PayPal to xfer the money
         my %payinfo = $pp-&gt;DoExpressCheckoutPayment( Token =&gt; $details{Token},
                                                      PaymentAction =&gt; 'Sale',
                                                      PayerID =&gt; $details{PayerID},
                                                      OrderTotal =&gt; '55.43' );

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>Business::PayPal::API::ExpressCheckout</b> implements PayPal's <b>Express</b> <b>Checkout</b> <b>API</b> using SOAP::Lite to make
       direct API calls to PayPal's SOAP API server. It also implements support for testing via PayPal's
       <u>sandbox</u>. Please see Business::PayPal::API for details on using the PayPal sandbox.

   <b>SetExpressCheckout</b>
       Implements PayPal's "Website Payment Pro" <b>SetExpressCheckout</b> API call. Supported parameters include:

         Token
         OrderTotal
         currencyID
         MaxAmount
         OrderDescription
         Custom
         InvoiceID
         ReturnURL
         CancelURL
         Address
         ReqConfirmShipping
         NoShipping
         AddressOverride
         LocaleCode
         PageStyle
         'cpp-header-image'
         'cpp-header-border-color'
         'cpp-header-back-color'
         'cpp-payflow-color'
         PaymentAction
         BuyerEmail
         BillingType
         BillingAgreementDescription
         PaymentType
         BillingAgreementCustom

       as described in the PayPal "Web Services API Reference" document. The default currency setting is 'USD'
       if not otherwise specified.

       Returns a hash containing a 'Token' key, whose value represents the PayPal transaction token.

       Required fields:

         OrderTotal, ReturnURL, CancelURL.

           my %resp = $pp-&gt;SetExpressCheckout();
           my $token = $resp{Token};

       Example (courtesy Ollie Ready):

         my $address = {
               Name            =&gt;      'Some Customer',
               Street1         =&gt;      '888 Test St.',
               Street2         =&gt;      'Suite 9',
               CityName        =&gt;      'San Diego',
               StateOrProvince =&gt;      'CA',
               PostalCode      =&gt;      '92111',
               Country         =&gt;      'US',
               Phone           =&gt;      '123-123-1234',
         };

         my %response = $pp-&gt;SetExpressCheckout(
               OrderTotal      =&gt;      '11.01',
               ReturnURL       =&gt;      '&lt;![CDATA[<a href="http://example.com/p">http://example.com/p</a>?cmd=checkout]]&gt;',
               CancelURL       =&gt;      '<a href="http://example.com">http://example.com</a>',
               PaymentAction   =&gt;      'Authorization',
               AddressOverride =&gt;      1,
               Address         =&gt;      $address,
         );

   <b>GetExpressCheckoutDetails</b>
       Implements PayPal's WPP <b>SetExpressCheckout</b> API call. Supported parameters include:

         Token

       as described in the PayPal "Web Services API Reference" document. This is the same token you received
       from <b>SetExpressCheckout</b>.

       Returns a hash with the following keys:

         Token
         Custom
         InvoiceID
         ContactPhone
         Payer
         PayerID
         PayerStatus
         FirstName
         LastName
         PayerBusiness
         AddressStatus
         Name
         Street1
         Street2
         CityName
         StateOrProvince
         PostalCode
         Country

       Required fields:

         Token

   <b>DoExpressCheckoutPayment</b>
       Implements PayPal's WPP <b>SetExpressCheckout</b> API call. Supported parameters include:

         Token
         PaymentAction (defaults to 'Sale' if not supplied)
         PayerID
         currencyID (defaults to 'USD' if not supplied)

         OrderTotal
         OrderDescription
         ItemTotal
         ShippingTotal
         HandlingTotal
         TaxTotal
         Custom
         InvoiceID
         ButtonSource
         NotifyURL

         ST_Name
         ST_Street1
         ST_Street2
         ST_CityName
         ST_StateOrProvince
         ST_Country
         ST_PostalCode

         PDI_Name
         PDI_Amount
         PDI_Number
         PDI_Quantity
         PDI_Tax

       as described in the PayPal "Web Services API Reference" document.

       Returns a hash with the following keys:

         Token
         TransactionID
         TransactionType
         PaymentType
         PaymentDate
         GrossAmount
         FeeAmount
         SettleAmount
         TaxAmount
         ExchangeRate
         PaymentStatus
         PendingReason
         BillingAgreementID (if BillingType 'MerchantInitiatedBilling'
                             was specified during SetExpressCheckout)

       Required fields:

         Token, PayerID, OrderTotal

   <b>ERROR</b> <b>HANDLING</b>
       See the <b>ERROR</b> <b>HANDLING</b> section of <b>Business::PayPal::API</b> for information on handling errors.

</pre><h4><b>EXAMPLES</b></h4><pre>
       Andy Spiegl &lt;<a href="mailto:paypalcheckout.Spiegl@kascada.com">paypalcheckout.Spiegl@kascada.com</a>&gt; has kindly donated some example code (in German) which
       may be found in the <u>eg</u> directory of this archive. Additional code examples may be found in the <u>t</u> test
       directory.

   <b>EXPORT</b>
       None by default.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       SOAP::Lite, Business::PayPal::API, &lt;https://www.paypal.com/IntegrationCenter/ic_expresscheckout.html&gt;,
       &lt;https://developer.paypal.com/en_US/pdf/PP_APIReference.pdf&gt;

</pre><h4><b>AUTHORS</b></h4><pre>
       •   Scott Wiersdorf &lt;<a href="mailto:scott@perlcode.org">scott@perlcode.org</a>&gt;

       •   Danny Hembree &lt;<a href="mailto:danny@dynamical.org">danny@dynamical.org</a>&gt;

       •   Bradley M. Kuhn &lt;<a href="mailto:bkuhn@ebb.org">bkuhn@ebb.org</a>&gt;

</pre><h4><b>COPYRIGHT</b> <b>AND</b> <b>LICENSE</b></h4><pre>
       This software is copyright (c) 2006-2017 by Scott Wiersdorf, Danny Hembree, Bradley M. Kuhn.

       This  is  free  software;  you  can  redistribute  it and/or modify it under the same terms as the Perl 5
       programming language system itself.

perl v5.36.0                                       2022-08-28             <u>Business::<a href="../man3pm/PayPa...ExpressCheckout.3pm.html">PayPa...ExpressCheckout</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>