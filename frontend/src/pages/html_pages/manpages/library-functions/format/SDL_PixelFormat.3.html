<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SDL_PixelFormat - Stores surface format information</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/jammy/+package/libsdl1.2-dev">libsdl1.2-dev_1.2.15+dfsg2-6_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       SDL_PixelFormat - Stores surface format information

</pre><h4><b>STRUCTURE</b> <b>DEFINITION</b></h4><pre>
       typedef struct SDL_PixelFormat {
         SDL_Palette *palette;
         Uint8  BitsPerPixel;
         Uint8  BytesPerPixel;
         Uint8  Rloss, Gloss, Bloss, Aloss;
         Uint8  Rshift, Gshift, Bshift, Ashift;
         Uint32 Rmask, Gmask, Bmask, Amask;
         Uint32 colorkey;
         Uint8  alpha;
       } SDL_PixelFormat;

</pre><h4><b>STRUCTURE</b> <b>DATA</b></h4><pre>
       <b>palette</b>             Pointer to the <u>palette</u>, or <b>NULL</b> if the <b>BitsPerPixel</b>&gt;8

       <b>BitsPerPixel</b>        The  number  of  bits used to represent each pixel in a surface. Usually 8, 16, 24 or
                           32.

       <b>BytesPerPixel</b>       The number of bytes used to represent each pixel in a surface. Usually one to four.

       <b>[RGBA]mask</b>          Binary mask used to retrieve individual color values

       <b>[RGBA]loss</b>          Precision loss of each color component (2^[RGBA]loss)

       <b>[RGBA]shift</b>         Binary left shift of each color component in the pixel value

       <b>colorkey</b>            Pixel value of transparent pixels

       <b>alpha</b>               Overall surface alpha value

</pre><h4><b>DESCRIPTION</b></h4><pre>
       A <b>SDL_PixelFormat</b> describes the format of the pixel data stored at the <b>pixels</b>  field  of  a  <b>SDL_Surface</b>.
       Every surface stores a <b>SDL_PixelFormat</b> in the <b>format</b> field.

       If  you  wish  to  do pixel level modifications on a surface, then understanding how SDL stores its color
       information is essential.

       8-bit pixel formats are the easiest to understand. Since its an 8-bit format, we have 8 <b>BitsPerPixel</b>  and
       1  <b>BytesPerPixel</b>. Since <b>BytesPerPixel</b> is 1, all pixels are represented by a Uint8 which contains an index
       into <b>palette</b>-&gt;<b>colors</b>. So, to determine the color of a pixel in a 8-bit surface: we read the  color  index
       from    <b>surface</b>-&gt;<b>pixels</b>    and   we   use   that   index   to   read   the   <b>SDL_Color</b>   structure   from
       <b>surface</b>-&gt;<b>format</b>-&gt;<b>palette</b>-&gt;<b>colors</b>. Like so:

       SDL_Surface *surface;
       SDL_PixelFormat *fmt;
       SDL_Color *color;
       Uint8 index;

       .
       .

       /* Create surface */
       .
       .
       fmt=surface-&gt;format;

       /* Check the bitdepth of the surface */
       if(fmt-&gt;BitsPerPixel!=8){
         fprintf(stderr, "Not an 8-bit surface.
       ");
         return(-1);
       }

       /* Lock the surface */
       SDL_LockSurface(surface);

       /* Get the topleft pixel */
       index=*(Uint8 *)surface-&gt;pixels;
       color=fmt-&gt;palette-&gt;colors[index];

       /* Unlock the surface */
       SDL_UnlockSurface(surface);
       printf("Pixel Color-&gt; Red: %d, Green: %d, Blue: %d. Index: %d
       ",
                 color-&gt;r, color-&gt;g, color-&gt;b, index);
       .
       .

       Pixel formats above 8-bit are an entirely different experience. They are  considered  to  be  "TrueColor"
       formats  and  the color information is stored in the pixels themselves, not in a palette. The mask, shift
       and loss fields tell us how the color information is encoded. The mask fields allow us  to  isolate  each
       color  component, the shift fields tell us the number of bits to the right of each component in the pixel
       value and the loss fields tell us the number of bits lost from each component when  packing  8-bit  color
       component in a pixel.

       /* Extracting color components from a 32-bit color value */
       SDL_PixelFormat *fmt;
       SDL_Surface *surface;
       Uint32 temp, pixel;
       Uint8 red, green, blue, alpha;
       .
       .
       .
       fmt=surface-&gt;format;
       SDL_LockSurface(surface);
       pixel=*((Uint32*)surface-&gt;pixels);
       SDL_UnlockSurface(surface);

       /* Get Red component */
       temp=pixel&amp;fmt-&gt;Rmask; /* Isolate red component */
       temp=temp&gt;&gt;fmt-&gt;Rshift;/* Shift it down to 8-bit */
       temp=temp&lt;&lt;fmt-&gt;Rloss; /* Expand to a full 8-bit number */
       red=(Uint8)temp;

       /* Get Green component */
       temp=pixel&amp;fmt-&gt;Gmask; /* Isolate green component */
       temp=temp&gt;&gt;fmt-&gt;Gshift;/* Shift it down to 8-bit */
       temp=temp&lt;&lt;fmt-&gt;Gloss; /* Expand to a full 8-bit number */
       green=(Uint8)temp;

       /* Get Blue component */
       temp=pixel&amp;fmt-&gt;Bmask; /* Isolate blue component */
       temp=temp&gt;&gt;fmt-&gt;Bshift;/* Shift it down to 8-bit */
       temp=temp&lt;&lt;fmt-&gt;Bloss; /* Expand to a full 8-bit number */
       blue=(Uint8)temp;

       /* Get Alpha component */
       temp=pixel&amp;fmt-&gt;Amask; /* Isolate alpha component */
       temp=temp&gt;&gt;fmt-&gt;Ashift;/* Shift it down to 8-bit */
       temp=temp&lt;&lt;fmt-&gt;Aloss; /* Expand to a full 8-bit number */
       alpha=(Uint8)temp;

       printf("Pixel Color -&gt; R: %d,  G: %d,  B: %d,  A: %d
       ", red, green, blue, alpha);
       .
       .
       .

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b>SDL_Surface</b>, <b>SDL_MapRGB</b>

SDL                                          Tue 11 Sep 2001, 23:01                           <u><a href="../man3/SDL_PixelFormat.3.html">SDL_PixelFormat</a></u>(3)
</pre>
 </div>
</div></section>
</div>
</body>
</html>