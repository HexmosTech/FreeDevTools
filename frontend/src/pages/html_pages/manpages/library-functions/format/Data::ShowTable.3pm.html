<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ShowTable - routines to display tabular data in several formats.</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libdata-showtable-perl">libdata-showtable-perl_4.6-4_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       ShowTable - routines to display tabular data in several formats.

</pre><h4><b>USAGE</b></h4><pre>
       "use Data::ShowTable;"

       <b>ShowTable</b> { <u>parameter</u> =&gt; <u>value</u>, ... };

       <b>ShowTable</b> <u>\@titles</u>, <u>\@types</u>, <u>\@widths</u>, <u>\&amp;row_sub</u> [, <u>\&amp;fmt_sub</u> ];

       <b>ShowDatabases</b> <u>\@dbnames</u>;

       <b>ShowDatabases</b> { <u>parameter</u> =&gt; <u>value</u>, ... };

       <b>ShowTables</b> <u>\@tblnames</u>;

       <b>ShowTables</b> { <u>parameter</u> =&gt; <u>value</u>, ... };

       <b>ShowColumns</b> <u>\@columns</u>, <u>\@col_types</u>, <u>\@col_lengths</u>, <u>\@col_attrs</u>;

       <b>ShowColumns</b> { <u>parameter</u> =&gt; <u>value</u>, ... };

       <b>ShowBoxTable</b> <u>\@titles</u>, <u>\@types</u>, <u>\@widths</u>, <u>\&amp;row_sub</u> [, <u>\&amp;fmt_sub</u> ];

       <b>ShowBoxTable</b> { <u>parameter</u> =&gt; <u>value</u>, ... };

       <b>ShowSimpleTable</b> <u>\@titles</u>, <u>\@types</u>, <u>\@widths</u>, <u>\&amp;row_sub</u> [, <u>\&amp;fmt_sub</u>];

       <b>ShowSimpleTable</b> { <u>parameter</u> =&gt; <u>value</u>, ... };

       <b>ShowHTMLTable</b> <u>\@titles</u>, <u>\@types</u>, <u>\@widths</u>, <u>\&amp;row_sub</u> [, <u>\&amp;fmt_sub</u>];

       <b>ShowHTMLTable</b> { <u>parameter</u> =&gt; <u>value</u>, ... };

       <b>ShowListTable</b> <u>\@titles</u>, <u>\@types</u>, <u>\@widths</u>, <u>\&amp;row_sub</u> [, <u>\&amp;fmt_sub</u>];

       <b>ShowListTable</b> { <u>parameter</u> =&gt; <u>value</u>, ... };

       "package Data::ShowTable";

       <b>$Show_Mode</b> = '<u>mode</u>';

       <b>$Max_Table_Width</b> = <u>number</u>;

       <b>$Max_List_Width</b> = <u>number</u>;

       <b>$No_Escape</b> = <u>flag</u>;

       <b>%URL_Keys</b> = { "<u>$colname</u>" =&gt; "<u>$col_URL</u>", ... };

       <b>@Title_Formats</b> = ( <u>fmt1_html</u>, &lt;fmt2_html&gt;, ... );

       <b>@Data_Formats</b> = ( <u>fmt1_html</u>, &lt;fmt2_html&gt;, ... );

       <b>ShowRow</b> <u>$rewindflag</u>, <u>\$index</u>, <u>$col_array_1</u> [, <u>$col_array_2</u>, ...;]

       <u>$fmt</u> = <b>ShowTableValue</b> <u>$value</u>, <u>$type</u>, <u>$max_width</u>, <u>$width</u>, <u>$precision</u>, <u>$showmode</u>;

       [<u>$plaintext</u> = ] <b>PlainText</b> [<u>$htmltext</u>];

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The <b>ShowTable</b> module provides subroutines to display tabular data, typially from a database, in nicely
       formatted columns, in several formats.  Its arguments can either be given in a fixed order, or, as a
       single, anonymous hash-array.

       The output format for any one invocation can be one of four possible styles:

       Box       A  tabular  format, with the column titles and the entire table surrounded by a "box" of ""+"",
                 ""-"", and ""|"" characters.  See "ShowBoxTable" for details.

       Table     A simple  tabular  format,  with  columns  automatically  aligned,  with  column  titles.   See
                 "ShowSimpleTable".

       List      A  <u>list</u>  style,  where columns of data are listed as a <u>name</u>:<u>value</u> pair, one pair per line, with
                 rows being one or more column values, separated by an empty line.  See "ShowListTable".

       HTML      The data is output  as  an  HTML  <u>TABLE</u>,  suitable  for  display  through  a  <u>Web</u>-client.   See
                 "ShowHTMLTable".   Input  can  either be plain ASCII text, or text with embedded HTML elements,
                 depending upon an argument or global parameter.

       The subroutines which perform these displays are listed below.

</pre><h4><b>EXPORTED</b> <b>NAMES</b></h4><pre>
       This module exports the following subroutines:

        ShowDatabases    - show list of databases
        ShowTables       - show list of tables
        ShowColumns      - show table of column info
        ShowTable        - show a table of data
        ShowRow          - show a row from one or more columns
        ShowTableValue   - show a single column's value
        ShowBoxTable     - show a table of data in a box
        ShowListTable    - show a table of data in a list
        ShowSimpleTable  - show a table of data in a simple table
        ShowHTMLTable    - show a table of data using HTML
        PlainText        - convert HTML text into plain text

       All of these subroutines, and others, are described in detail in the following sections.

</pre><h4><b>MODULES</b></h4><pre>
</pre><h4><b>ShowTable</b></h4><pre>
       Format and display the contents of one or more rows of data.

         <b>ShowTable</b> { <u>parameter</u> =&gt; <u>value</u>, ... };

         <b>ShowTable</b> <u>\@titles</u>, <u>\@types</u>, <u>\@widths</u>, <u>\&amp;row_sub</u> [, <u>\&amp;fmt_sub</u> [, <u>$max_width</u> ] [, <u>$show_mode</u> ] ];

       The <b>ShowTable</b> subroutine displays tabular data aligned in columns, with headers.  <b>ShowTable</b> supports four
       <u>modes</u> of display: <b>Box</b>, <b>Table</b>, <b>List</b>, and <b>HTML</b>.  Each mode is described separately below.

       The arguments to <b>ShowTable</b> may be given in one of two ways: as a hashed-array, or  by  a  combination  of
       fixed  order  arguments, and some package-global variable settings.  The hash-array parameters correspond
       to the fixed arguments and the global-parameter settings.

       In the list below, both the hash-array parameter name and the fixed-order argument name is given  as  the
       value.   In  the  case  where there is no fixed-order argument for a given parameter-value pair, then the
       corresponding global variable name is given.

       "titles" =&gt; <u>\@titles</u>
                 A reference to an array of column names, or titles.  If a particular column name is null,  then
                 the  string  "Field_<u>num</u>"  is  used  by  default.  To have a column have no title, use the empty
                 string.

       "types" =&gt; <u>\@types</u>
                 A reference to an array of types, one for each column.  These types are passed to  the  <u>fmt_sub</u>
                 for appropriate formatting.  Also, if a column type matches the regexp ""/text|char|string/i"",
                 then the column alignment will be left-justified, otherwise it will be right-justified.

       "widths" =&gt; <u>\@widths</u>
                 A  reference  to an array of column widths, which may be given as an integer, or as a string of
                 the form: "<u>width</u>.<u>precision</u>".

       "row_sub" =&gt; <u>\&amp;row_sub</u>
                 A reference to a subroutine which successively returns rows of  values  in  an  array.   It  is
                 called for two purposes, each described separately:

                 * To fetch successive rows of data:

                     @row = &amp;$<a href="../man0/row_sub.0.html">row_sub</a>(0);

                 When given a null, zero, or empty argument, the next row is returned.

                 * To initialize or rewind the data traversal.

                     $rewindable = &amp;$<a href="../man1/row_sub.1.html">row_sub</a>(1);

                 When invoked with a non-null argument, the subroutine should rewind its row pointer to start at
                 the  first  row  of  data.   If the data which <u>row_sub</u> is traversing is not rewindable, it must
                 return zero or null.  If the data is rewindable, a non-null, non-zero value should be returned.

                 The <u>row_sub</u> must expect to be invoked once with a  non-null  argument,  in  order  to  discover
                 whether  or not the data is rewindable.  If the data cannot be rewound, <u>row_sub</u> will thereafter
                 only be called with a zero argument.

                 Specifically, <u>row_sub</u> subroutine is used in this manner:

                     $rewindable = &amp;$<a href="../man1/row_sub.1.html">row_sub</a>(1);
                     if ($rewindable) {
                         while ((@row = &amp;$<a href="../man0/row_sub.0.html">row_sub</a>(0)), $#row &gt;= 0) {
                             # examine lengths for optimal formatting
                         }
                         &amp;$<a href="../man1/row_sub.1.html">row_sub</a>(1);   # rewind
                     }
                     while ((@row = &amp;$<a href="../man0/row_sub.0.html">row_sub</a>(0)), $#row &gt;= 0) {
                         # format the data
                     }

                 The consequence of data that  is  not  rewindable,  a  reasonably  nice  table  will  still  be
                 formatted, but it may contain fairly large amounts of whitespace for wide columns.

       "fmtsub" =&gt; <u>\&amp;fmt_sub</u>
                 A reference to a subroutine which formats a value, according to its type, width, precision, and
                 the current column width.  It is invoked either with a fixed list of arguments, or with a hash-
                 array of parameter and value pairs.

                   $string = &amp;fmt_sub { I&lt;parameter&gt; =&gt; I&lt;value&gt;, ... };

                   $string = &amp;fmt_sub($value, $type, $max_width, $width, $precision)

                 If  <u>\&amp;fmt_sub</u>  is  omitted, then a default subroutine, <b>ShowTableValue</b>, will be used, which will
                 use Perl's standard string formatting rules.

                 The arguments to <u>\&amp;fmt_sub</u>, either as values passed in  a  fixed  order,  or  as  part  of  the
                 parameter value pair, are described in the section on "ShowTableValue below.

       "max_width" =&gt; <u>number</u>,
                 The  maximum table width, including the table formatting characters.  If not given, defaults to
                 the global variable <b>$Max_Table_Width</b>;

       "show_mode" =&gt; '<u>mode</u>',
                 The display mode of the output.  One of five strings: 'Box',  'Table',  'Simple',  'List',  and
                 'HTML'.

</pre><h4><b>ShowDatabases</b></h4><pre>
       Show a list of database names.

         <b>ShowDatabases</b> <u>\@dbnames</u>;

         <b>ShowDatabases</b> { 'data' =&gt; <u>\@dbnames</u>, <u>parameter</u> =&gt; <u>value</u>, ...};

       <b>ShowDatabases</b>  is  intended  to  be used to display a list of database names, under the column heading of
       "Databases".  It is a special case usage of <b>ShowTable</b> (and can thus be passed any parameter suitable  for
       <b>ShowTable</b>.

       The  argument,  <u>\@dbnames</u>, is a reference to an array of strings, used as the values of the single column
       display.

</pre><h4><b>ShowTables</b></h4><pre>
       Show an array of table names.

         <b>ShowTables</b> <u>\@tblnames</u>;

         <b>ShowTables</b> { 'data' =&gt; <u>\@tblnames</u>, <u>parameter</u> =&gt; <u>value</u>, ...};

       <b>ShowTables</b> is used to display a list of table names, under the column  heading  of  "Tables".   It  is  a
       special case usage of <b>ShowTable</b>, and can be passed any "ShowTable" argument parameter.

</pre><h4><b>ShowColumns</b></h4><pre>
       Display a table of column names, types, and attributes.

         <b>ShowColumns</b> { <u>parameter</u> =&gt; <u>values</u>, ... };

         <b>ShowColumns</b> <u>\@columns</u>, <u>\@col_types</u>, <u>\@col_lengths</u>, <u>\@col_attrs</u>;

       The  <b>ShowColumns</b>  subroutine  displays a table of column names, types, lengths, and other attributes in a
       nicely formatted table.  It is a special case usage of <b>ShowTable</b>, and can be passed any argument suitable
       for "ShowTable";

       The arguments are:

       "columns" = <u>\@columns</u>
                 An array of column names.  This provides the value for the first column of the output.

       "col_types" = <u>\@col_types</u>
                 An array of column types names.  This provides the value for the second column.

       "col_lengths" = <u>\@col_lengths</u>
                 An array of maximum lengths for corresponding columns.  This provides the value for  the  third
                 column of the output.

       "col_attrs" = <u>\@col_attrs</u>
                 An  array of column attributes array references (ie: an array of arrays).  The attributes array
                 for the first column are at "<u>$col_attrs</u>-\&gt;[0]".  The first attribute of the  second  column  is
                 "<u>$col_attrs</u>-\&gt;[1][0]".

       The  columns, types, lengths, and attributes are displayed in a table with the column headings: "Column",
       "Type", "Length", and "Attributes".  This is a special  case  usage  of  <b>ShowTable</b>,  and  can  be  passed
       additional arguments suitable for "ShowTable".

</pre><h4><b>ShowBoxTable</b></h4><pre>
       Show tabular data in a box.

         <b>ShowBoxTable</b> { <u>parameter</u> = <u>value</u>, ... };

         <b>ShowBoxTable</b> <u>\@titles</u>, <u>\@types</u>, <u>\@widths</u>, <u>\&amp;row_sub</u>       [, [ <u>\&amp;fmt_sub</u> ] [, <u>$max_width</u> ] ];

       The  <b>ShowBoxTable</b>  displays  tabular  data  in  titled  columns  using a "box" of ASCII graphics, looking
       something like this:

               +------------+----------+-----+----------+
               | Column1    | Column2  | ... | ColumnN  |
               +------------+----------+-----+----------+
               | Value11    | Value12  | ... | Value 1M |
               | Value21    | Value22  | ... | Value 2M |
               | Value31    | Value32  | ... | Value 3M |
               |  ...       |  ...     | ... |  ...     |
               | ValueN1    | ValueN2  | ... | Value NM |
               +------------+----------+-----+----------+

       The arguments are the same as with "ShowTable".  If the  <u>@titles</u>  array  is  empty,  the  header  row  is
       omitted.

</pre><h4><b>ShowSimpleTable</b></h4><pre>
       Display a table of data using a simple table format.

         <b>ShowSimpleTable</b> <u>\@titles</u>, <u>\@types</u>, <u>\@widths</u>, <u>\&amp;row_sub</u> [, <u>\&amp;fmt_sub</u>];

         <b>ShowSimpleTable</b> { <u>parameter</u> =&gt; <u>values</u>, ... };

       The  <b>ShowSimpleTable</b>  subroutine  formats  data  into a simple table of aligned columns, in the following
       example:

          Column1  Column2  Column3
          -------  -------  -------
          Value1   Value2   Value3
          Value12  Value22  Value32

       Columns are auto-sized by the data's widths, plus two spaces between columns.  Values which are too  long
       for the maximum colulmn width are wrapped within the column.

</pre><h4><b>ShowHTMLTable</b></h4><pre>
       Display a table of data nicely using HTML tables.

         <b>ShowHTMLTable</b> { <u>parameter</u> =&gt; <u>value</u>, ... };

           <b>ShowHTMLTable</b>  <u>\@titles</u>,  <u>\@types</u>,  <u>\@widths</u>,  <u>\&amp;row_sub</u>  [, <u>\&amp;fmt_sub</u> [, <u>$max_width</u> [, <u>\%URL_Keys</u> [,
       <u>$no_escape</u> [, <u>\@title_formats</u> [, <u>\@data_formats</u> [, <u>$table_attrs</u> ] ] ] ] ] ] ];

       The <b>ShowHTMLTable</b> displays one or more rows of columns of data using the HTML  "\&lt;TABLE\"&gt;  feature.   In
       addition to the usual parameter arguments of "ShowTable", the following parameter arguments are defined:

       "url_keys" =&gt; <u>\%URL_Keys</u>,
                 This  is  a hash array of column names (titles) and corresponding base URLs.  The values of any
                 column names or indexes occuring as keys in the hash  array  will  be  generated  as  hypertext
                 anchors  using the associated <u>printf</u>-like string as the base URL. Either the column name or the
                 column index (beginning with 1) may be used as the hash key.

                 In the string value, these macros can be substituted:

                 "%K" is replaced with the column name.

                 "%V" is replaced with the column value;

                 "%I" is replaced with the column index.

                 For example, if we define the array:

                     $base_url = "<a href="http://www">http://www</a>.$domain/cgi/lookup?col=%K?val=%V";
                     %url_cols = ('Author' =&gt; $base_url,
                                  'Name'   =&gt; $base_url);

                 Then, the values in the "Author" column will be generated with the following HTML text:

                     &lt;A HREF="<a href="http://www">http://www</a>.$domain/cgi/lookup?col=Author?val=somevalue&gt;somevalue&lt;/A&gt;

                 and the values in the "Name" column will be generated with the URL:

                     &lt;A HREF="<a href="http://www">http://www</a>.$domain/cgi/lookup?col=Name?val=othervalue&gt;othervalue&lt;/A&gt;

                 If this variable is not given, it will default to the global variable "\%URL_Keys".

       "no_escape" =&gt; <u>boolean</u>,
                 Unless <b>$no_escape</b> is set, HTML-escaping is performed on the data values in  order  to  properly
                 display  the  special HTML formatting characters : '\&lt;', '\&gt;', and '&amp;'.  If you wish to display
                 data with embedded HTML text, you must set <b>$no_escape</b>.

                 Enabling embedded HTML, turns on certain heuristics which enable the user  to  more  completely
                 define  appearance  of  the table.  For instance, any "\&lt;TR\"&gt; tokens found embedded *anywhere*
                 within a row of data will be placed at the front of the row, within the generated "\&lt;TR\"&gt;.

                 Similarly, a row of data containing the "\&lt;THEAD\"&gt; or "\&lt;TFOOT\"&gt; tokens,  and  their  closing
                 counterparts, will begin and end, respectively a table header or footer data.

       "title_formats" =&gt; <u>\@title_formats</u>,
       "tformats" =&gt; <u>\@title_formats</u>,
                 An  array  of  HTML formatting elements for the column titles, one for each column.  Each array
                 element is a list of one or more HTML elements, given as "\&lt;ELEMENT\"&gt; or  plainly,  "ELEMENT",
                 and  separated by a comma ',', semi-colon ';', or vertical bar '|'.  Each given HTML element is
                 prepended to the corresponding column title,  in  the  order  given.   The  corresponding  HTML
                 closing elements are appended in the opposite order.

                 For example, if <u>\@title_formats</u> contains the two elements:

                     [ 'FONT SIZE=+2,BOLD', 'FONT COLOR=red,EM' ]

                 then the text output for the title of the first column would be:

                     &lt;FONT SIZE=+2&gt;&lt;BOLD&gt;I&lt;column_1_title&gt;&lt;/BOLD&gt;&lt;/FONT&gt;

                 If "title_formats" is omitted, the global variable <b>@Title_Formats</b> is used by default.

       "data_formats" =&gt; <u>\@data_formats</u>,
       "dformats" =&gt; <u>\@data_formats</u>,
                 Similar  to "title_formats", this array provides HTML formatting for the columns of each row of
                 data.  If "data_formats" is omitted or null, then the global variable <b>\@Data_Formats</b> is used by
                 default.

       "table_attrs" =&gt; <u>$table_attrs</u>,
                 This variable defines a string of attributes to be inserted within the "\&lt;TABLE\"&gt; token.   For
                 example, if the user wishes to have no table border:

                     ShowHTMLTable {
                         ...
                         table_attrs =&gt; 'BORDER=0',
                         ...
                     };

</pre><h4><b>ShowListTable</b></h4><pre>
       Display a table of data using a list format.

         <b>ShowListTable</b> { <u>parameter</u> =&gt; <u>value</u>, ... };

         <b>ShowListTable</b> <u>\@titles</u>, <u>\@types</u>, <u>\@widths</u>, <u>\&amp;row_sub</u> [, <u>\&amp;fmt_sub</u> [, <u>$max_width</u> [, <u>$wrap_margin</u> ] ] ];

       The arguments for <b>ShowListTable</b> are the same as for "ShowTable", except for those described next.

       "max_width" = <u>number</u>,
       "wrap_margin" = <u>number</u>,
                 Lines  are  truncated, and wrapped when their length exceeds <u>$max_width</u>.  Wrapping is done on a
                 word-basis, unless the resulting right margin exceeds <u>$wrap_margin</u>, in which case the  line  is
                 simply truncated at the <u>$max_width</u> limit.

                 The   <u>$max_width</u>   variable   defaults   to  <b>$Max_List_Width</b>.   The  <u>$wrap_margin</u>  defaults  to
                 <b>$List_Wrap_Margin</b>.

       In <u>List</u> mode, columns (called "fields" in List mode) are displayed wth a field name and  value  pair  per
       line, with records being one or more fields .  In other words, the output of a table would look something
       like this:

           Field1_1: Value1_1
           Field1_2: Value1_2
           Field1_3: Value1_3
           ...
           Field1-N: Value1_M
           &lt;empty line&gt;
           Field2_1: Value2_1
           Field2_2: Value2_2
           Field2_3: Value2_3
           ...
           Field2_N: Value2_N
           ...
           FieldM_1: ValueM_1
           FieldM_2: ValueM_2
           ...
           FieldM_N: ValueM_N
           &lt;empty line&gt;
           &lt;empty line&gt;

       Characteristics of <u>List</u> mode:

       •         two empty lines indicate the end of data.

       •         An empty field (column) may be omitted, or may have a label, but no data.

       •         A long line can be continue by a null field (column):

                     Field2: blah blah blah
                           : blah blah blah

       •         On a continuation, the null field is an arbitrary number of leading white space, a colon ':', a
                 single blank or tab, followed by the continued text.

       •         Embedded  newlines  are  indicated  by the escape mechanism "\n".  Similarly, embedded tabs are
                 indicated with "\t", returns with "\r".

       •         If the <u>@titles</u> array is empty, the field names ""Field_"<u>NN</u>" are used instead.

</pre><h4><b>ShowRow</b></h4><pre>
       Fetch rows successively from one or more columns of data.

         <b>ShowRow</b> <u>$rewindflag</u>, <u>\$index</u>, <u>$col_array_1</u> [, <u>$col_array_2</u>, ...;]

       The <b>ShowRow</b> subroutine returns a row of data from one or more columns of data.  It is designed to be used
       as a <u>callback</u> routine, within the <b>ShowTable</b> routine.   It can be used to select elements from one or more
       array reference arguments.

       If passed two or more array references as arguments, elements  of  the  arrays  selected  by  <u>$index</u>  are
       returned as the "row" of data.

       If  a  single array argument is passed, and each element of the array is itself an array, the subarray is
       returned as the "row" of data.

       If the <u>$rewindflag</u> flag is set, then the <u>$index</u> pointer is reset to  zero,  and  "true"  is  returned  (a
       scalar 1).  This indicates that the data is rewindable to the <b>ShowTable</b> routines.

       When  the  <u>$rewindflag</u> is not set, then the current row of data, as determined by <u>$index</u> is returned, and
       <u>$index</u> will have been incremented.

       An actual invocation (from <b>ShowColumns</b>) is:

         ShowTable \@titles, \@types, \@lengths,
             sub { &amp;ShowRow( $_[0], \$current_row, $col_names, $col_types,
                             $col_lengths, \@col_attrs); };

       In the example above, after each invocation, the <u>$current_row</u> argument will have been incremented.

</pre><h4><b>ShowTableValue</b></h4><pre>
       Prepare and return a formatted representation of a value.  A  value  argument,  using  its  corresponding
       type, effective width, and precision is formatted into a field of a given maximum width.

         <u>$fmt</u> = <b>ShowTableValue</b> <u>$value</u>, <u>$type</u>, <u>$max_width</u>, <u>$width</u>, <u>$precision</u>, <u>$showmode</u>;

       "width" =&gt; <u>$width</u>
       <u>$width</u>    The width of the current value.  If omittied, <u>$max_width</u> is assumed.

       "precision" =&gt; <u>$precision</u>
       <u>$precision</u>
                 The number of decimal digits; zero is assumed if omittied.

       "value" =&gt; <u>$value</u>
       <u>$value</u>    The value to be formatted.

       <u>$type</u>     The type name of the value; eg: "char", "varchar", "int", etc.

       "maxwidth" =&gt; <u>$max_width</u>
       <u>$max_width</u>
                 The  maximum  width  of  any  value  in the current value's column.  If <u>$width</u> is zero or null,
                 <u>$max_width</u> is used by default.  <u>$max_width</u> is also used as a <u>minimum</u> width, in case <u>$width</u> is a
                 smaller value.

       <u>$width</u>    The default width of the value, obtained from the width specification of the  column  in  which
                 this value occurs.

       <u>$precision</u>
                 The precision specification, if any, from the column width specification.

       <u>$showmode</u> The  mode  of the output: one of "table", "list", "box", or "html".  Currently, only the "html"
                 mode is significant: it is used to avoid using HTML tokens as part of the  formatted  text  and
                 length calculations.

</pre><h4><b>PlainText</b></h4><pre>
         <u>$plaintext</u> = <b>&amp;PlainText</b>(<u>$htmltext</u>);

         <b>&amp;PlainText</b>

       This function removes any HTML formatting sequences from the input argument, or from $_ if no argument is
       given.  The resulting plain text is returned as the result.

</pre><h4><b>VARIABLES</b></h4><pre>
       The  following  variables  may  be  set  by the user to affect the display (with the defaults enclosed in
       square brackets [..]):

       <b>$Show_Mode</b> [Box]
                 This  is  the  default  display  mode  when  using  <b>ShowTable</b>.    The   environment   variable,
                 $ENV{'SHOW_MODE'}, is used when this variable is null or the empty string.  The possible values
                 for this variable are: "Box", "List", "Table", and "HTML".  Case is insignificant.

       <b>$List_Wrap_Margin</b> [2]
                 This  variable's  value  determines  how large a margin to keep before wrarpping a long value's
                 display in a column.  This value is only used in "List" mode.

       <b>$Max_List_Width</b> [80]
                 This variable, used in "List" mode, is used to determine how long an output line may be  before
                 wrapping  it.   The environment variable, $ENV{'COLUMNS'}, is used to define this value when it
                 is null.

       <b>$Max_Table_Width</b> ['']
                 This variable, when set, causes all tables to have their columns scaled such that  their  total
                 combined width does not exceed this value.  When this variable is not set, which is the default
                 case, there is no maximum table width, and no scaling will be done.

       <b>$No_Escape</b> ['']
                 If  set,  allows  embedded  HTML text to be included in the data displayed in an HTML-formatted
                 table.  By default, the HTML formatting characters ("&lt;", "&gt;", and "&amp;") occuring in  values  are
                 escaped.

       <b>%URL_Keys</b> In  HTML  mode,  this  variable  is  used to recognize which columns are to be displayed with a
                 corresponding hypertext anchor.  See "ShowHTMLTable" for more details.

       <b>@HTML_Elements</b>
                 An array of HTML elements (as of HTML 3.0) used to recognize and strip for width calculations.

       <b>$HTML_Elements</b>
                 A regular expression string formed from the elements of <b>@HTML_Elements</b>.

</pre><h4><b>INTERNAL</b> <b>SUBROUTINES</b></h4><pre>
</pre><h4><b>get_params</b></h4><pre>
         my <u>$args</u> = <b>&amp;get_params</b> <u>\@argv</u>, <u>\%params</u>, <u>\@arglist</u>;

       Given the <u>@argv</u> originally passed to the calling sub, and the hash of named parameters  as  <u>%params</u>,  and
       the array of parameter names in the order expected for a pass-by-value invocation, set the values of each
       of the variables named in <u>@vars</u>.

       If  the  only  element  of  the  <u>@argv</u>  is  a  hash  array, then set the variables to the values of their
       corresponding parameters used as keys to the hash array.  If the parameter is not a key  of  the  <u>%params</u>
       hash, and is not a key in the global hash <b>%ShowTableParams</b>, then an error is noted.

       When  <u>@argv</u>  has  multiple elements, or is not a hash array, set each variable, in the order given within
       <u>@arglist</u>, to the values from the <u>@argv</u>, setting the variables named by each value in <u>%params</u>.

       Variables may given either by name or by reference.

       The result is a HASH array reference, either corresponding directly to  the  HASH  array  passed  as  the
       single  argument,  or  one  created  by  associating the resulting variable values to the parameter names
       associated with the variable names.

</pre><h4><b>html_formats</b></h4><pre>
         (<u>$prefixes</u>,<u>$suffixes</u>) = <b>html_formats</b> <u>\@html_formats</u>;

       The <b>html_format</b> function takes an array reference of HTML formatting elements <u>\@html_formats</u>, and  builds
       two  arrays  of  strings: the first: <u>$prefixes</u>, is an array of prefixes containing the corresponding HTML
       formatting elements from <u>\@html_formats</u>, and the  second,  <u>$suffixes</u>,  containing  the  appropriate  HTML
       closing elements, in the opposite order.

       The  result  is  designed  to  be  used  as prefixes and suffixes for the corresponding titles and column
       values.

       The array <u>\@html_formats</u> contains lists of HTML formatting elements, one for each column (either title or
       data).  Each array element is a list of one or more HTML elements, either given in HTML syntax, or  as  a
       "plain"  name  (ie:  given as "\&lt;ELEMENT\"&gt; or plainly, "ELEMENT").  Multiple elements are separated by a
       comma ','.

       The resulting array of <u>$prefixes</u> contains the corresponding opening elements, in the  order  given,  with
       the  proper  HTML element syntax.  The resulting array of <u>$suffixes</u> contains the closing elements, in the
       opposite order given, with the proper HTML element syntax.

       For example, if <u>\@html_formats</u> contains the two elements:

           [ 'FONT SIZE=+2,BOLD', 'FONT COLOR=red,EM' ]

       then the resulting two arrays will be returned as:

           [ [ '&lt;FONT SIZE=+2&gt;&lt;BOLD&gt;', '&lt;FONT COLOR=red&gt;&lt;EM&gt;' ],
             [ '&lt;/FONT&gt;&lt;/BOLD&gt;',       '&lt;/FONT&gt;&lt;/EM&gt;' ] ]

</pre><h4><b>calc_widths</b></h4><pre>
         (<u>$num_cols</u>, <u>$widths</u>, <u>$precision</u>, <u>$max_widths</u>) =      <b>&amp;calc_widths</b>(  <u>$widthspec</u>,  <u>$titles</u>,  <u>$rewindable</u>,
       <u>$row_sub</u>, <u>$fmt_sub</u>, <u>$types</u>, <u>$showmode</u>,       <u>$max_width</u>);

   <b>DESCRIPTION</b>
       <b>calc_widths</b>  is  a generalized subroutine used by all the <b>ShowTable</b> variant subroutines to setup internal
       variables prior to formatting for display.  <b>Calc_widths</b> handles the column width and precision  analysis,
       including scanning the data (if rewindable) for appropriate default values.

       The  number  of columns in the data is returned, as well as three arrays: the declared column widths, the
       column precision values, and the maximum column widths.

   <b>RETURN</b> <b>VALUES</b>
       <u>$num_cols</u> is the number of columns in the data.  If the data is not rewindable, this is computed  as  the
                 maximum  of  the  number  of elements in the <u>$widthspec</u> array and the number of elements in the
                 <u>$titles</u> array.  When the data is rewindable, this is the maximum of the number  of  columns  of
                 each row of data.

       <u>$widths</u>   is  the  column  widths  array  ref, without the precision specs (if any).  Each column's width
                 value is determined by the original <u>$widthspec</u> value and/or the maximum length of the formatted
                 data for the column.

       <u>$precision</u>
                 is the precision component (if any) of the original <u>$widthspec</u> array  ref.   If  there  was  no
                 original  precision component from the <u>$widthspec</u>, and the data is rewindable, then the data is
                 examined to determine the maximum default precision.

       <u>$max_widths</u>
                 is the ref to the array of maximum widths for the given columns.

   <b>ARGUMENTS</b>
       <u>$widthspec</u>
                 A reference to an array of column width (or length) values, each  given  as  an  integer,  real
                 number,  or a string value of "<u>width</u>.<u>precision</u>".  If a value is zero or null, the length of the
                 corresponding formatted data (if rewindable) and column title length are used  to  determine  a
                 reasonable default.

                 If  a column's <u>width</u> portion is a positive, non-zero number, then the column will be this wide,
                 regardless of the values lengths of the data in the column.

                 If the column's <u>width</u> portion is given as a negative number, then the positive value is used as
                 a minimum column width, with no limit on the maximum column width.  In other words, the  column
                 will be at least <u>width</u> characters wide.

                 If  the  data is not rewindable, and a column's width value is null or zero, then the length of
                 the column title is used.  This may cause severe wrapping of data in the column, if the  column
                 data lengths are much greater than the column title widths.

       <u>$titles</u>   The  array ref to the column titles; used to determine the minimum acceptable width, as well as
                 the default number of columns.  If the $titles array is empty, then  the  $widthspec  array  is
                 used to determine the default number of columns.

       <u>$rewindable</u>
                 A  flag  indicating  whether or not the data being formatted is rewindable.  If this is true, a
                 pass over the data will be done in order  to  calculate  the  maximum  lengths  of  the  actual
                 formatted  data,  using <u>$fmt_sub</u> (below), rather than just rely on the declared column lengths.
                 This allows for optimal column width adjustments (ie: the actual column widths may be less than
                 the declared column widths).

                 If it is not desired to have the column widths dynamically adjusted, then set  the  <u>$rewindable</u>
                 argument to 0, even if the data is rewindable.

       <u>$row_sub</u>  The  code  reference  to  the subroutine which returns the data; invoked only if <u>$rewindable</u> is
                 non-null.

       <u>$fmt_sub</u>  The subroutine used to determine the length of the data when formatted; if this is  omitted  or
                 null,  the  length  of the data is used by default.  The <u>$fmt_sub</u> is used only when the data is
                 rewindable.

       <u>$types</u>    An array reference to the types of each of the  value  columns;  used  only  when  <u>$fmt_sub</u>  is
                 invoked.

       <u>$showmode</u> A  string indicating the mode of the eventual display; one of four strings: ""box"", ""table"",
                 ""list"", and ""html"".  Used to adjust widths for formatting requirements.

       <u>$max_width</u>
                 The maximum width of the table being formatted.  If set, and the total sum  of  the  individual
                 columns exceeds this value, the column widths are scaled down uniformly.  If not set (null), no
                 column width scaling is done.

</pre><h4><b>putcell</b></h4><pre>
         <u>$wrapped</u> = <b>&amp;putcell</b>( <u>\@cells</u>, <u>$c</u>, <u>$cell_width</u>, <u>\@prefix</u>, <u>\@suffix</u>, <u>$wrap_flag</u> );

       Output  the  contents of an array cell at <u>$cell</u>[<u>$c</u>], causing text longer than <u>$cell_width</u> to be saved for
       output on subsequent calls.  Prefixing the output of each cell's value is a string from  the  two-element
       array  <u>@prefix</u>.   Suffixing  each cell's value is a string from the two-element array <u>@suffix</u>.  The first
       element of either array is selected when <u>$wrap_flag</u> is zero or null, or when there is no more text in the
       current to be output.  The second element is selected when <u>$wrap_flag</u> is non-zero, and when there is more
       text in the current cell to be output.

       In the case of text longer than <u>$cell_width</u>, a non-zero value is returned.

       Cells with undefined data are not output, nor are the prefix or suffix strings.

</pre><h4><b>center</b></h4><pre>
       Center a string within a given width.

         <u>$field</u> = <b>center</b> <u>$string</u>, <u>$width</u>;

</pre><h4><b>max</b></h4><pre>
       Compute the maximum value from a list of values.

         <u>$max</u> = <b>&amp;max</b>( <u>@values</u> );

</pre><h4><b>min</b></h4><pre>
       Compute the minum value from a list of values.

         <u>$min</u> = <b>&amp;min</b>( <u>@values</u> );

</pre><h4><b>max_length</b></h4><pre>
       Compute the maximum length of a set of strings in an array reference.

         <u>$maxlength</u> = <b>&amp;max_length</b>( <u>\@array_ref</u> );

</pre><h4><b>htmltext</b></h4><pre>
       Translate regular text for output into an HTML document.  This means certain  characters,  such  as  "&amp;",
       "&gt;", and "&lt;" must be escaped.

         <u>$output</u> = <b>&amp;htmltext</b>( <u>$input</u> [, <u>$allflag</u> ] );

       If  <u>$allflag</u>  is non-zero, then all characters are escaped.  Normally, only the four HTML syntactic break
       characters are escaped.

</pre><h4><b>out</b></h4><pre>
       Print text followed by a newline.

         <b>out</b> <u>$fmt</u> [, <u>@text</u> ];

</pre><h4><b>put</b></h4><pre>
       Print text (without a trailing newline).

         <b>out</b> <u>$fmt</u> [, <u>@text</u> ];

</pre><h4><b>AUTHOR</b></h4><pre>
       Alan K. Stebbens &lt;<a href="mailto:aks@stebbens.org">aks@stebbens.org</a>&gt;

</pre><h4><b>BUGS</b></h4><pre>
       •         Embedded HTML is how the user can insert formatting overrides.  However,  the  HTML  formatting
                 techniques  have  not  been  given  much  consideration  --  feel  free to provide constructive
                 feedback.

perl v5.36.0                                       2022-10-13                                     <u><a href="../man3pm/ShowTable.3pm.html">ShowTable</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>