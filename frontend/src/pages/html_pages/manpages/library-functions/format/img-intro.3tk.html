<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>img - Introduction to Img</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libtk-img-doc">libtk-img-doc_2.0.1+dfsg1-2_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       img - Introduction to Img

</pre><h4><b>SYNOPSIS</b></h4><pre>
       package require <b>Img</b> <b>?2.0?</b>

________________________________________________________________________________________________________________

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>Img</b>  is a collection of format handlers for the <b>Tk</b> <u>photo</u> [https://www.tcl.tk/man/tcl9.0/TkCmd/photo.html]
       image type.

       Sources and binaries of <b>Img</b> are available at <u>SourceForge</u> [https://sourceforge.net/projects/tkimg/].

       The individual formats are described in more detail on their own pages.

       <u>bmp</u>    Windows bitmap format.  See <b>img-bmp</b>.

       <u>dted*</u>  Digital Terrain Elevation Data format.  See <b>img-dted</b>.

       <u>flir*</u>  FLIR FPF Public Image format.  See <b>img-flir</b>.

       <u>gif*</u>   Graphics Interchange Format.  See <b>img-gif</b>.

       <u>ico</u>    Windows icon format.  See <b>img-ico</b>.

       <u>jpeg</u>   Joint Picture Experts Group format.  See <b>img-jpeg</b>.

       <u>pcx</u>    Paintbrush format.  See <b>img-pcx</b>.

       <u>pixmap</u> Pixmap image type.  While the other formats are handlers for the <b>Tk</b> photo image type,  this  is  a
              new image type for <b>Tk</b>.  See <b>img-pixmap</b>.

       <u>png</u>    Portable Network Graphics format.  See <b>img-png</b>.

       <u>ppm</u>    Portable pixmap format.  See <b>img-ppm</b>.

       <u>ps*</u>    Postscript  and  PDF  format.  Requires an external application, <b>ghostview</b> for its operation.  See
              <b>img-ps</b>.

       <u>raw*</u>   Raw data format.  See <b>img-raw</b>.

       <u>sgi</u>    Silicon Graphics format.  See <b>img-sgi</b>.

       <u>sun</u>    Sun raster format.  See <b>img-sun</b>.

       <u>tga</u>    Truevision Targa format.  See <b>img-tga</b>.

       <u>tiff</u>   Tagged Image File Format.  See <b>img-tiff</b>.

       <u>window</u> Tk window as photo image.  See <b>img-window</b>.

       <u>xbm</u>    X Windows Bitmap format.  See <b>img-xbm</b>.

       <u>xpm</u>    X Windows Pixmap format.  See <b>img-xpm</b>.

</pre><h4><b>NOTES</b></h4><pre>
       [1]    <b>Img</b> version 2 only works with Tcl/Tk 8.6 or newer.  If using an  older  Tcl/Tk  version,  use  the
              lastest <b>Img</b> 1.4 version.

       [2]    Formats  marked  with  <u>*</u>  are  <u>not</u>  loaded  when  doing  a <b>package</b> <b>require</b> <b>Img</b>, but must be loaded
              explicitly via <b>package</b> <b>require</b> <b>img::FORMAT</b>.

</pre><h4><b>MULTI-PAGE</b> <b>IMAGES</b></h4><pre>
       Some image formats support storage of multiple pages in a file.

       Supported by formats <b>img-gif</b>, <b>img-ico</b>, <b>img-ps</b>, <b>img-tiff</b>.

       A specific page can be extracted using the <b>-index</b> option.  Index <b>0</b> specifies the first page.

       There is currently no support for writing multi-page images.

       The number of pages of an image file can either be retrieved using metadata  key  <u>numpages</u>  (see  chapter
       <b>Image</b> <b>Metadata</b>) or by checking different <b>-index</b> values.

       For example, GIF images can have multiple pages in one file.  The metadata dictionary key <u>numpages</u> is not
       supported for GIF images, as this property cannot be extracted fast.

       If you need to know the number of pages, use code like in the following example:

               proc CheckIndex { fileName fmt ind } {
                   set retVal [catch {image create photo -file $fileName -format "$fmt -index $ind"} phImg]
                   if { $retVal == 0 } {
                       image delete $phImg
                       return true
                   }
                   return false
               }

               proc GetNumPages { fileName fmt } {
                   if { [CheckIndex $fileName $fmt 1] } {
                       set ind 5
                       while { [CheckIndex $fileName $fmt $ind] } {
                           incr ind 5
                       }
                       incr ind -1
                       while { ! [CheckIndex $fileName $fmt $ind] } {
                           incr ind -1
                       }
                       return [expr { $ind + 1 }]
                   }
                   return 1
               }

               # Determine the number of pages of an animated GIF.
               set numPages [GetNumPages $imgFile "gif"]

</pre><h4><b>IMAGE</b> <b>METADATA</b></h4><pre>
       Some  image  formats  support  an  individual  set  of  metadata  dictionary  keys.   See  the  <b>Tk</b>  <u>photo</u>
       [https://www.tcl.tk/man/tcl9.0/TkCmd/photo.html] image  command  for  more  information  regarding  image
       metadata.

       This support is enabled, if <b>Img</b> is linked against <b>Tk</b> 8.7 or newer.

       The following keys are supported:

       <u>DPI</u>    Horizontal image resolution in dots per inch as double value.

              Supported by formats <b>img-bmp</b>, <b>img-jpeg</b>, <b>img-pcx</b>, <b>img-png</b>, <b>img-tiff</b>.

       <u>aspect</u> Aspect ratio defined as horizontal size divided by vertical size as double value.

              Supported by formats <b>img-bmp</b>, <b>img-jpeg</b>, <b>img-pcx</b>, <b>img-png</b>, <b>img-tiff</b>.

       <u>numpages</u>
              The number of pages in an image file.

              Supported by formats <b>img-ico</b>, <b>img-tiff</b>.

       All  formats  supporting  image resolution (<u>DPI</u> and <u>aspect</u>) have the following format options for writing
       these values without explicitly setting the metadata dictionary:

       <b>-resolution</b> <b>-xresolution</b> <b>-yresolution</b>.

       [1]    Option <b>-resolution</b> allows specifying both horizontal and vertical resolution values.

       [2]    If not using option <b>-resolution</b>, options <b>-xresolution</b> and <b>-yresolution</b>  must  both  be  specified.
              Otherwise no resolution information is written.

       [3]    Resolution  values  specified  with  any of the above options overwrite the corresponding metadata
              dictionary values.

       [4]    The  resolution values can be specified as double values as documented with function  <u>Tk_GetPixels</u>
              [https://www.tcl.tk/man/tcl9.0/TkLib/GetPixels.html].

       Example resolution specifications:

              1.0: 1 inch
              1i : 1 inch
              1c : 1 centimeter
              1m : 1 millimeter
              1p : 1 point

       Example  writing  PNG  image  with  horizontal  resolution  of  300 inches and vertical resolution of 200
       centimeters:

              img write out.png -format {png -resolution 300i 200c}

</pre><h4><b>VALUE</b> <b>MAPPING</b></h4><pre>
       Some image formats support pixel values greater than storable in 8-bit integers.

       •      The following formats support 16-bit integer pixel values: <b>img-dted</b>, <b>img-ppm</b>.

       •      The following formats support floating point pixel values: <b>img-flir</b>, <b>img-raw</b>.

       To map these values to 8-bit integer values as needed for  a  Tk  photo,  two  different  algorithms  are
       implemented in Img:

       A  simple  <u>MinMax</u>  algorithm  and  an  advanced  <u>Automatic</u>  <u>Gain</u>  <u>Control</u> <u>(AGC)</u> algorithm using histogram
       equalization.

       The default for all supported formats is to use the <u>MinMax</u> algorithm, which determines  the  minimum  and
       maximum values of the image automatically.

</pre><h4><b>MATCHING</b> <b>ORDER</b></h4><pre>
       When  reading  images  without  specifying  the format (using option <b>-format</b>), the match functions of the
       available formats are tried in reversed order as registered.  So, the handlers of  the  Img  package  are
       called  before the handlers of the Tk core.  The Tk core registers the following handlers: GIF, PNG, PPM,
       SVG, DEFAULT.

       In Tk 8.7 a new format handler structure (<b>Tk_PhotoImageFormatVersion3</b>) was introduced to handle  the  new
       metadata  information.   All old handlers (<b>Tk_PhotoImageFormat</b>) are called before calling the new Format3
       handlers.

       See           manual           page           of            function            <u>Tk_CreatePhotoImageFormat</u>
       [https://www.tcl.tk/man/tcl9.0/TkLib/CrtPhImgFmt.html] for a detailed description of the handler struture
       and matching functions.

       The resulting matching order is best explained by an example:

              package require Tk
              package require Img
              package require img::raw     <u>(Format2</u> <u>Img</u> <u>handler)</u>

       Note, that the <b>package</b> <b>require</b> <b>Img</b> command actually calls the following statements:

              package require img::window  <u>(Format2</u> <u>Img</u> <u>handler)</u>
              package require img::tga     <u>(Format2</u> <u>Img</u> <u>handler)</u>
              package require img::ico     <u>(Format3</u> <u>Img</u> <u>handler)</u>
              package require img::pcx     <u>(Format3</u> <u>Img</u> <u>handler)</u>
              package require img::sgi     <u>(Format2</u> <u>Img</u> <u>handler)</u>
              package require img::sun     <u>(Format2</u> <u>Img</u> <u>handler)</u>
              package require img::xbm     <u>(Format2</u> <u>Img</u> <u>handler)</u>
              package require img::xpm     <u>(Format2</u> <u>Img</u> <u>handler)</u>
              package require img::jpeg    <u>(Format3</u> <u>Img</u> <u>handler)</u>
              package require img::png     <u>(Format3</u> <u>Img</u> <u>handler)</u>
              package require img::tiff    <u>(Format3</u> <u>Img</u> <u>handler)</u>
              package require img::bmp     <u>(Format3</u> <u>Img</u> <u>handler)</u>
              package require img::ppm     <u>(Format2</u> <u>Img</u> <u>handler)</u>

       The order of calling the match functions is therefore as follows:

              Match format raw       <u>(Format2</u> <u>Img</u> <u>handler)</u>
              Match format ppm       <u>(Format2</u> <u>Img</u> <u>handler)</u>
              Match format xpm       <u>(Format2</u> <u>Img</u> <u>handler)</u>
              Match format xbm       <u>(Format2</u> <u>Img</u> <u>handler)</u>
              Match format sun       <u>(Format2</u> <u>Img</u> <u>handler)</u>
              Match format sgi       <u>(Format2</u> <u>Img</u> <u>handler)</u>
              Match format tga       <u>(Format2</u> <u>Img</u> <u>handler)</u>
              Match format window    <u>(Format2</u> <u>Img</u> <u>handler)</u>
              Match format svg       <u>(Format2</u> <u>Tk</u> <u>handler)</u>
              Match format ppm       <u>(Format2</u> <u>Tk</u> <u>handler)</u>
              Match format default   <u>(Format2</u> <u>Tk</u> <u>handler)</u>
              Match format bmp       <u>(Format3</u> <u>Img</u> <u>handler)</u>
              Match format tiff      <u>(Format3</u> <u>Img</u> <u>handler)</u>
              Match format png       <u>(Format3</u> <u>Img</u> <u>handler)</u>
              Match format jpeg      <u>(Format3</u> <u>Img</u> <u>handler)</u>
              Match format pcx       <u>(Format3</u> <u>Img</u> <u>handler)</u>
              Match format ico       <u>(Format3</u> <u>Img</u> <u>handler)</u>
              Match format png       <u>(Format3</u> <u>Tk</u> <u>handler)</u>
              Match format gif       <u>(Format3</u> <u>Tk</u> <u>handler)</u>

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       img, img-bmp, img-dted, img-flir, img-gif, img-ico, img-jpeg, img-pcx, img-pixmap, img-png, img-ppm, img-
       ps, img-raw, img-sgi, img-sun, img-tga, img-tiff, img-window, img-xbm, img-xpm

</pre><h4><b>COPYRIGHT</b></h4><pre>
       Copyright (c) 1995-2024 Jan Nijtmans &lt;<a href="mailto:nijtmans@users.sourceforge.net">nijtmans@users.sourceforge.net</a>&gt;
       Copyright (c) 2002-2024 Andreas Kupries &lt;<a href="mailto:andreas_kupries@users.sourceforge.net">andreas_kupries@users.sourceforge.net</a>&gt;
       Copyright (c) 2003-2024 Paul Obermeier &lt;<a href="mailto:obermeier@users.sourceforge.net">obermeier@users.sourceforge.net</a>&gt;

img                                                    2.0                                              <u><a href="../man3tk/img.3tk.html">img</a></u>(3tk)
</pre>
 </div>
</div></section>
</div>
</body>
</html>