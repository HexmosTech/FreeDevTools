<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>format - Format a string in the style of sprintf</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/tcl9.0-doc">tcl9.0-doc_9.0.1+dfsg-2_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       format - Format a string in the style of sprintf

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>format</b> <u>formatString</u> ?<u>arg</u> <u>arg</u> <u>...</u>?
________________________________________________________________________________________________________________

</pre><h4><b>INTRODUCTION</b></h4><pre>
       This  command  generates  a  formatted  string  in  a  fashion  similar  to the ANSI C <b>sprintf</b> procedure.
       <u>FormatString</u> indicates how to format the result, using <b>%</b> conversion specifiers as  in  <b>sprintf</b>,  and  the
       additional  arguments,  if  any, provide values to be substituted into the result.  The return value from
       <b>format</b> is the formatted string.

</pre><h4><b>DETAILS</b> <b>ON</b> <b>FORMATTING</b></h4><pre>
       The command operates by scanning <u>formatString</u> from left to right.  Each character from the format  string
       is  appended  to  the  result string unless it is a percent sign.  If the character is a <b>%</b> then it is not
       copied to the result string.  Instead, the  characters  following  the  <b>%</b>  character  are  treated  as  a
       conversion  specifier.   The conversion specifier controls the conversion of the next successive <u>arg</u> to a
       particular format and the result is appended to the result string in place of the  conversion  specifier.
       If  there  are multiple conversion specifiers in the format string, then each one controls the conversion
       of one additional <u>arg</u>.  The <b>format</b> command must be given enough <u>arg</u>s to meet the  needs  of  all  of  the
       conversion specifiers in <u>formatString</u>.

       Each  conversion  specifier  may  contain up to six different parts: an XPG3 position specifier, a set of
       flags, a minimum field width, a precision, a size modifier, and a conversion  character.   Any  of  these
       fields  may  be  omitted except for the conversion character.  The fields that are present must appear in
       the order given above.  The paragraphs below discuss each of these fields in turn.

   <b>OPTIONAL</b> <b>POSITIONAL</b> <b>SPECIFIER</b>
       If the <b>%</b> is followed by a decimal number and a <b>$</b>, as in “<b>%2$d</b>”, then the value to convert  is  not  taken
       from the next sequential argument.  Instead, it is taken from the argument indicated by the number, where
       1  corresponds  to  the  first <u>arg</u>.  If the conversion specifier requires multiple arguments because of <b>*</b>
       characters in the specifier then successive arguments are used, starting with the argument given  by  the
       number.   This  follows  the  XPG3  conventions  for  positional specifiers.  If there are any positional
       specifiers in <u>formatString</u> then all of the specifiers must be positional.

   <b>OPTIONAL</b> <b>FLAGS</b>
       The second portion of a conversion specifier may contain any of the following  flag  characters,  in  any
       order:

       <b>-</b>         Specifies  that  the  converted  argument  should  be  left-justified in its field (numbers are
                 normally right-justified with leading spaces if needed).

       <b>+</b>         Specifies that a number should always be printed with a sign, even if positive.

       <u>space</u>     Specifies that a space should be added to the beginning of the number if the first character is
                 not a sign.

       <b>0</b>         Specifies that the number should be padded on the left with zeroes instead of spaces.

       <b>#</b>         Requests an alternate output form. For <b>o</b> conversions, <b>0o</b> will be added to the beginning of  the
                 result  unless  it  is  zero.  For <b>x</b> or <b>X</b> conversions, <b>0x</b> will be added to the beginning of the
                 result unless it is zero.  For <b>b</b> conversions, <b>0b</b> will be added to the beginning of  the  result
                 unless  it is zero.  For <b>d</b> conversions, <b>0d</b> there is no effect unless the <b>0</b> specifier is used as
                 well: In that case, <b>0d</b> will be added to the beginning.  For all floating-point conversions  (<b>e</b>,
                 <b>E</b>,  <b>f</b>,  <b>g</b>,  and  <b>G</b>)  it  guarantees  that  the  result always has a decimal point.  For <b>g</b> and <b>G</b>
                 conversions it specifies that trailing zeroes should not be removed.

   <b>OPTIONAL</b> <b>FIELD</b> <b>WIDTH</b>
       The third portion of a conversion specifier is a decimal number giving a minimum  field  width  for  this
       conversion.   It  is  typically  used  to  make  columns  line up in tabular printouts.  If the converted
       argument contains fewer characters than the minimum field width then it will be padded so that it  is  as
       wide  as  the  minimum  field  width.   Padding normally occurs by adding extra spaces on the left of the
       converted argument, but the <b>0</b> and <b>-</b> flags may be used to specify padding with zeroes on the left or  with
       spaces  on  the  right, respectively.  If the minimum field width is specified as <b>*</b> rather than a number,
       then the next argument to the <b>format</b> command determines the minimum field width; it must  be  an  integer
       value.

   <b>OPTIONAL</b> <b>PRECISION/BOUND</b>
       The  fourth  portion  of  a conversion specifier is a precision, which consists of a period followed by a
       number.  The number is used in different ways for different conversions.  For <b>e</b>, <b>E</b>, and <b>f</b> conversions  it
       specifies  the  number of digits to appear to the right of the decimal point.  For <b>g</b> and <b>G</b> conversions it
       specifies the total number of digits to appear, including those  on  both  sides  of  the  decimal  point
       (however,  trailing  zeroes  after  the  decimal  point  will still be omitted unless the <b>#</b> flag has been
       specified).  For integer conversions, it specifies a minimum number of digits to  print  (leading  zeroes
       will  be  added  if  necessary).   For  <b>s</b> conversions it specifies the maximum number of characters to be
       printed; if the string is longer than this then the trailing characters will be dropped. If the precision
       is specified with <b>*</b> rather than a number then the next argument to  the  <b>format</b>  command  determines  the
       precision; it must be a numeric string.

   <b>OPTIONAL</b> <b>SIZE</b> <b>MODIFIER</b>
       The  fifth  part of a conversion specifier is a size modifier, which must be <b>ll</b>, <b>h</b>, <b>l</b>, <b>z</b>, <b>t</b>, or <b>L</b>.  If it
       is <b>ll</b> it specifies that an integer value is taken  without  truncation  for  conversion  to  a  formatted
       substring.   If  it  is  <b>h</b>  it  specifies  that  an  integer  value is truncated to a 16-bit range before
       converting.  This option is rarely useful.  If it is <b>l</b> (or <b>j</b> or <b>q</b>) it specifies that the integer value is
       truncated to the same range as that produced by the <b>wide()</b> function of  the  <b>expr</b>  command  (at  least  a
       64-bit  range).  If it is <b>z</b> or <b>t</b> it specifies that the integer value is truncated to the range determined
       by the value of the <b>pointerSize</b> element of the <b>tcl_platform</b> array.  If it  is  <b>L</b>  it  specifies  that  an
       integer  or double value is taken without truncation for conversion to a formatted substring.  If neither
       of those are present, the integer value is truncated to a 32-bit range.

   <b>MANDATORY</b> <b>CONVERSION</b> <b>TYPE</b>
       The last thing in a conversion specifier  is  an  alphabetic  character  that  determines  what  kind  of
       conversion to perform.  The following conversion characters are currently supported:

       <b>d</b>         Convert integer to signed decimal string.

       <b>u</b>         Convert integer to unsigned decimal string.

       <b>i</b>         Convert integer to signed decimal string (equivalent to <b>d</b>).

       <b>o</b>         Convert integer to unsigned octal string.

       <b>x</b> or <b>X</b>    Convert  integer  to  unsigned  hexadecimal  string,  using digits “0123456789abcdef” for <b>x</b> and
                 “0123456789ABCDEF” for <b>X</b>).

       <b>b</b>         Convert integer to unsigned binary string, using digits 0 and 1.

       <b>c</b>         Convert integer to the Unicode character it represents.

       <b>s</b>         No conversion; just insert string.

       <b>f</b>         Convert number to signed decimal string of  the  form  <u>xx.yyy</u>,  where  the  number  of  <u>y</u>'s  is
                 determined  by  the  precision  (default:  6).   If the precision is 0 then no decimal point is
                 output.

       <b>e</b> or <b>E</b>    Convert number to scientific notation in the  form  <u>x.yyy</u><b>e±</b><u>zz</u>,  where  the  number  of  <u>y</u>'s  is
                 determined  by  the  precision  (default:  6).   If the precision is 0 then no decimal point is
                 output.  If the <b>E</b> form is used then <b>E</b> is printed instead of <b>e</b>.

       <b>g</b> or <b>G</b>    If the exponent is less than -4 or greater than or equal to the precision, then convert  number
                 as  for  <b>%e</b>  or <b>%E</b>.  Otherwise convert as for <b>%f</b>.  Trailing zeroes and a trailing decimal point
                 are omitted.

       <b>a</b> or <b>A</b>    Convert double to hexadecimal notation in the form <u>0x1.yyy</u><b>p±</b><u>zz</u>, where  the  number  of  <u>y</u>'s  is
                 determined  by  the precision (default: 13).  If the <b>A</b> form is used then the hex characters are
                 printed in uppercase.

       <b>%</b>         No conversion: just insert <b>%</b>.

       <b>p</b>         Shorthand form for <b>0x%zx</b>, so it outputs the integer in hexadecimal form with <b>0x</b> prefix.

</pre><h4><b>DIFFERENCES</b> <b>FROM</b> <b>ANSI</b> <b>SPRINTF</b></h4><pre>
       The behavior of the format command is the same as the ANSI C <b>sprintf</b> procedure except for  the  following
       differences:

       [1]    Tcl guarantees that it will be working with UNICODE characters.

       [2]    <b>%n</b> specifier is not supported.

       [3]    For  <b>%c</b>  conversions  the  argument  must be an integer value, which will then be converted to the
              corresponding character value.

       [4]    The size modifiers are ignored when formatting floating-point values.   The  <b>b</b>  specifier  has  no
              <b>sprintf</b> counterpart.

</pre><h4><b>EXAMPLES</b></h4><pre>
       Convert the numeric value of a UNICODE character to the character itself:

              set value 120
              set char [<b>format</b> %c $value]

       Convert the output of <b>time</b> into seconds to an accuracy of hundredths of a second:

              set us [lindex [time $someTclCode] 0]
              puts [<b>format</b> "%.2f seconds to execute" [expr {$us / 1e6}]]

       Create a packed X11 literal color specification:

              # Each color-component should be in range (0..255)
              set color [<b>format</b> "#%02x%02x%02x" $r $g $b]

       Use  XPG3 format codes to allow reordering of fields (a technique that is often used in localized message
       catalogs; see <b>msgcat</b>) without reordering the data values passed to <b>format</b>:

              set fmt1 "Today, %d shares in %s were bought at $%.2f each"
              puts [<b>format</b> $fmt1 123 "Global BigCorp" 19.37]

              set fmt2 "Bought %2\$s equity ($%3$.2f x %1\$d) today"
              puts [<b>format</b> $fmt2 123 "Global BigCorp" 19.37]

       Print a small table of powers of three:

              # Set up the column widths
              set w1 5
              set w2 10

              # Make a nice header (with separator) for the table first
              set sep +-[string repeat - $w1]-+-[string repeat - $w2]-+
              puts $sep
              puts [<b>format</b> "| %-*s | %-*s |" $w1 "Index" $w2 "Power"]
              puts $sep

              # Print the contents of the table
              set p 1
              for {set i 0} {$i&lt;=20} {incr i} {
                  puts [<b>format</b> "| %*d | %*ld |" $w1 $i $w2 $p]
                  set p [expr {wide($p) * 3}]
              }

              # Finish off by printing the separator again
              puts $sep

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <a href="../man3tcl/scan.3tcl.html">scan</a>(3tcl), <a href="../man3/sprintf.3.html">sprintf</a>(3), <a href="../man3tcl/string.3tcl.html">string</a>(3tcl)

</pre><h4><b>KEYWORDS</b></h4><pre>
       conversion specifier, format, sprintf, string, substitution

Tcl                                                    8.1                                          <u><a href="../man3tcl/format.3tcl.html">format</a></u>(3tcl)
</pre>
 </div>
</div></section>
</div>
</body>
</html>