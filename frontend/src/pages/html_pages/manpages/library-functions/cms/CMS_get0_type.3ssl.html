<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CMS_get0_type, CMS_set1_eContentType, CMS_get0_eContentType, CMS_get0_content - get and set CMS content</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libssl-doc">libssl-doc_3.5.0-2ubuntu1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       CMS_get0_type, CMS_set1_eContentType, CMS_get0_eContentType, CMS_get0_content - get and set CMS content
       types and content

</pre><h4><b>SYNOPSIS</b></h4><pre>
        #include &lt;openssl/cms.h&gt;

        const ASN1_OBJECT *CMS_get0_type(const CMS_ContentInfo *cms);
        int CMS_set1_eContentType(CMS_ContentInfo *cms, const ASN1_OBJECT *oid);
        const ASN1_OBJECT *CMS_get0_eContentType(CMS_ContentInfo *cms);
        ASN1_OCTET_STRING **CMS_get0_content(CMS_ContentInfo *cms);

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>CMS_get0_type()</b> returns the content type of a CMS_ContentInfo structure as an ASN1_OBJECT pointer. An
       application can then decide how to process the CMS_ContentInfo structure based on this value.

       <b>CMS_set1_eContentType()</b> sets the embedded content type of a CMS_ContentInfo structure. It should be
       called with CMS functions (such as <b><a href="../man3/CMS_sign.3.html">CMS_sign</a></b>(3), <b><a href="../man3/CMS_encrypt.3.html">CMS_encrypt</a></b>(3)) with the <b>CMS_PARTIAL</b> flag and <b>before</b> the
       structure is finalised, otherwise the results are undefined.

       ASN1_OBJECT *<b>CMS_get0_eContentType()</b> returns a pointer to the embedded content type.

       <b>CMS_get0_content()</b> returns a pointer to the <b>ASN1_OCTET_STRING</b> pointer containing the embedded content.

</pre><h4><b>NOTES</b></h4><pre>
       As the <b>0</b> implies <b>CMS_get0_type()</b>, <b>CMS_get0_eContentType()</b> and <b>CMS_get0_content()</b> return internal pointers
       which should <b>not</b> be freed up.  <b>CMS_set1_eContentType()</b> copies the supplied OID and it <b>should</b> be freed up
       after use.

       The <b>ASN1_OBJECT</b> values returned can be converted to an integer <b>NID</b> value using <b>OBJ_obj2nid()</b>. For the
       currently supported content types the following values are returned:

        NID_pkcs7_data
        NID_pkcs7_signed
        NID_pkcs7_digest
        NID_id_smime_ct_compressedData:
        NID_pkcs7_encrypted
        NID_pkcs7_enveloped

       The return value of <b>CMS_get0_content()</b> is a pointer to the <b>ASN1_OCTET_STRING</b> content pointer. That means
       that for example:

        ASN1_OCTET_STRING **pconf = CMS_get0_content(cms);

       <b>*pconf</b> could be NULL if there is no embedded content. Applications can access, modify or create the
       embedded content in a <b>CMS_ContentInfo</b> structure using this function. Applications usually will not need
       to modify the embedded content as it is normally set by higher level functions.

</pre><h4><b>RETURN</b> <b>VALUES</b></h4><pre>
       <b>CMS_get0_type()</b> and <b>CMS_get0_eContentType()</b> return an ASN1_OBJECT structure.

       <b>CMS_set1_eContentType()</b> returns 1 for success or 0 if an error occurred.  The error can be obtained from
       <b><a href="../man3/ERR_get_error.3.html">ERR_get_error</a></b>(3).

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man3/ERR_get_error.3.html">ERR_get_error</a></b>(3)

</pre><h4><b>COPYRIGHT</b></h4><pre>
       Copyright 2008-2016 The OpenSSL Project Authors. All Rights Reserved.

       Licensed under the Apache License 2.0 (the "License").  You may not use this file except in compliance
       with the License.  You can obtain a copy in the file LICENSE in the source distribution or at
       &lt;https://www.openssl.org/source/license.html&gt;.

3.5.0                                              2025-06-04                                <u><a href="../man3SSL/CMS_GET0_TYPE.3SSL.html">CMS_GET0_TYPE</a></u>(3SSL)
</pre>
 </div>
</div></section>
</div>
</body>
</html>