<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>umad_recv - receive umad</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libibumad-dev">libibumad-dev_56.1-1ubuntu1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       umad_recv - receive umad

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>#include</b> <b>&lt;infiniband/umad.h&gt;</b>

       <b>int</b> <b>umad_recv(int</b> <u>portid</u><b>,</b> <b>void</b> <u>*umad</u><b>,</b> <b>int</b> <u>*length</u><b>,</b> <b>int</b> <u>timeout_ms</u><b>);</b>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>umad_recv()</b>  waits up to <u>timeout_ms</u> milliseconds for an incoming MAD message to be received from the port
       specified by <u>portid</u>.

       A MAD "message" consists of a single MAD packet <u>or</u> a coalesced multipacket  RMPP  transmission.   In  the
       RMPP case the header of the first RMPP packet is returned as the header of the buffer and the buffer data
       contains the coalesced data section of each subsequent RMPP MAD packet within the transmission.  Thus all
       the RMPP headers except the first are not copied to user space from the kernel.

       The  message  is  copied  to  the  <u>umad</u>  buffer  if  there  is sufficient room and the received <u>length</u> is
       indicated.  If the buffer is not large enough, the size of the umad buffer needed is returned in  <u>length</u>.
       A negative <u>timeout_ms</u> makes the function block until a packet is received. A <u>timeout_ms</u> parameter of zero
       indicates a non blocking read.

       <b>Note</b> <u>length</u> is a pointer to the length of the <b>data</b> portion of the umad buffer.  This means that <u>umad</u> must
       point to a buffer at least umad_size() + <u>*length</u> bytes long.

       <b>Note</b>  <b>also</b>  that <u>*length</u> must be &gt;= 256 bytes.  This length allows for at least a single MAD packet to be
       returned.

</pre><h4><b>RETURN</b> <b>VALUE</b></h4><pre>
       <b>umad_recv()</b> on success return the agentid; on error, errno is set and a negative  value  is  returned  as
       follows:
        -EINVAL      invalid port handle or agentid or *length is less than the minimum supported
        -EIO         receive operation failed
        -EWOULDBLOCK non blocking read can't be fulfilled
        -ENOSPC      The provided buffer is not long enough for the complete message.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man3/umad_poll.3.html">umad_poll</a></b>(3)

</pre><h4><b>AUTHOR</b></h4><pre>
       Hal Rosenstock &lt;<a href="mailto:halr@voltaire.com">halr@voltaire.com</a>&gt;

OpenIB                                            May 11, 2007                                      <u><a href="../man3/UMAD_RECV.3.html">UMAD_RECV</a></u>(3)
</pre>
 </div>
</div></section>
</div>
</body>
</html>