<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>umad_send - send umad</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libibumad-dev">libibumad-dev_56.1-1ubuntu1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       umad_send - send umad

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>#include</b> <b>&lt;infiniband/umad.h&gt;</b>

       <b>int</b> <b>umad_send(int</b> <u>portid</u><b>,</b> <b>int</b> <u>agentid</u><b>,</b> <b>void</b> <u>*umad</u><b>,</b> <b>int</b> <u>length</u><b>,</b> <b>int</b> <u>timeout_ms</u><b>,</b> <b>int</b> <u>retries</u><b>);</b>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>umad_send()</b>  sends  <u>length</u>  bytes  from  the specified <u>umad</u> buffer from the port specified by <u>portid</u>, and
       using the agent specified by <u>agentid</u>.

       The buffer can contain a RMPP transmission which is larger than a single  MAD  packet  when  the  agentid
       specifies  a class which utilizes RMPP and the header flags indicate RMPP is active.  NOTE currently only
       RMPPFlags.Active is meaningful in the header in user space.  All other RMPP fields are ignored.  The data
       section of the buffer will be sent in multiple RMPP MAD packets with headers built for the user.

       <u>timeout_ms</u> controls the solicited MADs behavior as follows: zero  value  means  not  solicited.  Positive
       value makes kernel indicate timeout in milliseconds. If reply is not received within the specified value,
       the  original  buffer  is  returned in the read channel with the status field set (to non zero). Negative
       <u>timeout_ms</u> makes kernel wait forever for the reply.  <u>retries</u> indicates the number of times the  MAD  will
       be retried before giving up.

</pre><h4><b>RETURN</b> <b>VALUE</b></h4><pre>
       <b>umad_send()</b> returns 0 on success; on error, errno is set and a negative value is returned as follows:
        -EINVAL invalid port handle or agentid
        -EIO    send operation failed

</pre><h4><b>AUTHOR</b></h4><pre>
       Hal Rosenstock &lt;<a href="mailto:halr@voltaire.com">halr@voltaire.com</a>&gt;

OpenIB                                            May 11, 2007                                      <u><a href="../man3/UMAD_SEND.3.html">UMAD_SEND</a></u>(3)
</pre>
 </div>
</div></section>
</div>
</body>
</html>