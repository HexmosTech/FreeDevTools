<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TIFFWriteScanline - write a scanline to an open TIFF file</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libtiff-dev">libtiff-dev_4.7.0-3ubuntu1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       TIFFWriteScanline - write a scanline to an open TIFF file

</pre><h4><b>SYNOPSIS</b></h4><pre>
          #include &lt;tiffio.h&gt;

       <b>int</b> <b>TIFFWriteScanline(TIFF</b> <b>*tif,</b> <b>tdata_t</b> <b>buf,</b> <b>uint32_t</b> <b>row,</b> <b>tsample_t</b> <b>sample)</b>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       Write  data  to  a  file at the specified row. The <u>sample</u> parameter is used only if data are organized in
       separate planes (<b>PlanarConfiguration</b> = 2).  The data are assumed to be uncompressed  and  in  the  native
       bit-  and  byte-order  of  the  host machine. The data written to the file is compressed according to the
       compression scheme of the current TIFF directory (see further below). If the current scanline is past the
       end of the current subfile, the <b>ImageLength</b> field is automatically  increased  to  include  the  scanline
       (except  for  <b>PlanarConfiguration</b>  =  2,  where the <b>ImageLength</b> cannot be changed once the first data are
       written). If the <b>ImageLength</b> is increased, the <b>StripOffsets</b>  and  <b>StripByteCounts</b>  fields  are  similarly
       enlarged to reflect data written past the previous end of image.

</pre><h4><b>NOTES</b></h4><pre>
       The  library writes encoded data using the native machine byte order.  Correctly implemented TIFF readers
       are expected to do any necessary byte-swapping to correctly process image data with <b>BitsPerSample</b> greater
       than 8. The library attempts to hide bit-ordering differences between the image and the native machine by
       converting data from the native machine order.

       In C++ the <u>sample</u> parameter defaults to 0.

       Once data are written to a file for the current directory, the values of certain tags may not be altered;
       see <u>TIFFSetField()</u> for more information.

       It is not possible  to  write  scanlines  to  a  file  that  uses  a  tiled  organization.   The  routine
       <u>TIFFIsTiled()</u> can be used to determine if the file is organized as tiles or strips.

</pre><h4><b>RETURN</b> <b>VALUES</b></h4><pre>
       <u>TIFFWriteScanline()</u> returns -1 if it immediately detects an error and 1 for a successful write.

</pre><h4><b>DIAGNOSTICS</b></h4><pre>
       All error messages are directed to the <u>TIFFErrorExtR()</u> routine.

       <b>%s:</b> <b>File</b> <b>not</b> <b>open</b> <b>for</b> <b>writing</b>:
          The file was opened for reading, not writing.

       <b>"Can</b> <b>not</b> <b>write</b> <b>scanlines</b> <b>to</b> <b>a</b> <b>tiled</b> <b>image"</b>:
          An  attempt  was  made  to  write a scanline to a tiled image. The image is assumed to be organized in
          tiles because the <b>TileWidth</b> and <b>TileLength</b> tags have been set with <u>TIFFSetField()</u>.

       <b>"Compression</b> <b>algorithm</b> <b>does</b> <b>not</b> <b>support</b> <b>random</b> <b>access"</b>:
          Data was written in a non-sequential order to a file that uses a compression algorithm  and  that  has
          <b>RowsPerStrip</b>  greater  than one.  That is, data in the image is to be stored in a compressed form, and
          with multiple rows packed into a strip. In this case, the library does not support  random  access  to
          the  data.  The  data should either be written as entire strips, sequentially by rows, or the value of
          <b>RowsPerStrip</b> should be set to one.

       <b>%s:</b> <b>Must</b> <b>set</b> <b>"ImageWidth"</b> <b>before</b> <b>writing</b> <b>data</b>:
          The image's width has not be set before the first write.  See <u>TIFFSetField()</u> for information on how to
          do this.

       <b>%s:</b> <b>Must</b> <b>set</b> <b>"PlanarConfiguration"</b> <b>before</b> <b>writing</b> <b>data</b>:
          The organization of data  has  not  be  defined  before  the  first  write.   See  <u>TIFFSetField()</u>  for
          information on how to do this.

       <b>Can</b> <b>not</b> <b>change</b> <b>"ImageLength"</b> <b>when</b> <b>using</b> <b>separate</b> <b>planes</b>:
          Separate  image  planes  are being used (<b>PlanarConfiguration</b> = 2), but the number of rows has not been
          specified before the first write.  The library supports the dynamic growth of an image only when  data
          are organized in a contiguous manner (<b>PlanarConfiguration</b> = 1).

       <b>"%d:</b> <b>Sample</b> <b>out</b> <b>of</b> <b>range,</b> <b>max</b> <b>%d"</b>:
          The <u>sample</u> parameter was greater than the value of the <b>SamplesPerPixel</b> tag.

       <b>%s:</b> <b>No</b> <b>space</b> <b>for</b> <b>strip</b> <b>arrays</b>:
          There was not enough space for the arrays that hold strip offsets and byte counts.

</pre><h4><b>BUGS</b></h4><pre>
       Writing  subsampled YCbCR data does not work correctly because, for <b>PlanarConfiguration</b> = 2 the size of a
       scanline is not calculated on a per-sample basis, and for <b>PlanarConfiguration</b> = 1 the  library  does  not
       pack the block-interleaved samples.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <u>TIFFOpen</u> (3tiff), <u>TIFFWriteEncodedStrip</u> (3tiff), <u>TIFFWriteRawStrip</u> (3tiff), <u>libtiff</u> (3tiff)

</pre><h4><b>AUTHOR</b></h4><pre>
       LibTIFF contributors

</pre><h4><b>COPYRIGHT</b></h4><pre>
       1988-2022, LibTIFF contributors

4.7                                               Apr 30, 2025                          <u><a href="../man3tiff/TIFFWRITESCANLINE.3tiff.html">TIFFWRITESCANLINE</a></u>(3tiff)
</pre>
 </div>
</div></section>
</div>
</body>
</html>