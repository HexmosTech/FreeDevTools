<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CURLOPT_COPYPOSTFIELDS - have libcurl copy data to POST</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libcurl4-doc">libcurl4-doc_8.14.1-1ubuntu2_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       CURLOPT_COPYPOSTFIELDS - have libcurl copy data to POST

</pre><h4><b>SYNOPSIS</b></h4><pre>
       #include &lt;curl/curl.h&gt;

       CURLcode curl_easy_setopt(CURL *handle, CURLOPT_COPYPOSTFIELDS, char *data);

</pre><h4><b>DESCRIPTION</b></h4><pre>
       Pass  a  char  pointer  as  parameter, which should be the full <u>data</u> to post in a HTTP POST operation. It
       behaves as the <u><a href="../man3/CURLOPT_POSTFIELDS.3.html">CURLOPT_POSTFIELDS</a>(3)</u> option, but the original data is  instead  copied  by  the  library,
       allowing the application to overwrite the original data after setting this option.

       Because   data   is   copied,   care   must   be  taken  when  using  this  option  in  conjunction  with
       <u><a href="../man3/CURLOPT_POSTFIELDSIZE.3.html">CURLOPT_POSTFIELDSIZE</a>(3)</u> or <u><a href="../man3/CURLOPT_POSTFIELDSIZE_LARGE.3.html">CURLOPT_POSTFIELDSIZE_LARGE</a>(3)</u>.  If the  size  has  not  been  set  prior  to
       <u><a href="../man3/CURLOPT_COPYPOSTFIELDS.3.html">CURLOPT_COPYPOSTFIELDS</a>(3)</u>,  the  data  is  assumed  to  be a null-terminated string; else the stored size
       informs the library about the byte count to copy. In any  case,  the  size  must  not  be  changed  after
       <u><a href="../man3/CURLOPT_COPYPOSTFIELDS.3.html">CURLOPT_COPYPOSTFIELDS</a>(3)</u>,  unless  another  <u><a href="../man3/CURLOPT_POSTFIELDS.3.html">CURLOPT_POSTFIELDS</a>(3)</u> or <u><a href="../man3/CURLOPT_COPYPOSTFIELDS.3.html">CURLOPT_COPYPOSTFIELDS</a>(3)</u> option is
       set.

       The application does not have to keep the string around after setting this option.

       Using this option multiple times makes the last set string override the previous ones. Set it to NULL  to
       disable its use again.

</pre><h4><b>DEFAULT</b></h4><pre>
       NULL

</pre><h4><b>PROTOCOLS</b></h4><pre>
       This functionality affects http only

</pre><h4><b>EXAMPLE</b></h4><pre>
       int main(void)
       {
         CURL *curl = curl_easy_init();
         if(curl) {
           char local_buffer[1024]="data to send";
           curl_easy_setopt(curl, CURLOPT_URL, "https://example.com");

           /* size of the data to copy from the buffer and send in the request */
           curl_easy_setopt(curl, CURLOPT_POSTFIELDSIZE, 12L);

           /* send data from the local stack */
           curl_easy_setopt(curl, CURLOPT_COPYPOSTFIELDS, local_buffer);

           curl_easy_perform(curl);
         }
       }

</pre><h4><b>AVAILABILITY</b></h4><pre>
       Added in curl 7.17.1

</pre><h4><b>RETURN</b> <b>VALUE</b></h4><pre>
       <u><a href="../man3/curl_easy_setopt.3.html">curl_easy_setopt</a>(3)</u> returns a CURLcode indicating success or error.

       CURLE_OK (0) means everything was OK, non-zero means an error occurred, see <u><a href="../man3/libcurl-errors.3.html">libcurl-errors</a>(3)</u>.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man3/CURLOPT_MIMEPOST.3.html">CURLOPT_MIMEPOST</a></b>(3), <b><a href="../man3/CURLOPT_POSTFIELDS.3.html">CURLOPT_POSTFIELDS</a></b>(3), <b><a href="../man3/CURLOPT_POSTFIELDSIZE.3.html">CURLOPT_POSTFIELDSIZE</a></b>(3), <b><a href="../man3/CURLOPT_UPLOAD.3.html">CURLOPT_UPLOAD</a></b>(3)

libcurl                                            2025-06-16                          <u><a href="../man3/CURLOPT_COPYPOSTFIELDS.3.html">CURLOPT_COPYPOSTFIELDS</a></u>(3)
</pre>
 </div>
</div></section>
</div>
</body>
</html>