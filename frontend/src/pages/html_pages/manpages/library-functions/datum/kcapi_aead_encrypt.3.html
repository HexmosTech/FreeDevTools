<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>kcapi_aead_encrypt - synchronously encrypt AEAD data (one shot)</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libkcapi-dev">libkcapi-dev_1.4.0-1ubuntu4_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       kcapi_aead_encrypt - synchronously encrypt AEAD data (one shot)

</pre><h4><b>SYNOPSIS</b></h4><pre>

       <b>ssize_t</b> <b>kcapi_aead_encrypt(struct</b> <b>kcapi_handle</b> <b>*</b> <u>handle</u><b>,</b> <b>const</b> <b>uint8_t</b> <b>*</b> <u>in</u><b>,</b> <b>size_t</b> <u>inlen</u><b>,</b>
                                  <b>const</b> <b>uint8_t</b> <b>*</b> <u>iv</u><b>,</b> <b>uint8_t</b> <b>*</b> <u>out</u><b>,</b> <b>size_t</b> <u>outlen</u><b>,</b> <b>int</b> <u>access</u><b>);</b>

</pre><h4><b>ARGUMENTS</b></h4><pre>
       <u>handle</u>
           [in] cipher handle

       <u>in</u>
           [in] plaintext data buffer

       <u>inlen</u>
           [in] length of plaintext buffer

       <u>iv</u>
           [in] IV to be used for cipher operation

       <u>out</u>
           [out] data buffer holding cipher text and authentication tag

       <u>outlen</u>
           [in] length of out buffer

       <u>access</u>
           [in] kernel access type (KCAPI_ACCESS_HEURISTIC - use internal heuristic for fastest kernel access;
           KCAPI_ACCESS_VMSPLICE - use vmsplice access; KCAPI_ACCESS_SENDMSG - sendmsg access)

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The AEAD cipher operation requires the furnishing of the associated authentication data. In case such
       data is not required, it can be set to NULL and length value must be set to zero.

       It is perfectly legal to use the same buffer as the plaintext and ciphertext pointers. That would mean
       that after the encryption operation, the plaintext is overwritten with the ciphertext.

       The memory should be aligned at the page boundary using posix_memalign(sysconf(_SC_PAGESIZE)), If it is
       not aligned at the page boundary, the vmsplice call may not send all data to the kernel.

       The IV buffer must be exactly <b>kcapi_cipher_ivsize</b> bytes in size.

       After invoking this function the caller should use <b>kcapi_aead_getdata_output</b> to obtain the resulting
       ciphertext and authentication tag references.

</pre><h4><b>IMPORTANT</b> <b>NOTE</b></h4><pre>
       The kernel will only process sysconf(_SC_PAGESIZE) * ALG_MAX_PAGES at one time. Longer input data cannot
       be handled by the kernel.

       <u>return</u> number of bytes encrypted upon success; a negative errno-style error code if an error occurred

</pre><h4><b>AUTHOR</b></h4><pre>
       <b>Stephan</b> <b>Mueller</b> &lt;<a href="mailto:smueller@chronox.de">smueller@chronox.de</a>&gt;
           Author.

</pre><h4><b>COPYRIGHT</b></h4><pre>
libkcapi Manual 1.5.0                              April 2024                              <u><a href="../man3/KCAPI_AEAD_ENCRYPT.3.html">KCAPI_AEAD_ENCRYPT</a></u>(3)
</pre>
 </div>
</div></section>
</div>
</body>
</html>