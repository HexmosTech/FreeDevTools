<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>pngpack.c - Pack data with PNG compression.</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libg2c-dev">libg2c-dev_2.1.0-2_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       pngpack.c - Pack data with PNG compression.

</pre><h4><b>SYNOPSIS</b></h4><pre>
       #include 'grib2_int.h'
       #include &lt;<a href="file:/usr/include/math.h">math.h</a>&gt;
       #include &lt;<a href="file:/usr/include/stdlib.h">stdlib.h</a>&gt;

   <b>Functions</b>
       int <b>g2c_pngpackd</b> (double *fld, size_t width, size_t height, int *idrstmpl, unsigned char *cpack, int
           *lcpack)
           This subroutine packs up a double data field into PNG image format.
       int <b>g2c_pngpackf</b> (float *fld, size_t width, size_t height, int *idrstmpl, unsigned char *cpack, int
           *lcpack)
           This subroutine packs up a float data field into PNG image format.
       void <b>pngpack</b> (float *fld, <b>g2int</b> width, <b>g2int</b> height, <b>g2int</b> *idrstmpl, unsigned char *cpack, <b>g2int</b>
           *lcpack)
           This subroutine packs up a float data field into PNG image format.
       static int <b>pngpack_int</b> (void *fld, int fld_is_double, <b>g2int</b> width, <b>g2int</b> height, <b>g2int</b> *idrstmpl,
           unsigned char *cpack, <b>g2int</b> *lcpack, int verbose)
           Packs float or double data into PNG image format.

</pre><h4><b>Detailed</b> <b>Description</b></h4><pre>
       Pack data with PNG compression.

       <b>Author</b>
           Stephen Gilbert

       <b>Date</b>
           2003-08-27

       Definition in file <b>pngpack.c</b>.

</pre><h4><b>Function</b> <b>Documentation</b></h4><pre>
   <b>int</b> <b>g2c_pngpackd</b> <b>(double</b> <b>*</b> <b>fld,</b> <b>size_t</b> <b>width,</b> <b>size_t</b> <b>height,</b> <b>int</b> <b>*</b> <b>idrstmpl,</b> <b>unsigned</b> <b>char</b> <b>*</b> <b>cpack,</b> <b>int</b> <b>*</b>
       <b>lcpack)</b>
       This subroutine packs up a double data field into PNG image format. After the data field is scaled, and
       the reference value is subtracted out, it is treated as a grayscale image and passed to a PNG encoder. It
       also fills in GRIB2 Data Representation Template 5.41 or 5.40010 with the appropriate values.

       <b>Parameters</b>
           <u>fld</u> Pointer to array of double that contains the data values to pack.
           <u>width</u> Number of points in the x direction.
           <u>height</u> Number of points in the y direction.
           <u>idrstmpl</u> Contains the array of values for Data Representation Template 5.41 or 5.40010.

           • 0 Reference value - ignored on input, set by pngpack routine.

           • 1 Binary Scale Factor - used on input.

           • 2 Decimal Scale Factor - used on input.

           • 3 number of bits for each grayscale pixel value - ignored on input.

           • 4  Original  field  type - currently ignored on input, set = 0 on output. Data values assumed to be
             reals.

           <u>cpack</u> The packed data field.
           <u>lcpack</u> length of packed field cpack.

       <b>Returns</b>

           • <b>G2C_NOERROR</b> No error.

           • <b>G2C_EPNG</b> Error encoding/decoding PNG data.

       <b>Author</b>
           Ed Hartnett

       <b>Date</b>
           Aug 8, 2022

       Definition at line <b>348</b> of file <b>pngpack.c</b>.

       References <b>G2C_PNG_DRS_TEMPLATE_LEN</b>, and <b>pngpack_int()</b>.

   <b>int</b> <b>g2c_pngpackf</b> <b>(float</b> <b>*</b> <b>fld,</b> <b>size_t</b> <b>width,</b> <b>size_t</b> <b>height,</b> <b>int</b> <b>*</b> <b>idrstmpl,</b> <b>unsigned</b>  <b>char</b>  <b>*</b>  <b>cpack,</b>  <b>int</b>  <b>*</b>
       <b>lcpack)</b>
       This  subroutine  packs  up a float data field into PNG image format. After the data field is scaled, and
       the reference value is subtracted out, it is treated as a grayscale image and passed to a PNG encoder. It
       also fills in GRIB2 Data Representation Template 5.41 or 5.40010 with the appropriate values.

       <b>Parameters</b>
           <u>fld</u> Pointer to array of float that contains the data values to pack.
           <u>width</u> Number of points in the x direction.
           <u>height</u> Number of points in the y direction.
           <u>idrstmpl</u> Contains the array of values for Data Representation Template 5.41 or 5.40010.

           • 0 Reference value - ignored on input, set by pngpack routine.

           • 1 Binary Scale Factor - used on input.

           • 2 Decimal Scale Factor - used on input.

           • 3 number of bits for each grayscale pixel value - ignored on input.

           • 4 Original field type - currently ignored on input, set = 0 on output. Data values  assumed  to  be
             reals.

           <u>cpack</u> The packed data field.
           <u>lcpack</u> length of packed field cpack.

       <b>Returns</b>

           • <b>G2C_NOERROR</b> No error.

           • <b>G2C_EPNG</b> Error encoding/decoding PNG data.

       <b>Author</b>
           Ed Hartnett

       Definition at line <b>294</b> of file <b>pngpack.c</b>.

       References <b>G2C_PNG_DRS_TEMPLATE_LEN</b>, and <b>pngpack_int()</b>.

   <b>void</b>  <b>pngpack</b>  <b>(float</b>  <b>*</b>  <b>fld,</b>  <b>g2int</b>  <b>width,</b>  <b>g2int</b> <b>height,</b> <b>g2int</b> <b>*</b> <b>idrstmpl,</b> <b>unsigned</b> <b>char</b> <b>*</b> <b>cpack,</b> <b>g2int</b> <b>*</b>
       <b>lcpack)</b>
       This subroutine packs up a float data field into PNG image format. After the data field  is  scaled,  and
       the reference value is subtracted out, it is treated as a grayscale image and passed to a PNG encoder. It
       also fills in GRIB2 Data Representation Template 5.41 or 5.40010 with the appropriate values.

       <b>Parameters</b>
           <u>fld</u> Pointer to array of float that contains the data values to pack.
           <u>width</u> Number of points in the x direction.
           <u>height</u> Number of points in the y direction.
           <u>idrstmpl</u> Contains the array of values for Data Representation Template 5.41 or 5.40010.

           • 0 Reference value - ignored on input, set by pngpack routine.

           • 1 Binary Scale Factor - used on input.

           • 2 Decimal Scale Factor - used on input.

           • 3 number of bits for each grayscale pixel value - ignored on input.

           • 4  Original  field  type - currently ignored on input, set = 0 on output. Data values assumed to be
             reals.

           <u>cpack</u> The packed data field.
           <u>lcpack</u> length of packed field cpack.

       <b>Author</b>
           Stephen Gilbert

       <b>Date</b>
           2003-08-27

       <b>Author</b>
           Ed Hartnett

       Definition at line <b>254</b> of file <b>pngpack.c</b>.

       References <b>pngpack_int()</b>.

       Referenced by <b>g2_addfield()</b>.

   <b>static</b> <b>int</b> <b>pngpack_int</b> <b>(void</b> <b>*</b> <b>fld,</b> <b>int</b> <b>fld_is_double,</b> <b>g2int</b> <b>width,</b> <b>g2int</b> <b>height,</b> <b>g2int</b> <b>*</b> <b>idrstmpl,</b>  <b>unsigned</b>
       <b>char</b> <b>*</b> <b>cpack,</b> <b>g2int</b> <b>*</b> <b>lcpack,</b> <b>int</b> <b>verbose)</b> <b>[static]</b>
       Packs float or double data into PNG image format. This is called by <b>pngpack()</b> and pngpackd().

       After  the  data field is scaled, and the reference value is subtracted out, it is treated as a grayscale
       image and passed to a PNG encoder. It also fills in GRIB2 Data Representation Template  5.41  or  5.40010
       with the appropriate values.

       <b>Parameters</b>
           <u>fld</u> Pointer to array of float or double that contains the data values to pack.
           <u>fld_is_double</u> If non-zero, then fld is double, otherwise float.
           <u>width</u> Number of points in the x direction. This is passed to the PNG layer as a uint32.
           <u>height</u> Number of points in the y direction. This is passed to the PNG layer as a uint32.
           <u>idrstmpl</u> Contains the array of values for Data Representation Template 5.41 or 5.40010.

           • 0 Reference value - ignored on input, set by pngpack routine.

           • 1 Binary Scale Factor - used on input.

           • 2 Decimal Scale Factor - used on input.

           • 3 number of bits for each grayscale pixel value - ignored on input.

           • 4  Original  field  type - currently ignored on input, set = 0 on output. Data values assumed to be
             reals.

           <u>cpack</u> The packed data field.
           <u>lcpack</u> length of packed field cpack.
           <u>verbose</u> If non-zero, error messages will be printed in case of error. Otherwise, error codes will  be
           return  but  no  error messages printed. Calls to the original g2c API may cause error messages to be
           printed in case of error. For the new g2c_ API, no error messages will be printed - instead an  error
           code will be returned. Call <b>g2c_strerror()</b> to get the error message for any error code.

       <b>Returns</b>

           • <b>G2C_NOERROR</b> No error.

           • <b>G2C_EPNG</b> Error encoding/decoding PNG data.

       <b>Author</b>
           Ed Hartnett

       <b>Date</b>
           Aug 8, 2022

       Definition at line <b>53</b> of file <b>pngpack.c</b>.

       References <b>ALOG2</b>, <b>enc_png()</b>, <b>G2C_EPNG</b>, <b>G2C_NOERROR</b>, <b>int_power()</b>, <b>LOG</b>, <b>mkieee()</b>, and <b>sbits()</b>.

       Referenced by <b>g2c_pngpackd()</b>, <b>g2c_pngpackf()</b>, and <b>pngpack()</b>.

</pre><h4><b>Author</b></h4><pre>
       Generated automatically by Doxygen for NCEPLIBS-g2c from the source code.

NCEPLIBS-g2c                                      Version 2.1.0                                     <u><a href="../man3/pngpack.c.3.html">pngpack.c</a></u>(3)
</pre>
 </div>
</div></section>
</div>
</body>
</html>