<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>recursive_key_scan, recursive_session_key_scan - apply a function to all keys in a keyring tree</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libkeyutils-dev">libkeyutils-dev_1.6.3-6ubuntu1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       recursive_key_scan, recursive_session_key_scan - apply a function to all keys in a keyring tree

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>#include</b> <b>&lt;keyutils.h&gt;</b>

       <b>typedef</b> <b>int</b> <b>(*</b><u>recursive_key_scanner_t</u><b>)(key_serial_t</b> <u>parent</u><b>,</b>
           <b>key_serial_t</b> <u>key</u><b>,</b> <b>char</b> <b>*</b><u>desc</u><b>,</b> <b>int</b> <u>desc_len</u><b>,</b> <b>void</b> <b>*</b><u>data</u><b>);</b>

       <b>long</b> <b>recursive_key_scan(key_serial_t</b> <u>keyring</u><b>,</b>
           <b>recursive_key_scanner_t</b> <u>func</u><b>,</b> <b>void</b> <b>*</b><u>data</u><b>);</b>
       <b>long</b> <b>recursive_session_key_scan(recursive_key_scanner_t</b> <u>func</u><b>,</b>
           <b>void</b> <b>*</b><u>data</u><b>);</b>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>recursive_key_scan</b>() performs a depth-first recursive scan of the specified <u>keyring</u> tree and applies <u>func</u>
       to every link found in the accessible keyrings in that tree.  <u>data</u> is passed to each invocation of func.

       The  return  values  of  <u>func</u>  are  summed and returned as the overall return value.  Errors are ignored.
       Inaccessible keyrings are not scanned, but links to them are still passed to func.

       <b>recursive_session_key_scan</b>() works exactly like <b>recursive_key_scan</b>() with the  caller's  session  keyring
       specified as the starting keyring.

       The  callback function is called for each link found in all the keyrings in the nominated tree and so may
       be called multiple times for a particular key if that key has multiple links to it.

       The callback function is passed the following parameters:

       <b>parent</b> The keyring containing the link or 0 for the initial key.

       <b>key</b>    The key to which the link points.

       <b>desc</b> and <b>desc_len</b>
              A pointer to the raw description and its length as retrieved with <b>keyctl_describe_alloc</b>().   These
              will  be  NULL  and -1 respectively if the description couldn't be retrieved and <u>errno</u> will retain
              the error from <b>keyctl_describe_alloc</b>().

       <b>data</b>   The data passed to the scanner function.

</pre><h4><b>RETURN</b> <b>VALUE</b></h4><pre>
       These functions return the sum of the results of the callback functions they invoke.

</pre><h4><b>ERRORS</b></h4><pre>
       Ignored.

</pre><h4><b>LINKING</b></h4><pre>
       When linking, <b>-lkeyutils</b> should be specified to the linker.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man3/keyctl.3.html">keyctl</a></b>(3), <b><a href="../man3/keyctl_describe_alloc.3.html">keyctl_describe_alloc</a></b>(3), <b><a href="../man7/keyrings.7.html">keyrings</a></b>(7)

Linux                                              10 Mar 2011                             <u><a href="../man3/RECURSIVE_KEY_SCAN.3.html">RECURSIVE_KEY_SCAN</a></u>(3)
</pre>
 </div>
</div></section>
</div>
</body>
</html>