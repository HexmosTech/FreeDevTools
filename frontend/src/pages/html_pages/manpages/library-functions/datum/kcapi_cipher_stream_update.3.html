<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>kcapi_cipher_stream_update - send more data for processing (stream)</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libkcapi-dev">libkcapi-dev_1.4.0-1ubuntu4_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       kcapi_cipher_stream_update - send more data for processing (stream)

</pre><h4><b>SYNOPSIS</b></h4><pre>

       <b>ssize_t</b> <b>kcapi_cipher_stream_update(struct</b> <b>kcapi_handle</b> <b>*</b> <u>handle</u><b>,</b> <b>struct</b> <b>iovec</b> <b>*</b> <u>iov</u><b>,</b> <b>size_t</b> <u>iovlen</u><b>);</b>

</pre><h4><b>ARGUMENTS</b></h4><pre>
       <u>handle</u>
           [in] cipher handle

       <u>iov</u>
           [in] scatter/gather list with data to be processed by the cipher operation.

       <u>iovlen</u>
           [in] number of scatter/gather list elements.

</pre><h4><b>DESCRIPTION</b></h4><pre>
       Using this function call, more plaintext for encryption or ciphertext for decryption can be submitted to
       the kernel.

       This function may cause the caller to sleep if the kernel buffer holding the data is getting full. The
       process will be woken up once more buffer space becomes available by calling <b>kcapi_cipher_stream_op</b>.

</pre><h4><b>NOTE</b></h4><pre>
       with the separate API calls of <b>kcapi_cipher_stream_update</b> and <b>kcapi_cipher_stream_op</b> a multi-threaded
       application can be implemented where one thread sends data to be processed and one thread picks up data
       processed by the cipher operation.

</pre><h4><b>IMPORTANT</b> <b>NOTE</b></h4><pre>
       The kernel will only process sysconf(_SC_PAGESIZE) * ALG_MAX_PAGES at one time. If your input data is
       larger than this threshold, you MUST segment it into chunks of at most sysconf(_SC_PAGESIZE) *
       ALG_MAX_PAGES and invoke the <b>kcapi_cipher_stream_update</b> on that segment followed by
       <b>kcapi_cipher_stream_op</b> before the next chunk is processed. If this rule is not obeyed, the thread
       invoking <b>kcapi_cipher_stream_update</b> will be put to sleep until another thread invokes
       <b>kcapi_cipher_stream_op</b>.

</pre><h4><b>WARNING</b></h4><pre>
       The memory referenced by <u>iov</u> is not accessed by the kernel during this call. The memory is first accessed
       when <b>kcapi_cipher_stream_op</b> is called. Thus, you MUST make sure that the referenced memory is still
       present at the time <b>kcapi_cipher_stream_op</b> is called.

       <u>return</u> number of bytes sent to the kernel upon success; a negative errno-style error code if an error
       occurred

</pre><h4><b>AUTHOR</b></h4><pre>
       <b>Stephan</b> <b>Mueller</b> &lt;<a href="mailto:smueller@chronox.de">smueller@chronox.de</a>&gt;
           Author.

</pre><h4><b>COPYRIGHT</b></h4><pre>
libkcapi Manual 1.5.0                              April 2024                            <u>KCAPI_CIPHER_STREAM</u><b><a href="../man3/_.3.html">_</a></b>(3)
</pre>
 </div>
</div></section>
</div>
</body>
</html>