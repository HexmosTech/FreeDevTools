<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DS2781 - Stand-alone Fuel Gauge IC</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/owfs-doc">owfs-doc_3.2p4+dfsg1-6_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       <b>DS2781</b> - Stand-alone Fuel Gauge IC

</pre><h4><b>SYNOPSIS</b></h4><pre>
   <b>Temperature</b> <b>Voltage</b> <b>Current</b> <b>Memory</b> <b>and</b> <b>Switch.</b>
       <b>3D</b>  [.]XXXXXXXXXXXX[XX][/[  <b>lock.[0-1|ALL]</b> | <b>memory</b> | <b>pages/page.[0-1|ALL]</b> | <b>PIO</b> | <b>sensed</b> | <b>temperature</b> |
       <b>vbias</b> | <b>vis</b> | <b>vis_avg</b> | <b>vis_offset</b> | <b>volt</b> | <b>volthours</b> |
       <b>aef</b> | <b>chgtf</b> | <b>learnf</b> | <b>pmod</b> | <b>porf</b> | <b>sef</b> | <b>uven</b> | <b>uvf</b> |
       <b>address</b> | <b>crc8</b> | <b>id</b> | <b>locator</b> | <b>r_address</b> | <b>r_id</b> | <b>r_locator</b> | <b>type</b> ]]

   <b>Thermocouple</b>
       <b>3D</b> [.]XXXXXXXXXXXX[XX][/[ <b>temperature</b> | <b>typeX/range_low</b> | <b>typeX/range_high</b> | <b>typeX/temperature</b>

</pre><h4><b>FAMILY</b> <b>CODE</b></h4><pre>
       <u>3D</u>

</pre><h4><b>SPECIAL</b> <b>PROPERTIES</b></h4><pre>
   <b>lock.[0-1|ALL]</b>
       <u>read-write,</u> <u>yes-no</u>
       Lock either of the two eprom pages to prevent further writes. Apparently setting <u>lock</u> is permanent.

   <b>memory</b>
       <u>read-write,</u> <u>binary</u>
       Access to the full 256 byte memory range. Much of this space is reserved or special use.  User  space  is
       the <u>page</u> area.
       See the <u>DATASHEET</u> for a full memory map.

   <b>pages/pages.[0-1|ALL]</b>
       <u>read-write,</u>  <u>binary</u>  Two  16  byte  areas  of  memory for user application. The <u>lock</u> property can prevent
       further alteration.
       NOTE that the <u>page</u> property is different from the common <u>OWFS</u> implementation in that all of <u>memory</u> is not
       accessible.

   <b>PIO</b>
       <u>write-only,</u> <u>yes-no</u>
       Controls the PIO pin allowing external switching.
       Writing "1" turns the PIO pin on (conducting). Writing "0" makes the  pin  non-conducting.   The  logical
       state  of  the voltage can be read with the <u>sensed</u> property. This will reflect the current voltage at the
       pin, not the value sent to <u>PIO</u>
       Note also that <u>PIO</u> will also be altered by the power-status of the <u>DS2680</u> See the datasheet for details.

   <b>sensed</b>
       <u>read-only,</u> <u>yes-no</u>
       The logical voltage at the PIO pin. Useful only if the <u>PIO</u> property is set to "0" (non-conducting).
       Value will be 0 or 1 depending on the voltage threshold.

   <b>temperature</b>
       <u>read-only,</u> <u>floating</u> <u>point</u>
       <u>Temperature</u> read by the chip at high resolution (~13 bits). Units are selected from the invoking  command
       line. See <b><a href="../man1/owfs.1.html">owfs</a>(1)</b> or <b><a href="../man1/owhttpd.1.html">owhttpd</a>(1)</b> for choices. Default is Celsius.
       Conversion is continuous.

   <b>vbias</b>
       <u>read-write,</u> <u>floating</u> <u>point</u>
       Fixed offset applied to each <u>vis</u> measurement. Used for the <u>volthours</u> value. Units are in <b>Volts.</b>
       Range -2.0mV to 2.0mV

   <b>vis</b>
       <u>read-only,</u> <u>floating</u> <u>point</u>
       Current  sensor  reading (unknown external resistor). Measures the voltage gradient between the Vis pins.
       Units are in <b>Volts</b>
       The <u>vis</u> readings are integrated over time to provide the <u>volthours</u> property.
       The <u>current</u> reading is derived from <u>vis</u> assuming the internal 25 mOhm resistor is employed. There  is  no
       way to know this through software.

   <b>vis_avg</b>
       <u>read-only,</u> <u>floating</u> <u>point</u>
       Average current sensor reading (unknown external resistor). Measures the voltage gradient between the Vis
       pins. Units are in <b>Volts</b>

   <b>vis_offset</b>
       <u>read-write,</u> <u>floating</u> <u>point</u>
       Offset to <u>vis</u> for current sensor reading (unknown external resistor). Units are in <b>Volts</b>

   <b>volt</b>
       <u>read-only,</u> <u>floating</u> <u>point</u>
       Voltage  read  at  the  voltage  sensor;.  This is separate from the <u>vis</u> voltage that is used for <u>current</u>
       measurement. Units are <b>Volts</b>
       Range is between 0 and 4.75V

   <b>volthours</b>
       <u>read-write,</u> <u>floating</u> <u>point</u>
       Integral of <u>vis</u> <u>-</u> <u>vbias</u> over time. Units are in <b>volthours</b>

</pre><h4><b>THERMOCOUPLE</b></h4><pre>
   <b>typeX/</b>
       <u>directory</u>
       Thermocouple circuit using the <u>DS2781</u> to read the Seebeck voltage and the  reference  temperature.  Since
       the  type  interpretation  of  the values read depends on the type of thermocouple, the correct directory
       must be chosen. Supported thermocouple types include types B, E, J, K, N, R, S and T.

   <b>typeX/range_low</b> <b>typeX/ranges_high</b>
       <u>read-only,</u> <u>flaoting</u> <u>point</u>
       The lower and upper temperature supported by this thermocouple (at least by the conversion routines).  In
       the globally chosen temperature units.

   <b>typeX/temperature</b>
       <u>read-only,</u> <u>floating</u> <u>point</u>
       Thermocouple  temperature.  Requires  a  voltage  and temperature conversion. Returned in globally chosen
       temperature units.
       Note: there are two types of temperature measurements possible. The <u>temperature</u> value in the main  device
       directory  is  the  reference  temperature  read  at  the  chip.  The  <u>typeX/temperature</u>  value is at the
       thermocouple junction, probably remote from the chip.

</pre><h4><b>OBSCURE</b> <b>PROPERTIES</b></h4><pre>
   <b>aef</b> <b>chgtf</b> <b>learnf</b> <b>pmod</b> <b>porf</b> <b>sef</b> <b>uven</b> <b>uvf</b>
       <u>varies,</u> <u>yes-no</u>
       Bit flags corresponding to various battery management functions  of  the  chip.  See  the  <u>DATASHEET</u>  for
       details of the identically named entries.
       In general, writing "0" corresponds to a 0 bit value, and non-zero corresponds to a 1 bit value.

</pre><h4><b>STANDARD</b> <b>PROPERTIES</b></h4><pre>
   <b>address</b>
   <b>r_address</b>
       <u>read-only,</u> <u>ascii</u>
       The entire 64-bit unique ID. Given as upper case hexadecimal digits (0-9A-F).
       <u>address</u> starts with the <u>family</u> code
       <u>r</u> <u>address</u> is the <u>address</u> in reverse order, which is often used in other applications and labeling.

   <b>crc8</b>
       <u>read-only,</u> <u>ascii</u>
       The  8-bit error correction portion. Uses cyclic redundancy check. Computed from the preceding 56 bits of
       the unique ID number. Given as upper case hexadecimal digits (0-9A-F).

   <b>family</b>
       <u>read-only,</u> <u>ascii</u>
       The 8-bit family code. Unique to each <u>type</u> of device. Given as upper case hexadecimal digits (0-9A-F).

   <b>id</b>
   <b>r_id</b>
       <u>read-only,</u> <u>ascii</u>
       The 48-bit middle portion of the unique ID number. Does not include the family  code  or  CRC.  Given  as
       upper case hexadecimal digits (0-9A-F).
       <u>r</u> <u>id</u> is the <u>id</u> in reverse order, which is often used in other applications and labeling.

   <b>locator</b>
   <b>r_locator</b>
       <u>read-only,</u> <u>ascii</u>
       Uses  an  extension  of  the  1-wire  design  from  iButtonLink  company  that associated 1-wire physical
       connections with a unique 1-wire code. If the connection is behind a <b>Link</b> <b>Locator</b> the <u>locator</u> <u>will</u> <u>show</u> <u>a</u>
       <u>unique</u> <u>8-byte</u> <u>number</u> <u>(16</u> <u>character</u> <u>hexadecimal)</u> <u>starting</u> <u>with</u> <u>family</u> <u>code</u> <u>FE.</u>
       If no <b>Link</b> <b>Locator</b> is between the device and the master, the <u>locator</u> field will be all FF.
       <u>r</u> <u>locator</u> is the <u>locator</u> in reverse order.

   <b>present</b> <b>(DEPRECATED)</b>
       <u>read-only,</u> <u>yes-no</u>
       Is the device currently <u>present</u> on the 1-wire bus?

   <b>type</b>
       <u>read-only,</u> <u>ascii</u>
       Part name assigned by Dallas Semi. E.g.  <u>DS2401</u> Alternative packaging  (iButton  vs  chip)  will  not  be
       distiguished.

</pre><h4><b>ALARMS</b></h4><pre>
       None.

</pre><h4><b>DESCRIPTION</b></h4><pre>
   <b>1-Wire</b>
       <u>1-wire</u> is a wiring protocol and series of devices designed and manufactured by Dallas Semiconductor, Inc.
       The bus is a low-power low-speed low-connector scheme where the data line can also provide power.

       Each device is uniquely and unalterably numbered during manufacture. There are a wide variety of devices,
       including  memory,  sensors (humidity, temperature, voltage, contact, current), switches, timers and data
       loggers. More complex devices (like thermocouple sensors) can be built with these  basic  devices.  There
       are also 1-wire devices that have encryption included.

       The 1-wire scheme uses a single <u>bus</u> <u>master</u> and multiple <u>slaves</u> on the same wire. The bus master initiates
       all communication. The slaves can be individually discovered and addressed using their unique ID.

       Bus masters come in a variety of configurations including serial, parallel, i2c, network or USB adapters.

   <b>OWFS</b> <b>design</b>
       <u>OWFS</u>  is  a suite of programs that designed to make the 1-wire bus and its devices easily accessible. The
       underlying principle is to create a virtual filesystem, with the unique ID being the directory,  and  the
       individual properties of the device are represented as simple files that can be read and written.

       Details of the individual slave or master design are hidden behind a consistent interface. The goal is to
       provide  an easy set of tools for a software designer to create monitoring or control applications. There
       are some performance enhancements in the implementation, including data caching, parallel access  to  bus
       masters,  and  aggregation  of  device  communication.  Still  the fundamental goal has been ease of use,
       flexibility and correctness rather than speed.

   <b>DS2781</b>
       The <b>DS2781</b> <b>(3)</b> is a battery charging controller. It  has  elaborate  algorithms  for  estimating  battery
       capacity.

       A  number  of  interesting  devices  can  be  built  with the <b>DS2781</b> including thermocouples. Support for
       thermocouples in built into the software, using the embedded thermister as the cold junction temperature.

</pre><h4><b>ADDRESSING</b></h4><pre>
       All 1-wire devices are factory assigned a unique 64-bit address. This address is of the form:

       <b>Family</b> <b>Code</b>
              8 bits

       <b>Address</b>
              48 bits

       <b>CRC</b>    8 bits

       Addressing under OWFS is in hexadecimal, of form:

              <b>01.123456789ABC</b>

       where <b>01</b> is an example 8-bit family code, and <b>12345678ABC</b> is an example 48 bit address.

       The dot is optional, and the CRC code can included. If included, it must be correct.

</pre><h4><b>DATASHEET</b></h4><pre>
       <a href="http://pdfserv.maxim-ic.com/en/ds/DS2781.pdf">http://pdfserv.maxim-ic.com/en/ds/DS2781.pdf</a>

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
   <b>Programs</b>
       <b>owfs</b> <b>(1)</b> <b>owhttpd</b> <b>(1)</b> <b>owftpd</b> <b>(1)</b> <b>owserver</b> <b>(1)</b> <b>owdir</b> <b>(1)</b> <b>owread</b> <b>(1)</b> <b>owwrite</b> <b>(1)</b> <b>owpresent</b> <b>(1)</b> <b>owtap</b> <b>(1)</b>

   <b>Configuration</b> <b>and</b> <b>testing</b>
       <b>owfs</b> <b>(5)</b> <b>owtap</b> <b>(1)</b> <b>owmon</b> <b>(1)</b>

   <b>Language</b> <b>bindings</b>
       <b>owtcl</b> <b>(3)</b> <b>owperl</b> <b>(3)</b> <b>owcapi</b> <b>(3)</b>

   <b>Clocks</b>
       <b>DS1427</b> <b>(3)</b> <b>DS1904</b> <b>(3)</b> <b>DS1994</b> <b>(3)</b> <b>DS2404</b> <b>(3)</b> <b>DS2404S</b> <b>(3)</b> <b>DS2415</b> <b>(3)</b> <b>DS2417</b> <b>(3)</b>

   <b>ID</b>
       <b>DS2401</b> <b>(3)</b> <b>DS2411</b> <b>(3)</b> <b>DS1990A</b> <b>(3)</b>

   <b>Memory</b>
       <b>DS1982</b> <b>(3)</b> <b>DS1985</b> <b>(3)</b> <b>DS1986</b> <b>(3)</b> <b>DS1991</b> <b>(3)</b> <b>DS1992</b> <b>(3)</b> <b>DS1993</b> <b>(3)</b>  <b>DS1995</b>  <b>(3)</b>  <b>DS1996</b>  <b>(3)</b>  <b>DS2430A</b>  <b>(3)</b>
       <b>DS2431</b> <b>(3)</b> <b>DS2433</b> <b>(3)</b> <b>DS2502</b> <b>(3)</b> <b>DS2506</b> <b>(3)</b> <b>DS28E04</b> <b>(3)</b> <b>DS28EC20</b> <b>(3)</b>

   <b>Switches</b>
       <b>DS2405</b> <b>(3)</b> <b>DS2406</b> <b>(3)</b> <b>DS2408</b> <b>(3)</b> <b>DS2409</b> <b>(3)</b> <b>DS2413</b> <b>(3)</b> <b>DS28EA00</b> <b>(3)</b> <b>InfernoEmbedded</b> <b>(3)</b>

   <b>Temperature</b>
       <b>DS1822</b>  <b>(3)</b>  <b>DS1825</b>  <b>(3)</b> <b>DS1820</b> <b>(3)</b> <b>DS18B20</b> <b>(3)</b> <b>DS18S20</b> <b>(3)</b> <b>DS1920</b> <b>(3)</b> <b>DS1921</b> <b>(3)</b> <b>DS1821</b> <b>(3)</b> <b>DS28EA00</b> <b>(3)</b>
       <b>DS28E04</b> <b>(3)</b> <b>EDS0064</b> <b>(3)</b> <b>EDS0065</b> <b>(3)</b> <b>EDS0066</b> <b>(3)</b> <b>EDS0067</b> <b>(3)</b> <b>EDS0068</b> <b>(3)</b> <b>EDS0071</b> <b>(3)</b> <b>EDS0072</b> <b>(3)</b>  <b>MAX31826</b>
       <b>(3)</b>

   <b>Humidity</b>
       <b>DS1922</b> <b>(3)</b> <b>DS2438</b> <b>(3)</b> <b>EDS0065</b> <b>(3)</b> <b>EDS0068</b> <b>(3)</b>

   <b>Voltage</b>
       <b>DS2450</b> <b>(3)</b>

   <b>Resistance</b>
       <b>DS2890</b> <b>(3)</b>

   <b>Multifunction</b> <b>(current,</b> <b>voltage,</b> <b>temperature)</b>
       <b>DS2436</b> <b>(3)</b> <b>DS2437</b> <b>(3)</b> <b>DS2438</b> <b>(3)</b> <b>DS2751</b> <b>(3)</b> <b>DS2755</b> <b>(3)</b> <b>DS2756</b> <b>(3)</b> <b>DS2760</b> <b>(3)</b> <b>DS2770</b> <b>(3)</b> <b>DS2780</b> <b>(3)</b> <b>DS2781</b>
       <b>(3)</b> <b>DS2788</b> <b>(3)</b> <b>DS2784</b> <b>(3)</b>

   <b>Counter</b>
       <b>DS2423</b> <b>(3)</b>

   <b>LCD</b> <b>Screen</b>
       <b>LCD</b> <b>(3)</b> <b>DS2408</b> <b>(3)</b>

   <b>Crypto</b>
       <b>DS1977</b> <b>(3)</b>

   <b>Pressure</b>
       <b>DS2406</b> <b>(3)</b> <b>TAI8570</b> <b>(3)</b> <b>EDS0066</b> <b>(3)</b> <b>EDS0068</b> <b>(3)</b>

   <b>Moisture</b>
       <b>EEEF</b> <b>(3)</b> <b>DS2438</b> <b>(3)</b>

</pre><h4><b>AVAILABILITY</b></h4><pre>
       <a href="http://www.owfs.org">http://www.owfs.org</a>

</pre><h4><b>AUTHOR</b></h4><pre>
       Paul Alfille (<a href="mailto:paul.alfille@gmail.com">paul.alfille@gmail.com</a>)

OWFS Manpage                                          2003                                             <u><a href="../man3/DS2760.3.html">DS2760</a></u>(3)
</pre>
 </div>
</div></section>
</div>
</body>
</html>