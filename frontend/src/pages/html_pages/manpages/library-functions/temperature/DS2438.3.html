<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DS2438 - Smart Battery Monitor</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/owfs-doc">owfs-doc_3.2p4+dfsg1-6_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       <b>DS2438</b> - Smart Battery Monitor

</pre><h4><b>SYNOPSIS</b></h4><pre>
   <b>Temperature</b> <b>Voltages</b> <b>and</b> <b>Current.</b>
       <b>26</b>  [.]XXXXXXXXXXXX[XX][/[  <b>CA</b>  |  <b>EE</b>  |  <b>date</b>  |  <b>disconnect/date</b>  | <b>disconnect/udate</b> | <b>endcharge/date</b> |
       <b>endcharge/udate</b> | <b>IAD</b> | <b>offset</b> | <b>pages/page.[0-7|ALL]</b> | <b>temperature</b> | <b>latesttemp</b> | <b>udate</b> | <b>VAD</b>  |  <b>VDD</b>  |
       <b>vis</b> | <b>address</b> | <b>crc8</b> | <b>id</b> | <b>locator</b> | <b>r_address</b> | <b>r_id</b> | <b>r_locator</b> | <b>type</b> ]]

   <b>Humidity</b> <b>sensor</b>
       <b>26</b>  [.]XXXXXXXXXXXX[XX][/[  <b>HIH4000/humidity</b>  |  <b>HIH5030/humidity</b>  |  <b>HTM1735/humidity</b>  | <b>DATANAB/reset</b> |
       <b>DATANAB/humidity</b> | <b>humidity</b> | <b>temperature</b> ]]

   <b>Barometer</b>
       <b>26</b> [.]XXXXXXXXXXXX[XX][/[ <b>B1-R1-A/pressure</b> | <b>B1-R1-A/gain</b> | <b>B1-R1-A/offset</b> | ]]

   <b>Light</b>
       <b>26</b> [.]XXXXXXXXXXXX[XX][/[ <b>S3-R1-A/current</b> | <b>S3-R1-A/illuminance</b> | <b>S3-R1-A/gain</b> ]]

</pre><h4><b>FAMILY</b> <b>CODE</b></h4><pre>
       <u>26</u>

</pre><h4><b>SPECIAL</b> <b>PROPERTIES</b></h4><pre>
   <b>pages/page.0</b> <b>...</b> <b>pages/page.7</b> <b>pages/page.ALL</b>
       <u>read-write,</u> <u>binary</u>
       Memory is split into 8 pages of 8 bytes each. Only the pages 3-7 are really available, and some  of  that
       appears to be reserved. See the datasheet for details.
       <u>ALL</u> is an aggregate of the pages. Each page is accessed sequentially.

   <b>temperature</b>
       <u>read-only,</u> <u>floating</u> <u>point</u>
       <u>Temperature</u>  read by the chip at high resolution (~13 bits). Units are selected from the invoking command
       line. See <b><a href="../man1/owfs.1.html">owfs</a>(1)</b> or <b><a href="../man1/owhttpd.1.html">owhttpd</a>(1)</b> for choices. Default is Celsius.  Conversion takes ~20 msec.

   <b>latesttemp</b>
       <u>read-only,</u> <u>floating</u> <u>point</u>
       Latest measured temperature. Reading this node will never trigger a temperature conversion. Intended  for
       use in conjunction with <b>/simultaneous/temperature.</b>

   <b>VAD</b> <b>VDD</b>
       <u>read-only,</u> <u>floating</u> <u>point</u>
       Voltage  read (~10 bits) at the one of the chip's two supply voltages. Range VDD= 2.4V to 10V, VAD=1.5 to
       10V.

   <b>vis</b>
       <u>read-only,</u> <u>floating</u> <u>point</u>
       Current sensor reading, as a voltage difference. Value is in volts.
       Actual current depends on Rsens resistor (see datasheet).
       The formula for current is I = vis / Rsens
       with units in Amps and Ohms.
       Current measurement will be temporarily enabled (see <u>Ienable</u> ) if not currently  enabled  (pun  intended)
       for this reading.

</pre><h4><b>CONFIGURATION</b> <b>PROPERTIES</b></h4><pre>
   <b>CA</b>
       <u>read-write,</u> <u>yes-no</u>
       <u>Current</u>  <u>Accumulator</u>  <u>Configuration</u> flag bit. If "on" (1) current is stored in page 7 bytes 4-7. If "off"
       (0) that page can be used for general storage. See the datasheet for more information.

   <b>EE</b>
       <u>read-write,</u> <u>yes-no</u>
       <u>Current</u> <u>Accumulator</u> <u>Shadow</u> flag bit. If "on" (1) current reading is stored to EEPROM. If "off"  (0)  that
       data will be lost when chip loses power. See the datasheet for more information

   <b>IAD</b>
       <u>read-write,</u> <u>yes-no</u>
       <u>Current</u> <u>A/D</u> <u>Control</u> flag bit. If "on" (1) current measured at 36.41 Hz. If "off" (0) current measurements
       won't be made. See the datasheet for more information.

</pre><h4><b>DATE</b> <b>PROPERTIES</b></h4><pre>
   <b>date</b>
       <u>read-write,</u> <u>ascii</u>
       26 character date representation of the <u>counter</u> value. Increments once per second.
       Setting <u>date</u> to a null string will put the current system time.
       Accepted date formats are:
         Sat[urday] March 12 12:23:59 2001
         Apr[il] 4 9:34:56 2002
         3/23/04 23:34:57
         current locale setting (your system's format)

   <b>disconnect/date</b>
       <u>read-write,</u> <u>ascii</u>
       26  character  date representation of the <u>disconnect/udate</u> value. Time when the battery pack waws removed
       from the charger. Format is the same as the <u>date</u> property.

   <b>disconnect/udate</b>
       <u>read-write,</u> <u>unsigned</u> <u>integer</u>
       Representation of <u>disconnect/date</u> as a number. See <u>udate</u> for details.

   <b>endcharge/date</b>
       <u>read-write,</u> <u>ascii</u>
       26 character date representation of the <u>endcharge/udate</u> value. Format is the same as the <u>date</u> property.

   <b>endcharge/udate</b>
       <u>read-write,</u> <u>unsigned</u> <u>integer</u>
       Representation of <u>endcharge/date</u> as a number. See <u>udate</u> for details.

   <b>udate</b>
       <u>read-write,</u> <u>unsigned</u> <u>integer</u>
       Time represented as a number.  <u>udate</u> increments once per second.
       Usually set to unix time standard: number of seconds since Jan 1, 1970. The <u>date</u> field will be  the  unix
       representation (ascii text) of <u>udate</u> and setting either will change the other.

</pre><h4><b>HUMIDITY</b> <b>PROPERTIES</b></h4><pre>
   <b>HIH4000/humidity</b>
       <u>read-only,</u> <u>floating</u> <u>point</u>
       Relative humidity, as percent (1-100 scale).
       This value is for a design based on Honeywell's HIH-4000 humidity sensor.

   <b>HIH5030/humidity</b>
       <u>read-only,</u> <u>floating</u> <u>point</u>
       Relative humidity, as percent (1-100 scale).
       This value is for a design based on Honeywell's HIH-5030/5031 humidity sensor.

   <b>HTM1735/humidity</b>
       <u>read-only,</u> <u>floating</u> <u>point</u>
       Relative humidity, as percent (1-100 scale).
       This value is for a design based on Humirel's HTM-1735 humidity sensor.

   <b>DATANAB/humidity</b>
       <u>read-only,</u> <u>floating</u> <u>point</u>
       Based  on  DataNAB's  humidity  sensor.  It  uses  a HIH-4000 sensor and the current sensning rather than
       voltage readings from the DS2438. Calibration values are stored on chip, and a check field is  stored  in
       chip memory.

   <b>DATANAB/reset</b>
       <u>write-only,</u> <u>yes-no</u>
       Used  to read calibration values and set the chip to current reading more. Should be automatically called
       when a humidity reading is requested.

   <b>humidity</b>
       <u>read-only,</u> <u>floating</u> <u>point</u>
       Relative humidity, as percent (1-100 scale).
       The <b>DS2438</b> actually does not read humidity, but a widely available and publicised circuit  based  on  the
       chip,  does.  This  design  is  for  the  common  Honeywell HIH-3610 humidity chip. The mostly compatible
       HIH-4000 chip uses different temperature compensation, so is better read from the <u>HIH4000/humidity</u> value.
       See the datasheets for details.
       If the chip is instead a DATANAB design, the <u>DATANAB/humidity</u> value will be automatically used.

</pre><h4><b>BAROMETER</b> <b>PROPERTIES</b></h4><pre>
   <b>B1-R1-A/pressure</b>
       <u>read-only,</u> <u>floating</u> <u>point</u>
       Pressure reading, as milli-bars, or other unit depending on <u>settings/units/pressure_scale</u>.
       This value is for the B1-R1-A barometer from Hobby-Boards, and assumes the standard calibration.

   <b>B1-R1-A/gain</b>
       <u>read/write,</u> <u>floating</u> <u>point</u>
       Calibration of pressure gain, as signed number, expressed as the same units as <u>B1-R1-A/pressure</u> per volt.
       This value will be multiplied with the measured voltage to get the <u>B1-R1-A/pressure</u> reading. It may  have
       to  be  fine  tuned  for  calibration  purposes, although with the standard sensor, it will often be good
       enough to keep it as is.

   <b>B1-R1-A/offset</b>
       <u>read/write,</u> <u>floating</u> <u>point</u>
       Calibration of pressure offset, as signed number, same units as <u>B1-R1-A/pressure.</u>
       This value will be added to the <u>B1-R1-A/pressure</u> reading. The default value is 904.7 millibars, which may
       be altered to to compensate for elevation.

</pre><h4><b>SOLAR</b> <b>SENSOR</b> <b>PROPERTIES</b></h4><pre>
   <b>S3-R1-A/current</b>
       <u>read-only,</u> <u>floating</u> <u>point</u>
       Photo-diode current, in micro-amperes.
       This value is for the S3-R1-A solar radiation sensor from Hobby-Boards.  Due to noise and  offsets,  this
       value  may  read  as  a  negative number in low light conditions.  The <u>offset</u> register can be modified to
       reduce the offset as much as possible.

   <b>S3-R1-A/illumination</b>
       <u>read-only,</u> <u>floating</u> <u>point</u>
       Illumination, in lux. Always a positive number.
       This value is the lux reading from the solar sensor, taking <u>S3-R1-A/gain</u> <u>into</u> <u>consideration.</u>

   <b>S3-R1-A/gain</b>
       <u>read/write,</u> <u>floating</u> <u>point</u>
       Calibration of photo-diode gain expressed as lux per micro-amperes.  The default value is for the SFH203P
       photo-diode from Osram, used bare.  A different gain may be  used  for  instance  to  compensate  for  an
       integrathing, white sphere placed over the diode.
       This  value  is  for  the S3-R1-A solar radiation sensor from Hobby-Boards, using the SFH203P photo-diode
       from Osram.

</pre><h4><b>MULTISENSOR</b> <b>PROPERTIES</b></h4><pre>
   <b>MultiSensor/type</b>
       <u>read-only,</u> <u>ascii</u>
       For <u>iButtonLink's</u> <u>MultiSensor</u> line of 1-wire devices, give the specific configuration  based  on  a  data
       byte  set  in  memory.  (Byte  0  of  page  3).   This  can  help  interpretation  of  the sensor values,
       distinguishing, current from water from light.

   <b>offset</b>
       <u>read-write,</u> <u>integer</u>
       Correction for <u>current</u> readings. A value between -256 and 255. See the datasheet for details.  Should  be
       set to the negative of a true zero <u>current</u> reading.

</pre><h4><b>STANDARD</b> <b>PROPERTIES</b></h4><pre>
   <b>address</b>
   <b>r_address</b>
       <u>read-only,</u> <u>ascii</u>
       The entire 64-bit unique ID. Given as upper case hexadecimal digits (0-9A-F).
       <u>address</u> starts with the <u>family</u> code
       <u>r</u> <u>address</u> is the <u>address</u> in reverse order, which is often used in other applications and labeling.

   <b>crc8</b>
       <u>read-only,</u> <u>ascii</u>
       The  8-bit error correction portion. Uses cyclic redundancy check. Computed from the preceding 56 bits of
       the unique ID number. Given as upper case hexadecimal digits (0-9A-F).

   <b>family</b>
       <u>read-only,</u> <u>ascii</u>
       The 8-bit family code. Unique to each <u>type</u> of device. Given as upper case hexadecimal digits (0-9A-F).

   <b>id</b>
   <b>r_id</b>
       <u>read-only,</u> <u>ascii</u>
       The 48-bit middle portion of the unique ID number. Does not include the family  code  or  CRC.  Given  as
       upper case hexadecimal digits (0-9A-F).
       <u>r</u> <u>id</u> is the <u>id</u> in reverse order, which is often used in other applications and labeling.

   <b>locator</b>
   <b>r_locator</b>
       <u>read-only,</u> <u>ascii</u>
       Uses  an  extension  of  the  1-wire  design  from  iButtonLink  company  that associated 1-wire physical
       connections with a unique 1-wire code. If the connection is behind a <b>Link</b> <b>Locator</b> the <u>locator</u> <u>will</u> <u>show</u> <u>a</u>
       <u>unique</u> <u>8-byte</u> <u>number</u> <u>(16</u> <u>character</u> <u>hexadecimal)</u> <u>starting</u> <u>with</u> <u>family</u> <u>code</u> <u>FE.</u>
       If no <b>Link</b> <b>Locator</b> is between the device and the master, the <u>locator</u> field will be all FF.
       <u>r</u> <u>locator</u> is the <u>locator</u> in reverse order.

   <b>present</b> <b>(DEPRECATED)</b>
       <u>read-only,</u> <u>yes-no</u>
       Is the device currently <u>present</u> on the 1-wire bus?

   <b>type</b>
       <u>read-only,</u> <u>ascii</u>
       Part name assigned by Dallas Semi. E.g.  <u>DS2401</u> Alternative packaging  (iButton  vs  chip)  will  not  be
       distiguished.

</pre><h4><b>ALARMS</b></h4><pre>
       None.

</pre><h4><b>DESCRIPTION</b></h4><pre>
   <b>1-Wire</b>
       <u>1-wire</u> is a wiring protocol and series of devices designed and manufactured by Dallas Semiconductor, Inc.
       The bus is a low-power low-speed low-connector scheme where the data line can also provide power.

       Each device is uniquely and unalterably numbered during manufacture. There are a wide variety of devices,
       including  memory,  sensors (humidity, temperature, voltage, contact, current), switches, timers and data
       loggers. More complex devices (like thermocouple sensors) can be built with these  basic  devices.  There
       are also 1-wire devices that have encryption included.

       The 1-wire scheme uses a single <u>bus</u> <u>master</u> and multiple <u>slaves</u> on the same wire. The bus master initiates
       all communication. The slaves can be individually discovered and addressed using their unique ID.

       Bus masters come in a variety of configurations including serial, parallel, i2c, network or USB adapters.

   <b>OWFS</b> <b>design</b>
       <u>OWFS</u>  is  a suite of programs that designed to make the 1-wire bus and its devices easily accessible. The
       underlying principle is to create a virtual filesystem, with the unique ID being the directory,  and  the
       individual properties of the device are represented as simple files that can be read and written.

       Details of the individual slave or master design are hidden behind a consistent interface. The goal is to
       provide  an easy set of tools for a software designer to create monitoring or control applications. There
       are some performance enhancements in the implementation, including data caching, parallel access  to  bus
       masters,  and  aggregation  of  device  communication.  Still  the fundamental goal has been ease of use,
       flexibility and correctness rather than speed.

   <b>DS2438</b>
       The <b>DS2438</b> <b>(3)</b> is a more complete form of the <b>DS2436</b> battery chip. Current sensing is available, but  not
       implemented. The major advantage compared to the <b>DS2436</b> is that two voltages can be read, allowing one to
       correct circuit measurements for supply voltage and temperature. A better comparison is the <b>DS276x</b> family
       of chips.

</pre><h4><b>ADDRESSING</b></h4><pre>
       All 1-wire devices are factory assigned a unique 64-bit address. This address is of the form:

       <b>Family</b> <b>Code</b>
              8 bits

       <b>Address</b>
              48 bits

       <b>CRC</b>    8 bits

       Addressing under OWFS is in hexadecimal, of form:

              <b>01.123456789ABC</b>

       where <b>01</b> is an example 8-bit family code, and <b>12345678ABC</b> is an example 48 bit address.

       The dot is optional, and the CRC code can included. If included, it must be correct.

</pre><h4><b>DATASHEET</b></h4><pre>
       <a href="http://pdfserv.maxim-ic.com/en/ds/DS2438.pdf">http://pdfserv.maxim-ic.com/en/ds/DS2438.pdf</a>
       <a href="http://pdfserv.maxim-ic.com/en/an/humsensor.pdf">http://pdfserv.maxim-ic.com/en/an/humsensor.pdf</a>
       <a href="http://goo.gl/o9DH0">http://goo.gl/o9DH0</a> (Redirects to 009012_2.pdf PDF file on honeywell.com website)
       <a href="http://www.phanderson.com/hih-4000.pdf">http://www.phanderson.com/hih-4000.pdf</a>
       <a href="http://www.humirel.com/product/fichier/HTM1735">http://www.humirel.com/product/fichier/HTM1735</a>%20RevG%20.pdf

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
   <b>Programs</b>
       <b>owfs</b> <b>(1)</b> <b>owhttpd</b> <b>(1)</b> <b>owftpd</b> <b>(1)</b> <b>owserver</b> <b>(1)</b> <b>owdir</b> <b>(1)</b> <b>owread</b> <b>(1)</b> <b>owwrite</b> <b>(1)</b> <b>owpresent</b> <b>(1)</b> <b>owtap</b> <b>(1)</b>

   <b>Configuration</b> <b>and</b> <b>testing</b>
       <b>owfs</b> <b>(5)</b> <b>owtap</b> <b>(1)</b> <b>owmon</b> <b>(1)</b>

   <b>Language</b> <b>bindings</b>
       <b>owtcl</b> <b>(3)</b> <b>owperl</b> <b>(3)</b> <b>owcapi</b> <b>(3)</b>

   <b>Clocks</b>
       <b>DS1427</b> <b>(3)</b> <b>DS1904</b> <b>(3)</b> <b>DS1994</b> <b>(3)</b> <b>DS2404</b> <b>(3)</b> <b>DS2404S</b> <b>(3)</b> <b>DS2415</b> <b>(3)</b> <b>DS2417</b> <b>(3)</b>

   <b>ID</b>
       <b>DS2401</b> <b>(3)</b> <b>DS2411</b> <b>(3)</b> <b>DS1990A</b> <b>(3)</b>

   <b>Memory</b>
       <b>DS1982</b>  <b>(3)</b>  <b>DS1985</b>  <b>(3)</b>  <b>DS1986</b>  <b>(3)</b>  <b>DS1991</b> <b>(3)</b> <b>DS1992</b> <b>(3)</b> <b>DS1993</b> <b>(3)</b> <b>DS1995</b> <b>(3)</b> <b>DS1996</b> <b>(3)</b> <b>DS2430A</b> <b>(3)</b>
       <b>DS2431</b> <b>(3)</b> <b>DS2433</b> <b>(3)</b> <b>DS2502</b> <b>(3)</b> <b>DS2506</b> <b>(3)</b> <b>DS28E04</b> <b>(3)</b> <b>DS28EC20</b> <b>(3)</b>

   <b>Switches</b>
       <b>DS2405</b> <b>(3)</b> <b>DS2406</b> <b>(3)</b> <b>DS2408</b> <b>(3)</b> <b>DS2409</b> <b>(3)</b> <b>DS2413</b> <b>(3)</b> <b>DS28EA00</b> <b>(3)</b> <b>InfernoEmbedded</b> <b>(3)</b>

   <b>Temperature</b>
       <b>DS1822</b> <b>(3)</b> <b>DS1825</b> <b>(3)</b> <b>DS1820</b> <b>(3)</b> <b>DS18B20</b> <b>(3)</b> <b>DS18S20</b> <b>(3)</b> <b>DS1920</b> <b>(3)</b> <b>DS1921</b> <b>(3)</b> <b>DS1821</b>  <b>(3)</b>  <b>DS28EA00</b>  <b>(3)</b>
       <b>DS28E04</b>  <b>(3)</b> <b>EDS0064</b> <b>(3)</b> <b>EDS0065</b> <b>(3)</b> <b>EDS0066</b> <b>(3)</b> <b>EDS0067</b> <b>(3)</b> <b>EDS0068</b> <b>(3)</b> <b>EDS0071</b> <b>(3)</b> <b>EDS0072</b> <b>(3)</b> <b>MAX31826</b>
       <b>(3)</b>

   <b>Humidity</b>
       <b>DS1922</b> <b>(3)</b> <b>DS2438</b> <b>(3)</b> <b>EDS0065</b> <b>(3)</b> <b>EDS0068</b> <b>(3)</b>

   <b>Voltage</b>
       <b>DS2450</b> <b>(3)</b>

   <b>Resistance</b>
       <b>DS2890</b> <b>(3)</b>

   <b>Multifunction</b> <b>(current,</b> <b>voltage,</b> <b>temperature)</b>
       <b>DS2436</b> <b>(3)</b> <b>DS2437</b> <b>(3)</b> <b>DS2438</b> <b>(3)</b> <b>DS2751</b> <b>(3)</b> <b>DS2755</b> <b>(3)</b> <b>DS2756</b> <b>(3)</b> <b>DS2760</b> <b>(3)</b> <b>DS2770</b> <b>(3)</b> <b>DS2780</b> <b>(3)</b> <b>DS2781</b>
       <b>(3)</b> <b>DS2788</b> <b>(3)</b> <b>DS2784</b> <b>(3)</b>

   <b>Counter</b>
       <b>DS2423</b> <b>(3)</b>

   <b>LCD</b> <b>Screen</b>
       <b>LCD</b> <b>(3)</b> <b>DS2408</b> <b>(3)</b>

   <b>Crypto</b>
       <b>DS1977</b> <b>(3)</b>

   <b>Pressure</b>
       <b>DS2406</b> <b>(3)</b> <b>TAI8570</b> <b>(3)</b> <b>EDS0066</b> <b>(3)</b> <b>EDS0068</b> <b>(3)</b>

   <b>Moisture</b>
       <b>EEEF</b> <b>(3)</b> <b>DS2438</b> <b>(3)</b>

</pre><h4><b>AVAILABILITY</b></h4><pre>
       <a href="http://www.owfs.org">http://www.owfs.org</a>

</pre><h4><b>AUTHOR</b></h4><pre>
       Paul Alfille (<a href="mailto:paul.alfille@gmail.com">paul.alfille@gmail.com</a>) Egil Kvaleberg

OWFS Manpage                                          2003                                             <u><a href="../man3/DS2438.3.html">DS2438</a></u>(3)
</pre>
 </div>
</div></section>
</div>
</body>
</html>