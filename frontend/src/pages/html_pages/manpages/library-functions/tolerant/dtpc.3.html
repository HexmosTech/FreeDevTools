<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>dtpc - Delay-Tolerant Payload Conditioning (DTPC) communications library</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/jammy/+package/ion-doc">ion-doc_3.2.1+dfsg-1.1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       dtpc - Delay-Tolerant Payload Conditioning (DTPC) communications library

</pre><h4><b>SYNOPSIS</b></h4><pre>
           #include "dtpc.h"

           [see description for available functions]

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The dtpc library provides functions enabling application software to use Delay-Tolerant Payload
       Conditioning (DTPC) when exchanging information over a delay-tolerant network.  DTPC is an application
       service protocol, running in a layer immediately above Bundle Protocol, that offers delay-tolerant
       support for several end-to-end services to applications that may require them.  These services include
       delivery of application data items in transmission (rather than reception) order; detection of reception
       gaps in the sequence of transmitted application data items, with end-to-end negative acknowledgment of
       the missing data; end-to-end positive acknowledgment of successfully received data; end-to-end
       retransmission of missing data, driven either by negative acknowledgment or timer expiration; suppression
       of duplicate application data items; aggregation of small application data items into large bundle
       payloads, to reduce bundle protocol overhead; and application-controlled elision of redundant data items
       in aggregated payloads, to improve link utiliization.

       int dptc_attach( )
           Attaches  the  application  to DTPC functionality on the local computer.  Returns 0 on success, -1 on
           any error.

       void dptc_detach( )
           Terminates all access to DTPC functionality on the local computer.

       int dtpc_entity_is_started( )
           Returns 1 if the local DTPC entity has been started and not yet stopped, 0 otherwise.

       int dtpc_open(unsigned int topicID, DtpcElisionFn elisionFn, DtpcSAP *dtpcsapPtr)
           Establishes the application as the sole authorized client for posting and receiving application  data
           items  on  topic  <u>topicID</u> within the local BP node.  On success, the service access point for posting
           and receiving such data items is placed in <u>*dtpcsapPtr</u>, the elision callback function  <u>elisionFn</u>  (if
           not NULL) is associated with this topic, and 0 is returned.  Returns -1 on any error.

       int dtpc_send(unsigned int profileID, DtpcSAP sap, char *destEid, unsigned int maxRtx, unsigned int
       aggrSizeLimit, unsigned int aggrTimeLimit, int lifespan, BpExtendedCOS *extendedCOS, unsigned char
       srrFlags, BpCustodySwitch custodySwitch, char *reportToEid, int classOfService, Object item, unsigned int
       length)
           Inserts an application data item into an outbound DTPC application data unit destined for <u>destEid</u>.

           Transmission of that outbound ADU will be subject to the profile identified by <u>profileID</u>, as asserted
           by  <u><a href="../man1/dtpcadmin.1.html">dtpcadmin</a></u>(1),  if  <u>profileID</u>  is  non-zero.   In that case, <u>maxRtx</u>, <u>aggrSizeLimit</u>, <u>aggrTimeLimit</u>,
           <u>lifespan</u>, <u>extendedCOS</u>, <u>srrFlags</u>, <u>custodySwitch</u>, <u>reportToEid</u>, and <u>classOfService</u> are ignored.

           If <u>profileID</u> is zero then the profile asserted by <u><a href="../man1/dtpcadmin.1.html">dtpcadmin</a></u>(1) that  matches  <u>maxRtx</u>,  <u>aggrSizeLimit</u>,
           <u>aggrTimeLimit</u>,  <u>lifespan</u>,  <u>extendedCOS</u>, <u>srrFlags</u>, <u>custodySwitch</u>, <u>reportToEid</u>, and <u>classOfService</u> will
           govern transmission of the ADU, unless no such profile has been asserted, in which  case  <u>dtpc_send()</u>
           returns 0 indicating user error.

           <u>maxRtx</u>  is  the  maximum  number  of  times  any single DTPC ADU transmitted subject to the indicated
           profile may be retransmitted by the DTPC entity.  If <u>maxRtx</u> is zero, then the DTPC transport  service
           features (in-order delivery, end-to-end acknowledgment, etc.) are disabled for this profile.

           <u>aggrSizeLimit</u>  is  the  size  threshold  for concluding aggregation of an outbound ADU and requesting
           transmission of that ADU.  If <u>aggrSizeLimit</u> is zero, then the DTPC transmission optimization features
           (aggregation and elision) are disabled for this profile.

           <u>aggrTimeLimit</u> is the time threshold for concluding aggregation of  an  outbound  ADU  and  requesting
           transmission of that ADU.  If <u>aggrTimeLimit</u> is zero, then the DTPC transmission optimization features
           (aggregation and elision) are disabled for this profile.

           <u>lifespan</u>,  <u>extendedCOS</u>,  <u>srrFlags</u>,  <u>custodySwitch</u>, <u>reportToEid</u>, and <u>classOfService</u> are as defined for
           bp_send (see <u><a href="../man3/bp.3.html">bp</a></u>(3)).

           <u>item</u> must be an object allocated within ION's SDR "heap", and <u>length</u>  must  be  the  length  of  that
           object.   The  item  will be inserted into the outbound ADU's list of data items posted for the topic
           associated with <u>sap</u>, and the elision  callback  function  declared  for  <u>sap</u>  (if  any,  and  if  the
           applicable  profile  does not disable transmission optimization features) will be invoked immediately
           after insertion of the application data item but before DTPC makes any decision on whether or not  to
           initiate transmission of the outbound ADU.

           The function returns 1 on success, 0 on any user application error, -1 on any system error.

       int dtpc_receive(DtpcSAP sap, DtpcDelivery *dlvBuffer, int timeoutSeconds)
           Receives a single DTPC application data item, or reports on some failure of DTPC reception activity.

           The  "result"  field  of  the  dlvBuffer  structure  will be used to indicate the outcome of the data
           reception activity.

           If at least one application data item on the topic associated with <u>sap</u> has not yet been delivered  to
           the  SAP,  then  the  payload  of  the  oldest  such  item  will  be  returned  in <u>dlvBuffer</u>-&gt;<u>adu</u> and
           <u>dlvBuffer</u>-&gt;<u>result</u> will be set to PayloadPresent.  If there is no such item, <u>dtpc_receive()</u> blocks for
           up to <u>timeoutSeconds</u> while waiting for one to arrive.

           If <u>timeoutSeconds</u> is DTPC_POLL (i.e., zero) and no application data item is awaiting delivery, or  if
           <u>timeoutSeconds</u>  is  greater  than  zero  but no item arrives before <u>timeoutSeconds</u> have elapsed, then
           <u>dlvBuffer</u>-&gt;<u>result</u> will be set to ReceptionTimedOut.  If <u>timeoutSeconds</u> is  DTPC_BLOCKING  (i.e.,  -1)
           then <u>bp_receive()</u> blocks until either an item arrives or the function is interrupted by an invocation
           of <u>dtpc_interrupt()</u>.

           <u>dlvBuffer</u>-&gt;<u>result</u>  will be set to ReceptionInterrupted in the event that the calling process received
           and handled some signal other than SIGALRM while waiting for a bundle.

           <u>dlvBuffer</u>-&gt;<u>result</u> will be set  to  DtpcServiceStopped  in  the  event  that  DTPC  service  has  been
           terminated on the local node.

           The  application  data  item  delivered  in  the  DTPC  delivery structure, if any, will be an object
           allocated within ION's SDR "heap"; the length of  that  object  will  likewise  be  provided  in  the
           DtpcDelivery structure.

           Be sure to call <u>dtpc_release_delivery()</u> after every successful invocation of <u>dtpc_receive()</u>.

           The function returns 0 on success, -1 on any error.

       void dtpc_interrupt(DtpcSAP sap)
           Interrupts  a  <u>dtpc_receive()</u>  invocation that is currently blocked.  This function is designed to be
           called from a signal handler; for this purpose, <u>sap</u> may need to be obtained from a static variable.

       void dtpc_release_delivery(DtpcDelivery *dlvBuffer)
           Releases resources allocated to the indicated DTPC delivery.

       void dtpc_close(DtpcSAP sap)
           Removes the application as the sole authorized client for  posting  and  receiving  application  data
           items  on  the  topic  indicated  in  <u>sap</u> within the local BP node.  The application relinquishes its
           ability to send and receive application data items on the indicated topic.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <u><a href="../man1/dtpcadmin.1.html">dtpcadmin</a></u>(1), <u><a href="../man5/dtpcrc.5.html">dtpcrc</a></u>(5), <u><a href="../man3/bp.3.html">bp</a></u>(3)

perl v5.24.1                                       2016-07-07                           <u>dtpc::doc::pod3::<a href="../man3/dtpc.3.html">dtpc</a></u>(3)
</pre>
 </div>
</div></section>
</div>
</body>
</html>