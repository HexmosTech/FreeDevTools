<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>sd_bus_set_description, sd_bus_get_description, sd_bus_set_anonymous, sd_bus_is_anonymous,</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libsystemd-dev">libsystemd-dev_257.7-1ubuntu3_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       sd_bus_set_description, sd_bus_get_description, sd_bus_set_anonymous, sd_bus_is_anonymous,
       sd_bus_set_trusted, sd_bus_is_trusted, sd_bus_set_allow_interactive_authorization,
       sd_bus_get_allow_interactive_authorization, sd_bus_get_scope, sd_bus_get_tid, sd_bus_get_unique_name -
       Set or query properties of a bus object

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>#include</b> <b>&lt;systemd/sd-bus.h&gt;</b>

       <b>int</b> <b>sd_bus_set_description(sd_bus</b> <b>*</b><u>bus</u><b>,</b> <b>const</b> <b>char</b> <b>*</b><u>description</u><b>);</b>

       <b>int</b> <b>sd_bus_get_description(sd_bus</b> <b>*</b><u>bus</u><b>,</b> <b>const</b> <b>char</b> <b>**</b><u>description</u><b>);</b>

       <b>int</b> <b>sd_bus_set_anonymous(sd_bus</b> <b>*</b><u>bus</u><b>,</b> <b>int</b> <u>b</u><b>);</b>

       <b>int</b> <b>sd_bus_is_anonymous(sd_bus</b> <b>*</b><u>bus</u><b>);</b>

       <b>int</b> <b>sd_bus_set_trusted(sd_bus</b> <b>*</b><u>bus</u><b>,</b> <b>int</b> <u>b</u><b>);</b>

       <b>int</b> <b>sd_bus_is_trusted(sd_bus</b> <b>*</b><u>bus</u><b>);</b>

       <b>int</b> <b>sd_bus_set_allow_interactive_authorization(sd_bus</b> <b>*</b><u>bus</u><b>,</b> <b>int</b> <u>b</u><b>);</b>

       <b>int</b> <b>sd_bus_get_allow_interactive_authorization(sd_bus</b> <b>*</b><u>bus</u><b>);</b>

       <b>int</b> <b>sd_bus_get_scope(sd_bus</b> <b>*</b><u>bus</u><b>,</b> <b>const</b> <b>char</b> <b>**</b><u>scope</u><b>);</b>

       <b>int</b> <b>sd_bus_get_tid(sd_bus</b> <b>*</b><u>bus</u><b>,</b> <b>pid_t</b> <b>*</b><u>tid</u><b>);</b>

       <b>int</b> <b>sd_bus_get_unique_name(sd_bus</b> <b>*</b><u>bus</u><b>,</b> <b>const</b> <b>char</b> <b>**</b><u>unique</u><b>);</b>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       <b>sd_bus_set_description()</b> sets the description string that is used in logging to the specified string. The
       string is copied internally and freed when the bus object is deallocated. The <u>description</u> argument may be
       <b>NULL</b>, in which case the description is unset. This function must be called before the bus is started.

       <b>sd_bus_get_description()</b> returns a description string in <u>description</u>. This string may have been
       previously set with <b>sd_bus_set_description()</b> or <b><a href="../man3/sd_bus_open_with_description.3.html">sd_bus_open_with_description</a></b>(3) or similar. If not set
       this way, a default string like "system" or "user" will be returned for the system or user buses, and
       <b>-ENXIO</b> otherwise.

       <b>sd_bus_set_anonymous()</b> enables or disables "anonymous authentication", i.e. lack of authentication, of
       the bus peer. This function must be called before the bus is started. See the <b>D-Bus</b> <b>Authentication</b>
       <b>Mechanisms</b>[1] section of the D-Bus specification for details.

       <b>sd_bus_is_anonymous()</b> returns true if the bus connection allows anonymous authentication (in the sense
       described in previous paragraph).

       <b>sd_bus_set_trusted()</b> sets the "trusted" state on the <u>bus</u> object. If true, all connections on the bus are
       trusted and access to all privileged and unprivileged methods is granted. This function must be called
       before the bus is started.

       <b>sd_bus_is_trusted()</b> returns true if the bus connection is trusted (in the sense described in previous
       paragraph).

       <b>sd_bus_set_allow_interactive_authorization()</b> enables or disables interactive authorization for method
       calls. If true, messages are marked with the <b>ALLOW_INTERACTIVE_AUTHORIZATION</b> flag specified by the
       <b>D-Bus</b>[2] specification, informing the receiving side that the caller is prepared to wait for interactive
       authorization, which might take a considerable time to complete. If this flag is set, the user may be
       queried for passwords or confirmation via <b>polkit</b>[3] or a similar framework.

       <b>sd_bus_get_allow_interactive_authorization()</b> returns true if interactive authorization is allowed and
       false if not.

       <b>sd_bus_get_scope()</b> stores the scope of the given bus object in <u>scope</u>. The scope of the system bus is
       "system". The scope of a user session bus is "user". If the given bus object is not the system or a user
       session bus, <b>sd_bus_get_scope()</b> returns an error.

       <b>sd_bus_get_tid()</b> stores the kernel thread id of the thread associated with the given bus object in <u>tid</u>.
       If <u>bus</u> is a default bus object obtained by calling one of the functions of the <b><a href="../man3/sd_bus_default.3.html">sd_bus_default</a></b>(3) family
       of functions, it stores the thread id of the thread the bus object was created in. Otherwise, if the bus
       object is attached to an event loop, it stores the thread id of the thread the event loop object was
       created in. If <u>bus</u> is not a default bus object and is not attached to an event loop, <b>sd_bus_get_tid()</b>
       returns an error.

       <b>sd_bus_get_unique_name()</b> stores the unique name of the bus object on the bus in <u>unique</u>. See <b>The</b> <b>D-Bus</b>
       <b>specification</b>[4] for more information on bus names. Note that the caller does not own the string stored
       in <u>unique</u> and should not free it.

</pre><h4><b>RETURN</b> <b>VALUE</b></h4><pre>
       On success, these functions return a non-negative integer. On failure, they return a negative errno-style
       error code.

   <b>Errors</b>
       Returned errors may indicate the following problems:

       <b>-EINVAL</b>
           An argument is invalid.

       <b>-ENOPKG</b>
           The bus cannot be resolved.

       <b>-EPERM</b>
           The bus has already been started.

       <b>-ECHILD</b>
           The bus was created in a different process, library or module instance.

       <b>-ENOMEM</b>
           Memory allocation failed.

       <b>-ENODATA</b>
           The bus object passed to <b>sd_bus_get_scope()</b> was not a system or user session bus.

           Added in version 246.

       <b>-ENXIO</b>
           The bus object passed to <b>sd_bus_get_tid()</b> was not a default bus object and is not attached to an
           event loop.

           The bus object passed to <b>sd_bus_get_description()</b> did not have a <u>description</u>.

           Added in version 246.

</pre><h4><b>NOTES</b></h4><pre>
       Functions described here are available as a shared library, which can be compiled against and linked to
       with the <b>libsystemd</b> <b><a href="../man1/pkg-config.1.html">pkg-config</a></b>(1) file.

       The code described here uses <b><a href="../man3/getenv.3.html">getenv</a></b>(3), which is declared to be not multi-thread-safe. This means that
       the code calling the functions described here must not call <b><a href="../man3/setenv.3.html">setenv</a></b>(3) from a parallel thread. It is
       recommended to only do calls to <b>setenv()</b> from an early phase of the program when no other threads have
       been started.

</pre><h4><b>HISTORY</b></h4><pre>
       <b>sd_bus_set_description()</b>, <b>sd_bus_get_description()</b>, <b>sd_bus_set_anonymous()</b>, <b>sd_bus_set_trusted()</b>,
       <b>sd_bus_set_allow_interactive_authorization()</b>, and <b>sd_bus_get_allow_interactive_authorization()</b> were added
       in version 240.

       <b>sd_bus_is_anonymous()</b>, <b>sd_bus_is_trusted()</b>, <b>sd_bus_get_scope()</b>, <b>sd_bus_get_tid()</b>, and
       <b>sd_bus_get_unique_name()</b> were added in version 246.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man1/systemd.1.html">systemd</a></b>(1), <b><a href="../man3/sd-bus.3.html">sd-bus</a></b>(3), <b><a href="../man3/sd_bus_default_user.3.html">sd_bus_default_user</a></b>(3), <b><a href="../man3/sd_bus_default_system.3.html">sd_bus_default_system</a></b>(3), <b><a href="../man3/sd_bus_open_user.3.html">sd_bus_open_user</a></b>(3),
       <b><a href="../man3/sd_bus_open_system.3.html">sd_bus_open_system</a></b>(3)

</pre><h4><b>NOTES</b></h4><pre>
        1. D-Bus Authentication Mechanisms
           view-source:https://dbus.freedesktop.org/doc/dbus-specification.html#auth-mechanisms

        2. D-Bus
           view-source:https://dbus.freedesktop.org/doc/dbus-specification.html

        3. polkit
           https://www.freedesktop.org/wiki/Software/polkit

        4. The D-Bus specification
           https://dbus.freedesktop.org/doc/dbus-specification.html#message-protocol-names-bus

systemd 257.7                                                                          <u><a href="../man3/SD_BUS_SET_DESCRIPTION.3.html">SD_BUS_SET_DESCRIPTION</a></u>(3)
</pre>
 </div>
</div></section>
</div>
</body>
</html>