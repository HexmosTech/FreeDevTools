<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TPMLIB_GetTPMProperty    - Get a runtime property of the TPM</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libtpms-dev">libtpms-dev_0.9.3-0ubuntu5_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       TPMLIB_GetTPMProperty    - Get a runtime property of the TPM

</pre><h4><b>LIBRARY</b></h4><pre>
       TPM library (libtpms, -ltpms)

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>#include</b> <b>&lt;libtpms/tpm_library.h</b>&gt;

       <b>TPM_RESULT</b> <b>TPMLIB_GetTPMProperty(enum</b> <b>TPMLIB_TPMProperty,</b> <b>int</b> <b>*result);</b>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The <b>TPMLIB_GetTPMProperty()</b> call is used to retrieve run-time parameters of the TPM such as the number of
       authorization sessions it can hold or the maximum sizes of the permanent state, savestate or volatile
       state blobs.

       This function can be called before or after the TPM has been created.  The current implementation of
       libtpms will return the same value before and after the TPM was started.

       With the introduction of the function <b>TPMLIB_ChooseTPMVersion()</b>, the call to this function should be
       executed after the TPM version has been chosen. The reason is that different TPM versions may return
       different values.

       The following properties have been defined:

       <b>TPMPROP_TPM_RSA_KEY_LENGTH_MAX</b>
           The maximum size of an RSA key.

       <b>TPMPROP_TPM_BUFFER_MAX</b>
           The maximum sizes of the TPM command and result buffers.

       <b>TPMPROP_TPM_KEY_HANDLES</b>
           The number of key slots.

       <b>TPMPROP_TPM_OWNER_EVICT_KEY_HANDLES</b>
           The number of owner-evict keys.

       <b>TPMPROP_TPM_MIN_AUTH_SESSIONS</b>
           The number of authorization sessions.

       <b>TPMPROP_TPM_MIN_TRANS_SESSIONS</b>
           The number of transport sessions.

       <b>TPMPROP_TPM_MIN_DAA_SESSIONS</b>
           The number of DAA sessions.

       <b>TPMPROP_TPM_MIN_SESSION_LIST</b>
           The size of the session list.

       <b>TPMPROP_TPM_MIN_COUNTERS</b>
           The number of monotonic counters.

       <b>TPMPROP_TPM_NUM_FAMILY_TABLE_ENTRY_MIN</b>
           The number of family entries.

       <b>TPMPROP_TPM_NUM_DELEGATE_TABLE_ENTRY_MIN</b>
           The number of delegate entries.

       <b>TPMPROP_TPM_SPACE_SAFETY_MARGIN</b>
           The space safety margin used for the worst-case sizes of the savestate and volatile state blobs. This
           safety margin is not used for the size of the permanent data blob.

       <b>TPMPROP_TPM_MAX_NV_SPACE</b>
           The maximum size of the permanent data blob.

       <b>TPMPROP_TPM_MAX_SAVESTATE_SPACE</b>
           The maximum size of the savestate blob (includes the space safety margin).

       <b>TPMPROP_TPM_MAX_VOLATILESTATE_SPACE</b>
           The maximum size of the volatile state blob (includes the space saferty margin).

</pre><h4><b>ERRORS</b></h4><pre>
       <b>TPM_SUCCESS</b>
           The function completed successfully.

       <b>TPM_FAIL</b>
           An undefined property was queried.

       For a complete list of TPM error codes please consult the include file <b>libtpms/tpm_error.h</b>

</pre><h4><b>EXAMPLE</b></h4><pre>
        #include &lt;<a href="file:/usr/include/stdio.h">stdio.h</a>&gt;

        #include &lt;libtpms/tpm_library.h&gt;
        #include &lt;libtpms/tpm_error.h&gt;

        int main(void) {
            TPM_RESULT res;
            int result;
            int rc = 0;

            if (TPMLIB_MainInit() != TPM_SUCCESS) {
                fprintf(stderr, "Could not start the TPM.\n");
                return 1;
            }

            if (TPMLIB_GetTPMProperty(TPMPROP_TPM_RSA_KEY_LENGTH_MAX, &amp;result)
                != TPM_SUCCESS) {
                fprintf(stderr, "Could not read the max. size of RSA keys.\n");
                goto err_exit;
            }

            fprintf(stdout, "Max. size of RSA keys: %d\n", result);

        err_exit:
            TPMLIB_Terminate();

            return 0;
        }

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man3/TPMLIB_MainInit.3.html">TPMLIB_MainInit</a></b>(3),       <b><a href="../man3/TPMLIB_Terminate.3.html">TPMLIB_Terminate</a></b>(3),       <b><a href="../man3/TPMLIB_Process.3.html">TPMLIB_Process</a></b>(3),      <b><a href="../man3/TPMLIB_RegisterCallbacks.3.html">TPMLIB_RegisterCallbacks</a></b>(3),
       <b><a href="../man3/TPMLIB_GetVersion.3.html">TPMLIB_GetVersion</a></b>(3), <b><a href="../man3/TPMLIB_ChooseTPMVersion.3.html">TPMLIB_ChooseTPMVersion</a></b>(3)

libtpms                                            2025-06-25                           <u><a href="../man3/TPMLIB_GetTPMProperty.3.html">TPMLIB_GetTPMProperty</a></u>(3)
</pre>
 </div>
</div></section>
</div>
</body>
</html>