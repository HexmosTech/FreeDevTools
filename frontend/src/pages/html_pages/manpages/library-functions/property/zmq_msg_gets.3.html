<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>zmq_msg_gets - get message metadata property</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libzmq3-dev">libzmq3-dev_4.3.5-1build2_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       zmq_msg_gets - get message metadata property

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>const</b> <b>char</b> <b>*zmq_msg_gets</b> <b>(zmq_msg_t</b> <u>*message</u><b>,</b> <b>const</b> <b>char</b> <b>*</b><u>property</u><b>);</b>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The <u>zmq_msg_gets()</u> function shall return the string value for the metadata property specified by the
       <u>property</u> argument for the message pointed to by the <u>message</u> argument. Both the <u>property</u> argument and the
       <u>value</u> shall be NULL-terminated UTF8-encoded strings.

       Metadata is defined on a per-connection basis during the ZeroMQ connection handshake as specified in
       &lt;rfc.zeromq.org/spec:37&gt;. Applications can set metadata properties using <b><a href="../man3/zmq_setsockopt.3.html">zmq_setsockopt</a></b>(3) option
       ZMQ_METADATA. Application metadata properties must be prefixed with <u>X-</u>.

       In addition to application metadata, the following ZMTP properties can be retrieved with the
       <u>zmq_msg_gets()</u> function:

           Socket-Type
           Routing-Id

       Note: <u>Identity</u> is a deprecated alias for <u>Routing-Id</u>.

       Additionally, when available for the underlying transport, the <b>Peer-Address</b> property will return the IP
       address of the remote endpoint as returned by <a href="../man2/getnameinfo.2.html">getnameinfo</a>(2).

       The names of these properties are also defined in <u>zmq.h</u> as <u>ZMQ_MSG_PROPERTY_SOCKET_TYPE</u>
       <u>ZMQ_MSG_PROPERTY_ROUTING_ID</u>, and <u>ZMQ_MSG_PROPERTY_PEER_ADDRESS</u>. Currently, these definitions are only
       available as a DRAFT API.

       Other properties may be defined based on the underlying security mechanism, see ZAP authenticated
       connection sample below.

</pre><h4><b>RETURN</b> <b>VALUE</b></h4><pre>
       The <u>zmq_msg_gets()</u> function shall return the string value for the property if successful. Otherwise it
       shall return NULL and set <u>errno</u> to one of the values defined below. The caller shall not modify or free
       the returned value, which shall be owned by the message. The encoding of the property and value shall be
       UTF8.

</pre><h4><b>ERRORS</b></h4><pre>
       <b>EINVAL</b>
           The requested <u>property</u> is unknown.

</pre><h4><b>EXAMPLE</b></h4><pre>
       <b>Getting</b> <b>the</b> <b>ZAP</b> <b>authenticated</b> <b>user</b> <b>id</b> <b>for</b> <b>a</b> <b>message:</b>.

           zmq_msg_t msg;
           zmq_msg_init (&amp;msg);
           rc = zmq_msg_recv (&amp;msg, dealer, 0);
           assert (rc != -1);
           const char *user_id = zmq_msg_gets (&amp;msg, ZMQ_MSG_PROPERTY_USER_ID);
           zmq_msg_close (&amp;msg);

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man7/zmq.7.html">zmq</a></b>(7) <b><a href="../man3/zmq_setsockopt.3.html">zmq_setsockopt</a></b>(3)

</pre><h4><b>AUTHORS</b></h4><pre>
       This page was written by the 0MQ community. To make a change please read the 0MQ Contribution Policy at
       <b><a href="http://www.zeromq.org/docs">http://www.zeromq.org/docs</a>:contributing</b>.

0MQ 4.3.5                                          03/31/2024                                    <u><a href="../man3/ZMQ_MSG_GETS.3.html">ZMQ_MSG_GETS</a></u>(3)
</pre>
 </div>
</div></section>
</div>
</body>
</html>