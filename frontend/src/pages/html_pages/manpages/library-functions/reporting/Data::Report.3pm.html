<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Data::Report - Framework for flexible reporting</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libdata-report-perl">libdata-report-perl_1.001-2_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       Data::Report - Framework for flexible reporting

</pre><h4><b>SYNOPSIS</b></h4><pre>
         use Data::Report;

         # Create a new reporter.
         my $rep = Data::Report::-&gt;create(type =&gt; "text"); # or "html", or "csv", ...

         # Define the layout.
         $rep-&gt;set_layout
           ([ { name =&gt; "acct", title =&gt; "Acct",        width =&gt; 6  },
              { name =&gt; "desc", title =&gt; "Description", width =&gt; 40, align =&gt; "&lt;" },
              { name =&gt; "deb",  title =&gt; "Debet",       width =&gt; 10, align =&gt; "&gt;" },
              { name =&gt; "crd",  title =&gt; "Credit",      width =&gt; 10, align =&gt; "&gt;" },
            ]);

         # Start the reporter.
         $rep-&gt;start;

         # Add data, row by row.
         $rep-&gt;add({ acct =&gt; 1234, desc =&gt; "Received", deb =&gt; "242.33"                  });
         $rep-&gt;add({ acct =&gt; 5678, desc =&gt; "Paid",                      crd =&gt; "699.45" });
         $rep-&gt;add({ acct =&gt; 1259, desc =&gt; "Taxes",    deb =&gt;  "12.00", crd =&gt; "244.00" });
         $rep-&gt;add({               desc =&gt; "TOTAL",    deb =&gt; "254.33", crd =&gt; "943.45" });

         # Finish the reporter.
         $rep-&gt;finish;

</pre><h4><b>DESCRIPTION</b></h4><pre>
       Data::Report is a flexible, plugin-driven reporting framework. It makes it easy to define reports that
       can be produced in text, HTML and CSV. Textual ornaments like extra empty lines, dashed lines, and cell
       lines can be added in a way similar to HTML style sheets.

       The Data::Report framework consists of three parts:

       The plugins
           Plugins    implement    a    specific    type    of    report.    Standard   plugins   provided   are
           "Data::Report::Plugin::Text" for textual reports, "Data::Report::Plugin::Html" for HTML reports,  and
           "Data::Report::Plugin::Csv" for CSV (comma-separated) files.

           Users  can,  and are encouraged, to develop their own plugins to handle different styles and types of
           reports.

       The base class
           The base class "Data::Report::Base" implements the functionality common  to  all  reporters,  plus  a
           number of utility functions the plugins can use.

       The factory
           The  actual  "Data::Report"  module  is  a factory that creates a reporter for a given report type by
           selecting the appropriate plugin and returning an instance thereof.

</pre><h4><b>BASIC</b> <b>METHODS</b></h4><pre>
       Note that except for the "create" method, all other methods are actually handled by the plugins and their
       base class.

   <b>create</b>
       Reporter objects are created using the class method "create". This method takes a hash  (or  hashref)  of
       arguments to initialise the reporter object.

       The  actual reporter object is implemented by one of the plugin modules, selected by the "type" argument.
       Standard plugins are provided for "text", "HTML" and "CSV" report types. The default type is "text".

       When looking for a plugin to support report type "foo", the "create" method will  first  try  to  load  a
       module  "My::Package::Foo" where "My::Package" is the invocant class. If this module cannot be loaded, it
       will fall back to "Data::Report::Plugin::Foo". Note that, unless subclassed, the current  class  will  be
       "Data::Report".

       All  other  initialisation arguments correspond to attribute setting methods provided by the plugins. For
       example, the hypothetical call

         my $rpt = Data::Report-&gt;create(foo =&gt; 1, bar =&gt; "Hello!");

       is identical to:

         my $rpt = Data::Report-&gt;create;
         $rpt-&gt;<a href="../man1/set_foo.1.html">set_foo</a>(1);
         $rpt-&gt;set_bar("Hello!");

       You can choose any combination at your convenience.

   <b>start</b>
       This method indicates that all setup has been completed, and starts the reporter. Note that no output  is
       generated until the "add" method is called.

       "start" takes no arguments.

       Although  this  method  could be eliminated by automatically starting the reporter upon the first call to
       "add", it turns out that an aplicit "start" makes the API much cleaner  and  makes  it  easier  to  catch
       mistakes.

   <b>add</b>
       This  method adds a new entry to the report. It takes one single argument, a hash ref of column names and
       the corresponding values.  Missing columns are left blank.

       In addition to the column names and values,  you  can  add  the  special  key  "_style"  to  designate  a
       particular style for this entry. What that means depends on the plugin that implements this reporter. For
       example,  the standard HTML reporter plugin prefixes the given style with "r_" to form the class name for
       the row.  The style name should be a simple name, containing letters, digits  and  underscores,  starting
       with a letter.

       Example

         $rpt-&gt;add({ date   =&gt; "2006-04-31",
                     amount =&gt; 1000,
                     descr  =&gt; "First payment",
                     _style =&gt; "plain" });

   <b>finish</b>
       This  method  indicates  that  report  generation  is complete. After this, you can call "start" again to
       initiate a new report.

       "finish" takes no arguments.

   <b>close</b>
       This is a convenience method. If the output stream was set up by the reporter itself  (see  "set_output",
       below), the stream will be closed. Otherwise, this method will be a no-op.

       "close" takes no arguments.

</pre><h4><b>ATTRIBUTE</b> <b>HANDLING</b> <b>METHODS</b></h4><pre>
   <b>get_type</b>
       The reporter type.

   <b>set_layout</b>
       This is the most important attribute, since it effectively defines the report layout.

       This  method  takes  one argument, an array reference. Each element of the array is a hash reference that
       corresponds to one column in the report. The order of elements definines the order of the columns in  the
       report, but see "set_fields" below.

       The following keys are possible in the hash reference:

       "name"
           The  name  of  this  column.  The  name  should  be  a  simple  name,  containing letters, digits and
           underscores, starting with a letter.

           The standard HTML reporter plugin uses the column name  to  form  a  class  name  for  each  cell  by
           prefixing  with  "c_".  Likewise,  the classes for the table headings will be formed by prefixing the
           column names with "h_". See "ADVANCED EXAMPLES", below.

       "title"
           The title of this column. This title is placed in the column heading.

       "width"
           The width of this column.  Relevant for textual reporters only.

           By default, if a value does not fit in the given width, it will be spread over  multiple  rows  in  a
           pseudo-elegant way. See also the "truncate" key, below.

       "align"
           The  alignment  of this column. This can be either "&lt;" for left-aligned columns, or "&gt;" to indicate a
           right-aligned column.

       "truncate"
           If true, the values in this column will be truncated to fit the width of the  column.   Relevant  for
           textual reporters only.

   <b>set_style</b>
       This  method  can  be used to set an arbitrary style (a string) whose meaning depends on the implementing
       plugin. For example, a HTML plugin could use this as the name of the style sheet to use.

       The name should be a simple name, containing letters, digits and underscores, starting with a letter.

   <b>get_style</b>
       Returns the style, or "default" if none.

   <b>set_output</b>
       Designates the destination for the report. The argument can be

       a SCALAR reference
           All output will be appended to the designated scalar.

       an ARRAY reference
           All output lines will be pushed onto the array.

       a SCALAR
           A file will be created with the given name, and all output will be written to this file. To close the
           file, use the "close" method described above.

       anything else
           Anything else will be considered to be a file handle, and treated as such.

   <b>set_stylist</b>
       The stylist is a powerful method to control the appearance of the report at the row and cell  level.  The
       basic  idea  is  taken from HTML style sheets. By using a stylist, it is possible to add extra spaces and
       lines to rows and cells in a declarative way.

       When used, the stylist should be a reference to a possibly anonymous subroutine with three arguments: the
       reporter object, the style of a row (as specified with "_style" in the "add" method), and the name  of  a
       column as defined in the layout. For table headings, the row name "_head" is used.

       The  stylist  routine  will be repeatedly called by the reporter to obtain formatting properties for rows
       and cells. It should return either nothing, or a hash reference with properties.

       When called with only the "row" argument, it should return the properties for this row.

       When called with row equal to "*" and a column name, it  should  return  the  properties  for  the  given
       column.

       When  called  with  a  row  and  a  column name, it should return the properties for the given row/column
       (cell).

       All appropriate properties are merged to form the final set of properties to apply.

       The following row properties are recognised. Between parentheses the backends that support them.

       "skip_before"
           (Text) Produce an empty line before printing the current row.

       "skip_after"
           (Text) Produce an empty line after printing the current row, but only if other data follows.

       "line_before"
           (Text) Draw a line of dashes before printing the current row.

       "line_after"
           (Text) Draw a line of dashes after printing the current row.

       "cancel_skip"
           (Text) Cancel the effect of a pending "skip_after"

       "ignore"
           (All) Ignore this row. Useful for CSV backends where only the raw data matters, and  not  the  totals
           and such.

       The following cell properties are recognised. Between parentheses the backends that support them.

       "indent"
           (Text) Indent the contents of this cell with the given amount.

       "wrap_indent"
           (Text) Indent wrapped contents of this cell with the given amount.

       "truncate"
           (Text) If true, truncate the contents of this cell to fit the column width.

       "line_before"
           (Text)  Draw a line in the cell before printing the current row. The value of this property indicates
           the symbol to use to draw the line. If it is 1, dashes are used.

       "line_after"
           (Text) Draw a line in the cell after printing the current row. The value of this  property  indicates
           the symbol to use to draw the line. If it is 1, dashes are used.

       "raw_html"
           (Html)  Do  not  escape  special HTML characters, allowing pre-prepared HTML code to be placed in the
           output. Use with care.

       "ignore"
           (All) Ignore this column. Note that to prevent surprising results, the column must be ignored in  all
           applicable styles, including the special style "_head" that controls the heading.

       "class"
           (Html)  Class  name  to be used for this cell. Default class name is "h_CNAME" for table headings and
           "c_CNAME" for table rows, where CNAME is the name of the column.

       Example:

         $rep-&gt;set_stylist(sub {
           my ($rep, $row, $col) = @_;

           unless ( $col ) {
               return { line_after =&gt; 1 } if $row eq "total";
               return;
           }
           return { line_after =&gt; 1 } if $col eq "amount";
           return;
         });

       Each reporter provides a standard (dummy)  stylist  called  "_std_stylist".  Overriding  this  method  is
       equivalent to using "set_stylist".

   <b>get_stylist</b>
       Returns the current stylist, if any.

   <b>set_topheading</b>
       Headings consist of two parts, the <u>top</u> <u>heading</u>, and the <u>standard</u> <u>heading</u>. Bij default, the top heading is
       empty,  and  the  standard  heading has the names of the columns with a separator line (depnendent on the
       plugin used).

       This method can be used to designate a subroutine that will provide the top heading of the report.

       Example:

         $rpt-&gt;set_topheading(sub {
           my $self = shift;
           $self-&gt;_print("Title line 1\n");
           $self-&gt;_print("Title line 2\n");
           $self-&gt;_print("\n");
         });

       Note the use of the reporter provided "_print" method to produce output.

       When subclassing a reporter, a method "_top_heading" can be defined to provide the top heading.  This  is
       equivalent  to  an  explicit  call  to "set_topheading", but doesn't need to be repeatedly and explicitly
       executed for each new reporter.

   <b>get_topheading</b>
       Returns the current top heading routine, if any.

   <b>set_heading</b>
       This method can be used to designate a subroutine that provides the standard heading of the report.

       In normal cases using this method is not necessary, since setting the top heading will be sufficient.

       Each reporter plugin provides a standard heading, implemented in a method called "_std_header".  This  is
       the default value for the "heading" attribute. A user-defined heading can use

         $self-&gt;SUPER::_std_header;

       to still get the original standard heading produced.

       Example:

         $rpt-&gt;set_heading(sub {
           my $self = shift;
           $self-&gt;_print("Title line 1\n");
           $self-&gt;_print("Title line 2\n");
           $self-&gt;_print("\n");
           $self-&gt;SUPER::_std_heading;
           $self-&gt;_print("\n");
         });

       Note the use of the reporter provided "_print" method to produce output.

       When  subclassing  a  reporter,  the  method "_std_heading" can be overridden to provide a customized top
       heading. This is equivalent to an explicit call to "set_topheading", but doesn't need  to  be  repeatedly
       and explicitly executed for each new reporter.

   <b>get_heading</b>
       Returns the current standard heading routine, if any.

   <b>set_fields</b>
       This  method  can  be used to define what columns (fields) should be included in the report and the order
       they should appear. It takes an array reference with the names of the desired columns.

       Example:

         $rpt-&gt;set_fields([qw(descr amount date)]);

   <b>get_fields</b>
       Returns the current set of selected columns.

   <b>set_width</b>
       This method defines the width for one or more columns. It takes a hash reference with  column  names  and
       widths.  The  width  may  be  an absolute number, a relative number (to increase/decrease the width, or a
       percentage.

       Example:

         $rpt-&gt;set_width({ amount =&gt; 10, desc =&gt; '80%' });

   <b>get_widths</b>
       Returns a hash with all column names and widths.

</pre><h4><b>ADVANCED</b> <b>EXAMPLES</b></h4><pre>
       This example subclasses Data::Report with  an  associated  plugin  for  type  "text".  Note  the  use  of
       overriding "_top_heading" and "_std_stylist" to provide special defaults for this reporter.

         package POC::Report;

         use base qw(Data::Report);

         package POC::Report::Text;

         use base qw(Data::Report::Plugin::Text);

         sub _top_heading {
             my $self = shift;
             $self-&gt;_print("Title line 1\n");
             $self-&gt;_print("Title line 2\n");
             $self-&gt;_print("\n");
         }

         sub _std_stylist {
             my ($rep, $row, $col) = @_;

             if ( $col ) {
                 return { line_after =&gt; "=" }
                   if $row eq "special" &amp;&amp; $col =~ /^(deb|crd)$/;
             }
             else {
                 return { line_after =&gt; 1 } if $row eq "total";
             }
             return;
         }

       It can be used as follows:

         my $rep = POC::Report::-&gt;create(type =&gt; "text");

         $rep-&gt;set_layout
           ([ { name =&gt; "acct", title =&gt; "Acct",   width =&gt; 6  },
              { name =&gt; "desc", title =&gt; "Report", width =&gt; 40, align =&gt; "&lt;" },
              { name =&gt; "deb",  title =&gt; "Debet",  width =&gt; 10, align =&gt; "&lt;" },
              { name =&gt; "crd",  title =&gt; "Credit", width =&gt; 10, align =&gt; "&gt;" },
            ]);

         $rep-&gt;start;

         $rep-&gt;add({ acct =&gt; "one", desc =&gt; "two", deb =&gt; "three", crd =&gt; "four", _style =&gt; "normal" });
         $rep-&gt;add({ acct =&gt; "one", desc =&gt; "two", deb =&gt; "three", crd =&gt; "four", _style =&gt; "normal" });
         $rep-&gt;add({ acct =&gt; "one", desc =&gt; "two", deb =&gt; "three", crd =&gt; "four", _style =&gt; "special"});
         $rep-&gt;add({ acct =&gt; "one", desc =&gt; "two", deb =&gt; "three", crd =&gt; "four", _style =&gt; "total"  });

         $rep-&gt;finish;

       The output will look like:

         Title line 1
         Title line 2

         Acct                                      Report  Debet           Credit
         ------------------------------------------------------------------------
         one                                          two  three             four
         one                                          two  three             four
         one                                          two  three             four
                                                           ==========  ==========
         one                                          two  three             four
         ------------------------------------------------------------------------

       This is a similar example for a HTML reporter:

         package POC::Report;

         use base qw(Data::Report);

         package POC::Report::Html;

         use base qw(Data::Report::Plugin::Html);

         sub start {
             my $self = shift;
             $self-&gt;{_title1} = shift;
             $self-&gt;{_title2} = shift;
             $self-&gt;{_title3} = shift;
             $self-&gt;SUPER::start;
         }

         sub _top_heading {
             my $self = shift;
             $self-&gt;_print("&lt;html&gt;\n",
                           "&lt;head&gt;\n",
                           "&lt;title&gt;", $self-&gt;_html($self-&gt;{_title1}), "&lt;/title&gt;\n",
                           '&lt;link rel="stylesheet" href="css/', $self-&gt;get_style, '.css"&gt;', "\n",
                           "&lt;/head&gt;\n",
                           "&lt;body&gt;\n",
                           "&lt;p class=\"title\"&gt;", $self-&gt;_html($self-&gt;{_title1}), "&lt;/p&gt;\n",
                           "&lt;p class=\"subtitle\"&gt;", $self-&gt;_html($self-&gt;{_title2}), "&lt;br&gt;\n",
                           $self-&gt;_html($self-&gt;{_title3}), "&lt;/p&gt;\n");
         }

         sub finish {
             my $self = shift;
             $self-&gt;SUPER::finish;
             $self-&gt;_print("&lt;/body&gt;\n&lt;/html&gt;\n");
         }

       Note  that  it  defines  an alternative "start" method, that is used to pass in additional parameters for
       title fields.

       The method "_html" is a convenience method provided by the  framework.   It  returns  its  argument  with
       sensitive characters escaped by HTML entities.

       It can be used as follows:

         package main;

         my $rep = POC::Report::-&gt;create(type =&gt; "html");

         $rep-&gt;set_layout
           ([ { name =&gt; "acct", title =&gt; "Acct",   width =&gt; 6  },
              { name =&gt; "desc", title =&gt; "Report", width =&gt; 40, align =&gt; "&lt;" },
              { name =&gt; "deb",  title =&gt; "Debet",  width =&gt; 10, align =&gt; "&lt;" },
              { name =&gt; "crd",  title =&gt; "Credit", width =&gt; 10, align =&gt; "&gt;" },
            ]);

         $rep-&gt;start(qw(Title_One Title_Two Title_Three_Left&amp;Right));

         $rep-&gt;add({ acct =&gt; "one", desc =&gt; "two", deb =&gt; "three", crd =&gt; "four", _style =&gt; "normal" });
         $rep-&gt;add({ acct =&gt; "one", desc =&gt; "two", deb =&gt; "three", crd =&gt; "four", _style =&gt; "normal" });
         $rep-&gt;add({ acct =&gt; "one", desc =&gt; "two", deb =&gt; "three", crd =&gt; "four", _style =&gt; "normal" });
         $rep-&gt;add({ acct =&gt; "one", desc =&gt; "two", deb =&gt; "three", crd =&gt; "four", _style =&gt; "total"  });

         $rep-&gt;finish;

       The output will look like this:

         &lt;html&gt;
         &lt;head&gt;
         &lt;title&gt;Title_One&lt;/title&gt;
         &lt;link rel="stylesheet" href="css/default.css"&gt;
         &lt;/head&gt;
         &lt;body&gt;
         &lt;p class="title"&gt;Title_One&lt;/p&gt;
         &lt;p class="subtitle"&gt;Title_Two&lt;br&gt;
         Title_Three_Left&amp;amp;Right&lt;/p&gt;
         &lt;table class="main"&gt;
         &lt;tr class="head"&gt;
         &lt;th align="left" class="h_acct"&gt;Acct&lt;/th&gt;
         &lt;th align="left" class="h_desc"&gt;Report&lt;/th&gt;
         &lt;th align="right" class="h_deb"&gt;Debet&lt;/th&gt;
         &lt;th align="right" class="h_crd"&gt;Credit&lt;/th&gt;
         &lt;/tr&gt;
         &lt;tr class="r_normal"&gt;
         &lt;td align="left" class="c_acct"&gt;one&lt;/td&gt;
         &lt;td align="left" class="c_desc"&gt;two&lt;/td&gt;
         &lt;td align="right" class="c_deb"&gt;three&lt;/td&gt;
         &lt;td align="right" class="c_crd"&gt;four&lt;/td&gt;
         &lt;/tr&gt;
         &lt;tr class="r_normal"&gt;
         &lt;td align="left" class="c_acct"&gt;one&lt;/td&gt;
         &lt;td align="left" class="c_desc"&gt;two&lt;/td&gt;
         &lt;td align="right" class="c_deb"&gt;three&lt;/td&gt;
         &lt;td align="right" class="c_crd"&gt;four&lt;/td&gt;
         &lt;/tr&gt;
         &lt;tr class="r_normal"&gt;
         &lt;td align="left" class="c_acct"&gt;one&lt;/td&gt;
         &lt;td align="left" class="c_desc"&gt;two&lt;/td&gt;
         &lt;td align="right" class="c_deb"&gt;three&lt;/td&gt;
         &lt;td align="right" class="c_crd"&gt;four&lt;/td&gt;
         &lt;/tr&gt;
         &lt;tr class="r_total"&gt;
         &lt;td align="left" class="c_acct"&gt;one&lt;/td&gt;
         &lt;td align="left" class="c_desc"&gt;two&lt;/td&gt;
         &lt;td align="right" class="c_deb"&gt;three&lt;/td&gt;
         &lt;td align="right" class="c_crd"&gt;four&lt;/td&gt;
         &lt;/tr&gt;
         &lt;/table&gt;
         &lt;/body&gt;
         &lt;/html&gt;

       See also the examples in "t/09poc*.t".

</pre><h4><b>AUTHOR</b></h4><pre>
       Johan Vromans, "&lt;jvromans at squirrel.nl&gt;"

</pre><h4><b>BUGS</b></h4><pre>
       <u>Disclaimer:</u>  <u>This</u>  <u>module</u>  <u>is</u> <u>derived</u> <u>from</u> <u>actual</u> <u>working</u> <u>code,</u> <u>that</u> <u>I</u> <u>turned</u> <u>into</u> <u>a</u> <u>generic</u> <u>CPAN</u> <u>module.</u>
       <u>During</u> <u>the</u> <u>process,</u> <u>some</u> <u>features</u> <u>may</u> <u>have</u> <u>become</u> <u>unstable,</u> <u>but</u> <u>that</u> <u>will</u> <u>be</u> <u>cured</u> <u>in</u> <u>time.</u> <u>Also,</u>  <u>it</u>  <u>is</u>
       <u>possible</u> <u>that</u> <u>revisions</u> <u>of</u> <u>the</u> <u>API</u> <u>will</u> <u>be</u> <u>necessary</u> <u>when</u> <u>new</u> <u>functionality</u> <u>is</u> <u>added.</u>

       Please  report  any  bugs  or  feature  requests  to "bug-data-report at rt.cpan.org", or through the web
       interface at &lt;<a href="http://rt.cpan.org/NoAuth/ReportBug.html">http://rt.cpan.org/NoAuth/ReportBug.html</a>?Queue=Data-Report&gt;.  I will be notified, and  then
       you'll automatically be notified of progress on your bug as I make changes.

</pre><h4><b>SUPPORT</b></h4><pre>
       Development of this module takes place on GitHub: &lt;https://github.com/sciurius/perl-Data-Report&gt;.

       After installing, you can find documentation for this module with the perldoc command.

           perldoc Data::Report

       Please report any bugs or feature requests using the issue tracker on GitHub.

</pre><h4><b>ACKNOWLEDGEMENTS</b></h4><pre>
</pre><h4><b>COPYRIGHT</b> <b>&amp;</b> <b>LICENSE</b></h4><pre>
       Copyright 2006,2008,2020 Squirrel Consultancy, all rights reserved.

       This  program  is  free  software;  you can redistribute it and/or modify it under the same terms as Perl
       itself.

perl v5.36.0                                       2022-10-14                                  <u>Data::<a href="../man3pm/Report.3pm.html">Report</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>