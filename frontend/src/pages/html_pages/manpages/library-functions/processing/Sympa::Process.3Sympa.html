<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sympa::Process - Process of Sympa</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/sympa">sympa_6.2.76~dfsg-1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       Sympa::Process - Process of Sympa

</pre><h4><b>SYNOPSIS</b></h4><pre>
         use Sympa::Process;
         my $process = Sympa::Process-&gt;instance;
         $process-&gt;init(pidname =&gt; 'sympa');

         $process-&gt;daemonize;

         $process-&gt;fork;

</pre><h4><b>DESCRIPTION</b></h4><pre>
       Sympa::Process implements the class to handle process itself of Sympa software.

   <b>Signal</b> <b>handling</b>
       Once Sympa::Process is loaded, "SIGCHLD" signals are captured, and only defunct child processes invoked
       by <b>fork()</b> method are reaped.

   <b>Methods</b>
       instance ( )
           <u>Constructor</u>.  Creates a singleton instance of Sympa::Process object.

           Returns:

           A new Sympa::Process instance, or <u>undef</u> for failure.

       init ( key =&gt; value, ... )
           <u>Instance</u> <u>method</u>.  TBD.

       daemonize ( )
           <u>Instance</u>  <u>method</u>.   Daemonizes process itself.  Process is given new process group, detached from TTY
           and given new process ID.

           Parameters:

           None.

           Returns:

           None.

       fork ( [ $tag ] )
           <u>Instance</u> <u>method</u>.  Forks process.  Note that this method should be used  instead  of  <b>fork()</b>  in  Perl
           core.

           Parameter:

           $tag
               A string to determine new child process.  By default the name of calling process.

           Returns:

           See "fork" in perlfunc.

       reap_child ( [ blocking =&gt; 1 ] )
           DEPRECATED.

       wait_child ( )
           <u>Instance</u> <u>method</u>.  Waits for any child process.

           Parameters:

           None.

           Returns:

           0.  Returns -1 on failure.

       sync_child ( [ hash =&gt; \%hash ], [ file =&gt; 1 ] )
           Updates process information in external data.

           Parameters:

           hash =&gt; \%hash
               Syncs PIDs in local map %hash

           file =&gt; 1
               Syncs  child  PIDs  in  PID  file.   If  dead  PID  is found, notification will be sent to super-
               listmaster.

           Returns:

           None.

       remove_pid ([ pid =&gt; $pid ], [ final =&gt; 1 ] )
           <u>Instance</u> <u>method</u>.  Removes process ID from PID file.  Then if the file is empty, it will be removed.

       write_pid ( [ initial =&gt; 1 ], [ pid =&gt; $pid ] )
           <u>Instance</u> <u>method</u>.  Writes or adds process ID to PID file.

           Parameters:

           initial =&gt; 1
               Initializes PID file.  If the file remains, notification will be sent to super-listmaster.

           pid =&gt; $pid
               Process ID to be written.  By default PID of current process.

       direct_stderr_to_file ( )
           <u>Instance</u> <u>method</u>.  TBD.

   <b>Attributes</b>
       Sympa::Process instance may have following attributes:

       {children}
           Hashref with child PIDs forked by <b>fork()</b> method as keys.

       {detached}
           True value is set if <b>daemonize()</b> method was called and the process has been detached from TTY.

       {generation}
           Generation of process.  If <b>fork()</b> method succeeds, it will be increased by child process.

   <b>Utility</b> <b>functions</b>
       eval_in_time ( $subref, $timeout )
           Evaluate subroutine $subref in $timeout seconds.

           TBD.

       register_handler ( )
           Registers "SIGCHLD" handler.  This function is usually called automatically during initialization.

</pre><h4><b>HISTORY</b></h4><pre>
       Sympa::Tools::Daemon appeared on Sympa 6.2a.41.

       Renamed Sympa::Process appeared on Sympa 6.2.12 and began to provide OO interface.

       Sympa 6.2.13 introduced <b>daemonize()</b> method and {detached} attribute.

       As of Sympa  6.2.14,  "SIGCHLD"  signal  was  captured  and  child  processes  were  reaped  immediately.
       <b>reap_child()</b> method (formerly <b>reaper()</b>) was deprecated.

6.2.76                                             2025-02-12                             <u>Sympa::<a href="../man3Sympa/Process.3Sympa.html">Process</a></u>(3Sympa)
</pre>
 </div>
</div></section>
</div>
</body>
</html>