<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tcl_StackChannel,  Tcl_UnstackChannel,  Tcl_GetStackedChannel, Tcl_GetTopChannel - manipulate stacked I/O</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/tcl9.0-doc">tcl9.0-doc_9.0.1+dfsg-2_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       Tcl_StackChannel,  Tcl_UnstackChannel,  Tcl_GetStackedChannel, Tcl_GetTopChannel - manipulate stacked I/O
       channels

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>#include</b> <b>&lt;tcl.h&gt;</b>

       Tcl_Channel
       <b>Tcl_StackChannel</b>(<u>interp,</u> <u>typePtr,</u> <u>clientData,</u> <u>mask,</u> <u>channel</u>)

       int
       <b>Tcl_UnstackChannel</b>(<u>interp,</u> <u>channel</u>)

       Tcl_Channel
       <b>Tcl_GetStackedChannel</b>(<u>channel</u>)

       Tcl_Channel
       <b>Tcl_GetTopChannel</b>(<u>channel</u>)

</pre><h4><b>ARGUMENTS</b></h4><pre>
       Tcl_Interp <u>*interp</u> (in)                  Interpreter for error reporting.

       const Tcl_ChannelType <u>*typePtr</u> (in)      The new channel I/O procedures to use for <u>channel</u>.

       void <u>*clientData</u> (in)                    Arbitrary one-word value to pass to channel I/O procedures.

       int <u>mask</u> (in)                            Conditions under which <u>channel</u> will be used:  OR-ed  combination
                                                of  <b>TCL_READABLE</b>, <b>TCL_WRITABLE</b> and <b>TCL_EXCEPTION</b>.  This can be a
                                                subset of the operations currently allowed on <u>channel</u>.

       Tcl_Channel <u>channel</u> (in)                 An existing Tcl channel such as returned by <b>Tcl_CreateChannel</b>.
________________________________________________________________________________________________________________

</pre><h4><b>DESCRIPTION</b></h4><pre>
       These functions are for use by extensions that add processing  layers  to  Tcl  I/O  channels.   Examples
       include  compression  and  encryption  modules.   These  functions  transparently stack and unstack a new
       channel on top of an existing one.  Any number of channels can be stacked together.

       The <b>Tcl_ChannelType</b> version currently supported  is  <b>TCL_CHANNEL_VERSION_5</b>.   See  <b>Tcl_CreateChannel</b>  for
       details.

       <b>Tcl_StackChannel</b>  stacks  a new <u>channel</u> on an existing channel with the same name that was registered for
       <u>channel</u> by <b>Tcl_RegisterChannel</b>.

       <b>Tcl_StackChannel</b> works by creating a new channel structure and placing  itself  on  top  of  the  channel
       stack.   EOL  translation,  encoding  and buffering options are shared between all channels in the stack.
       The hidden channel does no buffering, newline translations, or  character  set  encoding.   Instead,  the
       buffering,  newline  translations,  and encoding functions all remain at the top of the channel stack.  A
       pointer to the new top channel structure is returned.  If an error occurs when stacking the channel, NULL
       is returned instead.

       The <u>mask</u> parameter specifies the operations that are allowed on the new channel.  These can be  a  subset
       of  the  operations  allowed on the original channel.  For example, a read-write channel may become read-
       only after the <b>Tcl_StackChannel</b> call.

       Closing a channel closes the channels stacked below it.  The close of stacked channels is executed  in  a
       way that allows buffered data to be properly flushed.

       <b>Tcl_UnstackChannel</b>  reverses  the  process.  The old channel is associated with the channel name, and the
       processing  module  added  by  <b>Tcl_StackChannel</b>  is  destroyed.   If  there  is  no  old  channel,   then
       <b>Tcl_UnstackChannel</b>  is  equivalent to <b>Tcl_Close</b>.  If an error occurs unstacking the channel, <b>TCL_ERROR</b> is
       returned, otherwise <b>TCL_OK</b> is returned.

       <b>Tcl_GetTopChannel</b> returns the top channel in the stack of channels the supplied channel is part of.

       <b>Tcl_GetStackedChannel</b> returns the channel in the stack of channels  which  is  just  below  the  supplied
       channel.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <a href="../man3tcl/Notifier.3tcl.html">Notifier</a>(3tcl), <a href="../man3tcl/Tcl_CreateChannel.3tcl.html">Tcl_CreateChannel</a>(3tcl), <a href="../man3tcl/Tcl_OpenFileChannel.3tcl.html">Tcl_OpenFileChannel</a>(3tcl), <a href="../man3tcl/vwait.3tcl.html">vwait</a>(3tcl)

</pre><h4><b>KEYWORDS</b></h4><pre>
       channel, compression

Tcl                                                    8.3                                <u><a href="../man3tcl/Tcl_StackChannel.3tcl.html">Tcl_StackChannel</a></u>(3tcl)
</pre>
 </div>
</div></section>
</div>
</body>
</html>