<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ares_set_servers,  ares_set_servers_ports  -  Initialize  name  server configuration for an ares channel.</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libc-ares-dev">libc-ares-dev_1.34.5-1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       ares_set_servers,  ares_set_servers_ports  -  Initialize  name  server configuration for an ares channel.
       (deprecated)

</pre><h4><b>SYNOPSIS</b></h4><pre>
       #include &lt;ares.h&gt;

       int ares_set_servers(ares_channel_t *<u>channel</u>,
                            const struct ares_addr_node *<u>servers</u>)

       int ares_set_servers_ports(ares_channel_t *<u>channel</u>,
                                  const struct ares_addr_port_node *<u>servers</u>)

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The <b><a href="../man3/ares_set_servers.3.html">ares_set_servers</a>(3)</b> function initializes name servers configuration for the channel  data  identified
       by  <u>channel</u>,  from  a  <u>servers</u>  pointer  to  a linked list of ares_addr_node structs holding name servers
       address data.

       The name server linked list pointer argument may be the result of a previous call to  <b><a href="../man3/ares_get_servers.3.html">ares_get_servers</a>(3)</b>
       or a linked list of <b>ares_addr_node</b> structs set up by other means.

       The  <b><a href="../man3/ares_set_servers_ports.3.html">ares_set_servers_ports</a>(3)</b> function also allows the specification of UDP and TCP ports to be used for
       communication on a per-server basis.  The provided linked list argument may be the result of  a  previous
       call to <b><a href="../man3/ares_get_servers_ports.3.html">ares_get_servers_ports</a>(3)</b> or a linked list of <b>ares_addr_port_node</b> structs set up by other means.

       This  function  replaces  any  potentially  previously configured name servers with the ones given in the
       linked list. So, in order to configure a channel with more than one name server all the desired ones must
       be specified in a single list. Though not recommended, passing NULL will clear all configured servers and
       make an inoperable channel, this may be advantageous for test simulation but unlikely  to  be  useful  in
       production.

       The  function does not take ownership of the linked list argument.  The caller is responsible for freeing
       the linked list when no longer needed.

       This function is capable of handling IPv4  and  IPv6  name  server  addresses  simultaneously,  rendering
       <b><a href="../man3/ares_init_options.3.html">ares_init_options</a>(3)</b> with optmask <b>ARES_OPT_SERVERS</b> functionally obsolete except for IPv4-only name server
       usage.

       As  of v1.22.0 this function can be called on an active channel with running queries, previously it would
       return ARES_ENOTIMP.

</pre><h4><b>RETURN</b> <b>VALUES</b></h4><pre>
       <b><a href="../man3/ares_set_servers.3.html">ares_set_servers</a>(3)</b> may return any of the following values:

       <b>ARES_SUCCESS</b>   The name servers configuration was successfully initialized.

       <b>ARES_ENOMEM</b>    The process's available memory was exhausted.

       <b>ARES_ENODATA</b>   The channel data identified by <u>channel</u> was invalid.

       <b>ARES_ENOTINITIALIZED</b>
                      c-ares library initialization not yet performed.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man3/ares_set_servers_csv.3.html">ares_set_servers_csv</a></b>(3), <b><a href="../man3/ares_get_servers.3.html">ares_get_servers</a></b>(3), <b><a href="../man3/ares_init_options.3.html">ares_init_options</a></b>(3), <b><a href="../man3/ares_dup.3.html">ares_dup</a></b>(3)

</pre><h4><b>NOTES</b></h4><pre>
       Deprecated functions as of c-ares 1.24.0 due to inability to  set  all  available  server  options.   Use
       <b><a href="../man3/ares_set_servers_csv.3.html">ares_set_servers_csv</a>(3)</b>.

</pre><h4><b>AVAILABILITY</b></h4><pre>
       <b><a href="../man3/ares_set_servers.3.html">ares_set_servers</a>(3)</b> was added in c-ares 1.7.1; <b><a href="../man3/ares_set_servers_ports.3.html">ares_set_servers_ports</a>(3)</b> was added in c-ares 1.11.0.

                                                  5 March 2010                               <u><a href="../man3/ARES_SET_SERVERS.3.html">ARES_SET_SERVERS</a></u>(3)
</pre>
 </div>
</div></section>
</div>
</body>
</html>