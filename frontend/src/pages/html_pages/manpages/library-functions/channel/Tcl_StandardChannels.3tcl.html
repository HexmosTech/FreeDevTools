<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tcl_StandardChannels - How the Tcl library deals with the standard channels</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/tcl9.0-doc">tcl9.0-doc_9.0.1+dfsg-2_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       Tcl_StandardChannels - How the Tcl library deals with the standard channels
________________________________________________________________________________________________________________

</pre><h4><b>DESCRIPTION</b></h4><pre>
       This page explains the initialization and use of standard channels in the Tcl library.

       The  term  <u>standard</u>  <u>channels</u>  comes out of the Unix world and refers to the three channels automatically
       opened by the OS for each new application. They are <b>stdin</b>, <b>stdout</b> and <b>stderr</b>. The first is  the  standard
       input  an application can read from, the other two refer to writable channels, one for regular output and
       the other for error messages.

       Tcl generalizes this concept in a cross-platform way and exposes standard channels to the script level.

   <b>APPLICATION</b> <b>PROGRAMMING</b> <b>INTERFACES</b>
       The  public  API  procedures  dealing  directly  with  standard  channels   are   <b>Tcl_GetStdChannel</b>   and
       <b>Tcl_SetStdChannel</b>.  Additional  public  APIs  to  consider are <b>Tcl_RegisterChannel</b>, <b>Tcl_CreateChannel</b> and
       <b>Tcl_GetChannel</b>.

</pre><h4><b>INITIALIZATION</b> <b>OF</b> <b>TCL</b> <b>STANDARD</b> <b>CHANNELS</b></h4><pre>
       Standard channels are initialized by the Tcl library in three  cases:  when  explicitly  requested,  when
       implicitly required before returning channel information, or when implicitly required during registration
       of a new channel.

       These  cases  differ  in how they handle unavailable platform- specific standard channels.  (A channel is
       not “available” if it could not be successfully opened; for example,  in  a  Tcl  application  run  as  a
       Windows NT service.)

       1)     A  single  standard  channel  is  initialized  when  it  is  explicitly  specified  in  a  call to
              <b>Tcl_SetStdChannel</b>.  The states of the other standard channels are unaffected.

              Missing platform-specific standard channels do not matter here. This approach is not available  at
              the script level.

       2)     All uninitialized standard channels are initialized to platform-specific default values:

              (a)    when  open  channels  are  listed  with  <b>Tcl_GetChannelNames</b>  (or  the <b>file</b> <b>channels</b> script
                     command), or

              (b)    when information about any standard channel is requested with a call to  <b>Tcl_GetStdChannel</b>,
                     or  with  a call to <b>Tcl_GetChannel</b> which specifies one of the standard names (<b>stdin</b>, <b>stdout</b>
                     and <b>stderr</b>).

              In case of missing platform-specific standard channels, the Tcl standard channels  are  considered
              as  initialized  and  then  immediately  closed. This means that the first three Tcl channels then
              opened by the application are designated as the Tcl standard channels.

       3)     All uninitialized standard channels are initialized to platform-specific  default  values  when  a
              user-requested channel is registered with <b>Tcl_RegisterChannel</b>.

       In  case  of  unavailable  platform-specific  standard  channels  the  channel  whose creation caused the
       initialization of the Tcl standard channels is made a normal channel.  The next three Tcl channels opened
       by the application are designated as the Tcl standard channels.  In other words, of the  first  four  Tcl
       channels opened by the application the second to fourth are designated as the Tcl standard channels.

</pre><h4><b>RE-INITIALIZATION</b> <b>OF</b> <b>TCL</b> <b>STANDARD</b> <b>CHANNELS</b></h4><pre>
       Once  a  Tcl  standard channel is initialized through one of the methods above, closing this Tcl standard
       channel will cause the next call to <b>Tcl_CreateChannel</b> to make the new channel the new  standard  channel,
       too.  If more than one Tcl standard channel was closed <b>Tcl_CreateChannel</b> will fill the empty slots in the
       order <b>stdin</b>, <b>stdout</b> and <b>stderr</b>.

       <b>Tcl_CreateChannel</b> will not try to reinitialize an empty slot if that slot was not initialized before.  It
       is  this  behavior  which enables an application to employ method 1 of initialization, i.e. to create and
       designate their own Tcl standard channels.

</pre><h4><b>SHELL-SPECIFIC</b> <b>DETAILS</b></h4><pre>
   <b>tclsh</b>
       The Tcl shell (or rather the function <b>Tcl_Main</b>, which forms the core of the shell's implementation)  uses
       method 2 to initialize the standard channels.

   <b>wish</b>
       The   windowing  shell  (or  rather  the  function  <b>Tk_MainEx</b>,  which  forms  the  core  of  the  shell's
       implementation) uses method 1 to initialize the standard channels (See  <b>Tk_InitConsoleChannels</b>)  on  non-
       Unix  platforms.   On  Unix  platforms,  <b>Tk_MainEx</b>  implicitly  uses  method 2 to initialize the standard
       channels.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <a href="../man3tcl/Tcl_CreateChannel.3tcl.html">Tcl_CreateChannel</a>(3tcl),   <a href="../man3tcl/Tcl_RegisterChannel.3tcl.html">Tcl_RegisterChannel</a>(3tcl),   <a href="../man3tcl/Tcl_GetChannel.3tcl.html">Tcl_GetChannel</a>(3tcl),    <a href="../man3tcl/Tcl_GetStdChannel.3tcl.html">Tcl_GetStdChannel</a>(3tcl),
       <a href="../man3tcl/Tcl_SetStdChannel.3tcl.html">Tcl_SetStdChannel</a>(3tcl), <a href="../man3tk/Tk_InitConsoleChannels.3tk.html">Tk_InitConsoleChannels</a>(3tk), <a href="../man1/tclsh.1.html">tclsh</a>(1), <a href="../man1/wish.1.html">wish</a>(1), <a href="../man3tcl/Tcl_Main.3tcl.html">Tcl_Main</a>(3tcl), <a href="../man3tk/Tk_MainEx.3tk.html">Tk_MainEx</a>(3tk)

</pre><h4><b>KEYWORDS</b></h4><pre>
       standard channels

Tcl                                                    7.5                               <u>Standard</u> <u><a href="../man3tcl/Channels.3tcl.html">Channels</a></u>(3tcl)
</pre>
 </div>
</div></section>
</div>
</body>
</html>