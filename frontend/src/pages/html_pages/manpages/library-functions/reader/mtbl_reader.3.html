<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>mtbl_reader - read an MTBL file</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libmtbl-dev">libmtbl-dev_1.6.1-1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       mtbl_reader - read an MTBL file

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>#include</b> <b>&lt;mtbl.h&gt;</b>

       Reader objects:

       <b>struct</b> <b>mtbl_reader</b> <b>*</b>
       <b>mtbl_reader_init(const</b> <b>char</b> <b>*</b><u>fname</u><b>,</b> <b>const</b> <b>struct</b> <b>mtbl_reader_options</b> <b>*</b><u>ropt</u><b>);</b>

       <b>struct</b> <b>mtbl_reader</b> <b>*</b>
       <b>mtbl_reader_init_fd(int</b> <u>fd</u><b>,</b> <b>const</b> <b>struct</b> <b>mtbl_reader_options</b> <b>*</b><u>ropt</u><b>);</b>

       <b>void</b>
       <b>mtbl_reader_destroy(struct</b> <b>mtbl_reader</b> <b>**</b><u>r</u><b>);</b>

       <b>const</b> <b>struct</b> <b>mtbl_source</b> <b>*</b>
       <b>mtbl_reader_source(struct</b> <b>mtbl_reader</b> <b>*</b><u>r</u><b>);</b>

       <b>const</b> <b>struct</b> <b>mtbl_metadata</b> <b>*</b>
       <b>mtbl_reader_metadata(struct</b> <b>mtbl_reader</b> <b>*</b><u>r</u><b>);</b>

       Reader options:

       <b>struct</b> <b>mtbl_reader_options</b> <b>*</b>
       <b>mtbl_reader_options_init(void);</b>

       <b>void</b>
       <b>mtbl_reader_options_destroy(struct</b> <b>mtbl_reader_options</b> <b>**</b><u>ropt</u><b>);</b>

       <b>void</b>
       <b>mtbl_reader_options_set_verify_checksums(</b>
               <b>struct</b> <b>mtbl_reader_options</b> <b>*</b><u>ropt</u><b>,</b>
               <b>bool</b> <u>verify_checksums</u><b>);</b>

       <b>void</b>
       <b>mtbl_reader_options_set_madvise_random(</b>
               <b>struct</b> <b>mtbl_reader_options</b> <b>*</b><u>ropt</u><b>,</b>
               <b>bool</b> <u>madvise_random</u><b>);</b>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       MTBL files are accessed by creating an <b>mtbl_reader</b> object, calling <b>mtbl_reader_source</b>() to obtain an
       <b>mtbl_source</b> handle, and using the <b><a href="../man3/mtbl_source.3.html">mtbl_source</a></b>(3) interface to read entries.

       <b>mtbl_reader</b> objects may be created by calling <b>mtbl_reader_init</b>() with an <u>fname</u> argument specifying the
       filename to be opened, or <b>mtbl_reader_init_fd</b>() may be called with an <u>fd</u> argument specifying an open,
       readable file descriptor. Since MTBL files are immutable, the same MTBL file may be opened and read from
       concurrently by independent threads or processes.

       If the <u>ropt</u> parameter to <b>mtbl_reader_init</b>() or <b>mtbl_reader_init_fd</b>() is non-NULL, the parameters
       specified in the <b>mtbl_reader_options</b> object will be configured into the <b>mtbl_reader</b> object.

       File-level metadata may be accessed using the <b><a href="../man3/mtbl_metadata.3.html">mtbl_metadata</a></b>(3) interface, using the object returned by
       <b>mtbl_reader_metadata</b>(). Note that the metadata object is valid only as long as the reader object exists.

   <b>Reader</b> <b>options</b>
       <b>verify_checksums</b>

           Specifies whether or not the CRC32C checksum on the index block and each data block should be
           verified or not. If <u>verify_checksums</u> is enabled, a checksum mismatch will cause a fatal runtime
           error. The default is to not verify index or data block checksums.

       <b>madvise_random</b>

           Specifies whether the kernel should be advised if the data access patterns are expected to be random
           or not. This may hurt some workloads but help others. The default is to not set this advisory
           information.

           This option can be explicitly overridden by setting the environment variable
           <b>MTBL_READER_MADVISE_RANDOM</b> to the string <b>"0"</b> (force disable) or <b>"1"</b> (force enable).

           This option only has any effect on systems that have the <b>posix_madvise</b> or <b>madvise</b> system calls.

</pre><h4><b>RETURN</b> <b>VALUE</b></h4><pre>
       <b>mtbl_reader_init</b>() and <b>mtbl_reader_init_fd</b>() return NULL on failure, and non-NULL on success.

                                                   11/14/2022                                     <u><a href="../man3/MTBL_READER.3.html">MTBL_READER</a></u>(3)
</pre>
 </div>
</div></section>
</div>
</body>
</html>