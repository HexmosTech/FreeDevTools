<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sys::Virt::StoragePool - Represent & manage a libvirt storage pool</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libsys-virt-perl">libsys-virt-perl_11.1.0-1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       Sys::Virt::StoragePool - Represent &amp; manage a libvirt storage pool

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The "Sys::Virt::StoragePool" module represents a storage pool managed by libvirt. There are a variety of
       storage pool implementations for LVM, Local directories/filesystems, network filesystems, disk
       partitioning, iSCSI, and SCSI.

</pre><h4><b>METHODS</b></h4><pre>
       my $uuid = $pool-&gt;<b>get_uuid()</b>
           Returns  a  16  byte long string containing the raw globally unique identifier (UUID) for the storage
           pool.

       my $uuid = $pool-&gt;<b>get_uuid_string()</b>
           Returns   a   printable   string   representation    of    the    raw    UUID,    in    the    format
           'XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX'.

       my $name = $pool-&gt;<b>get_name()</b>
           Returns a string with a locally unique name of the storage pool

       $pool-&gt;<b>is_active()</b>
           Returns a true value if the storage pool is currently running

       $pool-&gt;<b>is_persistent()</b>
           Returns a true value if the storage pool has a persistent configuration file defined

       my $xml = $pool-&gt;<b>get_xml_description()</b>
           Returns an XML document containing a complete description of the storage pool's configuration

       $pool-&gt;<b>create()</b>
           Start  a  storage  pool  whose  configuration  was previously defined using the "define_storage_pool"
           method in Sys::Virt.

       $pool-&gt;<b>undefine()</b>
           Remove the configuration associated with a storage pool previously defined with  the  "define_storage
           pool"  method  in  Sys::Virt.  If the storage pool is running, you probably want to use the "destroy"
           method instead.

       $pool-&gt;<b>destroy()</b>
           Immediately stop the storage pool.

       $flag = $pool-&gt;<b>get_autostart()</b>;
           Return a true value if the storage pool is configured to automatically start upon boot. Return false,
           otherwise

       $pool-&gt;set_autostart($flag)
           Set the state of the autostart flag, which determines whether the  storage  pool  will  automatically
           start upon boot of the host OS

       $pool-&gt;refresh([$flags]);
           Refresh  the  storage  pool state. Typically this will rescan the list of storage volumes. The $flags
           parameter is currently unused and if omitted defaults to zero.

       $pool-&gt;build([$flags]);
           Construct the storage pool if it does not exist. As an example, for a disk based  storage  pool  this
           would  ensure a partition table exists.  The $flags parameter allows control over the build operation
           and if omitted defaults to zero.

       $pool-&gt;delete([$flags]);
           Delete the storage pool. The $flags parameter allows the data to be optionally  wiped  during  delete
           and if omitted defaults to zero.

       $info = $pool-&gt;<b>get_info()</b>
           Retrieve  information  about  the  current  storage  pool  state. The returned hash reference has the
           following keys

           state
               The current status of the storage pool. See constants later.

           capacity
               The total logical size of the storage pool

           allocation
               The current physical allocation of the storage pool

           available
               The available space for creation of new volumes. This may be less  than  the  difference  between
               capacity &amp; allocation if there are sizing / metadata constraints for volumes

       my $nnames = $pool-&gt;<b>num_of_storage_volumes()</b>
           Return  the  number  of running volumes in this storage pool. The value can be used as the "maxnames"
           parameter to "list_storage_vol_names".

       my @volNames = $pool-&gt;list_storage_vol_names($maxnames)
           Return a list  of  all  volume  names  in  this  storage  pool.  The  names  can  be  used  with  the
           "get_volume_by_name" method.

       my @vols = $pool-&gt;<b>list_volumes()</b>
           Return a list of all volumes in the storage pool.  The elements in the returned list are instances of
           the  Sys::Virt::StorageVol  class.  This  method  requires  O(n) RPC calls, so the "list_all_volumes"
           method is recommended as a more efficient alternative.

       my @volumes = $pool-&gt;list_all_volumes($flags)
           Return a list of all storage volumes associated with this pool.  The elements in  the  returned  list
           are instances of the Sys::Virt::StorageVol class. The $flags parameter can be used to filter the list
           of return storage volumes.

       my $vol = $pool-&gt;get_volume_by_name($name)
           Return   the   volume   with   a   name  of  $name.  The  returned  object  is  an  instance  of  the
           Sys::Virt::StorageVol class.

       my $vol = $pool-&gt;create_volume($xml)
           Create a new volume based on the XML description passed into the $xml parameter. The returned  object
           is  an instance of the Sys::Virt::StorageVol class. If the optional "clonevol" is provided, data will
           be copied from that source volume

       my $vol = $pool-&gt;clone_volume($xml, $clonevol);
           Create a new volume based on the XML description passed into the $xml parameter. The returned  object
           is  an  instance  of the Sys::Virt::StorageVol class. The new volume will be populated with data from
           the specified clone source volume.

</pre><h4><b>CONSTANTS</b></h4><pre>
       The following sets of constants may be useful in dealing with some of the methods in this package

   <b>STORAGE</b> <b>POOL</b> <b>DEFINE</b>
       The following constants can be used to control the behaviour of storage pool define operations

       Sys::Virt::StoragePool::DEFINE_VALIDATE
           Validate the XML document against the XML schema

   <b>POOL</b> <b>STATES</b>
       The following constants are useful for interpreting the  "state"  key  value  in  the  hash  returned  by
       "get_info"

       Sys::Virt::StoragePool::STATE_INACTIVE
           The storage pool is not currently active

       Sys::Virt::StoragePool::STATE_BUILDING
           The storage pool is still being constructed and is not ready for use yet.

       Sys::Virt::StoragePool::STATE_RUNNING
           The storage pool is running and can be queried for volumes

       Sys::Virt::StoragePool::STATE_DEGRADED
           The storage pool is running, but its operation is degraded due to a failure.

       Sys::Virt::StoragePool::STATE_INACCESSIBLE
           The storage pool is not currently accessible

   <b>DELETION</b> <b>MODES</b>
       Sys::Virt::StoragePool::DELETE_NORMAL
           Delete the pool without any attempt to scrub data

       Sys::Virt::StoragePool::DELETE_ZEROED
           Fill the allocated storage with zeros when deleting

   <b>BUILD</b> <b>MODES</b>
       Sys::Virt::StoragePool::BUILD_NEW
           Construct a new storage pool from constituent bits

       Sys::Virt::StoragePool::BUILD_RESIZE
           Resize an existing built storage pool preserving data where appropriate

       Sys::Virt::StoragePool::BUILD_REPAIR
           Repair an existing storage pool operating in degraded mode

       Sys::Virt::StoragePool::BUILD_NO_OVERWRITE
           Do not overwrite existing storage pool data

       Sys::Virt::StoragePool::BUILD_OVERWRITE
           Overwrite existing storage pool data

   <b>CREATE</b> <b>MODES</b>
       When  creating a storage pool it can be built at the same time.  The following values are therefore close
       to their BUILD counterparts.

       Sys::Virt::StoragePool::CREATE_NORMAL
           Just create the storage pool without building it.

       Sys::Virt::StoragePool::CREATE_WITH_BUILD
           When creating new storage pool also perform pool build without any flags.

       Sys::Virt::StoragePool::CREATE_WITH_BUILD_OVERWRITE
           Create the pool and perform pool build using the BUILD_OVERWRITE flag. This is mutually exclusive  to
           CREATE_WITH_BUILD_NO_OVERWRITE.

       Sys::Virt::StoragePool::CREATE_WITH_BUILD_NO_OVERWRITE
           Create  the pool and perform pool build using the BUILD_NO_OVERWRITE flag. This is mutually exclusive
           to CREATE_WITH_BUILD_OVERWRITE.

   <b>XML</b> <b>DOCUMENTS</b>
       The following constants are useful when requesting XML for storage pools

       Sys::Virt::StoragePool::XML_INACTIVE
           Return XML describing the inactive state of the storage pool.

</pre><h4><b>LIST</b> <b>FILTERING</b></h4><pre>
       The following constants are used to filter object lists

       Sys::Virt::StoragePool::LIST_ACTIVE
           Include storage pools which are active

       Sys::Virt::StoragePool::LIST_INACTIVE
           Include storage pools which are inactive

       Sys::Virt::StoragePool::LIST_AUTOSTART
           Include storage pools which are marked for autostart

       Sys::Virt::StoragePool::LIST_NO_AUTOSTART
           Include storage pools which are not marked for autostart

       Sys::Virt::StoragePool::LIST_PERSISTENT
           Include storage pools which are persistent

       Sys::Virt::StoragePool::LIST_TRANSIENT
           Include storage pools which are transient

       Sys::Virt::StoragePool::LIST_DIR
           Include directory storage pools

       Sys::Virt::StoragePool::LIST_DISK
           Include disk storage pools

       Sys::Virt::StoragePool::LIST_FS
           Include filesystem storage pools

       Sys::Virt::StoragePool::LIST_ISCSI
           Include iSCSI storage pools

       Sys::Virt::StoragePool::LIST_LOGICAL
           Include LVM storage pools

       Sys::Virt::StoragePool::LIST_MPATH
           Include multipath storage pools

       Sys::Virt::StoragePool::LIST_NETFS
           Include network filesystem storage pools

       Sys::Virt::StoragePool::LIST_RBD
           Include RBD storage pools

       Sys::Virt::StoragePool::LIST_SCSI
           Include SCSI storage pools

       Sys::Virt::StoragePool::LIST_SHEEPDOG
           Include sheepdog storage pools

       Sys::Virt::StoragePool::LIST_GLUSTER
           Include gluster storage pools

       Sys::Virt::StoragePool::LIST_ZFS
           Include ZFS storage pools

       Sys::Virt::StoragePool::LIST_VSTORAGE
           Include VStorage storage pools

       Sys::Virt::StoragePool::LIST_ISCSI_DIRECT
           Include direct iSCSI pools

   <b>EVENT</b> <b>ID</b> <b>CONSTANTS</b>
       Sys::Virt::StoragePool::EVENT_ID_LIFECYCLE
           Storage pool lifecycle events

       Sys::Virt::StoragePool::EVENT_ID_REFRESH
           Storage pool volume refresh events

   <b>LIFECYCLE</b> <b>CHANGE</b> <b>EVENTS</b>
       The following constants allow storage pool lifecycle change events to be interpreted. The events  contain
       both a state change, and a reason though the reason is currently unused.

       Sys::Virt::StoragePool::EVENT_DEFINED
           Indicates that a persistent configuration has been defined for the storage pool

       Sys::Virt::StoragePool::EVENT_STARTED
           The storage pool has started running

       Sys::Virt::StoragePool::EVENT_STOPPED
           The storage pool has stopped running

       Sys::Virt::StoragePool::EVENT_UNDEFINED
           The persistent configuration has gone away

       Sys::Virt::StoragePool::EVENT_CREATED
           The underlying storage has been built

       Sys::Virt::StoragePool::EVENT_DELETED
           The underlying storage has been released

</pre><h4><b>AUTHORS</b></h4><pre>
       Daniel P. Berrange &lt;<a href="mailto:berrange@redhat.com">berrange@redhat.com</a>&gt;

</pre><h4><b>COPYRIGHT</b></h4><pre>
       Copyright (C) 2006-2009 Red Hat Copyright (C) 2006-2009 Daniel P. Berrange

</pre><h4><b>LICENSE</b></h4><pre>
       This program is free software; you can redistribute it and/or modify it under the terms of either the GNU
       General  Public License as published by the Free Software Foundation (either version 2 of the License, or
       at your option any later version), or, the Artistic License, as specified in the Perl README file.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       Sys::Virt, Sys::Virt::Error, "<a href="http://libvirt.org">http://libvirt.org</a>"

perl v5.40.1                                       2025-03-21                        <u>Sys::Virt::<a href="../man3pm/StoragePool.3pm.html">StoragePool</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>