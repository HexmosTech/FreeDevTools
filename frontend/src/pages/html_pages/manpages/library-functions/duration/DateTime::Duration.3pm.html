<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DateTime::Duration - Duration objects for date math</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libdatetime-perl">libdatetime-perl_1.65-1build3_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       DateTime::Duration - Duration objects for date math

</pre><h4><b>VERSION</b></h4><pre>
       version 1.65

</pre><h4><b>SYNOPSIS</b></h4><pre>
           use DateTime::Duration;

           $dur = DateTime::Duration-&gt;new(
               years        =&gt; 3,
               months       =&gt; 5,
               weeks        =&gt; 1,
               days         =&gt; 1,
               hours        =&gt; 6,
               minutes      =&gt; 15,
               seconds      =&gt; 45,
               nanoseconds  =&gt; 12000,
               end_of_month =&gt; 'limit',
           );

           my ( $days, $hours, $seconds )
               = $dur-&gt;in_units( 'days', 'hours', 'seconds' );

           # Human-readable accessors, always positive, but consider using
           # DateTime::Format::Duration instead
           $dur-&gt;years;
           $dur-&gt;months;
           $dur-&gt;weeks;
           $dur-&gt;days;
           $dur-&gt;hours;
           $dur-&gt;minutes;
           $dur-&gt;seconds;
           $dur-&gt;nanoseconds;

           $dur-&gt;is_wrap_mode;
           $dur-&gt;is_limit_mode;
           $dur-&gt;is_preserve_mode;

           print $dur-&gt;end_of_month_mode;

           # Multiply all values by -1
           my $opposite = $dur-&gt;inverse;

           my $bigger  = $dur1 + $dur2;
           my $smaller = $dur1 - $dur2;    # the result could be negative
           my $bigger  = $dur1 * 3;

           my $base_dt = DateTime-&gt;new( year =&gt; 2000 );
           my @sorted
               = sort { DateTime::Duration-&gt;compare( $a, $b, $base_dt ) } @durations;

           if ( $dur-&gt;is_positive ) {...}
           if ( $dur-&gt;is_zero )     {...}
           if ( $dur-&gt;is_negative ) {...}

</pre><h4><b>DESCRIPTION</b></h4><pre>
       This is a simple class for representing duration objects. These objects are used whenever you do date
       math with DateTime.

       See the How DateTime Math Works section of the DateTime documentation for more details. The short course:
       One cannot in general convert between seconds, minutes, days, and months, so this class will never do so.
       Instead, create the duration with the desired units to begin with, for example by calling the appropriate
       subtraction/delta method on a DateTime object.

</pre><h4><b>METHODS</b></h4><pre>
       Like DateTime itself, "DateTime::Duration" returns the object from mutator methods in order to make
       method chaining possible.

       "DateTime::Duration" has the following methods:

   <b>DateTime::Duration-&gt;new(</b> <b>...</b> <b>)</b>
       This class method accepts the following parameters:

       •   years

           An integer containing the number of years in the duration. This is optional.

       •   months

           An integer containing the number of months in the duration. This is optional.

       •   weeks

           An integer containing the number of weeks in the duration. This is optional.

       •   days

           An integer containing the number of days in the duration. This is optional.

       •   hours

           An integer containing the number of hours in the duration. This is optional.

       •   minutes

           An integer containing the number of minutes in the duration. This is optional.

       •   seconds

           An integer containing the number of seconds in the duration. This is optional.

       •   nanoseconds

           An integer containing the number of nanoseconds in the duration. This is optional.

       •   end_of_month

           This  must  be  either  "wrap",  "limit",  or "preserve". This parameter specifies how date math that
           crosses the end of a month is handled.

           In "wrap" mode, adding months or years that result in days beyond the end of the new month will  roll
           over into the following month. For instance, adding one year to Feb 29 will result in Mar 1.

           If  you specify "limit", the end of the month is never crossed. Thus, adding one year to Feb 29, 2000
           will result in Feb 28, 2001. If you were to then add three more years this will  result  in  Feb  28,
           2004.

           If  you  specify  "preserve", the same calculation is done as for "limit" except that if the original
           date is at the end of the month the new date will also be. For instance, adding one month to Feb  29,
           2000 will result in Mar 31, 2000.

           For  positive  durations,  this  parameter defaults to "wrap". For negative durations, the default is
           "preserve". This should match how most people "intuitively" expect datetime math to work.

       All of the duration units can be positive or negative. However, if any of the numbers are  negative,  the
       entire duration is negative.

       All of the numbers <b>must</b> <b>be</b> <b>integers</b>.

       Internally,  years  as  just  treated as 12 months. Similarly, weeks are treated as 7 days, and hours are
       converted to minutes. Seconds and nanoseconds are both treated separately.

   <b>$dur-&gt;clone</b>
       Returns a new object with the same properties as the object on which this method was called.

   <b>$dur-&gt;in_units(</b> <b>...</b> <b>)</b>
       Returns  the  length  of  the  duration  in  the  units  (any  of   those   that   can   be   passed   to
       "DateTime::Duration-&gt;new")  given  as  arguments.  All lengths are integral, but may be negative. Smaller
       units are computed from what remains after taking away the larger units given, so for example:

           my $dur = DateTime::Duration-&gt;new( years =&gt; 1, months =&gt; 15 );

           $dur-&gt;in_units('years');                # 2
           $dur-&gt;in_units('months');               # 27
           $dur-&gt;in_units( 'years', 'months' );    # (2, 3)
           $dur-&gt;in_units( 'weeks', 'days' );      # (0, 0) !

       The last example demonstrates that there will not be any conversion between  units  which  don't  have  a
       fixed conversion rate. The only conversions possible are:

       •   years &lt;=&gt; months

       •   weeks &lt;=&gt; days

       •   hours &lt;=&gt; minutes

       •   seconds &lt;=&gt; nanoseconds

       For  the  explanation  of  why  this  is  the case, please see the How DateTime Math Works section of the
       DateTime documentation

       Note that the numbers returned by this method may not match the values given to the constructor.

       In list context, "$dur-&gt;in_units" returns the lengths in the order of the units given. In scalar context,
       it returns the length in the first unit (but still computes in terms of all given units).

       If you  need  more  flexibility  in  presenting  information  about  durations,  please  take  a  look  a
       DateTime::Format::Duration.

   <b>$dur-&gt;is_positive,</b> <b>$dur-&gt;is_zero,</b> <b>$dur-&gt;is_negative</b>
       Indicates whether or not the duration is positive, zero, or negative.

       If  the  duration  contains  both positive and negative units, then it will return false for <b>all</b> of these
       methods.

   <b>$dur-&gt;is_wrap_mode,</b> <b>$dur-&gt;is_limit_mode,</b> <b>$dur-&gt;is_preserve_mode</b>
       Indicates what mode is used for end of month wrapping.

   <b>$dur-&gt;end_of_month_mode</b>
       Returns one of "wrap", "limit", or "preserve".

   <b>$dur-&gt;calendar_duration</b>
       Returns a new object with the same <u>calendar</u> delta (months and days only) and end of  month  mode  as  the
       current object.

   <b>$dur-&gt;clock_duration</b>
       Returns a new object with the same <u>clock</u> deltas (minutes, seconds, and nanoseconds) and end of month mode
       as the current object.

   <b>$dur-&gt;inverse(</b> <b>...</b> <b>)</b>
       Returns  a  new object with the same deltas as the current object, but multiplied by -1. The end of month
       mode for the new object will be the default end of month mode, which depends on whether the new  duration
       is positive or negative.

       You  can  set  the  end  of  month  mode in the inverted duration explicitly by passing an "end_of_month"
       parameter to the "$dur-&gt;inverse" method.

   <b>$dur-&gt;add_duration($duration_object),</b> <b>$dur-&gt;subtract_duration($duration_object)</b>
       Adds or subtracts one duration from another.

   <b>$dur-&gt;add(</b> <b>...</b> <b>),</b> <b>$dur-&gt;subtract(</b> <b>...</b> <b>)</b>
       These accept either  constructor  parameters  for  a  new  "DateTime::Duration"  object  or  an  already-
       constructed duration object.

   <b>$dur-&gt;multiply($number)</b>
       Multiplies each unit in the "DateTime::Duration" object by the specified integer number.

   <b>DateTime::Duration-&gt;compare(</b> <b>$duration1,</b> <b>$duration2,</b> <b>$base_datetime</b> <b>)</b>
       This  is a class method that can be used to compare or sort durations.  Comparison is done by adding each
       duration to the specified DateTime object and  comparing  the  resulting  datetimes.  This  is  necessary
       because  without a base, many durations are not comparable. For example, 1 month may or may not be longer
       than 29 days, depending on what datetime it is added to.

       If no base datetime is given, then the result of "DateTime-&gt;now" is used instead. Using this default will
       give non-repeatable results if used to compare two duration objects containing different units.  It  will
       also  give  non-repeatable  results  if the durations contain multiple types of units, such as months and
       days.

       However, if you know that both objects only consist of one type of unit (months <u>or</u> days <u>or</u> hours,  etc.),
       and each duration contains the same type of unit, then the results of the comparison will be repeatable.

   <b>$dur-&gt;delta_months,</b> <b>$dur-&gt;delta_days,</b> <b>$dur-&gt;delta_minutes,</b> <b>$dur-&gt;delta_seconds,</b> <b>$dur-&gt;delta_nanoseconds</b>
       These  methods  provide  the information DateTime needs for doing date math.  The numbers returned may be
       positive or negative. This is mostly useful for doing date math in DateTime.

   <b>$dur-&gt;deltas</b>
       Returns a hash with the keys "months", "days", "minutes", "seconds", and  "nanoseconds",  containing  all
       the delta information for the object. This is mostly useful for doing date math in DateTime.

   <b>$dur-&gt;years,</b>    <b>$dur-&gt;months,</b>    <b>$dur-&gt;weeks,</b>    <b>$dur-&gt;days,</b>   <b>$dur-&gt;hours,</b>   <b>$dur-&gt;minutes,</b>   <b>$dur-&gt;seconds,</b>
       <b>$dur-&gt;nanoseconds</b>
       These methods return numbers indicating how many of the given unit the object  represents,  after  having
       done  a  conversion  to  any  larger  units. For example, days are first converted to weeks, and then the
       remainder is returned. These numbers are always positive.

       Here's what each method returns:

           $dur-&gt;years       == abs( $dur-&gt;in_units('years') )
           $dur-&gt;months      == abs( ( $dur-&gt;in_units( 'months', 'years' ) )[0] )
           $dur-&gt;weeks       == abs( $dur-&gt;in_units( 'weeks' ) )
           $dur-&gt;days        == abs( ( $dur-&gt;in_units( 'days', 'weeks' ) )[0] )
           $dur-&gt;hours       == abs( $dur-&gt;in_units( 'hours' ) )
           $dur-&gt;minutes     == abs( ( $dur-&gt;in_units( 'minutes', 'hours' ) )[0] )
           $dur-&gt;seconds     == abs( $dur-&gt;in_units( 'seconds' ) )
           $dur-&gt;nanoseconds == abs( ( $dur-&gt;in_units( 'nanoseconds', 'seconds' ) )[0] )

       If this seems confusing, remember that you can always use the "$dur-&gt;in_units" method to specify  exactly
       what you want.

       Better    yet,    if   you   are   trying   to   generate   output   suitable   for   humans,   use   the
       "DateTime::Format::Duration" module.

   <b>Overloading</b>
       This class overloads addition, subtraction, and mutiplication.

       Comparison is <b>not</b> overloaded. If you attempt to compare durations using "&lt;=&gt;" or "cmp", then an exception
       will be thrown!  Use the "compare" class method instead.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <a href="mailto:datetime@perl.org">datetime@perl.org</a> mailing list

</pre><h4><b>SUPPORT</b></h4><pre>
       Support for this module is provided via the <a href="mailto:datetime@perl.org">datetime@perl.org</a> email list. See <a href="http://lists.perl.org/">http://lists.perl.org/</a>  for
       more details.

       Bugs may be submitted at &lt;https://github.com/houseabsolute/DateTime.pm/issues&gt;.

       There is a mailing list available for users of this distribution, &lt;<a href="mailto:datetime@perl.org">mailto:datetime@perl.org</a>&gt;.

</pre><h4><b>SOURCE</b></h4><pre>
       The source code repository for DateTime can be found at &lt;https://github.com/houseabsolute/DateTime.pm&gt;.

</pre><h4><b>AUTHOR</b></h4><pre>
       Dave Rolsky &lt;<a href="mailto:autarch@urth.org">autarch@urth.org</a>&gt;

</pre><h4><b>COPYRIGHT</b> <b>AND</b> <b>LICENSE</b></h4><pre>
       This software is Copyright (c) 2003 - 2023 by Dave Rolsky.

       This is free software, licensed under:

         The Artistic License 2.0 (GPL Compatible)

       The full text of the license can be found in the <u>LICENSE</u> file included with this distribution.

perl v5.40.0                                       2024-10-20                            <u>DateTime::<a href="../man3pm/Duration.3pm.html">Duration</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>