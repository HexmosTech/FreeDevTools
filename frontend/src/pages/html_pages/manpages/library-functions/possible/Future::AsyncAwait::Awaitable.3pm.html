<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>"Future::AsyncAwait::Awaitable" - the interface required by "Future::AsyncAwait"</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libfuture-asyncawait-perl">libfuture-asyncawait-perl_0.70-1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       "Future::AsyncAwait::Awaitable" - the interface required by "Future::AsyncAwait"

</pre><h4><b>DESCRIPTION</b></h4><pre>
       This module documents the method interface required by "Future::AsyncAwait" to operate on future
       instances returned by expressions invoked by the "await" keyword, and returned by functions declared by
       "async sub". This information is largely of relevance to implementors of other module integrations, event
       systems, or similar. It is not necessary to make regular use of the syntax provided by the module when
       working with existing event systems.

       The methods required by this interface are all capitalised and prefixed with "AWAIT_...", ensuring they
       are unlikely to clash with existing methods on a class which may have differing semantics.

   <b>Role::Tiny</b>
       If Role::Tiny is available, this module declares itself to be a role that requires the following named
       methods. The role supplies no code to the applied class, but can be useful for checking that you have in
       fact implemented all of the required methods.

   <b>Conformance</b> <b>Test</b>
       To assist implementors of alternative future-like classes, an API conformance test suite is provided by
       Test::Future::AsyncAwait::Awaitable. You may find this useful to check that your implementation is
       suitable.

</pre><h4><b>CONSTRUCTORS</b></h4><pre>
       The following methods are expected to create new future instances. They make use of the class set by the
       prevailing "future_class" import argument, if set, or default to "Future" if not.

   <b>AWAIT_NEW_DONE</b>
       Generate a new immediate future that is successful. The future will already be ready and have the list of
       values set as its result.

          $f = $CLASS-&gt;AWAIT_NEW_DONE( @results );

          # $f-&gt;AWAIT_IS_READY will be true
          # $f-&gt;AWAIT_GET will return @results

   <b>AWAIT_NEW_FAIL</b>
       Generate a new immediate future that is failed. The future will already be ready and invoking the
       "AWAIT_GET" method will throw the given exception.

          $f = $CLASS-&gt;AWAIT_NEW_FAIL( $message );

          # $f-&gt;AWAIT_IS_READY will be true
          # $f-&gt;AWAIT_GET will throw $message

</pre><h4><b>INSTANCE</b> <b>METHODS</b></h4><pre>
   <b>AWAIT_CLONE</b>
       Generate a new pending future of the same type as an existing one, which is not modified by doing so. It
       will only be invoked on instances that are currently pending.

          $new_f = $f-&gt;AWAIT_CLONE;

       If the instance has any fields that are required for successful operation (such as application-wide
       context or event system components) these ought to be copied. The method should not otherwise copy any
       per-instance state such as pending callbacks or partial results.

   <b>AWAIT_DONE</b>
       Sets the success result of an existing still-pending future. It will only be invoked on future instances
       that are currently pending.

          $f-&gt;AWAIT_DONE( @results );

          # $f-&gt;AWAIT_IS_READY will now be true
          # $f-&gt;AWAIT_GET will now return @results

   <b>AWAIT_FAIL</b>
       Sets the failure result of an existing still-pending future. It will only be invoked on future instances
       that are currently pending.

          $f-&gt;AWAIT_FAIL( $message );

          # $f-&gt;AWAIT_IS_READY will now be true
          # $f-&gt;AWAIT_GET will now throw $message

   <b>AWAIT_IS_READY</b>
       Returns true if a future is ready (successful, failed or cancelled); false if still pending.

          $bool = $f-&gt;AWAIT_IS_READY;

   <b>AWAIT_IS_CANCELLED</b>
       Returns true is a future has already been cancelled; false if still pending, successful or failed.

          $bool = $f-&gt;AWAIT_IS_CANCELLED;

       An implementation that does not support cancellation can simply return a constant false here:

          sub AWAIT_IS_CANCELLED { 0 }

   <b>AWAIT_GET</b>
       Yields the result of a successful future (or just the first value if called in scalar context). Throws
       the failure message as an exception if called on a a failed one. Will not be invoked on a pending or
       cancelled future.

          @result = $f-&gt;AWAIT_GET;
          $result = $f-&gt;AWAIT_GET;
          $f-&gt;AWAIT_GET;

   <b>AWAIT_ON_READY</b>
       Attach a new CODE reference to be invoked when the future becomes ready (by success or failure). The
       arguments and context that $code is invoked with are unspecified.

          $f-&gt;AWAIT_ON_READY( $code );

   <b>AWAIT_CHAIN_CANCEL</b>
       Attach a future instance to be cancelled when another one is cancelled.

          $f1-&gt;AWAIT_CHAIN_CANCEL( $f2 );

       When $f1 is cancelled, then $f2 is cancelled. There is no link from $f2 back to $f1 - whenever $f2
       changes state here, nothing special happens to $f1.

       An implementation that does not support cancellation can simply ignore this method.

          sub AWAIT_CHAIN_CANCEL { }

       An older version of this API specification named this "AWAIT_ON_CANCEL", but that name will be repurposed
       for attaching code blocks in a later version.

   <b>AWAIT_ON_CANCEL</b>
       Attach a new CODE reference to be invoked when the future is cancelled.

          $f-&gt;AWAIT_ON_CANCEL( $code );

       An implementation that does not support cancellation can simply ignore this method.

          sub AWAIT_ON_CANCEL { }

   <b>AWAIT_WAIT</b>
       Called by the toplevel "await" expression in order to run the event system and wait for the instance to
       be ready. It should return results or throw an exception in the same manner as "AWAIT_GET".

          @result = $f-&gt;AWAIT_WAIT;
          $result = $f-&gt;AWAIT_WAIT;
          $f-&gt;AWAIT_WAIT;

</pre><h4><b>AUTHOR</b></h4><pre>
       Paul Evans &lt;<a href="mailto:leonerd@leonerd.org.uk">leonerd@leonerd.org.uk</a>&gt;

perl v5.40.0                                       2025-01-06                 <u>Future::AsyncAwait::<a href="../man3pm/Awaitable.3pm.html">Awaitable</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>