<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>"Test::Future::AsyncAwait::Awaitable" - conformance tests for awaitable role API</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libfuture-asyncawait-perl">libfuture-asyncawait-perl_0.70-1_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       "Test::Future::AsyncAwait::Awaitable" - conformance tests for awaitable role API

</pre><h4><b>SYNOPSIS</b></h4><pre>
          use Test::More;
          use Test::Future::AsyncAwait::Awaitable;

          use My::Future::Subclass;

          test_awaitable "My subclass of Future",
             class =&gt; "My::Future::Subclass";

          done_testing;

</pre><h4><b>DESCRIPTION</b></h4><pre>
       This module provides a single test function, which runs a suite of subtests to check that a given class
       provides a useable implementation of the Future::AsyncAwait::Awaitable role. It runs tests that simulate
       various ways in which Future::AsyncAwait will try to use an instance of this class, to check that the
       implementation is valid.

</pre><h4><b>FUNCTIONS</b></h4><pre>
   <b>test_awaitable</b>
          test_awaitable( $title, %args );

       Runs the API conformance tests. $title is printed in the test description output so should be some human-
       friendly string.

       Takes the following named arguments:

       class =&gt; STRING
           Gives  the  name  of  the class. This is the class on which the "AWAIT_NEW_DONE" and "AWAIT_NEW_FAIL"
           methods will be invoked.

       new =&gt; CODE
           Optional. Gives a callback function to invoke to construct a new pending instance; used by the  tests
           to create pending instances that would be passed into the "await" keyword. As this is not part of the
           API as such, the test code does not rely on being able to directly perform it via the API.

           This  argument  is  optional;  if  not provided the tests will simply try to invoke the regular "new"
           constructor on the given class name. For most implementations this should be sufficient.

              $f = $new-&gt;();

       cancel =&gt; CODE
           Optional. Gives a callback function to invoke to cancel a pending  instance,  if  the  implementation
           provides  cancellation  semantics. If this callback is provided then an extra subtest suite is run to
           check the API around cancellation.

              $cancel-&gt;( $f );

       force =&gt; CODE
           Optional. Gives a callback function to invoke to wait for a promise to invoke its on-ready callbacks.
           Some future-like implementations will run these immediately when the future  is  marked  as  done  or
           failed,  and  so  this  callback  will  not  be  required.  Other  implementations  will  defer these
           invocations, perhaps until the next tick of an event loop or  similar.  In  the  latter  case,  these
           implementations should provide a way for the test to wait for this to happen.

              $force-&gt;( $f );

</pre><h4><b>AUTHOR</b></h4><pre>
       Paul Evans &lt;<a href="mailto:leonerd@leonerd.org.uk">leonerd@leonerd.org.uk</a>&gt;

perl v5.40.0                                       2025-01-06              <u>Test::Future::...wait::<a href="../man3pm/Awaitable.3pm.html">Awaitable</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>