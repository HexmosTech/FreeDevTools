<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>import - functionality for reading images from files libAfterImage/import.h</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libafterimage-dev">libafterimage-dev_2.2.12-18_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       <b>import</b> - functionality for reading images from files libAfterImage/import.h

</pre><h4><b>NAMEimport</b></h4><pre>
       - Image file format autodetection, reading and decoding routines.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       Functions :
               file2ASImage(), get_asimage(), file2pixmap()

       Other libAfterImage modules :
                ascmap.h asfont.h asimage.h asvisual.h blender.h export.h
                import.h transform.h ximage.h

</pre><h4><b>AUTHOR</b></h4><pre>
       Sasha Vasko &lt;sasha at aftercode dot net&gt;
       libAfterImage/gamma

</pre><h4><b>NAMESCREEN_GAMMA</b></h4><pre>
       - Defines default value for screen gamma correction.

</pre><h4><b>SOURCE</b></h4><pre>
           #define SCREEN_GAMMA 2.2 #define DEFAULT_PNG_IMAGE_GAMMA     0.45455

       libAfterImage/ASImageFileTypes

</pre><h4><b>NAMEASImageFileTypes</b></h4><pre>
       - List of known image file formats.

</pre><h4><b>SOURCE</b></h4><pre>
           typedef enum {
               ASIT_Xpm = 0,
               ASIT_ZCompressedXpm,
               ASIT_GZCompressedXpm,
               ASIT_Png,
               ASIT_Jpeg,
               ASIT_Xcf,
               ASIT_Ppm,
               ASIT_Pnm,
               ASIT_Bmp,
               ASIT_Ico,
               ASIT_Cur,
               ASIT_Gif,
               ASIT_Tiff,
               ASIT_XMLScript,
               ASIT_SVG,
               /* reserved for future implementation : */
               ASIT_Xbm,
               ASIT_Targa,
               ASIT_Supported = ASIT_Targa,
               ASIT_Pcx,
               ASIT_HTML,
               ASIT_XML,
               ASIT_Unknown }ASImageFileTypes;

       libAfterImage/ASImageListEntry

</pre><h4><b>NAMEASImageListEntry</b></h4><pre>
       - entry in linked list of images loaded from single directory.

</pre><h4><b>SOURCE</b></h4><pre>
           typedef  struct  ASImageListEntryBuffer { #define ASILEB_Dirty        (0x01&lt;&lt;0) #define ASILEB_Binary
           (0x01&lt;&lt;1)

               ASFlagType flags ;

               size_t size ;
               char  *data ;

           }ASImageListEntryBuffer;

           typedef struct ASImageListEntry  {  #define  MAGIC_ASIMAGE_LIST_ENTRY             0xA3A311E4  #define
           IS_ASIMAGE_LIST_ENTRY(e)  (((e)!=NULL)&amp;&amp;((e)-&gt;magic==MAGIC_ASIMAGE_LIST_ENTRY)&amp;&amp;((e)-&gt;ref_count&gt;0))

               unsigned long magic ;
               struct ASImageListEntry *prev, *next ;
               char   *name ;
               char   *fullfilename ;

               ASImageFileTypes    type;
               ASImage            *preview;

           #ifndef _WIN32
               mode_t d_mode; #endif
               time_t d_mtime;
               off_t  d_size;      /* total size, in bytes */

               ASImageListEntryBuffer *buffer ;

               int ref_count; }ASImageListEntry;

       libAfterImage/import/file2ASImage()

</pre><h4><b>NAMEfile2ASImage()</b></h4><pre>
       - load ASImage from file.

</pre><h4><b>SYNOPSIS</b></h4><pre>
       ASImage *file2ASImage( const char *file, ASFlagType what,
                              double gamma,
                              unsigned int compression, ... );

</pre><h4><b>INPUTS</b></h4><pre>
       file   - file name with or without directory name

       what   - reserved for future use

       gamma  - gamma value to be used to correct image

       compression
              - compression level of the resulting ASImage

       ...    -  NULL  terminated  list  of strings, representing arbitrary number of directories to be searched
              each.

</pre><h4><b>RETURN</b> <b>VALUE</b></h4><pre>
       Pointer to ASImage structure holding image data on success.  NULL on failure

</pre><h4><b>DESCRIPTION</b></h4><pre>
       file2ASImage will attempt to interpret filename in the following way: 1)It will try to  find  file  using
       unmodified filename in all the provided search paths.  2)It will attempt to append .gz and then .Z to the
       filename  and  find  such  file  in  all  the  provided  search paths.  3)If filename ends with extension
       consisting of digits only - it will attempt to find file with this extension  stripped  off.  On  success
       this extension will be used to load subimage from the file with that number. Subimages are supported only
       for  XCF,  GIF,  BMP,  ICO and CUR files.  After the file is found file2ASImage() attempts to detect file
       format, and if it is known it will load it into new ASImage structure.

</pre><h4><b>EXAMPLE</b></h4><pre>
       asview.c: ASView.2
       libAfterImage/import/get_asimage()

</pre><h4><b>NAMEget_asimage()</b></h4><pre>
       - increment reference counter if file is already loaded, or load image from file.

</pre><h4><b>SYNOPSIS</b></h4><pre>
       ASImage *get_asimage( ASImageManager* imageman, const char *file,
                             ASFlagType what, unsigned int compression );

</pre><h4><b>INPUTS</b></h4><pre>
       imageman
              - pointer to valid ASVisual structure.

       file   - root window ID for the destination screen.

       what   - full image file's name with path.

       compression
              -

</pre><h4><b>RETURN</b> <b>VALUE</b></h4><pre>
       Pointer to ASImage structure holding image data on success.  NULL on failure

</pre><h4><b>DESCRIPTION</b></h4><pre>
       get_asimage will attempt check with the ASImageManager's list of load images, and if image with requested
       filename already exists - it will increment its reference count and return  its  pointer.   Otherwise  it
       will  call  file2ASImage()  to  load  image  from  file.  It  will  use  PATH  and  gamma values from the
       ASImageManager to pass to file2ASImage(). If image is successfully loaded -  it  will  be  added  to  the
       ASImageManager's list and its pointer will be returned.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       file2ASImage()
       libAfterImage/import/file2pixmap()

</pre><h4><b>NAMEfile2pixmap()</b></h4><pre>
       - convenience function to load file into X Pixmap.

</pre><h4><b>SYNOPSIS</b></h4><pre>
       Pixmap file2pixmap( struct ASVisual *asv, Window root,
                           const char *realfilename,
                           Pixmap *mask_out);

</pre><h4><b>INPUTS</b></h4><pre>
       asv    - pointer to valid ASVisual structure.

       root   - root window ID for the destination screen.

       realfilename
              - full image file's name with path.

</pre><h4><b>RETURN</b> <b>VALUE</b></h4><pre>
       Pixmap  ID  of the X Pixmap filled with loaded image. If mask_out is not NULL it will point to image mask
       Pixmap ID if there is an alpha channel in image, None otherwise.  On failure None will be returned.

</pre><h4><b>DESCRIPTION</b></h4><pre>
       file2pixmap() will attempt to open specified file and autodetect its format. If format is known  it  will
       load  it  into  ASImage  first, and then convert it into X Pixmap. In case image has alpha channel - mask
       Pixmap will be produced if mask_out is not NULL.

3rd Berkeley Distribution                      AfterStep v.2.2.12                                     <u><a href="../man3x/import.3x.html">import</a></u>(3x)
</pre>
 </div>
</div></section>
</div>
</body>
</html>