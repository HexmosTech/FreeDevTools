<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CURLOPT_HSTS - HSTS cache filename</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libcurl4-doc">libcurl4-doc_8.14.1-1ubuntu2_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       CURLOPT_HSTS - HSTS cache filename

</pre><h4><b>SYNOPSIS</b></h4><pre>
       #include &lt;curl/curl.h&gt;

       CURLcode curl_easy_setopt(CURL *handle, CURLOPT_HSTS, char *filename);

</pre><h4><b>DESCRIPTION</b></h4><pre>
       Make the <u>filename</u> point to a filename to load an existing HSTS cache from, and to store the cache in when
       the  easy  handle  is closed. Setting a file name with this option also enables HSTS for this handle (the
       equivalent of setting <u>CURLHSTS_ENABLE</u> with <u><a href="../man3/CURLOPT_HSTS_CTRL.3.html">CURLOPT_HSTS_CTRL</a>(3)</u>).

       If the given file does not exist or contains no HSTS entries at startup, the  HSTS  cache  simply  starts
       empty.  Setting  the  filename to NULL allows HSTS without reading from or writing to any file. NULL also
       makes libcurl clear the list of files to read HSTS data from, if any such were previously set.

       If this option is set multiple times, libcurl loads cache entries from each given file  but  only  stores
       the last used name for later writing.

</pre><h4><b>FILE</b> <b>FORMAT</b></h4><pre>
       The HSTS cache is saved to and loaded from a text file with one entry per physical line. Each line in the
       file has the following format:

       [host] [stamp]

       [host]  is  the  domain  name  for the entry and the name is dot-prefixed if it is an entry valid for all
       subdomains to the name as well or only for the exact name.

       [stamp] is the time (in UTC) when the entry expires and it uses the format "YYYYMMDD HH:MM:SS".

       Lines starting with "#" are treated as comments and are ignored. There is currently  no  length  or  size
       limit.

</pre><h4><b>DEFAULT</b></h4><pre>
       NULL, no filename

</pre><h4><b>SECURITY</b> <b>CONCERNS</b></h4><pre>
       libcurl  cannot  fully  protect  against attacks where an attacker has write access to the same directory
       where it is directed to save files. This is particularly sensitive  if  you  save  files  using  elevated
       privileges.

</pre><h4><b>PROTOCOLS</b></h4><pre>
       This functionality affects http only

</pre><h4><b>EXAMPLE</b></h4><pre>
       int main(void)
       {
         CURL *curl = curl_easy_init();
         if(curl) {
           curl_easy_setopt(curl, CURLOPT_HSTS, "/home/user/.hsts-cache");
           curl_easy_perform(curl);
         }
       }

</pre><h4><b>AVAILABILITY</b></h4><pre>
       Added in curl 7.74.0

</pre><h4><b>RETURN</b> <b>VALUE</b></h4><pre>
       <u><a href="../man3/curl_easy_setopt.3.html">curl_easy_setopt</a>(3)</u> returns a CURLcode indicating success or error.

       CURLE_OK (0) means everything was OK, non-zero means an error occurred, see <u><a href="../man3/libcurl-errors.3.html">libcurl-errors</a>(3)</u>.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man3/CURLOPT_ALTSVC.3.html">CURLOPT_ALTSVC</a></b>(3), <b><a href="../man3/CURLOPT_HSTS_CTRL.3.html">CURLOPT_HSTS_CTRL</a></b>(3), <b><a href="../man3/CURLOPT_RESOLVE.3.html">CURLOPT_RESOLVE</a></b>(3)

libcurl                                            2025-06-16                                    <u><a href="../man3/CURLOPT_HSTS.3.html">CURLOPT_HSTS</a></u>(3)
</pre>
 </div>
</div></section>
</div>
</body>
</html>