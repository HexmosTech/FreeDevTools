<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>filename - Filename manipulation functions.</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/jammy/+package/erlang-manpages">erlang-manpages_24.2.1+dfsg-1ubuntu0.5_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       filename - Filename manipulation functions.

</pre><h4><b>DESCRIPTION</b></h4><pre>
       This  module provides functions for analyzing and manipulating filenames. These functions are designed so
       that the Erlang code can work on many different platforms with different filename formats. With  filename
       is  meant  all  strings that can be used to denote a file. The filename can be a short relative name like
       <u>foo.erl</u>,   a   long   absolute   name   including   a   drive   designator,   a   directory   name   like
       <u>D:\usr/local\bin\erl/lib\tools\foo.erl</u>, or any variations in between.

       In  Windows,  all  functions  return  filenames  with forward slashes only, even if the arguments contain
       backslashes. To normalize a filename by removing redundant directory separators, use <u>join/1</u>.

       The module supports raw filenames in the way that if a binary is  present,  or  the  filename  cannot  be
       interpreted  according  to  the  return  value  of  <u>file:native_name_encoding/0</u>,  a  raw filename is also
       returned. For example, <u>join/1</u> provided with a path component that is a binary (and cannot be  interpreted
       under  the  current  native  filename  encoding)  results  in  a  raw filename that is returned (the join
       operation is performed of course). For more information about raw filenames, see the <u>file</u> module.

   <b>Note:</b>
       Functionality in this module generally assumes valid input and does not necessarily fail  on  input  that
       does not use a valid encoding, but may instead very likely produce invalid output.

       File operations used to accept filenames containing null characters (integer value zero). This caused the
       name  to  be  truncated  and  in  some  cases arguments to primitive operations to be mixed up. Filenames
       containing null characters inside the filename are now <u>rejected</u> and will cause primitive file  operations
       to fail.

   <b>Warning:</b>
       Currently  null characters at the end of the filename will be accepted by primitive file operations. Such
       filenames are however still documented as invalid. The implementation will also change in the future  and
       reject such filenames.

</pre><h4><b>EXPORTS</b></h4><pre>
       <b>absname(Filename)</b> <b>-&gt;</b> <b>file:filename_all()</b>

              Types:

                 Filename = file:name_all()

              Converts  a  relative  <u>Filename</u>  and  returns  an  absolute name. No attempt is made to create the
              shortest absolute name, as this can give incorrect results on file systems that allow links.

              <u>Unix</u> <u>examples:</u>

              1&gt; pwd().
              "<a href="file:/usr/local">/usr/local</a>"
              2&gt; filename:absname("foo").
              "/usr/local/foo"
              3&gt; filename:absname("../x").
              "/usr/local/../x"
              4&gt; filename:absname("/").
              "/"

              <u>Windows</u> <u>examples:</u>

              1&gt; pwd().
              "D:<a href="file:/usr/local">/usr/local</a>"
              2&gt; filename:absname("foo").
              "D:/usr/local/foo"
              3&gt; filename:absname("../x").
              "D:/usr/local/../x"
              4&gt; filename:absname("/").
              "D:/"

       <b>absname(Filename,</b> <b>Dir)</b> <b>-&gt;</b> <b>file:filename_all()</b>

              Types:

                 Filename = Dir = file:name_all()

              Same as <u>absname/1</u>, except that the directory to which the filename  is  to  be  made  relative  is
              specified in argument <u>Dir</u>.

       <b>absname_join(Dir,</b> <b>Filename)</b> <b>-&gt;</b> <b>file:filename_all()</b>

              Types:

                 Dir = Filename = file:name_all()

              Joins  an  absolute  directory  with a relative filename. Similar to <u>join/2</u>, but on platforms with
              tight restrictions on raw filename length and no  support  for  symbolic  links  (read:  VxWorks),
              leading  parent directory components in <u>Filename</u> are matched against trailing directory components
              in <u>Dir</u> so they can be removed from the result - minimizing its length.

       <b>basedir(PathType,</b> <b>Application)</b> <b>-&gt;</b> <b>file:filename_all()</b>

       <b>basedir(PathsType,</b> <b>Application)</b> <b>-&gt;</b> <b>[file:filename_all()]</b>

              Types:

                 PathType = basedir_path_type()
                 PathsType = basedir_paths_type()
                 Application = string() | binary()
                 <b>basedir_path_type()</b> =
                     user_cache | user_config | user_data | user_log
                 <b>basedir_paths_type()</b> = site_config | site_data

              Equivalent to  basedir(PathType, Application, #{}) or  basedir(PathsType, Application, #{}).

       <b>basedir(PathType,</b> <b>Application,</b> <b>Opts)</b> <b>-&gt;</b> <b>file:filename_all()</b>

       <b>basedir(PathsType,</b> <b>Application,</b> <b>Opts)</b> <b>-&gt;</b> <b>[file:filename_all()]</b>

              Types:

                 PathType = basedir_path_type()
                 PathsType = basedir_paths_type()
                 Application = string() | binary()
                 Opts = basedir_opts()
                 <b>basedir_path_type()</b> =
                     user_cache | user_config | user_data | user_log
                 <b>basedir_paths_type()</b> = site_config | site_data
                 <b>basedir_opts()</b> =
                     #{author =&gt; string() | binary(),
                       os =&gt; windows | darwin | linux,
                       version =&gt; string() | binary()}

              Returns a suitable path, or paths, for a given type. If <u>os</u> is not set in <u>Opts</u>  the  function  will
              default  to the native option, that is <u>'linux'</u>, <u>'darwin'</u> or <u>'windows'</u>, as understood by <u>os:type/0</u>.
              Anything not recognized as <u>'darwin'</u> or <u>'windows'</u> is interpreted as <u>'linux'</u>.

              The options <u>'author'</u> and <u>'version'</u> are only used with <u>'windows'</u> option mode.

                * <u>user_cache</u>

                  The path location is intended for transient data files on a local machine.

                  On Linux: Respects the os environment variable <u>XDG_CACHE_HOME</u>.

                1&gt; filename:basedir(user_cache, "my_application", #{os=&gt;linux}).
                "/home/otptest/.cache/my_application"

                1&gt; filename:basedir(user_cache, "my_application", #{os=&gt;darwin}).
                "/home/otptest/Library/Caches/my_application"

                1&gt; filename:basedir(user_cache, "My App").
                "c:/Users/otptest/AppData/Local/My App/Cache"
                2&gt; filename:basedir(user_cache, "My App").
                "c:/Users/otptest/AppData/Local/My App/Cache"
                3&gt; filename:basedir(user_cache, "My App", #{author=&gt;"Erlang"}).
                "c:/Users/otptest/AppData/Local/Erlang/My App/Cache"
                4&gt; filename:basedir(user_cache, "My App", #{version=&gt;"1.2"}).
                "c:/Users/otptest/AppData/Local/My App/1.2/Cache"
                5&gt; filename:basedir(user_cache, "My App", #{author=&gt;"Erlang",version=&gt;"1.2"}).
                "c:/Users/otptest/AppData/Local/Erlang/My App/1.2/Cache"

                * <u>user_config</u>

                  The path location is intended for persistent configuration files.

                  On Linux: Respects the os environment variable <u>XDG_CONFIG_HOME</u>.

                2&gt; filename:basedir(user_config, "my_application", #{os=&gt;linux}).
                "/home/otptest/.config/my_application"

                2&gt; filename:basedir(user_config, "my_application", #{os=&gt;darwin}).
                "/home/otptest/Library/Application Support/my_application"

                1&gt; filename:basedir(user_config, "My App").
                "c:/Users/otptest/AppData/Roaming/My App"
                2&gt; filename:basedir(user_config, "My App", #{author=&gt;"Erlang", version=&gt;"1.2"}).
                "c:/Users/otptest/AppData/Roaming/Erlang/My App/1.2"

                * <u>user_data</u>

                  The path location is intended for persistent data files.

                  On Linux: Respects the os environment variable <u>XDG_DATA_HOME</u>.

                3&gt; filename:basedir(user_data, "my_application", #{os=&gt;linux}).
                "/home/otptest/.local/my_application"

                3&gt; filename:basedir(user_data, "my_application", #{os=&gt;darwin}).
                "/home/otptest/Library/Application Support/my_application"

                8&gt; filename:basedir(user_data, "My App").
                "c:/Users/otptest/AppData/Local/My App"
                9&gt; filename:basedir(user_data, "My App",#{author=&gt;"Erlang",version=&gt;"1.2"}).
                "c:/Users/otptest/AppData/Local/Erlang/My App/1.2"

                * <u>user_log</u>

                  The path location is intended for transient log files on a local machine.

                  On Linux: Respects the os environment variable <u>XDG_CACHE_HOME</u>.

                4&gt; filename:basedir(user_log, "my_application", #{os=&gt;linux}).
                "/home/otptest/.cache/my_application/log"

                4&gt; filename:basedir(user_log, "my_application", #{os=&gt;darwin}).
                "/home/otptest/Library/Caches/my_application"

                12&gt; filename:basedir(user_log, "My App").
                "c:/Users/otptest/AppData/Local/My App/Logs"
                13&gt; filename:basedir(user_log, "My App",#{author=&gt;"Erlang",version=&gt;"1.2"}).
                "c:/Users/otptest/AppData/Local/Erlang/My App/1.2/Logs"

                * <u>site_config</u>

                  On Linux: Respects the os environment variable <u>XDG_CONFIG_DIRS</u>.

                5&gt; filename:basedir(site_data, "my_application", #{os=&gt;linux}).
                ["/usr/local/share/my_application",
                 "/usr/share/my_application"]
                6&gt; os:getenv("XDG_CONFIG_DIRS").
                "/etc/xdg/xdg-ubuntu:/usr/share/upstart/xdg:<a href="file:/etc/xdg">/etc/xdg</a>"
                7&gt; filename:basedir(site_config, "my_application", #{os=&gt;linux}).
                ["/etc/xdg/xdg-ubuntu/my_application",
                 "/usr/share/upstart/xdg/my_application",
                 "/etc/xdg/my_application"]
                8&gt; os:unsetenv("XDG_CONFIG_DIRS").
                true
                9&gt; filename:basedir(site_config, "my_application", #{os=&gt;linux}).
                ["/etc/xdg/my_application"]

                5&gt; filename:basedir(site_config, "my_application", #{os=&gt;darwin}).
                ["/Library/Application Support/my_application"]

                * <u>site_data</u>

                  On Linux: Respects the os environment variable <u>XDG_DATA_DIRS</u>.

                10&gt; os:getenv("XDG_DATA_DIRS").
                "/usr/share/ubuntu:/usr/share/gnome:<a href="file:/usr/local/share/">/usr/local/share/</a>:<a href="file:/usr/share/">/usr/share/</a>"
                11&gt; filename:basedir(site_data, "my_application", #{os=&gt;linux}).
                ["/usr/share/ubuntu/my_application",
                 "/usr/share/gnome/my_application",
                 "/usr/local/share/my_application",
                 "/usr/share/my_application"]
                12&gt; os:unsetenv("XDG_DATA_DIRS").
                true
                13&gt; filename:basedir(site_data, "my_application", #{os=&gt;linux}).
                ["/usr/local/share/my_application",
                 "/usr/share/my_application"]

                5&gt; filename:basedir(site_data, "my_application", #{os=&gt;darwin}).
                ["/Library/Application Support/my_application"]

       <b>basename(Filename)</b> <b>-&gt;</b> <b>file:filename_all()</b>

              Types:

                 Filename = file:name_all()

              Returns the last component of <u>Filename</u>, or <u>Filename</u> itself if it does not  contain  any  directory
              separators.

              <u>Examples:</u>

              5&gt; filename:basename("foo").
              "foo"
              6&gt; filename:basename("/usr/foo").
              "foo"
              7&gt; filename:basename("/").
              []

       <b>basename(Filename,</b> <b>Ext)</b> <b>-&gt;</b> <b>file:filename_all()</b>

              Types:

                 Filename = Ext = file:name_all()

              Returns the last component of <u>Filename</u> with extension <u>Ext</u> stripped. This function is to be used to
              remove  a (possible) specific extension. To remove an existing extension when you are unsure which
              one it is, use <u>rootname(basename(Filename))</u>.

              <u>Examples:</u>

              8&gt; filename:basename("<a href="file:~/src/kalle.erl">~/src/kalle.erl</a>", ".erl").
              "kalle"
              9&gt; filename:basename("<a href="file:~/src/kalle.beam">~/src/kalle.beam</a>", ".erl").
              "kalle.beam"
              10&gt; filename:basename("<a href="file:~/src/kalle.old.erl">~/src/kalle.old.erl</a>", ".erl").
              "kalle.old"
              11&gt; filename:rootname(filename:basename("<a href="file:~/src/kalle.erl">~/src/kalle.erl</a>")).
              "kalle"
              12&gt; filename:rootname(filename:basename("<a href="file:~/src/kalle.beam">~/src/kalle.beam</a>")).
              "kalle"

       <b>dirname(Filename)</b> <b>-&gt;</b> <b>file:filename_all()</b>

              Types:

                 Filename = file:name_all()

              Returns the directory part of <u>Filename</u>.

              <u>Examples:</u>

              13&gt; filename:dirname("/usr/src/kalle.erl").
              "<a href="file:/usr/src">/usr/src</a>"
              14&gt; filename:dirname("kalle.erl").
              "."

              5&gt; filename:dirname("\\usr\\src/kalle.erl"). % Windows
              "<a href="file:/usr/src">/usr/src</a>"

       <b>extension(Filename)</b> <b>-&gt;</b> <b>file:filename_all()</b>

              Types:

                 Filename = file:name_all()

              Returns the file extension of <u>Filename</u>, including the  period.  Returns  an  empty  string  if  no
              extension exists.

              <u>Examples:</u>

              15&gt; filename:extension("foo.erl").
              ".erl"
              16&gt; filename:extension("beam.src/kalle").
              []

       <b>flatten(Filename)</b> <b>-&gt;</b> <b>file:filename_all()</b>

              Types:

                 Filename = file:name_all()

              Converts  a  possibly deep list filename consisting of characters and atoms into the corresponding
              flat string filename.

       <b>join(Components)</b> <b>-&gt;</b> <b>file:filename_all()</b>

              Types:

                 Components = [file:name_all()]

              Joins a list of filename  <u>Components</u>  with  directory  separators.  If  one  of  the  elements  of
              <u>Components</u>  includes an absolute path, such as <u>"/xxx"</u>, the preceding elements, if any, are removed
              from the result.

              The result is "normalized":

                * Redundant directory separators are removed.

                * In Windows, all directory separators are forward slashes and the  drive  letter  is  in  lower
                  case.

              <u>Examples:</u>

              17&gt; filename:join(["<a href="file:/usr">/usr</a>", "local", "bin"]).
              "<a href="file:/usr/local/bin">/usr/local/bin</a>"
              18&gt; filename:join(["a/b///c/"]).
              "a/b/c"

              6&gt; filename:join(["B:a\\b///c/"]). % Windows
              "b:a/b/c"

       <b>join(Name1,</b> <b>Name2)</b> <b>-&gt;</b> <b>file:filename_all()</b>

              Types:

                 Name1 = Name2 = file:name_all()

              Joins two filename components with directory separators. Equivalent to <u>join([Name1,</u> <u>Name2])</u>.

       <b>nativename(Path)</b> <b>-&gt;</b> <b>file:filename_all()</b>

              Types:

                 Path = file:name_all()

              Converts  <u>Path</u>  to  a  form  accepted  by the command shell and native applications on the current
              platform. On Windows, forward slashes are converted to backward slashes.  On  all  platforms,  the
              name is normalized as done by <u>join/1</u>.

              <u>Examples:</u>

              19&gt; filename:nativename("<a href="file:/usr/local/bin/">/usr/local/bin/</a>"). % Unix
              "<a href="file:/usr/local/bin">/usr/local/bin</a>"

              7&gt; filename:nativename("<a href="file:/usr/local/bin/">/usr/local/bin/</a>"). % Windows
              "\\usr\\local\\bin"

       <b>pathtype(Path)</b> <b>-&gt;</b> <b>absolute</b> <b>|</b> <b>relative</b> <b>|</b> <b>volumerelative</b>

              Types:

                 Path = file:name_all()

              Returns the path type, which is one of the following:

                <u>absolute</u>:
                  The path name refers to a specific file on a specific volume.

                  Unix example: <u><a href="file:/usr/local/bin">/usr/local/bin</a></u>

                  Windows example: <u>D:<a href="file:/usr/local/bin">/usr/local/bin</a></u>

                <u>relative</u>:
                  The path name is relative to the current working directory on the current volume.

                  Example: <u>foo/bar,</u> <u>../src</u>

                <u>volumerelative</u>:
                  The  path  name is relative to the current working directory on a specified volume, or it is a
                  specific file on the current working volume.

                  Windows example: <u>D:bar.erl,</u> <u>/bar/foo.erl</u>

       <b>rootname(Filename)</b> <b>-&gt;</b> <b>file:filename_all()</b>

       <b>rootname(Filename,</b> <b>Ext)</b> <b>-&gt;</b> <b>file:filename_all()</b>

              Types:

                 Filename = Ext = file:name_all()

              Removes a filename extension. <u>rootname/2</u> works as <u>rootname/1</u>, except that the extension is removed
              only if it is <u>Ext</u>.

              <u>Examples:</u>

              20&gt; filename:rootname("/beam.src/kalle").
              "/beam.src/kalle"
              21&gt; filename:rootname("/beam.src/foo.erl").
              "/beam.src/foo"
              22&gt; filename:rootname("/beam.src/foo.erl", ".erl").
              "/beam.src/foo"
              23&gt; filename:rootname("/beam.src/foo.beam", ".erl").
              "/beam.src/foo.beam"

       <b>safe_relative_path(Filename)</b> <b>-&gt;</b> <b>unsafe</b> <b>|</b> <b>SafeFilename</b>

              Types:

                 Filename = SafeFilename = file:name_all()

              Sanitizes the relative path by eliminating ".." and "." components to  protect  against  directory
              traversal  attacks.  Either  returns  the  sanitized  path name, or the atom <u>unsafe</u> if the path is
              unsafe. The path is considered unsafe in the following circumstances:

                * The path is not relative.

                * A ".." component would climb up above the root of the relative path.

          <b>Warning:</b>
              This function is deprecated. Use <u>filelib:safe_relative_path/2</u> instead for sanitizing paths.

              <u>Examples:</u>

              1&gt; filename:safe_relative_path("dir/sub_dir/..").
              "dir"
              2&gt; filename:safe_relative_path("dir/..").
              []
              3&gt; filename:safe_relative_path("dir/..<a href="file:/..">/..</a>").
              unsafe
              4&gt; filename:safe_relative_path("/abs/path").
              unsafe

       <b>split(Filename)</b> <b>-&gt;</b> <b>Components</b>

              Types:

                 Filename = file:name_all()
                 Components = [file:name_all()]

              Returns a list whose elements are the path components of <u>Filename</u>.

              <u>Examples:</u>

              24&gt; filename:split("<a href="file:/usr/local/bin">/usr/local/bin</a>").
              ["/","usr","local","bin"]
              25&gt; filename:split("foo/bar").
              ["foo","bar"]
              26&gt; filename:split("a:\\msdev\\include").
              ["a:/","msdev","include"]

Ericsson AB                                        stdlib 3.17                                    <u><a href="../man3erl/filename.3erl.html">filename</a></u>(3erl)
</pre>
 </div>
</div></section>
</div>
</body>
</html>