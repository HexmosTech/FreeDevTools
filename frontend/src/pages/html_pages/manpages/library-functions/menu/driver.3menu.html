<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>menu_driver - command-processing loop of the menu system</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/ncurses-doc">ncurses-doc_6.5+20250216-2_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       <b>menu_driver</b> - command-processing loop of the menu system

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>#include</b> <b>&lt;menu.h&gt;</b>

       <b>int</b> <b>menu_driver(MENU</b> <b>*</b><u>menu</u><b>,</b> <b>int</b> <u>c</u><b>);</b>

</pre><h4><b>DESCRIPTION</b></h4><pre>
       Once  a menu has been posted (displayed), you should funnel input events to it through <b>menu_driver</b>.  This
       routine has three major input cases:

       •   The input is a form navigation request.  Navigation request codes are constants defined in  <b>&lt;form.h&gt;</b>,
           which are distinct from the key- and character codes returned by <b><a href="../man3NCURSES/wgetch.3NCURSES.html">wgetch</a></b>(3NCURSES).

       •   The input is a printable character.  Printable characters (which must be positive, less than 256) are
           checked according to the program's locale settings.

       •   The input is the KEY_MOUSE special key associated with an mouse event.

       The menu driver requests are as follows:

       REQ_LEFT_ITEM
            Move left to an item.

       REQ_RIGHT_ITEM
            Move right to an item.

       REQ_UP_ITEM
            Move up to an item.

       REQ_DOWN_ITEM
            Move down to an item.

       REQ_SCR_ULINE
            Scroll up a line.

       REQ_SCR_DLINE
            Scroll down a line.

       REQ_SCR_DPAGE
            Scroll down a page.

       REQ_SCR_UPAGE
            Scroll up a page.

       REQ_FIRST_ITEM
            Move to the first item.

       REQ_LAST_ITEM
            Move to the last item.

       REQ_NEXT_ITEM
            Move to the next item.

       REQ_PREV_ITEM
            Move to the previous item.

       REQ_TOGGLE_ITEM
            Select/deselect an item.

       REQ_CLEAR_PATTERN
            Clear the menu pattern buffer.

       REQ_BACK_PATTERN
            Delete the previous character from the pattern buffer.

       REQ_NEXT_MATCH
            Move to the next item matching the pattern match.

       REQ_PREV_MATCH
            Move to the previous item matching the pattern match.

       If  the  second argument is a printable character, the code appends it to the pattern buffer and attempts
       to move to the next item matching the new pattern.  If  there  is  no  such  match,  <b>menu_driver</b>  returns
       <b>E_NO_MATCH</b> and deletes the appended character from the buffer.

       If the second argument is one of the above pre-defined requests, the corresponding action is performed.

   <b>Mouse</b> <b>Handling</b>
       If the second argument is the KEY_MOUSE special key, the associated mouse event is translated into one of
       the  above pre-defined requests.  Currently only clicks in the user window (e.g., inside the menu display
       area or the decoration window) are handled.

       If you click above the display region of the menu:

       •   a REQ_SCR_ULINE is generated for a single click,

       •   a REQ_SCR_UPAGE is generated for a double-click and

       •   a REQ_FIRST_ITEM is generated for a triple-click.

       If you click below the display region of the menu:

       •   a REQ_SCR_DLINE is generated for a single click,

       •   a REQ_SCR_DPAGE is generated for a double-click and

       •   a REQ_LAST_ITEM is generated for a triple-click.

       If you click at an item inside the display area of the menu:

       •   the menu cursor is positioned to that item.

       •   If you double-click an item a REQ_TOGGLE_ITEM is generated and <b>E_UNKNOWN_COMMAND</b> is  returned.   This
           return value makes sense, because a double click usually means that an item-specific action should be
           returned.   It  is  exactly  the  purpose of this return value to signal that an application specific
           command should be executed.

       •   If a translation into a request was done, <b>menu_driver</b> returns the result of this request.

       If you clicked outside the user window or the mouse event could not be translated into a menu request  an
       <b>E_REQUEST_DENIED</b> is returned.

   <b>Application-defined</b> <b>Commands</b>
       If  the second argument is neither printable nor one of the above pre-defined menu requests or KEY_MOUSE,
       the drive assumes it is an application-specific  command  and  returns  <b>E_UNKNOWN_COMMAND</b>.   Application-
       defined  commands  should  be  defined  relative  to  <b>MAX_COMMAND</b>, the maximum value of these pre-defined
       requests.

</pre><h4><b>RETURN</b> <b>VALUE</b></h4><pre>
       <b>menu_driver</b> return one of the following error codes:

       <b>E_OK</b> The routine succeeded.

       <b>E_SYSTEM_ERROR</b>
            System error occurred (see <b><a href="../man3/errno.3.html">errno</a></b>(3)).

       <b>E_BAD_ARGUMENT</b>
            Routine detected an incorrect or out-of-range argument.

       <b>E_BAD_STATE</b>
            Routine was called from an initialization or termination function.

       <b>E_NOT_POSTED</b>
            The menu has not been posted.

       <b>E_UNKNOWN_COMMAND</b>
            The menu driver code saw an unknown request code.

       <b>E_NO_MATCH</b>
            Character failed to match.

       <b>E_REQUEST_DENIED</b>
            The menu driver could not process the request.

</pre><h4><b>PORTABILITY</b></h4><pre>
       These routines emulate the System V menu library.  They were not supported on Version 7 or BSD  versions.
       The support for mouse events is <u>ncurses</u> specific.

</pre><h4><b>AUTHORS</b></h4><pre>
       Juergen Pfeifer.  Manual pages and adaptation for new curses by Eric S. Raymond.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <b><a href="../man3NCURSES/ncurses.3NCURSES.html">ncurses</a></b>(3NCURSES), <b><a href="../man3NCURSES/getch.3NCURSES.html">getch</a></b>(3NCURSES), <b><a href="../man3MENU/menu.3MENU.html">menu</a></b>(3MENU)

ncurses 6.5                                        2024-03-16                                      <u><a href="../man3MENU/driver.3MENU.html">driver</a></u>(3MENU)
</pre>
 </div>
</div></section>
</div>
</body>
</html>