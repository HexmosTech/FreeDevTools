<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Net::FastCGI::Protocol - Provides functions to build and parse FastCGI messages.</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libnet-fastcgi-perl">libnet-fastcgi-perl_0.14-2_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       Net::FastCGI::Protocol - Provides functions to build and parse FastCGI messages.

</pre><h4><b>SYNOPSIS</b></h4><pre>
           # FCGI_Header
           $octets = build_header($type, $request_id, $content_length, $padding_length);
           @values = parse_header($octets);
           $header = parse_header($octets);

           # FCGI_BeginRequestBody
           $octets = build_begin_request_body($role, $flags);
           @values = parse_begin_request_body($octets);

           # FCGI_EndRequestBody
           $octets = build_end_request_body($app_status, $protocol_status);
           @values = parse_end_request_body($octets);

           # FCGI_UnknownTypeBody
           $octets = build_unknown_type_body($type);
           @values = parse_unknown_type_body($octets);

           # FCGI_BeginRequestRecord
           $octets = build_begin_request_record($request_id, $role, $flags);

           # FCGI_EndRequestRecord
           $octets = build_end_request_record($request_id, $app_status, $protocol_status);

           # FCGI_UnknownTypeRecord
           $octets = build_unknown_type_record($type);

           # FCGI_NameValuePair's
           $octets = build_params($params);
           $params = parse_params($octets);
           $bool   = check_params($octets);

           # FCGI_Record
           $octets = build_record($type, $request_id);
           $octets = build_record($type, $request_id, $content);
           @values = parse_record($octets);
           $record = parse_record($octets);
           $record = parse_record_body($type, $request_id, $content);

           # FCGI_Record Debugging / Tracing
           $string = dump_record($octets);
           $string = dump_record_body($type, $request_id, $content);

           # FCGI_Record Stream
           $octets = build_stream($type, $request_id, $content);
           $octets = build_stream($type, $request_id, $content, $terminate);

           # Begin Request
           $octets = build_begin_request($request_id, $role, $flags, $params);
           $octets = build_begin_request($request_id, $role, $flags, $params, $stdin);
           $octets = build_begin_request($request_id, $role, $flags, $params, $stdin, $data);

           # End Request
           $octets = build_end_request($request_id, $app_status, $protocol_status);
           $octets = build_end_request($request_id, $app_status, $protocol_status, $stdout);
           $octets = build_end_request($request_id, $app_status, $protocol_status, $stdout, $stderr);

</pre><h4><b>DESCRIPTION</b></h4><pre>
       Provides functions to build and parse FastCGI messages.

</pre><h4><b>FUNCTIONS</b></h4><pre>
       Please note that all functions in this package expects octets, not unicode strings.  It's the callers
       responsibility to ensure this. If any of theese functions is called with unicode strings containing code
       points above 255, they will most likely produce malformed messages.

   <b>build_begin_request</b>
       Builds a Begin Request message.

       <u>Usage</u>

           $octets = build_begin_request($request_id, $role, $flags, $params);
           $octets = build_begin_request($request_id, $role, $flags, $params, $stdin);
           $octets = build_begin_request($request_id, $role, $flags, $params, $stdin, $data);

       <u>Arguments</u>

       $request_id
           An unsigned 16-bit integer. Identifier of the request.

       $role
           An  unsigned  16-bit  integer.  This  should  be set to either "FCGI_RESPONDER", "FCGI_AUTHORIZER" or
           "FCGI_FILTER".

       $flags
           An unsigned 8-bit integer. This should be set to either 0 or contain the mask "FCGI_KEEP_CONN"  if  a
           persistent connection is desired.

       $params
           A hash reference containing name-value pairs. This is the CGI environ that the application expects.

       $stdin (optional)
           A  string of octets containing the "FCGI_STDIN" content. This should only be provided if $role is set
           to either "FCGI_RESPONDER" or "FCGI_FILTER". The "FCGI_STDIN" stream is terminated if provided.

       $data (optional)
           A string of octets containing the "FCGI_DATA" content. This should only be provided if $role  is  set
           to "FCGI_FILTER". The "FCGI_DATA" stream is terminated if provided.

       <u>Returns</u>

       $octets
           A string of octets containing the message.

   <b>build_begin_request_body</b>
       Builds a "FCGI_BeginRequestBody".

       <u>Usage</u>

           $octets = build_begin_request_body($role, $flags);

       <u>Arguments</u>

       $role
           An unsigned 16-bit integer.

       $flags
           An unsigned 8-bit integer.

       <u>Returns</u>

       $octets
           A string of octets containing the body. String is 8 octets in length.

   <b>build_begin_request_record</b>
       Builds a "FCGI_BeginRequestRecord".

       <u>Usage</u>

           $octets = build_begin_request_record($request_id, $role, $flags);

       <u>Arguments</u>

       $request_id
           An unsigned 16-bit integer.

       $role
           An unsigned 16-bit integer.

       $flags
           An unsigned 8-bit integer.

       <u>Returns</u>

       $octets
           A string of octets containing the record. String is 16 octets in length.

   <b>build_end_request</b>
       Builds a End Request message

       <u>Usage</u>

           $octets = build_end_request($request_id, $app_status, $protocol_status);
           $octets = build_end_request($request_id, $app_status, $protocol_status, $stdout);
           $octets = build_end_request($request_id, $app_status, $protocol_status, $stdout, $stderr);

       <u>Arguments</u>

       $request_id
           An unsigned 16-bit integer. Identifier of the request.

       $app_status
           An unsigned 32-bit integer. Application status code of the request.

       $protocol_status
           An    unsigned   8-bit   integer.   This   should   be   set   to   either   "FCGI_REQUEST_COMPLETE",
           "FCGI_CANT_MPX_CONN", "FCGI_OVERLOADED" or "FCGI_UNKNOWN_ROLE".

       $stdout (optional)
           A string of octets containing the "FCGI_STDOUT" content. The "FCGI_STDOUT" stream  is  terminated  if
           provided.

       $stderr (optional)
           A  string  of  octets containing the "FCGI_STDERR" content. The "FCGI_STDERR" stream is terminated if
           provided.

       <u>Returns</u>

       $octets
           A string of octets containing the message.

       <u>Note</u>

       This function is equivalent to "build_end_request_record()" if called without $stdout and $stderr.

   <b>build_end_request_body</b>
       Builds a "FCGI_EndRequestBody".

       <u>Usage</u>

           $octets = build_end_request_body($app_status, $protocol_status);

       <u>Arguments</u>

       $app_status
           An unsigned 32-bit integer.

       $protocol_status
           An unsigned 8-bit integer.

       <u>Returns</u>

       $octets
           A string of octets containing the body. String is 8 octets in length.

   <b>build_end_request_record</b>
       Builds a "FCGI_EndRequestRecord".

       <u>Usage</u>

           $octets = build_end_request_record($request_id, $app_status, $protocol_status);

       <u>Arguments</u>

       $request_id
           An unsigned 16-bit integer.

       $app_status
           An unsigned 32-bit integer.

       $protocol_status
           An unsigned 8-bit integer.

       <u>Returns</u>

       $octets
           A string of octets containing the record. String is 16 octets in length.

   <b>build_header</b>
       Builds a "FCGI_Header".

       <u>Usage</u>

           $octets = build_header($type, $request_id, $content_length, $padding_length);

       <u>Arguments</u>

       $type
           An unsigned 8-bit integer.

       $request_id
           An unsigned 16-bit integer.

       $content_length
           An unsigned 16-bit integer.

       $padding_length
           An unsigned 8-bit integer.

       <u>Returns</u>

       $octets
           A string of octets containing the header. String is 8 octets in length.

   <b>build_params</b>
       Builds "FCGI_NameValuePair"'s.

       <u>Usage</u>

           $octets = build_params($params);

       <u>Arguments</u>

       $params
           A hash reference containing name-value pairs.

       <u>Returns</u>

       $octets

   <b>build_record</b>
       Builds a "FCGI_Record".

       <u>Usage</u>

           $octets = build_record($type, $request_id);
           $octets = build_record($type, $request_id, $content);

       <u>Arguments</u>

       $type
           An unsigned 8-bit integer.

       $request_id
           An unsigned 16-bit integer.

       $content (optional)
           A string of octets containing the content, cannot exceed 65535 octets in length.

       <u>Returns</u>

       $octets
           A string of octets containing the record.

       <u>Note</u>

       Follows the recommendation in specification and pads the record by 8-(content_length mod 8) zero-octets.

   <b>build_stream</b>
       Builds a series of stream records.

       <u>Usage</u>

           $octets = build_stream($type, $request_id, $content);
           $octets = build_stream($type, $request_id, $content, $terminate);

       <u>Arguments</u>

       $type
           An unsigned 8-bit integer.

       $request_id
           An unsigned 16-bit integer.

       $content
           A string of octets containing the stream content.

       $terminate (optional)
           A boolean indicating whether or not the stream should be terminated.  Defaults to false.

       <u>Returns</u>

       $octets
           A string of octets containing the stream.

       <u>Note</u>

       Stream is not terminated if $content is empty unless $terminate is set.

       $content is split in segment sizes of 32760 octets (32768 - FCGI_HEADER_LEN).

   <b>build_unknown_type_body</b>
       Builds a "FCGI_UnknownTypeBody".

       <u>Usage</u>

           $octets = build_unknown_type_body($type);

       <u>Arguments</u>

       $type
           An unsigned 8-bit integer.

       <u>Returns</u>

       $octets
           A string of octets containing the body. String is 8 octets in length.

   <b>build_unknown_type_record</b>
       Builds a "FCGI_UnknownTypRecord".

       <u>Usage</u>

           $octets = build_unknown_type_record($type);

       <u>Arguments</u>

       $type
           An unsigned 8-bit integer.

       <u>Returns</u>

       $octets
           A string of octets containing the record. String is 16 octets in length.

   <b>check_params</b>
       Determine whether or not params is well-formed.

       <u>Usage</u>

           $boolean = check_params($octets);

       <u>Arguments</u>

       $octets
           A string of octets containing "FCGI_NameValuePair"'s.

       <u>Returns</u>

       $boolean
           A boolean indicating whether or not $octets consist of well-formed "FCGI_NameValuePair"'s.

   <b>dump_record</b>
       Dump a "FCGI_Record".

       <u>Usage</u>

           $string = dump_record($octets);

       <u>Arguments</u>

       $octets
           A string of octets containing at least one record.

       <u>Returns</u>

       $string
           A short (less than 100 characters) string representation of the record in printable US-ASCII.

   <b>dump_record_body</b>
       Dump a "FCGI_Record".

       <u>Usage</u>

           $string = dump_record_body($type, $request_id);
           $string = dump_record_body($type, $request_id, $content);

       <u>Arguments</u>

       $type
           An unsigned 8-bit integer.

       $request_id
           An unsigned 16-bit integer.

       $content (optional)
           A string of octets containing the content.

       <u>Returns</u>

       $string
           A short (less than 100 characters) string representation of the record in printable US-ASCII.

   <b>parse_begin_request_body</b>
       Parses a "FCGI_BeginRequestBody".

       <u>Usage</u>

           ($role, $flags) = parse_begin_request_body($octets);

       <u>Arguments</u>

       $octets
           A string of octets containing the body, must be greater than or equal to 8 octets in length.

       <u>Returns</u>

       $role
           An unsigned 16-bit integer.

       $flags
           An unsigned 8-bit integer.

   <b>parse_end_request_body</b>
       Parses a "FCGI_EndRequestBody".

       <u>Usage</u>

           ($app_status, $protocol_status) = parse_end_request_body($octets);

       <u>Arguments</u>

       $octets
           A string of octets containing the body, must be greater than or equal to 8 octets in length.

       <u>Returns</u>

       $app_status
           An unsigned 32-bit integer.

       $flags
           An unsigned 8-bit integer.

   <b>parse_header</b>
       Parses a "FCGI_Header".

       <u>Usage</u>

           ($type, $request_id, $content_length, $padding_length)
             = parse_header($octets);

           $header = parse_header($octets);
           say $header-&gt;{type};
           say $header-&gt;{request_id};
           say $header-&gt;{content_length};
           say $header-&gt;{padding_length};

       <u>Arguments</u>

       $octets
           A string of octets containing the header, must be greater than or equal to 8 octets in length.

       <u>Returns</u>

       In list context:

       $type
           An unsigned 8-bit integer.

       $request_id
           An unsigned 16-bit integer.

       $content_length
           An unsigned 16-bit integer.

       $padding_length
           An unsigned 8-bit integer.

       In scalar context a hash reference containing above variable names as keys.

   <b>parse_params</b>
       Parses "FCGI_NameValuePair"'s.

       <u>Usage</u>

           $params = parse_params($octets);

       <u>Arguments</u>

       $octets
           A string of octets containing "FCGI_NameValuePair"'s.

       <u>Returns</u>

       $params
           A hash reference containing name-value pairs.

   <b>parse_record</b>
       Parses a "FCGI_Record".

       <u>Usage</u>

           ($type, $request_id, $content)
             = parse_record($octets);

           $record = parse_record($octets);
           say $record-&gt;{type};
           say $record-&gt;{request_id};

       <u>Arguments</u>

       $octets
           A string of octets containing at least one record.

       <u>Returns</u>

       In list context:

       $type
           An unsigned 8-bit integer.

       $request_id
           An unsigned 16-bit integer.

       $content
           A string of octets containing the record content.

       In scalar context a hash reference containing the "FCGI_Record" components.  See "parse_record_body".

   <b>parse_record_body</b>
       Parses a "FCGI_Record".

       <u>Usage</u>

           $record = parse_record_body($type, $request_id, $content);
           say $record-&gt;{type};
           say $record-&gt;{request_id};

       <u>Arguments</u>

       $type
           An unsigned 8-bit integer.

       $request_id
           An unsigned 16-bit integer.

       $content
           A string of octets containing the record content.

       <u>Returns</u>

       A hash reference which represents the "FCGI_Record". The content depends  on  the  type  of  record.  All
       record types have the keys: "type" and "request_id".

       "FCGI_BEGIN_REQUEST"
           "role"  An unsigned 16-bit integer.

           "flags" An unsigned 8-bit integer.

       "FCGI_END_REQUEST"
           "app_status"
                   An unsigned 32-bit integer.

           "protocol_status"
                   An unsigned 8-bit integer.

       "FCGI_PARAMS"
       "FCGI_STDIN"
       "FCGI_DATA"
       "FCGI_STDOUT"
       "FCGI_STDERR"
           "content"
                   A string of octets containing the content of the stream.

       "FCGI_GET_VALUES"
       "FCGI_GET_VALUES_RESULT"
           "values"
                   A hash reference containing name-value pairs.

       "FCGI_UNKNOWN_TYPE"
           "unknown_type"
                   An unsigned 8-bit integer.

   <b>parse_unknown_type_body</b>
       Parses a "FCGI_UnknownTypeBody".

       <u>Usage</u>

           $type = parse_unknown_type_body($octets);

       <u>Arguments</u>

       $octets
           $octets must be greater than or equal to 8 octets in length.

       <u>Returns</u>

       $type
           An unsigned 8-bit integer.

   <b>get_record_length</b>
       <u>Usage</u>

           $length = get_record_length($octets);

       <u>Arguments</u>

       $octets
           A string of octets containing at least one "FCGI_Header".

       <u>Returns</u>

       $length
           An  unsigned  integer  containing  the  length  of record in octets. If $octets contains insufficient
           octets "(&lt; FCGI_HEADER_LEN)" 0 is returned.

   <b>get_type_name</b>
       <u>Usage</u>

           $name = get_type_name($type);
           $name = get_type_name(FCGI_BEGIN_REQUEST);  # 'FCGI_BEGIN_REQUEST'
           $name = <a href="../man255/get_type_name.255.html">get_type_name</a>(255);                 # '0xFF'

       <u>Arguments</u>

       $type
           An unsigned 8-bit integer.

       <u>Returns</u>

       $name
           A string containing the name of the type. If $type is not a known v1.0 type, a hexadecimal  value  is
           returned.

       <u>Note</u>

       See also ":name" in Net::FastCGI::Constant.

   <b>get_role_name</b>
       <u>Usage</u>

           $name = get_role_name($type);
           $name = get_role_name(FCGI_RESPONDER);  # 'FCGI_RESPONDER'
           $name = <a href="../man65535/get_role_name.65535.html">get_role_name</a>(65535);           # '0xFFFF'

       <u>Arguments</u>

       $role
           An unsigned 16-bit integer.

       <u>Returns</u>

       $name
           A  string  containing the name of the role. If $role is not a known v1.0 role, a hexadecimal value is
           returned.

       <u>Note</u>

       See also ":name" in Net::FastCGI::Constant.

   <b>get_protocol_status_name</b>
       <u>Usage</u>

           $name = get_protocol_status_name($protocol_status);
           $name = get_protocol_status_name(FCGI_REQUEST_COMPLETE);    # 'FCGI_REQUEST_COMPLETE'
           $name = <a href="../man255/get_protocol_status_name.255.html">get_protocol_status_name</a>(255);                      # '0xFF'

       <u>Arguments</u>

       $protocol_status
           An unsigned 8-bit integer.

       <u>Returns</u>

       $name
           A string containing the name of the protocol status. If $protocol_status is not a known v1.0 protocol
           status code, a hexadecimal value is returned.

       <u>Note</u>

       See also ":name" in Net::FastCGI::Constant.

   <b>is_known_type</b>
       <u>Usage</u>

           $boolean = is_known_type($type);

       <u>Arguments</u>

       $type
           An unsigned 8-bit integer.

       <u>Returns</u>

       $boolean
           A boolean indicating whether or not $type is a known FastCGI v1.0 type.

   <b>is_management_type</b>
       <u>Usage</u>

           $boolean = is_management_type($type);

       <u>Arguments</u>

       $type
           An unsigned 8-bit integer.

       <u>Returns</u>

       $boolean
           A boolean indicating whether or not $type is a management type.

   <b>is_discrete_type</b>
       <u>Usage</u>

           $boolean = is_discrete_type($type);

       <u>Arguments</u>

       $type
           An unsigned 8-bit integer.

       <u>Returns</u>

       $boolean
           A boolean indicating whether or not $type is a discrete type.

   <b>is_stream_type</b>
       <u>Usage</u>

           $boolean = is_stream_type($type);

       <u>Arguments</u>

       $type
           An unsigned 8-bit integer.

       <u>Returns</u>

       $boolean
           A boolean indicating whether or not $type is a stream type.

</pre><h4><b>EXPORTS</b></h4><pre>
       None by default. All functions can be exported using the ":all" tag or individually.

</pre><h4><b>DIAGNOSTICS</b></h4><pre>
       <b>(F)</b> Usage: %s
           Subroutine called with wrong number of arguments.

       <b>(F)</b> Invalid Argument: %s
       <b>(F)</b> FastCGI: Insufficient number of octets to parse %s
       <b>(F)</b> FastCGI: Malformed record %s
       <b>(F)</b> FastCGI: Protocol version mismatch (0x%.2X)

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       FastCGI Specification Version 1.0
           &lt;<a href="http://www.fastcgi.com/devkit/doc/fcgi-spec.html">http://www.fastcgi.com/devkit/doc/fcgi-spec.html</a>&gt;

       The Common Gateway Interface (CGI) Version 1.1
           &lt;<a href="http://tools.ietf.org/html/rfc3875">http://tools.ietf.org/html/rfc3875</a>&gt;

       Net::FastCGI::Constant

</pre><h4><b>AUTHOR</b></h4><pre>
       Christian Hansen "<a href="mailto:chansen@cpan.org">chansen@cpan.org</a>"

</pre><h4><b>COPYRIGHT</b></h4><pre>
       Copyright 2008-2010 by Christian Hansen.

       This library is free software; you can redistribute it and/or modify it under  the  same  terms  as  Perl
       itself.

perl v5.36.0                                       2022-11-21                        <u>Net::FastCGI::<a href="../man3pm/Protocol.3pm.html">Protocol</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>