<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>passwdqc_params_reset, passwdqc_params_load, passwdqc_params_parse, passwdqc_params_free, passwdqc_check,</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libpasswdqc-dev">libpasswdqc-dev_2.0.3-2_amd64</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       passwdqc_params_reset, passwdqc_params_load, passwdqc_params_parse, passwdqc_params_free, passwdqc_check,
       passwdqc_random â€” password strength checking functions

</pre><h4><b>LIBRARY</b></h4><pre>
       Password strength checking library (libpasswdqc, -lpasswdqc)

</pre><h4><b>SYNOPSIS</b></h4><pre>
       <b>#include</b> <b>&lt;passwdqc.h&gt;</b>

       typedef struct {
               passwdqc_params_qc_t qc;
               passwdqc_params_pam_t pam;
       } passwdqc_params_t;

       <u>void</u>
       <b>passwdqc_params_reset</b>(<u>passwdqc_params_t</u> <u>*params</u>);

       <u>int</u>
       <b>passwdqc_params_load</b>(<u>passwdqc_params_t</u> <u>*params</u>, <u>char</u> <u>**reason</u>, <u>const</u> <u>char</u> <u>*pathname</u>);

       <u>int</u>
       <b>passwdqc_params_parse</b>(<u>passwdqc_params_t</u> <u>*params</u>, <u>char</u> <u>**reason</u>, <u>int</u> <u>argc</u>, <u>const</u> <u>char</u> <u>*const</u> <u>*argv</u>);

       <u>void</u>
       <b>passwdqc_params_free</b>(<u>passwdqc_params_t</u> <u>*params</u>);

       <u>const</u> <u>char</u> <u>*</u>
       <b>passwdqc_check</b>(<u>const</u> <u>passwdqc_params_qc_t</u> <u>*params</u>,        <u>const</u> <u>char</u> <u>*newpass</u>,       <u>const</u> <u>char</u> <u>*oldpass</u>,
           <u>const</u> <u>struct</u> <u>passwd</u> <u>*pw</u>);

       <u>char</u> <u>*</u>
       <b>passwdqc_random</b>(<u>const</u> <u>passwdqc_params_qc_t</u> <u>*params</u>);

</pre><h4><b>DESCRIPTION</b></h4><pre>
       The <b>passwdqc_params_reset</b>() function initializes the  passwdqc_params_t  structure  specified  by  <u>params</u>
       argument to compile-time defaults.

       The <b>passwdqc_params_load</b>() function fills in the passwdqc_params_t structure specified by <u>params</u> argument
       according  to  the  configuration  options  listed  in the file specified by <u>pathname</u> argument.  When the
       passwdqc_params_t structure is no longer needed, the memory allocated by this function should be released
       using <b>passwdqc_params_free</b>().

       The <b>passwdqc_params_parse</b>() function  fills  in  the  passwdqc_params_t  structure  specified  by  <u>params</u>
       argument  according  to  the  configuration  options  specified  by  <u>argc</u>  and  <u>argv</u> arguments.  When the
       passwdqc_params_t structure is no longer needed, the memory allocated by this function should be released
       using <b>passwdqc_params_free</b>().

       The  <b>passwdqc_params_free</b>()  function  frees  the  memory   allocated   by   <b>passwdqc_params_load</b>()   and
       <b>passwdqc_params_parse</b>()  functions  when  filling  in the passwdqc_params_t structure specified by <u>params</u>
       argument.

       The <b>passwdqc_check</b>() function checks  the  quality  of  the  passphrase  specified  by  <u>newpass</u>  argument
       according  to the configuration specified by <u>params</u> argument.  If an optional old passphrase is specified
       by <u>oldpass</u> argument, <u>newpass</u> is additionally checked against <u>oldpass</u>  for  similarity.   If  an  optional
       passwd  record  is  specified  by <u>pw</u> argument, <u>newpass</u> is additionally checked whether it is based on the
       personal login information in the passwd record.

       The <b>passwdqc_random</b>() function generates a random passphrase according to the configuration specified  by
       <u>params</u> argument.

</pre><h4><b>RETURN</b> <b>VALUES</b></h4><pre>
       The <b>passwdqc_params_reset</b>() and <b>passwdqc_params_free</b>() functions do not return a value.

       Upon  successful  completion  the  <b>passwdqc_params_load</b>() and <b>passwdqc_params_parse</b>() functions return 0.
       Otherwise, -1 is returned and a pointer to dynamically allocated memory containing the  error  string  is
       assigned to <u>*reason</u>.  This memory should be released using <a href="../man3/free.3.html">free</a>(3) when no longer needed.

       Upon  successful  completion  the <b>passwdqc_check</b>() function returns NULL.  Otherwise, a string describing
       the error is returned.  The returned string is statically allocated and valid for  the  lifetime  of  the
       program.

       Upon  successful  completion  the  <b>passwdqc_random</b>()  function  returns  a  dynamically  allocated string
       containing the generated passphrase.  Otherwise, NULL is returned.  The string should be  released  using
       <a href="../man3/free.3.html">free</a>(3) when no longer needed.

</pre><h4><b>FILES</b></h4><pre>
       <u>/etc/passwdqc.conf</u>  (not read unless this suggested file location is specified with the <u>pathname</u> argument
       or with <b>config</b>=<u>/etc/passwdqc.conf</u> configuration option).

</pre><h4><b>EXAMPLES</b></h4><pre>
       The following example shows how to use the libpasswdqc library with system configuration options to check
       a passphrase.

         #include &lt;passwdqc.h&gt;
         #include &lt;stdbool.h&gt;
         #include &lt;<a href="file:/usr/include/stdlib.h">stdlib.h</a>&gt;
         #include &lt;<a href="file:/usr/include/stdio.h">stdio.h</a>&gt;

         bool
         check(const char *newpass, const char *oldpass, const struct passwd *pw)
         {
           static const char config[] = "/etc/passwdqc.conf";
           char *parse_reason;
           const char *check_result = "";
           passwdqc_params_t params;
           passwdqc_params_reset(&amp;params);
           if (passwdqc_params_load(&amp;params, &amp;parse_reason, config)) {
             fprintf(stderr, "passwdqc_params_load: %s\n",
               parse_reason ? parse_reason : "Out of memory");
             free(parse_reason);
             goto out;
           }
           check_result = passwdqc_check(&amp;params.qc, newpass, oldpass, pw);
           if (check_result)
             fprintf(stderr, "passwdqc_check: %s\n", check_result);
         out:
           passwdqc_params_free(&amp;params);
           return !check_result;
         }

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <u><a href="../man5/passwdqc.conf.5.html">passwdqc.conf</a></u>(5), <u><a href="../man1/pwqcheck.1.html">pwqcheck</a></u>(1), <u><a href="../man1/pwqgen.1.html">pwqgen</a></u>(1), <u><a href="../man8/pam_passwdqc.8.html">pam_passwdqc</a></u>(8).

       https://www.openwall.com/passwdqc/

</pre><h4><b>HISTORY</b></h4><pre>
       The pam_passwdqc module was written for Openwall GNU/*/Linux by Solar Designer.  The libpasswdqc  library
       was  originally  written  for  ALT  GNU/*/Linux  by Dmitry V. Levin, reusing code from pam_passwdqc.  The
       <b>passwdqc_params_free</b>() function was added in version 2.0.0 by Solar Designer.

</pre><h4><b>AUTHORS</b></h4><pre>
       This manual page was written by Dmitry V. Levin.

Openwall Project                                 March 19, 2021                                   <u><a href="../man3/LIBPASSWDQC.3.html">LIBPASSWDQC</a></u>(3)
</pre>
 </div>
</div></section>
</div>
</body>
</html>