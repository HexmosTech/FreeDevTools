<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SMS::AQL - Perl extension to send SMS text messages via AQL's SMS service</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libsms-aql-perl">libsms-aql-perl_1.03-1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       SMS::AQL - Perl extension to send SMS text messages via AQL's SMS service

</pre><h4><b>SYNOPSIS</b></h4><pre>
         # create an instance of SMS::AQL, passing it your AQL username
         # and password (if you do not have a username and password,
         # register at www.aql.com first).

         $sms = new SMS::AQL({
           username =&gt; 'username',
           password =&gt; 'password'
         });

         # other parameters can be passed like so:
         $sms = new SMS::AQL({
           username =&gt; 'username',
           password =&gt; 'password',
           options =&gt; { sender =&gt; '+4471234567' }
         });

         # send an SMS:

         $sms-&gt;send_sms($to, $msg) || die;

         # called in list context, we can see what went wrong:
         my ($ok, $why) = $sms-&gt;send_sms($to, $msg);
         if (!$ok) {
             print "Failed, error was: $why\n";
         }

         # params for this send operation only can be supplied:
         $sms-&gt;send_sms($to, $msg, { sender =&gt; 'bob the builder' });

         # make a phone call and read out a message:
         my ($ok, $why) = $sms-&gt;voice_push($to, $msg);

</pre><h4><b>DESCRIPTION</b></h4><pre>
       SMS::AQL provides a nice object-oriented interface to send SMS text messages using the HTTP gateway
       provided by AQ Ltd (www.aql.com) in the UK.

       It supports concatenated text messages (over the 160-character limit of normal text messages, achieved by
       sending multiple messages with a header to indicate that they are part of one message (this is handset-
       dependent, but supported by all reasonably new mobiles).

</pre><h4><b>METHODS</b></h4><pre>
       new (constructor)
           You must create an instance of SMS::AQL, passing it the username and password of your AQL account:

             $sms = new SMS::AQL({ username =&gt; 'fred', password =&gt; 'bloggs' });

           You can pass extra parameters (such as the default sender number to use, or a proxy server) like so:

             $sms = new SMS::AQL({
               username =&gt; 'fred',
               password =&gt; 'bloggs',
               options  =&gt; {
                   sender =&gt; '+44123456789012',
                   proxy  =&gt; '<a href="http://user">http://user</a>:pass@host:port/',
               },
             });

       send_sms($to, $message [, \%params])
           Sends the message $message to the number $to, optionally using the parameters supplied as a hashref.

           If called in scalar context, returns 1 if the message was sent, 0 if it wasn't.

           If called in list context, returns a two-element list, the first element being 1 for success or 0 for
           fail, and the second being a message indicating why the message send operation failed.

           You must set a sender, either at new or for each send_sms call.

           Examples:

             if ($sms-&gt;send_sms('+44123456789012', $message)) {
                 print "Sent message successfully";
             }

             my ($ok, $msg) = $sms-&gt;send_sms($to, $msg);
             if (!$ok) {
                 print "Failed to send the message, error: $msg\n";
             }

       voice_push($to, $message [, \%params])
           Make  a  telephone  call  to  the  given phone number, using speech synthesis to read out the message
           supplied.

           $to and $message are the destination telephone number  and  the  message  to  read  out.   The  third
           optional  parameter  is  a hashref of options to modify the behaviour of this method - currently, the
           only option is:

           skipintro
               Skips the introductory message that AQL's system normally reads  out.  (If  you  use  this,  it's
               recommended  to add your own introduction to your message, for example "This is an automated call
               from ACME Inc...")

           If called in scalar context, returns 1 if the message was sent, 0 if it wasn't.

           If called in list context, returns a two-element list, the first element being 1 for success or 0 for
           fail, and the second being a message indicating why the operation failed.

           Note that, at the current time, this feature supports only UK telephone numbers.

       <b>credit()</b>
           Returns the current account credit. Returns undef if any errors occurred

       <b>last_status()</b>
           Returns the status of the last command: 1 = OK, 0 = ERROR.

       <b>last_error()</b>
           Returns the error message of the last failed command.

       <b>last_response()</b>
           Returns the raw response from the AQL gateway.

       <b>last_response_text()</b>
           Returns the last result code received from the AQL gateway in a readable format.

           Possible codes are:

           AQSMS-AUTHERROR
               The username and password supplied were incorrect

           AQSMS-NOCREDIT
               Out of credits (The account specified did not have sufficient credit)

           AQSMS-OK
               OK (The message was queued on our system successfully)

           AQSMS-NOMSG
               No message or no destination number were supplied

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       <a href="http://www.aql.com/">http://www.aql.com/</a>

</pre><h4><b>AUTHOR</b></h4><pre>
       David Precious, &lt;<a href="mailto:davidp@preshweb.co.uk">davidp@preshweb.co.uk</a>&gt;

       All bug reports, feature requests, patches etc welcome.

</pre><h4><b>COPYRIGHT</b> <b>AND</b> <b>LICENSE</b></h4><pre>
       Copyright (C) 2006-2008 by David Precious

       This library is free software; you can redistribute it and/or modify it under  the  same  terms  as  Perl
       itself, either Perl version 5.8.7 or, at your option, any later version of Perl 5 you may have available.

</pre><h4><b>THANKS</b></h4><pre>
        - to Adam Beaumount and the AQL team for their assistance
        - to Ton Voon at Altinity (<a href="http://www.altinity.com/">http://www.altinity.com/</a>) for contributing
          several improvements

perl v5.40.1                                       2025-04-12                                      <u>SMS::<a href="../man3pm/AQL.3pm.html">AQL</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>