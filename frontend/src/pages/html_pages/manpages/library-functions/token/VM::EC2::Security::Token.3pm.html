<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>VM::EC2::Security::Token - Temporary security token object</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libvm-ec2-perl">libvm-ec2-perl_1.28-5_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       VM::EC2::Security::Token - Temporary security token object

</pre><h4><b>SYNOPSIS</b></h4><pre>
        use VM::EC2;
        use VM::EC2::Security::Policy

        # under your account
        $ec2 = VM::EC2-&gt;new(...);  # as usual
        my $policy = VM::EC2::Security::Policy-&gt;new;
        $policy-&gt;allow('DescribeImages','RunInstances');
        my $token = $ec2-&gt;get_federation_token(-name     =&gt; 'TemporaryUser',
                                               -duration =&gt; 60*60*3, # 3 hrs, as seconds
                                               -policy   =&gt; $policy);
        print $token-&gt;sessionToken,"\n";
        print $token-&gt;accessKeyId,"\n";
        print $token-&gt;secretAccessKey,"\n";
        print $token-&gt;federatedUser,"\n";

        my $serialized = $token-&gt;credentials-&gt;serialize;

        # get the serialized token to the temporary user
        send_data_to_user_somehow($serialized);

        # under the temporary user's account
        my $serialized = get_data_somehow();

        # create a copy of the token from its serialized form
        my $token = VM::EC2::Security::Credentials-&gt;new_from_serialized($serialized);

        # open a new EC2 connection with this token. User will be
        # able to run all the methods specified in the policy.
        my $ec2   = VM::EC2-&gt;new(-security_token =&gt; $token);
        print $ec2-&gt;describe_images(-owner=&gt;'self');

        # convenience routine; will return a VM::EC2 object authorized
        # to use the current token
        my $ec2   = $token-&gt;new_ec2;
        print $ec2-&gt;describe_images(-owner=&gt;'self');

</pre><h4><b>DESCRIPTION</b></h4><pre>
       VM::EC2::Security::Token objects allow you to grant a user access to some or all of your EC2 resources
       for a limited period of time. The user does not have to have his own AWS account.

       Token objects are returned by calls to VM::EC2-&gt;<b>get_federation_token()</b> and <b>get_session_token()</b>. The
       former call is used to create a temporary user with privileges restricted to those listed in the
       accompanying policy (a VM::EC2::Security::Policy object). The latter call is used in conjunction with
       multi-factor authentication devices, such as smart cards. The tokens returned by <b>get_session_token()</b> are
       not associated with a user account nor a policy, and grant privileges to all EC2 actions and resources.
       Both federation and session tokens have an expiry time between a few seconds and 36 hours.

       A VM::EC2::Security::Credentials object contained within the token contains the temporary secret access
       key, access key ID, and a session token string that unlocks the access key. The credentials object can be
       serialized into a form suitable for sending to a user via a secure channel, such as SSL or S/MIME e-mail,
       and unserialized at the receiving end into a copy of the original credentials object.

       Either the token object, or its contained credentials object can be used passed to VM::EC2-&gt;<b>new()</b> via the
       <b>-security_token</b> parameter in order to gain access to EC2 resources.

</pre><h4><b>METHODS</b></h4><pre>
        credentials()     -- The VM::EC2::Security::Credentials object
                               that contains the session token, access key ID,
                               and secret key.

        federatedUser()  -- the VM::EC2::Security::FederatedUser object that
                               contains information about the temporary user
                               account.

        packedPolicySize() -- A percentage value indicating the size of the policy in
                                packed form relative to the maximum allowed size.
                                Policies in excess of 100% will be rejected by the
                                service.

        secret_access_key()-- Convenience method that calls the credentials object's
                               secret_access_key() method.

        access_key_id() --    Convenience method that calls the credentials object's
                               access_key_id() method.

        session_token() --    Convenience method that calls the credentials object's
                               session_token() method.

        new_ec2(@args)  --    Convenience method that returns a VM::EC2 object authorized
                               with the current token. You may pass any of the arguments
                               accepted by VM::EC2-&gt;new(), except that -access_key and
                               -secret_key will be ignored if present.

</pre><h4><b>STRING</b> <b>OVERLOADING</b></h4><pre>
       When used in a string context, this object will interpolate as the session token, and can be used for the
       -security_token parameter in VM::EC2-&gt;<b>new()</b>.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       VM::EC2 VM::EC2::Generic VM::EC2::Security::Credentials VM::EC2::Security::FederatedUser

</pre><h4><b>AUTHOR</b></h4><pre>
       Lincoln Stein &lt;<a href="mailto:lincoln.stein@gmail.com">lincoln.stein@gmail.com</a>&gt;.

       Copyright (c) 2011 Ontario Institute for Cancer Research

       This package and its accompanying libraries is free software; you can redistribute it and/or modify it
       under the terms of the GPL (either version 1, or at your option, any later version) or the Artistic
       License 2.0.  Refer to LICENSE for the full license text. In addition, please see DISCLAIMER.txt for
       disclaimers of warranty.

perl v5.38.2                                       2024-08-10                      <u>VM::EC2::Security::<a href="../man3pm/Token.3pm.html">Token</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>