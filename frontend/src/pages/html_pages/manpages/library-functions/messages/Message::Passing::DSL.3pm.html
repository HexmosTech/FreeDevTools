<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Message::Passing::DSL - An easy way to make chains of Message::Passing components.</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libmessage-passing-perl">libmessage-passing-perl_0.117-1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       Message::Passing::DSL - An easy way to make chains of Message::Passing components.

</pre><h4><b>SYNOPSIS</b></h4><pre>
           package mylogcollectorscript;
           use Moo;
           use MooX::Options;
           use Message::Passing::DSL;
           use MooX::Types::MooseLike::Base qw/ Str /;
           use namespace::clean -except =&gt; [qw( meta _options_data _options_config )];

           with 'Message::Passing::Role::Script';

           option socket_bind =&gt; (
               is =&gt; 'ro',
               isa =&gt; Str,
               default =&gt; sub { 'tcp://*:5558' },
           );

           sub build_chain {
               my $self = shift;
               message_chain {
                   output console =&gt; (
                       class =&gt; 'STDOUT',
                   );
                   input zmq =&gt; (
                       class =&gt; 'ZeroMQ',
                       output_to =&gt; 'console',
                       socket_bind =&gt; $self-&gt;socket_bind,
                   );
               };
           }

           __PACKAGE__-&gt;start unless caller;
           1;

</pre><h4><b>DESCRIPTION</b></h4><pre>
       This module provides a simple to use helper system for writing scripts which implement a Message::Passing
       server, like the built in message-pass script.

       Rather than having to pass instances of an output to each input in the "output_to" attribute, and full
       class names, you can use short names for component classes, and strings for the "output_to" attribute,
       the DSL resolves these and deals with instance construction for you.

       See example in the SYNOPSIS, and details for the exported sugar functions below.

   <b>FUNCTIONS</b>
       <u>message_chain</u>

       Constructs a message chain (i.e. a series of Message::Passing objects feeding into each other), warns
       about any unused parts of the chain, and returns an array ref to the heads of the chain (i.e. the input
       class(es)).

       Maintains a registry / factory for the log classes, which is used to allow the resolving of symbolic
       names in the output_to key to function.

       <u>output</u>

       Constructs a named output within a chain.

           message_chain {
               output foo =&gt; ( class =&gt; 'STDOUT' );
               ....
           };

       Class names will be assumed to prefixed with 'Message::Passing::Output::', unless you prefix the class
       with + e.g. "+My::Own::Output::Class"

       <u>encoder</u>

       Constructs a named encoder within a chain.

           message_chain {
               encoder fooenc =&gt; ( output_to =&gt; 'out', class =&gt; 'JSON' );
               ....
           };

       Class names will be assumed to prefixed with 'Message::Passing::Filter::Encoder::', unless you prefix the
       class with + e.g. "+My::Own::Encoder::Class"

       <u>filter</u>

       Constructs a named filter (which can act as both an output and an input) within a chain.

           message_chain {
               ...
               filter bar =&gt; ( output_to =&gt; 'fooenc', class =&gt; 'Null' );
               ...
           };

       Class names will be assumed to prefixed with 'Message::Passing::Filter::', unless you prefix the class
       with + e.g. "+My::Own::Filter::Class"

       <u>decoder</u>

       Constructs a named decoder within a chain.

           message_chain {
               decoder zmq_decode =&gt; ( output_to =&gt; 'filter', class =&gt; 'JSON' );
               ....
           };

       Class names will be assumed to prefixed with 'Message::Passing::Filter::Decoder::', unless you prefix the
       class with + e.g. "+My::Own::Encoder::Class"

       <u>input</u>

       The last thing in a chain - produces data which gets consumed.

           message_chain {
               ...
               input zmq =&gt; ( output_to =&gt; 'zmq_decode', class =&gt; 'ZeroMQ', bind =&gt; '...' );
               ....
           }

       Class names will be assumed to prefixed with 'Message::Passing::Output::', unless you prefix the class
       with + e.g. "+My::Own::Output::Class"

       <u>error_log</u>

       Setup the error logging output. Takes the same arguments as an "input xxx =&gt; ()" block, except without a
       name.

       <u>run_message_server</u>

       This enters the event loop and causes log events to be consumed and processed.

       Can be passed a message_chain to run, although this is entirely optional (as all chains which are still
       in scope will run when the event loop is entered).

</pre><h4><b>SPONSORSHIP</b></h4><pre>
       This module exists due to the wonderful people at Suretec Systems Ltd.  &lt;<a href="http://www.suretecsystems.com/">http://www.suretecsystems.com/</a>&gt;
       who sponsored its development for its VoIP division called SureVoIP &lt;<a href="http://www.surevoip.co.uk/">http://www.surevoip.co.uk/</a>&gt; for use
       with the SureVoIP API - &lt;<a href="http://www.surevoip.co.uk/support/wiki/api_documentation">http://www.surevoip.co.uk/support/wiki/api_documentation</a>&gt;

</pre><h4><b>AUTHOR,</b> <b>COPYRIGHT</b> <b>AND</b> <b>LICENSE</b></h4><pre>
       See Message::Passing.

perl v5.32.1                                       2021-11-09                         <u>Message::Passing::<a href="../man3pm/DSL.3pm.html">DSL</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>