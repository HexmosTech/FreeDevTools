<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>"Net::Async::IRC::Protocol" - send and receive IRC messages</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libnet-async-irc-perl">libnet-async-irc-perl_0.12-1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       "Net::Async::IRC::Protocol" - send and receive IRC messages

</pre><h4><b>DESCRIPTION</b></h4><pre>
       This subclass of IO::Async::Stream implements an established IRC connection that has already completed
       its inital login sequence and is ready to send and receive IRC messages. It handles base message sending
       and receiving, and implements ping timers. This class provides most of the functionality required for
       sending and receiving IRC commands and responses by mixing in from Protocol::IRC.

       Objects of this type would not normally be constructed directly. For IRC clients, see Net::Async::IRC
       which is a subclass of it. All the events, parameters, and methods documented below are relevant there.

</pre><h4><b>EVENTS</b></h4><pre>
       The following events are invoked, either using subclass methods or "CODE" references in parameters:

   <b>$handled</b> <b>=</b> <b>on_message</b>
   <b>$handled</b> <b>=</b> <b>on_message_MESSAGE</b>
       Invoked on receipt of a valid IRC message. See "MESSAGE HANDLING" below.

   <b>on_irc_error</b> <b>$err</b>
       Invoked on receipt of an invalid IRC message if parsing fails. $err is the error message text. If left
       unhandled, any parse error will result in the connection being immediataely closed, followed by the
       exception being re-thrown.

   <b>on_ping_timeout</b>
       Invoked if the peer fails to respond to a "PING" message within the given timeout.

   <b>on_pong_reply</b> <b>$lag</b>
       Invoked when the peer successfully sends a "PONG" reply response to a "PING" message. $lag is the
       response time in (fractional) seconds.

</pre><h4><b>PARAMETERS</b></h4><pre>
       The following named parameters may be passed to "new" or "configure":

       on_message =&gt; CODE
       on_message_MESSAGE =&gt; CODE
       on_irc_error =&gt; CODE
       on_ping_timeout =&gt; CODE
       on_pong_reply =&gt; CODE
               "CODE" references for event handlers.

       pingtime =&gt; NUM
               Amount  of quiet time, in seconds, after a message is received from the peer, until a "PING" will
               be sent to check it is still alive.

       pongtime =&gt; NUM
               Timeout, in seconds, after sending a "PING" message, to wait for a "PONG" response.

       encoding =&gt; STRING
               If supplied, sets an encoding to use to encode outgoing messages and decode incoming messages.

</pre><h4><b>CONSTRUCTOR</b></h4><pre>
   <b>new</b>
          $irc = Net::Async::IRC::Protocol-&gt;new( %args );

       Returns a new instance of a "Net::Async::IRC::Protocol" object. This object represents a  IRC  connection
       to a peer.

</pre><h4><b>METHODS</b></h4><pre>
   <b>is_connected</b>
          $connect = $irc-&gt;is_connected;

       Returns  true  if  a connection to the peer is established. Note that even after a successful connection,
       the connection may not yet logged in to. See also the "is_loggedin" method.

   <b>is_loggedin</b>
          $loggedin = $irc-&gt;is_loggedin;

       Returns true if the full login sequence has been performed on the connection and it is ready to use.

   <b>nick</b>
          $nick = $irc-&gt;nick;

       Returns the current nick in use by the connection.

   <b>nick_folded</b>
          $nick_folded = $irc-&gt;nick_folded;

       Returns the current nick in use by the connection, folded by "casefold_name" for convenience.

</pre><h4><b>MESSAGE</b> <b>HANDLING</b></h4><pre>
       Every incoming message causes a sequence of message handling to occur. First, the message is parsed,  and
       a  hash  of  data  about it is created; this is called the hints hash. The message and this hash are then
       passed down a sequence of potential handlers.

       Each handler indicates by return value, whether it considers the message to have been handled. Processing
       of the message is not interrupted the first time a handler declares to have handled a  message.  Instead,
       the  hints hash is marked to say it has been handled. Later handlers can still inspect the message or its
       hints, using this information to decide if they wish to take further action.

       A message with a command of "COMMAND" will try handlers in following places:

       1.  A CODE ref in a parameter called "on_message_COMMAND"

              $on_message_COMMAND-&gt;( $irc, $message, \%hints )

       2.  A method called "on_message_COMMAND"

              $irc-&gt;on_message_COMMAND( $message, \%hints )

       3.  A CODE ref in a parameter called "on_message"

              $on_message-&gt;( $irc, 'COMMAND', $message, \%hints )

       4.  A method called "on_message"

              $irc-&gt;on_message( 'COMMAND', $message, \%hints )

       As this message handling ability is provided by "Protocol::IRC", more details about how it works and  how
       to use it can be found at "MESSAGE HANDLING" in Protocol::IRC.

       Additionally,  some types of messages receive further processing by "Protocol::IRC" and in turn cause new
       types of events  to  be  invoked.  These  are  further  documented  by  "INTERNAL  MESSAGE  HANDLING"  in
       Protocol::IRC.

</pre><h4><b>AUTHOR</b></h4><pre>
       Paul Evans &lt;<a href="mailto:leonerd@leonerd.org.uk">leonerd@leonerd.org.uk</a>&gt;

perl v5.32.1                                       2021-12-29                     <u>Net::Async::IRC::<a href="../man3pm/Protocol.3pm.html">Protocol</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>