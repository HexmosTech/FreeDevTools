<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mail::Message::Head - the header of one message</title>
    <style>
        body { font-family: monospace; margin: 20px; line-height: 1.4; }
        a { color: #0066cc; }
        pre { white-space: pre-wrap; }
    </style>
</head>
<body>
    <div id="main-content">
<section class="p-strip is-bordered">
<div class="row">
<div class="col-3 u-hide--small u-hide" id="toc">
</div>
<div id="tableWrapper">
<p id="distroAndSection"></p>

Provided by: <a href="https://launchpad.net/ubuntu/questing/+package/libmail-message-perl">libmail-message-perl_3.017-1_all</a> <br><br><pre>
</pre><h4><b>NAME</b></h4><pre>
       Mail::Message::Head - the header of one message

</pre><h4><b>INHERITANCE</b></h4><pre>
        Mail::Message::Head
          is a Mail::Reporter

        Mail::Message::Head is extended by
          Mail::Message::Head::Complete
          Mail::Message::Head::Delayed
          Mail::Message::Head::Subset

</pre><h4><b>SYNOPSIS</b></h4><pre>
        my $head = Mail::Message::Head-&gt;new;
        $head-&gt;add('From: me@localhost');
        $head-&gt;add(From =&gt; 'me@localhost');
        $head-&gt;add(Mail::Message::Field-&gt;new(From =&gt; 'me'));
        my $subject = $head-&gt;get('subject');
        my @rec = $head-&gt;get('received');
        $head-&gt;delete('From');

</pre><h4><b>DESCRIPTION</b></h4><pre>
       "Mail::Message::Head" MIME headers are part of Mail::Message messages, which are grouped in Mail::Box
       folders.

       A long list of standard MIME header fields with definitions can be found in RFC4021
       (<u>https://www.rfc-editor.org/rfc/rfc4021.html</u>) and its updates RFC5322 and RFC6854.

       <b>ATTENTION!!!</b> most functionality about e-mail headers is described in Mail::Message::Head::Complete, which
       is a matured header object.  Other kinds of headers will be translated to that type when time comes.

       On this page, the general methods which are available on any header are described.  Read about
       differences in the sub-class specific pages.

       Extends "DESCRIPTION" in Mail::Reporter.

</pre><h4><b>OVERLOADED</b></h4><pre>
       overload: <b>""</b>
           (stringifaction)     The     header,     when     used    as    string,    will    format    as    if
           <b>Mail::Message::Head::Complete::string()</b> was called, so  return  a  nicely  folder  full  header.   An
           exception  is  made  for  Carp,  which will get a simplified string to avoid unreadible messages from
           "croak" and "confess".

           example: using a header object as string

            print $head;     # implicit stringification by print
            $head-&gt;print;    # the same

            print "$head";   # explicit stringication

       overload: <b>bool</b>
           When the header does not contain any lines (which is  illegal,  according  to  the  RFCs),  false  is
           returned.  In all other cases, a true value is produced.

</pre><h4><b>METHODS</b></h4><pre>
       Extends "METHODS" in Mail::Reporter.

   <b>Constructors</b>
       Extends "Constructors" in Mail::Reporter.

       Mail::Message::Head-&gt;<b>build</b>( [PAIR|$field]-LIST )
           A  fast  way  to  construct  a  header with many lines.  The PAIRs are "(name, content)" pairs of the
           header,   but   it    is    also    possible    to    pass    Mail::Message::Field    objects.      A
           Mail::Message::Head::Complete       header       is       created       by       simply       calling
           <b>Mail::Message::Head::Complete::build()</b>, and then  each  field  is  added.   Double  field  names  are
           permitted.

           example:

            my $subject = Mail::Message::Field-&gt;new(Subject =&gt; 'xyz');

            my $head = Mail::Message::Head-&gt;build
             ( From     =&gt; '<a href="mailto:me@example.com">me@example.com</a>'
             , To       =&gt; '<a href="mailto:you@anywhere.aq">you@anywhere.aq</a>'
             , $subject
             , Received =&gt; 'one'
             , Received =&gt; 'two'
             );

            print ref $head;
             # --&gt;  Mail::Message::Head::Complete

       Mail::Message::Head-&gt;<b>new</b>(%options)
           Create  a new message header object.  The object will store all the fields of a header.  When you get
           information from the header, it will be returned to you as Mail::Message::Field objects, although the
           fields may be stored differently internally.

           If  you  try  to  instantiate  a  Mail::Message::Head,  you  will  automatically  be  upgraded  to  a
           Mail::Message::Head::Complete --a full head.

            -Option    --Defined in     --Default
             field_type                   Mail::Message::Field::Fast
             log         Mail::Reporter   'WARNINGS'
             message                      undef
             modified                     &lt;false&gt;
             trace       Mail::Reporter   'WARNINGS'

           field_type =&gt; CLASS
             The   type   of   objects   that  all  the  fields  will  have.   This  must  be  an  extension  of
             Mail::Message::Field.

           log =&gt; LEVEL
           message =&gt; MESSAGE
             The MESSAGE where this header belongs to.  Usually, this is not known at creation  of  the  header,
             but sometimes it is.  If not, call the <b>message()</b> method later to set it.

           modified =&gt; BOOLEAN
           trace =&gt; LEVEL

   <b>The</b> <b>header</b>
       $obj-&gt;<b>isDelayed</b>()
           Headers  may only be partially read, in which case they are called delayed.  This method returns true
           if some header information still needs to be read. Returns false if all header data  has  been  read.
           Will never trigger completion.

       $obj-&gt;<b>isEmpty</b>()
           Are there any fields defined in the current header?  Be warned that the header will not be loaded for
           this: delayed headers will return true in any case.

       $obj-&gt;<b>isModified</b>()
           Returns whether the header has been modified after being read.

           example:

            if($head-&gt;isModified) { ... }

       $obj-&gt;<b>knownNames</b>()
           Like  <b>Mail::Message::Head::Complete::names()</b>,  but only returns the known header fields, which may be
           less than "names" for header types  which  are  partial.   names()  will  trigger  completion,  where
           knownNames() does not.

       $obj-&gt;<b>message</b>( [$message] )
           Get (after setting) the message where this header belongs to.  This does not trigger completion.

       $obj-&gt;<b>modified</b>( [BOOLEAN] )
           Sets  the modified flag to BOOLEAN.  Without value, the current setting is returned, but in that case
           you can better use <b>isModified()</b>.  Changing this flag will not trigger header completion.

           example:

            $head-&gt;<a href="../man1/modified.1.html">modified</a>(1);
            if($head-&gt;modified) { ... }
            if($head-&gt;isModified) { ... }

       $obj-&gt;<b>orderedFields</b>()
           Returns the fields ordered the way they were read or added.

   <b>Access</b> <b>to</b> <b>the</b> <b>header</b>
       $obj-&gt;<b>get</b>( $name, [$index] )
           Get the data which is related to the field with the $name.  The case of the characters in $name  does
           not matter.

           If  there  is  only one data element defined for the $name, or if there is an $index specified as the
           second argument, only the specified element will be returned. If the field $name  matches  more  than
           one  header  the return value depends on the context. In LIST context, all values will be returned in
           the order they are read. In SCALAR context, only the last value will be returned.

           example:

            my $head = Mail::Message::Head-&gt;new;
            $head-&gt;add('Received: abc');
            $head-&gt;add('Received: xyz');
            $head-&gt;add('Subject: greetings');

            my @rec_list   = $head-&gt;get('Received');
            my $rec_scalar = $head-&gt;get('Received');
            print ",@rec_list,$rec_scalar,"     # ,abc xyz, xyz,
            print $head-&gt;get('Received', 0);    # abc
            my @sub_list   = $head-&gt;get('Subject');
            my $sub_scalar = $head-&gt;get('Subject');
            print ",@sub_list,$sub_scalar,"     # ,greetings, greetings,

       $obj-&gt;<b>study</b>( $name, [$index] )
           Like   <b>get()</b>,   but   puts   more   effort   in   understanding   the   contents   of   the    field.
           <b>Mail::Message::Field::study()</b>  will  be  called  for  the  field  with the specified FIELDNAME, which
           returns Mail::Message::Field::Full objects. In scalar context only the last field with that  name  is
           returned.  When an $index is specified, that element is returned.

   <b>About</b> <b>the</b> <b>body</b>
       $obj-&gt;<b>guessBodySize</b>()
           Try  to  estimate  the size of the body of this message, but without parsing the header or body.  The
           result might be "undef" or a few percent of the real size.  It may even  be  very  far  of  the  real
           value, that's why this is a guess.

       $obj-&gt;<b>isMultipart</b>()
           Returns  whether  the  body of the related message is a multipart body.  May trigger completion, when
           the "Content-Type" field is not defined.

   <b>Internals</b>
       $obj-&gt;<b>addNoRealize</b>($field)
           Add a field, like <b>Mail::Message::Head::Complete::add()</b> does, but avoid  the  loading  of  a  possibly
           partial  header.   This  method  does  not  test the validity of the argument, nor flag the header as
           changed.  This does not trigger completion.

       $obj-&gt;<b>addOrderedFields</b>($fields)
       $obj-&gt;<b>fileLocation</b>()
           Returns the location of the header in the file, as a pair begin and end.  The begin is the first byte
           of the header.  The end is the first byte after the header.

       $obj-&gt;<b>load</b>()
           Be sure that the header is loaded.  This returns the loaded header object.

       $obj-&gt;<b>moveLocation</b>($distance)
           Move the registration of the header in the file.

       $obj-&gt;<b>read</b>($parser)
           Read the header information of one message into this header structure.  This method is called by  the
           folder object (some Mail::Box sub-class), which passes the $parser as an argument.

       $obj-&gt;<b>setNoRealize</b>($field)
           Set  a field, but avoid the loading of a possibly partial header as <b>set()</b> does.  This method does not
           test the validity of the argument, nor flag the header as changed.  This does not trigger completion.

   <b>Error</b> <b>handling</b>
       Extends "Error handling" in Mail::Reporter.

       $obj-&gt;<b>AUTOLOAD</b>()
           Inherited, see "Error handling" in Mail::Reporter

       $obj-&gt;<b>addReport</b>($object)
           Inherited, see "Error handling" in Mail::Reporter

       $obj-&gt;<b>defaultTrace</b>( [$level]|[$loglevel, $tracelevel]|[$level, $callback] )
       Mail::Message::Head-&gt;<b>defaultTrace</b>( [$level]|[$loglevel, $tracelevel]|[$level, $callback] )
           Inherited, see "Error handling" in Mail::Reporter

       $obj-&gt;<b>errors</b>()
           Inherited, see "Error handling" in Mail::Reporter

       $obj-&gt;<b>log</b>( [$level, [$strings]] )
       Mail::Message::Head-&gt;<b>log</b>( [$level, [$strings]] )
           Inherited, see "Error handling" in Mail::Reporter

       $obj-&gt;<b>logPriority</b>($level)
       Mail::Message::Head-&gt;<b>logPriority</b>($level)
           Inherited, see "Error handling" in Mail::Reporter

       $obj-&gt;<b>logSettings</b>()
           Inherited, see "Error handling" in Mail::Reporter

       $obj-&gt;<b>notImplemented</b>()
           Inherited, see "Error handling" in Mail::Reporter

       $obj-&gt;<b>report</b>( [$level] )
           Inherited, see "Error handling" in Mail::Reporter

       $obj-&gt;<b>reportAll</b>( [$level] )
           Inherited, see "Error handling" in Mail::Reporter

       $obj-&gt;<b>trace</b>( [$level] )
           Inherited, see "Error handling" in Mail::Reporter

       $obj-&gt;<b>warnings</b>()
           Inherited, see "Error handling" in Mail::Reporter

   <b>Cleanup</b>
       Extends "Cleanup" in Mail::Reporter.

       $obj-&gt;<b>DESTROY</b>()
           Inherited, see "Cleanup" in Mail::Reporter

</pre><h4><b>DETAILS</b></h4><pre>
   <b>Ordered</b> <b>header</b> <b>fields</b>
       Many Perl implementations make a big mistake by disturbing the order of header fields.  For  some  fields
       (especially the <u>resent</u> <u>groups</u>, see Mail::Message::Head::ResentGroup) the order shall be maintained.

       MailBox  will  keep the order of the fields as they were found in the source.  When your add a new field,
       it will be added at the end.  If your replace a field with a new value, it  will  stay  in  the  original
       order.

   <b>Head</b> <b>class</b> <b>implementation</b>
       The  header  of  a  MIME  message  object  contains  a  set of lines, which are called <u>fields</u> (by default
       represented by Mail::Message::Field objects).  Dependent on the situation, the knowledge about the fields
       can be in one of three situations, each represented by a sub-class of this module:

       •   Mail::Message::Head::Complete

           In this case, it is sure  that  all  knowledge  about  the  header  is  available.   When  you  <b>get()</b>
           information from the header and it is not there, it will never be there.

       •   Mail::Message::Head::Subset

           There  is  no  certainty  whether  all  header lines are known (probably not).  This may be caused as
           result of  reading  a  fast  index  file,  as  described  in  Mail::Box::MH::Index.   The  object  is
           automatically transformed into a Mail::Message::Head::Complete when all header lines must be known.

       •   Mail::Message::Head::Partial

           A  partial header is like a subset header: probably the header is incomplete.  The means that you are
           not sure whether a <b>get()</b> for a field fails because the field is not a part of the message or that  it
           fails  because  it  is  not yet known to the program.  Where the subset header knows where to get the
           other fields, the partial header does not know it.  It cannot hide its imperfection.

       •   Mail::Message::Head::Delayed

           In this case, there is no single field known.  Access to this header will always trigger the  loading
           of the full header.

   <b>Subsets</b> <b>of</b> <b>header</b> <b>fields</b>
       Message  headers  can be quite large, and therefore MailBox provides simplified access to some subsets of
       information.  You can grab these sets of fields together, create and delete them as group.

       On the moment, the following sets are defined:

       •   Mail::Message::Head::ResentGroup

           A <u>resent</u> <u>group</u> is a set of fields which is used to log one step in the transmission  of  the  message
           from the original sender to the destination.

           Each  step  adds  a set of headers to indicate when the message was received and how it was forwarded
           (without modification).  These fields are best created using <b>Mail::Message::bounce()</b>.

       •   Mail::Message::Head::ListGroup

           Fields which are used to administer and log mailing list activity.  Mailing list software has to play
           trics with the original message to be able to get the reply on that message back to the mailing list.
           Usually a large number of lines are added.

       •   Mail::Message::Head::SpamGroup

           A set of fields which contains header fields which are produced by spam detection software.  You  may
           want to remove these fields when you store a message for a longer period of time.

</pre><h4><b>DIAGNOSTICS</b></h4><pre>
       Error: Package $package does not implement $method.
           Fatal  error:  the specific package (or one of its superclasses) does not implement this method where
           it should. This message means that some other related classes do implement this  method  however  the
           class  at  hand does not.  Probably you should investigate this and probably inform the author of the
           package.

</pre><h4><b>SEE</b> <b>ALSO</b></h4><pre>
       This module is part of Mail-Message distribution  version  3.017,  built  on  April  18,  2025.  Website:
       <u><a href="http://perl.overmeer.net/CPAN/">http://perl.overmeer.net/CPAN/</a></u>

</pre><h4><b>LICENSE</b></h4><pre>
       Copyrights 2001-2025 by [Mark Overmeer &lt;<a href="mailto:markov@cpan.org">markov@cpan.org</a>&gt;]. For other contributors see ChangeLog.

       This  program  is  free  software;  you can redistribute it and/or modify it under the same terms as Perl
       itself.  See <u><a href="http://dev.perl.org/licenses/">http://dev.perl.org/licenses/</a></u>

perl v5.40.1                                       2025-04-25                           <u>Mail::Message::<a href="../man3pm/Head.3pm.html">Head</a></u>(3pm)
</pre>
 </div>
</div></section>
</div>
</body>
</html>